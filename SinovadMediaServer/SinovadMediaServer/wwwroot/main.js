(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6304:(jn,nt,S)=>{"use strict";S.d(nt,{Dh:()=>D,GT:()=>F,cc:()=>U,hO:()=>M,on:()=>f,pX:()=>E,xv:()=>p});var c=S(5879),t=S(7142),b=S(8186);jn=S.hmd(jn);const w=["ngOnDestroy"],E=(P,x,O,T={})=>new Proxy(P,{get:(N,C)=>O.runOutsideAngular(()=>{var B;if(P[C])return!(null===(B=T?.spy)||void 0===B)&&B.get&&T.spy.get(C,P[C]),P[C];if(w.indexOf(C)>-1)return()=>{};const Y=x.toPromise().then(J=>{const ce=J&&J[C];return"function"==typeof ce?ce.bind(J):ce&&ce.then?ce.then(Fe=>O.run(()=>Fe)):O.run(()=>ce)});return new Proxy(()=>{},{get:(J,ce)=>Y[ce],apply:(J,ce,Fe)=>Y.then(q=>{var le;const K=q&&q(...Fe);return!(null===(le=T?.spy)||void 0===le)&&le.apply&&T.spy.apply(C,Fe,K),K})})})}),F=(P,x)=>{x.forEach(O=>{Object.getOwnPropertyNames(O.prototype||O).forEach(T=>{Object.defineProperty(P.prototype,T,Object.getOwnPropertyDescriptor(O.prototype||O,T))})})};class L{constructor(x){return x}}const D=new c.OlP("angularfire2.app.options"),p=new c.OlP("angularfire2.app.name");function f(P,x,O){const N="object"==typeof O&&O||{};N.name=N.name||"string"==typeof O&&O||"[DEFAULT]";const B=t.Z.apps.filter(Y=>Y&&Y.name===N.name)[0]||x.runOutsideAngular(()=>t.Z.initializeApp(P,N));try{JSON.stringify(P)!==JSON.stringify(B.options)&&g("error",`${B.name} Firebase App already initialized with different options${jn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new L(B)}const g=(P,...x)=>{(0,c.X6Q)()&&typeof console<"u"&&console[P](...x)},y={provide:L,useFactory:f,deps:[D,c.R0b,[new c.FiY,p]]};let M=(()=>{class P{constructor(O){t.Z.registerVersion("angularfire",b.q4.full,"core"),t.Z.registerVersion("angularfire",b.q4.full,"app-compat"),t.Z.registerVersion("angular",c.q4F.full,O.toString())}static initializeApp(O,T){return{ngModule:P,providers:[{provide:D,useValue:O},{provide:p,useValue:T}]}}}return P.\u0275fac=function(O){return new(O||P)(c.LFG(c.Lbi))},P.\u0275mod=c.oAB({type:P}),P.\u0275inj=c.cJS({providers:[y]}),P})();function U(P,x,O,T,N){const[,C,B]=globalThis.\u0275AngularfireInstanceCache.find(Y=>Y[0]===P)||[];if(C)return function R(P,x){try{return P.toString()===x.toString()}catch{return P===x}}(N,B)||(k("error",`${x} was already initialized on the ${O} Firebase App with different settings.${V?" You may need to reload as Firebase is not HMR aware.":""}`),k("warn",{is:N,was:B})),C;{const Y=T();return globalThis.\u0275AngularfireInstanceCache.push([P,Y,N]),Y}}const V=!!jn.hot,k=(P,...x)=>{(0,c.X6Q)()&&typeof console<"u"&&console[P](...x)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(jn,nt,S)=>{"use strict";S.d(nt,{q4:()=>uc,iC:()=>Kl,HU:()=>Gl,vb:()=>hc,JM:()=>hl});var c=S(5879),t=S(3182),b=S(5861),w=S(534),E=S(9058),F=S(4537),L=S(7879);const D=(Ae,qe)=>qe.some(St=>Ae instanceof St);let p,f;const M=new WeakMap,U=new WeakMap,R=new WeakMap,V=new WeakMap,k=new WeakMap;let O={get(Ae,qe,St){if(Ae instanceof IDBTransaction){if("done"===qe)return U.get(Ae);if("objectStoreNames"===qe)return Ae.objectStoreNames||R.get(Ae);if("store"===qe)return St.objectStoreNames[1]?void 0:St.objectStore(St.objectStoreNames[0])}return B(Ae[qe])},set:(Ae,qe,St)=>(Ae[qe]=St,!0),has:(Ae,qe)=>Ae instanceof IDBTransaction&&("done"===qe||"store"===qe)||qe in Ae};function C(Ae){return"function"==typeof Ae?function N(Ae){return Ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function y(){return f||(f=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ae)?function(...qe){return Ae.apply(Y(this),qe),B(M.get(this))}:function(...qe){return B(Ae.apply(Y(this),qe))}:function(qe,...St){const Vt=Ae.call(Y(this),qe,...St);return R.set(Vt,qe.sort?qe.sort():[qe]),B(Vt)}}(Ae):(Ae instanceof IDBTransaction&&function x(Ae){if(U.has(Ae))return;const qe=new Promise((St,Vt)=>{const ln=()=>{Ae.removeEventListener("complete",yn),Ae.removeEventListener("error",Bn),Ae.removeEventListener("abort",Bn)},yn=()=>{St(),ln()},Bn=()=>{Vt(Ae.error||new DOMException("AbortError","AbortError")),ln()};Ae.addEventListener("complete",yn),Ae.addEventListener("error",Bn),Ae.addEventListener("abort",Bn)});U.set(Ae,qe)}(Ae),D(Ae,function g(){return p||(p=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ae,O):Ae)}function B(Ae){if(Ae instanceof IDBRequest)return function P(Ae){const qe=new Promise((St,Vt)=>{const ln=()=>{Ae.removeEventListener("success",yn),Ae.removeEventListener("error",Bn)},yn=()=>{St(B(Ae.result)),ln()},Bn=()=>{Vt(Ae.error),ln()};Ae.addEventListener("success",yn),Ae.addEventListener("error",Bn)});return qe.then(St=>{St instanceof IDBCursor&&M.set(St,Ae)}).catch(()=>{}),k.set(qe,Ae),qe}(Ae);if(V.has(Ae))return V.get(Ae);const qe=C(Ae);return qe!==Ae&&(V.set(Ae,qe),k.set(qe,Ae)),qe}const Y=Ae=>k.get(Ae),Fe=["get","getKey","getAll","getAllKeys","count"],q=["put","add","delete","clear"],le=new Map;function K(Ae,qe){if(!(Ae instanceof IDBDatabase)||qe in Ae||"string"!=typeof qe)return;if(le.get(qe))return le.get(qe);const St=qe.replace(/FromIndex$/,""),Vt=qe!==St,ln=q.includes(St);if(!(St in(Vt?IDBIndex:IDBObjectStore).prototype)||!ln&&!Fe.includes(St))return;const yn=function(){var Bn=(0,b.Z)(function*(hi,...di){const Si=this.transaction(hi,ln?"readwrite":"readonly");let Hi=Si.store;return Vt&&(Hi=Hi.index(di.shift())),(yield Promise.all([Hi[St](...di),ln&&Si.done]))[0]});return function(di){return Bn.apply(this,arguments)}}();return le.set(qe,yn),yn}!function T(Ae){O=Ae(O)}(Ae=>({...Ae,get:(qe,St,Vt)=>K(qe,St)||Ae.get(qe,St,Vt),has:(qe,St)=>!!K(qe,St)||Ae.has(qe,St)}));const _e="@firebase/installations",se="0.6.4",me=1e4,De=`w:${se}`,Le="FIS_v2",he="https://firebaseinstallations.googleapis.com/v1",Re=36e5,ke=new E.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function we(Ae){return Ae instanceof E.ZR&&Ae.code.includes("request-failed")}function Ke({projectId:Ae}){return`${he}/projects/${Ae}/installations`}function st(Ae){return{token:Ae.token,requestStatus:2,expiresIn:Q(Ae.expiresIn),creationTime:Date.now()}}function Qe(Ae,qe){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,b.Z)(function*(Ae,qe){const Vt=(yield qe.json()).error;return ke.create("request-failed",{requestName:Ae,serverCode:Vt.code,serverMessage:Vt.message,serverStatus:Vt.status})})).apply(this,arguments)}function Se({apiKey:Ae}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Ae})}function ae(Ae){return ve.apply(this,arguments)}function ve(){return(ve=(0,b.Z)(function*(Ae){const qe=yield Ae();return qe.status>=500&&qe.status<600?Ae():qe})).apply(this,arguments)}function Q(Ae){return Number(Ae.replace("s","000"))}function ie(){return(ie=(0,b.Z)(function*({appConfig:Ae,heartbeatServiceProvider:qe},{fid:St}){const Vt=Ke(Ae),ln=Se(Ae),yn=qe.getImmediate({optional:!0});if(yn){const Si=yield yn.getHeartbeatsHeader();Si&&ln.append("x-firebase-client",Si)}const hi={method:"POST",headers:ln,body:JSON.stringify({fid:St,authVersion:Le,appId:Ae.appId,sdkVersion:De})},di=yield ae(()=>fetch(Vt,hi));if(di.ok){const Si=yield di.json();return{fid:Si.fid||St,registrationStatus:2,refreshToken:Si.refreshToken,authToken:st(Si.authToken)}}throw yield Qe("Create Installation",di)})).apply(this,arguments)}function re(Ae){return new Promise(qe=>{setTimeout(qe,Ae)})}const ee=/^[cdef][\w-]{21}$/,fe="";function ye(){try{const Ae=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Ae),Ae[0]=112+Ae[0]%16;const St=function ue(Ae){return function te(Ae){return btoa(String.fromCharCode(...Ae)).replace(/\+/g,"-").replace(/\//g,"_")}(Ae).substr(0,22)}(Ae);return ee.test(St)?St:fe}catch{return fe}}function Me(Ae){return`${Ae.appName}!${Ae.appId}`}const Ye=new Map;function Ge(Ae,qe){const St=Me(Ae);rt(St,qe),function _t(Ae,qe){const St=function At(){return!Bt&&"BroadcastChannel"in self&&(Bt=new BroadcastChannel("[Firebase] FID Change"),Bt.onmessage=Ae=>{rt(Ae.data.key,Ae.data.fid)}),Bt}();St&&St.postMessage({key:Ae,fid:qe}),function jt(){0===Ye.size&&Bt&&(Bt.close(),Bt=null)}()}(St,qe)}function rt(Ae,qe){const St=Ye.get(Ae);if(St)for(const Vt of St)Vt(qe)}let Bt=null;const Qt="firebase-installations-database",cn=1,dn="firebase-installations-store";let Gt=null;function Cn(){return Gt||(Gt=function J(Ae,qe,{blocked:St,upgrade:Vt,blocking:ln,terminated:yn}={}){const Bn=indexedDB.open(Ae,qe),hi=B(Bn);return Vt&&Bn.addEventListener("upgradeneeded",di=>{Vt(B(Bn.result),di.oldVersion,di.newVersion,B(Bn.transaction))}),St&&Bn.addEventListener("blocked",()=>St()),hi.then(di=>{yn&&di.addEventListener("close",()=>yn()),ln&&di.addEventListener("versionchange",()=>ln())}).catch(()=>{}),hi}(Qt,cn,{upgrade:(Ae,qe)=>{0===qe&&Ae.createObjectStore(dn)}})),Gt}function en(Ae,qe){return xt.apply(this,arguments)}function xt(){return(xt=(0,b.Z)(function*(Ae,qe){const St=Me(Ae),ln=(yield Cn()).transaction(dn,"readwrite"),yn=ln.objectStore(dn),Bn=yield yn.get(St);return yield yn.put(qe,St),yield ln.done,(!Bn||Bn.fid!==qe.fid)&&Ge(Ae,qe.fid),qe})).apply(this,arguments)}function ft(Ae){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,b.Z)(function*(Ae){const qe=Me(Ae),Vt=(yield Cn()).transaction(dn,"readwrite");yield Vt.objectStore(dn).delete(qe),yield Vt.done})).apply(this,arguments)}function xe(Ae,qe){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,b.Z)(function*(Ae,qe){const St=Me(Ae),ln=(yield Cn()).transaction(dn,"readwrite"),yn=ln.objectStore(dn),Bn=yield yn.get(St),hi=qe(Bn);return void 0===hi?yield yn.delete(St):yield yn.put(hi,St),yield ln.done,hi&&(!Bn||Bn.fid!==hi.fid)&&Ge(Ae,hi.fid),hi})).apply(this,arguments)}function We(Ae){return $e.apply(this,arguments)}function $e(){return $e=(0,b.Z)(function*(Ae){let qe;const St=yield xe(Ae.appConfig,Vt=>{const ln=function lt(Ae){return an(Ae||{fid:ye(),registrationStatus:0})}(Vt),yn=function ot(Ae,qe){if(0===qe.registrationStatus){if(!navigator.onLine)return{installationEntry:qe,registrationPromise:Promise.reject(ke.create("app-offline"))};const St={fid:qe.fid,registrationStatus:1,registrationTime:Date.now()},Vt=function dt(Ae,qe){return Lt.apply(this,arguments)}(Ae,St);return{installationEntry:St,registrationPromise:Vt}}return 1===qe.registrationStatus?{installationEntry:qe,registrationPromise:zt(Ae)}:{installationEntry:qe}}(Ae,ln);return qe=yn.registrationPromise,yn.installationEntry});return St.fid===fe?{installationEntry:yield qe}:{installationEntry:St,registrationPromise:qe}}),$e.apply(this,arguments)}function Lt(){return Lt=(0,b.Z)(function*(Ae,qe){try{const St=yield function $(Ae,qe){return ie.apply(this,arguments)}(Ae,qe);return en(Ae.appConfig,St)}catch(St){throw we(St)&&409===St.customData.serverCode?yield ft(Ae.appConfig):yield en(Ae.appConfig,{fid:qe.fid,registrationStatus:0}),St}}),Lt.apply(this,arguments)}function zt(Ae){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,b.Z)(function*(Ae){let qe=yield $t(Ae.appConfig);for(;1===qe.registrationStatus;)yield re(100),qe=yield $t(Ae.appConfig);if(0===qe.registrationStatus){const{installationEntry:St,registrationPromise:Vt}=yield We(Ae);return Vt||St}return qe})).apply(this,arguments)}function $t(Ae){return xe(Ae,qe=>{if(!qe)throw ke.create("installation-not-found");return an(qe)})}function an(Ae){return function mn(Ae){return 1===Ae.registrationStatus&&Ae.registrationTime+me<Date.now()}(Ae)?{fid:Ae.fid,registrationStatus:0}:Ae}function Ln(){return(Ln=(0,b.Z)(function*({appConfig:Ae,heartbeatServiceProvider:qe},St){const Vt=function Zn(Ae,{fid:qe}){return`${Ke(Ae)}/${qe}/authTokens:generate`}(Ae,St),ln=function W(Ae,{refreshToken:qe}){const St=Se(Ae);return St.append("Authorization",function X(Ae){return`${Le} ${Ae}`}(qe)),St}(Ae,St),yn=qe.getImmediate({optional:!0});if(yn){const Si=yield yn.getHeartbeatsHeader();Si&&ln.append("x-firebase-client",Si)}const hi={method:"POST",headers:ln,body:JSON.stringify({installation:{sdkVersion:De,appId:Ae.appId}})},di=yield ae(()=>fetch(Vt,hi));if(di.ok)return st(yield di.json());throw yield Qe("Generate Auth Token",di)})).apply(this,arguments)}function Kn(Ae){return ci.apply(this,arguments)}function ci(){return ci=(0,b.Z)(function*(Ae,qe=!1){let St;const Vt=yield xe(Ae.appConfig,yn=>{if(!Ze(yn))throw ke.create("not-registered");const Bn=yn.authToken;if(!qe&&function et(Ae){return 2===Ae.requestStatus&&!function wt(Ae){const qe=Date.now();return qe<Ae.creationTime||Ae.creationTime+Ae.expiresIn<qe+Re}(Ae)}(Bn))return yn;if(1===Bn.requestStatus)return St=function vn(Ae,qe){return gn.apply(this,arguments)}(Ae,qe),yn;{if(!navigator.onLine)throw ke.create("app-offline");const hi=function qt(Ae){const qe={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Ae),{authToken:qe})}(yn);return St=function ut(Ae,qe){return Xt.apply(this,arguments)}(Ae,hi),hi}});return St?yield St:Vt.authToken}),ci.apply(this,arguments)}function gn(){return(gn=(0,b.Z)(function*(Ae,qe){let St=yield Et(Ae.appConfig);for(;1===St.authToken.requestStatus;)yield re(100),St=yield Et(Ae.appConfig);const Vt=St.authToken;return 0===Vt.requestStatus?Kn(Ae,qe):Vt})).apply(this,arguments)}function Et(Ae){return xe(Ae,qe=>{if(!Ze(qe))throw ke.create("not-registered");return function wn(Ae){return 1===Ae.requestStatus&&Ae.requestTime+me<Date.now()}(qe.authToken)?Object.assign(Object.assign({},qe),{authToken:{requestStatus:0}}):qe})}function Xt(){return Xt=(0,b.Z)(function*(Ae,qe){try{const St=yield function An(Ae,qe){return Ln.apply(this,arguments)}(Ae,qe),Vt=Object.assign(Object.assign({},qe),{authToken:St});return yield en(Ae.appConfig,Vt),St}catch(St){if(!we(St)||401!==St.customData.serverCode&&404!==St.customData.serverCode){const Vt=Object.assign(Object.assign({},qe),{authToken:{requestStatus:0}});yield en(Ae.appConfig,Vt)}else yield ft(Ae.appConfig);throw St}}),Xt.apply(this,arguments)}function Ze(Ae){return void 0!==Ae&&2===Ae.registrationStatus}function Wt(){return(Wt=(0,b.Z)(function*(Ae){const qe=Ae,{installationEntry:St,registrationPromise:Vt}=yield We(qe);return Vt?Vt.catch(console.error):Kn(qe).catch(console.error),St.fid})).apply(this,arguments)}function nn(){return nn=(0,b.Z)(function*(Ae,qe=!1){const St=Ae;return yield function Tn(Ae){return Un.apply(this,arguments)}(St),(yield Kn(St,qe)).token}),nn.apply(this,arguments)}function Un(){return(Un=(0,b.Z)(function*(Ae){const{registrationPromise:qe}=yield We(Ae);qe&&(yield qe)})).apply(this,arguments)}function ti(Ae){return ke.create("missing-app-config-values",{valueName:Ae})}const fi="installations",fr=Ae=>{const qe=Ae.getProvider("app").getImmediate(),St=function on(Ae){if(!Ae||!Ae.options)throw ti("App Configuration");if(!Ae.name)throw ti("App Name");const qe=["projectId","apiKey","appId"];for(const St of qe)if(!Ae.options[St])throw ti(St);return{appName:Ae.name,projectId:Ae.options.projectId,apiKey:Ae.options.apiKey,appId:Ae.options.appId}}(qe);return{app:qe,appConfig:St,heartbeatServiceProvider:(0,w._getProvider)(qe,"heartbeat"),_delete:()=>Promise.resolve()}},gr=Ae=>{const qe=Ae.getProvider("app").getImmediate(),St=(0,w._getProvider)(qe,fi).getImmediate();return{getId:()=>function Fn(Ae){return Wt.apply(this,arguments)}(St),getToken:ln=>function Kt(Ae){return nn.apply(this,arguments)}(St,ln)}};(function fo(){(0,w._registerComponent)(new F.wA(fi,fr,"PUBLIC")),(0,w._registerComponent)(new F.wA("installations-internal",gr,"PRIVATE"))})(),(0,w.registerVersion)(_e,se),(0,w.registerVersion)(_e,se,"esm2017");const ki="@firebase/remote-config",zi=new E.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class gi{constructor(qe,St,Vt,ln){this.client=qe,this.storage=St,this.storageCache=Vt,this.logger=ln}isCachedDataFresh(qe,St){if(!St)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Vt=Date.now()-St,ln=Vt<=qe;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Vt}. Cache max age millis (minimumFetchIntervalMillis setting): ${qe}. Is cache hit: ${ln}.`),ln}fetch(qe){var St=this;return(0,b.Z)(function*(){const[Vt,ln]=yield Promise.all([St.storage.getLastSuccessfulFetchTimestampMillis(),St.storage.getLastSuccessfulFetchResponse()]);if(ln&&St.isCachedDataFresh(qe.cacheMaxAgeMillis,Vt))return ln;qe.eTag=ln&&ln.eTag;const yn=yield St.client.fetch(qe),Bn=[St.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===yn.status&&Bn.push(St.storage.setLastSuccessfulFetchResponse(yn)),yield Promise.all(Bn),yn})()}}function Ii(Ae=navigator){return Ae.languages&&Ae.languages[0]||Ae.language}class Ni{constructor(qe,St,Vt,ln,yn,Bn){this.firebaseInstallations=qe,this.sdkVersion=St,this.namespace=Vt,this.projectId=ln,this.apiKey=yn,this.appId=Bn}fetch(qe){var St=this;return(0,b.Z)(function*(){const[Vt,ln]=yield Promise.all([St.firebaseInstallations.getId(),St.firebaseInstallations.getToken()]),Bn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${St.projectId}/namespaces/${St.namespace}:fetch?key=${St.apiKey}`,hi={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":qe.eTag||"*"},di={sdk_version:St.sdkVersion,app_instance_id:Vt,app_instance_id_token:ln,app_id:St.appId,language_code:Ii()},Si={method:"POST",headers:hi,body:JSON.stringify(di)},Hi=fetch(Bn,Si),Gi=new Promise((Ko,Ga)=>{qe.signal.addEventListener(()=>{const Yl=new Error("The operation was aborted.");Yl.name="AbortError",Ga(Yl)})});let No;try{yield Promise.race([Hi,Gi]),No=yield Hi}catch(Ko){let Ga="fetch-client-network";throw"AbortError"===Ko?.name&&(Ga="fetch-timeout"),zi.create(Ga,{originalErrorMessage:Ko?.message})}let nr=No.status;const Uc=No.headers.get("ETag")||void 0;let Ws,ma;if(200===No.status){let Ko;try{Ko=yield No.json()}catch(Ga){throw zi.create("fetch-client-parse",{originalErrorMessage:Ga?.message})}Ws=Ko.entries,ma=Ko.state}if("INSTANCE_STATE_UNSPECIFIED"===ma?nr=500:"NO_CHANGE"===ma?nr=304:("NO_TEMPLATE"===ma||"EMPTY_CONFIG"===ma)&&(Ws={}),304!==nr&&200!==nr)throw zi.create("fetch-status",{httpStatus:nr});return{status:nr,eTag:Uc,config:Ws}})()}}class Pr{constructor(qe,St){this.client=qe,this.storage=St}fetch(qe){var St=this;return(0,b.Z)(function*(){const Vt=(yield St.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return St.attemptFetch(qe,Vt)})()}attemptFetch(qe,{throttleEndTimeMillis:St,backoffCount:Vt}){var ln=this;return(0,b.Z)(function*(){yield function wi(Ae,qe){return new Promise((St,Vt)=>{const ln=Math.max(qe-Date.now(),0),yn=setTimeout(St,ln);Ae.addEventListener(()=>{clearTimeout(yn),Vt(zi.create("fetch-throttle",{throttleEndTimeMillis:qe}))})})}(qe.signal,St);try{const yn=yield ln.client.fetch(qe);return yield ln.storage.deleteThrottleMetadata(),yn}catch(yn){if(!function _r(Ae){if(!(Ae instanceof E.ZR&&Ae.customData))return!1;const qe=Number(Ae.customData.httpStatus);return 429===qe||500===qe||503===qe||504===qe}(yn))throw yn;const Bn={throttleEndTimeMillis:Date.now()+(0,E.$s)(Vt),backoffCount:Vt+1};return yield ln.storage.setThrottleMetadata(Bn),ln.attemptFetch(qe,Bn)}})()}}class ts{constructor(qe,St,Vt,ln,yn){this.app=qe,this._client=St,this._storageCache=Vt,this._storage=ln,this._logger=yn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ur(Ae,qe){const St=Ae.target.error||void 0;return zi.create(qe,{originalErrorMessage:St&&St?.message})}const Yr="app_namespace_store";class ta{constructor(qe,St,Vt,ln=function Mi(){return new Promise((Ae,qe)=>{try{const St=indexedDB.open("firebase_remote_config",1);St.onerror=Vt=>{qe(Ur(Vt,"storage-open"))},St.onsuccess=Vt=>{Ae(Vt.target.result)},St.onupgradeneeded=Vt=>{0===Vt.oldVersion&&Vt.target.result.createObjectStore(Yr,{keyPath:"compositeKey"})}}catch(St){qe(zi.create("storage-open",{originalErrorMessage:St?.message}))}})}()){this.appId=qe,this.appName=St,this.namespace=Vt,this.openDbPromise=ln}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(qe){return this.set("last_fetch_status",qe)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(qe){return this.set("last_successful_fetch_timestamp_millis",qe)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(qe){return this.set("last_successful_fetch_response",qe)}getActiveConfig(){return this.get("active_config")}setActiveConfig(qe){return this.set("active_config",qe)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(qe){return this.set("active_config_etag",qe)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(qe){return this.set("throttle_metadata",qe)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(qe){var St=this;return(0,b.Z)(function*(){const Vt=yield St.openDbPromise;return new Promise((ln,yn)=>{const hi=Vt.transaction([Yr],"readonly").objectStore(Yr),di=St.createCompositeKey(qe);try{const Si=hi.get(di);Si.onerror=Hi=>{yn(Ur(Hi,"storage-get"))},Si.onsuccess=Hi=>{const Gi=Hi.target.result;ln(Gi?Gi.value:void 0)}}catch(Si){yn(zi.create("storage-get",{originalErrorMessage:Si?.message}))}})})()}set(qe,St){var Vt=this;return(0,b.Z)(function*(){const ln=yield Vt.openDbPromise;return new Promise((yn,Bn)=>{const di=ln.transaction([Yr],"readwrite").objectStore(Yr),Si=Vt.createCompositeKey(qe);try{const Hi=di.put({compositeKey:Si,value:St});Hi.onerror=Gi=>{Bn(Ur(Gi,"storage-set"))},Hi.onsuccess=()=>{yn()}}catch(Hi){Bn(zi.create("storage-set",{originalErrorMessage:Hi?.message}))}})})()}delete(qe){var St=this;return(0,b.Z)(function*(){const Vt=yield St.openDbPromise;return new Promise((ln,yn)=>{const hi=Vt.transaction([Yr],"readwrite").objectStore(Yr),di=St.createCompositeKey(qe);try{const Si=hi.delete(di);Si.onerror=Hi=>{yn(Ur(Hi,"storage-delete"))},Si.onsuccess=()=>{ln()}}catch(Si){yn(zi.create("storage-delete",{originalErrorMessage:Si?.message}))}})})()}createCompositeKey(qe){return[this.appId,this.appName,this.namespace,qe].join()}}class Do{constructor(qe){this.storage=qe}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var qe=this;return(0,b.Z)(function*(){const St=qe.storage.getLastFetchStatus(),Vt=qe.storage.getLastSuccessfulFetchTimestampMillis(),ln=qe.storage.getActiveConfig(),yn=yield St;yn&&(qe.lastFetchStatus=yn);const Bn=yield Vt;Bn&&(qe.lastSuccessfulFetchTimestampMillis=Bn);const hi=yield ln;hi&&(qe.activeConfig=hi)})()}setLastFetchStatus(qe){return this.lastFetchStatus=qe,this.storage.setLastFetchStatus(qe)}setLastSuccessfulFetchTimestampMillis(qe){return this.lastSuccessfulFetchTimestampMillis=qe,this.storage.setLastSuccessfulFetchTimestampMillis(qe)}setActiveConfig(qe){return this.activeConfig=qe,this.storage.setActiveConfig(qe)}}function Zo(){return ns.apply(this,arguments)}function ns(){return(ns=(0,b.Z)(function*(){if(!(0,E.hl)())return!1;try{return yield(0,E.eu)()}catch{return!1}})).apply(this,arguments)}!function fs(){(0,w._registerComponent)(new F.wA("remote-config",function Ae(qe,{instanceIdentifier:St}){const Vt=qe.getProvider("app").getImmediate(),ln=qe.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw zi.create("registration-window");if(!(0,E.hl)())throw zi.create("indexed-db-unavailable");const{projectId:yn,apiKey:Bn,appId:hi}=Vt.options;if(!yn)throw zi.create("registration-project-id");if(!Bn)throw zi.create("registration-api-key");if(!hi)throw zi.create("registration-app-id");const di=new ta(hi,Vt.name,St=St||"firebase"),Si=new Do(di),Hi=new L.Yd(ki);Hi.logLevel=L.in.ERROR;const Gi=new Ni(ln,w.SDK_VERSION,St,yn,Bn,hi),No=new Pr(Gi,di),nr=new gi(No,di,Si,Hi),Uc=new ts(Vt,nr,Si,di,Hi);return function Pi(Ae){const qe=(0,E.m9)(Ae);qe._initializePromise||(qe._initializePromise=qe._storageCache.loadFromStorage().then(()=>{qe._isInitializationComplete=!0}))}(Uc),Uc},"PUBLIC").setMultipleInstances(!0)),(0,w.registerVersion)(ki,"0.4.4"),(0,w.registerVersion)(ki,"0.4.4","esm2017")}();const xr=(Ae,qe)=>qe.some(St=>Ae instanceof St);let Go,er;const eo=new WeakMap,$o=new WeakMap,cr=new WeakMap,ir=new WeakMap,hs=new WeakMap;let ws={get(Ae,qe,St){if(Ae instanceof IDBTransaction){if("done"===qe)return $o.get(Ae);if("objectStoreNames"===qe)return Ae.objectStoreNames||cr.get(Ae);if("store"===qe)return St.objectStoreNames[1]?void 0:St.objectStore(St.objectStoreNames[0])}return Rr(Ae[qe])},set:(Ae,qe,St)=>(Ae[qe]=St,!0),has:(Ae,qe)=>Ae instanceof IDBTransaction&&("done"===qe||"store"===qe)||qe in Ae};function na(Ae){return"function"==typeof Ae?function ms(Ae){return Ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lr(){return er||(er=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ae)?function(...qe){return Ae.apply(lo(this),qe),Rr(eo.get(this))}:function(...qe){return Rr(Ae.apply(lo(this),qe))}:function(qe,...St){const Vt=Ae.call(lo(this),qe,...St);return cr.set(Vt,qe.sort?qe.sort():[qe]),Rr(Vt)}}(Ae):(Ae instanceof IDBTransaction&&function js(Ae){if($o.has(Ae))return;const qe=new Promise((St,Vt)=>{const ln=()=>{Ae.removeEventListener("complete",yn),Ae.removeEventListener("error",Bn),Ae.removeEventListener("abort",Bn)},yn=()=>{St(),ln()},Bn=()=>{Vt(Ae.error||new DOMException("AbortError","AbortError")),ln()};Ae.addEventListener("complete",yn),Ae.addEventListener("error",Bn),Ae.addEventListener("abort",Bn)});$o.set(Ae,qe)}(Ae),xr(Ae,function vr(){return Go||(Go=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ae,ws):Ae)}function Rr(Ae){if(Ae instanceof IDBRequest)return function wo(Ae){const qe=new Promise((St,Vt)=>{const ln=()=>{Ae.removeEventListener("success",yn),Ae.removeEventListener("error",Bn)},yn=()=>{St(Rr(Ae.result)),ln()},Bn=()=>{Vt(Ae.error),ln()};Ae.addEventListener("success",yn),Ae.addEventListener("error",Bn)});return qe.then(St=>{St instanceof IDBCursor&&eo.set(St,Ae)}).catch(()=>{}),hs.set(qe,Ae),qe}(Ae);if(ir.has(Ae))return ir.get(Ae);const qe=na(Ae);return qe!==Ae&&(ir.set(Ae,qe),hs.set(qe,Ae)),qe}const lo=Ae=>hs.get(Ae);function mr(Ae,qe,{blocked:St,upgrade:Vt,blocking:ln,terminated:yn}={}){const Bn=indexedDB.open(Ae,qe),hi=Rr(Bn);return Vt&&Bn.addEventListener("upgradeneeded",di=>{Vt(Rr(Bn.result),di.oldVersion,di.newVersion,Rr(Bn.transaction))}),St&&Bn.addEventListener("blocked",()=>St()),hi.then(di=>{yn&&di.addEventListener("close",()=>yn()),ln&&di.addEventListener("versionchange",()=>ln())}).catch(()=>{}),hi}function Ho(Ae,{blocked:qe}={}){const St=indexedDB.deleteDatabase(Ae);return qe&&St.addEventListener("blocked",()=>qe()),Rr(St).then(()=>{})}const qo=["get","getKey","getAll","getAllKeys","count"],ps=["put","add","delete","clear"],ia=new Map;function xo(Ae,qe){if(!(Ae instanceof IDBDatabase)||qe in Ae||"string"!=typeof qe)return;if(ia.get(qe))return ia.get(qe);const St=qe.replace(/FromIndex$/,""),Vt=qe!==St,ln=ps.includes(St);if(!(St in(Vt?IDBIndex:IDBObjectStore).prototype)||!ln&&!qo.includes(St))return;const yn=function(){var Bn=(0,b.Z)(function*(hi,...di){const Si=this.transaction(hi,ln?"readwrite":"readonly");let Hi=Si.store;return Vt&&(Hi=Hi.index(di.shift())),(yield Promise.all([Hi[St](...di),ln&&Si.done]))[0]});return function(di){return Bn.apply(this,arguments)}}();return ia.set(qe,yn),yn}!function is(Ae){ws=Ae(ws)}(Ae=>({...Ae,get:(qe,St,Vt)=>xo(qe,St)||Ae.get(qe,St,Vt),has:(qe,St)=>!!xo(qe,St)||Ae.has(qe,St)}));const Nr="/firebase-messaging-sw.js",rs="/firebase-cloud-messaging-push-scope",Wr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Os="https://fcmregistrations.googleapis.com/v1",Ps="google.c.a.c_id",dr="google.c.a.c_l",pn="google.c.a.ts";var Je=function(Ae){return Ae.PUSH_RECEIVED="push-received",Ae.NOTIFICATION_CLICKED="notification-clicked",Ae}(Je||{});function It(Ae){const qe=new Uint8Array(Ae);return btoa(String.fromCharCode(...qe)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rn(Ae){const St=(Ae+"=".repeat((4-Ae.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Vt=atob(St),ln=new Uint8Array(Vt.length);for(let yn=0;yn<Vt.length;++yn)ln[yn]=Vt.charCodeAt(yn);return ln}const li="fcm_token_details_db",Ri=5,bo="fcm_token_object_Store";function Jo(){return Jo=(0,b.Z)(function*(Ae){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(yn=>yn.name).includes(li))return null;let qe=null;return(yield mr(li,Ri,{upgrade:(Vt=(0,b.Z)(function*(ln,yn,Bn,hi){var di;if(yn<2||!ln.objectStoreNames.contains(bo))return;const Si=hi.objectStore(bo),Hi=yield Si.index("fcmSenderId").get(Ae);if(yield Si.clear(),Hi)if(2===yn){const Gi=Hi;if(!Gi.auth||!Gi.p256dh||!Gi.endpoint)return;qe={token:Gi.fcmToken,createTime:null!==(di=Gi.createTime)&&void 0!==di?di:Date.now(),subscriptionOptions:{auth:Gi.auth,p256dh:Gi.p256dh,endpoint:Gi.endpoint,swScope:Gi.swScope,vapidKey:"string"==typeof Gi.vapidKey?Gi.vapidKey:It(Gi.vapidKey)}}}else if(3===yn){const Gi=Hi;qe={token:Gi.fcmToken,createTime:Gi.createTime,subscriptionOptions:{auth:It(Gi.auth),p256dh:It(Gi.p256dh),endpoint:Gi.endpoint,swScope:Gi.swScope,vapidKey:It(Gi.vapidKey)}}}else if(4===yn){const Gi=Hi;qe={token:Gi.fcmToken,createTime:Gi.createTime,subscriptionOptions:{auth:It(Gi.auth),p256dh:It(Gi.p256dh),endpoint:Gi.endpoint,swScope:Gi.swScope,vapidKey:It(Gi.vapidKey)}}}}),function(yn,Bn,hi,di){return Vt.apply(this,arguments)})})).close(),yield Ho(li),yield Ho("fcm_vapid_details_db"),yield Ho("undefined"),function Jr(Ae){if(!Ae||!Ae.subscriptionOptions)return!1;const{subscriptionOptions:qe}=Ae;return"number"==typeof Ae.createTime&&Ae.createTime>0&&"string"==typeof Ae.token&&Ae.token.length>0&&"string"==typeof qe.auth&&qe.auth.length>0&&"string"==typeof qe.p256dh&&qe.p256dh.length>0&&"string"==typeof qe.endpoint&&qe.endpoint.length>0&&"string"==typeof qe.swScope&&qe.swScope.length>0&&"string"==typeof qe.vapidKey&&qe.vapidKey.length>0}(qe)?qe:null;var Vt}),Jo.apply(this,arguments)}const gs="firebase-messaging-database",Tr=1,Mo="firebase-messaging-store";let qa=null;function Aa(){return qa||(qa=mr(gs,Tr,{upgrade:(Ae,qe)=>{0===qe&&Ae.createObjectStore(Mo)}})),qa}function Vs(Ae){return _s.apply(this,arguments)}function _s(){return _s=(0,b.Z)(function*(Ae){const qe=Il(Ae),Vt=yield(yield Aa()).transaction(Mo).objectStore(Mo).get(qe);if(Vt)return Vt;{const ln=yield function Eo(Ae){return Jo.apply(this,arguments)}(Ae.appConfig.senderId);if(ln)return yield Ia(Ae,ln),ln}}),_s.apply(this,arguments)}function Ia(Ae,qe){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,b.Z)(function*(Ae,qe){const St=Il(Ae),ln=(yield Aa()).transaction(Mo,"readwrite");return yield ln.objectStore(Mo).put(qe,St),yield ln.done,qe})).apply(this,arguments)}function Rs(){return(Rs=(0,b.Z)(function*(Ae){const qe=Il(Ae),Vt=(yield Aa()).transaction(Mo,"readwrite");yield Vt.objectStore(Mo).delete(qe),yield Vt.done})).apply(this,arguments)}function Il({appConfig:Ae}){return Ae.appId}const oo=new E.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function wl(Ae,qe){return el.apply(this,arguments)}function el(){return(el=(0,b.Z)(function*(Ae,qe){const St=yield Gs(Ae),Vt=oa(qe),ln={method:"POST",headers:St,body:JSON.stringify(Vt)};let yn;try{yn=yield(yield fetch(vs(Ae.appConfig),ln)).json()}catch(Bn){throw oo.create("token-subscribe-failed",{errorInfo:Bn?.toString()})}if(yn.error)throw oo.create("token-subscribe-failed",{errorInfo:yn.error.message});if(!yn.token)throw oo.create("token-subscribe-no-token");return yn.token})).apply(this,arguments)}function Ta(){return(Ta=(0,b.Z)(function*(Ae,qe){const St=yield Gs(Ae),Vt=oa(qe.subscriptionOptions),ln={method:"PATCH",headers:St,body:JSON.stringify(Vt)};let yn;try{yn=yield(yield fetch(`${vs(Ae.appConfig)}/${qe.token}`,ln)).json()}catch(Bn){throw oo.create("token-update-failed",{errorInfo:Bn?.toString()})}if(yn.error)throw oo.create("token-update-failed",{errorInfo:yn.error.message});if(!yn.token)throw oo.create("token-update-no-token");return yn.token})).apply(this,arguments)}function ec(Ae,qe){return ra.apply(this,arguments)}function ra(){return(ra=(0,b.Z)(function*(Ae,qe){const Vt={method:"DELETE",headers:yield Gs(Ae)};try{const yn=yield(yield fetch(`${vs(Ae.appConfig)}/${qe}`,Vt)).json();if(yn.error)throw oo.create("token-unsubscribe-failed",{errorInfo:yn.error.message})}catch(ln){throw oo.create("token-unsubscribe-failed",{errorInfo:ln?.toString()})}})).apply(this,arguments)}function vs({projectId:Ae}){return`${Os}/projects/${Ae}/registrations`}function Gs(Ae){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,b.Z)(function*({appConfig:Ae,installations:qe}){const St=yield qe.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Ae.apiKey,"x-goog-firebase-installations-auth":`FIS ${St}`})})).apply(this,arguments)}function oa({p256dh:Ae,auth:qe,endpoint:St,vapidKey:Vt}){const ln={web:{endpoint:St,auth:qe,p256dh:Ae}};return Vt!==Wr&&(ln.web.applicationPubKey=Vt),ln}const Ol=6048e5;function Oa(){return Oa=(0,b.Z)(function*(Ae){const qe=yield function _i(Ae,qe){return z.apply(this,arguments)}(Ae.swRegistration,Ae.vapidKey),St={vapidKey:Ae.vapidKey,swScope:Ae.swRegistration.scope,endpoint:qe.endpoint,auth:It(qe.getKey("auth")),p256dh:It(qe.getKey("p256dh"))},Vt=yield Vs(Ae.firebaseDependencies);if(Vt){if(function Tt(Ae,qe){return qe.vapidKey===Ae.vapidKey&&qe.endpoint===Ae.endpoint&&qe.auth===Ae.auth&&qe.p256dh===Ae.p256dh}(Vt.subscriptionOptions,St))return Date.now()>=Vt.createTime+Ol?function Qo(Ae,qe){return zr.apply(this,arguments)}(Ae,{token:Vt.token,createTime:Date.now(),subscriptionOptions:St}):Vt.token;try{yield ec(Ae.firebaseDependencies,Vt.token)}catch(ln){console.warn(ln)}return Ls(Ae.firebaseDependencies,St)}return Ls(Ae.firebaseDependencies,St)}),Oa.apply(this,arguments)}function mo(){return mo=(0,b.Z)(function*(Ae){const qe=yield Vs(Ae.firebaseDependencies);qe&&(yield ec(Ae.firebaseDependencies,qe.token),yield function Qa(Ae){return Rs.apply(this,arguments)}(Ae.firebaseDependencies));const St=yield Ae.swRegistration.pushManager.getSubscription();return!St||St.unsubscribe()}),mo.apply(this,arguments)}function zr(){return zr=(0,b.Z)(function*(Ae,qe){try{const St=yield function Ic(Ae,qe){return Ta.apply(this,arguments)}(Ae.firebaseDependencies,qe),Vt=Object.assign(Object.assign({},qe),{token:St,createTime:Date.now()});return yield Ia(Ae.firebaseDependencies,Vt),St}catch(St){throw yield function Pa(Ae){return mo.apply(this,arguments)}(Ae),St}}),zr.apply(this,arguments)}function Ls(Ae,qe){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,b.Z)(function*(Ae,qe){const Vt={token:yield wl(Ae,qe),createTime:Date.now(),subscriptionOptions:qe};return yield Ia(Ae,Vt),Vt.token})).apply(this,arguments)}function z(){return(z=(0,b.Z)(function*(Ae,qe){return(yield Ae.pushManager.getSubscription())||Ae.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rn(qe)})})).apply(this,arguments)}function je(Ae){const qe={from:Ae.from,collapseKey:Ae.collapse_key,messageId:Ae.fcmMessageId};return function Dt(Ae,qe){if(!qe.notification)return;Ae.notification={};const St=qe.notification.title;St&&(Ae.notification.title=St);const Vt=qe.notification.body;Vt&&(Ae.notification.body=Vt);const ln=qe.notification.image;ln&&(Ae.notification.image=ln);const yn=qe.notification.icon;yn&&(Ae.notification.icon=yn)}(qe,Ae),function Jt(Ae,qe){qe.data&&(Ae.data=qe.data)}(qe,Ae),function In(Ae,qe){var St,Vt,ln,yn,Bn;if(!(qe.fcmOptions||null!==(St=qe.notification)&&void 0!==St&&St.click_action))return;Ae.fcmOptions={};const hi=null!==(ln=null===(Vt=qe.fcmOptions)||void 0===Vt?void 0:Vt.link)&&void 0!==ln?ln:null===(yn=qe.notification)||void 0===yn?void 0:yn.click_action;hi&&(Ae.fcmOptions.link=hi);const di=null===(Bn=qe.fcmOptions)||void 0===Bn?void 0:Bn.analytics_label;di&&(Ae.fcmOptions.analyticsLabel=di)}(qe,Ae),qe}function vi(Ae,qe){const St=[];for(let Vt=0;Vt<Ae.length;Vt++)St.push(Ae.charAt(Vt)),Vt<qe.length&&St.push(qe.charAt(Vt));return St.join("")}function hn(Ae){return oo.create("missing-app-config-values",{valueName:Ae})}vi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class rr{constructor(qe,St,Vt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ln=function wr(Ae){if(!Ae||!Ae.options)throw hn("App Configuration Object");if(!Ae.name)throw hn("App Name");const qe=["projectId","apiKey","appId","messagingSenderId"],{options:St}=Ae;for(const Vt of qe)if(!St[Vt])throw hn(Vt);return{appName:Ae.name,projectId:St.projectId,apiKey:St.apiKey,appId:St.appId,senderId:St.messagingSenderId}}(qe);this.firebaseDependencies={app:qe,appConfig:ln,installations:St,analyticsProvider:Vt}}_delete(){return Promise.resolve()}}function Fi(){return(Fi=(0,b.Z)(function*(Ae){try{Ae.swRegistration=yield navigator.serviceWorker.register(Nr,{scope:rs}),Ae.swRegistration.update().catch(()=>{})}catch(qe){throw oo.create("failed-service-worker-registration",{browserErrorMessage:qe?.message})}})).apply(this,arguments)}function Mr(){return(Mr=(0,b.Z)(function*(Ae,qe){if(!qe&&!Ae.swRegistration&&(yield function $i(Ae){return Fi.apply(this,arguments)}(Ae)),qe||!Ae.swRegistration){if(!(qe instanceof ServiceWorkerRegistration))throw oo.create("invalid-sw-registration");Ae.swRegistration=qe}})).apply(this,arguments)}function bi(){return(bi=(0,b.Z)(function*(Ae,qe){qe?Ae.vapidKey=qe:Ae.vapidKey||(Ae.vapidKey=Wr)})).apply(this,arguments)}function Oo(){return Oo=(0,b.Z)(function*(Ae,qe){if(!navigator)throw oo.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw oo.create("permission-blocked");return yield function Xo(Ae,qe){return bi.apply(this,arguments)}(Ae,qe?.vapidKey),yield function or(Ae,qe){return Mr.apply(this,arguments)}(Ae,qe?.serviceWorkerRegistration),function wa(Ae){return Oa.apply(this,arguments)}(Ae)}),Oo.apply(this,arguments)}function ys(){return(ys=(0,b.Z)(function*(Ae,qe,St){const Vt=function bs(Ae){switch(Ae){case Je.NOTIFICATION_CLICKED:return"notification_open";case Je.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(qe);(yield Ae.firebaseDependencies.analyticsProvider.get()).logEvent(Vt,{message_id:St[Ps],message_name:St[dr],message_time:St[pn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function os(){return os=(0,b.Z)(function*(Ae,qe){const St=qe.data;if(!St.isFirebaseMessaging)return;Ae.onMessageHandler&&St.messageType===Je.PUSH_RECEIVED&&("function"==typeof Ae.onMessageHandler?Ae.onMessageHandler(je(St)):Ae.onMessageHandler.next(je(St)));const Vt=St.data;(function Hn(Ae){return"object"==typeof Ae&&!!Ae&&Ps in Ae})(Vt)&&"1"===Vt["google.c.a.e"]&&(yield function Qr(Ae,qe,St){return ys.apply(this,arguments)}(Ae,St.messageType,Vt))}),os.apply(this,arguments)}const tc="@firebase/messaging",id=Ae=>{const qe=new rr(Ae.getProvider("app").getImmediate(),Ae.getProvider("installations-internal").getImmediate(),Ae.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",St=>function Pl(Ae,qe){return os.apply(this,arguments)}(qe,St)),qe},wc=Ae=>{const qe=Ae.getProvider("messaging").getImmediate();return{getToken:Vt=>function tr(Ae,qe){return Oo.apply(this,arguments)}(qe,Vt)}};function Gn(){return sr.apply(this,arguments)}function sr(){return(sr=(0,b.Z)(function*(){try{yield(0,E.eu)()}catch{return!1}return typeof window<"u"&&(0,E.hl)()&&(0,E.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function jr(){(0,w._registerComponent)(new F.wA("messaging",id,"PUBLIC")),(0,w._registerComponent)(new F.wA("messaging-internal",wc,"PRIVATE")),(0,w.registerVersion)(tc,"0.12.4"),(0,w.registerVersion)(tc,"0.12.4","esm2017")}();const sa="analytics",ic="firebase_id",nl="origin",co=6e4,ks="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ll="https://www.googletagmanager.com/gtag/js",Gr=new L.Yd("@firebase/analytics"),po=new E.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function rc(Ae){if(!Ae.startsWith(Ll)){const qe=po.create("invalid-gtag-resource",{gtagURL:Ae});return Gr.warn(qe.message),""}return Ae}function il(Ae){return Promise.all(Ae.map(qe=>qe.catch(St=>St)))}function Hs(){return(Hs=(0,b.Z)(function*(Ae,qe,St,Vt,ln,yn){const Bn=Vt[ln];try{if(Bn)yield qe[Bn];else{const di=(yield il(St)).find(Si=>Si.measurementId===ln);di&&(yield qe[di.appId])}}catch(hi){Gr.error(hi)}Ae("config",ln,yn)})).apply(this,arguments)}function Ro(){return(Ro=(0,b.Z)(function*(Ae,qe,St,Vt,ln){try{let yn=[];if(ln&&ln.send_to){let Bn=ln.send_to;Array.isArray(Bn)||(Bn=[Bn]);const hi=yield il(St);for(const di of Bn){const Si=hi.find(Gi=>Gi.measurementId===di),Hi=Si&&qe[Si.appId];if(!Hi){yn=[];break}yn.push(Hi)}}0===yn.length&&(yn=Object.values(qe)),yield Promise.all(yn),Ae("event",Vt,ln||{})}catch(yn){Gr.error(yn)}})).apply(this,arguments)}const To=30,Rc=new class Bi{constructor(qe={},St=1e3){this.throttleMetadata=qe,this.intervalMillis=St}getThrottleMetadata(qe){return this.throttleMetadata[qe]}setThrottleMetadata(qe,St){this.throttleMetadata[qe]=St}deleteThrottleMetadata(qe){delete this.throttleMetadata[qe]}};function Nc(Ae){return new Headers({Accept:"application/json","x-goog-api-key":Ae})}function la(){return(la=(0,b.Z)(function*(Ae){var qe;const{appId:St,apiKey:Vt}=Ae,ln={method:"GET",headers:Nc(Vt)},yn=ks.replace("{app-id}",St),Bn=yield fetch(yn,ln);if(200!==Bn.status&&304!==Bn.status){let hi="";try{const di=yield Bn.json();null!==(qe=di.error)&&void 0!==qe&&qe.message&&(hi=di.error.message)}catch{}throw po.create("config-fetch-failed",{httpStatus:Bn.status,responseMessage:hi})}return Bn.json()})).apply(this,arguments)}function He(){return(He=(0,b.Z)(function*(Ae,qe=Rc,St){const{appId:Vt,apiKey:ln,measurementId:yn}=Ae.options;if(!Vt)throw po.create("no-app-id");if(!ln){if(yn)return{measurementId:yn,appId:Vt};throw po.create("no-api-key")}const Bn=qe.getThrottleMetadata(Vt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},hi=new Ft;return setTimeout((0,b.Z)(function*(){hi.abort()}),void 0!==St?St:co),de({appId:Vt,apiKey:ln,measurementId:yn},Bn,hi,qe)})).apply(this,arguments)}function de(Ae,qe,St){return Be.apply(this,arguments)}function Be(){return Be=(0,b.Z)(function*(Ae,{throttleEndTimeMillis:qe,backoffCount:St},Vt,ln=Rc){var yn;const{appId:Bn,measurementId:hi}=Ae;try{yield function yt(Ae,qe){return new Promise((St,Vt)=>{const ln=Math.max(qe-Date.now(),0),yn=setTimeout(St,ln);Ae.addEventListener(()=>{clearTimeout(yn),Vt(po.create("fetch-throttle",{throttleEndTimeMillis:qe}))})})}(Vt,qe)}catch(di){if(hi)return Gr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${hi} provided in the "measurementId" field in the local Firebase config. [${di?.message}]`),{appId:Bn,measurementId:hi};throw di}try{const di=yield function Vi(Ae){return la.apply(this,arguments)}(Ae);return ln.deleteThrottleMetadata(Bn),di}catch(di){const Si=di;if(!function Ut(Ae){if(!(Ae instanceof E.ZR&&Ae.customData))return!1;const qe=Number(Ae.customData.httpStatus);return 429===qe||500===qe||503===qe||504===qe}(Si)){if(ln.deleteThrottleMetadata(Bn),hi)return Gr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${hi} provided in the "measurementId" field in the local Firebase config. [${Si?.message}]`),{appId:Bn,measurementId:hi};throw di}const Hi=503===Number(null===(yn=Si?.customData)||void 0===yn?void 0:yn.httpStatus)?(0,E.$s)(St,ln.intervalMillis,To):(0,E.$s)(St,ln.intervalMillis),Gi={throttleEndTimeMillis:Date.now()+Hi,backoffCount:St+1};return ln.setThrottleMetadata(Bn,Gi),Gr.debug(`Calling attemptFetch again in ${Hi} millis`),de(Ae,Gi,Vt,ln)}}),Be.apply(this,arguments)}class Ft{constructor(){this.listeners=[]}addEventListener(qe){this.listeners.push(qe)}abort(){this.listeners.forEach(qe=>qe())}}let Sn,Lc;function Ei(){return(Ei=(0,b.Z)(function*(Ae,qe,St,Vt,ln){if(ln&&ln.global)Ae("event",St,Vt);else{const yn=yield qe;Ae("event",St,Object.assign(Object.assign({},Vt),{send_to:yn}))}})).apply(this,arguments)}function ll(){return(ll=(0,b.Z)(function*(){if(!(0,E.hl)())return Gr.warn(po.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,E.eu)()}catch(Ae){return Gr.warn(po.create("indexeddb-unavailable",{errorInfo:Ae?.toString()}).message),!1}return!0})).apply(this,arguments)}function Na(){return Na=(0,b.Z)(function*(Ae,qe,St,Vt,ln,yn,Bn){var hi;const di=function Ee(Ae){return He.apply(this,arguments)}(Ae);di.then(nr=>{St[nr.measurementId]=nr.appId,Ae.options.measurementId&&nr.measurementId!==Ae.options.measurementId&&Gr.warn(`The measurement ID in the local Firebase config (${Ae.options.measurementId}) does not match the measurement ID fetched from the server (${nr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(nr=>Gr.error(nr)),qe.push(di);const Si=function as(){return ll.apply(this,arguments)}().then(nr=>{if(nr)return Vt.getId()}),[Hi,Gi]=yield Promise.all([di,Si]);(function kl(Ae){const qe=window.document.getElementsByTagName("script");for(const St of Object.values(qe))if(St.src&&St.src.includes(Ll)&&St.src.includes(Ae))return St;return null})(yn)||function oc(Ae,qe){const St=function rl(Ae,qe){let St;return window.trustedTypes&&(St=window.trustedTypes.createPolicy(Ae,qe)),St}("firebase-js-sdk-policy",{createScriptURL:rc}),Vt=document.createElement("script"),ln=`${Ll}?l=${Ae}&id=${qe}`;Vt.src=St?St?.createScriptURL(ln):ln,Vt.async=!0,document.head.appendChild(Vt)}(yn,Hi.measurementId),Lc&&(ln("consent","default",Lc),function Ra(Ae){Lc=Ae}(void 0)),ln("js",new Date);const No=null!==(hi=Bn?.config)&&void 0!==hi?hi:{};return No[nl]="firebase",No.update=!0,null!=Gi&&(No[ic]=Gi),ln("config",Hi.measurementId,No),Sn&&(ln("set",Sn),function kc(Ae){Sn=Ae}(void 0)),Hi.measurementId}),Na.apply(this,arguments)}class cl{constructor(qe){this.app=qe}_delete(){return delete Ss[this.app.options.appId],Promise.resolve()}}let Ss={},od=[];const ac={};let Vd,Ks,ha="dataLayer",ul=!1;function Gd(Ae,qe,St){!function ao(){const Ae=[];if((0,E.ru)()&&Ae.push("This is a browser extension environment."),(0,E.zI)()||Ae.push("Cookies are not available."),Ae.length>0){const qe=Ae.map((Vt,ln)=>`(${ln+1}) ${Vt}`).join(" "),St=po.create("invalid-analytics-context",{errorInfo:qe});Gr.warn(St.message)}}();const Vt=Ae.options.appId;if(!Vt)throw po.create("no-app-id");if(!Ae.options.apiKey){if(!Ae.options.measurementId)throw po.create("no-api-key");Gr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Ae.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ss[Vt])throw po.create("already-exists",{id:Vt});if(!ul){!function ol(Ae){let qe=[];Array.isArray(window[Ae])?qe=window[Ae]:window[Ae]=qe}(ha);const{wrappedGtag:yn,gtagCore:Bn}=function Pc(Ae,qe,St,Vt,ln){let yn=function(...Bn){window[Vt].push(arguments)};return window[ln]&&"function"==typeof window[ln]&&(yn=window[ln]),window[ln]=function Sa(Ae,qe,St,Vt){function yn(){return yn=(0,b.Z)(function*(Bn,...hi){try{if("event"===Bn){const[di,Si]=hi;yield function rd(Ae,qe,St,Vt,ln){return Ro.apply(this,arguments)}(Ae,qe,St,di,Si)}else if("config"===Bn){const[di,Si]=hi;yield function ss(Ae,qe,St,Vt,ln,yn){return Hs.apply(this,arguments)}(Ae,qe,St,Vt,di,Si)}else if("consent"===Bn){const[di]=hi;Ae("consent","update",di)}else if("get"===Bn){const[di,Si,Hi]=hi;Ae("get",di,Si,Hi)}else if("set"===Bn){const[di]=hi;Ae("set",di)}else Ae(Bn,...hi)}catch(di){Gr.error(di)}}),yn.apply(this,arguments)}return function ln(Bn){return yn.apply(this,arguments)}}(yn,Ae,qe,St),{gtagCore:yn,wrappedGtag:window[ln]}}(Ss,od,ac,ha,"gtag");Ks=yn,Vd=Bn,ul=!0}return Ss[Vt]=function ku(Ae,qe,St,Vt,ln,yn,Bn){return Na.apply(this,arguments)}(Ae,od,ac,qe,Vd,ha,St),new cl(Ae)}function sd(){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,b.Z)(function*(){if((0,E.ru)()||!(0,E.zI)()||!(0,E.hl)())return!1;try{return yield(0,E.eu)()}catch{return!1}})).apply(this,arguments)}const cd="@firebase/analytics";!function Bl(){(0,w._registerComponent)(new F.wA(sa,(qe,{options:St})=>Gd(qe.getProvider("app").getImmediate(),qe.getProvider("installations-internal").getImmediate(),St),"PUBLIC")),(0,w._registerComponent)(new F.wA("analytics-internal",function Ae(qe){try{const St=qe.getProvider(sa).getImmediate();return{logEvent:(Vt,ln,yn)=>function cc(Ae,qe,St,Vt){Ae=(0,E.m9)(Ae),function zn(Ae,qe,St,Vt,ln){return Ei.apply(this,arguments)}(Ks,Ss[Ae.app.options.appId],qe,St,Vt).catch(ln=>Gr.error(ln))}(St,Vt,ln,yn)}}catch(St){throw po.create("interop-component-reg-failed",{reason:St})}},"PRIVATE")),(0,w.registerVersion)(cd,"0.10.0"),(0,w.registerVersion)(cd,"0.10.0","esm2017")}();var Ul=S(1954),ls=S(2631);const ud=new class dd extends ls.v{}(class Bu extends Ul.o{constructor(qe,St){super(qe,St),this.scheduler=qe,this.work=St}schedule(qe,St=0){return St>0?super.schedule(qe,St):(this.delay=St,this.state=qe,this.scheduler.flush(this),this)}execute(qe,St){return St>0||this.closed?super.execute(qe,St):this._execute(qe,St)}requestAsyncId(qe,St,Vt=0){return null!=Vt&&Vt>0||null==Vt&&this.delay>0?super.requestAsyncId(qe,St,Vt):(qe.flush(this),0)}});var dc=S(6321),Fa=S(9397),Ba=S(5137),Ua=S(3093);const uc=new c.GfV("7.6.1"),Ys="__angularfire_symbol__analyticsIsSupportedValue",ja="__angularfire_symbol__analyticsIsSupported",Fc="__angularfire_symbol__remoteConfigIsSupportedValue",Va="__angularfire_symbol__remoteConfigIsSupported",fc="__angularfire_symbol__messagingIsSupportedValue",fd="__angularfire_symbol__messagingIsSupported";function hl(Ae,qe,St){if(qe){if(1===qe.length)return qe[0];const yn=qe.filter(Bn=>Bn.app===St);if(1===yn.length)return yn[0]}return St.container.getProvider(Ae).getImmediate({optional:!0})}globalThis[ja]||(globalThis[ja]=sd().then(Ae=>globalThis[Ys]=Ae).catch(()=>globalThis[Ys]=!1)),globalThis[fd]||(globalThis[fd]=Gn().then(Ae=>globalThis[fc]=Ae).catch(()=>globalThis[fc]=!1)),globalThis[Va]||(globalThis[Va]=Zo().then(Ae=>globalThis[Fc]=Ae).catch(()=>globalThis[Fc]=!1));const hc=(Ae,qe)=>{const St=qe?[qe]:(0,t.C6)(),Vt=[];return St.forEach(ln=>{ln.container.getProvider(Ae).instances.forEach(Bn=>{Vt.includes(Bn)||Vt.push(Bn)})}),Vt};function Vl(){}class go{constructor(qe,St=ud){this.zone=qe,this.delegate=St}now(){return this.delegate.now()}schedule(qe,St,Vt){const ln=this.zone;return this.delegate.schedule(function(Bn){ln.runGuarded(()=>{qe.apply(this,[Bn])})},St,Vt)}}class md{constructor(qe){this.zone=qe,this.task=null}call(qe,St){const Vt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vl,{},Vl,Vl)),St.pipe((0,Fa.b)({next:Vt,complete:Vt,error:Vt})).subscribe(qe).add(Vt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Gl=(()=>{class Ae{constructor(St){this.ngZone=St,this.outsideAngular=St.runOutsideAngular(()=>new go(Zone.current)),this.insideAngular=St.run(()=>new go(Zone.current,dc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Ae.\u0275fac=function(St){return new(St||Ae)(c.LFG(c.R0b))},Ae.\u0275prov=c.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})();function Cs(){const Ae=globalThis.\u0275AngularFireScheduler;if(!Ae)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Ae}function Kl(Ae){return Cs(),function Yd(Ae){return function(St){return(St=St.lift(new md(Ae.ngZone))).pipe((0,Ba.R)(Ae.outsideAngular),(0,Ua.Q)(Ae.insideAngular))}}(Cs())(Ae)}},6878:(jn,nt,S)=>{"use strict";S.d(nt,{$:()=>Nr,A:()=>g,D:()=>U,I:()=>Nt,J:()=>fr,L:()=>Wn,N:()=>xe,P:()=>ku,Q:()=>ta,R:()=>So,U:()=>Vo,V:()=>Zo,W:()=>ns,X:()=>ro,Y:()=>vr,Z:()=>lr,_:()=>hs,a:()=>so,a0:()=>Wr,a1:()=>Ps,a2:()=>ht,a3:()=>bo,a4:()=>Jo,a5:()=>gs,a6:()=>Mo,a7:()=>Aa,a8:()=>_s,a9:()=>Ja,aA:()=>J,aB:()=>Fc,aC:()=>ft,aD:()=>Oe,aE:()=>Ba,aF:()=>ld,aG:()=>Hd,aH:()=>un,aL:()=>Po,aO:()=>Go,aa:()=>Qa,ab:()=>Il,ac:()=>Xa,ad:()=>Ic,ae:()=>ec,af:()=>vs,ai:()=>Ol,aj:()=>Oa,ak:()=>Pa,an:()=>ms,ao:()=>Dt,aq:()=>bi,ar:()=>tc,as:()=>Fe,at:()=>an,au:()=>zt,av:()=>T,aw:()=>No,ax:()=>hd,ay:()=>mn,az:()=>N,b:()=>tl,c:()=>Ks,d:()=>Gd,e:()=>$f,f:()=>cd,g:()=>dd,h:()=>Ul,i:()=>sc,j:()=>dc,k:()=>Ko,l:()=>Ts,m:()=>Wd,p:()=>D,r:()=>al,s:()=>ua,u:()=>as});var c=S(5861),t=S(9058),b=S(534),w=S(7582),E=S(7879),F=S(4537);const D={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},g={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const U=function y(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},R=function M(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},V=new t.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),P=new E.Yd("@firebase/auth");function O(be,...H){P.logLevel<=E.in.ERROR&&P.error(`Auth (${b.SDK_VERSION}): ${be}`,...H)}function T(be,...H){throw Y(be,...H)}function N(be,...H){return Y(be,...H)}function C(be,H,Z){const Pe=Object.assign(Object.assign({},R()),{[H]:Z});return new t.LL("auth","Firebase",Pe).create(H,{appName:be.name})}function B(be,H,Z){if(!(H instanceof Z))throw Z.name!==H.constructor.name&&T(be,"argument-error"),C(be,"argument-error",`Type of ${H.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Y(be,...H){if("string"!=typeof be){const Z=H[0],Pe=[...H.slice(1)];return Pe[0]&&(Pe[0].appName=be.name),be._errorFactory.create(Z,...Pe)}return V.create(be,...H)}function J(be,H,...Z){if(!be)throw Y(H,...Z)}function ce(be){const H="INTERNAL ASSERTION FAILED: "+be;throw O(H),new Error(H)}function Fe(be,H){be||ce(H)}function q(){var be;return typeof self<"u"&&(null===(be=self.location)||void 0===be?void 0:be.href)||""}function le(){return"http:"===K()||"https:"===K()}function K(){var be;return typeof self<"u"&&(null===(be=self.location)||void 0===be?void 0:be.protocol)||null}class me{constructor(H,Z){this.shortDelay=H,this.longDelay=Z,Fe(Z>H,"Short delay should be less than long delay!"),this.isMobile=(0,t.uI)()||(0,t.b$)()}get(){return function _e(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(le()||(0,t.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function De(be,H){Fe(be.emulator,"Emulator should always be set here");const{url:Z}=be.emulator;return H?`${Z}${H.startsWith("/")?H.slice(1):H}`:Z}class Le{static initialize(H,Z,Pe){this.fetchImpl=H,Z&&(this.headersImpl=Z),Pe&&(this.responseImpl=Pe)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const he={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Re=new me(3e4,6e4);function Ie(be,H){return be.tenantId&&!H.tenantId?Object.assign(Object.assign({},H),{tenantId:be.tenantId}):H}function ge(be,H,Z,Pe){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,c.Z)(function*(be,H,Z,Pe,Mt={}){return ke(be,Mt,(0,c.Z)(function*(){let kt={},bn={};Pe&&("GET"===H?bn=Pe:kt={body:JSON.stringify(Pe)});const Nn=(0,t.xO)(Object.assign({key:be.config.apiKey},bn)).slice(1),si=yield be._getAdditionalHeaders();return si["Content-Type"]="application/json",be.languageCode&&(si["X-Firebase-Locale"]=be.languageCode),Le.fetch()(Qe(be,be.config.apiHost,Z,Nn),Object.assign({method:H,headers:si,referrerPolicy:"no-referrer"},kt))}))})).apply(this,arguments)}function ke(be,H,Z){return we.apply(this,arguments)}function we(){return(we=(0,c.Z)(function*(be,H,Z){be._canInitEmulator=!1;const Pe=Object.assign(Object.assign({},he),H);try{const Mt=new Ne(be),kt=yield Promise.race([Z(),Mt.promise]);Mt.clearNetworkTimeout();const bn=yield kt.json();if("needConfirmation"in bn)throw Se(be,"account-exists-with-different-credential",bn);if(kt.ok&&!("errorMessage"in bn))return bn;{const Nn=kt.ok?bn.errorMessage:bn.error.message,[si,xn]=Nn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===si)throw Se(be,"credential-already-in-use",bn);if("EMAIL_EXISTS"===si)throw Se(be,"email-already-in-use",bn);if("USER_DISABLED"===si)throw Se(be,"user-disabled",bn);const Ai=Pe[si]||si.toLowerCase().replace(/[_\s]+/g,"-");if(xn)throw C(be,Ai,xn);T(be,Ai)}}catch(Mt){if(Mt instanceof t.ZR)throw Mt;T(be,"network-request-failed",{message:String(Mt)})}})).apply(this,arguments)}function Ke(be,H,Z,Pe){return st.apply(this,arguments)}function st(){return(st=(0,c.Z)(function*(be,H,Z,Pe,Mt={}){const kt=yield ge(be,H,Z,Pe,Mt);return"mfaPendingCredential"in kt&&T(be,"multi-factor-auth-required",{_serverResponse:kt}),kt})).apply(this,arguments)}function Qe(be,H,Z,Pe){const Mt=`${H}${Z}?${Pe}`;return be.config.emulator?De(be.config,Mt):`${be.config.apiScheme}://${Mt}`}class Ne{constructor(H){this.auth=H,this.timer=null,this.promise=new Promise((Z,Pe)=>{this.timer=setTimeout(()=>Pe(N(this.auth,"network-request-failed")),Re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Se(be,H,Z){const Pe={appName:be.name};Z.email&&(Pe.email=Z.email),Z.phoneNumber&&(Pe.phoneNumber=Z.phoneNumber);const Mt=N(be,H,Pe);return Mt.customData._tokenResponse=Z,Mt}function ae(){return(ae=(0,c.Z)(function*(be,H){return ge(be,"POST","/v1/accounts:delete",H)})).apply(this,arguments)}function Q(){return(Q=(0,c.Z)(function*(be,H){return ge(be,"POST","/v1/accounts:update",H)})).apply(this,arguments)}function $(){return($=(0,c.Z)(function*(be,H){return ge(be,"POST","/v1/accounts:lookup",H)})).apply(this,arguments)}function ie(be){if(be)try{const H=new Date(Number(be));if(!isNaN(H.getTime()))return H.toUTCString()}catch{}}function ee(){return(ee=(0,c.Z)(function*(be,H=!1){const Z=(0,t.m9)(be),Pe=yield Z.getIdToken(H),Mt=ye(Pe);J(Mt&&Mt.exp&&Mt.auth_time&&Mt.iat,Z.auth,"internal-error");const kt="object"==typeof Mt.firebase?Mt.firebase:void 0,bn=kt?.sign_in_provider;return{claims:Mt,token:Pe,authTime:ie(fe(Mt.auth_time)),issuedAtTime:ie(fe(Mt.iat)),expirationTime:ie(fe(Mt.exp)),signInProvider:bn||null,signInSecondFactor:kt?.sign_in_second_factor||null}})).apply(this,arguments)}function fe(be){return 1e3*Number(be)}function ye(be){const[H,Z,Pe]=be.split(".");if(void 0===H||void 0===Z||void 0===Pe)return O("JWT malformed, contained fewer than 3 sections"),null;try{const Mt=(0,t.tV)(Z);return Mt?JSON.parse(Mt):(O("Failed to decode base64 JWT payload"),null)}catch(Mt){return O("Caught error parsing JWT payload as JSON",Mt?.toString()),null}}function Me(be,H){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,c.Z)(function*(be,H,Z=!1){if(Z)return H;try{return yield H}catch(Pe){throw Pe instanceof t.ZR&&function Ge({code:be}){return"auth/user-disabled"===be||"auth/user-token-expired"===be}(Pe)&&be.auth.currentUser===be&&(yield be.auth.signOut()),Pe}})).apply(this,arguments)}class at{constructor(H){this.user=H,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(H){var Z;if(H){const Pe=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),Pe}{this.errorBackoff=3e4;const Mt=(null!==(Z=this.user.stsTokenManager.expirationTime)&&void 0!==Z?Z:0)-Date.now()-3e5;return Math.max(0,Mt)}}schedule(H=!1){var Z=this;if(!this.isRunning)return;const Pe=this.getInterval(H);this.timerId=setTimeout((0,c.Z)(function*(){yield Z.iteration()}),Pe)}iteration(){var H=this;return(0,c.Z)(function*(){try{yield H.user.getIdToken(!0)}catch(Z){return void("auth/network-request-failed"===Z?.code&&H.schedule(!0))}H.schedule()})()}}class ct{constructor(H,Z){this.createdAt=H,this.lastLoginAt=Z,this._initializeTime()}_initializeTime(){this.lastSignInTime=ie(this.lastLoginAt),this.creationTime=ie(this.createdAt)}_copy(H){this.createdAt=H.createdAt,this.lastLoginAt=H.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rt(be){return _t.apply(this,arguments)}function _t(){return _t=(0,c.Z)(function*(be){var H;const Z=be.auth,Pe=yield be.getIdToken(),Mt=yield Me(be,function X(be,H){return $.apply(this,arguments)}(Z,{idToken:Pe}));J(Mt?.users.length,Z,"internal-error");const kt=Mt.users[0];be._notifyReloadListener(kt);const bn=null!==(H=kt.providerUserInfo)&&void 0!==H&&H.length?function Qt(be){return be.map(H=>{var{providerId:Z}=H,Pe=(0,w._T)(H,["providerId"]);return{providerId:Z,uid:Pe.rawId||"",displayName:Pe.displayName||null,email:Pe.email||null,phoneNumber:Pe.phoneNumber||null,photoURL:Pe.photoUrl||null}})}(kt.providerUserInfo):[],Nn=function jt(be,H){return[...be.filter(Pe=>!H.some(Mt=>Mt.providerId===Pe.providerId)),...H]}(be.providerData,bn),Ai=!!be.isAnonymous&&!(be.email&&kt.passwordHash||Nn?.length),pr={uid:kt.localId,displayName:kt.displayName||null,photoURL:kt.photoUrl||null,email:kt.email||null,emailVerified:kt.emailVerified||!1,phoneNumber:kt.phoneNumber||null,tenantId:kt.tenantId||null,providerData:Nn,metadata:new ct(kt.createdAt,kt.lastLoginAt),isAnonymous:Ai};Object.assign(be,pr)}),_t.apply(this,arguments)}function At(){return(At=(0,c.Z)(function*(be){const H=(0,t.m9)(be);yield rt(H),yield H.auth._persistUserIfCurrent(H),H.auth._notifyListenersIfCurrent(H)})).apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(be,H){const Z=yield ke(be,{},(0,c.Z)(function*(){const Pe=(0,t.xO)({grant_type:"refresh_token",refresh_token:H}).slice(1),{tokenApiHost:Mt,apiKey:kt}=be.config,bn=Qe(be,Mt,"/v1/token",`key=${kt}`),Nn=yield be._getAdditionalHeaders();return Nn["Content-Type"]="application/x-www-form-urlencoded",Le.fetch()(bn,{method:"POST",headers:Nn,body:Pe})}));return{accessToken:Z.access_token,expiresIn:Z.expires_in,refreshToken:Z.refresh_token}})).apply(this,arguments)}class Gt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(H){J(H.idToken,"internal-error"),J(typeof H.idToken<"u","internal-error"),J(typeof H.refreshToken<"u","internal-error");const Z="expiresIn"in H&&typeof H.expiresIn<"u"?Number(H.expiresIn):function ue(be){const H=ye(be);return J(H,"internal-error"),J(typeof H.exp<"u","internal-error"),J(typeof H.iat<"u","internal-error"),Number(H.exp)-Number(H.iat)}(H.idToken);this.updateTokensAndExpiration(H.idToken,H.refreshToken,Z)}getToken(H,Z=!1){var Pe=this;return(0,c.Z)(function*(){return J(!Pe.accessToken||Pe.refreshToken,H,"user-token-expired"),Z||!Pe.accessToken||Pe.isExpired?Pe.refreshToken?(yield Pe.refresh(H,Pe.refreshToken),Pe.accessToken):null:Pe.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(H,Z){var Pe=this;return(0,c.Z)(function*(){const{accessToken:Mt,refreshToken:kt,expiresIn:bn}=yield function cn(be,H){return dn.apply(this,arguments)}(H,Z);Pe.updateTokensAndExpiration(Mt,kt,Number(bn))})()}updateTokensAndExpiration(H,Z,Pe){this.refreshToken=Z||null,this.accessToken=H||null,this.expirationTime=Date.now()+1e3*Pe}static fromJSON(H,Z){const{refreshToken:Pe,accessToken:Mt,expirationTime:kt}=Z,bn=new Gt;return Pe&&(J("string"==typeof Pe,"internal-error",{appName:H}),bn.refreshToken=Pe),Mt&&(J("string"==typeof Mt,"internal-error",{appName:H}),bn.accessToken=Mt),kt&&(J("number"==typeof kt,"internal-error",{appName:H}),bn.expirationTime=kt),bn}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(H){this.accessToken=H.accessToken,this.refreshToken=H.refreshToken,this.expirationTime=H.expirationTime}_clone(){return Object.assign(new Gt,this.toJSON())}_performRefresh(){return ce("not implemented")}}function Cn(be,H){J("string"==typeof be||typeof be>"u","internal-error",{appName:H})}class en{constructor(H){var{uid:Z,auth:Pe,stsTokenManager:Mt}=H,kt=(0,w._T)(H,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new at(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=Z,this.auth=Pe,this.stsTokenManager=Mt,this.accessToken=Mt.accessToken,this.displayName=kt.displayName||null,this.email=kt.email||null,this.emailVerified=kt.emailVerified||!1,this.phoneNumber=kt.phoneNumber||null,this.photoURL=kt.photoURL||null,this.isAnonymous=kt.isAnonymous||!1,this.tenantId=kt.tenantId||null,this.providerData=kt.providerData?[...kt.providerData]:[],this.metadata=new ct(kt.createdAt||void 0,kt.lastLoginAt||void 0)}getIdToken(H){var Z=this;return(0,c.Z)(function*(){const Pe=yield Me(Z,Z.stsTokenManager.getToken(Z.auth,H));return J(Pe,Z.auth,"internal-error"),Z.accessToken!==Pe&&(Z.accessToken=Pe,yield Z.auth._persistUserIfCurrent(Z),Z.auth._notifyListenersIfCurrent(Z)),Pe})()}getIdTokenResult(H){return function te(be){return ee.apply(this,arguments)}(this,H)}reload(){return function Bt(be){return At.apply(this,arguments)}(this)}_assign(H){this!==H&&(J(this.uid===H.uid,this.auth,"internal-error"),this.displayName=H.displayName,this.photoURL=H.photoURL,this.email=H.email,this.emailVerified=H.emailVerified,this.phoneNumber=H.phoneNumber,this.isAnonymous=H.isAnonymous,this.tenantId=H.tenantId,this.providerData=H.providerData.map(Z=>Object.assign({},Z)),this.metadata._copy(H.metadata),this.stsTokenManager._assign(H.stsTokenManager))}_clone(H){const Z=new en(Object.assign(Object.assign({},this),{auth:H,stsTokenManager:this.stsTokenManager._clone()}));return Z.metadata._copy(this.metadata),Z}_onReload(H){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=H,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(H){this.reloadListener?this.reloadListener(H):this.reloadUserInfo=H}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(H,Z=!1){var Pe=this;return(0,c.Z)(function*(){let Mt=!1;H.idToken&&H.idToken!==Pe.stsTokenManager.accessToken&&(Pe.stsTokenManager.updateFromServerResponse(H),Mt=!0),Z&&(yield rt(Pe)),yield Pe.auth._persistUserIfCurrent(Pe),Mt&&Pe.auth._notifyListenersIfCurrent(Pe)})()}delete(){var H=this;return(0,c.Z)(function*(){const Z=yield H.getIdToken();return yield Me(H,function W(be,H){return ae.apply(this,arguments)}(H.auth,{idToken:Z})),H.stsTokenManager.clearRefreshToken(),H.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(H=>Object.assign({},H)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(H,Z){var Pe,Mt,kt,bn,Nn,si,xn,Ai;const pr=null!==(Pe=Z.displayName)&&void 0!==Pe?Pe:void 0,cs=null!==(Mt=Z.email)&&void 0!==Mt?Mt:void 0,mc=null!==(kt=Z.phoneNumber)&&void 0!==kt?kt:void 0,ju=null!==(bn=Z.photoURL)&&void 0!==bn?bn:void 0,Om=null!==(Nn=Z.tenantId)&&void 0!==Nn?Nn:void 0,Xf=null!==(si=Z._redirectEventId)&&void 0!==si?si:void 0,Ha=null!==(xn=Z.createdAt)&&void 0!==xn?xn:void 0,Vu=null!==(Ai=Z.lastLoginAt)&&void 0!==Ai?Ai:void 0,{uid:jc,emailVerified:pd,isAnonymous:Jd,providerData:gd,stsTokenManager:_d}=Z;J(jc&&_d,H,"internal-error");const Vc=Gt.fromJSON(this.name,_d);J("string"==typeof jc,H,"internal-error"),Cn(pr,H.name),Cn(cs,H.name),J("boolean"==typeof pd,H,"internal-error"),J("boolean"==typeof Jd,H,"internal-error"),Cn(mc,H.name),Cn(ju,H.name),Cn(Om,H.name),Cn(Xf,H.name),Cn(Ha,H.name),Cn(Vu,H.name);const pc=new en({uid:jc,auth:H,email:cs,emailVerified:pd,displayName:pr,isAnonymous:Jd,photoURL:ju,phoneNumber:mc,tenantId:Om,stsTokenManager:Vc,createdAt:Ha,lastLoginAt:Vu});return gd&&Array.isArray(gd)&&(pc.providerData=gd.map(eh=>Object.assign({},eh))),Xf&&(pc._redirectEventId=Xf),pc}static _fromIdTokenResponse(H,Z,Pe=!1){return(0,c.Z)(function*(){const Mt=new Gt;Mt.updateFromServerResponse(Z);const kt=new en({uid:Z.localId,auth:H,stsTokenManager:Mt,isAnonymous:Pe});return yield rt(kt),kt})()}}const xt=new Map;function ft(be){Fe(be instanceof Function,"Expected a class definition");let H=xt.get(be);return H?(Fe(H instanceof be,"Instance stored in cache mismatched with class"),H):(H=new be,xt.set(be,H),H)}const xe=(()=>{class be{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(Z,Pe){var Mt=this;return(0,c.Z)(function*(){Mt.storage[Z]=Pe})()}_get(Z){var Pe=this;return(0,c.Z)(function*(){const Mt=Pe.storage[Z];return void 0===Mt?null:Mt})()}_remove(Z){var Pe=this;return(0,c.Z)(function*(){delete Pe.storage[Z]})()}_addListener(Z,Pe){}_removeListener(Z,Pe){}}return be.type="NONE",be})();function Oe(be,H,Z){return`firebase:${be}:${H}:${Z}`}class We{constructor(H,Z,Pe){this.persistence=H,this.auth=Z,this.userKey=Pe;const{config:Mt,name:kt}=this.auth;this.fullUserKey=Oe(this.userKey,Mt.apiKey,kt),this.fullPersistenceKey=Oe("persistence",Mt.apiKey,kt),this.boundEventHandler=Z._onStorageEvent.bind(Z),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(H){return this.persistence._set(this.fullUserKey,H.toJSON())}getCurrentUser(){var H=this;return(0,c.Z)(function*(){const Z=yield H.persistence._get(H.fullUserKey);return Z?en._fromJSON(H.auth,Z):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(H){var Z=this;return(0,c.Z)(function*(){if(Z.persistence===H)return;const Pe=yield Z.getCurrentUser();return yield Z.removeCurrentUser(),Z.persistence=H,Pe?Z.setCurrentUser(Pe):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(H,Z,Pe="authUser"){return(0,c.Z)(function*(){if(!Z.length)return new We(ft(xe),H,Pe);const Mt=(yield Promise.all(Z.map(function(){var xn=(0,c.Z)(function*(Ai){if(yield Ai._isAvailable())return Ai});return function(Ai){return xn.apply(this,arguments)}}()))).filter(xn=>xn);let kt=Mt[0]||ft(xe);const bn=Oe(Pe,H.config.apiKey,H.name);let Nn=null;for(const xn of Z)try{const Ai=yield xn._get(bn);if(Ai){const pr=en._fromJSON(H,Ai);xn!==kt&&(Nn=pr),kt=xn;break}}catch{}const si=Mt.filter(xn=>xn._shouldAllowMigration);return kt._shouldAllowMigration&&si.length?(kt=si[0],Nn&&(yield kt._set(bn,Nn.toJSON())),yield Promise.all(Z.map(function(){var xn=(0,c.Z)(function*(Ai){if(Ai!==kt)try{yield Ai._remove(bn)}catch{}});return function(Ai){return xn.apply(this,arguments)}}())),new We(kt,H,Pe)):new We(kt,H,Pe)})()}}function $e(be){const H=be.toLowerCase();if(H.includes("opera/")||H.includes("opr/")||H.includes("opios/"))return"Opera";if(Lt(H))return"IEMobile";if(H.includes("msie")||H.includes("trident/"))return"IE";if(H.includes("edge/"))return"Edge";if(lt(H))return"Firefox";if(H.includes("silk/"))return"Silk";if(Rt(H))return"Blackberry";if($t(H))return"Webos";if(ot(H))return"Safari";if((H.includes("chrome/")||dt(H))&&!H.includes("edge/"))return"Chrome";if(zt(H))return"Android";{const Pe=be.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===Pe?.length)return Pe[1]}return"Other"}function lt(be=(0,t.z$)()){return/firefox\//i.test(be)}function ot(be=(0,t.z$)()){const H=be.toLowerCase();return H.includes("safari/")&&!H.includes("chrome/")&&!H.includes("crios/")&&!H.includes("android")}function dt(be=(0,t.z$)()){return/crios\//i.test(be)}function Lt(be=(0,t.z$)()){return/iemobile/i.test(be)}function zt(be=(0,t.z$)()){return/android/i.test(be)}function Rt(be=(0,t.z$)()){return/blackberry/i.test(be)}function $t(be=(0,t.z$)()){return/webos/i.test(be)}function an(be=(0,t.z$)()){return/iphone|ipad|ipod/i.test(be)||/macintosh/i.test(be)&&/mobile/i.test(be)}function mn(be=(0,t.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(be)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(be)}function Zn(be=(0,t.z$)()){return an(be)||zt(be)||$t(be)||Rt(be)||/windows phone/i.test(be)||Lt(be)}function ci(be,H=[]){let Z;switch(be){case"Browser":Z=$e((0,t.z$)());break;case"Worker":Z=`${$e((0,t.z$)())}-${be}`;break;default:Z=be}const Pe=H.length?H.join(","):"FirebaseCore-web";return`${Z}/JsCore/${b.SDK_VERSION}/${Pe}`}function gn(){return(gn=(0,c.Z)(function*(be){return(yield ge(be,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Et(be,H){return ut.apply(this,arguments)}function ut(){return(ut=(0,c.Z)(function*(be,H){return ge(be,"GET","/v2/recaptchaConfig",Ie(be,H))})).apply(this,arguments)}function Xt(be){return void 0!==be&&void 0!==be.getResponse}function Ze(be){return void 0!==be&&void 0!==be.enterprise}class et{constructor(H){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===H.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=H.recaptchaKey.split("/")[3],this.emailPasswordEnabled=H.recaptchaEnforcementState.some(Z=>"EMAIL_PASSWORD_PROVIDER"===Z.provider&&"OFF"!==Z.enforcementState)}}function qt(be){return new Promise((H,Z)=>{const Pe=document.createElement("script");Pe.setAttribute("src",be),Pe.onload=H,Pe.onerror=Mt=>{const kt=N("internal-error");kt.customData=Mt,Z(kt)},Pe.type="text/javascript",Pe.charset="UTF-8",function wt(){var be,H;return null!==(H=null===(be=document.getElementsByTagName("head"))||void 0===be?void 0:be[0])&&void 0!==H?H:document}().appendChild(Pe)})}function wn(be){return`__${be}${Math.floor(1e6*Math.random())}`}class nn{constructor(H){this.type="recaptcha-enterprise",this.auth=un(H)}verify(H="verify",Z=!1){var Pe=this;return(0,c.Z)(function*(){function kt(){return kt=(0,c.Z)(function*(Nn){if(!Z){if(null==Nn.tenantId&&null!=Nn._agentRecaptchaConfig)return Nn._agentRecaptchaConfig.siteKey;if(null!=Nn.tenantId&&void 0!==Nn._tenantRecaptchaConfigs[Nn.tenantId])return Nn._tenantRecaptchaConfigs[Nn.tenantId].siteKey}return new Promise(function(){var si=(0,c.Z)(function*(xn,Ai){Et(Nn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(pr=>{if(void 0!==pr.recaptchaKey){const cs=new et(pr);return null==Nn.tenantId?Nn._agentRecaptchaConfig=cs:Nn._tenantRecaptchaConfigs[Nn.tenantId]=cs,xn(cs.siteKey)}Ai(new Error("recaptcha Enterprise site key undefined"))}).catch(pr=>{Ai(pr)})});return function(xn,Ai){return si.apply(this,arguments)}}())}),kt.apply(this,arguments)}function bn(Nn,si,xn){const Ai=window.grecaptcha;Ze(Ai)?Ai.enterprise.ready(()=>{Ai.enterprise.execute(Nn,{action:H}).then(pr=>{si(pr)}).catch(()=>{si("NO_RECAPTCHA")})}):xn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Nn,si)=>{(function Mt(Nn){return kt.apply(this,arguments)})(Pe.auth).then(xn=>{if(!Z&&Ze(window.grecaptcha))bn(xn,Nn,si);else{if(typeof window>"u")return void si(new Error("RecaptchaVerifier is only supported in browser"));qt("https://www.google.com/recaptcha/enterprise.js?render="+xn).then(()=>{bn(xn,Nn,si)}).catch(Ai=>{si(Ai)})}}).catch(xn=>{si(xn)})})})()}}function Tn(be,H,Z){return Un.apply(this,arguments)}function Un(){return(Un=(0,c.Z)(function*(be,H,Z,Pe=!1){const Mt=new nn(be);let kt;try{kt=yield Mt.verify(Z)}catch{kt=yield Mt.verify(Z,!0)}const bn=Object.assign({},H);return Object.assign(bn,Pe?{captchaResp:kt}:{captchaResponse:kt}),Object.assign(bn,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(bn,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),bn})).apply(this,arguments)}class ei{constructor(H){this.auth=H,this.queue=[]}pushCallback(H,Z){const Pe=kt=>new Promise((bn,Nn)=>{try{bn(H(kt))}catch(si){Nn(si)}});Pe.onAbort=Z,this.queue.push(Pe);const Mt=this.queue.length-1;return()=>{this.queue[Mt]=()=>Promise.resolve()}}runMiddleware(H){var Z=this;return(0,c.Z)(function*(){if(Z.auth.currentUser===H)return;const Pe=[];try{for(const Mt of Z.queue)yield Mt(H),Mt.onAbort&&Pe.push(Mt.onAbort)}catch(Mt){Pe.reverse();for(const kt of Pe)try{kt()}catch{}throw Z.auth._errorFactory.create("login-blocked",{originalMessage:Mt?.message})}})()}}class bt{constructor(H,Z,Pe,Mt){this.app=H,this.heartbeatServiceProvider=Z,this.appCheckServiceProvider=Pe,this.config=Mt,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Te(this),this.idTokenSubscription=new Te(this),this.beforeStateQueue=new ei(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=H.name,this.clientVersion=Mt.sdkClientVersion}_initializeWithPersistence(H,Z){var Pe=this;return Z&&(this._popupRedirectResolver=ft(Z)),this._initializationPromise=this.queue((0,c.Z)(function*(){var Mt,kt;if(!Pe._deleted&&(Pe.persistenceManager=yield We.create(Pe,H),!Pe._deleted)){if(null!==(Mt=Pe._popupRedirectResolver)&&void 0!==Mt&&Mt._shouldInitProactively)try{yield Pe._popupRedirectResolver._initialize(Pe)}catch{}yield Pe.initializeCurrentUser(Z),Pe.lastNotifiedUid=(null===(kt=Pe.currentUser)||void 0===kt?void 0:kt.uid)||null,!Pe._deleted&&(Pe._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var H=this;return(0,c.Z)(function*(){if(H._deleted)return;const Z=yield H.assertedPersistence.getCurrentUser();if(H.currentUser||Z){if(H.currentUser&&Z&&H.currentUser.uid===Z.uid)return H._currentUser._assign(Z),void(yield H.currentUser.getIdToken());yield H._updateCurrentUser(Z,!0)}})()}initializeCurrentUser(H){var Z=this;return(0,c.Z)(function*(){var Pe;const Mt=yield Z.assertedPersistence.getCurrentUser();let kt=Mt,bn=!1;if(H&&Z.config.authDomain){yield Z.getOrInitRedirectPersistenceManager();const Nn=null===(Pe=Z.redirectUser)||void 0===Pe?void 0:Pe._redirectEventId,si=kt?._redirectEventId,xn=yield Z.tryRedirectSignIn(H);(!Nn||Nn===si)&&xn?.user&&(kt=xn.user,bn=!0)}if(!kt)return Z.directlySetCurrentUser(null);if(!kt._redirectEventId){if(bn)try{yield Z.beforeStateQueue.runMiddleware(kt)}catch(Nn){kt=Mt,Z._popupRedirectResolver._overrideRedirectResult(Z,()=>Promise.reject(Nn))}return kt?Z.reloadAndSetCurrentUserOrClear(kt):Z.directlySetCurrentUser(null)}return J(Z._popupRedirectResolver,Z,"argument-error"),yield Z.getOrInitRedirectPersistenceManager(),Z.redirectUser&&Z.redirectUser._redirectEventId===kt._redirectEventId?Z.directlySetCurrentUser(kt):Z.reloadAndSetCurrentUserOrClear(kt)})()}tryRedirectSignIn(H){var Z=this;return(0,c.Z)(function*(){let Pe=null;try{Pe=yield Z._popupRedirectResolver._completeRedirectFn(Z,H,!0)}catch{yield Z._setRedirectUser(null)}return Pe})()}reloadAndSetCurrentUserOrClear(H){var Z=this;return(0,c.Z)(function*(){try{yield rt(H)}catch(Pe){if("auth/network-request-failed"!==Pe?.code)return Z.directlySetCurrentUser(null)}return Z.directlySetCurrentUser(H)})()}useDeviceLanguage(){this.languageCode=function se(){if(typeof navigator>"u")return null;const be=navigator;return be.languages&&be.languages[0]||be.language||null}()}_delete(){var H=this;return(0,c.Z)(function*(){H._deleted=!0})()}updateCurrentUser(H){var Z=this;return(0,c.Z)(function*(){const Pe=H?(0,t.m9)(H):null;return Pe&&J(Pe.auth.config.apiKey===Z.config.apiKey,Z,"invalid-user-token"),Z._updateCurrentUser(Pe&&Pe._clone(Z))})()}_updateCurrentUser(H,Z=!1){var Pe=this;return(0,c.Z)(function*(){if(!Pe._deleted)return H&&J(Pe.tenantId===H.tenantId,Pe,"tenant-id-mismatch"),Z||(yield Pe.beforeStateQueue.runMiddleware(H)),Pe.queue((0,c.Z)(function*(){yield Pe.directlySetCurrentUser(H),Pe.notifyAuthListeners()}))})()}signOut(){var H=this;return(0,c.Z)(function*(){return yield H.beforeStateQueue.runMiddleware(null),(H.redirectPersistenceManager||H._popupRedirectResolver)&&(yield H._setRedirectUser(null)),H._updateCurrentUser(null,!0)})()}setPersistence(H){var Z=this;return this.queue((0,c.Z)(function*(){yield Z.assertedPersistence.setPersistence(ft(H))}))}initializeRecaptchaConfig(){var H=this;return(0,c.Z)(function*(){const Z=yield Et(H,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),Pe=new et(Z);null==H.tenantId?H._agentRecaptchaConfig=Pe:H._tenantRecaptchaConfigs[H.tenantId]=Pe,Pe.emailPasswordEnabled&&new nn(H).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(H){this._errorFactory=new t.LL("auth","Firebase",H())}onAuthStateChanged(H,Z,Pe){return this.registerStateListener(this.authStateSubscription,H,Z,Pe)}beforeAuthStateChanged(H,Z){return this.beforeStateQueue.pushCallback(H,Z)}onIdTokenChanged(H,Z,Pe){return this.registerStateListener(this.idTokenSubscription,H,Z,Pe)}toJSON(){var H;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(H=this._currentUser)||void 0===H?void 0:H.toJSON()}}_setRedirectUser(H,Z){var Pe=this;return(0,c.Z)(function*(){const Mt=yield Pe.getOrInitRedirectPersistenceManager(Z);return null===H?Mt.removeCurrentUser():Mt.setCurrentUser(H)})()}getOrInitRedirectPersistenceManager(H){var Z=this;return(0,c.Z)(function*(){if(!Z.redirectPersistenceManager){const Pe=H&&ft(H)||Z._popupRedirectResolver;J(Pe,Z,"argument-error"),Z.redirectPersistenceManager=yield We.create(Z,[ft(Pe._redirectPersistence)],"redirectUser"),Z.redirectUser=yield Z.redirectPersistenceManager.getCurrentUser()}return Z.redirectPersistenceManager})()}_redirectUserForId(H){var Z=this;return(0,c.Z)(function*(){var Pe,Mt;return Z._isInitialized&&(yield Z.queue((0,c.Z)(function*(){}))),(null===(Pe=Z._currentUser)||void 0===Pe?void 0:Pe._redirectEventId)===H?Z._currentUser:(null===(Mt=Z.redirectUser)||void 0===Mt?void 0:Mt._redirectEventId)===H?Z.redirectUser:null})()}_persistUserIfCurrent(H){var Z=this;return(0,c.Z)(function*(){if(H===Z.currentUser)return Z.queue((0,c.Z)(function*(){return Z.directlySetCurrentUser(H)}))})()}_notifyListenersIfCurrent(H){H===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var H,Z;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const Pe=null!==(Z=null===(H=this.currentUser)||void 0===H?void 0:H.uid)&&void 0!==Z?Z:null;this.lastNotifiedUid!==Pe&&(this.lastNotifiedUid=Pe,this.authStateSubscription.next(this.currentUser))}registerStateListener(H,Z,Pe,Mt){if(this._deleted)return()=>{};const kt="function"==typeof Z?Z:Z.next.bind(Z),bn=this._isInitialized?Promise.resolve():this._initializationPromise;return J(bn,this,"internal-error"),bn.then(()=>kt(this.currentUser)),"function"==typeof Z?H.addObserver(Z,Pe,Mt):H.addObserver(Z)}directlySetCurrentUser(H){var Z=this;return(0,c.Z)(function*(){Z.currentUser&&Z.currentUser!==H&&Z._currentUser._stopProactiveRefresh(),H&&Z.isProactiveRefreshEnabled&&H._startProactiveRefresh(),Z.currentUser=H,H?yield Z.assertedPersistence.setCurrentUser(H):yield Z.assertedPersistence.removeCurrentUser()})()}queue(H){return this.operations=this.operations.then(H,H),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(H){!H||this.frameworks.includes(H)||(this.frameworks.push(H),this.frameworks.sort(),this.clientVersion=ci(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var H=this;return(0,c.Z)(function*(){var Z;const Pe={"X-Client-Version":H.clientVersion};H.app.options.appId&&(Pe["X-Firebase-gmpid"]=H.app.options.appId);const Mt=yield null===(Z=H.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===Z?void 0:Z.getHeartbeatsHeader();Mt&&(Pe["X-Firebase-Client"]=Mt);const kt=yield H._getAppCheckToken();return kt&&(Pe["X-Firebase-AppCheck"]=kt),Pe})()}_getAppCheckToken(){var H=this;return(0,c.Z)(function*(){var Z;const Pe=yield null===(Z=H.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===Z?void 0:Z.getToken();return Pe?.error&&function x(be,...H){P.logLevel<=E.in.WARN&&P.warn(`Auth (${b.SDK_VERSION}): ${be}`,...H)}(`Error while retrieving App Check token: ${Pe.error}`),Pe?.token})()}}function un(be){return(0,t.m9)(be)}class Te{constructor(H){this.auth=H,this.observer=null,this.addObserver=(0,t.ne)(Z=>this.observer=Z)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Nt(be,H,Z){const Pe=un(be);J(Pe._canInitEmulator,Pe,"emulator-config-failed"),J(/^https?:\/\//.test(H),Pe,"invalid-emulator-scheme");const Mt=!!Z?.disableWarnings,kt=on(H),{host:bn,port:Nn}=function ti(be){const H=on(be),Z=/(\/\/)?([^?#/]+)/.exec(be.substr(H.length));if(!Z)return{host:"",port:null};const Pe=Z[2].split("@").pop()||"",Mt=/^(\[[^\]]+\])(:|$)/.exec(Pe);if(Mt){const kt=Mt[1];return{host:kt,port:fi(Pe.substr(kt.length+1))}}{const[kt,bn]=Pe.split(":");return{host:kt,port:fi(bn)}}}(H);Pe.config.emulator={url:`${kt}//${bn}${null===Nn?"":`:${Nn}`}/`},Pe.settings.appVerificationDisabledForTesting=!0,Pe.emulatorConfig=Object.freeze({host:bn,port:Nn,protocol:kt.replace(":",""),options:Object.freeze({disableWarnings:Mt})}),Mt||function Oi(){function be(){const H=document.createElement("p"),Z=H.style;H.innerText="Running in emulator mode. Do not use with production credentials.",Z.position="fixed",Z.width="100%",Z.backgroundColor="#ffffff",Z.border=".1em solid #000000",Z.color="#b50000",Z.bottom="0px",Z.left="0px",Z.margin="0px",Z.zIndex="10000",Z.textAlign="center",H.classList.add("firebase-emulator-warning"),document.body.appendChild(H)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",be):be())}()}function on(be){const H=be.indexOf(":");return H<0?"":be.substr(0,H+1)}function fi(be){if(!be)return null;const H=Number(be);return isNaN(H)?null:H}class fr{constructor(H,Z){this.providerId=H,this.signInMethod=Z}toJSON(){return ce("not implemented")}_getIdTokenResponse(H){return ce("not implemented")}_linkToIdToken(H,Z){return ce("not implemented")}_getReauthenticationResolver(H){return ce("not implemented")}}function gr(be,H){return fo.apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(be,H){return ge(be,"POST","/v1/accounts:resetPassword",Ie(be,H))})).apply(this,arguments)}function ki(be,H){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(be,H){return ge(be,"POST","/v1/accounts:update",H)})).apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(be,H){return ge(be,"POST","/v1/accounts:update",Ie(be,H))})).apply(this,arguments)}function Dr(be,H){return zi.apply(this,arguments)}function zi(){return(zi=(0,c.Z)(function*(be,H){return Ke(be,"POST","/v1/accounts:signInWithPassword",Ie(be,H))})).apply(this,arguments)}function $r(be,H){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,c.Z)(function*(be,H){return ge(be,"POST","/v1/accounts:sendOobCode",Ie(be,H))})).apply(this,arguments)}function Co(){return(Co=(0,c.Z)(function*(be,H){return $r(be,H)})).apply(this,arguments)}function Kr(be,H){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(be,H){return $r(be,H)})).apply(this,arguments)}function Io(be,H){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(be,H){return $r(be,H)})).apply(this,arguments)}function Pi(){return(Pi=(0,c.Z)(function*(be,H){return $r(be,H)})).apply(this,arguments)}function Ki(){return(Ki=(0,c.Z)(function*(be,H){return Ke(be,"POST","/v1/accounts:signInWithEmailLink",Ie(be,H))})).apply(this,arguments)}function Ir(){return(Ir=(0,c.Z)(function*(be,H){return Ke(be,"POST","/v1/accounts:signInWithEmailLink",Ie(be,H))})).apply(this,arguments)}class Br extends fr{constructor(H,Z,Pe,Mt=null){super("password",Pe),this._email=H,this._password=Z,this._tenantId=Mt}static _fromEmailAndPassword(H,Z){return new Br(H,Z,"password")}static _fromEmailAndCode(H,Z,Pe=null){return new Br(H,Z,"emailLink",Pe)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(H){const Z="string"==typeof H?JSON.parse(H):H;if(Z?.email&&Z?.password){if("password"===Z.signInMethod)return this._fromEmailAndPassword(Z.email,Z.password);if("emailLink"===Z.signInMethod)return this._fromEmailAndCode(Z.email,Z.password,Z.tenantId)}return null}_getIdTokenResponse(H){var Z=this;return(0,c.Z)(function*(){var Pe;switch(Z.signInMethod){case"password":const Mt={returnSecureToken:!0,email:Z._email,password:Z._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(Pe=H._getRecaptchaConfig())&&void 0!==Pe&&Pe.emailPasswordEnabled){const kt=yield Tn(H,Mt,"signInWithPassword");return Dr(H,kt)}return Dr(H,Mt).catch(function(){var kt=(0,c.Z)(function*(bn){if("auth/missing-recaptcha-token"===bn.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Nn=yield Tn(H,Mt,"signInWithPassword");return Dr(H,Nn)}return Promise.reject(bn)});return function(bn){return kt.apply(this,arguments)}}());case"emailLink":return function xi(be,H){return Ki.apply(this,arguments)}(H,{email:Z._email,oobCode:Z._password});default:T(H,"internal-error")}})()}_linkToIdToken(H,Z){var Pe=this;return(0,c.Z)(function*(){switch(Pe.signInMethod){case"password":return ki(H,{idToken:Z,returnSecureToken:!0,email:Pe._email,password:Pe._password});case"emailLink":return function no(be,H){return Ir.apply(this,arguments)}(H,{idToken:Z,email:Pe._email,oobCode:Pe._password});default:T(H,"internal-error")}})()}_getReauthenticationResolver(H){return this._getIdTokenResponse(H)}}function Zt(be,H){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(be,H){return Ke(be,"POST","/v1/accounts:signInWithIdp",Ie(be,H))})).apply(this,arguments)}class Wn extends fr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(H){const Z=new Wn(H.providerId,H.signInMethod);return H.idToken||H.accessToken?(H.idToken&&(Z.idToken=H.idToken),H.accessToken&&(Z.accessToken=H.accessToken),H.nonce&&!H.pendingToken&&(Z.nonce=H.nonce),H.pendingToken&&(Z.pendingToken=H.pendingToken)):H.oauthToken&&H.oauthTokenSecret?(Z.accessToken=H.oauthToken,Z.secret=H.oauthTokenSecret):T("argument-error"),Z}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(H){const Z="string"==typeof H?JSON.parse(H):H,{providerId:Pe,signInMethod:Mt}=Z,kt=(0,w._T)(Z,["providerId","signInMethod"]);if(!Pe||!Mt)return null;const bn=new Wn(Pe,Mt);return bn.idToken=kt.idToken||void 0,bn.accessToken=kt.accessToken||void 0,bn.secret=kt.secret,bn.nonce=kt.nonce,bn.pendingToken=kt.pendingToken||null,bn}_getIdTokenResponse(H){return Zt(H,this.buildRequest())}_linkToIdToken(H,Z){const Pe=this.buildRequest();return Pe.idToken=Z,Zt(H,Pe)}_getReauthenticationResolver(H){const Z=this.buildRequest();return Z.autoCreate=!1,Zt(H,Z)}buildRequest(){const H={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)H.pendingToken=this.pendingToken;else{const Z={};this.idToken&&(Z.id_token=this.idToken),this.accessToken&&(Z.access_token=this.accessToken),this.secret&&(Z.oauth_token_secret=this.secret),Z.providerId=this.providerId,this.nonce&&!this.pendingToken&&(Z.nonce=this.nonce),H.postBody=(0,t.xO)(Z)}return H}}function Ii(){return(Ii=(0,c.Z)(function*(be,H){return ge(be,"POST","/v1/accounts:sendVerificationCode",Ie(be,H))})).apply(this,arguments)}function wi(){return(wi=(0,c.Z)(function*(be,H){return Ke(be,"POST","/v1/accounts:signInWithPhoneNumber",Ie(be,H))})).apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(be,H){const Z=yield Ke(be,"POST","/v1/accounts:signInWithPhoneNumber",Ie(be,H));if(Z.temporaryProof)throw Se(be,"account-exists-with-different-credential",Z);return Z})).apply(this,arguments)}const io={USER_NOT_FOUND:"user-not-found"};function ts(){return(ts=(0,c.Z)(function*(be,H){return Ke(be,"POST","/v1/accounts:signInWithPhoneNumber",Ie(be,Object.assign(Object.assign({},H),{operation:"REAUTH"})),io)})).apply(this,arguments)}class Ur extends fr{constructor(H){super("phone","phone"),this.params=H}static _fromVerification(H,Z){return new Ur({verificationId:H,verificationCode:Z})}static _fromTokenResponse(H,Z){return new Ur({phoneNumber:H,temporaryProof:Z})}_getIdTokenResponse(H){return function Ni(be,H){return wi.apply(this,arguments)}(H,this._makeVerificationRequest())}_linkToIdToken(H,Z){return function _r(be,H){return Pr.apply(this,arguments)}(H,Object.assign({idToken:Z},this._makeVerificationRequest()))}_getReauthenticationResolver(H){return function ho(be,H){return ts.apply(this,arguments)}(H,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:H,phoneNumber:Z,verificationId:Pe,verificationCode:Mt}=this.params;return H&&Z?{temporaryProof:H,phoneNumber:Z}:{sessionInfo:Pe,code:Mt}}toJSON(){const H={providerId:this.providerId};return this.params.phoneNumber&&(H.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(H.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(H.verificationCode=this.params.verificationCode),this.params.verificationId&&(H.verificationId=this.params.verificationId),H}static fromJSON(H){"string"==typeof H&&(H=JSON.parse(H));const{verificationId:Z,verificationCode:Pe,phoneNumber:Mt,temporaryProof:kt}=H;return Pe||Z||Mt||kt?new Ur({verificationId:Z,verificationCode:Pe,phoneNumber:Mt,temporaryProof:kt}):null}}class hr{constructor(H){var Z,Pe,Mt,kt,bn,Nn;const si=(0,t.zd)((0,t.pd)(H)),xn=null!==(Z=si.apiKey)&&void 0!==Z?Z:null,Ai=null!==(Pe=si.oobCode)&&void 0!==Pe?Pe:null,pr=function Yr(be){switch(be){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Mt=si.mode)&&void 0!==Mt?Mt:null);J(xn&&Ai&&pr,"argument-error"),this.apiKey=xn,this.operation=pr,this.code=Ai,this.continueUrl=null!==(kt=si.continueUrl)&&void 0!==kt?kt:null,this.languageCode=null!==(bn=si.languageCode)&&void 0!==bn?bn:null,this.tenantId=null!==(Nn=si.tenantId)&&void 0!==Nn?Nn:null}static parseLink(H){const Z=function jo(be){const H=(0,t.zd)((0,t.pd)(be)).link,Z=H?(0,t.zd)((0,t.pd)(H)).deep_link_id:null,Pe=(0,t.zd)((0,t.pd)(be)).deep_link_id;return(Pe?(0,t.zd)((0,t.pd)(Pe)).link:null)||Pe||Z||H||be}(H);try{return new hr(Z)}catch{return null}}}let ta=(()=>{class be{constructor(){this.providerId=be.PROVIDER_ID}static credential(Z,Pe){return Br._fromEmailAndPassword(Z,Pe)}static credentialWithLink(Z,Pe){const Mt=hr.parseLink(Pe);return J(Mt,"argument-error"),Br._fromEmailAndCode(Z,Mt.code,Mt.tenantId)}}return be.PROVIDER_ID="password",be.EMAIL_PASSWORD_SIGN_IN_METHOD="password",be.EMAIL_LINK_SIGN_IN_METHOD="emailLink",be})();class Do{constructor(H){this.providerId=H,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(H){this.defaultLanguageCode=H}setCustomParameters(H){return this.customParameters=H,this}getCustomParameters(){return this.customParameters}}class fs extends Do{constructor(){super(...arguments),this.scopes=[]}addScope(H){return this.scopes.includes(H)||this.scopes.push(H),this}getScopes(){return[...this.scopes]}}class ro extends fs{static credentialFromJSON(H){const Z="string"==typeof H?JSON.parse(H):H;return J("providerId"in Z&&"signInMethod"in Z,"argument-error"),Wn._fromParams(Z)}credential(H){return this._credential(Object.assign(Object.assign({},H),{nonce:H.rawNonce}))}_credential(H){return J(H.idToken||H.accessToken,"argument-error"),Wn._fromParams(Object.assign(Object.assign({},H),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(H){return ro.oauthCredentialFromTaggedObject(H)}static credentialFromError(H){return ro.oauthCredentialFromTaggedObject(H.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:H}){if(!H)return null;const{oauthIdToken:Z,oauthAccessToken:Pe,oauthTokenSecret:Mt,pendingToken:kt,nonce:bn,providerId:Nn}=H;if(!Pe&&!Mt&&!Z&&!kt||!Nn)return null;try{return new ro(Nn)._credential({idToken:Z,accessToken:Pe,nonce:bn,pendingToken:kt})}catch{return null}}}let Vo=(()=>{class be extends fs{constructor(){super("facebook.com")}static credential(Z){return Wn._fromParams({providerId:be.PROVIDER_ID,signInMethod:be.FACEBOOK_SIGN_IN_METHOD,accessToken:Z})}static credentialFromResult(Z){return be.credentialFromTaggedObject(Z)}static credentialFromError(Z){return be.credentialFromTaggedObject(Z.customData||{})}static credentialFromTaggedObject({_tokenResponse:Z}){if(!Z||!("oauthAccessToken"in Z)||!Z.oauthAccessToken)return null;try{return be.credential(Z.oauthAccessToken)}catch{return null}}}return be.FACEBOOK_SIGN_IN_METHOD="facebook.com",be.PROVIDER_ID="facebook.com",be})(),Zo=(()=>{class be extends fs{constructor(){super("google.com"),this.addScope("profile")}static credential(Z,Pe){return Wn._fromParams({providerId:be.PROVIDER_ID,signInMethod:be.GOOGLE_SIGN_IN_METHOD,idToken:Z,accessToken:Pe})}static credentialFromResult(Z){return be.credentialFromTaggedObject(Z)}static credentialFromError(Z){return be.credentialFromTaggedObject(Z.customData||{})}static credentialFromTaggedObject({_tokenResponse:Z}){if(!Z)return null;const{oauthIdToken:Pe,oauthAccessToken:Mt}=Z;if(!Pe&&!Mt)return null;try{return be.credential(Pe,Mt)}catch{return null}}}return be.GOOGLE_SIGN_IN_METHOD="google.com",be.PROVIDER_ID="google.com",be})(),ns=(()=>{class be extends fs{constructor(){super("github.com")}static credential(Z){return Wn._fromParams({providerId:be.PROVIDER_ID,signInMethod:be.GITHUB_SIGN_IN_METHOD,accessToken:Z})}static credentialFromResult(Z){return be.credentialFromTaggedObject(Z)}static credentialFromError(Z){return be.credentialFromTaggedObject(Z.customData||{})}static credentialFromTaggedObject({_tokenResponse:Z}){if(!Z||!("oauthAccessToken"in Z)||!Z.oauthAccessToken)return null;try{return be.credential(Z.oauthAccessToken)}catch{return null}}}return be.GITHUB_SIGN_IN_METHOD="github.com",be.PROVIDER_ID="github.com",be})();class Go extends fr{constructor(H,Z){super(H,H),this.pendingToken=Z}_getIdTokenResponse(H){return Zt(H,this.buildRequest())}_linkToIdToken(H,Z){const Pe=this.buildRequest();return Pe.idToken=Z,Zt(H,Pe)}_getReauthenticationResolver(H){const Z=this.buildRequest();return Z.autoCreate=!1,Zt(H,Z)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(H){const Z="string"==typeof H?JSON.parse(H):H,{providerId:Pe,signInMethod:Mt,pendingToken:kt}=Z;return Pe&&Mt&&kt&&Pe===Mt?new Go(Pe,kt):null}static _create(H,Z){return new Go(H,Z)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vr extends Do{constructor(H){J(H.startsWith("saml."),"argument-error"),super(H)}static credentialFromResult(H){return vr.samlCredentialFromTaggedObject(H)}static credentialFromError(H){return vr.samlCredentialFromTaggedObject(H.customData||{})}static credentialFromJSON(H){const Z=Go.fromJSON(H);return J(Z,"argument-error"),Z}static samlCredentialFromTaggedObject({_tokenResponse:H}){if(!H)return null;const{pendingToken:Z,providerId:Pe}=H;if(!Z||!Pe)return null;try{return Go._create(Pe,Z)}catch{return null}}}let lr=(()=>{class be extends fs{constructor(){super("twitter.com")}static credential(Z,Pe){return Wn._fromParams({providerId:be.PROVIDER_ID,signInMethod:be.TWITTER_SIGN_IN_METHOD,oauthToken:Z,oauthTokenSecret:Pe})}static credentialFromResult(Z){return be.credentialFromTaggedObject(Z)}static credentialFromError(Z){return be.credentialFromTaggedObject(Z.customData||{})}static credentialFromTaggedObject({_tokenResponse:Z}){if(!Z)return null;const{oauthAccessToken:Pe,oauthTokenSecret:Mt}=Z;if(!Pe||!Mt)return null;try{return be.credential(Pe,Mt)}catch{return null}}}return be.TWITTER_SIGN_IN_METHOD="twitter.com",be.PROVIDER_ID="twitter.com",be})();function eo(be,H){return $o.apply(this,arguments)}function $o(){return($o=(0,c.Z)(function*(be,H){return Ke(be,"POST","/v1/accounts:signUp",Ie(be,H))})).apply(this,arguments)}class cr{constructor(H){this.user=H.user,this.providerId=H.providerId,this._tokenResponse=H._tokenResponse,this.operationType=H.operationType}static _fromIdTokenResponse(H,Z,Pe,Mt=!1){return(0,c.Z)(function*(){const kt=yield en._fromIdTokenResponse(H,Pe,Mt),bn=ir(Pe);return new cr({user:kt,providerId:bn,_tokenResponse:Pe,operationType:Z})})()}static _forOperation(H,Z,Pe){return(0,c.Z)(function*(){yield H._updateTokensIfNecessary(Pe,!0);const Mt=ir(Pe);return new cr({user:H,providerId:Mt,_tokenResponse:Pe,operationType:Z})})()}}function ir(be){return be.providerId?be.providerId:"phoneNumber"in be?"phone":null}function hs(be){return wo.apply(this,arguments)}function wo(){return(wo=(0,c.Z)(function*(be){var H;const Z=un(be);if(yield Z._initializationPromise,null!==(H=Z.currentUser)&&void 0!==H&&H.isAnonymous)return new cr({user:Z.currentUser,providerId:null,operationType:"signIn"});const Pe=yield eo(Z,{returnSecureToken:!0}),Mt=yield cr._fromIdTokenResponse(Z,"signIn",Pe,!0);return yield Z._updateCurrentUser(Mt.user),Mt})).apply(this,arguments)}class js extends t.ZR{constructor(H,Z,Pe,Mt){var kt;super(Z.code,Z.message),this.operationType=Pe,this.user=Mt,Object.setPrototypeOf(this,js.prototype),this.customData={appName:H.name,tenantId:null!==(kt=H.tenantId)&&void 0!==kt?kt:void 0,_serverResponse:Z.customData._serverResponse,operationType:Pe}}static _fromErrorAndOperation(H,Z,Pe,Mt){return new js(H,Z,Pe,Mt)}}function ws(be,H,Z,Pe){return("reauthenticate"===H?Z._getReauthenticationResolver(be):Z._getIdTokenResponse(be)).catch(kt=>{throw"auth/multi-factor-auth-required"===kt.code?js._fromErrorAndOperation(be,kt,H,Pe):kt})}function is(be){return new Set(be.map(({providerId:H})=>H).filter(H=>!!H))}function ms(be,H){return na.apply(this,arguments)}function na(){return na=(0,c.Z)(function*(be,H){const Z=(0,t.m9)(be);yield mr(!0,Z,H);const{providerUserInfo:Pe}=yield function ve(be,H){return Q.apply(this,arguments)}(Z.auth,{idToken:yield Z.getIdToken(),deleteProvider:[H]}),Mt=is(Pe||[]);return Z.providerData=Z.providerData.filter(kt=>Mt.has(kt.providerId)),Mt.has("phone")||(Z.phoneNumber=null),yield Z.auth._persistUserIfCurrent(Z),Z}),na.apply(this,arguments)}function Rr(be,H){return lo.apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(be,H,Z=!1){const Pe=yield Me(be,H._linkToIdToken(be.auth,yield be.getIdToken()),Z);return cr._forOperation(be,"link",Pe)})).apply(this,arguments)}function mr(be,H,Z){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,c.Z)(function*(be,H,Z){yield rt(H);const Mt=!1===be?"provider-already-linked":"no-such-provider";J(is(H.providerData).has(Z)===be,H.auth,Mt)})).apply(this,arguments)}function qo(be,H){return ps.apply(this,arguments)}function ps(){return(ps=(0,c.Z)(function*(be,H,Z=!1){const{auth:Pe}=be,Mt="reauthenticate";try{const kt=yield Me(be,ws(Pe,Mt,H,be),Z);J(kt.idToken,Pe,"internal-error");const bn=ye(kt.idToken);J(bn,Pe,"internal-error");const{sub:Nn}=bn;return J(be.uid===Nn,Pe,"user-mismatch"),cr._forOperation(be,Mt,kt)}catch(kt){throw"auth/user-not-found"===kt?.code&&T(Pe,"user-mismatch"),kt}})).apply(this,arguments)}function ia(be,H){return xo.apply(this,arguments)}function xo(){return(xo=(0,c.Z)(function*(be,H,Z=!1){const Mt=yield ws(be,"signIn",H),kt=yield cr._fromIdTokenResponse(be,"signIn",Mt);return Z||(yield be._updateCurrentUser(kt.user)),kt})).apply(this,arguments)}function Nr(be,H){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(be,H){return ia(un(be),H)})).apply(this,arguments)}function Wr(be,H){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(be,H){const Z=(0,t.m9)(be);return yield mr(!1,Z,H.providerId),Rr(Z,H)})).apply(this,arguments)}function Ps(be,H){return dr.apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(be,H){return qo((0,t.m9)(be),H)})).apply(this,arguments)}function it(){return(it=(0,c.Z)(function*(be,H){return Ke(be,"POST","/v1/accounts:signInWithCustomToken",Ie(be,H))})).apply(this,arguments)}function ht(be,H){return Je.apply(this,arguments)}function Je(){return Je=(0,c.Z)(function*(be,H){const Z=un(be),Pe=yield function pn(be,H){return it.apply(this,arguments)}(Z,{token:H,returnSecureToken:!0}),Mt=yield cr._fromIdTokenResponse(Z,"signIn",Pe);return yield Z._updateCurrentUser(Mt.user),Mt}),Je.apply(this,arguments)}class It{constructor(H,Z){this.factorId=H,this.uid=Z.mfaEnrollmentId,this.enrollmentTime=new Date(Z.enrolledAt).toUTCString(),this.displayName=Z.displayName}static _fromServerResponse(H,Z){return"phoneInfo"in Z?rn._fromServerResponse(H,Z):"totpInfo"in Z?li._fromServerResponse(H,Z):T(H,"internal-error")}}class rn extends It{constructor(H){super("phone",H),this.phoneNumber=H.phoneInfo}static _fromServerResponse(H,Z){return new rn(Z)}}class li extends It{constructor(H){super("totp",H)}static _fromServerResponse(H,Z){return new li(Z)}}function Ri(be,H,Z){var Pe;J((null===(Pe=Z.url)||void 0===Pe?void 0:Pe.length)>0,be,"invalid-continue-uri"),J(typeof Z.dynamicLinkDomain>"u"||Z.dynamicLinkDomain.length>0,be,"invalid-dynamic-link-domain"),H.continueUrl=Z.url,H.dynamicLinkDomain=Z.dynamicLinkDomain,H.canHandleCodeInApp=Z.handleCodeInApp,Z.iOS&&(J(Z.iOS.bundleId.length>0,be,"missing-ios-bundle-id"),H.iOSBundleId=Z.iOS.bundleId),Z.android&&(J(Z.android.packageName.length>0,be,"missing-android-pkg-name"),H.androidInstallApp=Z.android.installApp,H.androidMinimumVersionCode=Z.android.minimumVersion,H.androidPackageName=Z.android.packageName)}function bo(be,H,Z){return Eo.apply(this,arguments)}function Eo(){return Eo=(0,c.Z)(function*(be,H,Z){var Pe;const Mt=un(be),kt={requestType:"PASSWORD_RESET",email:H,clientType:"CLIENT_TYPE_WEB"};if(null!==(Pe=Mt._getRecaptchaConfig())&&void 0!==Pe&&Pe.emailPasswordEnabled){const bn=yield Tn(Mt,kt,"getOobCode",!0);Z&&Ri(Mt,bn,Z),yield Kr(Mt,bn)}else Z&&Ri(Mt,kt,Z),yield Kr(Mt,kt).catch(function(){var bn=(0,c.Z)(function*(Nn){if("auth/missing-recaptcha-token"!==Nn.code)return Promise.reject(Nn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const si=yield Tn(Mt,kt,"getOobCode",!0);Z&&Ri(Mt,si,Z),yield Kr(Mt,si)}});return function(Nn){return bn.apply(this,arguments)}}())}),Eo.apply(this,arguments)}function Jo(be,H,Z){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,c.Z)(function*(be,H,Z){yield gr((0,t.m9)(be),{oobCode:H,newPassword:Z})})).apply(this,arguments)}function gs(be,H){return Tr.apply(this,arguments)}function Tr(){return Tr=(0,c.Z)(function*(be,H){yield function Uo(be,H){return Di.apply(this,arguments)}((0,t.m9)(be),{oobCode:H})}),Tr.apply(this,arguments)}function Mo(be,H){return qa.apply(this,arguments)}function qa(){return(qa=(0,c.Z)(function*(be,H){const Z=(0,t.m9)(be),Pe=yield gr(Z,{oobCode:H}),Mt=Pe.requestType;switch(J(Mt,Z,"internal-error"),Mt){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(Pe.newEmail,Z,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(Pe.mfaInfo,Z,"internal-error");default:J(Pe.email,Z,"internal-error")}let kt=null;return Pe.mfaInfo&&(kt=It._fromServerResponse(un(Z),Pe.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===Pe.requestType?Pe.newEmail:Pe.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===Pe.requestType?Pe.email:Pe.newEmail)||null,multiFactorInfo:kt},operation:Mt}})).apply(this,arguments)}function Aa(be,H){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,c.Z)(function*(be,H){const{data:Z}=yield Mo((0,t.m9)(be),H);return Z.email})).apply(this,arguments)}function _s(be,H,Z){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,c.Z)(function*(be,H,Z){var Pe;const Mt=un(be),kt={returnSecureToken:!0,email:H,password:Z,clientType:"CLIENT_TYPE_WEB"};let bn;if(null!==(Pe=Mt._getRecaptchaConfig())&&void 0!==Pe&&Pe.emailPasswordEnabled){const xn=yield Tn(Mt,kt,"signUpPassword");bn=eo(Mt,xn)}else bn=eo(Mt,kt).catch(function(){var xn=(0,c.Z)(function*(Ai){if("auth/missing-recaptcha-token"===Ai.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const pr=yield Tn(Mt,kt,"signUpPassword");return eo(Mt,pr)}return Promise.reject(Ai)});return function(Ai){return xn.apply(this,arguments)}}());const Nn=yield bn.catch(xn=>Promise.reject(xn)),si=yield cr._fromIdTokenResponse(Mt,"signIn",Nn);return yield Mt._updateCurrentUser(si.user),si}),Ia.apply(this,arguments)}function Ja(be,H,Z){return Nr((0,t.m9)(be),ta.credential(H,Z))}function Qa(be,H,Z){return Rs.apply(this,arguments)}function Rs(){return Rs=(0,c.Z)(function*(be,H,Z){var Pe;const Mt=un(be),kt={requestType:"EMAIL_SIGNIN",email:H,clientType:"CLIENT_TYPE_WEB"};function bn(Nn,si){J(si.handleCodeInApp,Mt,"argument-error"),si&&Ri(Mt,Nn,si)}if(null!==(Pe=Mt._getRecaptchaConfig())&&void 0!==Pe&&Pe.emailPasswordEnabled){const Nn=yield Tn(Mt,kt,"getOobCode",!0);bn(Nn,Z),yield Io(Mt,Nn)}else bn(kt,Z),yield Io(Mt,kt).catch(function(){var Nn=(0,c.Z)(function*(si){if("auth/missing-recaptcha-token"!==si.code)return Promise.reject(si);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const xn=yield Tn(Mt,kt,"getOobCode",!0);bn(xn,Z),yield Io(Mt,xn)}});return function(si){return Nn.apply(this,arguments)}}())}),Rs.apply(this,arguments)}function Il(be,H){const Z=hr.parseLink(H);return"EMAIL_SIGNIN"===Z?.operation}function Xa(be,H,Z){return oo.apply(this,arguments)}function oo(){return(oo=(0,c.Z)(function*(be,H,Z){const Pe=(0,t.m9)(be),Mt=ta.credentialWithLink(H,Z||q());return J(Mt._tenantId===(Pe.tenantId||null),Pe,"tenant-id-mismatch"),Nr(Pe,Mt)})).apply(this,arguments)}function el(){return(el=(0,c.Z)(function*(be,H){return ge(be,"POST","/v1/accounts:createAuthUri",Ie(be,H))})).apply(this,arguments)}function Ic(be,H){return Ta.apply(this,arguments)}function Ta(){return Ta=(0,c.Z)(function*(be,H){const Pe={identifier:H,continueUri:le()?q():"http://localhost"},{signinMethods:Mt}=yield function wl(be,H){return el.apply(this,arguments)}((0,t.m9)(be),Pe);return Mt||[]}),Ta.apply(this,arguments)}function ec(be,H){return ra.apply(this,arguments)}function ra(){return ra=(0,c.Z)(function*(be,H){const Z=(0,t.m9)(be),Mt={requestType:"VERIFY_EMAIL",idToken:yield be.getIdToken()};H&&Ri(Z.auth,Mt,H);const{email:kt}=yield function zo(be,H){return Co.apply(this,arguments)}(Z.auth,Mt);kt!==be.email&&(yield be.reload())}),ra.apply(this,arguments)}function vs(be,H,Z){return Gs.apply(this,arguments)}function Gs(){return Gs=(0,c.Z)(function*(be,H,Z){const Pe=(0,t.m9)(be),kt={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield be.getIdToken(),newEmail:H};Z&&Ri(Pe.auth,kt,Z);const{email:bn}=yield function oi(be,H){return Pi.apply(this,arguments)}(Pe.auth,kt);bn!==be.email&&(yield be.reload())}),Gs.apply(this,arguments)}function oa(){return(oa=(0,c.Z)(function*(be,H){return ge(be,"POST","/v1/accounts:update",H)})).apply(this,arguments)}function Ol(be,H){return wa.apply(this,arguments)}function wa(){return wa=(0,c.Z)(function*(be,{displayName:H,photoURL:Z}){if(void 0===H&&void 0===Z)return;const Pe=(0,t.m9)(be),kt={idToken:yield Pe.getIdToken(),displayName:H,photoUrl:Z,returnSecureToken:!0},bn=yield Me(Pe,function Ns(be,H){return oa.apply(this,arguments)}(Pe.auth,kt));Pe.displayName=bn.displayName||null,Pe.photoURL=bn.photoUrl||null;const Nn=Pe.providerData.find(({providerId:si})=>"password"===si);Nn&&(Nn.displayName=Pe.displayName,Nn.photoURL=Pe.photoURL),yield Pe._updateTokensIfNecessary(bn)}),wa.apply(this,arguments)}function Oa(be,H){return mo((0,t.m9)(be),H,null)}function Pa(be,H){return mo((0,t.m9)(be),null,H)}function mo(be,H,Z){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(be,H,Z){const{auth:Pe}=be,kt={idToken:yield be.getIdToken(),returnSecureToken:!0};H&&(kt.email=H),Z&&(kt.password=Z);const bn=yield Me(be,ki(Pe,kt));yield be._updateTokensIfNecessary(bn,!0)})).apply(this,arguments)}class Ls{constructor(H,Z,Pe={}){this.isNewUser=H,this.providerId=Z,this.profile=Pe}}class Sr extends Ls{constructor(H,Z,Pe,Mt){super(H,Z,Pe),this.username=Mt}}class _i extends Ls{constructor(H,Z){super(H,"facebook.com",Z)}}class z extends Sr{constructor(H,Z){super(H,"github.com",Z,"string"==typeof Z?.login?Z?.login:null)}}class Tt extends Ls{constructor(H,Z){super(H,"google.com",Z)}}class je extends Sr{constructor(H,Z,Pe){super(H,"twitter.com",Z,Pe)}}function Dt(be){const{user:H,_tokenResponse:Z}=be;return H.isAnonymous&&!Z?{providerId:null,isNewUser:!1,profile:null}:function zr(be){var H,Z;if(!be)return null;const{providerId:Pe}=be,Mt=be.rawUserInfo?JSON.parse(be.rawUserInfo):{},kt=be.isNewUser||"identitytoolkit#SignupNewUserResponse"===be.kind;if(!Pe&&be?.idToken){const bn=null===(Z=null===(H=ye(be.idToken))||void 0===H?void 0:H.firebase)||void 0===Z?void 0:Z.sign_in_provider;if(bn)return new Ls(kt,"anonymous"!==bn&&"custom"!==bn?bn:null)}if(!Pe)return null;switch(Pe){case"facebook.com":return new _i(kt,Mt);case"github.com":return new z(kt,Mt);case"google.com":return new Tt(kt,Mt);case"twitter.com":return new je(kt,Mt,be.screenName||null);case"custom":case"anonymous":return new Ls(kt,null);default:return new Ls(kt,Pe,Mt)}}(Z)}class Mr{constructor(H,Z,Pe){this.type=H,this.credential=Z,this.auth=Pe}static _fromIdtoken(H,Z){return new Mr("enroll",H,Z)}static _fromMfaPendingCredential(H){return new Mr("signin",H)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(H){var Z,Pe;if(H?.multiFactorSession){if(null!==(Z=H.multiFactorSession)&&void 0!==Z&&Z.pendingCredential)return Mr._fromMfaPendingCredential(H.multiFactorSession.pendingCredential);if(null!==(Pe=H.multiFactorSession)&&void 0!==Pe&&Pe.idToken)return Mr._fromIdtoken(H.multiFactorSession.idToken)}return null}}class Xo{constructor(H,Z,Pe){this.session=H,this.hints=Z,this.signInResolver=Pe}static _fromError(H,Z){const Pe=un(H),Mt=Z.customData._serverResponse,kt=(Mt.mfaInfo||[]).map(Nn=>It._fromServerResponse(Pe,Nn));J(Mt.mfaPendingCredential,Pe,"internal-error");const bn=Mr._fromMfaPendingCredential(Mt.mfaPendingCredential);return new Xo(bn,kt,function(){var Nn=(0,c.Z)(function*(si){const xn=yield si._process(Pe,bn);delete Mt.mfaInfo,delete Mt.mfaPendingCredential;const Ai=Object.assign(Object.assign({},Mt),{idToken:xn.idToken,refreshToken:xn.refreshToken});switch(Z.operationType){case"signIn":const pr=yield cr._fromIdTokenResponse(Pe,Z.operationType,Ai);return yield Pe._updateCurrentUser(pr.user),pr;case"reauthenticate":return J(Z.user,Pe,"internal-error"),cr._forOperation(Z.user,Z.operationType,Ai);default:T(Pe,"internal-error")}});return function(si){return Nn.apply(this,arguments)}}())}resolveSignIn(H){var Z=this;return(0,c.Z)(function*(){return Z.signInResolver(H)})()}}function bi(be,H){var Z;const Pe=(0,t.m9)(be),Mt=H;return J(H.customData.operationType,Pe,"argument-error"),J(null===(Z=Mt.customData._serverResponse)||void 0===Z?void 0:Z.mfaPendingCredential,Pe,"argument-error"),Xo._fromError(Pe,Mt)}class Pl{constructor(H){this.user=H,this.enrolledFactors=[],H._onReload(Z=>{Z.mfaInfo&&(this.enrolledFactors=Z.mfaInfo.map(Pe=>It._fromServerResponse(H.auth,Pe)))})}static _fromUser(H){return new Pl(H)}getSession(){var H=this;return(0,c.Z)(function*(){return Mr._fromIdtoken(yield H.user.getIdToken(),H.user.auth)})()}enroll(H,Z){var Pe=this;return(0,c.Z)(function*(){const Mt=H,kt=yield Pe.getSession(),bn=yield Me(Pe.user,Mt._process(Pe.user.auth,kt,Z));return yield Pe.user._updateTokensIfNecessary(bn),Pe.user.reload()})()}unenroll(H){var Z=this;return(0,c.Z)(function*(){const Pe="string"==typeof H?H:H.uid,Mt=yield Z.user.getIdToken();try{const kt=yield Me(Z.user,function bs(be,H){return ge(be,"POST","/v2/accounts/mfaEnrollment:withdraw",Ie(be,H))}(Z.user.auth,{idToken:Mt,mfaEnrollmentId:Pe}));Z.enrolledFactors=Z.enrolledFactors.filter(({uid:bn})=>bn!==Pe),yield Z.user._updateTokensIfNecessary(kt),yield Z.user.reload()}catch(kt){throw kt}})()}}const os=new WeakMap;function tc(be){const H=(0,t.m9)(be);return os.has(H)||os.set(H,Pl._fromUser(H)),os.get(H)}const Rl="__sak";class id{constructor(H,Z){this.storageRetriever=H,this.type=Z}_isAvailable(){try{return this.storage?(this.storage.setItem(Rl,"1"),this.storage.removeItem(Rl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(H,Z){return this.storage.setItem(H,JSON.stringify(Z)),Promise.resolve()}_get(H){const Z=this.storage.getItem(H);return Promise.resolve(Z?JSON.parse(Z):null)}_remove(H){return this.storage.removeItem(H),Promise.resolve()}get storage(){return this.storageRetriever()}}const tl=(()=>{class be extends id{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(Z,Pe)=>this.onStorageEvent(Z,Pe),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wc(){const be=(0,t.z$)();return ot(be)||an(be)}()&&function Kn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Zn(),this._shouldAllowMigration=!0}forAllChangedKeys(Z){for(const Pe of Object.keys(this.listeners)){const Mt=this.storage.getItem(Pe),kt=this.localCache[Pe];Mt!==kt&&Z(Pe,kt,Mt)}}onStorageEvent(Z,Pe=!1){if(!Z.key)return void this.forAllChangedKeys((Nn,si,xn)=>{this.notifyListeners(Nn,xn)});const Mt=Z.key;if(Pe?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Nn=this.storage.getItem(Mt);if(Z.newValue!==Nn)null!==Z.newValue?this.storage.setItem(Mt,Z.newValue):this.storage.removeItem(Mt);else if(this.localCache[Mt]===Z.newValue&&!Pe)return}const kt=()=>{const Nn=this.storage.getItem(Mt);!Pe&&this.localCache[Mt]===Nn||this.notifyListeners(Mt,Nn)},bn=this.storage.getItem(Mt);!function Ln(){return(0,t.w1)()&&10===document.documentMode}()||bn===Z.newValue||Z.newValue===Z.oldValue?kt():setTimeout(kt,10)}notifyListeners(Z,Pe){this.localCache[Z]=Pe;const Mt=this.listeners[Z];if(Mt)for(const kt of Array.from(Mt))kt(Pe&&JSON.parse(Pe))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((Z,Pe,Mt)=>{this.onStorageEvent(new StorageEvent("storage",{key:Z,oldValue:Pe,newValue:Mt}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(Z,Pe){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[Z]||(this.listeners[Z]=new Set,this.localCache[Z]=this.storage.getItem(Z)),this.listeners[Z].add(Pe)}_removeListener(Z,Pe){this.listeners[Z]&&(this.listeners[Z].delete(Pe),0===this.listeners[Z].size&&delete this.listeners[Z]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(Z,Pe){var Mt=()=>super._set,kt=this;return(0,c.Z)(function*(){yield Mt().call(kt,Z,Pe),kt.localCache[Z]=JSON.stringify(Pe)})()}_get(Z){var Pe=()=>super._get,Mt=this;return(0,c.Z)(function*(){const kt=yield Pe().call(Mt,Z);return Mt.localCache[Z]=JSON.stringify(kt),kt})()}_remove(Z){var Pe=()=>super._remove,Mt=this;return(0,c.Z)(function*(){yield Pe().call(Mt,Z),delete Mt.localCache[Z]})()}}return be.type="LOCAL",be})(),so=(()=>{class be extends id{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(Z,Pe){}_removeListener(Z,Pe){}}return be.type="SESSION",be})();let Nl=(()=>{class be{constructor(Z){this.eventTarget=Z,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(Z){const Pe=this.receivers.find(kt=>kt.isListeningto(Z));if(Pe)return Pe;const Mt=new be(Z);return this.receivers.push(Mt),Mt}isListeningto(Z){return this.eventTarget===Z}handleEvent(Z){var Pe=this;return(0,c.Z)(function*(){const Mt=Z,{eventId:kt,eventType:bn,data:Nn}=Mt.data,si=Pe.handlersMap[bn];if(!si?.size)return;Mt.ports[0].postMessage({status:"ack",eventId:kt,eventType:bn});const xn=Array.from(si).map(function(){var pr=(0,c.Z)(function*(cs){return cs(Mt.origin,Nn)});return function(cs){return pr.apply(this,arguments)}}()),Ai=yield function Oc(be){return Promise.all(be.map(function(){var H=(0,c.Z)(function*(Z){try{return{fulfilled:!0,value:yield Z}}catch(Pe){return{fulfilled:!1,reason:Pe}}});return function(Z){return H.apply(this,arguments)}}()))}(xn);Mt.ports[0].postMessage({status:"done",eventId:kt,eventType:bn,response:Ai})})()}_subscribe(Z,Pe){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[Z]||(this.handlersMap[Z]=new Set),this.handlersMap[Z].add(Pe)}_unsubscribe(Z,Pe){this.handlersMap[Z]&&Pe&&this.handlersMap[Z].delete(Pe),(!Pe||0===this.handlersMap[Z].size)&&delete this.handlersMap[Z],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return be.receivers=[],be})();function Po(be="",H=10){let Z="";for(let Pe=0;Pe<H;Pe++)Z+=Math.floor(10*Math.random());return be+Z}class nc{constructor(H){this.target=H,this.handlers=new Set}removeMessageHandler(H){H.messageChannel&&(H.messageChannel.port1.removeEventListener("message",H.onMessage),H.messageChannel.port1.close()),this.handlers.delete(H)}_send(H,Z,Pe=50){var Mt=this;return(0,c.Z)(function*(){const kt=typeof MessageChannel<"u"?new MessageChannel:null;if(!kt)throw new Error("connection_unavailable");let bn,Nn;return new Promise((si,xn)=>{const Ai=Po("",20);kt.port1.start();const pr=setTimeout(()=>{xn(new Error("unsupported_event"))},Pe);Nn={messageChannel:kt,onMessage(cs){const mc=cs;if(mc.data.eventId===Ai)switch(mc.data.status){case"ack":clearTimeout(pr),bn=setTimeout(()=>{xn(new Error("timeout"))},3e3);break;case"done":clearTimeout(bn),si(mc.data.response);break;default:clearTimeout(pr),clearTimeout(bn),xn(new Error("invalid_response"))}}},Mt.handlers.add(Nn),kt.port1.addEventListener("message",Nn.onMessage),Mt.target.postMessage({eventType:H,eventId:Ai,data:Z},[kt.port2])}).finally(()=>{Nn&&Mt.removeMessageHandler(Nn)})})()}}function Or(){return window}function ic(){return typeof Or().WorkerGlobalScope<"u"&&"function"==typeof Or().importScripts}function co(){return(co=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Gr="firebaseLocalStorageDb",po="firebaseLocalStorage",rc="fbase_key";class il{constructor(H){this.request=H}toPromise(){return new Promise((H,Z)=>{this.request.addEventListener("success",()=>{H(this.request.result)}),this.request.addEventListener("error",()=>{Z(this.request.error)})})}}function rl(be,H){return be.transaction([po],H?"readwrite":"readonly").objectStore(po)}function ol(){const be=indexedDB.open(Gr,1);return new Promise((H,Z)=>{be.addEventListener("error",()=>{Z(be.error)}),be.addEventListener("upgradeneeded",()=>{const Pe=be.result;try{Pe.createObjectStore(po,{keyPath:rc})}catch(Mt){Z(Mt)}}),be.addEventListener("success",(0,c.Z)(function*(){const Pe=be.result;Pe.objectStoreNames.contains(po)?H(Pe):(Pe.close(),yield function oc(){const be=indexedDB.deleteDatabase(Gr);return new il(be).toPromise()}(),H(yield ol()))}))})}function ss(be,H,Z){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,c.Z)(function*(be,H,Z){const Pe=rl(be,!0).put({[rc]:H,value:Z});return new il(Pe).toPromise()})).apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(be,H){const Z=rl(be,!1).get(H),Pe=yield new il(Z).toPromise();return void 0===Pe?null:Pe.value})).apply(this,arguments)}function Sa(be,H){const Z=rl(be,!0).delete(H);return new il(Z).toPromise()}const sc=(()=>{class be{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var Z=this;return(0,c.Z)(function*(){return Z.db||(Z.db=yield ol()),Z.db})()}_withRetries(Z){var Pe=this;return(0,c.Z)(function*(){let Mt=0;for(;;)try{const kt=yield Pe._openDb();return yield Z(kt)}catch(kt){if(Mt++>3)throw kt;Pe.db&&(Pe.db.close(),Pe.db=void 0)}})()}initializeServiceWorkerMessaging(){var Z=this;return(0,c.Z)(function*(){return ic()?Z.initializeReceiver():Z.initializeSender()})()}initializeReceiver(){var Z=this;return(0,c.Z)(function*(){Z.receiver=Nl._getInstance(function Ll(){return ic()?self:null}()),Z.receiver._subscribe("keyChanged",function(){var Pe=(0,c.Z)(function*(Mt,kt){return{keyProcessed:(yield Z._poll()).includes(kt.key)}});return function(Mt,kt){return Pe.apply(this,arguments)}}()),Z.receiver._subscribe("ping",function(){var Pe=(0,c.Z)(function*(Mt,kt){return["keyChanged"]});return function(Mt,kt){return Pe.apply(this,arguments)}}())})()}initializeSender(){var Z=this;return(0,c.Z)(function*(){var Pe,Mt;if(Z.activeServiceWorker=yield function nl(){return co.apply(this,arguments)}(),!Z.activeServiceWorker)return;Z.sender=new nc(Z.activeServiceWorker);const kt=yield Z.sender._send("ping",{},800);kt&&null!==(Pe=kt[0])&&void 0!==Pe&&Pe.fulfilled&&null!==(Mt=kt[0])&&void 0!==Mt&&Mt.value.includes("keyChanged")&&(Z.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(Z){var Pe=this;return(0,c.Z)(function*(){if(Pe.sender&&Pe.activeServiceWorker&&function ks(){var be;return(null===(be=navigator?.serviceWorker)||void 0===be?void 0:be.controller)||null}()===Pe.activeServiceWorker)try{yield Pe.sender._send("keyChanged",{key:Z},Pe.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const Z=yield ol();return yield ss(Z,Rl,"1"),yield Sa(Z,Rl),!0}catch{}return!1})()}_withPendingWrite(Z){var Pe=this;return(0,c.Z)(function*(){Pe.pendingWrites++;try{yield Z()}finally{Pe.pendingWrites--}})()}_set(Z,Pe){var Mt=this;return(0,c.Z)(function*(){return Mt._withPendingWrite((0,c.Z)(function*(){return yield Mt._withRetries(kt=>ss(kt,Z,Pe)),Mt.localCache[Z]=Pe,Mt.notifyServiceWorker(Z)}))})()}_get(Z){var Pe=this;return(0,c.Z)(function*(){const Mt=yield Pe._withRetries(kt=>function rd(be,H){return Ro.apply(this,arguments)}(kt,Z));return Pe.localCache[Z]=Mt,Mt})()}_remove(Z){var Pe=this;return(0,c.Z)(function*(){return Pe._withPendingWrite((0,c.Z)(function*(){return yield Pe._withRetries(Mt=>Sa(Mt,Z)),delete Pe.localCache[Z],Pe.notifyServiceWorker(Z)}))})()}_poll(){var Z=this;return(0,c.Z)(function*(){const Pe=yield Z._withRetries(bn=>{const Nn=rl(bn,!1).getAll();return new il(Nn).toPromise()});if(!Pe)return[];if(0!==Z.pendingWrites)return[];const Mt=[],kt=new Set;for(const{fbase_key:bn,value:Nn}of Pe)kt.add(bn),JSON.stringify(Z.localCache[bn])!==JSON.stringify(Nn)&&(Z.notifyListeners(bn,Nn),Mt.push(bn));for(const bn of Object.keys(Z.localCache))Z.localCache[bn]&&!kt.has(bn)&&(Z.notifyListeners(bn,null),Mt.push(bn));return Mt})()}notifyListeners(Z,Pe){this.localCache[Z]=Pe;const Mt=this.listeners[Z];if(Mt)for(const kt of Array.from(Mt))kt(Pe)}startPolling(){var Z=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return Z._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(Z,Pe){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[Z]||(this.listeners[Z]=new Set,this._get(Z)),this.listeners[Z].add(Pe)}_removeListener(Z,Pe){this.listeners[Z]&&(this.listeners[Z].delete(Pe),0===this.listeners[Z].size&&delete this.listeners[Z]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return be.type="LOCAL",be})(),Ee=1e12;class He{constructor(H){this.auth=H,this.counter=Ee,this._widgets=new Map}render(H,Z){const Pe=this.counter;return this._widgets.set(Pe,new de(H,this.auth.name,Z||{})),this.counter++,Pe}reset(H){var Z;const Pe=H||Ee;null===(Z=this._widgets.get(Pe))||void 0===Z||Z.delete(),this._widgets.delete(Pe)}getResponse(H){var Z;return(null===(Z=this._widgets.get(H||Ee))||void 0===Z?void 0:Z.getResponse())||""}execute(H){var Z=this;return(0,c.Z)(function*(){var Pe;return null===(Pe=Z._widgets.get(H||Ee))||void 0===Pe||Pe.execute(),""})()}}class de{constructor(H,Z,Pe){this.params=Pe,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Mt="string"==typeof H?document.getElementById(H):H;J(Mt,"argument-error",{appName:Z}),this.container=Mt,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Be(be){const H=[],Z="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Pe=0;Pe<be;Pe++)H.push(Z.charAt(Math.floor(62*Math.random())));return H.join("")}(50);const{callback:H,"expired-callback":Z}=this.params;if(H)try{H(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,Z)try{Z()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yt=wn("rcb"),Ut=new me(3e4,6e4);class Sn{constructor(){var H;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(H=Or().grecaptcha)||void 0===H||!H.render)}load(H,Z=""){return J(function zn(be){return be.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(be)}(Z),H,"argument-error"),this.shouldResolveImmediately(Z)&&Xt(Or().grecaptcha)?Promise.resolve(Or().grecaptcha):new Promise((Pe,Mt)=>{const kt=Or().setTimeout(()=>{Mt(N(H,"network-request-failed"))},Ut.get());Or()[yt]=()=>{Or().clearTimeout(kt),delete Or()[yt];const Nn=Or().grecaptcha;if(!Nn||!Xt(Nn))return void Mt(N(H,"internal-error"));const si=Nn.render;Nn.render=(xn,Ai)=>{const pr=si(xn,Ai);return this.counter++,pr},this.hostLanguage=Z,Pe(Nn)},qt(`https://www.google.com/recaptcha/api.js??${(0,t.xO)({onload:yt,render:"explicit",hl:Z})}`).catch(()=>{clearTimeout(kt),Mt(N(H,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(H){var Z;return!(null===(Z=Or().grecaptcha)||void 0===Z||!Z.render)&&(H===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ei{load(H){return(0,c.Z)(function*(){return new He(H)})()}clearedOneInstance(){}}const Ti="recaptcha",ur={theme:"light",type:"image"};class So{constructor(H,Z=Object.assign({},ur),Pe){this.parameters=Z,this.type=Ti,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=un(Pe),this.isInvisible="invisible"===this.parameters.size,J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Mt="string"==typeof H?document.getElementById(H):H;J(Mt,this.auth,"argument-error"),this.container=Mt,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ei:new Sn,this.validateStartingState()}verify(){var H=this;return(0,c.Z)(function*(){H.assertNotDestroyed();const Z=yield H.render(),Pe=H.getAssertedRecaptcha();return Pe.getResponse(Z)||new Promise(kt=>{const bn=Nn=>{Nn&&(H.tokenChangeListeners.delete(bn),kt(Nn))};H.tokenChangeListeners.add(bn),H.isInvisible&&Pe.execute(Z)})})()}render(){try{this.assertNotDestroyed()}catch(H){return Promise.reject(H)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(H=>{throw this.renderPromise=null,H})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(H=>{this.container.removeChild(H)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(H){return Z=>{if(this.tokenChangeListeners.forEach(Pe=>Pe(Z)),"function"==typeof H)H(Z);else if("string"==typeof H){const Pe=Or()[H];"function"==typeof Pe&&Pe(Z)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var H=this;return(0,c.Z)(function*(){if(yield H.init(),!H.widgetId){let Z=H.container;if(!H.isInvisible){const Pe=document.createElement("div");Z.appendChild(Pe),Z=Pe}H.widgetId=H.getAssertedRecaptcha().render(Z,H.parameters)}return H.widgetId})()}init(){var H=this;return(0,c.Z)(function*(){J(le()&&!ic(),H.auth,"internal-error"),yield function ca(){let be=null;return new Promise(H=>{"complete"!==document.readyState?(be=()=>H(),window.addEventListener("load",be)):H()}).catch(H=>{throw be&&window.removeEventListener("load",be),H})}(),H.recaptcha=yield H._recaptchaLoader.load(H.auth,H.auth.languageCode||void 0);const Z=yield function vn(be){return gn.apply(this,arguments)}(H.auth);J(Z,H.auth,"internal-error"),H.parameters.sitekey=Z})()}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class da{constructor(H,Z){this.verificationId=H,this.onConfirmation=Z}confirm(H){const Z=Ur._fromVerification(this.verificationId,H);return this.onConfirmation(Z)}}function ua(be,H,Z){return sl.apply(this,arguments)}function sl(){return(sl=(0,c.Z)(function*(be,H,Z){const Pe=un(be),Mt=yield Ra(Pe,H,(0,t.m9)(Z));return new da(Mt,kt=>Nr(Pe,kt))})).apply(this,arguments)}function Ts(be,H,Z){return fa.apply(this,arguments)}function fa(){return(fa=(0,c.Z)(function*(be,H,Z){const Pe=(0,t.m9)(be);yield mr(!1,Pe,"phone");const Mt=yield Ra(Pe.auth,H,(0,t.m9)(Z));return new da(Mt,kt=>Wr(Pe,kt))})).apply(this,arguments)}function al(be,H,Z){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,c.Z)(function*(be,H,Z){const Pe=(0,t.m9)(be),Mt=yield Ra(Pe.auth,H,(0,t.m9)(Z));return new da(Mt,kt=>Ps(Pe,kt))})).apply(this,arguments)}function Ra(be,H,Z){return kc.apply(this,arguments)}function kc(){return kc=(0,c.Z)(function*(be,H,Z){var Pe;const Mt=yield Z.verify();try{let kt;if(J("string"==typeof Mt,be,"argument-error"),J(Z.type===Ti,be,"argument-error"),kt="string"==typeof H?{phoneNumber:H}:H,"session"in kt){const bn=kt.session;if("phoneNumber"in kt)return J("enroll"===bn.type,be,"internal-error"),(yield function tr(be,H){return ge(be,"POST","/v2/accounts/mfaEnrollment:start",Ie(be,H))}(be,{idToken:bn.credential,phoneEnrollmentInfo:{phoneNumber:kt.phoneNumber,recaptchaToken:Mt}})).phoneSessionInfo.sessionInfo;{J("signin"===bn.type,be,"internal-error");const Nn=(null===(Pe=kt.multiFactorHint)||void 0===Pe?void 0:Pe.uid)||kt.multiFactorUid;return J(Nn,be,"missing-multi-factor-info"),(yield function Bi(be,H){return ge(be,"POST","/v2/accounts/mfaSignIn:start",Ie(be,H))}(be,{mfaPendingCredential:bn.credential,mfaEnrollmentId:Nn,phoneSignInInfo:{recaptchaToken:Mt}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:bn}=yield function gi(be,H){return Ii.apply(this,arguments)}(be,{phoneNumber:kt.phoneNumber,recaptchaToken:Mt});return bn}}finally{Z._reset()}}),kc.apply(this,arguments)}function as(be,H){return ll.apply(this,arguments)}function ll(){return(ll=(0,c.Z)(function*(be,H){yield Rr((0,t.m9)(be),H)})).apply(this,arguments)}let ku=(()=>{class be{constructor(Z){this.providerId=be.PROVIDER_ID,this.auth=un(Z)}verifyPhoneNumber(Z,Pe){return Ra(this.auth,Z,(0,t.m9)(Pe))}static credential(Z,Pe){return Ur._fromVerification(Z,Pe)}static credentialFromResult(Z){return be.credentialFromTaggedObject(Z)}static credentialFromError(Z){return be.credentialFromTaggedObject(Z.customData||{})}static credentialFromTaggedObject({_tokenResponse:Z}){if(!Z)return null;const{phoneNumber:Pe,temporaryProof:Mt}=Z;return Pe&&Mt?Ur._fromTokenResponse(Pe,Mt):null}}return be.PROVIDER_ID="phone",be.PHONE_SIGN_IN_METHOD="phone",be})();function Na(be,H){return H?ft(H):(J(be._popupRedirectResolver,be,"argument-error"),be._popupRedirectResolver)}class cl extends fr{constructor(H){super("custom","custom"),this.params=H}_getIdTokenResponse(H){return Zt(H,this._buildIdpRequest())}_linkToIdToken(H,Z){return Zt(H,this._buildIdpRequest(Z))}_getReauthenticationResolver(H){return Zt(H,this._buildIdpRequest())}_buildIdpRequest(H){const Z={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return H&&(Z.idToken=H),Z}}function Ss(be){return ia(be.auth,new cl(be),be.bypassAuthState)}function od(be){const{auth:H,user:Z}=be;return J(Z,H,"internal-error"),qo(Z,new cl(be),be.bypassAuthState)}function ac(be){return ha.apply(this,arguments)}function ha(){return(ha=(0,c.Z)(function*(be){const{auth:H,user:Z}=be;return J(Z,H,"internal-error"),Rr(Z,new cl(be),be.bypassAuthState)})).apply(this,arguments)}class dl{constructor(H,Z,Pe,Mt,kt=!1){this.auth=H,this.resolver=Pe,this.user=Mt,this.bypassAuthState=kt,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(Z)?Z:[Z]}execute(){var H=this;return new Promise(function(){var Z=(0,c.Z)(function*(Pe,Mt){H.pendingPromise={resolve:Pe,reject:Mt};try{H.eventManager=yield H.resolver._initialize(H.auth),yield H.onExecution(),H.eventManager.registerConsumer(H)}catch(kt){H.reject(kt)}});return function(Pe,Mt){return Z.apply(this,arguments)}}())}onAuthEvent(H){var Z=this;return(0,c.Z)(function*(){const{urlResponse:Pe,sessionId:Mt,postBody:kt,tenantId:bn,error:Nn,type:si}=H;if(Nn)return void Z.reject(Nn);const xn={auth:Z.auth,requestUri:Pe,sessionId:Mt,tenantId:bn||void 0,postBody:kt||void 0,user:Z.user,bypassAuthState:Z.bypassAuthState};try{Z.resolve(yield Z.getIdpTask(si)(xn))}catch(Ai){Z.reject(Ai)}})()}onError(H){this.reject(H)}getIdpTask(H){switch(H){case"signInViaPopup":case"signInViaRedirect":return Ss;case"linkViaPopup":case"linkViaRedirect":return ac;case"reauthViaPopup":case"reauthViaRedirect":return od;default:T(this.auth,"internal-error")}}resolve(H){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(H),this.unregisterAndCleanUp()}reject(H){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(H),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vd=new me(2e3,1e4);function Ks(be,H,Z){return ul.apply(this,arguments)}function ul(){return(ul=(0,c.Z)(function*(be,H,Z){const Pe=un(be);B(be,H,Do);const Mt=Na(Pe,Z);return new lc(Pe,"signInViaPopup",H,Mt).executeNotNull()})).apply(this,arguments)}function $f(be,H,Z){return ao.apply(this,arguments)}function ao(){return(ao=(0,c.Z)(function*(be,H,Z){const Pe=(0,t.m9)(be);B(Pe.auth,H,Do);const Mt=Na(Pe.auth,Z);return new lc(Pe.auth,"reauthViaPopup",H,Mt,Pe).executeNotNull()})).apply(this,arguments)}function Gd(be,H,Z){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,c.Z)(function*(be,H,Z){const Pe=(0,t.m9)(be);B(Pe.auth,H,Do);const Mt=Na(Pe.auth,Z);return new lc(Pe.auth,"linkViaPopup",H,Mt,Pe).executeNotNull()})).apply(this,arguments)}let lc=(()=>{class be extends dl{constructor(Z,Pe,Mt,kt,bn){super(Z,Pe,kt,bn),this.provider=Mt,this.authWindow=null,this.pollId=null,be.currentPopupAction&&be.currentPopupAction.cancel(),be.currentPopupAction=this}executeNotNull(){var Z=this;return(0,c.Z)(function*(){const Pe=yield Z.execute();return J(Pe,Z.auth,"internal-error"),Pe})()}onExecution(){var Z=this;return(0,c.Z)(function*(){Fe(1===Z.filter.length,"Popup operations only handle one event");const Pe=Po();Z.authWindow=yield Z.resolver._openPopup(Z.auth,Z.provider,Z.filter[0],Pe),Z.authWindow.associatedEvent=Pe,Z.resolver._originValidation(Z.auth).catch(Mt=>{Z.reject(Mt)}),Z.resolver._isIframeWebStorageSupported(Z.auth,Mt=>{Mt||Z.reject(N(Z.auth,"web-storage-unsupported"))}),Z.pollUserCancellation()})()}get eventId(){var Z;return(null===(Z=this.authWindow)||void 0===Z?void 0:Z.associatedEvent)||null}cancel(){this.reject(N(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,be.currentPopupAction=null}pollUserCancellation(){const Z=()=>{var Pe,Mt;this.pollId=null!==(Mt=null===(Pe=this.authWindow)||void 0===Pe?void 0:Pe.window)&&void 0!==Mt&&Mt.closed?window.setTimeout(()=>{this.pollId=null,this.reject(N(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(Z,Vd.get())};Z()}}return be.currentPopupAction=null,be})();const sd="pendingRedirect",Ca=new Map;class ad extends dl{constructor(H,Z,Pe=!1){super(H,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],Z,void 0,Pe),this.eventId=null}execute(){var H=()=>super.execute,Z=this;return(0,c.Z)(function*(){let Pe=Ca.get(Z.auth._key());if(!Pe){try{const kt=(yield function Fu(be,H){return fl.apply(this,arguments)}(Z.resolver,Z.auth))?yield H().call(Z):null;Pe=()=>Promise.resolve(kt)}catch(Mt){Pe=()=>Promise.reject(Mt)}Ca.set(Z.auth._key(),Pe)}return Z.bypassAuthState||Ca.set(Z.auth._key(),()=>Promise.resolve(null)),Pe()})()}onAuthEvent(H){var Z=()=>super.onAuthEvent,Pe=this;return(0,c.Z)(function*(){if("signInViaRedirect"===H.type)return Z().call(Pe,H);if("unknown"!==H.type){if(H.eventId){const Mt=yield Pe.auth._redirectUserForId(H.eventId);if(Mt)return Pe.user=Mt,Z().call(Pe,H);Pe.resolve(null)}}else Pe.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function fl(){return(fl=(0,c.Z)(function*(be,H){const Z=La(H),Pe=cc(be);if(!(yield Pe._isAvailable()))return!1;const Mt="true"===(yield Pe._get(Z));return yield Pe._remove(Z),Mt})).apply(this,arguments)}function yr(be,H){return Li.apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(be,H){return cc(be)._set(La(H),"true")})).apply(this,arguments)}function Hd(){Ca.clear()}function ld(be,H){Ca.set(be._key(),H)}function cc(be){return ft(be._redirectPersistence)}function La(be){return Oe(sd,be.config.apiKey,be.name)}function cd(be,H,Z){return function ka(be,H,Z){return Bl.apply(this,arguments)}(be,H,Z)}function Bl(){return(Bl=(0,c.Z)(function*(be,H,Z){const Pe=un(be);B(be,H,Do),yield Pe._initializationPromise;const Mt=Na(Pe,Z);return yield yr(Mt,Pe),Mt._openRedirect(Pe,H,"signInViaRedirect")})).apply(this,arguments)}function Ul(be,H,Z){return function Bu(be,H,Z){return ls.apply(this,arguments)}(be,H,Z)}function ls(){return(ls=(0,c.Z)(function*(be,H,Z){const Pe=(0,t.m9)(be);B(Pe.auth,H,Do),yield Pe.auth._initializationPromise;const Mt=Na(Pe.auth,Z);yield yr(Mt,Pe.auth);const kt=yield uc(Pe);return Mt._openRedirect(Pe.auth,H,"reauthViaRedirect",kt)})).apply(this,arguments)}function dd(be,H,Z){return function ud(be,H,Z){return jl.apply(this,arguments)}(be,H,Z)}function jl(){return(jl=(0,c.Z)(function*(be,H,Z){const Pe=(0,t.m9)(be);B(Pe.auth,H,Do),yield Pe.auth._initializationPromise;const Mt=Na(Pe.auth,Z);yield mr(!1,Pe,H.providerId),yield yr(Mt,Pe.auth);const kt=yield uc(Pe);return Mt._openRedirect(Pe.auth,H,"linkViaRedirect",kt)})).apply(this,arguments)}function dc(be,H){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,c.Z)(function*(be,H){return yield un(be)._initializationPromise,Ba(be,H,!1)})).apply(this,arguments)}function Ba(be,H){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,c.Z)(function*(be,H,Z=!1){const Pe=un(be),Mt=Na(Pe,H),bn=yield new ad(Pe,Mt,Z).execute();return bn&&!Z&&(delete bn.user._redirectEventId,yield Pe._persistUserIfCurrent(bn.user),yield Pe._setRedirectUser(null,H)),bn})).apply(this,arguments)}function uc(be){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,c.Z)(function*(be){const H=Po(`${be.uid}:::`);return be._redirectEventId=H,yield be.auth._setRedirectUser(be),yield be.auth._persistUserIfCurrent(be),H})).apply(this,arguments)}class Fc{constructor(H){this.auth=H,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(H){this.consumers.add(H),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,H)&&(this.sendToConsumer(this.queuedRedirectEvent,H),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(H){this.consumers.delete(H)}onEvent(H){if(this.hasEventBeenHandled(H))return!1;let Z=!1;return this.consumers.forEach(Pe=>{this.isEventForConsumer(H,Pe)&&(Z=!0,this.sendToConsumer(H,Pe),this.saveEventToCache(H))}),this.hasHandledPotentialRedirect||!function fd(be){switch(be.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fc(be);default:return!1}}(H)||(this.hasHandledPotentialRedirect=!0,Z||(this.queuedRedirectEvent=H,Z=!0)),Z}sendToConsumer(H,Z){var Pe;if(H.error&&!fc(H)){const Mt=(null===(Pe=H.error.code)||void 0===Pe?void 0:Pe.split("auth/")[1])||"internal-error";Z.onError(N(this.auth,Mt))}else Z.onAuthEvent(H)}isEventForConsumer(H,Z){const Pe=null===Z.eventId||!!H.eventId&&H.eventId===Z.eventId;return Z.filter.includes(H.type)&&Pe}hasEventBeenHandled(H){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Va(H))}saveEventToCache(H){this.cachedEventUids.add(Va(H)),this.lastProcessedEventTime=Date.now()}}function Va(be){return[be.type,be.eventId,be.sessionId,be.tenantId].filter(H=>H).join("-")}function fc({type:be,error:H}){return"unknown"===be&&"auth/no-auth-event"===H?.code}function hd(be){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,c.Z)(function*(be,H={}){return ge(be,"GET","/v1/projects",H)})).apply(this,arguments)}const Dm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xm=/^https?/;function hc(){return(hc=(0,c.Z)(function*(be){if(be.config.emulator)return;const{authorizedDomains:H}=yield hd(be);for(const Z of H)try{if(Vl(Z))return}catch{}T(be,"unauthorized-domain")})).apply(this,arguments)}function Vl(be){const H=q(),{protocol:Z,hostname:Pe}=new URL(H);if(be.startsWith("chrome-extension://")){const bn=new URL(be);return""===bn.hostname&&""===Pe?"chrome-extension:"===Z&&be.replace("chrome-extension://","")===H.replace("chrome-extension://",""):"chrome-extension:"===Z&&bn.hostname===Pe}if(!xm.test(Z))return!1;if(Dm.test(be))return Pe===be;const Mt=be.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Mt+"|"+Mt+")$","i").test(Pe)}const go=new me(3e4,6e4);function md(){const be=Or().___jsl;if(be?.H)for(const H of Object.keys(be.H))if(be.H[H].r=be.H[H].r||[],be.H[H].L=be.H[H].L||[],be.H[H].r=[...be.H[H].L],be.CP)for(let Z=0;Z<be.CP.length;Z++)be.CP[Z]=null}let Cs=null;const xs=new me(5e3,15e3),Kd="__/auth/iframe",Hl="emulator/auth/iframe",Kl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qf(be){const H=be.config;J(H.authDomain,be,"auth-domain-config-required");const Z=H.emulator?De(H,Hl):`https://${be.config.authDomain}/${Kd}`,Pe={apiKey:H.apiKey,appName:be.name,v:b.SDK_VERSION},Mt=Yd.get(be.config.apiHost);Mt&&(Pe.eid=Mt);const kt=be._getFrameworks();return kt.length&&(Pe.fw=kt.join(",")),`${Z}?${(0,t.xO)(Pe).slice(1)}`}function Ae(){return Ae=(0,c.Z)(function*(be){const H=yield function Ds(be){return Cs=Cs||function Gl(be){return new Promise((H,Z)=>{var Pe,Mt,kt;function bn(){md(),gapi.load("gapi.iframes",{callback:()=>{H(gapi.iframes.getContext())},ontimeout:()=>{md(),Z(N(be,"network-request-failed"))},timeout:go.get()})}if(null!==(Mt=null===(Pe=Or().gapi)||void 0===Pe?void 0:Pe.iframes)&&void 0!==Mt&&Mt.Iframe)H(gapi.iframes.getContext());else{if(null===(kt=Or().gapi)||void 0===kt||!kt.load){const Nn=wn("iframefcb");return Or()[Nn]=()=>{gapi.load?bn():Z(N(be,"network-request-failed"))},qt(`https://apis.google.com/js/api.js?onload=${Nn}`).catch(si=>Z(si))}bn()}}).catch(H=>{throw Cs=null,H})}(be),Cs}(be),Z=Or().gapi;return J(Z,be,"internal-error"),H.open({where:document.body,url:qf(be),messageHandlersFilter:Z.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kl,dontclear:!0},Pe=>new Promise(function(){var Mt=(0,c.Z)(function*(kt,bn){yield Pe.restyle({setHideOnLeave:!1});const Nn=N(be,"network-request-failed"),si=Or().setTimeout(()=>{bn(Nn)},xs.get());function xn(){Or().clearTimeout(si),kt(Pe)}Pe.ping(xn).then(xn,()=>{bn(Nn)})});return function(kt,bn){return Mt.apply(this,arguments)}}()))}),Ae.apply(this,arguments)}const qe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bn{constructor(H){this.window=H,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Si="__/auth/handler",Hi="emulator/auth/handler",Gi=encodeURIComponent("fac");function No(be,H,Z,Pe,Mt,kt){return nr.apply(this,arguments)}function nr(){return(nr=(0,c.Z)(function*(be,H,Z,Pe,Mt,kt){J(be.config.authDomain,be,"auth-domain-config-required"),J(be.config.apiKey,be,"invalid-api-key");const bn={apiKey:be.config.apiKey,appName:be.name,authType:Z,redirectUrl:Pe,v:b.SDK_VERSION,eventId:Mt};if(H instanceof Do){H.setDefaultLanguage(be.languageCode),bn.providerId=H.providerId||"",(0,t.xb)(H.getCustomParameters())||(bn.customParameters=JSON.stringify(H.getCustomParameters()));for(const[Ai,pr]of Object.entries(kt||{}))bn[Ai]=pr}if(H instanceof fs){const Ai=H.getScopes().filter(pr=>""!==pr);Ai.length>0&&(bn.scopes=Ai.join(","))}be.tenantId&&(bn.tid=be.tenantId);const Nn=bn;for(const Ai of Object.keys(Nn))void 0===Nn[Ai]&&delete Nn[Ai];const si=yield be._getAppCheckToken(),xn=si?`#${Gi}=${encodeURIComponent(si)}`:"";return`${function Uc({config:be}){return be.emulator?De(be,Hi):`https://${be.authDomain}/${Si}`}(be)}?${(0,t.xO)(Nn).slice(1)}${xn}`})).apply(this,arguments)}const Ws="webStorageSupport",Ko=class ma{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=so,this._completeRedirectFn=Ba,this._overrideRedirectResult=ld}_openPopup(H,Z,Pe,Mt){var kt=this;return(0,c.Z)(function*(){var bn;Fe(null===(bn=kt.eventManagers[H._key()])||void 0===bn?void 0:bn.manager,"_initialize() not called before _openPopup()");const Nn=yield No(H,Z,Pe,q(),Mt);return function hi(be,H,Z,Pe=500,Mt=600){const kt=Math.max((window.screen.availHeight-Mt)/2,0).toString(),bn=Math.max((window.screen.availWidth-Pe)/2,0).toString();let Nn="";const si=Object.assign(Object.assign({},qe),{width:Pe.toString(),height:Mt.toString(),top:kt,left:bn}),xn=(0,t.z$)().toLowerCase();Z&&(Nn=dt(xn)?"_blank":Z),lt(xn)&&(H=H||"http://localhost",si.scrollbars="yes");const Ai=Object.entries(si).reduce((cs,[mc,ju])=>`${cs}${mc}=${ju},`,"");if(function An(be=(0,t.z$)()){var H;return an(be)&&!(null===(H=window.navigator)||void 0===H||!H.standalone)}(xn)&&"_self"!==Nn)return function di(be,H){const Z=document.createElement("a");Z.href=be,Z.target=H;const Pe=document.createEvent("MouseEvent");Pe.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),Z.dispatchEvent(Pe)}(H||"",Nn),new Bn(null);const pr=window.open(H||"",Nn,Ai);J(pr,be,"popup-blocked");try{pr.focus()}catch{}return new Bn(pr)}(H,Nn,Po())})()}_openRedirect(H,Z,Pe,Mt){var kt=this;return(0,c.Z)(function*(){return yield kt._originValidation(H),function sa(be){Or().location.href=be}(yield No(H,Z,Pe,q(),Mt)),new Promise(()=>{})})()}_initialize(H){const Z=H._key();if(this.eventManagers[Z]){const{manager:Mt,promise:kt}=this.eventManagers[Z];return Mt?Promise.resolve(Mt):(Fe(kt,"If manager is not set, promise should be"),kt)}const Pe=this.initAndGetManager(H);return this.eventManagers[Z]={promise:Pe},Pe.catch(()=>{delete this.eventManagers[Z]}),Pe}initAndGetManager(H){var Z=this;return(0,c.Z)(function*(){const Pe=yield function Bc(be){return Ae.apply(this,arguments)}(H),Mt=new Fc(H);return Pe.register("authEvent",kt=>(J(kt?.authEvent,H,"invalid-auth-event"),{status:Mt.onEvent(kt.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),Z.eventManagers[H._key()]={manager:Mt},Z.iframes[H._key()]=Pe,Mt})()}_isIframeWebStorageSupported(H,Z){this.iframes[H._key()].send(Ws,{type:Ws},Mt=>{var kt;const bn=null===(kt=Mt?.[0])||void 0===kt?void 0:kt[Ws];void 0!==bn&&Z(!!bn),T(H,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(H){const Z=H._key();return this.originValidationPromises[Z]||(this.originValidationPromises[Z]=function hl(be){return hc.apply(this,arguments)}(H)),this.originValidationPromises[Z]}get _shouldInitProactively(){return Zn()||ot()||an()}};class Ga{constructor(H){this.factorId=H}_process(H,Z,Pe){switch(Z.type){case"enroll":return this._finalizeEnroll(H,Z.credential,Pe);case"signin":return this._finalizeSignIn(H,Z.credential);default:return ce("unexpected MultiFactorSessionType")}}}class Yl extends Ga{constructor(H){super("phone"),this.credential=H}static _fromCredential(H){return new Yl(H)}_finalizeEnroll(H,Z,Pe){return function Oo(be,H){return ge(be,"POST","/v2/accounts/mfaEnrollment:finalize",Ie(be,H))}(H,{idToken:Z,displayName:Pe,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(H,Z){return function Rc(be,H){return ge(be,"POST","/v2/accounts/mfaSignIn:finalize",Ie(be,H))}(H,{mfaPendingCredential:Z,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wd=(()=>{class be{constructor(){}static assertion(Z){return Yl._fromCredential(Z)}}return be.FACTOR_ID="phone",be})();var Lr="@firebase/auth";class $d{constructor(H){this.auth=H,this.internalListeners=new Map}getUid(){var H;return this.assertAuthConfigured(),(null===(H=this.auth.currentUser)||void 0===H?void 0:H.uid)||null}getToken(H){var Z=this;return(0,c.Z)(function*(){return Z.assertAuthConfigured(),yield Z.auth._initializationPromise,Z.auth.currentUser?{accessToken:yield Z.auth.currentUser.getIdToken(H)}:null})()}addAuthTokenListener(H){if(this.assertAuthConfigured(),this.internalListeners.has(H))return;const Z=this.auth.onIdTokenChanged(Pe=>{H(Pe?.stsTokenManager.accessToken||null)});this.internalListeners.set(H,Z),this.updateProactiveRefresh()}removeAuthTokenListener(H){this.assertAuthConfigured();const Z=this.internalListeners.get(H);Z&&(this.internalListeners.delete(H),Z(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,t.Pz)("authIdTokenMaxAge"),function Qf(be){(0,b._registerComponent)(new F.wA("auth",(H,{options:Z})=>{const Pe=H.getProvider("app").getImmediate(),Mt=H.getProvider("heartbeat"),kt=H.getProvider("app-check-internal"),{apiKey:bn,authDomain:Nn}=Pe.options;J(bn&&!bn.includes(":"),"invalid-api-key",{appName:Pe.name});const si={apiKey:bn,authDomain:Nn,clientPlatform:be,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ci(be)},xn=new bt(Pe,Mt,kt,si);return function gt(be,H){const Z=H?.persistence||[],Pe=(Array.isArray(Z)?Z:[Z]).map(ft);H?.errorMap&&be._updateErrorMap(H.errorMap),be._initializeWithPersistence(Pe,H?.popupRedirectResolver)}(xn,Z),xn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((H,Z,Pe)=>{H.getProvider("auth-internal").initialize()})),(0,b._registerComponent)(new F.wA("auth-internal",H=>{const Z=un(H.getProvider("auth").getImmediate());return new $d(Z)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,b.registerVersion)(Lr,"0.23.2",function Mm(be){switch(be){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(be)),(0,b.registerVersion)(Lr,"0.23.2","esm2017")}("Browser")},9058:(jn,nt,S)=>{"use strict";S.d(nt,{$s:()=>ft,BH:()=>C,L:()=>p,LL:()=>Ue,Pz:()=>N,UG:()=>ce,US:()=>F,ZB:()=>y,ZR:()=>ge,aH:()=>T,b$:()=>le,eu:()=>he,hl:()=>Le,jU:()=>Fe,m9:()=>Oe,ne:()=>Me,pd:()=>ye,r3:()=>ve,ru:()=>q,tV:()=>f,uI:()=>J,vZ:()=>ie,w1:()=>_e,xO:()=>ee,xb:()=>X,z$:()=>Y,zI:()=>Re,zd:()=>fe});const w=function(We){const $e=[];let lt=0;for(let ot=0;ot<We.length;ot++){let dt=We.charCodeAt(ot);dt<128?$e[lt++]=dt:dt<2048?($e[lt++]=dt>>6|192,$e[lt++]=63&dt|128):55296==(64512&dt)&&ot+1<We.length&&56320==(64512&We.charCodeAt(ot+1))?(dt=65536+((1023&dt)<<10)+(1023&We.charCodeAt(++ot)),$e[lt++]=dt>>18|240,$e[lt++]=dt>>12&63|128,$e[lt++]=dt>>6&63|128,$e[lt++]=63&dt|128):($e[lt++]=dt>>12|224,$e[lt++]=dt>>6&63|128,$e[lt++]=63&dt|128)}return $e},F={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(We,$e){if(!Array.isArray(We))throw Error("encodeByteArray takes an array as a parameter");this.init_();const lt=$e?this.byteToCharMapWebSafe_:this.byteToCharMap_,ot=[];for(let dt=0;dt<We.length;dt+=3){const Lt=We[dt],zt=dt+1<We.length,Rt=zt?We[dt+1]:0,$t=dt+2<We.length,an=$t?We[dt+2]:0;let Ln=(15&Rt)<<2|an>>6,Zn=63&an;$t||(Zn=64,zt||(Ln=64)),ot.push(lt[Lt>>2],lt[(3&Lt)<<4|Rt>>4],lt[Ln],lt[Zn])}return ot.join("")},encodeString(We,$e){return this.HAS_NATIVE_SUPPORT&&!$e?btoa(We):this.encodeByteArray(w(We),$e)},decodeString(We,$e){return this.HAS_NATIVE_SUPPORT&&!$e?atob(We):function(We){const $e=[];let lt=0,ot=0;for(;lt<We.length;){const dt=We[lt++];if(dt<128)$e[ot++]=String.fromCharCode(dt);else if(dt>191&&dt<224){const Lt=We[lt++];$e[ot++]=String.fromCharCode((31&dt)<<6|63&Lt)}else if(dt>239&&dt<365){const $t=((7&dt)<<18|(63&We[lt++])<<12|(63&We[lt++])<<6|63&We[lt++])-65536;$e[ot++]=String.fromCharCode(55296+($t>>10)),$e[ot++]=String.fromCharCode(56320+(1023&$t))}else{const Lt=We[lt++],zt=We[lt++];$e[ot++]=String.fromCharCode((15&dt)<<12|(63&Lt)<<6|63&zt)}}return $e.join("")}(this.decodeStringToByteArray(We,$e))},decodeStringToByteArray(We,$e){this.init_();const lt=$e?this.charToByteMapWebSafe_:this.charToByteMap_,ot=[];for(let dt=0;dt<We.length;){const Lt=lt[We.charAt(dt++)],Rt=dt<We.length?lt[We.charAt(dt)]:0;++dt;const an=dt<We.length?lt[We.charAt(dt)]:64;++dt;const An=dt<We.length?lt[We.charAt(dt)]:64;if(++dt,null==Lt||null==Rt||null==an||null==An)throw new L;ot.push(Lt<<2|Rt>>4),64!==an&&(ot.push(Rt<<4&240|an>>2),64!==An&&ot.push(an<<6&192|An))}return ot},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let We=0;We<this.ENCODED_VALS.length;We++)this.byteToCharMap_[We]=this.ENCODED_VALS.charAt(We),this.charToByteMap_[this.byteToCharMap_[We]]=We,this.byteToCharMapWebSafe_[We]=this.ENCODED_VALS_WEBSAFE.charAt(We),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[We]]=We,We>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(We)]=We,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(We)]=We)}}};class L extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p=function(We){return function(We){const $e=w(We);return F.encodeByteArray($e,!0)}(We).replace(/\./g,"")},f=function(We){try{return F.decodeString(We,!0)}catch($e){console.error("base64Decode failed: ",$e)}return null};function y(We,$e){if(!($e instanceof Object))return $e;switch($e.constructor){case Date:return new Date($e.getTime());case Object:void 0===We&&(We={});break;case Array:We=[];break;default:return $e}for(const lt in $e)!$e.hasOwnProperty(lt)||!M(lt)||(We[lt]=y(We[lt],$e[lt]));return We}function M(We){return"__proto__"!==We}const P=()=>{try{return function U(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const We=process.env.__FIREBASE_DEFAULTS__;return We?JSON.parse(We):void 0})()||(()=>{if(typeof document>"u")return;let We;try{We=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $e=We&&f(We[1]);return $e&&JSON.parse($e)})()}catch(We){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${We}`)}},T=()=>{var We;return null===(We=P())||void 0===We?void 0:We.config},N=We=>{var $e;return null===($e=P())||void 0===$e?void 0:$e[`_${We}`]};class C{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($e,lt)=>{this.resolve=$e,this.reject=lt})}wrapCallback($e){return(lt,ot)=>{lt?this.reject(lt):this.resolve(ot),"function"==typeof $e&&(this.promise.catch(()=>{}),1===$e.length?$e(lt):$e(lt,ot))}}}function Y(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function J(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Y())}function ce(){var We;const $e=null===(We=P())||void 0===We?void 0:We.forceEnvironment;if("node"===$e)return!0;if("browser"===$e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Fe(){return"object"==typeof self&&self.self===self}function q(){const We="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof We&&void 0!==We.id}function le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){const We=Y();return We.indexOf("MSIE ")>=0||We.indexOf("Trident/")>=0}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function he(){return new Promise((We,$e)=>{try{let lt=!0;const ot="validate-browser-context-for-indexeddb-analytics-module",dt=self.indexedDB.open(ot);dt.onsuccess=()=>{dt.result.close(),lt||self.indexedDB.deleteDatabase(ot),We(!0)},dt.onupgradeneeded=()=>{lt=!1},dt.onerror=()=>{var Lt;$e((null===(Lt=dt.error)||void 0===Lt?void 0:Lt.message)||"")}}catch(lt){$e(lt)}})}function Re(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ge extends Error{constructor($e,lt,ot){super(lt),this.code=$e,this.customData=ot,this.name="FirebaseError",Object.setPrototypeOf(this,ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor($e,lt,ot){this.service=$e,this.serviceName=lt,this.errors=ot}create($e,...lt){const ot=lt[0]||{},dt=`${this.service}/${$e}`,Lt=this.errors[$e],zt=Lt?function ke(We,$e){return We.replace(we,(lt,ot)=>{const dt=$e[ot];return null!=dt?String(dt):`<${ot}?>`})}(Lt,ot):"Error";return new ge(dt,`${this.serviceName}: ${zt} (${dt}).`,ot)}}const we=/\{\$([^}]+)}/g;function ve(We,$e){return Object.prototype.hasOwnProperty.call(We,$e)}function X(We){for(const $e in We)if(Object.prototype.hasOwnProperty.call(We,$e))return!1;return!0}function ie(We,$e){if(We===$e)return!0;const lt=Object.keys(We),ot=Object.keys($e);for(const dt of lt){if(!ot.includes(dt))return!1;const Lt=We[dt],zt=$e[dt];if(re(Lt)&&re(zt)){if(!ie(Lt,zt))return!1}else if(Lt!==zt)return!1}for(const dt of ot)if(!lt.includes(dt))return!1;return!0}function re(We){return null!==We&&"object"==typeof We}function ee(We){const $e=[];for(const[lt,ot]of Object.entries(We))Array.isArray(ot)?ot.forEach(dt=>{$e.push(encodeURIComponent(lt)+"="+encodeURIComponent(dt))}):$e.push(encodeURIComponent(lt)+"="+encodeURIComponent(ot));return $e.length?"&"+$e.join("&"):""}function fe(We){const $e={};return We.replace(/^\?/,"").split("&").forEach(ot=>{if(ot){const[dt,Lt]=ot.split("=");$e[decodeURIComponent(dt)]=decodeURIComponent(Lt)}}),$e}function ye(We){const $e=We.indexOf("?");if(!$e)return"";const lt=We.indexOf("#",$e);return We.substring($e,lt>0?lt:void 0)}function Me(We,$e){const lt=new Ye(We,$e);return lt.subscribe.bind(lt)}class Ye{constructor($e,lt){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=lt,this.task.then(()=>{$e(this)}).catch(ot=>{this.error(ot)})}next($e){this.forEachObserver(lt=>{lt.next($e)})}error($e){this.forEachObserver(lt=>{lt.error($e)}),this.close($e)}complete(){this.forEachObserver($e=>{$e.complete()}),this.close()}subscribe($e,lt,ot){let dt;if(void 0===$e&&void 0===lt&&void 0===ot)throw new Error("Missing Observer.");dt=function at(We,$e){if("object"!=typeof We||null===We)return!1;for(const lt of $e)if(lt in We&&"function"==typeof We[lt])return!0;return!1}($e,["next","error","complete"])?$e:{next:$e,error:lt,complete:ot},void 0===dt.next&&(dt.next=ct),void 0===dt.error&&(dt.error=ct),void 0===dt.complete&&(dt.complete=ct);const Lt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?dt.error(this.finalError):dt.complete()}catch{}}),this.observers.push(dt),Lt}unsubscribeOne($e){void 0===this.observers||void 0===this.observers[$e]||(delete this.observers[$e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($e){if(!this.finalized)for(let lt=0;lt<this.observers.length;lt++)this.sendOne(lt,$e)}sendOne($e,lt){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$e])try{lt(this.observers[$e])}catch(ot){typeof console<"u"&&console.error&&console.error(ot)}})}close($e){this.finalized||(this.finalized=!0,void 0!==$e&&(this.finalError=$e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ct(){}const Gt=1e3,Cn=2,en=144e5,xt=.5;function ft(We,$e=Gt,lt=Cn){const ot=$e*Math.pow(lt,We),dt=Math.round(xt*ot*(Math.random()-.5)*2);return Math.min(en,ot+dt)}function Oe(We){return We&&We._delegate?We._delegate:We}},7102:(jn,nt,S)=>{"use strict";S.d(nt,{m:()=>Ie});var c=S(6814),t=S(1476),b=S(7700),w=S(2939),E=S(5313),F=S(2032),L=S(4170),D=S(3566),p=S(5986),f=S(5940),g=S(2596),y=S(3680),M=S(8525),U=S(8034),R=S(5879);let he=(()=>{class ge{static#e=this.\u0275fac=function(we){return new(we||ge)};static#t=this.\u0275mod=R.oAB({type:ge});static#n=this.\u0275inj=R.cJS({imports:[y.BQ,c.ez,y.BQ]})}return ge})(),Re=(()=>{class ge{static#e=this.\u0275fac=function(we){return new(we||ge)};static#t=this.\u0275mod=R.oAB({type:ge});static#n=this.\u0275inj=R.cJS({imports:[c.ez,t.TU,b.Is,w.ZX,E.p0,F.c,L.lN,D.JX,p.p9,f.Cq,g.AV,y.Ng,M.LD,U.FA,y.XK,he,t.TU,b.Is,w.ZX,E.p0,F.c,L.lN,D.JX,p.p9,f.Cq,g.AV,y.Ng,M.LD,U.FA,y.XK,he]})}return ge})(),Ie=(()=>{class ge{static#e=this.\u0275fac=function(we){return new(we||ge)};static#t=this.\u0275mod=R.oAB({type:ge});static#n=this.\u0275inj=R.cJS({imports:[c.ez,Re,c.ez,Re]})}return ge})()},635:(jn,nt,S)=>{"use strict";var c=S(6593),t=S(5879),b=S(2096),w=S(2459),E=S(5592),F=S(6328),L=S(2181),D=S(7398),p=S(4716),f=S(4664),g=S(6814);class y{}class M{}class U{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),d=o.toLowerCase(),m=e.slice(i+1).trim();this.maybeSetNormalizedName(o,d),this.headers.has(d)?this.headers.get(d).push(m):this.headers.set(d,[m])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof U?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new U;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof U?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const d=n.value;if(d){let m=this.headers.get(e);if(!m)return;m=m.filter(v=>-1===d.indexOf(v)),0===m.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,m)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const i=(Array.isArray(e)?e:[e]).map(d=>d.toString()),o=n.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class V{encodeKey(n){return O(n)}encodeValue(n){return O(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const P=/%(\d[a-f0-9])/gi,x={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function O(r){return encodeURIComponent(r).replace(P,(n,e)=>x[e]??n)}function T(r){return`${r}`}class N{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new V,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function k(r,n){const e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(o=>{const d=o.indexOf("="),[m,v]=-1==d?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,d)),n.decodeValue(o.slice(d+1))],I=e.get(m)||[];I.push(v),e.set(m,I)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e],o=Array.isArray(i)?i.map(T):[T(i)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const o=n[i];Array.isArray(o)?o.forEach(d=>{e.push({param:i,value:d,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new N({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(T(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const o=i.indexOf(T(n.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class B{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function J(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function ce(r){return typeof Blob<"u"&&r instanceof Blob}function Fe(r){return typeof FormData<"u"&&r instanceof FormData}class le{constructor(n,e,i,o){let d;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function Y(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,d=o):d=i,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new U),this.context||(this.context=new B),this.params){const m=this.params.toString();if(0===m.length)this.urlWithParams=e;else{const v=e.indexOf("?");this.urlWithParams=e+(-1===v?"?":v<e.length-1?"&":"")+m}}else this.params=new N,this.urlWithParams=e}serializeBody(){return null===this.body?null:J(this.body)||ce(this.body)||Fe(this.body)||function q(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof N?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Fe(this.body)?null:ce(this.body)?this.body.type||null:J(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof N?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,i=n.url||this.url,o=n.responseType||this.responseType,d=void 0!==n.body?n.body:this.body,m=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,v=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let I=n.headers||this.headers,j=n.params||this.params;const ne=n.context??this.context;return void 0!==n.setHeaders&&(I=Object.keys(n.setHeaders).reduce((pe,ze)=>pe.set(ze,n.setHeaders[ze]),I)),n.setParams&&(j=Object.keys(n.setParams).reduce((pe,ze)=>pe.set(ze,n.setParams[ze]),j)),new le(e,i,d,{params:j,headers:I,context:ne,reportProgress:v,responseType:o,withCredentials:m})}}var K=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(K||{});class _e{constructor(n,e=200,i="OK"){this.headers=n.headers||new U,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class se extends _e{constructor(n={}){super(n),this.type=K.ResponseHeader}clone(n={}){return new se({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class me extends _e{constructor(n={}){super(n),this.type=K.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new me({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class De extends _e{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Le(r,n){return{body:n,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let he=(()=>{class r{constructor(e){this.handler=e}request(e,i,o={}){let d;if(e instanceof le)d=e;else{let I,j;I=o.headers instanceof U?o.headers:new U(o.headers),o.params&&(j=o.params instanceof N?o.params:new N({fromObject:o.params})),d=new le(e,i,void 0!==o.body?o.body:null,{headers:I,context:o.context,params:j,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const m=(0,b.of)(d).pipe((0,F.b)(I=>this.handler.handle(I)));if(e instanceof le||"events"===o.observe)return m;const v=m.pipe((0,L.h)(I=>I instanceof me));switch(o.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return v.pipe((0,D.U)(I=>{if(null!==I.body&&!(I.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return I.body}));case"blob":return v.pipe((0,D.U)(I=>{if(null!==I.body&&!(I.body instanceof Blob))throw new Error("Response is not a Blob.");return I.body}));case"text":return v.pipe((0,D.U)(I=>{if(null!==I.body&&"string"!=typeof I.body)throw new Error("Response is not a string.");return I.body}));default:return v.pipe((0,D.U)(I=>I.body))}case"response":return v;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new N).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,Le(o,i))}post(e,i,o={}){return this.request("POST",e,Le(o,i))}put(e,i,o={}){return this.request("PUT",e,Le(o,i))}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(y))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();function st(r,n){return n(r)}function Qe(r,n){return(e,i)=>n.intercept(e,{handle:o=>r(o,i)})}const Se=new t.OlP(""),W=new t.OlP(""),ae=new t.OlP("");function ve(){let r=null;return(n,e)=>{null===r&&(r=((0,t.f3M)(Se,{optional:!0})??[]).reduceRight(Qe,st));const i=(0,t.f3M)(t.HDt),o=i.add();return r(n,e).pipe((0,p.x)(()=>i.remove(o)))}}let Q=(()=>{class r extends y{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=(0,t.f3M)(t.HDt)}handle(e){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(W),...this.injector.get(ae,[])]));this.chain=o.reduceRight((d,m)=>function Ne(r,n,e){return(i,o)=>e.runInContext(()=>n(i,d=>r(d,o)))}(d,m,this.injector),st)}const i=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe((0,p.x)(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(M),t.LFG(t.lqb))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const Ge=/^\)\]\}',?\n/;let ct=(()=>{class r{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new t.vHH(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,w.D)(i.\u0275loadImpl()):(0,b.of)(null)).pipe((0,f.w)(()=>new E.y(d=>{const m=i.build();if(m.open(e.method,e.urlWithParams),e.withCredentials&&(m.withCredentials=!0),e.headers.forEach((Ct,Ot)=>m.setRequestHeader(Ct,Ot.join(","))),e.headers.has("Accept")||m.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Ct=e.detectContentTypeHeader();null!==Ct&&m.setRequestHeader("Content-Type",Ct)}if(e.responseType){const Ct=e.responseType.toLowerCase();m.responseType="json"!==Ct?Ct:"text"}const v=e.serializeBody();let I=null;const j=()=>{if(null!==I)return I;const Ct=m.statusText||"OK",Ot=new U(m.getAllResponseHeaders()),Yt=function at(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(m)||e.url;return I=new se({headers:Ot,status:m.status,statusText:Ct,url:Yt}),I},ne=()=>{let{headers:Ct,status:Ot,statusText:Yt,url:fn}=j(),sn=null;204!==Ot&&(sn=typeof m.response>"u"?m.responseText:m.response),0===Ot&&(Ot=sn?200:0);let En=Ot>=200&&Ot<300;if("json"===e.responseType&&"string"==typeof sn){const Dn=sn;sn=sn.replace(Ge,"");try{sn=""!==sn?JSON.parse(sn):null}catch(Vn){sn=Dn,En&&(En=!1,sn={error:Vn,text:sn})}}En?(d.next(new me({body:sn,headers:Ct,status:Ot,statusText:Yt,url:fn||void 0})),d.complete()):d.error(new De({error:sn,headers:Ct,status:Ot,statusText:Yt,url:fn||void 0}))},pe=Ct=>{const{url:Ot}=j(),Yt=new De({error:Ct,status:m.status||0,statusText:m.statusText||"Unknown Error",url:Ot||void 0});d.error(Yt)};let ze=!1;const tt=Ct=>{ze||(d.next(j()),ze=!0);let Ot={type:K.DownloadProgress,loaded:Ct.loaded};Ct.lengthComputable&&(Ot.total=Ct.total),"text"===e.responseType&&m.responseText&&(Ot.partialText=m.responseText),d.next(Ot)},mt=Ct=>{let Ot={type:K.UploadProgress,loaded:Ct.loaded};Ct.lengthComputable&&(Ot.total=Ct.total),d.next(Ot)};return m.addEventListener("load",ne),m.addEventListener("error",pe),m.addEventListener("timeout",pe),m.addEventListener("abort",pe),e.reportProgress&&(m.addEventListener("progress",tt),null!==v&&m.upload&&m.upload.addEventListener("progress",mt)),m.send(v),d.next({type:K.Sent}),()=>{m.removeEventListener("error",pe),m.removeEventListener("abort",pe),m.removeEventListener("load",ne),m.removeEventListener("timeout",pe),e.reportProgress&&(m.removeEventListener("progress",tt),null!==v&&m.upload&&m.upload.removeEventListener("progress",mt)),m.readyState!==m.DONE&&m.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(g.JF))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const rt=new t.OlP("XSRF_ENABLED"),Bt=new t.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),jt=new t.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Qt{}let cn=(()=>{class r{constructor(e,i,o){this.doc=e,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,g.Mx)(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(g.K0),t.LFG(t.Lbi),t.LFG(Bt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();function dn(r,n){const e=r.url.toLowerCase();if(!(0,t.f3M)(rt)||"GET"===r.method||"HEAD"===r.method||e.startsWith("http://")||e.startsWith("https://"))return n(r);const i=(0,t.f3M)(Qt).getToken(),o=(0,t.f3M)(jt);return null!=i&&!r.headers.has(o)&&(r=r.clone({headers:r.headers.set(o,i)})),n(r)}var Cn=function(r){return r[r.Interceptors=0]="Interceptors",r[r.LegacyInterceptors=1]="LegacyInterceptors",r[r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",r[r.NoXsrfProtection=3]="NoXsrfProtection",r[r.JsonpSupport=4]="JsonpSupport",r[r.RequestsMadeViaParent=5]="RequestsMadeViaParent",r[r.Fetch=6]="Fetch",r}(Cn||{});function xt(...r){const n=[he,ct,Q,{provide:y,useExisting:Q},{provide:M,useExisting:ct},{provide:W,useValue:dn,multi:!0},{provide:rt,useValue:!0},{provide:Qt,useClass:cn}];for(const e of r)n.push(...e.\u0275providers);return(0,t.MR2)(n)}const Xe=new t.OlP("LEGACY_INTERCEPTOR_FN");function xe(){return function en(r,n){return{\u0275kind:r,\u0275providers:n}}(Cn.LegacyInterceptors,[{provide:Xe,useFactory:ve},{provide:W,useExisting:Xe,multi:!0}])}let Lt=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({providers:[xt(xe())]})}return r})();var Wt,Kn=S(5612),ci=S(9397),vn=function(r){return r[r.MediaServerState=1]="MediaServerState",r[r.MediaType=2]="MediaType",r[r.VideoTransmissionType=3]="VideoTransmissionType",r[r.TranscoderPreset=4]="TranscoderPreset",r[r.IconTypes=5]="IconTypes",r[r.LinkedAccountProvider=6]="LinkedAccountProvider",r}(vn||{}),Et=function(r){return r[r.Movie=1]="Movie",r[r.TvSerie=2]="TvSerie",r[r.Music=3]="Music",r[r.Photo=4]="Photo",r[r.Other=5]="Other",r}(Et||{}),ut=function(r){return r[r.None=1]="None",r[r.MPEGDASH=2]="MPEGDASH",r[r.HLS=3]="HLS",r}(ut||{}),et=function(r){return r[r.GET=0]="GET",r[r.POST=1]="POST",r[r.PUT=2]="PUT",r[r.DELETE=3]="DELETE",r}(et||{}),wt=function(r){return r[r.Empty=0]="Empty",r[r.Generated=1]="Generated",r[r.Initialized=2]="Initialized",r[r.LoadedMetada=3]="LoadedMetada",r[r.LoadedData=4]="LoadedData",r}(wt||{}),qt=function(r){return r[r.SinovadDb=1]="SinovadDb",r[r.TMDb=2]="TMDb",r[r.IMDb=3]="IMDb",r}(qt||{}),wn=function(r){return r[r.Google=1]="Google",r[r.Facebook=2]="Facebook",r[r.Apple=3]="Apple",r}(wn||{}),Fn=function(r){return r[r.Ok=1]="Ok",r[r.Plus=2]="Plus",r[r.Bin=3]="Bin",r[r.Bullhorn=4]="Bullhorn",r[r.Tags=5]="Tags",r}(Fn||{}),Kt=new Uint8Array(16);function nn(){if(!Wt&&!(Wt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wt(Kt)}const Tn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var bt=[],un=0;un<256;++un)bt.push((un+256).toString(16).substr(1));const vt=function Te(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(bt[r[n+0]]+bt[r[n+1]]+bt[r[n+2]]+bt[r[n+3]]+"-"+bt[r[n+4]]+bt[r[n+5]]+"-"+bt[r[n+6]]+bt[r[n+7]]+"-"+bt[r[n+8]]+bt[r[n+9]]+"-"+bt[r[n+10]]+bt[r[n+11]]+bt[r[n+12]]+bt[r[n+13]]+bt[r[n+14]]+bt[r[n+15]]).toLowerCase();if(!function Un(r){return"string"==typeof r&&Tn.test(r)}(e))throw TypeError("Stringified UUID is invalid");return e},Nt=function gt(r,n,e){var i=(r=r||{}).random||(r.rng||nn)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){e=e||0;for(var o=0;o<16;++o)n[e+o]=i[o];return n}return vt(i)};var on=S(8645);class ti{}let fi=(()=>{class r{constructor(){this.showSplashScreen=!0,this.urlSinovadStreamWebApi="https://streamapi.sinovad.com",this.urlSinovadCdn="https://resources.sinovad.com/stream/web",this.originalUrlImagesMovieDataBase="https://image.tmdb.org/t/p/w600_and_h900_bestv2",this.urlEpisodeDataBase="https://www.themoviedb.org/t/p/w454_and_h254_bestv2",this.listProcessGUIDs=[],this.configurationData=new ti,this.listProfiles=[],this.manageMenus=[],this.pageNotFoundShowing=!1,this.mediaServers=[],this.libraries=[],this.linkedAccounts=[]}checkIfIsEnableMenuOptionByPath(e){var i=!1;for(let o=0;o<this.manageMenus.length;o++){const d=this.manageMenus[o];if(d.ChildMenus&&-1!=d.ChildMenus.findIndex(m=>m.Path&&m.Path.includes(e))){i=!0;break}}return i}formatDate(e){const i=new Date(e);let o=""+(i.getMonth()+1),d=""+i.getDate();const m=i.getFullYear();return o.length<2&&(o="0"+o),d.length<2&&(d="0"+d),[m,o,d].join("-")}getInitials(e){return e.FullName.substring(0,1)}delay(e){return new Promise(i=>setTimeout(i,e))}hasRequireErrorFormControl(e,i){return!!e.controls[i].errors.required}isInvalidFormControl(e,i){return!(!e.controls[i].invalid||!e.controls[i].dirty&&!e.controls[i].touched)}hasErrorPatternFormControl(e,i){return!!e.controls[i].errors.pattern}isSmallDevice(){return window.innerWidth<=768}isMobileDevice(){return"ontouchstart"in window}getUrlByItemMovieDataBase(e){if(e.MetadataAgentsId==qt.TMDb)return this.originalUrlImagesMovieDataBase+e.PosterPath;if(e.PosterPath)return e.PosterPath;var i=this.mediaServers.find(o=>o.Id==e.MediaServerId);return i?i.Url+"/media/"+e.MediaFileGuid+"/thumbnail.png":"assets/img/no-image-available.jpg"}getYearByDateFormat(e){return new Date(e).getFullYear()}sort_by(e,i,o){let d=o?m=>o(m[e]):m=>m[e];return i=i?-1:1,(m,v)=>(m=d(m),v=d(v),i*(+(m>v)-+(v>m)))}validateEmailFormat(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}isHttpsSite(){return!!window.location.origin.startsWith("https")}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Oi=(()=>{class r{constructor(e,i){this.http=e,this.sharedService=i}performExecuteMethod(e,i,o){return new Promise((d,m)=>{try{let v={responseType:"text"};if(this.sharedService.apiToken){const j=new U({"Content-Type":"application/json",Authorization:"Bearer "+this.sharedService.apiToken});v.headers=j}e==et.GET&&this.http.get(i,v).subscribe(I=>{d(I)},I=>{m(I)}),e==et.POST&&this.http.post(i,o,v).subscribe(I=>{d(I)},I=>{m(I)}),e==et.PUT&&this.http.put(i,o,v).subscribe(I=>{d(I)},I=>{m(I)}),e==et.DELETE&&this.http.delete(i,v).subscribe(I=>{d(I)},I=>{m(I)})}catch(v){m(v)}})}executeSinovadApiService(e,i,o){let d=this.sharedService.urlSinovadStreamWebApi+"/api/v1"+i;return new Promise((m,v)=>{try{this.performExecuteMethod(e,d,o).then(I=>{m(JSON.parse(I))},I=>{let j=I;if(null!=I.error){j=I.error;try{var ne=JSON.parse(j);if(ne.errors){let ze=ne.errors,tt=[];Object.keys(ze).map(mt=>{var Ct=ze[mt].join("\n");tt.push(Ct)}),j=tt.join("\n")}else ne.Errors?j=ne.Errors.map(ze=>ze.ErrorMessage).join("\n"):ne.Message&&(j=ne.Message)}catch{}}401==I.status&&this.sharedService.apiToken&&(this.sharedService.apiToken=void 0,localStorage.removeItem("apiToken"),window.location.href="/"),console.error(j),v(j)})}catch(I){v(I)}})}executeHttpMediaServerApi(e,i,o){return new Promise((d,m)=>{try{this.performExecuteMethod(e,i,o).then(v=>{try{d(JSON.parse(v))}catch(I){m(I)}},v=>{m(v)})}catch(v){m(v)}})}executeHttpMethodByUrl(e,i,o){return new Promise((d,m)=>{this.performExecuteMethod(e,i,o).then(v=>{d(v)},v=>{m(v)})})}executeHttpPostMethodWithFormData(e,i){let o=this.sharedService.urlSinovadStreamWebApi+"/api/v1"+e;return new Promise((d,m)=>{let v={responseType:"text"};if(this.sharedService.apiToken){const j=new U({Accept:"*/*",Authorization:"Bearer "+this.sharedService.apiToken});v.headers=j}this.http.post(o,i,v).subscribe(I=>{d(I)},I=>{m(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(he),t.LFG(fi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),fr=(()=>{class r{constructor(e,i){this.sharedService=e,this.restProvider=i,this.completedLoadUserManageMenu$=new on.x,this.loadedManageMenu=!1}completeLoadUserManageMenu(){this.completedLoadUserManageMenu$.next(!0)}isCompletedLoadUserManageMenu(){return this.completedLoadUserManageMenu$.asObservable()}getManageMenu(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(et.GET,"/menus/GetByUserAsync/"+this.sharedService.userData.Id).then(o=>{this.sharedService.manageMenus=o.Data,this.completeLoadUserManageMenu(),this.loadedManageMenu=!0,e(!0)},o=>{i(o)})})}getAllMenus(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(et.GET,"/menus/GetAllAsync").then(d=>{e(d)},d=>{console.error(d),i(d)})})}getItems(e,i,o,d,m,v){return new Promise((I,j)=>{let ne=Nt();this.lastCallGuid=ne;var pe="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+v;this.restProvider.executeSinovadApiService(et.GET,"/menus/GetAllWithPaginationAsync"+pe).then(tt=>{this.lastCallGuid==ne&&I(tt)},tt=>{console.error(tt),j(tt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?et.PUT:et.POST,e.Id>0?"/menus/Update":"/menus/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.DELETE,"/menus/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(et.DELETE,"/menus/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(fi),t.LFG(Oi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const gr=[0,2e3,1e4,3e4,null];class fo{constructor(n){this._retryDelays=void 0!==n?[...n,null]:gr}nextRetryDelayInMilliseconds(n){return this._retryDelays[n.previousRetryCount]}}var ki=S(5861);let Zr=(()=>{class r{}return r.Authorization="Authorization",r.Cookie="Cookie",r})();class Uo{constructor(n,e,i){this.statusCode=n,this.statusText=e,this.content=i}}class Di{get(n,e){return this.send({...e,method:"GET",url:n})}post(n,e){return this.send({...e,method:"POST",url:n})}delete(n,e){return this.send({...e,method:"DELETE",url:n})}getCookieString(n){return""}}class Dr extends Di{constructor(n,e){super(),this._innerClient=n,this._accessTokenFactory=e}send(n){var e=this;return(0,ki.Z)(function*(){let i=!0;e._accessTokenFactory&&(!e._accessToken||n.url&&n.url.indexOf("/negotiate?")>0)&&(i=!1,e._accessToken=yield e._accessTokenFactory()),e._setAuthorizationHeader(n);const o=yield e._innerClient.send(n);return i&&401===o.statusCode&&e._accessTokenFactory?(e._accessToken=yield e._accessTokenFactory(),e._setAuthorizationHeader(n),yield e._innerClient.send(n)):o})()}_setAuthorizationHeader(n){n.headers||(n.headers={}),this._accessToken?n.headers[Zr.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&n.headers[Zr.Authorization]&&delete n.headers[Zr.Authorization]}getCookieString(n){return this._innerClient.getCookieString(n)}}class zi extends Error{constructor(n,e){const i=new.target.prototype;super(`${n}: Status code '${e}'`),this.statusCode=e,this.__proto__=i}}class $r extends Error{constructor(n="A timeout occurred."){const e=new.target.prototype;super(n),this.__proto__=e}}class Zi extends Error{constructor(n="An abort occurred."){const e=new.target.prototype;super(n),this.__proto__=e}}class zo extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.transport=e,this.errorType="UnsupportedTransportError",this.__proto__=i}}class Co extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.transport=e,this.errorType="DisabledTransportError",this.__proto__=i}}class Kr extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.transport=e,this.errorType="FailedToStartTransportError",this.__proto__=i}}class qr extends Error{constructor(n){const e=new.target.prototype;super(n),this.errorType="FailedToNegotiateWithServerError",this.__proto__=e}}class Io extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.innerErrors=e,this.__proto__=i}}var Pn=function(r){return r[r.Trace=0]="Trace",r[r.Debug=1]="Debug",r[r.Information=2]="Information",r[r.Warning=3]="Warning",r[r.Error=4]="Error",r[r.Critical=5]="Critical",r[r.None=6]="None",r}(Pn||{});class oi{constructor(){}log(n,e){}}oi.instance=new oi;const Pi="7.0.10";class xi{static isRequired(n,e){if(null==n)throw new Error(`The '${e}' argument is required.`)}static isNotEmpty(n,e){if(!n||n.match(/^\s*$/))throw new Error(`The '${e}' argument should not be empty.`)}static isIn(n,e,i){if(!(n in e))throw new Error(`Unknown ${i} value: ${n}.`)}}class Ki{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&typeof window.document>"u"}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function no(r,n){let e="";return Br(r)?(e=`Binary data of length ${r.byteLength}`,n&&(e+=`. Content: '${function Ir(r){const n=new Uint8Array(r);let e="";return n.forEach(i=>{e+=`0x${i<16?"0":""}${i.toString(16)} `}),e.substr(0,e.length-1)}(r)}'`)):"string"==typeof r&&(e=`String data of length ${r.length}`,n&&(e+=`. Content: '${r}'`)),e}function Br(r){return r&&typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||r.constructor&&"ArrayBuffer"===r.constructor.name)}function Zt(r,n,e,i,o,d){return On.apply(this,arguments)}function On(){return(On=(0,ki.Z)(function*(r,n,e,i,o,d){const m={},[v,I]=Ii();m[v]=I,r.log(Pn.Trace,`(${n} transport) sending data. ${no(o,d.logMessageContent)}.`);const j=Br(o)?"arraybuffer":"text",ne=yield e.post(i,{content:o,headers:{...m,...d.headers},responseType:j,timeout:d.timeout,withCredentials:d.withCredentials});r.log(Pn.Trace,`(${n} transport) request complete. Response status: ${ne.statusCode}.`)})).apply(this,arguments)}class Wn{constructor(n,e){this._subject=n,this._observer=e}dispose(){const n=this._subject.observers.indexOf(this._observer);n>-1&&this._subject.observers.splice(n,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(e=>{})}}class gi{constructor(n){this._minLevel=n,this.out=console}log(n,e){if(n>=this._minLevel){const i=`[${(new Date).toISOString()}] ${Pn[n]}: ${e}`;switch(n){case Pn.Critical:case Pn.Error:this.out.error(i);break;case Pn.Warning:this.out.warn(i);break;case Pn.Information:this.out.info(i);break;default:this.out.log(i)}}}}function Ii(){let r="X-SignalR-User-Agent";return Ki.isNode&&(r="User-Agent"),[r,Ni(Pi,wi(),Ki.isNode?"NodeJS":"Browser",_r())]}function Ni(r,n,e,i){let o="Microsoft SignalR/";const d=r.split(".");return o+=`${d[0]}.${d[1]}`,o+=` (${r}; `,o+=n&&""!==n?`${n}; `:"Unknown OS; ",o+=`${e}`,o+=i?`; ${i}`:"; Unknown Runtime Version",o+=")",o}function wi(){if(!Ki.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function _r(){if(Ki.isNode)return process.versions.node}function io(r){return r.stack?r.stack:r.message?r.message:`${r}`}class ts extends Di{constructor(n){if(super(),this._logger=n,typeof fetch>"u"){const e=require;this._jar=new(e("tough-cookie").CookieJar),this._fetchType=e("node-fetch"),this._fetchType=e("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function ho(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}());if(typeof AbortController>"u"){const e=require;this._abortControllerType=e("abort-controller")}else this._abortControllerType=AbortController}send(n){var e=this;return(0,ki.Z)(function*(){if(n.abortSignal&&n.abortSignal.aborted)throw new Zi;if(!n.method)throw new Error("No method defined.");if(!n.url)throw new Error("No url defined.");const i=new e._abortControllerType;let o;n.abortSignal&&(n.abortSignal.onabort=()=>{i.abort(),o=new Zi});let m,d=null;n.timeout&&(d=setTimeout(()=>{i.abort(),e._logger.log(Pn.Warning,"Timeout from HTTP request."),o=new $r},n.timeout)),""===n.content&&(n.content=void 0),n.content&&(n.headers=n.headers||{},n.headers["Content-Type"]=Br(n.content)?"application/octet-stream":"text/plain;charset=UTF-8");try{m=yield e._fetchType(n.url,{body:n.content,cache:"no-cache",credentials:!0===n.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...n.headers},method:n.method,mode:"cors",redirect:"follow",signal:i.signal})}catch(j){throw o||(e._logger.log(Pn.Warning,`Error from HTTP request. ${j}.`),j)}finally{d&&clearTimeout(d),n.abortSignal&&(n.abortSignal.onabort=null)}if(!m.ok){const j=yield Ur(m,"text");throw new zi(j||m.statusText,m.status)}const I=yield Ur(m,n.responseType);return new Uo(m.status,m.statusText,I)})()}getCookieString(n){let e="";return Ki.isNode&&this._jar&&this._jar.getCookies(n,(i,o)=>e=o.join("; ")),e}}function Ur(r,n){let e;switch(n){case"arraybuffer":e=r.arrayBuffer();break;case"text":default:e=r.text();break;case"blob":case"document":case"json":throw new Error(`${n} is not supported.`)}return e}class Yr extends Di{constructor(n){super(),this._logger=n}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new Zi):n.method?n.url?new Promise((e,i)=>{const o=new XMLHttpRequest;o.open(n.method,n.url,!0),o.withCredentials=void 0===n.withCredentials||n.withCredentials,o.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===n.content&&(n.content=void 0),n.content&&(Br(n.content)?o.setRequestHeader("Content-Type","application/octet-stream"):o.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const d=n.headers;d&&Object.keys(d).forEach(m=>{o.setRequestHeader(m,d[m])}),n.responseType&&(o.responseType=n.responseType),n.abortSignal&&(n.abortSignal.onabort=()=>{o.abort(),i(new Zi)}),n.timeout&&(o.timeout=n.timeout),o.onload=()=>{n.abortSignal&&(n.abortSignal.onabort=null),o.status>=200&&o.status<300?e(new Uo(o.status,o.statusText,o.response||o.responseText)):i(new zi(o.response||o.responseText||o.statusText,o.status))},o.onerror=()=>{this._logger.log(Pn.Warning,`Error from HTTP request. ${o.status}: ${o.statusText}.`),i(new zi(o.statusText,o.status))},o.ontimeout=()=>{this._logger.log(Pn.Warning,"Timeout from HTTP request."),i(new $r)},o.send(n.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class jo extends Di{constructor(n){if(super(),typeof fetch<"u"||Ki.isNode)this._httpClient=new ts(n);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");this._httpClient=new Yr(n)}}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new Zi):n.method?n.url?this._httpClient.send(n):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(n){return this._httpClient.getCookieString(n)}}var hr=function(r){return r[r.None=0]="None",r[r.WebSockets=1]="WebSockets",r[r.ServerSentEvents=2]="ServerSentEvents",r[r.LongPolling=4]="LongPolling",r}(hr||{}),Mi=function(r){return r[r.Text=1]="Text",r[r.Binary=2]="Binary",r}(Mi||{});class ta{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class Do{constructor(n,e,i){this._httpClient=n,this._logger=e,this._pollAbort=new ta,this._options=i,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(n,e){var i=this;return(0,ki.Z)(function*(){if(xi.isRequired(n,"url"),xi.isRequired(e,"transferFormat"),xi.isIn(e,Mi,"transferFormat"),i._url=n,i._logger.log(Pn.Trace,"(LongPolling transport) Connecting."),e===Mi.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[o,d]=Ii(),m={[o]:d,...i._options.headers},v={abortSignal:i._pollAbort.signal,headers:m,timeout:1e5,withCredentials:i._options.withCredentials};e===Mi.Binary&&(v.responseType="arraybuffer");const I=`${n}&_=${Date.now()}`;i._logger.log(Pn.Trace,`(LongPolling transport) polling: ${I}.`);const j=yield i._httpClient.get(I,v);200!==j.statusCode?(i._logger.log(Pn.Error,`(LongPolling transport) Unexpected response code: ${j.statusCode}.`),i._closeError=new zi(j.statusText||"",j.statusCode),i._running=!1):i._running=!0,i._receiving=i._poll(i._url,v)})()}_poll(n,e){var i=this;return(0,ki.Z)(function*(){try{for(;i._running;)try{const o=`${n}&_=${Date.now()}`;i._logger.log(Pn.Trace,`(LongPolling transport) polling: ${o}.`);const d=yield i._httpClient.get(o,e);204===d.statusCode?(i._logger.log(Pn.Information,"(LongPolling transport) Poll terminated by server."),i._running=!1):200!==d.statusCode?(i._logger.log(Pn.Error,`(LongPolling transport) Unexpected response code: ${d.statusCode}.`),i._closeError=new zi(d.statusText||"",d.statusCode),i._running=!1):d.content?(i._logger.log(Pn.Trace,`(LongPolling transport) data received. ${no(d.content,i._options.logMessageContent)}.`),i.onreceive&&i.onreceive(d.content)):i._logger.log(Pn.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(o){i._running?o instanceof $r?i._logger.log(Pn.Trace,"(LongPolling transport) Poll timed out, reissuing."):(i._closeError=o,i._running=!1):i._logger.log(Pn.Trace,`(LongPolling transport) Poll errored after shutdown: ${o.message}`)}}finally{i._logger.log(Pn.Trace,"(LongPolling transport) Polling complete."),i.pollAborted||i._raiseOnClose()}})()}send(n){var e=this;return(0,ki.Z)(function*(){return e._running?Zt(e._logger,"LongPolling",e._httpClient,e._url,n,e._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var n=this;return(0,ki.Z)(function*(){n._logger.log(Pn.Trace,"(LongPolling transport) Stopping polling."),n._running=!1,n._pollAbort.abort();try{yield n._receiving,n._logger.log(Pn.Trace,`(LongPolling transport) sending DELETE request to ${n._url}.`);const e={},[i,o]=Ii();e[i]=o;const d={headers:{...e,...n._options.headers},timeout:n._options.timeout,withCredentials:n._options.withCredentials};yield n._httpClient.delete(n._url,d),n._logger.log(Pn.Trace,"(LongPolling transport) DELETE request sent.")}finally{n._logger.log(Pn.Trace,"(LongPolling transport) Stop finished."),n._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let n="(LongPolling transport) Firing onclose event.";this._closeError&&(n+=" Error: "+this._closeError),this._logger.log(Pn.Trace,n),this.onclose(this._closeError)}}}class fs{constructor(n,e,i,o){this._httpClient=n,this._accessToken=e,this._logger=i,this._options=o,this.onreceive=null,this.onclose=null}connect(n,e){var i=this;return(0,ki.Z)(function*(){return xi.isRequired(n,"url"),xi.isRequired(e,"transferFormat"),xi.isIn(e,Mi,"transferFormat"),i._logger.log(Pn.Trace,"(SSE transport) Connecting."),i._url=n,i._accessToken&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(i._accessToken)}`),new Promise((o,d)=>{let v,m=!1;if(e===Mi.Text){if(Ki.isBrowser||Ki.isWebWorker)v=new i._options.EventSource(n,{withCredentials:i._options.withCredentials});else{const I=i._httpClient.getCookieString(n),j={};j.Cookie=I;const[ne,pe]=Ii();j[ne]=pe,v=new i._options.EventSource(n,{withCredentials:i._options.withCredentials,headers:{...j,...i._options.headers}})}try{v.onmessage=I=>{if(i.onreceive)try{i._logger.log(Pn.Trace,`(SSE transport) data received. ${no(I.data,i._options.logMessageContent)}.`),i.onreceive(I.data)}catch(j){return void i._close(j)}},v.onerror=I=>{m?i._close():d(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},v.onopen=()=>{i._logger.log(Pn.Information,`SSE connected to ${i._url}`),i._eventSource=v,m=!0,o()}}catch(I){return void d(I)}}else d(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(n){var e=this;return(0,ki.Z)(function*(){return e._eventSource?Zt(e._logger,"SSE",e._httpClient,e._url,n,e._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(n){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(n))}}class ro{constructor(n,e,i,o,d,m){this._logger=i,this._accessTokenFactory=e,this._logMessageContent=o,this._webSocketConstructor=d,this._httpClient=n,this.onreceive=null,this.onclose=null,this._headers=m}connect(n,e){var i=this;return(0,ki.Z)(function*(){let o;return xi.isRequired(n,"url"),xi.isRequired(e,"transferFormat"),xi.isIn(e,Mi,"transferFormat"),i._logger.log(Pn.Trace,"(WebSockets transport) Connecting."),i._accessTokenFactory&&(o=yield i._accessTokenFactory()),new Promise((d,m)=>{let v;n=n.replace(/^http/,"ws");const I=i._httpClient.getCookieString(n);let j=!1;if(Ki.isNode||Ki.isReactNative){const ne={},[pe,ze]=Ii();ne[pe]=ze,o&&(ne[Zr.Authorization]=`Bearer ${o}`),I&&(ne[Zr.Cookie]=I),v=new i._webSocketConstructor(n,void 0,{headers:{...ne,...i._headers}})}else o&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(o)}`);v||(v=new i._webSocketConstructor(n)),e===Mi.Binary&&(v.binaryType="arraybuffer"),v.onopen=ne=>{i._logger.log(Pn.Information,`WebSocket connected to ${n}.`),i._webSocket=v,j=!0,d()},v.onerror=ne=>{let pe=null;pe=typeof ErrorEvent<"u"&&ne instanceof ErrorEvent?ne.error:"There was an error with the transport",i._logger.log(Pn.Information,`(WebSockets transport) ${pe}.`)},v.onmessage=ne=>{if(i._logger.log(Pn.Trace,`(WebSockets transport) data received. ${no(ne.data,i._logMessageContent)}.`),i.onreceive)try{i.onreceive(ne.data)}catch(pe){return void i._close(pe)}},v.onclose=ne=>{if(j)i._close(ne);else{let pe=null;pe=typeof ErrorEvent<"u"&&ne instanceof ErrorEvent?ne.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",m(new Error(pe))}}})})()}send(n){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(Pn.Trace,`(WebSockets transport) sending data. ${no(n,this._logMessageContent)}.`),this._webSocket.send(n),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(n){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(Pn.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(n)||!1!==n.wasClean&&1e3===n.code?n instanceof Error?this.onclose(n):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${n.code} (${n.reason||"no reason given"}).`)))}_isCloseEvent(n){return n&&"boolean"==typeof n.wasClean&&"number"==typeof n.code}}class Zo{constructor(n,e={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,xi.isRequired(n,"url"),this._logger=function Xn(r){return void 0===r?new gi(Pn.Information):null===r?oi.instance:void 0!==r.log?r:new gi(r)}(e.logger),this.baseUrl=this._resolveUrl(n),(e=e||{}).logMessageContent=void 0!==e.logMessageContent&&e.logMessageContent,"boolean"!=typeof e.withCredentials&&void 0!==e.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");e.withCredentials=void 0===e.withCredentials||e.withCredentials,e.timeout=void 0===e.timeout?1e5:e.timeout;let i=null,o=null;if(Ki.isNode){const d=require;i=d("ws"),o=d("eventsource")}!Ki.isNode&&typeof WebSocket<"u"&&!e.WebSocket?e.WebSocket=WebSocket:Ki.isNode&&!e.WebSocket&&i&&(e.WebSocket=i),!Ki.isNode&&typeof EventSource<"u"&&!e.EventSource?e.EventSource=EventSource:Ki.isNode&&!e.EventSource&&typeof o<"u"&&(e.EventSource=o),this._httpClient=new Dr(e.httpClient||new jo(this._logger),e.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=e,this.onreceive=null,this.onclose=null}start(n){var e=this;return(0,ki.Z)(function*(){if(xi.isIn(n=n||Mi.Binary,Mi,"transferFormat"),e._logger.log(Pn.Debug,`Starting connection with transfer format '${Mi[n]}'.`),"Disconnected"!==e._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(e._connectionState="Connecting",e._startInternalPromise=e._startInternal(n),yield e._startInternalPromise,"Disconnecting"===e._connectionState){const i="Failed to start the HttpConnection before stop() was called.";return e._logger.log(Pn.Error,i),yield e._stopPromise,Promise.reject(new Zi(i))}if("Connected"!==e._connectionState){const i="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return e._logger.log(Pn.Error,i),Promise.reject(new Zi(i))}e._connectionStarted=!0})()}send(n){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new xr(this.transport)),this._sendQueue.send(n))}stop(n){var e=this;return(0,ki.Z)(function*(){return"Disconnected"===e._connectionState?(e._logger.log(Pn.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===e._connectionState?(e._logger.log(Pn.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),e._stopPromise):(e._connectionState="Disconnecting",e._stopPromise=new Promise(i=>{e._stopPromiseResolver=i}),yield e._stopInternal(n),void(yield e._stopPromise))})()}_stopInternal(n){var e=this;return(0,ki.Z)(function*(){e._stopError=n;try{yield e._startInternalPromise}catch{}if(e.transport){try{yield e.transport.stop()}catch(i){e._logger.log(Pn.Error,`HttpConnection.transport.stop() threw error '${i}'.`),e._stopConnection()}e.transport=void 0}else e._logger.log(Pn.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(n){var e=this;return(0,ki.Z)(function*(){let i=e.baseUrl;e._accessTokenFactory=e._options.accessTokenFactory,e._httpClient._accessTokenFactory=e._accessTokenFactory;try{if(e._options.skipNegotiation){if(e._options.transport!==hr.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");e.transport=e._constructTransport(hr.WebSockets),yield e._startTransport(i,n)}else{let o=null,d=0;do{if(o=yield e._getNegotiationResponse(i),"Disconnecting"===e._connectionState||"Disconnected"===e._connectionState)throw new Zi("The connection was stopped during negotiation.");if(o.error)throw new Error(o.error);if(o.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(o.url&&(i=o.url),o.accessToken){const m=o.accessToken;e._accessTokenFactory=()=>m,e._httpClient._accessToken=m,e._httpClient._accessTokenFactory=void 0}d++}while(o.url&&d<100);if(100===d&&o.url)throw new Error("Negotiate redirection limit exceeded.");yield e._createTransport(i,e._options.transport,o,n)}e.transport instanceof Do&&(e.features.inherentKeepAlive=!0),"Connecting"===e._connectionState&&(e._logger.log(Pn.Debug,"The HttpConnection connected successfully."),e._connectionState="Connected")}catch(o){return e._logger.log(Pn.Error,"Failed to start the connection: "+o),e._connectionState="Disconnected",e.transport=void 0,e._stopPromiseResolver(),Promise.reject(o)}})()}_getNegotiationResponse(n){var e=this;return(0,ki.Z)(function*(){const i={},[o,d]=Ii();i[o]=d;const m=e._resolveNegotiateUrl(n);e._logger.log(Pn.Debug,`Sending negotiation request: ${m}.`);try{const v=yield e._httpClient.post(m,{content:"",headers:{...i,...e._options.headers},timeout:e._options.timeout,withCredentials:e._options.withCredentials});if(200!==v.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${v.statusCode}'`));const I=JSON.parse(v.content);return(!I.negotiateVersion||I.negotiateVersion<1)&&(I.connectionToken=I.connectionId),I}catch(v){let I="Failed to complete negotiation with the server: "+v;return v instanceof zi&&404===v.statusCode&&(I+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),e._logger.log(Pn.Error,I),Promise.reject(new qr(I))}})()}_createConnectUrl(n,e){return e?n+(-1===n.indexOf("?")?"?":"&")+`id=${e}`:n}_createTransport(n,e,i,o){var d=this;return(0,ki.Z)(function*(){let m=d._createConnectUrl(n,i.connectionToken);if(d._isITransport(e))return d._logger.log(Pn.Debug,"Connection was provided an instance of ITransport, using that directly."),d.transport=e,yield d._startTransport(m,o),void(d.connectionId=i.connectionId);const v=[],I=i.availableTransports||[];let j=i;for(const ne of I){const pe=d._resolveTransportOrError(ne,e,o);if(pe instanceof Error)v.push(`${ne.transport} failed:`),v.push(pe);else if(d._isITransport(pe)){if(d.transport=pe,!j){try{j=yield d._getNegotiationResponse(n)}catch(ze){return Promise.reject(ze)}m=d._createConnectUrl(n,j.connectionToken)}try{return yield d._startTransport(m,o),void(d.connectionId=j.connectionId)}catch(ze){if(d._logger.log(Pn.Error,`Failed to start the transport '${ne.transport}': ${ze}`),j=void 0,v.push(new Kr(`${ne.transport} failed: ${ze}`,hr[ne.transport])),"Connecting"!==d._connectionState){const tt="Failed to select transport before stop() was called.";return d._logger.log(Pn.Debug,tt),Promise.reject(new Zi(tt))}}}}return Promise.reject(v.length>0?new Io(`Unable to connect to the server with any of the available transports. ${v.join(" ")}`,v):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(n){switch(n){case hr.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new ro(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case hr.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new fs(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case hr.LongPolling:return new Do(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${n}.`)}}_startTransport(n,e){return this.transport.onreceive=this.onreceive,this.transport.onclose=i=>this._stopConnection(i),this.transport.connect(n,e)}_resolveTransportOrError(n,e,i){const o=hr[n.transport];if(null==o)return this._logger.log(Pn.Debug,`Skipping transport '${n.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${n.transport}' because it is not supported by this client.`);if(!function ns(r,n){return!r||0!=(n&r)}(e,o))return this._logger.log(Pn.Debug,`Skipping transport '${hr[o]}' because it was disabled by the client.`),new Co(`'${hr[o]}' is disabled by the client.`,o);if(!(n.transferFormats.map(m=>Mi[m]).indexOf(i)>=0))return this._logger.log(Pn.Debug,`Skipping transport '${hr[o]}' because it does not support the requested transfer format '${Mi[i]}'.`),new Error(`'${hr[o]}' does not support ${Mi[i]}.`);if(o===hr.WebSockets&&!this._options.WebSocket||o===hr.ServerSentEvents&&!this._options.EventSource)return this._logger.log(Pn.Debug,`Skipping transport '${hr[o]}' because it is not supported in your environment.'`),new zo(`'${hr[o]}' is not supported in your environment.`,o);this._logger.log(Pn.Debug,`Selecting transport '${hr[o]}'.`);try{return this._constructTransport(o)}catch(m){return m}}_isITransport(n){return n&&"object"==typeof n&&"connect"in n}_stopConnection(n){if(this._logger.log(Pn.Debug,`HttpConnection.stopConnection(${n}) called while in state ${this._connectionState}.`),this.transport=void 0,n=this._stopError||n,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(Pn.Warning,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${n}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),n?this._logger.log(Pn.Error,`Connection disconnected with error '${n}'.`):this._logger.log(Pn.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(e=>{this._logger.log(Pn.Error,`TransportSendQueue.stop() threw error '${e}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(n)}catch(e){this._logger.log(Pn.Error,`HttpConnection.onclose(${n}) threw error '${e}'.`)}}}else this._logger.log(Pn.Debug,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(n){if(0===n.lastIndexOf("https://",0)||0===n.lastIndexOf("http://",0))return n;if(!Ki.isBrowser)throw new Error(`Cannot resolve '${n}'.`);const e=window.document.createElement("a");return e.href=n,this._logger.log(Pn.Information,`Normalizing '${n}' to '${e.href}'.`),e.href}_resolveNegotiateUrl(n){const e=n.indexOf("?");let i=n.substring(0,-1===e?n.length:e);return"/"!==i[i.length-1]&&(i+="/"),i+="negotiate",i+=-1===e?"":n.substring(e),-1===i.indexOf("negotiateVersion")&&(i+=-1===e?"?":"&",i+="negotiateVersion="+this._negotiateVersion),i}}class xr{constructor(n){this._transport=n,this._buffer=[],this._executing=!0,this._sendBufferedData=new Go,this._transportResult=new Go,this._sendLoopPromise=this._sendLoop()}send(n){return this._bufferData(n),this._transportResult||(this._transportResult=new Go),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(n){if(this._buffer.length&&typeof this._buffer[0]!=typeof n)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof n}`);this._buffer.push(n),this._sendBufferedData.resolve()}_sendLoop(){var n=this;return(0,ki.Z)(function*(){for(;;){if(yield n._sendBufferedData.promise,!n._executing){n._transportResult&&n._transportResult.reject("Connection stopped.");break}n._sendBufferedData=new Go;const e=n._transportResult;n._transportResult=void 0;const i="string"==typeof n._buffer[0]?n._buffer.join(""):xr._concatBuffers(n._buffer);n._buffer.length=0;try{yield n._transport.send(i),e.resolve()}catch(o){e.reject(o)}}})()}static _concatBuffers(n){const e=n.map(d=>d.byteLength).reduce((d,m)=>d+m),i=new Uint8Array(e);let o=0;for(const d of n)i.set(new Uint8Array(d),o),o+=d.byteLength;return i.buffer}}class Go{constructor(){this.promise=new Promise((n,e)=>[this._resolver,this._rejecter]=[n,e])}resolve(){this._resolver()}reject(n){this._rejecter(n)}}class er{static write(n){return`${n}${er.RecordSeparator}`}static parse(n){if(n[n.length-1]!==er.RecordSeparator)throw new Error("Message is incomplete.");const e=n.split(er.RecordSeparator);return e.pop(),e}}er.RecordSeparatorCode=30,er.RecordSeparator=String.fromCharCode(er.RecordSeparatorCode);class vr{writeHandshakeRequest(n){return er.write(JSON.stringify(n))}parseHandshakeResponse(n){let e,i;if(Br(n)){const v=new Uint8Array(n),I=v.indexOf(er.RecordSeparatorCode);if(-1===I)throw new Error("Message is incomplete.");const j=I+1;e=String.fromCharCode.apply(null,Array.prototype.slice.call(v.slice(0,j))),i=v.byteLength>j?v.slice(j).buffer:null}else{const v=n,I=v.indexOf(er.RecordSeparator);if(-1===I)throw new Error("Message is incomplete.");const j=I+1;e=v.substring(0,j),i=v.length>j?v.substring(j):null}const o=er.parse(e),d=JSON.parse(o[0]);if(d.type)throw new Error("Expected a handshake response from the server.");return[i,d]}}var lr=function(r){return r[r.Invocation=1]="Invocation",r[r.StreamItem=2]="StreamItem",r[r.Completion=3]="Completion",r[r.StreamInvocation=4]="StreamInvocation",r[r.CancelInvocation=5]="CancelInvocation",r[r.Ping=6]="Ping",r[r.Close=7]="Close",r}(lr||{});class eo{constructor(){this.observers=[]}next(n){for(const e of this.observers)e.next(n)}error(n){for(const e of this.observers)e.error&&e.error(n)}complete(){for(const n of this.observers)n.complete&&n.complete()}subscribe(n){return this.observers.push(n),new Wn(this,n)}}var ir=function(r){return r.Disconnected="Disconnected",r.Connecting="Connecting",r.Connected="Connected",r.Disconnecting="Disconnecting",r.Reconnecting="Reconnecting",r}(ir||{});class hs{constructor(n,e,i,o){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(Pn.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},xi.isRequired(n,"connection"),xi.isRequired(e,"logger"),xi.isRequired(i,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=e,this._protocol=i,this.connection=n,this._reconnectPolicy=o,this._handshakeProtocol=new vr,this.connection.onreceive=d=>this._processIncomingData(d),this.connection.onclose=d=>this._connectionClosed(d),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=ir.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:lr.Ping})}static create(n,e,i,o){return new hs(n,e,i,o)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(n){if(this._connectionState!==ir.Disconnected&&this._connectionState!==ir.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!n)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=n}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var n=this;return(0,ki.Z)(function*(){if(n._connectionState!==ir.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));n._connectionState=ir.Connecting,n._logger.log(Pn.Debug,"Starting HubConnection.");try{yield n._startInternal(),Ki.isBrowser&&window.document.addEventListener("freeze",n._freezeEventListener),n._connectionState=ir.Connected,n._connectionStarted=!0,n._logger.log(Pn.Debug,"HubConnection connected successfully.")}catch(e){return n._connectionState=ir.Disconnected,n._logger.log(Pn.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}})()}_startInternal(){var n=this;return(0,ki.Z)(function*(){n._stopDuringStartError=void 0,n._receivedHandshakeResponse=!1;const e=new Promise((i,o)=>{n._handshakeResolver=i,n._handshakeRejecter=o});yield n.connection.start(n._protocol.transferFormat);try{const i={protocol:n._protocol.name,version:n._protocol.version};if(n._logger.log(Pn.Debug,"Sending handshake request."),yield n._sendMessage(n._handshakeProtocol.writeHandshakeRequest(i)),n._logger.log(Pn.Information,`Using HubProtocol '${n._protocol.name}'.`),n._cleanupTimeout(),n._resetTimeoutPeriod(),n._resetKeepAliveInterval(),yield e,n._stopDuringStartError)throw n._stopDuringStartError;n.connection.features.inherentKeepAlive||(yield n._sendMessage(n._cachedPingMessage))}catch(i){throw n._logger.log(Pn.Debug,`Hub handshake failed with error '${i}' during start(). Stopping HubConnection.`),n._cleanupTimeout(),n._cleanupPingTimer(),yield n.connection.stop(i),i}})()}stop(){var n=this;return(0,ki.Z)(function*(){const e=n._startPromise;n._stopPromise=n._stopInternal(),yield n._stopPromise;try{yield e}catch{}})()}_stopInternal(n){return this._connectionState===ir.Disconnected?(this._logger.log(Pn.Debug,`Call to HubConnection.stop(${n}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===ir.Disconnecting?(this._logger.log(Pn.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=ir.Disconnecting,this._logger.log(Pn.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(Pn.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=n||new Zi("The connection was stopped before the hub handshake could complete."),this.connection.stop(n)))}stream(n,...e){const[i,o]=this._replaceStreamingParams(e),d=this._createStreamInvocation(n,e,o);let m;const v=new eo;return v.cancelCallback=()=>{const I=this._createCancelInvocation(d.invocationId);return delete this._callbacks[d.invocationId],m.then(()=>this._sendWithProtocol(I))},this._callbacks[d.invocationId]=(I,j)=>{j?v.error(j):I&&(I.type===lr.Completion?I.error?v.error(new Error(I.error)):v.complete():v.next(I.item))},m=this._sendWithProtocol(d).catch(I=>{v.error(I),delete this._callbacks[d.invocationId]}),this._launchStreams(i,m),v}_sendMessage(n){return this._resetKeepAliveInterval(),this.connection.send(n)}_sendWithProtocol(n){return this._sendMessage(this._protocol.writeMessage(n))}send(n,...e){const[i,o]=this._replaceStreamingParams(e),d=this._sendWithProtocol(this._createInvocation(n,e,!0,o));return this._launchStreams(i,d),d}invoke(n,...e){const[i,o]=this._replaceStreamingParams(e),d=this._createInvocation(n,e,!1,o);return new Promise((v,I)=>{this._callbacks[d.invocationId]=(ne,pe)=>{pe?I(pe):ne&&(ne.type===lr.Completion?ne.error?I(new Error(ne.error)):v(ne.result):I(new Error(`Unexpected message type: ${ne.type}`)))};const j=this._sendWithProtocol(d).catch(ne=>{I(ne),delete this._callbacks[d.invocationId]});this._launchStreams(i,j)})}on(n,e){!n||!e||(n=n.toLowerCase(),this._methods[n]||(this._methods[n]=[]),-1===this._methods[n].indexOf(e)&&this._methods[n].push(e))}off(n,e){if(!n)return;n=n.toLowerCase();const i=this._methods[n];if(i)if(e){const o=i.indexOf(e);-1!==o&&(i.splice(o,1),0===i.length&&delete this._methods[n])}else delete this._methods[n]}onclose(n){n&&this._closedCallbacks.push(n)}onreconnecting(n){n&&this._reconnectingCallbacks.push(n)}onreconnected(n){n&&this._reconnectedCallbacks.push(n)}_processIncomingData(n){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(n=this._processHandshakeResponse(n),this._receivedHandshakeResponse=!0),n){const e=this._protocol.parseMessages(n,this._logger);for(const i of e)switch(i.type){case lr.Invocation:this._invokeClientMethod(i);break;case lr.StreamItem:case lr.Completion:{const o=this._callbacks[i.invocationId];if(o){i.type===lr.Completion&&delete this._callbacks[i.invocationId];try{o(i)}catch(d){this._logger.log(Pn.Error,`Stream callback threw error: ${io(d)}`)}}break}case lr.Ping:break;case lr.Close:{this._logger.log(Pn.Information,"Close message received from server.");const o=i.error?new Error("Server returned an error on close: "+i.error):void 0;!0===i.allowReconnect?this.connection.stop(o):this._stopPromise=this._stopInternal(o);break}default:this._logger.log(Pn.Warning,`Invalid message type: ${i.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(n){let e,i;try{[i,e]=this._handshakeProtocol.parseHandshakeResponse(n)}catch(o){const d="Error parsing handshake response: "+o;this._logger.log(Pn.Error,d);const m=new Error(d);throw this._handshakeRejecter(m),m}if(e.error){const o="Server returned handshake error: "+e.error;this._logger.log(Pn.Error,o);const d=new Error(o);throw this._handshakeRejecter(d),d}return this._logger.log(Pn.Debug,"Server handshake complete."),this._handshakeResolver(),i}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var n=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let e=this._nextKeepAlive-(new Date).getTime();e<0&&(e=0),this._pingServerHandle=setTimeout((0,ki.Z)(function*(){if(n._connectionState===ir.Connected)try{yield n._sendMessage(n._cachedPingMessage)}catch{n._cleanupPingTimer()}}),e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(n){var e=this;return(0,ki.Z)(function*(){const i=n.target.toLowerCase(),o=e._methods[i];if(!o)return e._logger.log(Pn.Warning,`No client method with the name '${i}' found.`),void(n.invocationId&&(e._logger.log(Pn.Warning,`No result given for '${i}' method and invocation ID '${n.invocationId}'.`),yield e._sendWithProtocol(e._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null))));const d=o.slice(),m=!!n.invocationId;let v,I,j;for(const ne of d)try{const pe=v;v=yield ne.apply(e,n.arguments),m&&v&&pe&&(e._logger.log(Pn.Error,`Multiple results provided for '${i}'. Sending error to server.`),j=e._createCompletionMessage(n.invocationId,"Client provided multiple results.",null)),I=void 0}catch(pe){I=pe,e._logger.log(Pn.Error,`A callback for the method '${i}' threw error '${pe}'.`)}j?yield e._sendWithProtocol(j):m?(I?j=e._createCompletionMessage(n.invocationId,`${I}`,null):void 0!==v?j=e._createCompletionMessage(n.invocationId,null,v):(e._logger.log(Pn.Warning,`No result given for '${i}' method and invocation ID '${n.invocationId}'.`),j=e._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)),yield e._sendWithProtocol(j)):v&&e._logger.log(Pn.Error,`Result given for '${i}' method but server is not expecting a result.`)})()}_connectionClosed(n){this._logger.log(Pn.Debug,`HubConnection.connectionClosed(${n}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||n||new Zi("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(n||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===ir.Disconnecting?this._completeClose(n):this._connectionState===ir.Connected&&this._reconnectPolicy?this._reconnect(n):this._connectionState===ir.Connected&&this._completeClose(n)}_completeClose(n){if(this._connectionStarted){this._connectionState=ir.Disconnected,this._connectionStarted=!1,Ki.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(e=>e.apply(this,[n]))}catch(e){this._logger.log(Pn.Error,`An onclose callback called with error '${n}' threw error '${e}'.`)}}}_reconnect(n){var e=this;return(0,ki.Z)(function*(){const i=Date.now();let o=0,d=void 0!==n?n:new Error("Attempting to reconnect due to a unknown error."),m=e._getNextRetryDelay(o++,0,d);if(null===m)return e._logger.log(Pn.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void e._completeClose(n);if(e._connectionState=ir.Reconnecting,e._logger.log(Pn.Information,n?`Connection reconnecting because of error '${n}'.`:"Connection reconnecting."),0!==e._reconnectingCallbacks.length){try{e._reconnectingCallbacks.forEach(v=>v.apply(e,[n]))}catch(v){e._logger.log(Pn.Error,`An onreconnecting callback called with error '${n}' threw error '${v}'.`)}if(e._connectionState!==ir.Reconnecting)return void e._logger.log(Pn.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==m;){if(e._logger.log(Pn.Information,`Reconnect attempt number ${o} will start in ${m} ms.`),yield new Promise(v=>{e._reconnectDelayHandle=setTimeout(v,m)}),e._reconnectDelayHandle=void 0,e._connectionState!==ir.Reconnecting)return void e._logger.log(Pn.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield e._startInternal(),e._connectionState=ir.Connected,e._logger.log(Pn.Information,"HubConnection reconnected successfully."),0!==e._reconnectedCallbacks.length)try{e._reconnectedCallbacks.forEach(v=>v.apply(e,[e.connection.connectionId]))}catch(v){e._logger.log(Pn.Error,`An onreconnected callback called with connectionId '${e.connection.connectionId}; threw error '${v}'.`)}return}catch(v){if(e._logger.log(Pn.Information,`Reconnect attempt failed because of error '${v}'.`),e._connectionState!==ir.Reconnecting)return e._logger.log(Pn.Debug,`Connection moved to the '${e._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(e._connectionState===ir.Disconnecting&&e._completeClose());d=v instanceof Error?v:new Error(v.toString()),m=e._getNextRetryDelay(o++,Date.now()-i,d)}}e._logger.log(Pn.Information,`Reconnect retries have been exhausted after ${Date.now()-i} ms and ${o} failed attempts. Connection disconnecting.`),e._completeClose()})()}_getNextRetryDelay(n,e,i){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:e,previousRetryCount:n,retryReason:i})}catch(o){return this._logger.log(Pn.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${n}, ${e}) threw error '${o}'.`),null}}_cancelCallbacksWithError(n){const e=this._callbacks;this._callbacks={},Object.keys(e).forEach(i=>{const o=e[i];try{o(null,n)}catch(d){this._logger.log(Pn.Error,`Stream 'error' callback called with '${n}' threw error: ${io(d)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(n,e,i,o){if(i)return 0!==o.length?{arguments:e,streamIds:o,target:n,type:lr.Invocation}:{arguments:e,target:n,type:lr.Invocation};{const d=this._invocationId;return this._invocationId++,0!==o.length?{arguments:e,invocationId:d.toString(),streamIds:o,target:n,type:lr.Invocation}:{arguments:e,invocationId:d.toString(),target:n,type:lr.Invocation}}}_launchStreams(n,e){if(0!==n.length){e||(e=Promise.resolve());for(const i in n)n[i].subscribe({complete:()=>{e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(i)))},error:o=>{let d;d=o instanceof Error?o.message:o&&o.toString?o.toString():"Unknown error",e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(i,d)))},next:o=>{e=e.then(()=>this._sendWithProtocol(this._createStreamItemMessage(i,o)))}})}}_replaceStreamingParams(n){const e=[],i=[];for(let o=0;o<n.length;o++){const d=n[o];if(this._isObservable(d)){const m=this._invocationId;this._invocationId++,e[m]=d,i.push(m.toString()),n.splice(o,1)}}return[e,i]}_isObservable(n){return n&&n.subscribe&&"function"==typeof n.subscribe}_createStreamInvocation(n,e,i){const o=this._invocationId;return this._invocationId++,0!==i.length?{arguments:e,invocationId:o.toString(),streamIds:i,target:n,type:lr.StreamInvocation}:{arguments:e,invocationId:o.toString(),target:n,type:lr.StreamInvocation}}_createCancelInvocation(n){return{invocationId:n,type:lr.CancelInvocation}}_createStreamItemMessage(n,e){return{invocationId:n,item:e,type:lr.StreamItem}}_createCompletionMessage(n,e,i){return e?{error:e,invocationId:n,type:lr.Completion}:{invocationId:n,result:i,type:lr.Completion}}}class js{constructor(){this.name="json",this.version=1,this.transferFormat=Mi.Text}parseMessages(n,e){if("string"!=typeof n)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!n)return[];null===e&&(e=oi.instance);const i=er.parse(n),o=[];for(const d of i){const m=JSON.parse(d);if("number"!=typeof m.type)throw new Error("Invalid payload.");switch(m.type){case lr.Invocation:this._isInvocationMessage(m);break;case lr.StreamItem:this._isStreamItemMessage(m);break;case lr.Completion:this._isCompletionMessage(m);break;case lr.Ping:case lr.Close:break;default:e.log(Pn.Information,"Unknown message type '"+m.type+"' ignored.");continue}o.push(m)}return o}writeMessage(n){return er.write(JSON.stringify(n))}_isInvocationMessage(n){this._assertNotEmptyString(n.target,"Invalid payload for Invocation message."),void 0!==n.invocationId&&this._assertNotEmptyString(n.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(n){if(this._assertNotEmptyString(n.invocationId,"Invalid payload for StreamItem message."),void 0===n.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(n){if(n.result&&n.error)throw new Error("Invalid payload for Completion message.");!n.result&&n.error&&this._assertNotEmptyString(n.error,"Invalid payload for Completion message."),this._assertNotEmptyString(n.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(n,e){if("string"!=typeof n||""===n)throw new Error(e)}}const ws={trace:Pn.Trace,debug:Pn.Debug,info:Pn.Information,information:Pn.Information,warn:Pn.Warning,warning:Pn.Warning,error:Pn.Error,critical:Pn.Critical,none:Pn.None};class ms{configureLogging(n){if(xi.isRequired(n,"logging"),function na(r){return void 0!==r.log}(n))this.logger=n;else if("string"==typeof n){const e=function is(r){const n=ws[r.toLowerCase()];if(typeof n<"u")return n;throw new Error(`Unknown log level: ${r}`)}(n);this.logger=new gi(e)}else this.logger=new gi(n);return this}withUrl(n,e){return xi.isRequired(n,"url"),xi.isNotEmpty(n,"url"),this.url=n,this.httpConnectionOptions="object"==typeof e?{...this.httpConnectionOptions,...e}:{...this.httpConnectionOptions,transport:e},this}withHubProtocol(n){return xi.isRequired(n,"protocol"),this.protocol=n,this}withAutomaticReconnect(n){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=n?Array.isArray(n)?new fo(n):n:new fo,this}build(){const n=this.httpConnectionOptions||{};if(void 0===n.logger&&(n.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const e=new Zo(this.url,n);return hs.create(e,this.logger||oi.instance,this.protocol||new js,this.reconnectPolicy)}}let Rr=(()=>{class r{constructor(e){this.sharedService=e,this.updateMediaServers$=new on.x,this.enableMediaServerSubject$=new on.x,this.disableMediaServerSubject$=new on.x,this.updateLibrariesByMediaServerSubject$=new on.x,this.updateItemsByMediaServerSubject$=new on.x}updateMediaServers(){this.updateMediaServers$.next(!0)}isUpdatingMediaServers(){return this.updateMediaServers$.asObservable()}enableMediaServer(e){this.enableMediaServerSubject$.next(e)}isEnablingMediaServer(){return this.enableMediaServerSubject$.asObservable()}disableMediaServer(e){this.disableMediaServerSubject$.next(e)}isDisablingMediaServer(){return this.disableMediaServerSubject$.asObservable()}updateLibrariesByMediaServer(e){this.updateLibrariesByMediaServerSubject$.next(e)}isUpdatingLibrariesByMediaServer(){return this.updateLibrariesByMediaServerSubject$.asObservable()}updateItemsByMediaServer(e){this.updateItemsByMediaServerSubject$.next(e)}isUpdatingItemsByMediaServer(){return this.updateItemsByMediaServerSubject$.asObservable()}openConnection(){var e=(new ms).withUrl(this.sharedService.urlSinovadStreamWebApi+"/mediaServerHub",{skipNegotiation:!0,transport:hr.WebSockets}).build();this.sharedService.hubConnection=e,this.startHubConnection()}startHubConnection(){let e=this;this.sharedService.hubConnection.start().then(()=>{console.log("connection started"),e.setEvents(e.sharedService.hubConnection)}).catch(i=>{console.error("error while establishing signalr connection: "+i)}),this.sharedService.hubConnection.onclose(i=>{setTimeout(()=>{e.startHubConnection()},5e3)})}stopConnection(){this.sharedService.hubConnection.off("UpdateMediaServers"),this.sharedService.hubConnection.off("EnableMediaServer"),this.sharedService.hubConnection.off("DisableMediaServer"),this.sharedService.hubConnection.off("UpdateLibrariesByMediaServer"),this.sharedService.hubConnection.off("UpdateItemsByMediaServer"),this.sharedService.hubConnection.off("UpdateItemsByMediaServerAndLibrary"),this.sharedService.hubConnection.stop()}setEvents(e){e.on("UpdateMediaServers",i=>{this.updateMediaServers()}),e.on("EnableMediaServer",i=>{var o=this.sharedService.mediaServers.find(d=>d.Guid==i);o.isSecureConnection||(o.isSecureConnection=!0),this.enableMediaServer(i)}),e.on("DisableMediaServer",i=>{var o=this.sharedService.mediaServers.find(d=>d.Guid==i);o.isSecureConnection&&(o.isSecureConnection=!1),this.disableMediaServer(i)}),e.on("UpdateLibrariesByMediaServer",i=>{this.updateLibrariesByMediaServer(i)}),e.on("UpdateItemsByMediaServer",i=>{this.updateItemsByMediaServer(i)}),e.invoke("AddConnectionToUserClientsGroup",this.sharedService.userData.Guid).then(i=>{})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(fi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),lo=(()=>{class r{constructor(e,i,o,d){this.menuService=e,this.signalIRHubService=i,this.sharedService=o,this.restProvider=d,this.completedCallGetUserData$=new on.x,this.calledGetUserData=!1}completeCallGetUserData(){this.completedCallGetUserData$.next(!0)}isCompletedCallGetUserData(){return this.completedCallGetUserData$.asObservable()}clearSessionData(){this.calledGetUserData=!1,this.sharedService.manageMenus=[],this.sharedService.currentProfile=void 0,this.sharedService.userData=void 0,this.sharedService.apiToken=void 0,this.signalIRHubService.stopConnection(),localStorage.removeItem("apiToken")}getUserData(){this.restProvider.executeSinovadApiService(et.GET,"/users/GetUserData").then(e=>{let i=e.Data;i&&i.User?(this.sharedService.userData=i.User,this.sharedService.mediaServers=i.MediaServers,this.sharedService.linkedAccounts=i.LinkedAccounts,this.sharedService.listProfiles=i.Profiles,this.sharedService.currentProfile=i.Profiles[0],this.signalIRHubService.openConnection(),this.menuService.getManageMenu()):(this.sharedService.apiToken=void 0,localStorage.removeItem("apiToken")),this.calledGetUserData=!0,this.completeCallGetUserData()},e=>{this.calledGetUserData=!0,localStorage.removeItem("apiToken"),this.completeCallGetUserData(),console.error(e)})}getItems(e,i,o,d,m,v){return new Promise((I,j)=>{let ne=Nt();this.lastCallGuid=ne;var pe="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+v;this.restProvider.executeSinovadApiService(et.GET,"/users/GetAllWithPaginationAsync"+pe).then(tt=>{this.lastCallGuid==ne&&I(tt)},tt=>{console.error(tt),j(tt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?et.PUT:et.POST,e.Id>0?"/users/Update":"/users/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.DELETE,"/users/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(et.DELETE,"/users/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(fr),t.LFG(Rr),t.LFG(fi),t.LFG(Oi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const mr=(r,n)=>{const e=(0,t.f3M)(Kn.F0),i=(0,t.f3M)(fi),o=(0,t.f3M)(lo);return null!=localStorage.getItem("apiToken")?!!o.calledGetUserData||o.isCompletedCallGetUserData().pipe((0,ci.b)(d=>null!=i.userData||e.navigateByUrl("/landing"))):e.navigateByUrl("/landing")},Ho=(r,n)=>{const e=(0,t.f3M)(fi),i=(0,t.f3M)(fr),o=(0,t.f3M)(Kn.F0);return i.loadedManageMenu?!!e.checkIfIsEnableMenuOptionByPath(r.routeConfig.path)||o.navigateByUrl("/home"):i.isCompletedLoadUserManageMenu().pipe((0,ci.b)(d=>!!e.checkIfIsEnableMenuOptionByPath(r.routeConfig.path)||o.navigateByUrl("/home")))},qo=(r,n)=>{const e=(0,t.f3M)(Kn.F0);return null==localStorage.getItem("apiToken")||e.navigateByUrl("/home")};class ps{}class ia{}let xo=(()=>{class r{constructor(e){this.restProvider=e}getLibrariesByMediaServer(e){return new Promise((i,o)=>{this.restProvider.executeHttpMediaServerApi(et.GET,e+"/api/libraries/GetAllLibraries").then(m=>{i(m.Data)},m=>{o(m)})})}saveItem(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(i.Id>0?et.PUT:et.POST,e+"/api"+(i.Id>0?"/libraries/Update":"/libraries/Create"),i).then(I=>{o(!0)},I=>{console.error(I),d(I)})})}deleteItem(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(et.DELETE,e+"/api/libraries/Delete/"+i).then(v=>{o(v)},v=>{console.error(v),d(v)})})}deleteItems(e,i){return new Promise((o,d)=>{let m=[];for(let j=0;j<i.length;j++)m.push(i[j].Id);var v=m.join(",");this.restProvider.executeHttpMediaServerApi(et.DELETE,e+"/api/libraries/DeleteList/"+v).then(j=>{o(j)},j=>{console.error(j),d(j)})})}searchFiles(e,i){return new Promise((o,d)=>{let m=Nt();this.restProvider.executeHttpMediaServerApi(et.POST,e+"/api/libraries/SearchFiles",{Listlibraries:i,LogIdentifier:m}).then(j=>{o(j)},j=>{console.error(j),d(j)})})}getAllMediaItemsBySearchQuery(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(et.GET,e+"/api/libraries/GetAllMediaItemsBySearchQuery?searchQuery="+i).then(v=>{o(v.Data)},v=>{d(v)})})}getAllMediaItems(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(et.GET,e+"/api/libraries/GetAllMediaItems?profileId="+i).then(v=>{o(v.Data)},v=>{d(v)})})}getMediaItemsByLibrary(e,i,o){return new Promise((d,m)=>{this.restProvider.executeHttpMediaServerApi(et.GET,e+"/api/libraries/GetMediaItemsByLibrary?libraryId="+i+"&profileId="+o).then(I=>{d(I.Data)},I=>{m(I)})})}getMediaItemsByMediaType(e,i,o){return new Promise((d,m)=>{this.restProvider.executeHttpMediaServerApi(et.GET,e+"/api/libraries/GetMediaItemsByMediaType?mediaTypeId="+i+"&profileId="+o).then(I=>{d(I.Data)},I=>{m(I)})})}getMediaItemDetail(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(et.GET,e+"/api/libraries/GetMediaItemDetail/"+i).then(v=>{o(v.Data)},v=>{d(v)})})}GetMediaItemDetailByMediaFileAndProfile(e,i,o){return new Promise((d,m)=>{this.restProvider.executeHttpMediaServerApi(et.GET,e+"/api/libraries/GetMediaItemDetailByMediaFileAndProfile?mediaFileId="+i+"&profileId="+o).then(I=>{d(I.Data)},I=>{m(I)})})}updateMediaFilePlayback(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(et.PUT,e+"/api/libraries/UpdateMediaFilePlayback",i).then(v=>{o(v.Data)},v=>{d(v)})})}CreateBuilderVideoFromItem(e,i,o){let d=Nt();var m=e.ListMediaFiles[0],v=new ps;v.VideoId=m.Id,v.Title=e.MediaItem.ExtendedTitle,v.PhysicalPath=m.PhysicalPath,v.MediaServerId=i.Id,v.MediaServerUrl=i.Url,v.CurrentTime=o||0,v.ProcessGUID=d,v.TimeSpan=v.CurrentTime?v.CurrentTime.toString():"0";var I=new ia;return I.TranscodePrepareVideo=v,I.ItemDetail=e,I}CreateBuilderVideoFromEpisode(e,i,o,d){var m=this.GetTranscodeVideoFromEpisode(e,i,o,d);e.ListSeasons&&(e.CurrentSeason=e.ListSeasons.find(I=>I.SeasonNumber==i.SeasonNumber),e.CurrentEpisode=e.CurrentSeason.ListEpisodes.find(I=>I.EpisodeNumber==i.EpisodeNumber));var v=new ia;return v.TranscodePrepareVideo=m,v.ItemDetail=e,v}GetTranscodeVideoFromEpisode(e,i,o,d){var m=i.ListMediaFiles[0];let v=Nt();var I=new ps;return I.VideoId=m.Id,I.Title=e.MediaItem.Title,I.Subtitle="T"+i.SeasonNumber+":E"+i.EpisodeNumber+" "+i.Name,I.PhysicalPath=m.PhysicalPath,I.MediaServerId=o.Id,I.MediaServerUrl=o.Url,I.ProcessGUID=v,I.CurrentTime=d||0,I.TimeSpan=I.CurrentTime?I.CurrentTime.toString():"0",I}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Oi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Nr=S(5940);let rs=(()=>{class r{constructor(){}ngOnInit(){}ngAfterViewInit(){}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-server-connection-error"]],inputs:{mediaServer:"mediaServer"},decls:5,vars:1,consts:[[1,"server-error-page-container"],[1,"server-error-page-content"],[1,"server-error-message-title"],[1,"server-error-message-description"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t._UZ(4,"div",3),t.qZA()()),2&i&&(t.xp6(3),t.hij(" No se puede conectar a ",o.mediaServer.FamilyName?o.mediaServer.FamilyName:o.mediaServer.DeviceName," "))}})}return r})(),Wr=(()=>{class r{constructor(e,i){this.domSanitizer=e,this.sharedService=i}transform(e,...i){return new Promise((o,d)=>{let v;switch(null!=i[0]?i[0]:""){case"GetIconURLByKey":null!=e&&""!=e&&(v=this.sharedService.configurationData.developerMode?"assets/icon/"+e:this.sharedService.urlSinovadCdn+"/assets/icon/"+e,o(v));break;case"GetAvatarImageURLByProfileId":null!=e&&""!=e&&fetch(this.sharedService.urlSinovadStreamWebApi+"/api/v1/documents/GetAvatarProfile/"+e).then(j=>j.blob()).then(j=>{v=this.domSanitizer.bypassSecurityTrustUrl(URL.createObjectURL(j)),o(v)});break;case"GetSoundUrlByKey":null!=e&&""!=e&&(v=this.sharedService.configurationData.developerMode?"assets/sound/"+e:this.sharedService.urlSinovadCdn+"/assets/sound/"+e,o(v))}})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(c.H7,16),t.Y36(fi,16))};static#t=this.\u0275pipe=t.Yjl({name:"formatDataPipe",type:r,pure:!0})}return r})();function Os(r,n){if(1&r&&(t.TgZ(0,"div",6)(1,"button",7)(2,"div",8),t._uU(3),t.qZA(),t.TgZ(4,"div",9),t._uU(5),t.qZA()()()),2&r){const e=t.oxw(3);t.xp6(3),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," ")}}function Ps(r,n){if(1&r&&(t.TgZ(0,"div",30)(1,"div",31),t._UZ(2,"div",32),t.qZA()()),2&r){const e=t.oxw().$implicit,i=t.MAs(2),o=t.oxw(5);t.xp6(1),t.Udp("width",i.clientWidth-8+"px"),t.xp6(1),t.Udp("width",o.getWidthProgressItem(e))}}function dr(r,n){if(1&r&&(t.TgZ(0,"div",33)(1,"span"),t._uU(2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.Title)}}function pn(r,n){if(1&r&&(t.TgZ(0,"div")(1,"div",34)(2,"span"),t._uU(3),t.qZA()()()),2&r){const e=t.oxw().$implicit;t.xp6(3),t.AsE("",e.Title," ",e.Subtitle,"")}}function it(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",24)(1,"button",25,26),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(5);return t.KtG(m.onClickItem(d))}),t._UZ(3,"img",27),t.YNc(4,Ps,3,4,"ng-template",0),t.qZA(),t.YNc(5,dr,3,1,"div",28),t.YNc(6,pn,4,2,"div",29),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(2).$implicit,o=t.oxw(3);t.xp6(1),t.hYB("id","item_",i.Id,"_",e.MediaItemId,""),t.xp6(2),t.Q6J("src",o.sharedService.getUrlByItemMovieDataBase(e),t.LSH),t.xp6(1),t.Q6J("ngIf",e.CurrentTime&&e.DurationTime),t.xp6(1),t.Q6J("ngIf",!e.Subtitle),t.xp6(1),t.Q6J("ngIf",e.Subtitle)}}function ht(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"section",11)(1,"div",12)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"div",13)(5,"div",14)(6,"div",15,16),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),v=t.oxw(4);return t.KtG(v.onClickButtonLeftScroll(o,d,m))}),t._UZ(8,"img",17),t.ALo(9,"async"),t.ALo(10,"formatDataPipe"),t.qZA()(),t.TgZ(11,"div",18,19)(13,"div",20,21),t.YNc(15,it,7,6,"ng-template",5),t.qZA()(),t.TgZ(16,"div",14)(17,"div",22,23),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),v=t.oxw(4);return t.KtG(v.onClickButtonRightScroll(o,d,m))}),t._UZ(19,"img",17),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()()()}if(2&r){const e=t.oxw().$implicit;t.MGl("id","section_",e.Id,""),t.xp6(3),t.Oqu(e.Name),t.xp6(5),t.Q6J("src",t.lcZ(9,5,t.xi3(10,7,"scroll-left.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngForOf",e.ListItems),t.xp6(4),t.Q6J("src",t.lcZ(20,10,t.xi3(21,12,"scroll-right.png","GetIconURLByKey")),t.LSH)}}function Je(r,n){if(1&r&&t.YNc(0,ht,22,15,"section",10),2&r){const e=n.$implicit;t.Q6J("ngIf",e.ListItems&&e.ListItems.length>0)}}function It(r,n){if(1&r&&(t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,Os,6,2,"div",3),t.TgZ(3,"div",4),t.YNc(4,Je,1,1,"ng-template",5),t.qZA()()()),2&r){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.title),t.xp6(1),t.Udp("height",e.title?"calc(100% - 65px)":"100%"),t.xp6(1),t.Q6J("ngForOf",e.itemsGroupList)}}function rn(r,n){if(1&r&&t._UZ(0,"app-server-connection-error",35),2&r){const e=t.oxw(2);t.Q6J("mediaServer",e.currentMediaServer)}}function li(r,n){1&r&&(t.TgZ(0,"div",36)(1,"div",37)(2,"div",38),t._uU(3," No hay servidores disponibles en este momento "),t.qZA(),t._UZ(4,"div",39),t.qZA()())}function Ri(r,n){if(1&r&&(t.YNc(0,It,5,4,"ng-template",0),t.YNc(1,rn,1,1,"ng-template",0),t.YNc(2,li,5,0,"ng-template",0)),2&r){const e=t.oxw();t.Q6J("ngIf",e.mediaServers&&e.isEnableAnyMediaServer()||e.currentMediaServer&&e.currentMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.currentMediaServer&&!e.currentMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.mediaServers&&!e.isEnableAnyMediaServer())}}function bo(r,n){1&r&&(t.TgZ(0,"div",40),t._UZ(1,"mat-spinner"),t.qZA())}let Eo=(()=>{class r{constructor(e,i,o,d,m,v,I){this.signalIrService=e,this.libraryService=i,this.activeRoute=o,this.router=d,this.restProvider=m,this.ref=v,this.sharedService=I,this.itemsGroupList=[],this._window=window,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1};let j=this;this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(ne=>{if(j.considerAllMediaServers()){var pe=j.mediaServers.find(ze=>ze.Guid==ne);pe&&!pe.isSecureConnection&&(j.loadingConnection=!1,pe.isSecureConnection=!0,j.getItemsByMediaServer(pe))}else j.currentMediaServer&&j.currentMediaServer.Guid==ne&&!j.currentMediaServer.isSecureConnection&&(j.loadingConnection=!1,j.currentMediaServer.isSecureConnection=!0,j.getItemsByCurrentMediaServerAndCurrentLibrary())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(ne=>{if(j.considerAllMediaServers()){var pe=j.mediaServers.find(ze=>ze.Guid==ne);pe&&pe.isSecureConnection&&(pe.isSecureConnection=!1,j.clearItemsInGroup(pe.Id))}else j.currentMediaServer&&j.currentMediaServer.Guid==ne&&j.currentMediaServer.isSecureConnection&&(j.currentMediaServer.isSecureConnection=!1,j.clearItemsInGroup(j.currentMediaServer.Id))}),this.subscriptionUpdateLibrariesByMediaServer=this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(ne=>{if(j.considerAllMediaServers()){var pe=j.mediaServers.find(ze=>ze.Guid==ne);pe&&!pe.isSecureConnection&&(pe.isSecureConnection=!0,j.getItemsByMediaServer(pe))}else j.currentMediaServer&&j.currentMediaServer.Guid==ne&&!j.currentMediaServer.isSecureConnection&&(j.currentMediaServer.isSecureConnection=!0,j.getItemsByCurrentMediaServerAndCurrentLibrary())}),this.subscriptionUpdateItemsByMediaServer=this.signalIrService.isUpdatingItemsByMediaServer().subscribe(ne=>{if(j.considerAllMediaServers()){var pe=j.mediaServers.find(ze=>ze.Guid==ne);pe&&!pe.isSecureConnection&&(pe.isSecureConnection=!0,j.getItemsByMediaServer(pe))}else j.currentMediaServer&&j.currentMediaServer.Guid==ne&&!j.currentMediaServer.isSecureConnection&&(j.currentMediaServer.isSecureConnection=!0,j.getItemsByCurrentMediaServerAndCurrentLibrary())})}ngOnInit(){if(this.considerAllMediaServers())this.mediaServers=JSON.parse(JSON.stringify(this.sharedService.mediaServers)),this.isEnableAnyMediaServer()?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3),window.location.pathname.endsWith("movies")&&(this.title="Pel\xedculas"),window.location.pathname.endsWith("tvseries")&&(this.title="Series de TV"),this.mediaServers.forEach(o=>{o.isSecureConnection&&this.getItemsByMediaServer(o)});else{var e=this.activeRoute.snapshot.params.serverGuid;if(null!=e){var i=this.sharedService.mediaServers.find(o=>o.Guid==e);i?(this.currentMediaServer=JSON.parse(JSON.stringify(i)),this.currentMediaServer.isSecureConnection?(this.loadingConnection=!1,this.getItemsByCurrentMediaServerAndCurrentLibrary()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}else this.router.navigateByUrl("/404")}}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe(),this.subscriptionUpdateLibrariesByMediaServer.unsubscribe(),this.subscriptionUpdateItemsByMediaServer.unsubscribe()}isEnableAnyMediaServer(){return this.mediaServers.filter(e=>e.isSecureConnection).length>0}considerAllMediaServers(){return!!(window.location.pathname.endsWith("home")||window.location.pathname.endsWith("movies")||window.location.pathname.endsWith("tvseries"))}getItemsByCurrentMediaServerAndCurrentLibrary(){var e=this.activeRoute.snapshot.params.libraryId;e?this.libraryService.getLibrariesByMediaServer(this.currentMediaServer.Url).then(i=>{this.currentMediaServer.ListLibraries=i;var o=this.currentMediaServer.ListLibraries.findIndex(d=>d.Id==e);-1!=o&&(this.currentLibrary=this.currentMediaServer.ListLibraries[o],this.title=this.currentLibrary.Name,this.subtitle=this.currentMediaServer.FamilyName?this.currentMediaServer.FamilyName:this.currentMediaServer.DeviceName,this.libraryService.getMediaItemsByLibrary(this.currentMediaServer.Url,this.currentLibrary.Id,this.sharedService.currentProfile.Id).then(d=>{this.setItemsInGroup(this.currentMediaServer.Id,d)},d=>{console.error(d)}))}):(this.title=this.currentMediaServer.FamilyName?this.currentMediaServer.FamilyName:this.currentMediaServer.DeviceName,this.libraryService.getAllMediaItems(this.currentMediaServer.Url,this.sharedService.currentProfile.Id).then(i=>{this.setItemsInGroup(this.currentMediaServer.Id,i)},i=>{console.error(i)}))}getItemsByMediaServer(e){window.location.pathname.endsWith("home")?this.libraryService.getAllMediaItems(e.Url,this.sharedService.currentProfile.Id).then(i=>{this.setItemsInGroup(e.Id,i)},i=>{}):window.location.pathname.endsWith("movies")?this.libraryService.getMediaItemsByMediaType(e.Url,Et.Movie,this.sharedService.currentProfile.Id).then(i=>{this.setItemsInGroup(e.Id,i)},i=>{console.error(i)}):window.location.pathname.endsWith("tvseries")&&this.libraryService.getMediaItemsByMediaType(e.Url,Et.TvSerie,this.sharedService.currentProfile.Id).then(i=>{this.setItemsInGroup(e.Id,i)},i=>{console.error(i)})}setItemsInGroup(e,i){i.length>0&&(i.forEach(o=>{var d=this.itemsGroupList.find(j=>j.Name==o.Name);if(null==d)this.itemsGroupList.push(o);else{var I=d.ListItems.filter(j=>j.MediaServerId!=e).concat(o.ListItems).sort((j,ne)=>new Date(j.Created).getTime()>new Date(ne.Created).getTime()?-1:new Date(ne.Created).getTime()>new Date(j.Created).getTime()?1:0);d.ListItems=I}}),this.itemsGroupList=this.itemsGroupList.sort((o,d)=>o.Id>d.Id?1:o.Id<=d.Id?-1:0))}clearItemsInGroup(e){this.itemsGroupList.forEach(i=>{var o=i.ListItems.filter(d=>d.MediaServerId!=e);i.ListItems=o.sort((d,m)=>new Date(d.Created).getTime()>new Date(m.Created).getTime()?-1:new Date(m.Created).getTime()>new Date(d.Created).getTime()?1:0)})}getWidthProgressItem(e){return e.CurrentTime/e.DurationTime*100+"%"}onClickButtonLeftScroll(e,i,o){e.scrollLeft=e.scrollLeft-300,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}onClickButtonRightScroll(e,i,o){e.scrollLeft=e.scrollLeft+300,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}verifyIfShoOrHiddenScrollButtons(e,i,o){i.style.display=e.scrollLeft<=0?"none":"flex",o.style.display=e.scrollWidth==e.scrollLeft+e.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(e,i,o){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(e,i,o)},250)}onClickItem(e){null!=e.CurrentTime&&e.CurrentTime>0?this.continueVideoByItem(e):this.getMediaItemDetail(e)}getMediaItemDetail(e){var i=this.sharedService.mediaServers.find(o=>o.Id==e.MediaServerId);this.router.navigateByUrl("/media/server/"+i.Guid+"/libraries/"+e.LibraryId+"/detail?mediaType="+e.MediaTypeId+"&mediaId="+e.MediaItemId)}continueVideoByItem(e){var i=this.sharedService.mediaServers.find(o=>o.Id==e.MediaServerId);this.router.navigateByUrl("/media/server/"+i.Guid+"/video/"+e.FileId)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Rr),t.Y36(xo),t.Y36(Kn.gz),t.Y36(Kn.F0),t.Y36(Oi),t.Y36(t.sBO),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-items"]],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],[1,"media-container"],["class","media-header",4,"ngIf"],[1,"sinovad-list-container","sinovad-custom-container"],["ngFor","",3,"ngForOf"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],["tabindex","0",3,"id",4,"ngIf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-title"],[1,"sinovad-list-row-container"],[2,"width","0px","height","0px"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["itemContainer",""],["referrerpolicy","no-referrer","onError","this.src='assets/img/no-image-available.jpg'",3,"src"],["class","sinovad-item-caption-container",4,"ngIf"],[4,"ngIf"],[1,"sinovad-item-progress-bar-absolute-container"],[1,"sinovad-item-progress-bar-container"],[1,"sinovad-item-progress-bar-content"],[1,"sinovad-item-caption-container"],[1,"sinovad-item-title-caption-container"],[3,"mediaServer"],[1,"server-error-page-container"],[1,"server-error-page-content"],[1,"server-error-message-title"],[1,"server-error-message-description"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.YNc(0,Ri,3,3,"ng-template",0),t.YNc(1,bo,2,0,"ng-template",0)),2&i&&(t.Q6J("ngIf",!o.loadingConnection),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.sg,g.O5,Nr.Ou,rs,g.Ov,Wr],styles:["[_nghost-%COMP%]{width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovadclient-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:9999;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovadclient-title-section[_ngcontent-%COMP%]{margin:10px 10px 10px 16px;font-size:30px;font-weight:700}.sinovadclient-section[_ngcontent-%COMP%]{margin:10px}.sinovad-item-container[_ngcontent-%COMP%]{padding-right:10px;width:min-content;margin:6px;border-radius:6px}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-vertical-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;overflow-y:auto;overflow-x:hidden}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-item-title-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-item-subtitle-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:400;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-list-container[_ngcontent-%COMP%]{padding:20px;overflow-x:hidden;overflow-y:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:220px;top:6px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;font-family:sans-serif;padding:0 0 0 8px}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:220px;top:6px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover, .sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2);opacity:.6}.sinovad-item-progress-bar-absolute-container[_ngcontent-%COMP%]{width:0px;height:0px;margin-bottom:9px}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:-9px;margin-left:4px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%]{display:none!important}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:170px;width:170px;height:220px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:20px}@media only screen and (min-width: 2048px){.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return r})();class Jo{constructor(n,e,i){this.router=n,this.activeRoute=e,this.sharedService=i}initializeHeaderData(){var n=this.activeRoute.snapshot.params.serverGuid;if(null!=n){var e=this.sharedService.mediaServers.find(d=>d.Guid==n);if(e){this.mediaServer=JSON.parse(JSON.stringify(e));var i=this.activeRoute.snapshot.params.libraryId;if(null!=e.ListLibraries&&e.ListLibraries.length>0){var o=e.ListLibraries.find(d=>d.MediaServerId==this.mediaServer.Id&&d.Id==i);null!=o?(this.library=o,this.title=o.Name,this.subtitle=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName):this.title=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName}}}}}function Jr(r,n){if(1&r&&t._UZ(0,"img",10),2&r){const e=t.oxw(3);t.Q6J("src",e.getUrlByItemDetailMovieDataBase(e.detail),t.LSH)}}function gs(r,n){if(1&r&&(t.TgZ(0,"div",11)(1,"button",12)(2,"div",13),t._uU(3),t.qZA(),t.TgZ(4,"div",14),t._uU(5),t.qZA()()()),2&r){const e=t.oxw(3);t.xp6(3),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," ")}}function Tr(r,n){if(1&r&&(t.TgZ(0,"div",18)(1,"span",23),t._uU(2,"Director: "),t.qZA(),t.TgZ(3,"span",24),t._uU(4),t.qZA()()),2&r){const e=t.oxw(5);t.xp6(4),t.Oqu(e.detail.MediaItem.Directors)}}function Mo(r,n){if(1&r&&(t.TgZ(0,"div",18)(1,"span",23),t._uU(2,"Reparto: "),t.qZA(),t.TgZ(3,"span",24),t._uU(4),t.qZA()()),2&r){const e=t.oxw(5);t.xp6(4),t.Oqu(e.detail.MediaItem.Actors)}}function qa(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div")(2,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.continueVideo())}),t._uU(3,"Continuar"),t.qZA()(),t.TgZ(4,"div",26),t._UZ(5,"div",27),t.qZA(),t.TgZ(6,"div",28),t._uU(7),t.qZA()()}if(2&r){const e=t.oxw(5);t.xp6(5),t.Udp("width",e.getWidthProgressItem(e.lastEpisodeWatched)),t.xp6(2),t.hij(" ",e.lastEpisodeWatched.Subtitle," ")}}function Aa(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.showVideo())}),t._uU(1,"Ver desde el principio"),t.qZA(),t.TgZ(2,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.continueVideo())}),t._uU(3,"Continuar viendo"),t.qZA()}}function Vs(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.showVideo())}),t._UZ(1,"i",31),t._uU(2," Ver ahora "),t.qZA()}}function _s(r,n){if(1&r&&(t.YNc(0,Aa,4,0,"ng-template",0),t.YNc(1,Vs,3,0,"ng-template",0)),2&r){const e=t.oxw(5);t.Q6J("ngIf",e.itemUserData),t.xp6(1),t.Q6J("ngIf",!e.itemUserData)}}function Ia(r,n){if(1&r&&(t.TgZ(0,"div",32),t._uU(1),t.qZA()),2&r){const e=t.oxw(5);t.xp6(1),t.hij(" ",e.detail.MediaItem.Overview," ")}}function Ja(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"img",47),t.NdJ("error",function(){t.CHM(e),t.oxw();const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),v=t.oxw(5);return t.KtG(v.onInitializeItemsRow(o,d,m))}),t.qZA()}}const Qa=function(r){return{selected:r}};function Rs(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",48)(1,"button",49),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(6);return t.KtG(m.onClickSeason(d))}),t.TgZ(2,"span"),t._uU(3),t.qZA()()()}if(2&r){const e=n.$implicit,i=t.oxw(6);t.xp6(1),t.MGl("id","section_season_",e.SeasonNumber,""),t.Q6J("ngClass",t.VKq(3,Qa,e.SeasonNumber==i.detail.CurrentSeason.SeasonNumber)),t.xp6(2),t.Oqu(e.Name)}}function Il(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"section",50)(1,"button",51),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(6);return t.KtG(m.onClickEpisode(d))}),t.TgZ(2,"div",52),t._UZ(3,"img",10),t.qZA(),t.TgZ(4,"div",53)(5,"div",54),t._uU(6),t.qZA(),t.TgZ(7,"div",55),t._uU(8),t.qZA()()()()}if(2&r){const e=n.$implicit,i=t.oxw(6);t.hYB("id","section_episode_s",e.SeasonNumber,"_e",e.EpisodeNumber,""),t.xp6(1),t.hYB("id","button_episode_s",e.SeasonNumber,"_e",e.EpisodeNumber,""),t.xp6(2),t.Q6J("src",i.getEpisodeImagePath(e),t.LSH),t.xp6(3),t.AsE(" ",e.EpisodeNumber,". ",e.Name," "),t.xp6(2),t.hij(" ",e.Overview," ")}}function Xa(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",33)(1,"div"),t._uU(2," EPISODIOS "),t.qZA(),t.TgZ(3,"div",34),t.YNc(4,Ja,1,0,"img",35),t.TgZ(5,"div",3)(6,"div",36,37),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),v=t.oxw(5);return t.KtG(v.onClickButtonLeftScroll(o,d,m))}),t._UZ(8,"img",38),t.ALo(9,"async"),t.ALo(10,"formatDataPipe"),t.qZA()(),t.TgZ(11,"div",39,40)(13,"section",41,42),t.YNc(15,Rs,4,5,"ng-template",43),t.qZA()(),t.TgZ(16,"div",3)(17,"div",44,45),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),v=t.oxw(5);return t.KtG(v.onClickButtonRightScroll(o,d,m))}),t._UZ(19,"img",38),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()(),t.TgZ(22,"div",46),t.YNc(23,Il,9,8,"ng-template",43),t.qZA()()}if(2&r){const e=t.oxw(5);t.xp6(4),t.Q6J("ngIf",!e.startResize),t.xp6(4),t.Q6J("src",t.lcZ(9,5,t.xi3(10,7,"left.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngForOf",e.detail.ListSeasons),t.xp6(4),t.Q6J("src",t.lcZ(20,10,t.xi3(21,12,"right.png","GetIconURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngForOf",e.detail.CurrentSeason.ListEpisodes)}}function oo(r,n){if(1&r&&(t.TgZ(0,"div",16)(1,"div",17),t._uU(2),t.qZA(),t.TgZ(3,"div",18),t._uU(4),t.qZA(),t.YNc(5,Tr,5,1,"div",19),t.YNc(6,Mo,5,1,"div",19),t.TgZ(7,"section",20),t.YNc(8,qa,8,3,"ng-template",0),t.YNc(9,_s,2,2,"ng-template",0),t.qZA(),t.YNc(10,Ia,2,1,"div",21),t.YNc(11,Xa,24,15,"div",22),t.qZA()),2&r){const e=t.oxw(4);t.xp6(2),t.hij(" ",e.detail.MediaItem.Title," "),t.xp6(2),t.hij(" ",e.detail.MediaItem.Genres," "),t.xp6(1),t.Q6J("ngIf",e.detail.MediaItem.Directors),t.xp6(1),t.Q6J("ngIf",e.detail.MediaItem.Actors),t.xp6(2),t.Q6J("ngIf",e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",!e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",!e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",e.detail.ListSeasons&&e.detail.ListSeasons.length>0)}}function wl(r,n){if(1&r&&(t.TgZ(0,"div",15),t.YNc(1,oo,12,8,"ng-template",0),t.qZA()),2&r){const e=t.oxw(3);t.Udp("height",e.title?"calc(100% - 65px)":"100%"),t.xp6(1),t.Q6J("ngIf",e.detail)}}function el(r,n){if(1&r&&(t.TgZ(0,"div",1,2)(2,"div",3)(3,"div",4)(4,"div",5),t.YNc(5,Jr,1,1,"img",6),t.qZA()()(),t.TgZ(6,"div",7),t.YNc(7,gs,6,2,"div",8),t.YNc(8,wl,2,3,"div",9),t.qZA()()),2&r){const e=t.MAs(1),i=t.oxw(2);t.xp6(4),t.Udp("width",e.clientWidth+"px"),t.xp6(1),t.Q6J("ngIf",i.detail),t.xp6(2),t.Q6J("ngIf",i.title),t.xp6(1),t.Q6J("ngIf",i.detail)}}function Ic(r,n){if(1&r&&t._UZ(0,"app-server-connection-error",56),2&r){const e=t.oxw(2);t.Q6J("mediaServer",e.mediaServer)}}function Ta(r,n){if(1&r&&(t.YNc(0,el,9,5,"ng-template",0),t.YNc(1,Ic,1,1,"ng-template",0)),2&r){const e=t.oxw();t.Q6J("ngIf",e.mediaServer&&e.mediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.mediaServer&&!e.mediaServer.isSecureConnection)}}function ec(r,n){1&r&&(t.TgZ(0,"div",57),t._UZ(1,"mat-spinner"),t.qZA())}let ra=(()=>{class r extends Jo{constructor(e,i,o,d,m,v){super(d,o,v),this.signalIrService=e,this.libraryService=i,this.activeRoute=o,this.router=d,this.ref=m,this.sharedService=v,this._window=window,this.startResize=!1,this.loadingConnection=!0,this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(I=>{this.mediaServer&&this.mediaServer.Guid==I&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0,this.getMediaItemDetail())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(I=>{this.mediaServer&&this.mediaServer.Guid==I&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){this.initializeHeaderData(),this.mediaServer?this.mediaServer.isSecureConnection?(this.loadingConnection=!1,this.getMediaItemDetail()):setTimeout(()=>{this.loadingConnection=!1},3e3):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getMediaItemDetail(){let e=this.activeRoute.snapshot.queryParams.mediaId;e?this.libraryService.getMediaItemDetail(this.mediaServer.Url,e).then(i=>{this.detail=i,this.detail.CurrentSeason=this.detail.ListSeasons[0]},i=>{this.router.navigate(["404"],{skipLocationChange:!1})}):this.router.navigate(["404"],{skipLocationChange:!1})}getEpisodeImagePath(e){return this.detail.MediaItem.MetadataAgentsId==qt.TMDb&&e.PosterPath?this.sharedService.urlEpisodeDataBase+e.PosterPath:e.ListMediaFiles&&e.ListMediaFiles.length>0?this.mediaServer.Url+"/media/"+e.ListMediaFiles[0].Guid+"/thumbnail.png":"assets/img/no-image-available.jpg"}getUrlByItemDetailMovieDataBase(e){return e.MediaItem.MetadataAgentsId==qt.TMDb?this.sharedService.originalUrlImagesMovieDataBase+e.MediaItem.PosterPath:e.MediaItem.PosterPath?e.MediaItem.PosterPath:e.ListMediaFiles&&e.ListMediaFiles.length>0?this.mediaServer.Url+"/media/"+e.ListMediaFiles[0].Guid+"/thumbnail.png":"assets/img/no-image-available.jpg"}verifyIfShoOrHiddenScrollButtons(e,i,o){i.style.display=e.scrollLeft<=0?"none":"flex",o.style.display=e.scrollWidth==e.scrollLeft+e.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(e,i,o){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(e,i,o)},250)}onClickButtonLeftScroll(e,i,o){e.scrollLeft=e.scrollLeft-20,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}onClickButtonRightScroll(e,i,o){e.scrollLeft=e.scrollLeft+20,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}getWidthProgressItem(e){return e.CurrentTime/e.DurationTime*100+"%"}continueVideo(){}showVideo(){if(this.detail.MediaItem.MediaTypeId==Et.Movie)this.getVideosByItem();else if(this.detail.ListSeasons&&this.detail.ListSeasons.length>0){let e=this.detail.ListSeasons[0];e.ListEpisodes&&e.ListEpisodes.length>0&&this.getVideoByEpisode(e.ListEpisodes[0])}}getVideosByItem(){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+this.detail.ListMediaFiles[0].Id)}onClickSeason(e){this.detail.CurrentSeason=e}onClickEpisode(e){this.getVideoByEpisode(e)}getVideoByEpisode(e){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+e.ListMediaFiles[0].Id)}onResize(e){setTimeout(()=>{this.startResize=!0,this.ref.detectChanges(),this.startResize=!1,this.ref.detectChanges()},100)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Rr),t.Y36(xo),t.Y36(Kn.gz),t.Y36(Kn.F0),t.Y36(t.sBO),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-detail"]],hostBindings:function(i,o){1&i&&t.NdJ("resize",function(m){return o.onResize(m)},!1,t.Jf7)},features:[t.qOj],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],["container",""],[2,"width","0px","height","0px"],[1,"sinovad-item-view-background-container"],[2,"position","fixed"],["onError","this.src='assets/img/no-image-available.jpg'",3,"src",4,"ngIf"],[1,"media-container"],["class","media-header",4,"ngIf"],["class","sinovad-item-view-container sinovad-custom-container",3,"height",4,"ngIf"],["onError","this.src='assets/img/no-image-available.jpg'",3,"src"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],[1,"sinovad-item-view-container","sinovad-custom-container"],[1,"sinovad-item-view-principal-section"],[1,"sinovad-item-view-title-container"],[1,"sinovad-item-view-subtitle-container"],["class","sinovad-item-view-subtitle-container",4,"ngIf"],["id","section_principal_buttons",1,"sinovad-item-view-principal-button-container","sinovad-section"],["class","sinovad-item-view-summary-container",4,"ngIf"],["class","sinovad-item-view-seasons-container",4,"ngIf"],[2,"font-weight","bold"],[2,"font-weight","normal"],["id","continue_play",1,"",3,"click"],[1,"sinovad-item-progress-bar-container",2,"width","300px"],[1,"sinovad-item-progress-bar-content"],[2,"margin-top","5px"],["id","restart_play",1,"",3,"click"],["id","play_now",1,"",3,"click"],[1,"fa-solid","fa-play","me-1"],[1,"sinovad-item-view-summary-container"],[1,"sinovad-item-view-seasons-container"],[1,"sinovad-list-row-container"],["style","display:none;","src","",3,"error",4,"ngIf"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],[1,"sinovad-list-row","sinovad-section"],["itemsRowContainer",""],["id","section_seasons",1,"sinovad-list-content"],["content",""],["ngFor","",3,"ngForOf"],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-view-episodes-container"],["src","",2,"display","none",3,"error"],[1,"sinovad-season-container"],[1,"sinovad-season-button",3,"id","ngClass","click"],[1,"sinovad-section",3,"id"],[1,"sinovad-episode-button",3,"id","click"],[1,"sinovad-episode-image-section"],[1,"sinovad-episode-detail-section"],[1,"sinovad-episode-title-section"],[1,"sinovad-overview-section"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.YNc(0,Ta,2,2,"ng-template",0),t.YNc(1,ec,2,0,"ng-template",0)),2&i&&(t.Q6J("ngIf",!o.loadingConnection),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.mk,g.sg,g.O5,Nr.Ou,rs,g.Ov,Wr],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-episode-button[_ngcontent-%COMP%]{width:100%;cursor:pointer;display:flex;border-radius:5px;margin-bottom:15px;padding:0;border:none;background:transparent}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;font-weight:400;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:10}.sinovad-episode-title-section[_ngcontent-%COMP%]{margin-bottom:10px;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:1}.sinovad-episode-image-section[_ngcontent-%COMP%]{display:block}.sinovad-episode-detail-section[_ngcontent-%COMP%]{display:block;background-color:transparent;color:#fff;padding:20px;text-align:left;width:100%}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:10px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-item-view-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;outline:none}.sinovad-item-view-title-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:50px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-background-container[_ngcontent-%COMP%]{position:relative}.sinovad-item-view-background-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;width:100%;opacity:.5}.sinovad-item-view-seasons-container[_ngcontent-%COMP%]{position:relative;width:100%;font-size:20px;color:#fff;padding-right:20px;padding-left:20px;padding-top:20px;font-weight:700}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:82px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.4;max-width:unset;height:110px;display:none}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:82px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:110px;display:none;opacity:.4}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;width:100%}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-season-container[_ngcontent-%COMP%]{padding-right:10px}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;text-align:center;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:10px 10px 4px;background:transparent;border:none}.sinovad-season-button[_ngcontent-%COMP%]:hover{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus-visible{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus{border-bottom:4px solid #007bff!important}.sinovad-season-button.selected[_ngcontent-%COMP%]{border-bottom:4px solid #007bff}button[_ngcontent-%COMP%]{font-size:25px}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{display:none!important}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border:4px solid transparent}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:15px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:13px;-webkit-line-clamp:7}.sinovad-season-button[_ngcontent-%COMP%]{font-size:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px;border:none;background:white;color:#000;font-weight:700;padding:8px 20px;border-radius:5px;margin-right:10px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:#007bff;color:#fff}.sinovad-item-view-summary-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;color:#fff;padding:20px;font-size:16px}@media only screen and (min-width: 2048px){.sinovad-item-view-summary-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:50px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:25px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;-webkit-line-clamp:10}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px}}@media only screen and (max-width: 767px){.sinovad-episode-button[_ngcontent-%COMP%]{display:block;text-align:left;margin-bottom:20px}.sinovad-episode-detail-section[_ngcontent-%COMP%]{padding:0 8px}.sinovad-episode-image-section[_ngcontent-%COMP%]{margin-bottom:10px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset;width:100%;max-height:410px;object-fit:cover;object-position:top}.sinovad-episode-title-section[_ngcontent-%COMP%]{-webkit-line-clamp:2}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media only screen and (max-width: 575px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:320px}}@media only screen and (max-width: 475px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:260px}}@media only screen and (max-width: 375px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px}}"]})}return r})();var vs=S(5094),Gs=S(4440),Ns=S.n(Gs),oa=S(4753);function Ol(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var i,o,d,m,v,wa={exports:{}};i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,o=/^(?=([^\/?#]*))\1([^]*)$/,d=/(?:\/|^)\.(?=\/)/g,m=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,wa.exports=v={buildAbsoluteURL:function(I,j,ne){if(ne=ne||{},I=I.trim(),!(j=j.trim())){if(!ne.alwaysNormalize)return I;var pe=v.parseURL(I);if(!pe)throw new Error("Error trying to parse base URL.");return pe.path=v.normalizePath(pe.path),v.buildURLFromParts(pe)}var ze=v.parseURL(j);if(!ze)throw new Error("Error trying to parse relative URL.");if(ze.scheme)return ne.alwaysNormalize?(ze.path=v.normalizePath(ze.path),v.buildURLFromParts(ze)):j;var tt=v.parseURL(I);if(!tt)throw new Error("Error trying to parse base URL.");if(!tt.netLoc&&tt.path&&"/"!==tt.path[0]){var mt=o.exec(tt.path);tt.netLoc=mt[1],tt.path=mt[2]}tt.netLoc&&!tt.path&&(tt.path="/");var Ct={scheme:tt.scheme,netLoc:ze.netLoc,path:null,params:ze.params,query:ze.query,fragment:ze.fragment};if(!ze.netLoc&&(Ct.netLoc=tt.netLoc,"/"!==ze.path[0]))if(ze.path){var Ot=tt.path,Yt=Ot.substring(0,Ot.lastIndexOf("/")+1)+ze.path;Ct.path=v.normalizePath(Yt)}else Ct.path=tt.path,ze.params||(Ct.params=tt.params,ze.query||(Ct.query=tt.query));return null===Ct.path&&(Ct.path=ne.alwaysNormalize?v.normalizePath(ze.path):ze.path),v.buildURLFromParts(Ct)},parseURL:function(I){var j=i.exec(I);return j?{scheme:j[1]||"",netLoc:j[2]||"",path:j[3]||"",params:j[4]||"",query:j[5]||"",fragment:j[6]||""}:null},normalizePath:function(I){for(I=I.split("").reverse().join("").replace(d,"");I.length!==(I=I.replace(m,"")).length;);return I.split("").reverse().join("")},buildURLFromParts:function(I){return I.scheme+I.netLoc+I.path+I.params+I.query+I.fragment}};var Oa=wa.exports;function Pa(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,i)}return e}function mo(r){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Pa(Object(e),!0).forEach(function(i){Qo(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Pa(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function Qo(r,n,e){return n=function Sr(r){var n=function Ls(r,n){if("object"!=typeof r||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var i=e.call(r,n||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(r)}(r,"string");return"symbol"==typeof n?n:String(n)}(n),n in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r}function zr(){return zr=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},zr.apply(this,arguments)}const _i=Number.isFinite||function(r){return"number"==typeof r&&isFinite(r)};let z=function(r){return r.MEDIA_ATTACHING="hlsMediaAttaching",r.MEDIA_ATTACHED="hlsMediaAttached",r.MEDIA_DETACHING="hlsMediaDetaching",r.MEDIA_DETACHED="hlsMediaDetached",r.BUFFER_RESET="hlsBufferReset",r.BUFFER_CODECS="hlsBufferCodecs",r.BUFFER_CREATED="hlsBufferCreated",r.BUFFER_APPENDING="hlsBufferAppending",r.BUFFER_APPENDED="hlsBufferAppended",r.BUFFER_EOS="hlsBufferEos",r.BUFFER_FLUSHING="hlsBufferFlushing",r.BUFFER_FLUSHED="hlsBufferFlushed",r.MANIFEST_LOADING="hlsManifestLoading",r.MANIFEST_LOADED="hlsManifestLoaded",r.MANIFEST_PARSED="hlsManifestParsed",r.LEVEL_SWITCHING="hlsLevelSwitching",r.LEVEL_SWITCHED="hlsLevelSwitched",r.LEVEL_LOADING="hlsLevelLoading",r.LEVEL_LOADED="hlsLevelLoaded",r.LEVEL_UPDATED="hlsLevelUpdated",r.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",r.LEVELS_UPDATED="hlsLevelsUpdated",r.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",r.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",r.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",r.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",r.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",r.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",r.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",r.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",r.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",r.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",r.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",r.CUES_PARSED="hlsCuesParsed",r.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",r.INIT_PTS_FOUND="hlsInitPtsFound",r.FRAG_LOADING="hlsFragLoading",r.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",r.FRAG_LOADED="hlsFragLoaded",r.FRAG_DECRYPTED="hlsFragDecrypted",r.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",r.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",r.FRAG_PARSING_METADATA="hlsFragParsingMetadata",r.FRAG_PARSED="hlsFragParsed",r.FRAG_BUFFERED="hlsFragBuffered",r.FRAG_CHANGED="hlsFragChanged",r.FPS_DROP="hlsFpsDrop",r.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",r.ERROR="hlsError",r.DESTROYING="hlsDestroying",r.KEY_LOADING="hlsKeyLoading",r.KEY_LOADED="hlsKeyLoaded",r.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",r.BACK_BUFFER_REACHED="hlsBackBufferReached",r}({}),Tt=function(r){return r.NETWORK_ERROR="networkError",r.MEDIA_ERROR="mediaError",r.KEY_SYSTEM_ERROR="keySystemError",r.MUX_ERROR="muxError",r.OTHER_ERROR="otherError",r}({}),je=function(r){return r.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",r.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",r.KEY_SYSTEM_NO_SESSION="keySystemNoSession",r.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",r.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",r.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",r.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",r.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",r.MANIFEST_LOAD_ERROR="manifestLoadError",r.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",r.MANIFEST_PARSING_ERROR="manifestParsingError",r.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",r.LEVEL_EMPTY_ERROR="levelEmptyError",r.LEVEL_LOAD_ERROR="levelLoadError",r.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",r.LEVEL_PARSING_ERROR="levelParsingError",r.LEVEL_SWITCH_ERROR="levelSwitchError",r.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",r.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",r.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",r.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",r.FRAG_LOAD_ERROR="fragLoadError",r.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",r.FRAG_DECRYPT_ERROR="fragDecryptError",r.FRAG_PARSING_ERROR="fragParsingError",r.FRAG_GAP="fragGap",r.REMUX_ALLOC_ERROR="remuxAllocError",r.KEY_LOAD_ERROR="keyLoadError",r.KEY_LOAD_TIMEOUT="keyLoadTimeOut",r.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",r.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",r.BUFFER_APPEND_ERROR="bufferAppendError",r.BUFFER_APPENDING_ERROR="bufferAppendingError",r.BUFFER_STALLED_ERROR="bufferStalledError",r.BUFFER_FULL_ERROR="bufferFullError",r.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",r.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",r.INTERNAL_EXCEPTION="internalException",r.INTERNAL_ABORTED="aborted",r.UNKNOWN="unknown",r}({});const Dt=function(){},Jt={trace:Dt,debug:Dt,log:Dt,warn:Dt,info:Dt,error:Dt};let In=Jt;const hn=In,rr=/^(\d+)x(\d+)$/,$i=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Fi{constructor(n){"string"==typeof n&&(n=Fi.parseAttrList(n));for(const e in n)n.hasOwnProperty(e)&&("X-"===e.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(e)),this[e]=n[e])}decimalInteger(n){const e=parseInt(this[n],10);return e>Number.MAX_SAFE_INTEGER?1/0:e}hexadecimalInteger(n){if(this[n]){let e=(this[n]||"0x").slice(2);e=(1&e.length?"0":"")+e;const i=new Uint8Array(e.length/2);for(let o=0;o<e.length/2;o++)i[o]=parseInt(e.slice(2*o,2*o+2),16);return i}return null}hexadecimalIntegerAsNumber(n){const e=parseInt(this[n],16);return e>Number.MAX_SAFE_INTEGER?1/0:e}decimalFloatingPoint(n){return parseFloat(this[n])}optionalFloat(n,e){const i=this[n];return i?parseFloat(i):e}enumeratedString(n){return this[n]}bool(n){return"YES"===this[n]}decimalResolution(n){const e=rr.exec(this[n]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}}static parseAttrList(n){let e;const i={};for($i.lastIndex=0;null!==(e=$i.exec(n));){let d=e[2];0===d.indexOf('"')&&d.lastIndexOf('"')===d.length-1&&(d=d.slice(1,-1)),i[e[1].trim()]=d}return i}}function Mr(r){return"SCTE35-OUT"===r||"SCTE35-IN"===r}class Xo{constructor(n,e){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,e){const i=e.attr;for(const o in i)if(Object.prototype.hasOwnProperty.call(n,o)&&n[o]!==i[o]){hn.warn(`DATERANGE tag attribute: "${o}" does not match for tags with ID: "${n.ID}"`),this._badValueForSameId=o;break}n=zr(new Fi({}),i,n)}if(this.attr=n,this._startDate=new Date(n["START-DATE"]),"END-DATE"in this.attr){const i=new Date(this.attr["END-DATE"]);_i(i.getTime())&&(this._endDate=i)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const n=this.duration;return null!==n?new Date(this._startDate.getTime()+1e3*n):null}get duration(){if("DURATION"in this.attr){const n=this.attr.decimalFloatingPoint("DURATION");if(_i(n))return n}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&_i(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class bi{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}class Oo{constructor(n){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={audio:null,video:null,audiovideo:null},this.baseurl=n}setByteRange(n,e){const i=n.split("@",2),o=[];o[0]=1===i.length?e?e.byteRangeEndOffset:0:parseInt(i[1]),o[1]=parseInt(i[0])+o[0],this._byteRange=o}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Oa.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(n){this._url=n}}class Qr extends Oo{constructor(n,e){super(e),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new bi,this.urlId=0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.type=n}get decryptdata(){const{levelkeys:n}=this;if(!n&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const e=this.levelkeys.identity;if(e)this._decryptdata=e.getDecryptData(this.sn);else{const i=Object.keys(this.levelkeys);if(1===i.length)return this._decryptdata=this.levelkeys[i[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime||!_i(this.programDateTime))return null;const n=_i(this.duration)?this.duration:0;return this.programDateTime+1e3*n}get encrypted(){var n;if(null!=(n=this._decryptdata)&&n.encrypted)return!0;if(this.levelkeys){const e=Object.keys(this.levelkeys),i=e.length;if(i>1||1===i&&this.levelkeys[e[0]].encrypted)return!0}return!1}setKeyFormat(n){if(this.levelkeys){const e=this.levelkeys[n];e&&!this._decryptdata&&(this._decryptdata=e.getDecryptData(this.sn))}}abortRequests(){var n,e;null==(n=this.loader)||n.abort(),null==(e=this.keyLoader)||e.abort()}setElementaryStreamInfo(n,e,i,o,d,m=!1){const{elementaryStreams:v}=this,I=v[n];I?(I.startPTS=Math.min(I.startPTS,e),I.endPTS=Math.max(I.endPTS,i),I.startDTS=Math.min(I.startDTS,o),I.endDTS=Math.max(I.endDTS,d)):v[n]={startPTS:e,endPTS:i,startDTS:o,endDTS:d,partial:m}}clearElementaryStreamInfo(){const{elementaryStreams:n}=this;n.audio=null,n.video=null,n.audiovideo=null}}class ys extends Oo{constructor(n,e,i,o,d){super(i),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new bi,this.duration=n.decimalFloatingPoint("DURATION"),this.gap=n.bool("GAP"),this.independent=n.bool("INDEPENDENT"),this.relurl=n.enumeratedString("URI"),this.fragment=e,this.index=o;const m=n.enumeratedString("BYTERANGE");m&&this.setByteRange(m,d),d&&(this.fragOffset=d.fragOffset+d.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:n}=this;return!!(n.audio||n.video||n.audiovideo)}}class Pl{constructor(n){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=n}reloaded(n){if(!n)return this.advanced=!0,void(this.updated=!0);const e=this.lastPartSn-n.lastPartSn,i=this.lastPartIndex-n.lastPartIndex;this.updated=this.endSN!==n.endSN||!!i||!!e,this.advanced=this.endSN>n.endSN||e>0||0===e&&i>0,this.misses=this.updated||this.advanced?Math.floor(.6*n.misses):n.misses+1,this.availabilityDelay=n.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&_i(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const n=this.driftEndTime-this.driftStartTime;return n>0?1e3*(this.driftEnd-this.driftStart)/n:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var n;return null!=(n=this.partList)&&n.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var n;return null!=(n=this.fragments)&&n.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var n;return null!=(n=this.partList)&&n.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var n;return null!=(n=this.partList)&&n.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function os(r){return Uint8Array.from(atob(r),n=>n.charCodeAt(0))}function wc(r){return Uint8Array.from(unescape(encodeURIComponent(r)),n=>n.charCodeAt(0))}var jr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Gn_FAIRPLAY="com.apple.streamingkeydelivery",Gn_PLAYREADY="com.microsoft.playready",Gn_WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function sr(r){switch(r){case Gn_FAIRPLAY:return jr.FAIRPLAY;case Gn_PLAYREADY:return jr.PLAYREADY;case Gn_WIDEVINE:return jr.WIDEVINE;case"org.w3.clearkey":return jr.CLEARKEY}}function so(r){switch(r){case jr.FAIRPLAY:return Gn_FAIRPLAY;case jr.PLAYREADY:return Gn_PLAYREADY;case jr.WIDEVINE:return Gn_WIDEVINE;case jr.CLEARKEY:return"org.w3.clearkey"}}function Oc(r){const{drmSystems:n,widevineLicenseUrl:e}=r,i=n?[jr.FAIRPLAY,jr.WIDEVINE,jr.PLAYREADY,jr.CLEARKEY].filter(o=>!!n[o]):[];return!i[jr.WIDEVINE]&&e&&i.push(jr.WIDEVINE),i}const Nl=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function Or(r,n,e){return Uint8Array.prototype.slice?r.slice(n,e):new Uint8Array(Array.prototype.slice.call(r,n,e))}const sa=(r,n)=>n+10<=r.length&&73===r[n]&&68===r[n+1]&&51===r[n+2]&&r[n+3]<255&&r[n+4]<255&&r[n+6]<128&&r[n+7]<128&&r[n+8]<128&&r[n+9]<128,ic=(r,n)=>n+10<=r.length&&51===r[n]&&68===r[n+1]&&73===r[n+2]&&r[n+3]<255&&r[n+4]<255&&r[n+6]<128&&r[n+7]<128&&r[n+8]<128&&r[n+9]<128,nl=(r,n)=>{const e=n;let i=0;for(;sa(r,n);)i+=10,i+=co(r,n+6),ic(r,n+10)&&(i+=10),n+=i;if(i>0)return r.subarray(e,e+i)},co=(r,n)=>{let e=0;return e=(127&r[n])<<21,e|=(127&r[n+1])<<14,e|=(127&r[n+2])<<7,e|=127&r[n+3],e},ks=(r,n)=>sa(r,n)&&co(r,n+6)+10<=r.length-n,Gr=r=>r&&"PRIV"===r.key&&"com.apple.streaming.transportStreamTimestamp"===r.info,aa=r=>{const n=String.fromCharCode(r[0],r[1],r[2],r[3]),e=co(r,4);return{type:n,size:e,data:r.subarray(10,10+e)}},po=r=>{let n=0;const e=[];for(;sa(r,n);){const i=co(r,n+6);n+=10;const o=n+i;for(;n+8<o;){const d=aa(r.subarray(n)),m=rc(d);m&&e.push(m),n+=d.size+10}ic(r,n)&&(n+=10)}return e},rc=r=>"PRIV"===r.type?il(r):"W"===r.type[0]?oc(r):rl(r),il=r=>{if(r.size<2)return;const n=ss(r.data,!0),e=new Uint8Array(r.data.subarray(n.length+1));return{key:r.type,info:n,data:e.buffer}},rl=r=>{if(r.size<2)return;if("TXXX"===r.type){let e=1;const i=ss(r.data.subarray(e),!0);e+=i.length+1;const o=ss(r.data.subarray(e));return{key:r.type,info:i,data:o}}const n=ss(r.data.subarray(1));return{key:r.type,data:n}},oc=r=>{if("WXXX"===r.type){if(r.size<2)return;let e=1;const i=ss(r.data.subarray(e),!0);e+=i.length+1;const o=ss(r.data.subarray(e));return{key:r.type,info:i,data:o}}const n=ss(r.data);return{key:r.type,data:n}},ol=r=>{if(8===r.data.byteLength){const n=new Uint8Array(r.data);let i=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7];return i/=45,1&n[3]&&(i+=47721858.84),Math.round(i)}},ss=(r,n=!1)=>{const e=function rd(){return!Hs&&typeof self.TextDecoder<"u"&&(Hs=new self.TextDecoder("utf-8")),Hs}();if(e){const j=e.decode(r);if(n){const ne=j.indexOf("\0");return-1!==ne?j.substring(0,ne):j}return j.replace(/\0/g,"")}const i=r.length;let o,d,m,v="",I=0;for(;I<i;){if(o=r[I++],0===o&&n)return v;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:v+=String.fromCharCode(o);break;case 12:case 13:d=r[I++],v+=String.fromCharCode((31&o)<<6|63&d);break;case 14:d=r[I++],m=r[I++],v+=String.fromCharCode((15&o)<<12|(63&d)<<6|(63&m)<<0)}}return v};let Hs;const Ro_hexDump=function(r){let n="";for(let e=0;e<r.length;e++){let i=r[e].toString(16);i.length<2&&(i="0"+i),n+=i}return n},Sa=Math.pow(2,32)-1,Pc=[].push,kl={video:1,audio:2,id3:3,text:4};function To(r){return String.fromCharCode.apply(null,r)}function sc(r,n){const e=r[n]<<8|r[n+1];return e<0?65536+e:e}function Bi(r,n){const e=Rc(r,n);return e<0?4294967296+e:e}function Rc(r,n){return r[n]<<24|r[n+1]<<16|r[n+2]<<8|r[n+3]}function Nc(r,n,e){r[n]=e>>24,r[n+1]=e>>16&255,r[n+2]=e>>8&255,r[n+3]=255&e}function Vi(r,n){const e=[];if(!n.length)return e;const i=r.byteLength;for(let o=0;o<i;){const d=Bi(r,o),v=d>1?o+d:i;if(To(r.subarray(o+4,o+8))===n[0])if(1===n.length)e.push(r.subarray(o+8,v));else{const I=Vi(r.subarray(o+8,v),n.slice(1));I.length&&Pc.apply(e,I)}o=v}return e}function la(r){const n=[],e=r[0];let i=8;const o=Bi(r,i);i+=4,i+=0===e?8:16,i+=2;let v=r.length+0;const I=sc(r,i);i+=2;for(let j=0;j<I;j++){let ne=i;const pe=Bi(r,ne);ne+=4;const ze=2147483647&pe;if((2147483648&pe)>>>31==1)return hn.warn("SIDX has hierarchical references (not supported)"),null;const mt=Bi(r,ne);ne+=4,n.push({referenceSize:ze,subsegmentDuration:mt,info:{duration:mt/o,start:v,end:v+ze-1}}),v+=ze,ne+=4,i=ne}return{earliestPresentationTime:0,timescale:o,version:e,referencesCount:I,references:n}}function Ee(r){const n=[],e=Vi(r,["moov","trak"]);for(let o=0;o<e.length;o++){const d=e[o],m=Vi(d,["tkhd"])[0];if(m){let v=m[0],I=0===v?12:20;const j=Bi(m,I),ne=Vi(d,["mdia","mdhd"])[0];if(ne){v=ne[0],I=0===v?12:20;const pe=Bi(ne,I),ze=Vi(d,["mdia","hdlr"])[0];if(ze){const mt={soun:"audio",vide:"video"}[To(ze.subarray(8,12))];if(mt){const Ct=Vi(d,["mdia","minf","stbl","stsd"])[0];let Ot;Ct&&(Ot=To(Ct.subarray(12,16))),n[j]={timescale:pe,type:mt},n[mt]={timescale:pe,id:j,codec:Ot}}}}}}return Vi(r,["moov","mvex","trex"]).forEach(o=>{const d=Bi(o,4),m=n[d];m&&(m.default={duration:Bi(o,12),flags:Bi(o,20)})}),n}function de(r){const n=Vi(r,["schm"])[0];if(n){const e=To(n.subarray(4,8));if("cbcs"===e||"cenc"===e)return Vi(r,["schi","tenc"])[0]}return hn.error("[eme] missing 'schm' box"),null}function Ut(r){const n=Bi(r,0);let e=8;1&n&&(e+=4),4&n&&(e+=4);let i=0;const o=Bi(r,4);for(let d=0;d<o;d++)256&n&&(i+=Bi(r,e),e+=4),512&n&&(e+=4),1024&n&&(e+=4),2048&n&&(e+=4);return i}function zn(r,n){const e=new Uint8Array(r.length+n.length);return e.set(r),e.set(n,r.length),e}function Ei(r,n){const e=[],i=n.samples,o=n.timescale,d=n.id;let m=!1;return Vi(i,["moof"]).map(I=>{const j=I.byteOffset-8;Vi(I,["traf"]).map(pe=>{const ze=Vi(pe,["tfdt"]).map(tt=>{const mt=tt[0];let Ct=Bi(tt,4);return 1===mt&&(Ct*=Math.pow(2,32),Ct+=Bi(tt,8)),Ct/o})[0];return void 0!==ze&&(r=ze),Vi(pe,["tfhd"]).map(tt=>{const mt=Bi(tt,4),Ct=16777215&Bi(tt,0);let sn=0;const En=0!=(16&Ct);let Dn=0;const Vn=0!=(32&Ct);let Rn=8;mt===d&&(0!=(1&Ct)&&(Rn+=8),0!=(2&Ct)&&(Rn+=4),0!=(8&Ct)&&(sn=Bi(tt,Rn),Rn+=4),En&&(Dn=Bi(tt,Rn),Rn+=4),Vn&&(Rn+=4),"video"===n.type&&(m=function Ti(r){if(!r)return!1;const n=r.indexOf("."),e=n<0?r:r.substring(0,n);return"hvc1"===e||"hev1"===e||"dvh1"===e||"dvhe"===e}(n.codec)),Vi(pe,["trun"]).map(qn=>{const ni=qn[0],kn=16777215&Bi(qn,0),yi=0!=(1&kn);let mi=0;const Yi=0!=(4&kn),yo=0!=(256&kn);let Fr=0;const ri=0!=(512&kn);let ui=0;const Qn=0!=(1024&kn),ai=0!=(2048&kn);let Wi=0;const Er=Bi(qn,4);let qi=8;yi&&(mi=Bi(qn,qi),qi+=4),Yi&&(qi+=4);let Vr=mi+j;for(let ar=0;ar<Er;ar++){if(yo?(Fr=Bi(qn,qi),qi+=4):Fr=sn,ri?(ui=Bi(qn,qi),qi+=4):ui=Dn,Qn&&(qi+=4),ai&&(Wi=0===ni?Bi(qn,qi):Rc(qn,qi),qi+=4),"video"===n.type){let Bo=0;for(;Bo<ui;){const us=Bi(i,Vr);Vr+=4,ur(m,i[Vr])&&So(i.subarray(Vr,Vr+us),m?2:1,r+Wi/o,e),Vr+=us,Bo+=us+4}}r+=Fr/o}}))})})}),e}function ur(r,n){if(r){const e=n>>1&63;return 39===e||40===e}return 6==(31&n)}function So(r,n,e,i){const o=ca(r);let d=0;d+=n;let m=0,v=0,I=!1,j=0;for(;d<o.length;){m=0;do{if(d>=o.length)break;j=o[d++],m+=j}while(255===j);v=0;do{if(d>=o.length)break;j=o[d++],v+=j}while(255===j);const ne=o.length-d;if(!I&&4===m&&d<o.length){if(I=!0,181===o[d++]){const ze=sc(o,d);if(d+=2,49===ze){const tt=Bi(o,d);if(d+=4,1195456820===tt){const mt=o[d++];if(3===mt){const Ct=o[d++],Yt=64&Ct,fn=Yt?2+3*(31&Ct):0,sn=new Uint8Array(fn);if(Yt){sn[0]=Ct;for(let En=1;En<fn;En++)sn[En]=o[d++]}i.push({type:mt,payloadType:m,pts:e,bytes:sn})}}}}}else if(5===m&&v<ne){if(I=!0,v>16){const pe=[];for(let mt=0;mt<16;mt++){const Ct=o[d++].toString(16);pe.push(1==Ct.length?"0"+Ct:Ct),(3===mt||5===mt||7===mt||9===mt)&&pe.push("-")}const ze=v-16,tt=new Uint8Array(ze);for(let mt=0;mt<ze;mt++)tt[mt]=o[d++];i.push({payloadType:m,pts:e,uuid:pe.join(""),userData:ss(tt),userDataBytes:tt})}}else if(v<ne)d+=v;else if(v>ne)break}}function ca(r){const n=r.byteLength,e=[];let i=1;for(;i<n-2;)0===r[i]&&0===r[i+1]&&3===r[i+2]?(e.push(i+2),i+=2):i++;if(0===e.length)return r;const o=n-e.length,d=new Uint8Array(o);let m=0;for(i=0;i<o;m++,i++)m===e[0]&&(m++,e.shift()),d[i]=r[m];return d}let fa={};class al{static clearKeyUriToKeyIdMap(){fa={}}constructor(n,e,i,o=[1],d=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=n,this.uri=e,this.keyFormat=i,this.keyFormatVersions=o,this.iv=d,this.encrypted=!!n&&"NONE"!==n,this.isCommonEncryption=this.encrypted&&"AES-128"!==n}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case Gn_FAIRPLAY:case Gn_WIDEVINE:case Gn_PLAYREADY:case"org.w3.clearkey":return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(n){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof n&&("AES-128"===this.method&&!this.iv&&hn.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),n=0);const i=function Lc(r){const n=new Uint8Array(16);for(let e=12;e<16;e++)n[e]=r>>8*(15-e)&255;return n}(n);return new al(this.method,this.uri,"identity",this.keyFormatVersions,i)}const e=function id(r){const n=r.split(":");let e=null;if("data"===n[0]&&2===n.length){const i=n[1].split(";"),o=i[i.length-1].split(",");if(2===o.length){const m=o[1];"base64"===o[0]?(i.splice(-1,1),e=os(m)):e=function tc(r){const n=wc(r).subarray(0,16),e=new Uint8Array(16);return e.set(n,16-n.length),e}(m)}}return e}(this.uri);if(e)switch(this.keyFormat){case Gn_WIDEVINE:this.pssh=e,e.length>=22&&(this.keyId=e.subarray(e.length-22,e.length-6));break;case Gn_PLAYREADY:{const i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=function sl(r,n,e){if(16!==r.byteLength)throw new RangeError("Invalid system id");let i,o,d;if(n){i=1,o=new Uint8Array(16*n.length);for(let v=0;v<n.length;v++){const I=n[v];if(16!==I.byteLength)throw new RangeError("Invalid key");o.set(I,16*v)}}else i=0,o=new Uint8Array;i>0?(d=new Uint8Array(4),n.length>0&&new DataView(d.buffer).setUint32(0,n.length,!1)):d=new Uint8Array;const m=new Uint8Array(4);return e&&e.byteLength>0&&new DataView(m.buffer).setUint32(0,e.byteLength,!1),function ua(r,...n){const e=n.length;let i=8,o=e;for(;o--;)i+=n[o].byteLength;const d=new Uint8Array(i);for(d[0]=i>>24&255,d[1]=i>>16&255,d[2]=i>>8&255,d[3]=255&i,d.set(r,4),o=0,i=8;o<e;o++)d.set(n[o],i),i+=n[o].byteLength;return d}([112,115,115,104],new Uint8Array([i,0,0,0]),r,d,o,m,e||new Uint8Array)}(i,null,e);const o=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),d=String.fromCharCode.apply(null,Array.from(o)),m=d.substring(d.indexOf("<"),d.length),j=(new DOMParser).parseFromString(m,"text/xml").getElementsByTagName("KID")[0];if(j){const ne=j.childNodes[0]?j.childNodes[0].nodeValue:j.getAttribute("VALUE");if(ne){const pe=os(ne).subarray(0,16);(function Rl(r){const n=function(i,o,d){const m=i[o];i[o]=i[d],i[d]=m};n(r,0,3),n(r,1,2),n(r,4,5),n(r,6,7)})(pe),this.keyId=pe}}break}default:{let i=e.subarray(0,16);if(16!==i.length){const o=new Uint8Array(16);o.set(i,16-i.length),i=o}this.keyId=i;break}}if(!this.keyId||16!==this.keyId.byteLength){let i=fa[this.uri];if(!i){const o=Object.keys(fa).length%Number.MAX_SAFE_INTEGER;i=new Uint8Array(16),new DataView(i.buffer,12,4).setUint32(0,o),fa[this.uri]=i}this.keyId=i}return this}}const Ra=/\{\$([a-zA-Z0-9-_]+)\}/g;function kc(r){return Ra.test(r)}function as(r,n,e){if(null!==r.variableList||r.hasVariableRefs)for(let i=e.length;i--;){const o=e[i],d=n[o];d&&(n[o]=ll(r,d))}}function ll(r,n){if(null!==r.variableList||r.hasVariableRefs){const e=r.variableList;return n.replace(Ra,i=>{const o=i.substring(2,i.length-1),d=e?.[o];return void 0===d?(r.playlistParsingError||(r.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${o}"`)),i):d})}return n}function ku(r,n,e){let o,d,i=r.variableList;if(i||(r.variableList=i={}),"QUERYPARAM"in n){o=n.QUERYPARAM;try{const m=new self.URL(e).searchParams;if(!m.has(o))throw new Error(`"${o}" does not match any query parameter in URI: "${e}"`);d=m.get(o)}catch(m){r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${m.message}`))}}else o=n.NAME,d=n.VALUE;o in i?r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${o}"`)):i[o]=d||""}function Na(r,n,e){const i=n.IMPORT;if(e&&i in e){let o=r.variableList;o||(r.variableList=o={}),o[i]=e[i]}else r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${i}"`))}function cl(){if(!(typeof self>"u"))return self.MediaSource||self.WebKitMediaSource}const Ss={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},od=cl();function ha(r,n){var e;return null!=(e=od?.isTypeSupported(`${n||"video"}/mp4;codecs="${r}"`))&&e}const dl=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Vd=/#EXT-X-MEDIA:(.*)/g,Ks=/^#EXT(?:INF|-X-TARGETDURATION):/m,ul=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),$f=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class ao{static findGroup(n,e){for(let i=0;i<n.length;i++){const o=n[i];if(o.id===e)return o}}static convertAVC1ToAVCOTI(n){const e=n.split(".");if(e.length>2){let i=e.shift()+".";return i+=parseInt(e.shift()).toString(16),i+=("000"+parseInt(e.shift()).toString(16)).slice(-4),i}return n}static resolve(n,e){return Oa.buildAbsoluteURL(e,n,{alwaysNormalize:!0})}static isMediaPlaylist(n){return Ks.test(n)}static parseMasterPlaylist(n,e){const o={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:kc(n)},d=[];let m;for(dl.lastIndex=0;null!=(m=dl.exec(n));)if(m[1]){var v;const j=new Fi(m[1]);as(o,j,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const ne=ll(o,m[2]),pe={attrs:j,bitrate:j.decimalInteger("AVERAGE-BANDWIDTH")||j.decimalInteger("BANDWIDTH"),name:j.NAME,url:ao.resolve(ne,e)},ze=j.decimalResolution("RESOLUTION");ze&&(pe.width=ze.width,pe.height=ze.height),lc((j.CODECS||"").split(/[ ,]+/).filter(tt=>tt),pe),pe.videoCodec&&-1!==pe.videoCodec.indexOf("avc1")&&(pe.videoCodec=ao.convertAVC1ToAVCOTI(pe.videoCodec)),null!=(v=pe.unknownCodecs)&&v.length||d.push(pe),o.levels.push(pe)}else if(m[3]){const ne=m[4];switch(m[3]){case"SESSION-DATA":{const pe=new Fi(ne);as(o,pe,["DATA-ID","LANGUAGE","VALUE","URI"]);const ze=pe["DATA-ID"];ze&&(null===o.sessionData&&(o.sessionData={}),o.sessionData[ze]=pe);break}case"SESSION-KEY":{const pe=Gd(ne,e,o);pe.encrypted&&pe.isSupported()?(null===o.sessionKeys&&(o.sessionKeys=[]),o.sessionKeys.push(pe)):hn.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${ne}"`);break}case"DEFINE":{const pe=new Fi(ne);as(o,pe,["NAME","VALUE","QUERYPARAM"]),ku(o,pe,e)}break;case"CONTENT-STEERING":{const pe=new Fi(ne);as(o,pe,["SERVER-URI","PATHWAY-ID"]),o.contentSteering={uri:ao.resolve(pe["SERVER-URI"],e),pathwayId:pe["PATHWAY-ID"]||"."};break}case"START":o.startTimeOffset=Fl(ne)}}return o.levels=d.length>0&&d.length<o.levels.length?d:o.levels,0===o.levels.length&&(o.playlistParsingError=new Error("no levels found in manifest")),o}static parseMasterPlaylistMedia(n,e,i){let o;const d={},m=i.levels,v={AUDIO:m.map(j=>({id:j.attrs.AUDIO,audioCodec:j.audioCodec})),SUBTITLES:m.map(j=>({id:j.attrs.SUBTITLES,textCodec:j.textCodec})),"CLOSED-CAPTIONS":[]};let I=0;for(Vd.lastIndex=0;null!==(o=Vd.exec(n));){const j=new Fi(o[1]),ne=j.TYPE;if(ne){const pe=v[ne],ze=d[ne]||[];d[ne]=ze,as(i,j,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const tt={attrs:j,bitrate:0,id:I++,groupId:j["GROUP-ID"]||"",instreamId:j["INSTREAM-ID"],name:j.NAME||j.LANGUAGE||"",type:ne,default:j.bool("DEFAULT"),autoselect:j.bool("AUTOSELECT"),forced:j.bool("FORCED"),lang:j.LANGUAGE,url:j.URI?ao.resolve(j.URI,e):""};if(null!=pe&&pe.length){const mt=ao.findGroup(pe,tt.groupId)||pe[0];sd(tt,mt,"audioCodec"),sd(tt,mt,"textCodec")}ze.push(tt)}}return d}static parseLevelPlaylist(n,e,i,o,d,m){const v=new Pl(e),I=v.fragments;let Ot,Yt,fn,j=null,ne=0,pe=0,ze=0,tt=0,mt=null,Ct=new Qr(o,e),sn=-1,En=!1;for(ul.lastIndex=0,v.m3u8=n,v.hasVariableRefs=kc(n);null!==(Ot=ul.exec(n));){En&&(En=!1,Ct=new Qr(o,e),Ct.start=ze,Ct.sn=ne,Ct.cc=tt,Ct.level=i,j&&(Ct.initSegment=j,Ct.rawProgramDateTime=j.rawProgramDateTime,j.rawProgramDateTime=null));const qn=Ot[1];if(qn){Ct.duration=parseFloat(qn);const ni=(" "+Ot[2]).slice(1);Ct.title=ni||null,Ct.tagList.push(ni?["INF",qn,ni]:["INF",qn])}else if(Ot[3]){if(_i(Ct.duration)){Ct.start=ze,fn&&fl(Ct,fn,v),Ct.sn=ne,Ct.level=i,Ct.cc=tt,Ct.urlId=d,I.push(Ct);const ni=(" "+Ot[3]).slice(1);Ct.relurl=ll(v,ni),ad(Ct,mt),mt=Ct,ze+=Ct.duration,ne++,pe=0,En=!0}}else if(Ot[4]){const ni=(" "+Ot[4]).slice(1);mt?Ct.setByteRange(ni,mt):Ct.setByteRange(ni)}else if(Ot[5])Ct.rawProgramDateTime=(" "+Ot[5]).slice(1),Ct.tagList.push(["PROGRAM-DATE-TIME",Ct.rawProgramDateTime]),-1===sn&&(sn=I.length);else{if(Ot=Ot[0].match($f),!Ot){hn.warn("No matches on slow regex match for level playlist!");continue}for(Yt=1;Yt<Ot.length&&!(typeof Ot[Yt]<"u");Yt++);const ni=(" "+Ot[Yt]).slice(1),kn=(" "+Ot[Yt+1]).slice(1),yi=Ot[Yt+2]?(" "+Ot[Yt+2]).slice(1):"";switch(ni){case"PLAYLIST-TYPE":v.type=kn.toUpperCase();break;case"MEDIA-SEQUENCE":ne=v.startSN=parseInt(kn);break;case"SKIP":{const mi=new Fi(kn);as(v,mi,["RECENTLY-REMOVED-DATERANGES"]);const Yi=mi.decimalInteger("SKIPPED-SEGMENTS");if(_i(Yi)){v.skippedSegments=Yi;for(let Fr=Yi;Fr--;)I.unshift(null);ne+=Yi}const yo=mi.enumeratedString("RECENTLY-REMOVED-DATERANGES");yo&&(v.recentlyRemovedDateranges=yo.split("\t"));break}case"TARGETDURATION":v.targetduration=Math.max(parseInt(kn),1);break;case"VERSION":v.version=parseInt(kn);break;case"EXTM3U":break;case"ENDLIST":v.live=!1;break;case"#":(kn||yi)&&Ct.tagList.push(yi?[kn,yi]:[kn]);break;case"DISCONTINUITY":tt++,Ct.tagList.push(["DIS"]);break;case"GAP":Ct.gap=!0,Ct.tagList.push([ni]);break;case"BITRATE":Ct.tagList.push([ni,kn]);break;case"DATERANGE":{const mi=new Fi(kn);as(v,mi,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),as(v,mi,mi.clientAttrs);const Yi=new Xo(mi,v.dateRanges[mi.ID]);Yi.isValid||v.skippedSegments?v.dateRanges[Yi.id]=Yi:hn.warn(`Ignoring invalid DATERANGE tag: "${kn}"`),Ct.tagList.push(["EXT-X-DATERANGE",kn]);break}case"DEFINE":{const mi=new Fi(kn);as(v,mi,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in mi?Na(v,mi,m):ku(v,mi,e)}break;case"DISCONTINUITY-SEQUENCE":tt=parseInt(kn);break;case"KEY":{const mi=Gd(kn,e,v);if(mi.isSupported()){if("NONE"===mi.method){fn=void 0;break}fn||(fn={}),fn[mi.keyFormat]&&(fn=zr({},fn)),fn[mi.keyFormat]=mi}else hn.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${kn}"`);break}case"START":v.startTimeOffset=Fl(kn);break;case"MAP":{const mi=new Fi(kn);if(as(v,mi,["BYTERANGE","URI"]),Ct.duration){const Yi=new Qr(o,e);Fu(Yi,mi,i,fn),j=Yi,Ct.initSegment=j,j.rawProgramDateTime&&!Ct.rawProgramDateTime&&(Ct.rawProgramDateTime=j.rawProgramDateTime)}else Fu(Ct,mi,i,fn),j=Ct,En=!0;break}case"SERVER-CONTROL":{const mi=new Fi(kn);v.canBlockReload=mi.bool("CAN-BLOCK-RELOAD"),v.canSkipUntil=mi.optionalFloat("CAN-SKIP-UNTIL",0),v.canSkipDateRanges=v.canSkipUntil>0&&mi.bool("CAN-SKIP-DATERANGES"),v.partHoldBack=mi.optionalFloat("PART-HOLD-BACK",0),v.holdBack=mi.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const mi=new Fi(kn);v.partTarget=mi.decimalFloatingPoint("PART-TARGET");break}case"PART":{let mi=v.partList;mi||(mi=v.partList=[]);const Yi=pe>0?mi[mi.length-1]:void 0,yo=pe++,Fr=new Fi(kn);as(v,Fr,["BYTERANGE","URI"]);const ri=new ys(Fr,Ct,e,yo,Yi);mi.push(ri),Ct.duration+=ri.duration;break}case"PRELOAD-HINT":{const mi=new Fi(kn);as(v,mi,["URI"]),v.preloadHint=mi;break}case"RENDITION-REPORT":{const mi=new Fi(kn);as(v,mi,["URI"]),v.renditionReports=v.renditionReports||[],v.renditionReports.push(mi);break}default:hn.warn(`line parsed but not handled: ${Ot}`)}}}mt&&!mt.relurl?(I.pop(),ze-=mt.duration,v.partList&&(v.fragmentHint=mt)):v.partList&&(ad(Ct,mt),Ct.cc=tt,v.fragmentHint=Ct,fn&&fl(Ct,fn,v));const Dn=I.length,Vn=I[0],Rn=I[Dn-1];if(ze+=v.skippedSegments*v.targetduration,ze>0&&Dn&&Rn){v.averagetargetduration=ze/Dn;const qn=Rn.sn;v.endSN="initSegment"!==qn?qn:0,v.live||(Rn.endList=!0),Vn&&(v.startCC=Vn.cc)}else v.endSN=0,v.startCC=0;return v.fragmentHint&&(ze+=v.fragmentHint.duration),v.totalduration=ze,v.endCC=tt,sn>0&&function Ca(r,n){let e=r[n];for(let i=n;i--;){const o=r[i];if(!o)return;o.programDateTime=e.programDateTime-1e3*o.duration,e=o}}(I,sn),v}}function Gd(r,n,e){var i,o;const d=new Fi(r);as(e,d,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const m=null!=(i=d.METHOD)?i:"",v=d.URI,I=d.hexadecimalInteger("IV"),j=d.KEYFORMATVERSIONS,ne=null!=(o=d.KEYFORMAT)?o:"identity";v&&d.IV&&!I&&hn.error(`Invalid IV: ${d.IV}`);const pe=v?ao.resolve(v,n):"",ze=(j||"1").split("/").map(Number).filter(Number.isFinite);return new al(m,pe,ne,ze,I)}function Fl(r){const e=new Fi(r).decimalFloatingPoint("TIME-OFFSET");return _i(e)?e:null}function lc(r,n){["video","audio","text"].forEach(e=>{const i=r.filter(o=>function ac(r,n){const e=Ss[n];return!!e&&!0===e[r.slice(0,4)]}(o,e));if(i.length){const o=i.filter(d=>0===d.lastIndexOf("avc1",0)||0===d.lastIndexOf("mp4a",0));n[`${e}Codec`]=o.length>0?o[0]:i[0],r=r.filter(d=>-1===i.indexOf(d))}}),n.unknownCodecs=r}function sd(r,n,e){const i=n[e];i&&(r[e]=i)}function ad(r,n){r.rawProgramDateTime?r.programDateTime=Date.parse(r.rawProgramDateTime):null!=n&&n.programDateTime&&(r.programDateTime=n.endProgramDateTime),_i(r.programDateTime)||(r.programDateTime=null,r.rawProgramDateTime=null)}function Fu(r,n,e,i){r.relurl=n.URI,n.BYTERANGE&&r.setByteRange(n.BYTERANGE),r.level=e,r.sn="initSegment",i&&(r.levelkeys=i),r.initSegment=null}function fl(r,n,e){r.levelkeys=n;const{encryptedFragments:i}=e;(!i.length||i[i.length-1].levelkeys!==n)&&Object.keys(n).some(o=>n[o].isCommonEncryption)&&i.push(r)}function Hd(r){const{type:n}=r;switch(n){case"audioTrack":return"audio";case"subtitleTrack":return"subtitle";default:return"main"}}function ld(r,n){let e=r.url;return(void 0===e||0===e.indexOf("data:"))&&(e=n.url),e}class cc{constructor(n){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=n,this.registerListeners()}startLoad(n){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:n}=this;n.on(z.MANIFEST_LOADING,this.onManifestLoading,this),n.on(z.LEVEL_LOADING,this.onLevelLoading,this),n.on(z.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),n.on(z.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:n}=this;n.off(z.MANIFEST_LOADING,this.onManifestLoading,this),n.off(z.LEVEL_LOADING,this.onLevelLoading,this),n.off(z.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),n.off(z.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(n){const e=this.hls.config,m=new(e.pLoader||e.loader)(e);return this.loaders[n.type]=m,m}getInternalLoader(n){return this.loaders[n.type]}resetInternalLoader(n){this.loaders[n]&&delete this.loaders[n]}destroyInternalLoaders(){for(const n in this.loaders){const e=this.loaders[n];e&&e.destroy(),this.resetInternalLoader(n)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(n,e){const{url:i}=e;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:"manifest",url:i,deliveryDirectives:null})}onLevelLoading(n,e){const{id:i,level:o,url:d,deliveryDirectives:m}=e;this.load({id:i,level:o,responseType:"text",type:"level",url:d,deliveryDirectives:m})}onAudioTrackLoading(n,e){const{id:i,groupId:o,url:d,deliveryDirectives:m}=e;this.load({id:i,groupId:o,level:null,responseType:"text",type:"audioTrack",url:d,deliveryDirectives:m})}onSubtitleTrackLoading(n,e){const{id:i,groupId:o,url:d,deliveryDirectives:m}=e;this.load({id:i,groupId:o,level:null,responseType:"text",type:"subtitleTrack",url:d,deliveryDirectives:m})}load(n){var e;const i=this.hls.config;let d,o=this.getInternalLoader(n);if(o){const j=o.context;if(j&&j.url===n.url)return void hn.trace("[playlist-loader]: playlist request ongoing");hn.log(`[playlist-loader]: aborting previous loader for type: ${n.type}`),o.abort()}if(d="manifest"===n.type?i.manifestLoadPolicy.default:zr({},i.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),o=this.createInternalLoader(n),null!=(e=n.deliveryDirectives)&&e.part){let j;if("level"===n.type&&null!==n.level?j=this.hls.levels[n.level].details:"audioTrack"===n.type&&null!==n.id?j=this.hls.audioTracks[n.id].details:"subtitleTrack"===n.type&&null!==n.id&&(j=this.hls.subtitleTracks[n.id].details),j){const ne=j.partTarget,pe=j.targetduration;if(ne&&pe){const ze=1e3*Math.max(3*ne,.8*pe);d=zr({},d,{maxTimeToFirstByteMs:Math.min(ze,d.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(ze,d.maxTimeToFirstByteMs)})}}}const m=d.errorRetry||d.timeoutRetry||{};o.load(n,{loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:m.maxNumRetry||0,retryDelay:m.retryDelayMs||0,maxRetryDelay:m.maxRetryDelayMs||0},{onSuccess:(j,ne,pe,ze)=>{const tt=this.getInternalLoader(pe);this.resetInternalLoader(pe.type);const mt=j.data;0===mt.indexOf("#EXTM3U")?(ne.parsing.start=performance.now(),ao.isMediaPlaylist(mt)?this.handleTrackOrLevelPlaylist(j,ne,pe,ze||null,tt):this.handleMasterPlaylist(j,ne,pe,ze)):this.handleManifestParsingError(j,pe,new Error("no EXTM3U delimiter"),ze||null,ne)},onError:(j,ne,pe,ze)=>{this.handleNetworkError(ne,pe,!1,j,ze)},onTimeout:(j,ne,pe)=>{this.handleNetworkError(ne,pe,!0,void 0,j)}})}handleMasterPlaylist(n,e,i,o){const d=this.hls,m=n.data,v=ld(n,i),I=ao.parseMasterPlaylist(m,v);if(I.playlistParsingError)return void this.handleManifestParsingError(n,i,I.playlistParsingError,o,e);const{contentSteering:j,levels:ne,sessionData:pe,sessionKeys:ze,startTimeOffset:tt,variableList:mt}=I;this.variableList=mt;const{AUDIO:Ct=[],SUBTITLES:Ot,"CLOSED-CAPTIONS":Yt}=ao.parseMasterPlaylistMedia(m,v,I);Ct.length&&!Ct.some(sn=>!sn.url)&&ne[0].audioCodec&&!ne[0].attrs.AUDIO&&(hn.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),Ct.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Fi({}),bitrate:0,url:""})),d.trigger(z.MANIFEST_LOADED,{levels:ne,audioTracks:Ct,subtitles:Ot,captions:Yt,contentSteering:j,url:v,stats:e,networkDetails:o,sessionData:pe,sessionKeys:ze,startTimeOffset:tt,variableList:mt})}handleTrackOrLevelPlaylist(n,e,i,o,d){const m=this.hls,{id:v,level:I,type:j}=i,ne=ld(n,i),pe=_i(v)?v:0,ze=_i(I)?I:pe,tt=Hd(i),mt=ao.parseLevelPlaylist(n.data,ne,ze,tt,pe,this.variableList);if("manifest"===j){const Ct={attrs:new Fi({}),bitrate:0,details:mt,name:"",url:ne};m.trigger(z.MANIFEST_LOADED,{levels:[Ct],audioTracks:[],url:ne,stats:e,networkDetails:o,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}e.parsing.end=performance.now(),i.levelDetails=mt,this.handlePlaylistLoaded(mt,n,e,i,o,d)}handleManifestParsingError(n,e,i,o,d){this.hls.trigger(z.ERROR,{type:Tt.NETWORK_ERROR,details:je.MANIFEST_PARSING_ERROR,fatal:"manifest"===e.type,url:n.url,err:i,error:i,reason:i.message,response:n,context:e,networkDetails:o,stats:d})}handleNetworkError(n,e,i=!1,o,d){let m=`A network ${i?"timeout":"error"+(o?" (status "+o.code+")":"")} occurred while loading ${n.type}`;"level"===n.type?m+=`: ${n.level} id: ${n.id}`:("audioTrack"===n.type||"subtitleTrack"===n.type)&&(m+=` id: ${n.id} group-id: "${n.groupId}"`);const v=new Error(m);hn.warn(`[playlist-loader]: ${m}`);let I=je.UNKNOWN,j=!1;const ne=this.getInternalLoader(n);switch(n.type){case"manifest":I=i?je.MANIFEST_LOAD_TIMEOUT:je.MANIFEST_LOAD_ERROR,j=!0;break;case"level":I=i?je.LEVEL_LOAD_TIMEOUT:je.LEVEL_LOAD_ERROR,j=!1;break;case"audioTrack":I=i?je.AUDIO_TRACK_LOAD_TIMEOUT:je.AUDIO_TRACK_LOAD_ERROR,j=!1;break;case"subtitleTrack":I=i?je.SUBTITLE_TRACK_LOAD_TIMEOUT:je.SUBTITLE_LOAD_ERROR,j=!1}ne&&this.resetInternalLoader(n.type);const pe={type:Tt.NETWORK_ERROR,details:I,fatal:j,url:n.url,loader:ne,context:n,error:v,networkDetails:e,stats:d};o&&(pe.response=mo({url:e?.url||n.url,data:void 0},o)),this.hls.trigger(z.ERROR,pe)}handlePlaylistLoaded(n,e,i,o,d,m){const v=this.hls,{type:I,level:j,id:ne,groupId:pe,deliveryDirectives:ze}=o,tt=ld(e,o),mt=Hd(o),Ct="number"==typeof o.level&&"main"===mt?j:void 0;if(!n.fragments.length){const Yt=new Error("No Segments found in Playlist");return void v.trigger(z.ERROR,{type:Tt.NETWORK_ERROR,details:je.LEVEL_EMPTY_ERROR,fatal:!1,url:tt,error:Yt,reason:Yt.message,response:e,context:o,level:Ct,parent:mt,networkDetails:d,stats:i})}n.targetduration||(n.playlistParsingError=new Error("Missing Target Duration"));const Ot=n.playlistParsingError;if(Ot)v.trigger(z.ERROR,{type:Tt.NETWORK_ERROR,details:je.LEVEL_PARSING_ERROR,fatal:!1,url:tt,error:Ot,reason:Ot.message,response:e,context:o,level:Ct,parent:mt,networkDetails:d,stats:i});else switch(n.live&&m&&(m.getCacheAge&&(n.ageHeader=m.getCacheAge()||0),(!m.getCacheAge||isNaN(n.ageHeader))&&(n.ageHeader=0)),I){case"manifest":case"level":v.trigger(z.LEVEL_LOADED,{details:n,level:Ct||0,id:ne||0,stats:i,networkDetails:d,deliveryDirectives:ze});break;case"audioTrack":v.trigger(z.AUDIO_TRACK_LOADED,{details:n,id:ne||0,groupId:pe||"",stats:i,networkDetails:d,deliveryDirectives:ze});break;case"subtitleTrack":v.trigger(z.SUBTITLE_TRACK_LOADED,{details:n,id:ne||0,groupId:pe||"",stats:i,networkDetails:d,deliveryDirectives:ze})}}}function La(r,n){let e;try{e=new Event("addtrack")}catch{e=document.createEvent("Event"),e.initEvent("addtrack",!1,!1)}e.track=r,n.dispatchEvent(e)}function cd(r,n){const e=r.mode;if("disabled"===e&&(r.mode="hidden"),r.cues&&!r.cues.getCueById(n.id))try{if(r.addCue(n),!r.cues.getCueById(n.id))throw new Error(`addCue is failed for: ${n}`)}catch(i){hn.debug(`[texttrack-utils]: ${i}`);try{const o=new self.TextTrackCue(n.startTime,n.endTime,n.text);o.id=n.id,r.addCue(o)}catch(o){hn.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${o}`)}}"disabled"===e&&(r.mode=e)}function ka(r){const n=r.mode;if("disabled"===n&&(r.mode="hidden"),r.cues)for(let e=r.cues.length;e--;)r.removeCue(r.cues[e]);"disabled"===n&&(r.mode=n)}function Bl(r,n,e,i){const o=r.mode;if("disabled"===o&&(r.mode="hidden"),r.cues&&r.cues.length>0){const d=function Bu(r,n,e){const i=[],o=function Ul(r,n){if(n<r[0].startTime)return 0;const e=r.length-1;if(n>r[e].endTime)return-1;let i=0,o=e;for(;i<=o;){const d=Math.floor((o+i)/2);if(n<r[d].startTime)o=d-1;else{if(!(n>r[d].startTime&&i<e))return d;i=d+1}}return r[i].startTime-n<n-r[o].startTime?i:o}(r,n);if(o>-1)for(let d=o,m=r.length;d<m;d++){const v=r[d];if(v.startTime>=n&&v.endTime<=e)i.push(v);else if(v.startTime>e)return i}return i}(r.cues,n,e);for(let m=0;m<d.length;m++)(!i||i(d[m]))&&r.removeCue(d[m])}"disabled"===o&&(r.mode=o)}var ls_emsg="https://aomedia.org/emsg/ID3";function ud(){if(!(typeof self>"u"))return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}const jl=(()=>{const r=ud();try{new r(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function dc(r,n){return r.getTime()/1e3-n}function Fa(r){return Uint8Array.from(r.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class Ba{constructor(n){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=n,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:n}=this;n.on(z.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(z.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(z.MANIFEST_LOADING,this.onManifestLoading,this),n.on(z.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),n.on(z.BUFFER_FLUSHING,this.onBufferFlushing,this),n.on(z.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:n}=this;n.off(z.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(z.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(z.MANIFEST_LOADING,this.onManifestLoading,this),n.off(z.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),n.off(z.BUFFER_FLUSHING,this.onBufferFlushing,this),n.off(z.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(n,e){this.media=e.media}onMediaDetaching(){this.id3Track&&(ka(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(n){const e=this.getID3Track(n.textTracks);return e.mode="hidden",e}getID3Track(n){if(this.media){for(let e=0;e<n.length;e++){const i=n[e];if("metadata"===i.kind&&"id3"===i.label)return La(i,this.media),i}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(n,e){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:i,enableID3MetadataCues:o}}}=this;if(!i&&!o)return;const{samples:d}=e;this.id3Track||(this.id3Track=this.createTrack(this.media));const m=ud();for(let v=0;v<d.length;v++){const I=d[v].type;if(I===ls_emsg&&!i||!o)continue;const j=po(d[v].data);if(j){const ne=d[v].pts;let pe=ne+d[v].duration;pe>jl&&(pe=jl),pe-ne<=0&&(pe=ne+.25);for(let tt=0;tt<j.length;tt++){const mt=j[tt];if(!Gr(mt)){this.updateId3CueEnds(ne,I);const Ct=new m(ne,pe,"");Ct.value=mt,I&&(Ct.type=I),this.id3Track.addCue(Ct)}}}}}updateId3CueEnds(n,e){var i;const o=null==(i=this.id3Track)?void 0:i.cues;if(o)for(let d=o.length;d--;){const m=o[d];m.type===e&&m.startTime<n&&m.endTime===jl&&(m.endTime=n)}}onBufferFlushing(n,{startOffset:e,endOffset:i,type:o}){const{id3Track:d,hls:m}=this;if(!m)return;const{config:{enableEmsgMetadataCues:v,enableID3MetadataCues:I}}=m;if(d&&(v||I)){let j;j="audio"===o?ne=>"org.id3"===ne.type&&I:"video"===o?ne=>ne.type===ls_emsg&&v:ne=>"org.id3"===ne.type&&I||ne.type===ls_emsg&&v,Bl(d,e,i,j)}}onLevelUpdated(n,{details:e}){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:i,id3Track:o}=this,{dateRanges:d}=e,m=Object.keys(d);if(o){const ne=Object.keys(i).filter(pe=>!m.includes(pe));for(let pe=ne.length;pe--;){const ze=ne[pe];Object.keys(i[ze].cues).forEach(tt=>{o.removeCue(i[ze].cues[tt])}),delete i[ze]}}const v=e.fragments[e.fragments.length-1];if(0===m.length||!_i(v?.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const I=v.programDateTime/1e3-v.start,j=ud();for(let ne=0;ne<m.length;ne++){const pe=m[ne],ze=d[pe],tt=i[pe],mt=tt?.cues||{};let Ct=tt?.durationKnown||!1;const Ot=dc(ze.startDate,I);let Yt=jl;const fn=ze.endDate;if(fn)Yt=dc(fn,I),Ct=!0;else if(ze.endOnNext&&!Ct){const En=m.reduce((Dn,Vn)=>{const Rn=d[Vn];return Rn.class===ze.class&&Rn.id!==Vn&&Rn.startDate>ze.startDate&&Dn.push(Rn),Dn},[]).sort((Dn,Vn)=>Dn.startDate.getTime()-Vn.startDate.getTime())[0];En&&(Yt=dc(En.startDate,I),Ct=!0)}const sn=Object.keys(ze.attr);for(let En=0;En<sn.length;En++){const Dn=sn[En];if("ID"===(r=Dn)||"CLASS"===r||"START-DATE"===r||"DURATION"===r||"END-DATE"===r||"END-ON-NEXT"===r)continue;let Vn=mt[Dn];if(Vn)Ct&&!tt.durationKnown&&(Vn.endTime=Yt);else{let Rn=ze.attr[Dn];Vn=new j(Ot,Yt,""),Mr(Dn)&&(Rn=Fa(Rn)),Vn.value={key:Dn,data:Rn},Vn.type="com.apple.quicktime.HLS",Vn.id=pe,this.id3Track.addCue(Vn),mt[Dn]=Vn}}i[pe]={cues:mt,dateRange:ze,durationKnown:Ct}}var r}}class Ua{constructor(n){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=n,this.config=n.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:n,levelDetails:e}=this;return void 0!==n.liveMaxLatencyDuration?n.liveMaxLatencyDuration:e?n.liveMaxLatencyDurationCount*e.targetduration:0}get targetLatency(){const{levelDetails:n}=this;if(null===n)return null;const{holdBack:e,partHoldBack:i,targetduration:o}=n,{liveSyncDuration:d,liveSyncDurationCount:m,lowLatencyMode:v}=this.config,I=this.hls.userConfig;let j=v&&i||e;return(I.liveSyncDuration||I.liveSyncDurationCount||0===j)&&(j=void 0!==d?d:m*o),j+Math.min(1*this.stallCount,o)}get liveSyncPosition(){const n=this.estimateLiveEdge(),e=this.targetLatency,i=this.levelDetails;if(null===n||null===e||null===i)return null;const o=i.edge,v=o-(this.config.lowLatencyMode&&i.partTarget||i.targetduration);return Math.min(Math.max(o-i.totalduration,n-e-this.edgeStalled),v)}get drift(){const{levelDetails:n}=this;return null===n?1:n.drift}get edgeStalled(){const{levelDetails:n}=this;return null===n?0:Math.max(n.age-3*(this.config.lowLatencyMode&&n.partTarget||n.targetduration),0)}get forwardBufferLength(){const{media:n,levelDetails:e}=this;if(!n||!e)return 0;const i=n.buffered.length;return(i?n.buffered.end(i-1):e.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(z.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(z.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(z.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(z.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(z.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(z.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(z.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(z.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(z.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(z.ERROR,this.onError,this)}onMediaAttached(n,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(n,{details:e}){this.levelDetails=e,e.advanced&&this.timeupdate(),!e.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(n,e){var i;e.details===je.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(i=this.levelDetails)&&i.live&&hn.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:n,levelDetails:e}=this;if(!n||!e)return;this.currentTime=n.currentTime;const i=this.computeLatency();if(null===i)return;this._latency=i;const{lowLatencyMode:o,maxLiveSyncPlaybackRate:d}=this.config;if(!o||1===d)return;const m=this.targetLatency;if(null===m)return;const v=i-m,I=Math.min(this.maxLatency,m+e.targetduration);if(e.live&&v<I&&v>.05&&this.forwardBufferLength>1){const ne=Math.min(2,Math.max(1,d)),pe=Math.round(2/(1+Math.exp(-.75*v-this.edgeStalled))*20)/20;n.playbackRate=Math.min(ne,Math.max(1,pe))}else 1!==n.playbackRate&&0!==n.playbackRate&&(n.playbackRate=1)}estimateLiveEdge(){const{levelDetails:n}=this;return null===n?null:n.edge+n.age}computeLatency(){const n=this.estimateLiveEdge();return null===n?null:n-this.currentTime}}const uc=["NONE","TYPE-0","TYPE-1",null];class Fc{constructor(n,e,i){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=n,this.part=e,this.skip=i}addDirectives(n){const e=new self.URL(n);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.href}}class Va{constructor(n){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[n.url],this._attrs=[n.attrs],this.bitrate=n.bitrate,n.details&&(this.details=n.details),this.id=n.id||0,this.name=n.name,this.width=n.width||0,this.height=n.height||0,this.audioCodec=n.audioCodec,this.videoCodec=n.videoCodec,this.unknownCodecs=n.unknownCodecs,this.codecSet=[n.videoCodec,n.audioCodec].filter(e=>e).join(",").replace(/\.[^.,]+/g,"")}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get attrs(){return this._attrs[this._urlId]}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get uri(){return this.url[this._urlId]||""}get urlId(){return this._urlId}set urlId(n){const e=n%this.url.length;this._urlId!==e&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=e)}get audioGroupId(){var n;return null==(n=this.audioGroupIds)?void 0:n[this.urlId]}get textGroupId(){var n;return null==(n=this.textGroupIds)?void 0:n[this.urlId]}addFallback(n){this.url.push(n.url),this._attrs.push(n.attrs)}}function fc(r,n){const e=n.startPTS;if(_i(e)){let o,i=0;n.sn>r.sn?(i=e-r.start,o=r):(i=r.start-e,o=n),o.duration!==i&&(o.duration=i)}else n.start=n.sn>r.sn?r.cc===n.cc&&r.minEndPTS?r.start+(r.minEndPTS-r.start):r.start+r.duration:Math.max(r.start-n.duration,0)}function fd(r,n,e,i,o,d){i-e<=0&&(hn.warn("Fragment should have a positive duration",n),i=e+n.duration,d=o+n.duration);let v=e,I=i;const j=n.startPTS,ne=n.endPTS;if(_i(j)){const Ot=Math.abs(j-e);n.deltaPTS=_i(n.deltaPTS)?Math.max(Ot,n.deltaPTS):Ot,v=Math.max(e,j),e=Math.min(e,j),o=Math.min(o,n.startDTS),I=Math.min(i,ne),i=Math.max(i,ne),d=Math.max(d,n.endDTS)}const pe=e-n.start;0!==n.start&&(n.start=e),n.duration=i-n.start,n.startPTS=e,n.maxStartPTS=v,n.startDTS=o,n.endPTS=i,n.minEndPTS=I,n.endDTS=d;const ze=n.sn;if(!r||ze<r.startSN||ze>r.endSN)return 0;let tt;const mt=ze-r.startSN,Ct=r.fragments;for(Ct[mt]=n,tt=mt;tt>0;tt--)fc(Ct[tt],Ct[tt-1]);for(tt=mt;tt<Ct.length-1;tt++)fc(Ct[tt],Ct[tt+1]);return r.fragmentHint&&fc(Ct[Ct.length-1],r.fragmentHint),r.PTSKnown=r.alignedSliding=!0,pe}function hl(r,n){const e=n.startSN+n.skippedSegments-r.startSN,i=r.fragments;e<0||e>=i.length||hc(n,i[e].start)}function hc(r,n){if(n){const e=r.fragments;for(let i=r.skippedSegments;i<e.length;i++)e[i].start+=n;r.fragmentHint&&(r.fragmentHint.start+=n)}}function md(r,n,e){var i;return null!=r&&r.details?Gl(null==(i=r.details)?void 0:i.partList,n,e):null}function Gl(r,n,e){if(r)for(let i=r.length;i--;){const o=r[i];if(o.index===e&&o.fragment.sn===n)return o}return null}function Cs(r){switch(r.details){case je.FRAG_LOAD_TIMEOUT:case je.KEY_LOAD_TIMEOUT:case je.LEVEL_LOAD_TIMEOUT:case je.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function Ds(r,n){const e=Cs(n);return r.default[(e?"timeout":"error")+"Retry"]}function xs(r,n){const e="linear"===r.backoff?1:Math.pow(2,n);return Math.min(e*r.retryDelayMs,r.maxRetryDelayMs)}function Kd(r){return mo(mo({},r),{errorRetry:null,timeoutRetry:null})}function Hl(r,n,e,i){return!!r&&n<r.maxNumRetry&&(function Kl(r){return 0===r&&!1===navigator.onLine||!!r&&(r<400||r>499)}(i)||!!e)}const Yd={search:function(r,n){let e=0,i=r.length-1,o=null,d=null;for(;e<=i;){o=(e+i)/2|0,d=r[o];const m=n(d);if(m>0)e=o+1;else{if(!(m<0))return d;i=o-1}}return null}};function Bc(r,n,e=0,i=0){let o=null;if(r?o=n[r.sn-n[0].sn+1]||null:0===e&&0===n[0].start&&(o=n[0]),o&&0===Ae(e,i,o))return o;const d=Yd.search(n,Ae.bind(null,e,i));return!d||d===r&&o?o:d}function Ae(r=0,n=0,e){if(e.start<=r&&e.start+e.duration>r)return 0;const i=Math.min(n,e.duration+(e.deltaPTS?e.deltaPTS:0));return e.start+e.duration-i<=r?1:e.start-i>r&&e.start?-1:0}function qe(r,n,e){const i=1e3*Math.min(n,e.duration+(e.deltaPTS?e.deltaPTS:0));return(e.endProgramDateTime||0)-i>r}function hi(r,n,e){if(performance.now()-r.lastErrorPerfMs>3e5)return!0;const i=r.details;if(n.details===je.FRAG_GAP&&i&&n.frag){const d=Bc(null,i.fragments,n.frag.start);if(d&&!d.gap)return!0}if(e&&r.errors.length<e.errors.length){const o=r.errors[r.errors.length-1];if(i&&o.frag&&n.frag&&Math.abs(o.frag.start-n.frag.start)>3*i.targetduration)return!0}return!1}class di{constructor(n,e){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=hn.log.bind(hn,`${e}:`),this.warn=hn.warn.bind(hn,`${e}:`),this.hls=n}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){clearTimeout(this.timer),this.timer=-1}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(n,e){const i=e?.renditionReports;if(i){let o=-1;for(let d=0;d<i.length;d++){const m=i[d];let v;try{v=new self.URL(m.URI,e.url).href}catch(I){hn.warn(`Could not construct new URL for Rendition Report: ${I}`),v=m.URI||""}if(v===n){o=d;break}v===n.substring(0,v.length)&&(o=d)}if(-1!==o){const d=i[o],m=parseInt(d["LAST-MSN"])||e?.lastPartSn;let v=parseInt(d["LAST-PART"])||e?.lastPartIndex;if(this.hls.config.lowLatencyMode){const I=Math.min(e.age-e.partTarget,e.targetduration);v>=0&&I>e.partTarget&&(v+=1)}return new Fc(m,v>=0?v:void 0,"")}}}loadPlaylist(n){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(n){return this.canLoad&&!!n&&!!n.url&&(!n.details||n.details.live)}shouldReloadPlaylist(n){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(n)}playlistLoaded(n,e,i){const{details:o,stats:d}=e,m=self.performance.now(),v=d.loading.first?Math.max(0,m-d.loading.first):0;if(o.advancedDateTime=Date.now()-v,o.live||null!=i&&i.live){if(o.reloaded(i),i&&this.log(`live playlist ${n} ${o.advanced?"REFRESHED "+o.lastPartSn+"-"+o.lastPartIndex:"MISSED"}`),i&&o.fragments.length>0&&function hd(r,n){let e=null;const i=r.fragments;for(let I=i.length-1;I>=0;I--){const j=i[I].initSegment;if(j){e=j;break}}r.fragmentHint&&delete r.fragmentHint.endPTS;let d,o=0;if(function xm(r,n,e){const i=n.skippedSegments,o=Math.max(r.startSN,n.startSN)-n.startSN,d=(r.fragmentHint?1:0)+(i?n.endSN:Math.min(r.endSN,n.endSN))-n.startSN,m=n.startSN-r.startSN,v=n.fragmentHint?n.fragments.concat(n.fragmentHint):n.fragments,I=r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments;for(let j=o;j<=d;j++){const ne=I[m+j];let pe=v[j];i&&!pe&&j<i&&(pe=n.fragments[j]=ne),ne&&pe&&e(ne,pe)}}(r,n,(I,j)=>{I.relurl&&(o=I.cc-j.cc),_i(I.startPTS)&&_i(I.endPTS)&&(j.start=j.startPTS=I.startPTS,j.startDTS=I.startDTS,j.maxStartPTS=I.maxStartPTS,j.endPTS=I.endPTS,j.endDTS=I.endDTS,j.minEndPTS=I.minEndPTS,j.duration=I.endPTS-I.startPTS,j.duration&&(d=j),n.PTSKnown=n.alignedSliding=!0),j.elementaryStreams=I.elementaryStreams,j.loader=I.loader,j.stats=I.stats,j.urlId=I.urlId,I.initSegment&&(j.initSegment=I.initSegment,e=I.initSegment)}),e&&(n.fragmentHint?n.fragments.concat(n.fragmentHint):n.fragments).forEach(j=>{var ne;(!j.initSegment||j.initSegment.relurl===(null==(ne=e)?void 0:ne.relurl))&&(j.initSegment=e)}),n.skippedSegments)if(n.deltaUpdateFailed=n.fragments.some(I=>!I),n.deltaUpdateFailed){hn.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let I=n.skippedSegments;I--;)n.fragments.shift();n.startSN=n.fragments[0].sn,n.startCC=n.fragments[0].cc}else n.canSkipDateRanges&&(n.dateRanges=function Uu(r,n,e){const i=zr({},r);return e&&e.forEach(o=>{delete i[o]}),Object.keys(n).forEach(o=>{const d=new Xo(n[o].attr,i[o]);d.isValid?i[o]=d:hn.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(n[o].attr)}"`)}),i}(r.dateRanges,n.dateRanges,n.recentlyRemovedDateranges));const m=n.fragments;if(o){hn.warn("discontinuity sliding from playlist, take drift into account");for(let I=0;I<m.length;I++)m[I].cc+=o}n.skippedSegments&&(n.startCC=n.fragments[0].cc),function Dm(r,n,e){if(r&&n){let i=0;for(let o=0,d=r.length;o<=d;o++){const m=r[o],v=n[o+i];m&&v&&m.index===v.index&&m.fragment.sn===v.fragment.sn?e(m,v):i--}}}(r.partList,n.partList,(I,j)=>{j.elementaryStreams=I.elementaryStreams,j.stats=I.stats}),d?fd(n,d,d.startPTS,d.endPTS,d.startDTS,d.endDTS):hl(r,n),m.length&&(n.totalduration=n.edge-m[0].start),n.driftStartTime=r.driftStartTime,n.driftStart=r.driftStart;const v=n.advancedDateTime;if(n.advanced&&v){const I=n.edge;n.driftStart||(n.driftStartTime=v,n.driftStart=I),n.driftEndTime=v,n.driftEnd=I}else n.driftEndTime=r.driftEndTime,n.driftEnd=r.driftEnd,n.advancedDateTime=r.advancedDateTime}(i,o),!this.canLoad||!o.live)return;let I,j,ne;if(o.canBlockReload&&o.endSN&&o.advanced){const Ot=this.hls.config.lowLatencyMode,Yt=o.lastPartSn,fn=o.endSN,sn=o.lastPartIndex,Dn=Yt===fn;-1!==sn?(j=Dn?fn+1:Yt,ne=Dn?Ot?0:sn:sn+1):j=fn+1;const Rn=o.age;let ni=Math.min(Rn+o.ageHeader-o.partTarget,1.5*o.targetduration);if(ni>0){if(i&&ni>i.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${i.tuneInGoal} to: ${ni} with playlist age: ${o.age}`),ni=0;else{const kn=Math.floor(ni/o.targetduration);j+=kn,void 0!==ne&&(ne+=Math.round(ni%o.targetduration/o.partTarget)),this.log(`CDN Tune-in age: ${o.ageHeader}s last advanced ${Rn.toFixed(2)}s goal: ${ni} skip sn ${kn} to part ${ne}`)}o.tuneInGoal=ni}if(I=this.getDeliveryDirectives(o,e.deliveryDirectives,j,ne),Ot||!Dn)return void this.loadPlaylist(I)}else o.canBlockReload&&(I=this.getDeliveryDirectives(o,e.deliveryDirectives,j,ne));const pe=this.hls.mainForwardBufferInfo,mt=function Vl(r,n=1/0){let e=1e3*r.targetduration;if(r.updated){const i=r.fragments;if(i.length&&4*e>n){const d=1e3*i[i.length-1].duration;d<e&&(e=d)}}else e/=2;return Math.round(e)}(o,1e3*(o.edge-(pe?pe.end-pe.len:0)));o.updated&&m>this.requestScheduled+mt&&(this.requestScheduled=d.loading.start),void 0!==j&&o.canBlockReload?this.requestScheduled=d.loading.first+mt-(1e3*o.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+mt<m?this.requestScheduled=m:this.requestScheduled-m<=0&&(this.requestScheduled+=mt);let Ct=this.requestScheduled-m;Ct=Math.max(0,Ct),this.log(`reload live playlist ${n} in ${Math.round(Ct)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(I),Ct)}else this.clearTimer()}getDeliveryDirectives(n,e,i,o){let d=function ja(r,n){const{canSkipUntil:e,canSkipDateRanges:i,endSN:o}=r;return e&&(void 0!==n?n-o:0)<e?i?"v2":"YES":""}(n,i);return null!=e&&e.skip&&n.deltaUpdateFailed&&(i=e.msn,o=e.part,d=""),new Fc(i,o,d)}checkRetry(n){const e=n.details,i=Cs(n),o=n.errorAction,{action:d,retryCount:m=0,retryConfig:v}=o||{},I=!!o&&!!v&&(5===d||!o.resolved&&2===d);if(I){var j;if(this.requestScheduled=-1,m>=v.maxNumRetry)return!1;if(i&&null!=(j=n.context)&&j.deliveryDirectives)this.warn(`Retrying playlist loading ${m+1}/${v.maxNumRetry} after "${e}" without delivery-directives`),this.loadPlaylist();else{const ne=xs(v,m);this.timer=self.setTimeout(()=>this.loadPlaylist(),ne),this.warn(`Retrying playlist loading ${m+1}/${v.maxNumRetry} after "${e}" in ${ne}ms`)}n.levelRetry=!0,o.resolved=!0}return I}}let Si;class Hi extends di{constructor(n,e){super(n,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=e,this._registerListeners()}_registerListeners(){const{hls:n}=this;n.on(z.MANIFEST_LOADING,this.onManifestLoading,this),n.on(z.MANIFEST_LOADED,this.onManifestLoaded,this),n.on(z.LEVEL_LOADED,this.onLevelLoaded,this),n.on(z.LEVELS_UPDATED,this.onLevelsUpdated,this),n.on(z.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.on(z.FRAG_LOADED,this.onFragLoaded,this),n.on(z.ERROR,this.onError,this)}_unregisterListeners(){const{hls:n}=this;n.off(z.MANIFEST_LOADING,this.onManifestLoading,this),n.off(z.MANIFEST_LOADED,this.onManifestLoaded,this),n.off(z.LEVEL_LOADED,this.onLevelLoaded,this),n.off(z.LEVELS_UPDATED,this.onLevelsUpdated,this),n.off(z.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.off(z.FRAG_LOADED,this.onFragLoaded,this),n.off(z.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}startLoad(){this._levels.forEach(e=>{e.loadError=0,e.fragmentError=0}),super.startLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}onManifestLoading(n,e){this.resetLevels()}onManifestLoaded(n,e){const i=[],o={};let d;e.levels.forEach(m=>{var v;const I=m.attrs;-1!==(null==(v=m.audioCodec)?void 0:v.indexOf("mp4a.40.34"))&&(Si||(Si=/chrome|firefox/i.test(navigator.userAgent)),Si&&(m.audioCodec=void 0));const{AUDIO:j,CODECS:ne,"FRAME-RATE":pe,"PATHWAY-ID":ze,RESOLUTION:tt,SUBTITLES:mt}=I,Ot=`${ze||"."}-${m.bitrate}-${tt}-${pe}-${ne}`;d=o[Ot],d?d.addFallback(m):(d=new Va(m),o[Ot]=d,i.push(d)),Gi(d,"audio",j),Gi(d,"text",mt)}),this.filterAndSortMediaOptions(i,e)}filterAndSortMediaOptions(n,e){let i=[],o=[],d=!1,m=!1,v=!1,I=n.filter(({audioCodec:tt,videoCodec:mt,width:Ct,height:Ot,unknownCodecs:Yt})=>(d||(d=!(!Ct||!Ot)),m||(m=!!mt),v||(v=!!tt),!(null!=Yt&&Yt.length)&&(!tt||ha(tt,"audio"))&&(!mt||ha(mt,"video"))));if((d||m)&&v&&(I=I.filter(({videoCodec:tt,width:mt,height:Ct})=>!!tt||!(!mt||!Ct))),0===I.length)return void Promise.resolve().then(()=>{if(this.hls){const tt=new Error("no level with compatible codecs found in manifest");this.hls.trigger(z.ERROR,{type:Tt.MEDIA_ERROR,details:je.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:tt,reason:tt.message})}});e.audioTracks&&(i=e.audioTracks.filter(tt=>!tt.audioCodec||ha(tt.audioCodec,"audio")),No(i)),e.subtitles&&(o=e.subtitles,No(o));const j=I.slice(0);I.sort((tt,mt)=>tt.attrs["HDCP-LEVEL"]!==mt.attrs["HDCP-LEVEL"]?(tt.attrs["HDCP-LEVEL"]||"")>(mt.attrs["HDCP-LEVEL"]||"")?1:-1:tt.bitrate!==mt.bitrate?tt.bitrate-mt.bitrate:tt.attrs["FRAME-RATE"]!==mt.attrs["FRAME-RATE"]?tt.attrs.decimalFloatingPoint("FRAME-RATE")-mt.attrs.decimalFloatingPoint("FRAME-RATE"):tt.attrs.SCORE!==mt.attrs.SCORE?tt.attrs.decimalFloatingPoint("SCORE")-mt.attrs.decimalFloatingPoint("SCORE"):d&&tt.height!==mt.height?tt.height-mt.height:0);let ne=j[0];if(this.steering&&(I=this.steering.filterParsedLevels(I),I.length!==j.length))for(let tt=0;tt<j.length;tt++)if(j[tt].pathwayId===I[0].pathwayId){ne=j[tt];break}this._levels=I;for(let tt=0;tt<I.length;tt++)if(I[tt]===ne){this._firstLevel=tt,this.log(`manifest loaded, ${I.length} level(s) found, first bitrate: ${ne.bitrate}`);break}const ze={levels:I,audioTracks:i,subtitleTracks:o,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:v,video:m,altAudio:!(v&&!m)&&i.some(tt=>!!tt.url)};this.hls.trigger(z.MANIFEST_PARSED,ze),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(n){const e=this._levels;if(0===e.length)return;if(n<0||n>=e.length){const ne=new Error("invalid level idx"),pe=n<0;if(this.hls.trigger(z.ERROR,{type:Tt.OTHER_ERROR,details:je.LEVEL_SWITCH_ERROR,level:n,fatal:pe,error:ne,reason:ne.message}),pe)return;n=Math.min(n,e.length-1)}const i=this.currentLevelIndex,o=this.currentLevel,d=o?o.attrs["PATHWAY-ID"]:void 0,m=e[n],v=m.attrs["PATHWAY-ID"];if(this.currentLevelIndex=n,this.currentLevel=m,i===n&&m.details&&o&&d===v)return;this.log(`Switching to level ${n}${v?" with Pathway "+v:""} from level ${i}${d?" with Pathway "+d:""}`);const I=zr({},m,{level:n,maxBitrate:m.maxBitrate,attrs:m.attrs,uri:m.uri,urlId:m.urlId});delete I._attrs,delete I._urlId,this.hls.trigger(z.LEVEL_SWITCHING,I);const j=m.details;if(!j||j.live){const ne=this.switchParams(m.uri,o?.details);this.loadPlaylist(ne)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(n){this.manualLevelIndex=n,void 0===this._startLevel&&(this._startLevel=n),-1!==n&&(this.level=n)}get firstLevel(){return this._firstLevel}set firstLevel(n){this._firstLevel=n}get startLevel(){if(void 0===this._startLevel){const n=this.hls.config.startLevel;return void 0!==n?n:this._firstLevel}return this._startLevel}set startLevel(n){this._startLevel=n}onError(n,e){e.fatal||!e.context||"level"===e.context.type&&e.context.level===this.level&&this.checkRetry(e)}onFragLoaded(n,{frag:e}){if(void 0!==e&&"main"===e.type){const i=this._levels[e.level];void 0!==i&&(i.loadError=0)}}onLevelLoaded(n,e){var i;const{level:o,details:d}=e,m=this._levels[o];var v;if(!m)return this.warn(`Invalid level index ${o}`),void(null!=(v=e.deliveryDirectives)&&v.skip&&(d.deltaUpdateFailed=!0));o===this.currentLevelIndex?(0===m.fragmentError&&(m.loadError=0),this.playlistLoaded(o,e,m.details)):null!=(i=e.deliveryDirectives)&&i.skip&&(d.deltaUpdateFailed=!0)}onAudioTrackSwitched(n,e){const i=this.currentLevel;if(!i)return;const o=this.hls.audioTracks[e.id].groupId;if(i.audioGroupIds&&i.audioGroupId!==o){let d=-1;for(let m=0;m<i.audioGroupIds.length;m++)if(i.audioGroupIds[m]===o){d=m;break}-1!==d&&d!==i.urlId&&(i.urlId=d,this.canLoad&&this.startLoad())}}loadPlaylist(n){super.loadPlaylist();const e=this.currentLevelIndex,i=this.currentLevel;if(i&&this.shouldLoadPlaylist(i)){const o=i.urlId;let d=i.uri;if(n)try{d=n.addDirectives(d)}catch(v){this.warn(`Could not construct new URL with HLS Delivery Directives: ${v}`)}const m=i.attrs["PATHWAY-ID"];this.log(`Loading level index ${e}${void 0!==n?.msn?" at sn "+n.msn+" part "+n.part:""} with${m?" Pathway "+m:""} URI ${o+1}/${i.url.length} ${d}`),this.clearTimer(),this.hls.trigger(z.LEVEL_LOADING,{url:d,level:e,id:o,deliveryDirectives:n||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(n){this.level=n,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=n)}removeLevel(n,e){const i=(d,m)=>m!==e,o=this._levels.filter((d,m)=>m!==n||(d.url.length>1&&void 0!==e?(d.url=d.url.filter(i),d.audioGroupIds&&(d.audioGroupIds=d.audioGroupIds.filter(i)),d.textGroupIds&&(d.textGroupIds=d.textGroupIds.filter(i)),d.urlId=0,!0):(this.steering&&this.steering.removeLevel(d),!1)));this.hls.trigger(z.LEVELS_UPDATED,{levels:o})}onLevelsUpdated(n,{levels:e}){e.forEach((i,o)=>{const{details:d}=i;null!=d&&d.fragments&&d.fragments.forEach(m=>{m.level=o})}),this._levels=e}}function Gi(r,n,e){e&&("audio"===n?(r.audioGroupIds||(r.audioGroupIds=[]),r.audioGroupIds[r.url.length-1]=e):"text"===n&&(r.textGroupIds||(r.textGroupIds=[]),r.textGroupIds[r.url.length-1]=e))}function No(r){const n={};r.forEach(e=>{const i=e.groupId||"";e.id=n[i]=n[i]||0,n[i]++})}class Uc{constructor(n){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=n,this._registerListeners()}_registerListeners(){const{hls:n}=this;n.on(z.BUFFER_APPENDED,this.onBufferAppended,this),n.on(z.FRAG_BUFFERED,this.onFragBuffered,this),n.on(z.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:n}=this;n.off(z.BUFFER_APPENDED,this.onBufferAppended,this),n.off(z.FRAG_BUFFERED,this.onFragBuffered,this),n.off(z.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(n,e){const i=this.activePartLists[e];if(i)for(let o=i.length;o--;){const d=i[o];if(!d)break;const m=d.end;if(d.start<=n&&null!==m&&n<=m)return d}return this.getBufferedFrag(n,e)}getBufferedFrag(n,e){const{fragments:i}=this,o=Object.keys(i);for(let d=o.length;d--;){const m=i[o[d]];if(m?.body.type===e&&m.buffered){const v=m.body;if(v.start<=n&&n<=v.end)return v}}return null}detectEvictedFragments(n,e,i,o){this.timeRanges&&(this.timeRanges[n]=e);const d=o?.fragment.sn||-1;Object.keys(this.fragments).forEach(m=>{const v=this.fragments[m];if(!v||d>=v.body.sn)return;if(!v.buffered&&!v.loaded)return void(v.body.type===i&&this.removeFragment(v.body));const I=v.range[n];I&&I.time.some(j=>{const ne=!this.isTimeBuffered(j.startPTS,j.endPTS,e);return ne&&this.removeFragment(v.body),ne})})}detectPartialFragments(n){const e=this.timeRanges,{frag:i,part:o}=n;if(!e||"initSegment"===i.sn)return;const d=ma(i),m=this.fragments[d];if(!m||m.buffered&&i.gap)return;const v=!i.relurl;Object.keys(e).forEach(I=>{const j=i.elementaryStreams[I];j&&(m.range[I]=this.getBufferedTimes(i,o,v||!0===j.partial,e[I]))}),m.loaded=null,Object.keys(m.range).length?(m.buffered=!0,m.body.endList&&(this.endListFragments[m.body.type]=m),Ws(m)||this.removeParts(i.sn-1,i.type)):this.removeFragment(m.body)}removeParts(n,e){const i=this.activePartLists[e];i&&(this.activePartLists[e]=i.filter(o=>o.fragment.sn>=n))}fragBuffered(n,e){const i=ma(n);let o=this.fragments[i];!o&&e&&(o=this.fragments[i]={body:n,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},n.gap&&(this.hasGaps=!0)),o&&(o.loaded=null,o.buffered=!0)}getBufferedTimes(n,e,i,o){const d={time:[],partial:i},m=n.start,v=n.end,I=n.minEndPTS||v,j=n.maxStartPTS||m;for(let ne=0;ne<o.length;ne++){const pe=o.start(ne)-this.bufferPadding,ze=o.end(ne)+this.bufferPadding;if(j>=pe&&I<=ze){d.time.push({startPTS:Math.max(m,o.start(ne)),endPTS:Math.min(v,o.end(ne))});break}if(m<ze&&v>pe)d.partial=!0,d.time.push({startPTS:Math.max(m,o.start(ne)),endPTS:Math.min(v,o.end(ne))});else if(v<=pe)break}return d}getPartialFragment(n){let i,o,d,e=null,m=0;const{bufferPadding:v,fragments:I}=this;return Object.keys(I).forEach(j=>{const ne=I[j];ne&&Ws(ne)&&(o=ne.body.start-v,d=ne.body.end+v,n>=o&&n<=d&&(i=Math.min(n-o,d-n),m<=i&&(e=ne.body,m=i)))}),e}isEndListAppended(n){const e=this.endListFragments[n];return void 0!==e&&(e.buffered||Ws(e))}getState(n){const e=ma(n),i=this.fragments[e];return i?i.buffered?Ws(i)?"PARTIAL":"OK":"APPENDING":"NOT_LOADED"}isTimeBuffered(n,e,i){let o,d;for(let m=0;m<i.length;m++){if(o=i.start(m)-this.bufferPadding,d=i.end(m)+this.bufferPadding,n>=o&&e<=d)return!0;if(e<=o)return!1}return!1}onFragLoaded(n,e){const{frag:i,part:o}=e;if("initSegment"===i.sn||i.bitrateTest)return;const d=o?null:e,m=ma(i);this.fragments[m]={body:i,appendedPTS:null,loaded:d,buffered:!1,range:Object.create(null)}}onBufferAppended(n,e){const{frag:i,part:o,timeRanges:d}=e;if("initSegment"===i.sn)return;const m=i.type;if(o){let v=this.activePartLists[m];v||(this.activePartLists[m]=v=[]),v.push(o)}this.timeRanges=d,Object.keys(d).forEach(v=>{this.detectEvictedFragments(v,d[v],m,o)})}onFragBuffered(n,e){this.detectPartialFragments(e)}hasFragment(n){const e=ma(n);return!!this.fragments[e]}hasParts(n){var e;return!(null==(e=this.activePartLists[n])||!e.length)}removeFragmentsInRange(n,e,i,o,d){o&&!this.hasGaps||Object.keys(this.fragments).forEach(m=>{const v=this.fragments[m];if(!v)return;const I=v.body;I.type!==i||o&&!I.gap||I.start<e&&I.end>n&&(v.buffered||d)&&this.removeFragment(I)})}removeFragment(n){const e=ma(n);n.stats.loaded=0,n.clearElementaryStreamInfo();const i=this.activePartLists[n.type];if(i){const o=n.sn;this.activePartLists[n.type]=i.filter(d=>d.fragment.sn!==o)}delete this.fragments[e],n.endList&&delete this.endListFragments[n.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function Ws(r){var n,e,i;return r.buffered&&(r.body.gap||(null==(n=r.range.video)?void 0:n.partial)||(null==(e=r.range.audio)?void 0:e.partial)||(null==(i=r.range.audiovideo)?void 0:i.partial))}function ma(r){return`${r.type}_${r.level}_${r.urlId}_${r.sn}`}const Ko=Math.pow(2,17);class Ga{constructor(n){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=n}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(n,e){const i=n.url;if(!i)return Promise.reject(new Da({type:Tt.NETWORK_ERROR,details:je.FRAG_LOAD_ERROR,fatal:!1,frag:n,error:new Error("Fragment does not have a "+(i?"part list":"url")),networkDetails:null}));this.abort();const o=this.config,d=o.fLoader,m=o.loader;return new Promise((v,I)=>{if(this.loader&&this.loader.destroy(),n.gap){if(n.tagList.some(tt=>"GAP"===tt[0]))return void I(Wd(n));n.gap=!1}const j=this.loader=n.loader=d?new d(o):new m(o),ne=Yl(n),pe=Kd(o.fragLoadPolicy.default),ze={loadPolicy:pe,timeout:pe.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===n.sn?1/0:Ko};n.stats=j.stats,j.load(ne,ze,{onSuccess:(tt,mt,Ct,Ot)=>{this.resetLoader(n,j);let Yt=tt.data;Ct.resetIV&&n.decryptdata&&(n.decryptdata.iv=new Uint8Array(Yt.slice(0,16)),Yt=Yt.slice(16)),v({frag:n,part:null,payload:Yt,networkDetails:Ot})},onError:(tt,mt,Ct,Ot)=>{this.resetLoader(n,j),I(new Da({type:Tt.NETWORK_ERROR,details:je.FRAG_LOAD_ERROR,fatal:!1,frag:n,response:mo({url:i,data:void 0},tt),error:new Error(`HTTP Error ${tt.code} ${tt.text}`),networkDetails:Ct,stats:Ot}))},onAbort:(tt,mt,Ct)=>{this.resetLoader(n,j),I(new Da({type:Tt.NETWORK_ERROR,details:je.INTERNAL_ABORTED,fatal:!1,frag:n,error:new Error("Aborted"),networkDetails:Ct,stats:tt}))},onTimeout:(tt,mt,Ct)=>{this.resetLoader(n,j),I(new Da({type:Tt.NETWORK_ERROR,details:je.FRAG_LOAD_TIMEOUT,fatal:!1,frag:n,error:new Error(`Timeout after ${ze.timeout}ms`),networkDetails:Ct,stats:tt}))},onProgress:(tt,mt,Ct,Ot)=>{e&&e({frag:n,part:null,payload:Ct,networkDetails:Ot})}})})}loadPart(n,e,i){this.abort();const o=this.config,d=o.fLoader,m=o.loader;return new Promise((v,I)=>{if(this.loader&&this.loader.destroy(),n.gap||e.gap)return void I(Wd(n,e));const j=this.loader=n.loader=d?new d(o):new m(o),ne=Yl(n,e),pe=Kd(o.fragLoadPolicy.default),ze={loadPolicy:pe,timeout:pe.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:Ko};e.stats=j.stats,j.load(ne,ze,{onSuccess:(tt,mt,Ct,Ot)=>{this.resetLoader(n,j),this.updateStatsFromPart(n,e);const Yt={frag:n,part:e,payload:tt.data,networkDetails:Ot};i(Yt),v(Yt)},onError:(tt,mt,Ct,Ot)=>{this.resetLoader(n,j),I(new Da({type:Tt.NETWORK_ERROR,details:je.FRAG_LOAD_ERROR,fatal:!1,frag:n,part:e,response:mo({url:ne.url,data:void 0},tt),error:new Error(`HTTP Error ${tt.code} ${tt.text}`),networkDetails:Ct,stats:Ot}))},onAbort:(tt,mt,Ct)=>{n.stats.aborted=e.stats.aborted,this.resetLoader(n,j),I(new Da({type:Tt.NETWORK_ERROR,details:je.INTERNAL_ABORTED,fatal:!1,frag:n,part:e,error:new Error("Aborted"),networkDetails:Ct,stats:tt}))},onTimeout:(tt,mt,Ct)=>{this.resetLoader(n,j),I(new Da({type:Tt.NETWORK_ERROR,details:je.FRAG_LOAD_TIMEOUT,fatal:!1,frag:n,part:e,error:new Error(`Timeout after ${ze.timeout}ms`),networkDetails:Ct,stats:tt}))}})})}updateStatsFromPart(n,e){const i=n.stats,o=e.stats,d=o.total;if(i.loaded+=o.loaded,d){const I=Math.round(n.duration/e.duration),j=Math.min(Math.round(i.loaded/d),I),pe=(I-j)*Math.round(i.loaded/j);i.total=i.loaded+pe}else i.total=Math.max(i.loaded,i.total);const m=i.loading,v=o.loading;m.start?m.first+=v.first-v.start:(m.start=v.start,m.first=v.first),m.end=v.end}resetLoader(n,e){n.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()}}function Yl(r,n=null){const e=n||r,i={frag:r,part:n,responseType:"arraybuffer",url:e.url,headers:{},rangeStart:0,rangeEnd:0},o=e.byteRangeStartOffset,d=e.byteRangeEndOffset;if(_i(o)&&_i(d)){var m;let v=o,I=d;if("initSegment"===r.sn&&"AES-128"===(null==(m=r.decryptdata)?void 0:m.method)){const j=d-o;j%16&&(I=d+(16-j%16)),0!==o&&(i.resetIV=!0,v=o-16)}i.rangeStart=v,i.rangeEnd=I}return i}function Wd(r,n){const e=new Error(`GAP ${r.gap?"tag":"attribute"} found`),i={type:Tt.MEDIA_ERROR,details:je.FRAG_GAP,fatal:!1,frag:r,error:e,networkDetails:null};return n&&(i.part=n),(n||r).stats.aborted=!0,new Da(i)}class Da extends Error{constructor(n){super(n.error.message),this.data=void 0,this.data=n}}class zd{constructor(n){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=n}abort(n){for(const e in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[e].loader;if(i){if(n&&n!==i.context.frag.type)return;i.abort()}}}detach(){for(const n in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[n];(e.mediaKeySessionContext||e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[n]}}destroy(){this.detach();for(const n in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[n].loader;e&&e.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(n,e=je.KEY_LOAD_ERROR,i,o,d){return new Da({type:Tt.NETWORK_ERROR,details:e,fatal:!1,frag:n,response:d,error:i,networkDetails:o})}loadClear(n,e){if(this.emeController&&this.config.emeEnabled){const{sn:i,cc:o}=n;for(let d=0;d<e.length;d++){const m=e[d];if(o<=m.cc&&("initSegment"===i||"initSegment"===m.sn||i<m.sn)){this.emeController.selectKeySystemFormat(m).then(v=>{m.setKeyFormat(v)});break}}}}load(n){return!n.decryptdata&&n.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(n).then(e=>this.loadInternal(n,e)):this.loadInternal(n)}loadInternal(n,e){var i,o;e&&n.setKeyFormat(e);const d=n.decryptdata;if(!d){const j=new Error(e?`Expected frag.decryptdata to be defined after setting format ${e}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(n,je.KEY_LOAD_ERROR,j))}const m=d.uri;if(!m)return Promise.reject(this.createKeyLoadError(n,je.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${m}"`)));let v=this.keyUriToKeyInfo[m];if(null!=(i=v)&&i.decryptdata.key)return d.key=v.decryptdata.key,Promise.resolve({frag:n,keyInfo:v});var I;if(null!=(o=v)&&o.keyLoadPromise)switch(null==(I=v.mediaKeySessionContext)?void 0:I.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return v.keyLoadPromise.then(j=>(d.key=j.keyInfo.decryptdata.key,{frag:n,keyInfo:v}))}switch(v=this.keyUriToKeyInfo[m]={decryptdata:d,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},d.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===d.keyFormat?this.loadKeyHTTP(v,n):this.loadKeyEME(v,n);case"AES-128":return this.loadKeyHTTP(v,n);default:return Promise.reject(this.createKeyLoadError(n,je.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${d.method}"`)))}}loadKeyEME(n,e){const i={frag:e,keyInfo:n};if(this.emeController&&this.config.emeEnabled){const o=this.emeController.loadKey(i);if(o)return(n.keyLoadPromise=o.then(d=>(n.mediaKeySessionContext=d,i))).catch(d=>{throw n.keyLoadPromise=null,d})}return Promise.resolve(i)}loadKeyHTTP(n,e){const i=this.config,d=new(0,i.loader)(i);return e.keyLoader=n.loader=d,n.keyLoadPromise=new Promise((m,v)=>{const I={keyInfo:n,frag:e,responseType:"arraybuffer",url:n.decryptdata.uri},j=i.keyLoadPolicy.default;d.load(I,{loadPolicy:j,timeout:j.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(ze,tt,mt,Ct)=>{const{frag:Ot,keyInfo:Yt,url:fn}=mt;if(!Ot.decryptdata||Yt!==this.keyUriToKeyInfo[fn])return v(this.createKeyLoadError(Ot,je.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),Ct));Yt.decryptdata.key=Ot.decryptdata.key=new Uint8Array(ze.data),Ot.keyLoader=null,Yt.loader=null,m({frag:Ot,keyInfo:Yt})},onError:(ze,tt,mt,Ct)=>{this.resetLoader(tt),v(this.createKeyLoadError(e,je.KEY_LOAD_ERROR,new Error(`HTTP Error ${ze.code} loading key ${ze.text}`),mt,mo({url:I.url,data:void 0},ze)))},onTimeout:(ze,tt,mt)=>{this.resetLoader(tt),v(this.createKeyLoadError(e,je.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),mt))},onAbort:(ze,tt,mt)=>{this.resetLoader(tt),v(this.createKeyLoadError(e,je.INTERNAL_ABORTED,new Error("key loading aborted"),mt))}})})}resetLoader(n){const{frag:e,keyInfo:i,url:o}=n,d=i.loader;e.keyLoader===d&&(e.keyLoader=null,i.loader=null),delete this.keyUriToKeyInfo[o],d&&d.destroy()}}class Jf{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(n){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,n),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}const Zd={length:0,start:()=>0,end:()=>0};class Lr{static isBuffered(n,e){try{if(n){const i=Lr.getBuffered(n);for(let o=0;o<i.length;o++)if(e>=i.start(o)&&e<=i.end(o))return!0}}catch{}return!1}static bufferInfo(n,e,i){try{if(n){const o=Lr.getBuffered(n),d=[];let m;for(m=0;m<o.length;m++)d.push({start:o.start(m),end:o.end(m)});return this.bufferedInfo(d,e,i)}}catch{}return{len:0,start:e,end:e,nextStart:void 0}}static bufferedInfo(n,e,i){e=Math.max(0,e),n.sort(function(j,ne){return j.start-ne.start||ne.end-j.end});let o=[];if(i)for(let j=0;j<n.length;j++){const ne=o.length;if(ne){const pe=o[ne-1].end;n[j].start-pe<i?n[j].end>pe&&(o[ne-1].end=n[j].end):o.push(n[j])}else o.push(n[j])}else o=n;let m,d=0,v=e,I=e;for(let j=0;j<o.length;j++){const ne=o[j].start,pe=o[j].end;if(e+i>=ne&&e<pe)v=ne,I=pe,d=I-e;else if(e+i<ne){m=ne;break}}return{len:d,start:v||0,end:I||0,nextStart:m}}static getBuffered(n){try{return n.buffered}catch(e){return hn.log("failed to get media.buffered",e),Zd}}}class Wl{constructor(n,e,i,o=0,d=-1,m=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=n,this.sn=e,this.id=i,this.size=o,this.part=d,this.partial=m}}function Mm(r,n){let e=null;for(let i=0,o=r.length;i<o;i++){const d=r[i];if(d&&d.cc===n){e=d;break}}return e}function Im(r,n){if(r){const e=r.start+n;r.start=r.startPTS=e,r.endPTS=e+r.duration}}function qd(r,n){const e=n.fragments;for(let i=0,o=e.length;i<o;i++)Im(e[i],r);n.fragmentHint&&Im(n.fragmentHint,r),n.alignedSliding=!0}function H(r,n){if(!r.hasProgramDateTime||!n.hasProgramDateTime)return;const e=r.fragments,i=n.fragments;if(!e.length||!i.length)return;const d=i[Math.round(i.length/2)-1],m=Mm(e,d.cc)||e[Math.round(e.length/2)-1],v=d.programDateTime,I=m.programDateTime;null!==v&&null!==I&&qd((I-v)/1e3-(m.start-d.start),r)}class Z{constructor(n,e){this.subtle=void 0,this.aesIV=void 0,this.subtle=n,this.aesIV=e}decrypt(n,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,n)}}class Pe{constructor(n,e){this.subtle=void 0,this.key=void 0,this.subtle=n,this.key=e}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class kt{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(n){const e=new DataView(n),i=new Uint32Array(4);for(let o=0;o<4;o++)i[o]=e.getUint32(4*o);return i}initTable(){const n=this.sBox,e=this.invSBox,i=this.subMix,o=i[0],d=i[1],m=i[2],v=i[3],I=this.invSubMix,j=I[0],ne=I[1],pe=I[2],ze=I[3],tt=new Uint32Array(256);let mt=0,Ct=0,Ot=0;for(Ot=0;Ot<256;Ot++)tt[Ot]=Ot<128?Ot<<1:Ot<<1^283;for(Ot=0;Ot<256;Ot++){let Yt=Ct^Ct<<1^Ct<<2^Ct<<3^Ct<<4;Yt=Yt>>>8^255&Yt^99,n[mt]=Yt,e[Yt]=mt;const fn=tt[mt],sn=tt[fn],En=tt[sn];let Dn=257*tt[Yt]^16843008*Yt;o[mt]=Dn<<24|Dn>>>8,d[mt]=Dn<<16|Dn>>>16,m[mt]=Dn<<8|Dn>>>24,v[mt]=Dn,Dn=16843009*En^65537*sn^257*fn^16843008*mt,j[Yt]=Dn<<24|Dn>>>8,ne[Yt]=Dn<<16|Dn>>>16,pe[Yt]=Dn<<8|Dn>>>24,ze[Yt]=Dn,mt?(mt=fn^tt[tt[tt[En^fn]]],Ct^=tt[tt[Ct]]):mt=Ct=1}}expandKey(n){const e=this.uint8ArrayToUint32Array_(n);let i=!0,o=0;for(;o<e.length&&i;)i=e[o]===this.key[o],o++;if(i)return;this.key=e;const d=this.keySize=e.length;if(4!==d&&6!==d&&8!==d)throw new Error("Invalid aes key size="+d);const m=this.ksRows=4*(d+6+1);let v,I;const j=this.keySchedule=new Uint32Array(m),ne=this.invKeySchedule=new Uint32Array(m),pe=this.sBox,ze=this.rcon,tt=this.invSubMix,mt=tt[0],Ct=tt[1],Ot=tt[2],Yt=tt[3];let fn,sn;for(v=0;v<m;v++)v<d?fn=j[v]=e[v]:(sn=fn,v%d==0?(sn=sn<<8|sn>>>24,sn=pe[sn>>>24]<<24|pe[sn>>>16&255]<<16|pe[sn>>>8&255]<<8|pe[255&sn],sn^=ze[v/d|0]<<24):d>6&&v%d==4&&(sn=pe[sn>>>24]<<24|pe[sn>>>16&255]<<16|pe[sn>>>8&255]<<8|pe[255&sn]),j[v]=fn=(j[v-d]^sn)>>>0);for(I=0;I<m;I++)v=m-I,sn=3&I?j[v]:j[v-4],ne[I]=I<4||v<=4?sn:mt[pe[sn>>>24]]^Ct[pe[sn>>>16&255]]^Ot[pe[sn>>>8&255]]^Yt[pe[255&sn]],ne[I]=ne[I]>>>0}networkToHostOrderSwap(n){return n<<24|(65280&n)<<8|(16711680&n)>>8|n>>>24}decrypt(n,e,i){const o=this.keySize+6,d=this.invKeySchedule,m=this.invSBox,v=this.invSubMix,I=v[0],j=v[1],ne=v[2],pe=v[3],ze=this.uint8ArrayToUint32Array_(i);let tt=ze[0],mt=ze[1],Ct=ze[2],Ot=ze[3];const Yt=new Int32Array(n),fn=new Int32Array(Yt.length);let sn,En,Dn,Vn,Rn,qn,ni,kn,yi,mi,Yi,yo,Fr,ri;const ui=this.networkToHostOrderSwap;for(;e<Yt.length;){for(yi=ui(Yt[e]),mi=ui(Yt[e+1]),Yi=ui(Yt[e+2]),yo=ui(Yt[e+3]),Rn=yi^d[0],qn=yo^d[1],ni=Yi^d[2],kn=mi^d[3],Fr=4,ri=1;ri<o;ri++)sn=I[Rn>>>24]^j[qn>>16&255]^ne[ni>>8&255]^pe[255&kn]^d[Fr],En=I[qn>>>24]^j[ni>>16&255]^ne[kn>>8&255]^pe[255&Rn]^d[Fr+1],Dn=I[ni>>>24]^j[kn>>16&255]^ne[Rn>>8&255]^pe[255&qn]^d[Fr+2],Vn=I[kn>>>24]^j[Rn>>16&255]^ne[qn>>8&255]^pe[255&ni]^d[Fr+3],Rn=sn,qn=En,ni=Dn,kn=Vn,Fr+=4;sn=m[Rn>>>24]<<24^m[qn>>16&255]<<16^m[ni>>8&255]<<8^m[255&kn]^d[Fr],En=m[qn>>>24]<<24^m[ni>>16&255]<<16^m[kn>>8&255]<<8^m[255&Rn]^d[Fr+1],Dn=m[ni>>>24]<<24^m[kn>>16&255]<<16^m[Rn>>8&255]<<8^m[255&qn]^d[Fr+2],Vn=m[kn>>>24]<<24^m[Rn>>16&255]<<16^m[qn>>8&255]<<8^m[255&ni]^d[Fr+3],fn[e]=ui(sn^tt),fn[e+1]=ui(Vn^mt),fn[e+2]=ui(Dn^Ct),fn[e+3]=ui(En^Ot),tt=yi,mt=mi,Ct=Yi,Ot=yo,e+=4}return fn.buffer}}class Nn{constructor(n,{removePKCS7Padding:e=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=n.enableSoftwareAES,this.removePKCS7Padding=e,e)try{const i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch{}null===this.subtle&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:n,remainderData:e}=this;if(!n||e)return this.reset(),null;const i=new Uint8Array(n);return this.reset(),this.removePKCS7Padding?function Mt(r){const n=r.byteLength,e=n&&new DataView(r.buffer).getUint8(n-1);return e?Or(r,0,n-e):r}(i):i}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(n,e,i){return this.useSoftware?new Promise((o,d)=>{this.softwareDecrypt(new Uint8Array(n),e,i);const m=this.flush();m?o(m.buffer):d(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(n),e,i)}softwareDecrypt(n,e,i){const{currentIV:o,currentResult:d,remainderData:m}=this;this.logOnce("JS AES decrypt"),m&&(n=zn(m,n),this.remainderData=null);const v=this.getValidChunk(n);if(!v.length)return null;o&&(i=o);let I=this.softwareDecrypter;I||(I=this.softwareDecrypter=new kt),I.expandKey(e);const j=d;return this.currentResult=I.decrypt(v.buffer,0,i),this.currentIV=Or(v,-16).buffer,j||null}webCryptoDecrypt(n,e,i){const o=this.subtle;return(this.key!==e||!this.fastAesKey)&&(this.key=e,this.fastAesKey=new Pe(o,e)),this.fastAesKey.expandKey().then(d=>o?(this.logOnce("WebCrypto AES decrypt"),new Z(o,new Uint8Array(i)).decrypt(n.buffer,d)):Promise.reject(new Error("web crypto not initialized"))).catch(d=>(hn.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${d.name}: ${d.message}`),this.onWebCryptoError(n,e,i)))}onWebCryptoError(n,e,i){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(n,e,i);const o=this.flush();if(o)return o.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(n){let e=n;const i=n.length-n.length%16;return i!==n.length&&(e=Or(n,0,i),this.remainderData=Or(n,i)),e}logOnce(n){this.logEnabled&&(hn.log(`[decrypter]: ${n}`),this.logEnabled=!1)}}class Ai extends Jf{constructor(n,e,i,o,d){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state="STOPPED",this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=d,this.logPrefix=o,this.log=hn.log.bind(hn,`${o}:`),this.warn=hn.warn.bind(hn,`${o}:`),this.hls=n,this.fragmentLoader=new Ga(n.config),this.keyLoader=i,this.fragmentTracker=e,this.config=n.config,this.decrypter=new Nn(n.config),n.on(z.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(n){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const n=this.fragCurrent;null!=n&&n.loader&&(n.abortRequests(),this.fragmentTracker.removeFragment(n)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state="STOPPED"}_streamEnded(n,e){if(e.live||n.nextStart||!n.end||!this.media)return!1;const i=e.partList;if(null!=i&&i.length){const d=i[i.length-1];return Lr.isBuffered(this.media,d.start+d.duration/2)}return this.fragmentTracker.isEndListAppended(e.fragments[e.fragments.length-1].type)}getLevelDetails(){var n;if(this.levels&&null!==this.levelLastLoaded)return null==(n=this.levels[this.levelLastLoaded])?void 0:n.details}onMediaAttached(n,e){const i=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),i.addEventListener("seeking",this.onvseeking),i.addEventListener("ended",this.onvended);const o=this.config;this.levels&&o.autoStartLoad&&"STOPPED"===this.state&&this.startLoad(o.startPosition)}onMediaDetaching(){const n=this.media;null!=n&&n.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),n&&this.onvseeking&&this.onvended&&(n.removeEventListener("seeking",this.onvseeking),n.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:n,fragCurrent:e,media:i,mediaBuffer:o,state:d}=this,m=i?i.currentTime:0,v=Lr.bufferInfo(o||i,m,n.maxBufferHole);if(this.log(`media seeking to ${_i(m)?m.toFixed(3):m}, state: ${d}`),"ENDED"===this.state)this.resetLoadingState();else if(e){const I=n.maxFragLookUpTolerance,j=e.start-I,ne=e.start+e.duration+I;if(!v.len||ne<v.start||j>v.end){const pe=m>ne;(m<j||pe)&&(pe&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}i&&(this.fragmentTracker.removeFragmentsInRange(m,1/0,this.playlistType,!0),this.lastCurrentTime=m),!this.loadedmetadata&&!v.len&&(this.nextLoadPosition=this.startPosition=m),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(n,e){this.startTimeOffset=e.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.stopLoad(),super.onHandlerDestroying()}onHandlerDestroyed(){this.state="STOPPED",this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(n,e,i){this._loadFragForPlayback(n,e,i)}_loadFragForPlayback(n,e,i){this._doFragLoad(n,e,i,d=>{if(this.fragContextChanged(n))return this.warn(`Fragment ${n.sn}${d.part?" p: "+d.part.index:""} of level ${n.level} was dropped during download.`),void this.fragmentTracker.removeFragment(n);n.stats.chunkCount++,this._handleFragmentLoadProgress(d)}).then(d=>{if(!d)return;const m=this.state;this.fragContextChanged(n)?("FRAG_LOADING"===m||!this.fragCurrent&&"PARSING"===m)&&(this.fragmentTracker.removeFragment(n),this.state="IDLE"):("payload"in d&&(this.log(`Loaded fragment ${n.sn} of level ${n.level}`),this.hls.trigger(z.FRAG_LOADED,d)),this._handleFragmentLoadComplete(d))}).catch(d=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(d),this.resetFragmentLoading(n))})}clearTrackerIfNeeded(n){var e;const{fragmentTracker:i}=this;if("APPENDING"===i.getState(n)){const m=this.getFwdBufferInfo(this.mediaBuffer,n.type),v=Math.max(n.duration,m?m.len:this.config.maxBufferLength);this.reduceMaxBufferLength(v)&&i.removeFragment(n)}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?i.removeAllFragments():i.hasParts(n.type)&&(i.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type}),"PARTIAL"===i.getState(n)&&i.removeFragment(n))}flushMainBuffer(n,e,i=null){n-e&&this.hls.trigger(z.BUFFER_FLUSHING,{startOffset:n,endOffset:e,type:i})}_loadInitSegment(n,e){this._doFragLoad(n,e).then(i=>{if(!i||this.fragContextChanged(n)||!this.levels)throw new Error("init load aborted");return i}).then(i=>{const{hls:o}=this,{payload:d}=i,m=n.decryptdata;if(d&&d.byteLength>0&&m&&m.key&&m.iv&&"AES-128"===m.method){const v=self.performance.now();return this.decrypter.decrypt(new Uint8Array(d),m.key.buffer,m.iv.buffer).catch(I=>{throw o.trigger(z.ERROR,{type:Tt.MEDIA_ERROR,details:je.FRAG_DECRYPT_ERROR,fatal:!1,error:I,reason:I.message,frag:n}),I}).then(I=>{const j=self.performance.now();return o.trigger(z.FRAG_DECRYPTED,{frag:n,payload:I,stats:{tstart:v,tdecrypt:j}}),i.payload=I,i})}return i}).then(i=>{const{fragCurrent:o,hls:d,levels:m}=this;if(!m)throw new Error("init load aborted, missing levels");const v=n.stats;this.state="IDLE",e.fragmentError=0,n.data=new Uint8Array(i.payload),v.parsing.start=v.buffering.start=self.performance.now(),v.parsing.end=v.buffering.end=self.performance.now(),i.frag===o&&d.trigger(z.FRAG_BUFFERED,{stats:v,frag:o,part:null,id:n.type}),this.tick()}).catch(i=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(i),this.resetFragmentLoading(n))})}fragContextChanged(n){const{fragCurrent:e}=this;return!n||!e||n.level!==e.level||n.sn!==e.sn||n.urlId!==e.urlId}fragBufferedComplete(n,e){var i,o,d,m;const v=this.mediaBuffer?this.mediaBuffer:this.media;this.log(`Buffered ${n.type} sn: ${n.sn}${e?" part: "+e.index:""} of ${"main"===this.playlistType?"level":"track"} ${n.level} (frag:[${(null!=(i=n.startPTS)?i:NaN).toFixed(3)}-${(null!=(o=n.endPTS)?o:NaN).toFixed(3)}] > buffer:${v?function(r){let n="";const e=r.length;for(let i=0;i<e;i++)n+=`[${r.start(i).toFixed(3)}-${r.end(i).toFixed(3)}]`;return n}(Lr.getBuffered(v)):"(detached)"})`),this.state="IDLE",v&&(!this.loadedmetadata&&"main"==n.type&&v.buffered.length&&(null==(d=this.fragCurrent)?void 0:d.sn)===(null==(m=this.fragPrevious)?void 0:m.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(n){const{transmuxer:e}=this;if(!e)return;const{frag:i,part:o,partsLoaded:d}=n,m=!d||0===d.length||d.some(I=>!I),v=new Wl(i.level,i.sn,i.stats.chunkCount+1,0,o?o.index:-1,!m);e.flush(v)}_handleFragmentLoadProgress(n){}_doFragLoad(n,e,i=null,o){var d;const m=e?.details;if(!this.levels||!m)throw new Error(`frag load aborted, missing level${m?"":" detail"}s`);let v=null;if(!n.encrypted||null!=(d=n.decryptdata)&&d.key?!n.encrypted&&m.encryptedFragments.length&&this.keyLoader.loadClear(n,m.encryptedFragments):(this.log(`Loading key for ${n.sn} of [${m.startSN}-${m.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${n.level}`),this.state="KEY_LOADING",this.fragCurrent=n,v=this.keyLoader.load(n).then(ne=>{if(!this.fragContextChanged(ne.frag))return this.hls.trigger(z.KEY_LOADED,ne),"KEY_LOADING"===this.state&&(this.state="IDLE"),ne}),this.hls.trigger(z.KEY_LOADING,{frag:n}),null===this.fragCurrent&&(v=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),i=Math.max(n.start,i||0),this.config.lowLatencyMode&&"initSegment"!==n.sn){const ne=m.partList;if(ne&&o){i>n.end&&m.fragmentHint&&(n=m.fragmentHint);const pe=this.getNextPart(ne,n,i);if(pe>-1){const ze=ne[pe];let tt;return this.log(`Loading part sn: ${n.sn} p: ${ze.index} cc: ${n.cc} of playlist [${m.startSN}-${m.endSN}] parts [0-${pe}-${ne.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${n.level}, target: ${parseFloat(i.toFixed(3))}`),this.nextLoadPosition=ze.start+ze.duration,this.state="FRAG_LOADING",tt=v?v.then(mt=>!mt||this.fragContextChanged(mt.frag)?null:this.doFragPartsLoad(n,ze,e,o)).catch(mt=>this.handleFragLoadError(mt)):this.doFragPartsLoad(n,ze,e,o).catch(mt=>this.handleFragLoadError(mt)),this.hls.trigger(z.FRAG_LOADING,{frag:n,part:ze,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):tt}if(!n.url||this.loadedEndOfParts(ne,i))return Promise.resolve(null)}}this.log(`Loading fragment ${n.sn} cc: ${n.cc} ${m?"of ["+m.startSN+"-"+m.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${n.level}, target: ${parseFloat(i.toFixed(3))}`),_i(n.sn)&&!this.bitrateTest&&(this.nextLoadPosition=n.start+n.duration),this.state="FRAG_LOADING";const I=this.config.progressive;let j;return j=I&&v?v.then(ne=>!ne||this.fragContextChanged(ne?.frag)?null:this.fragmentLoader.load(n,o)).catch(ne=>this.handleFragLoadError(ne)):Promise.all([this.fragmentLoader.load(n,I?o:void 0),v]).then(([ne])=>(!I&&ne&&o&&o(ne),ne)).catch(ne=>this.handleFragLoadError(ne)),this.hls.trigger(z.FRAG_LOADING,{frag:n,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):j}doFragPartsLoad(n,e,i,o){return new Promise((d,m)=>{var v;const I=[],j=null==(v=i.details)?void 0:v.partList,ne=pe=>{this.fragmentLoader.loadPart(n,pe,o).then(ze=>{I[pe.index]=ze;const tt=ze.part;this.hls.trigger(z.FRAG_LOADED,ze);const mt=md(i,n.sn,pe.index+1)||Gl(j,n.sn,pe.index+1);if(!mt)return d({frag:n,part:tt,partsLoaded:I});ne(mt)}).catch(m)};ne(e)})}handleFragLoadError(n){if("data"in n){const e=n.data;n.data&&e.details===je.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(z.ERROR,e)}else this.hls.trigger(z.ERROR,{type:Tt.OTHER_ERROR,details:je.INTERNAL_EXCEPTION,err:n,error:n,fatal:!0});return null}_handleTransmuxerFlush(n){const e=this.getCurrentContext(n);if(!e||"PARSING"!==this.state)return void(!this.fragCurrent&&"STOPPED"!==this.state&&"ERROR"!==this.state&&(this.state="IDLE"));const{frag:i,part:o,level:d}=e,m=self.performance.now();i.stats.parsing.end=m,o&&(o.stats.parsing.end=m),this.updateLevelTiming(i,o,d,n.partial)}getCurrentContext(n){const{levels:e,fragCurrent:i}=this,{level:o,sn:d,part:m}=n;if(null==e||!e[o])return this.warn(`Levels object was unset while buffering fragment ${d} of level ${o}. The current chunk will not be buffered.`),null;const v=e[o],I=m>-1?md(v,d,m):null,j=I?I.fragment:function go(r,n,e){if(null==r||!r.details)return null;const i=r.details;let o=i.fragments[n-i.startSN];return o||(o=i.fragmentHint,o&&o.sn===n)?o:n<i.startSN&&e&&e.sn===n?e:null}(v,d,i);return j?(i&&i!==j&&(j.stats=i.stats),{frag:j,part:I,level:v}):null}bufferFragmentData(n,e,i,o,d){var m;if(!n||"PARSING"!==this.state)return;const{data1:v,data2:I}=n;let j=v;if(v&&I&&(j=zn(v,I)),null!=(m=j)&&m.length&&(this.hls.trigger(z.BUFFER_APPENDING,{type:n.type,frag:e,part:i,chunkMeta:o,parent:e.type,data:j}),n.dropped&&n.independent&&!i)){if(d)return;this.flushBufferGap(e)}}flushBufferGap(n){const e=this.media;if(!e)return;if(!Lr.isBuffered(e,e.currentTime))return void this.flushMainBuffer(0,n.start);const i=e.currentTime,o=Lr.bufferInfo(e,i,0),m=Math.min(2*this.config.maxFragLookUpTolerance,.25*n.duration),v=Math.max(Math.min(n.start-m,o.end-m),i+m);n.start-v>m&&this.flushMainBuffer(v,n.start)}getFwdBufferInfo(n,e){const i=this.getLoadPosition();return _i(i)?this.getFwdBufferInfoAtPos(n,i,e):null}getFwdBufferInfoAtPos(n,e,i){const{config:{maxBufferHole:o}}=this,d=Lr.bufferInfo(n,e,o);if(0===d.len&&void 0!==d.nextStart){const m=this.fragmentTracker.getBufferedFrag(e,i);if(m&&d.nextStart<m.end)return Lr.bufferInfo(n,e,Math.max(d.nextStart,o))}return d}getMaxBufferLength(n){const{config:e}=this;let i;return i=n?Math.max(8*e.maxBufferSize/n,e.maxBufferLength):e.maxBufferLength,Math.min(i,e.maxMaxBufferLength)}reduceMaxBufferLength(n){const e=this.config;return e.maxMaxBufferLength>=(n||e.maxBufferLength)&&(e.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${e.maxMaxBufferLength}s`),!0)}getAppendedFrag(n,e="main"){const i=this.fragmentTracker.getAppendedFrag(n,"main");return i&&"fragment"in i?i.fragment:i}getNextFragment(n,e){const i=e.fragments,o=i.length;if(!o)return null;const{config:d}=this,m=i[0].start;let v;if(e.live){const I=d.initialLiveManifestSize;if(o<I)return this.warn(`Not enough fragments to start playback (have: ${o}, need: ${I})`),null;!e.PTSKnown&&!this.startFragRequested&&-1===this.startPosition&&(v=this.getInitialLiveFragment(e,i),this.startPosition=v?this.hls.liveSyncPosition||v.start:n)}else n<=m&&(v=i[0]);return v||(v=this.getFragmentAtPosition(n,d.lowLatencyMode?e.partEnd:e.fragmentEnd,e)),this.mapToInitFragWhenRequired(v)}isLoopLoading(n,e){const i=this.fragmentTracker.getState(n);return("OK"===i||"PARTIAL"===i&&!!n.gap)&&this.nextLoadPosition>e}getNextFragmentLoopLoading(n,e,i,o,d){const m=n.gap,v=this.getNextFragment(this.nextLoadPosition,e);if(null===v)return v;if(n=v,m&&n&&!n.gap&&i.nextStart){const I=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,i.nextStart,o);if(null!==I&&i.len+I.len>=d)return this.log(`buffer full after gaps in "${o}" playlist starting at sn: ${n.sn}`),null}return n}mapToInitFragWhenRequired(n){return null==n||!n.initSegment||null!=n&&n.initSegment.data||this.bitrateTest?n:n.initSegment}getNextPart(n,e,i){let o=-1,d=!1,m=!0;for(let v=0,I=n.length;v<I;v++){const j=n[v];if(m=m&&!j.independent,o>-1&&i<j.start)break;const ne=j.loaded;ne?o=-1:(d||j.independent||m)&&j.fragment===e&&(o=v),d=ne}return o}loadedEndOfParts(n,e){const i=n[n.length-1];return i&&e>i.start&&i.loaded}getInitialLiveFragment(n,e){const i=this.fragPrevious;let o=null;if(i){if(n.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${i.programDateTime}`),o=function qf(r,n,e){if(null===n||!Array.isArray(r)||!r.length||!_i(n))return null;if(n<(r[0].programDateTime||0))return null;if(n>=(r[r.length-1].endProgramDateTime||0))return null;e=e||0;for(let d=0;d<r.length;++d){const m=r[d];if(qe(n,e,m))return m}return null}(e,i.endProgramDateTime,this.config.maxFragLookUpTolerance)),!o){const d=i.sn+1;if(d>=n.startSN&&d<=n.endSN){const m=e[d-n.startSN];i.cc===m.cc&&(o=m,this.log(`Live playlist, switching playlist, load frag with next SN: ${o.sn}`))}o||(o=function St(r,n){return Yd.search(r,e=>e.cc<n?1:e.cc>n?-1:0)}(e,i.cc),o&&this.log(`Live playlist, switching playlist, load frag with same CC: ${o.sn}`))}}else{const d=this.hls.liveSyncPosition;null!==d&&(o=this.getFragmentAtPosition(d,this.bitrateTest?n.fragmentEnd:n.edge,n))}return o}getFragmentAtPosition(n,e,i){const{config:o}=this;let{fragPrevious:d}=this,{fragments:m,endSN:v}=i;const{fragmentHint:I}=i,j=o.maxFragLookUpTolerance,ne=i.partList,pe=!!(o.lowLatencyMode&&null!=ne&&ne.length&&I);let ze;if(pe&&I&&!this.bitrateTest&&(m=m.concat(I),v=I.sn),ze=n<e?Bc(d,m,n,n>e-j?0:j):m[m.length-1],ze){const tt=ze.sn-i.startSN,mt=this.fragmentTracker.getState(ze);if(("OK"===mt||"PARTIAL"===mt&&ze.gap)&&(d=ze),d&&ze.sn===d.sn&&(!pe||ne[0].fragment.sn>ze.sn)&&d&&ze.level===d.level){const Ot=m[tt+1];ze=ze.sn<v&&"OK"!==this.fragmentTracker.getState(Ot)?Ot:null}}return ze}synchronizeToLiveEdge(n){const{config:e,media:i}=this;if(!i)return;const o=this.hls.liveSyncPosition,d=i.currentTime,v=n.edge,I=d>=n.fragments[0].start-e.maxFragLookUpTolerance&&d<=v;null!==o&&i.duration>o&&(d<o||!I)&&(!I&&i.readyState<4||d<v-(void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*n.targetduration))&&(this.loadedmetadata||(this.nextLoadPosition=o),i.readyState&&(this.warn(`Playback: ${d.toFixed(3)} is located too far from the end of live sliding playlist: ${v}, reset currentTime to : ${o.toFixed(3)}`),i.currentTime=o))}alignPlaylists(n,e){const{levels:i,levelLastLoaded:o,fragPrevious:d}=this,m=null!==o?i[o]:null,v=n.fragments.length;if(!v)return this.warn("No fragments in live playlist"),0;const I=n.fragments[0].start,j=!e,ne=n.alignedSliding&&_i(I);if(j||!ne&&!I){!function wm(r,n,e){n&&(function u_(r,n,e){if(function Qf(r,n,e){return!(!n.details||!(e.endCC>e.startCC||r&&r.cc<e.startCC))}(r,e,n)){const i=function Am(r,n,e=0){const i=r.fragments,o=n.fragments;if(!o.length||!i.length)return void hn.log("No fragments to align");const d=Mm(i,o[0].cc);if(d&&(!d||d.startPTS))return d;hn.log("No frag in previous level to align on")}(e.details,n);i&&_i(i.start)&&(hn.log(`Adjusting PTS using last level due to CC increase within current level ${n.url}`),qd(i.start,n))}}(r,e,n),!e.alignedSliding&&n.details&&function be(r,n){if(!n.fragments.length||!r.hasProgramDateTime||!n.hasProgramDateTime)return;const e=n.fragments[0].programDateTime,i=r.fragments[0].programDateTime,o=(i-e)/1e3+n.fragments[0].start;o&&_i(o)&&(hn.log(`Adjusting PTS using programDateTime delta ${i-e}ms, sliding:${o.toFixed(3)} ${r.url} `),qd(o,r))}(e,n.details),!e.alignedSliding&&n.details&&!e.skippedSegments&&hl(n.details,e))}(d,m,n);const pe=n.fragments[0].start;return this.log(`Live playlist sliding: ${pe.toFixed(2)} start-sn: ${e?e.startSN:"na"}->${n.startSN} prev-sn: ${d?d.sn:"na"} fragments: ${v}`),pe}return I}waitForCdnTuneIn(n){return n.live&&n.canBlockReload&&n.partTarget&&n.tuneInGoal>Math.max(n.partHoldBack,3*n.partTarget)}setStartPosition(n,e){let i=this.startPosition;if(i<e&&(i=-1),-1===i||-1===this.lastCurrentTime){const o=null!==this.startTimeOffset,d=o?this.startTimeOffset:n.startTimeOffset;null!==d&&_i(d)?(i=e+d,d<0&&(i+=n.totalduration),i=Math.min(Math.max(e,i),e+n.totalduration),this.log(`Start time offset ${d} found in ${o?"multivariant":"media"} playlist, adjust startPosition to ${i}`),this.startPosition=i):n.live?i=this.hls.liveSyncPosition||e:this.startPosition=i=0,this.lastCurrentTime=i}this.nextLoadPosition=i}getLoadPosition(){const{media:n}=this;let e=0;return this.loadedmetadata&&n?e=n.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e}handleFragLoadAborted(n,e){this.transmuxer&&"initSegment"!==n.sn&&n.stats.aborted&&(this.warn(`Fragment ${n.sn}${e?" part "+e.index:""} of level ${n.level} was aborted`),this.resetFragmentLoading(n))}resetFragmentLoading(n){(!this.fragCurrent||!this.fragContextChanged(n)&&"FRAG_LOADING_WAITING_RETRY"!==this.state)&&(this.state="IDLE")}onFragmentOrKeyLoadError(n,e){if(e.chunkMeta&&!e.frag){const pe=this.getCurrentContext(e.chunkMeta);pe&&(e.frag=pe.frag)}const i=e.frag;if(!i||i.type!==n||!this.levels)return;var o;if(this.fragContextChanged(i))return void this.warn(`Frag load error must match current frag to retry ${i.url} > ${null==(o=this.fragCurrent)?void 0:o.url}`);const d=e.details===je.FRAG_GAP;d&&this.fragmentTracker.fragBuffered(i,!0);const m=e.errorAction,{action:v,retryCount:I=0,retryConfig:j}=m||{};if(m&&5===v&&j){var ne;this.resetStartWhenNotLoaded(null!=(ne=this.levelLastLoaded)?ne:i.level);const pe=xs(j,I);this.warn(`Fragment ${i.sn} of ${n} ${i.level} errored with ${e.details}, retrying loading ${I+1}/${j.maxNumRetry} in ${pe}ms`),m.resolved=!0,this.retryDate=self.performance.now()+pe,this.state="FRAG_LOADING_WAITING_RETRY"}else j&&m?(this.resetFragmentErrors(n),I<j.maxNumRetry?d||(m.resolved=!0):hn.warn(`${e.details} reached or exceeded max retry (${I})`)):this.state=2===m?.action?"WAITING_LEVEL":"ERROR";this.tickImmediate()}reduceLengthAndFlushBuffer(n){if("PARSING"===this.state||"PARSED"===this.state){const e=n.parent,i=this.getFwdBufferInfo(this.mediaBuffer,e),o=i&&i.len>.5;o&&this.reduceMaxBufferLength(i.len);const d=!o;return d&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${e} buffer`),n.frag&&(this.fragmentTracker.removeFragment(n.frag),this.nextLoadPosition=n.frag.start),this.resetLoadingState(),d}return!1}resetFragmentErrors(n){"audio"===n&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),"STOPPED"!==this.state&&(this.state="IDLE")}afterBufferFlushed(n,e,i){if(!n)return;const o=Lr.getBuffered(n);this.fragmentTracker.detectEvictedFragments(e,o,i),"ENDED"===this.state&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state="IDLE"}resetStartWhenNotLoaded(n){if(!this.loadedmetadata){this.startFragRequested=!1;const e=this.levels?this.levels[n].details:null;null!=e&&e.live?(this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(n){var e;this.warn(`The loading context changed while buffering fragment ${n.sn} of level ${n.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(null!=(e=this.levelLastLoaded)?e:n.level),this.resetLoadingState()}removeUnbufferedFrags(n=0){this.fragmentTracker.removeFragmentsInRange(n,1/0,this.playlistType,!1,!0)}updateLevelTiming(n,e,i,o){var d;const m=i.details;if(m){if(Object.keys(n.elementaryStreams).reduce((I,j)=>{const ne=n.elementaryStreams[j];if(ne){const pe=ne.endPTS-ne.startPTS;if(pe<=0)return this.warn(`Could not parse fragment ${n.sn} ${j} duration reliably (${pe})`),I||!1;const ze=o?0:fd(m,n,ne.startPTS,ne.endPTS,ne.startDTS,ne.endDTS);return this.hls.trigger(z.LEVEL_PTS_UPDATED,{details:m,level:i,drift:ze,type:j,frag:n,start:ne.startPTS,end:ne.endPTS}),!0}return I},!1))i.fragmentError=0;else if(null===(null==(d=this.transmuxer)?void 0:d.error)){const I=new Error(`Found no media in fragment ${n.sn} of level ${n.level} resetting transmuxer to fallback to playlist timing`);if(0===i.fragmentError&&(i.fragmentError++,n.gap=!0,this.fragmentTracker.removeFragment(n),this.fragmentTracker.fragBuffered(n,!0)),this.warn(I.message),this.hls.trigger(z.ERROR,{type:Tt.MEDIA_ERROR,details:je.FRAG_PARSING_ERROR,fatal:!1,error:I,frag:n,reason:`Found no media in msn ${n.sn} of level "${i.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state="PARSED",this.hls.trigger(z.FRAG_PARSED,{frag:n,part:e})}else this.warn("level.details undefined")}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(n){var e,i,o;"demuxerWorker"===n.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(null!=(e=null!=(i=this.levelLastLoaded)?i:null==(o=this.fragCurrent)?void 0:o.level)?e:0),this.resetLoadingState())}set state(n){const e=this._state;e!==n&&(this._state=n,this.log(`${e}->${n}`))}get state(){return this._state}}function pr(){return self.SourceBuffer||self.WebKitSourceBuffer}function Ha(r="",n=9e4){return{type:r,id:-1,pid:-1,inputTimeScale:n,sequenceNumber:-1,samples:[],dropped:0}}class Vu{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(n,e,i,o){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(n){this.initPTS=n,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(n,e){return!1}appendFrame(n,e,i){}demux(n,e){this.cachedData&&(n=zn(this.cachedData,n),this.cachedData=null);let d,i=nl(n,0),o=i?i.length:0;const m=this._audioTrack,v=this._id3Track,I=i?(r=>{const n=po(r);for(let e=0;e<n.length;e++){const i=n[e];if(Gr(i))return ol(i)}})(i):void 0,j=n.length;for((null===this.basePTS||0===this.frameIndex&&_i(I))&&(this.basePTS=jc(I,e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),i&&i.length>0&&v.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:"org.id3",duration:Number.POSITIVE_INFINITY});o<j;){if(this.canParse(n,o)){const ne=this.appendFrame(m,n,o);ne?(this.frameIndex++,this.lastPTS=ne.sample.pts,o+=ne.length,d=o):o=j}else ks(n,o)?(i=nl(n,o),v.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:"org.id3",duration:Number.POSITIVE_INFINITY}),o+=i.length,d=o):o++;if(o===j&&d!==j){const ne=Or(n,d);this.cachedData=this.cachedData?zn(this.cachedData,ne):ne}}return{audioTrack:m,videoTrack:Ha(),id3Track:v,textTrack:Ha()}}demuxSampleAes(n,e,i){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(n){const e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:Ha(),id3Track:this._id3Track,textTrack:Ha()}}destroy(){}}const jc=(r,n,e)=>_i(r)?90*r:9e4*n+(e?9e4*e.baseTime/e.timescale:0);function Jd(r,n){return 255===r[n]&&240==(246&r[n+1])}function gd(r,n){return 1&r[n+1]?7:9}function _d(r,n){return(3&r[n+3])<<11|r[n+4]<<3|(224&r[n+5])>>>5}function pc(r,n){return n+1<r.length&&Jd(r,n)}function th(r,n){if(pc(r,n)){const e=gd(r,n);if(n+e>=r.length)return!1;const i=_d(r,n);if(i<=e)return!1;const o=n+i;return o===r.length||pc(r,o)}return!1}function Gu(r,n,e,i,o){if(!r.samplerate){const d=function pd(r,n,e,i){let o,d,m,v;const I=navigator.userAgent.toLowerCase(),j=i,ne=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];o=1+((192&n[e+2])>>>6);const pe=(60&n[e+2])>>>2;if(!(pe>ne.length-1))return m=(1&n[e+2])<<2,m|=(192&n[e+3])>>>6,hn.log(`manifest codec:${i}, ADTS type:${o}, samplingIndex:${pe}`),/firefox/i.test(I)?pe>=6?(o=5,v=new Array(4),d=pe-3):(o=2,v=new Array(2),d=pe):-1!==I.indexOf("android")?(o=2,v=new Array(2),d=pe):(o=5,v=new Array(4),i&&(-1!==i.indexOf("mp4a.40.29")||-1!==i.indexOf("mp4a.40.5"))||!i&&pe>=6?d=pe-3:((i&&-1!==i.indexOf("mp4a.40.2")&&(pe>=6&&1===m||/vivaldi/i.test(I))||!i&&1===m)&&(o=2,v=new Array(2)),d=pe)),v[0]=o<<3,v[0]|=(14&pe)>>1,v[1]|=(1&pe)<<7,v[1]|=m<<3,5===o&&(v[1]|=(14&d)>>1,v[2]=(1&d)<<7,v[2]|=8,v[3]=0),{config:v,samplerate:ne[pe],channelCount:m,codec:"mp4a.40."+o,manifestCodec:j};r.trigger(z.ERROR,{type:Tt.MEDIA_ERROR,details:je.FRAG_PARSING_ERROR,fatal:!0,reason:`invalid ADTS sampling index:${pe}`})}(n,e,i,o);if(!d)return;r.config=d.config,r.samplerate=d.samplerate,r.channelCount=d.channelCount,r.codec=d.codec,r.manifestCodec=d.manifestCodec,hn.log(`parsed codec:${r.codec}, rate:${d.samplerate}, channels:${d.channelCount}`)}}function Hu(r){return 9216e4/r}function f_(r,n,e,i,o){const m=i+o*Hu(r.samplerate),v=function sE(r,n){const e=gd(r,n);if(n+e<=r.length){const i=_d(r,n)-e;if(i>0)return{headerLength:e,frameLength:i}}}(n,e);let I;if(v){const{frameLength:pe,headerLength:ze}=v,tt=ze+pe,mt=Math.max(0,e+tt-n.length);mt?(I=new Uint8Array(tt-ze),I.set(n.subarray(e+ze,n.length),0)):I=n.subarray(e+ze,e+tt);const Ct={unit:I,pts:m};return mt||r.samples.push(Ct),{sample:Ct,length:tt,missing:mt}}const j=n.length-e;return I=new Uint8Array(j),I.set(n.subarray(e,n.length),0),{sample:{unit:I,pts:m},length:j,missing:-1}}const h_=/\/emsg[-/]ID3/i;let nh=null;const lE=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],cE=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],m_=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],dE=[0,1,1,4];function p_(r,n,e,i,o){if(e+24>n.length)return;const d=zs(n,e);if(d&&e+d.frameLength<=n.length){const v=i+o*(9e4*d.samplesPerFrame/d.sampleRate),I={unit:n.subarray(e,e+d.frameLength),pts:v,dts:v};return r.config=[],r.channelCount=d.channelCount,r.samplerate=d.sampleRate,r.samples.push(I),{sample:I,length:d.frameLength,missing:0}}}function zs(r,n){const e=r[n+1]>>3&3,i=r[n+1]>>1&3,o=r[n+2]>>4&15,d=r[n+2]>>2&3;if(1!==e&&0!==o&&15!==o&&3!==d){const v=r[n+3]>>6,j=1e3*lE[14*(3===e?3-i:3===i?3:4)+o-1],pe=cE[3*(3===e?0:2===e?1:2)+d],ze=3===v?1:2,tt=m_[e][i],mt=dE[i],Ct=8*tt*mt,Ot=Math.floor(tt*j/pe+(r[n+2]>>1&1))*mt;if(null===nh){const sn=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);nh=sn?parseInt(sn[1]):0}return!!nh&&nh<=87&&2===i&&j>=224e3&&0===v&&(r[n+3]=128|r[n+3]),{sampleRate:pe,channelCount:ze,frameLength:Ot,samplesPerFrame:Ct}}}function Ku(r,n){return 255===r[n]&&224==(224&r[n+1])&&0!=(6&r[n+1])}function Rm(r,n){return n+1<r.length&&Ku(r,n)}function Fs(r,n){if(n+1<r.length&&Ku(r,n)){const i=zs(r,n);let o=4;null!=i&&i.frameLength&&(o=i.frameLength);const d=n+o;return d===r.length||Rm(r,d)}return!1}class Qd{constructor(n){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=n,this.bytesAvailable=n.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const n=this.data,e=this.bytesAvailable,i=n.byteLength-e,o=new Uint8Array(4),d=Math.min(4,e);if(0===d)throw new Error("no bytes available");o.set(n.subarray(i,i+d)),this.word=new DataView(o.buffer).getUint32(0),this.bitsAvailable=8*d,this.bytesAvailable-=d}skipBits(n){let e;n=Math.min(n,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>n?(this.word<<=n,this.bitsAvailable-=n):(e=(n-=this.bitsAvailable)>>3,n-=e<<3,this.bytesAvailable-=e,this.loadWord(),this.word<<=n,this.bitsAvailable-=n)}readBits(n){let e=Math.min(this.bitsAvailable,n);const i=this.word>>>32-e;if(n>32&&hn.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0)this.word<<=e;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return e=n-e,e>0&&this.bitsAvailable?i<<e|this.readBits(e):i}skipLZ(){let n;for(n=0;n<this.bitsAvailable;++n)if(this.word&2147483648>>>n)return this.word<<=n,this.bitsAvailable-=n,n;return this.loadWord(),n+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const n=this.skipLZ();return this.readBits(n+1)-1}readEG(){const n=this.readUEG();return 1&n?1+n>>>1:-1*(n>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(n){let o,e=8,i=8;for(let d=0;d<n;d++)0!==i&&(o=this.readEG(),i=(e+o+256)%256),e=0===i?e:i}readSPS(){let d,m,v,n=0,e=0,i=0,o=0;const I=this.readUByte.bind(this),j=this.readBits.bind(this),ne=this.readUEG.bind(this),pe=this.readBoolean.bind(this),ze=this.skipBits.bind(this),tt=this.skipEG.bind(this),mt=this.skipUEG.bind(this),Ct=this.skipScalingList.bind(this);I();const Ot=I();if(j(5),ze(3),I(),mt(),100===Ot||110===Ot||122===Ot||244===Ot||44===Ot||83===Ot||86===Ot||118===Ot||128===Ot){const Vn=ne();if(3===Vn&&ze(1),mt(),mt(),ze(1),pe())for(m=3!==Vn?8:12,v=0;v<m;v++)pe()&&Ct(v<6?16:64)}mt();const Yt=ne();if(0===Yt)ne();else if(1===Yt)for(ze(1),tt(),tt(),d=ne(),v=0;v<d;v++)tt();mt(),ze(1);const fn=ne(),sn=ne(),En=j(1);0===En&&ze(1),ze(1),pe()&&(n=ne(),e=ne(),i=ne(),o=ne());let Dn=[1,1];if(pe()&&pe())switch(I()){case 1:Dn=[1,1];break;case 2:Dn=[12,11];break;case 3:Dn=[10,11];break;case 4:Dn=[16,11];break;case 5:Dn=[40,33];break;case 6:Dn=[24,11];break;case 7:Dn=[20,11];break;case 8:Dn=[32,11];break;case 9:Dn=[80,33];break;case 10:Dn=[18,11];break;case 11:Dn=[15,11];break;case 12:Dn=[64,33];break;case 13:Dn=[160,99];break;case 14:Dn=[4,3];break;case 15:Dn=[3,2];break;case 16:Dn=[2,1];break;case 255:Dn=[I()<<8|I(),I()<<8|I()]}return{width:Math.ceil(16*(fn+1)-2*n-2*e),height:(2-En)*(sn+1)*16-(En?2:4)*(i+o),pixelRatio:Dn}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class g_{constructor(n,e,i){this.keyData=void 0,this.decrypter=void 0,this.keyData=i,this.decrypter=new Nn(e,{removePKCS7Padding:!1})}decryptBuffer(n){return this.decrypter.decrypt(n,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(n,e,i){const o=n[e].unit;if(o.length<=16)return;const d=o.subarray(16,o.length-o.length%16),m=d.buffer.slice(d.byteOffset,d.byteOffset+d.length);this.decryptBuffer(m).then(v=>{const I=new Uint8Array(v);o.set(I,16),this.decrypter.isSync()||this.decryptAacSamples(n,e+1,i)})}decryptAacSamples(n,e,i){for(;;e++){if(e>=n.length)return void i();if(!(n[e].unit.length<32||(this.decryptAacSample(n,e,i),this.decrypter.isSync())))return}}getAvcEncryptedData(n){const e=16*Math.floor((n.length-48)/160)+16,i=new Int8Array(e);let o=0;for(let d=32;d<n.length-16;d+=160,o+=16)i.set(n.subarray(d,d+16),o);return i}getAvcDecryptedUnit(n,e){const i=new Uint8Array(e);let o=0;for(let d=32;d<n.length-16;d+=160,o+=16)n.set(i.subarray(o,o+16),d);return n}decryptAvcSample(n,e,i,o,d){const m=ca(d.data),v=this.getAvcEncryptedData(m);this.decryptBuffer(v.buffer).then(I=>{d.data=this.getAvcDecryptedUnit(m,I),this.decrypter.isSync()||this.decryptAvcSamples(n,e,i+1,o)})}decryptAvcSamples(n,e,i,o){if(n instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,i=0){if(e>=n.length)return void o();const d=n[e].units;for(;!(i>=d.length);i++){const m=d[i];if(!(m.data.length<=48||1!==m.type&&5!==m.type||(this.decryptAvcSample(n,e,i,o,m),this.decrypter.isSync())))return}}}}const Ms=188;class Gc{constructor(n,e,i){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=n,this.config=e,this.typeSupported=i}static probe(n){const e=Gc.syncOffset(n);return e>0&&hn.warn(`MPEG2-TS detected but first sync word found @ offset ${e}`),-1!==e}static syncOffset(n){const e=n.length;let i=Math.min(940,n.length-Ms)+1,o=0;for(;o<i;){let d=!1,m=-1,v=0;for(let I=o;I<e;I+=Ms){if(71!==n[I]){if(v)return-1;break}if(v++,-1===m&&(m=I,0!==m&&(i=Math.min(m+18612,n.length-Ms)+1)),d||(d=0===Lm(n,I)),d&&v>1&&(0===m&&v>2||I+Ms>i))return m}o++}return-1}static createTrack(n,e){return{container:"video"===n||"audio"===n?"video/mp2t":void 0,type:n,id:kl[n],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===n?e:void 0}}resetInitSegment(n,e,i,o){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=Gc.createTrack("video"),this._audioTrack=Gc.createTrack("audio",o),this._id3Track=Gc.createTrack("id3"),this._txtTrack=Gc.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=e,this.videoCodec=i,this._duration=o}resetTimeStamp(){}resetContiguity(){const{_audioTrack:n,_avcTrack:e,_id3Track:i}=this;n&&(n.pesData=null),e&&(e.pesData=null),i&&(i.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}demux(n,e,i=!1,o=!1){let d;i||(this.sampleAes=null);const m=this._avcTrack,v=this._audioTrack,I=this._id3Track,j=this._txtTrack;let ne=m.pid,pe=m.pesData,ze=v.pid,tt=I.pid,mt=v.pesData,Ct=I.pesData,Ot=null,Yt=this.pmtParsed,fn=this._pmtId,sn=n.length;if(this.remainderData&&(sn=(n=zn(this.remainderData,n)).length,this.remainderData=null),sn<Ms&&!o)return this.remainderData=n,{audioTrack:v,videoTrack:m,id3Track:I,textTrack:j};const En=Math.max(0,Gc.syncOffset(n));sn-=(sn-En)%Ms,sn<n.byteLength&&!o&&(this.remainderData=new Uint8Array(n.buffer,sn,n.buffer.byteLength-sn));let Dn=0;for(let Rn=En;Rn<sn;Rn+=Ms)if(71===n[Rn]){const qn=!!(64&n[Rn+1]),ni=Lm(n,Rn);let yi;if((48&n[Rn+3])>>4>1){if(yi=Rn+5+n[Rn+4],yi===Rn+Ms)continue}else yi=Rn+4;switch(ni){case ne:qn&&(pe&&(d=vd(pe))&&this.parseAVCPES(m,j,d,!1),pe={data:[],size:0}),pe&&(pe.data.push(n.subarray(yi,Rn+Ms)),pe.size+=Rn+Ms-yi);break;case ze:if(qn){if(mt&&(d=vd(mt)))switch(v.segmentCodec){case"aac":this.parseAACPES(v,d);break;case"mp3":this.parseMPEGPES(v,d)}mt={data:[],size:0}}mt&&(mt.data.push(n.subarray(yi,Rn+Ms)),mt.size+=Rn+Ms-yi);break;case tt:qn&&(Ct&&(d=vd(Ct))&&this.parseID3PES(I,d),Ct={data:[],size:0}),Ct&&(Ct.data.push(n.subarray(yi,Rn+Ms)),Ct.size+=Rn+Ms-yi);break;case 0:qn&&(yi+=n[yi]+1),fn=this._pmtId=__(n,yi);break;case fn:{qn&&(yi+=n[yi]+1);const mi=uE(n,yi,this.typeSupported,i);ne=mi.avc,ne>0&&(m.pid=ne),ze=mi.audio,ze>0&&(v.pid=ze,v.segmentCodec=mi.segmentCodec),tt=mi.id3,tt>0&&(I.pid=tt),null!==Ot&&!Yt&&(hn.warn(`MPEG-TS PMT found at ${Rn} after unknown PID '${Ot}'. Backtracking to sync byte @${En} to parse all TS packets.`),Ot=null,Rn=En-188),Yt=this.pmtParsed=!0;break}case 17:case 8191:break;default:Ot=ni}}else Dn++;if(Dn>0){const Rn=new Error(`Found ${Dn} TS packet/s that do not start with 0x47`);this.observer.emit(z.ERROR,z.ERROR,{type:Tt.MEDIA_ERROR,details:je.FRAG_PARSING_ERROR,fatal:!1,error:Rn,reason:Rn.message})}m.pesData=pe,v.pesData=mt,I.pesData=Ct;const Vn={audioTrack:v,videoTrack:m,id3Track:I,textTrack:j};return o&&this.extractRemainingSamples(Vn),Vn}flush(){const{remainderData:n}=this;let e;return this.remainderData=null,e=n?this.demux(n,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e}extractRemainingSamples(n){const{audioTrack:e,videoTrack:i,id3Track:o,textTrack:d}=n,m=i.pesData,v=e.pesData,I=o.pesData;let j;if(m&&(j=vd(m))?(this.parseAVCPES(i,d,j,!0),i.pesData=null):i.pesData=m,v&&(j=vd(v))){switch(e.segmentCodec){case"aac":this.parseAACPES(e,j);break;case"mp3":this.parseMPEGPES(e,j)}e.pesData=null}else null!=v&&v.size&&hn.log("last AAC PES packet truncated,might overlap between fragments"),e.pesData=v;I&&(j=vd(I))?(this.parseID3PES(o,j),o.pesData=null):o.pesData=I}demuxSampleAes(n,e,i){const o=this.demux(n,i,!0,!this.config.progressive),d=this.sampleAes=new g_(this.observer,this.config,e);return this.decrypt(o,d)}decrypt(n,e){return new Promise(i=>{const{audioTrack:o,videoTrack:d}=n;o.samples&&"aac"===o.segmentCodec?e.decryptAacSamples(o.samples,0,()=>{d.samples?e.decryptAvcSamples(d.samples,0,0,()=>{i(n)}):i(n)}):d.samples&&e.decryptAvcSamples(d.samples,0,0,()=>{i(n)})})}destroy(){this._duration=0}parseAVCPES(n,e,i,o){const d=this.parseAVCNALu(n,i.data);let v,m=this.avcSample,I=!1;i.data=null,m&&d.length&&!n.audFound&&(Wu(m,n),m=this.avcSample=Yu(!1,i.pts,i.dts,"")),d.forEach(j=>{var ne;switch(j.type){case 1:{let ze=!1;v=!0;const tt=j.data;if(I&&tt.length>4){const mt=new Qd(tt).readSliceType();(2===mt||4===mt||7===mt||9===mt)&&(ze=!0)}var pe;ze&&null!=(pe=m)&&pe.frame&&!m.key&&(Wu(m,n),m=this.avcSample=null),m||(m=this.avcSample=Yu(!0,i.pts,i.dts,"")),m.frame=!0,m.key=ze;break}case 5:v=!0,null!=(ne=m)&&ne.frame&&!m.key&&(Wu(m,n),m=this.avcSample=null),m||(m=this.avcSample=Yu(!0,i.pts,i.dts,"")),m.key=!0,m.frame=!0;break;case 6:v=!0,So(j.data,1,i.pts,e.samples);break;case 7:if(v=!0,I=!0,!n.sps){const ze=j.data,mt=new Qd(ze).readSPS();n.width=mt.width,n.height=mt.height,n.pixelRatio=mt.pixelRatio,n.sps=[ze],n.duration=this._duration;const Ct=ze.subarray(1,4);let Ot="avc1.";for(let Yt=0;Yt<3;Yt++){let fn=Ct[Yt].toString(16);fn.length<2&&(fn="0"+fn),Ot+=fn}n.codec=Ot}break;case 8:v=!0,n.pps||(n.pps=[j.data]);break;case 9:v=!1,n.audFound=!0,m&&Wu(m,n),m=this.avcSample=Yu(!1,i.pts,i.dts,"");break;case 12:v=!0;break;default:v=!1,m&&(m.debug+="unknown NAL "+j.type+" ")}m&&v&&m.units.push(j)}),o&&m&&(Wu(m,n),this.avcSample=null)}getLastNalUnit(n){var e;let o,i=this.avcSample;if((!i||0===i.units.length)&&(i=n[n.length-1]),null!=(e=i)&&e.units){const d=i.units;o=d[d.length-1]}return o}parseAVCNALu(n,e){const i=e.byteLength;let o=n.naluState||0;const d=o,m=[];let I,j,ne,v=0,pe=-1,ze=0;for(-1===o&&(pe=0,ze=31&e[0],o=0,v=1);v<i;)if(I=e[v++],o)if(1!==o)if(I)if(1===I){if(pe>=0){const tt={data:e.subarray(pe,v-o-1),type:ze};m.push(tt)}else{const tt=this.getLastNalUnit(n.samples);if(tt&&(d&&v<=4-d&&tt.state&&(tt.data=tt.data.subarray(0,tt.data.byteLength-d)),j=v-o-1,j>0)){const mt=new Uint8Array(tt.data.byteLength+j);mt.set(tt.data,0),mt.set(e.subarray(0,j),tt.data.byteLength),tt.data=mt,tt.state=0}}v<i?(ne=31&e[v],pe=v,ze=ne,o=0):o=-1}else o=0;else o=3;else o=I?0:2;else o=I?0:1;if(pe>=0&&o>=0){const tt={data:e.subarray(pe,i),type:ze,state:o};m.push(tt)}if(0===m.length){const tt=this.getLastNalUnit(n.samples);if(tt){const mt=new Uint8Array(tt.data.byteLength+e.byteLength);mt.set(tt.data,0),mt.set(e,tt.data.byteLength),tt.data=mt}}return n.naluState=o,m}parseAACPES(n,e){let i=0;const o=this.aacOverFlow;let m,v,I,d=e.data;if(o){this.aacOverFlow=null;const pe=o.missing,ze=o.sample.unit.byteLength;if(-1===pe){const tt=new Uint8Array(ze+d.byteLength);tt.set(o.sample.unit,0),tt.set(d,ze),d=tt}else{const tt=ze-pe;o.sample.unit.set(d.subarray(0,pe),tt),n.samples.push(o.sample),i=o.missing}}for(m=i,v=d.length;m<v-1&&!pc(d,m);m++);if(m!==i){let pe;const ze=m<v-1;pe=ze?`AAC PES did not start with ADTS header,offset:${m}`:"No ADTS header found in AAC PES";const tt=new Error(pe);if(hn.warn(`parsing error: ${pe}`),this.observer.emit(z.ERROR,z.ERROR,{type:Tt.MEDIA_ERROR,details:je.FRAG_PARSING_ERROR,fatal:!1,levelRetry:ze,error:tt,reason:pe}),!ze)return}if(Gu(n,this.observer,d,m,this.audioCodec),void 0!==e.pts)I=e.pts;else{if(!o)return void hn.warn("[tsdemuxer]: AAC PES unknown PTS");{const pe=Hu(n.samplerate);I=o.sample.pts+pe}}let ne,j=0;for(;m<v;){if(ne=f_(n,d,m,I,j),m+=ne.length,ne.missing){this.aacOverFlow=ne;break}for(j++;m<v-1&&!pc(d,m);m++);}}parseMPEGPES(n,e){const i=e.data,o=i.length;let d=0,m=0;const v=e.pts;if(void 0!==v)for(;m<o;)if(Rm(i,m)){const I=p_(n,i,m,v,d);if(!I)break;m+=I.length,d++}else m++;else hn.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseID3PES(n,e){if(void 0===e.pts)return void hn.warn("[tsdemuxer]: ID3 PES unknown PTS");const i=zr({},e,{type:this._avcTrack?ls_emsg:"org.id3",duration:Number.POSITIVE_INFINITY});n.samples.push(i)}}function Yu(r,n,e,i){return{key:r,frame:!1,pts:n,dts:e,units:[],debug:i,length:0}}function Lm(r,n){return((31&r[n+1])<<8)+r[n+2]}function __(r,n){return(31&r[n+10])<<8|r[n+11]}function uE(r,n,e,i){const o={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},m=n+3+((15&r[n+1])<<8|r[n+2])-4;for(n+=12+((15&r[n+10])<<8|r[n+11]);n<m;){const I=Lm(r,n);switch(r[n]){case 207:if(!i){hn.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===o.audio&&(o.audio=I);break;case 21:-1===o.id3&&(o.id3=I);break;case 219:if(!i){hn.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===o.avc&&(o.avc=I);break;case 3:case 4:!0!==e.mpeg&&!0!==e.mp3?hn.log("MPEG audio found, not supported in this browser"):-1===o.audio&&(o.audio=I,o.segmentCodec="mp3");break;case 36:hn.warn("Unsupported HEVC stream type found")}n+=5+((15&r[n+3])<<8|r[n+4])}return o}function vd(r){let e,i,o,d,m,n=0;const v=r.data;if(!r||0===r.size)return null;for(;v[0].length<19&&v.length>1;){const j=new Uint8Array(v[0].length+v[1].length);j.set(v[0]),j.set(v[1],v[0].length),v[0]=j,v.splice(1,1)}if(e=v[0],(e[0]<<16)+(e[1]<<8)+e[2]===1){if(i=(e[4]<<8)+e[5],i&&i>r.size-6)return null;const j=e[7];192&j&&(d=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&j?(m=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,d-m>54e5&&(hn.warn(`${Math.round((d-m)/9e4)}s delta between PTS and DTS, align them`),d=m)):m=d),o=e[8];let ne=o+9;if(r.size<=ne)return null;r.size-=ne;const pe=new Uint8Array(r.size);for(let ze=0,tt=v.length;ze<tt;ze++){e=v[ze];let mt=e.byteLength;if(ne){if(ne>mt){ne-=mt;continue}e=e.subarray(ne),mt-=ne,ne=0}pe.set(e,n),n+=mt}return i&&(i-=o+3),{data:pe,pts:d,dts:m,len:i}}return null}function Wu(r,n){if(r.units.length&&r.frame){if(void 0===r.pts){const e=n.samples,i=e.length;if(!i)return void n.dropped++;{const o=e[i-1];r.pts=o.pts,r.dts=o.dts}}n.samples.push(r)}r.debug.length&&hn.log(r.pts+"/"+r.dts+":"+r.debug)}class ih{static getSilentFrame(n,e){if("mp4a.40.2"===n){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const zl=Math.pow(2,32)-1;let Xd=(()=>{class r{static init(){let e;for(e in r.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},r.types)r.types.hasOwnProperty(e)&&(r.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const i=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),o=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);r.HDLR_TYPES={video:i,audio:o};const d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),m=new Uint8Array([0,0,0,0,0,0,0,0]);r.STTS=r.STSC=r.STCO=m,r.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),r.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),r.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),r.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const v=new Uint8Array([105,115,111,109]),I=new Uint8Array([97,118,99,49]),j=new Uint8Array([0,0,0,1]);r.FTYP=r.box(r.types.ftyp,v,j,v,I),r.DINF=r.box(r.types.dinf,r.box(r.types.dref,d))}static box(e,...i){let o=8,d=i.length;const m=d;for(;d--;)o+=i[d].byteLength;const v=new Uint8Array(o);for(v[0]=o>>24&255,v[1]=o>>16&255,v[2]=o>>8&255,v[3]=255&o,v.set(e,4),d=0,o=8;d<m;d++)v.set(i[d],o),o+=i[d].byteLength;return v}static hdlr(e){return r.box(r.types.hdlr,r.HDLR_TYPES[e])}static mdat(e){return r.box(r.types.mdat,e)}static mdhd(e,i){i*=e;const o=Math.floor(i/(zl+1)),d=Math.floor(i%(zl+1));return r.box(r.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,o>>24,o>>16&255,o>>8&255,255&o,d>>24,d>>16&255,d>>8&255,255&d,85,196,0,0]))}static mdia(e){return r.box(r.types.mdia,r.mdhd(e.timescale,e.duration),r.hdlr(e.type),r.minf(e))}static mfhd(e){return r.box(r.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))}static minf(e){return r.box(r.types.minf,"audio"===e.type?r.box(r.types.smhd,r.SMHD):r.box(r.types.vmhd,r.VMHD),r.DINF,r.stbl(e))}static moof(e,i,o){return r.box(r.types.moof,r.mfhd(e),r.traf(o,i))}static moov(e){let i=e.length;const o=[];for(;i--;)o[i]=r.trak(e[i]);return r.box.apply(null,[r.types.moov,r.mvhd(e[0].timescale,e[0].duration)].concat(o).concat(r.mvex(e)))}static mvex(e){let i=e.length;const o=[];for(;i--;)o[i]=r.trex(e[i]);return r.box.apply(null,[r.types.mvex,...o])}static mvhd(e,i){i*=e;const o=Math.floor(i/(zl+1)),d=Math.floor(i%(zl+1)),m=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,o>>24,o>>16&255,o>>8&255,255&o,d>>24,d>>16&255,d>>8&255,255&d,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return r.box(r.types.mvhd,m)}static sdtp(e){const i=e.samples||[],o=new Uint8Array(4+i.length);let d,m;for(d=0;d<i.length;d++)m=i[d].flags,o[d+4]=m.dependsOn<<4|m.isDependedOn<<2|m.hasRedundancy;return r.box(r.types.sdtp,o)}static stbl(e){return r.box(r.types.stbl,r.stsd(e),r.box(r.types.stts,r.STTS),r.box(r.types.stsc,r.STSC),r.box(r.types.stsz,r.STSZ),r.box(r.types.stco,r.STCO))}static avc1(e){let d,m,v,i=[],o=[];for(d=0;d<e.sps.length;d++)m=e.sps[d],v=m.byteLength,i.push(v>>>8&255),i.push(255&v),i=i.concat(Array.prototype.slice.call(m));for(d=0;d<e.pps.length;d++)m=e.pps[d],v=m.byteLength,o.push(v>>>8&255),o.push(255&v),o=o.concat(Array.prototype.slice.call(m));const I=r.box(r.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|e.sps.length].concat(i).concat([e.pps.length]).concat(o))),j=e.width,ne=e.height,pe=e.pixelRatio[0],ze=e.pixelRatio[1];return r.box(r.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,j>>8&255,255&j,ne>>8&255,255&ne,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),I,r.box(r.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),r.box(r.types.pasp,new Uint8Array([pe>>24,pe>>16&255,pe>>8&255,255&pe,ze>>24,ze>>16&255,ze>>8&255,255&ze])))}static esds(e){const i=e.config.length;return new Uint8Array([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([i]).concat(e.config).concat([6,1,2]))}static mp4a(e){const i=e.samplerate;return r.box(r.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]),r.box(r.types.esds,r.esds(e)))}static mp3(e){const i=e.samplerate;return r.box(r.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]))}static stsd(e){return r.box(r.types.stsd,r.STSD,"audio"===e.type?"mp3"===e.segmentCodec&&"mp3"===e.codec?r.mp3(e):r.mp4a(e):r.avc1(e))}static tkhd(e){const i=e.id,o=e.duration*e.timescale,d=e.width,m=e.height,v=Math.floor(o/(zl+1)),I=Math.floor(o%(zl+1));return r.box(r.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,v>>24,v>>16&255,v>>8&255,255&v,I>>24,I>>16&255,I>>8&255,255&I,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,d>>8&255,255&d,0,0,m>>8&255,255&m,0,0]))}static traf(e,i){const o=r.sdtp(e),d=e.id,m=Math.floor(i/(zl+1)),v=Math.floor(i%(zl+1));return r.box(r.types.traf,r.box(r.types.tfhd,new Uint8Array([0,0,0,0,d>>24,d>>16&255,d>>8&255,255&d])),r.box(r.types.tfdt,new Uint8Array([1,0,0,0,m>>24,m>>16&255,m>>8&255,255&m,v>>24,v>>16&255,v>>8&255,255&v])),r.trun(e,o.length+16+20+8+16+8+8),o)}static trak(e){return e.duration=e.duration||4294967295,r.box(r.types.trak,r.tkhd(e),r.mdia(e))}static trex(e){const i=e.id;return r.box(r.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,i){const o=e.samples||[],d=o.length,m=12+16*d,v=new Uint8Array(m);let I,j,ne,pe,ze,tt;for(v.set(["video"===e.type?1:0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,255&d,(i+=8+m)>>>24&255,i>>>16&255,i>>>8&255,255&i],0),I=0;I<d;I++)j=o[I],ne=j.duration,pe=j.size,ze=j.flags,tt=j.cts,v.set([ne>>>24&255,ne>>>16&255,ne>>>8&255,255&ne,pe>>>24&255,pe>>>16&255,pe>>>8&255,255&pe,ze.isLeading<<2|ze.dependsOn,ze.isDependedOn<<6|ze.hasRedundancy<<4|ze.paddingValue<<1|ze.isNonSync,61440&ze.degradPrio,15&ze.degradPrio,tt>>>24&255,tt>>>16&255,tt>>>8&255,255&tt],12+16*I);return r.box(r.types.trun,v)}static initSegment(e){r.types||r.init();const i=r.moov(e),o=new Uint8Array(r.FTYP.byteLength+i.byteLength);return o.set(r.FTYP),o.set(i,r.FTYP.byteLength),o}}return r.types=void 0,r.HDLR_TYPES=void 0,r.STTS=void 0,r.STSC=void 0,r.STCO=void 0,r.STSZ=void 0,r.VMHD=void 0,r.SMHD=void 0,r.STSD=void 0,r.FTYP=void 0,r.DINF=void 0,r})();function km(r,n,e=1,i=!1){const o=r*n*e;return i?Math.round(o):o}function tu(r,n=!1){return km(r,1e3,1/9e4,n)}let ml,zu=null,Zu=null;class nu{constructor(n,e,i,o=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=n,this.config=e,this.typeSupported=i,this.ISGenerated=!1,null===zu){const m=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);zu=m?parseInt(m[1]):0}if(null===Zu){const d=navigator.userAgent.match(/Safari\/(\d+)/i);Zu=d?parseInt(d[1]):0}}destroy(){}resetTimeStamp(n){hn.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=n}resetNextTimestamp(){hn.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){hn.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}getVideoStartPts(n){let e=!1;const i=n.reduce((o,d)=>{const m=d.pts-o;return m<-4294967296?(e=!0,Ka(o,d.pts)):m>0?o:d.pts},n[0].pts);return e&&hn.debug("PTS rollover detected"),i}remux(n,e,i,o,d,m,v,I){let j,ne,pe,ze,tt,mt,Ct=d,Ot=d;const fn=e.pid>-1,sn=e.samples.length,En=n.samples.length>0,Dn=v&&sn>0||sn>1;if((!(n.pid>-1)||En)&&(!fn||Dn)||this.ISGenerated||v){this.ISGenerated||(pe=this.generateIS(n,e,d,m));const Rn=this.isVideoContiguous;let ni,qn=-1;if(Dn&&(qn=function mE(r){for(let n=0;n<r.length;n++)if(r[n].key)return n;return-1}(e.samples),!Rn&&this.config.forceKeyFrameOnDiscontinuity))if(mt=!0,qn>0){hn.warn(`[mp4-remuxer]: Dropped ${qn} out of ${sn} video samples due to a missing keyframe`);const kn=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(qn),e.dropped+=qn,Ot+=(e.samples[0].pts-kn)/e.inputTimeScale,ni=Ot}else-1===qn&&(hn.warn(`[mp4-remuxer]: No keyframe found out of ${sn} video samples`),mt=!1);if(this.ISGenerated){if(En&&Dn){const kn=this.getVideoStartPts(e.samples),mi=(Ka(n.samples[0].pts,kn)-kn)/e.inputTimeScale;Ct+=Math.max(0,mi),Ot+=Math.max(0,-mi)}if(En){if(n.samplerate||(hn.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),pe=this.generateIS(n,e,d,m)),ne=this.remuxAudio(n,Ct,this.isAudioContiguous,m,fn||Dn||"audio"===I?Ot:void 0),Dn){const kn=ne?ne.endPTS-ne.startPTS:0;e.inputTimeScale||(hn.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),pe=this.generateIS(n,e,d,m)),j=this.remuxVideo(e,Ot,Rn,kn)}}else Dn&&(j=this.remuxVideo(e,Ot,Rn,0));j&&(j.firstKeyFrame=qn,j.independent=-1!==qn,j.firstKeyFramePTS=ni)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(i.samples.length&&(tt=b_(i,d,this._initPTS,this._initDTS)),o.samples.length&&(ze=E_(o,d,this._initPTS))),{audio:ne,video:j,initSegment:pe,independent:mt,text:ze,id3:tt}}generateIS(n,e,i,o){const d=n.samples,m=e.samples,v=this.typeSupported,I={},j=this._initPTS;let ze,tt,mt,ne=!j||o,pe="audio/mp4";if(ne&&(ze=tt=1/0),n.config&&d.length&&("mp3"===(n.timescale=n.samplerate,n.segmentCodec)&&(v.mpeg?(pe="audio/mpeg",n.codec=""):v.mp3&&(n.codec="mp3")),I.audio={id:"audio",container:pe,codec:n.codec,initSegment:"mp3"===n.segmentCodec&&v.mpeg?new Uint8Array(0):Xd.initSegment([n]),metadata:{channelCount:n.channelCount}},ne&&(mt=n.inputTimeScale,j&&mt===j.timescale?ne=!1:ze=tt=d[0].pts-Math.round(mt*i))),e.sps&&e.pps&&m.length&&(e.timescale=e.inputTimeScale,I.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:Xd.initSegment([e]),metadata:{width:e.width,height:e.height}},ne))if(mt=e.inputTimeScale,j&&mt===j.timescale)ne=!1;else{const Ct=this.getVideoStartPts(m),Ot=Math.round(mt*i);tt=Math.min(tt,Ka(m[0].dts,Ct)-Ot),ze=Math.min(ze,Ct-Ot)}if(Object.keys(I).length)return this.ISGenerated=!0,ne?(this._initPTS={baseTime:ze,timescale:mt},this._initDTS={baseTime:tt,timescale:mt}):ze=mt=void 0,{tracks:I,initPTS:ze,timescale:mt}}remuxVideo(n,e,i,o){const d=n.inputTimeScale,m=n.samples,v=[],I=m.length,j=this._initPTS;let tt,mt,ne=this.nextAvcDts,pe=8,ze=this.videoSampleDuration,Ct=Number.POSITIVE_INFINITY,Ot=Number.NEGATIVE_INFINITY,Yt=!1;i&&null!==ne||(ne=e*d-(m[0].pts-Ka(m[0].dts,m[0].pts)));const fn=j.baseTime*d/j.timescale;for(let Qn=0;Qn<I;Qn++){const ai=m[Qn];ai.pts=Ka(ai.pts-fn,ne),ai.dts=Ka(ai.dts-fn,ne),ai.dts<m[Qn>0?Qn-1:Qn].dts&&(Yt=!0)}Yt&&m.sort(function(Qn,ai){return Qn.dts-ai.dts||Qn.pts-ai.pts}),tt=m[0].dts,mt=m[m.length-1].dts;const sn=mt-tt,En=sn?Math.round(sn/(I-1)):ze||n.inputTimeScale/30;if(i){const Qn=tt-ne,ai=Qn>En,Wi=Qn<-1;if((ai||Wi)&&(hn.warn(ai?`AVC: ${tu(Qn,!0)} ms (${Qn}dts) hole between fragments detected, filling it`:`AVC: ${tu(-Qn,!0)} ms (${Qn}dts) overlapping between fragments detected`),!Wi||ne>=m[0].pts)){tt=ne;const Er=m[0].pts-Qn;m[0].dts=tt,m[0].pts=Er,hn.log(`Video: First PTS/DTS adjusted: ${tu(Er,!0)}/${tu(tt,!0)}, delta: ${tu(Qn,!0)} ms`)}}tt=Math.max(0,tt);let Dn=0,Vn=0;for(let Qn=0;Qn<I;Qn++){const ai=m[Qn],Wi=ai.units,Er=Wi.length;let qi=0;for(let Vr=0;Vr<Er;Vr++)qi+=Wi[Vr].data.length;Vn+=qi,Dn+=Er,ai.length=qi,ai.dts=Math.max(ai.dts,tt),Ct=Math.min(ai.pts,Ct),Ot=Math.max(ai.pts,Ot)}mt=m[I-1].dts;const Rn=Vn+4*Dn+8;let qn;try{qn=new Uint8Array(Rn)}catch(Qn){return void this.observer.emit(z.ERROR,z.ERROR,{type:Tt.MUX_ERROR,details:je.REMUX_ALLOC_ERROR,fatal:!1,error:Qn,bytes:Rn,reason:`fail allocating video mdat ${Rn}`})}const ni=new DataView(qn.buffer);ni.setUint32(0,Rn),qn.set(Xd.types.mdat,4);let kn=!1,yi=Number.POSITIVE_INFINITY,mi=Number.POSITIVE_INFINITY,Yi=Number.NEGATIVE_INFINITY,yo=Number.NEGATIVE_INFINITY;for(let Qn=0;Qn<I;Qn++){const ai=m[Qn],Wi=ai.units;let qi,Er=0;for(let ar=0,Bo=Wi.length;ar<Bo;ar++){const us=Wi[ar],to=us.data,Is=us.data.byteLength;ni.setUint32(pe,Is),pe+=4,qn.set(to,pe),pe+=Is,Er+=4+Is}if(Qn<I-1)ze=m[Qn+1].dts-ai.dts,qi=m[Qn+1].pts-ai.pts;else{const ar=this.config,Bo=Qn>0?ai.dts-m[Qn-1].dts:En;if(qi=Qn>0?ai.pts-m[Qn-1].pts:En,ar.stretchShortVideoTrack&&null!==this.nextAudioPts){const us=Math.floor(ar.maxBufferHole*d),to=(o?Ct+o*d:this.nextAudioPts)-ai.pts;to>us?(ze=to-Bo,ze<0?ze=Bo:kn=!0,hn.log(`[mp4-remuxer]: It is approximately ${to/90} ms to the next segment; using duration ${ze/90} ms for the last video frame.`)):ze=Bo}else ze=Bo}const Vr=Math.round(ai.pts-ai.dts);yi=Math.min(yi,ze),Yi=Math.max(Yi,ze),mi=Math.min(mi,qi),yo=Math.max(yo,qi),v.push(new T_(ai.key,ze,Er,Vr))}if(v.length)if(zu){if(zu<70){const Qn=v[0].flags;Qn.dependsOn=2,Qn.isNonSync=0}}else if(Zu&&yo-mi<Yi-yi&&En/Yi<.025&&0===v[0].cts){hn.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let Qn=tt;for(let ai=0,Wi=v.length;ai<Wi;ai++){const Er=Qn+v[ai].duration;v[ai].duration=ai<Wi-1?Er+v[ai+1].cts-(Qn+v[ai].cts):ai?v[ai-1].duration:En,v[ai].cts=0,Qn=Er}}ze=kn||!ze?En:ze,this.nextAvcDts=ne=mt+ze,this.videoSampleDuration=ze,this.isVideoContiguous=!0;const ui={data1:Xd.moof(n.sequenceNumber++,tt,zr({},n,{samples:v})),data2:qn,startPTS:Ct/d,endPTS:(Ot+ze)/d,startDTS:tt/d,endDTS:ne/d,type:"video",hasAudio:!1,hasVideo:!0,nb:v.length,dropped:n.dropped};return n.samples=[],n.dropped=0,ui}remuxAudio(n,e,i,o,d){const m=n.inputTimeScale,I=m/(n.samplerate?n.samplerate:m),j="aac"===n.segmentCodec?1024:1152,ne=j*I,pe=this._initPTS,ze="mp3"===n.segmentCodec&&this.typeSupported.mpeg,tt=[],mt=void 0!==d;let Ct=n.samples,Ot=ze?0:8,Yt=this.nextAudioPts||-1;const fn=e*m,sn=pe.baseTime*m/pe.timescale;if(this.isAudioContiguous=i=i||Ct.length&&Yt>0&&(o&&Math.abs(fn-Yt)<9e3||Math.abs(Ka(Ct[0].pts-sn,fn)-Yt)<20*ne),Ct.forEach(function(ri){ri.pts=Ka(ri.pts-sn,fn)}),!i||Yt<0){if(Ct=Ct.filter(ri=>ri.pts>=0),!Ct.length)return;Yt=0===d?0:o&&!mt?Math.max(0,fn):Ct[0].pts}if("aac"===n.segmentCodec){const ri=this.config.maxAudioFramesDrift;for(let ui=0,Qn=Yt;ui<Ct.length;ui++){const ai=Ct[ui],Wi=ai.pts,Er=Wi-Qn,qi=Math.abs(1e3*Er/m);if(Er<=-ri*ne&&mt)0===ui&&(hn.warn(`Audio frame @ ${(Wi/m).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*Er/m)} ms.`),this.nextAudioPts=Yt=Qn=Wi);else if(Er>=ri*ne&&qi<1e4&&mt){let Vr=Math.round(Er/ne);Qn=Wi-Vr*ne,Qn<0&&(Vr--,Qn+=ne),0===ui&&(this.nextAudioPts=Yt=Qn),hn.warn(`[mp4-remuxer]: Injecting ${Vr} audio frame @ ${(Qn/m).toFixed(3)}s due to ${Math.round(1e3*Er/m)} ms gap.`);for(let ar=0;ar<Vr;ar++){const Bo=Math.max(Qn,0);let us=ih.getSilentFrame(n.manifestCodec||n.codec,n.channelCount);us||(hn.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),us=ai.unit.subarray()),Ct.splice(ui,0,{unit:us,pts:Bo}),Qn+=ne,ui++}}ai.pts=Qn,Qn+=ne}}let Vn,En=null,Dn=null,Rn=0,qn=Ct.length;for(;qn--;)Rn+=Ct[qn].unit.byteLength;for(let ri=0,ui=Ct.length;ri<ui;ri++){const Qn=Ct[ri],ai=Qn.unit;let Wi=Qn.pts;if(null!==Dn)tt[ri-1].duration=Math.round((Wi-Dn)/I);else{if(i&&"aac"===n.segmentCodec&&(Wi=Yt),En=Wi,!(Rn>0))return;Rn+=Ot;try{Vn=new Uint8Array(Rn)}catch(qi){return void this.observer.emit(z.ERROR,z.ERROR,{type:Tt.MUX_ERROR,details:je.REMUX_ALLOC_ERROR,fatal:!1,error:qi,bytes:Rn,reason:`fail allocating audio mdat ${Rn}`})}ze||(new DataView(Vn.buffer).setUint32(0,Rn),Vn.set(Xd.types.mdat,4))}Vn.set(ai,Ot);const Er=ai.byteLength;Ot+=Er,tt.push(new T_(!0,j,Er,0)),Dn=Wi}const ni=tt.length;if(!ni)return;this.nextAudioPts=Yt=Dn+I*tt[tt.length-1].duration;const yi=ze?new Uint8Array(0):Xd.moof(n.sequenceNumber++,En/I,zr({},n,{samples:tt}));n.samples=[];const mi=En/m,Yi=Yt/m,Fr={data1:yi,data2:Vn,startPTS:mi,endPTS:Yi,startDTS:mi,endDTS:Yi,type:"audio",hasAudio:!0,hasVideo:!1,nb:ni};return this.isAudioContiguous=!0,Fr}remuxEmptyAudio(n,e,i,o){const d=n.inputTimeScale,I=this.nextAudioPts,j=this._initDTS,ne=9e4*j.baseTime/j.timescale,pe=(null!==I?I:o.startDTS*d)+ne,tt=d/(n.samplerate?n.samplerate:d)*1024,mt=Math.ceil((o.endDTS*d+ne-pe)/tt),Ct=ih.getSilentFrame(n.manifestCodec||n.codec,n.channelCount);if(hn.warn("[mp4-remuxer]: remux empty Audio"),!Ct)return void hn.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const Ot=[];for(let Yt=0;Yt<mt;Yt++){const fn=pe+Yt*tt;Ot.push({unit:Ct,pts:fn,dts:fn})}return n.samples=Ot,this.remuxAudio(n,e,i,!1)}}function Ka(r,n){let e;if(null===n)return r;for(e=n<r?-8589934592:8589934592;Math.abs(r-n)>4294967296;)r+=e;return r}function b_(r,n,e,i){const o=r.samples.length;if(!o)return;const d=r.inputTimeScale;for(let v=0;v<o;v++){const I=r.samples[v];I.pts=Ka(I.pts-e.baseTime*d/e.timescale,n*d)/d,I.dts=Ka(I.dts-i.baseTime*d/i.timescale,n*d)/d}const m=r.samples;return r.samples=[],{samples:m}}function E_(r,n,e){const i=r.samples.length;if(!i)return;const o=r.inputTimeScale;for(let m=0;m<i;m++){const v=r.samples[m];v.pts=Ka(v.pts-e.baseTime*o/e.timescale,n*o)/o}r.samples.sort((m,v)=>m.pts-v.pts);const d=r.samples;return r.samples=[],{samples:d}}class T_{constructor(n,e,i,o){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=e,this.size=i,this.cts=o,this.flags=new pE(n)}}class pE{constructor(n){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=n?2:1,this.isNonSync=n?0:1}}function Bm(r,n){const e=r?.codec;return e&&e.length>4?e:"hvc1"===e||"hev1"===e?"hvc1.1.6.L120.90":"av01"===e?"av01.0.04M.08":"avc1"===e||"video"===n?"avc1.42e01e":"mp4a.40.5"}try{ml=self.performance.now.bind(self.performance)}catch{hn.debug("Unable to use Performance API on this environment"),ml=typeof self<"u"&&self.Date.now}const Um=[{demux:class Pm{constructor(n,e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=e}resetTimeStamp(){}resetInitSegment(n,e,i,o){const d=this.videoTrack=Ha("video",1),m=this.audioTrack=Ha("audio",1),v=this.txtTrack=Ha("text",1);if(this.id3Track=Ha("id3",1),this.timeOffset=0,null==n||!n.byteLength)return;const I=Ee(n);if(I.video){const{id:j,timescale:ne,codec:pe}=I.video;d.id=j,d.timescale=v.timescale=ne,d.codec=pe}if(I.audio){const{id:j,timescale:ne,codec:pe}=I.audio;m.id=j,m.timescale=ne,m.codec=pe}v.id=kl.text,d.sampleDuration=0,d.duration=m.duration=o}resetContiguity(){this.remainderData=null}static probe(n){return Vi(n=n.length>16384?n.subarray(0,16384):n,["moof"]).length>0}demux(n,e){this.timeOffset=e;let i=n;const o=this.videoTrack,d=this.txtTrack;if(this.config.progressive){this.remainderData&&(i=zn(this.remainderData,n));const v=function Sn(r){const n={valid:null,remainder:null},e=Vi(r,["moof"]);if(!e)return n;if(e.length<2)return n.remainder=r,n;const i=e[e.length-1];return n.valid=Or(r,0,i.byteOffset-8),n.remainder=Or(r,i.byteOffset-8),n}(i);this.remainderData=v.remainder,o.samples=v.valid||new Uint8Array}else o.samples=i;const m=this.extractID3Track(o,e);return d.samples=Ei(e,o),{videoTrack:o,audioTrack:this.audioTrack,id3Track:m,textTrack:this.txtTrack}}flush(){const n=this.timeOffset,e=this.videoTrack,i=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;const o=this.extractID3Track(e,this.timeOffset);return i.samples=Ei(n,e),{videoTrack:e,audioTrack:Ha(),id3Track:o,textTrack:Ha()}}extractID3Track(n,e){const i=this.id3Track;if(n.samples.length){const o=Vi(n.samples,["emsg"]);o&&o.forEach(d=>{const m=function da(r){const n=r[0];let e="",i="",o=0,d=0,m=0,v=0,I=0,j=0;if(0===n){for(;"\0"!==To(r.subarray(j,j+1));)e+=To(r.subarray(j,j+1)),j+=1;for(e+=To(r.subarray(j,j+1)),j+=1;"\0"!==To(r.subarray(j,j+1));)i+=To(r.subarray(j,j+1)),j+=1;i+=To(r.subarray(j,j+1)),j+=1,o=Bi(r,12),d=Bi(r,16),v=Bi(r,20),I=Bi(r,24),j=28}else if(1===n){j+=4,o=Bi(r,j),j+=4;const pe=Bi(r,j);j+=4;const ze=Bi(r,j);for(j+=4,m=2**32*pe+ze,Number.isSafeInteger(m)||(m=Number.MAX_SAFE_INTEGER,hn.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),v=Bi(r,j),j+=4,I=Bi(r,j),j+=4;"\0"!==To(r.subarray(j,j+1));)e+=To(r.subarray(j,j+1)),j+=1;for(e+=To(r.subarray(j,j+1)),j+=1;"\0"!==To(r.subarray(j,j+1));)i+=To(r.subarray(j,j+1)),j+=1;i+=To(r.subarray(j,j+1)),j+=1}return{schemeIdUri:e,value:i,timeScale:o,presentationTime:m,presentationTimeDelta:d,eventDuration:v,id:I,payload:r.subarray(j,r.byteLength)}}(d);if(h_.test(m.schemeIdUri)){const v=_i(m.presentationTime)?m.presentationTime/m.timeScale:e+m.presentationTimeDelta/m.timeScale;let I=4294967295===m.eventDuration?Number.POSITIVE_INFINITY:m.eventDuration/m.timeScale;I<=.001&&(I=Number.POSITIVE_INFINITY);const j=m.payload;i.samples.push({data:j,len:j.byteLength,dts:v,pts:v,type:ls_emsg,duration:I})}})}return i}demuxSampleAes(n,e,i){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class S_{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(n){this.initPTS=n,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(n,e,i,o){this.audioCodec=e,this.videoCodec=i,this.generateInitSegment(function He(r,n){if(!r||!n)return r;const e=n.keyId;return e&&n.isCommonEncryption&&Vi(r,["moov","trak"]).forEach(o=>{const m=Vi(o,["mdia","minf","stbl","stsd"])[0].subarray(8);let v=Vi(m,["enca"]);const I=v.length>0;I||(v=Vi(m,["encv"])),v.forEach(j=>{Vi(j.subarray(I?28:78),["sinf"]).forEach(ze=>{const tt=de(ze);if(tt){const mt=tt.subarray(8,24);mt.some(Ct=>0!==Ct)||(hn.log(`[eme] Patching keyId in 'enc${I?"a":"v"}>sinf>>tenc' box: ${Ro_hexDump(mt)} -> ${Ro_hexDump(e)}`),tt.set(e,8))}})})}),r}(n,o)),this.emitInitSegment=!0}generateInitSegment(n){let{audioCodec:e,videoCodec:i}=this;if(null==n||!n.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const o=this.initData=Ee(n);e||(e=Bm(o.audio,"audio")),i||(i=Bm(o.video,"video"));const d={};o.audio&&o.video?d.audiovideo={container:"video/mp4",codec:e+","+i,initSegment:n,id:"main"}:o.audio?d.audio={container:"audio/mp4",codec:e,initSegment:n,id:"audio"}:o.video?d.video={container:"video/mp4",codec:i,initSegment:n,id:"main"}:hn.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=d}remux(n,e,i,o,d,m){var v,I;let{initPTS:j,lastEndTime:ne}=this;const pe={audio:void 0,video:void 0,text:o,id3:i,initSegment:void 0};_i(ne)||(ne=this.lastEndTime=d||0);const ze=e.samples;if(null==ze||!ze.length)return pe;const tt={initPTS:void 0,timescale:1};let mt=this.initData;if(null!=(v=mt)&&v.length||(this.generateInitSegment(ze),mt=this.initData),null==(I=mt)||!I.length)return hn.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),pe;this.emitInitSegment&&(tt.tracks=this.initTracks,this.emitInitSegment=!1);const Ct=function yt(r,n){let e=0,i=0,o=0;const d=Vi(r,["moof","traf"]);for(let m=0;m<d.length;m++){const v=d[m],I=Vi(v,["tfhd"])[0],ne=n[Bi(I,4)];if(!ne)continue;const pe=ne.default,ze=Bi(I,0)|pe?.flags;let tt=pe?.duration;8&ze&&(tt=Bi(I,2&ze?12:8));const mt=ne.timescale||9e4,Ct=Vi(v,["trun"]);for(let Ot=0;Ot<Ct.length;Ot++)e=Ut(Ct[Ot]),!e&&tt&&(e=tt*Bi(Ct[Ot],4)),"video"===ne.type?i+=e/mt:"audio"===ne.type&&(o+=e/mt)}if(0===i&&0===o){let m=0;const v=Vi(r,["sidx"]);for(let I=0;I<v.length;I++){const j=la(v[I]);null!=j&&j.references&&(m+=j.references.reduce((ne,pe)=>ne+pe.info.duration||0,0))}return m}return i||o}(ze,mt),Ot=function Be(r,n){return Vi(n,["moof","traf"]).reduce((e,i)=>{const o=Vi(i,["tfdt"])[0],d=o[0],m=Vi(i,["tfhd"]).reduce((v,I)=>{const j=Bi(I,4),ne=r[j];if(ne){let pe=Bi(o,4);if(1===d){if(pe===Sa)return hn.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),v;pe*=Sa+1,pe+=Bi(o,8)}const tt=pe/(ne.timescale||9e4);if(isFinite(tt)&&(null===v||tt<v))return tt}return v},null);return null!==m&&isFinite(m)&&(null===e||m<e)?m:e},null)}(mt,ze),Yt=null===Ot?d:Ot;(function Fm(r,n,e,i){if(null===r)return!0;const o=Math.max(i,1);return Math.abs(n-r.baseTime/r.timescale-e)>o}(j,Yt,d,Ct)||tt.timescale!==j.timescale&&m)&&(tt.initPTS=Yt-d,j&&1===j.timescale&&hn.warn("Adjusting initPTS by "+(tt.initPTS-j.baseTime)),this.initPTS=j={baseTime:tt.initPTS,timescale:1});const fn=n?Yt-j.baseTime/j.timescale:ne,sn=fn+Ct;(function Ft(r,n,e){Vi(n,["moof","traf"]).forEach(i=>{Vi(i,["tfhd"]).forEach(o=>{const d=Bi(o,4),m=r[d];if(!m)return;const v=m.timescale||9e4;Vi(i,["tfdt"]).forEach(I=>{const j=I[0];let ne=Bi(I,4);if(0===j)ne-=e*v,ne=Math.max(ne,0),Nc(I,4,ne);else{ne*=Math.pow(2,32),ne+=Bi(I,8),ne-=e*v,ne=Math.max(ne,0);const pe=Math.floor(ne/(Sa+1)),ze=Math.floor(ne%(Sa+1));Nc(I,4,pe),Nc(I,8,ze)}})})})})(mt,ze,j.baseTime/j.timescale),Ct>0?this.lastEndTime=sn:(hn.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const En=!!mt.audio,Dn=!!mt.video;let Vn="";En&&(Vn+="audio"),Dn&&(Vn+="video");const Rn={data1:ze,startPTS:fn,startDTS:fn,endPTS:sn,endDTS:sn,type:Vn,hasAudio:En,hasVideo:Dn,nb:1,dropped:0};return pe.audio="audio"===Rn.type?Rn:void 0,pe.video="audio"!==Rn.type?Rn:void 0,pe.initSegment=tt,pe.id3=b_(i,d,j,j),o.samples.length&&(pe.text=E_(o,d,j)),pe}}},{demux:Gc,remux:nu},{demux:class aE extends Vu{constructor(n,e){super(),this.observer=void 0,this.config=void 0,this.observer=n,this.config=e}resetInitSegment(n,e,i,o){super.resetInitSegment(n,e,i,o),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:e,duration:o,inputTimeScale:9e4,dropped:0}}static probe(n){if(!n)return!1;let i=(nl(n,0)||[]).length;for(let o=n.length;i<o;i++)if(th(n,i))return hn.log("ADTS sync word found !"),!0;return!1}canParse(n,e){return function eh(r,n){return function Vc(r,n){return n+5<r.length}(r,n)&&Jd(r,n)&&_d(r,n)<=r.length-n}(n,e)}appendFrame(n,e,i){Gu(n,this.observer,e,i,n.manifestCodec);const o=f_(n,e,i,this.basePTS,this.frameIndex);if(o&&0===o.missing)return o}},remux:nu},{demux:class fE extends Vu{resetInitSegment(n,e,i,o){super.resetInitSegment(n,e,i,o),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:o,inputTimeScale:9e4,dropped:0}}static probe(n){if(!n)return!1;let i=(nl(n,0)||[]).length;for(let o=n.length;i<o;i++)if(Fs(n,i))return hn.log("MPEG Audio sync word found !"),!0;return!1}canParse(n,e){return function Nm(r,n){return Ku(r,n)&&4<=r.length-n}(n,e)}appendFrame(n,e,i){if(null!==this.basePTS)return p_(n,e,i,this.basePTS,this.frameIndex)}},remux:nu}];class C_{constructor(n,e,i,o,d){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=n,this.typeSupported=e,this.config=i,this.vendor=o,this.id=d}configure(n){this.transmuxConfig=n,this.decrypter&&this.decrypter.reset()}push(n,e,i,o){const d=i.transmuxing;d.executeStart=ml();let m=new Uint8Array(n);const{currentTransmuxState:v,transmuxConfig:I}=this;o&&(this.currentTransmuxState=o);const{contiguous:j,discontinuity:ne,trackSwitch:pe,accurateTimeOffset:ze,timeOffset:tt,initSegmentChange:mt}=o||v,{audioCodec:Ct,videoCodec:Ot,defaultInitPts:Yt,duration:fn,initSegmentData:sn}=I,En=function jm(r,n){let e=null;return r.byteLength>0&&null!=n&&null!=n.key&&null!==n.iv&&null!=n.method&&(e=n),e}(m,e);if(En&&"AES-128"===En.method){const qn=this.getDecrypter();if(!qn.isSync())return this.decryptionPromise=qn.webCryptoDecrypt(m,En.key.buffer,En.iv.buffer).then(ni=>{const kn=this.push(ni,null,i);return this.decryptionPromise=null,kn}),this.decryptionPromise;{let ni=qn.softwareDecrypt(m,En.key.buffer,En.iv.buffer);if(i.part>-1&&(ni=qn.flush()),!ni)return d.executeEnd=ml(),oh(i);m=new Uint8Array(ni)}}const Dn=this.needsProbing(ne,pe);if(Dn){const qn=this.configureTransmuxer(m);if(qn)return hn.warn(`[transmuxer] ${qn.message}`),this.observer.emit(z.ERROR,z.ERROR,{type:Tt.MEDIA_ERROR,details:je.FRAG_PARSING_ERROR,fatal:!1,error:qn,reason:qn.message}),d.executeEnd=ml(),oh(i)}(ne||pe||mt||Dn)&&this.resetInitSegment(sn,Ct,Ot,fn,e),(ne||mt||Dn)&&this.resetInitialTimestamp(Yt),j||this.resetContiguity();const Vn=this.transmux(m,En,tt,ze,i),Rn=this.currentTransmuxState;return Rn.contiguous=!0,Rn.discontinuity=!1,Rn.trackSwitch=!1,d.executeEnd=ml(),Vn}flush(n){const e=n.transmuxing;e.executeStart=ml();const{decrypter:i,currentTransmuxState:o,decryptionPromise:d}=this;if(d)return d.then(()=>this.flush(n));const m=[],{timeOffset:v}=o;if(i){const pe=i.flush();pe&&m.push(this.push(pe,null,n))}const{demuxer:I,remuxer:j}=this;if(!I||!j)return e.executeEnd=ml(),[oh(n)];const ne=I.flush(v);return Zl(ne)?ne.then(pe=>(this.flushRemux(m,pe,n),m)):(this.flushRemux(m,ne,n),m)}flushRemux(n,e,i){const{audioTrack:o,videoTrack:d,id3Track:m,textTrack:v}=e,{accurateTimeOffset:I,timeOffset:j}=this.currentTransmuxState;hn.log(`[transmuxer.ts]: Flushed fragment ${i.sn}${i.part>-1?" p: "+i.part:""} of level ${i.level}`);const ne=this.remuxer.remux(o,d,m,v,j,I,!0,this.id);n.push({remuxResult:ne,chunkMeta:i}),i.transmuxing.executeEnd=ml()}resetInitialTimestamp(n){const{demuxer:e,remuxer:i}=this;!e||!i||(e.resetTimeStamp(n),i.resetTimeStamp(n))}resetContiguity(){const{demuxer:n,remuxer:e}=this;!n||!e||(n.resetContiguity(),e.resetNextTimestamp())}resetInitSegment(n,e,i,o,d){const{demuxer:m,remuxer:v}=this;!m||!v||(m.resetInitSegment(n,e,i,o),v.resetInitSegment(n,e,i,d))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(n,e,i,o,d){let m;return m=e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(n,e,i,o,d):this.transmuxUnencrypted(n,i,o,d),m}transmuxUnencrypted(n,e,i,o){const{audioTrack:d,videoTrack:m,id3Track:v,textTrack:I}=this.demuxer.demux(n,e,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(d,m,v,I,e,i,!1,this.id),chunkMeta:o}}transmuxSampleAes(n,e,i,o,d){return this.demuxer.demuxSampleAes(n,e,i).then(m=>({remuxResult:this.remuxer.remux(m.audioTrack,m.videoTrack,m.id3Track,m.textTrack,i,o,!1,this.id),chunkMeta:d}))}configureTransmuxer(n){const{config:e,observer:i,typeSupported:o,vendor:d}=this;let m;for(let pe=0,ze=Um.length;pe<ze;pe++)if(Um[pe].demux.probe(n)){m=Um[pe];break}if(!m)return new Error("Failed to find demuxer by probing fragment data");const v=this.demuxer,I=this.remuxer,j=m.remux,ne=m.demux;(!I||!(I instanceof j))&&(this.remuxer=new j(i,e,o,d)),(!v||!(v instanceof ne))&&(this.demuxer=new ne(i,e,o),this.probe=ne.probe)}needsProbing(n,e){return!this.demuxer||!this.remuxer||n||e}getDecrypter(){let n=this.decrypter;return n||(n=this.decrypter=new Nn(this.config)),n}}const oh=r=>({remuxResult:{},chunkMeta:r});function Zl(r){return"then"in r&&r.then instanceof Function}class D_{constructor(n,e,i,o,d){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=n,this.videoCodec=e,this.initSegmentData=i,this.duration=o,this.defaultInitPts=d||null}}class x_{constructor(n,e,i,o,d,m){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=n,this.contiguous=e,this.accurateTimeOffset=i,this.trackSwitch=o,this.timeOffset=d,this.initSegmentChange=m}}var M_={exports:{}};!function(r){var n=Object.prototype.hasOwnProperty,e="~";function i(){}function o(I,j,ne){this.fn=I,this.context=j,this.once=ne||!1}function d(I,j,ne,pe,ze){if("function"!=typeof ne)throw new TypeError("The listener must be a function");var tt=new o(ne,pe||I,ze),mt=e?e+j:j;return I._events[mt]?I._events[mt].fn?I._events[mt]=[I._events[mt],tt]:I._events[mt].push(tt):(I._events[mt]=tt,I._eventsCount++),I}function m(I,j){0==--I._eventsCount?I._events=new i:delete I._events[j]}function v(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(e=!1)),v.prototype.eventNames=function(){var ne,pe,j=[];if(0===this._eventsCount)return j;for(pe in ne=this._events)n.call(ne,pe)&&j.push(e?pe.slice(1):pe);return Object.getOwnPropertySymbols?j.concat(Object.getOwnPropertySymbols(ne)):j},v.prototype.listeners=function(j){var pe=this._events[e?e+j:j];if(!pe)return[];if(pe.fn)return[pe.fn];for(var ze=0,tt=pe.length,mt=new Array(tt);ze<tt;ze++)mt[ze]=pe[ze].fn;return mt},v.prototype.listenerCount=function(j){var pe=this._events[e?e+j:j];return pe?pe.fn?1:pe.length:0},v.prototype.emit=function(j,ne,pe,ze,tt,mt){var Ct=e?e+j:j;if(!this._events[Ct])return!1;var fn,sn,Ot=this._events[Ct],Yt=arguments.length;if(Ot.fn){switch(Ot.once&&this.removeListener(j,Ot.fn,void 0,!0),Yt){case 1:return Ot.fn.call(Ot.context),!0;case 2:return Ot.fn.call(Ot.context,ne),!0;case 3:return Ot.fn.call(Ot.context,ne,pe),!0;case 4:return Ot.fn.call(Ot.context,ne,pe,ze),!0;case 5:return Ot.fn.call(Ot.context,ne,pe,ze,tt),!0;case 6:return Ot.fn.call(Ot.context,ne,pe,ze,tt,mt),!0}for(sn=1,fn=new Array(Yt-1);sn<Yt;sn++)fn[sn-1]=arguments[sn];Ot.fn.apply(Ot.context,fn)}else{var Dn,En=Ot.length;for(sn=0;sn<En;sn++)switch(Ot[sn].once&&this.removeListener(j,Ot[sn].fn,void 0,!0),Yt){case 1:Ot[sn].fn.call(Ot[sn].context);break;case 2:Ot[sn].fn.call(Ot[sn].context,ne);break;case 3:Ot[sn].fn.call(Ot[sn].context,ne,pe);break;case 4:Ot[sn].fn.call(Ot[sn].context,ne,pe,ze);break;default:if(!fn)for(Dn=1,fn=new Array(Yt-1);Dn<Yt;Dn++)fn[Dn-1]=arguments[Dn];Ot[sn].fn.apply(Ot[sn].context,fn)}}return!0},v.prototype.on=function(j,ne,pe){return d(this,j,ne,pe,!1)},v.prototype.once=function(j,ne,pe){return d(this,j,ne,pe,!0)},v.prototype.removeListener=function(j,ne,pe,ze){var tt=e?e+j:j;if(!this._events[tt])return this;if(!ne)return m(this,tt),this;var mt=this._events[tt];if(mt.fn)mt.fn===ne&&(!ze||mt.once)&&(!pe||mt.context===pe)&&m(this,tt);else{for(var Ct=0,Ot=[],Yt=mt.length;Ct<Yt;Ct++)(mt[Ct].fn!==ne||ze&&!mt[Ct].once||pe&&mt[Ct].context!==pe)&&Ot.push(mt[Ct]);Ot.length?this._events[tt]=1===Ot.length?Ot[0]:Ot:m(this,tt)}return this},v.prototype.removeAllListeners=function(j){var ne;return j?this._events[ne=e?e+j:j]&&m(this,ne):(this._events=new i,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prefixed=e,v.EventEmitter=v,r.exports=v}(M_);var iu=Ol(M_.exports);const Vm=cl()||{isTypeSupported:()=>!1};class Gm{constructor(n,e,i,o){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const d=n.config;this.hls=n,this.id=e,this.useWorker=!!d.enableWorker,this.onTransmuxComplete=i,this.onFlush=o;const m=(j,ne)=>{(ne=ne||{}).frag=this.frag,ne.id=this.id,j===z.ERROR&&(this.error=ne.error),this.hls.trigger(j,ne)};this.observer=new iu,this.observer.on(z.FRAG_DECRYPTED,m),this.observer.on(z.ERROR,m);const v={mp4:Vm.isTypeSupported("video/mp4"),mpeg:Vm.isTypeSupported("audio/mpeg"),mp3:Vm.isTypeSupported('audio/mp4; codecs="mp3"')},I=navigator.vendor;if(this.useWorker&&typeof Worker<"u"&&(d.workerPath||function ju(){return"function"==typeof __HLS_WORKER_BUNDLE__}()))try{d.workerPath?(hn.log(`loading Web Worker ${d.workerPath} for "${e}"`),this.workerContext=function Xf(r){const n=new self.URL(r,self.location.href).href;return{worker:new self.Worker(n),scriptURL:n}}(d.workerPath)):(hn.log(`injecting Web Worker for "${e}"`),this.workerContext=function Om(){const r=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),n=self.URL.createObjectURL(r);return{worker:new self.Worker(n),objectURL:n}}()),this.onwmsg=pe=>this.onWorkerMessage(pe);const{worker:ne}=this.workerContext;ne.addEventListener("message",this.onwmsg),ne.onerror=pe=>{const ze=new Error(`${pe.message}  (${pe.filename}:${pe.lineno})`);d.enableWorker=!1,hn.warn(`Error in "${e}" Web Worker, fallback to inline`),this.hls.trigger(z.ERROR,{type:Tt.OTHER_ERROR,details:je.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:ze})},ne.postMessage({cmd:"init",typeSupported:v,vendor:I,id:e,config:JSON.stringify(d)})}catch(ne){hn.warn(`Error setting up "${e}" Web Worker, fallback to inline`,ne),this.resetWorker(),this.error=null,this.transmuxer=new C_(this.observer,v,d,I,e)}else this.transmuxer=new C_(this.observer,v,d,I,e)}resetWorker(){if(this.workerContext){const{worker:n,objectURL:e}=this.workerContext;e&&self.URL.revokeObjectURL(e),n.removeEventListener("message",this.onwmsg),n.onerror=null,n.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}const n=this.observer;n&&n.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(n,e,i,o,d,m,v,I,j,ne){var pe,ze;j.transmuxing.start=self.performance.now();const{transmuxer:tt}=this,mt=m?m.start:d.start,Ct=d.decryptdata,Ot=this.frag,Yt=!(Ot&&d.cc===Ot.cc),fn=!(Ot&&j.level===Ot.level),sn=Ot?j.sn-Ot.sn:-1,En=this.part?j.part-this.part.index:-1,Vn=!fn&&(1===sn||0===sn&&(1===En||0===sn&&j.id>1&&j.id===Ot?.stats.chunkCount&&En<=0)),Rn=self.performance.now();(fn||sn||0===d.stats.parsing.start)&&(d.stats.parsing.start=Rn),m&&(En||!Vn)&&(m.stats.parsing.start=Rn);const qn=!(Ot&&(null==(pe=d.initSegment)?void 0:pe.url)===(null==(ze=Ot.initSegment)?void 0:ze.url)),ni=new x_(Yt,Vn,I,fn,mt,qn);if(!Vn||Yt||qn){hn.log(`[transmuxer-interface, ${d.type}]: Starting new transmux session for sn: ${j.sn} p: ${j.part} level: ${j.level} id: ${j.id}\n        discontinuity: ${Yt}\n        trackSwitch: ${fn}\n        contiguous: ${Vn}\n        accurateTimeOffset: ${I}\n        timeOffset: ${mt}\n        initSegmentChange: ${qn}`);const kn=new D_(i,o,e,v,ne);this.configureTransmuxer(kn)}if(this.frag=d,this.part=m,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:n,decryptdata:Ct,chunkMeta:j,state:ni},n instanceof ArrayBuffer?[n]:[]);else if(tt){const kn=tt.push(n,Ct,j,ni);Zl(kn)?(tt.async=!0,kn.then(yi=>{this.handleTransmuxComplete(yi)}).catch(yi=>{this.transmuxerError(yi,j,"transmuxer-interface push error")})):(tt.async=!1,this.handleTransmuxComplete(kn))}}flush(n){n.transmuxing.start=self.performance.now();const{transmuxer:e}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:n});else if(e){let i=e.flush(n);Zl(i)||e.async?(Zl(i)||(i=Promise.resolve(i)),i.then(d=>{this.handleFlushResult(d,n)}).catch(d=>{this.transmuxerError(d,n,"transmuxer-interface flush error")})):this.handleFlushResult(i,n)}}transmuxerError(n,e,i){this.hls&&(this.error=n,this.hls.trigger(z.ERROR,{type:Tt.MEDIA_ERROR,details:je.FRAG_PARSING_ERROR,chunkMeta:e,fatal:!1,error:n,err:n,reason:i}))}handleFlushResult(n,e){n.forEach(i=>{this.handleTransmuxComplete(i)}),this.onFlush(e)}onWorkerMessage(n){const e=n.data,i=this.hls;switch(e.event){case"init":{var o;const d=null==(o=this.workerContext)?void 0:o.objectURL;d&&self.URL.revokeObjectURL(d);break}case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":hn[e.data.logType]&&hn[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,i.trigger(e.event,e.data)}}configureTransmuxer(n){const{transmuxer:e}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:n}):e&&e.configure(n)}handleTransmuxComplete(n){n.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(n)}}class ah{constructor(n,e,i,o){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=n,this.media=e,this.fragmentTracker=i,this.hls=o}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(n,e){const{config:i,media:o,stalled:d}=this;if(null===o)return;const{currentTime:m,seeking:v}=o,I=this.seeking&&!v,j=!this.seeking&&v;if(this.seeking=v,m!==n){if(this.moved=!0,null!==d){if(this.stallReported){const Yt=self.performance.now()-d;hn.warn(`playback not stuck anymore @${m}, after ${Math.round(Yt)}ms`),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if(j||I)return void(this.stalled=null);if(o.paused&&!v||o.ended||0===o.playbackRate||!Lr.getBuffered(o).length)return;const ne=Lr.bufferInfo(o,m,0),ze=ne.nextStart||0;if(!(ne.len>0||ze))return;if(v){const Yt=ne.len>2,fn=!ze||e&&e.start<=m||ze-m>2&&!this.fragmentTracker.getPartialFragment(m);if(Yt||fn)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var tt;const Yt=Math.max(ze,ne.start||0)-m,fn=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,En=(null==fn||null==(tt=fn.details)?void 0:tt.live)?2*fn.details.targetduration:2,Dn=this.fragmentTracker.getPartialFragment(m);if(Yt>0&&(Yt<=En||Dn))return void this._trySkipBufferHole(Dn)}const mt=self.performance.now();if(null===d)return void(this.stalled=mt);const Ct=mt-d;if(!v&&Ct>=250&&(this._reportStall(ne),!this.media))return;const Ot=Lr.bufferInfo(o,m,i.maxBufferHole);this._tryFixBufferStall(Ot,Ct)}_tryFixBufferStall(n,e){const{config:i,fragmentTracker:o,media:d}=this;if(null===d)return;const m=d.currentTime,v=o.getPartialFragment(m);v&&(this._trySkipBufferHole(v)||!this.media)||(n.len>i.maxBufferHole||n.nextStart&&n.nextStart-m<i.maxBufferHole)&&e>1e3*i.highBufferWatchdogPeriod&&(hn.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(n){const{hls:e,media:i,stallReported:o}=this;if(!o&&i){this.stallReported=!0;const d=new Error(`Playback stalling at @${i.currentTime} due to low buffer (${JSON.stringify(n)})`);hn.warn(d.message),e.trigger(z.ERROR,{type:Tt.MEDIA_ERROR,details:je.BUFFER_STALLED_ERROR,fatal:!1,error:d,buffer:n.len})}}_trySkipBufferHole(n){const{config:e,hls:i,media:o}=this;if(null===o)return 0;const d=o.currentTime,m=Lr.bufferInfo(o,d,0),v=d<m.start?m.start:m.nextStart;if(v){const ne=v-d;if(ne>0&&(m.len<=e.maxBufferHole||m.len>0&&m.len<1&&o.readyState<3)){if(ne>e.maxBufferHole){const{fragmentTracker:ze}=this;let tt=!1;if(0===d){const mt=ze.getAppendedFrag(0,"main");mt&&v<mt.end&&(tt=!0)}if(!tt){const mt=n||ze.getAppendedFrag(d,"main");if(mt){let Ct=!1,Ot=mt.end;for(;Ot<v;){const Yt=ze.getPartialFragment(Ot);if(!Yt){Ct=!0;break}Ot+=Yt.duration}if(Ct)return 0}}}const pe=Math.max(v+.05,d+.1);if(hn.warn(`skipping hole, adjusting currentTime from ${d} to ${pe}`),this.moved=!0,this.stalled=null,o.currentTime=pe,n&&!n.gap){const ze=new Error(`fragment loaded with buffer holes, seeking from ${d} to ${pe}`);i.trigger(z.ERROR,{type:Tt.MEDIA_ERROR,details:je.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:ze,reason:ze.message,frag:n})}return pe}}return 0}_tryNudgeBuffer(){const{config:n,hls:e,media:i,nudgeRetry:o}=this;if(null===i)return;const d=i.currentTime;if(this.nudgeRetry++,o<n.nudgeMaxRetry){const m=d+(o+1)*n.nudgeOffset,v=new Error(`Nudging 'currentTime' from ${d} to ${m}`);hn.warn(v.message),i.currentTime=m,e.trigger(z.ERROR,{type:Tt.MEDIA_ERROR,details:je.BUFFER_NUDGE_ON_STALL,error:v,fatal:!1})}else{const m=new Error(`Playhead still not moving while enough data buffered @${d} after ${n.nudgeMaxRetry} nudges`);hn.error(m.message),e.trigger(z.ERROR,{type:Tt.MEDIA_ERROR,details:je.BUFFER_STALLED_ERROR,error:m,fatal:!0})}}}class w_ extends Ai{constructor(n,e,i){super(n,e,i,"[stream-controller]","main"),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:n}=this;n.on(z.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(z.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(z.MANIFEST_LOADING,this.onManifestLoading,this),n.on(z.MANIFEST_PARSED,this.onManifestParsed,this),n.on(z.LEVEL_LOADING,this.onLevelLoading,this),n.on(z.LEVEL_LOADED,this.onLevelLoaded,this),n.on(z.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),n.on(z.ERROR,this.onError,this),n.on(z.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.on(z.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.on(z.BUFFER_CREATED,this.onBufferCreated,this),n.on(z.BUFFER_FLUSHED,this.onBufferFlushed,this),n.on(z.LEVELS_UPDATED,this.onLevelsUpdated,this),n.on(z.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:n}=this;n.off(z.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(z.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(z.MANIFEST_LOADING,this.onManifestLoading,this),n.off(z.MANIFEST_PARSED,this.onManifestParsed,this),n.off(z.LEVEL_LOADED,this.onLevelLoaded,this),n.off(z.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),n.off(z.ERROR,this.onError,this),n.off(z.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.off(z.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.off(z.BUFFER_CREATED,this.onBufferCreated,this),n.off(z.BUFFER_FLUSHED,this.onBufferFlushed,this),n.off(z.LEVELS_UPDATED,this.onLevelsUpdated,this),n.off(z.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),this.onMediaDetaching()}startLoad(n){if(this.levels){const{lastCurrentTime:e,hls:i}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let o=i.startLevel;-1===o&&(i.config.testBandwidth&&this.levels.length>1?(o=0,this.bitrateTest=!0):o=i.nextAutoLevel),this.level=i.nextLoadLevel=o,this.loadedmetadata=!1}e>0&&-1===n&&(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),n=e),this.state="IDLE",this.nextLoadPosition=this.startPosition=this.lastCurrentTime=n,this.tick()}else this._forceStartLoad=!0,this.state="STOPPED"}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case"WAITING_LEVEL":{var n;const{levels:i,level:o}=this,d=null==i||null==(n=i[o])?void 0:n.details;if(d&&(!d.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(d))break;this.state="IDLE";break}if(this.hls.nextLoadLevel!==this.level){this.state="IDLE";break}break}case"FRAG_LOADING_WAITING_RETRY":{var e;const i=self.performance.now(),o=this.retryDate;(!o||i>=o||null!=(e=this.media)&&e.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state="IDLE")}}"IDLE"===this.state&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:n,levelLastLoaded:e,levels:i,media:o}=this,{config:d,nextLoadLevel:m}=n;if(null===e||!o&&(this.startFragRequested||!d.startFragPrefetch)||this.altAudio&&this.audioOnly||null==i||!i[m])return;const v=i[m],I=this.getMainFwdBufferInfo();if(null===I)return;const j=this.getLevelDetails();if(j&&this._streamEnded(I,j)){const Ot={};return this.altAudio&&(Ot.type="video"),this.hls.trigger(z.BUFFER_EOS,Ot),void(this.state="ENDED")}n.loadLevel!==m&&-1===n.manualLevel&&this.log(`Adapting to level ${m} from level ${this.level}`),this.level=n.nextLoadLevel=m;const ne=v.details;if(!ne||"WAITING_LEVEL"===this.state||ne.live&&this.levelLastLoaded!==m)return this.level=m,void(this.state="WAITING_LEVEL");const pe=I.len,ze=this.getMaxBufferLength(v.maxBitrate);if(pe>=ze)return;this.backtrackFragment&&this.backtrackFragment.start>I.end&&(this.backtrackFragment=null);const tt=this.backtrackFragment?this.backtrackFragment.start:I.end;let mt=this.getNextFragment(tt,ne);if(this.couldBacktrack&&!this.fragPrevious&&mt&&"initSegment"!==mt.sn&&"OK"!==this.fragmentTracker.getState(mt)){var Ct;const Yt=(null!=(Ct=this.backtrackFragment)?Ct:mt).sn-ne.startSN,fn=ne.fragments[Yt-1];fn&&mt.cc===fn.cc&&(mt=fn,this.fragmentTracker.removeFragment(fn))}else this.backtrackFragment&&I.len&&(this.backtrackFragment=null);if(mt&&this.isLoopLoading(mt,tt)){if(!mt.gap){const Yt=this.audioOnly&&!this.altAudio?"audio":"video",fn=("video"===Yt?this.videoBuffer:this.mediaBuffer)||this.media;fn&&this.afterBufferFlushed(fn,Yt,"main")}mt=this.getNextFragmentLoopLoading(mt,ne,I,"main",ze)}mt&&(mt.initSegment&&!mt.initSegment.data&&!this.bitrateTest&&(mt=mt.initSegment),this.loadFragment(mt,v,tt))}loadFragment(n,e,i){const o=this.fragmentTracker.getState(n);this.fragCurrent=n,"NOT_LOADED"===o||"PARTIAL"===o?"initSegment"===n.sn?this._loadInitSegment(n,e):this.bitrateTest?(this.log(`Fragment ${n.sn} of level ${n.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(n,e)):(this.startFragRequested=!0,super.loadFragment(n,e,i)):this.clearTrackerIfNeeded(n)}getBufferedFrag(n){return this.fragmentTracker.getBufferedFrag(n,"main")}followingBufferedFrag(n){return n?this.getBufferedFrag(n.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:n,media:e}=this;if(null!=e&&e.readyState){let i;const o=this.getAppendedFrag(e.currentTime);o&&o.start>1&&this.flushMainBuffer(0,o.start-1);const d=this.getLevelDetails();if(null!=d&&d.live){const v=this.getMainFwdBufferInfo();if(!v||v.len<2*d.targetduration)return}if(!e.paused&&n){const j=this.fragLastKbps;i=j&&this.fragCurrent?this.fragCurrent.duration*n[this.hls.nextLoadLevel].maxBitrate/(1e3*j)+1:0}else i=0;const m=this.getBufferedFrag(e.currentTime+i);if(m){const v=this.followingBufferedFrag(m);if(v){this.abortCurrentFrag();const j=v.duration,ne=Math.max(m.end,(v.maxStartPTS?v.maxStartPTS:v.start)+Math.min(Math.max(j-this.config.maxFragLookUpTolerance,.5*j),.75*j));this.flushMainBuffer(ne,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const n=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,n&&(n.abortRequests(),this.fragmentTracker.removeFragment(n)),this.state){case"KEY_LOADING":case"FRAG_LOADING":case"FRAG_LOADING_WAITING_RETRY":case"PARSING":case"PARSED":this.state="IDLE"}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(n,e){super.flushMainBuffer(n,e,this.altAudio?"video":null)}onMediaAttached(n,e){super.onMediaAttached(n,e);const i=e.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),i.addEventListener("playing",this.onvplaying),i.addEventListener("seeked",this.onvseeked),this.gapController=new ah(this.config,i,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:n}=this;n&&this.onvplaying&&this.onvseeked&&(n.removeEventListener("playing",this.onvplaying),n.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const n=this.media,e=n?n.currentTime:null;_i(e)&&this.log(`Media seeked to ${e.toFixed(3)}`);const i=this.getMainFwdBufferInfo();null!==i&&0!==i.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${i?i.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(z.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}onManifestParsed(n,e){let d,i=!1,o=!1;e.levels.forEach(m=>{d=m.audioCodec,d&&(-1!==d.indexOf("mp4a.40.2")&&(i=!0),-1!==d.indexOf("mp4a.40.5")&&(o=!0))}),this.audioCodecSwitch=i&&o&&!function mc(){var r;const n=pr();return"function"==typeof(null==n||null==(r=n.prototype)?void 0:r.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1}onLevelLoading(n,e){const{levels:i}=this;if(!i||"IDLE"!==this.state)return;const o=i[e.level];(!o.details||o.details.live&&this.levelLastLoaded!==e.level||this.waitForCdnTuneIn(o.details))&&(this.state="WAITING_LEVEL")}onLevelLoaded(n,e){var i;const{levels:o}=this,d=e.level,m=e.details,v=m.totalduration;if(!o)return void this.warn(`Levels were reset while loading level ${d}`);this.log(`Level ${d} loaded [${m.startSN},${m.endSN}]${m.lastPartSn?`[part-${m.lastPartSn}-${m.lastPartIndex}]`:""}, cc [${m.startCC}, ${m.endCC}] duration:${v}`);const I=o[d],j=this.fragCurrent;j&&("FRAG_LOADING"===this.state||"FRAG_LOADING_WAITING_RETRY"===this.state)&&(j.level!==e.level||j.urlId!==I.urlId)&&j.loader&&this.abortCurrentFrag();let ne=0;if(m.live||null!=(i=I.details)&&i.live){if(m.fragments[0]||(m.deltaUpdateFailed=!0),m.deltaUpdateFailed)return;ne=this.alignPlaylists(m,I.details)}if(I.details=m,this.levelLastLoaded=d,this.hls.trigger(z.LEVEL_UPDATED,{details:m,level:d}),"WAITING_LEVEL"===this.state){if(this.waitForCdnTuneIn(m))return;this.state="IDLE"}this.startFragRequested?m.live&&this.synchronizeToLiveEdge(m):this.setStartPosition(m,ne),this.tick()}_handleFragmentLoadProgress(n){var e;const{frag:i,part:o,payload:d}=n,{levels:m}=this;if(!m)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);const v=m[i.level],I=v.details;if(!I)return this.warn(`Dropping fragment ${i.sn} of level ${i.level} after level details were reset`),void this.fragmentTracker.removeFragment(i);const j=v.videoCodec,ne=I.PTSKnown||!I.live,pe=null==(e=i.initSegment)?void 0:e.data,ze=this._getAudioCodec(v),tt=this.transmuxer=this.transmuxer||new Gm(this.hls,"main",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),mt=o?o.index:-1,Ot=new Wl(i.level,i.sn,i.stats.chunkCount,d.byteLength,mt,-1!==mt);tt.push(d,pe,ze,j,i,o,I.totalduration,ne,Ot,this.initPTS[i.cc])}onAudioTrackSwitching(n,e){const i=this.altAudio;if(!e.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const m=this.fragCurrent;m&&(this.log("Switching to main audio track, cancel main fragment load"),m.abortRequests(),this.fragmentTracker.removeFragment(m)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const d=this.hls;i&&(d.trigger(z.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),d.trigger(z.AUDIO_TRACK_SWITCHED,e)}}onAudioTrackSwitched(n,e){const o=!!this.hls.audioTracks[e.id].url;if(o){const d=this.videoBuffer;d&&this.mediaBuffer!==d&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=d)}this.altAudio=o,this.tick()}onBufferCreated(n,e){const i=e.tracks;let o,d,m=!1;for(const v in i){const I=i[v];if("main"===I.id){if(d=v,o=I,"video"===v){const j=i[v];j&&(this.videoBuffer=j.buffer)}}else m=!0}m&&o?(this.log(`Alternate track found, use ${d}.buffered to schedule main fragment loading`),this.mediaBuffer=o.buffer):this.mediaBuffer=this.media}onFragBuffered(n,e){const{frag:i,part:o}=e;if(i&&"main"!==i.type)return;if(this.fragContextChanged(i))return this.warn(`Fragment ${i.sn}${o?" p: "+o.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}`),void("PARSED"===this.state&&(this.state="IDLE"));const d=o?o.stats:i.stats;this.fragLastKbps=Math.round(8*d.total/(d.buffering.end-d.loading.first)),"initSegment"!==i.sn&&(this.fragPrevious=i),this.fragBufferedComplete(i,o)}onError(n,e){var i;if(e.fatal)this.state="ERROR";else switch(e.details){case je.FRAG_GAP:case je.FRAG_PARSING_ERROR:case je.FRAG_DECRYPT_ERROR:case je.FRAG_LOAD_ERROR:case je.FRAG_LOAD_TIMEOUT:case je.KEY_LOAD_ERROR:case je.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("main",e);break;case je.LEVEL_LOAD_ERROR:case je.LEVEL_LOAD_TIMEOUT:case je.LEVEL_PARSING_ERROR:!e.levelRetry&&"WAITING_LEVEL"===this.state&&"level"===(null==(i=e.context)?void 0:i.type)&&(this.state="IDLE");break;case je.BUFFER_FULL_ERROR:if(!e.parent||"main"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case je.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}checkBuffer(){const{media:n,gapController:e}=this;n&&e&&n.readyState&&(!this.loadedmetadata&&Lr.getBuffered(n).length||e.poll(this.lastCurrentTime,"IDLE"!==this.state?this.fragCurrent:null),this.lastCurrentTime=n.currentTime)}onFragLoadEmergencyAborted(){this.state="IDLE",this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(n,{type:e}){("audio"!==e||this.audioOnly&&!this.altAudio)&&this.afterBufferFlushed(("video"===e?this.videoBuffer:this.mediaBuffer)||this.media,e,"main")}onLevelsUpdated(n,e){this.levels=e.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:n}=this;if(!n)return;const e=n.currentTime;let i=this.startPosition;if(i>=0&&e<i){if(n.seeking)return void this.log(`could not seek to ${i}, already seeking at ${e}`);const o=Lr.getBuffered(n),m=(o.length?o.start(0):0)-i;m>0&&(m<this.config.maxBufferHole||m<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${m} to match buffer start`),i+=m,this.startPosition=i),this.log(`seek to target start position ${i} from current time ${e}`),n.currentTime=i}}_getAudioCodec(n){let e=this.config.defaultAudioCodec||n.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e}_loadBitrateTestFrag(n,e){n.bitrateTest=!0,this._doFragLoad(n,e).then(i=>{const{hls:o}=this;if(!i||this.fragContextChanged(n))return;e.fragmentError=0,this.state="IDLE",this.startFragRequested=!1,this.bitrateTest=!1;const d=n.stats;d.parsing.start=d.parsing.end=d.buffering.start=d.buffering.end=self.performance.now(),o.trigger(z.FRAG_LOADED,i),n.bitrateTest=!1})}_handleTransmuxComplete(n){var e;const i="main",{hls:o}=this,{remuxResult:d,chunkMeta:m}=n,v=this.getCurrentContext(m);if(!v)return void this.resetWhenMissingContext(m);const{frag:I,part:j,level:ne}=v,{video:pe,text:ze,id3:tt,initSegment:mt}=d,{details:Ct}=ne,Ot=this.altAudio?void 0:d.audio;if(this.fragContextChanged(I))this.fragmentTracker.removeFragment(I);else{if(this.state="PARSING",mt){if(null!=mt&&mt.tracks){const sn=I.initSegment||I;this._bufferInitSegment(ne,mt.tracks,sn,m),o.trigger(z.FRAG_PARSING_INIT_SEGMENT,{frag:sn,id:i,tracks:mt.tracks})}const Yt=mt.initPTS,fn=mt.timescale;_i(Yt)&&(this.initPTS[I.cc]={baseTime:Yt,timescale:fn},o.trigger(z.INIT_PTS_FOUND,{frag:I,id:i,initPTS:Yt,timescale:fn}))}if(pe&&Ct&&"initSegment"!==I.sn){const Yt=Ct.fragments[I.sn-1-Ct.startSN],fn=I.sn===Ct.startSN,sn=!Yt||I.cc>Yt.cc;if(!1!==d.independent){const{startPTS:En,endPTS:Dn,startDTS:Vn,endDTS:Rn}=pe;if(j)j.elementaryStreams[pe.type]={startPTS:En,endPTS:Dn,startDTS:Vn,endDTS:Rn};else if(pe.firstKeyFrame&&pe.independent&&1===m.id&&!sn&&(this.couldBacktrack=!0),pe.dropped&&pe.independent){const qn=this.getMainFwdBufferInfo(),ni=(qn?qn.end:this.getLoadPosition())+this.config.maxBufferHole;if(!fn&&ni<(pe.firstKeyFramePTS?pe.firstKeyFramePTS:En)-this.config.maxBufferHole&&!sn)return void this.backtrack(I);sn&&(I.gap=!0),I.setElementaryStreamInfo(pe.type,I.start,Dn,I.start,Rn,!0)}I.setElementaryStreamInfo(pe.type,En,Dn,Vn,Rn),this.backtrackFragment&&(this.backtrackFragment=I),this.bufferFragmentData(pe,I,j,m,fn||sn)}else{if(!fn&&!sn)return void this.backtrack(I);I.gap=!0}}if(Ot){const{startPTS:Yt,endPTS:fn,startDTS:sn,endDTS:En}=Ot;j&&(j.elementaryStreams.audio={startPTS:Yt,endPTS:fn,startDTS:sn,endDTS:En}),I.setElementaryStreamInfo("audio",Yt,fn,sn,En),this.bufferFragmentData(Ot,I,j,m)}Ct&&null!=tt&&null!=(e=tt.samples)&&e.length&&o.trigger(z.FRAG_PARSING_METADATA,{id:i,frag:I,details:Ct,samples:tt.samples}),Ct&&ze&&o.trigger(z.FRAG_PARSING_USERDATA,{id:i,frag:I,details:Ct,samples:ze.samples})}}_bufferInitSegment(n,e,i,o){if("PARSING"!==this.state)return;this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;const{audio:d,video:m,audiovideo:v}=e;if(d){let I=n.audioCodec;const j=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(I&&(I=-1!==I.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==d.metadata.channelCount&&-1===j.indexOf("firefox")&&(I="mp4a.40.5")),-1!==j.indexOf("android")&&"audio/mpeg"!==d.container&&(I="mp4a.40.2",this.log(`Android: force audio codec to ${I}`)),n.audioCodec&&n.audioCodec!==I&&this.log(`Swapping manifest audio codec "${n.audioCodec}" for "${I}"`),d.levelCodec=I,d.id="main",this.log(`Init audio buffer, container:${d.container}, codecs[selected/level/parsed]=[${I||""}/${n.audioCodec||""}/${d.codec}]`)}m&&(m.levelCodec=n.videoCodec,m.id="main",this.log(`Init video buffer, container:${m.container}, codecs[level/parsed]=[${n.videoCodec||""}/${m.codec}]`)),v&&this.log(`Init audiovideo buffer, container:${v.container}, codecs[level/parsed]=[${n.attrs.CODECS||""}/${v.codec}]`),this.hls.trigger(z.BUFFER_CODECS,e),Object.keys(e).forEach(I=>{const ne=e[I].initSegment;null!=ne&&ne.byteLength&&this.hls.trigger(z.BUFFER_APPENDING,{type:I,data:ne,frag:i,part:null,chunkMeta:o,parent:i.type})}),this.tick()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,"main")}backtrack(n){this.couldBacktrack=!0,this.backtrackFragment=n,this.resetTransmuxer(),this.flushBufferGap(n),this.fragmentTracker.removeFragment(n),this.fragPrevious=null,this.nextLoadPosition=n.start,this.state="IDLE"}checkFragmentChanged(){const n=this.media;let e=null;if(n&&n.readyState>1&&!1===n.seeking){const i=n.currentTime;if(Lr.isBuffered(n,i)?e=this.getAppendedFrag(i):Lr.isBuffered(n,i+.1)&&(e=this.getAppendedFrag(i+.1)),e){this.backtrackFragment=null;const o=this.fragPlaying,d=e.level;(!o||e.sn!==o.sn||o.level!==d||e.urlId!==o.urlId)&&(this.fragPlaying=e,this.hls.trigger(z.FRAG_CHANGED,{frag:e}),(!o||o.level!==d)&&this.hls.trigger(z.LEVEL_SWITCHED,{level:d}))}}}get nextLevel(){const n=this.nextBufferedFrag;return n?n.level:-1}get currentFrag(){const n=this.media;return n?this.fragPlaying||this.getAppendedFrag(n.currentTime):null}get currentProgramDateTime(){const n=this.media;if(n){const e=n.currentTime,i=this.currentFrag;if(i&&_i(e)&&_i(i.programDateTime))return new Date(i.programDateTime+1e3*(e-i.start))}return null}get currentLevel(){const n=this.currentFrag;return n?n.level:-1}get nextBufferedFrag(){const n=this.currentFrag;return n?this.followingBufferedFrag(n):null}get forceStartLoad(){return this._forceStartLoad}}class Hc{constructor(n,e=0,i=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=n,this.alpha_=n?Math.exp(Math.log(.5)/n):0,this.estimate_=e,this.totalWeight_=i}sample(n,e){const i=Math.pow(this.alpha_,n);this.estimate_=e*(1-i)+i*this.estimate_,this.totalWeight_+=n}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const n=1-Math.pow(this.alpha_,this.totalWeight_);if(n)return this.estimate_/n}return this.estimate_}}class lh{constructor(n,e,i,o=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Hc(n),this.fast_=new Hc(e),this.defaultTTFB_=o,this.ttfb_=new Hc(n)}update(n,e){const{slow_:i,fast_:o,ttfb_:d}=this;i.halfLife!==n&&(this.slow_=new Hc(n,i.getEstimate(),i.getTotalWeight())),o.halfLife!==e&&(this.fast_=new Hc(e,o.getEstimate(),o.getTotalWeight())),d.halfLife!==n&&(this.ttfb_=new Hc(n,d.getEstimate(),d.getTotalWeight()))}sample(n,e){const o=(n=Math.max(n,this.minDelayMs_))/1e3,d=8*e/o;this.fast_.sample(o,d),this.slow_.sample(o,d)}sampleTTFB(n){const e=n/1e3,i=Math.sqrt(2)*Math.exp(-Math.pow(e,2)/2);this.ttfb_.sample(i,Math.max(n,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}class ch{constructor(){this.chunks=[],this.dataLength=0}push(n){this.chunks.push(n),this.dataLength+=n.length}flush(){const{chunks:n,dataLength:e}=this;let i;return n.length?(i=1===n.length?n[0]:function qu(r,n){const e=new Uint8Array(n);let i=0;for(let o=0;o<r.length;o++){const d=r[o];e.set(d,i),i+=d.length}return e}(n,e),this.reset(),i):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function N_(r,n){if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++)if(!_E(r[e].attrs,n[e].attrs))return!1;return!0}function _E(r,n){const e=r["STABLE-RENDITION-ID"];return e?e===n["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some(i=>r[i]!==n[i])}class dh{constructor(n){this.buffered=void 0;const e=(i,o,d)=>{if((o>>>=0)>d-1)throw new DOMException(`Failed to execute '${i}' on 'TimeRanges': The index provided (${o}) is greater than the maximum bound (${d})`);return n[o][i]};this.buffered={get length(){return n.length},end:i=>e("end",i,n.length),start:i=>e("start",i,n.length)}}}function Kc(r){const n=[];for(let e=0;e<r.length;e++){const i=r[e];("subtitles"===i.kind||"captions"===i.kind)&&i.label&&n.push(r[e])}return n}class vE{constructor(n){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=n}append(n,e){const i=this.queues[e];i.push(n),1===i.length&&this.buffers[e]&&this.executeNext(e)}insertAbort(n,e){this.queues[e].unshift(n),this.executeNext(e)}appendBlocker(n){let e;const i=new Promise(d=>{e=d});return this.append({execute:e,onStart:()=>{},onComplete:()=>{},onError:()=>{}},n),i}executeNext(n){const{buffers:e,queues:i}=this,o=e[n],d=i[n];if(d.length){const m=d[0];try{m.execute()}catch(v){hn.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),m.onError(v),null!=o&&o.updating||(d.shift(),this.executeNext(n))}}}shiftAndExecuteNext(n){this.queues[n].shift(),this.executeNext(n)}current(n){return this.queues[n][0]}}const k_=cl(),yE=/([ha]vc.)(?:\.[^.,]+)+/,uh={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},F_=function(n){let e=n;return uh.hasOwnProperty(n)&&(e=uh[n]),String.fromCharCode(e)},Ya=100,Wm={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},B_={17:2,18:4,21:6,22:8,23:10,19:13,20:15},U_={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},j_={25:2,26:4,29:6,30:8,31:10,27:13,28:15},bd=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class EE{constructor(){this.time=null,this.verboseLevel=0}log(n,e){if(this.verboseLevel>=n){const i="function"==typeof e?e():e;hn.log(`${this.time} [${n}] ${i}`)}}}const Ed=function(n){const e=[];for(let i=0;i<n.length;i++)e.push(n[i].toString(16));return e};class V_{constructor(n,e,i,o,d){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=n||"white",this.underline=e||!1,this.italics=i||!1,this.background=o||"black",this.flash=d||!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(n){const e=["foreground","underline","italics","background","flash"];for(let i=0;i<e.length;i++){const o=e[i];n.hasOwnProperty(o)&&(this[o]=n[o])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(n){return this.foreground===n.foreground&&this.underline===n.underline&&this.italics===n.italics&&this.background===n.background&&this.flash===n.flash}copy(n){this.foreground=n.foreground,this.underline=n.underline,this.italics=n.italics,this.background=n.background,this.flash=n.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class TE{constructor(n,e,i,o,d,m){this.uchar=void 0,this.penState=void 0,this.uchar=n||" ",this.penState=new V_(e,i,o,d,m)}reset(){this.uchar=" ",this.penState.reset()}setChar(n,e){this.uchar=n,this.penState.copy(e)}setPenState(n){this.penState.copy(n)}equals(n){return this.uchar===n.uchar&&this.penState.equals(n.penState)}copy(n){this.uchar=n.uchar,this.penState.copy(n.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class SE{constructor(n){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(let e=0;e<Ya;e++)this.chars.push(new TE);this.logger=n,this.pos=0,this.currPenState=new V_}equals(n){let e=!0;for(let i=0;i<Ya;i++)if(!this.chars[i].equals(n.chars[i])){e=!1;break}return e}copy(n){for(let e=0;e<Ya;e++)this.chars[e].copy(n.chars[e])}isEmpty(){let n=!0;for(let e=0;e<Ya;e++)if(!this.chars[e].isEmpty()){n=!1;break}return n}setCursor(n){this.pos!==n&&(this.pos=n),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Ya&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Ya)}moveCursor(n){const e=this.pos+n;if(n>1)for(let i=this.pos+1;i<e+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(e)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(n){n>=144&&this.backSpace();const e=F_(n);this.pos>=Ya?this.logger.log(0,()=>"Cannot insert "+n.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))}clearFromPos(n){let e;for(e=n;e<Ya;e++)this.chars[e].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const n=[];let e=!0;for(let i=0;i<Ya;i++){const o=this.chars[i].uchar;" "!==o&&(e=!1),n.push(o)}return e?"":n.join("")}setPenStyles(n){this.currPenState.setStyles(n),this.chars[this.pos].setPenState(this.currPenState)}}class pl{constructor(n){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(let e=0;e<15;e++)this.rows.push(new SE(n));this.logger=n,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}reset(){for(let n=0;n<15;n++)this.rows[n].clear();this.currRow=14}equals(n){let e=!0;for(let i=0;i<15;i++)if(!this.rows[i].equals(n.rows[i])){e=!1;break}return e}copy(n){for(let e=0;e<15;e++)this.rows[e].copy(n.rows[e])}isEmpty(){let n=!0;for(let e=0;e<15;e++)if(!this.rows[e].isEmpty()){n=!1;break}return n}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(n){this.rows[this.currRow].insertChar(n)}setPen(n){this.rows[this.currRow].setPenStyles(n)}moveCursor(n){this.rows[this.currRow].moveCursor(n)}setCursor(n){this.logger.log(2,"setCursor: "+n),this.rows[this.currRow].setCursor(n)}setPAC(n){this.logger.log(2,()=>"pacData = "+JSON.stringify(n));let e=n.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(let v=0;v<15;v++)this.rows[v].clear();const d=this.currRow+1-this.nrRollUpRows,m=this.lastOutputScreen;if(m){const v=m.rows[d].cueStartTime,I=this.logger.time;if(v&&null!==I&&v<I)for(let j=0;j<this.nrRollUpRows;j++)this.rows[e-this.nrRollUpRows+j+1].copy(m.rows[d+j])}}this.currRow=e;const i=this.rows[this.currRow];if(null!==n.indent){const m=Math.max(n.indent-1,0);i.setCursor(n.indent),n.color=i.chars[m].penState.foreground}this.setPen({foreground:n.color,underline:n.underline,italics:n.italics,background:"black",flash:!1})}setBkgData(n){this.logger.log(2,()=>"bkgData = "+JSON.stringify(n)),this.backSpace(),this.setPen(n),this.insertChar(32)}setRollUpRows(n){this.nrRollUpRows=n}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,()=>this.getDisplayText());const e=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(2,"Rolling up")}getDisplayText(n){n=n||!1;const e=[];let i="",o=-1;for(let d=0;d<15;d++){const m=this.rows[d].getTextString();m&&(o=d+1,e.push(n?"Row "+o+": '"+m+"'":m.trim()))}return e.length>0&&(i=n?"["+e.join(" | ")+"]":e.join("\n")),i}getTextAndFormat(){return this.rows}}class Td{constructor(n,e,i){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=n,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new pl(i),this.nonDisplayedMemory=new pl(i),this.lastOutputScreen=new pl(i),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=i}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(n){this.outputFilter=n}setPAC(n){this.writeScreen.setPAC(n)}setBkgData(n){this.writeScreen.setBkgData(n)}setMode(n){n!==this.mode&&(this.mode=n,this.logger.log(2,()=>"MODE="+n),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=n)}insertChars(n){for(let i=0;i<n.length;i++)this.writeScreen.insertChar(n[i]);const e=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>e+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(n){this.logger.log(2,"RU("+n+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(n)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const n=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=n,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(n){this.logger.log(2,"TO("+n+") - Tab Offset"),this.writeScreen.moveCursor(n)}ccMIDROW(n){const e={flash:!1};if(e.underline=n%2==1,e.italics=n>=46,e.italics)e.foreground="white";else{const i=Math.floor(n/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][i]}this.logger.log(2,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)}outputDataUpdate(n=!1){const e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),n&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(n){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,n,this.displayedMemory),this.cueStartTime=n))}}class G_{constructor(n,e,i){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;const o=new EE;this.channels=[null,new Td(n,e,o),new Td(n+1,i,o)],this.cmdHistory={a:null,b:null},this.logger=o}getHandler(n){return this.channels[n].getHandler()}setHandler(n,e){this.channels[n].setHandler(e)}addData(n,e){let i,o,d,m=!1;this.logger.time=n;for(let v=0;v<e.length;v+=2)if(o=127&e[v],d=127&e[v+1],0!==o||0!==d){if(this.logger.log(3,"["+Ed([e[v],e[v+1]])+"] -> ("+Ed([o,d])+")"),i=this.parseCmd(o,d),i||(i=this.parseMidrow(o,d)),i||(i=this.parsePAC(o,d)),i||(i=this.parseBackgroundAttributes(o,d)),!i&&(m=this.parseChars(o,d),m)){const I=this.currentChannel;I&&I>0?this.channels[I].insertChars(m):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!i&&!m&&this.logger.log(2,"Couldn't parse cleaned data "+Ed([o,d])+" orig: "+Ed([e[v],e[v+1]]))}}parseCmd(n,e){const{cmdHistory:i}=this;if(!((20===n||28===n||21===n||29===n)&&e>=32&&e<=47||(23===n||31===n)&&e>=33&&e<=35))return!1;if(H_(n,e,i))return ru(null,null,i),this.logger.log(3,"Repeated command ("+Ed([n,e])+") is dropped"),!0;const m=20===n||21===n||23===n?1:2,v=this.channels[m];return 20===n||21===n||28===n||29===n?32===e?v.ccRCL():33===e?v.ccBS():34===e?v.ccAOF():35===e?v.ccAON():36===e?v.ccDER():37===e?v.ccRU(2):38===e?v.ccRU(3):39===e?v.ccRU(4):40===e?v.ccFON():41===e?v.ccRDC():42===e?v.ccTR():43===e?v.ccRTD():44===e?v.ccEDM():45===e?v.ccCR():46===e?v.ccENM():47===e&&v.ccEOC():v.ccTO(e-32),ru(n,e,i),this.currentChannel=m,!0}parseMidrow(n,e){let i=0;if((17===n||25===n)&&e>=32&&e<=47){if(i=17===n?1:2,i!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const o=this.channels[i];return!!o&&(o.ccMIDROW(e),this.logger.log(3,"MIDROW ("+Ed([n,e])+")"),!0)}return!1}parsePAC(n,e){let i;const o=this.cmdHistory;if(!((n>=17&&n<=23||n>=25&&n<=31)&&e>=64&&e<=127||(16===n||24===n)&&e>=64&&e<=95))return!1;if(H_(n,e,o))return ru(null,null,o),!0;const v=n<=23?1:2;i=e>=64&&e<=95?1===v?Wm[n]:U_[n]:1===v?B_[n]:j_[n];const I=this.channels[v];return!!I&&(I.setPAC(this.interpretPAC(i,e)),ru(n,e,o),this.currentChannel=v,!0)}interpretPAC(n,e){let i;const o={color:null,italics:!1,indent:null,underline:!1,row:n};return i=e>95?e-96:e-64,o.underline=1==(1&i),i<=13?o.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(o.italics=!0,o.color="white"):o.indent=4*Math.floor((i-16)/2),o}parseChars(n,e){let i,o=null,d=null;if(n>=25?(i=2,d=n-8):(i=1,d=n),d>=17&&d<=19){let m;m=17===d?e+80:18===d?e+112:e+144,this.logger.log(2,"Special char '"+F_(m)+"' in channel "+i),o=[m]}else n>=32&&n<=127&&(o=0===e?[n]:[n,e]);if(o){const m=Ed(o);this.logger.log(3,"Char codes =  "+m.join(",")),ru(n,e,this.cmdHistory)}return o}parseBackgroundAttributes(n,e){if(!((16===n||24===n)&&e>=32&&e<=47||(23===n||31===n)&&e>=45&&e<=47))return!1;let d;const m={};return 16===n||24===n?(d=Math.floor((e-32)/2),m.background=bd[d],e%2==1&&(m.background=m.background+"_semi")):45===e?m.background="transparent":(m.foreground="black",47===e&&(m.underline=!0)),this.channels[n<=23?1:2].setBkgData(m),ru(n,e,this.cmdHistory),!0}reset(){for(let n=0;n<Object.keys(this.channels).length;n++){const e=this.channels[n];e&&e.reset()}this.cmdHistory={a:null,b:null}}cueSplitAtTime(n){for(let e=0;e<this.channels.length;e++){const i=this.channels[e];i&&i.cueSplitAtTime(n)}}}function ru(r,n,e){e.a=r,e.b=n}function H_(r,n,e){return e.a===r&&e.b===n}class fh{constructor(n,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=n,this.trackName=e}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(n,e,i){(null===this.startTime||this.startTime>n)&&(this.startTime=n),this.endTime=e,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var zm=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;const r=["","lr","rl"],n=["start","middle","end","left","right"];function e(v,I){if("string"!=typeof I||!Array.isArray(v))return!1;const j=I.toLowerCase();return!!~v.indexOf(j)&&j}function o(v){return e(n,v)}function d(v,...I){let j=1;for(;j<arguments.length;j++){const ne=arguments[j];for(const pe in ne)v[pe]=ne[pe]}return v}function m(v,I,j){const ne=this,pe={enumerable:!0};ne.hasBeenReset=!1;let ze="",tt=!1,mt=v,Ct=I,Ot=j,Yt=null,fn="",sn=!0,En="auto",Dn="start",Vn=50,Rn="middle",qn=50,ni="middle";Object.defineProperty(ne,"id",d({},pe,{get:function(){return ze},set:function(kn){ze=""+kn}})),Object.defineProperty(ne,"pauseOnExit",d({},pe,{get:function(){return tt},set:function(kn){tt=!!kn}})),Object.defineProperty(ne,"startTime",d({},pe,{get:function(){return mt},set:function(kn){if("number"!=typeof kn)throw new TypeError("Start time must be set to a number.");mt=kn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"endTime",d({},pe,{get:function(){return Ct},set:function(kn){if("number"!=typeof kn)throw new TypeError("End time must be set to a number.");Ct=kn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"text",d({},pe,{get:function(){return Ot},set:function(kn){Ot=""+kn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"region",d({},pe,{get:function(){return Yt},set:function(kn){Yt=kn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"vertical",d({},pe,{get:function(){return fn},set:function(kn){const yi=function i(v){return e(r,v)}(kn);if(!1===yi)throw new SyntaxError("An invalid or illegal string was specified.");fn=yi,this.hasBeenReset=!0}})),Object.defineProperty(ne,"snapToLines",d({},pe,{get:function(){return sn},set:function(kn){sn=!!kn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"line",d({},pe,{get:function(){return En},set:function(kn){if("number"!=typeof kn&&"auto"!==kn)throw new SyntaxError("An invalid number or illegal string was specified.");En=kn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"lineAlign",d({},pe,{get:function(){return Dn},set:function(kn){const yi=o(kn);if(!yi)throw new SyntaxError("An invalid or illegal string was specified.");Dn=yi,this.hasBeenReset=!0}})),Object.defineProperty(ne,"position",d({},pe,{get:function(){return Vn},set:function(kn){if(kn<0||kn>100)throw new Error("Position must be between 0 and 100.");Vn=kn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"positionAlign",d({},pe,{get:function(){return Rn},set:function(kn){const yi=o(kn);if(!yi)throw new SyntaxError("An invalid or illegal string was specified.");Rn=yi,this.hasBeenReset=!0}})),Object.defineProperty(ne,"size",d({},pe,{get:function(){return qn},set:function(kn){if(kn<0||kn>100)throw new Error("Size must be between 0 and 100.");qn=kn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"align",d({},pe,{get:function(){return ni},set:function(kn){const yi=o(kn);if(!yi)throw new SyntaxError("An invalid or illegal string was specified.");ni=yi,this.hasBeenReset=!0}})),ne.displayState=void 0}return m.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},m}();class Y_{decode(n,e){if(!n)return"";if("string"!=typeof n)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(n))}}function W_(r){function n(i,o,d,m){return 3600*(0|i)+60*(0|o)+(0|d)+parseFloat(m||0)}const e=r.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return e?parseFloat(e[2])>59?n(e[2],e[3],0,e[4]):n(e[1],e[2],e[3],e[4]):null}class CE{constructor(){this.values=Object.create(null)}set(n,e){!this.get(n)&&""!==e&&(this.values[n]=e)}get(n,e,i){return i?this.has(n)?this.values[n]:e[i]:this.has(n)?this.values[n]:e}has(n){return n in this.values}alt(n,e,i){for(let o=0;o<i.length;++o)if(e===i[o]){this.set(n,e);break}}integer(n,e){/^-?\d+$/.test(e)&&this.set(n,parseInt(e,10))}percent(n,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){const i=parseFloat(e);if(i>=0&&i<=100)return this.set(n,i),!0}return!1}}function z_(r,n,e,i){const o=i?r.split(i):[r];for(const d in o){if("string"!=typeof o[d])continue;const m=o[d].split(e);2===m.length&&n(m[0],m[1])}}const Zm=new zm(0,0,""),Sd="middle"===Zm.align?"middle":"center";function gc(r,n,e){const i=r;function o(){const v=W_(r);if(null===v)throw new Error("Malformed timestamp: "+i);return r=r.replace(/^[^\sa-zA-Z-]+/,""),v}function m(){r=r.replace(/^\s+/,"")}if(m(),n.startTime=o(),m(),"--\x3e"!==r.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);r=r.slice(3),m(),n.endTime=o(),m(),function d(v,I){const j=new CE;z_(v,function(ze,tt){let mt;switch(ze){case"region":for(let Ct=e.length-1;Ct>=0;Ct--)if(e[Ct].id===tt){j.set(ze,e[Ct].region);break}break;case"vertical":j.alt(ze,tt,["rl","lr"]);break;case"line":mt=tt.split(","),j.integer(ze,mt[0]),j.percent(ze,mt[0])&&j.set("snapToLines",!1),j.alt(ze,mt[0],["auto"]),2===mt.length&&j.alt("lineAlign",mt[1],["start",Sd,"end"]);break;case"position":mt=tt.split(","),j.percent(ze,mt[0]),2===mt.length&&j.alt("positionAlign",mt[1],["start",Sd,"end","line-left","line-right","auto"]);break;case"size":j.percent(ze,tt);break;case"align":j.alt(ze,tt,["start",Sd,"end","left","right"])}},/:/,/\s/),I.region=j.get("region",null),I.vertical=j.get("vertical","");let ne=j.get("line","auto");"auto"===ne&&-1===Zm.line&&(ne=-1),I.line=ne,I.lineAlign=j.get("lineAlign","start"),I.snapToLines=j.get("snapToLines",!0),I.size=j.get("size",100),I.align=j.get("align",Sd);let pe=j.get("position","auto");"auto"===pe&&50===Zm.position&&(pe="start"===I.align||"left"===I.align?0:"end"===I.align||"right"===I.align?100:50),I.position=pe}(r,n)}function ou(r){return r.replace(/<br(?: \/)?>/gi,"\n")}class Z_{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new Y_,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(n){const e=this;function i(){let d=e.buffer,m=0;for(d=ou(d);m<d.length&&"\r"!==d[m]&&"\n"!==d[m];)++m;const v=d.slice(0,m);return"\r"===d[m]&&++m,"\n"===d[m]&&++m,e.buffer=d.slice(m),v}function o(d){z_(d,function(m,v){},/:/)}n&&(e.buffer+=e.decoder.decode(n,{stream:!0}));try{let d="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;d=i();const v=d.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==v||!v[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}let m=!1;for(;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(m?m=!1:d=i(),e.state){case"HEADER":/:/.test(d)?o(d):d||(e.state="ID");continue;case"NOTE":d||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(d)){e.state="NOTE";break}if(!d)continue;if(e.cue=new zm(0,0,""),e.state="CUE",-1===d.indexOf("--\x3e")){e.cue.id=d;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{gc(d,e.cue,e.regionList)}catch{e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":{const v=-1!==d.indexOf("--\x3e");if(!d||v&&(m=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=d}continue;case"BADCUE":d||(e.state="ID")}}}catch{"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this}flush(){const n=this;try{if((n.cue||"HEADER"===n.state)&&(n.buffer+="\n\n",n.parse()),"INITIAL"===n.state||"BADWEBVTT"===n.state)throw new Error("Malformed WebVTT signature.")}catch(e){n.onparsingerror&&n.onparsingerror(e)}return n.onflush&&n.onflush(),this}}const $_=/\r\n|\n\r|\n|\r/g,hh=function(n,e,i=0){return n.slice(i,i+e.length)===e},q_=function(n){let e=5381,i=n.length;for(;i;)e=33*e^n.charCodeAt(--i);return(e>>>0).toString()};function J_(r,n,e){return q_(r.toString())+q_(n.toString())+q_(e)}const Q_="stpp.ttml.im1t",DE=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Jm=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,xE={left:"start",center:"center",right:"end",start:"start",end:"end"};function X_(r,n,e,i){const o=Vi(new Uint8Array(r),["mdat"]);if(0===o.length)return void i(new Error("Could not parse IMSC1 mdat"));const d=o.map(v=>ss(v)),m=function hE(r,n,e=1,i=!1){return km(r,n,1/e,i)}(n.baseTime,1,n.timescale);try{d.forEach(v=>e(function ME(r,n){const o=(new DOMParser).parseFromString(r,"text/xml").getElementsByTagName("tt")[0];if(!o)throw new Error("Invalid ttml");const d={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},m=Object.keys(d).reduce((pe,ze)=>(pe[ze]=o.getAttribute(`ttp:${ze}`)||d[ze],pe),{}),v="preserve"!==o.getAttribute("xml:space"),I=Xm(Qm(o,"styling","style")),j=Xm(Qm(o,"layout","region")),ne=Qm(o,"body","[begin]");return[].map.call(ne,pe=>{const ze=Ju(pe,v);if(!ze||!pe.hasAttribute("begin"))return null;const tt=_c(pe.getAttribute("begin"),m),mt=_c(pe.getAttribute("dur"),m);let Ct=_c(pe.getAttribute("end"),m);if(null===tt)throw tv(pe);if(null===Ct){if(null===mt)throw tv(pe);Ct=tt+mt}const Ot=new zm(tt-n,Ct-n,ze);Ot.id=J_(Ot.startTime,Ot.endTime,Ot.text);const sn=function ev(r,n,e){const i="http://www.w3.org/ns/ttml#styling";let o=null;const m=null!=r&&r.hasAttribute("style")?r.getAttribute("style"):null;return m&&e.hasOwnProperty(m)&&(o=e[m]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((v,I)=>{const j=Qu(n,i,I)||Qu(r,i,I)||Qu(o,i,I);return j&&(v[I]=j),v},{})}(j[pe.getAttribute("region")],I[pe.getAttribute("style")],I),{textAlign:En}=sn;if(En){const Dn=xE[En];Dn&&(Ot.lineAlign=Dn),Ot.align=En}return zr(Ot,sn),Ot}).filter(pe=>null!==pe)}(v,m)))}catch(v){i(v)}}function Qm(r,n,e){const i=r.getElementsByTagName(n)[0];return i?[].slice.call(i.querySelectorAll(e)):[]}function Xm(r){return r.reduce((n,e)=>{const i=e.getAttribute("xml:id");return i&&(n[i]=e),n},{})}function Ju(r,n){return[].slice.call(r.childNodes).reduce((e,i,o)=>{var d;return"br"===i.nodeName&&o?e+"\n":null!=(d=i.childNodes)&&d.length?Ju(i,n):n?e+i.textContent.trim().replace(/\s+/g," "):e+i.textContent},"")}function Qu(r,n,e){return r&&r.hasAttributeNS(n,e)?r.getAttributeNS(n,e):null}function tv(r){return new Error(`Could not parse ttml timestamp ${r}`)}function _c(r,n){if(!r)return null;let e=W_(r);return null===e&&(DE.test(r)?e=function nv(r,n){const e=DE.exec(r);return 3600*(0|e[1])+60*(0|e[2])+(0|e[3])+((0|e[4])+(0|e[5])/n.subFrameRate)/n.frameRate}(r,n):Jm.test(r)&&(e=function AE(r,n){const e=Jm.exec(r),i=Number(e[1]);switch(e[2]){case"h":return 3600*i;case"m":return 60*i;case"ms":return 1e3*i;case"f":return i/n.frameRate;case"t":return i/n.tickRate}return i}(r,n))),e}function iv(r,n){return!!r&&r.label===n.name&&!(r.textTrack1||r.textTrack2)}function IE(r,n,e,i){return Math.min(n,i)-Math.max(r,e)}class tp{constructor(n){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=n,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(n){this.streamController=n}destroy(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:n}=this;n.on(z.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),n.on(z.MEDIA_ATTACHING,this.onMediaAttaching,this),n.on(z.MANIFEST_PARSED,this.onManifestParsed,this),n.on(z.BUFFER_CODECS,this.onBufferCodecs,this),n.on(z.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:n}=this;n.off(z.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),n.off(z.MEDIA_ATTACHING,this.onMediaAttaching,this),n.off(z.MANIFEST_PARSED,this.onManifestParsed,this),n.off(z.BUFFER_CODECS,this.onBufferCodecs,this),n.off(z.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(n,e){const i=this.hls.levels[e.droppedLevel];this.isLevelAllowed(i)&&this.restrictedLevels.push({bitrate:i.bitrate,height:i.height,width:i.width})}onMediaAttaching(n,e){this.media=e.media instanceof HTMLVideoElement?e.media:null,this.clientRect=null}onManifestParsed(n,e){const i=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,i.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onBufferCodecs(n,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){const n=this.hls.levels;if(n.length){const e=this.hls;e.autoLevelCapping=this.getMaxLevel(n.length-1),e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}}getMaxLevel(n){const e=this.hls.levels;if(!e.length)return-1;const i=e.filter((o,d)=>this.isLevelAllowed(o)&&d<=n);return this.clientRect=null,tp.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const n=this.media,e={width:0,height:0};if(n){const i=n.getBoundingClientRect();e.width=i.width,e.height=i.height,!e.width&&!e.height&&(e.width=i.right-i.left||n.width||0,e.height=i.bottom-i.top||n.height||0)}return this.clientRect=e,e}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let n=1;if(!this.hls.config.ignoreDevicePixelRatio)try{n=self.devicePixelRatio}catch{}return n}isLevelAllowed(n){return!this.restrictedLevels.some(i=>n.bitrate===i.bitrate&&n.width===i.width&&n.height===i.height)}static getMaxLevelByMediaSize(n,e,i){if(null==n||!n.length)return-1;const o=(m,v)=>!v||m.width!==v.width||m.height!==v.height;let d=n.length-1;for(let m=0;m<n.length;m+=1){const v=n[m];if((v.width>=e||v.height>=i)&&o(v,n[m+1])){d=m;break}}return d}}const Xu="[eme]";let Qx=(()=>{class r{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=r.CDMCleanupPromise?[r.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=hn.debug.bind(hn,Xu),this.log=hn.log.bind(hn,Xu),this.warn=hn.warn.bind(hn,Xu),this.error=hn.error.bind(hn,Xu),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(z.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(z.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(z.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(z.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(z.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(z.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(z.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(z.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:i,widevineLicenseUrl:o}=this.config,d=i[e];if(d)return d.licenseUrl;if(e===jr.WIDEVINE&&o)return o;throw new Error(`no license server URL configured for key-system "${e}"`)}getServerCertificateUrl(e){const{drmSystems:i}=this.config,o=i[e];if(o)return o.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const i=this.hls.levels,o=(v,I,j)=>!!v&&j.indexOf(v)===I,d=i.map(v=>v.audioCodec).filter(o),m=i.map(v=>v.videoCodec).filter(o);return d.length+m.length===0&&m.push("avc1.42e01e"),new Promise((v,I)=>{const j=ne=>{const pe=ne.shift();this.getMediaKeysPromise(pe,d,m).then(ze=>v({keySystem:pe,mediaKeys:ze})).catch(ze=>{ne.length?j(ne):I(ze instanceof gl?ze:new gl({type:Tt.KEY_SYSTEM_ERROR,details:je.KEY_SYSTEM_NO_ACCESS,error:ze,fatal:!0},ze.message))})};j(e)})}requestMediaKeySystemAccess(e,i){const{requestMediaKeySystemAccessFunc:o}=this.config;if("function"!=typeof o){let d=`Configured requestMediaKeySystemAccess is not a function ${o}`;return null===Nl&&"http:"===self.location.protocol&&(d=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(d))}return o(e,i)}getMediaKeysPromise(e,i,o){const d=function Po(r,n,e,i){let o;switch(r){case jr.FAIRPLAY:o=["cenc","sinf"];break;case jr.WIDEVINE:case jr.PLAYREADY:o=["cenc"];break;case jr.CLEARKEY:o=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${r}`)}return function nc(r,n,e,i){return[{initDataTypes:r,persistentState:i.persistentState||"not-allowed",distinctiveIdentifier:i.distinctiveIdentifier||"not-allowed",sessionTypes:i.sessionTypes||[i.sessionType||"temporary"],audioCapabilities:n.map(d=>({contentType:`audio/mp4; codecs="${d}"`,robustness:i.audioRobustness||"",encryptionScheme:i.audioEncryptionScheme||null})),videoCapabilities:e.map(d=>({contentType:`video/mp4; codecs="${d}"`,robustness:i.videoRobustness||"",encryptionScheme:i.videoEncryptionScheme||null}))}]}(o,n,e,i)}(e,i,o,this.config.drmSystemOptions),m=this.keySystemAccessPromises[e];let v=m?.keySystemAccess;if(!v){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(d)}`),v=this.requestMediaKeySystemAccess(e,d);const I=this.keySystemAccessPromises[e]={keySystemAccess:v};return v.catch(j=>{this.log(`Failed to obtain access to key-system "${e}": ${j}`)}),v.then(j=>{this.log(`Access for key-system "${j.keySystem}" obtained`);const ne=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),I.mediaKeys=j.createMediaKeys().then(pe=>(this.log(`Media-keys created for "${e}"`),ne.then(ze=>ze?this.setMediaKeysServerCertificate(pe,e,ze):pe))),I.mediaKeys.catch(pe=>{this.error(`Failed to create media-keys for "${e}"}: ${pe}`)}),I.mediaKeys})}return v.then(()=>m.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:i,mediaKeys:o}){this.log(`Creating key-system session "${i}" keyId: ${Ro_hexDump(e.keyId||[])}`);const d=o.createSession(),m={decryptdata:e,keySystem:i,mediaKeys:o,mediaKeysSession:d,keyStatus:"status-pending"};return this.mediaKeySessions.push(m),m}renewKeySession(e){const i=e.decryptdata;if(i.pssh){const o=this.createMediaKeySessionContext(e),d=this.getKeyIdString(i);this.keyIdToKeySessionPromise[d]=this.generateRequestWithPreferredKeySession(o,"cenc",i.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(null===e.keyId)throw new Error("keyId is null");return Ro_hexDump(e.keyId)}updateKeySession(e,i){var o;const d=e.mediaKeysSession;return this.log(`Updating key-session "${d.sessionId}" for keyID ${Ro_hexDump((null==(o=e.decryptdata)?void 0:o.keyId)||[])}\n      } (data length: ${i&&i.byteLength})`),d.update(i)}selectKeySystemFormat(e){const i=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${i.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(i)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((i,o)=>{const d=Oc(this.config),m=e.map(sr).filter(v=>!!v&&-1!==d.indexOf(v));return this.getKeySystemSelectionPromise(m).then(({keySystem:v})=>{const I=so(v);I?i(I):o(new Error(`Unable to find format for key-system "${v}"`))}).catch(o)})}loadKey(e){const i=e.keyInfo.decryptdata,o=this.getKeyIdString(i),d=`(keyId: ${o} format: "${i.keyFormat}" method: ${i.method} uri: ${i.uri})`;this.log(`Starting session for key ${d}`);let m=this.keyIdToKeySessionPromise[o];return m||(m=this.keyIdToKeySessionPromise[o]=this.getKeySystemForKeyPromise(i).then(({keySystem:v,mediaKeys:I})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${d}`),this.attemptSetMediaKeys(v,I).then(()=>{this.throwIfDestroyed();const j=this.createMediaKeySessionContext({keySystem:v,mediaKeys:I,decryptdata:i});return this.generateRequestWithPreferredKeySession(j,"cenc",i.pssh,"playlist-key")}))),m.catch(v=>this.handleError(v))),m}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),this.hls.trigger(z.ERROR,e instanceof gl?e.data:{type:Tt.KEY_SYSTEM_ERROR,details:je.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const i=this.getKeyIdString(e),o=this.keyIdToKeySessionPromise[i];if(!o){const d=sr(e.keyFormat),m=d?[d]:Oc(this.config);return this.attemptKeySystemAccess(m)}return o}getKeySystemSelectionPromise(e){if(e.length||(e=Oc(this.config)),0===e.length)throw new gl({type:Tt.KEY_SYSTEM_ERROR,details:je.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){const{initDataType:i,initData:o}=e;if(this.debug(`"${e.type}" event: init data type: "${i}"`),null===o)return;let d,m;if("sinf"===i&&this.config.drmSystems[jr.FAIRPLAY]){const pe=To(new Uint8Array(o));try{const ze=os(JSON.parse(pe).sinf),tt=de(new Uint8Array(ze));if(!tt)return;d=tt.subarray(8,24),m=jr.FAIRPLAY}catch{return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{const pe=function Ts(r){if(!(r instanceof ArrayBuffer)||r.byteLength<32)return null;const n={version:0,systemId:"",kids:null,data:null},e=new DataView(r),i=e.getUint32(0);if(r.byteLength!==i&&i>44||1886614376!==e.getUint32(4)||(n.version=e.getUint32(8)>>>24,n.version>1))return null;n.systemId=Ro_hexDump(new Uint8Array(r,12,16));const d=e.getUint32(28);if(0===n.version){if(i-32<d)return null;n.data=new Uint8Array(r,32,d)}else if(1===n.version){n.kids=[];for(let m=0;m<d;m++)n.kids.push(new Uint8Array(r,32+16*m,16))}return n}(o);if(null===pe)return;0===pe.version&&"edef8ba979d64acea3c827dcd51d21ed"===pe.systemId&&pe.data&&(d=pe.data.subarray(8,24)),m=function Es(r){if("edef8ba979d64acea3c827dcd51d21ed"===r)return jr.WIDEVINE}(pe.systemId)}if(!m||!d)return;const v=Ro_hexDump(d),{keyIdToKeySessionPromise:I,mediaKeySessions:j}=this;let ne=I[v];for(let pe=0;pe<j.length;pe++){const ze=j[pe],tt=ze.decryptdata;if(tt.pssh||!tt.keyId)continue;const mt=Ro_hexDump(tt.keyId);if(v===mt||-1!==tt.uri.replace(/-/g,"").indexOf(v)){ne=I[mt],delete I[mt],tt.pssh=new Uint8Array(o),tt.keyId=d,ne=I[v]=ne.then(()=>this.generateRequestWithPreferredKeySession(ze,i,o,"encrypted-event-key-match"));break}}ne||(ne=I[v]=this.getKeySystemSelectionPromise([m]).then(({keySystem:pe,mediaKeys:ze})=>{var tt;this.throwIfDestroyed();const mt=new al("ISO-23001-7",v,null!=(tt=so(pe))?tt:"");return mt.pssh=new Uint8Array(o),mt.keyId=d,this.attemptSetMediaKeys(pe,ze).then(()=>{this.throwIfDestroyed();const Ct=this.createMediaKeySessionContext({decryptdata:mt,keySystem:pe,mediaKeys:ze});return this.generateRequestWithPreferredKeySession(Ct,i,o,"encrypted-event-no-match")})})),ne.catch(pe=>this.handleError(pe))}_onWaitingForKey(e){this.log(`"${e.type}" event`)}attemptSetMediaKeys(e,i){const o=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const d=Promise.all(o).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(i)});return this.setMediaKeysQueue.push(d),d.then(()=>{this.log(`Media-keys set for "${e}"`),o.push(d),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(m=>-1===o.indexOf(m))})}generateRequestWithPreferredKeySession(e,i,o,d){var m,v;const I=null==(m=this.config.drmSystems)||null==(v=m[e.keySystem])?void 0:v.generateRequest;if(I)try{const tt=I.call(this.hls,i,o,e);if(!tt)throw new Error("Invalid response from configured generateRequest filter");i=tt.initDataType,o=e.decryptdata.pssh=tt.initData?new Uint8Array(tt.initData):null}catch(tt){var j;if(this.warn(tt.message),null!=(j=this.hls)&&j.config.debug)throw tt}if(null===o)return this.log(`Skipping key-session request for "${d}" (no initData)`),Promise.resolve(e);const ne=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${d}": ${ne} (init data type: ${i} length: ${o?o.byteLength:null})`);const pe=new iu;e.mediaKeysSession.onmessage=tt=>{const mt=e.mediaKeysSession;if(!mt)return void pe.emit("error",new Error("invalid state"));const{messageType:Ct,message:Ot}=tt;this.log(`"${Ct}" message event for session "${mt.sessionId}" message size: ${Ot.byteLength}`),"license-request"===Ct||"license-renewal"===Ct?this.renewLicense(e,Ot).catch(Yt=>{this.handleError(Yt),pe.emit("error",Yt)}):"license-release"===Ct?e.keySystem===jr.FAIRPLAY&&(this.updateKeySession(e,wc("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${Ct}"`)},e.mediaKeysSession.onkeystatuseschange=tt=>{if(!e.mediaKeysSession)return void pe.emit("error",new Error("invalid state"));this.onKeyStatusChange(e);const Ct=e.keyStatus;pe.emit("keyStatus",Ct),"expired"===Ct&&(this.warn(`${e.keySystem} expired for key ${ne}`),this.renewKeySession(e))};const ze=new Promise((tt,mt)=>{pe.on("error",mt),pe.on("keyStatus",Ct=>{Ct.startsWith("usable")?tt():"output-restricted"===Ct?mt(new gl({type:Tt.KEY_SYSTEM_ERROR,details:je.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===Ct?mt(new gl({type:Tt.KEY_SYSTEM_ERROR,details:je.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${Ct}"`)):"expired"===Ct?mt(new Error("key expired while generating request")):this.warn(`unhandled key status change "${Ct}"`)})});return e.mediaKeysSession.generateRequest(i,o).then(()=>{var tt;this.log(`Request generated for key-session "${null==(tt=e.mediaKeysSession)?void 0:tt.sessionId}" keyId: ${ne}`)}).catch(tt=>{throw new gl({type:Tt.KEY_SYSTEM_ERROR,details:je.KEY_SYSTEM_NO_SESSION,error:tt,fatal:!1},`Error generating key-session request: ${tt}`)}).then(()=>ze).catch(tt=>{throw pe.removeAllListeners(),this.removeSession(e),tt}).then(()=>(pe.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((i,o)=>{this.log(`key status change "${i}" for keyStatuses keyId: ${Ro_hexDump("buffer"in o?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o))} session keyId: ${Ro_hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=i})}fetchServerCertificate(e){const i=this.config,d=new(0,i.loader)(i),m=this.getServerCertificateUrl(e);return m?(this.log(`Fetching serverCertificate for "${e}"`),new Promise((v,I)=>{const j={responseType:"arraybuffer",url:m},ne=i.certLoadPolicy.default;d.load(j,{loadPolicy:ne,timeout:ne.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(tt,mt,Ct,Ot)=>{v(tt.data)},onError:(tt,mt,Ct,Ot)=>{I(new gl({type:Tt.KEY_SYSTEM_ERROR,details:je.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:Ct,response:mo({url:j.url,data:void 0},tt)},`"${e}" certificate request failed (${m}). Status: ${tt.code} (${tt.text})`))},onTimeout:(tt,mt,Ct)=>{I(new gl({type:Tt.KEY_SYSTEM_ERROR,details:je.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:Ct,response:{url:j.url,data:void 0}},`"${e}" certificate request timed out (${m})`))},onAbort:(tt,mt,Ct)=>{I(new Error("aborted"))}})})):Promise.resolve()}setMediaKeysServerCertificate(e,i,o){return new Promise((d,m)=>{e.setServerCertificate(o).then(v=>{this.log(`setServerCertificate ${v?"success":"not supported by CDM"} (${o?.byteLength}) on "${i}"`),d(e)}).catch(v=>{m(new gl({type:Tt.KEY_SYSTEM_ERROR,details:je.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:v,fatal:!0},v.message))})})}renewLicense(e,i){return this.requestLicense(e,new Uint8Array(i)).then(o=>this.updateKeySession(e,new Uint8Array(o)).catch(d=>{throw new gl({type:Tt.KEY_SYSTEM_ERROR,details:je.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:d,fatal:!0},d.message)}))}setupLicenseXHR(e,i,o,d){const m=this.config.licenseXhrSetup;return m?Promise.resolve().then(()=>{if(!o.decryptdata)throw new Error("Key removed");return m.call(this.hls,e,i,o,d)}).catch(v=>{if(!o.decryptdata)throw v;return e.open("POST",i,!0),m.call(this.hls,e,i,o,d)}).then(v=>(e.readyState||e.open("POST",i,!0),{xhr:e,licenseChallenge:v||d})):(e.open("POST",i,!0),Promise.resolve({xhr:e,licenseChallenge:d}))}requestLicense(e,i){const o=this.config.keyLoadPolicy.default;return new Promise((d,m)=>{const v=this.getLicenseServerUrl(e.keySystem);this.log(`Sending license request to URL: ${v}`);const I=new XMLHttpRequest;I.responseType="arraybuffer",I.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return m(new Error("invalid state"));if(4===I.readyState)if(200===I.status){this._requestLicenseFailureCount=0;let j=I.response;this.log(`License received ${j instanceof ArrayBuffer?j.byteLength:j}`);const ne=this.config.licenseResponseCallback;if(ne)try{j=ne.call(this.hls,I,v,e)}catch(pe){this.error(pe)}d(j)}else{const j=o.errorRetry,ne=j?j.maxNumRetry:0;this._requestLicenseFailureCount++,this._requestLicenseFailureCount>ne||I.status>=400&&I.status<500?m(new gl({type:Tt.KEY_SYSTEM_ERROR,details:je.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:I,response:{url:v,data:void 0,code:I.status,text:I.statusText}},`License Request XHR failed (${v}). Status: ${I.status} (${I.statusText})`)):(this.warn(`Retrying license request, ${ne-this._requestLicenseFailureCount+1} attempts left`),this.requestLicense(e,i).then(d,m))}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=I,this.setupLicenseXHR(I,v,e,i).then(({xhr:j,licenseChallenge:ne})=>{j.send(ne)})})}onMediaAttached(e,i){if(!this.config.emeEnabled)return;const o=i.media;this.media=o,o.addEventListener("encrypted",this.onMediaEncrypted),o.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,i=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},al.clearKeyUriToKeyIdMap();const o=i.length;r.CDMCleanupPromise=Promise.all(i.map(d=>this.removeSession(d)).concat(e?.setMediaKeys(null).catch(d=>{this.log(`Could not clear media keys: ${d}. media.src: ${e?.src}`)}))).then(()=>{o&&(this.log("finished closing key sessions and clearing media keys"),i.length=0)}).catch(d=>{this.log(`Could not close sessions and clear media keys: ${d}. media.src: ${e?.src}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:i}){if(i&&this.config.emeEnabled&&!this.keyFormatPromise){const o=i.reduce((d,m)=>(-1===d.indexOf(m.keyFormat)&&d.push(m.keyFormat),d),[]);this.log(`Selecting key-system from session-keys ${o.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(o)}}removeSession(e){const{mediaKeysSession:i,licenseXhr:o}=e;if(i){this.log(`Remove licenses and keys and close session ${i.sessionId}`),i.onmessage=null,i.onkeystatuseschange=null,o&&o.readyState!==XMLHttpRequest.DONE&&o.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const d=this.mediaKeySessions.indexOf(e);return d>-1&&this.mediaKeySessions.splice(d,1),i.remove().catch(m=>{this.log(`Could not remove session: ${m}`)}).then(()=>i.close()).catch(m=>{this.log(`Could not close session: ${m}`)})}}}return r.CDMCleanupPromise=void 0,r})();class gl extends Error{constructor(n,e){super(e),this.data=void 0,n.error||(n.error=new Error(e)),this.data=n,n.err=n.error}}class vc{constructor(n){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=o=>{try{this.apply(o,{ot:"m",su:!this.initialized})}catch(d){hn.warn("Could not generate manifest CMCD data.",d)}},this.applyFragmentData=o=>{try{const d=o.frag,m=this.hls.levels[d.level],v=this.getObjectType(d),I={d:1e3*d.duration,ot:v};("v"===v||"a"===v||"av"==v)&&(I.br=m.bitrate/1e3,I.tb=this.getTopBandwidth(v)/1e3,I.bl=this.getBufferLength(v)),this.apply(o,I)}catch(d){hn.warn("Could not generate segment CMCD data.",d)}},this.hls=n;const e=this.config=n.config,{cmcd:i}=e;null!=i&&(e.pLoader=this.createPlaylistLoader(),e.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||vc.uuid(),this.cid=i.contentId,this.useHeaders=!0===i.useHeaders,this.registerListeners())}registerListeners(){const n=this.hls;n.on(z.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(z.MEDIA_DETACHED,this.onMediaDetached,this),n.on(z.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const n=this.hls;n.off(z.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(z.MEDIA_DETACHED,this.onMediaDetached,this),n.off(z.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}onMediaAttached(n,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(n,e){var i,o;this.audioBuffer=null==(i=e.tracks.audio)?void 0:i.buffer,this.videoBuffer=null==(o=e.tracks.video)?void 0:o.buffer}createData(){var n;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(n=this.media)?void 0:n.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(n,e={}){if(zr(e,this.createData()),this.starved&&("i"===e.ot||"v"===e.ot||"av"===e.ot)&&(e.bs=!0,e.su=!0,this.starved=!1),null==e.su&&(e.su=this.buffering),this.useHeaders){const o=vc.toHeaders(e);if(!Object.keys(o).length)return;n.headers||(n.headers={}),zr(n.headers,o)}else{const o=vc.toQuery(e);if(!o)return;n.url=vc.appendQueryToUri(n.url,o)}}getObjectType(n){const{type:e}=n;return"subtitle"===e?"tt":"initSegment"===n.sn?"i":"audio"===e?"a":"main"===e?this.hls.audioTracks.length?"v":"av":void 0}getTopBandwidth(n){let i,e=0;const o=this.hls;if("a"===n)i=o.audioTracks;else{const d=o.maxAutoLevel;i=o.levels.slice(0,d>-1?d+1:o.levels.length)}for(const d of i)d.bitrate>e&&(e=d.bitrate);return e>0?e:NaN}getBufferLength(n){const e=this.hls.media,i="a"===n?this.audioBuffer:this.videoBuffer;return i&&e?1e3*Lr.bufferInfo(i,e.currentTime,this.config.maxBufferHole).len:NaN}createPlaylistLoader(){const{pLoader:n}=this.config,e=this.applyPlaylistData,i=n||this.config.loader;return class{constructor(d){this.loader=void 0,this.loader=new i(d)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(d,m,v){e(d),this.loader.load(d,m,v)}}}createFragmentLoader(){const{fLoader:n}=this.config,e=this.applyFragmentData,i=n||this.config.loader;return class{constructor(d){this.loader=void 0,this.loader=new i(d)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(d,m,v){e(d),this.loader.load(d,m,v)}}}static uuid(){const n=URL.createObjectURL(new Blob),e=n.toString();return URL.revokeObjectURL(n),e.slice(e.lastIndexOf("/")+1)}static serialize(n){const e=[],i=j=>!Number.isNaN(j)&&null!=j&&""!==j&&!1!==j,o=j=>Math.round(j),d=j=>100*o(j/100),v={br:o,d:o,bl:d,dl:d,mtp:d,nor:j=>encodeURIComponent(j),rtp:d,tb:o},I=Object.keys(n||{}).sort();for(const j of I){let ne=n[j];if(!i(ne)||"v"===j&&1===ne||"pr"==j&&1===ne)continue;const pe=v[j];pe&&(ne=pe(ne));const ze=typeof ne;let tt;tt="ot"===j||"sf"===j||"st"===j?`${j}=${ne}`:"boolean"===ze?j:"number"===ze?`${j}=${ne}`:`${j}=${JSON.stringify(ne)}`,e.push(tt)}return e.join(",")}static toHeaders(n){const e=Object.keys(n),i={},o=["Object","Request","Session","Status"],d=[{},{},{},{}],m={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};for(const v of e)d[null!=m[v]?m[v]:1][v]=n[v];for(let v=0;v<d.length;v++){const I=vc.serialize(d[v]);I&&(i[`CMCD-${o[v]}`]=I)}return i}static toQuery(n){return`CMCD=${encodeURIComponent(vc.serialize(n))}`}static appendQueryToUri(n,e){if(!e)return n;const i=n.includes("?")?"&":"?";return`${n}${i}${e}`}}function mh(r,n,e,i){r&&Object.keys(n).forEach(o=>{const d=r.filter(m=>m.groupId===o).map(m=>{const v=zr({},m);return v.details=void 0,v.attrs=new Fi(v.attrs),v.url=v.attrs.URI=av(m.url,m.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",e),v.groupId=v.attrs["GROUP-ID"]=n[o],v.attrs["PATHWAY-ID"]=i,v});r.push(...d)})}function av(r,n,e,i){const{HOST:o,PARAMS:d,[e]:m}=i;let v;n&&(v=m?.[n],v&&(r=v));const I=new self.URL(r);return o&&!v&&(I.host=o),d&&Object.keys(d).sort().forEach(j=>{j&&I.searchParams.set(j,d[j])}),I.href}const lv=/^age:\s*[\d.]+\s*$/im;class np{constructor(n){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=n&&n.xhrSetup||null,this.stats=new bi,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}abortInternal(){const n=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),n&&(n.onreadystatechange=null,n.onprogress=null,4!==n.readyState&&(this.stats.aborted=!0,n.abort()))}abort(){var n;this.abortInternal(),null!=(n=this.callbacks)&&n.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(n,e,i){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=n,this.config=e,this.callbacks=i,this.loadInternal()}loadInternal(){const{config:n,context:e}=this;if(!n)return;const i=this.loader=new self.XMLHttpRequest,o=this.stats;o.loading.first=0,o.loaded=0,o.aborted=!1;const d=this.xhrSetup;d?Promise.resolve().then(()=>{if(!this.stats.aborted)return d(i,e.url)}).catch(m=>(i.open("GET",e.url,!0),d(i,e.url))).then(()=>{this.stats.aborted||this.openAndSendXhr(i,e,n)}).catch(m=>{this.callbacks.onError({code:i.status,text:m.message},e,i,o)}):this.openAndSendXhr(i,e,n)}openAndSendXhr(n,e,i){n.readyState||n.open("GET",e.url,!0);const o=this.context.headers,{maxTimeToFirstByteMs:d,maxLoadTimeMs:m}=i.loadPolicy;if(o)for(const v in o)n.setRequestHeader(v,o[v]);e.rangeEnd&&n.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),n.onreadystatechange=this.readystatechange.bind(this),n.onprogress=this.loadprogress.bind(this),n.responseType=e.responseType,self.clearTimeout(this.requestTimeout),i.timeout=d&&_i(d)?d:m,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout),n.send()}readystatechange(){const{context:n,loader:e,stats:i}=this;if(!n||!e)return;const o=e.readyState,d=this.config;if(!i.aborted&&o>=2&&(0===i.loading.first&&(i.loading.first=Math.max(self.performance.now(),i.loading.start),d.timeout!==d.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),d.timeout=d.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),d.loadPolicy.maxLoadTimeMs-(i.loading.first-i.loading.start)))),4===o)){self.clearTimeout(this.requestTimeout),e.onreadystatechange=null,e.onprogress=null;const m=e.status,v="text"!==e.responseType;if(m>=200&&m<300&&(v&&e.response||null!==e.responseText)){i.loading.end=Math.max(self.performance.now(),i.loading.first);const I=v?e.response:e.responseText;if(i.loaded=i.total="arraybuffer"===e.responseType?I.byteLength:I.length,i.bwEstimate=8e3*i.total/(i.loading.end-i.loading.first),!this.callbacks)return;const ne=this.callbacks.onProgress;if(ne&&ne(i,n,I,e),!this.callbacks)return;this.callbacks.onSuccess({url:e.responseURL,data:I,code:m},i,n,e)}else{const I=d.loadPolicy.errorRetry;Hl(I,i.retry,!1,m)?this.retry(I):(hn.error(`${m} while loading ${n.url}`),this.callbacks.onError({code:m,text:e.statusText},n,e,i))}}}loadtimeout(){var n;const e=null==(n=this.config)?void 0:n.loadPolicy.timeoutRetry;if(Hl(e,this.stats.retry,!0))this.retry(e);else{hn.warn(`timeout while loading ${this.context.url}`);const o=this.callbacks;o&&(this.abortInternal(),o.onTimeout(this.stats,this.context,this.loader))}}retry(n){const{context:e,stats:i}=this;this.retryDelay=xs(n,i.retry),i.retry++,hn.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${e.url}, retrying ${i.retry}/${n.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(n){const e=this.stats;e.loaded=n.loaded,n.lengthComputable&&(e.total=n.total)}getCacheAge(){let n=null;if(this.loader&&lv.test(this.loader.getAllResponseHeaders())){const e=this.loader.getResponseHeader("age");n=e?parseFloat(e):null}return n}getResponseHeader(n){return this.loader&&new RegExp(`^${n}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(n):null}}const Xx=/(\d+)-(\d+)\/(\d+)/;class ph{constructor(n){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=n.fetchSetup||dv,this.controller=new self.AbortController,this.stats=new bi}destroy(){this.loader=this.callbacks=null,this.abortInternal()}abortInternal(){const n=this.response;null!=n&&n.ok||(this.stats.aborted=!0,this.controller.abort())}abort(){var n;this.abortInternal(),null!=(n=this.callbacks)&&n.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(n,e,i){const o=this.stats;if(o.loading.start)throw new Error("Loader can only be used once.");o.loading.start=self.performance.now();const d=function OE(r,n){const e={method:"GET",mode:"cors",credentials:"same-origin",signal:n,headers:new self.Headers(zr({},r.headers))};return r.rangeEnd&&e.headers.set("Range","bytes="+r.rangeStart+"-"+String(r.rangeEnd-1)),e}(n,this.controller.signal),m=i.onProgress,v="arraybuffer"===n.responseType,I=v?"byteLength":"length",{maxTimeToFirstByteMs:j,maxLoadTimeMs:ne}=e.loadPolicy;this.context=n,this.config=e,this.callbacks=i,this.request=this.fetchSetup(n,d),self.clearTimeout(this.requestTimeout),e.timeout=j&&_i(j)?j:ne,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),i.onTimeout(o,n,this.response)},e.timeout),self.fetch(this.request).then(pe=>{this.response=this.loader=pe;const ze=Math.max(self.performance.now(),o.loading.start);if(self.clearTimeout(this.requestTimeout),e.timeout=ne,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),i.onTimeout(o,n,this.response)},ne-(ze-o.loading.start)),!pe.ok){const{status:tt,statusText:mt}=pe;throw new Cd(mt||"fetch, bad network response",tt,pe)}return o.loading.first=ze,o.total=function cv(r){const n=r.get("Content-Range");if(n){const i=function rp(r){const n=Xx.exec(r);if(n)return parseInt(n[2])-parseInt(n[1])+1}(n);if(_i(i))return i}const e=r.get("Content-Length");if(e)return parseInt(e)}(pe.headers)||o.total,m&&_i(e.highWaterMark)?this.loadProgressively(pe,o,n,e.highWaterMark,m):v?pe.arrayBuffer():"json"===n.responseType?pe.json():pe.text()}).then(pe=>{const{response:ze}=this;self.clearTimeout(this.requestTimeout),o.loading.end=Math.max(self.performance.now(),o.loading.first);const tt=pe[I];tt&&(o.loaded=o.total=tt);const mt={url:ze.url,data:pe,code:ze.status};m&&!_i(e.highWaterMark)&&m(o,n,pe,ze),i.onSuccess(mt,o,n,ze)}).catch(pe=>{self.clearTimeout(this.requestTimeout),o.aborted||i.onError({code:pe&&pe.code||0,text:pe?pe.message:null},n,pe?pe.details:null,o)})}getCacheAge(){let n=null;if(this.response){const e=this.response.headers.get("age");n=e?parseFloat(e):null}return n}getResponseHeader(n){return this.response?this.response.headers.get(n):null}loadProgressively(n,e,i,o=0,d){const m=new ch,v=n.body.getReader(),I=()=>v.read().then(j=>{if(j.done)return m.dataLength&&d(e,i,m.flush(),n),Promise.resolve(new ArrayBuffer(0));const ne=j.value,pe=ne.length;return e.loaded+=pe,pe<o||m.dataLength?(m.push(ne),m.dataLength>=o&&d(e,i,m.flush(),n)):d(e,i,ne,n),I()}).catch(()=>Promise.reject());return I()}}function dv(r,n){return new self.Request(r.url,n)}class Cd extends Error{constructor(n,e,i){super(n),this.code=void 0,this.details=void 0,this.code=e,this.details=i}}const PE=/\s/,op={newCue(r,n,e,i){const o=[];let d,m,v,I,j;const ne=self.VTTCue||self.TextTrackCue;for(let ze=0;ze<i.rows.length;ze++)if(d=i.rows[ze],v=!0,I=0,j="",!d.isEmpty()){var pe;for(let Ct=0;Ct<d.chars.length;Ct++)PE.test(d.chars[Ct].uchar)&&v?I++:(j+=d.chars[Ct].uchar,v=!1);d.cueStartTime=n,n===e&&(e+=1e-4),I>=16?I--:I++;const tt=ou(j.trim()),mt=J_(n,e,tt);null!=r&&null!=(pe=r.cues)&&pe.getCueById(mt)||(m=new ne(n,e,tt),m.id=mt,m.line=ze+1,m.align="left",m.position=10+Math.min(80,10*Math.floor(8*I/32)),o.push(m))}return r&&o.length&&(o.sort((ze,tt)=>"auto"===ze.line||"auto"===tt.line?0:ze.line>8&&tt.line>8?tt.line-ze.line:ze.line-tt.line),o.forEach(ze=>cd(r,ze))),o}},RE=mo(mo({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:np,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class O_{constructor(n){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=n;const e=n.config;this.bwEstimator=new lh(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate),this.registerListeners()}registerListeners(){const{hls:n}=this;n.on(z.FRAG_LOADING,this.onFragLoading,this),n.on(z.FRAG_LOADED,this.onFragLoaded,this),n.on(z.FRAG_BUFFERED,this.onFragBuffered,this),n.on(z.LEVEL_SWITCHING,this.onLevelSwitching,this),n.on(z.LEVEL_LOADED,this.onLevelLoaded,this)}unregisterListeners(){const{hls:n}=this;n.off(z.FRAG_LOADING,this.onFragLoading,this),n.off(z.FRAG_LOADED,this.onFragLoaded,this),n.off(z.FRAG_BUFFERED,this.onFragBuffered,this),n.off(z.LEVEL_SWITCHING,this.onLevelSwitching,this),n.off(z.LEVEL_LOADED,this.onLevelLoaded,this)}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}onFragLoading(n,e){var i;const o=e.frag;this.ignoreFragment(o)||(this.fragCurrent=o,this.partCurrent=null!=(i=e.part)?i:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}onLevelSwitching(n,e){this.clearTimer()}getTimeToLoadFrag(n,e,i,o){return n+i/e+(o?this.lastLevelLoadSec:0)}onLevelLoaded(n,e){const i=this.hls.config,{total:o,bwEstimate:d}=e.stats;_i(o)&&_i(d)&&(this.lastLevelLoadSec=8*o/d),e.details.live?this.bwEstimator.update(i.abrEwmaSlowLive,i.abrEwmaFastLive):this.bwEstimator.update(i.abrEwmaSlowVoD,i.abrEwmaFastVoD)}_abandonRulesCheck(){const{fragCurrent:n,partCurrent:e,hls:i}=this,{autoLevelEnabled:o,media:d}=i;if(!n||!d)return;const m=performance.now(),v=e?e.stats:n.stats,I=e?e.duration:n.duration,j=m-v.loading.start;if(v.aborted||v.loaded&&v.loaded===v.total||0===n.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!o||d.paused||!d.playbackRate||!d.readyState)return;const ne=i.mainForwardBufferInfo;if(null===ne)return;const pe=this.bwEstimator.getEstimateTTFB(),ze=Math.abs(d.playbackRate);if(j<=Math.max(pe,I/(2*ze)*1e3))return;const tt=ne.len/ze;if(tt>=2*I/ze)return;const mt=v.loading.first?v.loading.first-v.loading.start:-1,Ct=v.loaded&&mt>-1,Ot=this.bwEstimator.getEstimate(),{levels:Yt,minAutoLevel:fn}=i,En=v.total||Math.max(v.loaded,Math.round(I*Yt[n.level].maxBitrate/8));let Dn=j-mt;Dn<1&&Ct&&(Dn=Math.min(j,8*v.loaded/Ot));const Vn=Ct?1e3*v.loaded/Dn:0,Rn=Vn?(En-v.loaded)/Vn:8*En/Ot+pe/1e3;if(Rn<=tt)return;const qn=Vn?8*Vn:Ot;let kn,ni=Number.POSITIVE_INFINITY;for(kn=n.level-1;kn>fn&&(ni=this.getTimeToLoadFrag(pe/1e3,qn,I*Yt[kn].maxBitrate,!Yt[kn].details),!(ni<tt));kn--);ni>=Rn||ni>10*I||(i.nextLoadLevel=kn,Ct?this.bwEstimator.sample(j-Math.min(pe,mt),v.loaded):this.bwEstimator.sampleTTFB(j),this.clearTimer(),hn.warn(`[abr] Fragment ${n.sn}${e?" part "+e.index:""} of level ${n.level} is loading too slowly;\n      Time to underbuffer: ${tt.toFixed(3)} s\n      Estimated load time for current fragment: ${Rn.toFixed(3)} s\n      Estimated load time for down switch fragment: ${ni.toFixed(3)} s\n      TTFB estimate: ${mt}\n      Current BW estimate: ${_i(Ot)?(Ot/1024).toFixed(3):"Unknown"} Kb/s\n      New BW estimate: ${(this.bwEstimator.getEstimate()/1024).toFixed(3)} Kb/s\n      Aborting and switching to level ${kn}`),n.loader&&(this.fragCurrent=this.partCurrent=null,n.abortRequests()),i.trigger(z.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,part:e,stats:v}))}onFragLoaded(n,{frag:e,part:i}){const o=i?i.stats:e.stats;if("main"===e.type&&this.bwEstimator.sampleTTFB(o.loading.first-o.loading.start),!this.ignoreFragment(e)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){const m=this.hls.levels[e.level],v=(m.loaded?m.loaded.bytes:0)+o.loaded,I=(m.loaded?m.loaded.duration:0)+(i?i.duration:e.duration);m.loaded={bytes:v,duration:I},m.realBitrate=Math.round(8*v/I)}e.bitrateTest&&(this.onFragBuffered(z.FRAG_BUFFERED,{stats:o,frag:e,part:i,id:e.type}),e.bitrateTest=!1)}}onFragBuffered(n,e){const{frag:i,part:o}=e,d=null!=o&&o.stats.loaded?o.stats:i.stats;if(d.aborted||this.ignoreFragment(i))return;const m=d.parsing.end-d.loading.start-Math.min(d.loading.first-d.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(m,d.loaded),d.bwEstimate=this.bwEstimator.getEstimate(),this.bitrateTestDelay=i.bitrateTest?m/1e3:0}ignoreFragment(n){return"main"!==n.type||"initSegment"===n.sn}clearTimer(){self.clearInterval(this.timer)}get nextAutoLevel(){const n=this._nextAutoLevel;if(-1!==n&&!this.bwEstimator.canEstimate())return n;let i=this.getNextABRAutoLevel();if(-1!==n){const o=this.hls.levels;if(o.length>Math.max(n,i)&&o[n].loadError<=o[i].loadError)return n}return-1!==n&&(i=Math.min(n,i)),i}getNextABRAutoLevel(){const{fragCurrent:n,partCurrent:e,hls:i}=this,{maxAutoLevel:o,config:d,minAutoLevel:m,media:v}=i,I=e?e.duration:n?n.duration:0,j=v&&0!==v.playbackRate?Math.abs(v.playbackRate):1,ne=this.bwEstimator?this.bwEstimator.getEstimate():d.abrEwmaDefaultEstimate,pe=i.mainForwardBufferInfo,ze=(pe?pe.len:0)/j;let tt=this.findBestLevel(ne,m,o,ze,d.abrBandWidthFactor,d.abrBandWidthUpFactor);if(tt>=0)return tt;hn.trace(`[abr] ${ze?"rebuffering expected":"buffer is empty"}, finding optimal quality level`);let mt=I?Math.min(I,d.maxStarvationDelay):d.maxStarvationDelay,Ct=d.abrBandWidthFactor,Ot=d.abrBandWidthUpFactor;if(!ze){const Yt=this.bitrateTestDelay;Yt&&(mt=(I?Math.min(I,d.maxLoadingDelay):d.maxLoadingDelay)-Yt,hn.trace(`[abr] bitrate test took ${Math.round(1e3*Yt)}ms, set first fragment max fetchDuration to ${Math.round(1e3*mt)} ms`),Ct=Ot=1)}return tt=this.findBestLevel(ne,m,o,ze+mt,Ct,Ot),Math.max(tt,0)}findBestLevel(n,e,i,o,d,m){var v;const{fragCurrent:I,partCurrent:j,lastLoadedFragLevel:ne}=this,{levels:pe}=this.hls,ze=pe[ne],tt=!(null==ze||null==(v=ze.details)||!v.live),mt=ze?.codecSet,Ct=j?j.duration:I?I.duration:0,Ot=this.bwEstimator.getEstimateTTFB()/1e3;let Yt=e,fn=-1;for(let sn=i;sn>=e;sn--){const En=pe[sn];if(!En||mt&&En.codecSet!==mt){En&&(Yt=Math.min(sn,Yt),fn=Math.max(sn,fn));continue}-1!==fn&&hn.trace(`[abr] Skipped level(s) ${Yt}-${fn} with CODECS:"${pe[fn].attrs.CODECS}"; not compatible with "${ze.attrs.CODECS}"`);const Dn=En.details,Vn=(j?Dn?.partTarget:Dn?.averagetargetduration)||Ct;let Rn;Rn=sn<=ne?d*n:m*n;const qn=pe[sn].maxBitrate,ni=this.getTimeToLoadFrag(Ot,Rn,qn*Vn,void 0===Dn);if(hn.trace(`[abr] level:${sn} adjustedbw-bitrate:${Math.round(Rn-qn)} avgDuration:${Vn.toFixed(1)} maxFetchDuration:${o.toFixed(1)} fetchDuration:${ni.toFixed(1)}`),Rn>qn&&(0===ni||!_i(ni)||tt&&!this.bitrateTestDelay||ni<o))return sn}return-1}set nextAutoLevel(n){this._nextAutoLevel=n}},bufferController:class bE{constructor(n){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=()=>{const{media:e,mediaSource:i}=this;hn.log("[buffer-controller]: Media source opened"),e&&(e.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(z.MEDIA_ATTACHED,{media:e})),i&&i.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{hn.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=()=>{hn.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=()=>{const{media:e,_objectUrl:i}=this;e&&e.src!==i&&hn.error(`Media element src was set while attaching MediaSource (${i} > ${e.src})`)},this.hls=n,this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}registerListeners(){const{hls:n}=this;n.on(z.MEDIA_ATTACHING,this.onMediaAttaching,this),n.on(z.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(z.MANIFEST_LOADING,this.onManifestLoading,this),n.on(z.MANIFEST_PARSED,this.onManifestParsed,this),n.on(z.BUFFER_RESET,this.onBufferReset,this),n.on(z.BUFFER_APPENDING,this.onBufferAppending,this),n.on(z.BUFFER_CODECS,this.onBufferCodecs,this),n.on(z.BUFFER_EOS,this.onBufferEos,this),n.on(z.BUFFER_FLUSHING,this.onBufferFlushing,this),n.on(z.LEVEL_UPDATED,this.onLevelUpdated,this),n.on(z.FRAG_PARSED,this.onFragParsed,this),n.on(z.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:n}=this;n.off(z.MEDIA_ATTACHING,this.onMediaAttaching,this),n.off(z.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(z.MANIFEST_LOADING,this.onManifestLoading,this),n.off(z.MANIFEST_PARSED,this.onManifestParsed,this),n.off(z.BUFFER_RESET,this.onBufferReset,this),n.off(z.BUFFER_APPENDING,this.onBufferAppending,this),n.off(z.BUFFER_CODECS,this.onBufferCodecs,this),n.off(z.BUFFER_EOS,this.onBufferEos,this),n.off(z.BUFFER_FLUSHING,this.onBufferFlushing,this),n.off(z.LEVEL_UPDATED,this.onLevelUpdated,this),n.off(z.FRAG_PARSED,this.onFragParsed,this),n.off(z.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new vE(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(n,e){let i=2;(e.audio&&!e.video||!e.altAudio)&&(i=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=i,hn.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(n,e){const i=this.media=e.media;if(i&&k_){const o=this.mediaSource=new k_;o.addEventListener("sourceopen",this._onMediaSourceOpen),o.addEventListener("sourceended",this._onMediaSourceEnded),o.addEventListener("sourceclose",this._onMediaSourceClose),i.src=self.URL.createObjectURL(o),this._objectUrl=i.src,i.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:n,mediaSource:e,_objectUrl:i}=this;if(e){if(hn.log("[buffer-controller]: media source detaching"),"open"===e.readyState)try{e.endOfStream()}catch(o){hn.warn(`[buffer-controller]: onMediaDetaching: ${o.message} while calling endOfStream`)}this.onBufferReset(),e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),n&&(n.removeEventListener("emptied",this._onMediaEmptied),i&&self.URL.revokeObjectURL(i),n.src===i?(n.removeAttribute("src"),n.load()):hn.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(z.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(n=>{const e=this.sourceBuffer[n];try{e&&(this.removeBufferListeners(n),this.mediaSource&&this.mediaSource.removeSourceBuffer(e),this.sourceBuffer[n]=void 0)}catch(i){hn.warn(`[buffer-controller]: Failed to reset the ${n} buffer`,i)}}),this._initSourceBuffer()}onBufferCodecs(n,e){const i=this.getSourceBufferTypes().length;Object.keys(e).forEach(o=>{if(i){const d=this.tracks[o];if(d&&"function"==typeof d.buffer.changeType){const{id:m,codec:v,levelCodec:I,container:j,metadata:ne}=e[o],pe=(d.levelCodec||d.codec).replace(yE,"$1"),ze=(I||v).replace(yE,"$1");pe!==ze&&(this.appendChangeType(o,`${j};codecs=${I||v}`),hn.log(`[buffer-controller]: switching codec ${pe} to ${ze}`),this.tracks[o]={buffer:d.buffer,codec:v,container:j,levelCodec:I,metadata:ne,id:m})}}else this.pendingTracks[o]=e[o]}),!i&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())}appendChangeType(n,e){const{operationQueue:i}=this,o={execute:()=>{const d=this.sourceBuffer[n];d&&(hn.log(`[buffer-controller]: changing ${n} sourceBuffer type to ${e}`),d.changeType(e)),i.shiftAndExecuteNext(n)},onStart:()=>{},onComplete:()=>{},onError:d=>{hn.warn(`[buffer-controller]: Failed to change ${n} SourceBuffer type`,d)}};i.append(o,n)}onBufferAppending(n,e){const{hls:i,operationQueue:o,tracks:d}=this,{data:m,type:v,frag:I,part:j,chunkMeta:ne}=e,pe=ne.buffering[v],ze=self.performance.now();pe.start=ze;const tt=I.stats.buffering,mt=j?j.stats.buffering:null;0===tt.start&&(tt.start=ze),mt&&0===mt.start&&(mt.start=ze);const Ct=d.audio;let Ot=!1;"audio"===v&&"audio/mpeg"===Ct?.container&&(Ot=!this.lastMpegAudioChunk||1===ne.id||this.lastMpegAudioChunk.sn!==ne.sn,this.lastMpegAudioChunk=ne);const Yt=I.start;o.append({execute:()=>{if(pe.executeStart=self.performance.now(),Ot){const sn=this.sourceBuffer[v];if(sn){const En=Yt-sn.timestampOffset;Math.abs(En)>=.1&&(hn.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${Yt} (delta: ${En}) sn: ${I.sn})`),sn.timestampOffset=Yt)}}this.appendExecutor(m,v)},onStart:()=>{},onComplete:()=>{const sn=self.performance.now();pe.executeEnd=pe.end=sn,0===tt.first&&(tt.first=sn),mt&&0===mt.first&&(mt.first=sn);const{sourceBuffer:En}=this,Dn={};for(const Vn in En)Dn[Vn]=Lr.getBuffered(En[Vn]);this.appendError=0,this.hls.trigger(z.BUFFER_APPENDED,{type:v,frag:I,part:j,chunkMeta:ne,parent:I.type,timeRanges:Dn})},onError:sn=>{hn.error(`[buffer-controller]: Error encountered while trying to append to the ${v} SourceBuffer`,sn);const En={type:Tt.MEDIA_ERROR,parent:I.type,details:je.BUFFER_APPEND_ERROR,frag:I,part:j,chunkMeta:ne,error:sn,err:sn,fatal:!1};sn.code===DOMException.QUOTA_EXCEEDED_ERR?En.details=je.BUFFER_FULL_ERROR:(this.appendError++,En.details=je.BUFFER_APPEND_ERROR,this.appendError>i.config.appendErrorMaxRetry&&(hn.error(`[buffer-controller]: Failed ${i.config.appendErrorMaxRetry} times to append segment in sourceBuffer`),En.fatal=!0)),i.trigger(z.ERROR,En)}},v)}onBufferFlushing(n,e){const{operationQueue:i}=this,o=d=>({execute:this.removeExecutor.bind(this,d,e.startOffset,e.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(z.BUFFER_FLUSHED,{type:d})},onError:m=>{hn.warn(`[buffer-controller]: Failed to remove from ${d} SourceBuffer`,m)}});e.type?i.append(o(e.type),e.type):this.getSourceBufferTypes().forEach(d=>{i.append(o(d),d)})}onFragParsed(n,e){const{frag:i,part:o}=e,d=[],m=o?o.elementaryStreams:i.elementaryStreams;m.audiovideo?d.push("audiovideo"):(m.audio&&d.push("audio"),m.video&&d.push("video")),0===d.length&&hn.warn(`Fragments must have at least one ElementaryStreamType set. type: ${i.type} level: ${i.level} sn: ${i.sn}`),this.blockBuffers(()=>{const I=self.performance.now();i.stats.buffering.end=I,o&&(o.stats.buffering.end=I),this.hls.trigger(z.FRAG_BUFFERED,{frag:i,part:o,stats:o?o.stats:i.stats,id:i.type})},d)}onFragChanged(n,e){this.flushBackBuffer()}onBufferEos(n,e){this.getSourceBufferTypes().reduce((o,d)=>{const m=this.sourceBuffer[d];return m&&(!e.type||e.type===d)&&(m.ending=!0,m.ended||(m.ended=!0,hn.log(`[buffer-controller]: ${d} sourceBuffer now EOS`))),o&&!(m&&!m.ended)},!0)&&(hn.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(d=>{const m=this.sourceBuffer[d];m&&(m.ending=!1)});const{mediaSource:o}=this;o&&"open"===o.readyState?(hn.log("[buffer-controller]: Calling mediaSource.endOfStream()"),o.endOfStream()):o&&hn.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${o.readyState}`)}))}onLevelUpdated(n,{details:e}){e.fragments.length&&(this.details=e,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}flushBackBuffer(){const{hls:n,details:e,media:i,sourceBuffer:o}=this;if(!i||null===e)return;const d=this.getSourceBufferTypes();if(!d.length)return;const m=e.live&&null!==n.config.liveBackBufferLength?n.config.liveBackBufferLength:n.config.backBufferLength;if(!_i(m)||m<0)return;const v=i.currentTime,I=e.levelTargetDuration,j=Math.max(m,I),ne=Math.floor(v/I)*I-j;d.forEach(pe=>{const ze=o[pe];if(ze){const tt=Lr.getBuffered(ze);if(tt.length>0&&ne>tt.start(0)){if(n.trigger(z.BACK_BUFFER_REACHED,{bufferEnd:ne}),e.live)n.trigger(z.LIVE_BACK_BUFFER_REACHED,{bufferEnd:ne});else if(ze.ended&&tt.end(tt.length-1)-v<2*I)return void hn.info(`[buffer-controller]: Cannot flush ${pe} back buffer while SourceBuffer is in ended state`);n.trigger(z.BUFFER_FLUSHING,{startOffset:0,endOffset:ne,type:pe})}}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:n,hls:e,media:i,mediaSource:o}=this,d=n.fragments[0].start+n.totalduration,m=i.duration,v=_i(o.duration)?o.duration:0;n.live&&e.config.liveDurationInfinity?(hn.log("[buffer-controller]: Media Source duration is set to Infinity"),o.duration=1/0,this.updateSeekableRange(n)):(d>v&&d>m||!_i(m))&&(hn.log(`[buffer-controller]: Updating Media Source duration to ${d.toFixed(3)}`),o.duration=d)}updateSeekableRange(n){const e=this.mediaSource,i=n.fragments;if(i.length&&n.live&&null!=e&&e.setLiveSeekableRange){const d=Math.max(0,i[0].start),m=Math.max(d,d+n.totalduration);e.setLiveSeekableRange(d,m)}}checkPendingTracks(){const{bufferCodecEventsExpected:n,operationQueue:e,pendingTracks:i}=this,o=Object.keys(i).length;if(o&&!n||2===o){this.createSourceBuffers(i),this.pendingTracks={};const d=this.getSourceBufferTypes();if(d.length)this.hls.trigger(z.BUFFER_CREATED,{tracks:this.tracks}),d.forEach(m=>{e.executeNext(m)});else{const m=new Error("could not create source buffer for media codec(s)");this.hls.trigger(z.ERROR,{type:Tt.MEDIA_ERROR,details:je.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:m,reason:m.message})}}}createSourceBuffers(n){const{sourceBuffer:e,mediaSource:i}=this;if(!i)throw Error("createSourceBuffers called when mediaSource was null");for(const o in n)if(!e[o]){const d=n[o];if(!d)throw Error(`source buffer exists for track ${o}, however track does not`);const m=d.levelCodec||d.codec,v=`${d.container};codecs=${m}`;hn.log(`[buffer-controller]: creating sourceBuffer(${v})`);try{const I=e[o]=i.addSourceBuffer(v),j=o;this.addBufferListener(j,"updatestart",this._onSBUpdateStart),this.addBufferListener(j,"updateend",this._onSBUpdateEnd),this.addBufferListener(j,"error",this._onSBUpdateError),this.tracks[o]={buffer:I,codec:m,container:d.container,levelCodec:d.levelCodec,metadata:d.metadata,id:d.id}}catch(I){hn.error(`[buffer-controller]: error while trying to add sourceBuffer: ${I.message}`),this.hls.trigger(z.ERROR,{type:Tt.MEDIA_ERROR,details:je.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:I,mimeType:v})}}}_onSBUpdateStart(n){const{operationQueue:e}=this;e.current(n).onStart()}_onSBUpdateEnd(n){const{operationQueue:e}=this;e.current(n).onComplete(),e.shiftAndExecuteNext(n)}_onSBUpdateError(n,e){const i=new Error(`${n} SourceBuffer error`);hn.error(`[buffer-controller]: ${i}`,e),this.hls.trigger(z.ERROR,{type:Tt.MEDIA_ERROR,details:je.BUFFER_APPENDING_ERROR,error:i,fatal:!1});const o=this.operationQueue.current(n);o&&o.onError(e)}removeExecutor(n,e,i){const{media:o,mediaSource:d,operationQueue:m,sourceBuffer:v}=this,I=v[n];if(!o||!d||!I)return hn.warn(`[buffer-controller]: Attempting to remove from the ${n} SourceBuffer, but it does not exist`),void m.shiftAndExecuteNext(n);const j=_i(o.duration)?o.duration:1/0,ne=_i(d.duration)?d.duration:1/0,pe=Math.max(0,e),ze=Math.min(i,j,ne);ze>pe&&!I.ending?(I.ended=!1,hn.log(`[buffer-controller]: Removing [${pe},${ze}] from the ${n} SourceBuffer`),I.remove(pe,ze)):m.shiftAndExecuteNext(n)}appendExecutor(n,e){const{operationQueue:i,sourceBuffer:o}=this,d=o[e];if(!d)return hn.warn(`[buffer-controller]: Attempting to append to the ${e} SourceBuffer, but it does not exist`),void i.shiftAndExecuteNext(e);d.ended=!1,d.appendBuffer(n)}blockBuffers(n,e=this.getSourceBufferTypes()){if(!e.length)return hn.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(n);const{operationQueue:i}=this,o=e.map(d=>i.appendBlocker(d));Promise.all(o).then(()=>{n(),e.forEach(d=>{const m=this.sourceBuffer[d];null!=m&&m.updating||i.shiftAndExecuteNext(d)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(n,e,i){const o=this.sourceBuffer[n];if(!o)return;const d=i.bind(this,n);this.listeners[n].push({event:e,listener:d}),o.addEventListener(e,d)}removeBufferListeners(n){const e=this.sourceBuffer[n];e&&this.listeners[n].forEach(i=>{e.removeEventListener(i.event,i.listener)})}},capLevelController:tp,errorController:class Bn{constructor(n){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=n,this.log=hn.log.bind(hn,"[info]:"),this.warn=hn.warn.bind(hn,"[warning]:"),this.error=hn.error.bind(hn,"[error]:"),this.registerListeners()}registerListeners(){const n=this.hls;n.on(z.ERROR,this.onError,this),n.on(z.MANIFEST_LOADING,this.onManifestLoading,this),n.on(z.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const n=this.hls;n&&(n.off(z.ERROR,this.onError,this),n.off(z.ERROR,this.onErrorOut,this),n.off(z.MANIFEST_LOADING,this.onManifestLoading,this),n.off(z.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(n){this.playlistError=0}stopLoad(){}getVariantLevelIndex(n){return"main"===n?.type?n.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(n,e){var i,o;if(e.fatal)return;const d=this.hls,m=e.context;switch(e.details){case je.FRAG_LOAD_ERROR:case je.FRAG_LOAD_TIMEOUT:case je.KEY_LOAD_ERROR:case je.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case je.FRAG_PARSING_ERROR:if(null!=(i=e.frag)&&i.gap)return void(e.errorAction={action:0,flags:0});case je.FRAG_GAP:case je.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=2);case je.LEVEL_EMPTY_ERROR:case je.LEVEL_PARSING_ERROR:{var v,I;const j="main"===e.parent?e.level:d.loadLevel;e.details===je.LEVEL_EMPTY_ERROR&&null!=(v=e.context)&&null!=(I=v.levelDetails)&&I.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,j):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,j))}return;case je.LEVEL_LOAD_ERROR:case je.LEVEL_LOAD_TIMEOUT:return void("number"==typeof m?.level&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,m.level)));case je.AUDIO_TRACK_LOAD_ERROR:case je.AUDIO_TRACK_LOAD_TIMEOUT:case je.SUBTITLE_LOAD_ERROR:case je.SUBTITLE_TRACK_LOAD_TIMEOUT:if(m){const j=d.levels[d.loadLevel];if(j&&("audioTrack"===m.type&&m.groupId===j.audioGroupId||"subtitleTrack"===m.type&&m.groupId===j.textGroupId))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,d.loadLevel),e.errorAction.action=2,void(e.errorAction.flags=1)}return;case je.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const j=d.levels[d.loadLevel],ne=j?.attrs["HDCP-LEVEL"];ne&&(e.errorAction={action:2,flags:2,hdcpLevel:ne})}return;case je.BUFFER_ADD_CODEC_ERROR:case je.REMUX_ALLOC_ERROR:return void(e.errorAction=this.getLevelSwitchAction(e,null!=(o=e.level)?o:d.loadLevel));case je.INTERNAL_EXCEPTION:case je.BUFFER_APPENDING_ERROR:case je.BUFFER_APPEND_ERROR:case je.BUFFER_FULL_ERROR:case je.LEVEL_SWITCH_ERROR:case je.BUFFER_STALLED_ERROR:case je.BUFFER_SEEK_OVER_HOLE:case je.BUFFER_NUDGE_ON_STALL:return void(e.errorAction={action:0,flags:0})}if(e.type===Tt.KEY_SYSTEM_ERROR){const j=this.getVariantLevelIndex(e.frag);return e.levelRetry=!1,void(e.errorAction=this.getLevelSwitchAction(e,j))}}getPlaylistRetryOrSwitchAction(n,e){var i;const d=Ds(this.hls.config.playlistLoadPolicy,n),m=this.playlistError++,v=null==(i=n.response)?void 0:i.code;if(Hl(d,m,Cs(n),v))return{action:5,flags:0,retryConfig:d,retryCount:m};const j=this.getLevelSwitchAction(n,e);return d&&(j.retryConfig=d,j.retryCount=m),j}getFragRetryOrSwitchAction(n){const e=this.hls,i=this.getVariantLevelIndex(n.frag),o=e.levels[i],{fragLoadPolicy:d,keyLoadPolicy:m}=e.config,v=Ds(n.details.startsWith("key")?m:d,n),I=e.levels.reduce((pe,ze)=>pe+ze.fragmentError,0);if(o){var j;n.details!==je.FRAG_GAP&&o.fragmentError++;const pe=null==(j=n.response)?void 0:j.code;if(Hl(v,I,Cs(n),pe))return{action:5,flags:0,retryConfig:v,retryCount:I}}const ne=this.getLevelSwitchAction(n,i);return v&&(ne.retryConfig=v,ne.retryCount=I),ne}getLevelSwitchAction(n,e){const i=this.hls;null==e&&(e=i.loadLevel);const o=this.hls.levels[e];if(o&&(o.loadError++,i.autoLevelEnabled)){var d,m;let v=-1;const{levels:I,loadLevel:j,minAutoLevel:ne,maxAutoLevel:pe}=i,ze=null==(d=n.frag)?void 0:d.type,{type:tt,groupId:mt}=null!=(m=n.context)?m:{};for(let Ct=I.length;Ct--;){const Ot=(Ct+j)%I.length;if(Ot!==j&&Ot>=ne&&Ot<=pe&&0===I[Ot].loadError){const Yt=I[Ot];if(n.details===je.FRAG_GAP&&n.frag){const fn=I[Ot].details;if(fn){const sn=Bc(n.frag,fn.fragments,n.frag.start);if(null!=sn&&sn.gap)continue}}else{if("audioTrack"===tt&&mt===Yt.audioGroupId||"subtitleTrack"===tt&&mt===Yt.textGroupId)continue;if("audio"===ze&&o.audioGroupId===Yt.audioGroupId||"subtitle"===ze&&o.textGroupId===Yt.textGroupId)continue}v=Ot;break}}if(v>-1&&i.loadLevel!==v)return n.levelRetry=!0,this.playlistError=0,{action:2,flags:0,nextAutoLevel:v}}return{action:2,flags:1}}onErrorOut(n,e){var i;switch(null==(i=e.errorAction)?void 0:i.action){case 0:break;case 2:this.sendAlternateToPenaltyBox(e),!e.errorAction.resolved&&e.details!==je.FRAG_GAP&&(e.fatal=!0)}e.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(n){const e=this.hls,i=n.errorAction;if(!i)return;const{flags:o,hdcpLevel:d,nextAutoLevel:m}=i;switch(o){case 0:this.switchLevel(n,m);break;case 1:i.resolved||(i.resolved=this.redundantFailover(n));break;case 2:d&&(e.maxHdcpLevel=uc[uc.indexOf(d)-1],i.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${e.maxHdcpLevel}" or lower`)}i.resolved||this.switchLevel(n,m)}switchLevel(n,e){void 0!==e&&n.errorAction&&(this.warn(`switching to level ${e} after ${n.details}`),this.hls.nextAutoLevel=e,n.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}redundantFailover(n){const{hls:e,penalizedRenditions:i}=this,o="main"===n.parent?n.level:e.loadLevel,d=e.levels[o],m=d.url.length,v=n.frag?n.frag.urlId:d.urlId;d.urlId===v&&(!n.frag||d.details)&&this.penalizeRendition(d,n);for(let I=1;I<m;I++){const j=(v+I)%m,ne=i[j];if(!ne||hi(ne,n,i[v]))return this.warn(`Switching to Redundant Stream ${j+1}/${m}: "${d.url[j]}" after ${n.details}`),this.playlistError=0,e.levels.forEach(pe=>{pe.urlId=j}),e.nextLoadLevel=o,!0}return!1}penalizeRendition(n,e){const{penalizedRenditions:i}=this,o=i[n.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};o.lastErrorPerfMs=performance.now(),o.errors.push(e),o.details=n.details,i[n.urlId]=o}},fpsController:class wE{constructor(n){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=n,this.registerListeners()}setStreamController(n){this.streamController=n}registerListeners(){this.hls.on(z.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(z.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(n,e){const i=this.hls.config;if(i.capLevelOnFPSDrop){const o=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=o,o&&"function"==typeof o.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),i.fpsDroppedMonitoringPeriod)}}checkFPS(n,e,i){const o=performance.now();if(e){if(this.lastTime){const m=i-this.lastDroppedFrames,v=e-this.lastDecodedFrames,I=1e3*m/(o-this.lastTime),j=this.hls;if(j.trigger(z.FPS_DROP,{currentDropped:m,currentDecoded:v,totalDroppedFrames:i}),I>0&&m>j.config.fpsDroppedMonitoringThreshold*v){let ne=j.currentLevel;hn.warn("drop FPS ratio greater than max allowed value for currentLevel: "+ne),ne>0&&(-1===j.autoLevelCapping||j.autoLevelCapping>=ne)&&(ne-=1,j.trigger(z.FPS_DROP_LEVEL_CAPPING,{level:ne,droppedLevel:j.currentLevel}),j.autoLevelCapping=ne,this.streamController.nextLevelSwitch())}}this.lastTime=o,this.lastDroppedFrames=i,this.lastDecodedFrames=e}}checkFPSInterval(){const n=this.media;if(n)if(this.isVideoPlaybackQualityAvailable){const e=n.getVideoPlaybackQuality();this.checkFPS(n,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(n,n.webkitDecodedFrameCount,n.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:Nl,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},function sp(){return{cueHandler:op,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}()),{},{subtitleStreamController:class L_ extends Ai{constructor(n,e,i){super(n,e,i,"[subtitle-stream-controller]","subtitle"),this.levels=[],this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null}_registerListeners(){const{hls:n}=this;n.on(z.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(z.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(z.MANIFEST_LOADING,this.onManifestLoading,this),n.on(z.LEVEL_LOADED,this.onLevelLoaded,this),n.on(z.ERROR,this.onError,this),n.on(z.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.on(z.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),n.on(z.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.on(z.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),n.on(z.BUFFER_FLUSHING,this.onBufferFlushing,this),n.on(z.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:n}=this;n.off(z.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(z.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(z.MANIFEST_LOADING,this.onManifestLoading,this),n.off(z.LEVEL_LOADED,this.onLevelLoaded,this),n.off(z.ERROR,this.onError,this),n.off(z.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.off(z.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),n.off(z.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.off(z.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),n.off(z.BUFFER_FLUSHING,this.onBufferFlushing,this),n.off(z.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(n){this.stopLoad(),this.state="IDLE",this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=n,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(n,e){this.mainDetails=e.details}onSubtitleFragProcessed(n,e){const{frag:i,success:o}=e;if(this.fragPrevious=i,this.state="IDLE",!o)return;const d=this.tracksBuffered[this.currentTrackId];if(!d)return;let m;const v=i.start;for(let j=0;j<d.length;j++)if(v>=d[j].start&&v<=d[j].end){m=d[j];break}const I=i.start+i.duration;m?m.end=I:(m={start:v,end:I},d.push(m)),this.fragmentTracker.fragBuffered(i)}onBufferFlushing(n,e){const{startOffset:i,endOffset:o}=e;if(0===i&&o!==Number.POSITIVE_INFINITY){const d=o-1;if(d<=0)return;e.endOffsetSubtitles=Math.max(0,d),this.tracksBuffered.forEach(m=>{for(let v=0;v<m.length;)if(m[v].end<=d)m.shift();else{if(!(m[v].start<d))break;m[v].start=d,v++}}),this.fragmentTracker.removeFragmentsInRange(i,d,"subtitle")}}onFragBuffered(n,e){var i;this.loadedmetadata||"main"!==e.frag.type||null!=(i=this.media)&&i.buffered.length&&(this.loadedmetadata=!0)}onError(n,e){const i=e.frag;"subtitle"===i?.type&&(this.fragCurrent&&this.fragCurrent.abortRequests(),"STOPPED"!==this.state&&(this.state="IDLE"))}onSubtitleTracksUpdated(n,{subtitleTracks:e}){N_(this.levels,e)?this.levels=e.map(i=>new Va(i)):(this.tracksBuffered=[],this.levels=e.map(i=>{const o=new Va(i);return this.tracksBuffered[o.id]=[],o}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,"subtitle"),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(n,e){if(this.currentTrackId=e.id,!this.levels.length||-1===this.currentTrackId)return void this.clearInterval();const i=this.levels[this.currentTrackId];this.mediaBuffer=null!=i&&i.details?this.mediaBufferTimeRanges:null,i&&this.setInterval(500)}onSubtitleTrackLoaded(n,e){var i;const{details:o,id:d}=e,{currentTrackId:m,levels:v}=this;if(!v.length)return;const I=v[m];if(d>=v.length||d!==m||!I)return;this.mediaBuffer=this.mediaBufferTimeRanges;let j=0;if(o.live||null!=(i=I.details)&&i.live){const ne=this.mainDetails;if(o.deltaUpdateFailed||!ne)return;const pe=ne.fragments[0];I.details?(j=this.alignPlaylists(o,I.details),0===j&&pe&&(j=pe.start,hc(o,j))):o.hasProgramDateTime&&ne.hasProgramDateTime?(H(o,ne),j=o.fragments[0].start):pe&&(j=pe.start,hc(o,j))}I.details=o,this.levelLastLoaded=d,!this.startFragRequested&&(this.mainDetails||!o.live)&&this.setStartPosition(I.details,j),this.tick(),o.live&&!this.fragCurrent&&this.media&&"IDLE"===this.state&&(Bc(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),I.details=void 0))}_handleFragmentLoadComplete(n){const{frag:e,payload:i}=n,o=e.decryptdata,d=this.hls;if(!this.fragContextChanged(e)&&i&&i.byteLength>0&&o&&o.key&&o.iv&&"AES-128"===o.method){const m=performance.now();this.decrypter.decrypt(new Uint8Array(i),o.key.buffer,o.iv.buffer).catch(v=>{throw d.trigger(z.ERROR,{type:Tt.MEDIA_ERROR,details:je.FRAG_DECRYPT_ERROR,fatal:!1,error:v,reason:v.message,frag:e}),v}).then(v=>{const I=performance.now();d.trigger(z.FRAG_DECRYPTED,{frag:e,payload:v,stats:{tstart:m,tdecrypt:I}})}).catch(v=>{this.warn(`${v.name}: ${v.message}`),this.state="IDLE"})}}doTick(){if(this.media){if("IDLE"===this.state){const{currentTrackId:n,levels:e}=this,i=e[n];if(!e.length||!i||!i.details)return;const{config:o}=this,d=this.getLoadPosition(),m=Lr.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],d,o.maxBufferHole),{end:v,len:I}=m,j=this.getFwdBufferInfo(this.media,"main"),ne=i.details;if(I>this.getMaxBufferLength(j?.len)+ne.levelTargetDuration)return;const ze=ne.fragments,tt=ze.length,mt=ne.edge;let Ct=null;const Ot=this.fragPrevious;if(v<mt){const Yt=o.maxFragLookUpTolerance,fn=v>mt-Yt?0:Yt;Ct=Bc(Ot,ze,Math.max(ze[0].start,v),fn),!Ct&&Ot&&Ot.start<ze[0].start&&(Ct=ze[0])}else Ct=ze[tt-1];if(!Ct)return;if(Ct=this.mapToInitFragWhenRequired(Ct),"initSegment"!==Ct.sn){const fn=ze[Ct.sn-ne.startSN-1];fn&&fn.cc===Ct.cc&&"NOT_LOADED"===this.fragmentTracker.getState(fn)&&(Ct=fn)}"NOT_LOADED"===this.fragmentTracker.getState(Ct)&&this.loadFragment(Ct,i,v)}}else this.state="IDLE"}getMaxBufferLength(n){const e=super.getMaxBufferLength();return n?Math.max(e,n):e}loadFragment(n,e,i){this.fragCurrent=n,"initSegment"===n.sn?this._loadInitSegment(n,e):(this.startFragRequested=!0,super.loadFragment(n,e,i))}get mediaBufferTimeRanges(){return new dh(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class Ym extends di{constructor(n){super(n,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.trackChangeListener=()=>this.onTextTracksChanged(),this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(n){this._subtitleDisplay=n,this.trackId>-1&&this.toggleTrackModes(this.trackId)}registerListeners(){const{hls:n}=this;n.on(z.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(z.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(z.MANIFEST_LOADING,this.onManifestLoading,this),n.on(z.MANIFEST_PARSED,this.onManifestParsed,this),n.on(z.LEVEL_LOADING,this.onLevelLoading,this),n.on(z.LEVEL_SWITCHING,this.onLevelSwitching,this),n.on(z.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.on(z.ERROR,this.onError,this)}unregisterListeners(){const{hls:n}=this;n.off(z.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(z.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(z.MANIFEST_LOADING,this.onManifestLoading,this),n.off(z.MANIFEST_PARSED,this.onManifestParsed,this),n.off(z.LEVEL_LOADING,this.onLevelLoading,this),n.off(z.LEVEL_SWITCHING,this.onLevelSwitching,this),n.off(z.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.off(z.ERROR,this.onError,this)}onMediaAttached(n,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(n){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,n)}onMediaDetaching(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),Kc(this.media.textTracks).forEach(e=>{ka(e)}),this.subtitleTrack=-1,this.media=null)}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(n,e){this.tracks=e.subtitleTracks}onSubtitleTrackLoaded(n,e){const{id:i,details:o}=e,{trackId:d}=this,m=this.tracksInGroup[d];if(!m)return void this.warn(`Invalid subtitle track id ${i}`);const v=m.details;m.details=e.details,this.log(`subtitle track ${i} loaded [${o.startSN}-${o.endSN}]`),i===this.trackId&&this.playlistLoaded(i,e,v)}onLevelLoading(n,e){this.switchLevel(e.level)}onLevelSwitching(n,e){this.switchLevel(e.level)}switchLevel(n){const e=this.hls.levels[n];if(null==e||!e.textGroupIds)return;const i=e.textGroupIds[e.urlId],o=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==i){const d=this.tracks.filter(I=>!i||I.groupId===i);this.tracksInGroup=d;const m=this.findTrackId(o?.name)||this.findTrackId();this.groupId=i||null;const v={subtitleTracks:d};this.log(`Updating subtitle tracks, ${d.length} track(s) found in "${i}" group-id`),this.hls.trigger(z.SUBTITLE_TRACKS_UPDATED,v),-1!==m&&this.setSubtitleTrack(m,o)}else this.shouldReloadPlaylist(o)&&this.setSubtitleTrack(this.trackId,o)}findTrackId(n){const e=this.tracksInGroup;for(let i=0;i<e.length;i++){const o=e[i];if((!this.selectDefaultTrack||o.default)&&(!n||n===o.name))return o.id}return-1}onError(n,e){e.fatal||!e.context||"subtitleTrack"===e.context.type&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&this.checkRetry(e)}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(n){this.selectDefaultTrack=!1,this.setSubtitleTrack(n,this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0)}loadPlaylist(n){super.loadPlaylist();const e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){const i=e.id,o=e.groupId;let d=e.url;if(n)try{d=n.addDirectives(d)}catch(m){this.warn(`Could not construct new URL with HLS Delivery Directives: ${m}`)}this.log(`Loading subtitle playlist for id ${i}`),this.hls.trigger(z.SUBTITLE_TRACK_LOADING,{url:d,id:i,groupId:o,deliveryDirectives:n||null})}}toggleTrackModes(n){const{media:e,trackId:i}=this;if(!e)return;const o=Kc(e.textTracks),d=o.filter(v=>v.groupId===this.groupId);if(-1===n)[].slice.call(o).forEach(v=>{v.mode="disabled"});else{const v=d[i];v&&(v.mode="disabled")}const m=d[n];m&&(m.mode=this.subtitleDisplay?"showing":"hidden")}setSubtitleTrack(n,e){var i;const o=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=n);if(this.trackId!==n&&this.toggleTrackModes(n),this.trackId===n&&(-1===n||null!=(i=o[n])&&i.details)||n<-1||n>=o.length)return;this.clearTimer();const d=o[n];if(this.log(`Switching to subtitle-track ${n}`+(d?` "${d.name}" lang:${d.lang} group:${d.groupId}`:"")),this.trackId=n,d){const{id:m,groupId:v="",name:I,type:j,url:ne}=d;this.hls.trigger(z.SUBTITLE_TRACK_SWITCH,{id:m,groupId:v,name:I,type:j,url:ne});const pe=this.switchParams(d.url,e?.details);this.loadPlaylist(pe)}else this.hls.trigger(z.SUBTITLE_TRACK_SWITCH,{id:n})}onTextTracksChanged(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let n=-1;const e=Kc(this.media.textTracks);for(let i=0;i<e.length;i++)if("hidden"===e[i].mode)n=i;else if("showing"===e[i].mode){n=i;break}this.subtitleTrack!==n&&(this.subtitleTrack=n)}},timelineController:class ep{constructor(n){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=n,this.config=n.config,this.Cues=n.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){const e=new fh(this,"textTrack1"),i=new fh(this,"textTrack2"),o=new fh(this,"textTrack3"),d=new fh(this,"textTrack4");this.cea608Parser1=new G_(1,e,i),this.cea608Parser2=new G_(3,o,d)}n.on(z.MEDIA_ATTACHING,this.onMediaAttaching,this),n.on(z.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(z.MANIFEST_LOADING,this.onManifestLoading,this),n.on(z.MANIFEST_LOADED,this.onManifestLoaded,this),n.on(z.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.on(z.FRAG_LOADING,this.onFragLoading,this),n.on(z.FRAG_LOADED,this.onFragLoaded,this),n.on(z.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),n.on(z.FRAG_DECRYPTED,this.onFragDecrypted,this),n.on(z.INIT_PTS_FOUND,this.onInitPtsFound,this),n.on(z.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),n.on(z.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:n}=this;n.off(z.MEDIA_ATTACHING,this.onMediaAttaching,this),n.off(z.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(z.MANIFEST_LOADING,this.onManifestLoading,this),n.off(z.MANIFEST_LOADED,this.onManifestLoaded,this),n.off(z.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.off(z.FRAG_LOADING,this.onFragLoading,this),n.off(z.FRAG_LOADED,this.onFragLoaded,this),n.off(z.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),n.off(z.FRAG_DECRYPTED,this.onFragDecrypted,this),n.off(z.INIT_PTS_FOUND,this.onInitPtsFound,this),n.off(z.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),n.off(z.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}addCues(n,e,i,o,d){let m=!1;for(let v=d.length;v--;){const I=d[v],j=IE(I[0],I[1],e,i);if(j>=0&&(I[0]=Math.min(I[0],e),I[1]=Math.max(I[1],i),m=!0,j/(i-e)>.5))return}if(m||d.push([e,i]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[n],e,i,o);else{const v=this.Cues.newCue(null,e,i,o);this.hls.trigger(z.CUES_PARSED,{type:"captions",cues:v,track:n})}}onInitPtsFound(n,{frag:e,id:i,initPTS:o,timescale:d}){const{unparsedVttFrags:m}=this;"main"===i&&(this.initPTS[e.cc]={baseTime:o,timescale:d}),m.length&&(this.unparsedVttFrags=[],m.forEach(v=>{this.onFragLoaded(z.FRAG_LOADED,v)}))}getExistingTrack(n){const{media:e}=this;if(e)for(let i=0;i<e.textTracks.length;i++){const o=e.textTracks[i];if(o[n])return o}return null}createCaptionsTrack(n){this.config.renderTextTracksNatively?this.createNativeTrack(n):this.createNonNativeTrack(n)}createNativeTrack(n){if(this.captionsTracks[n])return;const{captionsProperties:e,captionsTracks:i,media:o}=this,{label:d,languageCode:m}=e[n],v=this.getExistingTrack(n);if(v)i[n]=v,ka(i[n]),La(i[n],o);else{const I=this.createTextTrack("captions",d,m);I&&(I[n]=!0,i[n]=I)}}createNonNativeTrack(n){if(this.nonNativeCaptionsTracks[n])return;const e=this.captionsProperties[n];if(!e)return;const o={_id:n,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[n]=o,this.hls.trigger(z.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[o]})}createTextTrack(n,e,i){const o=this.media;if(o)return o.addTextTrack(n,e,i)}onMediaAttaching(n,e){this.media=e.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:n}=this;Object.keys(n).forEach(e=>{ka(n[e]),delete n[e]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:n}=this;if(!n)return;const e=n.textTracks;if(e)for(let i=0;i<e.length;i++)ka(e[i])}onSubtitleTracksUpdated(n,e){const i=e.subtitleTracks||[],o=i.some(d=>d.textCodec===Q_);if(this.config.enableWebVTT||o&&this.config.enableIMSC1){if(N_(this.tracks,i))return void(this.tracks=i);if(this.textTracks=[],this.tracks=i,this.config.renderTextTracksNatively){const m=this.media?this.media.textTracks:null;this.tracks.forEach((v,I)=>{let j;if(m&&I<m.length){let ne=null;for(let pe=0;pe<m.length;pe++)if(iv(m[pe],v)){ne=m[pe];break}ne&&(j=ne)}if(j)ka(j);else{const ne=this._captionsOrSubtitlesFromCharacteristics(v);j=this.createTextTrack(ne,v.name,v.lang),j&&(j.mode="disabled")}j&&(j.groupId=v.groupId,this.textTracks.push(j))})}else if(this.tracks.length){const m=this.tracks.map(v=>({label:v.name,kind:v.type.toLowerCase(),default:v.default,subtitleTrack:v}));this.hls.trigger(z.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:m})}}}_captionsOrSubtitlesFromCharacteristics(n){if(n.attrs.CHARACTERISTICS){const e=/transcribes-spoken-dialog/gi.test(n.attrs.CHARACTERISTICS),i=/describes-music-and-sound/gi.test(n.attrs.CHARACTERISTICS);if(e&&i)return"captions"}return"subtitles"}onManifestLoaded(n,e){this.config.enableCEA708Captions&&e.captions&&e.captions.forEach(i=>{const o=/(?:CC|SERVICE)([1-4])/.exec(i.instreamId);if(!o)return;const m=this.captionsProperties[`textTrack${o[1]}`];m&&(m.label=i.name,i.lang&&(m.languageCode=i.lang),m.media=i)})}closedCaptionsForLevel(n){const e=this.hls.levels[n.level];return e?.attrs["CLOSED-CAPTIONS"]}onFragLoading(n,e){const{cea608Parser1:i,cea608Parser2:o,lastSn:d,lastPartIndex:m}=this;if(this.enabled&&i&&o&&"main"===e.frag.type){var v,I;const j=e.frag.sn,ne=null!=(v=null==e||null==(I=e.part)?void 0:I.index)?v:-1;j===d+1||j===d&&ne===m+1||(i.reset(),o.reset()),this.lastSn=j,this.lastPartIndex=ne}}onFragLoaded(n,e){const{frag:i,payload:o}=e;if("subtitle"===i.type)if(o.byteLength){const d=i.decryptdata;if(null==d||!d.encrypted||"stats"in e){const v=this.tracks[i.level],I=this.vttCCs;I[i.cc]||(I[i.cc]={start:i.start,prevCC:this.prevCC,new:!0},this.prevCC=i.cc),v&&v.textCodec===Q_?this._parseIMSC1(i,o):this._parseVTTs(e)}}else this.hls.trigger(z.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Empty subtitle payload")})}_parseIMSC1(n,e){const i=this.hls;X_(e,this.initPTS[n.cc],o=>{this._appendCues(o,n.level),i.trigger(z.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},o=>{hn.log(`Failed to parse IMSC1: ${o}`),i.trigger(z.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:o})})}_parseVTTs(n){var e;const{frag:i,payload:o}=n,{initPTS:d,unparsedVttFrags:m}=this,v=d.length-1;if(!d[i.cc]&&-1===v)return void m.push(n);const I=this.hls;!function qm(r,n,e,i,o,d,m){const v=new Z_,I=ss(new Uint8Array(r)).trim().replace($_,"\n").split("\n"),j=[],ne=n?function v_(r,n=1){return km(r,9e4,1/n)}(n.baseTime,n.timescale):0;let mt,pe="00:00.000",ze=0,tt=0,Ct=!0;v.oncue=function(Ot){const Yt=e[i];let fn=e.ccOffset;const sn=(ze-ne)/9e4;if(null!=Yt&&Yt.new&&(void 0!==tt?fn=e.ccOffset=Yt.start:function(n,e,i){let o=n[e],d=n[o.prevCC];if(!d||!d.new&&o.new)return n.ccOffset=n.presentationOffset=o.start,void(o.new=!1);for(;null!=(m=d)&&m.new;){var m;n.ccOffset+=o.start-d.start,o.new=!1,o=d,d=n[o.prevCC]}n.presentationOffset=i}(e,i,sn)),sn){if(!n)return void(mt=new Error("Missing initPTS for VTT MPEGTS"));fn=sn-e.presentationOffset}const En=Ot.endTime-Ot.startTime,Dn=Ka(9e4*(Ot.startTime+fn-tt),9e4*o)/9e4;Ot.startTime=Math.max(Dn,0),Ot.endTime=Math.max(Dn+En,0);const Vn=Ot.text.trim();Ot.text=decodeURIComponent(encodeURIComponent(Vn)),Ot.id||(Ot.id=J_(Ot.startTime,Ot.endTime,Vn)),Ot.endTime>0&&j.push(Ot)},v.onparsingerror=function(Ot){mt=Ot},v.onflush=function(){mt?m(mt):d(j)},I.forEach(Ot=>{if(Ct){if(hh(Ot,"X-TIMESTAMP-MAP=")){Ct=!1,Ot.slice(16).split(",").forEach(Yt=>{hh(Yt,"LOCAL:")?pe=Yt.slice(6):hh(Yt,"MPEGTS:")&&(ze=parseInt(Yt.slice(7)))});try{tt=function(n){let e=parseInt(n.slice(-3));const i=parseInt(n.slice(-6,-4)),o=parseInt(n.slice(-9,-7)),d=n.length>9?parseInt(n.substring(0,n.indexOf(":"))):0;if(!(_i(e)&&_i(i)&&_i(o)&&_i(d)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${n}`);return e+=1e3*i,e+=6e4*o,e+=36e5*d,e}(pe)/1e3}catch(Yt){mt=Yt}return}""===Ot&&(Ct=!1)}v.parse(Ot+"\n")}),v.flush()}(null!=(e=i.initSegment)&&e.data?zn(i.initSegment.data,new Uint8Array(o)):o,this.initPTS[i.cc],this.vttCCs,i.cc,i.start,ne=>{this._appendCues(ne,i.level),I.trigger(z.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})},ne=>{const pe="Missing initPTS for VTT MPEGTS"===ne.message;pe?m.push(n):this._fallbackToIMSC1(i,o),hn.log(`Failed to parse VTT cue: ${ne}`),!(pe&&v>i.cc)&&I.trigger(z.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:ne})})}_fallbackToIMSC1(n,e){const i=this.tracks[n.level];i.textCodec||X_(e,this.initPTS[n.cc],()=>{i.textCodec=Q_,this._parseIMSC1(n,e)},()=>{i.textCodec="wvtt"})}_appendCues(n,e){const i=this.hls;if(this.config.renderTextTracksNatively){const o=this.textTracks[e];if(!o||"disabled"===o.mode)return;n.forEach(d=>cd(o,d))}else{const o=this.tracks[e];if(!o)return;i.trigger(z.CUES_PARSED,{type:"subtitles",cues:n,track:o.default?"default":"subtitles"+e})}}onFragDecrypted(n,e){const{frag:i}=e;"subtitle"===i.type&&this.onFragLoaded(z.FRAG_LOADED,e)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(n,e){const{cea608Parser1:i,cea608Parser2:o}=this;if(!this.enabled||!i||!o)return;const{frag:d,samples:m}=e;if("main"!==d.type||"NONE"!==this.closedCaptionsForLevel(d))for(let v=0;v<m.length;v++){const I=m[v].bytes;if(I){const j=this.extractCea608Data(I);i.addData(m[v].pts,j[0]),o.addData(m[v].pts,j[1])}}}onBufferFlushing(n,{startOffset:e,endOffset:i,endOffsetSubtitles:o,type:d}){const{media:m}=this;if(m&&!(m.currentTime<i)){if(!d||"video"===d){const{captionsTracks:v}=this;Object.keys(v).forEach(I=>Bl(v[I],e,i))}if(this.config.renderTextTracksNatively&&0===e&&void 0!==o){const{textTracks:v}=this;Object.keys(v).forEach(I=>Bl(v[I],e,o))}}}extractCea608Data(n){const e=[[],[]],i=31&n[0];let o=2;for(let d=0;d<i;d++){const m=n[o++],v=127&n[o++],I=127&n[o++];if((0!==v||0!==I)&&0!=(4&m)){const ne=3&m;(0===ne||1===ne)&&(e[ne].push(v),e[ne].push(I))}}return e}},audioStreamController:class R_ extends Ai{constructor(n,e,i){super(n,e,i,"[audio-stream-controller]","audio"),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:n}=this;n.on(z.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(z.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(z.MANIFEST_LOADING,this.onManifestLoading,this),n.on(z.LEVEL_LOADED,this.onLevelLoaded,this),n.on(z.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),n.on(z.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.on(z.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.on(z.ERROR,this.onError,this),n.on(z.BUFFER_RESET,this.onBufferReset,this),n.on(z.BUFFER_CREATED,this.onBufferCreated,this),n.on(z.BUFFER_FLUSHED,this.onBufferFlushed,this),n.on(z.INIT_PTS_FOUND,this.onInitPtsFound,this),n.on(z.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:n}=this;n.off(z.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(z.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(z.MANIFEST_LOADING,this.onManifestLoading,this),n.off(z.LEVEL_LOADED,this.onLevelLoaded,this),n.off(z.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),n.off(z.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.off(z.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.off(z.ERROR,this.onError,this),n.off(z.BUFFER_RESET,this.onBufferReset,this),n.off(z.BUFFER_CREATED,this.onBufferCreated,this),n.off(z.BUFFER_FLUSHED,this.onBufferFlushed,this),n.off(z.INIT_PTS_FOUND,this.onInitPtsFound,this),n.off(z.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(n,{frag:e,id:i,initPTS:o,timescale:d}){if("main"===i){const m=e.cc;this.initPTS[e.cc]={baseTime:o,timescale:d},this.log(`InitPTS for cc: ${m} found from main: ${o}`),this.videoTrackCC=m,"WAITING_INIT_PTS"===this.state&&this.tick()}}startLoad(n){if(!this.levels)return this.startPosition=n,void(this.state="STOPPED");const e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),e>0&&-1===n?(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),n=e,this.state="IDLE"):(this.loadedmetadata=!1,this.state="WAITING_TRACK"),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=n,this.tick()}doTick(){switch(this.state){case"IDLE":this.doTickIdle();break;case"WAITING_TRACK":{var n;const{levels:i,trackId:o}=this,d=null==i||null==(n=i[o])?void 0:n.details;if(d){if(this.waitForCdnTuneIn(d))break;this.state="WAITING_INIT_PTS"}break}case"FRAG_LOADING_WAITING_RETRY":{var e;const i=performance.now(),o=this.retryDate;(!o||i>=o||null!=(e=this.media)&&e.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state="IDLE");break}case"WAITING_INIT_PTS":{const i=this.waitingData;if(i){const{frag:o,part:d,cache:m,complete:v}=i;if(void 0!==this.initPTS[o.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state="FRAG_LOADING";const j={frag:o,part:d,payload:m.flush(),networkDetails:null};this._handleFragmentLoadProgress(j),v&&super._handleFragmentLoadComplete(j)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${o.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const I=this.getLoadPosition(),j=Lr.bufferInfo(this.mediaBuffer,I,this.config.maxBufferHole);Ae(j.end,this.config.maxFragLookUpTolerance,o)<0&&(this.log(`Waiting fragment cc (${o.cc}) @ ${o.start} cancelled because another fragment at ${j.end} is needed`),this.clearWaitingFragment())}}else this.state="IDLE"}}this.onTickEnd()}clearWaitingFragment(){const n=this.waitingData;n&&(this.fragmentTracker.removeFragment(n.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state="IDLE")}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:n}=this;null!=n&&n.readyState&&(this.lastCurrentTime=n.currentTime)}doTickIdle(){const{hls:n,levels:e,media:i,trackId:o}=this;if(null==e||!e[o]||!i&&(this.startFragRequested||!n.config.startFragPrefetch))return;const m=e[o],v=m.details;if(!v||v.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(v))return void(this.state="WAITING_TRACK");const I=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&I&&(this.bufferFlushed=!1,this.afterBufferFlushed(I,"audio","audio"));const j=this.getFwdBufferInfo(I,"audio");if(null===j)return;const{bufferedTrack:ne,switchingTrack:pe}=this;if(!pe&&this._streamEnded(j,v))return n.trigger(z.BUFFER_EOS,{type:"audio"}),void(this.state="ENDED");const ze=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,"main"),tt=j.len,mt=this.getMaxBufferLength(ze?.len);if(tt>=mt&&!pe)return;const Ot=v.fragments[0].start;let Yt=j.end;if(pe&&i){const Dn=this.getLoadPosition();ne&&pe.attrs!==ne.attrs&&(Yt=Dn),v.PTSKnown&&Dn<Ot&&(j.end>Ot||j.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=Ot+.05)}let fn=this.getNextFragment(Yt,v),sn=!1;if(fn&&this.isLoopLoading(fn,Yt)&&(sn=!!fn.gap,fn=this.getNextFragmentLoopLoading(fn,v,j,"main",mt)),!fn)return void(this.bufferFlushed=!0);const En=ze&&fn.start>ze.end+v.targetduration;if(En||(null==ze||!ze.len)&&j.len){const Dn=this.getAppendedFrag(fn.start,"main");if(null===Dn||(sn||(sn=!!Dn.gap||!!En&&0===ze.len),En&&!sn||sn&&j.nextStart&&j.nextStart<Dn.end))return}this.loadFragment(fn,m,Yt)}getMaxBufferLength(n){const e=super.getMaxBufferLength();return n?Math.min(Math.max(e,n),this.config.maxMaxBufferLength):e}onMediaDetaching(){this.videoBuffer=null,super.onMediaDetaching()}onAudioTracksUpdated(n,{audioTracks:e}){this.resetTransmuxer(),this.levels=e.map(i=>new Va(i))}onAudioTrackSwitching(n,e){const i=!!e.url;this.trackId=e.id;const{fragCurrent:o}=this;o&&(o.abortRequests(),this.removeUnbufferedFrags(o.start)),this.resetLoadingState(),i?this.setInterval(100):this.resetTransmuxer(),i?(this.switchingTrack=e,this.state="IDLE"):(this.switchingTrack=null,this.bufferedTrack=e,this.state="STOPPED"),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(n,e){this.mainDetails=e.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(z.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(n,e){var i;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=e);const{levels:o}=this,{details:d,id:m}=e;if(!o)return void this.warn(`Audio tracks were reset while loading level ${m}`);this.log(`Track ${m} loaded [${d.startSN},${d.endSN}]${d.lastPartSn?`[part-${d.lastPartSn}-${d.lastPartIndex}]`:""},duration:${d.totalduration}`);const v=o[m];let I=0;if(d.live||null!=(i=v.details)&&i.live){const j=this.mainDetails;if(d.fragments[0]||(d.deltaUpdateFailed=!0),d.deltaUpdateFailed||!j)return;!v.details&&d.hasProgramDateTime&&j.hasProgramDateTime?(H(d,j),I=d.fragments[0].start):I=this.alignPlaylists(d,v.details)}v.details=d,this.levelLastLoaded=m,!this.startFragRequested&&(this.mainDetails||!d.live)&&this.setStartPosition(v.details,I),"WAITING_TRACK"===this.state&&!this.waitForCdnTuneIn(d)&&(this.state="IDLE"),this.tick()}_handleFragmentLoadProgress(n){var e;const{frag:i,part:o,payload:d}=n,{config:m,trackId:v,levels:I}=this;if(!I)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);const j=I[v];if(!j)return void this.warn("Audio track is undefined on fragment load progress");const ne=j.details;if(!ne)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(i.start);const pe=m.defaultAudioCodec||j.audioCodec||"mp4a.40.2";let ze=this.transmuxer;ze||(ze=this.transmuxer=new Gm(this.hls,"audio",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const tt=this.initPTS[i.cc],mt=null==(e=i.initSegment)?void 0:e.data;if(void 0!==tt){const Ot=o?o.index:-1,fn=new Wl(i.level,i.sn,i.stats.chunkCount,d.byteLength,Ot,-1!==Ot);ze.push(d,mt,pe,"",i,o,ne.totalduration,!1,fn,tt)}else{this.log(`Unknown video PTS for cc ${i.cc}, waiting for video PTS before demuxing audio frag ${i.sn} of [${ne.startSN} ,${ne.endSN}],track ${v}`);const{cache:Ct}=this.waitingData=this.waitingData||{frag:i,part:o,cache:new ch,complete:!1};Ct.push(new Uint8Array(d)),this.waitingVideoCC=this.videoTrackCC,this.state="WAITING_INIT_PTS"}}_handleFragmentLoadComplete(n){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(n)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(n,e){const i=e.tracks.audio;i&&(this.mediaBuffer=i.buffer||null),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer||null)}onFragBuffered(n,e){const{frag:i,part:o}=e;if("audio"===i.type)if(this.fragContextChanged(i))this.warn(`Fragment ${i.sn}${o?" p: "+o.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==i.sn){this.fragPrevious=i;const d=this.switchingTrack;d&&(this.bufferedTrack=d,this.switchingTrack=null,this.hls.trigger(z.AUDIO_TRACK_SWITCHED,mo({},d)))}this.fragBufferedComplete(i,o)}else if(!this.loadedmetadata&&"main"===i.type){const d=this.videoBuffer||this.media;d&&Lr.getBuffered(d).length&&(this.loadedmetadata=!0)}}onError(n,e){var i;if(e.fatal)this.state="ERROR";else switch(e.details){case je.FRAG_GAP:case je.FRAG_PARSING_ERROR:case je.FRAG_DECRYPT_ERROR:case je.FRAG_LOAD_ERROR:case je.FRAG_LOAD_TIMEOUT:case je.KEY_LOAD_ERROR:case je.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("audio",e);break;case je.AUDIO_TRACK_LOAD_ERROR:case je.AUDIO_TRACK_LOAD_TIMEOUT:case je.LEVEL_PARSING_ERROR:!e.levelRetry&&"WAITING_TRACK"===this.state&&"audioTrack"===(null==(i=e.context)?void 0:i.type)&&(this.state="IDLE");break;case je.BUFFER_FULL_ERROR:if(!e.parent||"audio"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case je.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}onBufferFlushed(n,{type:e}){"audio"===e&&(this.bufferFlushed=!0,"ENDED"===this.state&&(this.state="IDLE"))}_handleTransmuxComplete(n){var e;const i="audio",{hls:o}=this,{remuxResult:d,chunkMeta:m}=n,v=this.getCurrentContext(m);if(!v)return void this.resetWhenMissingContext(m);const{frag:I,part:j,level:ne}=v,{details:pe}=ne,{audio:ze,text:tt,id3:mt,initSegment:Ct}=d;if(!this.fragContextChanged(I)&&pe){if(this.state="PARSING",this.switchingTrack&&ze&&this.completeAudioSwitch(this.switchingTrack),null!=Ct&&Ct.tracks){const Ot=I.initSegment||I;this._bufferInitSegment(Ct.tracks,Ot,m),o.trigger(z.FRAG_PARSING_INIT_SEGMENT,{frag:Ot,id:i,tracks:Ct.tracks})}if(ze){const{startPTS:Ot,endPTS:Yt,startDTS:fn,endDTS:sn}=ze;j&&(j.elementaryStreams.audio={startPTS:Ot,endPTS:Yt,startDTS:fn,endDTS:sn}),I.setElementaryStreamInfo("audio",Ot,Yt,fn,sn),this.bufferFragmentData(ze,I,j,m)}if(null!=mt&&null!=(e=mt.samples)&&e.length){const Ot=zr({id:i,frag:I,details:pe},mt);o.trigger(z.FRAG_PARSING_METADATA,Ot)}if(tt){const Ot=zr({id:i,frag:I,details:pe},tt);o.trigger(z.FRAG_PARSING_USERDATA,Ot)}}else this.fragmentTracker.removeFragment(I)}_bufferInitSegment(n,e,i){if("PARSING"!==this.state)return;n.video&&delete n.video;const o=n.audio;if(!o)return;o.levelCodec=o.codec,o.id="audio",this.log(`Init audio buffer, container:${o.container}, codecs[parsed]=[${o.codec}]`),this.hls.trigger(z.BUFFER_CODECS,n);const d=o.initSegment;null!=d&&d.byteLength&&this.hls.trigger(z.BUFFER_APPENDING,{type:"audio",frag:e,part:null,chunkMeta:i,parent:e.type,data:d}),this.tick()}loadFragment(n,e,i){const o=this.fragmentTracker.getState(n);var d;this.fragCurrent=n,this.switchingTrack||"NOT_LOADED"===o||"PARTIAL"===o?"initSegment"===n.sn?this._loadInitSegment(n,e):null!=(d=e.details)&&d.live&&!this.initPTS[n.cc]?(this.log(`Waiting for video PTS in continuity counter ${n.cc} of live stream before loading audio fragment ${n.sn} of level ${this.trackId}`),this.state="WAITING_INIT_PTS"):(this.startFragRequested=!0,super.loadFragment(n,e,i)):this.clearTrackerIfNeeded(n)}completeAudioSwitch(n){const{hls:e,media:i,bufferedTrack:o}=this,d=o?.attrs,m=n.attrs;i&&d&&(d.CHANNELS!==m.CHANNELS||d.NAME!==m.NAME||d.LANGUAGE!==m.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=n,this.switchingTrack=null,e.trigger(z.AUDIO_TRACK_SWITCHED,mo({},n))}},audioTrackController:class gE extends di{constructor(n){super(n,"[audio-track-controller]"),this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:n}=this;n.on(z.MANIFEST_LOADING,this.onManifestLoading,this),n.on(z.MANIFEST_PARSED,this.onManifestParsed,this),n.on(z.LEVEL_LOADING,this.onLevelLoading,this),n.on(z.LEVEL_SWITCHING,this.onLevelSwitching,this),n.on(z.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.on(z.ERROR,this.onError,this)}unregisterListeners(){const{hls:n}=this;n.off(z.MANIFEST_LOADING,this.onManifestLoading,this),n.off(z.MANIFEST_PARSED,this.onManifestParsed,this),n.off(z.LEVEL_LOADING,this.onLevelLoading,this),n.off(z.LEVEL_SWITCHING,this.onLevelSwitching,this),n.off(z.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.off(z.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(n,e){this.tracks=e.audioTracks||[]}onAudioTrackLoaded(n,e){const{id:i,groupId:o,details:d}=e,m=this.tracksInGroup[i];if(!m||m.groupId!==o)return void this.warn(`Track with id:${i} and group:${o} not found in active group ${m.groupId}`);const v=m.details;m.details=e.details,this.log(`audio-track ${i} "${m.name}" lang:${m.lang} group:${o} loaded [${d.startSN}-${d.endSN}]`),i===this.trackId&&this.playlistLoaded(i,e,v)}onLevelLoading(n,e){this.switchLevel(e.level)}onLevelSwitching(n,e){this.switchLevel(e.level)}switchLevel(n){const e=this.hls.levels[n];if(null==e||!e.audioGroupIds)return;const i=e.audioGroupIds[e.urlId];if(this.groupId!==i){this.groupId=i||null;const o=this.tracks.filter(m=>!i||m.groupId===i);this.selectDefaultTrack&&!o.some(m=>m.default)&&(this.selectDefaultTrack=!1),this.tracksInGroup=o;const d={audioTracks:o};this.log(`Updating audio tracks, ${o.length} track(s) found in group:${i}`),this.hls.trigger(z.AUDIO_TRACKS_UPDATED,d),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}onError(n,e){e.fatal||!e.context||"audioTrack"===e.context.type&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(e))}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(n){this.selectDefaultTrack=!1,this.setAudioTrack(n)}setAudioTrack(n){const e=this.tracksInGroup;if(n<0||n>=e.length)return void this.warn("Invalid id passed to audio-track controller");this.clearTimer();const i=this.currentTrack,o=e[n],{groupId:d,name:m}=o;if(this.log(`Switching to audio-track ${n} "${m}" lang:${o.lang} group:${d}`),this.trackId=n,this.currentTrack=o,this.selectDefaultTrack=!1,this.hls.trigger(z.AUDIO_TRACK_SWITCHING,mo({},o)),o.details&&!o.details.live)return;const v=this.switchParams(o.url,i?.details);this.loadPlaylist(v)}selectInitialTrack(){const n=this.tracksInGroup,e=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==e)this.setAudioTrack(e);else{const i=new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${n.length}`);this.warn(i.message),this.hls.trigger(z.ERROR,{type:Tt.MEDIA_ERROR,details:je.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:i})}}findTrackId(n){const e=this.tracksInGroup;for(let i=0;i<e.length;i++){const o=e[i];if((!this.selectDefaultTrack||o.default)&&(!n||void 0!==n.attrs["STABLE-RENDITION-ID"]&&n.attrs["STABLE-RENDITION-ID"]===o.attrs["STABLE-RENDITION-ID"]||n.name===o.name&&n.lang===o.lang))return o.id}return-1}loadPlaylist(n){super.loadPlaylist();const e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){const i=e.id,o=e.groupId;let d=e.url;if(n)try{d=n.addDirectives(d)}catch(m){this.warn(`Could not construct new URL with HLS Delivery Directives: ${m}`)}this.log(`loading audio-track playlist ${i} "${e.name}" lang:${e.lang} group:${o}`),this.clearTimer(),this.hls.trigger(z.AUDIO_TRACK_LOADING,{url:d,id:i,groupId:o,deliveryDirectives:n||null})}}},emeController:Qx,cmcdController:vc,contentSteeringController:class sv{constructor(n){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=n,this.log=hn.log.bind(hn,"[content-steering]:"),this.registerListeners()}registerListeners(){const n=this.hls;n.on(z.MANIFEST_LOADING,this.onManifestLoading,this),n.on(z.MANIFEST_LOADED,this.onManifestLoaded,this),n.on(z.MANIFEST_PARSED,this.onManifestParsed,this),n.on(z.ERROR,this.onError,this)}unregisterListeners(){const n=this.hls;n&&(n.off(z.MANIFEST_LOADING,this.onManifestLoading,this),n.off(z.MANIFEST_LOADED,this.onManifestLoaded,this),n.off(z.MANIFEST_PARSED,this.onManifestParsed,this),n.off(z.ERROR,this.onError,this))}startLoad(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){const n=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,n)}else this.loadSteeringManifest(this.uri)}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(n){const e=this.levels;e&&(this.levels=e.filter(i=>i!==n))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(n,e){const{contentSteering:i}=e;null!==i&&(this.pathwayId=i.pathwayId,this.uri=i.uri,this.started&&this.startLoad())}onManifestParsed(n,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks}onError(n,e){const{errorAction:i}=e;if(2===i?.action&&1===i.flags){let o=this.pathwayPriority;const d=this.pathwayId;this.penalizedPathways[d]||(this.penalizedPathways[d]=performance.now()),!o&&this.levels&&(o=this.levels.reduce((m,v)=>(-1===m.indexOf(v.pathwayId)&&m.push(v.pathwayId),m),[])),o&&o.length>1&&(this.updatePathwayPriority(o),i.resolved=this.pathwayId!==d)}}filterParsedLevels(n){this.levels=n;let e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){const i=n[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${i}"`),e=this.getLevelsForPathway(i),this.pathwayId=i}return e.length!==n.length?(this.log(`Found ${e.length}/${n.length} levels in Pathway "${this.pathwayId}"`),e):n}getLevelsForPathway(n){return null===this.levels?[]:this.levels.filter(e=>n===e.pathwayId)}updatePathwayPriority(n){let e;this.pathwayPriority=n;const i=this.penalizedPathways,o=performance.now();Object.keys(i).forEach(d=>{o-i[d]>3e5&&delete i[d]});for(let d=0;d<n.length;d++){const m=n[d];if(i[m])continue;if(m===this.pathwayId)return;const v=this.hls.nextLoadLevel,I=this.hls.levels[v];if(e=this.getLevelsForPathway(m),e.length>0){this.log(`Setting Pathway to "${m}"`),this.pathwayId=m,this.hls.trigger(z.LEVELS_UPDATED,{levels:e});const j=this.hls.levels[v];I&&j&&this.levels&&(j.attrs["STABLE-VARIANT-ID"]!==I.attrs["STABLE-VARIANT-ID"]&&j.bitrate!==I.bitrate&&this.log(`Unstable Pathways change from bitrate ${I.bitrate} to ${j.bitrate}`),this.hls.nextLoadLevel=v);break}}}clonePathways(n){const e=this.levels;if(!e)return;const i={},o={};n.forEach(d=>{const{ID:m,"BASE-ID":v,"URI-REPLACEMENT":I}=d;if(e.some(ne=>ne.pathwayId===m))return;const j=this.getLevelsForPathway(v).map(ne=>{const pe=zr({},ne);pe.details=void 0,pe.url=av(ne.uri,ne.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",I);const ze=new Fi(ne.attrs);ze["PATHWAY-ID"]=m;const tt=ze.AUDIO&&`${ze.AUDIO}_clone_${m}`,mt=ze.SUBTITLES&&`${ze.SUBTITLES}_clone_${m}`;tt&&(i[ze.AUDIO]=tt,ze.AUDIO=tt),mt&&(o[ze.SUBTITLES]=mt,ze.SUBTITLES=mt),pe.attrs=ze;const Ct=new Va(pe);return Gi(Ct,"audio",tt),Gi(Ct,"text",mt),Ct});e.push(...j),mh(this.audioTracks,i,I,m),mh(this.subtitleTracks,o,I,m)})}loadSteeringManifest(n){const e=this.hls.config,i=e.loader;let o;this.loader&&this.loader.destroy(),this.loader=new i(e);try{o=new self.URL(n)}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${n}`)}if("data:"!==o.protocol){const ne=0|(this.hls.bandwidthEstimate||e.abrEwmaDefaultEstimate);o.searchParams.set("_HLS_pathway",this.pathwayId),o.searchParams.set("_HLS_throughput",""+ne)}const d={responseType:"json",url:o.href},m=e.steeringManifestLoadPolicy.default,v=m.errorRetry||m.timeoutRetry||{},I={loadPolicy:m,timeout:m.maxLoadTimeMs,maxRetry:v.maxNumRetry||0,retryDelay:v.retryDelayMs||0,maxRetryDelay:v.maxRetryDelayMs||0},j={onSuccess:(ne,pe,ze,tt)=>{this.log(`Loaded steering manifest: "${o}"`);const mt=ne.data;if(1!==mt.VERSION)return void this.log(`Steering VERSION ${mt.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=mt.TTL;const{"RELOAD-URI":Ct,"PATHWAY-CLONES":Ot,"PATHWAY-PRIORITY":Yt}=mt;if(Ct)try{this.uri=new self.URL(Ct,o).href}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${Ct}`)}this.scheduleRefresh(this.uri||ze.url),Ot&&this.clonePathways(Ot),Yt&&this.updatePathwayPriority(Yt)},onError:(ne,pe,ze,tt)=>{if(this.log(`Error loading steering manifest: ${ne.code} ${ne.text} (${pe.url})`),this.stopLoad(),410===ne.code)return this.enabled=!1,void this.log(`Steering manifest ${pe.url} no longer available`);let mt=1e3*this.timeToLoad;if(429!==ne.code)this.scheduleRefresh(this.uri||pe.url,mt);else{const Ct=this.loader;if("function"==typeof Ct?.getResponseHeader){const Ot=Ct.getResponseHeader("Retry-After");Ot&&(mt=1e3*parseFloat(Ot))}this.log(`Steering manifest ${pe.url} rate limited`)}},onTimeout:(ne,pe,ze)=>{this.log(`Timeout loading steering manifest (${pe.url})`),this.scheduleRefresh(this.uri||pe.url)}};this.log(`Requesting steering manifest: ${o}`),this.loader.load(d,I,j)}scheduleRefresh(n,e=1e3*this.timeToLoad){self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(()=>{this.loadSteeringManifest(n)},e)}}});function yc(r){return r&&"object"==typeof r?Array.isArray(r)?r.map(yc):Object.keys(r).reduce((n,e)=>(n[e]=yc(r[e]),n),{}):r}let bc=(()=>{class r{static get version(){return"1.4.10"}static isSupported(){return function cs(){const r=cl();if(!r)return!1;const n=pr();return!(!r||"function"!=typeof r.isTypeSupported||!r.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')||n&&(!n.prototype||"function"!=typeof n.prototype.appendBuffer||"function"!=typeof n.prototype.remove))}()}static get Events(){return z}static get ErrorTypes(){return Tt}static get ErrorDetails(){return je}static get DefaultConfig(){return r.defaultConfig?r.defaultConfig:RE}static set DefaultConfig(e){r.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new iu,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,function wr(r,n){if(self.console&&!0===r||"object"==typeof r){!function vi(r,...n){n.forEach(function(e){In[e]=r[e]?r[e].bind(r):function Hn(r){const n=self.console[r];return n?n.bind(self.console,`[${r}] >`):Dt}(e)})}(r,"debug","log","info","warn","error");try{In.log(`Debug logs enabled for "${n}" in hls.js version 1.4.10`)}catch{In=Jt}}else In=Jt}(e.debug||!1,"Hls instance");const i=this.config=function _h(r,n){if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==n.liveMaxLatencyDurationCount&&(void 0===n.liveSyncDurationCount||n.liveMaxLatencyDurationCount<=n.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==n.liveMaxLatencyDuration&&(void 0===n.liveSyncDuration||n.liveMaxLatencyDuration<=n.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const e=yc(r),o=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach(d=>{const m=`${"level"===d?"playlist":d}LoadPolicy`,v=void 0===n[m],I=[];o.forEach(j=>{const ne=`${d}Loading${j}`,pe=n[ne];if(void 0!==pe&&v){I.push(ne);const ze=e[m].default;switch(n[m]={default:ze},j){case"TimeOut":ze.maxLoadTimeMs=pe,ze.maxTimeToFirstByteMs=pe;break;case"MaxRetry":ze.errorRetry.maxNumRetry=pe,ze.timeoutRetry.maxNumRetry=pe;break;case"RetryDelay":ze.errorRetry.retryDelayMs=pe,ze.timeoutRetry.retryDelayMs=pe;break;case"MaxRetryTimeout":ze.errorRetry.maxRetryDelayMs=pe,ze.timeoutRetry.maxRetryDelayMs=pe}}}),I.length&&hn.warn(`hls.js config: "${I.join('", "')}" setting(s) are deprecated, use "${m}": ${JSON.stringify(n[m])}`)}),mo(mo({},e),n)}(r.DefaultConfig,e);this.userConfig=e,this._autoLevelCapping=-1,i.progressive&&function ap(r){const n=r.loader;n!==ph&&n!==np?(hn.log("[config]: Custom loader detected, cannot enable progressive streaming"),r.progressive=!1):function ip(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}()&&(r.loader=ph,r.progressive=!0,r.enableSoftwareAES=!0,hn.log("[config]: Progressive streaming enabled, using FetchLoader"))}(i);const{abrController:o,bufferController:d,capLevelController:m,errorController:v,fpsController:I}=i,j=new v(this),ne=this.abrController=new o(this),pe=this.bufferController=new d(this),ze=this.capLevelController=new m(this),tt=new I(this),mt=new cc(this),Ct=new Ba(this),Ot=i.contentSteeringController,Yt=Ot?new Ot(this):null,fn=this.levelController=new Hi(this,Yt),sn=new Uc(this),En=new zd(this.config),Dn=this.streamController=new w_(this,sn,En);ze.setStreamController(Dn),tt.setStreamController(Dn);const Vn=[mt,fn,Dn];Yt&&Vn.splice(1,0,Yt),this.networkControllers=Vn;const Rn=[ne,pe,ze,tt,Ct,sn];this.audioTrackController=this.createController(i.audioTrackController,Vn);const qn=i.audioStreamController;qn&&Vn.push(new qn(this,sn,En)),this.subtitleTrackController=this.createController(i.subtitleTrackController,Vn);const ni=i.subtitleStreamController;ni&&Vn.push(new ni(this,sn,En)),this.createController(i.timelineController,Rn),En.emeController=this.emeController=this.createController(i.emeController,Rn),this.cmcdController=this.createController(i.cmcdController,Rn),this.latencyController=this.createController(Ua,Rn),this.coreComponents=Rn,Vn.push(j);const kn=j.onErrorOut;"function"==typeof kn&&this.on(z.ERROR,kn,j)}createController(e,i){if(e){const o=new e(this);return i&&i.push(o),o}return null}on(e,i,o=this){this._emitter.on(e,i,o)}once(e,i,o=this){this._emitter.once(e,i,o)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,i,o=this,d){this._emitter.off(e,i,o,d)}listeners(e){return this._emitter.listeners(e)}emit(e,i,o){return this._emitter.emit(e,i,o)}trigger(e,i){if(this.config.debug)return this.emit(e,e,i);try{return this.emit(e,e,i)}catch(o){hn.error("An internal error happened while handling event "+e+'. Error message: "'+o.message+'". Here is a stacktrace:',o),this.trigger(z.ERROR,{type:Tt.OTHER_ERROR,details:je.INTERNAL_EXCEPTION,fatal:!1,event:e,error:o})}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){hn.log("destroy"),this.trigger(z.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(i=>i.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(i=>i.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){hn.log("attachMedia"),this._media=e,this.trigger(z.MEDIA_ATTACHING,{media:e})}detachMedia(){hn.log("detachMedia"),this.trigger(z.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const i=this.media,o=this.url,d=this.url=Oa.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});hn.log(`loadSource:${d}`),i&&o&&(o!==d||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(i)),this.trigger(z.MANIFEST_LOADING,{url:e})}startLoad(e=-1){hn.log(`startLoad(${e})`),this.networkControllers.forEach(i=>{i.startLoad(e)})}stopLoad(){hn.log("stopLoad"),this.networkControllers.forEach(e=>{e.stopLoad()})}swapAudioCodec(){hn.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){hn.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e,i=0){this.levelController.removeLevel(e,i)}get levels(){return this.levelController.levels||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){hn.log(`set currentLevel:${e}`),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){hn.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){hn.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){hn.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){return this.levelController.startLevel}set startLevel(e){hn.log(`set startLevel:${e}`),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const i=!!e;i!==this.config.capLevelToPlayerSize&&(i?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=i)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(hn.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e)}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){uc.indexOf(e)>-1&&(this._maxHdcpLevel=e)}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:i}}=this;if(!e)return 0;const o=e.length;for(let d=0;d<o;d++)if(e[d].maxBitrate>=i)return d;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:i,maxHdcpLevel:o}=this;let d;if(d=-1===i&&e&&e.length?e.length-1:i,o)for(let m=d;m--;){const v=e[m].attrs["HDCP-LEVEL"];if(v&&v<=o)return m}return d}get nextAutoLevel(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)}set nextAutoLevel(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const i=this.audioTrackController;i&&(i.audioTrack=e)}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const i=this.subtitleTrackController;i&&(i.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return!!e&&e.subtitleDisplay}set subtitleDisplay(e){const i=this.subtitleTrackController;i&&(i.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}return r.defaultConfig=void 0,r})();var br=S(7700);function NE(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickDialogAction(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit;t.xp6(1),t.Oqu(e.text)}}let kE=(()=>{class r{constructor(e,i){this.dialog=e,this.options=i}onClickDialogAction(e){this.dialog.close(e)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(br.so),t.Y36(br.WI))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-dialog-options"]],decls:9,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"custom-dialog-message"],[1,"modal-footer"],[1,"custom-dialog-options"],["ngFor","",3,"ngForOf"],["type","button",1,"custom-dialog-button",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2),t.qZA()(),t.TgZ(3,"div",2)(4,"div",3),t._uU(5),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,NE,2,1,"ng-template",6),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(o.options.title),t.xp6(3),t.hij(" ",o.options.message," "),t.xp6(3),t.Q6J("ngForOf",o.options.actions))},dependencies:[g.sg],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return r})();const FE=["controlsContainer"],BE=["settingsContainer"],lp=["videoPrincipalContainer"],uv=["videoTarget"];function UE(r,n){if(1&r&&(t.TgZ(0,"div",55),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.AsE(" ",e.builderVideo.TranscodePrepareVideo.Title," ",e.builderVideo.TranscodePrepareVideo.Subtitle," ")}}function fv(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToPreviousEpisode())}),t._UZ(1,"i",57),t.qZA()}}function cp(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToNextEpisode())}),t._UZ(1,"i",59),t.qZA()}}function eM(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",60,61),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.playOrPauseVideo())}),t.TgZ(2,"img",62),t.NdJ("error",function(){t.CHM(e);const o=t.MAs(1),d=t.oxw(2);return t.KtG(d.focusButton(o))}),t.qZA(),t._UZ(3,"i",63),t.qZA()}}function jE(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",64,65),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.playOrPauseVideo())}),t.TgZ(2,"img",62),t.NdJ("error",function(){t.CHM(e);const o=t.MAs(1),d=t.oxw(2);return t.KtG(d.focusButton(o))}),t.qZA(),t._UZ(3,"i",66),t.qZA()}}const VE=function(r){return{"show-controls":r}};function GE(r,n){if(1&r&&(t.TgZ(0,"div",67),t._uU(1," Cargando video... "),t.qZA()),2&r){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(1,VE,e.showControls))}}const HE=function(r){return{selected:r}};function tM(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",78),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(3);return t.KtG(m.onClickPrincipalSettingsOption(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(3);t.MGl("id","stream_option_",e.index,""),t.Q6J("ngClass",t.VKq(3,HE,i.currentSelectedPrincipalSettingOption&&e.index==i.currentSelectedPrincipalSettingOption.index)),t.xp6(1),t.hij(" ",e.name," ")}}function vh(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",78),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(4);return t.KtG(m.onClickStreamOption(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(4);t.hYB("id","stream_option_",i.currentSelectedPrincipalSettingOption.id,"_suboption_",e.index,""),t.Q6J("ngClass",t.VKq(4,HE,i.currentSelectedPrincipalSettingOption.selectedOption&&i.currentSelectedPrincipalSettingOption.selectedOption.index==e.index)),t.xp6(1),t.hij(" ",e.name," ")}}function KE(r,n){if(1&r&&(t.TgZ(0,"section",79),t.YNc(1,vh,2,6,"ng-template",76),t.qZA()),2&r){const e=t.oxw(3);t.MGl("id","streams_suboptions_section_",e.currentSelectedPrincipalSettingOption.index,""),t.xp6(1),t.Q6J("ngForOf",e.currentSelectedPrincipalSettingOption.listOptions)}}function dp(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"section",68,69)(2,"div",70)(3,"section",71)(4,"div",72)(5,"div",73)(6,"button",74),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.hideSettings())}),t._UZ(7,"i",11),t.qZA()()()(),t.TgZ(8,"section",75),t.YNc(9,tM,2,5,"ng-template",76),t.qZA(),t.YNc(10,KE,2,2,"section",77),t.qZA()()}if(2&r){const e=t.oxw(2);t.xp6(9),t.Q6J("ngForOf",e.listPrincipalSettingsOptions),t.xp6(1),t.Q6J("ngIf",e.currentSelectedPrincipalSettingOption)}}function up(r,n){if(1&r&&t._UZ(0,"div",80),2&r){const e=n.$implicit,i=t.oxw(3);t.Udp("display",i.checkIfDisplaySubtitles(e)?"block":"none"),t.Q6J("innerHtml",e.text,t.oJD)}}function su(r,n){if(1&r&&t.YNc(0,up,1,3,"ng-template",76),2&r){const e=t.oxw(2);t.Q6J("ngForOf",e.currentSubtitleData)}}function fp(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"video",81,82),t.NdJ("error",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onErrorVideo())})("loadedmetadata",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onLoadedMetadata())})("loadeddata",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onLoadedData())})("ended",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.OnEndedVideo())}),t.qZA()}}const hp=function(r){return{show:r}};function rf(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(1),d=t.oxw();return t.KtG(!d.sharedService.isMobileDevice()&&d.onClickVideoContainer(o))})("touchstart",function(){t.CHM(e);const o=t.MAs(1),d=t.oxw();return t.KtG(d.sharedService.isMobileDevice()&&d.onTouchVideoContainer(o))})("mousemove",function(){t.CHM(e);const o=t.MAs(1),d=t.oxw();return t.KtG(d.onMouseMoveVideoContainer(o))}),t.TgZ(2,"div",6)(3,"section",7,8)(5,"section",9)(6,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeVideo())}),t._UZ(7,"i",11),t.qZA(),t.YNc(8,UE,2,2,"div",12),t.qZA(),t.TgZ(9,"div",13)(10,"div",14)(11,"section",15)(12,"button",16)(13,"div",17,18),t._uU(15),t.qZA(),t.TgZ(16,"div",19)(17,"div",20),t.NdJ("contextmenu",function(){t.CHM(e);const o=t.MAs(22),d=t.oxw();return t.KtG(!d.sharedService.isMobileDevice()&&d.onClickSlider(o))})("click",function(){t.CHM(e);const o=t.MAs(22),d=t.oxw();return t.KtG(d.onClickSlider(o))})("touchend",function(){t.CHM(e);const o=t.MAs(22),d=t.oxw();return t.KtG(d.sharedService.isMobileDevice()&&d.onClickSlider(o))})("touchstart",function(o){t.CHM(e);const d=t.MAs(22),m=t.MAs(14),v=t.oxw();return t.KtG(v.sharedService.isMobileDevice()&&v.onTouchStartSlider(o,d,m))})("touchmove",function(o){t.CHM(e);const d=t.MAs(22),m=t.MAs(14),v=t.oxw();return t.KtG(v.sharedService.isMobileDevice()&&v.onTouchMoveSlider(o,d,m))})("mousedown",function(o){t.CHM(e);const d=t.MAs(22),m=t.oxw();return t.KtG(m.onMouseDownSlider(o,d))})("mousemove",function(o){t.CHM(e);const d=t.MAs(22),m=t.oxw();return t.KtG(m.onMouseMoveSlider(o,d))}),t._UZ(18,"div",21,22),t.TgZ(20,"div",23)(21,"div",24,25)(23,"div",26,25),t._UZ(25,"div",27,28),t.qZA()()()()(),t.TgZ(27,"div",17,29),t._uU(29),t.qZA()()(),t.TgZ(30,"section",30)(31,"div",31),t.YNc(32,fv,2,0,"button",32),t.qZA(),t.TgZ(33,"div",33)(34,"div",34),t.YNc(35,cp,2,0,"button",35),t.TgZ(36,"button",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeObjectContain())}),t._UZ(37,"i",37),t.qZA(),t.TgZ(38,"button",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleFullScreenVideo())}),t._UZ(39,"i",39),t.qZA(),t.TgZ(40,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showSettings())}),t._UZ(41,"i",41),t.qZA()()()(),t.TgZ(42,"div",42)(43,"div",43)(44,"section",44)(45,"button",45),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.rewindVideo())}),t._UZ(46,"i",46),t.qZA(),t.YNc(47,eM,4,0,"button",47),t.YNc(48,jE,4,0,"button",48),t.TgZ(49,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.forwardVideo())}),t._UZ(50,"i",50),t.qZA()()()()()()(),t.YNc(51,GE,2,3,"div",51),t.YNc(52,dp,11,2,"section",52),t.YNc(53,su,1,1,"ng-template",53),t.YNc(54,fp,2,0,"video",54),t.qZA()()}if(2&r){const e=t.MAs(14),i=t.MAs(19),o=t.MAs(28),d=t.oxw();t.xp6(3),t.Q6J("ngClass",t.VKq(22,hp,d.showControls)),t.xp6(5),t.Q6J("ngIf",d.builderVideo&&d.builderVideo.TranscodePrepareVideo),t.xp6(5),t.Udp("visibility",d.showControls?"":"hidden"),t.xp6(2),t.hij(" ",d.getVideoTime()," "),t.xp6(1),t.Udp("width","calc(100% - "+(e.offsetWidth+o.offsetWidth)+"px)"),t.xp6(5),t.Udp("width",i.offsetWidth+"px"),t.xp6(4),t.Udp("width",d.getSliderPogressWidth()),t.xp6(2),t.Udp("visibility",d.showControls?"":"hidden"),t.xp6(2),t.hij(" ",d.getDurationTime()," "),t.xp6(3),t.Q6J("ngIf",d.isEnablePreviousEpisodeButton()),t.xp6(3),t.Q6J("ngIf",d.isEnableNextEpisodeButton()),t.xp6(12),t.Q6J("ngIf",!d.isPlayingVideo()),t.xp6(1),t.Q6J("ngIf",d.isPlayingVideo()),t.xp6(3),t.Q6J("ngIf",!d.loadedData),t.xp6(1),t.Q6J("ngIf",d.showingSettings),t.xp6(1),t.Q6J("ngIf",d.currentSubtitleData),t.xp6(1),t.Q6J("ngIf",d.showVideoTarget)}}let sf=(()=>{class r{constructor(e,i,o,d,m,v,I,j,ne){this.signalIrService=e,this.activeRoute=i,this.router=o,this.libraryService=d,this.dialog=m,this.restProvider=v,this.sharedService=I,this.ref=j,this.http=ne,this._window=window,this.showVideo=!0,this.lastCurrentTime=0,this.showControls=!1,this.currentSubtitleData=void 0,this.haveError=!1,this.currentEpisode={},this.lastClickSeekButton=new Date,this.countSeekSecondsToAdvance=0,this.isUpdatingVideoSource=!1,this.showingSettings=!1,this.listPrincipalSettingsOptions=[{index:0,name:"AUDIO",listOptions:[],selectedOption:null},{index:1,name:"SUBT\xcdTULOS",listOptions:[],selectedOption:null}],this.lastRealVideoTime=0,this.initializeVideo=!1,this.showVideoTarget=!1,this.loadedData=!1,this.beforeUnloadFunction=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(pe=>{this.mediaServer&&this.mediaServer.Guid==pe&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.getMediaItemDetailByMediaFileAndProfile())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(pe=>{this.mediaServer&&this.mediaServer.Guid==pe&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1,this.router.navigateByUrl("/media/server/"+pe))})}ngOnInit(){var e=this.activeRoute.snapshot.params.serverGuid;if(null!=e){var i=this.sharedService.mediaServers.find(o=>o.Guid==e);i&&(this.mediaServer=JSON.parse(JSON.stringify(i)),this.mediaServer.isSecureConnection?this.getMediaItemDetailByMediaFileAndProfile():setTimeout(()=>{0==this.mediaServer.isSecureConnection&&this.router.navigateByUrl("/media/server/"+e)},3e3))}else this.router.navigateByUrl("/404")}getMediaItemDetailByMediaFileAndProfile(){var e=this.activeRoute.snapshot.params.mediaFileId;e?this.libraryService.GetMediaItemDetailByMediaFileAndProfile(this.mediaServer.Url,e,this.sharedService.currentProfile.Id).then(i=>{var o=0;i.LastMediaFilePlayback&&(o=i.LastMediaFilePlayback.CurrentTime),i.MediaItem.MediaTypeId==Et.Movie&&(this.builderVideo=this.libraryService.CreateBuilderVideoFromItem(i,this.mediaServer,o)),i.MediaItem.MediaTypeId==Et.TvSerie&&(this.builderVideo=this.libraryService.CreateBuilderVideoFromEpisode(i,i.CurrentEpisode,this.mediaServer,o)),this.initialize()},i=>{this.router.navigateByUrl("/404")}):this.router.navigateByUrl("/404")}initialize(){let e=this;this.customMouseOutEvent=function(o){e.sliderContainer&&e.sliderContainer.startMove&&e.onClickSlider(e.sliderContainer)},window.addEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction=function(o){e.deleteAllProcessesAndDirectories()},window.addEventListener("beforeunload",this.beforeUnloadFunction),this.detectChangesInterval=window.setInterval(function(){e.ref.detectChanges()},0),this.updateMediaFilePlaybackInterval=window.setInterval(function(){e.updateMediaFilePlayback()},1e4),this.initializeVideoData()}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe(),this.dashMediaPlayer&&(this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy()),this.hls&&(this.hls.detachMedia(),this.hls.destroy()),this.detectChangesInterval&&window.clearInterval(this.detectChangesInterval),this.updateMediaFilePlaybackInterval&&window.clearInterval(this.updateMediaFilePlaybackInterval),this.customMouseOutEvent&&window.removeEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction&&window.removeEventListener("beforeunload",this.beforeUnloadFunction)}initializeVideoData(){this.sharedService.listProcessGUIDs.push(this.builderVideo.TranscodePrepareVideo.ProcessGUID),this.builderVideo.LoadStatus=wt.Empty,this.restProvider.executeHttpMethodByUrl(et.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodingProcesses/GetVideoData",this.builderVideo.TranscodePrepareVideo).then(i=>{this.builderVideo.LoadStatus=wt.Generated;const o=Ns().decode(i);let d=JSON.parse(o);this.builderVideo.TranscodeRunVideo=d,this.builderVideo.TranscodePrepareVideo=d.TranscodePrepareVideo,this.initializeStreams(),setTimeout(()=>{this.executeHideControls()},1e3),this.onInitializeVideo()},i=>{this.showLoadVideoErrorActionsDialog(),console.error(i)})}onTouchVideoContainer(e){this.showingSettings||this.sharedService.isMobileDevice()&&this.showControlsTemporarily(e)}onClickVideoContainer(e){this.showingSettings||(e.clicked=!0,setTimeout(()=>{e.clicked=!1},2e3),this.sharedService.isMobileDevice()||this.showControlsTemporarily(e))}onTouchStartSlider(e,i,o){this.sliderContainer=i,i.startMove=!0,this.lastTmpVideoTime=(e.changedTouches[0].clientX-o.offsetWidth-8-4)/i.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100}onTouchMoveSlider(e,i,o){i.startMove&&(this.lastTmpVideoTime=(e.changedTouches[0].clientX-o.offsetWidth-8-4)/i.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100)}goToNextEpisode(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber+1,d=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o);if(-1!=d)this.getVideoByEpisode(this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes[d]);else{let m=e+1,v=this.builderVideo.ItemDetail.ListSeasons.findIndex(I=>I.SeasonNumber==m);if(-1!=v){let I=this.builderVideo.ItemDetail.ListSeasons[v];this.builderVideo.ItemDetail.CurrentSeason=I,I&&I.ListEpisodes&&I.ListEpisodes.length&&this.getVideoByEpisode(I.ListEpisodes[0])}}}}getVideoByEpisode(e){this.deleteAllProcessesAndDirectories();var i=this.sharedService.mediaServers.find(m=>m.Id==this.builderVideo.TranscodePrepareVideo.MediaServerId),o=this.libraryService.GetTranscodeVideoFromEpisode(this.builderVideo.ItemDetail,e,i);this.builderVideo.TranscodePrepareVideo=o,this.builderVideo.ItemDetail.ListSeasons&&(this.builderVideo.ItemDetail.CurrentSeason=this.builderVideo.ItemDetail.ListSeasons.find(m=>m.SeasonNumber==e.SeasonNumber),this.builderVideo.ItemDetail.CurrentEpisode=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.find(m=>m.EpisodeNumber==e.EpisodeNumber)),this.lastRealVideoTime=0,this.resetStream(),this.sharedService.listProcessGUIDs.push(this.builderVideo.TranscodePrepareVideo.ProcessGUID),this.builderVideo.LoadStatus=wt.Empty,this.restProvider.executeHttpMethodByUrl(et.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodingProcesses/GetVideoData",this.builderVideo.TranscodePrepareVideo).then(m=>{this.builderVideo.LoadStatus=wt.Generated;const v=Ns().decode(m);let I=JSON.parse(v);this.builderVideo.TranscodeRunVideo=I,this.builderVideo.TranscodePrepareVideo=I.TranscodePrepareVideo,this.initializeStreams(),this.getVideoSource()},m=>{this.showLoadVideoErrorActionsDialog(),console.error(m)})}goToPreviousEpisode(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber-1,d=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o);if(-1!=d)this.getVideoByEpisode(this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes[d]);else{let m=e+1,v=this.builderVideo.ItemDetail.ListSeasons.findIndex(I=>I.SeasonNumber==m);if(-1!=v){let I=this.builderVideo.ItemDetail.ListSeasons[v];this.builderVideo.ItemDetail.CurrentSeason=I,I&&I.ListEpisodes&&I.ListEpisodes.length&&this.getVideoByEpisode(I.ListEpisodes[I.ListEpisodes.length-1])}}}}isEnablePreviousEpisodeButton(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber-1;if(-1!=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o))return!0;{let m=e-1,v=this.builderVideo.ItemDetail.ListSeasons.findIndex(I=>I.SeasonNumber==m);if(-1!=v){let I=this.builderVideo.ItemDetail.ListSeasons[v];return!!(I&&I.ListEpisodes&&I.ListEpisodes.length)}return!1}}return!1}isEnableNextEpisodeButton(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber+1;if(-1!=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o))return!0;{let m=e+1,v=this.builderVideo.ItemDetail.ListSeasons.findIndex(I=>I.SeasonNumber==m);if(-1!=v){let I=this.builderVideo.ItemDetail.ListSeasons[v];return!!(I&&I.ListEpisodes&&I.ListEpisodes.length)}return!1}}return!1}showSettings(){this.showControls=!1,this.ref.detectChanges(),this.showingSettings=!0,this.ref.detectChanges()}hideSettings(){this.showingSettings=!1,this.ref.detectChanges()}onClickPrincipalSettingsOption(e){this.currentSelectedPrincipalSettingOption=e}onClickStreamOption(e){this.currentSelectedPrincipalSettingOption.selectedOption=e,this.showingSettings=!1,this.ref.detectChanges(),0==this.currentSelectedPrincipalSettingOption.index&&(this.hls.audioTrack=e.index),1==this.currentSelectedPrincipalSettingOption.index&&(1e6==e.index?this.hls.subtitleDisplay=!1:(this.hls.subtitleTrack=e.index,this.hls.subtitleDisplay=!0))}getSubtitle(e){let i=this;this.http.get(e,{responseType:"text"}).subscribe(o=>{o&&(0,oa.Q)(o)&&(0,oa.Q)(o).entries?(i.currentSubtitleData=(0,oa.Q)(o).entries,0==i.currentSubtitleData.length?setTimeout(()=>{i.getSubtitle(e)},1e3):i.ref.detectChanges()):(console.error("No hay data en los subtitulos aun"),setTimeout(()=>{i.getSubtitle(e)},1e3))},o=>{console.error(o),setTimeout(()=>{i.getSubtitle(e)},1e3)})}showSubtitle(){}closeVideo(){document.fullscreenElement&&document.exitFullscreen(),this.deleteAllProcessesAndDirectories(),this.router.navigateByUrl("/home")}focusButton(e){e.focus(),this.sharedService.currentSelectedElement=e}ngAfterViewInit(){}getConfirmMessage(){var e="Vacio";switch(this.builderVideo.LoadStatus){case wt.Empty:e="Vac\xedo";break;case wt.Generated:e="Generado";break;case wt.Initialized:e="Inicializado";break;case wt.LoadedMetada:e="Cargado Metadata";break;case wt.LoadedData:e="Cargado Data"}return"Hubo un error al intentar reproducir el video, se quedo con el estado de "+e+", desea intentarlo de nuevo?"}updateAudioAndVideoList(){if(this.listPrincipalSettingsOptions[0].listOptions=[],this.listPrincipalSettingsOptions[0].selectedOption=void 0,this.listPrincipalSettingsOptions[1].listOptions=[],this.listPrincipalSettingsOptions[1].selectedOption=void 0,this.builderVideo.TranscodePrepareVideo.ListAudioStreams&&this.builderVideo.TranscodePrepareVideo.ListAudioStreams.length>0&&(this.builderVideo.TranscodePrepareVideo.ListAudioStreams.forEach(e=>{let i="";"spa"==e.language&&(i="Espa\xf1ol"),"eng"==e.language&&(i="Ingles"),e.title&&(i=i+" ("+e.title+")"),e.name=i}),this.listPrincipalSettingsOptions[0].listOptions=this.builderVideo.TranscodePrepareVideo.ListAudioStreams,this.listPrincipalSettingsOptions[0].selectedOption=this.builderVideo.TranscodePrepareVideo.ListAudioStreams.find(e=>1==e.isDefault)),this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams&&this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.length>0){this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.forEach(o=>{let d="";"spa"==o.language&&(d="Espa\xf1ol"),"eng"==o.language&&(d="Ingles"),o.title&&(d=d+" ("+o.title+")"),o.name=d});let e=[];e.push({index:1e6,name:"Ninguno"}),e=e.concat(this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams),this.listPrincipalSettingsOptions[1].listOptions=e;let i=this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.find(o=>1==o.isDefault);null==i&&(i=e.find(o=>1e6==o.index)),this.listPrincipalSettingsOptions[1].selectedOption=i}this.currentSelectedPrincipalSettingOption=this.listPrincipalSettingsOptions[0]}initializeStreams(){this.updateAudioAndVideoList(),this.lastRealVideoTime=this.builderVideo&&null!=this.builderVideo.TranscodePrepareVideo.CurrentTime?this.builderVideo.TranscodePrepareVideo.CurrentTime:0}updateMediaFilePlayback(){if(this.builderVideo&&null!=this.builderVideo.TranscodePrepareVideo.TotalSeconds){var e=0;this.getCurrentVideoTime()>0&&this.getCurrentVideoTime()<=this.builderVideo.TranscodePrepareVideo.TotalSeconds&&((e=this.getCurrentVideoTime())-20<0?e=0:e-=20);let i={Title:this.builderVideo.TranscodePrepareVideo.Title,MediaFileId:this.builderVideo.TranscodePrepareVideo.VideoId,ProfileId:this.sharedService.currentProfile.Id,DurationTime:this.builderVideo.TranscodePrepareVideo.TotalSeconds,CurrentTime:e};this.builderVideo.TranscodePrepareVideo.Subtitle&&(i.Subtitle=this.builderVideo.TranscodePrepareVideo.Subtitle),this.builderVideo.ItemDetail.CurrentSeason&&(i.SeasonNumber=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber),this.builderVideo.ItemDetail.CurrentEpisode&&(i.EpisodeNumber=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber),this.libraryService.updateMediaFilePlayback(this.builderVideo.TranscodePrepareVideo.MediaServerUrl,i).then(o=>{},o=>{console.error(o)})}}executeHideControls(){this.sliderContainer&&this.sliderContainer.startMove?setTimeout(()=>{this.executeHideControls()},2e3):this.showControls=!1}getDurationTime(){return this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.TotalSeconds?this.getFormatTime(this.builderVideo.TranscodePrepareVideo.TotalSeconds):"00:00:00"}getFormatTime(e){var i=parseInt(e,10),o=Math.floor(i/3600),d=Math.floor((i-3600*o)/60),m=i-3600*o-60*d;return o<10&&(o="0"+o),d<10&&(d="0"+d),m<10&&(m="0"+m),o+":"+d+":"+m}getVideoTime(){if(this.lastTmpVideoTime)return this.getFormatTime(this.lastTmpVideoTime);{let e=this.getCurrentVideoTime();return null!=e&&e>0?this.getFormatTime(e):"00:00:00"}}onMouseDownSlider(e,i){this.sliderContainer=i,i.startMove=!0,this.calculateNewTimeToGo(e,i)}onMouseMoveSlider(e,i){i.startMove&&this.calculateNewTimeToGo(e,i)}calculateNewTimeToGo(e,i){this.lastTmpVideoTime=e.offsetX/i.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100}resetStream(){this.showVideoTarget=!1,this.loadedData=!1,null!=this.dashMediaPlayer&&(this.dashMediaPlayer.resetSettings(),this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy(),this.dashMediaPlayer=void 0),this.hls&&(this.hls.destroy(),this.hls=void 0)}onClickSlider(e){if(this.lastTmpVideoTime){if(e.startMove=!1,this.lastTmpVideoTime>this.getCurrentVideoTime()){let i=this.lastTmpVideoTime-this.getCurrentVideoTime();this.executeForwardVideo(i)}else if(this.lastTmpVideoTime<this.getCurrentVideoTime()){let i=this.getCurrentVideoTime()-this.lastTmpVideoTime;this.executeRewindVideo(i)}this.lastTmpVideoTime=void 0}}updateVideoData(e){this.deleteAllProcessesAndDirectories();let i=Nt();this.sharedService.listProcessGUIDs.push(i),this.builderVideo.TranscodePrepareVideo.TimeSpan=e.toString(),this.builderVideo.TranscodePrepareVideo.ProcessGUID=i,this.builderVideo.LoadStatus=wt.Empty,this.restProvider.executeHttpMethodByUrl(et.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodingProcesses/UpdateVideoData",this.builderVideo.TranscodePrepareVideo).then(d=>{this.builderVideo.LoadStatus=wt.Generated;const m=Ns().decode(d);let v=JSON.parse(m);this.builderVideo.TranscodeRunVideo=v,this.updateAudioAndVideoList(),this.getVideoSource()},d=>{this.showLoadVideoErrorActionsDialog(),console.error(d)})}deleteAllProcessesAndDirectories(){this.sharedService.listProcessGUIDs&&this.sharedService.listProcessGUIDs.length>0&&this.deleteProcessesAndDirectories()}deleteProcessesAndDirectories(){var e=this.sharedService.listProcessGUIDs.join(",");this.restProvider.executeHttpMethodByUrl(et.DELETE,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodingProcesses/DeleteByListGuids?guids="+e).then(o=>{const d=Ns().decode(o);let m=JSON.parse(d);if(m&&m.length>0&&this.sharedService.listProcessGUIDs.length>0)for(var v=0;v<m.length;v++){let I=m[v],j=this.sharedService.listProcessGUIDs.findIndex(ne=>ne==I);-1!=j&&this.sharedService.listProcessGUIDs.splice(j,1)}},o=>{console.error(o)})}getSliderPogressWidth(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.TotalSeconds){let e=this.builderVideo.TranscodePrepareVideo.TotalSeconds,o=(this.lastTmpVideoTime?this.lastTmpVideoTime:this.getCurrentVideoTime())/e*100;return o>100&&(o=100),o+"%"}return 0}OnEndedVideo(){this.isEnableNextEpisodeButton()&&this.goToNextEpisode()}isPlayingVideo(){return this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==ut.MPEGDASH?!(!this.dashMediaPlayer||this.dashMediaPlayer.isPaused()):!(!this.videoTarget||0!=this.videoTarget.nativeElement.paused)}playOrPauseVideo(){console.log("subtitle tracks"),console.log(this.hls.subtitleTracks),console.log("audio tracks"),console.log(this.hls.audioTracks),this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==ut.MPEGDASH?this.dashMediaPlayer&&(this.dashMediaPlayer.isPaused()?this.dashMediaPlayer.play():this.dashMediaPlayer.pause()):this.videoTarget&&(this.videoTarget.nativeElement.paused?this.videoTarget.nativeElement.play():this.videoTarget.nativeElement.pause())}showVideoInFullScreen(){this.toggleFullScreenVideo()}toggleFullScreenVideo(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}displayVideoUsingDash(e){let i=this;this.dashMediaPlayer=vs.MediaPlayer().create(),this.dashMediaPlayer.updateSettings({streaming:{gaps:{jumpGaps:!0,jumpLargeGaps:!0,enableSeekFix:!0,enableStallFix:!0},buffer:{bufferPruningInterval:this.builderVideo.TranscodePrepareVideo.TotalSeconds,bufferToKeep:this.builderVideo.TranscodePrepareVideo.TotalSeconds}}}),this.dashMediaPlayer.initialize(this.videoTarget.nativeElement,e),this.dashMediaPlayer.on(vs.MediaPlayer.events.ERROR,function(o){console.log(o),console.error("hubo un error")}),this.dashMediaPlayer.on(vs.MediaPlayer.events.PLAYBACK_ERROR,function(o){console.log(o),console.error("hubo un error de playback")}),this.dashMediaPlayer.on(vs.MediaPlayer.events.PLAYBACK_WAITING,function(o){console.error("PLAYBACK_WAITING"),console.log(o)}),this.dashMediaPlayer.on(vs.MediaPlayer.events.BUFFER_EMPTY,function(o){console.error("BUFFER_EMPTY"),console.log(o)}),this.dashMediaPlayer.on(vs.MediaPlayer.events.STREAM_INITIALIZED,function(o){console.error("STREAM_INITIALIZED"),i.initializeVideo=!0,console.log(o)}),this.ref.detectChanges(),this.dashMediaPlayer.play(),this.showVideoInFullScreen()}onInitializeVideo(){this.executeInitializeVideo()}getCurrentVideoTime(){return this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==ut.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()?this.lastRealVideoTime+this.dashMediaPlayer.time():this.lastRealVideoTime:this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime?this.lastRealVideoTime+this.videoTarget.nativeElement.currentTime:this.lastRealVideoTime}checkIfDisplaySubtitles(e){let o=1e3*(this.getCurrentVideoTime()-1);return e.from<=o&&e.to>=o}onDeclineReplyVideo(){this.closeVideo()}onConfirmReplyVideo(){this.lastRealVideoTime=this.getCurrentVideoTime()-2>=0?this.getCurrentVideoTime()-2:0,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)}onLoadedMetadata(){this.builderVideo.LoadStatus=wt.LoadedMetada,console.log("onLoadedMetadata")}onLoadedData(){console.log("onLoadedData"),this.builderVideo.LoadStatus=wt.LoadedData,this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play())}onErrorVideo(){console.log("onErrorVideo")}executeInitializeVideo(){this.getVideoSource()}testAnyVideo(){}getVideoSource(){this.http.get(this.builderVideo.TranscodeRunVideo.VideoPath,{headers:void 0,responseType:"blob"}).subscribe(e=>{this.builderVideo.LoadStatus=wt.Initialized,this.showVideoTarget=!0,this.ref.detectChanges(),-1!=this.builderVideo.TranscodeRunVideo.VideoPath.indexOf("mpd")?this.displayVideoUsingDash(this.builderVideo.TranscodeRunVideo.VideoPath):-1!=this.builderVideo.TranscodeRunVideo.VideoPath.indexOf("m3u8")?this.displayVideoUsingHLS(this.builderVideo.TranscodeRunVideo.VideoPath):(this.videoTarget.nativeElement.src=this.builderVideo.TranscodeRunVideo.VideoPath,this.videoTarget.nativeElement.currentTime=this.lastRealVideoTime,this.lastRealVideoTime=0,this.videoTarget.nativeElement.play())},e=>{console.error(e),this.showLoadVideoErrorActionsDialog()})}displayVideoUsingHLS(e){let i=this;setTimeout(()=>{i.builderVideo.LoadStatus!=wt.LoadedData&&i.showLoadVideoErrorActionsDialog()},1e4,i),this.showVideoInFullScreen(),bc.isSupported()?(this.hls=new bc,this.hls.attachMedia(this.videoTarget.nativeElement),this.hls.loadSource(e),this.hls.on(bc.Events.MEDIA_ATTACHED,function(o){console.log("MEDIA_ATTACHED"),console.log(o)}),this.hls.on(bc.Events.AUDIO_TRACK_LOADED,function(o){console.log("AUDIO_LOADED"),console.log(o)}),this.hls.on(bc.Events.MANIFEST_LOADED,function(o){console.log("MANIFEST_LOADED"),console.log(o)}),this.hls.on(bc.Events.MANIFEST_PARSED,function(o){console.log("MANIFEST_PARSED"),console.log(o)}),this.hls.on(bc.Events.ERROR,function(o){i.videoTarget.nativeElement.CurrentTime=i.videoTarget.nativeElement.CurrentTime+1,console.error("Ocurrio un error"),console.log(o)})):(this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.src=e,this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play()))}onChangeObjectContain(){"contain"==this.videoTarget.nativeElement.style.objectFit||""==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="cover":"cover"==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="fill":"fill"==this.videoTarget.nativeElement.style.objectFit&&(this.videoTarget.nativeElement.style.objectFit="contain")}callUpdateVideoData(e){let i=Nt();this.lastTimeSpanChangeGUID=i,setTimeout(()=>{i==this.lastTimeSpanChangeGUID&&this.updateVideoData(e)},1e3)}rewindVideo(){this.executeRewindVideo(10)}executeRewindVideo(e){this.initializeVideo=!1;let i=0;i=this.getCurrentVideoTime()-e>=0?e:this.getCurrentVideoTime(),this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==ut.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()>i?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()-i):(this.lastRealVideoTime=this.getCurrentVideoTime()-i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.currentTime>i?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime-i:(this.lastRealVideoTime=this.getCurrentVideoTime()-i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}forwardVideo(){this.executeForwardVideo(10)}executeForwardVideo(e){if(this.initializeVideo=!1,this.getCurrentVideoTime()<this.builderVideo.TranscodePrepareVideo.TotalSeconds){let i=0;i=this.getCurrentVideoTime()+e>this.builderVideo.TranscodePrepareVideo.TotalSeconds?this.builderVideo.TranscodePrepareVideo.TotalSeconds>this.getCurrentVideoTime()?this.builderVideo.TranscodePrepareVideo.TotalSeconds-this.getCurrentVideoTime():0:e,this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==ut.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.duration()-this.dashMediaPlayer.time()>=i?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()+i):(this.lastRealVideoTime=this.getCurrentVideoTime()+i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.duration&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.duration-this.videoTarget.nativeElement.currentTime>=i?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime+i:(this.lastRealVideoTime=this.getCurrentVideoTime()+i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}}onMouseMoveVideoContainer(e){!this.showControls&&!e.clicked&&!this.showingSettings&&this.showControlsTemporarily(e)}executeShowControlsTemporarily(e,i){this.showControls=!0,this.ref.detectChanges(),setTimeout(()=>{e.guid==i&&this.executeHideControls()},2e3)}showControlsTemporarily(e){if(!this.showControls){let i=Nt();e.guid=i,this.sharedService.isMobileDevice()?setTimeout(()=>{this.executeShowControlsTemporarily(e,i)},250):this.executeShowControlsTemporarily(e,i)}}toogleVideoControls(e){this.showControls?this.showControls=!0:this.showControlsTemporarily(e)}showLoadVideoErrorActionsDialog(){var e=new br.vA;e.disableClose=!0,e.data={title:"Mensaje",message:this.getConfirmMessage(),actions:[{text:"No",key:"No"},{text:"Si",key:"Si"}]},this.dialog.open(kE,e).afterClosed().subscribe(i=>{"Si"==i.key&&this.onConfirmReplyVideo(),"No"==i.key&&this.onDeclineReplyVideo()})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Rr),t.Y36(Kn.gz),t.Y36(Kn.F0),t.Y36(xo),t.Y36(br.uw),t.Y36(Oi),t.Y36(fi),t.Y36(t.sBO),t.Y36(he))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-video"]],viewQuery:function(i,o){if(1&i&&(t.Gf(FE,5),t.Gf(BE,5),t.Gf(lp,5),t.Gf(uv,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.controlsContainer=d.first),t.iGM(d=t.CRH())&&(o.settingsContainer=d.first),t.iGM(d=t.CRH())&&(o.videoPrincipalContainer=d.first),t.iGM(d=t.CRH())&&(o.videoTarget=d.first)}},decls:4,vars:1,consts:[[1,"sinovad-container-video"],["id","videoPrincipalContainer",1,"sinovad-video-principal-container","sinovad-custom-container",2,"width","100%","height","100%"],["videoPrincipalContainer",""],["class","sinovad-video-container",3,"click","touchstart","mousemove",4,"ngIf"],[1,"sinovad-video-container",3,"click","touchstart","mousemove"],["videoContainer",""],[1,"sinovad-full-screen-video-container"],["tabindex","0",1,"sinovad-controls-container",3,"ngClass"],["controlsContainer",""],["id","videoHeaderSection","tabindex","0",1,"sinovad-video-header-section"],["id","backVideoButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-chevron-left"],["class","sinovad-video-header-section-title-container",4,"ngIf"],[1,"sinovad-full-screen-video-popup-footer"],[2,"width","100%"],["id","section_progress_bar",1,"sinovad-progress-bar-container"],["id","sliderButton",1,"sinovad-progress-bar"],[1,"sinovad-current-time"],["controlLeft",""],[1,"sinovad-slider-container"],["tabindex","-1",1,"sinovad-slider-content",3,"contextmenu","click","touchend","touchstart","touchmove","mousedown","mousemove"],[1,"sinovad-slider-fills"],["silderFills",""],[2,"width","0px"],[1,"sinovad-slider-fills-progress-container"],["sliderContainer",""],[1,"sinovad-slider-fills-progress-content"],[1,"sinovad-slider-fills-progress"],["silderProgress",""],["controlRight",""],["id","section_video_secondary_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-episode-buttons-section","sinovad-section"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-left"],["id","previousButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-right"],[2,"display","flex","align-items","center","float","right"],["id","nextButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],["id","aspectRatio",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-maximize"],["id","fullScreenButton",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-expand"],["id","settingsOption",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-gear"],[1,"sinovad-section",2,"display","flex","height","50px"],[1,"sinovad-full-screen-video-popup-footer-center"],["id","section_video_principal_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-footer-center-content"],["id","rewindButton",1,"sinovad-video-control-button",2,"margin-right","25px",3,"click"],[1,"fa-solid","fa-rotate-left"],["id","playButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","stopButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","forwardButton",1,"sinovad-video-control-button",2,"margin-left","25px",3,"click"],[1,"fa-solid","fa-rotate-right"],["class","sinovad-loading-video",3,"ngClass",4,"ngIf"],["class","easy-media-settings-section-container","tabindex","0",4,"ngIf"],[3,"ngIf"],["id","video","class","sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended",4,"ngIf"],[1,"sinovad-video-header-section-title-container"],["id","previousButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-backward-step"],["id","nextButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-forward-step"],["id","playButton",1,"sinovad-video-control-button","principal",3,"click"],["playButton",""],["src","",2,"display","none",3,"error"],[1,"fa-solid","fa-play"],["id","stopButton",1,"sinovad-video-control-button","principal",3,"click"],["stopButton",""],[1,"fa-solid","fa-pause"],[1,"sinovad-loading-video",3,"ngClass"],["tabindex","0",1,"easy-media-settings-section-container"],["settingsContainer",""],[1,"easy-media-settings-section-content"],["id","section_settings_back_button","tabindex","0",1,"sinovad-settings-options-header-section"],[1,"sinovad-settings-section-container-left"],[1,"sinovad-settings-section-content-left"],["id","closeSettings",1,"sinovad-video-control-button",3,"click"],["id","streams_options_section","tabindex","0",1,"sinovad-settings-options-section"],["ngFor","",3,"ngForOf"],["class","sinovad-settings-suboptions-section","tabindex","0",3,"id",4,"ngIf"],[3,"id","ngClass","click"],["tabindex","0",1,"sinovad-settings-suboptions-section",3,"id"],[1,"sinovad-subtitles-forzed-section",3,"innerHtml"],["id","video",1,"sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended"],["videoTarget",""]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1,2),t.YNc(3,rf,55,24,"div",3),t.qZA()()),2&i&&(t.xp6(3),t.Q6J("ngIf",o.showVideo))},dependencies:[g.mk,g.sg,g.O5],styles:[".sinovad-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:1054;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}video[_ngcontent-%COMP%]::cue{background-color:transparent;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-loading-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;padding-bottom:0;left:0;background-color:#000;z-index:9999;display:flex;align-items:center;justify-content:center;font-size:30px;color:#fff}.sinovad-loading-video.show-controls[_ngcontent-%COMP%]{padding-bottom:300px;top:150px}.easy-media-settings-section-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:auto;background:rgba(0,0,0,.5);padding:0 0 50px;z-index:99999}.easy-media-settings-section-content[_ngcontent-%COMP%]{display:block}.sinovad-settings-options-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:48px;border-bottom:1px solid #dedede;margin-bottom:50px}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:20px;background-color:transparent;border:none;font-size:30px;border-radius:5px;cursor:pointer}.sinovad-settings-options-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:40px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:10px;background-color:transparent;border:none;font-size:30px;cursor:pointer;margin-right:6px;border-radius:5px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-full-screen-video-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.sinovad-full-screen-video-popup[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-video-header-section[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5);padding-left:10px;padding-top:10px}.sinovad-full-screen-video-popup-footer[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;padding-left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5)}.sinovad-progress-bar-container[_ngcontent-%COMP%]{width:100%;outline:none}.sinovad-progress-bar[_ngcontent-%COMP%]{height:40px;pointer-events:auto;position:relative;width:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px;border:none;border-radius:0;outline:none;background:transparent;opacity:.7}.sinovad-progress-bar[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-slider-container[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;height:100%;pointer-events:auto;position:relative;touch-action:none;padding-left:8px;padding-right:8px;border:none;border-radius:0;outline:none;background:transparent}.sinovad-slider-content[_ngcontent-%COMP%]{height:100%;padding-top:20px;cursor:pointer;outline:none}.sinovad-slider-fills[_ngcontent-%COMP%]{height:3px;overflow:hidden;pointer-events:none;width:100%;background:white;opacity:.5}.sinovad-slider-fills-progress-container[_ngcontent-%COMP%]{position:relative}.sinovad-slider-fills-progress-content[_ngcontent-%COMP%]{width:100%;height:8px;margin-top:-6px}.sinovad-slider-fills-progress[_ngcontent-%COMP%]{cursor:pointer;background:white;height:100%;width:0%}.sinovad-settings-options-header-section[_ngcontent-%COMP%]{display:flex;margin-left:10px;margin-top:10px}.sinovad-settings-section-container-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;float:left}.sinovad-settings-section-content-left[_ngcontent-%COMP%]{position:relative}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-controls-container[_ngcontent-%COMP%]{z-index:-99;pointer-events:none}.sinovad-controls-container.show[_ngcontent-%COMP%]{z-index:unset;pointer-events:unset}.sinovad-custom-video[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-full-screen-video-popup-episode-buttons-section[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:40px}.sinovad-full-screen-video-popup-episode-buttons-section-left[_ngcontent-%COMP%]{display:block;float:left;width:100%;padding-left:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]{display:block;float:right;width:100%;padding-right:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]   .sinovad-video-control-button[_ngcontent-%COMP%]{float:right}.sinovad-full-screen-video-popup-footer-left[_ngcontent-%COMP%]{display:block;float:left;width:170px}.sinovad-full-screen-video-popup-footer-left-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;color:#fff}.sinovad-current-time[_ngcontent-%COMP%]{color:#fff;font-size:25px}.sinovad-full-screen-video-popup-footer-center[_ngcontent-%COMP%]{display:block;float:left;width:100%}.sinovad-full-screen-video-popup-footer-center-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;justify-content:center}.sinovad-full-screen-video-popup-footer-right[_ngcontent-%COMP%]{width:100px;display:block;float:right}.sinovad-full-screen-video-popup-footer-right-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:right;height:100%}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;justify-content:center;width:100%;padding-right:70px}.sinovad-subtitles-forzed-section[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:10px;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;color:#fff;padding:10px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:6px;font-size:18px;font-weight:700}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;color:#000;height:30px;font-size:18px;border-radius:5px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:#000}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-video-control-button[_ngcontent-%COMP%]{color:#fff;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:10px;opacity:.9;font-size:25px;border-radius:100px;min-width:45px}.sinovad-video-control-button[_ngcontent-%COMP%]:hover{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus-visible{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus{background:white;color:#000;opacity:1}@media only screen and (min-width: 2048px){.sinovad-video-control-button[_ngcontent-%COMP%], .sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:35px}}@media only screen and (max-width: 767px){video[_ngcontent-%COMP%]::cue{font-size:25px}}"]})}return r})();const af=["itemListContainer"];function hv(r,n){if(1&r&&(t.TgZ(0,"div",14)(1,"span"),t._uU(2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.Title)}}function mp(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",10)(1,"button",11),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onClickItem(d))}),t._UZ(2,"img",12),t.qZA(),t.YNc(3,hv,3,1,"div",13),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(2);t.xp6(1),t.hYB("id","item_",e.TvSerieId?e.TvSerie_ID:e.MovieId,"_",e.MediaType,""),t.xp6(1),t.Q6J("src",i.sharedService.getUrlByItemMovieDataBase(e),t.LSH),t.xp6(1),t.Q6J("ngIf",!e.Subtitle)}}function yh(r,n){if(1&r&&(t.TgZ(0,"section",4)(1,"div",5)(2,"div",6,7)(4,"div",8,9),t.YNc(6,mp,4,4,"ng-template",3),t.qZA()()()()),2&r){const e=n.$implicit;t.MGl("id","section_search_",n.index,""),t.xp6(6),t.Q6J("ngForOf",e)}}let nM=(()=>{class r{constructor(e,i,o){this.libraryService=e,this.router=i,this.sharedService=o,this.listItems=[],this.listGroupItems=[]}ngOnInit(){this.getItemsBySearch()}getItemsBySearch(){""!=this.searchText.trim()?this.sharedService.mediaServers.forEach(e=>{e.isSecureConnection&&this.libraryService.getAllMediaItemsBySearchQuery(e.Url,this.searchText).then(i=>{this.listItems=this.listItems.concat(i),this.buildGroupItems(this.listItems)},i=>{console.error(i)})}):(this.listItems=[],this.listGroupItems=[])}buildGroupItems(e){if(e&&e.length>0){let m=window.innerWidth>=2048?250:180;var i=Math.floor(this.container.nativeElement.offsetWidth/m),o=e.reduce((v,I,j)=>{var ne=Math.floor(j/i)+1;return v[`row${ne}`]=v[`row${ne}`]||[],v[`row${ne}`].push(I),v},{}),d=Object.keys(o).map(function(v){return o[v]});this.listGroupItems=d}else this.listGroupItems=[]}onClickItem(e){this.getMediaDetail(e)}getMediaDetail(e){var i=this.sharedService.mediaServers.find(o=>o.Id==e.MediaServerId);this.router.navigateByUrl("/media/server/"+i.Guid+"/libraries/"+e.LibraryId+"/detail?mediaType="+e.MediaTypeId+"&mediaId="+e.MediaItemId)}onResize(e){this.buildGroupItems(this.listItems)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(xo),t.Y36(Kn.F0),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-vertical-item-list"]],viewQuery:function(i,o){if(1&i&&t.Gf(af,5),2&i){let d;t.iGM(d=t.CRH())&&(o.container=d.first)}},hostBindings:function(i,o){1&i&&t.NdJ("resize",function(m){return o.onResize(m)},!1,t.Jf7)},inputs:{searchText:"searchText"},decls:4,vars:3,consts:[[1,"sinovad-vertical-list-content"],["itemListContainer",""],[1,"sinovad-vertical-list-second-content"],["ngFor","",3,"ngForOf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-container"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["referrerpolicy","no-referrer","onError","this.src='assets/img/no-image-available.jpg'",3,"src"],["class","sinovad-item-caption-container",4,"ngIf"],[1,"sinovad-item-caption-container"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"div",2),t.YNc(3,yh,7,2,"ng-template",3),t.qZA()()),2&i&&(t.Udp("height","100%"),t.xp6(3),t.Q6J("ngForOf",o.listGroupItems))},dependencies:[g.sg,g.O5],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px;justify-content:center}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex;gap:20px}.sinovad-item-caption-container[_ngcontent-%COMP%]{color:#fff;font-weight:700;padding-top:10px;text-align:center}.sinovad-vertical-list-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-vertical-list-second-content[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:160px;width:160px;height:200px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-content[_ngcontent-%COMP%]{gap:20px}.sinovad-item-container[_ngcontent-%COMP%]{padding:0;margin:0;width:min-content;border-radius:6px}@media only screen and (min-width: 2048px){.sinovad-item-container[_ngcontent-%COMP%]{padding-right:0px 10px 0px 0px;margin:6px}.sinovad-list-content[_ngcontent-%COMP%]{gap:unset}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return r})();function pp(r,n){if(1&r&&(t.TgZ(0,"div",7)(1,"h2"),t._uU(2),t.qZA()()),2&r){const e=t.oxw();t.xp6(2),t.hij('Resultados para "',e.searchText,'"')}}let bh=(()=>{class r{constructor(e,i,o){this.router=e,this.route=i,this.sharedService=o,this.searchText="",this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){let e=this.route.snapshot.queryParams.text;null!=e&&""!=e?this.searchText=e:this.router.navigate(["home"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Kn.F0),t.Y36(Kn.gz),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-search-view"]],decls:8,vars:4,consts:[[1,"sinovad-search-view-container"],["container",""],[1,"sinovad-search-view-title"],["header",""],["class","sinovad-search-view-title-content",4,"ngIf"],["itemListContainer",""],[3,"searchText"],[1,"sinovad-search-view-title-content"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0,1)(2,"div",2,3),t.YNc(4,pp,3,1,"div",4),t.qZA(),t.TgZ(5,"div",null,5),t._UZ(7,"app-vertical-item-list",6),t.qZA()()),2&i){const d=t.MAs(3);t.xp6(4),t.Q6J("ngIf",null!=o.searchText&&""!=o.searchText),t.xp6(1),t.Udp("height","calc(100% - "+d.offsetHeight+"px)"),t.xp6(2),t.Q6J("searchText",o.searchText)}},dependencies:[g.O5,nM],styles:[".sinovad-search-view-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;background:#2d3744;overflow:auto}.sinovad-search-view-title[_ngcontent-%COMP%]{color:#fff;margin-left:20px;margin-right:20px}.sinovad-search-view-title[_ngcontent-%COMP%]   .sinovad-search-view-title-content[_ngcontent-%COMP%]{height:100%;border-bottom:1px solid #dedede;width:100%}"]})}return r})(),Eh=(()=>{class r{constructor(e,i){this.sharedService=e,this.restProvider=i}getProfileByGuid(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.GET,"/profiles/GetByGuidAsync/"+e).then(d=>{i(d)},d=>{console.error(d),o(d)})})}getAllProfiles(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(et.GET,"/profiles/GetAllWithPaginationByUserAsync/"+this.sharedService.userData.Id).then(o=>{let d=o.Data;this.sharedService.listProfiles=d,this.sharedService.currentProfile=d[0],e(!0)},o=>{i(o)})})}getProfiles(e,i,o,d,m,v,I){return new Promise((j,ne)=>{let pe=Nt();this.lastCallGuid=pe;var ze="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+d+"&sortDirection="+m+"&searchText="+v+"&searchBy="+I;this.restProvider.executeSinovadApiService(et.GET,"/profiles/GetAllWithPaginationByUserAsync/"+e+ze).then(mt=>{this.lastCallGuid==pe&&j(mt)},mt=>{console.error(mt),ne(mt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?et.PUT:et.POST,e.Id>0?"/profiles/Update":"/profiles/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.DELETE,"/profiles/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(et.DELETE,"/profiles/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(fi),t.LFG(Oi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function YE(r,n){1&r&&(t.TgZ(0,"div")(1,"div")(2,"div",1)(3,"div",2)(4,"div",3),t._UZ(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div")(13,"div")(14,"div")(15,"div")(16,"div"),t.qZA()()()()())}let pa=(()=>{class r{constructor(e,i){this.ref=e,this.viewContainerRef=i,this.showLoading=!1}ngOnInit(){}ngAfterViewInit(){}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.sBO),t.Y36(t.s_b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-spinner"]],inputs:{showLoading:"showLoading"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"spinner-container"],[1,"sinovad-spinner-container"],[1,"lds-spinner"]],template:function(i,o){1&i&&t.YNc(0,YE,17,0,"div",0),2&i&&t.Q6J("ngIf",o.showLoading)},dependencies:[g.O5],styles:['.spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;z-index:999;justify-content:center;background:rgba(0,0,0,.5)}.lds-spinner[_ngcontent-%COMP%]{color:official;display:inline-block;position:relative;width:80px;height:80px}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transform-origin:40px 40px;animation:_ngcontent-%COMP%_lds-spinner 1.2s linear infinite}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;top:3px;left:37px;width:6px;height:18px;border-radius:20%;background:#fff}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0);animation-delay:-1.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg);animation-delay:-1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg);animation-delay:0s}@keyframes _ngcontent-%COMP%_lds-spinner{0%{opacity:1}to{opacity:0}}']})}return r})();function mv(r,n){if(1&r&&(t.TgZ(0,"div",23),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.hij(" ",i.sharedService.getInitials(e)," ")}}function pv(r,n){if(1&r&&(t._UZ(0,"img",23),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw().$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function WE(r,n){1&r&&(t.TgZ(0,"div",24)(1,"div",25),t._UZ(2,"img",6),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()()),2&r&&(t.xp6(2),t.Q6J("src",t.lcZ(3,1,t.xi3(4,3,"edit-profile.png","GetIconURLByKey")),t.LSH))}function zE(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onSelectProfile(d))}),t.YNc(1,mv,2,1,"div",20),t.YNc(2,pv,3,6,"img",20),t.YNc(3,WE,5,6,"div",21),t.TgZ(4,"div",22),t._uU(5),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw(2);t.MGl("id","profile_",e.Id,""),t.xp6(1),t.Q6J("ngIf",null==e.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.AvatarPath),t.xp6(1),t.Q6J("ngIf",i.enableEditMode),t.xp6(2),t.hij(" ",e.FullName," ")}}function iM(r,n){if(1&r&&t.YNc(0,zE,6,5,"ng-template",18),2&r){const e=t.oxw();t.Q6J("ngForOf",e.sharedService.listProfiles)}}function ZE(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeToEditMode())}),t._uU(1," EDITAR PERFILES "),t.qZA()}}function gp(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmEdit())}),t._uU(1," LISTO "),t.qZA()}}let Th=(()=>{class r{constructor(e,i,o){this.profileService=e,this.router=i,this.sharedService=o,this.enableEditMode=!1,this.showLoading=!0,this._window=window}ngOnInit(){this.getProfiles()}changeToEditMode(){this.enableEditMode=!0}confirmEdit(){this.enableEditMode=!1}showNewProfile(){this.router.navigateByUrl("/add-profile")}editProfile(e){this.router.navigateByUrl("/edit-profile/"+e.Guid)}onSelectProfile(e){this.enableEditMode?this.editProfile(e):this.enterProfile(e)}enterProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}getProfiles(){this.showLoading=!0,this.profileService.getProfiles(this.sharedService.userData.Id,1,100,"Id","asc","","").then(e=>{let i=e.Data;this.sharedService.listProfiles=i,this.sharedService.currentProfile=i[0],this.showLoading=!1},e=>{this.showLoading=!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Eh),t.Y36(Kn.F0),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profiles-view"]],decls:26,vars:18,consts:[[1,"sinovad-profiles-view-container","sinovad-profiles-section"],[1,"sinovad-profiles-view-content"],["profilesViewContent",""],[1,"sinovad-page-header"],["profilesViewHeader",""],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-profiles-view-body"],[1,"sinovad-profiles-view-title-container"],[1,"sinovad-profiles-view-list-container"],[3,"ngIf"],["id","create_new_profile",3,"click"],[1,"sinovad-initials-profile","add"],["width","40px",3,"src"],[1,"sinovad-fullname-profile"],[1,"sinovad-profiles-view-footer"],["profilesViewFooter",""],[3,"showLoading"],["ngFor","",3,"ngForOf"],[3,"id","click"],["class","sinovad-initials-profile",4,"ngIf"],["class","sinovad-icon-edit-profile-container",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],[1,"sinovad-initials-profile"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[3,"click"],[1,"ready",3,"click"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3,4)(5,"div",5),t._UZ(6,"img",6),t.ALo(7,"async"),t.ALo(8,"formatDataPipe"),t.qZA()(),t.TgZ(9,"div",7)(10,"div",8),t._uU(11," \xbfQui\xe9n eres? "),t.qZA(),t.TgZ(12,"div",9),t.YNc(13,iM,1,1,"ng-template",10),t.TgZ(14,"button",11),t.NdJ("click",function(){return o.showNewProfile()}),t.TgZ(15,"div",12),t._UZ(16,"img",13),t.ALo(17,"async"),t.ALo(18,"formatDataPipe"),t.qZA(),t.TgZ(19,"div",14),t._uU(20," Crear "),t.qZA()()()(),t.TgZ(21,"div",15,16),t.YNc(23,ZE,2,0,"ng-template",10),t.YNc(24,gp,2,0,"ng-template",10),t.qZA()()(),t._UZ(25,"app-custom-spinner",17)),2&i){const d=t.MAs(4),m=t.MAs(22);t.xp6(6),t.Q6J("src",t.lcZ(7,8,t.xi3(8,10,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(3),t.Udp("height",o._window.innerWidth<768?"calc(100% - "+(d.offsetHeight+m.offsetHeight)+"px)":""),t.xp6(4),t.Q6J("ngIf",o.sharedService.listProfiles),t.xp6(3),t.Q6J("src",t.lcZ(17,13,t.xi3(18,15,"plus.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngIf",!o.enableEditMode),t.xp6(1),t.Q6J("ngIf",o.enableEditMode),t.xp6(1),t.Q6J("showLoading",o.showLoading)}},dependencies:[pa,g.sg,g.O5,Wr,g.Ov],styles:["[_nghost-%COMP%]{width:100%;height:100%;background:black;position:absolute;bottom:0;left:0}.sinovad-profiles-section[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}section[_ngcontent-%COMP%]{outline:none}input[_ngcontent-%COMP%]{outline:none}.sinovad-profiles-view-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.sinovad-profiles-view-content[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.sinovad-profiles-view-title-container[_ngcontent-%COMP%]{font-size:32px;color:#fff;text-align:center;padding-bottom:60px;font-weight:700}.sinovad-profiles-view-body[_ngcontent-%COMP%]{overflow-y:auto}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;opacity:.8;padding:0;margin-right:20px;width:140px}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:60px;padding-bottom:30px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;opacity:.8;background:lightslategrey;color:#fff;font-size:15px;height:48PX;padding:0 24px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button.ready[_ngcontent-%COMP%]{background:#007bff}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:100px;border:none;display:flex;align-items:center;justify-content:center;font-size:80px;background:lightslategrey;color:#fff}.sinovad-initials-profile.add[_ngcontent-%COMP%]{background:#007bff}.sinovad-initials-profile.add[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px}.sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;color:#fff;font-size:30px;padding-top:10px}.sinovad-screen-back-container[_ngcontent-%COMP%]{position:relative}.sinovad-screen-back-content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;left:0;position:absolute;margin-left:20px;opacity:.8;height:60px;display:flex;align-items:center;justify-content:center}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{width:54px}"]})}return r})();class $E{}var tn=S(95);function _p(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t._UZ(3,"img",4),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",5)(7,"button",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onCloseProfileNew())}),t._uU(8,"CANCELAR"),t.qZA()()(),t.TgZ(9,"div",7)(10,"div",8)(11,"h2"),t._uU(12,"Crear Perfil"),t.qZA(),t.TgZ(13,"div",9)(14,"input",10),t.NdJ("ngModelChange",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.currentTmpProfile.FullName=o)}),t.qZA()(),t.TgZ(15,"div",9)(16,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveProfile())}),t._uU(17,"GUARDAR"),t.qZA()()()()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(11),t.Q6J("placeholder",e.placeHolder)("ngModel",e.currentTmpProfile.FullName)}}let Sh=(()=>{class r{constructor(e,i,o){this.router=e,this.sharedService=i,this.profileService=o,this.placeHolder="Nombre de Perfil"}ngOnInit(){this.currentTmpProfile=new $E,this.currentTmpProfile.UserId=this.sharedService.userData.Id}ngAfterViewInit(){}saveProfile(){this.profileService.saveItem(this.currentTmpProfile).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}onCloseProfileNew(){this.router.navigateByUrl("/select-profile")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Kn.F0),t.Y36(fi),t.Y36(Eh))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile-new"]],decls:1,vars:1,consts:[["class","sinovad-form-page-container",4,"ngIf"],[1,"sinovad-form-page-container"],[1,"sinovad-page-header"],[1,"sinovad-logo-container","sinovaclient-left"],[3,"src"],[1,"sinovaclient-right"],[1,"cancel",3,"click"],[1,"sinovad-page-body"],[1,"sinovad-page-content"],[1,"mb-3"],["type","text",3,"placeholder","ngModel","ngModelChange"],[1,"save",3,"click"]],template:function(i,o){1&i&&t.YNc(0,_p,18,8,"div",0),2&i&&t.Q6J("ngIf",o.currentTmpProfile)},dependencies:[tn.Fj,tn.JJ,tn.On,g.O5,Wr,g.Ov],styles:[".sinovad-form-page-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px;display:flex}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovaclient-left[_ngcontent-%COMP%]{float:left;width:100%}.sinovaclient-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.sinovaclient-right[_ngcontent-%COMP%]{float:right;width:100%}button[_ngcontent-%COMP%]{float:right;font-size:15px;padding:0 24px;height:48px;color:#f9f9f9;border-radius:5px;border:none;opacity:.8}button.save[_ngcontent-%COMP%]{background:#007bff;width:100%}button.cancel[_ngcontent-%COMP%]{background:lightslategrey}button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-page-body[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]{width:300px}.sinovad-page-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;text-align:center}.sinovad-page-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f91a;color:#fff;width:100%;padding:7px 12px;font-size:15px;height:48px}"]})}return r})();function qE(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",6)(1,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveProfile())}),t._uU(2,"Listo"),t.qZA()()}}function gv(r,n){1&r&&(t.TgZ(0,"p",24),t._uU(1,"El perfil principal no se puede eliminar"),t.qZA())}function JE(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onClickDeleteButton())}),t._uU(1,"Eliminar Perfil"),t.qZA()}}function _v(r,n){if(1&r&&(t.TgZ(0,"div",25),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.sharedService.getInitials(e.currentTmpProfile)," ")}}function rM(r,n){if(1&r&&(t._UZ(0,"img",25),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(2);t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.currentTmpProfile.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function QE(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"h2",11),t._uU(4,"Editar Perfil"),t.qZA(),t.YNc(5,gv,2,0,"p",12),t.qZA(),t.TgZ(6,"div",13)(7,"div",14)(8,"input",15),t.NdJ("ngModelChange",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.currentTmpProfile.FullName=o)}),t.qZA(),t.TgZ(9,"div",16),t.YNc(10,JE,2,0,"button",17),t.qZA()(),t.TgZ(11,"div",18)(12,"input",19,20),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.uploadAvatarImage(o))}),t.qZA(),t.TgZ(14,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(13);return t.KtG(o.click())}),t.YNc(15,_v,2,1,"div",21),t.YNc(16,rM,3,6,"img",21),t.TgZ(17,"div",22)(18,"div",23),t._UZ(19,"img",3),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()()()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.currentTmpProfile&&e.currentTmpProfile.Id>0&&e.currentTmpProfile.Main),t.xp6(3),t.Q6J("ngModel",e.currentTmpProfile.FullName),t.xp6(2),t.Q6J("ngIf",e.currentTmpProfile&&e.currentTmpProfile.Id>0&&!e.currentTmpProfile.Main),t.xp6(5),t.Q6J("ngIf",null==e.currentTmpProfile.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.currentTmpProfile.AvatarPath&&!e.hideImage),t.xp6(3),t.Q6J("src",t.lcZ(20,6,t.xi3(21,8,"edit-profile.png","GetIconURLByKey")),t.LSH)}}let lf=(()=>{class r{constructor(e,i,o,d,m){this.router=e,this.activeRoute=i,this.profileService=o,this.restProvider=d,this.sharedService=m,this.hideImage=!1}ngOnInit(){this.profileService.getProfileByGuid(this.activeRoute.snapshot.params.profileGuid).then(i=>{null==i.Data&&this.router.navigateByUrl("404"),this.currentTmpProfile=i.Data},i=>{this.router.navigateByUrl("404")})}ngAfterViewInit(){}saveProfile(){this.profileService.saveItem(this.currentTmpProfile).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}onClickDeleteButton(){this.profileService.deleteItem(this.currentTmpProfile.Id).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}uploadAvatarImage(e){if(e.target.files&&e.target.files.length>0){let d=e.target.files[0];var i=new FormData;i.append("ProfileId",this.currentTmpProfile.Id.toString()),i.append("File",d,d.name),this.restProvider.executeHttpPostMethodWithFormData("/documents/UploadAvatarProfile",i).then(m=>{this.restProvider.executeSinovadApiService(et.GET,"/profiles/GetAsync/"+this.currentTmpProfile.Id).then(v=>{this.currentTmpProfile=v.Data,this.hideImage=!0,setTimeout(()=>{this.hideImage=!1},0)},v=>{console.error(v)})},m=>{console.error(m)})}}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Kn.F0),t.Y36(Kn.gz),t.Y36(Eh),t.Y36(Oi),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile-edit"]],decls:8,vars:8,consts:[[1,"sinovad-form-page-container"],[1,"sinovad-page-header"],[1,"sinovad-logo-container","sinovaclient-left"],[3,"src"],["class","sinovaclient-right",4,"ngIf"],["class","sinovad-page-container",4,"ngIf"],[1,"sinovaclient-right"],[3,"click"],[1,"sinovad-page-container"],[1,"sinovad-page-content"],[1,"top-container"],[1,"title"],["class","subtitle",4,"ngIf"],[1,"bottom-container"],[1,"first"],["type","text",3,"ngModel","ngModelChange"],[1,"sinovad-delete-profile-button-container"],[3,"click",4,"ngIf"],[1,"second"],["type","file","accept",".png,.jpg",2,"display","none",3,"change"],["input",""],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[1,"subtitle"],[1,"sinovad-initials-profile"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.YNc(6,qE,3,0,"div",4),t.qZA(),t.YNc(7,QE,22,11,"div",5),t.qZA()),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngIf",o.currentTmpProfile),t.xp6(1),t.Q6J("ngIf",o.currentTmpProfile))},dependencies:[tn.Fj,tn.JJ,tn.On,g.O5,Wr,g.Ov],styles:[".sinovad-form-page-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px;display:flex}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovaclient-left[_ngcontent-%COMP%]{float:left;width:100%}.sinovaclient-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.sinovaclient-right[_ngcontent-%COMP%]{float:right;width:100%}.sinovaclient-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;font-size:20px;background:#007bff;color:#f9f9f9;border-radius:5px;border:none;opacity:.8;height:48px;padding:0 24px}.sinovaclient-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:100px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]{display:block}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{text-align:left}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   h2.title[_ngcontent-%COMP%]{color:#fff;font-size:32px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   p.subtitle[_ngcontent-%COMP%]{font-size:15px;color:#cacaca}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f91a;color:#fff;min-width:200px;font-size:20px;border-radius:4px;outline:none;padding:7px 12px;border:1px solid transparent}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{margin:0 0 0 75px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:213px;height:213px;border:2px solid transparent;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:80px;background-color:#789;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:30px}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:transparent;color:red;opacity:.8;font-size:15px}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:170px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{text-align:center}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{order:2}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 0 20px;order:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px}}"]})}return r})();var cf=S(2939);function au(r,n){1&r&&t._UZ(0,"i",4)}function df(r,n){1&r&&t._UZ(0,"i",5)}function XE(r,n){1&r&&t._UZ(0,"i",6)}const vv=function(r,n,e){return{success:r,info:n,error:e}};var Ui=function(r){return r[r.Success=1]="Success",r[r.Error=2]="Error",r[r.Info=3]="Info",r}(Ui||{});let eT=(()=>{class r{constructor(e){this.toastOptions=e,this.snackBarRef=(0,t.f3M)(cf.OX)}SnackBarType(){return Ui}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(cf.qD))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-snack-bar"]],standalone:!0,features:[t.jDz],decls:5,vars:9,consts:[[1,"custom-toast",3,"ngClass"],["class","fa-solid fa-circle-check me-2",4,"ngIf"],["class","fa-solid fa-circle-info me-2",4,"ngIf"],["class","fa-solid fa-circle-xmark me-2",4,"ngIf"],[1,"fa-solid","fa-circle-check","me-2"],[1,"fa-solid","fa-circle-info","me-2"],[1,"fa-solid","fa-circle-xmark","me-2"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,au,1,0,"i",1),t.YNc(2,df,1,0,"i",2),t.YNc(3,XE,1,0,"i",3),t._uU(4),t.qZA()),2&i&&(t.Q6J("ngClass",t.kEZ(5,vv,o.toastOptions.snackBarType==o.SnackBarType().Success,o.toastOptions.snackBarType==o.SnackBarType().Info,o.toastOptions.snackBarType==o.SnackBarType().Error)),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Success),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Info),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Error),t.xp6(1),t.hij(" ",o.toastOptions.message,"\n"))},dependencies:[cf.ZX,g.ez,g.mk,g.O5],styles:[".custom-toast[_ngcontent-%COMP%]{background:transparent;font-weight:500;width:100%;height:100%;display:flex;align-items:center}.custom-toast[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;font-size:23px}.custom-toast.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:green}.custom-toast.error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.custom-toast.info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00f}"]})}return r})(),yv=(()=>{class r{constructor(){this.updateMediaItems$=new on.x}updateMediaItems(){this.updateMediaItems$.next(!0)}isUpdatingMediaItems(){return this.updateMediaItems$.asObservable()}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),vp=(()=>{class r{constructor(e,i,o,d){this.mediaService=e,this.libraryService=i,this.sharedService=o,this.restProvider=d}getMediaServers(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(et.GET,"/mediaServers/GetAllByUserAsync/"+this.sharedService.userData.Id).then(o=>{this.sharedService.mediaServers=o.Data,this.sharedService.mediaServers.forEach(m=>{this.executeGetLibrariesByMediaServer(m)}),e(!0)},o=>{i(o)})})}executeGetLibrariesByMediaServer(e){e.isSecureConnection?this.libraryService.getLibrariesByMediaServer(e.Url).then(i=>{e.ListLibraries=i,this.mediaService.updateMediaItems()},i=>{}):(e.ListLibraries=[],this.mediaService.updateMediaItems())}getMediaServerByGuid(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.GET,"/mediaServers/GetByGuidAsync/"+e).then(d=>{i(d)},d=>{console.error(d),o(d)})})}getItems(e,i,o,d,m,v,I){return new Promise((j,ne)=>{let pe=Nt();this.lastCallGuid=pe;var ze="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+d+"&sortDirection="+m+"&searchText="+v+"&searchBy="+I;this.restProvider.executeSinovadApiService(et.GET,"/mediaServers/GetAllWithPaginationByUserAsync/"+e+ze).then(mt=>{this.lastCallGuid==pe&&j(mt)},mt=>{console.error(mt),ne(mt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?et.PUT:et.POST,e.Id>0?"/mediaServers/Update":"/mediaServers/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.DELETE,"/mediaServers/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(et.DELETE,"/mediaServers/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(yv),t.LFG(xo),t.LFG(fi),t.LFG(Oi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Lo=(()=>{class r{constructor(e){this.snackBar=e}showSnackBar(e,i){var o=new cf.u_;o.duration=2e3,o.data={message:e,snackBarType:i},this.snackBar.openFromComponent(eT,o)}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(cf.ux))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function uf(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"span",7),t._uU(10,"Privado"),t.qZA(),t.TgZ(11,"span",8)(12,"span",9),t._uU(13),t.qZA()()()(),t.TgZ(14,"div",5)(15,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.updateMediaServer())}),t.TgZ(16,"div",5)(17,"label",11),t._uU(18,"Nombre Familiar"),t.qZA(),t._UZ(19,"input",12),t.TgZ(20,"p",13),t._uU(21,"Este nombre se usar\xe1 para que otros ordenadores identifiquen este servidor en tu red. Si lo dejas en blanco se usar\xe1 el nombre del equipo."),t.qZA()(),t.TgZ(22,"div",14)(23,"button",15)(24,"span",16),t._uU(25,"Guardar cambios"),t.qZA()(),t._UZ(26,"span",17),t.qZA()()()()()()()()}if(2&r){const e=t.oxw(2);t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - General"),t.xp6(11),t.Oqu(e.mediaServer.Url),t.xp6(2),t.Q6J("formGroup",e.customForm),t.xp6(4),t.Q6J("placeholder",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName),t.xp6(4),t.Q6J("disabled",e.loading||e.customForm.pristine||e.customForm.invalid)}}function bv(r,n){if(1&r&&t._UZ(0,"app-server-connection-error",18),2&r){const e=t.oxw(2);t.Q6J("mediaServer",e.mediaServer)}}function sM(r,n){if(1&r&&(t.YNc(0,uf,27,5,"ng-template",0),t.YNc(1,bv,1,1,"ng-template",0)),2&r){const e=t.oxw();t.Q6J("ngIf",e.mediaServer&&e.mediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.mediaServer&&!e.mediaServer.isSecureConnection)}}function yp(r,n){1&r&&(t.TgZ(0,"div",19),t._UZ(1,"mat-spinner"),t.qZA())}let Dd=(()=>{class r{constructor(e,i,o,d,m,v,I,j){this.signalIrService=e,this.serverService=i,this.snackBarService=o,this.formBuilder=d,this.router=m,this.activeRoute=v,this.restProvider=I,this.sharedService=j,this.loading=!1,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(ne=>{this.mediaServer&&this.mediaServer.Guid==ne&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0)}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(ne=>{this.mediaServer&&this.mediaServer.Guid==ne&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){var e=this.activeRoute.snapshot.params.serverGuid,i=this.sharedService.mediaServers.find(o=>o.Guid==e);i?(this.mediaServer=JSON.parse(JSON.stringify(i)),i.isSecureConnection?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3),this.customForm=this.formBuilder.group({familyName:new tn.NI(this.mediaServer.FamilyName)})):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getMediaServerData(){var e=this;return(0,ki.Z)(function*(){e.loading=!0;var i=e.activeRoute.snapshot.params.serverGuid;e.serverService.getMediaServerByGuid(i).then(o=>{var d=o.Data,v=e.sharedService.mediaServers.find(I=>I.Guid==i);v.FamilyName=d.FamilyName,e.mediaServer=v,e.customForm=e.formBuilder.group({familyName:new tn.NI(e.mediaServer.FamilyName)}),e.loading=!1},o=>{e.router.navigateByUrl("/404"),e.loading=!1})})()}ngAfterViewInit(){}updateMediaServer(){this.loading=!0;var i=JSON.parse(JSON.stringify(this.mediaServer));i.FamilyName=this.customForm.value.familyName,this.restProvider.executeSinovadApiService(et.PUT,"/mediaServers/Update",i).then(o=>{this.getMediaServerData(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",Ui.Success)},o=>{this.loading=!1,console.error(o)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Rr),t.Y36(vp),t.Y36(Lo),t.Y36(tn.qu),t.Y36(Kn.F0),t.Y36(Kn.gz),t.Y36(Oi),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-server-setttings-general"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"remote-access-mapping"],[1,"mapping-label"],[1,"mapping-address"],[1,"mapping-value"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["type","text","formControlName","familyName",1,"form-control",3,"placeholder"],[1,"help-block"],[1,"form-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn-label"],[1,"form-message"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.YNc(0,sM,2,2,"ng-template",0),t.YNc(1,yp,2,0,"ng-template",0)),2&i&&(t.Q6J("ngIf",!o.loadingConnection),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.O5,tn._Y,tn.Fj,tn.JJ,tn.JL,Nr.Ou,rs,tn.sg,tn.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}']})}return r})();var kr=S(1476),Ch=S(8337),$n=S(5313);class $l{constructor(n){this.matPaginatorIntl=n,this.showLoading=!0,this.dataSource=new $n.by,this.selection=new Ch.Ov(!0,[]),this.itemsPerPage=10,this.currentPage=1,this.listItems=[],this.sortBy="Id",this.sortDirection="asc",this.searchText="",this.searchBy="",this.matPaginatorIntl.itemsPerPageLabel="Items por p\xe1gina",this.matPaginatorIntl.previousPageLabel="P\xe1gina anterior",this.matPaginatorIntl.nextPageLabel="P\xe1gina siguiente"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}updatePageData(n){this.itemsPerPage=n.pageSize,this.currentPage=n.pageIndex+1}getElementNumber(n,e,i){return n+1+(e-1)*i}onChangeCheckValue(n,e){let i=n.target.checked;if(i?this.selection.select(e):this.selection.deselect(e),n.shiftKey&&this.lastSelectedItem){let d=0;this.selection.hasValue()&&this.lastSelectedItem&&(d=this.listItems.indexOf(this.lastSelectedItem));let m=this.listItems.indexOf(e);if(i){var o;o=this.listItems.filter(m>=d?v=>this.listItems.indexOf(v)<=m&&this.listItems.indexOf(v)>=d&&!this.selection.isSelected(v):v=>this.listItems.indexOf(v)>=m&&this.listItems.indexOf(v)<=d&&!this.selection.isSelected(v)),o&&o.length>0&&this.selection.select(...o)}else{let v=[];v=this.listItems.filter(m>=d?I=>this.listItems.indexOf(I)<=m&&this.listItems.indexOf(I)>=d&&this.selection.isSelected(I):I=>this.listItems.indexOf(I)>=m&&this.listItems.indexOf(I)<=d&&this.selection.isSelected(I)),v&&v.length>0&&this.selection.deselect(...v)}}this.lastSelectedItem=e}}let tT=(()=>{class r{constructor(e){this.restProvider=e}getAlertsByMediaServer(e,i,o){return new Promise((d,m)=>{var v="?page="+i.toString()+"&take="+o.toString();this.restProvider.executeHttpMediaServerApi(et.GET,e+"/api/alerts/GetAllWithPagination"+v).then(j=>{d(j)},j=>{m(j)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Oi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function nT(r,n){1&r&&(t.TgZ(0,"div",18),t._UZ(1,"mat-spinner"),t.qZA())}function iT(r,n){if(1&r&&(t.TgZ(0,"td",19),t._UZ(1,"i"),t.qZA()),2&r){const e=n.$implicit,i=t.oxw(4);t.xp6(1),t.Tol(i.getIconByAlertType(e.AlertType))}}function Ev(r,n){if(1&r&&(t.TgZ(0,"td",20),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.Created,"dd-MM-YYYY h:mm a")," ")}}function rT(r,n){if(1&r&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Description," ")}}function Tv(r,n){1&r&&t._UZ(0,"tr",22)}function lu(r,n){1&r&&(t.TgZ(0,"td",25),t._uU(1,"No se encontraron datos"),t.qZA())}function Ec(r,n){if(1&r&&(t.TgZ(0,"tr",23),t.YNc(1,lu,2,0,"td",24),t.qZA()),2&r){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}function Sv(r,n){if(1&r&&(t.TgZ(0,"div",2)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5),t.YNc(6,nT,2,0,"div",6),t.TgZ(7,"div",7)(8,"table",8),t.ynx(9,9),t.YNc(10,iT,2,3,"td",10),t.BQk(),t.ynx(11,11),t.YNc(12,Ev,3,4,"td",12),t.BQk(),t.ynx(13,13),t.YNc(14,rT,2,1,"td",14),t.BQk(),t.YNc(15,Tv,1,0,"tr",15),t.YNc(16,Ec,2,1,"tr",16),t.qZA()()()()(),t.TgZ(17,"div",3)(18,"div",4),t._UZ(19,"mat-paginator",17),t.qZA()()()),2&r){const e=t.oxw(3);t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - Alertas"),t.xp6(4),t.Q6J("ngIf",e.showLoading),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(7),t.Q6J("matRowDefColumns",e.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("hidePageSize",!0)}}function aM(r,n){if(1&r&&t.YNc(0,Sv,20,6,"div",1),2&r){const e=t.oxw(2);t.Q6J("ngIf",e.mediaServer)}}function oT(r,n){if(1&r&&t._UZ(0,"app-server-connection-error",26),2&r){const e=t.oxw(2);t.Q6J("mediaServer",e.mediaServer)}}function lM(r,n){if(1&r&&(t.YNc(0,aM,1,1,"ng-template",0),t.YNc(1,oT,1,1,"ng-template",0)),2&r){const e=t.oxw();t.Q6J("ngIf",e.mediaServer&&e.mediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.mediaServer&&!e.mediaServer.isSecureConnection)}}function cM(r,n){1&r&&(t.TgZ(0,"div",27),t._UZ(1,"mat-spinner"),t.qZA())}let bp=(()=>{class r extends $l{constructor(e,i,o,d,m,v,I){super(I),this.ref=e,this.sharedService=i,this.router=o,this.activeRoute=d,this.signalIrService=m,this.alertsService=v,this.matPaginatorIntl=I,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(j=>{this.mediaServer&&this.mediaServer.Guid==j&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.ref.detectChanges(),this.initializePaginator(),this.getAllItems())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(j=>{this.mediaServer&&this.mediaServer.Guid==j&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){var e=this.activeRoute.snapshot.params.serverGuid,i=this.sharedService.mediaServers.find(o=>o.Guid==e);i?(this.mediaServer=JSON.parse(JSON.stringify(i)),i.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngAfterViewInit(){this.mediaServer&&this.mediaServer.isSecureConnection&&this.initializePaginator()}initializePaginator(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getAllItems(){this.showLoading=!0,this.alertsService.getAlertsByMediaServer(this.mediaServer.Url,this.currentPage,this.itemsPerPage).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new $n.by(this.listItems),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}getDisplayedColumns(){return["AlertType","Created","Description"]}getIconByAlertType(e){return e==Fn.Bullhorn?"fa-solid fa-bullhorn":e==Fn.Tags?"fa-solid fa-tags":e==Fn.Ok?"fa-solid fa-check":e==Fn.Plus?"fa-solid fa-plus":e==Fn.Bin?"fa-solid fa-trash":""}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.sBO),t.Y36(fi),t.Y36(Kn.F0),t.Y36(Kn.gz),t.Y36(Rr),t.Y36(tT),t.Y36(kr.ye))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-alerts"]],viewQuery:function(i,o){if(1&i&&t.Gf(kr.NW,5),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first)}},features:[t.qOj],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"row"],[1,"col-12"],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","AlertType"],["mat-cell","","style","width:45px;max-width:45px;text-align: left;",4,"matCellDef"],["matColumnDef","Created"],["mat-cell","","style","min-width:140px;width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Description"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","hidePageSize"],[1,"loading-shade"],["mat-cell","",2,"width","45px","max-width","45px","text-align","left"],["mat-cell","",2,"min-width","140px","width","140px","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.YNc(0,lM,2,2,"ng-template",0),t.YNc(1,cM,2,0,"ng-template",0)),2&i&&(t.Q6J("ngIf",!o.loadingConnection),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.O5,kr.NW,$n.BZ,$n.w1,$n.Dz,$n.nj,$n.ev,$n.Gk,$n.Ee,Nr.Ou,rs,g.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:650px!important}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:650px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}td[_ngcontent-%COMP%]{font-size:13px;padding:6px}div[_ngcontent-%COMP%]{font-size:13px}span[_ngcontent-%COMP%]{font-size:13px!important}"]})}return r})();class Cv{}class Tc{isErrorState(n,e){return!!(n&&n.invalid&&(n.dirty||n.touched||e&&e.submitted))}}let Dv=(()=>{class r{constructor(e){this.restProvider=e}getDirectoriesByMediaServer(e){return new Promise((i,o)=>{this.restProvider.executeHttpMethodByUrl(et.GET,e+"/api/directories").then(d=>{i(d)},d=>{console.error(d),o(d)})})}getSubdirectoriesByMediaServerAndDirectoryPath(e,i){return new Promise((o,d)=>{var m=Ns().encode(i);this.restProvider.executeHttpMethodByUrl(et.GET,e+"/api/directories/"+m).then(v=>{o(v)},v=>{console.error(v),d(v)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Oi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var ff=S(6232),Bs=S(2438),Ep=S(4825),cu=S(4829);const{isArray:Xi}=Array;function Tp(r){return 1===r.length&&Xi(r[0])?r[0]:r}var du=S(8251);var Sp=S(3019),xv=S(9940);function Cp(...r){const n=(0,xv.jO)(r),e=Tp(r);return e.length?new E.y(i=>{let o=e.map(()=>[]),d=e.map(()=>!1);i.add(()=>{o=d=null});for(let m=0;!i.closed&&m<e.length;m++)(0,cu.Xf)(e[m]).subscribe((0,du.x)(i,v=>{if(o[m].push(v),o.every(I=>I.length)){const I=o.map(j=>j.shift());i.next(n?n(...I):I),o.some((j,ne)=>!j.length&&d[ne])&&i.complete()}},()=>{d[m]=!0,!o[m].length&&i.complete()}));return()=>{o=d=null}}):ff.E}var Dp=S(5211),ko=S(9773),_l=S(8180),Mv=S(9360),dM=S(2737),xp=S(2420);function Dh(...r){const n=(0,xv.jO)(r);return(0,Mv.e)((e,i)=>{const o=r.length,d=new Array(o);let m=r.map(()=>!1),v=!1;for(let I=0;I<o;I++)(0,cu.Xf)(r[I]).subscribe((0,du.x)(i,j=>{d[I]=j,!v&&!m[I]&&(m[I]=!0,(v=m.every(dM.y))&&(m=null))},xp.Z));e.subscribe((0,du.x)(i,I=>{if(v){const j=[I,...d];i.next(n?n(...j):j)}}))})}S(6321),S(975),S(1631),S(7921),S(3997),S(836),Math,Math,Math;const _u=["*"],ZT=["dialog"];function Jl(r){return"string"==typeof r}function Pd(r){return null!=r}function Rf(r){return(r||document.body).getBoundingClientRect()}const og={animation:!0,transitionTimerDelayMs:5},yS=()=>{},{transitionTimerDelayMs:es}=og,bu=new Map,ya=(r,n,e,i)=>{let o=i.context||{};const d=bu.get(n);if(d)switch(i.runningTransition){case"continue":return ff.E;case"stop":r.run(()=>d.transition$.complete()),o=Object.assign(d.context,o),bu.delete(n)}const m=e(n,i.animation,o)||yS;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return r.run(()=>m()),(0,b.of)(void 0).pipe(function MM(r){return n=>new E.y(e=>n.subscribe({next:m=>r.run(()=>e.next(m)),error:m=>r.run(()=>e.error(m)),complete:()=>r.run(()=>e.complete())}))}(r));const v=new on.x,I=new on.x,j=v.pipe(function lT(...r){return n=>(0,Dp.z)(n,(0,b.of)(...r))}(!0));bu.set(n,{transition$:v,complete:()=>{I.next(),I.complete()},context:o});const ne=function vS(r){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(r);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return r.runOutsideAngular(()=>{const pe=(0,Bs.R)(n,"transitionend").pipe((0,ko.R)(j),(0,L.h)(({target:tt})=>tt===n));(function sT(...r){return 1===(r=Tp(r)).length?(0,cu.Xf)(r[0]):new E.y(function aT(r){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<r.length;i++)e.push((0,cu.Xf)(r[i]).subscribe((0,du.x)(n,o=>{if(e){for(let d=0;d<e.length;d++)d!==i&&e[d].unsubscribe();e=null}n.next(o)})))}}(r))})((0,Ep.H)(ne+es).pipe((0,ko.R)(j)),pe,I).pipe((0,ko.R)(j)).subscribe(()=>{bu.delete(n),r.run(()=>{m(),v.next(),v.complete()})})}),v.asObservable()};let Nf=(()=>{class r{constructor(){this.animation=og.animation}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Xr=function(r){return r[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown",r}(Xr||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Ld=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function GS(r){const n=Array.from(r.querySelectorAll(Ld)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class Qc{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}let hC=(()=>{class r{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,_l.q)(1)).subscribe(()=>{ya(this._zone,this._el.nativeElement,(e,i)=>{i&&Rf(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ya(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.SBq),t.Y36(t.R0b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,o){2&i&&(t.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),t.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(i,o){},encapsulation:2})}return r})();class As{update(n){}close(n){}dismiss(n){}}const mC=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],pC=["animation","backdropClass"];class gC{_applyWindowOptions(n,e){mC.forEach(i=>{Pd(e[i])&&(n[i]=e[i])})}_applyBackdropOptions(n,e){pC.forEach(i=>{Pd(e[i])&&(n[i]=e[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,ko.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,ko.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,e,i,o){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new on.x,this._dismissed=new on.x,this._hidden=new on.x,n.instance.dismissEvent.subscribe(d=>{this.dismiss(d)}),this.result=new Promise((d,m)=>{this._resolve=d,this._reject=m}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function Vh(r){return r&&r.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,b.of)(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Cp(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Vf=function(r){return r[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC",r}(Vf||{});let Dg=(()=>{class r{constructor(e,i,o){this._document=e,this._elRef=i,this._zone=o,this._closed$=new on.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new t.vpe,this.shown=new on.x,this.hidden=new on.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Jl(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,_l.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},m=Cp(ya(this._zone,e,()=>e.classList.remove("show"),i),ya(this._zone,this._dialogEl.nativeElement,()=>{},i));return m.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),m}_show(){const e={animation:this.animation,runningTransition:"continue"},i=ya(this._zone,this._elRef.nativeElement,(d,m)=>{m&&Rf(d),d.classList.add("show")},e);Cp(i,ya(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{(0,Bs.R)(e,"keydown").pipe((0,ko.R)(this._closed$),(0,L.h)(o=>o.which===Xr.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(Vf.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;(0,Bs.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,ko.R)(this._closed$),(0,ci.b)(()=>i=!1),(0,f.w)(()=>(0,Bs.R)(e,"mouseup").pipe((0,ko.R)(this._closed$),(0,_l.q)(1))),(0,L.h)(({target:o})=>e===o)).subscribe(()=>{i=!0}),(0,Bs.R)(e,"click").pipe((0,ko.R)(this._closed$)).subscribe(({target:o})=>{e===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Vf.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),o=GS(e)[0];(i||o||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let o;o=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ya(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(g.K0),t.Y36(t.SBq),t.Y36(t.R0b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(i,o){if(1&i&&t.Gf(ZT,7),2&i){let d;t.iGM(d=t.CRH())&&(o._dialogEl=d.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,o){2&i&&(t.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),t.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),t.ekj("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[t.jDz],ngContentSelectors:_u,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,o){1&i&&(t.F$t(),t.TgZ(0,"div",0,1)(2,"div",2),t.Hsn(3),t.qZA()()),2&i&&t.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return r})(),n0=(()=>{class r{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,o=i.style,{overflow:d,paddingRight:m}=o;if(e>0){const v=parseFloat(window.getComputedStyle(i).paddingRight);o.paddingRight=`${v+e}px`}return o.overflow="hidden",()=>{e>0&&(o.paddingRight=m),o.overflow=d}}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(g.K0))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),xg=(()=>{class r{constructor(e,i,o,d,m,v,I){this._applicationRef=e,this._injector=i,this._environmentInjector=o,this._document=d,this._scrollBar=m,this._rendererFactory=v,this._ngZone=I,this._activeWindowCmptHasChanged=new on.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new t.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const j=this._windowCmpts[this._windowCmpts.length-1];((r,n,e,i=!1)=>{r.runOutsideAngular(()=>{const o=(0,Bs.R)(n,"focusin").pipe((0,ko.R)(e),(0,D.U)(d=>d.target));(0,Bs.R)(n,"keydown").pipe((0,ko.R)(e),(0,L.h)(d=>d.which===Xr.Tab),Dh(o)).subscribe(([d,m])=>{const[v,I]=GS(n);(m===v||m===n)&&d.shiftKey&&(I.focus(),d.preventDefault()),m===I&&!d.shiftKey&&(v.focus(),d.preventDefault())}),i&&(0,Bs.R)(n,"click").pipe((0,ko.R)(e),Dh(o),(0,D.U)(d=>d[1])).subscribe(d=>d.focus())})})(this._ngZone,j.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(j.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,o){const d=o.container instanceof HTMLElement?o.container:Pd(o.container)?this._document.querySelector(o.container):this._document.body,m=this._rendererFactory.createRenderer(null,null);if(!d)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const v=new As,I=(e=o.injector||e).get(t.lqb,null)||this._environmentInjector,j=this._getContentRef(e,I,i,v,o);let ne=!1!==o.backdrop?this._attachBackdrop(d):void 0,pe=this._attachWindowComponent(d,j.nodes),ze=new gC(pe,j,ne,o.beforeDismiss);return this._registerModalRef(ze),this._registerWindowCmpt(pe),ze.hidden.pipe((0,_l.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),v.close=tt=>{ze.close(tt)},v.dismiss=tt=>{ze.dismiss(tt)},v.update=tt=>{ze.update(tt)},ze.update(o),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),ne&&ne.instance&&ne.changeDetectorRef.detectChanges(),pe.changeDetectorRef.detectChanges(),ze}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,t.LMc)(hC,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let o=(0,t.LMc)(Dg,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(o.hostView),e.appendChild(o.location.nativeElement),o}_getContentRef(e,i,o,d,m){return o?o instanceof t.Rgc?this._createFromTemplateRef(o,d):Jl(o)?this._createFromString(o):this._createFromComponent(e,i,o,d,m):new Qc([])}_createFromTemplateRef(e,i){const o={$implicit:i,close(m){i.close(m)},dismiss(m){i.dismiss(m)}},d=e.createEmbeddedView(o);return this._applicationRef.attachView(d),new Qc([d.rootNodes],d)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Qc([[i]])}_createFromComponent(e,i,o,d,m){const v=t.zs3.create({providers:[{provide:As,useValue:d}],parent:e}),I=(0,t.LMc)(o,{environmentInjector:i,elementInjector:v}),j=I.location.nativeElement;return m.scrollable&&j.classList.add("component-host-scrollable"),this._applicationRef.attachView(I.hostView),new Qc([[j]],I.hostView,I)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(o=>{o!==e&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const o=this._modalRefs.indexOf(e);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.z2F),t.LFG(t.zs3),t.LFG(t.lqb),t.LFG(g.K0),t.LFG(n0),t.LFG(t.FYo),t.LFG(t.R0b))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),_C=(()=>{class r{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Nf))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ba=(()=>{class r{constructor(e,i,o){this._injector=e,this._modalStack=i,this._config=o}open(e,i={}){const o={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.zs3),t.LFG(xg),t.LFG(_C))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();new t.OlP("live announcer delay",{providedIn:"root",factory:function C0(){return 100}});const Lg=function(r){return{"sinovad-directory-selected":r}};function O0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickMainDirectory(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(2,Lg,i.selectedMainDirectory&&e.Name==i.selectedMainDirectory.Name)),t.xp6(1),t.hij(" ",e.Name," ")}}function P0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickBackFolder())}),t._uU(1," <= .. [Regresar] "),t.qZA()}}function R0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickSubDirectory(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(2,Lg,i.selectedSubdirectory&&e.Name==i.selectedSubdirectory.Name)),t.xp6(1),t.hij(" ",e.Name," ")}}let N0=(()=>{class r{constructor(e,i){this.directoryService=e,this.activeModal=i,this.listMainDirectories=[],this.listSubdirectoriesTmp=[]}ngOnInit(){this.getDirectories()}getDirectories(){this.directoryService.getDirectoriesByMediaServer(this.mediaServer.Url).then(e=>{this.listMainDirectories=JSON.parse(e);let i=this.listMainDirectories[0];this.selectedMainDirectory=i,this.getSubdirectoriesByPath(i)})}getSubdirectoriesByPath(e){this.directoryService.getSubdirectoriesByMediaServerAndDirectoryPath(this.mediaServer.Url,e.Path).then(i=>{this.listSubdirectoriesTmp=JSON.parse(i)},i=>{console.error(i)})}saveDirectory(){this.activeModal.close(this.getCurrentPath())}getCurrentPath(){return this.selectedSubdirectory?this.selectedSubdirectory.Path:this.selectedMainDirectory.Path}closeModal(){this.activeModal.dismiss()}onClickBackFolder(){this.selectedSubdirectory.ParentDirectory.IsMainDirectory?(this.selectedSubdirectory=void 0,this.getSubdirectoriesByPath(this.selectedMainDirectory)):(this.selectedSubdirectory=this.selectedSubdirectory.ParentDirectory,this.getSubdirectoriesByPath(this.selectedSubdirectory))}onClickMainDirectory(e){this.selectedMainDirectory=e,this.getSubdirectoriesByPath(this.selectedMainDirectory)}onClickSubDirectory(e){if(null==this.selectedSubdirectory)this.selectedSubdirectory=e,this.selectedSubdirectory.ParentDirectory=this.selectedMainDirectory;else{let i=JSON.parse(JSON.stringify(this.selectedSubdirectory));this.selectedSubdirectory=e,this.selectedSubdirectory.ParentDirectory=i}this.getSubdirectoriesByPath(this.selectedSubdirectory)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Dv),t.Y36(As))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-directory-chooser"]],inputs:{mediaServer:"mediaServer"},decls:17,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[1,"sinovad-directory-chooser-content"],[1,"sinovad-main-directories-section"],["ngFor","",3,"ngForOf"],[1,"sinovad-subdirectories-section"],["class","sinovad-subdirectory-option",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"sinovad-main-directory-option",3,"ngClass","click"],[1,"sinovad-subdirectory-option",3,"click"],[1,"sinovad-subdirectory-option",3,"ngClass","click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2,"Seleccionar directorio"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return o.closeModal()}),t._UZ(4,"i",3),t.qZA()(),t.TgZ(5,"div",4)(6,"div",5)(7,"div",6),t.YNc(8,O0,2,4,"ng-template",7),t.qZA(),t.TgZ(9,"div",8),t.YNc(10,P0,2,0,"button",9),t.YNc(11,R0,2,4,"ng-template",7),t.qZA()()(),t.TgZ(12,"div",10)(13,"button",11),t.NdJ("click",function(){return o.closeModal()}),t._uU(14,"Close"),t.qZA(),t.TgZ(15,"button",12),t.NdJ("click",function(){return o.saveDirectory()}),t._uU(16,"Guardar"),t.qZA()()),2&i&&(t.xp6(8),t.Q6J("ngForOf",o.listMainDirectories),t.xp6(2),t.Q6J("ngIf",o.selectedSubdirectory),t.xp6(1),t.Q6J("ngForOf",o.listSubdirectoriesTmp))},dependencies:[g.mk,g.sg,g.O5],styles:["[_nghost-%COMP%]{background:rgba(17,17,17,.65);padding:20px}.modal-body[_ngcontent-%COMP%]{height:100%;display:flex}.sinovad-directory-chooser-container[_ngcontent-%COMP%]{display:block;background-color:#282828;color:#000;width:400px;height:500px;border:1px solid #dedede;border-radius:5px;padding:20px}.sinovad-main-directories-section[_ngcontent-%COMP%]{display:block;width:50%;padding-right:20px}.sinovad-subdirectories-section[_ngcontent-%COMP%]{display:block;width:50%;overflow-x:hidden;overflow-y:auto;padding-left:10px;height:100%}.sinovad-directory-chooser-content[_ngcontent-%COMP%]{display:flex;width:100%;background:black}.sinovad-main-directory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-main-directory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-subdirectory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-subdirectory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-directory-chooser-header[_ngcontent-%COMP%]{display:block;float:right;width:100%}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;background:transparent;border:0;outline:none;cursor:pointer;font-size:20px;color:#fff;opacity:.7}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-directory-selected[_ngcontent-%COMP%]{border-left:4px solid #007bff;padding-left:6px;background-color:#ffffff0d;opacity:1}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]{display:inline-block;width:100%}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   .sinovad-directory-chooser-footer-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;color:#fff;background:#F18307;border:none;border-radius:5px;font-weight:700;cursor:pointer}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]{display:inline-block;padding:10px 0;width:100%;height:50px}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border-radius:5px;width:100%;padding:6px 10px}"]})}return r})();var Yo=S(2032),ji=S(4170),L0=S(3680),kg=S(8525);function k0(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function Qs(r,n){if(1&r&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Name," ")}}function Iu(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Tipo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function HC(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Directorio es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function KC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveStorage())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,k0,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Tipo"),t.qZA(),t.TgZ(15,"mat-select",9)(16,"mat-option",10),t._uU(17,"--"),t.qZA(),t.YNc(18,Qs,2,2,"mat-option",11),t.qZA(),t.YNc(19,Iu,4,0,"mat-error",8),t.qZA(),t.TgZ(20,"mat-form-field")(21,"mat-label"),t._uU(22,"Directorio"),t.qZA(),t.TgZ(23,"input",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showChooserDirectoryModal())}),t.qZA(),t.YNc(24,HC,4,0,"mat-error",8),t.qZA()(),t.TgZ(25,"div",13)(26,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(27,"Close"),t.qZA(),t.TgZ(28,"button",15),t._uU(29,"Guardar"),t.qZA()()(),t._UZ(30,"app-custom-spinner",16)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.libraryFormGroup),t.xp6(3),t.Oqu(e.library.Id>0?"Editar Almacenamiento":"Nuevo Almacenamiento"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.name.hasError("required")),t.xp6(5),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.mediaTypes),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.mediaType.hasError("required")),t.xp6(4),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.physicalPath.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.libraryFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let OA=(()=>{class r{constructor(e,i,o,d,m){this.sharedService=e,this.libraryService=i,this.activeModal=o,this.formBuilder=d,this.modalService=m,this.showLoading=!1,this.matcher=new Tc,this.mediaTypes=[{Id:1,Name:"Movies"},{Id:2,Name:"Tv Series"}]}ngOnInit(){this.libraryFormGroup=this.formBuilder.group({name:new tn.NI(this.library.Name,[tn.kI.required]),mediaType:new tn.NI(this.library.MediaTypeCatalogDetailId,[tn.kI.required]),physicalPath:new tn.NI(this.library.PhysicalPath,[tn.kI.required])})}saveStorage(){if(this.libraryFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.library));e.Name=this.libraryFormGroup.value.name,e.MediaTypeCatalogDetailId=Number(this.libraryFormGroup.value.mediaType),e.MediaTypeCatalogId=vn.MediaType,e.PhysicalPath=this.libraryFormGroup.value.physicalPath,e.MediaServerId=this.mediaServer.Id,this.libraryService.saveItem(this.mediaServer.Url,e).then(i=>{this.showLoading=!1,this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.libraryFormGroup.markAllAsTouched()}showChooserDirectoryModal(){var e=this,i=this.modalService.open(N0,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.mediaServer=this.mediaServer,i.closed.subscribe(o=>{e.libraryFormGroup.controls.physicalPath.setValue(o)})}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(fi),t.Y36(xo),t.Y36(As),t.Y36(tn.qu),t.Y36(ba))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-library-form"]],inputs:{mediaServer:"mediaServer",library:"library"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","mediaType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","physicalPath","readonly","",2,"cursor","pointer",3,"errorStateMatcher","click"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,KC,31,11,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.library&&o.libraryFormGroup)},dependencies:[tn._Y,tn.Fj,tn.JJ,tn.JL,tn.sg,tn.u,pa,g.sg,g.O5,Yo.Nt,ji.KE,ji.hX,ji.TO,L0.ey,kg.gD],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();const PA=function(r){return{disabled:r}};let Fo=(()=>{class r{constructor(e,i){this.dialog=e,this.options=i}closeDialog(){this.dialog.close(!1)}confirmDialog(){this.dialog.close(!0)}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(br.so),t.Y36(br.WI))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-confirm-dialog"]],decls:24,vars:6,consts:[[1,"modal-container"],["role","document",1,"modal-dialog"],[1,"modal-backdrop"],[1,"modal-small"],[1,"modal-content"],[1,"modal-content-close-button",3,"click"],[1,"fa-solid","fa-xmark"],["mat-dialog-title","",1,"modal-header"],["mat-dialog-content","",1,"confirm-modal-body"],[1,"inner-modal-body"],[1,"confirm-modal-accord-label"],["type","checkbox",1,"confirm-message-accord-input"],["checkBox",""],["mat-dialog-actions","",1,"modal-footer"],[1,"modal-footer-button-bar"],[1,"confirm-modal-button","cancel",3,"click"],[1,"confirm-modal-button","confirm",3,"ngClass","click"],[1,"spinner-button-label"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),t.NdJ("click",function(){return o.closeDialog()}),t._UZ(6,"i",6),t.qZA(),t.TgZ(7,"div",7),t._uU(8),t.qZA(),t.TgZ(9,"div",8)(10,"div",9)(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"label",10),t._UZ(14,"input",11,12),t._uU(16),t.qZA()()(),t.TgZ(17,"div",13)(18,"div",14)(19,"button",15),t.NdJ("click",function(){return o.closeDialog()}),t._uU(20,"Cancelar"),t.qZA(),t.TgZ(21,"button",16),t.NdJ("click",function(){return o.confirmDialog()}),t.TgZ(22,"span",17),t._uU(23,"Eliminar"),t.qZA()()()()()()()()()),2&i){const d=t.MAs(15);t.xp6(8),t.hij(" ",o.options.title," "),t.xp6(4),t.Oqu(o.options.message),t.xp6(4),t.hij("",o.options.accordMessage," "),t.xp6(5),t.Q6J("ngClass",t.VKq(4,PA,!d.checked))}},dependencies:[g.mk,br.uh,br.xY,br.H8],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return r})(),Ql=(()=>{class r{constructor(e){this.elementRef=e,this.clickOutside=new t.vpe}ngOnInit(){}ngAfterViewInit(){}onClick(e,i){i&&(this.elementRef.nativeElement.contains(i)||this.clickOutside.emit(e))}onContextMenu(){console.log("contextmenu")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.SBq))};static#t=this.\u0275dir=t.lG2({type:r,selectors:[["","clickOutside",""]],hostBindings:function(i,o){1&i&&t.NdJ("click",function(m){return o.onClick(m,m.target)},!1,t.Jf7)("contextmenu",function(){return o.onContextMenu()})},outputs:{clickOutside:"clickOutside"}})}return r})();function WC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onSelectItem(d))}),t._UZ(1,"i"),t.TgZ(2,"span"),t._uU(3),t.qZA()()}if(2&r){const e=n.$implicit;t.xp6(1),t.Gre("",e.iconClass," me-2"),t.xp6(2),t.Oqu(e.title)}}function Fg(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t.NdJ("clickOutside",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickOutside())}),t.TgZ(2,"div",3),t.YNc(3,WC,4,4,"ng-template",4),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Udp("top",e.top+"px")("right",e.right+"px"),t.xp6(2),t.Q6J("ngForOf",e.options.listItems)}}let zC=(()=>{class r{constructor(e){this.ref=e,this.hide=new t.vpe,this.selectOption=new t.vpe,this.showMenu=!1}ngAfterViewInit(){setTimeout(()=>{this.showMenu=!0,this.ref.detectChanges()},100)}onClickOutside(){this.hide.emit(!0)}onSelectItem(e){this.selectOption.emit(e)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.sBO))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-menu"]],inputs:{options:"options",right:"right",top:"top"},outputs:{hide:"hide",selectOption:"selectOption"},decls:1,vars:1,consts:[["class","custom-actions-menu-container",4,"ngIf"],[1,"custom-actions-menu-container"],[1,"custom-actions-menu-content",3,"clickOutside"],[1,"custom-actions-menu-scroller"],["ngFor","",3,"ngForOf"],[1,"menu-item",3,"click"]],template:function(i,o){1&i&&t.YNc(0,Fg,4,5,"div",0),2&i&&t.Q6J("ngIf",o.showMenu)},dependencies:[g.sg,g.O5,Ql],styles:[".custom-actions-menu-container[_ngcontent-%COMP%]{position:absolute;inset:0 auto 0 0;margin:0;z-index:1014;width:100%;height:100%}.custom-actions-menu-content[_ngcontent-%COMP%]{background-color:#191a1c;border-radius:4px;box-shadow:0 4px 10px #00000059;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:8px 0;transform-origin:center top;transition:background .15s ease-out;position:absolute}.custom-actions-menu-scroller[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;padding-right:0;overflow-x:hidden}button.menu-item[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;word-wrap:break-word;display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:4px 20px;text-align:left;width:100%}button.menu-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}"]})}return r})(),$C=(()=>{class r{constructor(e,i,o){this.factoryResolver=e,this.injector=i,this.applicationRef=o}show(e){return new Promise((i,o)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const m=this.factoryResolver.resolveComponentFactory(zC).create(this.injector);this.lastViewRef=m.hostView,this.applicationRef.attachView(m.hostView);let v=this;const I=e.target.getBoundingClientRect();var j=window.innerWidth-I.right,ne=I.top+I.height;m.instance.options=e,m.instance.right=j,m.instance.top=ne,m.instance.selectOption.subscribe(tt=>{tt.eventOnSelectItem&&tt.eventOnSelectItem.emit(!0),m.destroy(),v.applicationRef.detachView(m.hostView),i(tt)}),m.instance.hide.subscribe(tt=>{m.destroy(),v.applicationRef.detachView(m.hostView),o(!0)});const pe=m.hostView.rootNodes[0];document.getElementById(e.containerId).appendChild(pe)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function qC(r,n){1&r&&t._UZ(0,"i",17)}function Bg(r,n){1&r&&t._UZ(0,"i",18)}const F0=function(r){return{selected:r}};function JC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"div",9),t.YNc(3,qC,1,0,"i",10),t.YNc(4,Bg,1,0,"i",11),t.qZA(),t.TgZ(5,"a"),t._uU(6),t.qZA(),t.TgZ(7,"div",12)(8,"div",13)(9,"button",14),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw(4);return t.KtG(v.showActions(o,m))}),t.TgZ(10,"span",15),t._UZ(11,"i",16),t.qZA()()()()()()}if(2&r){const e=n.$implicit,i=t.oxw(4);t.Q6J("ngClass",t.VKq(4,F0,i.currentLibrary&&i.currentLibrary.Id==e.Id)),t.xp6(3),t.Q6J("ngIf",1==e.MediaTypeCatalogDetailId),t.xp6(1),t.Q6J("ngIf",2==e.MediaTypeCatalogDetailId),t.xp6(2),t.Oqu(e.Name)}}function hm(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.TgZ(6,"button",5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.openNewLibrary())}),t._uU(7,"A\xf1adir biblioteca"),t.qZA(),t.TgZ(8,"button",5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.updateVideoInAllLibraries())}),t._uU(9,"Buscar archivos en biblioteca"),t.qZA()(),t.YNc(10,JC,12,6,"ng-template",6),t.qZA()}if(2&r){const e=t.oxw(3);t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - Bibliotecas"),t.xp6(3),t.hij("",e.listLibraries?e.listLibraries.length:""," bibliotecas"),t.xp6(5),t.Q6J("ngForOf",e.listLibraries)}}function Ug(r,n){if(1&r&&t.YNc(0,hm,11,3,"div",1),2&r){const e=t.oxw(2);t.Q6J("ngIf",e.mediaServer)}}function NA(r,n){if(1&r&&t._UZ(0,"app-server-connection-error",19),2&r){const e=t.oxw(2);t.Q6J("mediaServer",e.mediaServer)}}function B0(r,n){if(1&r&&(t.YNc(0,Ug,1,1,"ng-template",0),t.YNc(1,NA,1,1,"ng-template",0)),2&r){const e=t.oxw();t.Q6J("ngIf",e.mediaServer&&e.mediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.mediaServer&&!e.mediaServer.isSecureConnection)}}function QC(r,n){1&r&&(t.TgZ(0,"div",20),t._UZ(1,"mat-spinner"),t.qZA())}let jg=(()=>{class r{constructor(e,i,o,d,m,v,I,j,ne){this.signalIrService=e,this.customMenuService=i,this.modalService=o,this.libraryService=d,this.dialog=m,this.snackBarService=v,this.router=I,this.activeRoute=j,this.sharedService=ne,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(pe=>{this.mediaServer&&this.mediaServer.Guid==pe&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.getAllItems())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(pe=>{this.mediaServer&&this.mediaServer.Guid==pe&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){var e=this.activeRoute.snapshot.params.serverGuid,i=this.sharedService.mediaServers.find(o=>o.Guid==e);i?(this.mediaServer=JSON.parse(JSON.stringify(i)),i.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getAllItems(){this.libraryService.getLibrariesByMediaServer(this.mediaServer.Url).then(e=>{this.listLibraries=e},e=>{})}openNewLibrary(){let e=new Cv;e.MediaServerId=this.mediaServer.Id,this.showModalForm(e)}editLibrary(e){this.showModalForm(JSON.parse(JSON.stringify(e)))}showModalForm(e){var i=this,o=this.modalService.open(OA,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.library=e,o.componentInstance.mediaServer=this.mediaServer,o.closed.subscribe(d=>{i.getAllItems()})}deleteLibrary(e){var i=new br.vA;i.data={title:"Eliminar biblioteca",message:"La biblioteca '"+e.Name+"' ser\xe1 eliminada de este servidor. Tus archivos multimedia no se ver\xe1n afectados. Esto no se puede deshacer. \xbfContinuar?",accordMessage:"Si, eliminar la biblioteca '"+e.Name+"'"},this.dialog.open(Fo,i).afterClosed().subscribe(o=>{o&&this.executeDeleteLibrary(e)})}executeDeleteLibrary(e){this.libraryService.deleteItem(this.mediaServer.Url,e.Id).then(i=>{this.snackBarService.showSnackBar("Se elimin\xf3 la biblioteca satisfactoriamente",Ui.Success),this.getAllItems()},i=>{console.error(i),this.snackBarService.showSnackBar(i,Ui.Error)})}showActions(e,i){this.currentLibrary=i;var o=JSON.parse(JSON.stringify(i)),d=e.currentTarget,m=[],v=new t.vpe;v.subscribe(ne=>{this.editLibrary(o)}),m.push({title:"Editar biblioteca",iconClass:"fa-solid fa-pen-to-square",eventOnSelectItem:v});var I=new t.vpe;I.subscribe(ne=>{this.updateLibraryVideos(o)}),m.push({title:"Buscar archivos en la biblioteca",iconClass:"fa-solid fa-magnifying-glass-plus",eventOnSelectItem:I});var j=new t.vpe;j.subscribe(ne=>{this.deleteLibrary(o)}),m.push({title:"Eliminar biblioteca",iconClass:"fa-sharp fa-solid fa-trash",eventOnSelectItem:j}),this.customMenuService.show({containerId:"sinovadMainContainer",listItems:m,target:d}).then(ne=>{this.currentLibrary=void 0},ne=>{this.currentLibrary=void 0})}updateLibraryVideos(e){e.Id>0&&null!=e.PhysicalPath&&""!=e.PhysicalPath&&this.searchFilesInLibraries([e])}updateVideoInAllLibraries(){this.searchFilesInLibraries(this.listLibraries)}searchFilesInLibraries(e){this.libraryService.searchFiles(this.mediaServer.Url,e)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Rr),t.Y36($C),t.Y36(ba),t.Y36(xo),t.Y36(br.uw),t.Y36(Lo),t.Y36(Kn.F0),t.Y36(Kn.gz),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-library-list"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"manage-libraries-header"],[1,"manage-libraries-count"],[3,"click"],["ngFor","",3,"ngForOf"],[1,"manage-library-summary-row",3,"ngClass"],[1,"manage-library-summary-overlay"],[1,"manage-library-icon-container"],["class","fa-solid fa-film",4,"ngIf"],["class","fa-solid fa-tv",4,"ngIf"],[1,"manage-library-summary-actions"],[1,"manage-library-summary-header"],[1,"manage-library-summary-action",3,"click"],[1,"manage-library-summary-header-icon"],[1,"fa-solid","fa-ellipsis-vertical"],[1,"fa-solid","fa-film"],[1,"fa-solid","fa-tv"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.YNc(0,B0,2,2,"ng-template",0),t.YNc(1,QC,2,0,"ng-template",0)),2&i&&(t.Q6J("ngIf",!o.loadingConnection),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.mk,g.sg,g.O5,Nr.Ou,rs],styles:[".sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.manage-libraries-header[_ngcontent-%COMP%]{background-color:#00000026;color:#ffffff73;display:flex;justify-content:space-between;margin:20px 0;padding:13px 20px}.manage-libraries-header[_ngcontent-%COMP%]   .manage-libraries-count[_ngcontent-%COMP%]{flex-grow:1;font-size:13px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;color:#fafafa;display:inline-block;overflow:hidden;text-align:center;transition:background-color .2s,color .2s;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;background-color:#ffffff40;margin-left:10px;padding:0 10px;border:none;font-size:14px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff26}.manage-library-summary-row[_ngcontent-%COMP%]{color:#ffffffb3;min-height:44px;position:relative;cursor:pointer}.manage-library-summary-overlay[_ngcontent-%COMP%]{align-items:center;display:flex;pointer-events:none;height:100%;left:0;position:absolute;top:0;width:100%}.manage-library-icon-container[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;margin:0 20px;width:20px;font-size:13px}a[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-grow:1;overflow:hidden;pointer-events:all;color:#ffffffb3;font-size:13px}.manage-library-summary-actions[_ngcontent-%COMP%]{align-items:center;display:flex;flex:1;justify-content:flex-end;opacity:1}.manage-library-summary-row[_ngcontent-%COMP%]:hover, .manage-library-summary-row.selected[_ngcontent-%COMP%]{background-color:#ffffff0f;color:#fff}.manage-library-summary-header[_ngcontent-%COMP%]{display:flex}button.manage-library-summary-action[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-shrink:0;overflow:hidden;padding:0 15px;pointer-events:all;white-space:nowrap}.manage-library-summary-header-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;width:20px}button.manage-library-summary-action[_ngcontent-%COMP%]:hover{color:#fff}.sinovad-searh-media-log-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-searh-media-log-content[_ngcontent-%COMP%]{width:80%;height:80%;background:black;border:1px solid #dedede;border-radius:6px;color:#fff;padding:10px}.sinovad-searh-media-log-second-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:26px}.sinovad-searh-media-log-html[_ngcontent-%COMP%]{color:#fff;font-size:16px;overflow-y:auto;overflow-x:hidden;width:100%;height:100%}.sinovad-library-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}.sinovad-library-principal-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-left:10px;margin-bottom:2px;font-size:30px}.sinovad-library-container[_ngcontent-%COMP%]{display:block}.sinovad-library-section[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-library-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:0;font-size:20px}.sinovad-library-section[_ngcontent-%COMP%]   .sinovad-library-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-library-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;border-radius:5px;outline:none;cursor:pointer}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px;cursor:pointer}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}"]})}return r})();class wu{}let U0=(()=>{class r{constructor(e){this.restProvider=e}getDetailsByCatalogId(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.GET,"/catalogs/GetDetailsByCatalogAsync/"+e).then(d=>{i(d)},d=>{o(d)})})}getAllCatalogDetailsByCatalogIds(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.GET,"/catalogs/GetAllCatalogDetailsByCatalogIds?catalogIds="+e).then(d=>{i(d)},d=>{o(d)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Oi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),j0=(()=>{class r{constructor(e){this.restProvider=e}getByMediaServer(e){return new Promise((i,o)=>{this.restProvider.executeHttpMediaServerApi(et.GET,e+"/api/transcoderSettings/GetAsync").then(m=>{i(m.Data)},m=>{console.error(m),o(m)})})}saveItem(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(et.PUT,e+"/api/transcoderSettings/Save",i).then(v=>{o(!0)},v=>{console.error(v),d(v)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Oi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Vg(r,n){if(1&r&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("ngValue",e.Id),t.xp6(1),t.Oqu(e.Name)}}function LA(r,n){if(1&r&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("ngValue",e.Id),t.xp6(1),t.Oqu(e.Name)}}function XC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"form",7),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.saveTranscoder())}),t.TgZ(9,"div",6)(10,"label",8),t._uU(11,"M\xe9todo de transmisi\xf3n"),t.qZA(),t.TgZ(12,"select",9),t.YNc(13,Vg,2,2,"ng-template",10),t.qZA(),t.TgZ(14,"p",11),t._uU(15,"M\xe9todo de transmisi\xf3n para transcodificar los videos"),t.qZA()(),t.TgZ(16,"div",6)(17,"label",8),t._uU(18,"Carpeta temporal para el transcodificador"),t.qZA(),t.TgZ(19,"input",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.showChooserDirectoryModal())}),t.qZA(),t.TgZ(20,"p",11),t._uU(21,"Carpeta que utilizar\xe1 el codificador para los archivos temporales."),t.qZA()(),t.TgZ(22,"div",6)(23,"label",8),t._uU(24,"Preset de conversi\xf3n x264 en segundo plano"),t.qZA(),t.TgZ(25,"select",13),t.YNc(26,LA,2,2,"ng-template",10),t.qZA(),t.TgZ(27,"p",11),t._uU(28,"El valor de preset de x264 usado para conversi\xf3n en segundo plano (Sincronizaci\xf3n y Optimizador de Contenido). Valores m\xe1s lentos dar\xe1n lugar a mejor calidad de v\xeddeo y archivos m\xe1s peque\xf1os, pero llevar\xe1 mucho m\xe1s tiempo completar el proceso."),t.qZA()(),t.TgZ(29,"div",6)(30,"label",8),t._uU(31,"Factor de Tasa Constante"),t.qZA(),t._UZ(32,"input",14),t.TgZ(33,"p",11),t._uU(34,"El factor de tasa constante (CRF) es la configuraci\xf3n predeterminada de calidad (y control de velocidad) para los codificadores x264 y x265 , y tambi\xe9n est\xe1 disponible para libvpx . Con x264 y x265, puede establecer los valores entre 0 y 51, donde los valores m\xe1s bajos dar\xedan como resultado una mejor calidad, a expensas de tama\xf1os de archivo m\xe1s altos. Los valores m\xe1s altos significan m\xe1s compresi\xf3n, pero en alg\xfan momento notar\xe1 la degradaci\xf3n de la calidad. Para x264, los valores razonables est\xe1n entre 18 y 28. El valor predeterminado es 23, por lo que puede usarlo como punto de partida."),t.qZA()(),t.TgZ(35,"div",15)(36,"button",16)(37,"span",17),t._uU(38,"Guardar cambios"),t.qZA()(),t._UZ(39,"span",18),t.qZA()()()()()()()()}if(2&r){const e=t.oxw(3);t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - Transcodificador"),t.xp6(6),t.Q6J("formGroup",e.customForm),t.xp6(5),t.Q6J("ngForOf",e.transmissionMethodList),t.xp6(13),t.Q6J("ngForOf",e.presetList),t.xp6(10),t.Q6J("disabled",e.loading||e.customForm.pristine||e.customForm.invalid)}}function kA(r,n){if(1&r&&t.YNc(0,XC,40,5,"div",1),2&r){const e=t.oxw(2);t.Q6J("ngIf",e.customForm)}}function eD(r,n){if(1&r&&t._UZ(0,"app-server-connection-error",20),2&r){const e=t.oxw(2);t.Q6J("mediaServer",e.mediaServer)}}function tD(r,n){if(1&r&&(t.YNc(0,kA,1,1,"ng-template",0),t.YNc(1,eD,1,1,"ng-template",0)),2&r){const e=t.oxw();t.Q6J("ngIf",e.mediaServer&&e.mediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.mediaServer&&!e.mediaServer.isSecureConnection)}}function nD(r,n){1&r&&(t.TgZ(0,"div",21),t._UZ(1,"mat-spinner"),t.qZA())}let Gg=(()=>{class r{constructor(e,i,o,d,m,v,I,j,ne){this.catalogService=e,this.signalIrService=i,this.transcoderSettingsService=o,this.modalService=d,this.snackBarService=m,this.formBuilder=v,this.router=I,this.activeRoute=j,this.sharedService=ne,this.transmissionMethodList=[],this.presetList=[],this.loading=!1,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(pe=>{this.mediaServer&&this.mediaServer.Guid==pe&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0,this.getTranscoderSettingss())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(pe=>{this.mediaServer&&this.mediaServer.Guid==pe&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){this.getCatalogDetails();var e=this.activeRoute.snapshot.params.serverGuid,i=this.sharedService.mediaServers.find(o=>o.Guid==e);i?(this.mediaServer=JSON.parse(JSON.stringify(i)),i.isSecureConnection?(this.loadingConnection=!1,this.getTranscoderSettingss()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getCatalogDetails(){this.catalogService.getAllCatalogDetailsByCatalogIds(vn.TranscoderPreset+","+vn.VideoTransmissionType).then(i=>{let o=i.Data;this.transmissionMethodList=o.filter(d=>d.CatalogId==vn.VideoTransmissionType),this.presetList=o.filter(d=>d.CatalogId==vn.TranscoderPreset)},i=>{console.error(i)})}getTranscoderSettingss(){this.transcoderSettingsService.getByMediaServer(this.mediaServer.Url).then(e=>{if(this.currentTranscoderSettingss=e,null==this.currentTranscoderSettingss){var i=new wu;i.TemporaryFolder="",i.ConstantRateFactor=18,i.MediaServerId=this.mediaServer.Id,this.currentTranscoderSettingss=i}this.customForm=this.formBuilder.group({temporaryFolder:new tn.NI(this.currentTranscoderSettingss.TemporaryFolder),preset:new tn.NI(this.currentTranscoderSettingss.PresetCatalogDetailId),transmissionMethod:new tn.NI(this.currentTranscoderSettingss.VideoTransmissionTypeCatalogDetailId),constantRateFactor:new tn.NI(this.currentTranscoderSettingss.ConstantRateFactor)})},e=>{console.error(e)})}saveTranscoder(){this.loading=!0;var e=JSON.parse(JSON.stringify(this.currentTranscoderSettingss));e.TemporaryFolder=this.customForm.value.temporaryFolder,e.ConstantRateFactor=this.customForm.value.constantRateFactor,e.VideoTransmissionTypeCatalogDetailId=this.customForm.value.transmissionMethod,e.PresetCatalogDetailId=this.customForm.value.preset,this.transcoderSettingsService.saveItem(this.mediaServer.Url,e).then(i=>{this.loading=!1,this.getTranscoderSettingss(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",Ui.Success)},i=>{this.loading=!1,this.snackBarService.showSnackBar(i,Ui.Error),console.error(i)})}showChooserDirectoryModal(){var e=this,i=this.modalService.open(N0,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.mediaServer=this.mediaServer,i.closed.subscribe(o=>{e.customForm.controls.temporaryFolder.setValue(o),e.customForm.controls.temporaryFolder.markAsDirty()})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(U0),t.Y36(Rr),t.Y36(j0),t.Y36(ba),t.Y36(Lo),t.Y36(tn.qu),t.Y36(Kn.F0),t.Y36(Kn.gz),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-transcode-settings"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["name","transmissionMethods","formControlName","transmissionMethod",1,"form-control"],["ngFor","",3,"ngForOf"],[1,"help-block"],["readonly","","type","text","formControlName","temporaryFolder",1,"form-control",2,"cursor","pointer",3,"click"],["name","transmissionMethods","formControlName","preset",1,"form-control"],["type","text","formControlName","constantRateFactor",1,"form-control"],[1,"form-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn-label"],[1,"form-message"],[1,"form-option",3,"ngValue"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.YNc(0,tD,2,2,"ng-template",0),t.YNc(1,nD,2,0,"ng-template",0)),2&i&&(t.Q6J("ngIf",!o.loadingConnection),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.sg,g.O5,tn._Y,tn.YN,tn.Kr,tn.Fj,tn.EJ,tn.JJ,tn.JL,Nr.Ou,rs,tn.sg,tn.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .form-option[_ngcontent-%COMP%]{background-color:#131313;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]{border-radius:3px;font-size:16px;line-height:1.33;padding:10px 18px;flex-shrink:0;text-transform:capitalize;border:0;overflow:hidden;position:relative;cursor:pointer;display:inline-block;font-weight:400;margin-bottom:0;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;color:#fff;background-color:#007bff;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   button.save.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}.sinovad-manage-media-container[_ngcontent-%COMP%]{display:block}.sinovad-manage-media-section[_ngcontent-%COMP%]{display:block;padding:10px}label[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}.sinovad-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-manage-media-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}']})}return r})(),Hf=(()=>{class r{constructor(e){this.restProvider=e}setPassword(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.POST,"/users/SetPassword",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}changePassword(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.POST,"/users/ChangePassword",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}changeUsername(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.POST,"/users/ChangeUserName",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}changeNanes(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.POST,"/users/ChangeNames",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Oi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function iD(r,n){if(1&r&&(t.TgZ(0,"div",13),t._UZ(1,"i",14),t._uU(2),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.hij("",e.serverErrorMessage," ")}}function V0(r,n){1&r&&t._UZ(0,"div",15)}const mm=function(r){return{error:r}};let rD=(()=>{class r{constructor(e,i,o){this.accountSettingsService=e,this.formBuilder=i,this.sharedService=o,this.serverErrorMessage=void 0,this.closeChangePassword=new t.vpe,this.changePasswordForm=this.formBuilder.group({password:new tn.NI("",[tn.kI.required]),confirmPassword:new tn.NI("",[tn.kI.required]),currentPassword:new tn.NI("",[tn.kI.required])}),this.loading=!1}ngOnInit(){}changePasword(){this.changePasswordForm.valid?(this.changePasswordData={UserId:this.sharedService.userData.Id,Password:this.changePasswordForm.value.password,ConfirmPassword:this.changePasswordForm.value.confirmPassword,CurrentPassword:this.changePasswordForm.value.currentPassword},this.loading=!0,this.accountSettingsService.changePassword(this.changePasswordData).then(e=>{this.loading=!1,this.closeChangePassword.emit(!0)},e=>{this.loading=!1,this.serverErrorMessage=e,console.error(e)})):(this.serverErrorMessage=void 0,this.changePasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Hf),t.Y36(tn.qu),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-change-password"]],outputs:{closeChangePassword:"closeChangePassword"},decls:24,vars:18,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],["type","password","formControlName","currentPassword"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,iD,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.closeChangePassword.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.changePasword()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",6)(16,"label"),t._uU(17),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"div",10)(20,"button",11)(21,"span"),t._uU(22,"Guardar Cambios"),t.qZA(),t.YNc(23,V0,1,0,"div",12),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",o.changePasswordForm),t.xp6(1),t.Q6J("ngClass",t.VKq(12,mm,o.sharedService.isInvalidFormControl(o.changePasswordForm,"password"))),t.xp6(2),t.hij(" Contrase\xf1a",o.sharedService.isInvalidFormControl(o.changePasswordForm,"password")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(14,mm,o.sharedService.isInvalidFormControl(o.changePasswordForm,"confirmPassword"))),t.xp6(2),t.hij("Confirme la nueva contrase\xf1a",o.sharedService.isInvalidFormControl(o.changePasswordForm,"confirmPassword")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),t.xp6(2),t.Q6J("ngClass",t.VKq(16,mm,o.sharedService.isInvalidFormControl(o.changePasswordForm,"currentPassword"))),t.xp6(2),t.hij("Contrase\xf1a actual",o.sharedService.isInvalidFormControl(o.changePasswordForm,"currentPassword")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"currentPassword")?" - Introduza la contrase\xf1a actual":"",""),t.xp6(3),t.Q6J("disabled",o.loading||!o.changePasswordForm.valid),t.xp6(1),t.Udp("visibility",o.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[g.mk,g.O5,tn._Y,tn.Fj,tn.JJ,tn.JL,tn.sg,tn.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function oD(r,n){if(1&r&&(t.TgZ(0,"div",12),t._UZ(1,"i",13),t._uU(2),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.hij("",e.serverErrorMessage," ")}}function G0(r,n){1&r&&t._UZ(0,"div",14)}const H0=function(r){return{error:r}};let K0=(()=>{class r{constructor(e,i,o){this.accountSettingsService=e,this.formBuilder=i,this.sharedService=o,this.serverErrorMessage=void 0,this.closeSetPassword=new t.vpe,this.setPasswordForm=this.formBuilder.group({password:new tn.NI("",[tn.kI.required]),confirmPassword:new tn.NI("",[tn.kI.required])}),this.loading=!1}ngOnInit(){}setPassword(){this.setPasswordForm.valid?(this.setPasswordData={UserId:this.sharedService.userData.Id,Password:this.setPasswordForm.value.password,ConfirmPassword:this.setPasswordForm.value.confirmPassword},this.loading=!0,this.accountSettingsService.setPassword(this.setPasswordData).then(e=>{this.loading=!1,this.sharedService.userData.IsPasswordSetted=!0,this.closeSetPassword.emit(!0)},e=>{this.loading=!1,this.serverErrorMessage=e,console.error(e)})):(this.serverErrorMessage=void 0,this.setPasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Hf),t.Y36(tn.qu),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-set-password"]],outputs:{closeSetPassword:"closeSetPassword"},decls:20,vars:14,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,oD,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.closeSetPassword.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.setPassword()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",9)(16,"button",10)(17,"span"),t._uU(18,"Guardar Cambios"),t.qZA(),t.YNc(19,G0,1,0,"div",11),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",o.setPasswordForm),t.xp6(1),t.Q6J("ngClass",t.VKq(10,H0,o.sharedService.isInvalidFormControl(o.setPasswordForm,"password"))),t.xp6(2),t.hij(" Elegir una Contrase\xf1a",o.sharedService.isInvalidFormControl(o.setPasswordForm,"password")&&o.sharedService.hasRequireErrorFormControl(o.setPasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(12,H0,o.sharedService.isInvalidFormControl(o.setPasswordForm,"confirmPassword"))),t.xp6(2),t.hij("Confirmar la contrase\xf1a",o.sharedService.isInvalidFormControl(o.setPasswordForm,"confirmPassword")&&o.sharedService.hasRequireErrorFormControl(o.setPasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),t.xp6(3),t.Q6J("disabled",o.loading||!o.setPasswordForm.valid),t.xp6(1),t.Udp("visibility",o.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[g.mk,g.O5,tn._Y,tn.Fj,tn.JJ,tn.JL,tn.sg,tn.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function Y0(r,n){if(1&r&&(t.TgZ(0,"div",11),t._UZ(1,"i",12),t._uU(2),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.hij("",e.serverErrorMessage," ")}}function W0(r,n){1&r&&t._UZ(0,"div",13)}const z0=function(r){return{error:r}};let sD=(()=>{class r{constructor(e,i,o){this.accountSettingsService=e,this.formBuilder=i,this.sharedService=o,this.serverErrorMessage=void 0,this.closeChangeUsername=new t.vpe,this.changeUsernameForm=this.formBuilder.group({username:new tn.NI(this.sharedService.userData.UserName,[tn.kI.required])}),this.loading=!1}ngOnInit(){}changeUsername(){this.changeUsernameForm.valid?(this.changeUsernameData={UserId:this.sharedService.userData.Id,UserName:this.changeUsernameForm.value.username},this.loading=!0,this.accountSettingsService.changeUsername(this.changeUsernameData).then(e=>{this.loading=!1,this.sharedService.userData.UserName=this.changeUsernameData.UserName,this.closeChangeUsername.emit(!0)},e=>{this.loading=!1,this.serverErrorMessage=e,console.error(e)})):(this.serverErrorMessage=void 0,this.changeUsernameForm.markAllAsTouched())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Hf),t.Y36(tn.qu),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-change-username"]],outputs:{closeChangeUsername:"closeChangeUsername"},decls:16,vars:10,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["formControlName","username"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,Y0,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.closeChangeUsername.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.changeUsername()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",8)(12,"button",9)(13,"span"),t._uU(14,"Guardar Cambios"),t.qZA(),t.YNc(15,W0,1,0,"div",10),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",o.changeUsernameForm),t.xp6(1),t.Q6J("ngClass",t.VKq(8,z0,o.sharedService.isInvalidFormControl(o.changeUsernameForm,"username"))),t.xp6(2),t.hij(" Nombre de Usuario",o.sharedService.isInvalidFormControl(o.changeUsernameForm,"username")&&o.sharedService.hasRequireErrorFormControl(o.changeUsernameForm,"username")?" - Se requiere nombre de usuario":""," "),t.xp6(3),t.Q6J("disabled",o.loading||o.changeUsernameForm.pristine||!o.changeUsernameForm.valid||o.changeUsernameForm.value.username==o.sharedService.userData.UserName),t.xp6(1),t.Udp("visibility",o.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[g.mk,g.O5,tn._Y,tn.Fj,tn.JJ,tn.JL,tn.sg,tn.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function aD(r,n){if(1&r&&(t.TgZ(0,"div",12),t._UZ(1,"i",13),t._uU(2),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.hij("",e.serverErrorMessage," ")}}function FA(r,n){1&r&&t._UZ(0,"div",14)}const Hg=function(r){return{error:r}};let BA=(()=>{class r{constructor(e,i,o){this.accountSettingsService=e,this.formBuilder=i,this.sharedService=o,this.serverErrorMessage=void 0,this.closeChangeNames=new t.vpe,this.changeNamesForm=this.formBuilder.group({firstName:new tn.NI(this.sharedService.userData.FirstName,[tn.kI.required]),lastName:new tn.NI(this.sharedService.userData.LastName,[tn.kI.required])}),this.loading=!1}ngOnInit(){}changeUsername(){this.changeNamesForm.valid?(this.changeNamesData={UserId:this.sharedService.userData.Id,FirstName:this.changeNamesForm.value.firstName,LastName:this.changeNamesForm.value.lastName},this.loading=!0,this.accountSettingsService.changeNanes(this.changeNamesData).then(e=>{this.loading=!1,this.sharedService.userData.FirstName=this.changeNamesData.FirstName,this.sharedService.userData.LastName=this.changeNamesData.LastName,this.closeChangeNames.emit(!0)},e=>{this.loading=!1,this.serverErrorMessage=e,console.error(e)})):(this.serverErrorMessage=void 0,this.changeNamesForm.markAllAsTouched())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Hf),t.Y36(tn.qu),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-change-names"]],outputs:{closeChangeNames:"closeChangeNames"},decls:20,vars:14,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["formControlName","firstName"],["formControlName","lastName"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,aD,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.closeChangeNames.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.changeUsername()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",9)(16,"button",10)(17,"span"),t._uU(18,"Guardar Cambios"),t.qZA(),t.YNc(19,FA,1,0,"div",11),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",o.changeNamesForm),t.xp6(1),t.Q6J("ngClass",t.VKq(10,Hg,o.sharedService.isInvalidFormControl(o.changeNamesForm,"firstName"))),t.xp6(2),t.hij(" Nombres",o.sharedService.isInvalidFormControl(o.changeNamesForm,"firstName")&&o.sharedService.hasRequireErrorFormControl(o.changeNamesForm,"firstName")?" - Se requiere nombres":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(12,Hg,o.sharedService.isInvalidFormControl(o.changeNamesForm,"lastName"))),t.xp6(2),t.hij(" Apellidos",o.sharedService.isInvalidFormControl(o.changeNamesForm,"lastName")&&o.sharedService.hasRequireErrorFormControl(o.changeNamesForm,"lastName")?" - Se requiere apellidos":""," "),t.xp6(3),t.Q6J("disabled",o.loading||o.changeNamesForm.pristine||!o.changeNamesForm.valid),t.xp6(1),t.Udp("visibility",o.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[g.mk,g.O5,tn._Y,tn.Fj,tn.JJ,tn.JL,tn.sg,tn.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function UA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangeUsernameSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Nombre de Usuario"),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(9),t.Oqu(e.sharedService.userData.UserName)}}function jA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-change-username",16),t.NdJ("closeChangeUsername",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangeUsernameSection=!0)}),t.qZA()}}function VA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangeNamesSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Nombres y apellidos"),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(9),t.AsE("",e.sharedService.userData.FirstName," ",e.sharedService.userData.LastName,"")}}function GA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-change-names",17),t.NdJ("closeChangeNames",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangeNamesSection=!0)}),t.qZA()}}function HA(r,n){1&r&&(t.TgZ(0,"span"),t._uU(1,"*********"),t.qZA())}function KA(r,n){1&r&&(t.TgZ(0,"span"),t._uU(1,"No establecida"),t.qZA())}function YA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangePasswordSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Contrase\xf1a"),t.qZA(),t.YNc(8,HA,2,0,"span",18),t.YNc(9,KA,2,0,"span",18),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(8),t.Q6J("ngIf",e.sharedService.userData.IsPasswordSetted),t.xp6(1),t.Q6J("ngIf",!e.sharedService.userData.IsPasswordSetted)}}function WA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-change-password",19),t.NdJ("closeChangePassword",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangePasswordSection=!0)}),t.qZA()}}function Z0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-set-password",20),t.NdJ("closeSetPassword",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangePasswordSection=!0)}),t.qZA()}}function Kg(r,n){1&r&&(t.TgZ(0,"span"),t._uU(1,"No establecida"),t.qZA())}function $0(r,n){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.currentUserLinkedAccountsText)}}let q0=(()=>{class r{constructor(e,i){this.catalogService=e,this.sharedService=i,this.isCollapsedLinkedAccountsSection=!0,this.isCollapsedChangeNamesSection=!0,this.isCollapsedChangeUsernameSection=!0,this.isCollapsedChangePasswordSection=!0,this.allLinkedAccountProviders=[],this.currentUserLinkedAccountIds=[]}ngOnInit(){this.currentUserLinkedAccountIds=this.sharedService.linkedAccounts.map(e=>e.LinkedAccountProviderCatalogDetailId),this.catalogService.getDetailsByCatalogId(vn.LinkedAccountProvider).then(e=>{this.allLinkedAccountProviders=e.Data,this.currentUserLinkedAccountsText=this.allLinkedAccountProviders.filter(i=>-1!=this.currentUserLinkedAccountIds.indexOf(i.Id)).map(i=>i.Name).join(",")},e=>{})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(U0),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-my-account"]],decls:37,vars:10,consts:[[1,"sinovad-page-container"],[1,"sinovad-page-title"],[1,"settings-category-header-background"],[2,"width","100%"],["class","sinovad-page-section-container","role","button",3,"click",4,"ngIf"],[3,"closeChangeUsername",4,"ngIf"],[3,"closeChangeNames",4,"ngIf"],[1,"sinovad-page-section-container"],[1,"sinovad-page-section-content"],[1,"detail"],[3,"closeChangePassword",4,"ngIf"],[3,"closeSetPassword",4,"ngIf"],[3,"ngIf"],["role","button",1,"sinovad-page-section-container",3,"click"],[1,"button-container"],[1,"edit"],[3,"closeChangeUsername"],[3,"closeChangeNames"],[4,"ngIf"],[3,"closeChangePassword"],[3,"closeSetPassword"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"Cuenta"),t.qZA()(),t.TgZ(4,"div",2)(5,"div",3)(6,"h2"),t._uU(7,"Informaci\xf3n personal"),t.qZA()()(),t.YNc(8,UA,10,1,"div",4),t.YNc(9,jA,1,0,"app-change-username",5),t.YNc(10,VA,10,2,"div",4),t.YNc(11,GA,1,0,"app-change-names",6),t.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"label"),t._uU(16,"Correo electr\xf3nico"),t.qZA(),t.TgZ(17,"span"),t._uU(18),t.qZA()()()(),t.TgZ(19,"div",2)(20,"div",3)(21,"h2"),t._uU(22,"Seguridad"),t.qZA()()(),t.YNc(23,YA,10,2,"div",4),t.YNc(24,WA,1,0,"app-change-password",10),t.YNc(25,Z0,1,0,"app-set-password",11),t.TgZ(26,"div",2)(27,"div",3)(28,"h2"),t._uU(29,"Ajustes"),t.qZA()()(),t.TgZ(30,"div",7)(31,"div",8)(32,"div",9)(33,"label"),t._uU(34,"Cuentas vinculadas"),t.qZA(),t.YNc(35,Kg,2,0,"ng-template",12),t.YNc(36,$0,2,1,"ng-template",12),t.qZA()()()()),2&i&&(t.xp6(8),t.Q6J("ngIf",o.isCollapsedChangeUsernameSection),t.xp6(1),t.Q6J("ngIf",!o.isCollapsedChangeUsernameSection),t.xp6(1),t.Q6J("ngIf",o.isCollapsedChangeNamesSection),t.xp6(1),t.Q6J("ngIf",!o.isCollapsedChangeNamesSection),t.xp6(7),t.Oqu(o.sharedService.userData.Email),t.xp6(5),t.Q6J("ngIf",o.isCollapsedChangePasswordSection),t.xp6(1),t.Q6J("ngIf",!o.isCollapsedChangePasswordSection&&o.sharedService.userData.IsPasswordSetted),t.xp6(1),t.Q6J("ngIf",!o.isCollapsedChangePasswordSection&&!o.sharedService.userData.IsPasswordSetted),t.xp6(10),t.Q6J("ngIf",0==o.sharedService.linkedAccounts.length),t.xp6(1),t.Q6J("ngIf",o.sharedService.linkedAccounts.length>0))},dependencies:[g.O5,rD,K0,sD,BA],styles:[".settings-category-header-background[_ngcontent-%COMP%]{background-color:#0000001a;border-radius:.25rem;margin:.5rem 0;padding:.75rem}.settings-category-header-background[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;max-width:100%;overflow:hidden;overflow-wrap:break-word;font-size:20px}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px;margin-top:40px;font-size:24px}",'.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();var Hr=S(3566);class lD{}var xc=S(5986);function zA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"p")(1,"mat-checkbox",10),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw(2);return t.KtG(v.onChangeCheckValue(o,m))}),t._uU(2),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("checked",i.selection.isSelected(e)),t.xp6(1),t.Oqu(e.Name)}}function cD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t.YNc(6,zA,3,2,"ng-template",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA(),t.TgZ(10,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSaveSelection())}),t._uU(11,"Guardar"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.Oqu("G\xe9neros"),t.xp6(4),t.Q6J("ngForOf",e.listAllGenres)}}let Yg=(()=>{class r{constructor(e){this.activeModal=e}closeModal(){this.activeModal.dismiss()}onSaveSelection(){this.activeModal.close(this.selection.selected)}onChangeCheckValue(e,i){e.target.checked?this.selection.select(i):this.selection.deselect(i)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(As))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genres-selection-modal"]],inputs:{listAllGenres:"listAllGenres",selection:"selection"},decls:2,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["ngFor","",3,"ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"checked","click"]],template:function(i,o){1&i&&(t.YNc(0,cD,12,2,"ng-template",0),t._uU(1," <\n")),2&i&&t.Q6J("ngIf",null!=o.listAllGenres)},dependencies:[g.sg,g.O5,xc.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}"]})}return r})(),pm=(()=>{class r{constructor(e){this.restProvider=e}getAllGenres(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(et.GET,"/genres/GetAllAsync").then(o=>{e(o)},o=>{console.error(o),i(o)})})}getItems(e,i,o,d,m,v){return new Promise((I,j)=>{let ne=Nt();this.lastCallGuid=ne;var pe="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+v;this.restProvider.executeSinovadApiService(et.GET,"/genres/GetAllWithPaginationAsync"+pe).then(tt=>{this.lastCallGuid==ne&&I(tt)},tt=>{console.error(tt),j(tt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?et.PUT:et.POST,e.Id>0?"/genres/Update":"/genres/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.DELETE,"/genres/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(et.DELETE,"/genres/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Oi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),J0=(()=>{class r{constructor(e){this.restProvider=e}getMovie(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.GET,"/movies/GetAsync/"+e).then(d=>{i(d)},d=>{console.error(d),o(d)})})}getItems(e,i,o,d,m,v){return new Promise((I,j)=>{let ne=Nt();this.lastCallGuid=ne;var pe="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+v;this.restProvider.executeSinovadApiService(et.GET,"/movies/GetAllWithPaginationAsync"+pe).then(tt=>{this.lastCallGuid==ne&&I(tt)},tt=>{console.error(tt),j(tt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?et.PUT:et.POST,e.Id>0?"/movies/Update":"/movies/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.DELETE,"/movies/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(et.DELETE,"/movies/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Oi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Ou=S(8034);function ZA(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xedtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function dD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xedtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,ZA,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Fecha de Lanzamiento"),t.qZA(),t._UZ(15,"input",9),t.TgZ(16,"mat-hint"),t._uU(17,"MM/DD/YYYY"),t.qZA(),t._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),t.qZA(),t.TgZ(21,"mat-form-field")(22,"mat-label"),t._uU(23,"G\xe9neros"),t.qZA(),t.TgZ(24,"textarea",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showGenresSelectionModal())}),t.qZA()(),t.TgZ(25,"mat-form-field")(26,"mat-label"),t._uU(27,"Directores"),t.qZA(),t._UZ(28,"textarea",13),t.qZA(),t.TgZ(29,"mat-form-field")(30,"mat-label"),t._uU(31,"Actores"),t.qZA(),t._UZ(32,"textarea",14),t.qZA(),t.TgZ(33,"mat-form-field")(34,"mat-label"),t._uU(35,"Resumen"),t.qZA(),t._UZ(36,"textarea",15),t.qZA(),t.TgZ(37,"mat-form-field")(38,"mat-label"),t._uU(39,"Im\xe1gen"),t.qZA(),t._UZ(40,"textarea",16),t.qZA()(),t.TgZ(41,"div",17)(42,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(43,"Close"),t.qZA(),t.TgZ(44,"button",19),t._uU(45,"Guardar"),t.qZA()()(),t._UZ(46,"app-custom-spinner",20)}if(2&r){const e=t.MAs(20),i=t.oxw();t.Q6J("formGroup",i.movieFormGroup),t.xp6(3),t.Oqu(i.movie.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",i.matcher),t.xp6(1),t.Q6J("ngIf",i.movieFormGroup.controls.title.hasError("required")),t.xp6(4),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("readonly",!0),t.xp6(20),t.Q6J("disabled",i.showLoading||!i.movieFormGroup.valid),t.xp6(2),t.Q6J("showLoading",i.showLoading)}}let Q0=(()=>{class r{constructor(e,i,o,d,m,v,I){this.sharedService=e,this.modalService=i,this.genreService=o,this.formBuilder=d,this.activeModal=m,this.snackbarService=v,this.movieService=I,this.showLoading=!1,this.matcher=new Tc}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(e=>{this.listGenres=e.Data}),this.movie.Id>0?this.getMovie():this.movie.ListItemGenres=[]}buildFormGroup(){this.movieFormGroup=this.formBuilder.group({title:new tn.NI(this.movie.Title,[tn.kI.required]),releaseDate:new tn.NI(this.sharedService.formatDate(this.movie.ReleaseDate)),directors:new tn.NI(this.movie.Directors),actors:new tn.NI(this.movie.Actors),overview:new tn.NI(this.movie.Overview),posterPath:new tn.NI(this.movie.PosterPath),selectedGenres:new tn.NI("")})}getMovie(){this.movieService.getMovie(this.movie.Id).then(e=>{this.movie=e.Data,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.movieFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.movie));e.Title=this.movieFormGroup.value.title,e.ReleaseDate=this.movieFormGroup.value.releaseDate,e.Directors=this.movieFormGroup.value.directors,e.Actors=this.movieFormGroup.value.actors,e.Overview=this.movieFormGroup.value.overview,this.movieService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el movie satisfactoriamente",Ui.Success),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.movieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){if(this.movie.ListItemGenres&&this.movie.ListItemGenres.length>0){var e=this.movie.ListItemGenres.map(i=>i.GenreName);return e.join(", ")}return""}showGenresSelectionModal(){var e=this,i=this.modalService.open(Yg,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.listAllGenres=this.listGenres,i.componentInstance.selection=new Ch.Ov(!0,this.getMovieGenres()),i.closed.subscribe(o=>{e.setMovieGenres(o)})}getMovieGenres(){var e=this.movie.ListItemGenres.map(i=>i.GenreId);return this.listGenres.filter(i=>-1!=e.indexOf(i.Id))}setMovieGenres(e){var i=[];e.forEach(o=>{i.push({MovieId:this.movie.Id,GenreId:o.Id,GenreName:o.Name})}),this.movie.ListItemGenres=i,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(fi),t.Y36(ba),t.Y36(pm),t.Y36(tn.qu),t.Y36(As),t.Y36(Lo),t.Y36(J0))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-movie-form"]],inputs:{movie:"movie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","releaseDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,dD,47,9,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.movie&&o.movieFormGroup)},dependencies:[tn._Y,tn.Fj,tn.JJ,tn.JL,tn.sg,tn.u,pa,g.O5,Yo.Nt,ji.KE,ji.hX,ji.bx,ji.TO,ji.R9,Ou.Mq,Ou.hl,Ou.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();var Mc=S(2596);function $A(r,n){1&r&&(t.TgZ(0,"div",39),t._UZ(1,"mat-spinner"),t.qZA())}function xl(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",40)(1,"mat-checkbox",41),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function X0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"mat-checkbox",43),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function uD(r,n){1&r&&(t.TgZ(0,"th",44),t._uU(1,"N\xb0"),t.qZA())}function qA(r,n){if(1&r&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function Xs(r,n){1&r&&(t.TgZ(0,"th",46),t._uU(1,"T\xedtulo"),t.qZA())}function fD(r,n){if(1&r&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function Wg(r,n){1&r&&(t.TgZ(0,"th",48),t._uU(1,"Fecha"),t.qZA())}function hD(r,n){if(1&r&&(t.TgZ(0,"td",49),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.ReleaseDate,"dd-MM-YYYY ")," ")}}function mD(r,n){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Actores"),t.qZA())}function zg(r,n){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Actors," ")}}function eb(r,n){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Directores"),t.qZA())}function tb(r,n){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Directors," ")}}function pD(r,n){1&r&&t._UZ(0,"th",52)}function nb(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",53)(1,"div",54)(2,"button",55),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",56),t.qZA(),t.TgZ(4,"button",57),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function ib(r,n){1&r&&t._UZ(0,"tr",58)}function rb(r,n){1&r&&t._UZ(0,"tr",59)}function ob(r,n){1&r&&(t.TgZ(0,"td",62),t._uU(1,"No se encontraron datos"),t.qZA())}function gD(r,n){if(1&r&&(t.TgZ(0,"tr",60),t.YNc(1,ob,2,0,"td",61),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const sb=function(r){return{disable:r}},_D=function(){return[5,10,25,100]};let gm=(()=>{class r extends $l{constructor(e,i,o,d,m,v){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.movieService=v}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new lD;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(Q0,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.movie=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.movieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new $n.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new br.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el movie "+e.Title+"?",accordMessage:"Si, eliminar el movie '"+e.Title+"'"},this.dialog.open(Fo,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.movieService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Ui.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Ui.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new br.vA;e.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Fo,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.movieService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Ui.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Ui.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","ReleaseDate","Actors","Directors","Actions"]:window.innerWidth>875?["Select","Id","Title","ReleaseDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Title","ReleaseDate","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Kn.F0),t.Y36(ba),t.Y36(br.uw),t.Y36(kr.ye),t.Y36(Lo),t.Y36(J0))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-movie-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(kr.NW,5),t.Gf(Hr.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","ReleaseDate"],["mat-header-cell","","mat-sort-header","","style","min-width:140px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","140px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",2,"max-width","120px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," Pel\xedculas"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,$A,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,xl,2,2,"th",17),t.YNc(25,X0,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,uD,2,0,"th",20),t.YNc(28,qA,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,Xs,2,0,"th",23),t.YNc(31,fD,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,Wg,2,0,"th",26),t.YNc(34,hD,3,4,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,mD,2,0,"th",29),t.YNc(37,zg,2,1,"td",30),t.BQk(),t.ynx(38,31),t.YNc(39,eb,2,0,"th",29),t.YNc(40,tb,2,1,"td",30),t.BQk(),t.ynx(41,32),t.YNc(42,pD,1,0,"th",33),t.YNc(43,nb,6,0,"td",34),t.BQk(),t.YNc(44,ib,1,0,"tr",35),t.YNc(45,rb,1,0,"tr",36),t.YNc(46,gD,2,1,"tr",37),t.qZA()()()()(),t.TgZ(47,"div",1)(48,"div",9),t._UZ(49,"mat-paginator",38),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,sb,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,_D)))},dependencies:[g.mk,g.O5,kr.NW,$n.BZ,$n.fO,$n.as,$n.w1,$n.Dz,$n.nj,$n.ge,$n.ev,$n.XQ,$n.Gk,$n.Ee,Yo.Nt,ji.KE,ji.hX,Hr.YE,Hr.nU,xc.oG,Nr.Ou,Mc.gM,g.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class ed{}function ab(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function Zg(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,ab,4,0,"mat-error",8),t.qZA()(),t.TgZ(12,"div",9)(13,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(14,"Close"),t.qZA(),t.TgZ(15,"button",11),t._uU(16,"Guardar"),t.qZA()()(),t._UZ(17,"app-custom-spinner",12)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.genreFormGroup),t.xp6(3),t.Oqu(e.genre&&e.genre.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.genreFormGroup.controls.name.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.genreFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let $g=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.genreService=d,this.showLoading=!1,this.matcher=new Tc}ngOnInit(){}ngAfterViewInit(){this.genreFormGroup=this.formBuilder.group({name:new tn.NI(this.genre.Name,[tn.kI.required])})}saveItem(){if(this.genreFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.genre));e.Name=this.genreFormGroup.value.name,this.genreService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el genre satisfactoriamente",Ui.Success),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.genreFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(tn.qu),t.Y36(As),t.Y36(Lo),t.Y36(pm))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genre-form"]],inputs:{genre:"genre"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,Zg,18,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.genre&&o.genreFormGroup)},dependencies:[tn._Y,tn.Fj,tn.JJ,tn.JL,tn.sg,tn.u,pa,g.O5,Yo.Nt,ji.KE,ji.hX,ji.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function vD(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function JA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function lb(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function yD(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function bD(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function ED(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1," Nombre "),t.qZA())}function TD(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function cb(r,n){1&r&&t._UZ(0,"th",41)}function QA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function db(r,n){1&r&&t._UZ(0,"tr",47)}function SD(r,n){1&r&&t._UZ(0,"tr",48)}function ub(r,n){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function XA(r,n){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,ub,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const qg=function(r){return{disable:r}},fb=function(){return[5,10,25,100]};let Jg=(()=>{class r extends $l{constructor(e,i,o,d,m,v){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.genreService=v,this.displayedColumns=["Select","Id","Name","Actions"]}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new ed;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open($g,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.genre=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.genreService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new $n.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new br.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+e.Name+"?",accordMessage:"Si, eliminar el rol '"+e.Name+"'"},this.dialog.open(Fo,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.genreService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Ui.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Ui.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new br.vA;e.data={title:"Eliminar genres",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Fo,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.genreService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Ui.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Ui.Error)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Kn.F0),t.Y36(ba),t.Y36(br.uw),t.Y36(kr.ye),t.Y36(Lo),t.Y36(pm))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genre-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(kr.NW,5),t.Gf(Hr.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," G\xe9neros"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,vD,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,JA,2,2,"th",17),t.YNc(25,lb,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,yD,2,0,"th",20),t.YNc(28,bD,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,ED,2,0,"th",23),t.YNc(31,TD,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,cb,1,0,"th",26),t.YNc(34,QA,6,0,"td",27),t.BQk(),t.YNc(35,db,1,0,"tr",28),t.YNc(36,SD,1,0,"tr",29),t.YNc(37,XA,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,qg,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,fb)))},dependencies:[g.mk,g.O5,kr.NW,$n.BZ,$n.fO,$n.as,$n.w1,$n.Dz,$n.nj,$n.ge,$n.ev,$n.XQ,$n.Gk,$n.Ee,Yo.Nt,ji.KE,ji.hX,Hr.YE,Hr.nU,xc.oG,Nr.Ou,Mc.gM],styles:["h3[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#fff}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}"]})}return r})();class Pu{}function hb(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xedtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function mb(r,n){if(1&r&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Name," ")}}function Ru(r,n){if(1&r&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Title," ")}}function _m(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xedtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,hb,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Path"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"N\xfamero de Orden"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field")(21,"mat-label"),t._uU(22,"Tipo de \xcdcono"),t.qZA(),t.TgZ(23,"mat-select",11)(24,"mat-option",12),t._uU(25,"--"),t.qZA(),t.YNc(26,mb,2,2,"mat-option",13),t.qZA()(),t.TgZ(27,"mat-form-field")(28,"mat-label"),t._uU(29,"Icon Class"),t.qZA(),t._UZ(30,"input",14),t.qZA(),t.TgZ(31,"mat-form-field")(32,"mat-label"),t._uU(33,"Menu Padre"),t.qZA(),t.TgZ(34,"mat-select",15)(35,"mat-option",12),t._uU(36,"--"),t.qZA(),t.YNc(37,Ru,2,2,"mat-option",13),t.qZA()(),t.TgZ(38,"mat-checkbox",16),t._uU(39,"Activo"),t.qZA()(),t.TgZ(40,"div",17)(41,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(42,"Cerrar"),t.qZA(),t.TgZ(43,"button",19),t._uU(44,"Guardar"),t.qZA()()(),t._UZ(45,"app-custom-spinner",20)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.menuFormGroup),t.xp6(3),t.Oqu(e.menu.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.menuFormGroup.controls.title.hasError("required")),t.xp6(13),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.listIconTypes),t.xp6(9),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.listMenusSelectable),t.xp6(6),t.Q6J("disabled",e.showLoading||!e.menuFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let pb=(()=>{class r{constructor(e,i,o,d,m,v){this.sharedService=e,this.restProvider=i,this.formBuilder=o,this.activeModal=d,this.snackbarService=m,this.menuService=v,this.showLoading=!1,this.matcher=new Tc}ngOnInit(){this.getAllMenus(),this.getIconTypes()}getAllMenus(){this.menuService.getAllMenus().then(e=>{this.listMenusSelectable=e.Data.filter(o=>o.Id!=this.menu.Id)},e=>{console.error(e)})}getIconTypes(){this.restProvider.executeSinovadApiService(et.GET,"/catalogs/GetDetailsByCatalogAsync/"+vn.IconTypes).then(i=>{this.listIconTypes=i.Data},i=>{console.error(i)})}ngAfterViewInit(){this.menuFormGroup=this.formBuilder.group({title:new tn.NI(this.menu.Title,[tn.kI.required]),path:new tn.NI(this.menu.Path),iconType:new tn.NI(this.menu.IconTypeCatalogDetailId),iconClass:new tn.NI(this.menu.IconClass),sortOrder:new tn.NI(this.menu.SortOrder),parentId:new tn.NI(this.menu.ParentId),enabled:new tn.NI(this.menu.Enabled)})}saveItem(){if(this.menuFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.menu));e.Title=this.menuFormGroup.value.title,e.Path=this.menuFormGroup.value.path,e.IconClass=this.menuFormGroup.value.iconClass,e.SortOrder=this.menuFormGroup.value.sortOrder,null!=this.menuFormGroup.value.iconType?(e.IconTypeCatalogId=vn.IconTypes,e.IconTypeCatalogDetailId=this.menuFormGroup.value.iconType):(e.IconTypeCatalogId=void 0,e.IconTypeCatalogDetailId=void 0),e.ParentId=this.menuFormGroup.value.parentId,e.Enabled=this.menuFormGroup.value.enabled,this.menuService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el menu satisfactoriamente",Ui.Success),this.menuService.getManageMenu(),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.menuFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(fi),t.Y36(Oi),t.Y36(tn.qu),t.Y36(As),t.Y36(Lo),t.Y36(fr))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-menu-form"]],inputs:{menu:"menu"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["id","path","matInput","","formControlName","path"],["id","sortOrder","type","number","matInput","","formControlName","sortOrder"],["formControlName","iconType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["id","iconClass","matInput","","formControlName","iconClass"],["formControlName","parentId"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,_m,46,10,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.menu&&o.menuFormGroup)},dependencies:[tn._Y,tn.Fj,tn.wV,tn.JJ,tn.JL,tn.sg,tn.u,pa,g.sg,g.O5,Yo.Nt,ji.KE,ji.hX,ji.TO,xc.oG,L0.ey,kg.gD],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}.form-check-input[_ngcontent-%COMP%]{width:18px;height:18px}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function gb(r,n){1&r&&(t.TgZ(0,"div",41),t._UZ(1,"mat-spinner"),t.qZA())}function CD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",42)(1,"mat-checkbox",43),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function DD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",44)(1,"mat-checkbox",45),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function eI(r,n){1&r&&(t.TgZ(0,"th",46),t._uU(1,"N\xb0"),t.qZA())}function _b(r,n){if(1&r&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function xD(r,n){1&r&&(t.TgZ(0,"th",48),t._uU(1,"T\xedtulo"),t.qZA())}function MD(r,n){if(1&r&&(t.TgZ(0,"td",49),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function AD(r,n){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Path"),t.qZA())}function tI(r,n){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Path," ")}}function nI(r,n){1&r&&(t.TgZ(0,"th",52),t._uU(1,"\xcdcono"),t.qZA())}function vb(r,n){if(1&r&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.IconClass," ")}}function ID(r,n){1&r&&(t.TgZ(0,"th",54),t._uU(1,"Orden"),t.qZA())}function wD(r,n){if(1&r&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.SortOrder," ")}}function OD(r,n){1&r&&t._UZ(0,"th",56)}function iI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",57)(1,"div",58)(2,"button",59),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",60),t.qZA(),t.TgZ(4,"button",61),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function rI(r,n){1&r&&t._UZ(0,"tr",62)}function oI(r,n){1&r&&t._UZ(0,"tr",63)}function sI(r,n){1&r&&(t.TgZ(0,"td",66),t._uU(1,"No se encontraron datos"),t.qZA())}function aI(r,n){if(1&r&&(t.TgZ(0,"tr",64),t.YNc(1,sI,2,0,"td",65),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const PD=function(r){return{disable:r}},vm=function(){return[5,10,25,100]};let yb=(()=>{class r extends $l{constructor(e,i,o,d,m,v){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.menuService=v}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new Pu;e.Enabled=!0,this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(pb,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.menu=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.menuService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new $n.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new br.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el menu "+e.Title+"?",accordMessage:"Si, eliminar el menu '"+e.Title+"'"},this.dialog.open(Fo,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.menuService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Ui.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Ui.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new br.vA;e.data={title:"Eliminar menus",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Fo,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.menuService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Ui.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Ui.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","Path","IconClass","SortOrder","Actions"]:window.innerWidth>875?["Select","Id","Title","Path","IconClass","Actions"]:window.innerWidth>495?["Select","Id","Title","Path","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Kn.F0),t.Y36(ba),t.Y36(br.uw),t.Y36(kr.ye),t.Y36(Lo),t.Y36(fr))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-menu-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(kr.NW,5),t.Gf(Hr.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Path"],["mat-header-cell","","mat-sort-header","","style","min-width:100px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","IconClass"],["mat-header-cell","","mat-sort-header","","style","min-width:180px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:180px;text-align: left;",4,"matCellDef"],["matColumnDef","SortOrder"],["mat-header-cell","","mat-sort-header","","style","max-width:70px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:70px;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","100px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","180px","text-align","left"],["mat-cell","",2,"min-width","180px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","70px","text-align","left"],["mat-cell","",2,"max-width","70px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Menus"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,gb,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,CD,2,2,"th",17),t.YNc(25,DD,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,eI,2,0,"th",20),t.YNc(28,_b,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,xD,2,0,"th",23),t.YNc(31,MD,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,AD,2,0,"th",26),t.YNc(34,tI,2,1,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,nI,2,0,"th",29),t.YNc(37,vb,2,1,"td",30),t.BQk(),t.ynx(38,31),t.YNc(39,ID,2,0,"th",32),t.YNc(40,wD,2,1,"td",33),t.BQk(),t.ynx(41,34),t.YNc(42,OD,1,0,"th",35),t.YNc(43,iI,6,0,"td",36),t.BQk(),t.YNc(44,rI,1,0,"tr",37),t.YNc(45,oI,1,0,"tr",38),t.YNc(46,aI,2,1,"tr",39),t.qZA()()()()(),t.TgZ(47,"div",1)(48,"div",9),t._UZ(49,"mat-paginator",40),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,PD,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,vm)))},dependencies:[g.mk,g.O5,kr.NW,$n.BZ,$n.fO,$n.as,$n.w1,$n.Dz,$n.nj,$n.ge,$n.ev,$n.XQ,$n.Gk,$n.Ee,Yo.Nt,ji.KE,ji.hX,Hr.YE,Hr.nU,xc.oG,Nr.Ou,Mc.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();function RD(r,n){1&r&&(t.TgZ(0,"div",27),t._UZ(1,"mat-spinner"),t.qZA())}function bb(r,n){1&r&&(t.TgZ(0,"th",28),t._uU(1,"N\xb0"),t.qZA())}function Bd(r,n){if(1&r&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function Eb(r,n){1&r&&(t.TgZ(0,"th",30),t._uU(1,"Nombre del dispositivo"),t.qZA())}function Qg(r,n){if(1&r&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.DeviceName," ")}}function Xg(r,n){1&r&&(t.TgZ(0,"th",30),t._uU(1,"Nombre familiar"),t.qZA())}function ND(r,n){if(1&r&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.FamilyName," ")}}function e_(r,n){1&r&&(t.TgZ(0,"th",32),t._uU(1,"IP Privada"),t.qZA())}function t_(r,n){if(1&r&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.IpAddress," ")}}function ym(r,n){1&r&&(t.TgZ(0,"th",34),t._uU(1,"Puerto"),t.qZA())}function lI(r,n){if(1&r&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Port," ")}}function cI(r,n){1&r&&t._UZ(0,"tr",36)}function dI(r,n){1&r&&t._UZ(0,"tr",37)}function Tb(r,n){1&r&&(t.TgZ(0,"td",40),t._uU(1,"No se encontraron datos"),t.qZA())}function LD(r,n){if(1&r&&(t.TgZ(0,"tr",38),t.YNc(1,Tb,2,0,"td",39),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const kD=function(){return[5,10,25,100]};let FD=(()=>{class r extends $l{constructor(e,i,o,d){super(o),this.dialog=e,this.mediaServerService=i,this.matPaginatorIntl=o,this.snackbarService=d}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="DeviceName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"DeviceName",start:"asc",disableClear:!0}),this.searchBy="IpAddress|Port|FamilyName|DeviceName",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.mediaServerService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new $n.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new br.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el servidor "+e.DeviceName+"?",accordMessage:"Si, eliminar el servidor '"+e.DeviceName+"'"},this.dialog.open(Fo,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.mediaServerService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Ui.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Ui.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new br.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Fo,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.mediaServerService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Ui.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Ui.Error)})}getDisplayedColumns(){return window.innerWidth>600?["Id","DeviceName","FamilyName","IpAddress","Port"]:window.innerWidth>475?["Id","DeviceName","FamilyName"]:["Id","DeviceName"]}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(br.uw),t.Y36(vp),t.Y36(kr.ye),t.Y36(Lo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-server-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(kr.NW,5),t.Gf(Hr.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:37,vars:8,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","style","width:50px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","width:50px;text-align: center;",4,"matCellDef"],["matColumnDef","DeviceName"],["mat-header-cell","","mat-sort-header","","style","width:calc(50% - 140px);text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:calc(50% - 165px);text-align: left;",4,"matCellDef"],["matColumnDef","FamilyName"],["matColumnDef","IpAddress"],["mat-header-cell","","mat-sort-header","","style","width:150px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:150px;text-align: left;",4,"matCellDef"],["matColumnDef","Port"],["mat-header-cell","","mat-sort-header","","style","width:80px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:80px;text-align: left;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",2,"width","50px","text-align","center"],["mat-cell","",2,"width","50px","text-align","center"],["mat-header-cell","","mat-sort-header","",2,"width","calc(50% - 140px)","text-align","left"],["mat-cell","",2,"width","calc(50% - 165px)","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","150px","text-align","left"],["mat-cell","",2,"width","150px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","80px","text-align","left"],["mat-cell","",2,"width","80px","text-align","left"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Buscar"),t.qZA(),t.TgZ(10,"input",4,5),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(12,"div",6),t.YNc(13,RD,2,0,"div",7),t.TgZ(14,"div",8)(15,"table",9),t.ynx(16,10),t.YNc(17,bb,2,0,"th",11),t.YNc(18,Bd,2,1,"td",12),t.BQk(),t.ynx(19,13),t.YNc(20,Eb,2,0,"th",14),t.YNc(21,Qg,2,1,"td",15),t.BQk(),t.ynx(22,16),t.YNc(23,Xg,2,0,"th",14),t.YNc(24,ND,2,1,"td",15),t.BQk(),t.ynx(25,17),t.YNc(26,e_,2,0,"th",18),t.YNc(27,t_,2,1,"td",19),t.BQk(),t.ynx(28,20),t.YNc(29,ym,2,0,"th",21),t.YNc(30,lI,2,1,"td",22),t.BQk(),t.YNc(31,cI,1,0,"tr",23),t.YNc(32,dI,1,0,"tr",24),t.YNc(33,LD,2,1,"tr",25),t.qZA()()()()(),t.TgZ(34,"div",1)(35,"div",3),t._UZ(36,"mat-paginator",26),t.qZA()()()()),2&i&&(t.xp6(3),t.hij("",o.parentItem.UserName," : Servidores multimedia"),t.xp6(10),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(7,kD)))},dependencies:[g.O5,kr.NW,$n.BZ,$n.fO,$n.as,$n.w1,$n.Dz,$n.nj,$n.ge,$n.ev,$n.XQ,$n.Gk,$n.Ee,Yo.Nt,ji.KE,ji.hX,Hr.YE,Hr.nU,Nr.Ou],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:850px!important}"]})}return r})();function BD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1),t._UZ(1,"h5",2),t.TgZ(2,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(3,"i",4),t.qZA()(),t.TgZ(4,"div",5),t._UZ(5,"app-media-server-list",6),t.qZA(),t.TgZ(6,"div",7)(7,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(8,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("parentItem",e.parent)}}let Sb=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(As))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-server-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(i,o){1&i&&t.YNc(0,BD,9,1,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.parent)},dependencies:[g.O5,FD]})}return r})();function Cb(r,n){if(1&r&&t._UZ(0,"img",7),2&r){const e=t.oxw().$implicit;t.Q6J("src",e.imageUrl,t.LSH)}}function Db(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.iconClass)}}function UD(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickContextMenuOption(d))}),t.TgZ(1,"div",3),t.YNc(2,Cb,1,1,"img",4),t.YNc(3,Db,1,3,"i",5),t.qZA(),t.TgZ(4,"div",6),t._uU(5),t.qZA()()}if(2&r){const e=n.$implicit;t.Udp("border-bottom",e.showBorderBottom?"1px solid black":""),t.xp6(2),t.Q6J("ngIf",e.imageUrl),t.xp6(1),t.Q6J("ngIf",e.iconClass),t.xp6(2),t.hij(" ",e.text," ")}}let xb=(()=>{class r{constructor(){this.hideContextMenu=new t.vpe,this.clickOption=new t.vpe}onClickOutside(){this.hideContextMenu.emit(!0)}onClickContextMenuOption(e){this.clickOption.emit(e)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-context-menu"]],decls:2,vars:5,consts:[[1,"sinovad-context-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-context-menu-option",3,"click"],[1,"sinovad-context-menu-option-icon"],["style","width:24px;",3,"src",4,"ngIf"],[3,"class",4,"ngIf"],[1,"sinovad-context-menu-option-text"],[2,"width","24px",3,"src"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(){return o.onClickOutside()}),t.YNc(1,UD,6,5,"ng-template",1),t.qZA()),2&i&&(t.Udp("top",o.top+"px")("left",o.left+"px"),t.xp6(1),t.Q6J("ngForOf",o.listOptions))},dependencies:[g.sg,g.O5,Ql],styles:[".sinovad-context-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;color:#fff}.sinovad-context-menu-option[_ngcontent-%COMP%]{display:flex;padding:10px;cursor:pointer;align-items:center;opacity:.8}.sinovad-context-menu-option[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-context-menu-option-icon[_ngcontent-%COMP%]{display:block}.sinovad-context-menu-option-text[_ngcontent-%COMP%]{padding-left:10px;display:block}"]})}return r})(),n_=(()=>{class r{constructor(e,i,o){this.factoryResolver=e,this.injector=i,this.applicationRef=o}show(e,i,o,d){return new Promise((m,v)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const j=this.factoryResolver.resolveComponentFactory(xb).create(this.injector);this.lastViewRef=j.hostView,this.applicationRef.attachView(j.hostView);let ne=this;j.instance.left=i,j.instance.top=o,j.instance.listOptions=d,j.instance.clickOption.subscribe(tt=>{j.destroy(),ne.applicationRef.detachView(j.hostView),m(tt)}),j.instance.hideContextMenu.subscribe(tt=>{j.destroy(),ne.applicationRef.detachView(j.hostView),v(!0)});const pe=j.hostView.rootNodes[0];document.getElementById(e).appendChild(pe)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function fI(r,n){1&r&&(t.TgZ(0,"div",26),t._UZ(1,"mat-spinner"),t.qZA())}function Mb(r,n){1&r&&(t.TgZ(0,"th",27),t._uU(1,"N\xb0"),t.qZA())}function i_(r,n){if(1&r&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function jD(r,n){1&r&&(t.TgZ(0,"th",29),t._uU(1," Usuario "),t.qZA())}function VD(r,n){if(1&r&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.UserName," ")}}function hI(r,n){1&r&&(t.TgZ(0,"th",29),t._uU(1," Correo "),t.qZA())}function mI(r,n){if(1&r&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Email," ")}}function GD(r,n){1&r&&(t.TgZ(0,"th",29),t._uU(1," Nombres "),t.qZA())}function HD(r,n){if(1&r&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.FirstName," ")}}function KD(r,n){1&r&&(t.TgZ(0,"th",29),t._uU(1," Apellidos "),t.qZA())}function YD(r,n){if(1&r&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.LastName," ")}}function Ab(r,n){1&r&&t._UZ(0,"th",31)}function Ib(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",32)(1,"div",33)(2,"button",34),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(3,"i",35),t.qZA()()()}}function pI(r,n){1&r&&t._UZ(0,"tr",36)}const WD=function(r){return{active:r}};function r_(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"tr",37),t.NdJ("contextmenu",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onContextMenuItem(o,m))}),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(1,WD,i.lastSelectedItem&&e.Id==i.lastSelectedItem.Id))}}function wb(r,n){1&r&&(t.TgZ(0,"td",40),t._uU(1,"No se encontraron datos"),t.qZA())}function Ob(r,n){if(1&r&&(t.TgZ(0,"tr",38),t.YNc(1,wb,2,0,"td",39),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const zD=function(){return[5,10,25,100]};let bm=(()=>{class r extends $l{constructor(e,i,o,d,m,v,I){super(v),this.router=e,this.modalService=i,this.contextMenuService=o,this.dialog=d,this.userService=m,this.matPaginatorIntl=v,this.snackbarService=I}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="UserName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"UserName",start:"asc",disableClear:!0}),this.searchBy="UserName|Email|FirstName|LastName",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.userService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new $n.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new br.vA;i.data={title:"Eliminar usuario",message:"\xbfEsta seguro que desea eliminar el usuario "+e.UserName+"?",accordMessage:"Si, eliminar el usuario '"+e.UserName+"'"},this.dialog.open(Fo,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.userService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Ui.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Ui.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new br.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Fo,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.userService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Ui.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Ui.Error)})}getDisplayedColumns(){return window.innerWidth>1050?["Id","UserName","Email","FirstName","LastName","Actions"]:window.innerWidth>950?["Id","UserName","Email","FirstName","Actions"]:window.innerWidth>675?["Id","UserName","Email","Actions"]:(window,["Id","UserName","Actions"])}onContextMenuItem(e,i){this.lastSelectedItem=i,e.preventDefault(),e.stopPropagation();let o=[];o.push({key:"ShowMediaServers",text:"Servidores multimedia",iconClass:"fa-solid fa-server"}),o&&o.length>0&&this.renderContextMenuComponent(e.clientX,e.clientY,o,i)}renderContextMenuComponent(e,i,o,d){this.contextMenuService.show("sinovadMainContainer",e,i,o).then(m=>{"ShowMediaServers"==m.key&&this.showMediaServerListModal(d)},()=>{this.lastSelectedItem=void 0})}showMediaServerListModal(e){var i=this,o=this.modalService.open(Sb,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(d=>{i.lastSelectedItem=void 0})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Kn.F0),t.Y36(ba),t.Y36(n_),t.Y36(br.uw),t.Y36(lo),t.Y36(kr.ye),t.Y36(Lo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-user-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(kr.NW,5),t.Gf(Hr.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:40,vars:7,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","UserName"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Email"],["matColumnDef","FirstName"],["matColumnDef","LastName"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",3,"ngClass","contextmenu",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],[1,"fa-solid","fa-trash"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable",3,"ngClass","contextmenu"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Usuarios"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Buscar"),t.qZA(),t.TgZ(10,"input",4,5),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(12,"div",6),t.YNc(13,fI,2,0,"div",7),t.TgZ(14,"div",8)(15,"table",9),t.ynx(16,10),t.YNc(17,Mb,2,0,"th",11),t.YNc(18,i_,2,1,"td",12),t.BQk(),t.ynx(19,13),t.YNc(20,jD,2,0,"th",14),t.YNc(21,VD,2,1,"td",15),t.BQk(),t.ynx(22,16),t.YNc(23,hI,2,0,"th",14),t.YNc(24,mI,2,1,"td",15),t.BQk(),t.ynx(25,17),t.YNc(26,GD,2,0,"th",14),t.YNc(27,HD,2,1,"td",15),t.BQk(),t.ynx(28,18),t.YNc(29,KD,2,0,"th",14),t.YNc(30,YD,2,1,"td",15),t.BQk(),t.ynx(31,19),t.YNc(32,Ab,1,0,"th",20),t.YNc(33,Ib,4,0,"td",21),t.BQk(),t.YNc(34,pI,1,0,"tr",22),t.YNc(35,r_,1,3,"tr",23),t.YNc(36,Ob,2,1,"tr",24),t.qZA()()()()(),t.TgZ(37,"div",1)(38,"div",3),t._UZ(39,"mat-paginator",25),t.qZA()()()()),2&i&&(t.xp6(13),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(6,zD)))},dependencies:[g.mk,g.O5,kr.NW,$n.BZ,$n.fO,$n.as,$n.w1,$n.Dz,$n.nj,$n.ge,$n.ev,$n.XQ,$n.Gk,$n.Ee,Yo.Nt,ji.KE,ji.hX,Hr.YE,Hr.nU,Nr.Ou,Mc.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class ZD{}let Pb=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,i,o,d,m,v){return new Promise((I,j)=>{let ne=Nt();this.lastCallGuid=ne;var pe="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+v;this.restProvider.executeSinovadApiService(et.GET,"/roles/GetAllWithPaginationAsync"+pe).then(tt=>{this.lastCallGuid==ne&&I(tt)},tt=>{console.error(tt),j(tt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?et.PUT:et.POST,e.Id>0?"/roles/Update":"/roles/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.DELETE,"/roles/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(et.DELETE,"/roles/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Oi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Rb(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function Nb(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,Rb,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-checkbox",9),t._uU(13,"Activo"),t.qZA()(),t.TgZ(14,"div",10)(15,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(16,"Close"),t.qZA(),t.TgZ(17,"button",12),t._uU(18,"Guardar"),t.qZA()()(),t._UZ(19,"app-custom-spinner",13)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.roleFormGroup),t.xp6(3),t.Oqu(e.role&&e.role.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.roleFormGroup.controls.name.hasError("required")),t.xp6(6),t.Q6J("disabled",e.showLoading||!e.roleFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let gI=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.roleService=d,this.showLoading=!1,this.matcher=new Tc}ngAfterViewInit(){this.roleFormGroup=this.formBuilder.group({name:new tn.NI(this.role.Name,[tn.kI.required]),enabled:new tn.NI(this.role.Enabled)})}saveItem(){if(this.roleFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.role));e.Name=this.roleFormGroup.value.name,e.Enabled=this.roleFormGroup.value.enabled,this.roleService.saveItem(e).then(i=>{this.showLoading=!1,this.role=void 0,this.snackbarService.showSnackBar("Se guardo el rol satisfactoriamente",Ui.Success),this.activeModal.close()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Ui.Error)})}else this.roleFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(tn.qu),t.Y36(As),t.Y36(Lo),t.Y36(Pb))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-role-form"]],inputs:{role:"role"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,Nb,20,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.role&&o.roleFormGroup)},dependencies:[tn._Y,tn.Fj,tn.JJ,tn.JL,tn.sg,tn.u,pa,g.O5,Yo.Nt,ji.KE,ji.hX,ji.TO,xc.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function $D(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function Em(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function _I(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function qD(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function vI(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function yI(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1," Nombre "),t.qZA())}function JD(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function bI(r,n){1&r&&t._UZ(0,"th",41)}function EI(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function TI(r,n){1&r&&t._UZ(0,"tr",47)}function SI(r,n){1&r&&t._UZ(0,"tr",48)}function CI(r,n){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function QD(r,n){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,CI,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const DI=function(r){return{disable:r}},xI=function(){return[5,10,25,100]};let XD=(()=>{class r extends $l{constructor(e,i,o,d,m,v){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.roleService=v,this.displayedColumns=["Select","Id","Name","Actions"]}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new ZD;e.Enabled=!0,this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(gI,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.role=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.roleService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new $n.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new br.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+e.Name+"?",accordMessage:"Si, eliminar el rol '"+e.Name+"'"},this.dialog.open(Fo,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.roleService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Ui.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Ui.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new br.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Fo,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.roleService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Ui.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Ui.Error)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Kn.F0),t.Y36(ba),t.Y36(br.uw),t.Y36(kr.ye),t.Y36(Lo),t.Y36(Pb))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-role-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(kr.NW,5),t.Gf(Hr.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," Roles"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,$D,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,Em,2,2,"th",17),t.YNc(25,_I,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,qD,2,0,"th",20),t.YNc(28,vI,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,yI,2,0,"th",23),t.YNc(31,JD,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,bI,1,0,"th",26),t.YNc(34,EI,6,0,"td",27),t.BQk(),t.YNc(35,TI,1,0,"tr",28),t.YNc(36,SI,1,0,"tr",29),t.YNc(37,QD,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,DI,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,xI)))},dependencies:[g.mk,g.O5,kr.NW,$n.BZ,$n.fO,$n.as,$n.w1,$n.Dz,$n.nj,$n.ge,$n.ev,$n.XQ,$n.Gk,$n.Ee,Yo.Nt,ji.KE,ji.hX,Hr.YE,Hr.nU,xc.oG,Nr.Ou,Mc.gM]})}return r})();const MI=["loginFormContainer"];let Lb=(()=>{class r{constructor(e,i,o){this.router=e,this.activeRoute=i,this.sharedService=o,this._window=window,this.showLoading=!1}ngOnInit(){}showLoginPage(){this.router.navigateByUrl("/login")}showRegisterPage(){this.router.navigateByUrl("/register")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Kn.F0),t.Y36(Kn.gz),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-landing"]],viewQuery:function(i,o){if(1&i&&t.Gf(MI,5),2&i){let d;t.iGM(d=t.CRH())&&(o.loginFormContainer=d.first)}},decls:12,vars:6,consts:[["id","sinovad-container",1,"sinovad-container"],[1,"sinovad-form-container"],[1,"sinovad-form-content"],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-form-button-section"],[1,"register",3,"click"],[1,"login",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.ALo(5,"async"),t.ALo(6,"formatDataPipe"),t.qZA(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return o.showRegisterPage()}),t._uU(9,"REG\xcdSTRATE"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return o.showLoginPage()}),t._uU(11,"INICIA SESI\xd3N"),t.qZA()()()()()),2&i&&(t.xp6(4),t.Q6J("src",t.lcZ(5,1,t.xi3(6,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))},dependencies:[g.Ov,Wr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;width:100%;cursor:pointer;color:#fff;padding:10px;text-align:center;border-radius:5px;font-size:14px;opacity:.8;margin-bottom:10px;font-weight:700}.sinovad-form-button-section[_ngcontent-%COMP%]   button.register[_ngcontent-%COMP%]{background-color:#007bff}.sinovad-form-button-section[_ngcontent-%COMP%]   button.login[_ngcontent-%COMP%]{background-color:#2e303d}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}button.register[_ngcontent-%COMP%]{background-color:#007bff}button.login[_ngcontent-%COMP%]{background-color:#2e303d}"]})}return r})();class ex{}function AI(r,n){if(1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2),t.qZA()),2&r){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"email")?"Confirma que hayas agregado el email correctamente":e.sharedService.hasErrorPatternFormControl(e.registerUserForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}function l(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los nombres correctamente "),t.qZA())}function u(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los apellidos correctamente "),t.qZA())}function h(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el usuario correctamente "),t.qZA())}function _(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function A(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const G=function(r){return{error:r}},oe=function(r){return{disable:r}};function Ce(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",9)(1,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.register())}),t.TgZ(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Reg\xedstrate "),t.qZA(),t.TgZ(8,"div",13)(9,"label",14),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",15),t._UZ(12,"input",16),t.YNc(13,AI,3,1,"label",17),t.qZA()(),t.TgZ(14,"div",13)(15,"label",14),t._uU(16," Nombres "),t.qZA(),t.TgZ(17,"div",15),t._UZ(18,"input",18),t.YNc(19,l,3,0,"label",17),t.qZA()(),t.TgZ(20,"div",13)(21,"label",14),t._uU(22," Apellidos "),t.qZA(),t.TgZ(23,"div",15),t._UZ(24,"input",19),t.YNc(25,u,3,0,"label",17),t.qZA()(),t.TgZ(26,"div",13)(27,"label",14),t._uU(28," Usuario "),t.qZA(),t.TgZ(29,"div",15),t._UZ(30,"input",20),t.YNc(31,h,3,0,"label",17),t.qZA()(),t.TgZ(32,"div",13)(33,"label",14),t._uU(34," Contrase\xf1a "),t.qZA(),t.TgZ(35,"div",15),t._UZ(36,"input",21),t.YNc(37,_,3,0,"label",17),t.qZA()(),t.TgZ(38,"div",13)(39,"label",14),t._uU(40," Confirmar contrase\xf1a "),t.qZA(),t.TgZ(41,"div",15),t._UZ(42,"input",22),t.YNc(43,A,3,0,"label",17),t.qZA()(),t.TgZ(44,"div",23)(45,"button",24),t._uU(46,"Registrar"),t.qZA()(),t.TgZ(47,"div",25),t._uU(48),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.registerUserForm),t.xp6(2),t.Q6J("src",t.lcZ(4,16,t.xi3(5,18,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngClass",t.VKq(21,G,e.sharedService.isInvalidFormControl(e.registerUserForm,"email"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"email")),t.xp6(1),t.Q6J("ngClass",t.VKq(23,G,e.sharedService.isInvalidFormControl(e.registerUserForm,"firstName"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"firstName")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"firstName")),t.xp6(1),t.Q6J("ngClass",t.VKq(25,G,e.sharedService.isInvalidFormControl(e.registerUserForm,"lastName"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"lastName")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"lastName")),t.xp6(1),t.Q6J("ngClass",t.VKq(27,G,e.sharedService.isInvalidFormControl(e.registerUserForm,"username"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"username")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"username")),t.xp6(1),t.Q6J("ngClass",t.VKq(29,G,e.sharedService.isInvalidFormControl(e.registerUserForm,"password"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"password")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"password")),t.xp6(1),t.Q6J("ngClass",t.VKq(31,G,e.sharedService.isInvalidFormControl(e.registerUserForm,"confirmPassword"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"confirmPassword")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(33,oe,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function Ve(r,n){1&r&&(t.TgZ(0,"div",28)(1,"div",29)(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Registro de Usuario "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Usuario registrado satistactoriamente, verifique su correo electr\xf3nico y active su cuenta por favor."),t.qZA()()()),2&r&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))}let pt=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.router=i,this.restProvider=o,this.sharedService=d,this._window=window,this.showLoading=!1,this.showSuccessMessage=!1,this.registerUserModel=new ex,this.registerUserForm=this.formBuilder.group({email:new tn.NI("",[tn.kI.required,tn.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),firstName:new tn.NI("",[tn.kI.required]),lastName:new tn.NI("",[tn.kI.required]),username:new tn.NI("",[tn.kI.required]),password:new tn.NI("",[tn.kI.required]),confirmPassword:new tn.NI("",[tn.kI.required])})}ngOnInit(){}register(){this.registerUserForm.valid?(this.registerUserModel={Email:this.registerUserForm.value.email,FirstName:this.registerUserForm.value.firstName,LastName:this.registerUserForm.value.lastName,UserName:this.registerUserForm.value.username,Password:this.registerUserForm.value.password,ConfirmPassword:this.registerUserForm.value.confirmPassword,ConfirmEmailUrl:window.location.origin+"/confirm"},this.showLoading=!0,this.restProvider.executeSinovadApiService(et.POST,"/users/Register",this.registerUserModel).then(e=>{console.log("Registrado exitosamente"),this.showLoading=!1,this.showSuccessMessage=!0},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.registerUserForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(tn.qu),t.Y36(Kn.F0),t.Y36(Oi),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-register-user"]],decls:11,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-form-backdrop"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3",3,"ngClass"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","text","formControlName","firstName"],["type","text","formControlName","lastName"],["type","text","formControlName","username"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"mb-3"],["type","submit",1,"register",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,Ce,49,35,"div",6),t.YNc(9,Ve,10,6,"div",7),t.qZA()(),t._UZ(10,"app-custom-spinner",8)),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",!o.showSuccessMessage),t.xp6(1),t.Q6J("ngIf",o.showSuccessMessage),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,tn._Y,tn.Fj,tn.JJ,tn.JL,pa,tn.sg,tn.u,g.Ov,Wr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-form-backdrop[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}button.register[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();class Pt{}class Ht{}var _n=S(6878),Mn=S(9058),Yn=S(534),ii=S(7879),pi=S(4537),Ci=S(3093),Jn=S(940),Ji=S(1374),Cr=S(4674);function Ar(r,n){return(0,Cr.m)(n)?(0,f.w)(()=>r,n):(0,f.w)(()=>r)}var ds=S(5137),td=S(8186),Ud=S(6304);S(3182);const nx=new Map,II={activated:!1,tokenObservers:[]},a1={initialized:!1,enabled:!1};function Wo(r){return nx.get(r)||Object.assign({},II)}function Bb(){return a1}const ix="https://content-firebaseappcheck.googleapis.com/v1",u1="exchangeDebugToken",wI={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class h1{constructor(n,e,i,o,d){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=o,o>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var e=this;return(0,ki.Z)(function*(){e.stop();try{e.pending=new Mn.BH,yield function m1(r){return new Promise(n=>{setTimeout(n,r)})}(e.getNextRun(n)),e.pending.resolve(),yield e.pending.promise,e.pending=new Mn.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ea=new Mn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function rx(r){if(!Wo(r).activated)throw ea.create("use-before-activation",{appName:r.name})}function Vb(r,n){return sx.apply(this,arguments)}function sx(){return sx=(0,ki.Z)(function*({url:r,body:n},e){const i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const pe=yield o.getHeartbeatsHeader();pe&&(i["X-Firebase-Client"]=pe)}const d={method:"POST",body:JSON.stringify(n),headers:i};let m,v;try{m=yield fetch(r,d)}catch(pe){throw ea.create("fetch-network-error",{originalErrorMessage:pe?.message})}if(200!==m.status)throw ea.create("fetch-status-error",{httpStatus:m.status});try{v=yield m.json()}catch(pe){throw ea.create("fetch-parse-error",{originalErrorMessage:pe?.message})}const I=v.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw ea.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const j=1e3*Number(I[1]),ne=Date.now();return{token:v.token,expireTimeMillis:ne+j,issuedAtTimeMillis:ne}}),sx.apply(this,arguments)}function OI(r,n){const{projectId:e,appId:i,apiKey:o}=r.options;return{url:`${ix}/projects/${e}/apps/${i}:${u1}?key=${o}`,body:{debug_token:n}}}const v1="firebase-app-check-database",y1=1,o_="firebase-app-check-store";let Gb=null;function ax(){return ax=(0,ki.Z)(function*(r,n){const i=(yield function RI(){return Gb||(Gb=new Promise((r,n)=>{try{const e=indexedDB.open(v1,y1);e.onsuccess=i=>{r(i.target.result)},e.onerror=i=>{var o;n(ea.create("storage-open",{originalErrorMessage:null===(o=i.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(o_,{keyPath:"compositeKey"})}}catch(e){n(ea.create("storage-open",{originalErrorMessage:e?.message}))}}),Gb)}()).transaction(o_,"readwrite"),d=i.objectStore(o_).put({compositeKey:r,value:n});return new Promise((m,v)=>{d.onsuccess=I=>{m()},i.onerror=I=>{var j;v(ea.create("storage-set",{originalErrorMessage:null===(j=I.target.error)||void 0===j?void 0:j.message}))}})}),ax.apply(this,arguments)}const s_=new ii.Yd("@firebase/app-check");function dx(r,n){return(0,Mn.hl)()?function E1(r,n){return function NI(r,n){return ax.apply(this,arguments)}(function kI(r){return`${r.options.appId}-${r.name}`}(r),n)}(r,n).catch(e=>{s_.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function fx(){return Bb().enabled}function hx(){return mx.apply(this,arguments)}function mx(){return(mx=(0,ki.Z)(function*(){const r=Bb();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const M1={error:"UNKNOWN_ERROR"};function A1(r){return Mn.US.encodeString(JSON.stringify(r),!1)}function Hb(r){return px.apply(this,arguments)}function px(){return px=(0,ki.Z)(function*(r,n=!1){const e=r.app;rx(e);const i=Wo(e);let d,o=i.token;if(o&&!Tm(o)&&(i.token=void 0,o=void 0),!o){const I=yield i.cachedTokenPromise;I&&(Tm(I)?o=I:yield dx(e,void 0))}if(!n&&o&&Tm(o))return{token:o.token};let v,m=!1;if(fx()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Vb(OI(e,yield hx()),r.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),m=!0);const I=yield i.exchangeTokenPromise;return yield dx(e,I),i.token=I,{token:I.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),m=!0),o=yield Wo(e).exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?s_.warn(I.message):s_.error(I),d=I}return o?d?v=Tm(o)?{token:o.token,internalError:d}:jI(d):(v={token:o.token},i.token=o,yield dx(e,o)):v=jI(d),m&&function UI(r,n){const e=Wo(r).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=n.error?i.error(n.error):i.next(n)}catch{}}(e,v),v}),px.apply(this,arguments)}function gx(){return gx=(0,ki.Z)(function*(r){const n=r.app;rx(n);const{provider:e}=Wo(n);if(fx()){const i=yield hx(),{token:o}=yield Vb(OI(n,i),r.heartbeatServiceProvider);return{token:o}}{const{token:i}=yield e.getToken();return{token:i}}}),gx.apply(this,arguments)}function vx(r,n){const e=Wo(r),i=e.tokenObservers.filter(o=>o.next!==n);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function BI(r){const{app:n}=r,e=Wo(n);let i=e.tokenRefresher;i||(i=function I1(r){const{app:n}=r;return new h1((0,ki.Z)(function*(){let i;if(i=Wo(n).token?yield Hb(r,!0):yield Hb(r),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Wo(n);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},wI.RETRIAL_MIN_WAIT,wI.RETRIAL_MAX_WAIT)}(r),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Tm(r){return r.expireTimeMillis-Date.now()>0}function jI(r){return{token:A1(M1),error:r}}class w1{constructor(n,e){this.app=n,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:n}=Wo(this.app);for(const e of n)vx(this.app,e.next);return Promise.resolve()}}const ZI="app-check-internal";!function K1(){(0,Yn._registerComponent)(new pi.wA("app-check",r=>function O1(r,n){return new w1(r,n)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,n,e)=>{r.getProvider(ZI).initialize()})),(0,Yn._registerComponent)(new pi.wA(ZI,r=>function P1(r){return{getToken:n=>Hb(r,n),getLimitedUseToken:()=>function FI(r){return gx.apply(this,arguments)}(r),addTokenListener:n=>function _x(r,n,e,i){const{app:o}=r,d=Wo(o);if(d.tokenObservers=[...d.tokenObservers,{next:e,error:i,type:n}],d.token&&Tm(d.token)){const v=d.token;Promise.resolve().then(()=>{e({token:v.token}),BI(r)}).catch(()=>{})}d.cachedTokenPromise.then(()=>BI(r))}(r,"INTERNAL",n),removeTokenListener:n=>vx(r.app,n)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Yn.registerVersion)("@firebase/app-check","0.8.0")}();class qI{constructor(){return(0,td.vb)("app-check")}}typeof window<"u"&&window;var $1=S(7142);const J1=new t.OlP("angularfire2.auth.use-emulator"),Q1=new t.OlP("angularfire2.auth.settings"),X1=new t.OlP("angularfire2.auth.tenant-id"),eO=new t.OlP("angularfire2.auth.langugage-code"),tO=new t.OlP("angularfire2.auth.use-device-language"),nO=new t.OlP("angularfire.auth.persistence");let Sx=(()=>{class r{constructor(e,i,o,d,m,v,I,j,ne,pe,ze,tt){const mt=new on.x,Ct=(0,b.of)(void 0).pipe((0,Ci.Q)(m.outsideAngular),(0,f.w)(()=>d.runOutsideAngular(()=>S.e(365).then(S.bind(S,6365)))),(0,D.U)(()=>(0,Ud.on)(e,d,i)),(0,D.U)(Ot=>((r,n,e,i,o,d,m,v)=>(0,Ud.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const I=n.runOutsideAngular(()=>r.auth());if(e&&I.useEmulator(...e),i&&(I.tenantId=i),I.languageCode=o,d&&I.useDeviceLanguage(),m)for(const[j,ne]of Object.entries(m))I.settings[j]=ne;return v&&I.setPersistence(v),I},[e,i,o,d,m,v]))(Ot,d,v,j,ne,pe,I,ze)),(0,Jn.d)({bufferSize:1,refCount:!1}));if((0,g.PM)(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,b.of)(null);else{Ct.pipe((0,Ji.P)()).subscribe();const Yt=Ct.pipe((0,f.w)(En=>En.getRedirectResult().then(Dn=>Dn,()=>null)),td.iC,(0,Jn.d)({bufferSize:1,refCount:!1})),fn=Ct.pipe((0,f.w)(En=>new E.y(Dn=>({unsubscribe:d.runOutsideAngular(()=>En.onAuthStateChanged(Vn=>Dn.next(Vn),Vn=>Dn.error(Vn),()=>Dn.complete()))})))),sn=Ct.pipe((0,f.w)(En=>new E.y(Dn=>({unsubscribe:d.runOutsideAngular(()=>En.onIdTokenChanged(Vn=>Dn.next(Vn),Vn=>Dn.error(Vn),()=>Dn.complete()))}))));this.authState=Yt.pipe(Ar(fn),(0,ds.R)(m.outsideAngular),(0,Ci.Q)(m.insideAngular)),this.user=Yt.pipe(Ar(sn),(0,ds.R)(m.outsideAngular),(0,Ci.Q)(m.insideAngular)),this.idToken=this.user.pipe((0,f.w)(En=>En?(0,w.D)(En.getIdToken()):(0,b.of)(null))),this.idTokenResult=this.user.pipe((0,f.w)(En=>En?(0,w.D)(En.getIdTokenResult()):(0,b.of)(null))),this.credential=(0,Sp.T)(Yt,mt,this.authState.pipe((0,L.h)(En=>!En))).pipe((0,D.U)(En=>En?.user?En:null),(0,ds.R)(m.outsideAngular),(0,Ci.Q)(m.insideAngular))}return(0,Ud.pX)(this,Ct,d,{spy:{apply:(Ot,Yt,fn)=>{(Ot.startsWith("signIn")||Ot.startsWith("createUser"))&&fn.then(sn=>mt.next(sn))}}})}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(Ud.Dh),t.LFG(Ud.xv,8),t.LFG(t.Lbi),t.LFG(t.R0b),t.LFG(td.HU),t.LFG(J1,8),t.LFG(Q1,8),t.LFG(X1,8),t.LFG(eO,8),t.LFG(tO,8),t.LFG(nO,8),t.LFG(qI,8))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),rO=(()=>{class r{constructor(){$1.Z.registerVersion("angularfire",td.q4.full,"auth-compat")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[Sx]}),r})(),oO=(()=>{class r{constructor(e,i){this.restProvider=e,this.afAuth=i}validateUser(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.POST,"/authentication/ValidateUser",{UserName:e}).then(d=>{i(d)},d=>{o(d)})})}authenticateByLinkedAccount(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.POST,"/authentication/AuthenticateLinkedAccount",e).then(d=>{i(d)},d=>{o(d)})})}authenticateUser(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.POST,"/authentication/AuthenticateUser",e).then(d=>{i(d)},d=>{o(d)})})}authenticatePasswordAndConfirmLinkAccountToUser(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.POST,"/authentication/AuthenticatePasswordAndConfirmLinkAccountToUser",e).then(d=>{i(d)},d=>{o(d)})})}authenticateWithGoogle(){return this.authenticate(new _n.V)}authenticateWithFacebook(){return this.authenticate(new _n.U)}authenticateWithApple(){}authenticate(e){return new Promise((i,o)=>this.afAuth.signInWithPopup(e).then(d=>{i(d)}).catch(d=>{o(d)}))}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Oi),t.LFG(Sx))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function sO(r,n){if(1&r&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.errorMessage," ")}}function aO(r,n){1&r&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa el usuario correctamente "),t.qZA())}function lO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.validateUser())}),t.YNc(1,sO,2,1,"span",11),t.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),t._uU(5,"Usuario"),t.qZA(),t._UZ(6,"input",14),t.YNc(7,aO,3,0,"mat-error",15),t.qZA()(),t.TgZ(8,"div",12)(9,"button",16),t._uU(10,"Siguiente"),t.qZA()()(),t.TgZ(11,"div",12)(12,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClose())}),t._uU(13,"Cancelar"),t.qZA()(),t.TgZ(14,"div",12)(15,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.loginWithGoogle())}),t._UZ(16,"img",2),t.ALo(17,"async"),t.ALo(18,"formatDataPipe"),t._uU(19,"Continuar con Google"),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.userFormGroup),t.xp6(1),t.Q6J("ngIf",e.errorMessage),t.xp6(5),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.userFormGroup.controls.username.hasError("required")),t.xp6(2),t.Q6J("disabled",e.showLoading||!e.userFormGroup.valid),t.xp6(7),t.Q6J("src",t.lcZ(17,6,t.xi3(18,8,"google.svg","GetIconURLByKey")),t.LSH)}}function cO(r,n){if(1&r&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.errorMessage," ")}}function dO(r,n){1&r&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa la contrase\xf1a correctamente "),t.qZA())}const JI=function(r){return{disable:r}};function uO(r,n){if(1&r){const e=t.EpF();t.YNc(0,cO,2,1,"span",11),t.TgZ(1,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.authenticateUser())}),t.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),t._uU(5,"Contrase\xf1a"),t.qZA(),t._UZ(6,"input",21),t.YNc(7,dO,3,0,"mat-error",15),t.qZA()(),t.TgZ(8,"div",12)(9,"button",16),t._uU(10,"Iniciar sesi\xf3n"),t.qZA()()(),t.TgZ(11,"div",12)(12,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClose())}),t._uU(13,"Cancelar"),t.qZA()(),t.TgZ(14,"div",12)(15,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showRecoverPasswordPage())}),t._uU(16,"Olvidaste tu contrase\xf1a?"),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngIf",e.errorMessage),t.xp6(1),t.Q6J("formGroup",e.passwordFormGroup),t.xp6(5),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.passwordFormGroup.controls.password.hasError("required")),t.xp6(2),t.Q6J("disabled",e.showLoading||!e.passwordFormGroup.valid),t.xp6(6),t.Q6J("ngClass",t.VKq(6,JI,e.showLoading))}}function fO(r,n){if(1&r&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.errorMessage," ")}}function hO(r,n){1&r&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa la contrase\xf1a correctamente "),t.qZA())}function mO(r,n){if(1&r){const e=t.EpF();t.YNc(0,fO,2,1,"span",11),t.TgZ(1,"div",23)(2,"div",24),t._uU(3," Encontramos una cuenta de Sinovad Stream para "),t.TgZ(4,"div",25),t._uU(5),t.qZA()(),t._uU(6," Verifique su cuenta para continuar "),t.qZA(),t.TgZ(7,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.ConfirmLinkAccountToUser())}),t.TgZ(8,"div",12)(9,"mat-form-field",13)(10,"mat-label"),t._uU(11,"Contrase\xf1a"),t.qZA(),t._UZ(12,"input",21),t.YNc(13,hO,3,0,"mat-error",15),t.qZA()(),t.TgZ(14,"div",12)(15,"button",16),t._uU(16,"Confirmar"),t.qZA()()(),t.TgZ(17,"div",12)(18,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClose())}),t._uU(19,"Cancelar"),t.qZA()(),t.TgZ(20,"div",12)(21,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showRecoverPasswordPage())}),t._uU(22,"Olvidaste tu contrase\xf1a?"),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngIf",e.errorMessage),t.xp6(5),t.hij(" ",e.confirmLinkAccountData.Email," "),t.xp6(2),t.Q6J("formGroup",e.passwordFormGroup),t.xp6(5),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.passwordFormGroup.controls.password.hasError("required")),t.xp6(2),t.Q6J("disabled",e.showLoading||!e.passwordFormGroup.valid),t.xp6(6),t.Q6J("ngClass",t.VKq(7,JI,e.showLoading))}}let QI=(()=>{class r{constructor(e,i,o,d,m,v,I){this.userService=e,this.authenticationService=i,this.menuService=o,this.signalIRHubService=d,this.formBuilder=m,this.router=v,this.sharedService=I,this._window=window,this.showLoading=!1,this.user=new Pt,this.userFormGroup=this.formBuilder.group({username:new tn.NI("",[tn.kI.required])}),this.passwordFormGroup=this.formBuilder.group({password:new tn.NI("",[tn.kI.required])}),this.matcher=new Tc,this.showPasswordForm=!1,this.showConfirmLinkedAccountForm=!1}validateUser(){this.userFormGroup.valid?(this.showLoading=!0,this.user.UserName=this.userFormGroup.value.username,this.authenticationService.validateUser(this.user.UserName).then(e=>{this.showPasswordForm=!0,this.showLoading=!1,this.errorMessage=void 0},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.userFormGroup.markAllAsTouched())}authenticateUser(){this.passwordFormGroup.valid?(this.user.Password=this.passwordFormGroup.value.password,this.showLoading=!0,this.authenticationService.authenticateUser(this.user).then(e=>{this.setUserSessionDataAfterAuthenticate(e.Data)},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.passwordFormGroup.markAllAsTouched())}loginWithGoogle(){this.showLoading=!0,this.errorMessage=void 0,this.authenticationService.authenticateWithGoogle().then(e=>{var i=new Ht;i.AccessToken=e.credential.accessToken,i.LinkedAccountProviderCatalogId=vn.LinkedAccountProvider,i.LinkedAccountProviderCatalogDetailId=wn.Google,this.authenticationService.authenticateByLinkedAccount(i).then(o=>{var d=o.Data;d.ConfirmLinkAccountData?(this.showLoading=!1,this.confirmLinkAccountData=d.ConfirmLinkAccountData,this.showConfirmLinkedAccountForm=!0):this.setUserSessionDataAfterAuthenticate(d)},o=>{this.showLoading=!1})},e=>{console.error(e),this.showLoading=!1})}ConfirmLinkAccountToUser(){this.errorMessage=void 0,this.passwordFormGroup.valid?(this.confirmLinkAccountData.Password=this.passwordFormGroup.value.password,this.showLoading=!0,this.authenticationService.authenticatePasswordAndConfirmLinkAccountToUser(this.confirmLinkAccountData).then(e=>{this.setUserSessionDataAfterAuthenticate(e.Data)},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.passwordFormGroup.markAllAsTouched())}setUserSessionDataAfterAuthenticate(e){this.sharedService.apiToken=e.ApiToken,localStorage.setItem("apiToken",this.sharedService.apiToken);let i=e.UserData;this.sharedService.userData=i.User,this.sharedService.mediaServers=i.MediaServers,this.sharedService.listProfiles=i.Profiles,this.sharedService.linkedAccounts=i.LinkedAccounts,this.sharedService.currentProfile=i.Profiles[0],this.sharedService.showSplashScreen=!0,this.userService.calledGetUserData=!0,this.menuService.getManageMenu(),this.signalIRHubService.openConnection(),this.router.navigate(["select-profile"],{skipLocationChange:!1})}loginWithFacebook(){this.showLoading=!0,this.authenticationService.authenticateWithFacebook().then(e=>{console.log(e),this.showLoading=!1},e=>{console.error(e),this.showLoading=!1})}loginWithApple(){}onClose(){this.router.navigateByUrl("/landing")}showRecoverPasswordPage(){this.router.navigateByUrl("/recover")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(lo),t.Y36(oO),t.Y36(fr),t.Y36(Rr),t.Y36(tn.qu),t.Y36(Kn.F0),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-login"]],decls:18,vars:16,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"login-container"],[1,"login-logo-container"],[1,"login-content"],[1,"login-form-container"],[1,"login-title-container"],[3,"ngIf"],[3,"showLoading"],["autocomplete","off",1,"login-form-content",3,"formGroup","ngSubmit"],["class","form-error-message",4,"ngIf"],[1,"mb-3"],[1,"login-form-field"],["id","title","matInput","","formControlName","username",3,"errorStateMatcher"],[4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"],[1,"btn","google",3,"click"],[1,"form-error-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],["id","title","matInput","","formControlName","password","type","password",3,"errorStateMatcher"],[1,"btn","btn-secondary",3,"ngClass","click"],[1,"confirm-link-account-title"],[1,"confirm-link-account-message"],[1,"confirm-link-account-message-email"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4),t._UZ(7,"img",2),t.ALo(8,"async"),t.ALo(9,"formatDataPipe"),t.qZA(),t.TgZ(10,"div",5)(11,"div",6)(12,"div",7),t._uU(13," Inicia sesi\xf3n "),t.qZA(),t.YNc(14,lO,20,11,"ng-template",8),t.YNc(15,uO,17,8,"ng-template",8),t.YNc(16,mO,23,9,"ng-template",8),t.qZA()()(),t._UZ(17,"app-custom-spinner",9)),2&i&&(t.xp6(2),t.Q6J("src",t.lcZ(3,6,t.xi3(4,8,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("src",t.lcZ(8,11,t.xi3(9,13,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngIf",!o.showPasswordForm&&!o.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("ngIf",o.showPasswordForm&&!o.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("ngIf",o.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,tn._Y,tn.Fj,tn.JJ,tn.JL,pa,Yo.Nt,ji.KE,ji.hX,ji.TO,tn.sg,tn.u,g.Ov,Wr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.form-error-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:15px;justify-content:center;overflow:hidden;padding:20px 0;text-align:center;width:100%;border-bottom-width:2px;color:#f06464}.confirm-link-account-title[_ngcontent-%COMP%]{padding:30px 0;color:#282a2d;display:flex;flex-direction:column;font-size:13px}.confirm-link-account-message[_ngcontent-%COMP%]{color:#51595e;font-family:plexeina-bold,Helvetica,sans-serif;font-size:15px;margin-bottom:30px;text-align:center}.confirm-link-account-message-email[_ngcontent-%COMP%]{color:#007bff;font-family:plexeina-bold,Helvetica,sans-serif;font-size:15px;text-align:center}.login-container[_ngcontent-%COMP%]{text-align:-webkit-center;display:block!important;padding:100px 0;width:100%;height:100%;color:#fff;position:absolute}.login-logo-container[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:700;margin-bottom:20px;display:flex;align-items:center;justify-content:center;font-size:20px;max-width:300px}.login-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.login-title-container[_ngcontent-%COMP%]{margin-bottom:10px;font-size:20px}.login-content[_ngcontent-%COMP%]{display:block;max-width:500px}.login-form-container[_ngcontent-%COMP%]{padding:40px 20px;border-radius:5px;background:white;color:#000;justify-content:center;align-items:center;margin-bottom:300px;height:100%}.login-form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-invalid-input-message[_ngcontent-%COMP%]{color:#d93025;margin-top:5px;font-size:13px}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;opacity:.9}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-right:10px}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.65}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.login-form-container[_ngcontent-%COMP%]   button.enter[_ngcontent-%COMP%]{background-color:#007bff}.login-form-container[_ngcontent-%COMP%]   button.recover[_ngcontent-%COMP%]{background-color:#2e303d}.login-form-container[_ngcontent-%COMP%]   button.google[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:2px solid rgba(0,0,0,.3)}.login-form-container[_ngcontent-%COMP%]   button.google[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#51595e}.login-form-container[_ngcontent-%COMP%]   button.facebook[_ngcontent-%COMP%]{background-color:#4267b2;color:#fff}.login-form-container[_ngcontent-%COMP%]   button.apple[_ngcontent-%COMP%]{background-color:#000;color:#fff}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]{display:block;color:#000}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-radius:5px;padding:10px;color:#000;outline:rgba(0,0,0,.3)!important;background:white;border:none;font-size:14px;opacity:.8;height:35px;border:2px solid rgba(0,0,0,.3)}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#000}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{opacity:1;border:2px solid white}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{opacity:1;border:2px solid white}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{opacity:1;border:2px solid white}.sinovad-form-error-message-container[_ngcontent-%COMP%]{color:#f44336de!important;padding-bottom:10px}.login-form-content[_ngcontent-%COMP%]{max-width:300px;width:100%}.mb-3[_ngcontent-%COMP%]{text-align:left;max-width:300px}"]})}return r})();class pO{}function gO(r,n){if(1&r&&(t.TgZ(0,"label",19),t._UZ(1,"i",20),t._uU(2),t.qZA()),2&r){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.sharedService.hasRequireErrorFormControl(e.recoverPasswordForm,"email")?"Confirma que hayas agregado el email correctamente":e.sharedService.hasErrorPatternFormControl(e.recoverPasswordForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}const _O=function(r){return{disable:r}};function vO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.SendRecoverPasswordEmail())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Olvido su contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,gO,3,1,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"button",17),t._uU(16,"Recuperar contrase\xf1a"),t.qZA()(),t.TgZ(17,"div",18),t._uU(18),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.recoverPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,5,t.xi3(5,7,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.recoverPasswordForm,"email")),t.xp6(2),t.Q6J("ngClass",t.VKq(10,_O,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function yO(r,n){1&r&&(t.TgZ(0,"div",21)(1,"div",22)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Confirmaci\xf3n de olvido de contrase\xf1a "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Por favor verifique su email para recuperar su contrase\xf1a"),t.qZA()()()),2&r&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))}let XI=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.router=i,this.restProvider=o,this.sharedService=d,this._window=window,this.showLoading=!1,this.recoverPasswordModel=new pO,this.sendedConfirmationEmail=!1,this.recoverPasswordForm=this.formBuilder.group({email:new tn.NI("",[tn.kI.required,tn.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")])})}SendRecoverPasswordEmail(){this.recoverPasswordForm.valid?(this.recoverPasswordModel={Email:this.recoverPasswordForm.value.email,ResetPasswordUrl:window.location.origin+"/reset"},this.showLoading=!0,this.restProvider.executeSinovadApiService(et.POST,"/users/RecoverPassword",this.recoverPasswordModel).then(e=>{this.sendedConfirmationEmail=!0,this.showLoading=!1},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.recoverPasswordForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(tn.qu),t.Y36(Kn.F0),t.Y36(Oi),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-recover-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","submit",1,"recover",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,vO,19,12,"div",5),t.YNc(8,yO,10,6,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",!o.sendedConfirmationEmail),t.xp6(1),t.Q6J("ngIf",o.sendedConfirmationEmail),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,tn._Y,tn.Fj,tn.JJ,tn.JL,pa,tn.sg,tn.u,g.Ov,Wr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.recover[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();class bO{}class EO{}function TO(r,n){1&r&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function SO(r,n){1&r&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const CO=function(r){return{disable:r}};function DO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirm())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Cambiar contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Contrase\xf1a "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,TO,3,0,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"label",13),t._uU(16," Confirmaci\xf3n de contrase\xf1a "),t.qZA(),t.TgZ(17,"div",14),t._UZ(18,"input",17),t.YNc(19,SO,3,0,"label",16),t.qZA()(),t.TgZ(20,"div",12)(21,"button",18),t._uU(22,"Confirmar"),t.qZA()(),t.TgZ(23,"div",19),t._uU(24),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.resetPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,6,t.xi3(5,8,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.resetPasswordForm,"password")&&e.sharedService.hasRequireErrorFormControl(e.resetPasswordForm,"password")),t.xp6(6),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.resetPasswordForm,"confirmPassword")&&e.sharedService.hasRequireErrorFormControl(e.resetPasswordForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(11,CO,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function xO(r,n){1&r&&(t.TgZ(0,"div",11),t._uU(1," Cambio de contrase\xf1a "),t.qZA(),t.TgZ(2,"h2"),t._uU(3,"Se cambi\xf3 la contrase\xf1a satisfactoriamente"),t.qZA())}function MO(r,n){1&r&&(t.TgZ(0,"div",11),t._uU(1," Validaci\xf3n de Token "),t.qZA(),t.TgZ(2,"h2",25),t._uU(3,"Token inv\xe1lido"),t.qZA())}function AO(r,n){if(1&r&&(t.TgZ(0,"div",22)(1,"div",23)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.YNc(6,xO,4,0,"ng-template",24),t.YNc(7,MO,4,0,"ng-template",24),t.qZA()()),2&r){const e=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngIf",e.showResetPasswordSuccessMessage),t.xp6(1),t.Q6J("ngIf",e.showInvalidTokenMessage)}}let ew=(()=>{class r{constructor(e,i,o,d,m){this.formBuilder=e,this.router=i,this.activeRoute=o,this.restProvider=d,this.sharedService=m,this._window=window,this.showLoading=!1,this.resetPasswordModel=new bO,this.showResetPasswordForm=!1,this.showInvalidTokenMessage=!1,this.showResetPasswordSuccessMessage=!1,this.resetPasswordForm=this.formBuilder.group({password:new tn.NI("",[tn.kI.required]),confirmPassword:new tn.NI("",[tn.kI.required])})}ngOnInit(){let e=this.activeRoute.snapshot.params.base64Data;if(null!=e)try{let d=Ns().decode(e);var i=JSON.parse(d);if(this.resetPasswordToken=i.ResetPasswordToken,this.userId=i.UserId,null!=this.resetPasswordToken&&null!=this.userId){this.showLoading=!0;var o=new EO;o.ResetPasswordToken=this.resetPasswordToken,o.UserId=this.userId,this.restProvider.executeSinovadApiService(et.POST,"/users/ValidateResetPasswordToken",o).then(m=>{this.showResetPasswordForm=!0,this.showLoading=!1},m=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=m,console.error(m)})}else this.showInvalidTokenMessage=!0}catch{this.showInvalidTokenMessage=!0}else this.router.navigate(["home"],{skipLocationChange:!1})}confirm(){this.resetPasswordForm.valid?(this.showLoading=!0,this.resetPasswordModel={ResetPasswordToken:this.resetPasswordToken,UserId:this.userId,Password:this.resetPasswordForm.value.password,ConfirmPassword:this.resetPasswordForm.value.confirmPassword},this.restProvider.executeSinovadApiService(et.POST,"/users/ResetPassword",this.resetPasswordModel).then(e=>{this.showResetPasswordSuccessMessage=!0,this.showResetPasswordForm=!1,this.showLoading=!1},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.resetPasswordForm.markAllAsTouched())}onClickCloseButton(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(tn.qu),t.Y36(Kn.F0),t.Y36(Kn.gz),t.Y36(Oi),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-reset-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","password","formControlName","password"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","password","formControlName","confirmPassword"],["type","submit",1,"confirm",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[3,"ngIf"],[1,"error"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClickCloseButton()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,DO,25,13,"div",5),t.YNc(8,AO,8,8,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",o.showResetPasswordForm),t.xp6(1),t.Q6J("ngIf",!o.showResetPasswordForm&&(o.showInvalidTokenMessage||o.showResetPasswordSuccessMessage)),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,tn._Y,tn.Fj,tn.JJ,tn.JL,pa,tn.sg,tn.u,g.Ov,Wr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.confirm[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();class IO{}function wO(r,n){if(1&r&&(t.TgZ(0,"h2",9),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.errorMessage)}}function OO(r,n){1&r&&(t.TgZ(0,"h2"),t._uU(1,"Su correo ha sido confirmado, ya puede iniciar sesi\xf3n"),t.qZA())}let tw=(()=>{class r{constructor(e,i,o){this.router=e,this.activeRoute=i,this.restProvider=o,this._window=window,this.showLoading=!1,this.showInvalidTokenMessage=!1,this.showSuccessMessage=!1}ngOnInit(){let e=this.activeRoute.snapshot.params.base64Data;if(null!=e)try{let d=Ns().decode(e);var i=JSON.parse(d);if(i.ConfirmEmailToken){this.showLoading=!0;var o=new IO;o.ConfirmEmailToken=i.ConfirmEmailToken,o.UserId=i.UserId,this.restProvider.executeSinovadApiService(et.POST,"/users/ValidateConfirmEmailToken",o).then(m=>{this.showLoading=!1,this.showSuccessMessage=!0},m=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=m,console.error(m)})}else this.router.navigate(["home"],{skipLocationChange:!1})}catch{this.router.navigate(["home"],{skipLocationChange:!1})}else this.router.navigate(["home"],{skipLocationChange:!1})}onClose(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Kn.F0),t.Y36(Kn.gz),t.Y36(Oi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-confirm-email"]],decls:16,vars:14,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[3,"ngIf"],[1,"error"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),t._UZ(9,"img",2),t.ALo(10,"async"),t.ALo(11,"formatDataPipe"),t.qZA(),t.TgZ(12,"div",7),t._uU(13," Confirmaci\xf3n de Email "),t.qZA(),t.YNc(14,wO,2,1,"ng-template",8),t.YNc(15,OO,2,0,"ng-template",8),t.qZA()()()),2&i&&(t.xp6(2),t.Q6J("src",t.lcZ(3,4,t.xi3(4,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("src",t.lcZ(10,9,t.xi3(11,11,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",o.showInvalidTokenMessage),t.xp6(1),t.Q6J("ngIf",o.showSuccessMessage))},dependencies:[g.O5,g.Ov,Wr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}"]})}return r})(),nw=(()=>{class r{constructor(e,i){this.router=e,this.sharedService=i}ngOnInit(){this.sharedService.pageNotFoundShowing=!0}goInitialPage(){this.router.navigateByUrl(null!=this.sharedService.apiToken?"/home":"/landing").then(i=>{this.sharedService.pageNotFoundShowing=!1},i=>{console.error(i)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Kn.F0),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-not-found"]],decls:12,vars:6,consts:[[1,"d-flex","align-items-center","justify-content-center","vh-100"],[1,"sinovad-page-not-found-content","text-center"],[1,"sinovad-logo-container"],[3,"src"],[1,"fs-3"],[1,"lead"],[1,"btn","btn-primary",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"p",4),t._uU(7,"No encontramos la p\xe1gina que esta buscando"),t.qZA(),t.TgZ(8,"p",5),t._uU(9," Has click en el siguiente boton para ir a la p\xe1gina de inicio de Sinovad Stream "),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return o.goInitialPage()}),t._uU(11,"Inicio"),t.qZA()()()),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))},dependencies:[g.Ov,Wr],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black;color:#fff}.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:100px;padding:10px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:350px}@media only screen and (max-width: 767px){.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:unset}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}}"]})}return r})();class PO{}let iw=(()=>{class r{constructor(e){this.restProvider=e}getTvSerie(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.GET,"/tvseries/GetAsync/"+e).then(d=>{i(d)},d=>{console.error(d),o(d)})})}getItems(e,i,o,d,m,v){return new Promise((I,j)=>{let ne=Nt();this.lastCallGuid=ne;var pe="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+v;this.restProvider.executeSinovadApiService(et.GET,"/tvseries/GetAllWithPaginationAsync"+pe).then(tt=>{this.lastCallGuid==ne&&I(tt)},tt=>{console.error(tt),j(tt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?et.PUT:et.POST,e.Id>0?"/tvseries/Update":"/tvseries/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.DELETE,"/tvseries/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(et.DELETE,"/tvseries/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Oi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function RO(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function NO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,RO,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Primera fecha de emisi\xf3n"),t.qZA(),t._UZ(15,"input",9),t.TgZ(16,"mat-hint"),t._uU(17,"MM/DD/YYYY"),t.qZA(),t._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),t.qZA(),t.TgZ(21,"mat-form-field")(22,"mat-label"),t._uU(23,"\xdaltima fecha de emisi\xf3n"),t.qZA(),t._UZ(24,"input",12),t.TgZ(25,"mat-hint"),t._uU(26,"MM/DD/YYYY"),t.qZA(),t._UZ(27,"mat-datepicker-toggle",10)(28,"mat-datepicker",null,11),t.qZA(),t.TgZ(30,"mat-form-field")(31,"mat-label"),t._uU(32,"G\xe9neros"),t.qZA(),t.TgZ(33,"textarea",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showGenresSelectionModal())}),t.qZA()(),t.TgZ(34,"mat-form-field")(35,"mat-label"),t._uU(36,"Directores"),t.qZA(),t._UZ(37,"textarea",14),t.qZA(),t.TgZ(38,"mat-form-field")(39,"mat-label"),t._uU(40,"Actores"),t.qZA(),t._UZ(41,"textarea",15),t.qZA(),t.TgZ(42,"mat-form-field")(43,"mat-label"),t._uU(44,"Resumen"),t.qZA(),t._UZ(45,"textarea",16),t.qZA(),t.TgZ(46,"mat-form-field")(47,"mat-label"),t._uU(48,"Im\xe1gen"),t.qZA(),t._UZ(49,"textarea",17),t.qZA()(),t.TgZ(50,"div",18)(51,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(52,"Close"),t.qZA(),t.TgZ(53,"button",20),t._uU(54,"Guardar"),t.qZA()()(),t._UZ(55,"app-custom-spinner",21)}if(2&r){const e=t.MAs(20),i=t.oxw();t.Q6J("formGroup",i.tvserieFormGroup),t.xp6(3),t.Oqu(i.tvserie.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",i.matcher),t.xp6(1),t.Q6J("ngIf",i.tvserieFormGroup.controls.name.hasError("required")),t.xp6(4),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("readonly",!0),t.xp6(20),t.Q6J("disabled",i.showLoading||!i.tvserieFormGroup.valid),t.xp6(2),t.Q6J("showLoading",i.showLoading)}}let LO=(()=>{class r{constructor(e,i,o,d,m,v,I){this.sharedService=e,this.modalService=i,this.genreService=o,this.formBuilder=d,this.activeModal=m,this.snackbarService=v,this.tvserieService=I,this.showLoading=!1,this.matcher=new Tc}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(e=>{this.listGenres=e.Data}),this.tvserie.Id>0?this.getTvSerie():this.tvserie.ListItemGenres=[]}buildFormGroup(){this.tvserieFormGroup=this.formBuilder.group({name:new tn.NI(this.tvserie.Name,[tn.kI.required]),firstAirDate:new tn.NI(this.sharedService.formatDate(this.tvserie.FirstAirDate)),lastAirDate:new tn.NI(this.sharedService.formatDate(this.tvserie.LastAirDate)),directors:new tn.NI(this.tvserie.Directors),actors:new tn.NI(this.tvserie.Actors),overview:new tn.NI(this.tvserie.Overview),posterPath:new tn.NI(this.tvserie.PosterPath),selectedGenres:new tn.NI("")})}getTvSerie(){this.tvserieService.getTvSerie(this.tvserie.Id).then(e=>{this.tvserie=e.Data,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.tvserieFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.tvserie));e.Name=this.tvserieFormGroup.value.name,e.FirstAirDate=this.tvserieFormGroup.value.firstAirDate,e.LastAirDate=this.tvserieFormGroup.value.lastAirDate,e.Directors=this.tvserieFormGroup.value.directors,e.Actors=this.tvserieFormGroup.value.actors,e.Overview=this.tvserieFormGroup.value.overview,this.tvserieService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo la serie satisfactoriamente",Ui.Success),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.tvserieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){if(this.tvserie.ListItemGenres&&this.tvserie.ListItemGenres.length>0){var e=this.tvserie.ListItemGenres.map(i=>i.GenreName);return e.join(", ")}return""}showGenresSelectionModal(){var e=this,i=this.modalService.open(Yg,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.listAllGenres=this.listGenres,i.componentInstance.selection=new Ch.Ov(!0,this.getTvSerieGenres()),i.closed.subscribe(o=>{e.setTvSerieGenres(o)})}getTvSerieGenres(){var e=this.tvserie.ListItemGenres.map(i=>i.GenreId);return this.listGenres.filter(i=>-1!=e.indexOf(i.Id))}setTvSerieGenres(e){var i=[];e.forEach(o=>{i.push({TvSerieId:this.tvserie.Id,GenreId:o.Id,GenreName:o.Name})}),this.tvserie.ListItemGenres=i,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(fi),t.Y36(ba),t.Y36(pm),t.Y36(tn.qu),t.Y36(As),t.Y36(Lo),t.Y36(iw))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-tvserie-form"]],inputs:{tvserie:"tvserie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","firstAirDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","lastAirDate",3,"matDatepicker"],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,NO,56,11,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.tvserie&&o.tvserieFormGroup)},dependencies:[tn._Y,tn.Fj,tn.JJ,tn.JL,tn.sg,tn.u,pa,g.O5,Yo.Nt,ji.KE,ji.hX,ji.bx,ji.TO,ji.R9,Ou.Mq,Ou.hl,Ou.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();class kO{}let rw=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,i,o,d,m,v,I){return new Promise((j,ne)=>{let pe=Nt();this.lastCallGuid=pe;var ze="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+d+"&sortDirection="+m+"&searchText="+v+"&searchBy="+I;this.restProvider.executeSinovadApiService(et.GET,"/seasons/GetAllWithPaginationByTvSerieAsync/"+e+ze).then(mt=>{this.lastCallGuid==pe&&j(mt)},mt=>{console.error(mt),ne(mt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?et.PUT:et.POST,e.Id>0?"/seasons/Update":"/seasons/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.DELETE,"/seasons/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(et.DELETE,"/seasons/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Oi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function FO(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function BO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,FO,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"N\xfamero"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"Resumen"),t.qZA(),t._UZ(19,"textarea",10),t.qZA()(),t.TgZ(20,"div",11)(21,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(22,"Close"),t.qZA(),t.TgZ(23,"button",13),t._uU(24,"Guardar"),t.qZA()()(),t._UZ(25,"app-custom-spinner",14)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.seasonFormGroup),t.xp6(3),t.Oqu(e.season.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.seasonFormGroup.controls.name.hasError("required")),t.xp6(12),t.Q6J("disabled",e.showLoading||!e.seasonFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let UO=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.seasonService=d,this.showLoading=!1,this.matcher=new Tc}ngAfterViewInit(){this.seasonFormGroup=this.formBuilder.group({name:new tn.NI(this.season.Name,[tn.kI.required]),seasonNumber:new tn.NI(this.season.SeasonNumber),summary:new tn.NI(this.season.Summary)})}saveItem(){if(this.seasonFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.season));e.SeasonNumber=this.seasonFormGroup.value.seasonNumber,e.Name=this.seasonFormGroup.value.name,e.Summary=this.seasonFormGroup.value.summary,this.seasonService.saveItem(e).then(i=>{this.showLoading=!1,this.season=void 0,this.snackbarService.showSnackBar("Se guardo la temporada satisfactoriamente satisfactoriamente",Ui.Success),this.activeModal.close()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Ui.Error)})}else this.seasonFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(tn.qu),t.Y36(As),t.Y36(Lo),t.Y36(rw))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-form"]],inputs:{season:"season"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","seasonNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,BO,26,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.season&&o.seasonFormGroup)},dependencies:[tn._Y,tn.Fj,tn.wV,tn.JJ,tn.JL,tn.sg,tn.u,pa,g.O5,Yo.Nt,ji.KE,ji.hX,ji.TO],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();class ow{}let Cx=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,i,o,d,m,v,I){return new Promise((j,ne)=>{let pe=Nt();this.lastCallGuid=pe;var ze="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+d+"&sortDirection="+m+"&searchText="+v+"&searchBy="+I;this.restProvider.executeSinovadApiService(et.GET,"/episodes/GetAllWithPaginationBySeasonAsync/"+e+ze).then(mt=>{this.lastCallGuid==pe&&j(mt)},mt=>{console.error(mt),ne(mt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?et.PUT:et.POST,e.Id>0?"/episodes/Update":"/episodes/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}createList(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.POST,"/episodes/CreateList",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(et.DELETE,"/episodes/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(et.DELETE,"/episodes/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Oi))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function jO(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xcdtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function VO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xcdtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,jO,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"N\xfamero"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"Resumen"),t.qZA(),t._UZ(19,"textarea",10),t.qZA()(),t.TgZ(20,"div",11)(21,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(22,"Close"),t.qZA(),t.TgZ(23,"button",13),t._uU(24,"Guardar"),t.qZA()()(),t._UZ(25,"app-custom-spinner",14)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.episodeFormGroup),t.xp6(3),t.Oqu(e.episode.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.episodeFormGroup.controls.title.hasError("required")),t.xp6(12),t.Q6J("disabled",e.showLoading||!e.episodeFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let GO=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.episodeService=d,this.showLoading=!1,this.matcher=new Tc}ngAfterViewInit(){this.episodeFormGroup=this.formBuilder.group({title:new tn.NI(this.episode.Title,[tn.kI.required]),episodeNumber:new tn.NI(this.episode.EpisodeNumber),summary:new tn.NI(this.episode.Summary)})}saveItem(){if(this.episodeFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.episode));e.EpisodeNumber=this.episodeFormGroup.value.episodeNumber,e.Title=this.episodeFormGroup.value.title,e.Summary=this.episodeFormGroup.value.summary,this.episodeService.saveItem(e).then(i=>{this.showLoading=!1,this.episode=void 0,this.snackbarService.showSnackBar("Se guardo el episodio satisfactoriamente satisfactoriamente",Ui.Success),this.activeModal.close()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Ui.Error)})}else this.episodeFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(tn.qu),t.Y36(As),t.Y36(Lo),t.Y36(Cx))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-form"]],inputs:{episode:"episode"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","episodeNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,VO,26,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.episode&&o.episodeFormGroup)},dependencies:[tn._Y,tn.Fj,tn.wV,tn.JJ,tn.JL,tn.sg,tn.u,pa,g.O5,Yo.Nt,ji.KE,ji.hX,ji.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function HO(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," El campo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function KO(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," El campo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function YO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.save())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3,"Rango de Episodios"),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Desde"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,HO,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Hasta"),t.qZA(),t._UZ(15,"input",9),t.YNc(16,KO,4,0,"mat-error",8),t.qZA()(),t.TgZ(17,"div",10)(18,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(19,"Close"),t.qZA(),t.TgZ(20,"button",12),t._uU(21,"Guardar"),t.qZA()(),t._UZ(22,"app-custom-spinner",13),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.formGroup),t.xp6(11),t.Q6J("ngIf",e.formGroup.controls.initialEpisodeNumber.hasError("required")),t.xp6(5),t.Q6J("ngIf",e.formGroup.controls.lastEpisodeNumber.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.formGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let WO=(()=>{class r{constructor(e,i,o){this.formBuilder=e,this.episodeService=i,this.activeModal=o,this.matcher=new Tc,this.showLoading=!1}ngAfterViewInit(){this.formGroup=this.formBuilder.group({initialEpisodeNumber:new tn.NI("",[tn.kI.required]),lastEpisodeNumber:new tn.NI("",[tn.kI.required])})}save(){if(this.formGroup.valid){this.showLoading=!0;let i=[];for(let o=Number(this.formGroup.value.initialEpisodeNumber);o<=Number(this.formGroup.value.lastEpisodeNumber);o++){var e=new ow;e.EpisodeNumber=o,e.SeasonId=this.parent.Id,e.Title="Episodio "+o,i.push(e)}this.episodeService.createList(i).then(o=>{this.showLoading=!1,this.activeModal.close(!0)},o=>{this.showLoading=!1,console.error(o)})}else this.formGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(tn.qu),t.Y36(Cx),t.Y36(As))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-range-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["type","number","matInput","","formControlName","initialEpisodeNumber"],[4,"ngIf"],["type","number","matInput","","formControlName","lastEpisodeNumber"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,YO,23,5,"form",0),2&i&&t.Q6J("ngIf",o.formGroup)},dependencies:[tn._Y,tn.Fj,tn.wV,tn.JJ,tn.JL,tn.sg,tn.u,pa,g.O5,Yo.Nt,ji.KE,ji.hX,ji.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function zO(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function ZO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function $O(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function qO(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function JO(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.EpisodeNumber,"")}}function QO(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1,"T\xcdtulo"),t.qZA())}function XO(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function eP(r,n){1&r&&t._UZ(0,"th",41)}function tP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function nP(r,n){1&r&&t._UZ(0,"tr",47)}function iP(r,n){1&r&&t._UZ(0,"tr",48)}function rP(r,n){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function oP(r,n){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,rP,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const sP=function(r){return{disable:r}},aP=function(){return[5,10,25,100]};let lP=(()=>{class r extends $l{constructor(e,i,o,d,m){super(d),this.modalService=e,this.dialog=i,this.episodeService=o,this.matPaginatorIntl=d,this.snackbarService=m}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="EpisodeNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"EpisodeNumber",start:"asc",disableClear:!0}),this.searchBy="EpisodeNumber|Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new ow;e.SeasonId=this.parentItem.Id,this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(GO,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.episode=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.episodeService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new $n.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new br.vA;i.data={title:"Eliminar Episodio",message:"\xbfEsta seguro que desea eliminar el episodio "+e.Title+"?",accordMessage:"Si, eliminar el episodio '"+e.Title+"'"},this.dialog.open(Fo,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.episodeService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Ui.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Ui.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new br.vA;e.data={title:"Eliminar episodios",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Fo,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.episodeService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Ui.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Ui.Error)})}getDisplayedColumns(){return["Select","EpisodeNumber","Title","Actions"]}showEpisodeRangeModal(){var e=this,i=this.modalService.open(WO,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.parent=this.parentItem,i.closed.subscribe(o=>{e.getAllItems()})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(ba),t.Y36(br.uw),t.Y36(Cx),t.Y36(kr.ye),t.Y36(Lo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(kr.NW,5),t.Gf(Hr.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:42,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],["type","button",1,"custom-toolbar-button",3,"click"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","EpisodeNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return o.showEpisodeRangeModal()}),t._uU(12," Agregar por Rango "),t.qZA()()(),t.TgZ(13,"div",1)(14,"div",9)(15,"mat-form-field")(16,"mat-label"),t._uU(17,"Buscar"),t.qZA(),t.TgZ(18,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(20,"div",12),t.YNc(21,zO,2,0,"div",13),t.TgZ(22,"div",14)(23,"table",15),t.ynx(24,16),t.YNc(25,ZO,2,2,"th",17),t.YNc(26,$O,2,1,"td",18),t.BQk(),t.ynx(27,19),t.YNc(28,qO,2,0,"th",20),t.YNc(29,JO,2,1,"td",21),t.BQk(),t.ynx(30,22),t.YNc(31,QO,2,0,"th",23),t.YNc(32,XO,2,1,"td",24),t.BQk(),t.ynx(33,25),t.YNc(34,eP,1,0,"th",26),t.YNc(35,tP,6,0,"td",27),t.BQk(),t.YNc(36,nP,1,0,"tr",28),t.YNc(37,iP,1,0,"tr",29),t.YNc(38,oP,2,1,"tr",30),t.qZA()()()()(),t.TgZ(39,"div",1)(40,"div",9),t._UZ(41,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(3),t.hij("",o.parentItem.Name," :Episodios"),t.xp6(6),t.Q6J("ngClass",t.VKq(8,sP,!o.selection.hasValue())),t.xp6(12),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(10,aP)))},dependencies:[g.mk,g.O5,kr.NW,$n.BZ,$n.fO,$n.as,$n.w1,$n.Dz,$n.nj,$n.ge,$n.ev,$n.XQ,$n.Gk,$n.Ee,Yo.Nt,ji.KE,ji.hX,Hr.YE,Hr.nU,xc.oG,Nr.Ou,Mc.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return r})();function cP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t._UZ(6,"app-episode-list",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.parent.Name," :Episodios"),t.xp6(4),t.Q6J("parentItem",e.parent)}}let dP=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(As))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(i,o){1&i&&t.YNc(0,cP,10,2,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.parent)},dependencies:[g.O5,lP]})}return r})();function uP(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function fP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function hP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function mP(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function pP(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.SeasonNumber,"")}}function gP(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1,"Nombre"),t.qZA())}function _P(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function vP(r,n){1&r&&t._UZ(0,"th",41)}function yP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.showEpisodeListModal(d))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(5,"i",47),t.qZA(),t.TgZ(6,"button",48),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(7,"i",7),t.qZA()()()}}function bP(r,n){1&r&&t._UZ(0,"tr",49)}function EP(r,n){1&r&&t._UZ(0,"tr",50)}function TP(r,n){1&r&&(t.TgZ(0,"td",53),t._uU(1,"No se encontraron datos"),t.qZA())}function SP(r,n){if(1&r&&(t.TgZ(0,"tr",51),t.YNc(1,TP,2,0,"td",52),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const CP=function(r){return{disable:r}},DP=function(){return[5,10,25,100]};let xP=(()=>{class r extends $l{constructor(e,i,o,d,m){super(d),this.modalService=e,this.dialog=i,this.seasonService=o,this.matPaginatorIntl=d,this.snackbarService=m}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="SeasonNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"SeasonNumber",start:"asc",disableClear:!0}),this.searchBy="SeasonNumber",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new kO;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(UO,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.season=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.seasonService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new $n.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new br.vA;i.data={title:"Eliminar Temporada",message:"\xbfEsta seguro que desea eliminar la temporada "+e.Name+"?",accordMessage:"Si, eliminar la temporada '"+e.Name+"'"},this.dialog.open(Fo,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.seasonService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Ui.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Ui.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new br.vA;e.data={title:"Eliminar seasons",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Fo,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.seasonService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Ui.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Ui.Error)})}getDisplayedColumns(){return["Select","SeasonNumber","Name","Actions"]}showEpisodeListModal(e){var o=this.modalService.open(dP,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(d=>{})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(ba),t.Y36(br.uw),t.Y36(rw),t.Y36(kr.ye),t.Y36(Lo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(kr.NW,5),t.Gf(Hr.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:41,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","SeasonNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver episodios",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,uP,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,fP,2,2,"th",17),t.YNc(25,hP,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,mP,2,0,"th",20),t.YNc(28,pP,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,gP,2,0,"th",23),t.YNc(31,_P,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,vP,1,0,"th",26),t.YNc(34,yP,8,0,"td",27),t.BQk(),t.YNc(35,bP,1,0,"tr",28),t.YNc(36,EP,1,0,"tr",29),t.YNc(37,SP,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(3),t.hij("",o.parentItem.Name," :Temporadas"),t.xp6(6),t.Q6J("ngClass",t.VKq(8,CP,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(10,DP)))},dependencies:[g.mk,g.O5,kr.NW,$n.BZ,$n.fO,$n.as,$n.w1,$n.Dz,$n.nj,$n.ge,$n.ev,$n.XQ,$n.Gk,$n.Ee,Yo.Nt,ji.KE,ji.hX,Hr.YE,Hr.nU,xc.oG,Nr.Ou,Mc.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return r})();function MP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t._UZ(6,"app-season-list",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.parent.Name," :Temporadas"),t.xp6(4),t.Q6J("parentItem",e.parent)}}let AP=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(As))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(i,o){1&i&&t.YNc(0,MP,10,2,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.parent)},dependencies:[g.O5,xP]})}return r})();function IP(r,n){1&r&&(t.TgZ(0,"div",40),t._UZ(1,"mat-spinner"),t.qZA())}function wP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",41)(1,"mat-checkbox",42),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function OP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",43)(1,"mat-checkbox",44),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function PP(r,n){1&r&&(t.TgZ(0,"th",45),t._uU(1,"N\xb0"),t.qZA())}function RP(r,n){if(1&r&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function NP(r,n){1&r&&(t.TgZ(0,"th",47),t._uU(1,"Nombre"),t.qZA())}function LP(r,n){if(1&r&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function kP(r,n){1&r&&(t.TgZ(0,"th",49),t._uU(1,"Primera emisi\xf3n"),t.qZA())}function FP(r,n){if(1&r&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.FirstAirDate,"dd-MM-YYYY")," ")}}function BP(r,n){1&r&&(t.TgZ(0,"th",49),t._uU(1,"\xdaltima emisi\xf3n"),t.qZA())}function UP(r,n){if(1&r&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.LastAirDate,"dd-MM-YYYY")," ")}}function jP(r,n){1&r&&(t.TgZ(0,"th",51),t._uU(1,"Actores"),t.qZA())}function VP(r,n){if(1&r&&(t.TgZ(0,"td",52,53),t._uU(2),t.qZA()),2&r){const e=n.$implicit,i=t.MAs(1);t.Udp("cursor",i.offsetWidth<i.scrollWidth?"pointer":""),t.s9C("matTooltip",i.offsetWidth<i.scrollWidth?e.Actors:""),t.xp6(2),t.Oqu(e.Actors)}}function GP(r,n){1&r&&(t.TgZ(0,"th",51),t._uU(1,"Directores"),t.qZA())}function HP(r,n){if(1&r&&(t.TgZ(0,"td",52,53),t._uU(2),t.qZA()),2&r){const e=n.$implicit,i=t.MAs(1);t.Udp("cursor",i.offsetWidth<i.scrollWidth?"pointer":""),t.s9C("matTooltip",i.offsetWidth<i.scrollWidth?e.Directors:""),t.xp6(2),t.hij(" ",e.Directors," ")}}function KP(r,n){1&r&&t._UZ(0,"th",54)}function YP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",55)(1,"div",56)(2,"button",57),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.showSeasonListModal(d))}),t._UZ(3,"i",58),t.qZA(),t.TgZ(4,"button",59),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(5,"i",60),t.qZA(),t.TgZ(6,"button",61),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(7,"i",7),t.qZA()()()}}function WP(r,n){1&r&&t._UZ(0,"tr",62)}function zP(r,n){1&r&&t._UZ(0,"tr",63)}function ZP(r,n){1&r&&(t.TgZ(0,"td",66),t._uU(1,"No se encontraron datos"),t.qZA())}function $P(r,n){if(1&r&&(t.TgZ(0,"tr",64),t.YNc(1,ZP,2,0,"td",65),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const qP=function(r){return{disable:r}},JP=function(){return[5,10,25,100]};let sw=(()=>{class r extends $l{constructor(e,i,o,d,m,v){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.tvserieService=v}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new PO;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(LO,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.tvserie=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.tvserieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new $n.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new br.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar la serie "+e.Name+"?",accordMessage:"Si, eliminar la serie '"+e.Name+"'"},this.dialog.open(Fo,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.tvserieService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Ui.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,Ui.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new br.vA;e.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Fo,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.tvserieService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Ui.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Ui.Error)})}getDisplayedColumns(){return window.innerWidth>1100?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Directors","Actions"]:window.innerWidth>975?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Actions"]:window.innerWidth>875?["Select","Id","Name","FirstAirDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Name","FirstAirDate","Actions"]:["Select","Id","Name","Actions"]}showSeasonListModal(e){var o=this.modalService.open(AP,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(d=>{})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Kn.F0),t.Y36(ba),t.Y36(br.uw),t.Y36(kr.ye),t.Y36(Lo),t.Y36(iw))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-tvserie-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(kr.NW,5),t.Gf(Hr.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:53,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","FirstAirDate"],["mat-header-cell","","mat-sort-header","","style","min-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","LastAirDate"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","class","text-truncate","style","max-width:120px;text-align: left;cursor: pointer;",3,"cursor","matTooltip",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","120px","text-align","left"],["mat-cell","",2,"min-width","120px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",1,"text-truncate",2,"max-width","120px","text-align","left","cursor","pointer",3,"matTooltip"],["cell",""],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver temporadas",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Series"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,IP,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,wP,2,2,"th",17),t.YNc(25,OP,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,PP,2,0,"th",20),t.YNc(28,RP,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,NP,2,0,"th",23),t.YNc(31,LP,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,kP,2,0,"th",26),t.YNc(34,FP,3,4,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,BP,2,0,"th",26),t.YNc(37,UP,3,4,"td",27),t.BQk(),t.ynx(38,29),t.YNc(39,jP,2,0,"th",30),t.YNc(40,VP,3,4,"td",31),t.BQk(),t.ynx(41,32),t.YNc(42,GP,2,0,"th",30),t.YNc(43,HP,3,4,"td",31),t.BQk(),t.ynx(44,33),t.YNc(45,KP,1,0,"th",34),t.YNc(46,YP,8,0,"td",35),t.BQk(),t.YNc(47,WP,1,0,"tr",36),t.YNc(48,zP,1,0,"tr",37),t.YNc(49,$P,2,1,"tr",38),t.qZA()()()()(),t.TgZ(50,"div",1)(51,"div",9),t._UZ(52,"mat-paginator",39),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,qP,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,JP)))},dependencies:[g.mk,g.O5,kr.NW,$n.BZ,$n.fO,$n.as,$n.w1,$n.Dz,$n.nj,$n.ge,$n.ev,$n.XQ,$n.Gk,$n.Ee,Yo.Nt,ji.KE,ji.hX,Hr.YE,Hr.nU,xc.oG,Nr.Ou,Mc.gM,g.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();const QP=[{path:"home",component:Eo,loadChildren:()=>S.e(496).then(S.bind(S,3496)).then(r=>r.MediaModule),canActivate:[mr]},{path:"media/movies",component:Eo,loadChildren:()=>S.e(496).then(S.bind(S,3496)).then(r=>r.MediaModule),canActivate:[mr]},{path:"media/tvseries",component:Eo,loadChildren:()=>S.e(496).then(S.bind(S,3496)).then(r=>r.MediaModule),canActivate:[mr]},{path:"media/server/:serverGuid",component:Eo,loadChildren:()=>S.e(496).then(S.bind(S,3496)).then(r=>r.MediaModule),canActivate:[mr]},{path:"media/server/:serverGuid/libraries/:libraryId",component:Eo,loadChildren:()=>S.e(496).then(S.bind(S,3496)).then(r=>r.MediaModule),canActivate:[mr]},{path:"media/server/:serverGuid/libraries/:libraryId/detail",component:ra,loadChildren:()=>S.e(496).then(S.bind(S,3496)).then(r=>r.MediaModule),canActivate:[mr]},{path:"media/server/:serverGuid/video/:mediaFileId",component:sf,loadChildren:()=>S.e(867).then(S.bind(S,8867)).then(r=>r.VideoPageModule),canActivate:[mr]},{path:"search",component:bh,loadChildren:()=>S.e(82).then(S.bind(S,5082)).then(r=>r.SearchModule),canActivate:[mr]},{path:"select-profile",component:Th,loadChildren:()=>S.e(956).then(S.bind(S,9956)).then(r=>r.ProfilesModule),canActivate:[mr]},{path:"add-profile",component:Sh,loadChildren:()=>S.e(956).then(S.bind(S,9956)).then(r=>r.ProfilesModule),canActivate:[mr]},{path:"edit-profile/:profileGuid",component:lf,loadChildren:()=>S.e(956).then(S.bind(S,9956)).then(r=>r.ProfilesModule),canActivate:[mr]},{path:"settings/server/:serverGuid/settings/general",component:Dd,loadChildren:()=>S.e(338).then(S.bind(S,9338)).then(r=>r.ServerSettingsGeneralPageModule),canActivate:[mr]},{path:"settings/server/:serverGuid/status/alerts",component:bp,loadChildren:()=>S.e(178).then(S.bind(S,6178)).then(r=>r.AlertsModule),canActivate:[mr]},{path:"settings/server/:serverGuid/manage/libraries",component:jg,loadChildren:()=>S.e(223).then(S.bind(S,1223)).then(r=>r.LibrariesModule),canActivate:[mr]},{path:"settings/server/:serverGuid/settings/transcoder",component:Gg,loadChildren:()=>S.e(257).then(S.bind(S,5257)).then(r=>r.TranscoderSettingssPageModule),canActivate:[mr]},{path:"settings/account",component:q0,loadChildren:()=>S.e(770).then(S.bind(S,6770)).then(r=>r.AccountSettingsModule),canActivate:[mr]},{path:"manage/movies",component:gm,loadChildren:()=>S.e(944).then(S.bind(S,1944)).then(r=>r.MoviesModule),canActivate:[mr,Ho]},{path:"manage/tvseries",component:sw,loadChildren:()=>S.e(242).then(S.bind(S,242)).then(r=>r.TvSeriesModule),canActivate:[mr,Ho]},{path:"manage/genres",component:Jg,loadChildren:()=>S.e(723).then(S.bind(S,4723)).then(r=>r.GenresModule),canActivate:[mr,Ho]},{path:"manage/menus",component:yb,loadChildren:()=>S.e(545).then(S.bind(S,7545)).then(r=>r.MenusModule),canActivate:[mr,Ho]},{path:"manage/users",component:bm,loadChildren:()=>S.e(237).then(S.bind(S,7717)).then(r=>r.UsersModule),canActivate:[mr,Ho]},{path:"manage/roles",component:XD,loadChildren:()=>S.e(897).then(S.bind(S,8897)).then(r=>r.RolesPageModule),canActivate:[mr,Ho]},{path:"landing",component:Lb,loadChildren:()=>S.e(45).then(S.bind(S,8045)).then(r=>r.LandingPageModule),canActivate:[qo]},{path:"register",component:pt,loadChildren:()=>S.e(470).then(S.bind(S,1470)).then(r=>r.RegisterAcccountPageModule),canActivate:[qo]},{path:"login",component:QI,loadChildren:()=>S.e(717).then(S.bind(S,717)).then(r=>r.LoginPageModule),canActivate:[qo]},{path:"recover",component:XI,loadChildren:()=>S.e(456).then(S.bind(S,456)).then(r=>r.RecoverPasswordPageModule),canActivate:[qo]},{path:"reset/:base64Data",component:ew,loadChildren:()=>S.e(300).then(S.bind(S,2300)).then(r=>r.ResetPasswordPageModule),canActivate:[qo]},{path:"confirm/:base64Data",component:tw,loadChildren:()=>S.e(159).then(S.bind(S,159)).then(r=>r.ConfirmEmailPageModule),canActivate:[qo]},{path:"404",component:nw,loadChildren:()=>S.e(41).then(S.bind(S,3041)).then(r=>r.NotFoundPageModule)},{path:"",pathMatch:"full",redirectTo:"home"},{path:"**",redirectTo:"/404"}];let XP=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[Kn.Bz.forRoot(QP,{onSameUrlNavigation:"reload"}),Kn.Bz]})}return r})();var vo=S(6825);function aw(r){return new t.vHH(3e3,!1)}function Nu(r){switch(r.length){case 0:return new vo.ZN;case 1:return r[0];default:return new vo.ZE(r)}}function lw(r,n,e=new Map,i=new Map){const o=[],d=[];let m=-1,v=null;if(n.forEach(I=>{const j=I.get("offset"),ne=j==m,pe=ne&&v||new Map;I.forEach((ze,tt)=>{let mt=tt,Ct=ze;if("offset"!==tt)switch(mt=r.normalizePropertyName(mt,o),Ct){case vo.k1:Ct=e.get(tt);break;case vo.l3:Ct=i.get(tt);break;default:Ct=r.normalizeStyleValue(tt,mt,Ct,o)}pe.set(mt,Ct)}),ne||d.push(pe),v=pe,m=j}),o.length)throw function TR(r){return new t.vHH(3502,!1)}();return d}function Dx(r,n,e,i){switch(n){case"start":r.onStart(()=>i(e&&xx(e,"start",r)));break;case"done":r.onDone(()=>i(e&&xx(e,"done",r)));break;case"destroy":r.onDestroy(()=>i(e&&xx(e,"destroy",r)))}}function xx(r,n,e){const d=Mx(r.element,r.triggerName,r.fromState,r.toState,n||r.phaseName,e.totalTime??r.totalTime,!!e.disabled),m=r._data;return null!=m&&(d._data=m),d}function Mx(r,n,e,i,o="",d=0,m){return{element:r,triggerName:n,fromState:e,toState:i,phaseName:o,totalTime:d,disabled:!!m}}function Ml(r,n,e){let i=r.get(n);return i||r.set(n,i=e),i}function cw(r){const n=r.indexOf(":");return[r.substring(1,n),r.slice(n+1)]}const NR=(()=>typeof document>"u"?null:document.documentElement)();function Ax(r){const n=r.parentNode||r.host||null;return n===NR?null:n}let Kf=null,dw=!1;function uw(r,n){for(;n;){if(n===r)return!0;n=Ax(n)}return!1}function fw(r,n,e){if(e)return Array.from(r.querySelectorAll(n));const i=r.querySelector(n);return i?[i]:[]}let hw=(()=>{class r{validateStyleProperty(e){return function kR(r){Kf||(Kf=function FR(){return typeof document<"u"?document.body:null}()||{},dw=!!Kf.style&&"WebkitAppearance"in Kf.style);let n=!0;return Kf.style&&!function LR(r){return"ebkit"==r.substring(1,6)}(r)&&(n=r in Kf.style,!n&&dw&&(n="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Kf.style)),n}(e)}matchesElement(e,i){return!1}containsElement(e,i){return uw(e,i)}getParentElement(e){return Ax(e)}query(e,i,o){return fw(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,d,m,v=[],I){return new vo.ZN(o,d)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})(),Ix=(()=>{class r{static#e=this.NOOP=new hw}return r})();const BR=1e3,wx="ng-enter",Yb="ng-leave",Wb="ng-trigger",zb=".ng-trigger",pw="ng-animating",Ox=".ng-animating";function jd(r){if("number"==typeof r)return r;const n=r.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Px(parseFloat(n[1]),n[2])}function Px(r,n){return"s"===n?r*BR:r}function Zb(r,n,e){return r.hasOwnProperty("duration")?r:function jR(r,n,e){let o,d=0,m="";if("string"==typeof r){const v=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===v)return n.push(aw()),{duration:0,delay:0,easing:""};o=Px(parseFloat(v[1]),v[2]);const I=v[3];null!=I&&(d=Px(parseFloat(I),v[4]));const j=v[5];j&&(m=j)}else o=r;if(!e){let v=!1,I=n.length;o<0&&(n.push(function eR(){return new t.vHH(3100,!1)}()),v=!0),d<0&&(n.push(function tR(){return new t.vHH(3101,!1)}()),v=!0),v&&n.splice(I,0,aw())}return{duration:o,delay:d,easing:m}}(r,n,e)}function a_(r,n={}){return Object.keys(r).forEach(e=>{n[e]=r[e]}),n}function gw(r){const n=new Map;return Object.keys(r).forEach(e=>{n.set(e,r[e])}),n}function Lu(r,n=new Map,e){if(e)for(let[i,o]of e)n.set(i,o);for(let[i,o]of r)n.set(i,o);return n}function nd(r,n,e){n.forEach((i,o)=>{const d=Nx(o);e&&!e.has(o)&&e.set(o,r.style[d]),r.style[d]=i})}function Yf(r,n){n.forEach((e,i)=>{const o=Nx(i);r.style[o]=""})}function l_(r){return Array.isArray(r)?1==r.length?r[0]:(0,vo.vP)(r):r}const Rx=new RegExp("{{\\s*(.+?)\\s*}}","g");function vw(r){let n=[];if("string"==typeof r){let e;for(;e=Rx.exec(r);)n.push(e[1]);Rx.lastIndex=0}return n}function c_(r,n,e){const i=r.toString(),o=i.replace(Rx,(d,m)=>{let v=n[m];return null==v&&(e.push(function iR(r){return new t.vHH(3003,!1)}()),v=""),v.toString()});return o==i?r:o}function $b(r){const n=[];let e=r.next();for(;!e.done;)n.push(e.value),e=r.next();return n}const HR=/-+([a-z0-9])/g;function Nx(r){return r.replace(HR,(...n)=>n[1].toUpperCase())}function Al(r,n,e){switch(n.type){case 7:return r.visitTrigger(n,e);case 0:return r.visitState(n,e);case 1:return r.visitTransition(n,e);case 2:return r.visitSequence(n,e);case 3:return r.visitGroup(n,e);case 4:return r.visitAnimate(n,e);case 5:return r.visitKeyframes(n,e);case 6:return r.visitStyle(n,e);case 8:return r.visitReference(n,e);case 9:return r.visitAnimateChild(n,e);case 10:return r.visitAnimateRef(n,e);case 11:return r.visitQuery(n,e);case 12:return r.visitStagger(n,e);default:throw function rR(r){return new t.vHH(3004,!1)}()}}function yw(r,n){return window.getComputedStyle(r)[n]}const qb="*";function WR(r,n){const e=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(i=>function zR(r,n,e){if(":"==r[0]){const I=function ZR(r,n){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(function vR(r){return new t.vHH(3016,!1)}()),"* => *"}}(r,e);if("function"==typeof I)return void n.push(I);r=I}const i=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function _R(r){return new t.vHH(3015,!1)}()),n;const o=i[1],d=i[2],m=i[3];n.push(bw(o,m));"<"==d[0]&&!(o==qb&&m==qb)&&n.push(bw(m,o))}(i,e,n)):e.push(r),e}const Jb=new Set(["true","1"]),Qb=new Set(["false","0"]);function bw(r,n){const e=Jb.has(r)||Qb.has(r),i=Jb.has(n)||Qb.has(n);return(o,d)=>{let m=r==qb||r==o,v=n==qb||n==d;return!m&&e&&"boolean"==typeof o&&(m=o?Jb.has(r):Qb.has(r)),!v&&i&&"boolean"==typeof d&&(v=d?Jb.has(n):Qb.has(n)),m&&v}}const $R=new RegExp("s*:selfs*,?","g");function Lx(r,n,e,i){return new qR(r).build(n,e,i)}class qR{constructor(n){this._driver=n}build(n,e,i){const o=new XR(e);return this._resetContextStyleTimingState(o),Al(this,l_(n),o)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,o=e.depCount=0;const d=[],m=[];return"@"==n.name.charAt(0)&&e.errors.push(function sR(){return new t.vHH(3006,!1)}()),n.definitions.forEach(v=>{if(this._resetContextStyleTimingState(e),0==v.type){const I=v,j=I.name;j.toString().split(/\s*,\s*/).forEach(ne=>{I.name=ne,d.push(this.visitState(I,e))}),I.name=j}else if(1==v.type){const I=this.visitTransition(v,e);i+=I.queryCount,o+=I.depCount,m.push(I)}else e.errors.push(function aR(){return new t.vHH(3007,!1)}())}),{type:7,name:n.name,states:d,transitions:m,queryCount:i,depCount:o,options:null}}visitState(n,e){const i=this.visitStyle(n.styles,e),o=n.options&&n.options.params||null;if(i.containsDynamicStyles){const d=new Set,m=o||{};i.styles.forEach(v=>{v instanceof Map&&v.forEach(I=>{vw(I).forEach(j=>{m.hasOwnProperty(j)||d.add(j)})})}),d.size&&($b(d.values()),e.errors.push(function lR(r,n){return new t.vHH(3008,!1)}()))}return{type:0,name:n.name,style:i,options:o?{params:o}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const i=Al(this,l_(n.animation),e);return{type:1,matchers:WR(n.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Wf(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(i=>Al(this,i,e)),options:Wf(n.options)}}visitGroup(n,e){const i=e.currentTime;let o=0;const d=n.steps.map(m=>{e.currentTime=i;const v=Al(this,m,e);return o=Math.max(o,e.currentTime),v});return e.currentTime=o,{type:3,steps:d,options:Wf(n.options)}}visitAnimate(n,e){const i=function tN(r,n){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return kx(Zb(r,n).duration,0,"");const e=r;if(e.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=kx(0,0,"");return d.dynamic=!0,d.strValue=e,d}const o=Zb(e,n);return kx(o.duration,o.delay,o.easing)}(n.timings,e.errors);e.currentAnimateTimings=i;let o,d=n.styles?n.styles:(0,vo.oB)({});if(5==d.type)o=this.visitKeyframes(d,e);else{let m=n.styles,v=!1;if(!m){v=!0;const j={};i.easing&&(j.easing=i.easing),m=(0,vo.oB)(j)}e.currentTime+=i.duration+i.delay;const I=this.visitStyle(m,e);I.isEmptyStep=v,o=I}return e.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(n,e){const i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){const i=[],o=Array.isArray(n.styles)?n.styles:[n.styles];for(let v of o)"string"==typeof v?v===vo.l3?i.push(v):e.errors.push(new t.vHH(3002,!1)):i.push(gw(v));let d=!1,m=null;return i.forEach(v=>{if(v instanceof Map&&(v.has("easing")&&(m=v.get("easing"),v.delete("easing")),!d))for(let I of v.values())if(I.toString().indexOf("{{")>=0){d=!0;break}}),{type:6,styles:i,easing:m,offset:n.offset,containsDynamicStyles:d,options:null}}_validateStyleAst(n,e){const i=e.currentAnimateTimings;let o=e.currentTime,d=e.currentTime;i&&d>0&&(d-=i.duration+i.delay),n.styles.forEach(m=>{"string"!=typeof m&&m.forEach((v,I)=>{const j=e.collectedStyles.get(e.currentQuerySelector),ne=j.get(I);let pe=!0;ne&&(d!=o&&d>=ne.startTime&&o<=ne.endTime&&(e.errors.push(function dR(r,n,e,i,o){return new t.vHH(3010,!1)}()),pe=!1),d=ne.startTime),pe&&j.set(I,{startTime:d,endTime:o}),e.options&&function GR(r,n,e){const i=n.params||{},o=vw(r);o.length&&o.forEach(d=>{i.hasOwnProperty(d)||e.push(function nR(r){return new t.vHH(3001,!1)}())})}(v,e.options,e.errors)})})}visitKeyframes(n,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function uR(){return new t.vHH(3011,!1)}()),i;let d=0;const m=[];let v=!1,I=!1,j=0;const ne=n.steps.map(Yt=>{const fn=this._makeStyleAst(Yt,e);let sn=null!=fn.offset?fn.offset:function eN(r){if("string"==typeof r)return null;let n=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const e=r;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(fn.styles),En=0;return null!=sn&&(d++,En=fn.offset=sn),I=I||En<0||En>1,v=v||En<j,j=En,m.push(En),fn});I&&e.errors.push(function fR(){return new t.vHH(3012,!1)}()),v&&e.errors.push(function hR(){return new t.vHH(3200,!1)}());const pe=n.steps.length;let ze=0;d>0&&d<pe?e.errors.push(function mR(){return new t.vHH(3202,!1)}()):0==d&&(ze=1/(pe-1));const tt=pe-1,mt=e.currentTime,Ct=e.currentAnimateTimings,Ot=Ct.duration;return ne.forEach((Yt,fn)=>{const sn=ze>0?fn==tt?1:ze*fn:m[fn],En=sn*Ot;e.currentTime=mt+Ct.delay+En,Ct.duration=En,this._validateStyleAst(Yt,e),Yt.offset=sn,i.styles.push(Yt)}),i}visitReference(n,e){return{type:8,animation:Al(this,l_(n.animation),e),options:Wf(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:Wf(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:Wf(n.options)}}visitQuery(n,e){const i=e.currentQuerySelector,o=n.options||{};e.queryCount++,e.currentQuery=n;const[d,m]=function JR(r){const n=!!r.split(/\s*,\s*/).find(e=>":self"==e);return n&&(r=r.replace($R,"")),r=r.replace(/@\*/g,zb).replace(/@\w+/g,e=>zb+"-"+e.slice(1)).replace(/:animating/g,Ox),[r,n]}(n.selector);e.currentQuerySelector=i.length?i+" "+d:d,Ml(e.collectedStyles,e.currentQuerySelector,new Map);const v=Al(this,l_(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:d,limit:o.limit||0,optional:!!o.optional,includeSelf:m,animation:v,originalSelector:n.selector,options:Wf(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function pR(){return new t.vHH(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:Zb(n.timings,e.errors,!0);return{type:12,animation:Al(this,l_(n.animation),e),timings:i,options:null}}}class XR{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Wf(r){return r?(r=a_(r)).params&&(r.params=function QR(r){return r?a_(r):null}(r.params)):r={},r}function kx(r,n,e){return{duration:r,delay:n,easing:e}}function Fx(r,n,e,i,o,d,m=null,v=!1){return{type:1,element:r,keyframes:n,preStyleProps:e,postStyleProps:i,duration:o,delay:d,totalTime:o+d,easing:m,subTimeline:v}}class Xb{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const rN=new RegExp(":enter","g"),sN=new RegExp(":leave","g");function Bx(r,n,e,i,o,d=new Map,m=new Map,v,I,j=[]){return(new aN).buildKeyframes(r,n,e,i,o,d,m,v,I,j)}class aN{buildKeyframes(n,e,i,o,d,m,v,I,j,ne=[]){j=j||new Xb;const pe=new Ux(n,e,j,o,d,ne,[]);pe.options=I;const ze=I.delay?jd(I.delay):0;pe.currentTimeline.delayNextStep(ze),pe.currentTimeline.setStyles([m],null,pe.errors,I),Al(this,i,pe);const tt=pe.timelines.filter(mt=>mt.containsAnimation());if(tt.length&&v.size){let mt;for(let Ct=tt.length-1;Ct>=0;Ct--){const Ot=tt[Ct];if(Ot.element===e){mt=Ot;break}}mt&&!mt.allowOnlyTimelineStyles()&&mt.setStyles([v],null,pe.errors,I)}return tt.length?tt.map(mt=>mt.buildKeyframes()):[Fx(e,[],[],[],0,ze,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const i=e.subInstructions.get(e.element);if(i){const o=e.createSubContext(n.options),d=e.currentTimeline.currentTime,m=this._visitSubInstructions(i,o,o.options);d!=m&&e.transformIntoNewTimeline(m)}e.previousNode=n}visitAnimateRef(n,e){const i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(const o of n){const d=o?.delay;if(d){const m="number"==typeof d?d:jd(c_(d,o?.params??{},e.errors));i.delayNextStep(m)}}}_visitSubInstructions(n,e,i){let d=e.currentTimeline.currentTime;const m=null!=i.duration?jd(i.duration):null,v=null!=i.delay?jd(i.delay):null;return 0!==m&&n.forEach(I=>{const j=e.appendInstructionToTimeline(I,m,v);d=Math.max(d,j.duration+j.delay)}),d}visitReference(n,e){e.updateOptions(n.options,!0),Al(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const i=e.subContextCount;let o=e;const d=n.options;if(d&&(d.params||d.delay)&&(o=e.createSubContext(d),o.transformIntoNewTimeline(),null!=d.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=eE);const m=jd(d.delay);o.delayNextStep(m)}n.steps.length&&(n.steps.forEach(m=>Al(this,m,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const i=[];let o=e.currentTimeline.currentTime;const d=n.options&&n.options.delay?jd(n.options.delay):0;n.steps.forEach(m=>{const v=e.createSubContext(n.options);d&&v.delayNextStep(d),Al(this,m,v),o=Math.max(o,v.currentTimeline.currentTime),i.push(v.currentTimeline)}),i.forEach(m=>e.currentTimeline.mergeTimelineCollectedStyles(m)),e.transformIntoNewTimeline(o),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const i=n.strValue;return Zb(e.params?c_(i,e.params,e.errors):i,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const i=e.currentAnimateTimings=this._visitTiming(n.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());const d=n.style;5==d.type?this.visitKeyframes(d,e):(e.incrementTime(i.duration),this.visitStyle(d,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();const d=o&&o.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(d):i.setStyles(n.styles,d,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const i=e.currentAnimateTimings,o=e.currentTimeline.duration,d=i.duration,v=e.createSubContext().currentTimeline;v.easing=i.easing,n.styles.forEach(I=>{v.forwardTime((I.offset||0)*d),v.setStyles(I.styles,I.easing,e.errors,e.options),v.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(v),e.transformIntoNewTimeline(o+d),e.previousNode=n}visitQuery(n,e){const i=e.currentTimeline.currentTime,o=n.options||{},d=o.delay?jd(o.delay):0;d&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=eE);let m=i;const v=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=v.length;let I=null;v.forEach((j,ne)=>{e.currentQueryIndex=ne;const pe=e.createSubContext(n.options,j);d&&pe.delayNextStep(d),j===e.element&&(I=pe.currentTimeline),Al(this,n.animation,pe),pe.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,pe.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(m),I&&(e.currentTimeline.mergeTimelineCollectedStyles(I),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const i=e.parentContext,o=e.currentTimeline,d=n.timings,m=Math.abs(d.duration),v=m*(e.currentQueryTotal-1);let I=m*e.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":I=v-I;break;case"full":I=i.currentStaggerTime}const ne=e.currentTimeline;I&&ne.delayNextStep(I);const pe=ne.currentTime;Al(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=o.currentTime-pe+(o.startTime-i.currentTimeline.startTime)}}const eE={};class Ux{constructor(n,e,i,o,d,m,v,I){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=d,this.errors=m,this.timelines=v,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=eE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=I||new tE(this._driver,e,0),v.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const i=n;let o=this.options;null!=i.duration&&(o.duration=jd(i.duration)),null!=i.delay&&(o.delay=jd(i.delay));const d=i.params;if(d){let m=o.params;m||(m=this.options.params={}),Object.keys(d).forEach(v=>{(!e||!m.hasOwnProperty(v))&&(m[v]=c_(d[v],m,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const i=n.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return n}createSubContext(n=null,e,i){const o=e||this.element,d=new Ux(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(n),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(n){return this.previousNode=eE,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){const o={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},d=new lN(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,o,n.stretchStartingKeyframe);return this.timelines.push(d),o}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,o,d,m){let v=[];if(o&&v.push(this.element),n.length>0){n=(n=n.replace(rN,"."+this._enterClassName)).replace(sN,"."+this._leaveClassName);let j=this._driver.query(this.element,n,1!=i);0!==i&&(j=i<0?j.slice(j.length+i,j.length):j.slice(0,i)),v.push(...j)}return!d&&0==v.length&&m.push(function gR(r){return new t.vHH(3014,!1)}()),v}}class tE{constructor(n,e,i,o){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new tE(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||vo.l3),this._currentKeyframe.set(e,vo.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,o){e&&this._previousKeyframe.set("easing",e);const d=o&&o.params||{},m=function cN(r,n){const e=new Map;let i;return r.forEach(o=>{if("*"===o){i=i||n.keys();for(let d of i)e.set(d,vo.l3)}else Lu(o,e)}),e}(n,this._globalTimelineStyles);for(let[v,I]of m){const j=c_(I,d,i);this._pendingStyles.set(v,j),this._localTimelineStyles.has(v)||this._backFill.set(v,this._globalTimelineStyles.get(v)??vo.l3),this._updateStyle(v,j)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{const o=this._styleSummary.get(i);(!o||e.time>o.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((v,I)=>{const j=Lu(v,new Map,this._backFill);j.forEach((ne,pe)=>{ne===vo.k1?n.add(pe):ne===vo.l3&&e.add(pe)}),i||j.set("offset",I/this.duration),o.push(j)});const d=n.size?$b(n.values()):[],m=e.size?$b(e.values()):[];if(i){const v=o[0],I=new Map(v);v.set("offset",0),I.set("offset",1),o=[v,I]}return Fx(this.element,o,d,m,this.duration,this.startTime,this.easing,!1)}}class lN extends tE{constructor(n,e,i,o,d,m,v=!1){super(n,e,m.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=d,this._stretchStartingKeyframe=v,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const d=[],m=i+e,v=e/m,I=Lu(n[0]);I.set("offset",0),d.push(I);const j=Lu(n[0]);j.set("offset",Sw(v)),d.push(j);const ne=n.length-1;for(let pe=1;pe<=ne;pe++){let ze=Lu(n[pe]);const tt=ze.get("offset");ze.set("offset",Sw((e+tt*i)/m)),d.push(ze)}i=m,e=0,o="",n=d}return Fx(this.element,n,this.preStyleProps,this.postStyleProps,i,e,o,!0)}}function Sw(r,n=3){const e=Math.pow(10,n-1);return Math.round(r*e)/e}class jx{}const dN=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class uN extends jx{normalizePropertyName(n,e){return Nx(n)}normalizeStyleValue(n,e,i,o){let d="";const m=i.toString().trim();if(dN.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)d="px";else{const v=i.match(/^[+-]?[\d\.]+([a-z]*)$/);v&&0==v[1].length&&o.push(function oR(r,n){return new t.vHH(3005,!1)}())}return m+d}}function Cw(r,n,e,i,o,d,m,v,I,j,ne,pe,ze){return{type:0,element:r,triggerName:n,isRemovalTransition:o,fromState:e,fromStyles:d,toState:i,toStyles:m,timelines:v,queriedElements:I,preStyleProps:j,postStyleProps:ne,totalTime:pe,errors:ze}}const Vx={};class Dw{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,o){return function fN(r,n,e,i,o){return r.some(d=>d(n,e,i,o))}(this.ast.matchers,n,e,i,o)}buildStyles(n,e,i){let o=this._stateStyles.get("*");return void 0!==n&&(o=this._stateStyles.get(n?.toString())||o),o?o.buildStyles(e,i):new Map}build(n,e,i,o,d,m,v,I,j,ne){const pe=[],ze=this.ast.options&&this.ast.options.params||Vx,mt=this.buildStyles(i,v&&v.params||Vx,pe),Ct=I&&I.params||Vx,Ot=this.buildStyles(o,Ct,pe),Yt=new Set,fn=new Map,sn=new Map,En="void"===o,Dn={params:hN(Ct,ze),delay:this.ast.options?.delay},Vn=ne?[]:Bx(n,e,this.ast.animation,d,m,mt,Ot,Dn,j,pe);let Rn=0;if(Vn.forEach(ni=>{Rn=Math.max(ni.duration+ni.delay,Rn)}),pe.length)return Cw(e,this._triggerName,i,o,En,mt,Ot,[],[],fn,sn,Rn,pe);Vn.forEach(ni=>{const kn=ni.element,yi=Ml(fn,kn,new Set);ni.preStyleProps.forEach(Yi=>yi.add(Yi));const mi=Ml(sn,kn,new Set);ni.postStyleProps.forEach(Yi=>mi.add(Yi)),kn!==e&&Yt.add(kn)});const qn=$b(Yt.values());return Cw(e,this._triggerName,i,o,En,mt,Ot,Vn,qn,fn,sn,Rn)}}function hN(r,n){const e=a_(n);for(const i in r)r.hasOwnProperty(i)&&null!=r[i]&&(e[i]=r[i]);return e}class mN{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){const i=new Map,o=a_(this.defaultParams);return Object.keys(n).forEach(d=>{const m=n[d];null!==m&&(o[d]=m)}),this.styles.styles.forEach(d=>{"string"!=typeof d&&d.forEach((m,v)=>{m&&(m=c_(m,o,e));const I=this.normalizer.normalizePropertyName(v,e);m=this.normalizer.normalizeStyleValue(v,I,m,e),i.set(v,m)})}),i}}class gN{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new mN(o.style,o.options&&o.options.params||{},i))}),xw(this.states,"true","1"),xw(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new Dw(n,o,this.states))}),this.fallbackTransition=function _N(r,n,e){return new Dw(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,v)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,o){return this.transitionFactories.find(m=>m.match(n,e,i,o))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}}function xw(r,n,e){r.has(n)?r.has(e)||r.set(e,r.get(n)):r.has(e)&&r.set(n,r.get(e))}const vN=new Xb;class yN{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const i=[],d=Lx(this._driver,e,i,[]);if(i.length)throw function SR(r){return new t.vHH(3503,!1)}();this._animations.set(n,d)}_buildPlayer(n,e,i){const o=n.element,d=lw(this._normalizer,n.keyframes,e,i);return this._driver.animate(o,d,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){const o=[],d=this._animations.get(n);let m;const v=new Map;if(d?(m=Bx(this._driver,e,d,wx,Yb,new Map,new Map,i,vN,o),m.forEach(ne=>{const pe=Ml(v,ne.element,new Map);ne.postStyleProps.forEach(ze=>pe.set(ze,null))})):(o.push(function CR(){return new t.vHH(3300,!1)}()),m=[]),o.length)throw function DR(r){return new t.vHH(3504,!1)}();v.forEach((ne,pe)=>{ne.forEach((ze,tt)=>{ne.set(tt,this._driver.computeStyle(pe,tt,vo.l3))})});const j=Nu(m.map(ne=>{const pe=v.get(ne.element);return this._buildPlayer(ne,new Map,pe)}));return this._playersById.set(n,j),j.onDestroy(()=>this.destroy(n)),this.players.push(j),j}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function xR(r){return new t.vHH(3301,!1)}();return e}listen(n,e,i,o){const d=Mx(e,"","","");return Dx(this._getPlayer(n),i,d,o),()=>{}}command(n,e,i,o){if("register"==i)return void this.register(n,o[0]);if("create"==i)return void this.create(n,e,o[0]||{});const d=this._getPlayer(n);switch(i){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(n)}}}const Mw="ng-animate-queued",Gx="ng-animate-disabled",CN=[],Aw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},DN={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ac="__ng_removed";class Hx{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const i=n&&n.hasOwnProperty("value");if(this.value=function IN(r){return r??null}(i?n.value:n),i){const d=a_(n);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const i=this.options.params;Object.keys(e).forEach(o=>{null==i[o]&&(i[o]=e[o])})}}}const d_="void",Kx=new Hx(d_);class xN{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Xl(e,this._hostClassName)}listen(n,e,i,o){if(!this._triggers.has(e))throw function MR(r,n){return new t.vHH(3302,!1)}();if(null==i||0==i.length)throw function AR(r){return new t.vHH(3303,!1)}();if(!function wN(r){return"start"==r||"done"==r}(i))throw function IR(r,n){return new t.vHH(3400,!1)}();const d=Ml(this._elementListeners,n,[]),m={name:e,phase:i,callback:o};d.push(m);const v=Ml(this._engine.statesByElement,n,new Map);return v.has(e)||(Xl(n,Wb),Xl(n,Wb+"-"+e),v.set(e,Kx)),()=>{this._engine.afterFlush(()=>{const I=d.indexOf(m);I>=0&&d.splice(I,1),this._triggers.has(e)||v.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function wR(r){return new t.vHH(3401,!1)}();return e}trigger(n,e,i,o=!0){const d=this._getTrigger(e),m=new Yx(this.id,e,n);let v=this._engine.statesByElement.get(n);v||(Xl(n,Wb),Xl(n,Wb+"-"+e),this._engine.statesByElement.set(n,v=new Map));let I=v.get(e);const j=new Hx(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&I&&j.absorbOptions(I.options),v.set(e,j),I||(I=Kx),j.value!==d_&&I.value===j.value){if(!function RN(r,n){const e=Object.keys(r),i=Object.keys(n);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){const d=e[o];if(!n.hasOwnProperty(d)||r[d]!==n[d])return!1}return!0}(I.params,j.params)){const Ct=[],Ot=d.matchStyles(I.value,I.params,Ct),Yt=d.matchStyles(j.value,j.params,Ct);Ct.length?this._engine.reportError(Ct):this._engine.afterFlush(()=>{Yf(n,Ot),nd(n,Yt)})}return}const ze=Ml(this._engine.playersByElement,n,[]);ze.forEach(Ct=>{Ct.namespaceId==this.id&&Ct.triggerName==e&&Ct.queued&&Ct.destroy()});let tt=d.matchTransition(I.value,j.value,n,j.params),mt=!1;if(!tt){if(!o)return;tt=d.fallbackTransition,mt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:tt,fromState:I,toState:j,player:m,isFallbackTransition:mt}),mt||(Xl(n,Mw),m.onStart(()=>{Sm(n,Mw)})),m.onDone(()=>{let Ct=this.players.indexOf(m);Ct>=0&&this.players.splice(Ct,1);const Ot=this._engine.playersByElement.get(n);if(Ot){let Yt=Ot.indexOf(m);Yt>=0&&Ot.splice(Yt,1)}}),this.players.push(m),ze.push(m),m}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const i=this._engine.driver.query(n,zb,!0);i.forEach(o=>{if(o[Ac])return;const d=this._engine.fetchNamespacesByElement(o);d.size?d.forEach(m=>m.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(n,e,i,o){const d=this._engine.statesByElement.get(n),m=new Map;if(d){const v=[];if(d.forEach((I,j)=>{if(m.set(j,I.value),this._triggers.has(j)){const ne=this.trigger(n,j,d_,o);ne&&v.push(ne)}}),v.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,m),i&&Nu(v).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){const o=new Set;e.forEach(d=>{const m=d.name;if(o.has(m))return;o.add(m);const I=this._triggers.get(m).fallbackTransition,j=i.get(m)||Kx,ne=new Hx(d_),pe=new Yx(this.id,m,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:m,transition:I,fromState:j,toState:ne,player:pe,isFallbackTransition:!0})})}}removeNode(n,e){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let o=!1;if(i.totalAnimations){const d=i.players.length?i.playersByQueriedElement.get(n):[];if(d&&d.length)o=!0;else{let m=n;for(;m=m.parentNode;)if(i.statesByElement.get(m)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(n),o)i.markElementAsRemoved(this.id,n,!1,e);else{const d=n[Ac];(!d||d===Aw)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){Xl(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const d=i.element,m=this._elementListeners.get(d);m&&m.forEach(v=>{if(v.name==i.triggerName){const I=Mx(d,i.triggerName,i.fromState.value,i.toState.value);I._data=n,Dx(i.player,v.phase,I,v.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{const d=i.transition.ast.depCount,m=o.transition.ast.depCount;return 0==d||0==m?d-m:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class MN{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,d)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){const i=new xN(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){const i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let m=!1,v=this.driver.getParentElement(e);for(;v;){const I=o.get(v);if(I){const j=i.indexOf(I);i.splice(j+1,0,n),m=!0;break}v=this.driver.getParentElement(v)}m||i.unshift(n)}else i.push(n);return o.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let o=this._namespaceLookup[n];o&&o.register(e,i)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1),i.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,i=this.statesByElement.get(n);if(i)for(let o of i.values())if(o.namespaceId){const d=this._fetchNamespace(o.namespaceId);d&&e.add(d)}return e}trigger(n,e,i,o){if(nE(e)){const d=this._fetchNamespace(n);if(d)return d.trigger(e,i,o),!0}return!1}insertNode(n,e,i,o){if(!nE(e))return;const d=e[Ac];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const m=this.collectedLeaveElements.indexOf(e);m>=0&&this.collectedLeaveElements.splice(m,1)}if(n){const m=this._fetchNamespace(n);m&&m.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Xl(n,Gx)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Sm(n,Gx))}removeNode(n,e,i){if(nE(e)){const o=n?this._fetchNamespace(n):null;o?o.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i);const d=this.namespacesByHostElement.get(e);d&&d.id!==n&&d.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,i,o,d){this.collectedLeaveElements.push(e),e[Ac]={namespaceId:n,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:d}}listen(n,e,i,o,d){return nE(e)?this._fetchNamespace(n).listen(e,i,o,d):()=>{}}_buildInstruction(n,e,i,o,d){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,o,n.fromState.options,n.toState.options,e,d)}destroyInnerAnimations(n){let e=this.driver.query(n,zb,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,Ox,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Nu(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[Ac];if(e&&e.setForRemoval){if(n[Ac]=Aw,e.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(Gx)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Xl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,n)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Nu(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(n){throw function OR(r){return new t.vHH(3402,!1)}()}_flushAnimations(n,e){const i=new Xb,o=[],d=new Map,m=[],v=new Map,I=new Map,j=new Map,ne=new Set;this.disabledNodes.forEach(ri=>{ne.add(ri);const ui=this.driver.query(ri,".ng-animate-queued",!0);for(let Qn=0;Qn<ui.length;Qn++)ne.add(ui[Qn])});const pe=this.bodyNode,ze=Array.from(this.statesByElement.keys()),tt=Ow(ze,this.collectedEnterElements),mt=new Map;let Ct=0;tt.forEach((ri,ui)=>{const Qn=wx+Ct++;mt.set(ui,Qn),ri.forEach(ai=>Xl(ai,Qn))});const Ot=[],Yt=new Set,fn=new Set;for(let ri=0;ri<this.collectedLeaveElements.length;ri++){const ui=this.collectedLeaveElements[ri],Qn=ui[Ac];Qn&&Qn.setForRemoval&&(Ot.push(ui),Yt.add(ui),Qn.hasAnimation?this.driver.query(ui,".ng-star-inserted",!0).forEach(ai=>Yt.add(ai)):fn.add(ui))}const sn=new Map,En=Ow(ze,Array.from(Yt));En.forEach((ri,ui)=>{const Qn=Yb+Ct++;sn.set(ui,Qn),ri.forEach(ai=>Xl(ai,Qn))}),n.push(()=>{tt.forEach((ri,ui)=>{const Qn=mt.get(ui);ri.forEach(ai=>Sm(ai,Qn))}),En.forEach((ri,ui)=>{const Qn=sn.get(ui);ri.forEach(ai=>Sm(ai,Qn))}),Ot.forEach(ri=>{this.processLeaveNode(ri)})});const Dn=[],Vn=[];for(let ri=this._namespaceList.length-1;ri>=0;ri--)this._namespaceList[ri].drainQueuedTransitions(e).forEach(Qn=>{const ai=Qn.player,Wi=Qn.element;if(Dn.push(ai),this.collectedEnterElements.length){const to=Wi[Ac];if(to&&to.setForMove){if(to.previousTriggersValues&&to.previousTriggersValues.has(Qn.triggerName)){const Is=to.previousTriggersValues.get(Qn.triggerName),Ea=this.statesByElement.get(Qn.element);if(Ea&&Ea.has(Qn.triggerName)){const Cm=Ea.get(Qn.triggerName);Cm.value=Is,Ea.set(Qn.triggerName,Cm)}}return void ai.destroy()}}const Er=!pe||!this.driver.containsElement(pe,Wi),qi=sn.get(Wi),Vr=mt.get(Wi),ar=this._buildInstruction(Qn,i,Vr,qi,Er);if(ar.errors&&ar.errors.length)return void Vn.push(ar);if(Er)return ai.onStart(()=>Yf(Wi,ar.fromStyles)),ai.onDestroy(()=>nd(Wi,ar.toStyles)),void o.push(ai);if(Qn.isFallbackTransition)return ai.onStart(()=>Yf(Wi,ar.fromStyles)),ai.onDestroy(()=>nd(Wi,ar.toStyles)),void o.push(ai);const Bo=[];ar.timelines.forEach(to=>{to.stretchStartingKeyframe=!0,this.disabledNodes.has(to.element)||Bo.push(to)}),ar.timelines=Bo,i.append(Wi,ar.timelines),m.push({instruction:ar,player:ai,element:Wi}),ar.queriedElements.forEach(to=>Ml(v,to,[]).push(ai)),ar.preStyleProps.forEach((to,Is)=>{if(to.size){let Ea=I.get(Is);Ea||I.set(Is,Ea=new Set),to.forEach((Cm,zf)=>Ea.add(zf))}}),ar.postStyleProps.forEach((to,Is)=>{let Ea=j.get(Is);Ea||j.set(Is,Ea=new Set),to.forEach((Cm,zf)=>Ea.add(zf))})});if(Vn.length){const ri=[];Vn.forEach(ui=>{ri.push(function PR(r,n){return new t.vHH(3505,!1)}())}),Dn.forEach(ui=>ui.destroy()),this.reportError(ri)}const Rn=new Map,qn=new Map;m.forEach(ri=>{const ui=ri.element;i.has(ui)&&(qn.set(ui,ui),this._beforeAnimationBuild(ri.player.namespaceId,ri.instruction,Rn))}),o.forEach(ri=>{const ui=ri.element;this._getPreviousPlayers(ui,!1,ri.namespaceId,ri.triggerName,null).forEach(ai=>{Ml(Rn,ui,[]).push(ai),ai.destroy()})});const ni=Ot.filter(ri=>Rw(ri,I,j)),kn=new Map;ww(kn,this.driver,fn,j,vo.l3).forEach(ri=>{Rw(ri,I,j)&&ni.push(ri)});const mi=new Map;tt.forEach((ri,ui)=>{ww(mi,this.driver,new Set(ri),I,vo.k1)}),ni.forEach(ri=>{const ui=kn.get(ri),Qn=mi.get(ri);kn.set(ri,new Map([...ui?.entries()??[],...Qn?.entries()??[]]))});const Yi=[],yo=[],Fr={};m.forEach(ri=>{const{element:ui,player:Qn,instruction:ai}=ri;if(i.has(ui)){if(ne.has(ui))return Qn.onDestroy(()=>nd(ui,ai.toStyles)),Qn.disabled=!0,Qn.overrideTotalTime(ai.totalTime),void o.push(Qn);let Wi=Fr;if(qn.size>1){let qi=ui;const Vr=[];for(;qi=qi.parentNode;){const ar=qn.get(qi);if(ar){Wi=ar;break}Vr.push(qi)}Vr.forEach(ar=>qn.set(ar,Wi))}const Er=this._buildAnimation(Qn.namespaceId,ai,Rn,d,mi,kn);if(Qn.setRealPlayer(Er),Wi===Fr)Yi.push(Qn);else{const qi=this.playersByElement.get(Wi);qi&&qi.length&&(Qn.parentPlayer=Nu(qi)),o.push(Qn)}}else Yf(ui,ai.fromStyles),Qn.onDestroy(()=>nd(ui,ai.toStyles)),yo.push(Qn),ne.has(ui)&&o.push(Qn)}),yo.forEach(ri=>{const ui=d.get(ri.element);if(ui&&ui.length){const Qn=Nu(ui);ri.setRealPlayer(Qn)}}),o.forEach(ri=>{ri.parentPlayer?ri.syncPlayerEvents(ri.parentPlayer):ri.destroy()});for(let ri=0;ri<Ot.length;ri++){const ui=Ot[ri],Qn=ui[Ac];if(Sm(ui,Yb),Qn&&Qn.hasAnimation)continue;let ai=[];if(v.size){let Er=v.get(ui);Er&&Er.length&&ai.push(...Er);let qi=this.driver.query(ui,Ox,!0);for(let Vr=0;Vr<qi.length;Vr++){let ar=v.get(qi[Vr]);ar&&ar.length&&ai.push(...ar)}}const Wi=ai.filter(Er=>!Er.destroyed);Wi.length?ON(this,ui,Wi):this.processLeaveNode(ui)}return Ot.length=0,Yi.forEach(ri=>{this.players.push(ri),ri.onDone(()=>{ri.destroy();const ui=this.players.indexOf(ri);this.players.splice(ui,1)}),ri.play()}),Yi}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,o,d){let m=[];if(e){const v=this.playersByQueriedElement.get(n);v&&(m=v)}else{const v=this.playersByElement.get(n);if(v){const I=!d||d==d_;v.forEach(j=>{j.queued||!I&&j.triggerName!=o||m.push(j)})}}return(i||o)&&(m=m.filter(v=>!(i&&i!=v.namespaceId||o&&o!=v.triggerName))),m}_beforeAnimationBuild(n,e,i){const d=e.element,m=e.isRemovalTransition?void 0:n,v=e.isRemovalTransition?void 0:e.triggerName;for(const I of e.timelines){const j=I.element,ne=j!==d,pe=Ml(i,j,[]);this._getPreviousPlayers(j,ne,m,v,e.toState).forEach(tt=>{const mt=tt.getRealPlayer();mt.beforeDestroy&&mt.beforeDestroy(),tt.destroy(),pe.push(tt)})}Yf(d,e.fromStyles)}_buildAnimation(n,e,i,o,d,m){const v=e.triggerName,I=e.element,j=[],ne=new Set,pe=new Set,ze=e.timelines.map(mt=>{const Ct=mt.element;ne.add(Ct);const Ot=Ct[Ac];if(Ot&&Ot.removedBeforeQueried)return new vo.ZN(mt.duration,mt.delay);const Yt=Ct!==I,fn=function PN(r){const n=[];return Pw(r,n),n}((i.get(Ct)||CN).map(Rn=>Rn.getRealPlayer())).filter(Rn=>!!Rn.element&&Rn.element===Ct),sn=d.get(Ct),En=m.get(Ct),Dn=lw(this._normalizer,mt.keyframes,sn,En),Vn=this._buildPlayer(mt,Dn,fn);if(mt.subTimeline&&o&&pe.add(Ct),Yt){const Rn=new Yx(n,v,Ct);Rn.setRealPlayer(Vn),j.push(Rn)}return Vn});j.forEach(mt=>{Ml(this.playersByQueriedElement,mt.element,[]).push(mt),mt.onDone(()=>function AN(r,n,e){let i=r.get(n);if(i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&r.delete(n)}return i}(this.playersByQueriedElement,mt.element,mt))}),ne.forEach(mt=>Xl(mt,pw));const tt=Nu(ze);return tt.onDestroy(()=>{ne.forEach(mt=>Sm(mt,pw)),nd(I,e.toStyles)}),pe.forEach(mt=>{Ml(o,mt,[]).push(tt)}),tt}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new vo.ZN(n.duration,n.delay)}}class Yx{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new vo.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(o=>Dx(n,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Ml(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function nE(r){return r&&1===r.nodeType}function Iw(r,n){const e=r.style.display;return r.style.display=n??"none",e}function ww(r,n,e,i,o){const d=[];e.forEach(I=>d.push(Iw(I)));const m=[];i.forEach((I,j)=>{const ne=new Map;I.forEach(pe=>{const ze=n.computeStyle(j,pe,o);ne.set(pe,ze),(!ze||0==ze.length)&&(j[Ac]=DN,m.push(j))}),r.set(j,ne)});let v=0;return e.forEach(I=>Iw(I,d[v++])),m}function Ow(r,n){const e=new Map;if(r.forEach(v=>e.set(v,[])),0==n.length)return e;const o=new Set(n),d=new Map;function m(v){if(!v)return 1;let I=d.get(v);if(I)return I;const j=v.parentNode;return I=e.has(j)?j:o.has(j)?1:m(j),d.set(v,I),I}return n.forEach(v=>{const I=m(v);1!==I&&e.get(I).push(v)}),e}function Xl(r,n){r.classList?.add(n)}function Sm(r,n){r.classList?.remove(n)}function ON(r,n,e){Nu(e).onDone(()=>r.processLeaveNode(n))}function Pw(r,n){for(let e=0;e<r.length;e++){const i=r[e];i instanceof vo.ZE?Pw(i.players,n):n.push(i)}}function Rw(r,n,e){const i=e.get(r);if(!i)return!1;let o=n.get(r);return o?i.forEach(d=>o.add(d)):n.set(r,i),e.delete(r),!0}class iE{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,d)=>{},this._transitionEngine=new MN(n,e,i),this._timelineEngine=new yN(n,e,i),this._transitionEngine.onRemovalComplete=(o,d)=>this.onRemovalComplete(o,d)}registerTrigger(n,e,i,o,d){const m=n+"-"+o;let v=this._triggerCache[m];if(!v){const I=[],ne=Lx(this._driver,d,I,[]);if(I.length)throw function ER(r,n){return new t.vHH(3404,!1)}();v=function pN(r,n,e){return new gN(r,n,e)}(o,ne,this._normalizer),this._triggerCache[m]=v}this._transitionEngine.registerTrigger(e,o,v)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,o){this._transitionEngine.insertNode(n,e,i,o)}onRemove(n,e,i){this._transitionEngine.removeNode(n,e,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,o){if("@"==i.charAt(0)){const[d,m]=cw(i);this._timelineEngine.command(d,e,m,o)}else this._transitionEngine.trigger(n,e,i,o)}listen(n,e,i,o,d){if("@"==i.charAt(0)){const[m,v]=cw(i);return this._timelineEngine.listen(m,e,v,d)}return this._transitionEngine.listen(n,e,i,o,d)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let LN=(()=>{class r{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,o){this._element=e,this._startStyles=i,this._endStyles=o,this._state=0;let d=r.initialStylesByElement.get(e);d||r.initialStylesByElement.set(e,d=new Map),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&nd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(nd(this._element,this._initialStyles),this._endStyles&&(nd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Yf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yf(this._element,this._endStyles),this._endStyles=null),nd(this._element,this._initialStyles),this._state=3)}}return r})();function Wx(r){let n=null;return r.forEach((e,i)=>{(function kN(r){return"display"===r||"position"===r})(i)&&(n=n||new Map,n.set(i,e))}),n}class Nw{constructor(n,e,i,o){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{"offset"!==o&&n.set(o,this._finished?i:yw(this.element,o))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class FN{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return uw(n,e)}getParentElement(n){return Ax(n)}query(n,e,i){return fw(n,e,i)}computeStyle(n,e,i){return window.getComputedStyle(n)[e]}animate(n,e,i,o,d,m=[]){const I={duration:i,delay:o,fill:0==o?"both":"forwards"};d&&(I.easing=d);const j=new Map,ne=m.filter(tt=>tt instanceof Nw);(function KR(r,n){return 0===r||0===n})(i,o)&&ne.forEach(tt=>{tt.currentSnapshot.forEach((mt,Ct)=>j.set(Ct,mt))});let pe=function VR(r){return r.length?r[0]instanceof Map?r:r.map(n=>gw(n)):[]}(e).map(tt=>Lu(tt));pe=function YR(r,n,e){if(e.size&&n.length){let i=n[0],o=[];if(e.forEach((d,m)=>{i.has(m)||o.push(m),i.set(m,d)}),o.length)for(let d=1;d<n.length;d++){let m=n[d];o.forEach(v=>m.set(v,yw(r,v)))}}return n}(n,pe,j);const ze=function NN(r,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=Wx(n[0]),n.length>1&&(i=Wx(n[n.length-1]))):n instanceof Map&&(e=Wx(n)),e||i?new LN(r,e,i):null}(n,pe);return new Nw(n,pe,I,ze)}}let BN=(()=>{class r extends vo._j{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:t.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?(0,vo.vP)(e):e;return Lw(this._renderer,null,i,"register",[o]),new UN(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.FYo),t.LFG(g.K0))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();class UN extends vo.LC{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new jN(this._id,n,e||{},this._renderer)}}class jN{constructor(n,e,i,o){this.id=n,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return Lw(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Lw(r,n,e,i,o){return r.setProperty(n,`@@${e}:${i}`,o)}const kw="@.disabled";let VN=(()=>{class r{constructor(e,i,o){this.delegate=e,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(d,m)=>{const v=m?.parentNode(d);v&&m.removeChild(v,d)}}createRenderer(e,i){const d=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let ne=this._rendererCache.get(d);return ne||(ne=new Fw("",d,this.engine,()=>this._rendererCache.delete(d)),this._rendererCache.set(d,ne)),ne}const m=i.id,v=i.id+"-"+this._currentId;this._currentId++,this.engine.register(v,e);const I=ne=>{Array.isArray(ne)?ne.forEach(I):this.engine.registerTrigger(m,v,e,ne.name,ne)};return i.data.animation.forEach(I),new GN(this,v,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,o){e>=0&&e<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[m,v]=d;m(v)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.FYo),t.LFG(iE),t.LFG(t.R0b))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();class Fw{constructor(n,e,i,o){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,o=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,o)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,o){this.delegate.setAttribute(n,e,i,o)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,o){this.delegate.setStyle(n,e,i,o)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){"@"==e.charAt(0)&&e==kw?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class GN extends Fw{constructor(n,e,i,o,d){super(e,i,o,d),this.factory=n,this.namespaceId=e}setProperty(n,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==kw?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if("@"==e.charAt(0)){const o=function HN(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(n);let d=e.slice(1),m="";return"@"!=d.charAt(0)&&([d,m]=function KN(r){const n=r.indexOf(".");return[r.substring(0,n),r.slice(n+1)]}(d)),this.engine.listen(this.namespaceId,o,d,m,v=>{this.factory.scheduleListenerCallback(v._data||-1,i,v)})}return this.delegate.listen(n,e,i)}}let YN=(()=>{class r extends iE{constructor(e,i,o,d){super(e.body,i,o)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(g.K0),t.LFG(Ix),t.LFG(jx),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const Bw=[{provide:vo._j,useClass:BN},{provide:jx,useFactory:function WN(){return new uN}},{provide:iE,useClass:YN},{provide:t.FYo,useFactory:function zN(r,n,e){return new VN(r,n,e)},deps:[c.se,iE,t.R0b]}],zx=[{provide:Ix,useFactory:()=>new FN},{provide:t.QbO,useValue:"BrowserAnimations"},...Bw],Uw=[{provide:Ix,useClass:hw},{provide:t.QbO,useValue:"NoopAnimations"},...Bw];let ZN=(()=>{class r{static withConfig(e){return{ngModule:r,providers:e.disableAnimations?Uw:zx}}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({providers:zx,imports:[c.b2]})}return r})();const jw_firebase={apiKey:"AIzaSyCPw-M_b3TyI_lHHkg3lT8ZZ_Z8XRa6vLU",authDomain:"sinovadclient-119aa.firebaseapp.com",projectId:"sinovadclient-119aa",storageBucket:"sinovadclient-119aa.appspot.com",messagingSenderId:"734621308263",appId:"1:734621308263:web:93ab2203f67a179c5a4bc2",measurementId:"G-2HCXG6DS06"};function $N(r,n){if(1&r&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&r){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.sharedService.getInitials(e.sharedService.currentProfile)," ")}}function qN(r,n){if(1&r&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(3);t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.sharedService.currentProfile.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function JN(r,n){if(1&r&&(t.TgZ(0,"span",11),t._uU(1),t.qZA(),t.YNc(2,$N,2,1,"div",12),t.YNc(3,qN,3,6,"img",12)),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.sharedService.currentProfile.FullName," "),t.xp6(1),t.Q6J("ngIf",null==e.sharedService.currentProfile.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.sharedService.currentProfile.AvatarPath)}}function QN(r,n){if(1&r&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&r){const e=t.oxw(2).$implicit,i=t.oxw(3);t.xp6(1),t.hij(" ",i.sharedService.getInitials(e)," ")}}function XN(r,n){if(1&r&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(2).$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function eL(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"a",15,5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,d=t.oxw(3);return t.KtG(d.onSelectProfile(o))}),t.YNc(3,QN,2,1,"div",12),t.YNc(4,XN,3,6,"img",12),t.TgZ(5,"span",11),t._uU(6),t.qZA()()()}if(2&r){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",null==e.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.AvatarPath),t.xp6(2),t.hij(" ",e.FullName," ")}}function tL(r,n){if(1&r&&t.YNc(0,eL,7,3,"li",10),2&r){const e=n.$implicit,i=t.oxw(3);t.Q6J("ngIf",i.sharedService.currentProfile&&e.Id!=i.sharedService.currentProfile.Id)}}function nL(r,n){if(1&r&&t.YNc(0,tL,1,1,"ng-template",14),2&r){const e=t.oxw(2);t.Q6J("ngForOf",e.sharedService.listProfiles)}}function iL(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onClickAdminMode())}),t.TgZ(2,"span"),t._uU(3,"Mantenimiento"),t.qZA()()()}}function rL(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"ul",2)(2,"li",3)(3,"a",4,5),t.YNc(5,JN,4,3,"ng-template",6),t.qZA()(),t._UZ(6,"div",7),t.TgZ(7,"div",8),t.YNc(8,nL,1,1,"ng-template",6),t.TgZ(9,"li",3)(10,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickEditProfilesButton())}),t.TgZ(11,"span"),t._uU(12,"Editar perfiles"),t.qZA()()(),t.TgZ(13,"li",3)(14,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickAccountOption())}),t.TgZ(15,"span"),t._uU(16,"Cuenta"),t.qZA()()(),t.YNc(17,iL,4,0,"li",10),t.TgZ(18,"li",3)(19,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.logOut())}),t.TgZ(20,"span"),t._uU(21,"Cerrar Sesi\xf3n"),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.sharedService.currentProfile),t.xp6(3),t.Q6J("ngIf",e.sharedService.listProfiles&&e.sharedService.listProfiles.length>0),t.xp6(9),t.Q6J("ngIf",e.sharedService.manageMenus&&e.sharedService.manageMenus.length>0)}}let oL=(()=>{class r{constructor(e,i,o,d){this.userService=e,this.ref=i,this.router=o,this.sharedService=d}onClickChangeProfileButton(){this.sharedService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/select-profile")}onClickEditProfilesButton(){this.sharedService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/select-profile")}onSelectProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}onClickAccountOption(){this.router.navigateByUrl("/settings/account")}onClickAdminMode(){this.router.navigateByUrl(this.sharedService.manageMenus[0].ChildMenus[0].Path)}logOut(){this.userService.clearSessionData(),this.router.navigateByUrl("/landing")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(lo),t.Y36(t.sBO),t.Y36(Kn.F0),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-dropdown-user"]],decls:1,vars:1,consts:[["class","sinovad-user-dropdown",4,"ngIf"],[1,"sinovad-user-dropdown"],["role","menu",1,"sinovad-dropdown-list"],[1,"sinovad-avatar-item"],["id","avatar_button",1,"sinovad-avatar-button","principal"],["button",""],[3,"ngIf"],[1,"sinovad-separator-dropdown"],[1,"sinovad-bottom-list"],[3,"click"],["class","sinovad-avatar-item",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-initials-profile"],["ngFor","",3,"ngForOf"],["id","avatar_button",1,"sinovad-avatar-button",3,"click"]],template:function(i,o){1&i&&t.YNc(0,rL,22,3,"div",0),2&i&&t.Q6J("ngIf",!o.sharedService.showSplashScreen)},dependencies:[g.sg,g.O5,g.Ov,Wr],styles:["[_nghost-%COMP%]{height:100%}.sinovad-user-dropdown[_ngcontent-%COMP%]{height:100%;display:flex;align-items:flex-start}ul.sinovad-dropdown-list[_ngcontent-%COMP%]{background:transparent;border:1px solid transparent;box-shadow:none;height:100%;max-height:72px;padding:0 20px;width:100px;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-separator-dropdown[_ngcontent-%COMP%], ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-bottom-list[_ngcontent-%COMP%]{display:none}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover{background:rgb(19,19,19);border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;height:auto;max-height:calc(100vh - 40px);padding-top:10px;padding-bottom:20px;width:240px;z-index:10;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-separator-dropdown[_ngcontent-%COMP%]{width:100%;padding-left:10px;height:2px;background-color:#fff;display:block;margin-top:10px}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]{display:block}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]{margin-top:10px;width:200px;opacity:.7;font-size:16px;cursor:pointer}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-avatar-button[_ngcontent-%COMP%]{display:block;padding-left:0;background:transparent;border:none;cursor:pointer;color:#fff;display:flex;align-items:center;text-decoration:unset}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:20px;margin-right:10px}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:1px solid white;display:flex;align-items:center;justify-content:center;font-size:30px}.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 1024px){.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:none}.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}}"]})}return r})();const sL=["searchTarget"],Vw=function(){return["/home"]};function aL(r,n){1&r&&(t.TgZ(0,"a",11),t._UZ(1,"i",12),t.qZA()),2&r&&t.Q6J("routerLink",t.DdM(1,Vw))}const Gw=function(r){return{focused:r}};function lL(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"input",6,7),t.NdJ("ngModelChange",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.searchText=o)})("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeSearchValue())})("focus",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isFocusSearch=!0)})("blur",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isFocusSearch=!1)}),t.qZA(),t.TgZ(4,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickSearchButton())}),t._UZ(5,"i",9),t.qZA()(),t.TgZ(6,"div",15)(7,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showNavbarSearch=!1)}),t._UZ(8,"i",16),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(2,Gw,e.isFocusSearch)),t.xp6(1),t.Q6J("ngModel",e.searchText)}}let cL=(()=>{class r{constructor(e,i,o){this.router=e,this.restProvider=i,this.sharedService=o,this.toggleSidebar=new t.vpe,this.selectOption=new t.vpe,this.toggleMenu=new t.vpe,this.searchText="",this.isFocusSearch=!1,this.showDropDown=!1,this.showNavbarSearch=!1}ngOnInit(){}ngAfterViewInit(){this.addClickEvent()}onClickSearchButton(){this.showNavbarSearch=!0}addClickEvent(){const e=document.getElementById("userDropDown");document.addEventListener("click",i=>{this.showDropDown=!!i.composedPath().includes(e)})}onClickHomeOption(){this.router.navigateByUrl("/home")}onClickOption(e){this.selectOption.emit(e)}onSelectProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}onClickChangeProfileButton(){this.sharedService.showSplashScreen=!0}onChangeSearchValue(){this.router.navigateByUrl(null!=this.searchText&&""!=this.searchText?"/search?text="+this.searchText:"/home"),this.searchText=""}onClickToggleSidebarButton(e){e.preventDefault(),e.stopPropagation(),this.toggleSidebar.emit(!0)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Kn.F0),t.Y36(Oi),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-navbar"]],viewQuery:function(i,o){if(1&i&&t.Gf(sL,5),2&i){let d;t.iGM(d=t.CRH())&&(o.searchTarget=d.first)}},inputs:{showingSidebarAccount:"showingSidebarAccount",showingSidebarAdminMode:"showingSidebarAdminMode"},outputs:{toggleSidebar:"toggleSidebar",selectOption:"selectOption",toggleMenu:"toggleMenu"},decls:16,vars:14,consts:[[1,"nav-button-icon-container","toggle",3,"click"],[1,"fa-solid","fa-bars"],["class","nav-button-icon-container home",3,"routerLink",4,"ngIf"],[1,"sinovad-logo-button",3,"routerLink"],[3,"src"],[1,"sinovad-custom-search",3,"ngClass"],["type","text",3,"ngModel","ngModelChange","change","focus","blur"],["input",""],[3,"click"],[1,"fa-solid","fa-magnifying-glass"],["class","sinovad-navbar-search",4,"ngIf"],[1,"nav-button-icon-container","home",3,"routerLink"],[1,"fa-solid","fa-house"],[1,"sinovad-navbar-search"],[1,"sinovad-bottom-search",3,"ngClass"],[1,"sinovad-close-search-container"],[1,"fa","fa-times"]],template:function(i,o){1&i&&(t.TgZ(0,"header")(1,"nav")(2,"a",0),t.NdJ("click",function(m){return o.onClickToggleSidebarButton(m)}),t._UZ(3,"i",1),t.qZA(),t.YNc(4,aL,2,2,"a",2),t.TgZ(5,"a",3),t._UZ(6,"img",4),t.ALo(7,"async"),t.ALo(8,"formatDataPipe"),t.qZA(),t.TgZ(9,"div",5)(10,"input",6,7),t.NdJ("ngModelChange",function(m){return o.searchText=m})("change",function(){return o.onChangeSearchValue()})("focus",function(){return o.isFocusSearch=!0})("blur",function(){return o.isFocusSearch=!1}),t.qZA(),t.TgZ(12,"button",8),t.NdJ("click",function(){return o.onClickSearchButton()}),t._UZ(13,"i",9),t.qZA()(),t._UZ(14,"app-dropdown-user"),t.qZA(),t.YNc(15,lL,9,4,"div",10),t.qZA()),2&i&&(t.xp6(4),t.Q6J("ngIf",o.showingSidebarAccount||o.showingSidebarAdminMode),t.xp6(1),t.Q6J("routerLink",t.DdM(11,Vw)),t.xp6(1),t.Q6J("src",t.lcZ(7,6,t.xi3(8,8,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngClass",t.VKq(12,Gw,o.isFocusSearch&&!o.sharedService.isSmallDevice())),t.xp6(1),t.Q6J("ngModel",o.searchText),t.xp6(5),t.Q6J("ngIf",o.sharedService.isSmallDevice()&&o.showNavbarSearch))},dependencies:[g.mk,g.O5,tn.Fj,tn.JJ,tn.On,Kn.rH,oL,g.Ov,Wr],styles:[".nav-button-icon-container[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;color:#fff;font-size:24px;opacity:.7;display:none}.nav-button-icon-container.home[_ngcontent-%COMP%]{display:block}.sinovad-logo-button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;text-decoration:unset;font-size:20px}.sinovad-logo-button[_ngcontent-%COMP%]   .first-span[_ngcontent-%COMP%]{color:#007bff;margin-right:6px}.sinovad-logo-button[_ngcontent-%COMP%]   .second-span[_ngcontent-%COMP%]{color:#fff}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px;margin-bottom:6px}.sinovad-custom-search[_ngcontent-%COMP%]{display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-left:20px;background-color:#fff}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-custom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.nav-button-icon-container[_ngcontent-%COMP%]:hover{opacity:1}nav[_ngcontent-%COMP%]{background:black;color:#fff;flex-wrap:nowrap;justify-content:flex-start;display:flex;height:70px;align-items:center}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]{list-style-type:none;flex-direction:row;display:flex;height:100%;align-items:center;margin-bottom:0}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-decoration:unset;height:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px}.sinovad-navbar-search[_ngcontent-%COMP%]{background:black;display:flex;align-items:center;padding:10px 20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-right:20px;background-color:#fff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px;width:100%}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]{width:20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;color:#fff;padding-right:8px;padding-left:8px;font-size:24px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-logo-button[_ngcontent-%COMP%]{margin-left:10px;margin-right:0}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110px}.nav-button-icon-container.toggle[_ngcontent-%COMP%]{display:block}.nav-button-icon-container.home[_ngcontent-%COMP%], .sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sinovad-custom-search[_ngcontent-%COMP%]{background:transparent}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}}"]})}return r})();function dL(r,n){1&r&&t._UZ(0,"i",12)}const uL=function(r){return{selected:r}};function fL(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"a",3),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onClickDropDownMenuOption(d))}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6),t._uU(4),t.qZA(),t.TgZ(5,"div",7),t._uU(6),t.qZA()(),t.TgZ(7,"div",8)(8,"div",9),t.YNc(9,dL,1,0,"i",10),t.qZA(),t.TgZ(10,"div",11),t._UZ(11,"i"),t.qZA()()()()}if(2&r){const e=n.$implicit;t.Q6J("ngClass",t.VKq(7,uL,e.isSelected)),t.xp6(4),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," "),t.xp6(3),t.Q6J("ngIf",e.isSelected),t.xp6(2),t.Tol(e.iconClass)}}function hL(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("clickOutside",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickOutside())}),t.YNc(1,fL,12,9,"ng-template",2),t.qZA()}if(2&r){const e=t.oxw();t.Udp("width",e.width+"px")("top",e.top+"px")("left",e.left+"px"),t.xp6(1),t.Q6J("ngForOf",e.dropDownMenuOptions.listItems)}}let mL=(()=>{class r{constructor(e,i,o){this.ref=e,this.sharedService=i,this.router=o,this.hide=new t.vpe,this.clickItem=new t.vpe,this.show=!1}ngAfterViewInit(){this.showContent()}showContent(){var e=this;return(0,ki.Z)(function*(){yield e.sharedService.delay(100),e.show=!0,e.ref.detectChanges()})()}onClickOutside(){this.hide.emit(!0)}onClickDropDownMenuOption(e){this.clickItem.emit(e),this.router.navigateByUrl(e.path)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.sBO),t.Y36(fi),t.Y36(Kn.F0))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-drop-down-servers"]],inputs:{dropDownMenuOptions:"dropDownMenuOptions",top:"top",left:"left",width:"width"},outputs:{hide:"hide",clickItem:"clickItem"},decls:1,vars:1,consts:[["class","sinovad-drop-down-menu-item-list",3,"width","top","left","clickOutside",4,"ngIf"],[1,"sinovad-drop-down-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-drop-down-menu-item-container",3,"ngClass","click"],[1,"sinovad-drop-down-menu-item-content"],[1,"left"],[1,"title"],[1,"subtitle"],[1,"right"],[1,"selected-icon-container"],["class","fa-solid fa-check",4,"ngIf"],[1,"icon-container"],[1,"fa-solid","fa-check"]],template:function(i,o){1&i&&t.YNc(0,hL,2,7,"div",0),2&i&&t.Q6J("ngIf",o.show)},dependencies:[g.mk,g.sg,g.O5,Ql],styles:[".sinovad-drop-down-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:none;box-shadow:#00000080 0 0 18px;color:#fff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]{height:60px;padding:8px 10px 8px 25px;width:100%;word-wrap:break-word;display:block;font-size:13px;text-align:left;-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3}a.sinovad-drop-down-menu-item-container.selected[_ngcontent-%COMP%]{color:#007bff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important;font-size:13px}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffff4d;font-size:12px;max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-shrink:0}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .selected-icon-container[_ngcontent-%COMP%]{fill:currentcolor;display:inline-block;height:1em;line-height:1;position:relative;vertical-align:middle;width:1em;font-size:14px;margin-left:10px;top:0;color:#007bff;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-left:10px;margin-right:10px;color:#6b5}"]})}return r})(),pL=(()=>{class r{constructor(e,i,o){this.factoryResolver=e,this.injector=i,this.applicationRef=o,this.isShowing=!1}show(e){return new Promise((i,o)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const d=this.factoryResolver.resolveComponentFactory(mL);this.componentRef=d.create(this.injector),this.lastViewRef=this.componentRef.hostView,this.applicationRef.attachView(this.componentRef.hostView);let m=this;const v=e.target.getBoundingClientRect();this.componentRef.instance.dropDownMenuOptions=e,this.componentRef.instance.left=v.left,this.componentRef.instance.top=v.top+v.height,this.componentRef.instance.width=v.width,this.componentRef.instance.clickItem.subscribe(ne=>{this.componentRef.destroy(),m.applicationRef.detachView(this.componentRef.hostView),m.isShowing=!1,i(ne)}),this.componentRef.instance.hide.subscribe(ne=>{this.componentRef.destroy(),m.applicationRef.detachView(this.componentRef.hostView),m.isShowing=!1,o(!0)}),this.isShowing=!0;const I=this.componentRef.hostView.rootNodes[0];document.getElementById("sinovadMainContainer").appendChild(I)})}closeDropDown(){this.componentRef.instance.hide.emit(!0)}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const gL=["mediaServerButton"],Zx=function(r){return{selected:r}},_L=function(){return["/settings/account"]};function vL(r,n){if(1&r&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._uU(3),t.qZA()(),t.TgZ(4,"div",9)(5,"a",10)(6,"div",11),t._UZ(7,"div",12),t.TgZ(8,"div",13),t._uU(9," Cuenta "),t.qZA()()()()()),2&r){const e=t.oxw();t.xp6(3),t.AsE(" ",e.sharedService.userData.FirstName," ",e.sharedService.userData.LastName," "),t.xp6(1),t.Q6J("ngClass",t.VKq(4,Zx,e.isSelectedAccountOption())),t.xp6(1),t.Q6J("routerLink",t.DdM(6,_L))}}function yL(r,n){1&r&&t._UZ(0,"i",23)}function bL(r,n){1&r&&t._UZ(0,"i",24)}function EL(r,n){1&r&&t._UZ(0,"i",28)}function TL(r,n){1&r&&t._UZ(0,"i",29)}const SL=function(r,n){return{"icon-secure":r,"icon-alert":n}};function CL(r,n){if(1&r&&(t.TgZ(0,"div",25),t.YNc(1,EL,1,0,"i",26),t.YNc(2,TL,1,0,"i",27),t.qZA()),2&r){const e=t.oxw(2);t.Q6J("ngClass",t.WLB(3,SL,e.selectedMediaServer.isSecureConnection,!e.selectedMediaServer.isSecureConnection)),t.xp6(1),t.Q6J("ngIf",e.selectedMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",!e.selectedMediaServer.isSecureConnection)}}function DL(r,n){1&r&&(t.TgZ(0,"div",30),t._UZ(1,"i",31),t.qZA())}function xL(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",14,15),t.NdJ("click",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.togleDropDownMediaServers(o))}),t.TgZ(2,"div",16)(3,"div",17)(4,"span",18),t._uU(5),t.qZA(),t.YNc(6,yL,1,0,"i",19),t.YNc(7,bL,1,0,"i",20),t.qZA(),t.YNc(8,CL,3,6,"div",21),t.YNc(9,DL,2,0,"div",22),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(6,Zx,e.isSelectedServerOption())),t.xp6(5),t.hij(" ",e.selectedMediaServer.FamilyName?e.selectedMediaServer.FamilyName:e.selectedMediaServer.DeviceName," "),t.xp6(1),t.Q6J("ngIf",e.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngIf",!e.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngIf",!e.loadingConnection),t.xp6(1),t.Q6J("ngIf",e.loadingConnection)}}const ML=function(r){return[r]};function AL(r,n){if(1&r&&(t.TgZ(0,"div",9)(1,"a",10)(2,"div",11),t._UZ(3,"div",12),t.TgZ(4,"div",13),t._uU(5),t.qZA()()()()),2&r){const e=n.$implicit,i=t.oxw(5);t.Q6J("ngClass",t.VKq(3,Zx,i.isSelectedSidebarOption(e))),t.xp6(1),t.Q6J("routerLink",t.VKq(5,ML,i.getOptionPath(e))),t.xp6(4),t.hij(" ",e.name," ")}}function IL(r,n){if(1&r&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._uU(3),t.qZA()(),t.YNc(4,AL,6,7,"ng-template",32),t.qZA()),2&r){const e=n.$implicit;t.xp6(3),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngForOf",e.listOptions)}}function wL(r,n){if(1&r&&t.YNc(0,IL,5,2,"ng-template",32),2&r){const e=t.oxw(3);t.Q6J("ngForOf",e.serverModules)}}function OL(r,n){if(1&r&&(t.TgZ(0,"div")(1,"p",33),t._uU(2),t.qZA()()),2&r){const e=t.oxw(3);t.xp6(2),t.hij('No se puede conectar a "',e.selectedMediaServer.FamilyName?e.selectedMediaServer.FamilyName:e.selectedMediaServer.DeviceName,'" desde este sitio')}}function PL(r,n){if(1&r&&(t.YNc(0,wL,1,1,"ng-template",5),t.YNc(1,OL,3,1,"ng-template",5)),2&r){const e=t.oxw(2);t.Q6J("ngIf",!e.sharedService.isHttpsSite()),t.xp6(1),t.Q6J("ngIf",e.sharedService.isHttpsSite())}}function RL(r,n){if(1&r&&(t.TgZ(0,"div")(1,"p",33),t._uU(2),t.qZA()()),2&r){const e=t.oxw(2);t.xp6(2),t.hij('No se puede conectar a "',e.selectedMediaServer.FamilyName?e.selectedMediaServer.FamilyName:e.selectedMediaServer.DeviceName,'" porque el servidor esta apagado')}}function NL(r,n){if(1&r&&(t.YNc(0,PL,2,2,"ng-template",5),t.YNc(1,RL,3,1,"ng-template",5)),2&r){const e=t.oxw();t.Q6J("ngIf",e.selectedMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",!e.selectedMediaServer.isSecureConnection)}}function LL(r,n){1&r&&(t.TgZ(0,"div",34),t._UZ(1,"mat-spinner"),t.qZA())}let kL=(()=>{class r{constructor(e,i,o,d,m){this.signalIrService=e,this.dropDownServersService=i,this.activeRoute=o,this.ref=d,this.sharedService=m,this.mediaServers=[],this.collapseSidebar=new t.vpe,this.loadingConnection=!0,this.serverModules=[{index:1,order:1,name:"Estado",listOptions:[{index:2,name:"Alertas",path:"/settings/server/{serverGuid}/status/alerts"}]},{index:2,order:2,name:"Ajustes",listOptions:[{index:3,name:"General",path:"/settings/server/{serverGuid}/settings/general"},{index:4,name:"Transcodificador",path:"/settings/server/{serverGuid}/settings/transcoder"}]},{index:3,order:3,name:"Gestionar",listOptions:[{index:7,name:"Bibliotecas",path:"/settings/server/{serverGuid}/manage/libraries"}]}],this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(v=>{this.selectedMediaServer&&this.selectedMediaServer.Guid==v&&!this.selectedMediaServer.isSecureConnection&&(this.selectedMediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.closeDropDown());var I=this.mediaServers.find(j=>j.Guid==v);I&&!I.isSecureConnection&&(I.isSecureConnection=!0)}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(v=>{this.selectedMediaServer&&this.selectedMediaServer.Guid==v&&this.selectedMediaServer.isSecureConnection&&(this.selectedMediaServer.isSecureConnection=!1,this.closeDropDown());var I=this.mediaServers.find(j=>j.Guid==v);I&&I.isSecureConnection&&(I.isSecureConnection=!1)})}ngOnInit(){if(this.mediaServers=JSON.parse(JSON.stringify(this.sharedService.mediaServers)),this.mediaServers&&this.mediaServers.length>0){if(this.activeRoute.firstChild&&this.activeRoute.firstChild.snapshot.params.serverGuid){var e=this.activeRoute.firstChild.snapshot.params.serverGuid,i=this.mediaServers.find(o=>o.Guid==e);i&&(this.selectedMediaServer=i)}else this.selectedMediaServer=this.mediaServers[0];this.selectedMediaServer.isSecureConnection?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3)}}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getOptionPath(e){return e.path.replace("{serverGuid}",this.selectedMediaServer.Guid)}onClickModule(e){e.isCollapsed=!e.isCollapsed}togleDropDownMediaServers(e){this.showMediaServerMenuOptions(e)}showMediaServerMenuOptions(e){this.dropDownServersService.isShowing||this.dropDownServersService.show(this.getDropDownMenuOptions()).then(i=>{this.selectedMediaServer=i.itemData},i=>{})}getDropDownMenuOptions(){var e=void 0;if(this.mediaServerButton){let i=[];this.mediaServers.forEach(d=>{i.push({title:d.FamilyName?d.FamilyName:d.DeviceName,subtitle:d.isSecureConnection?"Conexi\xf3n exitosa":"Sin conexi\xf3n",iconClass:d.isSecureConnection?"fa-solid fa-lock icon-secure":"fa-solid fa-triangle-exclamation icon-alert",path:"/settings/server/"+d.Guid+"/settings/general",isSelected:this.selectedMediaServer.Id==d.Id,itemData:d})}),e={containerId:"sinovadMainContainer",target:this.mediaServerButton.nativeElement,listItems:i}}return e}closeDropDown(){this.dropDownServersService.isShowing&&this.dropDownServersService.closeDropDown()}isSelectedSidebarOption(e){return-1!=this.getOptionPath(e).indexOf(window.location.pathname)}isSelectedAccountOption(){return-1!="/settings/account".indexOf(window.location.pathname)}isSelectedServerOption(){return!!window.location.pathname.startsWith("/settings/server")}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Rr),t.Y36(pL),t.Y36(Kn.gz),t.Y36(t.sBO),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-account"]],viewQuery:function(i,o){if(1&i&&t.Gf(gL,5),2&i){let d;t.iGM(d=t.CRH())&&(o.mediaServerButton=d.first)}},outputs:{collapseSidebar:"collapseSidebar"},decls:7,vars:4,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sidebar-container"],[1,"sidebar-content"],["role","navigation",4,"ngIf"],["class","media-server-button",3,"ngClass","click",4,"ngIf"],[3,"ngIf"],["role","navigation"],[1,"sidebar-list-header-container"],[1,"sidebar-list-header-content"],[1,"sidebar-list-item-container",3,"ngClass"],[3,"routerLink"],[1,"sidebar-link-container"],[1,"sidebar-link-icon"],[1,"sidebar-link-title"],[1,"media-server-button",3,"ngClass","click"],["mediaServerButton",""],[1,"content"],[1,"left"],[1,"first"],["class","fa-solid fa-caret-up",4,"ngIf"],["class","fa-solid fa-caret-down",4,"ngIf"],["class","server-settings-menu-button-icon",3,"ngClass",4,"ngIf"],["class","server-settings-menu-button-icon",4,"ngIf"],[1,"fa-solid","fa-caret-up"],[1,"fa-solid","fa-caret-down"],[1,"server-settings-menu-button-icon",3,"ngClass"],["class","fa-solid fa-lock",4,"ngIf"],["class","fa-solid fa-triangle-exclamation",4,"ngIf"],[1,"fa-solid","fa-lock"],[1,"fa-solid","fa-triangle-exclamation"],[1,"server-settings-menu-button-icon"],[1,"fa-solid","fa-circle-notch","fa-spin",2,"color","white"],["ngFor","",3,"ngForOf"],[1,"sidebar-message"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(m){return o.onClickOutsideSidebar(m)}),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,vL,10,7,"div",3),t.YNc(4,xL,10,8,"button",4),t.YNc(5,NL,2,2,"ng-template",5),t.YNc(6,LL,2,0,"ng-template",5),t.qZA()()()),2&i&&(t.xp6(3),t.Q6J("ngIf",o.sharedService.userData),t.xp6(1),t.Q6J("ngIf",o.selectedMediaServer),t.xp6(1),t.Q6J("ngIf",!o.loadingConnection&&o.selectedMediaServer&&o.serverModules&&o.serverModules.length>0),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.mk,g.sg,g.O5,Ql,Nr.Ou,Kn.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11}.sidebar-container[_ngcontent-%COMP%]{border-radius:4px;display:flex;flex:0 0 240px;flex-direction:column;height:calc(100% - 8px);margin:0;transform:translateZ(0);width:100%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px}.sidebar-content[_ngcontent-%COMP%]{padding-bottom:60px;padding-top:10px}.sidebar-list-header-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-header-container[_ngcontent-%COMP%]   .sidebar-list-header-content[_ngcontent-%COMP%]{color:#ffffff4d;font-size:15px;height:45px;line-height:45px;max-width:100%;min-width:0;overflow:hidden!important;padding-left:25px;text-overflow:ellipsis;text-transform:capitalize;white-space:nowrap!important;flex-grow:1}.sidebar-list-item-container[_ngcontent-%COMP%]{border-bottom-right-radius:4px;border-top-right-radius:4px;display:flex;min-height:30px;position:relative}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;display:block;flex-grow:1;overflow:hidden;padding:4px 0 2px 25px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-icon[_ngcontent-%COMP%]{font-size:13px;width:18px;flex-shrink:0;height:14px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-title[_ngcontent-%COMP%]{flex-grow:1;word-break:break-word}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.media-server-button[_ngcontent-%COMP%]{background-color:#0000004d;font-size:13px;height:50px;line-height:50px;padding-left:25px;padding-right:15px;width:100%;-webkit-tap-highlight-color:transparent;color:#ffffffb3;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none}.content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;max-width:85%;text-align:left;display:flex;align-items:center}.left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;max-width:100%;max-width:85%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;vertical-align:top;white-space:nowrap!important;font-weight:700}.left[_ngcontent-%COMP%]   i.fa-caret-up[_ngcontent-%COMP%]{margin-left:7px;margin-top:2px}.left[_ngcontent-%COMP%]   i.fa-caret-down[_ngcontent-%COMP%]{margin-left:7px}.server-settings-menu-button-icon[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-right:10px}.media-server-button.selected[_ngcontent-%COMP%]{color:#007bff}.media-server-button[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-message[_ngcontent-%COMP%]{color:#ffffff73;margin:15px 10px 15px 25px}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function FL(r,n){1&r&&t._UZ(0,"i",9)}function BL(r,n){1&r&&t._UZ(0,"i",10)}function UL(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}const jL=function(r){return[r]},VL=function(r){return{active:r}};function GL(r,n){if(1&r&&(t.TgZ(0,"li",12)(1,"a",13),t.YNc(2,UL,1,3,"i",14),t.TgZ(3,"span",7),t._uU(4),t.qZA()()()),2&r){const e=n.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,jL,e.Path))("ngClass",t.VKq(6,VL,i.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title)}}function HL(r,n){if(1&r&&(t.TgZ(0,"div")(1,"ul",11),t.YNc(2,GL,5,8,"ng-template",2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",e.ChildMenus)}}function KL(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"button",4),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onClickModule(m,o))}),t.YNc(2,FL,1,0,"i",5),t.YNc(3,BL,1,0,"i",6),t.TgZ(4,"span",7),t._uU(5),t.qZA()(),t.YNc(6,HL,3,1,"div",8),t.qZA()}if(2&r){const e=n.$implicit;t.xp6(2),t.Q6J("ngIf",e.isCollapsed),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed),t.xp6(2),t.Oqu(e.Title),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed)}}let YL=(()=>{class r{constructor(e){this.sharedService=e,this.collapseSidebar=new t.vpe}onClickModule(e,i){i.preventDefault(),i.stopPropagation(),e.isCollapsed=!e.isCollapsed}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}isSelectedMenu(e){return-1!=e.Path.indexOf(window.location.pathname)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-administrator"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"click"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"],[3,"class",4,"ngIf"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(m){return o.onClickOutsideSidebar(m)}),t.TgZ(1,"ul",1),t.YNc(2,KL,7,4,"ng-template",2),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("ngForOf",o.sharedService.manageMenus))},dependencies:[g.mk,g.sg,g.O5,Ql,Kn.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:200px;height:100%;background:#0c0d11}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function WL(r,n){1&r&&t._UZ(0,"i",10)}function zL(r,n){1&r&&t._UZ(0,"i",11)}function ZL(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}function $L(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}const Hw=function(r){return[r]},Kw=function(r){return{active:r}};function qL(r,n){if(1&r&&(t.TgZ(0,"li",13)(1,"a",14),t.YNc(2,$L,1,3,"i",7),t.TgZ(3,"span",8),t._uU(4),t.qZA()()()),2&r){const e=n.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,Hw,e.Path))("ngClass",t.VKq(6,Kw,i.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title)}}function JL(r,n){if(1&r&&(t.TgZ(0,"div")(1,"ul",12),t.YNc(2,qL,5,8,"ng-template",2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",e.ChildMenus)}}function QL(r,n){if(1&r&&(t.TgZ(0,"li",3)(1,"button",4),t.YNc(2,WL,1,0,"i",5),t.YNc(3,zL,1,0,"i",6),t.YNc(4,ZL,1,3,"i",7),t.TgZ(5,"span",8),t._uU(6),t.qZA()(),t.YNc(7,JL,3,1,"div",9),t.qZA()),2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(7,Hw,e.Path))("ngClass",t.VKq(9,Kw,i.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",!e.IconClass&&e.isCollapsed),t.xp6(1),t.Q6J("ngIf",!e.IconClass&&!e.isCollapsed),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed)}}let XL=(()=>{class r{constructor(e,i,o){this.libraryService=e,this.signalIrService=i,this.sharedService=o,this.collapseSidebar=new t.vpe,this.mediaMenu=[],this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(d=>{var m=this.mediaMenu.find(I=>I.MediaServerGuid==d);if(m&&!m.IsSecureConnection){m.IsSecureConnection=!0;var v=this.sharedService.mediaServers.find(I=>I.Guid==m.MediaServerGuid);v&&this.updateLibrariesInMediaServer(m,v)}}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(d=>{var m=this.mediaMenu.find(v=>v.MediaServerGuid==d);m&&m.IsSecureConnection&&(m.IsSecureConnection=!1,m.ChildMenus=[])}),this.subscriptionUpdateLibrariesByMediaServer=this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(d=>{var m=this.mediaMenu.find(I=>I.MediaServerGuid==d),v=this.sharedService.mediaServers.find(I=>I.Guid==d);m&&v&&(m.IsSecureConnection=!0,this.updateLibrariesInMediaServer(m,v))})}ngOnInit(){this.getMediaMenu()}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe(),this.subscriptionUpdateLibrariesByMediaServer.unsubscribe()}getMediaMenu(){var e=[],i=new Pu;i.SortOrder=e.length+1,i.Title="Inicio",i.Path="/home",i.IconClass="fa-house fa-solid",e.push(i);var o=new Pu;o.SortOrder=e.length+1,o.Title="Pel\xedculas",o.Path="/media/movies",o.IconClass="fa-film fa-solid",e.push(o);var d=new Pu;d.SortOrder=e.length+1,d.Title="Series",d.Path="/media/tvseries",d.IconClass="fa-tv fa-solid",e.push(d),this.mediaMenu=e,this.sharedService.mediaServers.forEach(m=>{var v=new Pu;v.SortOrder=this.mediaMenu.length+1,v.Title=null!=m.FamilyName&&""!=m.FamilyName?m.FamilyName:m.DeviceName,v.Path="/media/server/"+m.Guid,v.ChildMenus=[],v.MediaServerId=m.Id,v.MediaServerGuid=m.Guid,this.mediaMenu.push(v)}),this.buildMediaMenuFromListLibraries()}buildMediaMenuFromListLibraries(){this.sharedService.mediaServers.forEach(e=>{var i=this.mediaMenu.find(o=>o.MediaServerId==e.Id);e.isSecureConnection?(i.IsSecureConnection=!0,this.updateLibrariesInMediaServer(i,e)):(i.IsSecureConnection=!1,i.ChildMenus=[])})}updateLibrariesInMediaServer(e,i){this.libraryService.getLibrariesByMediaServer(i.Url).then(o=>{var d=[];o.forEach(m=>{var v=new Pu;v.SortOrder=d.length+1,v.Title=m.Name,v.Path="/media/server/"+i.Guid+"/libraries/"+m.Id,v.IconClass=m.MediaTypeCatalogDetailId==Et.Movie?"fa-film fa-solid":"fa-tv fa-solid",d.push(v)}),e.ChildMenus=d})}onClickModule(e){e.isCollapsed=!e.isCollapsed}isSelectedMenu(e){return-1!=decodeURIComponent(window.location.pathname).indexOf(e.Path)}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(xo),t.Y36(Rr),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-media"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"routerLink","ngClass"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[3,"class",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(m){return o.onClickOutsideSidebar(m)}),t.TgZ(1,"ul",1),t.YNc(2,QL,8,11,"ng-template",2),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("ngForOf",o.mediaMenu))},dependencies:[g.mk,g.sg,g.O5,Ql,Kn.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px;padding-top:10px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function ek(r,n){if(1&r&&(t.TgZ(0,"div",1)(1,"div",2,3)(3,"div",4)(4,"div",5),t._UZ(5,"img",6),t.ALo(6,"async"),t.ALo(7,"formatDataPipe"),t.qZA()()()()),2&r){const e=t.MAs(2);t.xp6(5),t.Udp("width",e.offsetWidth/3+"px"),t.Q6J("src",t.lcZ(6,3,t.xi3(7,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH)}}let tk=(()=>{class r{constructor(e,i,o){this.restProvider=e,this.domSanitizer=i,this.sharedService=o}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Oi),t.Y36(c.H7),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-splash-screen"]],decls:1,vars:1,consts:[["class","splash-screen-container",4,"ngIf"],[1,"splash-screen-container"],[1,"sinovad-splash-screen-container"],["container",""],[2,"text-align","center"],["role","status",1,"spinner-grow"],[3,"src"]],template:function(i,o){1&i&&t.YNc(0,ek,8,8,"div",0),2&i&&t.Q6J("ngIf",o.sharedService.showSplashScreen)},dependencies:[g.O5,g.Ov,Wr],styles:[".splash-screen-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;position:absolute;z-index:99999;top:0;left:0}.sinovad-splash-screen-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.sinovad-splash-screen-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.spinner-grow[_ngcontent-%COMP%]{background:black;width:unset;height:unset}"]})}return r})();function nk(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-navbar",12),t.NdJ("toggleSidebar",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickToggleSidebarButton())}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("showingSidebarAccount",e.showingSidebarAccount)("showingSidebarAdminMode",e.showingSidebarAdminMode)}}function ik(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-administrator",19),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function rk(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-account",19),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function ok(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-media",19),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function sk(r,n){if(1&r&&(t.TgZ(0,"section",13,14)(2,"div",15),t._UZ(3,"div",16),t.TgZ(4,"div",17),t.YNc(5,ik,1,0,"app-sidebar-administrator",18),t.YNc(6,rk,1,0,"app-sidebar-account",18),t.YNc(7,ok,1,0,"app-sidebar-media",18),t.qZA()()()),2&r){const e=t.oxw();t.Udp("height","100%"),t.xp6(5),t.Q6J("ngIf",e.showingSidebarAdminMode),t.xp6(1),t.Q6J("ngIf",e.showingSidebarAccount),t.xp6(1),t.Q6J("ngIf",e.showingSidebarMedia)}}const ak=function(r){return{locked:r}};let lk=(()=>{class r{constructor(e,i,o){this.userService=e,this.ref=i,this.sharedService=o,this._window=window,this.isCollapsedSidebar=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1,this.showRouterChildWithFullDimentions=!0}ngOnInit(){const e=window.location.search;if(""!=e){var i=new URLSearchParams(e).get("apiToken");null!=i&&localStorage.setItem("apiToken",i)}window.configurationData&&(this.sharedService.configurationData=window.configurationData),localStorage.getItem("apiToken")&&(this.sharedService.apiToken=localStorage.getItem("apiToken"),this.userService.getUserData())}ngAfterViewInit(){let e=this;window.addEventListener("click",function(d){e.sharedService.configurationData.alwaysFullScreen&&e.showPageInFullScreen()})}showPageInFullScreen(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}onClickToggleSidebarButton(){this.isCollapsedSidebar=!this.isCollapsedSidebar}onActivate(e){this.isCollapsedSidebar=!0,this.sharedService.showSplashScreen=!1,(e instanceof nw||e instanceof sf||e instanceof QI||e instanceof pt||e instanceof XI||e instanceof ew||e instanceof Lb||e instanceof tw||e instanceof Th)&&(this.showRouterChildWithFullDimentions=!0,this.showingSidebarMedia=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),e instanceof bh&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(e instanceof Eo||e instanceof ra)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(e instanceof q0||e instanceof Gg||e instanceof Dd||e instanceof jg||e instanceof bp)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),(e instanceof gm||e instanceof sw||e instanceof yb||e instanceof Jg||e instanceof bm||e instanceof XD)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!0,this.showingSidebarMedia=!1)}onResize(e){}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(lo),t.Y36(t.sBO),t.Y36(fi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-root"]],hostBindings:function(i,o){1&i&&t.NdJ("resize",function(m){return o.onResize(m)},!1,t.Jf7)},decls:16,vars:9,consts:[["id","sinovadMainContainer",1,"sinovad-main-container"],["mainContainer",""],[1,"sinovad-page-container"],["header",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar",4,"ngIf"],[1,"sinovad-menu-body-container"],["menu",""],["id","menuContainer","class","sinovad-menu-container","tabindex","0",3,"height",4,"ngIf"],["id","bodyContainer","tabindex","0",1,"sinovad-body-container",3,"ngClass"],["principalContainer",""],[3,"activate"],["footer",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar"],["id","menuContainer","tabindex","0",1,"sinovad-menu-container"],["menuContainer",""],[1,"sidebar"],[1,"blocker"],[1,"content"],[3,"collapseSidebar",4,"ngIf"],[3,"collapseSidebar"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",null,3),t.YNc(5,nk,1,2,"app-navbar",4),t.qZA(),t.TgZ(6,"div",5)(7,"div",null,6),t.YNc(9,sk,8,5,"section",7),t.qZA(),t.TgZ(10,"section",8,9)(12,"router-outlet",10),t.NdJ("activate",function(m){return o.onActivate(m)}),t.qZA()()(),t._UZ(13,"div",null,11),t.qZA()(),t._UZ(15,"app-splash-screen")),2&i){const d=t.MAs(4),m=t.MAs(8),v=t.MAs(14);t.xp6(5),t.Q6J("ngIf",!o.showRouterChildWithFullDimentions),t.xp6(1),t.Udp("height","calc(100% - "+(d.offsetHeight+v.offsetHeight)+"px)"),t.xp6(3),t.Q6J("ngIf",!(o.showRouterChildWithFullDimentions||o.sharedService.isSmallDevice()&&o.isCollapsedSidebar)),t.xp6(1),t.Udp("width","calc(100% - "+m.offsetWidth+"px)"),t.Q6J("ngClass",t.VKq(7,ak,o.sharedService.isSmallDevice()&&!o.isCollapsedSidebar))}},dependencies:[g.mk,g.O5,Kn.lC,cL,kL,YL,XL,tk],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}.sinovad-main-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-module-container[_ngcontent-%COMP%]{border-top:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%}.sinovad-header-container[_ngcontent-%COMP%]{height:60px;background:rgba(0,0,0,.15)}.sinovad-menu-body-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}.sinovad-menu-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.6);position:relative}.sinovad-body-container[_ngcontent-%COMP%]{display:block;height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-body-container.locked[_ngcontent-%COMP%]{pointer-events:none}@media only screen and (max-width: 767px){.sidebar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100vw;height:100%;padding:0;background:rgba(0,0,0,.5);display:block;z-index:99999}.sidebar[_ngcontent-%COMP%]   .blocker[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%}}"]})}return r})();var ck=S(7102);let dk=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r,bootstrap:[lk]});static#n=this.\u0275inj=t.cJS({providers:[{provide:g.mr,useValue:"/"}],imports:[c.b2,tn.u5,ck.m,Lt,XP,Ud.hO.initializeApp(jw_firebase),rO,ZN]})}return r})();c.q6().bootstrapModule(dk).catch(r=>console.error(r))},4753:(jn,nt,S)=>{"use strict";nt.Q=void 0;const t=S(2546),b=S(8540);nt.Q=E=>E.startsWith("WEBVTT")?b.vttParser(E):t.srtParser(E)},2546:(jn,nt,S)=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0}),nt.srtParser=void 0;const c=S(4575),t=S(2279),w=L=>{let p,f,g,D=L.split(":");return 2===D.length?[f,g]=D:[p,f,g]=D,parseInt(g.replace(",",""),10)+60*parseInt(f,10)*1e3+60*(p?parseInt(p,10):0)*60*1e3},E=()=>({start(L){let D="ID",p={tokens:L.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==D;){const f=this[D](p);p=f.params,D=f.next}return p.result},ID(L){const{tokens:D,pos:p,current:f}=L;if(D.length<=p)return{next:"FINISH",params:L};if(t.isBlank(D[p]))return{next:"ID",params:{...L,pos:p+1}};const g=D[p].includes("--\x3e");return f.id=g?"":D[p],{next:"TIME_LINE",params:{...L,current:f,tokens:D,pos:g?p:p+1}}},TIME_LINE(L){const{tokens:D,pos:p,current:f}=L,g=D[p],[y,M]=g.split("--\x3e");return f.from=w(y),f.to=w(M),{next:"TEXT",params:{...L,current:f,pos:p+1}}},TEXT(L){const{tokens:D,pos:p,current:f}=L;return D.length<=p?{next:"FINISH",params:L}:(f.text=D[p],{next:"MULTI_LINE_TEXT",params:{...L,current:f,pos:p+1}})},MULTI_LINE_TEXT(L){const{tokens:D,pos:p,current:f}=L;return D.length<=p?{next:"FINISH",params:L}:t.isBlank(D[p])?{next:"FIN_ENTRY",params:L}:(f.text=`${f.text}\n${D[p]}`,{next:"MULTI_LINE_TEXT",params:{...L,current:f,pos:p+1}})},FIN_ENTRY(L){const{pos:D,current:p,result:f}=L;if(!c.isEntryFromPartial(p))throw new Error(`Parsing error current not complete ${JSON.stringify(p)}`);return f.push(p),{next:"ID",params:{...L,current:{},pos:D+1}}},FINISH:L=>({next:"FINISH",params:L})});nt.srtParser=L=>({entries:E().start(L)})},4575:(jn,nt)=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0}),nt.isEntryFromPartial=void 0,nt.isEntryFromPartial=c=>"string"==typeof c.id&&"number"==typeof c.from&&"number"==typeof c.to&&"string"==typeof c.text},2279:(jn,nt)=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0}),nt.isBlank=void 0,nt.isBlank=c=>!c||/^\s*$/.test(c)},8540:(jn,nt,S)=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0}),nt.vttParser=void 0;const c=S(4575),t=S(2279),w=L=>{let p,f,g,D=L.split(":");return 2===D.length?[f,g]=D:[p,f,g]=D,parseInt(g.replace(".",""),10)+60*parseInt(f,10)*1e3+60*(p?parseInt(p,10):0)*60*1e3},E=()=>({start(L){let D="HEADER",p={tokens:L.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==D;){const f=this[D](p);p=f.params,D=f.next}return p.result},HEADER:L=>({next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:L.pos+1}}),ID_OR_NOTE_OR_STYLE(L){const{tokens:D,pos:p}=L;return D.length<=p?{next:"FINISH",params:L}:t.isBlank(D[p])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:p+1}}:D[p].toUpperCase().includes("NOTE")?{next:"NOTE",params:L}:D[p].toUpperCase().includes("STYLE")?{next:"STYLE",params:L}:{next:"ID",params:L}},STYLE(L){const{tokens:D,pos:p}=L;return t.isBlank(D[p])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:p+1}}:{next:"STYLE",params:{...L,pos:p+1}}},NOTE(L){const{tokens:D,pos:p}=L;return t.isBlank(D[p])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:p+1}}:{next:"STYLE",params:{...L,pos:p+1}}},ID(L){const{tokens:D,pos:p,current:f}=L;if(D.length<=p)return{next:"FINISH",params:L};if(t.isBlank(D[p]))return{next:"ID",params:{...L,pos:p+1}};const g=D[p].includes("--\x3e");return f.id=g?"":D[p],{next:"TIME_LINE",params:{...L,current:f,tokens:D,pos:g?p:p+1}}},TIME_LINE(L){const{tokens:D,pos:p,current:f}=L,g=D[p],[y,M]=g.split("--\x3e");return f.from=w(y),f.to=w(M),{next:"TEXT",params:{...L,current:f,pos:p+1}}},TEXT(L){const{tokens:D,pos:p,current:f}=L;return D.length<=p?{next:"FINISH",params:L}:(f.text=D[p],{next:"MULTI_LINE_TEXT",params:{...L,current:f,pos:p+1}})},MULTI_LINE_TEXT(L){const{tokens:D,pos:p,current:f}=L;return D.length<=p?{next:"FINISH",params:L}:t.isBlank(D[p])?{next:"FIN_ENTRY",params:L}:(f.text=`${f.text}\n${D[p]}`,{next:"MULTI_LINE_TEXT",params:{...L,current:f,pos:p+1}})},FIN_ENTRY(L){const{pos:D,current:p,result:f}=L;if(!c.isEntryFromPartial(p))throw new Error(`Parsing error current not complete ${JSON.stringify(p)}`);return f.push(p),{next:"ID_OR_NOTE_OR_STYLE",params:{...L,current:{},pos:D+1}}},FINISH:L=>({next:"FINISH",params:L})});nt.vttParser=L=>({entries:E().start(L)})},9919:(jn,nt)=>{"use strict";nt.byteLength=function L(M){var U=F(M),V=U[1];return 3*(U[0]+V)/4-V},nt.toByteArray=function p(M){var U,T,R=F(M),V=R[0],k=R[1],P=new t(function D(M,U,R){return 3*(U+R)/4-R}(0,V,k)),x=0,O=k>0?V-4:V;for(T=0;T<O;T+=4)U=c[M.charCodeAt(T)]<<18|c[M.charCodeAt(T+1)]<<12|c[M.charCodeAt(T+2)]<<6|c[M.charCodeAt(T+3)],P[x++]=U>>16&255,P[x++]=U>>8&255,P[x++]=255&U;return 2===k&&(U=c[M.charCodeAt(T)]<<2|c[M.charCodeAt(T+1)]>>4,P[x++]=255&U),1===k&&(U=c[M.charCodeAt(T)]<<10|c[M.charCodeAt(T+1)]<<4|c[M.charCodeAt(T+2)]>>2,P[x++]=U>>8&255,P[x++]=255&U),P},nt.fromByteArray=function y(M){for(var U,R=M.length,V=R%3,k=[],P=16383,x=0,O=R-V;x<O;x+=P)k.push(g(M,x,x+P>O?O:x+P));return 1===V?k.push(S[(U=M[R-1])>>2]+S[U<<4&63]+"=="):2===V&&k.push(S[(U=(M[R-2]<<8)+M[R-1])>>10]+S[U>>4&63]+S[U<<2&63]+"="),k.join("")};for(var S=[],c=[],t=typeof Uint8Array<"u"?Uint8Array:Array,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=0;w<64;++w)S[w]=b[w],c[b.charCodeAt(w)]=w;function F(M){var U=M.length;if(U%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=M.indexOf("=");return-1===R&&(R=U),[R,R===U?0:4-R%4]}function f(M){return S[M>>18&63]+S[M>>12&63]+S[M>>6&63]+S[63&M]}function g(M,U,R){for(var k=[],P=U;P<R;P+=3)k.push(f((M[P]<<16&16711680)+(M[P+1]<<8&65280)+(255&M[P+2])));return k.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},9007:(jn,nt,S)=>{"use strict";var t=S(9919),b=S(2601),w="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;nt.lW=D,nt.h2=50;var E=2147483647;function L(X){if(X>E)throw new RangeError('The value "'+X+'" is invalid for option "size"');var $=new Uint8Array(X);return Object.setPrototypeOf($,D.prototype),$}function D(X,$,ie){if("number"==typeof X){if("string"==typeof $)throw new TypeError('The "string" argument must be of type string. Received type number');return y(X)}return p(X,$,ie)}function p(X,$,ie){if("string"==typeof X)return function M(X,$){if(("string"!=typeof $||""===$)&&($="utf8"),!D.isEncoding($))throw new TypeError("Unknown encoding: "+$);var ie=0|O(X,$),re=L(ie),te=re.write(X,$);return te!==ie&&(re=re.slice(0,te)),re}(X,$);if(ArrayBuffer.isView(X))return function R(X){if(ae(X,Uint8Array)){var $=new Uint8Array(X);return V($.buffer,$.byteOffset,$.byteLength)}return U(X)}(X);if(null==X)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X);if(ae(X,ArrayBuffer)||X&&ae(X.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ae(X,SharedArrayBuffer)||X&&ae(X.buffer,SharedArrayBuffer)))return V(X,$,ie);if("number"==typeof X)throw new TypeError('The "value" argument must not be of type number. Received type number');var re=X.valueOf&&X.valueOf();if(null!=re&&re!==X)return D.from(re,$,ie);var te=function k(X){if(D.isBuffer(X)){var $=0|P(X.length),ie=L($);return 0===ie.length||X.copy(ie,0,0,$),ie}return void 0!==X.length?"number"!=typeof X.length||ve(X.length)?L(0):U(X):"Buffer"===X.type&&Array.isArray(X.data)?U(X.data):void 0}(X);if(te)return te;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof X[Symbol.toPrimitive])return D.from(X[Symbol.toPrimitive]("string"),$,ie);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X)}function f(X){if("number"!=typeof X)throw new TypeError('"size" argument must be of type number');if(X<0)throw new RangeError('The value "'+X+'" is invalid for option "size"')}function y(X){return f(X),L(X<0?0:0|P(X))}function U(X){for(var $=X.length<0?0:0|P(X.length),ie=L($),re=0;re<$;re+=1)ie[re]=255&X[re];return ie}function V(X,$,ie){if($<0||X.byteLength<$)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<$+(ie||0))throw new RangeError('"length" is outside of buffer bounds');var re;return re=void 0===$&&void 0===ie?new Uint8Array(X):void 0===ie?new Uint8Array(X,$):new Uint8Array(X,$,ie),Object.setPrototypeOf(re,D.prototype),re}function P(X){if(X>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return 0|X}function O(X,$){if(D.isBuffer(X))return X.length;if(ArrayBuffer.isView(X)||ae(X,ArrayBuffer))return X.byteLength;if("string"!=typeof X)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof X);var ie=X.length,re=arguments.length>2&&!0===arguments[2];if(!re&&0===ie)return 0;for(var te=!1;;)switch($){case"ascii":case"latin1":case"binary":return ie;case"utf8":case"utf-8":return st(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ie;case"hex":return ie>>>1;case"base64":return Se(X).length;default:if(te)return re?-1:st(X).length;$=(""+$).toLowerCase(),te=!0}}function T(X,$,ie){var re=!1;if((void 0===$||$<0)&&($=0),$>this.length||((void 0===ie||ie>this.length)&&(ie=this.length),ie<=0)||(ie>>>=0)<=($>>>=0))return"";for(X||(X="utf8");;)switch(X){case"hex":return Le(this,$,ie);case"utf8":case"utf-8":return K(this,$,ie);case"ascii":return me(this,$,ie);case"latin1":case"binary":return De(this,$,ie);case"base64":return le(this,$,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,$,ie);default:if(re)throw new TypeError("Unknown encoding: "+X);X=(X+"").toLowerCase(),re=!0}}function N(X,$,ie){var re=X[$];X[$]=X[ie],X[ie]=re}function C(X,$,ie,re,te){if(0===X.length)return-1;if("string"==typeof ie?(re=ie,ie=0):ie>2147483647?ie=2147483647:ie<-2147483648&&(ie=-2147483648),ve(ie=+ie)&&(ie=te?0:X.length-1),ie<0&&(ie=X.length+ie),ie>=X.length){if(te)return-1;ie=X.length-1}else if(ie<0){if(!te)return-1;ie=0}if("string"==typeof $&&($=D.from($,re)),D.isBuffer($))return 0===$.length?-1:B(X,$,ie,re,te);if("number"==typeof $)return $&=255,"function"==typeof Uint8Array.prototype.indexOf?te?Uint8Array.prototype.indexOf.call(X,$,ie):Uint8Array.prototype.lastIndexOf.call(X,$,ie):B(X,[$],ie,re,te);throw new TypeError("val must be string, number or Buffer")}function B(X,$,ie,re,te){var Me,ee=1,fe=X.length,ye=$.length;if(void 0!==re&&("ucs2"===(re=String(re).toLowerCase())||"ucs-2"===re||"utf16le"===re||"utf-16le"===re)){if(X.length<2||$.length<2)return-1;ee=2,fe/=2,ye/=2,ie/=2}function ue(ct,rt){return 1===ee?ct[rt]:ct.readUInt16BE(rt*ee)}if(te){var Ye=-1;for(Me=ie;Me<fe;Me++)if(ue(X,Me)===ue($,-1===Ye?0:Me-Ye)){if(-1===Ye&&(Ye=Me),Me-Ye+1===ye)return Ye*ee}else-1!==Ye&&(Me-=Me-Ye),Ye=-1}else for(ie+ye>fe&&(ie=fe-ye),Me=ie;Me>=0;Me--){for(var Ge=!0,at=0;at<ye;at++)if(ue(X,Me+at)!==ue($,at)){Ge=!1;break}if(Ge)return Me}return-1}function Y(X,$,ie,re){ie=Number(ie)||0;var te=X.length-ie;re?(re=Number(re))>te&&(re=te):re=te;var ee=$.length;re>ee/2&&(re=ee/2);for(var fe=0;fe<re;++fe){var ye=parseInt($.substr(2*fe,2),16);if(ve(ye))return fe;X[ie+fe]=ye}return fe}function J(X,$,ie,re){return W(st($,X.length-ie),X,ie,re)}function ce(X,$,ie,re){return W(function Qe(X){for(var $=[],ie=0;ie<X.length;++ie)$.push(255&X.charCodeAt(ie));return $}($),X,ie,re)}function Fe(X,$,ie,re){return W(Se($),X,ie,re)}function q(X,$,ie,re){return W(function Ne(X,$){for(var ie,re,ee=[],fe=0;fe<X.length&&!(($-=2)<0);++fe)re=(ie=X.charCodeAt(fe))>>8,ee.push(ie%256),ee.push(re);return ee}($,X.length-ie),X,ie,re)}function le(X,$,ie){return t.fromByteArray(0===$&&ie===X.length?X:X.slice($,ie))}function K(X,$,ie){ie=Math.min(X.length,ie);for(var re=[],te=$;te<ie;){var ue,Me,Ye,Ge,ee=X[te],fe=null,ye=ee>239?4:ee>223?3:ee>191?2:1;if(te+ye<=ie)switch(ye){case 1:ee<128&&(fe=ee);break;case 2:128==(192&(ue=X[te+1]))&&(Ge=(31&ee)<<6|63&ue)>127&&(fe=Ge);break;case 3:Me=X[te+2],128==(192&(ue=X[te+1]))&&128==(192&Me)&&(Ge=(15&ee)<<12|(63&ue)<<6|63&Me)>2047&&(Ge<55296||Ge>57343)&&(fe=Ge);break;case 4:Me=X[te+2],Ye=X[te+3],128==(192&(ue=X[te+1]))&&128==(192&Me)&&128==(192&Ye)&&(Ge=(15&ee)<<18|(63&ue)<<12|(63&Me)<<6|63&Ye)>65535&&Ge<1114112&&(fe=Ge)}null===fe?(fe=65533,ye=1):fe>65535&&(re.push((fe-=65536)>>>10&1023|55296),fe=56320|1023&fe),re.push(fe),te+=ye}return function se(X){var $=X.length;if($<=_e)return String.fromCharCode.apply(String,X);for(var ie="",re=0;re<$;)ie+=String.fromCharCode.apply(String,X.slice(re,re+=_e));return ie}(re)}!(D.TYPED_ARRAY_SUPPORT=function F(){try{var X=new Uint8Array(1),$={foo:function(){return 42}};return Object.setPrototypeOf($,Uint8Array.prototype),Object.setPrototypeOf(X,$),42===X.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(D.prototype,"parent",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.buffer}}),Object.defineProperty(D.prototype,"offset",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.byteOffset}}),D.poolSize=8192,D.from=function(X,$,ie){return p(X,$,ie)},Object.setPrototypeOf(D.prototype,Uint8Array.prototype),Object.setPrototypeOf(D,Uint8Array),D.alloc=function(X,$,ie){return function g(X,$,ie){return f(X),X<=0?L(X):void 0!==$?"string"==typeof ie?L(X).fill($,ie):L(X).fill($):L(X)}(X,$,ie)},D.allocUnsafe=function(X){return y(X)},D.allocUnsafeSlow=function(X){return y(X)},D.isBuffer=function($){return null!=$&&!0===$._isBuffer&&$!==D.prototype},D.compare=function($,ie){if(ae($,Uint8Array)&&($=D.from($,$.offset,$.byteLength)),ae(ie,Uint8Array)&&(ie=D.from(ie,ie.offset,ie.byteLength)),!D.isBuffer($)||!D.isBuffer(ie))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if($===ie)return 0;for(var re=$.length,te=ie.length,ee=0,fe=Math.min(re,te);ee<fe;++ee)if($[ee]!==ie[ee]){re=$[ee],te=ie[ee];break}return re<te?-1:te<re?1:0},D.isEncoding=function($){switch(String($).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},D.concat=function($,ie){if(!Array.isArray($))throw new TypeError('"list" argument must be an Array of Buffers');if(0===$.length)return D.alloc(0);var re;if(void 0===ie)for(ie=0,re=0;re<$.length;++re)ie+=$[re].length;var te=D.allocUnsafe(ie),ee=0;for(re=0;re<$.length;++re){var fe=$[re];if(ae(fe,Uint8Array))ee+fe.length>te.length?D.from(fe).copy(te,ee):Uint8Array.prototype.set.call(te,fe,ee);else{if(!D.isBuffer(fe))throw new TypeError('"list" argument must be an Array of Buffers');fe.copy(te,ee)}ee+=fe.length}return te},D.byteLength=O,D.prototype._isBuffer=!0,D.prototype.swap16=function(){var $=this.length;if($%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ie=0;ie<$;ie+=2)N(this,ie,ie+1);return this},D.prototype.swap32=function(){var $=this.length;if($%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ie=0;ie<$;ie+=4)N(this,ie,ie+3),N(this,ie+1,ie+2);return this},D.prototype.swap64=function(){var $=this.length;if($%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ie=0;ie<$;ie+=8)N(this,ie,ie+7),N(this,ie+1,ie+6),N(this,ie+2,ie+5),N(this,ie+3,ie+4);return this},D.prototype.toLocaleString=D.prototype.toString=function(){var $=this.length;return 0===$?"":0===arguments.length?K(this,0,$):T.apply(this,arguments)},D.prototype.equals=function($){if(!D.isBuffer($))throw new TypeError("Argument must be a Buffer");return this===$||0===D.compare(this,$)},D.prototype.inspect=function(){var $="",ie=nt.h2;return $=this.toString("hex",0,ie).replace(/(.{2})/g,"$1 ").trim(),this.length>ie&&($+=" ... "),"<Buffer "+$+">"},w&&(D.prototype[w]=D.prototype.inspect),D.prototype.compare=function($,ie,re,te,ee){if(ae($,Uint8Array)&&($=D.from($,$.offset,$.byteLength)),!D.isBuffer($))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof $);if(void 0===ie&&(ie=0),void 0===re&&(re=$?$.length:0),void 0===te&&(te=0),void 0===ee&&(ee=this.length),ie<0||re>$.length||te<0||ee>this.length)throw new RangeError("out of range index");if(te>=ee&&ie>=re)return 0;if(te>=ee)return-1;if(ie>=re)return 1;if(this===$)return 0;for(var fe=(ee>>>=0)-(te>>>=0),ye=(re>>>=0)-(ie>>>=0),ue=Math.min(fe,ye),Me=this.slice(te,ee),Ye=$.slice(ie,re),Ge=0;Ge<ue;++Ge)if(Me[Ge]!==Ye[Ge]){fe=Me[Ge],ye=Ye[Ge];break}return fe<ye?-1:ye<fe?1:0},D.prototype.includes=function($,ie,re){return-1!==this.indexOf($,ie,re)},D.prototype.indexOf=function($,ie,re){return C(this,$,ie,re,!0)},D.prototype.lastIndexOf=function($,ie,re){return C(this,$,ie,re,!1)},D.prototype.write=function($,ie,re,te){if(void 0===ie)te="utf8",re=this.length,ie=0;else if(void 0===re&&"string"==typeof ie)te=ie,re=this.length,ie=0;else{if(!isFinite(ie))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ie>>>=0,isFinite(re)?(re>>>=0,void 0===te&&(te="utf8")):(te=re,re=void 0)}var ee=this.length-ie;if((void 0===re||re>ee)&&(re=ee),$.length>0&&(re<0||ie<0)||ie>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");for(var fe=!1;;)switch(te){case"hex":return Y(this,$,ie,re);case"utf8":case"utf-8":return J(this,$,ie,re);case"ascii":case"latin1":case"binary":return ce(this,$,ie,re);case"base64":return Fe(this,$,ie,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,$,ie,re);default:if(fe)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),fe=!0}},D.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _e=4096;function me(X,$,ie){var re="";ie=Math.min(X.length,ie);for(var te=$;te<ie;++te)re+=String.fromCharCode(127&X[te]);return re}function De(X,$,ie){var re="";ie=Math.min(X.length,ie);for(var te=$;te<ie;++te)re+=String.fromCharCode(X[te]);return re}function Le(X,$,ie){var re=X.length;(!$||$<0)&&($=0),(!ie||ie<0||ie>re)&&(ie=re);for(var te="",ee=$;ee<ie;++ee)te+=Q[X[ee]];return te}function he(X,$,ie){for(var re=X.slice($,ie),te="",ee=0;ee<re.length-1;ee+=2)te+=String.fromCharCode(re[ee]+256*re[ee+1]);return te}function Re(X,$,ie){if(X%1!=0||X<0)throw new RangeError("offset is not uint");if(X+$>ie)throw new RangeError("Trying to access beyond buffer length")}function Ie(X,$,ie,re,te,ee){if(!D.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if($>te||$<ee)throw new RangeError('"value" argument is out of bounds');if(ie+re>X.length)throw new RangeError("Index out of range")}function ge(X,$,ie,re,te,ee){if(ie+re>X.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("Index out of range")}function Ue(X,$,ie,re,te){return $=+$,ie>>>=0,te||ge(X,0,ie,4),b.write(X,$,ie,re,23,4),ie+4}function ke(X,$,ie,re,te){return $=+$,ie>>>=0,te||ge(X,0,ie,8),b.write(X,$,ie,re,52,8),ie+8}D.prototype.slice=function($,ie){var re=this.length;($=~~$)<0?($+=re)<0&&($=0):$>re&&($=re),(ie=void 0===ie?re:~~ie)<0?(ie+=re)<0&&(ie=0):ie>re&&(ie=re),ie<$&&(ie=$);var te=this.subarray($,ie);return Object.setPrototypeOf(te,D.prototype),te},D.prototype.readUintLE=D.prototype.readUIntLE=function($,ie,re){$>>>=0,ie>>>=0,re||Re($,ie,this.length);for(var te=this[$],ee=1,fe=0;++fe<ie&&(ee*=256);)te+=this[$+fe]*ee;return te},D.prototype.readUintBE=D.prototype.readUIntBE=function($,ie,re){$>>>=0,ie>>>=0,re||Re($,ie,this.length);for(var te=this[$+--ie],ee=1;ie>0&&(ee*=256);)te+=this[$+--ie]*ee;return te},D.prototype.readUint8=D.prototype.readUInt8=function($,ie){return $>>>=0,ie||Re($,1,this.length),this[$]},D.prototype.readUint16LE=D.prototype.readUInt16LE=function($,ie){return $>>>=0,ie||Re($,2,this.length),this[$]|this[$+1]<<8},D.prototype.readUint16BE=D.prototype.readUInt16BE=function($,ie){return $>>>=0,ie||Re($,2,this.length),this[$]<<8|this[$+1]},D.prototype.readUint32LE=D.prototype.readUInt32LE=function($,ie){return $>>>=0,ie||Re($,4,this.length),(this[$]|this[$+1]<<8|this[$+2]<<16)+16777216*this[$+3]},D.prototype.readUint32BE=D.prototype.readUInt32BE=function($,ie){return $>>>=0,ie||Re($,4,this.length),16777216*this[$]+(this[$+1]<<16|this[$+2]<<8|this[$+3])},D.prototype.readIntLE=function($,ie,re){$>>>=0,ie>>>=0,re||Re($,ie,this.length);for(var te=this[$],ee=1,fe=0;++fe<ie&&(ee*=256);)te+=this[$+fe]*ee;return te>=(ee*=128)&&(te-=Math.pow(2,8*ie)),te},D.prototype.readIntBE=function($,ie,re){$>>>=0,ie>>>=0,re||Re($,ie,this.length);for(var te=ie,ee=1,fe=this[$+--te];te>0&&(ee*=256);)fe+=this[$+--te]*ee;return fe>=(ee*=128)&&(fe-=Math.pow(2,8*ie)),fe},D.prototype.readInt8=function($,ie){return $>>>=0,ie||Re($,1,this.length),128&this[$]?-1*(255-this[$]+1):this[$]},D.prototype.readInt16LE=function($,ie){$>>>=0,ie||Re($,2,this.length);var re=this[$]|this[$+1]<<8;return 32768&re?4294901760|re:re},D.prototype.readInt16BE=function($,ie){$>>>=0,ie||Re($,2,this.length);var re=this[$+1]|this[$]<<8;return 32768&re?4294901760|re:re},D.prototype.readInt32LE=function($,ie){return $>>>=0,ie||Re($,4,this.length),this[$]|this[$+1]<<8|this[$+2]<<16|this[$+3]<<24},D.prototype.readInt32BE=function($,ie){return $>>>=0,ie||Re($,4,this.length),this[$]<<24|this[$+1]<<16|this[$+2]<<8|this[$+3]},D.prototype.readFloatLE=function($,ie){return $>>>=0,ie||Re($,4,this.length),b.read(this,$,!0,23,4)},D.prototype.readFloatBE=function($,ie){return $>>>=0,ie||Re($,4,this.length),b.read(this,$,!1,23,4)},D.prototype.readDoubleLE=function($,ie){return $>>>=0,ie||Re($,8,this.length),b.read(this,$,!0,52,8)},D.prototype.readDoubleBE=function($,ie){return $>>>=0,ie||Re($,8,this.length),b.read(this,$,!1,52,8)},D.prototype.writeUintLE=D.prototype.writeUIntLE=function($,ie,re,te){$=+$,ie>>>=0,re>>>=0,te||Ie(this,$,ie,re,Math.pow(2,8*re)-1,0);var fe=1,ye=0;for(this[ie]=255&$;++ye<re&&(fe*=256);)this[ie+ye]=$/fe&255;return ie+re},D.prototype.writeUintBE=D.prototype.writeUIntBE=function($,ie,re,te){$=+$,ie>>>=0,re>>>=0,te||Ie(this,$,ie,re,Math.pow(2,8*re)-1,0);var fe=re-1,ye=1;for(this[ie+fe]=255&$;--fe>=0&&(ye*=256);)this[ie+fe]=$/ye&255;return ie+re},D.prototype.writeUint8=D.prototype.writeUInt8=function($,ie,re){return $=+$,ie>>>=0,re||Ie(this,$,ie,1,255,0),this[ie]=255&$,ie+1},D.prototype.writeUint16LE=D.prototype.writeUInt16LE=function($,ie,re){return $=+$,ie>>>=0,re||Ie(this,$,ie,2,65535,0),this[ie]=255&$,this[ie+1]=$>>>8,ie+2},D.prototype.writeUint16BE=D.prototype.writeUInt16BE=function($,ie,re){return $=+$,ie>>>=0,re||Ie(this,$,ie,2,65535,0),this[ie]=$>>>8,this[ie+1]=255&$,ie+2},D.prototype.writeUint32LE=D.prototype.writeUInt32LE=function($,ie,re){return $=+$,ie>>>=0,re||Ie(this,$,ie,4,4294967295,0),this[ie+3]=$>>>24,this[ie+2]=$>>>16,this[ie+1]=$>>>8,this[ie]=255&$,ie+4},D.prototype.writeUint32BE=D.prototype.writeUInt32BE=function($,ie,re){return $=+$,ie>>>=0,re||Ie(this,$,ie,4,4294967295,0),this[ie]=$>>>24,this[ie+1]=$>>>16,this[ie+2]=$>>>8,this[ie+3]=255&$,ie+4},D.prototype.writeIntLE=function($,ie,re,te){if($=+$,ie>>>=0,!te){var ee=Math.pow(2,8*re-1);Ie(this,$,ie,re,ee-1,-ee)}var fe=0,ye=1,ue=0;for(this[ie]=255&$;++fe<re&&(ye*=256);)$<0&&0===ue&&0!==this[ie+fe-1]&&(ue=1),this[ie+fe]=($/ye>>0)-ue&255;return ie+re},D.prototype.writeIntBE=function($,ie,re,te){if($=+$,ie>>>=0,!te){var ee=Math.pow(2,8*re-1);Ie(this,$,ie,re,ee-1,-ee)}var fe=re-1,ye=1,ue=0;for(this[ie+fe]=255&$;--fe>=0&&(ye*=256);)$<0&&0===ue&&0!==this[ie+fe+1]&&(ue=1),this[ie+fe]=($/ye>>0)-ue&255;return ie+re},D.prototype.writeInt8=function($,ie,re){return $=+$,ie>>>=0,re||Ie(this,$,ie,1,127,-128),$<0&&($=255+$+1),this[ie]=255&$,ie+1},D.prototype.writeInt16LE=function($,ie,re){return $=+$,ie>>>=0,re||Ie(this,$,ie,2,32767,-32768),this[ie]=255&$,this[ie+1]=$>>>8,ie+2},D.prototype.writeInt16BE=function($,ie,re){return $=+$,ie>>>=0,re||Ie(this,$,ie,2,32767,-32768),this[ie]=$>>>8,this[ie+1]=255&$,ie+2},D.prototype.writeInt32LE=function($,ie,re){return $=+$,ie>>>=0,re||Ie(this,$,ie,4,2147483647,-2147483648),this[ie]=255&$,this[ie+1]=$>>>8,this[ie+2]=$>>>16,this[ie+3]=$>>>24,ie+4},D.prototype.writeInt32BE=function($,ie,re){return $=+$,ie>>>=0,re||Ie(this,$,ie,4,2147483647,-2147483648),$<0&&($=4294967295+$+1),this[ie]=$>>>24,this[ie+1]=$>>>16,this[ie+2]=$>>>8,this[ie+3]=255&$,ie+4},D.prototype.writeFloatLE=function($,ie,re){return Ue(this,$,ie,!0,re)},D.prototype.writeFloatBE=function($,ie,re){return Ue(this,$,ie,!1,re)},D.prototype.writeDoubleLE=function($,ie,re){return ke(this,$,ie,!0,re)},D.prototype.writeDoubleBE=function($,ie,re){return ke(this,$,ie,!1,re)},D.prototype.copy=function($,ie,re,te){if(!D.isBuffer($))throw new TypeError("argument should be a Buffer");if(re||(re=0),!te&&0!==te&&(te=this.length),ie>=$.length&&(ie=$.length),ie||(ie=0),te>0&&te<re&&(te=re),te===re||0===$.length||0===this.length)return 0;if(ie<0)throw new RangeError("targetStart out of bounds");if(re<0||re>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),$.length-ie<te-re&&(te=$.length-ie+re);var ee=te-re;return this===$&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(ie,re,te):Uint8Array.prototype.set.call($,this.subarray(re,te),ie),ee},D.prototype.fill=function($,ie,re,te){if("string"==typeof $){if("string"==typeof ie?(te=ie,ie=0,re=this.length):"string"==typeof re&&(te=re,re=this.length),void 0!==te&&"string"!=typeof te)throw new TypeError("encoding must be a string");if("string"==typeof te&&!D.isEncoding(te))throw new TypeError("Unknown encoding: "+te);if(1===$.length){var ee=$.charCodeAt(0);("utf8"===te&&ee<128||"latin1"===te)&&($=ee)}}else"number"==typeof $?$&=255:"boolean"==typeof $&&($=Number($));if(ie<0||this.length<ie||this.length<re)throw new RangeError("Out of range index");if(re<=ie)return this;var fe;if(ie>>>=0,re=void 0===re?this.length:re>>>0,$||($=0),"number"==typeof $)for(fe=ie;fe<re;++fe)this[fe]=$;else{var ye=D.isBuffer($)?$:D.from($,te),ue=ye.length;if(0===ue)throw new TypeError('The value "'+$+'" is invalid for argument "value"');for(fe=0;fe<re-ie;++fe)this[fe+ie]=ye[fe%ue]}return this};var we=/[^+/0-9A-Za-z-_]/g;function st(X,$){$=$||1/0;for(var ie,re=X.length,te=null,ee=[],fe=0;fe<re;++fe){if((ie=X.charCodeAt(fe))>55295&&ie<57344){if(!te){if(ie>56319){($-=3)>-1&&ee.push(239,191,189);continue}if(fe+1===re){($-=3)>-1&&ee.push(239,191,189);continue}te=ie;continue}if(ie<56320){($-=3)>-1&&ee.push(239,191,189),te=ie;continue}ie=65536+(te-55296<<10|ie-56320)}else te&&($-=3)>-1&&ee.push(239,191,189);if(te=null,ie<128){if(($-=1)<0)break;ee.push(ie)}else if(ie<2048){if(($-=2)<0)break;ee.push(ie>>6|192,63&ie|128)}else if(ie<65536){if(($-=3)<0)break;ee.push(ie>>12|224,ie>>6&63|128,63&ie|128)}else{if(!(ie<1114112))throw new Error("Invalid code point");if(($-=4)<0)break;ee.push(ie>>18|240,ie>>12&63|128,ie>>6&63|128,63&ie|128)}}return ee}function Se(X){return t.toByteArray(function Ke(X){if((X=(X=X.split("=")[0]).trim().replace(we,"")).length<2)return"";for(;X.length%4!=0;)X+="=";return X}(X))}function W(X,$,ie,re){for(var te=0;te<re&&!(te+ie>=$.length||te>=X.length);++te)$[te+ie]=X[te];return te}function ae(X,$){return X instanceof $||null!=X&&null!=X.constructor&&null!=X.constructor.name&&X.constructor.name===$.name}function ve(X){return X!=X}var Q=function(){for(var X="0123456789abcdef",$=new Array(256),ie=0;ie<16;++ie)for(var re=16*ie,te=0;te<16;++te)$[re+te]=X[ie]+X[te];return $}()},5094:jn=>{window,jn.exports=function(nt){var S={};function c(t){if(S[t])return S[t].exports;var b=S[t]={i:t,l:!1,exports:{}};return nt[t].call(b.exports,b,b.exports,c),b.l=!0,b.exports}return c.m=nt,c.c=S,c.d=function(t,b,w){c.o(t,b)||Object.defineProperty(t,b,{enumerable:!0,get:w})},c.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,b){if(1&b&&(t=c(t)),8&b||4&b&&"object"==typeof t&&t&&t.__esModule)return t;var w=Object.create(null);if(c.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:t}),2&b&&"string"!=typeof t)for(var E in t)c.d(w,E,function(F){return t[F]}.bind(null,E));return w},c.n=function(t){var b=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(b,"a",b),b},c.o=function(t,b){return Object.prototype.hasOwnProperty.call(t,b)},c.p="/dist/",c(c.s="./index.js")}({"./externals/base64.js":
/*!*****************************!*\
                  !*** ./externals/base64.js ***!
                  \*****************************/
/*! no static exports found */function(nt,S,c){var w,E,F,L,D,t_encode=function(w){for(var E=[],F=0;F<w.length;++F){var L=w.charCodeAt(F);L<128?E.push(L):L<2048?(E.push(192|L>>6),E.push(128|63&L)):L<65536?(E.push(224|L>>12),E.push(128|63&L>>6),E.push(128|63&L)):(E.push(240|L>>18),E.push(128|63&L>>12),E.push(128|63&L>>6),E.push(128|63&L))}return E},t_decode=function(w){for(var E=[],F=0;F<w.length;){var L=w[F++];L<128||(L<224?(L=(31&L)<<6,L|=63&w[F++]):L<240?(L=(15&L)<<12,L|=(63&w[F++])<<6,L|=63&w[F++]):(L=(7&L)<<18,L|=(63&w[F++])<<12,L|=(63&w[F++])<<6,L|=63&w[F++])),E.push(String.fromCharCode(L))}return E.join("")},b={};w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=function(f){for(var g=0,y=[],M=0|f.length/3;0<M--;){var U=(f[g]<<16)+(f[g+1]<<8)+f[g+2];g+=3,y.push(w.charAt(63&U>>18)),y.push(w.charAt(63&U>>12)),y.push(w.charAt(63&U>>6)),y.push(w.charAt(63&U))}return f.length-g==2?(y.push(w.charAt(63&(U=(f[g]<<16)+(f[g+1]<<8))>>18)),y.push(w.charAt(63&U>>12)),y.push(w.charAt(63&U>>6)),y.push("=")):f.length-g==1&&(y.push(w.charAt(63&(U=f[g]<<16)>>18)),y.push(w.charAt(63&U>>12)),y.push("==")),y.join("")},F=function(){for(var p=[],f=0;f<64;++f)p[w.charCodeAt(f)]=f;return p["=".charCodeAt(0)]=0,p}(),L=function(f){for(var g=0,y=[],M=0|f.length/4;0<M--;){var U=(F[f.charCodeAt(g)]<<18)+(F[f.charCodeAt(g+1)]<<12)+(F[f.charCodeAt(g+2)]<<6)+F[f.charCodeAt(g+3)];y.push(255&U>>16),y.push(255&U>>8),y.push(255&U),g+=4}return y&&("="==f.charAt(g-2)?(y.pop(),y.pop()):"="==f.charAt(g-1)&&y.pop()),y},D={encode:function(p){for(var f=[],g=0;g<p.length;++g)f.push(p.charCodeAt(g));return f},decode:function(p){for(var f=0;f<s.length;++f)a[f]=String.fromCharCode(a[f]);return a.join("")}},b.decodeArray=function(p){var f=L(p);return new Uint8Array(f)},b.encodeASCII=function(p){var f=D.encode(p);return E(f)},b.decodeASCII=function(p){var f=L(p);return D.decode(f)},b.encode=function(p){var f=t_encode(p);return E(f)},b.decode=function(p){var f=L(p);return t_decode(f)},S.decode=b.decode,S.decodeArray=b.decodeArray,S.encode=b.encode,S.encodeASCII=b.encodeASCII},"./externals/cea608-parser.js":
/*!************************************!*\
                  !*** ./externals/cea608-parser.js ***!
                  \************************************/
/*! no static exports found */function(nt,S,c){!function(t){"use strict";var b={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},w=function(C){var B=C;return b.hasOwnProperty(C)&&(B=b[C]),String.fromCharCode(B)},E=15,F=32,L={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},D={17:2,18:4,21:6,22:8,23:10,19:13,20:15},p={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},f={25:2,26:4,29:6,30:8,31:10,27:13,28:15},g=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],y={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(C){this.time=C},log:function(C,B){this.verboseLevel>=this.verboseFilter[C]&&console.log(this.time+" ["+C+"] "+B)}},M=function(C){for(var B=[],Y=0;Y<C.length;Y++)B.push(C[Y].toString(16));return B},U=function(C,B,Y,J,ce){this.foreground=C||"white",this.underline=B||!1,this.italics=Y||!1,this.background=J||"black",this.flash=ce||!1};U.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(C){for(var B=["foreground","underline","italics","background","flash"],Y=0;Y<B.length;Y++){var J=B[Y];C.hasOwnProperty(J)&&(this[J]=C[J])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(C){return this.foreground===C.foreground&&this.underline===C.underline&&this.italics===C.italics&&this.background===C.background&&this.flash===C.flash},copy:function(C){this.foreground=C.foreground,this.underline=C.underline,this.italics=C.italics,this.background=C.background,this.flash=C.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var R=function(C,B,Y,J,ce,Fe){this.uchar=C||" ",this.penState=new U(B,Y,J,ce,Fe)};R.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(C,B){this.uchar=C,this.penState.copy(B)},setPenState:function(C){this.penState.copy(C)},equals:function(C){return this.uchar===C.uchar&&this.penState.equals(C.penState)},copy:function(C){this.uchar=C.uchar,this.penState.copy(C.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var V=function(){this.chars=[];for(var C=0;C<F;C++)this.chars.push(new R);this.pos=0,this.currPenState=new U};V.prototype={equals:function(C){for(var B=!0,Y=0;Y<F;Y++)if(!this.chars[Y].equals(C.chars[Y])){B=!1;break}return B},copy:function(C){for(var B=0;B<F;B++)this.chars[B].copy(C.chars[B])},isEmpty:function(){for(var C=!0,B=0;B<F;B++)if(!this.chars[B].isEmpty()){C=!1;break}return C},setCursor:function(C){this.pos!==C&&(this.pos=C),this.pos<0?(y.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>F&&(y.log("ERROR","Too large cursor position "+this.pos),this.pos=F)},moveCursor:function(C){var B=this.pos+C;if(C>1)for(var Y=this.pos+1;Y<B+1;Y++)this.chars[Y].setPenState(this.currPenState);this.setCursor(B)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(C){C>=144&&this.backSpace();var B=w(C);this.pos>=F?y.log("ERROR","Cannot insert "+C.toString(16)+" ("+B+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(B,this.currPenState),this.moveCursor(1))},clearFromPos:function(C){var B;for(B=C;B<F;B++)this.chars[B].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var C=[],B=!0,Y=0;Y<F;Y++){var J=this.chars[Y].uchar;" "!==J&&(B=!1),C.push(J)}return B?"":C.join("")},setPenStyles:function(C){this.currPenState.setStyles(C),this.chars[this.pos].setPenState(this.currPenState)}};var k=function(){this.rows=[];for(var C=0;C<E;C++)this.rows.push(new V);this.currRow=14,this.nrRollUpRows=null,this.reset()};k.prototype={reset:function(){for(var C=0;C<E;C++)this.rows[C].clear();this.currRow=14},equals:function(C){for(var B=!0,Y=0;Y<E;Y++)if(!this.rows[Y].equals(C.rows[Y])){B=!1;break}return B},copy:function(C){for(var B=0;B<E;B++)this.rows[B].copy(C.rows[B])},isEmpty:function(){for(var C=!0,B=0;B<E;B++)if(!this.rows[B].isEmpty()){C=!1;break}return C},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(C){this.rows[this.currRow].insertChar(C)},setPen:function(C){this.rows[this.currRow].setPenStyles(C)},moveCursor:function(C){this.rows[this.currRow].moveCursor(C)},setCursor:function(C){y.log("INFO","setCursor: "+C),this.rows[this.currRow].setCursor(C)},setPAC:function(C){y.log("INFO","pacData = "+JSON.stringify(C));var B=C.row-1;this.nrRollUpRows&&B<this.nrRollUpRows-1&&(B=this.nrRollUpRows-1),this.currRow=B;var Y=this.rows[this.currRow];if(null!==C.indent){var ce=Math.max(C.indent-1,0);Y.setCursor(C.indent),C.color=Y.chars[ce].penState.foreground}this.setPen({foreground:C.color,underline:C.underline,italics:C.italics,background:"black",flash:!1})},setBkgData:function(C){y.log("INFO","bkgData = "+JSON.stringify(C)),this.backSpace(),this.setPen(C),this.insertChar(32)},setRollUpRows:function(C){this.nrRollUpRows=C},rollUp:function(){if(null!==this.nrRollUpRows){y.log("TEXT",this.getDisplayText());var B=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];B.clear(),this.rows.splice(this.currRow,0,B),y.log("INFO","Rolling up")}else y.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(C){C=C||!1;for(var B=[],Y="",ce=0;ce<E;ce++){var Fe=this.rows[ce].getTextString();Fe&&B.push(C?"Row "+(ce+1)+': "'+Fe+'"':Fe.trim())}return B.length>0&&(Y=C?"["+B.join(" | ")+"]":B.join("\n")),Y},getTextAndFormat:function(){return this.rows}};var P=function(C,B){this.chNr=C,this.outputFilter=B,this.mode=null,this.verbose=0,this.displayedMemory=new k,this.nonDisplayedMemory=new k,this.lastOutputScreen=new k,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};P.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(C){this.outputFilter=C},setPAC:function(C){this.writeScreen.setPAC(C)},setBkgData:function(C){this.writeScreen.setBkgData(C)},setMode:function(C){C!==this.mode&&(this.mode=C,y.log("INFO","MODE="+C),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=C)},insertChars:function(C){for(var B=0;B<C.length;B++)this.writeScreen.insertChar(C[B]);y.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(y.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){y.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){y.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){y.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(C){y.log("INFO","RU("+C+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(C)},cc_FON:function(){y.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){y.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){y.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){y.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){y.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){y.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){y.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(y.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var C=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=C,this.writeScreen=this.nonDisplayedMemory,y.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(C){y.log("INFO","TO("+C+") - Tab Offset"),this.writeScreen.moveCursor(C)},cc_MIDROW:function(C){var B={flash:!1};if(B.underline=C%2==1,B.italics=C>=46,B.italics)B.foreground="white";else{var Y=Math.floor(C/2)-16;B.foreground=["white","green","blue","cyan","red","yellow","magenta"][Y]}y.log("INFO","MIDROW: "+JSON.stringify(B)),this.writeScreen.setPen(B)},outputDataUpdate:function(){var C=y.time;null!==C&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(C,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,C,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:C):this.cueStartTime=C,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(C){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,C,this.displayedMemory),this.cueStartTime=C))}};var x=function(C,B,Y){this.field=C||1,this.outputs=[B,Y],this.channels=[new P(1,B),new P(2,Y)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};x.prototype={getHandler:function(C){return this.channels[C].getHandler()},setHandler:function(C,B){this.channels[C].setHandler(B)},addData:function(C,B){var Y,J,ce,Fe=!1;this.lastTime=C,y.setTime(C);for(var q=0;q<B.length;q+=2)ce=127&B[q+1],(J=127&B[q])>=16&&J<=31&&J===this.lastCmdA&&ce===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,y.log("DEBUG","Repeated command ("+M([J,ce])+") is dropped")):0!==J||0!==ce?(y.log("DATA","["+M([B[q],B[q+1]])+"] -> ("+M([J,ce])+")"),(Y=this.parseCmd(J,ce))||(Y=this.parseMidrow(J,ce)),Y||(Y=this.parsePAC(J,ce)),Y||(Y=this.parseBackgroundAttributes(J,ce)),!Y&&(Fe=this.parseChars(J,ce))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(Fe):y.log("WARNING","No channel found yet. TEXT-MODE?")),Y?this.dataCounters.cmd+=2:Fe?this.dataCounters.char+=2:(this.dataCounters.other+=2,y.log("WARNING","Couldn't parse cleaned data "+M([J,ce])+" orig: "+M([B[q],B[q+1]])))):this.dataCounters.padding+=2},parseCmd:function(C,B){var Y;if(!((20===C||21===C||28===C||29===C)&&32<=B&&B<=47||(23===C||31===C)&&33<=B&&B<=35))return!1;var Fe=this.channels[(Y=20===C||21===C||23===C?1:2)-1];return 20===C||21===C||28===C||29===C?32===B?Fe.cc_RCL():33===B?Fe.cc_BS():34===B?Fe.cc_AOF():35===B?Fe.cc_AON():36===B?Fe.cc_DER():37===B?Fe.cc_RU(2):38===B?Fe.cc_RU(3):39===B?Fe.cc_RU(4):40===B?Fe.cc_FON():41===B?Fe.cc_RDC():42===B?Fe.cc_TR():43===B?Fe.cc_RTD():44===B?Fe.cc_EDM():45===B?Fe.cc_CR():46===B?Fe.cc_ENM():47===B&&Fe.cc_EOC():Fe.cc_TO(B-32),this.lastCmdA=C,this.lastCmdB=B,this.currChNr=Y,!0},parseMidrow:function(C,B){var Y=null;if((17===C||25===C)&&32<=B&&B<=47){if((Y=17===C?1:2)!==this.currChNr)return y.log("ERROR","Mismatch channel in midrow parsing"),!1;var J=this.channels[Y-1];return J.insertChars([32]),J.cc_MIDROW(B),y.log("DEBUG","MIDROW ("+M([C,B])+")"),this.lastCmdA=C,this.lastCmdB=B,!0}return!1},parsePAC:function(C,B){var Y;if(!((17<=C&&C<=23||25<=C&&C<=31)&&64<=B&&B<=127||(16===C||24===C)&&64<=B&&B<=95))return!1;Y=C<=23?1:2;var q=this.interpretPAC(64<=B&&B<=95?1===Y?L[C]:p[C]:1===Y?D[C]:f[C],B);return this.channels[Y-1].setPAC(q),this.lastCmdA=C,this.lastCmdB=B,this.currChNr=Y,!0},interpretPAC:function(C,B){var Y,J={color:null,italics:!1,indent:null,underline:!1,row:C};return J.underline=1==(1&(Y=B>95?B-96:B-64)),Y<=13?J.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(Y/2)]:Y<=15?(J.italics=!0,J.color="white"):J.indent=4*Math.floor((Y-16)/2),J},parseChars:function(C,B){var Y=null,J=null,ce=null;if(C>=25?(Y=2,ce=C-8):(Y=1,ce=C),17<=ce&&ce<=19){var q;y.log("INFO","Special char '"+w(q=17===ce?B+80:18===ce?B+112:B+144)+"' in channel "+Y),J=[q],this.lastCmdA=C,this.lastCmdB=B}else 32<=C&&C<=127&&(J=0===B?[C]:[C,B],this.lastCmdA=null,this.lastCmdB=null);if(J){var le=M(J);y.log("DEBUG","Char codes =  "+le.join(","))}return J},parseBackgroundAttributes:function(C,B){var Y,J;return!!((16===C||24===C)&&32<=B&&B<=47||(23===C||31===C)&&45<=B&&B<=47)&&(Y={},16===C||24===C?(J=Math.floor((B-32)/2),Y.background=g[J],B%2==1&&(Y.background=Y.background+"_semi")):45===B?Y.background="transparent":(Y.foreground="black",47===B&&(Y.underline=!0)),this.channels[(C<24?1:2)-1].setBkgData(Y),this.lastCmdA=C,this.lastCmdB=B,!0)},reset:function(){for(var C=0;C<this.channels.length;C++)this.channels[C]&&this.channels[C].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(C){for(var B=0;B<this.channels.length;B++)this.channels[B]&&this.channels[B].cueSplitAtTime(C)}};t.logger=y,t.PenState=U,t.CaptionScreen=k,t.Cea608Parser=x,t.findCea608Nalus=function(C,B,Y){for(var J=0,ce=B,q=[],le=function(Le,he,Re,Ie){if(4!==Le||he<8)return null;var ge=Re.getUint8(Ie),Ue=Re.getUint16(Ie+1),ke=Re.getUint32(Ie+3),we=Re.getUint8(Ie+7);return 181==ge&&49==Ue&&1195456820==ke&&3==we};ce<B+Y;){if(J=C.getUint32(ce),6==(31&C.getUint8(ce+4)))for(var K=ce+5,_e=-1;K<ce+4+J-1;){_e=0;for(var se=255;255===se;)_e+=se=C.getUint8(K),K++;var me=0;for(se=255;255===se;)me+=se=C.getUint8(K),K++;le(_e,me,C,K)&&q.push([K,me]),K+=me}ce+=J+4}return q},t.extractCea608DataFromRange=function(C,B){var Y=B[0],J=[[],[]],ce=31&C.getUint8(Y+=8);Y+=2;for(var Fe=0;Fe<ce;Fe++){var q=C.getUint8(Y),le=4&q,K=3&q;Y++;var _e=C.getUint8(Y);Y++;var se=C.getUint8(Y);Y++,le&&(127&_e)+(127&se)!=0&&(0===K?(J[0].push(_e),J[0].push(se)):1===K&&(J[1].push(_e),J[1].push(se)))}return J}}(S)},"./externals/xml2json.js":
/*!*******************************!*\
                  !*** ./externals/xml2json.js ***!
                  \*******************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S),S.default=function t(b){b=b||{},function E(){void 0===b.escapeMode&&(b.escapeMode=!0),void 0===b.attributePrefix&&(b.attributePrefix="_"),b.arrayAccessForm=b.arrayAccessForm||"none",b.emptyNodeForm=b.emptyNodeForm||"text",void 0===b.enableToStringFunc&&(b.enableToStringFunc=!0),b.arrayAccessFormPaths=b.arrayAccessFormPaths||[],void 0===b.skipEmptyTextNodesForObj&&(b.skipEmptyTextNodesForObj=!0),void 0===b.stripWhitespaces&&(b.stripWhitespaces=!0),b.datetimeAccessFormPaths=b.datetimeAccessFormPaths||[],void 0===b.useDoubleQuotes&&(b.useDoubleQuotes=!1),b.xmlElementsFilter=b.xmlElementsFilter||[],b.jsonPropertiesFilter=b.jsonPropertiesFilter||[],void 0===b.keepCData&&(b.keepCData=!1),void 0===b.ignoreRoot&&(b.ignoreRoot=!1)}();var F={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function D(le){var K=le.localName;return null==K&&(K=le.baseName),(null==K||""==K)&&(K=le.nodeName),K}function f(le){return"string"==typeof le?le.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):le}function y(le,K,_e,se){for(var me=0;me<le.length;me++){var De=le[me];if("string"==typeof De){if(De==se)break}else if(De instanceof RegExp){if(De.test(se))break}else if("function"==typeof De&&De(K,_e,se))break}return me!=le.length}function M(le,K,_e){"property"===b.arrayAccessForm&&(le[K+"_asArray"]=le[K]instanceof Array?le[K]:[le[K]]),!(le[K]instanceof Array)&&b.arrayAccessFormPaths.length>0&&y(b.arrayAccessFormPaths,le,K,_e)&&(le[K]=[le[K]])}function U(le){var K=le.split(/[-T:+Z]/g),_e=new Date(K[0],K[1]-1,K[2]),se=K[5].split(".");if(_e.setHours(K[3],K[4],se[0]),se.length>1&&_e.setMilliseconds(se[1]),K[6]&&K[7]){var me=60*K[6]+Number(K[7]);me=0+("-"==(/\d\d-\d\d:\d\d$/.test(le)?"-":"+")?-1*me:me),_e.setMinutes(_e.getMinutes()-me-_e.getTimezoneOffset())}else-1!==le.indexOf("Z",le.length-1)&&(_e=new Date(Date.UTC(_e.getFullYear(),_e.getMonth(),_e.getDate(),_e.getHours(),_e.getMinutes(),_e.getSeconds(),_e.getMilliseconds())));return _e}function V(le,K,_e,se){return!(K==F.ELEMENT_NODE&&b.xmlElementsFilter.length>0)||y(b.xmlElementsFilter,le,_e,se)}function k(le,K){if(le.nodeType==F.DOCUMENT_NODE){for(var _e=new Object,se=le.childNodes,me=0;me<se.length;me++)(De=se[me]).nodeType==F.ELEMENT_NODE&&(b.ignoreRoot?_e=k(De):(_e={})[Le=D(De)]=k(De));return _e}if(le.nodeType==F.ELEMENT_NODE){(_e=new Object).__cnt=0;var he=[];for(se=le.childNodes,me=0;me<se.length;me++){var De,Le=D(De=se[me]);if(De.nodeType!=F.COMMENT_NODE){var Re=K+"."+Le;if(V(_e,De.nodeType,Le,Re))if(_e.__cnt++,null==_e[Le]){var Ie=k(De,Re);("#text"!=Le||/[^\s]/.test(Ie))&&((ge={})[Le]=Ie,he.push(ge)),_e[Le]=Ie,M(_e,Le,Re)}else{var ge;null!=_e[Le]&&(_e[Le]instanceof Array||(_e[Le]=[_e[Le]],M(_e,Le,Re))),Ie=k(De,Re),("#text"!=Le||/[^\s]/.test(Ie))&&((ge={})[Le]=Ie,he.push(ge)),_e[Le][_e[Le].length]=Ie}}}_e.__children=he;for(var Ue=D(le),ke=0;ke<le.attributes.length;ke++){var we=le.attributes[ke];_e.__cnt++;for(var Ke=we.value,st=0,Qe=b.matchers.length;st<Qe;st++){var Ne=b.matchers[st];Ne.test(we,Ue)&&(Ke=Ne.converter(we.value))}_e[b.attributePrefix+we.name]=Ke}var Se=function p(le){return le.prefix}(le);return null!=Se&&""!=Se&&(_e.__cnt++,_e.__prefix=Se),null!=_e["#text"]&&(_e.__text=_e["#text"],_e.__text instanceof Array&&(_e.__text=_e.__text.join("\n")),b.stripWhitespaces&&(_e.__text=_e.__text.trim()),delete _e["#text"],"property"==b.arrayAccessForm&&delete _e["#text_asArray"],_e.__text=function R(le,K,_e){if(b.datetimeAccessFormPaths.length>0){var se=_e.split(".#")[0];return y(b.datetimeAccessFormPaths,le,K,se)?U(le):le}return le}(_e.__text,Le,K+"."+Le)),null!=_e["#cdata-section"]&&(_e.__cdata=_e["#cdata-section"],delete _e["#cdata-section"],"property"==b.arrayAccessForm&&delete _e["#cdata-section_asArray"]),0==_e.__cnt&&"text"==b.emptyNodeForm?_e="":1==_e.__cnt&&null!=_e.__text?_e=_e.__text:1!=_e.__cnt||null==_e.__cdata||b.keepCData?_e.__cnt>1&&null!=_e.__text&&b.skipEmptyTextNodesForObj&&(b.stripWhitespaces&&""==_e.__text||""==_e.__text.trim())&&delete _e.__text:_e=_e.__cdata,delete _e.__cnt,b.enableToStringFunc&&(null!=_e.__text||null!=_e.__cdata)&&(_e.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),_e}if(le.nodeType==F.TEXT_NODE||le.nodeType==F.CDATA_SECTION_NODE)return le.nodeValue}function P(le,K,_e,se){var me="<"+(null!=le&&null!=le.__prefix?le.__prefix+":":"")+K;if(null!=_e)for(var De=0;De<_e.length;De++){var Le=_e[De],he=le[Le];b.escapeMode&&(he=f(he)),me+=" "+Le.substr(b.attributePrefix.length)+"=",me+=b.useDoubleQuotes?'"'+he+'"':"'"+he+"'"}return me+(se?"/>":">")}function x(le,K){return"</"+(null!=le.__prefix?le.__prefix+":":"")+K+">"}function T(le,K){return!!("property"==b.arrayAccessForm&&function O(le,K){return-1!==le.indexOf(K,le.length-K.length)}(K.toString(),"_asArray")||0==K.toString().indexOf(b.attributePrefix)||0==K.toString().indexOf("__")||le[K]instanceof Function)}function N(le){var K=0;if(le instanceof Object)for(var _e in le)T(le,_e)||K++;return K}function C(le,K,_e){return 0==b.jsonPropertiesFilter.length||""==_e||y(b.jsonPropertiesFilter,le,K,_e)}function B(le){var K=[];if(le instanceof Object)for(var _e in le)-1==_e.toString().indexOf("__")&&0==_e.toString().indexOf(b.attributePrefix)&&K.push(_e);return K}function J(le){var K="";return le instanceof Object?K+=function Y(le){var K="";return null!=le.__cdata&&(K+="<![CDATA["+le.__cdata+"]]>"),null!=le.__text&&(K+=b.escapeMode?f(le.__text):le.__text),K}(le):null!=le&&(K+=b.escapeMode?f(le):le),K}function ce(le,K){return""===le?K:le+"."+K}function Fe(le,K,_e,se){var me="";if(0==le.length)me+=P(le,K,_e,!0);else for(var De=0;De<le.length;De++)me+=P(le[De],K,B(le[De]),!1),me+=q(le[De],ce(se,K)),me+=x(le[De],K);return me}function q(le,K){var _e="";if(N(le)>0)for(var me in le)if(!T(le,me)&&(""==K||C(le,me,ce(K,me)))){var De=le[me],Le=B(De);null==De||null==De?_e+=P(De,me,Le,!0):De instanceof Object?De instanceof Array?_e+=Fe(De,me,Le,K):De instanceof Date?(_e+=P(De,me,Le,!1),_e+=De.toISOString(),_e+=x(De,me)):N(De)>0||null!=De.__text||null!=De.__cdata?(_e+=P(De,me,Le,!1),_e+=q(De,ce(K,me)),_e+=x(De,me)):_e+=P(De,me,Le,!0):(_e+=P(De,me,Le,!1),_e+=J(De),_e+=x(De,me))}return _e+J(le)}this.parseXmlString=function(le){var _e;if(window.ActiveXObject||window,void 0===le)return null;if(window.DOMParser){var se=new window.DOMParser;try{(_e=se.parseFromString(le,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(_e=null)}catch{_e=null}}else 0==le.indexOf("<?")&&(le=le.substr(le.indexOf("?>")+2)),(_e=new ActiveXObject("Microsoft.XMLDOM")).async="false",_e.loadXML(le);return _e},this.asArray=function(le){return void 0===le||null==le?[]:le instanceof Array?le:[le]},this.toXmlDateTime=function(le){return le instanceof Date?le.toISOString():"number"==typeof le?new Date(le).toISOString():null},this.asDateTime=function(le){return"string"==typeof le?U(le):le},this.xml2json=function(le){return k(le)},this.xml_str2json=function(le){var K=this.parseXmlString(le);return null!=K?this.xml2json(K):null},this.json2xml_str=function(le){return q(le,"")},this.json2xml=function(le){var K=this.json2xml_str(le);return this.parseXmlString(K)},this.getVersion=function(){return"1.2.0"}}},"./index.js":
/*!******************!*\
                  !*** ./index.js ***!
                  \******************/
/*! exports provided: default, MediaPlayer, Protection, MetricsReporting, MediaPlayerFactory, Debug, supportsMediaSource */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./index_mediaplayerOnly */
"./index_mediaplayerOnly.js");c.d(S,"MediaPlayer",function(){return t.MediaPlayer});var b=c(
/*! ./src/streaming/utils/Capabilities */
"./src/streaming/utils/Capabilities.js");c.d(S,"supportsMediaSource",function(){return b.supportsMediaSource});var w=c(
/*! ./src/streaming/metrics/MetricsReporting */
"./src/streaming/metrics/MetricsReporting.js");c.d(S,"MetricsReporting",function(){return w.default});var E=c(
/*! ./src/streaming/protection/Protection */
"./src/streaming/protection/Protection.js");c.d(S,"Protection",function(){return E.default});var F=c(
/*! ./src/streaming/MediaPlayerFactory */
"./src/streaming/MediaPlayerFactory.js");c.d(S,"MediaPlayerFactory",function(){return F.default});var L=c(
/*! ./src/core/Debug */
"./src/core/Debug.js");c.d(S,"Debug",function(){return L.default}),dashjs.Protection=E.default,dashjs.MetricsReporting=w.default,dashjs.MediaPlayerFactory=F.default,dashjs.Debug=L.default,dashjs.supportsMediaSource=b.supportsMediaSource,S.default=dashjs},"./index_mediaplayerOnly.js":
/*!**********************************!*\
                  !*** ./index_mediaplayerOnly.js ***!
                  \**********************************/
/*! exports provided: default, MediaPlayer, FactoryMaker, Debug */function(nt,S,c){"use strict";c.r(S),function(t){var b=c(
/*! ./src/streaming/MediaPlayer */
"./src/streaming/MediaPlayer.js");c.d(S,"MediaPlayer",function(){return b.default});var w=c(
/*! ./src/core/FactoryMaker */
"./src/core/FactoryMaker.js");c.d(S,"FactoryMaker",function(){return w.default});var E=c(
/*! ./src/core/Debug */
"./src/core/Debug.js");c.d(S,"Debug",function(){return E.default});var F=c(
/*! ./src/core/Version */
"./src/core/Version.js"),p=(c(
/*! es6-promise/auto */
"./node_modules/es6-promise/auto.js"),typeof window<"u"&&window||t),f=p.dashjs;f||(f=p.dashjs={}),f.MediaPlayer=b.default,f.FactoryMaker=w.default,f.Debug=E.default,f.Version=Object(F.getVersionString)(),S.default=f}.call(this,c(
/*! ./node_modules/webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/base64-js/index.js":
/*!*****************************************!*\
                  !*** ./node_modules/base64-js/index.js ***!
                  \*****************************************/
/*! no static exports found */function(nt,S,c){"use strict";S.byteLength=function p(R){var V=D(R),P=V[1];return 3*(V[0]+P)/4-P},S.toByteArray=function g(R){var V,C,k=D(R),P=k[0],x=k[1],O=new w(function f(R,V,k){return 3*(V+k)/4-k}(0,P,x)),T=0,N=x>0?P-4:P;for(C=0;C<N;C+=4)V=b[R.charCodeAt(C)]<<18|b[R.charCodeAt(C+1)]<<12|b[R.charCodeAt(C+2)]<<6|b[R.charCodeAt(C+3)],O[T++]=V>>16&255,O[T++]=V>>8&255,O[T++]=255&V;return 2===x&&(V=b[R.charCodeAt(C)]<<2|b[R.charCodeAt(C+1)]>>4,O[T++]=255&V),1===x&&(V=b[R.charCodeAt(C)]<<10|b[R.charCodeAt(C+1)]<<4|b[R.charCodeAt(C+2)]>>2,O[T++]=V>>8&255,O[T++]=255&V),O},S.fromByteArray=function U(R){for(var V,k=R.length,P=k%3,x=[],O=16383,T=0,N=k-P;T<N;T+=O)x.push(M(R,T,T+O>N?N:T+O));return 1===P?x.push(t[(V=R[k-1])>>2]+t[V<<4&63]+"=="):2===P&&x.push(t[(V=(R[k-2]<<8)+R[k-1])>>10]+t[V>>4&63]+t[V<<2&63]+"="),x.join("")};for(var t=[],b=[],w=typeof Uint8Array<"u"?Uint8Array:Array,E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F=0;F<64;++F)t[F]=E[F],b[E.charCodeAt(F)]=F;function D(R){var V=R.length;if(V%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=R.indexOf("=");return-1===k&&(k=V),[k,k===V?0:4-k%4]}function y(R){return t[R>>18&63]+t[R>>12&63]+t[R>>6&63]+t[63&R]}function M(R,V,k){for(var x=[],O=V;O<k;O+=3)x.push(y((R[O]<<16&16711680)+(R[O+1]<<8&65280)+(255&R[O+2])));return x.join("")}b["-".charCodeAt(0)]=62,b["_".charCodeAt(0)]=63},"./node_modules/bcp-47-match/index.js":
/*!********************************************!*\
                  !*** ./node_modules/bcp-47-match/index.js ***!
                  \********************************************/
/*! no static exports found */function(nt,S,c){"use strict";function E(L,D){return function p(f,g){for(var V,k,P,y=F(f,"tag"),M=F(g??"*","range"),U=[],R=-1;++R<M.length;)if(V=M[R].toLowerCase(),D||"*"!==V){for(k=-1,P=[];++k<y.length;)if(L(y[k].toLowerCase(),V)){if(!D)return y[k];U.push(y[k])}else P.push(y[k]);y=P}return D?U:void 0}}function F(L,D){var p=L&&"string"==typeof L?[L]:L;if(!p||"object"!=typeof p||!("length"in p))throw new Error("Invalid "+D+" `"+p+"`, expected non-empty string");return p}S.basicFilter=E(function t(L,D){return"*"===D||L===D||L.indexOf(D+"-")>-1},!0),S.extendedFilter=E(function b(L,D){var p=L.split("-"),f=D.split("-"),g=0,y=0;if("*"!==f[y]&&p[g]!==f[y])return!1;for(g++,y++;y<f.length;)if("*"!==f[y]){if(!p[g])return!1;if(p[g]!==f[y]){if(1===p[g].length)return!1;g++}else g++,y++}else y++;return!0},!0),S.lookup=E(function w(L,D){for(var f,p=D;;){if("*"===p||L===p)return!0;if((f=p.lastIndexOf("-"))<0)return!1;"-"===p.charAt(f-2)&&(f-=2),p=p.slice(0,f)}})},"./node_modules/bcp-47-normalize/index.js":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/index.js ***!
                  \************************************************/
/*! no static exports found */function(nt,S,c){"use strict";nt.exports=c(
/*! ./lib */
"./node_modules/bcp-47-normalize/lib/index.js")},"./node_modules/bcp-47-normalize/lib/defaults.json":
/*!*********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/defaults.json ***!
                  \*********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, default */function(nt){nt.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},"./node_modules/bcp-47-normalize/lib/fields.json":
/*!*******************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/fields.json ***!
                  \*******************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, default */function(nt){nt.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},"./node_modules/bcp-47-normalize/lib/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/index.js ***!
                  \****************************************************/
/*! no static exports found */function(nt,S,c){"use strict";var t=c(
/*! bcp-47 */
"./node_modules/bcp-47/index.js"),b=c(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js"),w=c(
/*! ./matches.json */
"./node_modules/bcp-47-normalize/lib/matches.json"),E=c(
/*! ./fields.json */
"./node_modules/bcp-47-normalize/lib/fields.json"),F=c(
/*! ./defaults.json */
"./node_modules/bcp-47-normalize/lib/defaults.json"),L=c(
/*! ./many.json */
"./node_modules/bcp-47-normalize/lib/many.json");nt.exports=function g(V,k){var N,P=k||{},x=t.parse(String(V||"").toLowerCase(),P),O=t.stringify(x),T=-1;if(!O)return O;for(;++T<w.length;)b.extendedFilter(O,w[T].from).length&&(y(x,w[T].from,w[T].to),O=t.stringify(x));for(T=-1;++T<E.length;)M(x,E[T].from.field,E[T].from.value)&&U(x,E[T].to.field,E[T].to.value);for(O=t.stringify(Object.assign({},x,f)),T=-1;++T<F.length;)O===F[T]&&(y(x,F[T],F[T].split("-").slice(0,-1).join("-")),O=t.stringify(Object.assign({},x,f)));if(x.extensions.sort(R),P.warning)for(N in L)D.call(L[N],x[N])&&P.warning("Deprecated "+N+" `"+x[N]+"`, expected one of `"+L[N][x[N]].join("`, `")+"`",null,7);return x.script&&(x.script=x.script.charAt(0).toUpperCase()+x.script.slice(1)),x.region&&(x.region=x.region.toUpperCase()),t.stringify(x)};var D={}.hasOwnProperty,p=new Intl.Collator,f={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function y(V,k,P){var N,x=t.parse(k),O=t.parse(P),T=[];for(N in x)x[N]&&x[N].length&&M(V,N,x[N])&&T.push(N);for(N in O)O[N]&&O[N].length&&(T.indexOf(N)>-1||!V[N]||!V[N].length)&&U(V,N,O[N])}function M(V,k,P){var O,T,N,C,x=!1;if(P){if(T=O=V[k],O&&"object"==typeof O)for(T=[],N=-1;++N<O.length;)P.indexOf(C=O[N])<0?T.push(C):x=!0;else O===P&&(T=null,x=!0);V[k]=T}return x}function U(V,k,P){var O,T,N,x=V[k];if(x&&"object"==typeof x)for(O=[].concat(P),T=-1;++T<O.length;)x.indexOf(N=O[T])<0&&x.push(N);else V[k]=P}function R(V,k){return p.compare(V.singleton,k.singleton)}},"./node_modules/bcp-47-normalize/lib/many.json":
/*!*****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/many.json ***!
                  \*****************************************************/
/*! exports provided: region, default */function(nt){nt.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},"./node_modules/bcp-47-normalize/lib/matches.json":
/*!********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/matches.json ***!
                  \********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, default */function(nt){nt.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},"./node_modules/bcp-47/index.js":
/*!**************************************!*\
                  !*** ./node_modules/bcp-47/index.js ***!
                  \**************************************/
/*! no static exports found */function(nt,S,c){"use strict";S.parse=c(
/*! ./lib/parse */
"./node_modules/bcp-47/lib/parse.js"),S.stringify=c(
/*! ./lib/stringify */
"./node_modules/bcp-47/lib/stringify.js")},"./node_modules/bcp-47/lib/normalize.json":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47/lib/normalize.json ***!
                  \************************************************/
/*! exports provided: en-gb-oed, i-ami, i-bnn, i-default, i-enochian, i-hak, i-klingon, i-lux, i-mingo, i-navajo, i-pwn, i-tao, i-tay, i-tsu, sgn-be-fr, sgn-be-nl, sgn-ch-de, art-lojban, cel-gaulish, no-bok, no-nyn, zh-guoyu, zh-hakka, zh-min, zh-min-nan, zh-xiang, default */function(nt){nt.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},"./node_modules/bcp-47/lib/parse.js":
/*!******************************************!*\
                  !*** ./node_modules/bcp-47/lib/parse.js ***!
                  \******************************************/
/*! no static exports found */function(nt,S,c){"use strict";var t=c(
/*! is-alphanumerical */
"./node_modules/is-alphanumerical/index.js"),b=c(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),w=c(
/*! is-decimal */
"./node_modules/is-decimal/index.js"),E=c(
/*! ./regular.json */
"./node_modules/bcp-47/lib/regular.json"),F=c(
/*! ./normalize.json */
"./node_modules/bcp-47/lib/normalize.json");nt.exports=function D(f,g){var k,P,x,y=g||{},M={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},U=String(f),R=U.toLowerCase(),V=0;if(null==f)throw new Error("Expected string, got `"+f+"`");if(L.call(F,R))return(null==y.normalize||y.normalize)&&F[R]?D(F[R]):(M[-1===E.indexOf(R)?"irregular":"regular"]=U,M);for(;b(R.charCodeAt(V))&&V<9;)V++;if(V>1&&V<9){if(M.language=U.slice(0,V),V<4)for(P=0;45===R.charCodeAt(V)&&b(R.charCodeAt(V+1))&&b(R.charCodeAt(V+2))&&b(R.charCodeAt(V+3))&&!b(R.charCodeAt(V+4));){if(P>2)return O(V,3,"Too many extended language subtags, expected at most 3 subtags");M.extendedLanguageSubtags.push(U.slice(V+1,V+4)),V+=4,P++}for(45===R.charCodeAt(V)&&b(R.charCodeAt(V+1))&&b(R.charCodeAt(V+2))&&b(R.charCodeAt(V+3))&&b(R.charCodeAt(V+4))&&!b(R.charCodeAt(V+5))&&(M.script=U.slice(V+1,V+5),V+=5),45===R.charCodeAt(V)&&(b(R.charCodeAt(V+1))&&b(R.charCodeAt(V+2))&&!b(R.charCodeAt(V+3))?(M.region=U.slice(V+1,V+3),V+=3):w(R.charCodeAt(V+1))&&w(R.charCodeAt(V+2))&&w(R.charCodeAt(V+3))&&!w(R.charCodeAt(V+4))&&(M.region=U.slice(V+1,V+4),V+=4));45===R.charCodeAt(V);){for(x=k=V+1;t(R.charCodeAt(x));){if(x-k>7)return O(x,1,"Too long variant, expected at most 8 characters");x++}if(!(x-k>4||x-k>3&&w(R.charCodeAt(k))))break;M.variants.push(U.slice(k,x)),V=x}for(;45===R.charCodeAt(V)&&120!==R.charCodeAt(V+1)&&t(R.charCodeAt(V+1))&&45===R.charCodeAt(V+2)&&t(R.charCodeAt(V+3));){for(x=V+2,P=0;45===R.charCodeAt(x)&&t(R.charCodeAt(x+1))&&t(R.charCodeAt(x+2));)for(x=(k=x+1)+2,P++;t(R.charCodeAt(x));){if(x-k>7)return O(x,2,"Too long extension, expected at most 8 characters");x++}if(!P)return O(x,4,"Empty extension, extensions must have at least 2 characters of content");M.extensions.push({singleton:U.charAt(V+1),extensions:U.slice(V+3,x).split("-")}),V=x}}else V=0;if(0===V&&120===R.charCodeAt(V)||45===R.charCodeAt(V)&&120===R.charCodeAt(V+1))for(x=V=V?V+2:1;45===R.charCodeAt(x)&&t(R.charCodeAt(x+1));){for(x=k=V+1;t(R.charCodeAt(x));){if(x-k>7)return O(x,5,"Too long private-use area, expected at most 8 characters");x++}M.privateuse.push(U.slice(V+1,x)),V=x}return V!==U.length?O(V,6,"Found superfluous content after tag"):M;function O(T,N,C){return y.warning&&y.warning(C,N,T),y.forgiving?M:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var L={}.hasOwnProperty},"./node_modules/bcp-47/lib/regular.json":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/regular.json ***!
                  \**********************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, default */function(nt){nt.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')},"./node_modules/bcp-47/lib/stringify.js":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/stringify.js ***!
                  \**********************************************/
/*! no static exports found */function(nt,S,c){"use strict";nt.exports=function t(b){var F,L,D,w=b||{},E=[];if(w.irregular||w.regular)return w.irregular||w.regular;if(w.language)for(E=E.concat(w.language,w.extendedLanguageSubtags||[],w.script||[],w.region||[],w.variants||[]),F=w.extensions||[],L=-1;++L<F.length;)(D=F[L]).singleton&&D.extensions&&D.extensions.length&&(E=E.concat(D.singleton,D.extensions));return w.privateuse&&w.privateuse.length&&(E=E.concat("x",w.privateuse)),E.join("-")}},"./node_modules/buffer/index.js":
/*!**************************************!*\
                  !*** ./node_modules/buffer/index.js ***!
                  \**************************************/
/*! no static exports found */function(nt,S,c){"use strict";(function(t){var b=c(
/*! base64-js */
"./node_modules/base64-js/index.js"),w=c(
/*! ieee754 */
"./node_modules/ieee754/index.js"),E=c(
/*! isarray */
"./node_modules/isarray/index.js");function L(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function D(re,te){if(L()<te)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(re=new Uint8Array(te)).__proto__=p.prototype:(null===re&&(re=new p(te)),re.length=te),re}function p(re,te,ee){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(re,te,ee);if("number"==typeof re){if("string"==typeof te)throw new Error("If encoding is specified then the first argument must be a string");return M(this,re)}return f(this,re,te,ee)}function f(re,te,ee,fe){if("number"==typeof te)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&te instanceof ArrayBuffer?function V(re,te,ee,fe){if(ee<0||te.byteLength<ee)throw new RangeError("'offset' is out of bounds");if(te.byteLength<ee+(fe||0))throw new RangeError("'length' is out of bounds");return te=void 0===ee&&void 0===fe?new Uint8Array(te):void 0===fe?new Uint8Array(te,ee):new Uint8Array(te,ee,fe),p.TYPED_ARRAY_SUPPORT?(re=te).__proto__=p.prototype:re=R(re,te),re}(re,te,ee,fe):"string"==typeof te?function U(re,te,ee){if(("string"!=typeof ee||""===ee)&&(ee="utf8"),!p.isEncoding(ee))throw new TypeError('"encoding" must be a valid string encoding');var fe=0|O(te,ee),ye=(re=D(re,fe)).write(te,ee);return ye!==fe&&(re=re.slice(0,ye)),re}(re,te,ee):function k(re,te){if(p.isBuffer(te)){var ee=0|P(te.length);return 0===(re=D(re,ee)).length||te.copy(re,0,0,ee),re}if(te){if(typeof ArrayBuffer<"u"&&te.buffer instanceof ArrayBuffer||"length"in te)return"number"!=typeof te.length||function ie(re){return re!=re}(te.length)?D(re,0):R(re,te);if("Buffer"===te.type&&E(te.data))return R(re,te.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(re,te)}function g(re){if("number"!=typeof re)throw new TypeError('"size" argument must be a number');if(re<0)throw new RangeError('"size" argument must not be negative')}function M(re,te){if(g(te),re=D(re,te<0?0:0|P(te)),!p.TYPED_ARRAY_SUPPORT)for(var ee=0;ee<te;++ee)re[ee]=0;return re}function R(re,te){var ee=te.length<0?0:0|P(te.length);re=D(re,ee);for(var fe=0;fe<ee;fe+=1)re[fe]=255&te[fe];return re}function P(re){if(re>=L())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L().toString(16)+" bytes");return 0|re}function O(re,te){if(p.isBuffer(re))return re.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(re)||re instanceof ArrayBuffer))return re.byteLength;"string"!=typeof re&&(re=""+re);var ee=re.length;if(0===ee)return 0;for(var fe=!1;;)switch(te){case"ascii":case"latin1":case"binary":return ee;case"utf8":case"utf-8":case void 0:return ae(re).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ee;case"hex":return ee>>>1;case"base64":return X(re).length;default:if(fe)return ae(re).length;te=(""+te).toLowerCase(),fe=!0}}function T(re,te,ee){var fe=!1;if((void 0===te||te<0)&&(te=0),te>this.length||((void 0===ee||ee>this.length)&&(ee=this.length),ee<=0)||(ee>>>=0)<=(te>>>=0))return"";for(re||(re="utf8");;)switch(re){case"hex":return he(this,te,ee);case"utf8":case"utf-8":return _e(this,te,ee);case"ascii":return De(this,te,ee);case"latin1":case"binary":return Le(this,te,ee);case"base64":return K(this,te,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,te,ee);default:if(fe)throw new TypeError("Unknown encoding: "+re);re=(re+"").toLowerCase(),fe=!0}}function N(re,te,ee){var fe=re[te];re[te]=re[ee],re[ee]=fe}function C(re,te,ee,fe,ye){if(0===re.length)return-1;if("string"==typeof ee?(fe=ee,ee=0):ee>2147483647?ee=2147483647:ee<-2147483648&&(ee=-2147483648),ee=+ee,isNaN(ee)&&(ee=ye?0:re.length-1),ee<0&&(ee=re.length+ee),ee>=re.length){if(ye)return-1;ee=re.length-1}else if(ee<0){if(!ye)return-1;ee=0}if("string"==typeof te&&(te=p.from(te,fe)),p.isBuffer(te))return 0===te.length?-1:B(re,te,ee,fe,ye);if("number"==typeof te)return te&=255,p.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?ye?Uint8Array.prototype.indexOf.call(re,te,ee):Uint8Array.prototype.lastIndexOf.call(re,te,ee):B(re,[te],ee,fe,ye);throw new TypeError("val must be string, number or Buffer")}function B(re,te,ee,fe,ye){var at,ue=1,Me=re.length,Ye=te.length;if(void 0!==fe&&("ucs2"===(fe=String(fe).toLowerCase())||"ucs-2"===fe||"utf16le"===fe||"utf-16le"===fe)){if(re.length<2||te.length<2)return-1;ue=2,Me/=2,Ye/=2,ee/=2}function Ge(Bt,At){return 1===ue?Bt[At]:Bt.readUInt16BE(At*ue)}if(ye){var ct=-1;for(at=ee;at<Me;at++)if(Ge(re,at)===Ge(te,-1===ct?0:at-ct)){if(-1===ct&&(ct=at),at-ct+1===Ye)return ct*ue}else-1!==ct&&(at-=at-ct),ct=-1}else for(ee+Ye>Me&&(ee=Me-Ye),at=ee;at>=0;at--){for(var rt=!0,_t=0;_t<Ye;_t++)if(Ge(re,at+_t)!==Ge(te,_t)){rt=!1;break}if(rt)return at}return-1}function Y(re,te,ee,fe){ee=Number(ee)||0;var ye=re.length-ee;fe?(fe=Number(fe))>ye&&(fe=ye):fe=ye;var ue=te.length;if(ue%2!=0)throw new TypeError("Invalid hex string");fe>ue/2&&(fe=ue/2);for(var Me=0;Me<fe;++Me){var Ye=parseInt(te.substr(2*Me,2),16);if(isNaN(Ye))return Me;re[ee+Me]=Ye}return Me}function J(re,te,ee,fe){return $(ae(te,re.length-ee),re,ee,fe)}function ce(re,te,ee,fe){return $(function ve(re){for(var te=[],ee=0;ee<re.length;++ee)te.push(255&re.charCodeAt(ee));return te}(te),re,ee,fe)}function Fe(re,te,ee,fe){return ce(re,te,ee,fe)}function q(re,te,ee,fe){return $(X(te),re,ee,fe)}function le(re,te,ee,fe){return $(function Q(re,te){for(var ee,fe,ue=[],Me=0;Me<re.length&&!((te-=2)<0);++Me)fe=(ee=re.charCodeAt(Me))>>8,ue.push(ee%256),ue.push(fe);return ue}(te,re.length-ee),re,ee,fe)}function K(re,te,ee){return b.fromByteArray(0===te&&ee===re.length?re:re.slice(te,ee))}function _e(re,te,ee){ee=Math.min(re.length,ee);for(var fe=[],ye=te;ye<ee;){var Ge,at,ct,rt,ue=re[ye],Me=null,Ye=ue>239?4:ue>223?3:ue>191?2:1;if(ye+Ye<=ee)switch(Ye){case 1:ue<128&&(Me=ue);break;case 2:128==(192&(Ge=re[ye+1]))&&(rt=(31&ue)<<6|63&Ge)>127&&(Me=rt);break;case 3:at=re[ye+2],128==(192&(Ge=re[ye+1]))&&128==(192&at)&&(rt=(15&ue)<<12|(63&Ge)<<6|63&at)>2047&&(rt<55296||rt>57343)&&(Me=rt);break;case 4:at=re[ye+2],ct=re[ye+3],128==(192&(Ge=re[ye+1]))&&128==(192&at)&&128==(192&ct)&&(rt=(15&ue)<<18|(63&Ge)<<12|(63&at)<<6|63&ct)>65535&&rt<1114112&&(Me=rt)}null===Me?(Me=65533,Ye=1):Me>65535&&(fe.push((Me-=65536)>>>10&1023|55296),Me=56320|1023&Me),fe.push(Me),ye+=Ye}return function me(re){var te=re.length;if(te<=se)return String.fromCharCode.apply(String,re);for(var ee="",fe=0;fe<te;)ee+=String.fromCharCode.apply(String,re.slice(fe,fe+=se));return ee}(fe)}S.Buffer=p,S.SlowBuffer=function x(re){return+re!=re&&(re=0),p.alloc(+re)},S.INSPECT_MAX_BYTES=50,p.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function F(){try{var re=new Uint8Array(1);return re.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===re.foo()&&"function"==typeof re.subarray&&0===re.subarray(1,1).byteLength}catch{return!1}}(),S.kMaxLength=L(),p.poolSize=8192,p._augment=function(re){return re.__proto__=p.prototype,re},p.from=function(re,te,ee){return f(null,re,te,ee)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(re,te,ee){return function y(re,te,ee,fe){return g(te),te<=0?D(re,te):void 0!==ee?"string"==typeof fe?D(re,te).fill(ee,fe):D(re,te).fill(ee):D(re,te)}(null,re,te,ee)},p.allocUnsafe=function(re){return M(null,re)},p.allocUnsafeSlow=function(re){return M(null,re)},p.isBuffer=function(te){return!(null==te||!te._isBuffer)},p.compare=function(te,ee){if(!p.isBuffer(te)||!p.isBuffer(ee))throw new TypeError("Arguments must be Buffers");if(te===ee)return 0;for(var fe=te.length,ye=ee.length,ue=0,Me=Math.min(fe,ye);ue<Me;++ue)if(te[ue]!==ee[ue]){fe=te[ue],ye=ee[ue];break}return fe<ye?-1:ye<fe?1:0},p.isEncoding=function(te){switch(String(te).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(te,ee){if(!E(te))throw new TypeError('"list" argument must be an Array of Buffers');if(0===te.length)return p.alloc(0);var fe;if(void 0===ee)for(ee=0,fe=0;fe<te.length;++fe)ee+=te[fe].length;var ye=p.allocUnsafe(ee),ue=0;for(fe=0;fe<te.length;++fe){var Me=te[fe];if(!p.isBuffer(Me))throw new TypeError('"list" argument must be an Array of Buffers');Me.copy(ye,ue),ue+=Me.length}return ye},p.byteLength=O,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var te=this.length;if(te%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ee=0;ee<te;ee+=2)N(this,ee,ee+1);return this},p.prototype.swap32=function(){var te=this.length;if(te%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ee=0;ee<te;ee+=4)N(this,ee,ee+3),N(this,ee+1,ee+2);return this},p.prototype.swap64=function(){var te=this.length;if(te%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ee=0;ee<te;ee+=8)N(this,ee,ee+7),N(this,ee+1,ee+6),N(this,ee+2,ee+5),N(this,ee+3,ee+4);return this},p.prototype.toString=function(){var te=0|this.length;return 0===te?"":0===arguments.length?_e(this,0,te):T.apply(this,arguments)},p.prototype.equals=function(te){if(!p.isBuffer(te))throw new TypeError("Argument must be a Buffer");return this===te||0===p.compare(this,te)},p.prototype.inspect=function(){var te="",ee=S.INSPECT_MAX_BYTES;return this.length>0&&(te=this.toString("hex",0,ee).match(/.{2}/g).join(" "),this.length>ee&&(te+=" ... ")),"<Buffer "+te+">"},p.prototype.compare=function(te,ee,fe,ye,ue){if(!p.isBuffer(te))throw new TypeError("Argument must be a Buffer");if(void 0===ee&&(ee=0),void 0===fe&&(fe=te?te.length:0),void 0===ye&&(ye=0),void 0===ue&&(ue=this.length),ee<0||fe>te.length||ye<0||ue>this.length)throw new RangeError("out of range index");if(ye>=ue&&ee>=fe)return 0;if(ye>=ue)return-1;if(ee>=fe)return 1;if(this===te)return 0;for(var Me=(ue>>>=0)-(ye>>>=0),Ye=(fe>>>=0)-(ee>>>=0),Ge=Math.min(Me,Ye),at=this.slice(ye,ue),ct=te.slice(ee,fe),rt=0;rt<Ge;++rt)if(at[rt]!==ct[rt]){Me=at[rt],Ye=ct[rt];break}return Me<Ye?-1:Ye<Me?1:0},p.prototype.includes=function(te,ee,fe){return-1!==this.indexOf(te,ee,fe)},p.prototype.indexOf=function(te,ee,fe){return C(this,te,ee,fe,!0)},p.prototype.lastIndexOf=function(te,ee,fe){return C(this,te,ee,fe,!1)},p.prototype.write=function(te,ee,fe,ye){if(void 0===ee)ye="utf8",fe=this.length,ee=0;else if(void 0===fe&&"string"==typeof ee)ye=ee,fe=this.length,ee=0;else{if(!isFinite(ee))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ee|=0,isFinite(fe)?(fe|=0,void 0===ye&&(ye="utf8")):(ye=fe,fe=void 0)}var ue=this.length-ee;if((void 0===fe||fe>ue)&&(fe=ue),te.length>0&&(fe<0||ee<0)||ee>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");for(var Me=!1;;)switch(ye){case"hex":return Y(this,te,ee,fe);case"utf8":case"utf-8":return J(this,te,ee,fe);case"ascii":return ce(this,te,ee,fe);case"latin1":case"binary":return Fe(this,te,ee,fe);case"base64":return q(this,te,ee,fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,te,ee,fe);default:if(Me)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),Me=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var se=4096;function De(re,te,ee){var fe="";ee=Math.min(re.length,ee);for(var ye=te;ye<ee;++ye)fe+=String.fromCharCode(127&re[ye]);return fe}function Le(re,te,ee){var fe="";ee=Math.min(re.length,ee);for(var ye=te;ye<ee;++ye)fe+=String.fromCharCode(re[ye]);return fe}function he(re,te,ee){var fe=re.length;(!te||te<0)&&(te=0),(!ee||ee<0||ee>fe)&&(ee=fe);for(var ye="",ue=te;ue<ee;++ue)ye+=W(re[ue]);return ye}function Re(re,te,ee){for(var fe=re.slice(te,ee),ye="",ue=0;ue<fe.length;ue+=2)ye+=String.fromCharCode(fe[ue]+256*fe[ue+1]);return ye}function Ie(re,te,ee){if(re%1!=0||re<0)throw new RangeError("offset is not uint");if(re+te>ee)throw new RangeError("Trying to access beyond buffer length")}function ge(re,te,ee,fe,ye,ue){if(!p.isBuffer(re))throw new TypeError('"buffer" argument must be a Buffer instance');if(te>ye||te<ue)throw new RangeError('"value" argument is out of bounds');if(ee+fe>re.length)throw new RangeError("Index out of range")}function Ue(re,te,ee,fe){te<0&&(te=65535+te+1);for(var ye=0,ue=Math.min(re.length-ee,2);ye<ue;++ye)re[ee+ye]=(te&255<<8*(fe?ye:1-ye))>>>8*(fe?ye:1-ye)}function ke(re,te,ee,fe){te<0&&(te=4294967295+te+1);for(var ye=0,ue=Math.min(re.length-ee,4);ye<ue;++ye)re[ee+ye]=te>>>8*(fe?ye:3-ye)&255}function we(re,te,ee,fe,ye,ue){if(ee+fe>re.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("Index out of range")}function Ke(re,te,ee,fe,ye){return ye||we(re,0,ee,4),w.write(re,te,ee,fe,23,4),ee+4}function st(re,te,ee,fe,ye){return ye||we(re,0,ee,8),w.write(re,te,ee,fe,52,8),ee+8}p.prototype.slice=function(te,ee){var ye,fe=this.length;if((te=~~te)<0?(te+=fe)<0&&(te=0):te>fe&&(te=fe),(ee=void 0===ee?fe:~~ee)<0?(ee+=fe)<0&&(ee=0):ee>fe&&(ee=fe),ee<te&&(ee=te),p.TYPED_ARRAY_SUPPORT)(ye=this.subarray(te,ee)).__proto__=p.prototype;else{var ue=ee-te;ye=new p(ue,void 0);for(var Me=0;Me<ue;++Me)ye[Me]=this[Me+te]}return ye},p.prototype.readUIntLE=function(te,ee,fe){te|=0,ee|=0,fe||Ie(te,ee,this.length);for(var ye=this[te],ue=1,Me=0;++Me<ee&&(ue*=256);)ye+=this[te+Me]*ue;return ye},p.prototype.readUIntBE=function(te,ee,fe){te|=0,ee|=0,fe||Ie(te,ee,this.length);for(var ye=this[te+--ee],ue=1;ee>0&&(ue*=256);)ye+=this[te+--ee]*ue;return ye},p.prototype.readUInt8=function(te,ee){return ee||Ie(te,1,this.length),this[te]},p.prototype.readUInt16LE=function(te,ee){return ee||Ie(te,2,this.length),this[te]|this[te+1]<<8},p.prototype.readUInt16BE=function(te,ee){return ee||Ie(te,2,this.length),this[te]<<8|this[te+1]},p.prototype.readUInt32LE=function(te,ee){return ee||Ie(te,4,this.length),(this[te]|this[te+1]<<8|this[te+2]<<16)+16777216*this[te+3]},p.prototype.readUInt32BE=function(te,ee){return ee||Ie(te,4,this.length),16777216*this[te]+(this[te+1]<<16|this[te+2]<<8|this[te+3])},p.prototype.readIntLE=function(te,ee,fe){te|=0,ee|=0,fe||Ie(te,ee,this.length);for(var ye=this[te],ue=1,Me=0;++Me<ee&&(ue*=256);)ye+=this[te+Me]*ue;return ye>=(ue*=128)&&(ye-=Math.pow(2,8*ee)),ye},p.prototype.readIntBE=function(te,ee,fe){te|=0,ee|=0,fe||Ie(te,ee,this.length);for(var ye=ee,ue=1,Me=this[te+--ye];ye>0&&(ue*=256);)Me+=this[te+--ye]*ue;return Me>=(ue*=128)&&(Me-=Math.pow(2,8*ee)),Me},p.prototype.readInt8=function(te,ee){return ee||Ie(te,1,this.length),128&this[te]?-1*(255-this[te]+1):this[te]},p.prototype.readInt16LE=function(te,ee){ee||Ie(te,2,this.length);var fe=this[te]|this[te+1]<<8;return 32768&fe?4294901760|fe:fe},p.prototype.readInt16BE=function(te,ee){ee||Ie(te,2,this.length);var fe=this[te+1]|this[te]<<8;return 32768&fe?4294901760|fe:fe},p.prototype.readInt32LE=function(te,ee){return ee||Ie(te,4,this.length),this[te]|this[te+1]<<8|this[te+2]<<16|this[te+3]<<24},p.prototype.readInt32BE=function(te,ee){return ee||Ie(te,4,this.length),this[te]<<24|this[te+1]<<16|this[te+2]<<8|this[te+3]},p.prototype.readFloatLE=function(te,ee){return ee||Ie(te,4,this.length),w.read(this,te,!0,23,4)},p.prototype.readFloatBE=function(te,ee){return ee||Ie(te,4,this.length),w.read(this,te,!1,23,4)},p.prototype.readDoubleLE=function(te,ee){return ee||Ie(te,8,this.length),w.read(this,te,!0,52,8)},p.prototype.readDoubleBE=function(te,ee){return ee||Ie(te,8,this.length),w.read(this,te,!1,52,8)},p.prototype.writeUIntLE=function(te,ee,fe,ye){te=+te,ee|=0,fe|=0,ye||ge(this,te,ee,fe,Math.pow(2,8*fe)-1,0);var Me=1,Ye=0;for(this[ee]=255&te;++Ye<fe&&(Me*=256);)this[ee+Ye]=te/Me&255;return ee+fe},p.prototype.writeUIntBE=function(te,ee,fe,ye){te=+te,ee|=0,fe|=0,ye||ge(this,te,ee,fe,Math.pow(2,8*fe)-1,0);var Me=fe-1,Ye=1;for(this[ee+Me]=255&te;--Me>=0&&(Ye*=256);)this[ee+Me]=te/Ye&255;return ee+fe},p.prototype.writeUInt8=function(te,ee,fe){return te=+te,ee|=0,fe||ge(this,te,ee,1,255,0),p.TYPED_ARRAY_SUPPORT||(te=Math.floor(te)),this[ee]=255&te,ee+1},p.prototype.writeUInt16LE=function(te,ee,fe){return te=+te,ee|=0,fe||ge(this,te,ee,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[ee]=255&te,this[ee+1]=te>>>8):Ue(this,te,ee,!0),ee+2},p.prototype.writeUInt16BE=function(te,ee,fe){return te=+te,ee|=0,fe||ge(this,te,ee,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[ee]=te>>>8,this[ee+1]=255&te):Ue(this,te,ee,!1),ee+2},p.prototype.writeUInt32LE=function(te,ee,fe){return te=+te,ee|=0,fe||ge(this,te,ee,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[ee+3]=te>>>24,this[ee+2]=te>>>16,this[ee+1]=te>>>8,this[ee]=255&te):ke(this,te,ee,!0),ee+4},p.prototype.writeUInt32BE=function(te,ee,fe){return te=+te,ee|=0,fe||ge(this,te,ee,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[ee]=te>>>24,this[ee+1]=te>>>16,this[ee+2]=te>>>8,this[ee+3]=255&te):ke(this,te,ee,!1),ee+4},p.prototype.writeIntLE=function(te,ee,fe,ye){if(te=+te,ee|=0,!ye){var ue=Math.pow(2,8*fe-1);ge(this,te,ee,fe,ue-1,-ue)}var Me=0,Ye=1,Ge=0;for(this[ee]=255&te;++Me<fe&&(Ye*=256);)te<0&&0===Ge&&0!==this[ee+Me-1]&&(Ge=1),this[ee+Me]=(te/Ye>>0)-Ge&255;return ee+fe},p.prototype.writeIntBE=function(te,ee,fe,ye){if(te=+te,ee|=0,!ye){var ue=Math.pow(2,8*fe-1);ge(this,te,ee,fe,ue-1,-ue)}var Me=fe-1,Ye=1,Ge=0;for(this[ee+Me]=255&te;--Me>=0&&(Ye*=256);)te<0&&0===Ge&&0!==this[ee+Me+1]&&(Ge=1),this[ee+Me]=(te/Ye>>0)-Ge&255;return ee+fe},p.prototype.writeInt8=function(te,ee,fe){return te=+te,ee|=0,fe||ge(this,te,ee,1,127,-128),p.TYPED_ARRAY_SUPPORT||(te=Math.floor(te)),te<0&&(te=255+te+1),this[ee]=255&te,ee+1},p.prototype.writeInt16LE=function(te,ee,fe){return te=+te,ee|=0,fe||ge(this,te,ee,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[ee]=255&te,this[ee+1]=te>>>8):Ue(this,te,ee,!0),ee+2},p.prototype.writeInt16BE=function(te,ee,fe){return te=+te,ee|=0,fe||ge(this,te,ee,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[ee]=te>>>8,this[ee+1]=255&te):Ue(this,te,ee,!1),ee+2},p.prototype.writeInt32LE=function(te,ee,fe){return te=+te,ee|=0,fe||ge(this,te,ee,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[ee]=255&te,this[ee+1]=te>>>8,this[ee+2]=te>>>16,this[ee+3]=te>>>24):ke(this,te,ee,!0),ee+4},p.prototype.writeInt32BE=function(te,ee,fe){return te=+te,ee|=0,fe||ge(this,te,ee,4,2147483647,-2147483648),te<0&&(te=4294967295+te+1),p.TYPED_ARRAY_SUPPORT?(this[ee]=te>>>24,this[ee+1]=te>>>16,this[ee+2]=te>>>8,this[ee+3]=255&te):ke(this,te,ee,!1),ee+4},p.prototype.writeFloatLE=function(te,ee,fe){return Ke(this,te,ee,!0,fe)},p.prototype.writeFloatBE=function(te,ee,fe){return Ke(this,te,ee,!1,fe)},p.prototype.writeDoubleLE=function(te,ee,fe){return st(this,te,ee,!0,fe)},p.prototype.writeDoubleBE=function(te,ee,fe){return st(this,te,ee,!1,fe)},p.prototype.copy=function(te,ee,fe,ye){if(fe||(fe=0),!ye&&0!==ye&&(ye=this.length),ee>=te.length&&(ee=te.length),ee||(ee=0),ye>0&&ye<fe&&(ye=fe),ye===fe||0===te.length||0===this.length)return 0;if(ee<0)throw new RangeError("targetStart out of bounds");if(fe<0||fe>=this.length)throw new RangeError("sourceStart out of bounds");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),te.length-ee<ye-fe&&(ye=te.length-ee+fe);var Me,ue=ye-fe;if(this===te&&fe<ee&&ee<ye)for(Me=ue-1;Me>=0;--Me)te[Me+ee]=this[Me+fe];else if(ue<1e3||!p.TYPED_ARRAY_SUPPORT)for(Me=0;Me<ue;++Me)te[Me+ee]=this[Me+fe];else Uint8Array.prototype.set.call(te,this.subarray(fe,fe+ue),ee);return ue},p.prototype.fill=function(te,ee,fe,ye){if("string"==typeof te){if("string"==typeof ee?(ye=ee,ee=0,fe=this.length):"string"==typeof fe&&(ye=fe,fe=this.length),1===te.length){var ue=te.charCodeAt(0);ue<256&&(te=ue)}if(void 0!==ye&&"string"!=typeof ye)throw new TypeError("encoding must be a string");if("string"==typeof ye&&!p.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye)}else"number"==typeof te&&(te&=255);if(ee<0||this.length<ee||this.length<fe)throw new RangeError("Out of range index");if(fe<=ee)return this;var Me;if(ee>>>=0,fe=void 0===fe?this.length:fe>>>0,te||(te=0),"number"==typeof te)for(Me=ee;Me<fe;++Me)this[Me]=te;else{var Ye=p.isBuffer(te)?te:ae(new p(te,ye).toString()),Ge=Ye.length;for(Me=0;Me<fe-ee;++Me)this[Me+ee]=Ye[Me%Ge]}return this};var Qe=/[^+\/0-9A-Za-z-_]/g;function W(re){return re<16?"0"+re.toString(16):re.toString(16)}function ae(re,te){te=te||1/0;for(var ee,fe=re.length,ye=null,ue=[],Me=0;Me<fe;++Me){if((ee=re.charCodeAt(Me))>55295&&ee<57344){if(!ye){if(ee>56319){(te-=3)>-1&&ue.push(239,191,189);continue}if(Me+1===fe){(te-=3)>-1&&ue.push(239,191,189);continue}ye=ee;continue}if(ee<56320){(te-=3)>-1&&ue.push(239,191,189),ye=ee;continue}ee=65536+(ye-55296<<10|ee-56320)}else ye&&(te-=3)>-1&&ue.push(239,191,189);if(ye=null,ee<128){if((te-=1)<0)break;ue.push(ee)}else if(ee<2048){if((te-=2)<0)break;ue.push(ee>>6|192,63&ee|128)}else if(ee<65536){if((te-=3)<0)break;ue.push(ee>>12|224,ee>>6&63|128,63&ee|128)}else{if(!(ee<1114112))throw new Error("Invalid code point");if((te-=4)<0)break;ue.push(ee>>18|240,ee>>12&63|128,ee>>6&63|128,63&ee|128)}}return ue}function X(re){return b.toByteArray(function Ne(re){if((re=function Se(re){return re.trim?re.trim():re.replace(/^\s+|\s+$/g,"")}(re).replace(Qe,"")).length<2)return"";for(;re.length%4!=0;)re+="=";return re}(re))}function $(re,te,ee,fe){for(var ye=0;ye<fe&&!(ye+ee>=te.length||ye>=re.length);++ye)te[ye+ee]=re[ye];return ye}}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/codem-isoboxer/dist/iso_boxer.js":
/*!*******************************************************!*\
                  !*** ./node_modules/codem-isoboxer/dist/iso_boxer.js ***!
                  \*******************************************************/
/*! no static exports found */function(nt,S,c){var t={parseBuffer:function(E){return new b(E).parse()},addBoxProcessor:function(E,F){"string"!=typeof E||"function"!=typeof F||(w.prototype._boxProcessors[E]=F)},createFile:function(){return new b},createBox:function(E,F,L){var D=w.create(E);return F&&F.append(D,L),D},createFullBox:function(E,F,L){var D=t.createBox(E,F,L);return D.version=0,D.flags=0,D},Utils:{}};t.Utils.dataViewToString=function(E,F){var L=F||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(L).decode(E);var D=[],p=0;if("utf-8"===L)for(;p<E.byteLength;){var f=E.getUint8(p++);f<128||(f<224?(f=(31&f)<<6,f|=63&E.getUint8(p++)):f<240?(f=(15&f)<<12,f|=(63&E.getUint8(p++))<<6,f|=63&E.getUint8(p++)):(f=(7&f)<<18,f|=(63&E.getUint8(p++))<<12,f|=(63&E.getUint8(p++))<<6,f|=63&E.getUint8(p++))),D.push(String.fromCharCode(f))}else for(;p<E.byteLength;)D.push(String.fromCharCode(E.getUint8(p++)));return D.join("")},t.Utils.utf8ToByteArray=function(E){var F,L;if(typeof TextEncoder<"u")F=(new TextEncoder).encode(E);else for(F=[],L=0;L<E.length;++L){var D=E.charCodeAt(L);D<128?F.push(D):D<2048?(F.push(192|D>>6),F.push(128|63&D)):D<65536?(F.push(224|D>>12),F.push(128|63&D>>6),F.push(128|63&D)):(F.push(240|D>>18),F.push(128|63&D>>12),F.push(128|63&D>>6),F.push(128|63&D))}return F},t.Utils.appendBox=function(E,F,L){if(F._offset=E._cursor.offset,F._root=E._root?E._root:E,F._raw=E._raw,F._parent=E,-1!==L){if(null==L)return void E.boxes.push(F);var p,D=-1;if("number"==typeof L)D=L;else{if("string"==typeof L)p=L;else{if("object"!=typeof L||!L.type)return void E.boxes.push(F);p=L.type}for(var f=0;f<E.boxes.length;f++)if(p===E.boxes[f].type){D=f+1;break}}E.boxes.splice(D,0,F)}},S.parseBuffer=t.parseBuffer,S.addBoxProcessor=t.addBoxProcessor,S.createFile=t.createFile,S.createBox=t.createBox,S.createFullBox=t.createFullBox,S.Utils=t.Utils,t.Cursor=function(E){this.offset=typeof E>"u"?0:E};var b=function(E){this._cursor=new t.Cursor,this.boxes=[],E&&(this._raw=new DataView(E))};b.prototype.fetch=function(E){var F=this.fetchAll(E,!0);return F.length?F[0]:null},b.prototype.fetchAll=function(E,F){var L=[];return b._sweep.call(this,E,L,F),L},b.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var E=w.parse(this);if(typeof E.type>"u")break;this.boxes.push(E)}return this},b._sweep=function(E,F,L){for(var D in this.type&&this.type==E&&F.push(this),this.boxes){if(F.length&&L)return;b._sweep.call(this.boxes[D],E,F,L)}},b.prototype.write=function(){var F,E=0;for(F=0;F<this.boxes.length;F++)E+=this.boxes[F].getLength(!1);var L=new Uint8Array(E);for(this._rawo=new DataView(L.buffer),this.bytes=L,this._cursor.offset=0,F=0;F<this.boxes.length;F++)this.boxes[F].write();return L.buffer},b.prototype.append=function(E,F){t.Utils.appendBox(this,E,F)};var w=function(){this._cursor=new t.Cursor};w.parse=function(E){var F=new w;return F._offset=E._cursor.offset,F._root=E._root?E._root:E,F._raw=E._raw,F._parent=E,F._parseBox(),E._cursor.offset=F._raw.byteOffset+F._raw.byteLength,F},w.create=function(E){var F=new w;return F.type=E,F.boxes=[],F},w.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],w.prototype._boxProcessors={},w.prototype._procField=function(E,F,L){this._parsing?this[E]=this._readField(F,L):this._writeField(F,L,this[E])},w.prototype._procFieldArray=function(E,F,L,D){var p;if(this._parsing)for(this[E]=[],p=0;p<F;p++)this[E][p]=this._readField(L,D);else for(p=0;p<this[E].length;p++)this._writeField(L,D,this[E][p])},w.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},w.prototype._procEntries=function(E,F,L){var D;if(this._parsing)for(this[E]=[],D=0;D<F;D++)this[E].push({}),L.call(this,this[E][D]);else for(D=0;D<F;D++)L.call(this,this[E][D])},w.prototype._procSubEntries=function(E,F,L,D){var p;if(this._parsing)for(E[F]=[],p=0;p<L;p++)E[F].push({}),D.call(this,E[F][p]);else for(p=0;p<L;p++)D.call(this,E[F][p])},w.prototype._procEntryField=function(E,F,L,D){this._parsing?E[F]=this._readField(L,D):this._writeField(L,D,E[F])},w.prototype._procSubBoxes=function(E,F){var L;if(this._parsing)for(this[E]=[],L=0;L<F;L++)this[E].push(w.parse(this));else for(L=0;L<F;L++)this._rawo?this[E][L].write():this.size+=this[E][L].getLength()},w.prototype._readField=function(E,F){switch(E){case"uint":return this._readUint(F);case"int":return this._readInt(F);case"template":return this._readTemplate(F);case"string":return-1===F?this._readTerminatedString():this._readString(F);case"data":return this._readData(F);case"utf8":return this._readUTF8String();default:return-1}},w.prototype._readInt=function(E){var F=null,L=this._cursor.offset-this._raw.byteOffset;switch(E){case 8:F=this._raw.getInt8(L);break;case 16:F=this._raw.getInt16(L);break;case 32:F=this._raw.getInt32(L);break;case 64:var D=this._raw.getInt32(L),p=this._raw.getInt32(L+4);F=D*Math.pow(2,32)+p}return this._cursor.offset+=E>>3,F},w.prototype._readUint=function(E){var D,p,F=null,L=this._cursor.offset-this._raw.byteOffset;switch(E){case 8:F=this._raw.getUint8(L);break;case 16:F=this._raw.getUint16(L);break;case 24:F=((D=this._raw.getUint16(L))<<8)+(p=this._raw.getUint8(L+2));break;case 32:F=this._raw.getUint32(L);break;case 64:D=this._raw.getUint32(L),p=this._raw.getUint32(L+4),F=D*Math.pow(2,32)+p}return this._cursor.offset+=E>>3,F},w.prototype._readString=function(E){for(var F="",L=0;L<E;L++){var D=this._readUint(8);F+=String.fromCharCode(D)}return F},w.prototype._readTemplate=function(E){return this._readUint(E/2)+this._readUint(E/2)/Math.pow(2,E/2)},w.prototype._readTerminatedString=function(){for(var E="";this._cursor.offset-this._offset<this._raw.byteLength;){var F=this._readUint(8);if(0===F)break;E+=String.fromCharCode(F)}return E},w.prototype._readData=function(E){var F=E>0?E:this._raw.byteLength-(this._cursor.offset-this._offset);if(F>0){var L=new Uint8Array(this._raw.buffer,this._cursor.offset,F);return this._cursor.offset+=F,L}return null},w.prototype._readUTF8String=function(){var E=this._raw.byteLength-(this._cursor.offset-this._offset),F=null;return E>0&&(F=new DataView(this._raw.buffer,this._cursor.offset,E),this._cursor.offset+=E),F&&t.Utils.dataViewToString(F)},w.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},w.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},w.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(w.parse(this))},w.prototype.append=function(E,F){t.Utils.appendBox(this,E,F)},w.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var E=0;E<this.boxes.length;E++)this.size+=this.boxes[E].getLength();return this._data&&this._writeData(this._data),this.size},w.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var E=0;E<this.boxes.length;E++)this.boxes[E].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},w.prototype._writeInt=function(E,F){if(this._rawo){var L=this._cursor.offset-this._rawo.byteOffset;switch(E){case 8:this._rawo.setInt8(L,F);break;case 16:this._rawo.setInt16(L,F);break;case 32:this._rawo.setInt32(L,F);break;case 64:var D=Math.floor(F/Math.pow(2,32)),p=F-D*Math.pow(2,32);this._rawo.setUint32(L,D),this._rawo.setUint32(L+4,p)}this._cursor.offset+=E>>3}else this.size+=E>>3},w.prototype._writeUint=function(E,F){if(this._rawo){var D,p,L=this._cursor.offset-this._rawo.byteOffset;switch(E){case 8:this._rawo.setUint8(L,F);break;case 16:this._rawo.setUint16(L,F);break;case 24:p=255&F,this._rawo.setUint16(L,D=(16776960&F)>>8),this._rawo.setUint8(L+2,p);break;case 32:this._rawo.setUint32(L,F);break;case 64:p=F-(D=Math.floor(F/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(L,D),this._rawo.setUint32(L+4,p)}this._cursor.offset+=E>>3}else this.size+=E>>3},w.prototype._writeString=function(E,F){for(var L=0;L<E;L++)this._writeUint(8,F.charCodeAt(L))},w.prototype._writeTerminatedString=function(E){if(0!==E.length){for(var F=0;F<E.length;F++)this._writeUint(8,E.charCodeAt(F));this._writeUint(8,0)}},w.prototype._writeTemplate=function(E,F){var L=Math.floor(F),D=(F-L)*Math.pow(2,E/2);this._writeUint(E/2,L),this._writeUint(E/2,D)},w.prototype._writeData=function(E){if(E)if(this._rawo){if(E instanceof Array){for(var L=this._cursor.offset-this._rawo.byteOffset,F=0;F<E.length;F++)this._rawo.setInt8(L+F,E[F]);this._cursor.offset+=E.length}E instanceof Uint8Array&&(this._root.bytes.set(E,this._cursor.offset),this._cursor.offset+=E.length)}else this.size+=E.length},w.prototype._writeUTF8String=function(E){var F=t.Utils.utf8ToByteArray(E);if(this._rawo)for(var L=new DataView(this._rawo.buffer,this._cursor.offset,F.length),D=0;D<F.length;D++)L.setUint8(D,F[D]);else this.size+=F.length},w.prototype._writeField=function(E,F,L){switch(E){case"uint":this._writeUint(F,L);break;case"int":this._writeInt(F,L);break;case"template":this._writeTemplate(F,L);break;case"string":-1==F?this._writeTerminatedString(L):this._writeString(F,L);break;case"data":this._writeData(L);break;case"utf8":this._writeUTF8String(L)}},w.prototype._boxProcessors.avc1=w.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},w.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},w.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(E){this._procEntryField(E,"segment_duration","uint",1===this.version?64:32),this._procEntryField(E,"media_time","int",1===this.version?64:32),this._procEntryField(E,"media_rate_integer","int",16),this._procEntryField(E,"media_rate_fraction","int",16)})},w.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},w.prototype._boxProcessors.free=w.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},w.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},w.prototype._boxProcessors.ftyp=w.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var E=-1;this._parsing&&(E=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",E,"string",4)},w.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},w.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},w.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),!this._parsing&&"string"==typeof this.language&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},w.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},w.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},w.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},w.prototype._boxProcessors.mp4a=w.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},w.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},w.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},w.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},w.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},w.prototype._boxProcessors.sdtp=function(){this._procFullBox();var E=-1;this._parsing&&(E=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",E,"uint",8)},w.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(E){this._parsing||(E.reference=(1&E.reference_type)<<31,E.reference|=2147483647&E.referenced_size,E.sap=(1&E.starts_with_SAP)<<31,E.sap|=(3&E.SAP_type)<<28,E.sap|=268435455&E.SAP_delta_time),this._procEntryField(E,"reference","uint",32),this._procEntryField(E,"subsegment_duration","uint",32),this._procEntryField(E,"sap","uint",32),this._parsing&&(E.reference_type=E.reference>>31&1,E.referenced_size=2147483647&E.reference,E.starts_with_SAP=E.sap>>31&1,E.SAP_type=E.sap>>28&7,E.SAP_delta_time=268435455&E.sap)})},w.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},w.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(E){this._procEntryField(E,"ranges_count","uint",32),this._procSubEntries(E,"ranges",E.ranges_count,function(F){this._procEntryField(F,"level","uint",8),this._procEntryField(F,"range_size","uint",24)})})},w.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},w.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(E){this._procEntryField(E,"sample_delta","uint",32),this._procEntryField(E,"subsample_count","uint",16),this._procSubEntries(E,"subsamples",E.subsample_count,function(F){this._procEntryField(F,"subsample_size","uint",1===this.version?32:16),this._procEntryField(F,"subsample_priority","uint",8),this._procEntryField(F,"discardable","uint",8),this._procEntryField(F,"codec_specific_parameters","uint",32)})})},w.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},w.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},w.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},w.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(E){this._procEntryField(E,"time","uint",1===this.version?64:32),this._procEntryField(E,"moof_offset","uint",1===this.version?64:32),this._procEntryField(E,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(E,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(E,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},w.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},w.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},w.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(E){256&this.flags&&this._procEntryField(E,"sample_duration","uint",32),512&this.flags&&this._procEntryField(E,"sample_size","uint",32),1024&this.flags&&this._procEntryField(E,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(E,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},w.prototype._boxProcessors["url "]=w.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},w.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},w.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},w.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},w.prototype._boxProcessors.vtte=function(){}},"./node_modules/core-util-is/lib/util.js":
/*!***********************************************!*\
                  !*** ./node_modules/core-util-is/lib/util.js ***!
                  \***********************************************/
/*! no static exports found */function(nt,S,c){function V(k){return Object.prototype.toString.call(k)}S.isArray=function t(k){return Array.isArray?Array.isArray(k):"[object Array]"===V(k)},S.isBoolean=function b(k){return"boolean"==typeof k},S.isNull=function w(k){return null===k},S.isNullOrUndefined=function E(k){return null==k},S.isNumber=function F(k){return"number"==typeof k},S.isString=function L(k){return"string"==typeof k},S.isSymbol=function D(k){return"symbol"==typeof k},S.isUndefined=function p(k){return void 0===k},S.isRegExp=function f(k){return"[object RegExp]"===V(k)},S.isObject=function g(k){return"object"==typeof k&&null!==k},S.isDate=function y(k){return"[object Date]"===V(k)},S.isError=function M(k){return"[object Error]"===V(k)||k instanceof Error},S.isFunction=function U(k){return"function"==typeof k},S.isPrimitive=function R(k){return null===k||"boolean"==typeof k||"number"==typeof k||"string"==typeof k||"symbol"==typeof k||typeof k>"u"},S.isBuffer=c(
/*! buffer */
"./node_modules/buffer/index.js").Buffer.isBuffer},"./node_modules/es6-promise/auto.js":
/*!******************************************!*\
                  !*** ./node_modules/es6-promise/auto.js ***!
                  \******************************************/
/*! no static exports found */function(nt,S,c){"use strict";nt.exports=c(
/*! ./ */
"./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
                  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
                  \******************************************************/
/*! no static exports found */function(nt,S,c){(function(t,b){var E;E=function(){"use strict";function E(ue){return"function"==typeof ue}var L=Array.isArray?Array.isArray:function(ue){return"[object Array]"===Object.prototype.toString.call(ue)},D=0,p=void 0,f=void 0,g=function(Me,Ye){B[D]=Me,B[D+1]=Ye,2===(D+=2)&&(f?f(Y):ce())};var U=typeof window<"u"?window:void 0,R=U||{},V=R.MutationObserver||R.WebKitMutationObserver,k=typeof self>"u"&&typeof t<"u"&&"[object process]"==={}.toString.call(t),P=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function C(){var ue=setTimeout;return function(){return ue(Y,1)}}var B=new Array(1e3);function Y(){for(var ue=0;ue<D;ue+=2)(0,B[ue])(B[ue+1]),B[ue]=void 0,B[ue+1]=void 0;D=0}var ce=void 0;function Fe(ue,Me){var Ye=this,Ge=new this.constructor(K);void 0===Ge[le]&&ve(Ge);var at=Ye._state;if(at){var ct=arguments[at-1];g(function(){return Ne(at,Ge,ct,Ye._result)})}else st(Ye,Ge,ue,Me);return Ge}function q(ue){if(ue&&"object"==typeof ue&&ue.constructor===this)return ue;var Ye=new this(K);return Ue(Ye,ue),Ye}ce=k?function x(){return function(){return t.nextTick(Y)}}():V?function T(){var ue=0,Me=new V(Y),Ye=document.createTextNode("");return Me.observe(Ye,{characterData:!0}),function(){Ye.data=ue=++ue%2}}():P?function N(){var ue=new MessageChannel;return ue.port1.onmessage=Y,function(){return ue.port2.postMessage(0)}}():void 0===U?function J(){try{var ue=Function("return this")().require("vertx");return p=ue.runOnLoop||ue.runOnContext,function O(){return typeof p<"u"?function(){p(Y)}:C()}()}catch{return C()}}():C();var le=Math.random().toString(36).substring(2);function K(){}var _e=void 0,se=1,me=2;function ge(ue,Me,Ye){Me.constructor===ue.constructor&&Ye===Fe&&Me.constructor.resolve===q?function Ie(ue,Me){Me._state===se?we(ue,Me._result):Me._state===me?Ke(ue,Me._result):st(Me,void 0,function(Ye){return Ue(ue,Ye)},function(Ye){return Ke(ue,Ye)})}(ue,Me):void 0===Ye?we(ue,Me):E(Ye)?function Re(ue,Me,Ye){g(function(Ge){var at=!1,ct=function he(ue,Me,Ye,Ge){try{ue.call(Me,Ye,Ge)}catch(at){return at}}(Ye,Me,function(rt){at||(at=!0,Me!==rt?Ue(Ge,rt):we(Ge,rt))},function(rt){at||(at=!0,Ke(Ge,rt))});!at&&ct&&(at=!0,Ke(Ge,ct))},ue)}(ue,Me,Ye):we(ue,Me)}function Ue(ue,Me){if(ue===Me)Ke(ue,function De(){return new TypeError("You cannot resolve a promise with itself")}());else if(function w(ue){var Me=typeof ue;return null!==ue&&("object"===Me||"function"===Me)}(Me)){var Ye=void 0;try{Ye=Me.then}catch(Ge){return void Ke(ue,Ge)}ge(ue,Me,Ye)}else we(ue,Me)}function ke(ue){ue._onerror&&ue._onerror(ue._result),Qe(ue)}function we(ue,Me){ue._state===_e&&(ue._result=Me,ue._state=se,0!==ue._subscribers.length&&g(Qe,ue))}function Ke(ue,Me){ue._state===_e&&(ue._state=me,ue._result=Me,g(ke,ue))}function st(ue,Me,Ye,Ge){var at=ue._subscribers,ct=at.length;ue._onerror=null,at[ct]=Me,at[ct+se]=Ye,at[ct+me]=Ge,0===ct&&ue._state&&g(Qe,ue)}function Qe(ue){var Me=ue._subscribers,Ye=ue._state;if(0!==Me.length){for(var Ge=void 0,at=void 0,ct=ue._result,rt=0;rt<Me.length;rt+=3)at=Me[rt+Ye],(Ge=Me[rt])?Ne(Ye,Ge,at,ct):at(ct);ue._subscribers.length=0}}function Ne(ue,Me,Ye,Ge){var at=E(Ye),ct=void 0,rt=void 0,_t=!0;if(at){try{ct=Ye(Ge)}catch(Bt){_t=!1,rt=Bt}if(Me===ct)return void Ke(Me,function Le(){return new TypeError("A promises callback cannot return that same promise.")}())}else ct=Ge;Me._state!==_e||(at&&_t?Ue(Me,ct):!1===_t?Ke(Me,rt):ue===se?we(Me,ct):ue===me&&Ke(Me,ct))}var W=0;function ve(ue){ue[le]=W++,ue._state=void 0,ue._result=void 0,ue._subscribers=[]}var X=function(){function ue(Me,Ye){this._instanceConstructor=Me,this.promise=new Me(K),this.promise[le]||ve(this.promise),L(Ye)?(this.length=Ye.length,this._remaining=Ye.length,this._result=new Array(this.length),0===this.length?we(this.promise,this._result):(this.length=this.length||0,this._enumerate(Ye),0===this._remaining&&we(this.promise,this._result))):Ke(this.promise,function Q(){return new Error("Array Methods must be provided an Array")}())}return ue.prototype._enumerate=function(Ye){for(var Ge=0;this._state===_e&&Ge<Ye.length;Ge++)this._eachEntry(Ye[Ge],Ge)},ue.prototype._eachEntry=function(Ye,Ge){var at=this._instanceConstructor,ct=at.resolve;if(ct===q){var rt=void 0,_t=void 0,Bt=!1;try{rt=Ye.then}catch(jt){Bt=!0,_t=jt}if(rt===Fe&&Ye._state!==_e)this._settledAt(Ye._state,Ge,Ye._result);else if("function"!=typeof rt)this._remaining--,this._result[Ge]=Ye;else if(at===fe){var At=new at(K);Bt?Ke(At,_t):ge(At,Ye,rt),this._willSettleAt(At,Ge)}else this._willSettleAt(new at(function(jt){return jt(Ye)}),Ge)}else this._willSettleAt(ct(Ye),Ge)},ue.prototype._settledAt=function(Ye,Ge,at){var ct=this.promise;ct._state===_e&&(this._remaining--,Ye===me?Ke(ct,at):this._result[Ge]=at),0===this._remaining&&we(ct,this._result)},ue.prototype._willSettleAt=function(Ye,Ge){var at=this;st(Ye,void 0,function(ct){return at._settledAt(se,Ge,ct)},function(ct){return at._settledAt(me,Ge,ct)})},ue}();var fe=function(){function ue(Me){this[le]=function ae(){return W++}(),this._result=this._state=void 0,this._subscribers=[],K!==Me&&("function"!=typeof Me&&function te(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof ue?function Se(ue,Me){try{Me(function(Ge){Ue(ue,Ge)},function(Ge){Ke(ue,Ge)})}catch(Ye){Ke(ue,Ye)}}(this,Me):function ee(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return ue.prototype.catch=function(Ye){return this.then(null,Ye)},ue.prototype.finally=function(Ye){var at=this.constructor;return E(Ye)?this.then(function(ct){return at.resolve(Ye()).then(function(){return ct})},function(ct){return at.resolve(Ye()).then(function(){throw ct})}):this.then(Ye,Ye)},ue}();return fe.prototype.then=Fe,fe.all=function $(ue){return new X(this,ue).promise},fe.race=function ie(ue){var Me=this;return L(ue)?new Me(function(Ye,Ge){for(var at=ue.length,ct=0;ct<at;ct++)Me.resolve(ue[ct]).then(Ye,Ge)}):new Me(function(Ye,Ge){return Ge(new TypeError("You must pass an array to race."))})},fe.resolve=q,fe.reject=function re(ue){var Ye=new this(K);return Ke(Ye,ue),Ye},fe._setScheduler=function y(ue){f=ue},fe._setAsap=function M(ue){g=ue},fe._asap=g,fe.polyfill=function ye(){var ue=void 0;if(typeof b<"u")ue=b;else if(typeof self<"u")ue=self;else try{ue=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Me=ue.Promise;if(Me){var Ye=null;try{Ye=Object.prototype.toString.call(Me.resolve())}catch{}if("[object Promise]"===Ye&&!Me.cast)return}ue.Promise=fe},fe.Promise=fe,fe},nt.exports=E()}).call(this,c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/events/events.js":
/*!***************************************!*\
                  !*** ./node_modules/events/events.js ***!
                  \***************************************/
/*! no static exports found */function(nt,S,c){"use strict";var w,t="object"==typeof Reflect?Reflect:null,b=t&&"function"==typeof t.apply?t.apply:function(C,B,Y){return Function.prototype.apply.call(C,B,Y)};w=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:function(C){return Object.getOwnPropertyNames(C)};var F=Number.isNaN||function(C){return C!=C};function L(){L.init.call(this)}nt.exports=L,nt.exports.once=function x(N,C){return new Promise(function(B,Y){function J(Fe){N.removeListener(C,ce),Y(Fe)}function ce(){"function"==typeof N.removeListener&&N.removeListener("error",J),B([].slice.call(arguments))}T(N,C,ce,{once:!0}),"error"!==C&&function O(N,C,B){"function"==typeof N.on&&T(N,"error",C,B)}(N,J,{once:!0})})},L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var D=10;function p(N){if("function"!=typeof N)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}function f(N){return void 0===N._maxListeners?L.defaultMaxListeners:N._maxListeners}function g(N,C,B,Y){var J,ce,Fe;if(p(B),void 0===(ce=N._events)?(ce=N._events=Object.create(null),N._eventsCount=0):(void 0!==ce.newListener&&(N.emit("newListener",C,B.listener?B.listener:B),ce=N._events),Fe=ce[C]),void 0===Fe)Fe=ce[C]=B,++N._eventsCount;else if("function"==typeof Fe?Fe=ce[C]=Y?[B,Fe]:[Fe,B]:Y?Fe.unshift(B):Fe.push(B),(J=f(N))>0&&Fe.length>J&&!Fe.warned){Fe.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+Fe.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");q.name="MaxListenersExceededWarning",q.emitter=N,q.type=C,q.count=Fe.length,function E(N){console&&console.warn&&console.warn(N)}(q)}return N}function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function M(N,C,B){var Y={fired:!1,wrapFn:void 0,target:N,type:C,listener:B},J=y.bind(Y);return J.listener=B,Y.wrapFn=J,J}function U(N,C,B){var Y=N._events;if(void 0===Y)return[];var J=Y[C];return void 0===J?[]:"function"==typeof J?B?[J.listener||J]:[J]:B?function P(N){for(var C=new Array(N.length),B=0;B<C.length;++B)C[B]=N[B].listener||N[B];return C}(J):V(J,J.length)}function R(N){var C=this._events;if(void 0!==C){var B=C[N];if("function"==typeof B)return 1;if(void 0!==B)return B.length}return 0}function V(N,C){for(var B=new Array(C),Y=0;Y<C;++Y)B[Y]=N[Y];return B}function T(N,C,B,Y){if("function"==typeof N.on)Y.once?N.once(C,B):N.on(C,B);else{if("function"!=typeof N.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N);N.addEventListener(C,function J(ce){Y.once&&N.removeEventListener(C,J),B(ce)})}}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return D},set:function(N){if("number"!=typeof N||N<0||F(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");D=N}}),L.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(C){if("number"!=typeof C||C<0||F(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this},L.prototype.getMaxListeners=function(){return f(this)},L.prototype.emit=function(C){for(var B=[],Y=1;Y<arguments.length;Y++)B.push(arguments[Y]);var J="error"===C,ce=this._events;if(void 0!==ce)J=J&&void 0===ce.error;else if(!J)return!1;if(J){var Fe;if(B.length>0&&(Fe=B[0]),Fe instanceof Error)throw Fe;var q=new Error("Unhandled error."+(Fe?" ("+Fe.message+")":""));throw q.context=Fe,q}var le=ce[C];if(void 0===le)return!1;if("function"==typeof le)b(le,this,B);else{var K=le.length,_e=V(le,K);for(Y=0;Y<K;++Y)b(_e[Y],this,B)}return!0},L.prototype.on=L.prototype.addListener=function(C,B){return g(this,C,B,!1)},L.prototype.prependListener=function(C,B){return g(this,C,B,!0)},L.prototype.once=function(C,B){return p(B),this.on(C,M(this,C,B)),this},L.prototype.prependOnceListener=function(C,B){return p(B),this.prependListener(C,M(this,C,B)),this},L.prototype.off=L.prototype.removeListener=function(C,B){var Y,J,ce,Fe,q;if(p(B),void 0===(J=this._events))return this;if(void 0===(Y=J[C]))return this;if(Y===B||Y.listener===B)0==--this._eventsCount?this._events=Object.create(null):(delete J[C],J.removeListener&&this.emit("removeListener",C,Y.listener||B));else if("function"!=typeof Y){for(ce=-1,Fe=Y.length-1;Fe>=0;Fe--)if(Y[Fe]===B||Y[Fe].listener===B){q=Y[Fe].listener,ce=Fe;break}if(ce<0)return this;0===ce?Y.shift():function k(N,C){for(;C+1<N.length;C++)N[C]=N[C+1];N.pop()}(Y,ce),1===Y.length&&(J[C]=Y[0]),void 0!==J.removeListener&&this.emit("removeListener",C,q||B)}return this},L.prototype.removeAllListeners=function(C){var B,Y,J;if(void 0===(Y=this._events))return this;if(void 0===Y.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==Y[C]&&(0==--this._eventsCount?this._events=Object.create(null):delete Y[C]),this;if(0===arguments.length){var Fe,ce=Object.keys(Y);for(J=0;J<ce.length;++J)"removeListener"!==(Fe=ce[J])&&this.removeAllListeners(Fe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(B=Y[C]))this.removeListener(C,B);else if(void 0!==B)for(J=B.length-1;J>=0;J--)this.removeListener(C,B[J]);return this},L.prototype.listeners=function(C){return U(this,C,!0)},L.prototype.rawListeners=function(C){return U(this,C,!1)},L.listenerCount=function(N,C){return"function"==typeof N.listenerCount?N.listenerCount(C):R.call(N,C)},L.prototype.listenerCount=R,L.prototype.eventNames=function(){return this._eventsCount>0?w(this._events):[]}},"./node_modules/fast-deep-equal/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/fast-deep-equal/index.js ***!
                  \***********************************************/
/*! no static exports found */function(nt,S,c){"use strict";var t=Array.isArray,b=Object.keys,w=Object.prototype.hasOwnProperty;nt.exports=function E(F,L){if(F===L)return!0;if(F&&L&&"object"==typeof F&&"object"==typeof L){var f,g,y,D=t(F),p=t(L);if(D&&p){if((g=F.length)!=L.length)return!1;for(f=g;0!=f--;)if(!E(F[f],L[f]))return!1;return!0}if(D!=p)return!1;var M=F instanceof Date,U=L instanceof Date;if(M!=U)return!1;if(M&&U)return F.getTime()==L.getTime();var R=F instanceof RegExp,V=L instanceof RegExp;if(R!=V)return!1;if(R&&V)return F.toString()==L.toString();var k=b(F);if((g=k.length)!==b(L).length)return!1;for(f=g;0!=f--;)if(!w.call(L,k[f]))return!1;for(f=g;0!=f--;)if(!E(F[y=k[f]],L[y]))return!1;return!0}return F!=F&&L!=L}},"./node_modules/ieee754/index.js":
/*!***************************************!*\
                  !*** ./node_modules/ieee754/index.js ***!
                  \***************************************/
/*! no static exports found */function(nt,S){S.read=function(c,t,b,w,E){var F,L,D=8*E-w-1,p=(1<<D)-1,f=p>>1,g=-7,y=b?E-1:0,M=b?-1:1,U=c[t+y];for(y+=M,F=U&(1<<-g)-1,U>>=-g,g+=D;g>0;F=256*F+c[t+y],y+=M,g-=8);for(L=F&(1<<-g)-1,F>>=-g,g+=w;g>0;L=256*L+c[t+y],y+=M,g-=8);if(0===F)F=1-f;else{if(F===p)return L?NaN:1/0*(U?-1:1);L+=Math.pow(2,w),F-=f}return(U?-1:1)*L*Math.pow(2,F-w)},S.write=function(c,t,b,w,E,F){var L,D,p,f=8*F-E-1,g=(1<<f)-1,y=g>>1,M=23===E?Math.pow(2,-24)-Math.pow(2,-77):0,U=w?0:F-1,R=w?1:-1,V=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(D=isNaN(t)?1:0,L=g):(L=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-L))<1&&(L--,p*=2),(t+=L+y>=1?M/p:M*Math.pow(2,1-y))*p>=2&&(L++,p/=2),L+y>=g?(D=0,L=g):L+y>=1?(D=(t*p-1)*Math.pow(2,E),L+=y):(D=t*Math.pow(2,y-1)*Math.pow(2,E),L=0));E>=8;c[b+U]=255&D,U+=R,D/=256,E-=8);for(L=L<<E|D,f+=E;f>0;c[b+U]=255&L,U+=R,L/=256,f-=8);c[b+U-R]|=128*V}},"./node_modules/imsc/src/main/js/doc.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/doc.js ***!
                  \**********************************************/
/*! no static exports found */function(nt,S,c){!function(t,b,w,E,F){function L(Q){if("contents"in Q)for(var X=("styleAttrs"in Q?Q.styleAttrs[E.byName.ruby.qname]:null),$="span"===Q.kind&&("container"===X||"textContainer"===X||"baseContainer"===X),ie=Q.contents.length-1;ie>=0;ie--)!$||"styleAttrs"in Q.contents[ie]&&E.byName.ruby.qname in Q.contents[ie].styleAttrs?L(Q.contents[ie]):delete Q.contents[ie]}function D(Q,X,$,ie){var re=ie&&"seq"===ie.timeContainer,te=0;ie&&(te=re&&$?$.end:ie.begin),X.begin=X.explicit_begin?X.explicit_begin+te:te;var ee=X.begin,fe=null;if("sets"in X)for(var ye=0;ye<X.sets.length;ye++)D(Q,X.sets[ye],fe,X),ee="seq"===X.timeContainer?X.sets[ye].end:Math.max(ee,X.sets[ye].end),fe=X.sets[ye];if("contents"in X){if("contents"in X)for(var ue=0;ue<X.contents.length;ue++)D(Q,X.contents[ue],fe,X),ee="seq"===X.timeContainer?X.contents[ue].end:Math.max(ee,X.contents[ue].end),fe=X.contents[ue]}else ee=re?X.begin:Number.POSITIVE_INFINITY;X.end=null!==X.explicit_end&&null!==X.explicit_dur?Math.min(X.begin+X.explicit_dur,te+X.explicit_end):null===X.explicit_end&&null!==X.explicit_dur?X.begin+X.explicit_dur:null!==X.explicit_end&&null===X.explicit_dur?te+X.explicit_end:ee,delete X.explicit_begin,delete X.explicit_dur,delete X.explicit_end,Q._registerEvent(X)}function p(Q){this.node=Q}function f(){this.events=[],this.head=new g,this.body=null}function g(){this.styling=new y,this.layout=new R}function y(){this.styles={},this.initials={}}function M(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function U(){this.styleAttrs=null}function R(){this.regions={}}function V(Q,X){k.call(this,"image"),this.src=Q,this.type=X}function k(Q){this.kind=Q}function P(Q){this.id=Q}function x(Q){this.regionID=Q}function O(Q){this.styleAttrs=Q}function T(Q){this.sets=Q}function N(Q){this.contents=Q}function C(Q,X,$){this.explicit_begin=Q,this.explicit_end=X,this.explicit_dur=$}function B(){k.call(this,"body")}function Y(){k.call(this,"div")}function J(){k.call(this,"p")}function ce(){k.call(this,"span")}function Fe(){k.call(this,"span")}function q(){k.call(this,"br")}function le(){}function K(){}function _e(Q){return Q&&"xml:id"in Q.attributes&&Q.attributes["xml:id"].value||null}function De(Q){return Q&&"style"in Q.attributes?Q.attributes.style.value.split(" "):[]}function Le(Q,X){var $={};if(null!==Q)for(var ie in Q.attributes){var re=Q.attributes[ie].uri+" "+Q.attributes[ie].local,te=E.byQName[re];if(void 0!==te){var ee=te.parse(Q.attributes[ie].value);null!==ee?($[re]=ee,te===E.byName.zIndex&&Se(X,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):W(X,"Cannot parse styling attribute "+re+" --\x3e "+Q.attributes[ie].value)}}return $}function he(Q,X,$){for(var ie in Q.attributes)if(Q.attributes[ie].uri===X&&Q.attributes[ie].local===$)return Q.attributes[ie].value;return null}function ke(Q,X,$){var Ye,Ge=null;return null!==(Ye=/^(\d+(?:\.\d+)?)f$/.exec($))?null!==X&&(Ge=parseFloat(Ye[1])/X):null!==(Ye=/^(\d+(?:\.\d+)?)t$/.exec($))?null!==Q&&(Ge=parseFloat(Ye[1])/Q):null!==(Ye=/^(\d+(?:\.\d+)?)ms$/.exec($))?Ge=parseFloat(Ye[1])/1e3:null!==(Ye=/^(\d+(?:\.\d+)?)s$/.exec($))?Ge=parseFloat(Ye[1]):null!==(Ye=/^(\d+(?:\.\d+)?)h$/.exec($))?Ge=3600*parseFloat(Ye[1]):null!==(Ye=/^(\d+(?:\.\d+)?)m$/.exec($))?Ge=60*parseFloat(Ye[1]):null!==(Ye=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec($))?Ge=3600*parseInt(Ye[1])+60*parseInt(Ye[2])+parseFloat(Ye[3]):null!==(Ye=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec($))&&null!==X&&(Ge=3600*parseInt(Ye[1])+60*parseInt(Ye[2])+parseInt(Ye[3])+(null===Ye[4]?0:parseInt(Ye[4])/X)),Ge}function Ke(Q,X,$){for(;X.styleRefs.length>0;){var ie=X.styleRefs.pop();ie in Q.styles?(Ke(Q,Q.styles[ie],$),Qe(Q.styles[ie].styleAttrs,X.styleAttrs)):W($,"Non-existant style id referenced")}}function st(Q,X,$,ie){for(var re=X.length-1;re>=0;re--){var te=X[re];te in Q.styles?Qe(Q.styles[te].styleAttrs,$):W(ie,"Non-existant style id referenced")}}function Qe(Q,X){for(var $ in Q)Q.hasOwnProperty($)&&($ in X||(X[$]=Q[$]))}function Se(Q,X){if(Q&&Q.warn&&Q.warn(X))throw X}function W(Q,X){if(Q&&Q.error&&Q.error(X))throw X}function ae(Q,X){throw Q&&Q.fatal&&Q.fatal(X),X}function ve(Q,X){for(var re,$=0,ie=Q.length-1;$<=ie;){var te=Q[re=Math.floor(($+ie)/2)];if(te<X)$=re+1;else{if(!(te>X))return{found:!0,index:re};ie=re-1}}return{found:!1,index:$}}t.fromXML=function(Q,X,$){var ie=b.parser(!0,{xmlns:!0}),re=[],te=[],ee=[],fe=0,ye=null;ie.onclosetag=function(at){if(re[0]instanceof le)null!==ye.head&&null!==ye.head.styling&&st(ye.head.styling,re[0].styleRefs,re[0].styleAttrs,X),delete re[0].styleRefs;else if(re[0]instanceof y)for(var ct in re[0].styles)re[0].styles.hasOwnProperty(ct)&&Ke(re[0],re[0].styles[ct],X);else if(re[0]instanceof J||re[0]instanceof ce){if(re[0].contents.length>1){var _t,rt=[re[0].contents[0]];for(_t=1;_t<re[0].contents.length;_t++)re[0].contents[_t]instanceof Fe&&rt[rt.length-1]instanceof Fe?rt[rt.length-1].text+=re[0].contents[_t].text:rt.push(re[0].contents[_t]);re[0].contents=rt}re[0]instanceof ce&&1===re[0].contents.length&&re[0].contents[0]instanceof Fe&&(re[0].text=re[0].contents[0].text,delete re[0].contents)}else re[0]instanceof p&&(re[0].node.uri===w.ns_tt&&"metadata"===re[0].node.local?fe--:fe>0&&$&&"onCloseTag"in $&&$.onCloseTag());ee.shift(),te.shift(),re.shift()},ie.ontext=function(at){if(void 0!==re[0])if(re[0]instanceof ce||re[0]instanceof J){if(re[0]instanceof ce){var ct=re[0].styleAttrs[E.byName.ruby.qname];if("container"===ct||"textContainer"===ct||"baseContainer"===ct)return}var rt=new Fe;rt.initFromText(ye,re[0],at,te[0],ee[0],X),re[0].contents.push(rt)}else re[0]instanceof p&&fe>0&&$&&"onText"in $&&$.onText(at)},ie.onopentag=function(at){var ct=at.attributes["xml:space"];ee.unshift(ct?ct.value:0===ee.length?"default":ee[0]);var rt=at.attributes["xml:lang"];if(te.unshift(rt?rt.value:0===te.length?"":te[0]),at.uri===w.ns_tt)if("tt"===at.local)null!==ye&&ae(X,"Two <tt> elements at ("+this.line+","+this.column+")"),(ye=new f).initFromNode(at,te[0],X),re.unshift(ye);else if("head"===at.local)re[0]instanceof f||ae(X,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),re.unshift(ye.head);else if("styling"===at.local)re[0]instanceof g||ae(X,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),re.unshift(ye.head.styling);else if("style"===at.local){var _t;re[0]instanceof y?((_t=new M).initFromNode(at,X),_t.id?ye.head.styling.styles[_t.id]=_t:W(X,"<style> element missing @id attribute"),re.unshift(_t)):re[0]instanceof le?((_t=new M).initFromNode(at,X),Qe(_t.styleAttrs,re[0].styleAttrs),re.unshift(_t)):ae(X,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===at.local){var Bt;if(re[0]instanceof y){for(var At in(Bt=new U).initFromNode(at,X),Bt.styleAttrs)Bt.styleAttrs.hasOwnProperty(At)&&(ye.head.styling.initials[At]=Bt.styleAttrs[At]);re.unshift(Bt)}else ae(X,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===at.local)re[0]instanceof g||ae(X,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),re.unshift(ye.head.layout);else if("region"===at.local){re[0]instanceof R||ae(X,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var jt=new le;jt.initFromNode(ye,at,te[0],X),!jt.id||jt.id in ye.head.layout.regions?W(X,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):ye.head.layout.regions[jt.id]=jt,re.unshift(jt)}else if("body"===at.local){re[0]instanceof f||ae(X,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==ye.body&&ae(X,"Second <body> element at "+this.line+","+this.column+")");var Qt=new B;Qt.initFromNode(ye,at,te[0],X),ye.body=Qt,re.unshift(Qt)}else if("div"===at.local){re[0]instanceof Y||re[0]instanceof B||ae(X,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var cn=new Y;cn.initFromNode(ye,re[0],at,te[0],X);var dn=cn.styleAttrs[E.byName.backgroundImage.qname];dn&&(cn.contents.push(new V(dn)),delete cn.styleAttrs[E.byName.backgroundImage.qname]),re[0].contents.push(cn),re.unshift(cn)}else if("image"===at.local){re[0]instanceof Y||ae(X,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var Gt=new V;Gt.initFromNode(ye,re[0],at,te[0],X),re[0].contents.push(Gt),re.unshift(Gt)}else if("p"===at.local){re[0]instanceof Y||ae(X,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var Cn=new J;Cn.initFromNode(ye,re[0],at,te[0],X),re[0].contents.push(Cn),re.unshift(Cn)}else if("span"===at.local){re[0]instanceof ce||re[0]instanceof J||ae(X,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var en=new ce;en.initFromNode(ye,re[0],at,te[0],ee[0],X),re[0].contents.push(en),re.unshift(en)}else if("br"===at.local){re[0]instanceof ce||re[0]instanceof J||ae(X,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var xt=new q;xt.initFromNode(ye,re[0],at,te[0],X),re[0].contents.push(xt),re.unshift(xt)}else if("set"===at.local){re[0]instanceof ce||re[0]instanceof J||re[0]instanceof Y||re[0]instanceof B||re[0]instanceof le||re[0]instanceof q||ae(X,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var ft=new K;ft.initFromNode(ye,re[0],at,X),re[0].sets.push(ft),re.unshift(ft)}else re.unshift(new p(at));else re.unshift(new p(at));if(re[0]instanceof p)if(at.uri===w.ns_tt&&"metadata"===at.local)fe++;else if(fe>0&&$&&"onOpenTag"in $){var Xe=[];for(var xe in at.attributes)Xe[at.attributes[xe].uri+" "+at.attributes[xe].local]={uri:at.attributes[xe].uri,local:at.attributes[xe].local,value:at.attributes[xe].value};$.onOpenTag(at.uri,at.local,Xe)}},ie.write(Q).close(),delete ye.head.styling.styles;var ue=!1;for(var Me in ye.head.layout.regions)if(ye.head.layout.regions.hasOwnProperty(Me)){ue=!0;break}if(!ue){var Ye=le.prototype.createDefaultRegion(ye.lang);ye.head.layout.regions[Ye.id]=Ye}for(var Ge in ye.head.layout.regions)ye.head.layout.regions.hasOwnProperty(Ge)&&D(ye,ye.head.layout.regions[Ge],null,null);return ye.body&&D(ye,ye.body,null,null),ye.body&&L(ye.body),ye},f.prototype.initFromNode=function(Q,X,$){var ie=function Ie(Q,X){var $=he(Q,w.ns_ttp,"cellResolution"),ie=15,re=32;if(null!==$){var ee=/(\d+) (\d+)/.exec($);null!==ee?(re=parseInt(ee[1]),ie=parseInt(ee[2])):Se(X,"Malformed cellResolution value (using initial value instead)")}return{w:re,h:ie}}(Q,$);this.cellLength={h:new F.ComputedLength(0,1/ie.h),w:new F.ComputedLength(1/ie.w,0)};var re=function ge(Q,X){var re,$=he(Q,w.ns_ttp,"frameRate"),ie=30;null!==$&&(null!==(re=/(\d+)/.exec($))?ie=parseInt(re[1]):Se(X,"Malformed frame rate attribute (using initial value instead)"));var ee=he(Q,w.ns_ttp,"frameRateMultiplier"),fe=1;null!==ee&&(null!==(re=/(\d+) (\d+)/.exec(ee))?fe=parseInt(re[1])/parseInt(re[2]):Se(X,"Malformed frame rate multiplier attribute (using initial value instead)"));var ue=fe*ie,Me=1,Ye=he(Q,w.ns_ttp,"tickRate");return null===Ye?null!==$&&(Me=ue):null!==(re=/(\d+)/.exec(Ye))?Me=parseInt(re[1]):Se(X,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:ue,tickRate:Me}}(Q,$);this.effectiveFrameRate=re.effectiveFrameRate,this.tickRate=re.tickRate,this.aspectRatio=function Re(Q,X){var $=he(Q,w.ns_ittp,"aspectRatio");null===$&&($=he(Q,w.ns_ttp,"displayAspectRatio"));var ie=null;if(null!==$){var te=/(\d+)\s+(\d+)/.exec($);if(null!==te){var ee=parseInt(te[1]),fe=parseInt(te[2]);0!==ee&&0!==fe?ie=ee/fe:W(X,"Illegal aspectRatio values (ignoring)")}else W(X,"Malformed aspectRatio attribute (ignoring)")}return ie}(Q,$);var te=he(Q,w.ns_ttp,"timeBase");null!==te&&"media"!==te&&ae($,"Unsupported time base");var ee=function Ue(Q,X){var $=he(Q,w.ns_tts,"extent");if(null===$)return null;var ie=$.split(" ");if(2!==ie.length)return Se(X,"Malformed extent (ignoring)"),null;var re=F.parseLength(ie[0]),te=F.parseLength(ie[1]);return te&&re?{h:te,w:re}:(Se(X,"Malformed extent values (ignoring)"),null)}(Q,$);null===ee?this.pxLength={h:null,w:null}:(("px"!==ee.h.unit||"px"!==ee.w.unit)&&ae($,"Extent on TT must be in px or absent"),this.pxLength={h:new F.ComputedLength(0,1/ee.h.value),w:new F.ComputedLength(1/ee.w.value,0)}),this.dimensions={h:new F.ComputedLength(0,1),w:new F.ComputedLength(1,0)},this.lang=X},f.prototype._registerEvent=function(Q){if(!(Q.end<=Q.begin)){var X=ve(this.events,Q.begin);if(X.found||this.events.splice(X.index,0,Q.begin),Q.end!==Number.POSITIVE_INFINITY){var $=ve(this.events,Q.end);$.found||this.events.splice($.index,0,Q.end)}}},f.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},f.prototype.getMediaTimeEvents=function(){return this.events},M.prototype.initFromNode=function(Q,X){this.id=_e(Q),this.styleAttrs=Le(Q,X),this.styleRefs=De(Q)},U.prototype.initFromNode=function(Q,X){for(var $ in this.styleAttrs={},Q.attributes)Q.attributes[$].uri!==w.ns_itts&&Q.attributes[$].uri!==w.ns_ebutts&&Q.attributes[$].uri!==w.ns_tts||(this.styleAttrs[Q.attributes[$].uri+" "+Q.attributes[$].local]=Q.attributes[$].value)},V.prototype.initFromNode=function(Q,X,$,ie,re){this.src="src"in $.attributes?$.attributes.src.value:null,this.src||W(re,"Invalid image@src attribute"),this.type="type"in $.attributes?$.attributes.type.value:null,this.type||W(re,"Invalid image@type attribute"),O.prototype.initFromNode.call(this,Q,X,$,re),C.prototype.initFromNode.call(this,Q,X,$,re),T.prototype.initFromNode.call(this,Q,X,$,re),x.prototype.initFromNode.call(this,Q,X,$,re),this.lang=ie},P.prototype.initFromNode=function(Q,X,$,ie){this.id=_e($)},x.prototype.initFromNode=function(Q,X,$,ie){this.regionID=function se(Q){return Q&&"region"in Q.attributes?Q.attributes.region.value:""}($)},O.prototype.initFromNode=function(Q,X,$,ie){this.styleAttrs=Le($,ie),null!==Q.head&&null!==Q.head.styling&&st(Q.head.styling,De($),this.styleAttrs,ie)},T.prototype.initFromNode=function(Q,X,$,ie){this.sets=[]},N.prototype.initFromNode=function(Q,X,$,ie){this.contents=[]},C.prototype.initFromNode=function(Q,X,$,ie){var re=function we(Q,X,$,ie){var re=null;$&&"begin"in $.attributes&&null===(re=ke(Q.tickRate,Q.effectiveFrameRate,$.attributes.begin.value))&&Se(ie,"Malformed begin value "+$.attributes.begin.value+" (using 0)");var te=null;$&&"dur"in $.attributes&&null===(te=ke(Q.tickRate,Q.effectiveFrameRate,$.attributes.dur.value))&&Se(ie,"Malformed dur value "+$.attributes.dur.value+" (ignoring)");var ee=null;return $&&"end"in $.attributes&&null===(ee=ke(Q.tickRate,Q.effectiveFrameRate,$.attributes.end.value))&&Se(ie,"Malformed end value (ignoring)"),{explicit_begin:re,explicit_end:ee,explicit_dur:te}}(Q,0,$,ie);this.explicit_begin=re.explicit_begin,this.explicit_end=re.explicit_end,this.explicit_dur=re.explicit_dur,this.timeContainer=function me(Q,X){var $=Q&&"timeContainer"in Q.attributes?Q.attributes.timeContainer.value:null;return $&&"par"!==$?"seq"===$?"seq":(W(X,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}($,ie)},B.prototype.initFromNode=function(Q,X,$,ie){O.prototype.initFromNode.call(this,Q,null,X,ie),C.prototype.initFromNode.call(this,Q,null,X,ie),T.prototype.initFromNode.call(this,Q,null,X,ie),x.prototype.initFromNode.call(this,Q,null,X,ie),N.prototype.initFromNode.call(this,Q,null,X,ie),this.lang=$},Y.prototype.initFromNode=function(Q,X,$,ie,re){O.prototype.initFromNode.call(this,Q,X,$,re),C.prototype.initFromNode.call(this,Q,X,$,re),T.prototype.initFromNode.call(this,Q,X,$,re),x.prototype.initFromNode.call(this,Q,X,$,re),N.prototype.initFromNode.call(this,Q,X,$,re),this.lang=ie},J.prototype.initFromNode=function(Q,X,$,ie,re){O.prototype.initFromNode.call(this,Q,X,$,re),C.prototype.initFromNode.call(this,Q,X,$,re),T.prototype.initFromNode.call(this,Q,X,$,re),x.prototype.initFromNode.call(this,Q,X,$,re),N.prototype.initFromNode.call(this,Q,X,$,re),this.lang=ie},ce.prototype.initFromNode=function(Q,X,$,ie,re,te){O.prototype.initFromNode.call(this,Q,X,$,te),C.prototype.initFromNode.call(this,Q,X,$,te),T.prototype.initFromNode.call(this,Q,X,$,te),x.prototype.initFromNode.call(this,Q,X,$,te),N.prototype.initFromNode.call(this,Q,X,$,te),this.space=re,this.lang=ie},Fe.prototype.initFromText=function(Q,X,$,ie,re,te){C.prototype.initFromNode.call(this,Q,X,null,te),this.text=$,this.space=re,this.lang=ie},q.prototype.initFromNode=function(Q,X,$,ie,re){x.prototype.initFromNode.call(this,Q,X,$,re),C.prototype.initFromNode.call(this,Q,X,$,re),this.lang=ie},le.prototype.createDefaultRegion=function(Q){var X=new le;return P.call(X,""),O.call(X,{}),T.call(X,[]),C.call(X,0,Number.POSITIVE_INFINITY,null),this.lang=Q,X},le.prototype.initFromNode=function(Q,X,$,ie){P.prototype.initFromNode.call(this,Q,null,X,ie),C.prototype.initFromNode.call(this,Q,null,X,ie),T.prototype.initFromNode.call(this,Q,null,X,ie),this.styleAttrs=Le(X,ie),this.styleRefs=De(X),this.lang=$},K.prototype.initFromNode=function(Q,X,$,ie){C.prototype.initFromNode.call(this,Q,X,$,ie);var re=Le($,ie);for(var te in this.qname=null,this.value=null,re)if(re.hasOwnProperty(te)){if(this.qname){W(ie,"More than one style specified on set");break}this.qname=te,this.value=re[te]}}}(S,typeof sax>"u"?c(
/*! sax */
"./node_modules/sax/lib/sax.js"):sax,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/html.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/html.js ***!
                  \***********************************************/
/*! no static exports found */function(nt,S,c){!function(t,b,w){function E(q,le,K,_e){var se;if("region"===K.kind)(se=document.createElement("div")).style.position="absolute";else if("body"===K.kind)se=document.createElement("div");else if("div"===K.kind)se=document.createElement("div");else if("image"===K.kind){if(se=document.createElement("img"),null!==q.imgResolver&&null!==K.src){var me=q.imgResolver(K.src,se);me&&(se.src=me),se.height=q.regionH,se.width=q.regionW}}else if("p"===K.kind)se=document.createElement("p");else if("span"===K.kind)if("container"===K.styleAttrs[w.byName.ruby.qname])se=document.createElement("ruby"),q.ruby=!0;else if("base"===K.styleAttrs[w.byName.ruby.qname])se=document.createElement("rb");else if("text"===K.styleAttrs[w.byName.ruby.qname])se=document.createElement("rt");else if("baseContainer"===K.styleAttrs[w.byName.ruby.qname])se=document.createElement("rbc");else if("textContainer"===K.styleAttrs[w.byName.ruby.qname])se=document.createElement("rtc");else{if("delimiter"===K.styleAttrs[w.byName.ruby.qname])return;se=document.createElement("span")}else"br"===K.kind&&(se=document.createElement("br"));if(se){if(K.lang&&("region"===K.kind||K.lang!==_e.lang)&&(se.lang=K.lang),le.appendChild(se),se.style.margin="0","region"===K.kind){var De=K.styleAttrs[w.byName.writingMode.qname];"lrtb"===De||"lr"===De?(q.ipd="lr",q.bpd="tb"):"rltb"===De||"rl"===De?(q.ipd="rl",q.bpd="tb"):"tblr"===De?(q.ipd="tb",q.bpd="lr"):("tbrl"===De||"tb"===De)&&(q.ipd="tb",q.bpd="rl")}else"p"===K.kind&&"tb"===q.bpd&&(q.ipd="ltr"===K.styleAttrs[w.byName.direction.qname]?"lr":"rl");for(var he=0;he<T.length;he++){var Re=T[he],Ie=K.styleAttrs[Re.qname];void 0!==Ie&&null!==Re.map&&Re.map(q,se,K,Ie)}var ge=se,Ue=K.styleAttrs[w.byName.linePadding.qname];if(Ue&&!Ue.isZero()){var ke=Ue.toUsedLength(q.w,q.h);if(ke>0){var we=Math.ceil(ke)+"px";"tb"===q.bpd?(ge.style.paddingLeft=we,ge.style.paddingRight=we):(ge.style.paddingTop=we,ge.style.paddingBottom=we),q.lp=Ue}}var Ke=K.styleAttrs[w.byName.multiRowAlign.qname];if(Ke&&"auto"!==Ke){var st=document.createElement("span");st.style.display="inline-block",st.style.textAlign=Ke,se.appendChild(st),ge=st,q.mra=Ke}var Qe=K.styleAttrs[w.byName.rubyReserve.qname];if(Qe&&"none"!==Qe[0]&&(q.rubyReserve=Qe),K.styleAttrs[w.byName.fillLineGap.qname]&&(q.flg=!0),"span"===K.kind&&K.text){var Ne=K.styleAttrs[w.byName.textEmphasis.qname];if(Ne&&"none"!==Ne.style&&(q.textEmphasis=!0),w.byName.textCombine.qname in K.styleAttrs&&"all"===K.styleAttrs[w.byName.textCombine.qname])se.textContent=K.text,Ne&&x(q,se,0,Ne);else for(var Se="",W=0;W<K.text.length;W++){Se+=K.text.charAt(W);var ae=K.text.charCodeAt(W);if(ae<55296||ae>56319||W===K.text.length-1){var ve=document.createElement("span");ve.textContent=Se,Ne&&x(q,ve,0,Ne),se.appendChild(ve),Se="",ve._isd_element=K}}}if("contents"in K)for(var Q=0;Q<K.contents.length;Q++)E(q,ge,K.contents[Q],K);var X=[];if("p"===K.kind&&(k(q,ge,X,null),q.rubyReserve&&(function M(q,le){for(var K=0;K<q.length;K++){var _e=document.createElement("ruby"),se=document.createElement("rb");se.textContent="\u200b",_e.appendChild(se);var me,De,Le=le.rubyReserve[1].toUsedLength(le.w,le.h)+"px";"both"===le.rubyReserve[0]||"outside"===le.rubyReserve[0]&&1==q.length?((me=document.createElement("rtc")).style[Y]=B?"after":"under",me.textContent="\u200b",me.style.fontSize=Le,(De=document.createElement("rtc")).style[Y]=B?"before":"over",De.textContent="\u200b",De.style.fontSize=Le,_e.appendChild(me),_e.appendChild(De)):((me=document.createElement("rtc")).textContent="\u200b",me.style.fontSize=Le,me.style[Y]="after"===le.rubyReserve[0]||"outside"===le.rubyReserve[0]&&K>0?B?"after":"tb"===le.bpd||"rl"===le.bpd?"under":"over":B?"before":"tb"===le.bpd||"rl"===le.bpd?"over":"under",_e.appendChild(me));for(var Re=null,Ie=0;Ie<q[K].rbc.length;Ie++)if("ruby"===q[K].rbc[Ie].localName){Re=q[K].rbc[Ie];for(var ge=0;ge<Re.style.length;ge++)_e.style.setProperty(Re.style.item(ge),Re.style.getPropertyValue(Re.style.item(ge)));break}(Re=Re||q[K].elements[0].node).parentElement.insertBefore(_e,Re)}}(X,q),q.rubyReserve=null),(q.ruby||q.rubyReserve)&&(function y(q,le){for(var K=0;K<q.length;K++)for(var _e=0;_e<q[K].rbc.length;_e++)q[K].rbc[_e].style[Y]||(q[K].rbc[_e].style[Y]=B?0===K?"before":"after":"tb"===le.bpd||"rl"===le.bpd?0===K?"over":"under":0===K?"under":"over")}(X,q),q.ruby=null),q.textEmphasis&&(function g(q,le){for(var K=0;K<q.length;K++)for(var _e=0;_e<q[K].te.length;_e++)q[K].te[_e].style[ce]&&"none"!==q[K].te[_e].style[ce]||(q[K].te[_e].style[ce]="tb"===le.bpd?0===K?"left over":"left under":"rl"===le.bpd?0===K?"right under":"left under":0===K?"left under":"right under")}(X,q),q.textEmphasis=null),q.mra&&(function f(q){for(var le=0;le<q.length-1;le++){var K=q[le].elements.length;if(0!==K&&!1===q[le].br){var _e=document.createElement("br"),se=q[le].elements[K-1].node;se.parentElement.insertBefore(_e,se.nextSibling)}}}(X),q.mra=null),q.lp&&(function p(q,le,K){if(null!==q)for(var _e=0;_e<q.length;_e++){var se=q[_e].elements.length,me=Math.ceil(le)+"px",De="-"+Math.ceil(le)+"px";if(0!==se){var Le=q[_e].elements[q[_e].start_elem],he=q[_e].elements[q[_e].end_elem];if(Le===he&&(elementBoundingRect=Le.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===K.ipd?(Le.node.style.marginLeft=De,Le.node.style.paddingLeft=me):"rl"===K.ipd?(Le.node.style.paddingRight=me,Le.node.style.marginRight=De):"tb"===K.ipd&&(Le.node.style.paddingTop=me,Le.node.style.marginTop=De),"lr"===K.ipd?(he.node.style.marginRight=De,he.node.style.paddingRight=me):"rl"===K.ipd?(he.node.style.paddingLeft=me,he.node.style.marginLeft=De):"tb"===K.ipd&&(he.node.style.paddingBottom=me,he.node.style.marginBottom=De)}}}(X,q.lp.toUsedLength(q.w,q.h),q),q.lp=null),function F(q){for(var le=0;le<q.length;le++)for(var K=q[le],_e=1;_e<K.elements.length;)D(K.elements[_e-1].node,K.elements[_e].node)?K.elements.splice(_e,1):_e++;for(var De,Le,he=[],Re=0;Re<q.length;Re++)for(var Ie=0;Ie<q[Re].elements.length;Ie++)(Le=L(De=q[Re].elements[Ie].node,he,!1))&&(De.style.backgroundColor=Le);for(var ge=0;ge<he.length;ge++)he[ge].style.backgroundColor=""}(X),q.flg)){var $=V(ge.getBoundingClientRect(),q);(function U(q,le,K,_e,se){for(var me=Math.sign(K-le),De=0;De<=q.length;De++){var Le,he,Re,Ie;if(Le=0===De?Math.round(le):De===q.length?Math.round(K):Math.round((q[De-1].after+q[De].before)/2),De>0&&q[De-1])for(Re=0;Re<q[De-1].elements.length;Re++)he=me*(Le-(Ie=q[De-1].elements[Re]).after)+"px","lr"===_e.bpd?Ie.node.style.paddingRight=he:"rl"===_e.bpd?Ie.node.style.paddingLeft=he:"tb"===_e.bpd&&(Ie.node.style.paddingBottom=he);if(De<q.length)for(Re=0;Re<q[De].elements.length;Re++)he=me*((Ie=q[De].elements[Re]).before-Le)+"px","lr"===_e.bpd?Ie.node.style.paddingLeft=he:"rl"===_e.bpd?Ie.node.style.paddingRight=he:"tb"===_e.bpd&&(Ie.node.style.paddingTop=he)}})(X,$.before,$.after,q),q.flg=null}if("region"===K.kind&&"tb"===q.bpd&&q.enableRollUp&&K.contents.length>0&&"after"===K.styleAttrs[w.byName.displayAlign.qname]){k(q,ge,X,null);var re=new R(""===K.id?"_":K.id,X);if(q.currentISDState[re.id]=re,q.previousISDState&&re.id in q.previousISDState&&q.previousISDState[re.id].plist.length>0&&re.plist.length>1&&re.plist[re.plist.length-2].text===q.previousISDState[re.id].plist[q.previousISDState[re.id].plist.length-1].text){var te=se.firstElementChild,ee=re.plist[re.plist.length-1].after-re.plist[re.plist.length-1].before;te.style.bottom="-"+ee+"px",te.style.transition="transform 0.4s",te.style.position="relative",te.style.transform="translateY(-"+ee+"px)"}}}else!function Fe(q,le){if(q&&q.error&&q.error(le))throw le}(q.errorHandler,"Error processing ISD element kind: "+K.kind)}function L(q,le,K){return q.style.backgroundColor?(K&&!le.includes(q)&&le.push(q),q.style.backgroundColor):"SPAN"===q.parentElement.nodeName?L(q.parentElement,le,!0):void 0}function D(q,le){if("SPAN"===q.tagName&&"SPAN"===le.tagName&&q._isd_element===le._isd_element){q.textContent+=le.textContent;for(var K=0;K<le.style.length;K++){var _e=le.style[K];(_e.indexOf("border")>=0||_e.indexOf("padding")>=0||_e.indexOf("margin")>=0)&&(q.style[_e]=le.style[_e])}return le.parentElement.removeChild(le),!0}return!1}function R(q,le){this.id=q,this.plist=le}function V(q,le){var K={before:null,after:null,start:null,end:null};return"tb"===le.bpd?(K.before=q.top,K.after=q.bottom,"lr"===le.ipd?(K.start=q.left,K.end=q.right):(K.start=q.right,K.end=q.left)):"lr"===le.bpd?(K.before=q.left,K.after=q.right,K.start=q.top,K.end=q.bottom):"rl"===le.bpd&&(K.before=q.right,K.after=q.left,K.start=q.top,K.end=q.bottom),K}function k(q,le,K,_e){if("rt"!==le.localName&&"rtc"!==le.localName){var se=le.style.backgroundColor||_e;if(0===le.childElementCount)if("span"===le.localName||"rb"===le.localName){var De=V(le.getBoundingClientRect(),q);if(0!==K.length&&function P(q,le,K,_e){return le<_e&&q>K||_e<=le&&K>=q}(De.before,De.after,K[K.length-1].before,K[K.length-1].after)){var Le=Math.sign(De.after-De.before),he=Math.sign(De.end-De.start);Le*(De.before-K[K.length-1].before)<0&&(K[K.length-1].before=De.before),Le*(De.after-K[K.length-1].after)>0&&(K[K.length-1].after=De.after),he*(De.start-K[K.length-1].start)<0&&(K[K.length-1].start=De.start,K[K.length-1].start_elem=K[K.length-1].elements.length),he*(De.end-K[K.length-1].end)>0&&(K[K.length-1].end=De.end,K[K.length-1].end_elem=K[K.length-1].elements.length)}else K.push({before:De.before,after:De.after,start:De.start,end:De.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});K[K.length-1].text+=le.textContent,K[K.length-1].elements.push({node:le,bgcolor:se,before:De.before,after:De.after})}else"br"===le.localName&&0!==K.length&&(K[K.length-1].br=!0);else for(var Re=le.firstChild;Re;)Re.nodeType===Node.ELEMENT_NODE&&(k(q,Re,K,se),"ruby"===Re.localName||"rtc"===Re.localName?K.length>0&&K[K.length-1].rbc.push(Re):"span"===Re.localName&&Re.style[J]&&"none"!==Re.style[J]&&K.length>0&&K[K.length-1].te.push(Re)),Re=Re.nextSibling}}function x(q,le,K,_e){"none"!==_e.style&&(le.style[J]="auto"===_e.style?"filled":_e.style+" "+_e.symbol,"before"===_e.position||"after"===_e.position)&&(le.style[ce]="tb"===q.bpd?"before"===_e.position?"left over":"left under":"rl"===q.bpd?"before"===_e.position?"right under":"left under":"before"===_e.position?"left under":"right under")}function O(q,le){this.qname=q,this.map=le}t.render=function(q,le,K,_e,se,me,De,Le,he){var Re=_e||le.clientHeight,Ie=se||le.clientWidth;if(null!==q.aspectRatio){var ge=Re*q.aspectRatio;ge>Ie?Re=Math.round(Ie/q.aspectRatio):Ie=ge}var Ue=document.createElement("div");Ue.style.position="relative",Ue.style.width=Ie+"px",Ue.style.height=Re+"px",Ue.style.margin="auto",Ue.style.top=0,Ue.style.bottom=0,Ue.style.left=0,Ue.style.right=0,Ue.style.zIndex=0;var ke={h:Re,w:Ie,regionH:null,regionW:null,imgResolver:K,displayForcedOnlyMode:me||!1,isd:q,errorHandler:De,previousISDState:Le,enableRollUp:he||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(le.appendChild(Ue),"contents"in q)for(var we=0;we<q.contents.length;we++)E(ke,Ue,q.contents[we],q);return ke.currentISDState};for(var T=[new O("http://www.w3.org/ns/ttml#styling backgroundColor",function(q,le,K,_e){0!==_e[3]&&(le.style.backgroundColor="rgba("+_e[0].toString()+","+_e[1].toString()+","+_e[2].toString()+","+(_e[3]/255).toString()+")")}),new O("http://www.w3.org/ns/ttml#styling color",function(q,le,K,_e){le.style.color="rgba("+_e[0].toString()+","+_e[1].toString()+","+_e[2].toString()+","+(_e[3]/255).toString()+")"}),new O("http://www.w3.org/ns/ttml#styling direction",function(q,le,K,_e){le.style.direction=_e}),new O("http://www.w3.org/ns/ttml#styling display",function(q,le,K,_e){}),new O("http://www.w3.org/ns/ttml#styling displayAlign",function(q,le,K,_e){le.style.display="flex",le.style.flexDirection="column","before"===_e?le.style.justifyContent="flex-start":"center"===_e?le.style.justifyContent="center":"after"===_e&&(le.style.justifyContent="flex-end")}),new O("http://www.w3.org/ns/ttml#styling extent",function(q,le,K,_e){q.regionH=_e.h.toUsedLength(q.w,q.h),q.regionW=_e.w.toUsedLength(q.w,q.h);var se=0,me=0,De=K.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];De&&(se=De[0].toUsedLength(q.w,q.h)+De[2].toUsedLength(q.w,q.h),me=De[1].toUsedLength(q.w,q.h)+De[3].toUsedLength(q.w,q.h)),le.style.height=q.regionH-se+"px",le.style.width=q.regionW-me+"px"}),new O("http://www.w3.org/ns/ttml#styling fontFamily",function(q,le,K,_e){for(var se=[],me=0;me<_e.length;me++)"monospaceSerif"===_e[me]?(se.push("Courier New"),se.push('"Liberation Mono"'),se.push("Courier"),se.push("monospace")):"proportionalSansSerif"===_e[me]?(se.push("Arial"),se.push("Helvetica"),se.push('"Liberation Sans"'),se.push("sans-serif")):"monospace"===_e[me]?se.push("monospace"):"sansSerif"===_e[me]?se.push("sans-serif"):"serif"===_e[me]?se.push("serif"):"monospaceSansSerif"===_e[me]?(se.push("Consolas"),se.push("monospace")):se.push("proportionalSerif"===_e[me]?"serif":_e[me]);if(se.length>0){for(var De=[se[0]],Le=1;Le<se.length;Le++)-1==De.indexOf(se[Le])&&De.push(se[Le]);se=De}le.style.fontFamily=se.join(",")}),new O("http://www.w3.org/ns/ttml#styling shear",function(q,le,K,_e){if(0!==_e){var se=-.9*_e;le.style.transform="tb"===q.bpd?"skewX("+se+"deg)":"skewY("+se+"deg)"}}),new O("http://www.w3.org/ns/ttml#styling fontSize",function(q,le,K,_e){le.style.fontSize=_e.toUsedLength(q.w,q.h)+"px"}),new O("http://www.w3.org/ns/ttml#styling fontStyle",function(q,le,K,_e){le.style.fontStyle=_e}),new O("http://www.w3.org/ns/ttml#styling fontWeight",function(q,le,K,_e){le.style.fontWeight=_e}),new O("http://www.w3.org/ns/ttml#styling lineHeight",function(q,le,K,_e){le.style.lineHeight="normal"===_e?"normal":_e.toUsedLength(q.w,q.h)+"px"}),new O("http://www.w3.org/ns/ttml#styling opacity",function(q,le,K,_e){le.style.opacity=_e}),new O("http://www.w3.org/ns/ttml#styling origin",function(q,le,K,_e){le.style.top=_e.h.toUsedLength(q.w,q.h)+"px",le.style.left=_e.w.toUsedLength(q.w,q.h)+"px"}),new O("http://www.w3.org/ns/ttml#styling overflow",function(q,le,K,_e){le.style.overflow=_e}),new O("http://www.w3.org/ns/ttml#styling padding",function(q,le,K,_e){var se=[];se[0]=_e[0].toUsedLength(q.w,q.h)+"px",se[1]=_e[3].toUsedLength(q.w,q.h)+"px",se[2]=_e[2].toUsedLength(q.w,q.h)+"px",se[3]=_e[1].toUsedLength(q.w,q.h)+"px",le.style.padding=se.join(" ")}),new O("http://www.w3.org/ns/ttml#styling position",function(q,le,K,_e){le.style.top=_e.h.toUsedLength(q.w,q.h)+"px",le.style.left=_e.w.toUsedLength(q.w,q.h)+"px"}),new O("http://www.w3.org/ns/ttml#styling rubyAlign",function(q,le,K,_e){le.style.rubyAlign="spaceAround"===_e?"space-around":"center"}),new O("http://www.w3.org/ns/ttml#styling rubyPosition",function(q,le,K,_e){"before"!==_e&&"after"!==_e||(le.parentElement.style[Y]=B?_e:"tb"===q.bpd||"rl"===q.bpd?"before"===_e?"over":"under":"before"===_e?"under":"over")}),new O("http://www.w3.org/ns/ttml#styling showBackground",null),new O("http://www.w3.org/ns/ttml#styling textAlign",function(q,le,K,_e){le.style.textAlign="start"===_e?"rl"===q.ipd?"right":"left":"end"===_e?"rl"===q.ipd?"left":"right":_e}),new O("http://www.w3.org/ns/ttml#styling textDecoration",function(q,le,K,_e){le.style.textDecoration=_e.join(" ").replace("lineThrough","line-through")}),new O("http://www.w3.org/ns/ttml#styling textOutline",function(q,le,K,_e){}),new O("http://www.w3.org/ns/ttml#styling textShadow",function(q,le,K,_e){var se=K.styleAttrs[w.byName.textOutline.qname];if("none"===_e&&"none"===se)le.style.textShadow="";else{var me=[];if("none"!==se){var De="rgba("+se.color[0].toString()+","+se.color[1].toString()+","+se.color[2].toString()+","+(se.color[3]/255).toString()+")";me.push("1px 1px 1px "+De),me.push("-1px 1px 1px "+De),me.push("1px -1px 1px "+De),me.push("-1px -1px 1px "+De)}if("none"!==_e)for(var Le=0;Le<_e.length;Le++)me.push(_e[Le].x_off.toUsedLength(q.w,q.h)+"px "+_e[Le].y_off.toUsedLength(q.w,q.h)+"px "+_e[Le].b_radius.toUsedLength(q.w,q.h)+"px rgba("+_e[Le].color[0].toString()+","+_e[Le].color[1].toString()+","+_e[Le].color[2].toString()+","+(_e[Le].color[3]/255).toString()+")");le.style.textShadow=me.join(",")}}),new O("http://www.w3.org/ns/ttml#styling textCombine",function(q,le,K,_e){le.style.textCombineUpright=_e}),new O("http://www.w3.org/ns/ttml#styling textEmphasis",function(q,le,K,_e){}),new O("http://www.w3.org/ns/ttml#styling unicodeBidi",function(q,le,K,_e){le.style.unicodeBidi="bidiOverride"===_e?"bidi-override":_e}),new O("http://www.w3.org/ns/ttml#styling visibility",function(q,le,K,_e){le.style.visibility=_e}),new O("http://www.w3.org/ns/ttml#styling wrapOption",function(q,le,K,_e){le.style.whiteSpace="wrap"===_e?"preserve"===K.space?"pre-wrap":"normal":"preserve"===K.space?"pre":"noWrap"}),new O("http://www.w3.org/ns/ttml#styling writingMode",function(q,le,K,_e){"lrtb"===_e||"lr"===_e||"rltb"===_e||"rl"===_e?le.style.writingMode="horizontal-tb":"tblr"===_e?le.style.writingMode="vertical-lr":("tbrl"===_e||"tb"===_e)&&(le.style.writingMode="vertical-rl")}),new O("http://www.w3.org/ns/ttml#styling zIndex",function(q,le,K,_e){le.style.zIndex=_e}),new O("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(q,le,K,_e){q.displayForcedOnlyMode&&!1===_e&&(le.style.visibility="hidden")})],N={},C=0;C<T.length;C++)N[T[C].qname]=T[C];var B="webkitRubyPosition"in window.getComputedStyle(document.documentElement),Y=B?"webkitRubyPosition":"rubyPosition",J="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",ce="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(S,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/isd.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/isd.js ***!
                  \**********************************************/
/*! no static exports found */function(nt,S,c){!function(t,b,w,E){t.generateISD=function(k,P,x){var N,O=new g(k),T={},C={},B=k.head.styling.initials[w.byName.showBackground.qname],Y=k.head.styling.initials[w.byName.backgroundColor.qname];for(var J in k.head.layout.regions)if(k.head.layout.regions.hasOwnProperty(J)){var ce=k.head.layout.regions[J],Fe=ce.styleAttrs[w.byName.showBackground.qname]||B;C[ce.id]=("always"===Fe||void 0===Fe)&&void 0!==(ce.styleAttrs[w.byName.backgroundColor.qname]||Y)&&!(P<ce.begin||P>=ce.end)}for(var K in k.body&&k.body.regionID&&(C[k.body.regionID]=!0),N=null!==k.body?function le(se,me){if(me.contents){var Le={};for(var he in me)me.hasOwnProperty(he)&&(Le[he]=me[he]);return Le.contents=[],me.contents.filter(function De(Re){return!(se<Re.begin||se>=Re.end)}).forEach(function(Re){var Ie=le(se,Re);Ie.regionID&&(C[Ie.regionID]=!0),null!==Ie&&Le.contents.push(Ie)}),Le}return me}(P,k.body):null,void 0!==C[""]&&(C[""]=!0),C)if(C[K]){var _e=L(k,P,k.head.layout.regions[K],N,null,"",k.head.layout.regions[K],x,T);null!==_e&&O.contents.push(_e.element)}return O};var F=[w.byName.color.qname,w.byName.textCombine.qname,w.byName.textDecoration.qname,w.byName.textEmphasis.qname,w.byName.textOutline.qname,w.byName.textShadow.qname];function L(k,P,x,O,T,N,C,B,Y){if(P<C.begin||P>=C.end)return null;var J="regionID"in C&&""!==C.regionID?C.regionID:N;if(null!==T&&J!==x.id&&(!("contents"in C)||"contents"in C&&0===C.contents.length||""!==J))return null;var ce=new y(C);if("sets"in C)for(var Fe=0;Fe<C.sets.length;Fe++)P<C.sets[Fe].begin||P>=C.sets[Fe].end||(ce.styleAttrs[C.sets[Fe].qname]=C.sets[Fe].value);var q={};for(var le in ce.styleAttrs)if(ce.styleAttrs.hasOwnProperty(le)&&(q[le]=!0,"region"===ce.kind&&le===w.byName.writingMode.qname&&!(w.byName.direction.qname in ce.styleAttrs))){var K=ce.styleAttrs[le];"lrtb"===K||"lr"===K?ce.styleAttrs[w.byName.direction.qname]="ltr":("rltb"===K||"rl"===K)&&(ce.styleAttrs[w.byName.direction.qname]="rtl")}if(null!==T)for(var _e=0;_e<w.all.length;_e++){var se=w.all[_e];if(se.qname===w.byName.textDecoration.qname){var me=T.styleAttrs[se.qname],De=ce.styleAttrs[se.qname],Le=[];void 0===De?Le=me:-1===De.indexOf("none")?((-1===De.indexOf("noUnderline")&&-1!==me.indexOf("underline")||-1!==De.indexOf("underline"))&&Le.push("underline"),(-1===De.indexOf("noLineThrough")&&-1!==me.indexOf("lineThrough")||-1!==De.indexOf("lineThrough"))&&Le.push("lineThrough"),(-1===De.indexOf("noOverline")&&-1!==me.indexOf("overline")||-1!==De.indexOf("overline"))&&Le.push("overline")):Le.push("none"),ce.styleAttrs[se.qname]=Le}else if(se.qname!==w.byName.fontSize.qname||se.qname in ce.styleAttrs||"span"!==ce.kind||"textContainer"!==ce.styleAttrs[w.byName.ruby.qname])if(se.qname!==w.byName.fontSize.qname||se.qname in ce.styleAttrs||"span"!==ce.kind||"text"!==ce.styleAttrs[w.byName.ruby.qname])se.inherit&&se.qname in T.styleAttrs&&!(se.qname in ce.styleAttrs)&&(ce.styleAttrs[se.qname]=T.styleAttrs[se.qname]);else{var Re=T.styleAttrs[w.byName.fontSize.qname];ce.styleAttrs[se.qname]="textContainer"===T.styleAttrs[w.byName.ruby.qname]?Re:new E.ComputedLength(.5*Re.rw,.5*Re.rh)}else{var he=T.styleAttrs[w.byName.fontSize.qname];ce.styleAttrs[se.qname]=new E.ComputedLength(.5*he.rw,.5*he.rh)}}for(var Ie=0;Ie<w.all.length;Ie++){var ge=w.all[Ie];if(!(ge.qname in ce.styleAttrs||ge.qname===w.byName.position.qname&&w.byName.origin.qname in ce.styleAttrs||ge.qname===w.byName.origin.qname&&w.byName.position.qname in ce.styleAttrs)){var Ue=k.head.styling.initials[ge.qname]||ge.initial;if(null!==Ue&&("region"===ce.kind||!1===ge.inherit&&null!==Ue)){var ke=ge.parse(Ue);null!==ke?(ce.styleAttrs[ge.qname]=ke,q[ge.qname]=!0):R(B,"Invalid initial value for '"+ge.qname+"' on element '"+ce.kind)}}}for(var we=0;we<w.all.length;we++){var Ke=w.all[we];if(Ke.qname in q&&null!==Ke.compute){var st=Ke.compute(k,T,ce,ce.styleAttrs[Ke.qname],Y);null!==st?ce.styleAttrs[Ke.qname]=st:(ce.styleAttrs[Ke.qname]=Ke.compute(k,T,ce,Ke.parse(Ke.initial),Y),R(B,"Style '"+Ke.qname+"' on element '"+ce.kind+"' cannot be computed"))}}if("none"===ce.styleAttrs[w.byName.display.qname])return null;var Qe=null;null===T?Qe=null===O?[]:[O]:"contents"in C&&(Qe=C.contents);for(var Ne=0;null!==Qe&&Ne<Qe.length;Ne++){var Se=L(k,P,x,O,ce,J,Qe[Ne],B,Y);null!==Se&&ce.contents.push(Se.element)}for(var W in ce.styleAttrs)if(ce.styleAttrs.hasOwnProperty(W)){var ae=!1;if("span"===ce.kind){var ve=ce.styleAttrs[w.byName.ruby.qname];(ae=("container"===ve||"textContainer"===ve||"baseContainer"===ve)&&-1!==F.indexOf(W))||(ae="container"!==ve&&W===w.byName.rubyAlign.qname),ae||(ae=!("textContainer"===ve||"text"===ve)&&W===w.byName.rubyPosition.qname)}if(!ae){var Q=w.byQName[W];"applies"in Q&&(ae=-1===Q.applies.indexOf(ce.kind))}ae&&delete ce.styleAttrs[W]}var X=ce.styleAttrs[w.byName.ruby.qname];if("p"===ce.kind||"span"===ce.kind&&("textContainer"===X||"text"===X)){var $=[];p(ce,$),function D(k){function P(C){return"br"===C.kind||/[\r\n\t ]$/.test(C.text)}function x(C){return"br"===C.kind||"preserve"===C.space&&/^[\r\n]/.test(C.text)}for(var O,T=0;T<k.length;)if("br"!==(O=k[T]).kind&&"preserve"!==O.space){var N=O.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(N)&&(0===T||P(k[T-1]))&&(N=N.substring(1)),O.text=N,0===N.length?k.splice(T,1):T++}else T++;for(T=0;T<k.length;T++)"br"!==(O=k[T]).kind&&"preserve"!==O.space?/[ ]$/.test(O.text)&&(T===k.length-1||x(k[T+1]))&&(O.text=O.text.slice(0,-1)):T++}($),f(ce)}return"div"===ce.kind&&w.byName.backgroundImage.qname in ce.styleAttrs||"br"===ce.kind||"image"===ce.kind||"contents"in ce&&ce.contents.length>0||"span"===ce.kind&&null!==ce.text||"region"===ce.kind&&"always"===ce.styleAttrs[w.byName.showBackground.qname]?{region_id:J,element:ce}:null}function p(k,P){if("contents"in k)for(var x=0;x<k.contents.length;x++){var O=k.contents[x],T=O.styleAttrs[w.byName.ruby.qname];"span"===O.kind&&("textContainer"===T||"text"===T)||("contents"in O?p(O,P):("span"===O.kind&&0!==O.text.length||"br"===O.kind)&&P.push(O))}}function f(k){if("br"===k.kind)return!1;if("text"in k)return 0===k.text.length;if("contents"in k){for(var P=k.contents.length;P--;)f(k.contents[P])&&k.contents.splice(P,1);return 0===k.contents.length}}function g(k){this.contents=[],this.aspectRatio=k.aspectRatio,this.lang=k.lang}function y(k){for(var P in this.kind=k.kind||"region",this.lang=k.lang,k.id&&(this.id=k.id),this.styleAttrs={},k.styleAttrs)k.styleAttrs.hasOwnProperty(P)&&(this.styleAttrs[P]=k.styleAttrs[P]);"src"in k&&(this.src=k.src),"type"in k&&(this.type=k.type),"text"in k?this.text=k.text:("region"===this.kind||"contents"in k)&&(this.contents=[]),"space"in k&&(this.space=k.space)}function R(k,P){if(k&&k.error&&k.error(P))throw P}}(S,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/main.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/main.js ***!
                  \***********************************************/
/*! no static exports found */function(nt,S,c){S.generateISD=c(
/*! ./isd */
"./node_modules/imsc/src/main/js/isd.js").generateISD,S.fromXML=c(
/*! ./doc */
"./node_modules/imsc/src/main/js/doc.js").fromXML,S.renderHTML=c(
/*! ./html */
"./node_modules/imsc/src/main/js/html.js").render},"./node_modules/imsc/src/main/js/names.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/names.js ***!
                  \************************************************/
/*! no static exports found */function(nt,S,c){var t;(t=S).ns_tt="http://www.w3.org/ns/ttml",t.ns_tts="http://www.w3.org/ns/ttml#styling",t.ns_ttp="http://www.w3.org/ns/ttml#parameter",t.ns_xml="http://www.w3.org/XML/1998/namespace",t.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",t.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",t.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",t.ns_ebutts="urn:ebu:tt:style"},"./node_modules/imsc/src/main/js/styles.js":
/*!*************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/styles.js ***!
                  \*************************************************/
/*! no static exports found */function(nt,S,c){!function(t,b,w){function E(D,p,f,g,y,M,U,R){this.name=p,this.ns=D,this.qname=D+" "+p,this.inherit=y,this.animatable=M,this.initial=f,this.applies=g,this.parse=U,this.compute=R}for(var F in t.all=[new E(b.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,w.parseColor,null),new E(b.ns_tts,"color","white",["span"],!0,!0,w.parseColor,null),new E(b.ns_tts,"direction","ltr",["p","span"],!0,!0,function(D){return D},null),new E(b.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(D){return D},null),new E(b.ns_tts,"displayAlign","before",["region"],!1,!0,function(D){return D},null),new E(b.ns_tts,"extent","auto",["tt","region"],!1,!0,function(D){if("auto"===D)return D;var p=D.split(" ");if(2!==p.length)return null;var f=w.parseLength(p[0]),g=w.parseLength(p[1]);return g&&f?{h:g,w:f}:null},function(D,p,f,g,y){var M,U;if("auto"===g)M=new w.ComputedLength(0,1);else if(null===(M=w.toComputedLength(g.h.value,g.h.unit,null,D.dimensions.h,null,D.pxLength.h)))return null;if("auto"===g)U=new w.ComputedLength(1,0);else if(null===(U=w.toComputedLength(g.w.value,g.w.unit,null,D.dimensions.w,null,D.pxLength.w)))return null;return{h:M,w:U}}),new E(b.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(D){for(var p=D.split(","),f=[],g=0;g<p.length;g++)"'"!==p[g].charAt(0)&&'"'!==p[g].charAt(0)&&"default"===p[g]?f.push("monospaceSerif"):f.push(p[g]);return f},null),new E(b.ns_tts,"shear","0%",["p"],!0,!0,w.parseLength,function(D,p,f,g){return"%"!==g.unit?null:Math.abs(g.value)>100?100*Math.sign(g.value):g.value}),new E(b.ns_tts,"fontSize","1c",["span","p"],!0,!0,w.parseLength,function(D,p,f,g,y){return w.toComputedLength(g.value,g.unit,null!==p?p.styleAttrs[t.byName.fontSize.qname]:D.cellLength.h,null!==p?p.styleAttrs[t.byName.fontSize.qname]:D.cellLength.h,D.cellLength.h,D.pxLength.h)}),new E(b.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(D){return D},null),new E(b.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(D){return D},null),new E(b.ns_tts,"lineHeight","normal",["p"],!0,!0,function(D){return"normal"===D?D:w.parseLength(D)},function(D,p,f,g,y){var M;if("normal"===g)M=g;else if(null===(M=w.toComputedLength(g.value,g.unit,f.styleAttrs[t.byName.fontSize.qname],f.styleAttrs[t.byName.fontSize.qname],D.cellLength.h,D.pxLength.h)))return null;return M}),new E(b.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new E(b.ns_tts,"origin","auto",["region"],!1,!0,function(D){if("auto"===D)return D;var p=D.split(" ");if(2!==p.length)return null;var f=w.parseLength(p[0]),g=w.parseLength(p[1]);return g&&f?{h:g,w:f}:null},function(D,p,f,g,y){var M,U;if("auto"===g)M=new w.ComputedLength(0,0);else if(null===(M=w.toComputedLength(g.h.value,g.h.unit,null,D.dimensions.h,null,D.pxLength.h)))return null;if("auto"===g)U=new w.ComputedLength(0,0);else if(null===(U=w.toComputedLength(g.w.value,g.w.unit,null,D.dimensions.w,null,D.pxLength.w)))return null;return{h:M,w:U}}),new E(b.ns_tts,"overflow","hidden",["region"],!1,!0,function(D){return D},null),new E(b.ns_tts,"padding","0px",["region"],!1,!0,function(D){var p=D.split(" ");if(p.length>4)return null;for(var f=[],g=0;g<p.length;g++){var y=w.parseLength(p[g]);if(!y)return null;f.push(y)}return f},function(D,p,f,g,y){var M;if(1===g.length)M=[g[0],g[0],g[0],g[0]];else if(2===g.length)M=[g[0],g[1],g[0],g[1]];else if(3===g.length)M=[g[0],g[1],g[2],g[1]];else{if(4!==g.length)return null;M=[g[0],g[1],g[2],g[3]]}var U=f.styleAttrs[t.byName.writingMode.qname];if("lrtb"===U||"lr"===U)M=[M[0],M[3],M[2],M[1]];else if("rltb"===U||"rl"===U)M=[M[0],M[1],M[2],M[3]];else if("tblr"===U)M=[M[3],M[0],M[1],M[2]];else{if("tbrl"!==U&&"tb"!==U)return null;M=[M[3],M[2],M[1],M[0]]}for(var R=[],V=0;V<M.length;V++)if(0===M[V].value)R[V]=new w.ComputedLength(0,0);else if(R[V]=w.toComputedLength(M[V].value,M[V].unit,f.styleAttrs[t.byName.fontSize.qname],0===V||2===V?f.styleAttrs[t.byName.extent.qname].h:f.styleAttrs[t.byName.extent.qname].w,0===V||2===V?D.cellLength.h:D.cellLength.w,0===V||2===V?D.pxLength.h:D.pxLength.w),null===R[V])return null;return R}),new E(b.ns_tts,"position","top left",["region"],!1,!0,function(D){return w.parsePosition(D)},function(D,p,f,g){var y,M;return null===(y=w.toComputedLength(g.v.offset.value,g.v.offset.unit,null,new w.ComputedLength(-f.styleAttrs[t.byName.extent.qname].h.rw,D.dimensions.h.rh-f.styleAttrs[t.byName.extent.qname].h.rh),null,D.pxLength.h))||("bottom"===g.v.edge&&(y=new w.ComputedLength(-y.rw-f.styleAttrs[t.byName.extent.qname].h.rw,D.dimensions.h.rh-y.rh-f.styleAttrs[t.byName.extent.qname].h.rh)),M=w.toComputedLength(g.h.offset.value,g.h.offset.unit,null,new w.ComputedLength(D.dimensions.w.rw-f.styleAttrs[t.byName.extent.qname].w.rw,-f.styleAttrs[t.byName.extent.qname].w.rh),null,D.pxLength.w),null===y)?null:("right"===g.h.edge&&(M=new w.ComputedLength(D.dimensions.w.rw-M.rw-f.styleAttrs[t.byName.extent.qname].w.rw,-M.rh-f.styleAttrs[t.byName.extent.qname].w.rh)),{h:y,w:M})}),new E(b.ns_tts,"ruby","none",["span"],!1,!0,function(D){return D},null),new E(b.ns_tts,"rubyAlign","center",["span"],!0,!0,function(D){return"center"===D||"spaceAround"===D?D:null},null),new E(b.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(D){return D},null),new E(b.ns_tts,"rubyReserve","none",["p"],!0,!0,function(D){var p=D.split(" "),f=[null,null];if(0===p.length||p.length>2)return null;if("none"!==p[0]&&"both"!==p[0]&&"after"!==p[0]&&"before"!==p[0]&&"outside"!==p[0])return null;if(f[0]=p[0],2===p.length&&"none"!==p[0]){var g=w.parseLength(p[1]);if(!g)return null;f[1]=g}return f},function(D,p,f,g,y){if("none"===g[0])return g;var M;return null===(M=null===g[1]?new w.ComputedLength(.5*f.styleAttrs[t.byName.fontSize.qname].rw,.5*f.styleAttrs[t.byName.fontSize.qname].rh):w.toComputedLength(g[1].value,g[1].unit,f.styleAttrs[t.byName.fontSize.qname],f.styleAttrs[t.byName.fontSize.qname],D.cellLength.h,D.pxLength.h))?null:[g[0],M]}),new E(b.ns_tts,"showBackground","always",["region"],!1,!0,function(D){return D},null),new E(b.ns_tts,"textAlign","start",["p"],!0,!0,function(D){return D},function(D,p,f,g,y){return"left"===g?"start":"right"===g?"end":g}),new E(b.ns_tts,"textCombine","none",["span"],!0,!0,function(D){return"none"===D||"all"===D?D:null},null),new E(b.ns_tts,"textDecoration","none",["span"],!0,!0,function(D){return D.split(" ")},null),new E(b.ns_tts,"textEmphasis","none",["span"],!0,!0,function(D){for(var p=D.split(" "),f={style:null,symbol:null,color:null,position:null},g=0;g<p.length;g++)if("none"===p[g]||"auto"===p[g])f.style=p[g];else if("filled"===p[g]||"open"===p[g])f.style=p[g];else if("circle"===p[g]||"dot"===p[g]||"sesame"===p[g])f.symbol=p[g];else if("current"===p[g])f.color=p[g];else if("outside"===p[g]||"before"===p[g]||"after"===p[g])f.position=p[g];else if(f.color=w.parseColor(p[g]),null===f.color)return null;return null==f.style&&null==f.symbol?f.style="auto":(f.symbol=f.symbol||"circle",f.style=f.style||"filled"),f.position=f.position||"outside",f.color=f.color||"current",f},null),new E(b.ns_tts,"textOutline","none",["span"],!0,!0,function(D){if("none"===D)return D;var p={},f=D.split(" ");if(0===f.length||f.length>2)return null;var g=w.parseColor(f[0]);if(p.color=g,null!==g&&f.shift(),1!==f.length)return null;var y=w.parseLength(f[0]);return y?(p.thickness=y,p):null},function(D,p,f,g,y){if("none"===g)return g;var M={};return M.color=null===g.color?f.styleAttrs[t.byName.color.qname]:g.color,M.thickness=w.toComputedLength(g.thickness.value,g.thickness.unit,f.styleAttrs[t.byName.fontSize.qname],f.styleAttrs[t.byName.fontSize.qname],D.cellLength.h,D.pxLength.h),null===M.thickness?null:M}),new E(b.ns_tts,"textShadow","none",["span"],!0,!0,w.parseTextShadow,function(D,p,f,g){if("none"===g)return g;for(var y=[],M=0;M<g.length;M++){var U={};if(U.x_off=w.toComputedLength(g[M][0].value,g[M][0].unit,null,f.styleAttrs[t.byName.fontSize.qname],null,D.pxLength.w),null===U.x_off||(U.y_off=w.toComputedLength(g[M][1].value,g[M][1].unit,null,f.styleAttrs[t.byName.fontSize.qname],null,D.pxLength.h),null===U.y_off))return null;if(null===g[M][2])U.b_radius=0;else if(U.b_radius=w.toComputedLength(g[M][2].value,g[M][2].unit,null,f.styleAttrs[t.byName.fontSize.qname],null,D.pxLength.h),null===U.b_radius)return null;U.color=null===g[M][3]?f.styleAttrs[t.byName.color.qname]:g[M][3],y.push(U)}return y}),new E(b.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(D){return D},null),new E(b.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(D){return D},null),new E(b.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(D){return D},null),new E(b.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(D){return D},null),new E(b.ns_tts,"zIndex","auto",["region"],!1,!0,function(D){var p;return"auto"===D?p=D:(p=parseInt(D),isNaN(p)&&(p=null)),p},null),new E(b.ns_ebutts,"linePadding","0c",["p"],!0,!1,w.parseLength,function(D,p,f,g,y){return w.toComputedLength(g.value,g.unit,null,null,D.cellLength.w,null)}),new E(b.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(D){return D},null),new E(b.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(D){return D},null),new E(b.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(D){return"true"===D},null),new E(b.ns_itts,"fillLineGap","false",["p"],!0,!0,function(D){return"true"===D},null)],t.byQName={},t.all)t.byQName[t.all[F].qname]=t.all[F];for(var L in t.byName={},t.all)t.byName[t.all[L].name]=t.all[L]}(S,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/utils.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/utils.js ***!
                  \************************************************/
/*! no static exports found */function(nt,S,c){!function(t){var b=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,w=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,E=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,F={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};t.parseColor=function(D){var p,f=null,g=F[D.toLowerCase()];return void 0!==g?f=g:null!==(p=b.exec(D))?f=[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16),void 0!==p[4]?parseInt(p[4],16):255]:null!==(p=w.exec(D))?f=[parseInt(p[1]),parseInt(p[2]),parseInt(p[3]),255]:null!==(p=E.exec(D))&&(f=[parseInt(p[1]),parseInt(p[2]),parseInt(p[3]),parseInt(p[4])]),f};var L=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;t.parseLength=function(D){var p,f=null;return null!==(p=L.exec(D))&&(f={value:parseFloat(p[1]),unit:p[2]}),f},t.parseTextShadow=function(D){for(var p=D.match(/([^\(,\)]|\([^\)]+\))+/g),f=[],g=0;g<p.length;g++){var y=p[g].split(" ");if(1===y.length&&"none"===y[0])return"none";if(y.length>1&&y.length<5){var M=[null,null,null,null],U=t.parseLength(y.shift());if(null===U||(M[0]=U,null===(U=t.parseLength(y.shift()))))return null;if(M[1]=U,0===y.length){f.push(M);continue}if(null!==(U=t.parseLength(y[0]))&&(M[2]=U,y.shift()),0===y.length){f.push(M);continue}var R=t.parseColor(y[0]);if(null===R)return null;M[3]=R,f.push(M)}}return f},t.parsePosition=function(D){var p=D.split(" "),f=function(k){return"center"===k||"left"===k||"top"===k||"bottom"===k||"right"===k};if(p.length>4)return null;for(var g=0;g<p.length;g++)if(!f(p[g])){var y=t.parseLength(p[g]);if(null===y)return null;p[g]=y}for(var M={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},U=0;U<p.length;){var R=p[U++];if(f(R)){var V={value:0,unit:"%"};2!==p.length&&U<p.length&&!f(p[U])&&(V=p[U++]),"right"===R?(M.h.edge=R,M.h.offset=V):"bottom"===R?(M.v.edge=R,M.v.offset=V):"left"===R?M.h.offset=V:"top"===R&&(M.v.offset=V)}else{if(1!==p.length&&2!==p.length)return null;1===U?M.h.offset=R:M.v.offset=R}}return M},t.ComputedLength=function(D,p){this.rw=D,this.rh=p},t.ComputedLength.prototype.toUsedLength=function(D,p){return D*this.rw+p*this.rh},t.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},t.toComputedLength=function(D,p,f,g,y,M){return"%"===p&&g?new t.ComputedLength(g.rw*D/100,g.rh*D/100):"em"===p&&f?new t.ComputedLength(f.rw*D,f.rh*D):"c"===p&&y?new t.ComputedLength(D*y.rw,D*y.rh):"px"===p&&M?new t.ComputedLength(D*M.rw,D*M.rh):"rh"===p?new t.ComputedLength(0,D/100):"rw"===p?new t.ComputedLength(D/100,0):null}}(S)},"./node_modules/inherits/inherits_browser.js":
/*!***************************************************!*\
                  !*** ./node_modules/inherits/inherits_browser.js ***!
                  \***************************************************/
/*! no static exports found */function(nt,S){nt.exports="function"==typeof Object.create?function(t,b){b&&(t.super_=b,t.prototype=Object.create(b.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,b){if(b){t.super_=b;var w=function(){};w.prototype=b.prototype,t.prototype=new w,t.prototype.constructor=t}}},"./node_modules/is-alphabetical/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/is-alphabetical/index.js ***!
                  \***********************************************/
/*! no static exports found */function(nt,S,c){"use strict";nt.exports=function t(b){var w="string"==typeof b?b.charCodeAt(0):b;return w>=97&&w<=122||w>=65&&w<=90}},"./node_modules/is-alphanumerical/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/is-alphanumerical/index.js ***!
                  \*************************************************/
/*! no static exports found */function(nt,S,c){"use strict";var t=c(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),b=c(
/*! is-decimal */
"./node_modules/is-decimal/index.js");nt.exports=function w(E){return t(E)||b(E)}},"./node_modules/is-decimal/index.js":
/*!******************************************!*\
                  !*** ./node_modules/is-decimal/index.js ***!
                  \******************************************/
/*! no static exports found */function(nt,S,c){"use strict";nt.exports=function t(b){var w="string"==typeof b?b.charCodeAt(0):b;return w>=48&&w<=57}},"./node_modules/isarray/index.js":
/*!***************************************!*\
                  !*** ./node_modules/isarray/index.js ***!
                  \***************************************/
/*! no static exports found */function(nt,S){var c={}.toString;nt.exports=Array.isArray||function(t){return"[object Array]"==c.call(t)}},"./node_modules/path-browserify/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/path-browserify/index.js ***!
                  \***********************************************/
/*! no static exports found */function(nt,S,c){(function(t){function b(L,D){for(var p=0,f=L.length-1;f>=0;f--){var g=L[f];"."===g?L.splice(f,1):".."===g?(L.splice(f,1),p++):p&&(L.splice(f,1),p--)}if(D)for(;p--;p)L.unshift("..");return L}function E(L,D){if(L.filter)return L.filter(D);for(var p=[],f=0;f<L.length;f++)D(L[f],f,L)&&p.push(L[f]);return p}S.resolve=function(){for(var L="",D=!1,p=arguments.length-1;p>=-1&&!D;p--){var f=p>=0?arguments[p]:t.cwd();if("string"!=typeof f)throw new TypeError("Arguments to path.resolve must be strings");f&&(L=f+"/"+L,D="/"===f.charAt(0))}return(D?"/":"")+(L=b(E(L.split("/"),function(g){return!!g}),!D).join("/"))||"."},S.normalize=function(L){var D=S.isAbsolute(L),p="/"===F(L,-1);return!(L=b(E(L.split("/"),function(f){return!!f}),!D).join("/"))&&!D&&(L="."),L&&p&&(L+="/"),(D?"/":"")+L},S.isAbsolute=function(L){return"/"===L.charAt(0)},S.join=function(){var L=Array.prototype.slice.call(arguments,0);return S.normalize(E(L,function(D,p){if("string"!=typeof D)throw new TypeError("Arguments to path.join must be strings");return D}).join("/"))},S.relative=function(L,D){function p(V){for(var k=0;k<V.length&&""===V[k];k++);for(var P=V.length-1;P>=0&&""===V[P];P--);return k>P?[]:V.slice(k,P-k+1)}L=S.resolve(L).substr(1),D=S.resolve(D).substr(1);for(var f=p(L.split("/")),g=p(D.split("/")),y=Math.min(f.length,g.length),M=y,U=0;U<y;U++)if(f[U]!==g[U]){M=U;break}var R=[];for(U=M;U<f.length;U++)R.push("..");return(R=R.concat(g.slice(M))).join("/")},S.sep="/",S.delimiter=":",S.dirname=function(L){if("string"!=typeof L&&(L+=""),0===L.length)return".";for(var D=L.charCodeAt(0),p=47===D,f=-1,g=!0,y=L.length-1;y>=1;--y)if(47===(D=L.charCodeAt(y))){if(!g){f=y;break}}else g=!1;return-1===f?p?"/":".":p&&1===f?"/":L.slice(0,f)},S.basename=function(L,D){var p=function w(L){"string"!=typeof L&&(L+="");var g,D=0,p=-1,f=!0;for(g=L.length-1;g>=0;--g)if(47===L.charCodeAt(g)){if(!f){D=g+1;break}}else-1===p&&(f=!1,p=g+1);return-1===p?"":L.slice(D,p)}(L);return D&&p.substr(-1*D.length)===D&&(p=p.substr(0,p.length-D.length)),p},S.extname=function(L){"string"!=typeof L&&(L+="");for(var D=-1,p=0,f=-1,g=!0,y=0,M=L.length-1;M>=0;--M){var U=L.charCodeAt(M);if(47!==U)-1===f&&(g=!1,f=M+1),46===U?-1===D?D=M:1!==y&&(y=1):-1!==D&&(y=-1);else if(!g){p=M+1;break}}return-1===D||-1===f||0===y||1===y&&D===f-1&&D===p+1?"":L.slice(D,f)};var F=function(L,D,p){return L.substr(D,p)}}).call(this,c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process-nextick-args/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/process-nextick-args/index.js ***!
                  \****************************************************/
/*! no static exports found */function(nt,S,c){"use strict";(function(t){nt.exports=typeof t>"u"||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?{nextTick:function b(w,E,F,L){if("function"!=typeof w)throw new TypeError('"callback" argument must be a function');var p,f,D=arguments.length;switch(D){case 0:case 1:return t.nextTick(w);case 2:return t.nextTick(function(){w.call(null,E)});case 3:return t.nextTick(function(){w.call(null,E,F)});case 4:return t.nextTick(function(){w.call(null,E,F,L)});default:for(p=new Array(D-1),f=0;f<p.length;)p[f++]=arguments[f];return t.nextTick(function(){w.apply(null,p)})}}}:t}).call(this,c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process/browser.js":
/*!*****************************************!*\
                  !*** ./node_modules/process/browser.js ***!
                  \*****************************************/
/*! no static exports found */function(nt,S){var t,b,c=nt.exports={};function w(){throw new Error("setTimeout has not been defined")}function E(){throw new Error("clearTimeout has not been defined")}function F(V){if(t===setTimeout)return setTimeout(V,0);if((t===w||!t)&&setTimeout)return t=setTimeout,setTimeout(V,0);try{return t(V,0)}catch{try{return t.call(null,V,0)}catch{return t.call(this,V,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:w}catch{t=w}try{b="function"==typeof clearTimeout?clearTimeout:E}catch{b=E}}();var f,D=[],p=!1,g=-1;function y(){!p||!f||(p=!1,f.length?D=f.concat(D):g=-1,D.length&&M())}function M(){if(!p){var V=F(y);p=!0;for(var k=D.length;k;){for(f=D,D=[];++g<k;)f&&f[g].run();g=-1,k=D.length}f=null,p=!1,function L(V){if(b===clearTimeout)return clearTimeout(V);if((b===E||!b)&&clearTimeout)return b=clearTimeout,clearTimeout(V);try{return b(V)}catch{try{return b.call(null,V)}catch{return b.call(this,V)}}}(V)}}function U(V,k){this.fun=V,this.array=k}function R(){}c.nextTick=function(V){var k=new Array(arguments.length-1);if(arguments.length>1)for(var P=1;P<arguments.length;P++)k[P-1]=arguments[P];D.push(new U(V,k)),1===D.length&&!p&&F(M)},U.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=R,c.addListener=R,c.once=R,c.off=R,c.removeListener=R,c.removeAllListeners=R,c.emit=R,c.prependListener=R,c.prependOnceListener=R,c.listeners=function(V){return[]},c.binding=function(V){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(V){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},"./node_modules/readable-stream/duplex-browser.js":
/*!********************************************************!*\
                  !*** ./node_modules/readable-stream/duplex-browser.js ***!
                  \********************************************************/
/*! no static exports found */function(nt,S,c){nt.exports=c(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/readable-stream/lib/_stream_duplex.js":
/*!************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_duplex.js ***!
                  \************************************************************/
/*! no static exports found */function(nt,S,c){"use strict";var t=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js"),b=Object.keys||function(M){var U=[];for(var R in M)U.push(R);return U};nt.exports=f;var w=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));w.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var E=c(
/*! ./_stream_readable */
"./node_modules/readable-stream/lib/_stream_readable.js"),F=c(
/*! ./_stream_writable */
"./node_modules/readable-stream/lib/_stream_writable.js");w.inherits(f,E);for(var L=b(F.prototype),D=0;D<L.length;D++){var p=L[D];f.prototype[p]||(f.prototype[p]=F.prototype[p])}function f(M){if(!(this instanceof f))return new f(M);E.call(this,M),F.call(this,M),M&&!1===M.readable&&(this.readable=!1),M&&!1===M.writable&&(this.writable=!1),this.allowHalfOpen=!0,M&&!1===M.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||t.nextTick(y,this)}function y(M){M.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(M){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=M,this._writableState.destroyed=M)}}),f.prototype._destroy=function(M,U){this.push(null),this.end(),t.nextTick(U,M)}},"./node_modules/readable-stream/lib/_stream_passthrough.js":
/*!*****************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_passthrough.js ***!
                  \*****************************************************************/
/*! no static exports found */function(nt,S,c){"use strict";nt.exports=w;var t=c(
/*! ./_stream_transform */
"./node_modules/readable-stream/lib/_stream_transform.js"),b=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function w(E){if(!(this instanceof w))return new w(E);t.call(this,E)}b.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),b.inherits(w,t),w.prototype._transform=function(E,F,L){L(null,E)}},"./node_modules/readable-stream/lib/_stream_readable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_readable.js ***!
                  \**************************************************************/
/*! no static exports found */function(nt,S,c){"use strict";(function(t,b){var w=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");nt.exports=C;var F,E=c(
/*! isarray */
"./node_modules/isarray/index.js");C.ReadableState=N,c(
/*! events */
"./node_modules/events/events.js");var D=function(Se,W){return Se.listeners(W).length},p=c(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),f=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,g=t.Uint8Array||function(){};var U=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));U.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var R=c(
/*! util */
0),V=void 0;V=R&&R.debuglog?R.debuglog("stream"):function(){};var x,k=c(
/*! ./internal/streams/BufferList */
"./node_modules/readable-stream/lib/internal/streams/BufferList.js"),P=c(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");U.inherits(C,p);var O=["error","close","destroy","pause","resume"];function N(Se,W){var ae=W instanceof(F=F||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"));this.objectMode=!!(Se=Se||{}).objectMode,ae&&(this.objectMode=this.objectMode||!!Se.readableObjectMode);var ve=Se.highWaterMark,Q=Se.readableHighWaterMark;this.highWaterMark=ve||0===ve?ve:ae&&(Q||0===Q)?Q:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Se.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Se.encoding&&(x||(x=c(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new x(Se.encoding),this.encoding=Se.encoding)}function C(Se){if(F=F||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof C))return new C(Se);this._readableState=new N(Se,this),this.readable=!0,Se&&("function"==typeof Se.read&&(this._read=Se.read),"function"==typeof Se.destroy&&(this._destroy=Se.destroy)),p.call(this)}function B(Se,W,ae,ve,Q){var $,X=Se._readableState;return null===W?(X.reading=!1,function K(Se,W){if(!W.ended){if(W.decoder){var ae=W.decoder.end();ae&&ae.length&&(W.buffer.push(ae),W.length+=W.objectMode?1:ae.length)}W.ended=!0,_e(Se)}}(Se,X)):(Q||($=function J(Se,W){var ae;return!function M(Se){return f.isBuffer(Se)||Se instanceof g}(W)&&"string"!=typeof W&&void 0!==W&&!Se.objectMode&&(ae=new TypeError("Invalid non-string/buffer chunk")),ae}(X,W)),$?Se.emit("error",$):X.objectMode||W&&W.length>0?("string"!=typeof W&&!X.objectMode&&Object.getPrototypeOf(W)!==f.prototype&&(W=function y(Se){return f.from(Se)}(W)),ve?X.endEmitted?Se.emit("error",new Error("stream.unshift() after end event")):Y(Se,X,W,!0):X.ended?Se.emit("error",new Error("stream.push() after EOF")):(X.reading=!1,X.decoder&&!ae?(W=X.decoder.write(W),X.objectMode||0!==W.length?Y(Se,X,W,!1):me(Se,X)):Y(Se,X,W,!1))):ve||(X.reading=!1)),function ce(Se){return!Se.ended&&(Se.needReadable||Se.length<Se.highWaterMark||0===Se.length)}(X)}function Y(Se,W,ae,ve){W.flowing&&0===W.length&&!W.sync?(Se.emit("data",ae),Se.read(0)):(W.length+=W.objectMode?1:ae.length,ve?W.buffer.unshift(ae):W.buffer.push(ae),W.needReadable&&_e(Se)),me(Se,W)}Object.defineProperty(C.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(Se){this._readableState&&(this._readableState.destroyed=Se)}}),C.prototype.destroy=P.destroy,C.prototype._undestroy=P.undestroy,C.prototype._destroy=function(Se,W){this.push(null),W(Se)},C.prototype.push=function(Se,W){var ve,ae=this._readableState;return ae.objectMode?ve=!0:"string"==typeof Se&&((W=W||ae.defaultEncoding)!==ae.encoding&&(Se=f.from(Se,W),W=""),ve=!0),B(this,Se,W,!1,ve)},C.prototype.unshift=function(Se){return B(this,Se,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(Se){return x||(x=c(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new x(Se),this._readableState.encoding=Se,this};var Fe=8388608;function le(Se,W){return Se<=0||0===W.length&&W.ended?0:W.objectMode?1:Se!=Se?W.flowing&&W.length?W.buffer.head.data.length:W.length:(Se>W.highWaterMark&&(W.highWaterMark=function q(Se){return Se>=Fe?Se=Fe:(Se--,Se|=Se>>>1,Se|=Se>>>2,Se|=Se>>>4,Se|=Se>>>8,Se|=Se>>>16,Se++),Se}(Se)),Se<=W.length?Se:W.ended?W.length:(W.needReadable=!0,0))}function _e(Se){var W=Se._readableState;W.needReadable=!1,W.emittedReadable||(V("emitReadable",W.flowing),W.emittedReadable=!0,W.sync?w.nextTick(se,Se):se(Se))}function se(Se){V("emit readable"),Se.emit("readable"),ge(Se)}function me(Se,W){W.readingMore||(W.readingMore=!0,w.nextTick(De,Se,W))}function De(Se,W){for(var ae=W.length;!W.reading&&!W.flowing&&!W.ended&&W.length<W.highWaterMark&&(V("maybeReadMore read 0"),Se.read(0),ae!==W.length);)ae=W.length;W.readingMore=!1}function he(Se){V("readable nexttick read 0"),Se.read(0)}function Ie(Se,W){W.reading||(V("resume read 0"),Se.read(0)),W.resumeScheduled=!1,W.awaitDrain=0,Se.emit("resume"),ge(Se),W.flowing&&!W.reading&&Se.read(0)}function ge(Se){var W=Se._readableState;for(V("flow",W.flowing);W.flowing&&null!==Se.read(););}function Ue(Se,W){return 0===W.length?null:(W.objectMode?ae=W.buffer.shift():!Se||Se>=W.length?(ae=W.decoder?W.buffer.join(""):1===W.buffer.length?W.buffer.head.data:W.buffer.concat(W.length),W.buffer.clear()):ae=function ke(Se,W,ae){var ve;return Se<W.head.data.length?(ve=W.head.data.slice(0,Se),W.head.data=W.head.data.slice(Se)):ve=Se===W.head.data.length?W.shift():ae?function we(Se,W){var ae=W.head,ve=1,Q=ae.data;for(Se-=Q.length;ae=ae.next;){var X=ae.data,$=Se>X.length?X.length:Se;if(Q+=$===X.length?X:X.slice(0,Se),0==(Se-=$)){$===X.length?(++ve,W.head=ae.next?ae.next:W.tail=null):(W.head=ae,ae.data=X.slice($));break}++ve}return W.length-=ve,Q}(Se,W):function Ke(Se,W){var ae=f.allocUnsafe(Se),ve=W.head,Q=1;for(ve.data.copy(ae),Se-=ve.data.length;ve=ve.next;){var X=ve.data,$=Se>X.length?X.length:Se;if(X.copy(ae,ae.length-Se,0,$),0==(Se-=$)){$===X.length?(++Q,W.head=ve.next?ve.next:W.tail=null):(W.head=ve,ve.data=X.slice($));break}++Q}return W.length-=Q,ae}(Se,W),ve}(Se,W.buffer,W.decoder),ae);var ae}function st(Se){var W=Se._readableState;if(W.length>0)throw new Error('"endReadable()" called on non-empty stream');W.endEmitted||(W.ended=!0,w.nextTick(Qe,W,Se))}function Qe(Se,W){!Se.endEmitted&&0===Se.length&&(Se.endEmitted=!0,W.readable=!1,W.emit("end"))}function Ne(Se,W){for(var ae=0,ve=Se.length;ae<ve;ae++)if(Se[ae]===W)return ae;return-1}C.prototype.read=function(Se){V("read",Se),Se=parseInt(Se,10);var W=this._readableState,ae=Se;if(0!==Se&&(W.emittedReadable=!1),0===Se&&W.needReadable&&(W.length>=W.highWaterMark||W.ended))return V("read: emitReadable",W.length,W.ended),0===W.length&&W.ended?st(this):_e(this),null;if(0===(Se=le(Se,W))&&W.ended)return 0===W.length&&st(this),null;var Q,ve=W.needReadable;return V("need readable",ve),(0===W.length||W.length-Se<W.highWaterMark)&&V("length less than watermark",ve=!0),W.ended||W.reading?V("reading or ended",ve=!1):ve&&(V("do read"),W.reading=!0,W.sync=!0,0===W.length&&(W.needReadable=!0),this._read(W.highWaterMark),W.sync=!1,W.reading||(Se=le(ae,W))),null===(Q=Se>0?Ue(Se,W):null)?(W.needReadable=!0,Se=0):W.length-=Se,0===W.length&&(W.ended||(W.needReadable=!0),ae!==Se&&W.ended&&st(this)),null!==Q&&this.emit("data",Q),Q},C.prototype._read=function(Se){this.emit("error",new Error("_read() is not implemented"))},C.prototype.pipe=function(Se,W){var ae=this,ve=this._readableState;switch(ve.pipesCount){case 0:ve.pipes=Se;break;case 1:ve.pipes=[ve.pipes,Se];break;default:ve.pipes.push(Se)}ve.pipesCount+=1,V("pipe count=%d opts=%j",ve.pipesCount,W);var X=W&&!1===W.end||Se===b.stdout||Se===b.stderr?Ge:ie;function $(at,ct){V("onunpipe"),at===ae&&ct&&!1===ct.hasUnpiped&&(ct.hasUnpiped=!0,function ee(){V("cleanup"),Se.removeListener("close",Me),Se.removeListener("finish",Ye),Se.removeListener("drain",re),Se.removeListener("error",ue),Se.removeListener("unpipe",$),ae.removeListener("end",ie),ae.removeListener("end",Ge),ae.removeListener("data",ye),te=!0,ve.awaitDrain&&(!Se._writableState||Se._writableState.needDrain)&&re()}())}function ie(){V("onend"),Se.end()}ve.endEmitted?w.nextTick(X):ae.once("end",X),Se.on("unpipe",$);var re=function Le(Se){return function(){var W=Se._readableState;V("pipeOnDrain",W.awaitDrain),W.awaitDrain&&W.awaitDrain--,0===W.awaitDrain&&D(Se,"data")&&(W.flowing=!0,ge(Se))}}(ae);Se.on("drain",re);var te=!1;var fe=!1;function ye(at){V("ondata"),fe=!1,!1===Se.write(at)&&!fe&&((1===ve.pipesCount&&ve.pipes===Se||ve.pipesCount>1&&-1!==Ne(ve.pipes,Se))&&!te&&(V("false write response, pause",ae._readableState.awaitDrain),ae._readableState.awaitDrain++,fe=!0),ae.pause())}function ue(at){V("onerror",at),Ge(),Se.removeListener("error",ue),0===D(Se,"error")&&Se.emit("error",at)}function Me(){Se.removeListener("finish",Ye),Ge()}function Ye(){V("onfinish"),Se.removeListener("close",Me),Ge()}function Ge(){V("unpipe"),ae.unpipe(Se)}return ae.on("data",ye),function T(Se,W,ae){if("function"==typeof Se.prependListener)return Se.prependListener(W,ae);Se._events&&Se._events[W]?E(Se._events[W])?Se._events[W].unshift(ae):Se._events[W]=[ae,Se._events[W]]:Se.on(W,ae)}(Se,"error",ue),Se.once("close",Me),Se.once("finish",Ye),Se.emit("pipe",ae),ve.flowing||(V("pipe resume"),ae.resume()),Se},C.prototype.unpipe=function(Se){var W=this._readableState,ae={hasUnpiped:!1};if(0===W.pipesCount)return this;if(1===W.pipesCount)return Se&&Se!==W.pipes||(Se||(Se=W.pipes),W.pipes=null,W.pipesCount=0,W.flowing=!1,Se&&Se.emit("unpipe",this,ae)),this;if(!Se){var ve=W.pipes,Q=W.pipesCount;W.pipes=null,W.pipesCount=0,W.flowing=!1;for(var X=0;X<Q;X++)ve[X].emit("unpipe",this,ae);return this}var $=Ne(W.pipes,Se);return-1===$||(W.pipes.splice($,1),W.pipesCount-=1,1===W.pipesCount&&(W.pipes=W.pipes[0]),Se.emit("unpipe",this,ae)),this},C.prototype.addListener=C.prototype.on=function(Se,W){var ae=p.prototype.on.call(this,Se,W);if("data"===Se)!1!==this._readableState.flowing&&this.resume();else if("readable"===Se){var ve=this._readableState;!ve.endEmitted&&!ve.readableListening&&(ve.readableListening=ve.needReadable=!0,ve.emittedReadable=!1,ve.reading?ve.length&&_e(this):w.nextTick(he,this))}return ae},C.prototype.resume=function(){var Se=this._readableState;return Se.flowing||(V("resume"),Se.flowing=!0,function Re(Se,W){W.resumeScheduled||(W.resumeScheduled=!0,w.nextTick(Ie,Se,W))}(this,Se)),this},C.prototype.pause=function(){return V("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(V("pause"),this._readableState.flowing=!1,this.emit("pause")),this},C.prototype.wrap=function(Se){var W=this,ae=this._readableState,ve=!1;for(var Q in Se.on("end",function(){if(V("wrapped end"),ae.decoder&&!ae.ended){var $=ae.decoder.end();$&&$.length&&W.push($)}W.push(null)}),Se.on("data",function($){V("wrapped data"),ae.decoder&&($=ae.decoder.write($)),ae.objectMode&&null==$||!(ae.objectMode||$&&$.length)||W.push($)||(ve=!0,Se.pause())}),Se)void 0===this[Q]&&"function"==typeof Se[Q]&&(this[Q]=function($){return function(){return Se[$].apply(Se,arguments)}}(Q));for(var X=0;X<O.length;X++)Se.on(O[X],this.emit.bind(this,O[X]));return this._read=function($){V("wrapped _read",$),ve&&(ve=!1,Se.resume())},this},Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),C._fromList=Ue}).call(this,c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/readable-stream/lib/_stream_transform.js":
/*!***************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_transform.js ***!
                  \***************************************************************/
/*! no static exports found */function(nt,S,c){"use strict";nt.exports=E;var t=c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),b=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function w(D,p){var f=this._transformState;f.transforming=!1;var g=f.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));f.writechunk=null,f.writecb=null,null!=p&&this.push(p),g(D);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function E(D){if(!(this instanceof E))return new E(D);t.call(this,D),this._transformState={afterTransform:w.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,D&&("function"==typeof D.transform&&(this._transform=D.transform),"function"==typeof D.flush&&(this._flush=D.flush)),this.on("prefinish",F)}function F(){var D=this;"function"==typeof this._flush?this._flush(function(p,f){L(D,p,f)}):L(this,null,null)}function L(D,p,f){if(p)return D.emit("error",p);if(null!=f&&D.push(f),D._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(D._transformState.transforming)throw new Error("Calling transform done when still transforming");return D.push(null)}b.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),b.inherits(E,t),E.prototype.push=function(D,p){return this._transformState.needTransform=!1,t.prototype.push.call(this,D,p)},E.prototype._transform=function(D,p,f){throw new Error("_transform() is not implemented")},E.prototype._write=function(D,p,f){var g=this._transformState;if(g.writecb=f,g.writechunk=D,g.writeencoding=p,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},E.prototype._read=function(D){var p=this._transformState;null!==p.writechunk&&p.writecb&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},E.prototype._destroy=function(D,p){var f=this;t.prototype._destroy.call(this,D,function(g){p(g),f.emit("close")})}},"./node_modules/readable-stream/lib/_stream_writable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_writable.js ***!
                  \**************************************************************/
/*! no static exports found */function(nt,S,c){"use strict";(function(t,b,w){var E=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function L(Ie){var ge=this;this.next=null,this.entry=null,this.finish=function(){!function Re(Ie,ge,Ue){var ke=Ie.entry;for(Ie.entry=null;ke;){var we=ke.callback;ge.pendingcb--,we(Ue),ke=ke.next}ge.corkedRequestsFree?ge.corkedRequestsFree.next=Ie:ge.corkedRequestsFree=Ie}(ge,Ie)}}nt.exports=T;var p,D=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?b:E.nextTick;T.WritableState=x;var f=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));f.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var g={deprecate:c(
/*! util-deprecate */
"./node_modules/util-deprecate/browser.js")},y=c(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),M=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,U=w.Uint8Array||function(){};var O,k=c(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");function P(){}function x(Ie,ge){p=p||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js");var Ue=ge instanceof p;this.objectMode=!!(Ie=Ie||{}).objectMode,Ue&&(this.objectMode=this.objectMode||!!Ie.writableObjectMode);var ke=Ie.highWaterMark,we=Ie.writableHighWaterMark;this.highWaterMark=ke||0===ke?ke:Ue&&(we||0===we)?we:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Ie.decodeStrings),this.defaultEncoding=Ie.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Qe){!function q(Ie,ge){var Ue=Ie._writableState,ke=Ue.sync,we=Ue.writecb;if(function Fe(Ie){Ie.writing=!1,Ie.writecb=null,Ie.length-=Ie.writelen,Ie.writelen=0}(Ue),ge)!function ce(Ie,ge,Ue,ke,we){--ge.pendingcb,Ue?(E.nextTick(we,ke),E.nextTick(Le,Ie,ge),Ie._writableState.errorEmitted=!0,Ie.emit("error",ke)):(we(ke),Ie._writableState.errorEmitted=!0,Ie.emit("error",ke),Le(Ie,ge))}(Ie,Ue,ke,ge,we);else{var Ke=se(Ue);!Ke&&!Ue.corked&&!Ue.bufferProcessing&&Ue.bufferedRequest&&_e(Ie,Ue),ke?D(le,Ie,Ue,Ke,we):le(Ie,Ue,Ke,we)}}(ge,Qe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new L(this)}function T(Ie){if(p=p||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(O.call(T,this)||this instanceof p))return new T(Ie);this._writableState=new x(Ie,this),this.writable=!0,Ie&&("function"==typeof Ie.write&&(this._write=Ie.write),"function"==typeof Ie.writev&&(this._writev=Ie.writev),"function"==typeof Ie.destroy&&(this._destroy=Ie.destroy),"function"==typeof Ie.final&&(this._final=Ie.final)),y.call(this)}function Y(Ie,ge,Ue,ke,we,Ke){if(!Ue){var st=function B(Ie,ge,Ue){return!Ie.objectMode&&!1!==Ie.decodeStrings&&"string"==typeof ge&&(ge=M.from(ge,Ue)),ge}(ge,ke,we);ke!==st&&(Ue=!0,we="buffer",ke=st)}var Qe=ge.objectMode?1:ke.length;ge.length+=Qe;var Ne=ge.length<ge.highWaterMark;if(Ne||(ge.needDrain=!0),ge.writing||ge.corked){var Se=ge.lastBufferedRequest;ge.lastBufferedRequest={chunk:ke,encoding:we,isBuf:Ue,callback:Ke,next:null},Se?Se.next=ge.lastBufferedRequest:ge.bufferedRequest=ge.lastBufferedRequest,ge.bufferedRequestCount+=1}else J(Ie,ge,!1,Qe,ke,we,Ke);return Ne}function J(Ie,ge,Ue,ke,we,Ke,st){ge.writelen=ke,ge.writecb=st,ge.writing=!0,ge.sync=!0,Ue?Ie._writev(we,ge.onwrite):Ie._write(we,Ke,ge.onwrite),ge.sync=!1}function le(Ie,ge,Ue,ke){Ue||function K(Ie,ge){0===ge.length&&ge.needDrain&&(ge.needDrain=!1,Ie.emit("drain"))}(Ie,ge),ge.pendingcb--,ke(),Le(Ie,ge)}function _e(Ie,ge){ge.bufferProcessing=!0;var Ue=ge.bufferedRequest;if(Ie._writev&&Ue&&Ue.next){var we=new Array(ge.bufferedRequestCount),Ke=ge.corkedRequestsFree;Ke.entry=Ue;for(var st=0,Qe=!0;Ue;)we[st]=Ue,Ue.isBuf||(Qe=!1),Ue=Ue.next,st+=1;we.allBuffers=Qe,J(Ie,ge,!0,ge.length,we,"",Ke.finish),ge.pendingcb++,ge.lastBufferedRequest=null,Ke.next?(ge.corkedRequestsFree=Ke.next,Ke.next=null):ge.corkedRequestsFree=new L(ge),ge.bufferedRequestCount=0}else{for(;Ue;){var Ne=Ue.chunk;if(J(Ie,ge,!1,ge.objectMode?1:Ne.length,Ne,Ue.encoding,Ue.callback),Ue=Ue.next,ge.bufferedRequestCount--,ge.writing)break}null===Ue&&(ge.lastBufferedRequest=null)}ge.bufferedRequest=Ue,ge.bufferProcessing=!1}function se(Ie){return Ie.ending&&0===Ie.length&&null===Ie.bufferedRequest&&!Ie.finished&&!Ie.writing}function me(Ie,ge){Ie._final(function(Ue){ge.pendingcb--,Ue&&Ie.emit("error",Ue),ge.prefinished=!0,Ie.emit("prefinish"),Le(Ie,ge)})}function Le(Ie,ge){var Ue=se(ge);return Ue&&(function De(Ie,ge){!ge.prefinished&&!ge.finalCalled&&("function"==typeof Ie._final?(ge.pendingcb++,ge.finalCalled=!0,E.nextTick(me,Ie,ge)):(ge.prefinished=!0,Ie.emit("prefinish")))}(Ie,ge),0===ge.pendingcb&&(ge.finished=!0,Ie.emit("finish"))),Ue}f.inherits(T,y),x.prototype.getBuffer=function(){for(var ge=this.bufferedRequest,Ue=[];ge;)Ue.push(ge),ge=ge.next;return Ue},function(){try{Object.defineProperty(x.prototype,"buffer",{get:g.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(O=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(Ie){return!!O.call(this,Ie)||this===T&&Ie&&Ie._writableState instanceof x}})):O=function(Ie){return Ie instanceof this},T.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},T.prototype.write=function(Ie,ge,Ue){var ke=this._writableState,we=!1,Ke=!ke.objectMode&&function V(Ie){return M.isBuffer(Ie)||Ie instanceof U}(Ie);return Ke&&!M.isBuffer(Ie)&&(Ie=function R(Ie){return M.from(Ie)}(Ie)),"function"==typeof ge&&(Ue=ge,ge=null),Ke?ge="buffer":ge||(ge=ke.defaultEncoding),"function"!=typeof Ue&&(Ue=P),ke.ended?function N(Ie,ge){var Ue=new Error("write after end");Ie.emit("error",Ue),E.nextTick(ge,Ue)}(this,Ue):(Ke||function C(Ie,ge,Ue,ke){var we=!0,Ke=!1;return null===Ue?Ke=new TypeError("May not write null values to stream"):"string"!=typeof Ue&&void 0!==Ue&&!ge.objectMode&&(Ke=new TypeError("Invalid non-string/buffer chunk")),Ke&&(Ie.emit("error",Ke),E.nextTick(ke,Ke),we=!1),we}(this,ke,Ie,Ue))&&(ke.pendingcb++,we=Y(this,ke,Ke,Ie,ge,Ue)),we},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var Ie=this._writableState;Ie.corked&&(Ie.corked--,!Ie.writing&&!Ie.corked&&!Ie.finished&&!Ie.bufferProcessing&&Ie.bufferedRequest&&_e(this,Ie))},T.prototype.setDefaultEncoding=function(ge){if("string"==typeof ge&&(ge=ge.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ge+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+ge);return this._writableState.defaultEncoding=ge,this},Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(Ie,ge,Ue){Ue(new Error("_write() is not implemented"))},T.prototype._writev=null,T.prototype.end=function(Ie,ge,Ue){var ke=this._writableState;"function"==typeof Ie?(Ue=Ie,Ie=null,ge=null):"function"==typeof ge&&(Ue=ge,ge=null),null!=Ie&&this.write(Ie,ge),ke.corked&&(ke.corked=1,this.uncork()),!ke.ending&&!ke.finished&&function he(Ie,ge,Ue){ge.ending=!0,Le(Ie,ge),Ue&&(ge.finished?E.nextTick(Ue):Ie.once("finish",Ue)),ge.ended=!0,Ie.writable=!1}(this,ke,Ue)},Object.defineProperty(T.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Ie){this._writableState&&(this._writableState.destroyed=Ie)}}),T.prototype.destroy=k.destroy,T.prototype._undestroy=k.undestroy,T.prototype._destroy=function(Ie,ge){this.end(),ge(Ie)}}).call(this,c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),c(
/*! ./../../timers-browserify/main.js */
"./node_modules/timers-browserify/main.js").setImmediate,c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/readable-stream/lib/internal/streams/BufferList.js":
/*!*************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/BufferList.js ***!
                  \*************************************************************************/
/*! no static exports found */function(nt,S,c){"use strict";var b=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,w=c(
/*! util */
1);function E(F,L,D){F.copy(L,D)}nt.exports=function(){function F(){(function t(F,L){if(!(F instanceof L))throw new TypeError("Cannot call a class as a function")})(this,F),this.head=null,this.tail=null,this.length=0}return F.prototype.push=function(D){var p={data:D,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length},F.prototype.unshift=function(D){var p={data:D,next:this.head};0===this.length&&(this.tail=p),this.head=p,++this.length},F.prototype.shift=function(){if(0!==this.length){var D=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,D}},F.prototype.clear=function(){this.head=this.tail=null,this.length=0},F.prototype.join=function(D){if(0===this.length)return"";for(var p=this.head,f=""+p.data;p=p.next;)f+=D+p.data;return f},F.prototype.concat=function(D){if(0===this.length)return b.alloc(0);if(1===this.length)return this.head.data;for(var p=b.allocUnsafe(D>>>0),f=this.head,g=0;f;)E(f.data,p,g),g+=f.data.length,f=f.next;return p},F}(),w&&w.inspect&&w.inspect.custom&&(nt.exports.prototype[w.inspect.custom]=function(){var F=w.inspect({length:this.length});return this.constructor.name+" "+F})},"./node_modules/readable-stream/lib/internal/streams/destroy.js":
/*!**********************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/destroy.js ***!
                  \**********************************************************************/
/*! no static exports found */function(nt,S,c){"use strict";var t=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function E(F,L){F.emit("error",L)}nt.exports={destroy:function b(F,L){var D=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(L?L(F):F&&(!this._writableState||!this._writableState.errorEmitted)&&t.nextTick(E,this,F),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(F||null,function(g){!L&&g?(t.nextTick(E,D,g),D._writableState&&(D._writableState.errorEmitted=!0)):L&&L(g)}),this)},undestroy:function w(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js":
/*!*****************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/stream-browser.js ***!
                  \*****************************************************************************/
/*! no static exports found */function(nt,S,c){nt.exports=c(
/*! events */
"./node_modules/events/events.js").EventEmitter},"./node_modules/readable-stream/node_modules/safe-buffer/index.js":
/*!************************************************************************!*\
                  !*** ./node_modules/readable-stream/node_modules/safe-buffer/index.js ***!
                  \************************************************************************/
/*! no static exports found */function(nt,S,c){var t=c(
/*! buffer */
"./node_modules/buffer/index.js"),b=t.Buffer;function w(F,L){for(var D in F)L[D]=F[D]}function E(F,L,D){return b(F,L,D)}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?nt.exports=t:(w(t,S),S.Buffer=E),w(b,E),E.from=function(F,L,D){if("number"==typeof F)throw new TypeError("Argument must not be a number");return b(F,L,D)},E.alloc=function(F,L,D){if("number"!=typeof F)throw new TypeError("Argument must be a number");var p=b(F);return void 0!==L?"string"==typeof D?p.fill(L,D):p.fill(L):p.fill(0),p},E.allocUnsafe=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return b(F)},E.allocUnsafeSlow=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return t.SlowBuffer(F)}},"./node_modules/readable-stream/passthrough.js":
/*!*****************************************************!*\
                  !*** ./node_modules/readable-stream/passthrough.js ***!
                  \*****************************************************/
/*! no static exports found */function(nt,S,c){nt.exports=c(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").PassThrough},"./node_modules/readable-stream/readable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/readable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(nt,S,c){(S=nt.exports=c(
/*! ./lib/_stream_readable.js */
"./node_modules/readable-stream/lib/_stream_readable.js")).Stream=S,S.Readable=S,S.Writable=c(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js"),S.Duplex=c(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js"),S.Transform=c(
/*! ./lib/_stream_transform.js */
"./node_modules/readable-stream/lib/_stream_transform.js"),S.PassThrough=c(
/*! ./lib/_stream_passthrough.js */
"./node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/readable-stream/transform.js":
/*!***************************************************!*\
                  !*** ./node_modules/readable-stream/transform.js ***!
                  \***************************************************/
/*! no static exports found */function(nt,S,c){nt.exports=c(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").Transform},"./node_modules/readable-stream/writable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/writable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(nt,S,c){nt.exports=c(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js")},"./node_modules/safe-buffer/index.js":
/*!*******************************************!*\
                  !*** ./node_modules/safe-buffer/index.js ***!
                  \*******************************************/
/*! no static exports found */function(nt,S,c){var t=c(
/*! buffer */
"./node_modules/buffer/index.js"),b=t.Buffer;function w(F,L){for(var D in F)L[D]=F[D]}function E(F,L,D){return b(F,L,D)}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?nt.exports=t:(w(t,S),S.Buffer=E),E.prototype=Object.create(b.prototype),w(b,E),E.from=function(F,L,D){if("number"==typeof F)throw new TypeError("Argument must not be a number");return b(F,L,D)},E.alloc=function(F,L,D){if("number"!=typeof F)throw new TypeError("Argument must be a number");var p=b(F);return void 0!==L?"string"==typeof D?p.fill(L,D):p.fill(L):p.fill(0),p},E.allocUnsafe=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return b(F)},E.allocUnsafeSlow=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return t.SlowBuffer(F)}},"./node_modules/sax/lib/sax.js":
/*!*************************************!*\
                  !*** ./node_modules/sax/lib/sax.js ***!
                  \*************************************/
/*! no static exports found */function(nt,S,c){(function(t){!function(b){b.parser=function(W,ae){return new E(W,ae)},b.SAXParser=E,b.SAXStream=y,b.createStream=function g(W,ae){return new y(W,ae)},b.MAX_BUFFER_LENGTH=65536;var p,w=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function E(W,ae){if(!(this instanceof E))return new E(W,ae);var ve=this;(function L(W){for(var ae=0,ve=w.length;ae<ve;ae++)W[w[ae]]=""})(ve),ve.q=ve.c="",ve.bufferCheckPosition=b.MAX_BUFFER_LENGTH,ve.opt=ae||{},ve.opt.lowercase=ve.opt.lowercase||ve.opt.lowercasetags,ve.looseCase=ve.opt.lowercase?"toLowerCase":"toUpperCase",ve.tags=[],ve.closed=ve.closedRoot=ve.sawRoot=!1,ve.tag=ve.error=null,ve.strict=!!W,ve.noscript=!(!W&&!ve.opt.noscript),ve.state=K.BEGIN,ve.strictEntities=ve.opt.strictEntities,ve.ENTITIES=Object.create(ve.strictEntities?b.XML_ENTITIES:b.ENTITIES),ve.attribList=[],ve.opt.xmlns&&(ve.ns=Object.create(N)),ve.trackPosition=!1!==ve.opt.position,ve.trackPosition&&(ve.position=ve.line=ve.column=0),se(ve,"onready")}b.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(W){function ae(){}return ae.prototype=W,new ae}),Object.keys||(Object.keys=function(W){var ae=[];for(var ve in W)W.hasOwnProperty(ve)&&ae.push(ve);return ae}),E.prototype={end:function(){Re(this)},write:function Se(W){var ae=this;if(this.error)throw this.error;if(ae.closed)return he(ae,"Cannot write after close. Assign an onready handler.");if(null===W)return Re(ae);"object"==typeof W&&(W=W.toString());for(var ve=0,Q="";Q=Ne(W,ve++),ae.c=Q,Q;)switch(ae.trackPosition&&(ae.position++,"\n"===Q?(ae.line++,ae.column=0):ae.column++),ae.state){case K.BEGIN:if(ae.state=K.BEGIN_WHITESPACE,"\ufeff"===Q)continue;Qe(ae,Q);continue;case K.BEGIN_WHITESPACE:Qe(ae,Q);continue;case K.TEXT:if(ae.sawRoot&&!ae.closedRoot){for(var X=ve-1;Q&&"<"!==Q&&"&"!==Q;)(Q=Ne(W,ve++))&&ae.trackPosition&&(ae.position++,"\n"===Q?(ae.line++,ae.column=0):ae.column++);ae.textNode+=W.substring(X,ve-1)}"<"!==Q||ae.sawRoot&&ae.closedRoot&&!ae.strict?(le(M,Q)&&(!ae.sawRoot||ae.closedRoot)&&Ie(ae,"Text data outside of root node."),"&"===Q?ae.state=K.TEXT_ENTITY:ae.textNode+=Q):(ae.state=K.OPEN_WAKA,ae.startTagPosition=ae.position);continue;case K.SCRIPT:"<"===Q?ae.state=K.SCRIPT_ENDING:ae.script+=Q;continue;case K.SCRIPT_ENDING:"/"===Q?ae.state=K.CLOSE_TAG:(ae.script+="<"+Q,ae.state=K.SCRIPT);continue;case K.OPEN_WAKA:"!"===Q?(ae.state=K.SGML_DECL,ae.sgmlDecl=""):q(M,Q)||(q(C,Q)?(ae.state=K.OPEN_TAG,ae.tagName=Q):"/"===Q?(ae.state=K.CLOSE_TAG,ae.tagName=""):"?"===Q?(ae.state=K.PROC_INST,ae.procInstName=ae.procInstBody=""):(Ie(ae,"Unencoded <"),ae.startTagPosition+1<ae.position&&(Q=new Array(ae.position-ae.startTagPosition).join(" ")+Q),ae.textNode+="<"+Q,ae.state=K.TEXT));continue;case K.SGML_DECL:(ae.sgmlDecl+Q).toUpperCase()===P?(me(ae,"onopencdata"),ae.state=K.CDATA,ae.sgmlDecl="",ae.cdata=""):ae.sgmlDecl+Q==="--"?(ae.state=K.COMMENT,ae.comment="",ae.sgmlDecl=""):(ae.sgmlDecl+Q).toUpperCase()===x?(ae.state=K.DOCTYPE,(ae.doctype||ae.sawRoot)&&Ie(ae,"Inappropriately located doctype declaration"),ae.doctype="",ae.sgmlDecl=""):">"===Q?(me(ae,"onsgmldeclaration",ae.sgmlDecl),ae.sgmlDecl="",ae.state=K.TEXT):(q(V,Q)&&(ae.state=K.SGML_DECL_QUOTED),ae.sgmlDecl+=Q);continue;case K.SGML_DECL_QUOTED:Q===ae.q&&(ae.state=K.SGML_DECL,ae.q=""),ae.sgmlDecl+=Q;continue;case K.DOCTYPE:">"===Q?(ae.state=K.TEXT,me(ae,"ondoctype",ae.doctype),ae.doctype=!0):(ae.doctype+=Q,"["===Q?ae.state=K.DOCTYPE_DTD:q(V,Q)&&(ae.state=K.DOCTYPE_QUOTED,ae.q=Q));continue;case K.DOCTYPE_QUOTED:ae.doctype+=Q,Q===ae.q&&(ae.q="",ae.state=K.DOCTYPE);continue;case K.DOCTYPE_DTD:ae.doctype+=Q,"]"===Q?ae.state=K.DOCTYPE:q(V,Q)&&(ae.state=K.DOCTYPE_DTD_QUOTED,ae.q=Q);continue;case K.DOCTYPE_DTD_QUOTED:ae.doctype+=Q,Q===ae.q&&(ae.state=K.DOCTYPE_DTD,ae.q="");continue;case K.COMMENT:"-"===Q?ae.state=K.COMMENT_ENDING:ae.comment+=Q;continue;case K.COMMENT_ENDING:"-"===Q?(ae.state=K.COMMENT_ENDED,ae.comment=Le(ae.opt,ae.comment),ae.comment&&me(ae,"oncomment",ae.comment),ae.comment=""):(ae.comment+="-"+Q,ae.state=K.COMMENT);continue;case K.COMMENT_ENDED:">"!==Q?(Ie(ae,"Malformed comment"),ae.comment+="--"+Q,ae.state=K.COMMENT):ae.state=K.TEXT;continue;case K.CDATA:"]"===Q?ae.state=K.CDATA_ENDING:ae.cdata+=Q;continue;case K.CDATA_ENDING:"]"===Q?ae.state=K.CDATA_ENDING_2:(ae.cdata+="]"+Q,ae.state=K.CDATA);continue;case K.CDATA_ENDING_2:">"===Q?(ae.cdata&&me(ae,"oncdata",ae.cdata),me(ae,"onclosecdata"),ae.cdata="",ae.state=K.TEXT):"]"===Q?ae.cdata+="]":(ae.cdata+="]]"+Q,ae.state=K.CDATA);continue;case K.PROC_INST:"?"===Q?ae.state=K.PROC_INST_ENDING:q(M,Q)?ae.state=K.PROC_INST_BODY:ae.procInstName+=Q;continue;case K.PROC_INST_BODY:if(!ae.procInstBody&&q(M,Q))continue;"?"===Q?ae.state=K.PROC_INST_ENDING:ae.procInstBody+=Q;continue;case K.PROC_INST_ENDING:">"===Q?(me(ae,"onprocessinginstruction",{name:ae.procInstName,body:ae.procInstBody}),ae.procInstName=ae.procInstBody="",ae.state=K.TEXT):(ae.procInstBody+="?"+Q,ae.state=K.PROC_INST_BODY);continue;case K.OPEN_TAG:q(B,Q)?ae.tagName+=Q:(ge(ae),">"===Q?we(ae):"/"===Q?ae.state=K.OPEN_TAG_SLASH:(le(M,Q)&&Ie(ae,"Invalid character in tag name"),ae.state=K.ATTRIB));continue;case K.OPEN_TAG_SLASH:">"===Q?(we(ae,!0),Ke(ae)):(Ie(ae,"Forward-slash in opening tag not followed by >"),ae.state=K.ATTRIB);continue;case K.ATTRIB:if(q(M,Q))continue;">"===Q?we(ae):"/"===Q?ae.state=K.OPEN_TAG_SLASH:q(C,Q)?(ae.attribName=Q,ae.attribValue="",ae.state=K.ATTRIB_NAME):Ie(ae,"Invalid attribute name");continue;case K.ATTRIB_NAME:"="===Q?ae.state=K.ATTRIB_VALUE:">"===Q?(Ie(ae,"Attribute without value"),ae.attribValue=ae.attribName,ke(ae),we(ae)):q(M,Q)?ae.state=K.ATTRIB_NAME_SAW_WHITE:q(B,Q)?ae.attribName+=Q:Ie(ae,"Invalid attribute name");continue;case K.ATTRIB_NAME_SAW_WHITE:if("="===Q)ae.state=K.ATTRIB_VALUE;else{if(q(M,Q))continue;Ie(ae,"Attribute without value"),ae.tag.attributes[ae.attribName]="",ae.attribValue="",me(ae,"onattribute",{name:ae.attribName,value:""}),ae.attribName="",">"===Q?we(ae):q(C,Q)?(ae.attribName=Q,ae.state=K.ATTRIB_NAME):(Ie(ae,"Invalid attribute name"),ae.state=K.ATTRIB)}continue;case K.ATTRIB_VALUE:if(q(M,Q))continue;q(V,Q)?(ae.q=Q,ae.state=K.ATTRIB_VALUE_QUOTED):(Ie(ae,"Unquoted attribute value"),ae.state=K.ATTRIB_VALUE_UNQUOTED,ae.attribValue=Q);continue;case K.ATTRIB_VALUE_QUOTED:if(Q!==ae.q){"&"===Q?ae.state=K.ATTRIB_VALUE_ENTITY_Q:ae.attribValue+=Q;continue}ke(ae),ae.q="",ae.state=K.ATTRIB_VALUE_CLOSED;continue;case K.ATTRIB_VALUE_CLOSED:q(M,Q)?ae.state=K.ATTRIB:">"===Q?we(ae):"/"===Q?ae.state=K.OPEN_TAG_SLASH:q(C,Q)?(Ie(ae,"No whitespace between attributes"),ae.attribName=Q,ae.attribValue="",ae.state=K.ATTRIB_NAME):Ie(ae,"Invalid attribute name");continue;case K.ATTRIB_VALUE_UNQUOTED:if(le(k,Q)){"&"===Q?ae.state=K.ATTRIB_VALUE_ENTITY_U:ae.attribValue+=Q;continue}ke(ae),">"===Q?we(ae):ae.state=K.ATTRIB;continue;case K.CLOSE_TAG:if(ae.tagName)">"===Q?Ke(ae):q(B,Q)?ae.tagName+=Q:ae.script?(ae.script+="</"+ae.tagName,ae.tagName="",ae.state=K.SCRIPT):(le(M,Q)&&Ie(ae,"Invalid tagname in closing tag"),ae.state=K.CLOSE_TAG_SAW_WHITE);else{if(q(M,Q))continue;le(C,Q)?ae.script?(ae.script+="</"+Q,ae.state=K.SCRIPT):Ie(ae,"Invalid tagname in closing tag."):ae.tagName=Q}continue;case K.CLOSE_TAG_SAW_WHITE:if(q(M,Q))continue;">"===Q?Ke(ae):Ie(ae,"Invalid characters in closing tag");continue;case K.TEXT_ENTITY:case K.ATTRIB_VALUE_ENTITY_Q:case K.ATTRIB_VALUE_ENTITY_U:var ie,re;switch(ae.state){case K.TEXT_ENTITY:ie=K.TEXT,re="textNode";break;case K.ATTRIB_VALUE_ENTITY_Q:ie=K.ATTRIB_VALUE_QUOTED,re="attribValue";break;case K.ATTRIB_VALUE_ENTITY_U:ie=K.ATTRIB_VALUE_UNQUOTED,re="attribValue"}";"===Q?(ae[re]+=st(ae),ae.entity="",ae.state=ie):q(ae.entity.length?J:Y,Q)?ae.entity+=Q:(Ie(ae,"Invalid character in entity name"),ae[re]+="&"+ae.entity+Q,ae.entity="",ae.state=ie);continue;default:throw new Error(ae,"Unknown state: "+ae.state)}return ae.position>=ae.bufferCheckPosition&&function F(W){for(var ae=Math.max(b.MAX_BUFFER_LENGTH,10),ve=0,Q=0,X=w.length;Q<X;Q++){var $=W[w[Q]].length;if($>ae)switch(w[Q]){case"textNode":De(W);break;case"cdata":me(W,"oncdata",W.cdata),W.cdata="";break;case"script":me(W,"onscript",W.script),W.script="";break;default:he(W,"Max buffer length exceeded: "+w[Q])}ve=Math.max(ve,$)}W.bufferCheckPosition=b.MAX_BUFFER_LENGTH-ve+W.position}(ae),ae},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function D(W){De(W),""!==W.cdata&&(me(W,"oncdata",W.cdata),W.cdata=""),""!==W.script&&(me(W,"onscript",W.script),W.script="")}(this)}};try{p=c(
/*! stream */
"./node_modules/stream-browserify/index.js").Stream}catch{p=function(){}}var f=b.EVENTS.filter(function(W){return"error"!==W&&"end"!==W});function y(W,ae){if(!(this instanceof y))return new y(W,ae);p.apply(this),this._parser=new E(W,ae),this.writable=!0,this.readable=!0;var ve=this;this._parser.onend=function(){ve.emit("end")},this._parser.onerror=function(Q){ve.emit("error",Q),ve._parser.error=null},this._decoder=null,f.forEach(function(Q){Object.defineProperty(ve,"on"+Q,{get:function(){return ve._parser["on"+Q]},set:function(X){if(!X)return ve.removeAllListeners(Q),ve._parser["on"+Q]=X,X;ve.on(Q,X)},enumerable:!0,configurable:!1})})}(y.prototype=Object.create(p.prototype,{constructor:{value:y}})).write=function(W){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(W)){if(!this._decoder){var ae=c(
/*! string_decoder */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._decoder=new ae("utf8")}W=this._decoder.write(W)}return this._parser.write(W.toString()),this.emit("data",W),!0},y.prototype.end=function(W){return W&&W.length&&this.write(W),this._parser.end(),!0},y.prototype.on=function(W,ae){var ve=this;return!ve._parser["on"+W]&&-1!==f.indexOf(W)&&(ve._parser["on"+W]=function(){var Q=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);Q.splice(0,0,W),ve.emit.apply(ve,Q)}),p.prototype.on.call(ve,W,ae)};var M="\r\n\t ",U="0124356789",R="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",V="'\"",k=M+">",P="[CDATA[",x="DOCTYPE",O="http://www.w3.org/XML/1998/namespace",T="http://www.w3.org/2000/xmlns/",N={xml:O,xmlns:T};M=ce(M),U=ce(U),R=ce(R);var C=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,B=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,Y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,J=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function ce(W){return W.split("").reduce(function(ae,ve){return ae[ve]=!0,ae},{})}function q(W,ae){return function Fe(W){return"[object RegExp]"===Object.prototype.toString.call(W)}(W)?!!ae.match(W):W[ae]}function le(W,ae){return!q(W,ae)}V=ce(V),k=ce(k);var W,ae,ve,K=0;for(var _e in b.STATE={BEGIN:K++,BEGIN_WHITESPACE:K++,TEXT:K++,TEXT_ENTITY:K++,OPEN_WAKA:K++,SGML_DECL:K++,SGML_DECL_QUOTED:K++,DOCTYPE:K++,DOCTYPE_QUOTED:K++,DOCTYPE_DTD:K++,DOCTYPE_DTD_QUOTED:K++,COMMENT_STARTING:K++,COMMENT:K++,COMMENT_ENDING:K++,COMMENT_ENDED:K++,CDATA:K++,CDATA_ENDING:K++,CDATA_ENDING_2:K++,PROC_INST:K++,PROC_INST_BODY:K++,PROC_INST_ENDING:K++,OPEN_TAG:K++,OPEN_TAG_SLASH:K++,ATTRIB:K++,ATTRIB_NAME:K++,ATTRIB_NAME_SAW_WHITE:K++,ATTRIB_VALUE:K++,ATTRIB_VALUE_QUOTED:K++,ATTRIB_VALUE_CLOSED:K++,ATTRIB_VALUE_UNQUOTED:K++,ATTRIB_VALUE_ENTITY_Q:K++,ATTRIB_VALUE_ENTITY_U:K++,CLOSE_TAG:K++,CLOSE_TAG_SAW_WHITE:K++,SCRIPT:K++,SCRIPT_ENDING:K++},b.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},b.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(b.ENTITIES).forEach(function(W){var ae=b.ENTITIES[W],ve="number"==typeof ae?String.fromCharCode(ae):ae;b.ENTITIES[W]=ve}),b.STATE)b.STATE[b.STATE[_e]]=_e;function se(W,ae,ve){W[ae]&&W[ae](ve)}function me(W,ae,ve){W.textNode&&De(W),se(W,ae,ve)}function De(W){W.textNode=Le(W.opt,W.textNode),W.textNode&&se(W,"ontext",W.textNode),W.textNode=""}function Le(W,ae){return W.trim&&(ae=ae.trim()),W.normalize&&(ae=ae.replace(/\s+/g," ")),ae}function he(W,ae){return De(W),W.trackPosition&&(ae+="\nLine: "+W.line+"\nColumn: "+W.column+"\nChar: "+W.c),ae=new Error(ae),W.error=ae,se(W,"onerror",ae),W}function Re(W){return W.sawRoot&&!W.closedRoot&&Ie(W,"Unclosed root tag"),W.state!==K.BEGIN&&W.state!==K.BEGIN_WHITESPACE&&W.state!==K.TEXT&&he(W,"Unexpected end"),De(W),W.c="",W.closed=!0,se(W,"onend"),E.call(W,W.strict,W.opt),W}function Ie(W,ae){if("object"!=typeof W||!(W instanceof E))throw new Error("bad call to strictFail");W.strict&&he(W,ae)}function ge(W){W.strict||(W.tagName=W.tagName[W.looseCase]());var ae=W.tags[W.tags.length-1]||W,ve=W.tag={name:W.tagName,attributes:{}};W.opt.xmlns&&(ve.ns=ae.ns),W.attribList.length=0,me(W,"onopentagstart",ve)}function Ue(W,ae){var Q=W.indexOf(":")<0?["",W]:W.split(":"),X=Q[0],$=Q[1];return ae&&"xmlns"===W&&(X="xmlns",$=""),{prefix:X,local:$}}function ke(W){if(W.strict||(W.attribName=W.attribName[W.looseCase]()),-1!==W.attribList.indexOf(W.attribName)||W.tag.attributes.hasOwnProperty(W.attribName))W.attribName=W.attribValue="";else{if(W.opt.xmlns){var ae=Ue(W.attribName,!0),Q=ae.local;if("xmlns"===ae.prefix)if("xml"===Q&&W.attribValue!==O)Ie(W,"xml: prefix must be bound to "+O+"\nActual: "+W.attribValue);else if("xmlns"===Q&&W.attribValue!==T)Ie(W,"xmlns: prefix must be bound to "+T+"\nActual: "+W.attribValue);else{var X=W.tag,$=W.tags[W.tags.length-1]||W;X.ns===$.ns&&(X.ns=Object.create($.ns)),X.ns[Q]=W.attribValue}W.attribList.push([W.attribName,W.attribValue])}else W.tag.attributes[W.attribName]=W.attribValue,me(W,"onattribute",{name:W.attribName,value:W.attribValue});W.attribName=W.attribValue=""}}function we(W,ae){if(W.opt.xmlns){var ve=W.tag,Q=Ue(W.tagName);ve.prefix=Q.prefix,ve.local=Q.local,ve.uri=ve.ns[Q.prefix]||"",ve.prefix&&!ve.uri&&(Ie(W,"Unbound namespace prefix: "+JSON.stringify(W.tagName)),ve.uri=Q.prefix),ve.ns&&(W.tags[W.tags.length-1]||W).ns!==ve.ns&&Object.keys(ve.ns).forEach(function(Ge){me(W,"onopennamespace",{prefix:Ge,uri:ve.ns[Ge]})});for(var $=0,ie=W.attribList.length;$<ie;$++){var re=W.attribList[$],te=re[0],ee=re[1],fe=Ue(te,!0),ye=fe.prefix,Me=""===ye?"":ve.ns[ye]||"",Ye={name:te,value:ee,prefix:ye,local:fe.local,uri:Me};ye&&"xmlns"!==ye&&!Me&&(Ie(W,"Unbound namespace prefix: "+JSON.stringify(ye)),Ye.uri=ye),W.tag.attributes[te]=Ye,me(W,"onattribute",Ye)}W.attribList.length=0}W.tag.isSelfClosing=!!ae,W.sawRoot=!0,W.tags.push(W.tag),me(W,"onopentag",W.tag),ae||(W.state=W.noscript||"script"!==W.tagName.toLowerCase()?K.TEXT:K.SCRIPT,W.tag=null,W.tagName=""),W.attribName=W.attribValue="",W.attribList.length=0}function Ke(W){if(!W.tagName)return Ie(W,"Weird empty close tag."),W.textNode+="</>",void(W.state=K.TEXT);if(W.script){if("script"!==W.tagName)return W.script+="</"+W.tagName+">",W.tagName="",void(W.state=K.SCRIPT);me(W,"onscript",W.script),W.script=""}var ae=W.tags.length,ve=W.tagName;W.strict||(ve=ve[W.looseCase]());for(var Q=ve;ae--&&W.tags[ae].name!==Q;)Ie(W,"Unexpected close tag");if(ae<0)return Ie(W,"Unmatched closing tag: "+W.tagName),W.textNode+="</"+W.tagName+">",void(W.state=K.TEXT);W.tagName=ve;for(var $=W.tags.length;$-- >ae;){var ie=W.tag=W.tags.pop();W.tagName=W.tag.name,me(W,"onclosetag",W.tagName);var re={};for(var te in ie.ns)re[te]=ie.ns[te];W.opt.xmlns&&ie.ns!==(W.tags[W.tags.length-1]||W).ns&&Object.keys(ie.ns).forEach(function(fe){me(W,"onclosenamespace",{prefix:fe,uri:ie.ns[fe]})})}0===ae&&(W.closedRoot=!0),W.tagName=W.attribValue=W.attribName="",W.attribList.length=0,W.state=K.TEXT}function st(W){var Q,ae=W.entity,ve=ae.toLowerCase(),X="";return W.ENTITIES[ae]?W.ENTITIES[ae]:W.ENTITIES[ve]?W.ENTITIES[ve]:("#"===(ae=ve).charAt(0)&&("x"===ae.charAt(1)?(ae=ae.slice(2),X=(Q=parseInt(ae,16)).toString(16)):(ae=ae.slice(1),X=(Q=parseInt(ae,10)).toString(10))),ae=ae.replace(/^0+/,""),X.toLowerCase()!==ae?(Ie(W,"Invalid character entity"),"&"+W.entity+";"):String.fromCodePoint(Q))}function Qe(W,ae){"<"===ae?(W.state=K.OPEN_WAKA,W.startTagPosition=W.position):le(M,ae)&&(Ie(W,"Non-whitespace before first tag."),W.textNode=ae,W.state=K.TEXT)}function Ne(W,ae){var ve="";return ae<W.length&&(ve=W.charAt(ae)),ve}K=b.STATE,String.fromCodePoint||(W=String.fromCharCode,ae=Math.floor,ve=function(){var X=[],re=-1,te=arguments.length;if(!te)return"";for(var ee="";++re<te;){var fe=Number(arguments[re]);if(!isFinite(fe)||fe<0||fe>1114111||ae(fe)!==fe)throw RangeError("Invalid code point: "+fe);fe<=65535?X.push(fe):X.push(55296+((fe-=65536)>>10),fe%1024+56320),(re+1===te||X.length>16384)&&(ee+=W.apply(null,X),X.length=0)}return ee},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ve,configurable:!0,writable:!0}):String.fromCodePoint=ve)}(S)}).call(this,c(
/*! ./../../buffer/index.js */
"./node_modules/buffer/index.js").Buffer)},"./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
                  !*** ./node_modules/setimmediate/setImmediate.js ***!
                  \***************************************************/
/*! no static exports found */function(nt,S,c){(function(t,b){!function(w,E){"use strict";if(!w.setImmediate){var f,F=1,L={},D=!1,p=w.document,T=Object.getPrototypeOf&&Object.getPrototypeOf(w);T=T&&T.setTimeout?T:w,"[object process]"==={}.toString.call(w.process)?function R(){f=function(N){b.nextTick(function(){U(N)})}}():function V(){if(w.postMessage&&!w.importScripts){var N=!0,C=w.onmessage;return w.onmessage=function(){N=!1},w.postMessage("","*"),w.onmessage=C,N}}()?function k(){var N="setImmediate$"+Math.random()+"$",C=function(B){B.source===w&&"string"==typeof B.data&&0===B.data.indexOf(N)&&U(+B.data.slice(N.length))};w.addEventListener?w.addEventListener("message",C,!1):w.attachEvent("onmessage",C),f=function(B){w.postMessage(N+B,"*")}}():w.MessageChannel?function P(){var N=new MessageChannel;N.port1.onmessage=function(C){U(C.data)},f=function(C){N.port2.postMessage(C)}}():p&&"onreadystatechange"in p.createElement("script")?function x(){var N=p.documentElement;f=function(C){var B=p.createElement("script");B.onreadystatechange=function(){U(C),B.onreadystatechange=null,N.removeChild(B),B=null},N.appendChild(B)}}():function O(){f=function(N){setTimeout(U,0,N)}}(),T.setImmediate=function g(N){"function"!=typeof N&&(N=new Function(""+N));for(var C=new Array(arguments.length-1),B=0;B<C.length;B++)C[B]=arguments[B+1];return L[F]={callback:N,args:C},f(F),F++},T.clearImmediate=y}function y(N){delete L[N]}function U(N){if(D)setTimeout(U,0,N);else{var C=L[N];if(C){D=!0;try{!function M(N){var C=N.callback,B=N.args;switch(B.length){case 0:C();break;case 1:C(B[0]);break;case 2:C(B[0],B[1]);break;case 3:C(B[0],B[1],B[2]);break;default:C.apply(E,B)}}(C)}finally{y(N),D=!1}}}}}(typeof self>"u"?typeof t>"u"?this:t:self)}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/stream-browserify/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/stream-browserify/index.js ***!
                  \*************************************************/
/*! no static exports found */function(nt,S,c){nt.exports=w;var t=c(
/*! events */
"./node_modules/events/events.js").EventEmitter;function w(){t.call(this)}c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js")(w,t),w.Readable=c(
/*! readable-stream/readable.js */
"./node_modules/readable-stream/readable-browser.js"),w.Writable=c(
/*! readable-stream/writable.js */
"./node_modules/readable-stream/writable-browser.js"),w.Duplex=c(
/*! readable-stream/duplex.js */
"./node_modules/readable-stream/duplex-browser.js"),w.Transform=c(
/*! readable-stream/transform.js */
"./node_modules/readable-stream/transform.js"),w.PassThrough=c(
/*! readable-stream/passthrough.js */
"./node_modules/readable-stream/passthrough.js"),w.Stream=w,w.prototype.pipe=function(E,F){var L=this;function D(R){E.writable&&!1===E.write(R)&&L.pause&&L.pause()}function p(){L.readable&&L.resume&&L.resume()}L.on("data",D),E.on("drain",p),!E._isStdio&&(!F||!1!==F.end)&&(L.on("end",g),L.on("close",y));var f=!1;function g(){f||(f=!0,E.end())}function y(){f||(f=!0,"function"==typeof E.destroy&&E.destroy())}function M(R){if(U(),0===t.listenerCount(this,"error"))throw R}function U(){L.removeListener("data",D),E.removeListener("drain",p),L.removeListener("end",g),L.removeListener("close",y),L.removeListener("error",M),E.removeListener("error",M),L.removeListener("end",U),L.removeListener("close",U),E.removeListener("close",U)}return L.on("error",M),E.on("error",M),L.on("end",U),L.on("close",U),E.on("close",U),E.emit("pipe",L),E}},"./node_modules/string_decoder/lib/string_decoder.js":
/*!***********************************************************!*\
                  !*** ./node_modules/string_decoder/lib/string_decoder.js ***!
                  \***********************************************************/
/*! no static exports found */function(nt,S,c){"use strict";var t=c(
/*! safe-buffer */
"./node_modules/safe-buffer/index.js").Buffer,b=t.isEncoding||function(x){switch((x=""+x)&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function F(x){var O;switch(this.encoding=function E(x){var O=function w(x){if(!x)return"utf8";for(var O;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(O)return;x=(""+x).toLowerCase(),O=!0}}(x);if("string"!=typeof O&&(t.isEncoding===b||!b(x)))throw new Error("Unknown encoding: "+x);return O||x}(x),this.encoding){case"utf16le":this.text=M,this.end=U,O=4;break;case"utf8":this.fillLast=f,O=4;break;case"base64":this.text=R,this.end=V,O=3;break;default:return this.write=k,void(this.end=P)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(O)}function L(x){return x<=127?0:x>>5==6?2:x>>4==14?3:x>>3==30?4:x>>6==2?-1:-2}function f(x){var O=this.lastTotal-this.lastNeed,T=function p(x,O,T){if(128!=(192&O[0]))return x.lastNeed=0,"\ufffd";if(x.lastNeed>1&&O.length>1){if(128!=(192&O[1]))return x.lastNeed=1,"\ufffd";if(x.lastNeed>2&&O.length>2&&128!=(192&O[2]))return x.lastNeed=2,"\ufffd"}}(this,x);return void 0!==T?T:this.lastNeed<=x.length?(x.copy(this.lastChar,O,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(x.copy(this.lastChar,O,0,x.length),void(this.lastNeed-=x.length))}function M(x,O){if((x.length-O)%2==0){var T=x.toString("utf16le",O);if(T){var N=T.charCodeAt(T.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",O,x.length-1)}function U(x){var O=x&&x.length?this.write(x):"";return this.lastNeed?O+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):O}function R(x,O){var T=(x.length-O)%3;return 0===T?x.toString("base64",O):(this.lastNeed=3-T,this.lastTotal=3,1===T?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",O,x.length-T))}function V(x){var O=x&&x.length?this.write(x):"";return this.lastNeed?O+this.lastChar.toString("base64",0,3-this.lastNeed):O}function k(x){return x.toString(this.encoding)}function P(x){return x&&x.length?this.write(x):""}S.StringDecoder=F,F.prototype.write=function(x){if(0===x.length)return"";var O,T;if(this.lastNeed){if(void 0===(O=this.fillLast(x)))return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<x.length?O?O+this.text(x,T):this.text(x,T):O||""},F.prototype.end=function y(x){var O=x&&x.length?this.write(x):"";return this.lastNeed?O+"\ufffd":O},F.prototype.text=function g(x,O){var T=function D(x,O,T){var N=O.length-1;if(N<T)return 0;var C=L(O[N]);return C>=0?(C>0&&(x.lastNeed=C-1),C):--N<T||-2===C?0:(C=L(O[N]))>=0?(C>0&&(x.lastNeed=C-2),C):--N<T||-2===C?0:(C=L(O[N]))>=0?(C>0&&(2===C?C=0:x.lastNeed=C-3),C):0}(this,x,O);if(!this.lastNeed)return x.toString("utf8",O);this.lastTotal=T;var N=x.length-(T-this.lastNeed);return x.copy(this.lastChar,0,N),x.toString("utf8",O,N)},F.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length}},"./node_modules/timers-browserify/main.js":
/*!************************************************!*\
                  !*** ./node_modules/timers-browserify/main.js ***!
                  \************************************************/
/*! no static exports found */function(nt,S,c){(function(t){var b=typeof t<"u"&&t||typeof self<"u"&&self||window,w=Function.prototype.apply;function E(F,L){this._id=F,this._clearFn=L}S.setTimeout=function(){return new E(w.call(setTimeout,b,arguments),clearTimeout)},S.setInterval=function(){return new E(w.call(setInterval,b,arguments),clearInterval)},S.clearTimeout=S.clearInterval=function(F){F&&F.close()},E.prototype.unref=E.prototype.ref=function(){},E.prototype.close=function(){this._clearFn.call(b,this._id)},S.enroll=function(F,L){clearTimeout(F._idleTimeoutId),F._idleTimeout=L},S.unenroll=function(F){clearTimeout(F._idleTimeoutId),F._idleTimeout=-1},S._unrefActive=S.active=function(F){clearTimeout(F._idleTimeoutId);var L=F._idleTimeout;L>=0&&(F._idleTimeoutId=setTimeout(function(){F._onTimeout&&F._onTimeout()},L))},c(
/*! setimmediate */
"./node_modules/setimmediate/setImmediate.js"),S.setImmediate=typeof self<"u"&&self.setImmediate||typeof t<"u"&&t.setImmediate||this&&this.setImmediate,S.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof t<"u"&&t.clearImmediate||this&&this.clearImmediate}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/ua-parser-js/src/ua-parser.js":
/*!****************************************************!*\
                  !*** ./node_modules/ua-parser-js/src/ua-parser.js ***!
                  \****************************************************/
/*! no static exports found */function(nt,S,c){var t;!function(b,w){"use strict";var D="function",p="undefined",f="object",g="string",M="model",U="name",R="type",V="vendor",k="version",P="architecture",x="console",O="mobile",T="tablet",N="smarttv",C="wearable",B="embedded",J="Amazon",ce="Apple",q="BlackBerry",le="Browser",K="Chrome",se="Firefox",me="Google",he="Microsoft",Re="Motorola",Ie="Opera",ge="Samsung",ke="Sony",we="Xiaomi",Ke="Zebra",st="Facebook",Ne=function(ye){for(var ue={},Me=0;Me<ye.length;Me++)ue[ye[Me].toUpperCase()]=ye[Me];return ue},Se=function(ye,ue){return typeof ye===g&&-1!==W(ue).indexOf(W(ye))},W=function(ye){return ye.toLowerCase()},ve=function(ye,ue){if(typeof ye===g)return ye=ye.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof ue===p?ye:ye.substring(0,350)},Q=function(ye,ue){for(var Ye,Ge,at,ct,rt,_t,Me=0;Me<ue.length&&!rt;){var Bt=ue[Me],At=ue[Me+1];for(Ye=Ge=0;Ye<Bt.length&&!rt;)if(rt=Bt[Ye++].exec(ye))for(at=0;at<At.length;at++)_t=rt[++Ge],typeof(ct=At[at])===f&&ct.length>0?2===ct.length?this[ct[0]]=typeof ct[1]==D?ct[1].call(this,_t):ct[1]:3===ct.length?this[ct[0]]=typeof ct[1]!==D||ct[1].exec&&ct[1].test?_t?_t.replace(ct[1],ct[2]):w:_t?ct[1].call(this,_t,ct[2]):w:4===ct.length&&(this[ct[0]]=_t?ct[3].call(this,_t.replace(ct[1],ct[2])):w):this[ct]=_t||w;Me+=2}},X=function(ye,ue){for(var Me in ue)if(typeof ue[Me]===f&&ue[Me].length>0){for(var Ye=0;Ye<ue[Me].length;Ye++)if(Se(ue[Me][Ye],ye))return"?"===Me?w:Me}else if(Se(ue[Me],ye))return"?"===Me?w:Me;return ye},ie={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},re={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[k,[U,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[k,[U,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[U,k],[/opios[\/ ]+([\w\.]+)/i],[k,[U,Ie+" Mini"]],[/\bopr\/([\w\.]+)/i],[k,[U,Ie]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[U,k],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[k,[U,"UC"+le]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[k,[U,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[k,[U,"WeChat"]],[/konqueror\/([\w\.]+)/i],[k,[U,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[k,[U,"IE"]],[/yabrowser\/([\w\.]+)/i],[k,[U,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[U,/(.+)/,"$1 Secure "+le],k],[/\bfocus\/([\w\.]+)/i],[k,[U,se+" Focus"]],[/\bopt\/([\w\.]+)/i],[k,[U,Ie+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[k,[U,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[k,[U,"Dolphin"]],[/coast\/([\w\.]+)/i],[k,[U,Ie+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[k,[U,"MIUI "+le]],[/fxios\/([-\w\.]+)/i],[k,[U,se]],[/\bqihu|(qi?ho?o?|360)browser/i],[[U,"360 "+le]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[U,/(.+)/,"$1 "+le],k],[/(comodo_dragon)\/([\w\.]+)/i],[[U,/_/g," "],k],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[U,k],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[U],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[U,st],k],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[U,k],[/\bgsa\/([\w\.]+) .*safari\//i],[k,[U,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[k,[U,K+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[U,K+" WebView"],k],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[k,[U,"Android "+le]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[U,k],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[k,[U,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[k,U],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[U,[k,X,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[U,k],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[U,"Netscape"],k],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[k,[U,se+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[U,k]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[P,"amd64"]],[/(ia32(?=;))/i],[[P,W]],[/((?:i[346]|x)86)[;\)]/i],[[P,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[P,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[P,"armhf"]],[/windows (ce|mobile); ppc;/i],[[P,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[P,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[P,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[P,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[M,[V,ge],[R,T]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[M,[V,ge],[R,O]],[/\((ip(?:hone|od)[\w ]*);/i],[M,[V,ce],[R,O]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[M,[V,ce],[R,T]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[M,[V,"Huawei"],[R,T]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[M,[V,"Huawei"],[R,O]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[M,/_/g," "],[V,we],[R,O]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[M,/_/g," "],[V,we],[R,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[M,[V,"OPPO"],[R,O]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[M,[V,"Vivo"],[R,O]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[M,[V,"Realme"],[R,O]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[M,[V,Re],[R,O]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[M,[V,Re],[R,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[M,[V,"LG"],[R,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[M,[V,"LG"],[R,O]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[M,[V,"Lenovo"],[R,T]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[M,/_/g," "],[V,"Nokia"],[R,O]],[/(pixel c)\b/i],[M,[V,me],[R,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[M,[V,me],[R,O]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[M,[V,ke],[R,O]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[M,"Xperia Tablet"],[V,ke],[R,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[M,[V,"OnePlus"],[R,O]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[M,[V,J],[R,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[M,/(.+)/g,"Fire Phone $1"],[V,J],[R,O]],[/(playbook);[-\w\),; ]+(rim)/i],[M,V,[R,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[M,[V,q],[R,O]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[M,[V,"ASUS"],[R,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[M,[V,"ASUS"],[R,O]],[/(nexus 9)/i],[M,[V,"HTC"],[R,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[V,[M,/_/g," "],[R,O]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[M,[V,"Acer"],[R,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[M,[V,"Meizu"],[R,O]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[M,[V,"Sharp"],[R,O]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[V,M,[R,O]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[V,M,[R,T]],[/(surface duo)/i],[M,[V,he],[R,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[M,[V,"Fairphone"],[R,O]],[/(u304aa)/i],[M,[V,"AT&T"],[R,O]],[/\bsie-(\w*)/i],[M,[V,"Siemens"],[R,O]],[/\b(rct\w+) b/i],[M,[V,"RCA"],[R,T]],[/\b(venue[\d ]{2,7}) b/i],[M,[V,"Dell"],[R,T]],[/\b(q(?:mv|ta)\w+) b/i],[M,[V,"Verizon"],[R,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[M,[V,"Barnes & Noble"],[R,T]],[/\b(tm\d{3}\w+) b/i],[M,[V,"NuVision"],[R,T]],[/\b(k88) b/i],[M,[V,"ZTE"],[R,T]],[/\b(nx\d{3}j) b/i],[M,[V,"ZTE"],[R,O]],[/\b(gen\d{3}) b.+49h/i],[M,[V,"Swiss"],[R,O]],[/\b(zur\d{3}) b/i],[M,[V,"Swiss"],[R,T]],[/\b((zeki)?tb.*\b) b/i],[M,[V,"Zeki"],[R,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[V,"Dragon Touch"],M,[R,T]],[/\b(ns-?\w{0,9}) b/i],[M,[V,"Insignia"],[R,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[M,[V,"NextBook"],[R,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[V,"Voice"],M,[R,O]],[/\b(lvtel\-)?(v1[12]) b/i],[[V,"LvTel"],M,[R,O]],[/\b(ph-1) /i],[M,[V,"Essential"],[R,O]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[M,[V,"Envizen"],[R,T]],[/\b(trio[-\w\. ]+) b/i],[M,[V,"MachSpeed"],[R,T]],[/\btu_(1491) b/i],[M,[V,"Rotor"],[R,T]],[/(shield[\w ]+) b/i],[M,[V,"Nvidia"],[R,T]],[/(sprint) (\w+)/i],[V,M,[R,O]],[/(kin\.[onetw]{3})/i],[[M,/\./g," "],[V,he],[R,O]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[M,[V,Ke],[R,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[M,[V,Ke],[R,O]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[V,M,[R,x]],[/droid.+; (shield) bui/i],[M,[V,"Nvidia"],[R,x]],[/(playstation [345portablevi]+)/i],[M,[V,ke],[R,x]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[M,[V,he],[R,x]],[/smart-tv.+(samsung)/i],[V,[R,N]],[/hbbtv.+maple;(\d+)/i],[[M,/^/,"SmartTV"],[V,ge],[R,N]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[V,"LG"],[R,N]],[/(apple) ?tv/i],[V,[M,ce+" TV"],[R,N]],[/crkey/i],[[M,K+"cast"],[V,me],[R,N]],[/droid.+aft(\w)( bui|\))/i],[M,[V,J],[R,N]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[M,[V,"Sharp"],[R,N]],[/(bravia[\w ]+)( bui|\))/i],[M,[V,ke],[R,N]],[/(mitv-\w{5}) bui/i],[M,[V,we],[R,N]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[V,ve],[M,ve],[R,N]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[R,N]],[/((pebble))app/i],[V,M,[R,C]],[/droid.+; (glass) \d/i],[M,[V,me],[R,C]],[/droid.+; (wt63?0{2,3})\)/i],[M,[V,Ke],[R,C]],[/(quest( 2)?)/i],[M,[V,st],[R,C]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[V,[R,B]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[M,[R,O]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[M,[R,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[R,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[R,O]],[/(android[-\w\. ]{0,9});.+buil/i],[M,[V,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[k,[U,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[k,[U,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[U,k],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[k,U]],os:[[/microsoft (windows) (vista|xp)/i],[U,k],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[U,[k,X,ie]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[U,"Windows"],[k,X,ie]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[k,/_/g,"."],[U,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[U,"Mac OS"],[k,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[k,U],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[U,k],[/\(bb(10);/i],[k,[U,q]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[k,[U,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[k,[U,se+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[k,[U,"webOS"]],[/crkey\/([\d\.]+)/i],[k,[U,K+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[U,"Chromium OS"],k],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[U,k],[/(sunos) ?([\w\.\d]*)/i],[[U,"Solaris"],k],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[U,k]]},te=function(ye,ue){if(typeof ye===f&&(ue=ye,ye=w),!(this instanceof te))return new te(ye,ue).getResult();var Me=ye||(typeof b!==p&&b.navigator&&b.navigator.userAgent?b.navigator.userAgent:""),Ye=ue?function(ye,ue){var Me={};for(var Ye in ye)Me[Ye]=ue[Ye]&&ue[Ye].length%2==0?ue[Ye].concat(ye[Ye]):ye[Ye];return Me}(re,ue):re;return this.getBrowser=function(){var Ge={};return Ge[U]=w,Ge[k]=w,Q.call(Ge,Me,Ye.browser),Ge.major=function(ye){return typeof ye===g?ye.replace(/[^\d\.]/g,"").split(".")[0]:w}(Ge.version),Ge},this.getCPU=function(){var Ge={};return Ge[P]=w,Q.call(Ge,Me,Ye.cpu),Ge},this.getDevice=function(){var Ge={};return Ge[V]=w,Ge[M]=w,Ge[R]=w,Q.call(Ge,Me,Ye.device),Ge},this.getEngine=function(){var Ge={};return Ge[U]=w,Ge[k]=w,Q.call(Ge,Me,Ye.engine),Ge},this.getOS=function(){var Ge={};return Ge[U]=w,Ge[k]=w,Q.call(Ge,Me,Ye.os),Ge},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Me},this.setUA=function(Ge){return Me=typeof Ge===g&&Ge.length>350?ve(Ge,350):Ge,this},this.setUA(Me),this};te.VERSION="1.0.32",te.BROWSER=Ne([U,k,"major"]),te.CPU=Ne([P]),te.DEVICE=Ne([M,V,R,x,O,N,T,C,B]),te.ENGINE=te.OS=Ne([U,k]),typeof S!==p?(typeof nt!==p&&nt.exports&&(S=nt.exports=te),S.UAParser=te):c(
/*! !webpack amd options */
"./node_modules/webpack/buildin/amd-options.js")?(t=function(){return te}.call(S,c,S,nt))!==w&&(nt.exports=t):typeof b!==p&&(b.UAParser=te);var ee=typeof b!==p&&(b.jQuery||b.Zepto);if(ee&&!ee.ua){var fe=new te;ee.ua=fe.getResult(),ee.ua.get=function(){return fe.getUA()},ee.ua.set=function(ye){fe.setUA(ye);var ue=fe.getResult();for(var Me in ue)ee.ua[Me]=ue[Me]}}}("object"==typeof window?window:this)},"./node_modules/util-deprecate/browser.js":
/*!************************************************!*\
                  !*** ./node_modules/util-deprecate/browser.js ***!
                  \************************************************/
/*! no static exports found */function(nt,S,c){(function(t){function w(E){try{if(!t.localStorage)return!1}catch{return!1}var F=t.localStorage[E];return null!=F&&"true"===String(F).toLowerCase()}nt.exports=function b(E,F){if(w("noDeprecation"))return E;var L=!1;return function D(){if(!L){if(w("throwDeprecation"))throw new Error(F);w("traceDeprecation")?console.trace(F):console.warn(F),L=!0}return E.apply(this,arguments)}}}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
                  !*** (webpack)/buildin/amd-options.js ***!
                  \****************************************/
/*! no static exports found */function(nt,S){(function(c){nt.exports=c}).call(this,{})},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
                  !*** (webpack)/buildin/global.js ***!
                  \***********************************/
/*! no static exports found */function(nt,S){var c;c=function(){return this}();try{c=c||new Function("return this")()}catch{"object"==typeof window&&(c=window)}nt.exports=c},"./src/core/Debug.js":
/*!***************************!*\
                  !*** ./src/core/Debug.js ***!
                  \***************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./EventBus */
"./src/core/EventBus.js"),b=c(
/*! ./events/Events */
"./src/core/events/Events.js"),w=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),F=1,L=2,D=3,p=4,f=5;function g(M){M=M||{};var P,x,O,T,U=this.context,R=Object(t.default)(U).getInstance(),V=M.settings,k=[];function C(se){return se&&se.bind?se.bind(window.console):window.console.log.bind(window.console)}function ce(){for(var se=arguments.length,me=new Array(se),De=0;De<se;De++)me[De]=arguments[De];_e.apply(void 0,[F,this].concat(me))}function Fe(){for(var se=arguments.length,me=new Array(se),De=0;De<se;De++)me[De]=arguments[De];_e.apply(void 0,[L,this].concat(me))}function q(){for(var se=arguments.length,me=new Array(se),De=0;De<se;De++)me[De]=arguments[De];_e.apply(void 0,[D,this].concat(me))}function le(){for(var se=arguments.length,me=new Array(se),De=0;De<se;De++)me[De]=arguments[De];_e.apply(void 0,[p,this].concat(me))}function K(){for(var se=arguments.length,me=new Array(se),De=0;De<se;De++)me[De]=arguments[De];_e.apply(void 0,[f,this].concat(me))}function _e(se,me){var De="",Le=null;x&&(Le=(new Date).getTime(),De+="["+(Le-T)+"]"),O&&me&&me.getClassName&&(De+="["+me.getClassName()+"]",me.getType&&(De+="["+me.getType()+"]")),De.length>0&&(De+=" ");for(var he=arguments.length,Re=new Array(he>2?he-2:0),Ie=2;Ie<he;Ie++)Re[Ie-2]=arguments[Ie];Array.apply(null,Re).forEach(function(ge){De+=ge+" "}),k[se]&&V.get().debug.logLevel>=se&&k[se](De),V&&V.get().debug.dispatchEvent&&R.trigger(b.default.LOG,{message:De,level:se})}return P={getLogger:function B(se){return{fatal:ce.bind(se),error:Fe.bind(se),warn:q.bind(se),info:le.bind(se),debug:K.bind(se)}},setLogTimestampVisible:function Y(se){x=se},setCalleeNameVisible:function J(se){O=se}},function N(){x=!0,O=!0,T=(new Date).getTime(),typeof window<"u"&&window.console&&(k[F]=C(window.console.error),k[L]=C(window.console.error),k[D]=C(window.console.warn),k[p]=C(window.console.info),k[f]=C(window.console.debug))}(),P}g.__dashjs_factory_name="Debug";var y=w.default.getSingletonFactory(g);y.LOG_LEVEL_NONE=0,y.LOG_LEVEL_FATAL=F,y.LOG_LEVEL_ERROR=L,y.LOG_LEVEL_WARNING=D,y.LOG_LEVEL_INFO=p,y.LOG_LEVEL_DEBUG=f,w.default.updateSingletonFactory(g.__dashjs_factory_name,y),S.default=y},"./src/core/EventBus.js":
/*!******************************!*\
                  !*** ./src/core/EventBus.js ***!
                  \******************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function F(){var D={};function y(R,V,k){var P=-1;return D[R]&&D[R].some(function(x,O){if(x&&x.callback===V&&(!k||k===x.scope))return P=O,!0}),P}return{on:function p(R,V,k){var P=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!R)throw new Error("event type cannot be null or undefined");if(!V||"function"!=typeof V)throw new Error("listener must be a function: "+V);var x=P.priority||0;if(!(y(R,V,k)>=0)){D[R]=D[R]||[];var O={callback:V,scope:k,priority:x};k&&k.getStreamId&&(O.streamId=k.getStreamId()),k&&k.getType&&(O.mediaType=k.getType()),P&&P.mode&&(O.mode=P.mode),D[R].some(function(N,C){if(N&&x>N.priority)return D[R].splice(C,0,O),!0})||D[R].push(O)}},off:function f(R,V,k){if(R&&V&&D[R]){var P=y(R,V,k);P<0||(D[R][P]=null)}},trigger:function g(R){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(R&&D[R]){if((V=V||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");V.type=R,k.streamId&&(V.streamId=k.streamId),k.mediaType&&(V.mediaType=k.mediaType),D[R].filter(function(P){return!(!P||k.streamId&&P.streamId&&P.streamId!==k.streamId||k.mediaType&&P.mediaType&&P.mediaType!==k.mediaType||k.mode&&P.mode&&P.mode!==k.mode||!P.mode&&k.mode&&k.mode===b.default.EVENT_MODE_ON_RECEIVE)}).forEach(function(P){return P&&P.callback.call(P.scope,V)})}},reset:function M(){D={}}}}F.__dashjs_factory_name="EventBus";var L=t.default.getSingletonFactory(F);L.EVENT_PRIORITY_LOW=0,L.EVENT_PRIORITY_HIGH=5e3,t.default.updateSingletonFactory(F.__dashjs_factory_name,L),S.default=L},"./src/core/FactoryMaker.js":
/*!**********************************!*\
                  !*** ./src/core/FactoryMaker.js ***!
                  \**********************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=function(){var b,w=[],E={},F={};function D(O,T){for(var N in w){var C=w[N];if(C.context===O&&C.name===T)return C.instance}return null}function g(O,T){return T[O]}function y(O,T,N){O in N&&(N[O]=T)}function x(O,T,N){var C,B=O.__dashjs_factory_name,Y=T[B];if(Y){var J=Y.instance;if(!Y.override)return J.apply({context:T,factory:b},N);for(var ce in C=O.apply({context:T},N),J=J.apply({context:T,factory:b,parent:C},N))C.hasOwnProperty(ce)&&(C[ce]=J[ce])}else C=O.apply({context:T},N);return C.getClassName=function(){return B},C}return b={extend:function L(O,T,N,C){!C[O]&&T&&(C[O]={instance:T,override:N})},getSingletonInstance:D,setSingletonInstance:function p(O,T,N){for(var C in w){var B=w[C];if(B.context===O&&B.name===T)return void(w[C].instance=N)}w.push({name:T,context:O,instance:N})},deleteSingletonInstances:function f(O){w=w.filter(function(T){return T.context!==O})},getSingletonFactory:function P(O){var T=g(O.__dashjs_factory_name,E);return T||(T=function(C){var B;return void 0===C&&(C={}),{getInstance:function(){return B||(B=D(C,O.__dashjs_factory_name)),B||(B=x(O,C,arguments),w.push({name:O.__dashjs_factory_name,context:C,instance:B})),B}}},E[O.__dashjs_factory_name]=T),T},getSingletonFactoryByName:function k(O){return g(O,E)},updateSingletonFactory:function V(O,T){y(O,T,E)},getClassFactory:function R(O){var T=g(O.__dashjs_factory_name,F);return T||(T=function(C){return void 0===C&&(C={}),{create:function(){return x(O,C,arguments)}}},F[O.__dashjs_factory_name]=T),T},getClassFactoryByName:function U(O){return g(O,F)},updateClassFactory:function M(O,T){y(O,T,F)}}}();S.default=t},"./src/core/Settings.js":
/*!******************************!*\
                  !*** ./src/core/Settings.js ***!
                  \******************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ./Utils.js */
"./src/core/Utils.js"),w=c(
/*! ../core/Debug */
"./src/core/Debug.js"),E=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),F=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),L=c(
/*! ./EventBus */
"./src/core/EventBus.js"),D=c(
/*! ./events/Events */
"./src/core/events/Events.js");function p(R){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(R)}function f(R,V,k){return(V=function g(R){var V=function y(R,V){if("object"!==p(R)||null===R)return R;var k=R[Symbol.toPrimitive];if(void 0!==k){var P=k.call(R,V||"default");if("object"!==p(P))return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===V?String:Number)(R)}(R,"string");return"symbol"===p(V)?V:String(V)}(V))in R?Object.defineProperty(R,V,{value:k,enumerable:!0,configurable:!0,writable:!0}):R[V]=k,R}function M(){var R,V,P=this.context,x=Object(L.default)(P).getInstance(),O={"streaming.delay.liveDelay":D.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":D.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":D.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":D.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":D.default.SETTING_UPDATED_PLAYBACK_RATE_MAX},T={debug:{logLevel:w.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:E.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:E.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:E.default.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:E.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(R={},f(R,F.HTTPRequest.MPD_TYPE,500),f(R,F.HTTPRequest.XLINK_EXPANSION_TYPE,500),f(R,F.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.INIT_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.LICENSE,1e3),f(R,F.HTTPRequest.OTHER_TYPE,1e3),f(R,"lowLatencyReductionFactor",10),R),retryAttempts:(V={},f(V,F.HTTPRequest.MPD_TYPE,3),f(V,F.HTTPRequest.XLINK_EXPANSION_TYPE,1),f(V,F.HTTPRequest.MEDIA_SEGMENT_TYPE,3),f(V,F.HTTPRequest.INIT_SEGMENT_TYPE,3),f(V,F.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),f(V,F.HTTPRequest.INDEX_SEGMENT_TYPE,3),f(V,F.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),f(V,F.HTTPRequest.LICENSE,3),f(V,F.HTTPRequest.OTHER_TYPE,3),f(V,"lowLatencyMultiplyFactor",5),V),abr:{movingAverageMethod:E.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:E.default.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:E.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:E.default.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]}},errors:{recoverAttempts:{mediaErrorDecode:5}}},N=b.default.clone(T);function C(ce,Fe,q){for(var le in ce)ce.hasOwnProperty(le)&&(Fe.hasOwnProperty(le)?"object"!==p(ce[le])||ce[le]instanceof Array||null===ce[le]?(Fe[le]=b.default.clone(ce[le]),O[q+le]&&x.trigger(O[q+le])):C(ce[le],Fe[le],q.slice()+le+"."):console.error("Settings parameter "+q+le+" is not supported"))}return{get:function B(){return N},update:function Y(ce){"object"===p(ce)&&C(ce,N,"")},reset:function J(){N=b.default.clone(T)}}}M.__dashjs_factory_name="Settings";var U=t.default.getSingletonFactory(M);S.default=U},"./src/core/Utils.js":
/*!***************************!*\
                  !*** ./src/core/Utils.js ***!
                  \***************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! path-browserify */
"./node_modules/path-browserify/index.js"),b=c.n(t),w=c(
/*! ua-parser-js */
"./node_modules/ua-parser-js/src/ua-parser.js");function F(M){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(M)}function D(M,U){for(var R=0;R<U.length;R++){var V=U[R];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(M,f(V.key),V)}}function f(M){var U=function g(M,U){if("object"!==F(M)||null===M)return M;var R=M[Symbol.toPrimitive];if(void 0!==R){var V=R.call(M,U||"default");if("object"!==F(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===U?String:Number)(M)}(M,"string");return"symbol"===F(U)?U:String(U)}var y=function(){function M(){!function L(M,U){if(!(M instanceof U))throw new TypeError("Cannot call a class as a function")}(this,M)}return function p(M,U,R){return U&&D(M.prototype,U),R&&D(M,R),Object.defineProperty(M,"prototype",{writable:!1}),M}(M,null,[{key:"mixin",value:function(R,V,k){var P,x={};if(R)for(var O in V)V.hasOwnProperty(O)&&(P=V[O],(!(O in R)||R[O]!==P&&(!(O in x)||x[O]!==P))&&(R[O]="object"===F(R[O])&&null!==R[O]?M.mixin(R[O],P,k):k(P)));return R}},{key:"clone",value:function(R){if(!R||"object"!==F(R))return R;var V;if(R instanceof Array){V=[];for(var k=0,P=R.length;k<P;++k)k in R&&V.push(M.clone(R[k]))}else V={};return M.mixin(V,R,M.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(R,V){try{if(!V||0===V.length)return R;var k=new URL(R);return V.forEach(function(P){P.key&&P.value&&k.searchParams.set(P.key,P.value)}),k.href}catch{return R}}},{key:"parseHttpHeaders",value:function(R){var V={};if(!R)return V;for(var k=R.trim().split("\r\n"),P=0,x=k.length;P<x;P++){var O=k[P],T=O.indexOf(": ");T>0&&(V[O.substring(0,T)]=O.substring(T+2))}return V}},{key:"generateUuid",value:function(){var R=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(k){var P=(R+16*Math.random())%16|0;return R=Math.floor(R/16),("x"==k?P:3&P|8).toString(16)})}},{key:"generateHashCode",value:function(R){var V=0;if(0===R.length)return V;for(var k=0;k<R.length;k++)V=(V<<5)-V+R.charCodeAt(k),V|=0;return V}},{key:"getRelativeUrl",value:function(R,V){try{var k=new URL(R),P=new URL(V);if(k.protocol=P.protocol,k.origin!==P.origin)return V;var x=b.a.relative(k.pathname.substr(0,k.pathname.lastIndexOf("/")),P.pathname.substr(0,P.pathname.lastIndexOf("/"))),O=0===x.length?1:0;return x+=P.pathname.substr(P.pathname.lastIndexOf("/")+O,P.pathname.length-1),P.pathname.length<x.length?P.pathname:x}catch{return V}}},{key:"parseUserAgent",value:function(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var V=null===R&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return Object(w.UAParser)(V)}catch{return{}}}}]),M}();S.default=y},"./src/core/Version.js":
/*!*****************************!*\
                  !*** ./src/core/Version.js ***!
                  \*****************************/
/*! exports provided: getVersionString */function(nt,S,c){"use strict";c.r(S),c.d(S,"getVersionString",function(){return b});var t="4.5.2";function b(){return t}},"./src/core/errors/Errors.js":
/*!***********************************!*\
                  !*** ./src/core/errors/Errors.js ***!
                  \***********************************/
/*! exports provided: default */function(nt,S,c){"use strict";function b(P){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function w(P,x){for(var O=0;O<x.length;O++){var T=x[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,F(T.key),T)}}function F(P){var x=function L(P,x){if("object"!==b(P)||null===P)return P;var O=P[Symbol.toPrimitive];if(void 0!==O){var T=O.call(P,x||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===b(x)?x:String(x)}function p(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&f(P,x)}function f(P,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function g(P){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(P);if(x){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function y(P,x){if(x&&("object"===b(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function M(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function R(P){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(P)}c.r(S);var k=new(function(P){p(O,P);var x=g(O);function O(){var T;return function D(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,O),(T=x.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,T.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,T.SEGMENT_BASE_LOADER_ERROR_CODE=15,T.TIME_SYNC_FAILED_ERROR_CODE=16,T.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,T.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,T.APPEND_ERROR_CODE=20,T.REMOVE_ERROR_CODE=21,T.DATA_UPDATE_FAILED_ERROR_CODE=22,T.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,T.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,T.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,T.DOWNLOAD_ERROR_ID_SIDX_CODE=26,T.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,T.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,T.DOWNLOAD_ERROR_ID_XLINK_CODE=29,T.MANIFEST_ERROR_ID_PARSE_CODE=31,T.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,T.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,T.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,T.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,T.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",T.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",T.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",T.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",T.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",T.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",T.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",T.APPEND_ERROR_MESSAGE="chunk is not defined",T.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",T.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",T.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",T.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",T.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",T.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",T}return function E(P,x,O){return x&&w(P.prototype,x),O&&w(P,O),Object.defineProperty(P,"prototype",{writable:!1}),P}(O)}(c(
/*! ./ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));S.default=k},"./src/core/errors/ErrorsBase.js":
/*!***************************************!*\
                  !*** ./src/core/errors/ErrorsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,F(y.key),y)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(){!function b(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p)}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"extend",value:function(g,y){if(g){var M=!!y&&y.override,U=!!y&&y.publicOnly;for(var R in g)!g.hasOwnProperty(R)||this[R]&&!M||U&&-1===g[R].indexOf("public_")||(this[R]=g[R])}}}]),p}()},"./src/core/events/CoreEvents.js":
/*!***************************************!*\
                  !*** ./src/core/events/CoreEvents.js ***!
                  \***************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./EventsBase */
"./src/core/events/EventsBase.js");function b(k){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(k)}function w(k,P){for(var x=0;x<P.length;x++){var O=P[x];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,F(O.key),O)}}function F(k){var P=function L(k,P){if("object"!==b(k)||null===k)return k;var x=k[Symbol.toPrimitive];if(void 0!==x){var O=x.call(k,P||"default");if("object"!==b(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===P?String:Number)(k)}(k,"string");return"symbol"===b(P)?P:String(P)}function p(k,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(P&&P.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),P&&f(k,P)}function f(k,P){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,T){return O.__proto__=T,O})(k,P)}function g(k){var P=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,O=R(k);if(P){var N=R(this).constructor;T=Reflect.construct(O,arguments,N)}else T=O.apply(this,arguments);return function y(k,P){if(P&&("object"===b(P)||"function"==typeof P))return P;if(void 0!==P)throw new TypeError("Derived constructors may only return object or undefined");return function M(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function R(k){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)})(k)}S.default=function(k){p(x,k);var P=g(x);function x(){var O;return function D(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}(this,x),(O=P.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",O.BUFFERING_COMPLETED="bufferingCompleted",O.BUFFER_CLEARED="bufferCleared",O.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",O.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",O.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",O.CURRENT_TRACK_CHANGED="currentTrackChanged",O.DATA_UPDATE_COMPLETED="dataUpdateCompleted",O.INBAND_EVENTS="inbandEvents",O.INITIAL_STREAM_SWITCH="initialStreamSwitch",O.INIT_FRAGMENT_LOADED="initFragmentLoaded",O.INIT_FRAGMENT_NEEDED="initFragmentNeeded",O.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",O.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",O.LOADING_COMPLETED="loadingCompleted",O.LOADING_PROGRESS="loadingProgress",O.LOADING_DATA_PROGRESS="loadingDataProgress",O.LOADING_ABANDONED="loadingAborted",O.MANIFEST_UPDATED="manifestUpdated",O.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",O.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",O.QUOTA_EXCEEDED="quotaExceeded",O.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",O.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",O.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",O.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",O.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",O.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",O.SOURCE_BUFFER_ERROR="sourceBufferError",O.STREAMS_COMPOSED="streamsComposed",O.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",O.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",O.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",O.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",O.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",O.URL_RESOLUTION_FAILED="urlResolutionFailed",O.VIDEO_CHUNK_RECEIVED="videoChunkReceived",O.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",O.XLINK_ELEMENT_LOADED="xlinkElementLoaded",O.XLINK_READY="xlinkReady",O.SEEK_TARGET="seekTarget",O.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",O.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",O.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",O.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",O.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",O}return function E(k,P,x){return P&&w(k.prototype,P),x&&w(k,x),Object.defineProperty(k,"prototype",{writable:!1}),k}(x)}(t.default)},"./src/core/events/Events.js":
/*!***********************************!*\
                  !*** ./src/core/events/Events.js ***!
                  \***********************************/
/*! exports provided: default */function(nt,S,c){"use strict";function b(P){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function w(P,x){for(var O=0;O<x.length;O++){var T=x[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,F(T.key),T)}}function F(P){var x=function L(P,x){if("object"!==b(P)||null===P)return P;var O=P[Symbol.toPrimitive];if(void 0!==O){var T=O.call(P,x||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===b(x)?x:String(x)}function p(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&f(P,x)}function f(P,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function g(P){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(P);if(x){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function y(P,x){if(x&&("object"===b(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function M(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function R(P){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(P)}c.r(S);var V=function(P){p(O,P);var x=g(O);function O(){return function D(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,O),x.apply(this,arguments)}return function E(P,x,O){return x&&w(P.prototype,x),O&&w(P,O),Object.defineProperty(P,"prototype",{writable:!1}),P}(O)}(c(
/*! ./CoreEvents */
"./src/core/events/CoreEvents.js").default),k=new V;S.default=k},"./src/core/events/EventsBase.js":
/*!***************************************!*\
                  !*** ./src/core/events/EventsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,F(y.key),y)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(){!function b(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p)}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"extend",value:function(g,y){if(g){var M=!!y&&y.override,U=!!y&&y.publicOnly;for(var R in g)!g.hasOwnProperty(R)||this[R]&&!M||U&&-1===g[R].indexOf("public_")||(this[R]=g[R])}}}]),p}()},"./src/dash/DashAdapter.js":
/*!*********************************!*\
                  !*** ./src/dash/DashAdapter.js ***!
                  \*********************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=c(
/*! ./vo/RepresentationInfo */
"./src/dash/vo/RepresentationInfo.js"),w=c(
/*! ./vo/MediaInfo */
"./src/dash/vo/MediaInfo.js"),E=c(
/*! ./vo/StreamInfo */
"./src/dash/vo/StreamInfo.js"),F=c(
/*! ./vo/ManifestInfo */
"./src/dash/vo/ManifestInfo.js"),L=c(
/*! ./vo/Event */
"./src/dash/vo/Event.js"),D=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ./models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),f=c(
/*! ./models/PatchManifestModel */
"./src/dash/models/PatchManifestModel.js"),g=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),y=c.n(g);function M(){var U,R,V,k,P,x,O,T=this.context;function ce(xe){return R.getRolesForAdaptation(xe).filter(function(Oe){return Oe.value===t.default.MAIN})[0]}function Fe(xe,Oe,We){var $e=R.getAdaptationsForType(k[0].mpd.manifest,xe,Oe);if(!$e||0===$e.length)return null;if($e.length>1&&We){var lt=K(We,Oe);if(P[We.id]&&P[We.id][Oe])for(var ot=0,dt=$e.length;ot<dt;ot++)if(q(P[We.id][Oe],lt[ot]))return $e[ot];for(var Lt=0,zt=$e.length;Lt<zt;Lt++)if(ce($e[Lt]))return $e[Lt]}return $e[0]}function q(xe,Oe){if(!xe||!Oe)return!1;var We=xe.id===Oe.id,$e=xe.codec===Oe.codec,lt=xe.viewpoint===Oe.viewpoint,ot=xe.lang===Oe.lang,dt=xe.roles.toString()===Oe.roles.toString(),Lt=xe.accessibility.toString()===Oe.accessibility.toString(),zt=xe.audioChannelConfiguration.toString()===Oe.audioChannelConfiguration.toString();return We&&$e&&lt&&ot&&dt&&Lt&&zt}function le(xe,Oe,We,$e,lt,ot){var zt,Rt,$t,an,mn,dt=[];if(!$e||0===$e.length)return[];var An=R.getAdaptationsForPeriod(Oe);for($t=0,mn=$e.length;$t<mn;$t++)if(zt=jt(An[Rt=R.getIndexForAdaptation($e[$t],xe,We.index)]),ot){var Ln=zt.accessibility.length;for(an=0;an<Ln;an++)if(zt){var Zn=zt.accessibility[an];if(0===Zn.indexOf("cea-608:")){var ci=Zn.substring(8).split(";");if("CC"===ci[0].substring(0,2))for(an=0;an<ci.length;an++)zt||(zt=jt.call(this,An[Rt])),Qt(zt,ci[an].substring(0,3),ci[an].substring(4)),dt.push(zt),zt=null;else for(an=0;an<ci.length;an++)zt||(zt=jt.call(this,An[Rt])),Qt(zt,"CC"+(an+1),ci[an]),dt.push(zt),zt=null}else 0===Zn.indexOf("cea-608")&&(Qt(zt,x.CC1,"eng"),dt.push(zt),zt=null)}}else lt===x.IMAGE?(cn(zt),dt.push(zt),zt=null):zt&&dt.push(zt);return dt}function K(xe,Oe,We){var $e=k,lt=We,ot=[];if(lt)Cn(),$e=Se(lt);else{if(!(k.length>0))return ot;lt=k[0].mpd.manifest}var dt=At(xe,$e),Lt=R.getAdaptationsForType(lt,xe?xe.index:null,Oe);return ot=le(lt,dt,xe,Lt,Oe),Oe===x.TEXT&&(Lt=R.getAdaptationsForType(lt,xe?xe.index:null,x.VIDEO),ot=ot.concat(le(lt,dt,xe,Lt,Oe,!0))),ot}function Se(xe){var Oe=W(xe);return R.getRegularPeriods(Oe)}function W(xe){var Oe=_t(xe);return R.getMpd(Oe)}function at(){k=[],P={}}function _t(xe){return xe||(k.length>0?k[0].mpd.manifest:null)}function Bt(xe){try{var Oe=At(xe.streamInfo,k),We=R.getAdaptationsForPeriod(Oe);return xe&&xe.streamInfo&&void 0!==xe.streamInfo.id&&We?We[xe.index]:null}catch{return null}}function At(xe,Oe){for(var We=Oe.length,$e=0;$e<We;$e++){var lt=Oe[$e];if(xe&&xe.id===lt.id)return lt}return null}function jt(xe){if(!xe)return null;var $e,Oe=new w.default,We=xe.period.mpd.manifest.Period_asArray[xe.period.index].AdaptationSet_asArray[xe.index];if(Oe.id=xe.id,Oe.index=xe.index,Oe.type=xe.type,Oe.streamInfo=dn(xe.period),Oe.representationCount=R.getRepresentationCount(We),Oe.labels=R.getLabelsForAdaptation(We),Oe.lang=R.getLanguageForAdaptation(We),$e=R.getViewpointForAdaptation(We),Oe.viewpoint=$e?$e.value:void 0,Oe.accessibility=R.getAccessibilityForAdaptation(We).map(function(dt){var Lt=dt.value,zt=Lt;return dt.schemeIdUri&&dt.schemeIdUri.search("cea-608")>=0&&typeof O<"u"&&(zt=Lt?"cea-608:"+Lt:"cea-608",Oe.embeddedCaptions=!0),zt}),Oe.audioChannelConfiguration=R.getAudioChannelConfigurationForAdaptation(We).map(function(dt){return dt.value}),0===Oe.audioChannelConfiguration.length&&Array.isArray(We.Representation_asArray)&&We.Representation_asArray.length>0&&(Oe.audioChannelConfiguration=R.getAudioChannelConfigurationForRepresentation(We.Representation_asArray[0]).map(function(dt){return dt.value})),Oe.roles=R.getRolesForAdaptation(We).map(function(dt){return dt.value}),Oe.codec=R.getCodec(We),Oe.mimeType=R.getMimeType(We),Oe.contentProtection=R.getContentProtectionData(We),Oe.bitrateList=R.getBitrateListForAdaptation(We),Oe.selectionPriority=R.getSelectionPriority(We),Oe.contentProtection){var lt=Oe.contentProtection.map(function(dt){return R.getKID(dt)}).filter(function(dt){return null!==dt});if(lt.length){var ot=lt[0];Oe.contentProtection.forEach(function(dt){dt.keyId=ot})}}return Oe.isText=R.getIsText(We),Oe.supplementalProperties=R.getSupplementalProperties(We),Oe.isFragmented=R.getIsFragmented(We),Oe.isEmbedded=!1,Oe}function Qt(xe,Oe,We){xe.id=Oe,xe.index=100+parseInt(Oe.substring(2,3)),xe.type=x.TEXT,xe.codec="cea-608-in-SEI",xe.isEmbedded=!0,xe.isFragmented=!1,xe.lang=y()(We),xe.roles=["caption"]}function cn(xe){xe.type=x.IMAGE}function dn(xe){var Oe=new E.default;return Oe.id=xe.id,Oe.index=xe.index,Oe.start=xe.start,Oe.duration=xe.duration,Oe.manifestInfo=function Gt(xe){var Oe=new F.default;return Oe.dvrWindowSize=xe.timeShiftBufferDepth,Oe.loadedTime=xe.manifest.loadedTime,Oe.availableFrom=xe.availabilityStartTime,Oe.minBufferTime=xe.manifest.minBufferTime,Oe.maxFragmentDuration=xe.maxSegmentDuration,Oe.duration=R.getDuration(xe.manifest),Oe.isDynamic=R.getIsDynamic(xe.manifest),Oe.serviceDescriptions=R.getServiceDescriptions(xe.manifest),Oe.protocol=xe.manifest.protocol,Oe}(xe.mpd),Oe.isLast=1===xe.mpd.manifest.Period_asArray.length||Math.abs(Oe.start+Oe.duration-Oe.manifestInfo.duration)<1,Oe}function Cn(){if(!x)throw new Error("setConfig function has to be called previously")}function en(xe){return k.length>0?k[0].mpd.manifest.Period_asArray[xe]:null}function ft(xe,Oe,We){var lt,ot,dt,Lt,zt;if(xe)for(lt=xe.AdaptationSet_asArray,Lt=0;Lt<lt.length;Lt+=1)for(dt=lt[Lt].Representation_asArray,zt=0;zt<dt.length;zt+=1)if(Oe===(ot=dt[zt]).id)return We?zt:ot;return null}return U={getBandwidthForRepresentation:function ye(xe,Oe){var We;return(We=ft(en(Oe),xe))?We.bandwidth:null},getIndexForRepresentation:function ue(xe,Oe){return function xt(xe,Oe){var We=ft(xe,Oe,!0);return null!==We?We:-1}(en(Oe),xe)},getMaxIndexForBufferType:function Me(xe,Oe){return function Xe(xe,Oe){var We,$e,lt,ot;if(!xe||!Oe)return-1;for($e=xe.AdaptationSet_asArray,ot=0;ot<$e.length;ot+=1)if(lt=(We=$e[ot]).Representation_asArray,R.getIsTypeOf(We,Oe))return lt.length;return-1}(en(Oe),xe)},convertRepresentationToRepresentationInfo:function Y(xe){if(xe){var Oe=new b.default,$e=R.getRepresentationFor(xe.index,xe.adaptation.period.mpd.manifest.Period_asArray[xe.adaptation.period.index].AdaptationSet_asArray[xe.adaptation.index]);return Oe.id=xe.id,Oe.quality=xe.index,Oe.bandwidth=R.getBandwidth($e),Oe.fragmentDuration=xe.segmentDuration||(xe.segments&&xe.segments.length>0?xe.segments[0].duration:NaN),Oe.MSETimeOffset=xe.MSETimeOffset,Oe.mediaInfo=jt(xe.adaptation),Oe}return null},getStreamsInfo:function se(xe,Oe){var We=[],$e=k;if(xe&&(Cn(),$e=Se(xe)),$e.length>0){(!Oe||Oe>$e.length)&&(Oe=$e.length);for(var lt=0;lt<Oe;lt++)We.push(dn($e[lt]))}return We},getMediaInfoForType:function J(xe,Oe){if(0===k.length||!xe)return null;var We=At(xe,k);if(!We)return null;var $e=R.getAdaptationsForPeriod(We),lt=Fe(xe.index,Oe,xe);return lt?jt($e[R.getIndexForAdaptation(lt,k[0].mpd.manifest,xe.index)]):null},getAllMediaInfoForType:K,getAdaptationForType:Fe,getRealAdaptation:function me(xe,Oe){var We,$e,lt=At(xe,k);return We=Oe?Oe.id:null,k.length>0&&lt&&($e=We?R.getAdaptationForId(We,k[0].mpd.manifest,lt.index):R.getAdaptationForIndex(Oe?Oe.index:null,k[0].mpd.manifest,lt.index)),$e},getProducerReferenceTimes:function De(xe,Oe){var We,$e,lt=At(xe,k);return We=Oe?Oe.id:null,k.length>0&&lt&&($e=We?R.getAdaptationForId(We,k[0].mpd.manifest,lt.index):R.getAdaptationForIndex(Oe?Oe.index:null,k[0].mpd.manifest,lt.index)),$e?R.getProducerReferenceTimesForAdaptation($e):[]},getRealPeriodByIndex:function he(xe){return R.getRealPeriodForIndex(xe,k[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function Le(xe){try{return R.getEssentialPropertiesForRepresentation(xe)}catch{return[]}},getVoRepresentations:function Re(xe){var We=Bt(xe);return R.getRepresentationsForAdaptation(We)},getEventsFor:function ge(xe,Oe,We){var $e=[];if(k.length>0){var lt=k[0].mpd.manifest;if(xe instanceof E.default){var ot=At(xe,k);$e=R.getEventsForPeriod(ot)}else if(xe instanceof w.default){var dt=At(We,k);$e=R.getEventStreamForAdaptationSet(lt,Bt(xe),dt)}else if(xe instanceof b.default){var Lt=At(We,k);$e=R.getEventStreamForRepresentation(lt,Oe,Lt)}}return $e},getEvent:function Ie(xe,Oe,We,$e){try{if(!xe||!Oe||isNaN(We)||!$e)return null;var lt=xe.scheme_id_uri,ot=xe.value;if(!Oe[lt+"/"+ot])return null;var mn,dt=new L.default,Lt=xe.timescale||1,zt=$e.adaptation.period.start,Rt=Oe[lt+"/"+ot],$t=isNaN($e.presentationTimeOffset)?isNaN(Rt.presentationTimeOffset)?0:Rt.presentationTimeOffset:$e.presentationTimeOffset,an=xe.presentation_time_delta/Lt;mn=0===xe.version?zt+We-$t+an:zt-$t+an;var An=xe.event_duration/Lt,Ln=xe.id,Zn=xe.message_data;return dt.eventStream=Rt,dt.eventStream.value=ot,dt.eventStream.timescale=Lt,dt.duration=An,dt.id=Ln,dt.calculatedPresentationTime=mn,dt.messageData=Zn,dt.presentationTimeDelta=an,dt}catch{return null}},getMpd:W,setConfig:function B(xe){xe&&(xe.constants&&(x=xe.constants),xe.cea608parser&&(O=xe.cea608parser),xe.errHandler&&R.setConfig({errHandler:xe.errHandler}),xe.BASE64&&R.setConfig({BASE64:xe.BASE64}))},updatePeriods:function _e(xe){if(!xe)return null;Cn(),k=Se(xe)},getIsTextTrack:function ke(xe){return R.getIsText(xe)},getUTCTimingSources:function we(){var xe=_t();return R.getUTCTimingSources(xe)},getSuggestedPresentationDelay:function Ke(){return R.getSuggestedPresentationDelay(k.length>0?k[0].mpd:null)},getAvailabilityStartTime:function st(xe){var Oe=W(xe);return R.getAvailabilityStartTime(Oe)},getIsTypeOf:function Ge(xe,Oe){return R.getIsTypeOf(xe,Oe)},getIsDynamic:function Qe(xe){var Oe=_t(xe);return R.getIsDynamic(Oe)},getDuration:function Ne(xe){var Oe=_t(xe);return R.getDuration(Oe)},getRegularPeriods:Se,getContentSteering:function ae(xe){return R.getContentSteering(xe)},getLocation:function ve(xe){return R.getLocation(xe)},getPatchLocation:function $(xe){var Oe=R.getPatchLocation(xe),We=R.getPublishTime(xe);if(!Oe||!We)return null;if(Oe.hasOwnProperty("ttl")&&We){var $e=1e3*parseFloat(Oe.ttl);if(We.getTime()+$e<=(new Date).getTime())return null}return Oe.__text},getManifestUpdatePeriod:function Q(xe){return R.getManifestUpdatePeriod(xe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function X(xe){return R.getPublishTime(xe)},getIsDVB:function ie(xe){return R.hasProfile(xe,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function re(xe){return V.getIsPatch(xe)},getBaseURLsFromElement:function te(xe){return R.getBaseURLsFromElement(xe)},getRepresentationSortFunction:function ee(){return R.getRepresentationSortFunction()},getCodec:function fe(xe,Oe,We){return R.getCodec(xe,Oe,We)},getPeriodById:function Ye(xe){if(!xe||0===k.length)return null;var Oe=k.filter(function(We){return We.id===xe});return Oe&&Oe.length>0?Oe[0]:null},setCurrentMediaInfo:function Ue(xe,Oe,We){P[xe]=P[xe]||{},P[xe][Oe]=P[xe][Oe]||{},P[xe][Oe]=We},isPatchValid:function ct(xe,Oe){var We=R.getId(xe),$e=V.getMpdId(Oe),lt=R.getPublishTime(xe),ot=V.getPublishTime(Oe),dt=V.getOriginalPublishTime(Oe);return!!(We&&$e&&We==$e&&lt&&dt&&lt.getTime()==dt.getTime()&&ot&&lt.getTime()<ot.getTime())},applyPatchToManifest:function rt(xe,Oe){V.getPatchOperations(Oe).forEach(function(We){var $e=We.getMpdTarget(xe);if(null!==$e){var lt=$e.name,ot=$e.target,dt=$e.leaf;if(We.xpath.findsAttribute()){switch(We.action){case"add":case"replace":ot[lt]=We.value;break;case"remove":delete ot[lt]}return}var Lt=(ot[lt+"_asArray"]||[]).indexOf(dt),zt="prepend"===We.position||"before"===We.position;if(("remove"===We.action||"replace"===We.action)&&(delete ot[lt],-1!=Lt)){var Rt=ot[lt+"_asArray"];Rt.splice(Lt,1),Rt.length>1?ot[lt]=Rt:1==Rt.length?ot[lt]=Rt[0]:delete ot[lt+"_asArray"]}("add"===We.action||"replace"===We.action)&&Object.keys(We.value).forEach(function($t){var an=We.value[$t],mn=ot[$t+"_asArray"]||[];0===mn.length&&ot[$t]&&mn.push(ot[$t]),0===mn.length?mn=an:mn.splice.apply(mn,[$t==lt&&-1!=Lt?Lt+(zt?0:1)+("replace"==We.action?-1:0):zt?0:mn.length,0].concat(an)),ot[$t+"_asArray"]=mn,ot[$t]=1==mn.length?mn[0]:mn})}})},areMediaInfosEqual:q,reset:at},function C(){R=Object(p.default)(T).getInstance(),V=Object(f.default)(T).getInstance(),at()}(),U}M.__dashjs_factory_name="DashAdapter",S.default=D.default.getSingletonFactory(M)},"./src/dash/DashHandler.js":
/*!*********************************!*\
                  !*** ./src/dash/DashHandler.js ***!
                  \*********************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),b=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),w=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ./utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),L=c(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js");function f(g){var O,T,N,C,B,y=(g=g||{}).eventBus,M=g.debug,U=g.urlUtils,R=g.type,V=g.streamInfo,k=g.segmentsController,P=g.timelineConverter,x=g.baseURLController;function Fe(){return R}function le(){N=null}function _e(we,Ke,st){var Ne,Se,Qe=x.resolve(st.path);return Qe&&Ke!==Qe.url&&U.isRelative(Ke)?(Ne=Qe.url,Se=Qe.serviceLocation,Ke&&(Ne=U.resolve(Ke,Ne))):Ne=Ke,!U.isRelative(Ne)&&(we.url=Ne,we.serviceLocation=Se,!0)}function De(we,Ke){if(null==Ke)return null;var st=new t.default,Qe=Ke.representation,Ne=Qe.adaptation.period.mpd.manifest.Period_asArray[Qe.adaptation.period.index].AdaptationSet_asArray[Qe.adaptation.index].Representation_asArray[Qe.index].bandwidth,Se=Ke.media;return Se=Object(F.replaceTokenForTemplate)(Se,"Number",Ke.replacementNumber),Se=Object(F.replaceTokenForTemplate)(Se,"Time",Ke.replacementTime),Se=Object(F.replaceTokenForTemplate)(Se,"Bandwidth",Ne),Se=Object(F.replaceIDForTemplate)(Se,Qe.id),Se=Object(F.unescapeDollarsInTemplate)(Se),st.mediaType=Fe(),st.type=b.HTTPRequest.MEDIA_SEGMENT_TYPE,st.range=Ke.mediaRange,st.startTime=Ke.presentationStartTime,st.mediaStartTime=Ke.mediaStartTime,st.duration=Ke.duration,st.timescale=Qe.timescale,st.availabilityStartTime=Ke.availabilityStartTime,st.availabilityEndTime=Ke.availabilityEndTime,st.availabilityTimeComplete=Qe.availabilityTimeComplete,st.wallStartTime=Ke.wallStartTime,st.quality=Qe.index,st.index=Ke.index,st.mediaInfo=we,st.adaptationIndex=Qe.adaptation.index,st.representationId=Qe.id,_e(st,Se,Qe)?st:void 0}function he(we,Ke,st){var Qe=null;if(!Ke||!Ke.segmentInfoType)return Qe;var Ne=k.getSegmentByTime(Ke,st);return Ne&&(N=Ne,T.debug("Index for time "+st+" is "+Ne.index),Qe=De(we,Ne)),Qe}function ke(){T.debug("Dynamic stream complete"),B=!0}return O={initialize:function J(we){C=we,B=!1,k.initialize(we)},getStreamId:function ce(){return V.id},getType:Fe,getStreamInfo:function q(){return V},getInitRequest:function se(we,Ke){return Ke?function me(we,Ke,st){var Qe=new t.default,Ne=Ke.adaptation.period,Se=Ne.start;if(Qe.mediaType=st,Qe.type=b.HTTPRequest.INIT_SEGMENT_TYPE,Qe.range=Ke.range,Qe.availabilityStartTime=P.calcAvailabilityStartTimeFromPresentationTime(Se,Ke,C),Qe.availabilityEndTime=P.calcAvailabilityEndTimeFromPresentationTime(Se+Ne.duration,Ke,C),Qe.quality=Ke.index,Qe.mediaInfo=we,Qe.representationId=Ke.id,_e(Qe,Ke.initialization,Ke))return Qe.url=Object(F.replaceTokenForTemplate)(Qe.url,"Bandwidth",Ke.bandwidth),Qe}(we,Ke,Fe()):null},getSegmentRequestForTime:he,getCurrentIndex:function Ue(){return N?N.index:-1},getNextSegmentRequest:function Ie(we,Ke){var st=null;if(!Ke||!Ke.segmentInfoType)return null;var Qe=N?N.index+1:0,Ne=k.getSegmentByIndex(Ke,Qe,N?N.mediaStartTime:-1);if(Ne)st=De(we,Ne),N=Ne;else{if(C&&!B)return T.debug(Fe()+" No segment found at index: "+Qe+". Wait for next loop"),null;B=!0}return st},isLastSegmentRequested:function Le(we,Ke){if(!we||!N)return!1;if(B)return!0;if(!isFinite(we.adaptation.period.duration)||N.presentationStartTime+N.duration>Ke)return!1;if(we.mediaFinishedInformation&&!isNaN(we.mediaFinishedInformation.numberOfSegments)&&!isNaN(N.index)&&N.index>=we.mediaFinishedInformation.numberOfSegments-1){if(!C||we.segmentInfoType===L.default.SEGMENT_TEMPLATE)return!0;if(C&&we.segmentInfoType===L.default.SEGMENT_LIST&&we.adaptation.period.nextPeriodId)return!0}return!!(C&&we.adaptation.period.nextPeriodId&&we.segmentInfoType===L.default.SEGMENT_TIMELINE&&we.mediaFinishedInformation&&!isNaN(we.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&N&&!isNaN(N.mediaStartTime)&&!isNaN(N.duration)&&N.mediaStartTime+N.duration>=we.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function K(){le(),y.off(E.default.DYNAMIC_TO_STATIC,ke,O)},getNextSegmentRequestIdempotent:function Re(we,Ke){var Ne=k.getSegmentByIndex(Ke,N?N.index+1:0,N?N.mediaStartTime:-1);return Ne?De(we,Ne):null},getValidTimeAheadOfTargetTime:function ge(we,Ke,st,Qe){try{if(isNaN(we)||!Ke||!st)return NaN;if(we<0&&(we=0),isNaN(Qe)&&(Qe=.5),he(Ke,st,we))return we;if(st.adaptation.period.start+st.adaptation.period.duration<we)return NaN;for(var Ne=isFinite(st.adaptation.period.duration)?st.adaptation.period.start+st.adaptation.period.duration:we+30,Se=Math.min(we+Qe,Ne),W=NaN,ae=null;Se<=Ne;){var ve=null;if(Se<=Ne&&(ve=he(Ke,st,Se)),ve){W=Se,ae=ve;break}Se+=Qe}if(ae){var Q=ae.startTime+ae.duration;return we>ae.startTime&&Q-we>Qe?we:!isNaN(ae.startTime)&&we<ae.startTime&&W>ae.startTime?ae.startTime+.001:Math.min(Q-Qe,W)}return W}catch{return NaN}}},function Y(){T=M.getLogger(O),le(),y.on(E.default.DYNAMIC_TO_STATIC,ke,O)}(),O}f.__dashjs_factory_name="DashHandler",S.default=w.default.getClassFactory(f)},"./src/dash/DashMetrics.js":
/*!*********************************!*\
                  !*** ./src/dash/DashMetrics.js ***!
                  \*********************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),w=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../streaming/constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),F=c(
/*! ./utils/Round10 */
"./src/dash/utils/Round10.js"),L=c(
/*! ../streaming/models/MetricsModel */
"./src/streaming/models/MetricsModel.js"),D=c(
/*! ../core/Utils */
"./src/core/Utils.js"),p=c(
/*! ../streaming/vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js");function f(g){var M,U,R,V,y=this.context,k=(g=g||{}).metricsModel;function ce(ve){var Q=k.getMetricsFor(ve,!0);if(!Q)return null;var ie,X=Q.HttpList,$=null;if(!X||X.length<=0)return null;for(ie=X.length-1;ie>=0;){if(X[ie].responsecode){$=X[ie];break}ie--}return $}function Fe(ve){var Q=k.getMetricsFor(ve,!0);return Q&&Q.HttpList?Q.HttpList:[]}function le(ve,Q){if(!ve)return null;var X=ve[Q];return X&&0!==X.length?X[X.length-1]:null}return M={getCurrentRepresentationSwitch:function O(ve){return le(k.getMetricsFor(ve,!0),E.default.TRACK_SWITCH)},getCurrentBufferState:function N(ve){return le(k.getMetricsFor(ve,!0),E.default.BUFFER_STATE)},getCurrentBufferLevel:function C(ve){var X=le(k.getMetricsFor(ve,!0),E.default.BUFFER_LEVEL);return X?F.default.round10(X.level/1e3,-3):0},getCurrentHttpRequest:ce,getHttpRequests:Fe,getCurrentDroppedFrames:function K(){return le(k.getMetricsFor(t.default.VIDEO,!0),E.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function se(ve){return le(k.getMetricsFor(ve,!0),E.default.SCHEDULING_INFO)},getCurrentDVRInfo:function Ue(ve){return le(ve?k.getMetricsFor(ve,!0):k.getMetricsFor(t.default.VIDEO,!0)||k.getMetricsFor(t.default.AUDIO,!0),E.default.DVR_INFO)},getCurrentManifestUpdate:function De(){return le(k.getMetricsFor(t.default.STREAM),E.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function Ke(ve,Q){if(!Q)return null;var X={},$=ce(ve);$&&(X=D.default.parseHttpHeaders($._responseHeaders));var ie=X[Q.toLowerCase()];return void 0===ie?null:ie},getLatestMPDRequestHeaderValueByID:function we(ve){if(!ve)return null;var X,$,ie,Q={};for(ie=(X=Fe(t.default.STREAM)).length-1;ie>=0;ie--)if(($=X[ie]).type===b.HTTPRequest.MPD_TYPE){Q=D.default.parseHttpHeaders($._responseHeaders);break}var re=Q[ve.toLowerCase()];return void 0===re?null:re},addRepresentationSwitch:function T(ve,Q,X,$,ie){k.addRepresentationSwitch(ve,Q,X,$,ie)},addDVRInfo:function ke(ve,Q,X,$){k.addDVRInfo(ve,Q,X,$)},updateManifestUpdateInfo:function Le(ve){var Q=this.getCurrentManifestUpdate();k.updateManifestUpdateInfo(Q,ve)},addManifestUpdateStreamInfo:function he(ve){if(ve){var Q=this.getCurrentManifestUpdate();k.addManifestUpdateStreamInfo(Q,ve.id,ve.index,ve.start,ve.duration)}},addManifestUpdateRepresentationInfo:function ge(ve,Q){if(ve){var X=this.getCurrentManifestUpdate();k.addManifestUpdateRepresentationInfo(X,ve.id,ve.index,ve.streamIndex,Q,ve.presentationTimeOffset,ve.startNumber,ve.fragmentInfoType)}},addManifestUpdate:function Re(ve){k.addManifestUpdate(t.default.STREAM,ve.type,ve.requestStartDate,ve.requestEndDate)},addHttpRequest:function Ie(ve,Q,X,$,ie){k.addHttpRequest(ve.mediaType,null,ve.type,ve.url,ve.quality,Q,ve.serviceLocation||null,ve.range||null,ve.requestStartDate,ve.firstByteDate,ve.requestEndDate,X,ve.duration,$,ie,ve.fileLoaderType)},addSchedulingInfo:function me(ve,Q){k.addSchedulingInfo(ve.mediaType,new Date,ve.type,ve.startTime,ve.availabilityStartTime,ve.duration,ve.quality,ve.range,Q)},addRequestsQueue:function q(ve,Q,X){k.addRequestsQueue(ve,Q,X)},addBufferLevel:function B(ve,Q,X){k.addBufferLevel(ve,Q,X)},addBufferState:function Y(ve,Q,X){k.addBufferState(ve,Q,X)},addDroppedFrames:function _e(ve){k.addDroppedFrames(t.default.VIDEO,ve)},addPlayList:function st(){V&&(k.addPlayList(V),V=null)},addDVBErrors:function ae(ve){k.addDVBErrors(ve)},createPlaylistMetrics:function Qe(ve,Q){(V=new p.PlayList).start=new Date,V.mstart=ve,V.starttype=Q},createPlaylistTraceMetrics:function Ne(ve,Q,X){!0===U&&(U=!1,(R=new p.PlayListTrace).representationid=ve,R.start=new Date,R.mstart=Q,R.playbackspeed=null!==X?X.toString():null)},updatePlayListTraceMetrics:function Se(ve){if(R)for(var Q in R)R[Q]=ve[Q]},pushPlayListTraceMetrics:function W(ve,Q){if(!1===U&&V&&R&&R.start){var X=R.start,$=ve.getTime()-X.getTime();R.duration=$,R.stopreason=Q,V.trace.push(R),U=!0}},clearAllCurrentMetrics:function J(){k.clearAllCurrentMetrics()}},function P(){k=k||Object(L.default)(y).getInstance({settings:g.settings}),function x(){U=!0,R=null,V=null}()}(),M}f.__dashjs_factory_name="DashMetrics",S.default=w.default.getSingletonFactory(f)},"./src/dash/SegmentBaseLoader.js":
/*!***************************************!*\
                  !*** ./src/dash/SegmentBaseLoader.js ***!
                  \***************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),b=c(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),w=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),F=c(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js");function L(){var p,f,g,y,M,U,R,V,k,P,x,O,T,D=this.context;function J(se,me,De,Le){var he=null,Re=se?T.resolve(se.path):null,Ie=Le||{init:!0,url:Re?Re.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:me};f.debug("Start searching for initialization.");var ge=_e(Ie);V.load({request:ge,success:function(Ke){if(Ie.bytesLoaded=Ie.range.end,!(he=y.findInitRange(Ke)))return Ie.range.end=Ie.bytesLoaded+Ie.bytesToLoad,J(se,me,De,Ie);se.range=he,De(se)},error:function(){De(se)}}),f.debug("Perform init search: "+Ie.url)}function Fe(se,me,De,Le,he,Re){if(De&&(void 0===De.start||void 0===De.end)){var Ie=De?De.toString().split("-"):null;De=Ie?{start:parseFloat(Ie[0]),end:parseFloat(Ie[1])}:null}he=he||q;var ge=null,Ue=null,ke=!!De,we=se?T.resolve(se.path):null,Ke={init:!1,url:we?we.url:void 0,range:ke?De:{start:0,end:1500},searching:!ke,bytesLoaded:Re?Re.bytesLoaded:0,bytesToLoad:1500,mediaType:me},st=_e(Ke);V.load({request:st,success:function(W){var ae=Ke.bytesToLoad,ve=W.byteLength;if(Ke.bytesLoaded=Ke.range.end-Ke.range.start,ge=y.parse(W),(Ue=ge.getBox("sidx"))&&Ue.isComplete){var $,ie,X=Ue.references;if(null!=X&&X.length>0&&($=1===X[0].reference_type),$){f.debug("Initiate multiple SIDX load."),Ke.range.end=Ke.range.start+Ue.size;var re,te,ee,fe,ue=[],Me=0,Ye=(Ue.offset||Ke.range.start)+Ue.size,Ge=function(ct){ct?(ue=ue.concat(ct),++Me>=te&&(ue.sort(function(rt,_t){return rt.startTime-_t.startTime<0?-1:0}),he(ue,se,Le))):he(null,se,Le)};for(re=0,te=X.length;re<te;re++)ee=Ye,fe=Ye+X[re].referenced_size-1,Ye+=X[re].referenced_size,Fe(se,me,{start:ee,end:fe},Le,Ge,Ke)}else f.debug("Parsing segments from SIDX. representation "+me+" - id: "+se.id+" for range : "+Ke.range.start+" - "+Ke.range.end),ie=function K(se,me){for(var Ue,we,Ke,De=se.references,Le=De.length,he=se.timescale,Re=se.earliest_presentation_time,Ie=me.range.start+se.offset+se.first_offset+se.size,ge=[],st=0;st<Le;st++)we=De[st].subsegment_duration,Ke=De[st].referenced_size,(Ue=new t.default).duration=we,Ue.startTime=Re,Ue.timescale=he,Ue.mediaRange=Ie+"-"+(Ie+Ke-1),ge.push(Ue),Re+=we,Ie+=Ke;return ge}(Ue,Ke),he(ie,se,Le)}else{if(Ue)Ke.range.start=Ue.offset||Ke.range.start,Ke.range.end=Ke.range.start+(Ue.size||ae);else{if(ve<Ke.bytesLoaded)return void he(null,se,Le);var Q=ge.getLastBox();Q&&Q.size?(Ke.range.start=Q.offset+Q.size,Ke.range.end=Ke.range.start+ae):Ke.range.end+=ae}Fe(se,me,Ke.range,Le,null,Ke)}},error:function(){he(null,se,Le)}}),f.debug("Perform SIDX load for type ".concat(me," : ").concat(Ke.url," with range ").concat(Ke.range.start," - ").concat(Ke.range.end))}function q(se,me,De){De({segments:se,representation:me,error:se?void 0:new b.default(k.SEGMENT_BASE_LOADER_ERROR_CODE,k.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function _e(se){if(se.url){var me=new E.default;return me.setInfo(se),me}}return p={setConfig:function B(se){se.baseURLController&&(T=se.baseURLController),se.dashMetrics&&(U=se.dashMetrics),se.mediaPlayerModel&&(R=se.mediaPlayerModel),se.errHandler&&(g=se.errHandler),se.boxParser&&(y=se.boxParser),se.debug&&(f=se.debug.getLogger(p)),se.requestModifier&&(M=se.requestModifier),se.errors&&(k=se.errors),se.urlUtils&&(O=se.urlUtils),se.constants&&(P=se.constants),se.dashConstants&&(x=se.dashConstants)},initialize:function C(){V=Object(F.default)(D).create({errHandler:g,dashMetrics:U,mediaPlayerModel:R,requestModifier:M,boxParser:y,errors:k,urlUtils:O,constants:P,dashConstants:x})},loadInitialization:function Y(se,me){return new Promise(function(De){J(se,me,De)})},loadSegments:function ce(se,me,De){return new Promise(function(Le){Fe(se,me,De,Le)})},reset:function le(){V&&(V.abort(),V=null)}}}L.__dashjs_factory_name="SegmentBaseLoader",S.default=w.default.getSingletonFactory(L)},"./src/dash/WebmSegmentBaseLoader.js":
/*!*******************************************!*\
                  !*** ./src/dash/WebmSegmentBaseLoader.js ***!
                  \*******************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../streaming/utils/EBMLParser */
"./src/streaming/utils/EBMLParser.js"),b=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),F=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),L=c(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),D=c(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js");function p(){var g,y,M,U,R,V,k,P,x,O,f=this.context;function Y(K,_e,se,me){var Le,he,Re,Ie,ge;for(he=[],Ie=0,ge=(Le=function B(K){var me,De,_e=[],se=Object(t.default)(f).create({data:K});for(se.consumeTagAndSize(M.Segment.Cues);se.moreData()&&se.consumeTagAndSize(M.Segment.Cues.CuePoint,!0);){for((me={}).CueTime=se.parseTag(M.Segment.Cues.CuePoint.CueTime),me.CueTracks=[];se.moreData()&&se.consumeTag(M.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Le=se.getMatroskaCodedNum(),he=se.getPos();if((De={}).Track=se.parseTag(M.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===De.Track)throw new Error("Cue track cannot be 0");De.ClusterPosition=se.parseTag(M.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),me.CueTracks.push(De),se.setPos(he+Le)}if(0===me.CueTracks.length)throw new Error("Mandatory cuetrack not found");_e.push(me)}if(0===_e.length)throw new Error("mandatory cuepoint not found");return _e}(K)).length;Ie<ge;Ie+=1)(Re=new E.default).duration=Ie<Le.length-1?Le[Ie+1].CueTime-Le[Ie].CueTime:me-Le[Ie].CueTime,Re.startTime=Le[Ie].CueTime,Re.timescale=1e3,Re.mediaRange=Le[Ie].CueTracks[0].ClusterPosition+_e+"-"+(Ie<Le.length-1?Le[Ie+1].CueTracks[0].ClusterPosition+_e-1:se-1),he.push(Re);return y.debug("Parsed cues: "+he.length+" cues."),he}function q(K){var _e=new F.default;return _e.setInfo(K),_e}return g={setConfig:function C(K){if(!(K.baseURLController&&K.dashMetrics&&K.mediaPlayerModel&&K.errHandler))throw new Error(b.default.MISSING_CONFIG_ERROR);O=K.baseURLController,V=K.dashMetrics,k=K.mediaPlayerModel,U=K.errHandler,x=K.errors,y=K.debug.getLogger(g),R=K.requestModifier},initialize:function N(){P=Object(L.default)(f).create({errHandler:U,dashMetrics:V,mediaPlayerModel:k,requestModifier:R,errors:x})},loadInitialization:function ce(K,_e){return new Promise(function(se){var me=null,De=K?O.resolve(K.path):null,Le=K?K.range.split("-"):null,he={range:{start:Le?parseFloat(Le[0]):null,end:Le?parseFloat(Le[1]):null},request:me,url:De?De.url:void 0,init:!0,mediaType:_e};y.info("Start loading initialization."),me=q(he),P.load({request:me,success:function(){se(K)},error:function(){se(K)}}),y.debug("Perform init load: "+he.url)})},loadSegments:function Fe(K,_e,se){return new Promise(function(me){var De=null,Le=K?O.resolve(K.path):null,he=Le?Le.url:void 0;De=q({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:De,url:he,init:!1,mediaType:_e}),y.debug("Parsing ebml header"),P.load({request:De,success:function(we){!function J(K,_e,se,me){if(K&&0!==K.byteLength){var Le,he,Re,Ie,De=Object(t.default)(f).create({data:K}),ge=se?se.split("-"):null,Ue=null,ke={url:_e,range:{start:ge?parseFloat(ge[0]):null,end:ge?parseFloat(ge[1]):null},request:Ue};for(y.debug("Parse EBML header: "+ke.url),De.skipOverElement(M.EBML),De.consumeTag(M.Segment),Re=De.getMatroskaCodedNum(),Re+=De.getPos(),Ie=De.getPos();De.moreData()&&!De.consumeTagAndSize(M.Segment.Info,!0);)if(!(De.skipOverElement(M.Segment.SeekHead,!0)||De.skipOverElement(M.Segment.Tracks,!0)||De.skipOverElement(M.Segment.Cues,!0)||De.skipOverElement(M.Void,!0)))throw new Error("no valid top level element found");for(;void 0===Le;){var we=De.getMatroskaCodedNum(!0),Ke=De.getMatroskaCodedNum();we===M.Segment.Info.Duration.tag?Le=De[M.Segment.Info.Duration.parse](Ke):De.setPos(De.getPos()+Ke)}Ue=q(ke),P.load({request:Ue,success:function(Se){he=Y(Se,Ie,Re,Le),me(he)},error:function(){y.error("Download Error: Cues "+ke.url),me(null)}}),y.debug("Perform cues load: "+ke.url+" bytes="+ke.range.start+"-"+ke.range.end)}else me(null)}(we,he,se,function(Ke){me({segments:Ke,representation:K,error:Ke?void 0:new D.default(x.SEGMENT_BASE_LOADER_ERROR_CODE,x.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){me({representation:K,error:new D.default(x.SEGMENT_BASE_LOADER_ERROR_CODE,x.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function le(){P&&(P.abort(),P=null)}},function T(){M={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),g}p.__dashjs_factory_name="WebmSegmentBaseLoader",S.default=w.default.getSingletonFactory(p)},"./src/dash/constants/DashConstants.js":
/*!*********************************************!*\
                  !*** ./src/dash/constants/DashConstants.js ***!
                  \*********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,F(M.key),M)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==t(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S);var p=new(function(){function f(){(function b(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function E(f,g,y){return g&&w(f.prototype,g),y&&w(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}]),f}());S.default=p},"./src/dash/controllers/ContentSteeringController.js":
/*!***********************************************************!*\
                  !*** ./src/dash/controllers/ContentSteeringController.js ***!
                  \***********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),E=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),F=c(
/*! ../vo/ContentSteeringRequest */
"./src/dash/vo/ContentSteeringRequest.js"),L=c(
/*! ../vo/ContentSteeringResponse */
"./src/dash/vo/ContentSteeringResponse.js"),D=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),p=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../core/Utils */
"./src/core/Utils.js"),M=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),U_THROUGHPUT="_DASH_throughput",U_PATHWAY="_DASH_pathway",U_URL="url";function R(){var P,x,O,T,N,C,B,Y,J,ce,Fe,q,le,K,_e,V=this.context,k=Object(M.default)(V).getInstance();function Le(W){W&&W.toStreamInfo&&(T=W.toStreamInfo)}function he(W){W&&W.request&&W.request.serviceLocation&&(N=W.request.serviceLocation)}function Re(){var W=Fe.getValue();return _e.getContentSteering(W)}function ge(){return new Promise(function(W){try{var ae=Re();if(!ae||!ae.serverUrl)return void W();var ve=function Ue(W){var ae=W.proxyServerUrl?W.proxyServerUrl:W.serverUrl;O&&O.reloadUri&&(ae=k.isRelative(O.reloadUri)?k.resolve(O.reloadUri,W.serverUrl):O.reloadUri);var ve=[];if(T){var Q=_e.getIsDynamic(),X=_e.getAllMediaInfoForType(T,g.default.VIDEO).length>0?g.default.VIDEO:g.default.AUDIO,$=le.getThroughputHistory(),ie=$?$.getAverageThroughput(X,Q):NaN;isNaN(ie)||ve.push({key:U_THROUGHPUT,value:1e3*ie})}return N&&ve.push({key:U_PATHWAY,value:N}),W.proxyServerUrl&&W.proxyServerUrl===ae&&W.serverUrl&&ve.push({key:U_URL,value:encodeURI(W.serverUrl)}),y.default.addAditionalQueryParameterToUrl(ae,ve)}(ae),Q=new F.default(ve);B.load({request:Q,success:function($){(function ke(W){!W||!W[D.default.CONTENT_STEERING_RESPONSE.VERSION]||1!==parseInt(W[D.default.CONTENT_STEERING_RESPONSE.VERSION])||((O=new L.default).version=W[D.default.CONTENT_STEERING_RESPONSE.VERSION],W[D.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(W[D.default.CONTENT_STEERING_RESPONSE.TTL])&&(O.ttl=W[D.default.CONTENT_STEERING_RESPONSE.TTL]),W[D.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(O.reloadUri=W[D.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),W[D.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(O.serviceLocationPriority=W[D.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),we())})($),K.trigger(p.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:O,url:ve}),W()},error:function($){(function st(W){x.warn("Error fetching data from content steering server",W),we()})($),W($)}})}catch(X){W(X)}})}function we(){O&&O.ttl&&!isNaN(O.ttl)&&(C&&clearTimeout(C),C=setTimeout(function(){ge()},1e3*O.ttl))}function Ke(){C&&clearTimeout(C),C=null}function Se(){O=null,T=null,N=null,Ke()}return P={reset:function Ne(){Se(),K.off(p.default.PERIOD_SWITCH_COMPLETED,Le,P),K.off(f.default.FRAGMENT_LOADING_STARTED,he,P)},setConfig:function me(W){W&&(W.adapter&&(_e=W.adapter),W.errHandler&&(Y=W.errHandler),W.dashMetrics&&(J=W.dashMetrics),W.mediaPlayerModel&&(ce=W.mediaPlayerModel),W.requestModifier&&(q=W.requestModifier),W.manifestModel&&(Fe=W.manifestModel),W.abrController&&(le=W.abrController),W.eventBus&&(K=W.eventBus))},loadSteeringData:ge,getCurrentSteeringResponseData:function Qe(){return O},shouldQueryBeforeStart:function Ie(){var W=Re();return W&&W.queryBeforeStart},getSteeringDataFromManifest:Re,stopSteeringRequestTimer:Ke,initialize:function De(){B=Object(w.default)(V).create({errHandler:Y,dashMetrics:J,mediaPlayerModel:ce,requestModifier:q,errors:E.default}),K.on(p.default.PERIOD_SWITCH_COMPLETED,Le,P),K.on(f.default.FRAGMENT_LOADING_STARTED,he,P)}},function se(){x=Object(b.default)(V).getInstance().getLogger(P),Se()}(),P}R.__dashjs_factory_name="ContentSteeringController",S.default=t.default.getSingletonFactory(R)},"./src/dash/controllers/RepresentationController.js":
/*!**********************************************************!*\
                  !*** ./src/dash/controllers/RepresentationController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),E=c(
/*! ../utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function F(L){var x,O,T,N,C,D=(L=L||{}).eventBus,p=L.events,f=L.abrController,g=L.dashMetrics,y=L.playbackController,M=L.timelineConverter,U=L.type,R=L.streamInfo,V=L.dashConstants,k=L.segmentsController,P=L.isDynamic;function J(){return U}function ce(){if(!(f&&g&&y&&M))throw new Error(t.default.MISSING_CONFIG_ERROR)}function q(){return T}function le(){return C}function K(){O=null,T=!0,N=[]}function me(Ne){return new Promise(function(Se,W){var ae=Ne.hasInitialization(),ve=Ne.hasSegments(),Q=[];Q.push(k.updateInitData(Ne,ae)),Q.push(k.updateSegmentData(Ne,ve)),Promise.all(Q).then(function(X){X[0]&&!X[0].error&&(Ne=function Le(Ne,Se){return Se&&!Se.error&&Se.representation?Se.representation:Ne}(Ne,X[0])),X[1]&&!X[1].error&&(Ne=function he(Ne,Se){if(Se&&!Se.error){var Q,X,$,ie,W=Se.segments,ae=[],ve=0;for(Q=0,X=W?W.length:0;Q<X;Q++)$=W[Q],(ie=Object(E.getTimeBasedSegment)(M,P,Ne,$.startTime,$.duration,$.timescale,$.media,$.mediaRange,ve))&&(ae.push(ie),ie=null,ve++);return ae.length>0&&(Ne.segments=ae),Ne}}(Ne,X[1])),function De(Ne){Ne.mediaFinishedInformation=k.getMediaFinishedInformation(Ne)}(Ne),function we(Ne){if(q()){var ae,Se=g.getCurrentManifestUpdate(),W=!1;if(Se){for(var Q=0;Q<Se.representationInfo.length;Q++)if((ae=Se.representationInfo[Q]).index===Ne.index&&ae.mediaType===J()){W=!0;break}W||g.addManifestUpdateRepresentationInfo(Ne,J())}if(function Ue(){for(var Ne=0,Se=N.length;Ne<Se;Ne++){var W=N[Ne].segmentInfoType;if(!N[Ne].hasInitialization()||(W===V.SEGMENT_BASE||W===V.BASE_URL)&&!N[Ne].segments)return!1}return!0}()){f.setPlaybackQuality(U,R,function ge(Ne){return N.indexOf(Ne)}(C));var X=g.getCurrentDVRInfo(U);X&&g.updateManifestUpdateInfo({latency:X.range.end-y.getTime()}),g.getCurrentRepresentationSwitch(le().adaptation.type)||Re(),ke()}}}(Ne),Se()}).catch(function(X){W(X)})})}function Re(){ce();var Ne=new Date,Se=le(),W=1e3*y.getTime();Se&&g.addRepresentationSwitch(Se.adaptation.type,Ne,W,Se.id),D.trigger(w.default.REPRESENTATION_SWITCH,{mediaType:U,streamId:R.id,currentRepresentation:Se,numberOfRepresentations:N.length},{streamId:R.id,mediaType:U})}function Ie(Ne){return null==Ne||Ne>=N.length?null:N[Ne]}function ke(Ne){T=!1,D.trigger(p.DATA_UPDATE_COMPLETED,{data:O,currentRepresentation:C,error:Ne},{streamId:R.id,mediaType:U})}function st(Ne){C=Ne}function Qe(Ne){if(Ne.newDuration){var Se=le();Se&&Se.adaptation.period&&(Se.adaptation.period.duration=Ne.newDuration)}}return x={getStreamId:function Y(){return R.id},getType:J,getData:function Fe(){return O},isUpdating:q,updateData:function se(Ne,Se,W,ae,ve){if(ce(),T=!0,N=Se,st(Ie(ve)),O=Ne,W!==t.default.VIDEO&&W!==t.default.AUDIO&&(W!==t.default.TEXT||!ae))return ke(),Promise.resolve();for(var X=[],$=0,ie=N.length;$<ie;$++)X.push(me(N[$]));return Promise.all(X)},getCurrentRepresentation:le,getRepresentationForQuality:Ie,prepareQualityChange:function Ke(Ne){st(Ie(Ne)),Re()},reset:function _e(){D.off(w.default.MANIFEST_VALIDITY_CHANGED,Qe,x),K()}},function B(){K(),D.on(w.default.MANIFEST_VALIDITY_CHANGED,Qe,x)}(),x}F.__dashjs_factory_name="RepresentationController",S.default=b.default.getClassFactory(F)},"./src/dash/controllers/SegmentBaseController.js":
/*!*******************************************************!*\
                  !*** ./src/dash/controllers/SegmentBaseController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../SegmentBaseLoader */
"./src/dash/SegmentBaseLoader.js"),w=c(
/*! ../WebmSegmentBaseLoader */
"./src/dash/WebmSegmentBaseLoader.js");function E(L){var x,O,T,D=this.context,p=(L=L||{}).eventBus,f=L.events,g=L.dashMetrics,y=L.mediaPlayerModel,M=L.errHandler,U=L.baseURLController,R=L.debug,V=L.boxParser,k=L.requestModifier,P=L.errors;function C(Fe){return"webm"===(Fe?Fe.split("/")[1]:"").toLowerCase()}return x={initialize:function B(){O.initialize(),T.initialize()},getSegmentBaseInitSegment:function Y(Fe){return C(Fe.representation.mimeType)?T.loadInitialization(Fe.representation,Fe.mediaType):O.loadInitialization(Fe.representation,Fe.mediaType)},getSegmentList:function J(Fe){return C(Fe.mimeType)?T.loadSegments(Fe.representation,Fe.mediaType,Fe.representation?Fe.representation.indexRange:null):O.loadSegments(Fe.representation,Fe.mediaType,Fe.representation?Fe.representation.indexRange:null)},reset:function ce(){O.reset(),T.reset()}},function N(){O=Object(b.default)(D).getInstance(),T=Object(w.default)(D).getInstance(),O.setConfig({baseURLController:U,dashMetrics:g,mediaPlayerModel:y,errHandler:M,eventBus:p,events:f,errors:P,debug:R,boxParser:V,requestModifier:k}),T.setConfig({baseURLController:U,dashMetrics:g,mediaPlayerModel:y,errHandler:M,eventBus:p,events:f,errors:P,debug:R,requestModifier:k})}(),x}E.__dashjs_factory_name="SegmentBaseController";var F=t.default.getSingletonFactory(E);S.default=F},"./src/dash/controllers/SegmentsController.js":
/*!****************************************************!*\
                  !*** ./src/dash/controllers/SegmentsController.js ***!
                  \****************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../utils/TimelineSegmentsGetter */
"./src/dash/utils/TimelineSegmentsGetter.js"),w=c(
/*! ../utils/TemplateSegmentsGetter */
"./src/dash/utils/TemplateSegmentsGetter.js"),E=c(
/*! ../utils/ListSegmentsGetter */
"./src/dash/utils/ListSegmentsGetter.js"),F=c(
/*! ../utils/SegmentBaseGetter */
"./src/dash/utils/SegmentBaseGetter.js");function L(p){var U,R,f=this.context,g=(p=p||{}).dashConstants,y=p.type,M=p.segmentBaseController;function O(B){return B?B.segments?R[g.SEGMENT_BASE]:R[B.segmentInfoType]:null}return U={initialize:function k(B){R[g.SEGMENT_TIMELINE]=Object(b.default)(f).create(p,B),R[g.SEGMENT_TEMPLATE]=Object(w.default)(f).create(p,B),R[g.SEGMENT_LIST]=Object(E.default)(f).create(p,B),R[g.SEGMENT_BASE]=Object(F.default)(f).create(p,B)},updateInitData:function P(B,Y){return Y?Promise.resolve():M.getSegmentBaseInitSegment({representation:B,mediaType:y})},updateSegmentData:function x(B,Y){return Y?Promise.resolve():M.getSegmentList({mimeType:B.mimeType,representation:B,mediaType:y})},getSegmentByIndex:function T(B,Y,J){var ce=O(B);return ce?ce.getSegmentByIndex(B,Y,J):null},getSegmentByTime:function N(B,Y){var J=O(B);return J?J.getSegmentByTime(B,Y):null},getMediaFinishedInformation:function C(B){var Y=O(B);return Y?Y.getMediaFinishedInformation(B):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},function V(){R={}}(),U}L.__dashjs_factory_name="SegmentsController";var D=t.default.getClassFactory(L);S.default=D},"./src/dash/controllers/ServiceDescriptionController.js":
/*!**************************************************************!*\
                  !*** ./src/dash/controllers/ServiceDescriptionController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=[w.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],L_VIDEO="video",L_AUDIO="audio",L_ANY="any",L_ALL="all";function D(){var f,g,y,M,U,p=this.context;function P(){g={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},y=[]}function ce(K,_e,se){try{g[K][_e]=se/1e3}catch(me){M.error(me)}}return f={getServiceDescriptionSettings:function x(){return g},getProducerReferenceTimeOffsets:function Fe(){return y},calculateProducerReferenceTimeOffsets:function q(K){try{var _e=[];if(K&&K.length>0){var se=[w.default.VIDEO,w.default.AUDIO,w.default.TEXT],me=U.getAvailabilityStartTime()/1e3;K.forEach(function(De){var Le=se.reduce(function(he,Re){return he.concat(U.getAllMediaInfoForType(De,Re))},[]).reduce(function(he,Re){return U.getProducerReferenceTimes(De,Re).forEach(function(ge){var Ue=U.getVoRepresentations(Re);if(Ue&&Ue.length>0&&Ue[0].adaptation&&Ue[0].segmentInfoType===E.default.SEGMENT_TEMPLATE){var ke=Ue[0],Ke=new Date(ge[E.default.WALL_CLOCK_TIME]).getTime()/1e3;he.push({id:ge[E.default.ID],to:me-(Ke-(ge[E.default.PRESENTATION_TIME]/ke[E.default.TIMESCALE]-ke[E.default.PRESENTATION_TIME_OFFSET]+De.start))})}}),he},[]);_e=_e.concat(Le)})}y=_e}catch(De){M.error(De),y=[]}},applyServiceDescription:function O(K){if(K&&K.serviceDescriptions){var _e=K.serviceDescriptions.filter(function(De){return F.includes(De.schemeIdUri)}),se=K.serviceDescriptions.filter(function(De){return null==De.schemeIdUri}),me=_e.length>0?_e[_e.length-1]:se[se.length-1];me&&(me.latency&&me.latency.target>0&&function T(K){var _e;if(_e=K.schemeIdUri===w.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function C(K){return{liveDelay:K.latency.target/1e3,maxDrift:!isNaN(K.latency.max)&&K.latency.max>K.latency.target?(K.latency.max-K.latency.target+500)/1e3:NaN,referenceId:K.latency.referenceId||NaN}}(K):function N(K){return{liveDelay:K.latency.target/1e3,maxDrift:!isNaN(K.latency.max)&&K.latency.max>K.latency.target?(K.latency.max-K.latency.target+500)/1e3:NaN,referenceId:K.latency.referenceId||NaN}}(K),y.length>0){var se=function le(K){var se,_e=0,me=y.filter(function(De){return De.id===K.referenceId});return 0===me.length?(_e=y.length>0?y[0].to:0,se=y[0].id||NaN):(_e=me[0].to||0,se=me[0].id||NaN),{to:_e,id:se}}(_e),me=se.to,De=se.id;g.liveDelay=_e.liveDelay-me,g.liveCatchup.maxDrift=_e.maxDrift,M.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(me," from ProducerReferenceTime element with id ").concat(De,".\n                Live Delay: ").concat(_e.liveDelay-me,", Live catchup max drift: ").concat(_e.maxDrift,"\n            "))}else g.liveDelay=_e.liveDelay,g.liveCatchup.maxDrift=_e.maxDrift,M.debug("Found latency properties coming from service description: Live Delay: ".concat(_e.liveDelay,", Live catchup max drift: ").concat(_e.maxDrift))}(me),me.playbackRate&&function B(K){var _e=K.playbackRate.min?Math.round(1e3*(K.playbackRate.min-1))/1e3:NaN,se=K.playbackRate.max?Math.round(1e3*(K.playbackRate.max-1))/1e3:NaN;g.liveCatchup.playbackRate.min=_e,g.liveCatchup.playbackRate.max=se,M.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(_e)),M.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(se))}(me),me.operatingBandwidth&&function J(K){if(K&&K.operatingBandwidth&&K.operatingBandwidth.mediaType&&K.operatingBandwidth.mediaType!==L_ALL){var _e={};_e.minBandwidth=K.operatingBandwidth.min,_e.maxBandwidth=K.operatingBandwidth.max,_e.targetBandwidth=K.operatingBandwidth.target;var se=[];K.operatingBandwidth.mediaType===L_VIDEO||K.operatingBandwidth.mediaType===L_AUDIO?se.push(K.operatingBandwidth.mediaType):K.operatingBandwidth.mediaType===L_ANY&&(se.push(L_AUDIO),se.push(L_VIDEO)),se.forEach(function(me){isNaN(_e.minBandwidth)||ce("minBitrate",me,_e.minBandwidth),isNaN(_e.maxBandwidth)||ce("maxBitrate",me,_e.maxBandwidth),isNaN(_e.targetBandwidth)||ce("initialBitrate",me,_e.targetBandwidth)})}}(me))}},reset:function k(){P()},setConfig:function V(K){K&&K.adapter&&(U=K.adapter)}},function R(){M=Object(b.default)(p).getInstance().getLogger(f),P()}(),f}D.__dashjs_factory_name="ServiceDescriptionController",S.default=t.default.getSingletonFactory(D)},"./src/dash/models/DashManifestModel.js":
/*!**********************************************!*\
                  !*** ./src/dash/models/DashManifestModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),w=c(
/*! ../vo/Representation */
"./src/dash/vo/Representation.js"),E=c(
/*! ../vo/AdaptationSet */
"./src/dash/vo/AdaptationSet.js"),F=c(
/*! ../vo/Period */
"./src/dash/vo/Period.js"),L=c(
/*! ../vo/Mpd */
"./src/dash/vo/Mpd.js"),D=c(
/*! ../vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),p=c(
/*! ../vo/Event */
"./src/dash/vo/Event.js"),f=c(
/*! ../vo/BaseURL */
"./src/dash/vo/BaseURL.js"),g=c(
/*! ../vo/EventStream */
"./src/dash/vo/EventStream.js"),y=c(
/*! ../vo/ProducerReferenceTime */
"./src/dash/vo/ProducerReferenceTime.js"),M=c(
/*! ../vo/ContentSteering */
"./src/dash/vo/ContentSteering.js"),U=c(
/*! ../../streaming/utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),R=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),V=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),k=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),P=c(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),x=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),O=c(
/*! ../../streaming/thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js");function T(q,le){var K=typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(!K){if(Array.isArray(q)||(K=B(q))||le&&q&&"number"==typeof q.length){K&&(q=K);var _e=0,se=function(){};return{s:se,n:function(){return _e>=q.length?{done:!0}:{done:!1,value:q[_e++]}},e:function(Re){throw Re},f:se}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Le,me=!0,De=!1;return{s:function(){K=K.call(q)},n:function(){var Re=K.next();return me=Re.done,Re},e:function(Re){De=!0,Le=Re},f:function(){try{!me&&null!=K.return&&K.return()}finally{if(De)throw Le}}}}function N(q){return function J(q){if(Array.isArray(q))return ce(q)}(q)||function Y(q){if(typeof Symbol<"u"&&null!=q[Symbol.iterator]||null!=q["@@iterator"])return Array.from(q)}(q)||B(q)||function C(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(q,le){if(q){if("string"==typeof q)return ce(q,le);var K=Object.prototype.toString.call(q).slice(8,-1);if("Object"===K&&q.constructor&&(K=q.constructor.name),"Map"===K||"Set"===K)return Array.from(q);if("Arguments"===K||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return ce(q,le)}}function ce(q,le){(null==le||le>q.length)&&(le=q.length);for(var K=0,_e=new Array(le);K<le;K++)_e[K]=q[K];return _e}function Fe(){var q,le,K,_e,se=this.context,me=Object(R.default)(se).getInstance(),De=Number.isInteger||function(Et){return"number"==typeof Et&&isFinite(Et)&&Math.floor(Et)===Et};function he(Et,ut){if(!Et)throw new Error("adaptation is not defined");if(!ut)throw new Error("type is not defined");if(Et.Representation_asArray&&Et.Representation_asArray.length){var Xt=Gt(Et.Representation_asArray[0]);if(Xt&&Xt.length>0&&O.THUMBNAILS_SCHEME_ID_URIS.indexOf(Xt[0].schemeIdUri)>=0)return ut===t.default.IMAGE}if(Et.ContentComponent_asArray&&Et.ContentComponent_asArray.length>0){if(Et.ContentComponent_asArray.length>1)return ut===t.default.MUXED;if(Et.ContentComponent_asArray[0].contentType===ut)return!0}var Ze=ut===t.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(ut);if(Et.Representation_asArray&&Et.Representation_asArray.length&&Ze.test(Et.Representation_asArray[0].codecs))return!0;if(Et.hasOwnProperty(b.default.MIME_TYPE))return Ze.test(Et.mimeType);if(Et.Representation_asArray)for(var wt,qt=0;qt<Et.Representation_asArray.length;qt++)if((wt=Et.Representation_asArray[qt]).hasOwnProperty(b.default.MIME_TYPE))return Ze.test(wt.mimeType);return!1}function Re(Et){if(!Et)throw new Error("adaptation is not defined");if(Et.hasOwnProperty(b.default.SEGMENT_TEMPLATE)||Et.hasOwnProperty(b.default.SEGMENT_TIMELINE)||Et.hasOwnProperty(b.default.SEGMENT_LIST)||Et.hasOwnProperty(b.default.SEGMENT_BASE))return!0;if(Et.Representation_asArray&&Et.Representation_asArray.length>0){var ut=Et.Representation_asArray[0];if(ut.hasOwnProperty(b.default.SEGMENT_TEMPLATE)||ut.hasOwnProperty(b.default.SEGMENT_TIMELINE)||ut.hasOwnProperty(b.default.SEGMENT_LIST)||ut.hasOwnProperty(b.default.SEGMENT_BASE))return!0}return!1}function Ie(Et){return he(Et,t.default.AUDIO)}function ge(Et){return he(Et,t.default.VIDEO)}function Ue(Et){return he(Et,t.default.TEXT)}function ke(Et){return he(Et,t.default.MUXED)}function we(Et){return he(Et,t.default.IMAGE)}function ve(){return function(Et,ut){return Et.bandwidth-ut.bandwidth}}function Q(Et){return Et&&Array.isArray(Et.Representation_asArray)&&Et.Representation_asArray.sort(function(Et,ut){return Et.bandwidth-ut.bandwidth}),Et}function X(Et,ut){return Et&&Et.Period_asArray&&De(ut)&&Et.Period_asArray[ut]?Et.Period_asArray[ut].AdaptationSet_asArray:[]}function $(Et){return Et&&Et.Period_asArray?Et.Period_asArray:[]}function at(Et){var ut=!1;return Et&&Et.hasOwnProperty("type")&&(ut=Et.type===b.default.DYNAMIC),ut}function Gt(Et){return Et&&Et.EssentialProperty_asArray&&Et.EssentialProperty_asArray.length?Et.EssentialProperty_asArray.map(function(ut){return{schemeIdUri:ut.schemeIdUri,value:ut.value}}):null}function ft(Et){if(!Et||!Et.S_asArray)return NaN;var ut=Et.S_asArray[0],Xt=Et.S_asArray[1];return ut.hasOwnProperty("d")?ut.d:Xt.t-ut.t}function Xe(Et){return Et.adaptation.period.start-Et.presentationTimeOffset}function We(Et,ut){if(!Et)throw new Error("Period cannot be null or undefined");var Xt=F.default.DEFAULT_ID+"_"+ut;return Et.hasOwnProperty(b.default.ID)&&Et.id.length>0&&"__proto__"!==Et.id&&(Xt=Et.id),Xt}function Lt(Et,ut,Xt){var et,Ze=[];if(!Et)return Ze;for(et=0;et<Et.length;et++){var wt=new g.default;if(wt.timescale=1,wt.representation=ut,!Et[et].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");wt.schemeIdUri=Et[et].schemeIdUri,Et[et].hasOwnProperty(b.default.TIMESCALE)&&(wt.timescale=Et[et].timescale),Et[et].hasOwnProperty(b.default.VALUE)&&(wt.value=Et[et].value),Ze.push(wt),wt.period=Xt}return Ze}function an(Et){var ut=[],Ze=!1;return(Et.BaseURL_asArray||[Et.baseUri]).some(function(et){if(et){var wt=new f.default,qt=et.__text||et;return me.isRelative(qt)&&(Ze=!0,Et.baseUri&&(qt=me.resolve(qt,Et.baseUri))),wt.url=qt,wt.serviceLocation=et.hasOwnProperty(b.default.SERVICE_LOCATION)&&et.serviceLocation.length?et.serviceLocation:qt,et.hasOwnProperty(b.default.DVB_PRIORITY)&&(wt.dvb_priority=et[b.default.DVB_PRIORITY]),et.hasOwnProperty(b.default.DVB_WEIGHT)&&(wt.dvb_weight=et[b.default.DVB_WEIGHT]),et.hasOwnProperty(b.default.AVAILABILITY_TIME_OFFSET)&&(wt.availabilityTimeOffset=et[b.default.AVAILABILITY_TIME_OFFSET]),et.hasOwnProperty(b.default.AVAILABILITY_TIME_COMPLETE)&&(wt.availabilityTimeComplete="false"!==et[b.default.AVAILABILITY_TIME_COMPLETE]),ut.push(wt),Ze}}),ut}return q={getIsTypeOf:he,getIsText:Ue,getIsFragmented:Re,getProducerReferenceTimesForAdaptation:function Ke(Et){var ut=Et&&Et.hasOwnProperty(b.default.PRODUCERREFERENCETIME_ASARRAY)?Et[b.default.PRODUCERREFERENCETIME_ASARRAY]:[];(Et&&Et.hasOwnProperty(b.default.REPRESENTATION_ASARRAY)?Et[b.default.REPRESENTATION_ASARRAY]:[]).forEach(function(et){et.hasOwnProperty(b.default.PRODUCERREFERENCETIME_ASARRAY)&&ut.push.apply(ut,N(et[b.default.PRODUCERREFERENCETIME_ASARRAY]))});var Ze=[];return ut.forEach(function(et){var wt=new y.default;et.hasOwnProperty(b.default.ID)&&(wt[b.default.ID]=et[b.default.ID],et.hasOwnProperty(b.default.WALL_CLOCK_TIME)&&(wt[b.default.WALL_CLOCK_TIME]=et[b.default.WALL_CLOCK_TIME],et.hasOwnProperty(b.default.PRESENTATION_TIME)&&(wt[b.default.PRESENTATION_TIME]=et[b.default.PRESENTATION_TIME],Ze.push(wt))))}),Ze},getLanguageForAdaptation:function st(Et){var ut="";return Et&&Et.hasOwnProperty(b.default.LANG)&&(ut=Et.lang),ut},getViewpointForAdaptation:function Qe(Et){return Et&&Et.hasOwnProperty(b.default.VIEWPOINT)?Et.Viewpoint:null},getRolesForAdaptation:function Ne(Et){return Et&&Et.hasOwnProperty(b.default.ROLE_ASARRAY)?Et.Role_asArray:[]},getAccessibilityForAdaptation:function Se(Et){return Et&&Et.hasOwnProperty(b.default.ACCESSIBILITY_ASARRAY)?Et.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function W(Et){return Et&&Et.hasOwnProperty(b.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Et.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function ae(Et){return Et&&Et.hasOwnProperty(b.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Et.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function te(Et,ut,Xt){var Ze=X(ut,Xt);return Ze.length>0&&De(Et)?Ze[Et]:null},getIndexForAdaptation:function ee(Et,ut,Xt){if(!Et)return-1;for(var Ze=X(ut,Xt),et=0;et<Ze.length;et++)if(Object(U.default)(se).getInstance().areEqual(Ze[et],Et))return et;return-1},getAdaptationForId:function re(Et,ut,Xt){var et,wt,Ze=X(ut,Xt);for(et=0,wt=Ze.length;et<wt;et++)if(Ze[et].hasOwnProperty(b.default.ID)&&Ze[et].id===Et)return Ze[et];return null},getAdaptationsForType:function fe(Et,ut,Xt){var et,wt,Ze=X(Et,ut),qt=[];for(et=0,wt=Ze.length;et<wt;et++)he(Ze[et],Xt)&&qt.push(Q(Ze[et]));return qt},getRealPeriods:$,getRealPeriodForIndex:function ie(Et,ut){var Xt=$(ut);return Xt.length>0&&De(Et)?Xt[Et]:null},getCodec:function ye(Et,ut,Xt){var Ze=null;if(Et&&Et.Representation_asArray&&Et.Representation_asArray.length>0){var et=De(ut)&&ut>=0&&ut<Et.Representation_asArray.length?Et.Representation_asArray[ut]:Et.Representation_asArray[0];et&&(Ze=et.mimeType+';codecs="'+et.codecs+'"',Xt&&void 0!==et.width&&(Ze+=';width="'+et.width+'";height="'+et.height+'"'))}return Ze&&(Ze=Ze.replace(/\sprofiles=[^;]*/g,"")),Ze},getSelectionPriority:function dn(Et){try{var ut=Et&&typeof Et.selectionPriority<"u"?parseInt(Et.selectionPriority):1;return isNaN(ut)?1:ut}catch{return 1}},getMimeType:function ue(Et){return Et&&Et.Representation_asArray&&Et.Representation_asArray.length>0?Et.Representation_asArray[0].mimeType:null},getKID:function Me(Et){return Et&&Et.hasOwnProperty(b.default.CENC_DEFAULT_KID)?Et[b.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function Ye(Et){if(!Et||!Array.isArray(Et.Label_asArray))return[];for(var ut=[],Xt=0;Xt<Et.Label_asArray.length;Xt++)ut.push({lang:Et.Label_asArray[Xt].lang,text:Et.Label_asArray[Xt].__text||Et.Label_asArray[Xt]});return ut},getContentProtectionData:function Ge(Et){return Et&&Et.hasOwnProperty(b.default.CONTENTPROTECTION_ASARRAY)&&0!==Et.ContentProtection_asArray.length?Et.ContentProtection_asArray:null},getIsDynamic:at,getId:function ct(Et){return Et&&Et[b.default.ID]||null},hasProfile:function rt(Et,ut){var Xt=!1;return Et&&Et.profiles&&Et.profiles.length>0&&(Xt=-1!==Et.profiles.indexOf(ut)),Xt},getDuration:function _t(Et){return Et&&Et.hasOwnProperty(b.default.MEDIA_PRESENTATION_DURATION)?Et.mediaPresentationDuration:Et&&"dynamic"==Et.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function Bt(Et){return Et&&Et.bandwidth?Et.bandwidth:NaN},getManifestUpdatePeriod:function At(Et){var ut=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Xt=NaN;return Et&&Et.hasOwnProperty(b.default.MINIMUM_UPDATE_PERIOD)&&(Xt=Et.minimumUpdatePeriod),isNaN(Xt)?Xt:Math.max(Xt-ut,1)},getPublishTime:function jt(Et){return Et&&Et.hasOwnProperty(b.default.PUBLISH_TIME)?new Date(Et[b.default.PUBLISH_TIME]):null},getRepresentationCount:function Qt(Et){return Et&&Array.isArray(Et.Representation_asArray)?Et.Representation_asArray.length:0},getBitrateListForAdaptation:function cn(Et){var ut=Q(Et);return(ut&&Array.isArray(ut.Representation_asArray)?ut.Representation_asArray:[]).map(function(Ze){return{bandwidth:Ze.bandwidth,width:Ze.width||0,height:Ze.height||0,scanType:Ze.scanType||null,id:Ze.id||null}})},getRepresentationFor:function Cn(Et,ut){return ut&&ut.Representation_asArray&&ut.Representation_asArray.length>0&&De(Et)?ut.Representation_asArray[Et]:null},getRepresentationsForAdaptation:function xt(Et){var Ze,et,ut=[],Xt=function en(Et){if(Et&&Et.period&&De(Et.period.index)){var ut=Et.period.mpd.manifest.Period_asArray[Et.period.index];if(ut&&ut.AdaptationSet_asArray&&De(Et.index))return Q(ut.AdaptationSet_asArray[Et.index])}}(Et);if(Xt&&Xt.Representation_asArray){if(Et&&Et.period&&De(Et.period.index)){var wt=an(Et.period.mpd.manifest);wt&&(et=wt[0])}for(var qt=0,wn=Xt.Representation_asArray.length;qt<wn;++qt){var Fn=Xt.Representation_asArray[qt],Wt=new w.default;if(Wt.index=qt,Wt.adaptation=Et,Fn.hasOwnProperty(b.default.ID)&&(Wt.id=Fn.id),Fn.hasOwnProperty(b.default.CODECS)&&(Wt.codecs=Fn.codecs),Fn.hasOwnProperty(b.default.MIME_TYPE)&&(Wt.mimeType=Fn[b.default.MIME_TYPE]),Fn.hasOwnProperty(b.default.CODEC_PRIVATE_DATA)&&(Wt.codecPrivateData=Fn.codecPrivateData),Fn.hasOwnProperty(b.default.BANDWITH)&&(Wt.bandwidth=Fn.bandwidth),Fn.hasOwnProperty(b.default.WIDTH)&&(Wt.width=Fn.width),Fn.hasOwnProperty(b.default.HEIGHT)&&(Wt.height=Fn.height),Fn.hasOwnProperty(b.default.SCAN_TYPE)&&(Wt.scanType=Fn.scanType),Fn.hasOwnProperty(b.default.MAX_PLAYOUT_RATE)&&(Wt.maxPlayoutRate=Fn.maxPlayoutRate),Fn.hasOwnProperty(b.default.SEGMENT_BASE)?(Ze=Fn.SegmentBase,Wt.segmentInfoType=b.default.SEGMENT_BASE):Fn.hasOwnProperty(b.default.SEGMENT_LIST)?Wt.segmentInfoType=(Ze=Fn.SegmentList).hasOwnProperty(b.default.SEGMENT_TIMELINE)?b.default.SEGMENT_TIMELINE:b.default.SEGMENT_LIST:Fn.hasOwnProperty(b.default.SEGMENT_TEMPLATE)?(Wt.segmentInfoType=(Ze=Fn.SegmentTemplate).hasOwnProperty(b.default.SEGMENT_TIMELINE)?b.default.SEGMENT_TIMELINE:b.default.SEGMENT_TEMPLATE,Ze.hasOwnProperty(b.default.INITIALIZATION_MINUS)&&(Wt.initialization=Ze.initialization.split("$Bandwidth$").join(Fn.bandwidth).split("$RepresentationID$").join(Fn.id))):Wt.segmentInfoType=b.default.BASE_URL,Wt.essentialProperties=Gt(Fn),Ze){if(Ze.hasOwnProperty(b.default.INITIALIZATION)){var Kt=Ze.Initialization;Kt.hasOwnProperty(b.default.SOURCE_URL)&&(Wt.initialization=Kt.sourceURL),Kt.hasOwnProperty(b.default.RANGE)&&(Wt.range=Kt.range)}else Ue(Xt)&&Re(Xt)&&Xt.mimeType&&-1===Xt.mimeType.indexOf("application/mp4")&&(Wt.range=0);Ze.hasOwnProperty(b.default.TIMESCALE)&&(Wt.timescale=Ze.timescale),Ze.hasOwnProperty(b.default.DURATION)?Wt.segmentDuration=Ze.duration/Wt.timescale:Fn.hasOwnProperty(b.default.SEGMENT_TEMPLATE)&&(Ze=Fn.SegmentTemplate).hasOwnProperty(b.default.SEGMENT_TIMELINE)&&(Wt.segmentDuration=ft(Ze.SegmentTimeline)/Wt.timescale),Ze.hasOwnProperty(b.default.MEDIA)&&(Wt.media=Ze.media),Ze.hasOwnProperty(b.default.START_NUMBER)&&(Wt.startNumber=Ze.startNumber),Ze.hasOwnProperty(b.default.INDEX_RANGE)&&(Wt.indexRange=Ze.indexRange),Ze.hasOwnProperty(b.default.PRESENTATION_TIME_OFFSET)&&(Wt.presentationTimeOffset=Ze.presentationTimeOffset/Wt.timescale),Ze.hasOwnProperty(b.default.AVAILABILITY_TIME_OFFSET)?Wt.availabilityTimeOffset=Ze.availabilityTimeOffset:et&&void 0!==et.availabilityTimeOffset&&(Wt.availabilityTimeOffset=et.availabilityTimeOffset),Ze.hasOwnProperty(b.default.AVAILABILITY_TIME_COMPLETE)?Wt.availabilityTimeComplete="false"!==Ze.availabilityTimeComplete:et&&void 0!==et.availabilityTimeComplete&&(Wt.availabilityTimeComplete=et.availabilityTimeComplete)}Wt.MSETimeOffset=Xe(Wt),Wt.path=[Et.period.index,Et.index,qt],ut.push(Wt)}}return ut},getAdaptationsForPeriod:function xe(Et){var Ze,et,wt,ut=Et&&De(Et.index)?Et.mpd.manifest.Period_asArray[Et.index]:null,Xt=[];if(ut&&ut.AdaptationSet_asArray)for(wt=0;wt<ut.AdaptationSet_asArray.length;wt++)et=ut.AdaptationSet_asArray[wt],Ze=new E.default,et.hasOwnProperty(b.default.ID)&&(Ze.id=et.id),Ze.index=wt,Ze.period=Et,ke(et)?Ze.type=t.default.MUXED:Ie(et)?Ze.type=t.default.AUDIO:ge(et)?Ze.type=t.default.VIDEO:Ue(et)?Ze.type=t.default.TEXT:we(et)?Ze.type=t.default.IMAGE:le.warn("Unknown Adaptation stream type"),Xt.push(Ze);return Xt},getRegularPeriods:function Oe(Et){var wn,Fn,ut=!!Et&&at(Et.manifest),Xt=[],Ze=null,et=null,wt=null,qt=null;for(Fn=0,wn=Et&&Et.manifest&&Et.manifest.Period_asArray?Et.manifest.Period_asArray.length:0;Fn<wn;Fn++)(et=Et.manifest.Period_asArray[Fn]).hasOwnProperty(b.default.START)?(qt=new F.default).start=et.start:null!==Ze&&Ze.hasOwnProperty(b.default.DURATION)&&null!==wt?(qt=new F.default).start=parseFloat((wt.start+wt.duration).toFixed(5)):0===Fn&&!ut&&((qt=new F.default).start=0),null!==wt&&isNaN(wt.duration)&&(null!==qt?wt.duration=parseFloat((qt.start-wt.start).toFixed(5)):le.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==qt&&(qt.id=We(et,Fn),qt.index=Fn,qt.mpd=Et,et.hasOwnProperty(b.default.DURATION)&&(qt.duration=et.duration),wt&&(wt.nextPeriodId=qt.id),Xt.push(qt),Ze=et,wt=qt),et=null,qt=null;return 0===Xt.length||null!==wt&&isNaN(wt.duration)&&(wt.duration=parseFloat((function ot(Et){!function lt(){if(!K||!K.hasOwnProperty("error"))throw new Error(t.default.MISSING_CONFIG_ERROR)}();var Xt,ut=at(Et.mpd.manifest);return Et.mpd.manifest.mediaPresentationDuration?Xt=Et.mpd.manifest.mediaPresentationDuration:Et.duration?Xt=Et.duration:ut?Xt=Number.POSITIVE_INFINITY:K.error(new P.default(x.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",Et)),Xt}(wt)-wt.start).toFixed(5))),Xt},getMpd:function $e(Et){var ut=new L.default;return Et&&(ut.manifest=Et,Et.hasOwnProperty(b.default.AVAILABILITY_START_TIME)?ut.availabilityStartTime=new Date(Et.availabilityStartTime.getTime()):Et.loadedTime&&(ut.availabilityStartTime=new Date(Et.loadedTime.getTime())),Et.hasOwnProperty(b.default.AVAILABILITY_END_TIME)&&(ut.availabilityEndTime=new Date(Et.availabilityEndTime.getTime())),Et.hasOwnProperty(b.default.MINIMUM_UPDATE_PERIOD)&&(ut.minimumUpdatePeriod=Et.minimumUpdatePeriod),Et.hasOwnProperty(b.default.MEDIA_PRESENTATION_DURATION)&&(ut.mediaPresentationDuration=Et.mediaPresentationDuration),Et.hasOwnProperty(b.default.SUGGESTED_PRESENTATION_DELAY)&&(ut.suggestedPresentationDelay=Et.suggestedPresentationDelay),Et.hasOwnProperty(b.default.TIMESHIFT_BUFFER_DEPTH)&&(ut.timeShiftBufferDepth=Et.timeShiftBufferDepth),Et.hasOwnProperty(b.default.MAX_SEGMENT_DURATION)&&(ut.maxSegmentDuration=Et.maxSegmentDuration),Et.hasOwnProperty(b.default.PUBLISH_TIME)&&(ut.publishTime=new Date(Et.publishTime))),ut},getEventsForPeriod:function dt(Et){var wt,qt,ut=Et&&Et.mpd&&Et.mpd.manifest?Et.mpd.manifest:null,Xt=ut?ut.Period_asArray:null,Ze=Xt&&Et&&De(Et.index)?Xt[Et.index].EventStream_asArray:null,et=[];if(Ze)for(wt=0;wt<Ze.length;wt++){var wn=new g.default;if(wn.period=Et,wn.timescale=1,!Ze[wt].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(wn.schemeIdUri=Ze[wt][t.default.SCHEME_ID_URI],Ze[wt].hasOwnProperty(b.default.TIMESCALE)&&(wn.timescale=Ze[wt][b.default.TIMESCALE]),Ze[wt].hasOwnProperty(b.default.VALUE)&&(wn.value=Ze[wt][b.default.VALUE]),Ze[wt].hasOwnProperty(b.default.PRESENTATION_TIME_OFFSET)&&(wn.presentationTimeOffset=Ze[wt][b.default.PRESENTATION_TIME_OFFSET]),qt=0;Ze[wt].Event_asArray&&qt<Ze[wt].Event_asArray.length;qt++){var Fn=Ze[wt].Event_asArray[qt],Wt=new p.default;Wt.presentationTime=0,Wt.eventStream=wn,Fn.hasOwnProperty(b.default.PRESENTATION_TIME)&&(Wt.presentationTime=Fn.presentationTime),Wt.calculatedPresentationTime=Wt.presentationTime/wn.timescale+Et.start-(wn.presentationTimeOffset?wn.presentationTimeOffset/wn.timescale:0),Fn.hasOwnProperty(b.default.DURATION)&&(Wt.duration=Fn.duration/wn.timescale),Wt.id=Fn.hasOwnProperty(b.default.ID)?Fn.id:null,Wt.messageData=Fn.Signal&&Fn.Signal.Binary?_e.decodeArray(Fn.Signal.Binary.toString()):Fn.messageData||Fn.__cdata||Fn.__text,et.push(Wt)}}return et},getEssentialPropertiesForRepresentation:Gt,getEventStreamForAdaptationSet:function zt(Et,ut,Xt){var Ze,et,wt;return Et&&Et.Period_asArray&&ut&&ut.period&&De(ut.period.index)&&(et=Et.Period_asArray[ut.period.index])&&et.AdaptationSet_asArray&&De(ut.index)&&(wt=et.AdaptationSet_asArray[ut.index])&&(Ze=wt.InbandEventStream_asArray),Lt(Ze,null,Xt)},getEventStreamForRepresentation:function Rt(Et,ut,Xt){var Ze,et,wt,qt;return Et&&Et.Period_asArray&&ut&&ut.adaptation&&ut.adaptation.period&&De(ut.adaptation.period.index)&&(et=Et.Period_asArray[ut.adaptation.period.index])&&et.AdaptationSet_asArray&&De(ut.adaptation.index)&&(wt=et.AdaptationSet_asArray[ut.adaptation.index])&&wt.Representation_asArray&&De(ut.index)&&(qt=wt.Representation_asArray[ut.index])&&(Ze=qt.InbandEventStream_asArray),Lt(Ze,ut,Xt)},getUTCTimingSources:function $t(Et){var ut=at(Et),Xt=!!Et&&Et.hasOwnProperty(b.default.AVAILABILITY_START_TIME),Ze=Et?Et.UTCTiming_asArray:null,et=[];return(ut||Xt)&&Ze&&Ze.forEach(function(wt){var qt=new D.default;wt.hasOwnProperty(t.default.SCHEME_ID_URI)&&(qt.schemeIdUri=wt.schemeIdUri,wt.hasOwnProperty(b.default.VALUE)&&(qt.value=wt.value.toString(),et.push(qt)))}),et},getBaseURLsFromElement:an,getRepresentationSortFunction:ve,getContentSteering:function mn(Et){if(Et&&Et.hasOwnProperty(b.default.CONTENT_STEERING_AS_ARRAY)){var ut=Et[b.default.CONTENT_STEERING_AS_ARRAY][0],Xt=new M.default;return Xt.serverUrl=ut.__text,ut.hasOwnProperty(b.default.DEFAULT_SERVICE_LOCATION)&&(Xt.defaultServiceLocation=ut[b.default.DEFAULT_SERVICE_LOCATION]),ut.hasOwnProperty(b.default.QUERY_BEFORE_START)&&(Xt.queryBeforeStart="true"===ut[b.default.QUERY_BEFORE_START].toLowerCase()),ut.hasOwnProperty(b.default.PROXY_SERVER_URL)&&(Xt.proxyServerUrl=ut[b.default.PROXY_SERVER_URL]),Xt}},getLocation:function An(Et){if(Et&&Et.hasOwnProperty(t.default.LOCATION))return Et.Location=Et.Location_asArray[0],Et.Location},getPatchLocation:function Ln(Et){if(Et&&Et.hasOwnProperty(b.default.PATCH_LOCATION))return Et.PatchLocation=Et.PatchLocation_asArray[0],Et.PatchLocation},getSuggestedPresentationDelay:function Zn(Et){return Et&&Et.hasOwnProperty(b.default.SUGGESTED_PRESENTATION_DELAY)?Et.suggestedPresentationDelay:null},getAvailabilityStartTime:function Kn(Et){return Et&&Et.hasOwnProperty(b.default.AVAILABILITY_START_TIME)&&null!==Et.availabilityStartTime?Et.availabilityStartTime.getTime():null},getServiceDescriptions:function ci(Et){var ut=[];if(Et&&Et.hasOwnProperty(b.default.SERVICE_DESCRIPTION)){var Ze,Xt=T(Et.ServiceDescription_asArray);try{for(Xt.s();!(Ze=Xt.n()).done;){var et=Ze.value,wt=null,qt=null,wn=null,Fn=null,Wt=null,Kt=null;for(var nn in et)et.hasOwnProperty(nn)&&(nn===b.default.ID?wt=et[nn]:nn===b.default.SERVICE_DESCRIPTION_SCOPE?qt=et[nn].schemeIdUri:nn===b.default.SERVICE_DESCRIPTION_LATENCY?wn={target:parseInt(et[nn].target),max:parseInt(et[nn].max),min:parseInt(et[nn].min),referenceId:parseInt(et[nn].referenceId)}:nn===b.default.SERVICE_DESCRIPTION_PLAYBACK_RATE?Fn={max:parseFloat(et[nn].max),min:parseFloat(et[nn].min)}:nn===b.default.SERVICE_DESCRIPTION_OPERATING_QUALITY?Wt={mediaType:et[nn].mediaType,max:parseInt(et[nn].max),min:parseInt(et[nn].min),target:parseInt(et[nn].target),type:et[nn].type,maxQualityDifference:parseInt(et[nn].maxQualityDifference)}:nn===b.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(Kt={mediaType:et[nn].mediaType,max:parseInt(et[nn].max),min:parseInt(et[nn].min),target:parseInt(et[nn].target)}));ut.push({id:wt,schemeIdUri:qt,latency:wn,playbackRate:Fn,operatingQuality:Wt,operatingBandwidth:Kt})}}catch(Tn){Xt.e(Tn)}finally{Xt.f()}}return ut},getSupplementalProperties:function vn(Et){var ut={};if(Et&&Et.hasOwnProperty(b.default.SUPPLEMENTAL_PROPERTY)){var Ze,Xt=T(Et.SupplementalProperty_asArray);try{for(Xt.s();!(Ze=Xt.n()).done;){var et=Ze.value;et.hasOwnProperty(t.default.SCHEME_ID_URI)&&et.hasOwnProperty(b.default.VALUE)&&(ut[et[t.default.SCHEME_ID_URI]]=et[b.default.VALUE])}}catch(wt){Xt.e(wt)}finally{Xt.f()}}return ut},setConfig:function gn(Et){Et&&(Et.errHandler&&(K=Et.errHandler),Et.BASE64&&(_e=Et.BASE64))}},function Le(){le=Object(k.default)(se).getInstance().getLogger(q)}(),q}Fe.__dashjs_factory_name="DashManifestModel",S.default=V.default.getSingletonFactory(Fe)},"./src/dash/models/PatchManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/dash/models/PatchManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),E=c(
/*! ../vo/SimpleXPath */
"./src/dash/vo/SimpleXPath.js"),F=c(
/*! ../vo/PatchOperation */
"./src/dash/vo/PatchOperation.js");function L(){var D,p,f=this.context;return D={getIsPatch:function y(k){return k&&k.hasOwnProperty(t.default.ORIGINAL_MPD_ID)||!1},getPublishTime:function M(k){return k&&k.hasOwnProperty(t.default.PUBLISH_TIME)?new Date(k[t.default.PUBLISH_TIME]):null},getOriginalPublishTime:function U(k){return k&&k.hasOwnProperty(t.default.ORIGINAL_PUBLISH_TIME)?new Date(k[t.default.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function R(k){return k&&k[t.default.ORIGINAL_MPD_ID]||null},getPatchOperations:function V(k){return k?(k.__children||[]).map(function(P){var x=Object.keys(P)[0];if("add"!==x&&"remove"!==x&&"replace"!==x)return p.warn("Ignoring node of invalid action: ".concat(x)),null;var O=P[x],T=O.sel;if("add"===x&&O.type){if(!O.type.startsWith("@"))return p.warn("Ignoring add action for prefixed namespace declaration: ".concat(O.type,"=").concat(O.__text)),null;T="".concat(T,"/").concat(O.type)}var N=new E.default(T);if(!N.isValid())return p.warn("Ignoring action with invalid selector: ".concat(x," - ").concat(T)),null;var C=null;N.findsAttribute()?C=O.__text||"":"remove"!==x&&(C=O.__children.reduce(function(Y,J){var ce=Object.keys(J)[0];return"#text"!==ce&&(Y[ce]=Y[ce]||[],Y[ce].push(J[ce])),Y},{}));var B=new F.default(x,N,C);return"add"===x&&(B.position=O.pos),B}).filter(function(P){return!!P}):[]}},function g(){p=Object(w.default)(f).getInstance().getLogger(D)}(),D}L.__dashjs_factory_name="PatchManifestModel",S.default=b.default.getSingletonFactory(L)},"./src/dash/parser/DashParser.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/DashParser.js ***!
                  \***************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ./objectiron */
"./src/dash/parser/objectiron.js"),w=c(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),E=c(
/*! ./matchers/StringMatcher */
"./src/dash/parser/matchers/StringMatcher.js"),F=c(
/*! ./matchers/DurationMatcher */
"./src/dash/parser/matchers/DurationMatcher.js"),L=c(
/*! ./matchers/DateTimeMatcher */
"./src/dash/parser/matchers/DateTimeMatcher.js"),D=c(
/*! ./matchers/NumericMatcher */
"./src/dash/parser/matchers/NumericMatcher.js"),p=c(
/*! ./matchers/LangMatcher */
"./src/dash/parser/matchers/LangMatcher.js"),f=c(
/*! ./maps/RepresentationBaseValuesMap */
"./src/dash/parser/maps/RepresentationBaseValuesMap.js"),g=c(
/*! ./maps/SegmentValuesMap */
"./src/dash/parser/maps/SegmentValuesMap.js");function y(M){var V,k,P,x,O,U=this.context,R=(M=M||{}).debug;return V={parse:function B(Y){var J,ce=window.performance.now();if(!(J=x.xml_str2json(Y)))throw new Error("parsing the manifest failed");var Fe=window.performance.now();J.Patch?((J=J.Patch).add_asArray&&J.add_asArray.forEach(function(le){return O.run(le)}),J.replace_asArray&&J.replace_asArray.forEach(function(le){return O.run(le)})):O.run(J=J.MPD);var q=window.performance.now();return k.info("Parsing complete: ( xml2json: "+(Fe-ce).toPrecision(3)+"ms, objectiron: "+(q-Fe).toPrecision(3)+"ms, total: "+((q-ce)/1e3).toPrecision(3)+"s)"),J.protocol="DASH",J},getMatchers:function N(){return P},getIron:function C(){return O}},function T(){k=R.getLogger(V),P=[new F.default,new L.default,new D.default,new p.default,new E.default],x=new w.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:P}),O=Object(b.default)(U).create({adaptationset:new f.default,period:new g.default})}(),V}y.__dashjs_factory_name="DashParser",S.default=t.default.getClassFactory(y)},"./src/dash/parser/maps/CommonProperty.js":
/*!************************************************!*\
                  !*** ./src/dash/parser/maps/CommonProperty.js ***!
                  \************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,F(y.key),y)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(f){!function b(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p);var M;this._name=f,this._merge=(M=f)&&M.length&&M.charAt(0)===M.charAt(0).toUpperCase()}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),p}()},"./src/dash/parser/maps/MapNode.js":
/*!*****************************************!*\
                  !*** ./src/dash/parser/maps/MapNode.js ***!
                  \*****************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./CommonProperty */
"./src/dash/parser/maps/CommonProperty.js");function b(f){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function E(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,L(M.key),M)}}function L(f){var g=function D(f,g){if("object"!==b(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==b(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===b(g)?g:String(g)}S.default=function(){function f(g,y,M){var U=this;(function w(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this._name=g||"",this._properties=[],this._children=M||[],Array.isArray(y)&&y.forEach(function(R){U._properties.push(new t.default(R))})}return function F(f,g,y){return g&&E(f.prototype,g),y&&E(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),f}()},"./src/dash/parser/maps/RepresentationBaseValuesMap.js":
/*!*************************************************************!*\
                  !*** ./src/dash/parser/maps/RepresentationBaseValuesMap.js ***!
                  \*************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),b=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function w(P){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function E(P,x){for(var O=0;O<x.length;O++){var T=x[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,L(T.key),T)}}function L(P){var x=function D(P,x){if("object"!==w(P)||null===P)return P;var O=P[Symbol.toPrimitive];if(void 0!==O){var T=O.call(P,x||"default");if("object"!==w(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===w(x)?x:String(x)}function f(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&g(P,x)}function g(P,x){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function y(P){var x=function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=V(P);if(x){var C=V(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function M(P,x){if(x&&("object"===w(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function U(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function V(P){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(P)}S.default=function(P){f(O,P);var x=y(O);function O(){!function p(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,O);var T=[b.default.PROFILES,b.default.WIDTH,b.default.HEIGHT,b.default.SAR,b.default.FRAMERATE,b.default.AUDIO_SAMPLING_RATE,b.default.MIME_TYPE,b.default.SEGMENT_PROFILES,b.default.CODECS,b.default.MAXIMUM_SAP_PERIOD,b.default.START_WITH_SAP,b.default.MAX_PLAYOUT_RATE,b.default.CODING_DEPENDENCY,b.default.SCAN_TYPE,b.default.FRAME_PACKING,b.default.AUDIO_CHANNEL_CONFIGURATION,b.default.CONTENT_PROTECTION,b.default.ESSENTIAL_PROPERTY,b.default.SUPPLEMENTAL_PROPERTY,b.default.INBAND_EVENT_STREAM];return x.call(this,b.default.ADAPTATION_SET,T,[new t.default(b.default.REPRESENTATION,T,[new t.default(b.default.SUB_REPRESENTATION,T)])])}return function F(P,x,O){return x&&E(P.prototype,x),O&&E(P,O),Object.defineProperty(P,"prototype",{writable:!1}),P}(O)}(t.default)},"./src/dash/parser/maps/SegmentValuesMap.js":
/*!**************************************************!*\
                  !*** ./src/dash/parser/maps/SegmentValuesMap.js ***!
                  \**************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),b=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function w(P){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function E(P,x){for(var O=0;O<x.length;O++){var T=x[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,L(T.key),T)}}function L(P){var x=function D(P,x){if("object"!==w(P)||null===P)return P;var O=P[Symbol.toPrimitive];if(void 0!==O){var T=O.call(P,x||"default");if("object"!==w(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===w(x)?x:String(x)}function f(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&g(P,x)}function g(P,x){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function y(P){var x=function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=V(P);if(x){var C=V(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function M(P,x){if(x&&("object"===w(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function U(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function V(P){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(P)}S.default=function(P){f(O,P);var x=y(O);function O(){!function p(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,O);var T=[b.default.SEGMENT_BASE,b.default.SEGMENT_TEMPLATE,b.default.SEGMENT_LIST];return x.call(this,b.default.PERIOD,T,[new t.default(b.default.ADAPTATION_SET,T,[new t.default(b.default.REPRESENTATION,T)])])}return function F(P,x,O){return x&&E(P.prototype,x),O&&E(P,O),Object.defineProperty(P,"prototype",{writable:!1}),P}(O)}(t.default)},"./src/dash/parser/matchers/BaseMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/BaseMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,F(y.key),y)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(f,g){(function b(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this._test=f,this._converter=g}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),p}()},"./src/dash/parser/matchers/DateTimeMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DateTimeMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function b(T){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(T)}function w(T,N){for(var C=0;C<N.length;C++){var B=N[C];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,F(B.key),B)}}function F(T){var N=function L(T,N){if("object"!==b(T)||null===T)return T;var C=T[Symbol.toPrimitive];if(void 0!==C){var B=C.call(T,N||"default");if("object"!==b(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(T)}(T,"string");return"symbol"===b(N)?N:String(N)}function p(T,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),N&&f(T,N)}function f(T,N){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,Y){return B.__proto__=Y,B})(T,N)}function g(T){var N=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,B=R(T);if(N){var J=R(this).constructor;Y=Reflect.construct(B,arguments,J)}else Y=B.apply(this,arguments);return function y(T,N){if(N&&("object"===b(N)||"function"==typeof N))return N;if(void 0!==N)throw new TypeError("Derived constructors may only return object or undefined");return function M(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T)}(this,Y)}}function R(T){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)})(T)}var x=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;S.default=function(T){p(C,T);var N=g(C);function C(){return function D(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}(this,C),N.call(this,function(B){return x.test(B.value)},function(B){var J,Y=x.exec(B);if(J=Date.UTC(parseInt(Y[1],10),parseInt(Y[2],10)-1,parseInt(Y[3],10),parseInt(Y[4],10),parseInt(Y[5],10),Y[6]&&parseInt(Y[6],10)||0,Y[7]&&1e3*parseFloat(Y[7])||0),Y[9]&&Y[10]){var ce=60*parseInt(Y[9],10)+parseInt(Y[10],10);J+=("+"===Y[8]?-1:1)*ce*60*1e3}return new Date(J)})}return function E(T,N,C){return N&&w(T.prototype,N),C&&w(T,C),Object.defineProperty(T,"prototype",{writable:!1}),T}(C)}(t.default)},"./src/dash/parser/matchers/DurationMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DurationMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),b=c(
/*! ../../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function E(Y){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(J){return typeof J}:function(J){return J&&"function"==typeof Symbol&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J})(Y)}function F(Y,J){for(var ce=0;ce<J.length;ce++){var Fe=J[ce];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(Y,D(Fe.key),Fe)}}function D(Y){var J=function p(Y,J){if("object"!==E(Y)||null===Y)return Y;var ce=Y[Symbol.toPrimitive];if(void 0!==ce){var Fe=ce.call(Y,J||"default");if("object"!==E(Fe))return Fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===J?String:Number)(Y)}(Y,"string");return"symbol"===E(J)?J:String(J)}function g(Y,J){if("function"!=typeof J&&null!==J)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(J&&J.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),Object.defineProperty(Y,"prototype",{writable:!1}),J&&y(Y,J)}function y(Y,J){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Fe,q){return Fe.__proto__=q,Fe})(Y,J)}function M(Y){var J=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var q,Fe=k(Y);if(J){var le=k(this).constructor;q=Reflect.construct(Fe,arguments,le)}else q=Fe.apply(this,arguments);return function U(Y,J){if(J&&("object"===E(J)||"function"==typeof J))return J;if(void 0!==J)throw new TypeError("Derived constructors may only return object or undefined");return function R(Y){if(void 0===Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}(Y)}(this,q)}}function k(Y){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ce){return ce.__proto__||Object.getPrototypeOf(ce)})(Y)}var P=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;S.default=function(Y){g(ce,Y);var J=M(ce);function ce(){return function f(Y,J){if(!(Y instanceof J))throw new TypeError("Cannot call a class as a function")}(this,ce),J.call(this,function(Fe){for(var q=[w.default.MIN_BUFFER_TIME,w.default.MEDIA_PRESENTATION_DURATION,w.default.MINIMUM_UPDATE_PERIOD,w.default.TIMESHIFT_BUFFER_DEPTH,w.default.MAX_SEGMENT_DURATION,w.default.MAX_SUBSEGMENT_DURATION,w.default.SUGGESTED_PRESENTATION_DELAY,w.default.START,b.default.START_TIME,w.default.DURATION],le=q.length,K=0;K<le;K++)if(Fe.nodeName===q[K])return P.test(Fe.value);return!1},function(Fe){var q=P.exec(Fe),le=31536e3*parseFloat(q[3]||0)+2592e3*parseFloat(q[5]||0)+86400*parseFloat(q[7]||0)+3600*parseFloat(q[9]||0)+60*parseFloat(q[11]||0)+parseFloat(q[13]||0);return void 0!==q[1]&&(le=-le),le})}return function L(Y,J,ce){return J&&F(Y.prototype,J),ce&&F(Y,ce),Object.defineProperty(Y,"prototype",{writable:!1}),Y}(ce)}(t.default)},"./src/dash/parser/matchers/LangMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/LangMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),b=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),w=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),E=c.n(w);function F(T){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(T)}function L(T,N,C){return(N=f(N))in T?Object.defineProperty(T,N,{value:C,enumerable:!0,configurable:!0,writable:!0}):T[N]=C,T}function D(T,N){for(var C=0;C<N.length;C++){var B=N[C];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,f(B.key),B)}}function f(T){var N=function g(T,N){if("object"!==F(T)||null===T)return T;var C=T[Symbol.toPrimitive];if(void 0!==C){var B=C.call(T,N||"default");if("object"!==F(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(T)}(T,"string");return"symbol"===F(N)?N:String(N)}function M(T,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),N&&U(T,N)}function U(T,N){return(U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,Y){return B.__proto__=Y,B})(T,N)}function R(T){var N=function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,B=x(T);if(N){var J=x(this).constructor;Y=Reflect.construct(B,arguments,J)}else Y=B.apply(this,arguments);return function V(T,N){if(N&&("object"===F(N)||"function"==typeof N))return N;if(void 0!==N)throw new TypeError("Derived constructors may only return object or undefined");return function k(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T)}(this,Y)}}function x(T){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)})(T)}S.default=function(T){M(C,T);var N=R(C);function C(){return function y(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}(this,C),N.call(this,function(B,Y){var J,ce=(L(J={},b.default.ADAPTATION_SET,[b.default.LANG]),L(J,b.default.REPRESENTATION,[b.default.LANG]),L(J,b.default.CONTENT_COMPONENT,[b.default.LANG]),L(J,b.default.LABEL,[b.default.LANG]),L(J,b.default.GROUP_LABEL,[b.default.LANG]),J);if(ce.hasOwnProperty(Y)){var Fe=ce[Y];return void 0!==Fe&&Fe.indexOf(B.name)>=0}return!1},function(B){var Y=E()(B);return void 0!==Y?Y:String(B)})}return function p(T,N,C){return N&&D(T.prototype,N),C&&D(T,C),Object.defineProperty(T,"prototype",{writable:!1}),T}(C)}(t.default)},"./src/dash/parser/matchers/NumericMatcher.js":
/*!****************************************************!*\
                  !*** ./src/dash/parser/matchers/NumericMatcher.js ***!
                  \****************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function b(P){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function w(P,x){for(var O=0;O<x.length;O++){var T=x[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,F(T.key),T)}}function F(P){var x=function L(P,x){if("object"!==b(P)||null===P)return P;var O=P[Symbol.toPrimitive];if(void 0!==O){var T=O.call(P,x||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===b(x)?x:String(x)}function p(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&f(P,x)}function f(P,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function g(P){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(P);if(x){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function y(P,x){if(x&&("object"===b(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function M(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function R(P){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(P)}var V=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;S.default=function(P){p(O,P);var x=g(O);function O(){return function D(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,O),x.call(this,function(T){return V.test(T.value)},function(T){return parseFloat(T)})}return function E(P,x,O){return x&&w(P.prototype,x),O&&w(P,O),Object.defineProperty(P,"prototype",{writable:!1}),P}(O)}(t.default)},"./src/dash/parser/matchers/StringMatcher.js":
/*!***************************************************!*\
                  !*** ./src/dash/parser/matchers/StringMatcher.js ***!
                  \***************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),b=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function w(x){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(x)}function E(x,O,T){return(O=D(O))in x?Object.defineProperty(x,O,{value:T,enumerable:!0,configurable:!0,writable:!0}):x[O]=T,x}function F(x,O){for(var T=0;T<O.length;T++){var N=O[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,D(N.key),N)}}function D(x){var O=function p(x,O){if("object"!==w(x)||null===x)return x;var T=x[Symbol.toPrimitive];if(void 0!==T){var N=T.call(x,O||"default");if("object"!==w(N))return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(x)}(x,"string");return"symbol"===w(O)?O:String(O)}function g(x,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(O&&O.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),O&&y(x,O)}function y(x,O){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,C){return N.__proto__=C,N})(x,O)}function M(x){var O=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,N=k(x);if(O){var B=k(this).constructor;C=Reflect.construct(N,arguments,B)}else C=N.apply(this,arguments);return function U(x,O){if(O&&("object"===w(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function R(x){if(void 0===x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}(x)}(this,C)}}function k(x){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)})(x)}S.default=function(x){g(T,x);var O=M(T);function T(){return function f(x,O){if(!(x instanceof O))throw new TypeError("Cannot call a class as a function")}(this,T),O.call(this,function(N,C){var B,Y=(E(B={},b.default.MPD,[b.default.ID,b.default.PROFILES]),E(B,b.default.PERIOD,[b.default.ID]),E(B,b.default.BASE_URL,[b.default.SERVICE_LOCATION,b.default.BYTE_RANGE]),E(B,b.default.SEGMENT_BASE,[b.default.INDEX_RANGE]),E(B,b.default.INITIALIZATION,[b.default.RANGE]),E(B,b.default.REPRESENTATION_INDEX,[b.default.RANGE]),E(B,b.default.SEGMENT_LIST,[b.default.INDEX_RANGE]),E(B,b.default.BITSTREAM_SWITCHING,[b.default.RANGE]),E(B,b.default.SEGMENT_URL,[b.default.MEDIA_RANGE,b.default.INDEX_RANGE]),E(B,b.default.SEGMENT_TEMPLATE,[b.default.INDEX_RANGE,b.default.MEDIA,b.default.INDEX,b.default.INITIALIZATION_MINUS,b.default.BITSTREAM_SWITCHING_MINUS]),E(B,b.default.ASSET_IDENTIFIER,[b.default.VALUE,b.default.ID]),E(B,b.default.EVENT_STREAM,[b.default.VALUE]),E(B,b.default.ADAPTATION_SET,[b.default.PROFILES,b.default.MIME_TYPE,b.default.SEGMENT_PROFILES,b.default.CODECS,b.default.CONTENT_TYPE]),E(B,b.default.FRAME_PACKING,[b.default.VALUE,b.default.ID]),E(B,b.default.AUDIO_CHANNEL_CONFIGURATION,[b.default.VALUE,b.default.ID]),E(B,b.default.CONTENT_PROTECTION,[b.default.VALUE,b.default.ID]),E(B,b.default.ESSENTIAL_PROPERTY,[b.default.VALUE,b.default.ID]),E(B,b.default.SUPPLEMENTAL_PROPERTY,[b.default.VALUE,b.default.ID]),E(B,b.default.INBAND_EVENT_STREAM,[b.default.VALUE,b.default.ID]),E(B,b.default.ACCESSIBILITY,[b.default.VALUE,b.default.ID]),E(B,b.default.ROLE,[b.default.VALUE,b.default.ID]),E(B,b.default.RATING,[b.default.VALUE,b.default.ID]),E(B,b.default.VIEWPOINT,[b.default.VALUE,b.default.ID]),E(B,b.default.CONTENT_COMPONENT,[b.default.CONTENT_TYPE]),E(B,b.default.REPRESENTATION,[b.default.ID,b.default.DEPENDENCY_ID,b.default.MEDIA_STREAM_STRUCTURE_ID]),E(B,b.default.SUBSET,[b.default.ID]),E(B,b.default.METRICS,[b.default.METRICS_MINUS]),E(B,b.default.REPORTING,[b.default.VALUE,b.default.ID]),B);if(Y.hasOwnProperty(C)){var J=Y[C];return void 0!==J&&J.indexOf(N.name)>=0}return!1},function(N){return String(N)})}return function L(x,O,T){return O&&F(x.prototype,O),T&&F(x,T),Object.defineProperty(x,"prototype",{writable:!1}),x}(T)}(t.default)},"./src/dash/parser/objectiron.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/objectiron.js ***!
                  \***************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(F){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(F)}function w(F){function L(g,y){for(var M in g)y.hasOwnProperty(M)||(y[M]=g[M])}function D(g,y,M){for(var U=0,R=g.length;U<R;++U){var V=g[U];if(y[V.name])if(M[V.name]){if(V.merge){var k=y[V.name],P=M[V.name];"object"===b(k)&&"object"===b(P)?L(k,P):M[V.name]=k+P}}else M[V.name]=y[V.name]}}function p(g,y){for(var M=0,U=g.children.length;M<U;++M){var R=g.children[M],V=y[R.name+"_asArray"];if(V)for(var k=0,P=V.length;k<P;++k){var x=V[k];D(g.properties,y,x),p(R,x)}}}return{run:function f(g){if(null===g||"object"!==b(g))return g;if(g.Period_asArray&&"period"in F)for(var y=F.period,M=g.Period_asArray,U=0,R=M.length;U<R;++U){var V=M[U];if(p(y,V),"adaptationset"in F){var k=V.AdaptationSet_asArray;if(k)for(var P=F.adaptationset,x=0,O=k.length;x<O;++x)p(P,k[x])}}return g}}}w.__dashjs_factory_name="ObjectIron";var E=t.default.getClassFactory(w);S.default=E},"./src/dash/utils/ListSegmentsGetter.js":
/*!**********************************************!*\
                  !*** ./src/dash/utils/ListSegmentsGetter.js ***!
                  \**********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function E(L,D){var p=(L=L||{}).timelineConverter;function g(){if(!p||!p.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(b.default.MISSING_CONFIG_ERROR)}function M(R,V){if(g(),!R)return null;var k=R.adaptation.period.mpd.manifest.Period_asArray[R.adaptation.period.index].AdaptationSet_asArray[R.adaptation.index].Representation_asArray[R.index].SegmentList,P=k.SegmentURL_asArray.length,x=R&&!isNaN(R.startNumber)?R.startNumber:1,O=Math.max(x-1,0),T=Math.max(V-O,0),N=null;if(T<P){var C=k.SegmentURL_asArray[T];(N=Object(w.getIndexBasedSegment)(p,D,R,V))&&(N.replacementTime=(x+V-1)*R.segmentDuration,N.media=C.media?C.media:"",N.mediaRange=C.mediaRange,N.indexRange=C.indexRange)}return N}return{getSegmentByIndex:M,getSegmentByTime:function U(R,V){if(g(),!R)return null;var k=R.segmentDuration;if(isNaN(k))return null;var P=p.calcPeriodRelativeTimeFromMpdRelativeTime(R,V);return M(R,Math.floor(P/k))},getMediaFinishedInformation:function y(R){var V={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!R)return V;var k=R.adaptation.period.mpd.manifest.Period_asArray[R.adaptation.period.index].AdaptationSet_asArray[R.adaptation.index].Representation_asArray[R.index].SegmentList,P=R&&!isNaN(R.startNumber)?R.startNumber:1,x=Math.max(P-1,0);return V.numberOfSegments=x+k.SegmentURL_asArray.length,V}}}E.__dashjs_factory_name="ListSegmentsGetter";var F=t.default.getClassFactory(E);S.default=F},"./src/dash/utils/Round10.js":
/*!***********************************!*\
                  !*** ./src/dash/utils/Round10.js ***!
                  \***********************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,F(M.key),M)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==t(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S),c.d(S,"default",function(){return D});var D=function(){function f(){!function b(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f)}return function E(f,g,y){return g&&w(f.prototype,g),y&&w(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,null,[{key:"round10",value:function(y,M){return function p(f,g,y){return typeof y>"u"||0==+y?Math[f](g):(y=+y,null===(g=+g)||isNaN(g)||"number"!=typeof y||y%1!=0?NaN:(g=g.toString().split("e"),+((g=(g=Math[f](+(g[0]+"e"+(g[1]?+g[1]-y:-y)))).toString().split("e"))[0]+"e"+(g[1]?+g[1]+y:y))))}("round",y,M)}}]),f}()},"./src/dash/utils/SegmentBaseGetter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/SegmentBaseGetter.js ***!
                  \*********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js");function w(F){var L=(F=F||{}).timelineConverter;function p(){if(!L||!L.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(b.default.MISSING_CONFIG_ERROR)}function g(U,R){if(p(),!U)return null;var k,V=U.segments?U.segments.length:-1;if(R<V&&(k=U.segments[R])&&k.index===R)return k;for(var P=0;P<V;P++)if((k=U.segments[P])&&k.index===R)return k;return null}return{getSegmentByIndex:g,getSegmentByTime:function y(U,R){return p(),g(U,function M(U,R){if(!U)return-1;var x,O,T,N,C,V=U.segments,k=V?V.length:null,P=-1;if(V&&k>0)for(C=0;C<k;C++)if(R+(x=(N=(O=V[C]).duration)/2)>=(T=O.presentationStartTime)&&R-x<T+N){P=O.index;break}return P}(U,R))},getMediaFinishedInformation:function f(U){var R={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return!U||!U.segments||(R.numberOfSegments=U.segments.length),R}}}w.__dashjs_factory_name="SegmentBaseGetter";var E=t.default.getClassFactory(w);S.default=E},"./src/dash/utils/SegmentsUtils.js":
/*!*****************************************!*\
                  !*** ./src/dash/utils/SegmentsUtils.js ***!
                  \*****************************************/
/*! exports provided: unescapeDollarsInTemplate, replaceIDForTemplate, replaceTokenForTemplate, getIndexBasedSegment, getTimeBasedSegment */function(nt,S,c){"use strict";c.r(S),c.d(S,"unescapeDollarsInTemplate",function(){return E}),c.d(S,"replaceIDForTemplate",function(){return F}),c.d(S,"replaceTokenForTemplate",function(){return L}),c.d(S,"getIndexBasedSegment",function(){return f}),c.d(S,"getTimeBasedSegment",function(){return g});var t=c(
/*! ./../vo/Segment */
"./src/dash/vo/Segment.js");function b(y,M){for(;y.length<M;)y="0"+y;return y}function E(y){return y&&y.split("$$").join("$")}function F(y,M){if(!M||!y||-1===y.indexOf("$RepresentationID$"))return y;var U=M.toString();return y.split("$RepresentationID$").join(U)}function L(y,M,U){var V,k,P,x,O,T,N=M.length;if(!y)return y;for(;;){if((V=y.indexOf("$"+M))<0||(k=y.indexOf("$",V+N))<0)return y;if((P=y.indexOf("%0",V+N))>V&&P<k)switch(x=y.charAt(k-1),O=parseInt(y.substring(P+2,k-1),10),x){case"d":case"i":case"u":T=b(U.toString(),O);break;case"x":T=b(U.toString(16),O);break;case"X":T=b(U.toString(16),O).toUpperCase();break;case"o":T=b(U.toString(8),O);break;default:return y}else T=U;y=y.substring(0,V)+T+y.substring(k+1)}}function D(y,M,U,R,V,k,P,x){var O=new t.default;return O.representation=y,O.duration=M,O.presentationStartTime=U,O.mediaStartTime=R,O.availabilityStartTime=V.calcAvailabilityStartTimeFromPresentationTime(k,y,P),O.availabilityEndTime=V.calcAvailabilityEndTimeFromPresentationTime(k+M,y,P),O.wallStartTime=V.calcWallTimeForSegment(O,P),O.replacementNumber=function w(y,M){return y.representation.startNumber+M}(O,x),O.index=x,O}function p(y,M,U,R){var V=M.adaptation.period;if(isFinite(V.duration)&&V.start+V.duration<=U.presentationStartTime)return!1;if(R){if("INF"===M.availabilityTimeOffset)return!0;var k=y.getClientReferenceTime();return U.availabilityStartTime.getTime()<=k&&(!isFinite(U.availabilityEndTime)||U.availabilityEndTime.getTime()>=k)}return!0}function f(y,M,U,R){var V,k,P;V=U.segmentDuration,isNaN(V)&&(V=U.adaptation.period.duration),k=parseFloat((U.adaptation.period.start+R*V).toFixed(5)),P=parseFloat((k+V).toFixed(5));var O=D(U,V,k,y.calcMediaTimeFromPresentationTime(k,U),y,P,M,R);return p(y,U,O,M)?O:null}function g(y,M,U,R,V,k,P,x,O,T){var B,J,N=R/k,C=V/k;return B=y.calcPresentationTimeFromMediaTime(N,U),p(y,U,J=D(U,C,B,N,y,B+C,M,O),M)?(J.replacementTime=T||R,P=L(P,"Number",J.replacementNumber),P=L(P,"Time",J.replacementTime),J.media=P,J.mediaRange=x,J):null}},"./src/dash/utils/TemplateSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TemplateSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function E(L,D){var p=(L=L||{}).timelineConverter;function g(){if(!p||!p.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(b.default.MISSING_CONFIG_ERROR)}function M(R,V){if(g(),!R)return null;var k=R.adaptation.period.mpd.manifest.Period_asArray[R.adaptation.period.index].AdaptationSet_asArray[R.adaptation.index].Representation_asArray[R.index].SegmentTemplate;V=Math.max(V,0);var P=Object(w.getIndexBasedSegment)(p,D,R,V);if(P){P.replacementTime=Math.round((V-1)*R.segmentDuration*R.timescale,10);var x=k.media;x=Object(w.replaceTokenForTemplate)(x,"Number",P.replacementNumber),x=Object(w.replaceTokenForTemplate)(x,"Time",P.replacementTime),P.media=x}return P}return{getSegmentByIndex:M,getSegmentByTime:function U(R,V){if(g(),!R)return null;var k=R.segmentDuration;if(isNaN(k))return null;var P=p.calcPeriodRelativeTimeFromMpdRelativeTime(R,V);return M(R,Math.floor(P/k))},getMediaFinishedInformation:function y(R){var V={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!R)return V;var k=R.segmentDuration;return V.numberOfSegments=isNaN(k)?1:Math.ceil(R.adaptation.period.duration/k),V}}}E.__dashjs_factory_name="TemplateSegmentsGetter";var F=t.default.getClassFactory(E);S.default=F},"./src/dash/utils/TimelineConverter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/TimelineConverter.js ***!
                  \*********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=c(
/*! ../models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),L=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),D=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),p=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=c(
/*! ../../streaming/constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function g(){var R,V,k,P,y=this.context,M=Object(t.default)(y).getInstance(),U=Object(L.default)(y).getInstance();function N(ke){P=ke}function B(ke,we,Ke,st){var Qe,Ne=we.adaptation.period.mpd,Se=Ne.availabilityStartTime;if(st)Qe=Ke&&Ne.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(Se.getTime()+1e3*(ke+Ne.timeShiftBufferDepth)):Ne.availabilityEndTime;else if(Ke){var W=we.availabilityTimeOffset;Qe=new Date(Se.getTime()+1e3*(ke-W))}else Qe=Se;return Qe}function ce(ke,we){return(ke.getTime()-we.mpd.availabilityStartTime.getTime()+1e3*P)/1e3}function Fe(ke,we){return ke+(we.adaptation.period.start-we.presentationTimeOffset)}function me(ke){var we={start:NaN,end:NaN},Ke=ke[0].getAdapter().getRegularPeriods()[0],st=ce(new Date,Ke);if(!ke||0===ke.length)return{range:we,now:st};ke.forEach(function(Ne){var Se=Ne.getAdapter(),W=Se.getMediaInfoForType(Ne.getStreamInfo(),D.default.VIDEO)||Se.getMediaInfoForType(Ne.getStreamInfo(),D.default.AUDIO),ve=Se.getVoRepresentations(W)[0],Q={start:NaN,end:NaN};if(ve)if(ve.segmentInfoType===E.default.SEGMENT_TIMELINE)Q=function he(ke){var ae,ve,Q,X,Ke=V.getRepresentationFor(ke.index,ke.adaptation.period.mpd.manifest.Period_asArray[ke.adaptation.period.index].AdaptationSet_asArray[ke.adaptation.index]),Qe=Ke.SegmentTemplate.timescale,Ne=Ke.SegmentTemplate.SegmentTimeline.S_asArray,Se={start:0,end:0},W=0;for(Se.start=Fe(Ne[0].t/Qe,ke),Q=0,X=Ne.length;Q<X;Q++)ve=0,(ae=Ne[Q]).hasOwnProperty("r")&&(ve=ae.r),W+=ae.d*(1+ve);return Se.end=Fe((Ne[0].t+W)/Qe,ke),Se}(ve);else{var X=ve.adaptation.period;Q.start=X.start,Q.end=Math.max(st,X.start+X.duration)}!isNaN(Q.start)&&(isNaN(we.start)||we.start>Q.start)&&(we.start=Q.start),!isNaN(Q.end)&&(isNaN(we.end)||we.end<Q.end)&&(we.end=Q.end)}),we.end=Math.min(st,we.end);var Qe=Le(ke,we.end,!0);return we.end=isNaN(Qe)?we.end:Qe,we.start=Ke&&Ke.mpd&&Ke.mpd.timeShiftBufferDepth&&!isNaN(Ke.mpd.timeShiftBufferDepth)&&!isNaN(we.end)?Math.max(we.end-Ke.mpd.timeShiftBufferDepth,we.start):we.start,we.start=Le(ke,we.start),{range:we,now:st}}function De(ke,we){k=ke-we.end}function Le(ke,we){var Ke=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var st=0,Qe=!1,Ne=NaN;!Qe&&st<ke.length;){var Se=ke[st].getStreamInfo();Se.start<=we&&(!isFinite(Se.duration)||Se.start+Se.duration>=we)?(Ne=we,Qe=!0):!Ke&&Se.start>we&&(isNaN(Ne)||Se.start<Ne)?Ne=Se.start:Ke&&Se.start+Se.duration<we&&(isNaN(Ne)||Se.start+Se.duration>Ne)&&(Ne=Se.start+Se.duration),st+=1}return Ne}catch{return we}}function Ie(ke){void 0!==ke.offset&&!isNaN(ke.offset)&&N(ke.offset/1e3)}function ge(){P=0,k=0}function Ue(){M.off(b.default.UPDATE_TIME_SYNC_OFFSET,Ie,this),ge()}return R={initialize:function O(){ge(),M.on(b.default.UPDATE_TIME_SYNC_OFFSET,Ie,this)},getClientTimeOffset:function T(){return P},setClientTimeOffset:N,getClientReferenceTime:function C(){return Date.now()-1e3*k+1e3*P},calcAvailabilityStartTimeFromPresentationTime:function Y(ke,we,Ke){return B(ke,we,Ke)},calcAvailabilityEndTimeFromPresentationTime:function J(ke,we,Ke){return B(ke,we,Ke,!0)},calcPresentationTimeFromWallTime:ce,calcPresentationTimeFromMediaTime:Fe,calcPeriodRelativeTimeFromMpdRelativeTime:function Re(ke,we){return we-ke.adaptation.period.start},calcMediaTimeFromPresentationTime:function q(ke,we){return ke-we.adaptation.period.start+we.presentationTimeOffset},calcWallTimeForSegment:function le(ke,we){var st,Qe;return we&&(st=ke.presentationStartTime+ke.representation.adaptation.period.mpd.suggestedPresentationDelay,Qe=new Date(ke.availabilityStartTime.getTime()+1e3*st)),Qe},calcTimeShiftBufferWindow:function K(ke,we){if(!we)return function _e(ke){var we={start:NaN,end:NaN},Ke=0,st=NaN;return ke.forEach(function(Qe){var Ne=Qe.getStreamInfo();Ke+=Ne.duration,(isNaN(st)||Ne.start<st)&&(st=Ne.start)}),we.start=st,we.end=st+Ke,we}(ke);if(U.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var Ke=me(ke);return De(Ke.now,Ke.range),Ke.range}return function se(ke){var we={start:NaN,end:NaN};if(!ke||0===ke.length)return we;var Ke=ke[0].getAdapter().getRegularPeriods()[0],st=ce(new Date,Ke),Qe=Ke.mpd.timeShiftBufferDepth,Ne=isNaN(Qe)?0:st-Qe;if(we.start=Le(ke,Ne),we.end=!isNaN(we.start)&&st<we.start?st:Le(ke,st,!0),!isNaN(Qe)&&we.end<st-Qe&&(we.end=NaN),U.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var Se=me(ke);if(Se.range.end<we.start)return M.trigger(p.default.CONFORMANCE_VIOLATION,{level:f.default.LEVELS.WARNING,event:f.default.EVENTS.INVALID_DVR_WINDOW}),De(Se.now,Se.range),Se.range}return we}(ke)},reset:Ue},function x(){V=Object(F.default)(y).getInstance(),Ue()}(),R}g.__dashjs_factory_name="TimelineConverter",S.default=w.default.getSingletonFactory(g)},"./src/dash/utils/TimelineSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TimelineSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function E(L,D){var p=(L=L||{}).timelineConverter,f=L.dashMetrics;function y(){if(!p)throw new Error(b.default.MISSING_CONFIG_ERROR)}function U(x,O){var J,ce,Fe,q,le,K,_e,T=x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentTemplate||x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentList,C=T.SegmentURL_asArray,B=0,Y=-1;_e=x.timescale;var se=!1;for(Fe=0,q=(J=T.SegmentTimeline.S_asArray).length;Fe<q&&!se;Fe++)for(K=0,(ce=J[Fe]).hasOwnProperty("r")&&(K=ce.r),ce.hasOwnProperty("t")&&(B=ce.t),K<0&&(K=R(x,J[Fe+1],ce,_e,B/_e)),le=0;le<=K&&!se;le++)(se=O(B,T,C,ce,_e,++Y,Fe))&&(x.segmentDuration=ce.d/_e),B+=ce.d}function R(x,O,T,N,C){var B;if(O&&O.hasOwnProperty("t"))B=O.t/N;else try{var Y=0;if(isNaN(x.adaptation.period.start)||isNaN(x.adaptation.period.duration)||!isFinite(x.adaptation.period.duration)){var J=f.getCurrentDVRInfo();Y=isNaN(J.end)?0:J.end}else Y=x.adaptation.period.start+x.adaptation.period.duration;B=p.calcMediaTimeFromPresentationTime(Y,x),x.segmentDuration=T.d/N}catch{B=0}return Math.max(Math.ceil((B-C)/(T.d/N))-1,0)}return{getSegmentByIndex:function V(x,O,T){if(y(),!x)return null;var N=null,C=!1;return U(x,function(B,Y,J,ce,Fe,q,le){if(C||T<0){var K=Y.media,_e=ce.mediaRange;return J&&(K=J[le].media||"",_e=J[le].mediaRange),N=Object(w.getTimeBasedSegment)(p,D,x,B,ce.d,Fe,K,_e,q,ce.tManifest),!0}return B>=T*Fe-.5*ce.d&&(C=!0),!1}),N},getSegmentByTime:function k(x,O){if(y(),!x)return null;void 0===O&&(O=null);var T=null,N=p.calcMediaTimeFromPresentationTime(O,x);return U(x,function(C,B,Y,J,ce,Fe,q){var le=function P(x){return parseFloat(x.toPrecision(15))}(N*ce);if(le<C+J.d&&le>=C){var K=B.media,_e=J.mediaRange;return Y&&(K=Y[q].media||"",_e=Y[q].mediaRange),T=Object(w.getTimeBasedSegment)(p,D,x,C,J.d,ce,K,_e,Fe,J.tManifest),!0}return!1}),T},getMediaFinishedInformation:function M(x){if(!x)return 0;var Y,J,ce,Fe,q,le,K,N=0,C=0,B=0;for(K=x.timescale,Fe=(Y=(x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentTemplate||x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentList).SegmentTimeline.S_asArray).length,ce=0;ce<Fe;ce++)for(le=0,(J=Y[ce]).hasOwnProperty("r")&&(le=J.r),J.hasOwnProperty("t")&&(C=(N=J.t)/K),le<0&&(le=R(x,Y[ce+1],J,K,C)),q=0;q<=le;q++)B++,C=(N+=J.d)/K;return{numberOfSegments:B,mediaTimeOfLastSignaledSegment:C}}}}E.__dashjs_factory_name="TimelineSegmentsGetter";var F=t.default.getClassFactory(E);S.default=F},"./src/dash/vo/AdaptationSet.js":
/*!**************************************!*\
                  !*** ./src/dash/vo/AdaptationSet.js ***!
                  \**************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.period=null,this.index=-1,this.type=null})},"./src/dash/vo/BaseURL.js":
/*!********************************!*\
                  !*** ./src/dash/vo/BaseURL.js ***!
                  \********************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function b(g,y){for(var M=0;M<y.length;M++){var U=y[M];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(g,E(U.key),U)}}function w(g,y,M){return y&&b(g.prototype,y),M&&b(g,M),Object.defineProperty(g,"prototype",{writable:!1}),g}function E(g){var y=function F(g,y){if("object"!==t(g)||null===g)return g;var M=g[Symbol.toPrimitive];if(void 0!==M){var U=M.call(g,y||"default");if("object"!==t(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===y?String:Number)(g)}(g,"string");return"symbol"===t(y)?y:String(y)}c.r(S);var f=w(function g(y,M,U,R){(function L(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,g),this.url=y||"",this.serviceLocation=M||y||"",this.dvb_priority=U||1,this.dvb_weight=R||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0});f.DEFAULT_DVB_PRIORITY=1,f.DEFAULT_DVB_WEIGHT=1,S.default=f},"./src/dash/vo/ContentSteering.js":
/*!****************************************!*\
                  !*** ./src/dash/vo/ContentSteering.js ***!
                  \****************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null})},"./src/dash/vo/ContentSteeringRequest.js":
/*!***********************************************!*\
                  !*** ./src/dash/vo/ContentSteeringRequest.js ***!
                  \***********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function b(f){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,F(M.key),M)}}function E(f,g,y){return g&&w(f.prototype,g),y&&w(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}function F(f){var g=function L(f,g){if("object"!==b(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==b(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===b(g)?g:String(g)}S.default=E(function f(g){(function D(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.url=g||null,this.type=t.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"})},"./src/dash/vo/ContentSteeringResponse.js":
/*!************************************************!*\
                  !*** ./src/dash/vo/ContentSteeringResponse.js ***!
                  \************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]})},"./src/dash/vo/Event.js":
/*!******************************!*\
                  !*** ./src/dash/vo/Event.js ***!
                  \******************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN})},"./src/dash/vo/EventStream.js":
/*!************************************!*\
                  !*** ./src/dash/vo/EventStream.js ***!
                  \************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0})},"./src/dash/vo/ManifestInfo.js":
/*!*************************************!*\
                  !*** ./src/dash/vo/ManifestInfo.js ***!
                  \*************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null})},"./src/dash/vo/MediaInfo.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/MediaInfo.js ***!
                  \**********************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}})},"./src/dash/vo/Mpd.js":
/*!****************************!*\
                  !*** ./src/dash/vo/Mpd.js ***!
                  \****************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN})},"./src/dash/vo/PatchOperation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/PatchOperation.js ***!
                  \***************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,F(y.key),y)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(f,g,y){(function b(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.action=f,this.xpath=g,this.value=y,this.position=null}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"getMpdTarget",value:function(g){return this.xpath.getMpdTarget(g,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}]),p}()},"./src/dash/vo/Period.js":
/*!*******************************!*\
                  !*** ./src/dash/vo/Period.js ***!
                  \*******************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S);var D=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null});D.DEFAULT_ID="defaultId",S.default=D},"./src/dash/vo/ProducerReferenceTime.js":
/*!**********************************************!*\
                  !*** ./src/dash/vo/ProducerReferenceTime.js ***!
                  \**********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null})},"./src/dash/vo/Representation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/Representation.js ***!
                  \***************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function b(f){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function E(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,L(M.key),M)}}function L(f){var g=function D(f,g){if("object"!==b(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==b(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===b(g)?g:String(g)}S.default=function(){function f(){(function w(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return function F(f,g,y){return g&&E(f.prototype,g),y&&E(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==t.default.BASE_URL&&this.segmentInfoType!==t.default.SEGMENT_BASE&&!this.indexRange}}]),f}()},"./src/dash/vo/RepresentationInfo.js":
/*!*******************************************!*\
                  !*** ./src/dash/vo/RepresentationInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null})},"./src/dash/vo/Segment.js":
/*!********************************!*\
                  !*** ./src/dash/vo/Segment.js ***!
                  \********************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null})},"./src/dash/vo/SimpleXPath.js":
/*!************************************!*\
                  !*** ./src/dash/vo/SimpleXPath.js ***!
                  \************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,F(y.key),y)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(f){var g=this;(function b(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.valid="/"==f[0],this.path=f.split("/").filter(function(y){return 0!==y.length}).map(function(y){var M={name:y},U=y.indexOf("[");if(-1!=U){M.name=y.substring(0,U);var R=y.substring(U+1,y.length-1);g.valid=g.valid&&-1==R.indexOf("[");var V=R.indexOf("=");-1!=V?(M.attribute={name:R.substring(1,V),value:R.substring(V+1)},-1!=["'",'"'].indexOf(M.attribute.value[0])&&(M.attribute.value=M.attribute.value.substring(1,M.attribute.value.length-1))):M.position=parseInt(R,10)-1}return M})}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(g,y){for(var M=null,U=g,R=1,V="MPD";R<this.path.length&&null!==U;){M=U;var k=this.path[R];if(V=k.name,R!==this.path.length-1||!V.startsWith("@")){var P=M[V+"_asArray"]||[];0===P.length&&M[V]&&P.push(M[V]),k.position?U=P[k.position]||null:k.attribute?function(){var x=k.attribute;U=P.filter(function(O){return O[x.name]==x.value})[0]||null}():U=P[0]||null}R++}return null===U?null:V.startsWith("@")?{name:V.substring(1),leaf:U,target:U}:{name:V,leaf:U,target:y?M:U}}}]),p}()},"./src/dash/vo/StreamInfo.js":
/*!***********************************!*\
                  !*** ./src/dash/vo/StreamInfo.js ***!
                  \***********************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0})},"./src/dash/vo/UTCTiming.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/UTCTiming.js ***!
                  \**********************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.schemeIdUri="",this.value=""})},"./src/streaming/FragmentLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/FragmentLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),w=c(
/*! ./vo/HeadRequest */
"./src/streaming/vo/HeadRequest.js"),E=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js");function L(D){var R,V,p=this.context,f=(D=D||{}).eventBus,g=D.events,y=D.urlUtils,M=D.errors,U=D.streamId;return R={checkForExistence:function P(N){var C=function(J){f.trigger(g.CHECK_FOR_EXISTENCE_COMPLETED,{request:N,exists:J})};if(N){var B=new w.default(N.url);V.load({request:B,success:function(){C(!0)},error:function(){C(!1)}})}else C(!1)},load:function x(N){var C=function(Y,J){f.trigger(g.LOADING_COMPLETED,{request:N,response:Y||null,error:J||null,sender:R})};N?V.load({request:N,progress:function(Y){f.trigger(g.LOADING_PROGRESS,{request:N,stream:Y.stream,streamId:U}),Y.data&&f.trigger(g.LOADING_DATA_PROGRESS,{request:N,response:Y.data||null,error:null,sender:R})},success:function(Y){C(Y)},error:function(Y,J,ce){C(void 0,new E.default(M.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,ce,J))},abort:function(Y){Y&&f.trigger(g.LOADING_ABANDONED,{mediaType:Y.mediaType,request:Y,sender:R})}}):C(void 0,new E.default(M.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,M.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function O(){V&&V.abort()},reset:function T(){V&&(V.abort(),V=null)}},function k(){V=Object(b.default)(p).create({errHandler:D.errHandler,errors:M,dashMetrics:D.dashMetrics,mediaPlayerModel:D.mediaPlayerModel,requestModifier:D.requestModifier,urlUtils:y,constants:t.default,boxParser:D.boxParser,dashConstants:D.dashConstants,requestTimeout:D.settings.get().streaming.fragmentRequestTimeout})}(),R}L.__dashjs_factory_name="FragmentLoader",S.default=F.default.getClassFactory(L)},"./src/streaming/ManifestLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/ManifestLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),w=c(
/*! ./controllers/XlinkController */
"./src/streaming/controllers/XlinkController.js"),E=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),F=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),L=c(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),D=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),p=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),f=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),g=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),y=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),M=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),U=c(
/*! ../dash/parser/DashParser */
"./src/dash/parser/DashParser.js");function R(k){var C,B,Y,J,ce,P=this.context,x=(k=k||{}).debug,O=k.settings,T=Object(f.default)(P).getInstance(),N=Object(F.default)(P).getInstance(),Fe=k.mssHandler,q=k.errHandler;function K(De){T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:De.manifest})}return C={load:function se(De){var Le=new L.default(De,p.HTTPRequest.MPD_TYPE);Y.load({request:Le,success:function(Re,Ie,ge){if(J){var Ue,ke,we;if(ge&&ge!==De?(ke=N.parseBaseUrl(ge),Ue=ge):(N.isRelative(De)&&(De=N.resolve(De,window.location.href)),ke=N.parseBaseUrl(De)),"No Content"==Ie)return void T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null});if(null===ce&&(ce=function _e(De){var Le=null;return De.indexOf("SmoothStreamingMedia")>-1?(Fe&&(Le=Fe.createMssParser(),Fe.registerEvents()),Le):De.indexOf("MPD")>-1||De.indexOf("Patch")>-1?Object(U.default)(P).create({debug:x}):Le}(Re)),null===ce)return void T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(y.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,y.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(De))});J.setMatchers(ce.getMatchers()),J.setIron(ce.getIron());try{we=ce.parse(Re)}catch{return void T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(y.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,y.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(De))})}if(we){if(we.url=Ue||De,we.originalUrl||(we.originalUrl=we.url),we.hasOwnProperty(t.default.LOCATION)&&(ke=N.parseBaseUrl(we.Location_asArray[0]),B.debug("BaseURI set by Location to: "+ke)),O&&O.get().streaming.enableManifestDurationMismatchFix&&we.mediaPresentationDuration&&we.Period_asArray.length>1){var Ke=we.Period_asArray.reduce(function(st,Qe){return st+Qe.duration},0);!isNaN(Ke)&&we.mediaPresentationDuration>Ke&&(B.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),we.mediaPresentationDuration=Ke)}we.baseUri=ke,we.loadedTime=new Date,J.resolveManifestOnLoad(we),T.trigger(g.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:Re})}else T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(y.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,y.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(De))})}},error:function(Re,Ie,ge){T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(y.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,y.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(De,", ").concat(ge))})}})},reset:function me(){T.off(g.default.XLINK_READY,K,C),Fe&&Fe.reset(),J&&(J.reset(),J=null),Y&&(Y.abort(),Y=null)}},function le(){B=x.getLogger(C),T.on(g.default.XLINK_READY,K,C),Y=Object(E.default)(P).create({errHandler:k.errHandler,dashMetrics:k.dashMetrics,mediaPlayerModel:k.mediaPlayerModel,requestModifier:k.requestModifier,urlUtils:N,constants:t.default,dashConstants:b.default,errors:y.default,requestTimeout:k.settings.get().streaming.manifestRequestTimeout}),J=Object(w.default)(P).create({errHandler:q,dashMetrics:k.dashMetrics,mediaPlayerModel:k.mediaPlayerModel,requestModifier:k.requestModifier,settings:k.settings}),ce=null}(),C}R.__dashjs_factory_name="ManifestLoader";var V=M.default.getClassFactory(R);S.default=V},"./src/streaming/ManifestUpdater.js":
/*!******************************************!*\
                  !*** ./src/streaming/ManifestUpdater.js ***!
                  \******************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),E=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../core/Debug */
"./src/core/Debug.js"),L=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),D=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),p=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function f(){var U,R,V,k,P,x,O,T,N,C,B,Y,g=this.context,y=Object(t.default)(g).getInstance(),M=Object(p.default)(g).getInstance();function le(){V=NaN,O=!1,P=!0,x=!1,_e()}function _e(){null!==k&&(clearTimeout(k),k=null)}function se(ke){_e(),!x&&(isNaN(ke)&&!isNaN(V)&&(ke=1e3*V),isNaN(ke)||(R.debug("Refresh manifest in "+ke+" milliseconds."),k=setTimeout(Le,ke)))}function me(){var ke=arguments.length>0&&void 0!==arguments[0]&&arguments[0];O=!0;var we=N.getValue(),Ke=we.url,st=C.getPatchLocation(we),Qe=C.getLocation(we);st&&!ke?Ke=st:Qe&&(Ke=Qe),M.isRelative(Ke)&&(Ke=M.resolve(Ke,we.url)),T.load(Ke)}function De(ke){if(ke){if(C.getIsPatch(ke)){var we=ke;ke=N.getValue();var Ke=C.isPatchValid(ke,we),st=Ke;if(Ke){var Qe=C.getPublishTime(ke);st=C.applyPatchToManifest(ke,we);var Ne=C.getPublishTime(ke);st=Qe.getTime()!=Ne.getTime()}if(!st)return R.debug("Patch provided is invalid, performing full manifest refresh"),void me(!0);ke.loadedTime=new Date}}else(ke=N.getValue()).loadedTime=new Date;if(N.getValue()&&N.getValue().type===D.default.DYNAMIC&&ke.type===D.default.STATIC)return y.trigger(b.default.DYNAMIC_TO_STATIC),O=!1,void(x=!0);N.setValue(ke);var Se=new Date,W=(Se.getTime()-ke.loadedTime.getTime())/1e3;1e3*(V=C.getManifestUpdatePeriod(ke,W))>2147483647&&(V=2147483.647),y.trigger(b.default.MANIFEST_UPDATED,{manifest:ke}),R.info("Manifest has been refreshed at "+Se+"["+Se.getTime()/1e3+"] "),P||se()}function Le(){if(!P){if(O)return void se(Y.get().streaming.manifestUpdateRetryInterval);me()}}function he(ke){ke.error?ke.error.code===L.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&B.error(ke.error):De(ke.manifest)}function Re(){P=!1,se()}function Ie(){(P=!Y.get().streaming.scheduling.scheduleWhilePaused)&&_e()}function ge(){O=!1}return U={initialize:function Fe(){le(),y.on(b.default.STREAMS_COMPOSED,ge,this),y.on(w.default.PLAYBACK_STARTED,Re,this),y.on(w.default.PLAYBACK_PAUSED,Ie,this),y.on(b.default.INTERNAL_MANIFEST_LOADED,he,this)},setManifest:function q(ke){De(ke)},refreshManifest:me,getIsUpdating:function Ue(){return O},setConfig:function ce(ke){ke&&(ke.manifestModel&&(N=ke.manifestModel),ke.adapter&&(C=ke.adapter),ke.manifestLoader&&(T=ke.manifestLoader),ke.errHandler&&(B=ke.errHandler),ke.settings&&(Y=ke.settings))},reset:function K(){y.off(w.default.PLAYBACK_STARTED,Re,this),y.off(w.default.PLAYBACK_PAUSED,Ie,this),y.off(b.default.STREAMS_COMPOSED,ge,this),y.off(b.default.INTERNAL_MANIFEST_LOADED,he,this),le()}},function J(){R=Object(F.default)(g).getInstance().getLogger(U)}(),U}f.__dashjs_factory_name="ManifestUpdater",S.default=E.default.getClassFactory(f)},"./src/streaming/MediaPlayer.js":
/*!**************************************!*\
                  !*** ./src/streaming/MediaPlayer.js ***!
                  \**************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../externals/cea608-parser */
"./externals/cea608-parser.js"),b=c.n(t),w=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=c(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),L=c(
/*! ./controllers/PlaybackController */
"./src/streaming/controllers/PlaybackController.js"),D=c(
/*! ./controllers/StreamController */
"./src/streaming/controllers/StreamController.js"),p=c(
/*! ./controllers/GapController */
"./src/streaming/controllers/GapController.js"),f=c(
/*! ./controllers/CatchupController */
"./src/streaming/controllers/CatchupController.js"),g=c(
/*! ../dash/controllers/ServiceDescriptionController */
"./src/dash/controllers/ServiceDescriptionController.js"),y=c(
/*! ../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js"),M=c(
/*! ./controllers/MediaController */
"./src/streaming/controllers/MediaController.js"),U=c(
/*! ./controllers/BaseURLController */
"./src/streaming/controllers/BaseURLController.js"),R=c(
/*! ./ManifestLoader */
"./src/streaming/ManifestLoader.js"),V=c(
/*! ./utils/ErrorHandler */
"./src/streaming/utils/ErrorHandler.js"),k=c(
/*! ./utils/Capabilities */
"./src/streaming/utils/Capabilities.js"),P=c(
/*! ./utils/CapabilitiesFilter */
"./src/streaming/utils/CapabilitiesFilter.js"),x=c(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),O=c(
/*! ./models/URIFragmentModel */
"./src/streaming/models/URIFragmentModel.js"),T=c(
/*! ./models/ManifestModel */
"./src/streaming/models/ManifestModel.js"),N=c(
/*! ./models/MediaPlayerModel */
"./src/streaming/models/MediaPlayerModel.js"),C=c(
/*! ./controllers/AbrController */
"./src/streaming/controllers/AbrController.js"),B=c(
/*! ./net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js"),Y=c(
/*! ./models/VideoModel */
"./src/streaming/models/VideoModel.js"),J=c(
/*! ./models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),ce=c(
/*! ./utils/DOMStorage */
"./src/streaming/utils/DOMStorage.js"),Fe=c(
/*! ./../core/Debug */
"./src/core/Debug.js"),q=c(
/*! ./../core/errors/Errors */
"./src/core/errors/Errors.js"),le=c(
/*! ./../core/EventBus */
"./src/core/EventBus.js"),K=c(
/*! ./../core/events/Events */
"./src/core/events/Events.js"),_e=c(
/*! ./MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),se=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),me=c(
/*! ../core/Settings */
"./src/core/Settings.js"),De=c(
/*! ../core/Version */
"./src/core/Version.js"),Le=c(
/*! ../dash/controllers/SegmentBaseController */
"./src/dash/controllers/SegmentBaseController.js"),he=c(
/*! ../dash/DashAdapter */
"./src/dash/DashAdapter.js"),Re=c(
/*! ../dash/DashMetrics */
"./src/dash/DashMetrics.js"),Ie=c(
/*! ../dash/utils/TimelineConverter */
"./src/dash/utils/TimelineConverter.js"),ge=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),Ue=c(
/*! ../../externals/base64 */
"./externals/base64.js"),ke=c.n(Ue),we=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),Ke=c.n(we),st=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),Qe=c(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),Ne=c(
/*! ./ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),Se=c(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),W=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),ae=c(
/*! ./text/TextController */
"./src/streaming/text/TextController.js"),ve=c(
/*! ./models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function Q(){var Ye,Ge,at,ct,rt,_t,Bt,At,jt,Qt,cn,dn,Gt,Cn,en,xt,ft,Xe,xe,Oe,We,$e,lt,ot,dt,Lt,zt,Rt,$t,an,mn,An,Ln,Zn,Kn,ci,vn,$="You must first call initialize() and set a source before calling this method",ie="You must first call initialize() and set a valid source and view before calling this method",re="You must first call attachView() to set the video element before calling this method",ee="MediaPlayer not initialized!",fe=this.context,ye=Object(le.default)(fe).getInstance(),ue=Object(me.default)(fe).getInstance(),Me=Object(Fe.default)(fe).getInstance({settings:ue});function Xt(){wo(null),_r(null),ct=null,Gt&&(Gt.reset(),Gt=null),Cn&&(Cn.reset(),Cn=null),xe&&xe.reset(),ue.reset(),xt&&(xt.reset(),xt=null)}function et(){return!!at&&!!Zn.getElement()}function wn(){return Object(De.getVersionString)()}function nn(){if(!Bt)throw ie;return zt.isPaused()}function bt(){if(!Bt)throw ie;return zt.getIsDynamic()}function fr(pn){var it=ot&&ot.hasVideoTrack()?w.default.VIDEO:w.default.AUDIO,ht=mn.getCurrentDVRInfo(it);if(!ht)return 0;var Je=zt.getOriginalLiveDelay(),It=ht.range.start+pn;return It>ht.range.end-Je&&(It=ht.range.end-Je),It}function fo(pn){if(!Bt)throw ie;var it=wi().currentTime;if(void 0!==pn)it=ot.getTimeRelativeToStreamId(it,pn);else if(zt.getIsDynamic()){var ht=ot&&ot.hasVideoTrack()?w.default.VIDEO:w.default.AUDIO,Je=mn.getCurrentDVRInfo(ht);it=null===Je||0===it?0:Math.max(0,it-Je.range.start)}return it}function ki(){if(!Bt)throw ie;var pn=wi().duration;if(zt.getIsDynamic()){var it=ot&&ot.hasVideoTrack()?w.default.VIDEO:w.default.AUDIO,ht=mn.getCurrentDVRInfo(it);pn=ht?ht.range.end-ht.range.start:0}return pn}function Zi(pn){Object(Qe.checkParameterType)(pn,"boolean"),At=pn}function Ki(){xe.restoreDefaultUTCTimingSources()}function On(){return mn}function wi(){if(!Zn.getElement())throw re;return Zn.getElement()}function _r(pn){if(!rt)throw ee;Zn.setElement(pn),pn&&(Nr(),function rs(){if(!Cn){var pn=dashjs.MetricsReporting;if("function"==typeof pn){var it=pn(fe).create();Cn=it.createMetricsReporting({debug:Me,eventBus:ye,mediaElement:wi(),adapter:ft,dashMetrics:mn,mediaPlayerModel:Xe,events:K.default,constants:w.default,metricsConstants:F.default})}}}(),function Wr(){if(!en){var pn=dashjs.MssHandler;"function"==typeof pn&&(q.default.extend(pn.errors),en=pn(fe).create({eventBus:ye,mediaPlayerModel:Xe,dashMetrics:mn,manifestModel:An,playbackController:zt,streamController:ot,protectionController:Gt,baseURLController:We,errHandler:Oe,events:K.default,constants:w.default,debug:Me,initSegmentType:ge.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:ke.a,ISOBoxer:Ke.a,settings:ue}))}}(),ot&&ot.switchToVideoElement()),Bt&&ps(),dr()}function Yr(pn){if(!_t)throw $;var it=ot.getActiveStreamInfo();return it?dn.getTracksFor(pn,it.id):[]}function wo(pn){var it=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!rt)throw ee;"string"==typeof pn&&Kn.initialize(pn),(null==it||isNaN(it))&&(it=NaN),it=Math.max(0,it),at=pn,(_t||Bt)&&ps(),et()&&dr(it)}function lo(){if(!_t)throw $;var pn=ot.getActiveStreamInfo();return pn?ot.getStreamById(pn.id):null}function ps(){Bt=!1,_t=!1,ft.reset(),ot.reset(),Lt.reset(),an.reset(),zt.reset(),Rt.reset(),$t.reset(),jt.reset(),dn.reset(),vn.reset(),Gt&&(ue.get().streaming.protection.keepProtectionMediaKeys?Gt.stop():(Gt.reset(),Gt=null,Nr())),dt.reset(),Ln.reset()}function xo(){return Object(R.default)(fe).create({debug:Me,errHandler:Oe,dashMetrics:mn,mediaPlayerModel:Xe,requestModifier:Object(x.default)(fe).getInstance(),mssHandler:en,settings:ue})}function Nr(){if(Gt)return Gt;var pn=dashjs.Protection;if("function"==typeof pn){var it=pn(fe).create();return K.default.extend(pn.events),_e.default.extend(pn.events,{publicOnly:!0}),q.default.extend(pn.errors),$e||($e=Object(k.default)(fe).getInstance()),Gt=it.createProtectionSystem({debug:Me,errHandler:Oe,videoModel:Zn,customParametersModel:xe,capabilities:$e,eventBus:ye,events:K.default,BASE64:ke.a,constants:w.default,cmcdModel:Ln,settings:ue})}return null}function Os(){if(!rt)throw ee;if(xt)return xt;var pn=dashjs.OfflineController;if("function"==typeof pn){K.default.extend(pn.events),_e.default.extend(pn.events,{publicOnly:!0}),q.default.extend(pn.errors);var it=xo(),ht=Object(Ne.default)(fe).create();return ht.setConfig({manifestModel:An,adapter:ft,manifestLoader:it,errHandler:Oe}),xt=pn(fe).create({debug:Me,manifestUpdater:ht,baseURLController:We,manifestLoader:it,manifestModel:An,mediaPlayerModel:Xe,abrController:jt,playbackController:zt,adapter:ft,errHandler:Oe,dashMetrics:mn,timelineConverter:cn,segmentBaseController:vn,schemeLoaderFactory:Qt,eventBus:ye,events:K.default,errors:q.default,constants:w.default,settings:ue,dashConstants:E.default,urlUtils:Object(Se.default)(fe).getInstance()})}return null}function Ps(pn){var it=ot&&ot.hasVideoTrack()?w.default.VIDEO:w.default.AUDIO,ht=mn.getCurrentDVRInfo(it);return ht?pn+(ht.manifestInfo.availableFrom.getTime()/1e3+ht.range.start):0}function dr(){var pn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;xt&&xt.resetRecords(),!_t&&at&&(_t=!0,Ge.info("Streaming Initialized"),function ia(){var pn=xo();ot||(ot=Object(D.default)(fe).getInstance()),dt||(dt=Object(ae.default)(fe).create({errHandler:Oe,manifestModel:An,adapter:ft,mediaController:dn,videoModel:Zn,settings:ue})),lt.setConfig({capabilities:$e,customParametersModel:xe,adapter:ft,settings:ue,manifestModel:An,errHandler:Oe}),ot.setConfig({capabilities:$e,capabilitiesFilter:lt,manifestLoader:pn,manifestModel:An,mediaPlayerModel:Xe,customParametersModel:xe,protectionController:Gt,textController:dt,adapter:ft,dashMetrics:mn,errHandler:Oe,timelineConverter:cn,videoModel:Zn,playbackController:zt,serviceDescriptionController:Rt,contentSteeringController:$t,abrController:jt,mediaController:dn,settings:ue,baseURLController:We,uriFragmentModel:Kn,segmentBaseController:vn}),Lt.setConfig({settings:ue,playbackController:zt,streamController:ot,videoModel:Zn,timelineConverter:cn,adapter:ft}),zt.setConfig({streamController:ot,serviceDescriptionController:Rt,dashMetrics:mn,adapter:ft,videoModel:Zn,timelineConverter:cn,settings:ue}),an.setConfig({streamController:ot,playbackController:zt,mediaPlayerModel:Xe,videoModel:Zn,settings:ue}),jt.setConfig({streamController:ot,domStorage:ci,mediaPlayerModel:Xe,customParametersModel:xe,dashMetrics:mn,adapter:ft,videoModel:Zn,settings:ue}),Ln.setConfig({abrController:jt,dashMetrics:mn,playbackController:zt}),$t.setConfig({adapter:ft,errHandler:Oe,dashMetrics:mn,mediaPlayerModel:Xe,manifestModel:An,abrController:jt,eventBus:ye,requestModifier:Object(x.default)(fe).getInstance()}),jt.initialize(),ot.initialize(At,ct),dt.initialize(),Lt.initialize(),an.initialize(),Ln.initialize(),$t.initialize(),vn.initialize()}(),"string"==typeof at?ot.load(at,pn):ot.loadWithManifest(at,pn)),!Bt&&et()&&(Bt=!0,Ge.info("Playback Initialized"))}return Ye={initialize:function ut(pn,it,ht){var Je=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;$e||($e=Object(k.default)(fe).getInstance()).setConfig({settings:ue}),Oe||(Oe=Object(V.default)(fe).getInstance()),$e.supportsMediaSource()?(rt||(rt=!0,cn=Object(Ie.default)(fe).getInstance(),jt||(jt=Object(C.default)(fe).getInstance()).setConfig({settings:ue}),Qt||(Qt=Object(B.default)(fe).getInstance()),zt||(zt=Object(L.default)(fe).getInstance()),dn||(dn=Object(M.default)(fe).getInstance()),ot||(ot=Object(D.default)(fe).getInstance()),Lt||(Lt=Object(p.default)(fe).getInstance()),an||(an=Object(f.default)(fe).getInstance()),Rt||(Rt=Object(g.default)(fe).getInstance()),$t||($t=Object(y.default)(fe).getInstance()),lt||(lt=Object(P.default)(fe).getInstance()),ft=Object(he.default)(fe).getInstance(),An=Object(T.default)(fe).getInstance(),Ln=Object(J.default)(fe).getInstance(),mn=Object(Re.default)(fe).getInstance({settings:ue}),ci=Object(ce.default)(fe).getInstance({settings:ue}),ft.setConfig({constants:w.default,cea608parser:b.a,errHandler:Oe,BASE64:ke.a}),We||(We=Object(U.default)(fe).create()),We.setConfig({adapter:ft}),Rt.setConfig({adapter:ft}),vn||(vn=Object(Le.default)(fe).getInstance({dashMetrics:mn,mediaPlayerModel:Xe,errHandler:Oe,baseURLController:We,events:K.default,eventBus:ye,debug:Me,boxParser:Object(W.default)(fe).getInstance(),requestModifier:Object(x.default)(fe).getInstance(),errors:q.default})),dn.setConfig({domStorage:ci,settings:ue,customParametersModel:xe}),Xe.setConfig({playbackController:zt,serviceDescriptionController:Rt}),Ki(),Zi(void 0===ht||ht),Os()),pn&&_r(pn),it&&wo(it,Je),Ge.info("[dash.js "+wn()+"] MediaPlayer has been initialized")):Oe.error(new st.default(q.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,q.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function Et(pn){pn&&(pn.capabilities&&($e=pn.capabilities),pn.capabilitiesFilter&&(lt=pn.capabilitiesFilter),pn.streamController&&(ot=pn.streamController),pn.textController&&(dt=pn.textController),pn.gapController&&(Lt=pn.gapController),pn.playbackController&&(zt=pn.playbackController),pn.serviceDescriptionController&&(Rt=pn.serviceDescriptionController),pn.contentSteeringController&&($t=pn.contentSteeringController),pn.catchupController&&(an=pn.catchupController),pn.mediaPlayerModel&&(Xe=pn.mediaPlayerModel),pn.customParametersModel&&(xe=pn.customParametersModel),pn.abrController&&(jt=pn.abrController),pn.schemeLoaderFactory&&(Qt=pn.schemeLoaderFactory),pn.mediaController&&(dn=pn.mediaController),pn.settings&&(ue=pn.settings))},on:function wt(pn,it,ht,Je){ye.on(pn,it,ht,Je)},off:function qt(pn,it,ht){ye.off(pn,it,ht)},extend:function Rr(pn,it,ht){se.default.extend(pn,it,ht,fe)},attachView:_r,attachSource:wo,isReady:et,play:function Wt(){if(!Bt)throw ie;(!At||nn()&&Bt)&&zt.play(!0)},isPaused:nn,pause:function Kt(){if(!Bt)throw ie;zt.pause()},isSeeking:function ei(){if(!Bt)throw ie;return zt.isSeeking()},isDynamic:bt,getLowLatencyModeEnabled:function un(){if(!Bt)throw ie;return zt.getLowLatencyModeEnabled()},seek:function Tn(pn){if(!Bt)throw ie;if(Object(Qe.checkParameterType)(pn,"number"),isNaN(pn))throw w.default.BAD_ARGUMENT_ERROR;pn<0&&(pn=0);var it=zt.getIsDynamic()?fr(pn):pn,ht=wi();!zt.getIsDynamic()&&ht.duration&&(it=Math.min(ht.duration,it)),zt.seek(it,!1,!1,!0)},seekToOriginalLive:function Un(){!Bt||!bt()||zt.seekToOriginalLive()},setPlaybackRate:function Te(pn){wi().playbackRate=pn},getPlaybackRate:function vt(){return wi().playbackRate},setMute:function gt(pn){Object(Qe.checkParameterType)(pn,"boolean"),wi().muted=pn},isMuted:function Nt(){return wi().muted},setVolume:function on(pn){if("number"!=typeof pn||isNaN(pn)||pn<0||pn>1)throw w.default.BAD_ARGUMENT_ERROR;wi().volume=pn},getVolume:function ti(){return wi().volume},time:fo,duration:ki,timeAsUTC:function Zr(){if(!Bt)throw ie;return fo()<0?NaN:Ps(fo())},durationAsUTC:function Uo(){if(!Bt)throw ie;return Ps(ki())},getActiveStream:lo,getDVRWindowSize:function Oi(){var pn=ot&&ot.hasVideoTrack()?w.default.VIDEO:w.default.AUDIO,it=mn.getCurrentDVRInfo(pn);return it?it.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:fr,getTargetLiveDelay:function gr(){if(!Bt)throw ie;return zt.getOriginalLiveDelay()},convertToTimeCode:function na(pn){pn=Math.max(pn,0);var it=Math.floor(pn/3600),ht=Math.floor(pn%3600/60),Je=Math.floor(pn%3600%60);return(0===it?"":it<10?"0"+it.toString()+":":it.toString()+":")+(ht<10?"0"+ht.toString():ht.toString())+":"+(Je<10?"0"+Je.toString():Je.toString())},formatUTC:function ms(pn,it,ht){var Je=arguments.length>3&&void 0!==arguments[3]&&arguments[3],It=new Date(1e3*pn),rn=It.toLocaleDateString(it),li=It.toLocaleTimeString(it,{hour12:ht});return Je?li+" "+rn:li},getVersion:wn,getDebug:function Fn(){return Me},getBufferLength:function fi(pn){var it=[w.default.VIDEO,w.default.AUDIO,w.default.TEXT];if(pn)return-1!==it.indexOf(pn)?On().getCurrentBufferLevel(pn)||NaN:(Ge.warn("getBufferLength requested for invalid type"),NaN);var ht=it.map(function(It){return Yr(It).length>0?On().getCurrentBufferLevel(It):Number.MAX_VALUE}).reduce(function(It,rn){return Math.min(It,rn)});return ht===Number.MAX_VALUE?NaN:ht},getTTMLRenderingDiv:function Pr(){return Zn?Zn.getTTMLRenderingDiv():null},getVideoElement:wi,getSource:function ir(){if(!at)throw"You must first call attachSource() with a valid source before calling this method";return at},updateSource:function hs(pn){ot.load(at=pn)},getCurrentLiveLatency:function Co(){if(!rt)throw ee;return Bt?zt.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function Di(pn){if(!_t)throw $;return jt.getTopBitrateInfoFor(pn)},setAutoPlay:Zi,getAutoPlay:function zo(){return At},getDashMetrics:On,getQualityFor:function Dr(pn){if(!_t)throw $;if(pn===w.default.IMAGE){var it=lo();if(!it)return-1;var ht=it.getThumbnailController();return ht?ht.getCurrentTrackIndex():-1}return jt.getQualityFor(pn)},setQualityFor:function zi(pn,it){var ht=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!_t)throw $;if(pn===w.default.IMAGE){var Je=lo();if(!Je)return;var It=Je.getThumbnailController();It&&It.setTrackByIndex(it)}jt.setPlaybackQuality(pn,ot.getActiveStreamInfo(),it,{forceReplace:ht})},updatePortalSize:function $r(){jt.setElementSize(),jt.setWindowResizeEventCalled(!0)},enableText:function Xn(pn){var it=ot.getActiveStreamInfo();return!(!it||!dt)&&dt.enableText(it.id,pn)},enableForcedTextStreaming:function Wn(pn){return!(!ot.getActiveStreamInfo()||!dt)&&dt.enableForcedTextStreaming(pn)},isTextEnabled:function gi(){var pn=ot.getActiveStreamInfo();return!(!pn||!dt)&&dt.isTextEnabled(pn)},setTextTrack:function Ii(pn){if(!Bt)throw ie;var it=ot.getActiveStreamInfo();!it||!dt||dt.setTextTrack(it.id,pn)},getBitrateInfoListFor:function ts(pn){if(!_t)throw $;var it=lo();return it?it.getBitrateListFor(pn):[]},getStreamsFromManifest:function Ur(pn){if(!_t)throw $;return ft.getStreamsInfo(pn)},getTracksFor:Yr,getTracksForTypeFromManifest:function jo(pn,it,ht){if(!_t)throw $;return(ht=ht||ft.getStreamsInfo(it,1)[0])?ft.getAllMediaInfoForType(ht,pn,it):[]},getCurrentTrackFor:function hr(pn){if(!_t)throw $;var it=ot.getActiveStreamInfo();return dn.getCurrentTrackFor(pn,it.id)},setInitialMediaSettingsFor:function Mi(pn,it){if(!rt)throw ee;dn.setInitialSettings(pn,it)},getInitialMediaSettingsFor:function ta(pn){if(!rt)throw ee;return dn.getInitialSettings(pn)},setCurrentTrack:function Do(pn){if(!_t)throw $;dn.setTrack(pn)},addABRCustomRule:function Kr(pn,it,ht){xe.addAbrCustomRule(pn,it,ht)},removeABRCustomRule:function qr(pn){xe.removeAbrCustomRule(pn)},removeAllABRCustomRule:function Io(){xe.removeAllAbrCustomRule()},getABRCustomRules:function Pn(){return xe.getAbrCustomRules()},getAverageThroughput:function no(pn){var it=jt.getThroughputHistory(),ht=zt.getIsDynamic();return it?it.getAverageThroughput(pn,ht):0},retrieveManifest:function cr(pn,it){var ht=xo(),Je=this;ye.on(K.default.INTERNAL_MANIFEST_LOADED,function rn(li){li.error?it(null,li.error):it(li.manifest),ye.off(K.default.INTERNAL_MANIFEST_LOADED,rn,Je),ht.reset()},Je),Kn.initialize(pn),ht.load(pn)},addUTCTimingSource:function oi(pn,it){xe.addUTCTimingSource(pn,it)},removeUTCTimingSource:function Pi(pn,it){xe.removeUTCTimingSource(pn,it)},clearDefaultUTCTimingSources:function xi(){xe.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:Ki,setXHRWithCredentialsForType:function Ir(pn,it){xe.setXHRWithCredentialsForType(pn,it)},getXHRWithCredentialsForType:function Br(pn){return xe.getXHRWithCredentialsForType(pn)},getProtectionController:function vr(){return Nr()},attachProtectionController:function lr(pn){Gt=pn},setProtectionData:function eo(pn){ct=pn,ot&&ot.setProtectionData(ct)},registerLicenseRequestFilter:function ns(pn){xe.registerLicenseRequestFilter(pn)},registerLicenseResponseFilter:function xr(pn){xe.registerLicenseResponseFilter(pn)},unregisterLicenseRequestFilter:function Go(pn){xe.unregisterLicenseRequestFilter(pn)},unregisterLicenseResponseFilter:function er(pn){xe.unregisterLicenseResponseFilter(pn)},registerCustomCapabilitiesFilter:function fs(pn){xe.registerCustomCapabilitiesFilter(pn)},unregisterCustomCapabilitiesFilter:function ro(pn){xe.unregisterCustomCapabilitiesFilter(pn)},setCustomInitialTrackSelectionFunction:function Vo(pn){xe.setCustomInitialTrackSelectionFunction(pn)},resetCustomInitialTrackSelectionFunction:function Zo(){xe.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function io(pn){if(!Zn.getElement())throw re;Zn.setTTMLRenderingDiv(pn)},attachVttRenderingDiv:function ho(pn){if(!Zn.getElement())throw re;Zn.setVttRenderingDiv(pn)},getCurrentTextTrackIndex:function Ni(){var it=ot.getActiveStreamInfo();if(it&&dt)return dt.getCurrentTrackIdx(it.id)},provideThumbnail:function $o(pn,it){if("function"==typeof it){if(pn<0)return void it(null);var ht=zt.getIsDynamic()?fr(pn):pn,Je=ot.getStreamForTime(ht);if(null===Je)return void it(null);var It=Je.getThumbnailController();return It?It.provide(ht,it):void it(null)}},getDashAdapter:function mr(){return ft},getOfflineController:function Zt(){return Os()},triggerSteeringRequest:function Ho(){if($t)return $t.loadSteeringData()},getCurrentSteeringResponseData:function qo(){if($t)return $t.getCurrentSteeringResponseData()},getSettings:function js(){return ue.get()},updateSettings:function ws(pn){ue.update(pn)},resetSettings:function is(){ue.reset()},reset:Xt,destroy:function Ze(){Xt(),se.default.deleteSingletonInstances(fe)}},function gn(){Ge=Me.getLogger(Ye),rt=!1,Bt=!1,_t=!1,At=!0,Gt=null,xt=null,ct=null,ft=null,vn=null,K.default.extend(_e.default),Xe=Object(N.default)(fe).getInstance(),xe=Object(ve.default)(fe).getInstance(),Zn=Object(Y.default)(fe).getInstance(),Kn=Object(O.default)(fe).getInstance()}(),Ye}Q.__dashjs_factory_name="MediaPlayer";var X=se.default.getClassFactory(Q);X.events=_e.default,X.errors=q.default,se.default.updateClassFactory(Q.__dashjs_factory_name,X),S.default=X},"./src/streaming/MediaPlayerEvents.js":
/*!********************************************!*\
                  !*** ./src/streaming/MediaPlayerEvents.js ***!
                  \********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function b(P){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function w(P,x){for(var O=0;O<x.length;O++){var T=x[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,F(T.key),T)}}function F(P){var x=function L(P,x){if("object"!==b(P)||null===P)return P;var O=P[Symbol.toPrimitive];if(void 0!==O){var T=O.call(P,x||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===b(x)?x:String(x)}function p(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&f(P,x)}function f(P,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function g(P){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(P);if(x){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function y(P,x){if(x&&("object"===b(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function M(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function R(P){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(P)}c.r(S);var k=new(function(P){p(O,P);var x=g(O);function O(){var T;return function D(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,O),(T=x.call(this)).AST_IN_FUTURE="astInFuture",T.BUFFER_EMPTY="bufferStalled",T.BUFFER_LOADED="bufferLoaded",T.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",T.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",T.DYNAMIC_TO_STATIC="dynamicToStatic",T.ERROR="error",T.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",T.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",T.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",T.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",T.LOG="log",T.MANIFEST_LOADED="manifestLoaded",T.METRICS_CHANGED="metricsChanged",T.METRIC_CHANGED="metricChanged",T.METRIC_ADDED="metricAdded",T.METRIC_UPDATED="metricUpdated",T.PERIOD_SWITCH_STARTED="periodSwitchStarted",T.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",T.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",T.QUALITY_CHANGE_RENDERED="qualityChangeRendered",T.TRACK_CHANGE_RENDERED="trackChangeRendered",T.STREAM_INITIALIZING="streamInitializing",T.STREAM_UPDATED="streamUpdated",T.STREAM_ACTIVATED="streamActivated",T.STREAM_DEACTIVATED="streamDeactivated",T.STREAM_INITIALIZED="streamInitialized",T.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",T.TEXT_TRACKS_ADDED="allTextTracksAdded",T.TEXT_TRACK_ADDED="textTrackAdded",T.TTML_PARSED="ttmlParsed",T.TTML_TO_PARSE="ttmlToParse",T.CAPTION_RENDERED="captionRendered",T.CAPTION_CONTAINER_RESIZE="captionContainerResize",T.CAN_PLAY="canPlay",T.CAN_PLAY_THROUGH="canPlayThrough",T.PLAYBACK_ENDED="playbackEnded",T.PLAYBACK_ERROR="playbackError",T.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",T.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",T.PLAYBACK_LOADED_DATA="playbackLoadedData",T.PLAYBACK_PAUSED="playbackPaused",T.PLAYBACK_PLAYING="playbackPlaying",T.PLAYBACK_PROGRESS="playbackProgress",T.PLAYBACK_RATE_CHANGED="playbackRateChanged",T.PLAYBACK_SEEKED="playbackSeeked",T.PLAYBACK_SEEKING="playbackSeeking",T.PLAYBACK_STALLED="playbackStalled",T.PLAYBACK_STARTED="playbackStarted",T.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",T.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",T.PLAYBACK_WAITING="playbackWaiting",T.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",T.EVENT_MODE_ON_START="eventModeOnStart",T.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",T.CONFORMANCE_VIOLATION="conformanceViolation",T.REPRESENTATION_SWITCH="representationSwitch",T.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",T.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",T}return function E(P,x,O){return x&&w(P.prototype,x),O&&w(P,O),Object.defineProperty(P,"prototype",{writable:!1}),P}(O)}(c(
/*! ../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));S.default=k},"./src/streaming/MediaPlayerFactory.js":
/*!*********************************************!*\
                  !*** ./src/streaming/MediaPlayerFactory.js ***!
                  \*********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./MediaPlayer */
"./src/streaming/MediaPlayer.js");var E,w=function b(){var f,p="application/dash+xml";function g(U,R,V){if(!U||!/^VIDEO$/i.test(U.nodeName))return null;if(U._dashjs_player)return U._dashjs_player;var k,P=U.id||U.name||"video element";if(!(R=R||[].slice.call(U.querySelectorAll("source")).filter(function(x){return x.type==p})[0])&&U.src)(R=document.createElement("source")).src=U.src;else if(!R&&!U.src)return null;return V=V||{},(k=Object(t.default)(V).create()).initialize(U,R.src,U.autoplay),f||(f=k.getDebug().getLogger()),f.debug("Converted "+P+" to dash.js player and added content: "+R.src),U._dashjs_player=k,k}function M(U){return/^VIDEO$/i.test(U.nodeName)?U:M(U.parentNode)}return{create:g,createAll:function y(U,R){var V=[];U=U||"[data-dashjs-player]";for(var k=(R=R||document).querySelectorAll(U),P=0;P<k.length;P++){var x=g(k[P],null);V.push(x)}for(var O=R.querySelectorAll('source[type="'+p+'"]'),T=0;T<O.length;T++){var C=g(M(O[T]),null);V.push(C)}return V}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?w.createAll():E=window.setInterval(function L(){window.dashjs&&(window.clearInterval(E),w.createAll())},500):window.addEventListener("load",function F(){window.removeEventListener("load",F),w.createAll()})),S.default=w},"./src/streaming/SourceBufferSink.js":
/*!*******************************************!*\
                  !*** ./src/streaming/SourceBufferSink.js ***!
                  \*******************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../core/Debug */
"./src/core/Debug.js"),b=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),w=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),F=c(
/*! ../core/Settings */
"./src/core/Settings.js"),L=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),D=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),p=c(
/*! ../core/events/Events */
"./src/core/events/Events.js");function M(R){var O,T,N,C,B,Y,V=this.context,k=Object(F.default)(V).getInstance(),P=R.textController,x=R.eventBus,J=[],ce=[],Fe=!1,q=R.mediaSource,le=null;function se(ie){return new Promise(function(re){$(function(){C.changeType&&C.changeType(ie),re()})})}function Le(ie){return C=P.getTextSourceBuffer(ie),Promise.resolve()}function he(){if("function"==typeof C.addEventListener)try{C.addEventListener("updateend",ve,!1),C.addEventListener("error",Q,!1),C.addEventListener("abort",Q,!1)}catch{Y=setInterval(ve,50)}else Y=setInterval(ve,50)}function ge(ie){return new Promise(function(re){C&&k.get().streaming.buffer.useAppendWindow?$(function(){try{if(!C)return void re();var te=q.duration,ee=0;ie&&!isNaN(ie.start)&&!isNaN(ie.duration)&&isFinite(ie.duration)&&(te=ie.start+ie.duration),ie&&!isNaN(ie.start)&&(ee=ie.start),(C.appendWindowEnd!==te||C.appendWindowStart!==ee)&&(C.appendWindowStart=0,C.appendWindowEnd=te+.01,C.appendWindowStart=Math.max(ee-.1,0),N.debug("Updated append window for ".concat(B.type,". Set start to ").concat(C.appendWindowStart," and end to ").concat(C.appendWindowEnd))),re()}catch{N.warn("Failed to set append window"),re()}}):re()})}function Ue(ie){return new Promise(function(re){C?$(function(){try{C.timestampOffset!==ie&&!isNaN(ie)&&(C.timestampOffset=ie,N.debug("Set MSE timestamp offset to ".concat(ie))),re()}catch{re()}}):re()})}function Se(){if(!Fe&&ce.length>0){Fe=!0;var ie=ce[0];ce.splice(0,1);var re=function(){Fe=!1,ce.length>0&&Se.call(this),ie&&ie.data&&ie.data.segmentType&&ie.data.segmentType!==D.HTTPRequest.INIT_SEGMENT_TYPE&&delete ie.data.bytes,ie.promise.resolve({chunk:ie.data})};try{le=ie.request,0===ie.data.bytes.byteLength?re.call(this):(C.appendBuffer?C.appendBuffer(ie.data.bytes):C.append(ie.data.bytes,ie.data),$(re.bind(this)))}catch(te){N.fatal('SourceBuffer append failed "'+te+'"'),ce.length>0?Se():Fe=!1,delete ie.data.bytes,ie.promise.reject({chunk:ie.data,error:new b.default(te.code,te.message)})}}}function ae(){J.length>0&&!C.updating&&(J.shift()(),ae())}function ve(){C.updating||ae()}function Q(ie){!function X(ie,re){x.trigger(ie,re||{},{streamId:B.streamInfo.id,mediaType:T})}(p.default.SOURCE_BUFFER_ERROR,{error:ie.target||{},lastRequestAppended:le})}function $(ie){J.push(ie),C.updating||ae()}return O={getType:function Re(){return T},getAllBufferRanges:function Ke(){try{return C.buffered}catch(ie){return N.error("getAllBufferRanges exception: "+ie.message),null}},getBuffer:function we(){return C},append:function st(ie){var re=this,te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(ee,fe){ie?(ce.push({data:ie,promise:{resolve:ee,reject:fe},request:te}),$(Se.bind(re))):fe({chunk:ie,error:new b.default(E.default.APPEND_ERROR_CODE,E.default.APPEND_ERROR_MESSAGE)})})},remove:function Ne(ie){return new Promise(function(re,te){var ee=ie.start,fe=ie.end;ee>=0&&fe>ee?$(function(){try{C.remove(ee,fe),$(function(){re({from:ee,to:fe,unintended:!1}),ie.resolve&&ie.resolve()})}catch(ye){te({from:ee,to:fe,unintended:!1,error:new b.default(E.default.REMOVE_ERROR_CODE,E.default.REMOVE_ERROR_MESSAGE)}),ie.reject&&ie.reject(ye)}}):re()})},abort:function W(){return new Promise(function(ie){try{ce=[],"open"===q.readyState?$(function(){try{C&&C.abort(),ie()}catch{ie()}}):(C&&C.setTextTrack&&"ended"===q.readyState&&C.abort(),ie())}catch{ie()}})},reset:function ke(){if(C){try{J=[],function Ie(){try{"function"==typeof C.removeEventListener&&(C.removeEventListener("updateend",ve,!1),C.removeEventListener("error",Q,!1),C.removeEventListener("abort",Q,!1)),clearInterval(Y)}catch(ie){N.error(ie)}}(),Fe=!1,ce=[],(!C.getClassName||"TextSourceBuffer"!==C.getClassName())&&(N.debug("Removing sourcebuffer from media source"),q.removeSourceBuffer(C))}catch{}C=null}le=null},updateTimestampOffset:Ue,initializeForStreamSwitch:function _e(ie,re,te){T=(B=ie).type;var ee=B.codec;(function me(ie){C=ie.getBuffer()})(te),he();var fe=[];return fe.push(function Qe(){return new Promise(function(ie){$(function(){var re=C.appendWindowStart,te=C.appendWindowEnd;C&&(C.abort(),C.appendWindowStart=re,C.appendWindowEnd=te),ie()})})}()),fe.push(ge(B.streamInfo)),fe.push(se(ee)),re&&void 0!==re.MSETimeOffset&&fe.push(Ue(re.MSETimeOffset)),Promise.all(fe)},initializeForFirstUse:function De(ie,re,te){T=(B=re).type;var ee=B.codec;try{if(ee.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Le(ie);C=q.addSourceBuffer(ee),he();var fe=[];return fe.push(ge(B.streamInfo)),te&&void 0!==te.MSETimeOffset&&fe.push(Ue(te.MSETimeOffset)),Promise.all(fe)}catch(ye){return B.type==L.default.TEXT&&!B.isFragmented||-1!==ee.indexOf('codecs="stpp')||-1!==ee.indexOf('codecs="vtt')?Le(ie):Promise.reject(ye)}},updateAppendWindow:ge,changeType:se},function K(){N=Object(t.default)(V).getInstance().getLogger(O)}(),O}M.__dashjs_factory_name="SourceBufferSink";var U=w.default.getClassFactory(M);S.default=U},"./src/streaming/Stream.js":
/*!*********************************!*\
                  !*** ./src/streaming/Stream.js ***!
                  \*********************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),w=c(
/*! ./StreamProcessor */
"./src/streaming/StreamProcessor.js"),E=c(
/*! ./controllers/FragmentController */
"./src/streaming/controllers/FragmentController.js"),F=c(
/*! ./thumbnail/ThumbnailController */
"./src/streaming/thumbnail/ThumbnailController.js"),L=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),p=c(
/*! ../core/Debug */
"./src/core/Debug.js"),f=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),g=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),M=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),U=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),R=c(
/*! ./controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),V=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT,t.default.MUXED,t.default.IMAGE];function k(P){P=P||{};var Ie,ge,Ue,ke,we,Ke,st,Qe,Ne,Se,W,ae,ve,Q,X,$,ie,re,x=this.context,O=Object(L.default)(x).getInstance(),T=Object(U.default)(x).getInstance(),N=P.manifestModel,C=P.mediaPlayerModel,B=P.dashMetrics,Y=P.manifestUpdater,J=P.adapter,ce=P.timelineConverter,Fe=P.capabilities,q=P.errHandler,le=P.abrController,K=P.playbackController,_e=P.eventController,se=P.mediaController,me=P.protectionController,De=P.textController,Le=P.videoModel,he=P.streamInfo,Re=P.settings;function rt(Kt,nn){return new Promise(function(Tn,Un){ot(),Se=!0,$t();var ei=Le.getElement();V.forEach(function(bt){(bt!==t.default.VIDEO||!ei||ei&&/^VIDEO$/i.test(ei.nodeName))&&function _t(Kt,nn){var bt,Tn=J.getAllMediaInfoForType(he,Kt),Un=[],ei=null;if(Tn&&0!==Tn.length){Kt===t.default.VIDEO&&(st=!0),Kt===t.default.AUDIO&&(Qe=!0);for(var un=0,Te=Tn.length;un<Te;un++)ei=Tn[un],Kt===t.default.TEXT&&ei.isEmbedded&&(De.addEmbeddedTrack(he,ei),Un.push(ei)),Bt(ei)&&se.addTrack(ei);if(Un.length>0&&(se.setInitialMediaSettingsForType(Kt,he),De.addMediaInfosToBuffer(he,Kt,Un)),0!==(Tn=Tn.filter(function(gt){return!gt.isEmbedded})).length){if(Kt===t.default.IMAGE)return void(ae=Object(F.default)(x).create({streamInfo:he,adapter:J,baseURLController:P.baseURLController,timelineConverter:P.timelineConverter,debug:$,eventBus:O,events:D.default,dashConstants:b.default,dashMetrics:P.dashMetrics,segmentBaseController:P.segmentBaseController})).initialize();O.trigger(D.default.STREAM_INITIALIZING,{streamInfo:he,mediaInfo:ei}),se.setInitialMediaSettingsForType(Kt,he);var vt=function At(Kt,nn){var Tn=Kt&&Kt.length>0?Kt[0]:null,Un=W.getModel(Tn?Tn.type:null),ei=Tn?Tn.type:null,bt=Tn?Tn.mimeType:null,un=Tn?Tn.isFragmented:null,Te=Object(w.default)(x).create({streamInfo:he,type:ei,mimeType:bt,timelineConverter:ce,adapter:J,manifestModel:N,mediaPlayerModel:C,fragmentModel:Un,dashMetrics:P.dashMetrics,baseURLController:P.baseURLController,segmentBaseController:P.segmentBaseController,abrController:le,playbackController:K,mediaController:se,textController:De,errHandler:q,settings:Re,boxParser:X,segmentBlacklistController:ve});Te.initialize(nn,st,un),Ue.push(Te);for(var vt=0;vt<Kt.length;vt++)Te.addMediaInfo(Kt[vt]);return ei===t.default.TEXT&&De.addMediaInfosToBuffer(he,ei,Kt,Un),Te}(Tn,nn);(bt=se.getCurrentTrackFor(Kt,he.id))&&(le.updateTopQualityIndex(bt),vt.selectMediaInfo(Kt===t.default.TEXT&&bt.isEmbedded?Tn[0]:bt))}}else ge.info("No "+Kt+" data.")}(bt,Kt)}),function jt(Kt){return new Promise(function(nn){var Tn={},Un=Ue.map(function(ei){return ei.createBufferSinks(Kt)});Promise.all(Un).then(function(ei){ei.forEach(function(bt){bt&&(Tn[bt.getType()]=bt)}),nn(Tn)}).catch(function(){nn(Tn)})})}(nn).then(function(bt){if(Se=!1,0===Ue.length){var un="No streams to play.";q.error(new y.default(f.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,un,N.getValue())),ge.fatal(un)}else an();De.createTracks(he),Tn(bt)}).catch(function(bt){Un(bt)})})}function Bt(Kt){var nn=Kt?Kt.type:null;return nn===t.default.MUXED?(ge.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),q.error(new y.default(f.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",N.getValue())),!1):!(nn!==t.default.TEXT&&nn!==t.default.IMAGE&&Kt.contentProtection&&!Fe.supportsEncryptedMedia()&&(q.error(new y.default(f.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,f.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Qt(Kt){for(var nn=Ue?Ue.length:0,Un=0;Un<nn;Un++){var ei=Ue[Un].getFragmentModel();ei.abortRequests(),ei.resetInitialSettings(),Ue[Un].reset(false,Kt)}De&&De.deactivateStream(he),Ue=[],we=!1,Ke=!1,qt(!1),ft(!1),O.trigger(D.default.STREAM_DEACTIVATED,{streamInfo:he})}function Gt(Kt){Qt(Kt),ke=!1,st=!1,Qe=!1,Ne={},Se=!1,ie=!1,re=[]}function ft(Kt){ie=Kt}function Xe(){return he?he.start:NaN}function xe(){return he?he.id:null}function Oe(){return he}function ot(){if(!Le||!le)throw new Error(t.default.MISSING_CONFIG_ERROR)}function Lt(Kt){Kt.error&&(q.error(Kt.error),ge.fatal(Kt.error.message))}function $t(){if(_e){var Kt=J.getEventsFor(he);Kt&&Kt.length>0&&_e.addInlineEvents(Kt,he.id)}}function an(){for(var Kt=Ue.length,Tn=Ne.audio||Ne.video?new y.default(f.default.DATA_UPDATE_FAILED_ERROR_CODE,f.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,Un=0;Un<Kt;Un++)if(Ue[Un].isUpdating()||Se)return;if(me){me.clearMediaInfoArray();for(var ei=0;ei<Kt&&Ue[ei];ei++){var bt=Ue[ei].getType(),un=Ue[ei].getMediaInfo();if(bt===t.default.AUDIO||bt===t.default.VIDEO||bt===t.default.TEXT&&un.isFragmented){var Te=Ue[ei].getMediaInfo();Te&&me.initializeForMedia(Te)}}me.handleKeySystemFromManifest()}Tn?q.error(Tn):ke||(ke=!0,Le.waitForReadyState(t.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){O.trigger(D.default.STREAM_INITIALIZED,{streamInfo:he})}))}function An(){var Kt=vn(),nn=Kt.length;if(0!==nn){for(var Tn=0;Tn<nn;Tn++)if(!Kt[Tn].isBufferingCompleted()&&(Kt[Tn].getType()===t.default.AUDIO||Kt[Tn].getType()===t.default.VIDEO))return void ge.debug("onBufferingCompleted - One streamProcessor has finished but",Kt[Tn].getType(),"one is not buffering completed");ge.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),Ke=!0,O.trigger(D.default.STREAM_BUFFERING_COMPLETED,{streamInfo:he},{streamInfo:he})}else ge.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Ln(Kt){Ne[Kt.mediaType]=Kt.error,an()}function Zn(Kt){_e&&_e.addInbandEvents(Kt.events,he.id)}function Kn(Kt){return Kt&&Kt.type?ci(Kt.type):null}function ci(Kt){return Kt?vn().filter(function(Tn){return Tn.getType()===Kt})[0]:null}function vn(){for(var nn,Tn,Kt=[],Un=0;Un<Ue.length;Un++)((nn=(Tn=Ue[Un]).getType())===t.default.AUDIO||nn===t.default.VIDEO||nn===t.default.TEXT)&&Kt.push(Tn);return Kt}function Ze(Kt,nn){var Tn=Oe(),Un=nn.getStreamInfo();if(!Un||!Tn)return!0;var ei=J.getAdaptationForType(Un.index,Kt,Un),bt=J.getAdaptationForType(Tn.index,Kt,Tn);return ei&&bt?!(!et(bt)&&et(ei)):!ei&&!bt}function et(Kt){return!!Kt&&!!(Kt.ContentProtection||Kt.Representation&&Kt.Representation.length>0&&Kt.Representation[0].ContentProtection)}function wt(Kt,nn){var Tn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Kt||!Kt.hasOwnProperty("getStreamInfo"))return!1;var Un=Kt.getStreamInfo(),ei=Tn?Tn.getStreamInfo():Oe();if(!Un||!ei)return!1;var bt=J.getAdaptationForType(Un.index,nn,Un),un=J.getAdaptationForType(ei.index,nn,ei);if(!bt||!un)return!bt&&!un;var Te=bt&&un&&bt.mimeType===un.mimeType,vt=un.Representation_asArray.map(function(ti){return ti.codecs}),gt=bt.Representation_asArray.map(function(ti){return ti.codecs}),Nt=gt.some(function(ti){return vt.indexOf(ti)>-1}),on=gt.some(function(ti){return vt.some(function(fi){return Fe.codecRootCompatibleWithCodec(fi,ti)})});return Nt||on&&Te}function qt(Kt){Q=Kt}function wn(){return Q}return Ie={initialize:function ee(){(function fe(){O.on(D.default.BUFFERING_COMPLETED,An,Ie),O.on(D.default.DATA_UPDATE_COMPLETED,Ln,Ie),O.on(D.default.INBAND_EVENTS,Zn,Ie)})(),function ue(){me&&(O.on(D.default.KEY_ERROR,Lt,Ie),O.on(D.default.SERVER_CERTIFICATE_UPDATED,Lt,Ie),O.on(D.default.LICENSE_REQUEST_COMPLETE,Lt,Ie),O.on(D.default.KEY_SYSTEM_SELECTED,Lt,Ie),O.on(D.default.KEY_SESSION_CREATED,Lt,Ie),O.on(D.default.KEY_STATUSES_CHANGED,Lt,Ie))}(),De.initializeForStream(he),O.trigger(D.default.STREAM_UPDATED,{streamInfo:he})},getStreamId:function Ye(){return he?he.id:null},activate:function Ge(Kt,nn){return new Promise(function(Tn,Un){if(!we)return wn()?(we=!0,O.trigger(D.default.STREAM_ACTIVATED,{streamInfo:he}),void Tn(nn)):void function at(Kt,nn){return rt(Kt,nn)}(Kt,nn).then(function(ei){we=!0,O.trigger(D.default.STREAM_ACTIVATED,{streamInfo:he}),Tn(ei)}).catch(function(ei){Un(ei)});Tn(nn)})},deactivate:Qt,getIsActive:function cn(){return we},getDuration:function en(){return he?he.duration:NaN},getStartTime:Xe,getId:xe,getStreamInfo:Oe,getHasAudioTrack:function We(){return Qe},getHasVideoTrack:function $e(){return st},startPreloading:function ct(Kt,nn){return new Promise(function(Tn,Un){wn()?Un():(ge.info("[startPreloading] Preloading next stream with id ".concat(xe())),qt(!0),rt(Kt,nn).then(function(){for(var ei=0;ei<Ue.length&&Ue[ei];ei++)Ue[ei].setExplicitBufferingTime(Xe()),Ue[ei].getScheduleController().startScheduleTimer();Tn()}).catch(function(){qt(!1),Un()}))})},getThumbnailController:function lt(){return ae},getBitrateListFor:function dt(Kt){if(ot(),Kt===t.default.IMAGE)return ae?ae.getBitrateList():[];var nn=function mn(Kt){for(var nn=null,Tn=0;Tn<Ue.length;Tn++)if((nn=Ue[Tn]).getType()===Kt)return nn.getMediaInfo();return null}(Kt);return le.getBitrateList(nn)},updateData:function Et(Kt){return new Promise(function(nn){Se=!0,he=Kt,_e&&$t();for(var Tn=[],Un=0,ei=Ue.length;Un<ei;Un++){var bt=Ue[Un],un=bt.getMediaInfo();Tn.push(bt.updateStreamInfo(he));var Te=J.getAllMediaInfoForType(he,bt.getType());if(Te){bt.clearMediaInfoArray();for(var vt=0;vt<Te.length;vt++){var gt=Te[vt];bt.addMediaInfo(Te[vt]),J.areMediaInfosEqual(un,gt)&&(le.updateTopQualityIndex(gt),Tn.push(bt.selectMediaInfo(gt)))}}}Promise.all(Tn).then(function(){for(Tn=[];re.length>0;){var Nt=re.pop(),on=Nt.newMediaInfo,ti=Kn(Nt.oldMediaInfo);if(!ti)return;Tn.push(ti.prepareTrackSwitch()),ti.selectMediaInfo(on)}return Promise.all(Tn)}).then(function(){Se=!1,an(),O.trigger(D.default.STREAM_UPDATED,{streamInfo:he}),nn()})})},reset:function Cn(Kt){W&&(W.reset(),W=null),le&&he&&le.clearDataForStream(he.id),ve&&(ve.reset(),ve=null),Gt(Kt),he=null,function ye(){O.off(D.default.DATA_UPDATE_COMPLETED,Ln,Ie),O.off(D.default.BUFFERING_COMPLETED,An,Ie),O.off(D.default.INBAND_EVENTS,Zn,Ie)}(),function Me(){me&&(O.off(D.default.KEY_ERROR,Lt,Ie),O.off(D.default.SERVER_CERTIFICATE_UPDATED,Lt,Ie),O.off(D.default.LICENSE_REQUEST_COMPLETE,Lt,Ie),O.off(D.default.KEY_SYSTEM_SELECTED,Lt,Ie),O.off(D.default.KEY_SESSION_CREATED,Lt,Ie),O.off(D.default.KEY_STATUSES_CHANGED,Lt,Ie))}()},getProcessors:vn,setMediaSource:function dn(Kt){for(var nn=0;nn<Ue.length;)Bt(Ue[nn].getMediaInfo())?(Ue[nn].setMediaSource(Kt),nn++):(Ue[nn].reset(),Ue.splice(nn,1));if(0===Ue.length){var Tn="No streams to play.";q.error(new y.default(f.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Tn+"nostreams",N.getValue())),ge.fatal(Tn)}},isMediaCodecCompatible:function ut(Kt){var nn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return wt(Kt,t.default.VIDEO,nn)&&wt(Kt,t.default.AUDIO,nn)},isProtectionCompatible:function Xt(Kt){return!Kt||Ze(t.default.VIDEO,Kt)&&Ze(t.default.AUDIO,Kt)},getPreloaded:wn,getIsEndedEventSignaled:function xt(){return ie},setIsEndedEventSignaled:ft,getAdapter:function Wt(){return J},getHasFinishedBuffering:function Fn(){return Ke},setPreloaded:qt,startScheduleControllers:function gn(){for(var Kt=Ue.length,nn=0;nn<Kt&&Ue[nn];nn++)Ue[nn].getScheduleController().startScheduleTimer()},prepareTrackChange:function zt(Kt){if(we&&he){Ke=!1;var nn=Kt.newMediaInfo,Tn=N.getValue();J.setCurrentMediaInfo(he.id,nn.type,nn);var Un=Kn(nn);if(Un){var ei=K.getTime();ge.info("Stream -  Process track changed at current time "+ei),Tn.refreshManifestOnSwitchTrack?(re.push(Kt),Y.getIsUpdating()||(ge.debug("Stream -  Refreshing manifest for switch track"),Y.refreshManifest())):Un.selectMediaInfo(nn).then(function(){(nn.type===t.default.VIDEO||nn.type===t.default.AUDIO)&&le.updateTopQualityIndex(nn),Un.prepareTrackSwitch()})}}},prepareQualityChange:function Rt(Kt){var nn=ci(Kt.mediaType);nn&&nn.prepareQualityChange(Kt)}},function te(){try{$=Object(p.default)(x).getInstance(),ge=$.getLogger(Ie),Gt(),X=Object(M.default)(x).getInstance(),ve=Object(R.default)(x).create({updateEventName:D.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:D.default.SEGMENT_LOCATION_BLACKLIST_ADD}),W=Object(E.default)(x).create({streamInfo:he,mediaPlayerModel:C,dashMetrics:B,errHandler:q,settings:Re,boxParser:X,dashConstants:b.default,urlUtils:T})}catch(Kt){throw Kt}}(),Ie}k.__dashjs_factory_name="Stream",S.default=g.default.getClassFactory(k)},"./src/streaming/StreamProcessor.js":
/*!******************************************!*\
                  !*** ./src/streaming/StreamProcessor.js ***!
                  \******************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),w=c(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),E=c(
/*! ./models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),F=c(
/*! ./controllers/BufferController */
"./src/streaming/controllers/BufferController.js"),L=c(
/*! ./text/NotFragmentedTextBufferController */
"./src/streaming/text/NotFragmentedTextBufferController.js"),D=c(
/*! ./controllers/ScheduleController */
"./src/streaming/controllers/ScheduleController.js"),p=c(
/*! ../dash/controllers/RepresentationController */
"./src/dash/controllers/RepresentationController.js"),f=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=c(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),y=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),M=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),U=c(
/*! ../dash/DashHandler */
"./src/dash/DashHandler.js"),R=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),V=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../core/Debug */
"./src/core/Debug.js"),P=c(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),x=c(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),O=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),T=c(
/*! ./vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),N=c(
/*! ../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),C=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function B(Y){Y=Y||{};var st,Qe,Ne,Se,W,ae,ve,Q,X,$,ie,re,te,J=this.context,ce=Object(y.default)(J).getInstance(),Fe=Y.streamInfo,q=Y.type,le=Y.errHandler,K=Y.mimeType,_e=Y.timelineConverter,se=Y.adapter,me=Y.manifestModel,De=Y.mediaPlayerModel,Le=Y.fragmentModel,he=Y.abrController,Re=Y.playbackController,Ie=Y.mediaController,ge=Y.textController,Ue=Y.dashMetrics,ke=Y.settings,we=Y.boxParser,Ke=Y.segmentBlacklistController;function ye(){return Fe.id}function ue(){return q}function Me(){return se.getIsTextTrack(Q.getData())}function Ye(){W=[],Se=null,te=0,X=!1,$=!1}function _t(bt){var un=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(bt.sender){if(Re.getIsManifestUpdateInProgress())return void dn();if((!Me()||ge.isTextEnabled())&&ae&&bt.representationId&&!ae.appendInitSegmentFromCache(bt.representationId)){var Te=Q.getCurrentRepresentation();if(0===Te.range)return void Bt();var vt=ie?ie.getInitRequest(Se,Te):null;vt?Le.executeRequest(vt):un&&(ve.setInitSegmentRequired(!0),dn())}}}function Bt(bt){var un=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Re.getIsManifestUpdateInProgress()||ae.getIsPruningInProgress())dn();else{var Te=function cn(){var un,bt=ut();if(isNaN(te)||ue()===t.default.TEXT&&!ge.isTextEnabled())return null;var Te=X;if(ie){var vt=Q&&bt?Q.getRepresentationForQuality(bt.quality):null;un=Te?ie.getSegmentRequestForTime(Se,vt,te):ie.getNextSegmentRequest(Se,vt)}return un}();Te?(X=!1,function At(bt){isNaN(bt.startTime+bt.duration)||(te=bt.startTime+bt.duration),bt.delayLoadingTime=(new Date).getTime()+ve.getTimeToLoadDelay(),ve.setTimeToLoadDelay(0),function Qt(bt){var un=bt.url;return bt.range&&(un=un.concat("_",bt.range)),Ke.contains(un)}(bt)?(Qe.warn("Fragment request url ".concat(bt.url," for stream id ").concat(Fe.id," and media type ").concat(q," is on the ignore list and will be skipped")),dn()):(Qe.debug("Next fragment request url for stream id ".concat(Fe.id," and media type ").concat(q," is ").concat(bt.url)),Le.executeRequest(bt))}(Te)):function jt(bt){var Te,un=Q.getCurrentRepresentation();if(!ke.get().streaming.gaps.enableSeekFix||!X&&0!==Re.getTime()||(Ne?Ne&&un.segmentInfoType===b.default.SEGMENT_TIMELINE&&(Te=ie.getValidTimeAheadOfTargetTime(te,Se,un,ke.get().streaming.gaps.threshold)):Te=ie.getValidTimeAheadOfTargetTime(te,Se,un,ke.get().streaming.gaps.threshold),isNaN(Te)||Te===te)){if(ie.isLastSegmentRequested(un,te)){var gt=ie.getCurrentIndex();return Qe.debug("Segment requesting for stream ".concat(Fe.id," has finished")),ce.trigger(M.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:gt},{streamId:Fe.id,mediaType:q}),ae.segmentRequestingCompleted(gt),void ve.clearScheduleTimer()}bt&&dn()}else Re.isSeeking()||0===Re.getTime()?(Qe.warn("Adjusting playback time ".concat(Te," because of gap in the manifest. Seeking by ").concat(Te-te)),Re.seek(Te,!1,!1)):(Qe.warn("Adjusting buffering time ".concat(Te," because of gap in the manifest. Adjusting time by ").concat(Te-te)),Un(Te),bt&&dn())}(un)}}function dn(){ve.startScheduleTimer(Re.getLowLatencyModeEnabled()?ke.get().streaming.scheduling.lowLatencyTimeout:ke.get().streaming.scheduling.defaultTimeout)}function Gt(bt){bt.error||(ve.setCurrentRepresentation(se.convertRepresentationToRepresentationInfo(bt.currentRepresentation)),ae.getIsBufferingCompleted()||ae.updateBufferTimestampOffset(bt.currentRepresentation))}function Cn(bt){Ue.addBufferState(q,bt.state,ve.getBufferTarget()),bt.state===w.default.BUFFER_EMPTY&&!Re.isSeeking()&&(Qe.info("Buffer is empty! Stalling!"),Ue.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REBUFFERING_REASON))}function en(bt){Le.syncExecutedRequestsWithBufferedRange(ae.getBuffer().getAllBufferRanges(),Fe.duration),bt.quotaExceeded&&bt.from>Re.getTime()&&Un(bt.from),bt.hasEnoughSpaceToAppend&&bt.quotaExceeded&&ve.startScheduleTimer()}function xt(bt){if(bt&&bt.lastRequestAppended&&bt.lastRequestAppended.url){var un=bt.lastRequestAppended.url;bt.lastRequestAppended.range&&(un=un.concat("_",bt.lastRequestAppended.range)),Qe.warn("Blacklisting segment with url ".concat(un)),Ke.add(un)}}function Oe(){Kt(),$=!1}function We(bt){Qe.info("onFragmentLoadingAbandoned request: "+bt.request.url+" has been aborted"),!Re.isSeeking()&&!ve.getSwitchStrack()&&!$&&(Qe.info("onFragmentLoadingAbandoned request: "+bt.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),bt.request&&bt.request.isInitializationRequest()?ve.setInitSegmentRequired(!0):Un(bt.request.startTime+bt.request.duration/2),ve.startScheduleTimer(0))}function $e(bt){Qe.info("OnFragmentLoadingCompleted for stream id "+Fe.id+" and media type "+q+" - Url:",bt.request?bt.request.url:"undefined",bt.request.range?", Range:"+bt.request.range:""),Me()&&ve.startScheduleTimer(0),bt.error&&bt.request.serviceLocation&&function lt(bt){Qe.info("Fragment loading completed with an error"),bt&&bt.request&&bt.request.type&&(bt.request.type===C.HTTPRequest.INIT_SEGMENT_TYPE?_t({representationId:bt.request.representationId,sender:{}},!1):bt.request.type===C.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Un(bt.request.startTime+bt.request.duration/2),Bt({},!1)))}(bt)}function ot(){Un(Re.getTime()),Et().startScheduleTimer()}function dt(bt){var un=bt.currentTrackInfo;if(un){var Te=W.find(function(vt){return vt.index===un.index&&vt.lang===un.lang});Te&&Ln(Te).then(function(){ae.setIsBufferingCompleted(!1),Un(Re.getTime()),ve.setInitSegmentRequired(!0),ve.startScheduleTimer()})}}function Lt(bt){Un(bt.quotaExceededTime),ve.clearScheduleTimer()}function Rt(){return ae?ae.getBuffer():null}function Ln(bt){bt!==Se&&(!bt||!Se||bt.type===Se.type)&&(Se=bt);var un=se.getRealAdaptation(Fe,Se),Te=se.getVoRepresentations(Se);if(Q){var on,vt=Q.getData(),gt=he.getMaxAllowedIndexFor(q,Fe.id),Nt=he.getMinAllowedIndexFor(q,Fe.id),fi=null;return null!==vt&&vt.id===un.id||q===t.default.TEXT?on=he.getQualityFor(q,Fe.id):(fi=he.getThroughputHistory().getAverageThroughput(q,Ne)||he.getInitialBitrateFor(q,Fe.id),on=he.getQualityForBitrate(Se,fi,Fe.id)),void 0!==Nt&&on<Nt&&(on=Nt),on>gt&&(on=gt),Q.updateData(un,Te,q,Se.isFragmented,on)}return Promise.resolve()}function Et(){return ve}function ut(bt){var un;return void 0!==bt?(Object(g.checkInteger)(bt),un=Q?Q.getRepresentationForQuality(bt):null):un=Q?Q.getCurrentRepresentation():null,se.convertRepresentationToRepresentationInfo(un)}function Xt(){return!!ae&&ae.getIsBufferingCompleted()}function wt(bt){var un=bt.chunk,Te=un.bytes,vt=un.quality,gt=ut(vt),Nt=Q&&gt?Q.getRepresentationForQuality(gt.quality):null;if(gt&&Nt){var on=se.getEventsFor(gt.mediaInfo,null,Fe),ti=se.getEventsFor(gt,Nt,Fe);if(on&&on.length>0||ti&&ti.length>0){var Oi=function qt(bt,un,Te,vt){try{for(var gt={},Nt=[],on=Te.concat(vt),ti=0,fi=on.length;ti<fi;ti++)gt[on[ti].schemeIdUri+"/"+on[ti].value]=on[ti];var Oi=Object(O.default)(J).getInstance().parse(bt),fr=Oi.getBoxes("emsg");if(!fr||0===fr.length)return Nt;for(var gr=Oi.getBox("sidx"),fo=!gr||isNaN(gr.earliest_presentation_time)||isNaN(gr.timescale)?un&&!isNaN(un.mediaStartTime)?un.mediaStartTime:0:gr.earliest_presentation_time/gr.timescale,ki=Math.max(fo,0),Zr=Q.getCurrentRepresentation(),Uo=0,Di=fr.length;Uo<Di;Uo++){var Dr=se.getEvent(fr[Uo],gt,ki,Zr);Dr&&Nt.push(Dr)}return Nt}catch{return[]}}(Te,Le.getRequests({state:E.default.FRAGMENT_MODEL_EXECUTED,quality:vt,index:un.index})[0],on,ti);ce.trigger(M.default.INBAND_EVENTS,{events:Oi},{streamId:Fe.id})}}}function Wt(){var bt=Re.getTime();ke.get().streaming.buffer.flushBufferAtTrackSwitch&&Re.seek(bt+.001,!1,!0),Un(bt),ae.setSeekTarget(bt),ve.startScheduleTimer()}function Kt(){var bt=Re.getTime(),un=ae.getContinuousBufferTimeForTargetTime(bt);Un(isNaN(un)?bt:un),ve.startScheduleTimer()}function Tn(bt){bt&&!isNaN(bt.time)&&(Un(bt.time),ae.setSeekTarget(bt.time))}function Un(bt){te=bt,X=!0}return st={initialize:function fe(bt,un,Te){re=Object(N.default)(J).create({events:M.default,eventBus:ce,streamInfo:Fe,timelineConverter:_e,dashConstants:b.default,segmentBaseController:Y.segmentBaseController,type:q}),(ie=Object(U.default)(J).create({streamInfo:Fe,type:q,timelineConverter:_e,dashMetrics:Ue,mediaPlayerModel:De,baseURLController:Y.baseURLController,errHandler:le,segmentsController:re,settings:ke,boxParser:we,events:M.default,eventBus:ce,errors:R.default,debug:Object(k.default)(J).getInstance(),requestModifier:Object(P.default)(J).getInstance(),dashConstants:b.default,constants:t.default,urlUtils:Object(x.default)(J).getInstance()})).initialize(Ne=Fe.manifestInfo.isDynamic),he.registerStreamType(q,st),Q=Object(p.default)(J).create({streamInfo:Fe,type:q,abrController:he,dashMetrics:Ue,playbackController:Re,timelineConverter:_e,dashConstants:b.default,events:M.default,eventBus:ce,errors:R.default,isDynamic:Ne,segmentsController:re}),(ae=function nn(bt,un){return bt?bt!==t.default.TEXT||un?Object(F.default)(J).create({streamInfo:Fe,type:bt,mediaPlayerModel:De,manifestModel:me,fragmentModel:Le,errHandler:le,mediaController:Ie,representationController:Q,adapter:se,textController:ge,abrController:he,playbackController:Re,settings:ke}):Object(L.default)(J).create({streamInfo:Fe,type:bt,mimeType:K,fragmentModel:Le,textController:ge,errHandler:le,settings:ke}):(le.error(new V.default(R.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,R.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(q,Te))&&ae.initialize(bt),(ve=Object(D.default)(J).create({streamInfo:Fe,type:q,mimeType:K,adapter:se,dashMetrics:Ue,mediaPlayerModel:De,fragmentModel:Le,abrController:he,playbackController:Re,textController:ge,mediaController:Ie,bufferController:ae,settings:ke})).initialize(un),te=0,X=!1},getStreamId:ye,getType:ue,isUpdating:function at(){return!!Q&&Q.isUpdating()},getBufferController:function $t(){return ae},getFragmentModel:function an(){return Le},getScheduleController:Et,getRepresentationController:function zt(){return Q},getRepresentationInfo:ut,getBufferLevel:function Ze(){return ae?ae.getBufferLevel():0},isBufferingCompleted:Xt,createBufferSinks:function wn(bt){var un=Rt();return un?Promise.resolve(un):ae?ae.createBufferSink(Se,bt):Promise.resolve(null)},updateStreamInfo:function mn(bt){return Fe=bt,Xt()?Promise.resolve():ae.updateAppendWindow()},getStreamInfo:function An(){return Fe},selectMediaInfo:Ln,clearMediaInfoArray:function Kn(){W=[]},addMediaInfo:function Zn(bt){-1===W.indexOf(bt)&&W.push(bt)},prepareTrackSwitch:function Fn(){return new Promise(function(bt){Qe.debug("Preparing track switch for type ".concat(q));var un=q===t.default.TEXT||ke.get().streaming.trackSwitchMode[q]===t.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&Re.getTimeToStreamEnd(Fe)>ke.get().streaming.buffer.stallThreshold;if(ae.getIsBufferingCompleted()&&!un)return ae.prepareForNonReplacementTrackSwitch(Se.codec).then(function(){ce.trigger(M.default.BUFFERING_COMPLETED,{},{streamId:Fe.id,mediaType:q})}).catch(function(){ce.trigger(M.default.BUFFERING_COMPLETED,{},{streamId:Fe.id,mediaType:q})}),void bt();ve.clearScheduleTimer(),ve.setSwitchTrack(!0),un?(ce.trigger(M.default.BUFFER_REPLACEMENT_STARTED,{mediaType:q,streamId:Fe.id},{mediaType:q,streamId:Fe.id}),Le.abortRequests(),ae.prepareForReplacementTrackSwitch(Se.codec).then(function(){var Te=ut();return ae.updateBufferTimestampOffset(Te)}).then(function(){Wt(),bt()}).catch(function(){Wt(),bt()})):ae.prepareForNonReplacementTrackSwitch(Se.codec).then(function(){Kt(),bt()}).catch(function(){Kt(),bt()})})},prepareQualityChange:function ft(bt){Qe.debug("Preparing quality switch for type ".concat(q));var un=bt.newQuality;$=!0,ve.clearScheduleTimer();var Te=ut(un);ve.setCurrentRepresentation(Te),Q.prepareQualityChange(un),Le.abortRequests(),ae.updateBufferTimestampOffset(Te).then(function(){bt.reason&&bt.reason.forceReplace?function Xe(){ce.trigger(M.default.BUFFER_REPLACEMENT_STARTED,{mediaType:q,streamId:Fe.id},{mediaType:q,streamId:Fe.id}),ae.prepareForReplacementQualitySwitch().then(function(){Wt(),$=!1}).catch(function(){Wt(),$=!1})}():ke.get().streaming.buffer.fastSwitchEnabled?function xe(bt){var un=Re.getTime(),Te=1.5*(isNaN(bt.fragmentDuration)?1:bt.fragmentDuration),vt=Le.getRequests({state:E.default.FRAGMENT_MODEL_EXECUTED,time:un+Te,threshold:0})[0];if(vt&&!Me()){var gt=ae.getBufferLevel(),Nt=he.getAbandonmentStateFor(Fe.id,q);vt.quality<bt.quality&&gt>=Te&&Nt!==w.default.ABANDON_LOAD?(Un(un+Te),ve.setCheckPlaybackQuality(!1),ve.startScheduleTimer()):Oe()}else ve.startScheduleTimer();$=!1}(Te):Oe(),Ue.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),Ue.createPlaylistTraceMetrics(Te.id,1e3*Re.getTime(),Re.getPlaybackRate())})},getMediaInfo:function ci(){return Se},getMediaSource:function vn(){return ae.getMediaSource()},setMediaSource:function gn(bt){ae.setMediaSource(bt)},getBuffer:Rt,setExplicitBufferingTime:Un,finalisePlayList:function ei(bt,un){Ue.pushPlayListTraceMetrics(bt,un)},probeNextRequest:function et(){var bt=ut(),un=Q&&bt?Q.getRepresentationForQuality(bt.quality):null;return ie.getNextSegmentRequestIdempotent(Se,un)},prepareInnerPeriodPlaybackSeeking:function ct(bt){return new Promise(function(un){if(ae.hasBufferAtTime(bt.seekTime))return ae.pruneBuffer(),void un();ve.clearScheduleTimer(),Le.abortRequests(),ae.prepareForPlaybackSeek().then(function(){var vt=ae.getAllRangesWithSafetyFactor(bt.seekTime);return ae.clearBuffers(vt)}).then(function(){var vt=ae.getContinuousBufferTimeForTargetTime(bt.seekTime);if(!isNaN(vt)&&!isNaN(Fe.duration)&&isFinite(Fe.duration)&&vt>=Fe.start+Fe.duration)ae.setIsBufferingCompleted(!0),un();else{var gt=isNaN(vt)?bt.seekTime:vt;Un(gt),ae.setSeekTarget(gt);var Nt=[];Nt.push(ae.updateAppendWindow());var on=ut();Nt.push(ae.updateBufferTimestampOffset(on)),Promise.all(Nt).then(function(){ve.setInitSegmentRequired(!0),ve.setCheckPlaybackQuality(!1),ve.startScheduleTimer(),un()})}}).catch(function(vt){Qe.error(vt)})})},prepareOuterPeriodPlaybackSeeking:function rt(){return new Promise(function(bt,un){try{ve.clearScheduleTimer(),Le.abortRequests(),ae.prepareForPlaybackSeek().then(function(){return ae.pruneAllSafely()}).then(function(){bt()})}catch(Te){un(Te)}})},reset:function Ge(bt,un){ie&&ie.reset(),ae&&(ae.reset(bt,un),ae=null),ve&&(ve.reset(),ve=null),Q&&(Q.reset(),Q=null),re&&(re=null),he&&he.unRegisterStreamType(ye(),q),ce.off(M.default.DATA_UPDATE_COMPLETED,Gt,st),ce.off(M.default.INIT_FRAGMENT_NEEDED,_t,st),ce.off(M.default.MEDIA_FRAGMENT_NEEDED,Bt,st),ce.off(M.default.MEDIA_FRAGMENT_LOADED,wt,st),ce.off(M.default.BUFFER_LEVEL_STATE_CHANGED,Cn,st),ce.off(M.default.BUFFER_CLEARED,en,st),ce.off(M.default.SEEK_TARGET,Tn,st),ce.off(M.default.FRAGMENT_LOADING_ABANDONED,We,st),ce.off(M.default.FRAGMENT_LOADING_COMPLETED,$e,st),ce.off(M.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,ot,st),ce.off(M.default.SET_NON_FRAGMENTED_TEXT,dt,st),ce.off(M.default.QUOTA_EXCEEDED,Lt,st),ce.off(M.default.SOURCE_BUFFER_ERROR,xt,st),Ye(),q=null,Fe=null}},function ee(){Qe=Object(k.default)(J).getInstance().getLogger(st),Ye(),ce.on(M.default.DATA_UPDATE_COMPLETED,Gt,st,{priority:y.default.EVENT_PRIORITY_HIGH}),ce.on(M.default.INIT_FRAGMENT_NEEDED,_t,st),ce.on(M.default.MEDIA_FRAGMENT_NEEDED,Bt,st),ce.on(M.default.MEDIA_FRAGMENT_LOADED,wt,st),ce.on(M.default.BUFFER_LEVEL_STATE_CHANGED,Cn,st),ce.on(M.default.BUFFER_CLEARED,en,st),ce.on(M.default.SEEK_TARGET,Tn,st),ce.on(M.default.FRAGMENT_LOADING_ABANDONED,We,st),ce.on(M.default.FRAGMENT_LOADING_COMPLETED,$e,st),ce.on(M.default.QUOTA_EXCEEDED,Lt,st),ce.on(M.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,ot,st),ce.on(M.default.SET_NON_FRAGMENTED_TEXT,dt,st),ce.on(M.default.SOURCE_BUFFER_ERROR,xt,st)}(),st}B.__dashjs_factory_name="StreamProcessor",S.default=f.default.getClassFactory(B)},"./src/streaming/XlinkLoader.js":
/*!**************************************!*\
                  !*** ./src/streaming/XlinkLoader.js ***!
                  \**************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),w=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),E=c(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),F=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js");function f(g){g=g||{};var M=this.context,U=Object(F.default)(M).getInstance(),R=Object(b.default)(M).create({errHandler:g.errHandler,dashMetrics:g.dashMetrics,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,errors:p.default});return{load:function k(x,O,T){var N=function(Y,J){O.resolved=!0,O.resolvedContent=Y||null,U.trigger(L.default.XLINK_ELEMENT_LOADED,{element:O,resolveObject:T,error:Y||J?null:new t.default(p.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,p.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+x)})};if("urn:mpeg:dash:resolve-to-zero:2013"===x)N(null,!0);else{var C=new E.default(x,w.HTTPRequest.XLINK_EXPANSION_TYPE);R.load({request:C,success:function(Y){N(Y)},error:function(){N(null)}})}},reset:function P(){R&&(R.abort(),R=null)}}}f.__dashjs_factory_name="XlinkLoader",S.default=D.default.getClassFactory(f)},"./src/streaming/constants/ConformanceViolationConstants.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/constants/ConformanceViolationConstants.js ***!
                  \******************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S),S.default={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}}},"./src/streaming/constants/Constants.js":
/*!**********************************************!*\
                  !*** ./src/streaming/constants/Constants.js ***!
                  \**********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,F(M.key),M)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==t(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S);var p=new(function(){function f(){(function b(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function E(f,g,y){return g&&w(f.prototype,g),y&&w(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),f}());S.default=p},"./src/streaming/constants/MetricsConstants.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/constants/MetricsConstants.js ***!
                  \*****************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,F(M.key),M)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==t(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S);var p=new(function(){function f(){(function b(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function E(f,g,y){return g&&w(f.prototype,g),y&&w(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),f}());S.default=p},"./src/streaming/constants/ProtectionConstants.js":
/*!********************************************************!*\
                  !*** ./src/streaming/constants/ProtectionConstants.js ***!
                  \********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,F(M.key),M)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==t(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S);var p=new(function(){function f(){(function b(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function E(f,g,y){return g&&w(f.prototype,g),y&&w(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),f}());S.default=p},"./src/streaming/controllers/AbrController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/AbrController.js ***!
                  \****************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),b=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),E=c(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),F=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),f=c(
/*! ../rules/RulesContext */
"./src/streaming/rules/RulesContext.js"),g=c(
/*! ../rules/SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),y=c(
/*! ../rules/SwitchRequestHistory */
"./src/streaming/rules/SwitchRequestHistory.js"),M=c(
/*! ../rules/DroppedFramesHistory */
"./src/streaming/rules/DroppedFramesHistory.js"),U=c(
/*! ../rules/ThroughputHistory */
"./src/streaming/rules/ThroughputHistory.js"),R=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),V=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),k=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),P=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function N(){var ce,Fe,q,le,K,_e,se,me,De,Le,he,Re,Ie,ge,Ue,ke,we,Ke,st,Qe,Ne,Se,W,ae,ve,Q,B=this.context,Y=Object(R.default)(B).getInstance(),J=Object(L.default)(B).getInstance();function ee(){K={},_e={},me={},se={},st={},Se={},W={},ae={},void 0===Le&&(Le=!1),Qe&&Qe.reset(),Ke=void 0,Qe=void 0,Ne=void 0,clearTimeout(De),De=null}function Me(Rt){var $t=Rt.request.mediaType,an=Rt.streamId;if($t&&an&&se[an]&&Q.get().streaming.abr.autoSwitchBitrate[$t]){var mn=se[an][$t];if(mn){var An=Object(f.default)(B).create({abrController:ce,streamProcessor:mn,currentRequest:Rt.request,useBufferOccupancyABR:Se[$t],useL2AABR:W[$t],useLoLPABR:ae[$t],videoModel:ge}),Ln=q.shouldAbandonFragment(An,an);Ln.quality>g.default.NO_CHANGE&&mn.getFragmentModel().getRequests({state:F.default.FRAGMENT_MODEL_LOADING,index:Rt.request.index})[0]&&(me[an][$t].state=w.default.ABANDON_LOAD,st[an][$t].reset(),st[an][$t].push({oldValue:Gt($t,an),newValue:Ln.quality,confidence:1,reason:Ln.reason}),Cn($t,le.getActiveStreamInfo(),Ln.quality,Ln.reason),clearTimeout(De),De=setTimeout(function(){me[an][$t].state=w.default.ALLOW_LOAD,De=null},Q.get().streaming.abandonLoadTimeout))}}}function Ye(Rt){Rt.mediaType===b.default.VIDEO&&(void 0!==Ke&&Qe.push(Rt.streamId,Ke,ge.getPlaybackQuality()),Ke=Rt.newQuality)}function Ge(Rt){Rt.metric===w.default.HTTP_REQUEST&&Rt.value&&Rt.value.type===V.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Rt.mediaType===b.default.AUDIO||Rt.mediaType===b.default.VIDEO)&&Ne.push(Rt.mediaType,Rt.value,Q.get().streaming.abr.useDeadTimeLatency),Rt.metric===w.default.BUFFER_LEVEL&&(Rt.mediaType===b.default.AUDIO||Rt.mediaType===b.default.VIDEO)&&function Oe(Rt,$t){Q.get().streaming.abr.ABRStrategy===b.default.ABR_STRATEGY_DYNAMIC&&function We(Rt,$t){try{var an=Ue.getStableBufferTime(),Ln=Se[Rt],Zn=$t>(Ln?.5*an:an);Se[Rt]=Zn,Zn!==Ln&&Fe.info(Zn?"["+Rt+"] switching from throughput to buffer occupancy ABR rule (buffer: "+$t.toFixed(3)+").":"["+Rt+"] switching from buffer occupancy to throughput ABR rule (buffer: "+$t.toFixed(3)+").")}catch(Kn){Fe.error(Kn)}}(Rt,$t)}(Rt.mediaType,.001*Rt.value.level)}function at(Rt,$t){try{return K[$t]=K[$t]||{},K[$t].hasOwnProperty(Rt)||(K[$t][Rt]=0),function jt(Rt,$t,an){if($t!==b.default.VIDEO||!Q.get().streaming.abr.limitBitrateByPortal||!se[an]||!se[an][$t])return Rt;Le||Lt();var mn=se[an][$t].getStreamInfo(),An=Ie.getAdaptationForType(mn.index,$t,mn).Representation_asArray,Ln=Rt;if(he>0&&Re>0){for(;Ln>0&&An[Ln]&&he<An[Ln].width&&he-An[Ln-1].width<An[Ln].width-he;)Ln-=1;for(;Ln<An.length-1&&An[Ln].width===An[Ln+1].width;)Ln+=1}return Ln}(function At(Rt,$t,an){var mn=K[an][$t],An=Q.get().streaming.abr.maxRepresentationRatio[$t];return isNaN(An)||An>=1||An<0?Rt:Math.min(Rt,Math.round(mn*An))}(function Bt(Rt,$t){var an=K[$t][Rt],mn=an;if(!se[$t]||!se[$t][Rt])return mn;var An=ct(Rt,$t);void 0!==An&&(mn=Math.max(an,An));var Ln=function rt(Rt,$t){try{var an=Ue.getAbrBitrateParameter("maxBitrate",Rt);return an>-1?Xe(se[$t][Rt].getMediaInfo(),an,$t):void 0}catch{return}}(Rt,$t);return void 0!==Ln&&(mn=Math.min(mn,Ln)),mn}(Rt,$t),Rt,$t),Rt,$t)}catch{return}}function ct(Rt,$t){try{return function _t(Rt,$t){try{var an=Ue.getAbrBitrateParameter("minBitrate",Rt);if(an>-1){var mn=se[$t][Rt].getMediaInfo(),An=xe(mn),Ln=Xe(mn,an,$t);return An[Ln]&&Ln<An.length-1&&An[Ln].bitrate<1e3*an&&Ln++,Ln}return}catch{return}}(Rt,$t)}catch{return}}function Gt(Rt){var $t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return $t||($t=le.getActiveStreamInfo().id),Rt&&se[$t]&&se[$t][Rt]&&$t?(_e[$t]=_e[$t]||{},_e[$t].hasOwnProperty(Rt)||(_e[$t][Rt]=0),_e[$t][Rt]):0}catch{return 0}}function Cn(Rt,$t,an){var mn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if($t&&$t.id&&Rt){var An=$t.id,Ln=Gt(Rt,An);Object(k.checkInteger)(an);var Zn=at(Rt,An);an!==Ln&&an>=0&&an<=Zn&&xt(Rt,Ln,an,Zn,mn,An)}}function xt(Rt,$t,an,mn,An,Ln){if(Rt&&se[Ln]&&se[Ln][Rt]){var Zn=se[Ln][Rt].getStreamInfo(),Kn=Zn&&Zn.manifestInfo&&Zn.manifestInfo.isDynamic,ci=ve.getCurrentBufferLevel(Rt);Fe.info("Stream ID: "+Ln+" ["+Rt+"] switch from "+$t+" to "+an+"/"+mn+" (buffer: "+ci+") "+(An?JSON.stringify(An):".")),_e[Ln]=_e[Ln]||{},_e[Ln][Rt]=an;var vn=function ft(Rt,$t,an){if($t&&se&&se[Rt]&&se[Rt][$t]){var mn=xe(se[Rt][$t].getMediaInfo());return mn[an]?mn[an]:null}return null}(Ln,Rt,an);J.trigger(D.default.QUALITY_CHANGE_REQUESTED,{oldQuality:$t,newQuality:an,reason:An,streamInfo:Zn,bitrateInfo:vn,maxIdx:mn,mediaType:Rt},{streamId:Zn.id,mediaType:Rt});var gn=Ne.getAverageThroughput(Rt,Kn);isNaN(gn)||we.setSavedBitrateSettings(Rt,gn)}}function Xe(Rt,$t,an){var mn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,An=Rt&&Rt.type?se[an][Rt.type].getRepresentationInfo():null;if(Q.get().streaming.abr.useDeadTimeLatency&&mn&&An&&An.fragmentDuration){var Ln=An.fragmentDuration;if((mn/=1e3)>Ln)return 0;$t*=1-mn/Ln}for(var Kn=xe(Rt),ci=Kn.length-1;ci>=0;ci--)if(1e3*$t>=Kn[ci].bitrate)return ci;return 0}function xe(Rt){var $t=[];if(!Rt||!Rt.bitrateList)return $t;for(var An,an=Rt.bitrateList,mn=Rt.type,Ln=0,Zn=an.length;Ln<Zn;Ln++)(An=new E.default).mediaType=mn,An.qualityIndex=Ln,An.bitrate=an[Ln].bandwidth,An.width=an[Ln].width,An.height=an[Ln].height,An.scanType=an[Ln].scanType,$t.push(An);return $t}function Lt(){if(ge){var $t=Q.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;he=ge.getClientWidth()*$t,Re=ge.getClientHeight()*$t}}return ce={initialize:function $(){Qe=Object(M.default)(B).create(),Ne=Object(U.default)(B).create({settings:Q}),(q=Object(t.default)(B).create({dashMetrics:ve,customParametersModel:ke,mediaPlayerModel:Ue,settings:Q})).initialize(),J.on(P.default.QUALITY_CHANGE_RENDERED,Ye,ce),J.on(P.default.METRIC_ADDED,Ge,ce),J.on(D.default.LOADING_PROGRESS,Me,ce)},isPlayingAtTopQuality:function ot(Rt){var $t=Rt?Rt.id:null,an=Gt(b.default.AUDIO,$t),mn=Gt(b.default.VIDEO,$t);return an===at(b.default.AUDIO,$t)&&mn===at(b.default.VIDEO,$t)},updateTopQualityIndex:function lt(Rt){var $t=Rt.type,an=Rt.streamInfo.id,mn=Rt.representationCount-1;return K[an]=K[an]||{},K[an][$t]=mn,mn},clearDataForStream:function zt(Rt){Qe&&Qe.clearForStream(Rt),se[Rt]&&delete se[Rt],st[Rt]&&delete st[Rt],me[Rt]&&delete me[Rt]},getThroughputHistory:function $e(){return Ne},getBitrateList:xe,getQualityForBitrate:Xe,getTopBitrateInfoFor:function Qt(Rt){var $t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if($t||($t=le.getActiveStreamInfo().id),Rt&&se&&se[$t]&&se[$t][Rt]){var an=at(Rt,$t),mn=xe(se[$t][Rt].getMediaInfo());return mn[an]?mn[an]:null}return null},getMinAllowedIndexFor:ct,getMaxAllowedIndexFor:at,getInitialBitrateFor:function cn(Rt,$t){if(function ue(){if(!we||!we.hasOwnProperty("getSavedBitrateSettings"))throw new Error(b.default.MISSING_CONFIG_ERROR)}(),Rt===b.default.TEXT)return NaN;var an=we.getSavedBitrateSettings(Rt),mn=Ue.getAbrBitrateParameter("initialBitrate",Rt),An=Q.get().streaming.abr.initialRepresentationRatio[Rt];if(-1===mn)if(An>-1){var Ln=se[$t][Rt].getStreamInfo(),Zn=Ie.getAdaptationForType(Ln.index,Rt,Ln).Representation_asArray;mn=Array.isArray(Zn)?Zn[Math.max(Math.round(Zn.length*An)-1,0)].bandwidth/1e3:0}else mn=isNaN(an)?Rt===b.default.VIDEO?1e3:100:an;return mn},getQualityFor:Gt,getAbandonmentStateFor:function en(Rt,$t){return me[Rt]&&me[Rt][$t]?me[Rt][$t].state:null},setPlaybackQuality:Cn,checkPlaybackQuality:function dn(Rt,$t){try{if(!(Rt&&se&&se[$t]&&se[$t][Rt]))return!1;if(Qe){var an=ge.getPlaybackQuality();an&&Qe.push($t,Ke,an)}if(!Q.get().streaming.abr.autoSwitchBitrate[Rt])return!1;var mn=Gt(Rt,$t),An=Object(f.default)(B).create({abrController:ce,switchHistory:st[$t][Rt],droppedFramesHistory:Qe,streamProcessor:se[$t][Rt],currentValue:mn,useBufferOccupancyABR:Se[Rt],useL2AABR:W[Rt],useLoLPABR:ae[Rt],videoModel:ge}),Ln=ct(Rt,$t),Zn=at(Rt,$t),Kn=q.getMaxQuality(An),ci=Kn.quality;return void 0!==Ln&&(ci>g.default.NO_CHANGE?ci:mn)<Ln&&(ci=Ln),ci>Zn&&(ci=Zn),st[$t][Rt].push({oldValue:mn,newValue:ci}),ci>g.default.NO_CHANGE&&ci!==mn&&(me[$t][Rt].state===w.default.ALLOW_LOAD||ci<mn)&&(xt(Rt,mn,ci,Zn,Kn.reason,$t),!0)}catch{return!1}},setElementSize:Lt,setWindowResizeEventCalled:function dt(Rt){Le=Rt},registerStreamType:function ie(Rt,$t){var an=$t.getStreamInfo().id;se[an]||(se[an]={}),st[an]||(st[an]={}),me[an]||(me[an]={}),st[an][Rt]=Object(y.default)(B).create(),se[an][Rt]=$t,me[an][Rt]={},me[an][Rt].state=w.default.ALLOW_LOAD,function re(Rt){var $t=Q.get().streaming.abr.ABRStrategy;$t===b.default.ABR_STRATEGY_L2A?(Se[Rt]=!1,ae[Rt]=!1,W[Rt]=!0):$t===b.default.ABR_STRATEGY_LoLP?(Se[Rt]=!1,ae[Rt]=!0,W[Rt]=!1):$t===b.default.ABR_STRATEGY_BOLA?(Se[Rt]=!0,ae[Rt]=!1,W[Rt]=!1):$t===b.default.ABR_STRATEGY_THROUGHPUT?(Se[Rt]=!1,ae[Rt]=!1,W[Rt]=!1):$t===b.default.ABR_STRATEGY_DYNAMIC&&(Se[Rt]=!(!Se||!Se[Rt])&&Se[Rt],ae[Rt]=!1,W[Rt]=!1)}(Rt),Rt===b.default.VIDEO&&Lt()},unRegisterStreamType:function te(Rt,$t){try{se[Rt]&&se[Rt][$t]&&delete se[Rt][$t],st[Rt]&&st[Rt][$t]&&delete st[Rt][$t],me[Rt]&&me[Rt][$t]&&delete me[Rt][$t]}catch{}},setConfig:function ye(Rt){Rt&&(Rt.streamController&&(le=Rt.streamController),Rt.domStorage&&(we=Rt.domStorage),Rt.mediaPlayerModel&&(Ue=Rt.mediaPlayerModel),Rt.customParametersModel&&(ke=Rt.customParametersModel),Rt.dashMetrics&&(ve=Rt.dashMetrics),Rt.adapter&&(Ie=Rt.adapter),Rt.videoModel&&(ge=Rt.videoModel),Rt.settings&&(Q=Rt.settings))},reset:function fe(){ee(),J.off(D.default.LOADING_PROGRESS,Me,ce),J.off(P.default.QUALITY_CHANGE_RENDERED,Ye,ce),J.off(P.default.METRIC_ADDED,Ge,ce),q&&q.reset()}},function X(){Fe=Y.getLogger(ce),ee()}(),ce}N.__dashjs_factory_name="AbrController";var C=p.default.getSingletonFactory(N);C.QUALITY_DEFAULT=0,p.default.updateSingletonFactory(N.__dashjs_factory_name,C),S.default=C},"./src/streaming/controllers/BaseURLController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/BaseURLController.js ***!
                  \********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../models/BaseURLTreeModel */
"./src/streaming/models/BaseURLTreeModel.js"),b=c(
/*! ../utils/BaseURLSelector */
"./src/streaming/utils/BaseURLSelector.js"),w=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),E=c(
/*! ../../dash/vo/BaseURL */
"./src/dash/vo/BaseURL.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function p(){var f,g,R,V,y=this.context,M=Object(L.default)(y).getInstance(),U=Object(w.default)(y).getInstance();function k(B){R.invalidateSelectedIndexes(B.entry)}return f={reset:function N(){R.reset(),V.reset()},initialize:function C(B){R.setConfig({adapter:g}),function O(B){R.update(B),V.chooseSelector(g.getIsDVB(B))}(B)},resolve:function T(B){var J=R.getForPath(B).reduce(function(ce,Fe){var q=V.select(Fe);return q?(U.isRelative(q.url)?ce.url=U.resolve(q.url,ce.url):(ce.url=q.url,ce.serviceLocation=q.serviceLocation),ce.availabilityTimeOffset=q.availabilityTimeOffset,ce.availabilityTimeComplete=q.availabilityTimeComplete,ce):new E.default},new E.default);if(!U.isRelative(J.url))return J},setConfig:function x(B){B.baseURLTreeModel&&(R=B.baseURLTreeModel),B.baseURLSelector&&(V=B.baseURLSelector),B.adapter&&(g=B.adapter)}},function P(){R=Object(t.default)(y).create(),V=Object(b.default)(y).create(),M.on(D.default.SERVICE_LOCATION_BLACKLIST_CHANGED,k,f)}(),f}p.__dashjs_factory_name="BaseURLController",S.default=F.default.getClassFactory(p)},"./src/streaming/controllers/BlacklistController.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/controllers/BlacklistController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js");function w(E){E=E||{};var F,L=[],D=Object(b.default)(this.context).getInstance(),p=E.updateEventName,f=E.addBlacklistEventName;function y(V){-1===L.indexOf(V)&&(L.push(V),D.trigger(p,{entry:V}))}function M(V){y(V.entry)}return F={add:y,contains:function g(V){return!!(L.length&&V&&V.length)&&-1!==L.indexOf(V)},reset:function R(){L=[]}},function U(){f&&D.on(f,M,F)}(),F}w.__dashjs_factory_name="BlackListController",S.default=t.default.getClassFactory(w)},"./src/streaming/controllers/BufferController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/BufferController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),w=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),E=c(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),F=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),f=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),g=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),y=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),M=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),U=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),V=.01,P="BufferController";function x(O){O=O||{};var se,me,De,Le,he,Re,Ie,ge,Ue,ke,we,Ke,st,Qe,Ne,Se,W,ae,T=this.context,N=Object(F.default)(T).getInstance(),C=O.errHandler,B=O.fragmentModel,Y=O.representationController,J=O.adapter,ce=O.textController,Fe=O.abrController,q=O.playbackController,le=O.streamInfo,K=O.type,_e=O.settings;function re(Wt){Re=Wt}function te(Wt){return J.convertRepresentationToRepresentationInfo(Y.getRepresentationForQuality(Wt))}function ye(Wt){_e.get().streaming.cacheInitSegments&&(me.info("Init fragment finished loading saving to",K+"'s init cache"),Ne.save(Wt.chunk)),me.debug("Append Init fragment",K," with representationId:",Wt.chunk.representationId," and quality:",Wt.chunk.quality,", data size:",Wt.chunk.bytes.byteLength),Ye(Wt.chunk)}function Me(Wt){Ye(Wt.chunk,Wt.request)}function Ye(Wt){Ue.append(Wt,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(nn){at(nn)}).catch(function(nn){at(nn)}),Wt.mediaInfo.type===t.default.VIDEO&&qt(L.default.VIDEO_CHUNK_RECEIVED,{chunk:Wt})}function Ge(Wt){if(Wt&&Wt.length>0)for(var Kt=0,nn=Wt.length;Kt<nn;Kt++)me.debug("Buffered range: "+Wt.start(Kt)+" - "+Wt.end(Kt)+", currentTime = ",q.getTime())}function at(Wt){if(Wt.error)return 22===Wt.error.code&&function rt(){if(Qe=!0,he=.8*Xt(),me.warn("Quota exceeded, Critical Buffer: "+he),he>0){var Wt=Math.max(.2*he,1),Kt=he-Wt,nn=Math.min(_e.get().streaming.buffer.bufferTimeAtTopQuality,.9*Kt),Tn=Math.min(_e.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*Kt),Un={streaming:{buffer:{bufferToKeep:parseFloat(Wt.toFixed(5)),bufferTimeAtTopQuality:parseFloat(nn.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(Tn.toFixed(5))}}};_e.update(Un)}}(),void((22===Wt.error.code||!et())&&(me.warn("Clearing playback buffer to overcome quota exceed situation"),qt(L.default.QUOTA_EXCEEDED,{criticalBufferLevel:he,quotaExceededTime:Wt.chunk.start}),Lt(dt())));if(Ue&&(Oe(),Qe=!1,(we=Wt.chunk)&&we.endFragment)){we&&!isNaN(we.index)&&(Ie=Math.max(we.index,Ie),We());var Kt=Ue.getAllBufferRanges();we.segmentType===M.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Ge(Kt),Cn(),function ct(){if(!isNaN(ae)){if(K!==t.default.AUDIO&&K!==t.default.VIDEO)return void(ae=NaN);var Wt=q.getTime(),Kt=Xe(Wt,0),nn=Xe(ae,0);if(Kt&&nn&&Kt.start===nn.start)return void(ae=NaN);var Tn=Y.getCurrentRepresentation().segmentDuration,Un=Xe(ae,Tn);Un&&(_e.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(Wt-ae)>Tn?ae<=Un.end&&q.seek(Math.max(ae,Un.start),!1,!0):Wt<Un.start&&q.seek(Un.start,!1,!0))}}()),we&&qt(L.default.BYTES_APPENDED_END_FRAGMENT,{quality:we.quality,startTime:we.start,index:we.index,bufferedRanges:Kt,segmentType:we.segmentType,mediaType:K})}}function Qt(){return new Promise(function(Wt,Kt){var nn=cn();if(!nn||0===nn.length)return Cn(),void Wt();Lt(nn).then(function(){Wt()}).catch(function(Tn){Kt(Tn)})})}function cn(Wt){var Kt=[],nn=Ue.getAllBufferRanges();if(!nn||0===nn.length)return Kt;if(!Wt&&0!==Wt||isNaN(Wt))Kt.push({start:nn.start(0),end:nn.end(nn.length-1)+.5});else{var Tn=function dn(Wt,Kt){var nn=_e.get().streaming.buffer.bufferToKeep,Tn=Kt.start(0);if(Wt-Tn>nn){var ei=Math.max(0,Wt-nn),bt=B.getRequests({state:w.default.FRAGMENT_MODEL_EXECUTED,time:Wt,threshold:V})[0];if(bt&&(ei=Math.min(bt.startTime,ei)),ei>0)return{start:Tn,end:ei}}return null}(Wt,nn),Un=function Gt(Wt,Kt){var nn=Kt.end(Kt.length-1)+.5,Tn=Ze(Wt),ei=le.manifestInfo.duration>=_e.get().streaming.buffer.longFormContentDurationThreshold?_e.get().streaming.buffer.bufferTimeAtTopQualityLongForm:_e.get().streaming.buffer.bufferTimeAtTopQuality,bt=isNaN(Tn)?Wt:Math.min(Tn,Wt+ei);if(bt>=Kt.end(Kt.length-1))return null;var un=B.getRequests({state:w.default.FRAGMENT_MODEL_EXECUTED,time:Wt,threshold:V})[0];if(un&&(bt=Math.max(un.startTime+un.duration,bt)),_e.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var vt=0;vt<Kt.length;vt++)if(Kt.start(vt)<=Wt&&Wt<=Kt.end(vt)&&Kt.start(vt)<=bt&&bt<=Kt.end(vt)){var gt=bt;bt=vt+1<Kt.length?Kt.start(vt+1):Kt.end(vt)+1,me.debug("Buffered range ["+Kt.start(vt)+", "+Kt.end(vt)+"] overlaps with targetTime "+Wt+" and range to be pruned ["+gt+", "+nn+"], using ["+bt+", "+nn+"] instead"+(bt<nn?"":" (no actual pruning)"));break}return bt<Kt.end(Kt.length-1)?{start:bt,end:nn}:null}(Wt,nn);Tn&&Kt.push(Tn),Un&&Kt.push(Un)}return Kt}function Cn(){(!W||K===t.default.TEXT&&ce.isTextEnabled())&&Oe()}function en(){$e()}function xt(){$e(),ae=NaN}function Xe(Wt,Kt){var Te,vt,nn=Ue.getAllBufferRanges(),Tn=0,Un=0,ei=null,bt=null,un=0,gt=isNaN(Kt)?.15:Kt;if(null!=nn){for(vt=0,Te=nn.length;vt<Te;vt++)if(Tn=nn.start(vt),Un=nn.end(vt),null===ei)un=Math.abs(Tn-Wt),(Wt>=Tn&&Wt<Un||un<=gt)&&(ei=Tn,bt=Un);else{if(!((un=Tn-bt)<=gt))break;bt=Un}if(null!==ei)return{start:ei,end:bt}}return null}function Oe(){if(q){var Wt=_e.get().streaming.gaps.jumpGaps&&!isNaN(_e.get().streaming.gaps.smallGapLimit)?_e.get().streaming.gaps.smallGapLimit:NaN;Le=Math.max(function xe(Wt,Kt){var nn;return _e.get().streaming.gaps.jumpGaps&&(Kt=_e.get().streaming.gaps.smallGapLimit),null===(nn=Xe(Wt,Kt))?0:nn.end-Wt}(q.getTime()||0,Wt),0),qt(L.default.BUFFER_LEVEL_UPDATED,{mediaType:K,bufferLevel:Le}),$e()}}function We(){var Wt=Ie>=ge-1,Kt=q.getTimeToStreamEnd(le)-Le<1e-5;(Wt||Kt)&&!De&&(Et(!0),me.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(le.id," and type ").concat(K)))}function $e(){K!==t.default.AUDIO&&K!==t.default.VIDEO||((!q.getLowLatencyModeEnabled()&&Le<_e.get().streaming.buffer.stallThreshold||0===Le)&&!De?lt(b.default.BUFFER_EMPTY):(De||Le>=_e.get().streaming.buffer.stallThreshold||q.getLowLatencyModeEnabled()&&Le>0)&&lt(b.default.BUFFER_LOADED))}function lt(Wt){ke===Wt||Wt===b.default.BUFFER_EMPTY&&0===q.getTime()||K===t.default.TEXT&&!ce.isTextEnabled()||(ke=Wt,qt(L.default.BUFFER_LEVEL_STATE_CHANGED,{state:Wt}),qt(Wt===b.default.BUFFER_LOADED?L.default.BUFFER_LOADED:L.default.BUFFER_EMPTY),me.debug(Wt===b.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function ot(){!Ue||K===t.default.TEXT||De||Lt(dt())}function dt(){var Wt=[],Kt=Ue.getAllBufferRanges();if(!Kt||0===Kt.length)return Wt;var nn=q.getTime(),Tn=Math.max(0,nn-_e.get().streaming.buffer.bufferToKeep),Un=B.getRequests({state:w.default.FRAGMENT_MODEL_EXECUTED,time:nn,threshold:V})[0];if(Un)Tn=Math.min(Un.startTime,Tn);else if(0===nn&&q.getIsDynamic())return[];if(Kt.start(0)<=Tn){for(var ei={start:0,end:Tn},bt=0;bt<Kt.length&&Kt.end(bt)<=Tn;bt++)ei.end=Kt.end(bt);ei.start<ei.end&&Wt.push(ei)}return Wt}function Lt(Wt){return new Promise(function(Kt,nn){if(Wt&&Ue&&0!==Wt.length){var Tn=[];Wt.forEach(function(Un){Tn.push(function zt(Wt){return new Promise(function(Kt,nn){Wt.resolve=Kt,Wt.reject=nn,Se.push(Wt)})}(Un))}),st||Rt(),Promise.all(Tn).then(function(){Kt()}).catch(function(Un){nn(Un)})}else Kt()})}function Rt(){try{if(0===Se.length||!Ue)return me.debug("Nothing to prune, halt pruning"),Se=[],void(st=!1);var Wt=Ue.getBuffer();if(!Wt||!Wt.buffered||0===Wt.buffered.length)return me.debug("SourceBuffer is empty (or does not exist), halt pruning"),Se=[],void(st=!1);var Kt=Se.shift();me.debug("".concat(K,": Removing buffer from: ").concat(Kt.start," to ").concat(Kt.end)),st=!0,q.getTime()<Kt.end&&Et(!1),Ue.remove(Kt).then(function(Tn){$t(Tn)}).catch(function(Tn){$t(Tn)})}catch{st=!1}}function $t(Wt){me.debug("onRemoved buffer from:",Wt.from,"to",Wt.to),Ge(Ue.getAllBufferRanges()),0===Se.length&&(st=!1,Oe()),Wt.unintended&&(me.warn("Detected unintended removal from:",Wt.from,"to",Wt.to,"setting streamprocessor time to",Wt.from),qt(L.default.SEEK_TARGET,{time:Wt.from})),st?Rt():(W?W=!1:Oe(),qt(L.default.BUFFER_CLEARED,{from:Wt.from,to:Wt.to,unintended:Wt.unintended,hasEnoughSpaceToAppend:et(),quotaExceeded:Qe}))}function an(Wt){return new Promise(function(Kt){Wt&&void 0!==Wt.MSETimeOffset&&Ue&&Ue.updateTimestampOffset?Ue.updateTimestampOffset(Wt.MSETimeOffset).then(function(){Kt()}).catch(function(){Kt()}):Kt()})}function mn(){return Ue&&!De?Ue.updateAppendWindow(le):Promise.resolve()}function Ln(){++Ke*(_e.get().streaming.wallclockTimeUpdateInterval/1e3)>=_e.get().streaming.buffer.bufferPruningInterval&&(Ke=0,ot())}function Zn(){$e()}function Et(Wt){De!==Wt&&((De=Wt)?qt(L.default.BUFFERING_COMPLETED):ge=Number.POSITIVE_INFINITY)}function Xt(){try{var nn,Tn,Wt=Ue.getAllBufferRanges(),Kt=0;if(!Wt)return Kt;for(Tn=0,nn=Wt.length;Tn<nn;Tn++)Kt+=Wt.end(Tn)-Wt.start(Tn);return Kt}catch{return 0}}function Ze(Wt){try{var Kt=Wt,nn=Ue.getAllBufferRanges();if(!nn||0===nn.length)return NaN;for(var Tn=0;Kt===Wt&&Tn<nn.length;){var Un=nn.start(Tn),ei=nn.end(Tn);Kt>=Un&&Kt<=ei&&(Kt=ei),Tn+=1}return Kt===Wt?NaN:Kt}catch{}}function et(){var Wt=Xt();return isNaN(Wt)||Wt<he}function qt(Wt,Kt){N.trigger(Wt,Kt||{},{streamId:le.id,mediaType:K})}function wn(Wt,Kt){if(he=Number.POSITIVE_INFINITY,ke=void 0,ge=Number.POSITIVE_INFINITY,Ie=0,we=null,De=!1,st=!1,Qe=!1,Le=0,Ke=0,Se=[],ae=NaN,Ue){var nn=Ue;Ue=null,!Wt&&!Kt&&nn.abort().then(function(){nn.reset(Kt),nn=null})}W=!1}return se={initialize:function Q(Wt){re(Wt),N.on(L.default.INIT_FRAGMENT_LOADED,ye,se),N.on(L.default.MEDIA_FRAGMENT_LOADED,Me,se),N.on(L.default.WALLCLOCK_TIME_UPDATED,Ln,se),N.on(U.default.PLAYBACK_PLAYING,xt,se),N.on(U.default.PLAYBACK_PROGRESS,Cn,se),N.on(U.default.PLAYBACK_TIME_UPDATED,Cn,se),N.on(U.default.PLAYBACK_RATE_CHANGED,Zn,se),N.on(U.default.PLAYBACK_STALLED,en,se)},getStreamId:function X(){return le.id},getType:function $(){return K},getBufferControllerType:function ie(){return P},createBufferSink:function ee(Wt){var Kt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(nn,Tn){if(Ne&&Wt&&Re){var Un=Fe.getQualityFor(K,le.id);Ue=Object(E.default)(T).create({mediaSource:Re,textController:ce,eventBus:N}),function fe(Wt,Kt,nn){var Tn=te(nn);return Kt&&Kt[K]&&(K===t.default.VIDEO||K===t.default.AUDIO)?Ue.initializeForStreamSwitch(Wt,Tn,Kt[K]):Ue.initializeForFirstUse(le,Wt,Tn)}(Wt,Kt,Un).then(function(){return an(te(Un))}).then(function(){nn(Ue)}).catch(function(ei){me.fatal("Caught error on create SourceBuffer: "+ei),C.error(new g.default(y.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,y.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+K)),Tn(ei)})}else nn(null)})},getBuffer:function Kn(){return Ue},getBufferLevel:function ci(){return Le},getRangeAt:Xe,hasBufferAtTime:function ft(Wt){try{var Kt=Ue.getAllBufferRanges();if(!Kt||0===Kt.length)return!1;for(var nn=0;nn<Kt.length;){var Tn=Kt.start(nn),Un=Kt.end(nn);if(Wt>=Tn&&Wt<=Un)return!0;nn+=1}return!1}catch(ei){return me.error(ei),!1}},pruneBuffer:ot,setMediaSource:re,getMediaSource:function vn(){return Re},appendInitSegmentFromCache:function ue(Wt){var Kt=Ne.extract(le.id,Wt);return!!Kt&&(me.info("Append Init fragment",K," with representationId:",Kt.representationId," and quality:",Kt.quality,", data size:",Kt.bytes.byteLength),Ye(Kt),!0)},getIsBufferingCompleted:function gn(){return De},setIsBufferingCompleted:Et,getIsPruningInProgress:function ut(){return st},reset:function Fn(Wt,Kt){N.off(L.default.INIT_FRAGMENT_LOADED,ye,this),N.off(L.default.MEDIA_FRAGMENT_LOADED,Me,this),N.off(L.default.WALLCLOCK_TIME_UPDATED,Ln,this),N.off(U.default.PLAYBACK_PLAYING,xt,this),N.off(U.default.PLAYBACK_PROGRESS,Cn,this),N.off(U.default.PLAYBACK_TIME_UPDATED,Cn,this),N.off(U.default.PLAYBACK_RATE_CHANGED,Zn,this),N.off(U.default.PLAYBACK_STALLED,en,this),wn(Wt,Kt)},prepareForPlaybackSeek:function _t(){return De&&Et(!1),Ue.abort()},prepareForReplacementTrackSwitch:function Bt(Wt){return new Promise(function(Kt,nn){Ue.abort().then(function(){return mn()}).then(function(){return _e.get().streaming.buffer.useChangeTypeForTrackSwitch?Ue.changeType(Wt):Promise.resolve()}).then(function(){return Qt()}).then(function(){Et(!1),Kt()}).catch(function(Tn){nn(Tn)})})},prepareForNonReplacementTrackSwitch:function jt(Wt){return new Promise(function(Kt,nn){mn().then(function(){return _e.get().streaming.buffer.useChangeTypeForTrackSwitch?Ue.changeType(Wt):Promise.resolve()}).then(function(){Kt()}).catch(function(Tn){nn(Tn)})})},prepareForReplacementQualitySwitch:function At(){return new Promise(function(Wt,Kt){Ue.abort().then(function(){return mn()}).then(function(){return Qt()}).then(function(){Et(!1),Wt()}).catch(function(nn){Kt(nn)})})},updateAppendWindow:mn,getAllRangesWithSafetyFactor:cn,getContinuousBufferTimeForTargetTime:Ze,clearBuffers:Lt,pruneAllSafely:Qt,updateBufferTimestampOffset:an,setSeekTarget:function wt(Wt){ae=Wt},segmentRequestingCompleted:function An(Wt){isNaN(Wt)||(ge=Wt,We())}},function ve(){me=Object(p.default)(T).getInstance().getLogger(se),Ne=Object(f.default)(T).getInstance(),wn()}(),se}x.__dashjs_factory_name=P,S.default=D.default.getClassFactory(x)},"./src/streaming/controllers/CatchupController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/CatchupController.js ***!
                  \********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),F=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),p=c(
/*! ../../core/Utils */
"./src/core/Utils.js");function f(){var M,U,R,V,k,P,x,O,T,N,g=this.context,y=Object(w.default)(g).getInstance();function q(){U=!1;var Ke=p.default.parseUserAgent();R=Ke&&Ke.browser&&Ke.browser.name&&"safari"===Ke.browser.name.toLowerCase()}function le(){U=!1}function K(Ke){if(Ke.streamId===P.getActiveStreamInfo().id&&T){var st=x.getLiveDelay();x.getBufferLevel()>st/2&&(T=!1)}}function _e(Ke){Ke.streamId===P.getActiveStreamInfo().id&&(T=Ke.state===D.default.BUFFER_EMPTY)}function se(){O.getCatchupModeEnabled()||V.setPlaybackRate(1)}function me(){x.getIsDynamic()&&O.getCatchupModeEnabled()&&(O.getCatchupPlaybackRates().max>0||O.getCatchupPlaybackRates().min<0)&&!x.isPaused()&&!x.isSeeking()&&function he(){try{return!(!x.getTime()>0||U)&&(Re()===E.default.LIVE_CATCHUP_MODE_LOLP?function ge(Ke,st){try{return Math.abs(Le())>0||Ke<st}catch{return!1}}(x.getBufferLevel(),k.get().streaming.liveCatchup.playbackBufferMin):function Ie(){try{return Math.abs(Le())>0}catch{return!1}}())}catch{return!1}}()&&function De(){if(!U&&V){var Ke,st=V.getPlaybackRate(),Qe=O.getCatchupPlaybackRates(),Ne=x.getBufferLevel(),Se=Le(),W=O.getCatchupMaxDrift();if(!isNaN(W)&&W>0&&Se>W)N.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),U=!0,x.seekToCurrentLive(!0,!1);else{var ae=x.getCurrentLiveLatency(),ve=x.getLiveDelay();Ke=Re()===E.default.LIVE_CATCHUP_MODE_LOLP?function ke(Ke,st,Qe,Ne,Se){var W;if(Se<Ne){var ae=Math.abs(Ke.min),X=2*ae/(1+Math.pow(Math.E,-5*(Se-Ne)));N.debug("[LoL+ playback control_buffer-based] bufferLevel: "+Se+", newRate: "+(W=1-ae+X))}else{var $=Ke.max,ie=.02;W=Math.abs(st-Qe)<=ie*Qe?1:1-$+2*$/(1+Math.pow(Math.E,-5*(st-Qe))),N.debug("[LoL+ playback control_latency-based] latency: "+st+", newRate: "+W)}return W}(Qe,ae,ve,k.get().streaming.liveCatchup.playbackBufferMin,Ne):function Ue(Ke,st,Qe,Ne){if(T)return 1;var Se=st-Qe,W=Se<0?Math.abs(Ke.min):Ke.max,Q=1-W+2*W/(1+Math.pow(Math.E,-5*Se));return x.getPlaybackStalled()&&Ne<=Qe/2&&Se>0&&(Q=1),Q}(Qe,ae,ve,Ne);var X=R?.25:.02/(.5/Qe.max);Ke&&Math.abs(st-Ke)>=X&&(N.debug("[CatchupController]: Setting playback rate to ".concat(Ke)),V.setPlaybackRate(Ke))}}}()}function Le(){return x.getCurrentLiveLatency()-x.getLiveDelay()}function Re(){var Ke=k.get().streaming.liveCatchup.playbackBufferMin;return k.get().streaming.liveCatchup.mode!==E.default.LIVE_CATCHUP_MODE_LOLP||null===Ke||isNaN(Ke)?E.default.LIVE_CATCHUP_MODE_DEFAULT:E.default.LIVE_CATCHUP_MODE_LOLP}function we(){O.getCatchupPlaybackRates(!0)}return M={reset:function Fe(){(function J(){y.off(F.default.BUFFER_LEVEL_UPDATED,K,M),y.off(F.default.BUFFER_LEVEL_STATE_CHANGED,_e,M),y.off(F.default.PLAYBACK_PROGRESS,me,M),y.off(F.default.PLAYBACK_TIME_UPDATED,me,M),y.off(F.default.PLAYBACK_SEEKED,me,M),y.off(L.default.SETTING_UPDATED_CATCHUP_ENABLED,se,M),y.off(L.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,we,M),y.off(L.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,we,M),y.off(F.default.STREAM_INITIALIZED,we,M)})(),q(),V.setPlaybackRate(1,!0)},setConfig:function B(Ke){Ke&&(Ke.settings&&(k=Ke.settings),Ke.videoModel&&(V=Ke.videoModel),Ke.streamController&&(P=Ke.streamController),Ke.playbackController&&(x=Ke.playbackController),Ke.mediaPlayerModel&&(O=Ke.mediaPlayerModel))},initialize:function C(){(function Y(){y.on(F.default.BUFFER_LEVEL_UPDATED,K,M),y.on(F.default.BUFFER_LEVEL_STATE_CHANGED,_e,M),y.on(F.default.PLAYBACK_PROGRESS,me,M),y.on(F.default.PLAYBACK_TIME_UPDATED,me,M),y.on(F.default.PLAYBACK_SEEKED,le,M),y.on(L.default.SETTING_UPDATED_CATCHUP_ENABLED,se,M),y.on(L.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,we,M),y.on(L.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,we,M),y.on(F.default.STREAM_INITIALIZED,we,M)})(),we()}},function ce(){N=Object(b.default)(g).getInstance().getLogger(M),q()}(),M}f.__dashjs_factory_name="CatchupController",S.default=t.default.getSingletonFactory(f)},"./src/streaming/controllers/EventController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/EventController.js ***!
                  \******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ../net/XHRLoader */
"./src/streaming/net/XHRLoader.js");function L(){var V,k,P,x,O,T,N,C,B,Y,J,D="urn:mpeg:dash:event:2012",p=1,f="urn:mpeg:dash:event:callback:2015",g=1,y=300,M={DISCARDED:"discarded",UPDATED:"updated",ADDED:"added"},U=this.context,R=Object(w.default)(U).getInstance();function Fe(){if(!N||!C)throw new Error("setConfig function has to be called previously")}function q(){J=!1,P={},x={},O=null,Y=!1,T=Date.now()/1e3}function le(){try{null!==O&&J&&(clearInterval(O),O=null,J=!1,function Ie(){try{ge(x),ge(P)}catch(Q){k.error(Q)}}())}catch(Q){throw Q}}function _e(){try{if(!Y){Y=!0;var Q=C.getTime(),X=Q-T;X=T>0?Math.max(0,X):0,se(x,X,Q),se(P,X,Q),me(x),me(P),T=Q,Y=!1}}catch($){Y=!1,k.error($)}}function se(Q,X,$){try{Ue(Q,function(te){if(void 0!==te){var ee=isNaN(te.duration)?0:te.duration;te.calculatedPresentationTime<=$&&te.calculatedPresentationTime+X+ee>=$?Ke(te,E.default.EVENT_MODE_ON_START):(ke($,ee+X,te.calculatedPresentationTime)||function we(Q){try{return Q.calculatedPresentationTime>Q.eventStream.period.start+Q.eventStream.period.duration}catch($){return k.error($),!1}}(te))&&(k.debug("Removing event ".concat(te.id," from period ").concat(te.eventStream.period.id," as it is expired or invalid")),function st(Q,X){try{var $=X.eventStream.schemeIdUri,ie=X.eventStream.period.id,re=X.eventStream.value,te=X.id;Q[ie][$]=Q[ie][$].filter(function(ee){return re&&ee.eventStream.value&&ee.eventStream.value!==re||ee.id!==te}),0===Q[ie][$].length&&delete Q[ie][$]}catch(ee){k.error(ee)}}(Q,te))}})}catch(re){k.error(re)}}function me(Q){try{for(var X in Q)Q.hasOwnProperty(X)&&0===Object.keys(Q[X]).length&&delete Q[X]}catch($){k.error($)}}function he(Q,X){var $=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ie=Q.eventStream.schemeIdUri,re=Q.eventStream.value,te=Q.id,ee=M.DISCARDED;X[ie]||(X[ie]=[]);var fe=X[ie].findIndex(function(ue){return(!re||ue.eventStream.value&&ue.eventStream.value===re)&&ue.id===te});if(-1===fe)X[ie].push(Q),Q.triggeredReceivedEvent=!1,Q.triggeredStartEvent=!1,ee=M.ADDED;else if($){var ye=X[ie][fe];Q.triggeredReceivedEvent=ye.triggeredReceivedEvent,Q.triggeredStartEvent=ye.triggeredStartEvent,X[ie][fe]=Q,ee=M.UPDATED}return ee}function Re(Q){try{Q.eventStream.value==p&&R.trigger(E.default.MANIFEST_VALIDITY_CHANGED,{id:Q.id,validUntil:Q.calculatedPresentationTime,newDuration:4294967295==Q.calculatedPresentationTime?NaN:Q.calculatedPresentationTime+Q.duration,newManifestValidAfter:NaN},{mode:E.default.EVENT_MODE_ON_START})}catch(ie){k.error(ie)}}function ge(Q){try{var X=C.getTime();Ue(Q,function(re){var te=re.eventStream&&re.eventStream.period&&!isNaN(re.eventStream.period.duration)?re.eventStream.period.duration:NaN,ee=re.eventStream&&re.eventStream.period&&!isNaN(re.eventStream.period.start)?re.eventStream.period.start:NaN;isNaN(te)||isNaN(ee)||Math.abs(re.calculatedPresentationTime-X)<y&&Ke(re,E.default.EVENT_MODE_ON_START)})}catch(ie){k.error(ie)}}function Ue(Q,X){try{if(Q)for(var $=Object.keys(Q),ie=0;ie<$.length;ie++)for(var re=Q[$[ie]],te=Object.keys(re),ee=0;ee<te.length;ee++)re[te[ee]].forEach(function(ye){void 0!==ye&&X(ye)})}catch(ye){k.error(ye)}}function ke(Q,X,$){try{return Q-X>$}catch(ie){return k.error(ie),!1}}function Ke(Q,X){try{var $=C.getTime(),ie=Q.id;if(X===E.default.EVENT_MODE_ON_RECEIVE&&!Q.triggeredReceivedEvent)return k.debug("Received event ".concat(ie)),Q.triggeredReceivedEvent=!0,void R.trigger(Q.eventStream.schemeIdUri,{event:Q},{mode:X});Q.triggeredStartEvent||(Q.eventStream.schemeIdUri===D&&Q.eventStream.value==p?(0!==Q.duration||0!==Q.presentationTimeDelta)&&(k.debug("Starting manifest refresh event ".concat(ie," at ").concat($)),function Qe(){try{Fe(),N.refreshManifest()}catch(Q){k.error(Q)}}()):Q.eventStream.schemeIdUri===f&&Q.eventStream.value==g?(k.debug("Starting callback event ".concat(ie," at ").concat($)),function Ne(Q){try{Object(F.default)(U).create({}).load({method:"get",url:Q,request:{responseType:"arraybuffer"}})}catch($){k.error($)}}(Q.messageData)):(k.debug("Starting event ".concat(ie," from period ").concat(Q.eventStream.period.id," at ").concat($)),R.trigger(Q.eventStream.schemeIdUri,{event:Q},{mode:X})),Q.triggeredStartEvent=!0)}catch(re){k.error(re)}}return V={addInlineEvents:function De(Q,X){try{if(Fe(),P[X]||(P[X]={}),Q)for(var $=0;$<Q.length;$++){var ie=Q[$];if(!ke(C.getTime(),isNaN(ie.duration)?0:ie.duration,ie.calculatedPresentationTime)){var ee=he(ie,P[X],!0);ee===M.ADDED?(k.debug("Added inline event with id ".concat(ie.id," from period ").concat(X)),Ke(ie,E.default.EVENT_MODE_ON_RECEIVE)):ee===M.UPDATED&&k.debug("Updated inline event with id ".concat(ie.id," from period ").concat(X))}}}catch(fe){throw fe}},addInbandEvents:function Le(Q,X){try{Fe(),x[X]||(x[X]={});for(var $=0;$<Q.length;$++){var ie=Q[$];ke(C.getTime(),isNaN(ie.duration)?0:ie.duration,ie.calculatedPresentationTime)||(he(ie,x[X],!1)===M.ADDED?(ie.eventStream.schemeIdUri===D&&Re(ie),k.debug("Added inband event with id ".concat(ie.id," from period ").concat(X)),Ke(ie,E.default.EVENT_MODE_ON_RECEIVE)):k.debug("Inband event with scheme_id_uri ".concat(ie.eventStream.schemeIdUri,", value ").concat(ie.eventStream.value,", period id ").concat(X," and event id ").concat(ie.id," was ignored because it has been added before.")))}_e()}catch(fe){throw fe}},getInbandEvents:function ae(){return x},getInlineEvents:function W(){return P},start:function K(){try{Fe(),k.debug("Start Event Controller");var Q=B.get().streaming.eventControllerRefreshDelay;!J&&!isNaN(Q)&&(J=!0,O=setInterval(_e,Q))}catch(X){throw X}},setConfig:function Se(Q){try{if(!Q)return;Q.manifestUpdater&&(N=Q.manifestUpdater),Q.playbackController&&(C=Q.playbackController),Q.settings&&(B=Q.settings)}catch(X){throw X}},reset:function ve(){le(),q()}},function ce(){k=Object(b.default)(U).getInstance().getLogger(V),q()}(),V}L.__dashjs_factory_name="EventController",S.default=t.default.getSingletonFactory(L)},"./src/streaming/controllers/FragmentController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/FragmentController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../vo/DataChunk */
"./src/streaming/vo/DataChunk.js"),w=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),E=c(
/*! ../FragmentLoader */
"./src/streaming/FragmentLoader.js"),F=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),g=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function M(U){U=U||{};var N,C,B,R=this.context,V=Object(L.default)(R).getInstance(),k=U.errHandler,P=U.mediaPlayerModel,x=U.dashMetrics,O=Object(y.default)(R).getInstance(),T=U.streamInfo;function J(){return T.id}function Fe(){for(var _e in B)B[_e].reset();B={}}function K(_e){if(_e.sender){var se=_e.request,me=_e.response,De=se.isInitializationRequest(),Le=se.mediaInfo.streamInfo;if(_e.error&&(se.mediaType===t.default.AUDIO||se.mediaType===t.default.VIDEO||se.mediaType===t.default.TEXT&&se.mediaInfo.isFragmented)&&V.trigger(D.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:_e.request.serviceLocation}),!me||!Le)return void C.warn("No "+se.mediaType+" bytes to push or stream is inactive.");var he=function le(_e,se,me,De){var Le=new b.default;return Le.streamId=me,Le.mediaInfo=se.mediaInfo,Le.segmentType=se.type,Le.start=se.startTime,Le.duration=se.duration,Le.end=Le.start+Le.duration,Le.bytes=_e,Le.index=se.index,Le.quality=se.quality,Le.representationId=se.representationId,Le.endFragment=De,Le}(me,se,T.id,_e.type!==D.default.FRAGMENT_LOADING_PROGRESS);V.trigger(De?D.default.INIT_FRAGMENT_LOADED:D.default.MEDIA_FRAGMENT_LOADED,{chunk:he,request:se},{streamId:Le.id,mediaType:se.mediaType})}}return N={getStreamId:J,getModel:function ce(_e){var se=B[_e];return se||(se=Object(w.default)(R).create({streamInfo:T,type:_e,dashMetrics:x,fragmentLoader:Object(E.default)(R).create({dashMetrics:x,mediaPlayerModel:P,errHandler:k,requestModifier:Object(F.default)(R).getInstance(),settings:U.settings,boxParser:U.boxParser,eventBus:V,events:D.default,errors:f.default,dashConstants:U.dashConstants,urlUtils:U.urlUtils,streamId:J()}),debug:O,eventBus:V,events:D.default}),B[_e]=se),se},reset:function q(){V.off(p.default.FRAGMENT_LOADING_COMPLETED,K,this),V.off(p.default.FRAGMENT_LOADING_PROGRESS,K,this),Fe()}},function Y(){C=O.getLogger(N),Fe(),V.on(p.default.FRAGMENT_LOADING_COMPLETED,K,N),V.on(p.default.FRAGMENT_LOADING_PROGRESS,K,N)}(),N}M.__dashjs_factory_name="FragmentController",S.default=g.default.getClassFactory(M)},"./src/streaming/controllers/GapController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/GapController.js ***!
                  \****************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),F=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function f(){var M,U,R,V,k,P,x,O,T,N,C,B,g=this.context,y=Object(E.default)(g).getInstance();function ce(){(function ke(){B.debug("Stopping the gap controller"),k&&(clearInterval(k),k=null)})(),function K(){y.off(w.default.WALLCLOCK_TIME_UPDATED,Le,this),y.off(w.default.INITIAL_STREAM_SWITCH,De,this),y.off(w.default.PLAYBACK_SEEKING,_e,this),y.off(w.default.BUFFER_REPLACEMENT_STARTED,se,M),y.off(w.default.TRACK_CHANGE_RENDERED,me,M)}(),function Fe(){k=null,P=NaN,V=0,N=null,C={}}()}function _e(){N&&(clearTimeout(N),N=null)}function se(Ke){try{if(Ke.streamId!==O.getActiveStreamInfo().id||Ke.mediaType!==F.default.VIDEO&&Ke.mediaType!==F.default.AUDIO)return;Ke.streamId===O.getActiveStreamInfo().id&&(C[Ke.mediaType]=!0)}catch(st){B.error(st)}}function me(Ke){!Ke||!Ke.mediaType||(C[Ke.mediaType]=!1)}function De(){k||function Ue(){try{k||(B.debug("Starting the gap controller"),k=setInterval(function(){he()&&we(x.getTime())},100))}catch{}}()}function Le(){if(he(R.get().streaming.gaps.enableSeekFix)&&++V>=10){var Ke=x.getTime();U===Ke?we(Ke,!0):(U=Ke,P=NaN),V=0}}function he(){var Ke=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!O.getActiveStream())return!1;var st=Object.keys(C).some(function(Ne){return C[Ne]}),Qe=!!Ke&&function Re(){var Ke=O.getActiveStream(),st=parseFloat((Ke.getStartTime()+Ke.getDuration()).toFixed(5));return x.getTime()+R.get().streaming.gaps.threshold>=st}();return!st&&R.get().streaming.gaps.jumpGaps&&O.getActiveStreamProcessors().length>0&&(!x.isSeeking()||Qe)&&!x.isPaused()&&!O.getIsStreamSwitchInProgress()&&!O.getHasMediaOrInitialisationError()}function we(Ke){var ve,st=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Qe=R.get().streaming.gaps.enableStallFix,Ne=R.get().streaming.gaps.stallSeek,Se=R.get().streaming.gaps.smallGapLimit,W=R.get().streaming.gaps.jumpLargeGaps,ae=T.getBufferRange(),Q=NaN,X=!1;if(ve=function Ie(Ke,st){try{if(!Ke||Ke.length<=1&&st>0)return NaN;for(var Qe=NaN,Ne=0;isNaN(Qe)&&Ne<Ke.length;){var Se=Ne>0?Ke.end(Ne-1):0;st<Ke.start(Ne)&&Se-st<R.get().streaming.gaps.threshold&&(Qe=Ne),Ne+=1}return Qe}catch{return null}}(ae,Ke),!isNaN(ve)){var $=ae.start(ve),ie=$-Ke;ie>0&&(ie<=Se||W)&&(Q=$)}var re=x.getTimeToStreamEnd();if(isNaN(Q)&&st&&isFinite(re)&&!isNaN(re)&&re<Se&&(Q=parseFloat(x.getStreamEndTime().toFixed(5)),X=!0),Qe&&isNaN(Q)&&st&&isNaN(ve)&&function ge(Ke,st){for(var Qe=0,Ne=Ke.length;Qe<Ne;Qe++)if(st>=Ke.start(Qe)&&st<=Ke.end(Qe))return!0;return!1}(ae,Ke)&&(0===Ne?(B.warn("Toggle play pause to break stall"),T.pause(),T.play()):(B.warn("Jumping ".concat(Ne,"s to break stall")),Q=Ke+Ne)),Q>0&&P!==Q&&Q>Ke&&!N){var te=Q-Ke;if(X){var ee=O.getStreamForTime(Q),fe=ee&&!!ee.getPreloaded();B.warn("Jumping to end of stream because of gap from ".concat(Ke," to ").concat(Q,". Gap duration: ").concat(te)),x.seek(Q,!0,fe)}else{var ye=x.getIsDynamic(),ue=ve>0?ae.end(ve-1):Ke,Me=ye?1e3*Math.max(0,te-.1):0;N=window.setTimeout(function(){x.seek(Q,!0,!0),B.warn("Jumping gap occuring in period ".concat(O.getActiveStream().getStreamId()," starting at ").concat(ue," and ending at ").concat(Q,". Jumping by: ").concat(Q-ue)),N=null},Me)}P=Q}}return M={reset:ce,setConfig:function q(Ke){Ke&&(Ke.settings&&(R=Ke.settings),Ke.playbackController&&(x=Ke.playbackController),Ke.streamController&&(O=Ke.streamController),Ke.videoModel&&(T=Ke.videoModel))},initialize:function Y(){!function le(){y.on(w.default.WALLCLOCK_TIME_UPDATED,Le,this),y.on(w.default.INITIAL_STREAM_SWITCH,De,this),y.on(w.default.PLAYBACK_SEEKING,_e,this),y.on(w.default.BUFFER_REPLACEMENT_STARTED,se,M),y.on(w.default.TRACK_CHANGE_RENDERED,me,M)}()}},function J(){B=Object(b.default)(g).getInstance().getLogger(M),ce()}(),M}f.__dashjs_factory_name="GapController",S.default=t.default.getSingletonFactory(f)},"./src/streaming/controllers/MediaController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/MediaController.js ***!
                  \******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),L=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),D=c.n(L),p=c(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js");function g(){var R,V,k,P,x,O,T,N,M=this.context,U=Object(w.default)(M).getInstance();function J(ee,fe){return ee&&k[fe]&&k[fe][ee]?k[fe][ee].list:[]}function ce(ee,fe){return ee&&k[fe]&&k[fe][ee]?k[fe][ee].current:null}function q(ee){var fe=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ee&&ee.streamInfo){var ye=ee.type,Me=ee.streamInfo.id,Ye=ce(ye,Me);if(k[Me]&&k[Me][ye]&&(k[Me][ye].current=ee,k[Me][ye].current&&(ye!==t.default.TEXT&&!me(ee,Ye)||ye===t.default.TEXT&&ee.isFragmented)&&U.trigger(b.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:Ye,newMediaInfo:ee,switchMode:P.get().streaming.trackSwitchMode[ye]},{streamId:Me}),!fe)){var Ge=function he(ee){var fe={lang:ee.lang,viewpoint:ee.viewpoint,roles:ee.roles,accessibility:ee.accessibility,audioChannelConfiguration:ee.audioChannelConfiguration};return fe.lang||fe.viewpoint||fe.role&&fe.role.length>0||fe.accessibility&&fe.accessibility.length>0||fe.audioChannelConfiguration&&fe.audioChannelConfiguration.length>0?fe:null}(ee);if(!Ge||!k[Me][ye].storeLastSettings)return;Ge.roles&&(Ge.role=Ge.roles[0],delete Ge.roles),Ge.accessibility&&(Ge.accessibility=Ge.accessibility[0]),Ge.audioChannelConfiguration&&(Ge.audioChannelConfiguration=Ge.audioChannelConfiguration[0]),O[ye]=Ge,N.setSavedMediaSettings(ye,Ge)}}}function le(ee,fe){!ee||!fe||(x[ee]=fe)}function K(ee){return ee?x[ee]:null}function me(ee,fe){if(!ee&&!fe)return!0;if(!ee||!fe)return!1;var ye=ee.id===fe.id,ue=ee.viewpoint===fe.viewpoint,Me=ee.lang===fe.lang,Ye=ee.codec===fe.codec,Ge=ee.roles.toString()===fe.roles.toString(),at=ee.accessibility.toString()===fe.accessibility.toString(),ct=ee.audioChannelConfiguration.toString()===fe.audioChannelConfiguration.toString();return ye&&Ye&&ue&&Me&&Ge&&at&&ct}function Le(){k={},O={},function Qe(){x={audio:null,video:null,text:null}}()}function Re(ee,fe,ye){var ue=[];return ee.forEach(function(Me){fe(ye,Me)&&ue.push(Me)}),0!==ue.length?ue:ee}function Ie(ee,fe){return!ee.lang||ee.lang instanceof RegExp?fe.lang.match(ee.lang):""!==fe.lang&&Object(p.extendedFilter)(fe.lang,D()(ee.lang)).length>0}function ge(ee,fe){return null==ee.index||fe.index===ee.index}function Ue(ee,fe){return!ee.viewpoint||ee.viewpoint===fe.viewpoint}function ke(ee,fe){var ye=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!ee.role||!!fe.roles.filter(function(Me){return Me===ee.role})[0]||fe.type===t.default.AUDIO&&ye}function we(ee,fe){return ee.accessibility?!!fe.accessibility.filter(function(ue){return ue===ee.accessibility})[0]:!fe.accessibility.length}function Ke(ee,fe){return!ee.audioChannelConfiguration||!!fe.audioChannelConfiguration.filter(function(ue){return ue===ee.audioChannelConfiguration})[0]}function Se(ee){var ue,fe=0,ye=[];return ee.forEach(function(Me){(ue=Math.max.apply(Math,Me.bitrateList.map(function(Ye){return Ye.bandwidth})))>fe?(fe=ue,ye=[Me]):ue===fe&&ye.push(Me)}),ye}function W(ee){var ue,fe=1/0,ye=[];return ee.forEach(function(Me){var Ye=Me.bitrateList.reduce(function(Ge,at){var ct=Math.max(1,at.width*at.height);return Ge+at.bandwidth/ct},0);(ue=Ye/Me.bitrateList.length)<fe?(fe=ue,ye=[Me]):ue===fe&&ye.push(Me)}),ye}function ae(ee){var ue,fe=0,ye=[];return ee.forEach(function(Me){(ue=Me.representationCount)>fe?(fe=ue,ye=[Me]):ue===fe&&ye.push(Me)}),ye}function ve(ee,fe){if(ee===t.default.TEXT)return fe[0];var ue,ye=P.get().streaming.selectionModeForInitialTrack,Me=T.getCustomInitialTrackSelectionFunction();if(Me&&"function"==typeof Me)ue=Me(fe);else switch(ye){case t.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:ue=function Q(ee){var fe=function Ne(ee){var fe=0,ye=[];return ee.forEach(function(ue){isNaN(ue.selectionPriority)||(ue.selectionPriority>fe?(fe=ue.selectionPriority,ye=[ue]):ue.selectionPriority===fe&&ye.push(ue))}),ye}(ee);return fe.length>1&&(fe=Se(fe)),fe.length>1&&(fe=ae(fe)),fe}(fe);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:ue=function X(ee){var fe=Se(ee);return fe.length>1&&(fe=ae(fe)),fe}(fe);break;case t.default.TRACK_SELECTION_MODE_FIRST_TRACK:ue=$(fe);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:ue=function ie(ee){var fe=W(ee);return fe.length>1&&(fe=Se(fe)),fe}(fe);break;case t.default.TRACK_SELECTION_MODE_WIDEST_RANGE:ue=function re(ee){var fe=ae(ee);return fe.length>1&&(fe=Se(ee)),fe}(fe);break;default:V.warn("Track selection mode ".concat(ye," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),ue=$(fe)}return ue.length>0?ue[0]:fe[0]}function $(ee){return ee[0]}return R={setInitialMediaSettingsForType:function B(ee,fe){var ye=O[ee]||K(ee),ue=J(ee,fe.id),Me=[];ye||le(ee,ye=N.getSavedMediaSettings(ee)),ue&&0!==ue.length&&(ye&&(Me=Re(Me=Array.from(ue),Ie,ye),Me=Re(Me,ge,ye),Me=Re(Me,Ue,ye),ee===t.default.AUDIO&&O[ee]||(Me=Re(Me,ke,ye)),Me=Re(Me,we,ye),Me=Re(Me,Ke,ye)),0===Me.length?q(ve(ee,ue),!0):q(Me.length>1?ve(ee,Me):Me[0]))},addTrack:function Y(ee){if(ee){var fe=ee.type;if(function se(ee){return ee===t.default.AUDIO||ee===t.default.VIDEO||ee===t.default.TEXT||ee===t.default.IMAGE}(fe)){var ye=ee.streamInfo.id;k[ye]||(k[ye]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var ue=k[ye][fe].list,Me=0,Ye=ue.length;Me<Ye;++Me)if(me(ue[Me],ee))return;ue.push(ee)}}},getTracksFor:J,getCurrentTrackFor:ce,isCurrentTrack:function Fe(ee){if(!ee)return!1;var fe=ee.type,ye=ee.streamInfo.id;return k[ye]&&k[ye][fe]&&me(k[ye][fe].current,ee)},setTrack:q,selectInitialTrack:ve,setInitialSettings:le,getInitialSettings:K,getTracksWithHighestBitrate:Se,getTracksWithHighestEfficiency:W,getTracksWithWidestRange:ae,isTracksEqual:me,matchSettings:function st(ee,fe){var ye=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var ue=!1;if(ee.lang){if(ee.lang instanceof RegExp)ue=fe.lang.match(ee.lang);else if(""!==fe.lang){var Me=D()(ee.lang);Me&&(ue=Object(p.extendedFilter)(fe.lang,Me).length>0)}}else ue=!0;var Ye=null==ee.index||fe.index===ee.index,Ge=!ee.viewpoint||ee.viewpoint===fe.viewpoint,at=!ee.role||!!fe.roles.filter(function(_t){return _t===ee.role})[0],ct=!ee.accessibility||!!fe.accessibility.filter(function(_t){return _t===ee.accessibility})[0],rt=!ee.audioChannelConfiguration||!!fe.audioChannelConfiguration.filter(function(_t){return _t===ee.audioChannelConfiguration})[0];return ue&&Ye&&Ge&&(at||fe.type===t.default.AUDIO&&ye)&&ct&&rt}catch(_t){return!1}},matchSettingsLang:Ie,matchSettingsIndex:ge,matchSettingsViewPoint:Ue,matchSettingsRole:ke,matchSettingsAccessibility:we,matchSettingsAudioChannelConfig:Ke,saveTextSettingsDisabled:function _e(){N.setSavedMediaSettings(t.default.TEXT,null)},setConfig:function De(ee){ee&&(ee.domStorage&&(N=ee.domStorage),ee.settings&&(P=ee.settings),ee.customParametersModel&&(T=ee.customParametersModel))},reset:Le},function C(){V=Object(F.default)(M).getInstance().getLogger(R),Le()}(),R}g.__dashjs_factory_name="MediaController";var y=E.default.getSingletonFactory(g);E.default.updateSingletonFactory(g.__dashjs_factory_name,y),S.default=y},"./src/streaming/controllers/MediaSourceController.js":
/*!************************************************************!*\
                  !*** ./src/streaming/controllers/MediaSourceController.js ***!
                  \************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function w(){var E,F,L,D=this.context;return E={createMediaSource:function f(){var k="WebKitMediaSource"in window;return"MediaSource"in window?F=new MediaSource:k&&(F=new WebKitMediaSource),F},attachMediaSource:function g(k){var P=window.URL.createObjectURL(F);return k.setSource(P),P},detachMediaSource:function y(k){k.setSource(null)},setDuration:function M(k){!F||"open"!==F.readyState||null===k&&isNaN(k)||F.duration!==k&&(function V(k){for(var P=k.sourceBuffers,x=0;x<P.length;x++)if(P[x].updating)return!0;return!1}(F)?setTimeout(M.bind(null,k),50):(L.info("Set MediaSource duration:"+k),F.duration=k))},setSeekable:function U(k,P){F&&"function"==typeof F.setLiveSeekableRange&&"function"==typeof F.clearLiveSeekableRange&&"open"===F.readyState&&k>=0&&k<P&&(F.clearLiveSeekableRange(),F.setLiveSeekableRange(k,P))},signalEndOfStream:function R(k){if(k&&"open"===k.readyState){for(var P=k.sourceBuffers,x=0;x<P.length;x++)if(P[x].updating||0===P[x].buffered.length)return;L.info("call to mediaSource endOfStream"),k.endOfStream()}}},function p(){L=Object(b.default)(D).getInstance().getLogger(E)}(),E}w.__dashjs_factory_name="MediaSourceController",S.default=t.default.getSingletonFactory(w)},"./src/streaming/controllers/PlaybackController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/PlaybackController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),L=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),D=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function f(){var M,U,R,V,k,P,x,O,T,N,C,B,Y,J,ce,Fe,le,K,_e,se,me,De,Le,g=this.context,y=Object(b.default)(g).getInstance();function Re(){st(),J=!1,N=0,C=0,Fe=0,me=!1,le=!1,De=!1,K=NaN,x&&(y.off(w.default.DATA_UPDATE_COMPLETED,jt,M),y.off(w.default.LOADING_PROGRESS,An,M),y.off(w.default.MANIFEST_UPDATED,vn,M),y.off(w.default.STREAMS_COMPOSED,gn,M),y.off(L.default.PLAYBACK_ENDED,Lt,M),y.off(L.default.STREAM_INITIALIZING,Zn,M),y.off(L.default.REPRESENTATION_SWITCH,Kn,M),y.off(L.default.BUFFER_LEVEL_STATE_CHANGED,dn,M),At(),function Xt(){x.removeEventListener("canplay",Qt),x.removeEventListener("canplaythrough",cn),x.removeEventListener("play",Gt),x.removeEventListener("waiting",Cn),x.removeEventListener("playing",en),x.removeEventListener("pause",xt),x.removeEventListener("error",zt),x.removeEventListener("seeking",ft),x.removeEventListener("seeked",Xe),x.removeEventListener("timeupdate",xe),x.removeEventListener("progress",Oe),x.removeEventListener("ratechange",We),x.removeEventListener("loadedmetadata",$e),x.removeEventListener("loadeddata",lt),x.removeEventListener("stalled",Ln),x.removeEventListener("ended",ot),x.removeEventListener("volumechange",dt)}()),T=null,x=null,B=null,Y=null}function ke(){return parseFloat((we(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-ve()).toFixed(5))}function we(Ze){var et=Ze||B;return et.start+et.duration}function Ke(){var Ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0];B&&x&&x.getElement()?(Ze&&Y&&ae(ve()),x.play()):J=!0}function st(){B&&x&&x.pause()}function Qe(Ze){var et=arguments.length>1&&void 0!==arguments[1]&&arguments[1],wt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],qt=arguments.length>3&&void 0!==arguments[3]&&arguments[3];B&&x&&Ze!==(isNaN(K)?x.getTime():K)&&((_e=!0===wt)||(K=Ze),U.info("Requesting seek to time: "+Ze+(_e?" (internal)":"")),Y&&qt&&ae(Ze),x.setCurrentTime(Ze,et))}function W(){if(B&&x&&Y){var Ze=R&&R.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO,et=k.getCurrentDVRInfo(Ze);return et&&et.range?et.range.end:0}}function ae(Ze){var et=new Date(O.getClientReferenceTime()),wt=P.getRegularPeriods()[0],qt=O.calcPresentationTimeFromWallTime(et,wt);N=qt-Ze}function ve(){return B&&x?x.getTime():null}function Q(){return B&&x?x.isPaused():null}function X(){return B&&x?x.isSeeking():null}function $(){return B&&x?x.isStalled():null}function ie(){return B&&x?x.getPlaybackRate():null}function te(){return B&&x?x.getEnded():null}function ee(){return Y}function rt(){var Ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!Q()&&Y&&0!==x.getReadyState()&&!X()&&!me){Ze||(Ze=R.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO);var et=ve(),wt=function _t(Ze,et){var wt=k.getCurrentDVRInfo(et),qt=wt?wt.range:null;return qt?Ze>qt.end?Math.max(qt.end-N,qt.start):Ze>0&&Ze+.25<qt.start&&Math.abs(Ze-qt.start)<31536e4?le?Math.max(qt.end-N,qt.start):qt.start:Ze:NaN}(et,Ze);!isNaN(wt)&&wt!==et&&!X()&&($()||se||1===x.getReadyState())&&(U.debug("UpdateCurrentTime: Seek to actual time: ".concat(wt," from currentTime: ").concat(et)),Qe(wt,!1,!1))}}function Bt(){null===T&&(T=setInterval(function(){!function Rt(){y.trigger(w.default.WALLCLOCK_TIME_UPDATED,{isDynamic:Y,time:new Date}),ee()&&(R.addDVRMetric(),Q()?function $t(){var Ze=Date.now();(!ce||Ze>ce+500)&&(ce=Ze,xe())}():rt())}()},Le.get().streaming.wallclockTimeUpdateInterval))}function At(){clearInterval(T),T=null}function jt(Ze){var et=P.convertRepresentationToRepresentationInfo(Ze.currentRepresentation),wt=et?et.mediaInfo.streamInfo:null;null===wt||B.id!==wt.id||(B=wt)}function Qt(){y.trigger(w.default.CAN_PLAY)}function cn(){y.trigger(w.default.CAN_PLAY_THROUGH)}function dn(Ze){Ze.streamId===R.getActiveStreamInfo().id&&(se=Ze.state===D.default.BUFFER_EMPTY,Le.get().streaming.buffer.setStallState&&x.setStallState(Ze.mediaType,Ze.state===D.default.BUFFER_EMPTY))}function Gt(){U.info("Native video element event: play"),rt(),Bt(),y.trigger(w.default.PLAYBACK_STARTED,{startTime:ve()})}function Cn(){U.info("Native video element event: waiting"),y.trigger(w.default.PLAYBACK_WAITING,{playingTime:ve()})}function en(){U.info("Native video element event: playing"),_e=!1,y.trigger(w.default.PLAYBACK_PLAYING,{playingTime:ve()})}function xt(){U.info("Native video element event: pause"),y.trigger(w.default.PLAYBACK_PAUSED,{ended:te()})}function ft(){if(!_e){var Ze=ve();!isNaN(K)&&K!==Ze&&(Ze=K),K=NaN,U.info("Seeking to: "+Ze),Bt(),y.trigger(w.default.PLAYBACK_SEEKING,{seekTime:Ze,streamId:B.id})}}function Xe(){U.info("Native video element event: seeked"),_e=!1,y.trigger(w.default.PLAYBACK_SEEKED)}function xe(){B&&y.trigger(w.default.PLAYBACK_TIME_UPDATED,{timeToEnd:ke(),time:ve(),streamId:B.id})}function Oe(){y.trigger(w.default.PLAYBACK_PROGRESS,{streamId:B.id})}function We(){var Ze=ie();U.info("Native video element event: ratechange: ",Ze),y.trigger(w.default.PLAYBACK_RATE_CHANGED,{playbackRate:Ze})}function $e(){U.info("Native video element event: loadedmetadata"),y.trigger(w.default.PLAYBACK_METADATA_LOADED),Bt()}function lt(){U.info("Native video element event: loadeddata"),y.trigger(w.default.PLAYBACK_LOADED_DATA)}function ot(){U.info("Native video element event: ended"),st(),At();var Ze=R?R.getActiveStreamInfo():null;Ze&&y.trigger(w.default.PLAYBACK_ENDED,{isLast:Ze.isLast})}function dt(){y.trigger(w.default.PLAYBACK_VOLUME_CHANGED)}function Lt(Ze){if(T&&Ze.isLast){U.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var et=Ze.seekTime?Ze.seekTime:we();x.setCurrentTime(et),st(),At()}}function zt(Ze){y.trigger(w.default.PLAYBACK_ERROR,{error:(Ze.target||Ze.srcElement).error})}function An(Ze){if(!1===Ze.stream&&le&&!isNaN(Ze.request.duration)){var et=1.2*Ze.request.duration;et>N&&(U.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",et.toFixed(2)),N=et,C=et)}}function Ln(Ze){y.trigger(w.default.PLAYBACK_STALLED,{e:Ze})}function Zn(Ze){!function Et(Ze){Ze&&Ze.supplementalProperties&&"true"===Ze.supplementalProperties[t.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(U.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),le=!0)}(Ze.mediaInfo)}function Kn(Ze){var et=R.getActiveStreamInfo();!Ze||!et||!Ze.currentRepresentation||!Ze.streamId||Ze.streamId!==et.id||!Ze.mediaType||Ze.mediaType!==t.default.VIDEO&&Ze.mediaType!==t.default.AUDIO||(le=!Ze.currentRepresentation.availabilityTimeComplete)&&!De&&(De=!0)}function vn(){me=!0}function gn(){me=!1}return M={initialize:function Ie(Ze,et){B=Ze,!0!==et&&function ge(){(function ut(){x.addEventListener("canplay",Qt),x.addEventListener("canplaythrough",cn),x.addEventListener("play",Gt),x.addEventListener("waiting",Cn),x.addEventListener("playing",en),x.addEventListener("pause",xt),x.addEventListener("error",zt),x.addEventListener("seeking",ft),x.addEventListener("seeked",Xe),x.addEventListener("timeupdate",xe),x.addEventListener("progress",Oe),x.addEventListener("ratechange",We),x.addEventListener("loadedmetadata",$e),x.addEventListener("loadeddata",lt),x.addEventListener("stalled",Ln),x.addEventListener("ended",ot),x.addEventListener("volumechange",dt)})(),Y=B.manifestInfo.isDynamic,se=!1,_e=!1,y.on(w.default.DATA_UPDATE_COMPLETED,jt,M),y.on(w.default.LOADING_PROGRESS,An,M),y.on(w.default.MANIFEST_UPDATED,vn,M),y.on(w.default.STREAMS_COMPOSED,gn,M),y.on(L.default.PLAYBACK_ENDED,Lt,M,{priority:b.default.EVENT_PRIORITY_HIGH}),y.on(L.default.STREAM_INITIALIZING,Zn,M),y.on(L.default.REPRESENTATION_SWITCH,Kn,M),y.on(L.default.BUFFER_LEVEL_STATE_CHANGED,dn,M),J&&(J=!1,Ke())}()},setConfig:function ct(Ze){Ze&&(Ze.streamController&&(R=Ze.streamController),Ze.serviceDescriptionController&&(V=Ze.serviceDescriptionController),Ze.dashMetrics&&(k=Ze.dashMetrics),Ze.adapter&&(P=Ze.adapter),Ze.videoModel&&(x=Ze.videoModel),Ze.timelineConverter&&(O=Ze.timelineConverter),Ze.settings&&(Le=Ze.settings))},getTimeToStreamEnd:ke,getBufferLevel:function an(){var Ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,et=null;return R.getActiveStreamProcessors().forEach(function(wt){if(!Ze||0===Ze.length||-1===Ze.indexOf(wt.getType())){var qt=wt.getBufferLevel();et=null===et?qt:Math.min(et,qt)}}),et},getPlaybackStalled:function Ue(){return se},getTime:ve,getLowLatencyModeEnabled:function mn(){return le},getInitialCatchupModeActivated:function ci(){return De},getIsManifestUpdateInProgress:function ye(){return me},getPlaybackRate:ie,getPlayedRanges:function re(){return B&&x?x.getPlayedRanges():null},getEnded:te,getIsDynamic:ee,getStreamController:function fe(){return R},computeAndSetLiveDelay:function at(Ze,et){var wt,qt,wn,Kt=!isNaN(Ze)&&isFinite(Ze)?Ze:NaN,nn=P.getSuggestedPresentationDelay(),Tn=V.getServiceDescriptionSettings();return wt=isNaN(Le.get().streaming.delay.liveDelay)?null===Le.get().streaming.delay.liveDelayFragmentCount||isNaN(Le.get().streaming.delay.liveDelayFragmentCount)||isNaN(Kt)?Tn&&!isNaN(Tn.liveDelay)&&Tn.liveDelay>0?Tn.liveDelay:!0===Le.get().streaming.delay.useSuggestedPresentationDelay&&null!==nn&&!isNaN(nn)&&nn>0?nn:isNaN(Kt)?et&&!isNaN(et.minBufferTime)?4*et.minBufferTime:4*B.manifestInfo.minBufferTime:4*Kt:Kt*Le.get().streaming.delay.liveDelayFragmentCount:Le.get().streaming.delay.liveDelay,null!==(wn=P.getAvailabilityStartTime())&&(Fe=wn),qt=et&&et.dvrWindowSize>0?Math.min(wt,et.dvrWindowSize):wt,N=qt,C=qt,qt},getLiveDelay:function Me(){return N},getOriginalLiveDelay:function Ye(){return C},getCurrentLiveLatency:function Ge(){if(!Y||isNaN(Fe))return NaN;var Ze=ve();if(isNaN(Ze)||0===Ze)return 0;var et=(new Date).getTime()+1e3*O.getClientTimeOffset();return Math.max(((et-Fe-1e3*Ze)/1e3).toFixed(3),0)},play:Ke,isPaused:Q,isStalled:$,pause:st,isSeeking:X,getStreamEndTime:we,seek:Qe,seekToOriginalLive:function Ne(){var Ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0],et=arguments.length>1&&void 0!==arguments[1]&&arguments[1],wt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],qt=W();0!==qt&&Qe(qt-(N=C),Ze,et,wt)},seekToCurrentLive:function Se(){var Ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0],et=arguments.length>1&&void 0!==arguments[1]&&arguments[1],wt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],qt=W();0!==qt&&Qe(qt-N,Ze,et,wt)},reset:Re,updateCurrentTime:rt,getAvailabilityStartTime:function ue(){return Fe}},function he(){U=Object(F.default)(g).getInstance().getLogger(M),Re()}(),M}f.__dashjs_factory_name="PlaybackController",S.default=E.default.getSingletonFactory(f)},"./src/streaming/controllers/ScheduleController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/ScheduleController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),w=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),D=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),p=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function f(g){g=g||{};var C,B,Y,J,ce,Fe,q,le,K,_e,se,me,De,y=this.context,M=Object(w.default)(y).getInstance(),U=g.dashMetrics,R=g.mediaPlayerModel,V=g.fragmentModel,k=g.abrController,P=g.playbackController,x=g.textController,O=g.type,T=g.bufferController,N=g.settings;function Ue(_t){if(!T.getIsBufferingCompleted()){ke();var Bt=isNaN(_t)?0:_t;Fe=setTimeout(Ke,Bt)}}function ke(){Fe&&(clearTimeout(Fe),Fe=null)}function Ke(){try{if(function Qe(){try{return O===t.default.TEXT&&!x.isTextEnabled()||P.isPaused()&&(!P.getStreamController().getInitialPlayback()||!P.getStreamController().getAutoPlay())&&!N.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void ke();if(function Ne(){try{return J&&(isNaN(_e)||se||function we(){var Bt=k.getMaxAllowedIndexFor(O,B.id);return!(!isNaN(K)&&K==Bt||(Y.info("Top quality "+O+" index has changed from "+K+" to "+Bt),K=Bt,0))}()||function Se(){return!O||!J||U.getCurrentBufferLevel(O)<W()}())}catch{return!1}}()){var _t=!1;De&&(_t=k.checkPlaybackQuality(O,B.id)),_t||function st(){me||J.quality!==_e||se?(se?(Y.debug("Switch track for "+O+", representation id = "+J.id),se=!1):Y.debug("Quality has changed, get init request for representationid = "+J.id),M.trigger(E.default.INIT_FRAGMENT_NEEDED,{representationId:J.id,sender:C},{streamId:B.id,mediaType:O}),De=!1,me=!1):(Y.debug("Media segment needed for ".concat(O," and stream id ").concat(B.id)),M.trigger(E.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:B.id,mediaType:O}),De=!0)}()}else Ue(P.getLowLatencyModeEnabled()?N.get().streaming.scheduling.lowLatencyTimeout:N.get().streaming.scheduling.defaultTimeout)}catch{Ue(P.getLowLatencyModeEnabled()?N.get().streaming.scheduling.lowLatencyTimeout:N.get().streaming.scheduling.defaultTimeout)}}function W(){var _t=NaN;return!O||!J||(_t=O===t.default.TEXT?function ae(){try{if(x.isTextEnabled()){if(isNaN(J.fragmentDuration)){var _t=U.getCurrentSchedulingInfo(D.default.SCHEDULING_INFO);return _t?_t.duration:0}return J.fragmentDuration}return 0}catch{return 0}}():O===t.default.AUDIO&&q?function ve(){try{var _t=U.getCurrentBufferLevel(t.default.VIDEO);return isNaN(J.fragmentDuration)?_t+1:Math.max(_t+1,J.fragmentDuration)}catch{return 0}}():function Q(){try{var _t=J.mediaInfo.streamInfo;return k.isPlayingAtTopQuality(_t)?_t.manifestInfo.duration>=N.get().streaming.buffer.longFormContentDurationThreshold?N.get().streaming.buffer.bufferTimeAtTopQualityLongForm:N.get().streaming.buffer.bufferTimeAtTopQuality:R.getStableBufferTime()}catch{return R.getStableBufferTime()}}()),_t}function ie(){re(!0)}function re(_t){if(P&&V){var Bt=V.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,time:P.getTime(),threshold:0})[0];Bt&&P.getTime()>=Bt.startTime&&((!le.mediaInfo||Bt.mediaInfo.type===le.mediaInfo.type&&Bt.mediaInfo.id!==le.mediaInfo.id)&&_t&&M.trigger(E.default.TRACK_CHANGE_RENDERED,{mediaType:O,oldMediaInfo:le.mediaInfo,newMediaInfo:Bt.mediaInfo,streamId:B.id}),(Bt.quality!==le.quality||Bt.adaptationIndex!==le.adaptationIndex)&&_t&&(Y.debug("Quality change rendered for streamId ".concat(B.id," and type ").concat(O)),M.trigger(E.default.QUALITY_CHANGE_RENDERED,{mediaType:O,oldQuality:le.quality,newQuality:Bt.quality,streamId:B.id})),le={mediaInfo:Bt.mediaInfo,quality:Bt.quality,adaptationIndex:Bt.adaptationIndex})}}function te(_t){Y.debug("Appended bytes for ".concat(_t.mediaType," and stream id ").concat(B.id)),(isNaN(_t.index)||isNaN(_e))&&(_e=_t.quality,Y.info("["+O+"] lastInitializedRepresentationInfo changed to "+_t.quality)),Ue(0)}function ee(){V.abortRequests(),ke()}function fe(){N.get().streaming.scheduling.scheduleWhilePaused||Ue()}function ye(_t){U.updatePlayListTraceMetrics({playbackspeed:_t.playbackRate.toString()})}function at(){De=!0,ce=0,_e=NaN,le={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},K=NaN,se=!1,me=!1}return C={initialize:function he(_t){q=_t,M.on(E.default.BYTES_APPENDED_END_FRAGMENT,te,C),M.on(E.default.URL_RESOLUTION_FAILED,ee,C),M.on(p.default.PLAYBACK_STARTED,fe,C),M.on(p.default.PLAYBACK_RATE_CHANGED,ye,C),M.on(p.default.PLAYBACK_TIME_UPDATED,ie,C)},getType:function Re(){return O},getStreamId:function Ie(){return B.id},setCurrentRepresentation:function ge(_t){J=_t},setTimeToLoadDelay:function ue(_t){ce=_t},getTimeToLoadDelay:function Me(){return ce},setSwitchTrack:function X(_t){se=_t},getSwitchStrack:function $(){return se},startScheduleTimer:Ue,clearScheduleTimer:ke,reset:function ct(){M.off(E.default.BYTES_APPENDED_END_FRAGMENT,te,C),M.off(E.default.URL_RESOLUTION_FAILED,ee,C),M.off(p.default.PLAYBACK_STARTED,fe,C),M.off(p.default.PLAYBACK_RATE_CHANGED,ye,C),M.off(p.default.PLAYBACK_TIME_UPDATED,ie,C),ke(),re(!1),at(),B=null},getBufferTarget:W,getPlaybackController:function rt(){return P},setCheckPlaybackQuality:function Ye(_t){De=_t},setInitSegmentRequired:function Ge(_t){me=_t}},function Le(){Y=Object(L.default)(y).getInstance().getLogger(C),at(),B=g.streamInfo}(),C}f.__dashjs_factory_name="ScheduleController",S.default=F.default.getClassFactory(f)},"./src/streaming/controllers/StreamController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/StreamController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),w=c(
/*! ../Stream */
"./src/streaming/Stream.js"),E=c(
/*! ../ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),F=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ../vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),f=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),g=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),y=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),M=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),U=c(
/*! ./TimeSyncController */
"./src/streaming/controllers/TimeSyncController.js"),R=c(
/*! ./MediaSourceController */
"./src/streaming/controllers/MediaSourceController.js"),V=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),P=c(
/*! ./EventController */
"./src/streaming/controllers/EventController.js"),x=c(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function O(q){return function B(q){if(Array.isArray(q))return Y(q)}(q)||function C(q){if(typeof Symbol<"u"&&null!=q[Symbol.iterator]||null!=q["@@iterator"])return Array.from(q)}(q)||function N(q,le){if(q){if("string"==typeof q)return Y(q,le);var K=Object.prototype.toString.call(q).slice(8,-1);if("Object"===K&&q.constructor&&(K=q.constructor.name),"Map"===K||"Set"===K)return Array.from(q);if("Arguments"===K||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return Y(q,le)}}(q)||function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(q,le){(null==le||le>q.length)&&(le=q.length);for(var K=0,_e=new Array(le);K<le;K++)_e[K]=q[K];return _e}function Fe(){var K,_e,se,me,De,Le,he,Re,Ie,ge,Ue,ke,we,Ke,st,Qe,Ne,Se,W,ae,ve,Q,X,$,ie,re,te,ee,fe,ye,ue,Me,Ye,Ge,at,ct,rt,_t,Bt,At,jt,Qt,cn,dn,Gt,Cn,en,xt,ft,q=this.context,le=Object(F.default)(q).getInstance();function $e(){if(!(Le&&Le.hasOwnProperty("load")&&Q&&Q.hasOwnProperty("initialize")&&Q.hasOwnProperty("reset")&&Q.hasOwnProperty("getClientTimeOffset")&&he&&ve&&Ie&&Ge))throw new Error(t.default.MISSING_CONFIG_ERROR)}function Lt(){!function Rt(){try{var Zt=Re.getStreamsInfo();if(!$&&0===Zt.length)throw new Error("There are no periods in the MPD");$&&Zt.length>0&&Ie.updateManifestUpdateInfo({currentTime:Ge.getTime(),buffered:Ye.getBufferRange(),presentationStartTime:Zt[0].start,clientTimeOffset:Q.getClientTimeOffset()}),X.length>0&&function ki(Zt){0!==Zt.length?X=X.filter(function(On){var Wn=Zt.filter(function(gi){return gi.id===On.getId()}).length>0||On.getId()===$.getId();return Wn||(_e.debug("Removing stream ".concat(On.getId())),On.reset(!0)),Wn}):_e.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(Zt);for(var On=[],Xn=0,Wn=Zt.length;Xn<Wn;Xn++){var gi=Zt[Xn];On.push($t(gi)),Ie.addManifestUpdateStreamInfo(gi)}Promise.all(On).then(function(){return Gt.get().streaming.applyContentSteering&&!$&&ke.shouldQueryBeforeStart()?ke.loadSteeringData():Promise.resolve()}).then(function(){$||an(Zt),le.trigger(L.default.STREAMS_COMPOSED),Tn()}).catch(function(Ii){throw Ii})}catch(Ii){ve.error(new V.default(k.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Ii.message+" nostreamscomposed",he.getValue())),ue=!0,no()}}()}function zt(){Cn=!0}function $t(Zt){var On=Pn(Zt.id);return On?On.updateData(Zt):(On=Object(w.default)(q).create({manifestModel:he,mediaPlayerModel:ct,dashMetrics:Ie,manifestUpdater:De,adapter:Re,timelineConverter:Q,capabilities:se,capabilitiesFilter:me,errHandler:ve,baseURLController:we,segmentBaseController:Ke,textController:re,abrController:Qe,playbackController:Ge,eventController:Se,mediaController:Ne,protectionController:ie,videoModel:Ye,streamInfo:Zt,settings:Gt}),X.push(On),On.initialize(),Promise.resolve())}function an(Zt){et();var On=Ie.getCurrentDVRInfo().range;if(On.end<On.start){en&&clearTimeout(en);var Xn=Math.min(1e3*(-1*(On.end-On.start)+2),2147483647);return _e.debug("Waiting for ".concat(Xn," ms before playback can start")),le.trigger(L.default.AST_IN_FUTURE,{delay:Xn}),void(en=setTimeout(function(){an(Zt)},Xn))}Gt.get().streaming.applyProducerReferenceTime&&at.calculateProducerReferenceTimeOffsets(Zt);var Wn=Zt[0].manifestInfo;if(Gt.get().streaming.applyServiceDescription&&at.applyServiceDescription(Wn),Re.getIsDynamic()){var gi=Zr(Zt,Wn);Ge.computeAndSetLiveDelay(gi,Wn)}var Ii=function Oi(){var Zt;if(Re.getIsDynamic()){var Xn=Ie.getCurrentDVRInfo();Zt=(Xn&&Xn.range?Xn.range.end:0)-Ge.getOriginalLiveDelay();var gi=Xn?Xn.range:null;if(gi){if(isNaN(xt)&&-1===xt.toString().indexOf("posix:")){var Ni=fr(!0);isNaN(Ni)||(_e.info("Start time from URI parameters: ".concat(Ni)),Zt=Math.min(Zt,Ni))}else{_e.info("Start time provided by the app: ".concat(xt));var Ii=gr(!0,xt);isNaN(Ii)||(Zt=Math.min(Zt,Ii))}var wi=Gt.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;Zt=Math.max(Zt,gi.start+wi)}}else if(Zt=Br()[0].getStreamInfo().start,isNaN(xt)){var ho=fr(!1);isNaN(ho)||(_e.info("Start time from URI parameters: ".concat(ho)),Zt=Math.max(Zt,ho))}else{_e.info("Start time provided by the app: ".concat(xt));var io=gr(!1,xt);isNaN(io)||(Zt=Math.max(Zt,io))}return Zt}(),Ni=Ze(Ii),wi=null!==Ni?Ni:X[0];le.trigger(L.default.INITIAL_STREAM_SWITCH,{startTime:Ii}),mn(wi,null,Ii),function Un(){jt||(jt=setInterval(function(){!fe&&Ge.getTimeToStreamEnd()<=0&&!Ge.isSeeking()&&le.trigger(L.default.PLAYBACK_ENDED,{isLast:Kr().isLast})},200))}()}function mn(Zt,On,Xn){try{if(fe||!Zt||On===Zt&&Zt.getIsActive())return;fe=!0,le.trigger(L.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:On?On.getStreamInfo():null,toStreamInfo:Zt.getStreamInfo()});var Wn=!1;$=Zt,On&&(Wn=ut(Zt,On),On.deactivate(Wn)),Xn=isNaN(Xn)?!Wn&&On?Zt.getStreamInfo().start:NaN:Xn,_e.info("Switch to stream ".concat(Zt.getId(),". Seektime is ").concat(Xn,", current playback time is ").concat(Ge.getTime(),". Seamless period switch is set to ").concat(Wn)),cn=cn.filter(function(gi){return gi.getId()!==$.getId()}),Ge.initialize(Kr(),!!On),Ye.getElement()&&An(Xn,Wn)}catch{fe=!1}}function An(Zt,On){var Xn;function Wn(){if(Me&&"open"===Me.readyState){_e.debug("MediaSource is open!"),window.URL.revokeObjectURL(Xn),Me.removeEventListener("sourceopen",Wn),Me.removeEventListener("webkitsourceopen",Wn),Nt();var Ii=Ie.getCurrentDVRInfo();ge.setSeekable(Ii.range.start,Ii.range.end),Ln(Zt,On)}}function gi(){Me.addEventListener("sourceopen",Wn,!1),Me.addEventListener("webkitsourceopen",Wn,!1),Xn=ge.attachMediaSource(Ye),_e.debug("MediaSource attached to element.  Waiting on open...")}Me?On?Ln(Zt,On):(ge.detachMediaSource(Ye),gi()):(Me=ge.createMediaSource(),gi())}function Ln(Zt,On){$.activate(Me,On?Qt:void 0,Zt).then(function(Xn){if(Xn){var Wn=Object.keys(Xn);Wn.length>0&&Xn[Wn[0]].getBuffer().changeType&&(dn=!0),Qt=Xn}isNaN(Zt)||(le.trigger(L.default.SEEK_TARGET,{time:Zt},{streamId:$.getId()}),Ge.seek(Zt,!1,!0),$.startScheduleControllers()),fe=!1,le.trigger(L.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Kr()})})}function Zn(Zt){var Xn=Ze(Zt.seekTime);Xn&&Xn!==$?Xn&&Xn!==$&&(Kn(),function gn(Zt,On){var Xn=Zt&&!isNaN(Zt.seekTime)?Zt.seekTime:NaN,gi=$.getProcessors().map(function(Ii){return Ii.prepareOuterPeriodPlaybackSeeking(Zt)});Promise.all(gi).then(function(){mn(On,$,Xn)}).catch(function(Ii){ve.error(Ii)})}(Zt,Xn)):(Kn(),function vn(Zt){$.getProcessors().forEach(function(Xn){return Xn.prepareInnerPeriodPlaybackSeeking(Zt)}),$r(p.PlayListTrace.USER_REQUEST_STOP_REASON)}(Zt)),Zi(p.PlayList.SEEK_START_REASON)}function Kn(){ci()}function ci(){cn&&cn.length>0&&(cn.forEach(function(Zt){Zt.deactivate(!0)}),cn=[])}function Et(Zt){Zt.newMediaInfo.streamInfo.id===$.getId()&&(ci(),$.prepareTrackChange(Zt))}function ut(Zt,On){try{return Gt.get().streaming.buffer.reuseExistingSourceBuffers&&(On.isProtectionCompatible(Zt)||Cn)&&(dn||On.isMediaCodecCompatible(Zt,On))}catch{return!1}}function Xt(Zt){var On=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Me&&!Zt.getPreloaded()&&ut(Zt,On)&&Zt.startPreloading(Me,Qt).then(function(){cn.push(Zt)})}function Ze(Zt){if(isNaN(Zt))return null;for(var On=X.length,Xn=0;Xn<On;Xn++){var Wn=X[Xn];if(Zt<parseFloat((Wn.getStartTime()+Wn.getDuration()).toFixed(5)))return Wn}return null}function et(){try{var Zt=Re.getIsDynamic(),Xn=Re.getStreamsInfo()[0].manifestInfo,Wn=Ge.getTime(),gi=Q.calcTimeShiftBufferWindow(X,Zt),Ii=un();if(typeof gi.start>"u"||typeof gi.end>"u")return;Ii&&0!==Ii.length?Ii.forEach(function(Ni){Ie.addDVRInfo(Ni.getType(),Wn,Xn,gi)}):Ie.addDVRInfo(t.default.VIDEO,Wn,Xn,gi)}catch{}}function wt(Zt){if(Bt&&ee){var On=ct.getInitialBufferLevel(),Xn=[t.default.TEXT];(isNaN(On)||On<=Ge.getBufferLevel(Xn)||Re.getIsDynamic()&&On>Ge.getLiveDelay())&&(Bt=!1,Zi(p.PlayList.INITIAL_PLAYOUT_START_REASON),Ge.play())}Zt&&Zt.mediaType&&Ie.addBufferLevel(Zt.mediaType,new Date,1e3*Zt.bufferLevel)}function qt(Zt){Zt.streamInfo.id===$.getId()&&Zt.reason&&Zt.reason.forceReplace&&ci(),Pn(Zt.streamInfo.id).prepareQualityChange(Zt)}function wn(){if(Re.getIsDynamic()&&0!==Ge.getOriginalLiveDelay()&&$){var Zt=Re.getStreamsInfo();if(Zt.length>0){var On=Zt[0].manifestInfo,Xn=Zr(Zt,On);Ge.computeAndSetLiveDelay(Xn,On)}}}function Fn(){if(Di()){var Zt=Ye.getPlaybackQuality();Zt&&Ie.addDroppedFrames(Zt)}}function Wt(){_e.debug("[onPlaybackStarted]"),!Bt&&_t&&Zi(p.PlayList.RESUME_FROM_PAUSE_START_REASON),Bt&&(Bt=!1),At&&(At=!1,Gt.get().streaming.applyContentSteering&&!ke.shouldQueryBeforeStart()&&ke.loadSteeringData()),_t=!1}function Kt(Zt){_e.debug("[onPlaybackPaused]"),Zt.ended||(_t=!0,$r(p.PlayListTrace.USER_REQUEST_STOP_REASON))}function nn(Zt){_e.debug("Stream with id ".concat(Zt.streamInfo.id," finished buffering")),Me&&Zt.streamInfo.isLast?(_e.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),ge.signalEndOfStream(Me)):Tn()}function Tn(){if($&&$.getHasFinishedBuffering())for(var Zt=function gt(){var Zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var On=Zt||$||null;if(On){var Xn=On.getStreamInfo();return X.filter(function(Wn){var gi=Wn.getStreamInfo();return gi.start>Xn.start&&Xn.id!==gi.id})}}catch{return[]}}($),On=0;On<Zt.length;){var Xn=Zt[On],Wn=0===On?$:Zt[On-1];!Xn.getPreloaded()&&Wn.getHasFinishedBuffering()&&Me&&Xt(Xn,Wn),On+=1}}function ei(){jt&&(clearInterval(jt),jt=null)}function un(){return $?$.getProcessors():[]}function Te(Zt){if($&&!$.getIsEndedEventSignaled()){$.setIsEndedEventSignaled(!0);var On=function vt(){var On=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||$||null;if(!On)return null;for(var Xn=On.getStreamInfo(),Wn=Xn.start,gi=0,Ii=-1,Ni=NaN;gi<X.length;){var _r=X[gi].getStreamInfo(),Pr=_r.start-Wn;Pr>0&&(isNaN(Ni)||Pr<Ni)&&Xn.id!==_r.id&&(Ni=Pr,Ii=gi),gi+=1}return Ii>=0?X[Ii]:null}();On?(_e.debug("StreamController onEnded, found next stream with id ".concat(On.getStreamInfo().id,". Switching from ").concat($.getStreamInfo().id," to ").concat(On.getStreamInfo().id)),mn(On,$,NaN)):(_e.debug("StreamController no next stream found"),$.setIsEndedEventSignaled(!1)),$r(On?p.PlayListTrace.END_OF_PERIOD_STOP_REASON:p.PlayListTrace.END_OF_CONTENT_STOP_REASON)}Zt&&Zt.isLast&&(ei(),ke.stopSteeringRequestTimer())}function Nt(Zt){var On=Zt||Kr().manifestInfo.duration;ge.setDuration(On)}function fr(Zt){var On=st.getURIFragmentData();if(!On||!On.t)return NaN;var Wn=Br()[0].getStreamInfo().start;return On.t=On.t.split(",")[0],fo(Zt,On.t,Wn)}function gr(Zt,On){var Xn=0;return Zt||(Xn=Br()[0].getStreamInfo().start),fo(Zt,On,Xn)}function fo(Zt,On,Xn){var Wn=Re.getRegularPeriods()[0],gi=On.toString(),Ii=-1!==gi.indexOf("posix:")?"now"===gi.substring(6)?Date.now()/1e3:parseFloat(gi.substring(6)):NaN;return Zt&&!isNaN(Ii)?Q.calcPresentationTimeFromWallTime(new Date(1e3*Ii),Wn):parseFloat(gi)+Xn}function Zr(Zt,On){try{var Xn=NaN;if(On&&!isNaN(On.maxFragmentDuration)&&isFinite(On.maxFragmentDuration))return On.maxFragmentDuration;if(Zt&&1===Zt.length){var Wn=Zt[0],Ii=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT].reduce(function(Ni,wi){var _r=Re.getMediaInfoForType(Wn,wi);return _r&&!1!==_r.isFragmented&&Ni.push(_r),Ni},[]).reduce(function(Ni,wi){var _r=Re.getVoRepresentations(wi);return _r&&_r.length>0&&_r.forEach(function(Pr){Pr&&Ni.push(Pr)}),Ni},[]).reduce(function(Ni,wi){var _r=Re.convertRepresentationToRepresentationInfo(wi);return _r&&_r.fragmentDuration&&!isNaN(_r.fragmentDuration)&&Ni.push(_r.fragmentDuration),Ni},[]);Xn=Math.max.apply(Math,O(Ii))}return isFinite(Xn)?Xn:NaN}catch{return NaN}}function Uo(Zt){if(Zt.error)ue=!0,no();else{_e.info("Manifest updated... updating data system wide.");var On=Zt.manifest;Re.updatePeriods(On);var Xn=Re.getUTCTimingSources();Re.getIsDynamic()&&(!Xn||0===Xn.length)&&le.trigger(M.default.CONFORMANCE_VIOLATION,{level:x.default.LEVELS.WARNING,event:x.default.EVENTS.NO_UTC_TIMING_ELEMENT});var Wn=Re.getIsDynamic()?Xn.concat(rt.getUTCTimingSources()):Xn,gi=ae.isHTTPS(Zt.manifest.url);Wn.forEach(function(Ii){Ii.value.replace(/.*?:\/\//g,"")===Gt.get().streaming.utcSynchronization.defaultTimingSource.value.replace(/.*?:\/\//g,"")&&(Ii.value=Ii.value.replace(gi?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),gi?"https://":"http://"),_e.debug("Matching default timing source protocol to manifest protocol: ",Ii.value))}),me.filterUnsupportedFeatures(On).then(function(){we.initialize(On),Ue.attemptSync(Wn,Re.getIsDynamic())})}}function Di(){return!!$&&$.getHasVideoTrack()}function Dr(){return!!$&&$.getHasAudioTrack()}function $r(Zt,On){On=On||new Date,un().forEach(function(Xn){Xn.finalisePlayList(On,Zt)}),Ie.addPlayList()}function Zi(Zt){Ie.createPlaylistMetrics(1e3*Ge.getTime(),Zt)}function zo(Zt){if(Zt.error){var On="";switch(Zt.error.code){case 1:On="MEDIA_ERR_ABORTED";break;case 2:On="MEDIA_ERR_NETWORK";break;case 3:On="MEDIA_ERR_DECODE",ft.counts.mediaErrorDecode+=1;break;case 4:On="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:On="MEDIA_ERR_ENCRYPTED";break;default:On="UNKNOWN"}if("MEDIA_ERR_DECODE"===On&&Gt.get().errors.recoverAttempts.mediaErrorDecode>=ft.counts.mediaErrorDecode)return void function Co(){_e.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var Zt=Ge.getTime();$.deactivate(!1),_e.warn("MediaSource has been resetted. Resuming playback from time ".concat(Zt)),An(Zt,!1)}();ye=!0,Zt.error.message&&(On+=" ("+Zt.error.message+")"),Zt.error.msExtendedCode&&(On+=" (0x"+(Zt.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),_e.fatal("Video Element Error: "+On),Zt.error&&_e.fatal(Zt.error),ve.error(new V.default(Zt.error.code,On)),no()}}function Kr(){return $?$.getStreamInfo():null}function Pn(Zt){for(var On=0,Xn=X.length;On<Xn;On++)if(X[On].getId()===Zt)return X[On];return null}function oi(Zt){isNaN(Zt.newDuration)||Nt(Zt.newDuration)}function Ki(){X=[],xt=NaN,ie=null,fe=!1,$=null,ye=!1,ue=!1,Bt=!0,At=!0,_t=!1,ee=!0,jt=null,Cn=!1,dn=!1,cn=[],en=null,ft={counts:{mediaErrorDecode:0}}}function no(){$e(),Ue.reset(),$r(ye||ue?p.PlayListTrace.FAILURE_STOP_REASON:p.PlayListTrace.USER_REQUEST_STOP_REASON);for(var Zt=0,On=X?X.length:0;Zt<On;Zt++)X[Zt].reset(ye);(function We(){le.off(M.default.PLAYBACK_TIME_UPDATED,Fn,K),le.off(M.default.PLAYBACK_SEEKING,Zn,K),le.off(M.default.PLAYBACK_ERROR,zo,K),le.off(M.default.PLAYBACK_STARTED,Wt,K),le.off(M.default.PLAYBACK_PAUSED,Kt,K),le.off(M.default.PLAYBACK_ENDED,Te,K),le.off(M.default.METRIC_ADDED,Ir,K),le.off(M.default.MANIFEST_VALIDITY_CHANGED,oi,K),le.off(M.default.BUFFER_LEVEL_UPDATED,wt,K),le.off(M.default.QUALITY_CHANGE_REQUESTED,qt,K),L.default.KEY_SESSION_UPDATED&&le.off(L.default.KEY_SESSION_UPDATED,zt,K),le.off(L.default.MANIFEST_UPDATED,Uo,K),le.off(L.default.STREAM_BUFFERING_COMPLETED,nn,K),le.off(L.default.TIME_SYNCHRONIZATION_COMPLETED,Lt,K),le.off(L.default.CURRENT_TRACK_CHANGED,Et,K),le.off(L.default.SETTING_UPDATED_LIVE_DELAY,wn,K),le.off(L.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,wn,K)})(),we.reset(),De.reset(),Se.reset(),Ie.clearAllCurrentMetrics(),he.setValue(null),Le.reset(),Q.reset(),W.reset(),Me&&(ge.detachMediaSource(Ye),Me=null),Ye=null,ie&&(ie=null,te=null,he.getValue()&&le.trigger(L.default.PROTECTION_DESTROYED,{data:he.getValue().url})),ei(),le.trigger(L.default.STREAM_TEARDOWN_COMPLETE),Ki()}function Ir(Zt){if(Zt.metric===b.default.DVR_INFO){var On=Dr()?t.default.AUDIO:t.default.VIDEO;Zt.mediaType===On&&ge.setSeekable(Zt.value.range.start,Zt.value.range.end)}}function Br(){return X}return K={initialize:function xe(Zt,On){$e(),ee=Zt,te=On,Q.initialize(),(De=Object(E.default)(q).create()).setConfig({manifestModel:he,adapter:Re,manifestLoader:Le,errHandler:ve,settings:Gt}),De.initialize(),(Se=Object(P.default)(q).getInstance()).setConfig({manifestUpdater:De,playbackController:Ge,settings:Gt}),Se.start(),Ue.setConfig({dashMetrics:Ie,baseURLController:we,errHandler:ve,settings:Gt}),Ue.initialize(),ie&&(le.trigger(L.default.PROTECTION_CREATED,{controller:ie}),ie.setMediaElement(Ye.getElement()),te&&ie.setProtectionData(te)),function Oe(){le.on(M.default.PLAYBACK_TIME_UPDATED,Fn,K),le.on(M.default.PLAYBACK_SEEKING,Zn,K),le.on(M.default.PLAYBACK_ERROR,zo,K),le.on(M.default.PLAYBACK_STARTED,Wt,K),le.on(M.default.PLAYBACK_PAUSED,Kt,K),le.on(M.default.PLAYBACK_ENDED,Te,K),le.on(M.default.METRIC_ADDED,Ir,K),le.on(M.default.MANIFEST_VALIDITY_CHANGED,oi,K),le.on(M.default.BUFFER_LEVEL_UPDATED,wt,K),le.on(M.default.QUALITY_CHANGE_REQUESTED,qt,K),L.default.KEY_SESSION_UPDATED&&le.on(L.default.KEY_SESSION_UPDATED,zt,K),le.on(L.default.MANIFEST_UPDATED,Uo,K),le.on(L.default.STREAM_BUFFERING_COMPLETED,nn,K),le.on(L.default.TIME_SYNCHRONIZATION_COMPLETED,Lt,K),le.on(L.default.CURRENT_TRACK_CHANGED,Et,K),le.on(L.default.SETTING_UPDATED_LIVE_DELAY,wn,K),le.on(L.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,wn,K)}()},getActiveStreamInfo:Kr,addDVRMetric:et,hasVideoTrack:Di,hasAudioTrack:Dr,getStreamById:Pn,getStreamForTime:Ze,getTimeRelativeToStreamId:function bt(Zt,On){for(var Xn=null,Wn=0,gi=0,Ii=null,Ni=0;Ni<X.length;Ni++){if(gi=(Xn=X[Ni]).getStartTime(),Ii=Xn.getDuration(),Number.isFinite(gi)&&(Wn=gi),Xn.getId()===On)return Zt-Wn;Number.isFinite(Ii)&&(Wn+=Ii)}return null},load:function ot(Zt){var On=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;$e(),xt=On,Le.load(Zt)},loadWithManifest:function dt(Zt){var On=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function lt(){if(!De||!De.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),xt=On,De.setManifest(Zt)},getActiveStreamProcessors:un,setConfig:function Pi(Zt){Zt&&(Zt.capabilities&&(se=Zt.capabilities),Zt.capabilitiesFilter&&(me=Zt.capabilitiesFilter),Zt.manifestLoader&&(Le=Zt.manifestLoader),Zt.manifestModel&&(he=Zt.manifestModel),Zt.mediaPlayerModel&&(ct=Zt.mediaPlayerModel),Zt.customParametersModel&&(rt=Zt.customParametersModel),Zt.protectionController&&(ie=Zt.protectionController),Zt.adapter&&(Re=Zt.adapter),Zt.dashMetrics&&(Ie=Zt.dashMetrics),Zt.errHandler&&(ve=Zt.errHandler),Zt.timelineConverter&&(Q=Zt.timelineConverter),Zt.videoModel&&(Ye=Zt.videoModel),Zt.playbackController&&(Ge=Zt.playbackController),Zt.serviceDescriptionController&&(at=Zt.serviceDescriptionController),Zt.contentSteeringController&&(ke=Zt.contentSteeringController),Zt.textController&&(re=Zt.textController),Zt.abrController&&(Qe=Zt.abrController),Zt.mediaController&&(Ne=Zt.mediaController),Zt.settings&&(Gt=Zt.settings),Zt.baseURLController&&(we=Zt.baseURLController),Zt.uriFragmentModel&&(st=Zt.uriFragmentModel),Zt.segmentBaseController&&(Ke=Zt.segmentBaseController))},setProtectionData:function xi(Zt){te=Zt,ie&&ie.setProtectionData(te)},getIsStreamSwitchInProgress:function qr(){return fe},switchToVideoElement:function zi(Zt){$&&(Ge.initialize(Kr()),An(Zt,!1))},getHasMediaOrInitialisationError:function Io(){return ye||ue},getStreams:Br,getActiveStream:function on(){return $},getInitialPlayback:function ti(){return Bt},getAutoPlay:function fi(){return ee},reset:no},function Xe(){_e=Object(f.default)(q).getInstance().getLogger(K),Ue=Object(U.default)(q).getInstance(),ge=Object(R.default)(q).getInstance(),W=Object(g.default)(q).getInstance(),ae=Object(y.default)(q).getInstance(),Ki()}(),K}Fe.__dashjs_factory_name="StreamController",S.default=D.default.getSingletonFactory(Fe)},"./src/streaming/controllers/TimeSyncController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/TimeSyncController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),w=c(
/*! ./../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ./../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! ./../../core/errors/Errors */
"./src/core/errors/Errors.js"),L=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),D=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),p=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function P(){var C,B,Y,J,ce,Fe,q,le,K,_e,se,me,De,Le,he,Re,O=this.context,T=Object(w.default)(O).getInstance(),N=Object(p.default)(O).getInstance();function Ue(){le=[],K=[],_e=null,se=null,De=null,me=NaN,Y=!1,J=!1,Le=ce.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function Ke(){!ce.get().streaming.utcSynchronization.enabled||Y||J||!De||!De.value||!De.schemeIdUri||isNaN(me)||isNaN(ce.get().streaming.utcSynchronization.backgroundAttempts)||se&&(Date.now()-se)/1e3<30||(le=[],J=!0,st(isNaN(ce.get().streaming.utcSynchronization.backgroundAttempts)?2:ce.get().streaming.utcSynchronization.backgroundAttempts))}function st(Ge){try{if(Ge<=0)return void ue();var at=Date.now();Fe[De.schemeIdUri](De.value,function(ct){var rt=Date.now(),_t=Ne(at,rt,ct);le.push(_t),st(Ge-1)},function(){ue()})}catch{ue()}}function Qe(){var at=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!K||0===K.length||at>=K.length)W();else{var ct=K[at];if(ct)if(Fe.hasOwnProperty(ct.schemeIdUri)){var rt=(new Date).getTime();Fe[ct.schemeIdUri](ct.value,function(_t){var Bt=(new Date).getTime(),At=Ne(rt,Bt,_t);De=ct,W(At)},function(){Qe(at+1)})}else Qe(at+1);else W()}}function Ne(Ge,at,ct){return ct-(at-(at-Ge)/2)}function W(){var Ge=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,at=isNaN(Ge);at&&ce.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function ee(){var Ge=q.getLatestMPDRequestHeaderValueByID("Date"),at=null!==Ge?new Date(Ge).getTime():Number.NaN;isNaN(at)?fe(!0):fe(!1,at-Date.now())}():fe(at,Ge)}function ve(Ge){var at=Date.parse(Ge);return isNaN(at)&&(at=function ae(Ge){var Bt,At,jt=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Ge);return Bt=Date.UTC(parseInt(jt[1],10),parseInt(jt[2],10)-1,parseInt(jt[3],10),parseInt(jt[4],10),parseInt(jt[5],10),jt[6]&&(parseInt(jt[6],10)||0),jt[7]&&1e3*parseFloat(jt[7])||0),jt[9]&&jt[10]&&(At=60*parseInt(jt[9],10)+parseInt(jt[10],10),Bt+=("+"===jt[8]?-1:1)*At*60*1e3),new Date(Bt).getTime()}(Ge)),at}function Q(Ge){return Date.parse(Ge)}function X(Ge){return Date.parse(Ge)}function $(Ge,at,ct){ct()}function ie(Ge,at,ct){var rt=ve(Ge);isNaN(rt)?ct():at(rt)}function re(Ge,at,ct,rt,_t){var Bt,At,jt=!1,Qt=new XMLHttpRequest,cn=_t?b.HTTPRequest.HEAD:b.HTTPRequest.GET,dn=at.match(/\S+/g);if(at=dn.shift(),Bt=function(){jt||(jt=!0,dn.length?re(Ge,dn.join(" "),ct,rt,_t):rt())},At=function(){var en,xt;200===Qt.status&&(en=_t?Qt.getResponseHeader("Date"):Qt.response,xt=Ge(en),isNaN(xt)||(ct(xt),jt=!0))},N.isRelative(at)){var Gt=Re.resolve();Gt&&(at=N.resolve(at,Gt.url))}Qt.open(cn,at),Qt.timeout=5e3,Qt.onload=At,Qt.onloadend=Bt,Qt.send()}function te(Ge,at,ct){re(X,Ge,at,ct,!0)}function fe(Ge,at){if(!isNaN(me)&&!isNaN(at)&&!Ge&&function ye(Ge){try{var At,at=Me(Ge),ct=isNaN(Le)?30:Le,rt=isNaN(ce.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:ce.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,_t=isNaN(ce.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:ce.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,Bt=isNaN(ce.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:ce.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;at?(At=Math.min(ct*rt,_t),B.debug("Increasing timeBetweenSyncAttempts to ".concat(At))):(At=Math.max(ct/rt,Bt),B.debug("Decreasing timeBetweenSyncAttempts to ".concat(At))),Le=At}catch{}}(at),!Ge&&!isNaN(at)){_e=Date.now(),Y=!1;var ct=isNaN(me);me=at,ct&&Ke(),B.debug("Completed UTC sync. Setting client - server offset to ".concat(at))}Ge&&(De=null,Y=!1,he.error(new t.default(F.default.TIME_SYNC_FAILED_ERROR_CODE,F.default.TIME_SYNC_FAILED_ERROR_MESSAGE))),T.trigger(E.default.UPDATE_TIME_SYNC_OFFSET,{offset:at}),T.trigger(E.default.TIME_SYNCHRONIZATION_COMPLETED)}function ue(){if(le&&0!==le.length){var Ge=le.reduce(function(at,ct){return at+ct},0)/le.length;Me(Ge)?B.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(B.debug("Completed background UTC sync. Setting client - server offset to ".concat(Ge)),T.trigger(E.default.UPDATE_TIME_SYNC_OFFSET,{offset:me=Ge})),J=!1,se=Date.now()}}function Me(Ge){try{if(isNaN(me))return!0;var at=ce.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(ce.get().streaming.utcSynchronization.maximumAllowedDrift)?ce.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Ge>=me-at&&Ge<=me+at}catch{return!0}}return C={initialize:function ke(){Ue(),Fe={"urn:mpeg:dash:utc:http-head:2014":te,"urn:mpeg:dash:utc:http-xsdate:2014":re.bind(null,ve),"urn:mpeg:dash:utc:http-iso:2014":re.bind(null,Q),"urn:mpeg:dash:utc:direct:2014":ie,"urn:mpeg:dash:utc:http-head:2012":te,"urn:mpeg:dash:utc:http-xsdate:2012":re.bind(null,ve),"urn:mpeg:dash:utc:http-iso:2012":re.bind(null,Q),"urn:mpeg:dash:utc:direct:2012":ie,"urn:mpeg:dash:utc:http-ntp:2014":$,"urn:mpeg:dash:utc:ntp:2014":$,"urn:mpeg:dash:utc:sntp:2014":$}},attemptSync:function we(Ge,at){if(K=Ge,!Y){if(!function Se(Ge){try{if(!Ge||!ce.get().streaming.utcSynchronization.enabled)return!1;var at=isNaN(Le)?30:Le;return!(_e&&at&&!isNaN(at))||(Date.now()-_e)/1e3>=at}catch{return!0}}(at))return void T.trigger(E.default.TIME_SYNCHRONIZATION_COMPLETED);Y=!0,Qe()}},setConfig:function ge(Ge){Ge&&(Ge.dashMetrics&&(q=Ge.dashMetrics),Ge.baseURLController&&(Re=Ge.baseURLController),Ge.errHandler&&(he=Ge.errHandler),Ge.settings&&(ce=Ge.settings))},reset:function Ye(){Ue(),T.off(E.default.ATTEMPT_BACKGROUND_SYNC,Ke,C)}},function Ie(){B=Object(D.default)(O).getInstance().getLogger(C),T.on(E.default.ATTEMPT_BACKGROUND_SYNC,Ke,C)}(),C}P.__dashjs_factory_name="TimeSyncController";var x=L.default.getSingletonFactory(P);x.HTTP_TIMEOUT_MS=5e3,L.default.updateSingletonFactory(P.__dashjs_factory_name,x),S.default=x},"./src/streaming/controllers/XlinkController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/XlinkController.js ***!
                  \******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../XlinkLoader */
"./src/streaming/XlinkLoader.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),L=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),D=c(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),p="onLoad";function y(M){M=M||{};var k,P,x,O,T,N,U=this.context,R=Object(b.default)(U).getInstance(),V=Object(L.default)(U).getInstance();function Fe(Le,he,Re){var ge,Ue,Ie={};Ie.elements=Le,Ie.type=he,Ie.resolveType=Re,0===Ie.elements.length&&le(Ie);for(var ke=0;ke<Ie.elements.length;ke++)Ue=V.isHTTPURL((ge=Ie.elements[ke]).url)?ge.url:ge.originalContent.BaseURL+ge.url,N.load(Ue,ge,Ie)}function q(Le){var he,Re,Ue="";if(Re=Le.resolveObject,(he=Le.element).resolvedContent){var ke=0;0===he.resolvedContent.indexOf("<?xml")&&(ke=he.resolvedContent.indexOf("?>")+2),Ue=he.resolvedContent.substr(0,ke)+"<response>"+he.resolvedContent.substr(ke)+"</response>",he.resolvedContent=T.xml_str2json(Ue)}(function me(Le){var he;for(he=0;he<Le.elements.length;he++)if(!1===Le.elements[he].resolved)return!1;return!0})(Re)&&le(Re)}function le(Le){var Re,Ie,he=[];if(function _e(Le){var Re,Ie,Ue,ke,we,he=[];for(Ue=Le.elements.length-1;Ue>=0;Ue--){if(Ie=(Re=Le.elements[Ue]).type+"_asArray",Re.resolvedContent){if(Re.resolvedContent)for(ke=0;ke<Re.resolvedContent[Ie].length;ke++)he.push(Re.resolvedContent[Ie][ke])}else delete Re.originalContent["xlink:actuate"],delete Re.originalContent["xlink:href"],he.push(Re.originalContent);for(Re.parentElement[Ie].splice(Re.index,1),we=0;we<he.length;we++)Re.parentElement[Ie].splice(Re.index+we,0,he[we]);he=[]}Le.elements.length>0&&x.run(O)}(Le),"onActuate"===Le.resolveType&&R.trigger(w.default.XLINK_READY,{manifest:O}),Le.resolveType===p)switch(Le.type){case D.default.PERIOD:for(Re=0;Re<O[D.default.PERIOD+"_asArray"].length;Re++)(Ie=O[D.default.PERIOD+"_asArray"][Re]).hasOwnProperty(D.default.ADAPTATION_SET+"_asArray")&&(he=he.concat(K(Ie[D.default.ADAPTATION_SET+"_asArray"],Ie,D.default.ADAPTATION_SET,p))),Ie.hasOwnProperty(D.default.EVENT_STREAM+"_asArray")&&(he=he.concat(K(Ie[D.default.EVENT_STREAM+"_asArray"],Ie,D.default.EVENT_STREAM,p)));Fe(he,D.default.ADAPTATION_SET,p);break;case D.default.ADAPTATION_SET:R.trigger(w.default.XLINK_READY,{manifest:O})}}function K(Le,he,Re,Ie){var Ue,ke,we,ge=[];for(ke=Le.length-1;ke>=0;ke--)(Ue=Le[ke]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===Ue["xlink:href"]&&Le.splice(ke,1);for(ke=0;ke<Le.length;ke++)(Ue=Le[ke]).hasOwnProperty("xlink:href")&&Ue.hasOwnProperty("xlink:actuate")&&Ue["xlink:actuate"]===Ie&&(we=se(Ue["xlink:href"],he,Re,ke,Ie,Ue),ge.push(we));return ge}function se(Le,he,Re,Ie,ge,Ue){return{url:Le,parentElement:he,type:Re,index:Ie,resolveType:ge,originalContent:Ue,resolvedContent:null,resolved:!1}}return k={resolveManifestOnLoad:function J(Le){T=new F.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:P}),(O=Le).Period_asArray?Fe(K(O.Period_asArray,O,D.default.PERIOD,p),D.default.PERIOD,p):R.trigger(w.default.XLINK_READY,{manifest:O})},setMatchers:function B(Le){Le&&(P=Le)},setIron:function Y(Le){Le&&(x=Le)},reset:function ce(){R.off(w.default.XLINK_ELEMENT_LOADED,q,k),N&&(N.reset(),N=null)}},function C(){R.on(w.default.XLINK_ELEMENT_LOADED,q,k),N=Object(t.default)(U).create({errHandler:M.errHandler,dashMetrics:M.dashMetrics,mediaPlayerModel:M.mediaPlayerModel,requestModifier:M.requestModifier,settings:M.settings})}(),k}y.__dashjs_factory_name="XlinkController",S.default=E.default.getClassFactory(y)},"./src/streaming/metrics/MetricsReporting.js":
/*!***************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReporting.js ***!
                  \***************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./utils/DVBErrorsTranslator */
"./src/streaming/metrics/utils/DVBErrorsTranslator.js"),b=c(
/*! ./MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),w=c(
/*! ./controllers/MetricsCollectionController */
"./src/streaming/metrics/controllers/MetricsCollectionController.js"),E=c(
/*! ./metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js"),F=c(
/*! ./reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function L(){var p=this.context;return{createMetricsReporting:function y(R){return Object(t.default)(p).getInstance({eventBus:R.eventBus,dashMetrics:R.dashMetrics,metricsConstants:R.metricsConstants,events:R.events}).initialise(),Object(w.default)(p).create(R)},getReportingFactory:function M(){return Object(F.default)(p).getInstance()},getMetricsHandlerFactory:function U(){return Object(E.default)(p).getInstance()}}}L.__dashjs_factory_name="MetricsReporting";var D=dashjs.FactoryMaker.getClassFactory(L);D.events=b.default,dashjs.FactoryMaker.updateClassFactory(L.__dashjs_factory_name,D),S.default=D},"./src/streaming/metrics/MetricsReportingEvents.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReportingEvents.js ***!
                  \*********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function b(P){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function w(P,x){for(var O=0;O<x.length;O++){var T=x[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,F(T.key),T)}}function F(P){var x=function L(P,x){if("object"!==b(P)||null===P)return P;var O=P[Symbol.toPrimitive];if(void 0!==O){var T=O.call(P,x||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===b(x)?x:String(x)}function p(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&f(P,x)}function f(P,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function g(P){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(P);if(x){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function y(P,x){if(x&&("object"===b(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function M(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function R(P){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(P)}c.r(S);var k=new(function(P){p(O,P);var x=g(O);function O(){var T;return function D(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,O),(T=x.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",T.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",T.CMCD_DATA_GENERATED="cmcdDataGenerated",T}return function E(P,x,O){return x&&w(P.prototype,x),O&&w(P,O),Object.defineProperty(P,"prototype",{writable:!1}),P}(O)}(c(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));S.default=k},"./src/streaming/metrics/controllers/MetricsCollectionController.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsCollectionController.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./MetricsController */
"./src/streaming/metrics/controllers/MetricsController.js"),b=c(
/*! ../utils/ManifestParsing */
"./src/streaming/metrics/utils/ManifestParsing.js"),w=c(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function E(F){var L,D={},p=this.context,f=(F=F||{}).eventBus,g=F.events;function y(V){if(!V.error){var k=Object.keys(D);Object(b.default)(p).getInstance({adapter:F.adapter,constants:F.constants}).getMetrics(V.manifest).forEach(function(x){var O=JSON.stringify(x);if(D.hasOwnProperty(O))k.splice(O,1);else try{var T=Object(t.default)(p).create(F);T.initialize(x),D[O]=T}catch{}}),k.forEach(function(x){D[x].reset(),delete D[x]}),f.trigger(w.default.METRICS_INITIALISATION_COMPLETE)}}function M(){Object.keys(D).forEach(function(V){D[V].reset()}),D={}}return L={reset:function R(){f.off(g.MANIFEST_UPDATED,y,L),f.off(g.STREAM_TEARDOWN_COMPLETE,M,L)}},function U(){f.on(g.MANIFEST_UPDATED,y,L),f.on(g.STREAM_TEARDOWN_COMPLETE,M,L)}(),L}E.__dashjs_factory_name="MetricsCollectionController",S.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/controllers/MetricsController.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsController.js ***!
                  \****************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./RangeController */
"./src/streaming/metrics/controllers/RangeController.js"),b=c(
/*! ./ReportingController */
"./src/streaming/metrics/controllers/ReportingController.js"),w=c(
/*! ./MetricsHandlersController */
"./src/streaming/metrics/controllers/MetricsHandlersController.js");function E(F){F=F||{};var L,D,p,g=this.context;function M(){L&&L.reset(),D&&D.reset(),p&&p.reset()}return{initialize:function y(U){try{(p=Object(t.default)(g).create({mediaElement:F.mediaElement})).initialize(U.Range),(D=Object(b.default)(g).create({debug:F.debug,metricsConstants:F.metricsConstants,mediaPlayerModel:F.mediaPlayerModel})).initialize(U.Reporting,p),(L=Object(w.default)(g).create({debug:F.debug,eventBus:F.eventBus,metricsConstants:F.metricsConstants,events:F.events})).initialize(U.metrics,D)}catch(R){throw M(),R}},reset:M}}E.__dashjs_factory_name="MetricsController",S.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/controllers/MetricsHandlersController.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsHandlersController.js ***!
                  \************************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js");function b(w){var F,E=[],L=this.context,D=(w=w||{}).eventBus,p=w.events,f=Object(t.default)(L).getInstance({debug:w.debug,eventBus:w.eventBus,metricsConstants:w.metricsConstants});function g(U){E.forEach(function(R){R.handleNewMetric(U.metric,U.value,U.mediaType)})}return F={initialize:function y(U,R){U.split(",").forEach(function(V,k,P){var x;if(-1!==V.indexOf("(")&&-1===V.indexOf(")")){var O=P[k+1];O&&-1===O.indexOf("(")&&-1!==O.indexOf(")")&&(V+=","+O,delete P[k+1])}(x=f.create(V,R))&&E.push(x)}),D.on(p.METRIC_ADDED,g,F),D.on(p.METRIC_UPDATED,g,F)},reset:function M(){D.off(p.METRIC_ADDED,g,F),D.off(p.METRIC_UPDATED,g,F),E.forEach(function(U){return U.reset()}),E=[]}}}b.__dashjs_factory_name="MetricsHandlersController",S.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/controllers/RangeController.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/RangeController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js");function b(w){var L,D,E=!1,F=this.context,p=(w=w||{}).mediaElement;return L={initialize:function f(U){U&&U.length&&(U.forEach(function(R){var V=R.starttime;D.add(V,V+R.duration)}),E=!!U[0]._useWallClockTime)},reset:function g(){D.clear()},isEnabled:function M(){var R,U=D.length;if(!U)return!0;R=E?(new Date).getTime()/1e3:p.currentTime;for(var V=0;V<U;V+=1){var k=D.start(V),P=D.end(V);if(k<=R&&R<P)return!0}return!1}},function y(){D=Object(t.default)(F).create()}(),L}b.__dashjs_factory_name="RangeController",S.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/controllers/ReportingController.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/ReportingController.js ***!
                  \******************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function b(w){var E=[],L=Object(t.default)(this.context).getInstance(w);return{initialize:function D(g,y){g.some(function(M){var U=L.create(M,y);if(U)return E.push(U),!0})},reset:function p(){E.forEach(function(g){return g.reset()}),E=[]},report:function f(g,y){E.forEach(function(M){return M.report(g,y)})}}}b.__dashjs_factory_name="ReportingController",S.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/metrics/MetricsHandlerFactory.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/MetricsHandlerFactory.js ***!
                  \****************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./handlers/BufferLevelHandler */
"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js"),b=c(
/*! ./handlers/DVBErrorsHandler */
"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js"),w=c(
/*! ./handlers/HttpListHandler */
"./src/streaming/metrics/metrics/handlers/HttpListHandler.js"),E=c(
/*! ./handlers/GenericMetricHandler */
"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");function F(L){var D,p=(L=L||{}).debug?L.debug.getLogger(D):{},f=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,g=this.context,y={BufferLevel:t.default,DVBErrors:b.default,HttpList:w.default,PlayList:E.default,RepSwitchList:E.default,TcpList:E.default};return{create:function M(V,k){var x,P=V.match(f);if(P){try{(x=y[P[1]](g).create({eventBus:L.eventBus,metricsConstants:L.metricsConstants})).initialize(P[1],k,P[3],P[5])}catch(O){x=null,p.error("MetricsHandlerFactory: Could not create handler for type ".concat(P[1]," with args ").concat(P[3],", ").concat(P[5]," (").concat(O.message,")"))}return x}},register:function U(V,k){y[V]=k},unregister:function R(V){delete y[V]}}}F.__dashjs_factory_name="MetricsHandlerFactory",S.default=dashjs.FactoryMaker.getSingletonFactory(F)},"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function b(w){w=w||{};var F,L,D,p,f,g=this.context,y=Object(t.default)(g).getInstance(),M=[],U=w.metricsConstants;function V(){var O=function R(){try{return Object.keys(M).map(function(O){return M[O]}).reduce(function(O,T){return O.level<T.level?O:T})}catch{return}}();O&&f!==O.t&&(f=O.t,F.report(D,O))}return{initialize:function k(O,T,N){T&&(L=y.validateN(N),F=T,D=y.reconstructFullMetricName(O,N),p=setInterval(V,L))},reset:function P(){clearInterval(p),p=null,L=0,F=null,f=null},handleNewMetric:function x(O,T,N){O===U.BUFFER_LEVEL&&(M[N]=T)}}}b.__dashjs_factory_name="BufferLevelHandler",S.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js":
/*!********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js ***!
                  \********************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");S.default=dashjs.FactoryMaker.getClassFactory(function b(w){var F,L=(w=w||{}).eventBus,D=w.metricsConstants;function p(){L.off(t.default.METRICS_INITIALISATION_COMPLETE,p,this),L.trigger(t.default.BECAME_REPORTING_PLAYER)}return{initialize:function f(M,U){U&&(F=U,L.on(t.default.METRICS_INITIALISATION_COMPLETE,p,this))},reset:function g(){F=null},handleNewMetric:function y(M,U){M===D.DVB_ERRORS&&F&&F.report(M,U)}}})},"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js ***!
                  \************************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(){var w,E;return{initialize:function F(p,f){w=p,E=f},reset:function L(){E=null,w=void 0},handleNewMetric:function D(p,f){p===w&&E&&E.report(w,f)}}}c.r(S),t.__dashjs_factory_name="GenericMetricHandler",S.default=dashjs.FactoryMaker.getClassFactory(t)},"./src/streaming/metrics/metrics/handlers/HttpListHandler.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/HttpListHandler.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function b(w){w=w||{};var F,L,D,p,f,g=[],y=Object(t.default)(this.context).getInstance(),M=w.metricsConstants;function U(){g.length&&F&&F.report(p,g),g=[]}return{initialize:function R(P,x,O,T){x&&(L=y.validateN(O),F=x,T&&T.length&&(D=T),p=y.reconstructFullMetricName(P,O,T),f=setInterval(U,L))},reset:function V(){clearInterval(f),f=null,L=null,D=null,g=[],F=null},handleNewMetric:function k(P,x){P===M.HTTP_REQUEST&&(!D||D===x.type)&&g.push(x)}}}b.__dashjs_factory_name="HttpListHandler",S.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/reporting/ReportingFactory.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/ReportingFactory.js ***!
                  \*************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./reporters/DVBReporting */
"./src/streaming/metrics/reporting/reporters/DVBReporting.js");function b(w){var L,E={"urn:dvb:dash:reporting:2014":t.default},F=this.context,D=(w=w||{}).debug?w.debug.getLogger(L):{},p=w.metricsConstants,f=w.mediaPlayerModel||{};return{create:function g(U,R){var V;try{(V=E[U.schemeIdUri](F).create({metricsConstants:p,mediaPlayerModel:f})).initialize(U,R)}catch(k){V=null,D.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(U.schemeIdUri," (").concat(k.message,")"))}return V},register:function y(U,R){E[U]=R},unregister:function M(U){delete E[U]}}}b.__dashjs_factory_name="ReportingFactory",S.default=dashjs.FactoryMaker.getSingletonFactory(b)},"./src/streaming/metrics/reporting/reporters/DVBReporting.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/reporters/DVBReporting.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../utils/MetricSerialiser */
"./src/streaming/metrics/utils/MetricSerialiser.js"),b=c(
/*! ../../utils/RNG */
"./src/streaming/metrics/utils/RNG.js"),w=c(
/*! ../../../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function E(F){var L,p,f,g,y,M,U,R,D=this.context,P=[],x=(F=F||{}).metricsConstants;function B(){y=!1,M=!1,U=null,R=null}return L={report:function N(J,ce){Array.isArray(ce)||(ce=[ce]),M&&R.isEnabled()&&ce.forEach(function(Fe){var q=p.serialise(Fe);J!==x.DVB_ERRORS&&(q="metricname=".concat(J,"&").concat(q)),function T(J,ce,Fe){var q=new XMLHttpRequest;q.withCredentials=f.getXHRWithCredentialsForType(x.HTTP_REQUEST_DVB_REPORTING_TYPE);var le=function(){var _e=P.indexOf(q);-1!==_e&&(P.splice(_e,1),q.status>=200&&q.status<300?ce&&ce():Fe&&Fe())};P.push(q);try{q.open("GET",J),q.onloadend=le,q.onerror=le,q.send()}catch{q.onerror()}}(q="".concat(U,"?").concat(q),null,function(){M=!1})})},initialize:function C(J,ce){var Fe;if(R=ce,!(U=J.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");y||((Fe=J.dvb_probability)&&(1e3===Fe||Fe/1e3>=g.random())&&(M=!0),y=!0)},reset:function Y(){B()}},function O(){p=Object(t.default)(D).getInstance(),g=Object(b.default)(D).getInstance(),f=Object(w.default)(D).getInstance(),B()}(),L}E.__dashjs_factory_name="DVBReporting",S.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/utils/DVBErrorsTranslator.js":
/*!************************************************************!*\
                  !*** ./src/streaming/metrics/utils/DVBErrorsTranslator.js ***!
                  \************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/DVBErrors */
"./src/streaming/metrics/vo/DVBErrors.js"),b=c(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function w(E){var F,L,D=(E=E||{}).eventBus,p=E.dashMetrics,f=E.metricsConstants,g=E.events;function y(T){var N=new t.default;if(L){for(var C in T)T.hasOwnProperty(C)&&(N[C]=T[C]);N.mpdurl||(N.mpdurl=L.originalUrl||L.url),N.terror||(N.terror=new Date),p.addDVBErrors(N)}}function M(T){T.error||(L=T.manifest)}function U(T){y({errorcode:t.default.BASE_URL_CHANGED,servicelocation:T.entry})}function R(){y({errorcode:t.default.BECAME_REPORTER})}function k(T){T.metric===f.HTTP_REQUEST&&function V(T){(0===T.responsecode||null==T.responsecode||T.responsecode>=400||T.responsecode<100||T.responsecode>=600)&&y({errorcode:T.responsecode||t.default.CONNECTION_ERROR,url:T.url,terror:T.tresponse,servicelocation:T._serviceLocation})}(T.value)}function P(T){var C;switch(T.error?T.error.code:0){case MediaError.MEDIA_ERR_NETWORK:C=t.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:C=t.default.CORRUPT_MEDIA_OTHER;break;default:return}y({errorcode:C})}return F={initialise:function x(){D.on(g.MANIFEST_UPDATED,M,F),D.on(g.SERVICE_LOCATION_BLACKLIST_CHANGED,U,F),D.on(g.METRIC_ADDED,k,F),D.on(g.METRIC_UPDATED,k,F),D.on(g.PLAYBACK_ERROR,P,F),D.on(b.default.BECAME_REPORTING_PLAYER,R,F)},reset:function O(){D.off(g.MANIFEST_UPDATED,M,F),D.off(g.SERVICE_LOCATION_BLACKLIST_CHANGED,U,F),D.off(g.METRIC_ADDED,k,F),D.off(g.METRIC_UPDATED,k,F),D.off(g.PLAYBACK_ERROR,P,F),D.off(b.default.BECAME_REPORTING_PLAYER,R,F)}}}w.__dashjs_factory_name="DVBErrorsTranslator",S.default=dashjs.FactoryMaker.getSingletonFactory(w)},"./src/streaming/metrics/utils/HandlerHelpers.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/metrics/utils/HandlerHelpers.js ***!
                  \*******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(){return{reconstructFullMetricName:function(w,E,F){var L=w;return E&&(L+="("+E,F&&F.length&&(L+=","+F),L+=")"),L},validateN:function(w){if(!w)throw new Error("missing n");if(isNaN(w))throw new Error("n is NaN");if(w<0)throw new Error("n must be positive");return w}}}c.r(S),t.__dashjs_factory_name="HandlerHelpers",S.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/ManifestParsing.js":
/*!********************************************************!*\
                  !*** ./src/streaming/metrics/utils/ManifestParsing.js ***!
                  \********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/Metrics */
"./src/streaming/metrics/vo/Metrics.js"),b=c(
/*! ../vo/Range */
"./src/streaming/metrics/vo/Range.js"),w=c(
/*! ../vo/Reporting */
"./src/streaming/metrics/vo/Reporting.js");function E(F){var D=(F=F||{}).adapter,p=F.constants;return{getMetrics:function g(y){var M=[];return y&&y.Metrics_asArray&&y.Metrics_asArray.forEach(function(U){var R=new t.default,V=D.getIsDynamic(y);U.hasOwnProperty("metrics")&&(R.metrics=U.metrics,U.Range_asArray&&U.Range_asArray.forEach(function(k){var P=new b.default;P.starttime=function f(y,M,U){var R,V,k=0;return M?k=D.getAvailabilityStartTime(y)/1e3:(R=D.getRegularPeriods(y)).length&&(k=R[0].start),V=k,U&&U.hasOwnProperty(p.START_TIME)&&(V+=U.starttime),V}(y,V,k),P.duration=k.hasOwnProperty("duration")?k.duration:D.getDuration(y),P._useWallClockTime=V,R.Range.push(P)}),U.Reporting_asArray&&(U.Reporting_asArray.forEach(function(k){var P=new w.default;k.hasOwnProperty(p.SCHEME_ID_URI)&&(P.schemeIdUri=k.schemeIdUri,k.hasOwnProperty("value")&&(P.value=k.value),k.hasOwnProperty(p.DVB_REPORTING_URL)&&(P.dvb_reportingUrl=k[p.DVB_REPORTING_URL]),k.hasOwnProperty(p.DVB_PROBABILITY)&&(P.dvb_probability=k[p.DVB_PROBABILITY]),R.Reporting.push(P))}),M.push(R)))}),M}}}E.__dashjs_factory_name="ManifestParsing",S.default=dashjs.FactoryMaker.getSingletonFactory(E)},"./src/streaming/metrics/utils/MetricSerialiser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/utils/MetricSerialiser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(){return{serialise:function b(w){var L,D,E=[],F=[];for(L in w)if(w.hasOwnProperty(L)&&0!==L.indexOf("_")){if(null==(D=w[L])&&(D=""),Array.isArray(D)){if(!D.length)continue;F=[],D.forEach(function(p){var f="Object"!==Object.prototype.toString.call(p).slice(8,-1);F.push(f?p:b(p))}),D=F.map(encodeURIComponent).join(",")}else"string"==typeof D?D=encodeURIComponent(D):D instanceof Date?D=D.toISOString():"number"==typeof D&&(D=Math.round(D));E.push(L+"="+D)}return E.join("&")}}}c.r(S),t.__dashjs_factory_name="MetricSerialiser",S.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/RNG.js":
/*!********************************************!*\
                  !*** ./src/streaming/metrics/utils/RNG.js ***!
                  \********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(){var L,D,p,b=window.crypto||window.msCrypto,w=Uint32Array,E=Math.pow(2,8*w.BYTES_PER_ELEMENT)-1,F=10;function f(){b&&(L||(L=new w(F)),b.getRandomValues(L),D=0)}return p={random:function g(y,M){var U;return y||(y=0),M||(M=1),b?(D===L.length&&f(),U=L[D]/E,D+=1):U=Math.random(),U*(M-y)+y}},f(),p}c.r(S),t.__dashjs_factory_name="RNG",S.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/vo/DVBErrors.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/DVBErrors.js ***!
                  \***********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S);var D=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null});D.SSL_CONNECTION_FAILED_PREFIX="SSL",D.DNS_RESOLUTION_FAILED="C00",D.HOST_UNREACHABLE="C01",D.CONNECTION_REFUSED="C02",D.CONNECTION_ERROR="C03",D.CORRUPT_MEDIA_ISOBMFF="M00",D.CORRUPT_MEDIA_OTHER="M01",D.BASE_URL_CHANGED="F00",D.BECAME_REPORTER="S00",S.default=D},"./src/streaming/metrics/vo/Metrics.js":
/*!*********************************************!*\
                  !*** ./src/streaming/metrics/vo/Metrics.js ***!
                  \*********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.metrics="",this.Range=[],this.Reporting=[]})},"./src/streaming/metrics/vo/Range.js":
/*!*******************************************!*\
                  !*** ./src/streaming/metrics/vo/Range.js ***!
                  \*******************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1})},"./src/streaming/metrics/vo/Reporting.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/Reporting.js ***!
                  \***********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function b(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,E(M.key),M)}}function w(f,g,y){return g&&b(f.prototype,g),y&&b(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}function E(f){var g=function F(f,g){if("object"!==t(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==t(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S);S.default=w(function f(){(function L(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3})},"./src/streaming/models/BaseURLTreeModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/BaseURLTreeModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(M){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(M)}function E(M,U){for(var R=0;R<U.length;R++){var V=U[R];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(M,L(V.key),V)}}function F(M,U,R){return U&&E(M.prototype,U),R&&E(M,R),Object.defineProperty(M,"prototype",{writable:!1}),M}function L(M){var U=function D(M,U){if("object"!==w(M)||null===M)return M;var R=M[Symbol.toPrimitive];if(void 0!==R){var V=R.call(M,U||"default");if("object"!==w(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===U?String:Number)(M)}(M,"string");return"symbol"===w(U)?U:String(U)}var f=NaN,g=F(function M(U,R){(function p(M,U){if(!(M instanceof U))throw new TypeError("Cannot call a class as a function")})(this,M),this.data={baseUrls:U||null,selectedIdx:R||f},this.children=[]});function y(){var M,U,R,V=this.context,k=Object(t.default)(V).getInstance();function T(Fe,q,le){var K=R.getBaseURLsFromElement(le);Fe[q]?k.areEqual(K,Fe[q].data.baseUrls)||(Fe[q].data.baseUrls=K,Fe[q].data.selectedIdx=f):Fe[q]=new g(K)}function N(Fe){!function O(){if(!R||!R.hasOwnProperty("getBaseURLsFromElement")||!R.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var q=R.getBaseURLsFromElement(Fe);k.areEqual(q,U.data.baseUrls)||(U.data.baseUrls=q,U.data.selectedIdx=f),Fe&&Fe.Period_asArray&&Fe.Period_asArray.forEach(function(le,K){T(U.children,K,le),le.AdaptationSet_asArray&&le.AdaptationSet_asArray.forEach(function(_e,se){T(U.children[K].children,se,_e),_e.Representation_asArray&&_e.Representation_asArray.sort(R.getRepresentationSortFunction()).forEach(function(me,De){T(U.children[K].children[se].children,De,me)})})})}function C(Fe,q){var le=q||U;Fe(le.data),le.children&&le.children.forEach(function(K){return C(Fe,K)})}function J(){U=new g}return M={reset:J,update:function Y(Fe){N(Fe)},getForPath:function ce(Fe){var q=U,le=[q.data];return Fe&&Fe.forEach(function(K){(q=q.children[K])&&le.push(q.data)}),le.filter(function(K){return K.baseUrls.length})},invalidateSelectedIndexes:function B(Fe){C(function(q){isNaN(q.selectedIdx)||Fe===q.baseUrls[q.selectedIdx].serviceLocation&&(q.selectedIdx=f)})},setConfig:function x(Fe){Fe.adapter&&(R=Fe.adapter)}},function P(){J()}(),M}y.__dashjs_factory_name="BaseURLTreeModel",S.default=b.default.getClassFactory(y)},"./src/streaming/models/CmcdModel.js":
/*!*******************************************!*\
                  !*** ./src/streaming/models/CmcdModel.js ***!
                  \*******************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),w=c(
/*! ../metrics/MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),L=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),D=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),p=c(
/*! ../../dash/models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),f=c(
/*! ../../core/Utils */
"./src/core/Utils.js");function g(T,N){var C=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!C){if(Array.isArray(T)||(C=function y(T,N){if(T){if("string"==typeof T)return M(T,N);var C=Object.prototype.toString.call(T).slice(8,-1);if("Object"===C&&T.constructor&&(C=T.constructor.name),"Map"===C||"Set"===C)return Array.from(T);if("Arguments"===C||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return M(T,N)}}(T))||N&&T&&"number"==typeof T.length){C&&(T=C);var B=0,Y=function(){};return{s:Y,n:function(){return B>=T.length?{done:!0}:{done:!1,value:T[B++]}},e:function(le){throw le},f:Y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Fe,J=!0,ce=!1;return{s:function(){C=C.call(T)},n:function(){var le=C.next();return J=le.done,le},e:function(le){ce=!0,Fe=le},f:function(){try{!J&&null!=C.return&&C.return()}finally{if(ce)throw Fe}}}}function M(T,N){(null==N||N>T.length)&&(N=T.length);for(var C=0,B=new Array(N);C<N;C++)B[C]=T[C];return B}var V_MANIFEST="m",V_AUDIO="a",V_VIDEO="v",V_INIT="i",V_CAPTION="c",V_ISOBMFF_TEXT_TRACK="tt",V_ENCRYPTION_KEY="k",V_OTHER="o",k_DASH="d",k_MSS="s",P_VOD="v",P_LIVE="l";function O(){var T,N,C,B,Y,J,ce,Fe,q,le,K=this.context,_e=Object(t.default)(K).getInstance(),se=Object(F.default)(K).getInstance();function he(){C={pr:1,nor:null,st:null,sf:null,sid:"".concat(f.default.generateUuid()),cid:null},q={},Fe={},le={},Ie()}function Re(){Ie()}function Ie(){if(J){var rt=J.getStreamController();if(rt&&"function"==typeof rt.getActiveStream){var _t=rt.getActiveStream();_t&&(ce=_t.getProcessors())}}}function ke(rt,_t){var jt,Bt={},At=g(_t);try{for(At.s();!(jt=At.n()).done;){var Qt=jt.value;rt[Qt]&&(Bt[Qt]=rt[Qt])}}catch(cn){At.e(cn)}finally{At.f()}return Bt}function Ke(rt){var _t=se.get().streaming.cmcd.enabledKeys;return rt.filter(function(Bt){return _t.includes(Bt)})}function st(rt){try{return rt.type===D.HTTPRequest.MPD_TYPE?function Ne(){var rt=Q();return rt.ot=V_MANIFEST,rt}():rt.type===D.HTTPRequest.MEDIA_SEGMENT_TYPE?(function W(rt){le.hasOwnProperty(rt)||(le[rt]=!1),Fe.hasOwnProperty(rt)||(Fe[rt]=!1),q.hasOwnProperty(rt)||(q[rt]=!1)}(rt.mediaType),function Se(rt){var en,_t=Q(),Bt=function X(rt){try{return parseInt(rt.mediaInfo.bitrateList[rt.quality].bandwidth/1e3)}catch{return null}}(rt),At=function ie(rt){try{return isNaN(rt.duration)?null:Math.round(1e3*rt.duration)}catch{return null}}(rt),jt=function re(rt){try{return 100*parseInt(B.getThroughputHistory().getSafeAverageThroughput(rt)/100)}catch{return null}}(rt.mediaType),Qt=function te(rt){try{var _t=C.pr,Bt=Y.getCurrentBufferLevel(rt);return isNaN(_t)||isNaN(Bt)?null:100*parseInt(Bt/_t*10)}catch{return null}}(rt.mediaType),cn=ee(rt.mediaType),dn=function $(rt){try{var _t=B.getTopBitrateInfoFor(rt);return Math.round(_t.bitrate/1e3)}catch{return null}}(rt.mediaType),Gt=C.pr,Cn=function Ge(rt){if(ce&&0!==ce.length){var Bt,_t=g(ce);try{for(_t.s();!(Bt=_t.n()).done;){var At=Bt.value;if(At.getType()===rt)return At.probeNextRequest()}}catch(jt){_t.e(jt)}finally{_t.f()}}}(rt.mediaType);rt.mediaType===L.default.VIDEO&&(en=V_VIDEO),rt.mediaType===L.default.AUDIO&&(en=V_AUDIO),rt.mediaType===L.default.TEXT&&(en="application/mp4"===rt.mediaInfo.mimeType?V_ISOBMFF_TEXT_TRACK:V_CAPTION);var xt=se.get().streaming.cmcd.rtp;return xt||(xt=function at(rt){var _t=J.getPlaybackRate();_t||(_t=1);var Bt=rt.quality,jt=rt.mediaInfo,Qt=rt.duration,cn=ee(rt.mediaType);0===cn&&(cn=500);var en=jt.bitrateList[Bt].bandwidth*Qt/1e3/(cn/_t/1e3),xt=se.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(se.get().streaming.cmcd.rtpSafetyFactor)?se.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(en*xt/100)+1)}(rt)),_t.rtp=xt,Cn&&(rt.url!==Cn.url?_t.nor=encodeURIComponent(f.default.getRelativeUrl(rt.url,Cn.url)):Cn.range&&(_t.nrr=Cn.range)),Bt&&(_t.br=Bt),en&&(_t.ot=en),isNaN(At)||(_t.d=At),isNaN(jt)||(_t.mtp=jt),isNaN(Qt)||(_t.dl=Qt),isNaN(cn)||(_t.bl=cn),isNaN(dn)||(_t.tb=dn),!isNaN(Gt)&&1!==Gt&&(_t.pr=Gt),q[rt.mediaType]&&(_t.bs=!0,q[rt.mediaType]=!1),(Fe[rt.mediaType]||!le[rt.mediaType])&&(_t.su=!0,Fe[rt.mediaType]=!1,le[rt.mediaType]=!0),_t}(rt)):rt.type===D.HTTPRequest.INIT_SEGMENT_TYPE?function ae(){var rt=Q();return rt.ot=V_INIT,rt.su=!0,rt}():rt.type===D.HTTPRequest.OTHER_TYPE||rt.type===D.HTTPRequest.XLINK_EXPANSION_TYPE?function ve(){var rt=Q();return rt.ot=V_OTHER,rt}():rt.type===D.HTTPRequest.LICENSE?function Qe(rt){var _t=Q();return _t.ot=V_ENCRYPTION_KEY,_t}():null}catch{return null}}function Q(){var rt={},_t=se.get().streaming.cmcd.cid?se.get().streaming.cmcd.cid:C.cid;return rt.v=1,rt.sid=se.get().streaming.cmcd.sid?se.get().streaming.cmcd.sid:C.sid,rt.sid="".concat(rt.sid),_t&&(rt.cid="".concat(_t)),!isNaN(C.pr)&&1!==C.pr&&null!==C.pr&&(rt.pr=C.pr),C.st&&(rt.st=C.st),C.sf&&(rt.sf=C.sf),rt}function ee(rt){try{var _t=Y.getCurrentBufferLevel(rt);return isNaN(_t)?null:100*parseInt(10*_t)}catch{return null}}function fe(rt){try{C.pr=rt.playbackRate}catch{}}function ye(rt){try{var _t=T.getIsDynamic(rt.data),At=rt.protocol&&"MSS"===rt.protocol?k_MSS:k_DASH;C.st="".concat(_t?P_LIVE:P_VOD),C.sf="".concat(At)}catch{}}function ue(rt){try{rt.state&&rt.mediaType&&rt.state===b.default.BUFFER_EMPTY&&(q[rt.mediaType]||(q[rt.mediaType]=!0),Fe[rt.mediaType]||(Fe[rt.mediaType]=!0))}catch{}}function Me(){for(var rt in q)q.hasOwnProperty(rt)&&(q[rt]=!0);for(var _t in Fe)Fe.hasOwnProperty(_t)&&(Fe[_t]=!0)}function Ye(rt){try{if(!rt)return null;var _t=Object.keys(rt).sort(function(jt,Qt){return jt.localeCompare(Qt)}),Bt=_t.length,At=_t.reduce(function(jt,Qt,cn){return"v"===Qt&&1===rt[Qt]||(jt+="string"==typeof rt[Qt]&&"ot"!==Qt&&"sf"!==Qt&&"st"!==Qt?"".concat(Qt,"=").concat(JSON.stringify(rt[Qt])):"".concat(Qt,"=").concat(rt[Qt]),cn<Bt-1&&(jt+=",")),jt},"");return(At=At.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return N={getQueryParameter:function ge(rt){try{if(se.get().streaming.cmcd&&se.get().streaming.cmcd.enabled){var _t=st(rt),At=Ye(function Ue(rt){try{var _t=se.get().streaming.cmcd.enabledKeys;return Object.keys(rt).filter(function(Bt){return _t.includes(Bt)}).reduce(function(Bt,At){return Bt[At]=rt[At],Bt},{})}catch{return rt}}(_t));return _e.trigger(w.default.CMCD_DATA_GENERATED,{url:rt.url,mediaType:rt.mediaType,cmcdData:_t,cmcdString:At}),{key:"CMCD",value:At}}return null}catch{return null}},getHeaderParameters:function we(rt){try{if(se.get().streaming.cmcd&&se.get().streaming.cmcd.enabled){var _t=st(rt),Bt=ke(_t,Ke(["br","d","ot","tb"])),At=ke(_t,Ke(["bl","dl","mtp","nor","nrr","su"])),jt=ke(_t,Ke(["bs","rtp"])),Qt=ke(_t,Ke(["cid","pr","sf","sid","st","v"])),cn={"CMCD-Object":Ye(Bt),"CMCD-Request":Ye(At),"CMCD-Status":Ye(jt),"CMCD-Session":Ye(Qt)};return _e.trigger(w.default.CMCD_DATA_GENERATED,{url:rt.url,mediaType:rt.mediaType,cmcdData:_t,headers:cn}),cn}return null}catch{return null}},setConfig:function Le(rt){rt&&(rt.abrController&&(B=rt.abrController),rt.dashMetrics&&(Y=rt.dashMetrics),rt.playbackController&&(J=rt.playbackController))},reset:function ct(){_e.off(b.default.PLAYBACK_RATE_CHANGED,fe,this),_e.off(b.default.MANIFEST_LOADED,ye,this),_e.off(b.default.BUFFER_LEVEL_STATE_CHANGED,ue,N),_e.off(b.default.PLAYBACK_SEEKED,Me,N),he()},initialize:function De(){_e.on(b.default.PLAYBACK_RATE_CHANGED,fe,N),_e.on(b.default.MANIFEST_LOADED,ye,N),_e.on(b.default.BUFFER_LEVEL_STATE_CHANGED,ue,N),_e.on(b.default.PLAYBACK_SEEKED,Me,N),_e.on(b.default.PERIOD_SWITCH_COMPLETED,Re,N)}},function me(){T=Object(p.default)(K).getInstance(),he()}(),N}O.__dashjs_factory_name="CmcdModel",S.default=E.default.getSingletonFactory(O)},"./src/streaming/models/CustomParametersModel.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/models/CustomParametersModel.js ***!
                  \*******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../dash/vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),E=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),F=c(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),L=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function p(){var f,g,y,M,U,R,V,k,P=this.context,x=Object(w.default)(P).getInstance();function T(){M=[],U=[],R=[],k=[],V=null,g=[]}function Le(W,ae){var ve=-1;W.some(function(Q,X){if(Q===ae)return ve=X,!0}),!(ve<0)&&W.splice(ve,1)}function he(W){var ae;for(ae=0;ae<k.length;ae++)if(k[ae].rulename===W)return ae;return-1}function ke(W,ae){Ke(W,ae);var ve=new t.default;ve.schemeIdUri=W,ve.value=ae,g.push(ve)}function Ke(W,ae){Object(E.checkParameterType)(W,"string"),Object(E.checkParameterType)(ae,"string"),g.forEach(function(ve,Q){ve.schemeIdUri===W&&ve.value===ae&&g.splice(Q,1)})}return f={getCustomInitialTrackSelectionFunction:function J(){return V},setCustomInitialTrackSelectionFunction:function B(W){V=W},resetCustomInitialTrackSelectionFunction:function Y(){V=null},getLicenseResponseFilters:function Fe(){return U},getLicenseRequestFilters:function ce(){return M},getCustomCapabilitiesFilters:function se(){return R},registerCustomCapabilitiesFilter:function me(W){R.push(W)},registerLicenseResponseFilter:function le(W){U.push(W)},registerLicenseRequestFilter:function q(W){M.push(W)},unregisterCustomCapabilitiesFilter:function De(W){Le(R,W)},unregisterLicenseResponseFilter:function _e(W){Le(U,W)},unregisterLicenseRequestFilter:function K(W){Le(M,W)},addAbrCustomRule:function Re(W,ae,ve){if("string"!=typeof W||W!==F.default.ABANDON_FRAGMENT_RULES&&W!==F.default.QUALITY_SWITCH_RULES||"string"!=typeof ae)throw L.default.BAD_ARGUMENT_ERROR;var Q=he(ae);-1===Q?k.push({type:W,rulename:ae,rule:ve}):(k[Q].type=W,k[Q].rule=ve)},removeAllAbrCustomRule:function ge(){k=[]},removeAbrCustomRule:function Ie(W){if(W){var ae=he(W);-1!==ae&&k.splice(ae,1)}else k=[]},getAbrCustomRules:function Ue(){return k},addUTCTimingSource:ke,removeUTCTimingSource:Ke,getUTCTimingSources:function we(){return g},clearDefaultUTCTimingSources:function st(){g=[]},restoreDefaultUTCTimingSources:function Qe(){var W=x.get().streaming.utcSynchronization.defaultTimingSource;ke(W.scheme,W.value)},setXHRWithCredentialsForType:function Ne(W,ae){W?y[W]=!!ae:Object.keys(y).forEach(function(ve){Ne(ve,ae)})},getXHRWithCredentialsForType:function Se(W){var ae=y[W];return void 0===ae?y.default:ae},setConfig:function C(){},reset:function N(){T()}},function O(){y={default:false},T()}(),f}p.__dashjs_factory_name="CustomParametersModel",S.default=b.default.getSingletonFactory(p)},"./src/streaming/models/FragmentModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/FragmentModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),w="loading",E="executed",L="failed";function D(f){var P,x,O,T,g=(f=f||{}).eventBus,y=f.events,M=f.dashMetrics,U=f.fragmentLoader,R=f.debug,V=f.streamInfo,k=f.type;function Y(Qe){var X;return!!Qe&&(X=!1,O.some(function($){if(function(Q,X){return!isNaN(Q.index)&&Q.startTime===X.startTime&&Q.adaptationIndex===X.adaptationIndex&&Q.type===X.type}(Qe,$)||function(Q,X){return isNaN(Q.index)&&isNaN(X.index)&&Q.quality===X.quality}(Qe,$)||function(Q,X){return Q.action===b.default.ACTION_COMPLETE&&Q.action===X.action}(Qe,$))return X=!0}),X)}function Fe(Qe){return isNaN(Qe.duration)?.25:Math.min(Qe.duration/8,.5)}function q(Qe){O=O.filter(function(Ne){var Se=Fe(Ne);return isNaN(Ne.startTime)||void 0!==Qe&&Ne.startTime>=Qe-Se})}function K(Qe,Ne){Ne<=Qe+.5||(O=O.filter(function(Se){var W=Fe(Se);return isNaN(Se.startTime)||Se.startTime>=Ne-W||isNaN(Se.duration)||Se.startTime+Se.duration<=Qe+W}))}function Le(Qe,Ne,Se){for(var ae=Qe.length-1;ae>=0;ae--){var ve=Qe[ae],Q=ve.startTime,X=Q+ve.duration;if(Se=isNaN(Se)?Fe(ve):Se,!isNaN(Q)&&!isNaN(X)&&Ne+Se>=Q&&Ne-Se<X||isNaN(Q)&&isNaN(Ne))return ve}return null}function Ie(Qe,Ne){M.addSchedulingInfo(Qe,Ne),M.addRequestsQueue(Qe.mediaType,T,O)}function ge(Qe){Qe.sender===U&&(T.splice(T.indexOf(Qe.request),1),Qe.response&&!Qe.error&&O.push(Qe.request),Ie(Qe.request,Qe.error?L:E),g.trigger(y.FRAGMENT_LOADING_COMPLETED,{request:Qe.request,response:Qe.response,error:Qe.error,sender:this},{streamId:V.id,mediaType:k}))}function Ue(Qe){Qe.sender===U&&g.trigger(y.FRAGMENT_LOADING_PROGRESS,{request:Qe.request,response:Qe.response,error:Qe.error,sender:this},{streamId:V.id,mediaType:k})}function ke(Qe){Qe.sender===U&&g.trigger(y.FRAGMENT_LOADING_ABANDONED,{request:Qe.request},{streamId:V.id,mediaType:k})}function we(){O=[],T=[]}return P={getStreamId:function C(){return V.id},getType:function B(){return k},getRequests:function ce(Qe){var Se=[];return(Qe?Qe.state instanceof Array?Qe.state:[Qe.state]:[]).forEach(function(W){var ae=function Re(Qe){var Ne;switch(Qe){case w:Ne=T;break;case E:Ne=O;break;default:Ne=[]}return Ne}(W);Se=Se.concat(function he(Qe,Ne){return Ne.hasOwnProperty("time")?[Le(Qe,Ne.time,Ne.threshold)]:Qe.filter(function(Se){for(var W in Ne)if("state"!==W&&Ne.hasOwnProperty(W)&&Se[W]!=Ne[W])return!1;return!0})}(ae,Qe))}),Se},isFragmentLoaded:Y,isFragmentLoadedOrPending:function J(Qe){var W,Ne=!1,Se=0;if(!(Ne=Y(Qe)))for(Se=0;Se<T.length;Se++)Qe.url===(W=T[Se]).url&&Qe.startTime===W.startTime&&(Ne=!0);return Ne},removeExecutedRequestsBeforeTime:q,removeExecutedRequestsAfterTime:function le(Qe){O=O.filter(function(Ne){return isNaN(Ne.startTime)||void 0!==Qe&&Ne.startTime<Qe})},syncExecutedRequestsWithBufferedRange:function _e(Qe,Ne){if(Qe&&0!==Qe.length){for(var Se=0,W=0,ae=Qe.length;W<ae;W++)K(Se,Qe.start(W)),Se=Qe.end(W);Ne>0&&K(Se,Ne)}else q()},abortRequests:function se(){x.debug("abort requests"),U.abort(),T=[]},executeRequest:function me(Qe){Qe.action===b.default.ACTION_DOWNLOAD?(Ie(Qe,w),T.push(Qe),function De(Qe){g.trigger(y.FRAGMENT_LOADING_STARTED,{request:Qe},{streamId:V.id,mediaType:k}),U.load(Qe)}(Qe)):x.warn("Unknown request action.")},reset:function Ke(){g.off(y.LOADING_COMPLETED,ge,this),g.off(y.LOADING_DATA_PROGRESS,Ue,this),g.off(y.LOADING_ABANDONED,ke,this),U&&U.reset(),we()},resetInitialSettings:we,addExecutedRequest:function st(Qe){O.push(Qe)}},function N(){x=R.getLogger(P),we(),g.on(y.LOADING_COMPLETED,ge,P),g.on(y.LOADING_DATA_PROGRESS,Ue,P),g.on(y.LOADING_ABANDONED,ke,P)}(),P}D.__dashjs_factory_name="FragmentModel";var p=t.default.getClassFactory(D);p.FRAGMENT_MODEL_LOADING=w,p.FRAGMENT_MODEL_EXECUTED=E,p.FRAGMENT_MODEL_CANCELED="canceled",p.FRAGMENT_MODEL_FAILED=L,t.default.updateClassFactory(D.__dashjs_factory_name,p),S.default=p},"./src/streaming/models/LowLatencyThroughputModel.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/models/LowLatencyThroughputModel.js ***!
                  \***********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(){var g,y,f=this.context,M={};function U(){y=Object(t.default)(f).getInstance().getLogger(g)}function R(O){for(var T={},N=0,C=0,B=0,Y=0,J=O.length,ce=0;ce<J;++ce)N+=O[ce].chunkDownloadTimeRelativeMS,C+=O[ce].bufferLevel,B+=O[ce].chunkDownloadTimeRelativeMS*O[ce].bufferLevel,Y+=O[ce].chunkDownloadTimeRelativeMS*O[ce].chunkDownloadTimeRelativeMS;return T.m=(B-N*C/J)/(Y-N*N/J),T.b=C/J-T.m*N/J,function(Fe){return T.m*Fe+T.b}}function V(O){var N,T=!0,C=O.reduce(function(B,Y){return B+Y.bufferLevelAtSegmentEnd},0)/O.length;return O.forEach(function(B){Math.abs(B.bufferLevelAtSegmentEnd/B.bufferLevelAtSegmentStart)<.95&&(T=!1),B.bufferLevelAtSegmentEnd/C<.8&&(T=!1),N?N>B.bitrate&&(T=!1):N=B.bitrate}),T}return g={setup:U,addMeasurement:function x(O,T,N,C,B){O&&O.mediaType&&!M[O.mediaType]&&(M[O.mediaType]=[]);var Y=O.mediaInfo.bitrateList.find(function(J){return J.id===O.representationId});M[O.mediaType].push({index:O.index,repId:O.representationId,mediaType:O.mediaType,requestTimeMS:C,adjustedAvailabilityStartTimeMS:O.availabilityStartTime.getTime(),segDurationMS:1e3*O.duration,chunksDurationMS:N.reduce(function(J,ce){return J+ce.chunkDownloadDurationMS},0),segmentBytes:N.reduce(function(J,ce){return J+ce.chunkBytes},0),bitrate:Y&&Y.bandwidth,bitrateList:O.mediaInfo.bitrateList,chunkMeasurements:N,fetchDownloadDurationMS:T,throughputCapacityDelayMS:B,getEstimatedBufferLevel:R(N.slice(1))}),M[O.mediaType].length>10&&M[O.mediaType].shift()},getThroughputCapacityDelayMS:function P(O,T){var N=M[O.mediaType]&&M[O.mediaType].slice(-3);return!N||N.length<3||!V(N)?0:T/4>250?250:T/4},getEstimatedDownloadDurationMS:function k(O){var T=M[O.mediaType].slice(-1).pop(),N=M[O.mediaType].slice(-3),C=T.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;T.bufferLevelAtSegmentStart=T.getEstimatedBufferLevel(C/2),T.bufferLevelAtSegmentEnd=T.getEstimatedBufferLevel(C);var B=V(N),Y=B?.6:.8;if(T.isBufferStable&&1.05*T.segDurationMS<T.fetchDownloadDurationMS)return T.fetchDownloadDurationMS;if(!B||T.segDurationMS<T.fetchDownloadDurationMS||T.adjustedAvailabilityStartTimeMS<=T.requestTimeMS+T.throughputCapacityDelayMS-T.segDurationMS)return.8*T.fetchDownloadDurationMS;for(var J=T.requestTimeMS+T.throughputCapacityDelayMS-T.adjustedAvailabilityStartTimeMS,ce=0,Fe=0,q=0,le=0;le<T.chunkMeasurements.length;le++){var K=T.chunkMeasurements[le];if(J<Fe+K.chunkDownloadDurationMS)break;Fe+=K.chunkDownloadDurationMS,ce+=K.chunkBytes,q++}if(J<0&&y.warn("request time was before adjusted availibitly start time"),ce&&Fe&&q>.2*T.chunkMeasurements.length){var se=T.segmentBytes/(ce/Fe);return T.fetchDownloadDurationMS<se?T.fetchDownloadDurationMS*Y:se*Y}var me=T.bitrate;return T.bitrateList.some(function(De){if(De.bandwidth>T.bitrate)return me=De.bandwidth,!0}),me===T.bitrate?T.fetchDownloadDurationMS*Y:Y*T.segmentBytes*8*1e3/me}},U(),g}w.__dashjs_factory_name="LowLatencyThroughputModel",S.default=b.default.getSingletonFactory(w)},"./src/streaming/models/ManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/ManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var p,F=this.context,L=Object(t.default)(F).getInstance();return{getValue:function f(){return p},setValue:function g(y){p=y,y&&L.trigger(b.default.MANIFEST_LOADED,{data:y})}}}E.__dashjs_factory_name="ManifestModel",S.default=w.default.getSingletonFactory(E)},"./src/streaming/models/MediaPlayerModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/MediaPlayerModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),y=-.5;function U(){var R,V,k,P,x=this.context,O=Object(w.default)(x).getInstance();function C(me,De){return isNaN(me)?0:me>0?(De&&V.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):me<y?(De&&V.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(y,": ").concat(-50,"% playback speed.")),y):me}function B(me,De){return isNaN(me)?0:me<0?(De&&V.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):me>1?(De&&V.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):me}function le(){var me=O.get().streaming.buffer.stableBufferTime>0?O.get().streaming.buffer.stableBufferTime:O.get().streaming.buffer.fastSwitchEnabled?20:12,De=k.getLiveDelay();return!isNaN(De)&&De>0?Math.min(me,De):me}return R={getCatchupMaxDrift:function Y(){if(!isNaN(O.get().streaming.liveCatchup.maxDrift)&&O.get().streaming.liveCatchup.maxDrift>0)return O.get().streaming.liveCatchup.maxDrift;var me=P.getServiceDescriptionSettings();return me&&me.liveCatchup&&!isNaN(me.liveCatchup.maxDrift)&&me.liveCatchup.maxDrift>0?me.liveCatchup.maxDrift:12},getCatchupModeEnabled:function ce(){return null!==O.get().streaming.liveCatchup.enabled?O.get().streaming.liveCatchup.enabled:k.getInitialCatchupModeActivated()},getStableBufferTime:le,getInitialBufferLevel:function q(){var me=O.get().streaming.buffer.initialBufferLevel;return isNaN(me)||me<0?0:Math.min(le(),me)},getRetryAttemptsForType:function K(me){var De=isNaN(O.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:O.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return k.getLowLatencyModeEnabled()?O.get().streaming.retryAttempts[me]*De:O.get().streaming.retryAttempts[me]},getRetryIntervalsForType:function _e(me){var De=isNaN(O.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:O.get().streaming.retryIntervals.lowLatencyReductionFactor;return k.getLowLatencyModeEnabled()?O.get().streaming.retryIntervals[me]/De:O.get().streaming.retryIntervals[me]},getCatchupPlaybackRates:function J(me){var De=O.get().streaming.liveCatchup.playbackRate;if(!isNaN(De.min)||!isNaN(De.max))return{min:C(De.min,me),max:B(De.max,me)};var Le=P.getServiceDescriptionSettings();if(Le&&Le.liveCatchup&&(!isNaN(Le.liveCatchup.playbackRate.min)||!isNaN(Le.liveCatchup.playbackRate.max))){var he=Le.liveCatchup.playbackRate;return{min:C(he.min,me),max:B(he.max,me)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function Fe(me,De){try{var Le=O.get().streaming.abr[me][De];if(!isNaN(Le)&&-1!==Le)return Le;var he=P.getServiceDescriptionSettings();return he&&he[me]&&!isNaN(he[me][De])?he[me][De]:-1}catch{return-1}},setConfig:function N(me){me.playbackController&&(k=me.playbackController),me.serviceDescriptionController&&(P=me.serviceDescriptionController)},reset:function se(){}},function T(){V=Object(t.default)(x).getInstance().getLogger(R)}(),R}U.__dashjs_factory_name="MediaPlayerModel",S.default=b.default.getSingletonFactory(U)},"./src/streaming/models/MetricsModel.js":
/*!**********************************************!*\
                  !*** ./src/streaming/models/MetricsModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),w=c(
/*! ../vo/MetricsList */
"./src/streaming/vo/MetricsList.js"),E=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../vo/metrics/RepresentationSwitch */
"./src/streaming/vo/metrics/RepresentationSwitch.js"),L=c(
/*! ../vo/metrics/BufferLevel */
"./src/streaming/vo/metrics/BufferLevel.js"),D=c(
/*! ../vo/metrics/BufferState */
"./src/streaming/vo/metrics/BufferState.js"),p=c(
/*! ../vo/metrics/DVRInfo */
"./src/streaming/vo/metrics/DVRInfo.js"),f=c(
/*! ../vo/metrics/DroppedFrames */
"./src/streaming/vo/metrics/DroppedFrames.js"),g=c(
/*! ../vo/metrics/ManifestUpdate */
"./src/streaming/vo/metrics/ManifestUpdate.js"),y=c(
/*! ../vo/metrics/SchedulingInfo */
"./src/streaming/vo/metrics/SchedulingInfo.js"),M=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),U=c(
/*! ../vo/metrics/RequestsQueue */
"./src/streaming/vo/metrics/RequestsQueue.js"),R=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),V=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function k(P){var N,C,x=(P=P||{}).settings,O=this.context,T=Object(M.default)(O).getInstance();function Y(){T.trigger(R.default.METRICS_CHANGED)}function J(W){T.trigger(R.default.METRIC_CHANGED,{mediaType:W}),Y()}function ce(W,ae,ve){T.trigger(R.default.METRIC_UPDATED,{mediaType:W,metric:ae,value:ve}),J(W)}function Fe(W,ae,ve){T.trigger(R.default.METRIC_ADDED,{mediaType:W,metric:ae,value:ve}),J(W)}function K(W,ae){var ve=null;return W&&(C.hasOwnProperty(W)?ve=C[W]:ae||(ve=new w.default,C[W]=ve)),ve}function _e(W,ae,ve){var Q=K(W);null!==Q&&(Q[ae].push(ve),Q[ae].length>x.get().streaming.metrics.maxListDepth&&Q[ae].shift())}function Le(W,ae,ve){_e(W,ae,ve),Fe(W,ae,ve)}return N={clearCurrentMetricsForType:function q(W){delete C[W],J(W)},clearAllCurrentMetrics:function le(){C={},Y()},getMetricsFor:K,addHttpRequest:function me(W,ae,ve,Q,X,$,ie,re,te,ee,fe,ye,ue,Me,Ye,Ge){var at=new E.HTTPRequest;$&&$!==Q&&(me(W,null,ve,Q,X,null,null,re,te,null,null,null,ue,null,null,Ge),at.actualurl=$),at.tcpid=ae,at.type=ve,at.url=Q,at.range=re,at.trequest=te,at.tresponse=ee,at.responsecode=ye,at._tfinish=fe,at._stream=W,at._mediaduration=ue,at._quality=X,at._responseHeaders=Me,at._serviceLocation=ie,at._fileLoaderType=Ge,Ye?Ye.forEach(function(ct){!function se(W,ae,ve,Q){var X=new E.HTTPRequestTrace;return X.s=ae,X.d=ve,X.b=Q,W.trace.push(X),W.interval||(W.interval=0),W.interval+=ve,X}(at,ct.s,ct.d,ct.b)}):(delete at.interval,delete at.trace),Le(W,b.default.HTTP_REQUEST,at)},addRepresentationSwitch:function De(W,ae,ve,Q,X){var $=new F.default;$.t=ae,$.mt=ve,$.to=Q,X?$.lto=X:delete $.lto,Le(W,b.default.TRACK_SWITCH,$)},addBufferLevel:function he(W,ae,ve){var Q=new L.default;Q.t=ae,Q.level=ve,Le(W,b.default.BUFFER_LEVEL,Q)},addBufferState:function Re(W,ae,ve){var Q=new D.default;Q.target=ve,Q.state=ae,Le(W,b.default.BUFFER_STATE,Q)},addDVRInfo:function Ie(W,ae,ve,Q){var X=new p.default;X.time=ae,X.range=Q,X.manifestInfo=ve,Le(W,b.default.DVR_INFO,X)},addDroppedFrames:function ge(W,ae){var ve=new f.default,Q=K(W).DroppedFrames;ae&&(ve.time=ae.creationTime,ve.droppedFrames=ae.droppedVideoFrames,!(Q.length>0&&Q[Q.length-1]==ve)&&Le(W,b.default.DROPPED_FRAMES,ve))},addSchedulingInfo:function Ue(W,ae,ve,Q,X,$,ie,re,te){var ee=new y.default;ee.mediaType=W,ee.t=ae,ee.type=ve,ee.startTime=Q,ee.availabilityStartTime=X,ee.duration=$,ee.quality=ie,ee.range=re,ee.state=te,Le(W,b.default.SCHEDULING_INFO,ee)},addRequestsQueue:function ke(W,ae,ve){var Q=new U.default;Q.loadingRequests=ae,Q.executedRequests=ve,K(W).RequestsQueue=Q,Fe(W,b.default.REQUESTS_QUEUE,Q)},addManifestUpdate:function we(W,ae,ve,Q,X,$,ie,re,te,ee){var fe=new g.ManifestUpdate;fe.mediaType=W,fe.type=ae,fe.requestTime=ve,fe.fetchTime=Q,fe.availabilityStartTime=X,fe.presentationStartTime=$,fe.clientTimeOffset=ie,fe.currentTime=re,fe.buffered=te,fe.latency=ee,_e(t.default.STREAM,b.default.MANIFEST_UPDATE,fe),Fe(W,b.default.MANIFEST_UPDATE,fe)},updateManifestUpdateInfo:function Ke(W,ae){if(W){for(var ve in ae)W[ve]=ae[ve];ce(W.mediaType,b.default.MANIFEST_UPDATE,W)}},addManifestUpdateStreamInfo:function st(W,ae,ve,Q,X){if(W){var $=new g.ManifestUpdateStreamInfo;$.id=ae,$.index=ve,$.start=Q,$.duration=X,W.streamInfo.push($),ce(W.mediaType,b.default.MANIFEST_UPDATE_STREAM_INFO,W)}},addManifestUpdateRepresentationInfo:function Qe(W,ae,ve,Q,X,$,ie,re){if(W&&W.representationInfo){var te=new g.ManifestUpdateRepresentationInfo;te.id=ae,te.index=ve,te.streamIndex=Q,te.mediaType=X,te.startNumber=ie,te.fragmentInfoType=re,te.presentationTimeOffset=$,W.representationInfo.push(te),ce(W.mediaType,b.default.MANIFEST_UPDATE_TRACK_INFO,W)}},addPlayList:function Ne(W){W.trace&&Array.isArray(W.trace)?W.trace.forEach(function(ae){ae.hasOwnProperty("subreplevel")&&!ae.subreplevel&&delete ae.subreplevel}):delete W.trace,Le(t.default.STREAM,b.default.PLAY_LIST,W)},addDVBErrors:function Se(W){Le(t.default.STREAM,b.default.DVB_ERRORS,W)}},function B(){C={}}(),N}k.__dashjs_factory_name="MetricsModel",S.default=V.default.getSingletonFactory(k)},"./src/streaming/models/URIFragmentModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/URIFragmentModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/URIFragmentData */
"./src/streaming/vo/URIFragmentData.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(){var F;return{initialize:function L(p){if(F=new t.default,!p)return null;var f=p.indexOf("#");if(-1!==f)for(var g=p.substr(f+1).split("&"),y=0,M=g.length;y<M;++y){var U=g[y],R=U.indexOf("=");if(-1!==R){var V=U.substring(0,R);F.hasOwnProperty(V)&&(F[V]=U.substr(R+1))}}},getURIFragmentData:function D(){return F}}}w.__dashjs_factory_name="URIFragmentModel",S.default=b.default.getSingletonFactory(w)},"./src/streaming/models/VideoModel.js":
/*!********************************************!*\
                  !*** ./src/streaming/models/VideoModel.js ***!
                  \********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),F=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),L=new Map([[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function D(){var p,f,g,y,M,U,R,k=this.context,P=Object(b.default)(k).getInstance(),x=[];function C(){g&&(g.playbackRate=R||1,g.removeEventListener("canplay",C))}function Le(){return x.length>0}function ge(){if(g&&Le()&&0===g.playbackRate){var rt=document.createEvent("Event");rt.initEvent("waiting",!0,!1),g.dispatchEvent(rt)}}function ae(rt,_t){g&&g.addEventListener(rt,_t)}function ve(rt,_t){g&&g.removeEventListener(rt,_t)}function Q(){return g?g.readyState:NaN}function X(){return g?g.buffered:null}function ue(rt,_t,Bt,At,jt){if(g)for(var Qt=0;Qt<g.textTracks.length;Qt++)if(g.textTracks[Qt].kind===rt&&(!_t||g.textTracks[Qt].label==_t)&&g.textTracks[Qt].language===Bt&&g.textTracks[Qt].isTTML===At&&g.textTracks[Qt].isEmbedded===jt)return g.textTracks[Qt];return null}function at(rt,_t){rt===F.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||Q()>=rt?_t():function ct(rt,_t){ae(rt,function At(){ve(rt,At),_t(rt)})}(L.get(rt),_t)}return p={initialize:function T(){P.on(w.default.PLAYBACK_PLAYING,ge,this)},setCurrentTime:function Y(rt,_t){y=rt,at(F.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(g){if(g.currentTime===y)return void(y=NaN);try{y=_t?function J(rt){var _t=X(),Bt=rt,At=9999999999;if(_t)for(var jt=0;jt<_t.length;jt++){var Qt=_t.start(jt),cn=_t.end(jt),dn=Math.abs(Qt-rt),Gt=Math.abs(cn-rt);if(rt>=Qt&&rt<=cn)return rt;dn<At&&(At=dn,Bt=Qt),Gt<At&&(At=Gt,Bt=cn)}return Bt}(y):y,g.currentTime=y,y=NaN}catch(Bt){0===g.readyState&&Bt.code===Bt.INVALID_STATE_ERR&&setTimeout(function(){g.currentTime=y,y=NaN},400)}}})},play:function ke(){if(g){g.autoplay=!0;var rt=g.play();rt&&rt.catch&&typeof Promise<"u"&&rt.catch(function(_t){"NotAllowedError"===_t.name&&P.trigger(w.default.PLAYBACK_NOT_ALLOWED),f.warn("Caught pending play exception - continuing (".concat(_t,")"))})}},isPaused:function we(){return g?g.paused:null},pause:function Ke(){g&&(g.pause(),g.autoplay=!1)},isStalled:Le,isSeeking:function st(){return g?g.seeking||!isNaN(y):null},getTime:function Qe(){return g?isNaN(y)?g.currentTime:y:null},getPlaybackRate:function Ne(){return g?g.playbackRate:null},setPlaybackRate:function B(rt){g&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&g.readyState<=2&&rt>0?g.addEventListener("canplay",C):g.playbackRate=rt)},getPlayedRanges:function Se(){return g?g.played:null},getEnded:function W(){return g?g.ended:null},setStallState:function De(rt,_t){!function Ie(rt,_t){_t?function he(rt){null===rt||!g||g.seeking||-1!==x.indexOf(rt)||x.push(rt)}(rt):function Re(rt){var _t=x.indexOf(rt);null!==rt&&-1!==_t&&x.splice(_t,1)}(rt)}(rt,_t)},getElement:function ce(){return g},setElement:function Fe(rt){if(!(null==rt||rt&&/^(VIDEO|AUDIO)$/i.test(rt.nodeName)))throw"element is not video or audio DOM type!";(g=rt)&&(g.preload="auto")},setSource:function q(rt){g&&(rt?g.src=rt:(g.removeAttribute("src"),g.load()))},getSource:function le(){return g?g.src:null},getTTMLRenderingDiv:function K(){return M},setTTMLRenderingDiv:function se(rt){(M=rt).style.position="absolute",M.style.display="flex",M.style.overflow="hidden",M.style.pointerEvents="none",M.style.top=0,M.style.left=0},getVttRenderingDiv:function _e(){return U},setVttRenderingDiv:function me(rt){U=rt},getPlaybackQuality:function Ue(){if(!g)return null;var rt="webkitDroppedFrameCount"in g&&"webkitDecodedFrameCount"in g,Bt=null;return"getVideoPlaybackQuality"in g?Bt=g.getVideoPlaybackQuality():rt&&(Bt={droppedVideoFrames:g.webkitDroppedFrameCount,totalVideoFrames:g.webkitDroppedFrameCount+g.webkitDecodedFrameCount,creationTime:new Date}),Bt},addEventListener:ae,removeEventListener:ve,getReadyState:Q,getBufferRange:X,getClientWidth:function $(){return g?g.clientWidth:NaN},getClientHeight:function ie(){return g?g.clientHeight:NaN},getTextTracks:function ye(){return g?g.textTracks:[]},getTextTrack:ue,addTextTrack:function Me(rt,_t,Bt,At,jt){if(!g)return null;var Qt=ue(rt,_t,Bt,At,jt);return Qt||((Qt=g.addTextTrack(rt,_t,Bt)).isEmbedded=jt,Qt.isTTML=At),Qt},appendChild:function Ye(rt){g&&(g.appendChild(rt),void 0!==rt.isTTML&&(g.textTracks[g.textTracks.length-1].isTTML=rt.isTTML,g.textTracks[g.textTracks.length-1].isEmbedded=rt.isEmbedded))},removeChild:function Ge(rt){g&&g.removeChild(rt)},getVideoWidth:function re(){return g?g.videoWidth:NaN},getVideoHeight:function te(){return g?g.videoHeight:NaN},getVideoRelativeOffsetTop:function ee(){var rt=g.parentNode.host||g.parentNode;return rt?g.getBoundingClientRect().top-rt.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function fe(){var rt=g.parentNode.host||g.parentNode;return rt?g.getBoundingClientRect().left-rt.getBoundingClientRect().left:NaN},waitForReadyState:at,reset:function N(){P.off(w.default.PLAYBACK_PLAYING,ge,this)}},function O(){f=Object(E.default)(k).getInstance().getLogger(p),y=NaN}(),p}D.__dashjs_factory_name="VideoModel",S.default=t.default.getSingletonFactory(D)},"./src/streaming/net/FetchLoader.js":
/*!******************************************!*\
                  !*** ./src/streaming/net/FetchLoader.js ***!
                  \******************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),w=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function F(R,V){return function p(R){if(Array.isArray(R))return R}(R)||function D(R,V){var k=null==R?null:typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(null!=k){var P,x,O,T,N=[],C=!0,B=!1;try{if(O=(k=k.call(R)).next,0===V){if(Object(k)!==k)return;C=!1}else for(;!(C=(P=O.call(k)).done)&&(N.push(P.value),N.length!==V);C=!0);}catch(Y){B=!0,x=Y}finally{try{if(!C&&null!=k.return&&(T=k.return(),Object(T)!==T))return}finally{if(B)throw x}}return N}}(R,V)||g(R,V)||function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(R,V){if(R){if("string"==typeof R)return y(R,V);var k=Object.prototype.toString.call(R).slice(8,-1);if("Object"===k&&R.constructor&&(k=R.constructor.name),"Map"===k||"Set"===k)return Array.from(R);if("Arguments"===k||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return y(R,V)}}function y(R,V){(null==V||V>R.length)&&(V=R.length);for(var k=0,P=new Array(V);k<V;k++)P[k]=R[k];return P}function M(R){var N,V=this.context,k=(R=R||{}).requestModifier,P=R.lowLatencyThroughputModel,x=R.boxParser,O=Object(b.default)(V).getInstance();function Y(K){var he,_e=new Date,se=K.request,me=new Headers;if(se.range&&me.append("Range","bytes="+se.range),K.headers)for(var De in K.headers){var Le=K.headers[De];Le&&me.append(De,Le)}se.requestStartDate||(se.requestStartDate=_e),k&&k.modifyRequestHeader&&k.modifyRequestHeader({setRequestHeader:function(we,Ke){me.append(we,Ke)}},{url:K.url}),"function"==typeof window.AbortController&&(he=new AbortController,K.abortController=he,he.signal.onabort=K.onabort);var Re={method:K.method,headers:me,credentials:K.withCredentials?"include":void 0,signal:he?he.signal:void 0},Ie=O.get().streaming.abr.fetchThroughputCalculationMode,ge=Date.now(),Ue=0;new Promise(function(ke){if(Ie===w.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&P&&(Ue=P.getThroughputCapacityDelayMS(se,1e3*N.getCurrentBufferLevel(se.mediaType))))return setTimeout(ke,Ue);ke()}).then(function(){var ke=Date.now();fetch(K.url,Re).then(function(we){K.response||(K.response={}),K.response.status=we.status,K.response.statusText=we.statusText,K.response.responseURL=we.url,we.ok||K.onerror();var Qe,Ke="",st=function f(R,V){var k=typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(!k){if(Array.isArray(R)||(k=g(R))||V&&R&&"number"==typeof R.length){k&&(R=k);var P=0,x=function(){};return{s:x,n:function(){return P>=R.length?{done:!0}:{done:!1,value:R[P++]}},e:function(B){throw B},f:x}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var N,O=!0,T=!1;return{s:function(){k=k.call(R)},n:function(){var B=k.next();return O=B.done,B},e:function(B){T=!0,N=B},f:function(){try{!O&&null!=k.return&&k.return()}finally{if(T)throw N}}}}(we.headers.keys());try{for(st.s();!(Qe=st.n()).done;){var Ne=Qe.value;Ke+=Ne+": "+we.headers.get(Ne)+"\r\n"}}catch(at){st.e(at)}finally{st.f()}if(K.response.responseHeaders=Ke,!we.body)return we.arrayBuffer().then(function(at){K.response.response=at,K.progress({loaded:at.byteLength,total:at.byteLength,stream:!1}),K.onload(),K.onend()});var rt,_t,Se=parseInt(we.headers.get("Content-Length"),10),W=0,ae=!1,ve=new Uint8Array,Q=0;if(Ie===w.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&P){var $=ke,ie=0,te=F(we.body.tee(),2),fe=te[1];rt=te[0].getReader(),_t=[],rt.read().then(function Bt(At){var jt=At.value,Qt=At.done;if(ie=Date.now(),jt&&jt.length){var cn=ie-$,dn=jt.length;_t.push({chunkDownloadTimeRelativeMS:ie-ke,chunkDownloadDurationMS:cn,chunkBytes:dn,kbps:Math.round(8*dn/(cn/1e3)),bufferLevel:N.getCurrentBufferLevel(se.mediaType)})}if(Qt){var Gt=ie-ke,Cn=_t.reduce(function(en,xt){return en+xt.chunkBytes},0);return P.addMeasurement(se,Gt,_t,ge,Ue,Ke),void K.progress({loaded:Cn,total:Cn,lengthComputable:!0,time:P.getEstimatedDownloadDurationMS(se),stream:!0})}return $=Date.now(),rt.read().then(Bt)}),K.reader=fe.getReader()}else K.reader=we.body.getReader();var ye=[],ue=[],Me=[],Ye=!0;J(K,function at(ct){var rt=ct.value;if(ct.done){if(ve){if(Ie!==w.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var Bt=null,At=null;Ie===w.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(Bt=function le(K,_e){try{var se,me;se=K.filter(function(ke,we){return we<K.length-1}),me=_e.filter(function(ke,we){return we<_e.length-1});var De=[];if(se.length>1){for(var Le=0,he=0,Re=0;Re<se.length;Re++)if(se[Re]&&me[Re]){var Ie=me[Re].ts-se[Re].ts;if(Ie>1)De.push(8*me[Re].bytes/Ie);else{0===he&&(he=se[Re].ts);var ge=me[Re].ts-he;ge>1?(De.push(8*Le/ge),Le=0,he=0):Le+=me[Re].bytes}}if(De.length>0)return De.reduce(function(ke,we){return ke+we},0)/De.length}return null}catch{return null}}(ue,Me))&&(At=8*W/Bt):Ie===w.default.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(At=q(ye,W)),K.progress({loaded:W,total:isNaN(Se)?W:Se,lengthComputable:!0,time:At,stream:!0})}K.response.response=ve.buffer}return K.onload(),void K.onend()}if(rt&&rt.length>0){ve=function ce(K,_e){if(0===K.length)return _e;var se=new Uint8Array(K.length+_e.length);return se.set(K),se.set(_e,K.length),se}(ve,rt),W+=rt.length,ye.push({ts:Date.now(),bytes:rt.length}),Ie===w.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&Ye&&x.findLastTopIsoBoxCompleted(["moof"],ve,Q).found&&(Ye=!1,ue.push({ts:performance.now(),bytes:rt.length}));var Qt=x.findLastTopIsoBoxCompleted(["moov","mdat"],ve,Q);if(Qt.found){var dn,cn=Qt.lastCompletedOffset+Qt.size;Ie===w.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&!Ye&&(Ye=!0,Me.push({ts:performance.now(),bytes:ve.length})),cn===ve.length?(dn=ve,ve=new Uint8Array):(dn=new Uint8Array(ve.subarray(0,cn)),ve=ve.subarray(cn)),K.progress({data:dn.buffer,lengthComputable:!1,noTrace:!0}),Q=0}else Q=Qt.lastCompletedOffset,ae||(K.progress({lengthComputable:!1,noTrace:!0}),ae=!0)}J(K,at)})}).catch(function(we){K.onerror&&K.onerror(we)})})}function J(K,_e){K.reader.read().then(_e).catch(function(se){K.onerror&&200===K.response.status&&K.onerror(se)})}function q(K,_e){try{if((K=K.filter(function(De){return De.bytes>_e/4/K.length})).length>1){var se=0,me=(K[K.length-1].ts-K[0].ts)/K.length;return K.forEach(function(De,Le){var he=K[Le+1];if(he){var Re=he.ts-De.ts;se+=Re<me?Re:0}}),se}return null}catch{return null}}return{load:function B(K){k&&k.modifyRequest?Object(E.modifyRequest)(K,k).then(function(){return Y(K)}):Y(K)},abort:function Fe(K){if(K.abortController)K.abortController.abort();else if(K.reader)try{K.reader.cancel(),K.onabort()}catch{}},calculateDownloadedTime:q,setup:function C(K){N=K.dashMetrics}}}M.__dashjs_factory_name="FetchLoader";var U=t.default.getClassFactory(M);S.default=U},"./src/streaming/net/HTTPLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/net/HTTPLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./XHRLoader */
"./src/streaming/net/XHRLoader.js"),b=c(
/*! ./FetchLoader */
"./src/streaming/net/FetchLoader.js"),w=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),L=c(
/*! ../models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),D=c(
/*! ../../core/Utils */
"./src/core/Utils.js"),p=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),f=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),g=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),y=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),M=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),U=c(
/*! ../models/LowLatencyThroughputModel */
"./src/streaming/models/LowLatencyThroughputModel.js"),R=c(
/*! ../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function V(N){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(N)}function k(N,C,B){return(C=function P(N){var C=function x(N,C){if("object"!==V(N)||null===N)return N;var B=N[Symbol.toPrimitive];if(void 0!==B){var Y=B.call(N,C||"default");if("object"!==V(Y))return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(N)}(N,"string");return"symbol"===V(C)?C:String(C)}(C))in N?Object.defineProperty(N,C,{value:B,enumerable:!0,configurable:!0,writable:!0}):N[C]=B,N}function O(N){var se,me,De,Le,he,Re,Ie,ge,Ue,C=this.context,B=(N=N||{}).errHandler,Y=N.dashMetrics,J=N.mediaPlayerModel,ce=N.requestModifier,Fe=N.boxParser,q=N.errors,le=N.requestTimeout||0,K=Object(f.default)(C).getInstance(),_e=Object(y.default)(C).getInstance();function we(Ne,Se){var te,W=Ne.request,ae=[],ve=!0,Q=!0,X=new Date,$=X,ie=0,re=null;if(!ce||!Y||!B)throw new Error("config object is not correct or missing");var Ge,ee=function(dn){if(Q=!1,W.requestStartDate=X,W.requestEndDate=new Date,W.firstByteDate=W.firstByteDate||X,W.fileLoaderType=re,!W.checkExistenceOnly){var Gt=te.response?te.response.responseURL:null,Cn=te.response?te.response.status:null,en=te.response&&te.response.getAllResponseHeaders?te.response.getAllResponseHeaders():te.response?te.response.responseHeaders:[];Y.addHttpRequest(W,Gt,Cn,en,dn?ae:null),W.type===w.HTTPRequest.MPD_TYPE&&Y.addManifestUpdate(W)}},fe=function(){if(-1!==me.indexOf(te)&&(me.splice(me.indexOf(te),1),Q))if(ee(!1),Se>0){try{_e.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&W.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE&&J.getRetryAttemptsForType(w.HTTPRequest.MEDIA_SEGMENT_TYPE)===Se&&K.trigger(g.default.ATTEMPT_BACKGROUND_SYNC)}catch{}Se--;var Gt={config:Ne};Le.push(Gt),Gt.timeout=setTimeout(function(){-1!==Le.indexOf(Gt)&&(Le.splice(Le.indexOf(Gt),1),we(Ne,Se))},J.getRetryIntervalsForType(W.type))}else{if(W.type===w.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;B.error(new F.default(he[W.type],W.url+" is not available",{request:W,response:te.response})),Ne.error&&Ne.error(W,"error",te.response.statusText),Ne.complete&&Ne.complete(W,te.response.statusText)}};W.hasOwnProperty("availabilityTimeComplete")&&!1===W.availabilityTimeComplete&&window.fetch&&"arraybuffer"===W.responseType&&W.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE?((Ge=Object(b.default)(C).create({requestModifier:ce,lowLatencyThroughputModel:ge,boxParser:Fe})).setup({dashMetrics:Y}),re=M.default.FILE_LOADER_TYPES.FETCH):(Ge=Object(t.default)(C).create({requestModifier:ce}),re=M.default.FILE_LOADER_TYPES.XHR);var at=null,ct=ce.modifyRequestURL?ce.modifyRequestURL(W.url):W.url;if(_e.get().streaming.cmcd&&_e.get().streaming.cmcd.enabled){var rt=_e.get().streaming.cmcd.mode;if(rt===M.default.CMCD_MODE_QUERY){var _t=function Ke(Ne){try{var Se=[],W=Re.getQueryParameter(Ne);return W&&Se.push(W),Se}catch{return[]}}(W);ct=D.default.addAditionalQueryParameterToUrl(ct,_t)}else rt===M.default.CMCD_MODE_HEADER&&(at=Re.getHeaderParameters(W))}W.url=ct;var Bt=W.checkExistenceOnly?w.HTTPRequest.HEAD:w.HTTPRequest.GET,At=Ie.getXHRWithCredentialsForType(W.type);te={url:ct,method:Bt,withCredentials:At,request:W,onload:function(){te.response.status>=200&&te.response.status<=299&&(ee(!0),Ne.success&&Ne.success(te.response.response,te.response.statusText,te.response.responseURL),Ne.complete&&Ne.complete(W,te.response.statusText))},onend:fe,onerror:fe,progress:function(dn){var Gt=new Date;ve&&(ve=!1,(!dn.lengthComputable||dn.lengthComputable&&dn.total!==dn.loaded)&&(W.firstByteDate=Gt)),dn.lengthComputable&&(W.bytesLoaded=dn.loaded,W.bytesTotal=dn.total),dn.noTrace||(ae.push({s:$,d:dn.time?dn.time:Gt.getTime()-$.getTime(),b:[dn.loaded?dn.loaded-ie:0]}),$=Gt,ie=dn.loaded),Ne.progress&&dn&&Ne.progress(dn)},onabort:function(){Ne.abort&&Ne.abort(W)},ontimeout:function(dn){var Gt;Gt=dn.lengthComputable?"Request timeout: loaded: "+dn.loaded+", out of: "+dn.total+" : "+(dn.loaded/dn.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",Ue.warn(Gt)},loader:Ge,timeout:le,headers:at};var jt=(new Date).getTime();if(isNaN(W.delayLoadingTime)||jt>=W.delayLoadingTime)me.push(te),Ge.load(te);else{var Qt={httpRequest:te};De.push(Qt),Qt.delayTimeout=setTimeout(function(){if(-1!==De.indexOf(Qt)){De.splice(De.indexOf(Qt),1);try{$=X=new Date,me.push(Qt.httpRequest),Ge.load(Qt.httpRequest)}catch{Qt.httpRequest.onerror()}}},W.delayLoadingTime-jt)}}return se={load:function st(Ne){Ne.request?we(Ne,J.getRetryAttemptsForType(Ne.request.type)):Ne.error&&Ne.error(Ne.request,"error")},abort:function Qe(){Le.forEach(function(Ne){clearTimeout(Ne.timeout),Ne.config.request&&Ne.config.abort&&Ne.config.abort(Ne.config.request)}),Le=[],De.forEach(function(Ne){return clearTimeout(Ne.delayTimeout)}),De=[],me.forEach(function(Ne){Ne.request.type!==w.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(Ne.onloadend=Ne.onerror=Ne.onprogress=void 0,Ne.loader.abort(Ne))}),me=[]}},function ke(){var Ne;Ue=Object(p.default)(C).getInstance().getLogger(se),me=[],De=[],Le=[],Re=Object(L.default)(C).getInstance(),ge=Object(U.default)(C).getInstance(),Ie=Object(R.default)(C).getInstance(),k(Ne={},w.HTTPRequest.MPD_TYPE,q.DOWNLOAD_ERROR_ID_MANIFEST_CODE),k(Ne,w.HTTPRequest.XLINK_EXPANSION_TYPE,q.DOWNLOAD_ERROR_ID_XLINK_CODE),k(Ne,w.HTTPRequest.INIT_SEGMENT_TYPE,q.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),k(Ne,w.HTTPRequest.MEDIA_SEGMENT_TYPE,q.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ne,w.HTTPRequest.INDEX_SEGMENT_TYPE,q.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ne,w.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,q.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ne,w.HTTPRequest.OTHER_TYPE,q.DOWNLOAD_ERROR_ID_CONTENT_CODE),he=Ne}(),se}O.__dashjs_factory_name="HTTPLoader";var T=E.default.getClassFactory(O);S.default=T},"./src/streaming/net/SchemeLoaderFactory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/net/SchemeLoaderFactory.js ***!
                  \**************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../streaming/net/HTTPLoader */
"./src/streaming/net/HTTPLoader.js");function w(){var L;function f(){L={}}function y(){f()}return function M(){y()}(),{getLoader:function g(U){for(var R in L)if(L.hasOwnProperty(R)&&U.startsWith(R))return L[R];return b.default},registerLoader:function D(U,R){L[U]=R},unregisterLoader:function p(U){L[U]&&delete L[U]},unregisterAllLoader:f,reset:y}}w.__dashjs_factory_name="SchemeLoaderFactory";var E=t.default.getSingletonFactory(w);S.default=E},"./src/streaming/net/URLLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/URLLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../streaming/net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js");function w(F){F=F||{};var p,f,L=this.context;return p=Object(b.default)(L).getInstance(),{load:function g(M){if(!f){var U=p.getLoader(M&&M.request?M.request.url:null);f=U(L).create({errHandler:F.errHandler,mediaPlayerModel:F.mediaPlayerModel,requestModifier:F.requestModifier,dashMetrics:F.dashMetrics,boxParser:F.boxParser?F.boxParser:null,constants:F.constants?F.constants:null,dashConstants:F.dashConstants?F.dashConstants:null,urlUtils:F.urlUtils?F.urlUtils:null,requestTimeout:isNaN(F.requestTimeout)?0:F.requestTimeout,errors:F.errors})}f.load(M)},abort:function y(){f&&f.abort()}}}w.__dashjs_factory_name="URLLoader";var E=t.default.getClassFactory(w);S.default=E},"./src/streaming/net/XHRLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/XHRLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function w(F){var L=(F=F||{}).requestModifier;function f(y){var M=new Date,U=y.request,R=new XMLHttpRequest;if(R.open(y.method,y.url,!0),U.responseType&&(R.responseType=U.responseType),U.range&&R.setRequestHeader("Range","bytes="+U.range),U.requestStartDate||(U.requestStartDate=M),L&&L.modifyRequestHeader&&(R=L.modifyRequestHeader(R,{url:y.url})),y.headers)for(var V in y.headers){var k=y.headers[V];k&&R.setRequestHeader(V,k)}R.withCredentials=y.withCredentials,R.onload=y.onload,R.onloadend=y.onend,R.onerror=y.onerror,R.onprogress=y.progress,R.onabort=y.onabort,R.ontimeout=y.ontimeout,R.timeout=y.timeout,R.send(),y.response=R}return{load:function p(y){L&&L.modifyRequest?Object(b.modifyRequest)(y,L).then(function(){return f(y)}):f(y)},abort:function g(y){var M=y.response;M.onloadend=M.onerror=M.onprogress=void 0,M.abort()}}}w.__dashjs_factory_name="XHRLoader";var E=t.default.getClassFactory(w);S.default=E},"./src/streaming/protection/CommonEncryption.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/CommonEncryption.js ***!
                  \******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,F(M.key),M)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==t(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S);var D={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};S.default=function(){function f(){!function b(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f)}return function E(f,g,y){return g&&w(f.prototype,g),y&&w(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,null,[{key:"findCencContentProtection",value:function(y){for(var M=null,U=0;U<y.length;++U){var R=y[U];"urn:mpeg:dash:mp4protection:2011"===R.schemeIdUri.toLowerCase()&&("cenc"===R.value.toLowerCase()||"cbcs"===R.value.toLowerCase())&&(M=R)}return M}},{key:"getPSSHData",value:function(y){var M=8,U=new DataView(y),R=U.getUint8(M);return M+=20,R>0&&(M+=4+16*U.getUint32(M)),y.slice(M+=4)}},{key:"getPSSHForKeySystem",value:function(y,M){var U=f.parsePSSHList(M);return y&&U.hasOwnProperty(y.uuid.toLowerCase())?U[y.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(y,M){return"pssh"in y?(y.pssh.__text=y.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),M.decodeArray(y.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(y){if(null==y)return[];for(var M=new DataView(y.buffer||y),R={},V=0;;){var P,x=void 0,O=void 0,T=V;if(V>=M.buffer.byteLength)break;if(P=V+M.getUint32(V),1886614376===M.getUint32(V+=4))if(0===(x=M.getUint8(V+=4))||1===x){V++,V+=3,O="";var N=void 0,C=void 0;for(N=0;N<4;N++)O+=1===(C=M.getUint8(V+N).toString(16)).length?"0"+C:C;for(V+=4,O+="-",N=0;N<2;N++)O+=1===(C=M.getUint8(V+N).toString(16)).length?"0"+C:C;for(V+=2,O+="-",N=0;N<2;N++)O+=1===(C=M.getUint8(V+N).toString(16)).length?"0"+C:C;for(V+=2,O+="-",N=0;N<2;N++)O+=1===(C=M.getUint8(V+N).toString(16)).length?"0"+C:C;for(V+=2,O+="-",N=0;N<6;N++)O+=1===(C=M.getUint8(V+N).toString(16)).length?"0"+C:C;V+=6,V+=4,R[O=O.toLowerCase()]=M.buffer.slice(T,P),V=P}else V=P;else V=P}return R}},{key:"getLicenseServerUrlFromMediaInfo",value:function(y,M){try{if(!y||0===y.length)return null;for(var U=0,R=null;U<y.length&&!R;){var V=y[U];if(V&&V.contentProtection&&V.contentProtection.length>0){var k=V.contentProtection.filter(function(B){return B.schemeIdUri&&B.schemeIdUri===M});if(k&&k.length>0)for(var P=0;P<k.length&&!R;){for(var x=k[P],O=0;O<D.attributes.length&&!R;){for(var T=0,N=D.attributes[O];T<D.prefixes.length&&!R;)x[N]&&x[N].__prefix&&x[N].__prefix===D.prefixes[T]&&x[N].__text&&(R=x[N].__text),T+=1;O+=1}P+=1}}U+=1}return R}catch{return null}}}]),f}()},"./src/streaming/protection/Protection.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/Protection.js ***!
                  \************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./controllers/ProtectionController */
"./src/streaming/protection/controllers/ProtectionController.js"),b=c(
/*! ./controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),w=c(
/*! ./ProtectionEvents */
"./src/streaming/protection/ProtectionEvents.js"),E=c(
/*! ./errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ./models/ProtectionModel_21Jan2015 */
"./src/streaming/protection/models/ProtectionModel_21Jan2015.js"),L=c(
/*! ./models/ProtectionModel_3Feb2014 */
"./src/streaming/protection/models/ProtectionModel_3Feb2014.js"),D=c(
/*! ./models/ProtectionModel_01b */
"./src/streaming/protection/models/ProtectionModel_01b.js"),p=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],f=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function g(){var M,U=this.context;function k(P,x){for(var O=0;O<x.length;O++){var T=x[O];if("function"==typeof P[T[Object.keys(T)[0]]])return T}return null}return M={createProtectionSystem:function R(P){var x=null,O=Object(b.default)(U).getInstance();O.setConfig({debug:P.debug,BASE64:P.BASE64,settings:P.settings}),O.initialize();var T=function V(P){var x=P.debug,O=x.getLogger(M),T=P.eventBus,N=P.errHandler,C=P.videoModel?P.videoModel.getElement():null;return C&&void 0===C.onencrypted||C&&void 0===C.mediaKeys?k(C,f)?(O.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Object(L.default)(U).create({debug:x,eventBus:T,events:P.events,api:k(C,f)})):k(C,p)?(O.info("EME detected on this user agent! (ProtectionModel_01b)"),Object(D.default)(U).create({debug:x,eventBus:T,errHandler:N,events:P.events,api:k(C,p)})):(O.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(O.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Object(F.default)(U).create({debug:x,eventBus:T,events:P.events}))}(P);return!x&&T&&(x=Object(t.default)(U).create({protectionModel:T,protectionKeyController:O,eventBus:P.eventBus,debug:P.debug,events:P.events,BASE64:P.BASE64,constants:P.constants,cmcdModel:P.cmcdModel,customParametersModel:P.customParametersModel,settings:P.settings}),P.capabilities.setEncryptedMediaSupported(!0)),x}}}g.__dashjs_factory_name="Protection";var y=dashjs.FactoryMaker.getClassFactory(g);y.events=w.default,y.errors=E.default,dashjs.FactoryMaker.updateClassFactory(g.__dashjs_factory_name,y),S.default=y},"./src/streaming/protection/ProtectionEvents.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/ProtectionEvents.js ***!
                  \******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function b(P){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function w(P,x){for(var O=0;O<x.length;O++){var T=x[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,F(T.key),T)}}function F(P){var x=function L(P,x){if("object"!==b(P)||null===P)return P;var O=P[Symbol.toPrimitive];if(void 0!==O){var T=O.call(P,x||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===b(x)?x:String(x)}function p(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&f(P,x)}function f(P,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function g(P){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(P);if(x){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function y(P,x){if(x&&("object"===b(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function M(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function R(P){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(P)}c.r(S);var k=new(function(P){p(O,P);var x=g(O);function O(){var T;return function D(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,O),(T=x.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",T.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",T.KEY_ADDED="public_keyAdded",T.KEY_ERROR="public_keyError",T.KEY_MESSAGE="public_keyMessage",T.KEY_SESSION_CLOSED="public_keySessionClosed",T.KEY_SESSION_CREATED="public_keySessionCreated",T.KEY_SESSION_REMOVED="public_keySessionRemoved",T.KEY_STATUSES_CHANGED="public_keyStatusesChanged",T.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",T.KEY_SYSTEM_SELECTED="public_keySystemSelected",T.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",T.LICENSE_REQUEST_SENDING="public_licenseRequestSending",T.NEED_KEY="needkey",T.PROTECTION_CREATED="public_protectioncreated",T.PROTECTION_DESTROYED="public_protectiondestroyed",T.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",T.TEARDOWN_COMPLETE="protectionTeardownComplete",T.VIDEO_ELEMENT_SELECTED="videoElementSelected",T.KEY_SESSION_UPDATED="public_keySessionUpdated",T}return function E(P,x,O){return x&&w(P.prototype,x),O&&w(P,O),Object.defineProperty(P,"prototype",{writable:!1}),P}(O)}(c(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));S.default=k},"./src/streaming/protection/controllers/ProtectionController.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionController.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=c(
/*! ../vo/MediaCapability */
"./src/streaming/protection/vo/MediaCapability.js"),w=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),E=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),L=c(
/*! ../vo/LicenseRequest */
"./src/streaming/protection/vo/LicenseRequest.js"),D=c(
/*! ../vo/LicenseResponse */
"./src/streaming/protection/vo/LicenseResponse.js"),p=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),f=c(
/*! ../../../core/Utils */
"./src/core/Utils.js"),g=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function M(O){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(O)}function x(O){var _e,se,me,De,Le,he,Re,Ie,ge,Ue,ke,T=(O=O||{}).protectionKeyController,N=O.protectionModel,C=O.eventBus,B=O.events,Y=O.debug,J=O.BASE64,ce=O.constants,Fe=[],q=O.cmcdModel,le=O.settings,K=O.customParametersModel;function Ke(){if(!(C&&C.hasOwnProperty("on")&&T&&T.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function Se(Oe,We){Ie||ge?Ie&&ae():function W(Oe,We){if(!ge){ge=!0;var dt,$e=[];Oe=Oe.sort(function(Lt,zt){return(Le&&Le[Lt.ks.systemString]&&Le[Lt.ks.systemString].priority>=0?Le[Lt.ks.systemString].priority:Oe.length)-(Le&&Le[zt.ks.systemString]&&Le[zt.ks.systemString].priority>=0?Le[zt.ks.systemString].priority:Oe.length)});for(var lt=0;lt<Oe.length;lt++){var ot=_t(Oe[lt]);$e.push({ks:Oe[lt].ks,configs:[ot],protData:Oe[lt].protData})}N.requestKeySystemAccess($e).then(function(Lt){return se.info("DRM: KeySystem Access Granted for system string ("+((dt=Lt.data).mksa&&dt.mksa.selectedSystemString?dt.mksa.selectedSystemString:dt.keySystem.systemString)+")!  Selecting key system..."),N.selectKeySystem(dt)}).then(function(Lt){if(Ie=Lt,ge=!1,N){C.trigger(B.KEY_SYSTEM_SELECTED,{data:dt});var zt=$(Ie);zt&&zt.serverCertificate&&zt.serverCertificate.length>0&&N.setServerCertificate(J.decodeArray(zt.serverCertificate).buffer),ae()}}).catch(function(Lt){Ie=null,ge=!1,We||C.trigger(B.KEY_SYSTEM_SELECTED,{data:null,error:new F.default(E.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,E.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+Lt.error)})})}}(Oe,We)}function ae(){for(var Oe,We=0;We<me.length;We++)for(Oe=0;Oe<me[We].length;Oe++)if(Ie===me[We][Oe].ks){ve(me[We][Oe]);break}me=[]}function ve(Oe){if(T.isClearKey(Ie)&&Oe.protData&&Oe.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(Oe.protData.clearkeys).length){var We={kids:Object.keys(Oe.protData.clearkeys)};Oe.initData=(new TextEncoder).encode(JSON.stringify(We))}Oe.sessionId?Q(Oe):null!==Oe.initData&&X(Oe)}function Q(Oe){Ke(),N.loadKeySession(Oe)}function X(Oe){var We=t.default.getPSSHForKeySystem(Ie,Oe?Oe.initData:null);if(We){if(function te(Oe){if(!Oe)return!1;try{for(var We=N.getSessions(),$e=0;$e<We.length;$e++)if(We[$e].getKeyId()===Oe)return!0;return!1}catch{return!1}}(Oe.keyId)||ee(We))return;try{Oe.initData=We,N.createKeySession(Oe)}catch($e){C.trigger(B.KEY_SESSION_CREATED,{data:null,error:new F.default(E.default.KEY_SESSION_CREATED_ERROR_CODE,E.default.KEY_SESSION_CREATED_ERROR_MESSAGE+$e.message)})}}else Oe&&Oe.initData?N.createKeySession(Oe):C.trigger(B.KEY_SESSION_CREATED,{data:null,error:new F.default(E.default.KEY_SESSION_CREATED_ERROR_CODE,E.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(Ie?Ie.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function $(Oe){if(Oe){var We=Oe.systemString;if(Le)return We in Le?Le[We]:null}return null}function ee(Oe){if(!Oe)return!1;try{for(var We=N.getAllInitData(),$e=0;$e<We.length;$e++)if(T.initDataEquals(Oe,We[$e]))return se.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Me(Oe){Ke(),Oe?(N.setMediaElement(Oe),C.on(B.NEED_KEY,ft,_e)):null===Oe&&(N.setMediaElement(Oe),C.off(B.NEED_KEY,ft,_e))}function _t(Oe){var We=Oe.protData,$e=[],lt=[],ot=We&&We.audioRobustness&&We.audioRobustness.length>0?We.audioRobustness:Re,dt=We&&We.videoRobustness&&We.videoRobustness.length>0?We.videoRobustness:Re,Lt=Oe.sessionType,zt=We&&We.distinctiveIdentifier?We.distinctiveIdentifier:"optional",Rt=We&&We.persistentState?We.persistentState:"temporary"===Lt?"optional":"required";return De.forEach(function($t){$t.type===ce.AUDIO?$e.push(new b.default($t.codec,ot)):$t.type===ce.VIDEO&&lt.push(new b.default($t.codec,dt))}),new w.default($e,lt,zt,Rt,[Lt])}function Bt(Oe){Oe.error?C.trigger(B.KEY_STATUSES_CHANGED,{data:null,error:Oe.error}):se.debug("DRM: key status = "+Oe.status)}function At(Oe){se.debug("DRM: onKeyMessage");var We=Oe.data;C.trigger(B.KEY_MESSAGE,{data:We});var $e=We.messageType?We.messageType:"license-request",lt=We.message,ot=We.sessionToken,dt=$(Ie),Lt=T.getLicenseServerModelInstance(Ie,dt,$e),zt={sessionToken:ot,messageType:$e};if(lt&&0!==lt.byteLength){if(!Lt)return se.debug("DRM: License server request not required for this message (type = "+Oe.data.messageType+").  Session ID = "+ot.getSessionId()),void jt(zt);if(T.isClearKey(Ie)){var Rt=T.processClearKeyLicenseRequest(Ie,dt,lt);if(Rt&&Rt.keyPairs&&Rt.keyPairs.length>0)return se.debug("DRM: ClearKey license request handled by application!"),jt(zt),void N.updateKeySession(ot,Rt)}!function Qt(Oe,We,$e){var lt=Oe.sessionToken,ot=Oe.messageType?Oe.messageType:"license-request",dt={sessionToken:lt,messageType:ot},Lt=Ie?Ie.systemString:null,zt=function Gt(Oe,We,$e,lt,ot){var dt=null,Lt=lt.message;if(Oe&&Oe.serverURL){var zt=Oe.serverURL;"string"==typeof zt&&""!==zt?dt=zt:"object"===M(zt)&&zt.hasOwnProperty(We)&&(dt=zt[We])}else if(Oe&&Oe.laURL&&""!==Oe.laURL)dt=Oe.laURL;else if(!(dt=t.default.getLicenseServerUrlFromMediaInfo(De,Ie.schemeIdURI))&&!T.isClearKey(Ie)){var Rt=t.default.getPSSHData($e.initData);(dt=Ie.getLicenseServerURLFromInitData(Rt))||(dt=lt.laURL)}return ot.getServerURLFromMessage(dt,Lt,We)}($e,ot,lt,Oe,We);if(zt){var Rt={},$t=!1;$e&&Cn(Rt,$e.httpRequestHeaders);var an=Oe.message;Cn(Rt,Ie.getRequestHeadersFromMessage(an)),Object.keys(Rt).forEach(function(et){"authorization"===et.toLowerCase()&&($t=!0)}),$e&&"boolean"==typeof $e.withCredentials&&($t=$e.withCredentials);var An=function(wt){if(N)if(wt.status>=200&&wt.status<=299){var qt=f.default.parseHttpHeaders(wt.getAllResponseHeaders?wt.getAllResponseHeaders():null),wn=new D.default(wt.responseURL,qt,wt.response);xt(K.getLicenseResponseFilters(),wn).then(function(){var Wt=We.getLicenseMessage(wn.data,Lt,ot);null!==Wt?(jt(dt),N.updateKeySession(lt,Wt)):en(wt,dt,Lt,ot,We)})}else en(wt,dt,Lt,ot,We)},Ln=function(wt){jt(dt,new F.default(E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Lt+' update, XHR aborted. status is "'+wt.statusText+'" ('+wt.status+"), readyState is "+wt.readyState))},Zn=function(wt){jt(dt,new F.default(E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Lt+' update, XHR error. status is "'+wt.statusText+'" ('+wt.status+"), readyState is "+wt.readyState))},Kn=Ie.getLicenseRequestFromMessage(an),ci=We.getHTTPMethod(ot),vn=We.getResponseType(Lt,ot),gn=$e&&!isNaN($e.httpTimeout)?$e.httpTimeout:8e3,Et=lt.getSessionId()||null,ut=new L.default(zt,ci,vn,Rt,$t,ot,Et,Kn),Xt=isNaN(le.get().streaming.retryAttempts[p.HTTPRequest.LICENSE])?3:le.get().streaming.retryAttempts[p.HTTPRequest.LICENSE];xt(K.getLicenseRequestFilters(),ut).then(function(){cn(ut,Xt,gn,An,Ln,Zn)})}else jt(dt,new F.default(E.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(We,Lt,dt)}else jt(zt,new F.default(E.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function jt(Oe,We){C.trigger(B.LICENSE_REQUEST_COMPLETE,{data:Oe,error:We})}function cn(Oe,We,$e,lt,ot,dt){var Lt=new XMLHttpRequest;if(le.get().streaming.cmcd&&le.get().streaming.cmcd.enabled&&le.get().streaming.cmcd.mode===g.default.CMCD_MODE_QUERY){var Rt=q.getQueryParameter({url:Oe.url,type:p.HTTPRequest.LICENSE});Rt&&(Oe.url=f.default.addAditionalQueryParameterToUrl(Oe.url,[Rt]))}for(var $t in Lt.open(Oe.method,Oe.url,!0),Lt.responseType=Oe.responseType,Lt.withCredentials=Oe.withCredentials,$e>0&&(Lt.timeout=$e),Oe.headers)Lt.setRequestHeader($t,Oe.headers[$t]);if(le.get().streaming.cmcd&&le.get().streaming.cmcd.enabled&&le.get().streaming.cmcd.mode===g.default.CMCD_MODE_HEADER){var mn=q.getHeaderParameters({url:Oe.url,type:p.HTTPRequest.LICENSE});if(mn)for(var An in mn){var Ln=mn[An];Ln&&Lt.setRequestHeader(An,Ln)}}var Zn=function(){We--;var ci=isNaN(le.get().streaming.retryIntervals[p.HTTPRequest.LICENSE])?1e3:le.get().streaming.retryIntervals[p.HTTPRequest.LICENSE];ke=setTimeout(function(){cn(Oe,We,$e,lt,ot,dt)},ci)};Lt.onload=function(){Ue=null,this.status>=200&&this.status<=299||We<=0?lt(this):(se.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+We),Zn())},Lt.ontimeout=Lt.onerror=function(){Ue=null,We<=0?dt(this):(se.warn("License request network request failed . Retrying it... Pending retries: "+We),Zn())},Lt.onabort=function(){ot(this)},C.trigger(B.LICENSE_REQUEST_SENDING,{url:Oe.url,headers:Oe.headers,payload:Oe.data,sessionId:Oe.sessionId}),Ue=Lt,Lt.send(Oe.data)}function dn(){Ue&&(Ue.onloadend=Ue.onerror=Ue.onprogress=void 0,Ue.abort(),Ue=null),ke&&(clearTimeout(ke),ke=null)}function Cn(Oe,We){if(We)for(var $e in We)Oe[$e]=We[$e]}function en(Oe,We,$e,lt,ot){var dt="NONE",Lt=null;Oe.response&&(dt=ot.getErrorResponse(Oe.response,$e,lt),Lt={serverResponse:Oe.response||null,responseCode:Oe.status||null,responseText:Oe.statusText||null}),jt(We,new F.default(E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+$e+' update, XHR complete. status is "'+Oe.statusText+'" ('+Oe.status+"), readyState is "+Oe.readyState+".  Response is "+dt,Lt))}function xt(Oe,We){return Oe?Oe.reduce(function($e,lt){return $e.then(function(){return lt(We)})},Promise.resolve()):Promise.resolve()}function ft(Oe,We){if(!le.get().streaming.protection.ignoreEmeEncryptedEvent){if(se.debug("DRM: onNeedKey"),"cenc"!==Oe.key.initDataType)return void se.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Oe.key.initDataType);if(0===De.length&&(se.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(We=typeof We>"u"?1:We+1)<5))return void Fe.push(setTimeout(function(){ft(Oe,We)},500));var $e=Oe.key.initData;if(ArrayBuffer.isView($e)&&($e=$e.buffer),Ie){var lt=t.default.getPSSHForKeySystem(Ie,$e);if(lt&&ee(lt))return}se.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array($e)));var ot=T.getSupportedKeySystemsFromSegmentPssh($e,Le,he);if(0===ot.length)return void se.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function Ne(Oe){me.push(Oe),Se(Oe,!1)}(ot)}}return _e={initializeForMedia:function st(Oe){if(!Oe)throw new Error("mediaInfo can not be null or undefined");Ke(),De.push(Oe)},clearMediaInfoArray:function ie(){De=[]},handleKeySystemFromManifest:function Qe(){if(De&&0!==De.length){var Oe=[];De.forEach(function(We){var $e=T.getSupportedKeySystemsFromContentProtection(We.contentProtection,Le,he);$e.length>0&&(0===Oe.length&&(Oe=$e),me.push($e))}),Oe&&Oe.length>0&&Se(Oe,!0)}},createKeySession:X,loadKeySession:Q,removeKeySession:function fe(Oe){Ke(),N.removeKeySession(Oe)},closeKeySession:function ye(Oe){Ke(),N.closeKeySession(Oe)},setServerCertificate:function ue(Oe){Ke(),N.setServerCertificate(Oe)},setMediaElement:Me,setSessionType:function Ye(Oe){he=Oe},setRobustnessLevel:function Ge(Oe){Re=Oe},setProtectionData:function at(Oe){Le=Oe,T.setProtectionData(Oe)},getSupportedKeySystemsFromContentProtection:function re(Oe){return Ke(),T.getSupportedKeySystemsFromContentProtection(Oe,Le,he)},getKeySystems:function Xe(){return T?T.getKeySystems():[]},setKeySystems:function xe(Oe){T&&T.setKeySystems(Oe)},stop:function ct(){dn(),N&&N.stop()},reset:function rt(){C.off(B.INTERNAL_KEY_MESSAGE,At,_e),C.off(B.INTERNAL_KEY_STATUS_CHANGED,Bt,_e),Ke(),dn(),Me(null),Ie=null,ge=!1,N&&(N.reset(),N=null),Fe.forEach(function(Oe){return clearTimeout(Oe)}),Fe=[],De=[],me=[]}},function we(){se=Y.getLogger(_e),me=[],De=[],he="temporary",Re="",Ue=null,ke=null,C.on(B.INTERNAL_KEY_MESSAGE,At,_e),C.on(B.INTERNAL_KEY_STATUS_CHANGED,Bt,_e)}(),_e}x.__dashjs_factory_name="ProtectionController",S.default=y.default.getClassFactory(x)},"./src/streaming/protection/controllers/ProtectionKeyController.js":
/*!*************************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionKeyController.js ***!
                  \*************************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=c(
/*! ./../drm/KeySystemClearKey */
"./src/streaming/protection/drm/KeySystemClearKey.js"),w=c(
/*! ./../drm/KeySystemW3CClearKey */
"./src/streaming/protection/drm/KeySystemW3CClearKey.js"),E=c(
/*! ./../drm/KeySystemWidevine */
"./src/streaming/protection/drm/KeySystemWidevine.js"),F=c(
/*! ./../drm/KeySystemPlayReady */
"./src/streaming/protection/drm/KeySystemPlayReady.js"),L=c(
/*! ./../servers/DRMToday */
"./src/streaming/protection/servers/DRMToday.js"),D=c(
/*! ./../servers/PlayReady */
"./src/streaming/protection/servers/PlayReady.js"),p=c(
/*! ./../servers/Widevine */
"./src/streaming/protection/servers/Widevine.js"),f=c(
/*! ./../servers/ClearKey */
"./src/streaming/protection/servers/ClearKey.js"),g=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function y(){var U,R,V,k,P,x,O,T,M=this.context;function me(he,Re){return Re&&he in Re?Re[he]:null}function De(he,Re){return he&&he.sessionId?he.sessionId:Re&&Re.sessionId?Re.sessionId:null}function Le(he,Re){return he&&he.sessionType?he.sessionType:Re}return U={initialize:function C(){var he;k=[],he=Object(F.default)(M).getInstance({BASE64:P,settings:x}),k.push(he),he=Object(E.default)(M).getInstance({BASE64:P}),k.push(he),he=Object(b.default)(M).getInstance({BASE64:P}),k.push(he),O=he,he=Object(w.default)(M).getInstance({BASE64:P,debug:R}),k.push(he),T=he},setProtectionData:function se(he){for(var Ie=0;Ie<k.length;Ie++){var ge=k[Ie];ge.hasOwnProperty("init")&&ge.init((ke=ge.systemString,we=void 0,we=null,he&&(we=ke in he?he[ke]:null),we))}var ke,we},isClearKey:function ce(he){return he===O||he===T},initDataEquals:function Fe(he,Re){if(he.byteLength===Re.byteLength){for(var Ie=new Uint8Array(he),ge=new Uint8Array(Re),Ue=0;Ue<Ie.length;Ue++)if(Ie[Ue]!==ge[Ue])return!1;return!0}return!1},getKeySystems:function B(){return k},setKeySystems:function Y(he){k=he},getKeySystemBySystemString:function J(he){for(var Re=0;Re<k.length;Re++)if(k[Re].systemString===he)return k[Re];return null},getSupportedKeySystemsFromContentProtection:function q(he,Re,Ie){var ge,Ue,ke,we,Ke=[];if(he){var st=t.default.findCencContentProtection(he);for(ke=0;ke<k.length;++ke){var Qe=me((Ue=k[ke]).systemString,Re);for(we=0;we<he.length;++we)if((ge=he[we]).schemeIdUri.toLowerCase()===Ue.schemeIdURI){var Ne=Ue.getInitData(ge,st);Ke.push({ks:k[ke],keyId:ge.keyId,initData:Ne,protData:Qe,cdmData:Ue.getCDMData(Qe?Qe.cdmData:null),sessionId:De(Qe,ge),sessionType:Le(Qe,Ie)})}}}return Ke},getSupportedKeySystemsFromSegmentPssh:function le(he,Re,Ie){for(var ke,ge=[],Ue=t.default.parsePSSHList(he),Ke=0;Ke<k.length;++Ke){var st=me((ke=k[Ke]).systemString,Re);ke.uuid in Ue&&ge.push({ks:ke,initData:Ue[ke.uuid],protData:st,cdmData:ke.getCDMData(st?st.cdmData:null),sessionId:De(st),sessionType:Le(st,Ie)})}return ge},getLicenseServerModelInstance:function K(he,Re,Ie){if("license-release"===Ie||"individualization-request"===Ie)return null;var ge=null;return Re&&Re.hasOwnProperty("drmtoday")?ge=Object(L.default)(M).getInstance({BASE64:P}):he.systemString===g.default.WIDEVINE_KEYSTEM_STRING?ge=Object(p.default)(M).getInstance():he.systemString===g.default.PLAYREADY_KEYSTEM_STRING?ge=Object(D.default)(M).getInstance():he.systemString===g.default.CLEARKEY_KEYSTEM_STRING&&(ge=Object(f.default)(M).getInstance()),ge},processClearKeyLicenseRequest:function _e(he,Re,Ie){try{return he.getClearKeysFromProtectionData(Re,Ie)}catch{return V.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function N(he){he&&(he.debug&&(V=(R=he.debug).getLogger(U)),he.BASE64&&(P=he.BASE64),he.settings&&(x=he.settings))}}}y.__dashjs_factory_name="ProtectionKeyController",S.default=dashjs.FactoryMaker.getSingletonFactory(y)},"./src/streaming/protection/drm/KeySystemClearKey.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemClearKey.js ***!
                  \***********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),b=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),w=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),F="e2719d58-a985-b3c9-781a-b030af78d30e",L=E.default.CLEARKEY_KEYSTEM_STRING,D="urn:uuid:"+F;function p(f){var y=(f=f||{}).BASE64;function R(O){try{var T=O.replace(/-/g,"");return(T=btoa(T.match(/\w{2}/g).map(function(N){return String.fromCharCode(parseInt(N,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}return{uuid:F,schemeIdURI:D,systemString:L,getInitData:function U(O,T){try{var N=w.default.parseInitDataFromContentProtection(O,y);if(!N&&T){var B={kids:[R(T["cenc:default_KID"])]};N=(new TextEncoder).encode(JSON.stringify(B))}return N}catch{return null}},getRequestHeadersFromMessage:function V(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function k(O){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(O))))},getLicenseServerURLFromInitData:function P(){return null},getCDMData:function x(){return null},getClearKeysFromProtectionData:function M(O,T){var N=null;if(O){for(var C=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(T))),B=[],Y=0;Y<C.kids.length;Y++){var J=C.kids[Y],ce=O.clearkeys&&O.clearkeys.hasOwnProperty(J)?O.clearkeys[J]:null;if(!ce)throw new Error("DRM: ClearKey keyID ("+J+") is not known!");B.push(new t.default(J,ce))}N=new b.default(B)}return N}}}p.__dashjs_factory_name="KeySystemClearKey",S.default=dashjs.FactoryMaker.getSingletonFactory(p)},"./src/streaming/protection/drm/KeySystemPlayReady.js":
/*!************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemPlayReady.js ***!
                  \************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),w="9a04f079-9840-4286-ab92-e65be0885f95",E=b.default.PLAYREADY_KEYSTEM_STRING,F="urn:uuid:"+w;function D(p){var g="utf-16",y=(p=p||{}).BASE64,M=p.settings;function U(){if(!y||!y.hasOwnProperty("decodeArray")||!y.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:w,schemeIdURI:F,systemString:E,getInitData:function P(T){var J,ce,Fe,q,le,N=new Uint8Array([112,115,115,104,0,0,0,0]),C=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),B=0,Y=null;if(U(),!T)return null;if("pssh"in T)return t.default.parseInitDataFromContentProtection(T,y);if("pro"in T)Y=y.decodeArray(T.pro.__text);else{if(!("prheader"in T))return null;Y=y.decodeArray(T.prheader.__text)}return ce=4+N.length+C.length+4+(J=Y.length),Fe=new ArrayBuffer(ce),q=new Uint8Array(Fe),(le=new DataView(Fe)).setUint32(B,ce),q.set(N,B+=4),q.set(C,B+=N.length),le.setUint32(B+=C.length,J),q.set(Y,B+=4),B+=J,q.buffer},getRequestHeadersFromMessage:function R(T){var N,C,B={},Y=new DOMParser;if(M&&M.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===g&&T&&T.byteLength%2==1)return B["Content-Type"]="text/xml; charset=utf-8",B;var J="utf-16"===g?new Uint16Array(T):new Uint8Array(T);N=String.fromCharCode.apply(null,J);for(var ce=(C=Y.parseFromString(N,"application/xml")).getElementsByTagName("name"),Fe=C.getElementsByTagName("value"),q=0;q<ce.length;q++)B[ce[q].childNodes[0].nodeValue]=Fe[q].childNodes[0].nodeValue;return B.hasOwnProperty("Content")&&(B["Content-Type"]=B.Content,delete B.Content),B.hasOwnProperty("Content-Type")||(B["Content-Type"]="text/xml; charset=utf-8"),B},getLicenseRequestFromMessage:function V(T){var N=null,C=new DOMParser;if(M&&M.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===g&&T&&T.byteLength%2==1)return T;var B="utf-16"===g?new Uint16Array(T):new Uint8Array(T);U();var Y=String.fromCharCode.apply(null,B),J=C.parseFromString(Y,"application/xml");if(!J.getElementsByTagName("PlayReadyKeyMessage")[0])return T;var ce=J.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return ce&&(N=y.decode(ce)),N},getLicenseServerURLFromInitData:function k(T){if(T)for(var N=new DataView(T),C=N.getUint16(4,!0),B=6,Y=new DOMParser,J=0;J<C;J++){var ce=N.getUint16(B,!0),Fe=N.getUint16(B+=2,!0);if(B+=2,1===ce){var q=T.slice(B,B+Fe),le=String.fromCharCode.apply(null,new Uint16Array(q)),K=Y.parseFromString(le,"application/xml");if(K.getElementsByTagName("LA_URL")[0]){var _e=K.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(_e)return _e}if(K.getElementsByTagName("LUI_URL")[0]){var se=K.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(se)return se}}else B+=Fe}return null},getCDMData:function O(T){var N,C,B,Y;if(U(),!T)return null;for(N=[],Y=0;Y<T.length;++Y)N.push(T.charCodeAt(Y)),N.push(0);for(N=String.fromCharCode.apply(null,N),N=y.encode(N),C='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",N),B=[],Y=0;Y<C.length;++Y)B.push(C.charCodeAt(Y)),B.push(0);return new Uint8Array(B).buffer},setPlayReadyMessageFormat:function x(T){if("utf-8"!==T&&"utf-16"!==T)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');g=T}}}D.__dashjs_factory_name="KeySystemPlayReady",S.default=dashjs.FactoryMaker.getSingletonFactory(D)},"./src/streaming/protection/drm/KeySystemW3CClearKey.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemW3CClearKey.js ***!
                  \**************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),b=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),w=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),F="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",L=E.default.CLEARKEY_KEYSTEM_STRING,D="urn:uuid:"+F;function p(f){var g,y=f.BASE64,M=f.debug.getLogger(g);return{uuid:F,schemeIdURI:D,systemString:L,getInitData:function R(O){return w.default.parseInitDataFromContentProtection(O,y)},getRequestHeadersFromMessage:function V(){return null},getLicenseRequestFromMessage:function k(O){return new Uint8Array(O)},getLicenseServerURLFromInitData:function P(){return null},getCDMData:function x(){return null},getClearKeysFromProtectionData:function U(O,T){var N=null;if(O){for(var C=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(T))),B=[],Y=0;Y<C.kids.length;Y++){var J=C.kids[Y],ce=O.clearkeys&&O.clearkeys.hasOwnProperty(J)?O.clearkeys[J]:null;if(!ce)throw new Error("DRM: ClearKey keyID ("+J+") is not known!");B.push(new t.default(J,ce))}N=new b.default(B),M.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return N}}}p.__dashjs_factory_name="KeySystemW3CClearKey",S.default=dashjs.FactoryMaker.getSingletonFactory(p)},"./src/streaming/protection/drm/KeySystemWidevine.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemWidevine.js ***!
                  \***********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),w="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",E=b.default.WIDEVINE_KEYSTEM_STRING,F="urn:uuid:"+w;function L(D){var f=(D=D||{}).BASE64;return{uuid:w,schemeIdURI:F,systemString:E,getInitData:function g(V){return t.default.parseInitDataFromContentProtection(V,f)},getRequestHeadersFromMessage:function y(){return null},getLicenseRequestFromMessage:function M(V){return new Uint8Array(V)},getLicenseServerURLFromInitData:function U(){return null},getCDMData:function R(){return null}}}L.__dashjs_factory_name="KeySystemWidevine",S.default=dashjs.FactoryMaker.getSingletonFactory(L)},"./src/streaming/protection/errors/ProtectionErrors.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/protection/errors/ProtectionErrors.js ***!
                  \*************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function b(P){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function w(P,x){for(var O=0;O<x.length;O++){var T=x[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,F(T.key),T)}}function F(P){var x=function L(P,x){if("object"!==b(P)||null===P)return P;var O=P[Symbol.toPrimitive];if(void 0!==O){var T=O.call(P,x||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===b(x)?x:String(x)}function p(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&f(P,x)}function f(P,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function g(P){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(P);if(x){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function y(P,x){if(x&&("object"===b(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function M(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function R(P){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(P)}c.r(S);var k=new(function(P){p(O,P);var x=g(O);function O(){var T;return function D(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,O),(T=x.call(this)).MEDIA_KEYERR_CODE=100,T.MEDIA_KEYERR_UNKNOWN_CODE=101,T.MEDIA_KEYERR_CLIENT_CODE=102,T.MEDIA_KEYERR_SERVICE_CODE=103,T.MEDIA_KEYERR_OUTPUT_CODE=104,T.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,T.MEDIA_KEYERR_DOMAIN_CODE=106,T.MEDIA_KEY_MESSAGE_ERROR_CODE=107,T.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,T.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,T.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,T.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,T.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,T.KEY_SESSION_CREATED_ERROR_CODE=113,T.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,T.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",T.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",T.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",T.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",T.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",T.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",T.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",T.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",T.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",T.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",T.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",T.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",T.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",T.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",T}return function E(P,x,O){return x&&w(P.prototype,x),O&&w(P,O),Object.defineProperty(P,"prototype",{writable:!1}),P}(O)}(c(
/*! ../../../core/errors/ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));S.default=k},"./src/streaming/protection/models/ProtectionModel_01b.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_01b.js ***!
                  \****************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),b=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),w=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),E=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),F=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),L=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),D=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js");function p(f){var k,P,x,O,T,N,C,B,Y,g=this.context,y=(f=f||{}).eventBus,M=f.events,U=f.debug,R=f.api,V=f.errHandler;function ce(){x&&Ue();for(var ke=0;ke<C.length;ke++)De(C[ke]);y.trigger(M.TEARDOWN_COMPLETE)}function De(ke){try{x[R.cancelKeyRequest](O.systemString,ke.sessionId)}catch(we){y.trigger(M.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+ke.sessionId+") "+we.message})}}function ge(ke,we){if(!we||!ke)return null;for(var Ke=ke.length,st=0;st<Ke;st++)if(ke[st].sessionId==we)return ke[st];return null}function Ue(){x.removeEventListener(R.keyerror,Y),x.removeEventListener(R.needkey,Y),x.removeEventListener(R.keymessage,Y),x.removeEventListener(R.keyadded,Y)}return k={getAllInitData:function Fe(){for(var ke=[],we=0;we<N.length;we++)ke.push(N[we].initData);for(var Ke=0;Ke<C.length;Ke++)ke.push(C[Ke].initData);return ke},getSessions:function q(){return C.concat(N)},requestKeySystemAccess:function le(ke){return new Promise(function(we,Ke){var st=x;st||(st=document.createElement("video"));for(var Qe=!1,Ne=0;Ne<ke.length;Ne++)for(var Se=ke[Ne].ks.systemString,W=ke[Ne].configs,ve=null,Q=0;Q<W.length;Q++){var X=W[Q].videoCapabilities;if(X&&0!==X.length){ve=[];for(var $=0;$<X.length;$++)""!==st.canPlayType(X[$].contentType,Se)&&ve.push(X[$])}if(ve&&(!ve||0!==ve.length)){Qe=!0;var ie=new F.default(null,ve),re=T.getKeySystemBySystemString(Se),te=new L.default(re,ie);y.trigger(M.KEY_SYSTEM_ACCESS_COMPLETE,{data:te}),we({data:te});break}}if(!Qe){var ee="Key system access denied! -- No valid audio/video content configurations detected!";y.trigger(M.KEY_SYSTEM_ACCESS_COMPLETE,{error:ee}),Ke({error:ee})}})},selectKeySystem:function K(ke){return O=ke.keySystem,Promise.resolve(O)},setMediaElement:function _e(ke){if(x!==ke){if(x){Ue();for(var we=0;we<C.length;we++)De(C[we]);C=[]}(x=ke)&&(x.addEventListener(R.keyerror,Y),x.addEventListener(R.needkey,Y),x.addEventListener(R.keymessage,Y),x.addEventListener(R.keyadded,Y),y.trigger(M.VIDEO_ELEMENT_SELECTED))}},createKeySession:function se(ke){if(!O)throw new Error("Can not create sessions until you have selected a key system");if(B||0===C.length){var we={sessionId:null,keyId:ke.keyId,initData:ke.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return N.push(we),x[R.generateKeyRequest](O.systemString,new Uint8Array(ke.initData)),we}throw new Error("Multiple sessions not allowed!")},updateKeySession:function me(ke,we){var Ke=ke.sessionId;if(T.isClearKey(O))for(var st=0;st<we.keyPairs.length;st++)x[R.addKey](O.systemString,we.keyPairs[st].key,we.keyPairs[st].keyID,Ke);else x[R.addKey](O.systemString,new Uint8Array(we),new Uint8Array(ke.initData),Ke);y.trigger(M.KEY_SESSION_UPDATED)},closeKeySession:De,setServerCertificate:function Le(){},loadKeySession:function he(){},removeKeySession:function Re(){},stop:ce,reset:ce},function J(){P=U.getLogger(k),x=null,O=null,N=[],C=[],T=Object(t.default)(g).getInstance(),Y=function Ie(){return{handleEvent:function(we){var Ke=null;switch(we.type){case R.needkey:var st=ArrayBuffer.isView(we.initData)?we.initData.buffer:we.initData;y.trigger(M.NEED_KEY,{key:new b.default(st,"cenc")});break;case R.keyerror:if((Ke=ge(C,we.sessionId))||(Ke=ge(N,we.sessionId)),Ke){var Qe=D.default.MEDIA_KEYERR_CODE,Ne="";switch(we.errorCode.code){case 1:Qe=D.default.MEDIA_KEYERR_UNKNOWN_CODE,Ne+="MEDIA_KEYERR_UNKNOWN - "+D.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:Qe=D.default.MEDIA_KEYERR_CLIENT_CODE,Ne+="MEDIA_KEYERR_CLIENT - "+D.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:Qe=D.default.MEDIA_KEYERR_SERVICE_CODE,Ne+="MEDIA_KEYERR_SERVICE - "+D.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:Qe=D.default.MEDIA_KEYERR_OUTPUT_CODE,Ne+="MEDIA_KEYERR_OUTPUT - "+D.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:Qe=D.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,Ne+="MEDIA_KEYERR_HARDWARECHANGE - "+D.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:Qe=D.default.MEDIA_KEYERR_DOMAIN_CODE,Ne+="MEDIA_KEYERR_DOMAIN - "+D.default.MEDIA_KEYERR_DOMAIN_MESSAGE}y.trigger(M.KEY_ERROR,{error:new w.default(Qe,Ne+="  System Code = "+we.systemCode,Ke)})}else P.error("No session token found for key error");break;case R.keyadded:(Ke=ge(C,we.sessionId))||(Ke=ge(N,we.sessionId)),Ke?(P.debug("DRM: Key added."),y.trigger(M.KEY_ADDED,{data:Ke})):P.debug("No session token found for key added");break;case R.keymessage:if((B=null!=we.sessionId)?!(Ke=ge(C,we.sessionId))&&N.length>0&&(Ke=N.shift(),C.push(Ke),Ke.sessionId=we.sessionId,y.trigger(M.KEY_SESSION_CREATED,{data:Ke})):N.length>0&&(Ke=N.shift(),C.push(Ke),0!==N.length&&V.error(new w.default(D.default.MEDIA_KEY_MESSAGE_ERROR_CODE,D.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Ke){var Se=ArrayBuffer.isView(we.message)?we.message.buffer:we.message;Ke.keyMessage=Se,y.trigger(M.INTERNAL_KEY_MESSAGE,{data:new E.default(Ke,Se,we.defaultURL)})}else P.warn("No session token found for key message")}}}}()}(),k}p.__dashjs_factory_name="ProtectionModel_01b",S.default=dashjs.FactoryMaker.getClassFactory(p)},"./src/streaming/protection/models/ProtectionModel_21Jan2015.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_21Jan2015.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),b=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),w=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),E=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),L=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),D=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),p={};function f(g){var V,k,P,x,O,T,N,C,y=this.context,M=(g=g||{}).eventBus,U=g.events,R=g.debug;function le(Qe,Ne,Se,W){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var ae="Insecure origins are not allowed";return M.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{error:ae}),void W({error:ae})}var X=Qe[Ne].ks,$=X.systemString;(function K(Qe,Ne){return new Promise(function(Se,W){_e(Qe,Ne,0,Se,W)})})((Qe[Ne].protData&&Qe[Ne].protData.systemStringPriority?Qe[Ne].protData.systemStringPriority:null)||(p[$]?p[$]:[$]),Qe[Ne].configs).then(function(re){var te="function"==typeof re.getConfiguration?re.getConfiguration():null,ee=new L.default(X,te);ee.mksa=re,M.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{data:ee}),Se({data:ee})}).catch(function(re){if(Ne+1<Qe.length)le(Qe,Ne+1,Se,W);else{var te="Key system access denied! ";M.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{error:te+re.message}),W({error:te+re.message})}})}function _e(Qe,Ne,Se,W,ae){var ve=Qe[Se];k.debug("Requesting key system access for system string ".concat(ve)),navigator.requestMediaKeySystemAccess(ve,Ne).then(function(Q){Q.selectedSystemString=ve,W(Q)}).catch(function(Q){Se+1<Qe.length?_e(Qe,Ne,Se+1,W,ae):ae(Q)})}function Ue(Qe){var Ne=Qe.session;return Ne.removeEventListener("keystatuseschange",Qe),Ne.removeEventListener("message",Qe),Ne.close()}function we(Qe){for(var Ne=0;Ne<T.length;Ne++)if(T[Ne]===Qe){T.splice(Ne,1);break}}function Ke(Qe){var Ne,Se;return Qe&&Qe.length>0&&(Qe[0]&&("string"==typeof Qe[0]?Ne=Qe[0]:Se=Qe[0]),Qe[1]&&("string"==typeof Qe[1]?Ne=Qe[1]:Se=Qe[1])),{status:Ne,keyId:Se}}function st(Qe,Ne){var Se={session:Qe,keyId:Ne.keyId,initData:Ne.initData,sessionId:Ne.sessionId,sessionType:Ne.sessionType,handleEvent:function(ae){switch(ae.type){case"keystatuseschange":M.trigger(U.KEY_STATUSES_CHANGED,{data:this}),ae.target.keyStatuses.forEach(function(){var Q=Ke(arguments);M.trigger(U.INTERNAL_KEY_STATUS_CHANGED,"expired"===Q.status?{error:new E.default(w.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,w.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:Q)});break;case"message":var ve=ArrayBuffer.isView(ae.message)?ae.message.buffer:ae.message;M.trigger(U.INTERNAL_KEY_MESSAGE,{data:new F.default(this,ve,void 0,ae.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return Qe.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return Qe.expiration},getKeyStatuses:function(){return Qe.keyStatuses},getUsable:function(){var ae=!1;return Qe.keyStatuses.forEach(function(){"usable"===Ke(arguments).status&&(ae=!0)}),ae}};return Qe.addEventListener("keystatuseschange",Se),Qe.addEventListener("message",Se),Qe.closed.then(function(){we(Se),k.debug("DRM: Session closed.  SessionID = "+Se.getSessionId()),M.trigger(U.KEY_SESSION_CLOSED,{data:Se.getSessionId()})}),T.push(Se),Se}return V={getAllInitData:function ce(){for(var Qe=[],Ne=0;Ne<T.length;Ne++)T[Ne].initData&&Qe.push(T[Ne].initData);return Qe},getSessions:function Fe(){return T},requestKeySystemAccess:function q(Qe){return new Promise(function(Ne,Se){le(Qe,0,Ne,Se)})},selectKeySystem:function se(Qe){return new Promise(function(Ne,Se){Qe.mksa.createMediaKeys().then(function(W){return P=Qe.keySystem,O=W,x?x.setMediaKeys(O):Promise.resolve()}).then(function(){Ne(P)}).catch(function(){Se({error:"Error selecting keys system ("+Qe.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function me(Qe){x!==Qe&&(x&&(x.removeEventListener("encrypted",N),x.setMediaKeys&&x.setMediaKeys(null)),(x=Qe)&&(x.addEventListener("encrypted",N),x.setMediaKeys&&O&&x.setMediaKeys(O)))},setServerCertificate:function De(Qe){if(!P||!O)throw new Error("Can not set server certificate until you have selected a key system");O.setServerCertificate(Qe).then(function(){k.info("DRM: License server certificate successfully updated."),M.trigger(U.SERVER_CERTIFICATE_UPDATED)}).catch(function(Ne){M.trigger(U.SERVER_CERTIFICATE_UPDATED,{error:new E.default(w.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,w.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+Ne.name)})})},createKeySession:function Le(Qe){if(!P||!O)throw new Error("Can not create sessions until you have selected a key system");var Ne=O.createSession(Qe.sessionType),Se=st(Ne,Qe);Ne.generateRequest(P.systemString===D.default.CLEARKEY_KEYSTEM_STRING&&(Qe.initData||Qe.protData&&Qe.protData.clearkeys)?D.default.INITIALIZATION_DATA_TYPE_KEYIDS:D.default.INITIALIZATION_DATA_TYPE_CENC,Qe.initData).then(function(){k.debug("DRM: Session created.  SessionID = "+Se.getSessionId()),M.trigger(U.KEY_SESSION_CREATED,{data:Se})}).catch(function(ae){we(Se),M.trigger(U.KEY_SESSION_CREATED,{data:null,error:new E.default(w.default.KEY_SESSION_CREATED_ERROR_CODE,w.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+ae.name)})})},updateKeySession:function he(Qe,Ne){var Se=Qe.session;C.isClearKey(P)&&(Ne=Ne.toJWK()),Se.update(Ne).then(function(){M.trigger(U.KEY_SESSION_UPDATED)}).catch(function(W){M.trigger(U.KEY_ERROR,{error:new E.default(w.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+W.name,Qe)})})},loadKeySession:function Re(Qe){if(!P||!O)throw new Error("Can not load sessions until you have selected a key system");for(var Ne=Qe.sessionId,Se=0;Se<T.length;Se++)if(Ne===T[Se].sessionId)return void k.warn("DRM: Ignoring session ID because we have already seen it!");var W=O.createSession(Qe.sessionType),ae=st(W,Qe);W.load(Ne).then(function(ve){ve?(k.debug("DRM: Session loaded.  SessionID = "+ae.getSessionId()),M.trigger(U.KEY_SESSION_CREATED,{data:ae})):(we(ae),M.trigger(U.KEY_SESSION_CREATED,{data:null,error:new E.default(w.default.KEY_SESSION_CREATED_ERROR_CODE,w.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+Ne+")")}))}).catch(function(ve){we(ae),M.trigger(U.KEY_SESSION_CREATED,{data:null,error:new E.default(w.default.KEY_SESSION_CREATED_ERROR_CODE,w.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+Ne+")! "+ve.name)})})},removeKeySession:function Ie(Qe){Qe.session.remove().then(function(){k.debug("DRM: Session removed.  SessionID = "+Qe.getSessionId()),M.trigger(U.KEY_SESSION_REMOVED,{data:Qe.getSessionId()})},function(Se){M.trigger(U.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+Qe.getSessionId()+"). "+Se.name})})},closeKeySession:function ge(Qe){Ue(Qe).catch(function(Ne){we(Qe),M.trigger(U.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Qe.getSessionId()+") "+Ne.name})})},stop:function J(){for(var Qe,Ne=0;Ne<T.length;Ne++)(Qe=T[Ne]).getUsable()||Ue(Qe).catch(function(){we(Qe)})},reset:function Y(){var Ne,Qe=T.length;0!==Qe?function(){for(var Se=function(ve){we(ve),0===T.length&&(x?(x.removeEventListener("encrypted",N),x.setMediaKeys(null).then(function(){M.trigger(U.TEARDOWN_COMPLETE)})):M.trigger(U.TEARDOWN_COMPLETE))},W=0;W<Qe;W++)!function(ae){Ne.session.closed.then(function(){Se(ae)}),Ue(Ne).catch(function(){Se(ae)})}(Ne=T[W])}():M.trigger(U.TEARDOWN_COMPLETE)}},function B(){k=R.getLogger(V),P=null,x=null,O=null,T=[],C=Object(t.default)(y).getInstance(),N=function ke(){return{handleEvent:function(Ne){if("encrypted"===Ne.type&&Ne.initData){var Se=ArrayBuffer.isView(Ne.initData)?Ne.initData.buffer:Ne.initData;M.trigger(U.NEED_KEY,{key:new b.default(Se,Ne.initDataType)})}}}}()}(),V}p[D.default.PLAYREADY_KEYSTEM_STRING]=[D.default.PLAYREADY_KEYSTEM_STRING,D.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],p[D.default.WIDEVINE_KEYSTEM_STRING]=[D.default.WIDEVINE_KEYSTEM_STRING],p[D.default.CLEARKEY_KEYSTEM_STRING]=[D.default.CLEARKEY_KEYSTEM_STRING],f.__dashjs_factory_name="ProtectionModel_21Jan2015",S.default=dashjs.FactoryMaker.getClassFactory(f)},"./src/streaming/protection/models/ProtectionModel_3Feb2014.js":
/*!*********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_3Feb2014.js ***!
                  \*********************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),b=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),w=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),E=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),L=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),D=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js");function p(f){var V,k,P,x,O,T,N,C,B,g=this.context,y=(f=f||{}).eventBus,M=f.events,U=f.debug,R=f.api;function J(){try{for(var Ue=0;Ue<N.length;Ue++)me(N[Ue]);P&&P.removeEventListener(R.needkey,C),y.trigger(M.TEARDOWN_COMPLETE)}catch(ke){y.trigger(M.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+ke.message})}}function me(Ue){var ke=Ue.session;ke.removeEventListener(R.error,Ue),ke.removeEventListener(R.message,Ue),ke.removeEventListener(R.ready,Ue),ke.removeEventListener(R.close,Ue);for(var we=0;we<N.length;we++)if(N[we]===Ue){N.splice(we,1);break}ke[R.release]()}function Ie(){var Ue=null,ke=function(){P.removeEventListener("loadedmetadata",Ue),P[R.setMediaKeys](O),y.trigger(M.VIDEO_ELEMENT_SELECTED)};P.readyState>=1?ke():(Ue=ke.bind(this),P.addEventListener("loadedmetadata",Ue))}return V={getAllInitData:function ce(){for(var Ue=[],ke=0;ke<N.length;ke++)Ue.push(N[ke].initData);return Ue},getSessions:function Fe(){return N},requestKeySystemAccess:function q(Ue){return new Promise(function(ke,we){for(var Ke=!1,st=0;st<Ue.length;st++)for(var Qe=Ue[st].ks.systemString,Ne=Ue[st].configs,Se=null,W=null,ae=0;ae<Ne.length;ae++){var ve=Ne[ae].audioCapabilities,Q=Ne[ae].videoCapabilities;if(ve&&0!==ve.length){Se=[];for(var X=0;X<ve.length;X++)window[R.MediaKeys].isTypeSupported(Qe,ve[X].contentType)&&Se.push(ve[X])}if(Q&&0!==Q.length){W=[];for(var $=0;$<Q.length;$++)window[R.MediaKeys].isTypeSupported(Qe,Q[$].contentType)&&W.push(Q[$])}if(!(!Se&&!W||Se&&0===Se.length||W&&0===W.length)){Ke=!0;var ie=new L.default(Se,W),re=B.getKeySystemBySystemString(Qe),te=new D.default(re,ie);y.trigger(M.KEY_SYSTEM_ACCESS_COMPLETE,{data:te}),ke({data:te});break}}if(!Ke){var ee="Key system access denied! -- No valid audio/video content configurations detected!";y.trigger(M.KEY_SYSTEM_ACCESS_COMPLETE,{error:ee}),we({error:ee})}})},selectKeySystem:function le(Ue){return new Promise(function(ke,we){try{O=Ue.mediaKeys=new window[R.MediaKeys](Ue.keySystem.systemString),x=Ue.keySystem,T=Ue,P&&Ie(),ke(x)}catch{we({error:"Error selecting keys system ("+x.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function K(Ue){P!==Ue&&(P&&P.removeEventListener(R.needkey,C),(P=Ue)&&(P.addEventListener(R.needkey,C),O&&Ie()))},createKeySession:function _e(Ue){if(!x||!O||!T)throw new Error("Can not create sessions until you have selected a key system");var ke=null;if(T.ksConfiguration.videoCapabilities&&T.ksConfiguration.videoCapabilities.length>0&&(ke=T.ksConfiguration.videoCapabilities[0]),null===ke&&T.ksConfiguration.audioCapabilities&&T.ksConfiguration.audioCapabilities.length>0&&(ke=T.ksConfiguration.audioCapabilities[0]),null===ke)throw new Error("Can not create sessions for unknown content types.");var Ke=O.createSession(ke.contentType,new Uint8Array(Ue.initData),Ue.cdmData?new Uint8Array(Ue.cdmData):null),st=function ge(Ue,ke){return{session:Ue,keyId:ke.keyId,initData:ke.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(Ke){switch(Ke.type){case R.error:y.trigger(M.KEY_ERROR,{error:new w.default(E.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case R.message:var Qe=ArrayBuffer.isView(Ke.message)?Ke.message.buffer:Ke.message;y.trigger(M.INTERNAL_KEY_MESSAGE,{data:new F.default(this,Qe,Ke.destinationURL)});break;case R.ready:k.debug("DRM: Key added."),y.trigger(M.KEY_ADDED);break;case R.close:k.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),y.trigger(M.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(Ke,Ue);Ke.addEventListener(R.error,st),Ke.addEventListener(R.message,st),Ke.addEventListener(R.ready,st),Ke.addEventListener(R.close,st),N.push(st),k.debug("DRM: Session created.  SessionID = "+st.getSessionId()),y.trigger(M.KEY_SESSION_CREATED,{data:st})},updateKeySession:function se(Ue,ke){var we=Ue.session;B.isClearKey(x)?we.update(new Uint8Array(ke.toJWK())):we.update(new Uint8Array(ke)),y.trigger(M.KEY_SESSION_UPDATED)},closeKeySession:me,setServerCertificate:function De(){},loadKeySession:function Le(){},removeKeySession:function he(){},stop:J,reset:J},function Y(){k=U.getLogger(V),P=null,x=null,O=null,T=null,N=[],B=Object(t.default)(g).getInstance(),C=function Re(){return{handleEvent:function(ke){if(ke.type===R.needkey&&ke.initData){var we=ArrayBuffer.isView(ke.initData)?ke.initData.buffer:ke.initData;y.trigger(M.NEED_KEY,{key:new b.default(we,"cenc")})}}}}()}(),V}p.__dashjs_factory_name="ProtectionModel_3Feb2014",S.default=dashjs.FactoryMaker.getClassFactory(p)},"./src/streaming/protection/servers/ClearKey.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/ClearKey.js ***!
                  \******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),b=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js");function w(){return{getServerURLFromMessage:function F(g){return g},getHTTPMethod:function L(){return"POST"},getResponseType:function D(){return"json"},getLicenseMessage:function p(g){if(!g.hasOwnProperty("keys"))return null;for(var y=[],M=0;M<g.keys.length;M++){var U=g.keys[M],R=U.kid.replace(/=/g,""),V=U.k.replace(/=/g,"");y.push(new t.default(R,V))}return new b.default(y)},getErrorResponse:function f(g){return String.fromCharCode.apply(null,new Uint8Array(g))}}}w.__dashjs_factory_name="ClearKey",S.default=dashjs.FactoryMaker.getSingletonFactory(w)},"./src/streaming/protection/servers/DRMToday.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/DRMToday.js ***!
                  \******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function b(w){var E=(w=w||{}).BASE64,F={};return F[t.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(R){return E.decodeArray(R.license)},getErrorResponse:function(R){return R}},F[t.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(R){return R},getErrorResponse:function(R){return String.fromCharCode.apply(null,new Uint8Array(R))}},{getServerURLFromMessage:function p(U){return U},getHTTPMethod:function f(){return"POST"},getResponseType:function g(U){return F[U].responseType},getLicenseMessage:function y(U,R){return function D(){if(!E||!E.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),F[R].getLicenseMessage(U)},getErrorResponse:function M(U,R){return F[R].getErrorResponse(U)}}}b.__dashjs_factory_name="DRMToday",S.default=dashjs.FactoryMaker.getSingletonFactory(b)},"./src/streaming/protection/servers/PlayReady.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/servers/PlayReady.js ***!
                  \*******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(){var w="http://schemas.xmlsoap.org/soap/envelope/";function E(M){var U=String.fromCharCode.apply(null,new Uint8Array(M));return decodeURIComponent(escape(U))}function F(M){if(window.DOMParser){var U=E(M),V=(new window.DOMParser).parseFromString(U,"text/xml"),k=V?V.getElementsByTagNameNS(w,"Envelope")[0]:null,P=k?k.getElementsByTagNameNS(w,"Body")[0]:null;if(P&&P.getElementsByTagNameNS(w,"Fault")[0])return null}return M}function L(M){var U="",R="",V="",k=-1,P=-1;if(window.DOMParser){var x=E(M),T=(new window.DOMParser).parseFromString(x,"text/xml"),N=T?T.getElementsByTagNameNS(w,"Envelope")[0]:null,C=N?N.getElementsByTagNameNS(w,"Body")[0]:null,B=C?C.getElementsByTagNameNS(w,"Fault")[0]:null,Y=B?B.getElementsByTagName("detail")[0]:null,J=Y?Y.getElementsByTagName("Exception")[0]:null,ce=null;if(null===B)return x;U=(ce=B.getElementsByTagName("faultstring")[0].firstChild)?ce.nodeValue:null,null!==J&&(R=(ce=J.getElementsByTagName("StatusCode")[0])?ce.firstChild.nodeValue:null,k=(V=(ce=J.getElementsByTagName("Message")[0])?ce.firstChild.nodeValue:null)?V.lastIndexOf("[")+1:-1,P=V?V.indexOf("]"):-1,V=V?V.substring(k,P):"")}var Fe="code: ".concat(R,", name: ").concat(U);return V&&(Fe+=", message: ".concat(V)),Fe}return{getServerURLFromMessage:function D(M){return M},getHTTPMethod:function p(){return"POST"},getResponseType:function f(){return"arraybuffer"},getLicenseMessage:function g(M){return F.call(this,M)},getErrorResponse:function y(M){return L.call(this,M)}}}c.r(S),t.__dashjs_factory_name="PlayReady",S.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/servers/Widevine.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/Widevine.js ***!
                  \******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(){return{getServerURLFromMessage:function w(p){return p},getHTTPMethod:function E(){return"POST"},getResponseType:function F(){return"arraybuffer"},getLicenseMessage:function L(p){return p},getErrorResponse:function D(p){return String.fromCharCode.apply(null,new Uint8Array(p))}}}c.r(S),t.__dashjs_factory_name="Widevine",S.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/vo/ClearKeyKeySet.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/ClearKeyKeySet.js ***!
                  \*******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,F(y.key),y)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(f,g){if(function b(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p),g&&"persistent"!==g&&"temporary"!==g)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=f,this.type=g}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"toJWK",value:function(){var g,y=this.keyPairs.length,M={keys:[]};for(g=0;g<y;g++)M.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[g].keyID,k:this.keyPairs[g].key});this.type&&(M.type=this.type);var R=JSON.stringify(M),V=R.length,k=new ArrayBuffer(V),P=new Uint8Array(k);for(g=0;g<V;g++)P[g]=R.charCodeAt(g);return k}}]),p}()},"./src/streaming/protection/vo/KeyMessage.js":
/*!***************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyMessage.js ***!
                  \***************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g,y,M){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.sessionToken=f,this.message=g,this.defaultURL=y,this.messageType=M||"license-request"})},"./src/streaming/protection/vo/KeyPair.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyPair.js ***!
                  \************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.keyID=f,this.key=g})},"./src/streaming/protection/vo/KeySystemAccess.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemAccess.js ***!
                  \********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.keySystem=f,this.ksConfiguration=g})},"./src/streaming/protection/vo/KeySystemConfiguration.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemConfiguration.js ***!
                  \***************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g,y,M,U){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.initDataTypes=["cenc"],f&&f.length&&(this.audioCapabilities=f),g&&g.length&&(this.videoCapabilities=g),this.distinctiveIdentifier=y,this.persistentState=M,this.sessionTypes=U})},"./src/streaming/protection/vo/LicenseRequest.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseRequest.js ***!
                  \*******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g,y,M,U,R,V,k){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=f,this.method=g,this.responseType=y,this.headers=M,this.withCredentials=U,this.messageType=R,this.sessionId=V,this.data=k})},"./src/streaming/protection/vo/LicenseResponse.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseResponse.js ***!
                  \********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g,y){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=f,this.headers=g,this.data=y})},"./src/streaming/protection/vo/MediaCapability.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/MediaCapability.js ***!
                  \********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.contentType=f,this.robustness=g})},"./src/streaming/protection/vo/NeedKey.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/NeedKey.js ***!
                  \************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.initData=f,this.initDataType=g})},"./src/streaming/rules/DroppedFramesHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/DroppedFramesHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var E={},F={},L={};return{push:function D(y,M,U){if(M){E[y]||(E[y]=[],F[y]=0,L[y]=0);var R=U&&U.droppedVideoFrames?U.droppedVideoFrames:0,V=U&&U.totalVideoFrames?U.totalVideoFrames:0,k=R-F[y];F[y]=R;var P=V-L[y];L[y]=V;var x=E[y];isNaN(M)||(x[M]?(x[M].droppedVideoFrames+=k,x[M].totalVideoFrames+=P):x[M]={droppedVideoFrames:k,totalVideoFrames:P})}},getFrameHistory:function p(y){return E[y]},clearForStream:function f(y){try{delete E[y],delete F[y],delete L[y]}catch{}},reset:function g(){E={},F={},L={}}}}b.__dashjs_factory_name="DroppedFramesHistory";var w=t.default.getClassFactory(b);S.default=w},"./src/streaming/rules/RulesContext.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/RulesContext.js ***!
                  \*********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(w){var F=(w=w||{}).abrController,L=w.switchHistory,D=w.droppedFramesHistory,p=w.currentRequest,f=w.useBufferOccupancyABR,g=w.useL2AABR,y=w.useLoLPABR,M=w.streamProcessor?w.streamProcessor.getScheduleController():null,U=w.streamProcessor?w.streamProcessor.getRepresentationInfo():null,R=w.videoModel?w.videoModel:null;function P(){return U?U.mediaInfo:null}return{getMediaType:function V(){var q=P();return q?q.type:null},getMediaInfo:P,getDroppedFramesHistory:function B(){return D},getCurrentRequest:function Y(){return p},getSwitchHistory:function N(){return L},getStreamInfo:function k(){var q=P();return q?q.streamInfo:null},getScheduleController:function O(){return M},getAbrController:function T(){return F},getRepresentationInfo:function x(){return U},useBufferOccupancyABR:function J(){return f},useL2AABR:function ce(){return g},useLoLPABR:function Fe(){return y},getVideoModel:function C(){return R}}}b.__dashjs_factory_name="RulesContext",S.default=t.default.getClassFactory(b)},"./src/streaming/rules/SwitchRequest.js":
/*!**********************************************!*\
                  !*** ./src/streaming/rules/SwitchRequest.js ***!
                  \**********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w={DEFAULT:.5,STRONG:1,WEAK:0};function E(L,D,p){return{quality:void 0===L?-1:L,reason:void 0===D?null:D,priority:function U(R){var V=w.DEFAULT;return(R===w.DEFAULT||R===w.STRONG||R===w.WEAK)&&(V=R),V}(p)}}E.__dashjs_factory_name="SwitchRequest";var F=t.default.getClassFactory(E);F.NO_CHANGE=-1,F.PRIORITY=w,t.default.updateClassFactory(E.__dashjs_factory_name,F),S.default=F},"./src/streaming/rules/SwitchRequestHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/SwitchRequestHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ./SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function E(){var L=[],D=[];return{push:function p(y){y.newValue===b.default.NO_CHANGE&&(y.newValue=y.oldValue),L[y.oldValue]||(L[y.oldValue]={noDrops:0,drops:0,dropSize:0});var M=y.newValue-y.oldValue,U=M<0?1:0,R=U?-M:0,V=U?0:1;if(L[y.oldValue].drops+=U,L[y.oldValue].dropSize+=R,L[y.oldValue].noDrops+=V,D.push({idx:y.oldValue,noDrop:V,drop:U,dropSize:R}),D.length>8){var k=D.shift();L[k.idx].drops-=k.drop,L[k.idx].dropSize-=k.dropSize,L[k.idx].noDrops-=k.noDrop}},getSwitchRequests:function f(){return L},reset:function g(){L=[],D=[]}}}E.__dashjs_factory_name="SwitchRequestHistory";var F=t.default.getClassFactory(E);S.default=F},"./src/streaming/rules/ThroughputHistory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/ThroughputHistory.js ***!
                  \**************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(E){var k,P,x,O,T,L=3,D=4,p=4,f=1.3,g=1.3,V=(E=E||{}).settings;function Y(he,Re,Ie,ge){var Ue=Math.pow(.5,Ie/ge.fast);he.fastEstimate=(1-Ue)*Re+Ue*he.fastEstimate;var ke=Math.pow(.5,Ie/ge.slow);he.slowEstimate=(1-ke)*Re+ke*he.slowEstimate,he.totalWeight+=Ie}function ce(he,Re,Ie){return V.get().streaming.abr.movingAverageMethod!==t.default.MOVING_AVERAGE_SLIDING_WINDOW?function q(he,Re){var Ie=he?T.throughputHalfLife:T.latencyHalfLife,ge=he?x[Re]:O[Re];if(!ge||ge.totalWeight<=0)return NaN;var Ue=ge.fastEstimate/(1-Math.pow(.5,ge.totalWeight/Ie.fast)),ke=ge.slowEstimate/(1-Math.pow(.5,ge.totalWeight/Ie.slow));return he?Math.min(Ue,ke):Math.max(Ue,ke)}(he,Re):function Fe(he,Re,Ie){var ge=function J(he,Re,Ie){var ge,Ue;if(he?(ge=k[Re],Ue=Ie?L:D):(ge=P[Re],Ue=p),ge){if(Ue>=ge.length)Ue=ge.length;else if(he)for(var ke=1;ke<Ue;++ke){var we=ge[ge.length-ke]/ge[ge.length-ke-1];if((we>=g||we<=1/f)&&(Ue+=1)===ge.length)break}}else Ue=0;return Ue}(he,Re,Ie),ke=(he?k:P)[Re];return 0!==ge&&ke&&0!==ke.length?(ke=ke.slice(-ge)).reduce(function(we,Ke){return we+Ke})/ke.length:NaN}(he,Re,Ie)}function le(he,Re){return ce(!0,he,Re)}function se(he){k[he]=k[he]||[],P[he]=P[he]||[],x[he]=x[he]||{fastEstimate:0,slowEstimate:0,totalWeight:0},O[he]=O[he]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function De(){k={},P={},x={},O={}}var Le={push:function B(he,Re,Ie){if(Re.trace&&Re.trace.length){var we,ge=Re.tresponse.getTime()-Re.trequest.getTime()||1,Ue=Re._tfinish.getTime()-Re.tresponse.getTime()||1,ke=Re.trace.reduce(function(st,Qe){return st+Qe.b[0]},0),Ke=0;if(0!==(we=Re._fileLoaderType&&Re._fileLoaderType===t.default.FILE_LOADER_TYPES.FETCH?Re.trace.reduce(function(st,Qe){return st+Qe.d},0):Ie?Ue:ge+Ue)&&(Ke=Math.round(8*ke/we)),se(he),function C(he,Re,Ie){return he===t.default.VIDEO?Ie<V.get().streaming.cacheLoadThresholds[t.default.VIDEO]:he===t.default.AUDIO?Ie<V.get().streaming.cacheLoadThresholds[t.default.AUDIO]:void 0}(he,0,Ue)){if(k[he].length>0&&!k[he].hasCachedEntries)return;k[he].hasCachedEntries=!0}else k[he]&&k[he].hasCachedEntries&&function me(he){delete k[he],delete P[he],delete x[he],delete O[he],se(he)}(he);k[he].push(Ke),k[he].length>20&&k[he].shift(),P[he].push(ge),P[he].length>20&&P[he].shift(),Y(x[he],Ke,.001*Ue,T.throughputHalfLife),Y(O[he],ge,1,T.latencyHalfLife)}},getAverageThroughput:le,getSafeAverageThroughput:function K(he,Re){var Ie=le(he,Re);return isNaN(Ie)||(Ie*=V.get().streaming.abr.bandwidthSafetyFactor),Ie},getAverageLatency:function _e(he){return ce(!1,he)},reset:De};return function N(){T={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},De()}(),Le}w.__dashjs_factory_name="ThroughputHistory",S.default=b.default.getClassFactory(w)},"./src/streaming/rules/abr/ABRRulesCollection.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/rules/abr/ABRRulesCollection.js ***!
                  \*******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./ThroughputRule */
"./src/streaming/rules/abr/ThroughputRule.js"),b=c(
/*! ./InsufficientBufferRule */
"./src/streaming/rules/abr/InsufficientBufferRule.js"),w=c(
/*! ./AbandonRequestsRule */
"./src/streaming/rules/abr/AbandonRequestsRule.js"),E=c(
/*! ./DroppedFramesRule */
"./src/streaming/rules/abr/DroppedFramesRule.js"),F=c(
/*! ./SwitchHistoryRule */
"./src/streaming/rules/abr/SwitchHistoryRule.js"),L=c(
/*! ./BolaRule */
"./src/streaming/rules/abr/BolaRule.js"),D=c(
/*! ./L2ARule.js */
"./src/streaming/rules/abr/L2ARule.js"),p=c(
/*! ./lolp/LoLpRule.js */
"./src/streaming/rules/abr/lolp/LoLpRule.js"),f=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),y=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),M="qualitySwitchRules",U="abandonFragmentRules";function R(k){var B,Y,P=this.context,x=(k=k||{}).mediaPlayerModel,O=k.customParametersModel,T=k.dashMetrics,N=k.settings;function ce(se){return se.filter(function(me){return me.quality>g.default.NO_CHANGE})}function Fe(se){var Le,he,Re,Ie,ge,me={},De=null;if(0!==se.length){for(me[g.default.PRIORITY.STRONG]={quality:g.default.NO_CHANGE,reason:null},me[g.default.PRIORITY.WEAK]={quality:g.default.NO_CHANGE,reason:null},me[g.default.PRIORITY.DEFAULT]={quality:g.default.NO_CHANGE,reason:null},Le=0,he=se.length;Le<he;Le+=1)(Re=se[Le]).quality!==g.default.NO_CHANGE&&(me[Re.priority].quality===g.default.NO_CHANGE||me[Re.priority].quality>Re.quality)&&(me[Re.priority].quality=Re.quality,me[Re.priority].reason=Re.reason||null);return me[g.default.PRIORITY.WEAK].quality!==g.default.NO_CHANGE&&(De=me[g.default.PRIORITY.WEAK]),me[g.default.PRIORITY.DEFAULT].quality!==g.default.NO_CHANGE&&(De=me[g.default.PRIORITY.DEFAULT]),me[g.default.PRIORITY.STRONG].quality!==g.default.NO_CHANGE&&(De=me[g.default.PRIORITY.STRONG]),De&&(Ie=De.quality,ge=De.reason),Object(g.default)(P).create(Ie,ge)}}return{initialize:function J(){B=[],Y=[],N.get().streaming.abr.useDefaultABRRules&&(N.get().streaming.abr.ABRStrategy===y.default.ABR_STRATEGY_L2A?B.push(Object(D.default)(P).create({dashMetrics:T,settings:N})):N.get().streaming.abr.ABRStrategy===y.default.ABR_STRATEGY_LoLP?B.push(Object(p.default)(P).create({dashMetrics:T})):(B.push(Object(L.default)(P).create({dashMetrics:T,mediaPlayerModel:x,settings:N})),B.push(Object(t.default)(P).create({dashMetrics:T})),N.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&B.push(Object(b.default)(P).create({dashMetrics:T,settings:N})),N.get().streaming.abr.additionalAbrRules.switchHistoryRule&&B.push(Object(F.default)(P).create()),N.get().streaming.abr.additionalAbrRules.droppedFramesRule&&B.push(Object(E.default)(P).create()),N.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&Y.push(Object(w.default)(P).create({dashMetrics:T,mediaPlayerModel:x,settings:N})))),O.getAbrCustomRules().forEach(function(me){me.type===M&&B.push(me.rule(P).create()),me.type===U&&Y.push(me.rule(P).create())})},reset:function K(){[B,Y].forEach(function(se){se&&se.length&&se.forEach(function(me){return me.reset&&me.reset()})}),B=[],Y=[]},getMaxQuality:function q(se){return Fe(ce(B.map(function(he){return he.getMaxIndex(se)})))||Object(g.default)(P).create()},getMinSwitchRequest:Fe,shouldAbandonFragment:function le(se,me){return Fe(ce(Y.map(function(Re){return Re.shouldAbandon(se,me)})))||Object(g.default)(P).create()},getQualitySwitchRules:function _e(){return B}}}R.__dashjs_factory_name="ABRRulesCollection";var V=f.default.getClassFactory(R);V.QUALITY_SWITCH_RULES=M,V.ABANDON_FRAGMENT_RULES=U,f.default.updateSingletonFactory(R.__dashjs_factory_name,V),S.default=V},"./src/streaming/rules/abr/AbandonRequestsRule.js":
/*!********************************************************!*\
                  !*** ./src/streaming/rules/abr/AbandonRequestsRule.js ***!
                  \********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),b=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ../../../core/Debug */
"./src/core/Debug.js");function E(F){var U,R,V,k,P,f=this.context,g=(F=F||{}).mediaPlayerModel,y=F.dashMetrics,M=F.settings;function C(){V={},k={},P=[]}return U={shouldAbandon:function N(B){var Y=Object(t.default)(f).create(t.default.NO_CHANGE,{name:E.__dashjs_factory_name});if(!(B&&B.hasOwnProperty("getMediaInfo")&&B.hasOwnProperty("getMediaType")&&B.hasOwnProperty("getCurrentRequest")&&B.hasOwnProperty("getRepresentationInfo")&&B.hasOwnProperty("getAbrController")))return Y;var J=B.getMediaInfo(),ce=B.getMediaType(),Fe=B.getStreamInfo(),q=Fe?Fe.id:null,le=B.getCurrentRequest();if(!isNaN(le.index)){!function O(B,Y){V[B]=V[B]||{},V[B][Y]=V[B][Y]||{}}(ce,le.index);var K=g.getStableBufferTime();if(y.getCurrentBufferLevel(ce)>K)return Y;var se=V[ce][le.index];if(null===se||null===le.firstByteDate||k.hasOwnProperty(se.id))return Y;if(void 0===se.firstByteTime&&(P[ce]=[],se.firstByteTime=le.firstByteDate.getTime(),se.segmentDuration=le.duration,se.bytesTotal=le.bytesTotal,se.id=le.index),se.bytesLoaded=le.bytesLoaded,se.elapsedTime=(new Date).getTime()-se.firstByteTime,se.bytesLoaded>0&&se.elapsedTime>0&&function T(B,Y){P[B]=P[B]||[],P[B].push(Y)}(ce,Math.round(8*se.bytesLoaded/se.elapsedTime)),P[ce].length>=5&&se.elapsedTime>500&&se.bytesLoaded<se.bytesTotal){var me=P[ce].reduce(function(ke,we){return ke+we},0);if(se.measuredBandwidthInKbps=Math.round(me/P[ce].length),se.estimatedTimeOfDownload=+(8*se.bytesTotal/se.measuredBandwidthInKbps/1e3).toFixed(2),se.estimatedTimeOfDownload<1.8*se.segmentDuration||0===B.getRepresentationInfo().quality)return Y;if(!k.hasOwnProperty(se.id)){var De=B.getAbrController(),Le=se.bytesTotal-se.bytesLoaded,he=De.getBitrateList(J),Re=De.getQualityForBitrate(J,se.measuredBandwidthInKbps*M.get().streaming.abr.bandwidthSafetyFactor,q),Ie=De.getMinAllowedIndexFor(ce,q),ge=void 0!==Ie?Math.max(Ie,Re):Re;Le>se.bytesTotal*he[ge].bitrate/he[De.getQualityFor(ce,q)].bitrate&&(Y.quality=ge,Y.reason.throughput=se.measuredBandwidthInKbps,Y.reason.fragmentID=se.id,k[se.id]=se,R.debug("["+ce+"] frag id",se.id," is asking to abandon and switch to quality to ",ge," measured bandwidth was",se.measuredBandwidthInKbps),delete V[ce][se.id])}}else se.bytesLoaded===se.bytesTotal&&delete V[ce][se.id]}return Y},reset:C},function x(){R=Object(w.default)(f).getInstance().getLogger(U),C()}(),U}E.__dashjs_factory_name="AbandonRequestsRule",S.default=b.default.getClassFactory(E)},"./src/streaming/rules/abr/BolaRule.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/abr/BolaRule.js ***!
                  \*********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),w=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),p=c(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),U=10;function k(P){var C,B,Y,x=this.context,O=(P=P||{}).dashMetrics,T=P.mediaPlayerModel,N=Object(F.default)(x).getInstance();function Fe(Ne,Se,W){var ae=W.reduce(function($,ie,re){return ie>W[$]?re:$},0);if(0===ae)return null;var ve=Math.max(Ne,U+2*Se.length),Q=(W[ae]-1)/(ve/U-1);return{gp:Q,Vp:U/Q}}function q(Ne){var Se={},ae=Ne.getMediaInfo().bitrateList.map(function($){return $.bandwidth}),ve=function ce(Ne){return Ne.map(function(Se){return Math.log(Se)})}(ae);ve=ve.map(function($){return $-ve[0]+1});var Q=T.getStableBufferTime(),X=Fe(Q,ae,ve);return X?(Se.state=1,Se.bitrates=ae,Se.utilities=ve,Se.stableBufferTime=Q,Se.Vp=X.Vp,Se.gp=X.gp,Se.lastQuality=0,le(Se)):Se.state=0,Se}function le(Ne){Ne.placeholderBuffer=0,Ne.mostAdvancedSegmentStart=NaN,Ne.lastSegmentWasReplacement=!1,Ne.lastSegmentStart=NaN,Ne.lastSegmentDurationS=NaN,Ne.lastSegmentRequestTimeMs=NaN,Ne.lastSegmentFinishTimeMs=NaN}function K(Ne,Se){var W=T.getStableBufferTime();if(Ne.stableBufferTime!==W){var ae=Fe(W,Ne.bitrates,Ne.utilities);if(ae.Vp!==Ne.Vp||ae.gp!==Ne.gp){var ve=O.getCurrentBufferLevel(Se),Q=ve+Ne.placeholderBuffer;Q-=U,Q*=ae.Vp/Ne.Vp,Q+=U,Ne.stableBufferTime=W,Ne.Vp=ae.Vp,Ne.gp=ae.gp,Ne.placeholderBuffer=Math.max(0,Q-ve)}}}function me(Ne,Se){return Ne.Vp*(Ne.utilities[Se]+Ne.gp)}function De(Ne,Se){for(var W=Ne.bitrates[Se],ae=Ne.utilities[Se],ve=0,Q=Se-1;Q>=0;--Q)if(Ne.utilities[Q]<Ne.utilities[Se]){var X=Ne.bitrates[Q];ve=Math.max(ve,Ne.Vp*(Ne.gp+(W*Ne.utilities[Q]-X*ae)/(W-X)))}return ve}function he(Ne){var W=Ne.mediaType===f.default.AUDIO?[f.default.AUDIO]:Y;for(var ae in W)Y.hasOwnProperty(ae)&&2===Y[ae].state&&(Y[ae].placeholderBuffer=0)}function Re(){for(var Ne in Y)if(Y.hasOwnProperty(Ne)){var Se=Y[Ne];0!==Se.state&&(Se.state=1,le(Se))}}function Ie(Ne){if(Ne&&Ne.chunk&&Ne.chunk.mediaInfo){var Se=Y[Ne.chunk.mediaInfo.type];if(Se&&0!==Se.state){var W=Ne.chunk.start;isNaN(Se.mostAdvancedSegmentStart)||W>Se.mostAdvancedSegmentStart?(Se.mostAdvancedSegmentStart=W,Se.lastSegmentWasReplacement=!1):Se.lastSegmentWasReplacement=!0,Se.lastSegmentStart=W,Se.lastSegmentDurationS=Ne.chunk.duration,Se.lastQuality=Ne.chunk.quality,Ue(Se,Ne.chunk.mediaInfo.type)}}}function ge(Ne){if(Ne&&Ne.metric===t.default.HTTP_REQUEST&&Ne.value&&Ne.value.type===E.HTTPRequest.MEDIA_SEGMENT_TYPE&&Ne.value.trace&&Ne.value.trace.length){var Se=Y[Ne.mediaType];Se&&0!==Se.state&&(Se.lastSegmentRequestTimeMs=Ne.value.trequest.getTime(),Se.lastSegmentFinishTimeMs=Ne.value._tfinish.getTime(),Ue(Se,Ne.mediaType))}}function Ue(Ne,Se){if(!isNaN(Ne.lastSegmentStart)&&!isNaN(Ne.lastSegmentRequestTimeMs)&&!isNaN(Ne.placeholderBuffer)){if(Ne.placeholderBuffer*=.99,!isNaN(Ne.lastSegmentFinishTimeMs)){var ae=O.getCurrentBufferLevel(Se)+.001*(Ne.lastSegmentFinishTimeMs-Ne.lastSegmentRequestTimeMs),ve=me(Ne,Ne.lastQuality),Q=Math.max(0,ve-ae);Ne.placeholderBuffer=Math.min(Q,Ne.placeholderBuffer)}Ne.lastSegmentWasReplacement&&!isNaN(Ne.lastSegmentDurationS)&&(Ne.placeholderBuffer+=Ne.lastSegmentDurationS),Ne.lastSegmentStart=NaN,Ne.lastSegmentRequestTimeMs=NaN}}function ke(Ne){if(Ne){var Se=Y[Ne.mediaType];Se&&0!==Se.state&&(Se.abrQuality=Ne.newQuality)}}function we(Ne){if(Ne){var Se=Y[Ne.mediaType];if(Se&&0!==Se.state){var ae,W=O.getCurrentBufferLevel(Ne.mediaType);ae=Se.abrQuality>0?De(Se,Se.abrQuality):U;var ve=Math.max(0,ae-W);Se.placeholderBuffer=Math.min(Se.placeholderBuffer,ve)}}}function st(){Y={}}return C={getMaxIndex:function Ke(Ne){var Se=Object(b.default)(x).create();if(!(Ne&&Ne.hasOwnProperty("getMediaInfo")&&Ne.hasOwnProperty("getMediaType")&&Ne.hasOwnProperty("getScheduleController")&&Ne.hasOwnProperty("getStreamInfo")&&Ne.hasOwnProperty("getAbrController")&&Ne.hasOwnProperty("useBufferOccupancyABR")))return Se;var W=Ne.getMediaInfo(),ae=Ne.getMediaType(),ve=Ne.getScheduleController(),Q=Ne.getStreamInfo(),X=Ne.getAbrController(),$=X.getThroughputHistory(),ie=Q?Q.id:null,re=Q&&Q.manifestInfo&&Q.manifestInfo.isDynamic,te=Ne.useBufferOccupancyABR();if(Se.reason=Se.reason||{},!te)return Se;ve.setTimeToLoadDelay(0);var ee=function _e(Ne){var Se=Ne.getMediaType(),W=Y[Se];return W?0!==W.state&&K(W,Se):(W=q(Ne),Y[Se]=W),W}(Ne);if(0===ee.state)return Se;var Ye,fe=O.getCurrentBufferLevel(ae),ye=$.getAverageThroughput(ae,re),ue=$.getSafeAverageThroughput(ae,re),Me=$.getAverageLatency(ae);if(Se.reason.state=ee.state,Se.reason.throughput=ye,Se.reason.latency=Me,isNaN(ye))return Se;switch(ee.state){case 1:Ye=X.getQualityForBitrate(W,ue,ie,Me),Se.quality=Ye,Se.reason.throughput=ue,ee.placeholderBuffer=Math.max(0,De(ee,Ye)-fe),ee.lastQuality=Ye,!isNaN(ee.lastSegmentDurationS)&&fe>=ee.lastSegmentDurationS&&(ee.state=2);break;case 2:(function Le(Ne,Se){var W=Date.now();isNaN(Ne.lastSegmentFinishTimeMs)?isNaN(Ne.lastCallTimeMs)||(Ne.placeholderBuffer+=Math.max(0,.001*(W-Ne.lastCallTimeMs))):Ne.placeholderBuffer+=Math.max(0,.001*(W-Ne.lastSegmentFinishTimeMs)),Ne.lastCallTimeMs=W,Ne.lastSegmentStart=NaN,Ne.lastSegmentRequestTimeMs=NaN,Ne.lastSegmentFinishTimeMs=NaN,K(Ne,Se)})(ee,ae),Ye=function se(Ne,Se){for(var W=Ne.bitrates.length,ae=NaN,ve=NaN,Q=0;Q<W;++Q){var X=(Ne.Vp*(Ne.utilities[Q]+Ne.gp)-Se)/Ne.bitrates[Q];(isNaN(ve)||X>=ve)&&(ve=X,ae=Q)}return ae}(ee,fe+ee.placeholderBuffer);var Ge=X.getQualityForBitrate(W,ue,ie,Me);Ye>ee.lastQuality&&Ye>Ge&&(Ye=Math.max(Ge,ee.lastQuality));var at=Math.max(0,fe+ee.placeholderBuffer-me(ee,Ye));at<=ee.placeholderBuffer?(ee.placeholderBuffer-=at,at=0):(at-=ee.placeholderBuffer,ee.placeholderBuffer=0,Ye<X.getMaxAllowedIndexFor(ae,ie)?ve.setTimeToLoadDelay(1e3*at):at=0),Se.quality=Ye,Se.reason.throughput=ye,Se.reason.latency=Me,Se.reason.bufferLevel=fe,Se.reason.placeholderBuffer=ee.placeholderBuffer,Se.reason.delay=at,ee.lastQuality=Ye;break;default:B.debug("BOLA ABR rule invoked in bad state."),Se.quality=X.getQualityForBitrate(W,ue,ie,Me),Se.reason.state=ee.state,Se.reason.throughput=ue,Se.reason.latency=Me,ee.state=1,le(ee)}return Se},reset:function Qe(){st(),N.off(p.default.BUFFER_EMPTY,he,C),N.off(p.default.PLAYBACK_SEEKING,Re,C),N.off(p.default.METRIC_ADDED,ge,C),N.off(p.default.QUALITY_CHANGE_REQUESTED,ke,C),N.off(p.default.FRAGMENT_LOADING_ABANDONED,we,C),N.off(L.default.MEDIA_FRAGMENT_LOADED,Ie,C)}},function J(){B=Object(D.default)(x).getInstance().getLogger(C),st(),N.on(p.default.BUFFER_EMPTY,he,C),N.on(p.default.PLAYBACK_SEEKING,Re,C),N.on(p.default.METRIC_ADDED,ge,C),N.on(p.default.QUALITY_CHANGE_REQUESTED,ke,C),N.on(p.default.FRAGMENT_LOADING_ABANDONED,we,C),N.on(L.default.MEDIA_FRAGMENT_LOADED,Ie,C)}(),C}k.__dashjs_factory_name="BolaRule",S.default=w.default.getClassFactory(k)},"./src/streaming/rules/abr/DroppedFramesRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/DroppedFramesRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),w=c(
/*! ../../../core/Debug */
"./src/core/Debug.js");function E(){var L,D,F=this.context;return L={getMaxIndex:function y(M){var U=Object(b.default)(F).create();if(!M||!M.hasOwnProperty("getDroppedFramesHistory"))return U;var R=M.getDroppedFramesHistory(),V=M.getStreamInfo().id;if(R){var k=R.getFrameHistory(V);if(!k||0===k.length)return U;for(var P=0,x=0,O=b.default.NO_CHANGE,T=1;T<k.length;T++)if(k[T]&&(P=k[T].droppedVideoFrames,(x=k[T].totalVideoFrames)>375&&P/x>.15)){D.debug("index: "+(O=T-1)+" Dropped Frames: "+P+" Total Frames: "+x);break}return Object(b.default)(F).create(O,{droppedFrames:P})}return U}},function g(){D=Object(w.default)(F).getInstance().getLogger(L)}(),L}E.__dashjs_factory_name="DroppedFramesRule",S.default=t.default.getClassFactory(E)},"./src/streaming/rules/abr/InsufficientBufferRule.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/rules/abr/InsufficientBufferRule.js ***!
                  \***********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),F=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),L=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),D=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),p=c(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function f(g){g=g||{};var k,P,x,M=2,U=this.context,R=Object(t.default)(U).getInstance(),V=g.dashMetrics;function B(){(x={})[L.default.VIDEO]={ignoreCount:M},x[L.default.AUDIO]={ignoreCount:M}}function Y(){B()}function J(Fe){!isNaN(Fe.startTime)&&(Fe.mediaType===L.default.AUDIO||Fe.mediaType===L.default.VIDEO)&&x[Fe.mediaType].ignoreCount>0&&x[Fe.mediaType].ignoreCount--}return k={getMaxIndex:function N(Fe){var q=Object(F.default)(U).create();if(!Fe||!Fe.hasOwnProperty("getMediaType"))return q;!function T(){if(!V||!V.hasOwnProperty("getCurrentBufferLevel")||!V.hasOwnProperty("getCurrentBufferState"))throw new Error(L.default.MISSING_CONFIG_ERROR)}();var le=Fe.getMediaType(),K=V.getCurrentBufferState(le),se=Fe.getRepresentationInfo().fragmentDuration,me=Fe.getStreamInfo(),De=me?me.id:null,Le=Fe.getScheduleController(),he=me&&me.manifestInfo&&me.manifestInfo.isDynamic;if(function C(Fe,q){return!Fe&&x[q].ignoreCount>0}(Le.getPlaybackController().getLowLatencyModeEnabled(),le)||!se)return q;if(K&&K.state===D.default.BUFFER_EMPTY)P.debug("["+le+"] Switch to index 0; buffer is empty."),q.quality=0,q.reason="InsufficientBufferRule: Buffer is empty";else{var ge=Fe.getMediaInfo(),Ue=Fe.getAbrController(),ke=Ue.getThroughputHistory(),we=V.getCurrentBufferLevel(le),Ke=ke.getAverageThroughput(le,he),st=ke.getAverageLatency(le);q.quality=Ue.getQualityForBitrate(ge,Ke*(we/se)*.5,De,st),q.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return q},reset:function ce(){B(),R.off(p.default.PLAYBACK_SEEKING,Y,k),R.off(b.default.BYTES_APPENDED_END_FRAGMENT,J,k)}},function O(){P=Object(E.default)(U).getInstance().getLogger(k),B(),R.on(p.default.PLAYBACK_SEEKING,Y,k),R.on(b.default.BYTES_APPENDED_END_FRAGMENT,J,k)}(),k}f.__dashjs_factory_name="InsufficientBufferRule",S.default=w.default.getClassFactory(f)},"./src/streaming/rules/abr/L2ARule.js":
/*!********************************************!*\
                  !*** ./src/streaming/rules/abr/L2ARule.js ***!
                  \********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),w=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),p=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js");function M(U){var P,x,O,T,R=this.context,V=(U=U||{}).dashMetrics,k=Object(F.default)(R).getInstance();function C(he){var Re={},Ie=he.getMediaInfo(),ge=Ie.bitrateList.map(function(Ue){return Ue.bandwidth/1e3});return Re.state=1,Re.bitrates=ge,Re.lastQuality=0,function B(he){!he||!he.type||(O[he.type]={},O[he.type].w=[],O[he.type].prev_w=[],O[he.type].Q=0,O[he.type].segment_request_start_s=0,O[he.type].segment_download_finish_s=0,O[he.type].B_target=1.5)}(Ie),Y(Re),Re}function Y(he){he.placeholderBuffer=0,he.mostAdvancedSegmentStart=NaN,he.lastSegmentWasReplacement=!1,he.lastSegmentStart=NaN,he.lastSegmentDurationS=NaN,he.lastSegmentRequestTimeMs=NaN,he.lastSegmentFinishTimeMs=NaN}function ce(){for(var he in x)if(x.hasOwnProperty(he)){var Re=x[he];0!==Re.state&&(Re.state=1,Y(Re))}}function Fe(he){if(he&&he.chunk&&he.chunk.mediaInfo){var Re=x[he.chunk.mediaInfo.type],Ie=O[he.chunk.mediaInfo.type];if(Re&&0!==Re.state){var ge=he.chunk.start;isNaN(Re.mostAdvancedSegmentStart)||ge>Re.mostAdvancedSegmentStart?(Re.mostAdvancedSegmentStart=ge,Re.lastSegmentWasReplacement=!1):Re.lastSegmentWasReplacement=!0,Re.lastSegmentStart=ge,Re.lastSegmentDurationS=he.chunk.duration,Re.lastQuality=he.chunk.quality,le(Re,Ie)}}}function q(he){if(he&&he.metric===t.default.HTTP_REQUEST&&he.value&&he.value.type===E.HTTPRequest.MEDIA_SEGMENT_TYPE&&he.value.trace&&he.value.trace.length){var Re=x[he.mediaType],Ie=O[he.mediaType];Re&&0!==Re.state&&(Re.lastSegmentRequestTimeMs=he.value.trequest.getTime(),Re.lastSegmentFinishTimeMs=he.value._tfinish.getTime(),le(Re,Ie))}}function le(he,Re){!isNaN(he.lastSegmentStart)&&!isNaN(he.lastSegmentRequestTimeMs)&&(Re.segment_request_start_s=.001*he.lastSegmentRequestTimeMs,Re.segment_download_finish_s=.001*he.lastSegmentFinishTimeMs,he.lastSegmentStart=NaN,he.lastSegmentRequestTimeMs=NaN)}function K(he){if(he&&he.mediaType){var Re=x[he.mediaType];Re&&0!==Re.state&&(Re.abrQuality=he.newQuality)}}function _e(he,Re){if(he.length!==Re.length)return-1;for(var Ie=0,ge=0;ge<he.length;ge++)Ie+=he[ge]*Re[ge];return Ie}function De(){x={},O={}}return P={getMaxIndex:function me(he){var ee,Re=Object(b.default)(R).create(),ge=Math.pow(4,.99),Ue=Math.max(Math.pow(4,1),ge*Math.sqrt(4)),ke=he.getMediaInfo(),we=he.getMediaType(),Ke=ke.bitrateList.map(function(cn){return cn.bandwidth}),st=Ke.length,Qe=he.getScheduleController(),Ne=he.getStreamInfo(),Se=he.getAbrController(),W=Se.getThroughputHistory(),ae=Ne&&Ne.manifestInfo&&Ne.manifestInfo.isDynamic,ve=he.useL2AABR(),Q=V.getCurrentBufferLevel(we,!0),X=W.getSafeAverageThroughput(we,ae),$=W.getAverageThroughput(we,ae),re=W.getAverageLatency(we),fe=he.getVideoModel().getPlaybackRate();if(!(he&&he.hasOwnProperty("getMediaInfo")&&he.hasOwnProperty("getMediaType")&&he.hasOwnProperty("getScheduleController")&&he.hasOwnProperty("getStreamInfo")&&he.hasOwnProperty("getAbrController")&&he.hasOwnProperty("useL2AABR")&&(Re.reason=Re.reason||{},ve&&we!==p.default.AUDIO)))return Re;Qe.setTimeToLoadDelay(0);var ye=function J(he){var Re=he.getMediaType(),Ie=x[Re];return Ie||(Ie=C(he),x[Re]=Ie),Ie}(he);if(0===ye.state)return Re;var ue=O[we];if(!ue||(Re.reason.state=ye.state,Re.reason.throughput=$,Re.reason.latency=re,isNaN($)))return Re;switch(ye.state){case 1:if(ee=Se.getQualityForBitrate(ke,X,Ne.id,re),Re.quality=ee,Re.reason.throughput=X,ye.lastQuality=ee,!isNaN(ye.lastSegmentDurationS)&&Q>=ue.B_target){ye.state=2,ue.Q=ge;for(var Me=0;Me<st;++Me)ue.prev_w[Me]=Me===ye.lastQuality?1:0}break;case 2:var Ye=[],Ge=V.getCurrentHttpRequest(we).trace.reduce(function(cn,dn){return cn+dn.d},0),at=V.getCurrentHttpRequest(we).trace.reduce(function(cn,dn){return cn+dn.b[0]},0),ct=Math.round(8*at/Ge);ct<1&&(ct=1);for(var rt=ye.lastSegmentDurationS,_t=1,Bt=0;Bt<st;++Bt)Ke[Bt]=Ke[Bt]/1e3,fe*Ke[Bt]>ct&&(_t=-1),ue.w[Bt]=ue.prev_w[Bt]+_t*(rt/(2*Ue))*((ue.Q+ge)*(fe*Ke[Bt]/ct));ue.w=function se(he){for(var Re=he.length,Ie=!1,ge=[],Ue=0;Ue<Re;++Ue)ge[Ue]=he[Ue];for(var ke=he.sort(function(Se,W){return W-Se}),we=0,Ke=0,st=[],Qe=0;Qe<Re-1;++Qe)if((Ke=((we+=ke[Qe])-1)/(Qe+1))>=ke[Qe+1]){Ie=!0;break}Ie||(Ke=(we+ke[Re-1]-1)/Re);for(var Ne=0;Ne<Re;++Ne)st[Ne]=Math.max(ge[Ne]-Ke,0);return st}(ue.w);for(var At=0;At<st;++At)Ye[At]=ue.w[At]-ue.prev_w[At],ue.prev_w[At]=ue.w[At];ue.Q=Math.max(0,ue.Q-rt+rt*fe*((_e(Ke,ue.prev_w)+_e(Ke,Ye))/ct));for(var jt=[],Qt=0;Qt<st;++Qt)jt[Qt]=Math.abs(Ke[Qt]-_e(ue.w,Ke));(ee=jt.indexOf(Math.min.apply(Math,jt)))>ye.lastQuality&&Ke[ye.lastQuality+1]<=ct&&(ee=ye.lastQuality+1),Ke[ee]>=ct&&(ue.Q=2*Math.max(ge,ue.Q)),Re.quality=ee,Re.reason.throughput=$,Re.reason.latency=re,Re.reason.bufferLevel=Q,ye.lastQuality=Re.quality;break;default:T.debug("L2A ABR rule invoked in bad state."),Re.quality=Se.getQualityForBitrate(ke,X,Ne.id,re),Re.reason.state=ye.state,Re.reason.throughput=X,Re.reason.latency=re,ye.state=1,Y(ye)}return Re},reset:function Le(){De(),k.off(L.default.PLAYBACK_SEEKING,ce,P),k.off(L.default.MEDIA_FRAGMENT_LOADED,Fe,P),k.off(L.default.METRIC_ADDED,q,P),k.off(L.default.QUALITY_CHANGE_REQUESTED,K,P)}},function N(){T=Object(D.default)(R).getInstance().getLogger(P),De(),k.on(L.default.PLAYBACK_SEEKING,ce,P),k.on(L.default.MEDIA_FRAGMENT_LOADED,Fe,P),k.on(L.default.METRIC_ADDED,q,P),k.on(L.default.QUALITY_CHANGE_REQUESTED,K,P)}(),P}M.__dashjs_factory_name="L2ARule",S.default=w.default.getClassFactory(M)},"./src/streaming/rules/abr/SwitchHistoryRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/SwitchHistoryRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function E(){var L,D,F=this.context;return L={getMaxIndex:function y(M){for(var U=M?M.getSwitchHistory():null,R=U?U.getSwitchRequests():[],V=0,k=0,P=0,x=Object(w.default)(F).create(),O=0;O<R.length;O++)if(void 0!==R[O]&&(P+=R[O].dropSize,(V+=R[O].drops)+(k+=R[O].noDrops)>=6&&V/k>.075)){x.quality=O>0&&R[O].drops>0?O-1:O,x.reason={index:x.quality,drops:V,noDrops:k,dropSize:P},D.debug("Switch history rule index: "+x.quality+" samples: "+(V+k)+" drops: "+V);break}return x}},function g(){D=Object(b.default)(F).getInstance().getLogger(L)}(),L}E.__dashjs_factory_name="SwitchHistoryRule",S.default=t.default.getClassFactory(E)},"./src/streaming/rules/abr/ThroughputRule.js":
/*!***************************************************!*\
                  !*** ./src/streaming/rules/abr/ThroughputRule.js ***!
                  \***************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),w=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function F(L){var D=this.context,p=(L=L||{}).dashMetrics;return{getMaxIndex:function M(R){var V=Object(b.default)(D).create();if(!(R&&R.hasOwnProperty("getMediaInfo")&&R.hasOwnProperty("getMediaType")&&R.hasOwnProperty("useBufferOccupancyABR")&&R.hasOwnProperty("getAbrController")&&R.hasOwnProperty("getScheduleController")))return V;!function y(){if(!p||!p.hasOwnProperty("getCurrentBufferState"))throw new Error(w.default.MISSING_CONFIG_ERROR)}();var k=R.getMediaInfo(),P=R.getMediaType(),x=p.getCurrentBufferState(P),O=R.getScheduleController(),T=R.getAbrController(),N=R.getStreamInfo(),C=N?N.id:null,B=N&&N.manifestInfo?N.manifestInfo.isDynamic:null,Y=T.getThroughputHistory(),J=Y.getSafeAverageThroughput(P,B),ce=Y.getAverageLatency(P),Fe=R.useBufferOccupancyABR();return isNaN(J)||!x||Fe||T.getAbandonmentStateFor(C,P)!==E.default.ABANDON_LOAD&&(x.state===E.default.BUFFER_LOADED||B)&&(V.quality=T.getQualityForBitrate(k,J,C,ce),O.setTimeToLoadDelay(0),V.reason={throughput:J,latency:ce}),V},reset:function U(){}}}F.__dashjs_factory_name="ThroughputRule",S.default=t.default.getClassFactory(F)},"./src/streaming/rules/abr/lolp/LearningAbrController.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LearningAbrController.js ***!
                  \***************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),w_MANUAL="manual_weight_selection",w_RANDOM="random_weight_selection",w_DYNAMIC="dynamic_weight_selection";function E(){var L,D,p,f,g,y,M,U,R,F=this.context;function P(){p=null,f=1,g=100,y=0,M=null,U=null,R=w_DYNAMIC}function x(){var me=0;if(p)for(var De=0;De<p.length;De++){var Le=p[De];Le.state.throughput>me&&(me=Le.state.throughput)}return me}function T(me,De,Le){var he=me.map(function(Ie,ge){return Le[ge]*Math.pow(Ie-De[ge],2)}).reduce(function(Ie,ge){return Ie+ge});return(he<0?-1:1)*Math.sqrt(Math.abs(he))}function N(me,De){return T([me.state.throughput,me.state.latency,me.state.rebuffer,me.state.switch],[De.state.throughput,De.state.latency,De.state.rebuffer,De.state.switch],[1,1,1,1])}function C(me,De,Le){for(var he=0;he<De.length;he++){var Re=De[he],ge=N(Re,me);B(Re,Le,Math.exp(-1*Math.pow(ge,2)/(2*Math.pow(.1,2))))}}function B(me,De,Le){var he=me.state,Re=[.01,.01,.01,.01];he.throughput=he.throughput+(De[0]-he.throughput)*Re[0]*Le,he.latency=he.latency+(De[1]-he.latency)*Re[1]*Le,he.rebuffer=he.rebuffer+(De[2]-he.rebuffer)*Re[2]*Le,he.switch=he.switch+(De[3]-he.switch)*Re[3]*Le}return L={getNextQuality:function J(me,De,Le,he,Re,Ie,ge){var Ue=Le,ke=he,we=De,Ke=function K(me){if(!p){p=[];var De=me.bitrateList,Le=[];y=De[0].bandwidth,De.forEach(function(Ie){Le.push(Ie.bandwidth),Ie.bandwidth<y&&(y=Ie.bandwidth)}),f=function O(me){var De=me.map(function(Le){return Math.pow(Le,2)}).reduce(function(Le,he){return Le+he});return Math.sqrt(De)}(Le);for(var he=0;he<De.length;he++)p.push({qualityIndex:he,bitrate:De[he].bandwidth,state:{throughput:De[he].bandwidth/f,latency:0,rebuffer:0,switch:0}});U=function se(me){var De=[],Le=function _e(me){for(var De=[],Le=0;Le<me;Le++){var he=[Math.random()*x(),Math.random(),Math.random(),Math.random()];De.push(he)}return De}(Math.pow(me.length,2));De.push(Le[0]);for(var he=[1,1,1,1],Re=1;Re<me.length;Re++){for(var Ie=null,ge=null,Ue=0;Ue<Le.length;Ue++){for(var ke=Le[Ue],we=null,Ke=0;Ke<De.length;Ke++){var st=T(ke,De[Ke],he);(null===we||st<we)&&(we=st)}(null===ge||we>ge)&&(Ie=ke,ge=we)}De.push(Ie)}for(var Qe=null,Ne=null,Se=0;Se<De.length;Se++){for(var W=0,ae=0;ae<De.length;ae++)Se!==ae&&(W+=T(De[Se],De[ae],he));(null===Qe||W>Qe)&&(Qe=W,Ne=Se)}var ve=[];for(ve.push(De[Ne]),De.splice(Ne,1);De.length>0;){for(var Q=null,X=null,$=0;$<De.length;$++){var ie=T(ve[0],De[$],he);(null===Q||ie<Q)&&(Q=ie,X=$)}ve.push(De[X]),De.splice(X,1)}return ve}(p)}return p}(me),st=De/f;st>1&&(st=x()),Le/=g,D.debug("getNextQuality called throughput:".concat(st," latency:").concat(Le," bufferSize:").concat(he," currentQualityIndex:").concat(Ie," playbackRate:").concat(Re));var ae=Ke[Ie],ve=ae.bitrate*ge.getSegmentDuration()/we,Q=Math.max(0,ve-ke);if(ke-ve<ge.getMinBuffer())return D.debug("Buffer is low for bitrate= ".concat(ae.bitrate," downloadTime=").concat(ve," currentBuffer=").concat(ke," rebuffer=").concat(Q)),function Y(me,De){var Le=0,he=me;if(p)for(var Re=0;Re<p.length;Re++){var Ie=p[Re];Ie.bitrate<me.bitrate&&Ie.bitrate>Le&&De>Ie.bitrate&&(Le=Ie.bitrate,he=Ie)}return he}(ae,we).qualityIndex;switch(R){case w_MANUAL:!function ce(){M=[.4,.4,.4,.4]}();break;case w_RANDOM:!function Fe(me){M=function le(me,De){for(var Le=[],he=Math.sqrt(2/me),Re=0;Re<De;Re++)Le.push(Math.random()*he);return M=Le}(me.length,4)}(Ke);break;default:!function q(me,De,Le,he,Re,Ie,ge){M||(M=U[U.length-1]);var Ue=me.findWeightVector(De,Le,he,Re,Ie,ge);null!==Ue&&-1!==Ue&&(M=Ue)}(ge,Ke,Ue,ke,Q,we,Re)}for(var X=null,$=null,ie=null,re=0;re<Ke.length;re++){var te=Ke[re],ee=te.state,fe=[ee.throughput,ee.latency,ee.rebuffer,ee.switch],ye=M.slice(),ue=ge.getNextBufferWithBitrate(te.bitrate,ke,we),Me=ue<ge.getMinBuffer();Me&&D.debug("Buffer is low for bitrate=".concat(te.bitrate," downloadTime=").concat(ve," currentBuffer=").concat(ke," nextBuffer=").concat(ue)),(te.bitrate>De-1e4||Me)&&te.bitrate!==y&&(ye[0]=100);var Ye=T(fe,[st,0,0,0],ye);(null===X||Ye<X)&&(X=Ye,$=te.qualityIndex,ie=te)}var Ge=Math.abs(ae.bitrate-ie.bitrate)/f;return C(ae,Ke,[st,Le,Q,Ge]),C(ie,Ke,[st,0,0,Ge]),$},reset:function k(){P()}},function V(){D=Object(b.default)(F).getInstance().getLogger(L),P()}(),L}E.__dashjs_factory_name="LearningAbrController",S.default=t.default.getClassFactory(E)},"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js ***!
                  \**********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ./QoeInfo */
"./src/streaming/rules/abr/lolp/QoeInfo.js");function w(){var E,F,L,D,p;function g(){F=null,L=null,D=null,p=null}function M(x,O,T,N){var C=new b.default;return C.type=x,C.weights.bitrateReward=O||1,C.weights.bitrateSwitchPenalty=1,C.weights.rebufferPenalty=T||1e3,C.weights.latencyPenalty=[],C.weights.latencyPenalty.push({threshold:1.1,penalty:.05*N}),C.weights.latencyPenalty.push({threshold:1e8,penalty:.1*T}),C.weights.playbackSpeedPenalty=N||200,C}function R(x,O,T,N,C){C.bitrateWSum+=C.weights.bitrateReward*x,C.lastBitrate&&(C.bitrateSwitchWSum+=C.weights.bitrateSwitchPenalty*Math.abs(x-C.lastBitrate)),C.lastBitrate=x,C.rebufferWSum+=C.weights.rebufferPenalty*O;for(var B=0;B<C.weights.latencyPenalty.length;B++){var Y=C.weights.latencyPenalty[B];if(T<=Y.threshold){C.latencyWSum+=Y.penalty*T;break}}C.playbackSpeedWSum+=C.weights.playbackSpeedPenalty*Math.abs(1-N),C.totalQoe=C.bitrateWSum-C.bitrateSwitchWSum-C.rebufferWSum-C.latencyWSum-C.playbackSpeedWSum}return E={setupPerSegmentQoe:function y(x,O,T){F=M("segment",x,O,T),L=x,D=O,p=T},logSegmentMetrics:function U(x,O,T,N){F&&R(x,O,T,N,F)},getPerSegmentQoe:function V(){return F},calculateSingleUseQoe:function k(x,O,T,N){var C=null;return L&&D&&p&&(C=M("segment",L,D,p)),C?(R(x,O,T,N,C),C.totalQoe):0},reset:function P(){g()}},function f(){g()}(),E}w.__dashjs_factory_name="LoLpQoeEvaluator",S.default=t.default.getClassFactory(w)},"./src/streaming/rules/abr/lolp/LoLpRule.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpRule.js ***!
                  \**************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),b=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ./LearningAbrController */
"./src/streaming/rules/abr/lolp/LearningAbrController.js"),E=c(
/*! ./LoLpQoEEvaluator */
"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js"),F=c(
/*! ../../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),L=c(
/*! ../../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),D=c(
/*! ./LoLpWeightSelector */
"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js"),p=c(
/*! ../../../constants/Constants */
"./src/streaming/constants/Constants.js");function y(M){var V,k,P,x,U=(M=M||{}).dashMetrics,R=this.context;return k={getMaxIndex:function T(B){try{var Y=Object(F.default)(R).create(),J=B.getMediaInfo().type,ce=B.getAbrController(),Fe=B.getStreamInfo(),q=ce.getQualityFor(J,Fe.id),le=B.getMediaInfo(),K=U.getCurrentBufferState(J),_e=B.getScheduleController(),se=U.getCurrentBufferLevel(J,!0),me=Fe&&Fe.manifestInfo?Fe.manifestInfo.isDynamic:null,De=_e.getPlaybackController(),Le=De.getCurrentLiveLatency();if(!B.useLoLPABR()||J===p.default.AUDIO)return Y;Le||(Le=0);var he=De.getPlaybackRate(),Ie=ce.getThroughputHistory().getSafeAverageThroughput(J,me);if(V.debug("Throughput ".concat(Math.round(Ie)," kbps")),isNaN(Ie)||!K||ce.getAbandonmentStateFor(Fe.id,J)===L.default.ABANDON_LOAD)return Y;for(var ge=le.bitrateList,Ue=B.getRepresentationInfo().fragmentDuration,ke=ge[0].bandwidth/1e3,we=ge[ge.length-1].bandwidth/1e3,Ke=0;Ke<ge.length;Ke++){var st=ge[Ke].bandwidth/1e3;st>we?we=st:st<ke&&(ke=st)}var Ne=ge[q].bandwidth/1e3,Se=U.getCurrentHttpRequest(J,!0),W=(Se.tresponse.getTime()-Se.trequest.getTime())/1e3,ae=W>Ue?W-Ue:0;x.setupPerSegmentQoe(Ue,we,ke),x.logSegmentMetrics(Ne,ae,Le,he);var ve=Object(D.default)(R).create({targetLatency:1.5,bufferMin:.3,segmentDuration:Ue,qoeEvaluator:x});return Y.quality=P.getNextQuality(le,1e3*Ie,Le,se,he,q,ve),Y.reason={throughput:Ie,latency:Le},Y.priority=F.default.PRIORITY.STRONG,_e.setTimeToLoadDelay(0),Y.quality!==q&&console.log("[TgcLearningRule]["+J+"] requesting switch to index: ",Y.quality,"Average throughput",Math.round(Ie),"kbps"),Y}catch(Q){throw Q}},reset:function C(){!function N(){P.reset(),x.reset()}()}},function O(){V=Object(t.default)(R).getInstance().getLogger(k),P=Object(w.default)(R).create(),x=Object(E.default)(R).create()}(),k}y.__dashjs_factory_name="LoLPRule",S.default=b.default.getClassFactory(y)},"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js":
/*!************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpWeightSelector.js ***!
                  \************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(w){var p,y,M,E=w.targetLatency,F=w.bufferMin,L=w.segmentDuration,D=w.qoeEvaluator;function O(){return L}function N(C,B){var Y=O();return B>Y?C-Y:C+Y-B}return p={getMinBuffer:function x(){return F},getSegmentDuration:O,getNextBufferWithBitrate:function T(C,B,Y){return N(B,C*L/Y)},getNextBuffer:N,findWeightVector:function V(C,B,Y,J,ce,Fe){var q=null,le=null,K=null,_e=Math.abs(B-M);return C.forEach(function(se){y.forEach(function(me){var De_latency=me[1],De_buffer=me[2],Le=se.bitrate*L/ce,he=N(Y,Le),Re=Math.max(1e-5,Le-he),ke=D.calculateSingleUseQoe(se.bitrate,(0===De_buffer?10:1/De_buffer)*Re,(0===De_latency?10:1/De_latency)*se.state.latency,Fe);(null===q||ke>q)&&function k(C,B,Y){return!(C>E+Y)&&B>=F}(B,he,_e)&&(q=ke,le=me,K=se.bitrate)})}),null===le&&null===K&&(le=-1),M=B,le}},function U(){!function R(){y=function P(C,B){return function ce(Fe,q,le){if(le===q)return Fe;for(var K=Fe.length,_e=0;_e<K;_e++)for(var se=Fe.shift(),me=0;me<C.length;me++)Fe.push(se.concat(C[me]));return ce(Fe,q,le+1)}(C.map(function(ce){return[ce]}),B,1)}([.2,.4,.6,.8,1],4),M=0}()}(),p}b.__dashjs_factory_name="LoLpWeightSelector",S.default=t.default.getClassFactory(b)},"./src/streaming/rules/abr/lolp/QoeInfo.js":
/*!*************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/QoeInfo.js ***!
                  \*************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0})},"./src/streaming/text/EmbeddedTextHtmlRender.js":
/*!******************************************************!*\
                  !*** ./src/streaming/text/EmbeddedTextHtmlRender.js ***!
                  \******************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var w=0;function F(M){for(var U="",R=0;R<M.length;++R)U+=M[R].uchar;return U.length-U.replace(/^\s+/,"").length}function L(M){return"left: "+3.125*M.x+"%; top: "+6.66*M.y1+"%; width: "+(100-3.125*M.x)+"%; height: "+6.66*Math.max(M.y2-1-M.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function D(M){return"red"===M?"rgb(255, 0, 0)":"green"===M?"rgb(0, 255, 0)":"blue"===M?"rgb(0, 0, 255)":"cyan"===M?"rgb(0, 255, 255)":"magenta"===M?"rgb(255, 0, 255)":"yellow"===M?"rgb(255, 255, 0)":"white"===M?"rgb(255, 255, 255)":"black"===M?"rgb(0, 0, 0)":M}function p(M,U){var R=M.videoHeight/15;return U?"font-size: "+R+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(U.foreground?D(U.foreground):"rgb(255, 255, 255)")+"; font-style: "+(U.italics?"italic":"normal")+"; text-decoration: "+(U.underline?"underline":"none")+"; white-space: pre; background-color: "+(U.background?D(U.background):"transparent")+";":"font-size: "+R+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function f(M){return M.replace(/^\s+/g,"")}function g(M){return M.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function y(M,U,R,V){var J,ce,k=null,x=!1,O=-1,T={start:U,end:R,spans:[]},N="style_cea608_white_black",C={},B={},Y=[];for(J=0;J<15;++J){var Fe=V.rows[J],q="",le=null;if(!1===Fe.isEmpty()){var K=F(Fe.chars);null===k&&(k={x:K,y1:J,y2:J+1,p:[]}),K!==O&&x&&(k.p.push(T),T={start:U,end:R,spans:[]},k.y2=J,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===C.hasOwnProperty(k.name)?(Y.push(k),C[k.name]=k):C[k.name].p.contat(k.p),k={x:K,y1:J,y2:J+1,p:[]});for(var _e=0;_e<Fe.chars.length;++_e){var se=Fe.chars[_e],me=se.penState;if(null===le||!me.equals(le)){q.trim().length>0&&(T.spans.push({name:N,line:q,row:J}),q="");var De="style_cea608_"+me.foreground+"_"+me.background;me.underline&&(De+="_underline"),me.italics&&(De+="_italics"),B.hasOwnProperty(De)||(B[De]=JSON.parse(JSON.stringify(me))),le=me,N=De}q+=se.uchar}q.trim().length>0&&T.spans.push({name:N,line:q,row:J}),x=!0,O=K}else x=!1,O=-1,k&&(k.p.push(T),T={start:U,end:R,spans:[]},k.y2=J,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===C.hasOwnProperty(k.name)?(Y.push(k),C[k.name]=k):C[k.name].p.contat(k.p),k=null)}k&&(k.p.push(T),k.y2=J+1,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===C.hasOwnProperty(k.name)?(Y.push(k),C[k.name]=k):C[k.name].p.contat(k.p),k=null);var Le=[];for(J=0;J<Y.length;++J){var he=Y[J],Re="sub_cea608_"+w++,Ie=document.createElement("div");Ie.id=Re;var ge=L(he);Ie.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+ge;var Ue=document.createElement("div");Ue.className="paragraph bodyStyle",Ue.style.cssText=p(M);var ke=document.createElement("div");ke.className="cueUniWrapper",ke.style.cssText="unicode-bidi: normal; direction: ltr;";for(var we=0;we<he.p.length;++we){var Ke=he.p[we],st=0;for(ce=0;ce<Ke.spans.length;++ce){var Qe=Ke.spans[ce];if(Qe.line.length>0){if(0!==ce&&st!=Qe.row){var Ne=document.createElement("br");Ne.className="lineBreak",ke.appendChild(Ne)}var Se=!1;st===Qe.row&&(Se=!0),st=Qe.row;var W=B[Qe.name],ae=document.createElement("span");ae.className="spanPadding "+Qe.name+" customSpanColor",ae.style.cssText=p(M,W),ae.textContent=0!==ce&&Se?ce===Ke.spans.length-1?g(Qe.line):Qe.line:Ke.spans.length>1&&ce<Ke.spans.length-1&&Qe.row===Ke.spans[ce+1].row?f(Qe.line):Qe.line.trim(),ke.appendChild(ae)}}}Ue.appendChild(ke),Ie.appendChild(Ue);var ve={bodyStyle:["%",90]};for(var Q in B)B.hasOwnProperty(Q)&&(ve[Q]=["%",90]);Le.push({type:"html",start:U,end:R,cueHTMLElement:Ie,cueID:Re,cellResolution:[32,15],isFromCEA608:!0,fontSize:ve,lineHeight:{},linePadding:{}})}return Le}}}b.__dashjs_factory_name="EmbeddedTextHtmlRender",S.default=t.default.getSingletonFactory(b)},"./src/streaming/text/NotFragmentedTextBufferController.js":
/*!*****************************************************************!*\
                  !*** ./src/streaming/text/NotFragmentedTextBufferController.js ***!
                  \*****************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),F=c(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),L=c(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),D=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),p="NotFragmentedTextBufferController";function f(g){g=g||{};var P,x,O,T,N,C,y=this.context,M=Object(t.default)(y).getInstance(),U=g.textController,R=g.errHandler,V=g.streamInfo,k=g.type;function K($){T=$}function Le($){x!==$&&(x=$)&&function X($,ie){M.trigger($,ie||{},{streamId:V.id,mediaType:k})}(b.default.BUFFERING_COMPLETED)}function Ie($){!$.chunk.bytes||x||(C.save($.chunk),N.append($.chunk),Le(!0))}return P={initialize:function J($){K($)},getStreamId:function Fe(){return V.id},getType:function q(){return k},getBufferControllerType:function Y(){return p},createBufferSink:function ce($){return new Promise(function(ie,re){try{(N=Object(F.default)(y).create({mediaSource:T,textController:U,eventBus:M})).initializeForFirstUse(V,$),O||(N.getBuffer()&&"function"==typeof N.getBuffer().initialize&&N.getBuffer().initialize(),O=!0),ie(N)}catch(te){R.error(new L.default(D.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,D.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+k)),re(te)}})},getBuffer:function le(){return N},getBufferLevel:function me(){return 0},getRangeAt:function ge(){return null},pruneBuffer:function st(){},hasBufferAtTime:function Ue(){return!0},getAllRangesWithSafetyFactor:function ke(){return[]},getContinuousBufferTimeForTargetTime:function we(){return Number.POSITIVE_INFINITY},setMediaSource:K,getMediaSource:function _e(){return T},appendInitSegmentFromCache:function Re($){return null!==C.extract(V.id,$)},getIsBufferingCompleted:function De(){return x},setIsBufferingCompleted:Le,getIsPruningInProgress:function se(){return!1},reset:function he($){M.off(b.default.INIT_FRAGMENT_LOADED,Ie,P),!$&&N&&(N.abort(),N.reset(),N=null)},clearBuffers:function Ke(){return Promise.resolve()},prepareForPlaybackSeek:function Ne(){return Promise.resolve()},prepareForReplacementTrackSwitch:function Se(){return x=!1,Promise.resolve()},setSeekTarget:function ae(){},updateAppendWindow:function W(){return Promise.resolve()},pruneAllSafely:function Q(){return Promise.resolve()},updateBufferTimestampOffset:function Qe(){return Promise.resolve()},segmentRequestingCompleted:function ve(){}},function B(){O=!1,T=null,x=!1,C=Object(E.default)(y).getInstance(),M.on(b.default.INIT_FRAGMENT_LOADED,Ie,P)}(),P}f.__dashjs_factory_name=p,S.default=w.default.getClassFactory(f)},"./src/streaming/text/TextController.js":
/*!**********************************************!*\
                  !*** ./src/streaming/text/TextController.js ***!
                  \**********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ./TextSourceBuffer */
"./src/streaming/text/TextSourceBuffer.js"),E=c(
/*! ./TextTracks */
"./src/streaming/text/TextTracks.js"),F=c(
/*! ../utils/VTTParser */
"./src/streaming/utils/VTTParser.js"),L=c(
/*! ../utils/VttCustomRenderingParser */
"./src/streaming/utils/VttCustomRenderingParser.js"),D=c(
/*! ../utils/TTMLParser */
"./src/streaming/utils/TTMLParser.js"),p=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),f=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),y=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function M(U){var N,C,B,Y,J,ce,Fe,q,le,K,_e,se,R=this.context,V=U.adapter,k=U.errHandler,P=U.manifestModel,x=U.mediaController,O=U.videoModel,T=U.settings;function ke(ie){var re=ie.tracks,te=ie.index,ee=ie.streamId;if(!1===T.get().streaming.text.defaultEnabled&&!Qe()||se)Se(ee,-1);else{var ye=x.getCurrentTrackFor(t.default.TEXT,ee);if(ye){var ue={lang:ye.lang,role:ye.roles[0],index:ye.index,codec:ye.codec,accessibility:ye.accessibility[0]};re.some(function(Me,Ye){if(x.matchSettings(ue,Me))return Se(ee,Ye),te=Ye,!0})}le=!1}C[ee].lastEnabledIndex=te,q.trigger(g.default.TEXT_TRACKS_ADDED,{enabled:Qe(),index:te,tracks:re,streamId:ee}),_e=!0}function we(ie){try{var re=ie.streamId;if(!Y[re]||isNaN(ie.time))return;Y[re].manualCueProcessing(ie.time)}catch{}}function Ke(ie){try{var re=ie.streamId;if(!Y[re])return;Y[re].disableManualTracks()}catch{}}function Qe(){var ie=!0;return le&&!K&&(ie=!1),ie}function Se(ie,re){(le=-1===re)&&x&&x.saveTextSettingsDisabled();var te=ve(ie);if(te!==re&&Y[ie]){Y[ie].disableManualTracks(),Y[ie].setModeForTrackIdx(te,t.default.TEXT_HIDDEN),Y[ie].setCurrentTrackIdx(re),Y[ie].setModeForTrackIdx(re,t.default.TEXT_SHOWING);var ee=Y[ie].getCurrentTrackInfo();ee&&ee.isFragmented&&!ee.isEmbedded?function W(ie,re,te){if(B[ie])for(var fe=B[ie].getConfig().fragmentedTracks,ye=0;ye<fe.length;ye++){var ue=fe[ye];if(re.lang===ue.lang&&(ue.id?re.id===ue.id:re.index===ue.index)){var Me=x.getCurrentTrackFor(t.default.TEXT,ie);(ue.id?Me.id!==ue.id:Me.index!==ue.index)?(Y[ie].deleteCuesFromTrackIdx(te),B[ie].setCurrentFragmentedTrackIdx(ye)):-1===te&&q.trigger(f.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:ie,mediaType:t.default.TEXT})}}}(ie,ee,te):ee&&!ee.isFragmented&&function ae(ie,re){q.trigger(f.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:re},{streamId:ie,mediaType:t.default.TEXT})}(ie,ee),x.setTrack(ee)}}function ve(ie){return Y[ie].getCurrentTrackIdx()}function X(){B={},Y={},C={},le=!0,_e=!1,se=!1}return N={deactivateStream:function Q(ie){if(ie){var re=ie.id;B[re]&&B[re].resetMediaInfos(),Y[re]&&Y[re].deleteAllTextTracks()}},initialize:function De(){q.on(f.default.TEXT_TRACKS_QUEUE_INITIALIZED,ke,N),T.get().streaming.text.webvtt.customRenderingEnabled&&(q.on(f.default.PLAYBACK_TIME_UPDATED,we,N),q.on(f.default.PLAYBACK_SEEKING,Ke,N))},initializeForStream:function Le(ie){var re=ie.id,te=Object(E.default)(R).create({videoModel:O,settings:T,streamInfo:ie});te.initialize(),Y[re]=te;var ee=Object(w.default)(R).create({errHandler:k,adapter:V,manifestModel:P,mediaController:x,videoModel:O,textTracks:te,vttParser:J,vttCustomRenderingParser:ce,ttmlParser:Fe,streamInfo:ie,settings:T});ee.initialize(),B[re]=ee,C[re]={},C[re].lastEnabledIndex=-1},createTracks:function he(ie){var re=ie.id;Y[re]&&Y[re].createTracks()},getTextSourceBuffer:function Ie(ie){var re=ie.id;if(B&&B[re])return B[re]},getAllTracksAreDisabled:function ge(){return le},addEmbeddedTrack:function Ue(ie,re){var te=ie.id;B[te]&&B[te].addEmbeddedTrack(re)},enableText:function st(ie,re){Object(y.checkParameterType)(re,"boolean"),Qe()!==re&&(re&&Se(ie,C[ie].lastEnabledIndex),re||(C[ie].lastEnabledIndex=ve(ie),_e?Se(ie,-1):se=!0))},isTextEnabled:Qe,setTextTrack:Se,getCurrentTrackIdx:ve,enableForcedTextStreaming:function Ne(ie){Object(y.checkParameterType)(ie,"boolean"),K=ie},addMediaInfosToBuffer:function Re(ie,re,te){var fe=ie.id;B[fe]&&B[fe].addMediaInfos(re,te,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function $(){X(),q.off(f.default.TEXT_TRACKS_QUEUE_INITIALIZED,ke,N),T.get().streaming.text.webvtt.customRenderingEnabled&&(q.off(f.default.PLAYBACK_TIME_UPDATED,we,N),q.off(f.default.PLAYBACK_SEEKING,Ke,N)),Object.keys(B).forEach(function(ie){B[ie].resetEmbedded(),B[ie].reset()})}},function me(){K=!1,_e=!1,se=!1,J=Object(F.default)(R).getInstance(),ce=Object(L.default)(R).getInstance(),Fe=Object(D.default)(R).getInstance(),q=Object(p.default)(R).getInstance(),X()}(),N}M.__dashjs_factory_name="TextController",S.default=b.default.getClassFactory(M)},"./src/streaming/text/TextSourceBuffer.js":
/*!************************************************!*\
                  !*** ./src/streaming/text/TextSourceBuffer.js ***!
                  \************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),w=c(
/*! ../vo/TextTrackInfo */
"./src/streaming/vo/TextTrackInfo.js"),E=c(
/*! ../utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),F=c(
/*! ../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js"),L=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),D=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),p=c(
/*! ./EmbeddedTextHtmlRender */
"./src/streaming/text/EmbeddedTextHtmlRender.js"),f=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),g=c.n(f),y=c(
/*! ../../../externals/cea608-parser */
"./externals/cea608-parser.js"),M=c.n(y),U=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),R=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),V=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js");function P(x){var se,me,De,Le,he,Re,Ie,ge,Ue,ke,we,Ke,st,Qe,Ne,Se,O=x.errHandler,T=x.manifestModel,N=x.mediaController,C=x.videoModel,B=x.textTracks,Y=x.vttParser,J=x.vttCustomRenderingParser,ce=x.ttmlParser,Fe=x.streamInfo,q=x.settings,le=this.context,K=Object(U.default)(le).getInstance(),_e=!1;function Q(){(function ve(){Re=null,ge=NaN,Ue=[],ke=null,Ie=!1})(),he=[],Le=null}function ie(xe){var Oe=new w.default;for(var $e in xe)Oe[$e]=xe[$e];Oe.labels=xe.labels,Oe.defaultTrack=function Cn(xe){var Oe=!1;return Ke.length>1&&xe.isEmbedded?Oe=xe.id&&xe.id===t.default.CC1:1===Ke.length?xe.id&&"string"==typeof xe.id&&"CC"===xe.id.substring(0,2)&&(Oe=!0):0===Ke.length&&(Oe=xe.index===he[0].index),Oe}(xe),Oe.isFragmented=xe.isFragmented,Oe.isEmbedded=!!xe.isEmbedded,Oe.isTTML=function Ge(xe){return xe.codec&&xe.codec.search(t.default.STPP)>=0||xe.mimeType&&xe.mimeType.search(t.default.TTML)>=0}(xe),Oe.kind=function at(xe,Oe){var We=xe.roles&&xe.roles.length>0?Oe[xe.roles[0]]:Oe.caption;return We===Oe.caption||We===Oe.subtitle?We:Oe.caption}(xe,{subtitle:"subtitles",caption:"captions"}),B.addTextTrack(Oe)}function ee(xe){var Oe=xe.chunk;Oe.mediaInfo.embeddedCaptions&&ct(Oe.bytes,Oe)}function Ye(xe){we=xe}function ct(xe,Oe){var We=Oe.mediaInfo,$e=We.type,ot=We.codec||We.mimeType;ot?-1!==We.codec.indexOf("application/mp4")?function rt(xe,Oe,We){var $e;if("InitializationSegment"===Oe.segmentType)Ie=!0,ge=De.getMediaTimescaleFromMoov(xe);else{if(!Ie)return;($e=De.getSamplesInfo(xe).sampleList).length>0&&(ke=$e[0].cts-Oe.start*ge),We.search(t.default.STPP)>=0?function _t(xe,Oe,We){var $e,lt;for(Le=null!==Le?Le:en(We),$e=0;$e<Oe.length;$e++){var ot=Oe[$e],dt=ot.cts,Lt=Gt(),zt=Lt+dt/ge;se.buffered.add(zt,zt+ot.duration/ge);var $t=new DataView(xe,ot.offset,ot.subSizes[0]),an=g.a.Utils.dataViewToString($t,t.default.UTF8),mn=[],An=ot.offset+ot.subSizes[0];for(lt=1;lt<ot.subSizes.length;lt++){var Ln=new Uint8Array(xe,An,ot.subSizes[lt]),Zn=String.fromCharCode.apply(null,Ln);mn.push(Zn),An+=ot.subSizes[lt]}try{var Kn=T.getValue(),vn=Le.parse(an,Kn.ttmlTimeIsRelative?dt/ge:0,dt/ge,(dt+ot.duration)/ge,mn);B.addCaptions(we,Lt,vn)}catch(gn){Re.removeExecutedRequestsBeforeTime(),this.remove(),me.error("TTML parser error: "+gn.message)}}}(xe,$e,We):function Bt(xe,Oe){var We,$e,lt,ot=[];for(We=0;We<Oe.length;We++){var dt=Oe[We];dt.cts-=ke;var zt=Gt()+dt.cts/ge;se.buffered.add(zt,zt+dt.duration/ge);var $t=xe.slice(dt.offset,dt.offset+dt.size),an=g.a.parseBuffer($t);for($e=0;$e<an.boxes.length;$e++){var mn=an.boxes[$e];if(me.debug("VTT box1: "+mn.type),"vtte"!==mn.type&&"vttc"===mn.type)for(me.debug("VTT vttc boxes.length = "+mn.boxes.length),lt=0;lt<mn.boxes.length;lt++){var An=mn.boxes[lt];if(me.debug("VTT box2: "+An.type),"payl"===An.type){var Ln=An.cue_text;me.debug("VTT cue_text = "+Ln);var Zn=dt.cts/ge,Kn=(dt.cts+dt.duration)/ge;ot.push({start:Zn,end:Kn,data:Ln,styles:{}}),me.debug("VTT "+Zn+"-"+Kn+" : "+Ln)}}}}ot.length>0&&B.addCaptions(we,0,ot)}(xe,$e)}}(xe,Oe,ot):$e===t.default.VIDEO?function jt(xe,Oe){var We,$e;if(Oe.segmentType===b.HTTPRequest.INIT_SEGMENT_TYPE)0===st&&(st=De.getMediaTimescaleFromMoov(xe));else if(Oe.segmentType===b.HTTPRequest.MEDIA_SEGMENT_TYPE){if(0===st)return void me.warn("CEA-608: No timescale for embeddedTextTrack yet");var lt=($e=De.getSamplesInfo(xe)).lastSequenceNumber;if(!Ne[0]&&!Ne[1]&&function Qt(){for(var xe,Oe=0;Oe<Ke.length;Oe++){if(-1===(xe=B.getTrackIdxForId(Ke[Oe].id)))return void me.warn("CEA-608: data before track is ready.");var We=cn(xe);Ne[Oe]=new M.a.Cea608Parser(Oe+1,{newCue:We},null)}}(),st){if(null!==Qe&&lt!==Qe+$e.numSequences)for(We=0;We<Ne.length;We++)Ne[We]&&Ne[We].reset();for(var ot=function dn(xe,Oe){if(0===Oe.length)return null;for(var We={splits:[],fields:[[],[]]},$e=new DataView(xe),lt=0;lt<Oe.length;lt++)for(var ot=Oe[lt],dt=M.a.findCea608Nalus($e,ot.offset,ot.size),Lt=null,zt=0,Rt=0;Rt<dt.length;Rt++)for(var $t=M.a.extractCea608DataFromRange($e,dt[Rt]),an=0;an<2;an++)if($t[an].length>0){ot.cts!==Lt?zt=0:zt+=1;var mn=Gt();We.fields[an].push([ot.cts+mn*st,$t[an],zt]),Lt=ot.cts}return We.fields.forEach(function(Ln){Ln.sort(function(Zn,Kn){return Zn[0]===Kn[0]?Zn[2]-Kn[2]:Zn[0]-Kn[0]})}),We}(xe,$e.sampleList),dt=0;dt<Ne.length;dt++){var Lt=ot.fields[dt],zt=Ne[dt];if(zt)for(We=0;We<Lt.length;We++)zt.addData(Lt[We][0]/st,Lt[We][1])}Qe=lt}}}(xe,Oe):function At(xe,Oe,We){var $e,lt,ot=new DataView(xe,0,xe.byteLength);lt=g.a.Utils.dataViewToString(ot,t.default.UTF8);try{$e=en(We).parse(lt,0),B.addCaptions(B.getCurrentTrackIdx(),0,$e),se.buffered&&se.buffered.add(Oe.start,Oe.end)}catch(dt){O.error(new V.default(k.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,k.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+dt.message,lt))}}(xe,Oe,ot):me.error("No text type defined")}function cn(xe){return function Oe(We,$e,lt){var ot;(ot=C.getTTMLRenderingDiv()?Se.createHTMLCaptionsFromScreen(C.getElement(),We,$e,lt):[{start:We,end:$e,data:lt.getDisplayText(),styles:{}}])&&B.addCaptions(xe,0,ot)}}function Gt(){return isNaN(se.timestampOffset)?0:se.timestampOffset}function en(xe){var Oe;return xe.search(t.default.VTT)>=0?Oe=q.get().streaming.text.webvtt.customRenderingEnabled&&J?J:Y:(xe.search(t.default.TTML)>=0||xe.search(t.default.STPP)>=0)&&(Oe=ce),Oe}function ft(xe){Ke.forEach(function(Oe){var We=B.getTrackIdxForId(Oe.id);We>=0&&B.deleteCuesFromTrackIdx(We,xe.from,xe.to)})}return se={initialize:function X(){_e||function fe(){Ke=[],we=null,st=0,Ne=[],Qe=null,_e=!0,Se=Object(p.default)(le).getInstance(),K.on(R.default.VIDEO_CHUNK_RECEIVED,ee,se),K.on(R.default.BUFFER_CLEARED,ft,se)}()},addMediaInfos:function $(xe,Oe,We){if(he=he.concat(Oe),xe===t.default.TEXT&&Oe[0].isFragmented&&!Oe[0].isEmbedded){Re=We,se.buffered=Object(F.default)(le).create(),Ue=N.getTracksFor(t.default.TEXT,Fe.id).filter(function(dt){return dt.isFragmented});for(var $e=N.getCurrentTrackFor(t.default.TEXT,Fe.id),lt=0;lt<Ue.length;lt++)if(Ue[lt]===$e){Ye(lt);break}}for(var ot=0;ot<Oe.length;ot++)ie(Oe[ot])},resetMediaInfos:function Xe(){he=[]},getStreamId:function ae(){return Fe.id},append:ct,abort:function re(){},addEmbeddedTrack:function ue(xe){if(_e&&xe)if(xe.id===t.default.CC1||xe.id===t.default.CC3){for(var Oe=0;Oe<Ke.length;Oe++)if(Ke[Oe].id===xe.id)return;Ke.push(xe)}else me.warn("Embedded track "+xe.id+" not supported!")},resetEmbedded:function ye(){K.off(R.default.VIDEO_CHUNK_RECEIVED,ee,se),K.off(R.default.BUFFER_CLEARED,ft,se),B&&B.deleteAllTextTracks(),_e=!1,Ke=[],Ne=[null,null],Qe=null},getConfig:function Me(){return{fragmentModel:Re,fragmentedTracks:Ue,videoModel:C}},setCurrentFragmentedTrackIdx:Ye,remove:function xt(xe,Oe){void 0===xe&&xe===Oe&&(xe=se.buffered.start(0),Oe=se.buffered.end(se.buffered.length-1)),se.buffered.remove(xe,Oe),B.deleteCuesFromTrackIdx(we,xe,Oe)},reset:function te(){Q(),he=[],De=null}},function W(){me=Object(D.default)(le).getInstance().getLogger(se),De=Object(E.default)(le).getInstance(),Q()}(),se}P.__dashjs_factory_name="TextSourceBuffer",S.default=L.default.getClassFactory(P)},"./src/streaming/text/TextTracks.js":
/*!******************************************!*\
                  !*** ./src/streaming/text/TextTracks.js ***!
                  \******************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),D=c(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js");function f(U,R){var V=typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(!V){if(Array.isArray(U)||(V=function g(U,R){if(U){if("string"==typeof U)return y(U,R);var V=Object.prototype.toString.call(U).slice(8,-1);if("Object"===V&&U.constructor&&(V=U.constructor.name),"Map"===V||"Set"===V)return Array.from(U);if("Arguments"===V||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return y(U,R)}}(U))||R&&U&&"number"==typeof U.length){V&&(U=V);var k=0,P=function(){};return{s:P,n:function(){return k>=U.length?{done:!0}:{done:!1,value:U[k++]}},e:function(C){throw C},f:P}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var T,x=!0,O=!1;return{s:function(){V=V.call(U)},n:function(){var C=V.next();return x=C.done,C},e:function(C){O=!0,T=C},f:function(){try{!x&&null!=V.return&&V.return()}finally{if(O)throw T}}}}function y(U,R){(null==R||R>U.length)&&(R=U.length);for(var V=0,k=new Array(R);V<R;V++)k[V]=U[V];return k}function M(U){var O,T,N,C,B,Y,J,ce,Fe,q,le,K,_e,se,me,De,Le,he,R=this.context,V=Object(b.default)(R).getInstance(),k=U.videoModel,P=U.streamInfo,x=U.settings;function Ue(At){return k.addTextTrack(At.kind,void 0!==At.id?At.id:At.lang,At.lang,At.isTTML,At.isEmbedded)}function Ke(At,jt,Qt,cn,dn,Gt){var xt=0,ft=0;At/jt>Qt/cn?xt=(ft=jt)/cn*Qt:ft=(xt=At)/Qt*cn;var Xe,xe,Oe=0,We=0;return xt/ft>dn?(We=ft,Oe=ft*dn):(Oe=xt,We=xt/dn),Xe=(At-Oe)/2,xe=(jt-We)/2,Gt?{x:Xe+.1*Oe,y:xe+.1*We,w:.8*Oe,h:.8*We}:{x:Xe,y:xe,w:Oe,h:We}}function st(At,jt){var Qt=k.getClientWidth(),cn=k.getClientHeight(),dn=k.getVideoWidth(),Gt=k.getVideoHeight(),Cn=k.getVideoRelativeOffsetTop(),en=k.getVideoRelativeOffsetLeft();if(0!==dn&&0!==Gt){var xt=dn/Gt,ft=!1;At.isFromCEA608&&(xt=3.5/3,ft=!0);var Xe=Ke.call(this,Qt,cn,dn,Gt,xt,ft),xe=Xe.w,Oe=Xe.h,We=Xe.x,$e=Xe.y;if(xe!=Fe||Oe!=q||We!=J||$e!=ce||jt){if(J=We+en,ce=$e+Cn,Fe=xe,q=Oe,le){var lt=le.style;lt&&(lt.left=J+"px",lt.top=ce+"px",lt.width=Fe+"px",lt.height=q+"px",lt.zIndex=se&&document[se]||me?Le:null,V.trigger(E.default.CAPTION_CONTAINER_RESIZE))}var ot=At.activeCues;if(ot)for(var dt=ot.length,Lt=0;Lt<dt;++Lt){var zt=ot[Lt];zt.scaleCue(zt)}}}}function Qe(At){var cn,dn,Gt,Cn,en;if(At.cellResolution){var xt=[Fe/At.cellResolution[0],q/At.cellResolution[1]];if(At.linePadding)for(cn in At.linePadding)if(At.linePadding.hasOwnProperty(cn)){dn=(At.linePadding[cn]*xt[0]).toString();for(var Xe=document.getElementsByClassName("spanPadding"),xe=0;xe<Xe.length;xe++)Xe[xe].style.cssText=Xe[xe].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+dn),Xe[xe].style.cssText=Xe[xe].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+dn)}if(At.fontSize){for(cn in At.fontSize)if(At.fontSize.hasOwnProperty(cn)){"%"===At.fontSize[cn][0]?Gt=At.fontSize[cn][1]/100:"c"===At.fontSize[cn][0]&&(Gt=At.fontSize[cn][1]),dn=(Gt*xt[1]).toString(),en="defaultFontSize"!==cn?document.getElementsByClassName(cn):document.getElementsByClassName("paragraph");for(var Oe=0;Oe<en.length;Oe++)en[Oe].style.cssText=en[Oe].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+dn)}if(At.lineHeight)for(cn in At.lineHeight)if(At.lineHeight.hasOwnProperty(cn)){"%"===At.lineHeight[cn][0]?Cn=At.lineHeight[cn][1]/100:"c"===At.fontSize[cn][0]&&(Cn=At.lineHeight[cn][1]),dn=(Cn*xt[1]).toString(),en=document.getElementsByClassName(cn);for(var We=0;We<en.length;We++)en[We].style.cssText=en[We].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+dn)}}}if(At.isd){var $e=document.getElementById(At.cueID);$e&&le.removeChild($e),Ne(At)}}function Ne(At){if(le){var jt=document.createElement("div");le.appendChild(jt),De=Object(D.renderHTML)(At.isd,jt,function(Qt){var cn=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,dn=/^#(.*)$/;if(cn.test(Qt)){var Gt=cn.exec(Qt),Cn=parseInt(Gt[4],10)-1;return"data:image/png;base64,"+btoa(At.images[Cn])}if(dn.test(Qt)){var ft=dn.exec(Qt);return"data:image/png;base64,"+At.embeddedImages[ft[1]]}return null},le.clientHeight,le.clientWidth,!1,function(Qt){T.info("renderCaption :",Qt)},De,!0),jt.id=At.cueID,V.trigger(E.default.CAPTION_RENDERED,{captionDiv:jt,currentTrackIdx:Y})}}function Se(At,jt,Qt){var cn=$(At);if(cn&&Array.isArray(Qt)&&0!==Qt.length)for(var dn=0;dn<Qt.length;dn++){var Gt=void 0,Cn=Qt[dn];cn.cellResolution=Cn.cellResolution,cn.isFromCEA608=Cn.isFromCEA608,!isNaN(Cn.start)&&!isNaN(Cn.end)&&(Gt="html"===Cn.type&&le?W(Cn,jt,cn):Cn.data?ae(Cn,jt,cn):null);try{Gt?fe(cn,Gt)||(x.get().streaming.text.webvtt.customRenderingEnabled?(cn.manualCueList||(cn.manualCueList=[]),cn.manualCueList.push(Gt)):cn.addCue(Gt)):T.error("impossible to display subtitles.")}catch(en){throw ue(cn),cn.addCue(Gt),en}}}function W(At,jt,Qt){var cn=this,dn=new N(At.start+jt,At.end+jt,"");return dn.cueHTMLElement=At.cueHTMLElement,dn.isd=At.isd,dn.images=At.images,dn.embeddedImages=At.embeddedImages,dn.cueID=At.cueID,dn.scaleCue=Qe.bind(cn),dn.cellResolution=At.cellResolution,dn.lineHeight=At.lineHeight,dn.linePadding=At.linePadding,dn.fontSize=At.fontSize,le.style.left=J+"px",le.style.top=ce+"px",le.style.width=Fe+"px",le.style.height=q+"px",dn.onenter=function(){Qt.mode===t.default.TEXT_SHOWING&&(this.isd?(Ne(this),T.debug("Cue enter id:"+this.cueID)):(le.appendChild(this.cueHTMLElement),Qe.call(cn,this),V.trigger(E.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:Y})))},dn.onexit=function(){if(le)for(var Gt=le.childNodes,Cn=0;Cn<Gt.length;++Cn)Gt[Cn].id===this.cueID&&(T.debug("Cue exit id:"+Gt[Cn].id),le.removeChild(Gt[Cn]),--Cn)},dn}function ae(At,jt,Qt){var cn=new N(At.start-jt,At.end-jt,At.data);if(cn.cueID="".concat(cn.startTime,"_").concat(cn.endTime),cn.isActive=!1,At.styles)try{void 0!==At.styles.align&&"align"in cn&&(cn.align=At.styles.align),void 0!==At.styles.line&&"line"in cn&&(cn.line=At.styles.line),void 0!==At.styles.position&&"position"in cn&&(cn.position=At.styles.position),void 0!==At.styles.size&&"size"in cn&&(cn.size=At.styles.size)}catch(dn){T.error(dn)}return cn.onenter=function(){Qt.mode===t.default.TEXT_SHOWING&&V.trigger(E.default.CAPTION_RENDERED,{currentTrackIdx:Y})},cn}function X(){var cn,jt=[],Qt=f(k.getTextTracks());try{for(Qt.s();!(cn=Qt.n()).done;){var dn=cn.value;dn.manualMode===t.default.TEXT_SHOWING&&jt.push(dn)}}catch(Gt){Qt.e(Gt)}finally{Qt.f()}return jt}function $(At){return At>=0&&C[At]?k.getTextTrack(C[At].kind,C[At].id,C[At].lang,C[At].isTTML,C[At].isEmbedded):null}function te(At){var jt=this;if(At!==Y){var Qt=$(Y=At);ee.call(this,Qt),_e&&(clearInterval(_e),_e=null),Qt&&"html"===Qt.renderingType&&(st.call(this,Qt,!0),window.ResizeObserver?(he=new window.ResizeObserver(function(){st.call(jt,Qt,!0)})).observe(k.getElement()):_e=setInterval(st.bind(this,Qt),500))}}function ee(At){rt.call(this),At&&"html"===At.renderingType?at.call(this):ct.call(this)}function fe(At,jt){if(!At.cues)return!1;for(var Qt=0;Qt<At.cues.length;Qt++)if(At.cues[Qt].startTime===jt.startTime&&At.cues[Qt].endTime===jt.endTime)return!0;return!1}function ye(At,jt,Qt){var cn=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(jt)||(cn?At.startTime:At.endTime)>=jt)&&(isNaN(Qt)||(cn?At.endTime:At.startTime)<=Qt)}function ue(At,jt,Qt){var cn=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(At.cues)for(var dn=At.cues,Cn=dn.length-1;Cn>=0;Cn--)ye(dn[Cn],jt,Qt,cn)&&(dn[Cn].onexit&&dn[Cn].onexit(),At.removeCue(dn[Cn]))}function at(){var At=document.getElementById("native-cue-style");if(!At){(At=document.createElement("style")).id="native-cue-style",document.head.appendChild(At);var jt=At.sheet,Qt=k.getElement();try{Qt&&jt.insertRule(Qt.id?"#"+Qt.id+"::cue {background: transparent}":0!==Qt.classList.length?"."+Qt.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(cn){T.info(""+cn.message)}}}function ct(){var At=document.getElementById("native-cue-style");At&&document.head.removeChild(At)}function rt(){if(le)for(;le.firstChild;)le.removeChild(le.firstChild)}return O={initialize:function Ie(){typeof window>"u"||typeof navigator>"u"||(N=window.VTTCue||window.TextTrackCue,C=[],B=[],Y=-1,J=0,ce=0,Fe=0,q=0,le=null,K=null,_e=null,me=!1,Le=2147483647,De=null,void 0!==document.fullscreenElement?se="fullscreenElement":void 0!==document.webkitIsFullScreen?se="webkitIsFullScreen":document.msFullscreenElement?se="msFullscreenElement":document.mozFullScreen&&(se="mozFullScreen"))},getStreamId:function ge(){return P.id},addTextTrack:function ke(At){C.push(At)},addCaptions:Se,createTracks:function we(){C.sort(function(en,xt){return en.index-xt.index}),le=k.getTTMLRenderingDiv(),K=k.getVttRenderingDiv();for(var At=-1,jt=0;jt<C.length;jt++){var Qt=Ue(C[jt]);B.push(Qt),C[jt].defaultTrack&&(Qt.default=!0,At=jt);var cn=$(jt);cn&&(cn.mode=t.default.TEXT_SHOWING,cn.renderingType=le&&(C[jt].isTTML||C[jt].isEmbedded)?"html":"default"),Se(jt,0,C[jt].captionData),V.trigger(E.default.TEXT_TRACK_ADDED)}if(te.call(this,At),At>=0){V.on(E.default.PLAYBACK_METADATA_LOADED,function en(){var xt=$(At);xt&&"html"===xt.renderingType&&st.call(this,xt,!0),V.off(E.default.PLAYBACK_METADATA_LOADED,en,this)},this);for(var Gt=0;Gt<C.length;Gt++){var Cn=$(Gt);Cn&&(Cn.mode=Gt===At?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN,Cn.manualMode=Gt===At?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN)}}V.trigger(w.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:Y,tracks:C,streamId:P.id})},getCurrentTrackIdx:function ie(){return Y},setCurrentTrackIdx:te,getTrackIdxForId:function re(At){for(var jt=-1,Qt=0;Qt<C.length;Qt++)if(C[Qt].id===At){jt=Qt;break}return jt},getCurrentTrackInfo:function Bt(){return C[Y]},setModeForTrackIdx:function _t(At,jt){var Qt=$(At);Qt&&Qt.mode!==jt&&(Qt.mode=jt),Qt&&Qt.manualMode!==jt&&(Qt.manualMode=jt)},deleteCuesFromTrackIdx:function Me(At,jt,Qt){var cn=$(At);cn&&ue(cn,jt,Qt)},deleteAllTextTracks:function Ye(){for(var At=B?B.length:0,jt=0;jt<At;jt++){var Qt=$(jt);Qt&&ue.call(this,Qt,P.start,P.start+P.duration,!1)}B=[],C=[],_e&&(clearInterval(_e),_e=null),he&&k&&(he.unobserve(k.getElement()),he=null),Y=-1,rt.call(this)},deleteTextTrack:function Ge(At){k.removeChild(B[At]),B.splice(At,1)},manualCueProcessing:function ve(At){var jt=X();if(jt&&jt.length>0){var cn=jt[0].manualCueList;cn&&cn.length>0&&cn.forEach(function(dn){if(dn.startTime<=At&&dn.endTime>=At&&!dn.isActive)dn.isActive=!0,WebVTT.processCues(window,[dn],K,dn.cueID);else if(dn.isActive&&(dn.startTime>At||dn.endTime<At)&&(dn.isActive=!1,K))for(var Gt=K.childNodes,Cn=0;Cn<Gt.length;++Cn)Gt[Cn].id===dn.cueID&&(K.removeChild(Gt[Cn]),--Cn)})}},disableManualTracks:function Q(){var At=X();if(At&&At.length>0){var Qt=At[0].manualCueList;Qt&&Qt.length>0&&Qt.forEach(function(cn){if(cn.isActive&&(cn.isActive=!1,K))for(var dn=K.childNodes,Gt=0;Gt<dn.length;++Gt)dn[Gt].id===cn.cueID&&(K.removeChild(dn[Gt]),--Gt)})}}},function Re(){T=Object(L.default)(R).getInstance().getLogger(O)}(),O}M.__dashjs_factory_name="TextTracks",S.default=F.default.getClassFactory(M)},"./src/streaming/thumbnail/ThumbnailController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailController.js ***!
                  \********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ../vo/Thumbnail */
"./src/streaming/vo/Thumbnail.js"),E=c(
/*! ./ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),F=c(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),L=c(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function D(p){var y,M,f=this.context,g=p.streamInfo;function x(C){M.setTrackByIndex(C)}function N(){M&&M.reset()}return y={getStreamId:function V(){return g.id},initialize:function R(){M.addTracks();var C=M.getTracks();C&&C.length>0&&x(0)},provide:function k(C,B){if("function"==typeof B){var ce,Y=M.getCurrentTrack();if(!Y||Y.segmentDuration<=0||null==C)return void B(null);(ce=M.getThumbnailRequestForTime(C))&&(Y.segmentDuration=ce.duration);var Fe=Math.floor(C%Y.segmentDuration*Y.tilesHor*Y.tilesVert/Y.segmentDuration),q=new w.default;if(q.width=Math.floor(Y.widthPerTile),q.height=Math.floor(Y.heightPerTile),q.x=Math.floor(Fe%Y.tilesHor)*Y.widthPerTile,q.y=Math.floor(Fe/Y.tilesHor)*Y.heightPerTile,"readThumbnail"in Y)return Y.readThumbnail(C,function(K){q.url=K,B(q)});if(ce)q.url=ce.url,Y.segmentDuration=NaN;else{var le=Math.floor(C/Y.segmentDuration);q.url=function P(C,B){var Y=B+C.startNumber,J=Object(L.replaceTokenForTemplate)(C.templateUrl,"Number",Y);return J=Object(L.replaceTokenForTemplate)(J,"Time",(Y-1)*C.segmentDuration*C.timescale),J=Object(L.replaceTokenForTemplate)(J,"Bandwidth",C.bandwidth),Object(L.unescapeDollarsInTemplate)(J)}(Y,le)}B(q)}},setTrackByIndex:x,getCurrentTrackIndex:function O(){return M.getCurrentTrackIndex()},getBitrateList:function T(){var C=M.getTracks(),B=0;return C.map(function(Y){var J=new F.default;return J.mediaType=b.default.IMAGE,J.qualityIndex=B++,J.bitrate=Y.bitrate,J.width=Y.width,J.height=Y.height,J})},reset:N},function U(){N(),M=Object(E.default)(f).create({streamInfo:g,adapter:p.adapter,baseURLController:p.baseURLController,timelineConverter:p.timelineConverter,debug:p.debug,eventBus:p.eventBus,events:p.events,dashConstants:p.dashConstants,dashMetrics:p.dashMetrics,segmentBaseController:p.segmentBaseController})}(),y}D.__dashjs_factory_name="ThumbnailController",S.default=t.default.getClassFactory(D)},"./src/streaming/thumbnail/ThumbnailTracks.js":
/*!****************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailTracks.js ***!
                  \****************************************************/
/*! exports provided: THUMBNAILS_SCHEME_ID_URIS, default */function(nt,S,c){"use strict";c.r(S),c.d(S,"THUMBNAILS_SCHEME_ID_URIS",function(){return y});var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),w=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../vo/ThumbnailTrackInfo */
"./src/streaming/vo/ThumbnailTrackInfo.js"),F=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),L=c(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),D=c(
/*! ../../streaming/utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),p=c(
/*! ../../streaming/net/XHRLoader */
"./src/streaming/net/XHRLoader.js"),f=c(
/*! ../../dash/DashHandler */
"./src/dash/DashHandler.js"),g=c(
/*! ../../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),y=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function M(U){var Y,J,ce,Fe,q,le,K,_e,R=this.context,V=U.adapter,k=U.baseURLController,P=U.streamInfo,x=U.timelineConverter,O=U.debug,T=U.eventBus,N=U.events,C=U.dashConstants,B=Object(F.default)(R).getInstance();function De(st,Qe){var Ne=new E.default;Ne.id=st.id,Ne.bitrate=st.bandwidth,Ne.width=st.width,Ne.height=st.height,Ne.tilesHor=1,Ne.tilesVert=1,st.essentialProperties&&st.essentialProperties.forEach(function(Se){if(y.indexOf(Se.schemeIdUri)>=0&&Se.value){var W=Se.value.split("x");2===W.length&&!isNaN(W[0])&&!isNaN(W[1])&&(Ne.tilesHor=parseInt(W[0],10),Ne.tilesVert=parseInt(W[1],10))}}),Qe?le.updateSegmentData(st).then(function(Se){!function Le(st,Qe,Ne){var Se=[],W=function he(st,Qe){var W,ae,ve,Q,Ne=[],Se=0;for(W=0,ae=st.segments.length;W<ae;W++)ve=st.segments[W],(Q=Object(L.getTimeBasedSegment)(x,V.getIsDynamic(),Qe,ve.startTime,ve.duration,ve.timescale,ve.media,ve.mediaRange,Se))&&(Ne.push(Q),Q=null,Se++);return Ne}(Ne,Qe);Qe.segments=W,st.segmentDuration=Qe.segments[0].duration,st.readThumbnail=function(ae,ve){var Q=null;Se.some(function(X){if(X.start<=ae&&X.end>ae)return Q=X.url,!0}),Q?ve(Q):Qe.segments.some(function(X){if(X.mediaStartTime<=ae&&X.mediaStartTime+X.duration>ae){var $=k.resolve(Qe.path);return K.load({method:"get",url:$.url,request:{range:X.mediaRange,responseType:"arraybuffer"},onload:function(re){var te=_e.getSamplesInfo(re.target.response),ee=new Blob([re.target.response.slice(te.sampleList[0].offset,te.sampleList[0].offset+te.sampleList[0].size)],{type:"image/jpeg"}),fe=window.URL.createObjectURL(ee);Se.push({start:X.mediaStartTime,end:X.mediaStartTime+X.duration,url:fe}),ve&&ve(fe)}}),!0}})}}(Ne,st,Se)}):(Ne.startNumber=st.startNumber,Ne.segmentDuration=st.segmentDuration,Ne.timescale=st.timescale,Ne.templateUrl=function Re(st){var Qe=B.isRelative(st.media)?B.resolve(st.media,k.resolve(st.path).url):st.media;return Qe?Object(L.replaceIDForTemplate)(Qe,st.id):""}(st)),Ne.tilesHor>0&&Ne.tilesVert>0&&(Ne.widthPerTile=Ne.width/Ne.tilesHor,Ne.heightPerTile=Ne.height/Ne.tilesVert,J.push(Ne))}function Ke(){J=[],Fe=-1,q=null}return Y={getTracks:function Ie(){return J},addTracks:function me(){if(P&&V&&(q=V.getMediaInfoForType(P,t.default.IMAGE))){var st=V.getVoRepresentations(q);st&&st.length>0&&st.forEach(function(Qe){(Qe.segmentInfoType===b.default.SEGMENT_TEMPLATE&&Qe.segmentDuration>0&&Qe.media||Qe.segmentInfoType===b.default.SEGMENT_TIMELINE)&&De(Qe),Qe.segmentInfoType===b.default.SEGMENT_BASE&&De(Qe,!0)}),J.length>0&&J.sort(function(Qe,Ne){return Qe.bitrate-Ne.bitrate})}},reset:Ke,setTrackByIndex:function ke(st){!J||0===J.length||(st>=J.length&&(st=J.length-1),Fe=st)},getCurrentTrack:function Ue(){return Fe<0?null:J[Fe]},getCurrentTrackIndex:function ge(){return Fe},getThumbnailRequestForTime:function we(st){for(var Qe,Ne=V.getVoRepresentations(q),Se=0;Se<Ne.length;Se++)if(J[Fe].id===Ne[Se].id){Qe=Ne[Se];break}return ce.getSegmentRequestForTime(q,Qe,st)}},function se(){Ke(),K=Object(p.default)(R).create({}),_e=Object(D.default)(R).getInstance(),le=Object(g.default)(R).create({events:N,eventBus:T,streamInfo:P,timelineConverter:x,dashConstants:C,dashMetrics:U.dashMetrics,segmentBaseController:U.segmentBaseController,type:t.default.IMAGE}),(ce=Object(f.default)(R).create({streamInfo:P,type:t.default.IMAGE,timelineConverter:x,segmentsController:le,baseURLController:k,debug:O,eventBus:T,events:N,dashConstants:C,urlUtils:B})).initialize(!!V&&V.getIsDynamic())}(),Y}M.__dashjs_factory_name="ThumbnailTracks",S.default=w.default.getClassFactory(M)},"./src/streaming/utils/BaseURLSelector.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/BaseURLSelector.js ***!
                  \************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),F=c(
/*! ./baseUrlResolution/DVBSelector */
"./src/streaming/utils/baseUrlResolution/DVBSelector.js"),L=c(
/*! ./baseUrlResolution/BasicSelector */
"./src/streaming/utils/baseUrlResolution/BasicSelector.js"),D=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),f=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),g=c(
/*! ./baseUrlResolution/ContentSteeringSelector */
"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js"),y=c(
/*! ../../core/Settings */
"./src/core/Settings.js");function M(){var k,P,x,O,T,N,U=this.context,R=Object(b.default)(U).getInstance(),V=Object(y.default)(U).getInstance();function ce(){P.reset()}return k={chooseSelector:function Y(Fe){Object(f.checkParameterType)(Fe,"boolean"),N=Fe?O:x},select:function J(Fe){if(Fe){if(V.get().streaming.applyContentSteering){var q=T.selectBaseUrlIndex(Fe);!isNaN(q)&&-1!==q&&(Fe.selectedIdx=q)}if(!isNaN(Fe.selectedIdx))return Fe.baseUrls[Fe.selectedIdx];var le=N.select(Fe.baseUrls);return le?(Fe.selectedIdx=Fe.baseUrls.indexOf(le),le):(R.trigger(w.default.URL_RESOLUTION_FAILED,{error:new p.default(t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(N===x&&ce()))}},reset:ce,setConfig:function B(Fe){Fe.selector&&(N=Fe.selector),Fe.contentSteeringSelector&&(T=Fe.contentSteeringSelector)}},function C(){P=Object(E.default)(U).create({updateEventName:w.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:w.default.SERVICE_LOCATION_BLACKLIST_ADD}),x=Object(L.default)(U).create({blacklistController:P}),O=Object(F.default)(U).create({blacklistController:P}),(T=Object(g.default)(U).create()).setConfig({blacklistController:P}),N=x}(),k}M.__dashjs_factory_name="BaseURLSelector",S.default=D.default.getClassFactory(M)},"./src/streaming/utils/BoxParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/BoxParser.js ***!
                  \******************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=c(
/*! ./IsoFile */
"./src/streaming/utils/IsoFile.js"),w=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),F=c.n(E),L=c(
/*! ../vo/IsoBoxSearchInfo */
"./src/streaming/vo/IsoBoxSearchInfo.js");function D(){var p,f,g=this.context;function M(T){if(!T)return null;void 0===T.fileStart&&(T.fileStart=0);var N=F.a.parseBuffer(T),C=Object(b.default)(g).create();return C.setData(N),C}function k(T,N){return T[N+3]>>>0|T[N+2]<<8>>>0|T[N+1]<<16>>>0|T[N]<<24>>>0}function P(T,N){return String.fromCharCode(T[N++])+String.fromCharCode(T[N++])+String.fromCharCode(T[N++])+String.fromCharCode(T[N])}return f={parse:M,findLastTopIsoBoxCompleted:function U(T,N,C){if(void 0===C&&(C=0),!N||C+8>=N.byteLength)return new L.default(0,!1);for(var Y,B=N instanceof ArrayBuffer?new Uint8Array(N):N,J=0;C<B.byteLength;){var ce=k(B,C),Fe=P(B,C+4);if(0===ce)break;C+ce<=B.byteLength&&(T.indexOf(Fe)>=0?Y=new L.default(C,!0,ce):J=C+ce),C+=ce}return Y||new L.default(J,!1)},getMediaTimescaleFromMoov:function V(T){var N=M(T),C=N?N.getBox("mdhd"):void 0;return C?C.timescale:NaN},getSamplesInfo:function R(T){if(!T||0===T.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var Y,ce,Fe,q,le,K,_e,se,me,De,Le,he,Re,Ie,ge,Ue,N=M(T),C=N.getBoxes("moof"),B=N.getBoxes("mfhd");ge=N.getBoxes("moof").length,Ie=B[B.length-1].sequence_number,ce=0,le=[];var ke=-1,we=-1;for(De=0;De<C.length;De++){var Ke=C[De],st=Ke.getChildBoxes("traf");for(se=0;se<st.length;se++){var Qe=st[se],Ne=Qe.getChildBox("tfhd"),Se=Qe.getChildBox("tfdt");q=Se.baseMediaDecodeTime;var W=Qe.getChildBoxes("trun"),ae=Qe.getChildBoxes("subs");for(me=0;me<W.length;me++){var ve=W[me];for(ce=ve.sample_count,Re=(Ne.base_data_offset||0)+(ve.data_offset||0),_e=0;_e<ce;_e++){var Q={dts:q,cts:q+(void 0!==(K=ve.samples[_e]).sample_composition_time_offset?K.sample_composition_time_offset:0),duration:Y=void 0!==K.sample_duration?K.sample_duration:Ne.default_sample_duration,offset:Ke.offset+Re,size:Fe=void 0!==K.sample_size?K.sample_size:Ne.default_sample_size,subSizes:[Fe]};if(ae)for(Le=0;Le<ae.length;Le++){var X=ae[Le];if(ke<X.entry_count-1&&_e>we&&(ke++,we+=X.entries[ke].sample_delta),_e==we){Q.subSizes=[];var $=X.entries[ke];for(he=0;he<$.subsample_count;he++)Q.subSizes.push($.subsamples[he].subsample_size)}}le.push(Q),Re+=Fe,q+=Y}}Ue=q-Se.baseMediaDecodeTime}}return{sampleList:le,lastSequenceNumber:Ie,totalDuration:Ue,numSequences:ge}},findInitRange:function x(T){var N=null,Y=M(T);if(!Y)return N;var J=Y.getBox("ftyp"),ce=Y.getBox("moov");return p.debug("Searching for initialization."),ce&&ce.isComplete&&p.debug("Found the initialization.  Range: "+(N=(J?J.offset:ce.offset)+"-"+(ce.offset+ce.size-1))),N},parsePayload:function O(T,N,C){if(void 0===C&&(C=0),!N||C+8>=N.byteLength)return new L.default(0,!1);for(var Y,B=N instanceof ArrayBuffer?new Uint8Array(N):N,J=0;C<B.byteLength;){var ce=k(B,C),Fe=P(B,C+4);if(0===ce)break;C+ce<=B.byteLength&&(T.indexOf(Fe)>=0?Y=new L.default(C,!0,ce,Fe):J=C+ce),C+=ce}return Y||new L.default(J,!1)}},function y(){p=Object(t.default)(g).getInstance().getLogger(f)}(),f}D.__dashjs_factory_name="BoxParser",S.default=w.default.getSingletonFactory(D)},"./src/streaming/utils/Capabilities.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/Capabilities.js ***!
                  \*********************************************/
/*! exports provided: supportsMediaSource, default */function(nt,S,c){"use strict";c.r(S),c.d(S,"supportsMediaSource",function(){return F});var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),w=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function F(){var D="WebKitMediaSource"in window,p="MediaSource"in window;return D||p}function L(){var D,p,f;return D={setConfig:function y(T){T&&T.settings&&(p=T.settings)},supportsMediaSource:F,supportsEncryptedMedia:function M(){return f},supportsCodec:function R(T,N){return N!==w.default.AUDIO&&N!==w.default.VIDEO?Promise.resolve(!0):function V(T,N){return p.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(T.codec&&N===w.default.AUDIO||N===w.default.VIDEO&&T.codec&&T.width&&T.height&&T.bitrate&&T.framerate)}(T,N)?function P(T,N){return new Promise(function(C){if(T&&T.codec){var B={type:"media-source"};B[N]={},B[N].contentType=T.codec,B[N].width=T.width,B[N].height=T.height,B[N].bitrate=parseInt(T.bitrate),B[N].framerate=parseFloat(T.framerate),navigator.mediaCapabilities.decodingInfo(B).then(function(Y){C(Y.supported)}).catch(function(){C(!1)})}else C(!1)})}(T,N):function k(T){return new Promise(function(N){if(T&&T.codec){var C=T.codec;T.width&&T.height&&(C+=';width="'+T.width+'";height="'+T.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(C)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(C)?N(!0):N(!1)}else N(!1)})}(T)},setEncryptedMediaSupported:function U(T){f=T},supportsEssentialProperty:function x(T){try{return-1!==b.THUMBNAILS_SCHEME_ID_URIS.indexOf(T.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function O(T,N){for(var Y,C=T.split(".")[0],B=0===N.indexOf(C),J=0;J<E.length;J++)if(E[J].codec===C){Y=E[J];break}return Y?B||Y.compatibleCodecs.some(function(ce){return 0===N.indexOf(ce)}):B}},function g(){f=!1}(),D}L.__dashjs_factory_name="Capabilities",S.default=t.default.getSingletonFactory(L)},"./src/streaming/utils/CapabilitiesFilter.js":
/*!***************************************************!*\
                  !*** ./src/streaming/utils/CapabilitiesFilter.js ***!
                  \***************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),F=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function L(){var f,g,y,M,U,R,D=this.context,p=Object(E.default)(D).getInstance();function x(ce,Fe){if(!Fe||!Fe.Period_asArray||0===Fe.Period_asArray.length)return Promise.resolve();var q=[];return Fe.Period_asArray.forEach(function(le){q.push(function O(ce,Fe){return new Promise(function(q){if(ce&&ce.AdaptationSet_asArray&&0!==ce.AdaptationSet_asArray.length){var le=[];ce.AdaptationSet_asArray.forEach(function(K){g.getIsTypeOf(K,Fe)&&le.push(function T(ce,Fe){return new Promise(function(q){if(ce.Representation_asArray&&0!==ce.Representation_asArray.length){var le=[],K=[];ce.Representation_asArray.forEach(function(_e,se){var me=g.getCodec(ce,se,!1),De=function N(ce,Fe,q){switch(ce){case w.default.VIDEO:return function C(ce,Fe){return{codec:Fe,width:ce.width||null,height:ce.height||null,framerate:ce.frameRate||null,bitrate:ce.bandwidth||null}}(Fe,q);case w.default.AUDIO:return function B(ce,Fe){return{codec:Fe,bitrate:ce.bandwidth||null,samplerate:ce.audioSamplingRate||null}}(Fe,q);default:return null}}(Fe,_e,me);K.push(De),le.push(y.supportsCodec(De,Fe))}),Promise.all(le).then(function(_e){ce.Representation_asArray=ce.Representation_asArray.filter(function(se,me){return _e[me]||R.debug("[Stream] Codec ".concat(K[me].codec," not supported ")),_e[me]}),q()}).catch(function(){q()})}else q()})}(K,Fe))}),Promise.all(le).then(function(){ce.AdaptationSet_asArray=ce.AdaptationSet_asArray.filter(function(K){var _e=K.Representation_asArray&&K.Representation_asArray.length>0;return _e||(p.trigger(F.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:K}),R.warn("AdaptationSet has been removed because of no supported Representation")),_e}),q()}).catch(function(){q()})}else q()})}(le,ce))}),Promise.all(q)}return f={setConfig:function k(ce){ce&&(ce.adapter&&(g=ce.adapter),ce.capabilities&&(y=ce.capabilities),ce.settings&&(M=ce.settings),ce.customParametersModel&&(U=ce.customParametersModel))},filterUnsupportedFeatures:function P(ce){return new Promise(function(Fe){var q=[];q.push(x(w.default.VIDEO,ce)),q.push(x(w.default.AUDIO,ce)),Promise.all(q).then(function(){M.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function Y(ce){!ce||!ce.Period_asArray||0===ce.Period_asArray.length||ce.Period_asArray.forEach(function(Fe){Fe.AdaptationSet_asArray=Fe.AdaptationSet_asArray.filter(function(q){return!q.Representation_asArray||0===q.Representation_asArray.length||(q.Representation_asArray=q.Representation_asArray.filter(function(le){var K=g.getEssentialPropertiesForRepresentation(le);if(K&&K.length>0)for(var _e=0;_e<K.length;){if(!y.supportsEssentialProperty(K[_e]))return R.debug("[Stream] EssentialProperty not supported: "+K[_e].schemeIdUri),!1;_e+=1}return!0}),q.Representation_asArray&&q.Representation_asArray.length>0)})})}(ce),function J(ce){var Fe=U.getCustomCapabilitiesFilters();!Fe||0===Fe.length||!ce||!ce.Period_asArray||0===ce.Period_asArray.length||ce.Period_asArray.forEach(function(q){q.AdaptationSet_asArray=q.AdaptationSet_asArray.filter(function(le){return!le.Representation_asArray||0===le.Representation_asArray.length||(le.Representation_asArray=le.Representation_asArray.filter(function(K){return!Fe.some(function(_e){return!_e(K)})}),le.Representation_asArray&&le.Representation_asArray.length>0)})})}(ce),Fe()}).catch(function(){Fe()})})}},function V(){R=Object(b.default)(D).getInstance().getLogger(f)}(),f}L.__dashjs_factory_name="CapabilitiesFilter",S.default=t.default.getSingletonFactory(L)},"./src/streaming/utils/CustomTimeRanges.js":
/*!*************************************************!*\
                  !*** ./src/streaming/utils/CustomTimeRanges.js ***!
                  \*************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function w(){return{customTimeRangeArray:[],length:0,add:function L(M,U){var R=0;for(R=0;R<this.customTimeRangeArray.length&&M>this.customTimeRangeArray[R].start;R++);for(this.customTimeRangeArray.splice(R,0,{start:M,end:U}),R=0;R<this.customTimeRangeArray.length-1;R++)this.mergeRanges(R,R+1)&&R--;this.length=this.customTimeRangeArray.length},clear:function D(){this.customTimeRangeArray=[],this.length=0},remove:function p(M,U){for(var R=0;R<this.customTimeRangeArray.length;R++)if(M<=this.customTimeRangeArray[R].start&&U>=this.customTimeRangeArray[R].end)this.customTimeRangeArray.splice(R,1),R--;else{if(M>this.customTimeRangeArray[R].start&&U<this.customTimeRangeArray[R].end){this.customTimeRangeArray.splice(R+1,0,{start:U,end:this.customTimeRangeArray[R].end}),this.customTimeRangeArray[R].end=M;break}M>this.customTimeRangeArray[R].start&&M<this.customTimeRangeArray[R].end?this.customTimeRangeArray[R].end=M:U>this.customTimeRangeArray[R].start&&U<this.customTimeRangeArray[R].end&&(this.customTimeRangeArray[R].start=U)}this.length=this.customTimeRangeArray.length},mergeRanges:function f(M,U){var R=this.customTimeRangeArray[M],V=this.customTimeRangeArray[U];return R.start<=V.start&&V.start<=R.end&&R.end<=V.end?(R.end=V.end,this.customTimeRangeArray.splice(U,1),!0):V.start<=R.start&&R.start<=V.end&&V.end<=R.end?(R.start=V.start,this.customTimeRangeArray.splice(U,1),!0):V.start<=R.start&&R.start<=V.end&&R.end<=V.end?(this.customTimeRangeArray.splice(M,1),!0):R.start<=V.start&&V.start<=R.end&&V.end<=R.end&&(this.customTimeRangeArray.splice(U,1),!0)},start:function g(M){return Object(b.checkInteger)(M),M>=this.customTimeRangeArray.length||M<0?NaN:this.customTimeRangeArray[M].start},end:function y(M){return Object(b.checkInteger)(M),M>=this.customTimeRangeArray.length||M<0?NaN:this.customTimeRangeArray[M].end}}}w.__dashjs_factory_name="CustomTimeRanges",S.default=t.default.getClassFactory(w)},"./src/streaming/utils/DOMStorage.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/DOMStorage.js ***!
                  \*******************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],F="dashjs_?_bitrate",L="dashjs_?_settings",D="localStorage",f="lastBitrate",g="lastMediaSettings";function y(U){var k,P,x,R=this.context,V=(U=U||{}).settings;function T(le){if(void 0!==x)return x;x=!1;var se;try{typeof window<"u"&&(se=window[le])}catch(me){return P.warn("DOMStorage access denied: "+me.message),x}if(!se||le!==D&&"sessionStorage"!==le)return x;try{se.setItem("1","1"),se.removeItem("1"),x=!0}catch(me){P.warn("DOMStorage is supported, but cannot be used: "+me.message)}return x}function C(){return 6e5*Math.round((new Date).getTime()/6e5)}function B(le,K){return T(le)&&V.get().streaming[K+"CachingInfo"].enabled}function Y(){if(!V)throw new Error(w.default.MISSING_CONFIG_ERROR)}return k={getSavedBitrateSettings:function ce(le){if(Y(),!V.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var K=NaN;if(B(D,f)){var _e=F.replace(/\?/,le);try{var se=JSON.parse(localStorage.getItem(_e))||{},me=(new Date).getTime()-parseInt(se.timestamp,10)>=V.get().streaming.lastBitrateCachingInfo.ttl||!1,De=parseFloat(se.bitrate);isNaN(De)||me?me&&localStorage.removeItem(_e):(K=De,P.debug("Last saved bitrate for "+le+" was "+De))}catch{return null}}return K},setSavedBitrateSettings:function q(le,K){if(B(D,f)&&K){var _e=F.replace(/\?/,le);try{localStorage.setItem(_e,JSON.stringify({bitrate:K.toFixed(3),timestamp:C()}))}catch(se){P.error(se.message)}}},getSavedMediaSettings:function J(le){if(Y(),!V.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var K=null;if(B(D,g)){var _e=L.replace(/\?/,le);try{var se=JSON.parse(localStorage.getItem(_e))||{},me=(new Date).getTime()-parseInt(se.timestamp,10)>=V.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;K=se.settings,me&&(localStorage.removeItem(_e),K=null)}catch{return null}}return K},setSavedMediaSettings:function Fe(le,K){if(B(D,g)){var _e=L.replace(/\?/,le);try{localStorage.setItem(_e,JSON.stringify({settings:K,timestamp:C()}))}catch(se){P.error(se.message)}}}},function O(){P=Object(b.default)(R).getInstance().getLogger(k),function N(){T(D)&&E.forEach(function(le){var K=localStorage.getItem(le.oldKey);if(K){localStorage.removeItem(le.oldKey);try{localStorage.setItem(le.newKey,K)}catch(_e){P.error(_e.message)}}})}()}(),k}y.__dashjs_factory_name="DOMStorage";var M=t.default.getSingletonFactory(y);S.default=M},"./src/streaming/utils/DefaultURLUtils.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/DefaultURLUtils.js ***!
                  \************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var w,E=/^[a-z][a-z0-9+\-_.]*:/i,F=/^https?:\/\//i,L=/^https:\/\//i,D=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,p=function(B,Y){try{return new window.URL(B,Y).toString()}catch{return B}},f=function(B,Y){var J=y;if(!Y||!V(B))return B;k(B)&&(J=M),P(B)&&(J=R);var ce=J(Y),Fe="/"!==ce.charAt(ce.length-1)&&"/"!==B.charAt(0)?"/":"";return[ce,B].join(Fe)};function y(C){var B=C.indexOf("/"),Y=C.lastIndexOf("/");return-1!==B?Y===B+1?C:(-1!==C.indexOf("?")&&(C=C.substring(0,C.indexOf("?"))),C.substring(0,Y+1)):""}function M(C){var B=C.match(D);return B?B[1]:""}function R(C){var B=C.match(E);return B?B[0]:""}function V(C){return!E.test(C)}function k(C){return V(C)&&"/"===C.charAt(0)}function P(C){return 0===C.indexOf("//")}return function g(){try{new window.URL("x","http://y"),w=p}catch{}finally{w=w||f}}(),{parseBaseUrl:y,parseOrigin:M,parseScheme:R,isRelative:V,isPathAbsolute:k,isSchemeRelative:P,isHTTPURL:function x(C){return F.test(C)},isHTTPS:function O(C){return L.test(C)},removeHostname:function U(C){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(C)[2].substring(1)},resolve:function T(C,B){return w(C,B)}}}b.__dashjs_factory_name="DefaultURLUtils",S.default=t.default.getSingletonFactory(b)},"./src/streaming/utils/EBMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/EBMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(w){w=w||{};var E,F=new DataView(w.data),L=0;function f(P,x){var O=!0,T=0;if(void 0===x&&(x=!1),P.tag>16777215?(F.getUint32(L)!==P.tag&&(O=!1),T=4):P.tag>65535?(256*F.getUint16(L)+F.getUint8(L+2)!==P.tag&&(O=!1),T=3):P.tag>255?(F.getUint16(L)!==P.tag&&(O=!1),T=2):(F.getUint8(L)!==P.tag&&(O=!1),T=1),!O&&P.required&&!x)throw new Error("required tag not found");return O&&(L+=T),O}function U(P){var x=1,O=128,N=-1,C=0,B=F.getUint8(L),Y=0;for(Y=0;Y<8;Y+=1){if((B&O)===O){C=void 0===P?B&~O:B,N=Y;break}O>>=1}for(Y=0;Y<N;Y+=1,x+=1)C=C<<8|255&F.getUint8(L+x);return L+=x,C}return E={getPos:function D(){return L},setPos:function p(P){L=P},consumeTag:f,consumeTagAndSize:function g(P,x){var O=f(P,x);return O&&U(),O},parseTag:function y(P){var x;return f(P),x=U(),E[P.parse](x)},skipOverElement:function M(P,x){var T,O=f(P,x);return O&&(T=U(),L+=T),O},getMatroskaCodedNum:U,getMatroskaFloat:function R(P){var x;switch(P){case 4:x=F.getFloat32(L),L+=4;break;case 8:x=F.getFloat64(L),L+=8}return x},getMatroskaUint:function V(P){for(var x=0,O=0;O<P;O+=1)x<<=8,x|=255&F.getUint8(L+O);return L+=P,x},moreData:function k(){return L<F.byteLength}}}b.__dashjs_factory_name="EBMLParser",S.default=t.default.getClassFactory(b)},"./src/streaming/utils/ErrorHandler.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/ErrorHandler.js ***!
                  \*********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var L=this.context,D=Object(t.default)(L).getInstance();return{error:function p(f){D.trigger(b.default.ERROR,{error:f})}}}E.__dashjs_factory_name="ErrorHandler",S.default=w.default.getSingletonFactory(E)},"./src/streaming/utils/InitCache.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/InitCache.js ***!
                  \******************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var w={};return{save:function E(p){var f=p.streamId,g=p.representationId;w[f]=w[f]||{},w[f][g]=p},extract:function F(p,f){return w&&w[p]&&w[p][f]?w[p][f]:null},reset:function L(){w={}}}}b.__dashjs_factory_name="InitCache",S.default=t.default.getSingletonFactory(b)},"./src/streaming/utils/IsoFile.js":
/*!****************************************!*\
                  !*** ./src/streaming/utils/IsoFile.js ***!
                  \****************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/IsoBox */
"./src/streaming/vo/IsoBox.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(){var F;function D(y){var M=[];if(!y||!F||"function"!=typeof F.fetchAll)return M;for(var R,U=F.fetchAll(y),V=0,k=U.length;V<k;V++)(R=g(U[V]))&&M.push(R);return M}function g(y){if(!y)return null;var M=new t.default(y);return y.hasOwnProperty("_incomplete")&&(M.isComplete=!y._incomplete),M}return{getBox:function L(y){return y&&F&&F.boxes&&0!==F.boxes.length&&"function"==typeof F.fetch?g(F.fetch(y)):null},getBoxes:D,setData:function p(y){F=y},getLastBox:function f(){if(!F||!F.boxes||!F.boxes.length)return null;var M=D(F.boxes[F.boxes.length-1].type);return M.length>0?M[M.length-1]:null}}}w.__dashjs_factory_name="IsoFile",S.default=b.default.getClassFactory(w)},"./src/streaming/utils/ObjectUtils.js":
/*!********************************************!*\
                  !*** ./src/streaming/utils/ObjectUtils.js ***!
                  \********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! fast-deep-equal */
"./node_modules/fast-deep-equal/index.js"),w=c.n(b);function E(){return{areEqual:function L(D,p){return w()(D,p)}}}E.__dashjs_factory_name="ObjectUtils",S.default=t.default.getSingletonFactory(E)},"./src/streaming/utils/RequestModifier.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/RequestModifier.js ***!
                  \************************************************/
/*! exports provided: modifyRequest, default */function(nt,S,c){"use strict";c.r(S),c.d(S,"modifyRequest",function(){return b});var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(E,F){var L={url:E.url,method:E.method,headers:Object.assign({},E.headers),credentials:E.withCredentials?"include":void 0};return Promise.resolve(F.modifyRequest(L)).then(function(){return Object.assign(E,L,{withCredentials:"include"===L.credentials})})}function w(){return{modifyRequest:null,modifyRequestURL:function F(D){return D},modifyRequestHeader:function L(D,p){return D}}}w.__dashjs_factory_name="RequestModifier",S.default=t.default.getSingletonFactory(w)},"./src/streaming/utils/SupervisorTools.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/SupervisorTools.js ***!
                  \************************************************/
/*! exports provided: checkParameterType, checkInteger, checkRange, checkIsVideoOrAudioType */function(nt,S,c){"use strict";c.r(S),c.d(S,"checkParameterType",function(){return w}),c.d(S,"checkInteger",function(){return E}),c.d(S,"checkRange",function(){return F}),c.d(S,"checkIsVideoOrAudioType",function(){return L});var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function b(D){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(D)}function w(D,p){if(b(D)!==p)throw t.default.BAD_ARGUMENT_ERROR}function E(D){if(null===D||isNaN(D)||D%1!=0)throw t.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function F(D,p,f){if(D<p||D>f)throw t.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function L(D){if("string"!=typeof D||D!==t.default.AUDIO&&D!==t.default.VIDEO)throw t.default.BAD_ARGUMENT_ERROR}},"./src/streaming/utils/TTMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/TTMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js"),D=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),p=c(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function f(){var M,U,g=this.context,y=Object(w.default)(g).getInstance(),R=0;function k(){var x="cue_TTML_"+R;return R++,x}return M={parse:function P(x,O,T,N,C){var J,ce,Fe,B="",Y=[],q={},le={},K="",_e="",se={onOpenTag:function(Re,Ie,ge){if(ge[" imagetype"]&&!ge[" imageType"]&&(y.trigger(D.default.CONFORMANCE_VIOLATION,{level:p.default.LEVELS.ERROR,event:p.default.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),ge[" imageType"]=ge[" imagetype"]),"image"===Ie&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===Re||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===Re)){if(!ge[" imageType"]||"PNG"!==ge[" imageType"].value)return void U.warn("smpte-tt imageType != PNG. Discarded");K=ge["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){K&&(le[K]=_e.trim()),_e="",K=""},onText:function(Re){K&&(_e+=Re)}};if(!x)throw B="no ttml data to parse",new Error(B);q.data=x,y.trigger(E.default.TTML_TO_PARSE,q);var me=Object(F.fromXML)(q.data,function(he){B=he},se);y.trigger(E.default.TTML_PARSED,{ttmlString:q.data,ttmlDoc:me});var De=me.getMediaTimeEvents();for(Fe=0;Fe<De.length;Fe++){var Le=Object(F.generateISD)(me,De[Fe],function(he){B=he});Le.contents.some(function(he){return he.contents.length})&&(J=De[Fe]+O<T?T:De[Fe]+O)<(ce=De[Fe+1]+O>N?N:De[Fe+1]+O)&&Y.push({start:J,end:ce,type:"html",cueID:k(),isd:Le,images:C,embeddedImages:le})}if(""!==B)throw U.error(B),new Error(B);return Y}},function V(){U=Object(b.default)(g).getInstance().getLogger(M)}(),M}f.__dashjs_factory_name="TTMLParser",S.default=t.default.getSingletonFactory(f)},"./src/streaming/utils/URLUtils.js":
/*!*****************************************!*\
                  !*** ./src/streaming/utils/URLUtils.js ***!
                  \*****************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ./DefaultURLUtils */
"./src/streaming/utils/DefaultURLUtils.js");function w(){var L,D=[],p=this.context;function M(B,Y,J){var ce=function f(B){var Y;for(Y=0;Y<D.length;Y++)if(D[Y].regex.test(B))return D[Y].utils;return L}(J||Y);return ce&&"function"==typeof ce[B]?ce[B](Y,J):L[B](Y,J)}return function g(){L=Object(b.default)(p).getInstance()}(),{registerUrlRegex:function y(B,Y){D.push({regex:B,utils:Y})},parseBaseUrl:function U(B){return M("parseBaseUrl",B)},parseOrigin:function R(B){return M("parseOrigin",B)},parseScheme:function k(B){return M("parseScheme",B)},isRelative:function P(B){return M("isRelative",B)},isPathAbsolute:function x(B){return M("isPathAbsolute",B)},isSchemeRelative:function O(B){return M("isSchemeRelative",B)},isHTTPURL:function T(B){return M("isHTTPURL",B)},isHTTPS:function N(B){return M("isHTTPS",B)},removeHostname:function V(B){return M("removeHostname",B)},resolve:function C(B,Y){return M("resolve",B,Y)}}}w.__dashjs_factory_name="URLUtils";var E=t.default.getSingletonFactory(w);S.default=E},"./src/streaming/utils/VTTParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/VTTParser.js ***!
                  \******************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function E(){var L,D,p,f,g,y,F=this.context;function R(x){var O=x.split(":"),T=O.length-1;return x=60*parseInt(O[T-1],10)+parseFloat(O[T]),2===T&&(x+=3600*parseInt(O[0],10)),x}function V(x){var O=x.split(f),T=O[1].split(y);return T.shift(),O[1]=T[0],T.shift(),{cuePoints:O,styles:k(T)}}function k(x){var O={};return x.forEach(function(T){if(T.split(/:/).length>1){var N=T.split(/:/)[1];N&&-1!=N.search(/%/)&&(N=parseInt(N.replace(/%/,""),10)),(T.match(/align/)||T.match(/A/))&&(O.align=N),(T.match(/line/)||T.match(/L/))&&(O.line=N),(T.match(/position/)||T.match(/P/))&&(O.position=N),(T.match(/size/)||T.match(/S/))&&(O.size=N)}}),O}function P(x,O){for(var B,T=O,N="",C="";""!==x[T]&&T<x.length;)T++;if((B=T-O)>1)for(var Y=0;Y<B;Y++){if((C=x[O+Y]).match(f)){N="";break}N+=C,Y!==B-1&&(N+="\n")}else(C=x[O]).match(f)||(N=C);return N}return L={parse:function U(x){var T,N,O=[];if(!x)return O;T=(x=x.split(p)).length,N=-1;for(var C=0;C<T;C++){var B=x[C];if(B.length>0&&"WEBVTT"!==B&&B.match(f)){var Y=V(B),J=Y.cuePoints,ce=Y.styles,Fe=P(x,C+1),q=R(J[0].replace(g,"")),le=R(J[1].replace(g,""));!isNaN(q)&&!isNaN(le)&&q>=N&&le>q?""!==Fe?(N=q,O.push({start:q,end:le,data:Fe,styles:ce})):D.error("Skipping cue due to empty/malformed cue text"):D.error("Skipping cue due to incorrect cue timing")}}return O}},function M(){D=Object(b.default)(F).getInstance().getLogger(L),p=/(?:\r\n|\r|\n)/gm,f=/-->/,g=/(^[\s]+|[\s]+$)/g,y=/\s\b/g}(),L}E.__dashjs_factory_name="VTTParser",S.default=t.default.getSingletonFactory(E)},"./src/streaming/utils/VttCustomRenderingParser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/utils/VttCustomRenderingParser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var w,E;return w={parse:function L(D){var p=[];return E.oncue=function(f){f.start=f.startTime,f.end=f.endTime,f.data=f.text,f.styles={align:f.align,line:f.line,position:f.position,size:f.size},p.push(f)},E.parse(D),p}},function F(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(E=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),w}b.__dashjs_factory_name="VttCustomRenderingParser",S.default=t.default.getSingletonFactory(b)},"./src/streaming/utils/baseUrlResolution/BasicSelector.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/BasicSelector.js ***!
                  \****************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(w){var F=(w=w||{}).blacklistController;return{select:function L(D){var f,p=0;return D&&D.some(function(g,y){return p=y,!F.contains(g.serviceLocation)})&&(f=D[p]),f}}}b.__dashjs_factory_name="BasicSelector",S.default=t.default.getClassFactory(b)},"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js");function w(){var F,L,D,E=this.context;function y(){for(var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],R=0,V=NaN,k=function(){var O=M[R],T=U.findIndex(function(N){return N.serviceLocation&&N.serviceLocation===O});if(-1!==T&&!D.contains(U[T].serviceLocation))return V=T,"break";R+=1};R<M.length&&"break"!==k(););return V}return F={selectBaseUrlIndex:function g(M){var U=NaN;if(isNaN(M.selectedIdx)){var R=L.getSteeringDataFromManifest();R&&R.defaultServiceLocation&&(U=y([R.defaultServiceLocation],M.baseUrls))}var V=L.getCurrentSteeringResponseData();return M.baseUrls&&M.baseUrls.length&&V&&V.serviceLocationPriority&&V.serviceLocationPriority.length&&(U=y(V.serviceLocationPriority,M.baseUrls)),U},setConfig:function f(M){M.blacklistController&&(D=M.blacklistController),M.contentSteeringController&&(L=M.contentSteeringController)}},function p(){L=Object(b.default)(E).getInstance()}(),F}w.__dashjs_factory_name="ContentSteeringSelector",S.default=t.default.getClassFactory(w)},"./src/streaming/utils/baseUrlResolution/DVBSelector.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/DVBSelector.js ***!
                  \**************************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(w){var F=(w=w||{}).blacklistController;return{select:function p(f){return f&&function D(f){var V,k,M=0,U=[],R=0;if((k=f.sort(function(x,O){var T=x.dvb_priority-O.dvb_priority;return isNaN(T)?0:T}).filter(function(x,O,T){return!O||T[0].dvb_priority&&x.dvb_priority&&T[0].dvb_priority===x.dvb_priority})).length)return k.length>1&&(k.forEach(function(P){U.push(M+=P.dvb_weight)}),V=Math.floor(Math.random()*(M-1)),U.every(function(P,x){return R=x,!(V<P)})),k[R]}(function L(f){var g=[];return f.filter(function(R){return!F.contains(R.serviceLocation)||(R.dvb_priority&&g.push(R.dvb_priority),!1)}).filter(function(R){return!(g.length&&R.dvb_priority&&-1!==g.indexOf(R.dvb_priority))})}(f))}}}b.__dashjs_factory_name="DVBSelector",S.default=t.default.getClassFactory(b)},"./src/streaming/vo/BitrateInfo.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/BitrateInfo.js ***!
                  \*****************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN})},"./src/streaming/vo/DashJSError.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/DashJSError.js ***!
                  \*****************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g,y){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.code=f||null,this.message=g||null,this.data=y||null})},"./src/streaming/vo/DataChunk.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/DataChunk.js ***!
                  \***************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null})},"./src/streaming/vo/FragmentRequest.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/FragmentRequest.js ***!
                  \*********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function b(f){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function E(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,L(M.key),M)}}function L(f){var g=function D(f,g){if("object"!==b(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==b(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===b(g)?g:String(g)}var p=function(){function f(g){(function w(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.action=f.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=g||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return function F(f,g,y){return g&&E(f.prototype,g),y&&E(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===t.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(y){this.type=y&&y.init?t.HTTPRequest.INIT_SEGMENT_TYPE:t.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=y&&y.url?y.url:null,this.range=y&&y.range?y.range.start+"-"+y.range.end:null,this.mediaType=y&&y.mediaType?y.mediaType:null}}]),f}();p.ACTION_DOWNLOAD="download",p.ACTION_COMPLETE="complete",S.default=p},"./src/streaming/vo/HeadRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/HeadRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function b(k){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(k)}function w(k,P){for(var x=0;x<P.length;x++){var O=P[x];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,F(O.key),O)}}function F(k){var P=function L(k,P){if("object"!==b(k)||null===k)return k;var x=k[Symbol.toPrimitive];if(void 0!==x){var O=x.call(k,P||"default");if("object"!==b(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===P?String:Number)(k)}(k,"string");return"symbol"===b(P)?P:String(P)}function p(k,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(P&&P.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),P&&f(k,P)}function f(k,P){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,T){return O.__proto__=T,O})(k,P)}function g(k){var P=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,O=R(k);if(P){var N=R(this).constructor;T=Reflect.construct(O,arguments,N)}else T=O.apply(this,arguments);return function y(k,P){if(P&&("object"===b(P)||"function"==typeof P))return P;if(void 0!==P)throw new TypeError("Derived constructors may only return object or undefined");return function M(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function R(k){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)})(k)}S.default=function(k){p(x,k);var P=g(x);function x(O){var T;return function D(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}(this,x),(T=P.call(this,O)).checkForExistenceOnly=!0,T}return function E(k,P,x){return P&&w(k.prototype,P),x&&w(k,x),Object.defineProperty(k,"prototype",{writable:!1}),k}(x)}(t.default)},"./src/streaming/vo/IsoBox.js":
/*!************************************!*\
                  !*** ./src/streaming/vo/IsoBox.js ***!
                  \************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,F(y.key),y)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(f){if(function b(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p),this.offset=f._offset,this.type=f.type,this.size=f.size,this.boxes=[],f.boxes)for(var g=0;g<f.boxes.length;g++)this.boxes.push(new p(f.boxes[g]));switch(this.isComplete=!0,f.type){case"sidx":if(this.timescale=f.timescale,this.earliest_presentation_time=f.earliest_presentation_time,this.first_offset=f.first_offset,this.references=f.references,f.references){this.references=[];for(var y=0;y<f.references.length;y++)this.references.push({reference_type:f.references[y].reference_type,referenced_size:f.references[y].referenced_size,subsegment_duration:f.references[y].subsegment_duration})}break;case"emsg":this.id=f.id,this.version=1===f.version?1:0,this.value=f.value,this.timescale=f.timescale,this.scheme_id_uri=f.scheme_id_uri,this.presentation_time_delta=1===f.version?f.presentation_time:f.presentation_time_delta,this.event_duration=f.event_duration,this.message_data=f.message_data;break;case"mdhd":this.timescale=f.timescale;break;case"mfhd":this.sequence_number=f.sequence_number;break;case"subs":this.entry_count=f.entry_count,this.entries=f.entries;break;case"tfhd":this.base_data_offset=f.base_data_offset,this.sample_description_index=f.sample_description_index,this.default_sample_duration=f.default_sample_duration,this.default_sample_size=f.default_sample_size,this.default_sample_flags=f.default_sample_flags,this.flags=f.flags;break;case"tfdt":this.version=f.version,this.baseMediaDecodeTime=f.baseMediaDecodeTime,this.flags=f.flags;break;case"trun":if(this.sample_count=f.sample_count,this.first_sample_flags=f.first_sample_flags,this.data_offset=f.data_offset,this.flags=f.flags,this.samples=f.samples,f.samples){this.samples=[];for(var U=0,R=f.samples.length;U<R;U++)this.samples.push({sample_size:f.samples[U].sample_size,sample_duration:f.samples[U].sample_duration,sample_composition_time_offset:f.samples[U].sample_composition_time_offset})}}}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"getChildBox",value:function(g){for(var y=0;y<this.boxes.length;y++)if(this.boxes[y].type===g)return this.boxes[y]}},{key:"getChildBoxes",value:function(g){for(var y=[],M=0;M<this.boxes.length;M++)this.boxes[M].type===g&&y.push(this.boxes[M]);return y}}]),p}()},"./src/streaming/vo/IsoBoxSearchInfo.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/IsoBoxSearchInfo.js ***!
                  \**********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g,y){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.lastCompletedOffset=f,this.found=g,this.size=y})},"./src/streaming/vo/MetricsList.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/MetricsList.js ***!
                  \*****************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]})},"./src/streaming/vo/TextRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/TextRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function w(P){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(P)}function E(P,x){for(var O=0;O<x.length;O++){var T=x[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,L(T.key),T)}}function L(P){var x=function D(P,x){if("object"!==w(P)||null===P)return P;var O=P[Symbol.toPrimitive];if(void 0!==O){var T=O.call(P,x||"default");if("object"!==w(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(P)}(P,"string");return"symbol"===w(x)?x:String(x)}function f(P,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),x&&g(P,x)}function g(P,x){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(P,x)}function y(P){var x=function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=V(P);if(x){var C=V(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function M(P,x){if(x&&("object"===w(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function U(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function V(P){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(P)}S.default=function(P){f(O,P);var x=y(O);function O(T,N){var C;return function p(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,O),(C=x.call(this)).url=T||null,C.type=N||null,C.mediaType=t.default.STREAM,C.responseType="",C}return function F(P,x,O){return x&&E(P.prototype,x),O&&E(P,O),Object.defineProperty(P,"prototype",{writable:!1}),P}(O)}(b.default)},"./src/streaming/vo/TextTrackInfo.js":
/*!*******************************************!*\
                  !*** ./src/streaming/vo/TextTrackInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ./../../dash/vo/MediaInfo */
"./src/dash/vo/MediaInfo.js");function b(k){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(k)}function w(k,P){for(var x=0;x<P.length;x++){var O=P[x];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,F(O.key),O)}}function F(k){var P=function L(k,P){if("object"!==b(k)||null===k)return k;var x=k[Symbol.toPrimitive];if(void 0!==x){var O=x.call(k,P||"default");if("object"!==b(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===P?String:Number)(k)}(k,"string");return"symbol"===b(P)?P:String(P)}function p(k,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(P&&P.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),P&&f(k,P)}function f(k,P){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,T){return O.__proto__=T,O})(k,P)}function g(k){var P=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,O=R(k);if(P){var N=R(this).constructor;T=Reflect.construct(O,arguments,N)}else T=O.apply(this,arguments);return function y(k,P){if(P&&("object"===b(P)||"function"==typeof P))return P;if(void 0!==P)throw new TypeError("Derived constructors may only return object or undefined");return function M(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function R(k){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)})(k)}S.default=function(k){p(x,k);var P=g(x);function x(){var O;return function D(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}(this,x),(O=P.call(this)).captionData=null,O.label=null,O.defaultTrack=!1,O.kind=null,O.isFragmented=!1,O.isEmbedded=!1,O.isTTML=null,O}return function E(k,P,x){return P&&w(k.prototype,P),x&&w(k,x),Object.defineProperty(k,"prototype",{writable:!1}),k}(x)}(t.default)},"./src/streaming/vo/Thumbnail.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/Thumbnail.js ***!
                  \***************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null})},"./src/streaming/vo/ThumbnailTrackInfo.js":
/*!************************************************!*\
                  !*** ./src/streaming/vo/ThumbnailTrackInfo.js ***!
                  \************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""})},"./src/streaming/vo/URIFragmentData.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/URIFragmentData.js ***!
                  \*********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null})},"./src/streaming/vo/metrics/BufferLevel.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferLevel.js ***!
                  \*************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.t=null,this.level=null})},"./src/streaming/vo/metrics/BufferState.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferState.js ***!
                  \*************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";c.r(S);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function b(f){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,F(M.key),M)}}function E(f,g,y){return g&&w(f.prototype,g),y&&w(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}function F(f){var g=function L(f,g){if("object"!==b(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==b(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===b(g)?g:String(g)}S.default=E(function f(){(function D(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.target=null,this.state=t.default.BUFFER_EMPTY})},"./src/streaming/vo/metrics/DVRInfo.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/metrics/DVRInfo.js ***!
                  \*********************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.time=null,this.range=null,this.manifestInfo=null})},"./src/streaming/vo/metrics/DroppedFrames.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/DroppedFrames.js ***!
                  \***************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.time=null,this.droppedFrames=null})},"./src/streaming/vo/metrics/HTTPRequest.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/HTTPRequest.js ***!
                  \*************************************************/
/*! exports provided: HTTPRequest, HTTPRequestTrace */function(nt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function b(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,E(M.key),M)}}function w(f,g,y){return g&&b(f.prototype,g),y&&b(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}function E(f){var g=function F(f,g){if("object"!==t(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==t(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}function L(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}c.r(S),c.d(S,"HTTPRequest",function(){return D}),c.d(S,"HTTPRequestTrace",function(){return p});var D=w(function f(){L(this,f),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null}),p=w(function f(){L(this,f),this.s=null,this.d=null,this.b=[]});D.GET="GET",D.HEAD="HEAD",D.MPD_TYPE="MPD",D.XLINK_EXPANSION_TYPE="XLinkExpansion",D.INIT_SEGMENT_TYPE="InitializationSegment",D.INDEX_SEGMENT_TYPE="IndexSegment",D.MEDIA_SEGMENT_TYPE="MediaSegment",D.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",D.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",D.DVB_REPORTING_TYPE="DVBReporting",D.LICENSE="license",D.CONTENT_STEERING_TYPE="ContentSteering",D.OTHER_TYPE="other"},"./src/streaming/vo/metrics/ManifestUpdate.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/ManifestUpdate.js ***!
                  \****************************************************/
/*! exports provided: ManifestUpdate, ManifestUpdateStreamInfo, ManifestUpdateRepresentationInfo */function(nt,S,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function b(g,y){for(var M=0;M<y.length;M++){var U=y[M];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(g,E(U.key),U)}}function w(g,y,M){return y&&b(g.prototype,y),M&&b(g,M),Object.defineProperty(g,"prototype",{writable:!1}),g}function E(g){var y=function F(g,y){if("object"!==t(g)||null===g)return g;var M=g[Symbol.toPrimitive];if(void 0!==M){var U=M.call(g,y||"default");if("object"!==t(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===y?String:Number)(g)}(g,"string");return"symbol"===t(y)?y:String(y)}function L(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}c.r(S),c.d(S,"ManifestUpdate",function(){return D}),c.d(S,"ManifestUpdateStreamInfo",function(){return p}),c.d(S,"ManifestUpdateRepresentationInfo",function(){return f});var D=w(function g(){L(this,g),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}),p=w(function g(){L(this,g),this.id=null,this.index=null,this.start=null,this.duration=null}),f=w(function g(){L(this,g),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null})},"./src/streaming/vo/metrics/PlayList.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/metrics/PlayList.js ***!
                  \**********************************************/
/*! exports provided: PlayList, PlayListTrace */function(nt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function b(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,E(M.key),M)}}function w(f,g,y){return g&&b(f.prototype,g),y&&b(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}function E(f){var g=function F(f,g){if("object"!==t(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==t(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}function L(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}c.r(S),c.d(S,"PlayList",function(){return D}),c.d(S,"PlayListTrace",function(){return p});var D=w(function f(){L(this,f),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]});D.INITIAL_PLAYOUT_START_REASON="initial_playout",D.SEEK_START_REASON="seek",D.RESUME_FROM_PAUSE_START_REASON="resume",D.METRICS_COLLECTION_START_REASON="metrics_collection_start";var p=w(function f(){L(this,f),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null});p.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",p.REBUFFERING_REASON="rebuffering",p.USER_REQUEST_STOP_REASON="user_request",p.END_OF_PERIOD_STOP_REASON="end_of_period",p.END_OF_CONTENT_STOP_REASON="end_of_content",p.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",p.FAILURE_STOP_REASON="failure"},"./src/streaming/vo/metrics/RepresentationSwitch.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/vo/metrics/RepresentationSwitch.js ***!
                  \**********************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.t=null,this.mt=null,this.to=null,this.lto=null})},"./src/streaming/vo/metrics/RequestsQueue.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/RequestsQueue.js ***!
                  \***************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.loadingRequests=[],this.executedRequests=[]})},"./src/streaming/vo/metrics/SchedulingInfo.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/SchedulingInfo.js ***!
                  \****************************************************/
/*! exports provided: default */function(nt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null})},0:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(nt,S){},1:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(nt,S){}}).default},4440:(jn,nt,S)=>{var c;!function(){"use strict";var t="object"==typeof window?window:{},b=!t.HI_BASE64_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;b&&(t=global);var M,U,w=!t.HI_BASE64_NO_COMMON_JS&&jn.exports,E=S.amdO,F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),L={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63,"-":62,_:63},p=function(x){var O,T,N,C,B=[],Y=0,J=x.length;"="===x.charAt(J-2)?J-=2:"="===x.charAt(J-1)&&(J-=1);for(var ce=0,Fe=J>>2<<2;ce<Fe;)O=L[x.charAt(ce++)],T=L[x.charAt(ce++)],N=L[x.charAt(ce++)],C=L[x.charAt(ce++)],B[Y++]=255&(O<<2|T>>>4),B[Y++]=255&(T<<4|N>>>2),B[Y++]=255&(N<<6|C);var q=J-Fe;return 2===q?(O=L[x.charAt(ce++)],T=L[x.charAt(ce++)],B[Y++]=255&(O<<2|T>>>4)):3===q&&(O=L[x.charAt(ce++)],T=L[x.charAt(ce++)],N=L[x.charAt(ce++)],B[Y++]=255&(O<<2|T>>>4),B[Y++]=255&(T<<4|N>>>2)),B},f=function(x){for(var O,T,N,C="",B=x.length,Y=0,J=3*parseInt(B/3);Y<J;)O=x[Y++],T=x[Y++],N=x[Y++],C+=F[O>>>2]+F[63&(O<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var ce=B-J;return 1===ce?C+=F[(O=x[Y])>>>2]+F[O<<4&63]+"==":2===ce&&(O=x[Y++],C+=F[O>>>2]+F[63&(O<<4|(T=x[Y])>>>4)]+F[T<<2&63]+"="),C},g=t.btoa,y=t.atob;if(b){var R=S(9007).lW;g=function(x){return new R(x,"ascii").toString("base64")},f=M=function(x){return new R(x).toString("base64")},y=function(x){return new R(x,"base64").toString("ascii")},U=function(x){return new R(x,"base64").toString()}}else g?(M=function(x){for(var O="",T=0;T<x.length;T++){var N=x.charCodeAt(T);N<128?O+=String.fromCharCode(N):N<2048?O+=String.fromCharCode(192|N>>6)+String.fromCharCode(128|63&N):N<55296||N>=57344?O+=String.fromCharCode(224|N>>12)+String.fromCharCode(128|N>>6&63)+String.fromCharCode(128|63&N):(N=65536+((1023&N)<<10|1023&x.charCodeAt(++T)),O+=String.fromCharCode(240|N>>18)+String.fromCharCode(128|N>>12&63)+String.fromCharCode(128|N>>6&63)+String.fromCharCode(128|63&N))}return g(O)},U=function(x){var O=y(x.trim("=").replace(/-/g,"+").replace(/_/g,"/"));if(!/[^\x00-\x7F]/.test(O))return O;for(var Y,J,T="",N=0,C=O.length,B=0;N<C;)if((Y=O.charCodeAt(N++))<=127)T+=String.fromCharCode(Y);else{if(Y>191&&Y<=223)J=31&Y,B=1;else if(Y<=239)J=15&Y,B=2;else{if(!(Y<=247))throw"not a UTF-8 string";J=7&Y,B=3}for(var ce=0;ce<B;++ce){if((Y=O.charCodeAt(N++))<128||Y>191)throw"not a UTF-8 string";J<<=6,J+=63&Y}if(J>=55296&&J<=57343||J>1114111)throw"not a UTF-8 string";J<=65535?T+=String.fromCharCode(J):(J-=65536,T+=String.fromCharCode(55296+(J>>10)),T+=String.fromCharCode(56320+(1023&J)))}return T}):(g=function(x){for(var O,T,N,C="",B=x.length,Y=0,J=3*parseInt(B/3);Y<J;)O=x.charCodeAt(Y++),T=x.charCodeAt(Y++),N=x.charCodeAt(Y++),C+=F[O>>>2]+F[63&(O<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var ce=B-J;return 1===ce?(O=x.charCodeAt(Y),C+=F[O>>>2]+F[O<<4&63]+"=="):2===ce&&(O=x.charCodeAt(Y++),T=x.charCodeAt(Y),C+=F[O>>>2]+F[63&(O<<4|T>>>4)]+F[T<<2&63]+"="),C},M=function(x){for(var O,T,N,C="",B=function(x){for(var O=[],T=0;T<x.length;T++){var N=x.charCodeAt(T);N<128?O[O.length]=N:N<2048?(O[O.length]=192|N>>6,O[O.length]=128|63&N):N<55296||N>=57344?(O[O.length]=224|N>>12,O[O.length]=128|N>>6&63,O[O.length]=128|63&N):(N=65536+((1023&N)<<10|1023&x.charCodeAt(++T)),O[O.length]=240|N>>18,O[O.length]=128|N>>12&63,O[O.length]=128|N>>6&63,O[O.length]=128|63&N)}return O}(x),Y=B.length,J=0,ce=3*parseInt(Y/3);J<ce;)O=B[J++],T=B[J++],N=B[J++],C+=F[O>>>2]+F[63&(O<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var Fe=Y-ce;return 1===Fe?C+=F[(O=B[J])>>>2]+F[O<<4&63]+"==":2===Fe&&(O=B[J++],C+=F[O>>>2]+F[63&(O<<4|(T=B[J])>>>4)]+F[T<<2&63]+"="),C},y=function(x){var O,T,N,C,B="",Y=x.length;"="===x.charAt(Y-2)?Y-=2:"="===x.charAt(Y-1)&&(Y-=1);for(var J=0,ce=Y>>2<<2;J<ce;)O=L[x.charAt(J++)],T=L[x.charAt(J++)],N=L[x.charAt(J++)],C=L[x.charAt(J++)],B+=String.fromCharCode(255&(O<<2|T>>>4))+String.fromCharCode(255&(T<<4|N>>>2))+String.fromCharCode(255&(N<<6|C));var Fe=Y-ce;return 2===Fe?(O=L[x.charAt(J++)],T=L[x.charAt(J++)],B+=String.fromCharCode(255&(O<<2|T>>>4))):3===Fe&&(O=L[x.charAt(J++)],T=L[x.charAt(J++)],N=L[x.charAt(J++)],B+=String.fromCharCode(255&(O<<2|T>>>4))+String.fromCharCode(255&(T<<4|N>>>2))),B},U=function(x){for(var Y,J,O="",T=p(x),N=T.length,C=0,B=0;C<N;)if((Y=T[C++])<=127)O+=String.fromCharCode(Y);else{if(Y>191&&Y<=223)J=31&Y,B=1;else if(Y<=239)J=15&Y,B=2;else{if(!(Y<=247))throw"not a UTF-8 string";J=7&Y,B=3}for(var ce=0;ce<B;++ce){if((Y=T[C++])<128||Y>191)throw"not a UTF-8 string";J<<=6,J+=63&Y}if(J>=55296&&J<=57343||J>1114111)throw"not a UTF-8 string";J<=65535?O+=String.fromCharCode(J):(J-=65536,O+=String.fromCharCode(55296+(J>>10)),O+=String.fromCharCode(56320+(1023&J)))}return O});var k=function(x,O){return O?y(x):U(x)},P={encode:function(x,O){var T="string"!=typeof x;return T&&x.constructor===t.ArrayBuffer&&(x=new Uint8Array(x)),T?f(x):!O&&/[^\x00-\x7F]/.test(x)?M(x):g(x)},decode:k,atob:y,btoa:g};k.bytes=p,k.string=k,w?jn.exports=P:(t.base64=P,E&&void 0!==(c=function(){return P}.call(P,S,P,jn))&&(jn.exports=c))}()},2601:(jn,nt)=>{nt.read=function(S,c,t,b,w){var E,F,L=8*w-b-1,D=(1<<L)-1,p=D>>1,f=-7,g=t?w-1:0,y=t?-1:1,M=S[c+g];for(g+=y,E=M&(1<<-f)-1,M>>=-f,f+=L;f>0;E=256*E+S[c+g],g+=y,f-=8);for(F=E&(1<<-f)-1,E>>=-f,f+=b;f>0;F=256*F+S[c+g],g+=y,f-=8);if(0===E)E=1-p;else{if(E===D)return F?NaN:1/0*(M?-1:1);F+=Math.pow(2,b),E-=p}return(M?-1:1)*F*Math.pow(2,E-b)},nt.write=function(S,c,t,b,w,E){var F,L,D,p=8*E-w-1,f=(1<<p)-1,g=f>>1,y=23===w?Math.pow(2,-24)-Math.pow(2,-77):0,M=b?0:E-1,U=b?1:-1,R=c<0||0===c&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(L=isNaN(c)?1:0,F=f):(F=Math.floor(Math.log(c)/Math.LN2),c*(D=Math.pow(2,-F))<1&&(F--,D*=2),(c+=F+g>=1?y/D:y*Math.pow(2,1-g))*D>=2&&(F++,D/=2),F+g>=f?(L=0,F=f):F+g>=1?(L=(c*D-1)*Math.pow(2,w),F+=g):(L=c*Math.pow(2,g-1)*Math.pow(2,w),F=0));w>=8;S[t+M]=255&L,M+=U,L/=256,w-=8);for(F=F<<w|L,p+=w;p>0;S[t+M]=255&F,M+=U,F/=256,p-=8);S[t+M-U]|=128*R}},5619:(jn,nt,S)=>{"use strict";S.d(nt,{X:()=>t});var c=S(8645);class t extends c.x{constructor(w){super(),this._value=w}get value(){return this.getValue()}_subscribe(w){const E=super._subscribe(w);return!E.closed&&w.next(this._value),E}getValue(){const{hasError:w,thrownError:E,_value:F}=this;if(w)throw E;return this._throwIfClosed(),F}next(w){super.next(this._value=w)}}},5592:(jn,nt,S)=>{"use strict";S.d(nt,{y:()=>D});var c=S(305),t=S(7394),b=S(4850),w=S(8407),E=S(2653),F=S(4674),L=S(1441);let D=(()=>{class y{constructor(U){U&&(this._subscribe=U)}lift(U){const R=new y;return R.source=this,R.operator=U,R}subscribe(U,R,V){const k=function g(y){return y&&y instanceof c.Lv||function f(y){return y&&(0,F.m)(y.next)&&(0,F.m)(y.error)&&(0,F.m)(y.complete)}(y)&&(0,t.Nn)(y)}(U)?U:new c.Hp(U,R,V);return(0,L.x)(()=>{const{operator:P,source:x}=this;k.add(P?P.call(k,x):x?this._subscribe(k):this._trySubscribe(k))}),k}_trySubscribe(U){try{return this._subscribe(U)}catch(R){U.error(R)}}forEach(U,R){return new(R=p(R))((V,k)=>{const P=new c.Hp({next:x=>{try{U(x)}catch(O){k(O),P.unsubscribe()}},error:k,complete:V});this.subscribe(P)})}_subscribe(U){var R;return null===(R=this.source)||void 0===R?void 0:R.subscribe(U)}[b.L](){return this}pipe(...U){return(0,w.U)(U)(this)}toPromise(U){return new(U=p(U))((R,V)=>{let k;this.subscribe(P=>k=P,P=>V(P),()=>R(k))})}}return y.create=M=>new y(M),y})();function p(y){var M;return null!==(M=y??E.config.Promise)&&void 0!==M?M:Promise}},8645:(jn,nt,S)=>{"use strict";S.d(nt,{x:()=>L});var c=S(5592),t=S(7394);const w=(0,S(2306).d)(p=>function(){p(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var E=S(9039),F=S(1441);let L=(()=>{class p extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(g){const y=new D(this,this);return y.operator=g,y}_throwIfClosed(){if(this.closed)throw new w}next(g){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const y of this.currentObservers)y.next(g)}})}error(g){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=g;const{observers:y}=this;for(;y.length;)y.shift().error(g)}})}complete(){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:g}=this;for(;g.length;)g.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var g;return(null===(g=this.observers)||void 0===g?void 0:g.length)>0}_trySubscribe(g){return this._throwIfClosed(),super._trySubscribe(g)}_subscribe(g){return this._throwIfClosed(),this._checkFinalizedStatuses(g),this._innerSubscribe(g)}_innerSubscribe(g){const{hasError:y,isStopped:M,observers:U}=this;return y||M?t.Lc:(this.currentObservers=null,U.push(g),new t.w0(()=>{this.currentObservers=null,(0,E.P)(U,g)}))}_checkFinalizedStatuses(g){const{hasError:y,thrownError:M,isStopped:U}=this;y?g.error(M):U&&g.complete()}asObservable(){const g=new c.y;return g.source=this,g}}return p.create=(f,g)=>new D(f,g),p})();class D extends L{constructor(f,g){super(),this.destination=f,this.source=g}next(f){var g,y;null===(y=null===(g=this.destination)||void 0===g?void 0:g.next)||void 0===y||y.call(g,f)}error(f){var g,y;null===(y=null===(g=this.destination)||void 0===g?void 0:g.error)||void 0===y||y.call(g,f)}complete(){var f,g;null===(g=null===(f=this.destination)||void 0===f?void 0:f.complete)||void 0===g||g.call(f)}_subscribe(f){var g,y;return null!==(y=null===(g=this.source)||void 0===g?void 0:g.subscribe(f))&&void 0!==y?y:t.Lc}}},305:(jn,nt,S)=>{"use strict";S.d(nt,{Hp:()=>V,Lv:()=>y});var c=S(4674),t=S(7394),b=S(2653),w=S(3894),E=S(2420);const F=p("C",void 0,void 0);function p(T,N,C){return{kind:T,value:N,error:C}}var f=S(7599),g=S(1441);class y extends t.w0{constructor(N){super(),this.isStopped=!1,N?(this.destination=N,(0,t.Nn)(N)&&N.add(this)):this.destination=O}static create(N,C,B){return new V(N,C,B)}next(N){this.isStopped?x(function D(T){return p("N",T,void 0)}(N),this):this._next(N)}error(N){this.isStopped?x(function L(T){return p("E",void 0,T)}(N),this):(this.isStopped=!0,this._error(N))}complete(){this.isStopped?x(F,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(N){this.destination.next(N)}_error(N){try{this.destination.error(N)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const M=Function.prototype.bind;function U(T,N){return M.call(T,N)}class R{constructor(N){this.partialObserver=N}next(N){const{partialObserver:C}=this;if(C.next)try{C.next(N)}catch(B){k(B)}}error(N){const{partialObserver:C}=this;if(C.error)try{C.error(N)}catch(B){k(B)}else k(N)}complete(){const{partialObserver:N}=this;if(N.complete)try{N.complete()}catch(C){k(C)}}}class V extends y{constructor(N,C,B){let Y;if(super(),(0,c.m)(N)||!N)Y={next:N??void 0,error:C??void 0,complete:B??void 0};else{let J;this&&b.config.useDeprecatedNextContext?(J=Object.create(N),J.unsubscribe=()=>this.unsubscribe(),Y={next:N.next&&U(N.next,J),error:N.error&&U(N.error,J),complete:N.complete&&U(N.complete,J)}):Y=N}this.destination=new R(Y)}}function k(T){b.config.useDeprecatedSynchronousErrorHandling?(0,g.O)(T):(0,w.h)(T)}function x(T,N){const{onStoppedNotification:C}=b.config;C&&f.z.setTimeout(()=>C(T,N))}const O={closed:!0,next:E.Z,error:function P(T){throw T},complete:E.Z}},7394:(jn,nt,S)=>{"use strict";S.d(nt,{Lc:()=>F,w0:()=>E,Nn:()=>L});var c=S(4674);const b=(0,S(2306).d)(p=>function(g){p(this),this.message=g?`${g.length} errors occurred during unsubscription:\n${g.map((y,M)=>`${M+1}) ${y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=g});var w=S(9039);class E{constructor(f){this.initialTeardown=f,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let f;if(!this.closed){this.closed=!0;const{_parentage:g}=this;if(g)if(this._parentage=null,Array.isArray(g))for(const U of g)U.remove(this);else g.remove(this);const{initialTeardown:y}=this;if((0,c.m)(y))try{y()}catch(U){f=U instanceof b?U.errors:[U]}const{_finalizers:M}=this;if(M){this._finalizers=null;for(const U of M)try{D(U)}catch(R){f=f??[],R instanceof b?f=[...f,...R.errors]:f.push(R)}}if(f)throw new b(f)}}add(f){var g;if(f&&f!==this)if(this.closed)D(f);else{if(f instanceof E){if(f.closed||f._hasParent(this))return;f._addParent(this)}(this._finalizers=null!==(g=this._finalizers)&&void 0!==g?g:[]).push(f)}}_hasParent(f){const{_parentage:g}=this;return g===f||Array.isArray(g)&&g.includes(f)}_addParent(f){const{_parentage:g}=this;this._parentage=Array.isArray(g)?(g.push(f),g):g?[g,f]:f}_removeParent(f){const{_parentage:g}=this;g===f?this._parentage=null:Array.isArray(g)&&(0,w.P)(g,f)}remove(f){const{_finalizers:g}=this;g&&(0,w.P)(g,f),f instanceof E&&f._removeParent(this)}}E.EMPTY=(()=>{const p=new E;return p.closed=!0,p})();const F=E.EMPTY;function L(p){return p instanceof E||p&&"closed"in p&&(0,c.m)(p.remove)&&(0,c.m)(p.add)&&(0,c.m)(p.unsubscribe)}function D(p){(0,c.m)(p)?p():p.unsubscribe()}},2653:(jn,nt,S)=>{"use strict";S.d(nt,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(jn,nt,S)=>{"use strict";S.d(nt,{c:()=>F});var c=S(5592),t=S(7394),b=S(6196),w=S(8251),E=S(9360);class F extends c.y{constructor(D,p){super(),this.source=D,this.subjectFactory=p,this._subject=null,this._refCount=0,this._connection=null,(0,E.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new t.w0;const p=this.getSubject();D.add(this.source.subscribe((0,w.x)(p,void 0,()=>{this._teardown(),p.complete()},f=>{this._teardown(),p.error(f)},()=>this._teardown()))),D.closed&&(this._connection=null,D=t.w0.EMPTY)}return D}refCount(){return(0,b.x)()(this)}}},2572:(jn,nt,S)=>{"use strict";S.d(nt,{a:()=>f});var c=S(5592),t=S(7453),b=S(2459),w=S(2737),E=S(7400),F=S(9940),L=S(2714),D=S(8251),p=S(7103);function f(...M){const U=(0,F.yG)(M),R=(0,F.jO)(M),{args:V,keys:k}=(0,t.D)(M);if(0===V.length)return(0,b.D)([],U);const P=new c.y(function g(M,U,R=w.y){return V=>{y(U,()=>{const{length:k}=M,P=new Array(k);let x=k,O=k;for(let T=0;T<k;T++)y(U,()=>{const N=(0,b.D)(M[T],U);let C=!1;N.subscribe((0,D.x)(V,B=>{P[T]=B,C||(C=!0,O--),O||V.next(R(P.slice()))},()=>{--x||V.complete()}))},V)},V)}}(V,U,k?x=>(0,L.n)(k,x):w.y));return R?P.pipe((0,E.Z)(R)):P}function y(M,U,R){M?(0,p.f)(R,M,U):U()}},5211:(jn,nt,S)=>{"use strict";S.d(nt,{z:()=>E});var c=S(7537),b=S(9940),w=S(2459);function E(...F){return function t(){return(0,c.J)(1)}()((0,w.D)(F,(0,b.yG)(F)))}},4911:(jn,nt,S)=>{"use strict";S.d(nt,{P:()=>b});var c=S(5592),t=S(4829);function b(w){return new c.y(E=>{(0,t.Xf)(w()).subscribe(E)})}},6232:(jn,nt,S)=>{"use strict";S.d(nt,{E:()=>t});const t=new(S(5592).y)(E=>E.complete())},2459:(jn,nt,S)=>{"use strict";S.d(nt,{D:()=>N});var c=S(4829),t=S(3093),b=S(5137),F=S(5592),D=S(4971),p=S(4674),f=S(7103);function y(C,B){if(!C)throw new Error("Iterable cannot be null");return new F.y(Y=>{(0,f.f)(Y,B,()=>{const J=C[Symbol.asyncIterator]();(0,f.f)(Y,B,()=>{J.next().then(ce=>{ce.done?Y.complete():Y.next(ce.value)})},0,!0)})})}var M=S(8382),U=S(4026),R=S(4266),V=S(3664),k=S(5726),P=S(9853),x=S(541);function N(C,B){return B?function T(C,B){if(null!=C){if((0,M.c)(C))return function w(C,B){return(0,c.Xf)(C).pipe((0,b.R)(B),(0,t.Q)(B))}(C,B);if((0,R.z)(C))return function L(C,B){return new F.y(Y=>{let J=0;return B.schedule(function(){J===C.length?Y.complete():(Y.next(C[J++]),Y.closed||this.schedule())})})}(C,B);if((0,U.t)(C))return function E(C,B){return(0,c.Xf)(C).pipe((0,b.R)(B),(0,t.Q)(B))}(C,B);if((0,k.D)(C))return y(C,B);if((0,V.T)(C))return function g(C,B){return new F.y(Y=>{let J;return(0,f.f)(Y,B,()=>{J=C[D.h](),(0,f.f)(Y,B,()=>{let ce,Fe;try{({value:ce,done:Fe}=J.next())}catch(q){return void Y.error(q)}Fe?Y.complete():Y.next(ce)},0,!0)}),()=>(0,p.m)(J?.return)&&J.return()})}(C,B);if((0,x.L)(C))return function O(C,B){return y((0,x.Q)(C),B)}(C,B)}throw(0,P.z)(C)}(C,B):(0,c.Xf)(C)}},2438:(jn,nt,S)=>{"use strict";S.d(nt,{R:()=>f});var c=S(4829),t=S(5592),b=S(1631),w=S(4266),E=S(4674),F=S(7400);const L=["addListener","removeListener"],D=["addEventListener","removeEventListener"],p=["on","off"];function f(R,V,k,P){if((0,E.m)(k)&&(P=k,k=void 0),P)return f(R,V,k).pipe((0,F.Z)(P));const[x,O]=function U(R){return(0,E.m)(R.addEventListener)&&(0,E.m)(R.removeEventListener)}(R)?D.map(T=>N=>R[T](V,N,k)):function y(R){return(0,E.m)(R.addListener)&&(0,E.m)(R.removeListener)}(R)?L.map(g(R,V)):function M(R){return(0,E.m)(R.on)&&(0,E.m)(R.off)}(R)?p.map(g(R,V)):[];if(!x&&(0,w.z)(R))return(0,b.z)(T=>f(T,V,k))((0,c.Xf)(R));if(!x)throw new TypeError("Invalid event target");return new t.y(T=>{const N=(...C)=>T.next(1<C.length?C:C[0]);return x(N),()=>O(N)})}function g(R,V){return k=>P=>R[k](V,P)}},4829:(jn,nt,S)=>{"use strict";S.d(nt,{Xf:()=>M});var c=S(7582),t=S(4266),b=S(4026),w=S(5592),E=S(8382),F=S(5726),L=S(9853),D=S(3664),p=S(541),f=S(4674),g=S(3894),y=S(4850);function M(T){if(T instanceof w.y)return T;if(null!=T){if((0,E.c)(T))return function U(T){return new w.y(N=>{const C=T[y.L]();if((0,f.m)(C.subscribe))return C.subscribe(N);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(T);if((0,t.z)(T))return function R(T){return new w.y(N=>{for(let C=0;C<T.length&&!N.closed;C++)N.next(T[C]);N.complete()})}(T);if((0,b.t)(T))return function V(T){return new w.y(N=>{T.then(C=>{N.closed||(N.next(C),N.complete())},C=>N.error(C)).then(null,g.h)})}(T);if((0,F.D)(T))return P(T);if((0,D.T)(T))return function k(T){return new w.y(N=>{for(const C of T)if(N.next(C),N.closed)return;N.complete()})}(T);if((0,p.L)(T))return function x(T){return P((0,p.Q)(T))}(T)}throw(0,L.z)(T)}function P(T){return new w.y(N=>{(function O(T,N){var C,B,Y,J;return(0,c.mG)(this,void 0,void 0,function*(){try{for(C=(0,c.KL)(T);!(B=yield C.next()).done;)if(N.next(B.value),N.closed)return}catch(ce){Y={error:ce}}finally{try{B&&!B.done&&(J=C.return)&&(yield J.call(C))}finally{if(Y)throw Y.error}}N.complete()})})(T,N).catch(C=>N.error(C))})}},3019:(jn,nt,S)=>{"use strict";S.d(nt,{T:()=>F});var c=S(7537),t=S(4829),b=S(6232),w=S(9940),E=S(2459);function F(...L){const D=(0,w.yG)(L),p=(0,w._6)(L,1/0),f=L;return f.length?1===f.length?(0,t.Xf)(f[0]):(0,c.J)(p)((0,E.D)(f,D)):b.E}},2096:(jn,nt,S)=>{"use strict";S.d(nt,{of:()=>b});var c=S(9940),t=S(2459);function b(...w){const E=(0,c.yG)(w);return(0,t.D)(w,E)}},4825:(jn,nt,S)=>{"use strict";S.d(nt,{H:()=>E});var c=S(5592),t=S(6321),b=S(671);function E(F=0,L,D=t.P){let p=-1;return null!=L&&((0,b.K)(L)?D=L:p=L),new c.y(f=>{let g=function w(F){return F instanceof Date&&!isNaN(F)}(F)?+F-D.now():F;g<0&&(g=0);let y=0;return D.schedule(function(){f.closed||(f.next(y++),0<=p?this.schedule(void 0,p):f.complete())},g)})}},8251:(jn,nt,S)=>{"use strict";S.d(nt,{x:()=>t});var c=S(305);function t(w,E,F,L,D){return new b(w,E,F,L,D)}class b extends c.Lv{constructor(E,F,L,D,p,f){super(E),this.onFinalize=p,this.shouldUnsubscribe=f,this._next=F?function(g){try{F(g)}catch(y){E.error(y)}}:super._next,this._error=D?function(g){try{D(g)}catch(y){E.error(y)}finally{this.unsubscribe()}}:super._error,this._complete=L?function(){try{L()}catch(g){E.error(g)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var E;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:F}=this;super.unsubscribe(),!F&&(null===(E=this.onFinalize)||void 0===E||E.call(this))}}}},6328:(jn,nt,S)=>{"use strict";S.d(nt,{b:()=>b});var c=S(1631),t=S(4674);function b(w,E){return(0,t.m)(E)?(0,c.z)(w,E,1):(0,c.z)(w,1)}},3620:(jn,nt,S)=>{"use strict";S.d(nt,{b:()=>w});var c=S(6321),t=S(9360),b=S(8251);function w(E,F=c.z){return(0,t.e)((L,D)=>{let p=null,f=null,g=null;const y=()=>{if(p){p.unsubscribe(),p=null;const U=f;f=null,D.next(U)}};function M(){const U=g+E,R=F.now();if(R<U)return p=this.schedule(void 0,U-R),void D.add(p);y()}L.subscribe((0,b.x)(D,U=>{f=U,g=F.now(),p||(p=F.schedule(M,E),D.add(p))},()=>{y(),D.complete()},void 0,()=>{f=p=null}))})}},3572:(jn,nt,S)=>{"use strict";S.d(nt,{d:()=>b});var c=S(9360),t=S(8251);function b(w){return(0,c.e)((E,F)=>{let L=!1;E.subscribe((0,t.x)(F,D=>{L=!0,F.next(D)},()=>{L||F.next(w),F.complete()}))})}},3997:(jn,nt,S)=>{"use strict";S.d(nt,{x:()=>w});var c=S(2737),t=S(9360),b=S(8251);function w(F,L=c.y){return F=F??E,(0,t.e)((D,p)=>{let f,g=!0;D.subscribe((0,b.x)(p,y=>{const M=L(y);(g||!F(f,M))&&(g=!1,f=M,p.next(y))}))})}function E(F,L){return F===L}},2181:(jn,nt,S)=>{"use strict";S.d(nt,{h:()=>b});var c=S(9360),t=S(8251);function b(w,E){return(0,c.e)((F,L)=>{let D=0;F.subscribe((0,t.x)(L,p=>w.call(E,p,D++)&&L.next(p)))})}},4716:(jn,nt,S)=>{"use strict";S.d(nt,{x:()=>t});var c=S(9360);function t(b){return(0,c.e)((w,E)=>{try{w.subscribe(E)}finally{E.add(b)}})}},1374:(jn,nt,S)=>{"use strict";S.d(nt,{P:()=>L});var c=S(6973),t=S(2181),b=S(8180),w=S(3572),E=S(3026),F=S(2737);function L(D,p){const f=arguments.length>=2;return g=>g.pipe(D?(0,t.h)((y,M)=>D(y,M,g)):F.y,(0,b.q)(1),f?(0,w.d)(p):(0,E.T)(()=>new c.K))}},7398:(jn,nt,S)=>{"use strict";S.d(nt,{U:()=>b});var c=S(9360),t=S(8251);function b(w,E){return(0,c.e)((F,L)=>{let D=0;F.subscribe((0,t.x)(L,p=>{L.next(w.call(E,p,D++))}))})}},975:(jn,nt,S)=>{"use strict";S.d(nt,{h:()=>t});var c=S(7398);function t(b){return(0,c.U)(()=>b)}},7537:(jn,nt,S)=>{"use strict";S.d(nt,{J:()=>b});var c=S(1631),t=S(2737);function b(w=1/0){return(0,c.z)(t.y,w)}},1631:(jn,nt,S)=>{"use strict";S.d(nt,{z:()=>D});var c=S(7398),t=S(4829),b=S(9360),w=S(7103),E=S(8251),L=S(4674);function D(p,f,g=1/0){return(0,L.m)(f)?D((y,M)=>(0,c.U)((U,R)=>f(y,U,M,R))((0,t.Xf)(p(y,M))),g):("number"==typeof f&&(g=f),(0,b.e)((y,M)=>function F(p,f,g,y,M,U,R,V){const k=[];let P=0,x=0,O=!1;const T=()=>{O&&!k.length&&!P&&f.complete()},N=B=>P<y?C(B):k.push(B),C=B=>{U&&f.next(B),P++;let Y=!1;(0,t.Xf)(g(B,x++)).subscribe((0,E.x)(f,J=>{M?.(J),U?N(J):f.next(J)},()=>{Y=!0},void 0,()=>{if(Y)try{for(P--;k.length&&P<y;){const J=k.shift();R?(0,w.f)(f,R,()=>C(J)):C(J)}T()}catch(J){f.error(J)}}))};return p.subscribe((0,E.x)(f,N,()=>{O=!0,T()})),()=>{V?.()}}(y,M,p,g)))}},3093:(jn,nt,S)=>{"use strict";S.d(nt,{Q:()=>w});var c=S(7103),t=S(9360),b=S(8251);function w(E,F=0){return(0,t.e)((L,D)=>{L.subscribe((0,b.x)(D,p=>(0,c.f)(D,E,()=>D.next(p),F),()=>(0,c.f)(D,E,()=>D.complete(),F),p=>(0,c.f)(D,E,()=>D.error(p),F)))})}},6196:(jn,nt,S)=>{"use strict";S.d(nt,{x:()=>b});var c=S(9360),t=S(8251);function b(){return(0,c.e)((w,E)=>{let F=null;w._refCount++;const L=(0,t.x)(E,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(F=null);const D=w._connection,p=F;F=null,D&&(!p||D===p)&&D.unsubscribe(),E.unsubscribe()});w.subscribe(L),L.closed||(F=w.connect())})}},3020:(jn,nt,S)=>{"use strict";S.d(nt,{B:()=>E});var c=S(4829),t=S(8645),b=S(305),w=S(9360);function E(L={}){const{connector:D=(()=>new t.x),resetOnError:p=!0,resetOnComplete:f=!0,resetOnRefCountZero:g=!0}=L;return y=>{let M,U,R,V=0,k=!1,P=!1;const x=()=>{U?.unsubscribe(),U=void 0},O=()=>{x(),M=R=void 0,k=P=!1},T=()=>{const N=M;O(),N?.unsubscribe()};return(0,w.e)((N,C)=>{V++,!P&&!k&&x();const B=R=R??D();C.add(()=>{V--,0===V&&!P&&!k&&(U=F(T,g))}),B.subscribe(C),!M&&V>0&&(M=new b.Hp({next:Y=>B.next(Y),error:Y=>{P=!0,x(),U=F(O,p,Y),B.error(Y)},complete:()=>{k=!0,x(),U=F(O,f),B.complete()}}),(0,c.Xf)(N).subscribe(M))})(y)}}function F(L,D,...p){if(!0===D)return void L();if(!1===D)return;const f=new b.Hp({next:()=>{f.unsubscribe(),L()}});return(0,c.Xf)(D(...p)).subscribe(f)}},940:(jn,nt,S)=>{"use strict";S.d(nt,{d:()=>E});var c=S(8645),t=S(4552);class b extends c.x{constructor(L=1/0,D=1/0,p=t.l){super(),this._bufferSize=L,this._windowTime=D,this._timestampProvider=p,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=D===1/0,this._bufferSize=Math.max(1,L),this._windowTime=Math.max(1,D)}next(L){const{isStopped:D,_buffer:p,_infiniteTimeWindow:f,_timestampProvider:g,_windowTime:y}=this;D||(p.push(L),!f&&p.push(g.now()+y)),this._trimBuffer(),super.next(L)}_subscribe(L){this._throwIfClosed(),this._trimBuffer();const D=this._innerSubscribe(L),{_infiniteTimeWindow:p,_buffer:f}=this,g=f.slice();for(let y=0;y<g.length&&!L.closed;y+=p?1:2)L.next(g[y]);return this._checkFinalizedStatuses(L),D}_trimBuffer(){const{_bufferSize:L,_timestampProvider:D,_buffer:p,_infiniteTimeWindow:f}=this,g=(f?1:2)*L;if(L<1/0&&g<p.length&&p.splice(0,p.length-g),!f){const y=D.now();let M=0;for(let U=1;U<p.length&&p[U]<=y;U+=2)M=U;M&&p.splice(0,M+1)}}}var w=S(3020);function E(F,L,D){let p,f=!1;return F&&"object"==typeof F?({bufferSize:p=1/0,windowTime:L=1/0,refCount:f=!1,scheduler:D}=F):p=F??1/0,(0,w.B)({connector:()=>new b(p,L,D),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:f})}},836:(jn,nt,S)=>{"use strict";S.d(nt,{T:()=>t});var c=S(2181);function t(b){return(0,c.h)((w,E)=>b<=E)}},7921:(jn,nt,S)=>{"use strict";S.d(nt,{O:()=>w});var c=S(5211),t=S(9940),b=S(9360);function w(...E){const F=(0,t.yG)(E);return(0,b.e)((L,D)=>{(F?(0,c.z)(E,L,F):(0,c.z)(E,L)).subscribe(D)})}},5137:(jn,nt,S)=>{"use strict";S.d(nt,{R:()=>t});var c=S(9360);function t(b,w=0){return(0,c.e)((E,F)=>{F.add(b.schedule(()=>E.subscribe(F),w))})}},4664:(jn,nt,S)=>{"use strict";S.d(nt,{w:()=>w});var c=S(4829),t=S(9360),b=S(8251);function w(E,F){return(0,t.e)((L,D)=>{let p=null,f=0,g=!1;const y=()=>g&&!p&&D.complete();L.subscribe((0,b.x)(D,M=>{p?.unsubscribe();let U=0;const R=f++;(0,c.Xf)(E(M,R)).subscribe(p=(0,b.x)(D,V=>D.next(F?F(M,V,R,U++):V),()=>{p=null,y()}))},()=>{g=!0,y()}))})}},8180:(jn,nt,S)=>{"use strict";S.d(nt,{q:()=>w});var c=S(6232),t=S(9360),b=S(8251);function w(E){return E<=0?()=>c.E:(0,t.e)((F,L)=>{let D=0;F.subscribe((0,b.x)(L,p=>{++D<=E&&(L.next(p),E<=D&&L.complete())}))})}},9773:(jn,nt,S)=>{"use strict";S.d(nt,{R:()=>E});var c=S(9360),t=S(8251),b=S(4829),w=S(2420);function E(F){return(0,c.e)((L,D)=>{(0,b.Xf)(F).subscribe((0,t.x)(D,()=>D.complete(),w.Z)),!D.closed&&L.subscribe(D)})}},9397:(jn,nt,S)=>{"use strict";S.d(nt,{b:()=>E});var c=S(4674),t=S(9360),b=S(8251),w=S(2737);function E(F,L,D){const p=(0,c.m)(F)||L||D?{next:F,error:L,complete:D}:F;return p?(0,t.e)((f,g)=>{var y;null===(y=p.subscribe)||void 0===y||y.call(p);let M=!0;f.subscribe((0,b.x)(g,U=>{var R;null===(R=p.next)||void 0===R||R.call(p,U),g.next(U)},()=>{var U;M=!1,null===(U=p.complete)||void 0===U||U.call(p),g.complete()},U=>{var R;M=!1,null===(R=p.error)||void 0===R||R.call(p,U),g.error(U)},()=>{var U,R;M&&(null===(U=p.unsubscribe)||void 0===U||U.call(p)),null===(R=p.finalize)||void 0===R||R.call(p)}))}):w.y}},3026:(jn,nt,S)=>{"use strict";S.d(nt,{T:()=>w});var c=S(6973),t=S(9360),b=S(8251);function w(F=E){return(0,t.e)((L,D)=>{let p=!1;L.subscribe((0,b.x)(D,f=>{p=!0,D.next(f)},()=>p?D.complete():D.error(F())))})}function E(){return new c.K}},1954:(jn,nt,S)=>{"use strict";S.d(nt,{o:()=>E});var c=S(7394);class t extends c.w0{constructor(L,D){super()}schedule(L,D=0){return this}}const b={setInterval(F,L,...D){const{delegate:p}=b;return p?.setInterval?p.setInterval(F,L,...D):setInterval(F,L,...D)},clearInterval(F){const{delegate:L}=b;return(L?.clearInterval||clearInterval)(F)},delegate:void 0};var w=S(9039);class E extends t{constructor(L,D){super(L,D),this.scheduler=L,this.work=D,this.pending=!1}schedule(L,D=0){var p;if(this.closed)return this;this.state=L;const f=this.id,g=this.scheduler;return null!=f&&(this.id=this.recycleAsyncId(g,f,D)),this.pending=!0,this.delay=D,this.id=null!==(p=this.id)&&void 0!==p?p:this.requestAsyncId(g,this.id,D),this}requestAsyncId(L,D,p=0){return b.setInterval(L.flush.bind(L,this),p)}recycleAsyncId(L,D,p=0){if(null!=p&&this.delay===p&&!1===this.pending)return D;null!=D&&b.clearInterval(D)}execute(L,D){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const p=this._execute(L,D);if(p)return p;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(L,D){let f,p=!1;try{this.work(L)}catch(g){p=!0,f=g||new Error("Scheduled action threw falsy error")}if(p)return this.unsubscribe(),f}unsubscribe(){if(!this.closed){const{id:L,scheduler:D}=this,{actions:p}=D;this.work=this.state=this.scheduler=null,this.pending=!1,(0,w.P)(p,this),null!=L&&(this.id=this.recycleAsyncId(D,L,null)),this.delay=null,super.unsubscribe()}}}},2631:(jn,nt,S)=>{"use strict";S.d(nt,{v:()=>b});var c=S(4552);class t{constructor(E,F=t.now){this.schedulerActionCtor=E,this.now=F}schedule(E,F=0,L){return new this.schedulerActionCtor(this,E).schedule(L,F)}}t.now=c.l.now;class b extends t{constructor(E,F=t.now){super(E,F),this.actions=[],this._active=!1}flush(E){const{actions:F}=this;if(this._active)return void F.push(E);let L;this._active=!0;do{if(L=E.execute(E.state,E.delay))break}while(E=F.shift());if(this._active=!1,L){for(;E=F.shift();)E.unsubscribe();throw L}}}},6321:(jn,nt,S)=>{"use strict";S.d(nt,{P:()=>w,z:()=>b});var c=S(1954);const b=new(S(2631).v)(c.o),w=b},4552:(jn,nt,S)=>{"use strict";S.d(nt,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},7599:(jn,nt,S)=>{"use strict";S.d(nt,{z:()=>c});const c={setTimeout(t,b,...w){const{delegate:E}=c;return E?.setTimeout?E.setTimeout(t,b,...w):setTimeout(t,b,...w)},clearTimeout(t){const{delegate:b}=c;return(b?.clearTimeout||clearTimeout)(t)},delegate:void 0}},4971:(jn,nt,S)=>{"use strict";S.d(nt,{h:()=>t});const t=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(jn,nt,S)=>{"use strict";S.d(nt,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(jn,nt,S)=>{"use strict";S.d(nt,{K:()=>t});const t=(0,S(2306).d)(b=>function(){b(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(jn,nt,S)=>{"use strict";S.d(nt,{_6:()=>F,jO:()=>w,yG:()=>E});var c=S(4674),t=S(671);function b(L){return L[L.length-1]}function w(L){return(0,c.m)(b(L))?L.pop():void 0}function E(L){return(0,t.K)(b(L))?L.pop():void 0}function F(L,D){return"number"==typeof b(L)?L.pop():D}},7453:(jn,nt,S)=>{"use strict";S.d(nt,{D:()=>E});const{isArray:c}=Array,{getPrototypeOf:t,prototype:b,keys:w}=Object;function E(L){if(1===L.length){const D=L[0];if(c(D))return{args:D,keys:null};if(function F(L){return L&&"object"==typeof L&&t(L)===b}(D)){const p=w(D);return{args:p.map(f=>D[f]),keys:p}}}return{args:L,keys:null}}},9039:(jn,nt,S)=>{"use strict";function c(t,b){if(t){const w=t.indexOf(b);0<=w&&t.splice(w,1)}}S.d(nt,{P:()=>c})},2306:(jn,nt,S)=>{"use strict";function c(t){const w=t(E=>{Error.call(E),E.stack=(new Error).stack});return w.prototype=Object.create(Error.prototype),w.prototype.constructor=w,w}S.d(nt,{d:()=>c})},2714:(jn,nt,S)=>{"use strict";function c(t,b){return t.reduce((w,E,F)=>(w[E]=b[F],w),{})}S.d(nt,{n:()=>c})},1441:(jn,nt,S)=>{"use strict";S.d(nt,{O:()=>w,x:()=>b});var c=S(2653);let t=null;function b(E){if(c.config.useDeprecatedSynchronousErrorHandling){const F=!t;if(F&&(t={errorThrown:!1,error:null}),E(),F){const{errorThrown:L,error:D}=t;if(t=null,L)throw D}}else E()}function w(E){c.config.useDeprecatedSynchronousErrorHandling&&t&&(t.errorThrown=!0,t.error=E)}},7103:(jn,nt,S)=>{"use strict";function c(t,b,w,E=0,F=!1){const L=b.schedule(function(){w(),F?t.add(this.schedule(null,E)):this.unsubscribe()},E);if(t.add(L),!F)return L}S.d(nt,{f:()=>c})},2737:(jn,nt,S)=>{"use strict";function c(t){return t}S.d(nt,{y:()=>c})},4266:(jn,nt,S)=>{"use strict";S.d(nt,{z:()=>c});const c=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5726:(jn,nt,S)=>{"use strict";S.d(nt,{D:()=>t});var c=S(4674);function t(b){return Symbol.asyncIterator&&(0,c.m)(b?.[Symbol.asyncIterator])}},4674:(jn,nt,S)=>{"use strict";function c(t){return"function"==typeof t}S.d(nt,{m:()=>c})},8382:(jn,nt,S)=>{"use strict";S.d(nt,{c:()=>b});var c=S(4850),t=S(4674);function b(w){return(0,t.m)(w[c.L])}},3664:(jn,nt,S)=>{"use strict";S.d(nt,{T:()=>b});var c=S(4971),t=S(4674);function b(w){return(0,t.m)(w?.[c.h])}},2664:(jn,nt,S)=>{"use strict";S.d(nt,{b:()=>b});var c=S(5592),t=S(4674);function b(w){return!!w&&(w instanceof c.y||(0,t.m)(w.lift)&&(0,t.m)(w.subscribe))}},4026:(jn,nt,S)=>{"use strict";S.d(nt,{t:()=>t});var c=S(4674);function t(b){return(0,c.m)(b?.then)}},541:(jn,nt,S)=>{"use strict";S.d(nt,{L:()=>w,Q:()=>b});var c=S(7582),t=S(4674);function b(E){return(0,c.FC)(this,arguments,function*(){const L=E.getReader();try{for(;;){const{value:D,done:p}=yield(0,c.qq)(L.read());if(p)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(D)}}finally{L.releaseLock()}})}function w(E){return(0,t.m)(E?.getReader)}},671:(jn,nt,S)=>{"use strict";S.d(nt,{K:()=>t});var c=S(4674);function t(b){return b&&(0,c.m)(b.schedule)}},9360:(jn,nt,S)=>{"use strict";S.d(nt,{A:()=>t,e:()=>b});var c=S(4674);function t(w){return(0,c.m)(w?.lift)}function b(w){return E=>{if(t(E))return E.lift(function(F){try{return w(F,this)}catch(L){this.error(L)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(jn,nt,S)=>{"use strict";S.d(nt,{Z:()=>w});var c=S(7398);const{isArray:t}=Array;function w(E){return(0,c.U)(F=>function b(E,F){return t(F)?E(...F):E(F)}(E,F))}},2420:(jn,nt,S)=>{"use strict";function c(){}S.d(nt,{Z:()=>c})},8407:(jn,nt,S)=>{"use strict";S.d(nt,{U:()=>b,z:()=>t});var c=S(2737);function t(...w){return b(w)}function b(w){return 0===w.length?c.y:1===w.length?w[0]:function(F){return w.reduce((L,D)=>D(L),F)}}},3894:(jn,nt,S)=>{"use strict";S.d(nt,{h:()=>b});var c=S(2653),t=S(7599);function b(w){t.z.setTimeout(()=>{const{onUnhandledError:E}=c.config;if(!E)throw w;E(w)})}},9853:(jn,nt,S)=>{"use strict";function c(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}S.d(nt,{z:()=>c})},6825:(jn,nt,S)=>{"use strict";S.d(nt,{F4:()=>f,IO:()=>R,LC:()=>t,SB:()=>p,X$:()=>w,ZE:()=>P,ZN:()=>k,_j:()=>c,eR:()=>g,jt:()=>E,k1:()=>x,l3:()=>b,oB:()=>D,pV:()=>M,ru:()=>F,vP:()=>L});class c{}class t{}const b="*";function w(O,T){return{type:7,name:O,definitions:T,options:{}}}function E(O,T=null){return{type:4,styles:T,timings:O}}function F(O,T=null){return{type:3,steps:O,options:T}}function L(O,T=null){return{type:2,steps:O,options:T}}function D(O){return{type:6,styles:O,offset:null}}function p(O,T,N){return{type:0,name:O,styles:T,options:N}}function f(O){return{type:5,steps:O}}function g(O,T,N=null){return{type:1,expr:O,animation:T,options:N}}function M(O=null){return{type:9,options:O}}function R(O,T,N=null){return{type:11,selector:O,animation:T,options:N}}class k{constructor(T=0,N=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=T+N}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(T=>T()),this._onDoneFns=[])}onStart(T){this._originalOnStartFns.push(T),this._onStartFns.push(T)}onDone(T){this._originalOnDoneFns.push(T),this._onDoneFns.push(T)}onDestroy(T){this._onDestroyFns.push(T)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(T=>T()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(T=>T()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(T){this._position=this.totalTime?T*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(T){const N="start"==T?this._onStartFns:this._onDoneFns;N.forEach(C=>C()),N.length=0}}class P{constructor(T){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=T;let N=0,C=0,B=0;const Y=this.players.length;0==Y?queueMicrotask(()=>this._onFinish()):this.players.forEach(J=>{J.onDone(()=>{++N==Y&&this._onFinish()}),J.onDestroy(()=>{++C==Y&&this._onDestroy()}),J.onStart(()=>{++B==Y&&this._onStart()})}),this.totalTime=this.players.reduce((J,ce)=>Math.max(J,ce.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(T=>T()),this._onDoneFns=[])}init(){this.players.forEach(T=>T.init())}onStart(T){this._onStartFns.push(T)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(T=>T()),this._onStartFns=[])}onDone(T){this._onDoneFns.push(T)}onDestroy(T){this._onDestroyFns.push(T)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(T=>T.play())}pause(){this.players.forEach(T=>T.pause())}restart(){this.players.forEach(T=>T.restart())}finish(){this._onFinish(),this.players.forEach(T=>T.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(T=>T.destroy()),this._onDestroyFns.forEach(T=>T()),this._onDestroyFns=[])}reset(){this.players.forEach(T=>T.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(T){const N=T*this.totalTime;this.players.forEach(C=>{const B=C.totalTime?Math.min(1,N/C.totalTime):1;C.setPosition(B)})}getPosition(){const T=this.players.reduce((N,C)=>null===N||C.totalTime>N.totalTime?C:N,null);return null!=T?T.getPosition():0}beforeDestroy(){this.players.forEach(T=>{T.beforeDestroy&&T.beforeDestroy()})}triggerCallback(T){const N="start"==T?this._onStartFns:this._onDoneFns;N.forEach(C=>C()),N.length=0}}const x="!"},4300:(jn,nt,S)=>{"use strict";S.d(nt,{$s:()=>Fe,Kd:()=>rt,X6:()=>re,Zf:()=>T,iD:()=>N,ic:()=>De,kH:()=>Qt,mK:()=>ae,qV:()=>W,qm:()=>Cn,rt:()=>en,s1:()=>_e,tE:()=>jt,yG:()=>te});var c=S(6814),t=S(5879),b=S(2831),w=S(8645),E=S(7394),F=S(5619),L=S(2096),D=S(6028),p=S(9397),f=S(3620),g=S(2181),y=S(7398),M=S(8180),U=S(836),R=S(3997),V=S(9773),k=S(2495),P=S(7131),x=S(1088);const O=" ";function T(xt,ft,Xe){const xe=C(xt,ft);xe.some(Oe=>Oe.trim()==Xe.trim())||(xe.push(Xe.trim()),xt.setAttribute(ft,xe.join(O)))}function N(xt,ft,Xe){const Oe=C(xt,ft).filter(We=>We!=Xe.trim());Oe.length?xt.setAttribute(ft,Oe.join(O)):xt.removeAttribute(ft)}function C(xt,ft){return(xt.getAttribute(ft)||"").match(/\S+/g)||[]}const Y="cdk-describedby-message",J="cdk-describedby-host";let ce=0,Fe=(()=>{class xt{constructor(Xe,xe){this._platform=xe,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+ce++,this._document=Xe,this._id=(0,t.f3M)(t.AFp)+"-"+ce++}describe(Xe,xe,Oe){if(!this._canBeDescribed(Xe,xe))return;const We=q(xe,Oe);"string"!=typeof xe?(le(xe,this._id),this._messageRegistry.set(We,{messageElement:xe,referenceCount:0})):this._messageRegistry.has(We)||this._createMessageElement(xe,Oe),this._isElementDescribedByMessage(Xe,We)||this._addMessageReference(Xe,We)}removeDescription(Xe,xe,Oe){if(!xe||!this._isElementNode(Xe))return;const We=q(xe,Oe);if(this._isElementDescribedByMessage(Xe,We)&&this._removeMessageReference(Xe,We),"string"==typeof xe){const $e=this._messageRegistry.get(We);$e&&0===$e.referenceCount&&this._deleteMessageElement(We)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const Xe=this._document.querySelectorAll(`[${J}="${this._id}"]`);for(let xe=0;xe<Xe.length;xe++)this._removeCdkDescribedByReferenceIds(Xe[xe]),Xe[xe].removeAttribute(J);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(Xe,xe){const Oe=this._document.createElement("div");le(Oe,this._id),Oe.textContent=Xe,xe&&Oe.setAttribute("role",xe),this._createMessagesContainer(),this._messagesContainer.appendChild(Oe),this._messageRegistry.set(q(Xe,xe),{messageElement:Oe,referenceCount:0})}_deleteMessageElement(Xe){this._messageRegistry.get(Xe)?.messageElement?.remove(),this._messageRegistry.delete(Xe)}_createMessagesContainer(){if(this._messagesContainer)return;const Xe="cdk-describedby-message-container",xe=this._document.querySelectorAll(`.${Xe}[platform="server"]`);for(let We=0;We<xe.length;We++)xe[We].remove();const Oe=this._document.createElement("div");Oe.style.visibility="hidden",Oe.classList.add(Xe),Oe.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Oe.setAttribute("platform","server"),this._document.body.appendChild(Oe),this._messagesContainer=Oe}_removeCdkDescribedByReferenceIds(Xe){const xe=C(Xe,"aria-describedby").filter(Oe=>0!=Oe.indexOf(Y));Xe.setAttribute("aria-describedby",xe.join(" "))}_addMessageReference(Xe,xe){const Oe=this._messageRegistry.get(xe);T(Xe,"aria-describedby",Oe.messageElement.id),Xe.setAttribute(J,this._id),Oe.referenceCount++}_removeMessageReference(Xe,xe){const Oe=this._messageRegistry.get(xe);Oe.referenceCount--,N(Xe,"aria-describedby",Oe.messageElement.id),Xe.removeAttribute(J)}_isElementDescribedByMessage(Xe,xe){const Oe=C(Xe,"aria-describedby"),We=this._messageRegistry.get(xe),$e=We&&We.messageElement.id;return!!$e&&-1!=Oe.indexOf($e)}_canBeDescribed(Xe,xe){if(!this._isElementNode(Xe))return!1;if(xe&&"object"==typeof xe)return!0;const Oe=null==xe?"":`${xe}`.trim(),We=Xe.getAttribute("aria-label");return!(!Oe||We&&We.trim()===Oe)}_isElementNode(Xe){return Xe.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(xe){return new(xe||xt)(t.LFG(c.K0),t.LFG(b.t4))};static#t=this.\u0275prov=t.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})();function q(xt,ft){return"string"==typeof xt?`${ft||""}/${xt}`:xt}function le(xt,ft){xt.id||(xt.id=`${Y}-${ft}-${ce++}`)}class K{constructor(ft){this._items=ft,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new w.x,this._typeaheadSubscription=E.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Xe=>Xe.disabled,this._pressedLetters=[],this.tabOut=new w.x,this.change=new w.x,ft instanceof t.n_E&&(this._itemChangesSubscription=ft.changes.subscribe(Xe=>{if(this._activeItem){const Oe=Xe.toArray().indexOf(this._activeItem);Oe>-1&&Oe!==this._activeItemIndex&&(this._activeItemIndex=Oe)}}))}skipPredicate(ft){return this._skipPredicateFn=ft,this}withWrap(ft=!0){return this._wrap=ft,this}withVerticalOrientation(ft=!0){return this._vertical=ft,this}withHorizontalOrientation(ft){return this._horizontal=ft,this}withAllowedModifierKeys(ft){return this._allowedModifierKeys=ft,this}withTypeAhead(ft=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,p.b)(Xe=>this._pressedLetters.push(Xe)),(0,f.b)(ft),(0,g.h)(()=>this._pressedLetters.length>0),(0,y.U)(()=>this._pressedLetters.join(""))).subscribe(Xe=>{const xe=this._getItemsArray();for(let Oe=1;Oe<xe.length+1;Oe++){const We=(this._activeItemIndex+Oe)%xe.length,$e=xe[We];if(!this._skipPredicateFn($e)&&0===$e.getLabel().toUpperCase().trim().indexOf(Xe)){this.setActiveItem(We);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(ft=!0){return this._homeAndEnd=ft,this}withPageUpDown(ft=!0,Xe=10){return this._pageUpAndDown={enabled:ft,delta:Xe},this}setActiveItem(ft){const Xe=this._activeItem;this.updateActiveItem(ft),this._activeItem!==Xe&&this.change.next(this._activeItemIndex)}onKeydown(ft){const Xe=ft.keyCode,Oe=["altKey","ctrlKey","metaKey","shiftKey"].every(We=>!ft[We]||this._allowedModifierKeys.indexOf(We)>-1);switch(Xe){case D.Mf:return void this.tabOut.next();case D.JH:if(this._vertical&&Oe){this.setNextItemActive();break}return;case D.LH:if(this._vertical&&Oe){this.setPreviousItemActive();break}return;case D.SV:if(this._horizontal&&Oe){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case D.oh:if(this._horizontal&&Oe){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case D.Sd:if(this._homeAndEnd&&Oe){this.setFirstItemActive();break}return;case D.uR:if(this._homeAndEnd&&Oe){this.setLastItemActive();break}return;case D.Ku:if(this._pageUpAndDown.enabled&&Oe){const We=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(We>0?We:0,1);break}return;case D.VM:if(this._pageUpAndDown.enabled&&Oe){const We=this._activeItemIndex+this._pageUpAndDown.delta,$e=this._getItemsArray().length;this._setActiveItemByIndex(We<$e?We:$e-1,-1);break}return;default:return void((Oe||(0,D.Vb)(ft,"shiftKey"))&&(ft.key&&1===ft.key.length?this._letterKeyStream.next(ft.key.toLocaleUpperCase()):(Xe>=D.A&&Xe<=D.Z||Xe>=D.xE&&Xe<=D.aO)&&this._letterKeyStream.next(String.fromCharCode(Xe))))}this._pressedLetters=[],ft.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(ft){const Xe=this._getItemsArray(),xe="number"==typeof ft?ft:Xe.indexOf(ft);this._activeItem=Xe[xe]??null,this._activeItemIndex=xe}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(ft){this._wrap?this._setActiveInWrapMode(ft):this._setActiveInDefaultMode(ft)}_setActiveInWrapMode(ft){const Xe=this._getItemsArray();for(let xe=1;xe<=Xe.length;xe++){const Oe=(this._activeItemIndex+ft*xe+Xe.length)%Xe.length;if(!this._skipPredicateFn(Xe[Oe]))return void this.setActiveItem(Oe)}}_setActiveInDefaultMode(ft){this._setActiveItemByIndex(this._activeItemIndex+ft,ft)}_setActiveItemByIndex(ft,Xe){const xe=this._getItemsArray();if(xe[ft]){for(;this._skipPredicateFn(xe[ft]);)if(!xe[ft+=Xe])return;this.setActiveItem(ft)}}_getItemsArray(){return this._items instanceof t.n_E?this._items.toArray():this._items}}class _e extends K{setActiveItem(ft){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(ft),this.activeItem&&this.activeItem.setActiveStyles()}}let De=(()=>{class xt{constructor(Xe){this._platform=Xe}isDisabled(Xe){return Xe.hasAttribute("disabled")}isVisible(Xe){return function he(xt){return!!(xt.offsetWidth||xt.offsetHeight||"function"==typeof xt.getClientRects&&xt.getClientRects().length)}(Xe)&&"visible"===getComputedStyle(Xe).visibility}isTabbable(Xe){if(!this._platform.isBrowser)return!1;const xe=function Le(xt){try{return xt.frameElement}catch{return null}}(function Ne(xt){return xt.ownerDocument&&xt.ownerDocument.defaultView||window}(Xe));if(xe&&(-1===Ke(xe)||!this.isVisible(xe)))return!1;let Oe=Xe.nodeName.toLowerCase(),We=Ke(Xe);return Xe.hasAttribute("contenteditable")?-1!==We:!("iframe"===Oe||"object"===Oe||this._platform.WEBKIT&&this._platform.IOS&&!function st(xt){let ft=xt.nodeName.toLowerCase(),Xe="input"===ft&&xt.type;return"text"===Xe||"password"===Xe||"select"===ft||"textarea"===ft}(Xe))&&("audio"===Oe?!!Xe.hasAttribute("controls")&&-1!==We:"video"===Oe?-1!==We&&(null!==We||this._platform.FIREFOX||Xe.hasAttribute("controls")):Xe.tabIndex>=0)}isFocusable(Xe,xe){return function Qe(xt){return!function Ie(xt){return function Ue(xt){return"input"==xt.nodeName.toLowerCase()}(xt)&&"hidden"==xt.type}(xt)&&(function Re(xt){let ft=xt.nodeName.toLowerCase();return"input"===ft||"select"===ft||"button"===ft||"textarea"===ft}(xt)||function ge(xt){return function ke(xt){return"a"==xt.nodeName.toLowerCase()}(xt)&&xt.hasAttribute("href")}(xt)||xt.hasAttribute("contenteditable")||we(xt))}(Xe)&&!this.isDisabled(Xe)&&(xe?.ignoreVisibility||this.isVisible(Xe))}static#e=this.\u0275fac=function(xe){return new(xe||xt)(t.LFG(b.t4))};static#t=this.\u0275prov=t.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})();function we(xt){if(!xt.hasAttribute("tabindex")||void 0===xt.tabIndex)return!1;let ft=xt.getAttribute("tabindex");return!(!ft||isNaN(parseInt(ft,10)))}function Ke(xt){if(!we(xt))return null;const ft=parseInt(xt.getAttribute("tabindex")||"",10);return isNaN(ft)?-1:ft}class Se{get enabled(){return this._enabled}set enabled(ft){this._enabled=ft,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ft,this._startAnchor),this._toggleAnchorTabIndex(ft,this._endAnchor))}constructor(ft,Xe,xe,Oe,We=!1){this._element=ft,this._checker=Xe,this._ngZone=xe,this._document=Oe,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,We||this.attachAnchors()}destroy(){const ft=this._startAnchor,Xe=this._endAnchor;ft&&(ft.removeEventListener("focus",this.startAnchorListener),ft.remove()),Xe&&(Xe.removeEventListener("focus",this.endAnchorListener),Xe.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(ft){return new Promise(Xe=>{this._executeOnStable(()=>Xe(this.focusInitialElement(ft)))})}focusFirstTabbableElementWhenReady(ft){return new Promise(Xe=>{this._executeOnStable(()=>Xe(this.focusFirstTabbableElement(ft)))})}focusLastTabbableElementWhenReady(ft){return new Promise(Xe=>{this._executeOnStable(()=>Xe(this.focusLastTabbableElement(ft)))})}_getRegionBoundary(ft){const Xe=this._element.querySelectorAll(`[cdk-focus-region-${ft}], [cdkFocusRegion${ft}], [cdk-focus-${ft}]`);return"start"==ft?Xe.length?Xe[0]:this._getFirstTabbableElement(this._element):Xe.length?Xe[Xe.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(ft){const Xe=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Xe){if(!this._checker.isFocusable(Xe)){const xe=this._getFirstTabbableElement(Xe);return xe?.focus(ft),!!xe}return Xe.focus(ft),!0}return this.focusFirstTabbableElement(ft)}focusFirstTabbableElement(ft){const Xe=this._getRegionBoundary("start");return Xe&&Xe.focus(ft),!!Xe}focusLastTabbableElement(ft){const Xe=this._getRegionBoundary("end");return Xe&&Xe.focus(ft),!!Xe}hasAttached(){return this._hasAttached}_getFirstTabbableElement(ft){if(this._checker.isFocusable(ft)&&this._checker.isTabbable(ft))return ft;const Xe=ft.children;for(let xe=0;xe<Xe.length;xe++){const Oe=Xe[xe].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Xe[xe]):null;if(Oe)return Oe}return null}_getLastTabbableElement(ft){if(this._checker.isFocusable(ft)&&this._checker.isTabbable(ft))return ft;const Xe=ft.children;for(let xe=Xe.length-1;xe>=0;xe--){const Oe=Xe[xe].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Xe[xe]):null;if(Oe)return Oe}return null}_createAnchor(){const ft=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,ft),ft.classList.add("cdk-visually-hidden"),ft.classList.add("cdk-focus-trap-anchor"),ft.setAttribute("aria-hidden","true"),ft}_toggleAnchorTabIndex(ft,Xe){ft?Xe.setAttribute("tabindex","0"):Xe.removeAttribute("tabindex")}toggleAnchors(ft){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ft,this._startAnchor),this._toggleAnchorTabIndex(ft,this._endAnchor))}_executeOnStable(ft){this._ngZone.isStable?ft():this._ngZone.onStable.pipe((0,M.q)(1)).subscribe(ft)}}let W=(()=>{class xt{constructor(Xe,xe,Oe){this._checker=Xe,this._ngZone=xe,this._document=Oe}create(Xe,xe=!1){return new Se(Xe,this._checker,this._ngZone,this._document,xe)}static#e=this.\u0275fac=function(xe){return new(xe||xt)(t.LFG(De),t.LFG(t.R0b),t.LFG(c.K0))};static#t=this.\u0275prov=t.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})(),ae=(()=>{class xt{get enabled(){return this.focusTrap.enabled}set enabled(Xe){this.focusTrap.enabled=(0,k.Ig)(Xe)}get autoCapture(){return this._autoCapture}set autoCapture(Xe){this._autoCapture=(0,k.Ig)(Xe)}constructor(Xe,xe,Oe){this._elementRef=Xe,this._focusTrapFactory=xe,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(Xe){const xe=Xe.autoCapture;xe&&!xe.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,b.ht)(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(xe){return new(xe||xt)(t.Y36(t.SBq),t.Y36(W),t.Y36(c.K0))};static#t=this.\u0275dir=t.lG2({type:xt,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[t.TTD]})}return xt})();function re(xt){return 0===xt.buttons||0===xt.offsetX&&0===xt.offsetY}function te(xt){const ft=xt.touches&&xt.touches[0]||xt.changedTouches&&xt.changedTouches[0];return!(!ft||-1!==ft.identifier||null!=ft.radiusX&&1!==ft.radiusX||null!=ft.radiusY&&1!==ft.radiusY)}const ee=new t.OlP("cdk-input-modality-detector-options"),fe={ignoreKeys:[D.zL,D.jx,D.b2,D.MW,D.JU]},ue=(0,b.i$)({passive:!0,capture:!0});let Me=(()=>{class xt{get mostRecentModality(){return this._modality.value}constructor(Xe,xe,Oe,We){this._platform=Xe,this._mostRecentTarget=null,this._modality=new F.X(null),this._lastTouchMs=0,this._onKeydown=$e=>{this._options?.ignoreKeys?.some(lt=>lt===$e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,b.sA)($e))},this._onMousedown=$e=>{Date.now()-this._lastTouchMs<650||(this._modality.next(re($e)?"keyboard":"mouse"),this._mostRecentTarget=(0,b.sA)($e))},this._onTouchstart=$e=>{te($e)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,b.sA)($e))},this._options={...fe,...We},this.modalityDetected=this._modality.pipe((0,U.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,R.x)()),Xe.isBrowser&&xe.runOutsideAngular(()=>{Oe.addEventListener("keydown",this._onKeydown,ue),Oe.addEventListener("mousedown",this._onMousedown,ue),Oe.addEventListener("touchstart",this._onTouchstart,ue)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ue),document.removeEventListener("mousedown",this._onMousedown,ue),document.removeEventListener("touchstart",this._onTouchstart,ue))}static#e=this.\u0275fac=function(xe){return new(xe||xt)(t.LFG(b.t4),t.LFG(t.R0b),t.LFG(c.K0),t.LFG(ee,8))};static#t=this.\u0275prov=t.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})();const Ye=new t.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Ge(){return null}}),at=new t.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ct=0,rt=(()=>{class xt{constructor(Xe,xe,Oe,We){this._ngZone=xe,this._defaultOptions=We,this._document=Oe,this._liveElement=Xe||this._createLiveElement()}announce(Xe,...xe){const Oe=this._defaultOptions;let We,$e;return 1===xe.length&&"number"==typeof xe[0]?$e=xe[0]:[We,$e]=xe,this.clear(),clearTimeout(this._previousTimeout),We||(We=Oe&&Oe.politeness?Oe.politeness:"polite"),null==$e&&Oe&&($e=Oe.duration),this._liveElement.setAttribute("aria-live",We),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(lt=>this._currentResolve=lt)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Xe,"number"==typeof $e&&(this._previousTimeout=setTimeout(()=>this.clear(),$e)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Xe="cdk-live-announcer-element",xe=this._document.getElementsByClassName(Xe),Oe=this._document.createElement("div");for(let We=0;We<xe.length;We++)xe[We].remove();return Oe.classList.add(Xe),Oe.classList.add("cdk-visually-hidden"),Oe.setAttribute("aria-atomic","true"),Oe.setAttribute("aria-live","polite"),Oe.id="cdk-live-announcer-"+ct++,this._document.body.appendChild(Oe),Oe}_exposeAnnouncerToModals(Xe){const xe=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Oe=0;Oe<xe.length;Oe++){const We=xe[Oe],$e=We.getAttribute("aria-owns");$e?-1===$e.indexOf(Xe)&&We.setAttribute("aria-owns",$e+" "+Xe):We.setAttribute("aria-owns",Xe)}}static#e=this.\u0275fac=function(xe){return new(xe||xt)(t.LFG(Ye,8),t.LFG(t.R0b),t.LFG(c.K0),t.LFG(at,8))};static#t=this.\u0275prov=t.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})();const Bt=new t.OlP("cdk-focus-monitor-default-options"),At=(0,b.i$)({passive:!0,capture:!0});let jt=(()=>{class xt{constructor(Xe,xe,Oe,We,$e){this._ngZone=Xe,this._platform=xe,this._inputModalityDetector=Oe,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new w.x,this._rootNodeFocusAndBlurListener=lt=>{for(let dt=(0,b.sA)(lt);dt;dt=dt.parentElement)"focus"===lt.type?this._onFocus(lt,dt):this._onBlur(lt,dt)},this._document=We,this._detectionMode=$e?.detectionMode||0}monitor(Xe,xe=!1){const Oe=(0,k.fI)(Xe);if(!this._platform.isBrowser||1!==Oe.nodeType)return(0,L.of)();const We=(0,b.kV)(Oe)||this._getDocument(),$e=this._elementInfo.get(Oe);if($e)return xe&&($e.checkChildren=!0),$e.subject;const lt={checkChildren:xe,subject:new w.x,rootNode:We};return this._elementInfo.set(Oe,lt),this._registerGlobalListeners(lt),lt.subject}stopMonitoring(Xe){const xe=(0,k.fI)(Xe),Oe=this._elementInfo.get(xe);Oe&&(Oe.subject.complete(),this._setClasses(xe),this._elementInfo.delete(xe),this._removeGlobalListeners(Oe))}focusVia(Xe,xe,Oe){const We=(0,k.fI)(Xe);We===this._getDocument().activeElement?this._getClosestElementsInfo(We).forEach(([lt,ot])=>this._originChanged(lt,xe,ot)):(this._setOrigin(xe),"function"==typeof We.focus&&We.focus(Oe))}ngOnDestroy(){this._elementInfo.forEach((Xe,xe)=>this.stopMonitoring(xe))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Xe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Xe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Xe&&this._isLastInteractionFromInputLabel(Xe)?"mouse":"program"}_shouldBeAttributedToTouch(Xe){return 1===this._detectionMode||!!Xe?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Xe,xe){Xe.classList.toggle("cdk-focused",!!xe),Xe.classList.toggle("cdk-touch-focused","touch"===xe),Xe.classList.toggle("cdk-keyboard-focused","keyboard"===xe),Xe.classList.toggle("cdk-mouse-focused","mouse"===xe),Xe.classList.toggle("cdk-program-focused","program"===xe)}_setOrigin(Xe,xe=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Xe,this._originFromTouchInteraction="touch"===Xe&&xe,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Xe,xe){const Oe=this._elementInfo.get(xe),We=(0,b.sA)(Xe);!Oe||!Oe.checkChildren&&xe!==We||this._originChanged(xe,this._getFocusOrigin(We),Oe)}_onBlur(Xe,xe){const Oe=this._elementInfo.get(xe);!Oe||Oe.checkChildren&&Xe.relatedTarget instanceof Node&&xe.contains(Xe.relatedTarget)||(this._setClasses(xe),this._emitOrigin(Oe,null))}_emitOrigin(Xe,xe){Xe.subject.observers.length&&this._ngZone.run(()=>Xe.subject.next(xe))}_registerGlobalListeners(Xe){if(!this._platform.isBrowser)return;const xe=Xe.rootNode,Oe=this._rootNodeFocusListenerCount.get(xe)||0;Oe||this._ngZone.runOutsideAngular(()=>{xe.addEventListener("focus",this._rootNodeFocusAndBlurListener,At),xe.addEventListener("blur",this._rootNodeFocusAndBlurListener,At)}),this._rootNodeFocusListenerCount.set(xe,Oe+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,V.R)(this._stopInputModalityDetector)).subscribe(We=>{this._setOrigin(We,!0)}))}_removeGlobalListeners(Xe){const xe=Xe.rootNode;if(this._rootNodeFocusListenerCount.has(xe)){const Oe=this._rootNodeFocusListenerCount.get(xe);Oe>1?this._rootNodeFocusListenerCount.set(xe,Oe-1):(xe.removeEventListener("focus",this._rootNodeFocusAndBlurListener,At),xe.removeEventListener("blur",this._rootNodeFocusAndBlurListener,At),this._rootNodeFocusListenerCount.delete(xe))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Xe,xe,Oe){this._setClasses(Xe,xe),this._emitOrigin(Oe,xe),this._lastFocusOrigin=xe}_getClosestElementsInfo(Xe){const xe=[];return this._elementInfo.forEach((Oe,We)=>{(We===Xe||Oe.checkChildren&&We.contains(Xe))&&xe.push([We,Oe])}),xe}_isLastInteractionFromInputLabel(Xe){const{_mostRecentTarget:xe,mostRecentModality:Oe}=this._inputModalityDetector;if("mouse"!==Oe||!xe||xe===Xe||"INPUT"!==Xe.nodeName&&"TEXTAREA"!==Xe.nodeName||Xe.disabled)return!1;const We=Xe.labels;if(We)for(let $e=0;$e<We.length;$e++)if(We[$e].contains(xe))return!0;return!1}static#e=this.\u0275fac=function(xe){return new(xe||xt)(t.LFG(t.R0b),t.LFG(b.t4),t.LFG(Me),t.LFG(c.K0,8),t.LFG(Bt,8))};static#t=this.\u0275prov=t.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})(),Qt=(()=>{class xt{constructor(Xe,xe){this._elementRef=Xe,this._focusMonitor=xe,this._focusOrigin=null,this.cdkFocusChange=new t.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const Xe=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Xe,1===Xe.nodeType&&Xe.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(xe=>{this._focusOrigin=xe,this.cdkFocusChange.emit(xe)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(xe){return new(xe||xt)(t.Y36(t.SBq),t.Y36(jt))};static#t=this.\u0275dir=t.lG2({type:xt,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return xt})();const cn="cdk-high-contrast-black-on-white",dn="cdk-high-contrast-white-on-black",Gt="cdk-high-contrast-active";let Cn=(()=>{class xt{constructor(Xe,xe){this._platform=Xe,this._document=xe,this._breakpointSubscription=(0,t.f3M)(x.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Xe=this._document.createElement("div");Xe.style.backgroundColor="rgb(1,2,3)",Xe.style.position="absolute",this._document.body.appendChild(Xe);const xe=this._document.defaultView||window,Oe=xe&&xe.getComputedStyle?xe.getComputedStyle(Xe):null,We=(Oe&&Oe.backgroundColor||"").replace(/ /g,"");switch(Xe.remove(),We){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Xe=this._document.body.classList;Xe.remove(Gt,cn,dn),this._hasCheckedHighContrastMode=!0;const xe=this.getHighContrastMode();1===xe?Xe.add(Gt,cn):2===xe&&Xe.add(Gt,dn)}}static#e=this.\u0275fac=function(xe){return new(xe||xt)(t.LFG(b.t4),t.LFG(c.K0))};static#t=this.\u0275prov=t.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})(),en=(()=>{class xt{constructor(Xe){Xe._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(xe){return new(xe||xt)(t.LFG(Cn))};static#t=this.\u0275mod=t.oAB({type:xt});static#n=this.\u0275inj=t.cJS({imports:[P.Q8]})}return xt})()},9388:(jn,nt,S)=>{"use strict";S.d(nt,{Is:()=>L,vT:()=>p});var c=S(5879),t=S(6814);const b=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function w(){return(0,c.f3M)(t.K0)}}),E=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let L=(()=>{class f{constructor(y){this.value="ltr",this.change=new c.vpe,y&&(this.value=function F(f){const g=f?.toLowerCase()||"";return"auto"===g&&typeof navigator<"u"&&navigator?.language?E.test(navigator.language)?"rtl":"ltr":"rtl"===g?"rtl":"ltr"}((y.body?y.body.dir:null)||(y.documentElement?y.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(M){return new(M||f)(c.LFG(b,8))};static#t=this.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})(),p=(()=>{class f{static#e=this.\u0275fac=function(M){return new(M||f)};static#t=this.\u0275mod=c.oAB({type:f});static#n=this.\u0275inj=c.cJS({})}return f})()},2495:(jn,nt,S)=>{"use strict";S.d(nt,{Eq:()=>E,HM:()=>F,Ig:()=>t,du:()=>D,fI:()=>L,su:()=>b,t6:()=>w});var c=S(5879);function t(p){return null!=p&&"false"!=`${p}`}function b(p,f=0){return w(p)?Number(p):f}function w(p){return!isNaN(parseFloat(p))&&!isNaN(Number(p))}function E(p){return Array.isArray(p)?p:[p]}function F(p){return null==p?"":"string"==typeof p?p:`${p}px`}function L(p){return p instanceof c.SBq?p.nativeElement:p}function D(p,f=/\s+/){const g=[];if(null!=p){const y=Array.isArray(p)?p:`${p}`.split(f);for(const M of y){const U=`${M}`.trim();U&&g.push(U)}}return g}},8337:(jn,nt,S)=>{"use strict";S.d(nt,{Ov:()=>p,Z9:()=>E,eX:()=>D,k:()=>y,o2:()=>w,yy:()=>L});var c=S(3168),t=S(8645),b=S(5879);class w{}function E(M){return M&&"function"==typeof M.connect&&!(M instanceof c.c)}class L{applyChanges(U,R,V,k,P){U.forEachOperation((x,O,T)=>{let N,C;if(null==x.previousIndex){const B=V(x,O,T);N=R.createEmbeddedView(B.templateRef,B.context,B.index),C=1}else null==T?(R.remove(O),C=3):(N=R.get(O),R.move(N,T),C=2);P&&P({context:N?.context,operation:C,record:x})})}detach(){}}class D{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(U,R,V,k,P){U.forEachOperation((x,O,T)=>{let N,C;null==x.previousIndex?(N=this._insertView(()=>V(x,O,T),T,R,k(x)),C=N?1:0):null==T?(this._detachAndCacheView(O,R),C=3):(N=this._moveView(O,T,R,k(x)),C=2),P&&P({context:N?.context,operation:C,record:x})})}detach(){for(const U of this._viewCache)U.destroy();this._viewCache=[]}_insertView(U,R,V,k){const P=this._insertViewFromCache(R,V);if(P)return void(P.context.$implicit=k);const x=U();return V.createEmbeddedView(x.templateRef,x.context,x.index)}_detachAndCacheView(U,R){const V=R.detach(U);this._maybeCacheView(V,R)}_moveView(U,R,V,k){const P=V.get(U);return V.move(P,R),P.context.$implicit=k,P}_maybeCacheView(U,R){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(U);else{const V=R.indexOf(U);-1===V?U.destroy():R.remove(V)}}_insertViewFromCache(U,R){const V=this._viewCache.pop();return V&&R.insert(V,U),V||null}}class p{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(U=!1,R,V=!0,k){this._multiple=U,this._emitChanges=V,this.compareWith=k,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new t.x,R&&R.length&&(U?R.forEach(P=>this._markSelected(P)):this._markSelected(R[0]),this._selectedToEmit.length=0)}select(...U){this._verifyValueAssignment(U),U.forEach(V=>this._markSelected(V));const R=this._hasQueuedChanges();return this._emitChangeEvent(),R}deselect(...U){this._verifyValueAssignment(U),U.forEach(V=>this._unmarkSelected(V));const R=this._hasQueuedChanges();return this._emitChangeEvent(),R}setSelection(...U){this._verifyValueAssignment(U);const R=this.selected,V=new Set(U);U.forEach(P=>this._markSelected(P)),R.filter(P=>!V.has(P)).forEach(P=>this._unmarkSelected(P));const k=this._hasQueuedChanges();return this._emitChangeEvent(),k}toggle(U){return this.isSelected(U)?this.deselect(U):this.select(U)}clear(U=!0){this._unmarkAll();const R=this._hasQueuedChanges();return U&&this._emitChangeEvent(),R}isSelected(U){return this._selection.has(this._getConcreteValue(U))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(U){this._multiple&&this.selected&&this._selected.sort(U)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(U){U=this._getConcreteValue(U),this.isSelected(U)||(this._multiple||this._unmarkAll(),this.isSelected(U)||this._selection.add(U),this._emitChanges&&this._selectedToEmit.push(U))}_unmarkSelected(U){U=this._getConcreteValue(U),this.isSelected(U)&&(this._selection.delete(U),this._emitChanges&&this._deselectedToEmit.push(U))}_unmarkAll(){this.isEmpty()||this._selection.forEach(U=>this._unmarkSelected(U))}_verifyValueAssignment(U){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(U){if(this.compareWith){for(let R of this._selection)if(this.compareWith(U,R))return R;return U}return U}}const y=new b.OlP("_ViewRepeater")},6028:(jn,nt,S)=>{"use strict";S.d(nt,{A:()=>Ie,JH:()=>O,JU:()=>F,K5:()=>E,Ku:()=>M,LH:()=>P,L_:()=>y,MW:()=>at,Mf:()=>b,SV:()=>x,Sd:()=>V,VM:()=>U,Vb:()=>gt,Z:()=>Ge,aO:()=>me,b2:()=>vt,hY:()=>g,jx:()=>L,oh:()=>k,uR:()=>R,xE:()=>Y,zL:()=>D});const b=9,E=13,F=16,L=17,D=18,g=27,y=32,M=33,U=34,R=35,V=36,k=37,P=38,x=39,O=40,Y=48,me=57,Ie=65,Ge=90,at=91,vt=224;function gt(Nt,...on){return on.length?on.some(ti=>Nt[ti]):Nt.altKey||Nt.shiftKey||Nt.ctrlKey||Nt.metaKey}},1088:(jn,nt,S)=>{"use strict";S.d(nt,{Yg:()=>O,u3:()=>N});var c=S(5879),t=S(2495),b=S(8645),w=S(2572),E=S(5211),F=S(5592),L=S(8180),D=S(836),p=S(3620),f=S(7398),g=S(7921),y=S(9773),M=S(2831);const R=new Set;let V,k=(()=>{class C{constructor(Y,J){this._platform=Y,this._nonce=J,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):x}matchMedia(Y){return(this._platform.WEBKIT||this._platform.BLINK)&&function P(C,B){if(!R.has(C))try{V||(V=document.createElement("style"),B&&(V.nonce=B),V.setAttribute("type","text/css"),document.head.appendChild(V)),V.sheet&&(V.sheet.insertRule(`@media ${C} {body{ }}`,0),R.add(C))}catch(Y){console.error(Y)}}(Y,this._nonce),this._matchMedia(Y)}static#e=this.\u0275fac=function(J){return new(J||C)(c.LFG(M.t4),c.LFG(c.Ojb,8))};static#t=this.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function x(C){return{matches:"all"===C||""===C,media:C,addListener:()=>{},removeListener:()=>{}}}let O=(()=>{class C{constructor(Y,J){this._mediaMatcher=Y,this._zone=J,this._queries=new Map,this._destroySubject=new b.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Y){return T((0,t.Eq)(Y)).some(ce=>this._registerQuery(ce).mql.matches)}observe(Y){const ce=T((0,t.Eq)(Y)).map(q=>this._registerQuery(q).observable);let Fe=(0,w.a)(ce);return Fe=(0,E.z)(Fe.pipe((0,L.q)(1)),Fe.pipe((0,D.T)(1),(0,p.b)(0))),Fe.pipe((0,f.U)(q=>{const le={matches:!1,breakpoints:{}};return q.forEach(({matches:K,query:_e})=>{le.matches=le.matches||K,le.breakpoints[_e]=K}),le}))}_registerQuery(Y){if(this._queries.has(Y))return this._queries.get(Y);const J=this._mediaMatcher.matchMedia(Y),Fe={observable:new F.y(q=>{const le=K=>this._zone.run(()=>q.next(K));return J.addListener(le),()=>{J.removeListener(le)}}).pipe((0,g.O)(J),(0,f.U)(({matches:q})=>({query:Y,matches:q})),(0,y.R)(this._destroySubject)),mql:J};return this._queries.set(Y,Fe),Fe}static#e=this.\u0275fac=function(J){return new(J||C)(c.LFG(k),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function T(C){return C.map(B=>B.split(",")).reduce((B,Y)=>B.concat(Y)).map(B=>B.trim())}const N={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7131:(jn,nt,S)=>{"use strict";S.d(nt,{Q8:()=>E});var c=S(5879);let t=(()=>{class F{create(D){return typeof MutationObserver>"u"?null:new MutationObserver(D)}static#e=this.\u0275fac=function(p){return new(p||F)};static#t=this.\u0275prov=c.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),E=(()=>{class F{static#e=this.\u0275fac=function(p){return new(p||F)};static#t=this.\u0275mod=c.oAB({type:F});static#n=this.\u0275inj=c.cJS({providers:[t]})}return F})()},3651:(jn,nt,S)=>{"use strict";S.d(nt,{pI:()=>$,xu:()=>X,_G:()=>ge,aV:()=>ae,X_:()=>ce,Xj:()=>Le,U8:()=>te,Iu:()=>he});var c=S(799),t=S(6814),b=S(5879),w=S(2495),E=S(2831),F=S(2181),L=S(8180),D=S(9773),p=S(9360),f=S(8251),y=S(9388),M=S(8484),U=S(8645),R=S(7394),V=S(3019),k=S(6028);const P=(0,E.Mq)();class x{constructor(ye,ue){this._viewportRuler=ye,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=ue}attach(){}enable(){if(this._canBeEnabled()){const ye=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ye.style.left||"",this._previousHTMLStyles.top=ye.style.top||"",ye.style.left=(0,w.HM)(-this._previousScrollPosition.left),ye.style.top=(0,w.HM)(-this._previousScrollPosition.top),ye.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ye=this._document.documentElement,Me=ye.style,Ye=this._document.body.style,Ge=Me.scrollBehavior||"",at=Ye.scrollBehavior||"";this._isEnabled=!1,Me.left=this._previousHTMLStyles.left,Me.top=this._previousHTMLStyles.top,ye.classList.remove("cdk-global-scrollblock"),P&&(Me.scrollBehavior=Ye.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),P&&(Me.scrollBehavior=Ge,Ye.scrollBehavior=at)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const ue=this._document.body,Me=this._viewportRuler.getViewportSize();return ue.scrollHeight>Me.height||ue.scrollWidth>Me.width}}class T{constructor(ye,ue,Me,Ye){this._scrollDispatcher=ye,this._ngZone=ue,this._viewportRuler=Me,this._config=Ye,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ye){this._overlayRef=ye}enable(){if(this._scrollSubscription)return;const ye=this._scrollDispatcher.scrolled(0).pipe((0,F.h)(ue=>!ue||!this._overlayRef.overlayElement.contains(ue.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ye.subscribe(()=>{const ue=this._viewportRuler.getViewportScrollPosition().top;Math.abs(ue-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ye.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class N{enable(){}disable(){}attach(){}}function C(fe,ye){return ye.some(ue=>fe.bottom<ue.top||fe.top>ue.bottom||fe.right<ue.left||fe.left>ue.right)}function B(fe,ye){return ye.some(ue=>fe.top<ue.top||fe.bottom>ue.bottom||fe.left<ue.left||fe.right>ue.right)}class Y{constructor(ye,ue,Me,Ye){this._scrollDispatcher=ye,this._viewportRuler=ue,this._ngZone=Me,this._config=Ye,this._scrollSubscription=null}attach(ye){this._overlayRef=ye}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const ue=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Me,height:Ye}=this._viewportRuler.getViewportSize();C(ue,[{width:Me,height:Ye,bottom:Ye,right:Me,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let J=(()=>{class fe{constructor(ue,Me,Ye,Ge){this._scrollDispatcher=ue,this._viewportRuler=Me,this._ngZone=Ye,this.noop=()=>new N,this.close=at=>new T(this._scrollDispatcher,this._ngZone,this._viewportRuler,at),this.block=()=>new x(this._viewportRuler,this._document),this.reposition=at=>new Y(this._scrollDispatcher,this._viewportRuler,this._ngZone,at),this._document=Ge}static#e=this.\u0275fac=function(Me){return new(Me||fe)(b.LFG(c.mF),b.LFG(c.rL),b.LFG(b.R0b),b.LFG(t.K0))};static#t=this.\u0275prov=b.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})();class ce{constructor(ye){if(this.scrollStrategy=new N,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ye){const ue=Object.keys(ye);for(const Me of ue)void 0!==ye[Me]&&(this[Me]=ye[Me])}}}class le{constructor(ye,ue){this.connectionPair=ye,this.scrollableViewProperties=ue}}let se=(()=>{class fe{constructor(ue){this._attachedOverlays=[],this._document=ue}ngOnDestroy(){this.detach()}add(ue){this.remove(ue),this._attachedOverlays.push(ue)}remove(ue){const Me=this._attachedOverlays.indexOf(ue);Me>-1&&this._attachedOverlays.splice(Me,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(Me){return new(Me||fe)(b.LFG(t.K0))};static#t=this.\u0275prov=b.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})(),me=(()=>{class fe extends se{constructor(ue,Me){super(ue),this._ngZone=Me,this._keydownListener=Ye=>{const Ge=this._attachedOverlays;for(let at=Ge.length-1;at>-1;at--)if(Ge[at]._keydownEvents.observers.length>0){const ct=Ge[at]._keydownEvents;this._ngZone?this._ngZone.run(()=>ct.next(Ye)):ct.next(Ye);break}}}add(ue){super.add(ue),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(Me){return new(Me||fe)(b.LFG(t.K0),b.LFG(b.R0b,8))};static#t=this.\u0275prov=b.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})(),De=(()=>{class fe extends se{constructor(ue,Me,Ye){super(ue),this._platform=Me,this._ngZone=Ye,this._cursorStyleIsSet=!1,this._pointerDownListener=Ge=>{this._pointerDownEventTarget=(0,E.sA)(Ge)},this._clickListener=Ge=>{const at=(0,E.sA)(Ge),ct="click"===Ge.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:at;this._pointerDownEventTarget=null;const rt=this._attachedOverlays.slice();for(let _t=rt.length-1;_t>-1;_t--){const Bt=rt[_t];if(Bt._outsidePointerEvents.observers.length<1||!Bt.hasAttached())continue;if(Bt.overlayElement.contains(at)||Bt.overlayElement.contains(ct))break;const At=Bt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>At.next(Ge)):At.next(Ge)}}}add(ue){if(super.add(ue),!this._isAttached){const Me=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Me)):this._addEventListeners(Me),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Me.style.cursor,Me.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const ue=this._document.body;ue.removeEventListener("pointerdown",this._pointerDownListener,!0),ue.removeEventListener("click",this._clickListener,!0),ue.removeEventListener("auxclick",this._clickListener,!0),ue.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(ue.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(ue){ue.addEventListener("pointerdown",this._pointerDownListener,!0),ue.addEventListener("click",this._clickListener,!0),ue.addEventListener("auxclick",this._clickListener,!0),ue.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(Me){return new(Me||fe)(b.LFG(t.K0),b.LFG(E.t4),b.LFG(b.R0b,8))};static#t=this.\u0275prov=b.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})(),Le=(()=>{class fe{constructor(ue,Me){this._platform=Me,this._document=ue}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ue="cdk-overlay-container";if(this._platform.isBrowser||(0,E.Oy)()){const Ye=this._document.querySelectorAll(`.${ue}[platform="server"], .${ue}[platform="test"]`);for(let Ge=0;Ge<Ye.length;Ge++)Ye[Ge].remove()}const Me=this._document.createElement("div");Me.classList.add(ue),(0,E.Oy)()?Me.setAttribute("platform","test"):this._platform.isBrowser||Me.setAttribute("platform","server"),this._document.body.appendChild(Me),this._containerElement=Me}static#e=this.\u0275fac=function(Me){return new(Me||fe)(b.LFG(t.K0),b.LFG(E.t4))};static#t=this.\u0275prov=b.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})();class he{constructor(ye,ue,Me,Ye,Ge,at,ct,rt,_t,Bt=!1){this._portalOutlet=ye,this._host=ue,this._pane=Me,this._config=Ye,this._ngZone=Ge,this._keyboardDispatcher=at,this._document=ct,this._location=rt,this._outsideClickDispatcher=_t,this._animationsDisabled=Bt,this._backdropElement=null,this._backdropClick=new U.x,this._attachments=new U.x,this._detachments=new U.x,this._locationChanges=R.w0.EMPTY,this._backdropClickHandler=At=>this._backdropClick.next(At),this._backdropTransitionendHandler=At=>{this._disposeBackdrop(At.target)},this._keydownEvents=new U.x,this._outsidePointerEvents=new U.x,Ye.scrollStrategy&&(this._scrollStrategy=Ye.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Ye.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ye){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const ue=this._portalOutlet.attach(ye);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,L.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof ue?.onDestroy&&ue.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),ue}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ye=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ye}dispose(){const ye=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ye&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ye){ye!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ye,this.hasAttached()&&(ye.attach(this),this.updatePosition()))}updateSize(ye){this._config={...this._config,...ye},this._updateElementSize()}setDirection(ye){this._config={...this._config,direction:ye},this._updateElementDirection()}addPanelClass(ye){this._pane&&this._toggleClasses(this._pane,ye,!0)}removePanelClass(ye){this._pane&&this._toggleClasses(this._pane,ye,!1)}getDirection(){const ye=this._config.direction;return ye?"string"==typeof ye?ye:ye.value:"ltr"}updateScrollStrategy(ye){ye!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ye,this.hasAttached()&&(ye.attach(this),ye.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ye=this._pane.style;ye.width=(0,w.HM)(this._config.width),ye.height=(0,w.HM)(this._config.height),ye.minWidth=(0,w.HM)(this._config.minWidth),ye.minHeight=(0,w.HM)(this._config.minHeight),ye.maxWidth=(0,w.HM)(this._config.maxWidth),ye.maxHeight=(0,w.HM)(this._config.maxHeight)}_togglePointerEvents(ye){this._pane.style.pointerEvents=ye?"":"none"}_attachBackdrop(){const ye="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ye)})}):this._backdropElement.classList.add(ye)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ye=this._backdropElement;if(ye){if(this._animationsDisabled)return void this._disposeBackdrop(ye);ye.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ye.addEventListener("transitionend",this._backdropTransitionendHandler)}),ye.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ye)},500))}}_toggleClasses(ye,ue,Me){const Ye=(0,w.Eq)(ue||[]).filter(Ge=>!!Ge);Ye.length&&(Me?ye.classList.add(...Ye):ye.classList.remove(...Ye))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ye=this._ngZone.onStable.pipe((0,D.R)((0,V.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ye.unsubscribe())})})}_disposeScrollStrategy(){const ye=this._scrollStrategy;ye&&(ye.disable(),ye.detach&&ye.detach())}_disposeBackdrop(ye){ye&&(ye.removeEventListener("click",this._backdropClickHandler),ye.removeEventListener("transitionend",this._backdropTransitionendHandler),ye.remove(),this._backdropElement===ye&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Re="cdk-overlay-connected-position-bounding-box",Ie=/([A-Za-z%]+)$/;class ge{get positions(){return this._preferredPositions}constructor(ye,ue,Me,Ye,Ge){this._viewportRuler=ue,this._document=Me,this._platform=Ye,this._overlayContainer=Ge,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new U.x,this._resizeSubscription=R.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ye)}attach(ye){this._validatePositions(),ye.hostElement.classList.add(Re),this._overlayRef=ye,this._boundingBox=ye.hostElement,this._pane=ye.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ye=this._originRect,ue=this._overlayRect,Me=this._viewportRect,Ye=this._containerRect,Ge=[];let at;for(let ct of this._preferredPositions){let rt=this._getOriginPoint(ye,Ye,ct),_t=this._getOverlayPoint(rt,ue,ct),Bt=this._getOverlayFit(_t,ue,Me,ct);if(Bt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ct,rt);this._canFitWithFlexibleDimensions(Bt,_t,Me)?Ge.push({position:ct,origin:rt,overlayRect:ue,boundingBoxRect:this._calculateBoundingBoxRect(rt,ct)}):(!at||at.overlayFit.visibleArea<Bt.visibleArea)&&(at={overlayFit:Bt,overlayPoint:_t,originPoint:rt,position:ct,overlayRect:ue})}if(Ge.length){let ct=null,rt=-1;for(const _t of Ge){const Bt=_t.boundingBoxRect.width*_t.boundingBoxRect.height*(_t.position.weight||1);Bt>rt&&(rt=Bt,ct=_t)}return this._isPushed=!1,void this._applyPosition(ct.position,ct.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(at.position,at.originPoint);this._applyPosition(at.position,at.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ue(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Re),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ye=this._lastPosition;if(ye){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ue=this._getOriginPoint(this._originRect,this._containerRect,ye);this._applyPosition(ye,ue)}else this.apply()}withScrollableContainers(ye){return this._scrollables=ye,this}withPositions(ye){return this._preferredPositions=ye,-1===ye.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ye){return this._viewportMargin=ye,this}withFlexibleDimensions(ye=!0){return this._hasFlexibleDimensions=ye,this}withGrowAfterOpen(ye=!0){return this._growAfterOpen=ye,this}withPush(ye=!0){return this._canPush=ye,this}withLockedPosition(ye=!0){return this._positionLocked=ye,this}setOrigin(ye){return this._origin=ye,this}withDefaultOffsetX(ye){return this._offsetX=ye,this}withDefaultOffsetY(ye){return this._offsetY=ye,this}withTransformOriginOn(ye){return this._transformOriginSelector=ye,this}_getOriginPoint(ye,ue,Me){let Ye,Ge;if("center"==Me.originX)Ye=ye.left+ye.width/2;else{const at=this._isRtl()?ye.right:ye.left,ct=this._isRtl()?ye.left:ye.right;Ye="start"==Me.originX?at:ct}return ue.left<0&&(Ye-=ue.left),Ge="center"==Me.originY?ye.top+ye.height/2:"top"==Me.originY?ye.top:ye.bottom,ue.top<0&&(Ge-=ue.top),{x:Ye,y:Ge}}_getOverlayPoint(ye,ue,Me){let Ye,Ge;return Ye="center"==Me.overlayX?-ue.width/2:"start"===Me.overlayX?this._isRtl()?-ue.width:0:this._isRtl()?0:-ue.width,Ge="center"==Me.overlayY?-ue.height/2:"top"==Me.overlayY?0:-ue.height,{x:ye.x+Ye,y:ye.y+Ge}}_getOverlayFit(ye,ue,Me,Ye){const Ge=we(ue);let{x:at,y:ct}=ye,rt=this._getOffset(Ye,"x"),_t=this._getOffset(Ye,"y");rt&&(at+=rt),_t&&(ct+=_t);let jt=0-ct,Qt=ct+Ge.height-Me.height,cn=this._subtractOverflows(Ge.width,0-at,at+Ge.width-Me.width),dn=this._subtractOverflows(Ge.height,jt,Qt),Gt=cn*dn;return{visibleArea:Gt,isCompletelyWithinViewport:Ge.width*Ge.height===Gt,fitsInViewportVertically:dn===Ge.height,fitsInViewportHorizontally:cn==Ge.width}}_canFitWithFlexibleDimensions(ye,ue,Me){if(this._hasFlexibleDimensions){const Ye=Me.bottom-ue.y,Ge=Me.right-ue.x,at=ke(this._overlayRef.getConfig().minHeight),ct=ke(this._overlayRef.getConfig().minWidth);return(ye.fitsInViewportVertically||null!=at&&at<=Ye)&&(ye.fitsInViewportHorizontally||null!=ct&&ct<=Ge)}return!1}_pushOverlayOnScreen(ye,ue,Me){if(this._previousPushAmount&&this._positionLocked)return{x:ye.x+this._previousPushAmount.x,y:ye.y+this._previousPushAmount.y};const Ye=we(ue),Ge=this._viewportRect,at=Math.max(ye.x+Ye.width-Ge.width,0),ct=Math.max(ye.y+Ye.height-Ge.height,0),rt=Math.max(Ge.top-Me.top-ye.y,0),_t=Math.max(Ge.left-Me.left-ye.x,0);let Bt=0,At=0;return Bt=Ye.width<=Ge.width?_t||-at:ye.x<this._viewportMargin?Ge.left-Me.left-ye.x:0,At=Ye.height<=Ge.height?rt||-ct:ye.y<this._viewportMargin?Ge.top-Me.top-ye.y:0,this._previousPushAmount={x:Bt,y:At},{x:ye.x+Bt,y:ye.y+At}}_applyPosition(ye,ue){if(this._setTransformOrigin(ye),this._setOverlayElementStyles(ue,ye),this._setBoundingBoxStyles(ue,ye),ye.panelClass&&this._addPanelClasses(ye.panelClass),this._lastPosition=ye,this._positionChanges.observers.length){const Me=this._getScrollVisibility(),Ye=new le(ye,Me);this._positionChanges.next(Ye)}this._isInitialRender=!1}_setTransformOrigin(ye){if(!this._transformOriginSelector)return;const ue=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Me,Ye=ye.overlayY;Me="center"===ye.overlayX?"center":this._isRtl()?"start"===ye.overlayX?"right":"left":"start"===ye.overlayX?"left":"right";for(let Ge=0;Ge<ue.length;Ge++)ue[Ge].style.transformOrigin=`${Me} ${Ye}`}_calculateBoundingBoxRect(ye,ue){const Me=this._viewportRect,Ye=this._isRtl();let Ge,at,ct,Bt,At,jt;if("top"===ue.overlayY)at=ye.y,Ge=Me.height-at+this._viewportMargin;else if("bottom"===ue.overlayY)ct=Me.height-ye.y+2*this._viewportMargin,Ge=Me.height-ct+this._viewportMargin;else{const Qt=Math.min(Me.bottom-ye.y+Me.top,ye.y),cn=this._lastBoundingBoxSize.height;Ge=2*Qt,at=ye.y-Qt,Ge>cn&&!this._isInitialRender&&!this._growAfterOpen&&(at=ye.y-cn/2)}if("end"===ue.overlayX&&!Ye||"start"===ue.overlayX&&Ye)jt=Me.width-ye.x+this._viewportMargin,Bt=ye.x-this._viewportMargin;else if("start"===ue.overlayX&&!Ye||"end"===ue.overlayX&&Ye)At=ye.x,Bt=Me.right-ye.x;else{const Qt=Math.min(Me.right-ye.x+Me.left,ye.x),cn=this._lastBoundingBoxSize.width;Bt=2*Qt,At=ye.x-Qt,Bt>cn&&!this._isInitialRender&&!this._growAfterOpen&&(At=ye.x-cn/2)}return{top:at,left:At,bottom:ct,right:jt,width:Bt,height:Ge}}_setBoundingBoxStyles(ye,ue){const Me=this._calculateBoundingBoxRect(ye,ue);!this._isInitialRender&&!this._growAfterOpen&&(Me.height=Math.min(Me.height,this._lastBoundingBoxSize.height),Me.width=Math.min(Me.width,this._lastBoundingBoxSize.width));const Ye={};if(this._hasExactPosition())Ye.top=Ye.left="0",Ye.bottom=Ye.right=Ye.maxHeight=Ye.maxWidth="",Ye.width=Ye.height="100%";else{const Ge=this._overlayRef.getConfig().maxHeight,at=this._overlayRef.getConfig().maxWidth;Ye.height=(0,w.HM)(Me.height),Ye.top=(0,w.HM)(Me.top),Ye.bottom=(0,w.HM)(Me.bottom),Ye.width=(0,w.HM)(Me.width),Ye.left=(0,w.HM)(Me.left),Ye.right=(0,w.HM)(Me.right),Ye.alignItems="center"===ue.overlayX?"center":"end"===ue.overlayX?"flex-end":"flex-start",Ye.justifyContent="center"===ue.overlayY?"center":"bottom"===ue.overlayY?"flex-end":"flex-start",Ge&&(Ye.maxHeight=(0,w.HM)(Ge)),at&&(Ye.maxWidth=(0,w.HM)(at))}this._lastBoundingBoxSize=Me,Ue(this._boundingBox.style,Ye)}_resetBoundingBoxStyles(){Ue(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ue(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ye,ue){const Me={},Ye=this._hasExactPosition(),Ge=this._hasFlexibleDimensions,at=this._overlayRef.getConfig();if(Ye){const Bt=this._viewportRuler.getViewportScrollPosition();Ue(Me,this._getExactOverlayY(ue,ye,Bt)),Ue(Me,this._getExactOverlayX(ue,ye,Bt))}else Me.position="static";let ct="",rt=this._getOffset(ue,"x"),_t=this._getOffset(ue,"y");rt&&(ct+=`translateX(${rt}px) `),_t&&(ct+=`translateY(${_t}px)`),Me.transform=ct.trim(),at.maxHeight&&(Ye?Me.maxHeight=(0,w.HM)(at.maxHeight):Ge&&(Me.maxHeight="")),at.maxWidth&&(Ye?Me.maxWidth=(0,w.HM)(at.maxWidth):Ge&&(Me.maxWidth="")),Ue(this._pane.style,Me)}_getExactOverlayY(ye,ue,Me){let Ye={top:"",bottom:""},Ge=this._getOverlayPoint(ue,this._overlayRect,ye);return this._isPushed&&(Ge=this._pushOverlayOnScreen(Ge,this._overlayRect,Me)),"bottom"===ye.overlayY?Ye.bottom=this._document.documentElement.clientHeight-(Ge.y+this._overlayRect.height)+"px":Ye.top=(0,w.HM)(Ge.y),Ye}_getExactOverlayX(ye,ue,Me){let at,Ye={left:"",right:""},Ge=this._getOverlayPoint(ue,this._overlayRect,ye);return this._isPushed&&(Ge=this._pushOverlayOnScreen(Ge,this._overlayRect,Me)),at=this._isRtl()?"end"===ye.overlayX?"left":"right":"end"===ye.overlayX?"right":"left","right"===at?Ye.right=this._document.documentElement.clientWidth-(Ge.x+this._overlayRect.width)+"px":Ye.left=(0,w.HM)(Ge.x),Ye}_getScrollVisibility(){const ye=this._getOriginRect(),ue=this._pane.getBoundingClientRect(),Me=this._scrollables.map(Ye=>Ye.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:B(ye,Me),isOriginOutsideView:C(ye,Me),isOverlayClipped:B(ue,Me),isOverlayOutsideView:C(ue,Me)}}_subtractOverflows(ye,...ue){return ue.reduce((Me,Ye)=>Me-Math.max(Ye,0),ye)}_getNarrowedViewportRect(){const ye=this._document.documentElement.clientWidth,ue=this._document.documentElement.clientHeight,Me=this._viewportRuler.getViewportScrollPosition();return{top:Me.top+this._viewportMargin,left:Me.left+this._viewportMargin,right:Me.left+ye-this._viewportMargin,bottom:Me.top+ue-this._viewportMargin,width:ye-2*this._viewportMargin,height:ue-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ye,ue){return"x"===ue?null==ye.offsetX?this._offsetX:ye.offsetX:null==ye.offsetY?this._offsetY:ye.offsetY}_validatePositions(){}_addPanelClasses(ye){this._pane&&(0,w.Eq)(ye).forEach(ue=>{""!==ue&&-1===this._appliedPanelClasses.indexOf(ue)&&(this._appliedPanelClasses.push(ue),this._pane.classList.add(ue))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ye=>{this._pane.classList.remove(ye)}),this._appliedPanelClasses=[])}_getOriginRect(){const ye=this._origin;if(ye instanceof b.SBq)return ye.nativeElement.getBoundingClientRect();if(ye instanceof Element)return ye.getBoundingClientRect();const ue=ye.width||0,Me=ye.height||0;return{top:ye.y,bottom:ye.y+Me,left:ye.x,right:ye.x+ue,height:Me,width:ue}}}function Ue(fe,ye){for(let ue in ye)ye.hasOwnProperty(ue)&&(fe[ue]=ye[ue]);return fe}function ke(fe){if("number"!=typeof fe&&null!=fe){const[ye,ue]=fe.split(Ie);return ue&&"px"!==ue?null:parseFloat(ye)}return fe||null}function we(fe){return{top:Math.floor(fe.top),right:Math.floor(fe.right),bottom:Math.floor(fe.bottom),left:Math.floor(fe.left),width:Math.floor(fe.width),height:Math.floor(fe.height)}}const Qe="cdk-global-overlay-wrapper";class Ne{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ye){const ue=ye.getConfig();this._overlayRef=ye,this._width&&!ue.width&&ye.updateSize({width:this._width}),this._height&&!ue.height&&ye.updateSize({height:this._height}),ye.hostElement.classList.add(Qe),this._isDisposed=!1}top(ye=""){return this._bottomOffset="",this._topOffset=ye,this._alignItems="flex-start",this}left(ye=""){return this._xOffset=ye,this._xPosition="left",this}bottom(ye=""){return this._topOffset="",this._bottomOffset=ye,this._alignItems="flex-end",this}right(ye=""){return this._xOffset=ye,this._xPosition="right",this}start(ye=""){return this._xOffset=ye,this._xPosition="start",this}end(ye=""){return this._xOffset=ye,this._xPosition="end",this}width(ye=""){return this._overlayRef?this._overlayRef.updateSize({width:ye}):this._width=ye,this}height(ye=""){return this._overlayRef?this._overlayRef.updateSize({height:ye}):this._height=ye,this}centerHorizontally(ye=""){return this.left(ye),this._xPosition="center",this}centerVertically(ye=""){return this.top(ye),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ye=this._overlayRef.overlayElement.style,ue=this._overlayRef.hostElement.style,Me=this._overlayRef.getConfig(),{width:Ye,height:Ge,maxWidth:at,maxHeight:ct}=Me,rt=!("100%"!==Ye&&"100vw"!==Ye||at&&"100%"!==at&&"100vw"!==at),_t=!("100%"!==Ge&&"100vh"!==Ge||ct&&"100%"!==ct&&"100vh"!==ct),Bt=this._xPosition,At=this._xOffset,jt="rtl"===this._overlayRef.getConfig().direction;let Qt="",cn="",dn="";rt?dn="flex-start":"center"===Bt?(dn="center",jt?cn=At:Qt=At):jt?"left"===Bt||"end"===Bt?(dn="flex-end",Qt=At):("right"===Bt||"start"===Bt)&&(dn="flex-start",cn=At):"left"===Bt||"start"===Bt?(dn="flex-start",Qt=At):("right"===Bt||"end"===Bt)&&(dn="flex-end",cn=At),ye.position=this._cssPosition,ye.marginLeft=rt?"0":Qt,ye.marginTop=_t?"0":this._topOffset,ye.marginBottom=this._bottomOffset,ye.marginRight=rt?"0":cn,ue.justifyContent=dn,ue.alignItems=_t?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ye=this._overlayRef.overlayElement.style,ue=this._overlayRef.hostElement,Me=ue.style;ue.classList.remove(Qe),Me.justifyContent=Me.alignItems=ye.marginTop=ye.marginBottom=ye.marginLeft=ye.marginRight=ye.position="",this._overlayRef=null,this._isDisposed=!0}}let Se=(()=>{class fe{constructor(ue,Me,Ye,Ge){this._viewportRuler=ue,this._document=Me,this._platform=Ye,this._overlayContainer=Ge}global(){return new Ne}flexibleConnectedTo(ue){return new ge(ue,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(Me){return new(Me||fe)(b.LFG(c.rL),b.LFG(t.K0),b.LFG(E.t4),b.LFG(Le))};static#t=this.\u0275prov=b.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})(),W=0,ae=(()=>{class fe{constructor(ue,Me,Ye,Ge,at,ct,rt,_t,Bt,At,jt,Qt){this.scrollStrategies=ue,this._overlayContainer=Me,this._componentFactoryResolver=Ye,this._positionBuilder=Ge,this._keyboardDispatcher=at,this._injector=ct,this._ngZone=rt,this._document=_t,this._directionality=Bt,this._location=At,this._outsideClickDispatcher=jt,this._animationsModuleType=Qt}create(ue){const Me=this._createHostElement(),Ye=this._createPaneElement(Me),Ge=this._createPortalOutlet(Ye),at=new ce(ue);return at.direction=at.direction||this._directionality.value,new he(Ge,Me,Ye,at,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(ue){const Me=this._document.createElement("div");return Me.id="cdk-overlay-"+W++,Me.classList.add("cdk-overlay-pane"),ue.appendChild(Me),Me}_createHostElement(){const ue=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(ue),ue}_createPortalOutlet(ue){return this._appRef||(this._appRef=this._injector.get(b.z2F)),new M.u0(ue,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(Me){return new(Me||fe)(b.LFG(J),b.LFG(Le),b.LFG(b._Vd),b.LFG(Se),b.LFG(me),b.LFG(b.zs3),b.LFG(b.R0b),b.LFG(t.K0),b.LFG(y.Is),b.LFG(t.Ye),b.LFG(De),b.LFG(b.QbO,8))};static#t=this.\u0275prov=b.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})();const ve=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Q=new b.OlP("cdk-connected-overlay-scroll-strategy");let X=(()=>{class fe{constructor(ue){this.elementRef=ue}static#e=this.\u0275fac=function(Me){return new(Me||fe)(b.Y36(b.SBq))};static#t=this.\u0275dir=b.lG2({type:fe,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return fe})(),$=(()=>{class fe{get offsetX(){return this._offsetX}set offsetX(ue){this._offsetX=ue,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(ue){this._offsetY=ue,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(ue){this._hasBackdrop=(0,w.Ig)(ue)}get lockPosition(){return this._lockPosition}set lockPosition(ue){this._lockPosition=(0,w.Ig)(ue)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(ue){this._flexibleDimensions=(0,w.Ig)(ue)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(ue){this._growAfterOpen=(0,w.Ig)(ue)}get push(){return this._push}set push(ue){this._push=(0,w.Ig)(ue)}constructor(ue,Me,Ye,Ge,at){this._overlay=ue,this._dir=at,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=R.w0.EMPTY,this._attachSubscription=R.w0.EMPTY,this._detachSubscription=R.w0.EMPTY,this._positionSubscription=R.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new b.vpe,this.positionChange=new b.vpe,this.attach=new b.vpe,this.detach=new b.vpe,this.overlayKeydown=new b.vpe,this.overlayOutsideClick=new b.vpe,this._templatePortal=new M.UE(Me,Ye),this._scrollStrategyFactory=Ge,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(ue){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),ue.origin&&this.open&&this._position.apply()),ue.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ve);const ue=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=ue.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=ue.detachments().subscribe(()=>this.detach.emit()),ue.keydownEvents().subscribe(Me=>{this.overlayKeydown.next(Me),Me.keyCode===k.hY&&!this.disableClose&&!(0,k.Vb)(Me)&&(Me.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Me=>{this.overlayOutsideClick.next(Me)})}_buildConfig(){const ue=this._position=this.positionStrategy||this._createPositionStrategy(),Me=new ce({direction:this._dir,positionStrategy:ue,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Me.width=this.width),(this.height||0===this.height)&&(Me.height=this.height),(this.minWidth||0===this.minWidth)&&(Me.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Me.minHeight=this.minHeight),this.backdropClass&&(Me.backdropClass=this.backdropClass),this.panelClass&&(Me.panelClass=this.panelClass),Me}_updatePositionStrategy(ue){const Me=this.positions.map(Ye=>({originX:Ye.originX,originY:Ye.originY,overlayX:Ye.overlayX,overlayY:Ye.overlayY,offsetX:Ye.offsetX||this.offsetX,offsetY:Ye.offsetY||this.offsetY,panelClass:Ye.panelClass||void 0}));return ue.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Me).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const ue=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(ue),ue}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof X?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(ue=>{this.backdropClick.emit(ue)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function g(fe,ye=!1){return(0,p.e)((ue,Me)=>{let Ye=0;ue.subscribe((0,f.x)(Me,Ge=>{const at=fe(Ge,Ye++);(at||ye)&&Me.next(Ge),!at&&Me.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(ue=>{this.positionChange.emit(ue),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(Me){return new(Me||fe)(b.Y36(ae),b.Y36(b.Rgc),b.Y36(b.s_b),b.Y36(Q),b.Y36(y.Is,8))};static#t=this.\u0275dir=b.lG2({type:fe,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[b.TTD]})}return fe})();const re={provide:Q,deps:[ae],useFactory:function ie(fe){return()=>fe.scrollStrategies.reposition()}};let te=(()=>{class fe{static#e=this.\u0275fac=function(Me){return new(Me||fe)};static#t=this.\u0275mod=b.oAB({type:fe});static#n=this.\u0275inj=b.cJS({providers:[ae,re],imports:[y.vT,M.eL,c.Cl,c.Cl]})}return fe})()},2831:(jn,nt,S)=>{"use strict";S.d(nt,{Mq:()=>U,Oy:()=>T,ht:()=>x,i$:()=>g,kV:()=>P,qK:()=>D,sA:()=>O,t4:()=>w});var c=S(5879),t=S(6814);let b;try{b=typeof Intl<"u"&&Intl.v8BreakIterator}catch{b=!1}let F,w=(()=>{class N{constructor(B){this._platformId=B,this.isBrowser=this._platformId?(0,t.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!b)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Y){return new(Y||N)(c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();const L=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function D(){if(F)return F;if("object"!=typeof document||!document)return F=new Set(L),F;let N=document.createElement("input");return F=new Set(L.filter(C=>(N.setAttribute("type",C),N.type===C))),F}let p,M,V;function g(N){return function f(){if(null==p&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>p=!0}))}finally{p=p||!1}return p}()?N:!!N.capture}function U(){if(null==M){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return M=!1,M;if("scrollBehavior"in document.documentElement.style)M=!0;else{const N=Element.prototype.scrollTo;M=!!N&&!/\{\s*\[native code\]\s*\}/.test(N.toString())}}return M}function P(N){if(function k(){if(null==V){const N=typeof document<"u"?document.head:null;V=!(!N||!N.createShadowRoot&&!N.attachShadow)}return V}()){const C=N.getRootNode?N.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&C instanceof ShadowRoot)return C}return null}function x(){let N=typeof document<"u"&&document?document.activeElement:null;for(;N&&N.shadowRoot;){const C=N.shadowRoot.activeElement;if(C===N)break;N=C}return N}function O(N){return N.composedPath?N.composedPath()[0]:N.target}function T(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(jn,nt,S)=>{"use strict";S.d(nt,{C5:()=>f,Pl:()=>x,UE:()=>g,eL:()=>T,en:()=>M,u0:()=>R});var c=S(5879),t=S(6814);class p{attach(B){return this._attachedHost=B,B.attach(this)}detach(){let B=this._attachedHost;null!=B&&(this._attachedHost=null,B.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(B){this._attachedHost=B}}class f extends p{constructor(B,Y,J,ce,Fe){super(),this.component=B,this.viewContainerRef=Y,this.injector=J,this.componentFactoryResolver=ce,this.projectableNodes=Fe}}class g extends p{constructor(B,Y,J,ce){super(),this.templateRef=B,this.viewContainerRef=Y,this.context=J,this.injector=ce}get origin(){return this.templateRef.elementRef}attach(B,Y=this.context){return this.context=Y,super.attach(B)}detach(){return this.context=void 0,super.detach()}}class y extends p{constructor(B){super(),this.element=B instanceof c.SBq?B.nativeElement:B}}class M{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(B){return B instanceof f?(this._attachedPortal=B,this.attachComponentPortal(B)):B instanceof g?(this._attachedPortal=B,this.attachTemplatePortal(B)):this.attachDomPortal&&B instanceof y?(this._attachedPortal=B,this.attachDomPortal(B)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(B){this._disposeFn=B}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class R extends M{constructor(B,Y,J,ce,Fe){super(),this.outletElement=B,this._componentFactoryResolver=Y,this._appRef=J,this._defaultInjector=ce,this.attachDomPortal=q=>{const le=q.element,K=this._document.createComment("dom-portal");le.parentNode.insertBefore(K,le),this.outletElement.appendChild(le),this._attachedPortal=q,super.setDisposeFn(()=>{K.parentNode&&K.parentNode.replaceChild(le,K)})},this._document=Fe}attachComponentPortal(B){const J=(B.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(B.component);let ce;return B.viewContainerRef?(ce=B.viewContainerRef.createComponent(J,B.viewContainerRef.length,B.injector||B.viewContainerRef.injector,B.projectableNodes||void 0),this.setDisposeFn(()=>ce.destroy())):(ce=J.create(B.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(ce.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(ce.hostView),ce.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ce)),this._attachedPortal=B,ce}attachTemplatePortal(B){let Y=B.viewContainerRef,J=Y.createEmbeddedView(B.templateRef,B.context,{injector:B.injector});return J.rootNodes.forEach(ce=>this.outletElement.appendChild(ce)),J.detectChanges(),this.setDisposeFn(()=>{let ce=Y.indexOf(J);-1!==ce&&Y.remove(ce)}),this._attachedPortal=B,J}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(B){return B.hostView.rootNodes[0]}}let x=(()=>{class C extends M{constructor(Y,J,ce){super(),this._componentFactoryResolver=Y,this._viewContainerRef=J,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=Fe=>{const q=Fe.element,le=this._document.createComment("dom-portal");Fe.setAttachedHost(this),q.parentNode.insertBefore(le,q),this._getRootNode().appendChild(q),this._attachedPortal=Fe,super.setDisposeFn(()=>{le.parentNode&&le.parentNode.replaceChild(q,le)})},this._document=ce}get portal(){return this._attachedPortal}set portal(Y){this.hasAttached()&&!Y&&!this._isInitialized||(this.hasAttached()&&super.detach(),Y&&super.attach(Y),this._attachedPortal=Y||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Y){Y.setAttachedHost(this);const J=null!=Y.viewContainerRef?Y.viewContainerRef:this._viewContainerRef,Fe=(Y.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Y.component),q=J.createComponent(Fe,J.length,Y.injector||J.injector,Y.projectableNodes||void 0);return J!==this._viewContainerRef&&this._getRootNode().appendChild(q.hostView.rootNodes[0]),super.setDisposeFn(()=>q.destroy()),this._attachedPortal=Y,this._attachedRef=q,this.attached.emit(q),q}attachTemplatePortal(Y){Y.setAttachedHost(this);const J=this._viewContainerRef.createEmbeddedView(Y.templateRef,Y.context,{injector:Y.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Y,this._attachedRef=J,this.attached.emit(J),J}_getRootNode(){const Y=this._viewContainerRef.element.nativeElement;return Y.nodeType===Y.ELEMENT_NODE?Y:Y.parentNode}static#e=this.\u0275fac=function(J){return new(J||C)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(t.K0))};static#t=this.\u0275dir=c.lG2({type:C,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]})}return C})(),T=(()=>{class C{static#e=this.\u0275fac=function(J){return new(J||C)};static#t=this.\u0275mod=c.oAB({type:C});static#n=this.\u0275inj=c.cJS({})}return C})()},799:(jn,nt,S)=>{"use strict";S.d(nt,{ZD:()=>fe,mF:()=>Qe,Cl:()=>ye,rL:()=>W});var c=S(2495),t=S(5879),b=S(8645),w=S(2096),E=S(5592),F=S(2438),L=S(1954),D=S(7394);const p={schedule(ue){let Me=requestAnimationFrame,Ye=cancelAnimationFrame;const{delegate:Ge}=p;Ge&&(Me=Ge.requestAnimationFrame,Ye=Ge.cancelAnimationFrame);const at=Me(ct=>{Ye=void 0,ue(ct)});return new D.w0(()=>Ye?.(at))},requestAnimationFrame(...ue){const{delegate:Me}=p;return(Me?.requestAnimationFrame||requestAnimationFrame)(...ue)},cancelAnimationFrame(...ue){const{delegate:Me}=p;return(Me?.cancelAnimationFrame||cancelAnimationFrame)(...ue)},delegate:void 0};var g=S(2631);new class y extends g.v{flush(Me){this._active=!0;const Ye=this._scheduled;this._scheduled=void 0;const{actions:Ge}=this;let at;Me=Me||Ge.shift();do{if(at=Me.execute(Me.state,Me.delay))break}while((Me=Ge[0])&&Me.id===Ye&&Ge.shift());if(this._active=!1,at){for(;(Me=Ge[0])&&Me.id===Ye&&Ge.shift();)Me.unsubscribe();throw at}}}(class f extends L.o{constructor(Me,Ye){super(Me,Ye),this.scheduler=Me,this.work=Ye}requestAsyncId(Me,Ye,Ge=0){return null!==Ge&&Ge>0?super.requestAsyncId(Me,Ye,Ge):(Me.actions.push(this),Me._scheduled||(Me._scheduled=p.requestAnimationFrame(()=>Me.flush(void 0))))}recycleAsyncId(Me,Ye,Ge=0){var at;if(null!=Ge?Ge>0:this.delay>0)return super.recycleAsyncId(Me,Ye,Ge);const{actions:ct}=Me;null!=Ye&&(null===(at=ct[ct.length-1])||void 0===at?void 0:at.id)!==Ye&&(p.cancelAnimationFrame(Ye),Me._scheduled=void 0)}});let V,R=1;const k={};function P(ue){return ue in k&&(delete k[ue],!0)}const x={setImmediate(ue){const Me=R++;return k[Me]=!0,V||(V=Promise.resolve()),V.then(()=>P(Me)&&ue()),Me},clearImmediate(ue){P(ue)}},{setImmediate:T,clearImmediate:N}=x,C={setImmediate(...ue){const{delegate:Me}=C;return(Me?.setImmediate||T)(...ue)},clearImmediate(ue){const{delegate:Me}=C;return(Me?.clearImmediate||N)(ue)},delegate:void 0};new class Y extends g.v{flush(Me){this._active=!0;const Ye=this._scheduled;this._scheduled=void 0;const{actions:Ge}=this;let at;Me=Me||Ge.shift();do{if(at=Me.execute(Me.state,Me.delay))break}while((Me=Ge[0])&&Me.id===Ye&&Ge.shift());if(this._active=!1,at){for(;(Me=Ge[0])&&Me.id===Ye&&Ge.shift();)Me.unsubscribe();throw at}}}(class B extends L.o{constructor(Me,Ye){super(Me,Ye),this.scheduler=Me,this.work=Ye}requestAsyncId(Me,Ye,Ge=0){return null!==Ge&&Ge>0?super.requestAsyncId(Me,Ye,Ge):(Me.actions.push(this),Me._scheduled||(Me._scheduled=C.setImmediate(Me.flush.bind(Me,void 0))))}recycleAsyncId(Me,Ye,Ge=0){var at;if(null!=Ge?Ge>0:this.delay>0)return super.recycleAsyncId(Me,Ye,Ge);const{actions:ct}=Me;null!=Ye&&(null===(at=ct[ct.length-1])||void 0===at?void 0:at.id)!==Ye&&(C.clearImmediate(Ye),Me._scheduled===Ye&&(Me._scheduled=void 0))}});var Fe=S(6321),q=S(9360),le=S(4829),K=S(8251),se=S(4825);function me(ue,Me=Fe.z){return function _e(ue){return(0,q.e)((Me,Ye)=>{let Ge=!1,at=null,ct=null,rt=!1;const _t=()=>{if(ct?.unsubscribe(),ct=null,Ge){Ge=!1;const At=at;at=null,Ye.next(At)}rt&&Ye.complete()},Bt=()=>{ct=null,rt&&Ye.complete()};Me.subscribe((0,K.x)(Ye,At=>{Ge=!0,at=At,ct||(0,le.Xf)(ue(At)).subscribe(ct=(0,K.x)(Ye,_t,Bt))},()=>{rt=!0,(!Ge||!ct||ct.closed)&&Ye.complete()}))})}(()=>(0,se.H)(ue,Me))}var De=S(2181),Le=S(2831),he=S(6814),Re=S(9388);let Qe=(()=>{class ue{constructor(Ye,Ge,at){this._ngZone=Ye,this._platform=Ge,this._scrolled=new b.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=at}register(Ye){this.scrollContainers.has(Ye)||this.scrollContainers.set(Ye,Ye.elementScrolled().subscribe(()=>this._scrolled.next(Ye)))}deregister(Ye){const Ge=this.scrollContainers.get(Ye);Ge&&(Ge.unsubscribe(),this.scrollContainers.delete(Ye))}scrolled(Ye=20){return this._platform.isBrowser?new E.y(Ge=>{this._globalSubscription||this._addGlobalListener();const at=Ye>0?this._scrolled.pipe(me(Ye)).subscribe(Ge):this._scrolled.subscribe(Ge);return this._scrolledCount++,()=>{at.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,w.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ye,Ge)=>this.deregister(Ge)),this._scrolled.complete()}ancestorScrolled(Ye,Ge){const at=this.getAncestorScrollContainers(Ye);return this.scrolled(Ge).pipe((0,De.h)(ct=>!ct||at.indexOf(ct)>-1))}getAncestorScrollContainers(Ye){const Ge=[];return this.scrollContainers.forEach((at,ct)=>{this._scrollableContainsElement(ct,Ye)&&Ge.push(ct)}),Ge}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ye,Ge){let at=(0,c.fI)(Ge),ct=Ye.getElementRef().nativeElement;do{if(at==ct)return!0}while(at=at.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ye=this._getWindow();return(0,F.R)(Ye.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(Ge){return new(Ge||ue)(t.LFG(t.R0b),t.LFG(Le.t4),t.LFG(he.K0,8))};static#t=this.\u0275prov=t.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})(),W=(()=>{class ue{constructor(Ye,Ge,at){this._platform=Ye,this._change=new b.x,this._changeListener=ct=>{this._change.next(ct)},this._document=at,Ge.runOutsideAngular(()=>{if(Ye.isBrowser){const ct=this._getWindow();ct.addEventListener("resize",this._changeListener),ct.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ye=this._getWindow();Ye.removeEventListener("resize",this._changeListener),Ye.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ye={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ye}getViewportRect(){const Ye=this.getViewportScrollPosition(),{width:Ge,height:at}=this.getViewportSize();return{top:Ye.top,left:Ye.left,bottom:Ye.top+at,right:Ye.left+Ge,height:at,width:Ge}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ye=this._document,Ge=this._getWindow(),at=Ye.documentElement,ct=at.getBoundingClientRect();return{top:-ct.top||Ye.body.scrollTop||Ge.scrollY||at.scrollTop||0,left:-ct.left||Ye.body.scrollLeft||Ge.scrollX||at.scrollLeft||0}}change(Ye=20){return Ye>0?this._change.pipe(me(Ye)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ye=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ye.innerWidth,height:Ye.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(Ge){return new(Ge||ue)(t.LFG(Le.t4),t.LFG(t.R0b),t.LFG(he.K0,8))};static#t=this.\u0275prov=t.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})(),fe=(()=>{class ue{static#e=this.\u0275fac=function(Ge){return new(Ge||ue)};static#t=this.\u0275mod=t.oAB({type:ue});static#n=this.\u0275inj=t.cJS({})}return ue})(),ye=(()=>{class ue{static#e=this.\u0275fac=function(Ge){return new(Ge||ue)};static#t=this.\u0275mod=t.oAB({type:ue});static#n=this.\u0275inj=t.cJS({imports:[Re.vT,fe,Re.vT,fe]})}return ue})()},6814:(jn,nt,S)=>{"use strict";S.d(nt,{Do:()=>V,ED:()=>Oi,EM:()=>fs,HT:()=>w,JF:()=>xr,K0:()=>F,Mn:()=>_e,Mx:()=>Fn,NF:()=>jo,O5:()=>vt,Ov:()=>zo,PM:()=>hr,RF:()=>ti,S$:()=>M,Tn:()=>J,UT:()=>se,V_:()=>D,Ye:()=>k,ax:()=>bt,b0:()=>R,bD:()=>ho,ez:()=>io,mk:()=>nn,mr:()=>U,n9:()=>fi,p6:()=>Me,q:()=>b,sg:()=>bt,tP:()=>Zr,uU:()=>xi,w_:()=>E,x:()=>Y});var c=S(5879);let t=null;function b(){return t}function w(z){t||(t=z)}class E{}const F=new c.OlP("DocumentToken");let L=(()=>{class z{historyGo(je){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Dt){return new(Dt||z)};static#t=this.\u0275prov=c.Yz7({token:z,factory:function(){return(0,c.f3M)(p)},providedIn:"platform"})}return z})();const D=new c.OlP("Location Initialized");let p=(()=>{class z extends L{constructor(){super(),this._doc=(0,c.f3M)(F),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return b().getBaseHref(this._doc)}onPopState(je){const Dt=b().getGlobalEventTarget(this._doc,"window");return Dt.addEventListener("popstate",je,!1),()=>Dt.removeEventListener("popstate",je)}onHashChange(je){const Dt=b().getGlobalEventTarget(this._doc,"window");return Dt.addEventListener("hashchange",je,!1),()=>Dt.removeEventListener("hashchange",je)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(je){this._location.pathname=je}pushState(je,Dt,Jt){this._history.pushState(je,Dt,Jt)}replaceState(je,Dt,Jt){this._history.replaceState(je,Dt,Jt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(je=0){this._history.go(je)}getState(){return this._history.state}static#e=this.\u0275fac=function(Dt){return new(Dt||z)};static#t=this.\u0275prov=c.Yz7({token:z,factory:function(){return new z},providedIn:"platform"})}return z})();function f(z,Tt){if(0==z.length)return Tt;if(0==Tt.length)return z;let je=0;return z.endsWith("/")&&je++,Tt.startsWith("/")&&je++,2==je?z+Tt.substring(1):1==je?z+Tt:z+"/"+Tt}function g(z){const Tt=z.match(/#|\?|$/),je=Tt&&Tt.index||z.length;return z.slice(0,je-("/"===z[je-1]?1:0))+z.slice(je)}function y(z){return z&&"?"!==z[0]?"?"+z:z}let M=(()=>{class z{historyGo(je){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Dt){return new(Dt||z)};static#t=this.\u0275prov=c.Yz7({token:z,factory:function(){return(0,c.f3M)(R)},providedIn:"root"})}return z})();const U=new c.OlP("appBaseHref");let R=(()=>{class z extends M{constructor(je,Dt){super(),this._platformLocation=je,this._removeListenerFns=[],this._baseHref=Dt??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(F).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(je){this._removeListenerFns.push(this._platformLocation.onPopState(je),this._platformLocation.onHashChange(je))}getBaseHref(){return this._baseHref}prepareExternalUrl(je){return f(this._baseHref,je)}path(je=!1){const Dt=this._platformLocation.pathname+y(this._platformLocation.search),Jt=this._platformLocation.hash;return Jt&&je?`${Dt}${Jt}`:Dt}pushState(je,Dt,Jt,In){const Hn=this.prepareExternalUrl(Jt+y(In));this._platformLocation.pushState(je,Dt,Hn)}replaceState(je,Dt,Jt,In){const Hn=this.prepareExternalUrl(Jt+y(In));this._platformLocation.replaceState(je,Dt,Hn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(je=0){this._platformLocation.historyGo?.(je)}static#e=this.\u0275fac=function(Dt){return new(Dt||z)(c.LFG(L),c.LFG(U,8))};static#t=this.\u0275prov=c.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})(),V=(()=>{class z extends M{constructor(je,Dt){super(),this._platformLocation=je,this._baseHref="",this._removeListenerFns=[],null!=Dt&&(this._baseHref=Dt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(je){this._removeListenerFns.push(this._platformLocation.onPopState(je),this._platformLocation.onHashChange(je))}getBaseHref(){return this._baseHref}path(je=!1){let Dt=this._platformLocation.hash;return null==Dt&&(Dt="#"),Dt.length>0?Dt.substring(1):Dt}prepareExternalUrl(je){const Dt=f(this._baseHref,je);return Dt.length>0?"#"+Dt:Dt}pushState(je,Dt,Jt,In){let Hn=this.prepareExternalUrl(Jt+y(In));0==Hn.length&&(Hn=this._platformLocation.pathname),this._platformLocation.pushState(je,Dt,Hn)}replaceState(je,Dt,Jt,In){let Hn=this.prepareExternalUrl(Jt+y(In));0==Hn.length&&(Hn=this._platformLocation.pathname),this._platformLocation.replaceState(je,Dt,Hn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(je=0){this._platformLocation.historyGo?.(je)}static#e=this.\u0275fac=function(Dt){return new(Dt||z)(c.LFG(L),c.LFG(U,8))};static#t=this.\u0275prov=c.Yz7({token:z,factory:z.\u0275fac})}return z})(),k=(()=>{class z{constructor(je){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=je;const Dt=this._locationStrategy.getBaseHref();this._basePath=function T(z){if(new RegExp("^(https?:)?//").test(z)){const[,je]=z.split(/\/\/[^\/]+/);return je}return z}(g(O(Dt))),this._locationStrategy.onPopState(Jt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Jt.state,type:Jt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(je=!1){return this.normalize(this._locationStrategy.path(je))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(je,Dt=""){return this.path()==this.normalize(je+y(Dt))}normalize(je){return z.stripTrailingSlash(function x(z,Tt){if(!z||!Tt.startsWith(z))return Tt;const je=Tt.substring(z.length);return""===je||["/",";","?","#"].includes(je[0])?je:Tt}(this._basePath,O(je)))}prepareExternalUrl(je){return je&&"/"!==je[0]&&(je="/"+je),this._locationStrategy.prepareExternalUrl(je)}go(je,Dt="",Jt=null){this._locationStrategy.pushState(Jt,"",je,Dt),this._notifyUrlChangeListeners(this.prepareExternalUrl(je+y(Dt)),Jt)}replaceState(je,Dt="",Jt=null){this._locationStrategy.replaceState(Jt,"",je,Dt),this._notifyUrlChangeListeners(this.prepareExternalUrl(je+y(Dt)),Jt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(je=0){this._locationStrategy.historyGo?.(je)}onUrlChange(je){return this._urlChangeListeners.push(je),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Dt=>{this._notifyUrlChangeListeners(Dt.url,Dt.state)})),()=>{const Dt=this._urlChangeListeners.indexOf(je);this._urlChangeListeners.splice(Dt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(je="",Dt){this._urlChangeListeners.forEach(Jt=>Jt(je,Dt))}subscribe(je,Dt,Jt){return this._subject.subscribe({next:je,error:Dt,complete:Jt})}static#e=this.normalizeQueryParams=y;static#t=this.joinWithSlash=f;static#n=this.stripTrailingSlash=g;static#i=this.\u0275fac=function(Dt){return new(Dt||z)(c.LFG(M))};static#r=this.\u0275prov=c.Yz7({token:z,factory:function(){return function P(){return new k((0,c.LFG)(M))}()},providedIn:"root"})}return z})();function O(z){return z.replace(/\/index.html$/,"")}var Y=function(z){return z[z.Format=0]="Format",z[z.Standalone=1]="Standalone",z}(Y||{}),J=function(z){return z[z.Narrow=0]="Narrow",z[z.Abbreviated=1]="Abbreviated",z[z.Wide=2]="Wide",z[z.Short=3]="Short",z}(J||{}),ce=function(z){return z[z.Short=0]="Short",z[z.Medium=1]="Medium",z[z.Long=2]="Long",z[z.Full=3]="Full",z}(ce||{}),Fe=function(z){return z[z.Decimal=0]="Decimal",z[z.Group=1]="Group",z[z.List=2]="List",z[z.PercentSign=3]="PercentSign",z[z.PlusSign=4]="PlusSign",z[z.MinusSign=5]="MinusSign",z[z.Exponential=6]="Exponential",z[z.SuperscriptingExponent=7]="SuperscriptingExponent",z[z.PerMille=8]="PerMille",z[z.Infinity=9]="Infinity",z[z.NaN=10]="NaN",z[z.TimeSeparator=11]="TimeSeparator",z[z.CurrencyDecimal=12]="CurrencyDecimal",z[z.CurrencyGroup=13]="CurrencyGroup",z}(Fe||{});function _e(z,Tt,je){const Dt=(0,c.cg1)(z),In=ve([Dt[c.wAp.DaysFormat],Dt[c.wAp.DaysStandalone]],Tt);return ve(In,je)}function se(z,Tt,je){const Dt=(0,c.cg1)(z),In=ve([Dt[c.wAp.MonthsFormat],Dt[c.wAp.MonthsStandalone]],Tt);return ve(In,je)}function he(z,Tt){return ve((0,c.cg1)(z)[c.wAp.DateFormat],Tt)}function Re(z,Tt){return ve((0,c.cg1)(z)[c.wAp.TimeFormat],Tt)}function Ie(z,Tt){return ve((0,c.cg1)(z)[c.wAp.DateTimeFormat],Tt)}function ge(z,Tt){const je=(0,c.cg1)(z),Dt=je[c.wAp.NumberSymbols][Tt];if(typeof Dt>"u"){if(Tt===Fe.CurrencyDecimal)return je[c.wAp.NumberSymbols][Fe.Decimal];if(Tt===Fe.CurrencyGroup)return je[c.wAp.NumberSymbols][Fe.Group]}return Dt}function Ne(z){if(!z[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${z[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ve(z,Tt){for(let je=Tt;je>-1;je--)if(typeof z[je]<"u")return z[je];throw new Error("Locale data API: locale data undefined")}function Q(z){const[Tt,je]=z.split(":");return{hours:+Tt,minutes:+je}}const re=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,te={},ee=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var fe=function(z){return z[z.Short=0]="Short",z[z.ShortGMT=1]="ShortGMT",z[z.Long=2]="Long",z[z.Extended=3]="Extended",z}(fe||{}),ye=function(z){return z[z.FullYear=0]="FullYear",z[z.Month=1]="Month",z[z.Date=2]="Date",z[z.Hours=3]="Hours",z[z.Minutes=4]="Minutes",z[z.Seconds=5]="Seconds",z[z.FractionalSeconds=6]="FractionalSeconds",z[z.Day=7]="Day",z}(ye||{}),ue=function(z){return z[z.DayPeriods=0]="DayPeriods",z[z.Days=1]="Days",z[z.Months=2]="Months",z[z.Eras=3]="Eras",z}(ue||{});function Me(z,Tt,je,Dt){let Jt=function $e(z){if(ot(z))return z;if("number"==typeof z&&!isNaN(z))return new Date(z);if("string"==typeof z){if(z=z.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(z)){const[Jt,In=1,Hn=1]=z.split("-").map(vi=>+vi);return Ye(Jt,In-1,Hn)}const je=parseFloat(z);if(!isNaN(z-je))return new Date(je);let Dt;if(Dt=z.match(re))return function lt(z){const Tt=new Date(0);let je=0,Dt=0;const Jt=z[8]?Tt.setUTCFullYear:Tt.setFullYear,In=z[8]?Tt.setUTCHours:Tt.setHours;z[9]&&(je=Number(z[9]+z[10]),Dt=Number(z[9]+z[11])),Jt.call(Tt,Number(z[1]),Number(z[2])-1,Number(z[3]));const Hn=Number(z[4]||0)-je,vi=Number(z[5]||0)-Dt,wr=Number(z[6]||0),hn=Math.floor(1e3*parseFloat("0."+(z[7]||0)));return In.call(Tt,Hn,vi,wr,hn),Tt}(Dt)}const Tt=new Date(z);if(!ot(Tt))throw new Error(`Unable to convert "${z}" into a date`);return Tt}(z);Tt=Ge(je,Tt)||Tt;let vi,Hn=[];for(;Tt;){if(vi=ee.exec(Tt),!vi){Hn.push(Tt);break}{Hn=Hn.concat(vi.slice(1));const rr=Hn.pop();if(!rr)break;Tt=rr}}let wr=Jt.getTimezoneOffset();Dt&&(wr=xe(Dt,wr),Jt=function We(z,Tt,je){const Dt=je?-1:1,Jt=z.getTimezoneOffset();return function Oe(z,Tt){return(z=new Date(z.getTime())).setMinutes(z.getMinutes()+Tt),z}(z,Dt*(xe(Tt,Jt)-Jt))}(Jt,Dt,!0));let hn="";return Hn.forEach(rr=>{const $i=function Xe(z){if(ft[z])return ft[z];let Tt;switch(z){case"G":case"GG":case"GGG":Tt=At(ue.Eras,J.Abbreviated);break;case"GGGG":Tt=At(ue.Eras,J.Wide);break;case"GGGGG":Tt=At(ue.Eras,J.Narrow);break;case"y":Tt=_t(ye.FullYear,1,0,!1,!0);break;case"yy":Tt=_t(ye.FullYear,2,0,!0,!0);break;case"yyy":Tt=_t(ye.FullYear,3,0,!1,!0);break;case"yyyy":Tt=_t(ye.FullYear,4,0,!1,!0);break;case"Y":Tt=xt(1);break;case"YY":Tt=xt(2,!0);break;case"YYY":Tt=xt(3);break;case"YYYY":Tt=xt(4);break;case"M":case"L":Tt=_t(ye.Month,1,1);break;case"MM":case"LL":Tt=_t(ye.Month,2,1);break;case"MMM":Tt=At(ue.Months,J.Abbreviated);break;case"MMMM":Tt=At(ue.Months,J.Wide);break;case"MMMMM":Tt=At(ue.Months,J.Narrow);break;case"LLL":Tt=At(ue.Months,J.Abbreviated,Y.Standalone);break;case"LLLL":Tt=At(ue.Months,J.Wide,Y.Standalone);break;case"LLLLL":Tt=At(ue.Months,J.Narrow,Y.Standalone);break;case"w":Tt=en(1);break;case"ww":Tt=en(2);break;case"W":Tt=en(1,!0);break;case"d":Tt=_t(ye.Date,1);break;case"dd":Tt=_t(ye.Date,2);break;case"c":case"cc":Tt=_t(ye.Day,1);break;case"ccc":Tt=At(ue.Days,J.Abbreviated,Y.Standalone);break;case"cccc":Tt=At(ue.Days,J.Wide,Y.Standalone);break;case"ccccc":Tt=At(ue.Days,J.Narrow,Y.Standalone);break;case"cccccc":Tt=At(ue.Days,J.Short,Y.Standalone);break;case"E":case"EE":case"EEE":Tt=At(ue.Days,J.Abbreviated);break;case"EEEE":Tt=At(ue.Days,J.Wide);break;case"EEEEE":Tt=At(ue.Days,J.Narrow);break;case"EEEEEE":Tt=At(ue.Days,J.Short);break;case"a":case"aa":case"aaa":Tt=At(ue.DayPeriods,J.Abbreviated);break;case"aaaa":Tt=At(ue.DayPeriods,J.Wide);break;case"aaaaa":Tt=At(ue.DayPeriods,J.Narrow);break;case"b":case"bb":case"bbb":Tt=At(ue.DayPeriods,J.Abbreviated,Y.Standalone,!0);break;case"bbbb":Tt=At(ue.DayPeriods,J.Wide,Y.Standalone,!0);break;case"bbbbb":Tt=At(ue.DayPeriods,J.Narrow,Y.Standalone,!0);break;case"B":case"BB":case"BBB":Tt=At(ue.DayPeriods,J.Abbreviated,Y.Format,!0);break;case"BBBB":Tt=At(ue.DayPeriods,J.Wide,Y.Format,!0);break;case"BBBBB":Tt=At(ue.DayPeriods,J.Narrow,Y.Format,!0);break;case"h":Tt=_t(ye.Hours,1,-12);break;case"hh":Tt=_t(ye.Hours,2,-12);break;case"H":Tt=_t(ye.Hours,1);break;case"HH":Tt=_t(ye.Hours,2);break;case"m":Tt=_t(ye.Minutes,1);break;case"mm":Tt=_t(ye.Minutes,2);break;case"s":Tt=_t(ye.Seconds,1);break;case"ss":Tt=_t(ye.Seconds,2);break;case"S":Tt=_t(ye.FractionalSeconds,1);break;case"SS":Tt=_t(ye.FractionalSeconds,2);break;case"SSS":Tt=_t(ye.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Tt=Qt(fe.Short);break;case"ZZZZZ":Tt=Qt(fe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Tt=Qt(fe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Tt=Qt(fe.Long);break;default:return null}return ft[z]=Tt,Tt}(rr);hn+=$i?$i(Jt,je,wr):"''"===rr?"'":rr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),hn}function Ye(z,Tt,je){const Dt=new Date(0);return Dt.setFullYear(z,Tt,je),Dt.setHours(0,0,0),Dt}function Ge(z,Tt){const je=function le(z){return(0,c.cg1)(z)[c.wAp.LocaleId]}(z);if(te[je]=te[je]||{},te[je][Tt])return te[je][Tt];let Dt="";switch(Tt){case"shortDate":Dt=he(z,ce.Short);break;case"mediumDate":Dt=he(z,ce.Medium);break;case"longDate":Dt=he(z,ce.Long);break;case"fullDate":Dt=he(z,ce.Full);break;case"shortTime":Dt=Re(z,ce.Short);break;case"mediumTime":Dt=Re(z,ce.Medium);break;case"longTime":Dt=Re(z,ce.Long);break;case"fullTime":Dt=Re(z,ce.Full);break;case"short":const Jt=Ge(z,"shortTime"),In=Ge(z,"shortDate");Dt=at(Ie(z,ce.Short),[Jt,In]);break;case"medium":const Hn=Ge(z,"mediumTime"),vi=Ge(z,"mediumDate");Dt=at(Ie(z,ce.Medium),[Hn,vi]);break;case"long":const wr=Ge(z,"longTime"),hn=Ge(z,"longDate");Dt=at(Ie(z,ce.Long),[wr,hn]);break;case"full":const rr=Ge(z,"fullTime"),$i=Ge(z,"fullDate");Dt=at(Ie(z,ce.Full),[rr,$i])}return Dt&&(te[je][Tt]=Dt),Dt}function at(z,Tt){return Tt&&(z=z.replace(/\{([^}]+)}/g,function(je,Dt){return null!=Tt&&Dt in Tt?Tt[Dt]:je})),z}function ct(z,Tt,je="-",Dt,Jt){let In="";(z<0||Jt&&z<=0)&&(Jt?z=1-z:(z=-z,In=je));let Hn=String(z);for(;Hn.length<Tt;)Hn="0"+Hn;return Dt&&(Hn=Hn.slice(Hn.length-Tt)),In+Hn}function _t(z,Tt,je=0,Dt=!1,Jt=!1){return function(In,Hn){let vi=function Bt(z,Tt){switch(z){case ye.FullYear:return Tt.getFullYear();case ye.Month:return Tt.getMonth();case ye.Date:return Tt.getDate();case ye.Hours:return Tt.getHours();case ye.Minutes:return Tt.getMinutes();case ye.Seconds:return Tt.getSeconds();case ye.FractionalSeconds:return Tt.getMilliseconds();case ye.Day:return Tt.getDay();default:throw new Error(`Unknown DateType value "${z}".`)}}(z,In);if((je>0||vi>-je)&&(vi+=je),z===ye.Hours)0===vi&&-12===je&&(vi=12);else if(z===ye.FractionalSeconds)return function rt(z,Tt){return ct(z,3).substring(0,Tt)}(vi,Tt);const wr=ge(Hn,Fe.MinusSign);return ct(vi,Tt,wr,Dt,Jt)}}function At(z,Tt,je=Y.Format,Dt=!1){return function(Jt,In){return function jt(z,Tt,je,Dt,Jt,In){switch(je){case ue.Months:return se(Tt,Jt,Dt)[z.getMonth()];case ue.Days:return _e(Tt,Jt,Dt)[z.getDay()];case ue.DayPeriods:const Hn=z.getHours(),vi=z.getMinutes();if(In){const hn=function Se(z){const Tt=(0,c.cg1)(z);return Ne(Tt),(Tt[c.wAp.ExtraData][2]||[]).map(Dt=>"string"==typeof Dt?Q(Dt):[Q(Dt[0]),Q(Dt[1])])}(Tt),rr=function W(z,Tt,je){const Dt=(0,c.cg1)(z);Ne(Dt);const In=ve([Dt[c.wAp.ExtraData][0],Dt[c.wAp.ExtraData][1]],Tt)||[];return ve(In,je)||[]}(Tt,Jt,Dt),$i=hn.findIndex(Fi=>{if(Array.isArray(Fi)){const[or,Mr]=Fi,Xo=Hn>=or.hours&&vi>=or.minutes,bi=Hn<Mr.hours||Hn===Mr.hours&&vi<Mr.minutes;if(or.hours<Mr.hours){if(Xo&&bi)return!0}else if(Xo||bi)return!0}else if(Fi.hours===Hn&&Fi.minutes===vi)return!0;return!1});if(-1!==$i)return rr[$i]}return function K(z,Tt,je){const Dt=(0,c.cg1)(z),In=ve([Dt[c.wAp.DayPeriodsFormat],Dt[c.wAp.DayPeriodsStandalone]],Tt);return ve(In,je)}(Tt,Jt,Dt)[Hn<12?0:1];case ue.Eras:return function me(z,Tt){return ve((0,c.cg1)(z)[c.wAp.Eras],Tt)}(Tt,Dt)[z.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${je}`)}}(Jt,In,z,Tt,je,Dt)}}function Qt(z){return function(Tt,je,Dt){const Jt=-1*Dt,In=ge(je,Fe.MinusSign),Hn=Jt>0?Math.floor(Jt/60):Math.ceil(Jt/60);switch(z){case fe.Short:return(Jt>=0?"+":"")+ct(Hn,2,In)+ct(Math.abs(Jt%60),2,In);case fe.ShortGMT:return"GMT"+(Jt>=0?"+":"")+ct(Hn,1,In);case fe.Long:return"GMT"+(Jt>=0?"+":"")+ct(Hn,2,In)+":"+ct(Math.abs(Jt%60),2,In);case fe.Extended:return 0===Dt?"Z":(Jt>=0?"+":"")+ct(Hn,2,In)+":"+ct(Math.abs(Jt%60),2,In);default:throw new Error(`Unknown zone width "${z}"`)}}}const cn=0,dn=4;function Cn(z){return Ye(z.getFullYear(),z.getMonth(),z.getDate()+(dn-z.getDay()))}function en(z,Tt=!1){return function(je,Dt){let Jt;if(Tt){const In=new Date(je.getFullYear(),je.getMonth(),1).getDay()-1,Hn=je.getDate();Jt=1+Math.floor((Hn+In)/7)}else{const In=Cn(je),Hn=function Gt(z){const Tt=Ye(z,cn,1).getDay();return Ye(z,0,1+(Tt<=dn?dn:dn+7)-Tt)}(In.getFullYear()),vi=In.getTime()-Hn.getTime();Jt=1+Math.round(vi/6048e5)}return ct(Jt,z,ge(Dt,Fe.MinusSign))}}function xt(z,Tt=!1){return function(je,Dt){return ct(Cn(je).getFullYear(),z,ge(Dt,Fe.MinusSign),Tt)}}const ft={};function xe(z,Tt){z=z.replace(/:/g,"");const je=Date.parse("Jan 01, 1970 00:00:00 "+z)/6e4;return isNaN(je)?Tt:je}function ot(z){return z instanceof Date&&!isNaN(z.valueOf())}function Fn(z,Tt){Tt=encodeURIComponent(Tt);for(const je of z.split(";")){const Dt=je.indexOf("="),[Jt,In]=-1==Dt?[je,""]:[je.slice(0,Dt),je.slice(Dt+1)];if(Jt.trim()===Tt)return decodeURIComponent(In)}return null}const Wt=/\s+/,Kt=[];let nn=(()=>{class z{constructor(je,Dt,Jt,In){this._iterableDiffers=je,this._keyValueDiffers=Dt,this._ngEl=Jt,this._renderer=In,this.initialClasses=Kt,this.stateMap=new Map}set klass(je){this.initialClasses=null!=je?je.trim().split(Wt):Kt}set ngClass(je){this.rawClass="string"==typeof je?je.trim().split(Wt):je}ngDoCheck(){for(const Dt of this.initialClasses)this._updateState(Dt,!0);const je=this.rawClass;if(Array.isArray(je)||je instanceof Set)for(const Dt of je)this._updateState(Dt,!0);else if(null!=je)for(const Dt of Object.keys(je))this._updateState(Dt,!!je[Dt]);this._applyStateDiff()}_updateState(je,Dt){const Jt=this.stateMap.get(je);void 0!==Jt?(Jt.enabled!==Dt&&(Jt.changed=!0,Jt.enabled=Dt),Jt.touched=!0):this.stateMap.set(je,{enabled:Dt,changed:!0,touched:!0})}_applyStateDiff(){for(const je of this.stateMap){const Dt=je[0],Jt=je[1];Jt.changed?(this._toggleClass(Dt,Jt.enabled),Jt.changed=!1):Jt.touched||(Jt.enabled&&this._toggleClass(Dt,!1),this.stateMap.delete(Dt)),Jt.touched=!1}}_toggleClass(je,Dt){(je=je.trim()).length>0&&je.split(Wt).forEach(Jt=>{Dt?this._renderer.addClass(this._ngEl.nativeElement,Jt):this._renderer.removeClass(this._ngEl.nativeElement,Jt)})}static#e=this.\u0275fac=function(Dt){return new(Dt||z)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))};static#t=this.\u0275dir=c.lG2({type:z,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return z})();class ei{constructor(Tt,je,Dt,Jt){this.$implicit=Tt,this.ngForOf=je,this.index=Dt,this.count=Jt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bt=(()=>{class z{set ngForOf(je){this._ngForOf=je,this._ngForOfDirty=!0}set ngForTrackBy(je){this._trackByFn=je}get ngForTrackBy(){return this._trackByFn}constructor(je,Dt,Jt){this._viewContainer=je,this._template=Dt,this._differs=Jt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(je){je&&(this._template=je)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const je=this._ngForOf;!this._differ&&je&&(this._differ=this._differs.find(je).create(this.ngForTrackBy))}if(this._differ){const je=this._differ.diff(this._ngForOf);je&&this._applyChanges(je)}}_applyChanges(je){const Dt=this._viewContainer;je.forEachOperation((Jt,In,Hn)=>{if(null==Jt.previousIndex)Dt.createEmbeddedView(this._template,new ei(Jt.item,this._ngForOf,-1,-1),null===Hn?void 0:Hn);else if(null==Hn)Dt.remove(null===In?void 0:In);else if(null!==In){const vi=Dt.get(In);Dt.move(vi,Hn),un(vi,Jt)}});for(let Jt=0,In=Dt.length;Jt<In;Jt++){const vi=Dt.get(Jt).context;vi.index=Jt,vi.count=In,vi.ngForOf=this._ngForOf}je.forEachIdentityChange(Jt=>{un(Dt.get(Jt.currentIndex),Jt)})}static ngTemplateContextGuard(je,Dt){return!0}static#e=this.\u0275fac=function(Dt){return new(Dt||z)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:z,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return z})();function un(z,Tt){z.context.$implicit=Tt.item}let vt=(()=>{class z{constructor(je,Dt){this._viewContainer=je,this._context=new gt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Dt}set ngIf(je){this._context.$implicit=this._context.ngIf=je,this._updateView()}set ngIfThen(je){Nt("ngIfThen",je),this._thenTemplateRef=je,this._thenViewRef=null,this._updateView()}set ngIfElse(je){Nt("ngIfElse",je),this._elseTemplateRef=je,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(je,Dt){return!0}static#e=this.\u0275fac=function(Dt){return new(Dt||z)(c.Y36(c.s_b),c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:z,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return z})();class gt{constructor(){this.$implicit=null,this.ngIf=null}}function Nt(z,Tt){if(Tt&&!Tt.createEmbeddedView)throw new Error(`${z} must be a TemplateRef, but received '${(0,c.AaK)(Tt)}'.`)}class on{constructor(Tt,je){this._viewContainerRef=Tt,this._templateRef=je,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Tt){Tt&&!this._created?this.create():!Tt&&this._created&&this.destroy()}}let ti=(()=>{class z{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(je){this._ngSwitch=je,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(je){this._defaultViews.push(je)}_matchCase(je){const Dt=je==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Dt,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Dt}_updateDefaultCases(je){if(this._defaultViews.length>0&&je!==this._defaultUsed){this._defaultUsed=je;for(const Dt of this._defaultViews)Dt.enforceState(je)}}static#e=this.\u0275fac=function(Dt){return new(Dt||z)};static#t=this.\u0275dir=c.lG2({type:z,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return z})(),fi=(()=>{class z{constructor(je,Dt,Jt){this.ngSwitch=Jt,Jt._addCase(),this._view=new on(je,Dt)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(Dt){return new(Dt||z)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(ti,9))};static#t=this.\u0275dir=c.lG2({type:z,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return z})(),Oi=(()=>{class z{constructor(je,Dt,Jt){Jt._addDefault(new on(je,Dt))}static#e=this.\u0275fac=function(Dt){return new(Dt||z)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(ti,9))};static#t=this.\u0275dir=c.lG2({type:z,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return z})(),Zr=(()=>{class z{constructor(je){this._viewContainerRef=je,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(je){if(je.ngTemplateOutlet||je.ngTemplateOutletInjector){const Dt=this._viewContainerRef;if(this._viewRef&&Dt.remove(Dt.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Jt,ngTemplateOutletContext:In,ngTemplateOutletInjector:Hn}=this;this._viewRef=Dt.createEmbeddedView(Jt,In,Hn?{injector:Hn}:void 0)}else this._viewRef=null}else this._viewRef&&je.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(Dt){return new(Dt||z)(c.Y36(c.s_b))};static#t=this.\u0275dir=c.lG2({type:z,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]})}return z})();function Di(z,Tt){return new c.vHH(2100,!1)}class Dr{createSubscription(Tt,je){return(0,c.rg0)(()=>Tt.subscribe({next:je,error:Dt=>{throw Dt}}))}dispose(Tt){(0,c.rg0)(()=>Tt.unsubscribe())}}class zi{createSubscription(Tt,je){return Tt.then(je,Dt=>{throw Dt})}dispose(Tt){}}const $r=new zi,Zi=new Dr;let zo=(()=>{class z{constructor(je){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=je}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(je){return this._obj?je!==this._obj?(this._dispose(),this.transform(je)):this._latestValue:(je&&this._subscribe(je),this._latestValue)}_subscribe(je){this._obj=je,this._strategy=this._selectStrategy(je),this._subscription=this._strategy.createSubscription(je,Dt=>this._updateLatestValue(je,Dt))}_selectStrategy(je){if((0,c.QGY)(je))return $r;if((0,c.F4k)(je))return Zi;throw Di()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(je,Dt){je===this._obj&&(this._latestValue=Dt,this._ref.markForCheck())}static#e=this.\u0275fac=function(Dt){return new(Dt||z)(c.Y36(c.sBO,16))};static#t=this.\u0275pipe=c.Yjl({name:"async",type:z,pure:!1,standalone:!0})}return z})();const oi=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Pi=new c.OlP("DATE_PIPE_DEFAULT_OPTIONS");let xi=(()=>{class z{constructor(je,Dt,Jt){this.locale=je,this.defaultTimezone=Dt,this.defaultOptions=Jt}transform(je,Dt,Jt,In){if(null==je||""===je||je!=je)return null;try{return Me(je,Dt??this.defaultOptions?.dateFormat??"mediumDate",In||this.locale,Jt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Hn){throw Di()}}static#e=this.\u0275fac=function(Dt){return new(Dt||z)(c.Y36(c.soG,16),c.Y36(oi,24),c.Y36(Pi,24))};static#t=this.\u0275pipe=c.Yjl({name:"date",type:z,pure:!0,standalone:!0})}return z})(),io=(()=>{class z{static#e=this.\u0275fac=function(Dt){return new(Dt||z)};static#t=this.\u0275mod=c.oAB({type:z});static#n=this.\u0275inj=c.cJS({})}return z})();const ho="browser",ts="server";function jo(z){return z===ho}function hr(z){return z===ts}let fs=(()=>{class z{static#e=this.\u0275prov=(0,c.Yz7)({token:z,providedIn:"root",factory:()=>new ro((0,c.LFG)(F),window)})}return z})();class ro{constructor(Tt,je){this.document=Tt,this.window=je,this.offset=()=>[0,0]}setOffset(Tt){this.offset=Array.isArray(Tt)?()=>Tt:Tt}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Tt){this.supportsScrolling()&&this.window.scrollTo(Tt[0],Tt[1])}scrollToAnchor(Tt){if(!this.supportsScrolling())return;const je=function Zo(z,Tt){const je=z.getElementById(Tt)||z.getElementsByName(Tt)[0];if(je)return je;if("function"==typeof z.createTreeWalker&&z.body&&"function"==typeof z.body.attachShadow){const Dt=z.createTreeWalker(z.body,NodeFilter.SHOW_ELEMENT);let Jt=Dt.currentNode;for(;Jt;){const In=Jt.shadowRoot;if(In){const Hn=In.getElementById(Tt)||In.querySelector(`[name="${Tt}"]`);if(Hn)return Hn}Jt=Dt.nextNode()}}return null}(this.document,Tt);je&&(this.scrollToElement(je),je.focus())}setHistoryScrollRestoration(Tt){if(this.supportScrollRestoration()){const je=this.window.history;je&&je.scrollRestoration&&(je.scrollRestoration=Tt)}}scrollToElement(Tt){const je=Tt.getBoundingClientRect(),Dt=je.left+this.window.pageXOffset,Jt=je.top+this.window.pageYOffset,In=this.offset();this.window.scrollTo(Dt-In[0],Jt-In[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Tt=Vo(this.window.history)||Vo(Object.getPrototypeOf(this.window.history));return!(!Tt||!Tt.writable&&!Tt.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Vo(z){return Object.getOwnPropertyDescriptor(z,"scrollRestoration")}class xr{}},5879:(jn,nt,S)=>{"use strict";S.d(nt,{$8M:()=>dc,$WT:()=>$r,$Z:()=>Av,AFp:()=>uv,ALo:()=>v0,AaK:()=>y,AsE:()=>qc,BQk:()=>Xp,CHM:()=>tl,CRH:()=>R0,DdM:()=>h0,EJc:()=>lD,EiD:()=>ev,EpF:()=>dS,F$t:()=>py,F4k:()=>uS,FYo:()=>vv,FiY:()=>Ws,G48:()=>AD,Gf:()=>O0,GfV:()=>yv,GkF:()=>eg,Gpc:()=>R,Gre:()=>Ry,HDt:()=>Yg,Hsn:()=>mS,Ikx:()=>Tu,JOm:()=>Hu,JVY:()=>ru,JZr:()=>O,Jf7:()=>Ev,KtG:()=>Es,L6k:()=>H_,LAX:()=>fh,LFG:()=>Xe,LMc:()=>Lb,LSH:()=>ep,Lbi:()=>cp,Lck:()=>yC,MAs:()=>dy,MGl:()=>jh,MMx:()=>o0,MR2:()=>mh,NdJ:()=>tg,O4$:()=>He,Ojb:()=>VE,OlP:()=>Qi,Oqu:()=>pg,P3R:()=>Xu,PXZ:()=>bD,Q6J:()=>$p,QGY:()=>fy,QbO:()=>jE,Qsj:()=>Ui,R0b:()=>Xs,RDi:()=>F_,Rgc:()=>fm,SBq:()=>df,SDv:()=>fC,Sil:()=>J0,Suo:()=>P0,TTD:()=>vs,TgZ:()=>Bh,Tol:()=>Dy,Udp:()=>Gh,VKq:()=>Pg,VuI:()=>JD,W1O:()=>k0,WFA:()=>ng,WLB:()=>m0,X6Q:()=>MD,XFs:()=>fe,Xpm:()=>ti,Xq5:()=>$v,Xts:()=>tf,Y36:()=>uu,YKP:()=>Ig,YNc:()=>ay,Yjl:()=>Uo,Yz7:()=>Ne,Z0I:()=>ve,ZZ4:()=>n_,_Bn:()=>Ag,_UZ:()=>Jp,_Vd:()=>lf,_c5:()=>GD,_uU:()=>xS,aQg:()=>i_,c2e:()=>$0,cJS:()=>W,cg1:()=>Qh,d8E:()=>Jh,dDg:()=>gD,dqk:()=>at,eBb:()=>K_,eFA:()=>db,eJc:()=>Fo,ekj:()=>ug,eoX:()=>sb,f3M:()=>Oe,g9A:()=>fv,h0i:()=>Mu,hGG:()=>HD,hYB:()=>gy,hij:()=>Ao,iGM:()=>Lg,ifc:()=>$t,ip1:()=>Z0,jDz:()=>cm,kEZ:()=>AC,kL8:()=>Uy,kcU:()=>Be,lG2:()=>Zr,lcZ:()=>PC,lqb:()=>yc,lri:()=>rb,mCW:()=>Sd,n5z:()=>ls,n_E:()=>um,oAB:()=>gr,oJD:()=>nv,oxw:()=>hS,pB0:()=>zm,q3G:()=>_c,q4F:()=>vp,qFp:()=>ex,qLn:()=>Dd,qOj:()=>Bp,qZA:()=>Uh,qzn:()=>Td,rWj:()=>ob,rg0:()=>Ic,s9C:()=>ig,sBO:()=>ID,s_b:()=>Ng,soG:()=>Hr,tb:()=>$g,tp0:()=>Ko,uIk:()=>Vp,vHH:()=>T,vpe:()=>Dc,wAp:()=>Su,xi3:()=>RC,xp6:()=>Tp,ynx:()=>Qp,z2F:()=>Ru,z3N:()=>pl,zSh:()=>op,zW0:()=>Kv,zs3:()=>Yc});var c=S(8645),t=S(7394),b=S(5619),w=S(5592),E=S(3019),F=S(2096),L=S(3020),D=S(4664),p=S(3997);function f(l){for(let u in l)if(l[u]===f)return u;throw Error("Could not find renamed property on target object.")}function g(l,u){for(const h in u)u.hasOwnProperty(h)&&!l.hasOwnProperty(h)&&(l[h]=u[h])}function y(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(y).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const u=l.toString();if(null==u)return""+u;const h=u.indexOf("\n");return-1===h?u:u.substring(0,h)}function M(l,u){return null==l||""===l?null===u?"":u:null==u||""===u?l:l+" "+u}const U=f({__forward_ref__:f});function R(l){return l.__forward_ref__=R,l.toString=function(){return y(this())},l}function V(l){return k(l)?l():l}function k(l){return"function"==typeof l&&l.hasOwnProperty(U)&&l.__forward_ref__===R}function P(l){return l&&!!l.\u0275providers}const O="https://g.co/ng/security#xss";class T extends Error{constructor(u,h){super(function N(l,u){return`NG0${Math.abs(l)}${u?": "+u:""}`}(u,h)),this.code=u}}function C(l){return"string"==typeof l?l:null==l?"":String(l)}function Fe(l,u){throw new T(-201,!1)}function we(l,u,h,_){throw new Error(`ASSERTION ERROR: ${l}`+(null==_?"":` [Expected=> ${h} ${_} ${u} <=Actual]`))}function Ne(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function W(l){return{providers:l.providers||[],imports:l.imports||[]}}function ae(l){return Q(l,ie)||Q(l,te)}function ve(l){return null!==ae(l)}function Q(l,u){return l.hasOwnProperty(u)?l[u]:null}function $(l){return l&&(l.hasOwnProperty(re)||l.hasOwnProperty(ee))?l[re]:null}const ie=f({\u0275prov:f}),re=f({\u0275inj:f}),te=f({ngInjectableDef:f}),ee=f({ngInjectorDef:f});var fe=function(l){return l[l.Default=0]="Default",l[l.Host=1]="Host",l[l.Self=2]="Self",l[l.SkipSelf=4]="SkipSelf",l[l.Optional=8]="Optional",l}(fe||{});let ye;function Me(l){const u=ye;return ye=l,u}function Ye(l,u,h){const _=ae(l);return _&&"root"==_.providedIn?void 0===_.value?_.value=_.factory():_.value:h&fe.Optional?null:void 0!==u?u:void Fe(y(l))}const at=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Bt={},At="__NG_DI_FLAG__",jt="ngTempTokenPath",cn=/\n/gm,Gt="__source";let Cn;function xt(l){const u=Cn;return Cn=l,u}function ft(l,u=fe.Default){if(void 0===Cn)throw new T(-203,!1);return null===Cn?Ye(l,void 0,u):Cn.get(l,u&fe.Optional?null:void 0,u)}function Xe(l,u=fe.Default){return(function ue(){return ye}()||ft)(V(l),u)}function Oe(l,u=fe.Default){return Xe(l,We(u))}function We(l){return typeof l>"u"||"number"==typeof l?l:0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)}function $e(l){const u=[];for(let h=0;h<l.length;h++){const _=V(l[h]);if(Array.isArray(_)){if(0===_.length)throw new T(900,!1);let A,G=fe.Default;for(let oe=0;oe<_.length;oe++){const Ce=_[oe],Ve=ot(Ce);"number"==typeof Ve?-1===Ve?A=Ce.token:G|=Ve:A=Ce}u.push(Xe(A,G))}else u.push(Xe(_))}return u}function lt(l,u){return l[At]=u,l.prototype[At]=u,l}function ot(l){return l[At]}function zt(l){return{toString:l}.toString()}var Rt=function(l){return l[l.OnPush=0]="OnPush",l[l.Default=1]="Default",l}(Rt||{}),$t=function(l){return l[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",l}($t||{});const an={},mn=[],An=f({\u0275cmp:f}),Ln=f({\u0275dir:f}),Zn=f({\u0275pipe:f}),Kn=f({\u0275mod:f}),ci=f({\u0275fac:f}),vn=f({__NG_ELEMENT_ID__:f}),gn=f({__NG_ENV_ID__:f});function Et(l,u,h){let _=l.length;for(;;){const A=l.indexOf(u,h);if(-1===A)return A;if(0===A||l.charCodeAt(A-1)<=32){const G=u.length;if(A+G===_||l.charCodeAt(A+G)<=32)return A}h=A+1}}function ut(l,u,h){let _=0;for(;_<h.length;){const A=h[_];if("number"==typeof A){if(0!==A)break;_++;const G=h[_++],oe=h[_++],Ce=h[_++];l.setAttribute(u,oe,Ce,G)}else{const G=A,oe=h[++_];Ze(G)?l.setProperty(u,G,oe):l.setAttribute(u,G,oe),_++}}return _}function Xt(l){return 3===l||4===l||6===l}function Ze(l){return 64===l.charCodeAt(0)}function et(l,u){if(null!==u&&0!==u.length)if(null===l||0===l.length)l=u.slice();else{let h=-1;for(let _=0;_<u.length;_++){const A=u[_];"number"==typeof A?h=A:0===h||wt(l,h,A,null,-1===h||2===h?u[++_]:null)}}return l}function wt(l,u,h,_,A){let G=0,oe=l.length;if(-1===u)oe=-1;else for(;G<l.length;){const Ce=l[G++];if("number"==typeof Ce){if(Ce===u){oe=-1;break}if(Ce>u){oe=G-1;break}}}for(;G<l.length;){const Ce=l[G];if("number"==typeof Ce)break;if(Ce===h){if(null===_)return void(null!==A&&(l[G+1]=A));if(_===l[G+1])return void(l[G+2]=A)}G++,null!==_&&G++,null!==A&&G++}-1!==oe&&(l.splice(oe,0,u),G=oe+1),l.splice(G++,0,h),null!==_&&l.splice(G++,0,_),null!==A&&l.splice(G++,0,A)}const qt="ng-template";function wn(l,u,h){let _=0,A=!0;for(;_<l.length;){let G=l[_++];if("string"==typeof G&&A){const oe=l[_++];if(h&&"class"===G&&-1!==Et(oe.toLowerCase(),u,0))return!0}else{if(1===G){for(;_<l.length&&"string"==typeof(G=l[_++]);)if(G.toLowerCase()===u)return!0;return!1}"number"==typeof G&&(A=!1)}}return!1}function Fn(l){return 4===l.type&&l.value!==qt}function Wt(l,u,h){return u===(4!==l.type||h?l.value:qt)}function Kt(l,u,h){let _=4;const A=l.attrs||[],G=function bt(l){for(let u=0;u<l.length;u++)if(Xt(l[u]))return u;return l.length}(A);let oe=!1;for(let Ce=0;Ce<u.length;Ce++){const Ve=u[Ce];if("number"!=typeof Ve){if(!oe)if(4&_){if(_=2|1&_,""!==Ve&&!Wt(l,Ve,h)||""===Ve&&1===u.length){if(nn(_))return!1;oe=!0}}else{const pt=8&_?Ve:u[++Ce];if(8&_&&null!==l.attrs){if(!wn(l.attrs,pt,h)){if(nn(_))return!1;oe=!0}continue}const Ht=Tn(8&_?"class":Ve,A,Fn(l),h);if(-1===Ht){if(nn(_))return!1;oe=!0;continue}if(""!==pt){let _n;_n=Ht>G?"":A[Ht+1].toLowerCase();const Mn=8&_?_n:null;if(Mn&&-1!==Et(Mn,pt,0)||2&_&&pt!==_n){if(nn(_))return!1;oe=!0}}}}else{if(!oe&&!nn(_)&&!nn(Ve))return!1;if(oe&&nn(Ve))continue;oe=!1,_=Ve|1&_}}return nn(_)||oe}function nn(l){return 0==(1&l)}function Tn(l,u,h,_){if(null===u)return-1;let A=0;if(_||!h){let G=!1;for(;A<u.length;){const oe=u[A];if(oe===l)return A;if(3===oe||6===oe)G=!0;else{if(1===oe||2===oe){let Ce=u[++A];for(;"string"==typeof Ce;)Ce=u[++A];continue}if(4===oe)break;if(0===oe){A+=4;continue}}A+=G?1:2}return-1}return function un(l,u){let h=l.indexOf(4);if(h>-1)for(h++;h<l.length;){const _=l[h];if("number"==typeof _)return-1;if(_===u)return h;h++}return-1}(u,l)}function Un(l,u,h=!1){for(let _=0;_<u.length;_++)if(Kt(l,u[_],h))return!0;return!1}function Te(l,u){e:for(let h=0;h<u.length;h++){const _=u[h];if(l.length===_.length){for(let A=0;A<l.length;A++)if(l[A]!==_[A])continue e;return!0}}return!1}function vt(l,u){return l?":not("+u.trim()+")":u}function gt(l){let u=l[0],h=1,_=2,A="",G=!1;for(;h<l.length;){let oe=l[h];if("string"==typeof oe)if(2&_){const Ce=l[++h];A+="["+oe+(Ce.length>0?'="'+Ce+'"':"")+"]"}else 8&_?A+="."+oe:4&_&&(A+=" "+oe);else""!==A&&!nn(oe)&&(u+=vt(G,A),A=""),_=oe,G=G||!nn(_);h++}return""!==A&&(u+=vt(G,A)),u}function ti(l){return zt(()=>{const u=zo(l),h={...u,decls:l.decls,vars:l.vars,template:l.template,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,onPush:l.changeDetection===Rt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:u.standalone&&l.dependencies||null,getStandaloneInjector:null,signals:l.signals??!1,data:l.data||{},encapsulation:l.encapsulation||$t.Emulated,styles:l.styles||mn,_:null,schemas:l.schemas||null,tView:null,id:""};Co(h);const _=l.dependencies;return h.directiveDefs=Kr(_,!1),h.pipeDefs=Kr(_,!0),h.id=function Io(l){let u=0;const h=[l.selectors,l.ngContentSelectors,l.hostVars,l.hostAttrs,l.consts,l.vars,l.decls,l.encapsulation,l.standalone,l.signals,l.exportAs,JSON.stringify(l.inputs),JSON.stringify(l.outputs),Object.getOwnPropertyNames(l.type.prototype),!!l.contentQueries,!!l.viewQuery].join("|");for(const A of h)u=Math.imul(31,u)+A.charCodeAt(0)<<0;return u+=2147483648,"c"+u}(h),h})}function Oi(l){return Di(l)||Dr(l)}function fr(l){return null!==l}function gr(l){return zt(()=>({type:l.type,bootstrap:l.bootstrap||mn,declarations:l.declarations||mn,imports:l.imports||mn,exports:l.exports||mn,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function ki(l,u){if(null==l)return an;const h={};for(const _ in l)if(l.hasOwnProperty(_)){let A=l[_],G=A;Array.isArray(A)&&(G=A[1],A=A[0]),h[A]=_,u&&(u[A]=G)}return h}function Zr(l){return zt(()=>{const u=zo(l);return Co(u),u})}function Uo(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function Di(l){return l[An]||null}function Dr(l){return l[Ln]||null}function zi(l){return l[Zn]||null}function $r(l){const u=Di(l)||Dr(l)||zi(l);return null!==u&&u.standalone}function Zi(l,u){const h=l[Kn]||null;if(!h&&!0===u)throw new Error(`Type ${y(l)} does not have '\u0275mod' property.`);return h}function zo(l){const u={};return{type:l.type,providersResolver:null,factory:null,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:u,inputTransforms:null,inputConfig:l.inputs||an,exportAs:l.exportAs||null,standalone:!0===l.standalone,signals:!0===l.signals,selectors:l.selectors||mn,viewQuery:l.viewQuery||null,features:l.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ki(l.inputs,u),outputs:ki(l.outputs)}}function Co(l){l.features?.forEach(u=>u(l))}function Kr(l,u){if(!l)return null;const h=u?zi:Oi;return()=>("function"==typeof l?l():l).map(_=>h(_)).filter(fr)}const Pn=0,oi=1,Pi=2,xi=3,Ki=4,no=5,Ir=6,Br=7,Zt=8,On=9,Xn=10,Wn=11,gi=12,Ii=13,Ni=14,wi=15,_r=16,Pr=17,io=18,ho=19,ts=20,Ur=21,Yr=22,jo=23,hr=24,Mi=25,Do=1,fs=2,ro=7,Zo=9,xr=11;function er(l){return Array.isArray(l)&&"object"==typeof l[Do]}function vr(l){return Array.isArray(l)&&!0===l[Do]}function lr(l){return 0!=(4&l.flags)}function eo(l){return l.componentOffset>-1}function $o(l){return 1==(1&l.flags)}function cr(l){return!!l.template}function ir(l){return 0!=(512&l[Pi])}function it(l,u){return l.hasOwnProperty(ci)?l[ci]:null}let Ri=at.WeakRef??class li{constructor(u){this.ref=u}deref(){return this.ref}},Jo=0,Jr=null,gs=!1;function Tr(l){const u=Jr;return Jr=l,u}class Mo{constructor(){this.id=Jo++,this.ref=function bo(l){return new Ri(l)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[u,h]of this.producers){const _=h.producerNode.deref();if(null!=_&&h.atTrackingVersion===this.trackingVersion){if(_.producerPollStatus(h.seenValueVersion))return!0}else this.producers.delete(u),_?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const u=gs;gs=!0;try{for(const[h,_]of this.consumers){const A=_.consumerNode.deref();null!=A&&A.trackingVersion===_.atTrackingVersion?A.onConsumerDependencyMayHaveChanged():(this.consumers.delete(h),A?.producers.delete(this.id))}}finally{gs=u}}producerAccessed(){if(gs)throw new Error("");if(null===Jr)return;let u=Jr.producers.get(this.id);void 0===u?(u={consumerNode:Jr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Jr.trackingVersion},Jr.producers.set(this.id,u),this.consumers.set(Jr.id,u)):(u.seenValueVersion=this.valueVersion,u.atTrackingVersion=Jr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Jr?.consumerAllowSignalWrites}producerPollStatus(u){return this.valueVersion!==u||(this.onProducerUpdateValueVersion(),this.valueVersion!==u)}}let Qa=null;function Ic(l){const u=Tr(null);try{return l()}finally{Tr(u)}}const Ta=()=>{};class ec extends Mo{constructor(u,h,_){super(),this.watch=u,this.schedule=h,this.dirty=!1,this.cleanupFn=Ta,this.registerOnCleanup=A=>{this.cleanupFn=A},this.consumerAllowSignalWrites=_}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const u=Tr(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ta,this.watch(this.registerOnCleanup)}finally{Tr(u)}}cleanup(){this.cleanupFn()}}class ra{constructor(u,h,_){this.previousValue=u,this.currentValue=h,this.firstChange=_}isFirstChange(){return this.firstChange}}function vs(){return Gs}function Gs(l){return l.type.prototype.ngOnChanges&&(l.setInput=oa),Ns}function Ns(){const l=wa(this),u=l?.current;if(u){const h=l.previous;if(h===an)l.previous=u;else for(let _ in u)h[_]=u[_];l.current=null,this.ngOnChanges(u)}}function oa(l,u,h,_){const A=this.declaredInputs[h],G=wa(l)||function Oa(l,u){return l[Ol]=u}(l,{previous:an,current:null}),oe=G.current||(G.current={}),Ce=G.previous,Ve=Ce[A];oe[A]=new ra(Ve&&Ve.currentValue,u,Ce===an),l[_]=u}vs.ngInherit=!0;const Ol="__ngSimpleChanges__";function wa(l){return l[Ol]||null}const Qo=function(l,u,h){},zr="svg";function Sr(l){for(;Array.isArray(l);)l=l[Pn];return l}function z(l,u){return Sr(u[l])}function Tt(l,u){return Sr(u[l.index])}function Dt(l,u){return l.data[u]}function Jt(l,u){return l[u]}function In(l,u){const h=u[l];return er(h)?h:h[Pn]}function hn(l,u){return null==u?null:l[u]}function rr(l){l[Pr]=0}function $i(l){1024&l[Pi]||(l[Pi]|=1024,or(l,1))}function Fi(l){1024&l[Pi]&&(l[Pi]&=-1025,or(l,-1))}function or(l,u){let h=l[xi];if(null===h)return;h[no]+=u;let _=h;for(h=h[xi];null!==h&&(1===u&&1===_[no]||-1===u&&0===_[no]);)h[no]+=u,_=h,h=h[xi]}const bi={lFrame:kl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Pl(){return bi.bindingsEnabled}function os(){return null!==bi.skipHydrationRootTNode}function Gn(){return bi.lFrame.lView}function sr(){return bi.lFrame.tView}function tl(l){return bi.lFrame.contextLView=l,l[Zt]}function Es(l){return bi.lFrame.contextLView=null,l}function so(){let l=Oc();for(;null!==l&&64===l.type;)l=l.parent;return l}function Oc(){return bi.lFrame.currentTNode}function Nl(){const l=bi.lFrame,u=l.currentTNode;return l.isParent?u:u.parent}function Po(l,u){const h=bi.lFrame;h.currentTNode=l,h.isParent=u}function nc(){return bi.lFrame.isParent}function Or(){bi.lFrame.isParent=!1}function co(){const l=bi.lFrame;let u=l.bindingRootIndex;return-1===u&&(u=l.bindingRootIndex=l.tView.bindingStartIndex),u}function Gr(){return bi.lFrame.bindingIndex++}function aa(l){const u=bi.lFrame,h=u.bindingIndex;return u.bindingIndex=u.bindingIndex+l,h}function rc(l){bi.lFrame.inI18n=l}function il(l,u){const h=bi.lFrame;h.bindingIndex=h.bindingRootIndex=l,oc(u)}function oc(l){bi.lFrame.currentDirectiveIndex=l}function ol(l){const u=bi.lFrame.currentDirectiveIndex;return-1===u?null:l[u]}function ss(){return bi.lFrame.currentQueryIndex}function Hs(l){bi.lFrame.currentQueryIndex=l}function rd(l){const u=l[oi];return 2===u.type?u.declTNode:1===u.type?l[Ir]:null}function Ro(l,u,h){if(h&fe.SkipSelf){let A=u,G=l;for(;!(A=A.parent,null!==A||h&fe.Host||(A=rd(G),null===A||(G=G[Ni],10&A.type))););if(null===A)return!1;u=A,l=G}const _=bi.lFrame=Pc();return _.currentTNode=u,_.lView=l,!0}function Sa(l){const u=Pc(),h=l[oi];bi.lFrame=u,u.currentTNode=h.firstChild,u.lView=l,u.tView=h,u.contextLView=l,u.bindingIndex=h.bindingStartIndex,u.inI18n=!1}function Pc(){const l=bi.lFrame,u=null===l?null:l.child;return null===u?kl(l):u}function kl(l){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=u),u}function To(){const l=bi.lFrame;return bi.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const sc=To;function Bi(){const l=To();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function Vi(){return bi.lFrame.selectedIndex}function la(l){bi.lFrame.selectedIndex=l}function Ee(){const l=bi.lFrame;return Dt(l.tView,l.selectedIndex)}function He(){bi.lFrame.currentNamespace=zr}function Be(){!function yt(){bi.lFrame.currentNamespace=null}()}let Ft=!0;function Sn(){return Ft}function zn(l){Ft=l}function Ti(l,u){for(let h=u.directiveStart,_=u.directiveEnd;h<_;h++){const G=l.data[h].type.prototype,{ngAfterContentInit:oe,ngAfterContentChecked:Ce,ngAfterViewInit:Ve,ngAfterViewChecked:pt,ngOnDestroy:Pt}=G;oe&&(l.contentHooks??=[]).push(-h,oe),Ce&&((l.contentHooks??=[]).push(h,Ce),(l.contentCheckHooks??=[]).push(h,Ce)),Ve&&(l.viewHooks??=[]).push(-h,Ve),pt&&((l.viewHooks??=[]).push(h,pt),(l.viewCheckHooks??=[]).push(h,pt)),null!=Pt&&(l.destroyHooks??=[]).push(h,Pt)}}function ur(l,u,h){da(l,u,3,h)}function So(l,u,h,_){(3&l[Pi])===h&&da(l,u,h,_)}function ca(l,u){let h=l[Pi];(3&h)===u&&(h&=8191,h+=1,l[Pi]=h)}function da(l,u,h,_){const G=_??-1,oe=u.length-1;let Ce=0;for(let Ve=void 0!==_?65535&l[Pr]:0;Ve<oe;Ve++)if("number"==typeof u[Ve+1]){if(Ce=u[Ve],null!=_&&Ce>=_)break}else u[Ve]<0&&(l[Pr]+=65536),(Ce<G||-1==G)&&(sl(l,h,u,Ve),l[Pr]=(4294901760&l[Pr])+Ve+2),Ve++}function ua(l,u){Qo(4,l,u);const h=Tr(null);try{u.call(l)}finally{Tr(h),Qo(5,l,u)}}function sl(l,u,h,_){const A=h[_]<0,G=h[_+1],Ce=l[A?-h[_]:h[_]];A?l[Pi]>>13<l[Pr]>>16&&(3&l[Pi])===u&&(l[Pi]+=8192,ua(Ce,G)):ua(Ce,G)}const Ts=-1;class fa{constructor(u,h,_){this.factory=u,this.resolving=!1,this.canSeeViewProviders=h,this.injectImpl=_}}function cl(l){return l!==Ts}function Ss(l){return 32767&l}function ac(l,u){let h=function od(l){return l>>16}(l),_=u;for(;h>0;)_=_[Ni],h--;return _}let ha=!0;function dl(l){const u=ha;return ha=l,u}const Ks=255,ul=5;let $f=0;const ao={};function Fl(l,u){const h=sd(l,u);if(-1!==h)return h;const _=u[oi];_.firstCreatePass&&(l.injectorIndex=u.length,lc(_.data,l),lc(u,null),lc(_.blueprint,null));const A=Ca(l,u),G=l.injectorIndex;if(cl(A)){const oe=Ss(A),Ce=ac(A,u),Ve=Ce[oi].data;for(let pt=0;pt<8;pt++)u[G+pt]=Ce[oe+pt]|Ve[oe+pt]}return u[G+8]=A,G}function lc(l,u){l.push(0,0,0,0,0,0,0,0,u)}function sd(l,u){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===u[l.injectorIndex+8]?-1:l.injectorIndex}function Ca(l,u){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let h=0,_=null,A=u;for(;null!==A;){if(_=jl(A),null===_)return Ts;if(h++,A=A[Ni],-1!==_.injectorIndex)return _.injectorIndex|h<<16}return Ts}function ad(l,u,h){!function Gd(l,u,h){let _;"string"==typeof h?_=h.charCodeAt(0)||0:h.hasOwnProperty(vn)&&(_=h[vn]),null==_&&(_=h[vn]=$f++);const A=_&Ks;u.data[l+(A>>ul)]|=1<<A}(l,u,h)}function fl(l,u,h){if(h&fe.Optional||void 0!==l)return l;Fe()}function yr(l,u,h,_){if(h&fe.Optional&&void 0===_&&(_=null),!(h&(fe.Self|fe.Host))){const A=l[On],G=Me(void 0);try{return A?A.get(u,_,h&fe.Optional):Ye(u,_,h&fe.Optional)}finally{Me(G)}}return fl(_,0,h)}function Li(l,u,h,_=fe.Default,A){if(null!==l){if(2048&u[Pi]&&!(_&fe.Self)){const oe=function ud(l,u,h,_,A){let G=l,oe=u;for(;null!==G&&null!==oe&&2048&oe[Pi]&&!(512&oe[Pi]);){const Ce=Hd(G,oe,h,_|fe.Self,ao);if(Ce!==ao)return Ce;let Ve=G.parent;if(!Ve){const pt=oe[ts];if(pt){const Pt=pt.get(h,ao,_);if(Pt!==ao)return Pt}Ve=jl(oe),oe=oe[Ni]}G=Ve}return A}(l,u,h,_,ao);if(oe!==ao)return oe}const G=Hd(l,u,h,_,ao);if(G!==ao)return G}return yr(u,h,_,A)}function Hd(l,u,h,_,A){const G=function cd(l){if("string"==typeof l)return l.charCodeAt(0)||0;const u=l.hasOwnProperty(vn)?l[vn]:void 0;return"number"==typeof u?u>=0?u&Ks:Bu:u}(h);if("function"==typeof G){if(!Ro(u,l,_))return _&fe.Host?fl(A,0,_):yr(u,h,_,A);try{const oe=G(_);if(null!=oe||_&fe.Optional)return oe;Fe()}finally{sc()}}else if("number"==typeof G){let oe=null,Ce=sd(l,u),Ve=Ts,pt=_&fe.Host?u[wi][Ir]:null;for((-1===Ce||_&fe.SkipSelf)&&(Ve=-1===Ce?Ca(l,u):u[Ce+8],Ve!==Ts&&Bl(_,!1)?(oe=u[oi],Ce=Ss(Ve),u=ac(Ve,u)):Ce=-1);-1!==Ce;){const Pt=u[oi];if(ka(G,Ce,Pt.data)){const Ht=ld(Ce,u,h,oe,_,pt);if(Ht!==ao)return Ht}Ve=u[Ce+8],Ve!==Ts&&Bl(_,u[oi].data[Ce+8]===pt)&&ka(G,Ce,u)?(oe=Pt,Ce=Ss(Ve),u=ac(Ve,u)):Ce=-1}}return A}function ld(l,u,h,_,A,G){const oe=u[oi],Ce=oe.data[l+8],Pt=cc(Ce,oe,h,null==_?eo(Ce)&&ha:_!=oe&&0!=(3&Ce.type),A&fe.Host&&G===Ce);return null!==Pt?La(u,oe,Pt,Ce):ao}function cc(l,u,h,_,A){const G=l.providerIndexes,oe=u.data,Ce=1048575&G,Ve=l.directiveStart,Pt=G>>20,_n=A?Ce+Pt:l.directiveEnd;for(let Mn=_?Ce:Ce+Pt;Mn<_n;Mn++){const Yn=oe[Mn];if(Mn<Ve&&h===Yn||Mn>=Ve&&Yn.type===h)return Mn}if(A){const Mn=oe[Ve];if(Mn&&cr(Mn)&&Mn.type===h)return Ve}return null}function La(l,u,h,_){let A=l[h];const G=u.data;if(function al(l){return l instanceof fa}(A)){const oe=A;oe.resolving&&function Y(l,u){const h=u?`. Dependency path: ${u.join(" > ")} > ${l}`:"";throw new T(-200,`Circular dependency in DI detected for ${l}${h}`)}(function B(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():C(l)}(G[h]));const Ce=dl(oe.canSeeViewProviders);oe.resolving=!0;const Ve=oe.injectImpl?Me(oe.injectImpl):null;Ro(l,_,fe.Default);try{A=l[h]=oe.factory(void 0,G,l,_),u.firstCreatePass&&h>=_.directiveStart&&function Ei(l,u,h){const{ngOnChanges:_,ngOnInit:A,ngDoCheck:G}=u.type.prototype;if(_){const oe=Gs(u);(h.preOrderHooks??=[]).push(l,oe),(h.preOrderCheckHooks??=[]).push(l,oe)}A&&(h.preOrderHooks??=[]).push(0-l,A),G&&((h.preOrderHooks??=[]).push(l,G),(h.preOrderCheckHooks??=[]).push(l,G))}(h,G[h],u)}finally{null!==Ve&&Me(Ve),dl(Ce),oe.resolving=!1,sc()}}return A}function ka(l,u,h){return!!(h[u+(l>>ul)]&1<<l)}function Bl(l,u){return!(l&fe.Self||l&fe.Host&&u)}class Ul{constructor(u,h){this._tNode=u,this._lView=h}get(u,h,_){return Li(this._tNode,this._lView,u,We(_),h)}}function Bu(){return new Ul(so(),Gn())}function ls(l){return zt(()=>{const u=l.prototype.constructor,h=u[ci]||dd(u),_=Object.prototype;let A=Object.getPrototypeOf(l.prototype).constructor;for(;A&&A!==_;){const G=A[ci]||dd(A);if(G&&G!==h)return G;A=Object.getPrototypeOf(A)}return G=>new G})}function dd(l){return k(l)?()=>{const u=dd(V(l));return u&&u()}:it(l)}function jl(l){const u=l[oi],h=u.type;return 2===h?u.declTNode:1===h?l[Ir]:null}function dc(l){return function Fu(l,u){if("class"===u)return l.classes;if("style"===u)return l.styles;const h=l.attrs;if(h){const _=h.length;let A=0;for(;A<_;){const G=h[A];if(Xt(G))break;if(0===G)A+=2;else if("number"==typeof G)for(A++;A<_&&"string"==typeof h[A];)A++;else{if(G===u)return h[A+1];A+=2}}}return null}(so(),l)}const Ba="__parameters__";function ja(l,u,h){return zt(()=>{const _=function Ys(l){return function(...h){if(l){const _=l(...h);for(const A in _)this[A]=_[A]}}}(u);function A(...G){if(this instanceof A)return _.apply(this,G),this;const oe=new A(...G);return Ce.annotation=oe,Ce;function Ce(Ve,pt,Pt){const Ht=Ve.hasOwnProperty(Ba)?Ve[Ba]:Object.defineProperty(Ve,Ba,{value:[]})[Ba];for(;Ht.length<=Pt;)Ht.push(null);return(Ht[Pt]=Ht[Pt]||[]).push(oe),Ve}}return h&&(A.prototype=Object.create(h.prototype)),A.prototype.ngMetadataName=l,A.annotationCls=A,A})}function xs(l,u){l.forEach(h=>Array.isArray(h)?xs(h,u):u(h))}function Kd(l,u,h){u>=l.length?l.push(h):l.splice(u,0,h)}function Hl(l,u){return u>=l.length-1?l.pop():l.splice(u,1)[0]}function Kl(l,u){const h=[];for(let _=0;_<l;_++)h.push(u);return h}function qe(l,u,h){let _=Vt(l,u);return _>=0?l[1|_]=h:(_=~_,function Bc(l,u,h,_){let A=l.length;if(A==u)l.push(h,_);else if(1===A)l.push(_,l[0]),l[0]=h;else{for(A--,l.push(l[A-1],l[A]);A>u;)l[A]=l[A-2],A--;l[u]=h,l[u+1]=_}}(l,_,u,h)),_}function St(l,u){const h=Vt(l,u);if(h>=0)return l[1|h]}function Vt(l,u){return function yn(l,u,h){let _=0,A=l.length>>h;for(;A!==_;){const G=_+(A-_>>1),oe=l[G<<h];if(u===oe)return G<<h;oe>u?A=G:_=G+1}return~(A<<h)}(l,u,1)}const Ws=lt(ja("Optional"),8),Ko=lt(ja("SkipSelf"),4);function th(l){return 128==(128&l.flags)}var Hu=function(l){return l[l.Important=1]="Important",l[l.DashCase=2]="DashCase",l}(Hu||{});const sE=/^>|^->|<!--|-->|--!>|<!-$/g,f_=/(<|>)/,aE="\u200b$1\u200b";const Pm=new Map;let nh=0;const Nm="__ngContext__";function Fs(l,u){er(u)?(l[Nm]=u[ho],function cE(l){Pm.set(l[ho],l)}(u)):l[Nm]=u}let ih;function zl(l,u){return ih(l,u)}function eu(l){const u=l[xi];return vr(u)?u[xi]:u}function tu(l){return y_(l[gi])}function v_(l){return y_(l[Ki])}function y_(l){for(;null!==l&&!vr(l);)l=l[Ki];return l}function yd(l,u,h,_,A){if(null!=_){let G,oe=!1;vr(_)?G=_:er(_)&&(oe=!0,_=_[Pn]);const Ce=Sr(_);0===l&&null!==h?null==A?D_(u,h,Ce):Zl(u,h,Ce,A||null,!0):1===l&&null!==h?Zl(u,h,Ce,A||null,!0):2===l?function lh(l,u,h){const _=iu(l,u);_&&function M_(l,u,h,_){l.removeChild(u,h,_)}(l,_,u,h)}(u,Ce,oe):3===l&&u.destroyNode(Ce),null!=G&&function gE(l,u,h,_,A){const G=h[ro];G!==Sr(h)&&yd(u,l,_,G,A);for(let Ce=xr;Ce<h.length;Ce++){const Ve=h[Ce];qu(Ve[oi],Ve,l,u,_,G)}}(u,l,G,h,A)}}function rh(l,u){return l.createText(u)}function Zu(l,u){return l.createComment(function h_(l){return l.replace(sE,u=>u.replace(f_,aE))}(u))}function nu(l,u,h){return l.createElement(u,h)}function S_(l,u){const h=l[Zo],_=h.indexOf(u);Fi(u),h.splice(_,1)}function Fm(l,u){if(l.length<=xr)return;const h=xr+u,_=l[h];if(_){const A=_[_r];null!==A&&A!==l&&S_(A,_),u>0&&(l[h-1][Ki]=_[Ki]);const G=Hl(l,xr+u);!function Ka(l,u){qu(l,u,u[Wn],2,null,null),u[Pn]=null,u[Ir]=null}(_[oi],_);const oe=G[io];null!==oe&&oe.detachView(G[oi]),_[xi]=null,_[Ki]=null,_[Pi]&=-129}return _}function Bm(l,u){if(!(256&u[Pi])){const h=u[Wn];u[jo]?.destroy(),u[hr]?.destroy(),h.destroyNode&&qu(l,u,h,3,null,null),function E_(l){let u=l[gi];if(!u)return ml(l[oi],l);for(;u;){let h=null;if(er(u))h=u[gi];else{const _=u[xr];_&&(h=_)}if(!h){for(;u&&!u[Ki]&&u!==l;)er(u)&&ml(u[oi],u),u=u[xi];null===u&&(u=l),er(u)&&ml(u[oi],u),h=u&&u[Ki]}u=h}}(u)}}function ml(l,u){if(!(256&u[Pi])){u[Pi]&=-129,u[Pi]|=256,function C_(l,u){let h;if(null!=l&&null!=(h=l.destroyHooks))for(let _=0;_<h.length;_+=2){const A=u[h[_]];if(!(A instanceof fa)){const G=h[_+1];if(Array.isArray(G))for(let oe=0;oe<G.length;oe+=2){const Ce=A[G[oe]],Ve=G[oe+1];Qo(4,Ce,Ve);try{Ve.call(Ce)}finally{Qo(5,Ce,Ve)}}else{Qo(4,A,G);try{G.call(A)}finally{Qo(5,A,G)}}}}}(l,u),function Um(l,u){const h=l.cleanup,_=u[Br];if(null!==h)for(let G=0;G<h.length-1;G+=2)if("string"==typeof h[G]){const oe=h[G+3];oe>=0?_[oe]():_[-oe].unsubscribe(),G+=2}else h[G].call(_[h[G+1]]);null!==_&&(u[Br]=null);const A=u[Ur];if(null!==A){u[Ur]=null;for(let G=0;G<A.length;G++)(0,A[G])()}}(l,u),1===u[oi].type&&u[Wn].destroy();const h=u[_r];if(null!==h&&vr(u[xi])){h!==u[xi]&&S_(h,u);const _=u[io];null!==_&&_.detachView(l)}!function dE(l){Pm.delete(l[ho])}(u)}}function jm(l,u,h){return oh(l,u.parent,h)}function oh(l,u,h){let _=u;for(;null!==_&&40&_.type;)_=(u=_).parent;if(null===_)return h[Pn];{const{componentOffset:A}=_;if(A>-1){const{encapsulation:G}=l.data[_.directiveStart+A];if(G===$t.None||G===$t.Emulated)return null}return Tt(_,h)}}function Zl(l,u,h,_,A){l.insertBefore(u,h,_,A)}function D_(l,u,h){l.appendChild(u,h)}function x_(l,u,h,_,A){null!==_?Zl(l,u,h,_,A):D_(l,u,h)}function iu(l,u){return l.parentNode(u)}function Gm(l,u,h){return sh(l,u,h)}function A_(l,u,h){return 40&l.type?Tt(l,h):null}let Hm,dh,uh,Ya,sh=A_;function I_(l,u){sh=l,Hm=u}function ah(l,u,h,_){const A=jm(l,_,u),G=u[Wn],Ce=Gm(_.parent||u[Ir],_,u);if(null!=A)if(Array.isArray(h))for(let Ve=0;Ve<h.length;Ve++)x_(G,A,h[Ve],Ce,!1);else x_(G,A,h,Ce,!1);void 0!==Hm&&Hm(G,_,u,h,A)}function $u(l,u){if(null!==u){const h=u.type;if(3&h)return Tt(u,l);if(4&h)return Hc(-1,l[u.index]);if(8&h){const _=u.child;if(null!==_)return $u(l,_);{const A=l[u.index];return vr(A)?Hc(-1,A):Sr(A)}}if(32&h)return zl(u,l)()||Sr(l[u.index]);{const _=w_(l,u);return null!==_?Array.isArray(_)?_[0]:$u(eu(l[wi]),_):$u(l,u.next)}}return null}function w_(l,u){return null!==u?l[wi][Ir].projection[u.projection]:null}function Hc(l,u){const h=xr+l+1;if(h<u.length){const _=u[h],A=_[oi].firstChild;if(null!==A)return $u(_,A)}return u[ro]}function ch(l,u,h,_,A,G,oe){for(;null!=h;){const Ce=_[h.index],Ve=h.type;if(oe&&0===u&&(Ce&&Fs(Sr(Ce),_),h.flags|=2),32!=(32&h.flags))if(8&Ve)ch(l,u,h.child,_,A,G,!1),yd(u,l,A,Ce,G);else if(32&Ve){const pt=zl(h,_);let Pt;for(;Pt=pt();)yd(u,l,A,Pt,G);yd(u,l,A,Ce,G)}else 16&Ve?R_(l,u,_,h,A,G):yd(u,l,A,Ce,G);h=oe?h.projectionNext:h.next}}function qu(l,u,h,_,A,G){ch(h,_,l.firstChild,u,A,G,!1)}function R_(l,u,h,_,A,G){const oe=h[wi],Ve=oe[Ir].projection[_.projection];if(Array.isArray(Ve))for(let pt=0;pt<Ve.length;pt++)yd(u,l,A,Ve[pt],G);else{let pt=Ve;const Pt=oe[xi];th(_)&&(pt.flags|=128),ch(l,u,pt,Pt,A,G,!0)}}function Km(l,u,h){""===h?l.removeAttribute(u,"class"):l.setAttribute(u,"class",h)}function L_(l,u,h){const{mergedAttrs:_,classes:A,styles:G}=h;null!==_&&ut(l,u,_),null!==A&&Km(l,u,A),null!==G&&function _E(l,u,h){l.setAttribute(u,"style",h)}(l,u,G)}function Kc(l){return function Ym(){if(void 0===dh&&(dh=null,at.trustedTypes))try{dh=at.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return dh}()?.createHTML(l)||l}function F_(l){uh=l}function Zs(){if(void 0!==uh)return uh;if(typeof document<"u")return document;throw new T(210,!1)}function Wm(){if(void 0===Ya&&(Ya=null,at.trustedTypes))try{Ya=at.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return Ya}function B_(l){return Wm()?.createHTML(l)||l}function j_(l){return Wm()?.createScriptURL(l)||l}class bd{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${O})`}}class EE extends bd{getTypeName(){return"HTML"}}class Ed extends bd{getTypeName(){return"Style"}}class V_ extends bd{getTypeName(){return"Script"}}class TE extends bd{getTypeName(){return"URL"}}class SE extends bd{getTypeName(){return"ResourceURL"}}function pl(l){return l instanceof bd?l.changingThisBreaksApplicationSecurity:l}function Td(l,u){const h=function G_(l){return l instanceof bd&&l.getTypeName()||null}(l);if(null!=h&&h!==u){if("ResourceURL"===h&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${h} (see ${O})`)}return h===u}function ru(l){return new EE(l)}function H_(l){return new Ed(l)}function K_(l){return new V_(l)}function fh(l){return new TE(l)}function zm(l){return new SE(l)}function Y_(l){const u=new CE(l);return function z_(){try{return!!(new window.DOMParser).parseFromString(Kc(""),"text/html")}catch{return!1}}()?new W_(u):u}class W_{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const h=(new window.DOMParser).parseFromString(Kc(u),"text/html").body;return null===h?this.inertDocumentHelper.getInertBodyElement(u):(h.removeChild(h.firstChild),h)}catch{return null}}}class CE{constructor(u){this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(u){const h=this.inertDocument.createElement("template");return h.innerHTML=Kc(u),h}}const Zm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Sd(l){return(l=String(l)).match(Zm)?l:"unsafe:"+l}function gc(l){const u={};for(const h of l.split(","))u[h]=!0;return u}function ou(...l){const u={};for(const h of l)for(const _ in h)h.hasOwnProperty(_)&&(u[_]=!0);return u}const Z_=gc("area,br,col,hr,img,wbr"),$_=gc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hh=gc("rp,rt"),$m=ou(Z_,ou($_,gc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ou(hh,gc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ou(hh,$_)),qm=gc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jm=ou(qm,gc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),xE=gc("script,style,template");class X_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let h=u.firstChild,_=!0;for(;h;)if(h.nodeType===Node.ELEMENT_NODE?_=this.startElement(h):h.nodeType===Node.TEXT_NODE?this.chars(h.nodeValue):this.sanitizedSomething=!0,_&&h.firstChild)h=h.firstChild;else for(;h;){h.nodeType===Node.ELEMENT_NODE&&this.endElement(h);let A=this.checkClobberedElement(h,h.nextSibling);if(A){h=A;break}h=this.checkClobberedElement(h,h.parentNode)}return this.buf.join("")}startElement(u){const h=u.nodeName.toLowerCase();if(!$m.hasOwnProperty(h))return this.sanitizedSomething=!0,!xE.hasOwnProperty(h);this.buf.push("<"),this.buf.push(h);const _=u.attributes;for(let A=0;A<_.length;A++){const G=_.item(A),oe=G.name,Ce=oe.toLowerCase();if(!Jm.hasOwnProperty(Ce)){this.sanitizedSomething=!0;continue}let Ve=G.value;qm[Ce]&&(Ve=Sd(Ve)),this.buf.push(" ",oe,'="',Xm(Ve),'"')}return this.buf.push(">"),!0}endElement(u){const h=u.nodeName.toLowerCase();$m.hasOwnProperty(h)&&!Z_.hasOwnProperty(h)&&(this.buf.push("</"),this.buf.push(h),this.buf.push(">"))}chars(u){this.buf.push(Xm(u))}checkClobberedElement(u,h){if(h&&(u.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return h}}const ME=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qm=/([^\#-~ |!])/g;function Xm(l){return l.replace(/&/g,"&amp;").replace(ME,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(Qm,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ju;function ev(l,u){let h=null;try{Ju=Ju||Y_(l);let _=u?String(u):"";h=Ju.getInertBodyElement(_);let A=5,G=_;do{if(0===A)throw new Error("Failed to sanitize html because the input is unstable");A--,_=G,G=h.innerHTML,h=Ju.getInertBodyElement(_)}while(_!==G);return Kc((new X_).sanitizeChildren(Qu(h)||h))}finally{if(h){const _=Qu(h)||h;for(;_.firstChild;)_.removeChild(_.firstChild)}}}function Qu(l){return"content"in l&&function tv(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var _c=function(l){return l[l.NONE=0]="NONE",l[l.HTML=1]="HTML",l[l.STYLE=2]="STYLE",l[l.SCRIPT=3]="SCRIPT",l[l.URL=4]="URL",l[l.RESOURCE_URL=5]="RESOURCE_URL",l}(_c||{});function nv(l){const u=ef();return u?B_(u.sanitize(_c.HTML,l)||""):Td(l,"HTML")?B_(pl(l)):ev(Zs(),C(l))}function ep(l){const u=ef();return u?u.sanitize(_c.URL,l)||"":Td(l,"URL")?pl(l):Sd(C(l))}function iv(l){const u=ef();if(u)return j_(u.sanitize(_c.RESOURCE_URL,l)||"");if(Td(l,"ResourceURL"))return j_(pl(l));throw new T(904,!1)}function Xu(l,u,h){return function wE(l,u){return"src"===u&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===u&&("base"===l||"link"===l)?iv:ep}(u,h)(l)}function ef(){const l=Gn();return l&&l[Xn].sanitizer}class Qi{constructor(u,h){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof h?this.__NG_ELEMENT_ID__=h:void 0!==h&&(this.\u0275prov=Ne({token:this,providedIn:h.providedIn||"root",factory:h.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const tf=new Qi("ENVIRONMENT_INITIALIZER"),vc=new Qi("INJECTOR",-1),ov=new Qi("INJECTOR_DEF_TYPES");class sv{get(u,h=Bt){if(h===Bt){const _=new Error(`NullInjectorError: No provider for ${y(u)}!`);throw _.name="NullInjectorError",_}return h}}function mh(l){return{\u0275providers:l}}function av(...l){return{\u0275providers:lv(0,l),\u0275fromNgModule:!0}}function lv(l,...u){const h=[],_=new Set;let A;return xs(u,G=>{const oe=G;ip(oe,h,[],_)&&(A||=[],A.push(oe))}),void 0!==A&&np(A,h),h}function np(l,u){for(let h=0;h<l.length;h++){const{providers:A}=l[h];ph(A,G=>{u.push(G)})}}function ip(l,u,h,_){if(!(l=V(l)))return!1;let A=null,G=$(l);const oe=!G&&Di(l);if(G||oe){if(oe&&!oe.standalone)return!1;A=l}else{const Ve=l.ngModule;if(G=$(Ve),!G)return!1;A=Ve}const Ce=_.has(A);if(oe){if(Ce)return!1;if(_.add(A),oe.dependencies){const Ve="function"==typeof oe.dependencies?oe.dependencies():oe.dependencies;for(const pt of Ve)ip(pt,u,h,_)}}else{if(!G)return!1;{if(null!=G.imports&&!Ce){let pt;_.add(A);try{xs(G.imports,Pt=>{ip(Pt,u,h,_)&&(pt||=[],pt.push(Pt))})}finally{}void 0!==pt&&np(pt,u)}if(!Ce){const pt=it(A)||(()=>new A);u.push({provide:A,useFactory:pt,deps:mn},{provide:ov,useValue:A,multi:!0},{provide:tf,useValue:()=>Xe(A),multi:!0})}const Ve=G.providers;null==Ve||Ce||ph(Ve,Pt=>{u.push(Pt)})}}return A!==l&&void 0!==l.providers}function ph(l,u){for(let h of l)P(h)&&(h=h.\u0275providers),Array.isArray(h)?ph(h,u):u(h)}const OE=f({provide:String,useValue:f});function rp(l){return null!==l&&"object"==typeof l&&OE in l}function Cd(l){return"function"==typeof l}const op=new Qi("Set Injector scope."),gh={},RE={};let sp;function _h(){return void 0===sp&&(sp=new sv),sp}class yc{}class ap extends yc{get destroyed(){return this._destroyed}constructor(u,h,_,A){super(),this.parent=h,this.source=_,this.scopes=A,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lp(u,oe=>this.processProvider(oe)),this.records.set(vc,nf(void 0,this)),A.has("environment")&&this.records.set(yc,nf(void 0,this));const G=this.records.get(op);null!=G&&"string"==typeof G.value&&this.scopes.add(G.value),this.injectorDefTypes=new Set(this.get(ov.multi,mn,fe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const h of this._ngOnDestroyHooks)h.ngOnDestroy();const u=this._onDestroyHooks;this._onDestroyHooks=[];for(const h of u)h()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(u){return this.assertNotDestroyed(),this._onDestroyHooks.push(u),()=>this.removeOnDestroy(u)}runInContext(u){this.assertNotDestroyed();const h=xt(this),_=Me(void 0);try{return u()}finally{xt(h),Me(_)}}get(u,h=Bt,_=fe.Default){if(this.assertNotDestroyed(),u.hasOwnProperty(gn))return u[gn](this);_=We(_);const A=xt(this),G=Me(void 0);try{if(!(_&fe.SkipSelf)){let Ce=this.records.get(u);if(void 0===Ce){const Ve=function BE(l){return"function"==typeof l||"object"==typeof l&&l instanceof Qi}(u)&&ae(u);Ce=Ve&&this.injectableDefInScope(Ve)?nf(bc(u),gh):null,this.records.set(u,Ce)}if(null!=Ce)return this.hydrate(u,Ce)}return(_&fe.Self?_h():this.parent).get(u,h=_&fe.Optional&&h===Bt?null:h)}catch(oe){if("NullInjectorError"===oe.name){if((oe[jt]=oe[jt]||[]).unshift(y(u)),A)throw oe;return function dt(l,u,h,_){const A=l[jt];throw u[Gt]&&A.unshift(u[Gt]),l.message=function Lt(l,u,h,_=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let A=y(u);if(Array.isArray(u))A=u.map(y).join(" -> ");else if("object"==typeof u){let G=[];for(let oe in u)if(u.hasOwnProperty(oe)){let Ce=u[oe];G.push(oe+":"+("string"==typeof Ce?JSON.stringify(Ce):y(Ce)))}A=`{${G.join(", ")}}`}return`${h}${_?"("+_+")":""}[${A}]: ${l.replace(cn,"\n  ")}`}("\n"+l.message,A,h,_),l.ngTokenPath=A,l[jt]=null,l}(oe,u,"R3InjectorError",this.source)}throw oe}finally{Me(G),xt(A)}}resolveInjectorInitializers(){const u=xt(this),h=Me(void 0);try{const _=this.get(tf.multi,mn,fe.Self);for(const A of _)A()}finally{xt(u),Me(h)}}toString(){const u=[],h=this.records;for(const _ of h.keys())u.push(y(_));return`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(u){let h=Cd(u=V(u))?u:V(u&&u.provide);const _=function NE(l){return rp(l)?nf(void 0,l.useValue):nf(LE(l),gh)}(u);if(Cd(u)||!0!==u.multi)this.records.get(h);else{let A=this.records.get(h);A||(A=nf(void 0,gh,!0),A.factory=()=>$e(A.multi),this.records.set(h,A)),h=u,A.multi.push(u)}this.records.set(h,_)}hydrate(u,h){return h.value===gh&&(h.value=RE,h.value=h.factory()),"object"==typeof h.value&&h.value&&function FE(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(h.value)&&this._ngOnDestroyHooks.add(h.value),h.value}injectableDefInScope(u){if(!u.providedIn)return!1;const h=V(u.providedIn);return"string"==typeof h?"any"===h||this.scopes.has(h):this.injectorDefTypes.has(h)}removeOnDestroy(u){const h=this._onDestroyHooks.indexOf(u);-1!==h&&this._onDestroyHooks.splice(h,1)}}function bc(l){const u=ae(l),h=null!==u?u.factory:it(l);if(null!==h)return h;if(l instanceof Qi)throw new T(204,!1);if(l instanceof Function)return function br(l){const u=l.length;if(u>0)throw Kl(u,"?"),new T(204,!1);const h=function X(l){return l&&(l[ie]||l[te])||null}(l);return null!==h?()=>h.factory(l):()=>new l}(l);throw new T(204,!1)}function LE(l,u,h){let _;if(Cd(l)){const A=V(l);return it(A)||bc(A)}if(rp(l))_=()=>V(l.useValue);else if(function dv(l){return!(!l||!l.useFactory)}(l))_=()=>l.useFactory(...$e(l.deps||[]));else if(function cv(l){return!(!l||!l.useExisting)}(l))_=()=>Xe(V(l.useExisting));else{const A=V(l&&(l.useClass||l.provide));if(!function kE(l){return!!l.deps}(l))return it(A)||bc(A);_=()=>new A(...$e(l.deps))}return _}function nf(l,u,h=!1){return{factory:l,value:u,multi:h?[]:void 0}}function lp(l,u){for(const h of l)Array.isArray(h)?lp(h,u):h&&P(h)?lp(h.\u0275providers,u):u(h)}const uv=new Qi("AppId",{providedIn:"root",factory:()=>UE}),UE="ng",fv=new Qi("Platform Initializer"),cp=new Qi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jE=new Qi("AnimationModuleType"),VE=new Qi("CSP nonce",{providedIn:"root",factory:()=>Zs().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Eh=(l,u)=>null;function mv(l,u){return Eh(l,u)}class qE{}class gv{}class QE{resolveComponentFactory(u){throw function JE(l){const u=Error(`No component factory found for ${y(l)}.`);return u.ngComponent=l,u}(u)}}let lf=(()=>{class l{static#e=this.NULL=new QE}return l})();function cf(){return au(so(),Gn())}function au(l,u){return new df(Tt(l,u))}let df=(()=>{class l{constructor(h){this.nativeElement=h}static#e=this.__NG_ELEMENT_ID__=cf}return l})();function XE(l){return l instanceof df?l.nativeElement:l}class vv{}let Ui=(()=>{class l{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function oM(){const l=Gn(),h=In(so().index,l);return(er(h)?h:l)[Wn]}()}return l})(),eT=(()=>{class l{static#e=this.\u0275prov=Ne({token:l,providedIn:"root",factory:()=>null})}return l})();class yv{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const vp=new yv("16.1.7"),Lo={};function uf(l){for(;l;){l[Pi]|=64;const u=eu(l);if(ir(l)&&!u)return l;l=u}return null}function yp(l){return l.ngOriginalError}class Dd{constructor(){this._console=console}handleError(u){const h=this._findOriginalError(u);this._console.error("ERROR",u),h&&this._console.error("ORIGINAL ERROR",h)}_findOriginalError(u){let h=u&&yp(u);for(;h&&yp(h);)h=yp(h);return h||null}}const $n=new Qi("",{providedIn:"root",factory:()=>!1});function Ev(l){return l.ownerDocument.defaultView}function Ec(l){return l instanceof Function?l():l}class Dv extends Mo{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(u){this._lView=u}onConsumerDependencyMayHaveChanged(){uf(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(u,h,_){const A=Tr(this);this.trackingVersion++;try{u(h,_)}finally{Tr(A)}}destroy(){this.trackingVersion++}}let ff=null;function Bs(){return ff??=new Dv,ff}function Ep(l,u){return l[u]??Bs()}function cu(l,u){const h=Bs();h.hasReadASignal&&(l[u]=ff,h.lView=l,ff=new Dv)}const Xi={};function Tp(l){du(sr(),Gn(),Vi()+l,!1)}function du(l,u,h,_){if(!_)if(3==(3&u[Pi])){const G=l.preOrderCheckHooks;null!==G&&ur(u,G,h)}else{const G=l.preOrderHooks;null!==G&&So(u,G,0,h)}la(h)}function xp(l,u=null,h=null,_){const A=Dh(l,u,h,_);return A.resolveInjectorInitializers(),A}function Dh(l,u=null,h=null,_,A=new Set){const G=[h||mn,av(l)];return _=_||("object"==typeof l?void 0:y(l)),new ap(G,u||_h(),_||null,A)}let Yc=(()=>{class l{static#e=this.THROW_IF_NOT_FOUND=Bt;static#t=this.NULL=new sv;static create(h,_){if(Array.isArray(h))return xp({name:""},_,h,"");{const A=h.name??"";return xp({name:A},h.parent,h.providers,A)}}static#n=this.\u0275prov=Ne({token:l,providedIn:"any",factory:()=>Xe(vc)});static#i=this.__NG_ELEMENT_ID__=-1}return l})();function uu(l,u=fe.Default){const h=Gn();return null===h?Xe(l,u):Li(so(),h,V(l),u)}function Av(){throw new Error("invalid")}function hf(l,u,h,_,A,G,oe,Ce,Ve,pt,Pt){const Ht=u.blueprint.slice();return Ht[Pn]=A,Ht[Pi]=140|_,(null!==pt||l&&2048&l[Pi])&&(Ht[Pi]|=2048),rr(Ht),Ht[xi]=Ht[Ni]=l,Ht[Zt]=h,Ht[Xn]=oe||l&&l[Xn],Ht[Wn]=Ce||l&&l[Wn],Ht[On]=Ve||l&&l[On]||null,Ht[Ir]=G,Ht[ho]=function lE(){return nh++}(),Ht[Yr]=Pt,Ht[ts]=pt,Ht[wi]=2==u.type?l[wi]:Ht,Ht}function fu(l,u,h,_,A){let G=l.data[u];if(null===G)G=Mp(l,u,h,_,A),function po(){return bi.lFrame.inI18n}()&&(G.flags|=32);else if(64&G.type){G.type=h,G.value=_,G.attrs=A;const oe=Nl();G.injectorIndex=null===oe?-1:oe.injectorIndex}return Po(G,!0),G}function Mp(l,u,h,_,A){const G=Oc(),oe=nc(),Ve=l.data[u]=function gf(l,u,h,_,A,G){let oe=u?u.injectorIndex:-1,Ce=0;return os()&&(Ce|=128),{type:h,index:_,insertBeforeIndex:null,injectorIndex:oe,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Ce,providerIndexes:0,value:A,attrs:G,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,oe?G:G&&G.parent,h,u,_,A);return null===l.firstChild&&(l.firstChild=Ve),null!==G&&(oe?null==G.child&&null!==Ve.parent&&(G.child=Ve):null===G.next&&(G.next=Ve,Ve.prev=G)),Ve}function mf(l,u,h,_){if(0===h)return-1;const A=u.length;for(let G=0;G<h;G++)u.push(_),l.blueprint.push(_),l.data.push(null);return A}function Iv(l,u,h,_,A){const G=Ep(u,jo),oe=Vi(),Ce=2&_;try{if(la(-1),Ce&&u.length>Mi&&du(l,u,Mi,!1),Qo(Ce?2:0,A),Ce)G.runInContext(h,_,A);else{const pt=Tr(null);try{h(_,A)}finally{Tr(pt)}}}finally{Ce&&null===u[jo]&&cu(u,jo),la(oe),Qo(Ce?3:1,A)}}function Ap(l,u,h){if(lr(u)){const _=Tr(null);try{const G=u.directiveEnd;for(let oe=u.directiveStart;oe<G;oe++){const Ce=l.data[oe];Ce.contentQueries&&Ce.contentQueries(1,h[oe],oe)}}finally{Tr(_)}}}function hu(l,u,h){Pl()&&(function mT(l,u,h,_){const A=h.directiveStart,G=h.directiveEnd;eo(h)&&function Md(l,u,h){const _=Tt(u,l),A=wv(h);let oe=16;h.signals?oe=4096:h.onPush&&(oe=64);const Ce=Ih(l,hf(l,A,null,oe,_,u,null,l[Xn].rendererFactory.createRenderer(_,h),null,null,null));l[u.index]=Ce}(u,h,l.data[A+h.componentOffset]),l.firstCreatePass||Fl(h,u),Fs(_,u);const oe=h.initialInputs;for(let Ce=A;Ce<G;Ce++){const Ve=l.data[Ce],pt=La(u,l,Ce,h);Fs(pt,u),null!==oe&&Rp(0,Ce-A,pt,Ve,0,oe),cr(Ve)&&(In(h.index,u)[Zt]=La(u,l,Ce,h))}}(l,u,h,Tt(h,u)),64==(64&h.flags)&&Nv(l,u,h))}function Wa(l,u,h=Tt){const _=u.localNames;if(null!==_){let A=u.index+1;for(let G=0;G<_.length;G+=2){const oe=_[G+1],Ce=-1===oe?h(u,l):l[oe];l[A++]=Ce}}}function wv(l){const u=l.tView;return null===u||u.incompleteFirstPass?l.tView=xh(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts,l.id):u}function xh(l,u,h,_,A,G,oe,Ce,Ve,pt,Pt){const Ht=Mi+_,_n=Ht+A,Mn=function xa(l,u){const h=[];for(let _=0;_<u;_++)h.push(_<l?null:Xi);return h}(Ht,_n),Yn="function"==typeof pt?pt():pt;return Mn[oi]={type:l,blueprint:Mn,template:h,queries:null,viewQuery:Ce,declTNode:u,data:Mn.slice().fill(null,Ht),bindingStartIndex:Ht,expandoStartIndex:_n,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof G?G():G,pipeRegistry:"function"==typeof oe?oe():oe,firstChild:null,schemas:Ve,consts:Yn,incompleteFirstPass:!1,ssrId:Pt}}let ga=l=>null;function Ov(l,u,h,_){for(let A in l)if(l.hasOwnProperty(A)){h=null===h?{}:h;const G=l[A];null===_?wp(h,u,A,G):_.hasOwnProperty(A)&&wp(h,u,_[A],G)}return h}function wp(l,u,h,_){l.hasOwnProperty(h)?l[h].push(u,_):l[h]=[u,_]}function _a(l,u,h,_,A,G,oe,Ce){const Ve=Tt(u,h);let Pt,pt=u.inputs;!Ce&&null!=pt&&(Pt=pt[_])?(Ad(l,h,Pt,_,A),eo(u)&&function Pv(l,u){const h=In(u,l);16&h[Pi]||(h[Pi]|=64)}(h,u.index)):3&u.type&&(_=function dT(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(_),A=null!=oe?oe(A,u.value||"",_):A,G.setProperty(Ve,_,A))}function Op(l,u,h,_){if(Pl()){const A=null===_?null:{"":-1},G=function gT(l,u){const h=l.directiveRegistry;let _=null,A=null;if(h)for(let G=0;G<h.length;G++){const oe=h[G];if(Un(u,oe.selectors,!1))if(_||(_=[]),cr(oe))if(null!==oe.findHostDirectiveDefs){const Ce=[];A=A||new Map,oe.findHostDirectiveDefs(oe,Ce,A),_.unshift(...Ce,oe),$s(l,u,Ce.length)}else _.unshift(oe),$s(l,u,0);else A=A||new Map,oe.findHostDirectiveDefs?.(oe,_,A),_.push(oe)}return null===_?null:[_,A]}(l,h);let oe,Ce;null===G?oe=Ce=null:[oe,Ce]=G,null!==oe&&Rv(l,u,h,oe,A,Ce),A&&function xd(l,u,h){if(u){const _=l.localNames=[];for(let A=0;A<u.length;A+=2){const G=h[u[A+1]];if(null==G)throw new T(-301,!1);_.push(u[A],G)}}}(h,_,A)}h.mergedAttrs=et(h.mergedAttrs,h.attrs)}function Rv(l,u,h,_,A,G){for(let pt=0;pt<_.length;pt++)ad(Fl(h,u),l,_[pt].type);!function Pp(l,u,h){l.flags|=1,l.directiveStart=u,l.directiveEnd=u+h,l.providerIndexes=u}(h,l.data.length,_.length);for(let pt=0;pt<_.length;pt++){const Pt=_[pt];Pt.providersResolver&&Pt.providersResolver(Pt)}let oe=!1,Ce=!1,Ve=mf(l,u,_.length,null);for(let pt=0;pt<_.length;pt++){const Pt=_[pt];h.mergedAttrs=et(h.mergedAttrs,Pt.hostAttrs),Wc(l,h,u,Ve,Pt),za(Ve,Pt,A),null!==Pt.contentQueries&&(h.flags|=4),(null!==Pt.hostBindings||null!==Pt.hostAttrs||0!==Pt.hostVars)&&(h.flags|=64);const Ht=Pt.type.prototype;!oe&&(Ht.ngOnChanges||Ht.ngOnInit||Ht.ngDoCheck)&&((l.preOrderHooks??=[]).push(h.index),oe=!0),!Ce&&(Ht.ngOnChanges||Ht.ngDoCheck)&&((l.preOrderCheckHooks??=[]).push(h.index),Ce=!0),Ve++}!function _f(l,u,h){const A=u.directiveEnd,G=l.data,oe=u.attrs,Ce=[];let Ve=null,pt=null;for(let Pt=u.directiveStart;Pt<A;Pt++){const Ht=G[Pt],_n=h?h.get(Ht):null,Yn=_n?_n.outputs:null;Ve=Ov(Ht.inputs,Pt,Ve,_n?_n.inputs:null),pt=Ov(Ht.outputs,Pt,pt,Yn);const ii=null===Ve||null===oe||Fn(u)?null:pu(Ve,Pt,oe);Ce.push(ii)}null!==Ve&&(Ve.hasOwnProperty("class")&&(u.flags|=8),Ve.hasOwnProperty("style")&&(u.flags|=16)),u.initialInputs=Ce,u.inputs=Ve,u.outputs=pt}(l,h,G)}function Nv(l,u,h){const _=h.directiveStart,A=h.directiveEnd,G=h.index,oe=function rl(){return bi.lFrame.currentDirectiveIndex}();try{la(G);for(let Ce=_;Ce<A;Ce++){const Ve=l.data[Ce],pt=u[Ce];oc(Ce),(null!==Ve.hostBindings||0!==Ve.hostVars||null!==Ve.hostAttrs)&&pT(Ve,pt)}}finally{la(-1),oc(oe)}}function pT(l,u){null!==l.hostBindings&&l.hostBindings(1,u)}function $s(l,u,h){u.componentOffset=h,(l.components??=[]).push(u.index)}function za(l,u,h){if(h){if(u.exportAs)for(let _=0;_<u.exportAs.length;_++)h[u.exportAs[_]]=l;cr(u)&&(h[""]=l)}}function Wc(l,u,h,_,A){l.data[_]=A;const G=A.factory||(A.factory=it(A.type)),oe=new fa(G,cr(A),uu);l.blueprint[_]=oe,h[_]=oe,function fT(l,u,h,_,A){const G=A.hostBindings;if(G){let oe=l.hostBindingOpCodes;null===oe&&(oe=l.hostBindingOpCodes=[]);const Ce=~u.index;(function hT(l){let u=l.length;for(;u>0;){const h=l[--u];if("number"==typeof h&&h<0)return h}return 0})(oe)!=Ce&&oe.push(Ce),oe.push(h,_,G)}}(l,u,_,mf(l,h,A.hostVars,Xi),A)}function Ma(l,u,h,_,A,G){const oe=Tt(l,u);!function zc(l,u,h,_,A,G,oe){if(null==G)l.removeAttribute(u,A,h);else{const Ce=null==oe?C(G):oe(G,_||"",A);l.setAttribute(u,A,Ce,h)}}(u[Wn],oe,G,l.value,h,_,A)}function Rp(l,u,h,_,A,G){const oe=G[u];if(null!==oe)for(let Ce=0;Ce<oe.length;)Np(_,h,oe[Ce++],oe[Ce++],oe[Ce++])}function Np(l,u,h,_,A){const G=Tr(null);try{const oe=l.inputTransforms;null!==oe&&oe.hasOwnProperty(_)&&(A=oe[_].call(u,A)),null!==l.setInput?l.setInput(u,A,h,_):u[_]=A}finally{Tr(G)}}function pu(l,u,h){let _=null,A=0;for(;A<h.length;){const G=h[A];if(0!==G)if(5!==G){if("number"==typeof G)break;if(l.hasOwnProperty(G)){null===_&&(_=[]);const oe=l[G];for(let Ce=0;Ce<oe.length;Ce+=2)if(oe[Ce]===u){_.push(G,oe[Ce+1],h[A+1]);break}}A+=2}else A+=2;else A+=4}return _}function Mh(l,u,h,_){return[l,!0,!1,u,null,0,_,h,null,null,null]}function Ah(l,u){const h=l.contentQueries;if(null!==h)for(let _=0;_<h.length;_+=2){const G=h[_+1];if(-1!==G){const oe=l.data[G];Hs(h[_]),oe.contentQueries(2,u[G],G)}}}function Ih(l,u){return l[gi]?l[Ii][Ki]=u:l[gi]=u,l[Ii]=u,u}function bl(l,u,h){Hs(0);const _=Tr(null);try{u(l,h)}finally{Tr(_)}}function El(l){return l[Br]||(l[Br]=[])}function vf(l){return l.cleanup||(l.cleanup=[])}function wh(l,u,h){return(null===l||cr(l))&&(h=function _i(l){for(;Array.isArray(l);){if("object"==typeof l[Do])return l;l=l[Pn]}return null}(h[u.index])),h[Wn]}function Lp(l,u){const h=l[On],_=h?h.get(Dd,null):null;_&&_.handleError(u)}function Ad(l,u,h,_,A){for(let G=0;G<h.length;){const oe=h[G++],Ce=h[G++];Np(l.data[oe],u[oe],_,Ce,A)}}function Sc(l,u,h){const _=z(u,l);!function zu(l,u,h){l.setValue(u,h)}(l[Wn],_,h)}function Lv(l,u){const h=In(u,l),_=h[oi];!function _T(l,u){for(let h=u.length;h<l.blueprint.length;h++)u.push(l.blueprint[h])}(_,h);const A=h[Pn];null!==A&&null===h[Yr]&&(h[Yr]=mv(A,h[On])),Id(_,h,h[Zt])}function Id(l,u,h){Sa(u);try{const _=l.viewQuery;null!==_&&bl(1,_,h);const A=l.template;null!==A&&Iv(l,u,A,1,h),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&Ah(l,u),l.staticViewQueries&&bl(2,l.viewQuery,h);const G=l.components;null!==G&&function kv(l,u){for(let h=0;h<u.length;h++)Lv(l,u[h])}(u,G)}catch(_){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),_}finally{u[Pi]&=-5,Bi()}}let Fv=(()=>{class l{constructor(){this.all=new Set,this.queue=new Map}create(h,_,A){const G=typeof Zone>"u"?null:Zone.current,oe=new ec(h,pt=>{this.all.has(pt)&&this.queue.set(pt,G)},A);let Ce;this.all.add(oe),oe.notify();const Ve=()=>{oe.cleanup(),Ce?.(),this.all.delete(oe),this.queue.delete(oe)};return Ce=_?.onDestroy(Ve),{destroy:Ve}}flush(){if(0!==this.queue.size)for(const[h,_]of this.queue)this.queue.delete(h),_?_.run(()=>h.run()):h.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ne({token:l,providedIn:"root",factory:()=>new l})}return l})();function Cc(l,u,h){let _=h?l.styles:null,A=h?l.classes:null,G=0;if(null!==u)for(let oe=0;oe<u.length;oe++){const Ce=u[oe];"number"==typeof Ce?G=Ce:1==G?A=M(A,Ce):2==G&&(_=M(_,Ce+": "+u[++oe]+";"))}h?l.styles=_:l.stylesWithoutHost=_,h?l.classes=A:l.classesWithoutHost=A}function wd(l,u,h,_,A=!1){for(;null!==h;){const G=u[h.index];if(null!==G&&_.push(Sr(G)),vr(G)){for(let Ce=xr;Ce<G.length;Ce++){const Ve=G[Ce],pt=Ve[oi].firstChild;null!==pt&&wd(Ve[oi],Ve,pt,_)}G[ro]!==G[Pn]&&_.push(G[ro])}const oe=h.type;if(8&oe)wd(l,u,h.child,_);else if(32&oe){const Ce=zl(h,u);let Ve;for(;Ve=Ce();)_.push(Ve)}else if(16&oe){const Ce=w_(u,h);if(Array.isArray(Ce))_.push(...Ce);else{const Ve=eu(u[wi]);wd(Ve[oi],Ve,Ce,_,!0)}}h=A?h.projectionNext:h.next}return _}function yf(l,u,h,_=!0){const A=u[Xn].rendererFactory;A.begin&&A.begin();try{Fp(l,u,l.template,h)}catch(oe){throw _&&Lp(u,oe),oe}finally{A.end&&A.end(),u[Xn].effectManager?.flush()}}function Fp(l,u,h,_){const A=u[Pi];if(256!=(256&A)){u[Xn].effectManager?.flush(),Sa(u);try{rr(u),function Ll(l){return bi.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==h&&Iv(l,u,h,2,_);const oe=3==(3&A);if(oe){const pt=l.preOrderCheckHooks;null!==pt&&ur(u,pt,null)}else{const pt=l.preOrderHooks;null!==pt&&So(u,pt,0,null),ca(u,0)}if(function TT(l){for(let u=tu(l);null!==u;u=v_(u)){if(!u[fs])continue;const h=u[Zo];for(let _=0;_<h.length;_++){$i(h[_])}}}(u),Oh(u,2),null!==l.contentQueries&&Ah(l,u),oe){const pt=l.contentCheckHooks;null!==pt&&ur(u,pt)}else{const pt=l.contentHooks;null!==pt&&So(u,pt,1),ca(u,1)}!function cT(l,u){const h=l.hostBindingOpCodes;if(null===h)return;const _=Ep(u,hr);try{for(let A=0;A<h.length;A++){const G=h[A];if(G<0)la(~G);else{const oe=G,Ce=h[++A],Ve=h[++A];il(Ce,oe),_.runInContext(Ve,2,u[oe])}}}finally{null===u[hr]&&cu(u,hr),la(-1)}}(l,u);const Ce=l.components;null!==Ce&&jv(u,Ce,0);const Ve=l.viewQuery;if(null!==Ve&&bl(2,Ve,_),oe){const pt=l.viewCheckHooks;null!==pt&&ur(u,pt)}else{const pt=l.viewHooks;null!==pt&&So(u,pt,2),ca(u,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),u[Pi]&=-73,Fi(u)}finally{Bi()}}}function Oh(l,u){for(let h=tu(l);null!==h;h=v_(h))for(let _=xr;_<h.length;_++)Uv(h[_],u)}function ST(l,u,h){Uv(In(u,l),h)}function Uv(l,u){if(!function vi(l){return 128==(128&l[Pi])}(l))return;const h=l[oi];if(80&l[Pi]&&0===u||1024&l[Pi]||2===u)Fp(h,l,h.template,l[Zt]);else if(l[no]>0){Oh(l,1);const A=l[oi].components;null!==A&&jv(l,A,1)}}function jv(l,u,h){for(let _=0;_<u.length;_++)ST(l,u[_],h)}class bf{get rootNodes(){const u=this._lView,h=u[oi];return wd(h,u,h.firstChild,[])}constructor(u,h){this._lView=u,this._cdRefInjectingView=h,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zt]}set context(u){this._lView[Zt]=u}get destroyed(){return 256==(256&this._lView[Pi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[xi];if(vr(u)){const h=u[8],_=h?h.indexOf(this):-1;_>-1&&(Fm(u,_),Hl(h,_))}this._attachedToViewContainer=!1}Bm(this._lView[oi],this._lView)}onDestroy(u){!function Mr(l,u){if(256==(256&l[Pi]))throw new T(911,!1);null===l[Ur]&&(l[Ur]=[]),l[Ur].push(u)}(this._lView,u)}markForCheck(){uf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pi]&=-129}reattach(){this._lView[Pi]|=128}detectChanges(){yf(this._lView[oi],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function b_(l,u){qu(l,u,u[Wn],2,null,null)}(this._lView[oi],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=u}}class Ef extends bf{constructor(u){super(u),this._view=u}detectChanges(){const u=this._view;yf(u[oi],u,u[Zt],!1)}checkNoChanges(){}get context(){return null}}class Vv extends lf{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const h=Di(u);return new Tf(h,this.ngModule)}}function Ph(l){const u=[];for(let h in l)l.hasOwnProperty(h)&&u.push({propName:l[h],templateName:h});return u}class DT{constructor(u,h){this.injector=u,this.parentInjector=h}get(u,h,_){_=We(_);const A=this.injector.get(u,Lo,_);return A!==Lo||h===Lo?A:this.parentInjector.get(u,h,_)}}class Tf extends gv{get inputs(){const u=this.componentDef,h=u.inputTransforms,_=Ph(u.inputs);if(null!==h)for(const A of _)h.hasOwnProperty(A.propName)&&(A.transform=h[A.propName]);return _}get outputs(){return Ph(this.componentDef.outputs)}constructor(u,h){super(),this.componentDef=u,this.ngModule=h,this.componentType=u.type,this.selector=function Nt(l){return l.map(gt).join(",")}(u.selectors),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!h}create(u,h,_,A){let G=(A=A||this.ngModule)instanceof yc?A:A?.injector;G&&null!==this.componentDef.getStandaloneInjector&&(G=this.componentDef.getStandaloneInjector(G)||G);const oe=G?new DT(u,G):u,Ce=oe.get(vv,null);if(null===Ce)throw new T(407,!1);const Pt={rendererFactory:Ce,sanitizer:oe.get(eT,null),effectManager:oe.get(Fv,null)},Ht=Ce.createRenderer(null,this.componentDef),_n=this.componentDef.selectors[0][0]||"div",Mn=_?function vl(l,u,h,_){const G=_.get($n,!1)||h===$t.ShadowDom,oe=l.selectRootElement(u,G);return function yl(l){ga(l)}(oe),oe}(Ht,_,this.componentDef.encapsulation,oe):nu(Ht,_n,function CT(l){const u=l.toLowerCase();return"svg"===u?zr:"math"===u?"math":null}(_n)),pi=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Ci=xh(0,null,null,1,0,null,null,null,null,null,null),Jn=hf(null,Ci,null,pi,null,null,Pt,Ht,oe,null,null);let Ji,Cr;Sa(Jn);try{const Ar=this.componentDef;let ds,td=null;Ar.findHostDirectiveDefs?(ds=[],td=new Map,Ar.findHostDirectiveDefs(Ar,ds,td),ds.push(Ar)):ds=[Ar];const Ud=function MT(l,u){const h=l[oi],_=Mi;return l[_]=u,fu(h,_,2,"#host",null)}(Jn,Mn),kb=function AT(l,u,h,_,A,G,oe){const Ce=A[oi];!function IT(l,u,h,_){for(const A of l)u.mergedAttrs=et(u.mergedAttrs,A.hostAttrs);null!==u.mergedAttrs&&(Cc(u,u.mergedAttrs,!0),null!==h&&L_(_,h,u))}(_,l,u,oe);let Ve=null;null!==u&&(Ve=mv(u,A[On]));const pt=G.rendererFactory.createRenderer(u,h);let Pt=16;h.signals?Pt=4096:h.onPush&&(Pt=64);const Ht=hf(A,wv(h),null,Pt,A[l.index],l,G,pt,null,null,Ve);return Ce.firstCreatePass&&$s(Ce,l,_.length-1),Ih(A,Ht),A[l.index]=Ht}(Ud,Mn,Ar,ds,Jn,Pt,Ht);Cr=Dt(Ci,Mi),Mn&&function OT(l,u,h,_){if(_)ut(l,h,["ng-version",vp.full]);else{const{attrs:A,classes:G}=function on(l){const u=[],h=[];let _=1,A=2;for(;_<l.length;){let G=l[_];if("string"==typeof G)2===A?""!==G&&u.push(G,l[++_]):8===A&&h.push(G);else{if(!nn(A))break;A=G}_++}return{attrs:u,classes:h}}(u.selectors[0]);A&&ut(l,h,A),G&&G.length>0&&Km(l,h,G.join(" "))}}(Ht,Ar,Mn,_),void 0!==h&&function PT(l,u,h){const _=l.projection=[];for(let A=0;A<u.length;A++){const G=h[A];_.push(null!=G?Array.from(G):null)}}(Cr,this.ngContentSelectors,h),Ji=function wT(l,u,h,_,A,G){const oe=so(),Ce=A[oi],Ve=Tt(oe,A);Rv(Ce,A,oe,h,null,_);for(let Pt=0;Pt<h.length;Pt++)Fs(La(A,Ce,oe.directiveStart+Pt,oe),A);Nv(Ce,A,oe),Ve&&Fs(Ve,A);const pt=La(A,Ce,oe.directiveStart+oe.componentOffset,oe);if(l[Zt]=A[Zt]=pt,null!==G)for(const Pt of G)Pt(pt,u);return Ap(Ce,oe,l),pt}(kb,Ar,ds,td,Jn,[RT]),Id(Ci,Jn,null)}finally{Bi()}return new xT(this.componentType,Ji,au(Cr,Jn),Jn,Cr)}}class xT extends qE{constructor(u,h,_,A,G){super(),this.location=_,this._rootLView=A,this._tNode=G,this.previousInputValues=null,this.instance=h,this.hostView=this.changeDetectorRef=new Ef(A),this.componentType=u}setInput(u,h){const _=this._tNode.inputs;let A;if(null!==_&&(A=_[u])){if(this.previousInputValues??=new Map,this.previousInputValues.has(u)&&Object.is(this.previousInputValues.get(u),h))return;const G=this._rootLView;Ad(G[oi],G,A,u,h),this.previousInputValues.set(u,h),uf(In(this._tNode.index,G))}}get injector(){return new Ul(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}function RT(){const l=so();Ti(Gn()[oi],l)}function Bp(l){let u=function Gv(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),h=!0;const _=[l];for(;u;){let A;if(cr(l))A=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new T(903,!1);A=u.\u0275dir}if(A){if(h){_.push(A);const oe=l;oe.inputs=Sf(l.inputs),oe.inputTransforms=Sf(l.inputTransforms),oe.declaredInputs=Sf(l.declaredInputs),oe.outputs=Sf(l.outputs);const Ce=A.hostBindings;Ce&&Rh(l,Ce);const Ve=A.viewQuery,pt=A.contentQueries;if(Ve&&NT(l,Ve),pt&&mM(l,pt),g(l.inputs,A.inputs),g(l.declaredInputs,A.declaredInputs),g(l.outputs,A.outputs),null!==A.inputTransforms&&(null===oe.inputTransforms&&(oe.inputTransforms={}),g(oe.inputTransforms,A.inputTransforms)),cr(A)&&A.data.animation){const Pt=l.data;Pt.animation=(Pt.animation||[]).concat(A.data.animation)}}const G=A.features;if(G)for(let oe=0;oe<G.length;oe++){const Ce=G[oe];Ce&&Ce.ngInherit&&Ce(l),Ce===Bp&&(h=!1)}}u=Object.getPrototypeOf(u)}!function Hv(l){let u=0,h=null;for(let _=l.length-1;_>=0;_--){const A=l[_];A.hostVars=u+=A.hostVars,A.hostAttrs=et(A.hostAttrs,h=et(h,A.hostAttrs))}}(_)}function Sf(l){return l===an?{}:l===mn?[]:l}function NT(l,u){const h=l.viewQuery;l.viewQuery=h?(_,A)=>{u(_,A),h(_,A)}:u}function mM(l,u){const h=l.contentQueries;l.contentQueries=h?(_,A,G)=>{u(_,A,G),h(_,A,G)}:u}function Rh(l,u){const h=l.hostBindings;l.hostBindings=h?(_,A)=>{u(_,A),h(_,A)}:u}function Kv(l){return u=>{u.findHostDirectiveDefs=Yv,u.hostDirectives=(Array.isArray(l)?l:l()).map(h=>"function"==typeof h?{directive:V(h),inputs:an,outputs:an}:{directive:V(h.directive),inputs:Wv(h.inputs),outputs:Wv(h.outputs)})}}function Yv(l,u,h){if(null!==l.hostDirectives)for(const _ of l.hostDirectives){const A=Dr(_.directive);zv(A.declaredInputs,_.inputs),Yv(A,u,h),h.set(A,_),u.push(A)}}function Wv(l){if(void 0===l||0===l.length)return an;const u={};for(let h=0;h<l.length;h+=2)u[l[h]]=l[h+1];return u}function zv(l,u){for(const h in u)u.hasOwnProperty(h)&&(l[u[h]]=l[h])}function $v(l){const u=l.inputConfig,h={};for(const _ in u)if(u.hasOwnProperty(_)){const A=u[_];Array.isArray(A)&&A[2]&&(h[_]=A[2])}l.inputTransforms=h}function Up(l){return!!jp(l)&&(Array.isArray(l)||!(l instanceof Map)&&Symbol.iterator in l)}function jp(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function ql(l,u,h){return l[u]=h}function Us(l,u,h){return!Object.is(l[u],h)&&(l[u]=h,!0)}function Od(l,u,h,_){const A=Us(l,u,h);return Us(l,u+1,_)||A}function Vp(l,u,h,_){const A=Gn();return Us(A,Gr(),u)&&(sr(),Ma(Ee(),A,l,u,h,_)),Vp}function Df(l,u,h,_){return Us(l,Gr(),h)?u+C(h)+_:Xi}function _u(l,u,h,_,A,G){const Ce=Od(l,function ks(){return bi.lFrame.bindingIndex}(),h,A);return aa(2),Ce?u+C(h)+_+C(A)+G:Xi}function ay(l,u,h,_,A,G,oe,Ce){const Ve=Gn(),pt=sr(),Pt=l+Mi,Ht=pt.firstCreatePass?function iS(l,u,h,_,A,G,oe,Ce,Ve){const pt=u.consts,Pt=fu(u,l,4,oe||null,hn(pt,Ce));Op(u,h,Pt,hn(pt,Ve)),Ti(u,Pt);const Ht=Pt.tView=xh(2,Pt,_,A,G,u.directiveRegistry,u.pipeRegistry,null,u.schemas,pt,null);return null!==u.queries&&(u.queries.template(u,Pt),Ht.queries=u.queries.embeddedTView(Pt)),Pt}(Pt,pt,Ve,u,h,_,A,G,oe):pt.data[Pt];Po(Ht,!1);const _n=ly(pt,Ve,Ht,l);Sn()&&ah(pt,Ve,_n,Ht),Fs(_n,Ve),Ih(Ve,Ve[Pt]=Mh(_n,Ve,_n,Ht)),$o(Ht)&&hu(pt,Ve,Ht),null!=oe&&Wa(Ve,Ht,Ce)}let ly=function cy(l,u,h,_){return zn(!0),u[Wn].createComment("")};function dy(l){return Jt(function sa(){return bi.lFrame.contextLView}(),Mi+l)}function $p(l,u,h){const _=Gn();return Us(_,Gr(),u)&&_a(sr(),Ee(),_,l,u,_[Wn],h,!1),$p}function qp(l,u,h,_,A){const oe=A?"class":"style";Ad(l,h,u.inputs[oe],oe,_)}function Bh(l,u,h,_){const A=Gn(),G=sr(),oe=Mi+l,Ce=A[Wn],Ve=G.firstCreatePass?function sS(l,u,h,_,A,G){const oe=u.consts,Ve=fu(u,l,2,_,hn(oe,A));return Op(u,h,Ve,hn(oe,G)),null!==Ve.attrs&&Cc(Ve,Ve.attrs,!1),null!==Ve.mergedAttrs&&Cc(Ve,Ve.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,Ve),Ve}(oe,G,A,u,h,_):G.data[oe],pt=uy(G,A,Ve,Ce,u,l);A[oe]=pt;const Pt=$o(Ve);return Po(Ve,!0),L_(Ce,pt,Ve),32!=(32&Ve.flags)&&Sn()&&ah(G,A,pt,Ve),0===function Qr(){return bi.lFrame.elementDepthCount}()&&Fs(pt,A),function ys(){bi.lFrame.elementDepthCount++}(),Pt&&(hu(G,A,Ve),Ap(G,Ve,A)),null!==_&&Wa(A,Ve),Bh}function Uh(){let l=so();nc()?Or():(l=l.parent,Po(l,!1));const u=l;(function tc(l){return bi.skipHydrationRootTNode===l})(u)&&function jr(){bi.skipHydrationRootTNode=null}(),function bs(){bi.lFrame.elementDepthCount--}();const h=sr();return h.firstCreatePass&&(Ti(h,l),lr(l)&&h.queries.elementEnd(l)),null!=u.classesWithoutHost&&function as(l){return 0!=(8&l.flags)}(u)&&qp(h,u,Gn(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function ll(l){return 0!=(16&l.flags)}(u)&&qp(h,u,Gn(),u.stylesWithoutHost,!1),Uh}function Jp(l,u,h,_){return Bh(l,u,h,_),Uh(),Jp}let uy=(l,u,h,_,A,G)=>(zn(!0),nu(_,A,function Ut(){return bi.lFrame.currentNamespace}()));function Qp(l,u,h){const _=Gn(),A=sr(),G=l+Mi,oe=A.firstCreatePass?function TM(l,u,h,_,A){const G=u.consts,oe=hn(G,_),Ce=fu(u,l,8,"ng-container",oe);return null!==oe&&Cc(Ce,oe,!0),Op(u,h,Ce,hn(G,A)),null!==u.queries&&u.queries.elementStart(u,Ce),Ce}(G,A,_,u,h):A.data[G];Po(oe,!0);const Ce=cS(A,_,oe,l);return _[G]=Ce,Sn()&&ah(A,_,Ce,oe),Fs(Ce,_),$o(oe)&&(hu(A,_,oe),Ap(A,oe,_)),null!=h&&Wa(_,oe),Qp}function Xp(){let l=so();const u=sr();return nc()?Or():(l=l.parent,Po(l,!1)),u.firstCreatePass&&(Ti(u,l),lr(l)&&u.queries.elementEnd(l)),Xp}function eg(l,u,h){return Qp(l,u,h),Xp(),eg}let cS=(l,u,h,_)=>(zn(!0),Zu(u[Wn],""));function dS(){return Gn()}function fy(l){return!!l&&"function"==typeof l.then}function uS(l){return!!l&&"function"==typeof l.subscribe}function tg(l,u,h,_){const A=Gn(),G=sr(),oe=so();return fS(G,A,A[Wn],oe,l,u,_),tg}function ng(l,u){const h=so(),_=Gn(),A=sr();return fS(A,_,wh(ol(A.data),h,_),h,l,u),ng}function fS(l,u,h,_,A,G,oe){const Ce=$o(_),pt=l.firstCreatePass&&vf(l),Pt=u[Zt],Ht=El(u);let _n=!0;if(3&_.type||oe){const ii=Tt(_,u),pi=oe?oe(ii):ii,Ci=Ht.length,Jn=oe?Cr=>oe(Sr(Cr[_.index])):_.index;let Ji=null;if(!oe&&Ce&&(Ji=function DM(l,u,h,_){const A=l.cleanup;if(null!=A)for(let G=0;G<A.length-1;G+=2){const oe=A[G];if(oe===h&&A[G+1]===_){const Ce=u[Br],Ve=A[G+2];return Ce.length>Ve?Ce[Ve]:null}"string"==typeof oe&&(G+=2)}return null}(l,u,A,_.index)),null!==Ji)(Ji.__ngLastListenerFn__||Ji).__ngNextListenerFn__=G,Ji.__ngLastListenerFn__=G,_n=!1;else{G=my(_,u,Pt,G,!1);const Cr=h.listen(pi,A,G);Ht.push(G,Cr),pt&&pt.push(A,Jn,Ci,Ci+1)}}else G=my(_,u,Pt,G,!1);const Mn=_.outputs;let Yn;if(_n&&null!==Mn&&(Yn=Mn[A])){const ii=Yn.length;if(ii)for(let pi=0;pi<ii;pi+=2){const Ar=u[Yn[pi]][Yn[pi+1]].subscribe(G),ds=Ht.length;Ht.push(G,Ar),pt&&pt.push(A,_.index,ds,-(ds+1))}}}function hy(l,u,h,_){try{return Qo(6,u,h),!1!==h(_)}catch(A){return Lp(l,A),!1}finally{Qo(7,u,h)}}function my(l,u,h,_,A){return function G(oe){if(oe===Function)return _;uf(l.componentOffset>-1?In(l.index,u):u);let Ve=hy(u,h,_,oe),pt=G.__ngNextListenerFn__;for(;pt;)Ve=hy(u,h,pt,oe)&&Ve,pt=pt.__ngNextListenerFn__;return A&&!1===Ve&&oe.preventDefault(),Ve}}function hS(l=1){return function Rc(l){return(bi.lFrame.contextLView=function Nc(l,u){for(;l>0;)u=u[Ni],l--;return u}(l,bi.lFrame.contextLView))[Zt]}(l)}function xM(l,u){let h=null;const _=function ei(l){const u=l.attrs;if(null!=u){const h=u.indexOf(5);if(!(1&h))return u[h+1]}return null}(l);for(let A=0;A<u.length;A++){const G=u[A];if("*"!==G){if(null===_?Un(l,G,!0):Te(_,G))return A}else h=A}return h}function py(l){const u=Gn()[wi][Ir];if(!u.projection){const _=u.projection=Kl(l?l.length:1,null),A=_.slice();let G=u.child;for(;null!==G;){const oe=l?xM(G,l):0;null!==oe&&(A[oe]?A[oe].projectionNext=G:_[oe]=G,A[oe]=G),G=G.next}}}function mS(l,u=0,h){const _=Gn(),A=sr(),G=fu(A,Mi+l,16,null,h||null);null===G.projection&&(G.projection=u),Or(),(!_[Yr]||os())&&32!=(32&G.flags)&&function P_(l,u,h){R_(u[Wn],0,u,h,jm(l,h,u),Gm(h.parent||u[Ir],h,u))}(A,_,G)}function ig(l,u,h){return jh(l,"",u,"",h),ig}function jh(l,u,h,_,A){const G=Gn(),oe=Df(G,u,h,_);return oe!==Xi&&_a(sr(),Ee(),G,l,oe,G[Wn],A,!1),jh}function gy(l,u,h,_,A,G,oe){const Ce=Gn(),Ve=_u(Ce,u,h,_,A,G);return Ve!==Xi&&_a(sr(),Ee(),Ce,l,Ve,Ce[Wn],oe,!1),gy}function Jl(l,u){return l<<17|u<<2}function _o(l){return l>>17&32767}function Vh(l){return 2|l}function Zc(l){return(131068&l)>>2}function by(l,u){return-131069&l|u<<2}function rg(l){return 1|l}function og(l,u,h,_,A){const G=l[h+1],oe=null===u;let Ce=_?_o(G):Zc(G),Ve=!1;for(;0!==Ce&&(!1===Ve||oe);){const Pt=l[Ce+1];yS(l[Ce],u)&&(Ve=!0,l[Ce+1]=_?rg(Pt):Vh(Pt)),Ce=_?_o(Pt):Zc(Pt)}Ve&&(l[h+1]=_?Vh(G):rg(G))}function yS(l,u){return null===l||null==u||(Array.isArray(l)?l[1]:l)===u||!(!Array.isArray(l)||"string"!=typeof u)&&Vt(l,u)>=0}const es={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bu(l){return l.substring(es.key,es.keyEnd)}function Ty(l,u){const h=es.textEnd;return h===u?-1:(u=es.keyEnd=function lg(l,u,h){for(;u<h&&l.charCodeAt(u)>32;)u++;return u}(l,es.key=u,h),Eu(l,u,h))}function Eu(l,u,h){for(;u<h&&l.charCodeAt(u)<=32;)u++;return u}function Gh(l,u,h){return $a(l,u,h,!1),Gh}function ug(l,u){return $a(l,u,null,!0),ug}function Dy(l){Cl(Ay,Sl,l,!0)}function Sl(l,u){for(let h=function IM(l){return function ag(l){es.key=0,es.keyEnd=0,es.value=0,es.valueEnd=0,es.textEnd=l.length}(l),Ty(l,Eu(l,0,es.textEnd))}(u);h>=0;h=Ty(u,h))qe(l,bu(u),!0)}function $a(l,u,h,_){const A=Gn(),G=sr(),oe=aa(2);G.firstUpdatePass&&$c(G,l,oe,_),u!==Xi&&Us(A,oe,u)&&kf(G,G.data[Vi()],A,A[Wn],l,A[oe+1]=function PM(l,u){return null==l||""===l||("string"==typeof u?l+=u:"object"==typeof l&&(l=y(pl(l)))),l}(u,h),_,oe)}function Cl(l,u,h,_){const A=sr(),G=aa(2);A.firstUpdatePass&&$c(A,null,G,_);const oe=Gn();if(h!==Xi&&Us(oe,G,h)){const Ce=A.data[Vi()];if(DS(Ce,_)&&!xy(A,G)){let Ve=_?Ce.classesWithoutHost:Ce.stylesWithoutHost;null!==Ve&&(h=M(Ve,h||"")),qp(A,Ce,oe,h,_)}else!function Lf(l,u,h,_,A,G,oe,Ce){A===Xi&&(A=mn);let Ve=0,pt=0,Pt=0<A.length?A[0]:null,Ht=0<G.length?G[0]:null;for(;null!==Pt||null!==Ht;){const _n=Ve<A.length?A[Ve+1]:void 0,Mn=pt<G.length?G[pt+1]:void 0;let ii,Yn=null;Pt===Ht?(Ve+=2,pt+=2,_n!==Mn&&(Yn=Ht,ii=Mn)):null===Ht||null!==Pt&&Pt<Ht?(Ve+=2,Yn=Pt):(pt+=2,Yn=Ht,ii=Mn),null!==Yn&&kf(l,u,h,_,Yn,ii,oe,Ce),Pt=Ve<A.length?A[Ve]:null,Ht=pt<G.length?G[pt]:null}}(A,Ce,oe,oe[Wn],oe[G+1],oe[G+1]=function SS(l,u,h){if(null==h||""===h)return mn;const _=[],A=pl(h);if(Array.isArray(A))for(let G=0;G<A.length;G++)l(_,A[G],!0);else if("object"==typeof A)for(const G in A)A.hasOwnProperty(G)&&l(_,G,A[G]);else"string"==typeof A&&u(_,A);return _}(l,u,h),_,G)}}function xy(l,u){return u>=l.expandoStartIndex}function $c(l,u,h,_){const A=l.data;if(null===A[h+1]){const G=A[Vi()],oe=xy(l,h);DS(G,_)&&null===u&&!oe&&(u=!1),u=function fg(l,u,h,_){const A=ol(l);let G=_?u.residualClasses:u.residualStyles;if(null===A)0===(_?u.classBindings:u.styleBindings)&&(h=Hh(h=My(null,l,u,h,_),u.attrs,_),G=null);else{const oe=u.directiveStylingLast;if(-1===oe||l[oe]!==A)if(h=My(A,l,u,h,_),null===G){let Ve=function wM(l,u,h){const _=h?u.classBindings:u.styleBindings;if(0!==Zc(_))return l[_o(_)]}(l,u,_);void 0!==Ve&&Array.isArray(Ve)&&(Ve=My(null,l,u,Ve[1],_),Ve=Hh(Ve,u.attrs,_),function TS(l,u,h,_){l[_o(h?u.classBindings:u.styleBindings)]=_}(l,u,_,Ve))}else G=function OM(l,u,h){let _;const A=u.directiveEnd;for(let G=1+u.directiveStylingLast;G<A;G++)_=Hh(_,l[G].hostAttrs,h);return Hh(_,u.attrs,h)}(l,u,_)}return void 0!==G&&(_?u.residualClasses=G:u.residualStyles=G),h}(A,G,u,_),function AM(l,u,h,_,A,G){let oe=G?u.classBindings:u.styleBindings,Ce=_o(oe),Ve=Zc(oe);l[_]=h;let Pt,pt=!1;if(Array.isArray(h)?(Pt=h[1],(null===Pt||Vt(h,Pt)>0)&&(pt=!0)):Pt=h,A)if(0!==Ve){const _n=_o(l[Ce+1]);l[_+1]=Jl(_n,Ce),0!==_n&&(l[_n+1]=by(l[_n+1],_)),l[Ce+1]=function Pd(l,u){return 131071&l|u<<17}(l[Ce+1],_)}else l[_+1]=Jl(Ce,0),0!==Ce&&(l[Ce+1]=by(l[Ce+1],_)),Ce=_;else l[_+1]=Jl(Ve,0),0===Ce?Ce=_:l[Ve+1]=by(l[Ve+1],_),Ve=_;pt&&(l[_+1]=Vh(l[_+1])),og(l,Pt,_,!0),og(l,Pt,_,!1),function vS(l,u,h,_,A){const G=A?l.residualClasses:l.residualStyles;null!=G&&"string"==typeof u&&Vt(G,u)>=0&&(h[_+1]=rg(h[_+1]))}(u,Pt,l,_,G),oe=Jl(Ce,Ve),G?u.classBindings=oe:u.styleBindings=oe}(A,G,u,h,oe,_)}}function My(l,u,h,_,A){let G=null;const oe=h.directiveEnd;let Ce=h.directiveStylingLast;for(-1===Ce?Ce=h.directiveStart:Ce++;Ce<oe&&(G=u[Ce],_=Hh(_,G.hostAttrs,A),G!==l);)Ce++;return null!==l&&(h.directiveStylingLast=Ce),_}function Hh(l,u,h){const _=h?1:2;let A=-1;if(null!==u)for(let G=0;G<u.length;G++){const oe=u[G];"number"==typeof oe?A=oe:A===_&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),qe(l,oe,!!h||u[++G]))}return void 0===l?null:l}function Ay(l,u,h){const _=String(u);""!==_&&!_.includes(" ")&&qe(l,_,h)}function kf(l,u,h,_,A,G,oe,Ce){if(!(3&u.type))return;const Ve=l.data,pt=Ve[Ce+1],Pt=function Ey(l){return 1==(1&l)}(pt)?CS(Ve,u,h,A,Zc(pt),oe):void 0;mg(Pt)||(mg(G)||function va(l){return 2==(2&l)}(pt)&&(G=CS(Ve,null,h,A,Ce,oe)),function N_(l,u,h,_,A){if(u)A?l.addClass(h,_):l.removeClass(h,_);else{let G=-1===_.indexOf("-")?void 0:Hu.DashCase;null==A?l.removeStyle(h,_,G):("string"==typeof A&&A.endsWith("!important")&&(A=A.slice(0,-10),G|=Hu.Important),l.setStyle(h,_,A,G))}}(_,oe,z(Vi(),h),A,G))}function CS(l,u,h,_,A,G){const oe=null===u;let Ce;for(;A>0;){const Ve=l[A],pt=Array.isArray(Ve),Pt=pt?Ve[1]:Ve,Ht=null===Pt;let _n=h[A+1];_n===Xi&&(_n=Ht?mn:void 0);let Mn=Ht?St(_n,_):Pt===_?_n:void 0;if(pt&&!mg(Mn)&&(Mn=St(Ve,_)),mg(Mn)&&(Ce=Mn,oe))return Ce;const Yn=l[A+1];A=oe?_o(Yn):Zc(Yn)}if(null!==u){let Ve=G?u.residualClasses:u.residualStyles;null!=Ve&&(Ce=St(Ve,_))}return Ce}function mg(l){return void 0!==l}function DS(l,u){return 0!=(l.flags&(u?8:16))}function xS(l,u=""){const h=Gn(),_=sr(),A=l+Mi,G=_.firstCreatePass?fu(_,A,1,u,null):_.data[A],oe=MS(_,h,G,u,l);h[A]=oe,Sn()&&ah(_,h,oe,G),Po(G,!1)}let MS=(l,u,h,_,A)=>(zn(!0),rh(u[Wn],_));function pg(l){return Ao("",l,""),pg}function Ao(l,u,h){const _=Gn(),A=Df(_,l,u,h);return A!==Xi&&Sc(_,Vi(),A),Ao}function qc(l,u,h,_,A){const G=Gn(),oe=_u(G,l,u,h,_,A);return oe!==Xi&&Sc(G,Vi(),oe),qc}function Ry(l,u,h){Cl(qe,Sl,Df(Gn(),l,u,h),!0)}function Tu(l,u,h){const _=Gn();return Us(_,Gr(),u)&&_a(sr(),Ee(),_,l,u,_[Wn],h,!0),Tu}function Jh(l,u,h){const _=Gn();if(Us(_,Gr(),u)){const G=sr(),oe=Ee();_a(G,oe,_,l,u,wh(ol(G.data),oe,_),h,!0)}return Jh}const Nd=void 0;var By=["en",[["a","p"],["AM","PM"],Nd],[["AM","PM"],Nd,Nd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nd,"{1} 'at' {0}",Nd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function VS(l){const h=Math.floor(Math.abs(l)),_=l.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===_?1:5}];let Ld={};function Qh(l){const u=function HS(l){return l.toLowerCase().replace(/_/g,"-")}(l);let h=jy(u);if(h)return h;const _=u.split("-")[0];if(h=jy(_),h)return h;if("en"===_)return By;throw new T(701,!1)}function Uy(l){return Qh(l)[Su.PluralCase]}function jy(l){return l in Ld||(Ld[l]=at.ng&&at.ng.common&&at.ng.common.locales&&at.ng.common.locales[l]),Ld[l]}var Su=function(l){return l[l.LocaleId=0]="LocaleId",l[l.DayPeriodsFormat=1]="DayPeriodsFormat",l[l.DayPeriodsStandalone=2]="DayPeriodsStandalone",l[l.DaysFormat=3]="DaysFormat",l[l.DaysStandalone=4]="DaysStandalone",l[l.MonthsFormat=5]="MonthsFormat",l[l.MonthsStandalone=6]="MonthsStandalone",l[l.Eras=7]="Eras",l[l.FirstDayOfWeek=8]="FirstDayOfWeek",l[l.WeekendRange=9]="WeekendRange",l[l.DateFormat=10]="DateFormat",l[l.TimeFormat=11]="TimeFormat",l[l.DateTimeFormat=12]="DateTimeFormat",l[l.NumberSymbols=13]="NumberSymbols",l[l.NumberFormats=14]="NumberFormats",l[l.CurrencyCode=15]="CurrencyCode",l[l.CurrencySymbol=16]="CurrencySymbol",l[l.CurrencyName=17]="CurrencyName",l[l.Currencies=18]="Currencies",l[l.Directionality=19]="Directionality",l[l.PluralCase=20]="PluralCase",l[l.ExtraData=21]="ExtraData",l}(Su||{});const Cu="en-US",Bf={marker:"element"},Uf={marker:"ICU"};var Js=function(l){return l[l.SHIFT=2]="SHIFT",l[l.APPEND_EAGERLY=1]="APPEND_EAGERLY",l[l.COMMENT=2]="COMMENT",l}(Js||{});let bg=Cu;function Vy(l){(function ke(l,u){null==l&&we(u,l,null,"!=")})(l,"Expected localeId to be defined"),"string"==typeof l&&(bg=l.toLowerCase().replace(/_/g,"-"))}function Hy(l,u,h){const _=u.insertBeforeIndex,A=Array.isArray(_)?_[0]:_;return null===A?A_(l,0,h):Sr(h[A])}function Ky(l,u,h,_,A){const G=u.insertBeforeIndex;if(Array.isArray(G)){let oe=_,Ce=null;if(3&u.type||(Ce=oe,oe=A),null!==oe&&-1===u.componentOffset)for(let Ve=1;Ve<G.length;Ve++)Zl(l,oe,h[G[Ve]],Ce,!1)}}function ZS(l,u){if(l.push(u),l.length>1)for(let h=l.length-2;h>=0;h--){const _=l[h];$S(_)||LM(_,u)&&null===kM(_)&&FM(_,u.index)}}function $S(l){return!(64&l.type)}function LM(l,u){return $S(u)||l.index>u.index}function kM(l){const u=l.insertBeforeIndex;return Array.isArray(u)?u[0]:u}function FM(l,u){const h=l.insertBeforeIndex;Array.isArray(h)?h[0]=u:(I_(Hy,Ky),l.insertBeforeIndex=u)}function jM(l,u,h){const _=Mp(l,h,64,null,null);return ZS(u,_),_}function Yy(){const l=[];let h,_,u=-1;function G(Ce,Ve){u=0;const pt=function Eg(l,u){const h=u[l.currentCaseLViewIndex];return null===h?h:h<0?~h:h}(Ce,Ve);_=null!==pt?Ce.remove[pt]:mn}function oe(){if(u<_.length){const Ce=_[u++];return Ce>0?h[Ce]:(l.push(u,_),G(h[oi].data[~Ce],h),oe())}return 0===l.length?null:(_=l.pop(),u=l.pop(),oe())}return function A(Ce,Ve){for(h=Ve;l.length;)l.pop();return G(Ce.value,Ve),oe}}const Jc=/\ufffd(\d+):?\d*\ufffd/gi,Zy=/\ufffd(\d+)\ufffd/,$y=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,jf="\ufffd",iC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,rC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Du=/\uE500/g;function Cg(l,u,h,_,A,G,oe){const Ce=mf(l,_,1,null);let Ve=Ce<<Js.SHIFT,pt=Nl();u===pt&&(pt=null),null===pt&&(Ve|=Js.APPEND_EAGERLY),oe&&(Ve|=Js.COMMENT,function Xd(l){void 0===ih&&(ih=l())}(Yy)),A.push(Ve,null===G?"":G);const Pt=Mp(l,Ce,oe?32:1,null===G?"":G,null);ZS(h,Pt);const Ht=Pt.index;return Po(Pt,!1),null!==pt&&u!==pt&&function UM(l,u){let h=l.insertBeforeIndex;null===h?(I_(Hy,Ky),h=l.insertBeforeIndex=[null,u]):(function se(l,u,h){l!=u&&we(h,l,u,"==")}(Array.isArray(h),!0,"Expecting array here"),h.push(u))}(pt,Ht),Pt}function om(l,u,h,_,A,G,oe){const Ce=oe.match(Jc),Ve=Cg(l,u,h,G,_,Ce?null:oe,!1);Ce&&xu(A,oe,Ve.index,null,0,null)}function xu(l,u,h,_,A,G){const oe=l.length,Ce=oe+1;l.push(null,null);const Ve=oe+2,pt=u.split(Jc);let Pt=0;for(let Ht=0;Ht<pt.length;Ht++){const _n=pt[Ht];if(1&Ht){const Mn=A+parseInt(_n,10);l.push(-1-Mn),Pt|=oC(Mn)}else""!==_n&&l.push(_n)}return l.push(h<<2|(_?1:0)),_&&l.push(_,G),l[oe]=Pt,l[Ce]=l.length-Ve,Pt}function oC(l){return 1<<Math.min(l,31)}function sC(l){let u,G,h="",_=0,A=!1;for(;null!==(u=iC.exec(l));)A?u[0]===`${jf}/*${G}${jf}`&&(_=u.index,A=!1):(h+=l.substring(_,u.index+u[0].length),G=u[1],A=!0);return h+=l.slice(_),h}function aC(l,u,h,_,A,G){let oe=0;const Ce={type:A.type,currentCaseLViewIndex:mf(l,u,1,null),anchorIdx:G,cases:[],create:[],remove:[],update:[]};(function QM(l,u,h){l.push(oC(u.mainBinding),2,-1-u.mainBinding,h<<2|2)})(h,A,G),function BM(l,u,h){const _=l.data[u];null===_?l.data[u]=h:_.value=h}(l,G,Ce);const Ve=A.values;for(let pt=0;pt<Ve.length;pt++){const Pt=Ve[pt],Ht=[];for(let _n=0;_n<Pt.length;_n++){const Mn=Pt[_n];if("string"!=typeof Mn){const Yn=Ht.push(Mn)-1;Pt[_n]=`\x3c!--\ufffd${Yn}\ufffd--\x3e`}}oe=qM(l,Ce,u,h,_,A.cases[pt],Pt.join(""),Ht)|oe}oe&&function XM(l,u,h){l.push(u,1,h<<2|3)}(h,oe,G)}function $M(l){const u=[],h=[];let _=1,A=0;const G=qy(l=l.replace($y,function(oe,Ce,Ve){return _="select"===Ve?0:1,A=parseInt(Ce.slice(1),10),""}));for(let oe=0;oe<G.length;){let Ce=G[oe++].trim();1===_&&(Ce=Ce.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Ce.length&&u.push(Ce);const Ve=qy(G[oe++]);u.length>h.length&&h.push(Ve)}return{type:_,mainBinding:A,cases:u,values:h}}function qy(l){if(!l)return[];let u=0;const h=[],_=[],A=/[{}]/g;let G;for(A.lastIndex=0;G=A.exec(l);){const Ce=G.index;if("}"==G[0]){if(h.pop(),0==h.length){const Ve=l.substring(u,Ce);$y.test(Ve)?_.push($M(Ve)):_.push(Ve),u=Ce+1}}else{if(0==h.length){const Ve=l.substring(u,Ce);_.push(Ve),u=Ce+1}h.push("{")}}const oe=l.substring(u);return _.push(oe),_}function qM(l,u,h,_,A,G,oe,Ce){const Ve=[],pt=[],Pt=[];u.cases.push(G),u.create.push(Ve),u.remove.push(pt),u.update.push(Pt);const _n=Y_(Zs()).getInertBodyElement(oe),Mn=Qu(_n)||_n;return Mn?lC(l,u,h,_,Ve,pt,Pt,Mn,A,Ce,0):0}function lC(l,u,h,_,A,G,oe,Ce,Ve,pt,Pt){let Ht=0,_n=Ce.firstChild;for(;_n;){const Mn=mf(l,h,1,null);switch(_n.nodeType){case Node.ELEMENT_NODE:const Yn=_n,ii=Yn.tagName.toLowerCase();if($m.hasOwnProperty(ii)){Jy(A,Bf,ii,Ve,Mn),l.data[Mn]=ii;const Ji=Yn.attributes;for(let Cr=0;Cr<Ji.length;Cr++){const Ar=Ji.item(Cr),ds=Ar.name.toLowerCase();Ar.value.match(Jc)?Jm.hasOwnProperty(ds)&&xu(oe,Ar.value,Mn,Ar.name,0,qm[ds]?Sd:null):eA(A,Mn,Ar)}Ht=lC(l,u,h,_,A,G,oe,_n,Mn,pt,Pt+1)|Ht,cC(G,Mn,Pt)}break;case Node.TEXT_NODE:const pi=_n.textContent||"",Ci=pi.match(Jc);Jy(A,null,Ci?"":pi,Ve,Mn),cC(G,Mn,Pt),Ci&&(Ht=xu(oe,pi,Mn,null,0,null)|Ht);break;case Node.COMMENT_NODE:const Jn=Zy.exec(_n.textContent||"");if(Jn){const Cr=pt[parseInt(Jn[1],10)];Jy(A,Uf,"",Ve,Mn),aC(l,h,_,Ve,Cr,Mn),JM(G,Mn,Pt)}}_n=_n.nextSibling}return Ht}function cC(l,u,h){0===h&&l.push(u)}function JM(l,u,h){0===h&&(l.push(~u),l.push(u))}function Jy(l,u,h,_,A){null!==u&&l.push(u),l.push(h,A,function XS(l,u,h){return l|u<<17|h<<1}(0,_,A))}function eA(l,u,h){l.push(u<<1|1,h.name,h.value)}function t0(l,u,h=-1){const _=sr(),A=Gn(),G=Mi+l,oe=hn(_.consts,u),Ce=Nl();_.firstCreatePass&&function rm(l,u,h,_,A,G){const oe=Nl(),Ce=[],Ve=[],pt=[[]];A=function ZM(l,u){if(function zM(l){return-1===l}(u))return sC(l);{const h=l.indexOf(`:${u}${jf}`)+2+u.toString().length,_=l.search(new RegExp(`${jf}\\/\\*\\d+:${u}${jf}`));return sC(l.substring(h,_))}}(A,G);const Pt=function kd(l){return l.replace(Du," ")}(A).split(rC);for(let Ht=0;Ht<Pt.length;Ht++){let _n=Pt[Ht];if(1&Ht){const Mn=47===_n.charCodeAt(0),ii=(_n.charCodeAt(Mn?1:0),Mi+Number.parseInt(_n.substring(Mn?2:1)));if(Mn)pt.shift(),Po(Nl(),!1);else{const pi=jM(l,pt[0],ii);pt.unshift([]),Po(pi,!0)}}else{const Mn=qy(_n);for(let Yn=0;Yn<Mn.length;Yn++){let ii=Mn[Yn];if(1&Yn){const pi=ii;if("object"!=typeof pi)throw new Error(`Unable to parse ICU expression in "${A}" message.`);aC(l,h,Ve,u,pi,Cg(l,oe,pt[0],h,Ce,"",!0).index)}else""!==ii&&om(l,oe,pt[0],Ce,Ve,h,ii)}}}l.data[_]={create:Ce,update:Ve}}(_,null===Ce?0:Ce.index,A,G,oe,h),2===_.type?A[wi][Pi]|=32:A[Pi]|=32;const Ve=_.data[G],Pt=oh(_,Ce===A[Ir]?null:Ce,A);(function HM(l,u,h,_){const A=l[Wn];for(let G=0;G<u.length;G++){const oe=u[G++],Ce=u[G],pt=(oe&Js.APPEND_EAGERLY)===Js.APPEND_EAGERLY,Pt=oe>>>Js.SHIFT;let Ht=l[Pt];null===Ht&&(Ht=l[Pt]=(oe&Js.COMMENT)===Js.COMMENT?A.createComment(Ce):rh(A,Ce)),pt&&null!==h&&Zl(A,h,Ht,_,!1)}})(A,Ve.create,Pt,Ce&&8&Ce.type?A[Ce.index]:null),rc(!0)}function fC(l,u,h){t0(l,u,h),function Qc(){rc(!1)}()}function Vf(l,u,h,_,A){if(l=V(l),Array.isArray(l))for(let G=0;G<l.length;G++)Vf(l[G],u,h,_,A);else{const G=sr(),oe=Gn();let Ce=Cd(l)?l:V(l.provide),Ve=LE(l);const pt=so(),Pt=1048575&pt.providerIndexes,Ht=pt.directiveStart,_n=pt.providerIndexes>>20;if(Cd(l)||!l.multi){const Mn=new fa(Ve,A,uu),Yn=xg(Ce,u,A?Pt:Pt+_n,Ht);-1===Yn?(ad(Fl(pt,oe),G,Ce),Dg(G,l,u.length),u.push(Ce),pt.directiveStart++,pt.directiveEnd++,A&&(pt.providerIndexes+=1048576),h.push(Mn),oe.push(Mn)):(h[Yn]=Mn,oe[Yn]=Mn)}else{const Mn=xg(Ce,u,Pt+_n,Ht),Yn=xg(Ce,u,Pt,Pt+_n),pi=Yn>=0&&h[Yn];if(A&&!pi||!A&&!(Mn>=0&&h[Mn])){ad(Fl(pt,oe),G,Ce);const Ci=function vC(l,u,h,_,A){const G=new fa(l,h,uu);return G.multi=[],G.index=u,G.componentProviders=0,n0(G,A,_&&!h),G}(A?ba:_C,h.length,A,_,Ve);!A&&pi&&(h[Yn].providerFactory=Ci),Dg(G,l,u.length,0),u.push(Ce),pt.directiveStart++,pt.directiveEnd++,A&&(pt.providerIndexes+=1048576),h.push(Ci),oe.push(Ci)}else Dg(G,l,Mn>-1?Mn:Yn,n0(h[A?Yn:Mn],Ve,!A&&_));!A&&_&&pi&&h[Yn].componentProviders++}}}function Dg(l,u,h,_){const A=Cd(u),G=function PE(l){return!!l.useClass}(u);if(A||G){const Ve=(G?V(u.useClass):u).prototype.ngOnDestroy;if(Ve){const pt=l.destroyHooks||(l.destroyHooks=[]);if(!A&&u.multi){const Pt=pt.indexOf(h);-1===Pt?pt.push(h,[_,Ve]):pt[Pt+1].push(_,Ve)}else pt.push(h,Ve)}}}function n0(l,u,h){return h&&l.componentProviders++,l.multi.push(u)-1}function xg(l,u,h,_){for(let A=h;A<_;A++)if(u[A]===l)return A;return-1}function _C(l,u,h,_){return Mg(this.multi,[])}function ba(l,u,h,_){const A=this.multi;let G;if(this.providerFactory){const oe=this.providerFactory.componentProviders,Ce=La(h,h[oi],this.providerFactory.index,_);G=Ce.slice(0,oe),Mg(A,G);for(let Ve=oe;Ve<Ce.length;Ve++)G.push(Ce[Ve])}else G=[],Mg(A,G);return G}function Mg(l,u){for(let h=0;h<l.length;h++)u.push((0,l[h])());return u}function Ag(l,u=[]){return h=>{h.providersResolver=(_,A)=>function gC(l,u,h){const _=sr();if(_.firstCreatePass){const A=cr(l);Vf(h,_.data,_.blueprint,A,!0),Vf(u,_.data,_.blueprint,A,!1)}}(_,A?A(l):l,u)}}class Mu{}class Ig{}function yC(l,u){return new Xc(l,u??null,[])}class Xc extends Mu{constructor(u,h,_){super(),this._parent=h,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vv(this);const A=Zi(u);this._bootstrapComponents=Ec(A.bootstrap),this._r3Injector=Dh(u,h,[{provide:Mu,useValue:this},{provide:lf,useValue:this.componentFactoryResolver},..._],y(u),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(u)}get injector(){return this._r3Injector}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class Au extends Ig{constructor(u){super(),this.moduleType=u}create(u){return new Xc(this.moduleType,u,[])}}class r0 extends Mu{constructor(u){super(),this.componentFactoryResolver=new Vv(this),this.instance=null;const h=new ap([...u.providers,{provide:Mu,useValue:this},{provide:lf,useValue:this.componentFactoryResolver}],u.parent||_h(),u.debugName,new Set(["environment"]));this.injector=h,u.runEnvironmentInitializers&&h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(u){this.injector.onDestroy(u)}}function o0(l,u,h=null){return new r0({providers:l,parent:u,debugName:h,runEnvironmentInitializers:!0}).injector}let EC=(()=>{class l{constructor(h){this._injector=h,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(h){if(!h.standalone)return null;if(!this.cachedInjectors.has(h)){const _=lv(0,h.type),A=_.length>0?o0([_],this._injector,`Standalone[${h.type.name}]`):null;this.cachedInjectors.set(h,A)}return this.cachedInjectors.get(h)}ngOnDestroy(){try{for(const h of this.cachedInjectors.values())null!==h&&h.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ne({token:l,providedIn:"environment",factory:()=>new l(Xe(yc))})}return l})();function cm(l){l.getStandaloneInjector=u=>u.get(EC).getOrCreateStandaloneInjector(l)}function h0(l,u,h){const _=co()+l,A=Gn();return A[_]===Xi?ql(A,_,h?u.call(h):u()):function Cf(l,u){return l[u]}(A,_)}function Pg(l,u,h,_){return p0(Gn(),co(),l,u,h,_)}function m0(l,u,h,_,A){return wC(Gn(),co(),l,u,h,_,A)}function AC(l,u,h,_,A,G){return function OC(l,u,h,_,A,G,oe,Ce){const Ve=u+h;return function Nh(l,u,h,_,A){const G=Od(l,u,h,_);return Us(l,u+2,A)||G}(l,Ve,A,G,oe)?ql(l,Ve+3,Ce?_.call(Ce,A,G,oe):_(A,G,oe)):dm(l,Ve+3)}(Gn(),co(),l,u,h,_,A,G)}function dm(l,u){const h=l[u];return h===Xi?void 0:h}function p0(l,u,h,_,A,G){const oe=u+h;return Us(l,oe,A)?ql(l,oe+1,G?_.call(G,A):_(A)):dm(l,oe+1)}function wC(l,u,h,_,A,G,oe){const Ce=u+h;return Od(l,Ce,A,G)?ql(l,Ce+2,oe?_.call(oe,A,G):_(A,G)):dm(l,Ce+2)}function v0(l,u){const h=sr();let _;const A=l+Mi;h.firstCreatePass?(_=function dA(l,u){if(u)for(let h=u.length-1;h>=0;h--){const _=u[h];if(l===_.name)return _}}(u,h.pipeRegistry),h.data[A]=_,_.onDestroy&&(h.destroyHooks??=[]).push(A,_.onDestroy)):_=h.data[A];const G=_.factory||(_.factory=it(_.type)),oe=Me(uu);try{const Ce=dl(!1),Ve=G();return dl(Ce),function oS(l,u,h,_){h>=l.data.length&&(l.data[h]=null,l.blueprint[h]=null),u[h]=_}(h,Gn(),A,Ve),Ve}finally{Me(oe)}}function PC(l,u,h){const _=l+Mi,A=Gn(),G=Jt(A,_);return Gf(A,_)?p0(A,co(),u,G.transform,h,G):G.transform(h)}function RC(l,u,h,_){const A=l+Mi,G=Gn(),oe=Jt(G,A);return Gf(G,A)?wC(G,co(),u,oe.transform,h,_,oe):oe.transform(h,_)}function Gf(l,u){return l[oi].data[u].pure}function y0(l){return u=>{setTimeout(l,void 0,u)}}const Dc=class mA extends c.x{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,h,_){let A=u,G=h||(()=>null),oe=_;if(u&&"object"==typeof u){const Ve=u;A=Ve.next?.bind(Ve),G=Ve.error?.bind(Ve),oe=Ve.complete?.bind(Ve)}this.__isAsync&&(G=y0(G),A&&(A=y0(A)),oe&&(oe=y0(oe)));const Ce=super.subscribe({next:A,error:G,complete:oe});return u instanceof t.w0&&u.add(Ce),Ce}};function pA(){return this._results[Symbol.iterator]()}class um{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Dc)}constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const h=um.prototype;h[Symbol.iterator]||(h[Symbol.iterator]=pA)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,h){return this._results.reduce(u,h)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,h){const _=this;_.dirty=!1;const A=function Ds(l){return l.flat(Number.POSITIVE_INFINITY)}(u);(this._changesDetected=!function Cs(l,u,h){if(l.length!==u.length)return!1;for(let _=0;_<l.length;_++){let A=l[_],G=u[_];if(h&&(A=h(A),G=h(G)),G!==A)return!1}return!0}(_._results,A,h))&&(_._results=A,_.length=A.length,_.last=A[this.length-1],_.first=A[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let fm=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=_A}return l})();const gA=fm,NC=class extends gA{constructor(u,h,_){super(),this._declarationLView=u,this._declarationTContainer=h,this.elementRef=_}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(u,h){return this.createEmbeddedViewImpl(u,h,null)}createEmbeddedViewImpl(u,h,_){const oe=this._declarationTContainer.tView,Ce=hf(this._declarationLView,oe,u,4096&this._declarationLView[Pi]?4096:16,null,oe.declTNode,null,null,null,h||null,_||null);Ce[_r]=this._declarationLView[this._declarationTContainer.index];const pt=this._declarationLView[io];return null!==pt&&(Ce[io]=pt.createEmbeddedView(oe)),Id(oe,Ce,u),new bf(Ce)}};function _A(){return Rg(so(),Gn())}function Rg(l,u){return 4&l.type?new NC(u,l,au(l,u)):null}let Ng=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=kC}return l})();function kC(){return C0(so(),Gn())}const CA=Ng,FC=class extends CA{constructor(u,h,_){super(),this._lContainer=u,this._hostTNode=h,this._hostLView=_}get element(){return au(this._hostTNode,this._hostLView)}get injector(){return new Ul(this._hostTNode,this._hostLView)}get parentInjector(){const u=Ca(this._hostTNode,this._hostLView);if(cl(u)){const h=ac(u,this._hostLView),_=Ss(u);return new Ul(h[oi].data[_+8],h)}return new Ul(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const h=BC(this._lContainer);return null!==h&&h[u]||null}get length(){return this._lContainer.length-xr}createEmbeddedView(u,h,_){let A,G;"number"==typeof _?A=_:null!=_&&(A=_.index,G=_.injector);const Ce=u.createEmbeddedViewImpl(h||{},G,null);return this.insertImpl(Ce,A,false),Ce}createComponent(u,h,_,A,G){const oe=u&&!function Gl(l){return"function"==typeof l}(u);let Ce;if(oe)Ce=h;else{const ii=h||{};Ce=ii.index,_=ii.injector,A=ii.projectableNodes,G=ii.environmentInjector||ii.ngModuleRef}const Ve=oe?u:new Tf(Di(u)),pt=_||this.parentInjector;if(!G&&null==Ve.ngModule){const pi=(oe?pt:this.parentInjector).get(yc,null);pi&&(G=pi)}Di(Ve.componentType??{});const Mn=Ve.create(pt,A,null,G);return this.insertImpl(Mn.hostView,Ce,false),Mn}insert(u,h){return this.insertImpl(u,h,!1)}insertImpl(u,h,_){const A=u._lView,G=A[oi];if(function wr(l){return vr(l[xi])}(A)){const Ve=this.indexOf(u);if(-1!==Ve)this.detach(Ve);else{const pt=A[xi],Pt=new FC(pt,pt[Ir],pt[xi]);Pt.detach(Pt.indexOf(u))}}const oe=this._adjustIndex(h),Ce=this._lContainer;if(function T_(l,u,h,_){const A=xr+_,G=h.length;_>0&&(h[A-1][Ki]=u),_<G-xr?(u[Ki]=h[A],Kd(h,xr+_,u)):(h.push(u),u[Ki]=null),u[xi]=h;const oe=u[_r];null!==oe&&h!==oe&&function pE(l,u){const h=l[Zo];u[wi]!==u[xi][xi][wi]&&(l[fs]=!0),null===h?l[Zo]=[u]:h.push(u)}(oe,u);const Ce=u[io];null!==Ce&&Ce.insertView(l),u[Pi]|=128}(G,A,Ce,oe),!_){const Ve=Hc(oe,Ce),pt=A[Wn],Pt=iu(pt,Ce[ro]);null!==Pt&&function mE(l,u,h,_,A,G){_[Pn]=A,_[Ir]=u,qu(l,_,h,1,A,G)}(G,Ce[Ir],pt,A,Pt,Ve)}return u.attachToViewContainerRef(),Kd(S0(Ce),oe,u),u}move(u,h){return this.insert(u,h)}indexOf(u){const h=BC(this._lContainer);return null!==h?h.indexOf(u):-1}remove(u){const h=this._adjustIndex(u,-1),_=Fm(this._lContainer,h);_&&(Hl(S0(this._lContainer),h),Bm(_[oi],_))}detach(u){const h=this._adjustIndex(u,-1),_=Fm(this._lContainer,h);return _&&null!=Hl(S0(this._lContainer),h)?new bf(_):null}_adjustIndex(u,h=0){return u??this.length+h}};function BC(l){return l[8]}function S0(l){return l[8]||(l[8]=[])}function C0(l,u){let h;const _=u[l.index];return vr(_)?h=_:(h=Mh(_,u,null,l),u[l.index]=h,Ih(u,h)),UC(h,u,l,_),new FC(h,l,u)}let UC=function jC(l,u,h,_){if(l[ro])return;let A;A=8&h.type?Sr(_):function DA(l,u){const h=l[Wn],_=h.createComment(""),A=Tt(u,l);return Zl(h,iu(h,A),_,function Vm(l,u){return l.nextSibling(u)}(h,A),!1),_}(u,h),l[ro]=A};class D0{constructor(u){this.queryList=u,this.matches=null}clone(){return new D0(this.queryList)}setDirty(){this.queryList.setDirty()}}class x0{constructor(u=[]){this.queries=u}createEmbeddedView(u){const h=u.queries;if(null!==h){const _=null!==u.contentQueries?u.contentQueries[0]:h.length,A=[];for(let G=0;G<_;G++){const oe=h.getByIndex(G);A.push(this.queries[oe.indexInDeclarationView].clone())}return new x0(A)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let h=0;h<this.queries.length;h++)null!==kg(u,h).matches&&this.queries[h].setDirty()}}class M0{constructor(u,h,_=null){this.predicate=u,this.flags=h,this.read=_}}class A0{constructor(u=[]){this.queries=u}elementStart(u,h){for(let _=0;_<this.queries.length;_++)this.queries[_].elementStart(u,h)}elementEnd(u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(u)}embeddedTView(u){let h=null;for(let _=0;_<this.length;_++){const A=null!==h?h.length:0,G=this.getByIndex(_).embeddedTView(u,A);G&&(G.indexInDeclarationView=_,null!==h?h.push(G):h=[G])}return null!==h?new A0(h):null}template(u,h){for(let _=0;_<this.queries.length;_++)this.queries[_].template(u,h)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class I0{constructor(u,h=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=h}elementStart(u,h){this.isApplyingToNode(h)&&this.matchTNode(u,h)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,h){this.elementStart(u,h)}embeddedTView(u,h){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,h),new I0(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const h=this._declarationNodeIndex;let _=u.parent;for(;null!==_&&8&_.type&&_.index!==h;)_=_.parent;return h===(null!==_?_.index:-1)}return this._appliesToNextNode}matchTNode(u,h){const _=this.metadata.predicate;if(Array.isArray(_))for(let A=0;A<_.length;A++){const G=_[A];this.matchTNodeWithReadOption(u,h,MA(h,G)),this.matchTNodeWithReadOption(u,h,cc(h,u,G,!1,!1))}else _===fm?4&h.type&&this.matchTNodeWithReadOption(u,h,-1):this.matchTNodeWithReadOption(u,h,cc(h,u,_,!1,!1))}matchTNodeWithReadOption(u,h,_){if(null!==_){const A=this.metadata.read;if(null!==A)if(A===df||A===Ng||A===fm&&4&h.type)this.addMatch(h.index,-2);else{const G=cc(h,u,A,!1,!1);null!==G&&this.addMatch(h.index,G)}else this.addMatch(h.index,_)}}addMatch(u,h){null===this.matches?this.matches=[u,h]:this.matches.push(u,h)}}function MA(l,u){const h=l.localNames;if(null!==h)for(let _=0;_<h.length;_+=2)if(h[_]===u)return h[_+1];return null}function IA(l,u,h,_){return-1===h?function AA(l,u){return 11&l.type?au(l,u):4&l.type?Rg(l,u):null}(u,l):-2===h?function wA(l,u,h){return h===df?au(u,l):h===fm?Rg(u,l):h===Ng?C0(u,l):void 0}(l,u,_):La(l,l[oi],h,u)}function GC(l,u,h,_){const A=u[io].queries[_];if(null===A.matches){const G=l.data,oe=h.matches,Ce=[];for(let Ve=0;Ve<oe.length;Ve+=2){const pt=oe[Ve];Ce.push(pt<0?null:IA(u,G[pt],oe[Ve+1],h.metadata.read))}A.matches=Ce}return A.matches}function w0(l,u,h,_){const A=l.queries.getByIndex(h),G=A.matches;if(null!==G){const oe=GC(l,u,A,h);for(let Ce=0;Ce<G.length;Ce+=2){const Ve=G[Ce];if(Ve>0)_.push(oe[Ce/2]);else{const pt=G[Ce+1],Pt=u[-Ve];for(let Ht=xr;Ht<Pt.length;Ht++){const _n=Pt[Ht];_n[_r]===_n[xi]&&w0(_n[oi],_n,pt,_)}if(null!==Pt[Zo]){const Ht=Pt[Zo];for(let _n=0;_n<Ht.length;_n++){const Mn=Ht[_n];w0(Mn[oi],Mn,pt,_)}}}}}return _}function Lg(l){const u=Gn(),h=sr(),_=ss();Hs(_+1);const A=kg(h,_);if(l.dirty&&function Hn(l){return 4==(4&l[Pi])}(u)===(2==(2&A.metadata.flags))){if(null===A.matches)l.reset([]);else{const G=A.crossesNgTemplate?w0(h,u,_,[]):GC(h,u,A,_);l.reset(G,XE),l.notifyOnChanges()}return!0}return!1}function O0(l,u,h){const _=sr();_.firstCreatePass&&(ji(_,new M0(l,u,h),-1),2==(2&u)&&(_.staticViewQueries=!0)),Yo(_,Gn(),u)}function P0(l,u,h,_){const A=sr();if(A.firstCreatePass){const G=so();ji(A,new M0(u,h,_),G.index),function L0(l,u){const h=l.contentQueries||(l.contentQueries=[]);u!==(h.length?h[h.length-1]:-1)&&h.push(l.queries.length-1,u)}(A,l),2==(2&h)&&(A.staticContentQueries=!0)}Yo(A,Gn(),h)}function R0(){return function N0(l,u){return l[io].queries[u].queryList}(Gn(),ss())}function Yo(l,u,h){const _=new um(4==(4&h));(function mu(l,u,h,_){const A=El(u);A.push(h),l.firstCreatePass&&vf(l).push(_,A.length-1)})(l,u,_,_.destroy),null===u[io]&&(u[io]=new x0),u[io].queries.push(new D0(_))}function ji(l,u,h){null===l.queries&&(l.queries=new A0),l.queries.track(new I0(u,h))}function kg(l,u){return l.queries.getByIndex(u)}function k0(l,u){return Rg(l,u)}function Fo(l){return!!Zi(l)}const Z0=new Qi("Application Initializer");let Kg=(()=>{class l{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,_)=>{this.resolve=h,this.reject=_}),this.appInits=Oe(Z0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const h=[];for(const A of this.appInits){const G=A();if(fy(G))h.push(G);else if(uS(G)){const oe=new Promise((Ce,Ve)=>{G.subscribe({complete:Ce,error:Ve})});h.push(oe)}}const _=()=>{this.done=!0,this.resolve()};Promise.all(h).then(()=>{_()}).catch(A=>{this.reject(A)}),0===h.length&&_(),this.initialized=!0}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),$0=(()=>{class l{log(h){console.log(h)}warn(h){console.warn(h)}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})();const Hr=new Qi("LocaleId",{providedIn:"root",factory:()=>Oe(Hr,fe.Optional|fe.SkipSelf)||function q0(){return typeof $localize<"u"&&$localize.locale||Cu}()}),lD=new Qi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Yg=(()=>{class l{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new b.X(!1)}add(){this.hasPendingTasks.next(!0);const h=this.taskId++;return this.pendingTasks.add(h),h}remove(h){this.pendingTasks.delete(h),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();class pm{constructor(u,h){this.ngModuleFactory=u,this.componentFactories=h}}let J0=(()=>{class l{compileModuleSync(h){return new Au(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const _=this.compileModuleSync(h),G=Ec(Zi(h).declarations).reduce((oe,Ce)=>{const Ve=Di(Ce);return Ve&&oe.push(new Tf(Ve)),oe},[]);return new pm(_,G)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function X0(...l){}class Xs{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:h=!1,shouldCoalesceRunChangeDetection:_=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dc(!1),this.onMicrotaskEmpty=new Dc(!1),this.onStable=new Dc(!1),this.onError=new Dc(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const A=this;A._nesting=0,A._outer=A._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(A._inner=A._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(A._inner=A._inner.fork(Zone.longStackTraceZoneSpec)),A.shouldCoalesceEventChangeDetection=!_&&h,A.shouldCoalesceRunChangeDetection=_,A.lastRequestAnimationFrameId=-1,A.nativeRequestAnimationFrame=function uD(){const l="function"==typeof at.requestAnimationFrame;let u=at[l?"requestAnimationFrame":"setTimeout"],h=at[l?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&u&&h){const _=u[Zone.__symbol__("OriginalDelegate")];_&&(u=_);const A=h[Zone.__symbol__("OriginalDelegate")];A&&(h=A)}return{nativeRequestAnimationFrame:u,nativeCancelAnimationFrame:h}}().nativeRequestAnimationFrame,function mD(l){const u=()=>{!function hD(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(at,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,zg(l),l.isCheckStableRunning=!0,Wg(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),zg(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(h,_,A,G,oe,Ce)=>{try{return eb(l),h.invokeTask(A,G,oe,Ce)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===G.type||l.shouldCoalesceRunChangeDetection)&&u(),tb(l)}},onInvoke:(h,_,A,G,oe,Ce,Ve)=>{try{return eb(l),h.invoke(A,G,oe,Ce,Ve)}finally{l.shouldCoalesceRunChangeDetection&&u(),tb(l)}},onHasTask:(h,_,A,G)=>{h.hasTask(A,G),_===A&&("microTask"==G.change?(l._hasPendingMicrotasks=G.microTask,zg(l),Wg(l)):"macroTask"==G.change&&(l.hasPendingMacrotasks=G.macroTask))},onHandleError:(h,_,A,G)=>(h.handleError(A,G),l.runOutsideAngular(()=>l.onError.emit(G)),!1)})}(A)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xs.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Xs.isInAngularZone())throw new T(909,!1)}run(u,h,_){return this._inner.run(u,h,_)}runTask(u,h,_,A){const G=this._inner,oe=G.scheduleEventTask("NgZoneEvent: "+A,u,fD,X0,X0);try{return G.runTask(oe,h,_)}finally{G.cancelTask(oe)}}runGuarded(u,h,_){return this._inner.runGuarded(u,h,_)}runOutsideAngular(u){return this._outer.run(u)}}const fD={};function Wg(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function zg(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function eb(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function tb(l){l._nesting--,Wg(l)}class pD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dc,this.onMicrotaskEmpty=new Dc,this.onStable=new Dc,this.onError=new Dc}run(u,h,_){return u.apply(h,_)}runGuarded(u,h,_){return u.apply(h,_)}runOutsideAngular(u){return u()}runTask(u,h,_,A){return u.apply(h,_)}}const nb=new Qi("",{providedIn:"root",factory:ib});function ib(){const l=Oe(Xs);let u=!0;const h=new w.y(A=>{u=l.isStable&&!l.hasPendingMacrotasks&&!l.hasPendingMicrotasks,l.runOutsideAngular(()=>{A.next(u),A.complete()})}),_=new w.y(A=>{let G;l.runOutsideAngular(()=>{G=l.onStable.subscribe(()=>{Xs.assertNotInAngularZone(),queueMicrotask(()=>{!u&&!l.hasPendingMacrotasks&&!l.hasPendingMicrotasks&&(u=!0,A.next(!0))})})});const oe=l.onUnstable.subscribe(()=>{Xs.assertInAngularZone(),u&&(u=!1,l.runOutsideAngular(()=>{A.next(!1)}))});return()=>{G.unsubscribe(),oe.unsubscribe()}});return(0,E.T)(h,_.pipe((0,L.B)()))}const rb=new Qi(""),ob=new Qi("");let gm,gD=(()=>{class l{constructor(h,_,A){this._ngZone=h,this.registry=_,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gm||(function _D(l){gm=l}(A),A.addToWindow(_)),this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(_=>!_.updateCb||!_.updateCb(h)||(clearTimeout(_.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,_,A){let G=-1;_&&_>0&&(G=setTimeout(()=>{this._callbacks=this._callbacks.filter(oe=>oe.timeoutId!==G),h(this._didWork,this.getPendingTasks())},_)),this._callbacks.push({doneCb:h,timeoutId:G,updateCb:A})}whenStable(h,_,A){if(A&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,_,A),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(h){this.registry.registerApplication(h,this)}unregisterApplication(h){this.registry.unregisterApplication(h)}findProviders(h,_,A){return[]}static#e=this.\u0275fac=function(_){return new(_||l)(Xe(Xs),Xe(sb),Xe(ob))};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac})}return l})(),sb=(()=>{class l{constructor(){this._applications=new Map}registerApplication(h,_){this._applications.set(h,_)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,_=!0){return gm?.findTestabilityInTree(this,h,_)??null}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})(),ed=null;const ab=new Qi("AllowMultipleToken"),Zg=new Qi("PlatformDestroyListeners"),$g=new Qi("appBootstrapListener");class bD{constructor(u,h){this.name=u,this.token=h}}function db(l,u,h=[]){const _=`Platform: ${u}`,A=new Qi(_);return(G=[])=>{let oe=qg();if(!oe||oe.injector.get(ab,!1)){const Ce=[...h,...G,{provide:A,useValue:!0}];l?l(Ce):function ED(l){if(ed&&!ed.get(ab,!1))throw new T(400,!1);(function lb(){!function Il(l){Qa=l}(()=>{throw new T(600,!1)})})(),ed=l;const u=l.get(fb);(function cb(l){l.get(fv,null)?.forEach(h=>h())})(l)}(function ub(l=[],u){return Yc.create({name:u,providers:[{provide:op,useValue:"platform"},{provide:Zg,useValue:new Set([()=>ed=null])},...l]})}(Ce,_))}return function SD(l){const u=qg();if(!u)throw new T(401,!1);return u}()}}function qg(){return ed?.get(fb)??null}let fb=(()=>{class l{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,_){const A=function Pu(l="zone.js",u){return"noop"===l?new pD:"zone.js"===l?new Xs(u):l}(_?.ngZone,function Jg(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:l?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:l?.runCoalescing??!1}}({eventCoalescing:_?.ngZoneEventCoalescing,runCoalescing:_?.ngZoneRunCoalescing}));return A.run(()=>{const G=function bC(l,u,h){return new Xc(l,u,h)}(h.moduleType,this.injector,function _b(l){return[{provide:Xs,useFactory:l},{provide:tf,multi:!0,useFactory:()=>{const u=Oe(DD,{optional:!0});return()=>u.initialize()}},{provide:gb,useFactory:CD},{provide:nb,useFactory:ib}]}(()=>A)),oe=G.injector.get(Dd,null);return A.runOutsideAngular(()=>{const Ce=A.onError.subscribe({next:Ve=>{oe.handleError(Ve)}});G.onDestroy(()=>{_m(this._modules,G),Ce.unsubscribe()})}),function hb(l,u,h){try{const _=h();return fy(_)?_.catch(A=>{throw u.runOutsideAngular(()=>l.handleError(A)),A}):_}catch(_){throw u.runOutsideAngular(()=>l.handleError(_)),_}}(oe,A,()=>{const Ce=G.injector.get(Kg);return Ce.runInitializers(),Ce.donePromise.then(()=>(Vy(G.injector.get(Hr,Cu)||Cu),this._moduleDoBootstrap(G),G))})})}bootstrapModule(h,_=[]){const A=mb({},_);return function vD(l,u,h){const _=new Au(h);return Promise.resolve(_)}(0,0,h).then(G=>this.bootstrapModuleFactory(G,A))}_moduleDoBootstrap(h){const _=h.injector.get(Ru);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(A=>_.bootstrap(A));else{if(!h.instance.ngDoBootstrap)throw new T(-403,!1);h.instance.ngDoBootstrap(_)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(_=>_.destroy()),this._destroyListeners.forEach(_=>_());const h=this._injector.get(Zg,null);h&&(h.forEach(_=>_()),h.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(_){return new(_||l)(Xe(Yc))};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})();function mb(l,u){return Array.isArray(u)?u.reduce(mb,l):{...l,...u}}let Ru=(()=>{class l{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Oe(gb),this.zoneIsStable=Oe(nb),this.componentTypes=[],this.components=[],this.isStable=Oe(Yg).hasPendingTasks.pipe((0,D.w)(h=>h?(0,F.of)(!1):this.zoneIsStable),(0,p.x)(),(0,L.B)()),this._injector=Oe(yc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(h,_){const A=h instanceof gv;if(!this._injector.get(Kg).done)throw!A&&$r(h),new T(405,!1);let oe;oe=A?h:this._injector.get(lf).resolveComponentFactory(h),this.componentTypes.push(oe.componentType);const Ce=function yD(l){return l.isBoundToModule}(oe)?void 0:this._injector.get(Mu),pt=oe.create(Yc.NULL,[],_||oe.selector,Ce),Pt=pt.location.nativeElement,Ht=pt.injector.get(rb,null);return Ht?.registerApplication(Pt),pt.onDestroy(()=>{this.detachView(pt.hostView),_m(this.components,pt),Ht?.unregisterApplication(Pt)}),this._loadComponent(pt),pt}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this.internalErrorHandler(h)}finally{this._runningTick=!1}}attachView(h){const _=h;this._views.push(_),_.attachToAppRef(this)}detachView(h){const _=h;_m(this._views,_),_.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h);const _=this._injector.get($g,[]);_.push(...this._bootstrapListeners),_.forEach(A=>A(h))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(h=>h()),this._views.slice().forEach(h=>h.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(h){return this._destroyListeners.push(h),()=>_m(this._destroyListeners,h)}destroy(){if(this._destroyed)throw new T(406,!1);const h=this._injector;h.destroy&&!h.destroyed&&h.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function _m(l,u){const h=l.indexOf(u);h>-1&&l.splice(h,1)}const gb=new Qi("",{providedIn:"root",factory:()=>Oe(Dd).handleError.bind(void 0)});function CD(){const l=Oe(Xs),u=Oe(Dd);return h=>l.runOutsideAngular(()=>u.handleError(h))}let DD=(()=>{class l{constructor(){this.zone=Oe(Xs),this.applicationRef=Oe(Ru)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function MD(){return!1}function AD(){}let ID=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=wD}return l})();function wD(l){return function OD(l,u,h){if(eo(l)&&!h){const _=In(l.index,u);return new bf(_,_)}return 47&l.type?new bf(u[wi],u):null}(so(),Gn(),16==(16&l))}class Tb{constructor(){}supports(u){return Up(u)}create(u){return new kD(u)}}const LD=(l,u)=>u;class kD{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||LD}forEachItem(u){let h;for(h=this._itHead;null!==h;h=h._next)u(h)}forEachOperation(u){let h=this._itHead,_=this._removalsHead,A=0,G=null;for(;h||_;){const oe=!_||h&&h.currentIndex<Cb(_,A,G)?h:_,Ce=Cb(oe,A,G),Ve=oe.currentIndex;if(oe===_)A--,_=_._nextRemoved;else if(h=h._next,null==oe.previousIndex)A++;else{G||(G=[]);const pt=Ce-A,Pt=Ve-A;if(pt!=Pt){for(let _n=0;_n<pt;_n++){const Mn=_n<G.length?G[_n]:G[_n]=0,Yn=Mn+_n;Pt<=Yn&&Yn<pt&&(G[_n]=Mn+1)}G[oe.previousIndex]=Pt-pt}}Ce!==Ve&&u(oe,Ce,Ve)}}forEachPreviousItem(u){let h;for(h=this._previousItHead;null!==h;h=h._nextPrevious)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachMovedItem(u){let h;for(h=this._movesHead;null!==h;h=h._nextMoved)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}forEachIdentityChange(u){let h;for(h=this._identityChangesHead;null!==h;h=h._nextIdentityChange)u(h)}diff(u){if(null==u&&(u=[]),!Up(u))throw new T(900,!1);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let A,G,oe,h=this._itHead,_=!1;if(Array.isArray(u)){this.length=u.length;for(let Ce=0;Ce<this.length;Ce++)G=u[Ce],oe=this._trackByFn(Ce,G),null!==h&&Object.is(h.trackById,oe)?(_&&(h=this._verifyReinsertion(h,G,oe,Ce)),Object.is(h.item,G)||this._addIdentityChange(h,G)):(h=this._mismatch(h,G,oe,Ce),_=!0),h=h._next}else A=0,function UT(l,u){if(Array.isArray(l))for(let h=0;h<l.length;h++)u(l[h]);else{const h=l[Symbol.iterator]();let _;for(;!(_=h.next()).done;)u(_.value)}}(u,Ce=>{oe=this._trackByFn(A,Ce),null!==h&&Object.is(h.trackById,oe)?(_&&(h=this._verifyReinsertion(h,Ce,oe,A)),Object.is(h.item,Ce)||this._addIdentityChange(h,Ce)):(h=this._mismatch(h,Ce,oe,A),_=!0),h=h._next,A++}),this.length=A;return this._truncate(h),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,h,_,A){let G;return null===u?G=this._itTail:(G=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._reinsertAfter(u,G,A)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(_,A))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._moveAfter(u,G,A)):u=this._addAfter(new FD(h,_),G,A),u}_verifyReinsertion(u,h,_,A){let G=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null);return null!==G?u=this._reinsertAfter(G,u._prev,A):u.currentIndex!=A&&(u.currentIndex=A,this._addToMoves(u,A)),u}_truncate(u){for(;null!==u;){const h=u._next;this._addToRemovals(this._unlink(u)),u=h}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,h,_){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const A=u._prevRemoved,G=u._nextRemoved;return null===A?this._removalsHead=G:A._nextRemoved=G,null===G?this._removalsTail=A:G._prevRemoved=A,this._insertAfter(u,h,_),this._addToMoves(u,_),u}_moveAfter(u,h,_){return this._unlink(u),this._insertAfter(u,h,_),this._addToMoves(u,_),u}_addAfter(u,h,_){return this._insertAfter(u,h,_),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,h,_){const A=null===h?this._itHead:h._next;return u._next=A,u._prev=h,null===A?this._itTail=u:A._prev=u,null===h?this._itHead=u:h._next=u,null===this._linkedRecords&&(this._linkedRecords=new Sb),this._linkedRecords.put(u),u.currentIndex=_,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const h=u._prev,_=u._next;return null===h?this._itHead=_:h._next=_,null===_?this._itTail=h:_._prev=h,u}_addToMoves(u,h){return u.previousIndex===h||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Sb),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,h){return u.item=h,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class FD{constructor(u,h){this.item=u,this.trackById=h,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BD{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,h){let _;for(_=this._head;null!==_;_=_._nextDup)if((null===h||h<=_.currentIndex)&&Object.is(_.trackById,u))return _;return null}remove(u){const h=u._prevDup,_=u._nextDup;return null===h?this._head=_:h._nextDup=_,null===_?this._tail=h:_._prevDup=h,null===this._head}}class Sb{constructor(){this.map=new Map}put(u){const h=u.trackById;let _=this.map.get(h);_||(_=new BD,this.map.set(h,_)),_.add(u)}get(u,h){const A=this.map.get(u);return A?A.get(u,h):null}remove(u){const h=u.trackById;return this.map.get(h).remove(u)&&this.map.delete(h),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cb(l,u,h){const _=l.previousIndex;if(null===_)return _;let A=0;return h&&_<h.length&&(A=h[_]),_+u+A}class Db{constructor(){}supports(u){return u instanceof Map||jp(u)}create(){return new UD}}class UD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let h;for(h=this._mapHead;null!==h;h=h._next)u(h)}forEachPreviousItem(u){let h;for(h=this._previousMapHead;null!==h;h=h._nextPrevious)u(h)}forEachChangedItem(u){let h;for(h=this._changesHead;null!==h;h=h._nextChanged)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}diff(u){if(u){if(!(u instanceof Map||jp(u)))throw new T(900,!1)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let h=this._mapHead;if(this._appendAfter=null,this._forEach(u,(_,A)=>{if(h&&h.key===A)this._maybeAddToChanges(h,_),this._appendAfter=h,h=h._next;else{const G=this._getOrCreateRecordForKey(A,_);h=this._insertBeforeOrAppend(h,G)}}),h){h._prev&&(h._prev._next=null),this._removalsHead=h;for(let _=h;null!==_;_=_._nextRemoved)_===this._mapHead&&(this._mapHead=null),this._records.delete(_.key),_._nextRemoved=_._next,_.previousValue=_.currentValue,_.currentValue=null,_._prev=null,_._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,h){if(u){const _=u._prev;return h._next=u,h._prev=_,u._prev=h,_&&(_._next=h),u===this._mapHead&&(this._mapHead=h),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=h,h._prev=this._appendAfter):this._mapHead=h,this._appendAfter=h,null}_getOrCreateRecordForKey(u,h){if(this._records.has(u)){const A=this._records.get(u);this._maybeAddToChanges(A,h);const G=A._prev,oe=A._next;return G&&(G._next=oe),oe&&(oe._prev=G),A._next=null,A._prev=null,A}const _=new uI(u);return this._records.set(u,_),_.currentValue=h,this._addToAdditions(_),_}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,h){Object.is(h,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=h,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,h){u instanceof Map?u.forEach(h):Object.keys(u).forEach(_=>h(u[_],_))}}class uI{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xb(){return new n_([new Tb])}let n_=(()=>{class l{static#e=this.\u0275prov=Ne({token:l,providedIn:"root",factory:xb});constructor(h){this.factories=h}static create(h,_){if(null!=_){const A=_.factories.slice();h=h.concat(A)}return new l(h)}static extend(h){return{provide:l,useFactory:_=>l.create(h,_||xb()),deps:[[l,new Ko,new Ws]]}}find(h){const _=this.factories.find(A=>A.supports(h));if(null!=_)return _;throw new T(901,!1)}}return l})();function Mb(){return new i_([new Db])}let i_=(()=>{class l{static#e=this.\u0275prov=Ne({token:l,providedIn:"root",factory:Mb});constructor(h){this.factories=h}static create(h,_){if(_){const A=_.factories.slice();h=h.concat(A)}return new l(h)}static extend(h){return{provide:l,useFactory:_=>l.create(h,_||Mb()),deps:[[l,new Ko,new Ws]]}}find(h){const _=this.factories.find(A=>A.supports(h));if(_)return _;throw new T(901,!1)}}return l})();const GD=db(null,"core",[]);let HD=(()=>{class l{constructor(h){}static#e=this.\u0275fac=function(_){return new(_||l)(Xe(Ru))};static#t=this.\u0275mod=gr({type:l});static#n=this.\u0275inj=W({})}return l})();function JD(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}function Lb(l,u){const h=Di(l),_=u.elementInjector||_h();return new Tf(h).create(_,u.projectableNodes,u.hostElement,u.environmentInjector)}function ex(l){const u=Di(l);if(!u)return null;const h=new Tf(u);return{get selector(){return h.selector},get type(){return h.componentType},get inputs(){return h.inputs},get outputs(){return h.outputs},get ngContentSelectors(){return h.ngContentSelectors},get isStandalone(){return u.standalone},get isSignal(){return u.signals}}}},95:(jn,nt,S)=>{"use strict";S.d(nt,{Zs:()=>ir,Fj:()=>T,qu:()=>rs,NI:()=>gr,u:()=>ho,sg:()=>gi,u5:()=>dr,Cf:()=>B,JU:()=>R,a5:()=>re,JJ:()=>ye,JL:()=>ue,F:()=>fi,On:()=>Kr,YN:()=>hr,wV:()=>Pn,UX:()=>pn,EJ:()=>jo,kI:()=>ce,_Y:()=>qr,Kr:()=>Vo});var c=S(5879),t=S(6814),b=S(2459),w=S(5592),E=S(7453),F=S(4829),L=S(9940),D=S(8251),p=S(7400),f=S(2714),y=S(7398);let M=(()=>{class it{constructor(Je,It){this._renderer=Je,this._elementRef=It,this.onChange=rn=>{},this.onTouched=()=>{}}setProperty(Je,It){this._renderer.setProperty(this._elementRef.nativeElement,Je,It)}registerOnTouched(Je){this.onTouched=Je}registerOnChange(Je){this.onChange=Je}setDisabledState(Je){this.setProperty("disabled",Je)}static#e=this.\u0275fac=function(It){return new(It||it)(c.Y36(c.Qsj),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:it})}return it})(),U=(()=>{class it extends M{static#e=this.\u0275fac=function(){let Je;return function(rn){return(Je||(Je=c.n5z(it)))(rn||it)}}();static#t=this.\u0275dir=c.lG2({type:it,features:[c.qOj]})}return it})();const R=new c.OlP("NgValueAccessor"),P={provide:R,useExisting:(0,c.Gpc)(()=>T),multi:!0},O=new c.OlP("CompositionEventMode");let T=(()=>{class it extends M{constructor(Je,It,rn){super(Je,It),this._compositionMode=rn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function x(){const it=(0,t.q)()?(0,t.q)().getUserAgent():"";return/android (\d+)/.test(it.toLowerCase())}())}writeValue(Je){this.setProperty("value",Je??"")}_handleInput(Je){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Je)}_compositionStart(){this._composing=!0}_compositionEnd(Je){this._composing=!1,this._compositionMode&&this.onChange(Je)}static#e=this.\u0275fac=function(It){return new(It||it)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(O,8))};static#t=this.\u0275dir=c.lG2({type:it,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(It,rn){1&It&&c.NdJ("input",function(Ri){return rn._handleInput(Ri.target.value)})("blur",function(){return rn.onTouched()})("compositionstart",function(){return rn._compositionStart()})("compositionend",function(Ri){return rn._compositionEnd(Ri.target.value)})},features:[c._Bn([P]),c.qOj]})}return it})();function N(it){return null==it||("string"==typeof it||Array.isArray(it))&&0===it.length}function C(it){return null!=it&&"number"==typeof it.length}const B=new c.OlP("NgValidators"),Y=new c.OlP("NgAsyncValidators"),J=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ce{static min(ht){return function Fe(it){return ht=>{if(N(ht.value)||N(it))return null;const Je=parseFloat(ht.value);return!isNaN(Je)&&Je<it?{min:{min:it,actual:ht.value}}:null}}(ht)}static max(ht){return function q(it){return ht=>{if(N(ht.value)||N(it))return null;const Je=parseFloat(ht.value);return!isNaN(Je)&&Je>it?{max:{max:it,actual:ht.value}}:null}}(ht)}static required(ht){return le(ht)}static requiredTrue(ht){return K(ht)}static email(ht){return function _e(it){return N(it.value)||J.test(it.value)?null:{email:!0}}(ht)}static minLength(ht){return function se(it){return ht=>N(ht.value)||!C(ht.value)?null:ht.value.length<it?{minlength:{requiredLength:it,actualLength:ht.value.length}}:null}(ht)}static maxLength(ht){return function me(it){return ht=>C(ht.value)&&ht.value.length>it?{maxlength:{requiredLength:it,actualLength:ht.value.length}}:null}(ht)}static pattern(ht){return function De(it){if(!it)return Le;let ht,Je;return"string"==typeof it?(Je="","^"!==it.charAt(0)&&(Je+="^"),Je+=it,"$"!==it.charAt(it.length-1)&&(Je+="$"),ht=new RegExp(Je)):(Je=it.toString(),ht=it),It=>{if(N(It.value))return null;const rn=It.value;return ht.test(rn)?null:{pattern:{requiredPattern:Je,actualValue:rn}}}}(ht)}static nullValidator(ht){return null}static compose(ht){return we(ht)}static composeAsync(ht){return st(ht)}}function le(it){return N(it.value)?{required:!0}:null}function K(it){return!0===it.value?null:{required:!0}}function Le(it){return null}function he(it){return null!=it}function Re(it){return(0,c.QGY)(it)?(0,b.D)(it):it}function Ie(it){let ht={};return it.forEach(Je=>{ht=null!=Je?{...ht,...Je}:ht}),0===Object.keys(ht).length?null:ht}function ge(it,ht){return ht.map(Je=>Je(it))}function ke(it){return it.map(ht=>function Ue(it){return!it.validate}(ht)?ht:Je=>ht.validate(Je))}function we(it){if(!it)return null;const ht=it.filter(he);return 0==ht.length?null:function(Je){return Ie(ge(Je,ht))}}function Ke(it){return null!=it?we(ke(it)):null}function st(it){if(!it)return null;const ht=it.filter(he);return 0==ht.length?null:function(Je){return function g(...it){const ht=(0,L.jO)(it),{args:Je,keys:It}=(0,E.D)(it),rn=new w.y(li=>{const{length:Ri}=Je;if(!Ri)return void li.complete();const bo=new Array(Ri);let Eo=Ri,Jo=Ri;for(let Jr=0;Jr<Ri;Jr++){let gs=!1;(0,F.Xf)(Je[Jr]).subscribe((0,D.x)(li,Tr=>{gs||(gs=!0,Jo--),bo[Jr]=Tr},()=>Eo--,void 0,()=>{(!Eo||!gs)&&(Jo||li.next(It?(0,f.n)(It,bo):bo),li.complete())}))}});return ht?rn.pipe((0,p.Z)(ht)):rn}(ge(Je,ht).map(Re)).pipe((0,y.U)(Ie))}}function Qe(it){return null!=it?st(ke(it)):null}function Ne(it,ht){return null===it?[ht]:Array.isArray(it)?[...it,ht]:[it,ht]}function Se(it){return it._rawValidators}function W(it){return it._rawAsyncValidators}function ae(it){return it?Array.isArray(it)?it:[it]:[]}function ve(it,ht){return Array.isArray(it)?it.includes(ht):it===ht}function Q(it,ht){const Je=ae(ht);return ae(it).forEach(rn=>{ve(Je,rn)||Je.push(rn)}),Je}function X(it,ht){return ae(ht).filter(Je=>!ve(it,Je))}class ${constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ht){this._rawValidators=ht||[],this._composedValidatorFn=Ke(this._rawValidators)}_setAsyncValidators(ht){this._rawAsyncValidators=ht||[],this._composedAsyncValidatorFn=Qe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ht){this._onDestroyCallbacks.push(ht)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ht=>ht()),this._onDestroyCallbacks=[]}reset(ht=void 0){this.control&&this.control.reset(ht)}hasError(ht,Je){return!!this.control&&this.control.hasError(ht,Je)}getError(ht,Je){return this.control?this.control.getError(ht,Je):null}}class ie extends ${get formDirective(){return null}get path(){return null}}class re extends ${constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class te{constructor(ht){this._cd=ht}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ye=(()=>{class it extends te{constructor(Je){super(Je)}static#e=this.\u0275fac=function(It){return new(It||it)(c.Y36(re,2))};static#t=this.\u0275dir=c.lG2({type:it,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(It,rn){2&It&&c.ekj("ng-untouched",rn.isUntouched)("ng-touched",rn.isTouched)("ng-pristine",rn.isPristine)("ng-dirty",rn.isDirty)("ng-valid",rn.isValid)("ng-invalid",rn.isInvalid)("ng-pending",rn.isPending)},features:[c.qOj]})}return it})(),ue=(()=>{class it extends te{constructor(Je){super(Je)}static#e=this.\u0275fac=function(It){return new(It||it)(c.Y36(ie,10))};static#t=this.\u0275dir=c.lG2({type:it,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(It,rn){2&It&&c.ekj("ng-untouched",rn.isUntouched)("ng-touched",rn.isTouched)("ng-pristine",rn.isPristine)("ng-dirty",rn.isDirty)("ng-valid",rn.isValid)("ng-invalid",rn.isInvalid)("ng-pending",rn.isPending)("ng-submitted",rn.isSubmitted)},features:[c.qOj]})}return it})();const ft="VALID",Xe="INVALID",xe="PENDING",Oe="DISABLED";function We(it){return(dt(it)?it.validators:it)||null}function lt(it,ht){return(dt(ht)?ht.asyncValidators:it)||null}function dt(it){return null!=it&&!Array.isArray(it)&&"object"==typeof it}function Lt(it,ht,Je){const It=it.controls;if(!(ht?Object.keys(It):It).length)throw new c.vHH(1e3,"");if(!It[Je])throw new c.vHH(1001,"")}function zt(it,ht,Je){it._forEachChild((It,rn)=>{if(void 0===Je[rn])throw new c.vHH(1002,"")})}class Rt{constructor(ht,Je){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ht),this._assignAsyncValidators(Je)}get validator(){return this._composedValidatorFn}set validator(ht){this._rawValidators=this._composedValidatorFn=ht}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ht){this._rawAsyncValidators=this._composedAsyncValidatorFn=ht}get parent(){return this._parent}get valid(){return this.status===ft}get invalid(){return this.status===Xe}get pending(){return this.status==xe}get disabled(){return this.status===Oe}get enabled(){return this.status!==Oe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ht){this._assignValidators(ht)}setAsyncValidators(ht){this._assignAsyncValidators(ht)}addValidators(ht){this.setValidators(Q(ht,this._rawValidators))}addAsyncValidators(ht){this.setAsyncValidators(Q(ht,this._rawAsyncValidators))}removeValidators(ht){this.setValidators(X(ht,this._rawValidators))}removeAsyncValidators(ht){this.setAsyncValidators(X(ht,this._rawAsyncValidators))}hasValidator(ht){return ve(this._rawValidators,ht)}hasAsyncValidator(ht){return ve(this._rawAsyncValidators,ht)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ht={}){this.touched=!0,this._parent&&!ht.onlySelf&&this._parent.markAsTouched(ht)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ht=>ht.markAllAsTouched())}markAsUntouched(ht={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Je=>{Je.markAsUntouched({onlySelf:!0})}),this._parent&&!ht.onlySelf&&this._parent._updateTouched(ht)}markAsDirty(ht={}){this.pristine=!1,this._parent&&!ht.onlySelf&&this._parent.markAsDirty(ht)}markAsPristine(ht={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Je=>{Je.markAsPristine({onlySelf:!0})}),this._parent&&!ht.onlySelf&&this._parent._updatePristine(ht)}markAsPending(ht={}){this.status=xe,!1!==ht.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ht.onlySelf&&this._parent.markAsPending(ht)}disable(ht={}){const Je=this._parentMarkedDirty(ht.onlySelf);this.status=Oe,this.errors=null,this._forEachChild(It=>{It.disable({...ht,onlySelf:!0})}),this._updateValue(),!1!==ht.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ht,skipPristineCheck:Je}),this._onDisabledChange.forEach(It=>It(!0))}enable(ht={}){const Je=this._parentMarkedDirty(ht.onlySelf);this.status=ft,this._forEachChild(It=>{It.enable({...ht,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ht.emitEvent}),this._updateAncestors({...ht,skipPristineCheck:Je}),this._onDisabledChange.forEach(It=>It(!1))}_updateAncestors(ht){this._parent&&!ht.onlySelf&&(this._parent.updateValueAndValidity(ht),ht.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ht){this._parent=ht}getRawValue(){return this.value}updateValueAndValidity(ht={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ft||this.status===xe)&&this._runAsyncValidator(ht.emitEvent)),!1!==ht.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ht.onlySelf&&this._parent.updateValueAndValidity(ht)}_updateTreeValidity(ht={emitEvent:!0}){this._forEachChild(Je=>Je._updateTreeValidity(ht)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ht.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oe:ft}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ht){if(this.asyncValidator){this.status=xe,this._hasOwnPendingAsyncValidator=!0;const Je=Re(this.asyncValidator(this));this._asyncValidationSubscription=Je.subscribe(It=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(It,{emitEvent:ht})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ht,Je={}){this.errors=ht,this._updateControlsErrors(!1!==Je.emitEvent)}get(ht){let Je=ht;return null==Je||(Array.isArray(Je)||(Je=Je.split(".")),0===Je.length)?null:Je.reduce((It,rn)=>It&&It._find(rn),this)}getError(ht,Je){const It=Je?this.get(Je):this;return It&&It.errors?It.errors[ht]:null}hasError(ht,Je){return!!this.getError(ht,Je)}get root(){let ht=this;for(;ht._parent;)ht=ht._parent;return ht}_updateControlsErrors(ht){this.status=this._calculateStatus(),ht&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ht)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Oe:this.errors?Xe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xe)?xe:this._anyControlsHaveStatus(Xe)?Xe:ft}_anyControlsHaveStatus(ht){return this._anyControls(Je=>Je.status===ht)}_anyControlsDirty(){return this._anyControls(ht=>ht.dirty)}_anyControlsTouched(){return this._anyControls(ht=>ht.touched)}_updatePristine(ht={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ht.onlySelf&&this._parent._updatePristine(ht)}_updateTouched(ht={}){this.touched=this._anyControlsTouched(),this._parent&&!ht.onlySelf&&this._parent._updateTouched(ht)}_registerOnCollectionChange(ht){this._onCollectionChange=ht}_setUpdateStrategy(ht){dt(ht)&&null!=ht.updateOn&&(this._updateOn=ht.updateOn)}_parentMarkedDirty(ht){return!ht&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ht){return null}_assignValidators(ht){this._rawValidators=Array.isArray(ht)?ht.slice():ht,this._composedValidatorFn=function $e(it){return Array.isArray(it)?Ke(it):it||null}(this._rawValidators)}_assignAsyncValidators(ht){this._rawAsyncValidators=Array.isArray(ht)?ht.slice():ht,this._composedAsyncValidatorFn=function ot(it){return Array.isArray(it)?Qe(it):it||null}(this._rawAsyncValidators)}}class $t extends Rt{constructor(ht,Je,It){super(We(Je),lt(It,Je)),this.controls=ht,this._initObservables(),this._setUpdateStrategy(Je),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ht,Je){return this.controls[ht]?this.controls[ht]:(this.controls[ht]=Je,Je.setParent(this),Je._registerOnCollectionChange(this._onCollectionChange),Je)}addControl(ht,Je,It={}){this.registerControl(ht,Je),this.updateValueAndValidity({emitEvent:It.emitEvent}),this._onCollectionChange()}removeControl(ht,Je={}){this.controls[ht]&&this.controls[ht]._registerOnCollectionChange(()=>{}),delete this.controls[ht],this.updateValueAndValidity({emitEvent:Je.emitEvent}),this._onCollectionChange()}setControl(ht,Je,It={}){this.controls[ht]&&this.controls[ht]._registerOnCollectionChange(()=>{}),delete this.controls[ht],Je&&this.registerControl(ht,Je),this.updateValueAndValidity({emitEvent:It.emitEvent}),this._onCollectionChange()}contains(ht){return this.controls.hasOwnProperty(ht)&&this.controls[ht].enabled}setValue(ht,Je={}){zt(this,0,ht),Object.keys(ht).forEach(It=>{Lt(this,!0,It),this.controls[It].setValue(ht[It],{onlySelf:!0,emitEvent:Je.emitEvent})}),this.updateValueAndValidity(Je)}patchValue(ht,Je={}){null!=ht&&(Object.keys(ht).forEach(It=>{const rn=this.controls[It];rn&&rn.patchValue(ht[It],{onlySelf:!0,emitEvent:Je.emitEvent})}),this.updateValueAndValidity(Je))}reset(ht={},Je={}){this._forEachChild((It,rn)=>{It.reset(ht[rn],{onlySelf:!0,emitEvent:Je.emitEvent})}),this._updatePristine(Je),this._updateTouched(Je),this.updateValueAndValidity(Je)}getRawValue(){return this._reduceChildren({},(ht,Je,It)=>(ht[It]=Je.getRawValue(),ht))}_syncPendingControls(){let ht=this._reduceChildren(!1,(Je,It)=>!!It._syncPendingControls()||Je);return ht&&this.updateValueAndValidity({onlySelf:!0}),ht}_forEachChild(ht){Object.keys(this.controls).forEach(Je=>{const It=this.controls[Je];It&&ht(It,Je)})}_setUpControls(){this._forEachChild(ht=>{ht.setParent(this),ht._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ht){for(const[Je,It]of Object.entries(this.controls))if(this.contains(Je)&&ht(It))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Je,It,rn)=>((It.enabled||this.disabled)&&(Je[rn]=It.value),Je))}_reduceChildren(ht,Je){let It=ht;return this._forEachChild((rn,li)=>{It=Je(It,rn,li)}),It}_allControlsDisabled(){for(const ht of Object.keys(this.controls))if(this.controls[ht].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ht){return this.controls.hasOwnProperty(ht)?this.controls[ht]:null}}class An extends $t{}const Zn=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Kn}),Kn="always";function ci(it,ht){return[...ht.path,it]}function vn(it,ht,Je=Kn){Xt(it,ht),ht.valueAccessor.writeValue(it.value),(it.disabled||"always"===Je)&&ht.valueAccessor.setDisabledState?.(it.disabled),function et(it,ht){ht.valueAccessor.registerOnChange(Je=>{it._pendingValue=Je,it._pendingChange=!0,it._pendingDirty=!0,"change"===it.updateOn&&qt(it,ht)})}(it,ht),function wn(it,ht){const Je=(It,rn)=>{ht.valueAccessor.writeValue(It),rn&&ht.viewToModelUpdate(It)};it.registerOnChange(Je),ht._registerOnDestroy(()=>{it._unregisterOnChange(Je)})}(it,ht),function wt(it,ht){ht.valueAccessor.registerOnTouched(()=>{it._pendingTouched=!0,"blur"===it.updateOn&&it._pendingChange&&qt(it,ht),"submit"!==it.updateOn&&it.markAsTouched()})}(it,ht),function ut(it,ht){if(ht.valueAccessor.setDisabledState){const Je=It=>{ht.valueAccessor.setDisabledState(It)};it.registerOnDisabledChange(Je),ht._registerOnDestroy(()=>{it._unregisterOnDisabledChange(Je)})}}(it,ht)}function gn(it,ht,Je=!0){const It=()=>{};ht.valueAccessor&&(ht.valueAccessor.registerOnChange(It),ht.valueAccessor.registerOnTouched(It)),Ze(it,ht),it&&(ht._invokeOnDestroyCallbacks(),it._registerOnCollectionChange(()=>{}))}function Et(it,ht){it.forEach(Je=>{Je.registerOnValidatorChange&&Je.registerOnValidatorChange(ht)})}function Xt(it,ht){const Je=Se(it);null!==ht.validator?it.setValidators(Ne(Je,ht.validator)):"function"==typeof Je&&it.setValidators([Je]);const It=W(it);null!==ht.asyncValidator?it.setAsyncValidators(Ne(It,ht.asyncValidator)):"function"==typeof It&&it.setAsyncValidators([It]);const rn=()=>it.updateValueAndValidity();Et(ht._rawValidators,rn),Et(ht._rawAsyncValidators,rn)}function Ze(it,ht){let Je=!1;if(null!==it){if(null!==ht.validator){const rn=Se(it);if(Array.isArray(rn)&&rn.length>0){const li=rn.filter(Ri=>Ri!==ht.validator);li.length!==rn.length&&(Je=!0,it.setValidators(li))}}if(null!==ht.asyncValidator){const rn=W(it);if(Array.isArray(rn)&&rn.length>0){const li=rn.filter(Ri=>Ri!==ht.asyncValidator);li.length!==rn.length&&(Je=!0,it.setAsyncValidators(li))}}}const It=()=>{};return Et(ht._rawValidators,It),Et(ht._rawAsyncValidators,It),Je}function qt(it,ht){it._pendingDirty&&it.markAsDirty(),it.setValue(it._pendingValue,{emitModelToViewChange:!1}),ht.viewToModelUpdate(it._pendingValue),it._pendingChange=!1}function Fn(it,ht){Xt(it,ht)}function bt(it,ht){if(!it.hasOwnProperty("model"))return!1;const Je=it.model;return!!Je.isFirstChange()||!Object.is(ht,Je.currentValue)}function Te(it,ht){it._syncPendingControls(),ht.forEach(Je=>{const It=Je.control;"submit"===It.updateOn&&It._pendingChange&&(Je.viewToModelUpdate(It._pendingValue),It._pendingChange=!1)})}function vt(it,ht){if(!ht)return null;let Je,It,rn;return Array.isArray(ht),ht.forEach(li=>{li.constructor===T?Je=li:function un(it){return Object.getPrototypeOf(it.constructor)===U}(li)?It=li:rn=li}),rn||It||Je||null}const on={provide:ie,useExisting:(0,c.Gpc)(()=>fi)},ti=(()=>Promise.resolve())();let fi=(()=>{class it extends ie{constructor(Je,It,rn){super(),this.callSetDisabledState=rn,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new $t({},Ke(Je),Qe(It))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(Je){ti.then(()=>{const It=this._findContainer(Je.path);Je.control=It.registerControl(Je.name,Je.control),vn(Je.control,Je,this.callSetDisabledState),Je.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(Je)})}getControl(Je){return this.form.get(Je.path)}removeControl(Je){ti.then(()=>{const It=this._findContainer(Je.path);It&&It.removeControl(Je.name),this._directives.delete(Je)})}addFormGroup(Je){ti.then(()=>{const It=this._findContainer(Je.path),rn=new $t({});Fn(rn,Je),It.registerControl(Je.name,rn),rn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(Je){ti.then(()=>{const It=this._findContainer(Je.path);It&&It.removeControl(Je.name)})}getFormGroup(Je){return this.form.get(Je.path)}updateModel(Je,It){ti.then(()=>{this.form.get(Je.path).setValue(It)})}setValue(Je){this.control.setValue(Je)}onSubmit(Je){return this.submitted=!0,Te(this.form,this._directives),this.ngSubmit.emit(Je),"dialog"===Je?.target?.method}onReset(){this.resetForm()}resetForm(Je=void 0){this.form.reset(Je),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(Je){return Je.pop(),Je.length?this.form.get(Je):this.form}static#e=this.\u0275fac=function(It){return new(It||it)(c.Y36(B,10),c.Y36(Y,10),c.Y36(Zn,8))};static#t=this.\u0275dir=c.lG2({type:it,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(It,rn){1&It&&c.NdJ("submit",function(Ri){return rn.onSubmit(Ri)})("reset",function(){return rn.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([on]),c.qOj]})}return it})();function Oi(it,ht){const Je=it.indexOf(ht);Je>-1&&it.splice(Je,1)}function fr(it){return"object"==typeof it&&null!==it&&2===Object.keys(it).length&&"value"in it&&"disabled"in it}const gr=class extends Rt{constructor(ht=null,Je,It){super(We(Je),lt(It,Je)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ht),this._setUpdateStrategy(Je),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dt(Je)&&(Je.nonNullable||Je.initialValueIsDefault)&&(this.defaultValue=fr(ht)?ht.value:ht)}setValue(ht,Je={}){this.value=this._pendingValue=ht,this._onChange.length&&!1!==Je.emitModelToViewChange&&this._onChange.forEach(It=>It(this.value,!1!==Je.emitViewToModelChange)),this.updateValueAndValidity(Je)}patchValue(ht,Je={}){this.setValue(ht,Je)}reset(ht=this.defaultValue,Je={}){this._applyFormState(ht),this.markAsPristine(Je),this.markAsUntouched(Je),this.setValue(this.value,Je),this._pendingChange=!1}_updateValue(){}_anyControls(ht){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ht){this._onChange.push(ht)}_unregisterOnChange(ht){Oi(this._onChange,ht)}registerOnDisabledChange(ht){this._onDisabledChange.push(ht)}_unregisterOnDisabledChange(ht){Oi(this._onDisabledChange,ht)}_forEachChild(ht){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ht){fr(ht)?(this.value=this._pendingValue=ht.value,ht.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ht}},zo={provide:re,useExisting:(0,c.Gpc)(()=>Kr)},Co=(()=>Promise.resolve())();let Kr=(()=>{class it extends re{constructor(Je,It,rn,li,Ri,bo){super(),this._changeDetectorRef=Ri,this.callSetDisabledState=bo,this.control=new gr,this._registered=!1,this.name="",this.update=new c.vpe,this._parent=Je,this._setValidators(It),this._setAsyncValidators(rn),this.valueAccessor=vt(0,li)}ngOnChanges(Je){if(this._checkForErrors(),!this._registered||"name"in Je){if(this._registered&&(this._checkName(),this.formDirective)){const It=Je.name.previousValue;this.formDirective.removeControl({name:It,path:this._getPath(It)})}this._setUpControl()}"isDisabled"in Je&&this._updateDisabled(Je),bt(Je,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Je){this.viewModel=Je,this.update.emit(Je)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Je){Co.then(()=>{this.control.setValue(Je,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(Je){const It=Je.isDisabled.currentValue,rn=0!==It&&(0,c.VuI)(It);Co.then(()=>{rn&&!this.control.disabled?this.control.disable():!rn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(Je){return this._parent?ci(Je,this._parent):[Je]}static#e=this.\u0275fac=function(It){return new(It||it)(c.Y36(ie,9),c.Y36(B,10),c.Y36(Y,10),c.Y36(R,10),c.Y36(c.sBO,8),c.Y36(Zn,8))};static#t=this.\u0275dir=c.lG2({type:it,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([zo]),c.qOj,c.TTD]})}return it})(),qr=(()=>{class it{static#e=this.\u0275fac=function(It){return new(It||it)};static#t=this.\u0275dir=c.lG2({type:it,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return it})();const Io={provide:R,useExisting:(0,c.Gpc)(()=>Pn),multi:!0};let Pn=(()=>{class it extends U{writeValue(Je){this.setProperty("value",Je??"")}registerOnChange(Je){this.onChange=It=>{Je(""==It?null:parseFloat(It))}}static#e=this.\u0275fac=function(){let Je;return function(rn){return(Je||(Je=c.n5z(it)))(rn||it)}}();static#t=this.\u0275dir=c.lG2({type:it,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(It,rn){1&It&&c.NdJ("input",function(Ri){return rn.onChange(Ri.target.value)})("blur",function(){return rn.onTouched()})},features:[c._Bn([Io]),c.qOj]})}return it})(),xi=(()=>{class it{static#e=this.\u0275fac=function(It){return new(It||it)};static#t=this.\u0275mod=c.oAB({type:it});static#n=this.\u0275inj=c.cJS({})}return it})();const Zt=new c.OlP("NgModelWithFormControlWarning"),Wn={provide:ie,useExisting:(0,c.Gpc)(()=>gi)};let gi=(()=>{class it extends ie{constructor(Je,It,rn){super(),this.callSetDisabledState=rn,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(Je),this._setAsyncValidators(It)}ngOnChanges(Je){this._checkFormPresent(),Je.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ze(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Je){const It=this.form.get(Je.path);return vn(It,Je,this.callSetDisabledState),It.updateValueAndValidity({emitEvent:!1}),this.directives.push(Je),It}getControl(Je){return this.form.get(Je.path)}removeControl(Je){gn(Je.control||null,Je,!1),function gt(it,ht){const Je=it.indexOf(ht);Je>-1&&it.splice(Je,1)}(this.directives,Je)}addFormGroup(Je){this._setUpFormContainer(Je)}removeFormGroup(Je){this._cleanUpFormContainer(Je)}getFormGroup(Je){return this.form.get(Je.path)}addFormArray(Je){this._setUpFormContainer(Je)}removeFormArray(Je){this._cleanUpFormContainer(Je)}getFormArray(Je){return this.form.get(Je.path)}updateModel(Je,It){this.form.get(Je.path).setValue(It)}onSubmit(Je){return this.submitted=!0,Te(this.form,this.directives),this.ngSubmit.emit(Je),"dialog"===Je?.target?.method}onReset(){this.resetForm()}resetForm(Je=void 0){this.form.reset(Je),this.submitted=!1}_updateDomValue(){this.directives.forEach(Je=>{const It=Je.control,rn=this.form.get(Je.path);It!==rn&&(gn(It||null,Je),(it=>it instanceof gr)(rn)&&(vn(rn,Je,this.callSetDisabledState),Je.control=rn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Je){const It=this.form.get(Je.path);Fn(It,Je),It.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Je){if(this.form){const It=this.form.get(Je.path);It&&function Wt(it,ht){return Ze(it,ht)}(It,Je)&&It.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xt(this.form,this),this._oldForm&&Ze(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(It){return new(It||it)(c.Y36(B,10),c.Y36(Y,10),c.Y36(Zn,8))};static#t=this.\u0275dir=c.lG2({type:it,selectors:[["","formGroup",""]],hostBindings:function(It,rn){1&It&&c.NdJ("submit",function(Ri){return rn.onSubmit(Ri)})("reset",function(){return rn.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Wn]),c.qOj,c.TTD]})}return it})();const io={provide:re,useExisting:(0,c.Gpc)(()=>ho)};let ho=(()=>{class it extends re{set isDisabled(Je){}static#e=this._ngModelWarningSentOnce=!1;constructor(Je,It,rn,li,Ri){super(),this._ngModelWarningConfig=Ri,this._added=!1,this.name=null,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=Je,this._setValidators(It),this._setAsyncValidators(rn),this.valueAccessor=vt(0,li)}ngOnChanges(Je){this._added||this._setUpControl(),bt(Je,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Je){this.viewModel=Je,this.update.emit(Je)}get path(){return ci(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(It){return new(It||it)(c.Y36(ie,13),c.Y36(B,10),c.Y36(Y,10),c.Y36(R,10),c.Y36(Zt,8))};static#n=this.\u0275dir=c.lG2({type:it,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([io]),c.qOj,c.TTD]})}return it})();const ts={provide:R,useExisting:(0,c.Gpc)(()=>jo),multi:!0};function Ur(it,ht){return null==it?`${ht}`:(ht&&"object"==typeof ht&&(ht="Object"),`${it}: ${ht}`.slice(0,50))}let jo=(()=>{class it extends U{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Je){this._compareWith=Je}writeValue(Je){this.value=Je;const rn=Ur(this._getOptionId(Je),Je);this.setProperty("value",rn)}registerOnChange(Je){this.onChange=It=>{this.value=this._getOptionValue(It),Je(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(Je){for(const It of this._optionMap.keys())if(this._compareWith(this._optionMap.get(It),Je))return It;return null}_getOptionValue(Je){const It=function Yr(it){return it.split(":")[0]}(Je);return this._optionMap.has(It)?this._optionMap.get(It):Je}static#e=this.\u0275fac=function(){let Je;return function(rn){return(Je||(Je=c.n5z(it)))(rn||it)}}();static#t=this.\u0275dir=c.lG2({type:it,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(It,rn){1&It&&c.NdJ("change",function(Ri){return rn.onChange(Ri.target.value)})("blur",function(){return rn.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([ts]),c.qOj]})}return it})(),hr=(()=>{class it{constructor(Je,It,rn){this._element=Je,this._renderer=It,this._select=rn,this._select&&(this.id=this._select._registerOption())}set ngValue(Je){null!=this._select&&(this._select._optionMap.set(this.id,Je),this._setElementValue(Ur(this.id,Je)),this._select.writeValue(this._select.value))}set value(Je){this._setElementValue(Je),this._select&&this._select.writeValue(this._select.value)}_setElementValue(Je){this._renderer.setProperty(this._element.nativeElement,"value",Je)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(It){return new(It||it)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(jo,9))};static#t=this.\u0275dir=c.lG2({type:it,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return it})();const Mi={provide:R,useExisting:(0,c.Gpc)(()=>ro),multi:!0};function ta(it,ht){return null==it?`${ht}`:("string"==typeof ht&&(ht=`'${ht}'`),ht&&"object"==typeof ht&&(ht="Object"),`${it}: ${ht}`.slice(0,50))}let ro=(()=>{class it extends U{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Je){this._compareWith=Je}writeValue(Je){let It;if(this.value=Je,Array.isArray(Je)){const rn=Je.map(li=>this._getOptionId(li));It=(li,Ri)=>{li._setSelected(rn.indexOf(Ri.toString())>-1)}}else It=(rn,li)=>{rn._setSelected(!1)};this._optionMap.forEach(It)}registerOnChange(Je){this.onChange=It=>{const rn=[],li=It.selectedOptions;if(void 0!==li){const Ri=li;for(let bo=0;bo<Ri.length;bo++){const Jo=this._getOptionValue(Ri[bo].value);rn.push(Jo)}}else{const Ri=It.options;for(let bo=0;bo<Ri.length;bo++){const Eo=Ri[bo];if(Eo.selected){const Jo=this._getOptionValue(Eo.value);rn.push(Jo)}}}this.value=rn,Je(rn)}}_registerOption(Je){const It=(this._idCounter++).toString();return this._optionMap.set(It,Je),It}_getOptionId(Je){for(const It of this._optionMap.keys())if(this._compareWith(this._optionMap.get(It)._value,Je))return It;return null}_getOptionValue(Je){const It=function Do(it){return it.split(":")[0]}(Je);return this._optionMap.has(It)?this._optionMap.get(It)._value:Je}static#e=this.\u0275fac=function(){let Je;return function(rn){return(Je||(Je=c.n5z(it)))(rn||it)}}();static#t=this.\u0275dir=c.lG2({type:it,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(It,rn){1&It&&c.NdJ("change",function(Ri){return rn.onChange(Ri.target)})("blur",function(){return rn.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Mi]),c.qOj]})}return it})(),Vo=(()=>{class it{constructor(Je,It,rn){this._element=Je,this._renderer=It,this._select=rn,this._select&&(this.id=this._select._registerOption(this))}set ngValue(Je){null!=this._select&&(this._value=Je,this._setElementValue(ta(this.id,Je)),this._select.writeValue(this._select.value))}set value(Je){this._select?(this._value=Je,this._setElementValue(ta(this.id,Je)),this._select.writeValue(this._select.value)):this._setElementValue(Je)}_setElementValue(Je){this._renderer.setProperty(this._element.nativeElement,"value",Je)}_setSelected(Je){this._renderer.setProperty(this._element.nativeElement,"selected",Je)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(It){return new(It||it)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(ro,9))};static#t=this.\u0275dir=c.lG2({type:it,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return it})(),xr=(()=>{class it{constructor(){this._validator=Le}ngOnChanges(Je){if(this.inputName in Je){const It=this.normalizeInput(Je[this.inputName].currentValue);this._enabled=this.enabled(It),this._validator=this._enabled?this.createValidator(It):Le,this._onChange&&this._onChange()}}validate(Je){return this._validator(Je)}registerOnValidatorChange(Je){this._onChange=Je}enabled(Je){return null!=Je}static#e=this.\u0275fac=function(It){return new(It||it)};static#t=this.\u0275dir=c.lG2({type:it,features:[c.TTD]})}return it})();const eo={provide:B,useExisting:(0,c.Gpc)(()=>cr),multi:!0},$o={provide:B,useExisting:(0,c.Gpc)(()=>ir),multi:!0};let cr=(()=>{class it extends xr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.VuI,this.createValidator=Je=>le}enabled(Je){return Je}static#e=this.\u0275fac=function(){let Je;return function(rn){return(Je||(Je=c.n5z(it)))(rn||it)}}();static#t=this.\u0275dir=c.lG2({type:it,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(It,rn){2&It&&c.uIk("required",rn._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([eo]),c.qOj]})}return it})(),ir=(()=>{class it extends cr{constructor(){super(...arguments),this.createValidator=Je=>K}static#e=this.\u0275fac=function(){let Je;return function(rn){return(Je||(Je=c.n5z(it)))(rn||it)}}();static#t=this.\u0275dir=c.lG2({type:it,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(It,rn){2&It&&c.uIk("required",rn._enabled?"":null)},features:[c._Bn([$o]),c.qOj]})}return it})(),qo=(()=>{class it{static#e=this.\u0275fac=function(It){return new(It||it)};static#t=this.\u0275mod=c.oAB({type:it});static#n=this.\u0275inj=c.cJS({imports:[xi]})}return it})();class ps extends Rt{constructor(ht,Je,It){super(We(Je),lt(It,Je)),this.controls=ht,this._initObservables(),this._setUpdateStrategy(Je),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ht){return this.controls[this._adjustIndex(ht)]}push(ht,Je={}){this.controls.push(ht),this._registerControl(ht),this.updateValueAndValidity({emitEvent:Je.emitEvent}),this._onCollectionChange()}insert(ht,Je,It={}){this.controls.splice(ht,0,Je),this._registerControl(Je),this.updateValueAndValidity({emitEvent:It.emitEvent})}removeAt(ht,Je={}){let It=this._adjustIndex(ht);It<0&&(It=0),this.controls[It]&&this.controls[It]._registerOnCollectionChange(()=>{}),this.controls.splice(It,1),this.updateValueAndValidity({emitEvent:Je.emitEvent})}setControl(ht,Je,It={}){let rn=this._adjustIndex(ht);rn<0&&(rn=0),this.controls[rn]&&this.controls[rn]._registerOnCollectionChange(()=>{}),this.controls.splice(rn,1),Je&&(this.controls.splice(rn,0,Je),this._registerControl(Je)),this.updateValueAndValidity({emitEvent:It.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ht,Je={}){zt(this,0,ht),ht.forEach((It,rn)=>{Lt(this,!1,rn),this.at(rn).setValue(It,{onlySelf:!0,emitEvent:Je.emitEvent})}),this.updateValueAndValidity(Je)}patchValue(ht,Je={}){null!=ht&&(ht.forEach((It,rn)=>{this.at(rn)&&this.at(rn).patchValue(It,{onlySelf:!0,emitEvent:Je.emitEvent})}),this.updateValueAndValidity(Je))}reset(ht=[],Je={}){this._forEachChild((It,rn)=>{It.reset(ht[rn],{onlySelf:!0,emitEvent:Je.emitEvent})}),this._updatePristine(Je),this._updateTouched(Je),this.updateValueAndValidity(Je)}getRawValue(){return this.controls.map(ht=>ht.getRawValue())}clear(ht={}){this.controls.length<1||(this._forEachChild(Je=>Je._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ht.emitEvent}))}_adjustIndex(ht){return ht<0?ht+this.length:ht}_syncPendingControls(){let ht=this.controls.reduce((Je,It)=>!!It._syncPendingControls()||Je,!1);return ht&&this.updateValueAndValidity({onlySelf:!0}),ht}_forEachChild(ht){this.controls.forEach((Je,It)=>{ht(Je,It)})}_updateValue(){this.value=this.controls.filter(ht=>ht.enabled||this.disabled).map(ht=>ht.value)}_anyControls(ht){return this.controls.some(Je=>Je.enabled&&ht(Je))}_setUpControls(){this._forEachChild(ht=>this._registerControl(ht))}_allControlsDisabled(){for(const ht of this.controls)if(ht.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ht){ht.setParent(this),ht._registerOnCollectionChange(this._onCollectionChange)}_find(ht){return this.at(ht)??null}}function Nr(it){return!!it&&(void 0!==it.asyncValidators||void 0!==it.validators||void 0!==it.updateOn)}let rs=(()=>{class it{constructor(){this.useNonNullable=!1}get nonNullable(){const Je=new it;return Je.useNonNullable=!0,Je}group(Je,It=null){const rn=this._reduceControls(Je);let li={};return Nr(It)?li=It:null!==It&&(li.validators=It.validator,li.asyncValidators=It.asyncValidator),new $t(rn,li)}record(Je,It=null){const rn=this._reduceControls(Je);return new An(rn,It)}control(Je,It,rn){let li={};return this.useNonNullable?(Nr(It)?li=It:(li.validators=It,li.asyncValidators=rn),new gr(Je,{...li,nonNullable:!0})):new gr(Je,It,rn)}array(Je,It,rn){const li=Je.map(Ri=>this._createControl(Ri));return new ps(li,It,rn)}_reduceControls(Je){const It={};return Object.keys(Je).forEach(rn=>{It[rn]=this._createControl(Je[rn])}),It}_createControl(Je){return Je instanceof gr||Je instanceof Rt?Je:Array.isArray(Je)?this.control(Je[0],Je.length>1?Je[1]:null,Je.length>2?Je[2]:null):this.control(Je)}static#e=this.\u0275fac=function(It){return new(It||it)};static#t=this.\u0275prov=c.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"})}return it})(),dr=(()=>{class it{static withConfig(Je){return{ngModule:it,providers:[{provide:Zn,useValue:Je.callSetDisabledState??Kn}]}}static#e=this.\u0275fac=function(It){return new(It||it)};static#t=this.\u0275mod=c.oAB({type:it});static#n=this.\u0275inj=c.cJS({imports:[qo]})}return it})(),pn=(()=>{class it{static withConfig(Je){return{ngModule:it,providers:[{provide:Zt,useValue:Je.warnOnNgModelWithFormControl??"always"},{provide:Zn,useValue:Je.callSetDisabledState??Kn}]}}static#e=this.\u0275fac=function(It){return new(It||it)};static#t=this.\u0275mod=c.oAB({type:it});static#n=this.\u0275inj=c.cJS({imports:[qo]})}return it})()},2296:(jn,nt,S)=>{"use strict";S.d(nt,{RK:()=>ge,lW:()=>le,ot:()=>ke});var c=S(2831),t=S(5879),b=S(4300),w=S(3680),E=S(6814);const F=["mat-button",""],L=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],D=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],U=["mat-icon-button",""],R=["*"],k={capture:!0},P=["focus","click","mouseenter","touchstart"],x="mat-button-ripple-uninitialized";let O=(()=>{class we{constructor(){this._document=(0,t.f3M)(E.K0,{optional:!0}),this._animationMode=(0,t.f3M)(t.QbO,{optional:!0}),this._globalRippleOptions=(0,t.f3M)(w.Y2,{optional:!0}),this._platform=(0,t.f3M)(c.t4),this._ngZone=(0,t.f3M)(t.R0b),this._onInteraction=st=>{if(st.target===this._document)return;const Ne=st.target.closest(`[${x}]`);Ne&&(Ne.removeAttribute(x),this._appendRipple(Ne))},this._ngZone.runOutsideAngular(()=>{for(const st of P)this._document?.addEventListener(st,this._onInteraction,k)})}ngOnDestroy(){for(const st of P)this._document?.removeEventListener(st,this._onInteraction,k)}_appendRipple(st){if(!this._document)return;const Qe=this._document.createElement("span");Qe.classList.add("mat-mdc-button-ripple");const Ne=new T(st,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);Ne.rippleConfig.centered=st.hasAttribute("mat-icon-button"),new w.IR(Ne,this._ngZone,Qe,this._platform).setupTriggerEvents(st),st.append(Qe)}_createMatRipple(st){if(!this._document)return;st.querySelector(".mat-mdc-button-ripple")?.remove(),st.removeAttribute(x);const Qe=this._document.createElement("span");Qe.classList.add("mat-mdc-button-ripple");const Ne=new w.wG(new t.SBq(Qe),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Ne._isInitialized=!0,Ne.trigger=st,st.append(Qe),Ne}static#e=this.\u0275fac=function(Qe){return new(Qe||we)};static#t=this.\u0275prov=t.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})();class T{constructor(Ke,st,Qe){this._button=Ke,this._globalRippleOptions=st,this._setRippleConfig(st,Qe)}_setRippleConfig(Ke,st){this.rippleConfig=Ke||{},"NoopAnimations"===st&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const B=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Y=(0,w.pj)((0,w.Id)((0,w.Kr)(class{constructor(we){this._elementRef=we}})));let J=(()=>{class we extends Y{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(st){this._ripple=st}constructor(st,Qe,Ne,Se){super(st),this._platform=Qe,this._ngZone=Ne,this._animationMode=Se,this._focusMonitor=(0,t.f3M)(b.tE),this._rippleLoader=(0,t.f3M)(O),this._isFab=!1;const W=st.nativeElement.classList;for(const ae of B)this._hasHostAttributes(ae.selector)&&ae.mdcClasses.forEach(ve=>{W.add(ve)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(st="program",Qe){st?this._focusMonitor.focusVia(this._elementRef.nativeElement,st,Qe):this._elementRef.nativeElement.focus(Qe)}_hasHostAttributes(...st){return st.some(Qe=>this._elementRef.nativeElement.hasAttribute(Qe))}static#e=this.\u0275fac=function(Qe){t.$Z()};static#t=this.\u0275dir=t.lG2({type:we,features:[t.qOj,t.TTD]})}return we})(),le=(()=>{class we extends J{constructor(st,Qe,Ne,Se){super(st,Qe,Ne,Se)}static#e=this.\u0275fac=function(Qe){return new(Qe||we)(t.Y36(t.SBq),t.Y36(c.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:we,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Qe,Ne){2&Qe&&(t.uIk("disabled",Ne.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===Ne._animationMode)("mat-unthemed",!Ne.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:F,ngContentSelectors:D,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Qe,Ne){1&Qe&&(t.F$t(L),t._UZ(0,"span",0),t.Hsn(1),t.TgZ(2,"span",1),t.Hsn(3,1),t.qZA(),t.Hsn(4,2),t._UZ(5,"span",2)(6,"span",3)),2&Qe&&t.ekj("mdc-button__ripple",!Ne._isFab)("mdc-fab__ripple",Ne._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return we})(),ge=(()=>{class we extends J{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(st,Qe,Ne,Se){super(st,Qe,Ne,Se)}static#e=this.\u0275fac=function(Qe){return new(Qe||we)(t.Y36(t.SBq),t.Y36(c.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:we,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Qe,Ne){2&Qe&&(t.uIk("disabled",Ne.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===Ne._animationMode)("mat-unthemed",!Ne.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:U,ngContentSelectors:R,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Qe,Ne){1&Qe&&(t.F$t(),t._UZ(0,"span",0),t.Hsn(1),t._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return we})(),ke=(()=>{class we{static#e=this.\u0275fac=function(Qe){return new(Qe||we)};static#t=this.\u0275mod=t.oAB({type:we});static#n=this.\u0275inj=t.cJS({imports:[w.BQ,w.si,w.BQ]})}return we})()},5986:(jn,nt,S)=>{"use strict";S.d(nt,{oG:()=>V,p9:()=>O});var c=S(5879),t=S(95),b=S(3680),w=S(2495);const E=["input"],F=["label"],L=["*"],D=new c.OlP("mat-checkbox-default-options",{providedIn:"root",factory:p});function p(){return{color:"accent",clickAction:"check-indeterminate"}}const f={provide:t.JU,useExisting:(0,c.Gpc)(()=>V),multi:!0};class g{}let y=0;const M=p(),U=(0,b.sb)((0,b.pj)((0,b.Kr)((0,b.Id)(class{constructor(T){this._elementRef=T}}))));let R=(()=>{class T extends U{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(C){this._required=(0,w.Ig)(C)}constructor(C,B,Y,J,ce,Fe,q){super(B),this._changeDetectorRef=Y,this._ngZone=J,this._animationMode=Fe,this._options=q,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new c.vpe,this.indeterminateChange=new c.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||M,this.color=this.defaultColor=this._options.color||M.color,this.tabIndex=parseInt(ce)||0,this.id=this._uniqueId=`${C}${++y}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(C){const B=(0,w.Ig)(C);B!=this.checked&&(this._checked=B,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(C){const B=(0,w.Ig)(C);B!==this.disabled&&(this._disabled=B,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(C){const B=C!=this._indeterminate;this._indeterminate=(0,w.Ig)(C),B&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(C){this.checked=!!C}registerOnChange(C){this._controlValueAccessorChangeFn=C}registerOnTouched(C){this._onTouched=C}setDisabledState(C){this.disabled=C}_transitionCheckState(C){let B=this._currentCheckState,Y=this._getAnimationTargetElement();if(B!==C&&Y&&(this._currentAnimationClass&&Y.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(B,C),this._currentCheckState=C,this._currentAnimationClass.length>0)){Y.classList.add(this._currentAnimationClass);const J=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{Y.classList.remove(J)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const C=this._options?.clickAction;this.disabled||"noop"===C?!this.disabled&&"noop"===C&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==C&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(C){C.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(C,B){if("NoopAnimations"===this._animationMode)return"";switch(C){case 0:if(1===B)return this._animationClasses.uncheckedToChecked;if(3==B)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===B?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===B?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===B?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(C){const B=this._inputElement;B&&(B.nativeElement.indeterminate=C)}static#e=this.\u0275fac=function(B){c.$Z()};static#t=this.\u0275dir=c.lG2({type:T,viewQuery:function(B,Y){if(1&B&&(c.Gf(E,5),c.Gf(F,5),c.Gf(b.wG,5)),2&B){let J;c.iGM(J=c.CRH())&&(Y._inputElement=J.first),c.iGM(J=c.CRH())&&(Y._labelElement=J.first),c.iGM(J=c.CRH())&&(Y.ripple=J.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[c.qOj]})}return T})(),V=(()=>{class T extends R{constructor(C,B,Y,J,ce,Fe){super("mat-mdc-checkbox-",C,B,Y,J,ce,Fe),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(C){const B=new g;return B.source=this,B.checked=C,B}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(C){C.target&&this._labelElement.nativeElement.contains(C.target)&&C.stopPropagation()}static#e=this.\u0275fac=function(B){return new(B||T)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.$8M("tabindex"),c.Y36(c.QbO,8),c.Y36(D,8))};static#t=this.\u0275cmp=c.Xpm({type:T,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(B,Y){2&B&&(c.Ikx("id",Y.id),c.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),c.ekj("_mat-animation-noopable","NoopAnimations"===Y._animationMode)("mdc-checkbox--disabled",Y.disabled)("mat-mdc-checkbox-disabled",Y.disabled)("mat-mdc-checkbox-checked",Y.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[c._Bn([f]),c.qOj],ngContentSelectors:L,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(B,Y){if(1&B&&(c.F$t(),c.TgZ(0,"div",0),c.NdJ("click",function(ce){return Y._preventBubblingFromLabel(ce)}),c.TgZ(1,"div",1,2)(3,"div",3),c.NdJ("click",function(){return Y._onTouchTargetClick()}),c.qZA(),c.TgZ(4,"input",4,5),c.NdJ("blur",function(){return Y._onBlur()})("click",function(){return Y._onInputClick()})("change",function(ce){return Y._onInteractionEvent(ce)}),c.qZA(),c._UZ(6,"div",6),c.TgZ(7,"div",7),c.O4$(),c.TgZ(8,"svg",8),c._UZ(9,"path",9),c.qZA(),c.kcU(),c._UZ(10,"div",10),c.qZA(),c._UZ(11,"div",11),c.qZA(),c.TgZ(12,"label",12,13),c.Hsn(14),c.qZA()()),2&B){const J=c.MAs(2);c.ekj("mdc-form-field--align-end","before"==Y.labelPosition),c.xp6(4),c.ekj("mdc-checkbox--selected",Y.checked),c.Q6J("checked",Y.checked)("indeterminate",Y.indeterminate)("disabled",Y.disabled)("id",Y.inputId)("required",Y.required)("tabIndex",Y.tabIndex),c.uIk("aria-label",Y.ariaLabel||null)("aria-labelledby",Y.ariaLabelledby)("aria-describedby",Y.ariaDescribedby)("name",Y.name)("value",Y.value),c.xp6(7),c.Q6J("matRippleTrigger",J)("matRippleDisabled",Y.disableRipple||Y.disabled)("matRippleCentered",!0),c.xp6(1),c.Q6J("for",Y.inputId)}},dependencies:[b.wG],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return T})(),x=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=c.oAB({type:T});static#n=this.\u0275inj=c.cJS({})}return T})(),O=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=c.oAB({type:T});static#n=this.\u0275inj=c.cJS({imports:[b.BQ,b.si,x,b.BQ,x]})}return T})()},3680:(jn,nt,S)=>{"use strict";S.d(nt,{yN:()=>O,mZ:()=>T,_A:()=>Le,rD:()=>st,sG:()=>he,K7:()=>Bt,HF:()=>at,Y2:()=>ye,BQ:()=>B,XK:()=>we,ey:()=>dn,Ng:()=>en,wG:()=>ue,si:()=>Me,IR:()=>ee,CB:()=>Gt,jH:()=>Cn,pj:()=>q,Kr:()=>le,Id:()=>Fe,FD:()=>_e,dB:()=>se,sb:()=>K});var c=S(5879),t=S(4300),b=S(9388),E=S(6814),F=S(2831),L=S(2495),D=S(5592),p=S(8645),f=S(6028);const M=["text"];function U(xt,ft){if(1&xt&&c._UZ(0,"mat-pseudo-checkbox",6),2&xt){const Xe=c.oxw();c.Q6J("disabled",Xe.disabled)("state",Xe.selected?"checked":"unchecked")}}function R(xt,ft){if(1&xt&&c._UZ(0,"mat-pseudo-checkbox",7),2&xt){const Xe=c.oxw();c.Q6J("disabled",Xe.disabled)}}function V(xt,ft){if(1&xt&&(c.TgZ(0,"span",8),c._uU(1),c.qZA()),2&xt){const Xe=c.oxw();c.xp6(1),c.hij("(",Xe.group.label,")")}}const k=[[["mat-icon"]],"*"],P=["mat-icon","*"];let O=(()=>{class xt{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return xt})(),T=(()=>{class xt{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return xt})();const C=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function N(){return!0}});let B=(()=>{class xt{constructor(Xe,xe,Oe){this._sanityChecks=xe,this._document=Oe,this._hasDoneGlobalChecks=!1,Xe._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Xe){return!(0,F.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Xe])}static#e=this.\u0275fac=function(xe){return new(xe||xt)(c.LFG(t.qm),c.LFG(C,8),c.LFG(E.K0))};static#t=this.\u0275mod=c.oAB({type:xt});static#n=this.\u0275inj=c.cJS({imports:[b.vT,b.vT]})}return xt})();function Fe(xt){return class extends xt{get disabled(){return this._disabled}set disabled(ft){this._disabled=(0,L.Ig)(ft)}constructor(...ft){super(...ft),this._disabled=!1}}}function q(xt,ft){return class extends xt{get color(){return this._color}set color(Xe){const xe=Xe||this.defaultColor;xe!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),xe&&this._elementRef.nativeElement.classList.add(`mat-${xe}`),this._color=xe)}constructor(...Xe){super(...Xe),this.defaultColor=ft,this.color=ft}}}function le(xt){return class extends xt{get disableRipple(){return this._disableRipple}set disableRipple(ft){this._disableRipple=(0,L.Ig)(ft)}constructor(...ft){super(...ft),this._disableRipple=!1}}}function K(xt,ft=0){return class extends xt{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Xe){this._tabIndex=null!=Xe?(0,L.su)(Xe):this.defaultTabIndex}constructor(...Xe){super(...Xe),this._tabIndex=ft,this.defaultTabIndex=ft}}}function _e(xt){return class extends xt{updateErrorState(){const ft=this.errorState,We=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);We!==ft&&(this.errorState=We,this.stateChanges.next())}constructor(...ft){super(...ft),this.errorState=!1}}}function se(xt){return class extends xt{constructor(...ft){super(...ft),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new D.y(Xe=>{this._isInitialized?this._notifySubscriber(Xe):this._pendingSubscribers.push(Xe)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(ft){ft.next(),ft.complete()}}}const me=new c.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function De(){return(0,c.f3M)(c.soG)}});class Le{constructor(){this._localeChanges=new p.x,this.localeChanges=this._localeChanges}getValidDateOrNull(ft){return this.isDateInstance(ft)&&this.isValid(ft)?ft:null}deserialize(ft){return null==ft||this.isDateInstance(ft)&&this.isValid(ft)?ft:this.invalid()}setLocale(ft){this.locale=ft,this._localeChanges.next()}compareDate(ft,Xe){return this.getYear(ft)-this.getYear(Xe)||this.getMonth(ft)-this.getMonth(Xe)||this.getDate(ft)-this.getDate(Xe)}sameDate(ft,Xe){if(ft&&Xe){let xe=this.isValid(ft),Oe=this.isValid(Xe);return xe&&Oe?!this.compareDate(ft,Xe):xe==Oe}return ft==Xe}clampDate(ft,Xe,xe){return Xe&&this.compareDate(ft,Xe)<0?Xe:xe&&this.compareDate(ft,xe)>0?xe:ft}}const he=new c.OlP("mat-date-formats"),Re=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Ie(xt,ft){const Xe=Array(xt);for(let xe=0;xe<xt;xe++)Xe[xe]=ft(xe);return Xe}let ge=(()=>{class xt extends Le{constructor(Xe,xe){super(),this.useUtcForDisplay=!1,super.setLocale(Xe)}getYear(Xe){return Xe.getFullYear()}getMonth(Xe){return Xe.getMonth()}getDate(Xe){return Xe.getDate()}getDayOfWeek(Xe){return Xe.getDay()}getMonthNames(Xe){const xe=new Intl.DateTimeFormat(this.locale,{month:Xe,timeZone:"utc"});return Ie(12,Oe=>this._format(xe,new Date(2017,Oe,1)))}getDateNames(){const Xe=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Ie(31,xe=>this._format(Xe,new Date(2017,0,xe+1)))}getDayOfWeekNames(Xe){const xe=new Intl.DateTimeFormat(this.locale,{weekday:Xe,timeZone:"utc"});return Ie(7,Oe=>this._format(xe,new Date(2017,0,Oe+1)))}getYearName(Xe){const xe=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(xe,Xe)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(Xe){return this.getDate(this._createDateWithOverflow(this.getYear(Xe),this.getMonth(Xe)+1,0))}clone(Xe){return new Date(Xe.getTime())}createDate(Xe,xe,Oe){let We=this._createDateWithOverflow(Xe,xe,Oe);return We.getMonth(),We}today(){return new Date}parse(Xe,xe){return"number"==typeof Xe?new Date(Xe):Xe?new Date(Date.parse(Xe)):null}format(Xe,xe){if(!this.isValid(Xe))throw Error("NativeDateAdapter: Cannot format invalid date.");const Oe=new Intl.DateTimeFormat(this.locale,{...xe,timeZone:"utc"});return this._format(Oe,Xe)}addCalendarYears(Xe,xe){return this.addCalendarMonths(Xe,12*xe)}addCalendarMonths(Xe,xe){let Oe=this._createDateWithOverflow(this.getYear(Xe),this.getMonth(Xe)+xe,this.getDate(Xe));return this.getMonth(Oe)!=((this.getMonth(Xe)+xe)%12+12)%12&&(Oe=this._createDateWithOverflow(this.getYear(Oe),this.getMonth(Oe),0)),Oe}addCalendarDays(Xe,xe){return this._createDateWithOverflow(this.getYear(Xe),this.getMonth(Xe),this.getDate(Xe)+xe)}toIso8601(Xe){return[Xe.getUTCFullYear(),this._2digit(Xe.getUTCMonth()+1),this._2digit(Xe.getUTCDate())].join("-")}deserialize(Xe){if("string"==typeof Xe){if(!Xe)return null;if(Re.test(Xe)){let xe=new Date(Xe);if(this.isValid(xe))return xe}}return super.deserialize(Xe)}isDateInstance(Xe){return Xe instanceof Date}isValid(Xe){return!isNaN(Xe.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(Xe,xe,Oe){const We=new Date;return We.setFullYear(Xe,xe,Oe),We.setHours(0,0,0,0),We}_2digit(Xe){return("00"+Xe).slice(-2)}_format(Xe,xe){const Oe=new Date;return Oe.setUTCFullYear(xe.getFullYear(),xe.getMonth(),xe.getDate()),Oe.setUTCHours(xe.getHours(),xe.getMinutes(),xe.getSeconds(),xe.getMilliseconds()),Xe.format(Oe)}static#e=this.\u0275fac=function(xe){return new(xe||xt)(c.LFG(me,8),c.LFG(F.t4))};static#t=this.\u0275prov=c.Yz7({token:xt,factory:xt.\u0275fac})}return xt})();const Ue={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let ke=(()=>{class xt{static#e=this.\u0275fac=function(xe){return new(xe||xt)};static#t=this.\u0275mod=c.oAB({type:xt});static#n=this.\u0275inj=c.cJS({providers:[{provide:Le,useClass:ge}]})}return xt})(),we=(()=>{class xt{static#e=this.\u0275fac=function(xe){return new(xe||xt)};static#t=this.\u0275mod=c.oAB({type:xt});static#n=this.\u0275inj=c.cJS({providers:[{provide:he,useValue:Ue}],imports:[ke]})}return xt})(),st=(()=>{class xt{isErrorState(Xe,xe){return!!(Xe&&Xe.invalid&&(Xe.touched||xe&&xe.submitted))}static#e=this.\u0275fac=function(xe){return new(xe||xt)};static#t=this.\u0275prov=c.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})();class ae{constructor(ft,Xe,xe,Oe=!1){this._renderer=ft,this.element=Xe,this.config=xe,this._animationForciblyDisabledThroughCss=Oe,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ve=(0,F.i$)({passive:!0,capture:!0});class Q{constructor(){this._events=new Map,this._delegateEventHandler=ft=>{const Xe=(0,F.sA)(ft);Xe&&this._events.get(ft.type)?.forEach((xe,Oe)=>{(Oe===Xe||Oe.contains(Xe))&&xe.forEach(We=>We.handleEvent(ft))})}}addHandler(ft,Xe,xe,Oe){const We=this._events.get(Xe);if(We){const $e=We.get(xe);$e?$e.add(Oe):We.set(xe,new Set([Oe]))}else this._events.set(Xe,new Map([[xe,new Set([Oe])]])),ft.runOutsideAngular(()=>{document.addEventListener(Xe,this._delegateEventHandler,ve)})}removeHandler(ft,Xe,xe){const Oe=this._events.get(ft);if(!Oe)return;const We=Oe.get(Xe);We&&(We.delete(xe),0===We.size&&Oe.delete(Xe),0===Oe.size&&(this._events.delete(ft),document.removeEventListener(ft,this._delegateEventHandler,ve)))}}const X={enterDuration:225,exitDuration:150},ie=(0,F.i$)({passive:!0,capture:!0}),re=["mousedown","touchstart"],te=["mouseup","mouseleave","touchend","touchcancel"];class ee{static#e=this._eventManager=new Q;constructor(ft,Xe,xe,Oe){this._target=ft,this._ngZone=Xe,this._platform=Oe,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Oe.isBrowser&&(this._containerElement=(0,L.fI)(xe))}fadeInRipple(ft,Xe,xe={}){const Oe=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),We={...X,...xe.animation};xe.centered&&(ft=Oe.left+Oe.width/2,Xe=Oe.top+Oe.height/2);const $e=xe.radius||function fe(xt,ft,Xe){const xe=Math.max(Math.abs(xt-Xe.left),Math.abs(xt-Xe.right)),Oe=Math.max(Math.abs(ft-Xe.top),Math.abs(ft-Xe.bottom));return Math.sqrt(xe*xe+Oe*Oe)}(ft,Xe,Oe),lt=ft-Oe.left,ot=Xe-Oe.top,dt=We.enterDuration,Lt=document.createElement("div");Lt.classList.add("mat-ripple-element"),Lt.style.left=lt-$e+"px",Lt.style.top=ot-$e+"px",Lt.style.height=2*$e+"px",Lt.style.width=2*$e+"px",null!=xe.color&&(Lt.style.backgroundColor=xe.color),Lt.style.transitionDuration=`${dt}ms`,this._containerElement.appendChild(Lt);const zt=window.getComputedStyle(Lt),$t=zt.transitionDuration,an="none"===zt.transitionProperty||"0s"===$t||"0s, 0s"===$t||0===Oe.width&&0===Oe.height,mn=new ae(this,Lt,xe,an);Lt.style.transform="scale3d(1, 1, 1)",mn.state=0,xe.persistent||(this._mostRecentTransientRipple=mn);let An=null;return!an&&(dt||We.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ln=()=>this._finishRippleTransition(mn),Zn=()=>this._destroyRipple(mn);Lt.addEventListener("transitionend",Ln),Lt.addEventListener("transitioncancel",Zn),An={onTransitionEnd:Ln,onTransitionCancel:Zn}}),this._activeRipples.set(mn,An),(an||!dt)&&this._finishRippleTransition(mn),mn}fadeOutRipple(ft){if(2===ft.state||3===ft.state)return;const Xe=ft.element,xe={...X,...ft.config.animation};Xe.style.transitionDuration=`${xe.exitDuration}ms`,Xe.style.opacity="0",ft.state=2,(ft._animationForciblyDisabledThroughCss||!xe.exitDuration)&&this._finishRippleTransition(ft)}fadeOutAll(){this._getActiveRipples().forEach(ft=>ft.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(ft=>{ft.config.persistent||ft.fadeOut()})}setupTriggerEvents(ft){const Xe=(0,L.fI)(ft);!this._platform.isBrowser||!Xe||Xe===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Xe,re.forEach(xe=>{ee._eventManager.addHandler(this._ngZone,xe,Xe,this)}))}handleEvent(ft){"mousedown"===ft.type?this._onMousedown(ft):"touchstart"===ft.type?this._onTouchStart(ft):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{te.forEach(Xe=>{this._triggerElement.addEventListener(Xe,this,ie)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(ft){0===ft.state?this._startFadeOutTransition(ft):2===ft.state&&this._destroyRipple(ft)}_startFadeOutTransition(ft){const Xe=ft===this._mostRecentTransientRipple,{persistent:xe}=ft.config;ft.state=1,!xe&&(!Xe||!this._isPointerDown)&&ft.fadeOut()}_destroyRipple(ft){const Xe=this._activeRipples.get(ft)??null;this._activeRipples.delete(ft),this._activeRipples.size||(this._containerRect=null),ft===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),ft.state=3,null!==Xe&&(ft.element.removeEventListener("transitionend",Xe.onTransitionEnd),ft.element.removeEventListener("transitioncancel",Xe.onTransitionCancel)),ft.element.remove()}_onMousedown(ft){const Xe=(0,t.X6)(ft),xe=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Xe&&!xe&&(this._isPointerDown=!0,this.fadeInRipple(ft.clientX,ft.clientY,this._target.rippleConfig))}_onTouchStart(ft){if(!this._target.rippleDisabled&&!(0,t.yG)(ft)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Xe=ft.changedTouches;if(Xe)for(let xe=0;xe<Xe.length;xe++)this.fadeInRipple(Xe[xe].clientX,Xe[xe].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(ft=>{!ft.config.persistent&&(1===ft.state||ft.config.terminateOnPointerUp&&0===ft.state)&&ft.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const ft=this._triggerElement;ft&&(re.forEach(Xe=>ee._eventManager.removeHandler(Xe,ft,this)),this._pointerUpEventsRegistered&&te.forEach(Xe=>ft.removeEventListener(Xe,this,ie)))}}const ye=new c.OlP("mat-ripple-global-options");let ue=(()=>{class xt{get disabled(){return this._disabled}set disabled(Xe){Xe&&this.fadeOutAllNonPersistent(),this._disabled=Xe,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Xe){this._trigger=Xe,this._setupTriggerEventsIfEnabled()}constructor(Xe,xe,Oe,We,$e){this._elementRef=Xe,this._animationMode=$e,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=We||{},this._rippleRenderer=new ee(this,xe,Xe,Oe)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Xe,xe=0,Oe){return"number"==typeof Xe?this._rippleRenderer.fadeInRipple(Xe,xe,{...this.rippleConfig,...Oe}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Xe})}static#e=this.\u0275fac=function(xe){return new(xe||xt)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(F.t4),c.Y36(ye,8),c.Y36(c.QbO,8))};static#t=this.\u0275dir=c.lG2({type:xt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(xe,Oe){2&xe&&c.ekj("mat-ripple-unbounded",Oe.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return xt})(),Me=(()=>{class xt{static#e=this.\u0275fac=function(xe){return new(xe||xt)};static#t=this.\u0275mod=c.oAB({type:xt});static#n=this.\u0275inj=c.cJS({imports:[B,B]})}return xt})(),Ye=(()=>{class xt{constructor(Xe){this._animationMode=Xe,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(xe){return new(xe||xt)(c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:xt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(xe,Oe){2&xe&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Oe.state)("mat-pseudo-checkbox-checked","checked"===Oe.state)("mat-pseudo-checkbox-disabled",Oe.disabled)("mat-pseudo-checkbox-minimal","minimal"===Oe.appearance)("mat-pseudo-checkbox-full","full"===Oe.appearance)("_mat-animation-noopable","NoopAnimations"===Oe._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(xe,Oe){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return xt})(),Ge=(()=>{class xt{static#e=this.\u0275fac=function(xe){return new(xe||xt)};static#t=this.\u0275mod=c.oAB({type:xt});static#n=this.\u0275inj=c.cJS({imports:[B]})}return xt})();const at=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),Bt=new c.OlP("MatOptgroup");let jt=0;class Qt{constructor(ft,Xe=!1){this.source=ft,this.isUserInput=Xe}}let cn=(()=>{class xt{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Xe){this._disabled=(0,L.Ig)(Xe)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(Xe,xe,Oe,We){this._element=Xe,this._changeDetectorRef=xe,this._parent=Oe,this.group=We,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+jt++,this.onSelectionChange=new c.vpe,this._stateChanges=new p.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(Xe=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),Xe&&this._emitSelectionChangeEvent())}deselect(Xe=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),Xe&&this._emitSelectionChangeEvent())}focus(Xe,xe){const Oe=this._getHostElement();"function"==typeof Oe.focus&&Oe.focus(xe)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Xe){(Xe.keyCode===f.K5||Xe.keyCode===f.L_)&&!(0,f.Vb)(Xe)&&(this._selectViaInteraction(),Xe.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Xe=this.viewValue;Xe!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=Xe)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Xe=!1){this.onSelectionChange.emit(new Qt(this,Xe))}static#e=this.\u0275fac=function(xe){c.$Z()};static#t=this.\u0275dir=c.lG2({type:xt,viewQuery:function(xe,Oe){if(1&xe&&c.Gf(M,7),2&xe){let We;c.iGM(We=c.CRH())&&(Oe._text=We.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return xt})(),dn=(()=>{class xt extends cn{constructor(Xe,xe,Oe,We){super(Xe,xe,Oe,We)}static#e=this.\u0275fac=function(xe){return new(xe||xt)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(at,8),c.Y36(Bt,8))};static#t=this.\u0275cmp=c.Xpm({type:xt,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(xe,Oe){1&xe&&c.NdJ("click",function(){return Oe._selectViaInteraction()})("keydown",function($e){return Oe._handleKeydown($e)}),2&xe&&(c.Ikx("id",Oe.id),c.uIk("aria-selected",Oe.selected)("aria-disabled",Oe.disabled.toString()),c.ekj("mdc-list-item--selected",Oe.selected)("mat-mdc-option-multiple",Oe.multiple)("mat-mdc-option-active",Oe.active)("mdc-list-item--disabled",Oe.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:P,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(xe,Oe){1&xe&&(c.F$t(k),c.YNc(0,U,1,2,"mat-pseudo-checkbox",0),c.Hsn(1),c.TgZ(2,"span",1,2),c.Hsn(4,1),c.qZA(),c.YNc(5,R,1,1,"mat-pseudo-checkbox",3),c.YNc(6,V,2,1,"span",4),c._UZ(7,"div",5)),2&xe&&(c.Q6J("ngIf",Oe.multiple),c.xp6(5),c.Q6J("ngIf",!Oe.multiple&&Oe.selected&&!Oe.hideSingleSelectionIndicator),c.xp6(1),c.Q6J("ngIf",Oe.group&&Oe.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",Oe._getHostElement())("matRippleDisabled",Oe.disabled||Oe.disableRipple))},dependencies:[ue,E.O5,Ye],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return xt})();function Gt(xt,ft,Xe){if(Xe.length){let xe=ft.toArray(),Oe=Xe.toArray(),We=0;for(let $e=0;$e<xt+1;$e++)xe[$e].group&&xe[$e].group===Oe[We]&&We++;return We}return 0}function Cn(xt,ft,Xe,xe){return xt<Xe?xt:xt+ft>Xe+xe?Math.max(0,xt-xe+ft):Xe}let en=(()=>{class xt{static#e=this.\u0275fac=function(xe){return new(xe||xt)};static#t=this.\u0275mod=c.oAB({type:xt});static#n=this.\u0275inj=c.cJS({imports:[Me,E.ez,B,Ge]})}return xt})()},8034:(jn,nt,S)=>{"use strict";S.d(nt,{FA:()=>ei,Mq:()=>Rt,hl:()=>Zn,nW:()=>ci});var c=S(4300),t=S(3651),b=S(8484),w=S(6814),E=S(5879),F=S(2296),L=S(799),D=S(3680),p=S(8645),f=S(7394),g=S(3019),y=S(2096),M=S(6028),U=S(9388),R=S(2831),V=S(8180),k=S(7921),P=S(2181),x=S(2495),O=S(6825),T=S(95),N=S(4170),C=S(2032);const B=["mat-calendar-body",""];function Y(bt,un){if(1&bt&&(E.TgZ(0,"tr",3)(1,"td",4),E._uU(2),E.qZA()()),2&bt){const Te=E.oxw();E.xp6(1),E.Udp("padding-top",Te._cellPadding)("padding-bottom",Te._cellPadding),E.uIk("colspan",Te.numCols),E.xp6(1),E.hij(" ",Te.label," ")}}function J(bt,un){if(1&bt&&(E.TgZ(0,"td",4),E._uU(1),E.qZA()),2&bt){const Te=E.oxw(2);E.Udp("padding-top",Te._cellPadding)("padding-bottom",Te._cellPadding),E.uIk("colspan",Te._firstRowOffset),E.xp6(1),E.hij(" ",Te._firstRowOffset>=Te.labelMinRequiredCells?Te.label:""," ")}}function ce(bt,un){if(1&bt){const Te=E.EpF();E.TgZ(0,"td",8)(1,"button",9),E.NdJ("click",function(gt){const on=E.CHM(Te).$implicit,ti=E.oxw(2);return E.KtG(ti._cellClicked(on,gt))})("focus",function(gt){const on=E.CHM(Te).$implicit,ti=E.oxw(2);return E.KtG(ti._emitActiveDateChange(on,gt))}),E.TgZ(2,"span",10),E._uU(3),E.qZA(),E._UZ(4,"span",11),E.qZA()()}if(2&bt){const Te=un.$implicit,vt=un.index,gt=E.oxw().index,Nt=E.oxw();E.Udp("width",Nt._cellWidth)("padding-top",Nt._cellPadding)("padding-bottom",Nt._cellPadding),E.uIk("data-mat-row",gt)("data-mat-col",vt),E.xp6(1),E.ekj("mat-calendar-body-disabled",!Te.enabled)("mat-calendar-body-active",Nt._isActiveCell(gt,vt))("mat-calendar-body-range-start",Nt._isRangeStart(Te.compareValue))("mat-calendar-body-range-end",Nt._isRangeEnd(Te.compareValue))("mat-calendar-body-in-range",Nt._isInRange(Te.compareValue))("mat-calendar-body-comparison-bridge-start",Nt._isComparisonBridgeStart(Te.compareValue,gt,vt))("mat-calendar-body-comparison-bridge-end",Nt._isComparisonBridgeEnd(Te.compareValue,gt,vt))("mat-calendar-body-comparison-start",Nt._isComparisonStart(Te.compareValue))("mat-calendar-body-comparison-end",Nt._isComparisonEnd(Te.compareValue))("mat-calendar-body-in-comparison-range",Nt._isInComparisonRange(Te.compareValue))("mat-calendar-body-preview-start",Nt._isPreviewStart(Te.compareValue))("mat-calendar-body-preview-end",Nt._isPreviewEnd(Te.compareValue))("mat-calendar-body-in-preview",Nt._isInPreview(Te.compareValue)),E.Q6J("ngClass",Te.cssClasses)("tabindex",Nt._isActiveCell(gt,vt)?0:-1),E.uIk("aria-label",Te.ariaLabel)("aria-disabled",!Te.enabled||null)("aria-pressed",Nt._isSelected(Te.compareValue))("aria-current",Nt.todayValue===Te.compareValue?"date":null)("aria-describedby",Nt._getDescribedby(Te.compareValue)),E.xp6(1),E.ekj("mat-calendar-body-selected",Nt._isSelected(Te.compareValue))("mat-calendar-body-comparison-identical",Nt._isComparisonIdentical(Te.compareValue))("mat-calendar-body-today",Nt.todayValue===Te.compareValue),E.xp6(1),E.hij(" ",Te.displayValue," ")}}function Fe(bt,un){if(1&bt&&(E.TgZ(0,"tr",5),E.YNc(1,J,2,6,"td",6),E.YNc(2,ce,5,48,"td",7),E.qZA()),2&bt){const Te=un.$implicit,vt=un.index,gt=E.oxw();E.xp6(1),E.Q6J("ngIf",0===vt&&gt._firstRowOffset),E.xp6(1),E.Q6J("ngForOf",Te)}}function q(bt,un){if(1&bt&&(E.TgZ(0,"th",5)(1,"span",6),E._uU(2),E.qZA(),E.TgZ(3,"span",7),E._uU(4),E.qZA()()),2&bt){const Te=un.$implicit;E.xp6(2),E.Oqu(Te.long),E.xp6(2),E.Oqu(Te.narrow)}}const le=["*"];function K(bt,un){}function _e(bt,un){if(1&bt){const Te=E.EpF();E.TgZ(0,"mat-month-view",5),E.NdJ("activeDateChange",function(gt){E.CHM(Te);const Nt=E.oxw();return E.KtG(Nt.activeDate=gt)})("_userSelection",function(gt){E.CHM(Te);const Nt=E.oxw();return E.KtG(Nt._dateSelected(gt))})("dragStarted",function(gt){E.CHM(Te);const Nt=E.oxw();return E.KtG(Nt._dragStarted(gt))})("dragEnded",function(gt){E.CHM(Te);const Nt=E.oxw();return E.KtG(Nt._dragEnded(gt))}),E.qZA()}if(2&bt){const Te=E.oxw();E.Q6J("activeDate",Te.activeDate)("selected",Te.selected)("dateFilter",Te.dateFilter)("maxDate",Te.maxDate)("minDate",Te.minDate)("dateClass",Te.dateClass)("comparisonStart",Te.comparisonStart)("comparisonEnd",Te.comparisonEnd)("startDateAccessibleName",Te.startDateAccessibleName)("endDateAccessibleName",Te.endDateAccessibleName)("activeDrag",Te._activeDrag)}}function se(bt,un){if(1&bt){const Te=E.EpF();E.TgZ(0,"mat-year-view",6),E.NdJ("activeDateChange",function(gt){E.CHM(Te);const Nt=E.oxw();return E.KtG(Nt.activeDate=gt)})("monthSelected",function(gt){E.CHM(Te);const Nt=E.oxw();return E.KtG(Nt._monthSelectedInYearView(gt))})("selectedChange",function(gt){E.CHM(Te);const Nt=E.oxw();return E.KtG(Nt._goToDateInView(gt,"month"))}),E.qZA()}if(2&bt){const Te=E.oxw();E.Q6J("activeDate",Te.activeDate)("selected",Te.selected)("dateFilter",Te.dateFilter)("maxDate",Te.maxDate)("minDate",Te.minDate)("dateClass",Te.dateClass)}}function me(bt,un){if(1&bt){const Te=E.EpF();E.TgZ(0,"mat-multi-year-view",7),E.NdJ("activeDateChange",function(gt){E.CHM(Te);const Nt=E.oxw();return E.KtG(Nt.activeDate=gt)})("yearSelected",function(gt){E.CHM(Te);const Nt=E.oxw();return E.KtG(Nt._yearSelectedInMultiYearView(gt))})("selectedChange",function(gt){E.CHM(Te);const Nt=E.oxw();return E.KtG(Nt._goToDateInView(gt,"year"))}),E.qZA()}if(2&bt){const Te=E.oxw();E.Q6J("activeDate",Te.activeDate)("selected",Te.selected)("dateFilter",Te.dateFilter)("maxDate",Te.maxDate)("minDate",Te.minDate)("dateClass",Te.dateClass)}}function De(bt,un){}const Le=["button"];function he(bt,un){1&bt&&(E.O4$(),E.TgZ(0,"svg",3),E._UZ(1,"path",4),E.qZA())}const Re=[[["","matDatepickerToggleIcon",""]]],Ie=["[matDatepickerToggleIcon]"];let Ke=(()=>{class bt{constructor(){this.changes=new p.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(Te,vt){return`${Te} \u2013 ${vt}`}formatYearRangeLabel(Te,vt){return`${Te} to ${vt}`}static#e=this.\u0275fac=function(vt){return new(vt||bt)};static#t=this.\u0275prov=E.Yz7({token:bt,factory:bt.\u0275fac,providedIn:"root"})}return bt})();class st{constructor(un,Te,vt,gt,Nt={},on=un,ti){this.value=un,this.displayValue=Te,this.ariaLabel=vt,this.enabled=gt,this.cssClasses=Nt,this.compareValue=on,this.rawValue=ti}}let Qe=1;const Ne=(0,R.i$)({passive:!1,capture:!0}),Se=(0,R.i$)({passive:!0,capture:!0}),W=(0,R.i$)({passive:!0});let ae=(()=>{class bt{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(Te,vt){this._elementRef=Te,this._ngZone=vt,this._platform=(0,E.f3M)(R.t4),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new E.vpe,this.previewChange=new E.vpe,this.activeDateChange=new E.vpe,this.dragStarted=new E.vpe,this.dragEnded=new E.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=gt=>{if(this._skipNextFocus&&"focus"===gt.type)this._skipNextFocus=!1;else if(gt.target&&this.isRange){const Nt=this._getCellFromElement(gt.target);Nt&&this._ngZone.run(()=>this.previewChange.emit({value:Nt.enabled?Nt:null,event:gt}))}},this._touchmoveHandler=gt=>{if(!this.isRange)return;const Nt=re(gt),on=Nt?this._getCellFromElement(Nt):null;Nt!==gt.target&&(this._didDragSinceMouseDown=!0),Q(gt.target)&&gt.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:on?.enabled?on:null,event:gt}))},this._leaveHandler=gt=>{null!==this.previewEnd&&this.isRange&&("blur"!==gt.type&&(this._didDragSinceMouseDown=!0),gt.target&&this._getCellFromElement(gt.target)&&(!gt.relatedTarget||!this._getCellFromElement(gt.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:gt})))},this._mousedownHandler=gt=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const Nt=gt.target&&this._getCellFromElement(gt.target);!Nt||!this._isInRange(Nt.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:Nt.rawValue,event:gt})})},this._mouseupHandler=gt=>{if(!this.isRange)return;const Nt=Q(gt.target);Nt?Nt.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const on=this._getCellFromElement(Nt);this.dragEnded.emit({value:on?.rawValue??null,event:gt})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:gt})})},this._touchendHandler=gt=>{const Nt=re(gt);Nt&&this._mouseupHandler({target:Nt})},this._id="mat-calendar-body-"+Qe++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,vt.runOutsideAngular(()=>{const gt=Te.nativeElement;gt.addEventListener("touchmove",this._touchmoveHandler,Ne),gt.addEventListener("mouseenter",this._enterHandler,Se),gt.addEventListener("focus",this._enterHandler,Se),gt.addEventListener("mouseleave",this._leaveHandler,Se),gt.addEventListener("blur",this._leaveHandler,Se),gt.addEventListener("mousedown",this._mousedownHandler,W),gt.addEventListener("touchstart",this._mousedownHandler,W),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(Te,vt){this._didDragSinceMouseDown||Te.enabled&&this.selectedValueChange.emit({value:Te.value,event:vt})}_emitActiveDateChange(Te,vt){Te.enabled&&this.activeDateChange.emit({value:Te.value,event:vt})}_isSelected(Te){return this.startValue===Te||this.endValue===Te}ngOnChanges(Te){const vt=Te.numCols,{rows:gt,numCols:Nt}=this;(Te.rows||vt)&&(this._firstRowOffset=gt&&gt.length&&gt[0].length?Nt-gt[0].length:0),(Te.cellAspectRatio||vt||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/Nt+"%"),(vt||!this._cellWidth)&&(this._cellWidth=100/Nt+"%")}ngOnDestroy(){const Te=this._elementRef.nativeElement;Te.removeEventListener("touchmove",this._touchmoveHandler,Ne),Te.removeEventListener("mouseenter",this._enterHandler,Se),Te.removeEventListener("focus",this._enterHandler,Se),Te.removeEventListener("mouseleave",this._leaveHandler,Se),Te.removeEventListener("blur",this._leaveHandler,Se),Te.removeEventListener("mousedown",this._mousedownHandler,W),Te.removeEventListener("touchstart",this._mousedownHandler,W),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(Te,vt){let gt=Te*this.numCols+vt;return Te&&(gt-=this._firstRowOffset),gt==this.activeCell}_focusActiveCell(Te=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,V.q)(1)).subscribe(()=>{setTimeout(()=>{const vt=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");vt&&(Te||(this._skipNextFocus=!0),vt.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(Te){return X(Te,this.startValue,this.endValue)}_isRangeEnd(Te){return $(Te,this.startValue,this.endValue)}_isInRange(Te){return ie(Te,this.startValue,this.endValue,this.isRange)}_isComparisonStart(Te){return X(Te,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(Te,vt,gt){if(!this._isComparisonStart(Te)||this._isRangeStart(Te)||!this._isInRange(Te))return!1;let Nt=this.rows[vt][gt-1];if(!Nt){const on=this.rows[vt-1];Nt=on&&on[on.length-1]}return Nt&&!this._isRangeEnd(Nt.compareValue)}_isComparisonBridgeEnd(Te,vt,gt){if(!this._isComparisonEnd(Te)||this._isRangeEnd(Te)||!this._isInRange(Te))return!1;let Nt=this.rows[vt][gt+1];if(!Nt){const on=this.rows[vt+1];Nt=on&&on[0]}return Nt&&!this._isRangeStart(Nt.compareValue)}_isComparisonEnd(Te){return $(Te,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(Te){return ie(Te,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(Te){return this.comparisonStart===this.comparisonEnd&&Te===this.comparisonStart}_isPreviewStart(Te){return X(Te,this.previewStart,this.previewEnd)}_isPreviewEnd(Te){return $(Te,this.previewStart,this.previewEnd)}_isInPreview(Te){return ie(Te,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(Te){return this.isRange?this.startValue===Te&&this.endValue===Te?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===Te?this._startDateLabelId:this.endValue===Te?this._endDateLabelId:null:null}_getCellFromElement(Te){const vt=Q(Te);if(vt){const gt=vt.getAttribute("data-mat-row"),Nt=vt.getAttribute("data-mat-col");if(gt&&Nt)return this.rows[parseInt(gt)][parseInt(Nt)]}return null}static#e=this.\u0275fac=function(vt){return new(vt||bt)(E.Y36(E.SBq),E.Y36(E.R0b))};static#t=this.\u0275cmp=E.Xpm({type:bt,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[E.TTD],attrs:B,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(vt,gt){1&vt&&(E.YNc(0,Y,3,6,"tr",0),E.YNc(1,Fe,3,2,"tr",1),E.TgZ(2,"label",2),E._uU(3),E.qZA(),E.TgZ(4,"label",2),E._uU(5),E.qZA()),2&vt&&(E.Q6J("ngIf",gt._firstRowOffset<gt.labelMinRequiredCells),E.xp6(1),E.Q6J("ngForOf",gt.rows),E.xp6(1),E.Q6J("id",gt._startDateLabelId),E.xp6(1),E.hij(" ",gt.startDateAccessibleName,"\n"),E.xp6(1),E.Q6J("id",gt._endDateLabelId),E.xp6(1),E.hij(" ",gt.endDateAccessibleName,"\n"))},dependencies:[w.mk,w.sg,w.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return bt})();function ve(bt){return"TD"===bt?.nodeName}function Q(bt){let un;return ve(bt)?un=bt:ve(bt.parentNode)?un=bt.parentNode:ve(bt.parentNode?.parentNode)&&(un=bt.parentNode.parentNode),null!=un?.getAttribute("data-mat-row")?un:null}function X(bt,un,Te){return null!==Te&&un!==Te&&bt<Te&&bt===un}function $(bt,un,Te){return null!==un&&un!==Te&&bt>=un&&bt===Te}function ie(bt,un,Te,vt){return vt&&null!==un&&null!==Te&&un!==Te&&bt>=un&&bt<=Te}function re(bt){const un=bt.changedTouches[0];return document.elementFromPoint(un.clientX,un.clientY)}class te{constructor(un,Te){this.start=un,this.end=Te}}let ee=(()=>{class bt{constructor(Te,vt){this.selection=Te,this._adapter=vt,this._selectionChanged=new p.x,this.selectionChanged=this._selectionChanged,this.selection=Te}updateSelection(Te,vt){const gt=this.selection;this.selection=Te,this._selectionChanged.next({selection:Te,source:vt,oldValue:gt})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(Te){return this._adapter.isDateInstance(Te)&&this._adapter.isValid(Te)}static#e=this.\u0275fac=function(vt){E.$Z()};static#t=this.\u0275prov=E.Yz7({token:bt,factory:bt.\u0275fac})}return bt})(),fe=(()=>{class bt extends ee{constructor(Te){super(null,Te)}add(Te){super.updateSelection(Te,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const Te=new bt(this._adapter);return Te.updateSelection(this.selection,this),Te}static#e=this.\u0275fac=function(vt){return new(vt||bt)(E.LFG(D._A))};static#t=this.\u0275prov=E.Yz7({token:bt,factory:bt.\u0275fac})}return bt})();const Me={provide:ee,deps:[[new E.FiY,new E.tp0,ee],D._A],useFactory:function ue(bt,un){return bt||new fe(un)}},at=new E.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let At=(()=>{class bt{get activeDate(){return this._activeDate}set activeDate(Te){const vt=this._activeDate,gt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Te))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(gt,this.minDate,this.maxDate),this._hasSameMonthAndYear(vt,this._activeDate)||this._init()}get selected(){return this._selected}set selected(Te){this._selected=Te instanceof te?Te:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Te)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(Te){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Te))}get maxDate(){return this._maxDate}set maxDate(Te){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Te))}constructor(Te,vt,gt,Nt,on){this._changeDetectorRef=Te,this._dateFormats=vt,this._dateAdapter=gt,this._dir=Nt,this._rangeStrategy=on,this._rerenderSubscription=f.w0.EMPTY,this.activeDrag=null,this.selectedChange=new E.vpe,this._userSelection=new E.vpe,this.dragStarted=new E.vpe,this.dragEnded=new E.vpe,this.activeDateChange=new E.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnChanges(Te){const vt=Te.comparisonStart||Te.comparisonEnd;vt&&!vt.firstChange&&this._setRanges(this.selected),Te.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(Te){const vt=Te.value,gt=this._getDateFromDayOfMonth(vt);let Nt,on;this._selected instanceof te?(Nt=this._getDateInCurrentMonth(this._selected.start),on=this._getDateInCurrentMonth(this._selected.end)):Nt=on=this._getDateInCurrentMonth(this._selected),(Nt!==vt||on!==vt)&&this.selectedChange.emit(gt),this._userSelection.emit({value:gt,event:Te.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(Te){const gt=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(Te.value),this._dateAdapter.compareDate(gt,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(Te){const vt=this._activeDate,gt=this._isRtl();switch(Te.keyCode){case M.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,gt?1:-1);break;case M.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,gt?-1:1);break;case M.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case M.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case M.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case M.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case M.Ku:this.activeDate=Te.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case M.VM:this.activeDate=Te.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case M.K5:case M.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&Te.preventDefault());case M.hY:return void(null!=this._previewEnd&&!(0,M.Vb)(Te)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:Te}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:Te})),Te.preventDefault(),Te.stopPropagation()));default:return}this._dateAdapter.compareDate(vt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),Te.preventDefault()}_handleCalendarBodyKeyup(Te){(Te.keyCode===M.L_||Te.keyCode===M.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:Te}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let Te=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(Te)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(Te){this._matCalendarBody._focusActiveCell(Te)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:Te,value:vt}){if(this._rangeStrategy){const gt=vt?vt.rawValue:null,Nt=this._rangeStrategy.createPreview(gt,this.selected,Te);if(this._previewStart=this._getCellCompareValue(Nt.start),this._previewEnd=this._getCellCompareValue(Nt.end),this.activeDrag&&gt){const on=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,gt,Te);on&&(this._previewStart=this._getCellCompareValue(on.start),this._previewEnd=this._getCellCompareValue(on.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(Te){if(this.activeDrag)if(Te.value){const vt=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,Te.value,Te.event);this.dragEnded.emit({value:vt??null,event:Te.event})}else this.dragEnded.emit({value:null,event:Te.event})}_getDateFromDayOfMonth(Te){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),Te)}_initWeekdays(){const Te=this._dateAdapter.getFirstDayOfWeek(),vt=this._dateAdapter.getDayOfWeekNames("narrow");let Nt=this._dateAdapter.getDayOfWeekNames("long").map((on,ti)=>({long:on,narrow:vt[ti]}));this._weekdays=Nt.slice(Te).concat(Nt.slice(0,Te))}_createWeekCells(){const Te=this._dateAdapter.getNumDaysInMonth(this.activeDate),vt=this._dateAdapter.getDateNames();this._weeks=[[]];for(let gt=0,Nt=this._firstWeekOffset;gt<Te;gt++,Nt++){7==Nt&&(this._weeks.push([]),Nt=0);const on=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),gt+1),ti=this._shouldEnableDate(on),fi=this._dateAdapter.format(on,this._dateFormats.display.dateA11yLabel),Oi=this.dateClass?this.dateClass(on,"month"):void 0;this._weeks[this._weeks.length-1].push(new st(gt+1,vt[gt],fi,ti,Oi,this._getCellCompareValue(on),on))}}_shouldEnableDate(Te){return!!Te&&(!this.minDate||this._dateAdapter.compareDate(Te,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(Te,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(Te))}_getDateInCurrentMonth(Te){return Te&&this._hasSameMonthAndYear(Te,this.activeDate)?this._dateAdapter.getDate(Te):null}_hasSameMonthAndYear(Te,vt){return!(!Te||!vt||this._dateAdapter.getMonth(Te)!=this._dateAdapter.getMonth(vt)||this._dateAdapter.getYear(Te)!=this._dateAdapter.getYear(vt))}_getCellCompareValue(Te){if(Te){const vt=this._dateAdapter.getYear(Te),gt=this._dateAdapter.getMonth(Te),Nt=this._dateAdapter.getDate(Te);return new Date(vt,gt,Nt).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(Te){Te instanceof te?(this._rangeStart=this._getCellCompareValue(Te.start),this._rangeEnd=this._getCellCompareValue(Te.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(Te),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(Te){return!this.dateFilter||this.dateFilter(Te)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(vt){return new(vt||bt)(E.Y36(E.sBO),E.Y36(D.sG,8),E.Y36(D._A,8),E.Y36(U.Is,8),E.Y36(at,8))};static#t=this.\u0275cmp=E.Xpm({type:bt,selectors:[["mat-month-view"]],viewQuery:function(vt,gt){if(1&vt&&E.Gf(ae,5),2&vt){let Nt;E.iGM(Nt=E.CRH())&&(gt._matCalendarBody=Nt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[E.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(vt,gt){1&vt&&(E.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),E.YNc(3,q,5,2,"th",2),E.qZA(),E.TgZ(4,"tr"),E._UZ(5,"th",3),E.qZA()(),E.TgZ(6,"tbody",4),E.NdJ("selectedValueChange",function(on){return gt._dateSelected(on)})("activeDateChange",function(on){return gt._updateActiveDate(on)})("previewChange",function(on){return gt._previewChanged(on)})("dragStarted",function(on){return gt.dragStarted.emit(on)})("dragEnded",function(on){return gt._dragEnded(on)})("keyup",function(on){return gt._handleCalendarBodyKeyup(on)})("keydown",function(on){return gt._handleCalendarBodyKeydown(on)}),E.qZA()()),2&vt&&(E.xp6(3),E.Q6J("ngForOf",gt._weekdays),E.xp6(3),E.Q6J("label",gt._monthLabel)("rows",gt._weeks)("todayValue",gt._todayDate)("startValue",gt._rangeStart)("endValue",gt._rangeEnd)("comparisonStart",gt._comparisonRangeStart)("comparisonEnd",gt._comparisonRangeEnd)("previewStart",gt._previewStart)("previewEnd",gt._previewEnd)("isRange",gt._isRange)("labelMinRequiredCells",3)("activeCell",gt._dateAdapter.getDate(gt.activeDate)-1)("startDateAccessibleName",gt.startDateAccessibleName)("endDateAccessibleName",gt.endDateAccessibleName))},dependencies:[w.sg,ae],encapsulation:2,changeDetection:0})}return bt})();const jt=24;let cn=(()=>{class bt{get activeDate(){return this._activeDate}set activeDate(Te){let vt=this._activeDate;const gt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Te))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(gt,this.minDate,this.maxDate),dn(this._dateAdapter,vt,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(Te){this._selected=Te instanceof te?Te:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Te)),this._setSelectedYear(Te)}get minDate(){return this._minDate}set minDate(Te){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Te))}get maxDate(){return this._maxDate}set maxDate(Te){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Te))}constructor(Te,vt,gt){this._changeDetectorRef=Te,this._dateAdapter=vt,this._dir=gt,this._rerenderSubscription=f.w0.EMPTY,this.selectedChange=new E.vpe,this.yearSelected=new E.vpe,this.activeDateChange=new E.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const vt=this._dateAdapter.getYear(this._activeDate)-Gt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let gt=0,Nt=[];gt<jt;gt++)Nt.push(vt+gt),4==Nt.length&&(this._years.push(Nt.map(on=>this._createCellForYear(on))),Nt=[]);this._changeDetectorRef.markForCheck()}_yearSelected(Te){const vt=Te.value,gt=this._dateAdapter.createDate(vt,0,1),Nt=this._getDateFromYear(vt);this.yearSelected.emit(gt),this.selectedChange.emit(Nt)}_updateActiveDate(Te){const gt=this._activeDate;this.activeDate=this._getDateFromYear(Te.value),this._dateAdapter.compareDate(gt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(Te){const vt=this._activeDate,gt=this._isRtl();switch(Te.keyCode){case M.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,gt?1:-1);break;case M.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,gt?-1:1);break;case M.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case M.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case M.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Gt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case M.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,jt-Gt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case M.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Te.altKey?10*-jt:-jt);break;case M.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Te.altKey?10*jt:jt);break;case M.K5:case M.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(vt,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),Te.preventDefault()}_handleCalendarBodyKeyup(Te){(Te.keyCode===M.L_||Te.keyCode===M.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:Te}),this._selectionKeyPressed=!1)}_getActiveCell(){return Gt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(Te){const vt=this._dateAdapter.getMonth(this.activeDate),gt=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(Te,vt,1));return this._dateAdapter.createDate(Te,vt,Math.min(this._dateAdapter.getDate(this.activeDate),gt))}_createCellForYear(Te){const vt=this._dateAdapter.createDate(Te,0,1),gt=this._dateAdapter.getYearName(vt),Nt=this.dateClass?this.dateClass(vt,"multi-year"):void 0;return new st(Te,gt,gt,this._shouldEnableYear(Te),Nt)}_shouldEnableYear(Te){if(null==Te||this.maxDate&&Te>this._dateAdapter.getYear(this.maxDate)||this.minDate&&Te<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let gt=this._dateAdapter.createDate(Te,0,1);this._dateAdapter.getYear(gt)==Te;gt=this._dateAdapter.addCalendarDays(gt,1))if(this.dateFilter(gt))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(Te){if(this._selectedYear=null,Te instanceof te){const vt=Te.start||Te.end;vt&&(this._selectedYear=this._dateAdapter.getYear(vt))}else Te&&(this._selectedYear=this._dateAdapter.getYear(Te))}static#e=this.\u0275fac=function(vt){return new(vt||bt)(E.Y36(E.sBO),E.Y36(D._A,8),E.Y36(U.Is,8))};static#t=this.\u0275cmp=E.Xpm({type:bt,selectors:[["mat-multi-year-view"]],viewQuery:function(vt,gt){if(1&vt&&E.Gf(ae,5),2&vt){let Nt;E.iGM(Nt=E.CRH())&&(gt._matCalendarBody=Nt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(vt,gt){1&vt&&(E.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),E._UZ(3,"th",2),E.qZA()(),E.TgZ(4,"tbody",3),E.NdJ("selectedValueChange",function(on){return gt._yearSelected(on)})("activeDateChange",function(on){return gt._updateActiveDate(on)})("keyup",function(on){return gt._handleCalendarBodyKeyup(on)})("keydown",function(on){return gt._handleCalendarBodyKeydown(on)}),E.qZA()()),2&vt&&(E.xp6(4),E.Q6J("rows",gt._years)("todayValue",gt._todayYear)("startValue",gt._selectedYear)("endValue",gt._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",gt._getActiveCell()))},dependencies:[ae],encapsulation:2,changeDetection:0})}return bt})();function dn(bt,un,Te,vt,gt){const Nt=bt.getYear(un),on=bt.getYear(Te),ti=Cn(bt,vt,gt);return Math.floor((Nt-ti)/jt)===Math.floor((on-ti)/jt)}function Gt(bt,un,Te,vt){return function en(bt,un){return(bt%un+un)%un}(bt.getYear(un)-Cn(bt,Te,vt),jt)}function Cn(bt,un,Te){let vt=0;return Te?vt=bt.getYear(Te)-jt+1:un&&(vt=bt.getYear(un)),vt}let xt=(()=>{class bt{get activeDate(){return this._activeDate}set activeDate(Te){let vt=this._activeDate;const gt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Te))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(gt,this.minDate,this.maxDate),this._dateAdapter.getYear(vt)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(Te){this._selected=Te instanceof te?Te:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Te)),this._setSelectedMonth(Te)}get minDate(){return this._minDate}set minDate(Te){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Te))}get maxDate(){return this._maxDate}set maxDate(Te){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Te))}constructor(Te,vt,gt,Nt){this._changeDetectorRef=Te,this._dateFormats=vt,this._dateAdapter=gt,this._dir=Nt,this._rerenderSubscription=f.w0.EMPTY,this.selectedChange=new E.vpe,this.monthSelected=new E.vpe,this.activeDateChange=new E.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(Te){const vt=Te.value,gt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),vt,1);this.monthSelected.emit(gt);const Nt=this._getDateFromMonth(vt);this.selectedChange.emit(Nt)}_updateActiveDate(Te){const gt=this._activeDate;this.activeDate=this._getDateFromMonth(Te.value),this._dateAdapter.compareDate(gt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(Te){const vt=this._activeDate,gt=this._isRtl();switch(Te.keyCode){case M.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,gt?1:-1);break;case M.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,gt?-1:1);break;case M.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case M.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case M.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case M.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case M.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Te.altKey?-10:-1);break;case M.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Te.altKey?10:1);break;case M.K5:case M.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(vt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),Te.preventDefault()}_handleCalendarBodyKeyup(Te){(Te.keyCode===M.L_||Te.keyCode===M.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:Te}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let Te=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(vt=>vt.map(gt=>this._createCellForMonth(gt,Te[gt]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(Te){return Te&&this._dateAdapter.getYear(Te)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(Te):null}_getDateFromMonth(Te){const vt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Te,1),gt=this._dateAdapter.getNumDaysInMonth(vt);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Te,Math.min(this._dateAdapter.getDate(this.activeDate),gt))}_createCellForMonth(Te,vt){const gt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Te,1),Nt=this._dateAdapter.format(gt,this._dateFormats.display.monthYearA11yLabel),on=this.dateClass?this.dateClass(gt,"year"):void 0;return new st(Te,vt.toLocaleUpperCase(),Nt,this._shouldEnableMonth(Te),on)}_shouldEnableMonth(Te){const vt=this._dateAdapter.getYear(this.activeDate);if(null==Te||this._isYearAndMonthAfterMaxDate(vt,Te)||this._isYearAndMonthBeforeMinDate(vt,Te))return!1;if(!this.dateFilter)return!0;for(let Nt=this._dateAdapter.createDate(vt,Te,1);this._dateAdapter.getMonth(Nt)==Te;Nt=this._dateAdapter.addCalendarDays(Nt,1))if(this.dateFilter(Nt))return!0;return!1}_isYearAndMonthAfterMaxDate(Te,vt){if(this.maxDate){const gt=this._dateAdapter.getYear(this.maxDate),Nt=this._dateAdapter.getMonth(this.maxDate);return Te>gt||Te===gt&&vt>Nt}return!1}_isYearAndMonthBeforeMinDate(Te,vt){if(this.minDate){const gt=this._dateAdapter.getYear(this.minDate),Nt=this._dateAdapter.getMonth(this.minDate);return Te<gt||Te===gt&&vt<Nt}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(Te){this._selectedMonth=Te instanceof te?this._getMonthInCurrentYear(Te.start)||this._getMonthInCurrentYear(Te.end):this._getMonthInCurrentYear(Te)}static#e=this.\u0275fac=function(vt){return new(vt||bt)(E.Y36(E.sBO),E.Y36(D.sG,8),E.Y36(D._A,8),E.Y36(U.Is,8))};static#t=this.\u0275cmp=E.Xpm({type:bt,selectors:[["mat-year-view"]],viewQuery:function(vt,gt){if(1&vt&&E.Gf(ae,5),2&vt){let Nt;E.iGM(Nt=E.CRH())&&(gt._matCalendarBody=Nt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(vt,gt){1&vt&&(E.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),E._UZ(3,"th",2),E.qZA()(),E.TgZ(4,"tbody",3),E.NdJ("selectedValueChange",function(on){return gt._monthSelected(on)})("activeDateChange",function(on){return gt._updateActiveDate(on)})("keyup",function(on){return gt._handleCalendarBodyKeyup(on)})("keydown",function(on){return gt._handleCalendarBodyKeydown(on)}),E.qZA()()),2&vt&&(E.xp6(4),E.Q6J("label",gt._yearLabel)("rows",gt._months)("todayValue",gt._todayMonth)("startValue",gt._selectedMonth)("endValue",gt._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",gt._dateAdapter.getMonth(gt.activeDate)))},dependencies:[ae],encapsulation:2,changeDetection:0})}return bt})(),ft=1,Xe=(()=>{class bt{constructor(Te,vt,gt,Nt,on){this._intl=Te,this.calendar=vt,this._dateAdapter=gt,this._dateFormats=Nt,this._id="mat-calendar-header-"+ft++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>on.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-jt)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:jt)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(Te,vt){return"month"==this.calendar.currentView?this._dateAdapter.getYear(Te)==this._dateAdapter.getYear(vt)&&this._dateAdapter.getMonth(Te)==this._dateAdapter.getMonth(vt):"year"==this.calendar.currentView?this._dateAdapter.getYear(Te)==this._dateAdapter.getYear(vt):dn(this._dateAdapter,Te,vt,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const vt=this._dateAdapter.getYear(this.calendar.activeDate)-Gt(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),gt=vt+jt-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(vt,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(gt,0,1))]}static#e=this.\u0275fac=function(vt){return new(vt||bt)(E.Y36(Ke),E.Y36((0,E.Gpc)(()=>xe)),E.Y36(D._A,8),E.Y36(D.sG,8),E.Y36(E.sBO))};static#t=this.\u0275cmp=E.Xpm({type:bt,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:le,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(vt,gt){1&vt&&(E.F$t(),E.TgZ(0,"div",0)(1,"div",1)(2,"button",2),E.NdJ("click",function(){return gt.currentPeriodClicked()}),E.TgZ(3,"span",3),E._uU(4),E.qZA(),E.O4$(),E.TgZ(5,"svg",4),E._UZ(6,"polygon",5),E.qZA()(),E.kcU(),E._UZ(7,"div",6),E.Hsn(8),E.TgZ(9,"button",7),E.NdJ("click",function(){return gt.previousClicked()}),E.qZA(),E.TgZ(10,"button",8),E.NdJ("click",function(){return gt.nextClicked()}),E.qZA()()(),E.TgZ(11,"label",9),E._uU(12),E.qZA()),2&vt&&(E.xp6(2),E.uIk("aria-label",gt.periodButtonLabel)("aria-describedby",gt._periodButtonLabelId),E.xp6(2),E.Oqu(gt.periodButtonText),E.xp6(1),E.ekj("mat-calendar-invert","month"!==gt.calendar.currentView),E.xp6(4),E.Q6J("disabled",!gt.previousEnabled()),E.uIk("aria-label",gt.prevButtonLabel),E.xp6(1),E.Q6J("disabled",!gt.nextEnabled()),E.uIk("aria-label",gt.nextButtonLabel),E.xp6(1),E.Q6J("id",gt._periodButtonLabelId),E.xp6(1),E.Oqu(gt.periodButtonDescription))},dependencies:[F.lW,F.RK],encapsulation:2,changeDetection:0})}return bt})(),xe=(()=>{class bt{get startAt(){return this._startAt}set startAt(Te){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Te))}get selected(){return this._selected}set selected(Te){this._selected=Te instanceof te?Te:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Te))}get minDate(){return this._minDate}set minDate(Te){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Te))}get maxDate(){return this._maxDate}set maxDate(Te){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Te))}get activeDate(){return this._clampedActiveDate}set activeDate(Te){this._clampedActiveDate=this._dateAdapter.clampDate(Te,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(Te){const vt=this._currentView!==Te?Te:null;this._currentView=Te,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),vt&&this.viewChanged.emit(vt)}constructor(Te,vt,gt,Nt){this._dateAdapter=vt,this._dateFormats=gt,this._changeDetectorRef=Nt,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new E.vpe,this.yearSelected=new E.vpe,this.monthSelected=new E.vpe,this.viewChanged=new E.vpe(!0),this._userSelection=new E.vpe,this._userDragDrop=new E.vpe,this._activeDrag=null,this.stateChanges=new p.x,this._intlChanges=Te.changes.subscribe(()=>{Nt.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new b.C5(this.headerComponent||Xe),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(Te){const vt=Te.minDate&&!this._dateAdapter.sameDate(Te.minDate.previousValue,Te.minDate.currentValue)?Te.minDate:void 0,gt=Te.maxDate&&!this._dateAdapter.sameDate(Te.maxDate.previousValue,Te.maxDate.currentValue)?Te.maxDate:void 0,Nt=vt||gt||Te.dateFilter;if(Nt&&!Nt.firstChange){const on=this._getCurrentViewComponent();on&&(this._changeDetectorRef.detectChanges(),on._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(Te){const vt=Te.value;(this.selected instanceof te||vt&&!this._dateAdapter.sameDate(vt,this.selected))&&this.selectedChange.emit(vt),this._userSelection.emit(Te)}_yearSelectedInMultiYearView(Te){this.yearSelected.emit(Te)}_monthSelectedInYearView(Te){this.monthSelected.emit(Te)}_goToDateInView(Te,vt){this.activeDate=Te,this.currentView=vt}_dragStarted(Te){this._activeDrag=Te}_dragEnded(Te){this._activeDrag&&(Te.value&&this._userDragDrop.emit(Te),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(vt){return new(vt||bt)(E.Y36(Ke),E.Y36(D._A,8),E.Y36(D.sG,8),E.Y36(E.sBO))};static#t=this.\u0275cmp=E.Xpm({type:bt,selectors:[["mat-calendar"]],viewQuery:function(vt,gt){if(1&vt&&(E.Gf(At,5),E.Gf(xt,5),E.Gf(cn,5)),2&vt){let Nt;E.iGM(Nt=E.CRH())&&(gt.monthView=Nt.first),E.iGM(Nt=E.CRH())&&(gt.yearView=Nt.first),E.iGM(Nt=E.CRH())&&(gt.multiYearView=Nt.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[E._Bn([Me]),E.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(vt,gt){1&vt&&(E.YNc(0,K,0,0,"ng-template",0),E.TgZ(1,"div",1),E.YNc(2,_e,1,11,"mat-month-view",2),E.YNc(3,se,1,6,"mat-year-view",3),E.YNc(4,me,1,6,"mat-multi-year-view",4),E.qZA()),2&vt&&(E.Q6J("cdkPortalOutlet",gt._calendarHeaderPortal),E.xp6(1),E.Q6J("ngSwitch",gt.currentView),E.xp6(1),E.Q6J("ngSwitchCase","month"),E.xp6(1),E.Q6J("ngSwitchCase","year"),E.xp6(1),E.Q6J("ngSwitchCase","multi-year"))},dependencies:[w.RF,w.n9,c.kH,b.Pl,At,xt,cn],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return bt})();const Oe={transformPanel:(0,O.X$)("transformPanel",[(0,O.eR)("void => enter-dropdown",(0,O.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,O.F4)([(0,O.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,O.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,O.eR)("void => enter-dialog",(0,O.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,O.F4)([(0,O.oB)({opacity:0,transform:"scale(0.7)"}),(0,O.oB)({transform:"none",opacity:1})]))),(0,O.eR)("* => void",(0,O.jt)("100ms linear",(0,O.oB)({opacity:0})))]),fadeInCalendar:(0,O.X$)("fadeInCalendar",[(0,O.SB)("void",(0,O.oB)({opacity:0})),(0,O.SB)("enter",(0,O.oB)({opacity:1})),(0,O.eR)("void => *",(0,O.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let We=0;const $e=new E.OlP("mat-datepicker-scroll-strategy"),ot={provide:$e,deps:[t.aV],useFactory:function lt(bt){return()=>bt.scrollStrategies.reposition()}},dt=(0,D.pj)(class{constructor(bt){this._elementRef=bt}});let Lt=(()=>{class bt extends dt{constructor(Te,vt,gt,Nt,on,ti){super(Te),this._changeDetectorRef=vt,this._globalModel=gt,this._dateAdapter=Nt,this._rangeSelectionStrategy=on,this._subscriptions=new f.w0,this._animationDone=new p.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=ti.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(Te){const vt=this._model.selection,gt=Te.value,Nt=vt instanceof te;if(Nt&&this._rangeSelectionStrategy){const on=this._rangeSelectionStrategy.selectionFinished(gt,vt,Te.event);this._model.updateSelection(on,this)}else gt&&(Nt||!this._dateAdapter.sameDate(gt,vt))&&this._model.add(gt);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(Te){this._model.updateSelection(Te.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(Te){this._isAnimating="start"===Te.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(Te,vt){this._model=Te?this._globalModel.clone():this._globalModel,this._actionsPortal=Te,vt&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(vt){return new(vt||bt)(E.Y36(E.SBq),E.Y36(E.sBO),E.Y36(ee),E.Y36(D._A),E.Y36(at,8),E.Y36(Ke))};static#t=this.\u0275cmp=E.Xpm({type:bt,selectors:[["mat-datepicker-content"]],viewQuery:function(vt,gt){if(1&vt&&E.Gf(xe,5),2&vt){let Nt;E.iGM(Nt=E.CRH())&&(gt._calendar=Nt.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(vt,gt){1&vt&&E.WFA("@transformPanel.start",function(on){return gt._handleAnimationEvent(on)})("@transformPanel.done",function(on){return gt._handleAnimationEvent(on)}),2&vt&&(E.d8E("@transformPanel",gt._animationState),E.ekj("mat-datepicker-content-touch",gt.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[E.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(vt,gt){if(1&vt&&(E.TgZ(0,"div",0)(1,"mat-calendar",1),E.NdJ("yearSelected",function(on){return gt.datepicker._selectYear(on)})("monthSelected",function(on){return gt.datepicker._selectMonth(on)})("viewChanged",function(on){return gt.datepicker._viewChanged(on)})("_userSelection",function(on){return gt._handleUserSelection(on)})("_userDragDrop",function(on){return gt._handleUserDragDrop(on)}),E.qZA(),E.YNc(2,De,0,0,"ng-template",2),E.TgZ(3,"button",3),E.NdJ("focus",function(){return gt._closeButtonFocused=!0})("blur",function(){return gt._closeButtonFocused=!1})("click",function(){return gt.datepicker.close()}),E._uU(4),E.qZA()()),2&vt){let Nt;E.ekj("mat-datepicker-content-container-with-custom-header",gt.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",gt._actionsPortal),E.uIk("aria-modal",!0)("aria-labelledby",null!==(Nt=gt._dialogLabelId)&&void 0!==Nt?Nt:void 0),E.xp6(1),E.Q6J("id",gt.datepicker.id)("ngClass",gt.datepicker.panelClass)("startAt",gt.datepicker.startAt)("startView",gt.datepicker.startView)("minDate",gt.datepicker._getMinDate())("maxDate",gt.datepicker._getMaxDate())("dateFilter",gt.datepicker._getDateFilter())("headerComponent",gt.datepicker.calendarHeaderComponent)("selected",gt._getSelected())("dateClass",gt.datepicker.dateClass)("comparisonStart",gt.comparisonStart)("comparisonEnd",gt.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",gt.startDateAccessibleName)("endDateAccessibleName",gt.endDateAccessibleName),E.xp6(1),E.Q6J("cdkPortalOutlet",gt._actionsPortal),E.xp6(1),E.ekj("cdk-visually-hidden",!gt._closeButtonFocused),E.Q6J("color",gt.color||"primary"),E.xp6(1),E.Oqu(gt._closeButtonText)}},dependencies:[w.mk,F.lW,c.mK,b.Pl,xe],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Oe.transformPanel,Oe.fadeInCalendar]},changeDetection:0})}return bt})(),zt=(()=>{class bt{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(Te){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Te))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(Te){this._color=Te}get touchUi(){return this._touchUi}set touchUi(Te){this._touchUi=(0,x.Ig)(Te)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(Te){const vt=(0,x.Ig)(Te);vt!==this._disabled&&(this._disabled=vt,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(Te){this._restoreFocus=(0,x.Ig)(Te)}get panelClass(){return this._panelClass}set panelClass(Te){this._panelClass=(0,x.du)(Te)}get opened(){return this._opened}set opened(Te){(0,x.Ig)(Te)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(Te,vt,gt,Nt,on,ti,fi){this._overlay=Te,this._ngZone=vt,this._viewContainerRef=gt,this._dateAdapter=on,this._dir=ti,this._model=fi,this._inputStateChanges=f.w0.EMPTY,this._document=(0,E.f3M)(w.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new E.vpe,this.monthSelected=new E.vpe,this.viewChanged=new E.vpe(!0),this.openedStream=new E.vpe,this.closedStream=new E.vpe,this._opened=!1,this.id="mat-datepicker-"+We++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new p.x,this._scrollStrategy=Nt}ngOnChanges(Te){const vt=Te.xPosition||Te.yPosition;if(vt&&!vt.firstChange&&this._overlayRef){const gt=this._overlayRef.getConfig().positionStrategy;gt instanceof t._G&&(this._setConnectedPositions(gt),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(Te){this._model.add(Te)}_selectYear(Te){this.yearSelected.emit(Te)}_selectMonth(Te){this.monthSelected.emit(Te)}_viewChanged(Te){this.viewChanged.emit(Te)}registerInput(Te){return this._inputStateChanges.unsubscribe(),this.datepickerInput=Te,this._inputStateChanges=Te.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(Te){this._actionsPortal=Te,this._componentRef?.instance._assignActions(Te,!0)}removeActions(Te){Te===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,R.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const Te=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,vt=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:gt,location:Nt}=this._componentRef;gt._startExitAnimation(),gt._animationDone.pipe((0,V.q)(1)).subscribe(()=>{const on=this._document.activeElement;Te&&(!on||on===this._document.activeElement||Nt.nativeElement.contains(on))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}Te?setTimeout(vt):vt()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(Te){Te.datepicker=this,Te.color=this.color,Te._dialogLabelId=this.datepickerInput.getOverlayLabelId(),Te._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const Te=this.touchUi,vt=new b.C5(Lt,this._viewContainerRef),gt=this._overlayRef=this._overlay.create(new t.X_({positionStrategy:Te?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[Te?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:Te?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(Te?"dialog":"popup")}));this._getCloseStream(gt).subscribe(Nt=>{Nt&&Nt.preventDefault(),this.close()}),gt.keydownEvents().subscribe(Nt=>{const on=Nt.keyCode;(on===M.LH||on===M.JH||on===M.oh||on===M.SV||on===M.Ku||on===M.VM)&&Nt.preventDefault()}),this._componentRef=gt.attach(vt),this._forwardContentValues(this._componentRef.instance),Te||this._ngZone.onStable.pipe((0,V.q)(1)).subscribe(()=>gt.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const Te=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(Te)}_setConnectedPositions(Te){const vt="end"===this.xPosition?"end":"start",gt="start"===vt?"end":"start",Nt="above"===this.yPosition?"bottom":"top",on="top"===Nt?"bottom":"top";return Te.withPositions([{originX:vt,originY:on,overlayX:vt,overlayY:Nt},{originX:vt,originY:Nt,overlayX:vt,overlayY:on},{originX:gt,originY:on,overlayX:gt,overlayY:Nt},{originX:gt,originY:Nt,overlayX:gt,overlayY:on}])}_getCloseStream(Te){const vt=["ctrlKey","shiftKey","metaKey"];return(0,g.T)(Te.backdropClick(),Te.detachments(),Te.keydownEvents().pipe((0,P.h)(gt=>gt.keyCode===M.hY&&!(0,M.Vb)(gt)||this.datepickerInput&&(0,M.Vb)(gt,"altKey")&&gt.keyCode===M.LH&&vt.every(Nt=>!(0,M.Vb)(gt,Nt)))))}static#e=this.\u0275fac=function(vt){return new(vt||bt)(E.Y36(t.aV),E.Y36(E.R0b),E.Y36(E.s_b),E.Y36($e),E.Y36(D._A,8),E.Y36(U.Is,8),E.Y36(ee))};static#t=this.\u0275dir=E.lG2({type:bt,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[E.TTD]})}return bt})(),Rt=(()=>{class bt extends zt{static#e=this.\u0275fac=function(){let Te;return function(gt){return(Te||(Te=E.n5z(bt)))(gt||bt)}}();static#t=this.\u0275cmp=E.Xpm({type:bt,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[E._Bn([Me,{provide:zt,useExisting:bt}]),E.qOj],decls:0,vars:0,template:function(vt,gt){},encapsulation:2,changeDetection:0})}return bt})();class $t{constructor(un,Te){this.target=un,this.targetElement=Te,this.value=this.target.value}}let an=(()=>{class bt{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(Te){this._assignValueProgrammatically(Te)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(Te){const vt=(0,x.Ig)(Te),gt=this._elementRef.nativeElement;this._disabled!==vt&&(this._disabled=vt,this.stateChanges.next(void 0)),vt&&this._isInitialized&&gt.blur&&gt.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(Te){this._model=Te,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(vt=>{if(this._shouldHandleChangeEvent(vt)){const gt=this._getValueFromModel(vt.selection);this._lastValueValid=this._isValidValue(gt),this._cvaOnChange(gt),this._onTouched(),this._formatValue(gt),this.dateInput.emit(new $t(this,this._elementRef.nativeElement)),this.dateChange.emit(new $t(this,this._elementRef.nativeElement))}})}constructor(Te,vt,gt){this._elementRef=Te,this._dateAdapter=vt,this._dateFormats=gt,this.dateChange=new E.vpe,this.dateInput=new E.vpe,this.stateChanges=new p.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=f.w0.EMPTY,this._localeSubscription=f.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=Nt=>{const on=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Nt.value));return!on||this._matchesFilter(on)?null:{matDatepickerFilter:!0}},this._minValidator=Nt=>{const on=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Nt.value)),ti=this._getMinDate();return!ti||!on||this._dateAdapter.compareDate(ti,on)<=0?null:{matDatepickerMin:{min:ti,actual:on}}},this._maxValidator=Nt=>{const on=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Nt.value)),ti=this._getMaxDate();return!ti||!on||this._dateAdapter.compareDate(ti,on)>=0?null:{matDatepickerMax:{max:ti,actual:on}}},this._lastValueValid=!1,this._localeSubscription=vt.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(Te){(function mn(bt,un){const Te=Object.keys(bt);for(let vt of Te){const{previousValue:gt,currentValue:Nt}=bt[vt];if(!un.isDateInstance(gt)||!un.isDateInstance(Nt))return!0;if(!un.sameDate(gt,Nt))return!0}return!1})(Te,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(Te){this._validatorOnChange=Te}validate(Te){return this._validator?this._validator(Te):null}writeValue(Te){this._assignValueProgrammatically(Te)}registerOnChange(Te){this._cvaOnChange=Te}registerOnTouched(Te){this._onTouched=Te}setDisabledState(Te){this.disabled=Te}_onKeydown(Te){(0,M.Vb)(Te,"altKey")&&Te.keyCode===M.JH&&["ctrlKey","shiftKey","metaKey"].every(Nt=>!(0,M.Vb)(Te,Nt))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),Te.preventDefault())}_onInput(Te){const vt=this._lastValueValid;let gt=this._dateAdapter.parse(Te,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(gt),gt=this._dateAdapter.getValidDateOrNull(gt);const Nt=!this._dateAdapter.sameDate(gt,this.value);!gt||Nt?this._cvaOnChange(gt):(Te&&!this.value&&this._cvaOnChange(gt),vt!==this._lastValueValid&&this._validatorOnChange()),Nt&&(this._assignValue(gt),this.dateInput.emit(new $t(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new $t(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(Te){this._elementRef.nativeElement.value=null!=Te?this._dateAdapter.format(Te,this._dateFormats.display.dateInput):""}_assignValue(Te){this._model?(this._assignValueToModel(Te),this._pendingValue=null):this._pendingValue=Te}_isValidValue(Te){return!Te||this._dateAdapter.isValid(Te)}_parentDisabled(){return!1}_assignValueProgrammatically(Te){Te=this._dateAdapter.deserialize(Te),this._lastValueValid=this._isValidValue(Te),Te=this._dateAdapter.getValidDateOrNull(Te),this._assignValue(Te),this._formatValue(Te)}_matchesFilter(Te){const vt=this._getDateFilter();return!vt||vt(Te)}static#e=this.\u0275fac=function(vt){return new(vt||bt)(E.Y36(E.SBq),E.Y36(D._A,8),E.Y36(D.sG,8))};static#t=this.\u0275dir=E.lG2({type:bt,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[E.TTD]})}return bt})();const An={provide:T.JU,useExisting:(0,E.Gpc)(()=>Zn),multi:!0},Ln={provide:T.Cf,useExisting:(0,E.Gpc)(()=>Zn),multi:!0};let Zn=(()=>{class bt extends an{set matDatepicker(Te){Te&&(this._datepicker=Te,this._closedSubscription=Te.closedStream.subscribe(()=>this._onTouched()),this._registerModel(Te.registerInput(this)))}get min(){return this._min}set min(Te){const vt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Te));this._dateAdapter.sameDate(vt,this._min)||(this._min=vt,this._validatorOnChange())}get max(){return this._max}set max(Te){const vt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Te));this._dateAdapter.sameDate(vt,this._max)||(this._max=vt,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(Te){const vt=this._matchesFilter(this.value);this._dateFilter=Te,this._matchesFilter(this.value)!==vt&&this._validatorOnChange()}constructor(Te,vt,gt,Nt){super(Te,vt,gt),this._formField=Nt,this._closedSubscription=f.w0.EMPTY,this._validator=T.kI.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(Te){return Te}_assignValueToModel(Te){this._model&&this._model.updateSelection(Te,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(Te){return Te.source!==this}static#e=this.\u0275fac=function(vt){return new(vt||bt)(E.Y36(E.SBq),E.Y36(D._A,8),E.Y36(D.sG,8),E.Y36(N.G_,8))};static#t=this.\u0275dir=E.lG2({type:bt,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(vt,gt){1&vt&&E.NdJ("input",function(on){return gt._onInput(on.target.value)})("change",function(){return gt._onChange()})("blur",function(){return gt._onBlur()})("keydown",function(on){return gt._onKeydown(on)}),2&vt&&(E.Ikx("disabled",gt.disabled),E.uIk("aria-haspopup",gt._datepicker?"dialog":null)("aria-owns",(null==gt._datepicker?null:gt._datepicker.opened)&&gt._datepicker.id||null)("min",gt.min?gt._dateAdapter.toIso8601(gt.min):null)("max",gt.max?gt._dateAdapter.toIso8601(gt.max):null)("data-mat-calendar",gt._datepicker?gt._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[E._Bn([An,Ln,{provide:C.Jk,useExisting:bt}]),E.qOj]})}return bt})(),Kn=(()=>{class bt{static#e=this.\u0275fac=function(vt){return new(vt||bt)};static#t=this.\u0275dir=E.lG2({type:bt,selectors:[["","matDatepickerToggleIcon",""]]})}return bt})(),ci=(()=>{class bt{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(Te){this._disabled=(0,x.Ig)(Te)}constructor(Te,vt,gt){this._intl=Te,this._changeDetectorRef=vt,this._stateChanges=f.w0.EMPTY;const Nt=Number(gt);this.tabIndex=Nt||0===Nt?Nt:null}ngOnChanges(Te){Te.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(Te){this.datepicker&&!this.disabled&&(this.datepicker.open(),Te.stopPropagation())}_watchStateChanges(){const Te=this.datepicker?this.datepicker.stateChanges:(0,y.of)(),vt=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,y.of)(),gt=this.datepicker?(0,g.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,y.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,g.T)(this._intl.changes,Te,vt,gt).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(vt){return new(vt||bt)(E.Y36(Ke),E.Y36(E.sBO),E.$8M("tabindex"))};static#t=this.\u0275cmp=E.Xpm({type:bt,selectors:[["mat-datepicker-toggle"]],contentQueries:function(vt,gt,Nt){if(1&vt&&E.Suo(Nt,Kn,5),2&vt){let on;E.iGM(on=E.CRH())&&(gt._customIcon=on.first)}},viewQuery:function(vt,gt){if(1&vt&&E.Gf(Le,5),2&vt){let Nt;E.iGM(Nt=E.CRH())&&(gt._button=Nt.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(vt,gt){1&vt&&E.NdJ("click",function(on){return gt._open(on)}),2&vt&&(E.uIk("tabindex",null)("data-mat-calendar",gt.datepicker?gt.datepicker.id:null),E.ekj("mat-datepicker-toggle-active",gt.datepicker&&gt.datepicker.opened)("mat-accent",gt.datepicker&&"accent"===gt.datepicker.color)("mat-warn",gt.datepicker&&"warn"===gt.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[E.TTD],ngContentSelectors:Ie,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(vt,gt){1&vt&&(E.F$t(Re),E.TgZ(0,"button",0,1),E.YNc(2,he,2,0,"svg",2),E.Hsn(3),E.qZA()),2&vt&&(E.Q6J("disabled",gt.disabled)("disableRipple",gt.disableRipple),E.uIk("aria-haspopup",gt.datepicker?"dialog":null)("aria-label",gt.ariaLabel||gt._intl.openCalendarLabel)("tabindex",gt.disabled?-1:gt.tabIndex),E.xp6(2),E.Q6J("ngIf",!gt._customIcon))},dependencies:[w.O5,F.RK],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return bt})(),ei=(()=>{class bt{static#e=this.\u0275fac=function(vt){return new(vt||bt)};static#t=this.\u0275mod=E.oAB({type:bt});static#n=this.\u0275inj=E.cJS({providers:[Ke,ot],imports:[w.ez,F.ot,t.U8,c.rt,b.eL,D.BQ,L.ZD]})}return bt})()},7700:(jn,nt,S)=>{"use strict";S.d(nt,{WI:()=>Qe,uw:()=>$,H8:()=>fe,vA:()=>me,xY:()=>ee,Is:()=>ue,so:()=>Ke,uh:()=>te});var c=S(3651),t=S(6814),b=S(5879),w=S(4300),E=S(2831),F=S(8484),L=S(6028),D=S(8645),p=S(4911),f=S(2096),g=S(9388),y=S(7921);function M(Ge,at){}class U{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let V=(()=>{class Ge extends F.en{constructor(ct,rt,_t,Bt,At,jt,Qt,cn){super(),this._elementRef=ct,this._focusTrapFactory=rt,this._config=Bt,this._interactivityChecker=At,this._ngZone=jt,this._overlayRef=Qt,this._focusMonitor=cn,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=dn=>{this._portalOutlet.hasAttached();const Gt=this._portalOutlet.attachDomPortal(dn);return this._contentAttached(),Gt},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=_t}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(ct){this._portalOutlet.hasAttached();const rt=this._portalOutlet.attachComponentPortal(ct);return this._contentAttached(),rt}attachTemplatePortal(ct){this._portalOutlet.hasAttached();const rt=this._portalOutlet.attachTemplatePortal(ct);return this._contentAttached(),rt}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(ct,rt){this._interactivityChecker.isFocusable(ct)||(ct.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const _t=()=>{ct.removeEventListener("blur",_t),ct.removeEventListener("mousedown",_t),ct.removeAttribute("tabindex")};ct.addEventListener("blur",_t),ct.addEventListener("mousedown",_t)})),ct.focus(rt)}_focusByCssSelector(ct,rt){let _t=this._elementRef.nativeElement.querySelector(ct);_t&&this._forceFocus(_t,rt)}_trapFocus(){const ct=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||ct.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(rt=>{rt||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const ct=this._config.restoreFocus;let rt=null;if("string"==typeof ct?rt=this._document.querySelector(ct):"boolean"==typeof ct?rt=ct?this._elementFocusedBeforeDialogWasOpened:null:ct&&(rt=ct),this._config.restoreFocus&&rt&&"function"==typeof rt.focus){const _t=(0,E.ht)(),Bt=this._elementRef.nativeElement;(!_t||_t===this._document.body||_t===Bt||Bt.contains(_t))&&(this._focusMonitor?(this._focusMonitor.focusVia(rt,this._closeInteractionType),this._closeInteractionType=null):rt.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const ct=this._elementRef.nativeElement,rt=(0,E.ht)();return ct===rt||ct.contains(rt)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,E.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(rt){return new(rt||Ge)(b.Y36(b.SBq),b.Y36(w.qV),b.Y36(t.K0,8),b.Y36(U),b.Y36(w.ic),b.Y36(b.R0b),b.Y36(c.Iu),b.Y36(w.tE))};static#t=this.\u0275cmp=b.Xpm({type:Ge,selectors:[["cdk-dialog-container"]],viewQuery:function(rt,_t){if(1&rt&&b.Gf(F.Pl,7),2&rt){let Bt;b.iGM(Bt=b.CRH())&&(_t._portalOutlet=Bt.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(rt,_t){2&rt&&b.uIk("id",_t._config.id||null)("role",_t._config.role)("aria-modal",_t._config.ariaModal)("aria-labelledby",_t._config.ariaLabel?null:_t._ariaLabelledBy)("aria-label",_t._config.ariaLabel)("aria-describedby",_t._config.ariaDescribedBy||null)},features:[b.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(rt,_t){1&rt&&b.YNc(0,M,0,0,"ng-template",0)},dependencies:[F.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return Ge})();class k{constructor(at,ct){this.overlayRef=at,this.config=ct,this.closed=new D.x,this.disableClose=ct.disableClose,this.backdropClick=at.backdropClick(),this.keydownEvents=at.keydownEvents(),this.outsidePointerEvents=at.outsidePointerEvents(),this.id=ct.id,this.keydownEvents.subscribe(rt=>{rt.keyCode===L.hY&&!this.disableClose&&!(0,L.Vb)(rt)&&(rt.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=at.detachments().subscribe(()=>{!1!==ct.closeOnOverlayDetachments&&this.close()})}close(at,ct){if(this.containerInstance){const rt=this.closed;this.containerInstance._closeInteractionType=ct?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),rt.next(at),rt.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(at="",ct=""){return this.overlayRef.updateSize({width:at,height:ct}),this}addPanelClass(at){return this.overlayRef.addPanelClass(at),this}removePanelClass(at){return this.overlayRef.removePanelClass(at),this}}const P=new b.OlP("DialogScrollStrategy"),x=new b.OlP("DialogData"),O=new b.OlP("DefaultDialogConfig"),N={provide:P,deps:[c.aV],useFactory:function T(Ge){return()=>Ge.scrollStrategies.block()}};let C=0,B=(()=>{class Ge{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(ct,rt,_t,Bt,At,jt){this._overlay=ct,this._injector=rt,this._defaultOptions=_t,this._parentDialog=Bt,this._overlayContainer=At,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new D.x,this._afterOpenedAtThisLevel=new D.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,p.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,y.O)(void 0))),this._scrollStrategy=jt}open(ct,rt){(rt={...this._defaultOptions||new U,...rt}).id=rt.id||"cdk-dialog-"+C++,rt.id&&this.getDialogById(rt.id);const Bt=this._getOverlayConfig(rt),At=this._overlay.create(Bt),jt=new k(At,rt),Qt=this._attachContainer(At,jt,rt);return jt.containerInstance=Qt,this._attachDialogContent(ct,jt,Qt,rt),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(jt),jt.closed.subscribe(()=>this._removeOpenDialog(jt,!0)),this.afterOpened.next(jt),jt}closeAll(){Y(this.openDialogs,ct=>ct.close())}getDialogById(ct){return this.openDialogs.find(rt=>rt.id===ct)}ngOnDestroy(){Y(this._openDialogsAtThisLevel,ct=>{!1===ct.config.closeOnDestroy&&this._removeOpenDialog(ct,!1)}),Y(this._openDialogsAtThisLevel,ct=>ct.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(ct){const rt=new c.X_({positionStrategy:ct.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:ct.scrollStrategy||this._scrollStrategy(),panelClass:ct.panelClass,hasBackdrop:ct.hasBackdrop,direction:ct.direction,minWidth:ct.minWidth,minHeight:ct.minHeight,maxWidth:ct.maxWidth,maxHeight:ct.maxHeight,width:ct.width,height:ct.height,disposeOnNavigation:ct.closeOnNavigation});return ct.backdropClass&&(rt.backdropClass=ct.backdropClass),rt}_attachContainer(ct,rt,_t){const Bt=_t.injector||_t.viewContainerRef?.injector,At=[{provide:U,useValue:_t},{provide:k,useValue:rt},{provide:c.Iu,useValue:ct}];let jt;_t.container?"function"==typeof _t.container?jt=_t.container:(jt=_t.container.type,At.push(..._t.container.providers(_t))):jt=V;const Qt=new F.C5(jt,_t.viewContainerRef,b.zs3.create({parent:Bt||this._injector,providers:At}),_t.componentFactoryResolver);return ct.attach(Qt).instance}_attachDialogContent(ct,rt,_t,Bt){if(ct instanceof b.Rgc){const At=this._createInjector(Bt,rt,_t,void 0);let jt={$implicit:Bt.data,dialogRef:rt};Bt.templateContext&&(jt={...jt,..."function"==typeof Bt.templateContext?Bt.templateContext():Bt.templateContext}),_t.attachTemplatePortal(new F.UE(ct,null,jt,At))}else{const At=this._createInjector(Bt,rt,_t,this._injector),jt=_t.attachComponentPortal(new F.C5(ct,Bt.viewContainerRef,At,Bt.componentFactoryResolver));rt.componentInstance=jt.instance}}_createInjector(ct,rt,_t,Bt){const At=ct.injector||ct.viewContainerRef?.injector,jt=[{provide:x,useValue:ct.data},{provide:k,useValue:rt}];return ct.providers&&("function"==typeof ct.providers?jt.push(...ct.providers(rt,ct,_t)):jt.push(...ct.providers)),ct.direction&&(!At||!At.get(g.Is,null,{optional:!0}))&&jt.push({provide:g.Is,useValue:{value:ct.direction,change:(0,f.of)()}}),b.zs3.create({parent:At||Bt,providers:jt})}_removeOpenDialog(ct,rt){const _t=this.openDialogs.indexOf(ct);_t>-1&&(this.openDialogs.splice(_t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Bt,At)=>{Bt?At.setAttribute("aria-hidden",Bt):At.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),rt&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const ct=this._overlayContainer.getContainerElement();if(ct.parentElement){const rt=ct.parentElement.children;for(let _t=rt.length-1;_t>-1;_t--){const Bt=rt[_t];Bt!==ct&&"SCRIPT"!==Bt.nodeName&&"STYLE"!==Bt.nodeName&&!Bt.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Bt,Bt.getAttribute("aria-hidden")),Bt.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const ct=this._parentDialog;return ct?ct._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(rt){return new(rt||Ge)(b.LFG(c.aV),b.LFG(b.zs3),b.LFG(O,8),b.LFG(Ge,12),b.LFG(c.Xj),b.LFG(P))};static#t=this.\u0275prov=b.Yz7({token:Ge,factory:Ge.\u0275fac})}return Ge})();function Y(Ge,at){let ct=Ge.length;for(;ct--;)at(Ge[ct])}let J=(()=>{class Ge{static#e=this.\u0275fac=function(rt){return new(rt||Ge)};static#t=this.\u0275mod=b.oAB({type:Ge});static#n=this.\u0275inj=b.cJS({providers:[B,N],imports:[c.U8,F.eL,w.rt,F.eL]})}return Ge})();var ce=S(2495),Fe=S(3019),q=S(2181),le=S(8180),K=S(3680);function se(Ge,at){}S(6825);class me{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const De="mdc-dialog--open",Le="mdc-dialog--opening",he="mdc-dialog--closing";let ge=(()=>{class Ge extends V{constructor(ct,rt,_t,Bt,At,jt,Qt,cn){super(ct,rt,_t,Bt,At,jt,Qt,cn),this._animationStateChanged=new b.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(ct){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:ct})}static#e=this.\u0275fac=function(rt){return new(rt||Ge)(b.Y36(b.SBq),b.Y36(w.qV),b.Y36(t.K0,8),b.Y36(me),b.Y36(w.ic),b.Y36(b.R0b),b.Y36(c.Iu),b.Y36(w.tE))};static#t=this.\u0275cmp=b.Xpm({type:Ge,selectors:[["ng-component"]],features:[b.qOj],decls:0,vars:0,template:function(rt,_t){},encapsulation:2})}return Ge})();const Ue="--mat-dialog-transition-duration";function ke(Ge){return null==Ge?null:"number"==typeof Ge?Ge:Ge.endsWith("ms")?(0,ce.su)(Ge.substring(0,Ge.length-2)):Ge.endsWith("s")?1e3*(0,ce.su)(Ge.substring(0,Ge.length-1)):"0"===Ge?0:null}let we=(()=>{class Ge extends ge{constructor(ct,rt,_t,Bt,At,jt,Qt,cn,dn){super(ct,rt,_t,Bt,At,jt,Qt,dn),this._animationMode=cn,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?ke(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?ke(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Ue,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Le,De)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(De),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(De),this._animationsEnabled?(this._hostElement.style.setProperty(Ue,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(he)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Le,he)}_waitForAnimationToComplete(ct,rt){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(rt,ct)}_requestAnimationFrame(ct){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(ct):ct()})}static#e=this.\u0275fac=function(rt){return new(rt||Ge)(b.Y36(b.SBq),b.Y36(w.qV),b.Y36(t.K0,8),b.Y36(me),b.Y36(w.ic),b.Y36(b.R0b),b.Y36(c.Iu),b.Y36(b.QbO,8),b.Y36(w.tE))};static#t=this.\u0275cmp=b.Xpm({type:Ge,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(rt,_t){2&rt&&(b.Ikx("id",_t._config.id),b.uIk("aria-modal",_t._config.ariaModal)("role",_t._config.role)("aria-labelledby",_t._config.ariaLabel?null:_t._ariaLabelledBy)("aria-label",_t._config.ariaLabel)("aria-describedby",_t._config.ariaDescribedBy||null),b.ekj("_mat-animation-noopable",!_t._animationsEnabled))},features:[b.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(rt,_t){1&rt&&(b.TgZ(0,"div",0)(1,"div",1),b.YNc(2,se,0,0,"ng-template",2),b.qZA()())},dependencies:[F.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return Ge})();class Ke{constructor(at,ct,rt){this._ref=at,this._containerInstance=rt,this._afterOpened=new D.x,this._beforeClosed=new D.x,this._state=0,this.disableClose=ct.disableClose,this.id=at.id,rt._animationStateChanged.pipe((0,q.h)(_t=>"opened"===_t.state),(0,le.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),rt._animationStateChanged.pipe((0,q.h)(_t=>"closed"===_t.state),(0,le.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),at.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Fe.T)(this.backdropClick(),this.keydownEvents().pipe((0,q.h)(_t=>_t.keyCode===L.hY&&!this.disableClose&&!(0,L.Vb)(_t)))).subscribe(_t=>{this.disableClose||(_t.preventDefault(),function st(Ge,at,ct){Ge._closeInteractionType=at,Ge.close(ct)}(this,"keydown"===_t.type?"keyboard":"mouse"))})}close(at){this._result=at,this._containerInstance._animationStateChanged.pipe((0,q.h)(ct=>"closing"===ct.state),(0,le.q)(1)).subscribe(ct=>{this._beforeClosed.next(at),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),ct.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(at){let ct=this._ref.config.positionStrategy;return at&&(at.left||at.right)?at.left?ct.left(at.left):ct.right(at.right):ct.centerHorizontally(),at&&(at.top||at.bottom)?at.top?ct.top(at.top):ct.bottom(at.bottom):ct.centerVertically(),this._ref.updatePosition(),this}updateSize(at="",ct=""){return this._ref.updateSize(at,ct),this}addPanelClass(at){return this._ref.addPanelClass(at),this}removePanelClass(at){return this._ref.removePanelClass(at),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Qe=new b.OlP("MatMdcDialogData"),Ne=new b.OlP("mat-mdc-dialog-default-options"),Se=new b.OlP("mat-mdc-dialog-scroll-strategy"),ae={provide:Se,deps:[c.aV],useFactory:function W(Ge){return()=>Ge.scrollStrategies.block()}};let Q=0,X=(()=>{class Ge{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const ct=this._parentDialog;return ct?ct._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(ct,rt,_t,Bt,At,jt,Qt,cn,dn,Gt){this._overlay=ct,this._defaultOptions=_t,this._parentDialog=Bt,this._dialogRefConstructor=Qt,this._dialogContainerType=cn,this._dialogDataToken=dn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new D.x,this._afterOpenedAtThisLevel=new D.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=me,this.afterAllClosed=(0,p.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,y.O)(void 0))),this._scrollStrategy=jt,this._dialog=rt.get(B)}open(ct,rt){let _t;(rt={...this._defaultOptions||new me,...rt}).id=rt.id||`${this._idPrefix}${Q++}`,rt.scrollStrategy=rt.scrollStrategy||this._scrollStrategy();const Bt=this._dialog.open(ct,{...rt,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:rt},{provide:U,useValue:rt}]},templateContext:()=>({dialogRef:_t}),providers:(At,jt,Qt)=>(_t=new this._dialogRefConstructor(At,rt,Qt),_t.updatePosition(rt?.position),[{provide:this._dialogContainerType,useValue:Qt},{provide:this._dialogDataToken,useValue:jt.data},{provide:this._dialogRefConstructor,useValue:_t}])});return _t.componentInstance=Bt.componentInstance,this.openDialogs.push(_t),this.afterOpened.next(_t),_t.afterClosed().subscribe(()=>{const At=this.openDialogs.indexOf(_t);At>-1&&(this.openDialogs.splice(At,1),this.openDialogs.length||this._getAfterAllClosed().next())}),_t}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(ct){return this.openDialogs.find(rt=>rt.id===ct)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(ct){let rt=ct.length;for(;rt--;)ct[rt].close()}static#e=this.\u0275fac=function(rt){b.$Z()};static#t=this.\u0275prov=b.Yz7({token:Ge,factory:Ge.\u0275fac})}return Ge})(),$=(()=>{class Ge extends X{constructor(ct,rt,_t,Bt,At,jt,Qt,cn){super(ct,rt,Bt,jt,Qt,At,Ke,we,Qe,cn),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(rt){return new(rt||Ge)(b.LFG(c.aV),b.LFG(b.zs3),b.LFG(t.Ye,8),b.LFG(Ne,8),b.LFG(Se),b.LFG(Ge,12),b.LFG(c.Xj),b.LFG(b.QbO,8))};static#t=this.\u0275prov=b.Yz7({token:Ge,factory:Ge.\u0275fac})}return Ge})(),ie=0,te=(()=>{class Ge{constructor(ct,rt,_t){this._dialogRef=ct,this._elementRef=rt,this._dialog=_t,this.id="mat-mdc-dialog-title-"+ie++}ngOnInit(){this._dialogRef||(this._dialogRef=function ye(Ge,at){let ct=Ge.nativeElement.parentElement;for(;ct&&!ct.classList.contains("mat-mdc-dialog-container");)ct=ct.parentElement;return ct?at.find(rt=>rt.id===ct.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const ct=this._dialogRef._containerInstance;ct&&!ct._ariaLabelledBy&&(ct._ariaLabelledBy=this.id)})}static#e=this.\u0275fac=function(rt){return new(rt||Ge)(b.Y36(Ke,8),b.Y36(b.SBq),b.Y36($))};static#t=this.\u0275dir=b.lG2({type:Ge,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(rt,_t){2&rt&&b.Ikx("id",_t.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return Ge})(),ee=(()=>{class Ge{static#e=this.\u0275fac=function(rt){return new(rt||Ge)};static#t=this.\u0275dir=b.lG2({type:Ge,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return Ge})(),fe=(()=>{class Ge{constructor(){this.align="start"}static#e=this.\u0275fac=function(rt){return new(rt||Ge)};static#t=this.\u0275dir=b.lG2({type:Ge,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(rt,_t){2&rt&&b.ekj("mat-mdc-dialog-actions-align-center","center"===_t.align)("mat-mdc-dialog-actions-align-end","end"===_t.align)},inputs:{align:"align"}})}return Ge})(),ue=(()=>{class Ge{static#e=this.\u0275fac=function(rt){return new(rt||Ge)};static#t=this.\u0275mod=b.oAB({type:Ge});static#n=this.\u0275inj=b.cJS({providers:[$,ae],imports:[J,c.U8,F.eL,K.BQ,K.BQ]})}return Ge})()},4170:(jn,nt,S)=>{"use strict";S.d(nt,{G_:()=>ct,TO:()=>Ne,KE:()=>cn,Eo:()=>Me,lN:()=>dn,bx:()=>W,hX:()=>Ke,R9:()=>X});var c=S(5879),t=S(9388),b=S(2831),w=S(7394),E=S(8645),F=S(3019),L=S(9773),D=S(5592),p=S(2181),f=S(940);class y{constructor(Cn){this._box=Cn,this._destroyed=new E.x,this._resizeSubject=new E.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(en=>this._resizeSubject.next(en)))}observe(Cn){return this._elementObservables.has(Cn)||this._elementObservables.set(Cn,new D.y(en=>{const xt=this._resizeSubject.subscribe(en);return this._resizeObserver?.observe(Cn,{box:this._box}),()=>{this._resizeObserver?.unobserve(Cn),xt.unsubscribe(),this._elementObservables.delete(Cn)}}).pipe((0,p.h)(en=>en.some(xt=>xt.target===Cn)),(0,f.d)({bufferSize:1,refCount:!0}),(0,L.R)(this._destroyed))),this._elementObservables.get(Cn)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let M=(()=>{class Gt{constructor(){this._observers=new Map,this._ngZone=(0,c.f3M)(c.R0b)}ngOnDestroy(){for(const[,en]of this._observers)en.destroy();this._observers.clear()}observe(en,xt){const ft=xt?.box||"content-box";return this._observers.has(ft)||this._observers.set(ft,new y(ft)),this._observers.get(ft).observe(en)}static#e=this.\u0275fac=function(xt){return new(xt||Gt)};static#t=this.\u0275prov=c.Yz7({token:Gt,factory:Gt.\u0275fac,providedIn:"root"})}return Gt})();var U=S(2495),R=S(6825),V=S(6814),k=S(7131),P=S(3680);const x=["notch"],O=["matFormFieldNotchedOutline",""],T=["*"],N=["textField"],C=["iconPrefixContainer"],B=["textPrefixContainer"];function Y(Gt,Cn){1&Gt&&c._UZ(0,"span",19)}function J(Gt,Cn){if(1&Gt&&(c.TgZ(0,"label",17),c.Hsn(1,1),c.YNc(2,Y,1,0,"span",18),c.qZA()),2&Gt){const en=c.oxw(2);c.Q6J("floating",en._shouldLabelFloat())("monitorResize",en._hasOutline())("id",en._labelId),c.uIk("for",en._control.id),c.xp6(2),c.Q6J("ngIf",!en.hideRequiredMarker&&en._control.required)}}function ce(Gt,Cn){if(1&Gt&&c.YNc(0,J,3,5,"label",16),2&Gt){const en=c.oxw();c.Q6J("ngIf",en._hasFloatingLabel())}}function Fe(Gt,Cn){1&Gt&&c._UZ(0,"div",20)}function q(Gt,Cn){}function le(Gt,Cn){if(1&Gt&&c.YNc(0,q,0,0,"ng-template",22),2&Gt){c.oxw(2);const en=c.MAs(1);c.Q6J("ngTemplateOutlet",en)}}function K(Gt,Cn){if(1&Gt&&(c.TgZ(0,"div",21),c.YNc(1,le,1,1,"ng-template",9),c.qZA()),2&Gt){const en=c.oxw();c.Q6J("matFormFieldNotchedOutlineOpen",en._shouldLabelFloat()),c.xp6(1),c.Q6J("ngIf",!en._forceDisplayInfixLabel())}}function _e(Gt,Cn){1&Gt&&(c.TgZ(0,"div",23,24),c.Hsn(2,2),c.qZA())}function se(Gt,Cn){1&Gt&&(c.TgZ(0,"div",25,26),c.Hsn(2,3),c.qZA())}function me(Gt,Cn){}function De(Gt,Cn){if(1&Gt&&c.YNc(0,me,0,0,"ng-template",22),2&Gt){c.oxw();const en=c.MAs(1);c.Q6J("ngTemplateOutlet",en)}}function Le(Gt,Cn){1&Gt&&(c.TgZ(0,"div",27),c.Hsn(1,4),c.qZA())}function he(Gt,Cn){1&Gt&&(c.TgZ(0,"div",28),c.Hsn(1,5),c.qZA())}function Re(Gt,Cn){1&Gt&&c._UZ(0,"div",29)}function Ie(Gt,Cn){if(1&Gt&&(c.TgZ(0,"div",30),c.Hsn(1,6),c.qZA()),2&Gt){const en=c.oxw();c.Q6J("@transitionMessages",en._subscriptAnimationState)}}function ge(Gt,Cn){if(1&Gt&&(c.TgZ(0,"mat-hint",34),c._uU(1),c.qZA()),2&Gt){const en=c.oxw(2);c.Q6J("id",en._hintLabelId),c.xp6(1),c.Oqu(en.hintLabel)}}function Ue(Gt,Cn){if(1&Gt&&(c.TgZ(0,"div",31),c.YNc(1,ge,2,2,"mat-hint",32),c.Hsn(2,7),c._UZ(3,"div",33),c.Hsn(4,8),c.qZA()),2&Gt){const en=c.oxw();c.Q6J("@transitionMessages",en._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",en.hintLabel)}}const ke=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],we=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Ke=(()=>{class Gt{static#e=this.\u0275fac=function(xt){return new(xt||Gt)};static#t=this.\u0275dir=c.lG2({type:Gt,selectors:[["mat-label"]]})}return Gt})(),st=0;const Qe=new c.OlP("MatError");let Ne=(()=>{class Gt{constructor(en,xt){this.id="mat-mdc-error-"+st++,en||xt.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(xt){return new(xt||Gt)(c.$8M("aria-live"),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:Gt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(xt,ft){2&xt&&c.Ikx("id",ft.id)},inputs:{id:"id"},features:[c._Bn([{provide:Qe,useExisting:Gt}])]})}return Gt})(),Se=0,W=(()=>{class Gt{constructor(){this.align="start",this.id="mat-mdc-hint-"+Se++}static#e=this.\u0275fac=function(xt){return new(xt||Gt)};static#t=this.\u0275dir=c.lG2({type:Gt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(xt,ft){2&xt&&(c.Ikx("id",ft.id),c.uIk("align",null),c.ekj("mat-mdc-form-field-hint-end","end"===ft.align))},inputs:{align:"align",id:"id"}})}return Gt})();const ae=new c.OlP("MatPrefix"),Q=new c.OlP("MatSuffix");let X=(()=>{class Gt{constructor(){this._isText=!1}set _isTextSelector(en){this._isText=!0}static#e=this.\u0275fac=function(xt){return new(xt||Gt)};static#t=this.\u0275dir=c.lG2({type:Gt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[c._Bn([{provide:Q,useExisting:Gt}])]})}return Gt})();const $=new c.OlP("FloatingLabelParent");let ie=(()=>{class Gt{get floating(){return this._floating}set floating(en){this._floating=en,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(en){this._monitorResize=en,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(en){this._elementRef=en,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,c.f3M)(M),this._ngZone=(0,c.f3M)(c.R0b),this._parent=(0,c.f3M)($),this._resizeSubscription=new w.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function re(Gt){if(null!==Gt.offsetParent)return Gt.scrollWidth;const en=Gt.cloneNode(!0);en.style.setProperty("position","absolute"),en.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(en);const xt=en.scrollWidth;return en.remove(),xt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(xt){return new(xt||Gt)(c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:Gt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(xt,ft){2&xt&&c.ekj("mdc-floating-label--float-above",ft.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return Gt})();const te="mdc-line-ripple--active",ee="mdc-line-ripple--deactivating";let fe=(()=>{class Gt{constructor(en,xt){this._elementRef=en,this._handleTransitionEnd=ft=>{const Xe=this._elementRef.nativeElement.classList,xe=Xe.contains(ee);"opacity"===ft.propertyName&&xe&&Xe.remove(te,ee)},xt.runOutsideAngular(()=>{en.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const en=this._elementRef.nativeElement.classList;en.remove(ee),en.add(te)}deactivate(){this._elementRef.nativeElement.classList.add(ee)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(xt){return new(xt||Gt)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275dir=c.lG2({type:Gt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return Gt})(),ye=(()=>{class Gt{constructor(en,xt){this._elementRef=en,this._ngZone=xt,this.open=!1}ngAfterViewInit(){const en=this._elementRef.nativeElement.querySelector(".mdc-floating-label");en?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(en.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>en.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(en){this._notch.nativeElement.style.width=this.open&&en?`calc(${en}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(xt){return new(xt||Gt)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275cmp=c.Xpm({type:Gt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(xt,ft){if(1&xt&&c.Gf(x,5),2&xt){let Xe;c.iGM(Xe=c.CRH())&&(ft._notch=Xe.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(xt,ft){2&xt&&c.ekj("mdc-notched-outline--notched",ft.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:O,ngContentSelectors:T,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(xt,ft){1&xt&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1,2),c.Hsn(3),c.qZA(),c._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return Gt})();const ue={transitionMessages:(0,R.X$)("transitionMessages",[(0,R.SB)("enter",(0,R.oB)({opacity:1,transform:"translateY(0%)"})),(0,R.eR)("void => enter",[(0,R.oB)({opacity:0,transform:"translateY(-5px)"}),(0,R.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Me=(()=>{class Gt{static#e=this.\u0275fac=function(xt){return new(xt||Gt)};static#t=this.\u0275dir=c.lG2({type:Gt})}return Gt})();const ct=new c.OlP("MatFormField"),rt=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let _t=0,cn=(()=>{class Gt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(en){this._hideRequiredMarker=(0,U.Ig)(en)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(en){en!==this._floatLabel&&(this._floatLabel=en,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(en){const xt=this._appearance;this._appearance=en||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==xt&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(en){this._subscriptSizing=en||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(en){this._hintLabel=en,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(en){this._explicitFormFieldControl=en}constructor(en,xt,ft,Xe,xe,Oe,We,$e){this._elementRef=en,this._changeDetectorRef=xt,this._ngZone=ft,this._dir=Xe,this._platform=xe,this._defaults=Oe,this._animationMode=We,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+_t++,this._hintLabelId="mat-mdc-hint-"+_t++,this._subscriptAnimationState="",this._destroyed=new E.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,Oe&&(Oe.appearance&&(this.appearance=Oe.appearance),this._hideRequiredMarker=!!Oe?.hideRequiredMarker,Oe.color&&(this.color=Oe.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const en=this._control;en.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${en.controlType}`),en.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),en.ngControl&&en.ngControl.valueChanges&&en.ngControl.valueChanges.pipe((0,L.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(en=>!en._isText),this._hasTextPrefix=!!this._prefixChildren.find(en=>en._isText),this._hasIconSuffix=!!this._suffixChildren.find(en=>!en._isText),this._hasTextSuffix=!!this._suffixChildren.find(en=>en._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,F.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,L.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,L.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(en){const xt=this._control?this._control.ngControl:null;return xt&&xt[en]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let en=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&en.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const xt=this._hintChildren?this._hintChildren.find(Xe=>"start"===Xe.align):null,ft=this._hintChildren?this._hintChildren.find(Xe=>"end"===Xe.align):null;xt?en.push(xt.id):this._hintLabel&&en.push(this._hintLabelId),ft&&en.push(ft.id)}else this._errorChildren&&en.push(...this._errorChildren.map(xt=>xt.id));this._control.setDescribedByIds(en)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const en=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(en.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const xt=this._iconPrefixContainer?.nativeElement,ft=this._textPrefixContainer?.nativeElement,Xe=xt?.getBoundingClientRect().width??0,xe=ft?.getBoundingClientRect().width??0;en.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${Xe+xe}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const en=this._elementRef.nativeElement;if(en.getRootNode){const xt=en.getRootNode();return xt&&xt!==en}return document.documentElement.contains(en)}static#e=this.\u0275fac=function(xt){return new(xt||Gt)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(t.Is),c.Y36(b.t4),c.Y36(rt,8),c.Y36(c.QbO,8),c.Y36(V.K0))};static#t=this.\u0275cmp=c.Xpm({type:Gt,selectors:[["mat-form-field"]],contentQueries:function(xt,ft,Xe){if(1&xt&&(c.Suo(Xe,Ke,5),c.Suo(Xe,Ke,7),c.Suo(Xe,Me,5),c.Suo(Xe,ae,5),c.Suo(Xe,Q,5),c.Suo(Xe,Qe,5),c.Suo(Xe,W,5)),2&xt){let xe;c.iGM(xe=c.CRH())&&(ft._labelChildNonStatic=xe.first),c.iGM(xe=c.CRH())&&(ft._labelChildStatic=xe.first),c.iGM(xe=c.CRH())&&(ft._formFieldControl=xe.first),c.iGM(xe=c.CRH())&&(ft._prefixChildren=xe),c.iGM(xe=c.CRH())&&(ft._suffixChildren=xe),c.iGM(xe=c.CRH())&&(ft._errorChildren=xe),c.iGM(xe=c.CRH())&&(ft._hintChildren=xe)}},viewQuery:function(xt,ft){if(1&xt&&(c.Gf(N,5),c.Gf(C,5),c.Gf(B,5),c.Gf(ie,5),c.Gf(ye,5),c.Gf(fe,5)),2&xt){let Xe;c.iGM(Xe=c.CRH())&&(ft._textField=Xe.first),c.iGM(Xe=c.CRH())&&(ft._iconPrefixContainer=Xe.first),c.iGM(Xe=c.CRH())&&(ft._textPrefixContainer=Xe.first),c.iGM(Xe=c.CRH())&&(ft._floatingLabel=Xe.first),c.iGM(Xe=c.CRH())&&(ft._notchedOutline=Xe.first),c.iGM(Xe=c.CRH())&&(ft._lineRipple=Xe.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(xt,ft){2&xt&&c.ekj("mat-mdc-form-field-label-always-float",ft._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",ft._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",ft._hasIconSuffix)("mat-form-field-invalid",ft._control.errorState)("mat-form-field-disabled",ft._control.disabled)("mat-form-field-autofilled",ft._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===ft._animationMode)("mat-form-field-appearance-fill","fill"==ft.appearance)("mat-form-field-appearance-outline","outline"==ft.appearance)("mat-form-field-hide-placeholder",ft._hasFloatingLabel()&&!ft._shouldLabelFloat())("mat-focused",ft._control.focused)("mat-primary","accent"!==ft.color&&"warn"!==ft.color)("mat-accent","accent"===ft.color)("mat-warn","warn"===ft.color)("ng-untouched",ft._shouldForward("untouched"))("ng-touched",ft._shouldForward("touched"))("ng-pristine",ft._shouldForward("pristine"))("ng-dirty",ft._shouldForward("dirty"))("ng-valid",ft._shouldForward("valid"))("ng-invalid",ft._shouldForward("invalid"))("ng-pending",ft._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:ct,useExisting:Gt},{provide:$,useExisting:Gt}])],ngContentSelectors:we,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(xt,ft){1&xt&&(c.F$t(ke),c.YNc(0,ce,1,1,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.NdJ("click",function(xe){return ft._control.onContainerClick(xe)}),c.YNc(4,Fe,1,0,"div",3),c.TgZ(5,"div",4),c.YNc(6,K,2,2,"div",5),c.YNc(7,_e,3,0,"div",6),c.YNc(8,se,3,0,"div",7),c.TgZ(9,"div",8),c.YNc(10,De,1,1,"ng-template",9),c.Hsn(11),c.qZA(),c.YNc(12,Le,2,0,"div",10),c.YNc(13,he,2,0,"div",11),c.qZA(),c.YNc(14,Re,1,0,"div",12),c.qZA(),c.TgZ(15,"div",13),c.YNc(16,Ie,2,1,"div",14),c.YNc(17,Ue,5,2,"div",15),c.qZA()),2&xt&&(c.xp6(2),c.ekj("mdc-text-field--filled",!ft._hasOutline())("mdc-text-field--outlined",ft._hasOutline())("mdc-text-field--no-label",!ft._hasFloatingLabel())("mdc-text-field--disabled",ft._control.disabled)("mdc-text-field--invalid",ft._control.errorState),c.xp6(2),c.Q6J("ngIf",!ft._hasOutline()&&!ft._control.disabled),c.xp6(2),c.Q6J("ngIf",ft._hasOutline()),c.xp6(1),c.Q6J("ngIf",ft._hasIconPrefix),c.xp6(1),c.Q6J("ngIf",ft._hasTextPrefix),c.xp6(2),c.Q6J("ngIf",!ft._hasOutline()||ft._forceDisplayInfixLabel()),c.xp6(2),c.Q6J("ngIf",ft._hasTextSuffix),c.xp6(1),c.Q6J("ngIf",ft._hasIconSuffix),c.xp6(1),c.Q6J("ngIf",!ft._hasOutline()),c.xp6(1),c.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===ft.subscriptSizing),c.Q6J("ngSwitch",ft._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[V.O5,V.tP,V.RF,V.n9,W,ie,ye,fe],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[ue.transitionMessages]},changeDetection:0})}return Gt})(),dn=(()=>{class Gt{static#e=this.\u0275fac=function(xt){return new(xt||Gt)};static#t=this.\u0275mod=c.oAB({type:Gt});static#n=this.\u0275inj=c.cJS({imports:[P.BQ,V.ez,k.Q8,P.BQ]})}return Gt})()},2032:(jn,nt,S)=>{"use strict";S.d(nt,{Jk:()=>R,Nt:()=>x,c:()=>O});var c=S(2495),t=S(2831),b=S(5879),w=S(6232),E=S(8645);const F=(0,t.i$)({passive:!0});let L=(()=>{class T{constructor(C,B){this._platform=C,this._ngZone=B,this._monitoredElements=new Map}monitor(C){if(!this._platform.isBrowser)return w.E;const B=(0,c.fI)(C),Y=this._monitoredElements.get(B);if(Y)return Y.subject;const J=new E.x,ce="cdk-text-field-autofilled",Fe=q=>{"cdk-text-field-autofill-start"!==q.animationName||B.classList.contains(ce)?"cdk-text-field-autofill-end"===q.animationName&&B.classList.contains(ce)&&(B.classList.remove(ce),this._ngZone.run(()=>J.next({target:q.target,isAutofilled:!1}))):(B.classList.add(ce),this._ngZone.run(()=>J.next({target:q.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{B.addEventListener("animationstart",Fe,F),B.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(B,{subject:J,unlisten:()=>{B.removeEventListener("animationstart",Fe,F)}}),J}stopMonitoring(C){const B=(0,c.fI)(C),Y=this._monitoredElements.get(B);Y&&(Y.unlisten(),Y.subject.complete(),B.classList.remove("cdk-text-field-autofill-monitored"),B.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(B))}ngOnDestroy(){this._monitoredElements.forEach((C,B)=>this.stopMonitoring(B))}static#e=this.\u0275fac=function(B){return new(B||T)(b.LFG(t.t4),b.LFG(b.R0b))};static#t=this.\u0275prov=b.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),f=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=b.oAB({type:T});static#n=this.\u0275inj=b.cJS({})}return T})();var g=S(95),y=S(3680),M=S(4170);const R=new b.OlP("MAT_INPUT_VALUE_ACCESSOR"),V=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let k=0;const P=(0,y.FD)(class{constructor(T,N,C,B){this._defaultErrorStateMatcher=T,this._parentForm=N,this._parentFormGroup=C,this.ngControl=B,this.stateChanges=new E.x}});let x=(()=>{class T extends P{get disabled(){return this._disabled}set disabled(C){this._disabled=(0,c.Ig)(C),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(C){this._id=C||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(g.kI.required)??!1}set required(C){this._required=(0,c.Ig)(C)}get type(){return this._type}set type(C){this._type=C||"text",this._validateType(),!this._isTextarea&&(0,t.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(C){C!==this.value&&(this._inputValueAccessor.value=C,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(C){this._readonly=(0,c.Ig)(C)}constructor(C,B,Y,J,ce,Fe,q,le,K,_e){super(Fe,J,ce,Y),this._elementRef=C,this._platform=B,this._autofillMonitor=le,this._formField=_e,this._uid="mat-input-"+k++,this.focused=!1,this.stateChanges=new E.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(De=>(0,t.qK)().has(De)),this._iOSKeyupListener=De=>{const Le=De.target;!Le.value&&0===Le.selectionStart&&0===Le.selectionEnd&&(Le.setSelectionRange(1,1),Le.setSelectionRange(0,0))};const se=this._elementRef.nativeElement,me=se.nodeName.toLowerCase();this._inputValueAccessor=q||se,this._previousNativeValue=this.value,this.id=this.id,B.IOS&&K.runOutsideAngular(()=>{C.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===me,this._isTextarea="textarea"===me,this._isInFormField=!!_e,this._isNativeSelect&&(this.controlType=se.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(C=>{this.autofilled=C.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(C){this._elementRef.nativeElement.focus(C)}_focusChanged(C){C!==this.focused&&(this.focused=C,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const C=this._elementRef.nativeElement.value;this._previousNativeValue!==C&&(this._previousNativeValue=C,this.stateChanges.next())}_dirtyCheckPlaceholder(){const C=this._getPlaceholder();if(C!==this._previousPlaceholder){const B=this._elementRef.nativeElement;this._previousPlaceholder=C,C?B.setAttribute("placeholder",C):B.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){V.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let C=this._elementRef.nativeElement.validity;return C&&C.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const C=this._elementRef.nativeElement,B=C.options[0];return this.focused||C.multiple||!this.empty||!!(C.selectedIndex>-1&&B&&B.label)}return this.focused||!this.empty}setDescribedByIds(C){C.length?this._elementRef.nativeElement.setAttribute("aria-describedby",C.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const C=this._elementRef.nativeElement;return this._isNativeSelect&&(C.multiple||C.size>1)}static#e=this.\u0275fac=function(B){return new(B||T)(b.Y36(b.SBq),b.Y36(t.t4),b.Y36(g.a5,10),b.Y36(g.F,8),b.Y36(g.sg,8),b.Y36(y.rD),b.Y36(R,10),b.Y36(L),b.Y36(b.R0b),b.Y36(M.G_,8))};static#t=this.\u0275dir=b.lG2({type:T,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(B,Y){1&B&&b.NdJ("focus",function(){return Y._focusChanged(!0)})("blur",function(){return Y._focusChanged(!1)})("input",function(){return Y._onInput()}),2&B&&(b.Ikx("id",Y.id)("disabled",Y.disabled)("required",Y.required),b.uIk("name",Y.name||null)("readonly",Y.readonly&&!Y._isNativeSelect||null)("aria-invalid",Y.empty&&Y.required?null:Y.errorState)("aria-required",Y.required)("id",Y.id),b.ekj("mat-input-server",Y._isServer)("mat-mdc-form-field-textarea-control",Y._isInFormField&&Y._isTextarea)("mat-mdc-form-field-input-control",Y._isInFormField)("mdc-text-field__input",Y._isInFormField)("mat-mdc-native-select-inline",Y._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[b._Bn([{provide:M.Eo,useExisting:T}]),b.qOj,b.TTD]})}return T})(),O=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=b.oAB({type:T});static#n=this.\u0275inj=b.cJS({imports:[y.BQ,M.lN,M.lN,f,y.BQ]})}return T})()},1476:(jn,nt,S)=>{"use strict";S.d(nt,{NW:()=>Y,TU:()=>J,ye:()=>V});var c=S(6814),t=S(5879),b=S(8645),w=S(2296),E=S(8525),F=S(2596),L=S(3680),D=S(2495),p=S(4170);function f(ce,Fe){if(1&ce&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&ce){const q=Fe.$implicit;t.Q6J("value",q),t.xp6(1),t.hij(" ",q," ")}}function g(ce,Fe){if(1&ce){const q=t.EpF();t.TgZ(0,"mat-form-field",16)(1,"mat-select",17),t.NdJ("selectionChange",function(K){t.CHM(q);const _e=t.oxw(2);return t.KtG(_e._changePageSize(K.value))}),t.YNc(2,f,2,2,"mat-option",18),t.qZA()()}if(2&ce){const q=t.oxw(2);t.Q6J("appearance",q._formFieldAppearance)("color",q.color),t.xp6(1),t.Q6J("value",q.pageSize)("disabled",q.disabled)("aria-labelledby",q._pageSizeLabelId)("panelClass",q.selectConfig.panelClass||"")("disableOptionCentering",q.selectConfig.disableOptionCentering),t.xp6(1),t.Q6J("ngForOf",q._displayedPageSizeOptions)}}function y(ce,Fe){if(1&ce&&(t.TgZ(0,"div",20),t._uU(1),t.qZA()),2&ce){const q=t.oxw(2);t.xp6(1),t.Oqu(q.pageSize)}}function M(ce,Fe){if(1&ce&&(t.TgZ(0,"div",12)(1,"div",13),t._uU(2),t.qZA(),t.YNc(3,g,3,8,"mat-form-field",14),t.YNc(4,y,2,1,"div",15),t.qZA()),2&ce){const q=t.oxw();t.xp6(1),t.s9C("id",q._pageSizeLabelId),t.xp6(1),t.hij(" ",q._intl.itemsPerPageLabel," "),t.xp6(1),t.Q6J("ngIf",q._displayedPageSizeOptions.length>1),t.xp6(1),t.Q6J("ngIf",q._displayedPageSizeOptions.length<=1)}}function U(ce,Fe){if(1&ce){const q=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(q);const K=t.oxw();return t.KtG(K.firstPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",22),t.qZA()()}if(2&ce){const q=t.oxw();t.Q6J("matTooltip",q._intl.firstPageLabel)("matTooltipDisabled",q._previousButtonsDisabled())("matTooltipPosition","above")("disabled",q._previousButtonsDisabled()),t.uIk("aria-label",q._intl.firstPageLabel)}}function R(ce,Fe){if(1&ce){const q=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(q);const K=t.oxw();return t.KtG(K.lastPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",24),t.qZA()()}if(2&ce){const q=t.oxw();t.Q6J("matTooltip",q._intl.lastPageLabel)("matTooltipDisabled",q._nextButtonsDisabled())("matTooltipPosition","above")("disabled",q._nextButtonsDisabled()),t.uIk("aria-label",q._intl.lastPageLabel)}}let V=(()=>{class ce{constructor(){this.changes=new b.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(q,le,K)=>{if(0==K||0==le)return`0 of ${K}`;const _e=q*le;return`${_e+1} \u2013 ${_e<(K=Math.max(K,0))?Math.min(_e+le,K):_e+le} of ${K}`}}static#e=this.\u0275fac=function(le){return new(le||ce)};static#t=this.\u0275prov=t.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();const P={provide:V,deps:[[new t.FiY,new t.tp0,V]],useFactory:function k(ce){return ce||new V}},T=new t.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),N=(0,L.Id)((0,L.dB)(class{}));let C=(()=>{class ce extends N{get pageIndex(){return this._pageIndex}set pageIndex(q){this._pageIndex=Math.max((0,D.su)(q),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(q){this._length=(0,D.su)(q),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(q){this._pageSize=Math.max((0,D.su)(q),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(q){this._pageSizeOptions=(q||[]).map(le=>(0,D.su)(le)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(q){this._hidePageSize=(0,D.Ig)(q)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(q){this._showFirstLastButtons=(0,D.Ig)(q)}constructor(q,le,K){if(super(),this._intl=q,this._changeDetectorRef=le,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new t.vpe,this._intlChanges=q.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),K){const{pageSize:_e,pageSizeOptions:se,hidePageSize:me,showFirstLastButtons:De}=K;null!=_e&&(this._pageSize=_e),null!=se&&(this._pageSizeOptions=se),null!=me&&(this._hidePageSize=me),null!=De&&(this._showFirstLastButtons=De)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const q=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(q)}previousPage(){if(!this.hasPreviousPage())return;const q=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(q)}firstPage(){if(!this.hasPreviousPage())return;const q=this.pageIndex;this.pageIndex=0,this._emitPageEvent(q)}lastPage(){if(!this.hasNextPage())return;const q=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(q)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const q=this.getNumberOfPages()-1;return this.pageIndex<q&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(q){const K=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/q)||0,this.pageSize=q,this._emitPageEvent(K)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((q,le)=>q-le),this._changeDetectorRef.markForCheck())}_emitPageEvent(q){this.page.emit({previousPageIndex:q,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(le){t.$Z()};static#t=this.\u0275dir=t.lG2({type:ce,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[t.qOj]})}return ce})(),B=0,Y=(()=>{class ce extends C{constructor(q,le,K){super(q,le,K),this._pageSizeLabelId="mat-paginator-page-size-label-"+B++,this._formFieldAppearance=K?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(le){return new(le||ce)(t.Y36(V),t.Y36(t.sBO),t.Y36(T,8))};static#t=this.\u0275cmp=t.Xpm({type:ce,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[t.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(le,K){1&le&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,M,5,4,"div",2),t.TgZ(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.YNc(6,U,3,5,"button",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return K.previousPage()}),t.O4$(),t.TgZ(8,"svg",7),t._UZ(9,"path",8),t.qZA()(),t.kcU(),t.TgZ(10,"button",9),t.NdJ("click",function(){return K.nextPage()}),t.O4$(),t.TgZ(11,"svg",7),t._UZ(12,"path",10),t.qZA()(),t.YNc(13,R,3,5,"button",11),t.qZA()()()),2&le&&(t.xp6(2),t.Q6J("ngIf",!K.hidePageSize),t.xp6(3),t.hij(" ",K._intl.getRangeLabel(K.pageIndex,K.pageSize,K.length)," "),t.xp6(1),t.Q6J("ngIf",K.showFirstLastButtons),t.xp6(1),t.Q6J("matTooltip",K._intl.previousPageLabel)("matTooltipDisabled",K._previousButtonsDisabled())("matTooltipPosition","above")("disabled",K._previousButtonsDisabled()),t.uIk("aria-label",K._intl.previousPageLabel),t.xp6(3),t.Q6J("matTooltip",K._intl.nextPageLabel)("matTooltipDisabled",K._nextButtonsDisabled())("matTooltipPosition","above")("disabled",K._nextButtonsDisabled()),t.uIk("aria-label",K._intl.nextPageLabel),t.xp6(3),t.Q6J("ngIf",K.showFirstLastButtons))},dependencies:[c.sg,c.O5,w.RK,p.KE,E.gD,L.ey,F.gM],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return ce})(),J=(()=>{class ce{static#e=this.\u0275fac=function(le){return new(le||ce)};static#t=this.\u0275mod=t.oAB({type:ce});static#n=this.\u0275inj=t.cJS({providers:[P],imports:[c.ez,w.ot,E.LD,F.AV]})}return ce})()},5940:(jn,nt,S)=>{"use strict";S.d(nt,{Cq:()=>U,Ou:()=>y});var c=S(5879),t=S(3680),b=S(2495),w=S(6814);const E=["determinateSpinner"];function F(R,V){if(1&R&&(c.O4$(),c.TgZ(0,"svg",11),c._UZ(1,"circle",12),c.qZA()),2&R){const k=c.oxw();c.uIk("viewBox",k._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",k._strokeCircumference(),"px")("stroke-dashoffset",k._strokeCircumference()/2,"px")("stroke-width",k._circleStrokeWidth(),"%"),c.uIk("r",k._circleRadius())}}const L=(0,t.pj)(class{constructor(R){this._elementRef=R}},"primary"),D=new c.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function p(){return{diameter:f}}}),f=100;let y=(()=>{class R extends L{constructor(k,P,x){super(k),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=f,this._noopAnimations="NoopAnimations"===P&&!!x&&!x._forceAnimations,x&&(x.color&&(this.color=this.defaultColor=x.color),x.diameter&&(this.diameter=x.diameter),x.strokeWidth&&(this.strokeWidth=x.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(k){this._value=Math.max(0,Math.min(100,(0,b.su)(k)))}get diameter(){return this._diameter}set diameter(k){this._diameter=(0,b.su)(k)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(k){this._strokeWidth=(0,b.su)(k)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const k=2*this._circleRadius()+this.strokeWidth;return`0 0 ${k} ${k}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(P){return new(P||R)(c.Y36(c.SBq),c.Y36(c.QbO,8),c.Y36(D))};static#t=this.\u0275cmp=c.Xpm({type:R,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(P,x){if(1&P&&c.Gf(E,5),2&P){let O;c.iGM(O=c.CRH())&&(x._determinateCircle=O.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(P,x){2&P&&(c.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===x.mode?x.value:null)("mode",x.mode),c.Udp("width",x.diameter,"px")("height",x.diameter,"px")("--mdc-circular-progress-size",x.diameter+"px")("--mdc-circular-progress-active-indicator-width",x.diameter+"px"),c.ekj("_mat-animation-noopable",x._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===x.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[c.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(P,x){if(1&P&&(c.YNc(0,F,2,8,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.O4$(),c.TgZ(4,"svg",3),c._UZ(5,"circle",4),c.qZA()(),c.kcU(),c.TgZ(6,"div",5)(7,"div",6)(8,"div",7),c.GkF(9,8),c.qZA(),c.TgZ(10,"div",9),c.GkF(11,8),c.qZA(),c.TgZ(12,"div",10),c.GkF(13,8),c.qZA()()()),2&P){const O=c.MAs(1);c.xp6(4),c.uIk("viewBox",x._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",x._strokeCircumference(),"px")("stroke-dashoffset",x._strokeDashOffset(),"px")("stroke-width",x._circleStrokeWidth(),"%"),c.uIk("r",x._circleRadius()),c.xp6(4),c.Q6J("ngTemplateOutlet",O),c.xp6(2),c.Q6J("ngTemplateOutlet",O),c.xp6(2),c.Q6J("ngTemplateOutlet",O)}},dependencies:[w.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return R})(),U=(()=>{class R{static#e=this.\u0275fac=function(P){return new(P||R)};static#t=this.\u0275mod=c.oAB({type:R});static#n=this.\u0275inj=c.cJS({imports:[w.ez,t.BQ]})}return R})()},8525:(jn,nt,S)=>{"use strict";S.d(nt,{LD:()=>Se,gD:()=>Ne});var c=S(3651),t=S(6814),b=S(5879),w=S(3680),E=S(4170),F=S(799),L=S(4300),D=S(9388),p=S(2495),f=S(8337),g=S(6028),y=S(95),M=S(8645),U=S(4911),R=S(3019),V=S(7921),k=S(4664),P=S(8180),x=S(2181),O=S(7398),T=S(3997),N=S(9773),C=S(6825);const B=["trigger"],Y=["panel"];function J(W,ae){if(1&W&&(b.TgZ(0,"span",10),b._uU(1),b.qZA()),2&W){const ve=b.oxw();b.xp6(1),b.Oqu(ve.placeholder)}}function ce(W,ae){if(1&W&&(b.TgZ(0,"span",14),b._uU(1),b.qZA()),2&W){const ve=b.oxw(2);b.xp6(1),b.Oqu(ve.triggerValue)}}function Fe(W,ae){1&W&&b.Hsn(0,0,["*ngSwitchCase","true"])}function q(W,ae){if(1&W&&(b.TgZ(0,"span",11),b.YNc(1,ce,2,1,"span",12),b.YNc(2,Fe,1,0,"ng-content",13),b.qZA()),2&W){const ve=b.oxw();b.Q6J("ngSwitch",!!ve.customTrigger),b.xp6(2),b.Q6J("ngSwitchCase",!0)}}function le(W,ae){if(1&W){const ve=b.EpF();b.O4$(),b.kcU(),b.TgZ(0,"div",15,16),b.NdJ("@transformPanel.done",function(X){b.CHM(ve);const $=b.oxw();return b.KtG($._panelDoneAnimatingStream.next(X.toState))})("keydown",function(X){b.CHM(ve);const $=b.oxw();return b.KtG($._handleKeydown(X))}),b.Hsn(2,1),b.qZA()}if(2&W){const ve=b.oxw();b.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",ve._getPanelTheme(),""),b.Q6J("ngClass",ve.panelClass)("@transformPanel","showing"),b.uIk("id",ve.id+"-panel")("aria-multiselectable",ve.multiple)("aria-label",ve.ariaLabel||null)("aria-labelledby",ve._getPanelAriaLabelledby())}}const K=[[["mat-select-trigger"]],"*"],_e=["mat-select-trigger","*"],se={transformPanelWrap:(0,C.X$)("transformPanelWrap",[(0,C.eR)("* => void",(0,C.IO)("@transformPanel",[(0,C.pV)()],{optional:!0}))]),transformPanel:(0,C.X$)("transformPanel",[(0,C.SB)("void",(0,C.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,C.eR)("void => showing",(0,C.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,C.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,C.eR)("* => void",(0,C.jt)("100ms linear",(0,C.oB)({opacity:0})))])};let he=0;const Re=new b.OlP("mat-select-scroll-strategy"),ge=new b.OlP("MAT_SELECT_CONFIG"),Ue={provide:Re,deps:[c.aV],useFactory:function Ie(W){return()=>W.scrollStrategies.reposition()}},ke=new b.OlP("MatSelectTrigger");class we{constructor(ae,ve){this.source=ae,this.value=ve}}const Ke=(0,w.Kr)((0,w.sb)((0,w.Id)((0,w.FD)(class{constructor(W,ae,ve,Q,X){this._elementRef=W,this._defaultErrorStateMatcher=ae,this._parentForm=ve,this._parentFormGroup=Q,this.ngControl=X,this.stateChanges=new M.x}}))));let st=(()=>{class W extends Ke{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(ve){this._placeholder=ve,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(y.kI.required)??!1}set required(ve){this._required=(0,p.Ig)(ve),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(ve){this._multiple=(0,p.Ig)(ve)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(ve){this._disableOptionCentering=(0,p.Ig)(ve)}get compareWith(){return this._compareWith}set compareWith(ve){this._compareWith=ve,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(ve){this._assignValue(ve)&&this._onChange(ve)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(ve){this._typeaheadDebounceInterval=(0,p.su)(ve)}get id(){return this._id}set id(ve){this._id=ve||this._uid,this.stateChanges.next()}constructor(ve,Q,X,$,ie,re,te,ee,fe,ye,ue,Me,Ye,Ge){super(ie,$,te,ee,ye),this._viewportRuler=ve,this._changeDetectorRef=Q,this._ngZone=X,this._dir=re,this._parentFormField=fe,this._liveAnnouncer=Ye,this._defaultOptions=Ge,this._panelOpen=!1,this._compareWith=(at,ct)=>at===ct,this._uid="mat-select-"+he++,this._triggerAriaLabelledBy=null,this._destroy=new M.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+he++,this._panelDoneAnimatingStream=new M.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,U.P)(()=>{const at=this.options;return at?at.changes.pipe((0,V.O)(at),(0,k.w)(()=>(0,R.T)(...at.map(ct=>ct.onSelectionChange)))):this._ngZone.onStable.pipe((0,P.q)(1),(0,k.w)(()=>this.optionSelectionChanges))}),this.openedChange=new b.vpe,this._openedStream=this.openedChange.pipe((0,x.h)(at=>at),(0,O.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,x.h)(at=>!at),(0,O.U)(()=>{})),this.selectionChange=new b.vpe,this.valueChange=new b.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Ge?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=Ge.typeaheadDebounceInterval),this._scrollStrategyFactory=Me,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(ue)||0,this.id=this.id}ngOnInit(){this._selectionModel=new f.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,T.x)(),(0,N.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,N.R)(this._destroy)).subscribe(ve=>{ve.added.forEach(Q=>Q.select()),ve.removed.forEach(Q=>Q.deselect())}),this.options.changes.pipe((0,V.O)(null),(0,N.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const ve=this._getTriggerAriaLabelledby(),Q=this.ngControl;if(ve!==this._triggerAriaLabelledBy){const X=this._elementRef.nativeElement;this._triggerAriaLabelledBy=ve,ve?X.setAttribute("aria-labelledby",ve):X.removeAttribute("aria-labelledby")}Q&&(this._previousControl!==Q.control&&(void 0!==this._previousControl&&null!==Q.disabled&&Q.disabled!==this.disabled&&(this.disabled=Q.disabled),this._previousControl=Q.control),this.updateErrorState())}ngOnChanges(ve){(ve.disabled||ve.userAriaDescribedBy)&&this.stateChanges.next(),ve.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const ve=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!ve)return;const Q=`${this.id}-panel`;this._trackedModal&&(0,L.iD)(this._trackedModal,"aria-owns",Q),(0,L.Zf)(ve,"aria-owns",Q),this._trackedModal=ve}_clearFromModal(){this._trackedModal&&((0,L.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(ve){this._assignValue(ve)}registerOnChange(ve){this._onChange=ve}registerOnTouched(ve){this._onTouched=ve}setDisabledState(ve){this.disabled=ve,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const ve=this._selectionModel.selected.map(Q=>Q.viewValue);return this._isRtl()&&ve.reverse(),ve.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(ve){this.disabled||(this.panelOpen?this._handleOpenKeydown(ve):this._handleClosedKeydown(ve))}_handleClosedKeydown(ve){const Q=ve.keyCode,X=Q===g.JH||Q===g.LH||Q===g.oh||Q===g.SV,$=Q===g.K5||Q===g.L_,ie=this._keyManager;if(!ie.isTyping()&&$&&!(0,g.Vb)(ve)||(this.multiple||ve.altKey)&&X)ve.preventDefault(),this.open();else if(!this.multiple){const re=this.selected;ie.onKeydown(ve);const te=this.selected;te&&re!==te&&this._liveAnnouncer.announce(te.viewValue,1e4)}}_handleOpenKeydown(ve){const Q=this._keyManager,X=ve.keyCode,$=X===g.JH||X===g.LH,ie=Q.isTyping();if($&&ve.altKey)ve.preventDefault(),this.close();else if(ie||X!==g.K5&&X!==g.L_||!Q.activeItem||(0,g.Vb)(ve))if(!ie&&this._multiple&&X===g.A&&ve.ctrlKey){ve.preventDefault();const re=this.options.some(te=>!te.disabled&&!te.selected);this.options.forEach(te=>{te.disabled||(re?te.select():te.deselect())})}else{const re=Q.activeItemIndex;Q.onKeydown(ve),this._multiple&&$&&ve.shiftKey&&Q.activeItem&&Q.activeItemIndex!==re&&Q.activeItem._selectViaInteraction()}else ve.preventDefault(),Q.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,P.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(ve){if(this.options.forEach(Q=>Q.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&ve)Array.isArray(ve),ve.forEach(Q=>this._selectOptionByValue(Q)),this._sortValues();else{const Q=this._selectOptionByValue(ve);Q?this._keyManager.updateActiveItem(Q):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(ve){const Q=this.options.find(X=>{if(this._selectionModel.isSelected(X))return!1;try{return null!=X.value&&this._compareWith(X.value,ve)}catch{return!1}});return Q&&this._selectionModel.select(Q),Q}_assignValue(ve){return!!(ve!==this._value||this._multiple&&Array.isArray(ve))&&(this.options&&this._setSelectionByValue(ve),this._value=ve,!0)}_skipPredicate(ve){return ve.disabled}_initKeyManager(){this._keyManager=new L.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const ve=(0,R.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,N.R)(ve)).subscribe(Q=>{this._onSelect(Q.source,Q.isUserInput),Q.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,R.T)(...this.options.map(Q=>Q._stateChanges)).pipe((0,N.R)(ve)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(ve,Q){const X=this._selectionModel.isSelected(ve);null!=ve.value||this._multiple?(X!==ve.selected&&(ve.selected?this._selectionModel.select(ve):this._selectionModel.deselect(ve)),Q&&this._keyManager.setActiveItem(ve),this.multiple&&(this._sortValues(),Q&&this.focus())):(ve.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(ve.value)),X!==this._selectionModel.isSelected(ve)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const ve=this.options.toArray();this._selectionModel.sort((Q,X)=>this.sortComparator?this.sortComparator(Q,X,ve):ve.indexOf(Q)-ve.indexOf(X)),this.stateChanges.next()}}_propagateChanges(ve){let Q=null;Q=this.multiple?this.selected.map(X=>X.value):this.selected?this.selected.value:ve,this._value=Q,this.valueChange.emit(Q),this._onChange(Q),this.selectionChange.emit(this._getChangeEvent(Q)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let ve=-1;for(let Q=0;Q<this.options.length;Q++)if(!this.options.get(Q).disabled){ve=Q;break}this._keyManager.setActiveItem(ve)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(ve){this._elementRef.nativeElement.focus(ve)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const ve=this._parentFormField?.getLabelId();return this.ariaLabelledby?(ve?ve+" ":"")+this.ariaLabelledby:ve}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const ve=this._parentFormField?.getLabelId();let Q=(ve?ve+" ":"")+this._valueId;return this.ariaLabelledby&&(Q+=" "+this.ariaLabelledby),Q}_panelDoneAnimating(ve){this.openedChange.emit(ve)}setDescribedByIds(ve){ve.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ve.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(Q){return new(Q||W)(b.Y36(F.rL),b.Y36(b.sBO),b.Y36(b.R0b),b.Y36(w.rD),b.Y36(b.SBq),b.Y36(D.Is,8),b.Y36(y.F,8),b.Y36(y.sg,8),b.Y36(E.G_,8),b.Y36(y.a5,10),b.$8M("tabindex"),b.Y36(Re),b.Y36(L.Kd),b.Y36(ge,8))};static#t=this.\u0275dir=b.lG2({type:W,viewQuery:function(Q,X){if(1&Q&&(b.Gf(B,5),b.Gf(Y,5),b.Gf(c.pI,5)),2&Q){let $;b.iGM($=b.CRH())&&(X.trigger=$.first),b.iGM($=b.CRH())&&(X.panel=$.first),b.iGM($=b.CRH())&&(X._overlayDir=$.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[b.qOj,b.TTD]})}return W})(),Ne=(()=>{class W extends st{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=ve=>!this.panelOpen&&ve.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,N.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(ve){const Q=this.options.toArray()[ve];if(Q){const X=this.panel.nativeElement,$=(0,w.CB)(ve,this.options,this.optionGroups),ie=Q._getHostElement();X.scrollTop=0===ve&&1===$?0:(0,w.jH)(ie.offsetTop,ie.offsetHeight,X.scrollTop,X.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(ve){return new we(this,ve)}_getOverlayWidth(ve){return"auto"===this.panelWidth?(ve instanceof c.xu?ve.elementRef:ve||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(ve){this._hideSingleSelectionIndicator=(0,p.Ig)(ve),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const ve of this.options)ve._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let ve;return function(X){return(ve||(ve=b.n5z(W)))(X||W)}}();static#t=this.\u0275cmp=b.Xpm({type:W,selectors:[["mat-select"]],contentQueries:function(Q,X,$){if(1&Q&&(b.Suo($,ke,5),b.Suo($,w.ey,5),b.Suo($,w.K7,5)),2&Q){let ie;b.iGM(ie=b.CRH())&&(X.customTrigger=ie.first),b.iGM(ie=b.CRH())&&(X.options=ie),b.iGM(ie=b.CRH())&&(X.optionGroups=ie)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Q,X){1&Q&&b.NdJ("keydown",function(ie){return X._handleKeydown(ie)})("focus",function(){return X._onFocus()})("blur",function(){return X._onBlur()}),2&Q&&(b.uIk("id",X.id)("tabindex",X.tabIndex)("aria-controls",X.panelOpen?X.id+"-panel":null)("aria-expanded",X.panelOpen)("aria-label",X.ariaLabel||null)("aria-required",X.required.toString())("aria-disabled",X.disabled.toString())("aria-invalid",X.errorState)("aria-activedescendant",X._getAriaActiveDescendant()),b.ekj("mat-mdc-select-disabled",X.disabled)("mat-mdc-select-invalid",X.errorState)("mat-mdc-select-required",X.required)("mat-mdc-select-empty",X.empty)("mat-mdc-select-multiple",X.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[b._Bn([{provide:E.Eo,useExisting:W},{provide:w.HF,useExisting:W}]),b.qOj],ngContentSelectors:_e,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(Q,X){if(1&Q&&(b.F$t(K),b.TgZ(0,"div",0,1),b.NdJ("click",function(){return X.toggle()}),b.TgZ(3,"div",2),b.YNc(4,J,2,1,"span",3),b.YNc(5,q,3,2,"span",4),b.qZA(),b.TgZ(6,"div",5)(7,"div",6),b.O4$(),b.TgZ(8,"svg",7),b._UZ(9,"path",8),b.qZA()()()(),b.YNc(10,le,3,9,"ng-template",9),b.NdJ("backdropClick",function(){return X.close()})("attach",function(){return X._onAttached()})("detach",function(){return X.close()})),2&Q){const $=b.MAs(1);b.xp6(3),b.Q6J("ngSwitch",X.empty),b.uIk("id",X._valueId),b.xp6(1),b.Q6J("ngSwitchCase",!0),b.xp6(1),b.Q6J("ngSwitchCase",!1),b.xp6(5),b.Q6J("cdkConnectedOverlayPanelClass",X._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",X._scrollStrategy)("cdkConnectedOverlayOrigin",X._preferredOverlayOrigin||$)("cdkConnectedOverlayOpen",X.panelOpen)("cdkConnectedOverlayPositions",X._positions)("cdkConnectedOverlayWidth",X._overlayWidth)}},dependencies:[t.mk,t.RF,t.n9,t.ED,c.pI,c.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[se.transformPanel]},changeDetection:0})}return W})(),Se=(()=>{class W{static#e=this.\u0275fac=function(Q){return new(Q||W)};static#t=this.\u0275mod=b.oAB({type:W});static#n=this.\u0275inj=b.cJS({providers:[Ue],imports:[t.ez,c.U8,w.Ng,w.BQ,F.ZD,E.lN,w.Ng,w.BQ]})}return W})()},2939:(jn,nt,S)=>{"use strict";S.d(nt,{OX:()=>P,ZX:()=>q,qD:()=>x,u_:()=>O,ux:()=>se});var c=S(5879),t=S(8645),b=S(6814),w=S(2296),E=S(6825),F=S(8484),L=S(2831),D=S(8180),p=S(9773),f=S(4300),g=S(1088),y=S(3651),M=S(3680);function U(me,De){if(1&me){const Le=c.EpF();c.TgZ(0,"div",2)(1,"button",3),c.NdJ("click",function(){c.CHM(Le);const Re=c.oxw();return c.KtG(Re.action())}),c._uU(2),c.qZA()()}if(2&me){const Le=c.oxw();c.xp6(2),c.hij(" ",Le.data.action," ")}}const R=["label"];function V(me,De){}const k=Math.pow(2,31)-1;class P{constructor(De,Le){this._overlayRef=Le,this._afterDismissed=new t.x,this._afterOpened=new t.x,this._onAction=new t.x,this._dismissedByAction=!1,this.containerInstance=De,De._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(De){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(De,k))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const x=new c.OlP("MatSnackBarData");class O{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let T=(()=>{class me{static#e=this.\u0275fac=function(he){return new(he||me)};static#t=this.\u0275dir=c.lG2({type:me,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return me})(),N=(()=>{class me{static#e=this.\u0275fac=function(he){return new(he||me)};static#t=this.\u0275dir=c.lG2({type:me,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return me})(),C=(()=>{class me{static#e=this.\u0275fac=function(he){return new(he||me)};static#t=this.\u0275dir=c.lG2({type:me,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return me})(),B=(()=>{class me{constructor(Le,he){this.snackBarRef=Le,this.data=he}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(he){return new(he||me)(c.Y36(P),c.Y36(x))};static#t=this.\u0275cmp=c.Xpm({type:me,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(he,Re){1&he&&(c.TgZ(0,"div",0),c._uU(1),c.qZA(),c.YNc(2,U,3,1,"div",1)),2&he&&(c.xp6(1),c.hij(" ",Re.data.message,"\n"),c.xp6(1),c.Q6J("ngIf",Re.hasAction))},dependencies:[b.O5,w.lW,T,N,C],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return me})();const Y={snackBarState:(0,E.X$)("state",[(0,E.SB)("void, hidden",(0,E.oB)({transform:"scale(0.8)",opacity:0})),(0,E.SB)("visible",(0,E.oB)({transform:"scale(1)",opacity:1})),(0,E.eR)("* => visible",(0,E.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,E.eR)("* => void, * => hidden",(0,E.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,E.oB)({opacity:0})))])};let J=0,ce=(()=>{class me extends F.en{constructor(Le,he,Re,Ie,ge){super(),this._ngZone=Le,this._elementRef=he,this._changeDetectorRef=Re,this._platform=Ie,this.snackBarConfig=ge,this._document=(0,c.f3M)(b.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new t.x,this._onExit=new t.x,this._onEnter=new t.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+J++,this.attachDomPortal=Ue=>{this._assertNotAttached();const ke=this._portalOutlet.attachDomPortal(Ue);return this._afterPortalAttached(),ke},this._live="assertive"!==ge.politeness||ge.announcementMessage?"off"===ge.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Le){this._assertNotAttached();const he=this._portalOutlet.attachComponentPortal(Le);return this._afterPortalAttached(),he}attachTemplatePortal(Le){this._assertNotAttached();const he=this._portalOutlet.attachTemplatePortal(Le);return this._afterPortalAttached(),he}onAnimationEnd(Le){const{fromState:he,toState:Re}=Le;if(("void"===Re&&"void"!==he||"hidden"===Re)&&this._completeExit(),"visible"===Re){const Ie=this._onEnter;this._ngZone.run(()=>{Ie.next(),Ie.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,D.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const Le=this._elementRef.nativeElement,he=this.snackBarConfig.panelClass;he&&(Array.isArray(he)?he.forEach(Re=>Le.classList.add(Re)):Le.classList.add(he)),this._exposeToModals()}_exposeToModals(){const Le=this._liveElementId,he=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Re=0;Re<he.length;Re++){const Ie=he[Re],ge=Ie.getAttribute("aria-owns");this._trackedModals.add(Ie),ge?-1===ge.indexOf(Le)&&Ie.setAttribute("aria-owns",ge+" "+Le):Ie.setAttribute("aria-owns",Le)}}_clearFromModals(){this._trackedModals.forEach(Le=>{const he=Le.getAttribute("aria-owns");if(he){const Re=he.replace(this._liveElementId,"").trim();Re.length>0?Le.setAttribute("aria-owns",Re):Le.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Le=this._elementRef.nativeElement.querySelector("[aria-hidden]"),he=this._elementRef.nativeElement.querySelector("[aria-live]");if(Le&&he){let Re=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Le.contains(document.activeElement)&&(Re=document.activeElement),Le.removeAttribute("aria-hidden"),he.appendChild(Le),Re?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(he){return new(he||me)(c.Y36(c.R0b),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(L.t4),c.Y36(O))};static#t=this.\u0275dir=c.lG2({type:me,viewQuery:function(he,Re){if(1&he&&c.Gf(F.Pl,7),2&he){let Ie;c.iGM(Ie=c.CRH())&&(Re._portalOutlet=Ie.first)}},features:[c.qOj]})}return me})(),Fe=(()=>{class me extends ce{_afterPortalAttached(){super._afterPortalAttached();const Le=this._label.nativeElement,he="mdc-snackbar__label";Le.classList.toggle(he,!Le.querySelector(`.${he}`))}static#e=this.\u0275fac=function(){let Le;return function(Re){return(Le||(Le=c.n5z(me)))(Re||me)}}();static#t=this.\u0275cmp=c.Xpm({type:me,selectors:[["mat-snack-bar-container"]],viewQuery:function(he,Re){if(1&he&&c.Gf(R,7),2&he){let Ie;c.iGM(Ie=c.CRH())&&(Re._label=Ie.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(he,Re){1&he&&c.WFA("@state.done",function(ge){return Re.onAnimationEnd(ge)}),2&he&&c.d8E("@state",Re._animationState)},features:[c.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(he,Re){1&he&&(c.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),c.YNc(4,V,0,0,"ng-template",4),c.qZA(),c._UZ(5,"div"),c.qZA()()),2&he&&(c.xp6(5),c.uIk("aria-live",Re._live)("role",Re._role)("id",Re._liveElementId))},dependencies:[F.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Y.snackBarState]}})}return me})(),q=(()=>{class me{static#e=this.\u0275fac=function(he){return new(he||me)};static#t=this.\u0275mod=c.oAB({type:me});static#n=this.\u0275inj=c.cJS({imports:[y.U8,F.eL,b.ez,w.ot,M.BQ,M.BQ]})}return me})();const K=new c.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function le(){return new O}});let _e=(()=>{class me{get _openedSnackBarRef(){const Le=this._parentSnackBar;return Le?Le._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Le){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Le:this._snackBarRefAtThisLevel=Le}constructor(Le,he,Re,Ie,ge,Ue){this._overlay=Le,this._live=he,this._injector=Re,this._breakpointObserver=Ie,this._parentSnackBar=ge,this._defaultConfig=Ue,this._snackBarRefAtThisLevel=null}openFromComponent(Le,he){return this._attach(Le,he)}openFromTemplate(Le,he){return this._attach(Le,he)}open(Le,he="",Re){const Ie={...this._defaultConfig,...Re};return Ie.data={message:Le,action:he},Ie.announcementMessage===Le&&(Ie.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,Ie)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Le,he){const Ie=c.zs3.create({parent:he&&he.viewContainerRef&&he.viewContainerRef.injector||this._injector,providers:[{provide:O,useValue:he}]}),ge=new F.C5(this.snackBarContainerComponent,he.viewContainerRef,Ie),Ue=Le.attach(ge);return Ue.instance.snackBarConfig=he,Ue.instance}_attach(Le,he){const Re={...new O,...this._defaultConfig,...he},Ie=this._createOverlay(Re),ge=this._attachSnackBarContainer(Ie,Re),Ue=new P(ge,Ie);if(Le instanceof c.Rgc){const ke=new F.UE(Le,null,{$implicit:Re.data,snackBarRef:Ue});Ue.instance=ge.attachTemplatePortal(ke)}else{const ke=this._createInjector(Re,Ue),we=new F.C5(Le,void 0,ke),Ke=ge.attachComponentPortal(we);Ue.instance=Ke.instance}return this._breakpointObserver.observe(g.u3.HandsetPortrait).pipe((0,p.R)(Ie.detachments())).subscribe(ke=>{Ie.overlayElement.classList.toggle(this.handsetCssClass,ke.matches)}),Re.announcementMessage&&ge._onAnnounce.subscribe(()=>{this._live.announce(Re.announcementMessage,Re.politeness)}),this._animateSnackBar(Ue,Re),this._openedSnackBarRef=Ue,this._openedSnackBarRef}_animateSnackBar(Le,he){Le.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Le&&(this._openedSnackBarRef=null),he.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Le.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Le.containerInstance.enter(),he.duration&&he.duration>0&&Le.afterOpened().subscribe(()=>Le._dismissAfter(he.duration))}_createOverlay(Le){const he=new y.X_;he.direction=Le.direction;let Re=this._overlay.position().global();const Ie="rtl"===Le.direction,ge="left"===Le.horizontalPosition||"start"===Le.horizontalPosition&&!Ie||"end"===Le.horizontalPosition&&Ie,Ue=!ge&&"center"!==Le.horizontalPosition;return ge?Re.left("0"):Ue?Re.right("0"):Re.centerHorizontally(),"top"===Le.verticalPosition?Re.top("0"):Re.bottom("0"),he.positionStrategy=Re,this._overlay.create(he)}_createInjector(Le,he){return c.zs3.create({parent:Le&&Le.viewContainerRef&&Le.viewContainerRef.injector||this._injector,providers:[{provide:P,useValue:he},{provide:x,useValue:Le.data}]})}static#e=this.\u0275fac=function(he){return new(he||me)(c.LFG(y.aV),c.LFG(f.Kd),c.LFG(c.zs3),c.LFG(g.Yg),c.LFG(me,12),c.LFG(K))};static#t=this.\u0275prov=c.Yz7({token:me,factory:me.\u0275fac})}return me})(),se=(()=>{class me extends _e{constructor(Le,he,Re,Ie,ge,Ue){super(Le,he,Re,Ie,ge,Ue),this.simpleSnackBarComponent=B,this.snackBarContainerComponent=Fe,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(he){return new(he||me)(c.LFG(y.aV),c.LFG(f.Kd),c.LFG(c.zs3),c.LFG(g.Yg),c.LFG(me,12),c.LFG(K))};static#t=this.\u0275prov=c.Yz7({token:me,factory:me.\u0275fac,providedIn:q})}return me})()},3566:(jn,nt,S)=>{"use strict";S.d(nt,{JX:()=>Fe,YE:()=>x,nU:()=>ce});var c=S(5879),t=S(4300),b=S(2495),w=S(6028),E=S(3680),F=S(8645),L=S(3019),D=S(6825),p=S(6814);const f=["mat-sort-header",""];function g(q,le){if(1&q){const K=c.EpF();c.TgZ(0,"div",3),c.NdJ("@arrowPosition.start",function(){c.CHM(K);const se=c.oxw();return c.KtG(se._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){c.CHM(K);const se=c.oxw();return c.KtG(se._disableViewStateAnimation=!1)}),c._UZ(1,"div",4),c.TgZ(2,"div",5),c._UZ(3,"div",6)(4,"div",7)(5,"div",8),c.qZA()()}if(2&q){const K=c.oxw();c.Q6J("@arrowOpacity",K._getArrowViewState())("@arrowPosition",K._getArrowViewState())("@allowChildren",K._getArrowDirectionState()),c.xp6(2),c.Q6J("@indicator",K._getArrowDirectionState()),c.xp6(1),c.Q6J("@leftPointer",K._getArrowDirectionState()),c.xp6(1),c.Q6J("@rightPointer",K._getArrowDirectionState())}}const y=["*"],k=new c.OlP("MAT_SORT_DEFAULT_OPTIONS"),P=(0,E.dB)((0,E.Id)(class{}));let x=(()=>{class q extends P{get direction(){return this._direction}set direction(K){this._direction=K}get disableClear(){return this._disableClear}set disableClear(K){this._disableClear=(0,b.Ig)(K)}constructor(K){super(),this._defaultOptions=K,this.sortables=new Map,this._stateChanges=new F.x,this.start="asc",this._direction="",this.sortChange=new c.vpe}register(K){this.sortables.set(K.id,K)}deregister(K){this.sortables.delete(K.id)}sort(K){this.active!=K.id?(this.active=K.id,this.direction=K.start?K.start:this.start):this.direction=this.getNextSortDirection(K),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(K){if(!K)return"";let se=function O(q,le){let K=["asc","desc"];return"desc"==q&&K.reverse(),le||K.push(""),K}(K.start||this.start,K?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),me=se.indexOf(this.direction)+1;return me>=se.length&&(me=0),se[me]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(_e){return new(_e||q)(c.Y36(k,8))};static#t=this.\u0275dir=c.lG2({type:q,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[c.qOj,c.TTD]})}return q})();const T=E.mZ.ENTERING+" "+E.yN.STANDARD_CURVE,N={indicator:(0,D.X$)("indicator",[(0,D.SB)("active-asc, asc",(0,D.oB)({transform:"translateY(0px)"})),(0,D.SB)("active-desc, desc",(0,D.oB)({transform:"translateY(10px)"})),(0,D.eR)("active-asc <=> active-desc",(0,D.jt)(T))]),leftPointer:(0,D.X$)("leftPointer",[(0,D.SB)("active-asc, asc",(0,D.oB)({transform:"rotate(-45deg)"})),(0,D.SB)("active-desc, desc",(0,D.oB)({transform:"rotate(45deg)"})),(0,D.eR)("active-asc <=> active-desc",(0,D.jt)(T))]),rightPointer:(0,D.X$)("rightPointer",[(0,D.SB)("active-asc, asc",(0,D.oB)({transform:"rotate(45deg)"})),(0,D.SB)("active-desc, desc",(0,D.oB)({transform:"rotate(-45deg)"})),(0,D.eR)("active-asc <=> active-desc",(0,D.jt)(T))]),arrowOpacity:(0,D.X$)("arrowOpacity",[(0,D.SB)("desc-to-active, asc-to-active, active",(0,D.oB)({opacity:1})),(0,D.SB)("desc-to-hint, asc-to-hint, hint",(0,D.oB)({opacity:.54})),(0,D.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,D.oB)({opacity:0})),(0,D.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,D.jt)("0ms")),(0,D.eR)("* <=> *",(0,D.jt)(T))]),arrowPosition:(0,D.X$)("arrowPosition",[(0,D.eR)("* => desc-to-hint, * => desc-to-active",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(-25%)"}),(0,D.oB)({transform:"translateY(0)"})]))),(0,D.eR)("* => hint-to-desc, * => active-to-desc",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(0)"}),(0,D.oB)({transform:"translateY(25%)"})]))),(0,D.eR)("* => asc-to-hint, * => asc-to-active",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(25%)"}),(0,D.oB)({transform:"translateY(0)"})]))),(0,D.eR)("* => hint-to-asc, * => active-to-asc",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(0)"}),(0,D.oB)({transform:"translateY(-25%)"})]))),(0,D.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,D.oB)({transform:"translateY(0)"})),(0,D.SB)("hint-to-desc, active-to-desc, desc",(0,D.oB)({transform:"translateY(-25%)"})),(0,D.SB)("hint-to-asc, active-to-asc, asc",(0,D.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,D.X$)("allowChildren",[(0,D.eR)("* <=> *",[(0,D.IO)("@*",(0,D.pV)(),{optional:!0})])])};let C=(()=>{class q{constructor(){this.changes=new F.x}static#e=this.\u0275fac=function(_e){return new(_e||q)};static#t=this.\u0275prov=c.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})();const Y={provide:C,deps:[[new c.FiY,new c.tp0,C]],useFactory:function B(q){return q||new C}},J=(0,E.Id)(class{});let ce=(()=>{class q extends J{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(K){this._updateSortActionDescription(K)}get disableClear(){return this._disableClear}set disableClear(K){this._disableClear=(0,b.Ig)(K)}constructor(K,_e,se,me,De,Le,he,Re){super(),this._intl=K,this._changeDetectorRef=_e,this._sort=se,this._columnDef=me,this._focusMonitor=De,this._elementRef=Le,this._ariaDescriber=he,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",Re?.arrowPosition&&(this.arrowPosition=Re?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(K=>{const _e=!!K;_e!==this._showIndicatorHint&&(this._setIndicatorHintVisible(_e),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(K){this._isDisabled()&&K||(this._showIndicatorHint=K,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(K){this._viewState=K||{},this._disableViewStateAnimation&&(this._viewState={toState:K.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(K){!this._isDisabled()&&(K.keyCode===w.L_||K.keyCode===w.K5)&&(K.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const K=this._viewState.fromState;return(K?`${K}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(K){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,K)),this._sortActionDescription=K}_handleStateChanges(){this._rerenderSubscription=(0,L.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(_e){return new(_e||q)(c.Y36(C),c.Y36(c.sBO),c.Y36(x,8),c.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),c.Y36(t.tE),c.Y36(c.SBq),c.Y36(t.$s,8),c.Y36(k,8))};static#t=this.\u0275cmp=c.Xpm({type:q,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(_e,se){1&_e&&c.NdJ("click",function(){return se._handleClick()})("keydown",function(De){return se._handleKeydown(De)})("mouseenter",function(){return se._setIndicatorHintVisible(!0)})("mouseleave",function(){return se._setIndicatorHintVisible(!1)}),2&_e&&(c.uIk("aria-sort",se._getAriaSortAttribute()),c.ekj("mat-sort-header-disabled",se._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[c.qOj],attrs:f,ngContentSelectors:y,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(_e,se){1&_e&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1),c.Hsn(2),c.qZA(),c.YNc(3,g,6,6,"div",2),c.qZA()),2&_e&&(c.ekj("mat-sort-header-sorted",se._isSorted())("mat-sort-header-position-before","before"===se.arrowPosition),c.uIk("tabindex",se._isDisabled()?null:0)("role",se._isDisabled()?null:"button"),c.xp6(3),c.Q6J("ngIf",se._renderArrow()))},dependencies:[p.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[N.indicator,N.leftPointer,N.rightPointer,N.arrowOpacity,N.arrowPosition,N.allowChildren]},changeDetection:0})}return q})(),Fe=(()=>{class q{static#e=this.\u0275fac=function(_e){return new(_e||q)};static#t=this.\u0275mod=c.oAB({type:q});static#n=this.\u0275inj=c.cJS({providers:[Y],imports:[p.ez,E.BQ]})}return q})()},5313:(jn,nt,S)=>{"use strict";S.d(nt,{ev:()=>Lt,Dz:()=>Oe,w1:()=>lt,ge:()=>ot,fO:()=>We,XQ:()=>an,as:()=>zt,Ee:()=>Ln,Gk:()=>An,nj:()=>$t,BZ:()=>xe,by:()=>Et,p0:()=>ci});var c=S(5879),t=S(9388),b=S(2495),w=S(8337),E=S(2831),F=S(799),L=S(6814),D=S(8645),p=S(2459),f=S(5619),g=S(2664),y=S(2096),M=S(9773),U=S(8180);const R=[[["caption"]],[["colgroup"],["col"]]],V=["caption","colgroup, col"];function x(ut){return class extends ut{get sticky(){return this._sticky}set sticky(Xt){const Ze=this._sticky;this._sticky=(0,b.Ig)(Xt),this._hasStickyChanged=Ze!==this._sticky}hasStickyChanged(){const Xt=this._hasStickyChanged;return this._hasStickyChanged=!1,Xt}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...Xt){super(...Xt),this._sticky=!1,this._hasStickyChanged=!1}}}const O=new c.OlP("CDK_TABLE");let N=(()=>{class ut{constructor(Ze){this.template=Ze}static#e=this.\u0275fac=function(et){return new(et||ut)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","cdkCellDef",""]]})}return ut})(),C=(()=>{class ut{constructor(Ze){this.template=Ze}static#e=this.\u0275fac=function(et){return new(et||ut)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","cdkHeaderCellDef",""]]})}return ut})(),B=(()=>{class ut{constructor(Ze){this.template=Ze}static#e=this.\u0275fac=function(et){return new(et||ut)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","cdkFooterCellDef",""]]})}return ut})();class Y{}const J=x(Y);let ce=(()=>{class ut extends J{get name(){return this._name}set name(Ze){this._setNameInput(Ze)}get stickyEnd(){return this._stickyEnd}set stickyEnd(Ze){const et=this._stickyEnd;this._stickyEnd=(0,b.Ig)(Ze),this._hasStickyChanged=et!==this._stickyEnd}constructor(Ze){super(),this._table=Ze,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(Ze){Ze&&(this._name=Ze,this.cssClassFriendlyName=Ze.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(et){return new(et||ut)(c.Y36(O,8))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","cdkColumnDef",""]],contentQueries:function(et,wt,qt){if(1&et&&(c.Suo(qt,N,5),c.Suo(qt,C,5),c.Suo(qt,B,5)),2&et){let wn;c.iGM(wn=c.CRH())&&(wt.cell=wn.first),c.iGM(wn=c.CRH())&&(wt.headerCell=wn.first),c.iGM(wn=c.CRH())&&(wt.footerCell=wn.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[c._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ut}]),c.qOj]})}return ut})();class Fe{constructor(Xt,Ze){Ze.nativeElement.classList.add(...Xt._columnCssClassName)}}let q=(()=>{class ut extends Fe{constructor(Ze,et){super(Ze,et)}static#e=this.\u0275fac=function(et){return new(et||ut)(c.Y36(ce),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[c.qOj]})}return ut})(),K=(()=>{class ut extends Fe{constructor(Ze,et){if(super(Ze,et),1===Ze._table?._elementRef.nativeElement.nodeType){const wt=Ze._table._elementRef.nativeElement.getAttribute("role");et.nativeElement.setAttribute("role","grid"===wt||"treegrid"===wt?"gridcell":"cell")}}static#e=this.\u0275fac=function(et){return new(et||ut)(c.Y36(ce),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[c.qOj]})}return ut})();class _e{constructor(){this.tasks=[],this.endTasks=[]}}const se=new c.OlP("_COALESCED_STYLE_SCHEDULER");let me=(()=>{class ut{constructor(Ze){this._ngZone=Ze,this._currentSchedule=null,this._destroyed=new D.x}schedule(Ze){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(Ze)}scheduleEnd(Ze){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(Ze)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new _e,this._getScheduleObservable().pipe((0,M.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const Ze=this._currentSchedule;this._currentSchedule=new _e;for(const et of Ze.tasks)et();for(const et of Ze.endTasks)et()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,p.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,U.q)(1))}static#e=this.\u0275fac=function(et){return new(et||ut)(c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:ut,factory:ut.\u0275fac})}return ut})(),Le=(()=>{class ut{constructor(Ze,et){this.template=Ze,this._differs=et}ngOnChanges(Ze){if(!this._columnsDiffer){const et=Ze.columns&&Ze.columns.currentValue||[];this._columnsDiffer=this._differs.find(et).create(),this._columnsDiffer.diff(et)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(Ze){return this instanceof Ie?Ze.headerCell.template:this instanceof ke?Ze.footerCell.template:Ze.cell.template}static#e=this.\u0275fac=function(et){return new(et||ut)(c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:ut,features:[c.TTD]})}return ut})();class he extends Le{}const Re=x(he);let Ie=(()=>{class ut extends Re{constructor(Ze,et,wt){super(Ze,et),this._table=wt}ngOnChanges(Ze){super.ngOnChanges(Ze)}static#e=this.\u0275fac=function(et){return new(et||ut)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(O,8))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[c.qOj,c.TTD]})}return ut})();class ge extends Le{}const Ue=x(ge);let ke=(()=>{class ut extends Ue{constructor(Ze,et,wt){super(Ze,et),this._table=wt}ngOnChanges(Ze){super.ngOnChanges(Ze)}static#e=this.\u0275fac=function(et){return new(et||ut)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(O,8))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[c.qOj,c.TTD]})}return ut})(),we=(()=>{class ut extends Le{constructor(Ze,et,wt){super(Ze,et),this._table=wt}static#e=this.\u0275fac=function(et){return new(et||ut)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(O,8))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[c.qOj]})}return ut})(),Ke=(()=>{class ut{static#e=this.mostRecentCellOutlet=null;constructor(Ze){this._viewContainer=Ze,ut.mostRecentCellOutlet=this}ngOnDestroy(){ut.mostRecentCellOutlet===this&&(ut.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(et){return new(et||ut)(c.Y36(c.s_b))};static#n=this.\u0275dir=c.lG2({type:ut,selectors:[["","cdkCellOutlet",""]]})}return ut})(),st=(()=>{class ut{static#e=this.\u0275fac=function(et){return new(et||ut)};static#t=this.\u0275cmp=c.Xpm({type:ut,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(et,wt){1&et&&c.GkF(0,0)},dependencies:[Ke],encapsulation:2})}return ut})(),Ne=(()=>{class ut{static#e=this.\u0275fac=function(et){return new(et||ut)};static#t=this.\u0275cmp=c.Xpm({type:ut,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(et,wt){1&et&&c.GkF(0,0)},dependencies:[Ke],encapsulation:2})}return ut})(),Se=(()=>{class ut{constructor(Ze){this.templateRef=Ze,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(et){return new(et||ut)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["ng-template","cdkNoDataRow",""]]})}return ut})();const W=["top","bottom","left","right"];class ae{constructor(Xt,Ze,et,wt,qt=!0,wn=!0,Fn){this._isNativeHtmlTable=Xt,this._stickCellCss=Ze,this.direction=et,this._coalescedStyleScheduler=wt,this._isBrowser=qt,this._needsPositionStickyOnElement=wn,this._positionListener=Fn,this._cachedCellWidths=[],this._borderCellCss={top:`${Ze}-border-elem-top`,bottom:`${Ze}-border-elem-bottom`,left:`${Ze}-border-elem-left`,right:`${Ze}-border-elem-right`}}clearStickyPositioning(Xt,Ze){const et=[];for(const wt of Xt)if(wt.nodeType===wt.ELEMENT_NODE){et.push(wt);for(let qt=0;qt<wt.children.length;qt++)et.push(wt.children[qt])}this._coalescedStyleScheduler.schedule(()=>{for(const wt of et)this._removeStickyStyle(wt,Ze)})}updateStickyColumns(Xt,Ze,et,wt=!0){if(!Xt.length||!this._isBrowser||!Ze.some(Un=>Un)&&!et.some(Un=>Un))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const qt=Xt[0],wn=qt.children.length,Fn=this._getCellWidths(qt,wt),Wt=this._getStickyStartColumnPositions(Fn,Ze),Kt=this._getStickyEndColumnPositions(Fn,et),nn=Ze.lastIndexOf(!0),Tn=et.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const Un="rtl"===this.direction,ei=Un?"right":"left",bt=Un?"left":"right";for(const un of Xt)for(let Te=0;Te<wn;Te++){const vt=un.children[Te];Ze[Te]&&this._addStickyStyle(vt,ei,Wt[Te],Te===nn),et[Te]&&this._addStickyStyle(vt,bt,Kt[Te],Te===Tn)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===nn?[]:Fn.slice(0,nn+1).map((un,Te)=>Ze[Te]?un:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===Tn?[]:Fn.slice(Tn).map((un,Te)=>et[Te+Tn]?un:null).reverse()}))})}stickRows(Xt,Ze,et){if(!this._isBrowser)return;const wt="bottom"===et?Xt.slice().reverse():Xt,qt="bottom"===et?Ze.slice().reverse():Ze,wn=[],Fn=[],Wt=[];for(let nn=0,Tn=0;nn<wt.length;nn++){if(!qt[nn])continue;wn[nn]=Tn;const Un=wt[nn];Wt[nn]=this._isNativeHtmlTable?Array.from(Un.children):[Un];const ei=Un.getBoundingClientRect().height;Tn+=ei,Fn[nn]=ei}const Kt=qt.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let nn=0;nn<wt.length;nn++){if(!qt[nn])continue;const Tn=wn[nn],Un=nn===Kt;for(const ei of Wt[nn])this._addStickyStyle(ei,et,Tn,Un)}"top"===et?this._positionListener?.stickyHeaderRowsUpdated({sizes:Fn,offsets:wn,elements:Wt}):this._positionListener?.stickyFooterRowsUpdated({sizes:Fn,offsets:wn,elements:Wt})})}updateStickyFooterContainer(Xt,Ze){if(!this._isNativeHtmlTable)return;const et=Xt.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{Ze.some(wt=>!wt)?this._removeStickyStyle(et,["bottom"]):this._addStickyStyle(et,"bottom",0,!1)})}_removeStickyStyle(Xt,Ze){for(const wt of Ze)Xt.style[wt]="",Xt.classList.remove(this._borderCellCss[wt]);W.some(wt=>-1===Ze.indexOf(wt)&&Xt.style[wt])?Xt.style.zIndex=this._getCalculatedZIndex(Xt):(Xt.style.zIndex="",this._needsPositionStickyOnElement&&(Xt.style.position=""),Xt.classList.remove(this._stickCellCss))}_addStickyStyle(Xt,Ze,et,wt){Xt.classList.add(this._stickCellCss),wt&&Xt.classList.add(this._borderCellCss[Ze]),Xt.style[Ze]=`${et}px`,Xt.style.zIndex=this._getCalculatedZIndex(Xt),this._needsPositionStickyOnElement&&(Xt.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(Xt){const Ze={top:100,bottom:10,left:1,right:1};let et=0;for(const wt of W)Xt.style[wt]&&(et+=Ze[wt]);return et?`${et}`:""}_getCellWidths(Xt,Ze=!0){if(!Ze&&this._cachedCellWidths.length)return this._cachedCellWidths;const et=[],wt=Xt.children;for(let qt=0;qt<wt.length;qt++)et.push(wt[qt].getBoundingClientRect().width);return this._cachedCellWidths=et,et}_getStickyStartColumnPositions(Xt,Ze){const et=[];let wt=0;for(let qt=0;qt<Xt.length;qt++)Ze[qt]&&(et[qt]=wt,wt+=Xt[qt]);return et}_getStickyEndColumnPositions(Xt,Ze){const et=[];let wt=0;for(let qt=Xt.length;qt>0;qt--)Ze[qt]&&(et[qt]=wt,wt+=Xt[qt]);return et}}const fe=new c.OlP("CDK_SPL");let ue=(()=>{class ut{constructor(Ze,et){this.viewContainer=Ze,this.elementRef=et}static#e=this.\u0275fac=function(et){return new(et||ut)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","rowOutlet",""]]})}return ut})(),Me=(()=>{class ut{constructor(Ze,et){this.viewContainer=Ze,this.elementRef=et}static#e=this.\u0275fac=function(et){return new(et||ut)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","headerRowOutlet",""]]})}return ut})(),Ye=(()=>{class ut{constructor(Ze,et){this.viewContainer=Ze,this.elementRef=et}static#e=this.\u0275fac=function(et){return new(et||ut)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","footerRowOutlet",""]]})}return ut})(),Ge=(()=>{class ut{constructor(Ze,et){this.viewContainer=Ze,this.elementRef=et}static#e=this.\u0275fac=function(et){return new(et||ut)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","noDataRowOutlet",""]]})}return ut})(),rt=(()=>{class ut{get trackBy(){return this._trackByFn}set trackBy(Ze){this._trackByFn=Ze}get dataSource(){return this._dataSource}set dataSource(Ze){this._dataSource!==Ze&&this._switchDataSource(Ze)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(Ze){this._multiTemplateDataRows=(0,b.Ig)(Ze),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(Ze){this._fixedLayout=(0,b.Ig)(Ze),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(Ze,et,wt,qt,wn,Fn,Wt,Kt,nn,Tn,Un,ei){this._differs=Ze,this._changeDetectorRef=et,this._elementRef=wt,this._dir=wn,this._platform=Wt,this._viewRepeater=Kt,this._coalescedStyleScheduler=nn,this._viewportRuler=Tn,this._stickyPositioningListener=Un,this._ngZone=ei,this._onDestroy=new D.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new c.vpe,this.viewChange=new f.X({start:0,end:Number.MAX_VALUE}),qt||this._elementRef.nativeElement.setAttribute("role","table"),this._document=Fn,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((Ze,et)=>this.trackBy?this.trackBy(et.dataIndex,et.data):et),this._viewportRuler.change().pipe((0,M.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const et=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||et,this._forceRecalculateCellWidths=et,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(Ze=>{Ze.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,w.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const Ze=this._dataDiffer.diff(this._renderRows);if(!Ze)return this._updateNoDataRow(),void this.contentChanged.next();const et=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(Ze,et,(wt,qt,wn)=>this._getEmbeddedViewArgs(wt.item,wn),wt=>wt.item.data,wt=>{1===wt.operation&&wt.context&&this._renderCellTemplateForItem(wt.record.item.rowDef,wt.context)}),this._updateRowIndexContext(),Ze.forEachIdentityChange(wt=>{et.get(wt.currentIndex).context.$implicit=wt.item.data}),this._updateNoDataRow(),this._ngZone&&c.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,U.q)(1),(0,M.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(Ze){this._customColumnDefs.add(Ze)}removeColumnDef(Ze){this._customColumnDefs.delete(Ze)}addRowDef(Ze){this._customRowDefs.add(Ze)}removeRowDef(Ze){this._customRowDefs.delete(Ze)}addHeaderRowDef(Ze){this._customHeaderRowDefs.add(Ze),this._headerRowDefChanged=!0}removeHeaderRowDef(Ze){this._customHeaderRowDefs.delete(Ze),this._headerRowDefChanged=!0}addFooterRowDef(Ze){this._customFooterRowDefs.add(Ze),this._footerRowDefChanged=!0}removeFooterRowDef(Ze){this._customFooterRowDefs.delete(Ze),this._footerRowDefChanged=!0}setNoDataRow(Ze){this._customNoDataRow=Ze}updateStickyHeaderRowStyles(){const Ze=this._getRenderedRows(this._headerRowOutlet),wt=this._elementRef.nativeElement.querySelector("thead");wt&&(wt.style.display=Ze.length?"":"none");const qt=this._headerRowDefs.map(wn=>wn.sticky);this._stickyStyler.clearStickyPositioning(Ze,["top"]),this._stickyStyler.stickRows(Ze,qt,"top"),this._headerRowDefs.forEach(wn=>wn.resetStickyChanged())}updateStickyFooterRowStyles(){const Ze=this._getRenderedRows(this._footerRowOutlet),wt=this._elementRef.nativeElement.querySelector("tfoot");wt&&(wt.style.display=Ze.length?"":"none");const qt=this._footerRowDefs.map(wn=>wn.sticky);this._stickyStyler.clearStickyPositioning(Ze,["bottom"]),this._stickyStyler.stickRows(Ze,qt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,qt),this._footerRowDefs.forEach(wn=>wn.resetStickyChanged())}updateStickyColumnStyles(){const Ze=this._getRenderedRows(this._headerRowOutlet),et=this._getRenderedRows(this._rowOutlet),wt=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...Ze,...et,...wt],["left","right"]),this._stickyColumnStylesNeedReset=!1),Ze.forEach((qt,wn)=>{this._addStickyColumnStyles([qt],this._headerRowDefs[wn])}),this._rowDefs.forEach(qt=>{const wn=[];for(let Fn=0;Fn<et.length;Fn++)this._renderRows[Fn].rowDef===qt&&wn.push(et[Fn]);this._addStickyColumnStyles(wn,qt)}),wt.forEach((qt,wn)=>{this._addStickyColumnStyles([qt],this._footerRowDefs[wn])}),Array.from(this._columnDefsByName.values()).forEach(qt=>qt.resetStickyChanged())}_getAllRenderRows(){const Ze=[],et=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let wt=0;wt<this._data.length;wt++){let qt=this._data[wt];const wn=this._getRenderRowsForData(qt,wt,et.get(qt));this._cachedRenderRowsMap.has(qt)||this._cachedRenderRowsMap.set(qt,new WeakMap);for(let Fn=0;Fn<wn.length;Fn++){let Wt=wn[Fn];const Kt=this._cachedRenderRowsMap.get(Wt.data);Kt.has(Wt.rowDef)?Kt.get(Wt.rowDef).push(Wt):Kt.set(Wt.rowDef,[Wt]),Ze.push(Wt)}}return Ze}_getRenderRowsForData(Ze,et,wt){return this._getRowDefs(Ze,et).map(wn=>{const Fn=wt&&wt.has(wn)?wt.get(wn):[];if(Fn.length){const Wt=Fn.shift();return Wt.dataIndex=et,Wt}return{data:Ze,rowDef:wn,dataIndex:et}})}_cacheColumnDefs(){this._columnDefsByName.clear(),_t(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(et=>{this._columnDefsByName.has(et.name),this._columnDefsByName.set(et.name,et)})}_cacheRowDefs(){this._headerRowDefs=_t(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=_t(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=_t(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const Ze=this._rowDefs.filter(et=>!et.when);this._defaultRowDef=Ze[0]}_renderUpdatedColumns(){const Ze=(wn,Fn)=>wn||!!Fn.getColumnsDiff(),et=this._rowDefs.reduce(Ze,!1);et&&this._forceRenderDataRows();const wt=this._headerRowDefs.reduce(Ze,!1);wt&&this._forceRenderHeaderRows();const qt=this._footerRowDefs.reduce(Ze,!1);return qt&&this._forceRenderFooterRows(),et||wt||qt}_switchDataSource(Ze){this._data=[],(0,w.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),Ze||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=Ze}_observeRenderChanges(){if(!this.dataSource)return;let Ze;(0,w.Z9)(this.dataSource)?Ze=this.dataSource.connect(this):(0,g.b)(this.dataSource)?Ze=this.dataSource:Array.isArray(this.dataSource)&&(Ze=(0,y.of)(this.dataSource)),this._renderChangeSubscription=Ze.pipe((0,M.R)(this._onDestroy)).subscribe(et=>{this._data=et||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((Ze,et)=>this._renderRow(this._headerRowOutlet,Ze,et)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((Ze,et)=>this._renderRow(this._footerRowOutlet,Ze,et)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(Ze,et){const wt=Array.from(et.columns||[]).map(Fn=>this._columnDefsByName.get(Fn)),qt=wt.map(Fn=>Fn.sticky),wn=wt.map(Fn=>Fn.stickyEnd);this._stickyStyler.updateStickyColumns(Ze,qt,wn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(Ze){const et=[];for(let wt=0;wt<Ze.viewContainer.length;wt++){const qt=Ze.viewContainer.get(wt);et.push(qt.rootNodes[0])}return et}_getRowDefs(Ze,et){if(1==this._rowDefs.length)return[this._rowDefs[0]];let wt=[];if(this.multiTemplateDataRows)wt=this._rowDefs.filter(qt=>!qt.when||qt.when(et,Ze));else{let qt=this._rowDefs.find(wn=>wn.when&&wn.when(et,Ze))||this._defaultRowDef;qt&&wt.push(qt)}return wt}_getEmbeddedViewArgs(Ze,et){return{templateRef:Ze.rowDef.template,context:{$implicit:Ze.data},index:et}}_renderRow(Ze,et,wt,qt={}){const wn=Ze.viewContainer.createEmbeddedView(et.template,qt,wt);return this._renderCellTemplateForItem(et,qt),wn}_renderCellTemplateForItem(Ze,et){for(let wt of this._getCellTemplates(Ze))Ke.mostRecentCellOutlet&&Ke.mostRecentCellOutlet._viewContainer.createEmbeddedView(wt,et);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const Ze=this._rowOutlet.viewContainer;for(let et=0,wt=Ze.length;et<wt;et++){const wn=Ze.get(et).context;wn.count=wt,wn.first=0===et,wn.last=et===wt-1,wn.even=et%2==0,wn.odd=!wn.even,this.multiTemplateDataRows?(wn.dataIndex=this._renderRows[et].dataIndex,wn.renderIndex=et):wn.index=this._renderRows[et].dataIndex}}_getCellTemplates(Ze){return Ze&&Ze.columns?Array.from(Ze.columns,et=>{const wt=this._columnDefsByName.get(et);return Ze.extractCellTemplate(wt)}):[]}_applyNativeTableSections(){const Ze=this._document.createDocumentFragment(),et=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const wt of et){const qt=this._document.createElement(wt.tag);qt.setAttribute("role","rowgroup");for(const wn of wt.outlets)qt.appendChild(wn.elementRef.nativeElement);Ze.appendChild(qt)}this._elementRef.nativeElement.appendChild(Ze)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const Ze=(et,wt)=>et||wt.hasStickyChanged();this._headerRowDefs.reduce(Ze,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(Ze,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(Ze,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new ae(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,y.of)()).pipe((0,M.R)(this._onDestroy)).subscribe(et=>{this._stickyStyler.direction=et,this.updateStickyColumnStyles()})}_getOwnDefs(Ze){return Ze.filter(et=>!et._table||et._table===this)}_updateNoDataRow(){const Ze=this._customNoDataRow||this._noDataRow;if(!Ze)return;const et=0===this._rowOutlet.viewContainer.length;if(et===this._isShowingNoDataRow)return;const wt=this._noDataRowOutlet.viewContainer;if(et){const qt=wt.createEmbeddedView(Ze.templateRef),wn=qt.rootNodes[0];1===qt.rootNodes.length&&wn?.nodeType===this._document.ELEMENT_NODE&&(wn.setAttribute("role","row"),wn.classList.add(Ze._contentClassName))}else wt.clear();this._isShowingNoDataRow=et}static#e=this.\u0275fac=function(et){return new(et||ut)(c.Y36(c.ZZ4),c.Y36(c.sBO),c.Y36(c.SBq),c.$8M("role"),c.Y36(t.Is,8),c.Y36(L.K0),c.Y36(E.t4),c.Y36(w.k),c.Y36(se),c.Y36(F.rL),c.Y36(fe,12),c.Y36(c.R0b,8))};static#t=this.\u0275cmp=c.Xpm({type:ut,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(et,wt,qt){if(1&et&&(c.Suo(qt,Se,5),c.Suo(qt,ce,5),c.Suo(qt,we,5),c.Suo(qt,Ie,5),c.Suo(qt,ke,5)),2&et){let wn;c.iGM(wn=c.CRH())&&(wt._noDataRow=wn.first),c.iGM(wn=c.CRH())&&(wt._contentColumnDefs=wn),c.iGM(wn=c.CRH())&&(wt._contentRowDefs=wn),c.iGM(wn=c.CRH())&&(wt._contentHeaderRowDefs=wn),c.iGM(wn=c.CRH())&&(wt._contentFooterRowDefs=wn)}},viewQuery:function(et,wt){if(1&et&&(c.Gf(ue,7),c.Gf(Me,7),c.Gf(Ye,7),c.Gf(Ge,7)),2&et){let qt;c.iGM(qt=c.CRH())&&(wt._rowOutlet=qt.first),c.iGM(qt=c.CRH())&&(wt._headerRowOutlet=qt.first),c.iGM(qt=c.CRH())&&(wt._footerRowOutlet=qt.first),c.iGM(qt=c.CRH())&&(wt._noDataRowOutlet=qt.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(et,wt){2&et&&c.ekj("cdk-table-fixed-layout",wt.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[c._Bn([{provide:O,useExisting:ut},{provide:w.k,useClass:w.yy},{provide:se,useClass:me},{provide:fe,useValue:null}])],ngContentSelectors:V,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(et,wt){1&et&&(c.F$t(R),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[ue,Me,Ye,Ge],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return ut})();function _t(ut,Xt){return ut.concat(Array.from(Xt))}let jt=(()=>{class ut{static#e=this.\u0275fac=function(et){return new(et||ut)};static#t=this.\u0275mod=c.oAB({type:ut});static#n=this.\u0275inj=c.cJS({imports:[F.Cl]})}return ut})();var Qt=S(3680),cn=S(3019),dn=S(2572),Gt=S(7398);const Cn=[[["caption"]],[["colgroup"],["col"]]],en=["caption","colgroup, col"];let xe=(()=>{class ut extends rt{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let Ze;return function(wt){return(Ze||(Ze=c.n5z(ut)))(wt||ut)}}();static#t=this.\u0275cmp=c.Xpm({type:ut,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(et,wt){2&et&&c.ekj("mdc-table-fixed-layout",wt.fixedLayout)},exportAs:["matTable"],features:[c._Bn([{provide:rt,useExisting:ut},{provide:O,useExisting:ut},{provide:se,useClass:me},{provide:w.k,useClass:w.yy},{provide:fe,useValue:null}]),c.qOj],ngContentSelectors:en,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(et,wt){1&et&&(c.F$t(Cn),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[ue,Me,Ye,Ge],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child>.mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return ut})(),Oe=(()=>{class ut extends N{static#e=this.\u0275fac=function(){let Ze;return function(wt){return(Ze||(Ze=c.n5z(ut)))(wt||ut)}}();static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","matCellDef",""]],features:[c._Bn([{provide:N,useExisting:ut}]),c.qOj]})}return ut})(),We=(()=>{class ut extends C{static#e=this.\u0275fac=function(){let Ze;return function(wt){return(Ze||(Ze=c.n5z(ut)))(wt||ut)}}();static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","matHeaderCellDef",""]],features:[c._Bn([{provide:C,useExisting:ut}]),c.qOj]})}return ut})(),lt=(()=>{class ut extends ce{get name(){return this._name}set name(Ze){this._setNameInput(Ze)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let Ze;return function(wt){return(Ze||(Ze=c.n5z(ut)))(wt||ut)}}();static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[c._Bn([{provide:ce,useExisting:ut},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ut}]),c.qOj]})}return ut})(),ot=(()=>{class ut extends q{static#e=this.\u0275fac=function(){let Ze;return function(wt){return(Ze||(Ze=c.n5z(ut)))(wt||ut)}}();static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[c.qOj]})}return ut})(),Lt=(()=>{class ut extends K{static#e=this.\u0275fac=function(){let Ze;return function(wt){return(Ze||(Ze=c.n5z(ut)))(wt||ut)}}();static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[c.qOj]})}return ut})(),zt=(()=>{class ut extends Ie{static#e=this.\u0275fac=function(){let Ze;return function(wt){return(Ze||(Ze=c.n5z(ut)))(wt||ut)}}();static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[c._Bn([{provide:Ie,useExisting:ut}]),c.qOj]})}return ut})(),$t=(()=>{class ut extends we{static#e=this.\u0275fac=function(){let Ze;return function(wt){return(Ze||(Ze=c.n5z(ut)))(wt||ut)}}();static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[c._Bn([{provide:we,useExisting:ut}]),c.qOj]})}return ut})(),an=(()=>{class ut extends st{static#e=this.\u0275fac=function(){let Ze;return function(wt){return(Ze||(Ze=c.n5z(ut)))(wt||ut)}}();static#t=this.\u0275cmp=c.Xpm({type:ut,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[c._Bn([{provide:st,useExisting:ut}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(et,wt){1&et&&c.GkF(0,0)},dependencies:[Ke],encapsulation:2})}return ut})(),An=(()=>{class ut extends Ne{static#e=this.\u0275fac=function(){let Ze;return function(wt){return(Ze||(Ze=c.n5z(ut)))(wt||ut)}}();static#t=this.\u0275cmp=c.Xpm({type:ut,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[c._Bn([{provide:Ne,useExisting:ut}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(et,wt){1&et&&c.GkF(0,0)},dependencies:[Ke],encapsulation:2})}return ut})(),Ln=(()=>{class ut extends Se{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}static#e=this.\u0275fac=function(){let Ze;return function(wt){return(Ze||(Ze=c.n5z(ut)))(wt||ut)}}();static#t=this.\u0275dir=c.lG2({type:ut,selectors:[["ng-template","matNoDataRow",""]],features:[c._Bn([{provide:Se,useExisting:ut}]),c.qOj]})}return ut})(),ci=(()=>{class ut{static#e=this.\u0275fac=function(et){return new(et||ut)};static#t=this.\u0275mod=c.oAB({type:ut});static#n=this.\u0275inj=c.cJS({imports:[Qt.BQ,jt,Qt.BQ]})}return ut})();class gn extends w.o2{get data(){return this._data.value}set data(Xt){Xt=Array.isArray(Xt)?Xt:[],this._data.next(Xt),this._renderChangesSubscription||this._filterData(Xt)}get filter(){return this._filter.value}set filter(Xt){this._filter.next(Xt),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(Xt){this._sort=Xt,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(Xt){this._paginator=Xt,this._updateChangeSubscription()}constructor(Xt=[]){super(),this._renderData=new f.X([]),this._filter=new f.X(""),this._internalPageChanges=new D.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(Ze,et)=>{const wt=Ze[et];if((0,b.t6)(wt)){const qt=Number(wt);return qt<9007199254740991?qt:wt}return wt},this.sortData=(Ze,et)=>{const wt=et.active,qt=et.direction;return wt&&""!=qt?Ze.sort((wn,Fn)=>{let Wt=this.sortingDataAccessor(wn,wt),Kt=this.sortingDataAccessor(Fn,wt);const nn=typeof Wt,Tn=typeof Kt;nn!==Tn&&("number"===nn&&(Wt+=""),"number"===Tn&&(Kt+=""));let Un=0;return null!=Wt&&null!=Kt?Wt>Kt?Un=1:Wt<Kt&&(Un=-1):null!=Wt?Un=1:null!=Kt&&(Un=-1),Un*("asc"==qt?1:-1)}):Ze},this.filterPredicate=(Ze,et)=>{const wt=Object.keys(Ze).reduce((wn,Fn)=>wn+Ze[Fn]+"\u25ec","").toLowerCase(),qt=et.trim().toLowerCase();return-1!=wt.indexOf(qt)},this._data=new f.X(Xt),this._updateChangeSubscription()}_updateChangeSubscription(){const Xt=this._sort?(0,cn.T)(this._sort.sortChange,this._sort.initialized):(0,y.of)(null),Ze=this._paginator?(0,cn.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,y.of)(null),wt=(0,dn.a)([this._data,this._filter]).pipe((0,Gt.U)(([Fn])=>this._filterData(Fn))),qt=(0,dn.a)([wt,Xt]).pipe((0,Gt.U)(([Fn])=>this._orderData(Fn))),wn=(0,dn.a)([qt,Ze]).pipe((0,Gt.U)(([Fn])=>this._pageData(Fn)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=wn.subscribe(Fn=>this._renderData.next(Fn))}_filterData(Xt){return this.filteredData=null==this.filter||""===this.filter?Xt:Xt.filter(Ze=>this.filterPredicate(Ze,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(Xt){return this.sort?this.sortData(Xt.slice(),this.sort):Xt}_pageData(Xt){if(!this.paginator)return Xt;const Ze=this.paginator.pageIndex*this.paginator.pageSize;return Xt.slice(Ze,Ze+this.paginator.pageSize)}_updatePaginator(Xt){Promise.resolve().then(()=>{const Ze=this.paginator;if(Ze&&(Ze.length=Xt,Ze.pageIndex>0)){const et=Math.ceil(Ze.length/Ze.pageSize)-1||0,wt=Math.min(Ze.pageIndex,et);wt!==Ze.pageIndex&&(Ze.pageIndex=wt,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class Et extends gn{}},2596:(jn,nt,S)=>{"use strict";S.d(nt,{AV:()=>he,gM:()=>se});var c=S(9773),t=S(8180),b=S(2495),w=S(6028),E=S(5879),F=S(6814),L=S(2831),D=S(4300),p=S(9388),f=S(3651),g=S(799),y=S(8484),M=S(8645),R=(S(6825),S(3680));const V=["tooltip"],x=new E.OlP("mat-tooltip-scroll-strategy"),T={provide:x,deps:[f.aV],useFactory:function O(Re){return()=>Re.scrollStrategies.reposition({scrollThrottle:20})}},C=new E.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function N(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),Y="tooltip-panel",J=(0,L.i$)({passive:!0});let _e=(()=>{class Re{get position(){return this._position}set position(ge){ge!==this._position&&(this._position=ge,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(ge){this._positionAtOrigin=(0,b.Ig)(ge),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(ge){this._disabled=(0,b.Ig)(ge),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(ge){this._showDelay=(0,b.su)(ge)}get hideDelay(){return this._hideDelay}set hideDelay(ge){this._hideDelay=(0,b.su)(ge),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(ge){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=ge?String(ge).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(ge){this._tooltipClass=ge,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(ge,Ue,ke,we,Ke,st,Qe,Ne,Se,W,ae,ve){this._overlay=ge,this._elementRef=Ue,this._scrollDispatcher=ke,this._viewContainerRef=we,this._ngZone=Ke,this._platform=st,this._ariaDescriber=Qe,this._focusMonitor=Ne,this._dir=W,this._defaultOptions=ae,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new M.x,this._scrollStrategy=Se,this._document=ve,ae&&(this._showDelay=ae.showDelay,this._hideDelay=ae.hideDelay,ae.position&&(this.position=ae.position),ae.positionAtOrigin&&(this.positionAtOrigin=ae.positionAtOrigin),ae.touchGestures&&(this.touchGestures=ae.touchGestures)),W.change.pipe((0,c.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,c.R)(this._destroyed)).subscribe(ge=>{ge?"keyboard"===ge&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const ge=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([Ue,ke])=>{ge.removeEventListener(Ue,ke,J)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(ge,this.message,"tooltip"),this._focusMonitor.stopMonitoring(ge)}show(ge=this.showDelay,Ue){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const ke=this._createOverlay(Ue);this._detach(),this._portal=this._portal||new y.C5(this._tooltipComponent,this._viewContainerRef);const we=this._tooltipInstance=ke.attach(this._portal).instance;we._triggerElement=this._elementRef.nativeElement,we._mouseLeaveHideDelay=this._hideDelay,we.afterHidden().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),we.show(ge)}hide(ge=this.hideDelay){const Ue=this._tooltipInstance;Ue&&(Ue.isVisible()?Ue.hide(ge):(Ue._cancelPendingAnimations(),this._detach()))}toggle(ge){this._isTooltipVisible()?this.hide():this.show(void 0,ge)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(ge){if(this._overlayRef){const we=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!ge)&&we._origin instanceof E.SBq)return this._overlayRef;this._detach()}const Ue=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),ke=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&ge||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(Ue);return ke.positionChanges.pipe((0,c.R)(this._destroyed)).subscribe(we=>{this._updateCurrentPositionClass(we.connectionPair),this._tooltipInstance&&we.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:ke,panelClass:`${this._cssClassPrefix}-${Y}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,c.R)(this._destroyed)).subscribe(we=>{this._isTooltipVisible()&&we.keyCode===w.hY&&!(0,w.Vb)(we)&&(we.preventDefault(),we.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(ge){const Ue=ge.getConfig().positionStrategy,ke=this._getOrigin(),we=this._getOverlayPosition();Ue.withPositions([this._addOffset({...ke.main,...we.main}),this._addOffset({...ke.fallback,...we.fallback})])}_addOffset(ge){return ge}_getOrigin(){const ge=!this._dir||"ltr"==this._dir.value,Ue=this.position;let ke;"above"==Ue||"below"==Ue?ke={originX:"center",originY:"above"==Ue?"top":"bottom"}:"before"==Ue||"left"==Ue&&ge||"right"==Ue&&!ge?ke={originX:"start",originY:"center"}:("after"==Ue||"right"==Ue&&ge||"left"==Ue&&!ge)&&(ke={originX:"end",originY:"center"});const{x:we,y:Ke}=this._invertPosition(ke.originX,ke.originY);return{main:ke,fallback:{originX:we,originY:Ke}}}_getOverlayPosition(){const ge=!this._dir||"ltr"==this._dir.value,Ue=this.position;let ke;"above"==Ue?ke={overlayX:"center",overlayY:"bottom"}:"below"==Ue?ke={overlayX:"center",overlayY:"top"}:"before"==Ue||"left"==Ue&&ge||"right"==Ue&&!ge?ke={overlayX:"end",overlayY:"center"}:("after"==Ue||"right"==Ue&&ge||"left"==Ue&&!ge)&&(ke={overlayX:"start",overlayY:"center"});const{x:we,y:Ke}=this._invertPosition(ke.overlayX,ke.overlayY);return{main:ke,fallback:{overlayX:we,overlayY:Ke}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,t.q)(1),(0,c.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(ge){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=ge,this._tooltipInstance._markForCheck())}_invertPosition(ge,Ue){return"above"===this.position||"below"===this.position?"top"===Ue?Ue="bottom":"bottom"===Ue&&(Ue="top"):"end"===ge?ge="start":"start"===ge&&(ge="end"),{x:ge,y:Ue}}_updateCurrentPositionClass(ge){const{overlayY:Ue,originX:ke,originY:we}=ge;let Ke;if(Ke="center"===Ue?this._dir&&"rtl"===this._dir.value?"end"===ke?"left":"right":"start"===ke?"left":"right":"bottom"===Ue&&"top"===we?"above":"below",Ke!==this._currentPosition){const st=this._overlayRef;if(st){const Qe=`${this._cssClassPrefix}-${Y}-`;st.removePanelClass(Qe+this._currentPosition),st.addPanelClass(Qe+Ke)}this._currentPosition=Ke}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",ge=>{let Ue;this._setupPointerExitEventsIfNeeded(),void 0!==ge.x&&void 0!==ge.y&&(Ue=ge),this.show(void 0,Ue)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",ge=>{const Ue=ge.targetTouches?.[0],ke=Ue?{x:Ue.clientX,y:Ue.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,ke),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const ge=[];if(this._platformSupportsMouseEvents())ge.push(["mouseleave",Ue=>{const ke=Ue.relatedTarget;(!ke||!this._overlayRef?.overlayElement.contains(ke))&&this.hide()}],["wheel",Ue=>this._wheelListener(Ue)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const Ue=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};ge.push(["touchend",Ue],["touchcancel",Ue])}this._addListeners(ge),this._passiveListeners.push(...ge)}_addListeners(ge){ge.forEach(([Ue,ke])=>{this._elementRef.nativeElement.addEventListener(Ue,ke,J)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(ge){if(this._isTooltipVisible()){const Ue=this._document.elementFromPoint(ge.clientX,ge.clientY),ke=this._elementRef.nativeElement;Ue!==ke&&!ke.contains(Ue)&&this.hide()}}_disableNativeGesturesIfNecessary(){const ge=this.touchGestures;if("off"!==ge){const Ue=this._elementRef.nativeElement,ke=Ue.style;("on"===ge||"INPUT"!==Ue.nodeName&&"TEXTAREA"!==Ue.nodeName)&&(ke.userSelect=ke.msUserSelect=ke.webkitUserSelect=ke.MozUserSelect="none"),("on"===ge||!Ue.draggable)&&(ke.webkitUserDrag="none"),ke.touchAction="none",ke.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(Ue){E.$Z()};static#t=this.\u0275dir=E.lG2({type:Re,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return Re})(),se=(()=>{class Re extends _e{constructor(ge,Ue,ke,we,Ke,st,Qe,Ne,Se,W,ae,ve){super(ge,Ue,ke,we,Ke,st,Qe,Ne,Se,W,ae,ve),this._tooltipComponent=De,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(ge){const ke=!this._dir||"ltr"==this._dir.value;return"top"===ge.originY?ge.offsetY=-8:"bottom"===ge.originY?ge.offsetY=8:"start"===ge.originX?ge.offsetX=ke?-8:8:"end"===ge.originX&&(ge.offsetX=ke?8:-8),ge}static#e=this.\u0275fac=function(Ue){return new(Ue||Re)(E.Y36(f.aV),E.Y36(E.SBq),E.Y36(g.mF),E.Y36(E.s_b),E.Y36(E.R0b),E.Y36(L.t4),E.Y36(D.$s),E.Y36(D.tE),E.Y36(x),E.Y36(p.Is,8),E.Y36(C,8),E.Y36(F.K0))};static#t=this.\u0275dir=E.lG2({type:Re,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(Ue,ke){2&Ue&&E.ekj("mat-mdc-tooltip-disabled",ke.disabled)},exportAs:["matTooltip"],features:[E.qOj]})}return Re})(),me=(()=>{class Re{constructor(ge,Ue){this._changeDetectorRef=ge,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new M.x,this._animationsDisabled="NoopAnimations"===Ue}show(ge){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},ge)}hide(ge){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},ge)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:ge}){(!ge||!this._triggerElement.contains(ge))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:ge}){(ge===this._showAnimation||ge===this._hideAnimation)&&this._finalizeAnimation(ge===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(ge){ge?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(ge){const Ue=this._tooltip.nativeElement,ke=this._showAnimation,we=this._hideAnimation;if(Ue.classList.remove(ge?we:ke),Ue.classList.add(ge?ke:we),this._isVisible=ge,ge&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Ke=getComputedStyle(Ue);("0s"===Ke.getPropertyValue("animation-duration")||"none"===Ke.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}ge&&this._onShow(),this._animationsDisabled&&(Ue.classList.add("_mat-animation-noopable"),this._finalizeAnimation(ge))}static#e=this.\u0275fac=function(Ue){return new(Ue||Re)(E.Y36(E.sBO),E.Y36(E.QbO,8))};static#t=this.\u0275dir=E.lG2({type:Re})}return Re})(),De=(()=>{class Re extends me{constructor(ge,Ue,ke){super(ge,ke),this._elementRef=Ue,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const ge=this._elementRef.nativeElement.getBoundingClientRect();return ge.height>24&&ge.width>=200}static#e=this.\u0275fac=function(Ue){return new(Ue||Re)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.QbO,8))};static#t=this.\u0275cmp=E.Xpm({type:Re,selectors:[["mat-tooltip-component"]],viewQuery:function(Ue,ke){if(1&Ue&&E.Gf(V,7),2&Ue){let we;E.iGM(we=E.CRH())&&(ke._tooltip=we.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Ue,ke){1&Ue&&E.NdJ("mouseleave",function(Ke){return ke._handleMouseLeave(Ke)}),2&Ue&&E.Udp("zoom",ke.isVisible()?1:null)},features:[E.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(Ue,ke){1&Ue&&(E.TgZ(0,"div",0,1),E.NdJ("animationend",function(Ke){return ke._handleAnimationEnd(Ke)}),E.TgZ(2,"div",2),E._uU(3),E.qZA()()),2&Ue&&(E.ekj("mdc-tooltip--multiline",ke._isMultiline),E.Q6J("ngClass",ke.tooltipClass),E.xp6(3),E.Oqu(ke.message))},dependencies:[F.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return Re})(),he=(()=>{class Re{static#e=this.\u0275fac=function(Ue){return new(Ue||Re)};static#t=this.\u0275mod=E.oAB({type:Re});static#n=this.\u0275inj=E.cJS({providers:[T],imports:[D.rt,F.ez,f.U8,R.BQ,R.BQ,g.ZD]})}return Re})()},6593:(jn,nt,S)=>{"use strict";S.d(nt,{Dx:()=>re,H7:()=>cn,b2:()=>ve,q6:()=>Ne,se:()=>J});var c=S(5879),t=S(6814);class b extends t.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class w extends b{static makeCurrent(){(0,t.HT)(new w)}onAndCancel(lt,ot,dt){return lt.addEventListener(ot,dt),()=>{lt.removeEventListener(ot,dt)}}dispatchEvent(lt,ot){lt.dispatchEvent(ot)}remove(lt){lt.parentNode&&lt.parentNode.removeChild(lt)}createElement(lt,ot){return(ot=ot||this.getDefaultDocument()).createElement(lt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(lt){return lt.nodeType===Node.ELEMENT_NODE}isShadowRoot(lt){return lt instanceof DocumentFragment}getGlobalEventTarget(lt,ot){return"window"===ot?window:"document"===ot?lt:"body"===ot?lt.body:null}getBaseHref(lt){const ot=function F(){return E=E||document.querySelector("base"),E?E.getAttribute("href"):null}();return null==ot?null:function D($e){L=L||document.createElement("a"),L.setAttribute("href",$e);const lt=L.pathname;return"/"===lt.charAt(0)?lt:`/${lt}`}(ot)}resetBaseElement(){E=null}getUserAgent(){return window.navigator.userAgent}getCookie(lt){return(0,t.Mx)(document.cookie,lt)}}let L,E=null,f=(()=>{class $e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(dt){return new(dt||$e)};static#t=this.\u0275prov=c.Yz7({token:$e,factory:$e.\u0275fac})}return $e})();const g=new c.OlP("EventManagerPlugins");let y=(()=>{class $e{constructor(ot,dt){this._zone=dt,this._eventNameToPlugin=new Map,ot.forEach(Lt=>{Lt.manager=this}),this._plugins=ot.slice().reverse()}addEventListener(ot,dt,Lt){return this._findPluginFor(dt).addEventListener(ot,dt,Lt)}getZone(){return this._zone}_findPluginFor(ot){let dt=this._eventNameToPlugin.get(ot);if(dt)return dt;if(dt=this._plugins.find(zt=>zt.supports(ot)),!dt)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(ot,dt),dt}static#e=this.\u0275fac=function(dt){return new(dt||$e)(c.LFG(g),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:$e,factory:$e.\u0275fac})}return $e})();class M{constructor(lt){this._doc=lt}}const U="ng-app-id";let R=(()=>{class $e{constructor(ot,dt,Lt,zt={}){this.doc=ot,this.appId=dt,this.nonce=Lt,this.platformId=zt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,t.PM)(zt),this.resetHostNodes()}addStyles(ot){for(const dt of ot)1===this.changeUsageCount(dt,1)&&this.onStyleAdded(dt)}removeStyles(ot){for(const dt of ot)this.changeUsageCount(dt,-1)<=0&&this.onStyleRemoved(dt)}ngOnDestroy(){const ot=this.styleNodesInDOM;ot&&(ot.forEach(dt=>dt.remove()),ot.clear());for(const dt of this.getAllStyles())this.onStyleRemoved(dt);this.resetHostNodes()}addHost(ot){this.hostNodes.add(ot);for(const dt of this.getAllStyles())this.addStyleToHost(ot,dt)}removeHost(ot){this.hostNodes.delete(ot)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ot){for(const dt of this.hostNodes)this.addStyleToHost(dt,ot)}onStyleRemoved(ot){const dt=this.styleRef;dt.get(ot)?.elements?.forEach(Lt=>Lt.remove()),dt.delete(ot)}collectServerRenderedStyles(){const ot=this.doc.head?.querySelectorAll(`style[${U}="${this.appId}"]`);if(ot?.length){const dt=new Map;return ot.forEach(Lt=>{null!=Lt.textContent&&dt.set(Lt.textContent,Lt)}),dt}return null}changeUsageCount(ot,dt){const Lt=this.styleRef;if(Lt.has(ot)){const zt=Lt.get(ot);return zt.usage+=dt,zt.usage}return Lt.set(ot,{usage:dt,elements:[]}),dt}getStyleElement(ot,dt){const Lt=this.styleNodesInDOM,zt=Lt?.get(dt);if(zt?.parentNode===ot)return Lt.delete(dt),zt.removeAttribute(U),zt;{const Rt=this.doc.createElement("style");return this.nonce&&Rt.setAttribute("nonce",this.nonce),Rt.textContent=dt,this.platformIsServer&&Rt.setAttribute(U,this.appId),Rt}}addStyleToHost(ot,dt){const Lt=this.getStyleElement(ot,dt);ot.appendChild(Lt);const zt=this.styleRef,Rt=zt.get(dt)?.elements;Rt?Rt.push(Lt):zt.set(dt,{elements:[Lt],usage:1})}resetHostNodes(){const ot=this.hostNodes;ot.clear(),ot.add(this.doc.head)}static#e=this.\u0275fac=function(dt){return new(dt||$e)(c.LFG(t.K0),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:$e,factory:$e.\u0275fac})}return $e})();const V={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},k=/%COMP%/g,P="%COMP%",x=`_nghost-${P}`,O=`_ngcontent-${P}`,N=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Y($e,lt){return lt.map(ot=>ot.replace(k,$e))}let J=(()=>{class $e{constructor(ot,dt,Lt,zt,Rt,$t,an,mn=null){this.eventManager=ot,this.sharedStylesHost=dt,this.appId=Lt,this.removeStylesOnCompDestroy=zt,this.doc=Rt,this.platformId=$t,this.ngZone=an,this.nonce=mn,this.rendererByCompId=new Map,this.platformIsServer=(0,t.PM)($t),this.defaultRenderer=new ce(ot,Rt,an,this.platformIsServer)}createRenderer(ot,dt){if(!ot||!dt)return this.defaultRenderer;this.platformIsServer&&dt.encapsulation===c.ifc.ShadowDom&&(dt={...dt,encapsulation:c.ifc.Emulated});const Lt=this.getOrCreateRenderer(ot,dt);return Lt instanceof se?Lt.applyToHost(ot):Lt instanceof _e&&Lt.applyStyles(),Lt}getOrCreateRenderer(ot,dt){const Lt=this.rendererByCompId;let zt=Lt.get(dt.id);if(!zt){const Rt=this.doc,$t=this.ngZone,an=this.eventManager,mn=this.sharedStylesHost,An=this.removeStylesOnCompDestroy,Ln=this.platformIsServer;switch(dt.encapsulation){case c.ifc.Emulated:zt=new se(an,mn,dt,this.appId,An,Rt,$t,Ln);break;case c.ifc.ShadowDom:return new K(an,mn,ot,dt,Rt,$t,this.nonce,Ln);default:zt=new _e(an,mn,dt,An,Rt,$t,Ln)}Lt.set(dt.id,zt)}return zt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(dt){return new(dt||$e)(c.LFG(y),c.LFG(R),c.LFG(c.AFp),c.LFG(N),c.LFG(t.K0),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))};static#t=this.\u0275prov=c.Yz7({token:$e,factory:$e.\u0275fac})}return $e})();class ce{constructor(lt,ot,dt,Lt){this.eventManager=lt,this.doc=ot,this.ngZone=dt,this.platformIsServer=Lt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(lt,ot){return ot?this.doc.createElementNS(V[ot]||ot,lt):this.doc.createElement(lt)}createComment(lt){return this.doc.createComment(lt)}createText(lt){return this.doc.createTextNode(lt)}appendChild(lt,ot){(le(lt)?lt.content:lt).appendChild(ot)}insertBefore(lt,ot,dt){lt&&(le(lt)?lt.content:lt).insertBefore(ot,dt)}removeChild(lt,ot){lt&&lt.removeChild(ot)}selectRootElement(lt,ot){let dt="string"==typeof lt?this.doc.querySelector(lt):lt;if(!dt)throw new c.vHH(-5104,!1);return ot||(dt.textContent=""),dt}parentNode(lt){return lt.parentNode}nextSibling(lt){return lt.nextSibling}setAttribute(lt,ot,dt,Lt){if(Lt){ot=Lt+":"+ot;const zt=V[Lt];zt?lt.setAttributeNS(zt,ot,dt):lt.setAttribute(ot,dt)}else lt.setAttribute(ot,dt)}removeAttribute(lt,ot,dt){if(dt){const Lt=V[dt];Lt?lt.removeAttributeNS(Lt,ot):lt.removeAttribute(`${dt}:${ot}`)}else lt.removeAttribute(ot)}addClass(lt,ot){lt.classList.add(ot)}removeClass(lt,ot){lt.classList.remove(ot)}setStyle(lt,ot,dt,Lt){Lt&(c.JOm.DashCase|c.JOm.Important)?lt.style.setProperty(ot,dt,Lt&c.JOm.Important?"important":""):lt.style[ot]=dt}removeStyle(lt,ot,dt){dt&c.JOm.DashCase?lt.style.removeProperty(ot):lt.style[ot]=""}setProperty(lt,ot,dt){lt[ot]=dt}setValue(lt,ot){lt.nodeValue=ot}listen(lt,ot,dt){if("string"==typeof lt&&!(lt=(0,t.q)().getGlobalEventTarget(this.doc,lt)))throw new Error(`Unsupported event target ${lt} for event ${ot}`);return this.eventManager.addEventListener(lt,ot,this.decoratePreventDefault(dt))}decoratePreventDefault(lt){return ot=>{if("__ngUnwrap__"===ot)return lt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>lt(ot)):lt(ot))&&ot.preventDefault()}}}function le($e){return"TEMPLATE"===$e.tagName&&void 0!==$e.content}class K extends ce{constructor(lt,ot,dt,Lt,zt,Rt,$t,an){super(lt,zt,Rt,an),this.sharedStylesHost=ot,this.hostEl=dt,this.shadowRoot=dt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const mn=Y(Lt.id,Lt.styles);for(const An of mn){const Ln=document.createElement("style");$t&&Ln.setAttribute("nonce",$t),Ln.textContent=An,this.shadowRoot.appendChild(Ln)}}nodeOrShadowRoot(lt){return lt===this.hostEl?this.shadowRoot:lt}appendChild(lt,ot){return super.appendChild(this.nodeOrShadowRoot(lt),ot)}insertBefore(lt,ot,dt){return super.insertBefore(this.nodeOrShadowRoot(lt),ot,dt)}removeChild(lt,ot){return super.removeChild(this.nodeOrShadowRoot(lt),ot)}parentNode(lt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(lt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _e extends ce{constructor(lt,ot,dt,Lt,zt,Rt,$t,an){super(lt,zt,Rt,$t),this.sharedStylesHost=ot,this.removeStylesOnCompDestroy=Lt,this.styles=an?Y(an,dt.styles):dt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class se extends _e{constructor(lt,ot,dt,Lt,zt,Rt,$t,an){const mn=Lt+"-"+dt.id;super(lt,ot,dt,zt,Rt,$t,an,mn),this.contentAttr=function C($e){return O.replace(k,$e)}(mn),this.hostAttr=function B($e){return x.replace(k,$e)}(mn)}applyToHost(lt){this.applyStyles(),this.setAttribute(lt,this.hostAttr,"")}createElement(lt,ot){const dt=super.createElement(lt,ot);return super.setAttribute(dt,this.contentAttr,""),dt}}let me=(()=>{class $e extends M{constructor(ot){super(ot)}supports(ot){return!0}addEventListener(ot,dt,Lt){return ot.addEventListener(dt,Lt,!1),()=>this.removeEventListener(ot,dt,Lt)}removeEventListener(ot,dt,Lt){return ot.removeEventListener(dt,Lt)}static#e=this.\u0275fac=function(dt){return new(dt||$e)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:$e,factory:$e.\u0275fac})}return $e})();const De=["alt","control","meta","shift"],Le={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},he={alt:$e=>$e.altKey,control:$e=>$e.ctrlKey,meta:$e=>$e.metaKey,shift:$e=>$e.shiftKey};let Re=(()=>{class $e extends M{constructor(ot){super(ot)}supports(ot){return null!=$e.parseEventName(ot)}addEventListener(ot,dt,Lt){const zt=$e.parseEventName(dt),Rt=$e.eventCallback(zt.fullKey,Lt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.q)().onAndCancel(ot,zt.domEventName,Rt))}static parseEventName(ot){const dt=ot.toLowerCase().split("."),Lt=dt.shift();if(0===dt.length||"keydown"!==Lt&&"keyup"!==Lt)return null;const zt=$e._normalizeKey(dt.pop());let Rt="",$t=dt.indexOf("code");if($t>-1&&(dt.splice($t,1),Rt="code."),De.forEach(mn=>{const An=dt.indexOf(mn);An>-1&&(dt.splice(An,1),Rt+=mn+".")}),Rt+=zt,0!=dt.length||0===zt.length)return null;const an={};return an.domEventName=Lt,an.fullKey=Rt,an}static matchEventFullKeyCode(ot,dt){let Lt=Le[ot.key]||ot.key,zt="";return dt.indexOf("code.")>-1&&(Lt=ot.code,zt="code."),!(null==Lt||!Lt)&&(Lt=Lt.toLowerCase()," "===Lt?Lt="space":"."===Lt&&(Lt="dot"),De.forEach(Rt=>{Rt!==Lt&&(0,he[Rt])(ot)&&(zt+=Rt+".")}),zt+=Lt,zt===dt)}static eventCallback(ot,dt,Lt){return zt=>{$e.matchEventFullKeyCode(zt,ot)&&Lt.runGuarded(()=>dt(zt))}}static _normalizeKey(ot){return"esc"===ot?"escape":ot}static#e=this.\u0275fac=function(dt){return new(dt||$e)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:$e,factory:$e.\u0275fac})}return $e})();const Ne=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:t.bD},{provide:c.g9A,useValue:function we(){w.makeCurrent()},multi:!0},{provide:t.K0,useFactory:function st(){return(0,c.RDi)(document),document},deps:[]}]),Se=new c.OlP(""),W=[{provide:c.rWj,useClass:class p{addToWindow(lt){c.dqk.getAngularTestability=(dt,Lt=!0)=>{const zt=lt.findTestabilityInTree(dt,Lt);if(null==zt)throw new c.vHH(5103,!1);return zt},c.dqk.getAllAngularTestabilities=()=>lt.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>lt.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(dt=>{const Lt=c.dqk.getAllAngularTestabilities();let zt=Lt.length,Rt=!1;const $t=function(an){Rt=Rt||an,zt--,0==zt&&dt(Rt)};Lt.forEach(an=>{an.whenStable($t)})})}findTestabilityInTree(lt,ot,dt){return null==ot?null:lt.getTestability(ot)??(dt?(0,t.q)().isShadowRoot(ot)?this.findTestabilityInTree(lt,ot.host,!0):this.findTestabilityInTree(lt,ot.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],ae=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Ke(){return new c.qLn},deps:[]},{provide:g,useClass:me,multi:!0,deps:[t.K0,c.R0b,c.Lbi]},{provide:g,useClass:Re,multi:!0,deps:[t.K0]},J,R,y,{provide:c.FYo,useExisting:J},{provide:t.JF,useClass:f,deps:[]},[]];let ve=(()=>{class $e{constructor(ot){}static withServerTransition(ot){return{ngModule:$e,providers:[{provide:c.AFp,useValue:ot.appId}]}}static#e=this.\u0275fac=function(dt){return new(dt||$e)(c.LFG(Se,12))};static#t=this.\u0275mod=c.oAB({type:$e});static#n=this.\u0275inj=c.cJS({providers:[...ae,...W],imports:[t.ez,c.hGG]})}return $e})(),re=(()=>{class $e{constructor(ot){this._doc=ot}getTitle(){return this._doc.title}setTitle(ot){this._doc.title=ot||""}static#e=this.\u0275fac=function(dt){return new(dt||$e)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:$e,factory:function(dt){let Lt=null;return Lt=dt?new dt:function ie(){return new re((0,c.LFG)(t.K0))}(),Lt},providedIn:"root"})}return $e})();typeof window<"u"&&window;let cn=(()=>{class $e{static#e=this.\u0275fac=function(dt){return new(dt||$e)};static#t=this.\u0275prov=c.Yz7({token:$e,factory:function(dt){let Lt=null;return Lt=dt?new(dt||$e):c.LFG(Gt),Lt},providedIn:"root"})}return $e})(),Gt=(()=>{class $e extends cn{constructor(ot){super(),this._doc=ot}sanitize(ot,dt){if(null==dt)return null;switch(ot){case c.q3G.NONE:return dt;case c.q3G.HTML:return(0,c.qzn)(dt,"HTML")?(0,c.z3N)(dt):(0,c.EiD)(this._doc,String(dt)).toString();case c.q3G.STYLE:return(0,c.qzn)(dt,"Style")?(0,c.z3N)(dt):dt;case c.q3G.SCRIPT:if((0,c.qzn)(dt,"Script"))return(0,c.z3N)(dt);throw new c.vHH(5200,!1);case c.q3G.URL:return(0,c.qzn)(dt,"URL")?(0,c.z3N)(dt):(0,c.mCW)(String(dt));case c.q3G.RESOURCE_URL:if((0,c.qzn)(dt,"ResourceURL"))return(0,c.z3N)(dt);throw new c.vHH(5201,!1);default:throw new c.vHH(5202,!1)}}bypassSecurityTrustHtml(ot){return(0,c.JVY)(ot)}bypassSecurityTrustStyle(ot){return(0,c.L6k)(ot)}bypassSecurityTrustScript(ot){return(0,c.eBb)(ot)}bypassSecurityTrustUrl(ot){return(0,c.LAX)(ot)}bypassSecurityTrustResourceUrl(ot){return(0,c.pB0)(ot)}static#e=this.\u0275fac=function(dt){return new(dt||$e)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:$e,factory:function(dt){let Lt=null;return Lt=dt?new dt:function dn($e){return new Gt($e.get(t.K0))}(c.LFG(c.zs3)),Lt},providedIn:"root"})}return $e})()},5612:(jn,nt,S)=>{"use strict";S.d(nt,{gz:()=>xi,F0:()=>Qr,rH:()=>bs,Bz:()=>ss,lC:()=>gi});var c=S(5879),t=S(2664),b=S(2459),w=S(2096),E=S(5619),F=S(2572),L=S(6973),D=S(5211),p=S(4911),f=S(8407),g=S(5592),y=S(4674);function M(Ee,He){const de=(0,y.m)(Ee)?Ee:()=>Ee,Be=yt=>yt.error(de());return new g.y(He?yt=>He.schedule(Be,0,yt):Be)}var U=S(6232),R=S(3168),V=S(8645),k=S(6814),P=S(7398),x=S(4664),O=S(8180),T=S(7921),N=S(2181),C=S(1631),B=S(1374),Y=S(6328),J=S(9397),ce=S(4829),Fe=S(8251),q=S(9360);function le(Ee){return(0,q.e)((He,de)=>{let Ut,Be=null,yt=!1;Be=He.subscribe((0,Fe.x)(de,void 0,void 0,Ft=>{Ut=(0,ce.Xf)(Ee(Ft,le(Ee)(He))),Be?(Be.unsubscribe(),Be=null,Ut.subscribe(de)):yt=!0})),yt&&(Be.unsubscribe(),Be=null,Ut.subscribe(de))})}var se=S(3572);function me(Ee){return Ee<=0?()=>U.E:(0,q.e)((He,de)=>{let Be=[];He.subscribe((0,Fe.x)(de,yt=>{Be.push(yt),Ee<Be.length&&Be.shift()},()=>{for(const yt of Be)de.next(yt);de.complete()},void 0,()=>{Be=null}))})}var De=S(3026),Le=S(2737),Re=S(975),Ie=S(4716),ge=S(6196),Ue=S(7537),ke=S(6593);const we="primary",Ke=Symbol("RouteTitle");class st{constructor(He){this.params=He||{}}has(He){return Object.prototype.hasOwnProperty.call(this.params,He)}get(He){if(this.has(He)){const de=this.params[He];return Array.isArray(de)?de[0]:de}return null}getAll(He){if(this.has(He)){const de=this.params[He];return Array.isArray(de)?de:[de]}return[]}get keys(){return Object.keys(this.params)}}function Qe(Ee){return new st(Ee)}function Ne(Ee,He,de){const Be=de.path.split("/");if(Be.length>Ee.length||"full"===de.pathMatch&&(He.hasChildren()||Be.length<Ee.length))return null;const yt={};for(let Ut=0;Ut<Be.length;Ut++){const Ft=Be[Ut],Sn=Ee[Ut];if(Ft.startsWith(":"))yt[Ft.substring(1)]=Sn;else if(Ft!==Sn.path)return null}return{consumed:Ee.slice(0,Be.length),posParams:yt}}function W(Ee,He){const de=Ee?Object.keys(Ee):void 0,Be=He?Object.keys(He):void 0;if(!de||!Be||de.length!=Be.length)return!1;let yt;for(let Ut=0;Ut<de.length;Ut++)if(yt=de[Ut],!ae(Ee[yt],He[yt]))return!1;return!0}function ae(Ee,He){if(Array.isArray(Ee)&&Array.isArray(He)){if(Ee.length!==He.length)return!1;const de=[...Ee].sort(),Be=[...He].sort();return de.every((yt,Ut)=>Be[Ut]===yt)}return Ee===He}function ve(Ee){return Ee.length>0?Ee[Ee.length-1]:null}function Q(Ee){return(0,t.b)(Ee)?Ee:(0,c.QGY)(Ee)?(0,b.D)(Promise.resolve(Ee)):(0,w.of)(Ee)}const X={exact:function te(Ee,He,de){if(!ct(Ee.segments,He.segments)||!ue(Ee.segments,He.segments,de)||Ee.numberOfChildren!==He.numberOfChildren)return!1;for(const Be in He.children)if(!Ee.children[Be]||!te(Ee.children[Be],He.children[Be],de))return!1;return!0},subset:fe},$={exact:function re(Ee,He){return W(Ee,He)},subset:function ee(Ee,He){return Object.keys(He).length<=Object.keys(Ee).length&&Object.keys(He).every(de=>ae(Ee[de],He[de]))},ignored:()=>!0};function ie(Ee,He,de){return X[de.paths](Ee.root,He.root,de.matrixParams)&&$[de.queryParams](Ee.queryParams,He.queryParams)&&!("exact"===de.fragment&&Ee.fragment!==He.fragment)}function fe(Ee,He,de){return ye(Ee,He,He.segments,de)}function ye(Ee,He,de,Be){if(Ee.segments.length>de.length){const yt=Ee.segments.slice(0,de.length);return!(!ct(yt,de)||He.hasChildren()||!ue(yt,de,Be))}if(Ee.segments.length===de.length){if(!ct(Ee.segments,de)||!ue(Ee.segments,de,Be))return!1;for(const yt in He.children)if(!Ee.children[yt]||!fe(Ee.children[yt],He.children[yt],Be))return!1;return!0}{const yt=de.slice(0,Ee.segments.length),Ut=de.slice(Ee.segments.length);return!!(ct(Ee.segments,yt)&&ue(Ee.segments,yt,Be)&&Ee.children[we])&&ye(Ee.children[we],He,Ut,Be)}}function ue(Ee,He,de){return He.every((Be,yt)=>$[de](Ee[yt].parameters,Be.parameters))}class Me{constructor(He=new Ye([],{}),de={},Be=null){this.root=He,this.queryParams=de,this.fragment=Be}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qe(this.queryParams)),this._queryParamMap}toString(){return At.serialize(this)}}class Ye{constructor(He,de){this.segments=He,this.children=de,this.parent=null,Object.values(de).forEach(Be=>Be.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jt(this)}}class Ge{constructor(He,de){this.path=He,this.parameters=de}get parameterMap(){return this._parameterMap||(this._parameterMap=Qe(this.parameters)),this._parameterMap}toString(){return ft(this)}}function ct(Ee,He){return Ee.length===He.length&&Ee.every((de,Be)=>de.path===He[Be].path)}let _t=(()=>{class Ee{static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return new Bt},providedIn:"root"})}return Ee})();class Bt{parse(He){const de=new Rt(He);return new Me(de.parseRootSegment(),de.parseQueryParams(),de.parseFragment())}serialize(He){const de=`/${Qt(He.root,!0)}`,Be=function xe(Ee){const He=Object.keys(Ee).map(de=>{const Be=Ee[de];return Array.isArray(Be)?Be.map(yt=>`${dn(de)}=${dn(yt)}`).join("&"):`${dn(de)}=${dn(Be)}`}).filter(de=>!!de);return He.length?`?${He.join("&")}`:""}(He.queryParams);return`${de}${Be}${"string"==typeof He.fragment?`#${function Gt(Ee){return encodeURI(Ee)}(He.fragment)}`:""}`}}const At=new Bt;function jt(Ee){return Ee.segments.map(He=>ft(He)).join("/")}function Qt(Ee,He){if(!Ee.hasChildren())return jt(Ee);if(He){const de=Ee.children[we]?Qt(Ee.children[we],!1):"",Be=[];return Object.entries(Ee.children).forEach(([yt,Ut])=>{yt!==we&&Be.push(`${yt}:${Qt(Ut,!1)}`)}),Be.length>0?`${de}(${Be.join("//")})`:de}{const de=function rt(Ee,He){let de=[];return Object.entries(Ee.children).forEach(([Be,yt])=>{Be===we&&(de=de.concat(He(yt,Be)))}),Object.entries(Ee.children).forEach(([Be,yt])=>{Be!==we&&(de=de.concat(He(yt,Be)))}),de}(Ee,(Be,yt)=>yt===we?[Qt(Ee.children[we],!1)]:[`${yt}:${Qt(Be,!1)}`]);return 1===Object.keys(Ee.children).length&&null!=Ee.children[we]?`${jt(Ee)}/${de[0]}`:`${jt(Ee)}/(${de.join("//")})`}}function cn(Ee){return encodeURIComponent(Ee).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dn(Ee){return cn(Ee).replace(/%3B/gi,";")}function Cn(Ee){return cn(Ee).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function en(Ee){return decodeURIComponent(Ee)}function xt(Ee){return en(Ee.replace(/\+/g,"%20"))}function ft(Ee){return`${Cn(Ee.path)}${function Xe(Ee){return Object.keys(Ee).map(He=>`;${Cn(He)}=${Cn(Ee[He])}`).join("")}(Ee.parameters)}`}const Oe=/^[^\/()?;#]+/;function We(Ee){const He=Ee.match(Oe);return He?He[0]:""}const $e=/^[^\/()?;=#]+/,ot=/^[^=?&#]+/,Lt=/^[^&#]+/;class Rt{constructor(He){this.url=He,this.remaining=He}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}parseQueryParams(){const He={};if(this.consumeOptional("?"))do{this.parseQueryParam(He)}while(this.consumeOptional("&"));return He}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const He=[];for(this.peekStartsWith("(")||He.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),He.push(this.parseSegment());let de={};this.peekStartsWith("/(")&&(this.capture("/"),de=this.parseParens(!0));let Be={};return this.peekStartsWith("(")&&(Be=this.parseParens(!1)),(He.length>0||Object.keys(de).length>0)&&(Be[we]=new Ye(He,de)),Be}parseSegment(){const He=We(this.remaining);if(""===He&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(He),new Ge(en(He),this.parseMatrixParams())}parseMatrixParams(){const He={};for(;this.consumeOptional(";");)this.parseParam(He);return He}parseParam(He){const de=function lt(Ee){const He=Ee.match($e);return He?He[0]:""}(this.remaining);if(!de)return;this.capture(de);let Be="";if(this.consumeOptional("=")){const yt=We(this.remaining);yt&&(Be=yt,this.capture(Be))}He[en(de)]=en(Be)}parseQueryParam(He){const de=function dt(Ee){const He=Ee.match(ot);return He?He[0]:""}(this.remaining);if(!de)return;this.capture(de);let Be="";if(this.consumeOptional("=")){const Ft=function zt(Ee){const He=Ee.match(Lt);return He?He[0]:""}(this.remaining);Ft&&(Be=Ft,this.capture(Be))}const yt=xt(de),Ut=xt(Be);if(He.hasOwnProperty(yt)){let Ft=He[yt];Array.isArray(Ft)||(Ft=[Ft],He[yt]=Ft),Ft.push(Ut)}else He[yt]=Ut}parseParens(He){const de={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Be=We(this.remaining),yt=this.remaining[Be.length];if("/"!==yt&&")"!==yt&&";"!==yt)throw new c.vHH(4010,!1);let Ut;Be.indexOf(":")>-1?(Ut=Be.slice(0,Be.indexOf(":")),this.capture(Ut),this.capture(":")):He&&(Ut=we);const Ft=this.parseChildren();de[Ut]=1===Object.keys(Ft).length?Ft[we]:new Ye([],Ft),this.consumeOptional("//")}return de}peekStartsWith(He){return this.remaining.startsWith(He)}consumeOptional(He){return!!this.peekStartsWith(He)&&(this.remaining=this.remaining.substring(He.length),!0)}capture(He){if(!this.consumeOptional(He))throw new c.vHH(4011,!1)}}function $t(Ee){return Ee.segments.length>0?new Ye([],{[we]:Ee}):Ee}function an(Ee){const He={};for(const Be of Object.keys(Ee.children)){const Ut=an(Ee.children[Be]);if(Be===we&&0===Ut.segments.length&&Ut.hasChildren())for(const[Ft,Sn]of Object.entries(Ut.children))He[Ft]=Sn;else(Ut.segments.length>0||Ut.hasChildren())&&(He[Be]=Ut)}return function mn(Ee){if(1===Ee.numberOfChildren&&Ee.children[we]){const He=Ee.children[we];return new Ye(Ee.segments.concat(He.segments),He.children)}return Ee}(new Ye(Ee.segments,He))}function An(Ee){return Ee instanceof Me}function Zn(Ee){let He;const yt=$t(function de(Ut){const Ft={};for(const zn of Ut.children){const Ei=de(zn);Ft[zn.outlet]=Ei}const Sn=new Ye(Ut.url,Ft);return Ut===Ee&&(He=Sn),Sn}(Ee.root));return He??yt}function Kn(Ee,He,de,Be){let yt=Ee;for(;yt.parent;)yt=yt.parent;if(0===He.length)return gn(yt,yt,yt,de,Be);const Ut=function Xt(Ee){if("string"==typeof Ee[0]&&1===Ee.length&&"/"===Ee[0])return new ut(!0,0,Ee);let He=0,de=!1;const Be=Ee.reduce((yt,Ut,Ft)=>{if("object"==typeof Ut&&null!=Ut){if(Ut.outlets){const Sn={};return Object.entries(Ut.outlets).forEach(([zn,Ei])=>{Sn[zn]="string"==typeof Ei?Ei.split("/"):Ei}),[...yt,{outlets:Sn}]}if(Ut.segmentPath)return[...yt,Ut.segmentPath]}return"string"!=typeof Ut?[...yt,Ut]:0===Ft?(Ut.split("/").forEach((Sn,zn)=>{0==zn&&"."===Sn||(0==zn&&""===Sn?de=!0:".."===Sn?He++:""!=Sn&&yt.push(Sn))}),yt):[...yt,Ut]},[]);return new ut(de,He,Be)}(He);if(Ut.toRoot())return gn(yt,yt,new Ye([],{}),de,Be);const Ft=function et(Ee,He,de){if(Ee.isAbsolute)return new Ze(He,!0,0);if(!de)return new Ze(He,!1,NaN);if(null===de.parent)return new Ze(de,!0,0);const Be=ci(Ee.commands[0])?0:1;return function wt(Ee,He,de){let Be=Ee,yt=He,Ut=de;for(;Ut>yt;){if(Ut-=yt,Be=Be.parent,!Be)throw new c.vHH(4005,!1);yt=Be.segments.length}return new Ze(Be,!1,yt-Ut)}(de,de.segments.length-1+Be,Ee.numberOfDoubleDots)}(Ut,yt,Ee),Sn=Ft.processChildren?Fn(Ft.segmentGroup,Ft.index,Ut.commands):wn(Ft.segmentGroup,Ft.index,Ut.commands);return gn(yt,Ft.segmentGroup,Sn,de,Be)}function ci(Ee){return"object"==typeof Ee&&null!=Ee&&!Ee.outlets&&!Ee.segmentPath}function vn(Ee){return"object"==typeof Ee&&null!=Ee&&Ee.outlets}function gn(Ee,He,de,Be,yt){let Ft,Ut={};Be&&Object.entries(Be).forEach(([zn,Ei])=>{Ut[zn]=Array.isArray(Ei)?Ei.map(Ti=>`${Ti}`):`${Ei}`}),Ft=Ee===He?de:Et(Ee,He,de);const Sn=$t(an(Ft));return new Me(Sn,Ut,yt)}function Et(Ee,He,de){const Be={};return Object.entries(Ee.children).forEach(([yt,Ut])=>{Be[yt]=Ut===He?de:Et(Ut,He,de)}),new Ye(Ee.segments,Be)}class ut{constructor(He,de,Be){if(this.isAbsolute=He,this.numberOfDoubleDots=de,this.commands=Be,He&&Be.length>0&&ci(Be[0]))throw new c.vHH(4003,!1);const yt=Be.find(vn);if(yt&&yt!==ve(Be))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ze{constructor(He,de,Be){this.segmentGroup=He,this.processChildren=de,this.index=Be}}function wn(Ee,He,de){if(Ee||(Ee=new Ye([],{})),0===Ee.segments.length&&Ee.hasChildren())return Fn(Ee,He,de);const Be=function Wt(Ee,He,de){let Be=0,yt=He;const Ut={match:!1,pathIndex:0,commandIndex:0};for(;yt<Ee.segments.length;){if(Be>=de.length)return Ut;const Ft=Ee.segments[yt],Sn=de[Be];if(vn(Sn))break;const zn=`${Sn}`,Ei=Be<de.length-1?de[Be+1]:null;if(yt>0&&void 0===zn)break;if(zn&&Ei&&"object"==typeof Ei&&void 0===Ei.outlets){if(!Un(zn,Ei,Ft))return Ut;Be+=2}else{if(!Un(zn,{},Ft))return Ut;Be++}yt++}return{match:!0,pathIndex:yt,commandIndex:Be}}(Ee,He,de),yt=de.slice(Be.commandIndex);if(Be.match&&Be.pathIndex<Ee.segments.length){const Ut=new Ye(Ee.segments.slice(0,Be.pathIndex),{});return Ut.children[we]=new Ye(Ee.segments.slice(Be.pathIndex),Ee.children),Fn(Ut,0,yt)}return Be.match&&0===yt.length?new Ye(Ee.segments,{}):Be.match&&!Ee.hasChildren()?Kt(Ee,He,de):Be.match?Fn(Ee,0,yt):Kt(Ee,He,de)}function Fn(Ee,He,de){if(0===de.length)return new Ye(Ee.segments,{});{const Be=function qt(Ee){return vn(Ee[0])?Ee[0].outlets:{[we]:Ee}}(de),yt={};if(!Be[we]&&Ee.children[we]&&1===Ee.numberOfChildren&&0===Ee.children[we].segments.length){const Ut=Fn(Ee.children[we],He,de);return new Ye(Ee.segments,Ut.children)}return Object.entries(Be).forEach(([Ut,Ft])=>{"string"==typeof Ft&&(Ft=[Ft]),null!==Ft&&(yt[Ut]=wn(Ee.children[Ut],He,Ft))}),Object.entries(Ee.children).forEach(([Ut,Ft])=>{void 0===Be[Ut]&&(yt[Ut]=Ft)}),new Ye(Ee.segments,yt)}}function Kt(Ee,He,de){const Be=Ee.segments.slice(0,He);let yt=0;for(;yt<de.length;){const Ut=de[yt];if(vn(Ut)){const zn=nn(Ut.outlets);return new Ye(Be,zn)}if(0===yt&&ci(de[0])){Be.push(new Ge(Ee.segments[He].path,Tn(de[0]))),yt++;continue}const Ft=vn(Ut)?Ut.outlets[we]:`${Ut}`,Sn=yt<de.length-1?de[yt+1]:null;Ft&&Sn&&ci(Sn)?(Be.push(new Ge(Ft,Tn(Sn))),yt+=2):(Be.push(new Ge(Ft,{})),yt++)}return new Ye(Be,{})}function nn(Ee){const He={};return Object.entries(Ee).forEach(([de,Be])=>{"string"==typeof Be&&(Be=[Be]),null!==Be&&(He[de]=Kt(new Ye([],{}),0,Be))}),He}function Tn(Ee){const He={};return Object.entries(Ee).forEach(([de,Be])=>He[de]=`${Be}`),He}function Un(Ee,He,de){return Ee==de.path&&W(He,de.parameters)}const ei="imperative";class bt{constructor(He,de){this.id=He,this.url=de}}class un extends bt{constructor(He,de,Be="imperative",yt=null){super(He,de),this.type=0,this.navigationTrigger=Be,this.restoredState=yt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Te extends bt{constructor(He,de,Be){super(He,de),this.urlAfterRedirects=Be,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vt extends bt{constructor(He,de,Be,yt){super(He,de),this.reason=Be,this.code=yt,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gt extends bt{constructor(He,de,Be,yt){super(He,de),this.reason=Be,this.code=yt,this.type=16}}class Nt extends bt{constructor(He,de,Be,yt){super(He,de),this.error=Be,this.target=yt,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class on extends bt{constructor(He,de,Be,yt){super(He,de),this.urlAfterRedirects=Be,this.state=yt,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ti extends bt{constructor(He,de,Be,yt){super(He,de),this.urlAfterRedirects=Be,this.state=yt,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fi extends bt{constructor(He,de,Be,yt,Ut){super(He,de),this.urlAfterRedirects=Be,this.state=yt,this.shouldActivate=Ut,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Oi extends bt{constructor(He,de,Be,yt){super(He,de),this.urlAfterRedirects=Be,this.state=yt,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fr extends bt{constructor(He,de,Be,yt){super(He,de),this.urlAfterRedirects=Be,this.state=yt,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gr{constructor(He){this.route=He,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fo{constructor(He){this.route=He,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ki{constructor(He){this.snapshot=He,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zr{constructor(He){this.snapshot=He,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uo{constructor(He){this.snapshot=He,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Di{constructor(He){this.snapshot=He,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dr{constructor(He,de,Be){this.routerEvent=He,this.position=de,this.anchor=Be,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class $r{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Zi,this.attachRef=null}}let Zi=(()=>{class Ee{constructor(){this.contexts=new Map}onChildOutletCreated(de,Be){const yt=this.getOrCreateContext(de);yt.outlet=Be,this.contexts.set(de,yt)}onChildOutletDestroyed(de){const Be=this.getContext(de);Be&&(Be.outlet=null,Be.attachRef=null)}onOutletDeactivated(){const de=this.contexts;return this.contexts=new Map,de}onOutletReAttached(de){this.contexts=de}getOrCreateContext(de){let Be=this.getContext(de);return Be||(Be=new $r,this.contexts.set(de,Be)),Be}getContext(de){return this.contexts.get(de)||null}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();class zo{constructor(He){this._root=He}get root(){return this._root.value}parent(He){const de=this.pathFromRoot(He);return de.length>1?de[de.length-2]:null}children(He){const de=Co(He,this._root);return de?de.children.map(Be=>Be.value):[]}firstChild(He){const de=Co(He,this._root);return de&&de.children.length>0?de.children[0].value:null}siblings(He){const de=Kr(He,this._root);return de.length<2?[]:de[de.length-2].children.map(yt=>yt.value).filter(yt=>yt!==He)}pathFromRoot(He){return Kr(He,this._root).map(de=>de.value)}}function Co(Ee,He){if(Ee===He.value)return He;for(const de of He.children){const Be=Co(Ee,de);if(Be)return Be}return null}function Kr(Ee,He){if(Ee===He.value)return[He];for(const de of He.children){const Be=Kr(Ee,de);if(Be.length)return Be.unshift(He),Be}return[]}class qr{constructor(He,de){this.value=He,this.children=de}toString(){return`TreeNode(${this.value})`}}function Io(Ee){const He={};return Ee&&Ee.children.forEach(de=>He[de.value.outlet]=de),He}class Pn extends zo{constructor(He,de){super(He),this.snapshot=de,Zt(this,He)}toString(){return this.snapshot.toString()}}function oi(Ee,He){const de=function Pi(Ee,He){const Ft=new Ir([],{},{},"",{},we,He,null,{});return new Br("",new qr(Ft,[]))}(0,He),Be=new E.X([new Ge("",{})]),yt=new E.X({}),Ut=new E.X({}),Ft=new E.X({}),Sn=new E.X(""),zn=new xi(Be,yt,Ft,Sn,Ut,we,He,de.root);return zn.snapshot=de.root,new Pn(new qr(zn,[]),de)}class xi{constructor(He,de,Be,yt,Ut,Ft,Sn,zn){this.urlSubject=He,this.paramsSubject=de,this.queryParamsSubject=Be,this.fragmentSubject=yt,this.dataSubject=Ut,this.outlet=Ft,this.component=Sn,this._futureSnapshot=zn,this.title=this.dataSubject?.pipe((0,P.U)(Ei=>Ei[Ke]))??(0,w.of)(void 0),this.url=He,this.params=de,this.queryParams=Be,this.fragment=yt,this.data=Ut}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,P.U)(He=>Qe(He)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,P.U)(He=>Qe(He)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ki(Ee,He="emptyOnly"){const de=Ee.pathFromRoot;let Be=0;if("always"!==He)for(Be=de.length-1;Be>=1;){const yt=de[Be],Ut=de[Be-1];if(yt.routeConfig&&""===yt.routeConfig.path)Be--;else{if(Ut.component)break;Be--}}return function no(Ee){return Ee.reduce((He,de)=>({params:{...He.params,...de.params},data:{...He.data,...de.data},resolve:{...de.data,...He.resolve,...de.routeConfig?.data,...de._resolvedData}}),{params:{},data:{},resolve:{}})}(de.slice(Be))}class Ir{get title(){return this.data?.[Ke]}constructor(He,de,Be,yt,Ut,Ft,Sn,zn,Ei){this.url=He,this.params=de,this.queryParams=Be,this.fragment=yt,this.data=Ut,this.outlet=Ft,this.component=Sn,this.routeConfig=zn,this._resolve=Ei}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Be=>Be.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Br extends zo{constructor(He,de){super(de),this.url=He,Zt(this,de)}toString(){return On(this._root)}}function Zt(Ee,He){He.value._routerState=Ee,He.children.forEach(de=>Zt(Ee,de))}function On(Ee){const He=Ee.children.length>0?` { ${Ee.children.map(On).join(", ")} } `:"";return`${Ee.value}${He}`}function Xn(Ee){if(Ee.snapshot){const He=Ee.snapshot,de=Ee._futureSnapshot;Ee.snapshot=de,W(He.queryParams,de.queryParams)||Ee.queryParamsSubject.next(de.queryParams),He.fragment!==de.fragment&&Ee.fragmentSubject.next(de.fragment),W(He.params,de.params)||Ee.paramsSubject.next(de.params),function Se(Ee,He){if(Ee.length!==He.length)return!1;for(let de=0;de<Ee.length;++de)if(!W(Ee[de],He[de]))return!1;return!0}(He.url,de.url)||Ee.urlSubject.next(de.url),W(He.data,de.data)||Ee.dataSubject.next(de.data)}else Ee.snapshot=Ee._futureSnapshot,Ee.dataSubject.next(Ee._futureSnapshot.data)}function Wn(Ee,He){const de=W(Ee.params,He.params)&&function at(Ee,He){return ct(Ee,He)&&Ee.every((de,Be)=>W(de.parameters,He[Be].parameters))}(Ee.url,He.url);return de&&!(!Ee.parent!=!He.parent)&&(!Ee.parent||Wn(Ee.parent,He.parent))}let gi=(()=>{class Ee{constructor(){this.activated=null,this._activatedRoute=null,this.name=we,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Zi),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(Ni,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(de){if(de.name){const{firstChange:Be,previousValue:yt}=de.name;if(Be)return;this.isTrackedInParentContexts(yt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(yt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(de){return this.parentContexts.getContext(de)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const de=this.parentContexts.getContext(this.name);de?.route&&(de.attachRef?this.attach(de.attachRef,de.route):this.activateWith(de.route,de.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const de=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(de.instance),de}attach(de,Be){this.activated=de,this._activatedRoute=Be,this.location.insert(de.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(de.instance)}deactivate(){if(this.activated){const de=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(de)}}activateWith(de,Be){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=de;const yt=this.location,Ft=de.snapshot.component,Sn=this.parentContexts.getOrCreateContext(this.name).children,zn=new Ii(de,Sn,yt.injector);this.activated=yt.createComponent(Ft,{index:yt.length,injector:zn,environmentInjector:Be??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275dir=c.lG2({type:Ee,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]})}return Ee})();class Ii{constructor(He,de,Be){this.route=He,this.childContexts=de,this.parent=Be}get(He,de){return He===xi?this.route:He===Zi?this.childContexts:this.parent.get(He,de)}}const Ni=new c.OlP("");let wi=(()=>{class Ee{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(de){this.unsubscribeFromRouteData(de),this.subscribeToRouteData(de)}unsubscribeFromRouteData(de){this.outletDataSubscriptions.get(de)?.unsubscribe(),this.outletDataSubscriptions.delete(de)}subscribeToRouteData(de){const{activatedRoute:Be}=de,yt=(0,F.a)([Be.queryParams,Be.params,Be.data]).pipe((0,x.w)(([Ut,Ft,Sn],zn)=>(Sn={...Ut,...Ft,...Sn},0===zn?(0,w.of)(Sn):Promise.resolve(Sn)))).subscribe(Ut=>{if(!de.isActivated||!de.activatedComponentRef||de.activatedRoute!==Be||null===Be.component)return void this.unsubscribeFromRouteData(de);const Ft=(0,c.qFp)(Be.component);if(Ft)for(const{templateName:Sn}of Ft.inputs)de.activatedComponentRef.setInput(Sn,Ut[Sn]);else this.unsubscribeFromRouteData(de)});this.outletDataSubscriptions.set(de,yt)}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();function Pr(Ee,He,de){if(de&&Ee.shouldReuseRoute(He.value,de.value.snapshot)){const Be=de.value;Be._futureSnapshot=He.value;const yt=function io(Ee,He,de){return He.children.map(Be=>{for(const yt of de.children)if(Ee.shouldReuseRoute(Be.value,yt.value.snapshot))return Pr(Ee,Be,yt);return Pr(Ee,Be)})}(Ee,He,de);return new qr(Be,yt)}{if(Ee.shouldAttach(He.value)){const Ut=Ee.retrieve(He.value);if(null!==Ut){const Ft=Ut.route;return Ft.value._futureSnapshot=He.value,Ft.children=He.children.map(Sn=>Pr(Ee,Sn)),Ft}}const Be=function ho(Ee){return new xi(new E.X(Ee.url),new E.X(Ee.params),new E.X(Ee.queryParams),new E.X(Ee.fragment),new E.X(Ee.data),Ee.outlet,Ee.component,Ee)}(He.value),yt=He.children.map(Ut=>Pr(Ee,Ut));return new qr(Be,yt)}}const ts="ngNavigationCancelingError";function Ur(Ee,He){const{redirectTo:de,navigationBehaviorOptions:Be}=An(He)?{redirectTo:He,navigationBehaviorOptions:void 0}:He,yt=Yr(!1,0,He);return yt.url=de,yt.navigationBehaviorOptions=Be,yt}function Yr(Ee,He,de){const Be=new Error("NavigationCancelingError: "+(Ee||""));return Be[ts]=!0,Be.cancellationCode=He,de&&(Be.url=de),Be}function jo(Ee){return hr(Ee)&&An(Ee.url)}function hr(Ee){return Ee&&Ee[ts]}let Mi=(()=>{class Ee{static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275cmp=c.Xpm({type:Ee,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(Be,yt){1&Be&&c._UZ(0,"router-outlet")},dependencies:[gi],encapsulation:2})}return Ee})();function er(Ee){const He=Ee.children&&Ee.children.map(er),de=He?{...Ee,children:He}:{...Ee};return!de.component&&!de.loadComponent&&(He||de.loadChildren)&&de.outlet&&de.outlet!==we&&(de.component=Mi),de}function vr(Ee){return Ee.outlet||we}function eo(Ee){if(!Ee)return null;if(Ee.routeConfig?._injector)return Ee.routeConfig._injector;for(let He=Ee.parent;He;He=He.parent){const de=He.routeConfig;if(de?._loadedInjector)return de._loadedInjector;if(de?._injector)return de._injector}return null}class ir{constructor(He,de,Be,yt,Ut){this.routeReuseStrategy=He,this.futureState=de,this.currState=Be,this.forwardEvent=yt,this.inputBindingEnabled=Ut}activate(He){const de=this.futureState._root,Be=this.currState?this.currState._root:null;this.deactivateChildRoutes(de,Be,He),Xn(this.futureState.root),this.activateChildRoutes(de,Be,He)}deactivateChildRoutes(He,de,Be){const yt=Io(de);He.children.forEach(Ut=>{const Ft=Ut.value.outlet;this.deactivateRoutes(Ut,yt[Ft],Be),delete yt[Ft]}),Object.values(yt).forEach(Ut=>{this.deactivateRouteAndItsChildren(Ut,Be)})}deactivateRoutes(He,de,Be){const yt=He.value,Ut=de?de.value:null;if(yt===Ut)if(yt.component){const Ft=Be.getContext(yt.outlet);Ft&&this.deactivateChildRoutes(He,de,Ft.children)}else this.deactivateChildRoutes(He,de,Be);else Ut&&this.deactivateRouteAndItsChildren(de,Be)}deactivateRouteAndItsChildren(He,de){He.value.component&&this.routeReuseStrategy.shouldDetach(He.value.snapshot)?this.detachAndStoreRouteSubtree(He,de):this.deactivateRouteAndOutlet(He,de)}detachAndStoreRouteSubtree(He,de){const Be=de.getContext(He.value.outlet),yt=Be&&He.value.component?Be.children:de,Ut=Io(He);for(const Ft of Object.keys(Ut))this.deactivateRouteAndItsChildren(Ut[Ft],yt);if(Be&&Be.outlet){const Ft=Be.outlet.detach(),Sn=Be.children.onOutletDeactivated();this.routeReuseStrategy.store(He.value.snapshot,{componentRef:Ft,route:He,contexts:Sn})}}deactivateRouteAndOutlet(He,de){const Be=de.getContext(He.value.outlet),yt=Be&&He.value.component?Be.children:de,Ut=Io(He);for(const Ft of Object.keys(Ut))this.deactivateRouteAndItsChildren(Ut[Ft],yt);Be&&(Be.outlet&&(Be.outlet.deactivate(),Be.children.onOutletDeactivated()),Be.attachRef=null,Be.route=null)}activateChildRoutes(He,de,Be){const yt=Io(de);He.children.forEach(Ut=>{this.activateRoutes(Ut,yt[Ut.value.outlet],Be),this.forwardEvent(new Di(Ut.value.snapshot))}),He.children.length&&this.forwardEvent(new Zr(He.value.snapshot))}activateRoutes(He,de,Be){const yt=He.value,Ut=de?de.value:null;if(Xn(yt),yt===Ut)if(yt.component){const Ft=Be.getOrCreateContext(yt.outlet);this.activateChildRoutes(He,de,Ft.children)}else this.activateChildRoutes(He,de,Be);else if(yt.component){const Ft=Be.getOrCreateContext(yt.outlet);if(this.routeReuseStrategy.shouldAttach(yt.snapshot)){const Sn=this.routeReuseStrategy.retrieve(yt.snapshot);this.routeReuseStrategy.store(yt.snapshot,null),Ft.children.onOutletReAttached(Sn.contexts),Ft.attachRef=Sn.componentRef,Ft.route=Sn.route.value,Ft.outlet&&Ft.outlet.attach(Sn.componentRef,Sn.route.value),Xn(Sn.route.value),this.activateChildRoutes(He,null,Ft.children)}else{const Sn=eo(yt.snapshot);Ft.attachRef=null,Ft.route=yt,Ft.injector=Sn,Ft.outlet&&Ft.outlet.activateWith(yt,Ft.injector),this.activateChildRoutes(He,null,Ft.children)}}else this.activateChildRoutes(He,null,Be)}}class hs{constructor(He){this.path=He,this.route=this.path[this.path.length-1]}}class wo{constructor(He,de){this.component=He,this.route=de}}function js(Ee,He,de){const Be=Ee._root;return ms(Be,He?He._root:null,de,[Be.value])}function is(Ee,He){const de=Symbol(),Be=He.get(Ee,de);return Be===de?"function"!=typeof Ee||(0,c.Z0I)(Ee)?He.get(Ee):Ee:Be}function ms(Ee,He,de,Be,yt={canDeactivateChecks:[],canActivateChecks:[]}){const Ut=Io(He);return Ee.children.forEach(Ft=>{(function na(Ee,He,de,Be,yt={canDeactivateChecks:[],canActivateChecks:[]}){const Ut=Ee.value,Ft=He?He.value:null,Sn=de?de.getContext(Ee.value.outlet):null;if(Ft&&Ut.routeConfig===Ft.routeConfig){const zn=function Rr(Ee,He,de){if("function"==typeof de)return de(Ee,He);switch(de){case"pathParamsChange":return!ct(Ee.url,He.url);case"pathParamsOrQueryParamsChange":return!ct(Ee.url,He.url)||!W(Ee.queryParams,He.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wn(Ee,He)||!W(Ee.queryParams,He.queryParams);default:return!Wn(Ee,He)}}(Ft,Ut,Ut.routeConfig.runGuardsAndResolvers);zn?yt.canActivateChecks.push(new hs(Be)):(Ut.data=Ft.data,Ut._resolvedData=Ft._resolvedData),ms(Ee,He,Ut.component?Sn?Sn.children:null:de,Be,yt),zn&&Sn&&Sn.outlet&&Sn.outlet.isActivated&&yt.canDeactivateChecks.push(new wo(Sn.outlet.component,Ft))}else Ft&&lo(He,Sn,yt),yt.canActivateChecks.push(new hs(Be)),ms(Ee,null,Ut.component?Sn?Sn.children:null:de,Be,yt)})(Ft,Ut[Ft.value.outlet],de,Be.concat([Ft.value]),yt),delete Ut[Ft.value.outlet]}),Object.entries(Ut).forEach(([Ft,Sn])=>lo(Sn,de.getContext(Ft),yt)),yt}function lo(Ee,He,de){const Be=Io(Ee),yt=Ee.value;Object.entries(Be).forEach(([Ut,Ft])=>{lo(Ft,yt.component?He?He.children.getContext(Ut):null:He,de)}),de.canDeactivateChecks.push(new wo(yt.component&&He&&He.outlet&&He.outlet.isActivated?He.outlet.component:null,yt))}function mr(Ee){return"function"==typeof Ee}function Os(Ee){return Ee instanceof L.K||"EmptyError"===Ee?.name}const Ps=Symbol("INITIAL_VALUE");function dr(){return(0,x.w)(Ee=>(0,F.a)(Ee.map(He=>He.pipe((0,O.q)(1),(0,T.O)(Ps)))).pipe((0,P.U)(He=>{for(const de of He)if(!0!==de){if(de===Ps)return Ps;if(!1===de||de instanceof Me)return de}return!0}),(0,N.h)(He=>He!==Ps),(0,O.q)(1)))}function Eo(Ee){return(0,f.z)((0,J.b)(He=>{if(An(He))throw Ur(0,He)}),(0,P.U)(He=>!0===He))}class Jr{constructor(He){this.segmentGroup=He||null}}class gs{constructor(He){this.urlTree=He}}function Tr(Ee){return M(new Jr(Ee))}function Mo(Ee){return M(new gs(Ee))}class Vs{constructor(He,de){this.urlSerializer=He,this.urlTree=de}noMatchError(He){return new c.vHH(4002,!1)}lineralizeSegments(He,de){let Be=[],yt=de.root;for(;;){if(Be=Be.concat(yt.segments),0===yt.numberOfChildren)return(0,w.of)(Be);if(yt.numberOfChildren>1||!yt.children[we])return M(new c.vHH(4e3,!1));yt=yt.children[we]}}applyRedirectCommands(He,de,Be){return this.applyRedirectCreateUrlTree(de,this.urlSerializer.parse(de),He,Be)}applyRedirectCreateUrlTree(He,de,Be,yt){const Ut=this.createSegmentGroup(He,de.root,Be,yt);return new Me(Ut,this.createQueryParams(de.queryParams,this.urlTree.queryParams),de.fragment)}createQueryParams(He,de){const Be={};return Object.entries(He).forEach(([yt,Ut])=>{if("string"==typeof Ut&&Ut.startsWith(":")){const Sn=Ut.substring(1);Be[yt]=de[Sn]}else Be[yt]=Ut}),Be}createSegmentGroup(He,de,Be,yt){const Ut=this.createSegments(He,de.segments,Be,yt);let Ft={};return Object.entries(de.children).forEach(([Sn,zn])=>{Ft[Sn]=this.createSegmentGroup(He,zn,Be,yt)}),new Ye(Ut,Ft)}createSegments(He,de,Be,yt){return de.map(Ut=>Ut.path.startsWith(":")?this.findPosParam(He,Ut,yt):this.findOrReturn(Ut,Be))}findPosParam(He,de,Be){const yt=Be[de.path.substring(1)];if(!yt)throw new c.vHH(4001,!1);return yt}findOrReturn(He,de){let Be=0;for(const yt of de){if(yt.path===He.path)return de.splice(Be),yt;Be++}return He}}const _s={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ia(Ee,He,de,Be,yt){const Ut=Ja(Ee,He,de);return Ut.matched?(Be=function ta(Ee,He){return Ee.providers&&!Ee._injector&&(Ee._injector=(0,c.MMx)(Ee.providers,He,`Route: ${Ee.path}`)),Ee._injector??He}(He,Be),function Jo(Ee,He,de,Be){const yt=He.canMatch;if(!yt||0===yt.length)return(0,w.of)(!0);const Ut=yt.map(Ft=>{const Sn=is(Ft,Ee);return Q(function Nr(Ee){return Ee&&mr(Ee.canMatch)}(Sn)?Sn.canMatch(He,de):Ee.runInContext(()=>Sn(He,de)))});return(0,w.of)(Ut).pipe(dr(),Eo())}(Be,He,de).pipe((0,P.U)(Ft=>!0===Ft?Ut:{..._s}))):(0,w.of)(Ut)}function Ja(Ee,He,de){if(""===He.path)return"full"===He.pathMatch&&(Ee.hasChildren()||de.length>0)?{..._s}:{matched:!0,consumedSegments:[],remainingSegments:de,parameters:{},positionalParamSegments:{}};const yt=(He.matcher||Ne)(de,Ee,He);if(!yt)return{..._s};const Ut={};Object.entries(yt.posParams??{}).forEach(([Sn,zn])=>{Ut[Sn]=zn.path});const Ft=yt.consumed.length>0?{...Ut,...yt.consumed[yt.consumed.length-1].parameters}:Ut;return{matched:!0,consumedSegments:yt.consumed,remainingSegments:de.slice(yt.consumed.length),parameters:Ft,positionalParamSegments:yt.posParams??{}}}function Qa(Ee,He,de,Be){return de.length>0&&function Xa(Ee,He,de){return de.some(Be=>wl(Ee,He,Be)&&vr(Be)!==we)}(Ee,de,Be)?{segmentGroup:new Ye(He,Il(Be,new Ye(de,Ee.children))),slicedSegments:[]}:0===de.length&&function oo(Ee,He,de){return de.some(Be=>wl(Ee,He,Be))}(Ee,de,Be)?{segmentGroup:new Ye(Ee.segments,Rs(Ee,0,de,Be,Ee.children)),slicedSegments:de}:{segmentGroup:new Ye(Ee.segments,Ee.children),slicedSegments:de}}function Rs(Ee,He,de,Be,yt){const Ut={};for(const Ft of Be)if(wl(Ee,de,Ft)&&!yt[vr(Ft)]){const Sn=new Ye([],{});Ut[vr(Ft)]=Sn}return{...yt,...Ut}}function Il(Ee,He){const de={};de[we]=He;for(const Be of Ee)if(""===Be.path&&vr(Be)!==we){const yt=new Ye([],{});de[vr(Be)]=yt}return de}function wl(Ee,He,de){return(!(Ee.hasChildren()||He.length>0)||"full"!==de.pathMatch)&&""===de.path}class ec{constructor(He,de,Be,yt,Ut,Ft,Sn){this.injector=He,this.configLoader=de,this.rootComponentType=Be,this.config=yt,this.urlTree=Ut,this.paramsInheritanceStrategy=Ft,this.urlSerializer=Sn,this.allowRedirects=!0,this.applyRedirects=new Vs(this.urlSerializer,this.urlTree)}noMatchError(He){return new c.vHH(4002,!1)}recognize(){const He=Qa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,He,we).pipe(le(de=>{if(de instanceof gs)return this.allowRedirects=!1,this.urlTree=de.urlTree,this.match(de.urlTree);throw de instanceof Jr?this.noMatchError(de):de}),(0,P.U)(de=>{const Be=new Ir([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},we,this.rootComponentType,null,{}),yt=new qr(Be,de),Ut=new Br("",yt),Ft=function Ln(Ee,He,de=null,Be=null){return Kn(Zn(Ee),He,de,Be)}(Be,[],this.urlTree.queryParams,this.urlTree.fragment);return Ft.queryParams=this.urlTree.queryParams,Ut.url=this.urlSerializer.serialize(Ft),this.inheritParamsAndData(Ut._root),{state:Ut,tree:Ft}}))}match(He){return this.processSegmentGroup(this.injector,this.config,He.root,we).pipe(le(Be=>{throw Be instanceof Jr?this.noMatchError(Be):Be}))}inheritParamsAndData(He){const de=He.value,Be=Ki(de,this.paramsInheritanceStrategy);de.params=Object.freeze(Be.params),de.data=Object.freeze(Be.data),He.children.forEach(yt=>this.inheritParamsAndData(yt))}processSegmentGroup(He,de,Be,yt){return 0===Be.segments.length&&Be.hasChildren()?this.processChildren(He,de,Be):this.processSegment(He,de,Be,Be.segments,yt,!0)}processChildren(He,de,Be){const yt=[];for(const Ut of Object.keys(Be.children))"primary"===Ut?yt.unshift(Ut):yt.push(Ut);return(0,b.D)(yt).pipe((0,Y.b)(Ut=>{const Ft=Be.children[Ut],Sn=function lr(Ee,He){const de=Ee.filter(Be=>vr(Be)===He);return de.push(...Ee.filter(Be=>vr(Be)!==He)),de}(de,Ut);return this.processSegmentGroup(He,Sn,Ft,Ut)}),function _e(Ee,He){return(0,q.e)(function K(Ee,He,de,Be,yt){return(Ut,Ft)=>{let Sn=de,zn=He,Ei=0;Ut.subscribe((0,Fe.x)(Ft,Ti=>{const ur=Ei++;zn=Sn?Ee(zn,Ti,ur):(Sn=!0,Ti),Be&&Ft.next(zn)},yt&&(()=>{Sn&&Ft.next(zn),Ft.complete()})))}}(Ee,He,arguments.length>=2,!0))}((Ut,Ft)=>(Ut.push(...Ft),Ut)),(0,se.d)(null),function he(Ee,He){const de=arguments.length>=2;return Be=>Be.pipe(Ee?(0,N.h)((yt,Ut)=>Ee(yt,Ut,Be)):Le.y,me(1),de?(0,se.d)(He):(0,De.T)(()=>new L.K))}(),(0,C.z)(Ut=>{if(null===Ut)return Tr(Be);const Ft=Gs(Ut);return function ra(Ee){Ee.sort((He,de)=>He.value.outlet===we?-1:de.value.outlet===we?1:He.value.outlet.localeCompare(de.value.outlet))}(Ft),(0,w.of)(Ft)}))}processSegment(He,de,Be,yt,Ut,Ft){return(0,b.D)(de).pipe((0,Y.b)(Sn=>this.processSegmentAgainstRoute(Sn._injector??He,de,Sn,Be,yt,Ut,Ft).pipe(le(zn=>{if(zn instanceof Jr)return(0,w.of)(null);throw zn}))),(0,B.P)(Sn=>!!Sn),le(Sn=>{if(Os(Sn))return function Ic(Ee,He,de){return 0===He.length&&!Ee.children[de]}(Be,yt,Ut)?(0,w.of)([]):Tr(Be);throw Sn}))}processSegmentAgainstRoute(He,de,Be,yt,Ut,Ft,Sn){return function el(Ee,He,de,Be){return!!(vr(Ee)===Be||Be!==we&&wl(He,de,Ee))&&("**"===Ee.path||Ja(He,Ee,de).matched)}(Be,yt,Ut,Ft)?void 0===Be.redirectTo?this.matchSegmentAgainstRoute(He,yt,Be,Ut,Ft,Sn):Sn&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(He,yt,de,Be,Ut,Ft):Tr(yt):Tr(yt)}expandSegmentAgainstRouteUsingRedirect(He,de,Be,yt,Ut,Ft){return"**"===yt.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(He,Be,yt,Ft):this.expandRegularSegmentAgainstRouteUsingRedirect(He,de,Be,yt,Ut,Ft)}expandWildCardWithParamsAgainstRouteUsingRedirect(He,de,Be,yt){const Ut=this.applyRedirects.applyRedirectCommands([],Be.redirectTo,{});return Be.redirectTo.startsWith("/")?Mo(Ut):this.applyRedirects.lineralizeSegments(Be,Ut).pipe((0,C.z)(Ft=>{const Sn=new Ye(Ft,{});return this.processSegment(He,de,Sn,Ft,yt,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(He,de,Be,yt,Ut,Ft){const{matched:Sn,consumedSegments:zn,remainingSegments:Ei,positionalParamSegments:Ti}=Ja(de,yt,Ut);if(!Sn)return Tr(de);const ur=this.applyRedirects.applyRedirectCommands(zn,yt.redirectTo,Ti);return yt.redirectTo.startsWith("/")?Mo(ur):this.applyRedirects.lineralizeSegments(yt,ur).pipe((0,C.z)(So=>this.processSegment(He,Be,de,So.concat(Ei),Ft,!1)))}matchSegmentAgainstRoute(He,de,Be,yt,Ut,Ft){let Sn;if("**"===Be.path){const zn=yt.length>0?ve(yt).parameters:{},Ei=new Ir(yt,zn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oa(Be),vr(Be),Be.component??Be._loadedComponent??null,Be,Ol(Be));Sn=(0,w.of)({snapshot:Ei,consumedSegments:[],remainingSegments:[]}),de.children={}}else Sn=Ia(de,Be,yt,He).pipe((0,P.U)(({matched:zn,consumedSegments:Ei,remainingSegments:Ti,parameters:ur})=>zn?{snapshot:new Ir(Ei,ur,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oa(Be),vr(Be),Be.component??Be._loadedComponent??null,Be,Ol(Be)),consumedSegments:Ei,remainingSegments:Ti}:null));return Sn.pipe((0,x.w)(zn=>null===zn?Tr(de):this.getChildConfig(He=Be._injector??He,Be,yt).pipe((0,x.w)(({routes:Ei})=>{const Ti=Be._loadedInjector??He,{snapshot:ur,consumedSegments:So,remainingSegments:ca}=zn,{segmentGroup:da,slicedSegments:ua}=Qa(de,So,ca,Ei);if(0===ua.length&&da.hasChildren())return this.processChildren(Ti,Ei,da).pipe((0,P.U)(Ts=>null===Ts?null:[new qr(ur,Ts)]));if(0===Ei.length&&0===ua.length)return(0,w.of)([new qr(ur,[])]);const sl=vr(Be)===Ut;return this.processSegment(Ti,Ei,da,ua,sl?we:Ut,!0).pipe((0,P.U)(Ts=>[new qr(ur,Ts)]))}))))}getChildConfig(He,de,Be){return de.children?(0,w.of)({routes:de.children,injector:He}):de.loadChildren?void 0!==de._loadedRoutes?(0,w.of)({routes:de._loadedRoutes,injector:de._loadedInjector}):function bo(Ee,He,de,Be){const yt=He.canLoad;if(void 0===yt||0===yt.length)return(0,w.of)(!0);const Ut=yt.map(Ft=>{const Sn=is(Ft,Ee);return Q(function qo(Ee){return Ee&&mr(Ee.canLoad)}(Sn)?Sn.canLoad(He,de):Ee.runInContext(()=>Sn(He,de)))});return(0,w.of)(Ut).pipe(dr(),Eo())}(He,de,Be).pipe((0,C.z)(yt=>yt?this.configLoader.loadChildren(He,de).pipe((0,J.b)(Ut=>{de._loadedRoutes=Ut.routes,de._loadedInjector=Ut.injector})):function Aa(Ee){return M(Yr(!1,3))}())):(0,w.of)({routes:[],injector:He})}}function vs(Ee){const He=Ee.value.routeConfig;return He&&""===He.path}function Gs(Ee){const He=[],de=new Set;for(const Be of Ee){if(!vs(Be)){He.push(Be);continue}const yt=He.find(Ut=>Be.value.routeConfig===Ut.value.routeConfig);void 0!==yt?(yt.children.push(...Be.children),de.add(yt)):He.push(Be)}for(const Be of de){const yt=Gs(Be.children);He.push(new qr(Be.value,yt))}return He.filter(Be=>!de.has(Be))}function oa(Ee){return Ee.data||{}}function Ol(Ee){return Ee.resolve||{}}function Ls(Ee){return"string"==typeof Ee.title||null===Ee.title}function Sr(Ee){return(0,x.w)(He=>{const de=Ee(He);return de?(0,b.D)(de).pipe((0,P.U)(()=>He)):(0,w.of)(He)})}const _i=new c.OlP("ROUTES");let z=(()=>{class Ee{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(de){if(this.componentLoaders.get(de))return this.componentLoaders.get(de);if(de._loadedComponent)return(0,w.of)(de._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(de);const Be=Q(de.loadComponent()).pipe((0,P.U)(je),(0,J.b)(Ut=>{this.onLoadEndListener&&this.onLoadEndListener(de),de._loadedComponent=Ut}),(0,Ie.x)(()=>{this.componentLoaders.delete(de)})),yt=new R.c(Be,()=>new V.x).pipe((0,ge.x)());return this.componentLoaders.set(de,yt),yt}loadChildren(de,Be){if(this.childrenLoaders.get(Be))return this.childrenLoaders.get(Be);if(Be._loadedRoutes)return(0,w.of)({routes:Be._loadedRoutes,injector:Be._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Be);const Ut=this.loadModuleFactoryOrRoutes(Be.loadChildren).pipe((0,P.U)(Sn=>{this.onLoadEndListener&&this.onLoadEndListener(Be);let zn,Ei;return Array.isArray(Sn)?Ei=Sn:(zn=Sn.create(de).injector,Ei=zn.get(_i,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:Ei.map(er),injector:zn}}),(0,Ie.x)(()=>{this.childrenLoaders.delete(Be)})),Ft=new R.c(Ut,()=>new V.x).pipe((0,ge.x)());return this.childrenLoaders.set(Be,Ft),Ft}loadModuleFactoryOrRoutes(de){return Q(de()).pipe((0,P.U)(je),(0,C.z)(Be=>Be instanceof c.YKP||Array.isArray(Be)?(0,w.of)(Be):(0,b.D)(this.compiler.compileModuleAsync(Be))))}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();function je(Ee){return function Tt(Ee){return Ee&&"object"==typeof Ee&&"default"in Ee}(Ee)?Ee.default:Ee}let Dt=(()=>{class Ee{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new V.x,this.configLoader=(0,c.f3M)(z),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(_t),this.rootContexts=(0,c.f3M)(Zi),this.inputBindingEnabled=null!==(0,c.f3M)(Ni,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,w.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=yt=>this.events.next(new fo(yt)),this.configLoader.onLoadStartListener=yt=>this.events.next(new gr(yt))}complete(){this.transitions?.complete()}handleNavigationRequest(de){const Be=++this.navigationId;this.transitions?.next({...this.transitions.value,...de,id:Be})}setupNavigations(de){return this.transitions=new E.X({id:0,currentUrlTree:de.currentUrlTree,currentRawUrl:de.currentUrlTree,extractedUrl:de.urlHandlingStrategy.extract(de.currentUrlTree),urlAfterRedirects:de.urlHandlingStrategy.extract(de.currentUrlTree),rawUrl:de.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ei,restoredState:null,currentSnapshot:de.routerState.snapshot,targetSnapshot:null,currentRouterState:de.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,N.h)(Be=>0!==Be.id),(0,P.U)(Be=>({...Be,extractedUrl:de.urlHandlingStrategy.extract(Be.rawUrl)})),(0,x.w)(Be=>{let yt=!1,Ut=!1;return(0,w.of)(Be).pipe((0,J.b)(Ft=>{this.currentNavigation={id:Ft.id,initialUrl:Ft.rawUrl,extractedUrl:Ft.extractedUrl,trigger:Ft.source,extras:Ft.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,x.w)(Ft=>{const Sn=de.browserUrlTree.toString(),zn=!de.navigated||Ft.extractedUrl.toString()!==Sn||Sn!==de.currentUrlTree.toString();if(!zn&&"reload"!==(Ft.extras.onSameUrlNavigation??de.onSameUrlNavigation)){const Ti="";return this.events.next(new gt(Ft.id,de.serializeUrl(Be.rawUrl),Ti,0)),de.rawUrlTree=Ft.rawUrl,Ft.resolve(null),U.E}if(de.urlHandlingStrategy.shouldProcessUrl(Ft.rawUrl))return Jt(Ft.source)&&(de.browserUrlTree=Ft.extractedUrl),(0,w.of)(Ft).pipe((0,x.w)(Ti=>{const ur=this.transitions?.getValue();return this.events.next(new un(Ti.id,this.urlSerializer.serialize(Ti.extractedUrl),Ti.source,Ti.restoredState)),ur!==this.transitions?.getValue()?U.E:Promise.resolve(Ti)}),function wa(Ee,He,de,Be,yt,Ut){return(0,C.z)(Ft=>function Ta(Ee,He,de,Be,yt,Ut,Ft="emptyOnly"){return new ec(Ee,He,de,Be,yt,Ft,Ut).recognize()}(Ee,He,de,Be,Ft.extractedUrl,yt,Ut).pipe((0,P.U)(({state:Sn,tree:zn})=>({...Ft,targetSnapshot:Sn,urlAfterRedirects:zn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,de.config,this.urlSerializer,de.paramsInheritanceStrategy),(0,J.b)(Ti=>{if(Be.targetSnapshot=Ti.targetSnapshot,Be.urlAfterRedirects=Ti.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ti.urlAfterRedirects},"eager"===de.urlUpdateStrategy){if(!Ti.extras.skipLocationChange){const So=de.urlHandlingStrategy.merge(Ti.urlAfterRedirects,Ti.rawUrl);de.setBrowserUrl(So,Ti)}de.browserUrlTree=Ti.urlAfterRedirects}const ur=new on(Ti.id,this.urlSerializer.serialize(Ti.extractedUrl),this.urlSerializer.serialize(Ti.urlAfterRedirects),Ti.targetSnapshot);this.events.next(ur)}));if(zn&&de.urlHandlingStrategy.shouldProcessUrl(de.rawUrlTree)){const{id:Ti,extractedUrl:ur,source:So,restoredState:ca,extras:da}=Ft,ua=new un(Ti,this.urlSerializer.serialize(ur),So,ca);this.events.next(ua);const sl=oi(0,this.rootComponentType).snapshot;return Be={...Ft,targetSnapshot:sl,urlAfterRedirects:ur,extras:{...da,skipLocationChange:!1,replaceUrl:!1}},(0,w.of)(Be)}{const Ti="";return this.events.next(new gt(Ft.id,de.serializeUrl(Be.extractedUrl),Ti,1)),de.rawUrlTree=Ft.rawUrl,Ft.resolve(null),U.E}}),(0,J.b)(Ft=>{const Sn=new ti(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),this.urlSerializer.serialize(Ft.urlAfterRedirects),Ft.targetSnapshot);this.events.next(Sn)}),(0,P.U)(Ft=>Be={...Ft,guards:js(Ft.targetSnapshot,Ft.currentSnapshot,this.rootContexts)}),function pn(Ee,He){return(0,C.z)(de=>{const{targetSnapshot:Be,currentSnapshot:yt,guards:{canActivateChecks:Ut,canDeactivateChecks:Ft}}=de;return 0===Ft.length&&0===Ut.length?(0,w.of)({...de,guardsResult:!0}):function it(Ee,He,de,Be){return(0,b.D)(Ee).pipe((0,C.z)(yt=>function Ri(Ee,He,de,Be,yt){const Ut=He&&He.routeConfig?He.routeConfig.canDeactivate:null;if(!Ut||0===Ut.length)return(0,w.of)(!0);const Ft=Ut.map(Sn=>{const zn=eo(He)??yt,Ei=is(Sn,zn);return Q(function xo(Ee){return Ee&&mr(Ee.canDeactivate)}(Ei)?Ei.canDeactivate(Ee,He,de,Be):zn.runInContext(()=>Ei(Ee,He,de,Be))).pipe((0,B.P)())});return(0,w.of)(Ft).pipe(dr())}(yt.component,yt.route,de,He,Be)),(0,B.P)(yt=>!0!==yt,!0))}(Ft,Be,yt,Ee).pipe((0,C.z)(Sn=>Sn&&function Ho(Ee){return"boolean"==typeof Ee}(Sn)?function ht(Ee,He,de,Be){return(0,b.D)(He).pipe((0,Y.b)(yt=>(0,D.z)(function It(Ee,He){return null!==Ee&&He&&He(new ki(Ee)),(0,w.of)(!0)}(yt.route.parent,Be),function Je(Ee,He){return null!==Ee&&He&&He(new Uo(Ee)),(0,w.of)(!0)}(yt.route,Be),function li(Ee,He,de){const Be=He[He.length-1],Ut=He.slice(0,He.length-1).reverse().map(Ft=>function ws(Ee){const He=Ee.routeConfig?Ee.routeConfig.canActivateChild:null;return He&&0!==He.length?{node:Ee,guards:He}:null}(Ft)).filter(Ft=>null!==Ft).map(Ft=>(0,p.P)(()=>{const Sn=Ft.guards.map(zn=>{const Ei=eo(Ft.node)??de,Ti=is(zn,Ei);return Q(function ia(Ee){return Ee&&mr(Ee.canActivateChild)}(Ti)?Ti.canActivateChild(Be,Ee):Ei.runInContext(()=>Ti(Be,Ee))).pipe((0,B.P)())});return(0,w.of)(Sn).pipe(dr())}));return(0,w.of)(Ut).pipe(dr())}(Ee,yt.path,de),function rn(Ee,He,de){const Be=He.routeConfig?He.routeConfig.canActivate:null;if(!Be||0===Be.length)return(0,w.of)(!0);const yt=Be.map(Ut=>(0,p.P)(()=>{const Ft=eo(He)??de,Sn=is(Ut,Ft);return Q(function ps(Ee){return Ee&&mr(Ee.canActivate)}(Sn)?Sn.canActivate(He,Ee):Ft.runInContext(()=>Sn(He,Ee))).pipe((0,B.P)())}));return(0,w.of)(yt).pipe(dr())}(Ee,yt.route,de))),(0,B.P)(yt=>!0!==yt,!0))}(Be,Ut,Ee,He):(0,w.of)(Sn)),(0,P.U)(Sn=>({...de,guardsResult:Sn})))})}(this.environmentInjector,Ft=>this.events.next(Ft)),(0,J.b)(Ft=>{if(Be.guardsResult=Ft.guardsResult,An(Ft.guardsResult))throw Ur(0,Ft.guardsResult);const Sn=new fi(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),this.urlSerializer.serialize(Ft.urlAfterRedirects),Ft.targetSnapshot,!!Ft.guardsResult);this.events.next(Sn)}),(0,N.h)(Ft=>!!Ft.guardsResult||(de.restoreHistory(Ft),this.cancelNavigationTransition(Ft,"",3),!1)),Sr(Ft=>{if(Ft.guards.canActivateChecks.length)return(0,w.of)(Ft).pipe((0,J.b)(Sn=>{const zn=new Oi(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),this.urlSerializer.serialize(Sn.urlAfterRedirects),Sn.targetSnapshot);this.events.next(zn)}),(0,x.w)(Sn=>{let zn=!1;return(0,w.of)(Sn).pipe(function Oa(Ee,He){return(0,C.z)(de=>{const{targetSnapshot:Be,guards:{canActivateChecks:yt}}=de;if(!yt.length)return(0,w.of)(de);let Ut=0;return(0,b.D)(yt).pipe((0,Y.b)(Ft=>function Pa(Ee,He,de,Be){const yt=Ee.routeConfig,Ut=Ee._resolve;return void 0!==yt?.title&&!Ls(yt)&&(Ut[Ke]=yt.title),function mo(Ee,He,de,Be){const yt=function Qo(Ee){return[...Object.keys(Ee),...Object.getOwnPropertySymbols(Ee)]}(Ee);if(0===yt.length)return(0,w.of)({});const Ut={};return(0,b.D)(yt).pipe((0,C.z)(Ft=>function zr(Ee,He,de,Be){const yt=eo(He)??Be,Ut=is(Ee,yt);return Q(Ut.resolve?Ut.resolve(He,de):yt.runInContext(()=>Ut(He,de)))}(Ee[Ft],He,de,Be).pipe((0,B.P)(),(0,J.b)(Sn=>{Ut[Ft]=Sn}))),me(1),(0,Re.h)(Ut),le(Ft=>Os(Ft)?U.E:M(Ft)))}(Ut,Ee,He,Be).pipe((0,P.U)(Ft=>(Ee._resolvedData=Ft,Ee.data=Ki(Ee,de).resolve,yt&&Ls(yt)&&(Ee.data[Ke]=yt.title),null)))}(Ft.route,Be,Ee,He)),(0,J.b)(()=>Ut++),me(1),(0,C.z)(Ft=>Ut===yt.length?(0,w.of)(de):U.E))})}(de.paramsInheritanceStrategy,this.environmentInjector),(0,J.b)({next:()=>zn=!0,complete:()=>{zn||(de.restoreHistory(Sn),this.cancelNavigationTransition(Sn,"",2))}}))}),(0,J.b)(Sn=>{const zn=new fr(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),this.urlSerializer.serialize(Sn.urlAfterRedirects),Sn.targetSnapshot);this.events.next(zn)}))}),Sr(Ft=>{const Sn=zn=>{const Ei=[];zn.routeConfig?.loadComponent&&!zn.routeConfig._loadedComponent&&Ei.push(this.configLoader.loadComponent(zn.routeConfig).pipe((0,J.b)(Ti=>{zn.component=Ti}),(0,P.U)(()=>{})));for(const Ti of zn.children)Ei.push(...Sn(Ti));return Ei};return(0,F.a)(Sn(Ft.targetSnapshot.root)).pipe((0,se.d)(),(0,O.q)(1))}),Sr(()=>this.afterPreactivation()),(0,P.U)(Ft=>{const Sn=function _r(Ee,He,de){const Be=Pr(Ee,He._root,de?de._root:void 0);return new Pn(Be,He)}(de.routeReuseStrategy,Ft.targetSnapshot,Ft.currentRouterState);return Be={...Ft,targetRouterState:Sn}}),(0,J.b)(Ft=>{de.currentUrlTree=Ft.urlAfterRedirects,de.rawUrlTree=de.urlHandlingStrategy.merge(Ft.urlAfterRedirects,Ft.rawUrl),de.routerState=Ft.targetRouterState,"deferred"===de.urlUpdateStrategy&&(Ft.extras.skipLocationChange||de.setBrowserUrl(de.rawUrlTree,Ft),de.browserUrlTree=Ft.urlAfterRedirects)}),((Ee,He,de,Be)=>(0,P.U)(yt=>(new ir(He,yt.targetRouterState,yt.currentRouterState,de,Be).activate(Ee),yt)))(this.rootContexts,de.routeReuseStrategy,Ft=>this.events.next(Ft),this.inputBindingEnabled),(0,O.q)(1),(0,J.b)({next:Ft=>{yt=!0,this.lastSuccessfulNavigation=this.currentNavigation,de.navigated=!0,this.events.next(new Te(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),this.urlSerializer.serialize(de.currentUrlTree))),de.titleStrategy?.updateTitle(Ft.targetRouterState.snapshot),Ft.resolve(!0)},complete:()=>{yt=!0}}),(0,Ie.x)(()=>{yt||Ut||this.cancelNavigationTransition(Be,"",1),this.currentNavigation?.id===Be.id&&(this.currentNavigation=null)}),le(Ft=>{if(Ut=!0,hr(Ft)){jo(Ft)||(de.navigated=!0,de.restoreHistory(Be,!0));const Sn=new vt(Be.id,this.urlSerializer.serialize(Be.extractedUrl),Ft.message,Ft.cancellationCode);if(this.events.next(Sn),jo(Ft)){const zn=de.urlHandlingStrategy.merge(Ft.url,de.rawUrlTree),Ei={skipLocationChange:Be.extras.skipLocationChange,replaceUrl:"eager"===de.urlUpdateStrategy||Jt(Be.source)};de.scheduleNavigation(zn,ei,null,Ei,{resolve:Be.resolve,reject:Be.reject,promise:Be.promise})}else Be.resolve(!1)}else{de.restoreHistory(Be,!0);const Sn=new Nt(Be.id,this.urlSerializer.serialize(Be.extractedUrl),Ft,Be.targetSnapshot??void 0);this.events.next(Sn);try{Be.resolve(de.errorHandler(Ft))}catch(zn){Be.reject(zn)}}return U.E}))}))}cancelNavigationTransition(de,Be,yt){const Ut=new vt(de.id,this.urlSerializer.serialize(de.extractedUrl),Be,yt);this.events.next(Ut),de.resolve(!1)}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();function Jt(Ee){return Ee!==ei}let In=(()=>{class Ee{buildTitle(de){let Be,yt=de.root;for(;void 0!==yt;)Be=this.getResolvedTitleForRoute(yt)??Be,yt=yt.children.find(Ut=>Ut.outlet===we);return Be}getResolvedTitleForRoute(de){return de.data[Ke]}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return(0,c.f3M)(Hn)},providedIn:"root"})}return Ee})(),Hn=(()=>{class Ee extends In{constructor(de){super(),this.title=de}updateTitle(de){const Be=this.buildTitle(de);void 0!==Be&&this.title.setTitle(Be)}static#e=this.\u0275fac=function(Be){return new(Be||Ee)(c.LFG(ke.Dx))};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})(),vi=(()=>{class Ee{static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return(0,c.f3M)(hn)},providedIn:"root"})}return Ee})();class wr{shouldDetach(He){return!1}store(He,de){}shouldAttach(He){return!1}retrieve(He){return null}shouldReuseRoute(He,de){return He.routeConfig===de.routeConfig}}let hn=(()=>{class Ee extends wr{static#e=this.\u0275fac=function(){let de;return function(yt){return(de||(de=c.n5z(Ee)))(yt||Ee)}}();static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();const rr=new c.OlP("",{providedIn:"root",factory:()=>({})});let $i=(()=>{class Ee{static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return(0,c.f3M)(Fi)},providedIn:"root"})}return Ee})(),Fi=(()=>{class Ee{shouldProcessUrl(de){return!0}extract(de){return de}merge(de,Be){return de}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();var or=function(Ee){return Ee[Ee.COMPLETE=0]="COMPLETE",Ee[Ee.FAILED=1]="FAILED",Ee[Ee.REDIRECTING=2]="REDIRECTING",Ee}(or||{});function Mr(Ee,He){Ee.events.pipe((0,N.h)(de=>de instanceof Te||de instanceof vt||de instanceof Nt||de instanceof gt),(0,P.U)(de=>de instanceof Te||de instanceof gt?or.COMPLETE:de instanceof vt&&(0===de.code||1===de.code)?or.REDIRECTING:or.FAILED),(0,N.h)(de=>de!==or.REDIRECTING),(0,O.q)(1)).subscribe(()=>{He()})}function Xo(Ee){throw Ee}function bi(Ee,He,de){return He.parse("/")}const tr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Oo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qr=(()=>{class Ee{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(rr,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||Xo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||bi,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)($i),this.routeReuseStrategy=(0,c.f3M)(vi),this.titleStrategy=(0,c.f3M)(In),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(_i,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(Dt),this.urlSerializer=(0,c.f3M)(_t),this.location=(0,c.f3M)(k.Ye),this.componentInputBindingEnabled=!!(0,c.f3M)(Ni,{optional:!0}),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Me,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=oi(0,null),this.navigationTransitions.setupNavigations(this).subscribe(de=>{this.lastSuccessfulId=de.id,this.currentPageId=this.browserPageId??0},de=>{this.console.warn(`Unhandled Navigation Error: ${de}`)})}resetRootComponentType(de){this.routerState.root.component=de,this.navigationTransitions.rootComponentType=de}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const de=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ei,de)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(de=>{const Be="popstate"===de.type?"popstate":"hashchange";"popstate"===Be&&setTimeout(()=>{this.navigateToSyncWithBrowser(de.url,Be,de.state)},0)}))}navigateToSyncWithBrowser(de,Be,yt){const Ut={replaceUrl:!0},Ft=yt?.navigationId?yt:null;if(yt){const zn={...yt};delete zn.navigationId,delete zn.\u0275routerPageId,0!==Object.keys(zn).length&&(Ut.state=zn)}const Sn=this.parseUrl(de);this.scheduleNavigation(Sn,Be,Ft,Ut)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(de){this.config=de.map(er),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(de,Be={}){const{relativeTo:yt,queryParams:Ut,fragment:Ft,queryParamsHandling:Sn,preserveFragment:zn}=Be,Ei=zn?this.currentUrlTree.fragment:Ft;let ur,Ti=null;switch(Sn){case"merge":Ti={...this.currentUrlTree.queryParams,...Ut};break;case"preserve":Ti=this.currentUrlTree.queryParams;break;default:Ti=Ut||null}null!==Ti&&(Ti=this.removeEmptyProps(Ti));try{ur=Zn(yt?yt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof de[0]||!de[0].startsWith("/"))&&(de=[]),ur=this.currentUrlTree.root}return Kn(ur,de,Ti,Ei??null)}navigateByUrl(de,Be={skipLocationChange:!1}){const yt=An(de)?de:this.parseUrl(de),Ut=this.urlHandlingStrategy.merge(yt,this.rawUrlTree);return this.scheduleNavigation(Ut,ei,null,Be)}navigate(de,Be={skipLocationChange:!1}){return function ys(Ee){for(let He=0;He<Ee.length;He++)if(null==Ee[He])throw new c.vHH(4008,!1)}(de),this.navigateByUrl(this.createUrlTree(de,Be),Be)}serializeUrl(de){return this.urlSerializer.serialize(de)}parseUrl(de){let Be;try{Be=this.urlSerializer.parse(de)}catch(yt){Be=this.malformedUriErrorHandler(yt,this.urlSerializer,de)}return Be}isActive(de,Be){let yt;if(yt=!0===Be?{...tr}:!1===Be?{...Oo}:Be,An(de))return ie(this.currentUrlTree,de,yt);const Ut=this.parseUrl(de);return ie(this.currentUrlTree,Ut,yt)}removeEmptyProps(de){return Object.keys(de).reduce((Be,yt)=>{const Ut=de[yt];return null!=Ut&&(Be[yt]=Ut),Be},{})}scheduleNavigation(de,Be,yt,Ut,Ft){if(this.disposed)return Promise.resolve(!1);let Sn,zn,Ei;Ft?(Sn=Ft.resolve,zn=Ft.reject,Ei=Ft.promise):Ei=new Promise((ur,So)=>{Sn=ur,zn=So});const Ti=this.pendingTasks.add();return Mr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ti))}),this.navigationTransitions.handleNavigationRequest({source:Be,restoredState:yt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:de,extras:Ut,resolve:Sn,reject:zn,promise:Ei,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ei.catch(ur=>Promise.reject(ur))}setBrowserUrl(de,Be){const yt=this.urlSerializer.serialize(de);if(this.location.isCurrentPathEqualTo(yt)||Be.extras.replaceUrl){const Ft={...Be.extras.state,...this.generateNgRouterState(Be.id,this.browserPageId)};this.location.replaceState(yt,"",Ft)}else{const Ut={...Be.extras.state,...this.generateNgRouterState(Be.id,(this.browserPageId??0)+1)};this.location.go(yt,"",Ut)}}restoreHistory(de,Be=!1){if("computed"===this.canceledNavigationResolution){const Ut=this.currentPageId-(this.browserPageId??this.currentPageId);0!==Ut?this.location.historyGo(Ut):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Ut&&(this.resetState(de),this.browserUrlTree=de.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Be&&this.resetState(de),this.resetUrlToCurrentUrlTree())}resetState(de){this.routerState=de.currentRouterState,this.currentUrlTree=de.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,de.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(de,Be){return"computed"===this.canceledNavigationResolution?{navigationId:de,\u0275routerPageId:Be}:{navigationId:de}}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})(),bs=(()=>{class Ee{constructor(de,Be,yt,Ut,Ft,Sn){this.router=de,this.route=Be,this.tabIndexAttribute=yt,this.renderer=Ut,this.el=Ft,this.locationStrategy=Sn,this.href=null,this.commands=null,this.onChanges=new V.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const zn=Ft.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===zn||"area"===zn,this.isAnchorElement?this.subscription=de.events.subscribe(Ei=>{Ei instanceof Te&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(de){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",de)}ngOnChanges(de){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(de){null!=de?(this.commands=Array.isArray(de)?de:[de],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(de,Be,yt,Ut,Ft){return!!(null===this.urlTree||this.isAnchorElement&&(0!==de||Be||yt||Ut||Ft||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const de=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",de)}applyAttributeValue(de,Be){const yt=this.renderer,Ut=this.el.nativeElement;null!==Be?yt.setAttribute(Ut,de,Be):yt.removeAttribute(Ut,de)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(Be){return new(Be||Ee)(c.Y36(Qr),c.Y36(xi),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(k.S$))};static#t=this.\u0275dir=c.lG2({type:Ee,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Be,yt){1&Be&&c.NdJ("click",function(Ft){return yt.onClick(Ft.button,Ft.ctrlKey,Ft.shiftKey,Ft.altKey,Ft.metaKey)}),2&Be&&c.uIk("target",yt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",c.VuI],replaceUrl:["replaceUrl","replaceUrl",c.VuI],routerLink:"routerLink"},standalone:!0,features:[c.Xq5,c.TTD]})}return Ee})();class tc{}let wc=(()=>{class Ee{constructor(de,Be,yt,Ut,Ft){this.router=de,this.injector=yt,this.preloadingStrategy=Ut,this.loader=Ft}setUpPreloading(){this.subscription=this.router.events.pipe((0,N.h)(de=>de instanceof Te),(0,Y.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(de,Be){const yt=[];for(const Ut of Be){Ut.providers&&!Ut._injector&&(Ut._injector=(0,c.MMx)(Ut.providers,de,`Route: ${Ut.path}`));const Ft=Ut._injector??de,Sn=Ut._loadedInjector??Ft;(Ut.loadChildren&&!Ut._loadedRoutes&&void 0===Ut.canLoad||Ut.loadComponent&&!Ut._loadedComponent)&&yt.push(this.preloadConfig(Ft,Ut)),(Ut.children||Ut._loadedRoutes)&&yt.push(this.processRoutes(Sn,Ut.children??Ut._loadedRoutes))}return(0,b.D)(yt).pipe((0,Ue.J)())}preloadConfig(de,Be){return this.preloadingStrategy.preload(Be,()=>{let yt;yt=Be.loadChildren&&void 0===Be.canLoad?this.loader.loadChildren(de,Be):(0,w.of)(null);const Ut=yt.pipe((0,C.z)(Ft=>null===Ft?(0,w.of)(void 0):(Be._loadedRoutes=Ft.routes,Be._loadedInjector=Ft.injector,this.processRoutes(Ft.injector??de,Ft.routes))));if(Be.loadComponent&&!Be._loadedComponent){const Ft=this.loader.loadComponent(Be);return(0,b.D)([Ut,Ft]).pipe((0,Ue.J)())}return Ut})}static#e=this.\u0275fac=function(Be){return new(Be||Ee)(c.LFG(Qr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(tc),c.LFG(z))};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();const jr=new c.OlP("");let Gn=(()=>{class Ee{constructor(de,Be,yt,Ut,Ft={}){this.urlSerializer=de,this.transitions=Be,this.viewportScroller=yt,this.zone=Ut,this.options=Ft,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ft.scrollPositionRestoration=Ft.scrollPositionRestoration||"disabled",Ft.anchorScrolling=Ft.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof un?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=de.navigationTrigger,this.restoredId=de.restoredState?de.restoredState.navigationId:0):de instanceof Te?(this.lastId=de.id,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.urlAfterRedirects).fragment)):de instanceof gt&&0===de.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof Dr&&(de.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(de.position):de.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(de.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(de,Be){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Dr(de,"popstate"===this.lastSource?this.store[this.restoredId]:null,Be))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Be){c.$Z()};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();function Es(Ee,He){return{\u0275kind:Ee,\u0275providers:He}}function nc(){const Ee=(0,c.f3M)(c.zs3);return He=>{const de=Ee.get(c.z2F);if(He!==de.components[0])return;const Be=Ee.get(Qr),yt=Ee.get(Or);1===Ee.get(sa)&&Be.initialNavigation(),Ee.get(ks,null,c.XFs.Optional)?.setUpPreloading(),Ee.get(jr,null,c.XFs.Optional)?.init(),Be.resetRootComponentType(de.componentTypes[0]),yt.closed||(yt.next(),yt.complete(),yt.unsubscribe())}}const Or=new c.OlP("",{factory:()=>new V.x}),sa=new c.OlP("",{providedIn:"root",factory:()=>1}),ks=new c.OlP("");function Ll(Ee){return Es(0,[{provide:ks,useExisting:wc},{provide:tc,useExisting:Ee}])}const rl=new c.OlP("ROUTER_FORROOT_GUARD"),oc=[k.Ye,{provide:_t,useClass:Bt},Qr,Zi,{provide:xi,useFactory:function tl(Ee){return Ee.routerState.root},deps:[Qr]},z,[]];function ol(){return new c.PXZ("Router",Qr)}let ss=(()=>{class Ee{constructor(de){}static forRoot(de,Be){return{ngModule:Ee,providers:[oc,[],{provide:_i,multi:!0,useValue:de},{provide:rl,useFactory:Sa,deps:[[Qr,new c.FiY,new c.tp0]]},{provide:rr,useValue:Be||{}},Be?.useHash?{provide:k.S$,useClass:k.Do}:{provide:k.S$,useClass:k.b0},{provide:jr,useFactory:()=>{const Ee=(0,c.f3M)(k.EM),He=(0,c.f3M)(c.R0b),de=(0,c.f3M)(rr),Be=(0,c.f3M)(Dt),yt=(0,c.f3M)(_t);return de.scrollOffset&&Ee.setOffset(de.scrollOffset),new Gn(yt,Be,Ee,He,de)}},Be?.preloadingStrategy?Ll(Be.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:ol},Be?.initialNavigation?Pc(Be):[],Be?.bindToComponentInputs?Es(8,[wi,{provide:Ni,useExisting:wi}]).\u0275providers:[],[{provide:kl,useFactory:nc},{provide:c.tb,multi:!0,useExisting:kl}]]}}static forChild(de){return{ngModule:Ee,providers:[{provide:_i,multi:!0,useValue:de}]}}static#e=this.\u0275fac=function(Be){return new(Be||Ee)(c.LFG(rl,8))};static#t=this.\u0275mod=c.oAB({type:Ee});static#n=this.\u0275inj=c.cJS({})}return Ee})();function Sa(Ee){return"guarded"}function Pc(Ee){return["disabled"===Ee.initialNavigation?Es(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const He=(0,c.f3M)(Qr);return()=>{He.setUpLocationChangeListener()}}},{provide:sa,useValue:2}]).\u0275providers:[],"enabledBlocking"===Ee.initialNavigation?Es(2,[{provide:sa,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:He=>{const de=He.get(k.V_,Promise.resolve());return()=>de.then(()=>new Promise(Be=>{const yt=He.get(Qr),Ut=He.get(Or);Mr(yt,()=>{Be(!0)}),He.get(Dt).afterPreactivation=()=>(Be(!0),Ut.closed?(0,w.of)(void 0):Ut),yt.initialNavigation()}))}}]).\u0275providers:[]]}const kl=new c.OlP("")},3106:(jn,nt,S)=>{"use strict";S.d(nt,{Z:()=>R});var c=S(9058),t=S(4537),b=S(534),w=S(7879);class E{constructor(k,P){this._delegate=k,this.firebase=P,(0,b._addComponent)(k,new t.wA("app-compat",()=>this,"PUBLIC")),this.container=k.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(k){this._delegate.automaticDataCollectionEnabled=k}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(k=>{this._delegate.checkDestroyed(),k()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,b.deleteApp)(this._delegate)))}_getService(k,P=b._DEFAULT_ENTRY_NAME){var x;this._delegate.checkDestroyed();const O=this._delegate.container.getProvider(k);return!O.isInitialized()&&"EXPLICIT"===(null===(x=O.getComponent())||void 0===x?void 0:x.instantiationMode)&&O.initialize(),O.getImmediate({identifier:P})}_removeServiceInstance(k,P=b._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(k).clearInstance(P)}_addComponent(k){(0,b._addComponent)(this._delegate,k)}_addOrOverwriteComponent(k){(0,b._addOrOverwriteComponent)(this._delegate,k)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const L=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),f=function p(){const V=function D(V){const k={},P={__esModule:!0,initializeApp:function T(Y,J={}){const ce=b.initializeApp(Y,J);if((0,c.r3)(k,ce.name))return k[ce.name];const Fe=new V(ce,P);return k[ce.name]=Fe,Fe},app:O,registerVersion:b.registerVersion,setLogLevel:b.setLogLevel,onLog:b.onLog,apps:null,SDK_VERSION:b.SDK_VERSION,INTERNAL:{registerComponent:function C(Y){const J=Y.name,ce=J.replace("-compat","");if(b._registerComponent(Y)&&"PUBLIC"===Y.type){const Fe=(q=O())=>{if("function"!=typeof q[ce])throw L.create("invalid-app-argument",{appName:J});return q[ce]()};void 0!==Y.serviceProps&&(0,c.ZB)(Fe,Y.serviceProps),P[ce]=Fe,V.prototype[ce]=function(...q){return this._getService.bind(this,J).apply(this,Y.multipleInstances?q:[])}}return"PUBLIC"===Y.type?P[ce]:null},removeApp:function x(Y){delete k[Y]},useAsService:function B(Y,J){return"serverAuth"===J?null:J},modularAPIs:b}};function O(Y){if(!(0,c.r3)(k,Y=Y||b._DEFAULT_ENTRY_NAME))throw L.create("no-app",{appName:Y});return k[Y]}return P.default=P,Object.defineProperty(P,"apps",{get:function N(){return Object.keys(k).map(Y=>k[Y])}}),O.App=V,P}(E);return V.INTERNAL=Object.assign(Object.assign({},V.INTERNAL),{createFirebaseNamespace:p,extendNamespace:function k(P){(0,c.ZB)(V,P)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),V}(),g=new w.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){g.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const V=self.firebase.SDK_VERSION;V&&V.indexOf("LITE")>=0&&g.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const R=f;!function U(V){(0,b.registerVersion)("@firebase/app-compat","0.2.13",V)}()},534:(jn,nt,S)=>{"use strict";S.r(nt),S.d(nt,{FirebaseError:()=>w.ZR,SDK_VERSION:()=>Qt,_DEFAULT_ENTRY_NAME:()=>fe,_addComponent:()=>Ye,_addOrOverwriteComponent:()=>Ge,_apps:()=>ue,_clearComponents:()=>_t,_components:()=>Me,_getProvider:()=>ct,_registerComponent:()=>at,_removeServiceInstance:()=>rt,deleteApp:()=>Cn,getApp:()=>dn,getApps:()=>Gt,initializeApp:()=>cn,onLog:()=>ft,registerVersion:()=>xt,setLogLevel:()=>Xe});var c=S(5861),t=S(4537),b=S(7879),w=S(9058);const E=(vn,gn)=>gn.some(Et=>vn instanceof Et);let F,L;const f=new WeakMap,g=new WeakMap,y=new WeakMap,M=new WeakMap,U=new WeakMap;let k={get(vn,gn,Et){if(vn instanceof IDBTransaction){if("done"===gn)return g.get(vn);if("objectStoreNames"===gn)return vn.objectStoreNames||y.get(vn);if("store"===gn)return Et.objectStoreNames[1]?void 0:Et.objectStore(Et.objectStoreNames[0])}return T(vn[gn])},set:(vn,gn,Et)=>(vn[gn]=Et,!0),has:(vn,gn)=>vn instanceof IDBTransaction&&("done"===gn||"store"===gn)||gn in vn};function O(vn){return"function"==typeof vn?function x(vn){return vn!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function p(){return L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(vn)?function(...gn){return vn.apply(N(this),gn),T(f.get(this))}:function(...gn){return T(vn.apply(N(this),gn))}:function(gn,...Et){const ut=vn.call(N(this),gn,...Et);return y.set(ut,gn.sort?gn.sort():[gn]),T(ut)}}(vn):(vn instanceof IDBTransaction&&function V(vn){if(g.has(vn))return;const gn=new Promise((Et,ut)=>{const Xt=()=>{vn.removeEventListener("complete",Ze),vn.removeEventListener("error",et),vn.removeEventListener("abort",et)},Ze=()=>{Et(),Xt()},et=()=>{ut(vn.error||new DOMException("AbortError","AbortError")),Xt()};vn.addEventListener("complete",Ze),vn.addEventListener("error",et),vn.addEventListener("abort",et)});g.set(vn,gn)}(vn),E(vn,function D(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(vn,k):vn)}function T(vn){if(vn instanceof IDBRequest)return function R(vn){const gn=new Promise((Et,ut)=>{const Xt=()=>{vn.removeEventListener("success",Ze),vn.removeEventListener("error",et)},Ze=()=>{Et(T(vn.result)),Xt()},et=()=>{ut(vn.error),Xt()};vn.addEventListener("success",Ze),vn.addEventListener("error",et)});return gn.then(Et=>{Et instanceof IDBCursor&&f.set(Et,vn)}).catch(()=>{}),U.set(gn,vn),gn}(vn);if(M.has(vn))return M.get(vn);const gn=O(vn);return gn!==vn&&(M.set(vn,gn),U.set(gn,vn)),gn}const N=vn=>U.get(vn),Y=["get","getKey","getAll","getAllKeys","count"],J=["put","add","delete","clear"],ce=new Map;function Fe(vn,gn){if(!(vn instanceof IDBDatabase)||gn in vn||"string"!=typeof gn)return;if(ce.get(gn))return ce.get(gn);const Et=gn.replace(/FromIndex$/,""),ut=gn!==Et,Xt=J.includes(Et);if(!(Et in(ut?IDBIndex:IDBObjectStore).prototype)||!Xt&&!Y.includes(Et))return;const Ze=function(){var et=(0,c.Z)(function*(wt,...qt){const wn=this.transaction(wt,Xt?"readwrite":"readonly");let Fn=wn.store;return ut&&(Fn=Fn.index(qt.shift())),(yield Promise.all([Fn[Et](...qt),Xt&&wn.done]))[0]});return function(qt){return et.apply(this,arguments)}}();return ce.set(gn,Ze),Ze}!function P(vn){k=vn(k)}(vn=>({...vn,get:(gn,Et,ut)=>Fe(gn,Et)||vn.get(gn,Et,ut),has:(gn,Et)=>!!Fe(gn,Et)||vn.has(gn,Et)}));class q{constructor(gn){this.container=gn}getPlatformInfoString(){return this.container.getProviders().map(Et=>{if(function le(vn){const gn=vn.getComponent();return"VERSION"===gn?.type}(Et)){const ut=Et.getImmediate();return`${ut.library}/${ut.version}`}return null}).filter(Et=>Et).join(" ")}}const K="@firebase/app",se=new b.Yd("@firebase/app"),fe="[DEFAULT]",ye={[K]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ue=new Map,Me=new Map;function Ye(vn,gn){try{vn.container.addComponent(gn)}catch(Et){se.debug(`Component ${gn.name} failed to register with FirebaseApp ${vn.name}`,Et)}}function Ge(vn,gn){vn.container.addOrOverwriteComponent(gn)}function at(vn){const gn=vn.name;if(Me.has(gn))return se.debug(`There were multiple attempts to register component ${gn}.`),!1;Me.set(gn,vn);for(const Et of ue.values())Ye(Et,vn);return!0}function ct(vn,gn){const Et=vn.container.getProvider("heartbeat").getImmediate({optional:!0});return Et&&Et.triggerHeartbeat(),vn.container.getProvider(gn)}function rt(vn,gn,Et=fe){ct(vn,gn).clearInstance(Et)}function _t(){Me.clear()}const At=new w.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class jt{constructor(gn,Et,ut){this._isDeleted=!1,this._options=Object.assign({},gn),this._config=Object.assign({},Et),this._name=Et.name,this._automaticDataCollectionEnabled=Et.automaticDataCollectionEnabled,this._container=ut,this.container.addComponent(new t.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(gn){this.checkDestroyed(),this._automaticDataCollectionEnabled=gn}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(gn){this._isDeleted=gn}checkDestroyed(){if(this.isDeleted)throw At.create("app-deleted",{appName:this._name})}}const Qt="9.23.0";function cn(vn,gn={}){let Et=vn;"object"!=typeof gn&&(gn={name:gn});const ut=Object.assign({name:fe,automaticDataCollectionEnabled:!1},gn),Xt=ut.name;if("string"!=typeof Xt||!Xt)throw At.create("bad-app-name",{appName:String(Xt)});if(Et||(Et=(0,w.aH)()),!Et)throw At.create("no-options");const Ze=ue.get(Xt);if(Ze){if((0,w.vZ)(Et,Ze.options)&&(0,w.vZ)(ut,Ze.config))return Ze;throw At.create("duplicate-app",{appName:Xt})}const et=new t.H0(Xt);for(const qt of Me.values())et.addComponent(qt);const wt=new jt(Et,ut,et);return ue.set(Xt,wt),wt}function dn(vn=fe){const gn=ue.get(vn);if(!gn&&vn===fe&&(0,w.aH)())return cn();if(!gn)throw At.create("no-app",{appName:vn});return gn}function Gt(){return Array.from(ue.values())}function Cn(vn){return en.apply(this,arguments)}function en(){return(en=(0,c.Z)(function*(vn){const gn=vn.name;ue.has(gn)&&(ue.delete(gn),yield Promise.all(vn.container.getProviders().map(Et=>Et.delete())),vn.isDeleted=!0)})).apply(this,arguments)}function xt(vn,gn,Et){var ut;let Xt=null!==(ut=ye[vn])&&void 0!==ut?ut:vn;Et&&(Xt+=`-${Et}`);const Ze=Xt.match(/\s|\//),et=gn.match(/\s|\//);if(Ze||et){const wt=[`Unable to register library "${Xt}" with version "${gn}":`];return Ze&&wt.push(`library name "${Xt}" contains illegal characters (whitespace or "/")`),Ze&&et&&wt.push("and"),et&&wt.push(`version name "${gn}" contains illegal characters (whitespace or "/")`),void se.warn(wt.join(" "))}at(new t.wA(`${Xt}-version`,()=>({library:Xt,version:gn}),"VERSION"))}function ft(vn,gn){if(null!==vn&&"function"!=typeof vn)throw At.create("invalid-log-argument");(0,b.Am)(vn,gn)}function Xe(vn){(0,b.Ub)(vn)}const xe="firebase-heartbeat-database",Oe=1,We="firebase-heartbeat-store";let $e=null;function lt(){return $e||($e=function C(vn,gn,{blocked:Et,upgrade:ut,blocking:Xt,terminated:Ze}={}){const et=indexedDB.open(vn,gn),wt=T(et);return ut&&et.addEventListener("upgradeneeded",qt=>{ut(T(et.result),qt.oldVersion,qt.newVersion,T(et.transaction),qt)}),Et&&et.addEventListener("blocked",qt=>Et(qt.oldVersion,qt.newVersion,qt)),wt.then(qt=>{Ze&&qt.addEventListener("close",()=>Ze()),Xt&&qt.addEventListener("versionchange",wn=>Xt(wn.oldVersion,wn.newVersion,wn))}).catch(()=>{}),wt}(xe,Oe,{upgrade:(vn,gn)=>{0===gn&&vn.createObjectStore(We)}}).catch(vn=>{throw At.create("idb-open",{originalErrorMessage:vn.message})})),$e}function dt(){return(dt=(0,c.Z)(function*(vn){try{return yield(yield lt()).transaction(We).objectStore(We).get(Rt(vn))}catch(gn){if(gn instanceof w.ZR)se.warn(gn.message);else{const Et=At.create("idb-get",{originalErrorMessage:gn?.message});se.warn(Et.message)}}})).apply(this,arguments)}function Lt(vn,gn){return zt.apply(this,arguments)}function zt(){return(zt=(0,c.Z)(function*(vn,gn){try{const ut=(yield lt()).transaction(We,"readwrite");yield ut.objectStore(We).put(gn,Rt(vn)),yield ut.done}catch(Et){if(Et instanceof w.ZR)se.warn(Et.message);else{const ut=At.create("idb-set",{originalErrorMessage:Et?.message});se.warn(ut.message)}}})).apply(this,arguments)}function Rt(vn){return`${vn.name}!${vn.options.appId}`}class mn{constructor(gn){this.container=gn,this._heartbeatsCache=null;const Et=this.container.getProvider("app").getImmediate();this._storage=new Zn(Et),this._heartbeatsCachePromise=this._storage.read().then(ut=>(this._heartbeatsCache=ut,ut))}triggerHeartbeat(){var gn=this;return(0,c.Z)(function*(){const ut=gn.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Xt=An();if(null===gn._heartbeatsCache&&(gn._heartbeatsCache=yield gn._heartbeatsCachePromise),gn._heartbeatsCache.lastSentHeartbeatDate!==Xt&&!gn._heartbeatsCache.heartbeats.some(Ze=>Ze.date===Xt))return gn._heartbeatsCache.heartbeats.push({date:Xt,agent:ut}),gn._heartbeatsCache.heartbeats=gn._heartbeatsCache.heartbeats.filter(Ze=>{const et=new Date(Ze.date).valueOf();return Date.now()-et<=2592e6}),gn._storage.overwrite(gn._heartbeatsCache)})()}getHeartbeatsHeader(){var gn=this;return(0,c.Z)(function*(){if(null===gn._heartbeatsCache&&(yield gn._heartbeatsCachePromise),null===gn._heartbeatsCache||0===gn._heartbeatsCache.heartbeats.length)return"";const Et=An(),{heartbeatsToSend:ut,unsentEntries:Xt}=function Ln(vn,gn=1024){const Et=[];let ut=vn.slice();for(const Xt of vn){const Ze=Et.find(et=>et.agent===Xt.agent);if(Ze){if(Ze.dates.push(Xt.date),Kn(Et)>gn){Ze.dates.pop();break}}else if(Et.push({agent:Xt.agent,dates:[Xt.date]}),Kn(Et)>gn){Et.pop();break}ut=ut.slice(1)}return{heartbeatsToSend:Et,unsentEntries:ut}}(gn._heartbeatsCache.heartbeats),Ze=(0,w.L)(JSON.stringify({version:2,heartbeats:ut}));return gn._heartbeatsCache.lastSentHeartbeatDate=Et,Xt.length>0?(gn._heartbeatsCache.heartbeats=Xt,yield gn._storage.overwrite(gn._heartbeatsCache)):(gn._heartbeatsCache.heartbeats=[],gn._storage.overwrite(gn._heartbeatsCache)),Ze})()}}function An(){return(new Date).toISOString().substring(0,10)}class Zn{constructor(gn){this.app=gn,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,w.hl)()&&(0,w.eu)().then(()=>!0).catch(()=>!1)})()}read(){var gn=this;return(0,c.Z)(function*(){return(yield gn._canUseIndexedDBPromise)&&(yield function ot(vn){return dt.apply(this,arguments)}(gn.app))||{heartbeats:[]}})()}overwrite(gn){var Et=this;return(0,c.Z)(function*(){var ut;if(yield Et._canUseIndexedDBPromise){const Ze=yield Et.read();return Lt(Et.app,{lastSentHeartbeatDate:null!==(ut=gn.lastSentHeartbeatDate)&&void 0!==ut?ut:Ze.lastSentHeartbeatDate,heartbeats:gn.heartbeats})}})()}add(gn){var Et=this;return(0,c.Z)(function*(){var ut;if(yield Et._canUseIndexedDBPromise){const Ze=yield Et.read();return Lt(Et.app,{lastSentHeartbeatDate:null!==(ut=gn.lastSentHeartbeatDate)&&void 0!==ut?ut:Ze.lastSentHeartbeatDate,heartbeats:[...Ze.heartbeats,...gn.heartbeats]})}})()}}function Kn(vn){return(0,w.L)(JSON.stringify({version:2,heartbeats:vn})).length}!function ci(vn){at(new t.wA("platform-logger",gn=>new q(gn),"PRIVATE")),at(new t.wA("heartbeat",gn=>new mn(gn),"PRIVATE")),xt(K,"0.9.13",vn),xt(K,"0.9.13","esm2017"),xt("fire-js","")}("")},4537:(jn,nt,S)=>{"use strict";S.d(nt,{H0:()=>D,wA:()=>b});var c=S(5861),t=S(9058);class b{constructor(f,g,y){this.name=f,this.instanceFactory=g,this.type=y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(f){return this.instantiationMode=f,this}setMultipleInstances(f){return this.multipleInstances=f,this}setServiceProps(f){return this.serviceProps=f,this}setInstanceCreatedCallback(f){return this.onInstanceCreated=f,this}}const w="[DEFAULT]";class E{constructor(f,g){this.name=f,this.container=g,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(f){const g=this.normalizeInstanceIdentifier(f);if(!this.instancesDeferred.has(g)){const y=new t.BH;if(this.instancesDeferred.set(g,y),this.isInitialized(g)||this.shouldAutoInitialize())try{const M=this.getOrInitializeService({instanceIdentifier:g});M&&y.resolve(M)}catch{}}return this.instancesDeferred.get(g).promise}getImmediate(f){var g;const y=this.normalizeInstanceIdentifier(f?.identifier),M=null!==(g=f?.optional)&&void 0!==g&&g;if(!this.isInitialized(y)&&!this.shouldAutoInitialize()){if(M)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:y})}catch(U){if(M)return null;throw U}}getComponent(){return this.component}setComponent(f){if(f.name!==this.name)throw Error(`Mismatching Component ${f.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=f,this.shouldAutoInitialize()){if(function L(p){return"EAGER"===p.instantiationMode}(f))try{this.getOrInitializeService({instanceIdentifier:w})}catch{}for(const[g,y]of this.instancesDeferred.entries()){const M=this.normalizeInstanceIdentifier(g);try{const U=this.getOrInitializeService({instanceIdentifier:M});y.resolve(U)}catch{}}}}clearInstance(f=w){this.instancesDeferred.delete(f),this.instancesOptions.delete(f),this.instances.delete(f)}delete(){var f=this;return(0,c.Z)(function*(){const g=Array.from(f.instances.values());yield Promise.all([...g.filter(y=>"INTERNAL"in y).map(y=>y.INTERNAL.delete()),...g.filter(y=>"_delete"in y).map(y=>y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(f=w){return this.instances.has(f)}getOptions(f=w){return this.instancesOptions.get(f)||{}}initialize(f={}){const{options:g={}}=f,y=this.normalizeInstanceIdentifier(f.instanceIdentifier);if(this.isInitialized(y))throw Error(`${this.name}(${y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const M=this.getOrInitializeService({instanceIdentifier:y,options:g});for(const[U,R]of this.instancesDeferred.entries())y===this.normalizeInstanceIdentifier(U)&&R.resolve(M);return M}onInit(f,g){var y;const M=this.normalizeInstanceIdentifier(g),U=null!==(y=this.onInitCallbacks.get(M))&&void 0!==y?y:new Set;U.add(f),this.onInitCallbacks.set(M,U);const R=this.instances.get(M);return R&&f(R,M),()=>{U.delete(f)}}invokeOnInitCallbacks(f,g){const y=this.onInitCallbacks.get(g);if(y)for(const M of y)try{M(f,g)}catch{}}getOrInitializeService({instanceIdentifier:f,options:g={}}){let y=this.instances.get(f);if(!y&&this.component&&(y=this.component.instanceFactory(this.container,{instanceIdentifier:(p=f,p===w?void 0:p),options:g}),this.instances.set(f,y),this.instancesOptions.set(f,g),this.invokeOnInitCallbacks(y,f),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,f,y)}catch{}var p;return y||null}normalizeInstanceIdentifier(f=w){return this.component?this.component.multipleInstances?f:w:f}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class D{constructor(f){this.name=f,this.providers=new Map}addComponent(f){const g=this.getProvider(f.name);if(g.isComponentSet())throw new Error(`Component ${f.name} has already been registered with ${this.name}`);g.setComponent(f)}addOrOverwriteComponent(f){this.getProvider(f.name).isComponentSet()&&this.providers.delete(f.name),this.addComponent(f)}getProvider(f){if(this.providers.has(f))return this.providers.get(f);const g=new E(f,this);return this.providers.set(f,g),g}getProviders(){return Array.from(this.providers.values())}}},7879:(jn,nt,S)=>{"use strict";S.d(nt,{Am:()=>p,Ub:()=>D,Yd:()=>L,in:()=>t});const c=[];var t=function(f){return f[f.DEBUG=0]="DEBUG",f[f.VERBOSE=1]="VERBOSE",f[f.INFO=2]="INFO",f[f.WARN=3]="WARN",f[f.ERROR=4]="ERROR",f[f.SILENT=5]="SILENT",f}(t||{});const b={debug:t.DEBUG,verbose:t.VERBOSE,info:t.INFO,warn:t.WARN,error:t.ERROR,silent:t.SILENT},w=t.INFO,E={[t.DEBUG]:"log",[t.VERBOSE]:"log",[t.INFO]:"info",[t.WARN]:"warn",[t.ERROR]:"error"},F=(f,g,...y)=>{if(g<f.logLevel)return;const M=(new Date).toISOString(),U=E[g];if(!U)throw new Error(`Attempted to log a message with an invalid logType (value: ${g})`);console[U](`[${M}]  ${f.name}:`,...y)};class L{constructor(g){this.name=g,this._logLevel=w,this._logHandler=F,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(g){if(!(g in t))throw new TypeError(`Invalid value "${g}" assigned to \`logLevel\``);this._logLevel=g}setLogLevel(g){this._logLevel="string"==typeof g?b[g]:g}get logHandler(){return this._logHandler}set logHandler(g){if("function"!=typeof g)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=g}get userLogHandler(){return this._userLogHandler}set userLogHandler(g){this._userLogHandler=g}debug(...g){this._userLogHandler&&this._userLogHandler(this,t.DEBUG,...g),this._logHandler(this,t.DEBUG,...g)}log(...g){this._userLogHandler&&this._userLogHandler(this,t.VERBOSE,...g),this._logHandler(this,t.VERBOSE,...g)}info(...g){this._userLogHandler&&this._userLogHandler(this,t.INFO,...g),this._logHandler(this,t.INFO,...g)}warn(...g){this._userLogHandler&&this._userLogHandler(this,t.WARN,...g),this._logHandler(this,t.WARN,...g)}error(...g){this._userLogHandler&&this._userLogHandler(this,t.ERROR,...g),this._logHandler(this,t.ERROR,...g)}}function D(f){c.forEach(g=>{g.setLogLevel(f)})}function p(f,g){for(const y of c){let M=null;g&&g.level&&(M=b[g.level]),y.userLogHandler=null===f?null:(U,R,...V)=>{const k=V.map(P=>{if(null==P)return null;if("string"==typeof P)return P;if("number"==typeof P||"boolean"==typeof P)return P.toString();if(P instanceof Error)return P.message;try{return JSON.stringify(P)}catch{return null}}).filter(P=>P).join(" ");R>=(M??U.logLevel)&&f({level:t[R].toLowerCase(),message:k,args:V,type:U.name})}}}},3182:(jn,nt,S)=>{"use strict";S.d(nt,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=S(534);(0,c.registerVersion)("firebase","9.23.0","app")},7142:(jn,nt,S)=>{"use strict";S.d(nt,{Z:()=>c.Z});var c=S(3106);c.Z.registerVersion("firebase","9.23.0","app-compat")},5861:(jn,nt,S)=>{"use strict";function c(b,w,E,F,L,D,p){try{var f=b[D](p),g=f.value}catch(y){return void E(y)}f.done?w(g):Promise.resolve(g).then(F,L)}function t(b){return function(){var w=this,E=arguments;return new Promise(function(F,L){var D=b.apply(w,E);function p(g){c(D,F,L,p,f,"next",g)}function f(g){c(D,F,L,p,f,"throw",g)}p(void 0)})}}S.d(nt,{Z:()=>t})},7582:(jn,nt,S)=>{"use strict";function w(se,me){var De={};for(var Le in se)Object.prototype.hasOwnProperty.call(se,Le)&&me.indexOf(Le)<0&&(De[Le]=se[Le]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(Le=Object.getOwnPropertySymbols(se);he<Le.length;he++)me.indexOf(Le[he])<0&&Object.prototype.propertyIsEnumerable.call(se,Le[he])&&(De[Le[he]]=se[Le[he]])}return De}function y(se,me,De,Le){return new(De||(De=Promise))(function(Re,Ie){function ge(we){try{ke(Le.next(we))}catch(Ke){Ie(Ke)}}function Ue(we){try{ke(Le.throw(we))}catch(Ke){Ie(Ke)}}function ke(we){we.done?Re(we.value):function he(Re){return Re instanceof De?Re:new De(function(Ie){Ie(Re)})}(we.value).then(ge,Ue)}ke((Le=Le.apply(se,me||[])).next())})}function T(se){return this instanceof T?(this.v=se,this):new T(se)}function N(se,me,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,Le=De.apply(se,me||[]),Re=[];return he={},Ie("next"),Ie("throw"),Ie("return"),he[Symbol.asyncIterator]=function(){return this},he;function Ie(st){Le[st]&&(he[st]=function(Qe){return new Promise(function(Ne,Se){Re.push([st,Qe,Ne,Se])>1||ge(st,Qe)})})}function ge(st,Qe){try{!function Ue(st){st.value instanceof T?Promise.resolve(st.value.v).then(ke,we):Ke(Re[0][2],st)}(Le[st](Qe))}catch(Ne){Ke(Re[0][3],Ne)}}function ke(st){ge("next",st)}function we(st){ge("throw",st)}function Ke(st,Qe){st(Qe),Re.shift(),Re.length&&ge(Re[0][0],Re[0][1])}}function B(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,me=se[Symbol.asyncIterator];return me?me.call(se):(se=function V(se){var me="function"==typeof Symbol&&Symbol.iterator,De=me&&se[me],Le=0;if(De)return De.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&Le>=se.length&&(se=void 0),{value:se&&se[Le++],done:!se}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),De={},Le("next"),Le("throw"),Le("return"),De[Symbol.asyncIterator]=function(){return this},De);function Le(Re){De[Re]=se[Re]&&function(Ie){return new Promise(function(ge,Ue){!function he(Re,Ie,ge,Ue){Promise.resolve(Ue).then(function(ke){Re({value:ke,done:ge})},Ie)}(ge,Ue,(Ie=se[Re](Ie)).done,Ie.value)})}}}S.d(nt,{FC:()=>N,KL:()=>B,_T:()=>w,mG:()=>y,qq:()=>T})}},jn=>{jn(jn.s=635)}]);