(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6304:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Dh:()=>g,GT:()=>x,cc:()=>B,hO:()=>T,on:()=>i,pX:()=>_,xv:()=>d});var e=v(5879),n=v(7142),b=v(8186);Hn=v.hmd(Hn);const A=["ngOnDestroy"],_=(O,D,I,S={})=>new Proxy(O,{get:(L,C)=>I.runOutsideAngular(()=>{var U;if(O[C])return!(null===(U=S?.spy)||void 0===U)&&U.get&&S.spy.get(C,O[C]),O[C];if(A.indexOf(C)>-1)return()=>{};const z=D.toPromise().then(ne=>{const te=ne&&ne[C];return"function"==typeof te?te.bind(ne):te&&te.then?te.then(Me=>I.run(()=>Me)):I.run(()=>te)});return new Proxy(()=>{},{get:(ne,te)=>z[te],apply:(ne,te,Me)=>z.then(J=>{var ce;const W=J&&J(...Me);return!(null===(ce=S?.spy)||void 0===ce)&&ce.apply&&S.spy.apply(C,Me,W),W})})})}),x=(O,D)=>{D.forEach(I=>{Object.getOwnPropertyNames(I.prototype||I).forEach(S=>{Object.defineProperty(O.prototype,S,Object.getOwnPropertyDescriptor(I.prototype||I,S))})})};class w{constructor(D){return D}}const g=new e.OlP("angularfire2.app.options"),d=new e.OlP("angularfire2.app.name");function i(O,D,I){const L="object"==typeof I&&I||{};L.name=L.name||"string"==typeof I&&I||"[DEFAULT]";const U=n.Z.apps.filter(z=>z&&z.name===L.name)[0]||D.runOutsideAngular(()=>n.Z.initializeApp(O,L));try{JSON.stringify(O)!==JSON.stringify(U.options)&&h("error",`${U.name} Firebase App already initialized with different options${Hn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new w(U)}const h=(O,...D)=>{(0,e.X6Q)()&&typeof console<"u"&&console[O](...D)},p={provide:w,useFactory:i,deps:[g,e.R0b,[new e.FiY,d]]};let T=(()=>{class O{constructor(I){n.Z.registerVersion("angularfire",b.q4.full,"core"),n.Z.registerVersion("angularfire",b.q4.full,"app-compat"),n.Z.registerVersion("angular",e.q4F.full,I.toString())}static initializeApp(I,S){return{ngModule:O,providers:[{provide:g,useValue:I},{provide:d,useValue:S}]}}}return O.\u0275fac=function(I){return new(I||O)(e.LFG(e.Lbi))},O.\u0275mod=e.oAB({type:O}),O.\u0275inj=e.cJS({providers:[p]}),O})();function B(O,D,I,S,L){const[,C,U]=globalThis.\u0275AngularfireInstanceCache.find(z=>z[0]===O)||[];if(C)return function P(O,D){try{return O.toString()===D.toString()}catch{return O===D}}(L,U)||(F("error",`${D} was already initialized on the ${I} Firebase App with different settings.${k?" You may need to reload as Firebase is not HMR aware.":""}`),F("warn",{is:L,was:U})),C;{const z=S();return globalThis.\u0275AngularfireInstanceCache.push([O,z,L]),z}}const k=!!Hn.hot,F=(O,...D)=>{(0,e.X6Q)()&&typeof console<"u"&&console[O](...D)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(Hn,Xe,v)=>{"use strict";v.d(Xe,{q4:()=>Mc,iC:()=>Wa,HU:()=>Ll,vb:()=>gd,JM:()=>rc});var e=v(5879),n=v(3182),b=v(5861),A=v(534),_=v(9058),x=v(4537),w=v(7879);const g=(je,st)=>st.some(Bt=>je instanceof Bt);let d,i;const T=new WeakMap,B=new WeakMap,P=new WeakMap,k=new WeakMap,F=new WeakMap;let I={get(je,st,Bt){if(je instanceof IDBTransaction){if("done"===st)return B.get(je);if("objectStoreNames"===st)return je.objectStoreNames||P.get(je);if("store"===st)return Bt.objectStoreNames[1]?void 0:Bt.objectStore(Bt.objectStoreNames[0])}return U(je[st])},set:(je,st,Bt)=>(je[st]=Bt,!0),has:(je,st)=>je instanceof IDBTransaction&&("done"===st||"store"===st)||st in je};function C(je){return"function"==typeof je?function L(je){return je!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function p(){return i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(je)?function(...st){return je.apply(z(this),st),U(T.get(this))}:function(...st){return U(je.apply(z(this),st))}:function(st,...Bt){const an=je.call(z(this),st,...Bt);return P.set(an,st.sort?st.sort():[st]),U(an)}}(je):(je instanceof IDBTransaction&&function D(je){if(B.has(je))return;const st=new Promise((Bt,an)=>{const xn=()=>{je.removeEventListener("complete",Fn),je.removeEventListener("error",Qn),je.removeEventListener("abort",Qn)},Fn=()=>{Bt(),xn()},Qn=()=>{an(je.error||new DOMException("AbortError","AbortError")),xn()};je.addEventListener("complete",Fn),je.addEventListener("error",Qn),je.addEventListener("abort",Qn)});B.set(je,st)}(je),g(je,function h(){return d||(d=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(je,I):je)}function U(je){if(je instanceof IDBRequest)return function O(je){const st=new Promise((Bt,an)=>{const xn=()=>{je.removeEventListener("success",Fn),je.removeEventListener("error",Qn)},Fn=()=>{Bt(U(je.result)),xn()},Qn=()=>{an(je.error),xn()};je.addEventListener("success",Fn),je.addEventListener("error",Qn)});return st.then(Bt=>{Bt instanceof IDBCursor&&T.set(Bt,je)}).catch(()=>{}),F.set(st,je),st}(je);if(k.has(je))return k.get(je);const st=C(je);return st!==je&&(k.set(je,st),F.set(st,je)),st}const z=je=>F.get(je),Me=["get","getKey","getAll","getAllKeys","count"],J=["put","add","delete","clear"],ce=new Map;function W(je,st){if(!(je instanceof IDBDatabase)||st in je||"string"!=typeof st)return;if(ce.get(st))return ce.get(st);const Bt=st.replace(/FromIndex$/,""),an=st!==Bt,xn=J.includes(Bt);if(!(Bt in(an?IDBIndex:IDBObjectStore).prototype)||!xn&&!Me.includes(Bt))return;const Fn=function(){var Qn=(0,b.Z)(function*(Ei,...di){const Ti=this.transaction(Ei,xn?"readwrite":"readonly");let Vi=Ti.store;return an&&(Vi=Vi.index(di.shift())),(yield Promise.all([Vi[Bt](...di),xn&&Ti.done]))[0]});return function(di){return Qn.apply(this,arguments)}}();return ce.set(st,Fn),Fn}!function S(je){I=je(I)}(je=>({...je,get:(st,Bt,an)=>W(st,Bt)||je.get(st,Bt,an),has:(st,Bt)=>!!W(st,Bt)||je.has(st,Bt)}));const Se="@firebase/installations",le="0.6.4",Ee=1e4,xe=`w:${le}`,Ve="FIS_v2",fe="https://firebaseinstallations.googleapis.com/v1",Pe=36e5,Re=new _.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Fe(je){return je instanceof _.ZR&&je.code.includes("request-failed")}function Ne({projectId:je}){return`${fe}/projects/${je}/installations`}function at(je){return{token:je.token,requestStatus:2,expiresIn:oe(je.expiresIn),creationTime:Date.now()}}function Be(je,st){return ye.apply(this,arguments)}function ye(){return(ye=(0,b.Z)(function*(je,st){const an=(yield st.json()).error;return Re.create("request-failed",{requestName:je,serverCode:an.code,serverMessage:an.message,serverStatus:an.status})})).apply(this,arguments)}function ve({apiKey:je}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":je})}function se(je){return ge.apply(this,arguments)}function ge(){return(ge=(0,b.Z)(function*(je){const st=yield je();return st.status>=500&&st.status<600?je():st})).apply(this,arguments)}function oe(je){return Number(je.replace("s","000"))}function $(){return($=(0,b.Z)(function*({appConfig:je,heartbeatServiceProvider:st},{fid:Bt}){const an=Ne(je),xn=ve(je),Fn=st.getImmediate({optional:!0});if(Fn){const Ti=yield Fn.getHeartbeatsHeader();Ti&&xn.append("x-firebase-client",Ti)}const Ei={method:"POST",headers:xn,body:JSON.stringify({fid:Bt,authVersion:Ve,appId:je.appId,sdkVersion:xe})},di=yield se(()=>fetch(an,Ei));if(di.ok){const Ti=yield di.json();return{fid:Ti.fid||Bt,registrationStatus:2,refreshToken:Ti.refreshToken,authToken:at(Ti.authToken)}}throw yield Be("Create Installation",di)})).apply(this,arguments)}function ie(je){return new Promise(st=>{setTimeout(st,je)})}const X=/^[cdef][\w-]{21}$/,pe="";function Te(){try{const je=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(je),je[0]=112+je[0]%16;const Bt=function be(je){return function Z(je){return btoa(String.fromCharCode(...je)).replace(/\+/g,"-").replace(/\//g,"_")}(je).substr(0,22)}(je);return X.test(Bt)?Bt:pe}catch{return pe}}function Le(je){return`${je.appName}!${je.appId}`}const et=new Map;function Qe(je,st){const Bt=Le(je);ze(Bt,st),function ht(je,st){const Bt=function de(){return!Et&&"BroadcastChannel"in self&&(Et=new BroadcastChannel("[Firebase] FID Change"),Et.onmessage=je=>{ze(je.data.key,je.data.fid)}),Et}();Bt&&Bt.postMessage({key:je,fid:st}),function He(){0===et.size&&Et&&(Et.close(),Et=null)}()}(Bt,st)}function ze(je,st){const Bt=et.get(je);if(Bt)for(const an of Bt)an(st)}let Et=null;const bt="firebase-installations-database",Ut=1,Zt="firebase-installations-store";let Kt=null;function pn(){return Kt||(Kt=function ne(je,st,{blocked:Bt,upgrade:an,blocking:xn,terminated:Fn}={}){const Qn=indexedDB.open(je,st),Ei=U(Qn);return an&&Qn.addEventListener("upgradeneeded",di=>{an(U(Qn.result),di.oldVersion,di.newVersion,U(Qn.transaction))}),Bt&&Qn.addEventListener("blocked",()=>Bt()),Ei.then(di=>{Fn&&di.addEventListener("close",()=>Fn()),xn&&di.addEventListener("versionchange",()=>xn())}).catch(()=>{}),Ei}(bt,Ut,{upgrade:(je,st)=>{0===st&&je.createObjectStore(Zt)}})),Kt}function rn(je,st){return xt.apply(this,arguments)}function xt(){return(xt=(0,b.Z)(function*(je,st){const Bt=Le(je),xn=(yield pn()).transaction(Zt,"readwrite"),Fn=xn.objectStore(Zt),Qn=yield Fn.get(Bt);return yield Fn.put(st,Bt),yield xn.done,(!Qn||Qn.fid!==st.fid)&&Qe(je,st.fid),st})).apply(this,arguments)}function vt(je){return nt.apply(this,arguments)}function nt(){return(nt=(0,b.Z)(function*(je){const st=Le(je),an=(yield pn()).transaction(Zt,"readwrite");yield an.objectStore(Zt).delete(st),yield an.done})).apply(this,arguments)}function ke(je,st){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,b.Z)(function*(je,st){const Bt=Le(je),xn=(yield pn()).transaction(Zt,"readwrite"),Fn=xn.objectStore(Zt),Qn=yield Fn.get(Bt),Ei=st(Qn);return void 0===Ei?yield Fn.delete(Bt):yield Fn.put(Ei,Bt),yield xn.done,Ei&&(!Qn||Qn.fid!==Ei.fid)&&Qe(je,Ei.fid),Ei})).apply(this,arguments)}function rt(je){return ot.apply(this,arguments)}function ot(){return ot=(0,b.Z)(function*(je){let st;const Bt=yield ke(je.appConfig,an=>{const xn=function yt(je){return Tn(je||{fid:Te(),registrationStatus:0})}(an),Fn=function mt(je,st){if(0===st.registrationStatus){if(!navigator.onLine)return{installationEntry:st,registrationPromise:Promise.reject(Re.create("app-offline"))};const Bt={fid:st.fid,registrationStatus:1,registrationTime:Date.now()},an=function _t(je,st){return qt.apply(this,arguments)}(je,Bt);return{installationEntry:Bt,registrationPromise:an}}return 1===st.registrationStatus?{installationEntry:st,registrationPromise:fn(je)}:{installationEntry:st}}(je,xn);return st=Fn.registrationPromise,Fn.installationEntry});return Bt.fid===pe?{installationEntry:yield st}:{installationEntry:Bt,registrationPromise:st}}),ot.apply(this,arguments)}function qt(){return qt=(0,b.Z)(function*(je,st){try{const Bt=yield function q(je,st){return $.apply(this,arguments)}(je,st);return rn(je.appConfig,Bt)}catch(Bt){throw Fe(Bt)&&409===Bt.customData.serverCode?yield vt(je.appConfig):yield rn(je.appConfig,{fid:st.fid,registrationStatus:0}),Bt}}),qt.apply(this,arguments)}function fn(je){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,b.Z)(function*(je){let st=yield gn(je.appConfig);for(;1===st.registrationStatus;)yield ie(100),st=yield gn(je.appConfig);if(0===st.registrationStatus){const{installationEntry:Bt,registrationPromise:an}=yield rt(je);return an||Bt}return st})).apply(this,arguments)}function gn(je){return ke(je,st=>{if(!st)throw Re.create("installation-not-found");return Tn(st)})}function Tn(je){return function Mn(je){return 1===je.registrationStatus&&je.registrationTime+Ee<Date.now()}(je)?{fid:je.fid,registrationStatus:0}:je}function Zn(){return(Zn=(0,b.Z)(function*({appConfig:je,heartbeatServiceProvider:st},Bt){const an=function dn(je,{fid:st}){return`${Ne(je)}/${st}/authTokens:generate`}(je,Bt),xn=function K(je,{refreshToken:st}){const Bt=ve(je);return Bt.append("Authorization",function Q(je){return`${Ve} ${je}`}(st)),Bt}(je,Bt),Fn=st.getImmediate({optional:!0});if(Fn){const Ti=yield Fn.getHeartbeatsHeader();Ti&&xn.append("x-firebase-client",Ti)}const Ei={method:"POST",headers:xn,body:JSON.stringify({installation:{sdkVersion:xe,appId:je.appId}})},di=yield se(()=>fetch(an,Ei));if(di.ok)return at(yield di.json());throw yield Be("Generate Auth Token",di)})).apply(this,arguments)}function ln(je){return un.apply(this,arguments)}function un(){return un=(0,b.Z)(function*(je,st=!1){let Bt;const an=yield ke(je.appConfig,Fn=>{if(!$e(Fn))throw Re.create("not-registered");const Qn=Fn.authToken;if(!st&&function Tt(je){return 2===je.requestStatus&&!function Yt(je){const st=Date.now();return st<je.creationTime||je.creationTime+je.expiresIn<st+Pe}(je)}(Qn))return Fn;if(1===Qn.requestStatus)return Bt=function sn(je,st){return cn.apply(this,arguments)}(je,st),Fn;{if(!navigator.onLine)throw Re.create("app-offline");const Ei=function Rt(je){const st={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},je),{authToken:st})}(Fn);return Bt=function dt(je,st){return hn.apply(this,arguments)}(je,Ei),Ei}});return Bt?yield Bt:an.authToken}),un.apply(this,arguments)}function cn(){return(cn=(0,b.Z)(function*(je,st){let Bt=yield St(je.appConfig);for(;1===Bt.authToken.requestStatus;)yield ie(100),Bt=yield St(je.appConfig);const an=Bt.authToken;return 0===an.requestStatus?ln(je,st):an})).apply(this,arguments)}function St(je){return ke(je,st=>{if(!$e(st))throw Re.create("not-registered");return function bn(je){return 1===je.requestStatus&&je.requestTime+Ee<Date.now()}(st.authToken)?Object.assign(Object.assign({},st),{authToken:{requestStatus:0}}):st})}function hn(){return hn=(0,b.Z)(function*(je,st){try{const Bt=yield function Gn(je,st){return Zn.apply(this,arguments)}(je,st),an=Object.assign(Object.assign({},st),{authToken:Bt});return yield rn(je.appConfig,an),Bt}catch(Bt){if(!Fe(Bt)||401!==Bt.customData.serverCode&&404!==Bt.customData.serverCode){const an=Object.assign(Object.assign({},st),{authToken:{requestStatus:0}});yield rn(je.appConfig,an)}else yield vt(je.appConfig);throw Bt}}),hn.apply(this,arguments)}function $e(je){return void 0!==je&&2===je.registrationStatus}function Ct(){return(Ct=(0,b.Z)(function*(je){const st=je,{installationEntry:Bt,registrationPromise:an}=yield rt(st);return an?an.catch(console.error):ln(st).catch(console.error),Bt.fid})).apply(this,arguments)}function $t(){return $t=(0,b.Z)(function*(je,st=!1){const Bt=je;return yield function _n(je){return Un.apply(this,arguments)}(Bt),(yield ln(Bt,st)).token}),$t.apply(this,arguments)}function Un(){return(Un=(0,b.Z)(function*(je){const{registrationPromise:st}=yield rt(je);st&&(yield st)})).apply(this,arguments)}function ci(je){return Re.create("missing-app-config-values",{valueName:je})}const nr="installations",Ar=je=>{const st=je.getProvider("app").getImmediate(),Bt=function wn(je){if(!je||!je.options)throw ci("App Configuration");if(!je.name)throw ci("App Name");const st=["projectId","apiKey","appId"];for(const Bt of st)if(!je.options[Bt])throw ci(Bt);return{appName:je.name,projectId:je.options.projectId,apiKey:je.options.apiKey,appId:je.options.appId}}(st);return{app:st,appConfig:Bt,heartbeatServiceProvider:(0,A._getProvider)(st,"heartbeat"),_delete:()=>Promise.resolve()}},fr=je=>{const st=je.getProvider("app").getImmediate(),Bt=(0,A._getProvider)(st,nr).getImmediate();return{getId:()=>function Lt(je){return Ct.apply(this,arguments)}(Bt),getToken:xn=>function Pt(je){return $t.apply(this,arguments)}(Bt,xn)}};(function bo(){(0,A._registerComponent)(new x.wA(nr,Ar,"PUBLIC")),(0,A._registerComponent)(new x.wA("installations-internal",fr,"PRIVATE"))})(),(0,A.registerVersion)(Se,le),(0,A.registerVersion)(Se,le,"esm2017");const Eo="@firebase/remote-config",ir=new _.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wi{constructor(st,Bt,an,xn){this.client=st,this.storage=Bt,this.storageCache=an,this.logger=xn}isCachedDataFresh(st,Bt){if(!Bt)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const an=Date.now()-Bt,xn=an<=st;return this.logger.debug(`Config fetch cache check. Cache age millis: ${an}. Cache max age millis (minimumFetchIntervalMillis setting): ${st}. Is cache hit: ${xn}.`),xn}fetch(st){var Bt=this;return(0,b.Z)(function*(){const[an,xn]=yield Promise.all([Bt.storage.getLastSuccessfulFetchTimestampMillis(),Bt.storage.getLastSuccessfulFetchResponse()]);if(xn&&Bt.isCachedDataFresh(st.cacheMaxAgeMillis,an))return xn;st.eTag=xn&&xn.eTag;const Fn=yield Bt.client.fetch(st),Qn=[Bt.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Fn.status&&Qn.push(Bt.storage.setLastSuccessfulFetchResponse(Fn)),yield Promise.all(Qn),Fn})()}}function Hi(je=navigator){return je.languages&&je.languages[0]||je.language}class Ki{constructor(st,Bt,an,xn,Fn,Qn){this.firebaseInstallations=st,this.sdkVersion=Bt,this.namespace=an,this.projectId=xn,this.apiKey=Fn,this.appId=Qn}fetch(st){var Bt=this;return(0,b.Z)(function*(){const[an,xn]=yield Promise.all([Bt.firebaseInstallations.getId(),Bt.firebaseInstallations.getToken()]),Qn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Bt.projectId}/namespaces/${Bt.namespace}:fetch?key=${Bt.apiKey}`,Ei={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":st.eTag||"*"},di={sdk_version:Bt.sdkVersion,app_instance_id:an,app_instance_id_token:xn,app_id:Bt.appId,language_code:Hi()},Ti={method:"POST",headers:Ei,body:JSON.stringify(di)},Vi=fetch(Qn,Ti),Yi=new Promise((Rr,_l)=>{st.signal.addEventListener(()=>{const vl=new Error("The operation was aborted.");vl.name="AbortError",_l(vl)})});let So;try{yield Promise.race([Vi,Yi]),So=yield Vi}catch(Rr){let _l="fetch-client-network";throw"AbortError"===Rr?.name&&(_l="fetch-timeout"),ir.create(_l,{originalErrorMessage:Rr?.message})}let io=So.status;const pl=So.headers.get("ETag")||void 0;let Yo,gl;if(200===So.status){let Rr;try{Rr=yield So.json()}catch(_l){throw ir.create("fetch-client-parse",{originalErrorMessage:_l?.message})}Yo=Rr.entries,gl=Rr.state}if("INSTANCE_STATE_UNSPECIFIED"===gl?io=500:"NO_CHANGE"===gl?io=304:("NO_TEMPLATE"===gl||"EMPTY_CONFIG"===gl)&&(Yo={}),304!==io&&200!==io)throw ir.create("fetch-status",{httpStatus:io});return{status:io,eTag:pl,config:Yo}})()}}class Vr{constructor(st,Bt){this.client=st,this.storage=Bt}fetch(st){var Bt=this;return(0,b.Z)(function*(){const an=(yield Bt.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Bt.attemptFetch(st,an)})()}attemptFetch(st,{throttleEndTimeMillis:Bt,backoffCount:an}){var xn=this;return(0,b.Z)(function*(){yield function ki(je,st){return new Promise((Bt,an)=>{const xn=Math.max(st-Date.now(),0),Fn=setTimeout(Bt,xn);je.addEventListener(()=>{clearTimeout(Fn),an(ir.create("fetch-throttle",{throttleEndTimeMillis:st}))})})}(st.signal,Bt);try{const Fn=yield xn.client.fetch(st);return yield xn.storage.deleteThrottleMetadata(),Fn}catch(Fn){if(!function xr(je){if(!(je instanceof _.ZR&&je.customData))return!1;const st=Number(je.customData.httpStatus);return 429===st||500===st||503===st||504===st}(Fn))throw Fn;const Qn={throttleEndTimeMillis:Date.now()+(0,_.$s)(an),backoffCount:an+1};return yield xn.storage.setThrottleMetadata(Qn),xn.attemptFetch(st,Qn)}})()}}class Ps{constructor(st,Bt,an,xn,Fn){this.app=st,this._client=Bt,this._storageCache=an,this._storage=xn,this._logger=Fn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function zr(je,st){const Bt=je.target.error||void 0;return ir.create(st,{originalErrorMessage:Bt&&Bt?.message})}const Xr="app_namespace_store";class Ks{constructor(st,Bt,an,xn=function Zi(){return new Promise((je,st)=>{try{const Bt=indexedDB.open("firebase_remote_config",1);Bt.onerror=an=>{st(zr(an,"storage-open"))},Bt.onsuccess=an=>{je(an.target.result)},Bt.onupgradeneeded=an=>{0===an.oldVersion&&an.target.result.createObjectStore(Xr,{keyPath:"compositeKey"})}}catch(Bt){st(ir.create("storage-open",{originalErrorMessage:Bt?.message}))}})}()){this.appId=st,this.appName=Bt,this.namespace=an,this.openDbPromise=xn}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(st){return this.set("last_fetch_status",st)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(st){return this.set("last_successful_fetch_timestamp_millis",st)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(st){return this.set("last_successful_fetch_response",st)}getActiveConfig(){return this.get("active_config")}setActiveConfig(st){return this.set("active_config",st)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(st){return this.set("active_config_etag",st)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(st){return this.set("throttle_metadata",st)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(st){var Bt=this;return(0,b.Z)(function*(){const an=yield Bt.openDbPromise;return new Promise((xn,Fn)=>{const Ei=an.transaction([Xr],"readonly").objectStore(Xr),di=Bt.createCompositeKey(st);try{const Ti=Ei.get(di);Ti.onerror=Vi=>{Fn(zr(Vi,"storage-get"))},Ti.onsuccess=Vi=>{const Yi=Vi.target.result;xn(Yi?Yi.value:void 0)}}catch(Ti){Fn(ir.create("storage-get",{originalErrorMessage:Ti?.message}))}})})()}set(st,Bt){var an=this;return(0,b.Z)(function*(){const xn=yield an.openDbPromise;return new Promise((Fn,Qn)=>{const di=xn.transaction([Xr],"readwrite").objectStore(Xr),Ti=an.createCompositeKey(st);try{const Vi=di.put({compositeKey:Ti,value:Bt});Vi.onerror=Yi=>{Qn(zr(Yi,"storage-set"))},Vi.onsuccess=()=>{Fn()}}catch(Vi){Qn(ir.create("storage-set",{originalErrorMessage:Vi?.message}))}})})()}delete(st){var Bt=this;return(0,b.Z)(function*(){const an=yield Bt.openDbPromise;return new Promise((xn,Fn)=>{const Ei=an.transaction([Xr],"readwrite").objectStore(Xr),di=Bt.createCompositeKey(st);try{const Ti=Ei.delete(di);Ti.onerror=Vi=>{Fn(zr(Vi,"storage-delete"))},Ti.onsuccess=()=>{xn()}}catch(Ti){Fn(ir.create("storage-delete",{originalErrorMessage:Ti?.message}))}})})()}createCompositeKey(st){return[this.appId,this.appName,this.namespace,st].join()}}class $o{constructor(st){this.storage=st}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var st=this;return(0,b.Z)(function*(){const Bt=st.storage.getLastFetchStatus(),an=st.storage.getLastSuccessfulFetchTimestampMillis(),xn=st.storage.getActiveConfig(),Fn=yield Bt;Fn&&(st.lastFetchStatus=Fn);const Qn=yield an;Qn&&(st.lastSuccessfulFetchTimestampMillis=Qn);const Ei=yield xn;Ei&&(st.activeConfig=Ei)})()}setLastFetchStatus(st){return this.lastFetchStatus=st,this.storage.setLastFetchStatus(st)}setLastSuccessfulFetchTimestampMillis(st){return this.lastSuccessfulFetchTimestampMillis=st,this.storage.setLastSuccessfulFetchTimestampMillis(st)}setActiveConfig(st){return this.activeConfig=st,this.storage.setActiveConfig(st)}}function cs(){return ds.apply(this,arguments)}function ds(){return(ds=(0,b.Z)(function*(){if(!(0,_.hl)())return!1;try{return yield(0,_.eu)()}catch{return!1}})).apply(this,arguments)}!function ns(){(0,A._registerComponent)(new x.wA("remote-config",function je(st,{instanceIdentifier:Bt}){const an=st.getProvider("app").getImmediate(),xn=st.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ir.create("registration-window");if(!(0,_.hl)())throw ir.create("indexed-db-unavailable");const{projectId:Fn,apiKey:Qn,appId:Ei}=an.options;if(!Fn)throw ir.create("registration-project-id");if(!Qn)throw ir.create("registration-api-key");if(!Ei)throw ir.create("registration-app-id");const di=new Ks(Ei,an.name,Bt=Bt||"firebase"),Ti=new $o(di),Vi=new w.Yd(Eo);Vi.logLevel=w.in.ERROR;const Yi=new Ki(xn,A.SDK_VERSION,Bt,Fn,Qn,Ei),So=new Vr(Yi,di),io=new wi(So,di,Ti,Vi),pl=new Ps(an,io,Ti,di,Vi);return function Ni(je){const st=(0,_.m9)(je);st._initializePromise||(st._initializePromise=st._storageCache.loadFromStorage().then(()=>{st._isInitializationComplete=!0}))}(pl),pl},"PUBLIC").setMultipleInstances(!0)),(0,A.registerVersion)(Eo,"0.4.4"),(0,A.registerVersion)(Eo,"0.4.4","esm2017")}();const Fr=(je,st)=>st.some(Bt=>je instanceof Bt);let Os,Zr;const po=new WeakMap,us=new WeakMap,yr=new WeakMap,rs=new WeakMap,Ys=new WeakMap;let Rs={get(je,st,Bt){if(je instanceof IDBTransaction){if("done"===st)return us.get(je);if("objectStoreNames"===st)return je.objectStoreNames||yr.get(je);if("store"===st)return Bt.objectStoreNames[1]?void 0:Bt.objectStore(Bt.objectStoreNames[0])}return Io(je[st])},set:(je,st,Bt)=>(je[st]=Bt,!0),has:(je,st)=>je instanceof IDBTransaction&&("done"===st||"store"===st)||st in je};function ma(je){return"function"==typeof je?function bs(je){return je!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ws(){return Zr||(Zr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(je)?function(...st){return je.apply(Ho(this),st),Io(po.get(this))}:function(...st){return Io(je.apply(Ho(this),st))}:function(st,...Bt){const an=je.call(Ho(this),st,...Bt);return yr.set(an,st.sort?st.sort():[st]),Io(an)}}(je):(je instanceof IDBTransaction&&function zs(je){if(us.has(je))return;const st=new Promise((Bt,an)=>{const xn=()=>{je.removeEventListener("complete",Fn),je.removeEventListener("error",Qn),je.removeEventListener("abort",Qn)},Fn=()=>{Bt(),xn()},Qn=()=>{an(je.error||new DOMException("AbortError","AbortError")),xn()};je.addEventListener("complete",Fn),je.addEventListener("error",Qn),je.addEventListener("abort",Qn)});us.set(je,st)}(je),Fr(je,function Er(){return Os||(Os=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(je,Rs):je)}function Io(je){if(je instanceof IDBRequest)return function Go(je){const st=new Promise((Bt,an)=>{const xn=()=>{je.removeEventListener("success",Fn),je.removeEventListener("error",Qn)},Fn=()=>{Bt(Io(je.result)),xn()},Qn=()=>{an(je.error),xn()};je.addEventListener("success",Fn),je.addEventListener("error",Qn)});return st.then(Bt=>{Bt instanceof IDBCursor&&po.set(Bt,je)}).catch(()=>{}),Ys.set(st,je),st}(je);if(rs.has(je))return rs.get(je);const st=ma(je);return st!==je&&(rs.set(je,st),Ys.set(st,je)),st}const Ho=je=>Ys.get(je);function jo(je,st,{blocked:Bt,upgrade:an,blocking:xn,terminated:Fn}={}){const Qn=indexedDB.open(je,st),Ei=Io(Qn);return an&&Qn.addEventListener("upgradeneeded",di=>{an(Io(Qn.result),di.oldVersion,di.newVersion,Io(Qn.transaction))}),Bt&&Qn.addEventListener("blocked",()=>Bt()),Ei.then(di=>{Fn&&di.addEventListener("close",()=>Fn()),xn&&di.addEventListener("versionchange",()=>xn())}).catch(()=>{}),Ei}function Zs(je,{blocked:st}={}){const Bt=indexedDB.deleteDatabase(je);return st&&Bt.addEventListener("blocked",()=>st()),Io(Bt).then(()=>{})}const pa=["get","getKey","getAll","getAllKeys","count"],Ns=["put","add","delete","clear"],hs=new Map;function $s(je,st){if(!(je instanceof IDBDatabase)||st in je||"string"!=typeof st)return;if(hs.get(st))return hs.get(st);const Bt=st.replace(/FromIndex$/,""),an=st!==Bt,xn=Ns.includes(Bt);if(!(Bt in(an?IDBIndex:IDBObjectStore).prototype)||!xn&&!pa.includes(Bt))return;const Fn=function(){var Qn=(0,b.Z)(function*(Ei,...di){const Ti=this.transaction(Ei,xn?"readwrite":"readonly");let Vi=Ti.store;return an&&(Vi=Vi.index(di.shift())),(yield Promise.all([Vi[Bt](...di),xn&&Ti.done]))[0]});return function(di){return Qn.apply(this,arguments)}}();return hs.set(st,Fn),Fn}!function fs(je){Rs=je(Rs)}(je=>({...je,get:(st,Bt,an)=>$s(st,Bt)||je.get(st,Bt,an),has:(st,Bt)=>!!$s(st,Bt)||je.has(st,Bt)}));const Jo="/firebase-messaging-sw.js",Ma="/firebase-cloud-messaging-push-scope",Js="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ls="https://fcmregistrations.googleapis.com/v1",ks="google.c.a.c_id",mr="google.c.a.c_l",Pn="google.c.a.ts";var lt=function(je){return je.PUSH_RECEIVED="push-received",je.NOTIFICATION_CLICKED="notification-clicked",je}(lt||{});function Wt(je){const st=new Uint8Array(je);return btoa(String.fromCharCode(...st)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function En(je){const Bt=(je+"=".repeat((4-je.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),an=atob(Bt),xn=new Uint8Array(an.length);for(let Fn=0;Fn<an.length;++Fn)xn[Fn]=an.charCodeAt(Fn);return xn}const pi="fcm_token_details_db",Bi=5,wo="fcm_token_object_Store";function os(){return os=(0,b.Z)(function*(je){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Fn=>Fn.name).includes(pi))return null;let st=null;return(yield jo(pi,Bi,{upgrade:(an=(0,b.Z)(function*(xn,Fn,Qn,Ei){var di;if(Fn<2||!xn.objectStoreNames.contains(wo))return;const Ti=Ei.objectStore(wo),Vi=yield Ti.index("fcmSenderId").get(je);if(yield Ti.clear(),Vi)if(2===Fn){const Yi=Vi;if(!Yi.auth||!Yi.p256dh||!Yi.endpoint)return;st={token:Yi.fcmToken,createTime:null!==(di=Yi.createTime)&&void 0!==di?di:Date.now(),subscriptionOptions:{auth:Yi.auth,p256dh:Yi.p256dh,endpoint:Yi.endpoint,swScope:Yi.swScope,vapidKey:"string"==typeof Yi.vapidKey?Yi.vapidKey:Wt(Yi.vapidKey)}}}else if(3===Fn){const Yi=Vi;st={token:Yi.fcmToken,createTime:Yi.createTime,subscriptionOptions:{auth:Wt(Yi.auth),p256dh:Wt(Yi.p256dh),endpoint:Yi.endpoint,swScope:Yi.swScope,vapidKey:Wt(Yi.vapidKey)}}}else if(4===Fn){const Yi=Vi;st={token:Yi.fcmToken,createTime:Yi.createTime,subscriptionOptions:{auth:Wt(Yi.auth),p256dh:Wt(Yi.p256dh),endpoint:Yi.endpoint,swScope:Yi.swScope,vapidKey:Wt(Yi.vapidKey)}}}}),function(Fn,Qn,Ei,di){return an.apply(this,arguments)})})).close(),yield Zs(pi),yield Zs("fcm_vapid_details_db"),yield Zs("undefined"),function eo(je){if(!je||!je.subscriptionOptions)return!1;const{subscriptionOptions:st}=je;return"number"==typeof je.createTime&&je.createTime>0&&"string"==typeof je.token&&je.token.length>0&&"string"==typeof st.auth&&st.auth.length>0&&"string"==typeof st.p256dh&&st.p256dh.length>0&&"string"==typeof st.endpoint&&st.endpoint.length>0&&"string"==typeof st.swScope&&st.swScope.length>0&&"string"==typeof st.vapidKey&&st.vapidKey.length>0}(st)?st:null;var an}),os.apply(this,arguments)}const Es="firebase-messaging-database",Tr=1,Ro="firebase-messaging-store";let $a=null;function ka(){return $a||($a=jo(Es,Tr,{upgrade:(je,st)=>{0===st&&je.createObjectStore(Ro)}})),$a}function Qs(je){return Ts.apply(this,arguments)}function Ts(){return Ts=(0,b.Z)(function*(je){const st=Sl(je),an=yield(yield ka()).transaction(Ro).objectStore(Ro).get(st);if(an)return an;{const xn=yield function Qo(je){return os.apply(this,arguments)}(je.appConfig.senderId);if(xn)return yield Fa(je,xn),xn}}),Ts.apply(this,arguments)}function Fa(je,st){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,b.Z)(function*(je,st){const Bt=Sl(je),xn=(yield ka()).transaction(Ro,"readwrite");return yield xn.objectStore(Ro).put(st,Bt),yield xn.done,st})).apply(this,arguments)}function qs(){return(qs=(0,b.Z)(function*(je){const st=Sl(je),an=(yield ka()).transaction(Ro,"readwrite");yield an.objectStore(Ro).delete(st),yield an.done})).apply(this,arguments)}function Sl({appConfig:je}){return je.appId}const go=new _.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yl(je,st){return qa.apply(this,arguments)}function qa(){return(qa=(0,b.Z)(function*(je,st){const Bt=yield Xs(je),an=Xa(st),xn={method:"POST",headers:Bt,body:JSON.stringify(an)};let Fn;try{Fn=yield(yield fetch(Ua(je.appConfig),xn)).json()}catch(Qn){throw go.create("token-subscribe-failed",{errorInfo:Qn?.toString()})}if(Fn.error)throw go.create("token-subscribe-failed",{errorInfo:Fn.error.message});if(!Fn.token)throw go.create("token-subscribe-no-token");return Fn.token})).apply(this,arguments)}function Fs(){return(Fs=(0,b.Z)(function*(je,st){const Bt=yield Xs(je),an=Xa(st.subscriptionOptions),xn={method:"PATCH",headers:Bt,body:JSON.stringify(an)};let Fn;try{Fn=yield(yield fetch(`${Ua(je.appConfig)}/${st.token}`,xn)).json()}catch(Qn){throw go.create("token-update-failed",{errorInfo:Qn?.toString()})}if(Fn.error)throw go.create("token-update-failed",{errorInfo:Fn.error.message});if(!Fn.token)throw go.create("token-update-no-token");return Fn.token})).apply(this,arguments)}function yc(je,st){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,b.Z)(function*(je,st){const an={method:"DELETE",headers:yield Xs(je)};try{const Fn=yield(yield fetch(`${Ua(je.appConfig)}/${st}`,an)).json();if(Fn.error)throw go.create("token-unsubscribe-failed",{errorInfo:Fn.error.message})}catch(xn){throw go.create("token-unsubscribe-failed",{errorInfo:xn?.toString()})}})).apply(this,arguments)}function Ua({projectId:je}){return`${Ls}/projects/${je}/registrations`}function Xs(je){return zl.apply(this,arguments)}function zl(){return(zl=(0,b.Z)(function*({appConfig:je,installations:st}){const Bt=yield st.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":je.apiKey,"x-goog-firebase-installations-auth":`FIS ${Bt}`})})).apply(this,arguments)}function Xa({p256dh:je,auth:st,endpoint:Bt,vapidKey:an}){const xn={web:{endpoint:Bt,auth:st,p256dh:je}};return an!==Js&&(xn.web.applicationPubKey=an),xn}const el=6048e5;function tl(){return tl=(0,b.Z)(function*(je){const st=yield function Us(je,st){return Ge.apply(this,arguments)}(je.swRegistration,je.vapidKey),Bt={vapidKey:je.vapidKey,swScope:je.swRegistration.scope,endpoint:st.endpoint,auth:Wt(st.getKey("auth")),p256dh:Wt(st.getKey("p256dh"))},an=yield Qs(je.firebaseDependencies);if(an){if(function Vt(je,st){return st.vapidKey===je.vapidKey&&st.endpoint===je.endpoint&&st.auth===je.auth&&st.p256dh===je.p256dh}(an.subscriptionOptions,Bt))return Date.now()>=an.createTime+el?function ss(je,st){return Aa.apply(this,arguments)}(je,{token:an.token,createTime:Date.now(),subscriptionOptions:Bt}):an.token;try{yield yc(je.firebaseDependencies,an.token)}catch(xn){console.warn(xn)}return Ss(je.firebaseDependencies,Bt)}return Ss(je.firebaseDependencies,Bt)}),tl.apply(this,arguments)}function nl(){return nl=(0,b.Z)(function*(je){const st=yield Qs(je.firebaseDependencies);st&&(yield yc(je.firebaseDependencies,st.token),yield function Qa(je){return qs.apply(this,arguments)}(je.firebaseDependencies));const Bt=yield je.swRegistration.pushManager.getSubscription();return!Bt||Bt.unsubscribe()}),nl.apply(this,arguments)}function Aa(){return Aa=(0,b.Z)(function*(je,st){try{const Bt=yield function vc(je,st){return Fs.apply(this,arguments)}(je.firebaseDependencies,st),an=Object.assign(Object.assign({},st),{token:Bt,createTime:Date.now()});return yield Fa(je.firebaseDependencies,an),Bt}catch(Bt){throw yield function Ga(je){return nl.apply(this,arguments)}(je),Bt}}),Aa.apply(this,arguments)}function Ss(je,st){return $i.apply(this,arguments)}function $i(){return($i=(0,b.Z)(function*(je,st){const an={token:yield Yl(je,st),createTime:Date.now(),subscriptionOptions:st};return yield Fa(je,an),an.token})).apply(this,arguments)}function Ge(){return(Ge=(0,b.Z)(function*(je,st){return(yield je.pushManager.getSubscription())||je.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:En(st)})})).apply(this,arguments)}function pt(je){const st={from:je.from,collapseKey:je.collapse_key,messageId:je.fcmMessageId};return function Mt(je,st){if(!st.notification)return;je.notification={};const Bt=st.notification.title;Bt&&(je.notification.title=Bt);const an=st.notification.body;an&&(je.notification.body=an);const xn=st.notification.image;xn&&(je.notification.image=xn);const Fn=st.notification.icon;Fn&&(je.notification.icon=Fn)}(st,je),function ct(je,st){st.data&&(je.data=st.data)}(st,je),function In(je,st){var Bt,an,xn,Fn,Qn;if(!(st.fcmOptions||null!==(Bt=st.notification)&&void 0!==Bt&&Bt.click_action))return;je.fcmOptions={};const Ei=null!==(xn=null===(an=st.fcmOptions)||void 0===an?void 0:an.link)&&void 0!==xn?xn:null===(Fn=st.notification)||void 0===Fn?void 0:Fn.click_action;Ei&&(je.fcmOptions.link=Ei);const di=null===(Qn=st.fcmOptions)||void 0===Qn?void 0:Qn.analytics_label;di&&(je.fcmOptions.analyticsLabel=di)}(st,je),st}function mi(je,st){const Bt=[];for(let an=0;an<je.length;an++)Bt.push(je.charAt(an)),an<st.length&&Bt.push(st.charAt(an));return Bt.join("")}function Wi(je){return go.create("missing-app-config-values",{valueName:je})}mi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class rr{constructor(st,Bt,an){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const xn=function Ji(je){if(!je||!je.options)throw Wi("App Configuration Object");if(!je.name)throw Wi("App Name");const st=["projectId","apiKey","appId","messagingSenderId"],{options:Bt}=je;for(const an of st)if(!Bt[an])throw Wi(an);return{appName:je.name,projectId:Bt.projectId,apiKey:Bt.apiKey,appId:Bt.appId,senderId:Bt.messagingSenderId}}(st);this.firebaseDependencies={app:st,appConfig:xn,installations:Bt,analyticsProvider:an}}_delete(){return Promise.resolve()}}function $r(){return($r=(0,b.Z)(function*(je){try{je.swRegistration=yield navigator.serviceWorker.register(Jo,{scope:Ma}),je.swRegistration.update().catch(()=>{})}catch(st){throw go.create("failed-service-worker-registration",{browserErrorMessage:st?.message})}})).apply(this,arguments)}function Ir(){return(Ir=(0,b.Z)(function*(je,st){if(!st&&!je.swRegistration&&(yield function Qi(je){return $r.apply(this,arguments)}(je)),st||!je.swRegistration){if(!(st instanceof ServiceWorkerRegistration))throw go.create("invalid-sw-registration");je.swRegistration=st}})).apply(this,arguments)}function vi(){return(vi=(0,b.Z)(function*(je,st){st?je.vapidKey=st:je.vapidKey||(je.vapidKey=Js)})).apply(this,arguments)}function qo(){return qo=(0,b.Z)(function*(je,st){if(!navigator)throw go.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw go.create("permission-blocked");return yield function Mo(je,st){return vi.apply(this,arguments)}(je,st?.vapidKey),yield function An(je,st){return Ir.apply(this,arguments)}(je,st?.serviceWorkerRegistration),function Bs(je){return tl.apply(this,arguments)}(je)}),qo.apply(this,arguments)}function Xo(){return(Xo=(0,b.Z)(function*(je,st,Bt){const an=function tr(je){switch(je){case lt.NOTIFICATION_CLICKED:return"notification_open";case lt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(st);(yield je.firebaseDependencies.analyticsProvider.get()).logEvent(an,{message_id:Bt[ks],message_name:Bt[mr],message_time:Bt[Pn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Kr(){return Kr=(0,b.Z)(function*(je,st){const Bt=st.data;if(!Bt.isFirebaseMessaging)return;je.onMessageHandler&&Bt.messageType===lt.PUSH_RECEIVED&&("function"==typeof je.onMessageHandler?je.onMessageHandler(pt(Bt)):je.onMessageHandler.next(pt(Bt)));const an=Bt.data;(function yn(je){return"object"==typeof je&&!!je&&ks in je})(an)&&"1"===an["google.c.a.e"]&&(yield function oo(je,st,Bt){return Xo.apply(this,arguments)}(je,Bt.messageType,an))}),Kr.apply(this,arguments)}const bc="@firebase/messaging",Zl=je=>{const st=new rr(je.getProvider("app").getImmediate(),je.getProvider("installations-internal").getImmediate(),je.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Bt=>function ta(je,st){return Kr.apply(this,arguments)}(st,Bt)),st},Ha=je=>{const st=je.getProvider("messaging").getImmediate();return{getToken:an=>function ea(je,st){return qo.apply(this,arguments)}(st,an)}};function ii(){return or.apply(this,arguments)}function or(){return(or=(0,b.Z)(function*(){try{yield(0,_.eu)()}catch{return!1}return typeof window<"u"&&(0,_.hl)()&&(0,_.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ml(){(0,A._registerComponent)(new x.wA("messaging",Zl,"PUBLIC")),(0,A._registerComponent)(new x.wA("messaging-internal",Ha,"PRIVATE")),(0,A.registerVersion)(bc,"0.12.4"),(0,A.registerVersion)(bc,"0.12.4","esm2017")}();const xa="analytics",Ec="firebase_id",$l="origin",to=6e4,ms="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rl="https://www.googletagmanager.com/gtag/js",Sr=new w.Yd("@firebase/analytics"),Lo=new _.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Jl(je){if(!je.startsWith(rl)){const st=Lo.create("invalid-gtag-resource",{gtagURL:je});return Sr.warn(st.message),""}return je}function ol(je){return Promise.all(je.map(st=>st.catch(Bt=>Bt)))}function ga(){return(ga=(0,b.Z)(function*(je,st,Bt,an,xn,Fn){const Qn=an[xn];try{if(Qn)yield st[Qn];else{const di=(yield ol(Bt)).find(Ti=>Ti.measurementId===xn);di&&(yield st[di.appId])}}catch(Ei){Sr.error(Ei)}je("config",xn,Fn)})).apply(this,arguments)}function na(){return(na=(0,b.Z)(function*(je,st,Bt,an,xn){try{let Fn=[];if(xn&&xn.send_to){let Qn=xn.send_to;Array.isArray(Qn)||(Qn=[Qn]);const Ei=yield ol(Bt);for(const di of Qn){const Ti=Ei.find(Yi=>Yi.measurementId===di),Vi=Ti&&st[Ti.appId];if(!Vi){Fn=[];break}Fn.push(Vi)}}0===Fn.length&&(Fn=Object.values(st)),yield Promise.all(Fn),je("event",an,xn||{})}catch(Fn){Sr.error(Fn)}})).apply(this,arguments)}const ia=30,Sc=new class jc{constructor(st={},Bt=1e3){this.throttleMetadata=st,this.intervalMillis=Bt}getThrottleMetadata(st){return this.throttleMetadata[st]}setThrottleMetadata(st,Bt){this.throttleMetadata[st]=Bt}deleteThrottleMetadata(st){delete this.throttleMetadata[st]}};function ko(je){return new Headers({Accept:"application/json","x-goog-api-key":je})}function Ai(){return(Ai=(0,b.Z)(function*(je){var st;const{appId:Bt,apiKey:an}=je,xn={method:"GET",headers:ko(an)},Fn=ms.replace("{app-id}",Bt),Qn=yield fetch(Fn,xn);if(200!==Qn.status&&304!==Qn.status){let Ei="";try{const di=yield Qn.json();null!==(st=di.error)&&void 0!==st&&st.message&&(Ei=di.error.message)}catch{}throw Lo.create("config-fetch-failed",{httpStatus:Qn.status,responseMessage:Ei})}return Qn.json()})).apply(this,arguments)}function it(){return(it=(0,b.Z)(function*(je,st=Sc,Bt){const{appId:an,apiKey:xn,measurementId:Fn}=je.options;if(!an)throw Lo.create("no-app-id");if(!xn){if(Fn)return{measurementId:Fn,appId:an};throw Lo.create("no-api-key")}const Qn=st.getThrottleMetadata(an)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ei=new tn;return setTimeout((0,b.Z)(function*(){Ei.abort()}),void 0!==Bt?Bt:to),_e({appId:an,apiKey:xn,measurementId:Fn},Qn,Ei,st)})).apply(this,arguments)}function _e(je,st,Bt){return Je.apply(this,arguments)}function Je(){return Je=(0,b.Z)(function*(je,{throttleEndTimeMillis:st,backoffCount:Bt},an,xn=Sc){var Fn;const{appId:Qn,measurementId:Ei}=je;try{yield function kt(je,st){return new Promise((Bt,an)=>{const xn=Math.max(st-Date.now(),0),Fn=setTimeout(Bt,xn);je.addEventListener(()=>{clearTimeout(Fn),an(Lo.create("fetch-throttle",{throttleEndTimeMillis:st}))})})}(an,st)}catch(di){if(Ei)return Sr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ei} provided in the "measurementId" field in the local Firebase config. [${di?.message}]`),{appId:Qn,measurementId:Ei};throw di}try{const di=yield function Vo(je){return Ai.apply(this,arguments)}(je);return xn.deleteThrottleMetadata(Qn),di}catch(di){const Ti=di;if(!function nn(je){if(!(je instanceof _.ZR&&je.customData))return!1;const st=Number(je.customData.httpStatus);return 429===st||500===st||503===st||504===st}(Ti)){if(xn.deleteThrottleMetadata(Qn),Ei)return Sr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ei} provided in the "measurementId" field in the local Firebase config. [${Ti?.message}]`),{appId:Qn,measurementId:Ei};throw di}const Vi=503===Number(null===(Fn=Ti?.customData)||void 0===Fn?void 0:Fn.httpStatus)?(0,_.$s)(Bt,xn.intervalMillis,ia):(0,_.$s)(Bt,xn.intervalMillis),Yi={throttleEndTimeMillis:Date.now()+Vi,backoffCount:Bt+1};return xn.setThrottleMetadata(Qn,Yi),Sr.debug(`Calling attemptFetch again in ${Vi} millis`),_e(je,Yi,an,xn)}}),Je.apply(this,arguments)}class tn{constructor(){this.listeners=[]}addEventListener(st){this.listeners.push(st)}abort(){this.listeners.forEach(st=>st())}}let kn,Cc;function Oi(){return(Oi=(0,b.Z)(function*(je,st,Bt,an,xn){if(xn&&xn.global)je("event",Bt,an);else{const Fn=yield st;je("event",Bt,Object.assign(Object.assign({},an),{send_to:Fn}))}})).apply(this,arguments)}function ec(){return(ec=(0,b.Z)(function*(){if(!(0,_.hl)())return Sr.warn(Lo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_.eu)()}catch(je){return Sr.warn(Lo.create("indexeddb-unavailable",{errorInfo:je?.toString()}).message),!1}return!0})).apply(this,arguments)}function br(){return br=(0,b.Z)(function*(je,st,Bt,an,xn,Fn,Qn){var Ei;const di=function we(je){return it.apply(this,arguments)}(je);di.then(io=>{Bt[io.measurementId]=io.appId,je.options.measurementId&&io.measurementId!==je.options.measurementId&&Sr.warn(`The measurement ID in the local Firebase config (${je.options.measurementId}) does not match the measurement ID fetched from the server (${io.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(io=>Sr.error(io)),st.push(di);const Ti=function Xl(){return ec.apply(this,arguments)}().then(io=>{if(io)return an.getId()}),[Vi,Yi]=yield Promise.all([di,Ti]);(function Tc(je){const st=window.document.getElementsByTagName("script");for(const Bt of Object.values(st))if(Bt.src&&Bt.src.includes(rl)&&Bt.src.includes(je))return Bt;return null})(Fn)||function Ql(je,st){const Bt=function xl(je,st){let Bt;return window.trustedTypes&&(Bt=window.trustedTypes.createPolicy(je,st)),Bt}("firebase-js-sdk-policy",{createScriptURL:Jl}),an=document.createElement("script"),xn=`${rl}?l=${je}&id=${st}`;an.src=Bt?Bt?.createScriptURL(xn):xn,an.async=!0,document.head.appendChild(an)}(Fn,Vi.measurementId),Cc&&(xn("consent","default",Cc),function wa(je){Cc=je}(void 0)),xn("js",new Date);const So=null!==(Ei=Qn?.config)&&void 0!==Ei?Ei:{};return So[$l]="firebase",So.update=!0,null!=Yi&&(So[Ec]=Yi),xn("config",Vi.measurementId,So),kn&&(xn("set",kn),function Pa(je){kn=je}(void 0)),Vi.measurementId}),br.apply(this,arguments)}class Ko{constructor(st){this.app=st}_delete(){return delete Wo[this.app.options.appId],Promise.resolve()}}let Wo={},Vc=[];const cl={};let Kc,Ds,sa="dataLayer",aa=!1;function kd(je,st,Bt){!function Ms(){const je=[];if((0,_.ru)()&&je.push("This is a browser extension environment."),(0,_.zI)()||je.push("Cookies are not available."),je.length>0){const st=je.map((an,xn)=>`(${xn+1}) ${an}`).join(" "),Bt=Lo.create("invalid-analytics-context",{errorInfo:st});Sr.warn(Bt.message)}}();const an=je.options.appId;if(!an)throw Lo.create("no-app-id");if(!je.options.apiKey){if(!je.options.measurementId)throw Lo.create("no-api-key");Sr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${je.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Wo[an])throw Lo.create("already-exists",{id:an});if(!aa){!function sl(je){let st=[];Array.isArray(window[je])?st=window[je]:window[je]=st}(sa);const{wrappedGtag:Fn,gtagCore:Qn}=function ql(je,st,Bt,an,xn){let Fn=function(...Qn){window[an].push(arguments)};return window[xn]&&"function"==typeof window[xn]&&(Fn=window[xn]),window[xn]=function ps(je,st,Bt,an){function Fn(){return Fn=(0,b.Z)(function*(Qn,...Ei){try{if("event"===Qn){const[di,Ti]=Ei;yield function al(je,st,Bt,an,xn){return na.apply(this,arguments)}(je,st,Bt,di,Ti)}else if("config"===Qn){const[di,Ti]=Ei;yield function Il(je,st,Bt,an,xn,Fn){return ga.apply(this,arguments)}(je,st,Bt,an,di,Ti)}else if("consent"===Qn){const[di]=Ei;je("consent","update",di)}else if("get"===Qn){const[di,Ti,Vi]=Ei;je("get",di,Ti,Vi)}else if("set"===Qn){const[di]=Ei;je("set",di)}else je(Qn,...Ei)}catch(di){Sr.error(di)}}),Fn.apply(this,arguments)}return function xn(Qn){return Fn.apply(this,arguments)}}(Fn,je,st,Bt),{gtagCore:Fn,wrappedGtag:window[xn]}}(Wo,Vc,cl,sa,"gtag");Ds=Fn,Kc=Qn,aa=!0}return Wo[an]=function Ld(je,st,Bt,an,xn,Fn,Qn){return br.apply(this,arguments)}(je,Vc,cl,st,Kc,sa,Bt),new Ko(je)}function As(){return la.apply(this,arguments)}function la(){return(la=(0,b.Z)(function*(){if((0,_.ru)()||!(0,_.zI)()||!(0,_.hl)())return!1;try{return yield(0,_.eu)()}catch{return!1}})).apply(this,arguments)}const zc="@firebase/analytics";!function tc(){(0,A._registerComponent)(new x.wA(xa,(st,{options:Bt})=>kd(st.getProvider("app").getImmediate(),st.getProvider("installations-internal").getImmediate(),Bt),"PUBLIC")),(0,A._registerComponent)(new x.wA("analytics-internal",function je(st){try{const Bt=st.getProvider(xa).getImmediate();return{logEvent:(an,xn,Fn)=>function vr(je,st,Bt,an){je=(0,_.m9)(je),function ni(je,st,Bt,an,xn){return Oi.apply(this,arguments)}(Ds,Wo[je.app.options.appId],st,Bt,an).catch(xn=>Sr.error(xn))}(Bt,an,xn,Fn)}}catch(Bt){throw Lo.create("interop-component-reg-failed",{reason:Bt})}},"PRIVATE")),(0,A.registerVersion)(zc,"0.10.0"),(0,A.registerVersion)(zc,"0.10.0","esm2017")}();var Va=v(1954),va=v(2631);const md=new class nc extends va.v{}(class Zc extends Va.o{constructor(st,Bt){super(st,Bt),this.scheduler=st,this.work=Bt}schedule(st,Bt=0){return Bt>0?super.schedule(st,Bt):(this.delay=Bt,this.state=st,this.scheduler.flush(this),this)}execute(st,Bt){return Bt>0||this.closed?super.execute(st,Bt):this._execute(st,Bt)}requestAsyncId(st,Bt,an=0){return null!=an&&an>0||null==an&&this.delay>0?super.requestAsyncId(st,Bt,an):(st.flush(this),0)}});var xs=v(6321),hl=v(9397),Oa=v(5137),ya=v(3093);const Mc=new e.GfV("7.6.1"),Rl="__angularfire_symbol__analyticsIsSupportedValue",ml="__angularfire_symbol__analyticsIsSupported",pd="__angularfire_symbol__remoteConfigIsSupportedValue",ic="__angularfire_symbol__remoteConfigIsSupported",Nl="__angularfire_symbol__messagingIsSupportedValue",Fd="__angularfire_symbol__messagingIsSupported";function rc(je,st,Bt){if(st){if(1===st.length)return st[0];const Fn=st.filter(Qn=>Qn.app===Bt);if(1===Fn.length)return Fn[0]}return Bt.container.getProvider(je).getImmediate({optional:!0})}globalThis[ml]||(globalThis[ml]=As().then(je=>globalThis[Rl]=je).catch(()=>globalThis[Rl]=!1)),globalThis[Fd]||(globalThis[Fd]=ii().then(je=>globalThis[Nl]=je).catch(()=>globalThis[Nl]=!1)),globalThis[ic]||(globalThis[ic]=cs().then(je=>globalThis[pd]=je).catch(()=>globalThis[pd]=!1));const gd=(je,st)=>{const Bt=st?[st]:(0,n.C6)(),an=[];return Bt.forEach(xn=>{xn.container.getProvider(je).instances.forEach(Qn=>{an.includes(Qn)||an.push(Qn)})}),an};function oc(){}class Po{constructor(st,Bt=md){this.zone=st,this.delegate=Bt}now(){return this.delegate.now()}schedule(st,Bt,an){const xn=this.zone;return this.delegate.schedule(function(Qn){xn.runGuarded(()=>{st.apply(this,[Qn])})},Bt,an)}}class _d{constructor(st){this.zone=st,this.task=null}call(st,Bt){const an=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oc,{},oc,oc)),Bt.pipe((0,hl.b)({next:an,complete:an,error:an})).subscribe(st).add(an)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ll=(()=>{class je{constructor(Bt){this.ngZone=Bt,this.outsideAngular=Bt.runOutsideAngular(()=>new Po(Zone.current)),this.insideAngular=Bt.run(()=>new Po(Zone.current,xs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return je.\u0275fac=function(Bt){return new(Bt||je)(e.LFG(e.R0b))},je.\u0275prov=e.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})();function ca(){const je=globalThis.\u0275AngularFireScheduler;if(!je)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return je}function Wa(je){return ca(),function sc(je){return function(Bt){return(Bt=Bt.lift(new _d(je.ngZone))).pipe((0,Oa.R)(je.outsideAngular),(0,ya.Q)(je.insideAngular))}}(ca())(je)}},6878:(Hn,Xe,v)=>{"use strict";v.d(Xe,{$:()=>Jo,A:()=>h,D:()=>B,I:()=>en,J:()=>Ar,L:()=>qn,N:()=>ke,P:()=>Ld,Q:()=>Ks,R:()=>so,U:()=>is,V:()=>cs,W:()=>ds,X:()=>To,Y:()=>Er,Z:()=>Ws,_:()=>Ys,a:()=>gr,a0:()=>Js,a1:()=>ks,a2:()=>It,a3:()=>wo,a4:()=>os,a5:()=>Es,a6:()=>Ro,a7:()=>ka,a8:()=>Ts,a9:()=>Ja,aA:()=>ne,aB:()=>pd,aC:()=>vt,aD:()=>Ke,aE:()=>Oa,aF:()=>hd,aG:()=>fd,aH:()=>Cn,aL:()=>No,aO:()=>Os,aa:()=>Qa,ab:()=>Sl,ac:()=>Cl,ad:()=>vc,ae:()=>yc,af:()=>Ua,ai:()=>el,aj:()=>tl,ak:()=>Ga,an:()=>bs,ao:()=>Mt,aq:()=>vi,ar:()=>bc,as:()=>Me,at:()=>Tn,au:()=>fn,av:()=>S,aw:()=>So,ax:()=>Jc,ay:()=>Mn,az:()=>L,b:()=>ja,c:()=>Ds,d:()=>kd,e:()=>ud,f:()=>zc,g:()=>nc,h:()=>Va,i:()=>wl,j:()=>xs,k:()=>Rr,l:()=>gs,m:()=>ac,p:()=>g,r:()=>Ia,s:()=>_a,u:()=>Xl});var e=v(5861),n=v(9058),b=v(534),A=v(7582),_=v(7879),x=v(4537);const g={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},h={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const B=function p(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},P=function T(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},k=new n.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),O=new _.Yd("@firebase/auth");function I(Ie,...Y){O.logLevel<=_.in.ERROR&&O.error(`Auth (${b.SDK_VERSION}): ${Ie}`,...Y)}function S(Ie,...Y){throw z(Ie,...Y)}function L(Ie,...Y){return z(Ie,...Y)}function C(Ie,Y,re){const Ye=Object.assign(Object.assign({},P()),{[Y]:re});return new n.LL("auth","Firebase",Ye).create(Y,{appName:Ie.name})}function U(Ie,Y,re){if(!(Y instanceof re))throw re.name!==Y.constructor.name&&S(Ie,"argument-error"),C(Ie,"argument-error",`Type of ${Y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function z(Ie,...Y){if("string"!=typeof Ie){const re=Y[0],Ye=[...Y.slice(1)];return Ye[0]&&(Ye[0].appName=Ie.name),Ie._errorFactory.create(re,...Ye)}return k.create(Ie,...Y)}function ne(Ie,Y,...re){if(!Ie)throw z(Y,...re)}function te(Ie){const Y="INTERNAL ASSERTION FAILED: "+Ie;throw I(Y),new Error(Y)}function Me(Ie,Y){Ie||te(Y)}function J(){var Ie;return typeof self<"u"&&(null===(Ie=self.location)||void 0===Ie?void 0:Ie.href)||""}function ce(){return"http:"===W()||"https:"===W()}function W(){var Ie;return typeof self<"u"&&(null===(Ie=self.location)||void 0===Ie?void 0:Ie.protocol)||null}class Ee{constructor(Y,re){this.shortDelay=Y,this.longDelay=re,Me(re>Y,"Short delay should be less than long delay!"),this.isMobile=(0,n.uI)()||(0,n.b$)()}get(){return function Se(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ce()||(0,n.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xe(Ie,Y){Me(Ie.emulator,"Emulator should always be set here");const{url:re}=Ie.emulator;return Y?`${re}${Y.startsWith("/")?Y.slice(1):Y}`:re}class Ve{static initialize(Y,re,Ye){this.fetchImpl=Y,re&&(this.headersImpl=re),Ye&&(this.responseImpl=Ye)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void te("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void te("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void te("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Pe=new Ee(3e4,6e4);function Ce(Ie,Y){return Ie.tenantId&&!Y.tenantId?Object.assign(Object.assign({},Y),{tenantId:Ie.tenantId}):Y}function me(Ie,Y,re,Ye){return De.apply(this,arguments)}function De(){return(De=(0,e.Z)(function*(Ie,Y,re,Ye,Gt={}){return Re(Ie,Gt,(0,e.Z)(function*(){let Xt={},Nn={};Ye&&("GET"===Y?Nn=Ye:Xt={body:JSON.stringify(Ye)});const Jn=(0,n.xO)(Object.assign({key:Ie.config.apiKey},Nn)).slice(1),fi=yield Ie._getAdditionalHeaders();return fi["Content-Type"]="application/json",Ie.languageCode&&(fi["X-Firebase-Locale"]=Ie.languageCode),Ve.fetch()(Be(Ie,Ie.config.apiHost,re,Jn),Object.assign({method:Y,headers:fi,referrerPolicy:"no-referrer"},Xt))}))})).apply(this,arguments)}function Re(Ie,Y,re){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,e.Z)(function*(Ie,Y,re){Ie._canInitEmulator=!1;const Ye=Object.assign(Object.assign({},fe),Y);try{const Gt=new ye(Ie),Xt=yield Promise.race([re(),Gt.promise]);Gt.clearNetworkTimeout();const Nn=yield Xt.json();if("needConfirmation"in Nn)throw ve(Ie,"account-exists-with-different-credential",Nn);if(Xt.ok&&!("errorMessage"in Nn))return Nn;{const Jn=Xt.ok?Nn.errorMessage:Nn.error.message,[fi,Mi]=Jn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===fi)throw ve(Ie,"credential-already-in-use",Nn);if("EMAIL_EXISTS"===fi)throw ve(Ie,"email-already-in-use",Nn);if("USER_DISABLED"===fi)throw ve(Ie,"user-disabled",Nn);const Fi=Ye[fi]||fi.toLowerCase().replace(/[_\s]+/g,"-");if(Mi)throw C(Ie,Fi,Mi);S(Ie,Fi)}}catch(Gt){if(Gt instanceof n.ZR)throw Gt;S(Ie,"network-request-failed",{message:String(Gt)})}})).apply(this,arguments)}function Ne(Ie,Y,re,Ye){return at.apply(this,arguments)}function at(){return(at=(0,e.Z)(function*(Ie,Y,re,Ye,Gt={}){const Xt=yield me(Ie,Y,re,Ye,Gt);return"mfaPendingCredential"in Xt&&S(Ie,"multi-factor-auth-required",{_serverResponse:Xt}),Xt})).apply(this,arguments)}function Be(Ie,Y,re,Ye){const Gt=`${Y}${re}?${Ye}`;return Ie.config.emulator?xe(Ie.config,Gt):`${Ie.config.apiScheme}://${Gt}`}class ye{constructor(Y){this.auth=Y,this.timer=null,this.promise=new Promise((re,Ye)=>{this.timer=setTimeout(()=>Ye(L(this.auth,"network-request-failed")),Pe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ve(Ie,Y,re){const Ye={appName:Ie.name};re.email&&(Ye.email=re.email),re.phoneNumber&&(Ye.phoneNumber=re.phoneNumber);const Gt=L(Ie,Y,Ye);return Gt.customData._tokenResponse=re,Gt}function se(){return(se=(0,e.Z)(function*(Ie,Y){return me(Ie,"POST","/v1/accounts:delete",Y)})).apply(this,arguments)}function oe(){return(oe=(0,e.Z)(function*(Ie,Y){return me(Ie,"POST","/v1/accounts:update",Y)})).apply(this,arguments)}function q(){return(q=(0,e.Z)(function*(Ie,Y){return me(Ie,"POST","/v1/accounts:lookup",Y)})).apply(this,arguments)}function $(Ie){if(Ie)try{const Y=new Date(Number(Ie));if(!isNaN(Y.getTime()))return Y.toUTCString()}catch{}}function X(){return(X=(0,e.Z)(function*(Ie,Y=!1){const re=(0,n.m9)(Ie),Ye=yield re.getIdToken(Y),Gt=Te(Ye);ne(Gt&&Gt.exp&&Gt.auth_time&&Gt.iat,re.auth,"internal-error");const Xt="object"==typeof Gt.firebase?Gt.firebase:void 0,Nn=Xt?.sign_in_provider;return{claims:Gt,token:Ye,authTime:$(pe(Gt.auth_time)),issuedAtTime:$(pe(Gt.iat)),expirationTime:$(pe(Gt.exp)),signInProvider:Nn||null,signInSecondFactor:Xt?.sign_in_second_factor||null}})).apply(this,arguments)}function pe(Ie){return 1e3*Number(Ie)}function Te(Ie){const[Y,re,Ye]=Ie.split(".");if(void 0===Y||void 0===re||void 0===Ye)return I("JWT malformed, contained fewer than 3 sections"),null;try{const Gt=(0,n.tV)(re);return Gt?JSON.parse(Gt):(I("Failed to decode base64 JWT payload"),null)}catch(Gt){return I("Caught error parsing JWT payload as JSON",Gt?.toString()),null}}function Le(Ie,Y){return et.apply(this,arguments)}function et(){return(et=(0,e.Z)(function*(Ie,Y,re=!1){if(re)return Y;try{return yield Y}catch(Ye){throw Ye instanceof n.ZR&&function Qe({code:Ie}){return"auth/user-disabled"===Ie||"auth/user-token-expired"===Ie}(Ye)&&Ie.auth.currentUser===Ie&&(yield Ie.auth.signOut()),Ye}})).apply(this,arguments)}class qe{constructor(Y){this.user=Y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(Y){var re;if(Y){const Ye=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),Ye}{this.errorBackoff=3e4;const Gt=(null!==(re=this.user.stsTokenManager.expirationTime)&&void 0!==re?re:0)-Date.now()-3e5;return Math.max(0,Gt)}}schedule(Y=!1){var re=this;if(!this.isRunning)return;const Ye=this.getInterval(Y);this.timerId=setTimeout((0,e.Z)(function*(){yield re.iteration()}),Ye)}iteration(){var Y=this;return(0,e.Z)(function*(){try{yield Y.user.getIdToken(!0)}catch(re){return void("auth/network-request-failed"===re?.code&&Y.schedule(!0))}Y.schedule()})()}}class ft{constructor(Y,re){this.createdAt=Y,this.lastLoginAt=re,this._initializeTime()}_initializeTime(){this.lastSignInTime=$(this.lastLoginAt),this.creationTime=$(this.createdAt)}_copy(Y){this.createdAt=Y.createdAt,this.lastLoginAt=Y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ze(Ie){return ht.apply(this,arguments)}function ht(){return ht=(0,e.Z)(function*(Ie){var Y;const re=Ie.auth,Ye=yield Ie.getIdToken(),Gt=yield Le(Ie,function Q(Ie,Y){return q.apply(this,arguments)}(re,{idToken:Ye}));ne(Gt?.users.length,re,"internal-error");const Xt=Gt.users[0];Ie._notifyReloadListener(Xt);const Nn=null!==(Y=Xt.providerUserInfo)&&void 0!==Y&&Y.length?function bt(Ie){return Ie.map(Y=>{var{providerId:re}=Y,Ye=(0,A._T)(Y,["providerId"]);return{providerId:re,uid:Ye.rawId||"",displayName:Ye.displayName||null,email:Ye.email||null,phoneNumber:Ye.phoneNumber||null,photoURL:Ye.photoUrl||null}})}(Xt.providerUserInfo):[],Jn=function He(Ie,Y){return[...Ie.filter(Ye=>!Y.some(Gt=>Gt.providerId===Ye.providerId)),...Y]}(Ie.providerData,Nn),Fi=!!Ie.isAnonymous&&!(Ie.email&&Xt.passwordHash||Jn?.length),sr={uid:Xt.localId,displayName:Xt.displayName||null,photoURL:Xt.photoUrl||null,email:Xt.email||null,emailVerified:Xt.emailVerified||!1,phoneNumber:Xt.phoneNumber||null,tenantId:Xt.tenantId||null,providerData:Jn,metadata:new ft(Xt.createdAt,Xt.lastLoginAt),isAnonymous:Fi};Object.assign(Ie,sr)}),ht.apply(this,arguments)}function de(){return(de=(0,e.Z)(function*(Ie){const Y=(0,n.m9)(Ie);yield ze(Y),yield Y.auth._persistUserIfCurrent(Y),Y.auth._notifyListenersIfCurrent(Y)})).apply(this,arguments)}function Zt(){return(Zt=(0,e.Z)(function*(Ie,Y){const re=yield Re(Ie,{},(0,e.Z)(function*(){const Ye=(0,n.xO)({grant_type:"refresh_token",refresh_token:Y}).slice(1),{tokenApiHost:Gt,apiKey:Xt}=Ie.config,Nn=Be(Ie,Gt,"/v1/token",`key=${Xt}`),Jn=yield Ie._getAdditionalHeaders();return Jn["Content-Type"]="application/x-www-form-urlencoded",Ve.fetch()(Nn,{method:"POST",headers:Jn,body:Ye})}));return{accessToken:re.access_token,expiresIn:re.expires_in,refreshToken:re.refresh_token}})).apply(this,arguments)}class Kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(Y){ne(Y.idToken,"internal-error"),ne(typeof Y.idToken<"u","internal-error"),ne(typeof Y.refreshToken<"u","internal-error");const re="expiresIn"in Y&&typeof Y.expiresIn<"u"?Number(Y.expiresIn):function be(Ie){const Y=Te(Ie);return ne(Y,"internal-error"),ne(typeof Y.exp<"u","internal-error"),ne(typeof Y.iat<"u","internal-error"),Number(Y.exp)-Number(Y.iat)}(Y.idToken);this.updateTokensAndExpiration(Y.idToken,Y.refreshToken,re)}getToken(Y,re=!1){var Ye=this;return(0,e.Z)(function*(){return ne(!Ye.accessToken||Ye.refreshToken,Y,"user-token-expired"),re||!Ye.accessToken||Ye.isExpired?Ye.refreshToken?(yield Ye.refresh(Y,Ye.refreshToken),Ye.accessToken):null:Ye.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(Y,re){var Ye=this;return(0,e.Z)(function*(){const{accessToken:Gt,refreshToken:Xt,expiresIn:Nn}=yield function Ut(Ie,Y){return Zt.apply(this,arguments)}(Y,re);Ye.updateTokensAndExpiration(Gt,Xt,Number(Nn))})()}updateTokensAndExpiration(Y,re,Ye){this.refreshToken=re||null,this.accessToken=Y||null,this.expirationTime=Date.now()+1e3*Ye}static fromJSON(Y,re){const{refreshToken:Ye,accessToken:Gt,expirationTime:Xt}=re,Nn=new Kt;return Ye&&(ne("string"==typeof Ye,"internal-error",{appName:Y}),Nn.refreshToken=Ye),Gt&&(ne("string"==typeof Gt,"internal-error",{appName:Y}),Nn.accessToken=Gt),Xt&&(ne("number"==typeof Xt,"internal-error",{appName:Y}),Nn.expirationTime=Xt),Nn}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(Y){this.accessToken=Y.accessToken,this.refreshToken=Y.refreshToken,this.expirationTime=Y.expirationTime}_clone(){return Object.assign(new Kt,this.toJSON())}_performRefresh(){return te("not implemented")}}function pn(Ie,Y){ne("string"==typeof Ie||typeof Ie>"u","internal-error",{appName:Y})}class rn{constructor(Y){var{uid:re,auth:Ye,stsTokenManager:Gt}=Y,Xt=(0,A._T)(Y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=re,this.auth=Ye,this.stsTokenManager=Gt,this.accessToken=Gt.accessToken,this.displayName=Xt.displayName||null,this.email=Xt.email||null,this.emailVerified=Xt.emailVerified||!1,this.phoneNumber=Xt.phoneNumber||null,this.photoURL=Xt.photoURL||null,this.isAnonymous=Xt.isAnonymous||!1,this.tenantId=Xt.tenantId||null,this.providerData=Xt.providerData?[...Xt.providerData]:[],this.metadata=new ft(Xt.createdAt||void 0,Xt.lastLoginAt||void 0)}getIdToken(Y){var re=this;return(0,e.Z)(function*(){const Ye=yield Le(re,re.stsTokenManager.getToken(re.auth,Y));return ne(Ye,re.auth,"internal-error"),re.accessToken!==Ye&&(re.accessToken=Ye,yield re.auth._persistUserIfCurrent(re),re.auth._notifyListenersIfCurrent(re)),Ye})()}getIdTokenResult(Y){return function Z(Ie){return X.apply(this,arguments)}(this,Y)}reload(){return function Et(Ie){return de.apply(this,arguments)}(this)}_assign(Y){this!==Y&&(ne(this.uid===Y.uid,this.auth,"internal-error"),this.displayName=Y.displayName,this.photoURL=Y.photoURL,this.email=Y.email,this.emailVerified=Y.emailVerified,this.phoneNumber=Y.phoneNumber,this.isAnonymous=Y.isAnonymous,this.tenantId=Y.tenantId,this.providerData=Y.providerData.map(re=>Object.assign({},re)),this.metadata._copy(Y.metadata),this.stsTokenManager._assign(Y.stsTokenManager))}_clone(Y){const re=new rn(Object.assign(Object.assign({},this),{auth:Y,stsTokenManager:this.stsTokenManager._clone()}));return re.metadata._copy(this.metadata),re}_onReload(Y){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=Y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(Y){this.reloadListener?this.reloadListener(Y):this.reloadUserInfo=Y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(Y,re=!1){var Ye=this;return(0,e.Z)(function*(){let Gt=!1;Y.idToken&&Y.idToken!==Ye.stsTokenManager.accessToken&&(Ye.stsTokenManager.updateFromServerResponse(Y),Gt=!0),re&&(yield ze(Ye)),yield Ye.auth._persistUserIfCurrent(Ye),Gt&&Ye.auth._notifyListenersIfCurrent(Ye)})()}delete(){var Y=this;return(0,e.Z)(function*(){const re=yield Y.getIdToken();return yield Le(Y,function K(Ie,Y){return se.apply(this,arguments)}(Y.auth,{idToken:re})),Y.stsTokenManager.clearRefreshToken(),Y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(Y=>Object.assign({},Y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(Y,re){var Ye,Gt,Xt,Nn,Jn,fi,Mi,Fi;const sr=null!==(Ye=re.displayName)&&void 0!==Ye?Ye:void 0,_s=null!==(Gt=re.email)&&void 0!==Gt?Gt:void 0,oi=null!==(Xt=re.phoneNumber)&&void 0!==Xt?Xt:void 0,Xc=null!==(Nn=re.photoURL)&&void 0!==Nn?Nn:void 0,yd=null!==(Jn=re.tenantId)&&void 0!==Jn?Jn:void 0,_u=null!==(fi=re._redirectEventId)&&void 0!==fi?fi:void 0,Yu=null!==(Mi=re.createdAt)&&void 0!==Mi?Mi:void 0,vu=null!==(Fi=re.lastLoginAt)&&void 0!==Fi?Fi:void 0,{uid:xc,emailVerified:Ic,isAnonymous:ba,providerData:ed,stsTokenManager:bd}=re;ne(xc&&bd,Y,"internal-error");const wc=Kt.fromJSON(this.name,bd);ne("string"==typeof xc,Y,"internal-error"),pn(sr,Y.name),pn(_s,Y.name),ne("boolean"==typeof Ic,Y,"internal-error"),ne("boolean"==typeof ba,Y,"internal-error"),pn(oi,Y.name),pn(Xc,Y.name),pn(yd,Y.name),pn(_u,Y.name),pn(Yu,Y.name),pn(vu,Y.name);const Pc=new rn({uid:xc,auth:Y,email:_s,emailVerified:Ic,displayName:sr,isAnonymous:ba,photoURL:Xc,phoneNumber:oi,tenantId:yd,stsTokenManager:wc,createdAt:Yu,lastLoginAt:vu});return ed&&Array.isArray(ed)&&(Pc.providerData=ed.map(Hd=>Object.assign({},Hd))),_u&&(Pc._redirectEventId=_u),Pc}static _fromIdTokenResponse(Y,re,Ye=!1){return(0,e.Z)(function*(){const Gt=new Kt;Gt.updateFromServerResponse(re);const Xt=new rn({uid:re.localId,auth:Y,stsTokenManager:Gt,isAnonymous:Ye});return yield ze(Xt),Xt})()}}const xt=new Map;function vt(Ie){Me(Ie instanceof Function,"Expected a class definition");let Y=xt.get(Ie);return Y?(Me(Y instanceof Ie,"Instance stored in cache mismatched with class"),Y):(Y=new Ie,xt.set(Ie,Y),Y)}const ke=(()=>{class Ie{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,e.Z)(function*(){return!0})()}_set(re,Ye){var Gt=this;return(0,e.Z)(function*(){Gt.storage[re]=Ye})()}_get(re){var Ye=this;return(0,e.Z)(function*(){const Gt=Ye.storage[re];return void 0===Gt?null:Gt})()}_remove(re){var Ye=this;return(0,e.Z)(function*(){delete Ye.storage[re]})()}_addListener(re,Ye){}_removeListener(re,Ye){}}return Ie.type="NONE",Ie})();function Ke(Ie,Y,re){return`firebase:${Ie}:${Y}:${re}`}class rt{constructor(Y,re,Ye){this.persistence=Y,this.auth=re,this.userKey=Ye;const{config:Gt,name:Xt}=this.auth;this.fullUserKey=Ke(this.userKey,Gt.apiKey,Xt),this.fullPersistenceKey=Ke("persistence",Gt.apiKey,Xt),this.boundEventHandler=re._onStorageEvent.bind(re),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(Y){return this.persistence._set(this.fullUserKey,Y.toJSON())}getCurrentUser(){var Y=this;return(0,e.Z)(function*(){const re=yield Y.persistence._get(Y.fullUserKey);return re?rn._fromJSON(Y.auth,re):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(Y){var re=this;return(0,e.Z)(function*(){if(re.persistence===Y)return;const Ye=yield re.getCurrentUser();return yield re.removeCurrentUser(),re.persistence=Y,Ye?re.setCurrentUser(Ye):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(Y,re,Ye="authUser"){return(0,e.Z)(function*(){if(!re.length)return new rt(vt(ke),Y,Ye);const Gt=(yield Promise.all(re.map(function(){var Mi=(0,e.Z)(function*(Fi){if(yield Fi._isAvailable())return Fi});return function(Fi){return Mi.apply(this,arguments)}}()))).filter(Mi=>Mi);let Xt=Gt[0]||vt(ke);const Nn=Ke(Ye,Y.config.apiKey,Y.name);let Jn=null;for(const Mi of re)try{const Fi=yield Mi._get(Nn);if(Fi){const sr=rn._fromJSON(Y,Fi);Mi!==Xt&&(Jn=sr),Xt=Mi;break}}catch{}const fi=Gt.filter(Mi=>Mi._shouldAllowMigration);return Xt._shouldAllowMigration&&fi.length?(Xt=fi[0],Jn&&(yield Xt._set(Nn,Jn.toJSON())),yield Promise.all(re.map(function(){var Mi=(0,e.Z)(function*(Fi){if(Fi!==Xt)try{yield Fi._remove(Nn)}catch{}});return function(Fi){return Mi.apply(this,arguments)}}())),new rt(Xt,Y,Ye)):new rt(Xt,Y,Ye)})()}}function ot(Ie){const Y=Ie.toLowerCase();if(Y.includes("opera/")||Y.includes("opr/")||Y.includes("opios/"))return"Opera";if(qt(Y))return"IEMobile";if(Y.includes("msie")||Y.includes("trident/"))return"IE";if(Y.includes("edge/"))return"Edge";if(yt(Y))return"Firefox";if(Y.includes("silk/"))return"Silk";if(Qt(Y))return"Blackberry";if(gn(Y))return"Webos";if(mt(Y))return"Safari";if((Y.includes("chrome/")||_t(Y))&&!Y.includes("edge/"))return"Chrome";if(fn(Y))return"Android";{const Ye=Ie.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===Ye?.length)return Ye[1]}return"Other"}function yt(Ie=(0,n.z$)()){return/firefox\//i.test(Ie)}function mt(Ie=(0,n.z$)()){const Y=Ie.toLowerCase();return Y.includes("safari/")&&!Y.includes("chrome/")&&!Y.includes("crios/")&&!Y.includes("android")}function _t(Ie=(0,n.z$)()){return/crios\//i.test(Ie)}function qt(Ie=(0,n.z$)()){return/iemobile/i.test(Ie)}function fn(Ie=(0,n.z$)()){return/android/i.test(Ie)}function Qt(Ie=(0,n.z$)()){return/blackberry/i.test(Ie)}function gn(Ie=(0,n.z$)()){return/webos/i.test(Ie)}function Tn(Ie=(0,n.z$)()){return/iphone|ipad|ipod/i.test(Ie)||/macintosh/i.test(Ie)&&/mobile/i.test(Ie)}function Mn(Ie=(0,n.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(Ie)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(Ie)}function dn(Ie=(0,n.z$)()){return Tn(Ie)||fn(Ie)||gn(Ie)||Qt(Ie)||/windows phone/i.test(Ie)||qt(Ie)}function un(Ie,Y=[]){let re;switch(Ie){case"Browser":re=ot((0,n.z$)());break;case"Worker":re=`${ot((0,n.z$)())}-${Ie}`;break;default:re=Ie}const Ye=Y.length?Y.join(","):"FirebaseCore-web";return`${re}/JsCore/${b.SDK_VERSION}/${Ye}`}function cn(){return(cn=(0,e.Z)(function*(Ie){return(yield me(Ie,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function St(Ie,Y){return dt.apply(this,arguments)}function dt(){return(dt=(0,e.Z)(function*(Ie,Y){return me(Ie,"GET","/v2/recaptchaConfig",Ce(Ie,Y))})).apply(this,arguments)}function hn(Ie){return void 0!==Ie&&void 0!==Ie.getResponse}function $e(Ie){return void 0!==Ie&&void 0!==Ie.enterprise}class Tt{constructor(Y){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===Y.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=Y.recaptchaKey.split("/")[3],this.emailPasswordEnabled=Y.recaptchaEnforcementState.some(re=>"EMAIL_PASSWORD_PROVIDER"===re.provider&&"OFF"!==re.enforcementState)}}function Rt(Ie){return new Promise((Y,re)=>{const Ye=document.createElement("script");Ye.setAttribute("src",Ie),Ye.onload=Y,Ye.onerror=Gt=>{const Xt=L("internal-error");Xt.customData=Gt,re(Xt)},Ye.type="text/javascript",Ye.charset="UTF-8",function Yt(){var Ie,Y;return null!==(Y=null===(Ie=document.getElementsByTagName("head"))||void 0===Ie?void 0:Ie[0])&&void 0!==Y?Y:document}().appendChild(Ye)})}function bn(Ie){return`__${Ie}${Math.floor(1e6*Math.random())}`}class $t{constructor(Y){this.type="recaptcha-enterprise",this.auth=Cn(Y)}verify(Y="verify",re=!1){var Ye=this;return(0,e.Z)(function*(){function Xt(){return Xt=(0,e.Z)(function*(Jn){if(!re){if(null==Jn.tenantId&&null!=Jn._agentRecaptchaConfig)return Jn._agentRecaptchaConfig.siteKey;if(null!=Jn.tenantId&&void 0!==Jn._tenantRecaptchaConfigs[Jn.tenantId])return Jn._tenantRecaptchaConfigs[Jn.tenantId].siteKey}return new Promise(function(){var fi=(0,e.Z)(function*(Mi,Fi){St(Jn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(sr=>{if(void 0!==sr.recaptchaKey){const _s=new Tt(sr);return null==Jn.tenantId?Jn._agentRecaptchaConfig=_s:Jn._tenantRecaptchaConfigs[Jn.tenantId]=_s,Mi(_s.siteKey)}Fi(new Error("recaptcha Enterprise site key undefined"))}).catch(sr=>{Fi(sr)})});return function(Mi,Fi){return fi.apply(this,arguments)}}())}),Xt.apply(this,arguments)}function Nn(Jn,fi,Mi){const Fi=window.grecaptcha;$e(Fi)?Fi.enterprise.ready(()=>{Fi.enterprise.execute(Jn,{action:Y}).then(sr=>{fi(sr)}).catch(()=>{fi("NO_RECAPTCHA")})}):Mi(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Jn,fi)=>{(function Gt(Jn){return Xt.apply(this,arguments)})(Ye.auth).then(Mi=>{if(!re&&$e(window.grecaptcha))Nn(Mi,Jn,fi);else{if(typeof window>"u")return void fi(new Error("RecaptchaVerifier is only supported in browser"));Rt("https://www.google.com/recaptcha/enterprise.js?render="+Mi).then(()=>{Nn(Mi,Jn,fi)}).catch(Fi=>{fi(Fi)})}}).catch(Mi=>{fi(Mi)})})})()}}function _n(Ie,Y,re){return Un.apply(this,arguments)}function Un(){return(Un=(0,e.Z)(function*(Ie,Y,re,Ye=!1){const Gt=new $t(Ie);let Xt;try{Xt=yield Gt.verify(re)}catch{Xt=yield Gt.verify(re,!0)}const Nn=Object.assign({},Y);return Object.assign(Nn,Ye?{captchaResp:Xt}:{captchaResponse:Xt}),Object.assign(Nn,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Nn,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Nn})).apply(this,arguments)}class Vn{constructor(Y){this.auth=Y,this.queue=[]}pushCallback(Y,re){const Ye=Xt=>new Promise((Nn,Jn)=>{try{Nn(Y(Xt))}catch(fi){Jn(fi)}});Ye.onAbort=re,this.queue.push(Ye);const Gt=this.queue.length-1;return()=>{this.queue[Gt]=()=>Promise.resolve()}}runMiddleware(Y){var re=this;return(0,e.Z)(function*(){if(re.auth.currentUser===Y)return;const Ye=[];try{for(const Gt of re.queue)yield Gt(Y),Gt.onAbort&&Ye.push(Gt.onAbort)}catch(Gt){Ye.reverse();for(const Xt of Ye)try{Xt()}catch{}throw re.auth._errorFactory.create("login-blocked",{originalMessage:Gt?.message})}})()}}class Ft{constructor(Y,re,Ye,Gt){this.app=Y,this.heartbeatServiceProvider=re,this.appCheckServiceProvider=Ye,this.config=Gt,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ae(this),this.idTokenSubscription=new Ae(this),this.beforeStateQueue=new Vn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=k,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=Y.name,this.clientVersion=Gt.sdkClientVersion}_initializeWithPersistence(Y,re){var Ye=this;return re&&(this._popupRedirectResolver=vt(re)),this._initializationPromise=this.queue((0,e.Z)(function*(){var Gt,Xt;if(!Ye._deleted&&(Ye.persistenceManager=yield rt.create(Ye,Y),!Ye._deleted)){if(null!==(Gt=Ye._popupRedirectResolver)&&void 0!==Gt&&Gt._shouldInitProactively)try{yield Ye._popupRedirectResolver._initialize(Ye)}catch{}yield Ye.initializeCurrentUser(re),Ye.lastNotifiedUid=(null===(Xt=Ye.currentUser)||void 0===Xt?void 0:Xt.uid)||null,!Ye._deleted&&(Ye._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var Y=this;return(0,e.Z)(function*(){if(Y._deleted)return;const re=yield Y.assertedPersistence.getCurrentUser();if(Y.currentUser||re){if(Y.currentUser&&re&&Y.currentUser.uid===re.uid)return Y._currentUser._assign(re),void(yield Y.currentUser.getIdToken());yield Y._updateCurrentUser(re,!0)}})()}initializeCurrentUser(Y){var re=this;return(0,e.Z)(function*(){var Ye;const Gt=yield re.assertedPersistence.getCurrentUser();let Xt=Gt,Nn=!1;if(Y&&re.config.authDomain){yield re.getOrInitRedirectPersistenceManager();const Jn=null===(Ye=re.redirectUser)||void 0===Ye?void 0:Ye._redirectEventId,fi=Xt?._redirectEventId,Mi=yield re.tryRedirectSignIn(Y);(!Jn||Jn===fi)&&Mi?.user&&(Xt=Mi.user,Nn=!0)}if(!Xt)return re.directlySetCurrentUser(null);if(!Xt._redirectEventId){if(Nn)try{yield re.beforeStateQueue.runMiddleware(Xt)}catch(Jn){Xt=Gt,re._popupRedirectResolver._overrideRedirectResult(re,()=>Promise.reject(Jn))}return Xt?re.reloadAndSetCurrentUserOrClear(Xt):re.directlySetCurrentUser(null)}return ne(re._popupRedirectResolver,re,"argument-error"),yield re.getOrInitRedirectPersistenceManager(),re.redirectUser&&re.redirectUser._redirectEventId===Xt._redirectEventId?re.directlySetCurrentUser(Xt):re.reloadAndSetCurrentUserOrClear(Xt)})()}tryRedirectSignIn(Y){var re=this;return(0,e.Z)(function*(){let Ye=null;try{Ye=yield re._popupRedirectResolver._completeRedirectFn(re,Y,!0)}catch{yield re._setRedirectUser(null)}return Ye})()}reloadAndSetCurrentUserOrClear(Y){var re=this;return(0,e.Z)(function*(){try{yield ze(Y)}catch(Ye){if("auth/network-request-failed"!==Ye?.code)return re.directlySetCurrentUser(null)}return re.directlySetCurrentUser(Y)})()}useDeviceLanguage(){this.languageCode=function le(){if(typeof navigator>"u")return null;const Ie=navigator;return Ie.languages&&Ie.languages[0]||Ie.language||null}()}_delete(){var Y=this;return(0,e.Z)(function*(){Y._deleted=!0})()}updateCurrentUser(Y){var re=this;return(0,e.Z)(function*(){const Ye=Y?(0,n.m9)(Y):null;return Ye&&ne(Ye.auth.config.apiKey===re.config.apiKey,re,"invalid-user-token"),re._updateCurrentUser(Ye&&Ye._clone(re))})()}_updateCurrentUser(Y,re=!1){var Ye=this;return(0,e.Z)(function*(){if(!Ye._deleted)return Y&&ne(Ye.tenantId===Y.tenantId,Ye,"tenant-id-mismatch"),re||(yield Ye.beforeStateQueue.runMiddleware(Y)),Ye.queue((0,e.Z)(function*(){yield Ye.directlySetCurrentUser(Y),Ye.notifyAuthListeners()}))})()}signOut(){var Y=this;return(0,e.Z)(function*(){return yield Y.beforeStateQueue.runMiddleware(null),(Y.redirectPersistenceManager||Y._popupRedirectResolver)&&(yield Y._setRedirectUser(null)),Y._updateCurrentUser(null,!0)})()}setPersistence(Y){var re=this;return this.queue((0,e.Z)(function*(){yield re.assertedPersistence.setPersistence(vt(Y))}))}initializeRecaptchaConfig(){var Y=this;return(0,e.Z)(function*(){const re=yield St(Y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),Ye=new Tt(re);null==Y.tenantId?Y._agentRecaptchaConfig=Ye:Y._tenantRecaptchaConfigs[Y.tenantId]=Ye,Ye.emailPasswordEnabled&&new $t(Y).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(Y){this._errorFactory=new n.LL("auth","Firebase",Y())}onAuthStateChanged(Y,re,Ye){return this.registerStateListener(this.authStateSubscription,Y,re,Ye)}beforeAuthStateChanged(Y,re){return this.beforeStateQueue.pushCallback(Y,re)}onIdTokenChanged(Y,re,Ye){return this.registerStateListener(this.idTokenSubscription,Y,re,Ye)}toJSON(){var Y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(Y=this._currentUser)||void 0===Y?void 0:Y.toJSON()}}_setRedirectUser(Y,re){var Ye=this;return(0,e.Z)(function*(){const Gt=yield Ye.getOrInitRedirectPersistenceManager(re);return null===Y?Gt.removeCurrentUser():Gt.setCurrentUser(Y)})()}getOrInitRedirectPersistenceManager(Y){var re=this;return(0,e.Z)(function*(){if(!re.redirectPersistenceManager){const Ye=Y&&vt(Y)||re._popupRedirectResolver;ne(Ye,re,"argument-error"),re.redirectPersistenceManager=yield rt.create(re,[vt(Ye._redirectPersistence)],"redirectUser"),re.redirectUser=yield re.redirectPersistenceManager.getCurrentUser()}return re.redirectPersistenceManager})()}_redirectUserForId(Y){var re=this;return(0,e.Z)(function*(){var Ye,Gt;return re._isInitialized&&(yield re.queue((0,e.Z)(function*(){}))),(null===(Ye=re._currentUser)||void 0===Ye?void 0:Ye._redirectEventId)===Y?re._currentUser:(null===(Gt=re.redirectUser)||void 0===Gt?void 0:Gt._redirectEventId)===Y?re.redirectUser:null})()}_persistUserIfCurrent(Y){var re=this;return(0,e.Z)(function*(){if(Y===re.currentUser)return re.queue((0,e.Z)(function*(){return re.directlySetCurrentUser(Y)}))})()}_notifyListenersIfCurrent(Y){Y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var Y,re;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const Ye=null!==(re=null===(Y=this.currentUser)||void 0===Y?void 0:Y.uid)&&void 0!==re?re:null;this.lastNotifiedUid!==Ye&&(this.lastNotifiedUid=Ye,this.authStateSubscription.next(this.currentUser))}registerStateListener(Y,re,Ye,Gt){if(this._deleted)return()=>{};const Xt="function"==typeof re?re:re.next.bind(re),Nn=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(Nn,this,"internal-error"),Nn.then(()=>Xt(this.currentUser)),"function"==typeof re?Y.addObserver(re,Ye,Gt):Y.addObserver(re)}directlySetCurrentUser(Y){var re=this;return(0,e.Z)(function*(){re.currentUser&&re.currentUser!==Y&&re._currentUser._stopProactiveRefresh(),Y&&re.isProactiveRefreshEnabled&&Y._startProactiveRefresh(),re.currentUser=Y,Y?yield re.assertedPersistence.setCurrentUser(Y):yield re.assertedPersistence.removeCurrentUser()})()}queue(Y){return this.operations=this.operations.then(Y,Y),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(Y){!Y||this.frameworks.includes(Y)||(this.frameworks.push(Y),this.frameworks.sort(),this.clientVersion=un(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var Y=this;return(0,e.Z)(function*(){var re;const Ye={"X-Client-Version":Y.clientVersion};Y.app.options.appId&&(Ye["X-Firebase-gmpid"]=Y.app.options.appId);const Gt=yield null===(re=Y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===re?void 0:re.getHeartbeatsHeader();Gt&&(Ye["X-Firebase-Client"]=Gt);const Xt=yield Y._getAppCheckToken();return Xt&&(Ye["X-Firebase-AppCheck"]=Xt),Ye})()}_getAppCheckToken(){var Y=this;return(0,e.Z)(function*(){var re;const Ye=yield null===(re=Y.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===re?void 0:re.getToken();return Ye?.error&&function D(Ie,...Y){O.logLevel<=_.in.WARN&&O.warn(`Auth (${b.SDK_VERSION}): ${Ie}`,...Y)}(`Error while retrieving App Check token: ${Ye.error}`),Ye?.token})()}}function Cn(Ie){return(0,n.m9)(Ie)}class Ae{constructor(Y){this.auth=Y,this.observer=null,this.addObserver=(0,n.ne)(re=>this.observer=re)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function en(Ie,Y,re){const Ye=Cn(Ie);ne(Ye._canInitEmulator,Ye,"emulator-config-failed"),ne(/^https?:\/\//.test(Y),Ye,"invalid-emulator-scheme");const Gt=!!re?.disableWarnings,Xt=wn(Y),{host:Nn,port:Jn}=function ci(Ie){const Y=wn(Ie),re=/(\/\/)?([^?#/]+)/.exec(Ie.substr(Y.length));if(!re)return{host:"",port:null};const Ye=re[2].split("@").pop()||"",Gt=/^(\[[^\]]+\])(:|$)/.exec(Ye);if(Gt){const Xt=Gt[1];return{host:Xt,port:nr(Ye.substr(Xt.length+1))}}{const[Xt,Nn]=Ye.split(":");return{host:Xt,port:nr(Nn)}}}(Y);Ye.config.emulator={url:`${Xt}//${Nn}${null===Jn?"":`:${Jn}`}/`},Ye.settings.appVerificationDisabledForTesting=!0,Ye.emulatorConfig=Object.freeze({host:Nn,port:Jn,protocol:Xt.replace(":",""),options:Object.freeze({disableWarnings:Gt})}),Gt||function kr(){function Ie(){const Y=document.createElement("p"),re=Y.style;Y.innerText="Running in emulator mode. Do not use with production credentials.",re.position="fixed",re.width="100%",re.backgroundColor="#ffffff",re.border=".1em solid #000000",re.color="#b50000",re.bottom="0px",re.left="0px",re.margin="0px",re.zIndex="10000",re.textAlign="center",Y.classList.add("firebase-emulator-warning"),document.body.appendChild(Y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",Ie):Ie())}()}function wn(Ie){const Y=Ie.indexOf(":");return Y<0?"":Ie.substr(0,Y+1)}function nr(Ie){if(!Ie)return null;const Y=Number(Ie);return isNaN(Y)?null:Y}class Ar{constructor(Y,re){this.providerId=Y,this.signInMethod=re}toJSON(){return te("not implemented")}_getIdTokenResponse(Y){return te("not implemented")}_linkToIdToken(Y,re){return te("not implemented")}_getReauthenticationResolver(Y){return te("not implemented")}}function fr(Ie,Y){return bo.apply(this,arguments)}function bo(){return(bo=(0,e.Z)(function*(Ie,Y){return me(Ie,"POST","/v1/accounts:resetPassword",Ce(Ie,Y))})).apply(this,arguments)}function Eo(Ie,Y){return fo.apply(this,arguments)}function fo(){return(fo=(0,e.Z)(function*(Ie,Y){return me(Ie,"POST","/v1/accounts:update",Y)})).apply(this,arguments)}function Li(){return(Li=(0,e.Z)(function*(Ie,Y){return me(Ie,"POST","/v1/accounts:update",Ce(Ie,Y))})).apply(this,arguments)}function er(Ie,Y){return ir.apply(this,arguments)}function ir(){return(ir=(0,e.Z)(function*(Ie,Y){return Ne(Ie,"POST","/v1/accounts:signInWithPassword",Ce(Ie,Y))})).apply(this,arguments)}function ho(Ie,Y){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,e.Z)(function*(Ie,Y){return me(Ie,"POST","/v1/accounts:sendOobCode",Ce(Ie,Y))})).apply(this,arguments)}function Oo(){return(Oo=(0,e.Z)(function*(Ie,Y){return ho(Ie,Y)})).apply(this,arguments)}function Qr(Ie,Y){return qr.apply(this,arguments)}function qr(){return(qr=(0,e.Z)(function*(Ie,Y){return ho(Ie,Y)})).apply(this,arguments)}function Uo(Ie,Y){return hr.apply(this,arguments)}function hr(){return(hr=(0,e.Z)(function*(Ie,Y){return ho(Ie,Y)})).apply(this,arguments)}function Ni(){return(Ni=(0,e.Z)(function*(Ie,Y){return ho(Ie,Y)})).apply(this,arguments)}function Gr(){return(Gr=(0,e.Z)(function*(Ie,Y){return Ne(Ie,"POST","/v1/accounts:signInWithEmailLink",Ce(Ie,Y))})).apply(this,arguments)}function Or(){return(Or=(0,e.Z)(function*(Ie,Y){return Ne(Ie,"POST","/v1/accounts:signInWithEmailLink",Ce(Ie,Y))})).apply(this,arguments)}class ro extends Ar{constructor(Y,re,Ye,Gt=null){super("password",Ye),this._email=Y,this._password=re,this._tenantId=Gt}static _fromEmailAndPassword(Y,re){return new ro(Y,re,"password")}static _fromEmailAndCode(Y,re,Ye=null){return new ro(Y,re,"emailLink",Ye)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(Y){const re="string"==typeof Y?JSON.parse(Y):Y;if(re?.email&&re?.password){if("password"===re.signInMethod)return this._fromEmailAndPassword(re.email,re.password);if("emailLink"===re.signInMethod)return this._fromEmailAndCode(re.email,re.password,re.tenantId)}return null}_getIdTokenResponse(Y){var re=this;return(0,e.Z)(function*(){var Ye;switch(re.signInMethod){case"password":const Gt={returnSecureToken:!0,email:re._email,password:re._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(Ye=Y._getRecaptchaConfig())&&void 0!==Ye&&Ye.emailPasswordEnabled){const Xt=yield _n(Y,Gt,"signInWithPassword");return er(Y,Xt)}return er(Y,Gt).catch(function(){var Xt=(0,e.Z)(function*(Nn){if("auth/missing-recaptcha-token"===Nn.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Jn=yield _n(Y,Gt,"signInWithPassword");return er(Y,Jn)}return Promise.reject(Nn)});return function(Nn){return Xt.apply(this,arguments)}}());case"emailLink":return function qi(Ie,Y){return Gr.apply(this,arguments)}(Y,{email:re._email,oobCode:re._password});default:S(Y,"internal-error")}})()}_linkToIdToken(Y,re){var Ye=this;return(0,e.Z)(function*(){switch(Ye.signInMethod){case"password":return Eo(Y,{idToken:re,returnSecureToken:!0,email:Ye._email,password:Ye._password});case"emailLink":return function Do(Ie,Y){return Or.apply(this,arguments)}(Y,{idToken:re,email:Ye._email,oobCode:Ye._password});default:S(Y,"internal-error")}})()}_getReauthenticationResolver(Y){return this._getIdTokenResponse(Y)}}function vn(Ie,Y){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,e.Z)(function*(Ie,Y){return Ne(Ie,"POST","/v1/accounts:signInWithIdp",Ce(Ie,Y))})).apply(this,arguments)}class qn extends Ar{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(Y){const re=new qn(Y.providerId,Y.signInMethod);return Y.idToken||Y.accessToken?(Y.idToken&&(re.idToken=Y.idToken),Y.accessToken&&(re.accessToken=Y.accessToken),Y.nonce&&!Y.pendingToken&&(re.nonce=Y.nonce),Y.pendingToken&&(re.pendingToken=Y.pendingToken)):Y.oauthToken&&Y.oauthTokenSecret?(re.accessToken=Y.oauthToken,re.secret=Y.oauthTokenSecret):S("argument-error"),re}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(Y){const re="string"==typeof Y?JSON.parse(Y):Y,{providerId:Ye,signInMethod:Gt}=re,Xt=(0,A._T)(re,["providerId","signInMethod"]);if(!Ye||!Gt)return null;const Nn=new qn(Ye,Gt);return Nn.idToken=Xt.idToken||void 0,Nn.accessToken=Xt.accessToken||void 0,Nn.secret=Xt.secret,Nn.nonce=Xt.nonce,Nn.pendingToken=Xt.pendingToken||null,Nn}_getIdTokenResponse(Y){return vn(Y,this.buildRequest())}_linkToIdToken(Y,re){const Ye=this.buildRequest();return Ye.idToken=re,vn(Y,Ye)}_getReauthenticationResolver(Y){const re=this.buildRequest();return re.autoCreate=!1,vn(Y,re)}buildRequest(){const Y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)Y.pendingToken=this.pendingToken;else{const re={};this.idToken&&(re.id_token=this.idToken),this.accessToken&&(re.access_token=this.accessToken),this.secret&&(re.oauth_token_secret=this.secret),re.providerId=this.providerId,this.nonce&&!this.pendingToken&&(re.nonce=this.nonce),Y.postBody=(0,n.xO)(re)}return Y}}function Hi(){return(Hi=(0,e.Z)(function*(Ie,Y){return me(Ie,"POST","/v1/accounts:sendVerificationCode",Ce(Ie,Y))})).apply(this,arguments)}function ki(){return(ki=(0,e.Z)(function*(Ie,Y){return Ne(Ie,"POST","/v1/accounts:signInWithPhoneNumber",Ce(Ie,Y))})).apply(this,arguments)}function Vr(){return(Vr=(0,e.Z)(function*(Ie,Y){const re=yield Ne(Ie,"POST","/v1/accounts:signInWithPhoneNumber",Ce(Ie,Y));if(re.temporaryProof)throw ve(Ie,"account-exists-with-different-credential",re);return re})).apply(this,arguments)}const mo={USER_NOT_FOUND:"user-not-found"};function Ps(){return(Ps=(0,e.Z)(function*(Ie,Y){return Ne(Ie,"POST","/v1/accounts:signInWithPhoneNumber",Ce(Ie,Object.assign(Object.assign({},Y),{operation:"REAUTH"})),mo)})).apply(this,arguments)}class zr extends Ar{constructor(Y){super("phone","phone"),this.params=Y}static _fromVerification(Y,re){return new zr({verificationId:Y,verificationCode:re})}static _fromTokenResponse(Y,re){return new zr({phoneNumber:Y,temporaryProof:re})}_getIdTokenResponse(Y){return function Ki(Ie,Y){return ki.apply(this,arguments)}(Y,this._makeVerificationRequest())}_linkToIdToken(Y,re){return function xr(Ie,Y){return Vr.apply(this,arguments)}(Y,Object.assign({idToken:re},this._makeVerificationRequest()))}_getReauthenticationResolver(Y){return function Ao(Ie,Y){return Ps.apply(this,arguments)}(Y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:Y,phoneNumber:re,verificationId:Ye,verificationCode:Gt}=this.params;return Y&&re?{temporaryProof:Y,phoneNumber:re}:{sessionInfo:Ye,code:Gt}}toJSON(){const Y={providerId:this.providerId};return this.params.phoneNumber&&(Y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(Y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(Y.verificationCode=this.params.verificationCode),this.params.verificationId&&(Y.verificationId=this.params.verificationId),Y}static fromJSON(Y){"string"==typeof Y&&(Y=JSON.parse(Y));const{verificationId:re,verificationCode:Ye,phoneNumber:Gt,temporaryProof:Xt}=Y;return Ye||re||Gt||Xt?new zr({verificationId:re,verificationCode:Ye,phoneNumber:Gt,temporaryProof:Xt}):null}}class xo{constructor(Y){var re,Ye,Gt,Xt,Nn,Jn;const fi=(0,n.zd)((0,n.pd)(Y)),Mi=null!==(re=fi.apiKey)&&void 0!==re?re:null,Fi=null!==(Ye=fi.oobCode)&&void 0!==Ye?Ye:null,sr=function Xr(Ie){switch(Ie){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Gt=fi.mode)&&void 0!==Gt?Gt:null);ne(Mi&&Fi&&sr,"argument-error"),this.apiKey=Mi,this.operation=sr,this.code=Fi,this.continueUrl=null!==(Xt=fi.continueUrl)&&void 0!==Xt?Xt:null,this.languageCode=null!==(Nn=fi.languageCode)&&void 0!==Nn?Nn:null,this.tenantId=null!==(Jn=fi.tenantId)&&void 0!==Jn?Jn:null}static parseLink(Y){const re=function Zo(Ie){const Y=(0,n.zd)((0,n.pd)(Ie)).link,re=Y?(0,n.zd)((0,n.pd)(Y)).deep_link_id:null,Ye=(0,n.zd)((0,n.pd)(Ie)).deep_link_id;return(Ye?(0,n.zd)((0,n.pd)(Ye)).link:null)||Ye||re||Y||Ie}(Y);try{return new xo(re)}catch{return null}}}let Ks=(()=>{class Ie{constructor(){this.providerId=Ie.PROVIDER_ID}static credential(re,Ye){return ro._fromEmailAndPassword(re,Ye)}static credentialWithLink(re,Ye){const Gt=xo.parseLink(Ye);return ne(Gt,"argument-error"),ro._fromEmailAndCode(re,Gt.code,Gt.tenantId)}}return Ie.PROVIDER_ID="password",Ie.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ie.EMAIL_LINK_SIGN_IN_METHOD="emailLink",Ie})();class $o{constructor(Y){this.providerId=Y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(Y){this.defaultLanguageCode=Y}setCustomParameters(Y){return this.customParameters=Y,this}getCustomParameters(){return this.customParameters}}class ns extends $o{constructor(){super(...arguments),this.scopes=[]}addScope(Y){return this.scopes.includes(Y)||this.scopes.push(Y),this}getScopes(){return[...this.scopes]}}class To extends ns{static credentialFromJSON(Y){const re="string"==typeof Y?JSON.parse(Y):Y;return ne("providerId"in re&&"signInMethod"in re,"argument-error"),qn._fromParams(re)}credential(Y){return this._credential(Object.assign(Object.assign({},Y),{nonce:Y.rawNonce}))}_credential(Y){return ne(Y.idToken||Y.accessToken,"argument-error"),qn._fromParams(Object.assign(Object.assign({},Y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(Y){return To.oauthCredentialFromTaggedObject(Y)}static credentialFromError(Y){return To.oauthCredentialFromTaggedObject(Y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:Y}){if(!Y)return null;const{oauthIdToken:re,oauthAccessToken:Ye,oauthTokenSecret:Gt,pendingToken:Xt,nonce:Nn,providerId:Jn}=Y;if(!Ye&&!Gt&&!re&&!Xt||!Jn)return null;try{return new To(Jn)._credential({idToken:re,accessToken:Ye,nonce:Nn,pendingToken:Xt})}catch{return null}}}let is=(()=>{class Ie extends ns{constructor(){super("facebook.com")}static credential(re){return qn._fromParams({providerId:Ie.PROVIDER_ID,signInMethod:Ie.FACEBOOK_SIGN_IN_METHOD,accessToken:re})}static credentialFromResult(re){return Ie.credentialFromTaggedObject(re)}static credentialFromError(re){return Ie.credentialFromTaggedObject(re.customData||{})}static credentialFromTaggedObject({_tokenResponse:re}){if(!re||!("oauthAccessToken"in re)||!re.oauthAccessToken)return null;try{return Ie.credential(re.oauthAccessToken)}catch{return null}}}return Ie.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ie.PROVIDER_ID="facebook.com",Ie})(),cs=(()=>{class Ie extends ns{constructor(){super("google.com"),this.addScope("profile")}static credential(re,Ye){return qn._fromParams({providerId:Ie.PROVIDER_ID,signInMethod:Ie.GOOGLE_SIGN_IN_METHOD,idToken:re,accessToken:Ye})}static credentialFromResult(re){return Ie.credentialFromTaggedObject(re)}static credentialFromError(re){return Ie.credentialFromTaggedObject(re.customData||{})}static credentialFromTaggedObject({_tokenResponse:re}){if(!re)return null;const{oauthIdToken:Ye,oauthAccessToken:Gt}=re;if(!Ye&&!Gt)return null;try{return Ie.credential(Ye,Gt)}catch{return null}}}return Ie.GOOGLE_SIGN_IN_METHOD="google.com",Ie.PROVIDER_ID="google.com",Ie})(),ds=(()=>{class Ie extends ns{constructor(){super("github.com")}static credential(re){return qn._fromParams({providerId:Ie.PROVIDER_ID,signInMethod:Ie.GITHUB_SIGN_IN_METHOD,accessToken:re})}static credentialFromResult(re){return Ie.credentialFromTaggedObject(re)}static credentialFromError(re){return Ie.credentialFromTaggedObject(re.customData||{})}static credentialFromTaggedObject({_tokenResponse:re}){if(!re||!("oauthAccessToken"in re)||!re.oauthAccessToken)return null;try{return Ie.credential(re.oauthAccessToken)}catch{return null}}}return Ie.GITHUB_SIGN_IN_METHOD="github.com",Ie.PROVIDER_ID="github.com",Ie})();class Os extends Ar{constructor(Y,re){super(Y,Y),this.pendingToken=re}_getIdTokenResponse(Y){return vn(Y,this.buildRequest())}_linkToIdToken(Y,re){const Ye=this.buildRequest();return Ye.idToken=re,vn(Y,Ye)}_getReauthenticationResolver(Y){const re=this.buildRequest();return re.autoCreate=!1,vn(Y,re)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(Y){const re="string"==typeof Y?JSON.parse(Y):Y,{providerId:Ye,signInMethod:Gt,pendingToken:Xt}=re;return Ye&&Gt&&Xt&&Ye===Gt?new Os(Ye,Xt):null}static _create(Y,re){return new Os(Y,re)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Er extends $o{constructor(Y){ne(Y.startsWith("saml."),"argument-error"),super(Y)}static credentialFromResult(Y){return Er.samlCredentialFromTaggedObject(Y)}static credentialFromError(Y){return Er.samlCredentialFromTaggedObject(Y.customData||{})}static credentialFromJSON(Y){const re=Os.fromJSON(Y);return ne(re,"argument-error"),re}static samlCredentialFromTaggedObject({_tokenResponse:Y}){if(!Y)return null;const{pendingToken:re,providerId:Ye}=Y;if(!re||!Ye)return null;try{return Os._create(Ye,re)}catch{return null}}}let Ws=(()=>{class Ie extends ns{constructor(){super("twitter.com")}static credential(re,Ye){return qn._fromParams({providerId:Ie.PROVIDER_ID,signInMethod:Ie.TWITTER_SIGN_IN_METHOD,oauthToken:re,oauthTokenSecret:Ye})}static credentialFromResult(re){return Ie.credentialFromTaggedObject(re)}static credentialFromError(re){return Ie.credentialFromTaggedObject(re.customData||{})}static credentialFromTaggedObject({_tokenResponse:re}){if(!re)return null;const{oauthAccessToken:Ye,oauthTokenSecret:Gt}=re;if(!Ye||!Gt)return null;try{return Ie.credential(Ye,Gt)}catch{return null}}}return Ie.TWITTER_SIGN_IN_METHOD="twitter.com",Ie.PROVIDER_ID="twitter.com",Ie})();function po(Ie,Y){return us.apply(this,arguments)}function us(){return(us=(0,e.Z)(function*(Ie,Y){return Ne(Ie,"POST","/v1/accounts:signUp",Ce(Ie,Y))})).apply(this,arguments)}class yr{constructor(Y){this.user=Y.user,this.providerId=Y.providerId,this._tokenResponse=Y._tokenResponse,this.operationType=Y.operationType}static _fromIdTokenResponse(Y,re,Ye,Gt=!1){return(0,e.Z)(function*(){const Xt=yield rn._fromIdTokenResponse(Y,Ye,Gt),Nn=rs(Ye);return new yr({user:Xt,providerId:Nn,_tokenResponse:Ye,operationType:re})})()}static _forOperation(Y,re,Ye){return(0,e.Z)(function*(){yield Y._updateTokensIfNecessary(Ye,!0);const Gt=rs(Ye);return new yr({user:Y,providerId:Gt,_tokenResponse:Ye,operationType:re})})()}}function rs(Ie){return Ie.providerId?Ie.providerId:"phoneNumber"in Ie?"phone":null}function Ys(Ie){return Go.apply(this,arguments)}function Go(){return(Go=(0,e.Z)(function*(Ie){var Y;const re=Cn(Ie);if(yield re._initializationPromise,null!==(Y=re.currentUser)&&void 0!==Y&&Y.isAnonymous)return new yr({user:re.currentUser,providerId:null,operationType:"signIn"});const Ye=yield po(re,{returnSecureToken:!0}),Gt=yield yr._fromIdTokenResponse(re,"signIn",Ye,!0);return yield re._updateCurrentUser(Gt.user),Gt})).apply(this,arguments)}class zs extends n.ZR{constructor(Y,re,Ye,Gt){var Xt;super(re.code,re.message),this.operationType=Ye,this.user=Gt,Object.setPrototypeOf(this,zs.prototype),this.customData={appName:Y.name,tenantId:null!==(Xt=Y.tenantId)&&void 0!==Xt?Xt:void 0,_serverResponse:re.customData._serverResponse,operationType:Ye}}static _fromErrorAndOperation(Y,re,Ye,Gt){return new zs(Y,re,Ye,Gt)}}function Rs(Ie,Y,re,Ye){return("reauthenticate"===Y?re._getReauthenticationResolver(Ie):re._getIdTokenResponse(Ie)).catch(Xt=>{throw"auth/multi-factor-auth-required"===Xt.code?zs._fromErrorAndOperation(Ie,Xt,Y,Ye):Xt})}function fs(Ie){return new Set(Ie.map(({providerId:Y})=>Y).filter(Y=>!!Y))}function bs(Ie,Y){return ma.apply(this,arguments)}function ma(){return ma=(0,e.Z)(function*(Ie,Y){const re=(0,n.m9)(Ie);yield jo(!0,re,Y);const{providerUserInfo:Ye}=yield function ge(Ie,Y){return oe.apply(this,arguments)}(re.auth,{idToken:yield re.getIdToken(),deleteProvider:[Y]}),Gt=fs(Ye||[]);return re.providerData=re.providerData.filter(Xt=>Gt.has(Xt.providerId)),Gt.has("phone")||(re.phoneNumber=null),yield re.auth._persistUserIfCurrent(re),re}),ma.apply(this,arguments)}function Io(Ie,Y){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,e.Z)(function*(Ie,Y,re=!1){const Ye=yield Le(Ie,Y._linkToIdToken(Ie.auth,yield Ie.getIdToken()),re);return yr._forOperation(Ie,"link",Ye)})).apply(this,arguments)}function jo(Ie,Y,re){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,e.Z)(function*(Ie,Y,re){yield ze(Y);const Gt=!1===Ie?"provider-already-linked":"no-such-provider";ne(fs(Y.providerData).has(re)===Ie,Y.auth,Gt)})).apply(this,arguments)}function pa(Ie,Y){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,e.Z)(function*(Ie,Y,re=!1){const{auth:Ye}=Ie,Gt="reauthenticate";try{const Xt=yield Le(Ie,Rs(Ye,Gt,Y,Ie),re);ne(Xt.idToken,Ye,"internal-error");const Nn=Te(Xt.idToken);ne(Nn,Ye,"internal-error");const{sub:Jn}=Nn;return ne(Ie.uid===Jn,Ye,"user-mismatch"),yr._forOperation(Ie,Gt,Xt)}catch(Xt){throw"auth/user-not-found"===Xt?.code&&S(Ye,"user-mismatch"),Xt}})).apply(this,arguments)}function hs(Ie,Y){return $s.apply(this,arguments)}function $s(){return($s=(0,e.Z)(function*(Ie,Y,re=!1){const Gt=yield Rs(Ie,"signIn",Y),Xt=yield yr._fromIdTokenResponse(Ie,"signIn",Gt);return re||(yield Ie._updateCurrentUser(Xt.user)),Xt})).apply(this,arguments)}function Jo(Ie,Y){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,e.Z)(function*(Ie,Y){return hs(Cn(Ie),Y)})).apply(this,arguments)}function Js(Ie,Y){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,e.Z)(function*(Ie,Y){const re=(0,n.m9)(Ie);return yield jo(!1,re,Y.providerId),Io(re,Y)})).apply(this,arguments)}function ks(Ie,Y){return mr.apply(this,arguments)}function mr(){return(mr=(0,e.Z)(function*(Ie,Y){return pa((0,n.m9)(Ie),Y)})).apply(this,arguments)}function ut(){return(ut=(0,e.Z)(function*(Ie,Y){return Ne(Ie,"POST","/v1/accounts:signInWithCustomToken",Ce(Ie,Y))})).apply(this,arguments)}function It(Ie,Y){return lt.apply(this,arguments)}function lt(){return lt=(0,e.Z)(function*(Ie,Y){const re=Cn(Ie),Ye=yield function Pn(Ie,Y){return ut.apply(this,arguments)}(re,{token:Y,returnSecureToken:!0}),Gt=yield yr._fromIdTokenResponse(re,"signIn",Ye);return yield re._updateCurrentUser(Gt.user),Gt}),lt.apply(this,arguments)}class Wt{constructor(Y,re){this.factorId=Y,this.uid=re.mfaEnrollmentId,this.enrollmentTime=new Date(re.enrolledAt).toUTCString(),this.displayName=re.displayName}static _fromServerResponse(Y,re){return"phoneInfo"in re?En._fromServerResponse(Y,re):"totpInfo"in re?pi._fromServerResponse(Y,re):S(Y,"internal-error")}}class En extends Wt{constructor(Y){super("phone",Y),this.phoneNumber=Y.phoneInfo}static _fromServerResponse(Y,re){return new En(re)}}class pi extends Wt{constructor(Y){super("totp",Y)}static _fromServerResponse(Y,re){return new pi(re)}}function Bi(Ie,Y,re){var Ye;ne((null===(Ye=re.url)||void 0===Ye?void 0:Ye.length)>0,Ie,"invalid-continue-uri"),ne(typeof re.dynamicLinkDomain>"u"||re.dynamicLinkDomain.length>0,Ie,"invalid-dynamic-link-domain"),Y.continueUrl=re.url,Y.dynamicLinkDomain=re.dynamicLinkDomain,Y.canHandleCodeInApp=re.handleCodeInApp,re.iOS&&(ne(re.iOS.bundleId.length>0,Ie,"missing-ios-bundle-id"),Y.iOSBundleId=re.iOS.bundleId),re.android&&(ne(re.android.packageName.length>0,Ie,"missing-android-pkg-name"),Y.androidInstallApp=re.android.installApp,Y.androidMinimumVersionCode=re.android.minimumVersion,Y.androidPackageName=re.android.packageName)}function wo(Ie,Y,re){return Qo.apply(this,arguments)}function Qo(){return Qo=(0,e.Z)(function*(Ie,Y,re){var Ye;const Gt=Cn(Ie),Xt={requestType:"PASSWORD_RESET",email:Y,clientType:"CLIENT_TYPE_WEB"};if(null!==(Ye=Gt._getRecaptchaConfig())&&void 0!==Ye&&Ye.emailPasswordEnabled){const Nn=yield _n(Gt,Xt,"getOobCode",!0);re&&Bi(Gt,Nn,re),yield Qr(Gt,Nn)}else re&&Bi(Gt,Xt,re),yield Qr(Gt,Xt).catch(function(){var Nn=(0,e.Z)(function*(Jn){if("auth/missing-recaptcha-token"!==Jn.code)return Promise.reject(Jn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const fi=yield _n(Gt,Xt,"getOobCode",!0);re&&Bi(Gt,fi,re),yield Qr(Gt,fi)}});return function(Jn){return Nn.apply(this,arguments)}}())}),Qo.apply(this,arguments)}function os(Ie,Y,re){return eo.apply(this,arguments)}function eo(){return(eo=(0,e.Z)(function*(Ie,Y,re){yield fr((0,n.m9)(Ie),{oobCode:Y,newPassword:re})})).apply(this,arguments)}function Es(Ie,Y){return Tr.apply(this,arguments)}function Tr(){return Tr=(0,e.Z)(function*(Ie,Y){yield function es(Ie,Y){return Li.apply(this,arguments)}((0,n.m9)(Ie),{oobCode:Y})}),Tr.apply(this,arguments)}function Ro(Ie,Y){return $a.apply(this,arguments)}function $a(){return($a=(0,e.Z)(function*(Ie,Y){const re=(0,n.m9)(Ie),Ye=yield fr(re,{oobCode:Y}),Gt=Ye.requestType;switch(ne(Gt,re,"internal-error"),Gt){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(Ye.newEmail,re,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(Ye.mfaInfo,re,"internal-error");default:ne(Ye.email,re,"internal-error")}let Xt=null;return Ye.mfaInfo&&(Xt=Wt._fromServerResponse(Cn(re),Ye.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===Ye.requestType?Ye.newEmail:Ye.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===Ye.requestType?Ye.email:Ye.newEmail)||null,multiFactorInfo:Xt},operation:Gt}})).apply(this,arguments)}function ka(Ie,Y){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,e.Z)(function*(Ie,Y){const{data:re}=yield Ro((0,n.m9)(Ie),Y);return re.email})).apply(this,arguments)}function Ts(Ie,Y,re){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,e.Z)(function*(Ie,Y,re){var Ye;const Gt=Cn(Ie),Xt={returnSecureToken:!0,email:Y,password:re,clientType:"CLIENT_TYPE_WEB"};let Nn;if(null!==(Ye=Gt._getRecaptchaConfig())&&void 0!==Ye&&Ye.emailPasswordEnabled){const Mi=yield _n(Gt,Xt,"signUpPassword");Nn=po(Gt,Mi)}else Nn=po(Gt,Xt).catch(function(){var Mi=(0,e.Z)(function*(Fi){if("auth/missing-recaptcha-token"===Fi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const sr=yield _n(Gt,Xt,"signUpPassword");return po(Gt,sr)}return Promise.reject(Fi)});return function(Fi){return Mi.apply(this,arguments)}}());const Jn=yield Nn.catch(Mi=>Promise.reject(Mi)),fi=yield yr._fromIdTokenResponse(Gt,"signIn",Jn);return yield Gt._updateCurrentUser(fi.user),fi}),Fa.apply(this,arguments)}function Ja(Ie,Y,re){return Jo((0,n.m9)(Ie),Ks.credential(Y,re))}function Qa(Ie,Y,re){return qs.apply(this,arguments)}function qs(){return qs=(0,e.Z)(function*(Ie,Y,re){var Ye;const Gt=Cn(Ie),Xt={requestType:"EMAIL_SIGNIN",email:Y,clientType:"CLIENT_TYPE_WEB"};function Nn(Jn,fi){ne(fi.handleCodeInApp,Gt,"argument-error"),fi&&Bi(Gt,Jn,fi)}if(null!==(Ye=Gt._getRecaptchaConfig())&&void 0!==Ye&&Ye.emailPasswordEnabled){const Jn=yield _n(Gt,Xt,"getOobCode",!0);Nn(Jn,re),yield Uo(Gt,Jn)}else Nn(Xt,re),yield Uo(Gt,Xt).catch(function(){var Jn=(0,e.Z)(function*(fi){if("auth/missing-recaptcha-token"!==fi.code)return Promise.reject(fi);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Mi=yield _n(Gt,Xt,"getOobCode",!0);Nn(Mi,re),yield Uo(Gt,Mi)}});return function(fi){return Jn.apply(this,arguments)}}())}),qs.apply(this,arguments)}function Sl(Ie,Y){const re=xo.parseLink(Y);return"EMAIL_SIGNIN"===re?.operation}function Cl(Ie,Y,re){return go.apply(this,arguments)}function go(){return(go=(0,e.Z)(function*(Ie,Y,re){const Ye=(0,n.m9)(Ie),Gt=Ks.credentialWithLink(Y,re||J());return ne(Gt._tenantId===(Ye.tenantId||null),Ye,"tenant-id-mismatch"),Jo(Ye,Gt)})).apply(this,arguments)}function qa(){return(qa=(0,e.Z)(function*(Ie,Y){return me(Ie,"POST","/v1/accounts:createAuthUri",Ce(Ie,Y))})).apply(this,arguments)}function vc(Ie,Y){return Fs.apply(this,arguments)}function Fs(){return Fs=(0,e.Z)(function*(Ie,Y){const Ye={identifier:Y,continueUri:ce()?J():"http://localhost"},{signinMethods:Gt}=yield function Yl(Ie,Y){return qa.apply(this,arguments)}((0,n.m9)(Ie),Ye);return Gt||[]}),Fs.apply(this,arguments)}function yc(Ie,Y){return Ba.apply(this,arguments)}function Ba(){return Ba=(0,e.Z)(function*(Ie,Y){const re=(0,n.m9)(Ie),Gt={requestType:"VERIFY_EMAIL",idToken:yield Ie.getIdToken()};Y&&Bi(re.auth,Gt,Y);const{email:Xt}=yield function ts(Ie,Y){return Oo.apply(this,arguments)}(re.auth,Gt);Xt!==Ie.email&&(yield Ie.reload())}),Ba.apply(this,arguments)}function Ua(Ie,Y,re){return Xs.apply(this,arguments)}function Xs(){return Xs=(0,e.Z)(function*(Ie,Y,re){const Ye=(0,n.m9)(Ie),Xt={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield Ie.getIdToken(),newEmail:Y};re&&Bi(Ye.auth,Xt,re);const{email:Nn}=yield function _i(Ie,Y){return Ni.apply(this,arguments)}(Ye.auth,Xt);Nn!==Ie.email&&(yield Ie.reload())}),Xs.apply(this,arguments)}function Xa(){return(Xa=(0,e.Z)(function*(Ie,Y){return me(Ie,"POST","/v1/accounts:update",Y)})).apply(this,arguments)}function el(Ie,Y){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,e.Z)(function*(Ie,{displayName:Y,photoURL:re}){if(void 0===Y&&void 0===re)return;const Ye=(0,n.m9)(Ie),Xt={idToken:yield Ye.getIdToken(),displayName:Y,photoUrl:re,returnSecureToken:!0},Nn=yield Le(Ye,function zl(Ie,Y){return Xa.apply(this,arguments)}(Ye.auth,Xt));Ye.displayName=Nn.displayName||null,Ye.photoURL=Nn.photoUrl||null;const Jn=Ye.providerData.find(({providerId:fi})=>"password"===fi);Jn&&(Jn.displayName=Ye.displayName,Jn.photoURL=Ye.photoURL),yield Ye._updateTokensIfNecessary(Nn)}),Bs.apply(this,arguments)}function tl(Ie,Y){return nl((0,n.m9)(Ie),Y,null)}function Ga(Ie,Y){return nl((0,n.m9)(Ie),null,Y)}function nl(Ie,Y,re){return ss.apply(this,arguments)}function ss(){return(ss=(0,e.Z)(function*(Ie,Y,re){const{auth:Ye}=Ie,Xt={idToken:yield Ie.getIdToken(),returnSecureToken:!0};Y&&(Xt.email=Y),re&&(Xt.password=re);const Nn=yield Le(Ie,Eo(Ye,Xt));yield Ie._updateTokensIfNecessary(Nn,!0)})).apply(this,arguments)}class Ss{constructor(Y,re,Ye={}){this.isNewUser=Y,this.providerId=re,this.profile=Ye}}class $i extends Ss{constructor(Y,re,Ye,Gt){super(Y,re,Ye),this.username=Gt}}class Us extends Ss{constructor(Y,re){super(Y,"facebook.com",re)}}class Ge extends $i{constructor(Y,re){super(Y,"github.com",re,"string"==typeof re?.login?re?.login:null)}}class Vt extends Ss{constructor(Y,re){super(Y,"google.com",re)}}class pt extends $i{constructor(Y,re,Ye){super(Y,"twitter.com",re,Ye)}}function Mt(Ie){const{user:Y,_tokenResponse:re}=Ie;return Y.isAnonymous&&!re?{providerId:null,isNewUser:!1,profile:null}:function Aa(Ie){var Y,re;if(!Ie)return null;const{providerId:Ye}=Ie,Gt=Ie.rawUserInfo?JSON.parse(Ie.rawUserInfo):{},Xt=Ie.isNewUser||"identitytoolkit#SignupNewUserResponse"===Ie.kind;if(!Ye&&Ie?.idToken){const Nn=null===(re=null===(Y=Te(Ie.idToken))||void 0===Y?void 0:Y.firebase)||void 0===re?void 0:re.sign_in_provider;if(Nn)return new Ss(Xt,"anonymous"!==Nn&&"custom"!==Nn?Nn:null)}if(!Ye)return null;switch(Ye){case"facebook.com":return new Us(Xt,Gt);case"github.com":return new Ge(Xt,Gt);case"google.com":return new Vt(Xt,Gt);case"twitter.com":return new pt(Xt,Gt,Ie.screenName||null);case"custom":case"anonymous":return new Ss(Xt,null);default:return new Ss(Xt,Ye,Gt)}}(re)}class Ir{constructor(Y,re,Ye){this.type=Y,this.credential=re,this.auth=Ye}static _fromIdtoken(Y,re){return new Ir("enroll",Y,re)}static _fromMfaPendingCredential(Y){return new Ir("signin",Y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(Y){var re,Ye;if(Y?.multiFactorSession){if(null!==(re=Y.multiFactorSession)&&void 0!==re&&re.pendingCredential)return Ir._fromMfaPendingCredential(Y.multiFactorSession.pendingCredential);if(null!==(Ye=Y.multiFactorSession)&&void 0!==Ye&&Ye.idToken)return Ir._fromIdtoken(Y.multiFactorSession.idToken)}return null}}class Mo{constructor(Y,re,Ye){this.session=Y,this.hints=re,this.signInResolver=Ye}static _fromError(Y,re){const Ye=Cn(Y),Gt=re.customData._serverResponse,Xt=(Gt.mfaInfo||[]).map(Jn=>Wt._fromServerResponse(Ye,Jn));ne(Gt.mfaPendingCredential,Ye,"internal-error");const Nn=Ir._fromMfaPendingCredential(Gt.mfaPendingCredential);return new Mo(Nn,Xt,function(){var Jn=(0,e.Z)(function*(fi){const Mi=yield fi._process(Ye,Nn);delete Gt.mfaInfo,delete Gt.mfaPendingCredential;const Fi=Object.assign(Object.assign({},Gt),{idToken:Mi.idToken,refreshToken:Mi.refreshToken});switch(re.operationType){case"signIn":const sr=yield yr._fromIdTokenResponse(Ye,re.operationType,Fi);return yield Ye._updateCurrentUser(sr.user),sr;case"reauthenticate":return ne(re.user,Ye,"internal-error"),yr._forOperation(re.user,re.operationType,Fi);default:S(Ye,"internal-error")}});return function(fi){return Jn.apply(this,arguments)}}())}resolveSignIn(Y){var re=this;return(0,e.Z)(function*(){return re.signInResolver(Y)})()}}function vi(Ie,Y){var re;const Ye=(0,n.m9)(Ie),Gt=Y;return ne(Y.customData.operationType,Ye,"argument-error"),ne(null===(re=Gt.customData._serverResponse)||void 0===re?void 0:re.mfaPendingCredential,Ye,"argument-error"),Mo._fromError(Ye,Gt)}class ta{constructor(Y){this.user=Y,this.enrolledFactors=[],Y._onReload(re=>{re.mfaInfo&&(this.enrolledFactors=re.mfaInfo.map(Ye=>Wt._fromServerResponse(Y.auth,Ye)))})}static _fromUser(Y){return new ta(Y)}getSession(){var Y=this;return(0,e.Z)(function*(){return Ir._fromIdtoken(yield Y.user.getIdToken(),Y.user.auth)})()}enroll(Y,re){var Ye=this;return(0,e.Z)(function*(){const Gt=Y,Xt=yield Ye.getSession(),Nn=yield Le(Ye.user,Gt._process(Ye.user.auth,Xt,re));return yield Ye.user._updateTokensIfNecessary(Nn),Ye.user.reload()})()}unenroll(Y){var re=this;return(0,e.Z)(function*(){const Ye="string"==typeof Y?Y:Y.uid,Gt=yield re.user.getIdToken();try{const Xt=yield Le(re.user,function tr(Ie,Y){return me(Ie,"POST","/v2/accounts/mfaEnrollment:withdraw",Ce(Ie,Y))}(re.user.auth,{idToken:Gt,mfaEnrollmentId:Ye}));re.enrolledFactors=re.enrolledFactors.filter(({uid:Nn})=>Nn!==Ye),yield re.user._updateTokensIfNecessary(Xt),yield re.user.reload()}catch(Xt){throw Xt}})()}}const Kr=new WeakMap;function bc(Ie){const Y=(0,n.m9)(Ie);return Kr.has(Y)||Kr.set(Y,ta._fromUser(Y)),Kr.get(Y)}const Dl="__sak";class Zl{constructor(Y,re){this.storageRetriever=Y,this.type=re}_isAvailable(){try{return this.storage?(this.storage.setItem(Dl,"1"),this.storage.removeItem(Dl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(Y,re){return this.storage.setItem(Y,JSON.stringify(re)),Promise.resolve()}_get(Y){const re=this.storage.getItem(Y);return Promise.resolve(re?JSON.parse(re):null)}_remove(Y){return this.storage.removeItem(Y),Promise.resolve()}get storage(){return this.storageRetriever()}}const ja=(()=>{class Ie extends Zl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(re,Ye)=>this.onStorageEvent(re,Ye),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ha(){const Ie=(0,n.z$)();return mt(Ie)||Tn(Ie)}()&&function ln(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=dn(),this._shouldAllowMigration=!0}forAllChangedKeys(re){for(const Ye of Object.keys(this.listeners)){const Gt=this.storage.getItem(Ye),Xt=this.localCache[Ye];Gt!==Xt&&re(Ye,Xt,Gt)}}onStorageEvent(re,Ye=!1){if(!re.key)return void this.forAllChangedKeys((Jn,fi,Mi)=>{this.notifyListeners(Jn,Mi)});const Gt=re.key;if(Ye?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Jn=this.storage.getItem(Gt);if(re.newValue!==Jn)null!==re.newValue?this.storage.setItem(Gt,re.newValue):this.storage.removeItem(Gt);else if(this.localCache[Gt]===re.newValue&&!Ye)return}const Xt=()=>{const Jn=this.storage.getItem(Gt);!Ye&&this.localCache[Gt]===Jn||this.notifyListeners(Gt,Jn)},Nn=this.storage.getItem(Gt);!function Zn(){return(0,n.w1)()&&10===document.documentMode}()||Nn===re.newValue||re.newValue===re.oldValue?Xt():setTimeout(Xt,10)}notifyListeners(re,Ye){this.localCache[re]=Ye;const Gt=this.listeners[re];if(Gt)for(const Xt of Array.from(Gt))Xt(Ye&&JSON.parse(Ye))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((re,Ye,Gt)=>{this.onStorageEvent(new StorageEvent("storage",{key:re,oldValue:Ye,newValue:Gt}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(re,Ye){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[re]||(this.listeners[re]=new Set,this.localCache[re]=this.storage.getItem(re)),this.listeners[re].add(Ye)}_removeListener(re,Ye){this.listeners[re]&&(this.listeners[re].delete(Ye),0===this.listeners[re].size&&delete this.listeners[re]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(re,Ye){var Gt=()=>super._set,Xt=this;return(0,e.Z)(function*(){yield Gt().call(Xt,re,Ye),Xt.localCache[re]=JSON.stringify(Ye)})()}_get(re){var Ye=()=>super._get,Gt=this;return(0,e.Z)(function*(){const Xt=yield Ye().call(Gt,re);return Gt.localCache[re]=JSON.stringify(Xt),Xt})()}_remove(re){var Ye=()=>super._remove,Gt=this;return(0,e.Z)(function*(){yield Ye().call(Gt,re),delete Gt.localCache[re]})()}}return Ie.type="LOCAL",Ie})(),gr=(()=>{class Ie extends Zl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(re,Ye){}_removeListener(re,Ye){}}return Ie.type="SESSION",Ie})();let il=(()=>{class Ie{constructor(re){this.eventTarget=re,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(re){const Ye=this.receivers.find(Xt=>Xt.isListeningto(re));if(Ye)return Ye;const Gt=new Ie(re);return this.receivers.push(Gt),Gt}isListeningto(re){return this.eventTarget===re}handleEvent(re){var Ye=this;return(0,e.Z)(function*(){const Gt=re,{eventId:Xt,eventType:Nn,data:Jn}=Gt.data,fi=Ye.handlersMap[Nn];if(!fi?.size)return;Gt.ports[0].postMessage({status:"ack",eventId:Xt,eventType:Nn});const Mi=Array.from(fi).map(function(){var sr=(0,e.Z)(function*(_s){return _s(Gt.origin,Jn)});return function(_s){return sr.apply(this,arguments)}}()),Fi=yield function Hc(Ie){return Promise.all(Ie.map(function(){var Y=(0,e.Z)(function*(re){try{return{fulfilled:!0,value:yield re}}catch(Ye){return{fulfilled:!1,reason:Ye}}});return function(re){return Y.apply(this,arguments)}}()))}(Mi);Gt.ports[0].postMessage({status:"done",eventId:Xt,eventType:Nn,response:Fi})})()}_subscribe(re,Ye){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[re]||(this.handlersMap[re]=new Set),this.handlersMap[re].add(Ye)}_unsubscribe(re,Ye){this.handlersMap[re]&&Ye&&this.handlersMap[re].delete(Ye),(!Ye||0===this.handlersMap[re].size)&&delete this.handlersMap[re],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return Ie.receivers=[],Ie})();function No(Ie="",Y=10){let re="";for(let Ye=0;Ye<Y;Ye++)re+=Math.floor(10*Math.random());return Ie+re}class Al{constructor(Y){this.target=Y,this.handlers=new Set}removeMessageHandler(Y){Y.messageChannel&&(Y.messageChannel.port1.removeEventListener("message",Y.onMessage),Y.messageChannel.port1.close()),this.handlers.delete(Y)}_send(Y,re,Ye=50){var Gt=this;return(0,e.Z)(function*(){const Xt=typeof MessageChannel<"u"?new MessageChannel:null;if(!Xt)throw new Error("connection_unavailable");let Nn,Jn;return new Promise((fi,Mi)=>{const Fi=No("",20);Xt.port1.start();const sr=setTimeout(()=>{Mi(new Error("unsupported_event"))},Ye);Jn={messageChannel:Xt,onMessage(_s){const oi=_s;if(oi.data.eventId===Fi)switch(oi.data.status){case"ack":clearTimeout(sr),Nn=setTimeout(()=>{Mi(new Error("timeout"))},3e3);break;case"done":clearTimeout(Nn),fi(oi.data.response);break;default:clearTimeout(sr),clearTimeout(Nn),Mi(new Error("invalid_response"))}}},Gt.handlers.add(Jn),Xt.port1.addEventListener("message",Jn.onMessage),Gt.target.postMessage({eventType:Y,eventId:Fi,data:re},[Xt.port2])}).finally(()=>{Jn&&Gt.removeMessageHandler(Jn)})})()}}function Wr(){return window}function Ec(){return typeof Wr().WorkerGlobalScope<"u"&&"function"==typeof Wr().importScripts}function to(){return(to=(0,e.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Sr="firebaseLocalStorageDb",Lo="firebaseLocalStorage",Jl="fbase_key";class ol{constructor(Y){this.request=Y}toPromise(){return new Promise((Y,re)=>{this.request.addEventListener("success",()=>{Y(this.request.result)}),this.request.addEventListener("error",()=>{re(this.request.error)})})}}function xl(Ie,Y){return Ie.transaction([Lo],Y?"readwrite":"readonly").objectStore(Lo)}function sl(){const Ie=indexedDB.open(Sr,1);return new Promise((Y,re)=>{Ie.addEventListener("error",()=>{re(Ie.error)}),Ie.addEventListener("upgradeneeded",()=>{const Ye=Ie.result;try{Ye.createObjectStore(Lo,{keyPath:Jl})}catch(Gt){re(Gt)}}),Ie.addEventListener("success",(0,e.Z)(function*(){const Ye=Ie.result;Ye.objectStoreNames.contains(Lo)?Y(Ye):(Ye.close(),yield function Ql(){const Ie=indexedDB.deleteDatabase(Sr);return new ol(Ie).toPromise()}(),Y(yield sl()))}))})}function Il(Ie,Y,re){return ga.apply(this,arguments)}function ga(){return(ga=(0,e.Z)(function*(Ie,Y,re){const Ye=xl(Ie,!0).put({[Jl]:Y,value:re});return new ol(Ye).toPromise()})).apply(this,arguments)}function na(){return(na=(0,e.Z)(function*(Ie,Y){const re=xl(Ie,!1).get(Y),Ye=yield new ol(re).toPromise();return void 0===Ye?null:Ye.value})).apply(this,arguments)}function ps(Ie,Y){const re=xl(Ie,!0).delete(Y);return new ol(re).toPromise()}const wl=(()=>{class Ie{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var re=this;return(0,e.Z)(function*(){return re.db||(re.db=yield sl()),re.db})()}_withRetries(re){var Ye=this;return(0,e.Z)(function*(){let Gt=0;for(;;)try{const Xt=yield Ye._openDb();return yield re(Xt)}catch(Xt){if(Gt++>3)throw Xt;Ye.db&&(Ye.db.close(),Ye.db=void 0)}})()}initializeServiceWorkerMessaging(){var re=this;return(0,e.Z)(function*(){return Ec()?re.initializeReceiver():re.initializeSender()})()}initializeReceiver(){var re=this;return(0,e.Z)(function*(){re.receiver=il._getInstance(function rl(){return Ec()?self:null}()),re.receiver._subscribe("keyChanged",function(){var Ye=(0,e.Z)(function*(Gt,Xt){return{keyProcessed:(yield re._poll()).includes(Xt.key)}});return function(Gt,Xt){return Ye.apply(this,arguments)}}()),re.receiver._subscribe("ping",function(){var Ye=(0,e.Z)(function*(Gt,Xt){return["keyChanged"]});return function(Gt,Xt){return Ye.apply(this,arguments)}}())})()}initializeSender(){var re=this;return(0,e.Z)(function*(){var Ye,Gt;if(re.activeServiceWorker=yield function $l(){return to.apply(this,arguments)}(),!re.activeServiceWorker)return;re.sender=new Al(re.activeServiceWorker);const Xt=yield re.sender._send("ping",{},800);Xt&&null!==(Ye=Xt[0])&&void 0!==Ye&&Ye.fulfilled&&null!==(Gt=Xt[0])&&void 0!==Gt&&Gt.value.includes("keyChanged")&&(re.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(re){var Ye=this;return(0,e.Z)(function*(){if(Ye.sender&&Ye.activeServiceWorker&&function ms(){var Ie;return(null===(Ie=navigator?.serviceWorker)||void 0===Ie?void 0:Ie.controller)||null}()===Ye.activeServiceWorker)try{yield Ye.sender._send("keyChanged",{key:re},Ye.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,e.Z)(function*(){try{if(!indexedDB)return!1;const re=yield sl();return yield Il(re,Dl,"1"),yield ps(re,Dl),!0}catch{}return!1})()}_withPendingWrite(re){var Ye=this;return(0,e.Z)(function*(){Ye.pendingWrites++;try{yield re()}finally{Ye.pendingWrites--}})()}_set(re,Ye){var Gt=this;return(0,e.Z)(function*(){return Gt._withPendingWrite((0,e.Z)(function*(){return yield Gt._withRetries(Xt=>Il(Xt,re,Ye)),Gt.localCache[re]=Ye,Gt.notifyServiceWorker(re)}))})()}_get(re){var Ye=this;return(0,e.Z)(function*(){const Gt=yield Ye._withRetries(Xt=>function al(Ie,Y){return na.apply(this,arguments)}(Xt,re));return Ye.localCache[re]=Gt,Gt})()}_remove(re){var Ye=this;return(0,e.Z)(function*(){return Ye._withPendingWrite((0,e.Z)(function*(){return yield Ye._withRetries(Gt=>ps(Gt,re)),delete Ye.localCache[re],Ye.notifyServiceWorker(re)}))})()}_poll(){var re=this;return(0,e.Z)(function*(){const Ye=yield re._withRetries(Nn=>{const Jn=xl(Nn,!1).getAll();return new ol(Jn).toPromise()});if(!Ye)return[];if(0!==re.pendingWrites)return[];const Gt=[],Xt=new Set;for(const{fbase_key:Nn,value:Jn}of Ye)Xt.add(Nn),JSON.stringify(re.localCache[Nn])!==JSON.stringify(Jn)&&(re.notifyListeners(Nn,Jn),Gt.push(Nn));for(const Nn of Object.keys(re.localCache))re.localCache[Nn]&&!Xt.has(Nn)&&(re.notifyListeners(Nn,null),Gt.push(Nn));return Gt})()}notifyListeners(re,Ye){this.localCache[re]=Ye;const Gt=this.listeners[re];if(Gt)for(const Xt of Array.from(Gt))Xt(Ye)}startPolling(){var re=this;this.stopPolling(),this.pollTimer=setInterval((0,e.Z)(function*(){return re._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(re,Ye){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[re]||(this.listeners[re]=new Set,this._get(re)),this.listeners[re].add(Ye)}_removeListener(re,Ye){this.listeners[re]&&(this.listeners[re].delete(Ye),0===this.listeners[re].size&&delete this.listeners[re]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return Ie.type="LOCAL",Ie})(),we=1e12;class it{constructor(Y){this.auth=Y,this.counter=we,this._widgets=new Map}render(Y,re){const Ye=this.counter;return this._widgets.set(Ye,new _e(Y,this.auth.name,re||{})),this.counter++,Ye}reset(Y){var re;const Ye=Y||we;null===(re=this._widgets.get(Ye))||void 0===re||re.delete(),this._widgets.delete(Ye)}getResponse(Y){var re;return(null===(re=this._widgets.get(Y||we))||void 0===re?void 0:re.getResponse())||""}execute(Y){var re=this;return(0,e.Z)(function*(){var Ye;return null===(Ye=re._widgets.get(Y||we))||void 0===Ye||Ye.execute(),""})()}}class _e{constructor(Y,re,Ye){this.params=Ye,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Gt="string"==typeof Y?document.getElementById(Y):Y;ne(Gt,"argument-error",{appName:re}),this.container=Gt,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Je(Ie){const Y=[],re="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Ye=0;Ye<Ie;Ye++)Y.push(re.charAt(Math.floor(62*Math.random())));return Y.join("")}(50);const{callback:Y,"expired-callback":re}=this.params;if(Y)try{Y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,re)try{re()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const kt=bn("rcb"),nn=new Ee(3e4,6e4);class kn{constructor(){var Y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(Y=Wr().grecaptcha)||void 0===Y||!Y.render)}load(Y,re=""){return ne(function ni(Ie){return Ie.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(Ie)}(re),Y,"argument-error"),this.shouldResolveImmediately(re)&&hn(Wr().grecaptcha)?Promise.resolve(Wr().grecaptcha):new Promise((Ye,Gt)=>{const Xt=Wr().setTimeout(()=>{Gt(L(Y,"network-request-failed"))},nn.get());Wr()[kt]=()=>{Wr().clearTimeout(Xt),delete Wr()[kt];const Jn=Wr().grecaptcha;if(!Jn||!hn(Jn))return void Gt(L(Y,"internal-error"));const fi=Jn.render;Jn.render=(Mi,Fi)=>{const sr=fi(Mi,Fi);return this.counter++,sr},this.hostLanguage=re,Ye(Jn)},Rt(`https://www.google.com/recaptcha/api.js??${(0,n.xO)({onload:kt,render:"explicit",hl:re})}`).catch(()=>{clearTimeout(Xt),Gt(L(Y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(Y){var re;return!(null===(re=Wr().grecaptcha)||void 0===re||!re.render)&&(Y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Oi{load(Y){return(0,e.Z)(function*(){return new it(Y)})()}clearedOneInstance(){}}const Ri="recaptcha",_r={theme:"light",type:"image"};class so{constructor(Y,re=Object.assign({},_r),Ye){this.parameters=re,this.type=Ri,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Cn(Ye),this.isInvisible="invisible"===this.parameters.size,ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Gt="string"==typeof Y?document.getElementById(Y):Y;ne(Gt,this.auth,"argument-error"),this.container=Gt,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Oi:new kn,this.validateStartingState()}verify(){var Y=this;return(0,e.Z)(function*(){Y.assertNotDestroyed();const re=yield Y.render(),Ye=Y.getAssertedRecaptcha();return Ye.getResponse(re)||new Promise(Xt=>{const Nn=Jn=>{Jn&&(Y.tokenChangeListeners.delete(Nn),Xt(Jn))};Y.tokenChangeListeners.add(Nn),Y.isInvisible&&Ye.execute(re)})})()}render(){try{this.assertNotDestroyed()}catch(Y){return Promise.reject(Y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(Y=>{throw this.renderPromise=null,Y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(Y=>{this.container.removeChild(Y)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(Y){return re=>{if(this.tokenChangeListeners.forEach(Ye=>Ye(re)),"function"==typeof Y)Y(re);else if("string"==typeof Y){const Ye=Wr()[Y];"function"==typeof Ye&&Ye(re)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var Y=this;return(0,e.Z)(function*(){if(yield Y.init(),!Y.widgetId){let re=Y.container;if(!Y.isInvisible){const Ye=document.createElement("div");re.appendChild(Ye),re=Ye}Y.widgetId=Y.getAssertedRecaptcha().render(re,Y.parameters)}return Y.widgetId})()}init(){var Y=this;return(0,e.Z)(function*(){ne(ce()&&!Ec(),Y.auth,"internal-error"),yield function ra(){let Ie=null;return new Promise(Y=>{"complete"!==document.readyState?(Ie=()=>Y(),window.addEventListener("load",Ie)):Y()}).catch(Y=>{throw Ie&&window.removeEventListener("load",Ie),Y})}(),Y.recaptcha=yield Y._recaptchaLoader.load(Y.auth,Y.auth.languageCode||void 0);const re=yield function sn(Ie){return cn.apply(this,arguments)}(Y.auth);ne(re,Y.auth,"internal-error"),Y.parameters.sitekey=re})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Cs{constructor(Y,re){this.verificationId=Y,this.onConfirmation=re}confirm(Y){const re=zr._fromVerification(this.verificationId,Y);return this.onConfirmation(re)}}function _a(Ie,Y,re){return oa.apply(this,arguments)}function oa(){return(oa=(0,e.Z)(function*(Ie,Y,re){const Ye=Cn(Ie),Gt=yield wa(Ye,Y,(0,n.m9)(re));return new Cs(Gt,Xt=>Jo(Ye,Xt))})).apply(this,arguments)}function gs(Ie,Y,re){return ll.apply(this,arguments)}function ll(){return(ll=(0,e.Z)(function*(Ie,Y,re){const Ye=(0,n.m9)(Ie);yield jo(!1,Ye,"phone");const Gt=yield wa(Ye.auth,Y,(0,n.m9)(re));return new Cs(Gt,Xt=>Js(Ye,Xt))})).apply(this,arguments)}function Ia(Ie,Y,re){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,e.Z)(function*(Ie,Y,re){const Ye=(0,n.m9)(Ie),Gt=yield wa(Ye.auth,Y,(0,n.m9)(re));return new Cs(Gt,Xt=>ks(Ye,Xt))})).apply(this,arguments)}function wa(Ie,Y,re){return Pa.apply(this,arguments)}function Pa(){return Pa=(0,e.Z)(function*(Ie,Y,re){var Ye;const Gt=yield re.verify();try{let Xt;if(ne("string"==typeof Gt,Ie,"argument-error"),ne(re.type===Ri,Ie,"argument-error"),Xt="string"==typeof Y?{phoneNumber:Y}:Y,"session"in Xt){const Nn=Xt.session;if("phoneNumber"in Xt)return ne("enroll"===Nn.type,Ie,"internal-error"),(yield function ea(Ie,Y){return me(Ie,"POST","/v2/accounts/mfaEnrollment:start",Ce(Ie,Y))}(Ie,{idToken:Nn.credential,phoneEnrollmentInfo:{phoneNumber:Xt.phoneNumber,recaptchaToken:Gt}})).phoneSessionInfo.sessionInfo;{ne("signin"===Nn.type,Ie,"internal-error");const Jn=(null===(Ye=Xt.multiFactorHint)||void 0===Ye?void 0:Ye.uid)||Xt.multiFactorUid;return ne(Jn,Ie,"missing-multi-factor-info"),(yield function jc(Ie,Y){return me(Ie,"POST","/v2/accounts/mfaSignIn:start",Ce(Ie,Y))}(Ie,{mfaPendingCredential:Nn.credential,mfaEnrollmentId:Jn,phoneSignInInfo:{recaptchaToken:Gt}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Nn}=yield function wi(Ie,Y){return Hi.apply(this,arguments)}(Ie,{phoneNumber:Xt.phoneNumber,recaptchaToken:Gt});return Nn}}finally{re._reset()}}),Pa.apply(this,arguments)}function Xl(Ie,Y){return ec.apply(this,arguments)}function ec(){return(ec=(0,e.Z)(function*(Ie,Y){yield Io((0,n.m9)(Ie),Y)})).apply(this,arguments)}let Ld=(()=>{class Ie{constructor(re){this.providerId=Ie.PROVIDER_ID,this.auth=Cn(re)}verifyPhoneNumber(re,Ye){return wa(this.auth,re,(0,n.m9)(Ye))}static credential(re,Ye){return zr._fromVerification(re,Ye)}static credentialFromResult(re){return Ie.credentialFromTaggedObject(re)}static credentialFromError(re){return Ie.credentialFromTaggedObject(re.customData||{})}static credentialFromTaggedObject({_tokenResponse:re}){if(!re)return null;const{phoneNumber:Ye,temporaryProof:Gt}=re;return Ye&&Gt?zr._fromTokenResponse(Ye,Gt):null}}return Ie.PROVIDER_ID="phone",Ie.PHONE_SIGN_IN_METHOD="phone",Ie})();function br(Ie,Y){return Y?vt(Y):(ne(Ie._popupRedirectResolver,Ie,"argument-error"),Ie._popupRedirectResolver)}class Ko extends Ar{constructor(Y){super("custom","custom"),this.params=Y}_getIdTokenResponse(Y){return vn(Y,this._buildIdpRequest())}_linkToIdToken(Y,re){return vn(Y,this._buildIdpRequest(re))}_getReauthenticationResolver(Y){return vn(Y,this._buildIdpRequest())}_buildIdpRequest(Y){const re={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return Y&&(re.idToken=Y),re}}function Wo(Ie){return hs(Ie.auth,new Ko(Ie),Ie.bypassAuthState)}function Vc(Ie){const{auth:Y,user:re}=Ie;return ne(re,Y,"internal-error"),pa(re,new Ko(Ie),Ie.bypassAuthState)}function cl(Ie){return sa.apply(this,arguments)}function sa(){return(sa=(0,e.Z)(function*(Ie){const{auth:Y,user:re}=Ie;return ne(re,Y,"internal-error"),Io(re,new Ko(Ie),Ie.bypassAuthState)})).apply(this,arguments)}class dl{constructor(Y,re,Ye,Gt,Xt=!1){this.auth=Y,this.resolver=Ye,this.user=Gt,this.bypassAuthState=Xt,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(re)?re:[re]}execute(){var Y=this;return new Promise(function(){var re=(0,e.Z)(function*(Ye,Gt){Y.pendingPromise={resolve:Ye,reject:Gt};try{Y.eventManager=yield Y.resolver._initialize(Y.auth),yield Y.onExecution(),Y.eventManager.registerConsumer(Y)}catch(Xt){Y.reject(Xt)}});return function(Ye,Gt){return re.apply(this,arguments)}}())}onAuthEvent(Y){var re=this;return(0,e.Z)(function*(){const{urlResponse:Ye,sessionId:Gt,postBody:Xt,tenantId:Nn,error:Jn,type:fi}=Y;if(Jn)return void re.reject(Jn);const Mi={auth:re.auth,requestUri:Ye,sessionId:Gt,tenantId:Nn||void 0,postBody:Xt||void 0,user:re.user,bypassAuthState:re.bypassAuthState};try{re.resolve(yield re.getIdpTask(fi)(Mi))}catch(Fi){re.reject(Fi)}})()}onError(Y){this.reject(Y)}getIdpTask(Y){switch(Y){case"signInViaPopup":case"signInViaRedirect":return Wo;case"linkViaPopup":case"linkViaRedirect":return cl;case"reauthViaPopup":case"reauthViaRedirect":return Vc;default:S(this.auth,"internal-error")}}resolve(Y){Me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(Y),this.unregisterAndCleanUp()}reject(Y){Me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(Y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Kc=new Ee(2e3,1e4);function Ds(Ie,Y,re){return aa.apply(this,arguments)}function aa(){return(aa=(0,e.Z)(function*(Ie,Y,re){const Ye=Cn(Ie);U(Ie,Y,$o);const Gt=br(Ye,re);return new Pl(Ye,"signInViaPopup",Y,Gt).executeNotNull()})).apply(this,arguments)}function ud(Ie,Y,re){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,e.Z)(function*(Ie,Y,re){const Ye=(0,n.m9)(Ie);U(Ye.auth,Y,$o);const Gt=br(Ye.auth,re);return new Pl(Ye.auth,"reauthViaPopup",Y,Gt,Ye).executeNotNull()})).apply(this,arguments)}function kd(Ie,Y,re){return ul.apply(this,arguments)}function ul(){return(ul=(0,e.Z)(function*(Ie,Y,re){const Ye=(0,n.m9)(Ie);U(Ye.auth,Y,$o);const Gt=br(Ye.auth,re);return new Pl(Ye.auth,"linkViaPopup",Y,Gt,Ye).executeNotNull()})).apply(this,arguments)}let Pl=(()=>{class Ie extends dl{constructor(re,Ye,Gt,Xt,Nn){super(re,Ye,Xt,Nn),this.provider=Gt,this.authWindow=null,this.pollId=null,Ie.currentPopupAction&&Ie.currentPopupAction.cancel(),Ie.currentPopupAction=this}executeNotNull(){var re=this;return(0,e.Z)(function*(){const Ye=yield re.execute();return ne(Ye,re.auth,"internal-error"),Ye})()}onExecution(){var re=this;return(0,e.Z)(function*(){Me(1===re.filter.length,"Popup operations only handle one event");const Ye=No();re.authWindow=yield re.resolver._openPopup(re.auth,re.provider,re.filter[0],Ye),re.authWindow.associatedEvent=Ye,re.resolver._originValidation(re.auth).catch(Gt=>{re.reject(Gt)}),re.resolver._isIframeWebStorageSupported(re.auth,Gt=>{Gt||re.reject(L(re.auth,"web-storage-unsupported"))}),re.pollUserCancellation()})()}get eventId(){var re;return(null===(re=this.authWindow)||void 0===re?void 0:re.associatedEvent)||null}cancel(){this.reject(L(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ie.currentPopupAction=null}pollUserCancellation(){const re=()=>{var Ye,Gt;this.pollId=null!==(Gt=null===(Ye=this.authWindow)||void 0===Ye?void 0:Ye.window)&&void 0!==Gt&&Gt.closed?window.setTimeout(()=>{this.pollId=null,this.reject(L(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(re,Kc.get())};re()}}return Ie.currentPopupAction=null,Ie})();const As="pendingRedirect",la=new Map;class Wc extends dl{constructor(Y,re,Ye=!1){super(Y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],re,void 0,Ye),this.eventId=null}execute(){var Y=()=>super.execute,re=this;return(0,e.Z)(function*(){let Ye=la.get(re.auth._key());if(!Ye){try{const Xt=(yield function du(Ie,Y){return fl.apply(this,arguments)}(re.resolver,re.auth))?yield Y().call(re):null;Ye=()=>Promise.resolve(Xt)}catch(Gt){Ye=()=>Promise.reject(Gt)}la.set(re.auth._key(),Ye)}return re.bypassAuthState||la.set(re.auth._key(),()=>Promise.resolve(null)),Ye()})()}onAuthEvent(Y){var re=()=>super.onAuthEvent,Ye=this;return(0,e.Z)(function*(){if("signInViaRedirect"===Y.type)return re().call(Ye,Y);if("unknown"!==Y.type){if(Y.eventId){const Gt=yield Ye.auth._redirectUserForId(Y.eventId);if(Gt)return Ye.user=Gt,re().call(Ye,Y);Ye.resolve(null)}}else Ye.resolve(null)})()}onExecution(){return(0,e.Z)(function*(){})()}cleanUp(){}}function fl(){return(fl=(0,e.Z)(function*(Ie,Y){const re=Ui(Y),Ye=vr(Ie);if(!(yield Ye._isAvailable()))return!1;const Gt="true"===(yield Ye._get(re));return yield Ye._remove(re),Gt})).apply(this,arguments)}function Yc(Ie,Y){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,e.Z)(function*(Ie,Y){return vr(Ie)._set(Ui(Y),"true")})).apply(this,arguments)}function fd(){la.clear()}function hd(Ie,Y){la.set(Ie._key(),Y)}function vr(Ie){return vt(Ie._redirectPersistence)}function Ui(Ie){return Ke(As,Ie.config.apiKey,Ie.name)}function zc(Ie,Y,re){return function Ol(Ie,Y,re){return tc.apply(this,arguments)}(Ie,Y,re)}function tc(){return(tc=(0,e.Z)(function*(Ie,Y,re){const Ye=Cn(Ie);U(Ie,Y,$o),yield Ye._initializationPromise;const Gt=br(Ye,re);return yield Yc(Gt,Ye),Gt._openRedirect(Ye,Y,"signInViaRedirect")})).apply(this,arguments)}function Va(Ie,Y,re){return function Zc(Ie,Y,re){return va.apply(this,arguments)}(Ie,Y,re)}function va(){return(va=(0,e.Z)(function*(Ie,Y,re){const Ye=(0,n.m9)(Ie);U(Ye.auth,Y,$o),yield Ye.auth._initializationPromise;const Gt=br(Ye.auth,re);yield Yc(Gt,Ye.auth);const Xt=yield Mc(Ye);return Gt._openRedirect(Ye.auth,Y,"reauthViaRedirect",Xt)})).apply(this,arguments)}function nc(Ie,Y,re){return function md(Ie,Y,re){return $c.apply(this,arguments)}(Ie,Y,re)}function $c(){return($c=(0,e.Z)(function*(Ie,Y,re){const Ye=(0,n.m9)(Ie);U(Ye.auth,Y,$o),yield Ye.auth._initializationPromise;const Gt=br(Ye.auth,re);yield jo(!1,Ye,Y.providerId),yield Yc(Gt,Ye.auth);const Xt=yield Mc(Ye);return Gt._openRedirect(Ye.auth,Y,"linkViaRedirect",Xt)})).apply(this,arguments)}function xs(Ie,Y){return hl.apply(this,arguments)}function hl(){return(hl=(0,e.Z)(function*(Ie,Y){return yield Cn(Ie)._initializationPromise,Oa(Ie,Y,!1)})).apply(this,arguments)}function Oa(Ie,Y){return ya.apply(this,arguments)}function ya(){return(ya=(0,e.Z)(function*(Ie,Y,re=!1){const Ye=Cn(Ie),Gt=br(Ye,Y),Nn=yield new Wc(Ye,Gt,re).execute();return Nn&&!re&&(delete Nn.user._redirectEventId,yield Ye._persistUserIfCurrent(Nn.user),yield Ye._setRedirectUser(null,Y)),Nn})).apply(this,arguments)}function Mc(Ie){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,e.Z)(function*(Ie){const Y=No(`${Ie.uid}:::`);return Ie._redirectEventId=Y,yield Ie.auth._setRedirectUser(Ie),yield Ie.auth._persistUserIfCurrent(Ie),Y})).apply(this,arguments)}class pd{constructor(Y){this.auth=Y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(Y){this.consumers.add(Y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,Y)&&(this.sendToConsumer(this.queuedRedirectEvent,Y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(Y){this.consumers.delete(Y)}onEvent(Y){if(this.hasEventBeenHandled(Y))return!1;let re=!1;return this.consumers.forEach(Ye=>{this.isEventForConsumer(Y,Ye)&&(re=!0,this.sendToConsumer(Y,Ye),this.saveEventToCache(Y))}),this.hasHandledPotentialRedirect||!function Fd(Ie){switch(Ie.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nl(Ie);default:return!1}}(Y)||(this.hasHandledPotentialRedirect=!0,re||(this.queuedRedirectEvent=Y,re=!0)),re}sendToConsumer(Y,re){var Ye;if(Y.error&&!Nl(Y)){const Gt=(null===(Ye=Y.error.code)||void 0===Ye?void 0:Ye.split("auth/")[1])||"internal-error";re.onError(L(this.auth,Gt))}else re.onAuthEvent(Y)}isEventForConsumer(Y,re){const Ye=null===re.eventId||!!Y.eventId&&Y.eventId===re.eventId;return re.filter.includes(Y.type)&&Ye}hasEventBeenHandled(Y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ic(Y))}saveEventToCache(Y){this.cachedEventUids.add(ic(Y)),this.lastProcessedEventTime=Date.now()}}function ic(Ie){return[Ie.type,Ie.eventId,Ie.sessionId,Ie.tenantId].filter(Y=>Y).join("-")}function Nl({type:Ie,error:Y}){return"unknown"===Ie&&"auth/no-auth-event"===Y?.code}function Jc(Ie){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,e.Z)(function*(Ie,Y={}){return me(Ie,"GET","/v1/projects",Y)})).apply(this,arguments)}const uu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fu=/^https?/;function gd(){return(gd=(0,e.Z)(function*(Ie){if(Ie.config.emulator)return;const{authorizedDomains:Y}=yield Jc(Ie);for(const re of Y)try{if(oc(re))return}catch{}S(Ie,"unauthorized-domain")})).apply(this,arguments)}function oc(Ie){const Y=J(),{protocol:re,hostname:Ye}=new URL(Y);if(Ie.startsWith("chrome-extension://")){const Nn=new URL(Ie);return""===Nn.hostname&&""===Ye?"chrome-extension:"===re&&Ie.replace("chrome-extension://","")===Y.replace("chrome-extension://",""):"chrome-extension:"===re&&Nn.hostname===Ye}if(!fu.test(re))return!1;if(uu.test(Ie))return Ye===Ie;const Gt=Ie.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Gt+"|"+Gt+")$","i").test(Ye)}const Po=new Ee(3e4,6e4);function _d(){const Ie=Wr().___jsl;if(Ie?.H)for(const Y of Object.keys(Ie.H))if(Ie.H[Y].r=Ie.H[Y].r||[],Ie.H[Y].L=Ie.H[Y].L||[],Ie.H[Y].r=[...Ie.H[Y].L],Ie.CP)for(let re=0;re<Ie.CP.length;re++)Ie.CP[re]=null}let ca=null;const _o=new Ee(5e3,15e3),no="__/auth/iframe",Ka="emulator/auth/iframe",Wa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bd(Ie){const Y=Ie.config;ne(Y.authDomain,Ie,"auth-domain-config-required");const re=Y.emulator?xe(Y,Ka):`https://${Ie.config.authDomain}/${no}`,Ye={apiKey:Y.apiKey,appName:Ie.name,v:b.SDK_VERSION},Gt=sc.get(Ie.config.apiHost);Gt&&(Ye.eid=Gt);const Xt=Ie._getFrameworks();return Xt.length&&(Ye.fw=Xt.join(",")),`${re}?${(0,n.xO)(Ye).slice(1)}`}function je(){return je=(0,e.Z)(function*(Ie){const Y=yield function da(Ie){return ca=ca||function Ll(Ie){return new Promise((Y,re)=>{var Ye,Gt,Xt;function Nn(){_d(),gapi.load("gapi.iframes",{callback:()=>{Y(gapi.iframes.getContext())},ontimeout:()=>{_d(),re(L(Ie,"network-request-failed"))},timeout:Po.get()})}if(null!==(Gt=null===(Ye=Wr().gapi)||void 0===Ye?void 0:Ye.iframes)&&void 0!==Gt&&Gt.Iframe)Y(gapi.iframes.getContext());else{if(null===(Xt=Wr().gapi)||void 0===Xt||!Xt.load){const Jn=bn("iframefcb");return Wr()[Jn]=()=>{gapi.load?Nn():re(L(Ie,"network-request-failed"))},Rt(`https://apis.google.com/js/api.js?onload=${Jn}`).catch(fi=>re(fi))}Nn()}}).catch(Y=>{throw ca=null,Y})}(Ie),ca}(Ie),re=Wr().gapi;return ne(re,Ie,"internal-error"),Y.open({where:document.body,url:Bd(Ie),messageHandlersFilter:re.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wa,dontclear:!0},Ye=>new Promise(function(){var Gt=(0,e.Z)(function*(Xt,Nn){yield Ye.restyle({setHideOnLeave:!1});const Jn=L(Ie,"network-request-failed"),fi=Wr().setTimeout(()=>{Nn(Jn)},_o.get());function Mi(){Wr().clearTimeout(fi),Xt(Ye)}Ye.ping(Mi).then(Mi,()=>{Nn(Jn)})});return function(Xt,Nn){return Gt.apply(this,arguments)}}()))}),je.apply(this,arguments)}const st={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qn{constructor(Y){this.window=Y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ti="__/auth/handler",Vi="emulator/auth/handler",Yi=encodeURIComponent("fac");function So(Ie,Y,re,Ye,Gt,Xt){return io.apply(this,arguments)}function io(){return(io=(0,e.Z)(function*(Ie,Y,re,Ye,Gt,Xt){ne(Ie.config.authDomain,Ie,"auth-domain-config-required"),ne(Ie.config.apiKey,Ie,"invalid-api-key");const Nn={apiKey:Ie.config.apiKey,appName:Ie.name,authType:re,redirectUrl:Ye,v:b.SDK_VERSION,eventId:Gt};if(Y instanceof $o){Y.setDefaultLanguage(Ie.languageCode),Nn.providerId=Y.providerId||"",(0,n.xb)(Y.getCustomParameters())||(Nn.customParameters=JSON.stringify(Y.getCustomParameters()));for(const[Fi,sr]of Object.entries(Xt||{}))Nn[Fi]=sr}if(Y instanceof ns){const Fi=Y.getScopes().filter(sr=>""!==sr);Fi.length>0&&(Nn.scopes=Fi.join(","))}Ie.tenantId&&(Nn.tid=Ie.tenantId);const Jn=Nn;for(const Fi of Object.keys(Jn))void 0===Jn[Fi]&&delete Jn[Fi];const fi=yield Ie._getAppCheckToken(),Mi=fi?`#${Yi}=${encodeURIComponent(fi)}`:"";return`${function pl({config:Ie}){return Ie.emulator?xe(Ie,Vi):`https://${Ie.authDomain}/${Ti}`}(Ie)}?${(0,n.xO)(Jn).slice(1)}${Mi}`})).apply(this,arguments)}const Yo="webStorageSupport",Rr=class gl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gr,this._completeRedirectFn=Oa,this._overrideRedirectResult=hd}_openPopup(Y,re,Ye,Gt){var Xt=this;return(0,e.Z)(function*(){var Nn;Me(null===(Nn=Xt.eventManagers[Y._key()])||void 0===Nn?void 0:Nn.manager,"_initialize() not called before _openPopup()");const Jn=yield So(Y,re,Ye,J(),Gt);return function Ei(Ie,Y,re,Ye=500,Gt=600){const Xt=Math.max((window.screen.availHeight-Gt)/2,0).toString(),Nn=Math.max((window.screen.availWidth-Ye)/2,0).toString();let Jn="";const fi=Object.assign(Object.assign({},st),{width:Ye.toString(),height:Gt.toString(),top:Xt,left:Nn}),Mi=(0,n.z$)().toLowerCase();re&&(Jn=_t(Mi)?"_blank":re),yt(Mi)&&(Y=Y||"http://localhost",fi.scrollbars="yes");const Fi=Object.entries(fi).reduce((_s,[oi,Xc])=>`${_s}${oi}=${Xc},`,"");if(function Gn(Ie=(0,n.z$)()){var Y;return Tn(Ie)&&!(null===(Y=window.navigator)||void 0===Y||!Y.standalone)}(Mi)&&"_self"!==Jn)return function di(Ie,Y){const re=document.createElement("a");re.href=Ie,re.target=Y;const Ye=document.createEvent("MouseEvent");Ye.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),re.dispatchEvent(Ye)}(Y||"",Jn),new Qn(null);const sr=window.open(Y||"",Jn,Fi);ne(sr,Ie,"popup-blocked");try{sr.focus()}catch{}return new Qn(sr)}(Y,Jn,No())})()}_openRedirect(Y,re,Ye,Gt){var Xt=this;return(0,e.Z)(function*(){return yield Xt._originValidation(Y),function xa(Ie){Wr().location.href=Ie}(yield So(Y,re,Ye,J(),Gt)),new Promise(()=>{})})()}_initialize(Y){const re=Y._key();if(this.eventManagers[re]){const{manager:Gt,promise:Xt}=this.eventManagers[re];return Gt?Promise.resolve(Gt):(Me(Xt,"If manager is not set, promise should be"),Xt)}const Ye=this.initAndGetManager(Y);return this.eventManagers[re]={promise:Ye},Ye.catch(()=>{delete this.eventManagers[re]}),Ye}initAndGetManager(Y){var re=this;return(0,e.Z)(function*(){const Ye=yield function Qc(Ie){return je.apply(this,arguments)}(Y),Gt=new pd(Y);return Ye.register("authEvent",Xt=>(ne(Xt?.authEvent,Y,"invalid-auth-event"),{status:Gt.onEvent(Xt.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),re.eventManagers[Y._key()]={manager:Gt},re.iframes[Y._key()]=Ye,Gt})()}_isIframeWebStorageSupported(Y,re){this.iframes[Y._key()].send(Yo,{type:Yo},Gt=>{var Xt;const Nn=null===(Xt=Gt?.[0])||void 0===Xt?void 0:Xt[Yo];void 0!==Nn&&re(!!Nn),S(Y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(Y){const re=Y._key();return this.originValidationPromises[re]||(this.originValidationPromises[re]=function rc(Ie){return gd.apply(this,arguments)}(Y)),this.originValidationPromises[re]}get _shouldInitProactively(){return dn()||mt()||Tn()}};class _l{constructor(Y){this.factorId=Y}_process(Y,re,Ye){switch(re.type){case"enroll":return this._finalizeEnroll(Y,re.credential,Ye);case"signin":return this._finalizeSignIn(Y,re.credential);default:return te("unexpected MultiFactorSessionType")}}}class vl extends _l{constructor(Y){super("phone"),this.credential=Y}static _fromCredential(Y){return new vl(Y)}_finalizeEnroll(Y,re,Ye){return function qo(Ie,Y){return me(Ie,"POST","/v2/accounts/mfaEnrollment:finalize",Ce(Ie,Y))}(Y,{idToken:re,displayName:Ye,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(Y,re){return function Sc(Ie,Y){return me(Ie,"POST","/v2/accounts/mfaSignIn:finalize",Ce(Ie,Y))}(Y,{mfaPendingCredential:re,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ac=(()=>{class Ie{constructor(){}static assertion(re){return vl._fromCredential(re)}}return Ie.FACTOR_ID="phone",Ie})();var Gs="@firebase/auth";class Uf{constructor(Y){this.auth=Y,this.internalListeners=new Map}getUid(){var Y;return this.assertAuthConfigured(),(null===(Y=this.auth.currentUser)||void 0===Y?void 0:Y.uid)||null}getToken(Y){var re=this;return(0,e.Z)(function*(){return re.assertAuthConfigured(),yield re.auth._initializationPromise,re.auth.currentUser?{accessToken:yield re.auth.currentUser.getIdToken(Y)}:null})()}addAuthTokenListener(Y){if(this.assertAuthConfigured(),this.internalListeners.has(Y))return;const re=this.auth.onIdTokenChanged(Ye=>{Y(Ye?.stsTokenManager.accessToken||null)});this.internalListeners.set(Y,re),this.updateProactiveRefresh()}removeAuthTokenListener(Y){this.assertAuthConfigured();const re=this.internalListeners.get(Y);re&&(this.internalListeners.delete(Y),re(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,n.Pz)("authIdTokenMaxAge"),function ao(Ie){(0,b._registerComponent)(new x.wA("auth",(Y,{options:re})=>{const Ye=Y.getProvider("app").getImmediate(),Gt=Y.getProvider("heartbeat"),Xt=Y.getProvider("app-check-internal"),{apiKey:Nn,authDomain:Jn}=Ye.options;ne(Nn&&!Nn.includes(":"),"invalid-api-key",{appName:Ye.name});const fi={apiKey:Nn,authDomain:Jn,clientPlatform:Ie,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:un(Ie)},Mi=new Ft(Ye,Gt,Xt,fi);return function At(Ie,Y){const re=Y?.persistence||[],Ye=(Array.isArray(re)?re:[re]).map(vt);Y?.errorMap&&Ie._updateErrorMap(Y.errorMap),Ie._initializeWithPersistence(Ye,Y?.popupRedirectResolver)}(Mi,re),Mi},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Y,re,Ye)=>{Y.getProvider("auth-internal").initialize()})),(0,b._registerComponent)(new x.wA("auth-internal",Y=>{const re=Cn(Y.getProvider("auth").getImmediate());return new Uf(re)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,b.registerVersion)(Gs,"0.23.2",function rm(Ie){switch(Ie){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ie)),(0,b.registerVersion)(Gs,"0.23.2","esm2017")}("Browser")},9058:(Hn,Xe,v)=>{"use strict";v.d(Xe,{$s:()=>vt,BH:()=>C,L:()=>d,LL:()=>De,Pz:()=>L,UG:()=>te,US:()=>x,ZB:()=>p,ZR:()=>me,aH:()=>S,b$:()=>ce,eu:()=>fe,hl:()=>Ve,jU:()=>Me,m9:()=>Ke,ne:()=>Le,pd:()=>Te,r3:()=>ge,ru:()=>J,tV:()=>i,uI:()=>ne,vZ:()=>$,w1:()=>Se,xO:()=>X,xb:()=>Q,z$:()=>z,zI:()=>Pe,zd:()=>pe});const A=function(rt){const ot=[];let yt=0;for(let mt=0;mt<rt.length;mt++){let _t=rt.charCodeAt(mt);_t<128?ot[yt++]=_t:_t<2048?(ot[yt++]=_t>>6|192,ot[yt++]=63&_t|128):55296==(64512&_t)&&mt+1<rt.length&&56320==(64512&rt.charCodeAt(mt+1))?(_t=65536+((1023&_t)<<10)+(1023&rt.charCodeAt(++mt)),ot[yt++]=_t>>18|240,ot[yt++]=_t>>12&63|128,ot[yt++]=_t>>6&63|128,ot[yt++]=63&_t|128):(ot[yt++]=_t>>12|224,ot[yt++]=_t>>6&63|128,ot[yt++]=63&_t|128)}return ot},x={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(rt,ot){if(!Array.isArray(rt))throw Error("encodeByteArray takes an array as a parameter");this.init_();const yt=ot?this.byteToCharMapWebSafe_:this.byteToCharMap_,mt=[];for(let _t=0;_t<rt.length;_t+=3){const qt=rt[_t],fn=_t+1<rt.length,Qt=fn?rt[_t+1]:0,gn=_t+2<rt.length,Tn=gn?rt[_t+2]:0;let Zn=(15&Qt)<<2|Tn>>6,dn=63&Tn;gn||(dn=64,fn||(Zn=64)),mt.push(yt[qt>>2],yt[(3&qt)<<4|Qt>>4],yt[Zn],yt[dn])}return mt.join("")},encodeString(rt,ot){return this.HAS_NATIVE_SUPPORT&&!ot?btoa(rt):this.encodeByteArray(A(rt),ot)},decodeString(rt,ot){return this.HAS_NATIVE_SUPPORT&&!ot?atob(rt):function(rt){const ot=[];let yt=0,mt=0;for(;yt<rt.length;){const _t=rt[yt++];if(_t<128)ot[mt++]=String.fromCharCode(_t);else if(_t>191&&_t<224){const qt=rt[yt++];ot[mt++]=String.fromCharCode((31&_t)<<6|63&qt)}else if(_t>239&&_t<365){const gn=((7&_t)<<18|(63&rt[yt++])<<12|(63&rt[yt++])<<6|63&rt[yt++])-65536;ot[mt++]=String.fromCharCode(55296+(gn>>10)),ot[mt++]=String.fromCharCode(56320+(1023&gn))}else{const qt=rt[yt++],fn=rt[yt++];ot[mt++]=String.fromCharCode((15&_t)<<12|(63&qt)<<6|63&fn)}}return ot.join("")}(this.decodeStringToByteArray(rt,ot))},decodeStringToByteArray(rt,ot){this.init_();const yt=ot?this.charToByteMapWebSafe_:this.charToByteMap_,mt=[];for(let _t=0;_t<rt.length;){const qt=yt[rt.charAt(_t++)],Qt=_t<rt.length?yt[rt.charAt(_t)]:0;++_t;const Tn=_t<rt.length?yt[rt.charAt(_t)]:64;++_t;const Gn=_t<rt.length?yt[rt.charAt(_t)]:64;if(++_t,null==qt||null==Qt||null==Tn||null==Gn)throw new w;mt.push(qt<<2|Qt>>4),64!==Tn&&(mt.push(Qt<<4&240|Tn>>2),64!==Gn&&mt.push(Tn<<6&192|Gn))}return mt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let rt=0;rt<this.ENCODED_VALS.length;rt++)this.byteToCharMap_[rt]=this.ENCODED_VALS.charAt(rt),this.charToByteMap_[this.byteToCharMap_[rt]]=rt,this.byteToCharMapWebSafe_[rt]=this.ENCODED_VALS_WEBSAFE.charAt(rt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[rt]]=rt,rt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(rt)]=rt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(rt)]=rt)}}};class w extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d=function(rt){return function(rt){const ot=A(rt);return x.encodeByteArray(ot,!0)}(rt).replace(/\./g,"")},i=function(rt){try{return x.decodeString(rt,!0)}catch(ot){console.error("base64Decode failed: ",ot)}return null};function p(rt,ot){if(!(ot instanceof Object))return ot;switch(ot.constructor){case Date:return new Date(ot.getTime());case Object:void 0===rt&&(rt={});break;case Array:rt=[];break;default:return ot}for(const yt in ot)!ot.hasOwnProperty(yt)||!T(yt)||(rt[yt]=p(rt[yt],ot[yt]));return rt}function T(rt){return"__proto__"!==rt}const O=()=>{try{return function B(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const rt=process.env.__FIREBASE_DEFAULTS__;return rt?JSON.parse(rt):void 0})()||(()=>{if(typeof document>"u")return;let rt;try{rt=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ot=rt&&i(rt[1]);return ot&&JSON.parse(ot)})()}catch(rt){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${rt}`)}},S=()=>{var rt;return null===(rt=O())||void 0===rt?void 0:rt.config},L=rt=>{var ot;return null===(ot=O())||void 0===ot?void 0:ot[`_${rt}`]};class C{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ot,yt)=>{this.resolve=ot,this.reject=yt})}wrapCallback(ot){return(yt,mt)=>{yt?this.reject(yt):this.resolve(mt),"function"==typeof ot&&(this.promise.catch(()=>{}),1===ot.length?ot(yt):ot(yt,mt))}}}function z(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(z())}function te(){var rt;const ot=null===(rt=O())||void 0===rt?void 0:rt.forceEnvironment;if("node"===ot)return!0;if("browser"===ot)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Me(){return"object"==typeof self&&self.self===self}function J(){const rt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof rt&&void 0!==rt.id}function ce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Se(){const rt=z();return rt.indexOf("MSIE ")>=0||rt.indexOf("Trident/")>=0}function Ve(){try{return"object"==typeof indexedDB}catch{return!1}}function fe(){return new Promise((rt,ot)=>{try{let yt=!0;const mt="validate-browser-context-for-indexeddb-analytics-module",_t=self.indexedDB.open(mt);_t.onsuccess=()=>{_t.result.close(),yt||self.indexedDB.deleteDatabase(mt),rt(!0)},_t.onupgradeneeded=()=>{yt=!1},_t.onerror=()=>{var qt;ot((null===(qt=_t.error)||void 0===qt?void 0:qt.message)||"")}}catch(yt){ot(yt)}})}function Pe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class me extends Error{constructor(ot,yt,mt){super(yt),this.code=ot,this.customData=mt,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,De.prototype.create)}}class De{constructor(ot,yt,mt){this.service=ot,this.serviceName=yt,this.errors=mt}create(ot,...yt){const mt=yt[0]||{},_t=`${this.service}/${ot}`,qt=this.errors[ot],fn=qt?function Re(rt,ot){return rt.replace(Fe,(yt,mt)=>{const _t=ot[mt];return null!=_t?String(_t):`<${mt}?>`})}(qt,mt):"Error";return new me(_t,`${this.serviceName}: ${fn} (${_t}).`,mt)}}const Fe=/\{\$([^}]+)}/g;function ge(rt,ot){return Object.prototype.hasOwnProperty.call(rt,ot)}function Q(rt){for(const ot in rt)if(Object.prototype.hasOwnProperty.call(rt,ot))return!1;return!0}function $(rt,ot){if(rt===ot)return!0;const yt=Object.keys(rt),mt=Object.keys(ot);for(const _t of yt){if(!mt.includes(_t))return!1;const qt=rt[_t],fn=ot[_t];if(ie(qt)&&ie(fn)){if(!$(qt,fn))return!1}else if(qt!==fn)return!1}for(const _t of mt)if(!yt.includes(_t))return!1;return!0}function ie(rt){return null!==rt&&"object"==typeof rt}function X(rt){const ot=[];for(const[yt,mt]of Object.entries(rt))Array.isArray(mt)?mt.forEach(_t=>{ot.push(encodeURIComponent(yt)+"="+encodeURIComponent(_t))}):ot.push(encodeURIComponent(yt)+"="+encodeURIComponent(mt));return ot.length?"&"+ot.join("&"):""}function pe(rt){const ot={};return rt.replace(/^\?/,"").split("&").forEach(mt=>{if(mt){const[_t,qt]=mt.split("=");ot[decodeURIComponent(_t)]=decodeURIComponent(qt)}}),ot}function Te(rt){const ot=rt.indexOf("?");if(!ot)return"";const yt=rt.indexOf("#",ot);return rt.substring(ot,yt>0?yt:void 0)}function Le(rt,ot){const yt=new et(rt,ot);return yt.subscribe.bind(yt)}class et{constructor(ot,yt){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=yt,this.task.then(()=>{ot(this)}).catch(mt=>{this.error(mt)})}next(ot){this.forEachObserver(yt=>{yt.next(ot)})}error(ot){this.forEachObserver(yt=>{yt.error(ot)}),this.close(ot)}complete(){this.forEachObserver(ot=>{ot.complete()}),this.close()}subscribe(ot,yt,mt){let _t;if(void 0===ot&&void 0===yt&&void 0===mt)throw new Error("Missing Observer.");_t=function qe(rt,ot){if("object"!=typeof rt||null===rt)return!1;for(const yt of ot)if(yt in rt&&"function"==typeof rt[yt])return!0;return!1}(ot,["next","error","complete"])?ot:{next:ot,error:yt,complete:mt},void 0===_t.next&&(_t.next=ft),void 0===_t.error&&(_t.error=ft),void 0===_t.complete&&(_t.complete=ft);const qt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?_t.error(this.finalError):_t.complete()}catch{}}),this.observers.push(_t),qt}unsubscribeOne(ot){void 0===this.observers||void 0===this.observers[ot]||(delete this.observers[ot],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ot){if(!this.finalized)for(let yt=0;yt<this.observers.length;yt++)this.sendOne(yt,ot)}sendOne(ot,yt){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ot])try{yt(this.observers[ot])}catch(mt){typeof console<"u"&&console.error&&console.error(mt)}})}close(ot){this.finalized||(this.finalized=!0,void 0!==ot&&(this.finalError=ot),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ft(){}const Kt=1e3,pn=2,rn=144e5,xt=.5;function vt(rt,ot=Kt,yt=pn){const mt=ot*Math.pow(yt,rt),_t=Math.round(xt*mt*(Math.random()-.5)*2);return Math.min(rn,mt+_t)}function Ke(rt){return rt&&rt._delegate?rt._delegate:rt}},2392:(Hn,Xe,v)=>{"use strict";v.d(Xe,{E:()=>x});var e=v(5879),n=v(5612),b=v(9397),A=v(4001),_=v(1270);const x=(w,g)=>{const d=(0,e.f3M)(n.F0),i=(0,e.f3M)(A.F),h=(0,e.f3M)(_.K);return null!=localStorage.getItem("apiToken")?!!h.calledGetUserData||h.isCompletedCallGetUserData().pipe((0,b.b)(p=>null!=i.userData||d.navigateByUrl("/landing"))):d.navigateByUrl("/landing")}},8832:(Hn,Xe,v)=>{"use strict";v.d(Xe,{a:()=>A});var e=v(863),n=v(5879),b=v(6294);let A=(()=>{class _{constructor(w){this.restProvider=w}getDetailsByCatalogId(w){return new Promise((g,d)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/catalogs/GetDetailsByCatalogAsync/"+w).then(i=>{g(i)},i=>{d(i)})})}getAllCatalogDetailsByCatalogIds(w){return new Promise((g,d)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/catalogs/GetAllCatalogDetailsByCatalogIds?catalogIds="+w).then(i=>{g(i)},i=>{d(i)})})}static#e=this.\u0275fac=function(g){return new(g||_)(n.LFG(b.C))};static#t=this.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},4444:(Hn,Xe,v)=>{"use strict";v.d(Xe,{m:()=>De});var e=v(1476),n=v(7700),b=v(8923),A=v(2877),_=v(5313),x=v(3566),w=v(9604),g=v(95),d=v(5550),i=v(5879),h=v(3946),p=v(3931),T=v(2067),B=v(9768),P=v(6814),k=v(2032),F=v(4170);function O(Re,Fe){1&Re&&(i.TgZ(0,"mat-error"),i._uU(1," Nombre es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function D(Re,Fe){if(1&Re){const Ne=i.EpF();i.TgZ(0,"form",1),i.NdJ("ngSubmit",function(){i.CHM(Ne);const Be=i.oxw();return i.KtG(Be.saveItem())}),i.TgZ(1,"div",2)(2,"h5",3),i._uU(3),i.qZA(),i.TgZ(4,"button",4),i.NdJ("click",function(){i.CHM(Ne);const Be=i.oxw();return i.KtG(Be.closeModal())}),i._UZ(5,"i",5),i.qZA()(),i.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),i._uU(9,"Nombre"),i.qZA(),i._UZ(10,"input",7),i.YNc(11,O,4,0,"mat-error",8),i.qZA()(),i.TgZ(12,"div",9)(13,"button",10),i.NdJ("click",function(){i.CHM(Ne);const Be=i.oxw();return i.KtG(Be.closeModal())}),i._uU(14,"Close"),i.qZA(),i.TgZ(15,"button",11),i._uU(16,"Guardar"),i.qZA()()(),i._UZ(17,"app-custom-spinner",12)}if(2&Re){const Ne=i.oxw();i.Q6J("formGroup",Ne.genreFormGroup),i.xp6(3),i.Oqu(Ne.genre&&Ne.genre.Id>0?"Editar":"Nuevo"),i.xp6(7),i.Q6J("errorStateMatcher",Ne.matcher),i.xp6(1),i.Q6J("ngIf",Ne.genreFormGroup.controls.name.hasError("required")),i.xp6(4),i.Q6J("disabled",Ne.showLoading||!Ne.genreFormGroup.valid),i.xp6(2),i.Q6J("showLoading",Ne.showLoading)}}let I=(()=>{class Re{constructor(Ne,at,Be,ye){this.formBuilder=Ne,this.activeModal=at,this.snackbarService=Be,this.genreService=ye,this.showLoading=!1,this.matcher=new d.n}ngOnInit(){}ngAfterViewInit(){this.genreFormGroup=this.formBuilder.group({name:new g.NI(this.genre.Name,[g.kI.required])})}saveItem(){if(this.genreFormGroup.valid){this.showLoading=!0;var Ne=JSON.parse(JSON.stringify(this.genre));Ne.Name=this.genreFormGroup.value.name,this.genreService.saveItem(Ne).then(at=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el genre satisfactoriamente",w.dA.Success),this.activeModal.close()},at=>{this.showLoading=!1,console.error(at)})}else this.genreFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(at){return new(at||Re)(i.Y36(g.qu),i.Y36(h.Kz),i.Y36(p.c),i.Y36(T.c))};static#t=this.\u0275cmp=i.Xpm({type:Re,selectors:[["app-genre-form"]],inputs:{genre:"genre"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(at,Be){1&at&&i.YNc(0,D,18,6,"ng-template",0),2&at&&i.Q6J("ngIf",null!=Be.genre&&Be.genreFormGroup)},dependencies:[g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,B.D,P.O5,k.Nt,F.KE,F.hX,F.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return Re})();class S{}var L=v(5612),C=v(5986),U=v(5940),z=v(2596);function ne(Re,Fe){1&Re&&(i.TgZ(0,"div",32),i._UZ(1,"mat-spinner"),i.qZA())}function te(Re,Fe){if(1&Re){const Ne=i.EpF();i.TgZ(0,"th",33)(1,"mat-checkbox",34),i.NdJ("change",function(Be){i.CHM(Ne);const ye=i.oxw();return i.KtG(Be?ye.toggleAllRows():null)}),i.qZA()()}if(2&Re){const Ne=i.oxw();i.xp6(1),i.Q6J("checked",Ne.selection.hasValue()&&Ne.isAllSelected())("indeterminate",Ne.selection.hasValue()&&!Ne.isAllSelected())}}function Me(Re,Fe){if(1&Re){const Ne=i.EpF();i.TgZ(0,"td",35)(1,"mat-checkbox",36),i.NdJ("click",function(Be){const ve=i.CHM(Ne).$implicit,K=i.oxw();return i.KtG(K.onChangeCheckValue(Be,ve))}),i.qZA()()}if(2&Re){const Ne=Fe.$implicit,at=i.oxw();i.xp6(1),i.Q6J("checked",at.selection.isSelected(Ne))}}function J(Re,Fe){1&Re&&(i.TgZ(0,"th",37),i._uU(1,"N\xb0"),i.qZA())}function ce(Re,Fe){if(1&Re&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&Re){const Ne=Fe.index,at=i.oxw();i.xp6(1),i.hij(" ",at.getElementNumber(Ne,at.currentPage,at.itemsPerPage),"")}}function W(Re,Fe){1&Re&&(i.TgZ(0,"th",39),i._uU(1," Nombre "),i.qZA())}function Se(Re,Fe){if(1&Re&&(i.TgZ(0,"td",40),i._uU(1),i.qZA()),2&Re){const Ne=Fe.$implicit;i.xp6(1),i.hij(" ",Ne.Name," ")}}function le(Re,Fe){1&Re&&i._UZ(0,"th",41)}function Ee(Re,Fe){if(1&Re){const Ne=i.EpF();i.TgZ(0,"td",42)(1,"div",43)(2,"button",44),i.NdJ("click",function(){const ye=i.CHM(Ne).$implicit,ve=i.oxw();return i.KtG(ve.editItem(ye))}),i._UZ(3,"i",45),i.qZA(),i.TgZ(4,"button",46),i.NdJ("click",function(){const ye=i.CHM(Ne).$implicit,ve=i.oxw();return i.KtG(ve.deleteItem(ye))}),i._UZ(5,"i",7),i.qZA()()()}}function xe(Re,Fe){1&Re&&i._UZ(0,"tr",47)}function Ve(Re,Fe){1&Re&&i._UZ(0,"tr",48)}function fe(Re,Fe){1&Re&&(i.TgZ(0,"td",51),i._uU(1,"No se encontraron datos"),i.qZA())}function Pe(Re,Fe){if(1&Re&&(i.TgZ(0,"tr",49),i.YNc(1,fe,2,0,"td",50),i.qZA()),2&Re){const Ne=i.oxw();i.xp6(1),i.Q6J("ngIf",!Ne.showLoading)}}const Ce=function(Re){return{disable:Re}},me=function(){return[5,10,25,100]};let De=(()=>{class Re extends A.G{constructor(Ne,at,Be,ye,ve,K){super(ye),this.router=Ne,this.modalService=at,this.dialog=Be,this.matPaginatorIntl=ye,this.snackbarService=ve,this.genreService=K,this.displayedColumns=["Select","Id","Name","Actions"]}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(Ne=>{this.updatePageData(Ne),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Ne=>{this.currentPage=1,this.sortBy=Ne.active,this.sortDirection=Ne.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(Ne){this.searchText=Ne.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var Ne=new S;this.showModalForm(Ne)}editItem(Ne){this.showModalForm(Ne)}showModalForm(Ne){var at=this,Be=this.modalService.open(I,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});Be.componentInstance.genre=Ne,Be.closed.subscribe(ye=>{at.getAllItems()})}getAllItems(){this.showLoading=!0,this.genreService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Ne=>{this.showLoading=!1;var at=Ne.Data;this.totalCount=Ne.TotalCount,this.listItems=at,this.dataSource=new _.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Ne=>{this.showLoading=!1})}deleteItem(Ne){var at=new n.vA;at.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+Ne.Name+"?",accordMessage:"Si, eliminar el rol '"+Ne.Name+"'"},this.dialog.open(b.k,at).afterClosed().subscribe(Be=>{Be&&this.executeDeleteItem(Ne)})}executeDeleteItem(Ne){this.showLoading=!0,this.genreService.deleteItem(Ne.Id).then(at=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",w.dA.Success),this.getAllItems()},at=>{this.showLoading=!1,this.snackbarService.showSnackBar(at,w.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Ne=new n.vA;Ne.data={title:"Eliminar genres",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(b.k,Ne).afterClosed().subscribe(at=>{at&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.genreService.deleteItems(this.selection.selected).then(Ne=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",w.dA.Success),this.getAllItems()},Ne=>{this.showLoading=!1,this.snackbarService.showSnackBar(Ne,w.dA.Error)})}static#e=this.\u0275fac=function(at){return new(at||Re)(i.Y36(L.F0),i.Y36(h.FF),i.Y36(n.uw),i.Y36(e.ye),i.Y36(p.c),i.Y36(T.c))};static#t=this.\u0275cmp=i.Xpm({type:Re,selectors:[["app-genre-list"]],viewQuery:function(at,Be){if(1&at&&(i.Gf(e.NW,5),i.Gf(x.YE,5)),2&at){let ye;i.iGM(ye=i.CRH())&&(Be.paginator=ye.first),i.iGM(ye=i.CRH())&&(Be.sort=ye.first)}},features:[i.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(at,Be){1&at&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),i._uU(3," G\xe9neros"),i.qZA()(),i.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),i.NdJ("click",function(){return Be.showNewItem()}),i._UZ(8,"i",5),i.qZA(),i.TgZ(9,"button",6),i.NdJ("click",function(){return Be.deleteSelectedItems()}),i._UZ(10,"i",7),i.qZA()(),i._UZ(11,"div",8),i.qZA(),i.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),i._uU(16,"Buscar"),i.qZA(),i.TgZ(17,"input",10,11),i.NdJ("keyup",function(ve){return Be.applyFilter(ve)}),i.qZA()(),i.TgZ(19,"div",12),i.YNc(20,ne,2,0,"div",13),i.TgZ(21,"div",14)(22,"table",15),i.ynx(23,16),i.YNc(24,te,2,2,"th",17),i.YNc(25,Me,2,1,"td",18),i.BQk(),i.ynx(26,19),i.YNc(27,J,2,0,"th",20),i.YNc(28,ce,2,1,"td",21),i.BQk(),i.ynx(29,22),i.YNc(30,W,2,0,"th",23),i.YNc(31,Se,2,1,"td",24),i.BQk(),i.ynx(32,25),i.YNc(33,le,1,0,"th",26),i.YNc(34,Ee,6,0,"td",27),i.BQk(),i.YNc(35,xe,1,0,"tr",28),i.YNc(36,Ve,1,0,"tr",29),i.YNc(37,Pe,2,1,"tr",30),i.qZA()()()()(),i.TgZ(38,"div",1)(39,"div",9),i._UZ(40,"mat-paginator",31),i.qZA()()()()),2&at&&(i.xp6(9),i.Q6J("ngClass",i.VKq(7,Ce,!Be.selection.hasValue())),i.xp6(11),i.Q6J("ngIf",Be.showLoading),i.xp6(2),i.Q6J("dataSource",Be.dataSource),i.xp6(13),i.Q6J("matHeaderRowDef",Be.displayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",Be.displayedColumns),i.xp6(4),i.Q6J("color","primary")("pageSizeOptions",i.DdM(9,me)))},dependencies:[P.mk,P.O5,e.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,_.Ee,k.Nt,F.KE,F.hX,x.YE,x.nU,C.oG,U.Ou,z.gM],styles:["h3[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#fff}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}"]})}return Re})()},298:(Hn,Xe,v)=>{"use strict";v.d(Xe,{I:()=>w});var e=v(5879),n=v(3946),b=v(6814),A=v(5986);function _(g,d){if(1&g){const i=e.EpF();e.TgZ(0,"p")(1,"mat-checkbox",10),e.NdJ("click",function(p){const B=e.CHM(i).$implicit,P=e.oxw(2);return e.KtG(P.onChangeCheckValue(p,B))}),e._uU(2),e.qZA()()}if(2&g){const i=d.$implicit,h=e.oxw(2);e.xp6(1),e.Q6J("checked",h.selection.isSelected(i)),e.xp6(1),e.Oqu(i.Name)}}function x(g,d){if(1&g){const i=e.EpF();e.TgZ(0,"div",1)(1,"h5",2),e._uU(2),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){e.CHM(i);const p=e.oxw();return e.KtG(p.closeModal())}),e._UZ(4,"i",4),e.qZA()(),e.TgZ(5,"div",5),e.YNc(6,_,3,2,"ng-template",6),e.qZA(),e.TgZ(7,"div",7)(8,"button",8),e.NdJ("click",function(){e.CHM(i);const p=e.oxw();return e.KtG(p.closeModal())}),e._uU(9,"Close"),e.qZA(),e.TgZ(10,"button",9),e.NdJ("click",function(){e.CHM(i);const p=e.oxw();return e.KtG(p.onSaveSelection())}),e._uU(11,"Guardar"),e.qZA()()}if(2&g){const i=e.oxw();e.xp6(2),e.Oqu("G\xe9neros"),e.xp6(4),e.Q6J("ngForOf",i.listAllGenres)}}let w=(()=>{class g{constructor(i){this.activeModal=i}closeModal(){this.activeModal.dismiss()}onSaveSelection(){this.activeModal.close(this.selection.selected)}onChangeCheckValue(i,h){i.target.checked?this.selection.select(h):this.selection.deselect(h)}static#e=this.\u0275fac=function(h){return new(h||g)(e.Y36(n.Kz))};static#t=this.\u0275cmp=e.Xpm({type:g,selectors:[["app-genres-selection-modal"]],inputs:{listAllGenres:"listAllGenres",selection:"selection"},decls:2,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["ngFor","",3,"ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"checked","click"]],template:function(h,p){1&h&&(e.YNc(0,x,12,2,"ng-template",0),e._uU(1," <\n")),2&h&&e.Q6J("ngIf",null!=p.listAllGenres)},dependencies:[b.sg,b.O5,A.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}"]})}return g})()},2067:(Hn,Xe,v)=>{"use strict";v.d(Xe,{c:()=>_});var e=v(863),n=v(2372),b=v(5879),A=v(6294);let _=(()=>{class x{constructor(g){this.restProvider=g}getAllGenres(){return new Promise((g,d)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/genres/GetAllAsync").then(i=>{g(i)},i=>{console.error(i),d(i)})})}getItems(g,d,i,h,p,T){return new Promise((B,P)=>{let k=(0,n.Z)();this.lastCallGuid=k;var F="?page="+g.toString()+"&take="+d.toString()+"&sortBy="+i+"&sortDirection="+h+"&searchText="+p+"&searchBy="+T;this.restProvider.executeSinovadApiService(e.yw.GET,"/genres/GetAllWithPaginationAsync"+F).then(D=>{this.lastCallGuid==k&&B(D)},D=>{console.error(D),P(D)})})}saveItem(g){return new Promise((d,i)=>{this.restProvider.executeSinovadApiService(g.Id>0?e.yw.PUT:e.yw.POST,g.Id>0?"/genres/Update":"/genres/Create",g).then(T=>{d(!0)},T=>{console.error(T),i(T)})})}deleteItem(g){return new Promise((d,i)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/genres/Delete/"+g).then(p=>{d(p)},p=>{console.error(p),i(p)})})}deleteItems(g){return new Promise((d,i)=>{let h=[];for(let B=0;B<g.length;B++)h.push(g[B].Id);var p=h.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/genres/DeleteList/"+p).then(B=>{d(B)},B=>{console.error(B),i(B)})})}static#e=this.\u0275fac=function(d){return new(d||x)(b.LFG(A.C))};static#t=this.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},9871:(Hn,Xe,v)=>{"use strict";v.d(Xe,{b:()=>oe});var e=v(2877),n=v(1476),b=v(3566),A=v(7700),_=v(863),x=v(95),w=v(9604),g=v(5550),d=v(5879),i=v(6294),h=v(3946),p=v(3931),T=v(5864),B=v(9768),P=v(6814),k=v(2032),F=v(4170),O=v(5986),D=v(3680),I=v(8525);function S(Q,q){1&Q&&(d.TgZ(0,"mat-error"),d._uU(1," T\xedtulo es "),d.TgZ(2,"strong"),d._uU(3,"requerido"),d.qZA()())}function L(Q,q){if(1&Q&&(d.TgZ(0,"mat-option",12),d._uU(1),d.qZA()),2&Q){const $=q.$implicit;d.Q6J("value",$.Id),d.xp6(1),d.hij(" ",$.Name," ")}}function C(Q,q){if(1&Q&&(d.TgZ(0,"mat-option",12),d._uU(1),d.qZA()),2&Q){const $=q.$implicit;d.Q6J("value",$.Id),d.xp6(1),d.hij(" ",$.Title," ")}}function U(Q,q){if(1&Q){const $=d.EpF();d.TgZ(0,"form",1),d.NdJ("ngSubmit",function(){d.CHM($);const Z=d.oxw();return d.KtG(Z.saveItem())}),d.TgZ(1,"div",2)(2,"h5",3),d._uU(3),d.qZA(),d.TgZ(4,"button",4),d.NdJ("click",function(){d.CHM($);const Z=d.oxw();return d.KtG(Z.closeModal())}),d._UZ(5,"i",5),d.qZA()(),d.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),d._uU(9,"T\xedtulo"),d.qZA(),d._UZ(10,"input",7),d.YNc(11,S,4,0,"mat-error",8),d.qZA(),d.TgZ(12,"mat-form-field")(13,"mat-label"),d._uU(14,"Path"),d.qZA(),d._UZ(15,"input",9),d.qZA(),d.TgZ(16,"mat-form-field")(17,"mat-label"),d._uU(18,"N\xfamero de Orden"),d.qZA(),d._UZ(19,"input",10),d.qZA(),d.TgZ(20,"mat-form-field")(21,"mat-label"),d._uU(22,"Tipo de \xcdcono"),d.qZA(),d.TgZ(23,"mat-select",11)(24,"mat-option",12),d._uU(25,"--"),d.qZA(),d.YNc(26,L,2,2,"mat-option",13),d.qZA()(),d.TgZ(27,"mat-form-field")(28,"mat-label"),d._uU(29,"Icon Class"),d.qZA(),d._UZ(30,"input",14),d.qZA(),d.TgZ(31,"mat-form-field")(32,"mat-label"),d._uU(33,"Menu Padre"),d.qZA(),d.TgZ(34,"mat-select",15)(35,"mat-option",12),d._uU(36,"--"),d.qZA(),d.YNc(37,C,2,2,"mat-option",13),d.qZA()(),d.TgZ(38,"mat-checkbox",16),d._uU(39,"Activo"),d.qZA()(),d.TgZ(40,"div",17)(41,"button",18),d.NdJ("click",function(){d.CHM($);const Z=d.oxw();return d.KtG(Z.closeModal())}),d._uU(42,"Cerrar"),d.qZA(),d.TgZ(43,"button",19),d._uU(44,"Guardar"),d.qZA()()(),d._UZ(45,"app-custom-spinner",20)}if(2&Q){const $=d.oxw();d.Q6J("formGroup",$.menuFormGroup),d.xp6(3),d.Oqu($.menu.Id>0?"Editar":"Nuevo"),d.xp6(7),d.Q6J("errorStateMatcher",$.matcher),d.xp6(1),d.Q6J("ngIf",$.menuFormGroup.controls.title.hasError("required")),d.xp6(13),d.Q6J("value",void 0),d.xp6(2),d.Q6J("ngForOf",$.listIconTypes),d.xp6(9),d.Q6J("value",void 0),d.xp6(2),d.Q6J("ngForOf",$.listMenusSelectable),d.xp6(6),d.Q6J("disabled",$.showLoading||!$.menuFormGroup.valid),d.xp6(2),d.Q6J("showLoading",$.showLoading)}}let z=(()=>{class Q{constructor($,ie,Z,X,pe){this.restProvider=$,this.formBuilder=ie,this.activeModal=Z,this.snackbarService=X,this.menuService=pe,this.showLoading=!1,this.matcher=new g.n}ngOnInit(){this.getAllMenus(),this.getIconTypes()}getAllMenus(){this.menuService.getAllMenus().then($=>{this.listMenusSelectable=$.Data.filter(Z=>Z.Id!=this.menu.Id)},$=>{console.error($)})}getIconTypes(){this.restProvider.executeSinovadApiService(_.yw.GET,"/catalogs/GetDetailsByCatalogAsync/"+_.P9.IconTypes).then(ie=>{this.listIconTypes=ie.Data},ie=>{console.error(ie)})}ngAfterViewInit(){this.menuFormGroup=this.formBuilder.group({title:new x.NI(this.menu.Title,[x.kI.required]),path:new x.NI(this.menu.Path),iconType:new x.NI(this.menu.IconTypeCatalogDetailId),iconClass:new x.NI(this.menu.IconClass),sortOrder:new x.NI(this.menu.SortOrder),parentId:new x.NI(this.menu.ParentId),enabled:new x.NI(this.menu.Enabled)})}saveItem(){if(this.menuFormGroup.valid){this.showLoading=!0;var $=JSON.parse(JSON.stringify(this.menu));$.Title=this.menuFormGroup.value.title,$.Path=this.menuFormGroup.value.path,$.IconClass=this.menuFormGroup.value.iconClass,$.SortOrder=this.menuFormGroup.value.sortOrder,null!=this.menuFormGroup.value.iconType?($.IconTypeCatalogId=_.P9.IconTypes,$.IconTypeCatalogDetailId=this.menuFormGroup.value.iconType):($.IconTypeCatalogId=void 0,$.IconTypeCatalogDetailId=void 0),$.ParentId=this.menuFormGroup.value.parentId,$.Enabled=this.menuFormGroup.value.enabled,this.menuService.saveItem($).then(ie=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el menu satisfactoriamente",w.dA.Success),this.menuService.getManageMenu(),this.activeModal.close()},ie=>{this.showLoading=!1,console.error(ie)})}else this.menuFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(ie){return new(ie||Q)(d.Y36(i.C),d.Y36(x.qu),d.Y36(h.Kz),d.Y36(p.c),d.Y36(T.h))};static#t=this.\u0275cmp=d.Xpm({type:Q,selectors:[["app-menu-form"]],inputs:{menu:"menu"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["id","path","matInput","","formControlName","path"],["id","sortOrder","type","number","matInput","","formControlName","sortOrder"],["formControlName","iconType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["id","iconClass","matInput","","formControlName","iconClass"],["formControlName","parentId"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(ie,Z){1&ie&&d.YNc(0,U,46,10,"ng-template",0),2&ie&&d.Q6J("ngIf",null!=Z.menu&&Z.menuFormGroup)},dependencies:[x._Y,x.Fj,x.wV,x.JJ,x.JL,x.sg,x.u,B.D,P.sg,P.O5,k.Nt,F.KE,F.hX,F.TO,O.oG,D.ey,I.gD],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}.form-check-input[_ngcontent-%COMP%]{width:18px;height:18px}form[_ngcontent-%COMP%]{display:contents}"]})}return Q})();var ne=v(5313),te=v(8923),Me=v(3826),J=v(5940),ce=v(2596);function W(Q,q){1&Q&&(d.TgZ(0,"div",41),d._UZ(1,"mat-spinner"),d.qZA())}function Se(Q,q){if(1&Q){const $=d.EpF();d.TgZ(0,"th",42)(1,"mat-checkbox",43),d.NdJ("change",function(Z){d.CHM($);const X=d.oxw();return d.KtG(Z?X.toggleAllRows():null)}),d.qZA()()}if(2&Q){const $=d.oxw();d.xp6(1),d.Q6J("checked",$.selection.hasValue()&&$.isAllSelected())("indeterminate",$.selection.hasValue()&&!$.isAllSelected())}}function le(Q,q){if(1&Q){const $=d.EpF();d.TgZ(0,"td",44)(1,"mat-checkbox",45),d.NdJ("click",function(Z){const pe=d.CHM($).$implicit,Te=d.oxw();return d.KtG(Te.onChangeCheckValue(Z,pe))}),d.qZA()()}if(2&Q){const $=q.$implicit,ie=d.oxw();d.xp6(1),d.Q6J("checked",ie.selection.isSelected($))}}function Ee(Q,q){1&Q&&(d.TgZ(0,"th",46),d._uU(1,"N\xb0"),d.qZA())}function xe(Q,q){if(1&Q&&(d.TgZ(0,"td",47),d._uU(1),d.qZA()),2&Q){const $=q.index,ie=d.oxw();d.xp6(1),d.hij(" ",ie.getElementNumber($,ie.currentPage,ie.itemsPerPage),"")}}function Ve(Q,q){1&Q&&(d.TgZ(0,"th",48),d._uU(1,"T\xedtulo"),d.qZA())}function fe(Q,q){if(1&Q&&(d.TgZ(0,"td",49),d._uU(1),d.qZA()),2&Q){const $=q.$implicit;d.xp6(1),d.hij(" ",$.Title," ")}}function Pe(Q,q){1&Q&&(d.TgZ(0,"th",50),d._uU(1,"Path"),d.qZA())}function Ce(Q,q){if(1&Q&&(d.TgZ(0,"td",51),d._uU(1),d.qZA()),2&Q){const $=q.$implicit;d.xp6(1),d.hij(" ",$.Path," ")}}function me(Q,q){1&Q&&(d.TgZ(0,"th",52),d._uU(1,"\xcdcono"),d.qZA())}function De(Q,q){if(1&Q&&(d.TgZ(0,"td",53),d._uU(1),d.qZA()),2&Q){const $=q.$implicit;d.xp6(1),d.hij(" ",$.IconClass," ")}}function Re(Q,q){1&Q&&(d.TgZ(0,"th",54),d._uU(1,"Orden"),d.qZA())}function Fe(Q,q){if(1&Q&&(d.TgZ(0,"td",55),d._uU(1),d.qZA()),2&Q){const $=q.$implicit;d.xp6(1),d.hij(" ",$.SortOrder," ")}}function Ne(Q,q){1&Q&&d._UZ(0,"th",56)}function at(Q,q){if(1&Q){const $=d.EpF();d.TgZ(0,"td",57)(1,"div",58)(2,"button",59),d.NdJ("click",function(){const X=d.CHM($).$implicit,pe=d.oxw();return d.KtG(pe.editItem(X))}),d._UZ(3,"i",60),d.qZA(),d.TgZ(4,"button",61),d.NdJ("click",function(){const X=d.CHM($).$implicit,pe=d.oxw();return d.KtG(pe.deleteItem(X))}),d._UZ(5,"i",7),d.qZA()()()}}function Be(Q,q){1&Q&&d._UZ(0,"tr",62)}function ye(Q,q){1&Q&&d._UZ(0,"tr",63)}function ve(Q,q){1&Q&&(d.TgZ(0,"td",66),d._uU(1,"No se encontraron datos"),d.qZA())}function K(Q,q){if(1&Q&&(d.TgZ(0,"tr",64),d.YNc(1,ve,2,0,"td",65),d.qZA()),2&Q){const $=d.oxw();d.xp6(1),d.Q6J("ngIf",!$.showLoading)}}const se=function(Q){return{disable:Q}},ge=function(){return[5,10,25,100]};let oe=(()=>{class Q extends e.G{constructor($,ie,Z,X,pe){super(Z),this.modalService=$,this.dialog=ie,this.matPaginatorIntl=Z,this.snackbarService=X,this.menuService=pe}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe($=>{this.updatePageData($),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe($=>{this.currentPage=1,this.sortBy=$.active,this.sortDirection=$.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter($){this.searchText=$.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var $=new Me.v;$.Enabled=!0,this.showModalForm($)}editItem($){this.showModalForm($)}showModalForm($){var ie=this,Z=this.modalService.open(z,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});Z.componentInstance.menu=$,Z.closed.subscribe(X=>{ie.getAllItems()})}getAllItems(){this.showLoading=!0,this.menuService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then($=>{this.showLoading=!1;var ie=$.Data;this.totalCount=$.TotalCount,this.listItems=ie,this.dataSource=new ne.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},$=>{this.showLoading=!1})}deleteItem($){var ie=new A.vA;ie.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el menu "+$.Title+"?",accordMessage:"Si, eliminar el menu '"+$.Title+"'"},this.dialog.open(te.k,ie).afterClosed().subscribe(Z=>{Z&&this.executeDeleteItem($)})}executeDeleteItem($){this.showLoading=!0,this.menuService.deleteItem($.Id).then(ie=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",w.dA.Success),this.getAllItems()},ie=>{this.showLoading=!1,this.snackbarService.showSnackBar(ie,w.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var $=new A.vA;$.data={title:"Eliminar menus",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(te.k,$).afterClosed().subscribe(ie=>{ie&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.menuService.deleteItems(this.selection.selected).then($=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",w.dA.Success),this.getAllItems()},$=>{this.showLoading=!1,this.snackbarService.showSnackBar($,w.dA.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","Path","IconClass","SortOrder","Actions"]:window.innerWidth>875?["Select","Id","Title","Path","IconClass","Actions"]:window.innerWidth>495?["Select","Id","Title","Path","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(ie){return new(ie||Q)(d.Y36(h.FF),d.Y36(A.uw),d.Y36(n.ye),d.Y36(p.c),d.Y36(T.h))};static#t=this.\u0275cmp=d.Xpm({type:Q,selectors:[["app-menu-list"]],viewQuery:function(ie,Z){if(1&ie&&(d.Gf(n.NW,5),d.Gf(b.YE,5)),2&ie){let X;d.iGM(X=d.CRH())&&(Z.paginator=X.first),d.iGM(X=d.CRH())&&(Z.sort=X.first)}},features:[d.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Path"],["mat-header-cell","","mat-sort-header","","style","min-width:100px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","IconClass"],["mat-header-cell","","mat-sort-header","","style","min-width:180px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:180px;text-align: left;",4,"matCellDef"],["matColumnDef","SortOrder"],["mat-header-cell","","mat-sort-header","","style","max-width:70px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:70px;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","100px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","180px","text-align","left"],["mat-cell","",2,"min-width","180px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","70px","text-align","left"],["mat-cell","",2,"max-width","70px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(ie,Z){1&ie&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),d._uU(3,"Menus"),d.qZA()(),d.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),d.NdJ("click",function(){return Z.showNewItem()}),d._UZ(8,"i",5),d.qZA(),d.TgZ(9,"button",6),d.NdJ("click",function(){return Z.deleteSelectedItems()}),d._UZ(10,"i",7),d.qZA()(),d._UZ(11,"div",8),d.qZA(),d.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),d._uU(16,"Buscar"),d.qZA(),d.TgZ(17,"input",10,11),d.NdJ("keyup",function(pe){return Z.applyFilter(pe)}),d.qZA()(),d.TgZ(19,"div",12),d.YNc(20,W,2,0,"div",13),d.TgZ(21,"div",14)(22,"table",15),d.ynx(23,16),d.YNc(24,Se,2,2,"th",17),d.YNc(25,le,2,1,"td",18),d.BQk(),d.ynx(26,19),d.YNc(27,Ee,2,0,"th",20),d.YNc(28,xe,2,1,"td",21),d.BQk(),d.ynx(29,22),d.YNc(30,Ve,2,0,"th",23),d.YNc(31,fe,2,1,"td",24),d.BQk(),d.ynx(32,25),d.YNc(33,Pe,2,0,"th",26),d.YNc(34,Ce,2,1,"td",27),d.BQk(),d.ynx(35,28),d.YNc(36,me,2,0,"th",29),d.YNc(37,De,2,1,"td",30),d.BQk(),d.ynx(38,31),d.YNc(39,Re,2,0,"th",32),d.YNc(40,Fe,2,1,"td",33),d.BQk(),d.ynx(41,34),d.YNc(42,Ne,1,0,"th",35),d.YNc(43,at,6,0,"td",36),d.BQk(),d.YNc(44,Be,1,0,"tr",37),d.YNc(45,ye,1,0,"tr",38),d.YNc(46,K,2,1,"tr",39),d.qZA()()()()(),d.TgZ(47,"div",1)(48,"div",9),d._UZ(49,"mat-paginator",40),d.qZA()()()()),2&ie&&(d.xp6(9),d.Q6J("ngClass",d.VKq(7,se,!Z.selection.hasValue())),d.xp6(11),d.Q6J("ngIf",Z.showLoading),d.xp6(2),d.Q6J("dataSource",Z.dataSource),d.xp6(22),d.Q6J("matHeaderRowDef",Z.getDisplayedColumns()),d.xp6(1),d.Q6J("matRowDefColumns",Z.getDisplayedColumns()),d.xp6(4),d.Q6J("color","primary")("pageSizeOptions",d.DdM(9,ge)))},dependencies:[P.mk,P.O5,n.NW,ne.BZ,ne.fO,ne.as,ne.w1,ne.Dz,ne.nj,ne.ge,ne.ev,ne.XQ,ne.Gk,ne.Ee,k.Nt,F.KE,F.hX,b.YE,b.nU,O.oG,J.Ou,ce.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return Q})()},3826:(Hn,Xe,v)=>{"use strict";v.d(Xe,{v:()=>e});class e{}},5864:(Hn,Xe,v)=>{"use strict";v.d(Xe,{h:()=>w});var e=v(863),n=v(2372),b=v(8645),A=v(5879),_=v(4001),x=v(6294);let w=(()=>{class g{constructor(i,h){this.sharedService=i,this.restProvider=h,this.completedLoadUserManageMenu$=new b.x,this.loadedManageMenu=!1}completeLoadUserManageMenu(){this.completedLoadUserManageMenu$.next(!0)}isCompletedLoadUserManageMenu(){return this.completedLoadUserManageMenu$.asObservable()}getManageMenu(){return new Promise((i,h)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/menus/GetByUserAsync/"+this.sharedService.userData.Id).then(p=>{this.sharedService.manageMenus=p.Data,this.completeLoadUserManageMenu(),this.loadedManageMenu=!0,i(!0)},p=>{h(p)})})}getAllMenus(){return new Promise((i,h)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/menus/GetAllAsync").then(T=>{i(T)},T=>{console.error(T),h(T)})})}getItems(i,h,p,T,B,P){return new Promise((k,F)=>{let O=(0,n.Z)();this.lastCallGuid=O;var D="?page="+i.toString()+"&take="+h.toString()+"&sortBy="+p+"&sortDirection="+T+"&searchText="+B+"&searchBy="+P;this.restProvider.executeSinovadApiService(e.yw.GET,"/menus/GetAllWithPaginationAsync"+D).then(S=>{this.lastCallGuid==O&&k(S)},S=>{console.error(S),F(S)})})}saveItem(i){return new Promise((h,p)=>{this.restProvider.executeSinovadApiService(i.Id>0?e.yw.PUT:e.yw.POST,i.Id>0?"/menus/Update":"/menus/Create",i).then(P=>{h(!0)},P=>{console.error(P),p(P)})})}deleteItem(i){return new Promise((h,p)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/menus/Delete/"+i).then(B=>{h(B)},B=>{console.error(B),p(B)})})}deleteItems(i){return new Promise((h,p)=>{let T=[];for(let k=0;k<i.length;k++)T.push(i[k].Id);var B=T.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/menus/DeleteList/"+B).then(k=>{h(k)},k=>{console.error(k),p(k)})})}static#e=this.\u0275fac=function(h){return new(h||g)(A.LFG(_.F),A.LFG(x.C))};static#t=this.\u0275prov=A.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},9897:(Hn,Xe,v)=>{"use strict";v.d(Xe,{K:()=>q});var e=v(2877),n=v(1476),b=v(3566),A=v(7700),_=v(95),x=v(9604),w=v(5550),g=v(8337),d=v(298),i=v(5879),h=v(4001),p=v(3946),T=v(2067),B=v(3931),P=v(863),k=v(2372),F=v(6294);let O=(()=>{class ${constructor(Z){this.restProvider=Z}getMovie(Z){return new Promise((X,pe)=>{this.restProvider.executeSinovadApiService(P.yw.GET,"/movies/GetAsync/"+Z).then(Te=>{X(Te)},Te=>{console.error(Te),pe(Te)})})}getItems(Z,X,pe,Te,be,Le){return new Promise((et,Qe)=>{let qe=(0,k.Z)();this.lastCallGuid=qe;var ft="?page="+Z.toString()+"&take="+X.toString()+"&sortBy="+pe+"&sortDirection="+Te+"&searchText="+be+"&searchBy="+Le;this.restProvider.executeSinovadApiService(P.yw.GET,"/movies/GetAllWithPaginationAsync"+ft).then(ht=>{this.lastCallGuid==qe&&et(ht)},ht=>{console.error(ht),Qe(ht)})})}saveItem(Z){return new Promise((X,pe)=>{this.restProvider.executeSinovadApiService(Z.Id>0?P.yw.PUT:P.yw.POST,Z.Id>0?"/movies/Update":"/movies/Create",Z).then(Le=>{X(!0)},Le=>{console.error(Le),pe(Le)})})}deleteItem(Z){return new Promise((X,pe)=>{this.restProvider.executeSinovadApiService(P.yw.DELETE,"/movies/Delete/"+Z).then(be=>{X(be)},be=>{console.error(be),pe(be)})})}deleteItems(Z){return new Promise((X,pe)=>{let Te=[];for(let et=0;et<Z.length;et++)Te.push(Z[et].Id);var be=Te.join(",");this.restProvider.executeSinovadApiService(P.yw.DELETE,"/movies/DeleteList/"+be).then(et=>{X(et)},et=>{console.error(et),pe(et)})})}static#e=this.\u0275fac=function(X){return new(X||$)(i.LFG(F.C))};static#t=this.\u0275prov=i.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})();var D=v(9768),I=v(6814),S=v(2032),L=v(4170),C=v(8034);function U($,ie){1&$&&(i.TgZ(0,"mat-error"),i._uU(1," T\xedtulo es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function z($,ie){if(1&$){const Z=i.EpF();i.TgZ(0,"form",1),i.NdJ("ngSubmit",function(){i.CHM(Z);const pe=i.oxw();return i.KtG(pe.saveItem())}),i.TgZ(1,"div",2)(2,"h5",3),i._uU(3),i.qZA(),i.TgZ(4,"button",4),i.NdJ("click",function(){i.CHM(Z);const pe=i.oxw();return i.KtG(pe.closeModal())}),i._UZ(5,"i",5),i.qZA()(),i.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),i._uU(9,"T\xedtulo"),i.qZA(),i._UZ(10,"input",7),i.YNc(11,U,4,0,"mat-error",8),i.qZA(),i.TgZ(12,"mat-form-field")(13,"mat-label"),i._uU(14,"Fecha de Lanzamiento"),i.qZA(),i._UZ(15,"input",9),i.TgZ(16,"mat-hint"),i._uU(17,"MM/DD/YYYY"),i.qZA(),i._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),i.qZA(),i.TgZ(21,"mat-form-field")(22,"mat-label"),i._uU(23,"G\xe9neros"),i.qZA(),i.TgZ(24,"textarea",12),i.NdJ("click",function(){i.CHM(Z);const pe=i.oxw();return i.KtG(pe.showGenresSelectionModal())}),i.qZA()(),i.TgZ(25,"mat-form-field")(26,"mat-label"),i._uU(27,"Directores"),i.qZA(),i._UZ(28,"textarea",13),i.qZA(),i.TgZ(29,"mat-form-field")(30,"mat-label"),i._uU(31,"Actores"),i.qZA(),i._UZ(32,"textarea",14),i.qZA(),i.TgZ(33,"mat-form-field")(34,"mat-label"),i._uU(35,"Resumen"),i.qZA(),i._UZ(36,"textarea",15),i.qZA(),i.TgZ(37,"mat-form-field")(38,"mat-label"),i._uU(39,"Im\xe1gen"),i.qZA(),i._UZ(40,"textarea",16),i.qZA()(),i.TgZ(41,"div",17)(42,"button",18),i.NdJ("click",function(){i.CHM(Z);const pe=i.oxw();return i.KtG(pe.closeModal())}),i._uU(43,"Close"),i.qZA(),i.TgZ(44,"button",19),i._uU(45,"Guardar"),i.qZA()()(),i._UZ(46,"app-custom-spinner",20)}if(2&$){const Z=i.MAs(20),X=i.oxw();i.Q6J("formGroup",X.movieFormGroup),i.xp6(3),i.Oqu(X.movie.Id>0?"Editar":"Nuevo"),i.xp6(7),i.Q6J("errorStateMatcher",X.matcher),i.xp6(1),i.Q6J("ngIf",X.movieFormGroup.controls.title.hasError("required")),i.xp6(4),i.Q6J("matDatepicker",Z),i.xp6(3),i.Q6J("for",Z),i.xp6(6),i.Q6J("readonly",!0),i.xp6(20),i.Q6J("disabled",X.showLoading||!X.movieFormGroup.valid),i.xp6(2),i.Q6J("showLoading",X.showLoading)}}let ne=(()=>{class ${constructor(Z,X,pe,Te,be,Le,et){this.sharedService=Z,this.modalService=X,this.genreService=pe,this.formBuilder=Te,this.activeModal=be,this.snackbarService=Le,this.movieService=et,this.showLoading=!1,this.matcher=new w.n}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(Z=>{this.listGenres=Z.Data}),this.movie.Id>0?this.getMovie():this.movie.ListItemGenres=[]}buildFormGroup(){this.movieFormGroup=this.formBuilder.group({title:new _.NI(this.movie.Title,[_.kI.required]),releaseDate:new _.NI(this.sharedService.formatDate(this.movie.ReleaseDate)),directors:new _.NI(this.movie.Directors),actors:new _.NI(this.movie.Actors),overview:new _.NI(this.movie.Overview),posterPath:new _.NI(this.movie.PosterPath),selectedGenres:new _.NI("")})}getMovie(){this.movieService.getMovie(this.movie.Id).then(Z=>{this.movie=Z.Data,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.movieFormGroup.valid){this.showLoading=!0;var Z=JSON.parse(JSON.stringify(this.movie));Z.Title=this.movieFormGroup.value.title,Z.ReleaseDate=this.movieFormGroup.value.releaseDate,Z.Directors=this.movieFormGroup.value.directors,Z.Actors=this.movieFormGroup.value.actors,Z.Overview=this.movieFormGroup.value.overview,this.movieService.saveItem(Z).then(X=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el movie satisfactoriamente",x.dA.Success),this.activeModal.close()},X=>{this.showLoading=!1,console.error(X)})}else this.movieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.movie.ListItemGenres&&this.movie.ListItemGenres.length>0?this.movie.ListItemGenres.map(X=>X.GenreName).join(", "):""}showGenresSelectionModal(){var Z=this,X=this.modalService.open(d.I,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});X.componentInstance.listAllGenres=this.listGenres,X.componentInstance.selection=new g.Ov(!0,this.getMovieGenres()),X.closed.subscribe(pe=>{Z.setMovieGenres(pe)})}getMovieGenres(){var Z=this.movie.ListItemGenres.map(X=>X.GenreId);return this.listGenres.filter(X=>-1!=Z.indexOf(X.Id))}setMovieGenres(Z){var X=[];Z.forEach(pe=>{X.push({MovieId:this.movie.Id,GenreId:pe.Id,GenreName:pe.Name})}),this.movie.ListItemGenres=X,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(X){return new(X||$)(i.Y36(h.F),i.Y36(p.FF),i.Y36(T.c),i.Y36(_.qu),i.Y36(p.Kz),i.Y36(B.c),i.Y36(O))};static#t=this.\u0275cmp=i.Xpm({type:$,selectors:[["app-movie-form"]],inputs:{movie:"movie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","releaseDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(X,pe){1&X&&i.YNc(0,z,47,9,"ng-template",0),2&X&&i.Q6J("ngIf",null!=pe.movie&&pe.movieFormGroup)},dependencies:[_._Y,_.Fj,_.JJ,_.JL,_.sg,_.u,D.D,I.O5,S.Nt,L.KE,L.hX,L.bx,L.TO,L.R9,C.Mq,C.hl,C.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return $})();var te=v(5313),Me=v(8923);class J{}var ce=v(5986),W=v(5940),Se=v(2596);function le($,ie){1&$&&(i.TgZ(0,"div",39),i._UZ(1,"mat-spinner"),i.qZA())}function Ee($,ie){if(1&$){const Z=i.EpF();i.TgZ(0,"th",40)(1,"mat-checkbox",41),i.NdJ("change",function(pe){i.CHM(Z);const Te=i.oxw();return i.KtG(pe?Te.toggleAllRows():null)}),i.qZA()()}if(2&$){const Z=i.oxw();i.xp6(1),i.Q6J("checked",Z.selection.hasValue()&&Z.isAllSelected())("indeterminate",Z.selection.hasValue()&&!Z.isAllSelected())}}function xe($,ie){if(1&$){const Z=i.EpF();i.TgZ(0,"td",42)(1,"mat-checkbox",43),i.NdJ("click",function(pe){const be=i.CHM(Z).$implicit,Le=i.oxw();return i.KtG(Le.onChangeCheckValue(pe,be))}),i.qZA()()}if(2&$){const Z=ie.$implicit,X=i.oxw();i.xp6(1),i.Q6J("checked",X.selection.isSelected(Z))}}function Ve($,ie){1&$&&(i.TgZ(0,"th",44),i._uU(1,"N\xb0"),i.qZA())}function fe($,ie){if(1&$&&(i.TgZ(0,"td",45),i._uU(1),i.qZA()),2&$){const Z=ie.index,X=i.oxw();i.xp6(1),i.hij(" ",X.getElementNumber(Z,X.currentPage,X.itemsPerPage),"")}}function Pe($,ie){1&$&&(i.TgZ(0,"th",46),i._uU(1,"T\xedtulo"),i.qZA())}function Ce($,ie){if(1&$&&(i.TgZ(0,"td",47),i._uU(1),i.qZA()),2&$){const Z=ie.$implicit;i.xp6(1),i.hij(" ",Z.Title," ")}}function me($,ie){1&$&&(i.TgZ(0,"th",48),i._uU(1,"Fecha"),i.qZA())}function De($,ie){if(1&$&&(i.TgZ(0,"td",49),i._uU(1),i.ALo(2,"date"),i.qZA()),2&$){const Z=ie.$implicit;i.xp6(1),i.hij(" ",i.xi3(2,1,Z.ReleaseDate,"dd-MM-YYYY ")," ")}}function Re($,ie){1&$&&(i.TgZ(0,"th",50),i._uU(1,"Actores"),i.qZA())}function Fe($,ie){if(1&$&&(i.TgZ(0,"td",51),i._uU(1),i.qZA()),2&$){const Z=ie.$implicit;i.xp6(1),i.hij(" ",Z.Actors," ")}}function Ne($,ie){1&$&&(i.TgZ(0,"th",50),i._uU(1,"Directores"),i.qZA())}function at($,ie){if(1&$&&(i.TgZ(0,"td",51),i._uU(1),i.qZA()),2&$){const Z=ie.$implicit;i.xp6(1),i.hij(" ",Z.Directors," ")}}function Be($,ie){1&$&&i._UZ(0,"th",52)}function ye($,ie){if(1&$){const Z=i.EpF();i.TgZ(0,"td",53)(1,"div",54)(2,"button",55),i.NdJ("click",function(){const Te=i.CHM(Z).$implicit,be=i.oxw();return i.KtG(be.editItem(Te))}),i._UZ(3,"i",56),i.qZA(),i.TgZ(4,"button",57),i.NdJ("click",function(){const Te=i.CHM(Z).$implicit,be=i.oxw();return i.KtG(be.deleteItem(Te))}),i._UZ(5,"i",7),i.qZA()()()}}function ve($,ie){1&$&&i._UZ(0,"tr",58)}function K($,ie){1&$&&i._UZ(0,"tr",59)}function se($,ie){1&$&&(i.TgZ(0,"td",62),i._uU(1,"No se encontraron datos"),i.qZA())}function ge($,ie){if(1&$&&(i.TgZ(0,"tr",60),i.YNc(1,se,2,0,"td",61),i.qZA()),2&$){const Z=i.oxw();i.xp6(1),i.Q6J("ngIf",!Z.showLoading)}}const oe=function($){return{disable:$}},Q=function(){return[5,10,25,100]};let q=(()=>{class $ extends e.G{constructor(Z,X,pe,Te,be){super(pe),this.modalService=Z,this.dialog=X,this.matPaginatorIntl=pe,this.snackbarService=Te,this.movieService=be}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(Z=>{this.updatePageData(Z),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Z=>{this.currentPage=1,this.sortBy=Z.active,this.sortDirection=Z.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(Z){this.searchText=Z.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var Z=new J;this.showModalForm(Z)}editItem(Z){this.showModalForm(Z)}showModalForm(Z){var X=this,pe=this.modalService.open(ne,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});pe.componentInstance.movie=Z,pe.closed.subscribe(Te=>{X.getAllItems()})}getAllItems(){this.showLoading=!0,this.movieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Z=>{this.showLoading=!1;var X=Z.Data;this.totalCount=Z.TotalCount,this.listItems=X,this.dataSource=new te.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Z=>{this.showLoading=!1})}deleteItem(Z){var X=new A.vA;X.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el movie "+Z.Title+"?",accordMessage:"Si, eliminar el movie '"+Z.Title+"'"},this.dialog.open(Me.k,X).afterClosed().subscribe(pe=>{pe&&this.executeDeleteItem(Z)})}executeDeleteItem(Z){this.showLoading=!0,this.movieService.deleteItem(Z.Id).then(X=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",x.dA.Success),this.getAllItems()},X=>{this.showLoading=!1,this.snackbarService.showSnackBar(X,x.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Z=new A.vA;Z.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Me.k,Z).afterClosed().subscribe(X=>{X&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.movieService.deleteItems(this.selection.selected).then(Z=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",x.dA.Success),this.getAllItems()},Z=>{this.showLoading=!1,this.snackbarService.showSnackBar(Z,x.dA.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","ReleaseDate","Actors","Directors","Actions"]:window.innerWidth>875?["Select","Id","Title","ReleaseDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Title","ReleaseDate","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(X){return new(X||$)(i.Y36(p.FF),i.Y36(A.uw),i.Y36(n.ye),i.Y36(B.c),i.Y36(O))};static#t=this.\u0275cmp=i.Xpm({type:$,selectors:[["app-movie-list"]],viewQuery:function(X,pe){if(1&X&&(i.Gf(n.NW,5),i.Gf(b.YE,5)),2&X){let Te;i.iGM(Te=i.CRH())&&(pe.paginator=Te.first),i.iGM(Te=i.CRH())&&(pe.sort=Te.first)}},features:[i.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","ReleaseDate"],["mat-header-cell","","mat-sort-header","","style","min-width:140px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","140px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",2,"max-width","120px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(X,pe){1&X&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),i._uU(3," Pel\xedculas"),i.qZA()(),i.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),i.NdJ("click",function(){return pe.showNewItem()}),i._UZ(8,"i",5),i.qZA(),i.TgZ(9,"button",6),i.NdJ("click",function(){return pe.deleteSelectedItems()}),i._UZ(10,"i",7),i.qZA()(),i._UZ(11,"div",8),i.qZA(),i.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),i._uU(16,"Buscar"),i.qZA(),i.TgZ(17,"input",10,11),i.NdJ("keyup",function(be){return pe.applyFilter(be)}),i.qZA()(),i.TgZ(19,"div",12),i.YNc(20,le,2,0,"div",13),i.TgZ(21,"div",14)(22,"table",15),i.ynx(23,16),i.YNc(24,Ee,2,2,"th",17),i.YNc(25,xe,2,1,"td",18),i.BQk(),i.ynx(26,19),i.YNc(27,Ve,2,0,"th",20),i.YNc(28,fe,2,1,"td",21),i.BQk(),i.ynx(29,22),i.YNc(30,Pe,2,0,"th",23),i.YNc(31,Ce,2,1,"td",24),i.BQk(),i.ynx(32,25),i.YNc(33,me,2,0,"th",26),i.YNc(34,De,3,4,"td",27),i.BQk(),i.ynx(35,28),i.YNc(36,Re,2,0,"th",29),i.YNc(37,Fe,2,1,"td",30),i.BQk(),i.ynx(38,31),i.YNc(39,Ne,2,0,"th",29),i.YNc(40,at,2,1,"td",30),i.BQk(),i.ynx(41,32),i.YNc(42,Be,1,0,"th",33),i.YNc(43,ye,6,0,"td",34),i.BQk(),i.YNc(44,ve,1,0,"tr",35),i.YNc(45,K,1,0,"tr",36),i.YNc(46,ge,2,1,"tr",37),i.qZA()()()()(),i.TgZ(47,"div",1)(48,"div",9),i._UZ(49,"mat-paginator",38),i.qZA()()()()),2&X&&(i.xp6(9),i.Q6J("ngClass",i.VKq(7,oe,!pe.selection.hasValue())),i.xp6(11),i.Q6J("ngIf",pe.showLoading),i.xp6(2),i.Q6J("dataSource",pe.dataSource),i.xp6(22),i.Q6J("matHeaderRowDef",pe.getDisplayedColumns()),i.xp6(1),i.Q6J("matRowDefColumns",pe.getDisplayedColumns()),i.xp6(4),i.Q6J("color","primary")("pageSizeOptions",i.DdM(9,Q)))},dependencies:[I.mk,I.O5,n.NW,te.BZ,te.fO,te.as,te.w1,te.Dz,te.nj,te.ge,te.ev,te.XQ,te.Gk,te.Ee,S.Nt,L.KE,L.hX,b.YE,b.nU,ce.oG,W.Ou,Se.gM,I.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return $})()},2150:(Hn,Xe,v)=>{"use strict";v.d(Xe,{d:()=>Fe});var e=v(1476),n=v(7700),b=v(8923),A=v(2877),_=v(5313),x=v(3566),w=v(9604),g=v(95),d=v(5550),i=v(5879),h=v(3946),p=v(3931),T=v(863),B=v(2372),P=v(6294);let k=(()=>{class Ne{constructor(Be){this.restProvider=Be}getItems(Be,ye,ve,K,se,ge){return new Promise((oe,Q)=>{let q=(0,B.Z)();this.lastCallGuid=q;var $="?page="+Be.toString()+"&take="+ye.toString()+"&sortBy="+ve+"&sortDirection="+K+"&searchText="+se+"&searchBy="+ge;this.restProvider.executeSinovadApiService(T.yw.GET,"/roles/GetAllWithPaginationAsync"+$).then(Z=>{this.lastCallGuid==q&&oe(Z)},Z=>{console.error(Z),Q(Z)})})}saveItem(Be){return new Promise((ye,ve)=>{this.restProvider.executeSinovadApiService(Be.Id>0?T.yw.PUT:T.yw.POST,Be.Id>0?"/roles/Update":"/roles/Create",Be).then(ge=>{ye(!0)},ge=>{console.error(ge),ve(ge)})})}deleteItem(Be){return new Promise((ye,ve)=>{this.restProvider.executeSinovadApiService(T.yw.DELETE,"/roles/Delete/"+Be).then(se=>{ye(se)},se=>{console.error(se),ve(se)})})}deleteItems(Be){return new Promise((ye,ve)=>{let K=[];for(let oe=0;oe<Be.length;oe++)K.push(Be[oe].Id);var se=K.join(",");this.restProvider.executeSinovadApiService(T.yw.DELETE,"/roles/DeleteList/"+se).then(oe=>{ye(oe)},oe=>{console.error(oe),ve(oe)})})}static#e=this.\u0275fac=function(ye){return new(ye||Ne)(i.LFG(P.C))};static#t=this.\u0275prov=i.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})();var F=v(9768),O=v(6814),D=v(2032),I=v(4170),S=v(5986);function L(Ne,at){1&Ne&&(i.TgZ(0,"mat-error"),i._uU(1," Nombre es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function C(Ne,at){if(1&Ne){const Be=i.EpF();i.TgZ(0,"form",1),i.NdJ("ngSubmit",function(){i.CHM(Be);const ve=i.oxw();return i.KtG(ve.saveItem())}),i.TgZ(1,"div",2)(2,"h5",3),i._uU(3),i.qZA(),i.TgZ(4,"button",4),i.NdJ("click",function(){i.CHM(Be);const ve=i.oxw();return i.KtG(ve.closeModal())}),i._UZ(5,"i",5),i.qZA()(),i.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),i._uU(9,"Nombre"),i.qZA(),i._UZ(10,"input",7),i.YNc(11,L,4,0,"mat-error",8),i.qZA(),i.TgZ(12,"mat-checkbox",9),i._uU(13,"Activo"),i.qZA()(),i.TgZ(14,"div",10)(15,"button",11),i.NdJ("click",function(){i.CHM(Be);const ve=i.oxw();return i.KtG(ve.closeModal())}),i._uU(16,"Close"),i.qZA(),i.TgZ(17,"button",12),i._uU(18,"Guardar"),i.qZA()()(),i._UZ(19,"app-custom-spinner",13)}if(2&Ne){const Be=i.oxw();i.Q6J("formGroup",Be.roleFormGroup),i.xp6(3),i.Oqu(Be.role&&Be.role.Id>0?"Editar":"Nuevo"),i.xp6(7),i.Q6J("errorStateMatcher",Be.matcher),i.xp6(1),i.Q6J("ngIf",Be.roleFormGroup.controls.name.hasError("required")),i.xp6(6),i.Q6J("disabled",Be.showLoading||!Be.roleFormGroup.valid),i.xp6(2),i.Q6J("showLoading",Be.showLoading)}}let U=(()=>{class Ne{constructor(Be,ye,ve,K){this.formBuilder=Be,this.activeModal=ye,this.snackbarService=ve,this.roleService=K,this.showLoading=!1,this.matcher=new d.n}ngAfterViewInit(){this.roleFormGroup=this.formBuilder.group({name:new g.NI(this.role.Name,[g.kI.required]),enabled:new g.NI(this.role.Enabled)})}saveItem(){if(this.roleFormGroup.valid){this.showLoading=!0;var Be=JSON.parse(JSON.stringify(this.role));Be.Name=this.roleFormGroup.value.name,Be.Enabled=this.roleFormGroup.value.enabled,this.roleService.saveItem(Be).then(ye=>{this.showLoading=!1,this.role=void 0,this.snackbarService.showSnackBar("Se guardo el rol satisfactoriamente",w.dA.Success),this.activeModal.close()},ye=>{this.showLoading=!1,this.snackbarService.showSnackBar(ye,w.dA.Error)})}else this.roleFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(ye){return new(ye||Ne)(i.Y36(g.qu),i.Y36(h.Kz),i.Y36(p.c),i.Y36(k))};static#t=this.\u0275cmp=i.Xpm({type:Ne,selectors:[["app-role-form"]],inputs:{role:"role"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(ye,ve){1&ye&&i.YNc(0,C,20,6,"ng-template",0),2&ye&&i.Q6J("ngIf",null!=ve.role&&ve.roleFormGroup)},dependencies:[g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,F.D,O.O5,D.Nt,I.KE,I.hX,I.TO,S.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return Ne})();class z{}var ne=v(5940),te=v(2596);function Me(Ne,at){1&Ne&&(i.TgZ(0,"div",32),i._UZ(1,"mat-spinner"),i.qZA())}function J(Ne,at){if(1&Ne){const Be=i.EpF();i.TgZ(0,"th",33)(1,"mat-checkbox",34),i.NdJ("change",function(ve){i.CHM(Be);const K=i.oxw();return i.KtG(ve?K.toggleAllRows():null)}),i.qZA()()}if(2&Ne){const Be=i.oxw();i.xp6(1),i.Q6J("checked",Be.selection.hasValue()&&Be.isAllSelected())("indeterminate",Be.selection.hasValue()&&!Be.isAllSelected())}}function ce(Ne,at){if(1&Ne){const Be=i.EpF();i.TgZ(0,"td",35)(1,"mat-checkbox",36),i.NdJ("click",function(ve){const se=i.CHM(Be).$implicit,ge=i.oxw();return i.KtG(ge.onChangeCheckValue(ve,se))}),i.qZA()()}if(2&Ne){const Be=at.$implicit,ye=i.oxw();i.xp6(1),i.Q6J("checked",ye.selection.isSelected(Be))}}function W(Ne,at){1&Ne&&(i.TgZ(0,"th",37),i._uU(1,"N\xb0"),i.qZA())}function Se(Ne,at){if(1&Ne&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&Ne){const Be=at.index,ye=i.oxw();i.xp6(1),i.hij(" ",ye.getElementNumber(Be,ye.currentPage,ye.itemsPerPage),"")}}function le(Ne,at){1&Ne&&(i.TgZ(0,"th",39),i._uU(1," Nombre "),i.qZA())}function Ee(Ne,at){if(1&Ne&&(i.TgZ(0,"td",40),i._uU(1),i.qZA()),2&Ne){const Be=at.$implicit;i.xp6(1),i.hij(" ",Be.Name," ")}}function xe(Ne,at){1&Ne&&i._UZ(0,"th",41)}function Ve(Ne,at){if(1&Ne){const Be=i.EpF();i.TgZ(0,"td",42)(1,"div",43)(2,"button",44),i.NdJ("click",function(){const K=i.CHM(Be).$implicit,se=i.oxw();return i.KtG(se.editItem(K))}),i._UZ(3,"i",45),i.qZA(),i.TgZ(4,"button",46),i.NdJ("click",function(){const K=i.CHM(Be).$implicit,se=i.oxw();return i.KtG(se.deleteItem(K))}),i._UZ(5,"i",7),i.qZA()()()}}function fe(Ne,at){1&Ne&&i._UZ(0,"tr",47)}function Pe(Ne,at){1&Ne&&i._UZ(0,"tr",48)}function Ce(Ne,at){1&Ne&&(i.TgZ(0,"td",51),i._uU(1,"No se encontraron datos"),i.qZA())}function me(Ne,at){if(1&Ne&&(i.TgZ(0,"tr",49),i.YNc(1,Ce,2,0,"td",50),i.qZA()),2&Ne){const Be=i.oxw();i.xp6(1),i.Q6J("ngIf",!Be.showLoading)}}const De=function(Ne){return{disable:Ne}},Re=function(){return[5,10,25,100]};let Fe=(()=>{class Ne extends A.G{constructor(Be,ye,ve,K,se){super(ve),this.modalService=Be,this.dialog=ye,this.matPaginatorIntl=ve,this.snackbarService=K,this.roleService=se,this.displayedColumns=["Select","Id","Name","Actions"]}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(Be=>{this.updatePageData(Be),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Be=>{this.currentPage=1,this.sortBy=Be.active,this.sortDirection=Be.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(Be){this.searchText=Be.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var Be=new z;Be.Enabled=!0,this.showModalForm(Be)}editItem(Be){this.showModalForm(Be)}showModalForm(Be){var ye=this,ve=this.modalService.open(U,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});ve.componentInstance.role=Be,ve.closed.subscribe(K=>{ye.getAllItems()})}getAllItems(){this.showLoading=!0,this.roleService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Be=>{this.showLoading=!1;var ye=Be.Data;this.totalCount=Be.TotalCount,this.listItems=ye,this.dataSource=new _.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Be=>{this.showLoading=!1})}deleteItem(Be){var ye=new n.vA;ye.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+Be.Name+"?",accordMessage:"Si, eliminar el rol '"+Be.Name+"'"},this.dialog.open(b.k,ye).afterClosed().subscribe(ve=>{ve&&this.executeDeleteItem(Be)})}executeDeleteItem(Be){this.showLoading=!0,this.roleService.deleteItem(Be.Id).then(ye=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",w.dA.Success),this.getAllItems()},ye=>{this.showLoading=!1,this.snackbarService.showSnackBar(ye,w.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Be=new n.vA;Be.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(b.k,Be).afterClosed().subscribe(ye=>{ye&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.roleService.deleteItems(this.selection.selected).then(Be=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",w.dA.Success),this.getAllItems()},Be=>{this.showLoading=!1,this.snackbarService.showSnackBar(Be,w.dA.Error)})}static#e=this.\u0275fac=function(ye){return new(ye||Ne)(i.Y36(h.FF),i.Y36(n.uw),i.Y36(e.ye),i.Y36(p.c),i.Y36(k))};static#t=this.\u0275cmp=i.Xpm({type:Ne,selectors:[["app-role-list"]],viewQuery:function(ye,ve){if(1&ye&&(i.Gf(e.NW,5),i.Gf(x.YE,5)),2&ye){let K;i.iGM(K=i.CRH())&&(ve.paginator=K.first),i.iGM(K=i.CRH())&&(ve.sort=K.first)}},features:[i.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(ye,ve){1&ye&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),i._uU(3," Roles"),i.qZA()(),i.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),i.NdJ("click",function(){return ve.showNewItem()}),i._UZ(8,"i",5),i.qZA(),i.TgZ(9,"button",6),i.NdJ("click",function(){return ve.deleteSelectedItems()}),i._UZ(10,"i",7),i.qZA()(),i._UZ(11,"div",8),i.qZA(),i.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),i._uU(16,"Buscar"),i.qZA(),i.TgZ(17,"input",10,11),i.NdJ("keyup",function(se){return ve.applyFilter(se)}),i.qZA()(),i.TgZ(19,"div",12),i.YNc(20,Me,2,0,"div",13),i.TgZ(21,"div",14)(22,"table",15),i.ynx(23,16),i.YNc(24,J,2,2,"th",17),i.YNc(25,ce,2,1,"td",18),i.BQk(),i.ynx(26,19),i.YNc(27,W,2,0,"th",20),i.YNc(28,Se,2,1,"td",21),i.BQk(),i.ynx(29,22),i.YNc(30,le,2,0,"th",23),i.YNc(31,Ee,2,1,"td",24),i.BQk(),i.ynx(32,25),i.YNc(33,xe,1,0,"th",26),i.YNc(34,Ve,6,0,"td",27),i.BQk(),i.YNc(35,fe,1,0,"tr",28),i.YNc(36,Pe,1,0,"tr",29),i.YNc(37,me,2,1,"tr",30),i.qZA()()()()(),i.TgZ(38,"div",1)(39,"div",9),i._UZ(40,"mat-paginator",31),i.qZA()()()()),2&ye&&(i.xp6(9),i.Q6J("ngClass",i.VKq(7,De,!ve.selection.hasValue())),i.xp6(11),i.Q6J("ngIf",ve.showLoading),i.xp6(2),i.Q6J("dataSource",ve.dataSource),i.xp6(13),i.Q6J("matHeaderRowDef",ve.displayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",ve.displayedColumns),i.xp6(4),i.Q6J("color","primary")("pageSizeOptions",i.DdM(9,Re)))},dependencies:[O.mk,O.O5,e.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,_.Ee,D.Nt,I.KE,I.hX,x.YE,x.nU,S.oG,ne.Ou,te.gM]})}return Ne})()},5510:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Z:()=>w});var e=v(863),n=v(2372),b=v(5879),A=v(1044),_=v(4001),x=v(6294);let w=(()=>{class g{constructor(i,h,p){this.libraryService=i,this.sharedService=h,this.restProvider=p}getMediaServers(){return new Promise((i,h)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/mediaServers/GetAllByUserAsync/"+this.sharedService.userData.Id).then(p=>{this.sharedService.mediaServers=p.Data,this.sharedService.mediaServers.forEach(B=>{this.executeGetLibrariesByMediaServer(B)}),i(!0)},p=>{h(p)})})}executeGetLibrariesByMediaServer(i){i.isSecureConnection?this.libraryService.getLibrariesByMediaServer(i.Url).then(h=>{i.ListLibraries=h},h=>{}):i.ListLibraries=[]}getMediaServerByGuid(i){return new Promise((h,p)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/mediaServers/GetByGuidAsync/"+i).then(T=>{h(T)},T=>{console.error(T),p(T)})})}getItems(i,h,p,T,B,P,k){return new Promise((F,O)=>{let D=(0,n.Z)();this.lastCallGuid=D;var I="?page="+h.toString()+"&take="+p.toString()+"&sortBy="+T+"&sortDirection="+B+"&searchText="+P+"&searchBy="+k;this.restProvider.executeSinovadApiService(e.yw.GET,"/mediaServers/GetAllWithPaginationByUserAsync/"+i+I).then(L=>{this.lastCallGuid==D&&F(L)},L=>{console.error(L),O(L)})})}saveItem(i){return new Promise((h,p)=>{this.restProvider.executeSinovadApiService(i.Id>0?e.yw.PUT:e.yw.POST,i.Id>0?"/mediaServers/Update":"/mediaServers/Create",i).then(P=>{h(!0)},P=>{console.error(P),p(P)})})}deleteItem(i){return new Promise((h,p)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/mediaServers/Delete/"+i).then(B=>{h(B)},B=>{console.error(B),p(B)})})}deleteItems(i){return new Promise((h,p)=>{let T=[];for(let k=0;k<i.length;k++)T.push(i[k].Id);var B=T.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/mediaServers/DeleteList/"+B).then(k=>{h(k)},k=>{console.error(k),p(k)})})}static#e=this.\u0275fac=function(h){return new(h||g)(b.LFG(A.$),b.LFG(_.F),b.LFG(x.C))};static#t=this.\u0275prov=b.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},7674:(Hn,Xe,v)=>{"use strict";v.d(Xe,{i:()=>Yt});var e=v(2877),n=v(1476),b=v(3566),A=v(7700),_=v(95),x=v(9604),w=v(5550),g=v(8337),d=v(298),i=v(5879),h=v(4001),p=v(3946),T=v(2067),B=v(3931),P=v(863),k=v(2372),F=v(6294);let O=(()=>{class Rt{constructor(Lt){this.restProvider=Lt}getTvSerie(Lt){return new Promise((Ct,Pt)=>{this.restProvider.executeSinovadApiService(P.yw.GET,"/tvseries/GetAsync/"+Lt).then($t=>{Ct($t)},$t=>{console.error($t),Pt($t)})})}getItems(Lt,Ct,Pt,$t,_n,Un){return new Promise((Vn,Ft)=>{let Cn=(0,k.Z)();this.lastCallGuid=Cn;var Ae="?page="+Lt.toString()+"&take="+Ct.toString()+"&sortBy="+Pt+"&sortDirection="+$t+"&searchText="+_n+"&searchBy="+Un;this.restProvider.executeSinovadApiService(P.yw.GET,"/tvseries/GetAllWithPaginationAsync"+Ae).then(At=>{this.lastCallGuid==Cn&&Vn(At)},At=>{console.error(At),Ft(At)})})}saveItem(Lt){return new Promise((Ct,Pt)=>{this.restProvider.executeSinovadApiService(Lt.Id>0?P.yw.PUT:P.yw.POST,Lt.Id>0?"/tvseries/Update":"/tvseries/Create",Lt).then(Un=>{Ct(!0)},Un=>{console.error(Un),Pt(Un)})})}deleteItem(Lt){return new Promise((Ct,Pt)=>{this.restProvider.executeSinovadApiService(P.yw.DELETE,"/tvseries/Delete/"+Lt).then(_n=>{Ct(_n)},_n=>{console.error(_n),Pt(_n)})})}deleteItems(Lt){return new Promise((Ct,Pt)=>{let $t=[];for(let Vn=0;Vn<Lt.length;Vn++)$t.push(Lt[Vn].Id);var _n=$t.join(",");this.restProvider.executeSinovadApiService(P.yw.DELETE,"/tvseries/DeleteList/"+_n).then(Vn=>{Ct(Vn)},Vn=>{console.error(Vn),Pt(Vn)})})}static#e=this.\u0275fac=function(Ct){return new(Ct||Rt)(i.LFG(F.C))};static#t=this.\u0275prov=i.Yz7({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}return Rt})();var D=v(9768),I=v(6814),S=v(2032),L=v(4170),C=v(8034);function U(Rt,bn){1&Rt&&(i.TgZ(0,"mat-error"),i._uU(1," Nombre es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function z(Rt,bn){if(1&Rt){const Lt=i.EpF();i.TgZ(0,"form",1),i.NdJ("ngSubmit",function(){i.CHM(Lt);const Pt=i.oxw();return i.KtG(Pt.saveItem())}),i.TgZ(1,"div",2)(2,"h5",3),i._uU(3),i.qZA(),i.TgZ(4,"button",4),i.NdJ("click",function(){i.CHM(Lt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._UZ(5,"i",5),i.qZA()(),i.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),i._uU(9,"Nombre"),i.qZA(),i._UZ(10,"input",7),i.YNc(11,U,4,0,"mat-error",8),i.qZA(),i.TgZ(12,"mat-form-field")(13,"mat-label"),i._uU(14,"Primera fecha de emisi\xf3n"),i.qZA(),i._UZ(15,"input",9),i.TgZ(16,"mat-hint"),i._uU(17,"MM/DD/YYYY"),i.qZA(),i._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),i.qZA(),i.TgZ(21,"mat-form-field")(22,"mat-label"),i._uU(23,"\xdaltima fecha de emisi\xf3n"),i.qZA(),i._UZ(24,"input",12),i.TgZ(25,"mat-hint"),i._uU(26,"MM/DD/YYYY"),i.qZA(),i._UZ(27,"mat-datepicker-toggle",10)(28,"mat-datepicker",null,11),i.qZA(),i.TgZ(30,"mat-form-field")(31,"mat-label"),i._uU(32,"G\xe9neros"),i.qZA(),i.TgZ(33,"textarea",13),i.NdJ("click",function(){i.CHM(Lt);const Pt=i.oxw();return i.KtG(Pt.showGenresSelectionModal())}),i.qZA()(),i.TgZ(34,"mat-form-field")(35,"mat-label"),i._uU(36,"Directores"),i.qZA(),i._UZ(37,"textarea",14),i.qZA(),i.TgZ(38,"mat-form-field")(39,"mat-label"),i._uU(40,"Actores"),i.qZA(),i._UZ(41,"textarea",15),i.qZA(),i.TgZ(42,"mat-form-field")(43,"mat-label"),i._uU(44,"Resumen"),i.qZA(),i._UZ(45,"textarea",16),i.qZA(),i.TgZ(46,"mat-form-field")(47,"mat-label"),i._uU(48,"Im\xe1gen"),i.qZA(),i._UZ(49,"textarea",17),i.qZA()(),i.TgZ(50,"div",18)(51,"button",19),i.NdJ("click",function(){i.CHM(Lt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._uU(52,"Close"),i.qZA(),i.TgZ(53,"button",20),i._uU(54,"Guardar"),i.qZA()()(),i._UZ(55,"app-custom-spinner",21)}if(2&Rt){const Lt=i.MAs(20),Ct=i.oxw();i.Q6J("formGroup",Ct.tvserieFormGroup),i.xp6(3),i.Oqu(Ct.tvserie.Id>0?"Editar":"Nuevo"),i.xp6(7),i.Q6J("errorStateMatcher",Ct.matcher),i.xp6(1),i.Q6J("ngIf",Ct.tvserieFormGroup.controls.name.hasError("required")),i.xp6(4),i.Q6J("matDatepicker",Lt),i.xp6(3),i.Q6J("for",Lt),i.xp6(6),i.Q6J("matDatepicker",Lt),i.xp6(3),i.Q6J("for",Lt),i.xp6(6),i.Q6J("readonly",!0),i.xp6(20),i.Q6J("disabled",Ct.showLoading||!Ct.tvserieFormGroup.valid),i.xp6(2),i.Q6J("showLoading",Ct.showLoading)}}let ne=(()=>{class Rt{constructor(Lt,Ct,Pt,$t,_n,Un,Vn){this.sharedService=Lt,this.modalService=Ct,this.genreService=Pt,this.formBuilder=$t,this.activeModal=_n,this.snackbarService=Un,this.tvserieService=Vn,this.showLoading=!1,this.matcher=new w.n}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(Lt=>{this.listGenres=Lt.Data}),this.tvserie.Id>0?this.getTvSerie():this.tvserie.ListItemGenres=[]}buildFormGroup(){this.tvserieFormGroup=this.formBuilder.group({name:new _.NI(this.tvserie.Name,[_.kI.required]),firstAirDate:new _.NI(this.sharedService.formatDate(this.tvserie.FirstAirDate)),lastAirDate:new _.NI(this.sharedService.formatDate(this.tvserie.LastAirDate)),directors:new _.NI(this.tvserie.Directors),actors:new _.NI(this.tvserie.Actors),overview:new _.NI(this.tvserie.Overview),posterPath:new _.NI(this.tvserie.PosterPath),selectedGenres:new _.NI("")})}getTvSerie(){this.tvserieService.getTvSerie(this.tvserie.Id).then(Lt=>{this.tvserie=Lt.Data,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.tvserieFormGroup.valid){this.showLoading=!0;var Lt=JSON.parse(JSON.stringify(this.tvserie));Lt.Name=this.tvserieFormGroup.value.name,Lt.FirstAirDate=this.tvserieFormGroup.value.firstAirDate,Lt.LastAirDate=this.tvserieFormGroup.value.lastAirDate,Lt.Directors=this.tvserieFormGroup.value.directors,Lt.Actors=this.tvserieFormGroup.value.actors,Lt.Overview=this.tvserieFormGroup.value.overview,this.tvserieService.saveItem(Lt).then(Ct=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo la serie satisfactoriamente",x.dA.Success),this.activeModal.close()},Ct=>{this.showLoading=!1,console.error(Ct)})}else this.tvserieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.tvserie.ListItemGenres&&this.tvserie.ListItemGenres.length>0?this.tvserie.ListItemGenres.map(Ct=>Ct.GenreName).join(", "):""}showGenresSelectionModal(){var Lt=this,Ct=this.modalService.open(d.I,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});Ct.componentInstance.listAllGenres=this.listGenres,Ct.componentInstance.selection=new g.Ov(!0,this.getTvSerieGenres()),Ct.closed.subscribe(Pt=>{Lt.setTvSerieGenres(Pt)})}getTvSerieGenres(){var Lt=this.tvserie.ListItemGenres.map(Ct=>Ct.GenreId);return this.listGenres.filter(Ct=>-1!=Lt.indexOf(Ct.Id))}setTvSerieGenres(Lt){var Ct=[];Lt.forEach(Pt=>{Ct.push({TvSerieId:this.tvserie.Id,GenreId:Pt.Id,GenreName:Pt.Name})}),this.tvserie.ListItemGenres=Ct,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(Ct){return new(Ct||Rt)(i.Y36(h.F),i.Y36(p.FF),i.Y36(T.c),i.Y36(_.qu),i.Y36(p.Kz),i.Y36(B.c),i.Y36(O))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-tvserie-form"]],inputs:{tvserie:"tvserie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","firstAirDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","lastAirDate",3,"matDatepicker"],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(Ct,Pt){1&Ct&&i.YNc(0,z,56,11,"ng-template",0),2&Ct&&i.Q6J("ngIf",null!=Pt.tvserie&&Pt.tvserieFormGroup)},dependencies:[_._Y,_.Fj,_.JJ,_.JL,_.sg,_.u,D.D,I.O5,S.Nt,L.KE,L.hX,L.bx,L.TO,L.R9,C.Mq,C.hl,C.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return Rt})();var te=v(5313),Me=v(8923);class J{}let ce=(()=>{class Rt{constructor(Lt){this.restProvider=Lt}getItems(Lt,Ct,Pt,$t,_n,Un,Vn){return new Promise((Ft,Cn)=>{let Ae=(0,k.Z)();this.lastCallGuid=Ae;var Nt="?page="+Ct.toString()+"&take="+Pt.toString()+"&sortBy="+$t+"&sortDirection="+_n+"&searchText="+Un+"&searchBy="+Vn;this.restProvider.executeSinovadApiService(P.yw.GET,"/seasons/GetAllWithPaginationByTvSerieAsync/"+Lt+Nt).then(en=>{this.lastCallGuid==Ae&&Ft(en)},en=>{console.error(en),Cn(en)})})}saveItem(Lt){return new Promise((Ct,Pt)=>{this.restProvider.executeSinovadApiService(Lt.Id>0?P.yw.PUT:P.yw.POST,Lt.Id>0?"/seasons/Update":"/seasons/Create",Lt).then(Un=>{Ct(!0)},Un=>{console.error(Un),Pt(Un)})})}deleteItem(Lt){return new Promise((Ct,Pt)=>{this.restProvider.executeSinovadApiService(P.yw.DELETE,"/seasons/Delete/"+Lt).then(_n=>{Ct(_n)},_n=>{console.error(_n),Pt(_n)})})}deleteItems(Lt){return new Promise((Ct,Pt)=>{let $t=[];for(let Vn=0;Vn<Lt.length;Vn++)$t.push(Lt[Vn].Id);var _n=$t.join(",");this.restProvider.executeSinovadApiService(P.yw.DELETE,"/seasons/DeleteList/"+_n).then(Vn=>{Ct(Vn)},Vn=>{console.error(Vn),Pt(Vn)})})}static#e=this.\u0275fac=function(Ct){return new(Ct||Rt)(i.LFG(F.C))};static#t=this.\u0275prov=i.Yz7({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}return Rt})();function W(Rt,bn){1&Rt&&(i.TgZ(0,"mat-error"),i._uU(1," Nombre es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function Se(Rt,bn){if(1&Rt){const Lt=i.EpF();i.TgZ(0,"form",1),i.NdJ("ngSubmit",function(){i.CHM(Lt);const Pt=i.oxw();return i.KtG(Pt.saveItem())}),i.TgZ(1,"div",2)(2,"h5",3),i._uU(3),i.qZA(),i.TgZ(4,"button",4),i.NdJ("click",function(){i.CHM(Lt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._UZ(5,"i",5),i.qZA()(),i.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),i._uU(9,"Nombre"),i.qZA(),i._UZ(10,"input",7),i.YNc(11,W,4,0,"mat-error",8),i.qZA(),i.TgZ(12,"mat-form-field")(13,"mat-label"),i._uU(14,"N\xfamero"),i.qZA(),i._UZ(15,"input",9),i.qZA(),i.TgZ(16,"mat-form-field")(17,"mat-label"),i._uU(18,"Resumen"),i.qZA(),i._UZ(19,"textarea",10),i.qZA()(),i.TgZ(20,"div",11)(21,"button",12),i.NdJ("click",function(){i.CHM(Lt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._uU(22,"Close"),i.qZA(),i.TgZ(23,"button",13),i._uU(24,"Guardar"),i.qZA()()(),i._UZ(25,"app-custom-spinner",14)}if(2&Rt){const Lt=i.oxw();i.Q6J("formGroup",Lt.seasonFormGroup),i.xp6(3),i.Oqu(Lt.season.Id>0?"Editar":"Nuevo"),i.xp6(7),i.Q6J("errorStateMatcher",Lt.matcher),i.xp6(1),i.Q6J("ngIf",Lt.seasonFormGroup.controls.name.hasError("required")),i.xp6(12),i.Q6J("disabled",Lt.showLoading||!Lt.seasonFormGroup.valid),i.xp6(2),i.Q6J("showLoading",Lt.showLoading)}}let le=(()=>{class Rt{constructor(Lt,Ct,Pt,$t){this.formBuilder=Lt,this.activeModal=Ct,this.snackbarService=Pt,this.seasonService=$t,this.showLoading=!1,this.matcher=new w.n}ngAfterViewInit(){this.seasonFormGroup=this.formBuilder.group({name:new _.NI(this.season.Name,[_.kI.required]),seasonNumber:new _.NI(this.season.SeasonNumber),summary:new _.NI(this.season.Summary)})}saveItem(){if(this.seasonFormGroup.valid){this.showLoading=!0;var Lt=JSON.parse(JSON.stringify(this.season));Lt.SeasonNumber=this.seasonFormGroup.value.seasonNumber,Lt.Name=this.seasonFormGroup.value.name,Lt.Summary=this.seasonFormGroup.value.summary,this.seasonService.saveItem(Lt).then(Ct=>{this.showLoading=!1,this.season=void 0,this.snackbarService.showSnackBar("Se guardo la temporada satisfactoriamente satisfactoriamente",x.dA.Success),this.activeModal.close()},Ct=>{this.showLoading=!1,this.snackbarService.showSnackBar(Ct,x.dA.Error)})}else this.seasonFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(Ct){return new(Ct||Rt)(i.Y36(_.qu),i.Y36(p.Kz),i.Y36(B.c),i.Y36(ce))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-season-form"]],inputs:{season:"season"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","seasonNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(Ct,Pt){1&Ct&&i.YNc(0,Se,26,6,"ng-template",0),2&Ct&&i.Q6J("ngIf",null!=Pt.season&&Pt.seasonFormGroup)},dependencies:[_._Y,_.Fj,_.wV,_.JJ,_.JL,_.sg,_.u,D.D,I.O5,S.Nt,L.KE,L.hX,L.TO],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return Rt})();class Ee{}let xe=(()=>{class Rt{constructor(Lt){this.restProvider=Lt}getItems(Lt,Ct,Pt,$t,_n,Un,Vn){return new Promise((Ft,Cn)=>{let Ae=(0,k.Z)();this.lastCallGuid=Ae;var Nt="?page="+Ct.toString()+"&take="+Pt.toString()+"&sortBy="+$t+"&sortDirection="+_n+"&searchText="+Un+"&searchBy="+Vn;this.restProvider.executeSinovadApiService(P.yw.GET,"/episodes/GetAllWithPaginationBySeasonAsync/"+Lt+Nt).then(en=>{this.lastCallGuid==Ae&&Ft(en)},en=>{console.error(en),Cn(en)})})}saveItem(Lt){return new Promise((Ct,Pt)=>{this.restProvider.executeSinovadApiService(Lt.Id>0?P.yw.PUT:P.yw.POST,Lt.Id>0?"/episodes/Update":"/episodes/Create",Lt).then(Un=>{Ct(!0)},Un=>{console.error(Un),Pt(Un)})})}createList(Lt){return new Promise((Ct,Pt)=>{this.restProvider.executeSinovadApiService(P.yw.POST,"/episodes/CreateList",Lt).then($t=>{Ct(!0)},$t=>{console.error($t),Pt($t)})})}deleteItem(Lt){return new Promise((Ct,Pt)=>{this.restProvider.executeSinovadApiService(P.yw.DELETE,"/episodes/Delete/"+Lt).then(_n=>{Ct(_n)},_n=>{console.error(_n),Pt(_n)})})}deleteItems(Lt){return new Promise((Ct,Pt)=>{let $t=[];for(let Vn=0;Vn<Lt.length;Vn++)$t.push(Lt[Vn].Id);var _n=$t.join(",");this.restProvider.executeSinovadApiService(P.yw.DELETE,"/episodes/DeleteList/"+_n).then(Vn=>{Ct(Vn)},Vn=>{console.error(Vn),Pt(Vn)})})}static#e=this.\u0275fac=function(Ct){return new(Ct||Rt)(i.LFG(F.C))};static#t=this.\u0275prov=i.Yz7({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}return Rt})();function Ve(Rt,bn){1&Rt&&(i.TgZ(0,"mat-error"),i._uU(1," T\xcdtulo es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function fe(Rt,bn){if(1&Rt){const Lt=i.EpF();i.TgZ(0,"form",1),i.NdJ("ngSubmit",function(){i.CHM(Lt);const Pt=i.oxw();return i.KtG(Pt.saveItem())}),i.TgZ(1,"div",2)(2,"h5",3),i._uU(3),i.qZA(),i.TgZ(4,"button",4),i.NdJ("click",function(){i.CHM(Lt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._UZ(5,"i",5),i.qZA()(),i.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),i._uU(9,"T\xcdtulo"),i.qZA(),i._UZ(10,"input",7),i.YNc(11,Ve,4,0,"mat-error",8),i.qZA(),i.TgZ(12,"mat-form-field")(13,"mat-label"),i._uU(14,"N\xfamero"),i.qZA(),i._UZ(15,"input",9),i.qZA(),i.TgZ(16,"mat-form-field")(17,"mat-label"),i._uU(18,"Resumen"),i.qZA(),i._UZ(19,"textarea",10),i.qZA()(),i.TgZ(20,"div",11)(21,"button",12),i.NdJ("click",function(){i.CHM(Lt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._uU(22,"Close"),i.qZA(),i.TgZ(23,"button",13),i._uU(24,"Guardar"),i.qZA()()(),i._UZ(25,"app-custom-spinner",14)}if(2&Rt){const Lt=i.oxw();i.Q6J("formGroup",Lt.episodeFormGroup),i.xp6(3),i.Oqu(Lt.episode.Id>0?"Editar":"Nuevo"),i.xp6(7),i.Q6J("errorStateMatcher",Lt.matcher),i.xp6(1),i.Q6J("ngIf",Lt.episodeFormGroup.controls.title.hasError("required")),i.xp6(12),i.Q6J("disabled",Lt.showLoading||!Lt.episodeFormGroup.valid),i.xp6(2),i.Q6J("showLoading",Lt.showLoading)}}let Pe=(()=>{class Rt{constructor(Lt,Ct,Pt,$t){this.formBuilder=Lt,this.activeModal=Ct,this.snackbarService=Pt,this.episodeService=$t,this.showLoading=!1,this.matcher=new w.n}ngAfterViewInit(){this.episodeFormGroup=this.formBuilder.group({title:new _.NI(this.episode.Title,[_.kI.required]),episodeNumber:new _.NI(this.episode.EpisodeNumber),summary:new _.NI(this.episode.Summary)})}saveItem(){if(this.episodeFormGroup.valid){this.showLoading=!0;var Lt=JSON.parse(JSON.stringify(this.episode));Lt.EpisodeNumber=this.episodeFormGroup.value.episodeNumber,Lt.Title=this.episodeFormGroup.value.title,Lt.Summary=this.episodeFormGroup.value.summary,this.episodeService.saveItem(Lt).then(Ct=>{this.showLoading=!1,this.episode=void 0,this.snackbarService.showSnackBar("Se guardo el episodio satisfactoriamente satisfactoriamente",x.dA.Success),this.activeModal.close()},Ct=>{this.showLoading=!1,this.snackbarService.showSnackBar(Ct,x.dA.Error)})}else this.episodeFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(Ct){return new(Ct||Rt)(i.Y36(_.qu),i.Y36(p.Kz),i.Y36(B.c),i.Y36(xe))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-episode-form"]],inputs:{episode:"episode"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","episodeNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(Ct,Pt){1&Ct&&i.YNc(0,fe,26,6,"ng-template",0),2&Ct&&i.Q6J("ngIf",null!=Pt.episode&&Pt.episodeFormGroup)},dependencies:[_._Y,_.Fj,_.wV,_.JJ,_.JL,_.sg,_.u,D.D,I.O5,S.Nt,L.KE,L.hX,L.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return Rt})();class Ce{}function me(Rt,bn){1&Rt&&(i.TgZ(0,"mat-error"),i._uU(1," El campo es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function De(Rt,bn){1&Rt&&(i.TgZ(0,"mat-error"),i._uU(1," El campo es "),i.TgZ(2,"strong"),i._uU(3,"requerido"),i.qZA()())}function Re(Rt,bn){if(1&Rt){const Lt=i.EpF();i.TgZ(0,"form",1),i.NdJ("ngSubmit",function(){i.CHM(Lt);const Pt=i.oxw();return i.KtG(Pt.save())}),i.TgZ(1,"div",2)(2,"h5",3),i._uU(3,"Rango de Episodios"),i.qZA(),i.TgZ(4,"button",4),i.NdJ("click",function(){i.CHM(Lt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._UZ(5,"i",5),i.qZA()(),i.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),i._uU(9,"Desde"),i.qZA(),i._UZ(10,"input",7),i.YNc(11,me,4,0,"mat-error",8),i.qZA(),i.TgZ(12,"mat-form-field")(13,"mat-label"),i._uU(14,"Hasta"),i.qZA(),i._UZ(15,"input",9),i.YNc(16,De,4,0,"mat-error",8),i.qZA()(),i.TgZ(17,"div",10)(18,"button",11),i.NdJ("click",function(){i.CHM(Lt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._uU(19,"Close"),i.qZA(),i.TgZ(20,"button",12),i._uU(21,"Guardar"),i.qZA()(),i._UZ(22,"app-custom-spinner",13),i.qZA()}if(2&Rt){const Lt=i.oxw();i.Q6J("formGroup",Lt.formGroup),i.xp6(11),i.Q6J("ngIf",Lt.formGroup.controls.initialEpisodeNumber.hasError("required")),i.xp6(5),i.Q6J("ngIf",Lt.formGroup.controls.lastEpisodeNumber.hasError("required")),i.xp6(4),i.Q6J("disabled",Lt.showLoading||!Lt.formGroup.valid),i.xp6(2),i.Q6J("showLoading",Lt.showLoading)}}let Fe=(()=>{class Rt{constructor(Lt,Ct,Pt){this.formBuilder=Lt,this.episodeService=Ct,this.activeModal=Pt,this.matcher=new w.n,this.showLoading=!1}ngAfterViewInit(){this.formGroup=this.formBuilder.group({initialEpisodeNumber:new _.NI("",[_.kI.required]),lastEpisodeNumber:new _.NI("",[_.kI.required])})}save(){if(this.formGroup.valid){this.showLoading=!0;let Ct=[];for(let Pt=Number(this.formGroup.value.initialEpisodeNumber);Pt<=Number(this.formGroup.value.lastEpisodeNumber);Pt++){var Lt=new Ce;Lt.EpisodeNumber=Pt,Lt.SeasonId=this.parent.Id,Lt.Title="Episodio "+Pt,Ct.push(Lt)}this.episodeService.createList(Ct).then(Pt=>{this.showLoading=!1,this.activeModal.close(!0)},Pt=>{this.showLoading=!1,console.error(Pt)})}else this.formGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(Ct){return new(Ct||Rt)(i.Y36(_.qu),i.Y36(xe),i.Y36(p.Kz))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-episode-range-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["type","number","matInput","","formControlName","initialEpisodeNumber"],[4,"ngIf"],["type","number","matInput","","formControlName","lastEpisodeNumber"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(Ct,Pt){1&Ct&&i.YNc(0,Re,23,5,"form",0),2&Ct&&i.Q6J("ngIf",Pt.formGroup)},dependencies:[_._Y,_.Fj,_.wV,_.JJ,_.JL,_.sg,_.u,D.D,I.O5,S.Nt,L.KE,L.hX,L.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return Rt})();var Ne=v(5986),at=v(5940),Be=v(2596);function ye(Rt,bn){1&Rt&&(i.TgZ(0,"div",32),i._UZ(1,"mat-spinner"),i.qZA())}function ve(Rt,bn){if(1&Rt){const Lt=i.EpF();i.TgZ(0,"th",33)(1,"mat-checkbox",34),i.NdJ("change",function(Pt){i.CHM(Lt);const $t=i.oxw();return i.KtG(Pt?$t.toggleAllRows():null)}),i.qZA()()}if(2&Rt){const Lt=i.oxw();i.xp6(1),i.Q6J("checked",Lt.selection.hasValue()&&Lt.isAllSelected())("indeterminate",Lt.selection.hasValue()&&!Lt.isAllSelected())}}function K(Rt,bn){if(1&Rt){const Lt=i.EpF();i.TgZ(0,"td",35)(1,"mat-checkbox",36),i.NdJ("click",function(Pt){const _n=i.CHM(Lt).$implicit,Un=i.oxw();return i.KtG(Un.onChangeCheckValue(Pt,_n))}),i.qZA()()}if(2&Rt){const Lt=bn.$implicit,Ct=i.oxw();i.xp6(1),i.Q6J("checked",Ct.selection.isSelected(Lt))}}function se(Rt,bn){1&Rt&&(i.TgZ(0,"th",37),i._uU(1,"N\xb0"),i.qZA())}function ge(Rt,bn){if(1&Rt&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&Rt){const Lt=bn.$implicit;i.xp6(1),i.hij(" ",Lt.EpisodeNumber,"")}}function oe(Rt,bn){1&Rt&&(i.TgZ(0,"th",39),i._uU(1,"T\xcdtulo"),i.qZA())}function Q(Rt,bn){if(1&Rt&&(i.TgZ(0,"td",40),i._uU(1),i.qZA()),2&Rt){const Lt=bn.$implicit;i.xp6(1),i.hij(" ",Lt.Title," ")}}function q(Rt,bn){1&Rt&&i._UZ(0,"th",41)}function $(Rt,bn){if(1&Rt){const Lt=i.EpF();i.TgZ(0,"td",42)(1,"div",43)(2,"button",44),i.NdJ("click",function(){const $t=i.CHM(Lt).$implicit,_n=i.oxw();return i.KtG(_n.editItem($t))}),i._UZ(3,"i",45),i.qZA(),i.TgZ(4,"button",46),i.NdJ("click",function(){const $t=i.CHM(Lt).$implicit,_n=i.oxw();return i.KtG(_n.deleteItem($t))}),i._UZ(5,"i",7),i.qZA()()()}}function ie(Rt,bn){1&Rt&&i._UZ(0,"tr",47)}function Z(Rt,bn){1&Rt&&i._UZ(0,"tr",48)}function X(Rt,bn){1&Rt&&(i.TgZ(0,"td",51),i._uU(1,"No se encontraron datos"),i.qZA())}function pe(Rt,bn){if(1&Rt&&(i.TgZ(0,"tr",49),i.YNc(1,X,2,0,"td",50),i.qZA()),2&Rt){const Lt=i.oxw();i.xp6(1),i.Q6J("ngIf",!Lt.showLoading)}}const Te=function(Rt){return{disable:Rt}},be=function(){return[5,10,25,100]};let Le=(()=>{class Rt extends e.G{constructor(Lt,Ct,Pt,$t,_n){super($t),this.modalService=Lt,this.dialog=Ct,this.episodeService=Pt,this.matPaginatorIntl=$t,this.snackbarService=_n}ngAfterViewInit(){this.paginator.page.subscribe(Lt=>{this.updatePageData(Lt),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Lt=>{this.currentPage=1,this.sortBy=Lt.active,this.sortDirection=Lt.direction,this.getAllItems()}),this.sortBy="EpisodeNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"EpisodeNumber",start:"asc",disableClear:!0}),this.searchBy="EpisodeNumber|Title",this.dataSource.sort=this.sort}applyFilter(Lt){this.searchText=Lt.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var Lt=new Ce;Lt.SeasonId=this.parentItem.Id,this.showModalForm(Lt)}editItem(Lt){this.showModalForm(Lt)}showModalForm(Lt){var Ct=this,Pt=this.modalService.open(Pe,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});Pt.componentInstance.episode=Lt,Pt.closed.subscribe($t=>{Ct.getAllItems()})}getAllItems(){this.showLoading=!0,this.episodeService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Lt=>{this.showLoading=!1;var Ct=Lt.Data;this.totalCount=Lt.TotalCount,this.listItems=Ct,this.dataSource=new te.by(Ct),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Lt=>{this.showLoading=!1})}deleteItem(Lt){var Ct=new A.vA;Ct.data={title:"Eliminar Episodio",message:"\xbfEsta seguro que desea eliminar el episodio "+Lt.Title+"?",accordMessage:"Si, eliminar el episodio '"+Lt.Title+"'"},this.dialog.open(Me.k,Ct).afterClosed().subscribe(Pt=>{Pt&&this.executeDeleteItem(Lt)})}executeDeleteItem(Lt){this.showLoading=!0,this.episodeService.deleteItem(Lt.Id).then(Ct=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",x.dA.Success),this.getAllItems()},Ct=>{this.showLoading=!1,this.snackbarService.showSnackBar(Ct,x.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Lt=new A.vA;Lt.data={title:"Eliminar episodios",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Me.k,Lt).afterClosed().subscribe(Ct=>{Ct&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.episodeService.deleteItems(this.selection.selected).then(Lt=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",x.dA.Success),this.getAllItems()},Lt=>{this.showLoading=!1,this.snackbarService.showSnackBar(Lt,x.dA.Error)})}getDisplayedColumns(){return["Select","EpisodeNumber","Title","Actions"]}showEpisodeRangeModal(){var Lt=this,Ct=this.modalService.open(Fe,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});Ct.componentInstance.parent=this.parentItem,Ct.closed.subscribe(Pt=>{Lt.getAllItems()})}static#e=this.\u0275fac=function(Ct){return new(Ct||Rt)(i.Y36(p.FF),i.Y36(A.uw),i.Y36(xe),i.Y36(n.ye),i.Y36(B.c))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-episode-list"]],viewQuery:function(Ct,Pt){if(1&Ct&&(i.Gf(n.NW,5),i.Gf(b.YE,5)),2&Ct){let $t;i.iGM($t=i.CRH())&&(Pt.paginator=$t.first),i.iGM($t=i.CRH())&&(Pt.sort=$t.first)}},inputs:{parentItem:"parentItem"},features:[i.qOj],decls:42,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],["type","button",1,"custom-toolbar-button",3,"click"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","EpisodeNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(Ct,Pt){1&Ct&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),i._uU(3),i.qZA()(),i.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),i.NdJ("click",function(){return Pt.showNewItem()}),i._UZ(8,"i",5),i.qZA(),i.TgZ(9,"button",6),i.NdJ("click",function(){return Pt.deleteSelectedItems()}),i._UZ(10,"i",7),i.qZA(),i.TgZ(11,"button",8),i.NdJ("click",function(){return Pt.showEpisodeRangeModal()}),i._uU(12," Agregar por Rango "),i.qZA()()(),i.TgZ(13,"div",1)(14,"div",9)(15,"mat-form-field")(16,"mat-label"),i._uU(17,"Buscar"),i.qZA(),i.TgZ(18,"input",10,11),i.NdJ("keyup",function(_n){return Pt.applyFilter(_n)}),i.qZA()(),i.TgZ(20,"div",12),i.YNc(21,ye,2,0,"div",13),i.TgZ(22,"div",14)(23,"table",15),i.ynx(24,16),i.YNc(25,ve,2,2,"th",17),i.YNc(26,K,2,1,"td",18),i.BQk(),i.ynx(27,19),i.YNc(28,se,2,0,"th",20),i.YNc(29,ge,2,1,"td",21),i.BQk(),i.ynx(30,22),i.YNc(31,oe,2,0,"th",23),i.YNc(32,Q,2,1,"td",24),i.BQk(),i.ynx(33,25),i.YNc(34,q,1,0,"th",26),i.YNc(35,$,6,0,"td",27),i.BQk(),i.YNc(36,ie,1,0,"tr",28),i.YNc(37,Z,1,0,"tr",29),i.YNc(38,pe,2,1,"tr",30),i.qZA()()()()(),i.TgZ(39,"div",1)(40,"div",9),i._UZ(41,"mat-paginator",31),i.qZA()()()()),2&Ct&&(i.xp6(3),i.hij("",Pt.parentItem.Name," :Episodios"),i.xp6(6),i.Q6J("ngClass",i.VKq(8,Te,!Pt.selection.hasValue())),i.xp6(12),i.Q6J("ngIf",Pt.showLoading),i.xp6(2),i.Q6J("dataSource",Pt.dataSource),i.xp6(13),i.Q6J("matHeaderRowDef",Pt.getDisplayedColumns()),i.xp6(1),i.Q6J("matRowDefColumns",Pt.getDisplayedColumns()),i.xp6(4),i.Q6J("color","primary")("pageSizeOptions",i.DdM(10,be)))},dependencies:[I.mk,I.O5,n.NW,te.BZ,te.fO,te.as,te.w1,te.Dz,te.nj,te.ge,te.ev,te.XQ,te.Gk,te.Ee,S.Nt,L.KE,L.hX,b.YE,b.nU,Ne.oG,at.Ou,Be.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return Rt})();function et(Rt,bn){if(1&Rt){const Lt=i.EpF();i.TgZ(0,"div",1)(1,"h5",2),i._uU(2),i.qZA(),i.TgZ(3,"button",3),i.NdJ("click",function(){i.CHM(Lt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._UZ(4,"i",4),i.qZA()(),i.TgZ(5,"div",5),i._UZ(6,"app-episode-list",6),i.qZA(),i.TgZ(7,"div",7)(8,"button",8),i.NdJ("click",function(){i.CHM(Lt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._uU(9,"Close"),i.qZA()()}if(2&Rt){const Lt=i.oxw();i.xp6(2),i.hij("",Lt.parent.Name," :Episodios"),i.xp6(4),i.Q6J("parentItem",Lt.parent)}}let Qe=(()=>{class Rt{constructor(Lt){this.activeModal=Lt}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(Ct){return new(Ct||Rt)(i.Y36(p.Kz))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-episode-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(Ct,Pt){1&Ct&&i.YNc(0,et,10,2,"ng-template",0),2&Ct&&i.Q6J("ngIf",null!=Pt.parent)},dependencies:[I.O5,Le]})}return Rt})();function qe(Rt,bn){1&Rt&&(i.TgZ(0,"div",32),i._UZ(1,"mat-spinner"),i.qZA())}function ft(Rt,bn){if(1&Rt){const Lt=i.EpF();i.TgZ(0,"th",33)(1,"mat-checkbox",34),i.NdJ("change",function(Pt){i.CHM(Lt);const $t=i.oxw();return i.KtG(Pt?$t.toggleAllRows():null)}),i.qZA()()}if(2&Rt){const Lt=i.oxw();i.xp6(1),i.Q6J("checked",Lt.selection.hasValue()&&Lt.isAllSelected())("indeterminate",Lt.selection.hasValue()&&!Lt.isAllSelected())}}function ze(Rt,bn){if(1&Rt){const Lt=i.EpF();i.TgZ(0,"td",35)(1,"mat-checkbox",36),i.NdJ("click",function(Pt){const _n=i.CHM(Lt).$implicit,Un=i.oxw();return i.KtG(Un.onChangeCheckValue(Pt,_n))}),i.qZA()()}if(2&Rt){const Lt=bn.$implicit,Ct=i.oxw();i.xp6(1),i.Q6J("checked",Ct.selection.isSelected(Lt))}}function ht(Rt,bn){1&Rt&&(i.TgZ(0,"th",37),i._uU(1,"N\xb0"),i.qZA())}function Et(Rt,bn){if(1&Rt&&(i.TgZ(0,"td",38),i._uU(1),i.qZA()),2&Rt){const Lt=bn.$implicit;i.xp6(1),i.hij(" ",Lt.SeasonNumber,"")}}function de(Rt,bn){1&Rt&&(i.TgZ(0,"th",39),i._uU(1,"Nombre"),i.qZA())}function He(Rt,bn){if(1&Rt&&(i.TgZ(0,"td",40),i._uU(1),i.qZA()),2&Rt){const Lt=bn.$implicit;i.xp6(1),i.hij(" ",Lt.Name," ")}}function bt(Rt,bn){1&Rt&&i._UZ(0,"th",41)}function Ut(Rt,bn){if(1&Rt){const Lt=i.EpF();i.TgZ(0,"td",42)(1,"div",43)(2,"button",44),i.NdJ("click",function(){const $t=i.CHM(Lt).$implicit,_n=i.oxw();return i.KtG(_n.showEpisodeListModal($t))}),i._UZ(3,"i",45),i.qZA(),i.TgZ(4,"button",46),i.NdJ("click",function(){const $t=i.CHM(Lt).$implicit,_n=i.oxw();return i.KtG(_n.editItem($t))}),i._UZ(5,"i",47),i.qZA(),i.TgZ(6,"button",48),i.NdJ("click",function(){const $t=i.CHM(Lt).$implicit,_n=i.oxw();return i.KtG(_n.deleteItem($t))}),i._UZ(7,"i",7),i.qZA()()()}}function Zt(Rt,bn){1&Rt&&i._UZ(0,"tr",49)}function Kt(Rt,bn){1&Rt&&i._UZ(0,"tr",50)}function pn(Rt,bn){1&Rt&&(i.TgZ(0,"td",53),i._uU(1,"No se encontraron datos"),i.qZA())}function rn(Rt,bn){if(1&Rt&&(i.TgZ(0,"tr",51),i.YNc(1,pn,2,0,"td",52),i.qZA()),2&Rt){const Lt=i.oxw();i.xp6(1),i.Q6J("ngIf",!Lt.showLoading)}}const xt=function(Rt){return{disable:Rt}},vt=function(){return[5,10,25,100]};let nt=(()=>{class Rt extends e.G{constructor(Lt,Ct,Pt,$t,_n){super($t),this.modalService=Lt,this.dialog=Ct,this.seasonService=Pt,this.matPaginatorIntl=$t,this.snackbarService=_n}ngAfterViewInit(){this.paginator.page.subscribe(Lt=>{this.updatePageData(Lt),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Lt=>{this.currentPage=1,this.sortBy=Lt.active,this.sortDirection=Lt.direction,this.getAllItems()}),this.sortBy="SeasonNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"SeasonNumber",start:"asc",disableClear:!0}),this.searchBy="SeasonNumber",this.dataSource.sort=this.sort}applyFilter(Lt){this.searchText=Lt.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var Lt=new Ee;this.showModalForm(Lt)}editItem(Lt){this.showModalForm(Lt)}showModalForm(Lt){var Ct=this,Pt=this.modalService.open(le,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});Pt.componentInstance.season=Lt,Pt.closed.subscribe($t=>{Ct.getAllItems()})}getAllItems(){this.showLoading=!0,this.seasonService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Lt=>{this.showLoading=!1;var Ct=Lt.Data;this.totalCount=Lt.TotalCount,this.listItems=Ct,this.dataSource=new te.by(Ct),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Lt=>{this.showLoading=!1})}deleteItem(Lt){var Ct=new A.vA;Ct.data={title:"Eliminar Temporada",message:"\xbfEsta seguro que desea eliminar la temporada "+Lt.Name+"?",accordMessage:"Si, eliminar la temporada '"+Lt.Name+"'"},this.dialog.open(Me.k,Ct).afterClosed().subscribe(Pt=>{Pt&&this.executeDeleteItem(Lt)})}executeDeleteItem(Lt){this.showLoading=!0,this.seasonService.deleteItem(Lt.Id).then(Ct=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",x.dA.Success),this.getAllItems()},Ct=>{this.showLoading=!1,this.snackbarService.showSnackBar(Ct,x.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Lt=new A.vA;Lt.data={title:"Eliminar seasons",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Me.k,Lt).afterClosed().subscribe(Ct=>{Ct&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.seasonService.deleteItems(this.selection.selected).then(Lt=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",x.dA.Success),this.getAllItems()},Lt=>{this.showLoading=!1,this.snackbarService.showSnackBar(Lt,x.dA.Error)})}getDisplayedColumns(){return["Select","SeasonNumber","Name","Actions"]}showEpisodeListModal(Lt){var Pt=this.modalService.open(Qe,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});Pt.componentInstance.parent=Lt,Pt.closed.subscribe($t=>{})}static#e=this.\u0275fac=function(Ct){return new(Ct||Rt)(i.Y36(p.FF),i.Y36(A.uw),i.Y36(ce),i.Y36(n.ye),i.Y36(B.c))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-season-list"]],viewQuery:function(Ct,Pt){if(1&Ct&&(i.Gf(n.NW,5),i.Gf(b.YE,5)),2&Ct){let $t;i.iGM($t=i.CRH())&&(Pt.paginator=$t.first),i.iGM($t=i.CRH())&&(Pt.sort=$t.first)}},inputs:{parentItem:"parentItem"},features:[i.qOj],decls:41,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","SeasonNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver episodios",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(Ct,Pt){1&Ct&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),i._uU(3),i.qZA()(),i.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),i.NdJ("click",function(){return Pt.showNewItem()}),i._UZ(8,"i",5),i.qZA(),i.TgZ(9,"button",6),i.NdJ("click",function(){return Pt.deleteSelectedItems()}),i._UZ(10,"i",7),i.qZA()(),i._UZ(11,"div",8),i.qZA(),i.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),i._uU(16,"Buscar"),i.qZA(),i.TgZ(17,"input",10,11),i.NdJ("keyup",function(_n){return Pt.applyFilter(_n)}),i.qZA()(),i.TgZ(19,"div",12),i.YNc(20,qe,2,0,"div",13),i.TgZ(21,"div",14)(22,"table",15),i.ynx(23,16),i.YNc(24,ft,2,2,"th",17),i.YNc(25,ze,2,1,"td",18),i.BQk(),i.ynx(26,19),i.YNc(27,ht,2,0,"th",20),i.YNc(28,Et,2,1,"td",21),i.BQk(),i.ynx(29,22),i.YNc(30,de,2,0,"th",23),i.YNc(31,He,2,1,"td",24),i.BQk(),i.ynx(32,25),i.YNc(33,bt,1,0,"th",26),i.YNc(34,Ut,8,0,"td",27),i.BQk(),i.YNc(35,Zt,1,0,"tr",28),i.YNc(36,Kt,1,0,"tr",29),i.YNc(37,rn,2,1,"tr",30),i.qZA()()()()(),i.TgZ(38,"div",1)(39,"div",9),i._UZ(40,"mat-paginator",31),i.qZA()()()()),2&Ct&&(i.xp6(3),i.hij("",Pt.parentItem.Name," :Temporadas"),i.xp6(6),i.Q6J("ngClass",i.VKq(8,xt,!Pt.selection.hasValue())),i.xp6(11),i.Q6J("ngIf",Pt.showLoading),i.xp6(2),i.Q6J("dataSource",Pt.dataSource),i.xp6(13),i.Q6J("matHeaderRowDef",Pt.getDisplayedColumns()),i.xp6(1),i.Q6J("matRowDefColumns",Pt.getDisplayedColumns()),i.xp6(4),i.Q6J("color","primary")("pageSizeOptions",i.DdM(10,vt)))},dependencies:[I.mk,I.O5,n.NW,te.BZ,te.fO,te.as,te.w1,te.Dz,te.nj,te.ge,te.ev,te.XQ,te.Gk,te.Ee,S.Nt,L.KE,L.hX,b.YE,b.nU,Ne.oG,at.Ou,Be.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return Rt})();function ke(Rt,bn){if(1&Rt){const Lt=i.EpF();i.TgZ(0,"div",1)(1,"h5",2),i._uU(2),i.qZA(),i.TgZ(3,"button",3),i.NdJ("click",function(){i.CHM(Lt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._UZ(4,"i",4),i.qZA()(),i.TgZ(5,"div",5),i._UZ(6,"app-season-list",6),i.qZA(),i.TgZ(7,"div",7)(8,"button",8),i.NdJ("click",function(){i.CHM(Lt);const Pt=i.oxw();return i.KtG(Pt.closeModal())}),i._uU(9,"Close"),i.qZA()()}if(2&Rt){const Lt=i.oxw();i.xp6(2),i.hij("",Lt.parent.Name," :Temporadas"),i.xp6(4),i.Q6J("parentItem",Lt.parent)}}let Ke=(()=>{class Rt{constructor(Lt){this.activeModal=Lt}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(Ct){return new(Ct||Rt)(i.Y36(p.Kz))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-season-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(Ct,Pt){1&Ct&&i.YNc(0,ke,10,2,"ng-template",0),2&Ct&&i.Q6J("ngIf",null!=Pt.parent)},dependencies:[I.O5,nt]})}return Rt})();function rt(Rt,bn){1&Rt&&(i.TgZ(0,"div",40),i._UZ(1,"mat-spinner"),i.qZA())}function ot(Rt,bn){if(1&Rt){const Lt=i.EpF();i.TgZ(0,"th",41)(1,"mat-checkbox",42),i.NdJ("change",function(Pt){i.CHM(Lt);const $t=i.oxw();return i.KtG(Pt?$t.toggleAllRows():null)}),i.qZA()()}if(2&Rt){const Lt=i.oxw();i.xp6(1),i.Q6J("checked",Lt.selection.hasValue()&&Lt.isAllSelected())("indeterminate",Lt.selection.hasValue()&&!Lt.isAllSelected())}}function yt(Rt,bn){if(1&Rt){const Lt=i.EpF();i.TgZ(0,"td",43)(1,"mat-checkbox",44),i.NdJ("click",function(Pt){const _n=i.CHM(Lt).$implicit,Un=i.oxw();return i.KtG(Un.onChangeCheckValue(Pt,_n))}),i.qZA()()}if(2&Rt){const Lt=bn.$implicit,Ct=i.oxw();i.xp6(1),i.Q6J("checked",Ct.selection.isSelected(Lt))}}function mt(Rt,bn){1&Rt&&(i.TgZ(0,"th",45),i._uU(1,"N\xb0"),i.qZA())}function _t(Rt,bn){if(1&Rt&&(i.TgZ(0,"td",46),i._uU(1),i.qZA()),2&Rt){const Lt=bn.index,Ct=i.oxw();i.xp6(1),i.hij(" ",Ct.getElementNumber(Lt,Ct.currentPage,Ct.itemsPerPage),"")}}function qt(Rt,bn){1&Rt&&(i.TgZ(0,"th",47),i._uU(1,"Nombre"),i.qZA())}function fn(Rt,bn){if(1&Rt&&(i.TgZ(0,"td",48),i._uU(1),i.qZA()),2&Rt){const Lt=bn.$implicit;i.xp6(1),i.hij(" ",Lt.Name," ")}}function Qt(Rt,bn){1&Rt&&(i.TgZ(0,"th",49),i._uU(1,"Primera emisi\xf3n"),i.qZA())}function gn(Rt,bn){if(1&Rt&&(i.TgZ(0,"td",50),i._uU(1),i.ALo(2,"date"),i.qZA()),2&Rt){const Lt=bn.$implicit;i.xp6(1),i.hij(" ",i.xi3(2,1,Lt.FirstAirDate,"dd-MM-YYYY")," ")}}function Tn(Rt,bn){1&Rt&&(i.TgZ(0,"th",49),i._uU(1,"\xdaltima emisi\xf3n"),i.qZA())}function Mn(Rt,bn){if(1&Rt&&(i.TgZ(0,"td",50),i._uU(1),i.ALo(2,"date"),i.qZA()),2&Rt){const Lt=bn.$implicit;i.xp6(1),i.hij(" ",i.xi3(2,1,Lt.LastAirDate,"dd-MM-YYYY")," ")}}function Gn(Rt,bn){1&Rt&&(i.TgZ(0,"th",51),i._uU(1,"Actores"),i.qZA())}function Zn(Rt,bn){if(1&Rt&&(i.TgZ(0,"td",52,53),i._uU(2),i.qZA()),2&Rt){const Lt=bn.$implicit,Ct=i.MAs(1);i.Udp("cursor",Ct.offsetWidth<Ct.scrollWidth?"pointer":""),i.s9C("matTooltip",Ct.offsetWidth<Ct.scrollWidth?Lt.Actors:""),i.xp6(2),i.Oqu(Lt.Actors)}}function dn(Rt,bn){1&Rt&&(i.TgZ(0,"th",51),i._uU(1,"Directores"),i.qZA())}function ln(Rt,bn){if(1&Rt&&(i.TgZ(0,"td",52,53),i._uU(2),i.qZA()),2&Rt){const Lt=bn.$implicit,Ct=i.MAs(1);i.Udp("cursor",Ct.offsetWidth<Ct.scrollWidth?"pointer":""),i.s9C("matTooltip",Ct.offsetWidth<Ct.scrollWidth?Lt.Directors:""),i.xp6(2),i.hij(" ",Lt.Directors," ")}}function un(Rt,bn){1&Rt&&i._UZ(0,"th",54)}function sn(Rt,bn){if(1&Rt){const Lt=i.EpF();i.TgZ(0,"td",55)(1,"div",56)(2,"button",57),i.NdJ("click",function(){const $t=i.CHM(Lt).$implicit,_n=i.oxw();return i.KtG(_n.showSeasonListModal($t))}),i._UZ(3,"i",58),i.qZA(),i.TgZ(4,"button",59),i.NdJ("click",function(){const $t=i.CHM(Lt).$implicit,_n=i.oxw();return i.KtG(_n.editItem($t))}),i._UZ(5,"i",60),i.qZA(),i.TgZ(6,"button",61),i.NdJ("click",function(){const $t=i.CHM(Lt).$implicit,_n=i.oxw();return i.KtG(_n.deleteItem($t))}),i._UZ(7,"i",7),i.qZA()()()}}function cn(Rt,bn){1&Rt&&i._UZ(0,"tr",62)}function St(Rt,bn){1&Rt&&i._UZ(0,"tr",63)}function dt(Rt,bn){1&Rt&&(i.TgZ(0,"td",66),i._uU(1,"No se encontraron datos"),i.qZA())}function hn(Rt,bn){if(1&Rt&&(i.TgZ(0,"tr",64),i.YNc(1,dt,2,0,"td",65),i.qZA()),2&Rt){const Lt=i.oxw();i.xp6(1),i.Q6J("ngIf",!Lt.showLoading)}}const $e=function(Rt){return{disable:Rt}},Tt=function(){return[5,10,25,100]};let Yt=(()=>{class Rt extends e.G{constructor(Lt,Ct,Pt,$t,_n){super(Pt),this.modalService=Lt,this.dialog=Ct,this.matPaginatorIntl=Pt,this.snackbarService=$t,this.tvserieService=_n}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(Lt=>{this.updatePageData(Lt),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(Lt=>{this.currentPage=1,this.sortBy=Lt.active,this.sortDirection=Lt.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(Lt){this.searchText=Lt.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var Lt=new J;this.showModalForm(Lt)}editItem(Lt){this.showModalForm(Lt)}showModalForm(Lt){var Ct=this,Pt=this.modalService.open(ne,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});Pt.componentInstance.tvserie=Lt,Pt.closed.subscribe($t=>{Ct.getAllItems()})}getAllItems(){this.showLoading=!0,this.tvserieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(Lt=>{this.showLoading=!1;var Ct=Lt.Data;this.totalCount=Lt.TotalCount,this.listItems=Ct,this.dataSource=new te.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},Lt=>{this.showLoading=!1})}deleteItem(Lt){var Ct=new A.vA;Ct.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar la serie "+Lt.Name+"?",accordMessage:"Si, eliminar la serie '"+Lt.Name+"'"},this.dialog.open(Me.k,Ct).afterClosed().subscribe(Pt=>{Pt&&this.executeDeleteItem(Lt)})}executeDeleteItem(Lt){this.showLoading=!0,this.tvserieService.deleteItem(Lt.Id).then(Ct=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",x.dA.Success),this.getAllItems()},Ct=>{this.showLoading=!1,this.snackbarService.showSnackBar(Ct,x.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var Lt=new A.vA;Lt.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Me.k,Lt).afterClosed().subscribe(Ct=>{Ct&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.tvserieService.deleteItems(this.selection.selected).then(Lt=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",x.dA.Success),this.getAllItems()},Lt=>{this.showLoading=!1,this.snackbarService.showSnackBar(Lt,x.dA.Error)})}getDisplayedColumns(){return window.innerWidth>1100?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Directors","Actions"]:window.innerWidth>975?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Actions"]:window.innerWidth>875?["Select","Id","Name","FirstAirDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Name","FirstAirDate","Actions"]:["Select","Id","Name","Actions"]}showSeasonListModal(Lt){var Pt=this.modalService.open(Ke,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});Pt.componentInstance.parent=Lt,Pt.closed.subscribe($t=>{})}static#e=this.\u0275fac=function(Ct){return new(Ct||Rt)(i.Y36(p.FF),i.Y36(A.uw),i.Y36(n.ye),i.Y36(B.c),i.Y36(O))};static#t=this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-tvserie-list"]],viewQuery:function(Ct,Pt){if(1&Ct&&(i.Gf(n.NW,5),i.Gf(b.YE,5)),2&Ct){let $t;i.iGM($t=i.CRH())&&(Pt.paginator=$t.first),i.iGM($t=i.CRH())&&(Pt.sort=$t.first)}},features:[i.qOj],decls:53,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","FirstAirDate"],["mat-header-cell","","mat-sort-header","","style","min-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","LastAirDate"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","class","text-truncate","style","max-width:120px;text-align: left;cursor: pointer;",3,"cursor","matTooltip",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","120px","text-align","left"],["mat-cell","",2,"min-width","120px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",1,"text-truncate",2,"max-width","120px","text-align","left","cursor","pointer",3,"matTooltip"],["cell",""],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver temporadas",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(Ct,Pt){1&Ct&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),i._uU(3,"Series"),i.qZA()(),i.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),i.NdJ("click",function(){return Pt.showNewItem()}),i._UZ(8,"i",5),i.qZA(),i.TgZ(9,"button",6),i.NdJ("click",function(){return Pt.deleteSelectedItems()}),i._UZ(10,"i",7),i.qZA()(),i._UZ(11,"div",8),i.qZA(),i.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),i._uU(16,"Buscar"),i.qZA(),i.TgZ(17,"input",10,11),i.NdJ("keyup",function(_n){return Pt.applyFilter(_n)}),i.qZA()(),i.TgZ(19,"div",12),i.YNc(20,rt,2,0,"div",13),i.TgZ(21,"div",14)(22,"table",15),i.ynx(23,16),i.YNc(24,ot,2,2,"th",17),i.YNc(25,yt,2,1,"td",18),i.BQk(),i.ynx(26,19),i.YNc(27,mt,2,0,"th",20),i.YNc(28,_t,2,1,"td",21),i.BQk(),i.ynx(29,22),i.YNc(30,qt,2,0,"th",23),i.YNc(31,fn,2,1,"td",24),i.BQk(),i.ynx(32,25),i.YNc(33,Qt,2,0,"th",26),i.YNc(34,gn,3,4,"td",27),i.BQk(),i.ynx(35,28),i.YNc(36,Tn,2,0,"th",26),i.YNc(37,Mn,3,4,"td",27),i.BQk(),i.ynx(38,29),i.YNc(39,Gn,2,0,"th",30),i.YNc(40,Zn,3,4,"td",31),i.BQk(),i.ynx(41,32),i.YNc(42,dn,2,0,"th",30),i.YNc(43,ln,3,4,"td",31),i.BQk(),i.ynx(44,33),i.YNc(45,un,1,0,"th",34),i.YNc(46,sn,8,0,"td",35),i.BQk(),i.YNc(47,cn,1,0,"tr",36),i.YNc(48,St,1,0,"tr",37),i.YNc(49,hn,2,1,"tr",38),i.qZA()()()()(),i.TgZ(50,"div",1)(51,"div",9),i._UZ(52,"mat-paginator",39),i.qZA()()()()),2&Ct&&(i.xp6(9),i.Q6J("ngClass",i.VKq(7,$e,!Pt.selection.hasValue())),i.xp6(11),i.Q6J("ngIf",Pt.showLoading),i.xp6(2),i.Q6J("dataSource",Pt.dataSource),i.xp6(25),i.Q6J("matHeaderRowDef",Pt.getDisplayedColumns()),i.xp6(1),i.Q6J("matRowDefColumns",Pt.getDisplayedColumns()),i.xp6(4),i.Q6J("color","primary")("pageSizeOptions",i.DdM(9,Tt)))},dependencies:[I.mk,I.O5,n.NW,te.BZ,te.fO,te.as,te.w1,te.Dz,te.nj,te.ge,te.ev,te.XQ,te.Gk,te.Ee,S.Nt,L.KE,L.hX,b.YE,b.nU,Ne.oG,at.Ou,Be.gM,I.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return Rt})()},7733:(Hn,Xe,v)=>{"use strict";v.d(Xe,{p:()=>Qe});var e=v(2877),n=v(1476),b=v(3566),A=v(5313),_=v(7700),x=v(8923),w=v(9604),g=v(5879),d=v(3946),i=v(6814),h=v(5510),p=v(3931),T=v(2032),B=v(4170),P=v(5940);function k(qe,ft){1&qe&&(g.TgZ(0,"div",27),g._UZ(1,"mat-spinner"),g.qZA())}function F(qe,ft){1&qe&&(g.TgZ(0,"th",28),g._uU(1,"N\xb0"),g.qZA())}function O(qe,ft){if(1&qe&&(g.TgZ(0,"td",29),g._uU(1),g.qZA()),2&qe){const ze=ft.index,ht=g.oxw();g.xp6(1),g.hij(" ",ht.getElementNumber(ze,ht.currentPage,ht.itemsPerPage),"")}}function D(qe,ft){1&qe&&(g.TgZ(0,"th",30),g._uU(1,"Nombre del dispositivo"),g.qZA())}function I(qe,ft){if(1&qe&&(g.TgZ(0,"td",31),g._uU(1),g.qZA()),2&qe){const ze=ft.$implicit;g.xp6(1),g.hij(" ",ze.DeviceName," ")}}function S(qe,ft){1&qe&&(g.TgZ(0,"th",30),g._uU(1,"Nombre familiar"),g.qZA())}function L(qe,ft){if(1&qe&&(g.TgZ(0,"td",31),g._uU(1),g.qZA()),2&qe){const ze=ft.$implicit;g.xp6(1),g.hij(" ",ze.FamilyName," ")}}function C(qe,ft){1&qe&&(g.TgZ(0,"th",32),g._uU(1,"IP Privada"),g.qZA())}function U(qe,ft){if(1&qe&&(g.TgZ(0,"td",33),g._uU(1),g.qZA()),2&qe){const ze=ft.$implicit;g.xp6(1),g.hij(" ",ze.IpAddress," ")}}function z(qe,ft){1&qe&&(g.TgZ(0,"th",34),g._uU(1,"Puerto"),g.qZA())}function ne(qe,ft){if(1&qe&&(g.TgZ(0,"td",35),g._uU(1),g.qZA()),2&qe){const ze=ft.$implicit;g.xp6(1),g.hij(" ",ze.Port," ")}}function te(qe,ft){1&qe&&g._UZ(0,"tr",36)}function Me(qe,ft){1&qe&&g._UZ(0,"tr",37)}function J(qe,ft){1&qe&&(g.TgZ(0,"td",40),g._uU(1,"No se encontraron datos"),g.qZA())}function ce(qe,ft){if(1&qe&&(g.TgZ(0,"tr",38),g.YNc(1,J,2,0,"td",39),g.qZA()),2&qe){const ze=g.oxw();g.xp6(1),g.Q6J("ngIf",!ze.showLoading)}}const W=function(){return[5,10,25,100]};let Se=(()=>{class qe extends e.G{constructor(ze,ht,Et,de){super(Et),this.dialog=ze,this.mediaServerService=ht,this.matPaginatorIntl=Et,this.snackbarService=de}ngAfterViewInit(){this.paginator.page.subscribe(ze=>{this.updatePageData(ze),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(ze=>{this.currentPage=1,this.sortBy=ze.active,this.sortDirection=ze.direction,this.getAllItems()}),this.sortBy="DeviceName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"DeviceName",start:"asc",disableClear:!0}),this.searchBy="IpAddress|Port|FamilyName|DeviceName",this.dataSource.sort=this.sort}applyFilter(ze){this.searchText=ze.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.mediaServerService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(ze=>{this.showLoading=!1;var ht=ze.Data;this.totalCount=ze.TotalCount,this.listItems=ht,this.dataSource=new A.by(ht),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},ze=>{this.showLoading=!1})}deleteItem(ze){var ht=new _.vA;ht.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el servidor "+ze.DeviceName+"?",accordMessage:"Si, eliminar el servidor '"+ze.DeviceName+"'"},this.dialog.open(x.k,ht).afterClosed().subscribe(Et=>{Et&&this.executeDeleteItem(ze)})}executeDeleteItem(ze){this.showLoading=!0,this.mediaServerService.deleteItem(ze.Id).then(ht=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",w.dA.Success),this.getAllItems()},ht=>{this.showLoading=!1,this.snackbarService.showSnackBar(ht,w.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var ze=new _.vA;ze.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(x.k,ze).afterClosed().subscribe(ht=>{ht&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.mediaServerService.deleteItems(this.selection.selected).then(ze=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",w.dA.Success),this.getAllItems()},ze=>{this.showLoading=!1,this.snackbarService.showSnackBar(ze,w.dA.Error)})}getDisplayedColumns(){return window.innerWidth>600?["Id","DeviceName","FamilyName","IpAddress","Port"]:window.innerWidth>475?["Id","DeviceName","FamilyName"]:["Id","DeviceName"]}static#e=this.\u0275fac=function(ht){return new(ht||qe)(g.Y36(_.uw),g.Y36(h.Z),g.Y36(n.ye),g.Y36(p.c))};static#t=this.\u0275cmp=g.Xpm({type:qe,selectors:[["app-media-server-list"]],viewQuery:function(ht,Et){if(1&ht&&(g.Gf(n.NW,5),g.Gf(b.YE,5)),2&ht){let de;g.iGM(de=g.CRH())&&(Et.paginator=de.first),g.iGM(de=g.CRH())&&(Et.sort=de.first)}},inputs:{parentItem:"parentItem"},features:[g.qOj],decls:37,vars:8,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","style","width:50px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","width:50px;text-align: center;",4,"matCellDef"],["matColumnDef","DeviceName"],["mat-header-cell","","mat-sort-header","","style","width:calc(50% - 140px);text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:calc(50% - 165px);text-align: left;",4,"matCellDef"],["matColumnDef","FamilyName"],["matColumnDef","IpAddress"],["mat-header-cell","","mat-sort-header","","style","width:150px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:150px;text-align: left;",4,"matCellDef"],["matColumnDef","Port"],["mat-header-cell","","mat-sort-header","","style","width:80px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:80px;text-align: left;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",2,"width","50px","text-align","center"],["mat-cell","",2,"width","50px","text-align","center"],["mat-header-cell","","mat-sort-header","",2,"width","calc(50% - 140px)","text-align","left"],["mat-cell","",2,"width","calc(50% - 165px)","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","150px","text-align","left"],["mat-cell","",2,"width","150px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","80px","text-align","left"],["mat-cell","",2,"width","80px","text-align","left"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(ht,Et){1&ht&&(g.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),g._uU(3),g.qZA()(),g.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),g._uU(9,"Buscar"),g.qZA(),g.TgZ(10,"input",4,5),g.NdJ("keyup",function(He){return Et.applyFilter(He)}),g.qZA()(),g.TgZ(12,"div",6),g.YNc(13,k,2,0,"div",7),g.TgZ(14,"div",8)(15,"table",9),g.ynx(16,10),g.YNc(17,F,2,0,"th",11),g.YNc(18,O,2,1,"td",12),g.BQk(),g.ynx(19,13),g.YNc(20,D,2,0,"th",14),g.YNc(21,I,2,1,"td",15),g.BQk(),g.ynx(22,16),g.YNc(23,S,2,0,"th",14),g.YNc(24,L,2,1,"td",15),g.BQk(),g.ynx(25,17),g.YNc(26,C,2,0,"th",18),g.YNc(27,U,2,1,"td",19),g.BQk(),g.ynx(28,20),g.YNc(29,z,2,0,"th",21),g.YNc(30,ne,2,1,"td",22),g.BQk(),g.YNc(31,te,1,0,"tr",23),g.YNc(32,Me,1,0,"tr",24),g.YNc(33,ce,2,1,"tr",25),g.qZA()()()()(),g.TgZ(34,"div",1)(35,"div",3),g._UZ(36,"mat-paginator",26),g.qZA()()()()),2&ht&&(g.xp6(3),g.hij("",Et.parentItem.UserName," : Servidores multimedia"),g.xp6(10),g.Q6J("ngIf",Et.showLoading),g.xp6(2),g.Q6J("dataSource",Et.dataSource),g.xp6(16),g.Q6J("matHeaderRowDef",Et.getDisplayedColumns()),g.xp6(1),g.Q6J("matRowDefColumns",Et.getDisplayedColumns()),g.xp6(4),g.Q6J("color","primary")("pageSizeOptions",g.DdM(7,W)))},dependencies:[i.O5,n.NW,A.BZ,A.fO,A.as,A.w1,A.Dz,A.nj,A.ge,A.ev,A.XQ,A.Gk,A.Ee,T.Nt,B.KE,B.hX,b.YE,b.nU,P.Ou],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:850px!important}"]})}return qe})();function le(qe,ft){if(1&qe){const ze=g.EpF();g.TgZ(0,"div",1),g._UZ(1,"h5",2),g.TgZ(2,"button",3),g.NdJ("click",function(){g.CHM(ze);const Et=g.oxw();return g.KtG(Et.closeModal())}),g._UZ(3,"i",4),g.qZA()(),g.TgZ(4,"div",5),g._UZ(5,"app-media-server-list",6),g.qZA(),g.TgZ(6,"div",7)(7,"button",8),g.NdJ("click",function(){g.CHM(ze);const Et=g.oxw();return g.KtG(Et.closeModal())}),g._uU(8,"Close"),g.qZA()()}if(2&qe){const ze=g.oxw();g.xp6(5),g.Q6J("parentItem",ze.parent)}}let Ee=(()=>{class qe{constructor(ze){this.activeModal=ze}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(ht){return new(ht||qe)(g.Y36(d.Kz))};static#t=this.\u0275cmp=g.Xpm({type:qe,selectors:[["app-media-server-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(ht,Et){1&ht&&g.YNc(0,le,9,1,"ng-template",0),2&ht&&g.Q6J("ngIf",null!=Et.parent)},dependencies:[i.O5,Se]})}return qe})();var xe=v(5612),Ve=v(9223);function fe(qe,ft){if(1&qe&&g._UZ(0,"img",7),2&qe){const ze=g.oxw().$implicit;g.Q6J("src",ze.imageUrl,g.LSH)}}function Pe(qe,ft){if(1&qe&&g._UZ(0,"i"),2&qe){const ze=g.oxw().$implicit;g.Tol(ze.iconClass)}}function Ce(qe,ft){if(1&qe){const ze=g.EpF();g.TgZ(0,"div",2),g.NdJ("click",function(){const de=g.CHM(ze).$implicit,He=g.oxw();return g.KtG(He.onClickContextMenuOption(de))}),g.TgZ(1,"div",3),g.YNc(2,fe,1,1,"img",4),g.YNc(3,Pe,1,3,"i",5),g.qZA(),g.TgZ(4,"div",6),g._uU(5),g.qZA()()}if(2&qe){const ze=ft.$implicit;g.Udp("border-bottom",ze.showBorderBottom?"1px solid black":""),g.xp6(2),g.Q6J("ngIf",ze.imageUrl),g.xp6(1),g.Q6J("ngIf",ze.iconClass),g.xp6(2),g.hij(" ",ze.text," ")}}let De=(()=>{class qe{constructor(){this.hideContextMenu=new g.vpe,this.clickOption=new g.vpe}onClickOutside(){this.hideContextMenu.emit(!0)}onClickContextMenuOption(ze){this.clickOption.emit(ze)}static#e=this.\u0275fac=function(ht){return new(ht||qe)};static#t=this.\u0275cmp=g.Xpm({type:qe,selectors:[["app-custom-context-menu"]],decls:2,vars:5,consts:[[1,"sinovad-context-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-context-menu-option",3,"click"],[1,"sinovad-context-menu-option-icon"],["style","width:24px;",3,"src",4,"ngIf"],[3,"class",4,"ngIf"],[1,"sinovad-context-menu-option-text"],[2,"width","24px",3,"src"]],template:function(ht,Et){1&ht&&(g.TgZ(0,"div",0),g.NdJ("clickOutside",function(){return Et.onClickOutside()}),g.YNc(1,Ce,6,5,"ng-template",1),g.qZA()),2&ht&&(g.Udp("top",Et.top+"px")("left",Et.left+"px"),g.xp6(1),g.Q6J("ngForOf",Et.listOptions))},dependencies:[i.sg,i.O5,Ve._],styles:[".sinovad-context-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;color:#fff}.sinovad-context-menu-option[_ngcontent-%COMP%]{display:flex;padding:10px;cursor:pointer;align-items:center;opacity:.8}.sinovad-context-menu-option[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-context-menu-option-icon[_ngcontent-%COMP%]{display:block}.sinovad-context-menu-option-text[_ngcontent-%COMP%]{padding-left:10px;display:block}"]})}return qe})(),Re=(()=>{class qe{constructor(ze,ht,Et){this.factoryResolver=ze,this.injector=ht,this.applicationRef=Et}show(ze,ht,Et,de){return new Promise((He,bt)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const Zt=this.factoryResolver.resolveComponentFactory(De).create(this.injector);this.lastViewRef=Zt.hostView,this.applicationRef.attachView(Zt.hostView);let Kt=this;Zt.instance.left=ht,Zt.instance.top=Et,Zt.instance.listOptions=de,Zt.instance.clickOption.subscribe(xt=>{Zt.destroy(),Kt.applicationRef.detachView(Zt.hostView),He(xt)}),Zt.instance.hideContextMenu.subscribe(xt=>{Zt.destroy(),Kt.applicationRef.detachView(Zt.hostView),bt(!0)});const pn=Zt.hostView.rootNodes[0];document.getElementById(ze).appendChild(pn)})}static#e=this.\u0275fac=function(ht){return new(ht||qe)(g.LFG(g._Vd),g.LFG(g.zs3),g.LFG(g.z2F))};static#t=this.\u0275prov=g.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})();var Fe=v(1270),Ne=v(2596);function at(qe,ft){1&qe&&(g.TgZ(0,"div",26),g._UZ(1,"mat-spinner"),g.qZA())}function Be(qe,ft){1&qe&&(g.TgZ(0,"th",27),g._uU(1,"N\xb0"),g.qZA())}function ye(qe,ft){if(1&qe&&(g.TgZ(0,"td",28),g._uU(1),g.qZA()),2&qe){const ze=ft.index,ht=g.oxw();g.xp6(1),g.hij(" ",ht.getElementNumber(ze,ht.currentPage,ht.itemsPerPage),"")}}function ve(qe,ft){1&qe&&(g.TgZ(0,"th",29),g._uU(1," Usuario "),g.qZA())}function K(qe,ft){if(1&qe&&(g.TgZ(0,"td",30),g._uU(1),g.qZA()),2&qe){const ze=ft.$implicit;g.xp6(1),g.hij(" ",ze.UserName," ")}}function se(qe,ft){1&qe&&(g.TgZ(0,"th",29),g._uU(1," Correo "),g.qZA())}function ge(qe,ft){if(1&qe&&(g.TgZ(0,"td",30),g._uU(1),g.qZA()),2&qe){const ze=ft.$implicit;g.xp6(1),g.hij(" ",ze.Email," ")}}function oe(qe,ft){1&qe&&(g.TgZ(0,"th",29),g._uU(1," Nombres "),g.qZA())}function Q(qe,ft){if(1&qe&&(g.TgZ(0,"td",30),g._uU(1),g.qZA()),2&qe){const ze=ft.$implicit;g.xp6(1),g.hij(" ",ze.FirstName," ")}}function q(qe,ft){1&qe&&(g.TgZ(0,"th",29),g._uU(1," Apellidos "),g.qZA())}function $(qe,ft){if(1&qe&&(g.TgZ(0,"td",30),g._uU(1),g.qZA()),2&qe){const ze=ft.$implicit;g.xp6(1),g.hij(" ",ze.LastName," ")}}function ie(qe,ft){1&qe&&g._UZ(0,"th",31)}function Z(qe,ft){if(1&qe){const ze=g.EpF();g.TgZ(0,"td",32)(1,"div",33)(2,"button",34),g.NdJ("click",function(){const de=g.CHM(ze).$implicit,He=g.oxw();return g.KtG(He.deleteItem(de))}),g._UZ(3,"i",35),g.qZA()()()}}function X(qe,ft){1&qe&&g._UZ(0,"tr",36)}const pe=function(qe){return{active:qe}};function Te(qe,ft){if(1&qe){const ze=g.EpF();g.TgZ(0,"tr",37),g.NdJ("contextmenu",function(Et){const He=g.CHM(ze).$implicit,bt=g.oxw();return g.KtG(bt.onContextMenuItem(Et,He))}),g.qZA()}if(2&qe){const ze=ft.$implicit,ht=g.oxw();g.Q6J("ngClass",g.VKq(1,pe,ht.lastSelectedItem&&ze.Id==ht.lastSelectedItem.Id))}}function be(qe,ft){1&qe&&(g.TgZ(0,"td",40),g._uU(1,"No se encontraron datos"),g.qZA())}function Le(qe,ft){if(1&qe&&(g.TgZ(0,"tr",38),g.YNc(1,be,2,0,"td",39),g.qZA()),2&qe){const ze=g.oxw();g.xp6(1),g.Q6J("ngIf",!ze.showLoading)}}const et=function(){return[5,10,25,100]};let Qe=(()=>{class qe extends e.G{constructor(ze,ht,Et,de,He,bt,Ut){super(bt),this.router=ze,this.modalService=ht,this.contextMenuService=Et,this.dialog=de,this.userService=He,this.matPaginatorIntl=bt,this.snackbarService=Ut}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(ze=>{this.updatePageData(ze),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(ze=>{this.currentPage=1,this.sortBy=ze.active,this.sortDirection=ze.direction,this.getAllItems()}),this.sortBy="UserName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"UserName",start:"asc",disableClear:!0}),this.searchBy="UserName|Email|FirstName|LastName",this.dataSource.sort=this.sort}applyFilter(ze){this.searchText=ze.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.userService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(ze=>{this.showLoading=!1;var ht=ze.Data;this.totalCount=ze.TotalCount,this.listItems=ht,this.dataSource=new A.by(ht),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},ze=>{this.showLoading=!1})}deleteItem(ze){var ht=new _.vA;ht.data={title:"Eliminar usuario",message:"\xbfEsta seguro que desea eliminar el usuario "+ze.UserName+"?",accordMessage:"Si, eliminar el usuario '"+ze.UserName+"'"},this.dialog.open(x.k,ht).afterClosed().subscribe(Et=>{Et&&this.executeDeleteItem(ze)})}executeDeleteItem(ze){this.showLoading=!0,this.userService.deleteItem(ze.Id).then(ht=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",w.dA.Success),this.getAllItems()},ht=>{this.showLoading=!1,this.snackbarService.showSnackBar(ht,w.dA.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var ze=new _.vA;ze.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(x.k,ze).afterClosed().subscribe(ht=>{ht&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.userService.deleteItems(this.selection.selected).then(ze=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",w.dA.Success),this.getAllItems()},ze=>{this.showLoading=!1,this.snackbarService.showSnackBar(ze,w.dA.Error)})}getDisplayedColumns(){return window.innerWidth>1050?["Id","UserName","Email","FirstName","LastName","Actions"]:window.innerWidth>950?["Id","UserName","Email","FirstName","Actions"]:window.innerWidth>675?["Id","UserName","Email","Actions"]:(window,["Id","UserName","Actions"])}onContextMenuItem(ze,ht){this.lastSelectedItem=ht,ze.preventDefault(),ze.stopPropagation();let Et=[];Et.push({key:"ShowMediaServers",text:"Servidores multimedia",iconClass:"fa-solid fa-server"}),Et&&Et.length>0&&this.renderContextMenuComponent(ze.clientX,ze.clientY,Et,ht)}renderContextMenuComponent(ze,ht,Et,de){this.contextMenuService.show("sinovadMainContainer",ze,ht,Et).then(He=>{"ShowMediaServers"==He.key&&this.showMediaServerListModal(de)},()=>{this.lastSelectedItem=void 0})}showMediaServerListModal(ze){var ht=this,Et=this.modalService.open(Ee,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});Et.componentInstance.parent=ze,Et.closed.subscribe(de=>{ht.lastSelectedItem=void 0})}static#e=this.\u0275fac=function(ht){return new(ht||qe)(g.Y36(xe.F0),g.Y36(d.FF),g.Y36(Re),g.Y36(_.uw),g.Y36(Fe.K),g.Y36(n.ye),g.Y36(p.c))};static#t=this.\u0275cmp=g.Xpm({type:qe,selectors:[["app-user-list"]],viewQuery:function(ht,Et){if(1&ht&&(g.Gf(n.NW,5),g.Gf(b.YE,5)),2&ht){let de;g.iGM(de=g.CRH())&&(Et.paginator=de.first),g.iGM(de=g.CRH())&&(Et.sort=de.first)}},features:[g.qOj],decls:40,vars:7,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","UserName"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Email"],["matColumnDef","FirstName"],["matColumnDef","LastName"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",3,"ngClass","contextmenu",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],[1,"fa-solid","fa-trash"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable",3,"ngClass","contextmenu"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(ht,Et){1&ht&&(g.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),g._uU(3,"Usuarios"),g.qZA()(),g.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),g._uU(9,"Buscar"),g.qZA(),g.TgZ(10,"input",4,5),g.NdJ("keyup",function(He){return Et.applyFilter(He)}),g.qZA()(),g.TgZ(12,"div",6),g.YNc(13,at,2,0,"div",7),g.TgZ(14,"div",8)(15,"table",9),g.ynx(16,10),g.YNc(17,Be,2,0,"th",11),g.YNc(18,ye,2,1,"td",12),g.BQk(),g.ynx(19,13),g.YNc(20,ve,2,0,"th",14),g.YNc(21,K,2,1,"td",15),g.BQk(),g.ynx(22,16),g.YNc(23,se,2,0,"th",14),g.YNc(24,ge,2,1,"td",15),g.BQk(),g.ynx(25,17),g.YNc(26,oe,2,0,"th",14),g.YNc(27,Q,2,1,"td",15),g.BQk(),g.ynx(28,18),g.YNc(29,q,2,0,"th",14),g.YNc(30,$,2,1,"td",15),g.BQk(),g.ynx(31,19),g.YNc(32,ie,1,0,"th",20),g.YNc(33,Z,4,0,"td",21),g.BQk(),g.YNc(34,X,1,0,"tr",22),g.YNc(35,Te,1,3,"tr",23),g.YNc(36,Le,2,1,"tr",24),g.qZA()()()()(),g.TgZ(37,"div",1)(38,"div",3),g._UZ(39,"mat-paginator",25),g.qZA()()()()),2&ht&&(g.xp6(13),g.Q6J("ngIf",Et.showLoading),g.xp6(2),g.Q6J("dataSource",Et.dataSource),g.xp6(19),g.Q6J("matHeaderRowDef",Et.getDisplayedColumns()),g.xp6(1),g.Q6J("matRowDefColumns",Et.getDisplayedColumns()),g.xp6(4),g.Q6J("color","primary")("pageSizeOptions",g.DdM(6,et)))},dependencies:[i.mk,i.O5,n.NW,A.BZ,A.fO,A.as,A.w1,A.Dz,A.nj,A.ge,A.ev,A.XQ,A.Gk,A.Ee,T.Nt,B.KE,B.hX,b.YE,b.nU,P.Ou,Ne.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return qe})()},1270:(Hn,Xe,v)=>{"use strict";v.d(Xe,{K:()=>d});var e=v(863),n=v(2372),b=v(8645),A=v(5879),_=v(5864),x=v(616),w=v(4001),g=v(6294);let d=(()=>{class i{constructor(p,T,B,P){this.menuService=p,this.signalIRHubService=T,this.sharedService=B,this.restProvider=P,this.completedCallGetUserData$=new b.x,this.calledGetUserData=!1}completeCallGetUserData(){this.completedCallGetUserData$.next(!0)}isCompletedCallGetUserData(){return this.completedCallGetUserData$.asObservable()}clearSessionData(){this.calledGetUserData=!1,this.sharedService.manageMenus=[],this.sharedService.currentProfile=void 0,this.sharedService.userData=void 0,this.sharedService.apiToken=void 0,this.signalIRHubService.stopConnection(),localStorage.removeItem("apiToken")}getUserData(){this.restProvider.executeSinovadApiService(e.yw.GET,"/users/GetUserData").then(p=>{let T=p.Data;T&&T.User?(this.sharedService.userData=T.User,this.sharedService.mediaServers=T.MediaServers,this.sharedService.linkedAccounts=T.LinkedAccounts,this.sharedService.listProfiles=T.Profiles,this.sharedService.currentProfile=T.Profiles[0],this.signalIRHubService.openConnection(),this.menuService.getManageMenu()):(this.sharedService.apiToken=void 0,localStorage.removeItem("apiToken")),this.calledGetUserData=!0,this.completeCallGetUserData()},p=>{this.calledGetUserData=!0,localStorage.removeItem("apiToken"),this.completeCallGetUserData(),console.error(p)})}getItems(p,T,B,P,k,F){return new Promise((O,D)=>{let I=(0,n.Z)();this.lastCallGuid=I;var S="?page="+p.toString()+"&take="+T.toString()+"&sortBy="+B+"&sortDirection="+P+"&searchText="+k+"&searchBy="+F;this.restProvider.executeSinovadApiService(e.yw.GET,"/users/GetAllWithPaginationAsync"+S).then(C=>{this.lastCallGuid==I&&O(C)},C=>{console.error(C),D(C)})})}saveItem(p){return new Promise((T,B)=>{this.restProvider.executeSinovadApiService(p.Id>0?e.yw.PUT:e.yw.POST,p.Id>0?"/users/Update":"/users/Create",p).then(F=>{T(!0)},F=>{console.error(F),B(F)})})}deleteItem(p){return new Promise((T,B)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/users/Delete/"+p).then(k=>{T(k)},k=>{console.error(k),B(k)})})}deleteItems(p){return new Promise((T,B)=>{let P=[];for(let O=0;O<p.length;O++)P.push(p[O].Id);var k=P.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/users/DeleteList/"+k).then(O=>{T(O)},O=>{console.error(O),B(O)})})}static#e=this.\u0275fac=function(T){return new(T||i)(A.LFG(_.h),A.LFG(x.n),A.LFG(w.F),A.LFG(g.C))};static#t=this.\u0275prov=A.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},8532:(Hn,Xe,v)=>{"use strict";v.d(Xe,{h:()=>P});var e=v(5879),n=v(3094),b=v(5612),A=v(4001),_=v(6814),x=v(9768),w=v(1531);function g(k,F){if(1&k&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&k){const O=e.oxw().$implicit,D=e.oxw(2);e.xp6(1),e.hij(" ",D.sharedService.getInitials(O)," ")}}function d(k,F){if(1&k&&(e._UZ(0,"img",23),e.ALo(1,"async"),e.ALo(2,"formatDataPipe")),2&k){const O=e.oxw().$implicit;e.uIk("src",e.lcZ(1,1,e.xi3(2,3,O.Id,"GetAvatarImageURLByProfileId")),e.LSH)}}function i(k,F){1&k&&(e.TgZ(0,"div",24)(1,"div",25),e._UZ(2,"img",6),e.ALo(3,"async"),e.ALo(4,"formatDataPipe"),e.qZA()()),2&k&&(e.xp6(2),e.Q6J("src",e.lcZ(3,1,e.xi3(4,3,"edit-profile.png","GetIconURLByKey")),e.LSH))}function h(k,F){if(1&k){const O=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){const S=e.CHM(O).$implicit,L=e.oxw(2);return e.KtG(L.onSelectProfile(S))}),e.YNc(1,g,2,1,"div",20),e.YNc(2,d,3,6,"img",20),e.YNc(3,i,5,6,"div",21),e.TgZ(4,"div",22),e._uU(5),e.qZA()()}if(2&k){const O=F.$implicit,D=e.oxw(2);e.MGl("id","profile_",O.Id,""),e.xp6(1),e.Q6J("ngIf",null==O.AvatarPath),e.xp6(1),e.Q6J("ngIf",null!=O.AvatarPath),e.xp6(1),e.Q6J("ngIf",D.enableEditMode),e.xp6(2),e.hij(" ",O.FullName," ")}}function p(k,F){if(1&k&&e.YNc(0,h,6,5,"ng-template",18),2&k){const O=e.oxw();e.Q6J("ngForOf",O.sharedService.listProfiles)}}function T(k,F){if(1&k){const O=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(O);const I=e.oxw();return e.KtG(I.changeToEditMode())}),e._uU(1," EDITAR PERFILES "),e.qZA()}}function B(k,F){if(1&k){const O=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(O);const I=e.oxw();return e.KtG(I.confirmEdit())}),e._uU(1," LISTO "),e.qZA()}}let P=(()=>{class k{constructor(O,D,I){this.profileService=O,this.router=D,this.sharedService=I,this.enableEditMode=!1,this.showLoading=!0,this._window=window}ngOnInit(){this.getProfiles()}changeToEditMode(){this.enableEditMode=!0}confirmEdit(){this.enableEditMode=!1}showNewProfile(){this.router.navigateByUrl("/profiles/add")}editProfile(O){this.router.navigateByUrl("/profiles/edit/"+O.Guid)}onSelectProfile(O){this.enableEditMode?this.editProfile(O):this.enterProfile(O)}enterProfile(O){this.sharedService.currentProfile=O,this.router.navigateByUrl("/home")}getProfiles(){this.showLoading=!0,this.profileService.getProfiles(this.sharedService.userData.Id,1,100,"Id","asc","","").then(O=>{let D=O.Data;this.sharedService.listProfiles=D,this.sharedService.currentProfile=D[0],this.showLoading=!1},O=>{this.showLoading=!1})}static#e=this.\u0275fac=function(D){return new(D||k)(e.Y36(n.H),e.Y36(b.F0),e.Y36(A.F))};static#t=this.\u0275cmp=e.Xpm({type:k,selectors:[["app-profiles-view"]],decls:26,vars:18,consts:[[1,"sinovad-profiles-view-container","sinovad-profiles-section"],[1,"sinovad-profiles-view-content"],["profilesViewContent",""],[1,"sinovad-page-header"],["profilesViewHeader",""],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-profiles-view-body"],[1,"sinovad-profiles-view-title-container"],[1,"sinovad-profiles-view-list-container"],[3,"ngIf"],["id","create_new_profile",3,"click"],[1,"sinovad-initials-profile","add"],["width","40px",3,"src"],[1,"sinovad-fullname-profile"],[1,"sinovad-profiles-view-footer"],["profilesViewFooter",""],[3,"showLoading"],["ngFor","",3,"ngForOf"],[3,"id","click"],["class","sinovad-initials-profile",4,"ngIf"],["class","sinovad-icon-edit-profile-container",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],[1,"sinovad-initials-profile"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[3,"click"],[1,"ready",3,"click"]],template:function(D,I){if(1&D&&(e.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3,4)(5,"div",5),e._UZ(6,"img",6),e.ALo(7,"async"),e.ALo(8,"formatDataPipe"),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8),e._uU(11," \xbfQui\xe9n eres? "),e.qZA(),e.TgZ(12,"div",9),e.YNc(13,p,1,1,"ng-template",10),e.TgZ(14,"button",11),e.NdJ("click",function(){return I.showNewProfile()}),e.TgZ(15,"div",12),e._UZ(16,"img",13),e.ALo(17,"async"),e.ALo(18,"formatDataPipe"),e.qZA(),e.TgZ(19,"div",14),e._uU(20," Crear "),e.qZA()()()(),e.TgZ(21,"div",15,16),e.YNc(23,T,2,0,"ng-template",10),e.YNc(24,B,2,0,"ng-template",10),e.qZA()()(),e._UZ(25,"app-custom-spinner",17)),2&D){const S=e.MAs(4),L=e.MAs(22);e.xp6(6),e.Q6J("src",e.lcZ(7,8,e.xi3(8,10,"sinovad-stream-large-logo.png","GetIconURLByKey")),e.LSH),e.xp6(3),e.Udp("height",I._window.innerWidth<768?"calc(100% - "+(S.offsetHeight+L.offsetHeight)+"px)":""),e.xp6(4),e.Q6J("ngIf",I.sharedService.listProfiles),e.xp6(3),e.Q6J("src",e.lcZ(17,13,e.xi3(18,15,"plus.png","GetIconURLByKey")),e.LSH),e.xp6(7),e.Q6J("ngIf",!I.enableEditMode),e.xp6(1),e.Q6J("ngIf",I.enableEditMode),e.xp6(1),e.Q6J("showLoading",I.showLoading)}},dependencies:[_.sg,_.O5,x.D,_.Ov,w.A],styles:["[_nghost-%COMP%]{width:100%;height:100%;background:black;position:absolute;bottom:0;left:0}.sinovad-profiles-section[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}section[_ngcontent-%COMP%]{outline:none}input[_ngcontent-%COMP%]{outline:none}.sinovad-profiles-view-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.sinovad-profiles-view-content[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.sinovad-profiles-view-title-container[_ngcontent-%COMP%]{font-size:32px;color:#fff;text-align:center;padding-bottom:60px;font-weight:700}.sinovad-profiles-view-body[_ngcontent-%COMP%]{overflow-y:auto}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;opacity:.8;padding:0;margin-right:20px;width:140px}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:60px;padding-bottom:30px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;opacity:.8;background:lightslategrey;color:#fff;font-size:15px;height:48PX;padding:0 24px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button.ready[_ngcontent-%COMP%]{background:#007bff}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:100px;border:none;display:flex;align-items:center;justify-content:center;font-size:80px;background:lightslategrey;color:#fff}.sinovad-initials-profile.add[_ngcontent-%COMP%]{background:#007bff}.sinovad-initials-profile.add[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px}.sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;color:#fff;font-size:30px;padding-top:10px}.sinovad-screen-back-container[_ngcontent-%COMP%]{position:relative}.sinovad-screen-back-content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;left:0;position:absolute;margin-left:20px;opacity:.8;height:60px;display:flex;align-items:center;justify-content:center}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{width:54px}"]})}return k})()},3094:(Hn,Xe,v)=>{"use strict";v.d(Xe,{H:()=>x});var e=v(863),n=v(2372),b=v(5879),A=v(4001),_=v(6294);let x=(()=>{class w{constructor(d,i){this.sharedService=d,this.restProvider=i}getProfileByGuid(d){return new Promise((i,h)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/profiles/GetByGuidAsync/"+d).then(p=>{i(p)},p=>{console.error(p),h(p)})})}getAllProfiles(){return new Promise((d,i)=>{this.restProvider.executeSinovadApiService(e.yw.GET,"/profiles/GetAllWithPaginationByUserAsync/"+this.sharedService.userData.Id).then(h=>{let p=h.Data;this.sharedService.listProfiles=p,this.sharedService.currentProfile=p[0],d(!0)},h=>{i(h)})})}getProfiles(d,i,h,p,T,B,P){return new Promise((k,F)=>{let O=(0,n.Z)();this.lastCallGuid=O;var D="?page="+i.toString()+"&take="+h.toString()+"&sortBy="+p+"&sortDirection="+T+"&searchText="+B+"&searchBy="+P;this.restProvider.executeSinovadApiService(e.yw.GET,"/profiles/GetAllWithPaginationByUserAsync/"+d+D).then(S=>{this.lastCallGuid==O&&k(S)},S=>{console.error(S),F(S)})})}saveItem(d){return new Promise((i,h)=>{this.restProvider.executeSinovadApiService(d.Id>0?e.yw.PUT:e.yw.POST,d.Id>0?"/profiles/Update":"/profiles/Create",d).then(B=>{i(!0)},B=>{console.error(B),h(B)})})}deleteItem(d){return new Promise((i,h)=>{this.restProvider.executeSinovadApiService(e.yw.DELETE,"/profiles/Delete/"+d).then(T=>{i(T)},T=>{console.error(T),h(T)})})}deleteItems(d){return new Promise((i,h)=>{let p=[];for(let P=0;P<d.length;P++)p.push(d[P].Id);var T=p.join(",");this.restProvider.executeSinovadApiService(e.yw.DELETE,"/profiles/DeleteList/"+T).then(P=>{i(P)},P=>{console.error(P),h(P)})})}static#e=this.\u0275fac=function(i){return new(i||w)(b.LFG(A.F),b.LFG(_.C))};static#t=this.\u0275prov=b.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})()},5775:(Hn,Xe,v)=>{"use strict";v.d(Xe,{N:()=>Ve});var e=v(863),n=v(5879),b=v(8832),A=v(4001),_=v(6814),x=v(95),w=v(6294);let g=(()=>{class fe{constructor(Ce){this.restProvider=Ce}setPassword(Ce){return new Promise((me,De)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/SetPassword",Ce).then(Re=>{me(!0)},Re=>{console.error(Re),De(Re)})})}changePassword(Ce){return new Promise((me,De)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ChangePassword",Ce).then(Re=>{me(!0)},Re=>{console.error(Re),De(Re)})})}changeUsername(Ce){return new Promise((me,De)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ChangeUserName",Ce).then(Re=>{me(!0)},Re=>{console.error(Re),De(Re)})})}changeNanes(Ce){return new Promise((me,De)=>{this.restProvider.executeSinovadApiService(e.yw.POST,"/users/ChangeNames",Ce).then(Re=>{me(!0)},Re=>{console.error(Re),De(Re)})})}static#e=this.\u0275fac=function(me){return new(me||fe)(n.LFG(w.C))};static#t=this.\u0275prov=n.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})();function d(fe,Pe){if(1&fe&&(n.TgZ(0,"div",13),n._UZ(1,"i",14),n._uU(2),n.qZA()),2&fe){const Ce=n.oxw();n.xp6(2),n.hij("",Ce.serverErrorMessage," ")}}function i(fe,Pe){1&fe&&n._UZ(0,"div",15)}const h=function(fe){return{error:fe}};let p=(()=>{class fe{constructor(Ce,me,De){this.accountSettingsService=Ce,this.formBuilder=me,this.sharedService=De,this.serverErrorMessage=void 0,this.closeChangePassword=new n.vpe,this.changePasswordForm=this.formBuilder.group({password:new x.NI("",[x.kI.required]),confirmPassword:new x.NI("",[x.kI.required]),currentPassword:new x.NI("",[x.kI.required])}),this.loading=!1}ngOnInit(){}changePasword(){this.changePasswordForm.valid?(this.changePasswordData={UserId:this.sharedService.userData.Id,Password:this.changePasswordForm.value.password,ConfirmPassword:this.changePasswordForm.value.confirmPassword,CurrentPassword:this.changePasswordForm.value.currentPassword},this.loading=!0,this.accountSettingsService.changePassword(this.changePasswordData).then(Ce=>{this.loading=!1,this.closeChangePassword.emit(!0)},Ce=>{this.loading=!1,this.serverErrorMessage=Ce,console.error(Ce)})):(this.serverErrorMessage=void 0,this.changePasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(me){return new(me||fe)(n.Y36(g),n.Y36(x.qu),n.Y36(A.F))};static#t=this.\u0275cmp=n.Xpm({type:fe,selectors:[["app-change-password"]],outputs:{closeChangePassword:"closeChangePassword"},decls:24,vars:18,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],["type","password","formControlName","currentPassword"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(me,De){1&me&&(n.TgZ(0,"div",0),n.YNc(1,d,3,1,"div",1),n.TgZ(2,"div",2)(3,"div",3)(4,"button",4),n.NdJ("click",function(){return De.closeChangePassword.emit(!0)}),n._uU(5,"Cancelar"),n.qZA()(),n.TgZ(6,"form",5),n.NdJ("ngSubmit",function(){return De.changePasword()}),n.TgZ(7,"div",6)(8,"label"),n._uU(9),n.qZA(),n._UZ(10,"input",7),n.qZA(),n.TgZ(11,"div",6)(12,"label"),n._uU(13),n.qZA(),n._UZ(14,"input",8),n.qZA(),n.TgZ(15,"div",6)(16,"label"),n._uU(17),n.qZA(),n._UZ(18,"input",9),n.qZA(),n.TgZ(19,"div",10)(20,"button",11)(21,"span"),n._uU(22,"Guardar Cambios"),n.qZA(),n.YNc(23,i,1,0,"div",12),n.qZA()()()()()),2&me&&(n.xp6(1),n.Q6J("ngIf",De.serverErrorMessage),n.xp6(5),n.Q6J("formGroup",De.changePasswordForm),n.xp6(1),n.Q6J("ngClass",n.VKq(12,h,De.sharedService.isInvalidFormControl(De.changePasswordForm,"password"))),n.xp6(2),n.hij(" Contrase\xf1a",De.sharedService.isInvalidFormControl(De.changePasswordForm,"password")&&De.sharedService.hasRequireErrorFormControl(De.changePasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),n.xp6(2),n.Q6J("ngClass",n.VKq(14,h,De.sharedService.isInvalidFormControl(De.changePasswordForm,"confirmPassword"))),n.xp6(2),n.hij("Confirme la nueva contrase\xf1a",De.sharedService.isInvalidFormControl(De.changePasswordForm,"confirmPassword")&&De.sharedService.hasRequireErrorFormControl(De.changePasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),n.xp6(2),n.Q6J("ngClass",n.VKq(16,h,De.sharedService.isInvalidFormControl(De.changePasswordForm,"currentPassword"))),n.xp6(2),n.hij("Contrase\xf1a actual",De.sharedService.isInvalidFormControl(De.changePasswordForm,"currentPassword")&&De.sharedService.hasRequireErrorFormControl(De.changePasswordForm,"currentPassword")?" - Introduza la contrase\xf1a actual":"",""),n.xp6(3),n.Q6J("disabled",De.loading||!De.changePasswordForm.valid),n.xp6(1),n.Udp("visibility",De.loading?"hidden":"unset"),n.xp6(2),n.Q6J("ngIf",De.loading))},dependencies:[_.mk,_.O5,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return fe})();function T(fe,Pe){if(1&fe&&(n.TgZ(0,"div",12),n._UZ(1,"i",13),n._uU(2),n.qZA()),2&fe){const Ce=n.oxw();n.xp6(2),n.hij("",Ce.serverErrorMessage," ")}}function B(fe,Pe){1&fe&&n._UZ(0,"div",14)}const P=function(fe){return{error:fe}};let k=(()=>{class fe{constructor(Ce,me,De){this.accountSettingsService=Ce,this.formBuilder=me,this.sharedService=De,this.serverErrorMessage=void 0,this.closeSetPassword=new n.vpe,this.setPasswordForm=this.formBuilder.group({password:new x.NI("",[x.kI.required]),confirmPassword:new x.NI("",[x.kI.required])}),this.loading=!1}ngOnInit(){}setPassword(){this.setPasswordForm.valid?(this.setPasswordData={UserId:this.sharedService.userData.Id,Password:this.setPasswordForm.value.password,ConfirmPassword:this.setPasswordForm.value.confirmPassword},this.loading=!0,this.accountSettingsService.setPassword(this.setPasswordData).then(Ce=>{this.loading=!1,this.sharedService.userData.IsPasswordSetted=!0,this.closeSetPassword.emit(!0)},Ce=>{this.loading=!1,this.serverErrorMessage=Ce,console.error(Ce)})):(this.serverErrorMessage=void 0,this.setPasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(me){return new(me||fe)(n.Y36(g),n.Y36(x.qu),n.Y36(A.F))};static#t=this.\u0275cmp=n.Xpm({type:fe,selectors:[["app-set-password"]],outputs:{closeSetPassword:"closeSetPassword"},decls:20,vars:14,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(me,De){1&me&&(n.TgZ(0,"div",0),n.YNc(1,T,3,1,"div",1),n.TgZ(2,"div",2)(3,"div",3)(4,"button",4),n.NdJ("click",function(){return De.closeSetPassword.emit(!0)}),n._uU(5,"Cancelar"),n.qZA()(),n.TgZ(6,"form",5),n.NdJ("ngSubmit",function(){return De.setPassword()}),n.TgZ(7,"div",6)(8,"label"),n._uU(9),n.qZA(),n._UZ(10,"input",7),n.qZA(),n.TgZ(11,"div",6)(12,"label"),n._uU(13),n.qZA(),n._UZ(14,"input",8),n.qZA(),n.TgZ(15,"div",9)(16,"button",10)(17,"span"),n._uU(18,"Guardar Cambios"),n.qZA(),n.YNc(19,B,1,0,"div",11),n.qZA()()()()()),2&me&&(n.xp6(1),n.Q6J("ngIf",De.serverErrorMessage),n.xp6(5),n.Q6J("formGroup",De.setPasswordForm),n.xp6(1),n.Q6J("ngClass",n.VKq(10,P,De.sharedService.isInvalidFormControl(De.setPasswordForm,"password"))),n.xp6(2),n.hij(" Elegir una Contrase\xf1a",De.sharedService.isInvalidFormControl(De.setPasswordForm,"password")&&De.sharedService.hasRequireErrorFormControl(De.setPasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),n.xp6(2),n.Q6J("ngClass",n.VKq(12,P,De.sharedService.isInvalidFormControl(De.setPasswordForm,"confirmPassword"))),n.xp6(2),n.hij("Confirmar la contrase\xf1a",De.sharedService.isInvalidFormControl(De.setPasswordForm,"confirmPassword")&&De.sharedService.hasRequireErrorFormControl(De.setPasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),n.xp6(3),n.Q6J("disabled",De.loading||!De.setPasswordForm.valid),n.xp6(1),n.Udp("visibility",De.loading?"hidden":"unset"),n.xp6(2),n.Q6J("ngIf",De.loading))},dependencies:[_.mk,_.O5,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return fe})();function F(fe,Pe){if(1&fe&&(n.TgZ(0,"div",11),n._UZ(1,"i",12),n._uU(2),n.qZA()),2&fe){const Ce=n.oxw();n.xp6(2),n.hij("",Ce.serverErrorMessage," ")}}function O(fe,Pe){1&fe&&n._UZ(0,"div",13)}const D=function(fe){return{error:fe}};let I=(()=>{class fe{constructor(Ce,me,De){this.accountSettingsService=Ce,this.formBuilder=me,this.sharedService=De,this.serverErrorMessage=void 0,this.closeChangeUsername=new n.vpe,this.changeUsernameForm=this.formBuilder.group({username:new x.NI(this.sharedService.userData.UserName,[x.kI.required])}),this.loading=!1}ngOnInit(){}changeUsername(){this.changeUsernameForm.valid?(this.changeUsernameData={UserId:this.sharedService.userData.Id,UserName:this.changeUsernameForm.value.username},this.loading=!0,this.accountSettingsService.changeUsername(this.changeUsernameData).then(Ce=>{this.loading=!1,this.sharedService.userData.UserName=this.changeUsernameData.UserName,this.closeChangeUsername.emit(!0)},Ce=>{this.loading=!1,this.serverErrorMessage=Ce,console.error(Ce)})):(this.serverErrorMessage=void 0,this.changeUsernameForm.markAllAsTouched())}static#e=this.\u0275fac=function(me){return new(me||fe)(n.Y36(g),n.Y36(x.qu),n.Y36(A.F))};static#t=this.\u0275cmp=n.Xpm({type:fe,selectors:[["app-change-username"]],outputs:{closeChangeUsername:"closeChangeUsername"},decls:16,vars:10,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["formControlName","username"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(me,De){1&me&&(n.TgZ(0,"div",0),n.YNc(1,F,3,1,"div",1),n.TgZ(2,"div",2)(3,"div",3)(4,"button",4),n.NdJ("click",function(){return De.closeChangeUsername.emit(!0)}),n._uU(5,"Cancelar"),n.qZA()(),n.TgZ(6,"form",5),n.NdJ("ngSubmit",function(){return De.changeUsername()}),n.TgZ(7,"div",6)(8,"label"),n._uU(9),n.qZA(),n._UZ(10,"input",7),n.qZA(),n.TgZ(11,"div",8)(12,"button",9)(13,"span"),n._uU(14,"Guardar Cambios"),n.qZA(),n.YNc(15,O,1,0,"div",10),n.qZA()()()()()),2&me&&(n.xp6(1),n.Q6J("ngIf",De.serverErrorMessage),n.xp6(5),n.Q6J("formGroup",De.changeUsernameForm),n.xp6(1),n.Q6J("ngClass",n.VKq(8,D,De.sharedService.isInvalidFormControl(De.changeUsernameForm,"username"))),n.xp6(2),n.hij(" Nombre de Usuario",De.sharedService.isInvalidFormControl(De.changeUsernameForm,"username")&&De.sharedService.hasRequireErrorFormControl(De.changeUsernameForm,"username")?" - Se requiere nombre de usuario":""," "),n.xp6(3),n.Q6J("disabled",De.loading||De.changeUsernameForm.pristine||!De.changeUsernameForm.valid||De.changeUsernameForm.value.username==De.sharedService.userData.UserName),n.xp6(1),n.Udp("visibility",De.loading?"hidden":"unset"),n.xp6(2),n.Q6J("ngIf",De.loading))},dependencies:[_.mk,_.O5,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return fe})();function S(fe,Pe){if(1&fe&&(n.TgZ(0,"div",12),n._UZ(1,"i",13),n._uU(2),n.qZA()),2&fe){const Ce=n.oxw();n.xp6(2),n.hij("",Ce.serverErrorMessage," ")}}function L(fe,Pe){1&fe&&n._UZ(0,"div",14)}const C=function(fe){return{error:fe}};let U=(()=>{class fe{constructor(Ce,me,De){this.accountSettingsService=Ce,this.formBuilder=me,this.sharedService=De,this.serverErrorMessage=void 0,this.closeChangeNames=new n.vpe,this.changeNamesForm=this.formBuilder.group({firstName:new x.NI(this.sharedService.userData.FirstName,[x.kI.required]),lastName:new x.NI(this.sharedService.userData.LastName,[x.kI.required])}),this.loading=!1}ngOnInit(){}changeUsername(){this.changeNamesForm.valid?(this.changeNamesData={UserId:this.sharedService.userData.Id,FirstName:this.changeNamesForm.value.firstName,LastName:this.changeNamesForm.value.lastName},this.loading=!0,this.accountSettingsService.changeNanes(this.changeNamesData).then(Ce=>{this.loading=!1,this.sharedService.userData.FirstName=this.changeNamesData.FirstName,this.sharedService.userData.LastName=this.changeNamesData.LastName,this.closeChangeNames.emit(!0)},Ce=>{this.loading=!1,this.serverErrorMessage=Ce,console.error(Ce)})):(this.serverErrorMessage=void 0,this.changeNamesForm.markAllAsTouched())}static#e=this.\u0275fac=function(me){return new(me||fe)(n.Y36(g),n.Y36(x.qu),n.Y36(A.F))};static#t=this.\u0275cmp=n.Xpm({type:fe,selectors:[["app-change-names"]],outputs:{closeChangeNames:"closeChangeNames"},decls:20,vars:14,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["formControlName","firstName"],["formControlName","lastName"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(me,De){1&me&&(n.TgZ(0,"div",0),n.YNc(1,S,3,1,"div",1),n.TgZ(2,"div",2)(3,"div",3)(4,"button",4),n.NdJ("click",function(){return De.closeChangeNames.emit(!0)}),n._uU(5,"Cancelar"),n.qZA()(),n.TgZ(6,"form",5),n.NdJ("ngSubmit",function(){return De.changeUsername()}),n.TgZ(7,"div",6)(8,"label"),n._uU(9),n.qZA(),n._UZ(10,"input",7),n.qZA(),n.TgZ(11,"div",6)(12,"label"),n._uU(13),n.qZA(),n._UZ(14,"input",8),n.qZA(),n.TgZ(15,"div",9)(16,"button",10)(17,"span"),n._uU(18,"Guardar Cambios"),n.qZA(),n.YNc(19,L,1,0,"div",11),n.qZA()()()()()),2&me&&(n.xp6(1),n.Q6J("ngIf",De.serverErrorMessage),n.xp6(5),n.Q6J("formGroup",De.changeNamesForm),n.xp6(1),n.Q6J("ngClass",n.VKq(10,C,De.sharedService.isInvalidFormControl(De.changeNamesForm,"firstName"))),n.xp6(2),n.hij(" Nombres",De.sharedService.isInvalidFormControl(De.changeNamesForm,"firstName")&&De.sharedService.hasRequireErrorFormControl(De.changeNamesForm,"firstName")?" - Se requiere nombres":""," "),n.xp6(2),n.Q6J("ngClass",n.VKq(12,C,De.sharedService.isInvalidFormControl(De.changeNamesForm,"lastName"))),n.xp6(2),n.hij(" Apellidos",De.sharedService.isInvalidFormControl(De.changeNamesForm,"lastName")&&De.sharedService.hasRequireErrorFormControl(De.changeNamesForm,"lastName")?" - Se requiere apellidos":""," "),n.xp6(3),n.Q6J("disabled",De.loading||De.changeNamesForm.pristine||!De.changeNamesForm.valid),n.xp6(1),n.Udp("visibility",De.loading?"hidden":"unset"),n.xp6(2),n.Q6J("ngIf",De.loading))},dependencies:[_.mk,_.O5,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return fe})();function z(fe,Pe){if(1&fe){const Ce=n.EpF();n.TgZ(0,"div",13),n.NdJ("click",function(){n.CHM(Ce);const De=n.oxw();return n.KtG(De.isCollapsedChangeUsernameSection=!1)}),n.TgZ(1,"div",8)(2,"div",14)(3,"button",15),n._uU(4,"Editar"),n.qZA()(),n.TgZ(5,"div",9)(6,"label"),n._uU(7,"Nombre de Usuario"),n.qZA(),n.TgZ(8,"span"),n._uU(9),n.qZA()()()()}if(2&fe){const Ce=n.oxw();n.xp6(9),n.Oqu(Ce.sharedService.userData.UserName)}}function ne(fe,Pe){if(1&fe){const Ce=n.EpF();n.TgZ(0,"app-change-username",16),n.NdJ("closeChangeUsername",function(){n.CHM(Ce);const De=n.oxw();return n.KtG(De.isCollapsedChangeUsernameSection=!0)}),n.qZA()}}function te(fe,Pe){if(1&fe){const Ce=n.EpF();n.TgZ(0,"div",13),n.NdJ("click",function(){n.CHM(Ce);const De=n.oxw();return n.KtG(De.isCollapsedChangeNamesSection=!1)}),n.TgZ(1,"div",8)(2,"div",14)(3,"button",15),n._uU(4,"Editar"),n.qZA()(),n.TgZ(5,"div",9)(6,"label"),n._uU(7,"Nombres y apellidos"),n.qZA(),n.TgZ(8,"span"),n._uU(9),n.qZA()()()()}if(2&fe){const Ce=n.oxw();n.xp6(9),n.AsE("",Ce.sharedService.userData.FirstName," ",Ce.sharedService.userData.LastName,"")}}function Me(fe,Pe){if(1&fe){const Ce=n.EpF();n.TgZ(0,"app-change-names",17),n.NdJ("closeChangeNames",function(){n.CHM(Ce);const De=n.oxw();return n.KtG(De.isCollapsedChangeNamesSection=!0)}),n.qZA()}}function J(fe,Pe){1&fe&&(n.TgZ(0,"span"),n._uU(1,"*********"),n.qZA())}function ce(fe,Pe){1&fe&&(n.TgZ(0,"span"),n._uU(1,"No establecida"),n.qZA())}function W(fe,Pe){if(1&fe){const Ce=n.EpF();n.TgZ(0,"div",13),n.NdJ("click",function(){n.CHM(Ce);const De=n.oxw();return n.KtG(De.isCollapsedChangePasswordSection=!1)}),n.TgZ(1,"div",8)(2,"div",14)(3,"button",15),n._uU(4,"Editar"),n.qZA()(),n.TgZ(5,"div",9)(6,"label"),n._uU(7,"Contrase\xf1a"),n.qZA(),n.YNc(8,J,2,0,"span",18),n.YNc(9,ce,2,0,"span",18),n.qZA()()()}if(2&fe){const Ce=n.oxw();n.xp6(8),n.Q6J("ngIf",Ce.sharedService.userData.IsPasswordSetted),n.xp6(1),n.Q6J("ngIf",!Ce.sharedService.userData.IsPasswordSetted)}}function Se(fe,Pe){if(1&fe){const Ce=n.EpF();n.TgZ(0,"app-change-password",19),n.NdJ("closeChangePassword",function(){n.CHM(Ce);const De=n.oxw();return n.KtG(De.isCollapsedChangePasswordSection=!0)}),n.qZA()}}function le(fe,Pe){if(1&fe){const Ce=n.EpF();n.TgZ(0,"app-set-password",20),n.NdJ("closeSetPassword",function(){n.CHM(Ce);const De=n.oxw();return n.KtG(De.isCollapsedChangePasswordSection=!0)}),n.qZA()}}function Ee(fe,Pe){1&fe&&(n.TgZ(0,"span"),n._uU(1,"No establecida"),n.qZA())}function xe(fe,Pe){if(1&fe&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&fe){const Ce=n.oxw();n.xp6(1),n.Oqu(Ce.currentUserLinkedAccountsText)}}let Ve=(()=>{class fe{constructor(Ce,me){this.catalogService=Ce,this.sharedService=me,this.isCollapsedLinkedAccountsSection=!0,this.isCollapsedChangeNamesSection=!0,this.isCollapsedChangeUsernameSection=!0,this.isCollapsedChangePasswordSection=!0,this.allLinkedAccountProviders=[],this.currentUserLinkedAccountIds=[]}ngOnInit(){this.currentUserLinkedAccountIds=this.sharedService.linkedAccounts.map(Ce=>Ce.LinkedAccountProviderCatalogDetailId),this.catalogService.getDetailsByCatalogId(e.P9.LinkedAccountProvider).then(Ce=>{this.allLinkedAccountProviders=Ce.Data,this.currentUserLinkedAccountsText=this.allLinkedAccountProviders.filter(me=>-1!=this.currentUserLinkedAccountIds.indexOf(me.Id)).map(me=>me.Name).join(",")},Ce=>{})}static#e=this.\u0275fac=function(me){return new(me||fe)(n.Y36(b.a),n.Y36(A.F))};static#t=this.\u0275cmp=n.Xpm({type:fe,selectors:[["app-my-account"]],decls:37,vars:10,consts:[[1,"sinovad-page-container"],[1,"sinovad-page-title"],[1,"settings-category-header-background"],[2,"width","100%"],["class","sinovad-page-section-container","role","button",3,"click",4,"ngIf"],[3,"closeChangeUsername",4,"ngIf"],[3,"closeChangeNames",4,"ngIf"],[1,"sinovad-page-section-container"],[1,"sinovad-page-section-content"],[1,"detail"],[3,"closeChangePassword",4,"ngIf"],[3,"closeSetPassword",4,"ngIf"],[3,"ngIf"],["role","button",1,"sinovad-page-section-container",3,"click"],[1,"button-container"],[1,"edit"],[3,"closeChangeUsername"],[3,"closeChangeNames"],[4,"ngIf"],[3,"closeChangePassword"],[3,"closeSetPassword"]],template:function(me,De){1&me&&(n.TgZ(0,"div",0)(1,"div",1)(2,"h2"),n._uU(3,"Cuenta"),n.qZA()(),n.TgZ(4,"div",2)(5,"div",3)(6,"h2"),n._uU(7,"Informaci\xf3n personal"),n.qZA()()(),n.YNc(8,z,10,1,"div",4),n.YNc(9,ne,1,0,"app-change-username",5),n.YNc(10,te,10,2,"div",4),n.YNc(11,Me,1,0,"app-change-names",6),n.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"label"),n._uU(16,"Correo electr\xf3nico"),n.qZA(),n.TgZ(17,"span"),n._uU(18),n.qZA()()()(),n.TgZ(19,"div",2)(20,"div",3)(21,"h2"),n._uU(22,"Seguridad"),n.qZA()()(),n.YNc(23,W,10,2,"div",4),n.YNc(24,Se,1,0,"app-change-password",10),n.YNc(25,le,1,0,"app-set-password",11),n.TgZ(26,"div",2)(27,"div",3)(28,"h2"),n._uU(29,"Ajustes"),n.qZA()()(),n.TgZ(30,"div",7)(31,"div",8)(32,"div",9)(33,"label"),n._uU(34,"Cuentas vinculadas"),n.qZA(),n.YNc(35,Ee,2,0,"ng-template",12),n.YNc(36,xe,2,1,"ng-template",12),n.qZA()()()()),2&me&&(n.xp6(8),n.Q6J("ngIf",De.isCollapsedChangeUsernameSection),n.xp6(1),n.Q6J("ngIf",!De.isCollapsedChangeUsernameSection),n.xp6(1),n.Q6J("ngIf",De.isCollapsedChangeNamesSection),n.xp6(1),n.Q6J("ngIf",!De.isCollapsedChangeNamesSection),n.xp6(7),n.Oqu(De.sharedService.userData.Email),n.xp6(5),n.Q6J("ngIf",De.isCollapsedChangePasswordSection),n.xp6(1),n.Q6J("ngIf",!De.isCollapsedChangePasswordSection&&De.sharedService.userData.IsPasswordSetted),n.xp6(1),n.Q6J("ngIf",!De.isCollapsedChangePasswordSection&&!De.sharedService.userData.IsPasswordSetted),n.xp6(10),n.Q6J("ngIf",0==De.sharedService.linkedAccounts.length),n.xp6(1),n.Q6J("ngIf",De.sharedService.linkedAccounts.length>0))},dependencies:[_.O5,p,k,I,U],styles:[".settings-category-header-background[_ngcontent-%COMP%]{background-color:#0000001a;border-radius:.25rem;margin:.5rem 0;padding:.75rem}.settings-category-header-background[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;max-width:100%;overflow:hidden;overflow-wrap:break-word;font-size:20px}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px;margin-top:40px;font-size:24px}",'.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return fe})()},4769:(Hn,Xe,v)=>{"use strict";v.d(Xe,{o:()=>Be});var e=v(5879),n=v(7700),b=v(95),A=v(5550),_=v(863),x=v(9178),w=v(1044),g=v(3946),d=v(9768),i=v(6814),h=v(2032),p=v(4170),T=v(3680),B=v(8525);function P(ye,ve){1&ye&&(e.TgZ(0,"mat-error"),e._uU(1," Nombre es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function k(ye,ve){if(1&ye&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&ye){const K=ve.$implicit;e.Q6J("value",K.Id),e.xp6(1),e.hij(" ",K.Name," ")}}function F(ye,ve){1&ye&&(e.TgZ(0,"mat-error"),e._uU(1," Tipo es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function O(ye,ve){1&ye&&(e.TgZ(0,"mat-error"),e._uU(1," Directorio es "),e.TgZ(2,"strong"),e._uU(3,"requerido"),e.qZA()())}function D(ye,ve){if(1&ye){const K=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(K);const ge=e.oxw();return e.KtG(ge.saveStorage())}),e.TgZ(1,"div",2)(2,"h5",3),e._uU(3),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(K);const ge=e.oxw();return e.KtG(ge.closeModal())}),e._UZ(5,"i",5),e.qZA()(),e.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Nombre"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,P,4,0,"mat-error",8),e.qZA(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"Tipo"),e.qZA(),e.TgZ(15,"mat-select",9)(16,"mat-option",10),e._uU(17,"--"),e.qZA(),e.YNc(18,k,2,2,"mat-option",11),e.qZA(),e.YNc(19,F,4,0,"mat-error",8),e.qZA(),e.TgZ(20,"mat-form-field")(21,"mat-label"),e._uU(22,"Directorio"),e.qZA(),e.TgZ(23,"input",12),e.NdJ("click",function(){e.CHM(K);const ge=e.oxw();return e.KtG(ge.showChooserDirectoryModal())}),e.qZA(),e.YNc(24,O,4,0,"mat-error",8),e.qZA()(),e.TgZ(25,"div",13)(26,"button",14),e.NdJ("click",function(){e.CHM(K);const ge=e.oxw();return e.KtG(ge.closeModal())}),e._uU(27,"Close"),e.qZA(),e.TgZ(28,"button",15),e._uU(29,"Guardar"),e.qZA()()(),e._UZ(30,"app-custom-spinner",16)}if(2&ye){const K=e.oxw();e.Q6J("formGroup",K.libraryFormGroup),e.xp6(3),e.Oqu(K.library.Id>0?"Editar Almacenamiento":"Nuevo Almacenamiento"),e.xp6(7),e.Q6J("errorStateMatcher",K.matcher),e.xp6(1),e.Q6J("ngIf",K.libraryFormGroup.controls.name.hasError("required")),e.xp6(5),e.Q6J("value",void 0),e.xp6(2),e.Q6J("ngForOf",K.mediaTypes),e.xp6(1),e.Q6J("ngIf",K.libraryFormGroup.controls.mediaType.hasError("required")),e.xp6(4),e.Q6J("errorStateMatcher",K.matcher),e.xp6(1),e.Q6J("ngIf",K.libraryFormGroup.controls.physicalPath.hasError("required")),e.xp6(4),e.Q6J("disabled",K.showLoading||!K.libraryFormGroup.valid),e.xp6(2),e.Q6J("showLoading",K.showLoading)}}let I=(()=>{class ye{constructor(K,se,ge,oe){this.libraryService=K,this.activeModal=se,this.formBuilder=ge,this.modalService=oe,this.showLoading=!1,this.matcher=new A.n,this.mediaTypes=[{Id:1,Name:"Movies"},{Id:2,Name:"Tv Series"}]}ngOnInit(){this.libraryFormGroup=this.formBuilder.group({name:new b.NI(this.library.Name,[b.kI.required]),mediaType:new b.NI(this.library.MediaTypeCatalogDetailId,[b.kI.required]),physicalPath:new b.NI(this.library.PhysicalPath,[b.kI.required])})}saveStorage(){if(this.libraryFormGroup.valid){this.showLoading=!0;var K=JSON.parse(JSON.stringify(this.library));K.Name=this.libraryFormGroup.value.name,K.MediaTypeCatalogDetailId=Number(this.libraryFormGroup.value.mediaType),K.MediaTypeCatalogId=_.P9.MediaType,K.PhysicalPath=this.libraryFormGroup.value.physicalPath,K.MediaServerId=this.mediaServer.Id,this.libraryService.saveItem(this.mediaServer.Url,K).then(se=>{this.showLoading=!1,this.activeModal.close()},se=>{this.showLoading=!1,console.error(se)})}else this.libraryFormGroup.markAllAsTouched()}showChooserDirectoryModal(){var K=this,se=this.modalService.open(x.u,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});se.componentInstance.mediaServer=this.mediaServer,se.closed.subscribe(ge=>{K.libraryFormGroup.controls.physicalPath.setValue(ge)})}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(se){return new(se||ye)(e.Y36(w.$),e.Y36(g.Kz),e.Y36(b.qu),e.Y36(g.FF))};static#t=this.\u0275cmp=e.Xpm({type:ye,selectors:[["app-library-form"]],inputs:{mediaServer:"mediaServer",library:"library"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","mediaType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","physicalPath","readonly","",2,"cursor","pointer",3,"errorStateMatcher","click"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(se,ge){1&se&&e.YNc(0,D,31,11,"ng-template",0),2&se&&e.Q6J("ngIf",null!=ge.library&&ge.libraryFormGroup)},dependencies:[b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,d.D,i.sg,i.O5,h.Nt,p.KE,p.hX,p.TO,T.ey,B.gD],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return ye})();var S=v(8923),L=v(9604);class C{}var U=v(616),z=v(9223);function ne(ye,ve){if(1&ye){const K=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){const oe=e.CHM(K).$implicit,Q=e.oxw(2);return e.KtG(Q.onSelectItem(oe))}),e._UZ(1,"i"),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&ye){const K=ve.$implicit;e.xp6(1),e.Gre("",K.iconClass," me-2"),e.xp6(2),e.Oqu(K.title)}}function te(ye,ve){if(1&ye){const K=e.EpF();e.TgZ(0,"div",1)(1,"div",2),e.NdJ("clickOutside",function(){e.CHM(K);const ge=e.oxw();return e.KtG(ge.onClickOutside())}),e.TgZ(2,"div",3),e.YNc(3,ne,4,4,"ng-template",4),e.qZA()()()}if(2&ye){const K=e.oxw();e.xp6(1),e.Udp("top",K.top+"px")("right",K.right+"px"),e.xp6(2),e.Q6J("ngForOf",K.options.listItems)}}let Me=(()=>{class ye{constructor(K){this.ref=K,this.hide=new e.vpe,this.selectOption=new e.vpe,this.showMenu=!1}ngAfterViewInit(){setTimeout(()=>{this.showMenu=!0,this.ref.detectChanges()},100)}onClickOutside(){this.hide.emit(!0)}onSelectItem(K){this.selectOption.emit(K)}static#e=this.\u0275fac=function(se){return new(se||ye)(e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:ye,selectors:[["app-custom-menu"]],inputs:{options:"options",right:"right",top:"top"},outputs:{hide:"hide",selectOption:"selectOption"},decls:1,vars:1,consts:[["class","custom-actions-menu-container",4,"ngIf"],[1,"custom-actions-menu-container"],[1,"custom-actions-menu-content",3,"clickOutside"],[1,"custom-actions-menu-scroller"],["ngFor","",3,"ngForOf"],[1,"menu-item",3,"click"]],template:function(se,ge){1&se&&e.YNc(0,te,4,5,"div",0),2&se&&e.Q6J("ngIf",ge.showMenu)},dependencies:[i.sg,i.O5,z._],styles:[".custom-actions-menu-container[_ngcontent-%COMP%]{position:absolute;inset:0 auto 0 0;margin:0;z-index:1014;width:100%;height:100%}.custom-actions-menu-content[_ngcontent-%COMP%]{background-color:#191a1c;border-radius:4px;box-shadow:0 4px 10px #00000059;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:8px 0;transform-origin:center top;transition:background .15s ease-out;position:absolute}.custom-actions-menu-scroller[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;padding-right:0;overflow-x:hidden}button.menu-item[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;word-wrap:break-word;display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:4px 20px;text-align:left;width:100%}button.menu-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}"]})}return ye})(),W=(()=>{class ye{constructor(K,se,ge){this.factoryResolver=K,this.injector=se,this.applicationRef=ge}show(K){return new Promise((se,ge)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const Q=this.factoryResolver.resolveComponentFactory(Me).create(this.injector);this.lastViewRef=Q.hostView,this.applicationRef.attachView(Q.hostView);let q=this;const $=K.target.getBoundingClientRect();var ie=window.innerWidth-$.right,Z=$.top+$.height;Q.instance.options=K,Q.instance.right=ie,Q.instance.top=Z,Q.instance.selectOption.subscribe(Te=>{Te.eventOnSelectItem&&Te.eventOnSelectItem.emit(!0),Q.destroy(),q.applicationRef.detachView(Q.hostView),se(Te)}),Q.instance.hide.subscribe(Te=>{Q.destroy(),q.applicationRef.detachView(Q.hostView),ge(!0)});const X=Q.hostView.rootNodes[0];document.getElementById(K.containerId).appendChild(X)})}static#e=this.\u0275fac=function(se){return new(se||ye)(e.LFG(e._Vd),e.LFG(e.zs3),e.LFG(e.z2F))};static#t=this.\u0275prov=e.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})();var Se=v(3931),le=v(5612),Ee=v(4001),xe=v(5940),Ve=v(3171);function fe(ye,ve){1&ye&&e._UZ(0,"i",17)}function Pe(ye,ve){1&ye&&e._UZ(0,"i",18)}const Ce=function(ye){return{selected:ye}};function me(ye,ve){if(1&ye){const K=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"div",9),e.YNc(3,fe,1,0,"i",10),e.YNc(4,Pe,1,0,"i",11),e.qZA(),e.TgZ(5,"a"),e._uU(6),e.qZA(),e.TgZ(7,"div",12)(8,"div",13)(9,"button",14),e.NdJ("click",function(ge){const Q=e.CHM(K).$implicit,q=e.oxw(4);return e.KtG(q.showActions(ge,Q))}),e.TgZ(10,"span",15),e._UZ(11,"i",16),e.qZA()()()()()()}if(2&ye){const K=ve.$implicit,se=e.oxw(4);e.Q6J("ngClass",e.VKq(4,Ce,se.currentLibrary&&se.currentLibrary.Id==K.Id)),e.xp6(3),e.Q6J("ngIf",1==K.MediaTypeCatalogDetailId),e.xp6(1),e.Q6J("ngIf",2==K.MediaTypeCatalogDetailId),e.xp6(2),e.Oqu(K.Name)}}function De(ye,ve){if(1&ye){const K=e.EpF();e.TgZ(0,"div",2)(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4),e._uU(5),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){e.CHM(K);const ge=e.oxw(3);return e.KtG(ge.openNewLibrary())}),e._uU(7,"A\xf1adir biblioteca"),e.qZA(),e.TgZ(8,"button",5),e.NdJ("click",function(){e.CHM(K);const ge=e.oxw(3);return e.KtG(ge.updateVideoInAllLibraries())}),e._uU(9,"Buscar archivos en biblioteca"),e.qZA()(),e.YNc(10,me,12,6,"ng-template",6),e.qZA()}if(2&ye){const K=e.oxw(3);e.xp6(2),e.hij("",K.mediaServer.FamilyName?K.mediaServer.FamilyName:K.mediaServer.DeviceName," - Bibliotecas"),e.xp6(3),e.hij("",K.listLibraries?K.listLibraries.length:""," bibliotecas"),e.xp6(5),e.Q6J("ngForOf",K.listLibraries)}}function Re(ye,ve){if(1&ye&&e.YNc(0,De,11,3,"div",1),2&ye){const K=e.oxw(2);e.Q6J("ngIf",K.mediaServer)}}function Fe(ye,ve){if(1&ye&&e._UZ(0,"app-server-connection-error",19),2&ye){const K=e.oxw(2);e.Q6J("mediaServer",K.mediaServer)}}function Ne(ye,ve){if(1&ye&&(e.YNc(0,Re,1,1,"ng-template",0),e.YNc(1,Fe,1,1,"ng-template",0)),2&ye){const K=e.oxw();e.Q6J("ngIf",K.mediaServer&&K.mediaServer.isSecureConnection),e.xp6(1),e.Q6J("ngIf",K.mediaServer&&!K.mediaServer.isSecureConnection)}}function at(ye,ve){1&ye&&(e.TgZ(0,"div",20),e._UZ(1,"mat-spinner"),e.qZA())}let Be=(()=>{class ye{constructor(K,se,ge,oe,Q,q,$,ie,Z){this.signalIrService=K,this.customMenuService=se,this.modalService=ge,this.libraryService=oe,this.dialog=Q,this.snackBarService=q,this.router=$,this.activeRoute=ie,this.sharedService=Z,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(X=>{this.mediaServer&&this.mediaServer.Guid==X&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.getAllItems())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(X=>{this.mediaServer&&this.mediaServer.Guid==X&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){var K=this.activeRoute.snapshot.params.serverGuid,se=this.sharedService.mediaServers.find(ge=>ge.Guid==K);se?(this.mediaServer=JSON.parse(JSON.stringify(se)),se.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getAllItems(){this.libraryService.getLibrariesByMediaServer(this.mediaServer.Url).then(K=>{this.listLibraries=K},K=>{})}openNewLibrary(){let K=new C;K.MediaServerId=this.mediaServer.Id,this.showModalForm(K)}editLibrary(K){this.showModalForm(JSON.parse(JSON.stringify(K)))}showModalForm(K){var se=this,ge=this.modalService.open(I,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});ge.componentInstance.library=K,ge.componentInstance.mediaServer=this.mediaServer,ge.closed.subscribe(oe=>{se.getAllItems()})}deleteLibrary(K){var se=new n.vA;se.data={title:"Eliminar biblioteca",message:"La biblioteca '"+K.Name+"' ser\xe1 eliminada de este servidor. Tus archivos multimedia no se ver\xe1n afectados. Esto no se puede deshacer. \xbfContinuar?",accordMessage:"Si, eliminar la biblioteca '"+K.Name+"'"},this.dialog.open(S.k,se).afterClosed().subscribe(ge=>{ge&&this.executeDeleteLibrary(K)})}executeDeleteLibrary(K){this.libraryService.deleteItem(this.mediaServer.Url,K.Id).then(se=>{this.snackBarService.showSnackBar("Se elimin\xf3 la biblioteca satisfactoriamente",L.dA.Success),this.getAllItems()},se=>{console.error(se),this.snackBarService.showSnackBar(se,L.dA.Error)})}showActions(K,se){this.currentLibrary=se;var ge=JSON.parse(JSON.stringify(se)),oe=K.currentTarget,Q=[],q=new e.vpe;q.subscribe(Z=>{this.editLibrary(ge)}),Q.push({title:"Editar biblioteca",iconClass:"fa-solid fa-pen-to-square",eventOnSelectItem:q});var $=new e.vpe;$.subscribe(Z=>{this.updateLibraryVideos(ge)}),Q.push({title:"Buscar archivos en la biblioteca",iconClass:"fa-solid fa-magnifying-glass-plus",eventOnSelectItem:$});var ie=new e.vpe;ie.subscribe(Z=>{this.deleteLibrary(ge)}),Q.push({title:"Eliminar biblioteca",iconClass:"fa-sharp fa-solid fa-trash",eventOnSelectItem:ie}),this.customMenuService.show({containerId:"sinovadMainContainer",listItems:Q,target:oe}).then(Z=>{this.currentLibrary=void 0},Z=>{this.currentLibrary=void 0})}updateLibraryVideos(K){K.Id>0&&null!=K.PhysicalPath&&""!=K.PhysicalPath&&this.searchFilesInLibraries([K])}updateVideoInAllLibraries(){this.searchFilesInLibraries(this.listLibraries)}searchFilesInLibraries(K){this.libraryService.searchFiles(this.mediaServer.Url,K)}static#e=this.\u0275fac=function(se){return new(se||ye)(e.Y36(U.n),e.Y36(W),e.Y36(g.FF),e.Y36(w.$),e.Y36(n.uw),e.Y36(Se.c),e.Y36(le.F0),e.Y36(le.gz),e.Y36(Ee.F))};static#t=this.\u0275cmp=e.Xpm({type:ye,selectors:[["app-library-list"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"manage-libraries-header"],[1,"manage-libraries-count"],[3,"click"],["ngFor","",3,"ngForOf"],[1,"manage-library-summary-row",3,"ngClass"],[1,"manage-library-summary-overlay"],[1,"manage-library-icon-container"],["class","fa-solid fa-film",4,"ngIf"],["class","fa-solid fa-tv",4,"ngIf"],[1,"manage-library-summary-actions"],[1,"manage-library-summary-header"],[1,"manage-library-summary-action",3,"click"],[1,"manage-library-summary-header-icon"],[1,"fa-solid","fa-ellipsis-vertical"],[1,"fa-solid","fa-film"],[1,"fa-solid","fa-tv"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(se,ge){1&se&&(e.YNc(0,Ne,2,2,"ng-template",0),e.YNc(1,at,2,0,"ng-template",0)),2&se&&(e.Q6J("ngIf",!ge.loadingConnection),e.xp6(1),e.Q6J("ngIf",ge.loadingConnection))},dependencies:[i.mk,i.sg,i.O5,xe.Ou,Ve.l],styles:[".sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.manage-libraries-header[_ngcontent-%COMP%]{background-color:#00000026;color:#ffffff73;display:flex;justify-content:space-between;margin:20px 0;padding:13px 20px}.manage-libraries-header[_ngcontent-%COMP%]   .manage-libraries-count[_ngcontent-%COMP%]{flex-grow:1;font-size:13px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;color:#fafafa;display:inline-block;overflow:hidden;text-align:center;transition:background-color .2s,color .2s;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;background-color:#ffffff40;margin-left:10px;padding:0 10px;border:none;font-size:14px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff26}.manage-library-summary-row[_ngcontent-%COMP%]{color:#ffffffb3;min-height:44px;position:relative;cursor:pointer}.manage-library-summary-overlay[_ngcontent-%COMP%]{align-items:center;display:flex;pointer-events:none;height:100%;left:0;position:absolute;top:0;width:100%}.manage-library-icon-container[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;margin:0 20px;width:20px;font-size:13px}a[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-grow:1;overflow:hidden;pointer-events:all;color:#ffffffb3;font-size:13px}.manage-library-summary-actions[_ngcontent-%COMP%]{align-items:center;display:flex;flex:1;justify-content:flex-end;opacity:1}.manage-library-summary-row[_ngcontent-%COMP%]:hover, .manage-library-summary-row.selected[_ngcontent-%COMP%]{background-color:#ffffff0f;color:#fff}.manage-library-summary-header[_ngcontent-%COMP%]{display:flex}button.manage-library-summary-action[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-shrink:0;overflow:hidden;padding:0 15px;pointer-events:all;white-space:nowrap}.manage-library-summary-header-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;width:20px}button.manage-library-summary-action[_ngcontent-%COMP%]:hover{color:#fff}.sinovad-searh-media-log-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-searh-media-log-content[_ngcontent-%COMP%]{width:80%;height:80%;background:black;border:1px solid #dedede;border-radius:6px;color:#fff;padding:10px}.sinovad-searh-media-log-second-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:26px}.sinovad-searh-media-log-html[_ngcontent-%COMP%]{color:#fff;font-size:16px;overflow-y:auto;overflow-x:hidden;width:100%;height:100%}.sinovad-library-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}.sinovad-library-principal-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-left:10px;margin-bottom:2px;font-size:30px}.sinovad-library-container[_ngcontent-%COMP%]{display:block}.sinovad-library-section[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-library-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:0;font-size:20px}.sinovad-library-section[_ngcontent-%COMP%]   .sinovad-library-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-library-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;border-radius:5px;outline:none;cursor:pointer}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px;cursor:pointer}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}"]})}return ye})()},1044:(Hn,Xe,v)=>{"use strict";v.d(Xe,{$:()=>_});var e=v(863),n=v(2372),b=v(5879),A=v(6294);let _=(()=>{class x{constructor(g){this.restProvider=g}getLibrariesByMediaServer(g){return new Promise((d,i)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,g+"/api/libraries/GetAllLibraries").then(p=>{d(p.Data)},p=>{i(p)})})}saveItem(g,d){return new Promise((i,h)=>{this.restProvider.executeHttpMediaServerApi(d.Id>0?e.yw.PUT:e.yw.POST,g+"/api"+(d.Id>0?"/libraries/Update":"/libraries/Create"),d).then(B=>{i(!0)},B=>{console.error(B),h(B)})})}deleteItem(g,d){return new Promise((i,h)=>{this.restProvider.executeHttpMediaServerApi(e.yw.DELETE,g+"/api/libraries/Delete/"+d).then(T=>{i(T)},T=>{console.error(T),h(T)})})}deleteItems(g,d){return new Promise((i,h)=>{let p=[];for(let P=0;P<d.length;P++)p.push(d[P].Id);var T=p.join(",");this.restProvider.executeHttpMediaServerApi(e.yw.DELETE,g+"/api/libraries/DeleteList/"+T).then(P=>{i(P)},P=>{console.error(P),h(P)})})}searchFiles(g,d){return new Promise((i,h)=>{let p=(0,n.Z)();this.restProvider.executeHttpMediaServerApi(e.yw.POST,g+"/api/libraries/SearchFiles",{Listlibraries:d,LogIdentifier:p}).then(P=>{i(P)},P=>{console.error(P),h(P)})})}getAllMediaItemsBySearchQuery(g,d){return new Promise((i,h)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,g+"/api/libraries/GetAllMediaItemsBySearchQuery?searchQuery="+d).then(T=>{i(T.Data)},T=>{h(T)})})}getAllMediaItems(g,d){return new Promise((i,h)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,g+"/api/libraries/GetAllMediaItems?profileId="+d).then(T=>{i(T.Data)},T=>{h(T)})})}getMediaItemsByLibrary(g,d,i){return new Promise((h,p)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,g+"/api/libraries/GetMediaItemsByLibrary?libraryId="+d+"&profileId="+i).then(B=>{h(B.Data)},B=>{p(B)})})}getMediaItemsByMediaType(g,d,i){return new Promise((h,p)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,g+"/api/libraries/GetMediaItemsByMediaType?mediaTypeId="+d+"&profileId="+i).then(B=>{h(B.Data)},B=>{p(B)})})}getMediaItemDetail(g,d){return new Promise((i,h)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,g+"/api/libraries/GetMediaItemDetail/"+d).then(T=>{i(T.Data)},T=>{h(T)})})}GetMediaItemDetailByMediaFileAndProfile(g,d,i){return new Promise((h,p)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,g+"/api/libraries/GetMediaItemDetailByMediaFileAndProfile?mediaFileId="+d+"&profileId="+i).then(B=>{h(B.Data)},B=>{p(B)})})}static#e=this.\u0275fac=function(d){return new(d||x)(b.LFG(A.C))};static#t=this.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},9850:(Hn,Xe,v)=>{"use strict";v.d(Xe,{$:()=>D});var e=v(5861),n=v(863),b=v(95),A=v(9604),_=v(5879),x=v(616),w=v(5510),g=v(3931),d=v(5612),i=v(6294),h=v(4001),p=v(6814),T=v(5940),B=v(3171);function P(I,S){if(1&I){const L=_.EpF();_.TgZ(0,"div",1)(1,"h2"),_._uU(2),_.qZA(),_.TgZ(3,"div")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"span",7),_._uU(10,"Privado"),_.qZA(),_.TgZ(11,"span",8)(12,"span",9),_._uU(13),_.qZA()()()(),_.TgZ(14,"div",5)(15,"form",10),_.NdJ("ngSubmit",function(){_.CHM(L);const U=_.oxw(2);return _.KtG(U.updateMediaServer())}),_.TgZ(16,"div",5)(17,"label",11),_._uU(18,"Nombre Familiar"),_.qZA(),_._UZ(19,"input",12),_.TgZ(20,"p",13),_._uU(21,"Este nombre se usar\xe1 para que otros ordenadores identifiquen este servidor en tu red. Si lo dejas en blanco se usar\xe1 el nombre del equipo."),_.qZA()(),_.TgZ(22,"div",14)(23,"button",15)(24,"span",16),_._uU(25,"Guardar cambios"),_.qZA()(),_._UZ(26,"span",17),_.qZA()()()()()()()()}if(2&I){const L=_.oxw(2);_.xp6(2),_.hij("",L.mediaServer.FamilyName?L.mediaServer.FamilyName:L.mediaServer.DeviceName," - General"),_.xp6(11),_.Oqu(L.mediaServer.Url),_.xp6(2),_.Q6J("formGroup",L.customForm),_.xp6(4),_.Q6J("placeholder",L.mediaServer.FamilyName?L.mediaServer.FamilyName:L.mediaServer.DeviceName),_.xp6(4),_.Q6J("disabled",L.loading||L.customForm.pristine||L.customForm.invalid)}}function k(I,S){if(1&I&&_._UZ(0,"app-server-connection-error",18),2&I){const L=_.oxw(2);_.Q6J("mediaServer",L.mediaServer)}}function F(I,S){if(1&I&&(_.YNc(0,P,27,5,"ng-template",0),_.YNc(1,k,1,1,"ng-template",0)),2&I){const L=_.oxw();_.Q6J("ngIf",L.mediaServer&&L.mediaServer.isSecureConnection),_.xp6(1),_.Q6J("ngIf",L.mediaServer&&!L.mediaServer.isSecureConnection)}}function O(I,S){1&I&&(_.TgZ(0,"div",19),_._UZ(1,"mat-spinner"),_.qZA())}let D=(()=>{class I{constructor(L,C,U,z,ne,te,Me,J){this.signalIrService=L,this.serverService=C,this.snackBarService=U,this.formBuilder=z,this.router=ne,this.activeRoute=te,this.restProvider=Me,this.sharedService=J,this.loading=!1,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(ce=>{this.mediaServer&&this.mediaServer.Guid==ce&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0)}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(ce=>{this.mediaServer&&this.mediaServer.Guid==ce&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){var L=this.activeRoute.snapshot.params.serverGuid,C=this.sharedService.mediaServers.find(U=>U.Guid==L);C?(this.mediaServer=JSON.parse(JSON.stringify(C)),C.isSecureConnection?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3),this.customForm=this.formBuilder.group({familyName:new b.NI(this.mediaServer.FamilyName)})):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getMediaServerData(){var L=this;return(0,e.Z)(function*(){L.loading=!0;var C=L.activeRoute.snapshot.params.serverGuid;L.serverService.getMediaServerByGuid(C).then(U=>{var z=U.Data,te=L.sharedService.mediaServers.find(Me=>Me.Guid==C);te.FamilyName=z.FamilyName,L.mediaServer=te,L.customForm=L.formBuilder.group({familyName:new b.NI(L.mediaServer.FamilyName)}),L.loading=!1},U=>{L.router.navigateByUrl("/404"),L.loading=!1})})()}ngAfterViewInit(){}updateMediaServer(){this.loading=!0;var C=JSON.parse(JSON.stringify(this.mediaServer));C.FamilyName=this.customForm.value.familyName,this.restProvider.executeSinovadApiService(n.yw.PUT,"/mediaServers/Update",C).then(U=>{this.getMediaServerData(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",A.dA.Success)},U=>{this.loading=!1,console.error(U)})}static#e=this.\u0275fac=function(C){return new(C||I)(_.Y36(x.n),_.Y36(w.Z),_.Y36(g.c),_.Y36(b.qu),_.Y36(d.F0),_.Y36(d.gz),_.Y36(i.C),_.Y36(h.F))};static#t=this.\u0275cmp=_.Xpm({type:I,selectors:[["app-server-setttings-general"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"remote-access-mapping"],[1,"mapping-label"],[1,"mapping-address"],[1,"mapping-value"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["type","text","formControlName","familyName",1,"form-control",3,"placeholder"],[1,"help-block"],[1,"form-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn-label"],[1,"form-message"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(C,U){1&C&&(_.YNc(0,F,2,2,"ng-template",0),_.YNc(1,O,2,0,"ng-template",0)),2&C&&(_.Q6J("ngIf",!U.loadingConnection),_.xp6(1),_.Q6J("ngIf",U.loadingConnection))},dependencies:[p.O5,b._Y,b.Fj,b.JJ,b.JL,T.Ou,B.l,b.sg,b.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}']})}return I})()},3524:(Hn,Xe,v)=>{"use strict";v.d(Xe,{B:()=>z});var e=v(863),n=v(95);class b{}var A=v(9604),_=v(9178),x=v(5879),w=v(8832),g=v(616),d=v(6294);let i=(()=>{class ne{constructor(Me){this.restProvider=Me}getByMediaServer(Me){return new Promise((J,ce)=>{this.restProvider.executeHttpMediaServerApi(e.yw.GET,Me+"/api/transcoderSettings/GetAsync").then(Se=>{J(Se.Data)},Se=>{console.error(Se),ce(Se)})})}saveItem(Me,J){return new Promise((ce,W)=>{this.restProvider.executeHttpMediaServerApi(e.yw.PUT,Me+"/api/transcoderSettings/Save",J).then(le=>{ce(!0)},le=>{console.error(le),W(le)})})}static#e=this.\u0275fac=function(J){return new(J||ne)(x.LFG(d.C))};static#t=this.\u0275prov=x.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"})}return ne})();var h=v(3946),p=v(3931),T=v(5612),B=v(4001),P=v(6814),k=v(5940),F=v(3171);function O(ne,te){if(1&ne&&(x.TgZ(0,"option",19),x._uU(1),x.qZA()),2&ne){const Me=te.$implicit;x.Q6J("ngValue",Me.Id),x.xp6(1),x.Oqu(Me.Name)}}function D(ne,te){if(1&ne&&(x.TgZ(0,"option",19),x._uU(1),x.qZA()),2&ne){const Me=te.$implicit;x.Q6J("ngValue",Me.Id),x.xp6(1),x.Oqu(Me.Name)}}function I(ne,te){if(1&ne){const Me=x.EpF();x.TgZ(0,"div",2)(1,"h2"),x._uU(2),x.qZA(),x.TgZ(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"form",7),x.NdJ("ngSubmit",function(){x.CHM(Me);const ce=x.oxw(3);return x.KtG(ce.saveTranscoder())}),x.TgZ(9,"div",6)(10,"label",8),x._uU(11,"M\xe9todo de transmisi\xf3n"),x.qZA(),x.TgZ(12,"select",9),x.YNc(13,O,2,2,"ng-template",10),x.qZA(),x.TgZ(14,"p",11),x._uU(15,"M\xe9todo de transmisi\xf3n para transcodificar los videos"),x.qZA()(),x.TgZ(16,"div",6)(17,"label",8),x._uU(18,"Carpeta temporal para el transcodificador"),x.qZA(),x.TgZ(19,"input",12),x.NdJ("click",function(){x.CHM(Me);const ce=x.oxw(3);return x.KtG(ce.showChooserDirectoryModal())}),x.qZA(),x.TgZ(20,"p",11),x._uU(21,"Carpeta que utilizar\xe1 el codificador para los archivos temporales."),x.qZA()(),x.TgZ(22,"div",6)(23,"label",8),x._uU(24,"Preset de conversi\xf3n x264 en segundo plano"),x.qZA(),x.TgZ(25,"select",13),x.YNc(26,D,2,2,"ng-template",10),x.qZA(),x.TgZ(27,"p",11),x._uU(28,"El valor de preset de x264 usado para conversi\xf3n en segundo plano (Sincronizaci\xf3n y Optimizador de Contenido). Valores m\xe1s lentos dar\xe1n lugar a mejor calidad de v\xeddeo y archivos m\xe1s peque\xf1os, pero llevar\xe1 mucho m\xe1s tiempo completar el proceso."),x.qZA()(),x.TgZ(29,"div",6)(30,"label",8),x._uU(31,"Factor de Tasa Constante"),x.qZA(),x._UZ(32,"input",14),x.TgZ(33,"p",11),x._uU(34,"El factor de tasa constante (CRF) es la configuraci\xf3n predeterminada de calidad (y control de velocidad) para los codificadores x264 y x265 , y tambi\xe9n est\xe1 disponible para libvpx . Con x264 y x265, puede establecer los valores entre 0 y 51, donde los valores m\xe1s bajos dar\xedan como resultado una mejor calidad, a expensas de tama\xf1os de archivo m\xe1s altos. Los valores m\xe1s altos significan m\xe1s compresi\xf3n, pero en alg\xfan momento notar\xe1 la degradaci\xf3n de la calidad. Para x264, los valores razonables est\xe1n entre 18 y 28. El valor predeterminado es 23, por lo que puede usarlo como punto de partida."),x.qZA()(),x.TgZ(35,"div",15)(36,"button",16)(37,"span",17),x._uU(38,"Guardar cambios"),x.qZA()(),x._UZ(39,"span",18),x.qZA()()()()()()()()}if(2&ne){const Me=x.oxw(3);x.xp6(2),x.hij("",Me.mediaServer.FamilyName?Me.mediaServer.FamilyName:Me.mediaServer.DeviceName," - Transcodificador"),x.xp6(6),x.Q6J("formGroup",Me.customForm),x.xp6(5),x.Q6J("ngForOf",Me.transmissionMethodList),x.xp6(13),x.Q6J("ngForOf",Me.presetList),x.xp6(10),x.Q6J("disabled",Me.loading||Me.customForm.pristine||Me.customForm.invalid)}}function S(ne,te){if(1&ne&&x.YNc(0,I,40,5,"div",1),2&ne){const Me=x.oxw(2);x.Q6J("ngIf",Me.customForm)}}function L(ne,te){if(1&ne&&x._UZ(0,"app-server-connection-error",20),2&ne){const Me=x.oxw(2);x.Q6J("mediaServer",Me.mediaServer)}}function C(ne,te){if(1&ne&&(x.YNc(0,S,1,1,"ng-template",0),x.YNc(1,L,1,1,"ng-template",0)),2&ne){const Me=x.oxw();x.Q6J("ngIf",Me.mediaServer&&Me.mediaServer.isSecureConnection),x.xp6(1),x.Q6J("ngIf",Me.mediaServer&&!Me.mediaServer.isSecureConnection)}}function U(ne,te){1&ne&&(x.TgZ(0,"div",21),x._UZ(1,"mat-spinner"),x.qZA())}let z=(()=>{class ne{constructor(Me,J,ce,W,Se,le,Ee,xe,Ve){this.catalogService=Me,this.signalIrService=J,this.transcoderSettingsService=ce,this.modalService=W,this.snackBarService=Se,this.formBuilder=le,this.router=Ee,this.activeRoute=xe,this.sharedService=Ve,this.transmissionMethodList=[],this.presetList=[],this.loading=!1,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(fe=>{this.mediaServer&&this.mediaServer.Guid==fe&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0,this.getTranscoderSettingss())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(fe=>{this.mediaServer&&this.mediaServer.Guid==fe&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){this.getCatalogDetails();var Me=this.activeRoute.snapshot.params.serverGuid,J=this.sharedService.mediaServers.find(ce=>ce.Guid==Me);J?(this.mediaServer=JSON.parse(JSON.stringify(J)),J.isSecureConnection?(this.loadingConnection=!1,this.getTranscoderSettingss()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getCatalogDetails(){this.catalogService.getAllCatalogDetailsByCatalogIds(e.P9.TranscoderPreset+","+e.P9.VideoTransmissionType).then(J=>{let ce=J.Data;this.transmissionMethodList=ce.filter(W=>W.CatalogId==e.P9.VideoTransmissionType),this.presetList=ce.filter(W=>W.CatalogId==e.P9.TranscoderPreset)},J=>{console.error(J)})}getTranscoderSettingss(){this.transcoderSettingsService.getByMediaServer(this.mediaServer.Url).then(Me=>{if(this.currentTranscoderSettingss=Me,null==this.currentTranscoderSettingss){var J=new b;J.TemporaryFolder="",J.ConstantRateFactor=18,J.MediaServerId=this.mediaServer.Id,this.currentTranscoderSettingss=J}this.customForm=this.formBuilder.group({temporaryFolder:new n.NI(this.currentTranscoderSettingss.TemporaryFolder),preset:new n.NI(this.currentTranscoderSettingss.PresetCatalogDetailId),transmissionMethod:new n.NI(this.currentTranscoderSettingss.VideoTransmissionTypeCatalogDetailId),constantRateFactor:new n.NI(this.currentTranscoderSettingss.ConstantRateFactor)})},Me=>{console.error(Me)})}saveTranscoder(){this.loading=!0;var Me=JSON.parse(JSON.stringify(this.currentTranscoderSettingss));Me.TemporaryFolder=this.customForm.value.temporaryFolder,Me.ConstantRateFactor=this.customForm.value.constantRateFactor,Me.VideoTransmissionTypeCatalogDetailId=this.customForm.value.transmissionMethod,Me.PresetCatalogDetailId=this.customForm.value.preset,this.transcoderSettingsService.saveItem(this.mediaServer.Url,Me).then(J=>{this.loading=!1,this.getTranscoderSettingss(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",A.dA.Success)},J=>{this.loading=!1,this.snackBarService.showSnackBar(J,A.dA.Error),console.error(J)})}showChooserDirectoryModal(){var Me=this,J=this.modalService.open(_.u,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});J.componentInstance.mediaServer=this.mediaServer,J.closed.subscribe(ce=>{Me.customForm.controls.temporaryFolder.setValue(ce),Me.customForm.controls.temporaryFolder.markAsDirty()})}static#e=this.\u0275fac=function(J){return new(J||ne)(x.Y36(w.a),x.Y36(g.n),x.Y36(i),x.Y36(h.FF),x.Y36(p.c),x.Y36(n.qu),x.Y36(T.F0),x.Y36(T.gz),x.Y36(B.F))};static#t=this.\u0275cmp=x.Xpm({type:ne,selectors:[["app-transcode-settings"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["name","transmissionMethods","formControlName","transmissionMethod",1,"form-control"],["ngFor","",3,"ngForOf"],[1,"help-block"],["readonly","","type","text","formControlName","temporaryFolder",1,"form-control",2,"cursor","pointer",3,"click"],["name","transmissionMethods","formControlName","preset",1,"form-control"],["type","text","formControlName","constantRateFactor",1,"form-control"],[1,"form-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn-label"],[1,"form-message"],[1,"form-option",3,"ngValue"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(J,ce){1&J&&(x.YNc(0,C,2,2,"ng-template",0),x.YNc(1,U,2,0,"ng-template",0)),2&J&&(x.Q6J("ngIf",!ce.loadingConnection),x.xp6(1),x.Q6J("ngIf",ce.loadingConnection))},dependencies:[P.sg,P.O5,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,k.Ou,F.l,n.sg,n.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .form-option[_ngcontent-%COMP%]{background-color:#131313;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]{border-radius:3px;font-size:16px;line-height:1.33;padding:10px 18px;flex-shrink:0;text-transform:capitalize;border:0;overflow:hidden;position:relative;cursor:pointer;display:inline-block;font-weight:400;margin-bottom:0;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;color:#fff;background-color:#007bff;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   button.save.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}.sinovad-manage-media-container[_ngcontent-%COMP%]{display:block}.sinovad-manage-media-section[_ngcontent-%COMP%]{display:block;padding:10px}label[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}.sinovad-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-manage-media-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}']})}return ne})()},2680:(Hn,Xe,v)=>{"use strict";v.d(Xe,{I:()=>ne});var e=v(1476),n=v(2877),b=v(863),A=v(5313),_=v(5879),x=v(4001),w=v(5612),g=v(616),d=v(6294);let i=(()=>{class te{constructor(J){this.restProvider=J}getAlertsByMediaServer(J,ce,W){return new Promise((Se,le)=>{var Ee="?page="+ce.toString()+"&take="+W.toString();this.restProvider.executeHttpMediaServerApi(b.yw.GET,J+"/api/alerts/GetAllWithPagination"+Ee).then(Ve=>{Se(Ve)},Ve=>{le(Ve)})})}static#e=this.\u0275fac=function(ce){return new(ce||te)(_.LFG(d.C))};static#t=this.\u0275prov=_.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();var h=v(6814),p=v(5940),T=v(3171);function B(te,Me){1&te&&(_.TgZ(0,"div",18),_._UZ(1,"mat-spinner"),_.qZA())}function P(te,Me){if(1&te&&(_.TgZ(0,"td",19),_._UZ(1,"i"),_.qZA()),2&te){const J=Me.$implicit,ce=_.oxw(4);_.xp6(1),_.Tol(ce.getIconByAlertType(J.AlertType))}}function k(te,Me){if(1&te&&(_.TgZ(0,"td",20),_._uU(1),_.ALo(2,"date"),_.qZA()),2&te){const J=Me.$implicit;_.xp6(1),_.hij(" ",_.xi3(2,1,J.Created,"dd-MM-YYYY h:mm a")," ")}}function F(te,Me){if(1&te&&(_.TgZ(0,"td",21),_._uU(1),_.qZA()),2&te){const J=Me.$implicit;_.xp6(1),_.hij(" ",J.Description," ")}}function O(te,Me){1&te&&_._UZ(0,"tr",22)}function D(te,Me){1&te&&(_.TgZ(0,"td",25),_._uU(1,"No se encontraron datos"),_.qZA())}function I(te,Me){if(1&te&&(_.TgZ(0,"tr",23),_.YNc(1,D,2,0,"td",24),_.qZA()),2&te){const J=_.oxw(4);_.xp6(1),_.Q6J("ngIf",!J.showLoading)}}function S(te,Me){if(1&te&&(_.TgZ(0,"div",2)(1,"h2"),_._uU(2),_.qZA(),_.TgZ(3,"div",3)(4,"div",4)(5,"div",5),_.YNc(6,B,2,0,"div",6),_.TgZ(7,"div",7)(8,"table",8),_.ynx(9,9),_.YNc(10,P,2,3,"td",10),_.BQk(),_.ynx(11,11),_.YNc(12,k,3,4,"td",12),_.BQk(),_.ynx(13,13),_.YNc(14,F,2,1,"td",14),_.BQk(),_.YNc(15,O,1,0,"tr",15),_.YNc(16,I,2,1,"tr",16),_.qZA()()()()(),_.TgZ(17,"div",3)(18,"div",4),_._UZ(19,"mat-paginator",17),_.qZA()()()),2&te){const J=_.oxw(3);_.xp6(2),_.hij("",J.mediaServer.FamilyName?J.mediaServer.FamilyName:J.mediaServer.DeviceName," - Alertas"),_.xp6(4),_.Q6J("ngIf",J.showLoading),_.xp6(2),_.Q6J("dataSource",J.dataSource),_.xp6(7),_.Q6J("matRowDefColumns",J.getDisplayedColumns()),_.xp6(4),_.Q6J("color","primary")("hidePageSize",!0)}}function L(te,Me){if(1&te&&_.YNc(0,S,20,6,"div",1),2&te){const J=_.oxw(2);_.Q6J("ngIf",J.mediaServer)}}function C(te,Me){if(1&te&&_._UZ(0,"app-server-connection-error",26),2&te){const J=_.oxw(2);_.Q6J("mediaServer",J.mediaServer)}}function U(te,Me){if(1&te&&(_.YNc(0,L,1,1,"ng-template",0),_.YNc(1,C,1,1,"ng-template",0)),2&te){const J=_.oxw();_.Q6J("ngIf",J.mediaServer&&J.mediaServer.isSecureConnection),_.xp6(1),_.Q6J("ngIf",J.mediaServer&&!J.mediaServer.isSecureConnection)}}function z(te,Me){1&te&&(_.TgZ(0,"div",27),_._UZ(1,"mat-spinner"),_.qZA())}let ne=(()=>{class te extends n.G{constructor(J,ce,W,Se,le,Ee,xe){super(xe),this.ref=J,this.sharedService=ce,this.router=W,this.activeRoute=Se,this.signalIrService=le,this.alertsService=Ee,this.matPaginatorIntl=xe,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(Ve=>{this.mediaServer&&this.mediaServer.Guid==Ve&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.ref.detectChanges(),this.initializePaginator(),this.getAllItems())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(Ve=>{this.mediaServer&&this.mediaServer.Guid==Ve&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){var J=this.activeRoute.snapshot.params.serverGuid,ce=this.sharedService.mediaServers.find(W=>W.Guid==J);ce?(this.mediaServer=JSON.parse(JSON.stringify(ce)),ce.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngAfterViewInit(){this.mediaServer&&this.mediaServer.isSecureConnection&&this.initializePaginator()}initializePaginator(){this.paginator.page.subscribe(J=>{this.updatePageData(J),this.getAllItems()}),this.dataSource.paginator=this.paginator}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getAllItems(){this.showLoading=!0,this.alertsService.getAlertsByMediaServer(this.mediaServer.Url,this.currentPage,this.itemsPerPage).then(J=>{this.showLoading=!1;var ce=J.Data;this.totalCount=J.TotalCount,this.listItems=ce,this.dataSource=new A.by(this.listItems),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},J=>{this.showLoading=!1})}getDisplayedColumns(){return["AlertType","Created","Description"]}getIconByAlertType(J){return J==b.NK.Bullhorn?"fa-solid fa-bullhorn":J==b.NK.Tags?"fa-solid fa-tags":J==b.NK.Ok?"fa-solid fa-check":J==b.NK.Plus?"fa-solid fa-plus":J==b.NK.Bin?"fa-solid fa-trash":""}static#e=this.\u0275fac=function(ce){return new(ce||te)(_.Y36(_.sBO),_.Y36(x.F),_.Y36(w.F0),_.Y36(w.gz),_.Y36(g.n),_.Y36(i),_.Y36(e.ye))};static#t=this.\u0275cmp=_.Xpm({type:te,selectors:[["app-alerts"]],viewQuery:function(ce,W){if(1&ce&&_.Gf(e.NW,5),2&ce){let Se;_.iGM(Se=_.CRH())&&(W.paginator=Se.first)}},features:[_.qOj],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"row"],[1,"col-12"],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","AlertType"],["mat-cell","","style","width:45px;max-width:45px;text-align: left;",4,"matCellDef"],["matColumnDef","Created"],["mat-cell","","style","min-width:140px;width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Description"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","hidePageSize"],[1,"loading-shade"],["mat-cell","",2,"width","45px","max-width","45px","text-align","left"],["mat-cell","",2,"min-width","140px","width","140px","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(ce,W){1&ce&&(_.YNc(0,U,2,2,"ng-template",0),_.YNc(1,z,2,0,"ng-template",0)),2&ce&&(_.Q6J("ngIf",!W.loadingConnection),_.xp6(1),_.Q6J("ngIf",W.loadingConnection))},dependencies:[h.O5,e.NW,A.BZ,A.w1,A.Dz,A.nj,A.ev,A.Gk,A.Ee,p.Ou,T.l,h.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:650px!important}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:650px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}td[_ngcontent-%COMP%]{font-size:13px;padding:6px}div[_ngcontent-%COMP%]{font-size:13px}span[_ngcontent-%COMP%]{font-size:13px!important}"]})}return te})()},9411:(Hn,Xe,v)=>{"use strict";v.d(Xe,{M:()=>U});var e=v(5879),n=v(4001),b=v(5612),A=v(616),_=v(863),x=v(6294);let w=(()=>{class z{constructor(te){this.restProvider=te}GetListMediaFilePlayback(te){return new Promise((Me,J)=>{this.restProvider.executeHttpMediaServerApi(_.yw.GET,te+"/api/mediaFilePlaybacks/GetListMediaFilePlayback").then(W=>{Me(W.Data)},W=>{J(W)})})}static#e=this.\u0275fac=function(Me){return new(Me||z)(e.LFG(x.C))};static#t=this.\u0275prov=e.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})();var g=v(6814),d=v(5940),i=v(3171),h=v(1531);function p(z,ne){if(1&z&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&z){const te=e.oxw().$implicit;e.xp6(1),e.hij(" ",te.ItemData.Subtitle," ")}}function T(z,ne){if(1&z&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&z){const te=e.oxw().$implicit;e.xp6(1),e.lnq(" ",te.ClientData.DeviceData.OperatingSystem," - ",te.ClientData.DeviceData.DeviceType," - ",te.ClientData.DeviceData.Browser," ")}}function B(z,ne){if(1&z&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&z){const te=e.oxw().$implicit,Me=e.oxw(5);e.xp6(1),e.hij(" ",Me.sharedService.getInitials(te.ProfileData.ProfileName)," ")}}function P(z,ne){if(1&z&&(e._UZ(0,"img",21),e.ALo(1,"async"),e.ALo(2,"formatDataPipe")),2&z){const te=e.oxw().$implicit;e.uIk("src",e.lcZ(1,1,e.xi3(2,3,te.ProfileData.ProfileId,"GetAvatarImageURLByProfileId")),e.LSH)}}function k(z,ne){if(1&z&&(e.TgZ(0,"div",7)(1,"div",8)(2,"div"),e._UZ(3,"img",9),e.qZA(),e.TgZ(4,"div",10)(5,"div",11),e._uU(6),e.qZA(),e.YNc(7,p,2,1,"div",12),e.TgZ(8,"div",13),e._uU(9),e.qZA()()(),e.TgZ(10,"div",14)(11,"div",15),e._UZ(12,"div",16),e.qZA(),e.TgZ(13,"div",10),e.YNc(14,T,2,3,"div",17),e.TgZ(15,"div",13),e._uU(16),e.qZA(),e.TgZ(17,"div",13),e._uU(18),e.qZA()()(),e.TgZ(19,"div",18),e.YNc(20,B,2,1,"div",19),e.YNc(21,P,3,6,"img",19),e.TgZ(22,"span",20),e._uU(23),e.qZA()()()),2&z){const te=ne.$implicit,Me=e.oxw(5);e.xp6(3),e.Q6J("src",te.ItemData.PosterPath,e.LSH),e.xp6(3),e.hij(" ",te.ItemData.Title," "),e.xp6(1),e.Q6J("ngIf",te.ItemData.Subtitle),e.xp6(2),e.hij(" ",Me.getFormattedDuration(te.ItemData.Duration)," "),e.xp6(3),e.Udp("width",Me.getWidthProgressItem(te.ClientData)),e.xp6(2),e.Q6J("ngIf",te.ClientData.DeviceData),e.xp6(2),e.hij(" ",Me.getPlayingMediaInfo(te.ClientData)," "),e.xp6(2),e.hij(" Local (",te.ClientData.LocalIpAddress,") "),e.xp6(2),e.Q6J("ngIf",null==te.ProfileData.AvatarPath),e.xp6(1),e.Q6J("ngIf",null!=te.ProfileData.AvatarPath),e.xp6(2),e.hij(" ",te.ProfileData.ProfileName," ")}}function F(z,ne){if(1&z&&e.YNc(0,k,24,12,"ng-template",6),2&z){const te=e.oxw(4);e.Q6J("ngForOf",te.listItems)}}function O(z,ne){1&z&&e._uU(0," No se est\xe1 reproduciendo nada actualmente ")}function D(z,ne){if(1&z&&(e.TgZ(0,"div",2)(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"div",3)(4,"h2",4),e._uU(5,"Reproduciendo ahora"),e.qZA(),e.TgZ(6,"div",5),e.YNc(7,F,1,1,"ng-template",0),e.YNc(8,O,1,0,"ng-template",0),e.qZA()()()),2&z){const te=e.oxw(3);e.xp6(2),e.hij("",te.mediaServer.FamilyName?te.mediaServer.FamilyName:te.mediaServer.DeviceName," - Panel de Control"),e.xp6(5),e.Q6J("ngIf",te.listItems&&te.listItems.length>0),e.xp6(1),e.Q6J("ngIf",null==te.listItems||0==te.listItems.length)}}function I(z,ne){if(1&z&&e.YNc(0,D,9,3,"div",1),2&z){const te=e.oxw(2);e.Q6J("ngIf",te.mediaServer)}}function S(z,ne){if(1&z&&e._UZ(0,"app-server-connection-error",22),2&z){const te=e.oxw(2);e.Q6J("mediaServer",te.mediaServer)}}function L(z,ne){if(1&z&&(e.YNc(0,I,1,1,"ng-template",0),e.YNc(1,S,1,1,"ng-template",0)),2&z){const te=e.oxw();e.Q6J("ngIf",te.mediaServer&&te.mediaServer.isSecureConnection),e.xp6(1),e.Q6J("ngIf",te.mediaServer&&!te.mediaServer.isSecureConnection)}}function C(z,ne){1&z&&(e.TgZ(0,"div",23),e._UZ(1,"mat-spinner"),e.qZA())}let U=(()=>{class z{constructor(te,Me,J,ce,W,Se){this.sharedService=te,this.ref=Me,this.router=J,this.activeRoute=ce,this.signalIrService=W,this.dashboardService=Se,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionAddedMediaFilePlayback=this.signalIrService.isAddedMediaFilePlayback().subscribe(le=>{this.mediaServer&&this.mediaServer.Guid==le.mediaServerGuid&&null==this.listItems.find(xe=>xe.Guid==le.mediaFilePlaybackGuid)&&this.dashboardService.GetListMediaFilePlayback(this.mediaServer.Url).then(xe=>{var Ve=xe.find(fe=>fe.Guid==le.mediaFilePlaybackGuid);Ve&&(this.listItems.push(Ve),this.ref.detectChanges())},xe=>{})}),this.subscriptionRemovedMediaFilePlayback=this.signalIrService.isRemovedMediaFilePlayback().subscribe(le=>{if(this.mediaServer&&this.mediaServer.Guid==le.mediaServerGuid){var Ee=this.listItems.findIndex(xe=>xe.Guid==le.mediaFilePlaybackGuid);-1!=Ee&&(this.listItems.splice(Ee,1),this.ref.detectChanges())}}),this.subscriptionUpdateCurrentTimeMediaFilePlayback=this.signalIrService.isUpdatingCurrentTimeMediaFilePlayBack().subscribe(le=>{if(this.mediaServer&&this.mediaServer.Guid==le.mediaServerGuid){var Ee=this.listItems.find(xe=>xe.Guid==le.mediaFilePlaybackGuid);Ee&&(Ee.ClientData.CurrentTime=le.currentTime,Ee.ClientData.IsPlaying=le.isPlaying,this.ref.detectChanges())}}),this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(le=>{this.mediaServer&&this.mediaServer.Guid==le&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.ref.detectChanges(),this.getAllItems())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(le=>{this.mediaServer&&this.mediaServer.Guid==le&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){var te=this.activeRoute.snapshot.params.serverGuid,Me=this.sharedService.mediaServers.find(J=>J.Guid==te);Me?(this.mediaServer=JSON.parse(JSON.stringify(Me)),Me.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe(),this.subscriptionUpdateCurrentTimeMediaFilePlayback.unsubscribe(),this.subscriptionAddedMediaFilePlayback.unsubscribe(),this.subscriptionRemovedMediaFilePlayback.unsubscribe()}getAllItems(){this.dashboardService.GetListMediaFilePlayback(this.mediaServer.Url).then(te=>{this.listItems=te},te=>{})}getFormattedDuration(te){var Me=parseInt(te,10),J=Math.floor(Me/3600),ce=Math.floor((Me-3600*J)/60);return 0==J?ce+"min":J+"hr "+ce+"min"}getPlayingMediaInfo(te){var Me=this.getFormatTime(te.CurrentTime),J=this.getFormatTime(te.Duration);return(te.IsPlaying?"Playing":"Paused")+" - "+Me+" / "+J}getFormatTime(te){var Me=parseInt(te,10),J=Math.floor(Me/3600),ce=Math.floor((Me-3600*J)/60),W=Me-3600*J-60*ce;return J<10&&(J="0"+J),ce<10&&(ce="0"+ce),W<10&&(W="0"+W),J+":"+ce+":"+W}getWidthProgressItem(te){return te.CurrentTime/te.Duration*100+"%"}getInitials(te){return te.substring(0,1)}static#e=this.\u0275fac=function(Me){return new(Me||z)(e.Y36(n.F),e.Y36(e.sBO),e.Y36(b.F0),e.Y36(b.gz),e.Y36(A.n),e.Y36(w))};static#t=this.\u0275cmp=e.Xpm({type:z,selectors:[["app-dashboard"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"playback-container"],[1,"items-playing-title"],[1,"cards-container"],["ngFor","",3,"ngForOf"],[1,"custom-card"],[1,"custom-card-item-content"],[3,"src"],[1,"custom-card-item-content-right"],[1,"custom-card-text-title"],["class","custom-card-text-subtitle",4,"ngIf"],[1,"custom-card-text-subtitle"],[1,"custom-card-client-content"],[1,"sinovad-item-progress-bar-container"],[1,"sinovad-item-progress-bar-content"],["class","custom-card-text-title",4,"ngIf"],[1,"custom-card-profile-content"],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],[1,"sinovad-initials-profile"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(Me,J){1&Me&&(e.YNc(0,L,2,2,"ng-template",0),e.YNc(1,C,2,0,"ng-template",0)),2&Me&&(e.Q6J("ngIf",!J.loadingConnection),e.xp6(1),e.Q6J("ngIf",J.loadingConnection))},dependencies:[g.sg,g.O5,d.Ou,i.l,g.Ov,h.A],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:650px!important}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px;max-width:950px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}td[_ngcontent-%COMP%]{font-size:13px;padding:6px}div[_ngcontent-%COMP%]{font-size:13px}span[_ngcontent-%COMP%]{font-size:13px!important}.custom-card[_ngcontent-%COMP%]{display:block;color:#fff;width:280px;background-color:#00000026}.custom-card[_ngcontent-%COMP%]   .custom-card-item-content[_ngcontent-%COMP%]{display:flex}.custom-card[_ngcontent-%COMP%]   .custom-card-item-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:120px}.custom-card[_ngcontent-%COMP%]   .custom-card-item-content-right[_ngcontent-%COMP%]{padding:20px;display:block}.custom-card[_ngcontent-%COMP%]   .custom-card-text-subtitle[_ngcontent-%COMP%]{color:#ffffff73;margin-top:4px}.items-playing-title[_ngcontent-%COMP%]{font-size:20px}.custom-card-client-content[_ngcontent-%COMP%]{background-color:#2d3744}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#000}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:#007bff;height:100%}.custom-card-profile-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px}.sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:20px;margin-right:10px}.sinovad-initials-profile[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:1px solid white;display:flex;align-items:center;justify-content:center;font-size:30px}.cards-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;width:100%;color:#fff}.playback-container[_ngcontent-%COMP%]{border-top:1px solid #dedede}"]})}return z})()},8923:(Hn,Xe,v)=>{"use strict";v.d(Xe,{k:()=>x});var e=v(7700),n=v(5879),b=v(6814);const A=function(w){return{disabled:w}};let x=(()=>{class w{constructor(d,i){this.dialog=d,this.options=i}closeDialog(){this.dialog.close(!1)}confirmDialog(){this.dialog.close(!0)}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||w)(n.Y36(e.so),n.Y36(e.WI))};static#t=this.\u0275cmp=n.Xpm({type:w,selectors:[["app-custom-confirm-dialog"]],decls:24,vars:6,consts:[[1,"modal-container"],["role","document",1,"modal-dialog"],[1,"modal-backdrop"],[1,"modal-small"],[1,"modal-content"],[1,"modal-content-close-button",3,"click"],[1,"fa-solid","fa-xmark"],["mat-dialog-title","",1,"modal-header"],["mat-dialog-content","",1,"confirm-modal-body"],[1,"inner-modal-body"],[1,"confirm-modal-accord-label"],["type","checkbox",1,"confirm-message-accord-input"],["checkBox",""],["mat-dialog-actions","",1,"modal-footer"],[1,"modal-footer-button-bar"],[1,"confirm-modal-button","cancel",3,"click"],[1,"confirm-modal-button","confirm",3,"ngClass","click"],[1,"spinner-button-label"]],template:function(i,h){if(1&i&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),n.NdJ("click",function(){return h.closeDialog()}),n._UZ(6,"i",6),n.qZA(),n.TgZ(7,"div",7),n._uU(8),n.qZA(),n.TgZ(9,"div",8)(10,"div",9)(11,"p"),n._uU(12),n.qZA(),n.TgZ(13,"label",10),n._UZ(14,"input",11,12),n._uU(16),n.qZA()()(),n.TgZ(17,"div",13)(18,"div",14)(19,"button",15),n.NdJ("click",function(){return h.closeDialog()}),n._uU(20,"Cancelar"),n.qZA(),n.TgZ(21,"button",16),n.NdJ("click",function(){return h.confirmDialog()}),n.TgZ(22,"span",17),n._uU(23,"Eliminar"),n.qZA()()()()()()()()()),2&i){const p=n.MAs(15);n.xp6(8),n.hij(" ",h.options.title," "),n.xp6(4),n.Oqu(h.options.message),n.xp6(4),n.hij("",h.options.accordMessage," "),n.xp6(5),n.Q6J("ngClass",n.VKq(4,A,!p.checked))}},dependencies:[b.mk,e.uh,e.xY,e.H8],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return w})()},9604:(Hn,Xe,v)=>{"use strict";v.d(Xe,{dA:()=>g,fJ:()=>i});var e=v(6814),n=v(5879),b=v(2939);function A(h,p){1&h&&n._UZ(0,"i",4)}function _(h,p){1&h&&n._UZ(0,"i",5)}function x(h,p){1&h&&n._UZ(0,"i",6)}const w=function(h,p,T){return{success:h,info:p,error:T}};var g=function(h){return h[h.Success=1]="Success",h[h.Error=2]="Error",h[h.Info=3]="Info",h}(g||{});let i=(()=>{class h{constructor(T){this.toastOptions=T,this.snackBarRef=(0,n.f3M)(b.OX)}SnackBarType(){return g}static#e=this.\u0275fac=function(B){return new(B||h)(n.Y36(b.qD))};static#t=this.\u0275cmp=n.Xpm({type:h,selectors:[["app-custom-snack-bar"]],standalone:!0,features:[n.jDz],decls:5,vars:9,consts:[[1,"custom-toast",3,"ngClass"],["class","fa-solid fa-circle-check me-2",4,"ngIf"],["class","fa-solid fa-circle-info me-2",4,"ngIf"],["class","fa-solid fa-circle-xmark me-2",4,"ngIf"],[1,"fa-solid","fa-circle-check","me-2"],[1,"fa-solid","fa-circle-info","me-2"],[1,"fa-solid","fa-circle-xmark","me-2"]],template:function(B,P){1&B&&(n.TgZ(0,"div",0),n.YNc(1,A,1,0,"i",1),n.YNc(2,_,1,0,"i",2),n.YNc(3,x,1,0,"i",3),n._uU(4),n.qZA()),2&B&&(n.Q6J("ngClass",n.kEZ(5,w,P.toastOptions.snackBarType==P.SnackBarType().Success,P.toastOptions.snackBarType==P.SnackBarType().Info,P.toastOptions.snackBarType==P.SnackBarType().Error)),n.xp6(1),n.Q6J("ngIf",P.toastOptions.snackBarType==P.SnackBarType().Success),n.xp6(1),n.Q6J("ngIf",P.toastOptions.snackBarType==P.SnackBarType().Info),n.xp6(1),n.Q6J("ngIf",P.toastOptions.snackBarType==P.SnackBarType().Error),n.xp6(1),n.hij(" ",P.toastOptions.message,"\n"))},dependencies:[b.ZX,e.ez,e.mk,e.O5],styles:[".custom-toast[_ngcontent-%COMP%]{background:transparent;font-weight:500;width:100%;height:100%;display:flex;align-items:center}.custom-toast[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;font-size:23px}.custom-toast.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:green}.custom-toast.error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.custom-toast.info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00f}"]})}return h})()},9768:(Hn,Xe,v)=>{"use strict";v.d(Xe,{D:()=>A});var e=v(5879),n=v(6814);function b(_,x){1&_&&(e.TgZ(0,"div")(1,"div")(2,"div",1)(3,"div",2)(4,"div",3),e._UZ(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div")(13,"div")(14,"div")(15,"div")(16,"div"),e.qZA()()()()())}let A=(()=>{class _{constructor(w,g){this.ref=w,this.viewContainerRef=g,this.showLoading=!1}ngOnInit(){}ngAfterViewInit(){}static#e=this.\u0275fac=function(g){return new(g||_)(e.Y36(e.sBO),e.Y36(e.s_b))};static#t=this.\u0275cmp=e.Xpm({type:_,selectors:[["app-custom-spinner"]],inputs:{showLoading:"showLoading"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"spinner-container"],[1,"sinovad-spinner-container"],[1,"lds-spinner"]],template:function(g,d){1&g&&e.YNc(0,b,17,0,"div",0),2&g&&e.Q6J("ngIf",d.showLoading)},dependencies:[n.O5],styles:['.spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;z-index:999;justify-content:center;background:rgba(0,0,0,.5)}.lds-spinner[_ngcontent-%COMP%]{color:official;display:inline-block;position:relative;width:80px;height:80px}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transform-origin:40px 40px;animation:_ngcontent-%COMP%_lds-spinner 1.2s linear infinite}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;top:3px;left:37px;width:6px;height:18px;border-radius:20%;background:#fff}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0);animation-delay:-1.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg);animation-delay:-1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg);animation-delay:0s}@keyframes _ngcontent-%COMP%_lds-spinner{0%{opacity:1}to{opacity:0}}']})}return _})()},9178:(Hn,Xe,v)=>{"use strict";v.d(Xe,{u:()=>T});var e=v(5879),n=v(863),b=v(4440),A=v.n(b),_=v(6294);let x=(()=>{class B{constructor(k){this.restProvider=k}getDirectoriesByMediaServer(k){return new Promise((F,O)=>{this.restProvider.executeHttpMethodByUrl(n.yw.GET,k+"/api/directories").then(D=>{F(D)},D=>{console.error(D),O(D)})})}getSubdirectoriesByMediaServerAndDirectoryPath(k,F){return new Promise((O,D)=>{var I=A().encode(F);this.restProvider.executeHttpMethodByUrl(n.yw.GET,k+"/api/directories/"+I).then(S=>{O(S)},S=>{console.error(S),D(S)})})}static#e=this.\u0275fac=function(F){return new(F||B)(e.LFG(_.C))};static#t=this.\u0275prov=e.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})();var w=v(3946),g=v(6814);const d=function(B){return{"sinovad-directory-selected":B}};function i(B,P){if(1&B){const k=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){const D=e.CHM(k).$implicit,I=e.oxw();return e.KtG(I.onClickMainDirectory(D))}),e._uU(1),e.qZA()}if(2&B){const k=P.$implicit,F=e.oxw();e.Q6J("ngClass",e.VKq(2,d,F.selectedMainDirectory&&k.Name==F.selectedMainDirectory.Name)),e.xp6(1),e.hij(" ",k.Name," ")}}function h(B,P){if(1&B){const k=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(k);const O=e.oxw();return e.KtG(O.onClickBackFolder())}),e._uU(1," <= .. [Regresar] "),e.qZA()}}function p(B,P){if(1&B){const k=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){const D=e.CHM(k).$implicit,I=e.oxw();return e.KtG(I.onClickSubDirectory(D))}),e._uU(1),e.qZA()}if(2&B){const k=P.$implicit,F=e.oxw();e.Q6J("ngClass",e.VKq(2,d,F.selectedSubdirectory&&k.Name==F.selectedSubdirectory.Name)),e.xp6(1),e.hij(" ",k.Name," ")}}let T=(()=>{class B{constructor(k,F){this.directoryService=k,this.activeModal=F,this.listMainDirectories=[],this.listSubdirectoriesTmp=[]}ngOnInit(){this.getDirectories()}getDirectories(){this.directoryService.getDirectoriesByMediaServer(this.mediaServer.Url).then(k=>{this.listMainDirectories=JSON.parse(k);let F=this.listMainDirectories[0];this.selectedMainDirectory=F,this.getSubdirectoriesByPath(F)})}getSubdirectoriesByPath(k){this.directoryService.getSubdirectoriesByMediaServerAndDirectoryPath(this.mediaServer.Url,k.Path).then(F=>{this.listSubdirectoriesTmp=JSON.parse(F)},F=>{console.error(F)})}saveDirectory(){this.activeModal.close(this.getCurrentPath())}getCurrentPath(){return this.selectedSubdirectory?this.selectedSubdirectory.Path:this.selectedMainDirectory.Path}closeModal(){this.activeModal.dismiss()}onClickBackFolder(){this.selectedSubdirectory.ParentDirectory.IsMainDirectory?(this.selectedSubdirectory=void 0,this.getSubdirectoriesByPath(this.selectedMainDirectory)):(this.selectedSubdirectory=this.selectedSubdirectory.ParentDirectory,this.getSubdirectoriesByPath(this.selectedSubdirectory))}onClickMainDirectory(k){this.selectedMainDirectory=k,this.getSubdirectoriesByPath(this.selectedMainDirectory)}onClickSubDirectory(k){if(null==this.selectedSubdirectory)this.selectedSubdirectory=k,this.selectedSubdirectory.ParentDirectory=this.selectedMainDirectory;else{let F=JSON.parse(JSON.stringify(this.selectedSubdirectory));this.selectedSubdirectory=k,this.selectedSubdirectory.ParentDirectory=F}this.getSubdirectoriesByPath(this.selectedSubdirectory)}static#e=this.\u0275fac=function(F){return new(F||B)(e.Y36(x),e.Y36(w.Kz))};static#t=this.\u0275cmp=e.Xpm({type:B,selectors:[["app-directory-chooser"]],inputs:{mediaServer:"mediaServer"},decls:17,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[1,"sinovad-directory-chooser-content"],[1,"sinovad-main-directories-section"],["ngFor","",3,"ngForOf"],[1,"sinovad-subdirectories-section"],["class","sinovad-subdirectory-option",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"sinovad-main-directory-option",3,"ngClass","click"],[1,"sinovad-subdirectory-option",3,"click"],[1,"sinovad-subdirectory-option",3,"ngClass","click"]],template:function(F,O){1&F&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2,"Seleccionar directorio"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return O.closeModal()}),e._UZ(4,"i",3),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6),e.YNc(8,i,2,4,"ng-template",7),e.qZA(),e.TgZ(9,"div",8),e.YNc(10,h,2,0,"button",9),e.YNc(11,p,2,4,"ng-template",7),e.qZA()()(),e.TgZ(12,"div",10)(13,"button",11),e.NdJ("click",function(){return O.closeModal()}),e._uU(14,"Close"),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){return O.saveDirectory()}),e._uU(16,"Guardar"),e.qZA()()),2&F&&(e.xp6(8),e.Q6J("ngForOf",O.listMainDirectories),e.xp6(2),e.Q6J("ngIf",O.selectedSubdirectory),e.xp6(1),e.Q6J("ngForOf",O.listSubdirectoriesTmp))},dependencies:[g.mk,g.sg,g.O5],styles:["[_nghost-%COMP%]{background:rgba(17,17,17,.65);padding:20px}.modal-body[_ngcontent-%COMP%]{height:100%;display:flex}.sinovad-directory-chooser-container[_ngcontent-%COMP%]{display:block;background-color:#282828;color:#000;width:400px;height:500px;border:1px solid #dedede;border-radius:5px;padding:20px}.sinovad-main-directories-section[_ngcontent-%COMP%]{display:block;width:50%;padding-right:20px}.sinovad-subdirectories-section[_ngcontent-%COMP%]{display:block;width:50%;overflow-x:hidden;overflow-y:auto;padding-left:10px;height:100%}.sinovad-directory-chooser-content[_ngcontent-%COMP%]{display:flex;width:100%;background:black}.sinovad-main-directory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-main-directory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-subdirectory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-subdirectory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-directory-chooser-header[_ngcontent-%COMP%]{display:block;float:right;width:100%}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;background:transparent;border:0;outline:none;cursor:pointer;font-size:20px;color:#fff;opacity:.7}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-directory-selected[_ngcontent-%COMP%]{border-left:4px solid #007bff;padding-left:6px;background-color:#ffffff0d;opacity:1}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]{display:inline-block;width:100%}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   .sinovad-directory-chooser-footer-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;color:#fff;background:#F18307;border:none;border-radius:5px;font-weight:700;cursor:pointer}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]{display:inline-block;padding:10px 0;width:100%;height:50px}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border-radius:5px;width:100%;padding:6px 10px}"]})}return B})()},3171:(Hn,Xe,v)=>{"use strict";v.d(Xe,{l:()=>n});var e=v(5879);let n=(()=>{class b{constructor(){}static#e=this.\u0275fac=function(x){return new(x||b)};static#t=this.\u0275cmp=e.Xpm({type:b,selectors:[["app-server-connection-error"]],inputs:{mediaServer:"mediaServer"},decls:5,vars:1,consts:[[1,"server-error-page-container"],[1,"server-error-page-content"],[1,"server-error-message-title"],[1,"server-error-message-description"]],template:function(x,w){1&x&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e._UZ(4,"div",3),e.qZA()()),2&x&&(e.xp6(3),e.hij(" No se puede conectar a ",w.mediaServer.FamilyName?w.mediaServer.FamilyName:w.mediaServer.DeviceName," "))}})}return b})()},9223:(Hn,Xe,v)=>{"use strict";v.d(Xe,{_:()=>n});var e=v(5879);let n=(()=>{class b{constructor(_){this.elementRef=_,this.clickOutside=new e.vpe}ngOnInit(){}ngAfterViewInit(){}onClick(_,x){x&&(this.elementRef.nativeElement.contains(x)||this.clickOutside.emit(_))}onContextMenu(){console.log("contextmenu")}static#e=this.\u0275fac=function(x){return new(x||b)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:b,selectors:[["","clickOutside",""]],hostBindings:function(x,w){1&x&&e.NdJ("click",function(d){return w.onClick(d,d.target)},!1,e.Jf7)("contextmenu",function(){return w.onContextMenu()})},outputs:{clickOutside:"clickOutside"}})}return b})()},863:(Hn,Xe,v)=>{"use strict";v.d(Xe,{DD:()=>b,DM:()=>d,Ln:()=>A,NK:()=>h,O5:()=>g,P9:()=>e,jP:()=>i,yw:()=>w});var e=function(p){return p[p.MediaServerState=1]="MediaServerState",p[p.MediaType=2]="MediaType",p[p.VideoTransmissionType=3]="VideoTransmissionType",p[p.TranscoderPreset=4]="TranscoderPreset",p[p.IconTypes=5]="IconTypes",p[p.LinkedAccountProvider=6]="LinkedAccountProvider",p}(e||{}),b=function(p){return p[p.Movie=1]="Movie",p[p.TvSerie=2]="TvSerie",p[p.Music=3]="Music",p[p.Photo=4]="Photo",p[p.Other=5]="Other",p}(b||{}),A=function(p){return p[p.None=1]="None",p[p.MPEGDASH=2]="MPEGDASH",p[p.HLS=3]="HLS",p}(A||{}),w=function(p){return p[p.GET=0]="GET",p[p.POST=1]="POST",p[p.PUT=2]="PUT",p[p.DELETE=3]="DELETE",p}(w||{}),g=function(p){return p[p.Empty=0]="Empty",p[p.Generated=1]="Generated",p[p.Initialized=2]="Initialized",p[p.LoadedMetada=3]="LoadedMetada",p[p.LoadedData=4]="LoadedData",p}(g||{}),d=function(p){return p[p.SinovadDb=1]="SinovadDb",p[p.TMDb=2]="TMDb",p[p.IMDb=3]="IMDb",p}(d||{}),i=function(p){return p[p.Google=1]="Google",p[p.Facebook=2]="Facebook",p[p.Apple=3]="Apple",p}(i||{}),h=function(p){return p[p.Ok=1]="Ok",p[p.Plus=2]="Plus",p[p.Bin=3]="Bin",p[p.Bullhorn=4]="Bullhorn",p[p.Tags=5]="Tags",p}(h||{})},5550:(Hn,Xe,v)=>{"use strict";v.d(Xe,{n:()=>e});class e{isErrorState(b,A){return!!(b&&b.invalid&&(b.dirty||b.touched||A&&A.submitted))}}},2877:(Hn,Xe,v)=>{"use strict";v.d(Xe,{G:()=>b});var e=v(8337),n=v(5313);class b{constructor(_){this.matPaginatorIntl=_,this.showLoading=!0,this.dataSource=new n.by,this.selection=new e.Ov(!0,[]),this.itemsPerPage=10,this.currentPage=1,this.listItems=[],this.sortBy="Id",this.sortDirection="asc",this.searchText="",this.searchBy="",this.matPaginatorIntl.itemsPerPageLabel="Items por p\xe1gina",this.matPaginatorIntl.previousPageLabel="P\xe1gina anterior",this.matPaginatorIntl.nextPageLabel="P\xe1gina siguiente"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}updatePageData(_){this.itemsPerPage=_.pageSize,this.currentPage=_.pageIndex+1}getElementNumber(_,x,w){return _+1+(x-1)*w}onChangeCheckValue(_,x){let w=_.target.checked;if(w?this.selection.select(x):this.selection.deselect(x),_.shiftKey&&this.lastSelectedItem){let d=0;this.selection.hasValue()&&this.lastSelectedItem&&(d=this.listItems.indexOf(this.lastSelectedItem));let i=this.listItems.indexOf(x);if(w){var g;(g=this.listItems.filter(i>=d?h=>this.listItems.indexOf(h)<=i&&this.listItems.indexOf(h)>=d&&!this.selection.isSelected(h):h=>this.listItems.indexOf(h)>=i&&this.listItems.indexOf(h)<=d&&!this.selection.isSelected(h)))&&g.length>0&&this.selection.select(...g)}else{let h=[];h=this.listItems.filter(i>=d?p=>this.listItems.indexOf(p)<=i&&this.listItems.indexOf(p)>=d&&this.selection.isSelected(p):p=>this.listItems.indexOf(p)>=i&&this.listItems.indexOf(p)<=d&&this.selection.isSelected(p)),h&&h.length>0&&this.selection.deselect(...h)}}this.lastSelectedItem=x}}},1531:(Hn,Xe,v)=>{"use strict";v.d(Xe,{A:()=>A});var e=v(5879),n=v(6593),b=v(4001);let A=(()=>{class _{constructor(w,g){this.domSanitizer=w,this.sharedService=g}transform(w,...g){return new Promise((d,i)=>{let p;switch(null!=g[0]?g[0]:""){case"GetIconURLByKey":null!=w&&""!=w&&(p=this.sharedService.configurationData.developerMode?"assets/icon/"+w:this.sharedService.urlSinovadCdn+"/assets/icon/"+w,d(p));break;case"GetAvatarImageURLByProfileId":null!=w&&""!=w&&fetch(this.sharedService.urlSinovadStreamWebApi+"/api/v1/documents/GetAvatarProfile/"+w).then(B=>B.blob()).then(B=>{p=this.domSanitizer.bypassSecurityTrustUrl(URL.createObjectURL(B)),d(p)});break;case"GetSoundUrlByKey":null!=w&&""!=w&&(p=this.sharedService.configurationData.developerMode?"assets/sound/"+w:this.sharedService.urlSinovadCdn+"/assets/sound/"+w,d(p))}})}static#e=this.\u0275fac=function(g){return new(g||_)(e.Y36(n.H7,16),e.Y36(b.F,16))};static#t=this.\u0275pipe=e.Yjl({name:"formatDataPipe",type:_,pure:!0})}return _})()},6294:(Hn,Xe,v)=>{"use strict";v.d(Xe,{C:()=>_});var e=v(9862),n=v(863),b=v(5879),A=v(4001);let _=(()=>{class x{constructor(g,d){this.http=g,this.sharedService=d}performExecuteMethod(g,d,i){return new Promise((h,p)=>{try{let T={responseType:"text"};if(this.sharedService.apiToken){const P=new e.WM({"Content-Type":"application/json",Authorization:"Bearer "+this.sharedService.apiToken});T.headers=P}g==n.yw.GET&&this.http.get(d,T).subscribe(B=>{h(B)},B=>{p(B)}),g==n.yw.POST&&this.http.post(d,i,T).subscribe(B=>{h(B)},B=>{p(B)}),g==n.yw.PUT&&this.http.put(d,i,T).subscribe(B=>{h(B)},B=>{p(B)}),g==n.yw.DELETE&&this.http.delete(d,T).subscribe(B=>{h(B)},B=>{p(B)})}catch(T){p(T)}})}executeSinovadApiService(g,d,i){let h=this.sharedService.urlSinovadStreamWebApi+"/api/v1"+d;return new Promise((p,T)=>{try{this.performExecuteMethod(g,h,i).then(B=>{p(JSON.parse(B))},B=>{let P=B;if(null!=B.error){P=B.error;try{var k=JSON.parse(P);if(k.errors){let O=k.errors,D=[];Object.keys(O).map(I=>{var S=O[I].join("\n");D.push(S)}),P=D.join("\n")}else k.Errors?P=k.Errors.map(O=>O.ErrorMessage).join("\n"):k.Message&&(P=k.Message)}catch{}}401==B.status&&this.sharedService.apiToken&&(this.sharedService.apiToken=void 0,localStorage.removeItem("apiToken"),window.location.href="/"),console.error(P),T(P)})}catch(B){T(B)}})}executeHttpMediaServerApi(g,d,i){return new Promise((h,p)=>{try{this.performExecuteMethod(g,d,i).then(T=>{try{h(JSON.parse(T))}catch(B){p(B)}},T=>{p(T)})}catch(T){p(T)}})}executeHttpMethodByUrl(g,d,i){return new Promise((h,p)=>{this.performExecuteMethod(g,d,i).then(T=>{h(T)},T=>{p(T)})})}executeHttpPostMethodWithFormData(g,d){let i=this.sharedService.urlSinovadStreamWebApi+"/api/v1"+g;return new Promise((h,p)=>{let T={responseType:"text"};if(this.sharedService.apiToken){const P=new e.WM({Accept:"*/*",Authorization:"Bearer "+this.sharedService.apiToken});T.headers=P}this.http.post(i,d,T).subscribe(B=>{h(B)},B=>{p(B)})})}static#e=this.\u0275fac=function(d){return new(d||x)(b.LFG(e.eN),b.LFG(A.F))};static#t=this.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},4001:(Hn,Xe,v)=>{"use strict";v.d(Xe,{F:()=>A});class e{}var n=v(863),b=v(5879);let A=(()=>{class _{constructor(){this.showSplashScreen=!0,this.urlSinovadStreamWebApi="https://streamapi.sinovad.com",this.urlSinovadCdn="https://resources.sinovad.com/stream/web",this.originalUrlImagesMovieDataBase="https://image.tmdb.org/t/p/w600_and_h900_bestv2",this.urlEpisodeDataBase="https://www.themoviedb.org/t/p/w454_and_h254_bestv2",this.configurationData=new e,this.listProfiles=[],this.manageMenus=[],this.mediaServers=[],this.linkedAccounts=[]}checkIfIsEnableMenuOptionByPath(w){var g=!1;for(let d=0;d<this.manageMenus.length;d++){const i=this.manageMenus[d];if(i.ChildMenus&&-1!=i.ChildMenus.findIndex(h=>h.Path&&h.Path.includes(w))){g=!0;break}}return g}formatDate(w){const g=new Date(w);let d=""+(g.getMonth()+1),i=""+g.getDate();const h=g.getFullYear();return d.length<2&&(d="0"+d),i.length<2&&(i="0"+i),[h,d,i].join("-")}getInitials(w){return w.FullName.substring(0,1)}delay(w){return new Promise(g=>setTimeout(g,w))}hasRequireErrorFormControl(w,g){return!!w.controls[g].errors.required}isInvalidFormControl(w,g){return!(!w.controls[g].invalid||!w.controls[g].dirty&&!w.controls[g].touched)}hasErrorPatternFormControl(w,g){return!!w.controls[g].errors.pattern}isSmallDevice(){return window.innerWidth<=768}isMobileDevice(){return"ontouchstart"in window}getUrlByItemMovieDataBase(w){if(w.MetadataAgentsId==n.DM.TMDb)return this.originalUrlImagesMovieDataBase+w.PosterPath;if(w.PosterPath)return w.PosterPath;var g=this.mediaServers.find(d=>d.Id==w.MediaServerId);return g?g.Url+"/media/"+w.MediaFileGuid+"/thumbnail.png":"assets/img/no-image-available.jpg"}getYearByDateFormat(w){return new Date(w).getFullYear()}sort_by(w,g,d){let i=d?h=>d(h[w]):h=>h[w];return g=g?-1:1,(h,p)=>(h=i(h),p=i(p),g*(+(h>p)-+(p>h)))}validateEmailFormat(w){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(w)}isHttpsSite(){return!!window.location.origin.startsWith("https")}static#e=this.\u0275fac=function(g){return new(g||_)};static#t=this.\u0275prov=b.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},616:(Hn,Xe,v)=>{"use strict";v.d(Xe,{n:()=>ht});const e=[0,2e3,1e4,3e4,null];class n{constructor(de){this._retryDelays=void 0!==de?[...de,null]:e}nextRetryDelayInMilliseconds(de){return this._retryDelays[de.previousRetryCount]}}var b=v(5861);let A=(()=>{class Et{}return Et.Authorization="Authorization",Et.Cookie="Cookie",Et})();class _{constructor(de,He,bt){this.statusCode=de,this.statusText=He,this.content=bt}}class x{get(de,He){return this.send({...He,method:"GET",url:de})}post(de,He){return this.send({...He,method:"POST",url:de})}delete(de,He){return this.send({...He,method:"DELETE",url:de})}getCookieString(de){return""}}class w extends x{constructor(de,He){super(),this._innerClient=de,this._accessTokenFactory=He}send(de){var He=this;return(0,b.Z)(function*(){let bt=!0;He._accessTokenFactory&&(!He._accessToken||de.url&&de.url.indexOf("/negotiate?")>0)&&(bt=!1,He._accessToken=yield He._accessTokenFactory()),He._setAuthorizationHeader(de);const Ut=yield He._innerClient.send(de);return bt&&401===Ut.statusCode&&He._accessTokenFactory?(He._accessToken=yield He._accessTokenFactory(),He._setAuthorizationHeader(de),yield He._innerClient.send(de)):Ut})()}_setAuthorizationHeader(de){de.headers||(de.headers={}),this._accessToken?de.headers[A.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&de.headers[A.Authorization]&&delete de.headers[A.Authorization]}getCookieString(de){return this._innerClient.getCookieString(de)}}class g extends Error{constructor(de,He){const bt=new.target.prototype;super(`${de}: Status code '${He}'`),this.statusCode=He,this.__proto__=bt}}class d extends Error{constructor(de="A timeout occurred."){const He=new.target.prototype;super(de),this.__proto__=He}}class i extends Error{constructor(de="An abort occurred."){const He=new.target.prototype;super(de),this.__proto__=He}}class h extends Error{constructor(de,He){const bt=new.target.prototype;super(de),this.transport=He,this.errorType="UnsupportedTransportError",this.__proto__=bt}}class p extends Error{constructor(de,He){const bt=new.target.prototype;super(de),this.transport=He,this.errorType="DisabledTransportError",this.__proto__=bt}}class T extends Error{constructor(de,He){const bt=new.target.prototype;super(de),this.transport=He,this.errorType="FailedToStartTransportError",this.__proto__=bt}}class B extends Error{constructor(de){const He=new.target.prototype;super(de),this.errorType="FailedToNegotiateWithServerError",this.__proto__=He}}class P extends Error{constructor(de,He){const bt=new.target.prototype;super(de),this.innerErrors=He,this.__proto__=bt}}var k=function(Et){return Et[Et.Trace=0]="Trace",Et[Et.Debug=1]="Debug",Et[Et.Information=2]="Information",Et[Et.Warning=3]="Warning",Et[Et.Error=4]="Error",Et[Et.Critical=5]="Critical",Et[Et.None=6]="None",Et}(k||{});class F{constructor(){}log(de,He){}}F.instance=new F;const O="7.0.10";class D{static isRequired(de,He){if(null==de)throw new Error(`The '${He}' argument is required.`)}static isNotEmpty(de,He){if(!de||de.match(/^\s*$/))throw new Error(`The '${He}' argument should not be empty.`)}static isIn(de,He,bt){if(!(de in He))throw new Error(`Unknown ${bt} value: ${de}.`)}}class I{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&typeof window.document>"u"}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function S(Et,de){let He="";return C(Et)?(He=`Binary data of length ${Et.byteLength}`,de&&(He+=`. Content: '${function L(Et){const de=new Uint8Array(Et);let He="";return de.forEach(bt=>{He+=`0x${bt<16?"0":""}${bt.toString(16)} `}),He.substr(0,He.length-1)}(Et)}'`)):"string"==typeof Et&&(He=`String data of length ${Et.length}`,de&&(He+=`. Content: '${Et}'`)),He}function C(Et){return Et&&typeof ArrayBuffer<"u"&&(Et instanceof ArrayBuffer||Et.constructor&&"ArrayBuffer"===Et.constructor.name)}function U(Et,de,He,bt,Ut,Zt){return z.apply(this,arguments)}function z(){return(z=(0,b.Z)(function*(Et,de,He,bt,Ut,Zt){const Kt={},[pn,rn]=J();Kt[pn]=rn,Et.log(k.Trace,`(${de} transport) sending data. ${S(Ut,Zt.logMessageContent)}.`);const xt=C(Ut)?"arraybuffer":"text",vt=yield He.post(bt,{content:Ut,headers:{...Kt,...Zt.headers},responseType:xt,timeout:Zt.timeout,withCredentials:Zt.withCredentials});Et.log(k.Trace,`(${de} transport) request complete. Response status: ${vt.statusCode}.`)})).apply(this,arguments)}class te{constructor(de,He){this._subject=de,this._observer=He}dispose(){const de=this._subject.observers.indexOf(this._observer);de>-1&&this._subject.observers.splice(de,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(He=>{})}}class Me{constructor(de){this._minLevel=de,this.out=console}log(de,He){if(de>=this._minLevel){const bt=`[${(new Date).toISOString()}] ${k[de]}: ${He}`;switch(de){case k.Critical:case k.Error:this.out.error(bt);break;case k.Warning:this.out.warn(bt);break;case k.Information:this.out.info(bt);break;default:this.out.log(bt)}}}}function J(){let Et="X-SignalR-User-Agent";return I.isNode&&(Et="User-Agent"),[Et,ce(O,W(),I.isNode?"NodeJS":"Browser",Se())]}function ce(Et,de,He,bt){let Ut="Microsoft SignalR/";const Zt=Et.split(".");return Ut+=`${Zt[0]}.${Zt[1]}`,Ut+=` (${Et}; `,Ut+=de&&""!==de?`${de}; `:"Unknown OS; ",Ut+=`${He}`,Ut+=bt?`; ${bt}`:"; Unknown Runtime Version",Ut+=")",Ut}function W(){if(!I.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function Se(){if(I.isNode)return process.versions.node}function Ee(Et){return Et.stack?Et.stack:Et.message?Et.message:`${Et}`}class Ve extends x{constructor(de){if(super(),this._logger=de,typeof fetch>"u"){const He=require;this._jar=new(He("tough-cookie").CookieJar),this._fetchType=He("node-fetch"),this._fetchType=He("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function xe(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}());if(typeof AbortController>"u"){const He=require;this._abortControllerType=He("abort-controller")}else this._abortControllerType=AbortController}send(de){var He=this;return(0,b.Z)(function*(){if(de.abortSignal&&de.abortSignal.aborted)throw new i;if(!de.method)throw new Error("No method defined.");if(!de.url)throw new Error("No url defined.");const bt=new He._abortControllerType;let Ut;de.abortSignal&&(de.abortSignal.onabort=()=>{bt.abort(),Ut=new i});let Kt,Zt=null;de.timeout&&(Zt=setTimeout(()=>{bt.abort(),He._logger.log(k.Warning,"Timeout from HTTP request."),Ut=new d},de.timeout)),""===de.content&&(de.content=void 0),de.content&&(de.headers=de.headers||{},de.headers["Content-Type"]=C(de.content)?"application/octet-stream":"text/plain;charset=UTF-8");try{Kt=yield He._fetchType(de.url,{body:de.content,cache:"no-cache",credentials:!0===de.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...de.headers},method:de.method,mode:"cors",redirect:"follow",signal:bt.signal})}catch(xt){throw Ut||(He._logger.log(k.Warning,`Error from HTTP request. ${xt}.`),xt)}finally{Zt&&clearTimeout(Zt),de.abortSignal&&(de.abortSignal.onabort=null)}if(!Kt.ok){const xt=yield fe(Kt,"text");throw new g(xt||Kt.statusText,Kt.status)}const rn=yield fe(Kt,de.responseType);return new _(Kt.status,Kt.statusText,rn)})()}getCookieString(de){let He="";return I.isNode&&this._jar&&this._jar.getCookies(de,(bt,Ut)=>He=Ut.join("; ")),He}}function fe(Et,de){let He;switch(de){case"arraybuffer":He=Et.arrayBuffer();break;case"text":default:He=Et.text();break;case"blob":case"document":case"json":throw new Error(`${de} is not supported.`)}return He}class Pe extends x{constructor(de){super(),this._logger=de}send(de){return de.abortSignal&&de.abortSignal.aborted?Promise.reject(new i):de.method?de.url?new Promise((He,bt)=>{const Ut=new XMLHttpRequest;Ut.open(de.method,de.url,!0),Ut.withCredentials=void 0===de.withCredentials||de.withCredentials,Ut.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===de.content&&(de.content=void 0),de.content&&(C(de.content)?Ut.setRequestHeader("Content-Type","application/octet-stream"):Ut.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const Zt=de.headers;Zt&&Object.keys(Zt).forEach(Kt=>{Ut.setRequestHeader(Kt,Zt[Kt])}),de.responseType&&(Ut.responseType=de.responseType),de.abortSignal&&(de.abortSignal.onabort=()=>{Ut.abort(),bt(new i)}),de.timeout&&(Ut.timeout=de.timeout),Ut.onload=()=>{de.abortSignal&&(de.abortSignal.onabort=null),Ut.status>=200&&Ut.status<300?He(new _(Ut.status,Ut.statusText,Ut.response||Ut.responseText)):bt(new g(Ut.response||Ut.responseText||Ut.statusText,Ut.status))},Ut.onerror=()=>{this._logger.log(k.Warning,`Error from HTTP request. ${Ut.status}: ${Ut.statusText}.`),bt(new g(Ut.statusText,Ut.status))},Ut.ontimeout=()=>{this._logger.log(k.Warning,"Timeout from HTTP request."),bt(new d)},Ut.send(de.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class Ce extends x{constructor(de){if(super(),typeof fetch<"u"||I.isNode)this._httpClient=new Ve(de);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");this._httpClient=new Pe(de)}}send(de){return de.abortSignal&&de.abortSignal.aborted?Promise.reject(new i):de.method?de.url?this._httpClient.send(de):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(de){return this._httpClient.getCookieString(de)}}var me=function(Et){return Et[Et.None=0]="None",Et[Et.WebSockets=1]="WebSockets",Et[Et.ServerSentEvents=2]="ServerSentEvents",Et[Et.LongPolling=4]="LongPolling",Et}(me||{}),De=function(Et){return Et[Et.Text=1]="Text",Et[Et.Binary=2]="Binary",Et}(De||{});class Re{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class Fe{constructor(de,He,bt){this._httpClient=de,this._logger=He,this._pollAbort=new Re,this._options=bt,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(de,He){var bt=this;return(0,b.Z)(function*(){if(D.isRequired(de,"url"),D.isRequired(He,"transferFormat"),D.isIn(He,De,"transferFormat"),bt._url=de,bt._logger.log(k.Trace,"(LongPolling transport) Connecting."),He===De.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[Ut,Zt]=J(),Kt={[Ut]:Zt,...bt._options.headers},pn={abortSignal:bt._pollAbort.signal,headers:Kt,timeout:1e5,withCredentials:bt._options.withCredentials};He===De.Binary&&(pn.responseType="arraybuffer");const rn=`${de}&_=${Date.now()}`;bt._logger.log(k.Trace,`(LongPolling transport) polling: ${rn}.`);const xt=yield bt._httpClient.get(rn,pn);200!==xt.statusCode?(bt._logger.log(k.Error,`(LongPolling transport) Unexpected response code: ${xt.statusCode}.`),bt._closeError=new g(xt.statusText||"",xt.statusCode),bt._running=!1):bt._running=!0,bt._receiving=bt._poll(bt._url,pn)})()}_poll(de,He){var bt=this;return(0,b.Z)(function*(){try{for(;bt._running;)try{const Ut=`${de}&_=${Date.now()}`;bt._logger.log(k.Trace,`(LongPolling transport) polling: ${Ut}.`);const Zt=yield bt._httpClient.get(Ut,He);204===Zt.statusCode?(bt._logger.log(k.Information,"(LongPolling transport) Poll terminated by server."),bt._running=!1):200!==Zt.statusCode?(bt._logger.log(k.Error,`(LongPolling transport) Unexpected response code: ${Zt.statusCode}.`),bt._closeError=new g(Zt.statusText||"",Zt.statusCode),bt._running=!1):Zt.content?(bt._logger.log(k.Trace,`(LongPolling transport) data received. ${S(Zt.content,bt._options.logMessageContent)}.`),bt.onreceive&&bt.onreceive(Zt.content)):bt._logger.log(k.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(Ut){bt._running?Ut instanceof d?bt._logger.log(k.Trace,"(LongPolling transport) Poll timed out, reissuing."):(bt._closeError=Ut,bt._running=!1):bt._logger.log(k.Trace,`(LongPolling transport) Poll errored after shutdown: ${Ut.message}`)}}finally{bt._logger.log(k.Trace,"(LongPolling transport) Polling complete."),bt.pollAborted||bt._raiseOnClose()}})()}send(de){var He=this;return(0,b.Z)(function*(){return He._running?U(He._logger,"LongPolling",He._httpClient,He._url,de,He._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var de=this;return(0,b.Z)(function*(){de._logger.log(k.Trace,"(LongPolling transport) Stopping polling."),de._running=!1,de._pollAbort.abort();try{yield de._receiving,de._logger.log(k.Trace,`(LongPolling transport) sending DELETE request to ${de._url}.`);const He={},[bt,Ut]=J();He[bt]=Ut;const Zt={headers:{...He,...de._options.headers},timeout:de._options.timeout,withCredentials:de._options.withCredentials};yield de._httpClient.delete(de._url,Zt),de._logger.log(k.Trace,"(LongPolling transport) DELETE request sent.")}finally{de._logger.log(k.Trace,"(LongPolling transport) Stop finished."),de._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let de="(LongPolling transport) Firing onclose event.";this._closeError&&(de+=" Error: "+this._closeError),this._logger.log(k.Trace,de),this.onclose(this._closeError)}}}class Ne{constructor(de,He,bt,Ut){this._httpClient=de,this._accessToken=He,this._logger=bt,this._options=Ut,this.onreceive=null,this.onclose=null}connect(de,He){var bt=this;return(0,b.Z)(function*(){return D.isRequired(de,"url"),D.isRequired(He,"transferFormat"),D.isIn(He,De,"transferFormat"),bt._logger.log(k.Trace,"(SSE transport) Connecting."),bt._url=de,bt._accessToken&&(de+=(de.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(bt._accessToken)}`),new Promise((Ut,Zt)=>{let pn,Kt=!1;if(He===De.Text){if(I.isBrowser||I.isWebWorker)pn=new bt._options.EventSource(de,{withCredentials:bt._options.withCredentials});else{const rn=bt._httpClient.getCookieString(de),xt={};xt.Cookie=rn;const[vt,nt]=J();xt[vt]=nt,pn=new bt._options.EventSource(de,{withCredentials:bt._options.withCredentials,headers:{...xt,...bt._options.headers}})}try{pn.onmessage=rn=>{if(bt.onreceive)try{bt._logger.log(k.Trace,`(SSE transport) data received. ${S(rn.data,bt._options.logMessageContent)}.`),bt.onreceive(rn.data)}catch(xt){return void bt._close(xt)}},pn.onerror=rn=>{Kt?bt._close():Zt(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},pn.onopen=()=>{bt._logger.log(k.Information,`SSE connected to ${bt._url}`),bt._eventSource=pn,Kt=!0,Ut()}}catch(rn){return void Zt(rn)}}else Zt(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(de){var He=this;return(0,b.Z)(function*(){return He._eventSource?U(He._logger,"SSE",He._httpClient,He._url,de,He._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(de){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(de))}}class at{constructor(de,He,bt,Ut,Zt,Kt){this._logger=bt,this._accessTokenFactory=He,this._logMessageContent=Ut,this._webSocketConstructor=Zt,this._httpClient=de,this.onreceive=null,this.onclose=null,this._headers=Kt}connect(de,He){var bt=this;return(0,b.Z)(function*(){let Ut;return D.isRequired(de,"url"),D.isRequired(He,"transferFormat"),D.isIn(He,De,"transferFormat"),bt._logger.log(k.Trace,"(WebSockets transport) Connecting."),bt._accessTokenFactory&&(Ut=yield bt._accessTokenFactory()),new Promise((Zt,Kt)=>{let pn;de=de.replace(/^http/,"ws");const rn=bt._httpClient.getCookieString(de);let xt=!1;if(I.isNode||I.isReactNative){const vt={},[nt,ke]=J();vt[nt]=ke,Ut&&(vt[A.Authorization]=`Bearer ${Ut}`),rn&&(vt[A.Cookie]=rn),pn=new bt._webSocketConstructor(de,void 0,{headers:{...vt,...bt._headers}})}else Ut&&(de+=(de.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(Ut)}`);pn||(pn=new bt._webSocketConstructor(de)),He===De.Binary&&(pn.binaryType="arraybuffer"),pn.onopen=vt=>{bt._logger.log(k.Information,`WebSocket connected to ${de}.`),bt._webSocket=pn,xt=!0,Zt()},pn.onerror=vt=>{let nt=null;nt=typeof ErrorEvent<"u"&&vt instanceof ErrorEvent?vt.error:"There was an error with the transport",bt._logger.log(k.Information,`(WebSockets transport) ${nt}.`)},pn.onmessage=vt=>{if(bt._logger.log(k.Trace,`(WebSockets transport) data received. ${S(vt.data,bt._logMessageContent)}.`),bt.onreceive)try{bt.onreceive(vt.data)}catch(nt){return void bt._close(nt)}},pn.onclose=vt=>{if(xt)bt._close(vt);else{let nt=null;nt=typeof ErrorEvent<"u"&&vt instanceof ErrorEvent?vt.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",Kt(new Error(nt))}}})})()}send(de){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(k.Trace,`(WebSockets transport) sending data. ${S(de,this._logMessageContent)}.`),this._webSocket.send(de),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(de){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(k.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(de)||!1!==de.wasClean&&1e3===de.code?de instanceof Error?this.onclose(de):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${de.code} (${de.reason||"no reason given"}).`)))}_isCloseEvent(de){return de&&"boolean"==typeof de.wasClean&&"number"==typeof de.code}}class ye{constructor(de,He={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,D.isRequired(de,"url"),this._logger=function ne(Et){return void 0===Et?new Me(k.Information):null===Et?F.instance:void 0!==Et.log?Et:new Me(Et)}(He.logger),this.baseUrl=this._resolveUrl(de),(He=He||{}).logMessageContent=void 0!==He.logMessageContent&&He.logMessageContent,"boolean"!=typeof He.withCredentials&&void 0!==He.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");He.withCredentials=void 0===He.withCredentials||He.withCredentials,He.timeout=void 0===He.timeout?1e5:He.timeout;let bt=null,Ut=null;if(I.isNode){const Zt=require;bt=Zt("ws"),Ut=Zt("eventsource")}!I.isNode&&typeof WebSocket<"u"&&!He.WebSocket?He.WebSocket=WebSocket:I.isNode&&!He.WebSocket&&bt&&(He.WebSocket=bt),!I.isNode&&typeof EventSource<"u"&&!He.EventSource?He.EventSource=EventSource:I.isNode&&!He.EventSource&&typeof Ut<"u"&&(He.EventSource=Ut),this._httpClient=new w(He.httpClient||new Ce(this._logger),He.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=He,this.onreceive=null,this.onclose=null}start(de){var He=this;return(0,b.Z)(function*(){if(D.isIn(de=de||De.Binary,De,"transferFormat"),He._logger.log(k.Debug,`Starting connection with transfer format '${De[de]}'.`),"Disconnected"!==He._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(He._connectionState="Connecting",He._startInternalPromise=He._startInternal(de),yield He._startInternalPromise,"Disconnecting"===He._connectionState){const bt="Failed to start the HttpConnection before stop() was called.";return He._logger.log(k.Error,bt),yield He._stopPromise,Promise.reject(new i(bt))}if("Connected"!==He._connectionState){const bt="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return He._logger.log(k.Error,bt),Promise.reject(new i(bt))}He._connectionStarted=!0})()}send(de){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new K(this.transport)),this._sendQueue.send(de))}stop(de){var He=this;return(0,b.Z)(function*(){return"Disconnected"===He._connectionState?(He._logger.log(k.Debug,`Call to HttpConnection.stop(${de}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===He._connectionState?(He._logger.log(k.Debug,`Call to HttpConnection.stop(${de}) ignored because the connection is already in the disconnecting state.`),He._stopPromise):(He._connectionState="Disconnecting",He._stopPromise=new Promise(bt=>{He._stopPromiseResolver=bt}),yield He._stopInternal(de),void(yield He._stopPromise))})()}_stopInternal(de){var He=this;return(0,b.Z)(function*(){He._stopError=de;try{yield He._startInternalPromise}catch{}if(He.transport){try{yield He.transport.stop()}catch(bt){He._logger.log(k.Error,`HttpConnection.transport.stop() threw error '${bt}'.`),He._stopConnection()}He.transport=void 0}else He._logger.log(k.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(de){var He=this;return(0,b.Z)(function*(){let bt=He.baseUrl;He._accessTokenFactory=He._options.accessTokenFactory,He._httpClient._accessTokenFactory=He._accessTokenFactory;try{if(He._options.skipNegotiation){if(He._options.transport!==me.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");He.transport=He._constructTransport(me.WebSockets),yield He._startTransport(bt,de)}else{let Ut=null,Zt=0;do{if(Ut=yield He._getNegotiationResponse(bt),"Disconnecting"===He._connectionState||"Disconnected"===He._connectionState)throw new i("The connection was stopped during negotiation.");if(Ut.error)throw new Error(Ut.error);if(Ut.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(Ut.url&&(bt=Ut.url),Ut.accessToken){const Kt=Ut.accessToken;He._accessTokenFactory=()=>Kt,He._httpClient._accessToken=Kt,He._httpClient._accessTokenFactory=void 0}Zt++}while(Ut.url&&Zt<100);if(100===Zt&&Ut.url)throw new Error("Negotiate redirection limit exceeded.");yield He._createTransport(bt,He._options.transport,Ut,de)}He.transport instanceof Fe&&(He.features.inherentKeepAlive=!0),"Connecting"===He._connectionState&&(He._logger.log(k.Debug,"The HttpConnection connected successfully."),He._connectionState="Connected")}catch(Ut){return He._logger.log(k.Error,"Failed to start the connection: "+Ut),He._connectionState="Disconnected",He.transport=void 0,He._stopPromiseResolver(),Promise.reject(Ut)}})()}_getNegotiationResponse(de){var He=this;return(0,b.Z)(function*(){const bt={},[Ut,Zt]=J();bt[Ut]=Zt;const Kt=He._resolveNegotiateUrl(de);He._logger.log(k.Debug,`Sending negotiation request: ${Kt}.`);try{const pn=yield He._httpClient.post(Kt,{content:"",headers:{...bt,...He._options.headers},timeout:He._options.timeout,withCredentials:He._options.withCredentials});if(200!==pn.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${pn.statusCode}'`));const rn=JSON.parse(pn.content);return(!rn.negotiateVersion||rn.negotiateVersion<1)&&(rn.connectionToken=rn.connectionId),rn}catch(pn){let rn="Failed to complete negotiation with the server: "+pn;return pn instanceof g&&404===pn.statusCode&&(rn+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),He._logger.log(k.Error,rn),Promise.reject(new B(rn))}})()}_createConnectUrl(de,He){return He?de+(-1===de.indexOf("?")?"?":"&")+`id=${He}`:de}_createTransport(de,He,bt,Ut){var Zt=this;return(0,b.Z)(function*(){let Kt=Zt._createConnectUrl(de,bt.connectionToken);if(Zt._isITransport(He))return Zt._logger.log(k.Debug,"Connection was provided an instance of ITransport, using that directly."),Zt.transport=He,yield Zt._startTransport(Kt,Ut),void(Zt.connectionId=bt.connectionId);const pn=[],rn=bt.availableTransports||[];let xt=bt;for(const vt of rn){const nt=Zt._resolveTransportOrError(vt,He,Ut);if(nt instanceof Error)pn.push(`${vt.transport} failed:`),pn.push(nt);else if(Zt._isITransport(nt)){if(Zt.transport=nt,!xt){try{xt=yield Zt._getNegotiationResponse(de)}catch(ke){return Promise.reject(ke)}Kt=Zt._createConnectUrl(de,xt.connectionToken)}try{return yield Zt._startTransport(Kt,Ut),void(Zt.connectionId=xt.connectionId)}catch(ke){if(Zt._logger.log(k.Error,`Failed to start the transport '${vt.transport}': ${ke}`),xt=void 0,pn.push(new T(`${vt.transport} failed: ${ke}`,me[vt.transport])),"Connecting"!==Zt._connectionState){const Ke="Failed to select transport before stop() was called.";return Zt._logger.log(k.Debug,Ke),Promise.reject(new i(Ke))}}}}return Promise.reject(pn.length>0?new P(`Unable to connect to the server with any of the available transports. ${pn.join(" ")}`,pn):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(de){switch(de){case me.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new at(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case me.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new Ne(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case me.LongPolling:return new Fe(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${de}.`)}}_startTransport(de,He){return this.transport.onreceive=this.onreceive,this.transport.onclose=bt=>this._stopConnection(bt),this.transport.connect(de,He)}_resolveTransportOrError(de,He,bt){const Ut=me[de.transport];if(null==Ut)return this._logger.log(k.Debug,`Skipping transport '${de.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${de.transport}' because it is not supported by this client.`);if(!function ve(Et,de){return!Et||0!=(de&Et)}(He,Ut))return this._logger.log(k.Debug,`Skipping transport '${me[Ut]}' because it was disabled by the client.`),new p(`'${me[Ut]}' is disabled by the client.`,Ut);if(!(de.transferFormats.map(Kt=>De[Kt]).indexOf(bt)>=0))return this._logger.log(k.Debug,`Skipping transport '${me[Ut]}' because it does not support the requested transfer format '${De[bt]}'.`),new Error(`'${me[Ut]}' does not support ${De[bt]}.`);if(Ut===me.WebSockets&&!this._options.WebSocket||Ut===me.ServerSentEvents&&!this._options.EventSource)return this._logger.log(k.Debug,`Skipping transport '${me[Ut]}' because it is not supported in your environment.'`),new h(`'${me[Ut]}' is not supported in your environment.`,Ut);this._logger.log(k.Debug,`Selecting transport '${me[Ut]}'.`);try{return this._constructTransport(Ut)}catch(Kt){return Kt}}_isITransport(de){return de&&"object"==typeof de&&"connect"in de}_stopConnection(de){if(this._logger.log(k.Debug,`HttpConnection.stopConnection(${de}) called while in state ${this._connectionState}.`),this.transport=void 0,de=this._stopError||de,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(k.Warning,`Call to HttpConnection.stopConnection(${de}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${de}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),de?this._logger.log(k.Error,`Connection disconnected with error '${de}'.`):this._logger.log(k.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(He=>{this._logger.log(k.Error,`TransportSendQueue.stop() threw error '${He}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(de)}catch(He){this._logger.log(k.Error,`HttpConnection.onclose(${de}) threw error '${He}'.`)}}}else this._logger.log(k.Debug,`Call to HttpConnection.stopConnection(${de}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(de){if(0===de.lastIndexOf("https://",0)||0===de.lastIndexOf("http://",0))return de;if(!I.isBrowser)throw new Error(`Cannot resolve '${de}'.`);const He=window.document.createElement("a");return He.href=de,this._logger.log(k.Information,`Normalizing '${de}' to '${He.href}'.`),He.href}_resolveNegotiateUrl(de){const He=de.indexOf("?");let bt=de.substring(0,-1===He?de.length:He);return"/"!==bt[bt.length-1]&&(bt+="/"),bt+="negotiate",bt+=-1===He?"":de.substring(He),-1===bt.indexOf("negotiateVersion")&&(bt+=-1===He?"?":"&",bt+="negotiateVersion="+this._negotiateVersion),bt}}class K{constructor(de){this._transport=de,this._buffer=[],this._executing=!0,this._sendBufferedData=new se,this._transportResult=new se,this._sendLoopPromise=this._sendLoop()}send(de){return this._bufferData(de),this._transportResult||(this._transportResult=new se),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(de){if(this._buffer.length&&typeof this._buffer[0]!=typeof de)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof de}`);this._buffer.push(de),this._sendBufferedData.resolve()}_sendLoop(){var de=this;return(0,b.Z)(function*(){for(;;){if(yield de._sendBufferedData.promise,!de._executing){de._transportResult&&de._transportResult.reject("Connection stopped.");break}de._sendBufferedData=new se;const He=de._transportResult;de._transportResult=void 0;const bt="string"==typeof de._buffer[0]?de._buffer.join(""):K._concatBuffers(de._buffer);de._buffer.length=0;try{yield de._transport.send(bt),He.resolve()}catch(Ut){He.reject(Ut)}}})()}static _concatBuffers(de){const He=de.map(Zt=>Zt.byteLength).reduce((Zt,Kt)=>Zt+Kt),bt=new Uint8Array(He);let Ut=0;for(const Zt of de)bt.set(new Uint8Array(Zt),Ut),Ut+=Zt.byteLength;return bt.buffer}}class se{constructor(){this.promise=new Promise((de,He)=>[this._resolver,this._rejecter]=[de,He])}resolve(){this._resolver()}reject(de){this._rejecter(de)}}class ge{static write(de){return`${de}${ge.RecordSeparator}`}static parse(de){if(de[de.length-1]!==ge.RecordSeparator)throw new Error("Message is incomplete.");const He=de.split(ge.RecordSeparator);return He.pop(),He}}ge.RecordSeparatorCode=30,ge.RecordSeparator=String.fromCharCode(ge.RecordSeparatorCode);class oe{writeHandshakeRequest(de){return ge.write(JSON.stringify(de))}parseHandshakeResponse(de){let He,bt;if(C(de)){const pn=new Uint8Array(de),rn=pn.indexOf(ge.RecordSeparatorCode);if(-1===rn)throw new Error("Message is incomplete.");const xt=rn+1;He=String.fromCharCode.apply(null,Array.prototype.slice.call(pn.slice(0,xt))),bt=pn.byteLength>xt?pn.slice(xt).buffer:null}else{const pn=de,rn=pn.indexOf(ge.RecordSeparator);if(-1===rn)throw new Error("Message is incomplete.");const xt=rn+1;He=pn.substring(0,xt),bt=pn.length>xt?pn.substring(xt):null}const Ut=ge.parse(He),Zt=JSON.parse(Ut[0]);if(Zt.type)throw new Error("Expected a handshake response from the server.");return[bt,Zt]}}var Q=function(Et){return Et[Et.Invocation=1]="Invocation",Et[Et.StreamItem=2]="StreamItem",Et[Et.Completion=3]="Completion",Et[Et.StreamInvocation=4]="StreamInvocation",Et[Et.CancelInvocation=5]="CancelInvocation",Et[Et.Ping=6]="Ping",Et[Et.Close=7]="Close",Et}(Q||{});class q{constructor(){this.observers=[]}next(de){for(const He of this.observers)He.next(de)}error(de){for(const He of this.observers)He.error&&He.error(de)}complete(){for(const de of this.observers)de.complete&&de.complete()}subscribe(de){return this.observers.push(de),new te(this,de)}}var Z=function(Et){return Et.Disconnected="Disconnected",Et.Connecting="Connecting",Et.Connected="Connected",Et.Disconnecting="Disconnecting",Et.Reconnecting="Reconnecting",Et}(Z||{});class X{constructor(de,He,bt,Ut){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(k.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},D.isRequired(de,"connection"),D.isRequired(He,"logger"),D.isRequired(bt,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=He,this._protocol=bt,this.connection=de,this._reconnectPolicy=Ut,this._handshakeProtocol=new oe,this.connection.onreceive=Zt=>this._processIncomingData(Zt),this.connection.onclose=Zt=>this._connectionClosed(Zt),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Z.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:Q.Ping})}static create(de,He,bt,Ut){return new X(de,He,bt,Ut)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(de){if(this._connectionState!==Z.Disconnected&&this._connectionState!==Z.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!de)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=de}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var de=this;return(0,b.Z)(function*(){if(de._connectionState!==Z.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));de._connectionState=Z.Connecting,de._logger.log(k.Debug,"Starting HubConnection.");try{yield de._startInternal(),I.isBrowser&&window.document.addEventListener("freeze",de._freezeEventListener),de._connectionState=Z.Connected,de._connectionStarted=!0,de._logger.log(k.Debug,"HubConnection connected successfully.")}catch(He){return de._connectionState=Z.Disconnected,de._logger.log(k.Debug,`HubConnection failed to start successfully because of error '${He}'.`),Promise.reject(He)}})()}_startInternal(){var de=this;return(0,b.Z)(function*(){de._stopDuringStartError=void 0,de._receivedHandshakeResponse=!1;const He=new Promise((bt,Ut)=>{de._handshakeResolver=bt,de._handshakeRejecter=Ut});yield de.connection.start(de._protocol.transferFormat);try{const bt={protocol:de._protocol.name,version:de._protocol.version};if(de._logger.log(k.Debug,"Sending handshake request."),yield de._sendMessage(de._handshakeProtocol.writeHandshakeRequest(bt)),de._logger.log(k.Information,`Using HubProtocol '${de._protocol.name}'.`),de._cleanupTimeout(),de._resetTimeoutPeriod(),de._resetKeepAliveInterval(),yield He,de._stopDuringStartError)throw de._stopDuringStartError;de.connection.features.inherentKeepAlive||(yield de._sendMessage(de._cachedPingMessage))}catch(bt){throw de._logger.log(k.Debug,`Hub handshake failed with error '${bt}' during start(). Stopping HubConnection.`),de._cleanupTimeout(),de._cleanupPingTimer(),yield de.connection.stop(bt),bt}})()}stop(){var de=this;return(0,b.Z)(function*(){const He=de._startPromise;de._stopPromise=de._stopInternal(),yield de._stopPromise;try{yield He}catch{}})()}_stopInternal(de){return this._connectionState===Z.Disconnected?(this._logger.log(k.Debug,`Call to HubConnection.stop(${de}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===Z.Disconnecting?(this._logger.log(k.Debug,`Call to HttpConnection.stop(${de}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=Z.Disconnecting,this._logger.log(k.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(k.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=de||new i("The connection was stopped before the hub handshake could complete."),this.connection.stop(de)))}stream(de,...He){const[bt,Ut]=this._replaceStreamingParams(He),Zt=this._createStreamInvocation(de,He,Ut);let Kt;const pn=new q;return pn.cancelCallback=()=>{const rn=this._createCancelInvocation(Zt.invocationId);return delete this._callbacks[Zt.invocationId],Kt.then(()=>this._sendWithProtocol(rn))},this._callbacks[Zt.invocationId]=(rn,xt)=>{xt?pn.error(xt):rn&&(rn.type===Q.Completion?rn.error?pn.error(new Error(rn.error)):pn.complete():pn.next(rn.item))},Kt=this._sendWithProtocol(Zt).catch(rn=>{pn.error(rn),delete this._callbacks[Zt.invocationId]}),this._launchStreams(bt,Kt),pn}_sendMessage(de){return this._resetKeepAliveInterval(),this.connection.send(de)}_sendWithProtocol(de){return this._sendMessage(this._protocol.writeMessage(de))}send(de,...He){const[bt,Ut]=this._replaceStreamingParams(He),Zt=this._sendWithProtocol(this._createInvocation(de,He,!0,Ut));return this._launchStreams(bt,Zt),Zt}invoke(de,...He){const[bt,Ut]=this._replaceStreamingParams(He),Zt=this._createInvocation(de,He,!1,Ut);return new Promise((pn,rn)=>{this._callbacks[Zt.invocationId]=(vt,nt)=>{nt?rn(nt):vt&&(vt.type===Q.Completion?vt.error?rn(new Error(vt.error)):pn(vt.result):rn(new Error(`Unexpected message type: ${vt.type}`)))};const xt=this._sendWithProtocol(Zt).catch(vt=>{rn(vt),delete this._callbacks[Zt.invocationId]});this._launchStreams(bt,xt)})}on(de,He){!de||!He||(de=de.toLowerCase(),this._methods[de]||(this._methods[de]=[]),-1===this._methods[de].indexOf(He)&&this._methods[de].push(He))}off(de,He){if(!de)return;de=de.toLowerCase();const bt=this._methods[de];if(bt)if(He){const Ut=bt.indexOf(He);-1!==Ut&&(bt.splice(Ut,1),0===bt.length&&delete this._methods[de])}else delete this._methods[de]}onclose(de){de&&this._closedCallbacks.push(de)}onreconnecting(de){de&&this._reconnectingCallbacks.push(de)}onreconnected(de){de&&this._reconnectedCallbacks.push(de)}_processIncomingData(de){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(de=this._processHandshakeResponse(de),this._receivedHandshakeResponse=!0),de){const He=this._protocol.parseMessages(de,this._logger);for(const bt of He)switch(bt.type){case Q.Invocation:this._invokeClientMethod(bt);break;case Q.StreamItem:case Q.Completion:{const Ut=this._callbacks[bt.invocationId];if(Ut){bt.type===Q.Completion&&delete this._callbacks[bt.invocationId];try{Ut(bt)}catch(Zt){this._logger.log(k.Error,`Stream callback threw error: ${Ee(Zt)}`)}}break}case Q.Ping:break;case Q.Close:{this._logger.log(k.Information,"Close message received from server.");const Ut=bt.error?new Error("Server returned an error on close: "+bt.error):void 0;!0===bt.allowReconnect?this.connection.stop(Ut):this._stopPromise=this._stopInternal(Ut);break}default:this._logger.log(k.Warning,`Invalid message type: ${bt.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(de){let He,bt;try{[bt,He]=this._handshakeProtocol.parseHandshakeResponse(de)}catch(Ut){const Zt="Error parsing handshake response: "+Ut;this._logger.log(k.Error,Zt);const Kt=new Error(Zt);throw this._handshakeRejecter(Kt),Kt}if(He.error){const Ut="Server returned handshake error: "+He.error;this._logger.log(k.Error,Ut);const Zt=new Error(Ut);throw this._handshakeRejecter(Zt),Zt}return this._logger.log(k.Debug,"Server handshake complete."),this._handshakeResolver(),bt}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var de=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let He=this._nextKeepAlive-(new Date).getTime();He<0&&(He=0),this._pingServerHandle=setTimeout((0,b.Z)(function*(){if(de._connectionState===Z.Connected)try{yield de._sendMessage(de._cachedPingMessage)}catch{de._cleanupPingTimer()}}),He)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(de){var He=this;return(0,b.Z)(function*(){const bt=de.target.toLowerCase(),Ut=He._methods[bt];if(!Ut)return He._logger.log(k.Warning,`No client method with the name '${bt}' found.`),void(de.invocationId&&(He._logger.log(k.Warning,`No result given for '${bt}' method and invocation ID '${de.invocationId}'.`),yield He._sendWithProtocol(He._createCompletionMessage(de.invocationId,"Client didn't provide a result.",null))));const Zt=Ut.slice(),Kt=!!de.invocationId;let pn,rn,xt;for(const vt of Zt)try{const nt=pn;pn=yield vt.apply(He,de.arguments),Kt&&pn&&nt&&(He._logger.log(k.Error,`Multiple results provided for '${bt}'. Sending error to server.`),xt=He._createCompletionMessage(de.invocationId,"Client provided multiple results.",null)),rn=void 0}catch(nt){rn=nt,He._logger.log(k.Error,`A callback for the method '${bt}' threw error '${nt}'.`)}xt?yield He._sendWithProtocol(xt):Kt?(rn?xt=He._createCompletionMessage(de.invocationId,`${rn}`,null):void 0!==pn?xt=He._createCompletionMessage(de.invocationId,null,pn):(He._logger.log(k.Warning,`No result given for '${bt}' method and invocation ID '${de.invocationId}'.`),xt=He._createCompletionMessage(de.invocationId,"Client didn't provide a result.",null)),yield He._sendWithProtocol(xt)):pn&&He._logger.log(k.Error,`Result given for '${bt}' method but server is not expecting a result.`)})()}_connectionClosed(de){this._logger.log(k.Debug,`HubConnection.connectionClosed(${de}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||de||new i("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(de||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Z.Disconnecting?this._completeClose(de):this._connectionState===Z.Connected&&this._reconnectPolicy?this._reconnect(de):this._connectionState===Z.Connected&&this._completeClose(de)}_completeClose(de){if(this._connectionStarted){this._connectionState=Z.Disconnected,this._connectionStarted=!1,I.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(He=>He.apply(this,[de]))}catch(He){this._logger.log(k.Error,`An onclose callback called with error '${de}' threw error '${He}'.`)}}}_reconnect(de){var He=this;return(0,b.Z)(function*(){const bt=Date.now();let Ut=0,Zt=void 0!==de?de:new Error("Attempting to reconnect due to a unknown error."),Kt=He._getNextRetryDelay(Ut++,0,Zt);if(null===Kt)return He._logger.log(k.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void He._completeClose(de);if(He._connectionState=Z.Reconnecting,He._logger.log(k.Information,de?`Connection reconnecting because of error '${de}'.`:"Connection reconnecting."),0!==He._reconnectingCallbacks.length){try{He._reconnectingCallbacks.forEach(pn=>pn.apply(He,[de]))}catch(pn){He._logger.log(k.Error,`An onreconnecting callback called with error '${de}' threw error '${pn}'.`)}if(He._connectionState!==Z.Reconnecting)return void He._logger.log(k.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==Kt;){if(He._logger.log(k.Information,`Reconnect attempt number ${Ut} will start in ${Kt} ms.`),yield new Promise(pn=>{He._reconnectDelayHandle=setTimeout(pn,Kt)}),He._reconnectDelayHandle=void 0,He._connectionState!==Z.Reconnecting)return void He._logger.log(k.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield He._startInternal(),He._connectionState=Z.Connected,He._logger.log(k.Information,"HubConnection reconnected successfully."),0!==He._reconnectedCallbacks.length)try{He._reconnectedCallbacks.forEach(pn=>pn.apply(He,[He.connection.connectionId]))}catch(pn){He._logger.log(k.Error,`An onreconnected callback called with connectionId '${He.connection.connectionId}; threw error '${pn}'.`)}return}catch(pn){if(He._logger.log(k.Information,`Reconnect attempt failed because of error '${pn}'.`),He._connectionState!==Z.Reconnecting)return He._logger.log(k.Debug,`Connection moved to the '${He._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(He._connectionState===Z.Disconnecting&&He._completeClose());Zt=pn instanceof Error?pn:new Error(pn.toString()),Kt=He._getNextRetryDelay(Ut++,Date.now()-bt,Zt)}}He._logger.log(k.Information,`Reconnect retries have been exhausted after ${Date.now()-bt} ms and ${Ut} failed attempts. Connection disconnecting.`),He._completeClose()})()}_getNextRetryDelay(de,He,bt){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:He,previousRetryCount:de,retryReason:bt})}catch(Ut){return this._logger.log(k.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${de}, ${He}) threw error '${Ut}'.`),null}}_cancelCallbacksWithError(de){const He=this._callbacks;this._callbacks={},Object.keys(He).forEach(bt=>{const Ut=He[bt];try{Ut(null,de)}catch(Zt){this._logger.log(k.Error,`Stream 'error' callback called with '${de}' threw error: ${Ee(Zt)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(de,He,bt,Ut){if(bt)return 0!==Ut.length?{arguments:He,streamIds:Ut,target:de,type:Q.Invocation}:{arguments:He,target:de,type:Q.Invocation};{const Zt=this._invocationId;return this._invocationId++,0!==Ut.length?{arguments:He,invocationId:Zt.toString(),streamIds:Ut,target:de,type:Q.Invocation}:{arguments:He,invocationId:Zt.toString(),target:de,type:Q.Invocation}}}_launchStreams(de,He){if(0!==de.length){He||(He=Promise.resolve());for(const bt in de)de[bt].subscribe({complete:()=>{He=He.then(()=>this._sendWithProtocol(this._createCompletionMessage(bt)))},error:Ut=>{let Zt;Zt=Ut instanceof Error?Ut.message:Ut&&Ut.toString?Ut.toString():"Unknown error",He=He.then(()=>this._sendWithProtocol(this._createCompletionMessage(bt,Zt)))},next:Ut=>{He=He.then(()=>this._sendWithProtocol(this._createStreamItemMessage(bt,Ut)))}})}}_replaceStreamingParams(de){const He=[],bt=[];for(let Ut=0;Ut<de.length;Ut++){const Zt=de[Ut];if(this._isObservable(Zt)){const Kt=this._invocationId;this._invocationId++,He[Kt]=Zt,bt.push(Kt.toString()),de.splice(Ut,1)}}return[He,bt]}_isObservable(de){return de&&de.subscribe&&"function"==typeof de.subscribe}_createStreamInvocation(de,He,bt){const Ut=this._invocationId;return this._invocationId++,0!==bt.length?{arguments:He,invocationId:Ut.toString(),streamIds:bt,target:de,type:Q.StreamInvocation}:{arguments:He,invocationId:Ut.toString(),target:de,type:Q.StreamInvocation}}_createCancelInvocation(de){return{invocationId:de,type:Q.CancelInvocation}}_createStreamItemMessage(de,He){return{invocationId:de,item:He,type:Q.StreamItem}}_createCompletionMessage(de,He,bt){return He?{error:He,invocationId:de,type:Q.Completion}:{invocationId:de,result:bt,type:Q.Completion}}}class Te{constructor(){this.name="json",this.version=1,this.transferFormat=De.Text}parseMessages(de,He){if("string"!=typeof de)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!de)return[];null===He&&(He=F.instance);const bt=ge.parse(de),Ut=[];for(const Zt of bt){const Kt=JSON.parse(Zt);if("number"!=typeof Kt.type)throw new Error("Invalid payload.");switch(Kt.type){case Q.Invocation:this._isInvocationMessage(Kt);break;case Q.StreamItem:this._isStreamItemMessage(Kt);break;case Q.Completion:this._isCompletionMessage(Kt);break;case Q.Ping:case Q.Close:break;default:He.log(k.Information,"Unknown message type '"+Kt.type+"' ignored.");continue}Ut.push(Kt)}return Ut}writeMessage(de){return ge.write(JSON.stringify(de))}_isInvocationMessage(de){this._assertNotEmptyString(de.target,"Invalid payload for Invocation message."),void 0!==de.invocationId&&this._assertNotEmptyString(de.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(de){if(this._assertNotEmptyString(de.invocationId,"Invalid payload for StreamItem message."),void 0===de.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(de){if(de.result&&de.error)throw new Error("Invalid payload for Completion message.");!de.result&&de.error&&this._assertNotEmptyString(de.error,"Invalid payload for Completion message."),this._assertNotEmptyString(de.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(de,He){if("string"!=typeof de||""===de)throw new Error(He)}}const be={trace:k.Trace,debug:k.Debug,info:k.Information,information:k.Information,warn:k.Warning,warning:k.Warning,error:k.Error,critical:k.Critical,none:k.None};class et{configureLogging(de){if(D.isRequired(de,"logging"),function Qe(Et){return void 0!==Et.log}(de))this.logger=de;else if("string"==typeof de){const He=function Le(Et){const de=be[Et.toLowerCase()];if(typeof de<"u")return de;throw new Error(`Unknown log level: ${Et}`)}(de);this.logger=new Me(He)}else this.logger=new Me(de);return this}withUrl(de,He){return D.isRequired(de,"url"),D.isNotEmpty(de,"url"),this.url=de,this.httpConnectionOptions="object"==typeof He?{...this.httpConnectionOptions,...He}:{...this.httpConnectionOptions,transport:He},this}withHubProtocol(de){return D.isRequired(de,"protocol"),this.protocol=de,this}withAutomaticReconnect(de){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=de?Array.isArray(de)?new n(de):de:new n,this}build(){const de=this.httpConnectionOptions||{};if(void 0===de.logger&&(de.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const He=new ye(this.url,de);return X.create(He,this.logger||F.instance,this.protocol||new Te,this.reconnectPolicy)}}var qe=v(8645),ft=v(5879),ze=v(4001);let ht=(()=>{class Et{constructor(He){this.sharedService=He,this.addedMediaFilePlayBack$=new qe.x,this.removedMediaFilePlayBack$=new qe.x,this.updateCurrentTimeMediaFilePlayBack$=new qe.x,this.updateMediaServers$=new qe.x,this.enableMediaServerSubject$=new qe.x,this.disableMediaServerSubject$=new qe.x,this.updateLibrariesByMediaServerSubject$=new qe.x,this.updateItemsByMediaServerSubject$=new qe.x}updateMediaServers(){this.updateMediaServers$.next(!0)}isUpdatingMediaServers(){return this.updateMediaServers$.asObservable()}enableMediaServer(He){this.enableMediaServerSubject$.next(He)}isEnablingMediaServer(){return this.enableMediaServerSubject$.asObservable()}disableMediaServer(He){this.disableMediaServerSubject$.next(He)}isDisablingMediaServer(){return this.disableMediaServerSubject$.asObservable()}updateLibrariesByMediaServer(He){this.updateLibrariesByMediaServerSubject$.next(He)}isUpdatingLibrariesByMediaServer(){return this.updateLibrariesByMediaServerSubject$.asObservable()}updateItemsByMediaServer(He){this.updateItemsByMediaServerSubject$.next(He)}isUpdatingItemsByMediaServer(){return this.updateItemsByMediaServerSubject$.asObservable()}openConnection(){var He=(new et).withUrl(this.sharedService.urlSinovadStreamWebApi+"/mediaServerHub",{skipNegotiation:!0,transport:me.WebSockets}).build();this.sharedService.hubConnection=He,this.tryStartHubConnection()}tryStartHubConnection(){let He=this;this.sharedService.hubConnection.start().then(()=>{console.log("connection started"),He.setEvents(this.sharedService.hubConnection),He.sharedService.hubConnection.onclose(bt=>{setTimeout(()=>{He.sharedService.userData&&He.tryStartHubConnection()},1e3,He)})}).catch(bt=>{console.error("error while establishing signalr connection: "+bt),setTimeout(()=>{He.tryStartHubConnection()},1e3,He)})}stopConnection(){this.sharedService.hubConnection.off("UpdateCurrentTimeMediaFilePlayBack"),this.sharedService.hubConnection.off("AddedMediaFilePlayBack"),this.sharedService.hubConnection.off("RemovedMediaFilePlayBack"),this.sharedService.hubConnection.off("UpdateMediaServers"),this.sharedService.hubConnection.off("EnableMediaServer"),this.sharedService.hubConnection.off("DisableMediaServer"),this.sharedService.hubConnection.off("UpdateLibrariesByMediaServer"),this.sharedService.hubConnection.off("UpdateItemsByMediaServer"),this.sharedService.hubConnection.off("UpdateItemsByMediaServerAndLibrary"),this.sharedService.hubConnection.stop()}setEvents(He){He.on("UpdateMediaServers",bt=>{this.updateMediaServers()}),He.on("EnableMediaServer",bt=>{var Ut=this.sharedService.mediaServers.find(Zt=>Zt.Guid==bt);Ut.isSecureConnection||(Ut.isSecureConnection=!0),this.enableMediaServer(bt)}),He.on("DisableMediaServer",bt=>{var Ut=this.sharedService.mediaServers.find(Zt=>Zt.Guid==bt);Ut.isSecureConnection&&(Ut.isSecureConnection=!1),this.disableMediaServer(bt)}),He.on("UpdateLibrariesByMediaServer",bt=>{this.updateLibrariesByMediaServer(bt)}),He.on("UpdateItemsByMediaServer",bt=>{this.updateItemsByMediaServer(bt)}),He.on("UpdateCurrentTimeMediaFilePlayBack",(bt,Ut,Zt,Kt)=>{this.updateCurrentTimeMediaFilePlayBack$.next({mediaServerGuid:bt,mediaFilePlaybackGuid:Ut,currentTime:Zt,isPlaying:Kt})}),He.on("AddedMediaFilePlayBack",(bt,Ut)=>{this.addedMediaFilePlayBack$.next({mediaServerGuid:bt,mediaFilePlaybackGuid:Ut})}),He.on("RemovedMediaFilePlayBack",(bt,Ut)=>{this.removedMediaFilePlayBack$.next({mediaServerGuid:bt,mediaFilePlaybackGuid:Ut})}),He.invoke("AddConnectionToUserClientsGroup",this.sharedService.userData.Guid).then(bt=>{})}isRemovedMediaFilePlayback(){return this.removedMediaFilePlayBack$.asObservable()}isAddedMediaFilePlayback(){return this.addedMediaFilePlayBack$.asObservable()}removeMediaFilePlayBack(He,bt){let Ut=this;this.sharedService.hubConnection.send("RemoveMediaFilePlayBack",this.sharedService.userData.Guid,He,bt).then(Zt=>{},Zt=>{setTimeout(()=>{Ut.removeMediaFilePlayBack(He,bt)},1e3,Ut)})}removeLastTranscodedMediaFileProcess(He,bt){let Ut=this;this.sharedService.hubConnection.send("RemoveLastTranscodedMediaFileProcess",this.sharedService.userData.Guid,He,bt).then(Zt=>{},Zt=>{setTimeout(()=>{Ut.removeLastTranscodedMediaFileProcess(He,bt)},1e3,Ut)})}updateCurrentTimeMediaFilePlayBack(He,bt,Ut,Zt){this.sharedService.hubConnection.send("UpdateCurrentTimeMediaFilePlayBack",this.sharedService.userData.Guid,He,bt,Ut,Zt)}isUpdatingCurrentTimeMediaFilePlayBack(){return this.updateCurrentTimeMediaFilePlayBack$.asObservable()}static#e=this.\u0275fac=function(bt){return new(bt||Et)(ft.LFG(ze.F))};static#t=this.\u0275prov=ft.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"})}return Et})()},3931:(Hn,Xe,v)=>{"use strict";v.d(Xe,{c:()=>A});var e=v(2939),n=v(9604),b=v(5879);let A=(()=>{class _{constructor(w){this.snackBar=w}showSnackBar(w,g){var d=new e.u_;d.duration=2e3,d.data={message:w,snackBarType:g},this.snackBar.openFromComponent(n.fJ,d)}static#e=this.\u0275fac=function(g){return new(g||_)(b.LFG(e.ux))};static#t=this.\u0275prov=b.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},7102:(Hn,Xe,v)=>{"use strict";v.d(Xe,{m:()=>Ce});var e=v(6814),n=v(1476),b=v(7700),A=v(2939),_=v(5313),x=v(2032),w=v(4170),g=v(3566),d=v(5986),i=v(5940),h=v(2596),p=v(3680),T=v(8525),B=v(8034),P=v(5879);let fe=(()=>{class me{static#e=this.\u0275fac=function(Fe){return new(Fe||me)};static#t=this.\u0275mod=P.oAB({type:me});static#n=this.\u0275inj=P.cJS({imports:[p.BQ,e.ez,p.BQ]})}return me})(),Pe=(()=>{class me{static#e=this.\u0275fac=function(Fe){return new(Fe||me)};static#t=this.\u0275mod=P.oAB({type:me});static#n=this.\u0275inj=P.cJS({imports:[e.ez,n.TU,b.Is,A.ZX,_.p0,x.c,w.lN,g.JX,d.p9,i.Cq,h.AV,p.Ng,T.LD,B.FA,p.XK,fe,n.TU,b.Is,A.ZX,_.p0,x.c,w.lN,g.JX,d.p9,i.Cq,h.AV,p.Ng,T.LD,B.FA,p.XK,fe]})}return me})(),Ce=(()=>{class me{static#e=this.\u0275fac=function(Fe){return new(Fe||me)};static#t=this.\u0275mod=P.oAB({type:me});static#n=this.\u0275inj=P.cJS({imports:[e.ez,Pe,e.ez,Pe]})}return me})()},5618:(Hn,Xe,v)=>{"use strict";var e=v(6593),n=v(5879),b=v(9862),A=v(5612),_=v(2392);const x=(m,r)=>{const t=(0,n.f3M)(A.F0);return null==localStorage.getItem("apiToken")||t.navigateByUrl("/home")};var w=v(4001),g=v(6814),d=v(1531);const i=["loginFormContainer"];let h=(()=>{class m{constructor(t,l,f){this.router=t,this.activeRoute=l,this.sharedService=f,this._window=window,this.showLoading=!1}ngOnInit(){}showLoginPage(){this.router.navigateByUrl("/login")}showRegisterPage(){this.router.navigateByUrl("/register")}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(A.F0),n.Y36(A.gz),n.Y36(w.F))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-landing"]],viewQuery:function(l,f){if(1&l&&n.Gf(i,5),2&l){let y;n.iGM(y=n.CRH())&&(f.loginFormContainer=y.first)}},decls:12,vars:6,consts:[["id","sinovad-container",1,"sinovad-container"],[1,"sinovad-form-container"],[1,"sinovad-form-content"],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-form-button-section"],[1,"register",3,"click"],[1,"login",3,"click"]],template:function(l,f){1&l&&(n.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),n._UZ(4,"img",4),n.ALo(5,"async"),n.ALo(6,"formatDataPipe"),n.qZA(),n.TgZ(7,"div",5)(8,"button",6),n.NdJ("click",function(){return f.showRegisterPage()}),n._uU(9,"REG\xcdSTRATE"),n.qZA(),n.TgZ(10,"button",7),n.NdJ("click",function(){return f.showLoginPage()}),n._uU(11,"INICIA SESI\xd3N"),n.qZA()()()()()),2&l&&(n.xp6(4),n.Q6J("src",n.lcZ(5,1,n.xi3(6,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH))},dependencies:[g.Ov,d.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;width:100%;cursor:pointer;color:#fff;padding:10px;text-align:center;border-radius:5px;font-size:14px;opacity:.8;margin-bottom:10px;font-weight:700}.sinovad-form-button-section[_ngcontent-%COMP%]   button.register[_ngcontent-%COMP%]{background-color:#007bff}.sinovad-form-button-section[_ngcontent-%COMP%]   button.login[_ngcontent-%COMP%]{background-color:#2e303d}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}button.register[_ngcontent-%COMP%]{background-color:#007bff}button.login[_ngcontent-%COMP%]{background-color:#2e303d}"]})}return m})();var p=v(863),T=v(95);class B{}var P=v(6294),k=v(9768);function F(m,r){if(1&m&&(n.TgZ(0,"label",26),n._UZ(1,"i",27),n._uU(2),n.qZA()),2&m){const t=n.oxw(2);n.xp6(2),n.hij(" ",t.sharedService.hasRequireErrorFormControl(t.registerUserForm,"email")?"Confirma que hayas agregado el email correctamente":t.sharedService.hasErrorPatternFormControl(t.registerUserForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}function O(m,r){1&m&&(n.TgZ(0,"label",26),n._UZ(1,"i",27),n._uU(2,"Confirma que hayas agregado los nombres correctamente "),n.qZA())}function D(m,r){1&m&&(n.TgZ(0,"label",26),n._UZ(1,"i",27),n._uU(2,"Confirma que hayas agregado los apellidos correctamente "),n.qZA())}function I(m,r){1&m&&(n.TgZ(0,"label",26),n._UZ(1,"i",27),n._uU(2,"Confirma que hayas agregado el usuario correctamente "),n.qZA())}function S(m,r){1&m&&(n.TgZ(0,"label",26),n._UZ(1,"i",27),n._uU(2,"Confirma que hayas agregado el password correctamente "),n.qZA())}function L(m,r){1&m&&(n.TgZ(0,"label",26),n._UZ(1,"i",27),n._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),n.qZA())}const C=function(m){return{error:m}},U=function(m){return{disable:m}};function z(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"div",9)(1,"form",10),n.NdJ("ngSubmit",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.register())}),n.TgZ(2,"div",11),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA(),n.TgZ(6,"div",12),n._uU(7," Reg\xedstrate "),n.qZA(),n.TgZ(8,"div",13)(9,"label",14),n._uU(10," Correo electr\xf3nico "),n.qZA(),n.TgZ(11,"div",15),n._UZ(12,"input",16),n.YNc(13,F,3,1,"label",17),n.qZA()(),n.TgZ(14,"div",13)(15,"label",14),n._uU(16," Nombres "),n.qZA(),n.TgZ(17,"div",15),n._UZ(18,"input",18),n.YNc(19,O,3,0,"label",17),n.qZA()(),n.TgZ(20,"div",13)(21,"label",14),n._uU(22," Apellidos "),n.qZA(),n.TgZ(23,"div",15),n._UZ(24,"input",19),n.YNc(25,D,3,0,"label",17),n.qZA()(),n.TgZ(26,"div",13)(27,"label",14),n._uU(28," Usuario "),n.qZA(),n.TgZ(29,"div",15),n._UZ(30,"input",20),n.YNc(31,I,3,0,"label",17),n.qZA()(),n.TgZ(32,"div",13)(33,"label",14),n._uU(34," Contrase\xf1a "),n.qZA(),n.TgZ(35,"div",15),n._UZ(36,"input",21),n.YNc(37,S,3,0,"label",17),n.qZA()(),n.TgZ(38,"div",13)(39,"label",14),n._uU(40," Confirmar contrase\xf1a "),n.qZA(),n.TgZ(41,"div",15),n._UZ(42,"input",22),n.YNc(43,L,3,0,"label",17),n.qZA()(),n.TgZ(44,"div",23)(45,"button",24),n._uU(46,"Registrar"),n.qZA()(),n.TgZ(47,"div",25),n._uU(48),n.qZA()()()}if(2&m){const t=n.oxw();n.xp6(1),n.Q6J("formGroup",t.registerUserForm),n.xp6(2),n.Q6J("src",n.lcZ(4,16,n.xi3(5,18,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH),n.xp6(5),n.Q6J("ngClass",n.VKq(21,C,t.sharedService.isInvalidFormControl(t.registerUserForm,"email"))),n.xp6(5),n.Q6J("ngIf",t.sharedService.isInvalidFormControl(t.registerUserForm,"email")),n.xp6(1),n.Q6J("ngClass",n.VKq(23,C,t.sharedService.isInvalidFormControl(t.registerUserForm,"firstName"))),n.xp6(5),n.Q6J("ngIf",t.sharedService.isInvalidFormControl(t.registerUserForm,"firstName")&&t.sharedService.hasRequireErrorFormControl(t.registerUserForm,"firstName")),n.xp6(1),n.Q6J("ngClass",n.VKq(25,C,t.sharedService.isInvalidFormControl(t.registerUserForm,"lastName"))),n.xp6(5),n.Q6J("ngIf",t.sharedService.isInvalidFormControl(t.registerUserForm,"lastName")&&t.sharedService.hasRequireErrorFormControl(t.registerUserForm,"lastName")),n.xp6(1),n.Q6J("ngClass",n.VKq(27,C,t.sharedService.isInvalidFormControl(t.registerUserForm,"username"))),n.xp6(5),n.Q6J("ngIf",t.sharedService.isInvalidFormControl(t.registerUserForm,"username")&&t.sharedService.hasRequireErrorFormControl(t.registerUserForm,"username")),n.xp6(1),n.Q6J("ngClass",n.VKq(29,C,t.sharedService.isInvalidFormControl(t.registerUserForm,"password"))),n.xp6(5),n.Q6J("ngIf",t.sharedService.isInvalidFormControl(t.registerUserForm,"password")&&t.sharedService.hasRequireErrorFormControl(t.registerUserForm,"password")),n.xp6(1),n.Q6J("ngClass",n.VKq(31,C,t.sharedService.isInvalidFormControl(t.registerUserForm,"confirmPassword"))),n.xp6(5),n.Q6J("ngIf",t.sharedService.isInvalidFormControl(t.registerUserForm,"confirmPassword")&&t.sharedService.hasRequireErrorFormControl(t.registerUserForm,"confirmPassword")),n.xp6(2),n.Q6J("ngClass",n.VKq(33,U,t.showLoading)),n.xp6(3),n.hij(" ",t.errorMessage," ")}}function ne(m,r){1&m&&(n.TgZ(0,"div",28)(1,"div",29)(2,"div",11),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA(),n.TgZ(6,"div",12),n._uU(7," Registro de Usuario "),n.qZA(),n.TgZ(8,"h2"),n._uU(9,"Usuario registrado satistactoriamente, verifique su correo electr\xf3nico y active su cuenta por favor."),n.qZA()()()),2&m&&(n.xp6(3),n.Q6J("src",n.lcZ(4,1,n.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH))}let te=(()=>{class m{constructor(t,l,f,y){this.formBuilder=t,this.router=l,this.restProvider=f,this.sharedService=y,this._window=window,this.showLoading=!1,this.showSuccessMessage=!1,this.registerUserModel=new B,this.registerUserForm=this.formBuilder.group({email:new T.NI("",[T.kI.required,T.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),firstName:new T.NI("",[T.kI.required]),lastName:new T.NI("",[T.kI.required]),username:new T.NI("",[T.kI.required]),password:new T.NI("",[T.kI.required]),confirmPassword:new T.NI("",[T.kI.required])})}ngOnInit(){}register(){this.registerUserForm.valid?(this.registerUserModel={Email:this.registerUserForm.value.email,FirstName:this.registerUserForm.value.firstName,LastName:this.registerUserForm.value.lastName,UserName:this.registerUserForm.value.username,Password:this.registerUserForm.value.password,ConfirmPassword:this.registerUserForm.value.confirmPassword,ConfirmEmailUrl:window.location.origin+"/confirm"},this.showLoading=!0,this.restProvider.executeSinovadApiService(p.yw.POST,"/users/Register",this.registerUserModel).then(t=>{console.log("Registrado exitosamente"),this.showLoading=!1,this.showSuccessMessage=!0},t=>{this.showLoading=!1,this.errorMessage=t,console.error(t)})):(this.errorMessage=void 0,this.registerUserForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(T.qu),n.Y36(A.F0),n.Y36(P.C),n.Y36(w.F))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-register-user"]],decls:11,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-form-backdrop"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3",3,"ngClass"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","text","formControlName","firstName"],["type","text","formControlName","lastName"],["type","text","formControlName","username"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"mb-3"],["type","submit",1,"register",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(l,f){1&l&&(n.TgZ(0,"div",0,1)(2,"button",2),n.NdJ("click",function(){return f.onClose()}),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA()(),n.TgZ(6,"div",4)(7,"div",5),n.YNc(8,z,49,35,"div",6),n.YNc(9,ne,10,6,"div",7),n.qZA()(),n._UZ(10,"app-custom-spinner",8)),2&l&&(n.xp6(3),n.Q6J("src",n.lcZ(4,4,n.xi3(5,6,"back-screen.png","GetIconURLByKey")),n.LSH),n.xp6(5),n.Q6J("ngIf",!f.showSuccessMessage),n.xp6(1),n.Q6J("ngIf",f.showSuccessMessage),n.xp6(1),n.Q6J("showLoading",f.showLoading))},dependencies:[g.mk,g.O5,T._Y,T.Fj,T.JJ,T.JL,k.D,T.sg,T.u,g.Ov,d.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-form-backdrop[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}button.register[_ngcontent-%COMP%]{background-color:#007bff}"]})}return m})();class Me{}var J=v(5550);class ce{}var W=v(1270),Se=v(6878),le=v(9058),Ee=v(534),xe=v(7879),Ve=v(4537),fe=v(8645),Pe=v(2096),Ce=v(5592),me=v(2459),De=v(3019),Re=v(3093),Fe=v(4664),Ne=v(7398),at=v(940),Be=v(1374),ye=v(4674);function ve(m,r){return(0,ye.m)(r)?(0,Fe.w)(()=>m,r):(0,Fe.w)(()=>m)}var K=v(5137),se=v(2181),ge=v(8186),oe=v(6304);v(3182);var He=v(5861);const bt=new Map,Ut={activated:!1,tokenObservers:[]},Zt={initialized:!1,enabled:!1};function Kt(m){return bt.get(m)||Object.assign({},Ut)}function rn(){return Zt}const xt="https://content-firebaseappcheck.googleapis.com/v1",ke="exchangeDebugToken",Ke={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ot{constructor(r,t,l,f,y){if(this.operation=r,this.retryPolicy=t,this.getWaitDuration=l,this.lowerBound=f,this.upperBound=y,this.pending=null,this.nextErrorWaitInterval=f,f>y)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(r){var t=this;return(0,He.Z)(function*(){t.stop();try{t.pending=new le.BH,yield function yt(m){return new Promise(r=>{setTimeout(r,m)})}(t.getNextRun(r)),t.pending.resolve(),yield t.pending.promise,t.pending=new le.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(l){t.retryPolicy(l)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(r){if(r)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const _t=new le.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function fn(m){if(!Kt(m).activated)throw _t.create("use-before-activation",{appName:m.name})}function Tn(m,r){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,He.Z)(function*({url:m,body:r},t){const l={"Content-Type":"application/json"},f=t.getImmediate({optional:!0});if(f){const Ze=yield f.getHeartbeatsHeader();Ze&&(l["X-Firebase-Client"]=Ze)}const y={method:"POST",body:JSON.stringify(r),headers:l};let N,H;try{N=yield fetch(m,y)}catch(Ze){throw _t.create("fetch-network-error",{originalErrorMessage:Ze?.message})}if(200!==N.status)throw _t.create("fetch-status-error",{httpStatus:N.status});try{H=yield N.json()}catch(Ze){throw _t.create("fetch-parse-error",{originalErrorMessage:Ze?.message})}const ee=H.ttl.match(/^([\d.]+)(s)$/);if(!ee||!ee[2]||isNaN(Number(ee[1])))throw _t.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${H.ttl}`});const ae=1e3*Number(ee[1]),We=Date.now();return{token:H.token,expireTimeMillis:We+ae,issuedAtTimeMillis:We}})).apply(this,arguments)}function dn(m,r){const{projectId:t,appId:l,apiKey:f}=m.options;return{url:`${xt}/projects/${t}/apps/${l}:${ke}?key=${f}`,body:{debug_token:r}}}const ln="firebase-app-check-database",un=1,sn="firebase-app-check-store";let St=null;function bn(){return(bn=(0,He.Z)(function*(m,r){const l=(yield function dt(){return St||(St=new Promise((m,r)=>{try{const t=indexedDB.open(ln,un);t.onsuccess=l=>{m(l.target.result)},t.onerror=l=>{var f;r(_t.create("storage-open",{originalErrorMessage:null===(f=l.target.error)||void 0===f?void 0:f.message}))},t.onupgradeneeded=l=>{0===l.oldVersion&&l.target.result.createObjectStore(sn,{keyPath:"compositeKey"})}}catch(t){r(_t.create("storage-open",{originalErrorMessage:t?.message}))}}),St)}()).transaction(sn,"readwrite"),y=l.objectStore(sn).put({compositeKey:m,value:r});return new Promise((N,H)=>{y.onsuccess=ee=>{N()},l.onerror=ee=>{var ae;H(_t.create("storage-set",{originalErrorMessage:null===(ae=ee.target.error)||void 0===ae?void 0:ae.message}))}})})).apply(this,arguments)}const $t=new xe.Yd("@firebase/app-check");function Vn(m,r){return(0,le.hl)()?function $e(m,r){return function Rt(m,r){return bn.apply(this,arguments)}(function Pt(m){return`${m.options.appId}-${m.name}`}(m),r)}(m,r).catch(t=>{$t.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ae(){return rn().enabled}function Nt(){return At.apply(this,arguments)}function At(){return(At=(0,He.Z)(function*(){const m=rn();if(m.enabled&&m.token)return m.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const wn={error:"UNKNOWN_ERROR"};function ci(m){return le.US.encodeString(JSON.stringify(m),!1)}function nr(m){return kr.apply(this,arguments)}function kr(){return(kr=(0,He.Z)(function*(m,r=!1){const t=m.app;fn(t);const l=Kt(t);let y,f=l.token;if(f&&!er(f)&&(l.token=void 0,f=void 0),!f){const ee=yield l.cachedTokenPromise;ee&&(er(ee)?f=ee:yield Vn(t,void 0))}if(!r&&f&&er(f))return{token:f.token};let H,N=!1;if(Ae()){l.exchangeTokenPromise||(l.exchangeTokenPromise=Tn(dn(t,yield Nt()),m.heartbeatServiceProvider).finally(()=>{l.exchangeTokenPromise=void 0}),N=!0);const ee=yield l.exchangeTokenPromise;return yield Vn(t,ee),l.token=ee,{token:ee.token}}try{l.exchangeTokenPromise||(l.exchangeTokenPromise=l.provider.getToken().finally(()=>{l.exchangeTokenPromise=void 0}),N=!0),f=yield Kt(t).exchangeTokenPromise}catch(ee){"appCheck/throttled"===ee.code?$t.warn(ee.message):$t.error(ee),y=ee}return f?y?H=er(f)?{token:f.token,internalError:y}:ir(y):(H={token:f.token},l.token=f,yield Vn(t,f)):H=ir(y),N&&function Li(m,r){const t=Kt(m).tokenObservers;for(const l of t)try{"EXTERNAL"===l.type&&null!=r.error?l.error(r.error):l.next(r)}catch{}}(t,H),H})).apply(this,arguments)}function Ar(m){return fr.apply(this,arguments)}function fr(){return(fr=(0,He.Z)(function*(m){const r=m.app;fn(r);const{provider:t}=Kt(r);if(Ae()){const l=yield Nt(),{token:f}=yield Tn(dn(r,l),m.heartbeatServiceProvider);return{token:f}}{const{token:l}=yield t.getToken();return{token:l}}})).apply(this,arguments)}function Eo(m,r){const t=Kt(m),l=t.tokenObservers.filter(f=>f.next!==r);0===l.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=l}function fo(m){const{app:r}=m,t=Kt(r);let l=t.tokenRefresher;l||(l=function es(m){const{app:r}=m;return new ot((0,He.Z)(function*(){let l;if(l=Kt(r).token?yield nr(m,!0):yield nr(m),l.error)throw l.error;if(l.internalError)throw l.internalError}),()=>!0,()=>{const t=Kt(r);if(t.token){let l=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return l=Math.min(l,t.token.expireTimeMillis-3e5),Math.max(0,l-Date.now())}return 0},Ke.RETRIAL_MIN_WAIT,Ke.RETRIAL_MAX_WAIT)}(m),t.tokenRefresher=l),!l.isRunning()&&t.isTokenAutoRefreshEnabled&&l.start()}function er(m){return m.expireTimeMillis-Date.now()>0}function ir(m){return{token:ci(wn),error:m}}class ho{constructor(r,t){this.app=r,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:r}=Kt(this.app);for(const t of r)Eo(this.app,t.next);return Promise.resolve()}}const Xr="app-check-internal";!function Zo(){(0,Ee._registerComponent)(new Ve.wA("app-check",m=>function Dr(m,r){return new ho(m,r)}(m.getProvider("app").getImmediate(),m.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,r,t)=>{m.getProvider(Xr).initialize()})),(0,Ee._registerComponent)(new Ve.wA(Xr,m=>function ts(m){return{getToken:r=>nr(m,r),getLimitedUseToken:()=>Ar(m),addTokenListener:r=>function bo(m,r,t,l){const{app:f}=m,y=Kt(f);if(y.tokenObservers=[...y.tokenObservers,{next:t,error:l,type:r}],y.token&&er(y.token)){const H=y.token;Promise.resolve().then(()=>{t({token:H.token}),fo(m)}).catch(()=>{})}y.cachedTokenPromise.then(()=>fo(m))}(m,"INTERNAL",r),removeTokenListener:r=>Eo(m.app,r)}}(m.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ee.registerVersion)("@firebase/app-check","0.8.0")}();class Ks{constructor(){return(0,ge.vb)("app-check")}}typeof window<"u"&&window;var Ys=v(7142);const zs=new n.OlP("angularfire2.auth.use-emulator"),Rs=new n.OlP("angularfire2.auth.settings"),fs=new n.OlP("angularfire2.auth.tenant-id"),bs=new n.OlP("angularfire2.auth.langugage-code"),ma=new n.OlP("angularfire2.auth.use-device-language"),Io=new n.OlP("angularfire.auth.persistence");let jo=(()=>{class m{constructor(t,l,f,y,N,H,ee,ae,We,Ze,Dt,wt){const Ht=new fe.x,zt=(0,Pe.of)(void 0).pipe((0,Re.Q)(N.outsideAngular),(0,Fe.w)(()=>y.runOutsideAngular(()=>v.e(365).then(v.bind(v,6365)))),(0,Ne.U)(()=>(0,oe.on)(t,y,l)),(0,Ne.U)(on=>((m,r,t,l,f,y,N,H)=>(0,oe.cc)(`${m.name}.auth`,"AngularFireAuth",m.name,()=>{const ee=r.runOutsideAngular(()=>m.auth());if(t&&ee.useEmulator(...t),l&&(ee.tenantId=l),ee.languageCode=f,y&&ee.useDeviceLanguage(),N)for(const[ae,We]of Object.entries(N))ee.settings[ae]=We;return H&&ee.setPersistence(H),ee},[t,l,f,y,N,H]))(on,y,H,ae,We,Ze,ee,Dt)),(0,at.d)({bufferSize:1,refCount:!1}));if((0,g.PM)(f))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Pe.of)(null);else{zt.pipe((0,Be.P)()).subscribe();const Sn=zt.pipe((0,Fe.w)($n=>$n.getRedirectResult().then(zn=>zn,()=>null)),ge.iC,(0,at.d)({bufferSize:1,refCount:!1})),Bn=zt.pipe((0,Fe.w)($n=>new Ce.y(zn=>({unsubscribe:y.runOutsideAngular(()=>$n.onAuthStateChanged(ui=>zn.next(ui),ui=>zn.error(ui),()=>zn.complete()))})))),Ln=zt.pipe((0,Fe.w)($n=>new Ce.y(zn=>({unsubscribe:y.runOutsideAngular(()=>$n.onIdTokenChanged(ui=>zn.next(ui),ui=>zn.error(ui),()=>zn.complete()))}))));this.authState=Sn.pipe(ve(Bn),(0,K.R)(N.outsideAngular),(0,Re.Q)(N.insideAngular)),this.user=Sn.pipe(ve(Ln),(0,K.R)(N.outsideAngular),(0,Re.Q)(N.insideAngular)),this.idToken=this.user.pipe((0,Fe.w)($n=>$n?(0,me.D)($n.getIdToken()):(0,Pe.of)(null))),this.idTokenResult=this.user.pipe((0,Fe.w)($n=>$n?(0,me.D)($n.getIdTokenResult()):(0,Pe.of)(null))),this.credential=(0,De.T)(Sn,Ht,this.authState.pipe((0,se.h)($n=>!$n))).pipe((0,Ne.U)($n=>$n?.user?$n:null),(0,K.R)(N.outsideAngular),(0,Re.Q)(N.insideAngular))}return(0,oe.pX)(this,zt,y,{spy:{apply:(on,Sn,Bn)=>{(on.startsWith("signIn")||on.startsWith("createUser"))&&Bn.then(Ln=>Ht.next(Ln))}}})}}return m.\u0275fac=function(t){return new(t||m)(n.LFG(oe.Dh),n.LFG(oe.xv,8),n.LFG(n.Lbi),n.LFG(n.R0b),n.LFG(ge.HU),n.LFG(zs,8),n.LFG(Rs,8),n.LFG(fs,8),n.LFG(bs,8),n.LFG(ma,8),n.LFG(Io,8),n.LFG(Ks,8))},m.\u0275prov=n.Yz7({token:m,factory:m.\u0275fac,providedIn:"any"}),m})(),Zs=(()=>{class m{constructor(){Ys.Z.registerVersion("angularfire",ge.q4.full,"auth-compat")}}return m.\u0275fac=function(t){return new(t||m)},m.\u0275mod=n.oAB({type:m}),m.\u0275inj=n.cJS({providers:[jo]}),m})(),pa=(()=>{class m{constructor(t,l){this.restProvider=t,this.afAuth=l}validateUser(t){return new Promise((l,f)=>{this.restProvider.executeSinovadApiService(p.yw.POST,"/authentication/ValidateUser",{UserName:t}).then(y=>{l(y)},y=>{f(y)})})}authenticateByLinkedAccount(t){return new Promise((l,f)=>{this.restProvider.executeSinovadApiService(p.yw.POST,"/authentication/AuthenticateLinkedAccount",t).then(y=>{l(y)},y=>{f(y)})})}authenticateUser(t){return new Promise((l,f)=>{this.restProvider.executeSinovadApiService(p.yw.POST,"/authentication/AuthenticateUser",t).then(y=>{l(y)},y=>{f(y)})})}authenticatePasswordAndConfirmLinkAccountToUser(t){return new Promise((l,f)=>{this.restProvider.executeSinovadApiService(p.yw.POST,"/authentication/AuthenticatePasswordAndConfirmLinkAccountToUser",t).then(y=>{l(y)},y=>{f(y)})})}authenticateWithGoogle(){return this.authenticate(new Se.V)}authenticateWithFacebook(){return this.authenticate(new Se.U)}authenticateWithApple(){}authenticate(t){return new Promise((l,f)=>this.afAuth.signInWithPopup(t).then(y=>{l(y)}).catch(y=>{f(y)}))}static#e=this.\u0275fac=function(l){return new(l||m)(n.LFG(P.C),n.LFG(jo))};static#t=this.\u0275prov=n.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();var Ns=v(5864),hs=v(616),$s=v(2032),Jo=v(4170);function Ma(m,r){if(1&m&&(n.TgZ(0,"span",19),n._uU(1),n.qZA()),2&m){const t=n.oxw(2);n.xp6(1),n.hij(" ",t.errorMessage," ")}}function Js(m,r){1&m&&(n.TgZ(0,"mat-error"),n._UZ(1,"i",20),n._uU(2,"Ingresa el usuario correctamente "),n.qZA())}function Ls(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"form",10),n.NdJ("ngSubmit",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.validateUser())}),n.YNc(1,Ma,2,1,"span",11),n.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),n._uU(5,"Usuario"),n.qZA(),n._UZ(6,"input",14),n.YNc(7,Js,3,0,"mat-error",15),n.qZA()(),n.TgZ(8,"div",12)(9,"button",16),n._uU(10,"Siguiente"),n.qZA()()(),n.TgZ(11,"div",12)(12,"button",17),n.NdJ("click",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.onClose())}),n._uU(13,"Cancelar"),n.qZA()(),n.TgZ(14,"div",12)(15,"button",18),n.NdJ("click",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.loginWithGoogle())}),n._UZ(16,"img",2),n.ALo(17,"async"),n.ALo(18,"formatDataPipe"),n._uU(19,"Continuar con Google"),n.qZA()()}if(2&m){const t=n.oxw();n.Q6J("formGroup",t.userFormGroup),n.xp6(1),n.Q6J("ngIf",t.errorMessage),n.xp6(5),n.Q6J("errorStateMatcher",t.matcher),n.xp6(1),n.Q6J("ngIf",t.userFormGroup.controls.username.hasError("required")),n.xp6(2),n.Q6J("disabled",t.showLoading||!t.userFormGroup.valid),n.xp6(7),n.Q6J("src",n.lcZ(17,6,n.xi3(18,8,"google.svg","GetIconURLByKey")),n.LSH)}}function ks(m,r){if(1&m&&(n.TgZ(0,"span",19),n._uU(1),n.qZA()),2&m){const t=n.oxw(2);n.xp6(1),n.hij(" ",t.errorMessage," ")}}function mr(m,r){1&m&&(n.TgZ(0,"mat-error"),n._UZ(1,"i",20),n._uU(2,"Ingresa la contrase\xf1a correctamente "),n.qZA())}const Pn=function(m){return{disable:m}};function ut(m,r){if(1&m){const t=n.EpF();n.YNc(0,ks,2,1,"span",11),n.TgZ(1,"form",10),n.NdJ("ngSubmit",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.authenticateUser())}),n.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),n._uU(5,"Contrase\xf1a"),n.qZA(),n._UZ(6,"input",21),n.YNc(7,mr,3,0,"mat-error",15),n.qZA()(),n.TgZ(8,"div",12)(9,"button",16),n._uU(10,"Iniciar sesi\xf3n"),n.qZA()()(),n.TgZ(11,"div",12)(12,"button",17),n.NdJ("click",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.onClose())}),n._uU(13,"Cancelar"),n.qZA()(),n.TgZ(14,"div",12)(15,"button",22),n.NdJ("click",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.showRecoverPasswordPage())}),n._uU(16,"Olvidaste tu contrase\xf1a?"),n.qZA()()}if(2&m){const t=n.oxw();n.Q6J("ngIf",t.errorMessage),n.xp6(1),n.Q6J("formGroup",t.passwordFormGroup),n.xp6(5),n.Q6J("errorStateMatcher",t.matcher),n.xp6(1),n.Q6J("ngIf",t.passwordFormGroup.controls.password.hasError("required")),n.xp6(2),n.Q6J("disabled",t.showLoading||!t.passwordFormGroup.valid),n.xp6(6),n.Q6J("ngClass",n.VKq(6,Pn,t.showLoading))}}function It(m,r){if(1&m&&(n.TgZ(0,"span",19),n._uU(1),n.qZA()),2&m){const t=n.oxw(2);n.xp6(1),n.hij(" ",t.errorMessage," ")}}function lt(m,r){1&m&&(n.TgZ(0,"mat-error"),n._UZ(1,"i",20),n._uU(2,"Ingresa la contrase\xf1a correctamente "),n.qZA())}function Wt(m,r){if(1&m){const t=n.EpF();n.YNc(0,It,2,1,"span",11),n.TgZ(1,"div",23)(2,"div",24),n._uU(3," Encontramos una cuenta de Sinovad Stream para "),n.TgZ(4,"div",25),n._uU(5),n.qZA()(),n._uU(6," Verifique su cuenta para continuar "),n.qZA(),n.TgZ(7,"form",10),n.NdJ("ngSubmit",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.ConfirmLinkAccountToUser())}),n.TgZ(8,"div",12)(9,"mat-form-field",13)(10,"mat-label"),n._uU(11,"Contrase\xf1a"),n.qZA(),n._UZ(12,"input",21),n.YNc(13,lt,3,0,"mat-error",15),n.qZA()(),n.TgZ(14,"div",12)(15,"button",16),n._uU(16,"Confirmar"),n.qZA()()(),n.TgZ(17,"div",12)(18,"button",17),n.NdJ("click",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.onClose())}),n._uU(19,"Cancelar"),n.qZA()(),n.TgZ(20,"div",12)(21,"button",22),n.NdJ("click",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.showRecoverPasswordPage())}),n._uU(22,"Olvidaste tu contrase\xf1a?"),n.qZA()()}if(2&m){const t=n.oxw();n.Q6J("ngIf",t.errorMessage),n.xp6(5),n.hij(" ",t.confirmLinkAccountData.Email," "),n.xp6(2),n.Q6J("formGroup",t.passwordFormGroup),n.xp6(5),n.Q6J("errorStateMatcher",t.matcher),n.xp6(1),n.Q6J("ngIf",t.passwordFormGroup.controls.password.hasError("required")),n.xp6(2),n.Q6J("disabled",t.showLoading||!t.passwordFormGroup.valid),n.xp6(6),n.Q6J("ngClass",n.VKq(7,Pn,t.showLoading))}}let En=(()=>{class m{constructor(t,l,f,y,N,H,ee){this.userService=t,this.authenticationService=l,this.menuService=f,this.signalIRHubService=y,this.formBuilder=N,this.router=H,this.sharedService=ee,this._window=window,this.showLoading=!1,this.user=new ce,this.userFormGroup=this.formBuilder.group({username:new T.NI("",[T.kI.required])}),this.passwordFormGroup=this.formBuilder.group({password:new T.NI("",[T.kI.required])}),this.matcher=new J.n,this.showPasswordForm=!1,this.showConfirmLinkedAccountForm=!1}validateUser(){this.userFormGroup.valid?(this.showLoading=!0,this.user.UserName=this.userFormGroup.value.username,this.authenticationService.validateUser(this.user.UserName).then(t=>{this.showPasswordForm=!0,this.showLoading=!1,this.errorMessage=void 0},t=>{this.showLoading=!1,this.errorMessage=t,console.error(t)})):(this.errorMessage=void 0,this.userFormGroup.markAllAsTouched())}authenticateUser(){this.passwordFormGroup.valid?(this.user.Password=this.passwordFormGroup.value.password,this.showLoading=!0,this.authenticationService.authenticateUser(this.user).then(t=>{this.setUserSessionDataAfterAuthenticate(t.Data)},t=>{this.showLoading=!1,this.errorMessage=t,console.error(t)})):(this.errorMessage=void 0,this.passwordFormGroup.markAllAsTouched())}loginWithGoogle(){this.showLoading=!0,this.errorMessage=void 0,this.authenticationService.authenticateWithGoogle().then(t=>{var l=new Me;l.AccessToken=t.credential.accessToken,l.LinkedAccountProviderCatalogId=p.P9.LinkedAccountProvider,l.LinkedAccountProviderCatalogDetailId=p.jP.Google,this.authenticationService.authenticateByLinkedAccount(l).then(f=>{var y=f.Data;y.ConfirmLinkAccountData?(this.showLoading=!1,this.confirmLinkAccountData=y.ConfirmLinkAccountData,this.showConfirmLinkedAccountForm=!0):this.setUserSessionDataAfterAuthenticate(y)},f=>{this.showLoading=!1})},t=>{console.error(t),this.showLoading=!1})}ConfirmLinkAccountToUser(){this.errorMessage=void 0,this.passwordFormGroup.valid?(this.confirmLinkAccountData.Password=this.passwordFormGroup.value.password,this.showLoading=!0,this.authenticationService.authenticatePasswordAndConfirmLinkAccountToUser(this.confirmLinkAccountData).then(t=>{this.setUserSessionDataAfterAuthenticate(t.Data)},t=>{this.showLoading=!1,this.errorMessage=t,console.error(t)})):(this.errorMessage=void 0,this.passwordFormGroup.markAllAsTouched())}setUserSessionDataAfterAuthenticate(t){this.sharedService.apiToken=t.ApiToken,localStorage.setItem("apiToken",this.sharedService.apiToken);let l=t.UserData;this.sharedService.userData=l.User,this.sharedService.mediaServers=l.MediaServers,this.sharedService.listProfiles=l.Profiles,this.sharedService.linkedAccounts=l.LinkedAccounts,this.sharedService.currentProfile=l.Profiles[0],this.sharedService.showSplashScreen=!0,this.userService.calledGetUserData=!0,this.menuService.getManageMenu(),this.signalIRHubService.openConnection(),this.router.navigate(["profiles"],{skipLocationChange:!1})}loginWithFacebook(){this.showLoading=!0,this.authenticationService.authenticateWithFacebook().then(t=>{console.log(t),this.showLoading=!1},t=>{console.error(t),this.showLoading=!1})}loginWithApple(){}onClose(){this.router.navigateByUrl("/landing")}showRecoverPasswordPage(){this.router.navigateByUrl("/recover")}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(W.K),n.Y36(pa),n.Y36(Ns.h),n.Y36(hs.n),n.Y36(T.qu),n.Y36(A.F0),n.Y36(w.F))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-login"]],decls:18,vars:16,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"login-container"],[1,"login-logo-container"],[1,"login-content"],[1,"login-form-container"],[1,"login-title-container"],[3,"ngIf"],[3,"showLoading"],["autocomplete","off",1,"login-form-content",3,"formGroup","ngSubmit"],["class","form-error-message",4,"ngIf"],[1,"mb-3"],[1,"login-form-field"],["id","title","matInput","","formControlName","username",3,"errorStateMatcher"],[4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"],[1,"btn","google",3,"click"],[1,"form-error-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],["id","title","matInput","","formControlName","password","type","password",3,"errorStateMatcher"],[1,"btn","btn-secondary",3,"ngClass","click"],[1,"confirm-link-account-title"],[1,"confirm-link-account-message"],[1,"confirm-link-account-message-email"]],template:function(l,f){1&l&&(n.TgZ(0,"div",0)(1,"button",1),n.NdJ("click",function(){return f.onClose()}),n._UZ(2,"img",2),n.ALo(3,"async"),n.ALo(4,"formatDataPipe"),n.qZA()(),n.TgZ(5,"div",3)(6,"div",4),n._UZ(7,"img",2),n.ALo(8,"async"),n.ALo(9,"formatDataPipe"),n.qZA(),n.TgZ(10,"div",5)(11,"div",6)(12,"div",7),n._uU(13," Inicia sesi\xf3n "),n.qZA(),n.YNc(14,Ls,20,11,"ng-template",8),n.YNc(15,ut,17,8,"ng-template",8),n.YNc(16,Wt,23,9,"ng-template",8),n.qZA()()(),n._UZ(17,"app-custom-spinner",9)),2&l&&(n.xp6(2),n.Q6J("src",n.lcZ(3,6,n.xi3(4,8,"back-screen.png","GetIconURLByKey")),n.LSH),n.xp6(5),n.Q6J("src",n.lcZ(8,11,n.xi3(9,13,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH),n.xp6(7),n.Q6J("ngIf",!f.showPasswordForm&&!f.showConfirmLinkedAccountForm),n.xp6(1),n.Q6J("ngIf",f.showPasswordForm&&!f.showConfirmLinkedAccountForm),n.xp6(1),n.Q6J("ngIf",f.showConfirmLinkedAccountForm),n.xp6(1),n.Q6J("showLoading",f.showLoading))},dependencies:[g.mk,g.O5,T._Y,T.Fj,T.JJ,T.JL,k.D,$s.Nt,Jo.KE,Jo.hX,Jo.TO,T.sg,T.u,g.Ov,d.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.form-error-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:15px;justify-content:center;overflow:hidden;padding:20px 0;text-align:center;width:100%;border-bottom-width:2px;color:#f06464}.confirm-link-account-title[_ngcontent-%COMP%]{padding:30px 0;color:#282a2d;display:flex;flex-direction:column;font-size:13px}.confirm-link-account-message[_ngcontent-%COMP%]{color:#51595e;font-family:plexeina-bold,Helvetica,sans-serif;font-size:15px;margin-bottom:30px;text-align:center}.confirm-link-account-message-email[_ngcontent-%COMP%]{color:#007bff;font-family:plexeina-bold,Helvetica,sans-serif;font-size:15px;text-align:center}.login-container[_ngcontent-%COMP%]{text-align:-webkit-center;display:block!important;padding:100px 0;width:100%;height:100%;color:#fff;position:absolute}.login-logo-container[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:700;margin-bottom:20px;display:flex;align-items:center;justify-content:center;font-size:20px;max-width:300px}.login-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.login-title-container[_ngcontent-%COMP%]{margin-bottom:10px;font-size:20px}.login-content[_ngcontent-%COMP%]{display:block;max-width:500px}.login-form-container[_ngcontent-%COMP%]{padding:40px 20px;border-radius:5px;background:white;color:#000;justify-content:center;align-items:center;margin-bottom:300px;height:100%}.login-form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-invalid-input-message[_ngcontent-%COMP%]{color:#d93025;margin-top:5px;font-size:13px}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;opacity:.9}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-right:10px}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.65}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.login-form-container[_ngcontent-%COMP%]   button.enter[_ngcontent-%COMP%]{background-color:#007bff}.login-form-container[_ngcontent-%COMP%]   button.recover[_ngcontent-%COMP%]{background-color:#2e303d}.login-form-container[_ngcontent-%COMP%]   button.google[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:2px solid rgba(0,0,0,.3)}.login-form-container[_ngcontent-%COMP%]   button.google[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#51595e}.login-form-container[_ngcontent-%COMP%]   button.facebook[_ngcontent-%COMP%]{background-color:#4267b2;color:#fff}.login-form-container[_ngcontent-%COMP%]   button.apple[_ngcontent-%COMP%]{background-color:#000;color:#fff}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]{display:block;color:#000}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-radius:5px;padding:10px;color:#000;outline:rgba(0,0,0,.3)!important;background:white;border:none;font-size:14px;opacity:.8;height:35px;border:2px solid rgba(0,0,0,.3)}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#000}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{opacity:1;border:2px solid white}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{opacity:1;border:2px solid white}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{opacity:1;border:2px solid white}.sinovad-form-error-message-container[_ngcontent-%COMP%]{color:#f44336de!important;padding-bottom:10px}.login-form-content[_ngcontent-%COMP%]{max-width:300px;width:100%}.mb-3[_ngcontent-%COMP%]{text-align:left;max-width:300px}"]})}return m})();class pi{}function Bi(m,r){if(1&m&&(n.TgZ(0,"label",19),n._UZ(1,"i",20),n._uU(2),n.qZA()),2&m){const t=n.oxw(2);n.xp6(2),n.hij(" ",t.sharedService.hasRequireErrorFormControl(t.recoverPasswordForm,"email")?"Confirma que hayas agregado el email correctamente":t.sharedService.hasErrorPatternFormControl(t.recoverPasswordForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}const wo=function(m){return{disable:m}};function Qo(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"div",8)(1,"form",9),n.NdJ("ngSubmit",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.SendRecoverPasswordEmail())}),n.TgZ(2,"div",10),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA(),n.TgZ(6,"div",11),n._uU(7," Olvido su contrase\xf1a "),n.qZA(),n.TgZ(8,"div",12)(9,"label",13),n._uU(10," Correo electr\xf3nico "),n.qZA(),n.TgZ(11,"div",14),n._UZ(12,"input",15),n.YNc(13,Bi,3,1,"label",16),n.qZA()(),n.TgZ(14,"div",12)(15,"button",17),n._uU(16,"Recuperar contrase\xf1a"),n.qZA()(),n.TgZ(17,"div",18),n._uU(18),n.qZA()()()}if(2&m){const t=n.oxw();n.xp6(1),n.Q6J("formGroup",t.recoverPasswordForm),n.xp6(2),n.Q6J("src",n.lcZ(4,5,n.xi3(5,7,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH),n.xp6(10),n.Q6J("ngIf",t.sharedService.isInvalidFormControl(t.recoverPasswordForm,"email")),n.xp6(2),n.Q6J("ngClass",n.VKq(10,wo,t.showLoading)),n.xp6(3),n.hij(" ",t.errorMessage," ")}}function os(m,r){1&m&&(n.TgZ(0,"div",21)(1,"div",22)(2,"div",10),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA(),n.TgZ(6,"div",11),n._uU(7," Confirmaci\xf3n de olvido de contrase\xf1a "),n.qZA(),n.TgZ(8,"h2"),n._uU(9,"Por favor verifique su email para recuperar su contrase\xf1a"),n.qZA()()()),2&m&&(n.xp6(3),n.Q6J("src",n.lcZ(4,1,n.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH))}let eo=(()=>{class m{constructor(t,l,f,y){this.formBuilder=t,this.router=l,this.restProvider=f,this.sharedService=y,this._window=window,this.showLoading=!1,this.recoverPasswordModel=new pi,this.sendedConfirmationEmail=!1,this.recoverPasswordForm=this.formBuilder.group({email:new T.NI("",[T.kI.required,T.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")])})}SendRecoverPasswordEmail(){this.recoverPasswordForm.valid?(this.recoverPasswordModel={Email:this.recoverPasswordForm.value.email,ResetPasswordUrl:window.location.origin+"/reset"},this.showLoading=!0,this.restProvider.executeSinovadApiService(p.yw.POST,"/users/RecoverPassword",this.recoverPasswordModel).then(t=>{this.sendedConfirmationEmail=!0,this.showLoading=!1},t=>{this.showLoading=!1,this.errorMessage=t,console.error(t)})):(this.errorMessage=void 0,this.recoverPasswordForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(T.qu),n.Y36(A.F0),n.Y36(P.C),n.Y36(w.F))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-recover-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","submit",1,"recover",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(l,f){1&l&&(n.TgZ(0,"div",0,1)(2,"button",2),n.NdJ("click",function(){return f.onClose()}),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA()(),n.TgZ(6,"div",4),n.YNc(7,Qo,19,12,"div",5),n.YNc(8,os,10,6,"div",6),n.qZA(),n._UZ(9,"app-custom-spinner",7)),2&l&&(n.xp6(3),n.Q6J("src",n.lcZ(4,4,n.xi3(5,6,"back-screen.png","GetIconURLByKey")),n.LSH),n.xp6(4),n.Q6J("ngIf",!f.sendedConfirmationEmail),n.xp6(1),n.Q6J("ngIf",f.sendedConfirmationEmail),n.xp6(1),n.Q6J("showLoading",f.showLoading))},dependencies:[g.mk,g.O5,T._Y,T.Fj,T.JJ,T.JL,k.D,T.sg,T.u,g.Ov,d.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.recover[_ngcontent-%COMP%]{background-color:#007bff}"]})}return m})();var Es=v(4440),Tr=v.n(Es);class Ro{}class $a{}function ka(m,r){1&m&&(n.TgZ(0,"label",20),n._UZ(1,"i",21),n._uU(2,"Confirma que hayas agregado el password correctamente "),n.qZA())}function Qs(m,r){1&m&&(n.TgZ(0,"label",20),n._UZ(1,"i",21),n._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),n.qZA())}const Ts=function(m){return{disable:m}};function Fa(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"div",8)(1,"form",9),n.NdJ("ngSubmit",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.confirm())}),n.TgZ(2,"div",10),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA(),n.TgZ(6,"div",11),n._uU(7," Cambiar contrase\xf1a "),n.qZA(),n.TgZ(8,"div",12)(9,"label",13),n._uU(10," Contrase\xf1a "),n.qZA(),n.TgZ(11,"div",14),n._UZ(12,"input",15),n.YNc(13,ka,3,0,"label",16),n.qZA()(),n.TgZ(14,"div",12)(15,"label",13),n._uU(16," Confirmaci\xf3n de contrase\xf1a "),n.qZA(),n.TgZ(17,"div",14),n._UZ(18,"input",17),n.YNc(19,Qs,3,0,"label",16),n.qZA()(),n.TgZ(20,"div",12)(21,"button",18),n._uU(22,"Confirmar"),n.qZA()(),n.TgZ(23,"div",19),n._uU(24),n.qZA()()()}if(2&m){const t=n.oxw();n.xp6(1),n.Q6J("formGroup",t.resetPasswordForm),n.xp6(2),n.Q6J("src",n.lcZ(4,6,n.xi3(5,8,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH),n.xp6(10),n.Q6J("ngIf",t.sharedService.isInvalidFormControl(t.resetPasswordForm,"password")&&t.sharedService.hasRequireErrorFormControl(t.resetPasswordForm,"password")),n.xp6(6),n.Q6J("ngIf",t.sharedService.isInvalidFormControl(t.resetPasswordForm,"confirmPassword")&&t.sharedService.hasRequireErrorFormControl(t.resetPasswordForm,"confirmPassword")),n.xp6(2),n.Q6J("ngClass",n.VKq(11,Ts,t.showLoading)),n.xp6(3),n.hij(" ",t.errorMessage," ")}}function Ja(m,r){1&m&&(n.TgZ(0,"div",11),n._uU(1," Cambio de contrase\xf1a "),n.qZA(),n.TgZ(2,"h2"),n._uU(3,"Se cambi\xf3 la contrase\xf1a satisfactoriamente"),n.qZA())}function Qa(m,r){1&m&&(n.TgZ(0,"div",11),n._uU(1," Validaci\xf3n de Token "),n.qZA(),n.TgZ(2,"h2",25),n._uU(3,"Token inv\xe1lido"),n.qZA())}function qs(m,r){if(1&m&&(n.TgZ(0,"div",22)(1,"div",23)(2,"div",10),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA(),n.YNc(6,Ja,4,0,"ng-template",24),n.YNc(7,Qa,4,0,"ng-template",24),n.qZA()()),2&m){const t=n.oxw();n.xp6(3),n.Q6J("src",n.lcZ(4,3,n.xi3(5,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH),n.xp6(3),n.Q6J("ngIf",t.showResetPasswordSuccessMessage),n.xp6(1),n.Q6J("ngIf",t.showInvalidTokenMessage)}}let Sl=(()=>{class m{constructor(t,l,f,y,N){this.formBuilder=t,this.router=l,this.activeRoute=f,this.restProvider=y,this.sharedService=N,this._window=window,this.showLoading=!1,this.resetPasswordModel=new Ro,this.showResetPasswordForm=!1,this.showInvalidTokenMessage=!1,this.showResetPasswordSuccessMessage=!1,this.resetPasswordForm=this.formBuilder.group({password:new T.NI("",[T.kI.required]),confirmPassword:new T.NI("",[T.kI.required])})}ngOnInit(){let t=this.activeRoute.snapshot.params.base64Data;if(null!=t)try{let y=Tr().decode(t);var l=JSON.parse(y);if(this.resetPasswordToken=l.ResetPasswordToken,this.userId=l.UserId,null!=this.resetPasswordToken&&null!=this.userId){this.showLoading=!0;var f=new $a;f.ResetPasswordToken=this.resetPasswordToken,f.UserId=this.userId,this.restProvider.executeSinovadApiService(p.yw.POST,"/users/ValidateResetPasswordToken",f).then(N=>{this.showResetPasswordForm=!0,this.showLoading=!1},N=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=N,console.error(N)})}else this.showInvalidTokenMessage=!0}catch{this.showInvalidTokenMessage=!0}else this.router.navigate(["home"],{skipLocationChange:!1})}confirm(){this.resetPasswordForm.valid?(this.showLoading=!0,this.resetPasswordModel={ResetPasswordToken:this.resetPasswordToken,UserId:this.userId,Password:this.resetPasswordForm.value.password,ConfirmPassword:this.resetPasswordForm.value.confirmPassword},this.restProvider.executeSinovadApiService(p.yw.POST,"/users/ResetPassword",this.resetPasswordModel).then(t=>{this.showResetPasswordSuccessMessage=!0,this.showResetPasswordForm=!1,this.showLoading=!1},t=>{this.showLoading=!1,this.errorMessage=t,console.error(t)})):(this.errorMessage=void 0,this.resetPasswordForm.markAllAsTouched())}onClickCloseButton(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(T.qu),n.Y36(A.F0),n.Y36(A.gz),n.Y36(P.C),n.Y36(w.F))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-reset-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","password","formControlName","password"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","password","formControlName","confirmPassword"],["type","submit",1,"confirm",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[3,"ngIf"],[1,"error"]],template:function(l,f){1&l&&(n.TgZ(0,"div",0,1)(2,"button",2),n.NdJ("click",function(){return f.onClickCloseButton()}),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA()(),n.TgZ(6,"div",4),n.YNc(7,Fa,25,13,"div",5),n.YNc(8,qs,8,8,"div",6),n.qZA(),n._UZ(9,"app-custom-spinner",7)),2&l&&(n.xp6(3),n.Q6J("src",n.lcZ(4,4,n.xi3(5,6,"back-screen.png","GetIconURLByKey")),n.LSH),n.xp6(4),n.Q6J("ngIf",f.showResetPasswordForm),n.xp6(1),n.Q6J("ngIf",!f.showResetPasswordForm&&(f.showInvalidTokenMessage||f.showResetPasswordSuccessMessage)),n.xp6(1),n.Q6J("showLoading",f.showLoading))},dependencies:[g.mk,g.O5,T._Y,T.Fj,T.JJ,T.JL,k.D,T.sg,T.u,g.Ov,d.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.confirm[_ngcontent-%COMP%]{background-color:#007bff}"]})}return m})();class Cl{}function go(m,r){if(1&m&&(n.TgZ(0,"h2",9),n._uU(1),n.qZA()),2&m){const t=n.oxw();n.xp6(1),n.Oqu(t.errorMessage)}}function Yl(m,r){1&m&&(n.TgZ(0,"h2"),n._uU(1,"Su correo ha sido confirmado, ya puede iniciar sesi\xf3n"),n.qZA())}let qa=(()=>{class m{constructor(t,l,f){this.router=t,this.activeRoute=l,this.restProvider=f,this._window=window,this.showLoading=!1,this.showInvalidTokenMessage=!1,this.showSuccessMessage=!1}ngOnInit(){let t=this.activeRoute.snapshot.params.base64Data;if(null!=t)try{let y=Tr().decode(t);var l=JSON.parse(y);if(l.ConfirmEmailToken){this.showLoading=!0;var f=new Cl;f.ConfirmEmailToken=l.ConfirmEmailToken,f.UserId=l.UserId,this.restProvider.executeSinovadApiService(p.yw.POST,"/users/ValidateConfirmEmailToken",f).then(N=>{this.showLoading=!1,this.showSuccessMessage=!0},N=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=N,console.error(N)})}else this.router.navigate(["home"],{skipLocationChange:!1})}catch{this.router.navigate(["home"],{skipLocationChange:!1})}else this.router.navigate(["home"],{skipLocationChange:!1})}onClose(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(A.F0),n.Y36(A.gz),n.Y36(P.C))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-confirm-email"]],decls:16,vars:14,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[3,"ngIf"],[1,"error"]],template:function(l,f){1&l&&(n.TgZ(0,"div",0)(1,"button",1),n.NdJ("click",function(){return f.onClose()}),n._UZ(2,"img",2),n.ALo(3,"async"),n.ALo(4,"formatDataPipe"),n.qZA()(),n.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),n._UZ(9,"img",2),n.ALo(10,"async"),n.ALo(11,"formatDataPipe"),n.qZA(),n.TgZ(12,"div",7),n._uU(13," Confirmaci\xf3n de Email "),n.qZA(),n.YNc(14,go,2,1,"ng-template",8),n.YNc(15,Yl,2,0,"ng-template",8),n.qZA()()()),2&l&&(n.xp6(2),n.Q6J("src",n.lcZ(3,4,n.xi3(4,6,"back-screen.png","GetIconURLByKey")),n.LSH),n.xp6(7),n.Q6J("src",n.lcZ(10,9,n.xi3(11,11,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH),n.xp6(5),n.Q6J("ngIf",f.showInvalidTokenMessage),n.xp6(1),n.Q6J("ngIf",f.showSuccessMessage))},dependencies:[g.O5,g.Ov,d.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}"]})}return m})(),vc=(()=>{class m{constructor(t,l){this.router=t,this.sharedService=l}ngOnInit(){}goInitialPage(){this.router.navigateByUrl(null!=this.sharedService.apiToken?"/home":"/landing").then(l=>{},l=>{console.error(l)})}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(A.F0),n.Y36(w.F))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-not-found"]],decls:12,vars:6,consts:[[1,"d-flex","align-items-center","justify-content-center","vh-100"],[1,"sinovad-page-not-found-content","text-center"],[1,"sinovad-logo-container"],[3,"src"],[1,"fs-3"],[1,"lead"],[1,"btn","btn-primary",3,"click"]],template:function(l,f){1&l&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA(),n.TgZ(6,"p",4),n._uU(7,"No encontramos la p\xe1gina que esta buscando"),n.qZA(),n.TgZ(8,"p",5),n._uU(9," Has click en el siguiente boton para ir a la p\xe1gina de inicio de Sinovad Stream "),n.qZA(),n.TgZ(10,"button",6),n.NdJ("click",function(){return f.goInitialPage()}),n._uU(11,"Inicio"),n.qZA()()()),2&l&&(n.xp6(3),n.Q6J("src",n.lcZ(4,1,n.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH))},dependencies:[g.Ov,d.A],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black;color:#fff}.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:100px;padding:10px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:350px}@media only screen and (max-width: 767px){.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:unset}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}}"]})}return m})();var Fs=v(1044);const yc=["itemListContainer"];function Ba(m,r){if(1&m&&(n.TgZ(0,"div",14)(1,"span"),n._uU(2),n.qZA()()),2&m){const t=n.oxw().$implicit;n.xp6(2),n.Oqu(t.Title)}}function Ua(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"div",10)(1,"button",11),n.NdJ("click",function(){const y=n.CHM(t).$implicit,N=n.oxw(2);return n.KtG(N.onClickItem(y))}),n._UZ(2,"img",12),n.qZA(),n.YNc(3,Ba,3,1,"div",13),n.qZA()}if(2&m){const t=r.$implicit,l=n.oxw(2);n.xp6(1),n.hYB("id","item_",t.TvSerieId?t.TvSerie_ID:t.MovieId,"_",t.MediaType,""),n.xp6(1),n.Q6J("src",l.sharedService.getUrlByItemMovieDataBase(t),n.LSH),n.xp6(1),n.Q6J("ngIf",!t.Subtitle)}}function Xs(m,r){if(1&m&&(n.TgZ(0,"section",4)(1,"div",5)(2,"div",6,7)(4,"div",8,9),n.YNc(6,Ua,4,4,"ng-template",3),n.qZA()()()()),2&m){const t=r.$implicit;n.MGl("id","section_search_",r.index,""),n.xp6(6),n.Q6J("ngForOf",t)}}let zl=(()=>{class m{constructor(t,l,f){this.libraryService=t,this.router=l,this.sharedService=f,this.listItems=[],this.listGroupItems=[]}ngOnInit(){this.getItemsBySearch()}getItemsBySearch(){""!=this.searchText.trim()?this.sharedService.mediaServers.forEach(t=>{t.isSecureConnection&&this.libraryService.getAllMediaItemsBySearchQuery(t.Url,this.searchText).then(l=>{this.listItems=this.listItems.concat(l),this.buildGroupItems(this.listItems)},l=>{console.error(l)})}):(this.listItems=[],this.listGroupItems=[])}buildGroupItems(t){if(t&&t.length>0){let N=window.innerWidth>=2048?250:180;var l=Math.floor(this.container.nativeElement.offsetWidth/N),f=t.reduce((H,ee,ae)=>{var We=Math.floor(ae/l)+1;return H[`row${We}`]=H[`row${We}`]||[],H[`row${We}`].push(ee),H},{}),y=Object.keys(f).map(function(H){return f[H]});this.listGroupItems=y}else this.listGroupItems=[]}onClickItem(t){this.getMediaDetail(t)}getMediaDetail(t){var l=this.sharedService.mediaServers.find(f=>f.Id==t.MediaServerId);this.router.navigateByUrl("/media/server/"+l.Guid+"/libraries/"+t.LibraryId+"/detail?mediaType="+t.MediaTypeId+"&mediaId="+t.MediaItemId)}onResize(t){this.buildGroupItems(this.listItems)}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(Fs.$),n.Y36(A.F0),n.Y36(w.F))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-vertical-item-list"]],viewQuery:function(l,f){if(1&l&&n.Gf(yc,5),2&l){let y;n.iGM(y=n.CRH())&&(f.container=y.first)}},hostBindings:function(l,f){1&l&&n.NdJ("resize",function(N){return f.onResize(N)},!1,n.Jf7)},inputs:{searchText:"searchText"},decls:4,vars:3,consts:[[1,"sinovad-vertical-list-content"],["itemListContainer",""],[1,"sinovad-vertical-list-second-content"],["ngFor","",3,"ngForOf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-container"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["referrerpolicy","no-referrer","onError","this.src='assets/img/no-image-available.jpg'",3,"src"],["class","sinovad-item-caption-container",4,"ngIf"],[1,"sinovad-item-caption-container"]],template:function(l,f){1&l&&(n.TgZ(0,"div",0,1)(2,"div",2),n.YNc(3,Xs,7,2,"ng-template",3),n.qZA()()),2&l&&(n.Udp("height","100%"),n.xp6(3),n.Q6J("ngForOf",f.listGroupItems))},dependencies:[g.sg,g.O5],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px;justify-content:center}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex;gap:20px}.sinovad-item-caption-container[_ngcontent-%COMP%]{color:#fff;font-weight:700;padding-top:10px;text-align:center}.sinovad-vertical-list-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-vertical-list-second-content[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:160px;width:160px;height:200px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-content[_ngcontent-%COMP%]{gap:20px}.sinovad-item-container[_ngcontent-%COMP%]{padding:0;margin:0;width:min-content;border-radius:6px}@media only screen and (min-width: 2048px){.sinovad-item-container[_ngcontent-%COMP%]{padding-right:0px 10px 0px 0px;margin:6px}.sinovad-list-content[_ngcontent-%COMP%]{gap:unset}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return m})();function Xa(m,r){if(1&m&&(n.TgZ(0,"div",7)(1,"h2"),n._uU(2),n.qZA()()),2&m){const t=n.oxw();n.xp6(2),n.hij('Resultados para "',t.searchText,'"')}}let el=(()=>{class m{constructor(t,l,f){this.router=t,this.route=l,this.sharedService=f,this.searchText="",this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){let t=this.route.snapshot.queryParams.text;null!=t&&""!=t?this.searchText=t:this.router.navigate(["home"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(A.F0),n.Y36(A.gz),n.Y36(w.F))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-search-view"]],decls:8,vars:4,consts:[[1,"sinovad-search-view-container"],["container",""],[1,"sinovad-search-view-title"],["header",""],["class","sinovad-search-view-title-content",4,"ngIf"],["itemListContainer",""],[3,"searchText"],[1,"sinovad-search-view-title-content"]],template:function(l,f){if(1&l&&(n.TgZ(0,"div",0,1)(2,"div",2,3),n.YNc(4,Xa,3,1,"div",4),n.qZA(),n.TgZ(5,"div",null,5),n._UZ(7,"app-vertical-item-list",6),n.qZA()()),2&l){const y=n.MAs(3);n.xp6(4),n.Q6J("ngIf",null!=f.searchText&&""!=f.searchText),n.xp6(1),n.Udp("height","calc(100% - "+y.offsetHeight+"px)"),n.xp6(2),n.Q6J("searchText",f.searchText)}},dependencies:[g.O5,zl],styles:[".sinovad-search-view-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;background:#2d3744;overflow:auto}.sinovad-search-view-title[_ngcontent-%COMP%]{color:#fff;margin-left:20px;margin-right:20px}.sinovad-search-view-title[_ngcontent-%COMP%]   .sinovad-search-view-title-content[_ngcontent-%COMP%]{height:100%;border-bottom:1px solid #dedede;width:100%}"]})}return m})();var Bs=v(5094),tl=v(2372),Ga=v(4753);function nl(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var l,f,y,N,H,ss={exports:{}};l=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,f=/^(?=([^\/?#]*))\1([^]*)$/,y=/(?:\/|^)\.(?=\/)/g,N=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,ss.exports=H={buildAbsoluteURL:function(ee,ae,We){if(We=We||{},ee=ee.trim(),!(ae=ae.trim())){if(!We.alwaysNormalize)return ee;var Ze=H.parseURL(ee);if(!Ze)throw new Error("Error trying to parse base URL.");return Ze.path=H.normalizePath(Ze.path),H.buildURLFromParts(Ze)}var Dt=H.parseURL(ae);if(!Dt)throw new Error("Error trying to parse relative URL.");if(Dt.scheme)return We.alwaysNormalize?(Dt.path=H.normalizePath(Dt.path),H.buildURLFromParts(Dt)):ae;var wt=H.parseURL(ee);if(!wt)throw new Error("Error trying to parse base URL.");if(!wt.netLoc&&wt.path&&"/"!==wt.path[0]){var Ht=f.exec(wt.path);wt.netLoc=Ht[1],wt.path=Ht[2]}wt.netLoc&&!wt.path&&(wt.path="/");var zt={scheme:wt.scheme,netLoc:Dt.netLoc,path:null,params:Dt.params,query:Dt.query,fragment:Dt.fragment};if(!Dt.netLoc&&(zt.netLoc=wt.netLoc,"/"!==Dt.path[0]))if(Dt.path){var on=wt.path,Sn=on.substring(0,on.lastIndexOf("/")+1)+Dt.path;zt.path=H.normalizePath(Sn)}else zt.path=wt.path,Dt.params||(zt.params=wt.params,Dt.query||(zt.query=wt.query));return null===zt.path&&(zt.path=We.alwaysNormalize?H.normalizePath(Dt.path):Dt.path),H.buildURLFromParts(zt)},parseURL:function(ee){var ae=l.exec(ee);return ae?{scheme:ae[1]||"",netLoc:ae[2]||"",path:ae[3]||"",params:ae[4]||"",query:ae[5]||"",fragment:ae[6]||""}:null},normalizePath:function(ee){for(ee=ee.split("").reverse().join("").replace(y,"");ee.length!==(ee=ee.replace(N,"")).length;);return ee.split("").reverse().join("")},buildURLFromParts:function(ee){return ee.scheme+ee.netLoc+ee.path+ee.params+ee.query+ee.fragment}};var Aa=ss.exports;function Ss(m,r){var t=Object.keys(m);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(m);r&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(m,f).enumerable})),t.push.apply(t,l)}return t}function $i(m){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Ss(Object(t),!0).forEach(function(l){Us(m,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(t)):Ss(Object(t)).forEach(function(l){Object.defineProperty(m,l,Object.getOwnPropertyDescriptor(t,l))})}return m}function Us(m,r,t){return r=function pt(m){var r=function Vt(m,r){if("object"!=typeof m||null===m)return m;var t=m[Symbol.toPrimitive];if(void 0!==t){var l=t.call(m,r||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(m)}(m,"string");return"symbol"==typeof r?r:String(r)}(r),r in m?Object.defineProperty(m,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):m[r]=t,m}function Ge(){return Ge=Object.assign?Object.assign.bind():function(m){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(m[l]=t[l])}return m},Ge.apply(this,arguments)}const Mt=Number.isFinite||function(m){return"number"==typeof m&&isFinite(m)};let ct=function(m){return m.MEDIA_ATTACHING="hlsMediaAttaching",m.MEDIA_ATTACHED="hlsMediaAttached",m.MEDIA_DETACHING="hlsMediaDetaching",m.MEDIA_DETACHED="hlsMediaDetached",m.BUFFER_RESET="hlsBufferReset",m.BUFFER_CODECS="hlsBufferCodecs",m.BUFFER_CREATED="hlsBufferCreated",m.BUFFER_APPENDING="hlsBufferAppending",m.BUFFER_APPENDED="hlsBufferAppended",m.BUFFER_EOS="hlsBufferEos",m.BUFFER_FLUSHING="hlsBufferFlushing",m.BUFFER_FLUSHED="hlsBufferFlushed",m.MANIFEST_LOADING="hlsManifestLoading",m.MANIFEST_LOADED="hlsManifestLoaded",m.MANIFEST_PARSED="hlsManifestParsed",m.LEVEL_SWITCHING="hlsLevelSwitching",m.LEVEL_SWITCHED="hlsLevelSwitched",m.LEVEL_LOADING="hlsLevelLoading",m.LEVEL_LOADED="hlsLevelLoaded",m.LEVEL_UPDATED="hlsLevelUpdated",m.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",m.LEVELS_UPDATED="hlsLevelsUpdated",m.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",m.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",m.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",m.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",m.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",m.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",m.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",m.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",m.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",m.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",m.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",m.CUES_PARSED="hlsCuesParsed",m.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",m.INIT_PTS_FOUND="hlsInitPtsFound",m.FRAG_LOADING="hlsFragLoading",m.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",m.FRAG_LOADED="hlsFragLoaded",m.FRAG_DECRYPTED="hlsFragDecrypted",m.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",m.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",m.FRAG_PARSING_METADATA="hlsFragParsingMetadata",m.FRAG_PARSED="hlsFragParsed",m.FRAG_BUFFERED="hlsFragBuffered",m.FRAG_CHANGED="hlsFragChanged",m.FPS_DROP="hlsFpsDrop",m.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",m.ERROR="hlsError",m.DESTROYING="hlsDestroying",m.KEY_LOADING="hlsKeyLoading",m.KEY_LOADED="hlsKeyLoaded",m.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",m.BACK_BUFFER_REACHED="hlsBackBufferReached",m}({}),In=function(m){return m.NETWORK_ERROR="networkError",m.MEDIA_ERROR="mediaError",m.KEY_SYSTEM_ERROR="keySystemError",m.MUX_ERROR="muxError",m.OTHER_ERROR="otherError",m}({}),yn=function(m){return m.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",m.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",m.KEY_SYSTEM_NO_SESSION="keySystemNoSession",m.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",m.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",m.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",m.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",m.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",m.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",m.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",m.MANIFEST_LOAD_ERROR="manifestLoadError",m.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",m.MANIFEST_PARSING_ERROR="manifestParsingError",m.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",m.LEVEL_EMPTY_ERROR="levelEmptyError",m.LEVEL_LOAD_ERROR="levelLoadError",m.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",m.LEVEL_PARSING_ERROR="levelParsingError",m.LEVEL_SWITCH_ERROR="levelSwitchError",m.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",m.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",m.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",m.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",m.FRAG_LOAD_ERROR="fragLoadError",m.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",m.FRAG_DECRYPT_ERROR="fragDecryptError",m.FRAG_PARSING_ERROR="fragParsingError",m.FRAG_GAP="fragGap",m.REMUX_ALLOC_ERROR="remuxAllocError",m.KEY_LOAD_ERROR="keyLoadError",m.KEY_LOAD_TIMEOUT="keyLoadTimeOut",m.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",m.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",m.BUFFER_APPEND_ERROR="bufferAppendError",m.BUFFER_APPENDING_ERROR="bufferAppendingError",m.BUFFER_STALLED_ERROR="bufferStalledError",m.BUFFER_FULL_ERROR="bufferFullError",m.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",m.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",m.INTERNAL_EXCEPTION="internalException",m.INTERNAL_ABORTED="aborted",m.UNKNOWN="unknown",m}({});const mi=function(){},Ji={trace:mi,debug:mi,log:mi,warn:mi,info:mi,error:mi};let Wi=Ji;const An=Wi,Ir=/^(\d+)x(\d+)$/,Mo=/(.+?)=(".*?"|.*?)(?:,|$)/g;class vi{constructor(r){"string"==typeof r&&(r=vi.parseAttrList(r));for(const t in r)r.hasOwnProperty(t)&&("X-"===t.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(t)),this[t]=r[t])}decimalInteger(r){const t=parseInt(this[r],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(r){if(this[r]){let t=(this[r]||"0x").slice(2);t=(1&t.length?"0":"")+t;const l=new Uint8Array(t.length/2);for(let f=0;f<t.length/2;f++)l[f]=parseInt(t.slice(2*f,2*f+2),16);return l}return null}hexadecimalIntegerAsNumber(r){const t=parseInt(this[r],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(r){return parseFloat(this[r])}optionalFloat(r,t){const l=this[r];return l?parseFloat(l):t}enumeratedString(r){return this[r]}bool(r){return"YES"===this[r]}decimalResolution(r){const t=Ir.exec(this[r]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(r){let t;const l={};for(Mo.lastIndex=0;null!==(t=Mo.exec(r));){let y=t[2];0===y.indexOf('"')&&y.lastIndexOf('"')===y.length-1&&(y=y.slice(1,-1)),l[t[1].trim()]=y}return l}}function qo(m){return"SCTE35-OUT"===m||"SCTE35-IN"===m}class oo{constructor(r,t){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,t){const l=t.attr;for(const f in l)if(Object.prototype.hasOwnProperty.call(r,f)&&r[f]!==l[f]){An.warn(`DATERANGE tag attribute: "${f}" does not match for tags with ID: "${r.ID}"`),this._badValueForSameId=f;break}r=Ge(new vi({}),l,r)}if(this.attr=r,this._startDate=new Date(r["START-DATE"]),"END-DATE"in this.attr){const l=new Date(this.attr["END-DATE"]);Mt(l.getTime())&&(this._endDate=l)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const r=this.duration;return null!==r?new Date(this._startDate.getTime()+1e3*r):null}get duration(){if("DURATION"in this.attr){const r=this.attr.decimalFloatingPoint("DURATION");if(Mt(r))return r}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&Mt(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class Xo{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}class ta{constructor(r){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={audio:null,video:null,audiovideo:null},this.baseurl=r}setByteRange(r,t){const l=r.split("@",2),f=[];f[0]=1===l.length?t?t.byteRangeEndOffset:0:parseInt(l[1]),f[1]=parseInt(l[0])+f[0],this._byteRange=f}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Aa.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(r){this._url=r}}class Kr extends ta{constructor(r,t){super(t),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new Xo,this.urlId=0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.type=r}get decryptdata(){const{levelkeys:r}=this;if(!r&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{const l=Object.keys(this.levelkeys);if(1===l.length)return this._decryptdata=this.levelkeys[l[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime||!Mt(this.programDateTime))return null;const r=Mt(this.duration)?this.duration:0;return this.programDateTime+1e3*r}get encrypted(){var r;if(null!=(r=this._decryptdata)&&r.encrypted)return!0;if(this.levelkeys){const t=Object.keys(this.levelkeys),l=t.length;if(l>1||1===l&&this.levelkeys[t[0]].encrypted)return!0}return!1}setKeyFormat(r){if(this.levelkeys){const t=this.levelkeys[r];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}}abortRequests(){var r,t;null==(r=this.loader)||r.abort(),null==(t=this.keyLoader)||t.abort()}setElementaryStreamInfo(r,t,l,f,y,N=!1){const{elementaryStreams:H}=this,ee=H[r];ee?(ee.startPTS=Math.min(ee.startPTS,t),ee.endPTS=Math.max(ee.endPTS,l),ee.startDTS=Math.min(ee.startDTS,f),ee.endDTS=Math.max(ee.endDTS,y)):H[r]={startPTS:t,endPTS:l,startDTS:f,endDTS:y,partial:N}}clearElementaryStreamInfo(){const{elementaryStreams:r}=this;r.audio=null,r.video=null,r.audiovideo=null}}class bc extends ta{constructor(r,t,l,f,y){super(l),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new Xo,this.duration=r.decimalFloatingPoint("DURATION"),this.gap=r.bool("GAP"),this.independent=r.bool("INDEPENDENT"),this.relurl=r.enumeratedString("URI"),this.fragment=t,this.index=f;const N=r.enumeratedString("BYTERANGE");N&&this.setByteRange(N,y),y&&(this.fragOffset=y.fragOffset+y.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:r}=this;return!!(r.audio||r.video||r.audiovideo)}}class Zl{constructor(r){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=r}reloaded(r){if(!r)return this.advanced=!0,void(this.updated=!0);const t=this.lastPartSn-r.lastPartSn,l=this.lastPartIndex-r.lastPartIndex;this.updated=this.endSN!==r.endSN||!!l||!!t,this.advanced=this.endSN>r.endSN||t>0||0===t&&l>0,this.misses=this.updated||this.advanced?Math.floor(.6*r.misses):r.misses+1,this.availabilityDelay=r.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&Mt(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const r=this.driftEndTime-this.driftStartTime;return r>0?1e3*(this.driftEnd-this.driftStart)/r:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var r;return null!=(r=this.partList)&&r.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var r;return null!=(r=this.fragments)&&r.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var r;return null!=(r=this.partList)&&r.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var r;return null!=(r=this.partList)&&r.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function Ha(m){return Uint8Array.from(atob(m),r=>r.charCodeAt(0))}function ja(m){return Uint8Array.from(unescape(encodeURIComponent(m)),r=>r.charCodeAt(0))}var pr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},gr_FAIRPLAY="com.apple.streamingkeydelivery",gr_PLAYREADY="com.microsoft.playready",gr_WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function Hc(m){switch(m){case gr_FAIRPLAY:return pr.FAIRPLAY;case gr_PLAYREADY:return pr.PLAYREADY;case gr_WIDEVINE:return pr.WIDEVINE;case"org.w3.clearkey":return pr.CLEARKEY}}function Al(m){switch(m){case pr.FAIRPLAY:return gr_FAIRPLAY;case pr.PLAYREADY:return gr_PLAYREADY;case pr.WIDEVINE:return gr_WIDEVINE;case pr.CLEARKEY:return"org.w3.clearkey"}}function Wr(m){const{drmSystems:r,widevineLicenseUrl:t}=m,l=r?[pr.FAIRPLAY,pr.WIDEVINE,pr.PLAYREADY,pr.CLEARKEY].filter(f=>!!r[f]):[];return!l[pr.WIDEVINE]&&t&&l.push(pr.WIDEVINE),l}const xa=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function to(m,r,t){return Uint8Array.prototype.slice?m.slice(r,t):new Uint8Array(Array.prototype.slice.call(m,r,t))}const ms=(m,r)=>r+10<=m.length&&73===m[r]&&68===m[r+1]&&51===m[r+2]&&m[r+3]<255&&m[r+4]<255&&m[r+6]<128&&m[r+7]<128&&m[r+8]<128&&m[r+9]<128,rl=(m,r)=>r+10<=m.length&&51===m[r]&&68===m[r+1]&&73===m[r+2]&&m[r+3]<255&&m[r+4]<255&&m[r+6]<128&&m[r+7]<128&&m[r+8]<128&&m[r+9]<128,Sr=(m,r)=>{const t=r;let l=0;for(;ms(m,r);)l+=10,l+=as(m,r+6),rl(m,r+10)&&(l+=10),r+=l;if(l>0)return m.subarray(t,t+l)},as=(m,r)=>{let t=0;return t=(127&m[r])<<21,t|=(127&m[r+1])<<14,t|=(127&m[r+2])<<7,t|=127&m[r+3],t},Lo=(m,r)=>ms(m,r)&&as(m,r+6)+10<=m.length-r,ol=m=>m&&"PRIV"===m.key&&"com.apple.streaming.transportStreamTimestamp"===m.info,xl=m=>{const r=String.fromCharCode(m[0],m[1],m[2],m[3]),t=as(m,4);return{type:r,size:t,data:m.subarray(10,10+t)}},Ql=m=>{let r=0;const t=[];for(;ms(m,r);){const l=as(m,r+6);r+=10;const f=r+l;for(;r+8<f;){const y=xl(m.subarray(r)),N=sl(y);N&&t.push(N),r+=y.size+10}rl(m,r)&&(r+=10)}return t},sl=m=>"PRIV"===m.type?Il(m):"W"===m.type[0]?al(m):ga(m),Il=m=>{if(m.size<2)return;const r=ps(m.data,!0),t=new Uint8Array(m.data.subarray(r.length+1));return{key:m.type,info:r,data:t.buffer}},ga=m=>{if(m.size<2)return;if("TXXX"===m.type){let t=1;const l=ps(m.data.subarray(t),!0);t+=l.length+1;const f=ps(m.data.subarray(t));return{key:m.type,info:l,data:f}}const r=ps(m.data.subarray(1));return{key:m.type,data:r}},al=m=>{if("WXXX"===m.type){if(m.size<2)return;let t=1;const l=ps(m.data.subarray(t),!0);t+=l.length+1;const f=ps(m.data.subarray(t));return{key:m.type,info:l,data:f}}const r=ps(m.data);return{key:m.type,data:r}},na=m=>{if(8===m.data.byteLength){const r=new Uint8Array(m.data);let l=(r[4]<<23)+(r[5]<<15)+(r[6]<<7)+r[7];return l/=45,1&r[3]&&(l+=47721858.84),Math.round(l)}},ps=(m,r=!1)=>{const t=function Tc(){return!ql&&typeof self.TextDecoder<"u"&&(ql=new self.TextDecoder("utf-8")),ql}();if(t){const ae=t.decode(m);if(r){const We=ae.indexOf("\0");return-1!==We?ae.substring(0,We):ae}return ae.replace(/\0/g,"")}const l=m.length;let f,y,N,H="",ee=0;for(;ee<l;){if(f=m[ee++],0===f&&r)return H;if(0!==f&&3!==f)switch(f>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:H+=String.fromCharCode(f);break;case 12:case 13:y=m[ee++],H+=String.fromCharCode((31&f)<<6|63&y);break;case 14:y=m[ee++],N=m[ee++],H+=String.fromCharCode((15&f)<<12|(63&y)<<6|(63&N)<<0)}}return H};let ql;const ia_hexDump=function(m){let r="";for(let t=0;t<m.length;t++){let l=m[t].toString(16);l.length<2&&(l="0"+l),r+=l}return r},wl=Math.pow(2,32)-1,jc=[].push,Sc={video:1,audio:2,id3:3,text:4};function ko(m){return String.fromCharCode.apply(null,m)}function Vo(m,r){const t=m[r]<<8|m[r+1];return t<0?65536+t:t}function Ai(m,r){const t=we(m,r);return t<0?4294967296+t:t}function we(m,r){return m[r]<<24|m[r+1]<<16|m[r+2]<<8|m[r+3]}function it(m,r,t){m[r]=t>>24,m[r+1]=t>>16&255,m[r+2]=t>>8&255,m[r+3]=255&t}function _e(m,r){const t=[];if(!r.length)return t;const l=m.byteLength;for(let f=0;f<l;){const y=Ai(m,f),H=y>1?f+y:l;if(ko(m.subarray(f+4,f+8))===r[0])if(1===r.length)t.push(m.subarray(f+8,H));else{const ee=_e(m.subarray(f+8,H),r.slice(1));ee.length&&jc.apply(t,ee)}f=H}return t}function Je(m){const r=[],t=m[0];let l=8;const f=Ai(m,l);l+=4,l+=0===t?8:16,l+=2;let H=m.length+0;const ee=Vo(m,l);l+=2;for(let ae=0;ae<ee;ae++){let We=l;const Ze=Ai(m,We);We+=4;const Dt=2147483647&Ze;if((2147483648&Ze)>>>31==1)return An.warn("SIDX has hierarchical references (not supported)"),null;const Ht=Ai(m,We);We+=4,r.push({referenceSize:Dt,subsegmentDuration:Ht,info:{duration:Ht/f,start:H,end:H+Dt-1}}),H+=Dt,We+=4,l=We}return{earliestPresentationTime:0,timescale:f,version:t,referencesCount:ee,references:r}}function kt(m){const r=[],t=_e(m,["moov","trak"]);for(let f=0;f<t.length;f++){const y=t[f],N=_e(y,["tkhd"])[0];if(N){let H=N[0],ee=0===H?12:20;const ae=Ai(N,ee),We=_e(y,["mdia","mdhd"])[0];if(We){H=We[0],ee=0===H?12:20;const Ze=Ai(We,ee),Dt=_e(y,["mdia","hdlr"])[0];if(Dt){const Ht={soun:"audio",vide:"video"}[ko(Dt.subarray(8,12))];if(Ht){const zt=_e(y,["mdia","minf","stbl","stsd"])[0];let on;zt&&(on=ko(zt.subarray(12,16))),r[ae]={timescale:Ze,type:Ht},r[Ht]={timescale:Ze,id:ae,codec:on}}}}}}return _e(m,["moov","mvex","trex"]).forEach(f=>{const y=Ai(f,4),N=r[y];N&&(N.default={duration:Ai(f,12),flags:Ai(f,20)})}),r}function tn(m){const r=_e(m,["schm"])[0];if(r){const t=ko(r.subarray(4,8));if("cbcs"===t||"cenc"===t)return _e(m,["schi","tenc"])[0]}return An.error("[eme] missing 'schm' box"),null}function Oi(m){const r=Ai(m,0);let t=8;1&r&&(t+=4),4&r&&(t+=4);let l=0;const f=Ai(m,4);for(let y=0;y<f;y++)256&r&&(l+=Ai(m,t),t+=4),512&r&&(t+=4),1024&r&&(t+=4),2048&r&&(t+=4);return l}function so(m,r){const t=new Uint8Array(m.length+r.length);return t.set(m),t.set(r,m.length),t}function ra(m,r){const t=[],l=r.samples,f=r.timescale,y=r.id;let N=!1;return _e(l,["moof"]).map(ee=>{const ae=ee.byteOffset-8;_e(ee,["traf"]).map(Ze=>{const Dt=_e(Ze,["tfdt"]).map(wt=>{const Ht=wt[0];let zt=Ai(wt,4);return 1===Ht&&(zt*=Math.pow(2,32),zt+=Ai(wt,8)),zt/f})[0];return void 0!==Dt&&(m=Dt),_e(Ze,["tfhd"]).map(wt=>{const Ht=Ai(wt,4),zt=16777215&Ai(wt,0);let Ln=0;const $n=0!=(16&zt);let zn=0;const ui=0!=(32&zt);let ei=8;Ht===y&&(0!=(1&zt)&&(ei+=8),0!=(2&zt)&&(ei+=4),0!=(8&zt)&&(Ln=Ai(wt,ei),ei+=4),$n&&(zn=Ai(wt,ei),ei+=4),ui&&(ei+=4),"video"===r.type&&(N=function Cs(m){if(!m)return!1;const r=m.indexOf("."),t=r<0?m:m.substring(0,r);return"hvc1"===t||"hev1"===t||"dvh1"===t||"dvhe"===t}(r.codec)),_e(Ze,["trun"]).map(gi=>{const Ci=gi[0],Xn=16777215&Ai(gi,0),zi=0!=(1&Xn);let Pi=0;const Hr=0!=(4&Xn),Vs=0!=(256&Xn);let yo=0;const yi=0!=(512&Xn);let xi=0;const ai=0!=(1024&Xn),bi=0!=(2048&Xn);let Xi=0;const Lr=Ai(gi,4);let lr=8;zi&&(Pi=Ai(gi,lr),lr+=4),Hr&&(lr+=4);let uo=Pi+ae;for(let Pr=0;Pr<Lr;Pr++){if(Vs?(yo=Ai(gi,lr),lr+=4):yo=Ln,yi?(xi=Ai(gi,lr),lr+=4):xi=zn,ai&&(lr+=4),bi&&(Xi=0===Ci?Ai(gi,lr):we(gi,lr),lr+=4),"video"===r.type){let Da=0;for(;Da<xi;){const ys=Ai(l,uo);uo+=4,_a(N,l[uo])&&oa(l.subarray(uo,uo+ys),N?2:1,m+Xi/f,t),uo+=ys,Da+=ys+4}}m+=yo/f}}))})})}),t}function _a(m,r){if(m){const t=r>>1&63;return 39===t||40===t}return 6==(31&r)}function oa(m,r,t,l){const f=gs(m);let y=0;y+=r;let N=0,H=0,ee=!1,ae=0;for(;y<f.length;){N=0;do{if(y>=f.length)break;ae=f[y++],N+=ae}while(255===ae);H=0;do{if(y>=f.length)break;ae=f[y++],H+=ae}while(255===ae);const We=f.length-y;if(!ee&&4===N&&y<f.length){if(ee=!0,181===f[y++]){const Dt=Vo(f,y);if(y+=2,49===Dt){const wt=Ai(f,y);if(y+=4,1195456820===wt){const Ht=f[y++];if(3===Ht){const zt=f[y++],Sn=64&zt,Bn=Sn?2+3*(31&zt):0,Ln=new Uint8Array(Bn);if(Sn){Ln[0]=zt;for(let $n=1;$n<Bn;$n++)Ln[$n]=f[y++]}l.push({type:Ht,payloadType:N,pts:t,bytes:Ln})}}}}}else if(5===N&&H<We){if(ee=!0,H>16){const Ze=[];for(let Ht=0;Ht<16;Ht++){const zt=f[y++].toString(16);Ze.push(1==zt.length?"0"+zt:zt),(3===Ht||5===Ht||7===Ht||9===Ht)&&Ze.push("-")}const Dt=H-16,wt=new Uint8Array(Dt);for(let Ht=0;Ht<Dt;Ht++)wt[Ht]=f[y++];l.push({payloadType:N,pts:t,uuid:Ze.join(""),userData:ps(wt),userDataBytes:wt})}}else if(H<We)y+=H;else if(H>We)break}}function gs(m){const r=m.byteLength,t=[];let l=1;for(;l<r-2;)0===m[l]&&0===m[l+1]&&3===m[l+2]?(t.push(l+2),l+=2):l++;if(0===t.length)return m;const f=r-t.length,y=new Uint8Array(f);let N=0;for(l=0;l<f;N++,l++)N===t[0]&&(N++,t.shift()),y[l]=m[N];return y}let Pa={};class Xl{static clearKeyUriToKeyIdMap(){Pa={}}constructor(r,t,l,f=[1],y=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=r,this.uri=t,this.keyFormat=l,this.keyFormatVersions=f,this.iv=y,this.encrypted=!!r&&"NONE"!==r,this.isCommonEncryption=this.encrypted&&"AES-128"!==r}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case gr_FAIRPLAY:case gr_WIDEVINE:case gr_PLAYREADY:case"org.w3.clearkey":return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(r){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof r&&("AES-128"===this.method&&!this.iv&&An.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),r=0);const l=function ec(m){const r=new Uint8Array(16);for(let t=12;t<16;t++)r[t]=m>>8*(15-t)&255;return r}(r);return new Xl(this.method,this.uri,"identity",this.keyFormatVersions,l)}const t=function or(m){const r=m.split(":");let t=null;if("data"===r[0]&&2===r.length){const l=r[1].split(";"),f=l[l.length-1].split(",");if(2===f.length){const N=f[1];"base64"===f[0]?(l.splice(-1,1),t=Ha(N)):t=function Ml(m){const r=ja(m).subarray(0,16),t=new Uint8Array(16);return t.set(r,16-r.length),t}(N)}}return t}(this.uri);if(t)switch(this.keyFormat){case gr_WIDEVINE:this.pssh=t,t.length>=22&&(this.keyId=t.subarray(t.length-22,t.length-6));break;case gr_PLAYREADY:{const l=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=function Cc(m,r,t){if(16!==m.byteLength)throw new RangeError("Invalid system id");let l,f,y;if(r){l=1,f=new Uint8Array(16*r.length);for(let H=0;H<r.length;H++){const ee=r[H];if(16!==ee.byteLength)throw new RangeError("Invalid key");f.set(ee,16*H)}}else l=0,f=new Uint8Array;l>0?(y=new Uint8Array(4),r.length>0&&new DataView(y.buffer).setUint32(0,r.length,!1)):y=new Uint8Array;const N=new Uint8Array(4);return t&&t.byteLength>0&&new DataView(N.buffer).setUint32(0,t.byteLength,!1),function Ia(m,...r){const t=r.length;let l=8,f=t;for(;f--;)l+=r[f].byteLength;const y=new Uint8Array(l);for(y[0]=l>>24&255,y[1]=l>>16&255,y[2]=l>>8&255,y[3]=255&l,y.set(m,4),f=0,l=8;f<t;f++)y.set(r[f],l),l+=r[f].byteLength;return y}([112,115,115,104],new Uint8Array([l,0,0,0]),m,y,f,N,t||new Uint8Array)}(l,null,t);const f=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),y=String.fromCharCode.apply(null,Array.from(f)),N=y.substring(y.indexOf("<"),y.length),ae=(new DOMParser).parseFromString(N,"text/xml").getElementsByTagName("KID")[0];if(ae){const We=ae.childNodes[0]?ae.childNodes[0].nodeValue:ae.getAttribute("VALUE");if(We){const Ze=Ha(We).subarray(0,16);(function ii(m){const r=function(l,f,y){const N=l[f];l[f]=l[y],l[y]=N};r(m,0,3),r(m,1,2),r(m,4,5),r(m,6,7)})(Ze),this.keyId=Ze}}break}default:{let l=t.subarray(0,16);if(16!==l.length){const f=new Uint8Array(16);f.set(l,16-l.length),l=f}this.keyId=l;break}}if(!this.keyId||16!==this.keyId.byteLength){let l=Pa[this.uri];if(!l){const f=Object.keys(Pa).length%Number.MAX_SAFE_INTEGER;l=new Uint8Array(16),new DataView(l.buffer,12,4).setUint32(0,f),Pa[this.uri]=l}this.keyId=l}return this}}const Ld=/\{\$([a-zA-Z0-9-_]+)\}/g;function br(m){return Ld.test(m)}function Ko(m,r,t){if(null!==m.variableList||m.hasVariableRefs)for(let l=t.length;l--;){const f=t[l],y=r[f];y&&(r[f]=Wo(m,y))}}function Wo(m,r){if(null!==m.variableList||m.hasVariableRefs){const t=m.variableList;return r.replace(Ld,l=>{const f=l.substring(2,l.length-1),y=t?.[f];return void 0===y?(m.playlistParsingError||(m.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${f}"`)),l):y})}return r}function Vc(m,r,t){let f,y,l=m.variableList;if(l||(m.variableList=l={}),"QUERYPARAM"in r){f=r.QUERYPARAM;try{const N=new self.URL(t).searchParams;if(!N.has(f))throw new Error(`"${f}" does not match any query parameter in URI: "${t}"`);y=N.get(f)}catch(N){m.playlistParsingError||(m.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${N.message}`))}}else f=r.NAME,y=r.VALUE;f in l?m.playlistParsingError||(m.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${f}"`)):l[f]=y||""}function cl(m,r,t){const l=r.IMPORT;if(t&&l in t){let f=m.variableList;f||(m.variableList=f={}),f[l]=t[l]}else m.playlistParsingError||(m.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${l}"`))}function sa(){if(!(typeof self>"u"))return self.MediaSource||self.WebKitMediaSource}const dl={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},Kc=sa();function aa(m,r){var t;return null!=(t=Kc?.isTypeSupported(`${r||"video"}/mp4;codecs="${m}"`))&&t}const ud=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Ms=/#EXT-X-MEDIA:(.*)/g,kd=/^#EXT(?:INF|-X-TARGETDURATION):/m,ul=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),Pl=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class As{static findGroup(r,t){for(let l=0;l<r.length;l++){const f=r[l];if(f.id===t)return f}}static convertAVC1ToAVCOTI(r){const t=r.split(".");if(t.length>2){let l=t.shift()+".";return l+=parseInt(t.shift()).toString(16),l+=("000"+parseInt(t.shift()).toString(16)).slice(-4),l}return r}static resolve(r,t){return Aa.buildAbsoluteURL(t,r,{alwaysNormalize:!0})}static isMediaPlaylist(r){return kd.test(r)}static parseMasterPlaylist(r,t){const f={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:br(r)},y=[];let N;for(ud.lastIndex=0;null!=(N=ud.exec(r));)if(N[1]){var H;const ae=new vi(N[1]);Ko(f,ae,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const We=Wo(f,N[2]),Ze={attrs:ae,bitrate:ae.decimalInteger("AVERAGE-BANDWIDTH")||ae.decimalInteger("BANDWIDTH"),name:ae.NAME,url:As.resolve(We,t)},Dt=ae.decimalResolution("RESOLUTION");Dt&&(Ze.width=Dt.width,Ze.height=Dt.height),du((ae.CODECS||"").split(/[ ,]+/).filter(wt=>wt),Ze),Ze.videoCodec&&-1!==Ze.videoCodec.indexOf("avc1")&&(Ze.videoCodec=As.convertAVC1ToAVCOTI(Ze.videoCodec)),null!=(H=Ze.unknownCodecs)&&H.length||y.push(Ze),f.levels.push(Ze)}else if(N[3]){const We=N[4];switch(N[3]){case"SESSION-DATA":{const Ze=new vi(We);Ko(f,Ze,["DATA-ID","LANGUAGE","VALUE","URI"]);const Dt=Ze["DATA-ID"];Dt&&(null===f.sessionData&&(f.sessionData={}),f.sessionData[Dt]=Ze);break}case"SESSION-KEY":{const Ze=la(We,t,f);Ze.encrypted&&Ze.isSupported()?(null===f.sessionKeys&&(f.sessionKeys=[]),f.sessionKeys.push(Ze)):An.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${We}"`);break}case"DEFINE":{const Ze=new vi(We);Ko(f,Ze,["NAME","VALUE","QUERYPARAM"]),Vc(f,Ze,t)}break;case"CONTENT-STEERING":{const Ze=new vi(We);Ko(f,Ze,["SERVER-URI","PATHWAY-ID"]),f.contentSteering={uri:As.resolve(Ze["SERVER-URI"],t),pathwayId:Ze["PATHWAY-ID"]||"."};break}case"START":f.startTimeOffset=Wc(We)}}return f.levels=y.length>0&&y.length<f.levels.length?y:f.levels,0===f.levels.length&&(f.playlistParsingError=new Error("no levels found in manifest")),f}static parseMasterPlaylistMedia(r,t,l){let f;const y={},N=l.levels,H={AUDIO:N.map(ae=>({id:ae.attrs.AUDIO,audioCodec:ae.audioCodec})),SUBTITLES:N.map(ae=>({id:ae.attrs.SUBTITLES,textCodec:ae.textCodec})),"CLOSED-CAPTIONS":[]};let ee=0;for(Ms.lastIndex=0;null!==(f=Ms.exec(r));){const ae=new vi(f[1]),We=ae.TYPE;if(We){const Ze=H[We],Dt=y[We]||[];y[We]=Dt,Ko(l,ae,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const wt={attrs:ae,bitrate:0,id:ee++,groupId:ae["GROUP-ID"]||"",instreamId:ae["INSTREAM-ID"],name:ae.NAME||ae.LANGUAGE||"",type:We,default:ae.bool("DEFAULT"),autoselect:ae.bool("AUTOSELECT"),forced:ae.bool("FORCED"),lang:ae.LANGUAGE,url:ae.URI?As.resolve(ae.URI,t):""};if(null!=Ze&&Ze.length){const Ht=As.findGroup(Ze,wt.groupId)||Ze[0];fl(wt,Ht,"audioCodec"),fl(wt,Ht,"textCodec")}Dt.push(wt)}}return y}static parseLevelPlaylist(r,t,l,f,y,N){const H=new Zl(t),ee=H.fragments;let on,Sn,Bn,ae=null,We=0,Ze=0,Dt=0,wt=0,Ht=null,zt=new Kr(f,t),Ln=-1,$n=!1;for(ul.lastIndex=0,H.m3u8=r,H.hasVariableRefs=br(r);null!==(on=ul.exec(r));){$n&&($n=!1,zt=new Kr(f,t),zt.start=Dt,zt.sn=We,zt.cc=wt,zt.level=l,ae&&(zt.initSegment=ae,zt.rawProgramDateTime=ae.rawProgramDateTime,ae.rawProgramDateTime=null));const gi=on[1];if(gi){zt.duration=parseFloat(gi);const Ci=(" "+on[2]).slice(1);zt.title=Ci||null,zt.tagList.push(Ci?["INF",gi,Ci]:["INF",gi])}else if(on[3]){if(Mt(zt.duration)){zt.start=Dt,Bn&&hd(zt,Bn,H),zt.sn=We,zt.level=l,zt.cc=wt,zt.urlId=y,ee.push(zt);const Ci=(" "+on[3]).slice(1);zt.relurl=Wo(H,Ci),Dc(zt,Ht),Ht=zt,Dt+=zt.duration,We++,Ze=0,$n=!0}}else if(on[4]){const Ci=(" "+on[4]).slice(1);Ht?zt.setByteRange(Ci,Ht):zt.setByteRange(Ci)}else if(on[5])zt.rawProgramDateTime=(" "+on[5]).slice(1),zt.tagList.push(["PROGRAM-DATE-TIME",zt.rawProgramDateTime]),-1===Ln&&(Ln=ee.length);else{if(on=on[0].match(Pl),!on){An.warn("No matches on slow regex match for level playlist!");continue}for(Sn=1;Sn<on.length&&!(typeof on[Sn]<"u");Sn++);const Ci=(" "+on[Sn]).slice(1),Xn=(" "+on[Sn+1]).slice(1),zi=on[Sn+2]?(" "+on[Sn+2]).slice(1):"";switch(Ci){case"PLAYLIST-TYPE":H.type=Xn.toUpperCase();break;case"MEDIA-SEQUENCE":We=H.startSN=parseInt(Xn);break;case"SKIP":{const Pi=new vi(Xn);Ko(H,Pi,["RECENTLY-REMOVED-DATERANGES"]);const Hr=Pi.decimalInteger("SKIPPED-SEGMENTS");if(Mt(Hr)){H.skippedSegments=Hr;for(let yo=Hr;yo--;)ee.unshift(null);We+=Hr}const Vs=Pi.enumeratedString("RECENTLY-REMOVED-DATERANGES");Vs&&(H.recentlyRemovedDateranges=Vs.split("\t"));break}case"TARGETDURATION":H.targetduration=Math.max(parseInt(Xn),1);break;case"VERSION":H.version=parseInt(Xn);break;case"EXTM3U":break;case"ENDLIST":H.live=!1;break;case"#":(Xn||zi)&&zt.tagList.push(zi?[Xn,zi]:[Xn]);break;case"DISCONTINUITY":wt++,zt.tagList.push(["DIS"]);break;case"GAP":zt.gap=!0,zt.tagList.push([Ci]);break;case"BITRATE":zt.tagList.push([Ci,Xn]);break;case"DATERANGE":{const Pi=new vi(Xn);Ko(H,Pi,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Ko(H,Pi,Pi.clientAttrs);const Hr=new oo(Pi,H.dateRanges[Pi.ID]);Hr.isValid||H.skippedSegments?H.dateRanges[Hr.id]=Hr:An.warn(`Ignoring invalid DATERANGE tag: "${Xn}"`),zt.tagList.push(["EXT-X-DATERANGE",Xn]);break}case"DEFINE":{const Pi=new vi(Xn);Ko(H,Pi,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in Pi?cl(H,Pi,N):Vc(H,Pi,t)}break;case"DISCONTINUITY-SEQUENCE":wt=parseInt(Xn);break;case"KEY":{const Pi=la(Xn,t,H);if(Pi.isSupported()){if("NONE"===Pi.method){Bn=void 0;break}Bn||(Bn={}),Bn[Pi.keyFormat]&&(Bn=Ge({},Bn)),Bn[Pi.keyFormat]=Pi}else An.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${Xn}"`);break}case"START":H.startTimeOffset=Wc(Xn);break;case"MAP":{const Pi=new vi(Xn);if(Ko(H,Pi,["BYTERANGE","URI"]),zt.duration){const Hr=new Kr(f,t);fd(Hr,Pi,l,Bn),ae=Hr,zt.initSegment=ae,ae.rawProgramDateTime&&!zt.rawProgramDateTime&&(zt.rawProgramDateTime=ae.rawProgramDateTime)}else fd(zt,Pi,l,Bn),ae=zt,$n=!0;break}case"SERVER-CONTROL":{const Pi=new vi(Xn);H.canBlockReload=Pi.bool("CAN-BLOCK-RELOAD"),H.canSkipUntil=Pi.optionalFloat("CAN-SKIP-UNTIL",0),H.canSkipDateRanges=H.canSkipUntil>0&&Pi.bool("CAN-SKIP-DATERANGES"),H.partHoldBack=Pi.optionalFloat("PART-HOLD-BACK",0),H.holdBack=Pi.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const Pi=new vi(Xn);H.partTarget=Pi.decimalFloatingPoint("PART-TARGET");break}case"PART":{let Pi=H.partList;Pi||(Pi=H.partList=[]);const Hr=Ze>0?Pi[Pi.length-1]:void 0,Vs=Ze++,yo=new vi(Xn);Ko(H,yo,["BYTERANGE","URI"]);const yi=new bc(yo,zt,t,Vs,Hr);Pi.push(yi),zt.duration+=yi.duration;break}case"PRELOAD-HINT":{const Pi=new vi(Xn);Ko(H,Pi,["URI"]),H.preloadHint=Pi;break}case"RENDITION-REPORT":{const Pi=new vi(Xn);Ko(H,Pi,["URI"]),H.renditionReports=H.renditionReports||[],H.renditionReports.push(Pi);break}default:An.warn(`line parsed but not handled: ${on}`)}}}Ht&&!Ht.relurl?(ee.pop(),Dt-=Ht.duration,H.partList&&(H.fragmentHint=Ht)):H.partList&&(Dc(zt,Ht),zt.cc=wt,H.fragmentHint=zt,Bn&&hd(zt,Bn,H));const zn=ee.length,ui=ee[0],ei=ee[zn-1];if(Dt+=H.skippedSegments*H.targetduration,Dt>0&&zn&&ei){H.averagetargetduration=Dt/zn;const gi=ei.sn;H.endSN="initSegment"!==gi?gi:0,H.live||(ei.endList=!0),ui&&(H.startCC=ui.cc)}else H.endSN=0,H.startCC=0;return H.fragmentHint&&(Dt+=H.fragmentHint.duration),H.totalduration=Dt,H.endCC=wt,Ln>0&&function Yc(m,r){let t=m[r];for(let l=r;l--;){const f=m[l];if(!f)return;f.programDateTime=t.programDateTime-1e3*f.duration,t=f}}(ee,Ln),H}}function la(m,r,t){var l,f;const y=new vi(m);Ko(t,y,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const N=null!=(l=y.METHOD)?l:"",H=y.URI,ee=y.hexadecimalInteger("IV"),ae=y.KEYFORMATVERSIONS,We=null!=(f=y.KEYFORMAT)?f:"identity";H&&y.IV&&!ee&&An.error(`Invalid IV: ${y.IV}`);const Ze=H?As.resolve(H,r):"",Dt=(ae||"1").split("/").map(Number).filter(Number.isFinite);return new Xl(N,Ze,We,Dt,ee)}function Wc(m){const t=new vi(m).decimalFloatingPoint("TIME-OFFSET");return Mt(t)?t:null}function du(m,r){["video","audio","text"].forEach(t=>{const l=m.filter(f=>function Ds(m,r){const t=dl[r];return!!t&&!0===t[m.slice(0,4)]}(f,t));if(l.length){const f=l.filter(y=>0===y.lastIndexOf("avc1",0)||0===y.lastIndexOf("mp4a",0));r[`${t}Codec`]=f.length>0?f[0]:l[0],m=m.filter(y=>-1===l.indexOf(y))}}),r.unknownCodecs=m}function fl(m,r,t){const l=r[t];l&&(m[t]=l)}function Dc(m,r){m.rawProgramDateTime?m.programDateTime=Date.parse(m.rawProgramDateTime):null!=r&&r.programDateTime&&(m.programDateTime=r.endProgramDateTime),Mt(m.programDateTime)||(m.programDateTime=null,m.rawProgramDateTime=null)}function fd(m,r,t,l){m.relurl=r.URI,r.BYTERANGE&&m.setByteRange(r.BYTERANGE),m.level=t,m.sn="initSegment",l&&(m.levelkeys=l),m.initSegment=null}function hd(m,r,t){m.levelkeys=r;const{encryptedFragments:l}=t;(!l.length||l[l.length-1].levelkeys!==r)&&Object.keys(r).some(f=>r[f].isCommonEncryption)&&l.push(m)}function zc(m){const{type:r}=m;switch(r){case"audioTrack":return"audio";case"subtitleTrack":return"subtitle";default:return"main"}}function Ol(m,r){let t=m.url;return(void 0===t||0===t.indexOf("data:"))&&(t=r.url),t}class tc{constructor(r){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=r,this.registerListeners()}startLoad(r){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:r}=this;r.on(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.on(ct.LEVEL_LOADING,this.onLevelLoading,this),r.on(ct.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),r.on(ct.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:r}=this;r.off(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.off(ct.LEVEL_LOADING,this.onLevelLoading,this),r.off(ct.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),r.off(ct.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(r){const t=this.hls.config,N=new(t.pLoader||t.loader)(t);return this.loaders[r.type]=N,N}getInternalLoader(r){return this.loaders[r.type]}resetInternalLoader(r){this.loaders[r]&&delete this.loaders[r]}destroyInternalLoaders(){for(const r in this.loaders){const t=this.loaders[r];t&&t.destroy(),this.resetInternalLoader(r)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(r,t){const{url:l}=t;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:"manifest",url:l,deliveryDirectives:null})}onLevelLoading(r,t){const{id:l,level:f,url:y,deliveryDirectives:N}=t;this.load({id:l,level:f,responseType:"text",type:"level",url:y,deliveryDirectives:N})}onAudioTrackLoading(r,t){const{id:l,groupId:f,url:y,deliveryDirectives:N}=t;this.load({id:l,groupId:f,level:null,responseType:"text",type:"audioTrack",url:y,deliveryDirectives:N})}onSubtitleTrackLoading(r,t){const{id:l,groupId:f,url:y,deliveryDirectives:N}=t;this.load({id:l,groupId:f,level:null,responseType:"text",type:"subtitleTrack",url:y,deliveryDirectives:N})}load(r){var t;const l=this.hls.config;let y,f=this.getInternalLoader(r);if(f){const ae=f.context;if(ae&&ae.url===r.url)return void An.trace("[playlist-loader]: playlist request ongoing");An.log(`[playlist-loader]: aborting previous loader for type: ${r.type}`),f.abort()}if(y="manifest"===r.type?l.manifestLoadPolicy.default:Ge({},l.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),f=this.createInternalLoader(r),null!=(t=r.deliveryDirectives)&&t.part){let ae;if("level"===r.type&&null!==r.level?ae=this.hls.levels[r.level].details:"audioTrack"===r.type&&null!==r.id?ae=this.hls.audioTracks[r.id].details:"subtitleTrack"===r.type&&null!==r.id&&(ae=this.hls.subtitleTracks[r.id].details),ae){const We=ae.partTarget,Ze=ae.targetduration;if(We&&Ze){const Dt=1e3*Math.max(3*We,.8*Ze);y=Ge({},y,{maxTimeToFirstByteMs:Math.min(Dt,y.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(Dt,y.maxTimeToFirstByteMs)})}}}const N=y.errorRetry||y.timeoutRetry||{};f.load(r,{loadPolicy:y,timeout:y.maxLoadTimeMs,maxRetry:N.maxNumRetry||0,retryDelay:N.retryDelayMs||0,maxRetryDelay:N.maxRetryDelayMs||0},{onSuccess:(ae,We,Ze,Dt)=>{const wt=this.getInternalLoader(Ze);this.resetInternalLoader(Ze.type);const Ht=ae.data;0===Ht.indexOf("#EXTM3U")?(We.parsing.start=performance.now(),As.isMediaPlaylist(Ht)?this.handleTrackOrLevelPlaylist(ae,We,Ze,Dt||null,wt):this.handleMasterPlaylist(ae,We,Ze,Dt)):this.handleManifestParsingError(ae,Ze,new Error("no EXTM3U delimiter"),Dt||null,We)},onError:(ae,We,Ze,Dt)=>{this.handleNetworkError(We,Ze,!1,ae,Dt)},onTimeout:(ae,We,Ze)=>{this.handleNetworkError(We,Ze,!0,void 0,ae)}})}handleMasterPlaylist(r,t,l,f){const y=this.hls,N=r.data,H=Ol(r,l),ee=As.parseMasterPlaylist(N,H);if(ee.playlistParsingError)return void this.handleManifestParsingError(r,l,ee.playlistParsingError,f,t);const{contentSteering:ae,levels:We,sessionData:Ze,sessionKeys:Dt,startTimeOffset:wt,variableList:Ht}=ee;this.variableList=Ht;const{AUDIO:zt=[],SUBTITLES:on,"CLOSED-CAPTIONS":Sn}=As.parseMasterPlaylistMedia(N,H,ee);zt.length&&!zt.some(Ln=>!Ln.url)&&We[0].audioCodec&&!We[0].attrs.AUDIO&&(An.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),zt.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new vi({}),bitrate:0,url:""})),y.trigger(ct.MANIFEST_LOADED,{levels:We,audioTracks:zt,subtitles:on,captions:Sn,contentSteering:ae,url:H,stats:t,networkDetails:f,sessionData:Ze,sessionKeys:Dt,startTimeOffset:wt,variableList:Ht})}handleTrackOrLevelPlaylist(r,t,l,f,y){const N=this.hls,{id:H,level:ee,type:ae}=l,We=Ol(r,l),Ze=Mt(H)?H:0,Dt=Mt(ee)?ee:Ze,wt=zc(l),Ht=As.parseLevelPlaylist(r.data,We,Dt,wt,Ze,this.variableList);if("manifest"===ae){const zt={attrs:new vi({}),bitrate:0,details:Ht,name:"",url:We};N.trigger(ct.MANIFEST_LOADED,{levels:[zt],audioTracks:[],url:We,stats:t,networkDetails:f,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),l.levelDetails=Ht,this.handlePlaylistLoaded(Ht,r,t,l,f,y)}handleManifestParsingError(r,t,l,f,y){this.hls.trigger(ct.ERROR,{type:In.NETWORK_ERROR,details:yn.MANIFEST_PARSING_ERROR,fatal:"manifest"===t.type,url:r.url,err:l,error:l,reason:l.message,response:r,context:t,networkDetails:f,stats:y})}handleNetworkError(r,t,l=!1,f,y){let N=`A network ${l?"timeout":"error"+(f?" (status "+f.code+")":"")} occurred while loading ${r.type}`;"level"===r.type?N+=`: ${r.level} id: ${r.id}`:("audioTrack"===r.type||"subtitleTrack"===r.type)&&(N+=` id: ${r.id} group-id: "${r.groupId}"`);const H=new Error(N);An.warn(`[playlist-loader]: ${N}`);let ee=yn.UNKNOWN,ae=!1;const We=this.getInternalLoader(r);switch(r.type){case"manifest":ee=l?yn.MANIFEST_LOAD_TIMEOUT:yn.MANIFEST_LOAD_ERROR,ae=!0;break;case"level":ee=l?yn.LEVEL_LOAD_TIMEOUT:yn.LEVEL_LOAD_ERROR,ae=!1;break;case"audioTrack":ee=l?yn.AUDIO_TRACK_LOAD_TIMEOUT:yn.AUDIO_TRACK_LOAD_ERROR,ae=!1;break;case"subtitleTrack":ee=l?yn.SUBTITLE_TRACK_LOAD_TIMEOUT:yn.SUBTITLE_LOAD_ERROR,ae=!1}We&&this.resetInternalLoader(r.type);const Ze={type:In.NETWORK_ERROR,details:ee,fatal:ae,url:r.url,loader:We,context:r,error:H,networkDetails:t,stats:y};f&&(Ze.response=$i({url:t?.url||r.url,data:void 0},f)),this.hls.trigger(ct.ERROR,Ze)}handlePlaylistLoaded(r,t,l,f,y,N){const H=this.hls,{type:ee,level:ae,id:We,groupId:Ze,deliveryDirectives:Dt}=f,wt=Ol(t,f),Ht=zc(f),zt="number"==typeof f.level&&"main"===Ht?ae:void 0;if(!r.fragments.length){const Sn=new Error("No Segments found in Playlist");return void H.trigger(ct.ERROR,{type:In.NETWORK_ERROR,details:yn.LEVEL_EMPTY_ERROR,fatal:!1,url:wt,error:Sn,reason:Sn.message,response:t,context:f,level:zt,parent:Ht,networkDetails:y,stats:l})}r.targetduration||(r.playlistParsingError=new Error("Missing Target Duration"));const on=r.playlistParsingError;if(on)H.trigger(ct.ERROR,{type:In.NETWORK_ERROR,details:yn.LEVEL_PARSING_ERROR,fatal:!1,url:wt,error:on,reason:on.message,response:t,context:f,level:zt,parent:Ht,networkDetails:y,stats:l});else switch(r.live&&N&&(N.getCacheAge&&(r.ageHeader=N.getCacheAge()||0),(!N.getCacheAge||isNaN(r.ageHeader))&&(r.ageHeader=0)),ee){case"manifest":case"level":H.trigger(ct.LEVEL_LOADED,{details:r,level:zt||0,id:We||0,stats:l,networkDetails:y,deliveryDirectives:Dt});break;case"audioTrack":H.trigger(ct.AUDIO_TRACK_LOADED,{details:r,id:We||0,groupId:Ze||"",stats:l,networkDetails:y,deliveryDirectives:Dt});break;case"subtitleTrack":H.trigger(ct.SUBTITLE_TRACK_LOADED,{details:r,id:We||0,groupId:Ze||"",stats:l,networkDetails:y,deliveryDirectives:Dt})}}}function Va(m,r){let t;try{t=new Event("addtrack")}catch{t=document.createEvent("Event"),t.initEvent("addtrack",!1,!1)}t.track=m,r.dispatchEvent(t)}function Zc(m,r){const t=m.mode;if("disabled"===t&&(m.mode="hidden"),m.cues&&!m.cues.getCueById(r.id))try{if(m.addCue(r),!m.cues.getCueById(r.id))throw new Error(`addCue is failed for: ${r}`)}catch(l){An.debug(`[texttrack-utils]: ${l}`);try{const f=new self.TextTrackCue(r.startTime,r.endTime,r.text);f.id=r.id,m.addCue(f)}catch(f){An.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${f}`)}}"disabled"===t&&(m.mode=t)}function va(m){const r=m.mode;if("disabled"===r&&(m.mode="hidden"),m.cues)for(let t=m.cues.length;t--;)m.removeCue(m.cues[t]);"disabled"===r&&(m.mode=r)}function nc(m,r,t,l){const f=m.mode;if("disabled"===f&&(m.mode="hidden"),m.cues&&m.cues.length>0){const y=function $c(m,r,t){const l=[],f=function md(m,r){if(r<m[0].startTime)return 0;const t=m.length-1;if(r>m[t].endTime)return-1;let l=0,f=t;for(;l<=f;){const y=Math.floor((f+l)/2);if(r<m[y].startTime)f=y-1;else{if(!(r>m[y].startTime&&l<t))return y;l=y+1}}return m[l].startTime-r<r-m[f].startTime?l:f}(m,r);if(f>-1)for(let y=f,N=m.length;y<N;y++){const H=m[y];if(H.startTime>=r&&H.endTime<=t)l.push(H);else if(H.startTime>t)return l}return l}(m.cues,r,t);for(let N=0;N<y.length;N++)(!l||l(y[N]))&&m.removeCue(y[N])}"disabled"===f&&(m.mode=f)}var xs_emsg="https://aomedia.org/emsg/ID3";function Oa(){if(!(typeof self>"u"))return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}const ya=(()=>{const m=Oa();try{new m(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function Mc(m,r){return m.getTime()/1e3-r}function Rl(m){return Uint8Array.from(m.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class ml{constructor(r){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=r,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:r}=this;r.on(ct.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(ct.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.on(ct.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),r.on(ct.BUFFER_FLUSHING,this.onBufferFlushing,this),r.on(ct.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:r}=this;r.off(ct.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(ct.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.off(ct.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),r.off(ct.BUFFER_FLUSHING,this.onBufferFlushing,this),r.off(ct.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(r,t){this.media=t.media}onMediaDetaching(){this.id3Track&&(va(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(r){const t=this.getID3Track(r.textTracks);return t.mode="hidden",t}getID3Track(r){if(this.media){for(let t=0;t<r.length;t++){const l=r[t];if("metadata"===l.kind&&"id3"===l.label)return Va(l,this.media),l}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(r,t){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:l,enableID3MetadataCues:f}}}=this;if(!l&&!f)return;const{samples:y}=t;this.id3Track||(this.id3Track=this.createTrack(this.media));const N=Oa();for(let H=0;H<y.length;H++){const ee=y[H].type;if(ee===xs_emsg&&!l||!f)continue;const ae=Ql(y[H].data);if(ae){const We=y[H].pts;let Ze=We+y[H].duration;Ze>ya&&(Ze=ya),Ze-We<=0&&(Ze=We+.25);for(let wt=0;wt<ae.length;wt++){const Ht=ae[wt];if(!ol(Ht)){this.updateId3CueEnds(We,ee);const zt=new N(We,Ze,"");zt.value=Ht,ee&&(zt.type=ee),this.id3Track.addCue(zt)}}}}}updateId3CueEnds(r,t){var l;const f=null==(l=this.id3Track)?void 0:l.cues;if(f)for(let y=f.length;y--;){const N=f[y];N.type===t&&N.startTime<r&&N.endTime===ya&&(N.endTime=r)}}onBufferFlushing(r,{startOffset:t,endOffset:l,type:f}){const{id3Track:y,hls:N}=this;if(!N)return;const{config:{enableEmsgMetadataCues:H,enableID3MetadataCues:ee}}=N;if(y&&(H||ee)){let ae;ae="audio"===f?We=>"org.id3"===We.type&&ee:"video"===f?We=>We.type===xs_emsg&&H:We=>"org.id3"===We.type&&ee||We.type===xs_emsg&&H,nc(y,t,l,ae)}}onLevelUpdated(r,{details:t}){if(!this.media||!t.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:l,id3Track:f}=this,{dateRanges:y}=t,N=Object.keys(y);if(f){const We=Object.keys(l).filter(Ze=>!N.includes(Ze));for(let Ze=We.length;Ze--;){const Dt=We[Ze];Object.keys(l[Dt].cues).forEach(wt=>{f.removeCue(l[Dt].cues[wt])}),delete l[Dt]}}const H=t.fragments[t.fragments.length-1];if(0===N.length||!Mt(H?.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const ee=H.programDateTime/1e3-H.start,ae=Oa();for(let We=0;We<N.length;We++){const Ze=N[We],Dt=y[Ze],wt=l[Ze],Ht=wt?.cues||{};let zt=wt?.durationKnown||!1;const on=Mc(Dt.startDate,ee);let Sn=ya;const Bn=Dt.endDate;if(Bn)Sn=Mc(Bn,ee),zt=!0;else if(Dt.endOnNext&&!zt){const $n=N.reduce((zn,ui)=>{const ei=y[ui];return ei.class===Dt.class&&ei.id!==ui&&ei.startDate>Dt.startDate&&zn.push(ei),zn},[]).sort((zn,ui)=>zn.startDate.getTime()-ui.startDate.getTime())[0];$n&&(Sn=Mc($n.startDate,ee),zt=!0)}const Ln=Object.keys(Dt.attr);for(let $n=0;$n<Ln.length;$n++){const zn=Ln[$n];if("ID"===(m=zn)||"CLASS"===m||"START-DATE"===m||"DURATION"===m||"END-DATE"===m||"END-ON-NEXT"===m)continue;let ui=Ht[zn];if(ui)zt&&!wt.durationKnown&&(ui.endTime=Sn);else{let ei=Dt.attr[zn];ui=new ae(on,Sn,""),qo(zn)&&(ei=Rl(ei)),ui.value={key:zn,data:ei},ui.type="com.apple.quicktime.HLS",ui.id=Ze,this.id3Track.addCue(ui),Ht[zn]=ui}}l[Ze]={cues:Ht,dateRange:Dt,durationKnown:zt}}var m}}class pd{constructor(r){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=r,this.config=r.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:r,levelDetails:t}=this;return void 0!==r.liveMaxLatencyDuration?r.liveMaxLatencyDuration:t?r.liveMaxLatencyDurationCount*t.targetduration:0}get targetLatency(){const{levelDetails:r}=this;if(null===r)return null;const{holdBack:t,partHoldBack:l,targetduration:f}=r,{liveSyncDuration:y,liveSyncDurationCount:N,lowLatencyMode:H}=this.config,ee=this.hls.userConfig;let ae=H&&l||t;return(ee.liveSyncDuration||ee.liveSyncDurationCount||0===ae)&&(ae=void 0!==y?y:N*f),ae+Math.min(1*this.stallCount,f)}get liveSyncPosition(){const r=this.estimateLiveEdge(),t=this.targetLatency,l=this.levelDetails;if(null===r||null===t||null===l)return null;const f=l.edge,H=f-(this.config.lowLatencyMode&&l.partTarget||l.targetduration);return Math.min(Math.max(f-l.totalduration,r-t-this.edgeStalled),H)}get drift(){const{levelDetails:r}=this;return null===r?1:r.drift}get edgeStalled(){const{levelDetails:r}=this;return null===r?0:Math.max(r.age-3*(this.config.lowLatencyMode&&r.partTarget||r.targetduration),0)}get forwardBufferLength(){const{media:r,levelDetails:t}=this;if(!r||!t)return 0;const l=r.buffered.length;return(l?r.buffered.end(l-1):t.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(ct.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(ct.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(ct.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(ct.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(ct.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(ct.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(ct.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(ct.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(ct.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(ct.ERROR,this.onError,this)}onMediaAttached(r,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(r,{details:t}){this.levelDetails=t,t.advanced&&this.timeupdate(),!t.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(r,t){var l;t.details===yn.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(l=this.levelDetails)&&l.live&&An.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:r,levelDetails:t}=this;if(!r||!t)return;this.currentTime=r.currentTime;const l=this.computeLatency();if(null===l)return;this._latency=l;const{lowLatencyMode:f,maxLiveSyncPlaybackRate:y}=this.config;if(!f||1===y)return;const N=this.targetLatency;if(null===N)return;const H=l-N,ee=Math.min(this.maxLatency,N+t.targetduration);if(t.live&&H<ee&&H>.05&&this.forwardBufferLength>1){const We=Math.min(2,Math.max(1,y)),Ze=Math.round(2/(1+Math.exp(-.75*H-this.edgeStalled))*20)/20;r.playbackRate=Math.min(We,Math.max(1,Ze))}else 1!==r.playbackRate&&0!==r.playbackRate&&(r.playbackRate=1)}estimateLiveEdge(){const{levelDetails:r}=this;return null===r?null:r.edge+r.age}computeLatency(){const r=this.estimateLiveEdge();return null===r?null:r-this.currentTime}}const ic=["NONE","TYPE-0","TYPE-1",null];class Jc{constructor(r,t,l){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=r,this.part=t,this.skip=l}addDirectives(r){const t=new self.URL(r);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}class Ac{constructor(r){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[r.url],this._attrs=[r.attrs],this.bitrate=r.bitrate,r.details&&(this.details=r.details),this.id=r.id||0,this.name=r.name,this.width=r.width||0,this.height=r.height||0,this.audioCodec=r.audioCodec,this.videoCodec=r.videoCodec,this.unknownCodecs=r.unknownCodecs,this.codecSet=[r.videoCodec,r.audioCodec].filter(t=>t).join(",").replace(/\.[^.,]+/g,"")}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get attrs(){return this._attrs[this._urlId]}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get uri(){return this.url[this._urlId]||""}get urlId(){return this._urlId}set urlId(r){const t=r%this.url.length;this._urlId!==t&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=t)}get audioGroupId(){var r;return null==(r=this.audioGroupIds)?void 0:r[this.urlId]}get textGroupId(){var r;return null==(r=this.textGroupIds)?void 0:r[this.urlId]}addFallback(r){this.url.push(r.url),this._attrs.push(r.attrs)}}function uu(m,r){const t=r.startPTS;if(Mt(t)){let f,l=0;r.sn>m.sn?(l=t-m.start,f=m):(l=m.start-t,f=r),f.duration!==l&&(f.duration=l)}else r.start=r.sn>m.sn?m.cc===r.cc&&m.minEndPTS?m.start+(m.minEndPTS-m.start):m.start+m.duration:Math.max(m.start-r.duration,0)}function fu(m,r,t,l,f,y){l-t<=0&&(An.warn("Fragment should have a positive duration",r),l=t+r.duration,y=f+r.duration);let H=t,ee=l;const ae=r.startPTS,We=r.endPTS;if(Mt(ae)){const on=Math.abs(ae-t);r.deltaPTS=Mt(r.deltaPTS)?Math.max(on,r.deltaPTS):on,H=Math.max(t,ae),t=Math.min(t,ae),f=Math.min(f,r.startDTS),ee=Math.min(l,We),l=Math.max(l,We),y=Math.max(y,r.endDTS)}const Ze=t-r.start;0!==r.start&&(r.start=t),r.duration=l-r.start,r.startPTS=t,r.maxStartPTS=H,r.startDTS=f,r.endPTS=l,r.minEndPTS=ee,r.endDTS=y;const Dt=r.sn;if(!m||Dt<m.startSN||Dt>m.endSN)return 0;let wt;const Ht=Dt-m.startSN,zt=m.fragments;for(zt[Ht]=r,wt=Ht;wt>0;wt--)uu(zt[wt],zt[wt-1]);for(wt=Ht;wt<zt.length-1;wt++)uu(zt[wt],zt[wt+1]);return m.fragmentHint&&uu(zt[zt.length-1],m.fragmentHint),m.PTSKnown=m.alignedSliding=!0,Ze}function _d(m,r){const t=r.startSN+r.skippedSegments-m.startSN,l=m.fragments;t<0||t>=l.length||Ll(r,l[t].start)}function Ll(m,r){if(r){const t=m.fragments;for(let l=m.skippedSegments;l<t.length;l++)t[l].start+=r;m.fragmentHint&&(m.fragmentHint.start+=r)}}function _o(m,r,t){var l;return null!=m&&m.details?no(null==(l=m.details)?void 0:l.partList,r,t):null}function no(m,r,t){if(m)for(let l=m.length;l--;){const f=m[l];if(f.index===t&&f.fragment.sn===r)return f}return null}function Ka(m){switch(m.details){case yn.FRAG_LOAD_TIMEOUT:case yn.KEY_LOAD_TIMEOUT:case yn.LEVEL_LOAD_TIMEOUT:case yn.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function Wa(m,r){const t=Ka(r);return m.default[(t?"timeout":"error")+"Retry"]}function sc(m,r){const t="linear"===m.backoff?1:Math.pow(2,r);return Math.min(t*m.retryDelayMs,m.maxRetryDelayMs)}function Bd(m){return $i($i({},m),{errorRetry:null,timeoutRetry:null})}function Qc(m,r,t,l){return!!m&&r<m.maxNumRetry&&(function je(m){return 0===m&&!1===navigator.onLine||!!m&&(m<400||m>499)}(l)||!!t)}const st={search:function(m,r){let t=0,l=m.length-1,f=null,y=null;for(;t<=l;){f=(t+l)/2|0,y=m[f];const N=r(y);if(N>0)t=f+1;else{if(!(N<0))return y;l=f-1}}return null}};function an(m,r,t=0,l=0){let f=null;if(m?f=r[m.sn-r[0].sn+1]||null:0===t&&0===r[0].start&&(f=r[0]),f&&0===xn(t,l,f))return f;const y=st.search(r,xn.bind(null,t,l));return!y||y===m&&f?f:y}function xn(m=0,r=0,t){if(t.start<=m&&t.start+t.duration>m)return 0;const l=Math.min(r,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-l<=m?1:t.start-l>m&&t.start?-1:0}function Fn(m,r,t){const l=1e3*Math.min(r,t.duration+(t.deltaPTS?t.deltaPTS:0));return(t.endProgramDateTime||0)-l>m}function Yi(m,r,t){if(performance.now()-m.lastErrorPerfMs>3e5)return!0;const l=m.details;if(r.details===yn.FRAG_GAP&&l&&r.frag){const y=an(null,l.fragments,r.frag.start);if(y&&!y.gap)return!0}if(t&&m.errors.length<t.errors.length){const f=m.errors[m.errors.length-1];if(l&&f.frag&&r.frag&&Math.abs(f.frag.start-r.frag.start)>3*l.targetduration)return!0}return!1}class So{constructor(r,t){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=An.log.bind(An,`${t}:`),this.warn=An.warn.bind(An,`${t}:`),this.hls=r}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){clearTimeout(this.timer),this.timer=-1}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(r,t){const l=t?.renditionReports;if(l){let f=-1;for(let y=0;y<l.length;y++){const N=l[y];let H;try{H=new self.URL(N.URI,t.url).href}catch(ee){An.warn(`Could not construct new URL for Rendition Report: ${ee}`),H=N.URI||""}if(H===r){f=y;break}H===r.substring(0,H.length)&&(f=y)}if(-1!==f){const y=l[f],N=parseInt(y["LAST-MSN"])||t?.lastPartSn;let H=parseInt(y["LAST-PART"])||t?.lastPartIndex;if(this.hls.config.lowLatencyMode){const ee=Math.min(t.age-t.partTarget,t.targetduration);H>=0&&ee>t.partTarget&&(H+=1)}return new Jc(N,H>=0?H:void 0,"")}}}loadPlaylist(r){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(r){return this.canLoad&&!!r&&!!r.url&&(!r.details||r.details.live)}shouldReloadPlaylist(r){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(r)}playlistLoaded(r,t,l){const{details:f,stats:y}=t,N=self.performance.now(),H=y.loading.first?Math.max(0,N-y.loading.first):0;if(f.advancedDateTime=Date.now()-H,f.live||null!=l&&l.live){if(f.reloaded(l),l&&this.log(`live playlist ${r} ${f.advanced?"REFRESHED "+f.lastPartSn+"-"+f.lastPartIndex:"MISSED"}`),l&&f.fragments.length>0&&function rc(m,r){let t=null;const l=m.fragments;for(let ee=l.length-1;ee>=0;ee--){const ae=l[ee].initSegment;if(ae){t=ae;break}}m.fragmentHint&&delete m.fragmentHint.endPTS;let y,f=0;if(function Po(m,r,t){const l=r.skippedSegments,f=Math.max(m.startSN,r.startSN)-r.startSN,y=(m.fragmentHint?1:0)+(l?r.endSN:Math.min(m.endSN,r.endSN))-r.startSN,N=r.startSN-m.startSN,H=r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments,ee=m.fragmentHint?m.fragments.concat(m.fragmentHint):m.fragments;for(let ae=f;ae<=y;ae++){const We=ee[N+ae];let Ze=H[ae];l&&!Ze&&ae<l&&(Ze=r.fragments[ae]=We),We&&Ze&&t(We,Ze)}}(m,r,(ee,ae)=>{ee.relurl&&(f=ee.cc-ae.cc),Mt(ee.startPTS)&&Mt(ee.endPTS)&&(ae.start=ae.startPTS=ee.startPTS,ae.startDTS=ee.startDTS,ae.maxStartPTS=ee.maxStartPTS,ae.endPTS=ee.endPTS,ae.endDTS=ee.endDTS,ae.minEndPTS=ee.minEndPTS,ae.duration=ee.endPTS-ee.startPTS,ae.duration&&(y=ae),r.PTSKnown=r.alignedSliding=!0),ae.elementaryStreams=ee.elementaryStreams,ae.loader=ee.loader,ae.stats=ee.stats,ae.urlId=ee.urlId,ee.initSegment&&(ae.initSegment=ee.initSegment,t=ee.initSegment)}),t&&(r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments).forEach(ae=>{var We;(!ae.initSegment||ae.initSegment.relurl===(null==(We=t)?void 0:We.relurl))&&(ae.initSegment=t)}),r.skippedSegments)if(r.deltaUpdateFailed=r.fragments.some(ee=>!ee),r.deltaUpdateFailed){An.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let ee=r.skippedSegments;ee--;)r.fragments.shift();r.startSN=r.fragments[0].sn,r.startCC=r.fragments[0].cc}else r.canSkipDateRanges&&(r.dateRanges=function gd(m,r,t){const l=Ge({},m);return t&&t.forEach(f=>{delete l[f]}),Object.keys(r).forEach(f=>{const y=new oo(r[f].attr,l[f]);y.isValid?l[f]=y:An.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(r[f].attr)}"`)}),l}(m.dateRanges,r.dateRanges,r.recentlyRemovedDateranges));const N=r.fragments;if(f){An.warn("discontinuity sliding from playlist, take drift into account");for(let ee=0;ee<N.length;ee++)N[ee].cc+=f}r.skippedSegments&&(r.startCC=r.fragments[0].cc),function oc(m,r,t){if(m&&r){let l=0;for(let f=0,y=m.length;f<=y;f++){const N=m[f],H=r[f+l];N&&H&&N.index===H.index&&N.fragment.sn===H.fragment.sn?t(N,H):l--}}}(m.partList,r.partList,(ee,ae)=>{ae.elementaryStreams=ee.elementaryStreams,ae.stats=ee.stats}),y?fu(r,y,y.startPTS,y.endPTS,y.startDTS,y.endDTS):_d(m,r),N.length&&(r.totalduration=r.edge-N[0].start),r.driftStartTime=m.driftStartTime,r.driftStart=m.driftStart;const H=r.advancedDateTime;if(r.advanced&&H){const ee=r.edge;r.driftStart||(r.driftStartTime=H,r.driftStart=ee),r.driftEndTime=H,r.driftEnd=ee}else r.driftEndTime=m.driftEndTime,r.driftEnd=m.driftEnd,r.advancedDateTime=m.advancedDateTime}(l,f),!this.canLoad||!f.live)return;let ee,ae,We;if(f.canBlockReload&&f.endSN&&f.advanced){const on=this.hls.config.lowLatencyMode,Sn=f.lastPartSn,Bn=f.endSN,Ln=f.lastPartIndex,zn=Sn===Bn;-1!==Ln?(ae=zn?Bn+1:Sn,We=zn?on?0:Ln:Ln+1):ae=Bn+1;const ei=f.age;let Ci=Math.min(ei+f.ageHeader-f.partTarget,1.5*f.targetduration);if(Ci>0){if(l&&Ci>l.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${l.tuneInGoal} to: ${Ci} with playlist age: ${f.age}`),Ci=0;else{const Xn=Math.floor(Ci/f.targetduration);ae+=Xn,void 0!==We&&(We+=Math.round(Ci%f.targetduration/f.partTarget)),this.log(`CDN Tune-in age: ${f.ageHeader}s last advanced ${ei.toFixed(2)}s goal: ${Ci} skip sn ${Xn} to part ${We}`)}f.tuneInGoal=Ci}if(ee=this.getDeliveryDirectives(f,t.deliveryDirectives,ae,We),on||!zn)return void this.loadPlaylist(ee)}else f.canBlockReload&&(ee=this.getDeliveryDirectives(f,t.deliveryDirectives,ae,We));const Ze=this.hls.mainForwardBufferInfo,Ht=function ca(m,r=1/0){let t=1e3*m.targetduration;if(m.updated){const l=m.fragments;if(l.length&&4*t>r){const y=1e3*l[l.length-1].duration;y<t&&(t=y)}}else t/=2;return Math.round(t)}(f,1e3*(f.edge-(Ze?Ze.end-Ze.len:0)));f.updated&&N>this.requestScheduled+Ht&&(this.requestScheduled=y.loading.start),void 0!==ae&&f.canBlockReload?this.requestScheduled=y.loading.first+Ht-(1e3*f.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+Ht<N?this.requestScheduled=N:this.requestScheduled-N<=0&&(this.requestScheduled+=Ht);let zt=this.requestScheduled-N;zt=Math.max(0,zt),this.log(`reload live playlist ${r} in ${Math.round(zt)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(ee),zt)}else this.clearTimer()}getDeliveryDirectives(r,t,l,f){let y=function Fd(m,r){const{canSkipUntil:t,canSkipDateRanges:l,endSN:f}=m;return t&&(void 0!==r?r-f:0)<t?l?"v2":"YES":""}(r,l);return null!=t&&t.skip&&r.deltaUpdateFailed&&(l=t.msn,f=t.part,y=""),new Jc(l,f,y)}checkRetry(r){const t=r.details,l=Ka(r),f=r.errorAction,{action:y,retryCount:N=0,retryConfig:H}=f||{},ee=!!f&&!!H&&(5===y||!f.resolved&&2===y);if(ee){var ae;if(this.requestScheduled=-1,N>=H.maxNumRetry)return!1;if(l&&null!=(ae=r.context)&&ae.deliveryDirectives)this.warn(`Retrying playlist loading ${N+1}/${H.maxNumRetry} after "${t}" without delivery-directives`),this.loadPlaylist();else{const We=sc(H,N);this.timer=self.setTimeout(()=>this.loadPlaylist(),We),this.warn(`Retrying playlist loading ${N+1}/${H.maxNumRetry} after "${t}" in ${We}ms`)}r.levelRetry=!0,f.resolved=!0}return ee}}let io;class pl extends So{constructor(r,t){super(r,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=t,this._registerListeners()}_registerListeners(){const{hls:r}=this;r.on(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.on(ct.MANIFEST_LOADED,this.onManifestLoaded,this),r.on(ct.LEVEL_LOADED,this.onLevelLoaded,this),r.on(ct.LEVELS_UPDATED,this.onLevelsUpdated,this),r.on(ct.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),r.on(ct.FRAG_LOADED,this.onFragLoaded,this),r.on(ct.ERROR,this.onError,this)}_unregisterListeners(){const{hls:r}=this;r.off(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.off(ct.MANIFEST_LOADED,this.onManifestLoaded,this),r.off(ct.LEVEL_LOADED,this.onLevelLoaded,this),r.off(ct.LEVELS_UPDATED,this.onLevelsUpdated,this),r.off(ct.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),r.off(ct.FRAG_LOADED,this.onFragLoaded,this),r.off(ct.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}startLoad(){this._levels.forEach(t=>{t.loadError=0,t.fragmentError=0}),super.startLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}onManifestLoading(r,t){this.resetLevels()}onManifestLoaded(r,t){const l=[],f={};let y;t.levels.forEach(N=>{var H;const ee=N.attrs;-1!==(null==(H=N.audioCodec)?void 0:H.indexOf("mp4a.40.34"))&&(io||(io=/chrome|firefox/i.test(navigator.userAgent)),io&&(N.audioCodec=void 0));const{AUDIO:ae,CODECS:We,"FRAME-RATE":Ze,"PATHWAY-ID":Dt,RESOLUTION:wt,SUBTITLES:Ht}=ee,on=`${Dt||"."}-${N.bitrate}-${wt}-${Ze}-${We}`;y=f[on],y?y.addFallback(N):(y=new Ac(N),f[on]=y,l.push(y)),Yo(y,"audio",ae),Yo(y,"text",Ht)}),this.filterAndSortMediaOptions(l,t)}filterAndSortMediaOptions(r,t){let l=[],f=[],y=!1,N=!1,H=!1,ee=r.filter(({audioCodec:wt,videoCodec:Ht,width:zt,height:on,unknownCodecs:Sn})=>(y||(y=!(!zt||!on)),N||(N=!!Ht),H||(H=!!wt),!(null!=Sn&&Sn.length)&&(!wt||aa(wt,"audio"))&&(!Ht||aa(Ht,"video"))));if((y||N)&&H&&(ee=ee.filter(({videoCodec:wt,width:Ht,height:zt})=>!!wt||!(!Ht||!zt))),0===ee.length)return void Promise.resolve().then(()=>{if(this.hls){const wt=new Error("no level with compatible codecs found in manifest");this.hls.trigger(ct.ERROR,{type:In.MEDIA_ERROR,details:yn.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:wt,reason:wt.message})}});t.audioTracks&&(l=t.audioTracks.filter(wt=>!wt.audioCodec||aa(wt.audioCodec,"audio")),gl(l)),t.subtitles&&(f=t.subtitles,gl(f));const ae=ee.slice(0);ee.sort((wt,Ht)=>wt.attrs["HDCP-LEVEL"]!==Ht.attrs["HDCP-LEVEL"]?(wt.attrs["HDCP-LEVEL"]||"")>(Ht.attrs["HDCP-LEVEL"]||"")?1:-1:wt.bitrate!==Ht.bitrate?wt.bitrate-Ht.bitrate:wt.attrs["FRAME-RATE"]!==Ht.attrs["FRAME-RATE"]?wt.attrs.decimalFloatingPoint("FRAME-RATE")-Ht.attrs.decimalFloatingPoint("FRAME-RATE"):wt.attrs.SCORE!==Ht.attrs.SCORE?wt.attrs.decimalFloatingPoint("SCORE")-Ht.attrs.decimalFloatingPoint("SCORE"):y&&wt.height!==Ht.height?wt.height-Ht.height:0);let We=ae[0];if(this.steering&&(ee=this.steering.filterParsedLevels(ee),ee.length!==ae.length))for(let wt=0;wt<ae.length;wt++)if(ae[wt].pathwayId===ee[0].pathwayId){We=ae[wt];break}this._levels=ee;for(let wt=0;wt<ee.length;wt++)if(ee[wt]===We){this._firstLevel=wt,this.log(`manifest loaded, ${ee.length} level(s) found, first bitrate: ${We.bitrate}`);break}const Dt={levels:ee,audioTracks:l,subtitleTracks:f,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:H,video:N,altAudio:!(H&&!N)&&l.some(wt=>!!wt.url)};this.hls.trigger(ct.MANIFEST_PARSED,Dt),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(r){const t=this._levels;if(0===t.length)return;if(r<0||r>=t.length){const We=new Error("invalid level idx"),Ze=r<0;if(this.hls.trigger(ct.ERROR,{type:In.OTHER_ERROR,details:yn.LEVEL_SWITCH_ERROR,level:r,fatal:Ze,error:We,reason:We.message}),Ze)return;r=Math.min(r,t.length-1)}const l=this.currentLevelIndex,f=this.currentLevel,y=f?f.attrs["PATHWAY-ID"]:void 0,N=t[r],H=N.attrs["PATHWAY-ID"];if(this.currentLevelIndex=r,this.currentLevel=N,l===r&&N.details&&f&&y===H)return;this.log(`Switching to level ${r}${H?" with Pathway "+H:""} from level ${l}${y?" with Pathway "+y:""}`);const ee=Ge({},N,{level:r,maxBitrate:N.maxBitrate,attrs:N.attrs,uri:N.uri,urlId:N.urlId});delete ee._attrs,delete ee._urlId,this.hls.trigger(ct.LEVEL_SWITCHING,ee);const ae=N.details;if(!ae||ae.live){const We=this.switchParams(N.uri,f?.details);this.loadPlaylist(We)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(r){this.manualLevelIndex=r,void 0===this._startLevel&&(this._startLevel=r),-1!==r&&(this.level=r)}get firstLevel(){return this._firstLevel}set firstLevel(r){this._firstLevel=r}get startLevel(){if(void 0===this._startLevel){const r=this.hls.config.startLevel;return void 0!==r?r:this._firstLevel}return this._startLevel}set startLevel(r){this._startLevel=r}onError(r,t){t.fatal||!t.context||"level"===t.context.type&&t.context.level===this.level&&this.checkRetry(t)}onFragLoaded(r,{frag:t}){if(void 0!==t&&"main"===t.type){const l=this._levels[t.level];void 0!==l&&(l.loadError=0)}}onLevelLoaded(r,t){var l;const{level:f,details:y}=t,N=this._levels[f];var H;if(!N)return this.warn(`Invalid level index ${f}`),void(null!=(H=t.deliveryDirectives)&&H.skip&&(y.deltaUpdateFailed=!0));f===this.currentLevelIndex?(0===N.fragmentError&&(N.loadError=0),this.playlistLoaded(f,t,N.details)):null!=(l=t.deliveryDirectives)&&l.skip&&(y.deltaUpdateFailed=!0)}onAudioTrackSwitched(r,t){const l=this.currentLevel;if(!l)return;const f=this.hls.audioTracks[t.id].groupId;if(l.audioGroupIds&&l.audioGroupId!==f){let y=-1;for(let N=0;N<l.audioGroupIds.length;N++)if(l.audioGroupIds[N]===f){y=N;break}-1!==y&&y!==l.urlId&&(l.urlId=y,this.canLoad&&this.startLoad())}}loadPlaylist(r){super.loadPlaylist();const t=this.currentLevelIndex,l=this.currentLevel;if(l&&this.shouldLoadPlaylist(l)){const f=l.urlId;let y=l.uri;if(r)try{y=r.addDirectives(y)}catch(H){this.warn(`Could not construct new URL with HLS Delivery Directives: ${H}`)}const N=l.attrs["PATHWAY-ID"];this.log(`Loading level index ${t}${void 0!==r?.msn?" at sn "+r.msn+" part "+r.part:""} with${N?" Pathway "+N:""} URI ${f+1}/${l.url.length} ${y}`),this.clearTimer(),this.hls.trigger(ct.LEVEL_LOADING,{url:y,level:t,id:f,deliveryDirectives:r||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(r){this.level=r,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=r)}removeLevel(r,t){const l=(y,N)=>N!==t,f=this._levels.filter((y,N)=>N!==r||(y.url.length>1&&void 0!==t?(y.url=y.url.filter(l),y.audioGroupIds&&(y.audioGroupIds=y.audioGroupIds.filter(l)),y.textGroupIds&&(y.textGroupIds=y.textGroupIds.filter(l)),y.urlId=0,!0):(this.steering&&this.steering.removeLevel(y),!1)));this.hls.trigger(ct.LEVELS_UPDATED,{levels:f})}onLevelsUpdated(r,{levels:t}){t.forEach((l,f)=>{const{details:y}=l;null!=y&&y.fragments&&y.fragments.forEach(N=>{N.level=f})}),this._levels=t}}function Yo(m,r,t){t&&("audio"===r?(m.audioGroupIds||(m.audioGroupIds=[]),m.audioGroupIds[m.url.length-1]=t):"text"===r&&(m.textGroupIds||(m.textGroupIds=[]),m.textGroupIds[m.url.length-1]=t))}function gl(m){const r={};m.forEach(t=>{const l=t.groupId||"";t.id=r[l]=r[l]||0,r[l]++})}class _l{constructor(r){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=r,this._registerListeners()}_registerListeners(){const{hls:r}=this;r.on(ct.BUFFER_APPENDED,this.onBufferAppended,this),r.on(ct.FRAG_BUFFERED,this.onFragBuffered,this),r.on(ct.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:r}=this;r.off(ct.BUFFER_APPENDED,this.onBufferAppended,this),r.off(ct.FRAG_BUFFERED,this.onFragBuffered,this),r.off(ct.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(r,t){const l=this.activePartLists[t];if(l)for(let f=l.length;f--;){const y=l[f];if(!y)break;const N=y.end;if(y.start<=r&&null!==N&&r<=N)return y}return this.getBufferedFrag(r,t)}getBufferedFrag(r,t){const{fragments:l}=this,f=Object.keys(l);for(let y=f.length;y--;){const N=l[f[y]];if(N?.body.type===t&&N.buffered){const H=N.body;if(H.start<=r&&r<=H.end)return H}}return null}detectEvictedFragments(r,t,l,f){this.timeRanges&&(this.timeRanges[r]=t);const y=f?.fragment.sn||-1;Object.keys(this.fragments).forEach(N=>{const H=this.fragments[N];if(!H||y>=H.body.sn)return;if(!H.buffered&&!H.loaded)return void(H.body.type===l&&this.removeFragment(H.body));const ee=H.range[r];ee&&ee.time.some(ae=>{const We=!this.isTimeBuffered(ae.startPTS,ae.endPTS,t);return We&&this.removeFragment(H.body),We})})}detectPartialFragments(r){const t=this.timeRanges,{frag:l,part:f}=r;if(!t||"initSegment"===l.sn)return;const y=ac(l),N=this.fragments[y];if(!N||N.buffered&&l.gap)return;const H=!l.relurl;Object.keys(t).forEach(ee=>{const ae=l.elementaryStreams[ee];ae&&(N.range[ee]=this.getBufferedTimes(l,f,H||!0===ae.partial,t[ee]))}),N.loaded=null,Object.keys(N.range).length?(N.buffered=!0,N.body.endList&&(this.endListFragments[N.body.type]=N),vl(N)||this.removeParts(l.sn-1,l.type)):this.removeFragment(N.body)}removeParts(r,t){const l=this.activePartLists[t];l&&(this.activePartLists[t]=l.filter(f=>f.fragment.sn>=r))}fragBuffered(r,t){const l=ac(r);let f=this.fragments[l];!f&&t&&(f=this.fragments[l]={body:r,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},r.gap&&(this.hasGaps=!0)),f&&(f.loaded=null,f.buffered=!0)}getBufferedTimes(r,t,l,f){const y={time:[],partial:l},N=r.start,H=r.end,ee=r.minEndPTS||H,ae=r.maxStartPTS||N;for(let We=0;We<f.length;We++){const Ze=f.start(We)-this.bufferPadding,Dt=f.end(We)+this.bufferPadding;if(ae>=Ze&&ee<=Dt){y.time.push({startPTS:Math.max(N,f.start(We)),endPTS:Math.min(H,f.end(We))});break}if(N<Dt&&H>Ze)y.partial=!0,y.time.push({startPTS:Math.max(N,f.start(We)),endPTS:Math.min(H,f.end(We))});else if(H<=Ze)break}return y}getPartialFragment(r){let l,f,y,t=null,N=0;const{bufferPadding:H,fragments:ee}=this;return Object.keys(ee).forEach(ae=>{const We=ee[ae];We&&vl(We)&&(f=We.body.start-H,y=We.body.end+H,r>=f&&r<=y&&(l=Math.min(r-f,y-r),N<=l&&(t=We.body,N=l)))}),t}isEndListAppended(r){const t=this.endListFragments[r];return void 0!==t&&(t.buffered||vl(t))}getState(r){const t=ac(r),l=this.fragments[t];return l?l.buffered?vl(l)?"PARTIAL":"OK":"APPENDING":"NOT_LOADED"}isTimeBuffered(r,t,l){let f,y;for(let N=0;N<l.length;N++){if(f=l.start(N)-this.bufferPadding,y=l.end(N)+this.bufferPadding,r>=f&&t<=y)return!0;if(t<=f)return!1}return!1}onFragLoaded(r,t){const{frag:l,part:f}=t;if("initSegment"===l.sn||l.bitrateTest)return;const y=f?null:t,N=ac(l);this.fragments[N]={body:l,appendedPTS:null,loaded:y,buffered:!1,range:Object.create(null)}}onBufferAppended(r,t){const{frag:l,part:f,timeRanges:y}=t;if("initSegment"===l.sn)return;const N=l.type;if(f){let H=this.activePartLists[N];H||(this.activePartLists[N]=H=[]),H.push(f)}this.timeRanges=y,Object.keys(y).forEach(H=>{this.detectEvictedFragments(H,y[H],N,f)})}onFragBuffered(r,t){this.detectPartialFragments(t)}hasFragment(r){const t=ac(r);return!!this.fragments[t]}hasParts(r){var t;return!(null==(t=this.activePartLists[r])||!t.length)}removeFragmentsInRange(r,t,l,f,y){f&&!this.hasGaps||Object.keys(this.fragments).forEach(N=>{const H=this.fragments[N];if(!H)return;const ee=H.body;ee.type!==l||f&&!ee.gap||ee.start<t&&ee.end>r&&(H.buffered||y)&&this.removeFragment(ee)})}removeFragment(r){const t=ac(r);r.stats.loaded=0,r.clearElementaryStreamInfo();const l=this.activePartLists[r.type];if(l){const f=r.sn;this.activePartLists[r.type]=l.filter(y=>y.fragment.sn!==f)}delete this.fragments[t],r.endList&&delete this.endListFragments[r.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function vl(m){var r,t,l;return m.buffered&&(m.body.gap||(null==(r=m.range.video)?void 0:r.partial)||(null==(t=m.range.audio)?void 0:t.partial)||(null==(l=m.range.audiovideo)?void 0:l.partial))}function ac(m){return`${m.type}_${m.level}_${m.urlId}_${m.sn}`}const Ud=Math.pow(2,17);class Gd{constructor(r){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=r}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(r,t){const l=r.url;if(!l)return Promise.reject(new Gs({type:In.NETWORK_ERROR,details:yn.FRAG_LOAD_ERROR,fatal:!1,frag:r,error:new Error("Fragment does not have a "+(l?"part list":"url")),networkDetails:null}));this.abort();const f=this.config,y=f.fLoader,N=f.loader;return new Promise((H,ee)=>{if(this.loader&&this.loader.destroy(),r.gap){if(r.tagList.some(wt=>"GAP"===wt[0]))return void ee(vd(r));r.gap=!1}const ae=this.loader=r.loader=y?new y(f):new N(f),We=hu(r),Ze=Bd(f.fragLoadPolicy.default),Dt={loadPolicy:Ze,timeout:Ze.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===r.sn?1/0:Ud};r.stats=ae.stats,ae.load(We,Dt,{onSuccess:(wt,Ht,zt,on)=>{this.resetLoader(r,ae);let Sn=wt.data;zt.resetIV&&r.decryptdata&&(r.decryptdata.iv=new Uint8Array(Sn.slice(0,16)),Sn=Sn.slice(16)),H({frag:r,part:null,payload:Sn,networkDetails:on})},onError:(wt,Ht,zt,on)=>{this.resetLoader(r,ae),ee(new Gs({type:In.NETWORK_ERROR,details:yn.FRAG_LOAD_ERROR,fatal:!1,frag:r,response:$i({url:l,data:void 0},wt),error:new Error(`HTTP Error ${wt.code} ${wt.text}`),networkDetails:zt,stats:on}))},onAbort:(wt,Ht,zt)=>{this.resetLoader(r,ae),ee(new Gs({type:In.NETWORK_ERROR,details:yn.INTERNAL_ABORTED,fatal:!1,frag:r,error:new Error("Aborted"),networkDetails:zt,stats:wt}))},onTimeout:(wt,Ht,zt)=>{this.resetLoader(r,ae),ee(new Gs({type:In.NETWORK_ERROR,details:yn.FRAG_LOAD_TIMEOUT,fatal:!1,frag:r,error:new Error(`Timeout after ${Dt.timeout}ms`),networkDetails:zt,stats:wt}))},onProgress:(wt,Ht,zt,on)=>{t&&t({frag:r,part:null,payload:zt,networkDetails:on})}})})}loadPart(r,t,l){this.abort();const f=this.config,y=f.fLoader,N=f.loader;return new Promise((H,ee)=>{if(this.loader&&this.loader.destroy(),r.gap||t.gap)return void ee(vd(r,t));const ae=this.loader=r.loader=y?new y(f):new N(f),We=hu(r,t),Ze=Bd(f.fragLoadPolicy.default),Dt={loadPolicy:Ze,timeout:Ze.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:Ud};t.stats=ae.stats,ae.load(We,Dt,{onSuccess:(wt,Ht,zt,on)=>{this.resetLoader(r,ae),this.updateStatsFromPart(r,t);const Sn={frag:r,part:t,payload:wt.data,networkDetails:on};l(Sn),H(Sn)},onError:(wt,Ht,zt,on)=>{this.resetLoader(r,ae),ee(new Gs({type:In.NETWORK_ERROR,details:yn.FRAG_LOAD_ERROR,fatal:!1,frag:r,part:t,response:$i({url:We.url,data:void 0},wt),error:new Error(`HTTP Error ${wt.code} ${wt.text}`),networkDetails:zt,stats:on}))},onAbort:(wt,Ht,zt)=>{r.stats.aborted=t.stats.aborted,this.resetLoader(r,ae),ee(new Gs({type:In.NETWORK_ERROR,details:yn.INTERNAL_ABORTED,fatal:!1,frag:r,part:t,error:new Error("Aborted"),networkDetails:zt,stats:wt}))},onTimeout:(wt,Ht,zt)=>{this.resetLoader(r,ae),ee(new Gs({type:In.NETWORK_ERROR,details:yn.FRAG_LOAD_TIMEOUT,fatal:!1,frag:r,part:t,error:new Error(`Timeout after ${Dt.timeout}ms`),networkDetails:zt,stats:wt}))}})})}updateStatsFromPart(r,t){const l=r.stats,f=t.stats,y=f.total;if(l.loaded+=f.loaded,y){const ee=Math.round(r.duration/t.duration),ae=Math.min(Math.round(l.loaded/y),ee),Ze=(ee-ae)*Math.round(l.loaded/ae);l.total=l.loaded+Ze}else l.total=Math.max(l.loaded,l.total);const N=l.loading,H=f.loading;N.start?N.first+=H.first-H.start:(N.start=H.start,N.first=H.first),N.end=H.end}resetLoader(r,t){r.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}function hu(m,r=null){const t=r||m,l={frag:m,part:r,responseType:"arraybuffer",url:t.url,headers:{},rangeStart:0,rangeEnd:0},f=t.byteRangeStartOffset,y=t.byteRangeEndOffset;if(Mt(f)&&Mt(y)){var N;let H=f,ee=y;if("initSegment"===m.sn&&"AES-128"===(null==(N=m.decryptdata)?void 0:N.method)){const ae=y-f;ae%16&&(ee=y+(16-ae%16)),0!==f&&(l.resetIV=!0,H=f-16)}l.rangeStart=H,l.rangeEnd=ee}return l}function vd(m,r){const t=new Error(`GAP ${m.gap?"tag":"attribute"} found`),l={type:In.MEDIA_ERROR,details:yn.FRAG_GAP,fatal:!1,frag:m,error:t,networkDetails:null};return r&&(l.part=r),(r||m).stats.aborted=!0,new Gs(l)}class Gs extends Error{constructor(r){super(r.error.message),this.data=void 0,this.data=r}}class qc{constructor(r){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=r}abort(r){for(const t in this.keyUriToKeyInfo){const l=this.keyUriToKeyInfo[t].loader;if(l){if(r&&r!==l.context.frag.type)return;l.abort()}}}detach(){for(const r in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[r];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[r]}}destroy(){this.detach();for(const r in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[r].loader;t&&t.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(r,t=yn.KEY_LOAD_ERROR,l,f,y){return new Gs({type:In.NETWORK_ERROR,details:t,fatal:!1,frag:r,response:y,error:l,networkDetails:f})}loadClear(r,t){if(this.emeController&&this.config.emeEnabled){const{sn:l,cc:f}=r;for(let y=0;y<t.length;y++){const N=t[y];if(f<=N.cc&&("initSegment"===l||"initSegment"===N.sn||l<N.sn)){this.emeController.selectKeySystemFormat(N).then(H=>{N.setKeyFormat(H)});break}}}}load(r){return!r.decryptdata&&r.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(r).then(t=>this.loadInternal(r,t)):this.loadInternal(r)}loadInternal(r,t){var l,f;t&&r.setKeyFormat(t);const y=r.decryptdata;if(!y){const ae=new Error(t?`Expected frag.decryptdata to be defined after setting format ${t}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(r,yn.KEY_LOAD_ERROR,ae))}const N=y.uri;if(!N)return Promise.reject(this.createKeyLoadError(r,yn.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${N}"`)));let H=this.keyUriToKeyInfo[N];if(null!=(l=H)&&l.decryptdata.key)return y.key=H.decryptdata.key,Promise.resolve({frag:r,keyInfo:H});var ee;if(null!=(f=H)&&f.keyLoadPromise)switch(null==(ee=H.mediaKeySessionContext)?void 0:ee.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return H.keyLoadPromise.then(ae=>(y.key=ae.keyInfo.decryptdata.key,{frag:r,keyInfo:H}))}switch(H=this.keyUriToKeyInfo[N]={decryptdata:y,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},y.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===y.keyFormat?this.loadKeyHTTP(H,r):this.loadKeyEME(H,r);case"AES-128":return this.loadKeyHTTP(H,r);default:return Promise.reject(this.createKeyLoadError(r,yn.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${y.method}"`)))}}loadKeyEME(r,t){const l={frag:t,keyInfo:r};if(this.emeController&&this.config.emeEnabled){const f=this.emeController.loadKey(l);if(f)return(r.keyLoadPromise=f.then(y=>(r.mediaKeySessionContext=y,l))).catch(y=>{throw r.keyLoadPromise=null,y})}return Promise.resolve(l)}loadKeyHTTP(r,t){const l=this.config,y=new(0,l.loader)(l);return t.keyLoader=r.loader=y,r.keyLoadPromise=new Promise((N,H)=>{const ee={keyInfo:r,frag:t,responseType:"arraybuffer",url:r.decryptdata.uri},ae=l.keyLoadPolicy.default;y.load(ee,{loadPolicy:ae,timeout:ae.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(Dt,wt,Ht,zt)=>{const{frag:on,keyInfo:Sn,url:Bn}=Ht;if(!on.decryptdata||Sn!==this.keyUriToKeyInfo[Bn])return H(this.createKeyLoadError(on,yn.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),zt));Sn.decryptdata.key=on.decryptdata.key=new Uint8Array(Dt.data),on.keyLoader=null,Sn.loader=null,N({frag:on,keyInfo:Sn})},onError:(Dt,wt,Ht,zt)=>{this.resetLoader(wt),H(this.createKeyLoadError(t,yn.KEY_LOAD_ERROR,new Error(`HTTP Error ${Dt.code} loading key ${Dt.text}`),Ht,$i({url:ee.url,data:void 0},Dt)))},onTimeout:(Dt,wt,Ht)=>{this.resetLoader(wt),H(this.createKeyLoadError(t,yn.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),Ht))},onAbort:(Dt,wt,Ht)=>{this.resetLoader(wt),H(this.createKeyLoadError(t,yn.INTERNAL_ABORTED,new Error("key loading aborted"),Ht))}})})}resetLoader(r){const{frag:t,keyInfo:l,url:f}=r,y=l.loader;t.keyLoader===y&&(t.keyLoader=null,l.loader=null),delete this.keyUriToKeyInfo[f],y&&y.destroy()}}class Uf{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(r){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,r),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}const rm={length:0,start:()=>0,end:()=>0};class ao{static isBuffered(r,t){try{if(r){const l=ao.getBuffered(r);for(let f=0;f<l.length;f++)if(t>=l.start(f)&&t<=l.end(f))return!0}}catch{}return!1}static bufferInfo(r,t,l){try{if(r){const f=ao.getBuffered(r),y=[];let N;for(N=0;N<f.length;N++)y.push({start:f.start(N),end:f.end(N)});return this.bufferedInfo(y,t,l)}}catch{}return{len:0,start:t,end:t,nextStart:void 0}}static bufferedInfo(r,t,l){t=Math.max(0,t),r.sort(function(ae,We){return ae.start-We.start||We.end-ae.end});let f=[];if(l)for(let ae=0;ae<r.length;ae++){const We=f.length;if(We){const Ze=f[We-1].end;r[ae].start-Ze<l?r[ae].end>Ze&&(f[We-1].end=r[ae].end):f.push(r[ae])}else f.push(r[ae])}else f=r;let N,y=0,H=t,ee=t;for(let ae=0;ae<f.length;ae++){const We=f[ae].start,Ze=f[ae].end;if(t+l>=We&&t<Ze)H=We,ee=Ze,y=ee-t;else if(t+l<We){N=We;break}}return{len:y,start:H||0,end:ee||0,nextStart:N}}static getBuffered(r){try{return r.buffered}catch(t){return An.log("failed to get media.buffered",t),rm}}}class mu{constructor(r,t,l,f=0,y=-1,N=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=r,this.sn=t,this.id=l,this.size=f,this.part=y,this.partial=N}}function gu(m,r){let t=null;for(let l=0,f=m.length;l<f;l++){const y=m[l];if(y&&y.cc===r){t=y;break}}return t}function Ie(m,r){if(m){const t=m.start+r;m.start=m.startPTS=t,m.endPTS=t+m.duration}}function Y(m,r){const t=r.fragments;for(let l=0,f=t.length;l<f;l++)Ie(t[l],m);r.fragmentHint&&Ie(r.fragmentHint,m),r.alignedSliding=!0}function Xt(m,r){if(!m.hasProgramDateTime||!r.hasProgramDateTime)return;const t=m.fragments,l=r.fragments;if(!t.length||!l.length)return;const y=l[Math.round(l.length/2)-1],N=gu(t,y.cc)||t[Math.round(t.length/2)-1],H=y.programDateTime,ee=N.programDateTime;null!==H&&null!==ee&&Y((ee-H)/1e3-(N.start-y.start),m)}class Nn{constructor(r,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=r,this.aesIV=t}decrypt(r,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,r)}}class Jn{constructor(r,t){this.subtle=void 0,this.key=void 0,this.subtle=r,this.key=t}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class Mi{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(r){const t=new DataView(r),l=new Uint32Array(4);for(let f=0;f<4;f++)l[f]=t.getUint32(4*f);return l}initTable(){const r=this.sBox,t=this.invSBox,l=this.subMix,f=l[0],y=l[1],N=l[2],H=l[3],ee=this.invSubMix,ae=ee[0],We=ee[1],Ze=ee[2],Dt=ee[3],wt=new Uint32Array(256);let Ht=0,zt=0,on=0;for(on=0;on<256;on++)wt[on]=on<128?on<<1:on<<1^283;for(on=0;on<256;on++){let Sn=zt^zt<<1^zt<<2^zt<<3^zt<<4;Sn=Sn>>>8^255&Sn^99,r[Ht]=Sn,t[Sn]=Ht;const Bn=wt[Ht],Ln=wt[Bn],$n=wt[Ln];let zn=257*wt[Sn]^16843008*Sn;f[Ht]=zn<<24|zn>>>8,y[Ht]=zn<<16|zn>>>16,N[Ht]=zn<<8|zn>>>24,H[Ht]=zn,zn=16843009*$n^65537*Ln^257*Bn^16843008*Ht,ae[Sn]=zn<<24|zn>>>8,We[Sn]=zn<<16|zn>>>16,Ze[Sn]=zn<<8|zn>>>24,Dt[Sn]=zn,Ht?(Ht=Bn^wt[wt[wt[$n^Bn]]],zt^=wt[wt[zt]]):Ht=zt=1}}expandKey(r){const t=this.uint8ArrayToUint32Array_(r);let l=!0,f=0;for(;f<t.length&&l;)l=t[f]===this.key[f],f++;if(l)return;this.key=t;const y=this.keySize=t.length;if(4!==y&&6!==y&&8!==y)throw new Error("Invalid aes key size="+y);const N=this.ksRows=4*(y+6+1);let H,ee;const ae=this.keySchedule=new Uint32Array(N),We=this.invKeySchedule=new Uint32Array(N),Ze=this.sBox,Dt=this.rcon,wt=this.invSubMix,Ht=wt[0],zt=wt[1],on=wt[2],Sn=wt[3];let Bn,Ln;for(H=0;H<N;H++)H<y?Bn=ae[H]=t[H]:(Ln=Bn,H%y==0?(Ln=Ln<<8|Ln>>>24,Ln=Ze[Ln>>>24]<<24|Ze[Ln>>>16&255]<<16|Ze[Ln>>>8&255]<<8|Ze[255&Ln],Ln^=Dt[H/y|0]<<24):y>6&&H%y==4&&(Ln=Ze[Ln>>>24]<<24|Ze[Ln>>>16&255]<<16|Ze[Ln>>>8&255]<<8|Ze[255&Ln]),ae[H]=Bn=(ae[H-y]^Ln)>>>0);for(ee=0;ee<N;ee++)H=N-ee,Ln=3&ee?ae[H]:ae[H-4],We[ee]=ee<4||H<=4?Ln:Ht[Ze[Ln>>>24]]^zt[Ze[Ln>>>16&255]]^on[Ze[Ln>>>8&255]]^Sn[Ze[255&Ln]],We[ee]=We[ee]>>>0}networkToHostOrderSwap(r){return r<<24|(65280&r)<<8|(16711680&r)>>8|r>>>24}decrypt(r,t,l){const f=this.keySize+6,y=this.invKeySchedule,N=this.invSBox,H=this.invSubMix,ee=H[0],ae=H[1],We=H[2],Ze=H[3],Dt=this.uint8ArrayToUint32Array_(l);let wt=Dt[0],Ht=Dt[1],zt=Dt[2],on=Dt[3];const Sn=new Int32Array(r),Bn=new Int32Array(Sn.length);let Ln,$n,zn,ui,ei,gi,Ci,Xn,zi,Pi,Hr,Vs,yo,yi;const xi=this.networkToHostOrderSwap;for(;t<Sn.length;){for(zi=xi(Sn[t]),Pi=xi(Sn[t+1]),Hr=xi(Sn[t+2]),Vs=xi(Sn[t+3]),ei=zi^y[0],gi=Vs^y[1],Ci=Hr^y[2],Xn=Pi^y[3],yo=4,yi=1;yi<f;yi++)Ln=ee[ei>>>24]^ae[gi>>16&255]^We[Ci>>8&255]^Ze[255&Xn]^y[yo],$n=ee[gi>>>24]^ae[Ci>>16&255]^We[Xn>>8&255]^Ze[255&ei]^y[yo+1],zn=ee[Ci>>>24]^ae[Xn>>16&255]^We[ei>>8&255]^Ze[255&gi]^y[yo+2],ui=ee[Xn>>>24]^ae[ei>>16&255]^We[gi>>8&255]^Ze[255&Ci]^y[yo+3],ei=Ln,gi=$n,Ci=zn,Xn=ui,yo+=4;Ln=N[ei>>>24]<<24^N[gi>>16&255]<<16^N[Ci>>8&255]<<8^N[255&Xn]^y[yo],$n=N[gi>>>24]<<24^N[Ci>>16&255]<<16^N[Xn>>8&255]<<8^N[255&ei]^y[yo+1],zn=N[Ci>>>24]<<24^N[Xn>>16&255]<<16^N[ei>>8&255]<<8^N[255&gi]^y[yo+2],ui=N[Xn>>>24]<<24^N[ei>>16&255]<<16^N[gi>>8&255]<<8^N[255&Ci]^y[yo+3],Bn[t]=xi(Ln^wt),Bn[t+1]=xi(ui^Ht),Bn[t+2]=xi(zn^zt),Bn[t+3]=xi($n^on),wt=zi,Ht=Pi,zt=Hr,on=Vs,t+=4}return Bn.buffer}}class sr{constructor(r,{removePKCS7Padding:t=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=r.enableSoftwareAES,this.removePKCS7Padding=t,t)try{const l=self.crypto;l&&(this.subtle=l.subtle||l.webkitSubtle)}catch{}null===this.subtle&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:r,remainderData:t}=this;if(!r||t)return this.reset(),null;const l=new Uint8Array(r);return this.reset(),this.removePKCS7Padding?function fi(m){const r=m.byteLength,t=r&&new DataView(m.buffer).getUint8(r-1);return t?to(m,0,r-t):m}(l):l}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(r,t,l){return this.useSoftware?new Promise((f,y)=>{this.softwareDecrypt(new Uint8Array(r),t,l);const N=this.flush();N?f(N.buffer):y(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(r),t,l)}softwareDecrypt(r,t,l){const{currentIV:f,currentResult:y,remainderData:N}=this;this.logOnce("JS AES decrypt"),N&&(r=so(N,r),this.remainderData=null);const H=this.getValidChunk(r);if(!H.length)return null;f&&(l=f);let ee=this.softwareDecrypter;ee||(ee=this.softwareDecrypter=new Mi),ee.expandKey(t);const ae=y;return this.currentResult=ee.decrypt(H.buffer,0,l),this.currentIV=to(H,-16).buffer,ae||null}webCryptoDecrypt(r,t,l){const f=this.subtle;return(this.key!==t||!this.fastAesKey)&&(this.key=t,this.fastAesKey=new Jn(f,t)),this.fastAesKey.expandKey().then(y=>f?(this.logOnce("WebCrypto AES decrypt"),new Nn(f,new Uint8Array(l)).decrypt(r.buffer,y)):Promise.reject(new Error("web crypto not initialized"))).catch(y=>(An.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${y.name}: ${y.message}`),this.onWebCryptoError(r,t,l)))}onWebCryptoError(r,t,l){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(r,t,l);const f=this.flush();if(f)return f.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(r){let t=r;const l=r.length-r.length%16;return l!==r.length&&(t=to(r,0,l),this.remainderData=to(r,l)),t}logOnce(r){this.logEnabled&&(An.log(`[decrypter]: ${r}`),this.logEnabled=!1)}}class Xc extends Uf{constructor(r,t,l,f,y){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state="STOPPED",this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=y,this.logPrefix=f,this.log=An.log.bind(An,`${f}:`),this.warn=An.warn.bind(An,`${f}:`),this.hls=r,this.fragmentLoader=new Gd(r.config),this.keyLoader=l,this.fragmentTracker=t,this.config=r.config,this.decrypter=new sr(r.config),r.on(ct.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(r){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const r=this.fragCurrent;null!=r&&r.loader&&(r.abortRequests(),this.fragmentTracker.removeFragment(r)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state="STOPPED"}_streamEnded(r,t){if(t.live||r.nextStart||!r.end||!this.media)return!1;const l=t.partList;if(null!=l&&l.length){const y=l[l.length-1];return ao.isBuffered(this.media,y.start+y.duration/2)}return this.fragmentTracker.isEndListAppended(t.fragments[t.fragments.length-1].type)}getLevelDetails(){var r;if(this.levels&&null!==this.levelLastLoaded)return null==(r=this.levels[this.levelLastLoaded])?void 0:r.details}onMediaAttached(r,t){const l=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),l.addEventListener("seeking",this.onvseeking),l.addEventListener("ended",this.onvended);const f=this.config;this.levels&&f.autoStartLoad&&"STOPPED"===this.state&&this.startLoad(f.startPosition)}onMediaDetaching(){const r=this.media;null!=r&&r.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),r&&this.onvseeking&&this.onvended&&(r.removeEventListener("seeking",this.onvseeking),r.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:r,fragCurrent:t,media:l,mediaBuffer:f,state:y}=this,N=l?l.currentTime:0,H=ao.bufferInfo(f||l,N,r.maxBufferHole);if(this.log(`media seeking to ${Mt(N)?N.toFixed(3):N}, state: ${y}`),"ENDED"===this.state)this.resetLoadingState();else if(t){const ee=r.maxFragLookUpTolerance,ae=t.start-ee,We=t.start+t.duration+ee;if(!H.len||We<H.start||ae>H.end){const Ze=N>We;(N<ae||Ze)&&(Ze&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}l&&(this.fragmentTracker.removeFragmentsInRange(N,1/0,this.playlistType,!0),this.lastCurrentTime=N),!this.loadedmetadata&&!H.len&&(this.nextLoadPosition=this.startPosition=N),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(r,t){this.startTimeOffset=t.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.stopLoad(),super.onHandlerDestroying()}onHandlerDestroyed(){this.state="STOPPED",this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(r,t,l){this._loadFragForPlayback(r,t,l)}_loadFragForPlayback(r,t,l){this._doFragLoad(r,t,l,y=>{if(this.fragContextChanged(r))return this.warn(`Fragment ${r.sn}${y.part?" p: "+y.part.index:""} of level ${r.level} was dropped during download.`),void this.fragmentTracker.removeFragment(r);r.stats.chunkCount++,this._handleFragmentLoadProgress(y)}).then(y=>{if(!y)return;const N=this.state;this.fragContextChanged(r)?("FRAG_LOADING"===N||!this.fragCurrent&&"PARSING"===N)&&(this.fragmentTracker.removeFragment(r),this.state="IDLE"):("payload"in y&&(this.log(`Loaded fragment ${r.sn} of level ${r.level}`),this.hls.trigger(ct.FRAG_LOADED,y)),this._handleFragmentLoadComplete(y))}).catch(y=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(y),this.resetFragmentLoading(r))})}clearTrackerIfNeeded(r){var t;const{fragmentTracker:l}=this;if("APPENDING"===l.getState(r)){const N=this.getFwdBufferInfo(this.mediaBuffer,r.type),H=Math.max(r.duration,N?N.len:this.config.maxBufferLength);this.reduceMaxBufferLength(H)&&l.removeFragment(r)}else 0===(null==(t=this.mediaBuffer)?void 0:t.buffered.length)?l.removeAllFragments():l.hasParts(r.type)&&(l.detectPartialFragments({frag:r,part:null,stats:r.stats,id:r.type}),"PARTIAL"===l.getState(r)&&l.removeFragment(r))}flushMainBuffer(r,t,l=null){r-t&&this.hls.trigger(ct.BUFFER_FLUSHING,{startOffset:r,endOffset:t,type:l})}_loadInitSegment(r,t){this._doFragLoad(r,t).then(l=>{if(!l||this.fragContextChanged(r)||!this.levels)throw new Error("init load aborted");return l}).then(l=>{const{hls:f}=this,{payload:y}=l,N=r.decryptdata;if(y&&y.byteLength>0&&N&&N.key&&N.iv&&"AES-128"===N.method){const H=self.performance.now();return this.decrypter.decrypt(new Uint8Array(y),N.key.buffer,N.iv.buffer).catch(ee=>{throw f.trigger(ct.ERROR,{type:In.MEDIA_ERROR,details:yn.FRAG_DECRYPT_ERROR,fatal:!1,error:ee,reason:ee.message,frag:r}),ee}).then(ee=>{const ae=self.performance.now();return f.trigger(ct.FRAG_DECRYPTED,{frag:r,payload:ee,stats:{tstart:H,tdecrypt:ae}}),l.payload=ee,l})}return l}).then(l=>{const{fragCurrent:f,hls:y,levels:N}=this;if(!N)throw new Error("init load aborted, missing levels");const H=r.stats;this.state="IDLE",t.fragmentError=0,r.data=new Uint8Array(l.payload),H.parsing.start=H.buffering.start=self.performance.now(),H.parsing.end=H.buffering.end=self.performance.now(),l.frag===f&&y.trigger(ct.FRAG_BUFFERED,{stats:H,frag:f,part:null,id:r.type}),this.tick()}).catch(l=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(l),this.resetFragmentLoading(r))})}fragContextChanged(r){const{fragCurrent:t}=this;return!r||!t||r.level!==t.level||r.sn!==t.sn||r.urlId!==t.urlId}fragBufferedComplete(r,t){var l,f,y,N;const H=this.mediaBuffer?this.mediaBuffer:this.media;this.log(`Buffered ${r.type} sn: ${r.sn}${t?" part: "+t.index:""} of ${"main"===this.playlistType?"level":"track"} ${r.level} (frag:[${(null!=(l=r.startPTS)?l:NaN).toFixed(3)}-${(null!=(f=r.endPTS)?f:NaN).toFixed(3)}] > buffer:${H?function(m){let r="";const t=m.length;for(let l=0;l<t;l++)r+=`[${m.start(l).toFixed(3)}-${m.end(l).toFixed(3)}]`;return r}(ao.getBuffered(H)):"(detached)"})`),this.state="IDLE",H&&(!this.loadedmetadata&&"main"==r.type&&H.buffered.length&&(null==(y=this.fragCurrent)?void 0:y.sn)===(null==(N=this.fragPrevious)?void 0:N.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(r){const{transmuxer:t}=this;if(!t)return;const{frag:l,part:f,partsLoaded:y}=r,N=!y||0===y.length||y.some(ee=>!ee),H=new mu(l.level,l.sn,l.stats.chunkCount+1,0,f?f.index:-1,!N);t.flush(H)}_handleFragmentLoadProgress(r){}_doFragLoad(r,t,l=null,f){var y;const N=t?.details;if(!this.levels||!N)throw new Error(`frag load aborted, missing level${N?"":" detail"}s`);let H=null;if(!r.encrypted||null!=(y=r.decryptdata)&&y.key?!r.encrypted&&N.encryptedFragments.length&&this.keyLoader.loadClear(r,N.encryptedFragments):(this.log(`Loading key for ${r.sn} of [${N.startSN}-${N.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${r.level}`),this.state="KEY_LOADING",this.fragCurrent=r,H=this.keyLoader.load(r).then(We=>{if(!this.fragContextChanged(We.frag))return this.hls.trigger(ct.KEY_LOADED,We),"KEY_LOADING"===this.state&&(this.state="IDLE"),We}),this.hls.trigger(ct.KEY_LOADING,{frag:r}),null===this.fragCurrent&&(H=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),l=Math.max(r.start,l||0),this.config.lowLatencyMode&&"initSegment"!==r.sn){const We=N.partList;if(We&&f){l>r.end&&N.fragmentHint&&(r=N.fragmentHint);const Ze=this.getNextPart(We,r,l);if(Ze>-1){const Dt=We[Ze];let wt;return this.log(`Loading part sn: ${r.sn} p: ${Dt.index} cc: ${r.cc} of playlist [${N.startSN}-${N.endSN}] parts [0-${Ze}-${We.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${r.level}, target: ${parseFloat(l.toFixed(3))}`),this.nextLoadPosition=Dt.start+Dt.duration,this.state="FRAG_LOADING",wt=H?H.then(Ht=>!Ht||this.fragContextChanged(Ht.frag)?null:this.doFragPartsLoad(r,Dt,t,f)).catch(Ht=>this.handleFragLoadError(Ht)):this.doFragPartsLoad(r,Dt,t,f).catch(Ht=>this.handleFragLoadError(Ht)),this.hls.trigger(ct.FRAG_LOADING,{frag:r,part:Dt,targetBufferTime:l}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):wt}if(!r.url||this.loadedEndOfParts(We,l))return Promise.resolve(null)}}this.log(`Loading fragment ${r.sn} cc: ${r.cc} ${N?"of ["+N.startSN+"-"+N.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${r.level}, target: ${parseFloat(l.toFixed(3))}`),Mt(r.sn)&&!this.bitrateTest&&(this.nextLoadPosition=r.start+r.duration),this.state="FRAG_LOADING";const ee=this.config.progressive;let ae;return ae=ee&&H?H.then(We=>!We||this.fragContextChanged(We?.frag)?null:this.fragmentLoader.load(r,f)).catch(We=>this.handleFragLoadError(We)):Promise.all([this.fragmentLoader.load(r,ee?f:void 0),H]).then(([We])=>(!ee&&We&&f&&f(We),We)).catch(We=>this.handleFragLoadError(We)),this.hls.trigger(ct.FRAG_LOADING,{frag:r,targetBufferTime:l}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):ae}doFragPartsLoad(r,t,l,f){return new Promise((y,N)=>{var H;const ee=[],ae=null==(H=l.details)?void 0:H.partList,We=Ze=>{this.fragmentLoader.loadPart(r,Ze,f).then(Dt=>{ee[Ze.index]=Dt;const wt=Dt.part;this.hls.trigger(ct.FRAG_LOADED,Dt);const Ht=_o(l,r.sn,Ze.index+1)||no(ae,r.sn,Ze.index+1);if(!Ht)return y({frag:r,part:wt,partsLoaded:ee});We(Ht)}).catch(N)};We(t)})}handleFragLoadError(r){if("data"in r){const t=r.data;r.data&&t.details===yn.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(ct.ERROR,t)}else this.hls.trigger(ct.ERROR,{type:In.OTHER_ERROR,details:yn.INTERNAL_EXCEPTION,err:r,error:r,fatal:!0});return null}_handleTransmuxerFlush(r){const t=this.getCurrentContext(r);if(!t||"PARSING"!==this.state)return void(!this.fragCurrent&&"STOPPED"!==this.state&&"ERROR"!==this.state&&(this.state="IDLE"));const{frag:l,part:f,level:y}=t,N=self.performance.now();l.stats.parsing.end=N,f&&(f.stats.parsing.end=N),this.updateLevelTiming(l,f,y,r.partial)}getCurrentContext(r){const{levels:t,fragCurrent:l}=this,{level:f,sn:y,part:N}=r;if(null==t||!t[f])return this.warn(`Levels object was unset while buffering fragment ${y} of level ${f}. The current chunk will not be buffered.`),null;const H=t[f],ee=N>-1?_o(H,y,N):null,ae=ee?ee.fragment:function da(m,r,t){if(null==m||!m.details)return null;const l=m.details;let f=l.fragments[r-l.startSN];return f||(f=l.fragmentHint,f&&f.sn===r)?f:r<l.startSN&&t&&t.sn===r?t:null}(H,y,l);return ae?(l&&l!==ae&&(ae.stats=l.stats),{frag:ae,part:ee,level:H}):null}bufferFragmentData(r,t,l,f,y){var N;if(!r||"PARSING"!==this.state)return;const{data1:H,data2:ee}=r;let ae=H;if(H&&ee&&(ae=so(H,ee)),null!=(N=ae)&&N.length&&(this.hls.trigger(ct.BUFFER_APPENDING,{type:r.type,frag:t,part:l,chunkMeta:f,parent:t.type,data:ae}),r.dropped&&r.independent&&!l)){if(y)return;this.flushBufferGap(t)}}flushBufferGap(r){const t=this.media;if(!t)return;if(!ao.isBuffered(t,t.currentTime))return void this.flushMainBuffer(0,r.start);const l=t.currentTime,f=ao.bufferInfo(t,l,0),N=Math.min(2*this.config.maxFragLookUpTolerance,.25*r.duration),H=Math.max(Math.min(r.start-N,f.end-N),l+N);r.start-H>N&&this.flushMainBuffer(H,r.start)}getFwdBufferInfo(r,t){const l=this.getLoadPosition();return Mt(l)?this.getFwdBufferInfoAtPos(r,l,t):null}getFwdBufferInfoAtPos(r,t,l){const{config:{maxBufferHole:f}}=this,y=ao.bufferInfo(r,t,f);if(0===y.len&&void 0!==y.nextStart){const N=this.fragmentTracker.getBufferedFrag(t,l);if(N&&y.nextStart<N.end)return ao.bufferInfo(r,t,Math.max(y.nextStart,f))}return y}getMaxBufferLength(r){const{config:t}=this;let l;return l=r?Math.max(8*t.maxBufferSize/r,t.maxBufferLength):t.maxBufferLength,Math.min(l,t.maxMaxBufferLength)}reduceMaxBufferLength(r){const t=this.config;return t.maxMaxBufferLength>=(r||t.maxBufferLength)&&(t.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${t.maxMaxBufferLength}s`),!0)}getAppendedFrag(r,t="main"){const l=this.fragmentTracker.getAppendedFrag(r,"main");return l&&"fragment"in l?l.fragment:l}getNextFragment(r,t){const l=t.fragments,f=l.length;if(!f)return null;const{config:y}=this,N=l[0].start;let H;if(t.live){const ee=y.initialLiveManifestSize;if(f<ee)return this.warn(`Not enough fragments to start playback (have: ${f}, need: ${ee})`),null;!t.PTSKnown&&!this.startFragRequested&&-1===this.startPosition&&(H=this.getInitialLiveFragment(t,l),this.startPosition=H?this.hls.liveSyncPosition||H.start:r)}else r<=N&&(H=l[0]);return H||(H=this.getFragmentAtPosition(r,y.lowLatencyMode?t.partEnd:t.fragmentEnd,t)),this.mapToInitFragWhenRequired(H)}isLoopLoading(r,t){const l=this.fragmentTracker.getState(r);return("OK"===l||"PARTIAL"===l&&!!r.gap)&&this.nextLoadPosition>t}getNextFragmentLoopLoading(r,t,l,f,y){const N=r.gap,H=this.getNextFragment(this.nextLoadPosition,t);if(null===H)return H;if(r=H,N&&r&&!r.gap&&l.nextStart){const ee=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,l.nextStart,f);if(null!==ee&&l.len+ee.len>=y)return this.log(`buffer full after gaps in "${f}" playlist starting at sn: ${r.sn}`),null}return r}mapToInitFragWhenRequired(r){return null==r||!r.initSegment||null!=r&&r.initSegment.data||this.bitrateTest?r:r.initSegment}getNextPart(r,t,l){let f=-1,y=!1,N=!0;for(let H=0,ee=r.length;H<ee;H++){const ae=r[H];if(N=N&&!ae.independent,f>-1&&l<ae.start)break;const We=ae.loaded;We?f=-1:(y||ae.independent||N)&&ae.fragment===t&&(f=H),y=We}return f}loadedEndOfParts(r,t){const l=r[r.length-1];return l&&t>l.start&&l.loaded}getInitialLiveFragment(r,t){const l=this.fragPrevious;let f=null;if(l){if(r.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${l.programDateTime}`),f=function Bt(m,r,t){if(null===r||!Array.isArray(m)||!m.length||!Mt(r))return null;if(r<(m[0].programDateTime||0))return null;if(r>=(m[m.length-1].endProgramDateTime||0))return null;t=t||0;for(let y=0;y<m.length;++y){const N=m[y];if(Fn(r,t,N))return N}return null}(t,l.endProgramDateTime,this.config.maxFragLookUpTolerance)),!f){const y=l.sn+1;if(y>=r.startSN&&y<=r.endSN){const N=t[y-r.startSN];l.cc===N.cc&&(f=N,this.log(`Live playlist, switching playlist, load frag with next SN: ${f.sn}`))}f||(f=function Qn(m,r){return st.search(m,t=>t.cc<r?1:t.cc>r?-1:0)}(t,l.cc),f&&this.log(`Live playlist, switching playlist, load frag with same CC: ${f.sn}`))}}else{const y=this.hls.liveSyncPosition;null!==y&&(f=this.getFragmentAtPosition(y,this.bitrateTest?r.fragmentEnd:r.edge,r))}return f}getFragmentAtPosition(r,t,l){const{config:f}=this;let{fragPrevious:y}=this,{fragments:N,endSN:H}=l;const{fragmentHint:ee}=l,ae=f.maxFragLookUpTolerance,We=l.partList,Ze=!!(f.lowLatencyMode&&null!=We&&We.length&&ee);let Dt;if(Ze&&ee&&!this.bitrateTest&&(N=N.concat(ee),H=ee.sn),Dt=r<t?an(y,N,r,r>t-ae?0:ae):N[N.length-1],Dt){const wt=Dt.sn-l.startSN,Ht=this.fragmentTracker.getState(Dt);if(("OK"===Ht||"PARTIAL"===Ht&&Dt.gap)&&(y=Dt),y&&Dt.sn===y.sn&&(!Ze||We[0].fragment.sn>Dt.sn)&&y&&Dt.level===y.level){const on=N[wt+1];Dt=Dt.sn<H&&"OK"!==this.fragmentTracker.getState(on)?on:null}}return Dt}synchronizeToLiveEdge(r){const{config:t,media:l}=this;if(!l)return;const f=this.hls.liveSyncPosition,y=l.currentTime,H=r.edge,ee=y>=r.fragments[0].start-t.maxFragLookUpTolerance&&y<=H;null!==f&&l.duration>f&&(y<f||!ee)&&(!ee&&l.readyState<4||y<H-(void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*r.targetduration))&&(this.loadedmetadata||(this.nextLoadPosition=f),l.readyState&&(this.warn(`Playback: ${y.toFixed(3)} is located too far from the end of live sliding playlist: ${H}, reset currentTime to : ${f.toFixed(3)}`),l.currentTime=f))}alignPlaylists(r,t){const{levels:l,levelLastLoaded:f,fragPrevious:y}=this,N=null!==f?l[f]:null,H=r.fragments.length;if(!H)return this.warn("No fragments in live playlist"),0;const ee=r.fragments[0].start,ae=!t,We=r.alignedSliding&&Mt(ee);if(ae||!We&&!ee){!function re(m,r,t){r&&(function Ye(m,r,t){if(function Wu(m,r,t){return!(!r.details||!(t.endCC>t.startCC||m&&m.cc<t.startCC))}(m,t,r)){const l=function Gf(m,r,t=0){const l=m.fragments,f=r.fragments;if(!f.length||!l.length)return void An.log("No fragments to align");const y=gu(l,f[0].cc);if(y&&(!y||y.startPTS))return y;An.log("No frag in previous level to align on")}(t.details,r);l&&Mt(l.start)&&(An.log(`Adjusting PTS using last level due to CC increase within current level ${r.url}`),Y(l.start,r))}}(m,t,r),!t.alignedSliding&&r.details&&function Gt(m,r){if(!r.fragments.length||!m.hasProgramDateTime||!r.hasProgramDateTime)return;const t=r.fragments[0].programDateTime,l=m.fragments[0].programDateTime,f=(l-t)/1e3+r.fragments[0].start;f&&Mt(f)&&(An.log(`Adjusting PTS using programDateTime delta ${l-t}ms, sliding:${f.toFixed(3)} ${m.url} `),Y(f,m))}(t,r.details),!t.alignedSliding&&r.details&&!t.skippedSegments&&_d(r.details,t))}(y,N,r);const Ze=r.fragments[0].start;return this.log(`Live playlist sliding: ${Ze.toFixed(2)} start-sn: ${t?t.startSN:"na"}->${r.startSN} prev-sn: ${y?y.sn:"na"} fragments: ${H}`),Ze}return ee}waitForCdnTuneIn(r){return r.live&&r.canBlockReload&&r.partTarget&&r.tuneInGoal>Math.max(r.partHoldBack,3*r.partTarget)}setStartPosition(r,t){let l=this.startPosition;if(l<t&&(l=-1),-1===l||-1===this.lastCurrentTime){const f=null!==this.startTimeOffset,y=f?this.startTimeOffset:r.startTimeOffset;null!==y&&Mt(y)?(l=t+y,y<0&&(l+=r.totalduration),l=Math.min(Math.max(t,l),t+r.totalduration),this.log(`Start time offset ${y} found in ${f?"multivariant":"media"} playlist, adjust startPosition to ${l}`),this.startPosition=l):r.live?l=this.hls.liveSyncPosition||t:this.startPosition=l=0,this.lastCurrentTime=l}this.nextLoadPosition=l}getLoadPosition(){const{media:r}=this;let t=0;return this.loadedmetadata&&r?t=r.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t}handleFragLoadAborted(r,t){this.transmuxer&&"initSegment"!==r.sn&&r.stats.aborted&&(this.warn(`Fragment ${r.sn}${t?" part "+t.index:""} of level ${r.level} was aborted`),this.resetFragmentLoading(r))}resetFragmentLoading(r){(!this.fragCurrent||!this.fragContextChanged(r)&&"FRAG_LOADING_WAITING_RETRY"!==this.state)&&(this.state="IDLE")}onFragmentOrKeyLoadError(r,t){if(t.chunkMeta&&!t.frag){const Ze=this.getCurrentContext(t.chunkMeta);Ze&&(t.frag=Ze.frag)}const l=t.frag;if(!l||l.type!==r||!this.levels)return;var f;if(this.fragContextChanged(l))return void this.warn(`Frag load error must match current frag to retry ${l.url} > ${null==(f=this.fragCurrent)?void 0:f.url}`);const y=t.details===yn.FRAG_GAP;y&&this.fragmentTracker.fragBuffered(l,!0);const N=t.errorAction,{action:H,retryCount:ee=0,retryConfig:ae}=N||{};if(N&&5===H&&ae){var We;this.resetStartWhenNotLoaded(null!=(We=this.levelLastLoaded)?We:l.level);const Ze=sc(ae,ee);this.warn(`Fragment ${l.sn} of ${r} ${l.level} errored with ${t.details}, retrying loading ${ee+1}/${ae.maxNumRetry} in ${Ze}ms`),N.resolved=!0,this.retryDate=self.performance.now()+Ze,this.state="FRAG_LOADING_WAITING_RETRY"}else ae&&N?(this.resetFragmentErrors(r),ee<ae.maxNumRetry?y||(N.resolved=!0):An.warn(`${t.details} reached or exceeded max retry (${ee})`)):this.state=2===N?.action?"WAITING_LEVEL":"ERROR";this.tickImmediate()}reduceLengthAndFlushBuffer(r){if("PARSING"===this.state||"PARSED"===this.state){const t=r.parent,l=this.getFwdBufferInfo(this.mediaBuffer,t),f=l&&l.len>.5;f&&this.reduceMaxBufferLength(l.len);const y=!f;return y&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${t} buffer`),r.frag&&(this.fragmentTracker.removeFragment(r.frag),this.nextLoadPosition=r.frag.start),this.resetLoadingState(),y}return!1}resetFragmentErrors(r){"audio"===r&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),"STOPPED"!==this.state&&(this.state="IDLE")}afterBufferFlushed(r,t,l){if(!r)return;const f=ao.getBuffered(r);this.fragmentTracker.detectEvictedFragments(t,f,l),"ENDED"===this.state&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state="IDLE"}resetStartWhenNotLoaded(r){if(!this.loadedmetadata){this.startFragRequested=!1;const t=this.levels?this.levels[r].details:null;null!=t&&t.live?(this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(r){var t;this.warn(`The loading context changed while buffering fragment ${r.sn} of level ${r.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(null!=(t=this.levelLastLoaded)?t:r.level),this.resetLoadingState()}removeUnbufferedFrags(r=0){this.fragmentTracker.removeFragmentsInRange(r,1/0,this.playlistType,!1,!0)}updateLevelTiming(r,t,l,f){var y;const N=l.details;if(N){if(Object.keys(r.elementaryStreams).reduce((ee,ae)=>{const We=r.elementaryStreams[ae];if(We){const Ze=We.endPTS-We.startPTS;if(Ze<=0)return this.warn(`Could not parse fragment ${r.sn} ${ae} duration reliably (${Ze})`),ee||!1;const Dt=f?0:fu(N,r,We.startPTS,We.endPTS,We.startDTS,We.endDTS);return this.hls.trigger(ct.LEVEL_PTS_UPDATED,{details:N,level:l,drift:Dt,type:ae,frag:r,start:We.startPTS,end:We.endPTS}),!0}return ee},!1))l.fragmentError=0;else if(null===(null==(y=this.transmuxer)?void 0:y.error)){const ee=new Error(`Found no media in fragment ${r.sn} of level ${r.level} resetting transmuxer to fallback to playlist timing`);if(0===l.fragmentError&&(l.fragmentError++,r.gap=!0,this.fragmentTracker.removeFragment(r),this.fragmentTracker.fragBuffered(r,!0)),this.warn(ee.message),this.hls.trigger(ct.ERROR,{type:In.MEDIA_ERROR,details:yn.FRAG_PARSING_ERROR,fatal:!1,error:ee,frag:r,reason:`Found no media in msn ${r.sn} of level "${l.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state="PARSED",this.hls.trigger(ct.FRAG_PARSED,{frag:r,part:t})}else this.warn("level.details undefined")}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(r){var t,l,f;"demuxerWorker"===r.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(null!=(t=null!=(l=this.levelLastLoaded)?l:null==(f=this.fragCurrent)?void 0:f.level)?t:0),this.resetLoadingState())}set state(r){const t=this._state;t!==r&&(this._state=r,this.log(`${t}->${r}`))}get state(){return this._state}}function yd(){return self.SourceBuffer||self.WebKitSourceBuffer}function ba(m="",r=9e4){return{type:m,id:-1,pid:-1,inputTimeScale:r,sequenceNumber:-1,samples:[],dropped:0}}class ed{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(r,t,l,f){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(r){this.initPTS=r,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(r,t){return!1}appendFrame(r,t,l){}demux(r,t){this.cachedData&&(r=so(this.cachedData,r),this.cachedData=null);let y,l=Sr(r,0),f=l?l.length:0;const N=this._audioTrack,H=this._id3Track,ee=l?(m=>{const r=Ql(m);for(let t=0;t<r.length;t++){const l=r[t];if(ol(l))return na(l)}})(l):void 0,ae=r.length;for((null===this.basePTS||0===this.frameIndex&&Mt(ee))&&(this.basePTS=bd(ee,t,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),l&&l.length>0&&H.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:l,type:"org.id3",duration:Number.POSITIVE_INFINITY});f<ae;){if(this.canParse(r,f)){const We=this.appendFrame(N,r,f);We?(this.frameIndex++,this.lastPTS=We.sample.pts,f+=We.length,y=f):f=ae}else Lo(r,f)?(l=Sr(r,f),H.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:l,type:"org.id3",duration:Number.POSITIVE_INFINITY}),f+=l.length,y=f):f++;if(f===ae&&y!==ae){const We=to(r,y);this.cachedData=this.cachedData?so(this.cachedData,We):We}}return{audioTrack:N,videoTrack:ba(),id3Track:H,textTrack:ba()}}demuxSampleAes(r,t,l){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(r){const t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:ba(),id3Track:this._id3Track,textTrack:ba()}}destroy(){}}const bd=(m,r,t)=>Mt(m)?90*m:9e4*r+(t?9e4*t.baseTime/t.timescale:0);function Pc(m,r){return 255===m[r]&&240==(246&m[r+1])}function Hd(m,r){return 1&m[r+1]?7:9}function kl(m,r){return(3&m[r+3])<<11|m[r+4]<<3|(224&m[r+5])>>>5}function Fl(m,r){return r+1<m.length&&Pc(m,r)}function sm(m,r){if(Fl(m,r)){const t=Hd(m,r);if(r+t>=m.length)return!1;const l=kl(m,r);if(l<=t)return!1;const f=r+l;return f===m.length||Fl(m,f)}return!1}function Hf(m,r,t,l,f){if(!m.samplerate){const y=function wc(m,r,t,l){let f,y,N,H;const ee=navigator.userAgent.toLowerCase(),ae=l,We=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];f=1+((192&r[t+2])>>>6);const Ze=(60&r[t+2])>>>2;if(!(Ze>We.length-1))return N=(1&r[t+2])<<2,N|=(192&r[t+3])>>>6,An.log(`manifest codec:${l}, ADTS type:${f}, samplingIndex:${Ze}`),/firefox/i.test(ee)?Ze>=6?(f=5,H=new Array(4),y=Ze-3):(f=2,H=new Array(2),y=Ze):-1!==ee.indexOf("android")?(f=2,H=new Array(2),y=Ze):(f=5,H=new Array(4),l&&(-1!==l.indexOf("mp4a.40.29")||-1!==l.indexOf("mp4a.40.5"))||!l&&Ze>=6?y=Ze-3:((l&&-1!==l.indexOf("mp4a.40.2")&&(Ze>=6&&1===N||/vivaldi/i.test(ee))||!l&&1===N)&&(f=2,H=new Array(2)),y=Ze)),H[0]=f<<3,H[0]|=(14&Ze)>>1,H[1]|=(1&Ze)<<7,H[1]|=N<<3,5===f&&(H[1]|=(14&y)>>1,H[2]=(1&y)<<7,H[2]|=8,H[3]=0),{config:H,samplerate:We[Ze],channelCount:N,codec:"mp4a.40."+f,manifestCodec:ae};m.trigger(ct.ERROR,{type:In.MEDIA_ERROR,details:yn.FRAG_PARSING_ERROR,fatal:!0,reason:`invalid ADTS sampling index:${Ze}`})}(r,t,l,f);if(!y)return;m.config=y.config,m.samplerate=y.samplerate,m.channelCount=y.channelCount,m.codec=y.codec,m.manifestCodec=y.manifestCodec,An.log(`parsed codec:${m.codec}, rate:${y.samplerate}, channels:${y.channelCount}`)}}function zu(m){return 9216e4/m}function am(m,r,t,l,f){const N=l+f*zu(m.samplerate),H=function jd(m,r){const t=Hd(m,r);if(r+t<=m.length){const l=kl(m,r)-t;if(l>0)return{headerLength:t,frameLength:l}}}(r,t);let ee;if(H){const{frameLength:Ze,headerLength:Dt}=H,wt=Dt+Ze,Ht=Math.max(0,t+wt-r.length);Ht?(ee=new Uint8Array(wt-Dt),ee.set(r.subarray(t+Dt,r.length),0)):ee=r.subarray(t+Dt,t+wt);const zt={unit:ee,pts:N};return Ht||m.samples.push(zt),{sample:zt,length:wt,missing:Ht}}const ae=r.length-t;return ee=new Uint8Array(ae),ee.set(r.subarray(t,r.length),0),{sample:{unit:ee,pts:N},length:ae,missing:-1}}const lm=/\/emsg[-/]ID3/i;let Vd=null;const Vf=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],ua=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],yu=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Zu=[0,1,1,4];function Kd(m,r,t,l,f){if(t+24>r.length)return;const y=vs(r,t);if(y&&t+y.frameLength<=r.length){const H=l+f*(9e4*y.samplesPerFrame/y.sampleRate),ee={unit:r.subarray(t,t+y.frameLength),pts:H,dts:H};return m.config=[],m.channelCount=y.channelCount,m.samplerate=y.sampleRate,m.samples.push(ee),{sample:ee,length:y.frameLength,missing:0}}}function vs(m,r){const t=m[r+1]>>3&3,l=m[r+1]>>1&3,f=m[r+2]>>4&15,y=m[r+2]>>2&3;if(1!==t&&0!==f&&15!==f&&3!==y){const H=m[r+3]>>6,ae=1e3*Vf[14*(3===t?3-l:3===l?3:4)+f-1],Ze=ua[3*(3===t?0:2===t?1:2)+y],Dt=3===H?1:2,wt=yu[t][l],Ht=Zu[l],zt=8*wt*Ht,on=Math.floor(wt*ae/Ze+(m[r+2]>>1&1))*Ht;if(null===Vd){const Ln=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Vd=Ln?parseInt(Ln[1]):0}return!!Vd&&Vd<=87&&2===l&&ae>=224e3&&0===H&&(m[r+3]=128|m[r+3]),{sampleRate:Ze,channelCount:Dt,frameLength:on,samplesPerFrame:zt}}}function Ed(m,r){return 255===m[r]&&224==(224&m[r+1])&&0!=(6&m[r+1])}function Kf(m,r){return r+1<m.length&&Ed(m,r)}function cm(m,r){if(r+1<m.length&&Ed(m,r)){const l=vs(m,r);let f=4;null!=l&&l.frameLength&&(f=l.frameLength);const y=r+f;return y===m.length||Kf(m,y)}return!1}class $u{constructor(r){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=r,this.bytesAvailable=r.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const r=this.data,t=this.bytesAvailable,l=r.byteLength-t,f=new Uint8Array(4),y=Math.min(4,t);if(0===y)throw new Error("no bytes available");f.set(r.subarray(l,l+y)),this.word=new DataView(f.buffer).getUint32(0),this.bitsAvailable=8*y,this.bytesAvailable-=y}skipBits(r){let t;r=Math.min(r,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>r?(this.word<<=r,this.bitsAvailable-=r):(t=(r-=this.bitsAvailable)>>3,r-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=r,this.bitsAvailable-=r)}readBits(r){let t=Math.min(this.bitsAvailable,r);const l=this.word>>>32-t;if(r>32&&An.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return t=r-t,t>0&&this.bitsAvailable?l<<t|this.readBits(t):l}skipLZ(){let r;for(r=0;r<this.bitsAvailable;++r)if(this.word&2147483648>>>r)return this.word<<=r,this.bitsAvailable-=r,r;return this.loadWord(),r+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const r=this.skipLZ();return this.readBits(r+1)-1}readEG(){const r=this.readUEG();return 1&r?1+r>>>1:-1*(r>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(r){let f,t=8,l=8;for(let y=0;y<r;y++)0!==l&&(f=this.readEG(),l=(t+f+256)%256),t=0===l?t:l}readSPS(){let y,N,H,r=0,t=0,l=0,f=0;const ee=this.readUByte.bind(this),ae=this.readBits.bind(this),We=this.readUEG.bind(this),Ze=this.readBoolean.bind(this),Dt=this.skipBits.bind(this),wt=this.skipEG.bind(this),Ht=this.skipUEG.bind(this),zt=this.skipScalingList.bind(this);ee();const on=ee();if(ae(5),Dt(3),ee(),Ht(),100===on||110===on||122===on||244===on||44===on||83===on||86===on||118===on||128===on){const ui=We();if(3===ui&&Dt(1),Ht(),Ht(),Dt(1),Ze())for(N=3!==ui?8:12,H=0;H<N;H++)Ze()&&zt(H<6?16:64)}Ht();const Sn=We();if(0===Sn)We();else if(1===Sn)for(Dt(1),wt(),wt(),y=We(),H=0;H<y;H++)wt();Ht(),Dt(1);const Bn=We(),Ln=We(),$n=ae(1);0===$n&&Dt(1),Dt(1),Ze()&&(r=We(),t=We(),l=We(),f=We());let zn=[1,1];if(Ze()&&Ze())switch(ee()){case 1:zn=[1,1];break;case 2:zn=[12,11];break;case 3:zn=[10,11];break;case 4:zn=[16,11];break;case 5:zn=[40,33];break;case 6:zn=[24,11];break;case 7:zn=[20,11];break;case 8:zn=[32,11];break;case 9:zn=[80,33];break;case 10:zn=[18,11];break;case 11:zn=[15,11];break;case 12:zn=[64,33];break;case 13:zn=[160,99];break;case 14:zn=[4,3];break;case 15:zn=[3,2];break;case 16:zn=[2,1];break;case 255:zn=[ee()<<8|ee(),ee()<<8|ee()]}return{width:Math.ceil(16*(Bn+1)-2*r-2*t),height:(2-$n)*(Ln+1)*16-($n?2:4)*(l+f),pixelRatio:zn}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class dm{constructor(r,t,l){this.keyData=void 0,this.decrypter=void 0,this.keyData=l,this.decrypter=new sr(t,{removePKCS7Padding:!1})}decryptBuffer(r){return this.decrypter.decrypt(r,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(r,t,l){const f=r[t].unit;if(f.length<=16)return;const y=f.subarray(16,f.length-f.length%16),N=y.buffer.slice(y.byteOffset,y.byteOffset+y.length);this.decryptBuffer(N).then(H=>{const ee=new Uint8Array(H);f.set(ee,16),this.decrypter.isSync()||this.decryptAacSamples(r,t+1,l)})}decryptAacSamples(r,t,l){for(;;t++){if(t>=r.length)return void l();if(!(r[t].unit.length<32||(this.decryptAacSample(r,t,l),this.decrypter.isSync())))return}}getAvcEncryptedData(r){const t=16*Math.floor((r.length-48)/160)+16,l=new Int8Array(t);let f=0;for(let y=32;y<r.length-16;y+=160,f+=16)l.set(r.subarray(y,y+16),f);return l}getAvcDecryptedUnit(r,t){const l=new Uint8Array(t);let f=0;for(let y=32;y<r.length-16;y+=160,f+=16)r.set(l.subarray(f,f+16),y);return r}decryptAvcSample(r,t,l,f,y){const N=gs(y.data),H=this.getAvcEncryptedData(N);this.decryptBuffer(H.buffer).then(ee=>{y.data=this.getAvcDecryptedUnit(N,ee),this.decrypter.isSync()||this.decryptAvcSamples(r,t,l+1,f)})}decryptAvcSamples(r,t,l,f){if(r instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,l=0){if(t>=r.length)return void f();const y=r[t].units;for(;!(l>=y.length);l++){const N=y[l];if(!(N.data.length<=48||1!==N.type&&5!==N.type||(this.decryptAvcSample(r,t,l,f,N),this.decrypter.isSync())))return}}}}const Is=188;class cc{constructor(r,t,l){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=r,this.config=t,this.typeSupported=l}static probe(r){const t=cc.syncOffset(r);return t>0&&An.warn(`MPEG2-TS detected but first sync word found @ offset ${t}`),-1!==t}static syncOffset(r){const t=r.length;let l=Math.min(940,r.length-Is)+1,f=0;for(;f<l;){let y=!1,N=-1,H=0;for(let ee=f;ee<t;ee+=Is){if(71!==r[ee]){if(H)return-1;break}if(H++,-1===N&&(N=ee,0!==N&&(l=Math.min(N+18612,r.length-Is)+1)),y||(y=0===Yf(r,ee)),y&&H>1&&(0===N&&H>2||ee+Is>l))return N}f++}return-1}static createTrack(r,t){return{container:"video"===r||"audio"===r?"video/mp2t":void 0,type:r,id:Sc[r],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===r?t:void 0}}resetInitSegment(r,t,l,f){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=cc.createTrack("video"),this._audioTrack=cc.createTrack("audio",f),this._id3Track=cc.createTrack("id3"),this._txtTrack=cc.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=l,this._duration=f}resetTimeStamp(){}resetContiguity(){const{_audioTrack:r,_avcTrack:t,_id3Track:l}=this;r&&(r.pesData=null),t&&(t.pesData=null),l&&(l.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}demux(r,t,l=!1,f=!1){let y;l||(this.sampleAes=null);const N=this._avcTrack,H=this._audioTrack,ee=this._id3Track,ae=this._txtTrack;let We=N.pid,Ze=N.pesData,Dt=H.pid,wt=ee.pid,Ht=H.pesData,zt=ee.pesData,on=null,Sn=this.pmtParsed,Bn=this._pmtId,Ln=r.length;if(this.remainderData&&(Ln=(r=so(this.remainderData,r)).length,this.remainderData=null),Ln<Is&&!f)return this.remainderData=r,{audioTrack:H,videoTrack:N,id3Track:ee,textTrack:ae};const $n=Math.max(0,cc.syncOffset(r));Ln-=(Ln-$n)%Is,Ln<r.byteLength&&!f&&(this.remainderData=new Uint8Array(r.buffer,Ln,r.buffer.byteLength-Ln));let zn=0;for(let ei=$n;ei<Ln;ei+=Is)if(71===r[ei]){const gi=!!(64&r[ei+1]),Ci=Yf(r,ei);let zi;if((48&r[ei+3])>>4>1){if(zi=ei+5+r[ei+4],zi===ei+Is)continue}else zi=ei+4;switch(Ci){case We:gi&&(Ze&&(y=td(Ze))&&this.parseAVCPES(N,ae,y,!1),Ze={data:[],size:0}),Ze&&(Ze.data.push(r.subarray(zi,ei+Is)),Ze.size+=ei+Is-zi);break;case Dt:if(gi){if(Ht&&(y=td(Ht)))switch(H.segmentCodec){case"aac":this.parseAACPES(H,y);break;case"mp3":this.parseMPEGPES(H,y)}Ht={data:[],size:0}}Ht&&(Ht.data.push(r.subarray(zi,ei+Is)),Ht.size+=ei+Is-zi);break;case wt:gi&&(zt&&(y=td(zt))&&this.parseID3PES(ee,y),zt={data:[],size:0}),zt&&(zt.data.push(r.subarray(zi,ei+Is)),zt.size+=ei+Is-zi);break;case 0:gi&&(zi+=r[zi]+1),Bn=this._pmtId=jp(r,zi);break;case Bn:{gi&&(zi+=r[zi]+1);const Pi=zf(r,zi,this.typeSupported,l);We=Pi.avc,We>0&&(N.pid=We),Dt=Pi.audio,Dt>0&&(H.pid=Dt,H.segmentCodec=Pi.segmentCodec),wt=Pi.id3,wt>0&&(ee.pid=wt),null!==on&&!Sn&&(An.warn(`MPEG-TS PMT found at ${ei} after unknown PID '${on}'. Backtracking to sync byte @${$n} to parse all TS packets.`),on=null,ei=$n-188),Sn=this.pmtParsed=!0;break}case 17:case 8191:break;default:on=Ci}}else zn++;if(zn>0){const ei=new Error(`Found ${zn} TS packet/s that do not start with 0x47`);this.observer.emit(ct.ERROR,ct.ERROR,{type:In.MEDIA_ERROR,details:yn.FRAG_PARSING_ERROR,fatal:!1,error:ei,reason:ei.message})}N.pesData=Ze,H.pesData=Ht,ee.pesData=zt;const ui={audioTrack:H,videoTrack:N,id3Track:ee,textTrack:ae};return f&&this.extractRemainingSamples(ui),ui}flush(){const{remainderData:r}=this;let t;return this.remainderData=null,t=r?this.demux(r,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}extractRemainingSamples(r){const{audioTrack:t,videoTrack:l,id3Track:f,textTrack:y}=r,N=l.pesData,H=t.pesData,ee=f.pesData;let ae;if(N&&(ae=td(N))?(this.parseAVCPES(l,y,ae,!0),l.pesData=null):l.pesData=N,H&&(ae=td(H))){switch(t.segmentCodec){case"aac":this.parseAACPES(t,ae);break;case"mp3":this.parseMPEGPES(t,ae)}t.pesData=null}else null!=H&&H.size&&An.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=H;ee&&(ae=td(ee))?(this.parseID3PES(f,ae),f.pesData=null):f.pesData=ee}demuxSampleAes(r,t,l){const f=this.demux(r,l,!0,!this.config.progressive),y=this.sampleAes=new dm(this.observer,this.config,t);return this.decrypt(f,y)}decrypt(r,t){return new Promise(l=>{const{audioTrack:f,videoTrack:y}=r;f.samples&&"aac"===f.segmentCodec?t.decryptAacSamples(f.samples,0,()=>{y.samples?t.decryptAvcSamples(y.samples,0,0,()=>{l(r)}):l(r)}):y.samples&&t.decryptAvcSamples(y.samples,0,0,()=>{l(r)})})}destroy(){this._duration=0}parseAVCPES(r,t,l,f){const y=this.parseAVCNALu(r,l.data);let H,N=this.avcSample,ee=!1;l.data=null,N&&y.length&&!r.audFound&&(bu(N,r),N=this.avcSample=Wd(!1,l.pts,l.dts,"")),y.forEach(ae=>{var We;switch(ae.type){case 1:{let Dt=!1;H=!0;const wt=ae.data;if(ee&&wt.length>4){const Ht=new $u(wt).readSliceType();(2===Ht||4===Ht||7===Ht||9===Ht)&&(Dt=!0)}var Ze;Dt&&null!=(Ze=N)&&Ze.frame&&!N.key&&(bu(N,r),N=this.avcSample=null),N||(N=this.avcSample=Wd(!0,l.pts,l.dts,"")),N.frame=!0,N.key=Dt;break}case 5:H=!0,null!=(We=N)&&We.frame&&!N.key&&(bu(N,r),N=this.avcSample=null),N||(N=this.avcSample=Wd(!0,l.pts,l.dts,"")),N.key=!0,N.frame=!0;break;case 6:H=!0,oa(ae.data,1,l.pts,t.samples);break;case 7:if(H=!0,ee=!0,!r.sps){const Dt=ae.data,Ht=new $u(Dt).readSPS();r.width=Ht.width,r.height=Ht.height,r.pixelRatio=Ht.pixelRatio,r.sps=[Dt],r.duration=this._duration;const zt=Dt.subarray(1,4);let on="avc1.";for(let Sn=0;Sn<3;Sn++){let Bn=zt[Sn].toString(16);Bn.length<2&&(Bn="0"+Bn),on+=Bn}r.codec=on}break;case 8:H=!0,r.pps||(r.pps=[ae.data]);break;case 9:H=!1,r.audFound=!0,N&&bu(N,r),N=this.avcSample=Wd(!1,l.pts,l.dts,"");break;case 12:H=!0;break;default:H=!1,N&&(N.debug+="unknown NAL "+ae.type+" ")}N&&H&&N.units.push(ae)}),f&&N&&(bu(N,r),this.avcSample=null)}getLastNalUnit(r){var t;let f,l=this.avcSample;if((!l||0===l.units.length)&&(l=r[r.length-1]),null!=(t=l)&&t.units){const y=l.units;f=y[y.length-1]}return f}parseAVCNALu(r,t){const l=t.byteLength;let f=r.naluState||0;const y=f,N=[];let ee,ae,We,H=0,Ze=-1,Dt=0;for(-1===f&&(Ze=0,Dt=31&t[0],f=0,H=1);H<l;)if(ee=t[H++],f)if(1!==f)if(ee)if(1===ee){if(Ze>=0){const wt={data:t.subarray(Ze,H-f-1),type:Dt};N.push(wt)}else{const wt=this.getLastNalUnit(r.samples);if(wt&&(y&&H<=4-y&&wt.state&&(wt.data=wt.data.subarray(0,wt.data.byteLength-y)),ae=H-f-1,ae>0)){const Ht=new Uint8Array(wt.data.byteLength+ae);Ht.set(wt.data,0),Ht.set(t.subarray(0,ae),wt.data.byteLength),wt.data=Ht,wt.state=0}}H<l?(We=31&t[H],Ze=H,Dt=We,f=0):f=-1}else f=0;else f=3;else f=ee?0:2;else f=ee?0:1;if(Ze>=0&&f>=0){const wt={data:t.subarray(Ze,l),type:Dt,state:f};N.push(wt)}if(0===N.length){const wt=this.getLastNalUnit(r.samples);if(wt){const Ht=new Uint8Array(wt.data.byteLength+t.byteLength);Ht.set(wt.data,0),Ht.set(t,wt.data.byteLength),wt.data=Ht}}return r.naluState=f,N}parseAACPES(r,t){let l=0;const f=this.aacOverFlow;let N,H,ee,y=t.data;if(f){this.aacOverFlow=null;const Ze=f.missing,Dt=f.sample.unit.byteLength;if(-1===Ze){const wt=new Uint8Array(Dt+y.byteLength);wt.set(f.sample.unit,0),wt.set(y,Dt),y=wt}else{const wt=Dt-Ze;f.sample.unit.set(y.subarray(0,Ze),wt),r.samples.push(f.sample),l=f.missing}}for(N=l,H=y.length;N<H-1&&!Fl(y,N);N++);if(N!==l){let Ze;const Dt=N<H-1;Ze=Dt?`AAC PES did not start with ADTS header,offset:${N}`:"No ADTS header found in AAC PES";const wt=new Error(Ze);if(An.warn(`parsing error: ${Ze}`),this.observer.emit(ct.ERROR,ct.ERROR,{type:In.MEDIA_ERROR,details:yn.FRAG_PARSING_ERROR,fatal:!1,levelRetry:Dt,error:wt,reason:Ze}),!Dt)return}if(Hf(r,this.observer,y,N,this.audioCodec),void 0!==t.pts)ee=t.pts;else{if(!f)return void An.warn("[tsdemuxer]: AAC PES unknown PTS");{const Ze=zu(r.samplerate);ee=f.sample.pts+Ze}}let We,ae=0;for(;N<H;){if(We=am(r,y,N,ee,ae),N+=We.length,We.missing){this.aacOverFlow=We;break}for(ae++;N<H-1&&!Fl(y,N);N++);}}parseMPEGPES(r,t){const l=t.data,f=l.length;let y=0,N=0;const H=t.pts;if(void 0!==H)for(;N<f;)if(Kf(l,N)){const ee=Kd(r,l,N,H,y);if(!ee)break;N+=ee.length,y++}else N++;else An.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseID3PES(r,t){if(void 0===t.pts)return void An.warn("[tsdemuxer]: ID3 PES unknown PTS");const l=Ge({},t,{type:this._avcTrack?xs_emsg:"org.id3",duration:Number.POSITIVE_INFINITY});r.samples.push(l)}}function Wd(m,r,t,l){return{key:m,frame:!1,pts:r,dts:t,units:[],debug:l,length:0}}function Yf(m,r){return((31&m[r+1])<<8)+m[r+2]}function jp(m,r){return(31&m[r+10])<<8|m[r+11]}function zf(m,r,t,l){const f={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},N=r+3+((15&m[r+1])<<8|m[r+2])-4;for(r+=12+((15&m[r+10])<<8|m[r+11]);r<N;){const ee=Yf(m,r);switch(m[r]){case 207:if(!l){An.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===f.audio&&(f.audio=ee);break;case 21:-1===f.id3&&(f.id3=ee);break;case 219:if(!l){An.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===f.avc&&(f.avc=ee);break;case 3:case 4:!0!==t.mpeg&&!0!==t.mp3?An.log("MPEG audio found, not supported in this browser"):-1===f.audio&&(f.audio=ee,f.segmentCodec="mp3");break;case 36:An.warn("Unsupported HEVC stream type found")}r+=5+((15&m[r+3])<<8|m[r+4])}return f}function td(m){let t,l,f,y,N,r=0;const H=m.data;if(!m||0===m.size)return null;for(;H[0].length<19&&H.length>1;){const ae=new Uint8Array(H[0].length+H[1].length);ae.set(H[0]),ae.set(H[1],H[0].length),H[0]=ae,H.splice(1,1)}if(t=H[0],(t[0]<<16)+(t[1]<<8)+t[2]===1){if(l=(t[4]<<8)+t[5],l&&l>m.size-6)return null;const ae=t[7];192&ae&&(y=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&ae?(N=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,y-N>54e5&&(An.warn(`${Math.round((y-N)/9e4)}s delta between PTS and DTS, align them`),y=N)):N=y),f=t[8];let We=f+9;if(m.size<=We)return null;m.size-=We;const Ze=new Uint8Array(m.size);for(let Dt=0,wt=H.length;Dt<wt;Dt++){t=H[Dt];let Ht=t.byteLength;if(We){if(We>Ht){We-=Ht;continue}t=t.subarray(We),Ht-=We,We=0}Ze.set(t,r),r+=Ht}return l&&(l-=f+3),{data:Ze,pts:y,dts:N,len:l}}return null}function bu(m,r){if(m.units.length&&m.frame){if(void 0===m.pts){const t=r.samples,l=t.length;if(!l)return void r.dropped++;{const f=t[l-1];m.pts=f.pts,m.dts=f.dts}}r.samples.push(m)}m.debug.length&&An.log(m.pts+"/"+m.dts+":"+m.debug)}class um{static getSilentFrame(r,t){if("mp4a.40.2"===r){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const nd=Math.pow(2,32)-1;let id=(()=>{class m{static init(){let t;for(t in m.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},m.types)m.types.hasOwnProperty(t)&&(m.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);const l=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),f=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);m.HDLR_TYPES={video:l,audio:f};const y=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),N=new Uint8Array([0,0,0,0,0,0,0,0]);m.STTS=m.STSC=m.STCO=N,m.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),m.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),m.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),m.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const H=new Uint8Array([105,115,111,109]),ee=new Uint8Array([97,118,99,49]),ae=new Uint8Array([0,0,0,1]);m.FTYP=m.box(m.types.ftyp,H,ae,H,ee),m.DINF=m.box(m.types.dinf,m.box(m.types.dref,y))}static box(t,...l){let f=8,y=l.length;const N=y;for(;y--;)f+=l[y].byteLength;const H=new Uint8Array(f);for(H[0]=f>>24&255,H[1]=f>>16&255,H[2]=f>>8&255,H[3]=255&f,H.set(t,4),y=0,f=8;y<N;y++)H.set(l[y],f),f+=l[y].byteLength;return H}static hdlr(t){return m.box(m.types.hdlr,m.HDLR_TYPES[t])}static mdat(t){return m.box(m.types.mdat,t)}static mdhd(t,l){l*=t;const f=Math.floor(l/(nd+1)),y=Math.floor(l%(nd+1));return m.box(m.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,f>>24,f>>16&255,f>>8&255,255&f,y>>24,y>>16&255,y>>8&255,255&y,85,196,0,0]))}static mdia(t){return m.box(m.types.mdia,m.mdhd(t.timescale,t.duration),m.hdlr(t.type),m.minf(t))}static mfhd(t){return m.box(m.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}static minf(t){return m.box(m.types.minf,"audio"===t.type?m.box(m.types.smhd,m.SMHD):m.box(m.types.vmhd,m.VMHD),m.DINF,m.stbl(t))}static moof(t,l,f){return m.box(m.types.moof,m.mfhd(t),m.traf(f,l))}static moov(t){let l=t.length;const f=[];for(;l--;)f[l]=m.trak(t[l]);return m.box.apply(null,[m.types.moov,m.mvhd(t[0].timescale,t[0].duration)].concat(f).concat(m.mvex(t)))}static mvex(t){let l=t.length;const f=[];for(;l--;)f[l]=m.trex(t[l]);return m.box.apply(null,[m.types.mvex,...f])}static mvhd(t,l){l*=t;const f=Math.floor(l/(nd+1)),y=Math.floor(l%(nd+1)),N=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,f>>24,f>>16&255,f>>8&255,255&f,y>>24,y>>16&255,y>>8&255,255&y,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return m.box(m.types.mvhd,N)}static sdtp(t){const l=t.samples||[],f=new Uint8Array(4+l.length);let y,N;for(y=0;y<l.length;y++)N=l[y].flags,f[y+4]=N.dependsOn<<4|N.isDependedOn<<2|N.hasRedundancy;return m.box(m.types.sdtp,f)}static stbl(t){return m.box(m.types.stbl,m.stsd(t),m.box(m.types.stts,m.STTS),m.box(m.types.stsc,m.STSC),m.box(m.types.stsz,m.STSZ),m.box(m.types.stco,m.STCO))}static avc1(t){let y,N,H,l=[],f=[];for(y=0;y<t.sps.length;y++)N=t.sps[y],H=N.byteLength,l.push(H>>>8&255),l.push(255&H),l=l.concat(Array.prototype.slice.call(N));for(y=0;y<t.pps.length;y++)N=t.pps[y],H=N.byteLength,f.push(H>>>8&255),f.push(255&H),f=f.concat(Array.prototype.slice.call(N));const ee=m.box(m.types.avcC,new Uint8Array([1,l[3],l[4],l[5],255,224|t.sps.length].concat(l).concat([t.pps.length]).concat(f))),ae=t.width,We=t.height,Ze=t.pixelRatio[0],Dt=t.pixelRatio[1];return m.box(m.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ae>>8&255,255&ae,We>>8&255,255&We,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),ee,m.box(m.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),m.box(m.types.pasp,new Uint8Array([Ze>>24,Ze>>16&255,Ze>>8&255,255&Ze,Dt>>24,Dt>>16&255,Dt>>8&255,255&Dt])))}static esds(t){const l=t.config.length;return new Uint8Array([0,0,0,0,3,23+l,0,1,0,4,15+l,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([l]).concat(t.config).concat([6,1,2]))}static mp4a(t){const l=t.samplerate;return m.box(m.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,l>>8&255,255&l,0,0]),m.box(m.types.esds,m.esds(t)))}static mp3(t){const l=t.samplerate;return m.box(m.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,l>>8&255,255&l,0,0]))}static stsd(t){return m.box(m.types.stsd,m.STSD,"audio"===t.type?"mp3"===t.segmentCodec&&"mp3"===t.codec?m.mp3(t):m.mp4a(t):m.avc1(t))}static tkhd(t){const l=t.id,f=t.duration*t.timescale,y=t.width,N=t.height,H=Math.floor(f/(nd+1)),ee=Math.floor(f%(nd+1));return m.box(m.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,l>>24&255,l>>16&255,l>>8&255,255&l,0,0,0,0,H>>24,H>>16&255,H>>8&255,255&H,ee>>24,ee>>16&255,ee>>8&255,255&ee,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,y>>8&255,255&y,0,0,N>>8&255,255&N,0,0]))}static traf(t,l){const f=m.sdtp(t),y=t.id,N=Math.floor(l/(nd+1)),H=Math.floor(l%(nd+1));return m.box(m.types.traf,m.box(m.types.tfhd,new Uint8Array([0,0,0,0,y>>24,y>>16&255,y>>8&255,255&y])),m.box(m.types.tfdt,new Uint8Array([1,0,0,0,N>>24,N>>16&255,N>>8&255,255&N,H>>24,H>>16&255,H>>8&255,255&H])),m.trun(t,f.length+16+20+8+16+8+8),f)}static trak(t){return t.duration=t.duration||4294967295,m.box(m.types.trak,m.tkhd(t),m.mdia(t))}static trex(t){const l=t.id;return m.box(m.types.trex,new Uint8Array([0,0,0,0,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(t,l){const f=t.samples||[],y=f.length,N=12+16*y,H=new Uint8Array(N);let ee,ae,We,Ze,Dt,wt;for(H.set(["video"===t.type?1:0,0,15,1,y>>>24&255,y>>>16&255,y>>>8&255,255&y,(l+=8+N)>>>24&255,l>>>16&255,l>>>8&255,255&l],0),ee=0;ee<y;ee++)ae=f[ee],We=ae.duration,Ze=ae.size,Dt=ae.flags,wt=ae.cts,H.set([We>>>24&255,We>>>16&255,We>>>8&255,255&We,Ze>>>24&255,Ze>>>16&255,Ze>>>8&255,255&Ze,Dt.isLeading<<2|Dt.dependsOn,Dt.isDependedOn<<6|Dt.hasRedundancy<<4|Dt.paddingValue<<1|Dt.isNonSync,61440&Dt.degradPrio,15&Dt.degradPrio,wt>>>24&255,wt>>>16&255,wt>>>8&255,255&wt],12+16*ee);return m.box(m.types.trun,H)}static initSegment(t){m.types||m.init();const l=m.moov(t),f=new Uint8Array(m.FTYP.byteLength+l.byteLength);return f.set(m.FTYP),f.set(l,m.FTYP.byteLength),f}}return m.types=void 0,m.HDLR_TYPES=void 0,m.STTS=void 0,m.STSC=void 0,m.STCO=void 0,m.STSZ=void 0,m.VMHD=void 0,m.SMHD=void 0,m.STSD=void 0,m.FTYP=void 0,m.DINF=void 0,m})();function Ju(m,r,t=1,l=!1){const f=m*r*t;return l?Math.round(f):f}function Oc(m,r=!1){return Ju(m,1e3,1/9e4,r)}let dc,Qu=null,Qf=null;class qf{constructor(r,t,l,f=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=r,this.config=t,this.typeSupported=l,this.ISGenerated=!1,null===Qu){const N=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Qu=N?parseInt(N[1]):0}if(null===Qf){const y=navigator.userAgent.match(/Safari\/(\d+)/i);Qf=y?parseInt(y[1]):0}}destroy(){}resetTimeStamp(r){An.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=r}resetNextTimestamp(){An.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){An.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}getVideoStartPts(r){let t=!1;const l=r.reduce((f,y)=>{const N=y.pts-f;return N<-4294967296?(t=!0,yl(f,y.pts)):N>0?f:y.pts},r[0].pts);return t&&An.debug("PTS rollover detected"),l}remux(r,t,l,f,y,N,H,ee){let ae,We,Ze,Dt,wt,Ht,zt=y,on=y;const Bn=t.pid>-1,Ln=t.samples.length,$n=r.samples.length>0,zn=H&&Ln>0||Ln>1;if((!(r.pid>-1)||$n)&&(!Bn||zn)||this.ISGenerated||H){this.ISGenerated||(Ze=this.generateIS(r,t,y,N));const ei=this.isVideoContiguous;let Ci,gi=-1;if(zn&&(gi=function Kp(m){for(let r=0;r<m.length;r++)if(m[r].key)return r;return-1}(t.samples),!ei&&this.config.forceKeyFrameOnDiscontinuity))if(Ht=!0,gi>0){An.warn(`[mp4-remuxer]: Dropped ${gi} out of ${Ln} video samples due to a missing keyframe`);const Xn=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(gi),t.dropped+=gi,on+=(t.samples[0].pts-Xn)/t.inputTimeScale,Ci=on}else-1===gi&&(An.warn(`[mp4-remuxer]: No keyframe found out of ${Ln} video samples`),Ht=!1);if(this.ISGenerated){if($n&&zn){const Xn=this.getVideoStartPts(t.samples),Pi=(yl(r.samples[0].pts,Xn)-Xn)/t.inputTimeScale;zt+=Math.max(0,Pi),on+=Math.max(0,-Pi)}if($n){if(r.samplerate||(An.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),Ze=this.generateIS(r,t,y,N)),We=this.remuxAudio(r,zt,this.isAudioContiguous,N,Bn||zn||"audio"===ee?on:void 0),zn){const Xn=We?We.endPTS-We.startPTS:0;t.inputTimeScale||(An.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),Ze=this.generateIS(r,t,y,N)),ae=this.remuxVideo(t,on,ei,Xn)}}else zn&&(ae=this.remuxVideo(t,on,ei,0));ae&&(ae.firstKeyFrame=gi,ae.independent=-1!==gi,ae.firstKeyFramePTS=Ci)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(l.samples.length&&(wt=qu(l,y,this._initPTS,this._initDTS)),f.samples.length&&(Dt=Xu(f,y,this._initPTS))),{audio:We,video:ae,initSegment:Ze,independent:Ht,text:Dt,id3:wt}}generateIS(r,t,l,f){const y=r.samples,N=t.samples,H=this.typeSupported,ee={},ae=this._initPTS;let Dt,wt,Ht,We=!ae||f,Ze="audio/mp4";if(We&&(Dt=wt=1/0),r.config&&y.length&&("mp3"===(r.timescale=r.samplerate,r.segmentCodec)&&(H.mpeg?(Ze="audio/mpeg",r.codec=""):H.mp3&&(r.codec="mp3")),ee.audio={id:"audio",container:Ze,codec:r.codec,initSegment:"mp3"===r.segmentCodec&&H.mpeg?new Uint8Array(0):id.initSegment([r]),metadata:{channelCount:r.channelCount}},We&&(Ht=r.inputTimeScale,ae&&Ht===ae.timescale?We=!1:Dt=wt=y[0].pts-Math.round(Ht*l))),t.sps&&t.pps&&N.length&&(t.timescale=t.inputTimeScale,ee.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:id.initSegment([t]),metadata:{width:t.width,height:t.height}},We))if(Ht=t.inputTimeScale,ae&&Ht===ae.timescale)We=!1;else{const zt=this.getVideoStartPts(N),on=Math.round(Ht*l);wt=Math.min(wt,yl(N[0].dts,zt)-on),Dt=Math.min(Dt,zt-on)}if(Object.keys(ee).length)return this.ISGenerated=!0,We?(this._initPTS={baseTime:Dt,timescale:Ht},this._initDTS={baseTime:wt,timescale:Ht}):Dt=Ht=void 0,{tracks:ee,initPTS:Dt,timescale:Ht}}remuxVideo(r,t,l,f){const y=r.inputTimeScale,N=r.samples,H=[],ee=N.length,ae=this._initPTS;let wt,Ht,We=this.nextAvcDts,Ze=8,Dt=this.videoSampleDuration,zt=Number.POSITIVE_INFINITY,on=Number.NEGATIVE_INFINITY,Sn=!1;l&&null!==We||(We=t*y-(N[0].pts-yl(N[0].dts,N[0].pts)));const Bn=ae.baseTime*y/ae.timescale;for(let ai=0;ai<ee;ai++){const bi=N[ai];bi.pts=yl(bi.pts-Bn,We),bi.dts=yl(bi.dts-Bn,We),bi.dts<N[ai>0?ai-1:ai].dts&&(Sn=!0)}Sn&&N.sort(function(ai,bi){return ai.dts-bi.dts||ai.pts-bi.pts}),wt=N[0].dts,Ht=N[N.length-1].dts;const Ln=Ht-wt,$n=Ln?Math.round(Ln/(ee-1)):Dt||r.inputTimeScale/30;if(l){const ai=wt-We,bi=ai>$n,Xi=ai<-1;if((bi||Xi)&&(An.warn(bi?`AVC: ${Oc(ai,!0)} ms (${ai}dts) hole between fragments detected, filling it`:`AVC: ${Oc(-ai,!0)} ms (${ai}dts) overlapping between fragments detected`),!Xi||We>=N[0].pts)){wt=We;const Lr=N[0].pts-ai;N[0].dts=wt,N[0].pts=Lr,An.log(`Video: First PTS/DTS adjusted: ${Oc(Lr,!0)}/${Oc(wt,!0)}, delta: ${Oc(ai,!0)} ms`)}}wt=Math.max(0,wt);let zn=0,ui=0;for(let ai=0;ai<ee;ai++){const bi=N[ai],Xi=bi.units,Lr=Xi.length;let lr=0;for(let uo=0;uo<Lr;uo++)lr+=Xi[uo].data.length;ui+=lr,zn+=Lr,bi.length=lr,bi.dts=Math.max(bi.dts,wt),zt=Math.min(bi.pts,zt),on=Math.max(bi.pts,on)}Ht=N[ee-1].dts;const ei=ui+4*zn+8;let gi;try{gi=new Uint8Array(ei)}catch(ai){return void this.observer.emit(ct.ERROR,ct.ERROR,{type:In.MUX_ERROR,details:yn.REMUX_ALLOC_ERROR,fatal:!1,error:ai,bytes:ei,reason:`fail allocating video mdat ${ei}`})}const Ci=new DataView(gi.buffer);Ci.setUint32(0,ei),gi.set(id.types.mdat,4);let Xn=!1,zi=Number.POSITIVE_INFINITY,Pi=Number.POSITIVE_INFINITY,Hr=Number.NEGATIVE_INFINITY,Vs=Number.NEGATIVE_INFINITY;for(let ai=0;ai<ee;ai++){const bi=N[ai],Xi=bi.units;let lr,Lr=0;for(let Pr=0,Da=Xi.length;Pr<Da;Pr++){const ys=Xi[Pr],Bo=ys.data,_c=ys.data.byteLength;Ci.setUint32(Ze,_c),Ze+=4,gi.set(Bo,Ze),Ze+=_c,Lr+=4+_c}if(ai<ee-1)Dt=N[ai+1].dts-bi.dts,lr=N[ai+1].pts-bi.pts;else{const Pr=this.config,Da=ai>0?bi.dts-N[ai-1].dts:$n;if(lr=ai>0?bi.pts-N[ai-1].pts:$n,Pr.stretchShortVideoTrack&&null!==this.nextAudioPts){const ys=Math.floor(Pr.maxBufferHole*y),Bo=(f?zt+f*y:this.nextAudioPts)-bi.pts;Bo>ys?(Dt=Bo-Da,Dt<0?Dt=Da:Xn=!0,An.log(`[mp4-remuxer]: It is approximately ${Bo/90} ms to the next segment; using duration ${Dt/90} ms for the last video frame.`)):Dt=Da}else Dt=Da}const uo=Math.round(bi.pts-bi.dts);zi=Math.min(zi,Dt),Hr=Math.max(Hr,Dt),Pi=Math.min(Pi,lr),Vs=Math.max(Vs,lr),H.push(new Xf(bi.key,Dt,Lr,uo))}if(H.length)if(Qu){if(Qu<70){const ai=H[0].flags;ai.dependsOn=2,ai.isNonSync=0}}else if(Qf&&Vs-Pi<Hr-zi&&$n/Hr<.025&&0===H[0].cts){An.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let ai=wt;for(let bi=0,Xi=H.length;bi<Xi;bi++){const Lr=ai+H[bi].duration;H[bi].duration=bi<Xi-1?Lr+H[bi+1].cts-(ai+H[bi].cts):bi?H[bi-1].duration:$n,H[bi].cts=0,ai=Lr}}Dt=Xn||!Dt?$n:Dt,this.nextAvcDts=We=Ht+Dt,this.videoSampleDuration=Dt,this.isVideoContiguous=!0;const xi={data1:id.moof(r.sequenceNumber++,wt,Ge({},r,{samples:H})),data2:gi,startPTS:zt/y,endPTS:(on+Dt)/y,startDTS:wt/y,endDTS:We/y,type:"video",hasAudio:!1,hasVideo:!0,nb:H.length,dropped:r.dropped};return r.samples=[],r.dropped=0,xi}remuxAudio(r,t,l,f,y){const N=r.inputTimeScale,ee=N/(r.samplerate?r.samplerate:N),ae="aac"===r.segmentCodec?1024:1152,We=ae*ee,Ze=this._initPTS,Dt="mp3"===r.segmentCodec&&this.typeSupported.mpeg,wt=[],Ht=void 0!==y;let zt=r.samples,on=Dt?0:8,Sn=this.nextAudioPts||-1;const Bn=t*N,Ln=Ze.baseTime*N/Ze.timescale;if(this.isAudioContiguous=l=l||zt.length&&Sn>0&&(f&&Math.abs(Bn-Sn)<9e3||Math.abs(yl(zt[0].pts-Ln,Bn)-Sn)<20*We),zt.forEach(function(yi){yi.pts=yl(yi.pts-Ln,Bn)}),!l||Sn<0){if(zt=zt.filter(yi=>yi.pts>=0),!zt.length)return;Sn=0===y?0:f&&!Ht?Math.max(0,Bn):zt[0].pts}if("aac"===r.segmentCodec){const yi=this.config.maxAudioFramesDrift;for(let xi=0,ai=Sn;xi<zt.length;xi++){const bi=zt[xi],Xi=bi.pts,Lr=Xi-ai,lr=Math.abs(1e3*Lr/N);if(Lr<=-yi*We&&Ht)0===xi&&(An.warn(`Audio frame @ ${(Xi/N).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*Lr/N)} ms.`),this.nextAudioPts=Sn=ai=Xi);else if(Lr>=yi*We&&lr<1e4&&Ht){let uo=Math.round(Lr/We);ai=Xi-uo*We,ai<0&&(uo--,ai+=We),0===xi&&(this.nextAudioPts=Sn=ai),An.warn(`[mp4-remuxer]: Injecting ${uo} audio frame @ ${(ai/N).toFixed(3)}s due to ${Math.round(1e3*Lr/N)} ms gap.`);for(let Pr=0;Pr<uo;Pr++){const Da=Math.max(ai,0);let ys=um.getSilentFrame(r.manifestCodec||r.codec,r.channelCount);ys||(An.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),ys=bi.unit.subarray()),zt.splice(xi,0,{unit:ys,pts:Da}),ai+=We,xi++}}bi.pts=ai,ai+=We}}let ui,$n=null,zn=null,ei=0,gi=zt.length;for(;gi--;)ei+=zt[gi].unit.byteLength;for(let yi=0,xi=zt.length;yi<xi;yi++){const ai=zt[yi],bi=ai.unit;let Xi=ai.pts;if(null!==zn)wt[yi-1].duration=Math.round((Xi-zn)/ee);else{if(l&&"aac"===r.segmentCodec&&(Xi=Sn),$n=Xi,!(ei>0))return;ei+=on;try{ui=new Uint8Array(ei)}catch(lr){return void this.observer.emit(ct.ERROR,ct.ERROR,{type:In.MUX_ERROR,details:yn.REMUX_ALLOC_ERROR,fatal:!1,error:lr,bytes:ei,reason:`fail allocating audio mdat ${ei}`})}Dt||(new DataView(ui.buffer).setUint32(0,ei),ui.set(id.types.mdat,4))}ui.set(bi,on);const Lr=bi.byteLength;on+=Lr,wt.push(new Xf(!0,ae,Lr,0)),zn=Xi}const Ci=wt.length;if(!Ci)return;this.nextAudioPts=Sn=zn+ee*wt[wt.length-1].duration;const zi=Dt?new Uint8Array(0):id.moof(r.sequenceNumber++,$n/ee,Ge({},r,{samples:wt}));r.samples=[];const Pi=$n/N,Hr=Sn/N,yo={data1:zi,data2:ui,startPTS:Pi,endPTS:Hr,startDTS:Pi,endDTS:Hr,type:"audio",hasAudio:!0,hasVideo:!1,nb:Ci};return this.isAudioContiguous=!0,yo}remuxEmptyAudio(r,t,l,f){const y=r.inputTimeScale,ee=this.nextAudioPts,ae=this._initDTS,We=9e4*ae.baseTime/ae.timescale,Ze=(null!==ee?ee:f.startDTS*y)+We,wt=y/(r.samplerate?r.samplerate:y)*1024,Ht=Math.ceil((f.endDTS*y+We-Ze)/wt),zt=um.getSilentFrame(r.manifestCodec||r.codec,r.channelCount);if(An.warn("[mp4-remuxer]: remux empty Audio"),!zt)return void An.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const on=[];for(let Sn=0;Sn<Ht;Sn++){const Bn=Ze+Sn*wt;on.push({unit:zt,pts:Bn,dts:Bn})}return r.samples=on,this.remuxAudio(r,t,l,!1)}}function yl(m,r){let t;if(null===r)return m;for(t=r<m?-8589934592:8589934592;Math.abs(m-r)>4294967296;)m+=t;return m}function qu(m,r,t,l){const f=m.samples.length;if(!f)return;const y=m.inputTimeScale;for(let H=0;H<f;H++){const ee=m.samples[H];ee.pts=yl(ee.pts-t.baseTime*y/t.timescale,r*y)/y,ee.dts=yl(ee.dts-l.baseTime*y/l.timescale,r*y)/y}const N=m.samples;return m.samples=[],{samples:N}}function Xu(m,r,t){const l=m.samples.length;if(!l)return;const f=m.inputTimeScale;for(let N=0;N<l;N++){const H=m.samples[N];H.pts=yl(H.pts-t.baseTime*f/t.timescale,r*f)/f}m.samples.sort((N,H)=>N.pts-H.pts);const y=m.samples;return m.samples=[],{samples:y}}class Xf{constructor(r,t,l,f){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=l,this.cts=f,this.flags=new eh(r)}}class eh{constructor(r){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=r?2:1,this.isNonSync=r?0:1}}function ef(m,r){const t=m?.codec;return t&&t.length>4?t:"hvc1"===t||"hev1"===t?"hvc1.1.6.L120.90":"av01"===t?"av01.0.04M.08":"avc1"===t||"video"===r?"avc1.42e01e":"mp4a.40.5"}try{dc=self.performance.now.bind(self.performance)}catch{An.debug("Unable to use Performance API on this environment"),dc=typeof self<"u"&&self.Date.now}const uc=[{demux:class jf{constructor(r,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}resetTimeStamp(){}resetInitSegment(r,t,l,f){const y=this.videoTrack=ba("video",1),N=this.audioTrack=ba("audio",1),H=this.txtTrack=ba("text",1);if(this.id3Track=ba("id3",1),this.timeOffset=0,null==r||!r.byteLength)return;const ee=kt(r);if(ee.video){const{id:ae,timescale:We,codec:Ze}=ee.video;y.id=ae,y.timescale=H.timescale=We,y.codec=Ze}if(ee.audio){const{id:ae,timescale:We,codec:Ze}=ee.audio;N.id=ae,N.timescale=We,N.codec=Ze}H.id=Sc.text,y.sampleDuration=0,y.duration=N.duration=f}resetContiguity(){this.remainderData=null}static probe(r){return _e(r=r.length>16384?r.subarray(0,16384):r,["moof"]).length>0}demux(r,t){this.timeOffset=t;let l=r;const f=this.videoTrack,y=this.txtTrack;if(this.config.progressive){this.remainderData&&(l=so(this.remainderData,r));const H=function _r(m){const r={valid:null,remainder:null},t=_e(m,["moof"]);if(!t)return r;if(t.length<2)return r.remainder=m,r;const l=t[t.length-1];return r.valid=to(m,0,l.byteOffset-8),r.remainder=to(m,l.byteOffset-8),r}(l);this.remainderData=H.remainder,f.samples=H.valid||new Uint8Array}else f.samples=l;const N=this.extractID3Track(f,t);return y.samples=ra(t,f),{videoTrack:f,audioTrack:this.audioTrack,id3Track:N,textTrack:this.txtTrack}}flush(){const r=this.timeOffset,t=this.videoTrack,l=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;const f=this.extractID3Track(t,this.timeOffset);return l.samples=ra(r,t),{videoTrack:t,audioTrack:ba(),id3Track:f,textTrack:ba()}}extractID3Track(r,t){const l=this.id3Track;if(r.samples.length){const f=_e(r.samples,["emsg"]);f&&f.forEach(y=>{const N=function ll(m){const r=m[0];let t="",l="",f=0,y=0,N=0,H=0,ee=0,ae=0;if(0===r){for(;"\0"!==ko(m.subarray(ae,ae+1));)t+=ko(m.subarray(ae,ae+1)),ae+=1;for(t+=ko(m.subarray(ae,ae+1)),ae+=1;"\0"!==ko(m.subarray(ae,ae+1));)l+=ko(m.subarray(ae,ae+1)),ae+=1;l+=ko(m.subarray(ae,ae+1)),ae+=1,f=Ai(m,12),y=Ai(m,16),H=Ai(m,20),ee=Ai(m,24),ae=28}else if(1===r){ae+=4,f=Ai(m,ae),ae+=4;const Ze=Ai(m,ae);ae+=4;const Dt=Ai(m,ae);for(ae+=4,N=2**32*Ze+Dt,Number.isSafeInteger(N)||(N=Number.MAX_SAFE_INTEGER,An.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),H=Ai(m,ae),ae+=4,ee=Ai(m,ae),ae+=4;"\0"!==ko(m.subarray(ae,ae+1));)t+=ko(m.subarray(ae,ae+1)),ae+=1;for(t+=ko(m.subarray(ae,ae+1)),ae+=1;"\0"!==ko(m.subarray(ae,ae+1));)l+=ko(m.subarray(ae,ae+1)),ae+=1;l+=ko(m.subarray(ae,ae+1)),ae+=1}return{schemeIdUri:t,value:l,timeScale:f,presentationTime:N,presentationTimeDelta:y,eventDuration:H,id:ee,payload:m.subarray(ae,m.byteLength)}}(y);if(lm.test(N.schemeIdUri)){const H=Mt(N.presentationTime)?N.presentationTime/N.timeScale:t+N.presentationTimeDelta/N.timeScale;let ee=4294967295===N.eventDuration?Number.POSITIVE_INFINITY:N.eventDuration/N.timeScale;ee<=.001&&(ee=Number.POSITIVE_INFINITY);const ae=N.payload;l.samples.push({data:ae,len:ae.byteLength,dts:H,pts:H,type:xs_emsg,duration:ee})}})}return l}demuxSampleAes(r,t,l){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class Wp{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(r){this.initPTS=r,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(r,t,l,f){this.audioCodec=t,this.videoCodec=l,this.generateInitSegment(function nn(m,r){if(!m||!r)return m;const t=r.keyId;return t&&r.isCommonEncryption&&_e(m,["moov","trak"]).forEach(f=>{const N=_e(f,["mdia","minf","stbl","stsd"])[0].subarray(8);let H=_e(N,["enca"]);const ee=H.length>0;ee||(H=_e(N,["encv"])),H.forEach(ae=>{_e(ae.subarray(ee?28:78),["sinf"]).forEach(Dt=>{const wt=tn(Dt);if(wt){const Ht=wt.subarray(8,24);Ht.some(zt=>0!==zt)||(An.log(`[eme] Patching keyId in 'enc${ee?"a":"v"}>sinf>>tenc' box: ${ia_hexDump(Ht)} -> ${ia_hexDump(t)}`),wt.set(t,8))}})})}),m}(r,f)),this.emitInitSegment=!0}generateInitSegment(r){let{audioCodec:t,videoCodec:l}=this;if(null==r||!r.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const f=this.initData=kt(r);t||(t=ef(f.audio,"audio")),l||(l=ef(f.video,"video"));const y={};f.audio&&f.video?y.audiovideo={container:"video/mp4",codec:t+","+l,initSegment:r,id:"main"}:f.audio?y.audio={container:"audio/mp4",codec:t,initSegment:r,id:"audio"}:f.video?y.video={container:"video/mp4",codec:l,initSegment:r,id:"main"}:An.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=y}remux(r,t,l,f,y,N){var H,ee;let{initPTS:ae,lastEndTime:We}=this;const Ze={audio:void 0,video:void 0,text:f,id3:l,initSegment:void 0};Mt(We)||(We=this.lastEndTime=y||0);const Dt=t.samples;if(null==Dt||!Dt.length)return Ze;const wt={initPTS:void 0,timescale:1};let Ht=this.initData;if(null!=(H=Ht)&&H.length||(this.generateInitSegment(Dt),Ht=this.initData),null==(ee=Ht)||!ee.length)return An.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),Ze;this.emitInitSegment&&(wt.tracks=this.initTracks,this.emitInitSegment=!1);const zt=function ni(m,r){let t=0,l=0,f=0;const y=_e(m,["moof","traf"]);for(let N=0;N<y.length;N++){const H=y[N],ee=_e(H,["tfhd"])[0],We=r[Ai(ee,4)];if(!We)continue;const Ze=We.default,Dt=Ai(ee,0)|Ze?.flags;let wt=Ze?.duration;8&Dt&&(wt=Ai(ee,2&Dt?12:8));const Ht=We.timescale||9e4,zt=_e(H,["trun"]);for(let on=0;on<zt.length;on++)t=Oi(zt[on]),!t&&wt&&(t=wt*Ai(zt[on],4)),"video"===We.type?l+=t/Ht:"audio"===We.type&&(f+=t/Ht)}if(0===l&&0===f){let N=0;const H=_e(m,["sidx"]);for(let ee=0;ee<H.length;ee++){const ae=Je(H[ee]);null!=ae&&ae.references&&(N+=ae.references.reduce((We,Ze)=>We+Ze.info.duration||0,0))}return N}return l||f}(Dt,Ht),on=function kn(m,r){return _e(r,["moof","traf"]).reduce((t,l)=>{const f=_e(l,["tfdt"])[0],y=f[0],N=_e(l,["tfhd"]).reduce((H,ee)=>{const ae=Ai(ee,4),We=m[ae];if(We){let Ze=Ai(f,4);if(1===y){if(Ze===wl)return An.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),H;Ze*=wl+1,Ze+=Ai(f,8)}const wt=Ze/(We.timescale||9e4);if(isFinite(wt)&&(null===H||wt<H))return wt}return H},null);return null!==N&&isFinite(N)&&(null===t||N<t)?N:t},null)}(Ht,Dt),Sn=null===on?y:on;(function fm(m,r,t,l){if(null===m)return!0;const f=Math.max(l,1);return Math.abs(r-m.baseTime/m.timescale-t)>f}(ae,Sn,y,zt)||wt.timescale!==ae.timescale&&N)&&(wt.initPTS=Sn-y,ae&&1===ae.timescale&&An.warn("Adjusting initPTS by "+(wt.initPTS-ae.baseTime)),this.initPTS=ae={baseTime:wt.initPTS,timescale:1});const Bn=r?Sn-ae.baseTime/ae.timescale:We,Ln=Bn+zt;(function Ri(m,r,t){_e(r,["moof","traf"]).forEach(l=>{_e(l,["tfhd"]).forEach(f=>{const y=Ai(f,4),N=m[y];if(!N)return;const H=N.timescale||9e4;_e(l,["tfdt"]).forEach(ee=>{const ae=ee[0];let We=Ai(ee,4);if(0===ae)We-=t*H,We=Math.max(We,0),it(ee,4,We);else{We*=Math.pow(2,32),We+=Ai(ee,8),We-=t*H,We=Math.max(We,0);const Ze=Math.floor(We/(wl+1)),Dt=Math.floor(We%(wl+1));it(ee,4,Ze),it(ee,8,Dt)}})})})})(Ht,Dt,ae.baseTime/ae.timescale),zt>0?this.lastEndTime=Ln:(An.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const $n=!!Ht.audio,zn=!!Ht.video;let ui="";$n&&(ui+="audio"),zn&&(ui+="video");const ei={data1:Dt,startPTS:Bn,startDTS:Bn,endPTS:Ln,endDTS:Ln,type:ui,hasAudio:$n,hasVideo:zn,nb:1,dropped:0};return Ze.audio="audio"===ei.type?ei:void 0,Ze.video="audio"!==ei.type?ei:void 0,Ze.initSegment=wt,Ze.id3=qu(l,y,ae,ae),f.samples.length&&(Ze.text=Xu(f,y,ae)),Ze}}},{demux:cc,remux:qf},{demux:class Hp extends ed{constructor(r,t){super(),this.observer=void 0,this.config=void 0,this.observer=r,this.config=t}resetInitSegment(r,t,l,f){super.resetInitSegment(r,t,l,f),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:f,inputTimeScale:9e4,dropped:0}}static probe(r){if(!r)return!1;let l=(Sr(r,0)||[]).length;for(let f=r.length;l<f;l++)if(sm(r,l))return An.log("ADTS sync word found !"),!0;return!1}canParse(r,t){return function om(m,r){return function lc(m,r){return r+5<m.length}(m,r)&&Pc(m,r)&&kl(m,r)<=m.length-r}(r,t)}appendFrame(r,t,l){Hf(r,this.observer,t,l,r.manifestCodec);const f=am(r,t,l,this.basePTS,this.frameIndex);if(f&&0===f.missing)return f}},remux:qf},{demux:class Yd extends ed{resetInitSegment(r,t,l,f){super.resetInitSegment(r,t,l,f),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:f,inputTimeScale:9e4,dropped:0}}static probe(r){if(!r)return!1;let l=(Sr(r,0)||[]).length;for(let f=r.length;l<f;l++)if(cm(r,l))return An.log("MPEG Audio sync word found !"),!0;return!1}canParse(r,t){return function Wf(m,r){return Ed(m,r)&&4<=m.length-r}(r,t)}appendFrame(r,t,l){if(null!==this.basePTS)return Kd(r,t,l,this.basePTS,this.frameIndex)}},remux:qf}];class th{constructor(r,t,l,f,y){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=r,this.typeSupported=t,this.config=l,this.vendor=f,this.id=y}configure(r){this.transmuxConfig=r,this.decrypter&&this.decrypter.reset()}push(r,t,l,f){const y=l.transmuxing;y.executeStart=dc();let N=new Uint8Array(r);const{currentTransmuxState:H,transmuxConfig:ee}=this;f&&(this.currentTransmuxState=f);const{contiguous:ae,discontinuity:We,trackSwitch:Ze,accurateTimeOffset:Dt,timeOffset:wt,initSegmentChange:Ht}=f||H,{audioCodec:zt,videoCodec:on,defaultInitPts:Sn,duration:Bn,initSegmentData:Ln}=ee,$n=function hm(m,r){let t=null;return m.byteLength>0&&null!=r&&null!=r.key&&null!==r.iv&&null!=r.method&&(t=r),t}(N,t);if($n&&"AES-128"===$n.method){const gi=this.getDecrypter();if(!gi.isSync())return this.decryptionPromise=gi.webCryptoDecrypt(N,$n.key.buffer,$n.iv.buffer).then(Ci=>{const Xn=this.push(Ci,null,l);return this.decryptionPromise=null,Xn}),this.decryptionPromise;{let Ci=gi.softwareDecrypt(N,$n.key.buffer,$n.iv.buffer);if(l.part>-1&&(Ci=gi.flush()),!Ci)return y.executeEnd=dc(),tf(l);N=new Uint8Array(Ci)}}const zn=this.needsProbing(We,Ze);if(zn){const gi=this.configureTransmuxer(N);if(gi)return An.warn(`[transmuxer] ${gi.message}`),this.observer.emit(ct.ERROR,ct.ERROR,{type:In.MEDIA_ERROR,details:yn.FRAG_PARSING_ERROR,fatal:!1,error:gi,reason:gi.message}),y.executeEnd=dc(),tf(l)}(We||Ze||Ht||zn)&&this.resetInitSegment(Ln,zt,on,Bn,t),(We||Ht||zn)&&this.resetInitialTimestamp(Sn),ae||this.resetContiguity();const ui=this.transmux(N,$n,wt,Dt,l),ei=this.currentTransmuxState;return ei.contiguous=!0,ei.discontinuity=!1,ei.trackSwitch=!1,y.executeEnd=dc(),ui}flush(r){const t=r.transmuxing;t.executeStart=dc();const{decrypter:l,currentTransmuxState:f,decryptionPromise:y}=this;if(y)return y.then(()=>this.flush(r));const N=[],{timeOffset:H}=f;if(l){const Ze=l.flush();Ze&&N.push(this.push(Ze,null,r))}const{demuxer:ee,remuxer:ae}=this;if(!ee||!ae)return t.executeEnd=dc(),[tf(r)];const We=ee.flush(H);return nh(We)?We.then(Ze=>(this.flushRemux(N,Ze,r),N)):(this.flushRemux(N,We,r),N)}flushRemux(r,t,l){const{audioTrack:f,videoTrack:y,id3Track:N,textTrack:H}=t,{accurateTimeOffset:ee,timeOffset:ae}=this.currentTransmuxState;An.log(`[transmuxer.ts]: Flushed fragment ${l.sn}${l.part>-1?" p: "+l.part:""} of level ${l.level}`);const We=this.remuxer.remux(f,y,N,H,ae,ee,!0,this.id);r.push({remuxResult:We,chunkMeta:l}),l.transmuxing.executeEnd=dc()}resetInitialTimestamp(r){const{demuxer:t,remuxer:l}=this;!t||!l||(t.resetTimeStamp(r),l.resetTimeStamp(r))}resetContiguity(){const{demuxer:r,remuxer:t}=this;!r||!t||(r.resetContiguity(),t.resetNextTimestamp())}resetInitSegment(r,t,l,f,y){const{demuxer:N,remuxer:H}=this;!N||!H||(N.resetInitSegment(r,t,l,f),H.resetInitSegment(r,t,l,y))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(r,t,l,f,y){let N;return N=t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(r,t,l,f,y):this.transmuxUnencrypted(r,l,f,y),N}transmuxUnencrypted(r,t,l,f){const{audioTrack:y,videoTrack:N,id3Track:H,textTrack:ee}=this.demuxer.demux(r,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(y,N,H,ee,t,l,!1,this.id),chunkMeta:f}}transmuxSampleAes(r,t,l,f,y){return this.demuxer.demuxSampleAes(r,t,l).then(N=>({remuxResult:this.remuxer.remux(N.audioTrack,N.videoTrack,N.id3Track,N.textTrack,l,f,!1,this.id),chunkMeta:y}))}configureTransmuxer(r){const{config:t,observer:l,typeSupported:f,vendor:y}=this;let N;for(let Ze=0,Dt=uc.length;Ze<Dt;Ze++)if(uc[Ze].demux.probe(r)){N=uc[Ze];break}if(!N)return new Error("Failed to find demuxer by probing fragment data");const H=this.demuxer,ee=this.remuxer,ae=N.remux,We=N.demux;(!ee||!(ee instanceof ae))&&(this.remuxer=new ae(l,t,f,y)),(!H||!(H instanceof We))&&(this.demuxer=new We(l,t,f),this.probe=We.probe)}needsProbing(r,t){return!this.demuxer||!this.remuxer||r||t}getDecrypter(){let r=this.decrypter;return r||(r=this.decrypter=new sr(this.config)),r}}const tf=m=>({remuxResult:{},chunkMeta:m});function nh(m){return"then"in m&&m.then instanceof Function}class nf{constructor(r,t,l,f,y){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=r,this.videoCodec=t,this.initSegmentData=l,this.duration=f,this.defaultInitPts=y||null}}class Yp{constructor(r,t,l,f,y,N){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=r,this.contiguous=t,this.accurateTimeOffset=l,this.trackSwitch=f,this.timeOffset=y,this.initSegmentChange=N}}var ih={exports:{}};!function(m){var r=Object.prototype.hasOwnProperty,t="~";function l(){}function f(ee,ae,We){this.fn=ee,this.context=ae,this.once=We||!1}function y(ee,ae,We,Ze,Dt){if("function"!=typeof We)throw new TypeError("The listener must be a function");var wt=new f(We,Ze||ee,Dt),Ht=t?t+ae:ae;return ee._events[Ht]?ee._events[Ht].fn?ee._events[Ht]=[ee._events[Ht],wt]:ee._events[Ht].push(wt):(ee._events[Ht]=wt,ee._eventsCount++),ee}function N(ee,ae){0==--ee._eventsCount?ee._events=new l:delete ee._events[ae]}function H(){this._events=new l,this._eventsCount=0}Object.create&&(l.prototype=Object.create(null),(new l).__proto__||(t=!1)),H.prototype.eventNames=function(){var We,Ze,ae=[];if(0===this._eventsCount)return ae;for(Ze in We=this._events)r.call(We,Ze)&&ae.push(t?Ze.slice(1):Ze);return Object.getOwnPropertySymbols?ae.concat(Object.getOwnPropertySymbols(We)):ae},H.prototype.listeners=function(ae){var Ze=this._events[t?t+ae:ae];if(!Ze)return[];if(Ze.fn)return[Ze.fn];for(var Dt=0,wt=Ze.length,Ht=new Array(wt);Dt<wt;Dt++)Ht[Dt]=Ze[Dt].fn;return Ht},H.prototype.listenerCount=function(ae){var Ze=this._events[t?t+ae:ae];return Ze?Ze.fn?1:Ze.length:0},H.prototype.emit=function(ae,We,Ze,Dt,wt,Ht){var zt=t?t+ae:ae;if(!this._events[zt])return!1;var Bn,Ln,on=this._events[zt],Sn=arguments.length;if(on.fn){switch(on.once&&this.removeListener(ae,on.fn,void 0,!0),Sn){case 1:return on.fn.call(on.context),!0;case 2:return on.fn.call(on.context,We),!0;case 3:return on.fn.call(on.context,We,Ze),!0;case 4:return on.fn.call(on.context,We,Ze,Dt),!0;case 5:return on.fn.call(on.context,We,Ze,Dt,wt),!0;case 6:return on.fn.call(on.context,We,Ze,Dt,wt,Ht),!0}for(Ln=1,Bn=new Array(Sn-1);Ln<Sn;Ln++)Bn[Ln-1]=arguments[Ln];on.fn.apply(on.context,Bn)}else{var zn,$n=on.length;for(Ln=0;Ln<$n;Ln++)switch(on[Ln].once&&this.removeListener(ae,on[Ln].fn,void 0,!0),Sn){case 1:on[Ln].fn.call(on[Ln].context);break;case 2:on[Ln].fn.call(on[Ln].context,We);break;case 3:on[Ln].fn.call(on[Ln].context,We,Ze);break;case 4:on[Ln].fn.call(on[Ln].context,We,Ze,Dt);break;default:if(!Bn)for(zn=1,Bn=new Array(Sn-1);zn<Sn;zn++)Bn[zn-1]=arguments[zn];on[Ln].fn.apply(on[Ln].context,Bn)}}return!0},H.prototype.on=function(ae,We,Ze){return y(this,ae,We,Ze,!1)},H.prototype.once=function(ae,We,Ze){return y(this,ae,We,Ze,!0)},H.prototype.removeListener=function(ae,We,Ze,Dt){var wt=t?t+ae:ae;if(!this._events[wt])return this;if(!We)return N(this,wt),this;var Ht=this._events[wt];if(Ht.fn)Ht.fn===We&&(!Dt||Ht.once)&&(!Ze||Ht.context===Ze)&&N(this,wt);else{for(var zt=0,on=[],Sn=Ht.length;zt<Sn;zt++)(Ht[zt].fn!==We||Dt&&!Ht[zt].once||Ze&&Ht[zt].context!==Ze)&&on.push(Ht[zt]);on.length?this._events[wt]=1===on.length?on[0]:on:N(this,wt)}return this},H.prototype.removeAllListeners=function(ae){var We;return ae?this._events[We=t?t+ae:ae]&&N(this,We):(this._events=new l,this._eventsCount=0),this},H.prototype.off=H.prototype.removeListener,H.prototype.addListener=H.prototype.on,H.prefixed=t,H.EventEmitter=H,m.exports=H}(ih);var Tu=nl(ih.exports);const Su=sa()||{isTypeSupported:()=>!1};class rh{constructor(r,t,l,f){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const y=r.config;this.hls=r,this.id=t,this.useWorker=!!y.enableWorker,this.onTransmuxComplete=l,this.onFlush=f;const N=(ae,We)=>{(We=We||{}).frag=this.frag,We.id=this.id,ae===ct.ERROR&&(this.error=We.error),this.hls.trigger(ae,We)};this.observer=new Tu,this.observer.on(ct.FRAG_DECRYPTED,N),this.observer.on(ct.ERROR,N);const H={mp4:Su.isTypeSupported("video/mp4"),mpeg:Su.isTypeSupported("audio/mpeg"),mp3:Su.isTypeSupported('audio/mp4; codecs="mp3"')},ee=navigator.vendor;if(this.useWorker&&typeof Worker<"u"&&(y.workerPath||function vu(){return"function"==typeof __HLS_WORKER_BUNDLE__}()))try{y.workerPath?(An.log(`loading Web Worker ${y.workerPath} for "${t}"`),this.workerContext=function Ic(m){const r=new self.URL(m,self.location.href).href;return{worker:new self.Worker(r),scriptURL:r}}(y.workerPath)):(An.log(`injecting Web Worker for "${t}"`),this.workerContext=function xc(){const m=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),r=self.URL.createObjectURL(m);return{worker:new self.Worker(r),objectURL:r}}()),this.onwmsg=Ze=>this.onWorkerMessage(Ze);const{worker:We}=this.workerContext;We.addEventListener("message",this.onwmsg),We.onerror=Ze=>{const Dt=new Error(`${Ze.message}  (${Ze.filename}:${Ze.lineno})`);y.enableWorker=!1,An.warn(`Error in "${t}" Web Worker, fallback to inline`),this.hls.trigger(ct.ERROR,{type:In.OTHER_ERROR,details:yn.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:Dt})},We.postMessage({cmd:"init",typeSupported:H,vendor:ee,id:t,config:JSON.stringify(y)})}catch(We){An.warn(`Error setting up "${t}" Web Worker, fallback to inline`,We),this.resetWorker(),this.error=null,this.transmuxer=new th(this.observer,H,y,ee,t)}else this.transmuxer=new th(this.observer,H,y,ee,t)}resetWorker(){if(this.workerContext){const{worker:r,objectURL:t}=this.workerContext;t&&self.URL.revokeObjectURL(t),r.removeEventListener("message",this.onwmsg),r.onerror=null,r.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const r=this.observer;r&&r.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(r,t,l,f,y,N,H,ee,ae,We){var Ze,Dt;ae.transmuxing.start=self.performance.now();const{transmuxer:wt}=this,Ht=N?N.start:y.start,zt=y.decryptdata,on=this.frag,Sn=!(on&&y.cc===on.cc),Bn=!(on&&ae.level===on.level),Ln=on?ae.sn-on.sn:-1,$n=this.part?ae.part-this.part.index:-1,ui=!Bn&&(1===Ln||0===Ln&&(1===$n||0===Ln&&ae.id>1&&ae.id===on?.stats.chunkCount&&$n<=0)),ei=self.performance.now();(Bn||Ln||0===y.stats.parsing.start)&&(y.stats.parsing.start=ei),N&&($n||!ui)&&(N.stats.parsing.start=ei);const gi=!(on&&(null==(Ze=y.initSegment)?void 0:Ze.url)===(null==(Dt=on.initSegment)?void 0:Dt.url)),Ci=new Yp(Sn,ui,ee,Bn,Ht,gi);if(!ui||Sn||gi){An.log(`[transmuxer-interface, ${y.type}]: Starting new transmux session for sn: ${ae.sn} p: ${ae.part} level: ${ae.level} id: ${ae.id}\n        discontinuity: ${Sn}\n        trackSwitch: ${Bn}\n        contiguous: ${ui}\n        accurateTimeOffset: ${ee}\n        timeOffset: ${Ht}\n        initSegmentChange: ${gi}`);const Xn=new nf(l,f,t,H,We);this.configureTransmuxer(Xn)}if(this.frag=y,this.part=N,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:r,decryptdata:zt,chunkMeta:ae,state:Ci},r instanceof ArrayBuffer?[r]:[]);else if(wt){const Xn=wt.push(r,zt,ae,Ci);nh(Xn)?(wt.async=!0,Xn.then(zi=>{this.handleTransmuxComplete(zi)}).catch(zi=>{this.transmuxerError(zi,ae,"transmuxer-interface push error")})):(wt.async=!1,this.handleTransmuxComplete(Xn))}}flush(r){r.transmuxing.start=self.performance.now();const{transmuxer:t}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:r});else if(t){let l=t.flush(r);nh(l)||t.async?(nh(l)||(l=Promise.resolve(l)),l.then(y=>{this.handleFlushResult(y,r)}).catch(y=>{this.transmuxerError(y,r,"transmuxer-interface flush error")})):this.handleFlushResult(l,r)}}transmuxerError(r,t,l){this.hls&&(this.error=r,this.hls.trigger(ct.ERROR,{type:In.MEDIA_ERROR,details:yn.FRAG_PARSING_ERROR,chunkMeta:t,fatal:!1,error:r,err:r,reason:l}))}handleFlushResult(r,t){r.forEach(l=>{this.handleTransmuxComplete(l)}),this.onFlush(t)}onWorkerMessage(r){const t=r.data,l=this.hls;switch(t.event){case"init":{var f;const y=null==(f=this.workerContext)?void 0:f.objectURL;y&&self.URL.revokeObjectURL(y);break}case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;case"workerLog":An[t.data.logType]&&An[t.data.logType](t.data.message);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,l.trigger(t.event,t.data)}}configureTransmuxer(r){const{transmuxer:t}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:r}):t&&t.configure(r)}handleTransmuxComplete(r){r.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(r)}}class sf{constructor(r,t,l,f){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=r,this.media=t,this.fragmentTracker=l,this.hls=f}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(r,t){const{config:l,media:f,stalled:y}=this;if(null===f)return;const{currentTime:N,seeking:H}=f,ee=this.seeking&&!H,ae=!this.seeking&&H;if(this.seeking=H,N!==r){if(this.moved=!0,null!==y){if(this.stallReported){const Sn=self.performance.now()-y;An.warn(`playback not stuck anymore @${N}, after ${Math.round(Sn)}ms`),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if(ae||ee)return void(this.stalled=null);if(f.paused&&!H||f.ended||0===f.playbackRate||!ao.getBuffered(f).length)return;const We=ao.bufferInfo(f,N,0),Dt=We.nextStart||0;if(!(We.len>0||Dt))return;if(H){const Sn=We.len>2,Bn=!Dt||t&&t.start<=N||Dt-N>2&&!this.fragmentTracker.getPartialFragment(N);if(Sn||Bn)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var wt;const Sn=Math.max(Dt,We.start||0)-N,Bn=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,$n=(null==Bn||null==(wt=Bn.details)?void 0:wt.live)?2*Bn.details.targetduration:2,zn=this.fragmentTracker.getPartialFragment(N);if(Sn>0&&(Sn<=$n||zn))return void this._trySkipBufferHole(zn)}const Ht=self.performance.now();if(null===y)return void(this.stalled=Ht);const zt=Ht-y;if(!H&&zt>=250&&(this._reportStall(We),!this.media))return;const on=ao.bufferInfo(f,N,l.maxBufferHole);this._tryFixBufferStall(on,zt)}_tryFixBufferStall(r,t){const{config:l,fragmentTracker:f,media:y}=this;if(null===y)return;const N=y.currentTime,H=f.getPartialFragment(N);H&&(this._trySkipBufferHole(H)||!this.media)||(r.len>l.maxBufferHole||r.nextStart&&r.nextStart-N<l.maxBufferHole)&&t>1e3*l.highBufferWatchdogPeriod&&(An.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(r){const{hls:t,media:l,stallReported:f}=this;if(!f&&l){this.stallReported=!0;const y=new Error(`Playback stalling at @${l.currentTime} due to low buffer (${JSON.stringify(r)})`);An.warn(y.message),t.trigger(ct.ERROR,{type:In.MEDIA_ERROR,details:yn.BUFFER_STALLED_ERROR,fatal:!1,error:y,buffer:r.len})}}_trySkipBufferHole(r){const{config:t,hls:l,media:f}=this;if(null===f)return 0;const y=f.currentTime,N=ao.bufferInfo(f,y,0),H=y<N.start?N.start:N.nextStart;if(H){const We=H-y;if(We>0&&(N.len<=t.maxBufferHole||N.len>0&&N.len<1&&f.readyState<3)){if(We>t.maxBufferHole){const{fragmentTracker:Dt}=this;let wt=!1;if(0===y){const Ht=Dt.getAppendedFrag(0,"main");Ht&&H<Ht.end&&(wt=!0)}if(!wt){const Ht=r||Dt.getAppendedFrag(y,"main");if(Ht){let zt=!1,on=Ht.end;for(;on<H;){const Sn=Dt.getPartialFragment(on);if(!Sn){zt=!0;break}on+=Sn.duration}if(zt)return 0}}}const Ze=Math.max(H+.05,y+.1);if(An.warn(`skipping hole, adjusting currentTime from ${y} to ${Ze}`),this.moved=!0,this.stalled=null,f.currentTime=Ze,r&&!r.gap){const Dt=new Error(`fragment loaded with buffer holes, seeking from ${y} to ${Ze}`);l.trigger(ct.ERROR,{type:In.MEDIA_ERROR,details:yn.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:Dt,reason:Dt.message,frag:r})}return Ze}}return 0}_tryNudgeBuffer(){const{config:r,hls:t,media:l,nudgeRetry:f}=this;if(null===l)return;const y=l.currentTime;if(this.nudgeRetry++,f<r.nudgeMaxRetry){const N=y+(f+1)*r.nudgeOffset,H=new Error(`Nudging 'currentTime' from ${y} to ${N}`);An.warn(H.message),l.currentTime=N,t.trigger(ct.ERROR,{type:In.MEDIA_ERROR,details:yn.BUFFER_NUDGE_ON_STALL,error:H,fatal:!1})}else{const N=new Error(`Playhead still not moving while enough data buffered @${y} after ${r.nudgeMaxRetry} nudges`);An.error(N.message),t.trigger(ct.ERROR,{type:In.MEDIA_ERROR,details:yn.BUFFER_STALLED_ERROR,error:N,fatal:!0})}}}class ah extends Xc{constructor(r,t,l){super(r,t,l,"[stream-controller]","main"),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:r}=this;r.on(ct.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(ct.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.on(ct.MANIFEST_PARSED,this.onManifestParsed,this),r.on(ct.LEVEL_LOADING,this.onLevelLoading,this),r.on(ct.LEVEL_LOADED,this.onLevelLoaded,this),r.on(ct.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),r.on(ct.ERROR,this.onError,this),r.on(ct.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),r.on(ct.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),r.on(ct.BUFFER_CREATED,this.onBufferCreated,this),r.on(ct.BUFFER_FLUSHED,this.onBufferFlushed,this),r.on(ct.LEVELS_UPDATED,this.onLevelsUpdated,this),r.on(ct.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:r}=this;r.off(ct.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(ct.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.off(ct.MANIFEST_PARSED,this.onManifestParsed,this),r.off(ct.LEVEL_LOADED,this.onLevelLoaded,this),r.off(ct.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),r.off(ct.ERROR,this.onError,this),r.off(ct.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),r.off(ct.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),r.off(ct.BUFFER_CREATED,this.onBufferCreated,this),r.off(ct.BUFFER_FLUSHED,this.onBufferFlushed,this),r.off(ct.LEVELS_UPDATED,this.onLevelsUpdated,this),r.off(ct.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),this.onMediaDetaching()}startLoad(r){if(this.levels){const{lastCurrentTime:t,hls:l}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let f=l.startLevel;-1===f&&(l.config.testBandwidth&&this.levels.length>1?(f=0,this.bitrateTest=!0):f=l.nextAutoLevel),this.level=l.nextLoadLevel=f,this.loadedmetadata=!1}t>0&&-1===r&&(this.log(`Override startPosition with lastCurrentTime @${t.toFixed(3)}`),r=t),this.state="IDLE",this.nextLoadPosition=this.startPosition=this.lastCurrentTime=r,this.tick()}else this._forceStartLoad=!0,this.state="STOPPED"}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case"WAITING_LEVEL":{var r;const{levels:l,level:f}=this,y=null==l||null==(r=l[f])?void 0:r.details;if(y&&(!y.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(y))break;this.state="IDLE";break}if(this.hls.nextLoadLevel!==this.level){this.state="IDLE";break}break}case"FRAG_LOADING_WAITING_RETRY":{var t;const l=self.performance.now(),f=this.retryDate;(!f||l>=f||null!=(t=this.media)&&t.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state="IDLE")}}"IDLE"===this.state&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:r,levelLastLoaded:t,levels:l,media:f}=this,{config:y,nextLoadLevel:N}=r;if(null===t||!f&&(this.startFragRequested||!y.startFragPrefetch)||this.altAudio&&this.audioOnly||null==l||!l[N])return;const H=l[N],ee=this.getMainFwdBufferInfo();if(null===ee)return;const ae=this.getLevelDetails();if(ae&&this._streamEnded(ee,ae)){const on={};return this.altAudio&&(on.type="video"),this.hls.trigger(ct.BUFFER_EOS,on),void(this.state="ENDED")}r.loadLevel!==N&&-1===r.manualLevel&&this.log(`Adapting to level ${N} from level ${this.level}`),this.level=r.nextLoadLevel=N;const We=H.details;if(!We||"WAITING_LEVEL"===this.state||We.live&&this.levelLastLoaded!==N)return this.level=N,void(this.state="WAITING_LEVEL");const Ze=ee.len,Dt=this.getMaxBufferLength(H.maxBitrate);if(Ze>=Dt)return;this.backtrackFragment&&this.backtrackFragment.start>ee.end&&(this.backtrackFragment=null);const wt=this.backtrackFragment?this.backtrackFragment.start:ee.end;let Ht=this.getNextFragment(wt,We);if(this.couldBacktrack&&!this.fragPrevious&&Ht&&"initSegment"!==Ht.sn&&"OK"!==this.fragmentTracker.getState(Ht)){var zt;const Sn=(null!=(zt=this.backtrackFragment)?zt:Ht).sn-We.startSN,Bn=We.fragments[Sn-1];Bn&&Ht.cc===Bn.cc&&(Ht=Bn,this.fragmentTracker.removeFragment(Bn))}else this.backtrackFragment&&ee.len&&(this.backtrackFragment=null);if(Ht&&this.isLoopLoading(Ht,wt)){if(!Ht.gap){const Sn=this.audioOnly&&!this.altAudio?"audio":"video",Bn=("video"===Sn?this.videoBuffer:this.mediaBuffer)||this.media;Bn&&this.afterBufferFlushed(Bn,Sn,"main")}Ht=this.getNextFragmentLoopLoading(Ht,We,ee,"main",Dt)}Ht&&(Ht.initSegment&&!Ht.initSegment.data&&!this.bitrateTest&&(Ht=Ht.initSegment),this.loadFragment(Ht,H,wt))}loadFragment(r,t,l){const f=this.fragmentTracker.getState(r);this.fragCurrent=r,"NOT_LOADED"===f||"PARTIAL"===f?"initSegment"===r.sn?this._loadInitSegment(r,t):this.bitrateTest?(this.log(`Fragment ${r.sn} of level ${r.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(r,t)):(this.startFragRequested=!0,super.loadFragment(r,t,l)):this.clearTrackerIfNeeded(r)}getBufferedFrag(r){return this.fragmentTracker.getBufferedFrag(r,"main")}followingBufferedFrag(r){return r?this.getBufferedFrag(r.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:r,media:t}=this;if(null!=t&&t.readyState){let l;const f=this.getAppendedFrag(t.currentTime);f&&f.start>1&&this.flushMainBuffer(0,f.start-1);const y=this.getLevelDetails();if(null!=y&&y.live){const H=this.getMainFwdBufferInfo();if(!H||H.len<2*y.targetduration)return}if(!t.paused&&r){const ae=this.fragLastKbps;l=ae&&this.fragCurrent?this.fragCurrent.duration*r[this.hls.nextLoadLevel].maxBitrate/(1e3*ae)+1:0}else l=0;const N=this.getBufferedFrag(t.currentTime+l);if(N){const H=this.followingBufferedFrag(N);if(H){this.abortCurrentFrag();const ae=H.duration,We=Math.max(N.end,(H.maxStartPTS?H.maxStartPTS:H.start)+Math.min(Math.max(ae-this.config.maxFragLookUpTolerance,.5*ae),.75*ae));this.flushMainBuffer(We,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const r=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,r&&(r.abortRequests(),this.fragmentTracker.removeFragment(r)),this.state){case"KEY_LOADING":case"FRAG_LOADING":case"FRAG_LOADING_WAITING_RETRY":case"PARSING":case"PARSED":this.state="IDLE"}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(r,t){super.flushMainBuffer(r,t,this.altAudio?"video":null)}onMediaAttached(r,t){super.onMediaAttached(r,t);const l=t.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),l.addEventListener("playing",this.onvplaying),l.addEventListener("seeked",this.onvseeked),this.gapController=new sf(this.config,l,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:r}=this;r&&this.onvplaying&&this.onvseeked&&(r.removeEventListener("playing",this.onvplaying),r.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const r=this.media,t=r?r.currentTime:null;Mt(t)&&this.log(`Media seeked to ${t.toFixed(3)}`);const l=this.getMainFwdBufferInfo();null!==l&&0!==l.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${l?l.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(ct.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}onManifestParsed(r,t){let y,l=!1,f=!1;t.levels.forEach(N=>{y=N.audioCodec,y&&(-1!==y.indexOf("mp4a.40.2")&&(l=!0),-1!==y.indexOf("mp4a.40.5")&&(f=!0))}),this.audioCodecSwitch=l&&f&&!function Yu(){var m;const r=yd();return"function"==typeof(null==r||null==(m=r.prototype)?void 0:m.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}onLevelLoading(r,t){const{levels:l}=this;if(!l||"IDLE"!==this.state)return;const f=l[t.level];(!f.details||f.details.live&&this.levelLastLoaded!==t.level||this.waitForCdnTuneIn(f.details))&&(this.state="WAITING_LEVEL")}onLevelLoaded(r,t){var l;const{levels:f}=this,y=t.level,N=t.details,H=N.totalduration;if(!f)return void this.warn(`Levels were reset while loading level ${y}`);this.log(`Level ${y} loaded [${N.startSN},${N.endSN}]${N.lastPartSn?`[part-${N.lastPartSn}-${N.lastPartIndex}]`:""}, cc [${N.startCC}, ${N.endCC}] duration:${H}`);const ee=f[y],ae=this.fragCurrent;ae&&("FRAG_LOADING"===this.state||"FRAG_LOADING_WAITING_RETRY"===this.state)&&(ae.level!==t.level||ae.urlId!==ee.urlId)&&ae.loader&&this.abortCurrentFrag();let We=0;if(N.live||null!=(l=ee.details)&&l.live){if(N.fragments[0]||(N.deltaUpdateFailed=!0),N.deltaUpdateFailed)return;We=this.alignPlaylists(N,ee.details)}if(ee.details=N,this.levelLastLoaded=y,this.hls.trigger(ct.LEVEL_UPDATED,{details:N,level:y}),"WAITING_LEVEL"===this.state){if(this.waitForCdnTuneIn(N))return;this.state="IDLE"}this.startFragRequested?N.live&&this.synchronizeToLiveEdge(N):this.setStartPosition(N,We),this.tick()}_handleFragmentLoadProgress(r){var t;const{frag:l,part:f,payload:y}=r,{levels:N}=this;if(!N)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${l.sn} of level ${l.level} will not be buffered`);const H=N[l.level],ee=H.details;if(!ee)return this.warn(`Dropping fragment ${l.sn} of level ${l.level} after level details were reset`),void this.fragmentTracker.removeFragment(l);const ae=H.videoCodec,We=ee.PTSKnown||!ee.live,Ze=null==(t=l.initSegment)?void 0:t.data,Dt=this._getAudioCodec(H),wt=this.transmuxer=this.transmuxer||new rh(this.hls,"main",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),Ht=f?f.index:-1,on=new mu(l.level,l.sn,l.stats.chunkCount,y.byteLength,Ht,-1!==Ht);wt.push(y,Ze,Dt,ae,l,f,ee.totalduration,We,on,this.initPTS[l.cc])}onAudioTrackSwitching(r,t){const l=this.altAudio;if(!t.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const N=this.fragCurrent;N&&(this.log("Switching to main audio track, cancel main fragment load"),N.abortRequests(),this.fragmentTracker.removeFragment(N)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const y=this.hls;l&&(y.trigger(ct.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),y.trigger(ct.AUDIO_TRACK_SWITCHED,t)}}onAudioTrackSwitched(r,t){const f=!!this.hls.audioTracks[t.id].url;if(f){const y=this.videoBuffer;y&&this.mediaBuffer!==y&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=y)}this.altAudio=f,this.tick()}onBufferCreated(r,t){const l=t.tracks;let f,y,N=!1;for(const H in l){const ee=l[H];if("main"===ee.id){if(y=H,f=ee,"video"===H){const ae=l[H];ae&&(this.videoBuffer=ae.buffer)}}else N=!0}N&&f?(this.log(`Alternate track found, use ${y}.buffered to schedule main fragment loading`),this.mediaBuffer=f.buffer):this.mediaBuffer=this.media}onFragBuffered(r,t){const{frag:l,part:f}=t;if(l&&"main"!==l.type)return;if(this.fragContextChanged(l))return this.warn(`Fragment ${l.sn}${f?" p: "+f.index:""} of level ${l.level} finished buffering, but was aborted. state: ${this.state}`),void("PARSED"===this.state&&(this.state="IDLE"));const y=f?f.stats:l.stats;this.fragLastKbps=Math.round(8*y.total/(y.buffering.end-y.loading.first)),"initSegment"!==l.sn&&(this.fragPrevious=l),this.fragBufferedComplete(l,f)}onError(r,t){var l;if(t.fatal)this.state="ERROR";else switch(t.details){case yn.FRAG_GAP:case yn.FRAG_PARSING_ERROR:case yn.FRAG_DECRYPT_ERROR:case yn.FRAG_LOAD_ERROR:case yn.FRAG_LOAD_TIMEOUT:case yn.KEY_LOAD_ERROR:case yn.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("main",t);break;case yn.LEVEL_LOAD_ERROR:case yn.LEVEL_LOAD_TIMEOUT:case yn.LEVEL_PARSING_ERROR:!t.levelRetry&&"WAITING_LEVEL"===this.state&&"level"===(null==(l=t.context)?void 0:l.type)&&(this.state="IDLE");break;case yn.BUFFER_FULL_ERROR:if(!t.parent||"main"!==t.parent)return;this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case yn.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}checkBuffer(){const{media:r,gapController:t}=this;r&&t&&r.readyState&&(!this.loadedmetadata&&ao.getBuffered(r).length||t.poll(this.lastCurrentTime,"IDLE"!==this.state?this.fragCurrent:null),this.lastCurrentTime=r.currentTime)}onFragLoadEmergencyAborted(){this.state="IDLE",this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(r,{type:t}){("audio"!==t||this.audioOnly&&!this.altAudio)&&this.afterBufferFlushed(("video"===t?this.videoBuffer:this.mediaBuffer)||this.media,t,"main")}onLevelsUpdated(r,t){this.levels=t.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:r}=this;if(!r)return;const t=r.currentTime;let l=this.startPosition;if(l>=0&&t<l){if(r.seeking)return void this.log(`could not seek to ${l}, already seeking at ${t}`);const f=ao.getBuffered(r),N=(f.length?f.start(0):0)-l;N>0&&(N<this.config.maxBufferHole||N<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${N} to match buffer start`),l+=N,this.startPosition=l),this.log(`seek to target start position ${l} from current time ${t}`),r.currentTime=l}}_getAudioCodec(r){let t=this.config.defaultAudioCodec||r.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t}_loadBitrateTestFrag(r,t){r.bitrateTest=!0,this._doFragLoad(r,t).then(l=>{const{hls:f}=this;if(!l||this.fragContextChanged(r))return;t.fragmentError=0,this.state="IDLE",this.startFragRequested=!1,this.bitrateTest=!1;const y=r.stats;y.parsing.start=y.parsing.end=y.buffering.start=y.buffering.end=self.performance.now(),f.trigger(ct.FRAG_LOADED,l),r.bitrateTest=!1})}_handleTransmuxComplete(r){var t;const l="main",{hls:f}=this,{remuxResult:y,chunkMeta:N}=r,H=this.getCurrentContext(N);if(!H)return void this.resetWhenMissingContext(N);const{frag:ee,part:ae,level:We}=H,{video:Ze,text:Dt,id3:wt,initSegment:Ht}=y,{details:zt}=We,on=this.altAudio?void 0:y.audio;if(this.fragContextChanged(ee))this.fragmentTracker.removeFragment(ee);else{if(this.state="PARSING",Ht){if(null!=Ht&&Ht.tracks){const Ln=ee.initSegment||ee;this._bufferInitSegment(We,Ht.tracks,Ln,N),f.trigger(ct.FRAG_PARSING_INIT_SEGMENT,{frag:Ln,id:l,tracks:Ht.tracks})}const Sn=Ht.initPTS,Bn=Ht.timescale;Mt(Sn)&&(this.initPTS[ee.cc]={baseTime:Sn,timescale:Bn},f.trigger(ct.INIT_PTS_FOUND,{frag:ee,id:l,initPTS:Sn,timescale:Bn}))}if(Ze&&zt&&"initSegment"!==ee.sn){const Sn=zt.fragments[ee.sn-1-zt.startSN],Bn=ee.sn===zt.startSN,Ln=!Sn||ee.cc>Sn.cc;if(!1!==y.independent){const{startPTS:$n,endPTS:zn,startDTS:ui,endDTS:ei}=Ze;if(ae)ae.elementaryStreams[Ze.type]={startPTS:$n,endPTS:zn,startDTS:ui,endDTS:ei};else if(Ze.firstKeyFrame&&Ze.independent&&1===N.id&&!Ln&&(this.couldBacktrack=!0),Ze.dropped&&Ze.independent){const gi=this.getMainFwdBufferInfo(),Ci=(gi?gi.end:this.getLoadPosition())+this.config.maxBufferHole;if(!Bn&&Ci<(Ze.firstKeyFramePTS?Ze.firstKeyFramePTS:$n)-this.config.maxBufferHole&&!Ln)return void this.backtrack(ee);Ln&&(ee.gap=!0),ee.setElementaryStreamInfo(Ze.type,ee.start,zn,ee.start,ei,!0)}ee.setElementaryStreamInfo(Ze.type,$n,zn,ui,ei),this.backtrackFragment&&(this.backtrackFragment=ee),this.bufferFragmentData(Ze,ee,ae,N,Bn||Ln)}else{if(!Bn&&!Ln)return void this.backtrack(ee);ee.gap=!0}}if(on){const{startPTS:Sn,endPTS:Bn,startDTS:Ln,endDTS:$n}=on;ae&&(ae.elementaryStreams.audio={startPTS:Sn,endPTS:Bn,startDTS:Ln,endDTS:$n}),ee.setElementaryStreamInfo("audio",Sn,Bn,Ln,$n),this.bufferFragmentData(on,ee,ae,N)}zt&&null!=wt&&null!=(t=wt.samples)&&t.length&&f.trigger(ct.FRAG_PARSING_METADATA,{id:l,frag:ee,details:zt,samples:wt.samples}),zt&&Dt&&f.trigger(ct.FRAG_PARSING_USERDATA,{id:l,frag:ee,details:zt,samples:Dt.samples})}}_bufferInitSegment(r,t,l,f){if("PARSING"!==this.state)return;this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;const{audio:y,video:N,audiovideo:H}=t;if(y){let ee=r.audioCodec;const ae=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(ee&&(ee=-1!==ee.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==y.metadata.channelCount&&-1===ae.indexOf("firefox")&&(ee="mp4a.40.5")),-1!==ae.indexOf("android")&&"audio/mpeg"!==y.container&&(ee="mp4a.40.2",this.log(`Android: force audio codec to ${ee}`)),r.audioCodec&&r.audioCodec!==ee&&this.log(`Swapping manifest audio codec "${r.audioCodec}" for "${ee}"`),y.levelCodec=ee,y.id="main",this.log(`Init audio buffer, container:${y.container}, codecs[selected/level/parsed]=[${ee||""}/${r.audioCodec||""}/${y.codec}]`)}N&&(N.levelCodec=r.videoCodec,N.id="main",this.log(`Init video buffer, container:${N.container}, codecs[level/parsed]=[${r.videoCodec||""}/${N.codec}]`)),H&&this.log(`Init audiovideo buffer, container:${H.container}, codecs[level/parsed]=[${r.attrs.CODECS||""}/${H.codec}]`),this.hls.trigger(ct.BUFFER_CODECS,t),Object.keys(t).forEach(ee=>{const We=t[ee].initSegment;null!=We&&We.byteLength&&this.hls.trigger(ct.BUFFER_APPENDING,{type:ee,data:We,frag:l,part:null,chunkMeta:f,parent:l.type})}),this.tick()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,"main")}backtrack(r){this.couldBacktrack=!0,this.backtrackFragment=r,this.resetTransmuxer(),this.flushBufferGap(r),this.fragmentTracker.removeFragment(r),this.fragPrevious=null,this.nextLoadPosition=r.start,this.state="IDLE"}checkFragmentChanged(){const r=this.media;let t=null;if(r&&r.readyState>1&&!1===r.seeking){const l=r.currentTime;if(ao.isBuffered(r,l)?t=this.getAppendedFrag(l):ao.isBuffered(r,l+.1)&&(t=this.getAppendedFrag(l+.1)),t){this.backtrackFragment=null;const f=this.fragPlaying,y=t.level;(!f||t.sn!==f.sn||f.level!==y||t.urlId!==f.urlId)&&(this.fragPlaying=t,this.hls.trigger(ct.FRAG_CHANGED,{frag:t}),(!f||f.level!==y)&&this.hls.trigger(ct.LEVEL_SWITCHED,{level:y}))}}}get nextLevel(){const r=this.nextBufferedFrag;return r?r.level:-1}get currentFrag(){const r=this.media;return r?this.fragPlaying||this.getAppendedFrag(r.currentTime):null}get currentProgramDateTime(){const r=this.media;if(r){const t=r.currentTime,l=this.currentFrag;if(l&&Mt(t)&&Mt(l.programDateTime))return new Date(l.programDateTime+1e3*(t-l.start))}return null}get currentLevel(){const r=this.currentFrag;return r?r.level:-1}get nextBufferedFrag(){const r=this.currentFrag;return r?this.followingBufferedFrag(r):null}get forceStartLoad(){return this._forceStartLoad}}class Bl{constructor(r,t=0,l=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=r,this.alpha_=r?Math.exp(Math.log(.5)/r):0,this.estimate_=t,this.totalWeight_=l}sample(r,t){const l=Math.pow(this.alpha_,r);this.estimate_=t*(1-l)+l*this.estimate_,this.totalWeight_+=r}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const r=1-Math.pow(this.alpha_,this.totalWeight_);if(r)return this.estimate_/r}return this.estimate_}}class zp{constructor(r,t,l,f=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=l,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Bl(r),this.fast_=new Bl(t),this.defaultTTFB_=f,this.ttfb_=new Bl(r)}update(r,t){const{slow_:l,fast_:f,ttfb_:y}=this;l.halfLife!==r&&(this.slow_=new Bl(r,l.getEstimate(),l.getTotalWeight())),f.halfLife!==t&&(this.fast_=new Bl(t,f.getEstimate(),f.getTotalWeight())),y.halfLife!==r&&(this.ttfb_=new Bl(r,y.getEstimate(),y.getTotalWeight()))}sample(r,t){const f=(r=Math.max(r,this.minDelayMs_))/1e3,y=8*t/f;this.fast_.sample(f,y),this.slow_.sample(f,y)}sampleTTFB(r){const t=r/1e3,l=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(l,Math.max(r,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}class _m{constructor(){this.chunks=[],this.dataLength=0}push(r){this.chunks.push(r),this.dataLength+=r.length}flush(){const{chunks:r,dataLength:t}=this;let l;return r.length?(l=1===r.length?r[0]:function Zp(m,r){const t=new Uint8Array(r);let l=0;for(let f=0;f<m.length;f++){const y=m[f];t.set(y,l),l+=y.length}return t}(r,t),this.reset(),l):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function zd(m,r){if(m.length!==r.length)return!1;for(let t=0;t<m.length;t++)if(!ch(m[t].attrs,r[t].attrs))return!1;return!0}function ch(m,r){const t=m["STABLE-RENDITION-ID"];return t?t===r["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some(l=>m[l]!==r[l])}class Jp{constructor(r){this.buffered=void 0;const t=(l,f,y)=>{if((f>>>=0)>y-1)throw new DOMException(`Failed to execute '${l}' on 'TimeRanges': The index provided (${f}) is greater than the maximum bound (${y})`);return r[f][l]};this.buffered={get length(){return r.length},end:l=>t("end",l,r.length),start:l=>t("start",l,r.length)}}}function dh(m){const r=[];for(let t=0;t<m.length;t++){const l=m[t];("subtitles"===l.kind||"captions"===l.kind)&&l.label&&r.push(m[t])}return r}class uh{constructor(r){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=r}append(r,t){const l=this.queues[t];l.push(r),1===l.length&&this.buffers[t]&&this.executeNext(t)}insertAbort(r,t){this.queues[t].unshift(r),this.executeNext(t)}appendBlocker(r){let t;const l=new Promise(y=>{t=y});return this.append({execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}},r),l}executeNext(r){const{buffers:t,queues:l}=this,f=t[r],y=l[r];if(y.length){const N=y[0];try{N.execute()}catch(H){An.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),N.onError(H),null!=f&&f.updating||(y.shift(),this.executeNext(r))}}}shiftAndExecuteNext(r){this.queues[r].shift(),this.executeNext(r)}current(r){return this.queues[r][0]}}const bm=sa(),G=/([ha]vc.)(?:\.[^.,]+)+/,M={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},j=function(r){let t=r;return M.hasOwnProperty(r)&&(t=M[r]),String.fromCharCode(t)},gt=100,jt={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Dn={17:2,18:4,21:6,22:8,23:10,19:13,20:15},On={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Wn={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Yn=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class Di{constructor(){this.time=null,this.verboseLevel=0}log(r,t){if(this.verboseLevel>=r){const l="function"==typeof t?t():t;An.log(`${this.time} [${r}] ${l}`)}}}const li=function(r){const t=[];for(let l=0;l<r.length;l++)t.push(r[l].toString(16));return t};class Si{constructor(r,t,l,f,y){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=r||"white",this.underline=t||!1,this.italics=l||!1,this.background=f||"black",this.flash=y||!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(r){const t=["foreground","underline","italics","background","flash"];for(let l=0;l<t.length;l++){const f=t[l];r.hasOwnProperty(f)&&(this[f]=r[f])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(r){return this.foreground===r.foreground&&this.underline===r.underline&&this.italics===r.italics&&this.background===r.background&&this.flash===r.flash}copy(r){this.foreground=r.foreground,this.underline=r.underline,this.italics=r.italics,this.background=r.background,this.flash=r.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class wr{constructor(r,t,l,f,y,N){this.uchar=void 0,this.penState=void 0,this.uchar=r||" ",this.penState=new Si(t,l,f,y,N)}reset(){this.uchar=" ",this.penState.reset()}setChar(r,t){this.uchar=r,this.penState.copy(t)}setPenState(r){this.penState.copy(r)}equals(r){return this.uchar===r.uchar&&this.penState.equals(r.penState)}copy(r){this.uchar=r.uchar,this.penState.copy(r.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class dr{constructor(r){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(let t=0;t<gt;t++)this.chars.push(new wr);this.logger=r,this.pos=0,this.currPenState=new Si}equals(r){let t=!0;for(let l=0;l<gt;l++)if(!this.chars[l].equals(r.chars[l])){t=!1;break}return t}copy(r){for(let t=0;t<gt;t++)this.chars[t].copy(r.chars[t])}isEmpty(){let r=!0;for(let t=0;t<gt;t++)if(!this.chars[t].isEmpty()){r=!1;break}return r}setCursor(r){this.pos!==r&&(this.pos=r),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>gt&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=gt)}moveCursor(r){const t=this.pos+r;if(r>1)for(let l=this.pos+1;l<t+1;l++)this.chars[l].setPenState(this.currPenState);this.setCursor(t)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(r){r>=144&&this.backSpace();const t=j(r);this.pos>=gt?this.logger.log(0,()=>"Cannot insert "+r.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))}clearFromPos(r){let t;for(t=r;t<gt;t++)this.chars[t].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const r=[];let t=!0;for(let l=0;l<gt;l++){const f=this.chars[l].uchar;" "!==f&&(t=!1),r.push(f)}return t?"":r.join("")}setPenStyles(r){this.currPenState.setStyles(r),this.chars[this.pos].setPenState(this.currPenState)}}class Gi{constructor(r){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(let t=0;t<15;t++)this.rows.push(new dr(r));this.logger=r,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}reset(){for(let r=0;r<15;r++)this.rows[r].clear();this.currRow=14}equals(r){let t=!0;for(let l=0;l<15;l++)if(!this.rows[l].equals(r.rows[l])){t=!1;break}return t}copy(r){for(let t=0;t<15;t++)this.rows[t].copy(r.rows[t])}isEmpty(){let r=!0;for(let t=0;t<15;t++)if(!this.rows[t].isEmpty()){r=!1;break}return r}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(r){this.rows[this.currRow].insertChar(r)}setPen(r){this.rows[this.currRow].setPenStyles(r)}moveCursor(r){this.rows[this.currRow].moveCursor(r)}setCursor(r){this.logger.log(2,"setCursor: "+r),this.rows[this.currRow].setCursor(r)}setPAC(r){this.logger.log(2,()=>"pacData = "+JSON.stringify(r));let t=r.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(let H=0;H<15;H++)this.rows[H].clear();const y=this.currRow+1-this.nrRollUpRows,N=this.lastOutputScreen;if(N){const H=N.rows[y].cueStartTime,ee=this.logger.time;if(H&&null!==ee&&H<ee)for(let ae=0;ae<this.nrRollUpRows;ae++)this.rows[t-this.nrRollUpRows+ae+1].copy(N.rows[y+ae])}}this.currRow=t;const l=this.rows[this.currRow];if(null!==r.indent){const N=Math.max(r.indent-1,0);l.setCursor(r.indent),r.color=l.chars[N].penState.foreground}this.setPen({foreground:r.color,underline:r.underline,italics:r.italics,background:"black",flash:!1})}setBkgData(r){this.logger.log(2,()=>"bkgData = "+JSON.stringify(r)),this.backSpace(),this.setPen(r),this.insertChar(32)}setRollUpRows(r){this.nrRollUpRows=r}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,()=>this.getDisplayText());const t=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(2,"Rolling up")}getDisplayText(r){r=r||!1;const t=[];let l="",f=-1;for(let y=0;y<15;y++){const N=this.rows[y].getTextString();N&&(f=y+1,t.push(r?"Row "+f+": '"+N+"'":N.trim()))}return t.length>0&&(l=r?"["+t.join(" | ")+"]":t.join("\n")),l}getTextAndFormat(){return this.rows}}class Mr{constructor(r,t,l){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=r,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new Gi(l),this.nonDisplayedMemory=new Gi(l),this.lastOutputScreen=new Gi(l),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=l}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(r){this.outputFilter=r}setPAC(r){this.writeScreen.setPAC(r)}setBkgData(r){this.writeScreen.setBkgData(r)}setMode(r){r!==this.mode&&(this.mode=r,this.logger.log(2,()=>"MODE="+r),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=r)}insertChars(r){for(let l=0;l<r.length;l++)this.writeScreen.insertChar(r[l]);const t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>t+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(r){this.logger.log(2,"RU("+r+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(r)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const r=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=r,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(r){this.logger.log(2,"TO("+r+") - Tab Offset"),this.writeScreen.moveCursor(r)}ccMIDROW(r){const t={flash:!1};if(t.underline=r%2==1,t.italics=r>=46,t.italics)t.foreground="white";else{const l=Math.floor(r/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][l]}this.logger.log(2,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}outputDataUpdate(r=!1){const t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),r&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(r){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,r,this.displayedMemory),this.cueStartTime=r))}}class Cr{constructor(r,t,l){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;const f=new Di;this.channels=[null,new Mr(r,t,f),new Mr(r+1,l,f)],this.cmdHistory={a:null,b:null},this.logger=f}getHandler(r){return this.channels[r].getHandler()}setHandler(r,t){this.channels[r].setHandler(t)}addData(r,t){let l,f,y,N=!1;this.logger.time=r;for(let H=0;H<t.length;H+=2)if(f=127&t[H],y=127&t[H+1],0!==f||0!==y){if(this.logger.log(3,"["+li([t[H],t[H+1]])+"] -> ("+li([f,y])+")"),l=this.parseCmd(f,y),l||(l=this.parseMidrow(f,y)),l||(l=this.parsePAC(f,y)),l||(l=this.parseBackgroundAttributes(f,y)),!l&&(N=this.parseChars(f,y),N)){const ee=this.currentChannel;ee&&ee>0?this.channels[ee].insertChars(N):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!l&&!N&&this.logger.log(2,"Couldn't parse cleaned data "+li([f,y])+" orig: "+li([t[H],t[H+1]]))}}parseCmd(r,t){const{cmdHistory:l}=this;if(!((20===r||28===r||21===r||29===r)&&t>=32&&t<=47||(23===r||31===r)&&t>=33&&t<=35))return!1;if(ur(r,t,l))return Jr(null,null,l),this.logger.log(3,"Repeated command ("+li([r,t])+") is dropped"),!0;const N=20===r||21===r||23===r?1:2,H=this.channels[N];return 20===r||21===r||28===r||29===r?32===t?H.ccRCL():33===t?H.ccBS():34===t?H.ccAOF():35===t?H.ccAON():36===t?H.ccDER():37===t?H.ccRU(2):38===t?H.ccRU(3):39===t?H.ccRU(4):40===t?H.ccFON():41===t?H.ccRDC():42===t?H.ccTR():43===t?H.ccRTD():44===t?H.ccEDM():45===t?H.ccCR():46===t?H.ccENM():47===t&&H.ccEOC():H.ccTO(t-32),Jr(r,t,l),this.currentChannel=N,!0}parseMidrow(r,t){let l=0;if((17===r||25===r)&&t>=32&&t<=47){if(l=17===r?1:2,l!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const f=this.channels[l];return!!f&&(f.ccMIDROW(t),this.logger.log(3,"MIDROW ("+li([r,t])+")"),!0)}return!1}parsePAC(r,t){let l;const f=this.cmdHistory;if(!((r>=17&&r<=23||r>=25&&r<=31)&&t>=64&&t<=127||(16===r||24===r)&&t>=64&&t<=95))return!1;if(ur(r,t,f))return Jr(null,null,f),!0;const H=r<=23?1:2;l=t>=64&&t<=95?1===H?jt[r]:On[r]:1===H?Dn[r]:Wn[r];const ee=this.channels[H];return!!ee&&(ee.setPAC(this.interpretPAC(l,t)),Jr(r,t,f),this.currentChannel=H,!0)}interpretPAC(r,t){let l;const f={color:null,italics:!1,indent:null,underline:!1,row:r};return l=t>95?t-96:t-64,f.underline=1==(1&l),l<=13?f.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(l/2)]:l<=15?(f.italics=!0,f.color="white"):f.indent=4*Math.floor((l-16)/2),f}parseChars(r,t){let l,f=null,y=null;if(r>=25?(l=2,y=r-8):(l=1,y=r),y>=17&&y<=19){let N;N=17===y?t+80:18===y?t+112:t+144,this.logger.log(2,"Special char '"+j(N)+"' in channel "+l),f=[N]}else r>=32&&r<=127&&(f=0===t?[r]:[r,t]);if(f){const N=li(f);this.logger.log(3,"Char codes =  "+N.join(",")),Jr(r,t,this.cmdHistory)}return f}parseBackgroundAttributes(r,t){if(!((16===r||24===r)&&t>=32&&t<=47||(23===r||31===r)&&t>=45&&t<=47))return!1;let y;const N={};return 16===r||24===r?(y=Math.floor((t-32)/2),N.background=Yn[y],t%2==1&&(N.background=N.background+"_semi")):45===t?N.background="transparent":(N.foreground="black",47===t&&(N.underline=!0)),this.channels[r<=23?1:2].setBkgData(N),Jr(r,t,this.cmdHistory),!0}reset(){for(let r=0;r<Object.keys(this.channels).length;r++){const t=this.channels[r];t&&t.reset()}this.cmdHistory={a:null,b:null}}cueSplitAtTime(r){for(let t=0;t<this.channels.length;t++){const l=this.channels[t];l&&l.cueSplitAtTime(r)}}}function Jr(m,r,t){t.a=m,t.b=r}function ur(m,r,t){return t.a===m&&t.b===r}class Ur{constructor(r,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=r,this.trackName=t}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(r,t,l){(null===this.startTime||this.startTime>r)&&(this.startTime=r),this.endTime=t,this.screen=l,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var lo=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;const m=["","lr","rl"],r=["start","middle","end","left","right"];function t(H,ee){if("string"!=typeof ee||!Array.isArray(H))return!1;const ae=ee.toLowerCase();return!!~H.indexOf(ae)&&ae}function f(H){return t(r,H)}function y(H,...ee){let ae=1;for(;ae<arguments.length;ae++){const We=arguments[ae];for(const Ze in We)H[Ze]=We[Ze]}return H}function N(H,ee,ae){const We=this,Ze={enumerable:!0};We.hasBeenReset=!1;let Dt="",wt=!1,Ht=H,zt=ee,on=ae,Sn=null,Bn="",Ln=!0,$n="auto",zn="start",ui=50,ei="middle",gi=50,Ci="middle";Object.defineProperty(We,"id",y({},Ze,{get:function(){return Dt},set:function(Xn){Dt=""+Xn}})),Object.defineProperty(We,"pauseOnExit",y({},Ze,{get:function(){return wt},set:function(Xn){wt=!!Xn}})),Object.defineProperty(We,"startTime",y({},Ze,{get:function(){return Ht},set:function(Xn){if("number"!=typeof Xn)throw new TypeError("Start time must be set to a number.");Ht=Xn,this.hasBeenReset=!0}})),Object.defineProperty(We,"endTime",y({},Ze,{get:function(){return zt},set:function(Xn){if("number"!=typeof Xn)throw new TypeError("End time must be set to a number.");zt=Xn,this.hasBeenReset=!0}})),Object.defineProperty(We,"text",y({},Ze,{get:function(){return on},set:function(Xn){on=""+Xn,this.hasBeenReset=!0}})),Object.defineProperty(We,"region",y({},Ze,{get:function(){return Sn},set:function(Xn){Sn=Xn,this.hasBeenReset=!0}})),Object.defineProperty(We,"vertical",y({},Ze,{get:function(){return Bn},set:function(Xn){const zi=function l(H){return t(m,H)}(Xn);if(!1===zi)throw new SyntaxError("An invalid or illegal string was specified.");Bn=zi,this.hasBeenReset=!0}})),Object.defineProperty(We,"snapToLines",y({},Ze,{get:function(){return Ln},set:function(Xn){Ln=!!Xn,this.hasBeenReset=!0}})),Object.defineProperty(We,"line",y({},Ze,{get:function(){return $n},set:function(Xn){if("number"!=typeof Xn&&"auto"!==Xn)throw new SyntaxError("An invalid number or illegal string was specified.");$n=Xn,this.hasBeenReset=!0}})),Object.defineProperty(We,"lineAlign",y({},Ze,{get:function(){return zn},set:function(Xn){const zi=f(Xn);if(!zi)throw new SyntaxError("An invalid or illegal string was specified.");zn=zi,this.hasBeenReset=!0}})),Object.defineProperty(We,"position",y({},Ze,{get:function(){return ui},set:function(Xn){if(Xn<0||Xn>100)throw new Error("Position must be between 0 and 100.");ui=Xn,this.hasBeenReset=!0}})),Object.defineProperty(We,"positionAlign",y({},Ze,{get:function(){return ei},set:function(Xn){const zi=f(Xn);if(!zi)throw new SyntaxError("An invalid or illegal string was specified.");ei=zi,this.hasBeenReset=!0}})),Object.defineProperty(We,"size",y({},Ze,{get:function(){return gi},set:function(Xn){if(Xn<0||Xn>100)throw new Error("Size must be between 0 and 100.");gi=Xn,this.hasBeenReset=!0}})),Object.defineProperty(We,"align",y({},Ze,{get:function(){return Ci},set:function(Xn){const zi=f(Xn);if(!zi)throw new SyntaxError("An invalid or illegal string was specified.");Ci=zi,this.hasBeenReset=!0}})),We.displayState=void 0}return N.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},N}();class vo{decode(r,t){if(!r)return"";if("string"!=typeof r)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(r))}}function Fo(m){function r(l,f,y,N){return 3600*(0|l)+60*(0|f)+(0|y)+parseFloat(N||0)}const t=m.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return t?parseFloat(t[2])>59?r(t[2],t[3],0,t[4]):r(t[1],t[2],t[3],t[4]):null}class co{constructor(){this.values=Object.create(null)}set(r,t){!this.get(r)&&""!==t&&(this.values[r]=t)}get(r,t,l){return l?this.has(r)?this.values[r]:t[l]:this.has(r)?this.values[r]:t}has(r){return r in this.values}alt(r,t,l){for(let f=0;f<l.length;++f)if(t===l[f]){this.set(r,t);break}}integer(r,t){/^-?\d+$/.test(t)&&this.set(r,parseInt(t,10))}percent(r,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){const l=parseFloat(t);if(l>=0&&l<=100)return this.set(r,l),!0}return!1}}function zo(m,r,t,l){const f=l?m.split(l):[m];for(const y in f){if("string"!=typeof f[y])continue;const N=f[y].split(t);2===N.length&&r(N[0],N[1])}}const Ea=new lo(0,0,""),ls="middle"===Ea.align?"middle":"center";function Rc(m,r,t){const l=m;function f(){const H=Fo(m);if(null===H)throw new Error("Malformed timestamp: "+l);return m=m.replace(/^[^\sa-zA-Z-]+/,""),H}function N(){m=m.replace(/^\s+/,"")}if(N(),r.startTime=f(),N(),"--\x3e"!==m.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+l);m=m.slice(3),N(),r.endTime=f(),N(),function y(H,ee){const ae=new co;zo(H,function(Dt,wt){let Ht;switch(Dt){case"region":for(let zt=t.length-1;zt>=0;zt--)if(t[zt].id===wt){ae.set(Dt,t[zt].region);break}break;case"vertical":ae.alt(Dt,wt,["rl","lr"]);break;case"line":Ht=wt.split(","),ae.integer(Dt,Ht[0]),ae.percent(Dt,Ht[0])&&ae.set("snapToLines",!1),ae.alt(Dt,Ht[0],["auto"]),2===Ht.length&&ae.alt("lineAlign",Ht[1],["start",ls,"end"]);break;case"position":Ht=wt.split(","),ae.percent(Dt,Ht[0]),2===Ht.length&&ae.alt("positionAlign",Ht[1],["start",ls,"end","line-left","line-right","auto"]);break;case"size":ae.percent(Dt,wt);break;case"align":ae.alt(Dt,wt,["start",ls,"end","left","right"])}},/:/,/\s/),ee.region=ae.get("region",null),ee.vertical=ae.get("vertical","");let We=ae.get("line","auto");"auto"===We&&-1===Ea.line&&(We=-1),ee.line=We,ee.lineAlign=ae.get("lineAlign","start"),ee.snapToLines=ae.get("snapToLines",!0),ee.size=ae.get("size",100),ee.align=ae.get("align",ls);let Ze=ae.get("position","auto");"auto"===Ze&&50===Ea.position&&(Ze="start"===ee.align||"left"===ee.align?0:"end"===ee.align||"right"===ee.align?100:50),ee.position=Ze}(m,r)}function rd(m){return m.replace(/<br(?: \/)?>/gi,"\n")}class Ya{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new vo,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(r){const t=this;function l(){let y=t.buffer,N=0;for(y=rd(y);N<y.length&&"\r"!==y[N]&&"\n"!==y[N];)++N;const H=y.slice(0,N);return"\r"===y[N]&&++N,"\n"===y[N]&&++N,t.buffer=y.slice(N),H}function f(y){zo(y,function(N,H){},/:/)}r&&(t.buffer+=t.decoder.decode(r,{stream:!0}));try{let y="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;y=l();const H=y.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==H||!H[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}let N=!1;for(;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(N?N=!1:y=l(),t.state){case"HEADER":/:/.test(y)?f(y):y||(t.state="ID");continue;case"NOTE":y||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(y)){t.state="NOTE";break}if(!y)continue;if(t.cue=new lo(0,0,""),t.state="CUE",-1===y.indexOf("--\x3e")){t.cue.id=y;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{Rc(y,t.cue,t.regionList)}catch{t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":{const H=-1!==y.indexOf("--\x3e");if(!y||H&&(N=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=y}continue;case"BADCUE":y||(t.state="ID")}}}catch{"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this}flush(){const r=this;try{if((r.cue||"HEADER"===r.state)&&(r.buffer+="\n\n",r.parse()),"INITIAL"===r.state||"BADWEBVTT"===r.state)throw new Error("Malformed WebVTT signature.")}catch(t){r.onparsingerror&&r.onparsingerror(t)}return r.onflush&&r.onflush(),this}}const Ul=/\r\n|\n\r|\n|\r/g,Nc=function(r,t,l=0){return r.slice(l,l+t.length)===t},Zd=function(r){let t=5381,l=r.length;for(;l;)t=33*t^r.charCodeAt(--l);return(t>>>0).toString()};function Cu(m,r,t){return Zd(m.toString())+Zd(r.toString())+Zd(t)}const Lc="stpp.ttml.im1t",hc=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Md=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,$d={left:"start",center:"center",right:"end",start:"start",end:"end"};function bl(m,r,t,l){const f=_e(new Uint8Array(m),["mdat"]);if(0===f.length)return void l(new Error("Could not parse IMSC1 mdat"));const y=f.map(H=>ps(H)),N=function Td(m,r,t=1,l=!1){return Ju(m,r,1/t,l)}(r.baseTime,1,r.timescale);try{y.forEach(H=>t(function Mu(m,r){const f=(new DOMParser).parseFromString(m,"text/xml").getElementsByTagName("tt")[0];if(!f)throw new Error("Invalid ttml");const y={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},N=Object.keys(y).reduce((Ze,Dt)=>(Ze[Dt]=f.getAttribute(`ttp:${Dt}`)||y[Dt],Ze),{}),H="preserve"!==f.getAttribute("xml:space"),ee=Au(Jd(f,"styling","style")),ae=Au(Jd(f,"layout","region")),We=Jd(f,"body","[begin]");return[].map.call(We,Ze=>{const Dt=kc(Ze,H);if(!Dt||!Ze.hasAttribute("begin"))return null;const wt=Qd(Ze.getAttribute("begin"),N),Ht=Qd(Ze.getAttribute("dur"),N);let zt=Qd(Ze.getAttribute("end"),N);if(null===wt)throw xu(Ze);if(null===zt){if(null===Ht)throw xu(Ze);zt=wt+Ht}const on=new lo(wt-r,zt-r,Dt);on.id=Cu(on.startTime,on.endTime,on.text);const Ln=function af(m,r,t){const l="http://www.w3.org/ns/ttml#styling";let f=null;const N=null!=m&&m.hasAttribute("style")?m.getAttribute("style"):null;return N&&t.hasOwnProperty(N)&&(f=t[N]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((H,ee)=>{const ae=lf(r,l,ee)||lf(m,l,ee)||lf(f,l,ee);return ae&&(H[ee]=ae),H},{})}(ae[Ze.getAttribute("region")],ee[Ze.getAttribute("style")],ee),{textAlign:$n}=Ln;if($n){const zn=$d[$n];zn&&(on.lineAlign=zn),on.align=$n}return Ge(on,Ln),on}).filter(Ze=>null!==Ze)}(H,N)))}catch(H){l(H)}}function Jd(m,r,t){const l=m.getElementsByTagName(r)[0];return l?[].slice.call(l.querySelectorAll(t)):[]}function Au(m){return m.reduce((r,t)=>{const l=t.getAttribute("xml:id");return l&&(r[l]=t),r},{})}function kc(m,r){return[].slice.call(m.childNodes).reduce((t,l,f)=>{var y;return"br"===l.nodeName&&f?t+"\n":null!=(y=l.childNodes)&&y.length?kc(l,r):r?t+l.textContent.trim().replace(/\s+/g," "):t+l.textContent},"")}function lf(m,r,t){return m&&m.hasAttributeNS(r,t)?m.getAttributeNS(r,t):null}function xu(m){return new Error(`Could not parse ttml timestamp ${m}`)}function Qd(m,r){if(!m)return null;let t=Fo(m);return null===t&&(hc.test(m)?t=function fh(m,r){const t=hc.exec(m);return 3600*(0|t[1])+60*(0|t[2])+(0|t[3])+((0|t[4])+(0|t[5])/r.subFrameRate)/r.frameRate}(m,r):Md.test(m)&&(t=function Em(m,r){const t=Md.exec(m),l=Number(t[1]);switch(t[2]){case"h":return 3600*l;case"m":return 60*l;case"ms":return 1e3*l;case"f":return l/r.frameRate;case"t":return l/r.tickRate}return l}(m,r))),t}function od(m,r){return!!m&&m.label===r.name&&!(m.textTrack1||m.textTrack2)}function qd(m,r,t,l){return Math.min(r,l)-Math.max(m,t)}class cf{constructor(r){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=r,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(r){this.streamController=r}destroy(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:r}=this;r.on(ct.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),r.on(ct.MEDIA_ATTACHING,this.onMediaAttaching,this),r.on(ct.MANIFEST_PARSED,this.onManifestParsed,this),r.on(ct.BUFFER_CODECS,this.onBufferCodecs,this),r.on(ct.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:r}=this;r.off(ct.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),r.off(ct.MEDIA_ATTACHING,this.onMediaAttaching,this),r.off(ct.MANIFEST_PARSED,this.onManifestParsed,this),r.off(ct.BUFFER_CODECS,this.onBufferCodecs,this),r.off(ct.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(r,t){const l=this.hls.levels[t.droppedLevel];this.isLevelAllowed(l)&&this.restrictedLevels.push({bitrate:l.bitrate,height:l.height,width:l.width})}onMediaAttaching(r,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null}onManifestParsed(r,t){const l=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,l.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onBufferCodecs(r,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){const r=this.hls.levels;if(r.length){const t=this.hls;t.autoLevelCapping=this.getMaxLevel(r.length-1),t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}getMaxLevel(r){const t=this.hls.levels;if(!t.length)return-1;const l=t.filter((f,y)=>this.isLevelAllowed(f)&&y<=r);return this.clientRect=null,cf.getMaxLevelByMediaSize(l,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const r=this.media,t={width:0,height:0};if(r){const l=r.getBoundingClientRect();t.width=l.width,t.height=l.height,!t.width&&!t.height&&(t.width=l.right-l.left||r.width||0,t.height=l.bottom-l.top||r.height||0)}return this.clientRect=t,t}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let r=1;if(!this.hls.config.ignoreDevicePixelRatio)try{r=self.devicePixelRatio}catch{}return r}isLevelAllowed(r){return!this.restrictedLevels.some(l=>r.bitrate===l.bitrate&&r.width===l.width&&r.height===l.height)}static getMaxLevelByMediaSize(r,t,l){if(null==r||!r.length)return-1;const f=(N,H)=>!H||N.width!==H.width||N.height!==H.height;let y=r.length-1;for(let N=0;N<r.length;N+=1){const H=r[N];if((H.width>=t||H.height>=l)&&f(H,r[N+1])){y=N;break}}return y}}const Nr="[eme]";let Ad=(()=>{class m{constructor(t){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=m.CDMCleanupPromise?[m.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=An.debug.bind(An,Nr),this.log=An.log.bind(An,Nr),this.warn=An.warn.bind(An,Nr),this.error=An.error.bind(An,Nr),this.hls=t,this.config=t.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(ct.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(ct.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(ct.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(ct.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(ct.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(ct.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(ct.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(ct.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(t){const{drmSystems:l,widevineLicenseUrl:f}=this.config,y=l[t];if(y)return y.licenseUrl;if(t===pr.WIDEVINE&&f)return f;throw new Error(`no license server URL configured for key-system "${t}"`)}getServerCertificateUrl(t){const{drmSystems:l}=this.config,f=l[t];if(f)return f.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${t}"]`)}attemptKeySystemAccess(t){const l=this.hls.levels,f=(H,ee,ae)=>!!H&&ae.indexOf(H)===ee,y=l.map(H=>H.audioCodec).filter(f),N=l.map(H=>H.videoCodec).filter(f);return y.length+N.length===0&&N.push("avc1.42e01e"),new Promise((H,ee)=>{const ae=We=>{const Ze=We.shift();this.getMediaKeysPromise(Ze,y,N).then(Dt=>H({keySystem:Ze,mediaKeys:Dt})).catch(Dt=>{We.length?ae(We):ee(Dt instanceof Ta?Dt:new Ta({type:In.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_NO_ACCESS,error:Dt,fatal:!0},Dt.message))})};ae(t)})}requestMediaKeySystemAccess(t,l){const{requestMediaKeySystemAccessFunc:f}=this.config;if("function"!=typeof f){let y=`Configured requestMediaKeySystemAccess is not a function ${f}`;return null===xa&&"http:"===self.location.protocol&&(y=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(y))}return f(t,l)}getMediaKeysPromise(t,l,f){const y=function Ec(m,r,t,l){let f;switch(m){case pr.FAIRPLAY:f=["cenc","sinf"];break;case pr.WIDEVINE:case pr.PLAYREADY:f=["cenc"];break;case pr.CLEARKEY:f=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${m}`)}return function $l(m,r,t,l){return[{initDataTypes:m,persistentState:l.persistentState||"not-allowed",distinctiveIdentifier:l.distinctiveIdentifier||"not-allowed",sessionTypes:l.sessionTypes||[l.sessionType||"temporary"],audioCapabilities:r.map(y=>({contentType:`audio/mp4; codecs="${y}"`,robustness:l.audioRobustness||"",encryptionScheme:l.audioEncryptionScheme||null})),videoCapabilities:t.map(y=>({contentType:`video/mp4; codecs="${y}"`,robustness:l.videoRobustness||"",encryptionScheme:l.videoEncryptionScheme||null}))}]}(f,r,t,l)}(t,l,f,this.config.drmSystemOptions),N=this.keySystemAccessPromises[t];let H=N?.keySystemAccess;if(!H){this.log(`Requesting encrypted media "${t}" key-system access with config: ${JSON.stringify(y)}`),H=this.requestMediaKeySystemAccess(t,y);const ee=this.keySystemAccessPromises[t]={keySystemAccess:H};return H.catch(ae=>{this.log(`Failed to obtain access to key-system "${t}": ${ae}`)}),H.then(ae=>{this.log(`Access for key-system "${ae.keySystem}" obtained`);const We=this.fetchServerCertificate(t);return this.log(`Create media-keys for "${t}"`),ee.mediaKeys=ae.createMediaKeys().then(Ze=>(this.log(`Media-keys created for "${t}"`),We.then(Dt=>Dt?this.setMediaKeysServerCertificate(Ze,t,Dt):Ze))),ee.mediaKeys.catch(Ze=>{this.error(`Failed to create media-keys for "${t}"}: ${Ze}`)}),ee.mediaKeys})}return H.then(()=>N.mediaKeys)}createMediaKeySessionContext({decryptdata:t,keySystem:l,mediaKeys:f}){this.log(`Creating key-system session "${l}" keyId: ${ia_hexDump(t.keyId||[])}`);const y=f.createSession(),N={decryptdata:t,keySystem:l,mediaKeys:f,mediaKeysSession:y,keyStatus:"status-pending"};return this.mediaKeySessions.push(N),N}renewKeySession(t){const l=t.decryptdata;if(l.pssh){const f=this.createMediaKeySessionContext(t),y=this.getKeyIdString(l);this.keyIdToKeySessionPromise[y]=this.generateRequestWithPreferredKeySession(f,"cenc",l.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t)}getKeyIdString(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(null===t.keyId)throw new Error("keyId is null");return ia_hexDump(t.keyId)}updateKeySession(t,l){var f;const y=t.mediaKeysSession;return this.log(`Updating key-session "${y.sessionId}" for keyID ${ia_hexDump((null==(f=t.decryptdata)?void 0:f.keyId)||[])}\n      } (data length: ${l&&l.byteLength})`),y.update(l)}selectKeySystemFormat(t){const l=Object.keys(t.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${t.sn} ${t.type}: ${t.level}) key formats ${l.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(l)),this.keyFormatPromise}getKeyFormatPromise(t){return new Promise((l,f)=>{const y=Wr(this.config),N=t.map(Hc).filter(H=>!!H&&-1!==y.indexOf(H));return this.getKeySystemSelectionPromise(N).then(({keySystem:H})=>{const ee=Al(H);ee?l(ee):f(new Error(`Unable to find format for key-system "${H}"`))}).catch(f)})}loadKey(t){const l=t.keyInfo.decryptdata,f=this.getKeyIdString(l),y=`(keyId: ${f} format: "${l.keyFormat}" method: ${l.method} uri: ${l.uri})`;this.log(`Starting session for key ${y}`);let N=this.keyIdToKeySessionPromise[f];return N||(N=this.keyIdToKeySessionPromise[f]=this.getKeySystemForKeyPromise(l).then(({keySystem:H,mediaKeys:ee})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${t.frag.sn} ${t.frag.type}: ${t.frag.level} using key ${y}`),this.attemptSetMediaKeys(H,ee).then(()=>{this.throwIfDestroyed();const ae=this.createMediaKeySessionContext({keySystem:H,mediaKeys:ee,decryptdata:l});return this.generateRequestWithPreferredKeySession(ae,"cenc",l.pssh,"playlist-key")}))),N.catch(H=>this.handleError(H))),N}throwIfDestroyed(t="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(t){this.hls&&(this.error(t.message),this.hls.trigger(ct.ERROR,t instanceof Ta?t.data:{type:In.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_NO_KEYS,error:t,fatal:!0}))}getKeySystemForKeyPromise(t){const l=this.getKeyIdString(t),f=this.keyIdToKeySessionPromise[l];if(!f){const y=Hc(t.keyFormat),N=y?[y]:Wr(this.config);return this.attemptKeySystemAccess(N)}return f}getKeySystemSelectionPromise(t){if(t.length||(t=Wr(this.config)),0===t.length)throw new Ta({type:In.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(t)}_onMediaEncrypted(t){const{initDataType:l,initData:f}=t;if(this.debug(`"${t.type}" event: init data type: "${l}"`),null===f)return;let y,N;if("sinf"===l&&this.config.drmSystems[pr.FAIRPLAY]){const Ze=ko(new Uint8Array(f));try{const Dt=Ha(JSON.parse(Ze).sinf),wt=tn(new Uint8Array(Dt));if(!wt)return;y=wt.subarray(8,24),N=pr.FAIRPLAY}catch{return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{const Ze=function wa(m){if(!(m instanceof ArrayBuffer)||m.byteLength<32)return null;const r={version:0,systemId:"",kids:null,data:null},t=new DataView(m),l=t.getUint32(0);if(m.byteLength!==l&&l>44||1886614376!==t.getUint32(4)||(r.version=t.getUint32(8)>>>24,r.version>1))return null;r.systemId=ia_hexDump(new Uint8Array(m,12,16));const y=t.getUint32(28);if(0===r.version){if(l-32<y)return null;r.data=new Uint8Array(m,32,y)}else if(1===r.version){r.kids=[];for(let N=0;N<y;N++)r.kids.push(new Uint8Array(m,32+16*N,16))}return r}(f);if(null===Ze)return;0===Ze.version&&"edef8ba979d64acea3c827dcd51d21ed"===Ze.systemId&&Ze.data&&(y=Ze.data.subarray(8,24)),N=function No(m){if("edef8ba979d64acea3c827dcd51d21ed"===m)return pr.WIDEVINE}(Ze.systemId)}if(!N||!y)return;const H=ia_hexDump(y),{keyIdToKeySessionPromise:ee,mediaKeySessions:ae}=this;let We=ee[H];for(let Ze=0;Ze<ae.length;Ze++){const Dt=ae[Ze],wt=Dt.decryptdata;if(wt.pssh||!wt.keyId)continue;const Ht=ia_hexDump(wt.keyId);if(H===Ht||-1!==wt.uri.replace(/-/g,"").indexOf(H)){We=ee[Ht],delete ee[Ht],wt.pssh=new Uint8Array(f),wt.keyId=y,We=ee[H]=We.then(()=>this.generateRequestWithPreferredKeySession(Dt,l,f,"encrypted-event-key-match"));break}}We||(We=ee[H]=this.getKeySystemSelectionPromise([N]).then(({keySystem:Ze,mediaKeys:Dt})=>{var wt;this.throwIfDestroyed();const Ht=new Xl("ISO-23001-7",H,null!=(wt=Al(Ze))?wt:"");return Ht.pssh=new Uint8Array(f),Ht.keyId=y,this.attemptSetMediaKeys(Ze,Dt).then(()=>{this.throwIfDestroyed();const zt=this.createMediaKeySessionContext({decryptdata:Ht,keySystem:Ze,mediaKeys:Dt});return this.generateRequestWithPreferredKeySession(zt,l,f,"encrypted-event-no-match")})})),We.catch(Ze=>this.handleError(Ze))}_onWaitingForKey(t){this.log(`"${t.type}" event`)}attemptSetMediaKeys(t,l){const f=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${t}"`);const y=Promise.all(f).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(l)});return this.setMediaKeysQueue.push(y),y.then(()=>{this.log(`Media-keys set for "${t}"`),f.push(y),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(N=>-1===f.indexOf(N))})}generateRequestWithPreferredKeySession(t,l,f,y){var N,H;const ee=null==(N=this.config.drmSystems)||null==(H=N[t.keySystem])?void 0:H.generateRequest;if(ee)try{const wt=ee.call(this.hls,l,f,t);if(!wt)throw new Error("Invalid response from configured generateRequest filter");l=wt.initDataType,f=t.decryptdata.pssh=wt.initData?new Uint8Array(wt.initData):null}catch(wt){var ae;if(this.warn(wt.message),null!=(ae=this.hls)&&ae.config.debug)throw wt}if(null===f)return this.log(`Skipping key-session request for "${y}" (no initData)`),Promise.resolve(t);const We=this.getKeyIdString(t.decryptdata);this.log(`Generating key-session request for "${y}": ${We} (init data type: ${l} length: ${f?f.byteLength:null})`);const Ze=new Tu;t.mediaKeysSession.onmessage=wt=>{const Ht=t.mediaKeysSession;if(!Ht)return void Ze.emit("error",new Error("invalid state"));const{messageType:zt,message:on}=wt;this.log(`"${zt}" message event for session "${Ht.sessionId}" message size: ${on.byteLength}`),"license-request"===zt||"license-renewal"===zt?this.renewLicense(t,on).catch(Sn=>{this.handleError(Sn),Ze.emit("error",Sn)}):"license-release"===zt?t.keySystem===pr.FAIRPLAY&&(this.updateKeySession(t,ja("acknowledged")),this.removeSession(t)):this.warn(`unhandled media key message type "${zt}"`)},t.mediaKeysSession.onkeystatuseschange=wt=>{if(!t.mediaKeysSession)return void Ze.emit("error",new Error("invalid state"));this.onKeyStatusChange(t);const zt=t.keyStatus;Ze.emit("keyStatus",zt),"expired"===zt&&(this.warn(`${t.keySystem} expired for key ${We}`),this.renewKeySession(t))};const Dt=new Promise((wt,Ht)=>{Ze.on("error",Ht),Ze.on("keyStatus",zt=>{zt.startsWith("usable")?wt():"output-restricted"===zt?Ht(new Ta({type:In.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===zt?Ht(new Ta({type:In.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${zt}"`)):"expired"===zt?Ht(new Error("key expired while generating request")):this.warn(`unhandled key status change "${zt}"`)})});return t.mediaKeysSession.generateRequest(l,f).then(()=>{var wt;this.log(`Request generated for key-session "${null==(wt=t.mediaKeysSession)?void 0:wt.sessionId}" keyId: ${We}`)}).catch(wt=>{throw new Ta({type:In.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_NO_SESSION,error:wt,fatal:!1},`Error generating key-session request: ${wt}`)}).then(()=>Dt).catch(wt=>{throw Ze.removeAllListeners(),this.removeSession(t),wt}).then(()=>(Ze.removeAllListeners(),t))}onKeyStatusChange(t){t.mediaKeysSession.keyStatuses.forEach((l,f)=>{this.log(`key status change "${l}" for keyStatuses keyId: ${ia_hexDump("buffer"in f?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):new Uint8Array(f))} session keyId: ${ia_hexDump(new Uint8Array(t.decryptdata.keyId||[]))} uri: ${t.decryptdata.uri}`),t.keyStatus=l})}fetchServerCertificate(t){const l=this.config,y=new(0,l.loader)(l),N=this.getServerCertificateUrl(t);return N?(this.log(`Fetching serverCertificate for "${t}"`),new Promise((H,ee)=>{const ae={responseType:"arraybuffer",url:N},We=l.certLoadPolicy.default;y.load(ae,{loadPolicy:We,timeout:We.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(wt,Ht,zt,on)=>{H(wt.data)},onError:(wt,Ht,zt,on)=>{ee(new Ta({type:In.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:zt,response:$i({url:ae.url,data:void 0},wt)},`"${t}" certificate request failed (${N}). Status: ${wt.code} (${wt.text})`))},onTimeout:(wt,Ht,zt)=>{ee(new Ta({type:In.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:zt,response:{url:ae.url,data:void 0}},`"${t}" certificate request timed out (${N})`))},onAbort:(wt,Ht,zt)=>{ee(new Error("aborted"))}})})):Promise.resolve()}setMediaKeysServerCertificate(t,l,f){return new Promise((y,N)=>{t.setServerCertificate(f).then(H=>{this.log(`setServerCertificate ${H?"success":"not supported by CDM"} (${f?.byteLength}) on "${l}"`),y(t)}).catch(H=>{N(new Ta({type:In.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:H,fatal:!0},H.message))})})}renewLicense(t,l){return this.requestLicense(t,new Uint8Array(l)).then(f=>this.updateKeySession(t,new Uint8Array(f)).catch(y=>{throw new Ta({type:In.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:y,fatal:!0},y.message)}))}setupLicenseXHR(t,l,f,y){const N=this.config.licenseXhrSetup;return N?Promise.resolve().then(()=>{if(!f.decryptdata)throw new Error("Key removed");return N.call(this.hls,t,l,f,y)}).catch(H=>{if(!f.decryptdata)throw H;return t.open("POST",l,!0),N.call(this.hls,t,l,f,y)}).then(H=>(t.readyState||t.open("POST",l,!0),{xhr:t,licenseChallenge:H||y})):(t.open("POST",l,!0),Promise.resolve({xhr:t,licenseChallenge:y}))}requestLicense(t,l){const f=this.config.keyLoadPolicy.default;return new Promise((y,N)=>{const H=this.getLicenseServerUrl(t.keySystem);this.log(`Sending license request to URL: ${H}`);const ee=new XMLHttpRequest;ee.responseType="arraybuffer",ee.onreadystatechange=()=>{if(!this.hls||!t.mediaKeysSession)return N(new Error("invalid state"));if(4===ee.readyState)if(200===ee.status){this._requestLicenseFailureCount=0;let ae=ee.response;this.log(`License received ${ae instanceof ArrayBuffer?ae.byteLength:ae}`);const We=this.config.licenseResponseCallback;if(We)try{ae=We.call(this.hls,ee,H,t)}catch(Ze){this.error(Ze)}y(ae)}else{const ae=f.errorRetry,We=ae?ae.maxNumRetry:0;this._requestLicenseFailureCount++,this._requestLicenseFailureCount>We||ee.status>=400&&ee.status<500?N(new Ta({type:In.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:ee,response:{url:H,data:void 0,code:ee.status,text:ee.statusText}},`License Request XHR failed (${H}). Status: ${ee.status} (${ee.statusText})`)):(this.warn(`Retrying license request, ${We-this._requestLicenseFailureCount+1} attempts left`),this.requestLicense(t,l).then(y,N))}},t.licenseXhr&&t.licenseXhr.readyState!==XMLHttpRequest.DONE&&t.licenseXhr.abort(),t.licenseXhr=ee,this.setupLicenseXHR(ee,H,t,l).then(({xhr:ae,licenseChallenge:We})=>{ae.send(We)})})}onMediaAttached(t,l){if(!this.config.emeEnabled)return;const f=l.media;this.media=f,f.addEventListener("encrypted",this.onMediaEncrypted),f.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const t=this.media,l=this.mediaKeySessions;t&&(t.removeEventListener("encrypted",this.onMediaEncrypted),t.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Xl.clearKeyUriToKeyIdMap();const f=l.length;m.CDMCleanupPromise=Promise.all(l.map(y=>this.removeSession(y)).concat(t?.setMediaKeys(null).catch(y=>{this.log(`Could not clear media keys: ${y}. media.src: ${t?.src}`)}))).then(()=>{f&&(this.log("finished closing key sessions and clearing media keys"),l.length=0)}).catch(y=>{this.log(`Could not close sessions and clear media keys: ${y}. media.src: ${t?.src}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(t,{sessionKeys:l}){if(l&&this.config.emeEnabled&&!this.keyFormatPromise){const f=l.reduce((y,N)=>(-1===y.indexOf(N.keyFormat)&&y.push(N.keyFormat),y),[]);this.log(`Selecting key-system from session-keys ${f.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(f)}}removeSession(t){const{mediaKeysSession:l,licenseXhr:f}=t;if(l){this.log(`Remove licenses and keys and close session ${l.sessionId}`),l.onmessage=null,l.onkeystatuseschange=null,f&&f.readyState!==XMLHttpRequest.DONE&&f.abort(),t.mediaKeysSession=t.decryptdata=t.licenseXhr=void 0;const y=this.mediaKeySessions.indexOf(t);return y>-1&&this.mediaKeySessions.splice(y,1),l.remove().catch(N=>{this.log(`Could not remove session: ${N}`)}).then(()=>l.close()).catch(N=>{this.log(`Could not close session: ${N}`)})}}}return m.CDMCleanupPromise=void 0,m})();class Ta extends Error{constructor(r,t){super(t),this.data=void 0,r.error||(r.error=new Error(t)),this.data=r,r.err=r.error}}class xd{constructor(r){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=f=>{try{this.apply(f,{ot:"m",su:!this.initialized})}catch(y){An.warn("Could not generate manifest CMCD data.",y)}},this.applyFragmentData=f=>{try{const y=f.frag,N=this.hls.levels[y.level],H=this.getObjectType(y),ee={d:1e3*y.duration,ot:H};("v"===H||"a"===H||"av"==H)&&(ee.br=N.bitrate/1e3,ee.tb=this.getTopBandwidth(H)/1e3,ee.bl=this.getBufferLength(H)),this.apply(f,ee)}catch(y){An.warn("Could not generate segment CMCD data.",y)}},this.hls=r;const t=this.config=r.config,{cmcd:l}=t;null!=l&&(t.pLoader=this.createPlaylistLoader(),t.fLoader=this.createFragmentLoader(),this.sid=l.sessionId||xd.uuid(),this.cid=l.contentId,this.useHeaders=!0===l.useHeaders,this.registerListeners())}registerListeners(){const r=this.hls;r.on(ct.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(ct.MEDIA_DETACHED,this.onMediaDetached,this),r.on(ct.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const r=this.hls;r.off(ct.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(ct.MEDIA_DETACHED,this.onMediaDetached,this),r.off(ct.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}onMediaAttached(r,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(r,t){var l,f;this.audioBuffer=null==(l=t.tracks.audio)?void 0:l.buffer,this.videoBuffer=null==(f=t.tracks.video)?void 0:f.buffer}createData(){var r;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(r=this.media)?void 0:r.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(r,t={}){if(Ge(t,this.createData()),this.starved&&("i"===t.ot||"v"===t.ot||"av"===t.ot)&&(t.bs=!0,t.su=!0,this.starved=!1),null==t.su&&(t.su=this.buffering),this.useHeaders){const f=xd.toHeaders(t);if(!Object.keys(f).length)return;r.headers||(r.headers={}),Ge(r.headers,f)}else{const f=xd.toQuery(t);if(!f)return;r.url=xd.appendQueryToUri(r.url,f)}}getObjectType(r){const{type:t}=r;return"subtitle"===t?"tt":"initSegment"===r.sn?"i":"audio"===t?"a":"main"===t?this.hls.audioTracks.length?"v":"av":void 0}getTopBandwidth(r){let l,t=0;const f=this.hls;if("a"===r)l=f.audioTracks;else{const y=f.maxAutoLevel;l=f.levels.slice(0,y>-1?y+1:f.levels.length)}for(const y of l)y.bitrate>t&&(t=y.bitrate);return t>0?t:NaN}getBufferLength(r){const t=this.hls.media,l="a"===r?this.audioBuffer:this.videoBuffer;return l&&t?1e3*ao.bufferInfo(l,t.currentTime,this.config.maxBufferHole).len:NaN}createPlaylistLoader(){const{pLoader:r}=this.config,t=this.applyPlaylistData,l=r||this.config.loader;return class{constructor(y){this.loader=void 0,this.loader=new l(y)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(y,N,H){t(y),this.loader.load(y,N,H)}}}createFragmentLoader(){const{fLoader:r}=this.config,t=this.applyFragmentData,l=r||this.config.loader;return class{constructor(y){this.loader=void 0,this.loader=new l(y)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(y,N,H){t(y),this.loader.load(y,N,H)}}}static uuid(){const r=URL.createObjectURL(new Blob),t=r.toString();return URL.revokeObjectURL(r),t.slice(t.lastIndexOf("/")+1)}static serialize(r){const t=[],l=ae=>!Number.isNaN(ae)&&null!=ae&&""!==ae&&!1!==ae,f=ae=>Math.round(ae),y=ae=>100*f(ae/100),H={br:f,d:f,bl:y,dl:y,mtp:y,nor:ae=>encodeURIComponent(ae),rtp:y,tb:f},ee=Object.keys(r||{}).sort();for(const ae of ee){let We=r[ae];if(!l(We)||"v"===ae&&1===We||"pr"==ae&&1===We)continue;const Ze=H[ae];Ze&&(We=Ze(We));const Dt=typeof We;let wt;wt="ot"===ae||"sf"===ae||"st"===ae?`${ae}=${We}`:"boolean"===Dt?ae:"number"===Dt?`${ae}=${We}`:`${ae}=${JSON.stringify(We)}`,t.push(wt)}return t.join(",")}static toHeaders(r){const t=Object.keys(r),l={},f=["Object","Request","Session","Status"],y=[{},{},{},{}],N={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};for(const H of t)y[null!=N[H]?N[H]:1][H]=r[H];for(let H=0;H<y.length;H++){const ee=xd.serialize(y[H]);ee&&(l[`CMCD-${f[H]}`]=ee)}return l}static toQuery(r){return`CMCD=${encodeURIComponent(xd.serialize(r))}`}static appendQueryToUri(r,t){if(!t)return r;const l=r.includes("?")?"&":"?";return`${r}${l}${t}`}}function mh(m,r,t,l){m&&Object.keys(r).forEach(f=>{const y=m.filter(N=>N.groupId===f).map(N=>{const H=Ge({},N);return H.details=void 0,H.attrs=new vi(H.attrs),H.url=H.attrs.URI=mv(N.url,N.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",t),H.groupId=H.attrs["GROUP-ID"]=r[f],H.attrs["PATHWAY-ID"]=l,H});m.push(...y)})}function mv(m,r,t,l){const{HOST:f,PARAMS:y,[t]:N}=l;let H;r&&(H=N?.[r],H&&(m=H));const ee=new self.URL(m);return f&&!H&&(ee.host=f),y&&Object.keys(y).sort().forEach(ae=>{ae&&ee.searchParams.set(ae,y[ae])}),ee.href}const Cm=/^age:\s*[\d.]+\s*$/im;class Xp{constructor(r){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=r&&r.xhrSetup||null,this.stats=new Xo,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}abortInternal(){const r=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),r&&(r.onreadystatechange=null,r.onprogress=null,4!==r.readyState&&(this.stats.aborted=!0,r.abort()))}abort(){var r;this.abortInternal(),null!=(r=this.callbacks)&&r.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(r,t,l){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=r,this.config=t,this.callbacks=l,this.loadInternal()}loadInternal(){const{config:r,context:t}=this;if(!r)return;const l=this.loader=new self.XMLHttpRequest,f=this.stats;f.loading.first=0,f.loaded=0,f.aborted=!1;const y=this.xhrSetup;y?Promise.resolve().then(()=>{if(!this.stats.aborted)return y(l,t.url)}).catch(N=>(l.open("GET",t.url,!0),y(l,t.url))).then(()=>{this.stats.aborted||this.openAndSendXhr(l,t,r)}).catch(N=>{this.callbacks.onError({code:l.status,text:N.message},t,l,f)}):this.openAndSendXhr(l,t,r)}openAndSendXhr(r,t,l){r.readyState||r.open("GET",t.url,!0);const f=this.context.headers,{maxTimeToFirstByteMs:y,maxLoadTimeMs:N}=l.loadPolicy;if(f)for(const H in f)r.setRequestHeader(H,f[H]);t.rangeEnd&&r.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),r.onreadystatechange=this.readystatechange.bind(this),r.onprogress=this.loadprogress.bind(this),r.responseType=t.responseType,self.clearTimeout(this.requestTimeout),l.timeout=y&&Mt(y)?y:N,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),l.timeout),r.send()}readystatechange(){const{context:r,loader:t,stats:l}=this;if(!r||!t)return;const f=t.readyState,y=this.config;if(!l.aborted&&f>=2&&(0===l.loading.first&&(l.loading.first=Math.max(self.performance.now(),l.loading.start),y.timeout!==y.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),y.timeout=y.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),y.loadPolicy.maxLoadTimeMs-(l.loading.first-l.loading.start)))),4===f)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;const N=t.status,H="text"!==t.responseType;if(N>=200&&N<300&&(H&&t.response||null!==t.responseText)){l.loading.end=Math.max(self.performance.now(),l.loading.first);const ee=H?t.response:t.responseText;if(l.loaded=l.total="arraybuffer"===t.responseType?ee.byteLength:ee.length,l.bwEstimate=8e3*l.total/(l.loading.end-l.loading.first),!this.callbacks)return;const We=this.callbacks.onProgress;if(We&&We(l,r,ee,t),!this.callbacks)return;this.callbacks.onSuccess({url:t.responseURL,data:ee,code:N},l,r,t)}else{const ee=y.loadPolicy.errorRetry;Qc(ee,l.retry,!1,N)?this.retry(ee):(An.error(`${N} while loading ${r.url}`),this.callbacks.onError({code:N,text:t.statusText},r,t,l))}}}loadtimeout(){var r;const t=null==(r=this.config)?void 0:r.loadPolicy.timeoutRetry;if(Qc(t,this.stats.retry,!0))this.retry(t);else{An.warn(`timeout while loading ${this.context.url}`);const f=this.callbacks;f&&(this.abortInternal(),f.onTimeout(this.stats,this.context,this.loader))}}retry(r){const{context:t,stats:l}=this;this.retryDelay=sc(r,l.retry),l.retry++,An.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${t.url}, retrying ${l.retry}/${r.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(r){const t=this.stats;t.loaded=r.loaded,r.lengthComputable&&(t.total=r.total)}getCacheAge(){let r=null;if(this.loader&&Cm.test(this.loader.getAllResponseHeaders())){const t=this.loader.getResponseHeader("age");r=t?parseFloat(t):null}return r}getResponseHeader(r){return this.loader&&new RegExp(`^${r}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(r):null}}const eg=/(\d+)-(\d+)\/(\d+)/;class Mm{constructor(r){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=r.fetchSetup||ph,this.controller=new self.AbortController,this.stats=new Xo}destroy(){this.loader=this.callbacks=null,this.abortInternal()}abortInternal(){const r=this.response;null!=r&&r.ok||(this.stats.aborted=!0,this.controller.abort())}abort(){var r;this.abortInternal(),null!=(r=this.callbacks)&&r.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(r,t,l){const f=this.stats;if(f.loading.start)throw new Error("Loader can only be used once.");f.loading.start=self.performance.now();const y=function Xd(m,r){const t={method:"GET",mode:"cors",credentials:"same-origin",signal:r,headers:new self.Headers(Ge({},m.headers))};return m.rangeEnd&&t.headers.set("Range","bytes="+m.rangeStart+"-"+String(m.rangeEnd-1)),t}(r,this.controller.signal),N=l.onProgress,H="arraybuffer"===r.responseType,ee=H?"byteLength":"length",{maxTimeToFirstByteMs:ae,maxLoadTimeMs:We}=t.loadPolicy;this.context=r,this.config=t,this.callbacks=l,this.request=this.fetchSetup(r,y),self.clearTimeout(this.requestTimeout),t.timeout=ae&&Mt(ae)?ae:We,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),l.onTimeout(f,r,this.response)},t.timeout),self.fetch(this.request).then(Ze=>{this.response=this.loader=Ze;const Dt=Math.max(self.performance.now(),f.loading.start);if(self.clearTimeout(this.requestTimeout),t.timeout=We,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),l.onTimeout(f,r,this.response)},We-(Dt-f.loading.start)),!Ze.ok){const{status:wt,statusText:Ht}=Ze;throw new gv(Ht||"fetch, bad network response",wt,Ze)}return f.loading.first=Dt,f.total=function Am(m){const r=m.get("Content-Range");if(r){const l=function pv(m){const r=eg.exec(m);if(r)return parseInt(r[2])-parseInt(r[1])+1}(r);if(Mt(l))return l}const t=m.get("Content-Length");if(t)return parseInt(t)}(Ze.headers)||f.total,N&&Mt(t.highWaterMark)?this.loadProgressively(Ze,f,r,t.highWaterMark,N):H?Ze.arrayBuffer():"json"===r.responseType?Ze.json():Ze.text()}).then(Ze=>{const{response:Dt}=this;self.clearTimeout(this.requestTimeout),f.loading.end=Math.max(self.performance.now(),f.loading.first);const wt=Ze[ee];wt&&(f.loaded=f.total=wt);const Ht={url:Dt.url,data:Ze,code:Dt.status};N&&!Mt(t.highWaterMark)&&N(f,r,Ze,Dt),l.onSuccess(Ht,f,r,Dt)}).catch(Ze=>{self.clearTimeout(this.requestTimeout),f.aborted||l.onError({code:Ze&&Ze.code||0,text:Ze?Ze.message:null},r,Ze?Ze.details:null,f)})}getCacheAge(){let r=null;if(this.response){const t=this.response.headers.get("age");r=t?parseFloat(t):null}return r}getResponseHeader(r){return this.response?this.response.headers.get(r):null}loadProgressively(r,t,l,f=0,y){const N=new _m,H=r.body.getReader(),ee=()=>H.read().then(ae=>{if(ae.done)return N.dataLength&&y(t,l,N.flush(),r),Promise.resolve(new ArrayBuffer(0));const We=ae.value,Ze=We.length;return t.loaded+=Ze,Ze<f||N.dataLength?(N.push(We),N.dataLength>=f&&y(t,l,N.flush(),r)):y(t,l,We,r),ee()}).catch(()=>Promise.reject());return ee()}}function ph(m,r){return new self.Request(m.url,r)}class gv extends Error{constructor(r,t,l){super(r),this.code=void 0,this.details=void 0,this.code=t,this.details=l}}const xm=/\s/,gh={newCue(m,r,t,l){const f=[];let y,N,H,ee,ae;const We=self.VTTCue||self.TextTrackCue;for(let Dt=0;Dt<l.rows.length;Dt++)if(y=l.rows[Dt],H=!0,ee=0,ae="",!y.isEmpty()){var Ze;for(let zt=0;zt<y.chars.length;zt++)xm.test(y.chars[zt].uchar)&&H?ee++:(ae+=y.chars[zt].uchar,H=!1);y.cueStartTime=r,r===t&&(t+=1e-4),ee>=16?ee--:ee++;const wt=rd(ae.trim()),Ht=Cu(r,t,wt);null!=m&&null!=(Ze=m.cues)&&Ze.getCueById(Ht)||(N=new We(r,t,wt),N.id=Ht,N.line=Dt+1,N.align="left",N.position=10+Math.min(80,10*Math.floor(8*ee/32)),f.push(N))}return m&&f.length&&(f.sort((Dt,wt)=>"auto"===Dt.line||"auto"===wt.line?0:Dt.line>8&&wt.line>8?wt.line-Dt.line:Dt.line-wt.line),f.forEach(Dt=>Zc(m,Dt))),f}},Im=$i($i({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Xp,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class gm{constructor(r){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=r;const t=r.config;this.bwEstimator=new zp(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate),this.registerListeners()}registerListeners(){const{hls:r}=this;r.on(ct.FRAG_LOADING,this.onFragLoading,this),r.on(ct.FRAG_LOADED,this.onFragLoaded,this),r.on(ct.FRAG_BUFFERED,this.onFragBuffered,this),r.on(ct.LEVEL_SWITCHING,this.onLevelSwitching,this),r.on(ct.LEVEL_LOADED,this.onLevelLoaded,this)}unregisterListeners(){const{hls:r}=this;r.off(ct.FRAG_LOADING,this.onFragLoading,this),r.off(ct.FRAG_LOADED,this.onFragLoaded,this),r.off(ct.FRAG_BUFFERED,this.onFragBuffered,this),r.off(ct.LEVEL_SWITCHING,this.onLevelSwitching,this),r.off(ct.LEVEL_LOADED,this.onLevelLoaded,this)}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}onFragLoading(r,t){var l;const f=t.frag;this.ignoreFragment(f)||(this.fragCurrent=f,this.partCurrent=null!=(l=t.part)?l:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}onLevelSwitching(r,t){this.clearTimer()}getTimeToLoadFrag(r,t,l,f){return r+l/t+(f?this.lastLevelLoadSec:0)}onLevelLoaded(r,t){const l=this.hls.config,{total:f,bwEstimate:y}=t.stats;Mt(f)&&Mt(y)&&(this.lastLevelLoadSec=8*f/y),t.details.live?this.bwEstimator.update(l.abrEwmaSlowLive,l.abrEwmaFastLive):this.bwEstimator.update(l.abrEwmaSlowVoD,l.abrEwmaFastVoD)}_abandonRulesCheck(){const{fragCurrent:r,partCurrent:t,hls:l}=this,{autoLevelEnabled:f,media:y}=l;if(!r||!y)return;const N=performance.now(),H=t?t.stats:r.stats,ee=t?t.duration:r.duration,ae=N-H.loading.start;if(H.aborted||H.loaded&&H.loaded===H.total||0===r.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!f||y.paused||!y.playbackRate||!y.readyState)return;const We=l.mainForwardBufferInfo;if(null===We)return;const Ze=this.bwEstimator.getEstimateTTFB(),Dt=Math.abs(y.playbackRate);if(ae<=Math.max(Ze,ee/(2*Dt)*1e3))return;const wt=We.len/Dt;if(wt>=2*ee/Dt)return;const Ht=H.loading.first?H.loading.first-H.loading.start:-1,zt=H.loaded&&Ht>-1,on=this.bwEstimator.getEstimate(),{levels:Sn,minAutoLevel:Bn}=l,$n=H.total||Math.max(H.loaded,Math.round(ee*Sn[r.level].maxBitrate/8));let zn=ae-Ht;zn<1&&zt&&(zn=Math.min(ae,8*H.loaded/on));const ui=zt?1e3*H.loaded/zn:0,ei=ui?($n-H.loaded)/ui:8*$n/on+Ze/1e3;if(ei<=wt)return;const gi=ui?8*ui:on;let Xn,Ci=Number.POSITIVE_INFINITY;for(Xn=r.level-1;Xn>Bn&&(Ci=this.getTimeToLoadFrag(Ze/1e3,gi,ee*Sn[Xn].maxBitrate,!Sn[Xn].details),!(Ci<wt));Xn--);Ci>=ei||Ci>10*ee||(l.nextLoadLevel=Xn,zt?this.bwEstimator.sample(ae-Math.min(Ze,Ht),H.loaded):this.bwEstimator.sampleTTFB(ae),this.clearTimer(),An.warn(`[abr] Fragment ${r.sn}${t?" part "+t.index:""} of level ${r.level} is loading too slowly;\n      Time to underbuffer: ${wt.toFixed(3)} s\n      Estimated load time for current fragment: ${ei.toFixed(3)} s\n      Estimated load time for down switch fragment: ${Ci.toFixed(3)} s\n      TTFB estimate: ${Ht}\n      Current BW estimate: ${Mt(on)?(on/1024).toFixed(3):"Unknown"} Kb/s\n      New BW estimate: ${(this.bwEstimator.getEstimate()/1024).toFixed(3)} Kb/s\n      Aborting and switching to level ${Xn}`),r.loader&&(this.fragCurrent=this.partCurrent=null,r.abortRequests()),l.trigger(ct.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,part:t,stats:H}))}onFragLoaded(r,{frag:t,part:l}){const f=l?l.stats:t.stats;if("main"===t.type&&this.bwEstimator.sampleTTFB(f.loading.first-f.loading.start),!this.ignoreFragment(t)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){const N=this.hls.levels[t.level],H=(N.loaded?N.loaded.bytes:0)+f.loaded,ee=(N.loaded?N.loaded.duration:0)+(l?l.duration:t.duration);N.loaded={bytes:H,duration:ee},N.realBitrate=Math.round(8*H/ee)}t.bitrateTest&&(this.onFragBuffered(ct.FRAG_BUFFERED,{stats:f,frag:t,part:l,id:t.type}),t.bitrateTest=!1)}}onFragBuffered(r,t){const{frag:l,part:f}=t,y=null!=f&&f.stats.loaded?f.stats:l.stats;if(y.aborted||this.ignoreFragment(l))return;const N=y.parsing.end-y.loading.start-Math.min(y.loading.first-y.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(N,y.loaded),y.bwEstimate=this.bwEstimator.getEstimate(),this.bitrateTestDelay=l.bitrateTest?N/1e3:0}ignoreFragment(r){return"main"!==r.type||"initSegment"===r.sn}clearTimer(){self.clearInterval(this.timer)}get nextAutoLevel(){const r=this._nextAutoLevel;if(-1!==r&&!this.bwEstimator.canEstimate())return r;let l=this.getNextABRAutoLevel();if(-1!==r){const f=this.hls.levels;if(f.length>Math.max(r,l)&&f[r].loadError<=f[l].loadError)return r}return-1!==r&&(l=Math.min(r,l)),l}getNextABRAutoLevel(){const{fragCurrent:r,partCurrent:t,hls:l}=this,{maxAutoLevel:f,config:y,minAutoLevel:N,media:H}=l,ee=t?t.duration:r?r.duration:0,ae=H&&0!==H.playbackRate?Math.abs(H.playbackRate):1,We=this.bwEstimator?this.bwEstimator.getEstimate():y.abrEwmaDefaultEstimate,Ze=l.mainForwardBufferInfo,Dt=(Ze?Ze.len:0)/ae;let wt=this.findBestLevel(We,N,f,Dt,y.abrBandWidthFactor,y.abrBandWidthUpFactor);if(wt>=0)return wt;An.trace(`[abr] ${Dt?"rebuffering expected":"buffer is empty"}, finding optimal quality level`);let Ht=ee?Math.min(ee,y.maxStarvationDelay):y.maxStarvationDelay,zt=y.abrBandWidthFactor,on=y.abrBandWidthUpFactor;if(!Dt){const Sn=this.bitrateTestDelay;Sn&&(Ht=(ee?Math.min(ee,y.maxLoadingDelay):y.maxLoadingDelay)-Sn,An.trace(`[abr] bitrate test took ${Math.round(1e3*Sn)}ms, set first fragment max fetchDuration to ${Math.round(1e3*Ht)} ms`),zt=on=1)}return wt=this.findBestLevel(We,N,f,Dt+Ht,zt,on),Math.max(wt,0)}findBestLevel(r,t,l,f,y,N){var H;const{fragCurrent:ee,partCurrent:ae,lastLoadedFragLevel:We}=this,{levels:Ze}=this.hls,Dt=Ze[We],wt=!(null==Dt||null==(H=Dt.details)||!H.live),Ht=Dt?.codecSet,zt=ae?ae.duration:ee?ee.duration:0,on=this.bwEstimator.getEstimateTTFB()/1e3;let Sn=t,Bn=-1;for(let Ln=l;Ln>=t;Ln--){const $n=Ze[Ln];if(!$n||Ht&&$n.codecSet!==Ht){$n&&(Sn=Math.min(Ln,Sn),Bn=Math.max(Ln,Bn));continue}-1!==Bn&&An.trace(`[abr] Skipped level(s) ${Sn}-${Bn} with CODECS:"${Ze[Bn].attrs.CODECS}"; not compatible with "${Dt.attrs.CODECS}"`);const zn=$n.details,ui=(ae?zn?.partTarget:zn?.averagetargetduration)||zt;let ei;ei=Ln<=We?y*r:N*r;const gi=Ze[Ln].maxBitrate,Ci=this.getTimeToLoadFrag(on,ei,gi*ui,void 0===zn);if(An.trace(`[abr] level:${Ln} adjustedbw-bitrate:${Math.round(ei-gi)} avgDuration:${ui.toFixed(1)} maxFetchDuration:${f.toFixed(1)} fetchDuration:${Ci.toFixed(1)}`),ei>gi&&(0===Ci||!Mt(Ci)||wt&&!this.bitrateTestDelay||Ci<f))return Ln}return-1}set nextAutoLevel(r){this._nextAutoLevel=r}},bufferController:class Oe{constructor(r){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=()=>{const{media:t,mediaSource:l}=this;An.log("[buffer-controller]: Media source opened"),t&&(t.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(ct.MEDIA_ATTACHED,{media:t})),l&&l.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{An.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=()=>{An.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=()=>{const{media:t,_objectUrl:l}=this;t&&t.src!==l&&An.error(`Media element src was set while attaching MediaSource (${l} > ${t.src})`)},this.hls=r,this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}registerListeners(){const{hls:r}=this;r.on(ct.MEDIA_ATTACHING,this.onMediaAttaching,this),r.on(ct.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.on(ct.MANIFEST_PARSED,this.onManifestParsed,this),r.on(ct.BUFFER_RESET,this.onBufferReset,this),r.on(ct.BUFFER_APPENDING,this.onBufferAppending,this),r.on(ct.BUFFER_CODECS,this.onBufferCodecs,this),r.on(ct.BUFFER_EOS,this.onBufferEos,this),r.on(ct.BUFFER_FLUSHING,this.onBufferFlushing,this),r.on(ct.LEVEL_UPDATED,this.onLevelUpdated,this),r.on(ct.FRAG_PARSED,this.onFragParsed,this),r.on(ct.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:r}=this;r.off(ct.MEDIA_ATTACHING,this.onMediaAttaching,this),r.off(ct.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.off(ct.MANIFEST_PARSED,this.onManifestParsed,this),r.off(ct.BUFFER_RESET,this.onBufferReset,this),r.off(ct.BUFFER_APPENDING,this.onBufferAppending,this),r.off(ct.BUFFER_CODECS,this.onBufferCodecs,this),r.off(ct.BUFFER_EOS,this.onBufferEos,this),r.off(ct.BUFFER_FLUSHING,this.onBufferFlushing,this),r.off(ct.LEVEL_UPDATED,this.onLevelUpdated,this),r.off(ct.FRAG_PARSED,this.onFragParsed,this),r.off(ct.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new uh(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(r,t){let l=2;(t.audio&&!t.video||!t.altAudio)&&(l=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=l,An.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(r,t){const l=this.media=t.media;if(l&&bm){const f=this.mediaSource=new bm;f.addEventListener("sourceopen",this._onMediaSourceOpen),f.addEventListener("sourceended",this._onMediaSourceEnded),f.addEventListener("sourceclose",this._onMediaSourceClose),l.src=self.URL.createObjectURL(f),this._objectUrl=l.src,l.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:r,mediaSource:t,_objectUrl:l}=this;if(t){if(An.log("[buffer-controller]: media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(f){An.warn(`[buffer-controller]: onMediaDetaching: ${f.message} while calling endOfStream`)}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),r&&(r.removeEventListener("emptied",this._onMediaEmptied),l&&self.URL.revokeObjectURL(l),r.src===l?(r.removeAttribute("src"),r.load()):An.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(ct.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(r=>{const t=this.sourceBuffer[r];try{t&&(this.removeBufferListeners(r),this.mediaSource&&this.mediaSource.removeSourceBuffer(t),this.sourceBuffer[r]=void 0)}catch(l){An.warn(`[buffer-controller]: Failed to reset the ${r} buffer`,l)}}),this._initSourceBuffer()}onBufferCodecs(r,t){const l=this.getSourceBufferTypes().length;Object.keys(t).forEach(f=>{if(l){const y=this.tracks[f];if(y&&"function"==typeof y.buffer.changeType){const{id:N,codec:H,levelCodec:ee,container:ae,metadata:We}=t[f],Ze=(y.levelCodec||y.codec).replace(G,"$1"),Dt=(ee||H).replace(G,"$1");Ze!==Dt&&(this.appendChangeType(f,`${ae};codecs=${ee||H}`),An.log(`[buffer-controller]: switching codec ${Ze} to ${Dt}`),this.tracks[f]={buffer:y.buffer,codec:H,container:ae,levelCodec:ee,metadata:We,id:N})}}else this.pendingTracks[f]=t[f]}),!l&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())}appendChangeType(r,t){const{operationQueue:l}=this,f={execute:()=>{const y=this.sourceBuffer[r];y&&(An.log(`[buffer-controller]: changing ${r} sourceBuffer type to ${t}`),y.changeType(t)),l.shiftAndExecuteNext(r)},onStart:()=>{},onComplete:()=>{},onError:y=>{An.warn(`[buffer-controller]: Failed to change ${r} SourceBuffer type`,y)}};l.append(f,r)}onBufferAppending(r,t){const{hls:l,operationQueue:f,tracks:y}=this,{data:N,type:H,frag:ee,part:ae,chunkMeta:We}=t,Ze=We.buffering[H],Dt=self.performance.now();Ze.start=Dt;const wt=ee.stats.buffering,Ht=ae?ae.stats.buffering:null;0===wt.start&&(wt.start=Dt),Ht&&0===Ht.start&&(Ht.start=Dt);const zt=y.audio;let on=!1;"audio"===H&&"audio/mpeg"===zt?.container&&(on=!this.lastMpegAudioChunk||1===We.id||this.lastMpegAudioChunk.sn!==We.sn,this.lastMpegAudioChunk=We);const Sn=ee.start;f.append({execute:()=>{if(Ze.executeStart=self.performance.now(),on){const Ln=this.sourceBuffer[H];if(Ln){const $n=Sn-Ln.timestampOffset;Math.abs($n)>=.1&&(An.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${Sn} (delta: ${$n}) sn: ${ee.sn})`),Ln.timestampOffset=Sn)}}this.appendExecutor(N,H)},onStart:()=>{},onComplete:()=>{const Ln=self.performance.now();Ze.executeEnd=Ze.end=Ln,0===wt.first&&(wt.first=Ln),Ht&&0===Ht.first&&(Ht.first=Ln);const{sourceBuffer:$n}=this,zn={};for(const ui in $n)zn[ui]=ao.getBuffered($n[ui]);this.appendError=0,this.hls.trigger(ct.BUFFER_APPENDED,{type:H,frag:ee,part:ae,chunkMeta:We,parent:ee.type,timeRanges:zn})},onError:Ln=>{An.error(`[buffer-controller]: Error encountered while trying to append to the ${H} SourceBuffer`,Ln);const $n={type:In.MEDIA_ERROR,parent:ee.type,details:yn.BUFFER_APPEND_ERROR,frag:ee,part:ae,chunkMeta:We,error:Ln,err:Ln,fatal:!1};Ln.code===DOMException.QUOTA_EXCEEDED_ERR?$n.details=yn.BUFFER_FULL_ERROR:(this.appendError++,$n.details=yn.BUFFER_APPEND_ERROR,this.appendError>l.config.appendErrorMaxRetry&&(An.error(`[buffer-controller]: Failed ${l.config.appendErrorMaxRetry} times to append segment in sourceBuffer`),$n.fatal=!0)),l.trigger(ct.ERROR,$n)}},H)}onBufferFlushing(r,t){const{operationQueue:l}=this,f=y=>({execute:this.removeExecutor.bind(this,y,t.startOffset,t.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(ct.BUFFER_FLUSHED,{type:y})},onError:N=>{An.warn(`[buffer-controller]: Failed to remove from ${y} SourceBuffer`,N)}});t.type?l.append(f(t.type),t.type):this.getSourceBufferTypes().forEach(y=>{l.append(f(y),y)})}onFragParsed(r,t){const{frag:l,part:f}=t,y=[],N=f?f.elementaryStreams:l.elementaryStreams;N.audiovideo?y.push("audiovideo"):(N.audio&&y.push("audio"),N.video&&y.push("video")),0===y.length&&An.warn(`Fragments must have at least one ElementaryStreamType set. type: ${l.type} level: ${l.level} sn: ${l.sn}`),this.blockBuffers(()=>{const ee=self.performance.now();l.stats.buffering.end=ee,f&&(f.stats.buffering.end=ee),this.hls.trigger(ct.FRAG_BUFFERED,{frag:l,part:f,stats:f?f.stats:l.stats,id:l.type})},y)}onFragChanged(r,t){this.flushBackBuffer()}onBufferEos(r,t){this.getSourceBufferTypes().reduce((f,y)=>{const N=this.sourceBuffer[y];return N&&(!t.type||t.type===y)&&(N.ending=!0,N.ended||(N.ended=!0,An.log(`[buffer-controller]: ${y} sourceBuffer now EOS`))),f&&!(N&&!N.ended)},!0)&&(An.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(y=>{const N=this.sourceBuffer[y];N&&(N.ending=!1)});const{mediaSource:f}=this;f&&"open"===f.readyState?(An.log("[buffer-controller]: Calling mediaSource.endOfStream()"),f.endOfStream()):f&&An.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${f.readyState}`)}))}onLevelUpdated(r,{details:t}){t.fragments.length&&(this.details=t,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}flushBackBuffer(){const{hls:r,details:t,media:l,sourceBuffer:f}=this;if(!l||null===t)return;const y=this.getSourceBufferTypes();if(!y.length)return;const N=t.live&&null!==r.config.liveBackBufferLength?r.config.liveBackBufferLength:r.config.backBufferLength;if(!Mt(N)||N<0)return;const H=l.currentTime,ee=t.levelTargetDuration,ae=Math.max(N,ee),We=Math.floor(H/ee)*ee-ae;y.forEach(Ze=>{const Dt=f[Ze];if(Dt){const wt=ao.getBuffered(Dt);if(wt.length>0&&We>wt.start(0)){if(r.trigger(ct.BACK_BUFFER_REACHED,{bufferEnd:We}),t.live)r.trigger(ct.LIVE_BACK_BUFFER_REACHED,{bufferEnd:We});else if(Dt.ended&&wt.end(wt.length-1)-H<2*ee)return void An.info(`[buffer-controller]: Cannot flush ${Ze} back buffer while SourceBuffer is in ended state`);r.trigger(ct.BUFFER_FLUSHING,{startOffset:0,endOffset:We,type:Ze})}}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:r,hls:t,media:l,mediaSource:f}=this,y=r.fragments[0].start+r.totalduration,N=l.duration,H=Mt(f.duration)?f.duration:0;r.live&&t.config.liveDurationInfinity?(An.log("[buffer-controller]: Media Source duration is set to Infinity"),f.duration=1/0,this.updateSeekableRange(r)):(y>H&&y>N||!Mt(N))&&(An.log(`[buffer-controller]: Updating Media Source duration to ${y.toFixed(3)}`),f.duration=y)}updateSeekableRange(r){const t=this.mediaSource,l=r.fragments;if(l.length&&r.live&&null!=t&&t.setLiveSeekableRange){const y=Math.max(0,l[0].start),N=Math.max(y,y+r.totalduration);t.setLiveSeekableRange(y,N)}}checkPendingTracks(){const{bufferCodecEventsExpected:r,operationQueue:t,pendingTracks:l}=this,f=Object.keys(l).length;if(f&&!r||2===f){this.createSourceBuffers(l),this.pendingTracks={};const y=this.getSourceBufferTypes();if(y.length)this.hls.trigger(ct.BUFFER_CREATED,{tracks:this.tracks}),y.forEach(N=>{t.executeNext(N)});else{const N=new Error("could not create source buffer for media codec(s)");this.hls.trigger(ct.ERROR,{type:In.MEDIA_ERROR,details:yn.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:N,reason:N.message})}}}createSourceBuffers(r){const{sourceBuffer:t,mediaSource:l}=this;if(!l)throw Error("createSourceBuffers called when mediaSource was null");for(const f in r)if(!t[f]){const y=r[f];if(!y)throw Error(`source buffer exists for track ${f}, however track does not`);const N=y.levelCodec||y.codec,H=`${y.container};codecs=${N}`;An.log(`[buffer-controller]: creating sourceBuffer(${H})`);try{const ee=t[f]=l.addSourceBuffer(H),ae=f;this.addBufferListener(ae,"updatestart",this._onSBUpdateStart),this.addBufferListener(ae,"updateend",this._onSBUpdateEnd),this.addBufferListener(ae,"error",this._onSBUpdateError),this.tracks[f]={buffer:ee,codec:N,container:y.container,levelCodec:y.levelCodec,metadata:y.metadata,id:y.id}}catch(ee){An.error(`[buffer-controller]: error while trying to add sourceBuffer: ${ee.message}`),this.hls.trigger(ct.ERROR,{type:In.MEDIA_ERROR,details:yn.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:ee,mimeType:H})}}}_onSBUpdateStart(r){const{operationQueue:t}=this;t.current(r).onStart()}_onSBUpdateEnd(r){const{operationQueue:t}=this;t.current(r).onComplete(),t.shiftAndExecuteNext(r)}_onSBUpdateError(r,t){const l=new Error(`${r} SourceBuffer error`);An.error(`[buffer-controller]: ${l}`,t),this.hls.trigger(ct.ERROR,{type:In.MEDIA_ERROR,details:yn.BUFFER_APPENDING_ERROR,error:l,fatal:!1});const f=this.operationQueue.current(r);f&&f.onError(t)}removeExecutor(r,t,l){const{media:f,mediaSource:y,operationQueue:N,sourceBuffer:H}=this,ee=H[r];if(!f||!y||!ee)return An.warn(`[buffer-controller]: Attempting to remove from the ${r} SourceBuffer, but it does not exist`),void N.shiftAndExecuteNext(r);const ae=Mt(f.duration)?f.duration:1/0,We=Mt(y.duration)?y.duration:1/0,Ze=Math.max(0,t),Dt=Math.min(l,ae,We);Dt>Ze&&!ee.ending?(ee.ended=!1,An.log(`[buffer-controller]: Removing [${Ze},${Dt}] from the ${r} SourceBuffer`),ee.remove(Ze,Dt)):N.shiftAndExecuteNext(r)}appendExecutor(r,t){const{operationQueue:l,sourceBuffer:f}=this,y=f[t];if(!y)return An.warn(`[buffer-controller]: Attempting to append to the ${t} SourceBuffer, but it does not exist`),void l.shiftAndExecuteNext(t);y.ended=!1,y.appendBuffer(r)}blockBuffers(r,t=this.getSourceBufferTypes()){if(!t.length)return An.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(r);const{operationQueue:l}=this,f=t.map(y=>l.appendBlocker(y));Promise.all(f).then(()=>{r(),t.forEach(y=>{const N=this.sourceBuffer[y];null!=N&&N.updating||l.shiftAndExecuteNext(y)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(r,t,l){const f=this.sourceBuffer[r];if(!f)return;const y=l.bind(this,r);this.listeners[r].push({event:t,listener:y}),f.addEventListener(t,y)}removeBufferListeners(r){const t=this.sourceBuffer[r];t&&this.listeners[r].forEach(l=>{t.removeEventListener(l.event,l.listener)})}},capLevelController:cf,errorController:class Vi{constructor(r){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=r,this.log=An.log.bind(An,"[info]:"),this.warn=An.warn.bind(An,"[warning]:"),this.error=An.error.bind(An,"[error]:"),this.registerListeners()}registerListeners(){const r=this.hls;r.on(ct.ERROR,this.onError,this),r.on(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.on(ct.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const r=this.hls;r&&(r.off(ct.ERROR,this.onError,this),r.off(ct.ERROR,this.onErrorOut,this),r.off(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.off(ct.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(r){this.playlistError=0}stopLoad(){}getVariantLevelIndex(r){return"main"===r?.type?r.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(r,t){var l,f;if(t.fatal)return;const y=this.hls,N=t.context;switch(t.details){case yn.FRAG_LOAD_ERROR:case yn.FRAG_LOAD_TIMEOUT:case yn.KEY_LOAD_ERROR:case yn.KEY_LOAD_TIMEOUT:return void(t.errorAction=this.getFragRetryOrSwitchAction(t));case yn.FRAG_PARSING_ERROR:if(null!=(l=t.frag)&&l.gap)return void(t.errorAction={action:0,flags:0});case yn.FRAG_GAP:case yn.FRAG_DECRYPT_ERROR:return t.errorAction=this.getFragRetryOrSwitchAction(t),void(t.errorAction.action=2);case yn.LEVEL_EMPTY_ERROR:case yn.LEVEL_PARSING_ERROR:{var H,ee;const ae="main"===t.parent?t.level:y.loadLevel;t.details===yn.LEVEL_EMPTY_ERROR&&null!=(H=t.context)&&null!=(ee=H.levelDetails)&&ee.live?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,ae):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,ae))}return;case yn.LEVEL_LOAD_ERROR:case yn.LEVEL_LOAD_TIMEOUT:return void("number"==typeof N?.level&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,N.level)));case yn.AUDIO_TRACK_LOAD_ERROR:case yn.AUDIO_TRACK_LOAD_TIMEOUT:case yn.SUBTITLE_LOAD_ERROR:case yn.SUBTITLE_TRACK_LOAD_TIMEOUT:if(N){const ae=y.levels[y.loadLevel];if(ae&&("audioTrack"===N.type&&N.groupId===ae.audioGroupId||"subtitleTrack"===N.type&&N.groupId===ae.textGroupId))return t.errorAction=this.getPlaylistRetryOrSwitchAction(t,y.loadLevel),t.errorAction.action=2,void(t.errorAction.flags=1)}return;case yn.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const ae=y.levels[y.loadLevel],We=ae?.attrs["HDCP-LEVEL"];We&&(t.errorAction={action:2,flags:2,hdcpLevel:We})}return;case yn.BUFFER_ADD_CODEC_ERROR:case yn.REMUX_ALLOC_ERROR:return void(t.errorAction=this.getLevelSwitchAction(t,null!=(f=t.level)?f:y.loadLevel));case yn.INTERNAL_EXCEPTION:case yn.BUFFER_APPENDING_ERROR:case yn.BUFFER_APPEND_ERROR:case yn.BUFFER_FULL_ERROR:case yn.LEVEL_SWITCH_ERROR:case yn.BUFFER_STALLED_ERROR:case yn.BUFFER_SEEK_OVER_HOLE:case yn.BUFFER_NUDGE_ON_STALL:return void(t.errorAction={action:0,flags:0})}if(t.type===In.KEY_SYSTEM_ERROR){const ae=this.getVariantLevelIndex(t.frag);return t.levelRetry=!1,void(t.errorAction=this.getLevelSwitchAction(t,ae))}}getPlaylistRetryOrSwitchAction(r,t){var l;const y=Wa(this.hls.config.playlistLoadPolicy,r),N=this.playlistError++,H=null==(l=r.response)?void 0:l.code;if(Qc(y,N,Ka(r),H))return{action:5,flags:0,retryConfig:y,retryCount:N};const ae=this.getLevelSwitchAction(r,t);return y&&(ae.retryConfig=y,ae.retryCount=N),ae}getFragRetryOrSwitchAction(r){const t=this.hls,l=this.getVariantLevelIndex(r.frag),f=t.levels[l],{fragLoadPolicy:y,keyLoadPolicy:N}=t.config,H=Wa(r.details.startsWith("key")?N:y,r),ee=t.levels.reduce((Ze,Dt)=>Ze+Dt.fragmentError,0);if(f){var ae;r.details!==yn.FRAG_GAP&&f.fragmentError++;const Ze=null==(ae=r.response)?void 0:ae.code;if(Qc(H,ee,Ka(r),Ze))return{action:5,flags:0,retryConfig:H,retryCount:ee}}const We=this.getLevelSwitchAction(r,l);return H&&(We.retryConfig=H,We.retryCount=ee),We}getLevelSwitchAction(r,t){const l=this.hls;null==t&&(t=l.loadLevel);const f=this.hls.levels[t];if(f&&(f.loadError++,l.autoLevelEnabled)){var y,N;let H=-1;const{levels:ee,loadLevel:ae,minAutoLevel:We,maxAutoLevel:Ze}=l,Dt=null==(y=r.frag)?void 0:y.type,{type:wt,groupId:Ht}=null!=(N=r.context)?N:{};for(let zt=ee.length;zt--;){const on=(zt+ae)%ee.length;if(on!==ae&&on>=We&&on<=Ze&&0===ee[on].loadError){const Sn=ee[on];if(r.details===yn.FRAG_GAP&&r.frag){const Bn=ee[on].details;if(Bn){const Ln=an(r.frag,Bn.fragments,r.frag.start);if(null!=Ln&&Ln.gap)continue}}else{if("audioTrack"===wt&&Ht===Sn.audioGroupId||"subtitleTrack"===wt&&Ht===Sn.textGroupId)continue;if("audio"===Dt&&f.audioGroupId===Sn.audioGroupId||"subtitle"===Dt&&f.textGroupId===Sn.textGroupId)continue}H=on;break}}if(H>-1&&l.loadLevel!==H)return r.levelRetry=!0,this.playlistError=0,{action:2,flags:0,nextAutoLevel:H}}return{action:2,flags:1}}onErrorOut(r,t){var l;switch(null==(l=t.errorAction)?void 0:l.action){case 0:break;case 2:this.sendAlternateToPenaltyBox(t),!t.errorAction.resolved&&t.details!==yn.FRAG_GAP&&(t.fatal=!0)}t.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(r){const t=this.hls,l=r.errorAction;if(!l)return;const{flags:f,hdcpLevel:y,nextAutoLevel:N}=l;switch(f){case 0:this.switchLevel(r,N);break;case 1:l.resolved||(l.resolved=this.redundantFailover(r));break;case 2:y&&(t.maxHdcpLevel=ic[ic.indexOf(y)-1],l.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${t.maxHdcpLevel}" or lower`)}l.resolved||this.switchLevel(r,N)}switchLevel(r,t){void 0!==t&&r.errorAction&&(this.warn(`switching to level ${t} after ${r.details}`),this.hls.nextAutoLevel=t,r.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}redundantFailover(r){const{hls:t,penalizedRenditions:l}=this,f="main"===r.parent?r.level:t.loadLevel,y=t.levels[f],N=y.url.length,H=r.frag?r.frag.urlId:y.urlId;y.urlId===H&&(!r.frag||y.details)&&this.penalizeRendition(y,r);for(let ee=1;ee<N;ee++){const ae=(H+ee)%N,We=l[ae];if(!We||Yi(We,r,l[H]))return this.warn(`Switching to Redundant Stream ${ae+1}/${N}: "${y.url[ae]}" after ${r.details}`),this.playlistError=0,t.levels.forEach(Ze=>{Ze.urlId=ae}),t.nextLoadLevel=f,!0}return!1}penalizeRendition(r,t){const{penalizedRenditions:l}=this,f=l[r.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};f.lastErrorPerfMs=performance.now(),f.errors.push(t),f.details=r.details,l[r.urlId]=f}},fpsController:class sd{constructor(r){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=r,this.registerListeners()}setStreamController(r){this.streamController=r}registerListeners(){this.hls.on(ct.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(ct.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(r,t){const l=this.hls.config;if(l.capLevelOnFPSDrop){const f=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=f,f&&"function"==typeof f.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),l.fpsDroppedMonitoringPeriod)}}checkFPS(r,t,l){const f=performance.now();if(t){if(this.lastTime){const N=l-this.lastDroppedFrames,H=t-this.lastDecodedFrames,ee=1e3*N/(f-this.lastTime),ae=this.hls;if(ae.trigger(ct.FPS_DROP,{currentDropped:N,currentDecoded:H,totalDroppedFrames:l}),ee>0&&N>ae.config.fpsDroppedMonitoringThreshold*H){let We=ae.currentLevel;An.warn("drop FPS ratio greater than max allowed value for currentLevel: "+We),We>0&&(-1===ae.autoLevelCapping||ae.autoLevelCapping>=We)&&(We-=1,ae.trigger(ct.FPS_DROP_LEVEL_CAPPING,{level:We,droppedLevel:ae.currentLevel}),ae.autoLevelCapping=We,this.streamController.nextLevelSwitch())}}this.lastTime=f,this.lastDroppedFrames=l,this.lastDecodedFrames=t}}checkFPSInterval(){const r=this.media;if(r)if(this.isVideoPlaybackQualityAvailable){const t=r.getVideoPlaybackQuality();this.checkFPS(r,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(r,r.webkitDecodedFrameCount,r.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:xa,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},function wm(){return{cueHandler:gh,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}()),{},{subtitleStreamController:class $p extends Xc{constructor(r,t,l){super(r,t,l,"[subtitle-stream-controller]","subtitle"),this.levels=[],this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null}_registerListeners(){const{hls:r}=this;r.on(ct.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(ct.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.on(ct.LEVEL_LOADED,this.onLevelLoaded,this),r.on(ct.ERROR,this.onError,this),r.on(ct.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),r.on(ct.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),r.on(ct.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),r.on(ct.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),r.on(ct.BUFFER_FLUSHING,this.onBufferFlushing,this),r.on(ct.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:r}=this;r.off(ct.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(ct.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.off(ct.LEVEL_LOADED,this.onLevelLoaded,this),r.off(ct.ERROR,this.onError,this),r.off(ct.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),r.off(ct.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),r.off(ct.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),r.off(ct.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),r.off(ct.BUFFER_FLUSHING,this.onBufferFlushing,this),r.off(ct.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(r){this.stopLoad(),this.state="IDLE",this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=r,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(r,t){this.mainDetails=t.details}onSubtitleFragProcessed(r,t){const{frag:l,success:f}=t;if(this.fragPrevious=l,this.state="IDLE",!f)return;const y=this.tracksBuffered[this.currentTrackId];if(!y)return;let N;const H=l.start;for(let ae=0;ae<y.length;ae++)if(H>=y[ae].start&&H<=y[ae].end){N=y[ae];break}const ee=l.start+l.duration;N?N.end=ee:(N={start:H,end:ee},y.push(N)),this.fragmentTracker.fragBuffered(l)}onBufferFlushing(r,t){const{startOffset:l,endOffset:f}=t;if(0===l&&f!==Number.POSITIVE_INFINITY){const y=f-1;if(y<=0)return;t.endOffsetSubtitles=Math.max(0,y),this.tracksBuffered.forEach(N=>{for(let H=0;H<N.length;)if(N[H].end<=y)N.shift();else{if(!(N[H].start<y))break;N[H].start=y,H++}}),this.fragmentTracker.removeFragmentsInRange(l,y,"subtitle")}}onFragBuffered(r,t){var l;this.loadedmetadata||"main"!==t.frag.type||null!=(l=this.media)&&l.buffered.length&&(this.loadedmetadata=!0)}onError(r,t){const l=t.frag;"subtitle"===l?.type&&(this.fragCurrent&&this.fragCurrent.abortRequests(),"STOPPED"!==this.state&&(this.state="IDLE"))}onSubtitleTracksUpdated(r,{subtitleTracks:t}){zd(this.levels,t)?this.levels=t.map(l=>new Ac(l)):(this.tracksBuffered=[],this.levels=t.map(l=>{const f=new Ac(l);return this.tracksBuffered[f.id]=[],f}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,"subtitle"),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(r,t){if(this.currentTrackId=t.id,!this.levels.length||-1===this.currentTrackId)return void this.clearInterval();const l=this.levels[this.currentTrackId];this.mediaBuffer=null!=l&&l.details?this.mediaBufferTimeRanges:null,l&&this.setInterval(500)}onSubtitleTrackLoaded(r,t){var l;const{details:f,id:y}=t,{currentTrackId:N,levels:H}=this;if(!H.length)return;const ee=H[N];if(y>=H.length||y!==N||!ee)return;this.mediaBuffer=this.mediaBufferTimeRanges;let ae=0;if(f.live||null!=(l=ee.details)&&l.live){const We=this.mainDetails;if(f.deltaUpdateFailed||!We)return;const Ze=We.fragments[0];ee.details?(ae=this.alignPlaylists(f,ee.details),0===ae&&Ze&&(ae=Ze.start,Ll(f,ae))):f.hasProgramDateTime&&We.hasProgramDateTime?(Xt(f,We),ae=f.fragments[0].start):Ze&&(ae=Ze.start,Ll(f,ae))}ee.details=f,this.levelLastLoaded=y,!this.startFragRequested&&(this.mainDetails||!f.live)&&this.setStartPosition(ee.details,ae),this.tick(),f.live&&!this.fragCurrent&&this.media&&"IDLE"===this.state&&(an(null,f.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),ee.details=void 0))}_handleFragmentLoadComplete(r){const{frag:t,payload:l}=r,f=t.decryptdata,y=this.hls;if(!this.fragContextChanged(t)&&l&&l.byteLength>0&&f&&f.key&&f.iv&&"AES-128"===f.method){const N=performance.now();this.decrypter.decrypt(new Uint8Array(l),f.key.buffer,f.iv.buffer).catch(H=>{throw y.trigger(ct.ERROR,{type:In.MEDIA_ERROR,details:yn.FRAG_DECRYPT_ERROR,fatal:!1,error:H,reason:H.message,frag:t}),H}).then(H=>{const ee=performance.now();y.trigger(ct.FRAG_DECRYPTED,{frag:t,payload:H,stats:{tstart:N,tdecrypt:ee}})}).catch(H=>{this.warn(`${H.name}: ${H.message}`),this.state="IDLE"})}}doTick(){if(this.media){if("IDLE"===this.state){const{currentTrackId:r,levels:t}=this,l=t[r];if(!t.length||!l||!l.details)return;const{config:f}=this,y=this.getLoadPosition(),N=ao.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],y,f.maxBufferHole),{end:H,len:ee}=N,ae=this.getFwdBufferInfo(this.media,"main"),We=l.details;if(ee>this.getMaxBufferLength(ae?.len)+We.levelTargetDuration)return;const Dt=We.fragments,wt=Dt.length,Ht=We.edge;let zt=null;const on=this.fragPrevious;if(H<Ht){const Sn=f.maxFragLookUpTolerance,Bn=H>Ht-Sn?0:Sn;zt=an(on,Dt,Math.max(Dt[0].start,H),Bn),!zt&&on&&on.start<Dt[0].start&&(zt=Dt[0])}else zt=Dt[wt-1];if(!zt)return;if(zt=this.mapToInitFragWhenRequired(zt),"initSegment"!==zt.sn){const Bn=Dt[zt.sn-We.startSN-1];Bn&&Bn.cc===zt.cc&&"NOT_LOADED"===this.fragmentTracker.getState(Bn)&&(zt=Bn)}"NOT_LOADED"===this.fragmentTracker.getState(zt)&&this.loadFragment(zt,l,H)}}else this.state="IDLE"}getMaxBufferLength(r){const t=super.getMaxBufferLength();return r?Math.max(t,r):t}loadFragment(r,t,l){this.fragCurrent=r,"initSegment"===r.sn?this._loadInitSegment(r,t):(this.startFragRequested=!0,super.loadFragment(r,t,l))}get mediaBufferTimeRanges(){return new Jp(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class hv extends So{constructor(r){super(r,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.trackChangeListener=()=>this.onTextTracksChanged(),this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(r){this._subtitleDisplay=r,this.trackId>-1&&this.toggleTrackModes(this.trackId)}registerListeners(){const{hls:r}=this;r.on(ct.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(ct.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.on(ct.MANIFEST_PARSED,this.onManifestParsed,this),r.on(ct.LEVEL_LOADING,this.onLevelLoading,this),r.on(ct.LEVEL_SWITCHING,this.onLevelSwitching,this),r.on(ct.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),r.on(ct.ERROR,this.onError,this)}unregisterListeners(){const{hls:r}=this;r.off(ct.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(ct.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.off(ct.MANIFEST_PARSED,this.onManifestParsed,this),r.off(ct.LEVEL_LOADING,this.onLevelLoading,this),r.off(ct.LEVEL_SWITCHING,this.onLevelSwitching,this),r.off(ct.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),r.off(ct.ERROR,this.onError,this)}onMediaAttached(r,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(r){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,r)}onMediaDetaching(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),dh(this.media.textTracks).forEach(t=>{va(t)}),this.subtitleTrack=-1,this.media=null)}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(r,t){this.tracks=t.subtitleTracks}onSubtitleTrackLoaded(r,t){const{id:l,details:f}=t,{trackId:y}=this,N=this.tracksInGroup[y];if(!N)return void this.warn(`Invalid subtitle track id ${l}`);const H=N.details;N.details=t.details,this.log(`subtitle track ${l} loaded [${f.startSN}-${f.endSN}]`),l===this.trackId&&this.playlistLoaded(l,t,H)}onLevelLoading(r,t){this.switchLevel(t.level)}onLevelSwitching(r,t){this.switchLevel(t.level)}switchLevel(r){const t=this.hls.levels[r];if(null==t||!t.textGroupIds)return;const l=t.textGroupIds[t.urlId],f=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==l){const y=this.tracks.filter(ee=>!l||ee.groupId===l);this.tracksInGroup=y;const N=this.findTrackId(f?.name)||this.findTrackId();this.groupId=l||null;const H={subtitleTracks:y};this.log(`Updating subtitle tracks, ${y.length} track(s) found in "${l}" group-id`),this.hls.trigger(ct.SUBTITLE_TRACKS_UPDATED,H),-1!==N&&this.setSubtitleTrack(N,f)}else this.shouldReloadPlaylist(f)&&this.setSubtitleTrack(this.trackId,f)}findTrackId(r){const t=this.tracksInGroup;for(let l=0;l<t.length;l++){const f=t[l];if((!this.selectDefaultTrack||f.default)&&(!r||r===f.name))return f.id}return-1}onError(r,t){t.fatal||!t.context||"subtitleTrack"===t.context.type&&t.context.id===this.trackId&&t.context.groupId===this.groupId&&this.checkRetry(t)}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(r){this.selectDefaultTrack=!1,this.setSubtitleTrack(r,this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0)}loadPlaylist(r){super.loadPlaylist();const t=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(t)){const l=t.id,f=t.groupId;let y=t.url;if(r)try{y=r.addDirectives(y)}catch(N){this.warn(`Could not construct new URL with HLS Delivery Directives: ${N}`)}this.log(`Loading subtitle playlist for id ${l}`),this.hls.trigger(ct.SUBTITLE_TRACK_LOADING,{url:y,id:l,groupId:f,deliveryDirectives:r||null})}}toggleTrackModes(r){const{media:t,trackId:l}=this;if(!t)return;const f=dh(t.textTracks),y=f.filter(H=>H.groupId===this.groupId);if(-1===r)[].slice.call(f).forEach(H=>{H.mode="disabled"});else{const H=y[l];H&&(H.mode="disabled")}const N=y[r];N&&(N.mode=this.subtitleDisplay?"showing":"hidden")}setSubtitleTrack(r,t){var l;const f=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=r);if(this.trackId!==r&&this.toggleTrackModes(r),this.trackId===r&&(-1===r||null!=(l=f[r])&&l.details)||r<-1||r>=f.length)return;this.clearTimer();const y=f[r];if(this.log(`Switching to subtitle-track ${r}`+(y?` "${y.name}" lang:${y.lang} group:${y.groupId}`:"")),this.trackId=r,y){const{id:N,groupId:H="",name:ee,type:ae,url:We}=y;this.hls.trigger(ct.SUBTITLE_TRACK_SWITCH,{id:N,groupId:H,name:ee,type:ae,url:We});const Ze=this.switchParams(y.url,t?.details);this.loadPlaylist(Ze)}else this.hls.trigger(ct.SUBTITLE_TRACK_SWITCH,{id:r})}onTextTracksChanged(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let r=-1;const t=dh(this.media.textTracks);for(let l=0;l<t.length;l++)if("hidden"===t[l].mode)r=l;else if("showing"===t[l].mode){r=l;break}this.subtitleTrack!==r&&(this.subtitleTrack=r)}},timelineController:class Tm{constructor(r){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=r,this.config=r.config,this.Cues=r.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){const t=new Ur(this,"textTrack1"),l=new Ur(this,"textTrack2"),f=new Ur(this,"textTrack3"),y=new Ur(this,"textTrack4");this.cea608Parser1=new Cr(1,t,l),this.cea608Parser2=new Cr(3,f,y)}r.on(ct.MEDIA_ATTACHING,this.onMediaAttaching,this),r.on(ct.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.on(ct.MANIFEST_LOADED,this.onManifestLoaded,this),r.on(ct.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),r.on(ct.FRAG_LOADING,this.onFragLoading,this),r.on(ct.FRAG_LOADED,this.onFragLoaded,this),r.on(ct.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),r.on(ct.FRAG_DECRYPTED,this.onFragDecrypted,this),r.on(ct.INIT_PTS_FOUND,this.onInitPtsFound,this),r.on(ct.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),r.on(ct.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:r}=this;r.off(ct.MEDIA_ATTACHING,this.onMediaAttaching,this),r.off(ct.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.off(ct.MANIFEST_LOADED,this.onManifestLoaded,this),r.off(ct.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),r.off(ct.FRAG_LOADING,this.onFragLoading,this),r.off(ct.FRAG_LOADED,this.onFragLoaded,this),r.off(ct.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),r.off(ct.FRAG_DECRYPTED,this.onFragDecrypted,this),r.off(ct.INIT_PTS_FOUND,this.onInitPtsFound,this),r.off(ct.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),r.off(ct.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}addCues(r,t,l,f,y){let N=!1;for(let H=y.length;H--;){const ee=y[H],ae=qd(ee[0],ee[1],t,l);if(ae>=0&&(ee[0]=Math.min(ee[0],t),ee[1]=Math.max(ee[1],l),N=!0,ae/(l-t)>.5))return}if(N||y.push([t,l]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[r],t,l,f);else{const H=this.Cues.newCue(null,t,l,f);this.hls.trigger(ct.CUES_PARSED,{type:"captions",cues:H,track:r})}}onInitPtsFound(r,{frag:t,id:l,initPTS:f,timescale:y}){const{unparsedVttFrags:N}=this;"main"===l&&(this.initPTS[t.cc]={baseTime:f,timescale:y}),N.length&&(this.unparsedVttFrags=[],N.forEach(H=>{this.onFragLoaded(ct.FRAG_LOADED,H)}))}getExistingTrack(r){const{media:t}=this;if(t)for(let l=0;l<t.textTracks.length;l++){const f=t.textTracks[l];if(f[r])return f}return null}createCaptionsTrack(r){this.config.renderTextTracksNatively?this.createNativeTrack(r):this.createNonNativeTrack(r)}createNativeTrack(r){if(this.captionsTracks[r])return;const{captionsProperties:t,captionsTracks:l,media:f}=this,{label:y,languageCode:N}=t[r],H=this.getExistingTrack(r);if(H)l[r]=H,va(l[r]),Va(l[r],f);else{const ee=this.createTextTrack("captions",y,N);ee&&(ee[r]=!0,l[r]=ee)}}createNonNativeTrack(r){if(this.nonNativeCaptionsTracks[r])return;const t=this.captionsProperties[r];if(!t)return;const f={_id:r,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[r]=f,this.hls.trigger(ct.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[f]})}createTextTrack(r,t,l){const f=this.media;if(f)return f.addTextTrack(r,t,l)}onMediaAttaching(r,t){this.media=t.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:r}=this;Object.keys(r).forEach(t=>{va(r[t]),delete r[t]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:r}=this;if(!r)return;const t=r.textTracks;if(t)for(let l=0;l<t.length;l++)va(t[l])}onSubtitleTracksUpdated(r,t){const l=t.subtitleTracks||[],f=l.some(y=>y.textCodec===Lc);if(this.config.enableWebVTT||f&&this.config.enableIMSC1){if(zd(this.tracks,l))return void(this.tracks=l);if(this.textTracks=[],this.tracks=l,this.config.renderTextTracksNatively){const N=this.media?this.media.textTracks:null;this.tracks.forEach((H,ee)=>{let ae;if(N&&ee<N.length){let We=null;for(let Ze=0;Ze<N.length;Ze++)if(od(N[Ze],H)){We=N[Ze];break}We&&(ae=We)}if(ae)va(ae);else{const We=this._captionsOrSubtitlesFromCharacteristics(H);ae=this.createTextTrack(We,H.name,H.lang),ae&&(ae.mode="disabled")}ae&&(ae.groupId=H.groupId,this.textTracks.push(ae))})}else if(this.tracks.length){const N=this.tracks.map(H=>({label:H.name,kind:H.type.toLowerCase(),default:H.default,subtitleTrack:H}));this.hls.trigger(ct.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:N})}}}_captionsOrSubtitlesFromCharacteristics(r){if(r.attrs.CHARACTERISTICS){const t=/transcribes-spoken-dialog/gi.test(r.attrs.CHARACTERISTICS),l=/describes-music-and-sound/gi.test(r.attrs.CHARACTERISTICS);if(t&&l)return"captions"}return"subtitles"}onManifestLoaded(r,t){this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(l=>{const f=/(?:CC|SERVICE)([1-4])/.exec(l.instreamId);if(!f)return;const N=this.captionsProperties[`textTrack${f[1]}`];N&&(N.label=l.name,l.lang&&(N.languageCode=l.lang),N.media=l)})}closedCaptionsForLevel(r){const t=this.hls.levels[r.level];return t?.attrs["CLOSED-CAPTIONS"]}onFragLoading(r,t){const{cea608Parser1:l,cea608Parser2:f,lastSn:y,lastPartIndex:N}=this;if(this.enabled&&l&&f&&"main"===t.frag.type){var H,ee;const ae=t.frag.sn,We=null!=(H=null==t||null==(ee=t.part)?void 0:ee.index)?H:-1;ae===y+1||ae===y&&We===N+1||(l.reset(),f.reset()),this.lastSn=ae,this.lastPartIndex=We}}onFragLoaded(r,t){const{frag:l,payload:f}=t;if("subtitle"===l.type)if(f.byteLength){const y=l.decryptdata;if(null==y||!y.encrypted||"stats"in t){const H=this.tracks[l.level],ee=this.vttCCs;ee[l.cc]||(ee[l.cc]={start:l.start,prevCC:this.prevCC,new:!0},this.prevCC=l.cc),H&&H.textCodec===Lc?this._parseIMSC1(l,f):this._parseVTTs(t)}}else this.hls.trigger(ct.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:l,error:new Error("Empty subtitle payload")})}_parseIMSC1(r,t){const l=this.hls;bl(t,this.initPTS[r.cc],f=>{this._appendCues(f,r.level),l.trigger(ct.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},f=>{An.log(`Failed to parse IMSC1: ${f}`),l.trigger(ct.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:f})})}_parseVTTs(r){var t;const{frag:l,payload:f}=r,{initPTS:y,unparsedVttFrags:N}=this,H=y.length-1;if(!y[l.cc]&&-1===H)return void N.push(r);const ee=this.hls;!function Du(m,r,t,l,f,y,N){const H=new Ya,ee=ps(new Uint8Array(m)).trim().replace(Ul,"\n").split("\n"),ae=[],We=r?function $f(m,r=1){return Ju(m,9e4,1/r)}(r.baseTime,r.timescale):0;let Ht,Ze="00:00.000",Dt=0,wt=0,zt=!0;H.oncue=function(on){const Sn=t[l];let Bn=t.ccOffset;const Ln=(Dt-We)/9e4;if(null!=Sn&&Sn.new&&(void 0!==wt?Bn=t.ccOffset=Sn.start:function(r,t,l){let f=r[t],y=r[f.prevCC];if(!y||!y.new&&f.new)return r.ccOffset=r.presentationOffset=f.start,void(f.new=!1);for(;null!=(N=y)&&N.new;){var N;r.ccOffset+=f.start-y.start,f.new=!1,f=y,y=r[f.prevCC]}r.presentationOffset=l}(t,l,Ln)),Ln){if(!r)return void(Ht=new Error("Missing initPTS for VTT MPEGTS"));Bn=Ln-t.presentationOffset}const $n=on.endTime-on.startTime,zn=yl(9e4*(on.startTime+Bn-wt),9e4*f)/9e4;on.startTime=Math.max(zn,0),on.endTime=Math.max(zn+$n,0);const ui=on.text.trim();on.text=decodeURIComponent(encodeURIComponent(ui)),on.id||(on.id=Cu(on.startTime,on.endTime,ui)),on.endTime>0&&ae.push(on)},H.onparsingerror=function(on){Ht=on},H.onflush=function(){Ht?N(Ht):y(ae)},ee.forEach(on=>{if(zt){if(Nc(on,"X-TIMESTAMP-MAP=")){zt=!1,on.slice(16).split(",").forEach(Sn=>{Nc(Sn,"LOCAL:")?Ze=Sn.slice(6):Nc(Sn,"MPEGTS:")&&(Dt=parseInt(Sn.slice(7)))});try{wt=function(r){let t=parseInt(r.slice(-3));const l=parseInt(r.slice(-6,-4)),f=parseInt(r.slice(-9,-7)),y=r.length>9?parseInt(r.substring(0,r.indexOf(":"))):0;if(!(Mt(t)&&Mt(l)&&Mt(f)&&Mt(y)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${r}`);return t+=1e3*l,t+=6e4*f,t+=36e5*y,t}(Ze)/1e3}catch(Sn){Ht=Sn}return}""===on&&(zt=!1)}H.parse(on+"\n")}),H.flush()}(null!=(t=l.initSegment)&&t.data?so(l.initSegment.data,new Uint8Array(f)):f,this.initPTS[l.cc],this.vttCCs,l.cc,l.start,We=>{this._appendCues(We,l.level),ee.trigger(ct.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:l})},We=>{const Ze="Missing initPTS for VTT MPEGTS"===We.message;Ze?N.push(r):this._fallbackToIMSC1(l,f),An.log(`Failed to parse VTT cue: ${We}`),!(Ze&&H>l.cc)&&ee.trigger(ct.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:l,error:We})})}_fallbackToIMSC1(r,t){const l=this.tracks[r.level];l.textCodec||bl(t,this.initPTS[r.cc],()=>{l.textCodec=Lc,this._parseIMSC1(r,t)},()=>{l.textCodec="wvtt"})}_appendCues(r,t){const l=this.hls;if(this.config.renderTextTracksNatively){const f=this.textTracks[t];if(!f||"disabled"===f.mode)return;r.forEach(y=>Zc(f,y))}else{const f=this.tracks[t];if(!f)return;l.trigger(ct.CUES_PARSED,{type:"subtitles",cues:r,track:f.default?"default":"subtitles"+t})}}onFragDecrypted(r,t){const{frag:l}=t;"subtitle"===l.type&&this.onFragLoaded(ct.FRAG_LOADED,t)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(r,t){const{cea608Parser1:l,cea608Parser2:f}=this;if(!this.enabled||!l||!f)return;const{frag:y,samples:N}=t;if("main"!==y.type||"NONE"!==this.closedCaptionsForLevel(y))for(let H=0;H<N.length;H++){const ee=N[H].bytes;if(ee){const ae=this.extractCea608Data(ee);l.addData(N[H].pts,ae[0]),f.addData(N[H].pts,ae[1])}}}onBufferFlushing(r,{startOffset:t,endOffset:l,endOffsetSubtitles:f,type:y}){const{media:N}=this;if(N&&!(N.currentTime<l)){if(!y||"video"===y){const{captionsTracks:H}=this;Object.keys(H).forEach(ee=>nc(H[ee],t,l))}if(this.config.renderTextTracksNatively&&0===t&&void 0!==f){const{textTracks:H}=this;Object.keys(H).forEach(ee=>nc(H[ee],t,f))}}}extractCea608Data(r){const t=[[],[]],l=31&r[0];let f=2;for(let y=0;y<l;y++){const N=r[f++],H=127&r[f++],ee=127&r[f++];if((0!==H||0!==ee)&&0!=(4&N)){const We=3&N;(0===We||1===We)&&(t[We].push(H),t[We].push(ee))}}return t}},audioStreamController:class vm extends Xc{constructor(r,t,l){super(r,t,l,"[audio-stream-controller]","audio"),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:r}=this;r.on(ct.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(ct.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.on(ct.LEVEL_LOADED,this.onLevelLoaded,this),r.on(ct.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),r.on(ct.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),r.on(ct.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),r.on(ct.ERROR,this.onError,this),r.on(ct.BUFFER_RESET,this.onBufferReset,this),r.on(ct.BUFFER_CREATED,this.onBufferCreated,this),r.on(ct.BUFFER_FLUSHED,this.onBufferFlushed,this),r.on(ct.INIT_PTS_FOUND,this.onInitPtsFound,this),r.on(ct.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:r}=this;r.off(ct.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(ct.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.off(ct.LEVEL_LOADED,this.onLevelLoaded,this),r.off(ct.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),r.off(ct.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),r.off(ct.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),r.off(ct.ERROR,this.onError,this),r.off(ct.BUFFER_RESET,this.onBufferReset,this),r.off(ct.BUFFER_CREATED,this.onBufferCreated,this),r.off(ct.BUFFER_FLUSHED,this.onBufferFlushed,this),r.off(ct.INIT_PTS_FOUND,this.onInitPtsFound,this),r.off(ct.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(r,{frag:t,id:l,initPTS:f,timescale:y}){if("main"===l){const N=t.cc;this.initPTS[t.cc]={baseTime:f,timescale:y},this.log(`InitPTS for cc: ${N} found from main: ${f}`),this.videoTrackCC=N,"WAITING_INIT_PTS"===this.state&&this.tick()}}startLoad(r){if(!this.levels)return this.startPosition=r,void(this.state="STOPPED");const t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),t>0&&-1===r?(this.log(`Override startPosition with lastCurrentTime @${t.toFixed(3)}`),r=t,this.state="IDLE"):(this.loadedmetadata=!1,this.state="WAITING_TRACK"),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=r,this.tick()}doTick(){switch(this.state){case"IDLE":this.doTickIdle();break;case"WAITING_TRACK":{var r;const{levels:l,trackId:f}=this,y=null==l||null==(r=l[f])?void 0:r.details;if(y){if(this.waitForCdnTuneIn(y))break;this.state="WAITING_INIT_PTS"}break}case"FRAG_LOADING_WAITING_RETRY":{var t;const l=performance.now(),f=this.retryDate;(!f||l>=f||null!=(t=this.media)&&t.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state="IDLE");break}case"WAITING_INIT_PTS":{const l=this.waitingData;if(l){const{frag:f,part:y,cache:N,complete:H}=l;if(void 0!==this.initPTS[f.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state="FRAG_LOADING";const ae={frag:f,part:y,payload:N.flush(),networkDetails:null};this._handleFragmentLoadProgress(ae),H&&super._handleFragmentLoadComplete(ae)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${f.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const ee=this.getLoadPosition(),ae=ao.bufferInfo(this.mediaBuffer,ee,this.config.maxBufferHole);xn(ae.end,this.config.maxFragLookUpTolerance,f)<0&&(this.log(`Waiting fragment cc (${f.cc}) @ ${f.start} cancelled because another fragment at ${ae.end} is needed`),this.clearWaitingFragment())}}else this.state="IDLE"}}this.onTickEnd()}clearWaitingFragment(){const r=this.waitingData;r&&(this.fragmentTracker.removeFragment(r.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state="IDLE")}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:r}=this;null!=r&&r.readyState&&(this.lastCurrentTime=r.currentTime)}doTickIdle(){const{hls:r,levels:t,media:l,trackId:f}=this;if(null==t||!t[f]||!l&&(this.startFragRequested||!r.config.startFragPrefetch))return;const N=t[f],H=N.details;if(!H||H.live&&this.levelLastLoaded!==f||this.waitForCdnTuneIn(H))return void(this.state="WAITING_TRACK");const ee=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&ee&&(this.bufferFlushed=!1,this.afterBufferFlushed(ee,"audio","audio"));const ae=this.getFwdBufferInfo(ee,"audio");if(null===ae)return;const{bufferedTrack:We,switchingTrack:Ze}=this;if(!Ze&&this._streamEnded(ae,H))return r.trigger(ct.BUFFER_EOS,{type:"audio"}),void(this.state="ENDED");const Dt=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,"main"),wt=ae.len,Ht=this.getMaxBufferLength(Dt?.len);if(wt>=Ht&&!Ze)return;const on=H.fragments[0].start;let Sn=ae.end;if(Ze&&l){const zn=this.getLoadPosition();We&&Ze.attrs!==We.attrs&&(Sn=zn),H.PTSKnown&&zn<on&&(ae.end>on||ae.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),l.currentTime=on+.05)}let Bn=this.getNextFragment(Sn,H),Ln=!1;if(Bn&&this.isLoopLoading(Bn,Sn)&&(Ln=!!Bn.gap,Bn=this.getNextFragmentLoopLoading(Bn,H,ae,"main",Ht)),!Bn)return void(this.bufferFlushed=!0);const $n=Dt&&Bn.start>Dt.end+H.targetduration;if($n||(null==Dt||!Dt.len)&&ae.len){const zn=this.getAppendedFrag(Bn.start,"main");if(null===zn||(Ln||(Ln=!!zn.gap||!!$n&&0===Dt.len),$n&&!Ln||Ln&&ae.nextStart&&ae.nextStart<zn.end))return}this.loadFragment(Bn,N,Sn)}getMaxBufferLength(r){const t=super.getMaxBufferLength();return r?Math.min(Math.max(t,r),this.config.maxMaxBufferLength):t}onMediaDetaching(){this.videoBuffer=null,super.onMediaDetaching()}onAudioTracksUpdated(r,{audioTracks:t}){this.resetTransmuxer(),this.levels=t.map(l=>new Ac(l))}onAudioTrackSwitching(r,t){const l=!!t.url;this.trackId=t.id;const{fragCurrent:f}=this;f&&(f.abortRequests(),this.removeUnbufferedFrags(f.start)),this.resetLoadingState(),l?this.setInterval(100):this.resetTransmuxer(),l?(this.switchingTrack=t,this.state="IDLE"):(this.switchingTrack=null,this.bufferedTrack=t,this.state="STOPPED"),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(r,t){this.mainDetails=t.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(ct.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(r,t){var l;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=t);const{levels:f}=this,{details:y,id:N}=t;if(!f)return void this.warn(`Audio tracks were reset while loading level ${N}`);this.log(`Track ${N} loaded [${y.startSN},${y.endSN}]${y.lastPartSn?`[part-${y.lastPartSn}-${y.lastPartIndex}]`:""},duration:${y.totalduration}`);const H=f[N];let ee=0;if(y.live||null!=(l=H.details)&&l.live){const ae=this.mainDetails;if(y.fragments[0]||(y.deltaUpdateFailed=!0),y.deltaUpdateFailed||!ae)return;!H.details&&y.hasProgramDateTime&&ae.hasProgramDateTime?(Xt(y,ae),ee=y.fragments[0].start):ee=this.alignPlaylists(y,H.details)}H.details=y,this.levelLastLoaded=N,!this.startFragRequested&&(this.mainDetails||!y.live)&&this.setStartPosition(H.details,ee),"WAITING_TRACK"===this.state&&!this.waitForCdnTuneIn(y)&&(this.state="IDLE"),this.tick()}_handleFragmentLoadProgress(r){var t;const{frag:l,part:f,payload:y}=r,{config:N,trackId:H,levels:ee}=this;if(!ee)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${l.sn} of level ${l.level} will not be buffered`);const ae=ee[H];if(!ae)return void this.warn("Audio track is undefined on fragment load progress");const We=ae.details;if(!We)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(l.start);const Ze=N.defaultAudioCodec||ae.audioCodec||"mp4a.40.2";let Dt=this.transmuxer;Dt||(Dt=this.transmuxer=new rh(this.hls,"audio",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const wt=this.initPTS[l.cc],Ht=null==(t=l.initSegment)?void 0:t.data;if(void 0!==wt){const on=f?f.index:-1,Bn=new mu(l.level,l.sn,l.stats.chunkCount,y.byteLength,on,-1!==on);Dt.push(y,Ht,Ze,"",l,f,We.totalduration,!1,Bn,wt)}else{this.log(`Unknown video PTS for cc ${l.cc}, waiting for video PTS before demuxing audio frag ${l.sn} of [${We.startSN} ,${We.endSN}],track ${H}`);const{cache:zt}=this.waitingData=this.waitingData||{frag:l,part:f,cache:new _m,complete:!1};zt.push(new Uint8Array(y)),this.waitingVideoCC=this.videoTrackCC,this.state="WAITING_INIT_PTS"}}_handleFragmentLoadComplete(r){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(r)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(r,t){const l=t.tracks.audio;l&&(this.mediaBuffer=l.buffer||null),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)}onFragBuffered(r,t){const{frag:l,part:f}=t;if("audio"===l.type)if(this.fragContextChanged(l))this.warn(`Fragment ${l.sn}${f?" p: "+f.index:""} of level ${l.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==l.sn){this.fragPrevious=l;const y=this.switchingTrack;y&&(this.bufferedTrack=y,this.switchingTrack=null,this.hls.trigger(ct.AUDIO_TRACK_SWITCHED,$i({},y)))}this.fragBufferedComplete(l,f)}else if(!this.loadedmetadata&&"main"===l.type){const y=this.videoBuffer||this.media;y&&ao.getBuffered(y).length&&(this.loadedmetadata=!0)}}onError(r,t){var l;if(t.fatal)this.state="ERROR";else switch(t.details){case yn.FRAG_GAP:case yn.FRAG_PARSING_ERROR:case yn.FRAG_DECRYPT_ERROR:case yn.FRAG_LOAD_ERROR:case yn.FRAG_LOAD_TIMEOUT:case yn.KEY_LOAD_ERROR:case yn.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("audio",t);break;case yn.AUDIO_TRACK_LOAD_ERROR:case yn.AUDIO_TRACK_LOAD_TIMEOUT:case yn.LEVEL_PARSING_ERROR:!t.levelRetry&&"WAITING_TRACK"===this.state&&"audioTrack"===(null==(l=t.context)?void 0:l.type)&&(this.state="IDLE");break;case yn.BUFFER_FULL_ERROR:if(!t.parent||"audio"!==t.parent)return;this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case yn.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}onBufferFlushed(r,{type:t}){"audio"===t&&(this.bufferFlushed=!0,"ENDED"===this.state&&(this.state="IDLE"))}_handleTransmuxComplete(r){var t;const l="audio",{hls:f}=this,{remuxResult:y,chunkMeta:N}=r,H=this.getCurrentContext(N);if(!H)return void this.resetWhenMissingContext(N);const{frag:ee,part:ae,level:We}=H,{details:Ze}=We,{audio:Dt,text:wt,id3:Ht,initSegment:zt}=y;if(!this.fragContextChanged(ee)&&Ze){if(this.state="PARSING",this.switchingTrack&&Dt&&this.completeAudioSwitch(this.switchingTrack),null!=zt&&zt.tracks){const on=ee.initSegment||ee;this._bufferInitSegment(zt.tracks,on,N),f.trigger(ct.FRAG_PARSING_INIT_SEGMENT,{frag:on,id:l,tracks:zt.tracks})}if(Dt){const{startPTS:on,endPTS:Sn,startDTS:Bn,endDTS:Ln}=Dt;ae&&(ae.elementaryStreams.audio={startPTS:on,endPTS:Sn,startDTS:Bn,endDTS:Ln}),ee.setElementaryStreamInfo("audio",on,Sn,Bn,Ln),this.bufferFragmentData(Dt,ee,ae,N)}if(null!=Ht&&null!=(t=Ht.samples)&&t.length){const on=Ge({id:l,frag:ee,details:Ze},Ht);f.trigger(ct.FRAG_PARSING_METADATA,on)}if(wt){const on=Ge({id:l,frag:ee,details:Ze},wt);f.trigger(ct.FRAG_PARSING_USERDATA,on)}}else this.fragmentTracker.removeFragment(ee)}_bufferInitSegment(r,t,l){if("PARSING"!==this.state)return;r.video&&delete r.video;const f=r.audio;if(!f)return;f.levelCodec=f.codec,f.id="audio",this.log(`Init audio buffer, container:${f.container}, codecs[parsed]=[${f.codec}]`),this.hls.trigger(ct.BUFFER_CODECS,r);const y=f.initSegment;null!=y&&y.byteLength&&this.hls.trigger(ct.BUFFER_APPENDING,{type:"audio",frag:t,part:null,chunkMeta:l,parent:t.type,data:y}),this.tick()}loadFragment(r,t,l){const f=this.fragmentTracker.getState(r);var y;this.fragCurrent=r,this.switchingTrack||"NOT_LOADED"===f||"PARTIAL"===f?"initSegment"===r.sn?this._loadInitSegment(r,t):null!=(y=t.details)&&y.live&&!this.initPTS[r.cc]?(this.log(`Waiting for video PTS in continuity counter ${r.cc} of live stream before loading audio fragment ${r.sn} of level ${this.trackId}`),this.state="WAITING_INIT_PTS"):(this.startFragRequested=!0,super.loadFragment(r,t,l)):this.clearTrackerIfNeeded(r)}completeAudioSwitch(r){const{hls:t,media:l,bufferedTrack:f}=this,y=f?.attrs,N=r.attrs;l&&y&&(y.CHANNELS!==N.CHANNELS||y.NAME!==N.NAME||y.LANGUAGE!==N.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=r,this.switchingTrack=null,t.trigger(ct.AUDIO_TRACK_SWITCHED,$i({},r))}},audioTrackController:class ym extends So{constructor(r){super(r,"[audio-track-controller]"),this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:r}=this;r.on(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.on(ct.MANIFEST_PARSED,this.onManifestParsed,this),r.on(ct.LEVEL_LOADING,this.onLevelLoading,this),r.on(ct.LEVEL_SWITCHING,this.onLevelSwitching,this),r.on(ct.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),r.on(ct.ERROR,this.onError,this)}unregisterListeners(){const{hls:r}=this;r.off(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.off(ct.MANIFEST_PARSED,this.onManifestParsed,this),r.off(ct.LEVEL_LOADING,this.onLevelLoading,this),r.off(ct.LEVEL_SWITCHING,this.onLevelSwitching,this),r.off(ct.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),r.off(ct.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(r,t){this.tracks=t.audioTracks||[]}onAudioTrackLoaded(r,t){const{id:l,groupId:f,details:y}=t,N=this.tracksInGroup[l];if(!N||N.groupId!==f)return void this.warn(`Track with id:${l} and group:${f} not found in active group ${N.groupId}`);const H=N.details;N.details=t.details,this.log(`audio-track ${l} "${N.name}" lang:${N.lang} group:${f} loaded [${y.startSN}-${y.endSN}]`),l===this.trackId&&this.playlistLoaded(l,t,H)}onLevelLoading(r,t){this.switchLevel(t.level)}onLevelSwitching(r,t){this.switchLevel(t.level)}switchLevel(r){const t=this.hls.levels[r];if(null==t||!t.audioGroupIds)return;const l=t.audioGroupIds[t.urlId];if(this.groupId!==l){this.groupId=l||null;const f=this.tracks.filter(N=>!l||N.groupId===l);this.selectDefaultTrack&&!f.some(N=>N.default)&&(this.selectDefaultTrack=!1),this.tracksInGroup=f;const y={audioTracks:f};this.log(`Updating audio tracks, ${f.length} track(s) found in group:${l}`),this.hls.trigger(ct.AUDIO_TRACKS_UPDATED,y),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}onError(r,t){t.fatal||!t.context||"audioTrack"===t.context.type&&t.context.id===this.trackId&&t.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(t))}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(r){this.selectDefaultTrack=!1,this.setAudioTrack(r)}setAudioTrack(r){const t=this.tracksInGroup;if(r<0||r>=t.length)return void this.warn("Invalid id passed to audio-track controller");this.clearTimer();const l=this.currentTrack,f=t[r],{groupId:y,name:N}=f;if(this.log(`Switching to audio-track ${r} "${N}" lang:${f.lang} group:${y}`),this.trackId=r,this.currentTrack=f,this.selectDefaultTrack=!1,this.hls.trigger(ct.AUDIO_TRACK_SWITCHING,$i({},f)),f.details&&!f.details.live)return;const H=this.switchParams(f.url,l?.details);this.loadPlaylist(H)}selectInitialTrack(){const r=this.tracksInGroup,t=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==t)this.setAudioTrack(t);else{const l=new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${r.length}`);this.warn(l.message),this.hls.trigger(ct.ERROR,{type:In.MEDIA_ERROR,details:yn.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:l})}}findTrackId(r){const t=this.tracksInGroup;for(let l=0;l<t.length;l++){const f=t[l];if((!this.selectDefaultTrack||f.default)&&(!r||void 0!==r.attrs["STABLE-RENDITION-ID"]&&r.attrs["STABLE-RENDITION-ID"]===f.attrs["STABLE-RENDITION-ID"]||r.name===f.name&&r.lang===f.lang))return f.id}return-1}loadPlaylist(r){super.loadPlaylist();const t=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(t)){const l=t.id,f=t.groupId;let y=t.url;if(r)try{y=r.addDirectives(y)}catch(N){this.warn(`Could not construct new URL with HLS Delivery Directives: ${N}`)}this.log(`loading audio-track playlist ${l} "${t.name}" lang:${t.lang} group:${f}`),this.clearTimer(),this.hls.trigger(ct.AUDIO_TRACK_LOADING,{url:y,id:l,groupId:f,deliveryDirectives:r||null})}}},emeController:Ad,cmcdController:xd,contentSteeringController:class qp{constructor(r){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=r,this.log=An.log.bind(An,"[content-steering]:"),this.registerListeners()}registerListeners(){const r=this.hls;r.on(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.on(ct.MANIFEST_LOADED,this.onManifestLoaded,this),r.on(ct.MANIFEST_PARSED,this.onManifestParsed,this),r.on(ct.ERROR,this.onError,this)}unregisterListeners(){const r=this.hls;r&&(r.off(ct.MANIFEST_LOADING,this.onManifestLoading,this),r.off(ct.MANIFEST_LOADED,this.onManifestLoaded,this),r.off(ct.MANIFEST_PARSED,this.onManifestParsed,this),r.off(ct.ERROR,this.onError,this))}startLoad(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){const r=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,r)}else this.loadSteeringManifest(this.uri)}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(r){const t=this.levels;t&&(this.levels=t.filter(l=>l!==r))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(r,t){const{contentSteering:l}=t;null!==l&&(this.pathwayId=l.pathwayId,this.uri=l.uri,this.started&&this.startLoad())}onManifestParsed(r,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}onError(r,t){const{errorAction:l}=t;if(2===l?.action&&1===l.flags){let f=this.pathwayPriority;const y=this.pathwayId;this.penalizedPathways[y]||(this.penalizedPathways[y]=performance.now()),!f&&this.levels&&(f=this.levels.reduce((N,H)=>(-1===N.indexOf(H.pathwayId)&&N.push(H.pathwayId),N),[])),f&&f.length>1&&(this.updatePathwayPriority(f),l.resolved=this.pathwayId!==y)}}filterParsedLevels(r){this.levels=r;let t=this.getLevelsForPathway(this.pathwayId);if(0===t.length){const l=r[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${l}"`),t=this.getLevelsForPathway(l),this.pathwayId=l}return t.length!==r.length?(this.log(`Found ${t.length}/${r.length} levels in Pathway "${this.pathwayId}"`),t):r}getLevelsForPathway(r){return null===this.levels?[]:this.levels.filter(t=>r===t.pathwayId)}updatePathwayPriority(r){let t;this.pathwayPriority=r;const l=this.penalizedPathways,f=performance.now();Object.keys(l).forEach(y=>{f-l[y]>3e5&&delete l[y]});for(let y=0;y<r.length;y++){const N=r[y];if(l[N])continue;if(N===this.pathwayId)return;const H=this.hls.nextLoadLevel,ee=this.hls.levels[H];if(t=this.getLevelsForPathway(N),t.length>0){this.log(`Setting Pathway to "${N}"`),this.pathwayId=N,this.hls.trigger(ct.LEVELS_UPDATED,{levels:t});const ae=this.hls.levels[H];ee&&ae&&this.levels&&(ae.attrs["STABLE-VARIANT-ID"]!==ee.attrs["STABLE-VARIANT-ID"]&&ae.bitrate!==ee.bitrate&&this.log(`Unstable Pathways change from bitrate ${ee.bitrate} to ${ae.bitrate}`),this.hls.nextLoadLevel=H);break}}}clonePathways(r){const t=this.levels;if(!t)return;const l={},f={};r.forEach(y=>{const{ID:N,"BASE-ID":H,"URI-REPLACEMENT":ee}=y;if(t.some(We=>We.pathwayId===N))return;const ae=this.getLevelsForPathway(H).map(We=>{const Ze=Ge({},We);Ze.details=void 0,Ze.url=mv(We.uri,We.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",ee);const Dt=new vi(We.attrs);Dt["PATHWAY-ID"]=N;const wt=Dt.AUDIO&&`${Dt.AUDIO}_clone_${N}`,Ht=Dt.SUBTITLES&&`${Dt.SUBTITLES}_clone_${N}`;wt&&(l[Dt.AUDIO]=wt,Dt.AUDIO=wt),Ht&&(f[Dt.SUBTITLES]=Ht,Dt.SUBTITLES=Ht),Ze.attrs=Dt;const zt=new Ac(Ze);return Yo(zt,"audio",wt),Yo(zt,"text",Ht),zt});t.push(...ae),mh(this.audioTracks,l,ee,N),mh(this.subtitleTracks,f,ee,N)})}loadSteeringManifest(r){const t=this.hls.config,l=t.loader;let f;this.loader&&this.loader.destroy(),this.loader=new l(t);try{f=new self.URL(r)}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${r}`)}if("data:"!==f.protocol){const We=0|(this.hls.bandwidthEstimate||t.abrEwmaDefaultEstimate);f.searchParams.set("_HLS_pathway",this.pathwayId),f.searchParams.set("_HLS_throughput",""+We)}const y={responseType:"json",url:f.href},N=t.steeringManifestLoadPolicy.default,H=N.errorRetry||N.timeoutRetry||{},ee={loadPolicy:N,timeout:N.maxLoadTimeMs,maxRetry:H.maxNumRetry||0,retryDelay:H.retryDelayMs||0,maxRetryDelay:H.maxRetryDelayMs||0},ae={onSuccess:(We,Ze,Dt,wt)=>{this.log(`Loaded steering manifest: "${f}"`);const Ht=We.data;if(1!==Ht.VERSION)return void this.log(`Steering VERSION ${Ht.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=Ht.TTL;const{"RELOAD-URI":zt,"PATHWAY-CLONES":on,"PATHWAY-PRIORITY":Sn}=Ht;if(zt)try{this.uri=new self.URL(zt,f).href}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${zt}`)}this.scheduleRefresh(this.uri||Dt.url),on&&this.clonePathways(on),Sn&&this.updatePathwayPriority(Sn)},onError:(We,Ze,Dt,wt)=>{if(this.log(`Error loading steering manifest: ${We.code} ${We.text} (${Ze.url})`),this.stopLoad(),410===We.code)return this.enabled=!1,void this.log(`Steering manifest ${Ze.url} no longer available`);let Ht=1e3*this.timeToLoad;if(429!==We.code)this.scheduleRefresh(this.uri||Ze.url,Ht);else{const zt=this.loader;if("function"==typeof zt?.getResponseHeader){const on=zt.getResponseHeader("Retry-After");on&&(Ht=1e3*parseFloat(on))}this.log(`Steering manifest ${Ze.url} rate limited`)}},onTimeout:(We,Ze,Dt)=>{this.log(`Timeout loading steering manifest (${Ze.url})`),this.scheduleRefresh(this.uri||Ze.url)}};this.log(`Requesting steering manifest: ${f}`),this.loader.load(y,ee,ae)}scheduleRefresh(r,t=1e3*this.timeToLoad){self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(()=>{this.loadSteeringManifest(r)},t)}}});function Pm(m){return m&&"object"==typeof m?Array.isArray(m)?m.map(Pm):Object.keys(m).reduce((r,t)=>(r[t]=Pm(m[t]),r),{}):m}let Gl=(()=>{class m{static get version(){return"1.4.10"}static isSupported(){return function _u(){const m=sa();if(!m)return!1;const r=yd();return!(!m||"function"!=typeof m.isTypeSupported||!m.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')||r&&(!r.prototype||"function"!=typeof r.prototype.appendBuffer||"function"!=typeof r.prototype.remove))}()}static get Events(){return ct}static get ErrorTypes(){return In}static get ErrorDetails(){return yn}static get DefaultConfig(){return m.defaultConfig?m.defaultConfig:Im}static set DefaultConfig(t){m.defaultConfig=t}constructor(t={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Tu,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,function $r(m,r){if(self.console&&!0===m||"object"==typeof m){!function Qi(m,...r){r.forEach(function(t){Wi[t]=m[t]?m[t].bind(m):function rr(m){const r=self.console[m];return r?r.bind(self.console,`[${m}] >`):mi}(t)})}(m,"debug","log","info","warn","error");try{Wi.log(`Debug logs enabled for "${r}" in hls.js version 1.4.10`)}catch{Wi=Ji}}else Wi=Ji}(t.debug||!1,"Hls instance");const l=this.config=function _v(m,r){if((r.liveSyncDurationCount||r.liveMaxLatencyDurationCount)&&(r.liveSyncDuration||r.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==r.liveMaxLatencyDurationCount&&(void 0===r.liveSyncDurationCount||r.liveMaxLatencyDurationCount<=r.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==r.liveMaxLatencyDuration&&(void 0===r.liveSyncDuration||r.liveMaxLatencyDuration<=r.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const t=Pm(m),f=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach(y=>{const N=`${"level"===y?"playlist":y}LoadPolicy`,H=void 0===r[N],ee=[];f.forEach(ae=>{const We=`${y}Loading${ae}`,Ze=r[We];if(void 0!==Ze&&H){ee.push(We);const Dt=t[N].default;switch(r[N]={default:Dt},ae){case"TimeOut":Dt.maxLoadTimeMs=Ze,Dt.maxTimeToFirstByteMs=Ze;break;case"MaxRetry":Dt.errorRetry.maxNumRetry=Ze,Dt.timeoutRetry.maxNumRetry=Ze;break;case"RetryDelay":Dt.errorRetry.retryDelayMs=Ze,Dt.timeoutRetry.retryDelayMs=Ze;break;case"MaxRetryTimeout":Dt.errorRetry.maxRetryDelayMs=Ze,Dt.timeoutRetry.maxRetryDelayMs=Ze}}}),ee.length&&An.warn(`hls.js config: "${ee.join('", "')}" setting(s) are deprecated, use "${N}": ${JSON.stringify(r[N])}`)}),$i($i({},t),r)}(m.DefaultConfig,t);this.userConfig=t,this._autoLevelCapping=-1,l.progressive&&function tg(m){const r=m.loader;r!==Mm&&r!==Xp?(An.log("[config]: Custom loader detected, cannot enable progressive streaming"),m.progressive=!1):function Dm(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}()&&(m.loader=Mm,m.progressive=!0,m.enableSoftwareAES=!0,An.log("[config]: Progressive streaming enabled, using FetchLoader"))}(l);const{abrController:f,bufferController:y,capLevelController:N,errorController:H,fpsController:ee}=l,ae=new H(this),We=this.abrController=new f(this),Ze=this.bufferController=new y(this),Dt=this.capLevelController=new N(this),wt=new ee(this),Ht=new tc(this),zt=new ml(this),on=l.contentSteeringController,Sn=on?new on(this):null,Bn=this.levelController=new pl(this,Sn),Ln=new _l(this),$n=new qc(this.config),zn=this.streamController=new ah(this,Ln,$n);Dt.setStreamController(zn),wt.setStreamController(zn);const ui=[Ht,Bn,zn];Sn&&ui.splice(1,0,Sn),this.networkControllers=ui;const ei=[We,Ze,Dt,wt,zt,Ln];this.audioTrackController=this.createController(l.audioTrackController,ui);const gi=l.audioStreamController;gi&&ui.push(new gi(this,Ln,$n)),this.subtitleTrackController=this.createController(l.subtitleTrackController,ui);const Ci=l.subtitleStreamController;Ci&&ui.push(new Ci(this,Ln,$n)),this.createController(l.timelineController,ei),$n.emeController=this.emeController=this.createController(l.emeController,ei),this.cmcdController=this.createController(l.cmcdController,ei),this.latencyController=this.createController(pd,ei),this.coreComponents=ei,ui.push(ae);const Xn=ae.onErrorOut;"function"==typeof Xn&&this.on(ct.ERROR,Xn,ae)}createController(t,l){if(t){const f=new t(this);return l&&l.push(f),f}return null}on(t,l,f=this){this._emitter.on(t,l,f)}once(t,l,f=this){this._emitter.once(t,l,f)}removeAllListeners(t){this._emitter.removeAllListeners(t)}off(t,l,f=this,y){this._emitter.off(t,l,f,y)}listeners(t){return this._emitter.listeners(t)}emit(t,l,f){return this._emitter.emit(t,l,f)}trigger(t,l){if(this.config.debug)return this.emit(t,t,l);try{return this.emit(t,t,l)}catch(f){An.error("An internal error happened while handling event "+t+'. Error message: "'+f.message+'". Here is a stacktrace:',f),this.trigger(ct.ERROR,{type:In.OTHER_ERROR,details:yn.INTERNAL_EXCEPTION,fatal:!1,event:t,error:f})}return!1}listenerCount(t){return this._emitter.listenerCount(t)}destroy(){An.log("destroy"),this.trigger(ct.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(l=>l.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(l=>l.destroy()),this.coreComponents.length=0;const t=this.config;t.xhrSetup=t.fetchSetup=void 0,this.userConfig=null}attachMedia(t){An.log("attachMedia"),this._media=t,this.trigger(ct.MEDIA_ATTACHING,{media:t})}detachMedia(){An.log("detachMedia"),this.trigger(ct.MEDIA_DETACHING,void 0),this._media=null}loadSource(t){this.stopLoad();const l=this.media,f=this.url,y=this.url=Aa.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});An.log(`loadSource:${y}`),l&&f&&(f!==y||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(l)),this.trigger(ct.MANIFEST_LOADING,{url:t})}startLoad(t=-1){An.log(`startLoad(${t})`),this.networkControllers.forEach(l=>{l.startLoad(t)})}stopLoad(){An.log("stopLoad"),this.networkControllers.forEach(t=>{t.stopLoad()})}swapAudioCodec(){An.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){An.log("recoverMediaError");const t=this._media;this.detachMedia(),t&&this.attachMedia(t)}removeLevel(t,l=0){this.levelController.removeLevel(t,l)}get levels(){return this.levelController.levels||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(t){An.log(`set currentLevel:${t}`),this.loadLevel=t,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(t){An.log(`set nextLevel:${t}`),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(t){An.log(`set loadLevel:${t}`),this.levelController.manualLevel=t}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(t){this.levelController.nextLoadLevel=t}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(t){An.log(`set firstLevel:${t}`),this.levelController.firstLevel=t}get startLevel(){return this.levelController.startLevel}set startLevel(t){An.log(`set startLevel:${t}`),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(t){const l=!!t;l!==this.config.capLevelToPlayerSize&&(l?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=l)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimate():NaN}get ttfbEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimateTTFB():NaN}set autoLevelCapping(t){this._autoLevelCapping!==t&&(An.log(`set autoLevelCapping:${t}`),this._autoLevelCapping=t)}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(t){ic.indexOf(t)>-1&&(this._maxHdcpLevel=t)}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:t,config:{minAutoBitrate:l}}=this;if(!t)return 0;const f=t.length;for(let y=0;y<f;y++)if(t[y].maxBitrate>=l)return y;return 0}get maxAutoLevel(){const{levels:t,autoLevelCapping:l,maxHdcpLevel:f}=this;let y;if(y=-1===l&&t&&t.length?t.length-1:l,f)for(let N=y;N--;){const H=t[N].attrs["HDCP-LEVEL"];if(H&&H<=f)return N}return y}get nextAutoLevel(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)}set nextAutoLevel(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get audioTracks(){const t=this.audioTrackController;return t?t.audioTracks:[]}get audioTrack(){const t=this.audioTrackController;return t?t.audioTrack:-1}set audioTrack(t){const l=this.audioTrackController;l&&(l.audioTrack=t)}get subtitleTracks(){const t=this.subtitleTrackController;return t?t.subtitleTracks:[]}get subtitleTrack(){const t=this.subtitleTrackController;return t?t.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(t){const l=this.subtitleTrackController;l&&(l.subtitleTrack=t)}get subtitleDisplay(){const t=this.subtitleTrackController;return!!t&&t.subtitleDisplay}set subtitleDisplay(t){const l=this.subtitleTrackController;l&&(l.subtitleDisplay=t)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(t){this.config.lowLatencyMode=t}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}return m.defaultConfig=void 0,m})();var _h=v(7700);function vv(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"button",7),n.NdJ("click",function(){const y=n.CHM(t).$implicit,N=n.oxw();return n.KtG(N.onClickDialogAction(y))}),n._uU(1),n.qZA()}if(2&m){const t=r.$implicit;n.xp6(1),n.Oqu(t.text)}}let ig=(()=>{class m{constructor(t,l){this.dialog=t,this.options=l}onClickDialogAction(t){this.dialog.close(t)}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(_h.so),n.Y36(_h.WI))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-custom-dialog-options"]],decls:9,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"custom-dialog-message"],[1,"modal-footer"],[1,"custom-dialog-options"],["ngFor","",3,"ngForOf"],["type","button",1,"custom-dialog-button",3,"click"]],template:function(l,f){1&l&&(n.TgZ(0,"div",0)(1,"h5",1),n._uU(2),n.qZA()(),n.TgZ(3,"div",2)(4,"div",3),n._uU(5),n.qZA()(),n.TgZ(6,"div",4)(7,"div",5),n.YNc(8,vv,2,1,"ng-template",6),n.qZA()()),2&l&&(n.xp6(2),n.Oqu(f.options.title),n.xp6(3),n.hij(" ",f.options.message," "),n.xp6(3),n.Q6J("ngForOf",f.options.actions))},dependencies:[g.sg],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return m})();class yv{}class rg{}class Om{}class bv{}class Ev{}const Tv=["controlsContainer"],Sv=["settingsContainer"],Fy=["videoPrincipalContainer"],By=["videoTarget"];function vh(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"button",55),n.NdJ("click",function(){n.CHM(t);const f=n.oxw(2);return n.KtG(f.goToPreviousEpisode())}),n._UZ(1,"i",56),n.qZA()}}function Cv(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"button",57),n.NdJ("click",function(){n.CHM(t);const f=n.oxw(2);return n.KtG(f.goToNextEpisode())}),n._UZ(1,"i",58),n.qZA()}}function Rm(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"button",59,60),n.NdJ("click",function(){n.CHM(t);const f=n.oxw(2);return n.KtG(f.playOrPauseVideo())}),n._UZ(2,"i",61),n.qZA()}}function Nm(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"button",62,63),n.NdJ("click",function(){n.CHM(t);const f=n.oxw(2);return n.KtG(f.playOrPauseVideo())}),n._UZ(2,"i",64),n.qZA()}}const Iu=function(m){return{"show-controls":m}};function Lm(m,r){if(1&m&&(n.TgZ(0,"div",65),n._uU(1," Cargando video... "),n.qZA()),2&m){const t=n.oxw(2);n.Q6J("ngClass",n.VKq(1,Iu,t.showControls))}}const yh=function(m){return{selected:m}};function uf(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"button",76),n.NdJ("click",function(){const y=n.CHM(t).$implicit,N=n.oxw(3);return n.KtG(N.onClickPrincipalSettingsOption(y))}),n._uU(1),n.qZA()}if(2&m){const t=r.$implicit,l=n.oxw(3);n.MGl("id","stream_option_",t.index,""),n.Q6J("ngClass",n.VKq(3,yh,l.currentSelectedPrincipalSettingOption&&t.index==l.currentSelectedPrincipalSettingOption.index)),n.xp6(1),n.hij(" ",t.name," ")}}function bh(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"button",76),n.NdJ("click",function(){const y=n.CHM(t).$implicit,N=n.oxw(4);return n.KtG(N.onClickStreamOption(y))}),n._uU(1),n.qZA()}if(2&m){const t=r.$implicit,l=n.oxw(4);n.hYB("id","stream_option_",l.currentSelectedPrincipalSettingOption.id,"_suboption_",t.index,""),n.Q6J("ngClass",n.VKq(4,yh,l.currentSelectedPrincipalSettingOption.selectedOption&&l.currentSelectedPrincipalSettingOption.selectedOption.index==t.index)),n.xp6(1),n.hij(" ",t.name," ")}}function ff(m,r){if(1&m&&(n.TgZ(0,"section",77),n.YNc(1,bh,2,6,"ng-template",74),n.qZA()),2&m){const t=n.oxw(3);n.MGl("id","streams_suboptions_section_",t.currentSelectedPrincipalSettingOption.index,""),n.xp6(1),n.Q6J("ngForOf",t.currentSelectedPrincipalSettingOption.listOptions)}}function og(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"section",66,67)(2,"div",68)(3,"section",69)(4,"div",70)(5,"div",71)(6,"button",72),n.NdJ("click",function(){n.CHM(t);const f=n.oxw(2);return n.KtG(f.hideSettings())}),n._UZ(7,"i",11),n.qZA()()()(),n.TgZ(8,"section",73),n.YNc(9,uf,2,5,"ng-template",74),n.qZA(),n.YNc(10,ff,2,2,"section",75),n.qZA()()}if(2&m){const t=n.oxw(2);n.xp6(9),n.Q6J("ngForOf",t.listPrincipalSettingsOptions),n.xp6(1),n.Q6J("ngIf",t.currentSelectedPrincipalSettingOption)}}function km(m,r){if(1&m&&n._UZ(0,"div",78),2&m){const t=r.$implicit,l=n.oxw(3);n.Udp("display",l.checkIfDisplaySubtitles(t)?"block":"none"),n.Q6J("innerHtml",t.text,n.oJD)}}function Eh(m,r){if(1&m&&n.YNc(0,km,1,3,"ng-template",74),2&m){const t=n.oxw(2);n.Q6J("ngForOf",t.currentSubtitleData)}}function Uy(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"video",79,80),n.NdJ("error",function(){n.CHM(t);const f=n.oxw(2);return n.KtG(f.onErrorVideo())})("loadedmetadata",function(){n.CHM(t);const f=n.oxw(2);return n.KtG(f.onLoadedMetadata())})("loadeddata",function(){n.CHM(t);const f=n.oxw(2);return n.KtG(f.onLoadedData())})("ended",function(){n.CHM(t);const f=n.oxw(2);return n.KtG(f.OnEndedVideo())}),n.qZA()}}const Fm=function(m){return{show:m}};function Bm(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"div",4,5),n.NdJ("click",function(){n.CHM(t);const f=n.MAs(1),y=n.oxw();return n.KtG(!y.sharedService.isMobileDevice()&&y.onClickVideoContainer(f))})("touchstart",function(){n.CHM(t);const f=n.MAs(1),y=n.oxw();return n.KtG(y.sharedService.isMobileDevice()&&y.onTouchVideoContainer(f))})("mousemove",function(){n.CHM(t);const f=n.MAs(1),y=n.oxw();return n.KtG(y.onMouseMoveVideoContainer(f))}),n.TgZ(2,"div",6)(3,"section",7,8)(5,"section",9)(6,"button",10),n.NdJ("click",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.closeVideo())}),n._UZ(7,"i",11),n.qZA(),n.TgZ(8,"div",12),n._uU(9),n.qZA()(),n.TgZ(10,"div",13)(11,"div",14)(12,"section",15)(13,"button",16)(14,"div",17,18),n._uU(16),n.qZA(),n.TgZ(17,"div",19)(18,"div",20),n.NdJ("contextmenu",function(){n.CHM(t);const f=n.MAs(23),y=n.oxw();return n.KtG(!y.sharedService.isMobileDevice()&&y.onClickSlider(f))})("click",function(){n.CHM(t);const f=n.MAs(23),y=n.oxw();return n.KtG(y.onClickSlider(f))})("touchend",function(){n.CHM(t);const f=n.MAs(23),y=n.oxw();return n.KtG(y.sharedService.isMobileDevice()&&y.onClickSlider(f))})("touchstart",function(f){n.CHM(t);const y=n.MAs(23),N=n.MAs(15),H=n.oxw();return n.KtG(H.sharedService.isMobileDevice()&&H.onTouchStartSlider(f,y,N))})("touchmove",function(f){n.CHM(t);const y=n.MAs(23),N=n.MAs(15),H=n.oxw();return n.KtG(H.sharedService.isMobileDevice()&&H.onTouchMoveSlider(f,y,N))})("mousedown",function(f){n.CHM(t);const y=n.MAs(23),N=n.oxw();return n.KtG(N.onMouseDownSlider(f,y))})("mousemove",function(f){n.CHM(t);const y=n.MAs(23),N=n.oxw();return n.KtG(N.onMouseMoveSlider(f,y))}),n._UZ(19,"div",21,22),n.TgZ(21,"div",23)(22,"div",24,25)(24,"div",26,25),n._UZ(26,"div",27,28),n.qZA()()()()(),n.TgZ(28,"div",17,29),n._uU(30),n.qZA()()(),n.TgZ(31,"section",30)(32,"div",31),n.YNc(33,vh,2,0,"button",32),n.qZA(),n.TgZ(34,"div",33)(35,"div",34),n.YNc(36,Cv,2,0,"button",35),n.TgZ(37,"button",36),n.NdJ("click",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.onChangeObjectContain())}),n._UZ(38,"i",37),n.qZA(),n.TgZ(39,"button",38),n.NdJ("click",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.toggleFullScreenVideo())}),n._UZ(40,"i",39),n.qZA(),n.TgZ(41,"button",40),n.NdJ("click",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.showSettings())}),n._UZ(42,"i",41),n.qZA()()()(),n.TgZ(43,"div",42)(44,"div",43)(45,"section",44)(46,"button",45),n.NdJ("click",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.rewindVideo())}),n._UZ(47,"i",46),n.qZA(),n.YNc(48,Rm,3,0,"button",47),n.YNc(49,Nm,3,0,"button",48),n.TgZ(50,"button",49),n.NdJ("click",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.forwardVideo())}),n._UZ(51,"i",50),n.qZA()()()()()()(),n.YNc(52,Lm,2,3,"div",51),n.YNc(53,og,11,2,"section",52),n.YNc(54,Eh,1,1,"ng-template",53),n.YNc(55,Uy,2,0,"video",54),n.qZA()()}if(2&m){const t=n.MAs(15),l=n.MAs(20),f=n.MAs(29),y=n.oxw();n.xp6(3),n.Q6J("ngClass",n.VKq(22,Fm,y.showControls)),n.xp6(6),n.hij(" ",y.GetFullVideoTitle()," "),n.xp6(5),n.Udp("visibility",y.showControls?"":"hidden"),n.xp6(2),n.hij(" ",y.getVideoTime()," "),n.xp6(1),n.Udp("width","calc(100% - "+(t.offsetWidth+f.offsetWidth)+"px)"),n.xp6(5),n.Udp("width",l.offsetWidth+"px"),n.xp6(4),n.Udp("width",y.getSliderPogressWidth()),n.xp6(2),n.Udp("visibility",y.showControls?"":"hidden"),n.xp6(2),n.hij(" ",y.getDurationTime()," "),n.xp6(3),n.Q6J("ngIf",y.isEnablePreviousEpisodeButton()),n.xp6(3),n.Q6J("ngIf",y.isEnableNextEpisodeButton()),n.xp6(12),n.Q6J("ngIf",!y.isPlayingVideo()),n.xp6(1),n.Q6J("ngIf",y.isPlayingVideo()),n.xp6(3),n.Q6J("ngIf",!y.loadedData),n.xp6(1),n.Q6J("ngIf",y.showingSettings),n.xp6(1),n.Q6J("ngIf",y.currentSubtitleData),n.xp6(1),n.Q6J("ngIf",y.showVideoTarget)}}let Um=(()=>{class m{constructor(t,l,f,y,N,H,ee,ae,We){this.signalIrService=t,this.activeRoute=l,this.router=f,this.libraryService=y,this.dialog=N,this.restProvider=H,this.sharedService=ee,this.ref=ae,this.http=We,this._window=window,this.showVideo=!0,this.lastCurrentTime=0,this.showControls=!1,this.currentSubtitleData=void 0,this.haveError=!1,this.currentEpisode={},this.lastClickSeekButton=new Date,this.countSeekSecondsToAdvance=0,this.isUpdatingVideoSource=!1,this.showingSettings=!1,this.listPrincipalSettingsOptions=[{index:0,name:"AUDIO",listOptions:[],selectedOption:null},{index:1,name:"SUBT\xcdTULOS",listOptions:[],selectedOption:null}],this.lastRealVideoTime=0,this.initializeVideo=!1,this.showVideoTarget=!1,this.loadedData=!1,this.beforeUnloadFunction=!1,this.isRetranscoding=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(Ze=>{this.mediaServer&&this.mediaServer.Guid==Ze&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.getMediaItemDetailByMediaFileAndProfile())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(Ze=>{this.mediaServer&&this.mediaServer.Guid==Ze&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1,this.router.navigateByUrl("/media/server/"+Ze))}),this.subscriptionRemovedMediaFilePlayback=this.signalIrService.isRemovedMediaFilePlayback().subscribe(Ze=>{this.mediaServer&&this.mediaServer.Guid==Ze.mediaServerGuid&&this.transcodedMediaFile&&this.transcodedMediaFile.Guid==Ze.mediaFilePlaybackGuid&&this.router.navigateByUrl("/media/server/"+Ze.mediaServerGuid)})}ngOnInit(){this.initializeEventsAndIntervals();var t=this.activeRoute.snapshot.params.serverGuid;if(null!=t){var l=this.sharedService.mediaServers.find(f=>f.Guid==t);l&&(this.mediaServer=JSON.parse(JSON.stringify(l)),this.mediaServer.isSecureConnection?this.getMediaItemDetailByMediaFileAndProfile():setTimeout(()=>{0==this.mediaServer.isSecureConnection&&this.router.navigateByUrl("/media/server/"+t)},3e3))}else this.router.navigateByUrl("/404")}ngOnDestroy(){!this.sharedService.configurationData.alwaysFullScreen&&document.fullscreenElement&&document.exitFullscreen(),this.deleteTranscodedMediaFile(),this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe(),this.subscriptionRemovedMediaFilePlayback.unsubscribe(),this.dashMediaPlayer&&(this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy()),this.hls&&(this.hls.detachMedia(),this.hls.destroy()),this.detectChangesInterval&&window.clearInterval(this.detectChangesInterval),this.customMouseOutEvent&&window.removeEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction&&window.removeEventListener("beforeunload",this.beforeUnloadFunction),this.timeOutLoadVideoId&&(clearTimeout(this.timeOutLoadVideoId),this.timeOutLoadVideoId=void 0)}initializeEventsAndIntervals(){let t=this;this.customMouseOutEvent=function(f){t.sliderContainer&&t.sliderContainer.startMove&&t.onClickSlider(t.sliderContainer)},window.addEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction=function(f){t.deleteTranscodedMediaFile()},window.addEventListener("beforeunload",this.beforeUnloadFunction),this.detectChangesInterval=window.setInterval(function(){t.mediaServer&&t.transcodedMediaFile&&!t.isRetranscoding&&t.signalIrService.updateCurrentTimeMediaFilePlayBack(t.mediaServer.Guid,t.transcodedMediaFile.Guid,t.getCurrentVideoTime(),t.isPlayingVideo()),t.ref.detectChanges()},0)}getMediaItemDetailByMediaFileAndProfile(){var t=this.activeRoute.snapshot.params.mediaFileId;t?this.libraryService.GetMediaItemDetailByMediaFileAndProfile(this.mediaServer.Url,t,this.sharedService.currentProfile.Id).then(l=>{this.itemDetail=l,this.CreateTranscodedMediaFile()},l=>{this.router.navigateByUrl("/404")}):this.router.navigateByUrl("/404")}CreateTranscodedMediaFile(){this.loadStatus=p.O5.Empty;var t=0;this.itemDetail.MediaFileProfile&&(t=this.itemDetail.MediaFileProfile.CurrentTime>20?this.itemDetail.MediaFileProfile.CurrentTime-20:0),this.restProvider.executeHttpMediaServerApi(p.yw.POST,this.mediaServer.Url+"/api/mediaFilePlaybacks/CreateTranscodedMediaFile",this.GetMediaFilePlayback(t)).then(f=>{this.loadStatus=p.O5.Generated,this.transcodedMediaFile=f.Data,this.initializeStreams(),setTimeout(()=>{this.executeHideControls()},1e3),this.getVideoSource()},f=>{this.showLoadVideoErrorActionsDialog(),console.error(f)})}GetMediaFilePlayback(t){var l;(l=new yv).Guid=(0,tl.Z)();var f=new rg;f.ProfileId=this.sharedService.currentProfile.Id,f.ProfileName=this.sharedService.currentProfile.FullName,f.AvatarPath=this.sharedService.currentProfile.AvatarPath,l.ProfileData=f;var y=new Om;if(y.DeviceData=this.sharedService.deviceData,y.IsPlaying=!0,y.CurrentTime=t,l.ClientData=y,this.itemDetail.MediaItem.MediaTypeId==p.DD.Movie){var N=new bv,H=this.itemDetail.ListMediaFiles[0];N.Title=this.itemDetail.MediaItem.ExtendedTitle,N.PhysicalPath=H.PhysicalPath,N.MediaFileId=H.Id,N.PosterPath=this.getPosterPath(this.itemDetail.MediaItem,H),l.ItemData=N}return this.itemDetail.MediaItem.MediaTypeId==p.DD.TvSerie&&((N=new bv).MediaFileId=(H=this.itemDetail.CurrentEpisode.ListMediaFiles[0]).Id,N.PhysicalPath=H.PhysicalPath,N.Title=this.itemDetail.MediaItem.Title,N.Subtitle="T"+this.itemDetail.CurrentEpisode.SeasonNumber+":E"+this.itemDetail.CurrentEpisode.EpisodeNumber+" "+this.itemDetail.CurrentEpisode.Name,N.PosterPath=this.getPosterPath(this.itemDetail.MediaItem,H),l.ItemData=N),l}getPosterPath(t,l){return t.MetadataAgentsId==p.DM.TMDb?this.sharedService.originalUrlImagesMovieDataBase+t.PosterPath:t.PosterPath?t.PosterPath:this.mediaServer.Url+"/media/"+l.Guid+"/thumbnail.png"}retranscodeMediaFile(t){this.deleteLastTranscodedMediaFileProcess();var l=new Ev;l.Guid=this.transcodedMediaFile.Guid,l.NewTime=t,this.loadStatus=p.O5.Empty;let f=this.mediaServer.Url+"/api/mediaFilePlaybacks/RetranscodeMediaFile";this.isRetranscoding=!0,this.restProvider.executeHttpMediaServerApi(p.yw.PUT,f,l).then(y=>{this.isRetranscoding=!1,this.transcodedMediaFile.InitialTime=t,this.transcodedMediaFile.Url=y.Data,this.loadStatus=p.O5.Generated,this.updateAudioAndVideoList(),this.getVideoSource()},y=>{this.isRetranscoding=!1,this.showLoadVideoErrorActionsDialog(),console.error(y)})}deleteTranscodedMediaFile(){this.timeOutLoadVideoId&&(clearTimeout(this.timeOutLoadVideoId),this.timeOutLoadVideoId=void 0),this.signalIrService.removeMediaFilePlayBack(this.mediaServer.Guid,this.transcodedMediaFile.Guid)}deleteLastTranscodedMediaFileProcess(){this.timeOutLoadVideoId&&(clearTimeout(this.timeOutLoadVideoId),this.timeOutLoadVideoId=void 0),this.signalIrService.removeLastTranscodedMediaFileProcess(this.mediaServer.Guid,this.transcodedMediaFile.Guid)}GetFullVideoTitle(){var t="";return this.itemDetail&&this.itemDetail.MediaItem.MediaTypeId==p.DD.Movie&&(t=this.itemDetail.MediaItem.ExtendedTitle),this.itemDetail&&this.itemDetail.MediaItem.MediaTypeId==p.DD.TvSerie&&(t=this.itemDetail.MediaItem.Title+" T"+this.itemDetail.CurrentEpisode.SeasonNumber+":E"+this.itemDetail.CurrentEpisode.EpisodeNumber+" "+this.itemDetail.CurrentEpisode.Name),t}isEnablePreviousEpisodeButton(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let t=this.itemDetail.CurrentSeason.SeasonNumber,f=this.itemDetail.CurrentEpisode.EpisodeNumber-1;if(-1!=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(N=>N.EpisodeNumber==f))return!0;{let N=t-1,H=this.itemDetail.ListSeasons.findIndex(ee=>ee.SeasonNumber==N);if(-1!=H){let ee=this.itemDetail.ListSeasons[H];return!!(ee&&ee.ListEpisodes&&ee.ListEpisodes.length)}return!1}}return!1}isEnableNextEpisodeButton(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let t=this.itemDetail.CurrentSeason.SeasonNumber,f=this.itemDetail.CurrentEpisode.EpisodeNumber+1;if(-1!=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(N=>N.EpisodeNumber==f))return!0;{let N=t+1,H=this.itemDetail.ListSeasons.findIndex(ee=>ee.SeasonNumber==N);if(-1!=H){let ee=this.itemDetail.ListSeasons[H];return!!(ee&&ee.ListEpisodes&&ee.ListEpisodes.length)}return!1}}return!1}goToNextEpisode(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let t=this.itemDetail.CurrentSeason.SeasonNumber,f=this.itemDetail.CurrentEpisode.EpisodeNumber+1,y=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(N=>N.EpisodeNumber==f);if(-1!=y)this.getVideoByEpisode(this.itemDetail.CurrentSeason.ListEpisodes[y]);else{let N=t+1,H=this.itemDetail.ListSeasons.findIndex(ee=>ee.SeasonNumber==N);if(-1!=H){let ee=this.itemDetail.ListSeasons[H];this.itemDetail.CurrentSeason=ee,ee&&ee.ListEpisodes&&ee.ListEpisodes.length&&this.getVideoByEpisode(ee.ListEpisodes[0])}}}}goToPreviousEpisode(){if(this.itemDetail&&this.itemDetail.ListSeasons&&this.itemDetail.ListSeasons.length>0&&this.itemDetail.CurrentSeason){let t=this.itemDetail.CurrentSeason.SeasonNumber,f=this.itemDetail.CurrentEpisode.EpisodeNumber-1,y=this.itemDetail.CurrentSeason.ListEpisodes.findIndex(N=>N.EpisodeNumber==f);if(-1!=y)this.getVideoByEpisode(this.itemDetail.CurrentSeason.ListEpisodes[y]);else{let N=t+1,H=this.itemDetail.ListSeasons.findIndex(ee=>ee.SeasonNumber==N);if(-1!=H){let ee=this.itemDetail.ListSeasons[H];this.itemDetail.CurrentSeason=ee,ee&&ee.ListEpisodes&&ee.ListEpisodes.length&&this.getVideoByEpisode(ee.ListEpisodes[ee.ListEpisodes.length-1])}}}}getVideoByEpisode(t){this.deleteTranscodedMediaFile(),this.itemDetail.ListSeasons&&(this.itemDetail.CurrentSeason=this.itemDetail.ListSeasons.find(f=>f.SeasonNumber==t.SeasonNumber),this.itemDetail.CurrentEpisode=this.itemDetail.CurrentSeason.ListEpisodes.find(f=>f.EpisodeNumber==t.EpisodeNumber)),this.lastRealVideoTime=0,this.resetStream(),this.loadStatus=p.O5.Empty,this.restProvider.executeHttpMediaServerApi(p.yw.POST,this.mediaServer.Url+"/api/mediaFilePlaybacks/CreateTranscodedMediaFile",this.GetMediaFilePlayback(0)).then(f=>{this.loadStatus=p.O5.Generated,this.transcodedMediaFile=f.Data,this.initializeStreams(),this.getVideoSource()},f=>{this.showLoadVideoErrorActionsDialog(),console.error(f)})}onTouchVideoContainer(t){this.showingSettings||this.sharedService.isMobileDevice()&&this.showControlsTemporarily(t)}onClickVideoContainer(t){this.showingSettings||(t.clicked=!0,setTimeout(()=>{t.clicked=!1},2e3),this.sharedService.isMobileDevice()||this.showControlsTemporarily(t))}onTouchStartSlider(t,l,f){this.sliderContainer=l,l.startMove=!0,this.lastTmpVideoTime=(t.changedTouches[0].clientX-f.offsetWidth-8-4)/l.offsetWidth*100*this.transcodedMediaFile.Duration/100}onTouchMoveSlider(t,l,f){l.startMove&&(this.lastTmpVideoTime=(t.changedTouches[0].clientX-f.offsetWidth-8-4)/l.offsetWidth*100*this.transcodedMediaFile.Duration/100)}showSettings(){this.showControls=!1,this.ref.detectChanges(),this.showingSettings=!0,this.ref.detectChanges()}hideSettings(){this.showingSettings=!1,this.ref.detectChanges()}onClickPrincipalSettingsOption(t){this.currentSelectedPrincipalSettingOption=t}onClickStreamOption(t){this.currentSelectedPrincipalSettingOption.selectedOption=t,this.showingSettings=!1,this.ref.detectChanges(),0==this.currentSelectedPrincipalSettingOption.index&&(this.hls.audioTrack=t.index),1==this.currentSelectedPrincipalSettingOption.index&&(1e6==t.index?this.hls.subtitleDisplay=!1:(this.hls.subtitleTrack=t.index,this.hls.subtitleDisplay=!0))}getSubtitle(t){let l=this;this.http.get(t,{responseType:"text"}).subscribe(f=>{f&&(0,Ga.Q)(f)&&(0,Ga.Q)(f).entries?(l.currentSubtitleData=(0,Ga.Q)(f).entries,0==l.currentSubtitleData.length?setTimeout(()=>{l.getSubtitle(t)},1e3):l.ref.detectChanges()):(console.error("No hay data en los subtitulos aun"),setTimeout(()=>{l.getSubtitle(t)},1e3))},f=>{console.error(f),setTimeout(()=>{l.getSubtitle(t)},1e3)})}closeVideo(){this.router.navigateByUrl("/home")}getConfirmMessage(){var t="Vacio";switch(this.loadStatus){case p.O5.Empty:t="Vac\xedo";break;case p.O5.Generated:t="Generado";break;case p.O5.Initialized:t="Inicializado";break;case p.O5.LoadedMetada:t="Cargado Metadata";break;case p.O5.LoadedData:t="Cargado Data"}return"Hubo un error al intentar reproducir el video, se quedo con el estado de "+t+", desea intentarlo de nuevo?"}updateAudioAndVideoList(){if(this.listPrincipalSettingsOptions[0].listOptions=[],this.listPrincipalSettingsOptions[0].selectedOption=void 0,this.listPrincipalSettingsOptions[1].listOptions=[],this.listPrincipalSettingsOptions[1].selectedOption=void 0,this.transcodedMediaFile.ListAudioStreams&&this.transcodedMediaFile.ListAudioStreams.length>0&&(this.transcodedMediaFile.ListAudioStreams.forEach(t=>{let l="";"spa"==t.language&&(l="Espa\xf1ol"),"eng"==t.language&&(l="Ingles"),t.title&&(l=l+" ("+t.title+")"),t.name=l}),this.listPrincipalSettingsOptions[0].listOptions=this.transcodedMediaFile.ListAudioStreams,this.listPrincipalSettingsOptions[0].selectedOption=this.transcodedMediaFile.ListAudioStreams.find(t=>1==t.isDefault)),this.transcodedMediaFile.ListSubtitleStreams&&this.transcodedMediaFile.ListSubtitleStreams.length>0){this.transcodedMediaFile.ListSubtitleStreams.forEach(f=>{let y="";"spa"==f.language&&(y="Espa\xf1ol"),"eng"==f.language&&(y="Ingles"),f.title&&(y=y+" ("+f.title+")"),f.name=y});let t=[];t.push({index:1e6,name:"Ninguno"}),t=t.concat(this.transcodedMediaFile.ListSubtitleStreams),this.listPrincipalSettingsOptions[1].listOptions=t;let l=this.transcodedMediaFile.ListSubtitleStreams.find(f=>1==f.isDefault);null==l&&(l=t.find(f=>1e6==f.index)),this.listPrincipalSettingsOptions[1].selectedOption=l}this.currentSelectedPrincipalSettingOption=this.listPrincipalSettingsOptions[0]}initializeStreams(){this.updateAudioAndVideoList(),this.lastRealVideoTime=null!=this.transcodedMediaFile.InitialTime?this.transcodedMediaFile.InitialTime:0}executeHideControls(){this.sliderContainer&&this.sliderContainer.startMove?setTimeout(()=>{this.executeHideControls()},2e3):this.showControls=!1}getDurationTime(){return this.transcodedMediaFile&&this.transcodedMediaFile.Duration?this.getFormatTime(this.transcodedMediaFile.Duration):"00:00:00"}getFormatTime(t){var l=parseInt(t,10),f=Math.floor(l/3600),y=Math.floor((l-3600*f)/60),N=l-3600*f-60*y;return f<10&&(f="0"+f),y<10&&(y="0"+y),N<10&&(N="0"+N),f+":"+y+":"+N}getVideoTime(){if(this.lastTmpVideoTime)return this.getFormatTime(this.lastTmpVideoTime);{let t=this.getCurrentVideoTime();return null!=t&&t>0?this.getFormatTime(t):"00:00:00"}}onMouseDownSlider(t,l){this.sliderContainer=l,l.startMove=!0,this.calculateNewTimeToGo(t,l)}onMouseMoveSlider(t,l){l.startMove&&this.calculateNewTimeToGo(t,l)}calculateNewTimeToGo(t,l){this.lastTmpVideoTime=t.offsetX/l.offsetWidth*100*this.transcodedMediaFile.Duration/100}resetStream(){this.showVideoTarget=!1,this.loadedData=!1,null!=this.dashMediaPlayer&&(this.dashMediaPlayer.resetSettings(),this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy(),this.dashMediaPlayer=void 0),this.hls&&(this.hls.destroy(),this.hls=void 0)}onClickSlider(t){if(this.lastTmpVideoTime){if(t.startMove=!1,this.lastTmpVideoTime>this.getCurrentVideoTime()){let l=this.lastTmpVideoTime-this.getCurrentVideoTime();this.executeForwardVideo(l)}else if(this.lastTmpVideoTime<this.getCurrentVideoTime()){let l=this.getCurrentVideoTime()-this.lastTmpVideoTime;this.executeRewindVideo(l)}this.lastTmpVideoTime=void 0}}getSliderPogressWidth(){if(this.transcodedMediaFile&&this.transcodedMediaFile.Duration){let t=this.transcodedMediaFile.Duration,f=(this.lastTmpVideoTime?this.lastTmpVideoTime:this.getCurrentVideoTime())/t*100;return f>100&&(f=100),f+"%"}return 0}OnEndedVideo(){this.isEnableNextEpisodeButton()&&this.goToNextEpisode()}isPlayingVideo(){return this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==p.Ln.MPEGDASH?!(!this.dashMediaPlayer||this.dashMediaPlayer.isPaused()):!(!this.videoTarget||0!=this.videoTarget.nativeElement.paused)}playOrPauseVideo(){console.log("subtitle tracks"),console.log(this.hls.subtitleTracks),console.log("audio tracks"),console.log(this.hls.audioTracks),this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==p.Ln.MPEGDASH?this.dashMediaPlayer&&(this.dashMediaPlayer.isPaused()?this.dashMediaPlayer.play():this.dashMediaPlayer.pause()):this.videoTarget&&(this.videoTarget.nativeElement.paused?this.videoTarget.nativeElement.play():this.videoTarget.nativeElement.pause())}showVideoInFullScreen(){this.toggleFullScreenVideo()}toggleFullScreenVideo(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}displayVideoUsingDash(t){let l=this;this.dashMediaPlayer=Bs.MediaPlayer().create(),this.dashMediaPlayer.updateSettings({streaming:{gaps:{jumpGaps:!0,jumpLargeGaps:!0,enableSeekFix:!0,enableStallFix:!0},buffer:{bufferPruningInterval:this.transcodedMediaFile.Duration,bufferToKeep:this.transcodedMediaFile.Duration}}}),this.dashMediaPlayer.initialize(this.videoTarget.nativeElement,t),this.dashMediaPlayer.on(Bs.MediaPlayer.events.ERROR,function(f){console.log(f),console.error("hubo un error")}),this.dashMediaPlayer.on(Bs.MediaPlayer.events.PLAYBACK_ERROR,function(f){console.log(f),console.error("hubo un error de playback")}),this.dashMediaPlayer.on(Bs.MediaPlayer.events.PLAYBACK_WAITING,function(f){console.error("PLAYBACK_WAITING"),console.log(f)}),this.dashMediaPlayer.on(Bs.MediaPlayer.events.BUFFER_EMPTY,function(f){console.error("BUFFER_EMPTY"),console.log(f)}),this.dashMediaPlayer.on(Bs.MediaPlayer.events.STREAM_INITIALIZED,function(f){console.error("STREAM_INITIALIZED"),l.initializeVideo=!0,console.log(f)}),this.ref.detectChanges(),this.dashMediaPlayer.play(),this.showVideoInFullScreen()}getCurrentVideoTime(){return this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==p.Ln.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()?this.lastRealVideoTime+this.dashMediaPlayer.time():this.lastRealVideoTime:this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime?this.lastRealVideoTime+this.videoTarget.nativeElement.currentTime:this.lastRealVideoTime}checkIfDisplaySubtitles(t){let f=1e3*(this.getCurrentVideoTime()-1);return t.from<=f&&t.to>=f}onDeclineReplyVideo(){this.closeVideo()}onConfirmReplyVideo(){this.lastRealVideoTime=this.getCurrentVideoTime()-2>=0?this.getCurrentVideoTime()-2:0,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)}onLoadedMetadata(){this.loadStatus=p.O5.LoadedMetada,console.log("onLoadedMetadata")}onLoadedData(){console.log("onLoadedData"),this.loadStatus=p.O5.LoadedData,this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play())}onErrorVideo(){console.log("onErrorVideo")}getVideoSource(){this.http.get(this.transcodedMediaFile.Url,{headers:void 0,responseType:"blob"}).subscribe(t=>{this.loadStatus=p.O5.Initialized,this.showVideoTarget=!0,this.ref.detectChanges(),-1!=this.transcodedMediaFile.Url.indexOf("mpd")?this.displayVideoUsingDash(this.transcodedMediaFile.Url):-1!=this.transcodedMediaFile.Url.indexOf("m3u8")?this.displayVideoUsingHLS(this.transcodedMediaFile.Url):(this.videoTarget.nativeElement.src=this.transcodedMediaFile.Url,this.videoTarget.nativeElement.currentTime=this.lastRealVideoTime,this.lastRealVideoTime=0,this.videoTarget.nativeElement.play())},t=>{console.error(t),this.showLoadVideoErrorActionsDialog()})}displayVideoUsingHLS(t){let l=this;this.timeOutLoadVideoId=setTimeout(()=>{l.loadStatus!=p.O5.LoadedData&&l.showLoadVideoErrorActionsDialog()},1e4,l),this.showVideoInFullScreen(),Gl.isSupported()?(this.hls=new Gl,this.hls.attachMedia(this.videoTarget.nativeElement),this.hls.loadSource(t),this.hls.on(Gl.Events.MEDIA_ATTACHED,function(f){console.log("MEDIA_ATTACHED"),console.log(f)}),this.hls.on(Gl.Events.AUDIO_TRACK_LOADED,function(f){console.log("AUDIO_LOADED"),console.log(f)}),this.hls.on(Gl.Events.MANIFEST_LOADED,function(f){console.log("MANIFEST_LOADED"),console.log(f)}),this.hls.on(Gl.Events.MANIFEST_PARSED,function(f){console.log("MANIFEST_PARSED"),console.log(f)}),this.hls.on(Gl.Events.ERROR,function(f){l.videoTarget.nativeElement.CurrentTime=l.videoTarget.nativeElement.CurrentTime+1,console.error("Ocurrio un error"),console.log(f)})):(this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.src=t,this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play()))}onChangeObjectContain(){"contain"==this.videoTarget.nativeElement.style.objectFit||""==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="cover":"cover"==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="fill":"fill"==this.videoTarget.nativeElement.style.objectFit&&(this.videoTarget.nativeElement.style.objectFit="contain")}callUpdateVideoData(t){let l=(0,tl.Z)();this.lastTimeSpanChangeGUID=l,setTimeout(()=>{l==this.lastTimeSpanChangeGUID&&this.retranscodeMediaFile(t)},1e3)}rewindVideo(){this.executeRewindVideo(10)}executeRewindVideo(t){this.initializeVideo=!1;let l=0;l=this.getCurrentVideoTime()-t>=0?t:this.getCurrentVideoTime(),this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==p.Ln.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()>l?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()-l):(this.lastRealVideoTime=this.getCurrentVideoTime()-l,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.currentTime>l?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime-l:(this.lastRealVideoTime=this.getCurrentVideoTime()-l,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}forwardVideo(){this.executeForwardVideo(10)}executeForwardVideo(t){if(this.initializeVideo=!1,this.getCurrentVideoTime()<this.transcodedMediaFile.Duration){let l=0;l=this.getCurrentVideoTime()+t>this.transcodedMediaFile.Duration?this.transcodedMediaFile.Duration>this.getCurrentVideoTime()?this.transcodedMediaFile.Duration-this.getCurrentVideoTime():0:t,this.transcodedMediaFile&&this.transcodedMediaFile.VideoTransmissionTypeId==p.Ln.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.duration()-this.dashMediaPlayer.time()>=l?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()+l):(this.lastRealVideoTime=this.getCurrentVideoTime()+l,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.duration&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.duration-this.videoTarget.nativeElement.currentTime>=l?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime+l:(this.lastRealVideoTime=this.getCurrentVideoTime()+l,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}}onMouseMoveVideoContainer(t){!this.showControls&&!t.clicked&&!this.showingSettings&&this.showControlsTemporarily(t)}executeShowControlsTemporarily(t,l){this.showControls=!0,this.ref.detectChanges(),setTimeout(()=>{t.guid==l&&this.executeHideControls()},2e3)}showControlsTemporarily(t){if(!this.showControls){let l=(0,tl.Z)();t.guid=l,this.sharedService.isMobileDevice()?setTimeout(()=>{this.executeShowControlsTemporarily(t,l)},250):this.executeShowControlsTemporarily(t,l)}}toogleVideoControls(t){this.showControls?this.showControls=!0:this.showControlsTemporarily(t)}showLoadVideoErrorActionsDialog(){var t=new _h.vA;t.disableClose=!0,t.data={title:"Mensaje",message:this.getConfirmMessage(),actions:[{text:"No",key:"No"},{text:"Si",key:"Si"}]},this.dialog.open(ig,t).afterClosed().subscribe(l=>{"Si"==l.key&&this.onConfirmReplyVideo(),"No"==l.key&&this.onDeclineReplyVideo()})}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(hs.n),n.Y36(A.gz),n.Y36(A.F0),n.Y36(Fs.$),n.Y36(_h.uw),n.Y36(P.C),n.Y36(w.F),n.Y36(n.sBO),n.Y36(b.eN))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-video"]],viewQuery:function(l,f){if(1&l&&(n.Gf(Tv,5),n.Gf(Sv,5),n.Gf(Fy,5),n.Gf(By,5)),2&l){let y;n.iGM(y=n.CRH())&&(f.controlsContainer=y.first),n.iGM(y=n.CRH())&&(f.settingsContainer=y.first),n.iGM(y=n.CRH())&&(f.videoPrincipalContainer=y.first),n.iGM(y=n.CRH())&&(f.videoTarget=y.first)}},decls:4,vars:1,consts:[[1,"sinovad-container-video"],["id","videoPrincipalContainer",1,"sinovad-video-principal-container","sinovad-custom-container",2,"width","100%","height","100%"],["videoPrincipalContainer",""],["class","sinovad-video-container",3,"click","touchstart","mousemove",4,"ngIf"],[1,"sinovad-video-container",3,"click","touchstart","mousemove"],["videoContainer",""],[1,"sinovad-full-screen-video-container"],["tabindex","0",1,"sinovad-controls-container",3,"ngClass"],["controlsContainer",""],["id","videoHeaderSection","tabindex","0",1,"sinovad-video-header-section"],["id","backVideoButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-chevron-left"],[1,"sinovad-video-header-section-title-container"],[1,"sinovad-full-screen-video-popup-footer"],[2,"width","100%"],["id","section_progress_bar",1,"sinovad-progress-bar-container"],["id","sliderButton",1,"sinovad-progress-bar"],[1,"sinovad-current-time"],["controlLeft",""],[1,"sinovad-slider-container"],["tabindex","-1",1,"sinovad-slider-content",3,"contextmenu","click","touchend","touchstart","touchmove","mousedown","mousemove"],[1,"sinovad-slider-fills"],["silderFills",""],[2,"width","0px"],[1,"sinovad-slider-fills-progress-container"],["sliderContainer",""],[1,"sinovad-slider-fills-progress-content"],[1,"sinovad-slider-fills-progress"],["silderProgress",""],["controlRight",""],["id","section_video_secondary_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-episode-buttons-section","sinovad-section"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-left"],["id","previousButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-right"],[2,"display","flex","align-items","center","float","right"],["id","nextButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],["id","aspectRatio",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-maximize"],["id","fullScreenButton",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-expand"],["id","settingsOption",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-gear"],[1,"sinovad-section",2,"display","flex","height","50px"],[1,"sinovad-full-screen-video-popup-footer-center"],["id","section_video_principal_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-footer-center-content"],["id","rewindButton",1,"sinovad-video-control-button",2,"margin-right","25px",3,"click"],[1,"fa-solid","fa-rotate-left"],["id","playButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","stopButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","forwardButton",1,"sinovad-video-control-button",2,"margin-left","25px",3,"click"],[1,"fa-solid","fa-rotate-right"],["class","sinovad-loading-video",3,"ngClass",4,"ngIf"],["class","easy-media-settings-section-container","tabindex","0",4,"ngIf"],[3,"ngIf"],["id","video","class","sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended",4,"ngIf"],["id","previousButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-backward-step"],["id","nextButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-forward-step"],["id","playButton",1,"sinovad-video-control-button","principal",3,"click"],["playButton",""],[1,"fa-solid","fa-play"],["id","stopButton",1,"sinovad-video-control-button","principal",3,"click"],["stopButton",""],[1,"fa-solid","fa-pause"],[1,"sinovad-loading-video",3,"ngClass"],["tabindex","0",1,"easy-media-settings-section-container"],["settingsContainer",""],[1,"easy-media-settings-section-content"],["id","section_settings_back_button","tabindex","0",1,"sinovad-settings-options-header-section"],[1,"sinovad-settings-section-container-left"],[1,"sinovad-settings-section-content-left"],["id","closeSettings",1,"sinovad-video-control-button",3,"click"],["id","streams_options_section","tabindex","0",1,"sinovad-settings-options-section"],["ngFor","",3,"ngForOf"],["class","sinovad-settings-suboptions-section","tabindex","0",3,"id",4,"ngIf"],[3,"id","ngClass","click"],["tabindex","0",1,"sinovad-settings-suboptions-section",3,"id"],[1,"sinovad-subtitles-forzed-section",3,"innerHtml"],["id","video",1,"sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended"],["videoTarget",""]],template:function(l,f){1&l&&(n.TgZ(0,"div",0)(1,"div",1,2),n.YNc(3,Bm,56,24,"div",3),n.qZA()()),2&l&&(n.xp6(3),n.Q6J("ngIf",f.showVideo))},dependencies:[g.mk,g.sg,g.O5],styles:[".sinovad-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:1054;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}video[_ngcontent-%COMP%]::cue{background-color:transparent;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-loading-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;padding-bottom:0;left:0;background-color:#000;z-index:9999;display:flex;align-items:center;justify-content:center;font-size:30px;color:#fff}.sinovad-loading-video.show-controls[_ngcontent-%COMP%]{padding-bottom:300px;top:150px}.easy-media-settings-section-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:auto;background:rgba(0,0,0,.5);padding:0 0 50px;z-index:99999}.easy-media-settings-section-content[_ngcontent-%COMP%]{display:block}.sinovad-settings-options-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:48px;border-bottom:1px solid #dedede;margin-bottom:50px}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:20px;background-color:transparent;border:none;font-size:30px;border-radius:5px;cursor:pointer}.sinovad-settings-options-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:40px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:10px;background-color:transparent;border:none;font-size:30px;cursor:pointer;margin-right:6px;border-radius:5px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-full-screen-video-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.sinovad-full-screen-video-popup[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-video-header-section[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5);padding-left:10px;padding-top:10px}.sinovad-full-screen-video-popup-footer[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;padding-left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5)}.sinovad-progress-bar-container[_ngcontent-%COMP%]{width:100%;outline:none}.sinovad-progress-bar[_ngcontent-%COMP%]{height:40px;pointer-events:auto;position:relative;width:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px;border:none;border-radius:0;outline:none;background:transparent;opacity:.7}.sinovad-progress-bar[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-slider-container[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;height:100%;pointer-events:auto;position:relative;touch-action:none;padding-left:8px;padding-right:8px;border:none;border-radius:0;outline:none;background:transparent}.sinovad-slider-content[_ngcontent-%COMP%]{height:100%;padding-top:20px;cursor:pointer;outline:none}.sinovad-slider-fills[_ngcontent-%COMP%]{height:3px;overflow:hidden;pointer-events:none;width:100%;background:white;opacity:.5}.sinovad-slider-fills-progress-container[_ngcontent-%COMP%]{position:relative}.sinovad-slider-fills-progress-content[_ngcontent-%COMP%]{width:100%;height:8px;margin-top:-6px}.sinovad-slider-fills-progress[_ngcontent-%COMP%]{cursor:pointer;background:white;height:100%;width:0%}.sinovad-settings-options-header-section[_ngcontent-%COMP%]{display:flex;margin-left:10px;margin-top:10px}.sinovad-settings-section-container-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;float:left}.sinovad-settings-section-content-left[_ngcontent-%COMP%]{position:relative}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-controls-container[_ngcontent-%COMP%]{z-index:-99;pointer-events:none}.sinovad-controls-container.show[_ngcontent-%COMP%]{z-index:unset;pointer-events:unset}.sinovad-custom-video[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-full-screen-video-popup-episode-buttons-section[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:40px}.sinovad-full-screen-video-popup-episode-buttons-section-left[_ngcontent-%COMP%]{display:block;float:left;width:100%;padding-left:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]{display:block;float:right;width:100%;padding-right:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]   .sinovad-video-control-button[_ngcontent-%COMP%]{float:right}.sinovad-full-screen-video-popup-footer-left[_ngcontent-%COMP%]{display:block;float:left;width:170px}.sinovad-full-screen-video-popup-footer-left-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;color:#fff}.sinovad-current-time[_ngcontent-%COMP%]{color:#fff;font-size:25px}.sinovad-full-screen-video-popup-footer-center[_ngcontent-%COMP%]{display:block;float:left;width:100%}.sinovad-full-screen-video-popup-footer-center-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;justify-content:center}.sinovad-full-screen-video-popup-footer-right[_ngcontent-%COMP%]{width:100px;display:block;float:right}.sinovad-full-screen-video-popup-footer-right-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:right;height:100%}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;justify-content:center;width:100%;padding-right:70px}.sinovad-subtitles-forzed-section[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:10px;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;color:#fff;padding:10px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:6px;font-size:18px;font-weight:700}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;color:#000;height:30px;font-size:18px;border-radius:5px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:#000}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-video-control-button[_ngcontent-%COMP%]{color:#fff;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:10px;opacity:.9;font-size:25px;border-radius:100px;min-width:45px}.sinovad-video-control-button[_ngcontent-%COMP%]:hover{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus-visible{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus{background:white;color:#000;opacity:1}@media only screen and (min-width: 2048px){.sinovad-video-control-button[_ngcontent-%COMP%], .sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:35px}}@media only screen and (max-width: 767px){video[_ngcontent-%COMP%]::cue{font-size:25px}}"]})}return m})();var Gm=v(5940),sg=v(3171);function ag(m,r){if(1&m&&(n.TgZ(0,"div",6)(1,"button",7)(2,"div",8),n._uU(3),n.qZA(),n.TgZ(4,"div",9),n._uU(5),n.qZA()()()),2&m){const t=n.oxw(3);n.xp6(3),n.hij(" ",t.title," "),n.xp6(2),n.hij(" ",t.subtitle," ")}}function lg(m,r){if(1&m&&(n.TgZ(0,"div",30)(1,"div",31),n._UZ(2,"div",32),n.qZA()()),2&m){const t=n.oxw().$implicit,l=n.MAs(2),f=n.oxw(5);n.xp6(1),n.Udp("width",l.clientWidth-8+"px"),n.xp6(1),n.Udp("width",f.getWidthProgressItem(t))}}function Dv(m,r){if(1&m&&(n.TgZ(0,"div",33)(1,"span"),n._uU(2),n.qZA()()),2&m){const t=n.oxw().$implicit;n.xp6(2),n.Oqu(t.Title)}}function Mv(m,r){if(1&m&&(n.TgZ(0,"div")(1,"div",34)(2,"span"),n._uU(3),n.qZA()()()),2&m){const t=n.oxw().$implicit;n.xp6(3),n.AsE("",t.Title," ",t.Subtitle,"")}}function Gy(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"div",24)(1,"button",25,26),n.NdJ("click",function(){const y=n.CHM(t).$implicit,N=n.oxw(5);return n.KtG(N.onClickItem(y))}),n._UZ(3,"img",27),n.YNc(4,lg,3,4,"ng-template",0),n.qZA(),n.YNc(5,Dv,3,1,"div",28),n.YNc(6,Mv,4,2,"div",29),n.qZA()}if(2&m){const t=r.$implicit,l=n.oxw(2).$implicit,f=n.oxw(3);n.xp6(1),n.hYB("id","item_",l.Id,"_",t.MediaItemId,""),n.xp6(2),n.Q6J("src",f.sharedService.getUrlByItemMovieDataBase(t),n.LSH),n.xp6(1),n.Q6J("ngIf",t.CurrentTime&&t.DurationTime),n.xp6(1),n.Q6J("ngIf",!t.Subtitle),n.xp6(1),n.Q6J("ngIf",t.Subtitle)}}function Av(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"section",11)(1,"div",12)(2,"span"),n._uU(3),n.qZA()(),n.TgZ(4,"div",13)(5,"div",14)(6,"div",15,16),n.NdJ("click",function(){n.CHM(t);const f=n.MAs(12),y=n.MAs(7),N=n.MAs(18),H=n.oxw(4);return n.KtG(H.onClickButtonLeftScroll(f,y,N))}),n._UZ(8,"img",17),n.ALo(9,"async"),n.ALo(10,"formatDataPipe"),n.qZA()(),n.TgZ(11,"div",18,19)(13,"div",20,21),n.YNc(15,Gy,7,6,"ng-template",5),n.qZA()(),n.TgZ(16,"div",14)(17,"div",22,23),n.NdJ("click",function(){n.CHM(t);const f=n.MAs(12),y=n.MAs(7),N=n.MAs(18),H=n.oxw(4);return n.KtG(H.onClickButtonRightScroll(f,y,N))}),n._UZ(19,"img",17),n.ALo(20,"async"),n.ALo(21,"formatDataPipe"),n.qZA()()()()}if(2&m){const t=n.oxw().$implicit;n.MGl("id","section_",t.Id,""),n.xp6(3),n.Oqu(t.Name),n.xp6(5),n.Q6J("src",n.lcZ(9,5,n.xi3(10,7,"scroll-left.png","GetIconURLByKey")),n.LSH),n.xp6(7),n.Q6J("ngForOf",t.ListItems),n.xp6(4),n.Q6J("src",n.lcZ(20,10,n.xi3(21,12,"scroll-right.png","GetIconURLByKey")),n.LSH)}}function Hm(m,r){if(1&m&&n.YNc(0,Av,22,15,"section",10),2&m){const t=r.$implicit;n.Q6J("ngIf",t.ListItems&&t.ListItems.length>0)}}function jm(m,r){if(1&m&&(n.TgZ(0,"div",1)(1,"div",2),n.YNc(2,ag,6,2,"div",3),n.TgZ(3,"div",4),n.YNc(4,Hm,1,1,"ng-template",5),n.qZA()()()),2&m){const t=n.oxw(2);n.xp6(2),n.Q6J("ngIf",t.title),n.xp6(1),n.Udp("height",t.title?"calc(100% - 65px)":"100%"),n.xp6(1),n.Q6J("ngForOf",t.itemsGroupList)}}function xv(m,r){if(1&m&&n._UZ(0,"app-server-connection-error",35),2&m){const t=n.oxw(2);n.Q6J("mediaServer",t.currentMediaServer)}}function cg(m,r){1&m&&(n.TgZ(0,"div",36)(1,"div",37)(2,"div",38),n._uU(3," No hay servidores disponibles en este momento "),n.qZA(),n._UZ(4,"div",39),n.qZA()())}function Vm(m,r){if(1&m&&(n.YNc(0,jm,5,4,"ng-template",0),n.YNc(1,xv,1,1,"ng-template",0),n.YNc(2,cg,5,0,"ng-template",0)),2&m){const t=n.oxw();n.Q6J("ngIf",t.mediaServers&&t.isEnableAnyMediaServer()||t.currentMediaServer&&t.currentMediaServer.isSecureConnection),n.xp6(1),n.Q6J("ngIf",t.currentMediaServer&&!t.currentMediaServer.isSecureConnection),n.xp6(1),n.Q6J("ngIf",t.mediaServers&&!t.isEnableAnyMediaServer())}}function Th(m,r){1&m&&(n.TgZ(0,"div",40),n._UZ(1,"mat-spinner"),n.qZA())}let wu=(()=>{class m{constructor(t,l,f,y,N,H,ee){this.signalIrService=t,this.libraryService=l,this.activeRoute=f,this.router=y,this.restProvider=N,this.ref=H,this.sharedService=ee,this.itemsGroupList=[],this._window=window,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1};let ae=this;this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(We=>{if(ae.considerAllMediaServers()){var Ze=ae.mediaServers.find(Dt=>Dt.Guid==We);Ze&&!Ze.isSecureConnection&&(ae.loadingConnection=!1,Ze.isSecureConnection=!0,ae.getItemsByMediaServer(Ze))}else ae.currentMediaServer&&ae.currentMediaServer.Guid==We&&!ae.currentMediaServer.isSecureConnection&&(ae.loadingConnection=!1,ae.currentMediaServer.isSecureConnection=!0,ae.getItemsByCurrentMediaServerAndCurrentLibrary())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(We=>{if(ae.considerAllMediaServers()){var Ze=ae.mediaServers.find(Dt=>Dt.Guid==We);Ze&&Ze.isSecureConnection&&(Ze.isSecureConnection=!1,ae.clearItemsInGroup(Ze.Id))}else ae.currentMediaServer&&ae.currentMediaServer.Guid==We&&ae.currentMediaServer.isSecureConnection&&(ae.currentMediaServer.isSecureConnection=!1,ae.clearItemsInGroup(ae.currentMediaServer.Id))}),this.subscriptionUpdateLibrariesByMediaServer=this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(We=>{if(ae.considerAllMediaServers()){var Ze=ae.mediaServers.find(Dt=>Dt.Guid==We);Ze&&!Ze.isSecureConnection&&(Ze.isSecureConnection=!0,ae.getItemsByMediaServer(Ze))}else ae.currentMediaServer&&ae.currentMediaServer.Guid==We&&!ae.currentMediaServer.isSecureConnection&&(ae.currentMediaServer.isSecureConnection=!0,ae.getItemsByCurrentMediaServerAndCurrentLibrary())}),this.subscriptionUpdateItemsByMediaServer=this.signalIrService.isUpdatingItemsByMediaServer().subscribe(We=>{if(ae.considerAllMediaServers()){var Ze=ae.mediaServers.find(Dt=>Dt.Guid==We);Ze&&!Ze.isSecureConnection&&(Ze.isSecureConnection=!0,ae.getItemsByMediaServer(Ze))}else ae.currentMediaServer&&ae.currentMediaServer.Guid==We&&!ae.currentMediaServer.isSecureConnection&&(ae.currentMediaServer.isSecureConnection=!0,ae.getItemsByCurrentMediaServerAndCurrentLibrary())})}ngOnInit(){if(this.considerAllMediaServers())this.mediaServers=JSON.parse(JSON.stringify(this.sharedService.mediaServers)),this.isEnableAnyMediaServer()?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3),window.location.pathname.endsWith("movies")&&(this.title="Pel\xedculas"),window.location.pathname.endsWith("tvseries")&&(this.title="Series de TV"),this.mediaServers.forEach(f=>{f.isSecureConnection&&this.getItemsByMediaServer(f)});else{var t=this.activeRoute.snapshot.params.serverGuid;if(null!=t){var l=this.sharedService.mediaServers.find(f=>f.Guid==t);l?(this.currentMediaServer=JSON.parse(JSON.stringify(l)),this.currentMediaServer.isSecureConnection?(this.loadingConnection=!1,this.getItemsByCurrentMediaServerAndCurrentLibrary()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}else this.router.navigateByUrl("/404")}}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe(),this.subscriptionUpdateLibrariesByMediaServer.unsubscribe(),this.subscriptionUpdateItemsByMediaServer.unsubscribe()}isEnableAnyMediaServer(){return this.mediaServers.filter(t=>t.isSecureConnection).length>0}considerAllMediaServers(){return!!(window.location.pathname.endsWith("home")||window.location.pathname.endsWith("movies")||window.location.pathname.endsWith("tvseries"))}getItemsByCurrentMediaServerAndCurrentLibrary(){var t=this.activeRoute.snapshot.params.libraryId;t?this.libraryService.getLibrariesByMediaServer(this.currentMediaServer.Url).then(l=>{this.currentMediaServer.ListLibraries=l;var f=this.currentMediaServer.ListLibraries.findIndex(y=>y.Id==t);-1!=f&&(this.currentLibrary=this.currentMediaServer.ListLibraries[f],this.title=this.currentLibrary.Name,this.subtitle=this.currentMediaServer.FamilyName?this.currentMediaServer.FamilyName:this.currentMediaServer.DeviceName,this.libraryService.getMediaItemsByLibrary(this.currentMediaServer.Url,this.currentLibrary.Id,this.sharedService.currentProfile.Id).then(y=>{this.setItemsInGroup(this.currentMediaServer.Id,y)},y=>{console.error(y)}))}):(this.title=this.currentMediaServer.FamilyName?this.currentMediaServer.FamilyName:this.currentMediaServer.DeviceName,this.libraryService.getAllMediaItems(this.currentMediaServer.Url,this.sharedService.currentProfile.Id).then(l=>{this.setItemsInGroup(this.currentMediaServer.Id,l)},l=>{console.error(l)}))}getItemsByMediaServer(t){window.location.pathname.endsWith("home")?this.libraryService.getAllMediaItems(t.Url,this.sharedService.currentProfile.Id).then(l=>{this.setItemsInGroup(t.Id,l)},l=>{}):window.location.pathname.endsWith("movies")?this.libraryService.getMediaItemsByMediaType(t.Url,p.DD.Movie,this.sharedService.currentProfile.Id).then(l=>{this.setItemsInGroup(t.Id,l)},l=>{console.error(l)}):window.location.pathname.endsWith("tvseries")&&this.libraryService.getMediaItemsByMediaType(t.Url,p.DD.TvSerie,this.sharedService.currentProfile.Id).then(l=>{this.setItemsInGroup(t.Id,l)},l=>{console.error(l)})}setItemsInGroup(t,l){l.length>0&&(l.forEach(f=>{var y=this.itemsGroupList.find(ae=>ae.Name==f.Name);if(null==y)this.itemsGroupList.push(f);else{var ee=y.ListItems.filter(ae=>ae.MediaServerId!=t).concat(f.ListItems).sort((ae,We)=>new Date(ae.Created).getTime()>new Date(We.Created).getTime()?-1:new Date(We.Created).getTime()>new Date(ae.Created).getTime()?1:0);y.ListItems=ee}}),this.itemsGroupList=this.itemsGroupList.sort((f,y)=>f.Id>y.Id?1:f.Id<=y.Id?-1:0))}clearItemsInGroup(t){this.itemsGroupList.forEach(l=>{var f=l.ListItems.filter(y=>y.MediaServerId!=t);l.ListItems=f.sort((y,N)=>new Date(y.Created).getTime()>new Date(N.Created).getTime()?-1:new Date(N.Created).getTime()>new Date(y.Created).getTime()?1:0)})}getWidthProgressItem(t){return t.CurrentTime/t.DurationTime*100+"%"}onClickButtonLeftScroll(t,l,f){t.scrollLeft=t.scrollLeft-300,this.verifyIfShoOrHiddenScrollButtons(t,l,f)}onClickButtonRightScroll(t,l,f){t.scrollLeft=t.scrollLeft+300,this.verifyIfShoOrHiddenScrollButtons(t,l,f)}verifyIfShoOrHiddenScrollButtons(t,l,f){l.style.display=t.scrollLeft<=0?"none":"flex",f.style.display=t.scrollWidth==t.scrollLeft+t.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(t,l,f){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(t,l,f)},250)}onClickItem(t){t.ContinueVideo?this.continueVideoByItem(t):this.getMediaItemDetail(t)}getMediaItemDetail(t){var l=this.sharedService.mediaServers.find(f=>f.Id==t.MediaServerId);this.router.navigateByUrl("/media/server/"+l.Guid+"/libraries/"+t.LibraryId+"/detail?mediaType="+t.MediaTypeId+"&mediaId="+t.MediaItemId)}continueVideoByItem(t){var l=this.sharedService.mediaServers.find(f=>f.Id==t.MediaServerId);this.router.navigateByUrl("/media/server/"+l.Guid+"/video/"+t.FileId)}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(hs.n),n.Y36(Fs.$),n.Y36(A.gz),n.Y36(A.F0),n.Y36(P.C),n.Y36(n.sBO),n.Y36(w.F))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-media-items"]],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],[1,"media-container"],["class","media-header",4,"ngIf"],[1,"sinovad-list-container","sinovad-custom-container"],["ngFor","",3,"ngForOf"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],["tabindex","0",3,"id",4,"ngIf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-title"],[1,"sinovad-list-row-container"],[2,"width","0px","height","0px"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["itemContainer",""],["referrerpolicy","no-referrer","onError","this.src='assets/img/no-image-available.jpg'",3,"src"],["class","sinovad-item-caption-container",4,"ngIf"],[4,"ngIf"],[1,"sinovad-item-progress-bar-absolute-container"],[1,"sinovad-item-progress-bar-container"],[1,"sinovad-item-progress-bar-content"],[1,"sinovad-item-caption-container"],[1,"sinovad-item-title-caption-container"],[3,"mediaServer"],[1,"server-error-page-container"],[1,"server-error-page-content"],[1,"server-error-message-title"],[1,"server-error-message-description"],[1,"spinner-centered-container"]],template:function(l,f){1&l&&(n.YNc(0,Vm,3,3,"ng-template",0),n.YNc(1,Th,2,0,"ng-template",0)),2&l&&(n.Q6J("ngIf",!f.loadingConnection),n.xp6(1),n.Q6J("ngIf",f.loadingConnection))},dependencies:[g.sg,g.O5,Gm.Ou,sg.l,g.Ov,d.A],styles:["[_nghost-%COMP%]{width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovadclient-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:9999;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovadclient-title-section[_ngcontent-%COMP%]{margin:10px 10px 10px 16px;font-size:30px;font-weight:700}.sinovadclient-section[_ngcontent-%COMP%]{margin:10px}.sinovad-item-container[_ngcontent-%COMP%]{padding-right:10px;width:min-content;margin:6px;border-radius:6px}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-vertical-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;overflow-y:auto;overflow-x:hidden}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-item-title-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-item-subtitle-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:400;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-list-container[_ngcontent-%COMP%]{padding:20px;overflow-x:hidden;overflow-y:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:220px;top:6px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;font-family:sans-serif;padding:0 0 0 8px}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:220px;top:6px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover, .sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2);opacity:.6}.sinovad-item-progress-bar-absolute-container[_ngcontent-%COMP%]{width:0px;height:0px;margin-bottom:9px}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:-9px;margin-left:4px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%]{display:none!important}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:170px;width:170px;height:220px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:20px}@media only screen and (min-width: 2048px){.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return m})();class dg{constructor(r,t,l){this.router=r,this.activeRoute=t,this.sharedService=l}initializeHeaderData(){var r=this.activeRoute.snapshot.params.serverGuid;if(null!=r){var t=this.sharedService.mediaServers.find(y=>y.Guid==r);if(t){this.mediaServer=JSON.parse(JSON.stringify(t));var l=this.activeRoute.snapshot.params.libraryId;if(null!=t.ListLibraries&&t.ListLibraries.length>0){var f=t.ListLibraries.find(y=>y.MediaServerId==this.mediaServer.Id&&y.Id==l);null!=f?(this.library=f,this.title=f.Name,this.subtitle=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName):this.title=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName}}}}}function Iv(m,r){if(1&m&&n._UZ(0,"img",10),2&m){const t=n.oxw(3);n.Q6J("src",t.getUrlByItemDetailMovieDataBase(t.detail),n.LSH)}}function ug(m,r){if(1&m&&(n.TgZ(0,"div",11)(1,"button",12)(2,"div",13),n._uU(3),n.qZA(),n.TgZ(4,"div",14),n._uU(5),n.qZA()()()),2&m){const t=n.oxw(3);n.xp6(3),n.hij(" ",t.title," "),n.xp6(2),n.hij(" ",t.subtitle," ")}}function Hy(m,r){if(1&m&&(n.TgZ(0,"div",18)(1,"span",23),n._uU(2,"Director: "),n.qZA(),n.TgZ(3,"span",24),n._uU(4),n.qZA()()),2&m){const t=n.oxw(5);n.xp6(4),n.Oqu(t.detail.MediaItem.Directors)}}function wv(m,r){if(1&m&&(n.TgZ(0,"div",18)(1,"span",23),n._uU(2,"Reparto: "),n.qZA(),n.TgZ(3,"span",24),n._uU(4),n.qZA()()),2&m){const t=n.oxw(5);n.xp6(4),n.Oqu(t.detail.MediaItem.Actors)}}function hf(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"div")(1,"div")(2,"button",25),n.NdJ("click",function(){n.CHM(t);const f=n.oxw(5);return n.KtG(f.continueVideo())}),n._uU(3,"Continuar"),n.qZA()(),n.TgZ(4,"div",26),n._UZ(5,"div",27),n.qZA(),n.TgZ(6,"div",28),n._uU(7),n.qZA()()}if(2&m){const t=n.oxw(5);n.xp6(5),n.Udp("width",t.getWidthProgressItem(t.lastEpisodeWatched)),n.xp6(2),n.hij(" ",t.lastEpisodeWatched.Subtitle," ")}}function Pv(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"button",29),n.NdJ("click",function(){n.CHM(t);const f=n.oxw(6);return n.KtG(f.showVideo())}),n._uU(1,"Ver desde el principio"),n.qZA(),n.TgZ(2,"button",25),n.NdJ("click",function(){n.CHM(t);const f=n.oxw(6);return n.KtG(f.continueVideo())}),n._uU(3,"Continuar viendo"),n.qZA()}}function Pu(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"button",30),n.NdJ("click",function(){n.CHM(t);const f=n.oxw(6);return n.KtG(f.showVideo())}),n._UZ(1,"i",31),n._uU(2," Ver ahora "),n.qZA()}}function mf(m,r){if(1&m&&(n.YNc(0,Pv,4,0,"ng-template",0),n.YNc(1,Pu,3,0,"ng-template",0)),2&m){const t=n.oxw(5);n.Q6J("ngIf",t.itemUserData),n.xp6(1),n.Q6J("ngIf",!t.itemUserData)}}function Ov(m,r){if(1&m&&(n.TgZ(0,"div",32),n._uU(1),n.qZA()),2&m){const t=n.oxw(5);n.xp6(1),n.hij(" ",t.detail.MediaItem.Overview," ")}}function fg(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"img",47),n.NdJ("error",function(){n.CHM(t),n.oxw();const f=n.MAs(12),y=n.MAs(7),N=n.MAs(18),H=n.oxw(5);return n.KtG(H.onInitializeItemsRow(f,y,N))}),n.qZA()}}const Rv=function(m){return{selected:m}};function Nv(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"div",48)(1,"button",49),n.NdJ("click",function(){const y=n.CHM(t).$implicit,N=n.oxw(6);return n.KtG(N.onClickSeason(y))}),n.TgZ(2,"span"),n._uU(3),n.qZA()()()}if(2&m){const t=r.$implicit,l=n.oxw(6);n.xp6(1),n.MGl("id","section_season_",t.SeasonNumber,""),n.Q6J("ngClass",n.VKq(3,Rv,t.SeasonNumber==l.detail.CurrentSeason.SeasonNumber)),n.xp6(2),n.Oqu(t.Name)}}function Lv(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"section",50)(1,"button",51),n.NdJ("click",function(){const y=n.CHM(t).$implicit,N=n.oxw(6);return n.KtG(N.onClickEpisode(y))}),n.TgZ(2,"div",52),n._UZ(3,"img",10),n.qZA(),n.TgZ(4,"div",53)(5,"div",54),n._uU(6),n.qZA(),n.TgZ(7,"div",55),n._uU(8),n.qZA()()()()}if(2&m){const t=r.$implicit,l=n.oxw(6);n.hYB("id","section_episode_s",t.SeasonNumber,"_e",t.EpisodeNumber,""),n.xp6(1),n.hYB("id","button_episode_s",t.SeasonNumber,"_e",t.EpisodeNumber,""),n.xp6(2),n.Q6J("src",l.getEpisodeImagePath(t),n.LSH),n.xp6(3),n.AsE(" ",t.EpisodeNumber,". ",t.Name," "),n.xp6(2),n.hij(" ",t.Overview," ")}}function hg(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"div",33)(1,"div"),n._uU(2," EPISODIOS "),n.qZA(),n.TgZ(3,"div",34),n.YNc(4,fg,1,0,"img",35),n.TgZ(5,"div",3)(6,"div",36,37),n.NdJ("click",function(){n.CHM(t);const f=n.MAs(12),y=n.MAs(7),N=n.MAs(18),H=n.oxw(5);return n.KtG(H.onClickButtonLeftScroll(f,y,N))}),n._UZ(8,"img",38),n.ALo(9,"async"),n.ALo(10,"formatDataPipe"),n.qZA()(),n.TgZ(11,"div",39,40)(13,"section",41,42),n.YNc(15,Nv,4,5,"ng-template",43),n.qZA()(),n.TgZ(16,"div",3)(17,"div",44,45),n.NdJ("click",function(){n.CHM(t);const f=n.MAs(12),y=n.MAs(7),N=n.MAs(18),H=n.oxw(5);return n.KtG(H.onClickButtonRightScroll(f,y,N))}),n._UZ(19,"img",38),n.ALo(20,"async"),n.ALo(21,"formatDataPipe"),n.qZA()()(),n.TgZ(22,"div",46),n.YNc(23,Lv,9,8,"ng-template",43),n.qZA()()}if(2&m){const t=n.oxw(5);n.xp6(4),n.Q6J("ngIf",!t.startResize),n.xp6(4),n.Q6J("src",n.lcZ(9,5,n.xi3(10,7,"left.png","GetIconURLByKey")),n.LSH),n.xp6(7),n.Q6J("ngForOf",t.detail.ListSeasons),n.xp6(4),n.Q6J("src",n.lcZ(20,10,n.xi3(21,12,"right.png","GetIconURLByKey")),n.LSH),n.xp6(4),n.Q6J("ngForOf",t.detail.CurrentSeason.ListEpisodes)}}function mg(m,r){if(1&m&&(n.TgZ(0,"div",16)(1,"div",17),n._uU(2),n.qZA(),n.TgZ(3,"div",18),n._uU(4),n.qZA(),n.YNc(5,Hy,5,1,"div",19),n.YNc(6,wv,5,1,"div",19),n.TgZ(7,"section",20),n.YNc(8,hf,8,3,"ng-template",0),n.YNc(9,mf,2,2,"ng-template",0),n.qZA(),n.YNc(10,Ov,2,1,"div",21),n.YNc(11,hg,24,15,"div",22),n.qZA()),2&m){const t=n.oxw(4);n.xp6(2),n.hij(" ",t.detail.MediaItem.Title," "),n.xp6(2),n.hij(" ",t.detail.MediaItem.Genres," "),n.xp6(1),n.Q6J("ngIf",t.detail.MediaItem.Directors),n.xp6(1),n.Q6J("ngIf",t.detail.MediaItem.Actors),n.xp6(2),n.Q6J("ngIf",t.lastEpisodeWatched),n.xp6(1),n.Q6J("ngIf",!t.lastEpisodeWatched),n.xp6(1),n.Q6J("ngIf",!t.lastEpisodeWatched),n.xp6(1),n.Q6J("ngIf",t.detail.ListSeasons&&t.detail.ListSeasons.length>0)}}function Km(m,r){if(1&m&&(n.TgZ(0,"div",15),n.YNc(1,mg,12,8,"ng-template",0),n.qZA()),2&m){const t=n.oxw(3);n.Udp("height",t.title?"calc(100% - 65px)":"100%"),n.xp6(1),n.Q6J("ngIf",t.detail)}}function pf(m,r){if(1&m&&(n.TgZ(0,"div",1,2)(2,"div",3)(3,"div",4)(4,"div",5),n.YNc(5,Iv,1,1,"img",6),n.qZA()()(),n.TgZ(6,"div",7),n.YNc(7,ug,6,2,"div",8),n.YNc(8,Km,2,3,"div",9),n.qZA()()),2&m){const t=n.MAs(1),l=n.oxw(2);n.xp6(4),n.Udp("width",t.clientWidth+"px"),n.xp6(1),n.Q6J("ngIf",l.detail),n.xp6(2),n.Q6J("ngIf",l.title),n.xp6(1),n.Q6J("ngIf",l.detail)}}function pg(m,r){if(1&m&&n._UZ(0,"app-server-connection-error",56),2&m){const t=n.oxw(2);n.Q6J("mediaServer",t.mediaServer)}}function jy(m,r){if(1&m&&(n.YNc(0,pf,9,5,"ng-template",0),n.YNc(1,pg,1,1,"ng-template",0)),2&m){const t=n.oxw();n.Q6J("ngIf",t.mediaServer&&t.mediaServer.isSecureConnection),n.xp6(1),n.Q6J("ngIf",t.mediaServer&&!t.mediaServer.isSecureConnection)}}function Wm(m,r){1&m&&(n.TgZ(0,"div",57),n._UZ(1,"mat-spinner"),n.qZA())}let tu=(()=>{class m extends dg{constructor(t,l,f,y,N,H){super(y,f,H),this.signalIrService=t,this.libraryService=l,this.activeRoute=f,this.router=y,this.ref=N,this.sharedService=H,this._window=window,this.startResize=!1,this.loadingConnection=!0,this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(ee=>{this.mediaServer&&this.mediaServer.Guid==ee&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0,this.getMediaItemDetail())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(ee=>{this.mediaServer&&this.mediaServer.Guid==ee&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){this.initializeHeaderData(),this.mediaServer?this.mediaServer.isSecureConnection?(this.loadingConnection=!1,this.getMediaItemDetail()):setTimeout(()=>{this.loadingConnection=!1},3e3):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getMediaItemDetail(){let t=this.activeRoute.snapshot.queryParams.mediaId;t?this.libraryService.getMediaItemDetail(this.mediaServer.Url,t).then(l=>{this.detail=l,this.detail.CurrentSeason=this.detail.ListSeasons[0]},l=>{this.router.navigate(["404"],{skipLocationChange:!1})}):this.router.navigate(["404"],{skipLocationChange:!1})}getEpisodeImagePath(t){return this.detail.MediaItem.MetadataAgentsId==p.DM.TMDb&&t.PosterPath?this.sharedService.urlEpisodeDataBase+t.PosterPath:t.ListMediaFiles&&t.ListMediaFiles.length>0?this.mediaServer.Url+"/media/"+t.ListMediaFiles[0].Guid+"/thumbnail.png":"assets/img/no-image-available.jpg"}getUrlByItemDetailMovieDataBase(t){return t.MediaItem.MetadataAgentsId==p.DM.TMDb?this.sharedService.originalUrlImagesMovieDataBase+t.MediaItem.PosterPath:t.MediaItem.PosterPath?t.MediaItem.PosterPath:t.ListMediaFiles&&t.ListMediaFiles.length>0?this.mediaServer.Url+"/media/"+t.ListMediaFiles[0].Guid+"/thumbnail.png":"assets/img/no-image-available.jpg"}verifyIfShoOrHiddenScrollButtons(t,l,f){l.style.display=t.scrollLeft<=0?"none":"flex",f.style.display=t.scrollWidth==t.scrollLeft+t.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(t,l,f){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(t,l,f)},250)}onClickButtonLeftScroll(t,l,f){t.scrollLeft=t.scrollLeft-20,this.verifyIfShoOrHiddenScrollButtons(t,l,f)}onClickButtonRightScroll(t,l,f){t.scrollLeft=t.scrollLeft+20,this.verifyIfShoOrHiddenScrollButtons(t,l,f)}getWidthProgressItem(t){return t.CurrentTime/t.DurationTime*100+"%"}continueVideo(){}showVideo(){if(this.detail.MediaItem.MediaTypeId==p.DD.Movie)this.getVideosByItem();else if(this.detail.ListSeasons&&this.detail.ListSeasons.length>0){let t=this.detail.ListSeasons[0];t.ListEpisodes&&t.ListEpisodes.length>0&&this.getVideoByEpisode(t.ListEpisodes[0])}}getVideosByItem(){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+this.detail.ListMediaFiles[0].Id)}onClickSeason(t){this.detail.CurrentSeason=t}onClickEpisode(t){this.getVideoByEpisode(t)}getVideoByEpisode(t){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+t.ListMediaFiles[0].Id)}onResize(t){setTimeout(()=>{this.startResize=!0,this.ref.detectChanges(),this.startResize=!1,this.ref.detectChanges()},100)}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(hs.n),n.Y36(Fs.$),n.Y36(A.gz),n.Y36(A.F0),n.Y36(n.sBO),n.Y36(w.F))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-media-detail"]],hostBindings:function(l,f){1&l&&n.NdJ("resize",function(N){return f.onResize(N)},!1,n.Jf7)},features:[n.qOj],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],["container",""],[2,"width","0px","height","0px"],[1,"sinovad-item-view-background-container"],[2,"position","fixed"],["onError","this.src='assets/img/no-image-available.jpg'",3,"src",4,"ngIf"],[1,"media-container"],["class","media-header",4,"ngIf"],["class","sinovad-item-view-container sinovad-custom-container",3,"height",4,"ngIf"],["onError","this.src='assets/img/no-image-available.jpg'",3,"src"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],[1,"sinovad-item-view-container","sinovad-custom-container"],[1,"sinovad-item-view-principal-section"],[1,"sinovad-item-view-title-container"],[1,"sinovad-item-view-subtitle-container"],["class","sinovad-item-view-subtitle-container",4,"ngIf"],["id","section_principal_buttons",1,"sinovad-item-view-principal-button-container","sinovad-section"],["class","sinovad-item-view-summary-container",4,"ngIf"],["class","sinovad-item-view-seasons-container",4,"ngIf"],[2,"font-weight","bold"],[2,"font-weight","normal"],["id","continue_play",1,"",3,"click"],[1,"sinovad-item-progress-bar-container",2,"width","300px"],[1,"sinovad-item-progress-bar-content"],[2,"margin-top","5px"],["id","restart_play",1,"",3,"click"],["id","play_now",1,"",3,"click"],[1,"fa-solid","fa-play","me-1"],[1,"sinovad-item-view-summary-container"],[1,"sinovad-item-view-seasons-container"],[1,"sinovad-list-row-container"],["style","display:none;","src","",3,"error",4,"ngIf"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],[1,"sinovad-list-row","sinovad-section"],["itemsRowContainer",""],["id","section_seasons",1,"sinovad-list-content"],["content",""],["ngFor","",3,"ngForOf"],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-view-episodes-container"],["src","",2,"display","none",3,"error"],[1,"sinovad-season-container"],[1,"sinovad-season-button",3,"id","ngClass","click"],[1,"sinovad-section",3,"id"],[1,"sinovad-episode-button",3,"id","click"],[1,"sinovad-episode-image-section"],[1,"sinovad-episode-detail-section"],[1,"sinovad-episode-title-section"],[1,"sinovad-overview-section"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(l,f){1&l&&(n.YNc(0,jy,2,2,"ng-template",0),n.YNc(1,Wm,2,0,"ng-template",0)),2&l&&(n.Q6J("ngIf",!f.loadingConnection),n.xp6(1),n.Q6J("ngIf",f.loadingConnection))},dependencies:[g.mk,g.sg,g.O5,Gm.Ou,sg.l,g.Ov,d.A],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-episode-button[_ngcontent-%COMP%]{width:100%;cursor:pointer;display:flex;border-radius:5px;margin-bottom:15px;padding:0;border:none;background:transparent}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;font-weight:400;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:10}.sinovad-episode-title-section[_ngcontent-%COMP%]{margin-bottom:10px;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:1}.sinovad-episode-image-section[_ngcontent-%COMP%]{display:block}.sinovad-episode-detail-section[_ngcontent-%COMP%]{display:block;background-color:transparent;color:#fff;padding:20px;text-align:left;width:100%}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:10px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-item-view-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;outline:none}.sinovad-item-view-title-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:50px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-background-container[_ngcontent-%COMP%]{position:relative}.sinovad-item-view-background-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;width:100%;opacity:.5}.sinovad-item-view-seasons-container[_ngcontent-%COMP%]{position:relative;width:100%;font-size:20px;color:#fff;padding-right:20px;padding-left:20px;padding-top:20px;font-weight:700}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:82px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.4;max-width:unset;height:110px;display:none}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:82px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:110px;display:none;opacity:.4}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;width:100%}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-season-container[_ngcontent-%COMP%]{padding-right:10px}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;text-align:center;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:10px 10px 4px;background:transparent;border:none}.sinovad-season-button[_ngcontent-%COMP%]:hover{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus-visible{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus{border-bottom:4px solid #007bff!important}.sinovad-season-button.selected[_ngcontent-%COMP%]{border-bottom:4px solid #007bff}button[_ngcontent-%COMP%]{font-size:25px}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{display:none!important}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border:4px solid transparent}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:15px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:13px;-webkit-line-clamp:7}.sinovad-season-button[_ngcontent-%COMP%]{font-size:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px;border:none;background:white;color:#000;font-weight:700;padding:8px 20px;border-radius:5px;margin-right:10px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:#007bff;color:#fff}.sinovad-item-view-summary-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;color:#fff;padding:20px;font-size:16px}@media only screen and (min-width: 2048px){.sinovad-item-view-summary-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:50px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:25px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;-webkit-line-clamp:10}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px}}@media only screen and (max-width: 767px){.sinovad-episode-button[_ngcontent-%COMP%]{display:block;text-align:left;margin-bottom:20px}.sinovad-episode-detail-section[_ngcontent-%COMP%]{padding:0 8px}.sinovad-episode-image-section[_ngcontent-%COMP%]{margin-bottom:10px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset;width:100%;max-height:410px;object-fit:cover;object-position:top}.sinovad-episode-title-section[_ngcontent-%COMP%]{-webkit-line-clamp:2}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media only screen and (max-width: 575px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:320px}}@media only screen and (max-width: 475px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:260px}}@media only screen and (max-width: 375px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px}}"]})}return m})();const Sh=[{path:"home",component:wu,loadChildren:()=>v.e(728).then(v.bind(v,728)).then(m=>m.MediaItemsModule),canActivate:[_.E]},{path:"media/movies",component:wu,loadChildren:()=>v.e(728).then(v.bind(v,728)).then(m=>m.MediaItemsModule),canActivate:[_.E]},{path:"media/tvseries",component:wu,loadChildren:()=>v.e(728).then(v.bind(v,728)).then(m=>m.MediaItemsModule),canActivate:[_.E]},{path:"media/server/:serverGuid",component:wu,loadChildren:()=>v.e(728).then(v.bind(v,728)).then(m=>m.MediaItemsModule),canActivate:[_.E]},{path:"media/server/:serverGuid/libraries/:libraryId",component:wu,loadChildren:()=>v.e(728).then(v.bind(v,728)).then(m=>m.MediaItemsModule),canActivate:[_.E]},{path:"media/server/:serverGuid/libraries/:libraryId/detail",component:tu,loadChildren:()=>v.e(113).then(v.bind(v,2113)).then(m=>m.MediaDetailModule),canActivate:[_.E]},{path:"media/server/:serverGuid/video/:mediaFileId",component:Um,loadChildren:()=>v.e(253).then(v.bind(v,7253)).then(m=>m.MediaVideoModule),canActivate:[_.E]},{path:"search",component:el,loadChildren:()=>v.e(85).then(v.bind(v,2085)).then(m=>m.MediaSearchModule),canActivate:[_.E]},{path:"profiles",loadChildren:()=>v.e(209).then(v.bind(v,5209)).then(m=>m.ProfilesModule)},{path:"settings",loadChildren:()=>v.e(573).then(v.bind(v,573)).then(m=>m.SettingsModule)},{path:"manage",loadChildren:()=>v.e(781).then(v.bind(v,1781)).then(m=>m.ManageModule)},{path:"landing",component:h,loadChildren:()=>v.e(45).then(v.bind(v,8045)).then(m=>m.LandingPageModule),canActivate:[x]},{path:"register",component:te,loadChildren:()=>v.e(470).then(v.bind(v,1470)).then(m=>m.RegisterAcccountPageModule),canActivate:[x]},{path:"login",component:En,loadChildren:()=>v.e(717).then(v.bind(v,717)).then(m=>m.LoginPageModule),canActivate:[x]},{path:"recover",component:eo,loadChildren:()=>v.e(456).then(v.bind(v,456)).then(m=>m.RecoverPasswordPageModule),canActivate:[x]},{path:"reset/:base64Data",component:Sl,loadChildren:()=>v.e(300).then(v.bind(v,2300)).then(m=>m.ResetPasswordPageModule),canActivate:[x]},{path:"confirm/:base64Data",component:qa,loadChildren:()=>v.e(159).then(v.bind(v,159)).then(m=>m.ConfirmEmailPageModule),canActivate:[x]},{path:"404",component:vc,loadChildren:()=>v.e(41).then(v.bind(v,3041)).then(m=>m.NotFoundPageModule)},{path:"",pathMatch:"full",redirectTo:"home"},{path:"**",redirectTo:"/404"}];let gg=(()=>{class m{static#e=this.\u0275fac=function(l){return new(l||m)};static#t=this.\u0275mod=n.oAB({type:m});static#n=this.\u0275inj=n.cJS({imports:[A.Bz.forRoot(Sh,{onSameUrlNavigation:"reload"}),A.Bz]})}return m})();var Co=v(6825);function _g(m){return new n.vHH(3e3,!1)}function Na(m){switch(m.length){case 0:return new Co.ZN;case 1:return m[0];default:return new Co.ZE(m)}}function nu(m,r,t=new Map,l=new Map){const f=[],y=[];let N=-1,H=null;if(r.forEach(ee=>{const ae=ee.get("offset"),We=ae==N,Ze=We&&H||new Map;ee.forEach((Dt,wt)=>{let Ht=wt,zt=Dt;if("offset"!==wt)switch(Ht=m.normalizePropertyName(Ht,f),zt){case Co.k1:zt=t.get(wt);break;case Co.l3:zt=l.get(wt);break;default:zt=m.normalizeStyleValue(wt,Ht,zt,f)}Ze.set(Ht,zt)}),We||y.push(Ze),H=Ze,N=ae}),f.length)throw function zy(m){return new n.vHH(3502,!1)}();return y}function Dh(m,r,t,l){switch(r){case"start":m.onStart(()=>l(t&&Ym(t,"start",m)));break;case"done":m.onDone(()=>l(t&&Ym(t,"done",m)));break;case"destroy":m.onDestroy(()=>l(t&&Ym(t,"destroy",m)))}}function Ym(m,r,t){const y=Ru(m.element,m.triggerName,m.fromState,m.toState,r||m.phaseName,t.totalTime??m.totalTime,!!t.disabled),N=m._data;return null!=N&&(y._data=N),y}function Ru(m,r,t,l,f="",y=0,N){return{element:m,triggerName:r,fromState:t,toState:l,phaseName:f,totalTime:y,disabled:!!N}}function Hs(m,r,t){let l=m.get(r);return l||m.set(r,l=t),l}function Mh(m){const r=m.indexOf(":");return[m.substring(1,r),m.slice(r+1)]}const gf=(()=>typeof document>"u"?null:document.documentElement)();function Ah(m){const r=m.parentNode||m.host||null;return r===gf?null:r}let ld=null,xh=!1;function kg(m,r){for(;r;){if(r===m)return!0;r=Ah(r)}return!1}function Fg(m,r,t){if(t)return Array.from(m.querySelectorAll(r));const l=m.querySelector(r);return l?[l]:[]}let Bg=(()=>{class m{validateStyleProperty(t){return function Ng(m){ld||(ld=function Yv(){return typeof document<"u"?document.body:null}()||{},xh=!!ld.style&&"WebkitAppearance"in ld.style);let r=!0;return ld.style&&!function zm(m){return"ebkit"==m.substring(1,6)}(m)&&(r=m in ld.style,!r&&xh&&(r="Webkit"+m.charAt(0).toUpperCase()+m.slice(1)in ld.style)),r}(t)}matchesElement(t,l){return!1}containsElement(t,l){return kg(t,l)}getParentElement(t){return Ah(t)}query(t,l,f){return Fg(t,l,f)}computeStyle(t,l,f){return f||""}animate(t,l,f,y,N,H=[],ee){return new Co.ZN(f,y)}static#e=this.\u0275fac=function(l){return new(l||m)};static#t=this.\u0275prov=n.Yz7({token:m,factory:m.\u0275fac})}return m})(),Zm=(()=>{class m{static#e=this.NOOP=new Bg}return m})();const Zv=1e3,Ih="ng-enter",wh="ng-leave",Ph="ng-trigger",Sa=".ng-trigger",Hg="ng-animating",$m=".ng-animating";function Id(m){if("number"==typeof m)return m;const r=m.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:_f(parseFloat(r[1]),r[2])}function _f(m,r){return"s"===r?m*Zv:m}function vf(m,r,t){return m.hasOwnProperty("duration")?m:function $v(m,r,t){let f,y=0,N="";if("string"==typeof m){const H=m.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===H)return r.push(_g()),{duration:0,delay:0,easing:""};f=_f(parseFloat(H[1]),H[2]);const ee=H[3];null!=ee&&(y=_f(parseFloat(ee),H[4]));const ae=H[5];ae&&(N=ae)}else f=m;if(!t){let H=!1,ee=r.length;f<0&&(r.push(function kv(){return new n.vHH(3100,!1)}()),H=!0),y<0&&(r.push(function Fv(){return new n.vHH(3101,!1)}()),H=!0),H&&r.splice(ee,0,_g())}return{duration:f,delay:y,easing:N}}(m,r,t)}function yf(m,r={}){return Object.keys(m).forEach(t=>{r[t]=m[t]}),r}function jg(m){const r=new Map;return Object.keys(m).forEach(t=>{r.set(t,m[t])}),r}function wd(m,r=new Map,t){if(t)for(let[l,f]of t)r.set(l,f);for(let[l,f]of m)r.set(l,f);return r}function Hl(m,r,t){r.forEach((l,f)=>{const y=Oh(f);t&&!t.has(f)&&t.set(f,m.style[y]),m.style[y]=l})}function iu(m,r){r.forEach((t,l)=>{const f=Oh(l);m.style[f]=""})}function bf(m){return Array.isArray(m)?1==m.length?m[0]:(0,Co.vP)(m):m}const Jm=new RegExp("{{\\s*(.+?)\\s*}}","g");function Wg(m){let r=[];if("string"==typeof m){let t;for(;t=Jm.exec(m);)r.push(t[1]);Jm.lastIndex=0}return r}function za(m,r,t){const l=m.toString(),f=l.replace(Jm,(y,N)=>{let H=r[N];return null==H&&(t.push(function Bv(m){return new n.vHH(3003,!1)}()),H=""),H.toString()});return f==l?m:f}function Nu(m){const r=[];let t=m.next();for(;!t.done;)r.push(t.value),t=m.next();return r}const Qv=/-+([a-z0-9])/g;function Oh(m){return m.replace(Qv,(...r)=>r[1].toUpperCase())}function Ca(m,r,t){switch(r.type){case 7:return m.visitTrigger(r,t);case 0:return m.visitState(r,t);case 1:return m.visitTransition(r,t);case 2:return m.visitSequence(r,t);case 3:return m.visitGroup(r,t);case 4:return m.visitAnimate(r,t);case 5:return m.visitKeyframes(r,t);case 6:return m.visitStyle(r,t);case 8:return m.visitReference(r,t);case 9:return m.visitAnimateChild(r,t);case 10:return m.visitAnimateRef(r,t);case 11:return m.visitQuery(r,t);case 12:return m.visitStagger(r,t);default:throw function yg(m){return new n.vHH(3004,!1)}()}}function Rh(m,r){return window.getComputedStyle(m)[r]}const jl="*";function n0(m,r){const t=[];return"string"==typeof m?m.split(/\s*,\s*/).forEach(l=>function r0(m,r,t){if(":"==m[0]){const ee=function Qm(m,r){switch(m){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,l)=>parseFloat(l)>parseFloat(t);case":decrement":return(t,l)=>parseFloat(l)<parseFloat(t);default:return r.push(function Mg(m){return new n.vHH(3016,!1)}()),"* => *"}}(m,t);if("function"==typeof ee)return void r.push(ee);m=ee}const l=m.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==l||l.length<4)return t.push(function Dg(m){return new n.vHH(3015,!1)}()),r;const f=l[1],y=l[2],N=l[3];r.push($g(f,N));"<"==y[0]&&!(f==jl&&N==jl)&&r.push($g(N,f))}(l,t,r)):t.push(m),t}const Nh=new Set(["true","1"]),Lh=new Set(["false","0"]);function $g(m,r){const t=Nh.has(m)||Lh.has(m),l=Nh.has(r)||Lh.has(r);return(f,y)=>{let N=m==jl||m==f,H=r==jl||r==y;return!N&&t&&"boolean"==typeof f&&(N=f?Nh.has(m):Lh.has(m)),!H&&l&&"boolean"==typeof y&&(H=y?Nh.has(r):Lh.has(r)),N&&H}}const Jg=new RegExp("s*:selfs*,?","g");function qm(m,r,t,l){return new Tf(m).build(r,t,l)}class Tf{constructor(r){this._driver=r}build(r,t,l){const f=new s0(t);return this._resetContextStyleTimingState(f),Ca(this,bf(r),f)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles=new Map,r.collectedStyles.set("",new Map),r.currentTime=0}visitTrigger(r,t){let l=t.queryCount=0,f=t.depCount=0;const y=[],N=[];return"@"==r.name.charAt(0)&&t.errors.push(function ad(){return new n.vHH(3006,!1)}()),r.definitions.forEach(H=>{if(this._resetContextStyleTimingState(t),0==H.type){const ee=H,ae=ee.name;ae.toString().split(/\s*,\s*/).forEach(We=>{ee.name=We,y.push(this.visitState(ee,t))}),ee.name=ae}else if(1==H.type){const ee=this.visitTransition(H,t);l+=ee.queryCount,f+=ee.depCount,N.push(ee)}else t.errors.push(function bg(){return new n.vHH(3007,!1)}())}),{type:7,name:r.name,states:y,transitions:N,queryCount:l,depCount:f,options:null}}visitState(r,t){const l=this.visitStyle(r.styles,t),f=r.options&&r.options.params||null;if(l.containsDynamicStyles){const y=new Set,N=f||{};l.styles.forEach(H=>{H instanceof Map&&H.forEach(ee=>{Wg(ee).forEach(ae=>{N.hasOwnProperty(ae)||y.add(ae)})})}),y.size&&(Nu(y.values()),t.errors.push(function Ky(m,r){return new n.vHH(3008,!1)}()))}return{type:0,name:r.name,style:l,options:f?{params:f}:null}}visitTransition(r,t){t.queryCount=0,t.depCount=0;const l=Ca(this,bf(r.animation),t);return{type:1,matchers:n0(r.expr,t.errors),animation:l,queryCount:t.queryCount,depCount:t.depCount,options:ru(r.options)}}visitSequence(r,t){return{type:2,steps:r.steps.map(l=>Ca(this,l,t)),options:ru(r.options)}}visitGroup(r,t){const l=t.currentTime;let f=0;const y=r.steps.map(N=>{t.currentTime=l;const H=Ca(this,N,t);return f=Math.max(f,t.currentTime),H});return t.currentTime=f,{type:3,steps:y,options:ru(r.options)}}visitAnimate(r,t){const l=function qg(m,r){if(m.hasOwnProperty("duration"))return m;if("number"==typeof m)return Xm(vf(m,r).duration,0,"");const t=m;if(t.split(/\s+/).some(y=>"{"==y.charAt(0)&&"{"==y.charAt(1))){const y=Xm(0,0,"");return y.dynamic=!0,y.strValue=t,y}const f=vf(t,r);return Xm(f.duration,f.delay,f.easing)}(r.timings,t.errors);t.currentAnimateTimings=l;let f,y=r.styles?r.styles:(0,Co.oB)({});if(5==y.type)f=this.visitKeyframes(y,t);else{let N=r.styles,H=!1;if(!N){H=!0;const ae={};l.easing&&(ae.easing=l.easing),N=(0,Co.oB)(ae)}t.currentTime+=l.duration+l.delay;const ee=this.visitStyle(N,t);ee.isEmptyStep=H,f=ee}return t.currentAnimateTimings=null,{type:4,timings:l,style:f,options:null}}visitStyle(r,t){const l=this._makeStyleAst(r,t);return this._validateStyleAst(l,t),l}_makeStyleAst(r,t){const l=[],f=Array.isArray(r.styles)?r.styles:[r.styles];for(let H of f)"string"==typeof H?H===Co.l3?l.push(H):t.errors.push(new n.vHH(3002,!1)):l.push(jg(H));let y=!1,N=null;return l.forEach(H=>{if(H instanceof Map&&(H.has("easing")&&(N=H.get("easing"),H.delete("easing")),!y))for(let ee of H.values())if(ee.toString().indexOf("{{")>=0){y=!0;break}}),{type:6,styles:l,easing:N,offset:r.offset,containsDynamicStyles:y,options:null}}_validateStyleAst(r,t){const l=t.currentAnimateTimings;let f=t.currentTime,y=t.currentTime;l&&y>0&&(y-=l.duration+l.delay),r.styles.forEach(N=>{"string"!=typeof N&&N.forEach((H,ee)=>{const ae=t.collectedStyles.get(t.currentQuerySelector),We=ae.get(ee);let Ze=!0;We&&(y!=f&&y>=We.startTime&&f<=We.endTime&&(t.errors.push(function Wy(m,r,t,l,f){return new n.vHH(3010,!1)}()),Ze=!1),y=We.startTime),Ze&&ae.set(ee,{startTime:y,endTime:f}),t.options&&function Jv(m,r,t){const l=r.params||{},f=Wg(m);f.length&&f.forEach(y=>{l.hasOwnProperty(y)||t.push(function vg(m){return new n.vHH(3001,!1)}())})}(H,t.options,t.errors)})})}visitKeyframes(r,t){const l={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Eg(){return new n.vHH(3011,!1)}()),l;let y=0;const N=[];let H=!1,ee=!1,ae=0;const We=r.steps.map(Sn=>{const Bn=this._makeStyleAst(Sn,t);let Ln=null!=Bn.offset?Bn.offset:function Qg(m){if("string"==typeof m)return null;let r=null;if(Array.isArray(m))m.forEach(t=>{if(t instanceof Map&&t.has("offset")){const l=t;r=parseFloat(l.get("offset")),l.delete("offset")}});else if(m instanceof Map&&m.has("offset")){const t=m;r=parseFloat(t.get("offset")),t.delete("offset")}return r}(Bn.styles),$n=0;return null!=Ln&&(y++,$n=Bn.offset=Ln),ee=ee||$n<0||$n>1,H=H||$n<ae,ae=$n,N.push($n),Bn});ee&&t.errors.push(function Tg(){return new n.vHH(3012,!1)}()),H&&t.errors.push(function Yy(){return new n.vHH(3200,!1)}());const Ze=r.steps.length;let Dt=0;y>0&&y<Ze?t.errors.push(function Sg(){return new n.vHH(3202,!1)}()):0==y&&(Dt=1/(Ze-1));const wt=Ze-1,Ht=t.currentTime,zt=t.currentAnimateTimings,on=zt.duration;return We.forEach((Sn,Bn)=>{const Ln=Dt>0?Bn==wt?1:Dt*Bn:N[Bn],$n=Ln*on;t.currentTime=Ht+zt.delay+$n,zt.duration=$n,this._validateStyleAst(Sn,t),Sn.offset=Ln,l.styles.push(Sn)}),l}visitReference(r,t){return{type:8,animation:Ca(this,bf(r.animation),t),options:ru(r.options)}}visitAnimateChild(r,t){return t.depCount++,{type:9,options:ru(r.options)}}visitAnimateRef(r,t){return{type:10,animation:this.visitReference(r.animation,t),options:ru(r.options)}}visitQuery(r,t){const l=t.currentQuerySelector,f=r.options||{};t.queryCount++,t.currentQuery=r;const[y,N]=function kh(m){const r=!!m.split(/\s*,\s*/).find(t=>":self"==t);return r&&(m=m.replace(Jg,"")),m=m.replace(/@\*/g,Sa).replace(/@\w+/g,t=>Sa+"-"+t.slice(1)).replace(/:animating/g,$m),[m,r]}(r.selector);t.currentQuerySelector=l.length?l+" "+y:y,Hs(t.collectedStyles,t.currentQuerySelector,new Map);const H=Ca(this,bf(r.animation),t);return t.currentQuery=null,t.currentQuerySelector=l,{type:11,selector:y,limit:f.limit||0,optional:!!f.optional,includeSelf:N,animation:H,originalSelector:r.selector,options:ru(r.options)}}visitStagger(r,t){t.currentQuery||t.errors.push(function Ch(){return new n.vHH(3013,!1)}());const l="full"===r.timings?{duration:0,delay:0,easing:"full"}:vf(r.timings,t.errors,!0);return{type:12,animation:Ca(this,bf(r.animation),t),timings:l,options:null}}}class s0{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ru(m){return m?(m=yf(m)).params&&(m.params=function $y(m){return m?yf(m):null}(m.params)):m={},m}function Xm(m,r,t){return{duration:m,delay:r,easing:t}}function Fh(m,r,t,l,f,y,N=null,H=!1){return{type:1,element:m,keyframes:r,preStyleProps:t,postStyleProps:l,duration:f,delay:y,totalTime:f+y,easing:N,subTimeline:H}}class Sf{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,t){let l=this._map.get(r);l||this._map.set(r,l=[]),l.push(...t)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const Xg=new RegExp(":enter","g"),l0=new RegExp(":leave","g");function ep(m,r,t,l,f,y=new Map,N=new Map,H,ee,ae=[]){return(new Df).buildKeyframes(m,r,t,l,f,y,N,H,ee,ae)}class Df{buildKeyframes(r,t,l,f,y,N,H,ee,ae,We=[]){ae=ae||new Sf;const Ze=new t_(r,t,ae,f,y,We,[]);Ze.options=ee;const Dt=ee.delay?Id(ee.delay):0;Ze.currentTimeline.delayNextStep(Dt),Ze.currentTimeline.setStyles([N],null,Ze.errors,ee),Ca(this,l,Ze);const wt=Ze.timelines.filter(Ht=>Ht.containsAnimation());if(wt.length&&H.size){let Ht;for(let zt=wt.length-1;zt>=0;zt--){const on=wt[zt];if(on.element===t){Ht=on;break}}Ht&&!Ht.allowOnlyTimelineStyles()&&Ht.setStyles([H],null,Ze.errors,ee)}return wt.length?wt.map(Ht=>Ht.buildKeyframes()):[Fh(t,[],[],[],0,Dt,"",!1)]}visitTrigger(r,t){}visitState(r,t){}visitTransition(r,t){}visitAnimateChild(r,t){const l=t.subInstructions.get(t.element);if(l){const f=t.createSubContext(r.options),y=t.currentTimeline.currentTime,N=this._visitSubInstructions(l,f,f.options);y!=N&&t.transformIntoNewTimeline(N)}t.previousNode=r}visitAnimateRef(r,t){const l=t.createSubContext(r.options);l.transformIntoNewTimeline(),this._applyAnimationRefDelays([r.options,r.animation.options],t,l),this.visitReference(r.animation,l),t.transformIntoNewTimeline(l.currentTimeline.currentTime),t.previousNode=r}_applyAnimationRefDelays(r,t,l){for(const f of r){const y=f?.delay;if(y){const N="number"==typeof y?y:Id(za(y,f?.params??{},t.errors));l.delayNextStep(N)}}}_visitSubInstructions(r,t,l){let y=t.currentTimeline.currentTime;const N=null!=l.duration?Id(l.duration):null,H=null!=l.delay?Id(l.delay):null;return 0!==N&&r.forEach(ee=>{const ae=t.appendInstructionToTimeline(ee,N,H);y=Math.max(y,ae.duration+ae.delay)}),y}visitReference(r,t){t.updateOptions(r.options,!0),Ca(this,r.animation,t),t.previousNode=r}visitSequence(r,t){const l=t.subContextCount;let f=t;const y=r.options;if(y&&(y.params||y.delay)&&(f=t.createSubContext(y),f.transformIntoNewTimeline(),null!=y.delay)){6==f.previousNode.type&&(f.currentTimeline.snapshotCurrentStyles(),f.previousNode=Bh);const N=Id(y.delay);f.delayNextStep(N)}r.steps.length&&(r.steps.forEach(N=>Ca(this,N,f)),f.currentTimeline.applyStylesToKeyframe(),f.subContextCount>l&&f.transformIntoNewTimeline()),t.previousNode=r}visitGroup(r,t){const l=[];let f=t.currentTimeline.currentTime;const y=r.options&&r.options.delay?Id(r.options.delay):0;r.steps.forEach(N=>{const H=t.createSubContext(r.options);y&&H.delayNextStep(y),Ca(this,N,H),f=Math.max(f,H.currentTimeline.currentTime),l.push(H.currentTimeline)}),l.forEach(N=>t.currentTimeline.mergeTimelineCollectedStyles(N)),t.transformIntoNewTimeline(f),t.previousNode=r}_visitTiming(r,t){if(r.dynamic){const l=r.strValue;return vf(t.params?za(l,t.params,t.errors):l,t.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,t){const l=t.currentAnimateTimings=this._visitTiming(r.timings,t),f=t.currentTimeline;l.delay&&(t.incrementTime(l.delay),f.snapshotCurrentStyles());const y=r.style;5==y.type?this.visitKeyframes(y,t):(t.incrementTime(l.duration),this.visitStyle(y,t),f.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=r}visitStyle(r,t){const l=t.currentTimeline,f=t.currentAnimateTimings;!f&&l.hasCurrentStyleProperties()&&l.forwardFrame();const y=f&&f.easing||r.easing;r.isEmptyStep?l.applyEmptyStep(y):l.setStyles(r.styles,y,t.errors,t.options),t.previousNode=r}visitKeyframes(r,t){const l=t.currentAnimateTimings,f=t.currentTimeline.duration,y=l.duration,H=t.createSubContext().currentTimeline;H.easing=l.easing,r.styles.forEach(ee=>{H.forwardTime((ee.offset||0)*y),H.setStyles(ee.styles,ee.easing,t.errors,t.options),H.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(H),t.transformIntoNewTimeline(f+y),t.previousNode=r}visitQuery(r,t){const l=t.currentTimeline.currentTime,f=r.options||{},y=f.delay?Id(f.delay):0;y&&(6===t.previousNode.type||0==l&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Bh);let N=l;const H=t.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!f.optional,t.errors);t.currentQueryTotal=H.length;let ee=null;H.forEach((ae,We)=>{t.currentQueryIndex=We;const Ze=t.createSubContext(r.options,ae);y&&Ze.delayNextStep(y),ae===t.element&&(ee=Ze.currentTimeline),Ca(this,r.animation,Ze),Ze.currentTimeline.applyStylesToKeyframe(),N=Math.max(N,Ze.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(N),ee&&(t.currentTimeline.mergeTimelineCollectedStyles(ee),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=r}visitStagger(r,t){const l=t.parentContext,f=t.currentTimeline,y=r.timings,N=Math.abs(y.duration),H=N*(t.currentQueryTotal-1);let ee=N*t.currentQueryIndex;switch(y.duration<0?"reverse":y.easing){case"reverse":ee=H-ee;break;case"full":ee=l.currentStaggerTime}const We=t.currentTimeline;ee&&We.delayNextStep(ee);const Ze=We.currentTime;Ca(this,r.animation,t),t.previousNode=r,l.currentStaggerTime=f.currentTime-Ze+(f.startTime-l.currentTimeline.startTime)}}const Bh={};class t_{constructor(r,t,l,f,y,N,H,ee){this._driver=r,this.element=t,this.subInstructions=l,this._enterClassName=f,this._leaveClassName=y,this.errors=N,this.timelines=H,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ee||new Uh(this._driver,t,0),H.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,t){if(!r)return;const l=r;let f=this.options;null!=l.duration&&(f.duration=Id(l.duration)),null!=l.delay&&(f.delay=Id(l.delay));const y=l.params;if(y){let N=f.params;N||(N=this.options.params={}),Object.keys(y).forEach(H=>{(!t||!N.hasOwnProperty(H))&&(N[H]=za(y[H],N,this.errors))})}}_copyOptions(){const r={};if(this.options){const t=this.options.params;if(t){const l=r.params={};Object.keys(t).forEach(f=>{l[f]=t[f]})}}return r}createSubContext(r=null,t,l){const f=t||this.element,y=new t_(this._driver,f,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(f,l||0));return y.previousNode=this.previousNode,y.currentAnimateTimings=this.currentAnimateTimings,y.options=this._copyOptions(),y.updateOptions(r),y.currentQueryIndex=this.currentQueryIndex,y.currentQueryTotal=this.currentQueryTotal,y.parentContext=this,this.subContextCount++,y}transformIntoNewTimeline(r){return this.previousNode=Bh,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,t,l){const f={duration:t??r.duration,delay:this.currentTimeline.currentTime+(l??0)+r.delay,easing:""},y=new c0(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,f,r.stretchStartingKeyframe);return this.timelines.push(y),f}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,t,l,f,y,N){let H=[];if(f&&H.push(this.element),r.length>0){r=(r=r.replace(Xg,"."+this._enterClassName)).replace(l0,"."+this._leaveClassName);let ae=this._driver.query(this.element,r,1!=l);0!==l&&(ae=l<0?ae.slice(ae.length+l,ae.length):ae.slice(0,l)),H.push(...ae)}return!y&&0==H.length&&N.push(function Cg(m){return new n.vHH(3014,!1)}()),H}}class Uh{constructor(r,t,l,f){this._driver=r,this.element=t,this.startTime=l,this._elementTimelineStylesLookup=f,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+r),t&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,t){return this.applyStylesToKeyframe(),new Uh(this._driver,r,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,t){this._localTimelineStyles.set(r,t),this._globalTimelineStyles.set(r,t),this._styleSummary.set(r,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[t,l]of this._globalTimelineStyles)this._backFill.set(t,l||Co.l3),this._currentKeyframe.set(t,Co.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,t,l,f){t&&this._previousKeyframe.set("easing",t);const y=f&&f.params||{},N=function d0(m,r){const t=new Map;let l;return m.forEach(f=>{if("*"===f){l=l||r.keys();for(let y of l)t.set(y,Co.l3)}else wd(f,t)}),t}(r,this._globalTimelineStyles);for(let[H,ee]of N){const ae=za(ee,y,l);this._pendingStyles.set(H,ae),this._localTimelineStyles.has(H)||this._backFill.set(H,this._globalTimelineStyles.get(H)??Co.l3),this._updateStyle(H,ae)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((r,t)=>{this._currentKeyframe.set(t,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,r)}))}snapshotCurrentStyles(){for(let[r,t]of this._localTimelineStyles)this._pendingStyles.set(r,t),this._updateStyle(r,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let t in this._currentKeyframe)r.push(t);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((t,l)=>{const f=this._styleSummary.get(l);(!f||t.time>f.time)&&this._updateStyle(l,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,t=new Set,l=1===this._keyframes.size&&0===this.duration;let f=[];this._keyframes.forEach((H,ee)=>{const ae=wd(H,new Map,this._backFill);ae.forEach((We,Ze)=>{We===Co.k1?r.add(Ze):We===Co.l3&&t.add(Ze)}),l||ae.set("offset",ee/this.duration),f.push(ae)});const y=r.size?Nu(r.values()):[],N=t.size?Nu(t.values()):[];if(l){const H=f[0],ee=new Map(H);H.set("offset",0),ee.set("offset",1),f=[H,ee]}return Fh(this.element,f,y,N,this.duration,this.startTime,this.easing,!1)}}class c0 extends Uh{constructor(r,t,l,f,y,N,H=!1){super(r,t,N.delay),this.keyframes=l,this.preStyleProps=f,this.postStyleProps=y,this._stretchStartingKeyframe=H,this.timings={duration:N.duration,delay:N.delay,easing:N.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:t,duration:l,easing:f}=this.timings;if(this._stretchStartingKeyframe&&t){const y=[],N=l+t,H=t/N,ee=wd(r[0]);ee.set("offset",0),y.push(ee);const ae=wd(r[0]);ae.set("offset",n_(H)),y.push(ae);const We=r.length-1;for(let Ze=1;Ze<=We;Ze++){let Dt=wd(r[Ze]);const wt=Dt.get("offset");Dt.set("offset",n_((t+wt*l)/N)),y.push(Dt)}l=N,t=0,f="",r=y}return Fh(this.element,r,this.preStyleProps,this.postStyleProps,l,t,f,!0)}}function n_(m,r=3){const t=Math.pow(10,r-1);return Math.round(m*t)/t}class tp{}const i_=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class np extends tp{normalizePropertyName(r,t){return Oh(r)}normalizeStyleValue(r,t,l,f){let y="";const N=l.toString().trim();if(i_.has(t)&&0!==l&&"0"!==l)if("number"==typeof l)y="px";else{const H=l.match(/^[+-]?[\d\.]+([a-z]*)$/);H&&0==H[1].length&&f.push(function Ou(m,r){return new n.vHH(3005,!1)}())}return N+y}}function r_(m,r,t,l,f,y,N,H,ee,ae,We,Ze,Dt){return{type:0,element:m,triggerName:r,isRemovalTransition:f,fromState:t,fromStyles:y,toState:l,toStyles:N,timelines:H,queriedElements:ee,preStyleProps:ae,postStyleProps:We,totalTime:Ze,errors:Dt}}const Lu={};class o_{constructor(r,t,l){this._triggerName=r,this.ast=t,this._stateStyles=l}match(r,t,l,f){return function u0(m,r,t,l,f){return m.some(y=>y(r,t,l,f))}(this.ast.matchers,r,t,l,f)}buildStyles(r,t,l){let f=this._stateStyles.get("*");return void 0!==r&&(f=this._stateStyles.get(r?.toString())||f),f?f.buildStyles(t,l):new Map}build(r,t,l,f,y,N,H,ee,ae,We){const Ze=[],Dt=this.ast.options&&this.ast.options.params||Lu,Ht=this.buildStyles(l,H&&H.params||Lu,Ze),zt=ee&&ee.params||Lu,on=this.buildStyles(f,zt,Ze),Sn=new Set,Bn=new Map,Ln=new Map,$n="void"===f,zn={params:f0(zt,Dt),delay:this.ast.options?.delay},ui=We?[]:ep(r,t,this.ast.animation,y,N,Ht,on,zn,ae,Ze);let ei=0;if(ui.forEach(Ci=>{ei=Math.max(Ci.duration+Ci.delay,ei)}),Ze.length)return r_(t,this._triggerName,l,f,$n,Ht,on,[],[],Bn,Ln,ei,Ze);ui.forEach(Ci=>{const Xn=Ci.element,zi=Hs(Bn,Xn,new Set);Ci.preStyleProps.forEach(Hr=>zi.add(Hr));const Pi=Hs(Ln,Xn,new Set);Ci.postStyleProps.forEach(Hr=>Pi.add(Hr)),Xn!==t&&Sn.add(Xn)});const gi=Nu(Sn.values());return r_(t,this._triggerName,l,f,$n,Ht,on,ui,gi,Bn,Ln,ei)}}function f0(m,r){const t=yf(r);for(const l in m)m.hasOwnProperty(l)&&null!=m[l]&&(t[l]=m[l]);return t}class h0{constructor(r,t,l){this.styles=r,this.defaultParams=t,this.normalizer=l}buildStyles(r,t){const l=new Map,f=yf(this.defaultParams);return Object.keys(r).forEach(y=>{const N=r[y];null!==N&&(f[y]=N)}),this.styles.styles.forEach(y=>{"string"!=typeof y&&y.forEach((N,H)=>{N&&(N=za(N,f,t));const ee=this.normalizer.normalizePropertyName(H,t);N=this.normalizer.normalizeStyleValue(H,ee,N,t),l.set(H,N)})}),l}}class s_{constructor(r,t,l){this.name=r,this.ast=t,this._normalizer=l,this.transitionFactories=[],this.states=new Map,t.states.forEach(f=>{this.states.set(f.name,new h0(f.style,f.options&&f.options.params||{},l))}),ip(this.states,"true","1"),ip(this.states,"false","0"),t.transitions.forEach(f=>{this.transitionFactories.push(new o_(r,f,this.states))}),this.fallbackTransition=function a_(m,r,t){return new o_(m,{type:1,animation:{type:2,steps:[],options:null},matchers:[(N,H)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,t,l,f){return this.transitionFactories.find(N=>N.match(r,t,l,f))||null}matchStyles(r,t,l){return this.fallbackTransition.buildStyles(r,t,l)}}function ip(m,r,t){m.has(r)?m.has(t)||m.set(t,m.get(r)):m.has(t)&&m.set(r,m.get(t))}const p0=new Sf;class Xy{constructor(r,t,l){this.bodyNode=r,this._driver=t,this._normalizer=l,this._animations=new Map,this._playersById=new Map,this.players=[]}register(r,t){const l=[],y=qm(this._driver,t,l,[]);if(l.length)throw function Gv(m){return new n.vHH(3503,!1)}();this._animations.set(r,y)}_buildPlayer(r,t,l){const f=r.element,y=nu(this._normalizer,r.keyframes,t,l);return this._driver.animate(f,y,r.duration,r.delay,r.easing,[],!0)}create(r,t,l={}){const f=[],y=this._animations.get(r);let N;const H=new Map;if(y?(N=ep(this._driver,t,y,Ih,wh,new Map,new Map,l,p0,f),N.forEach(We=>{const Ze=Hs(H,We.element,new Map);We.postStyleProps.forEach(Dt=>Ze.set(Dt,null))})):(f.push(function Ig(){return new n.vHH(3300,!1)}()),N=[]),f.length)throw function Hv(m){return new n.vHH(3504,!1)}();H.forEach((We,Ze)=>{We.forEach((Dt,wt)=>{We.set(wt,this._driver.computeStyle(Ze,wt,Co.l3))})});const ae=Na(N.map(We=>{const Ze=H.get(We.element);return this._buildPlayer(We,new Map,Ze)}));return this._playersById.set(r,ae),ae.onDestroy(()=>this.destroy(r)),this.players.push(ae),ae}destroy(r){const t=this._getPlayer(r);t.destroy(),this._playersById.delete(r);const l=this.players.indexOf(t);l>=0&&this.players.splice(l,1)}_getPlayer(r){const t=this._playersById.get(r);if(!t)throw function jv(m){return new n.vHH(3301,!1)}();return t}listen(r,t,l,f){const y=Ru(t,"","","");return Dh(this._getPlayer(r),l,y,f),()=>{}}command(r,t,l,f){if("register"==l)return void this.register(r,f[0]);if("create"==l)return void this.create(r,t,f[0]||{});const y=this._getPlayer(r);switch(l){case"play":y.play();break;case"pause":y.pause();break;case"reset":y.reset();break;case"restart":y.restart();break;case"finish":y.finish();break;case"init":y.init();break;case"setPosition":y.setPosition(parseFloat(f[0]));break;case"destroy":this.destroy(r)}}}const rp="ng-animate-queued",c_="ng-animate-disabled",op=[],d_={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fc={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},La="__ng_removed";class js{get params(){return this.options.params}constructor(r,t=""){this.namespaceId=t;const l=r&&r.hasOwnProperty("value");if(this.value=function Bu(m){return m??null}(l?r.value:r),l){const y=yf(r);delete y.value,this.options=y}else this.options={};this.options.params||(this.options.params={})}absorbOptions(r){const t=r.params;if(t){const l=this.options.params;Object.keys(t).forEach(f=>{null==l[f]&&(l[f]=t[f])})}}}const mc="void",ku=new js(mc);class Vl{constructor(r,t,l){this.id=r,this.hostElement=t,this._engine=l,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,fa(t,this._hostClassName)}listen(r,t,l,f){if(!this._triggers.has(t))throw function wg(m,r){return new n.vHH(3302,!1)}();if(null==l||0==l.length)throw function Vv(m){return new n.vHH(3303,!1)}();if(!function Uu(m){return"start"==m||"done"==m}(l))throw function Pg(m,r){return new n.vHH(3400,!1)}();const y=Hs(this._elementListeners,r,[]),N={name:t,phase:l,callback:f};y.push(N);const H=Hs(this._engine.statesByElement,r,new Map);return H.has(t)||(fa(r,Ph),fa(r,Ph+"-"+t),H.set(t,ku)),()=>{this._engine.afterFlush(()=>{const ee=y.indexOf(N);ee>=0&&y.splice(ee,1),this._triggers.has(t)||H.delete(t)})}}register(r,t){return!this._triggers.has(r)&&(this._triggers.set(r,t),!0)}_getTrigger(r){const t=this._triggers.get(r);if(!t)throw function Kv(m){return new n.vHH(3401,!1)}();return t}trigger(r,t,l,f=!0){const y=this._getTrigger(t),N=new Pd(this.id,t,r);let H=this._engine.statesByElement.get(r);H||(fa(r,Ph),fa(r,Ph+"-"+t),this._engine.statesByElement.set(r,H=new Map));let ee=H.get(t);const ae=new js(l,this.id);if(!(l&&l.hasOwnProperty("value"))&&ee&&ae.absorbOptions(ee.options),H.set(t,ae),ee||(ee=ku),ae.value!==mc&&ee.value===ae.value){if(!function h_(m,r){const t=Object.keys(m),l=Object.keys(r);if(t.length!=l.length)return!1;for(let f=0;f<t.length;f++){const y=t[f];if(!r.hasOwnProperty(y)||m[y]!==r[y])return!1}return!0}(ee.params,ae.params)){const zt=[],on=y.matchStyles(ee.value,ee.params,zt),Sn=y.matchStyles(ae.value,ae.params,zt);zt.length?this._engine.reportError(zt):this._engine.afterFlush(()=>{iu(r,on),Hl(r,Sn)})}return}const Dt=Hs(this._engine.playersByElement,r,[]);Dt.forEach(zt=>{zt.namespaceId==this.id&&zt.triggerName==t&&zt.queued&&zt.destroy()});let wt=y.matchTransition(ee.value,ae.value,r,ae.params),Ht=!1;if(!wt){if(!f)return;wt=y.fallbackTransition,Ht=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:t,transition:wt,fromState:ee,toState:ae,player:N,isFallbackTransition:Ht}),Ht||(fa(r,rp),N.onStart(()=>{lu(r,rp)})),N.onDone(()=>{let zt=this.players.indexOf(N);zt>=0&&this.players.splice(zt,1);const on=this._engine.playersByElement.get(r);if(on){let Sn=on.indexOf(N);Sn>=0&&on.splice(Sn,1)}}),this.players.push(N),Dt.push(N),N}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(t=>t.delete(r)),this._elementListeners.forEach((t,l)=>{this._elementListeners.set(l,t.filter(f=>f.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const t=this._engine.playersByElement.get(r);t&&(t.forEach(l=>l.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,t){const l=this._engine.driver.query(r,Sa,!0);l.forEach(f=>{if(f[La])return;const y=this._engine.fetchNamespacesByElement(f);y.size?y.forEach(N=>N.triggerLeaveAnimation(f,t,!1,!0)):this.clearElementCache(f)}),this._engine.afterFlushAnimationsDone(()=>l.forEach(f=>this.clearElementCache(f)))}triggerLeaveAnimation(r,t,l,f){const y=this._engine.statesByElement.get(r),N=new Map;if(y){const H=[];if(y.forEach((ee,ae)=>{if(N.set(ae,ee.value),this._triggers.has(ae)){const We=this.trigger(r,ae,mc,f);We&&H.push(We)}}),H.length)return this._engine.markElementAsRemoved(this.id,r,!0,t,N),l&&Na(H).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const t=this._elementListeners.get(r),l=this._engine.statesByElement.get(r);if(t&&l){const f=new Set;t.forEach(y=>{const N=y.name;if(f.has(N))return;f.add(N);const ee=this._triggers.get(N).fallbackTransition,ae=l.get(N)||ku,We=new js(mc),Ze=new Pd(this.id,N,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:N,transition:ee,fromState:ae,toState:We,player:Ze,isFallbackTransition:!0})})}}removeNode(r,t){const l=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,t),this.triggerLeaveAnimation(r,t,!0))return;let f=!1;if(l.totalAnimations){const y=l.players.length?l.playersByQueriedElement.get(r):[];if(y&&y.length)f=!0;else{let N=r;for(;N=N.parentNode;)if(l.statesByElement.get(N)){f=!0;break}}}if(this.prepareLeaveAnimationListeners(r),f)l.markElementAsRemoved(this.id,r,!1,t);else{const y=r[La];(!y||y===d_)&&(l.afterFlush(()=>this.clearElementCache(r)),l.destroyInnerAnimations(r),l._onRemovalComplete(r,t))}}insertNode(r,t){fa(r,this._hostClassName)}drainQueuedTransitions(r){const t=[];return this._queue.forEach(l=>{const f=l.player;if(f.destroyed)return;const y=l.element,N=this._elementListeners.get(y);N&&N.forEach(H=>{if(H.name==l.triggerName){const ee=Ru(y,l.triggerName,l.fromState.value,l.toState.value);ee._data=r,Dh(l.player,H.phase,ee,H.callback)}}),f.markedForDestroy?this._engine.afterFlush(()=>{f.destroy()}):t.push(l)}),this._queue=[],t.sort((l,f)=>{const y=l.transition.ast.depCount,N=f.transition.ast.depCount;return 0==y||0==N?y-N:this._engine.driver.containsElement(l.element,f.element)?1:-1})}destroy(r){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}}class sp{_onRemovalComplete(r,t){this.onRemovalComplete(r,t)}constructor(r,t,l){this.bodyNode=r,this.driver=t,this._normalizer=l,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(f,y)=>{}}get queuedPlayers(){const r=[];return this._namespaceList.forEach(t=>{t.players.forEach(l=>{l.queued&&r.push(l)})}),r}createNamespace(r,t){const l=new Vl(r,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(l,t):(this.newHostElements.set(t,l),this.collectEnterElement(t)),this._namespaceLookup[r]=l}_balanceNamespaceList(r,t){const l=this._namespaceList,f=this.namespacesByHostElement;if(l.length-1>=0){let N=!1,H=this.driver.getParentElement(t);for(;H;){const ee=f.get(H);if(ee){const ae=l.indexOf(ee);l.splice(ae+1,0,r),N=!0;break}H=this.driver.getParentElement(H)}N||l.unshift(r)}else l.push(r);return f.set(t,r),r}register(r,t){let l=this._namespaceLookup[r];return l||(l=this.createNamespace(r,t)),l}registerTrigger(r,t,l){let f=this._namespaceLookup[r];f&&f.register(t,l)&&this.totalAnimations++}destroy(r,t){r&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const l=this._fetchNamespace(r);this.namespacesByHostElement.delete(l.hostElement);const f=this._namespaceList.indexOf(l);f>=0&&this._namespaceList.splice(f,1),l.destroy(t),delete this._namespaceLookup[r]}))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const t=new Set,l=this.statesByElement.get(r);if(l)for(let f of l.values())if(f.namespaceId){const y=this._fetchNamespace(f.namespaceId);y&&t.add(y)}return t}trigger(r,t,l,f){if(cd(t)){const y=this._fetchNamespace(r);if(y)return y.trigger(t,l,f),!0}return!1}insertNode(r,t,l,f){if(!cd(t))return;const y=t[La];if(y&&y.setForRemoval){y.setForRemoval=!1,y.setForMove=!0;const N=this.collectedLeaveElements.indexOf(t);N>=0&&this.collectedLeaveElements.splice(N,1)}if(r){const N=this._fetchNamespace(r);N&&N.insertNode(t,l)}f&&this.collectEnterElement(t)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,t){t?this.disabledNodes.has(r)||(this.disabledNodes.add(r),fa(r,c_)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),lu(r,c_))}removeNode(r,t,l){if(cd(t)){const f=r?this._fetchNamespace(r):null;f?f.removeNode(t,l):this.markElementAsRemoved(r,t,!1,l);const y=this.namespacesByHostElement.get(t);y&&y.id!==r&&y.removeNode(t,l)}else this._onRemovalComplete(t,l)}markElementAsRemoved(r,t,l,f,y){this.collectedLeaveElements.push(t),t[La]={namespaceId:r,setForRemoval:f,hasAnimation:l,removedBeforeQueried:!1,previousTriggersValues:y}}listen(r,t,l,f,y){return cd(t)?this._fetchNamespace(r).listen(t,l,f,y):()=>{}}_buildInstruction(r,t,l,f,y){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,l,f,r.fromState.options,r.toState.options,t,y)}destroyInnerAnimations(r){let t=this.driver.query(r,Sa,!0);t.forEach(l=>this.destroyActiveAnimationsForElement(l)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(r,$m,!0),t.forEach(l=>this.finishActiveQueriedAnimationOnElement(l)))}destroyActiveAnimationsForElement(r){const t=this.playersByElement.get(r);t&&t.forEach(l=>{l.queued?l.markedForDestroy=!0:l.destroy()})}finishActiveQueriedAnimationOnElement(r){const t=this.playersByQueriedElement.get(r);t&&t.forEach(l=>l.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return Na(this.players).onDone(()=>r());r()})}processLeaveNode(r){const t=r[La];if(t&&t.setForRemoval){if(r[La]=d_,t.namespaceId){this.destroyInnerAnimations(r);const l=this._fetchNamespace(t.namespaceId);l&&l.clearElementCache(r)}this._onRemovalComplete(r,t.setForRemoval)}r.classList?.contains(c_)&&this.markElementAsDisabled(r,!1),this.driver.query(r,".ng-animate-disabled",!0).forEach(l=>{this.markElementAsDisabled(l,!1)})}flush(r=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((l,f)=>this._balanceNamespaceList(l,f)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let l=0;l<this.collectedEnterElements.length;l++)fa(this.collectedEnterElements[l],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const l=[];try{t=this._flushAnimations(l,r)}finally{for(let f=0;f<l.length;f++)l[f]()}}else for(let l=0;l<this.collectedLeaveElements.length;l++)this.processLeaveNode(this.collectedLeaveElements[l]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(l=>l()),this._flushFns=[],this._whenQuietFns.length){const l=this._whenQuietFns;this._whenQuietFns=[],t.length?Na(t).onDone(()=>{l.forEach(f=>f())}):l.forEach(f=>f())}}reportError(r){throw function Wv(m){return new n.vHH(3402,!1)}()}_flushAnimations(r,t){const l=new Sf,f=[],y=new Map,N=[],H=new Map,ee=new Map,ae=new Map,We=new Set;this.disabledNodes.forEach(yi=>{We.add(yi);const xi=this.driver.query(yi,".ng-animate-queued",!0);for(let ai=0;ai<xi.length;ai++)We.add(xi[ai])});const Ze=this.bodyNode,Dt=Array.from(this.statesByElement.keys()),wt=au(Dt,this.collectedEnterElements),Ht=new Map;let zt=0;wt.forEach((yi,xi)=>{const ai=Ih+zt++;Ht.set(xi,ai),yi.forEach(bi=>fa(bi,ai))});const on=[],Sn=new Set,Bn=new Set;for(let yi=0;yi<this.collectedLeaveElements.length;yi++){const xi=this.collectedLeaveElements[yi],ai=xi[La];ai&&ai.setForRemoval&&(on.push(xi),Sn.add(xi),ai.hasAnimation?this.driver.query(xi,".ng-star-inserted",!0).forEach(bi=>Sn.add(bi)):Bn.add(xi))}const Ln=new Map,$n=au(Dt,Array.from(Sn));$n.forEach((yi,xi)=>{const ai=wh+zt++;Ln.set(xi,ai),yi.forEach(bi=>fa(bi,ai))}),r.push(()=>{wt.forEach((yi,xi)=>{const ai=Ht.get(xi);yi.forEach(bi=>lu(bi,ai))}),$n.forEach((yi,xi)=>{const ai=Ln.get(xi);yi.forEach(bi=>lu(bi,ai))}),on.forEach(yi=>{this.processLeaveNode(yi)})});const zn=[],ui=[];for(let yi=this._namespaceList.length-1;yi>=0;yi--)this._namespaceList[yi].drainQueuedTransitions(t).forEach(ai=>{const bi=ai.player,Xi=ai.element;if(zn.push(bi),this.collectedEnterElements.length){const Bo=Xi[La];if(Bo&&Bo.setForMove){if(Bo.previousTriggersValues&&Bo.previousTriggersValues.has(ai.triggerName)){const _c=Bo.previousTriggersValues.get(ai.triggerName),ha=this.statesByElement.get(ai.element);if(ha&&ha.has(ai.triggerName)){const Pp=ha.get(ai.triggerName);Pp.value=_c,ha.set(ai.triggerName,Pp)}}return void bi.destroy()}}const Lr=!Ze||!this.driver.containsElement(Ze,Xi),lr=Ln.get(Xi),uo=Ht.get(Xi),Pr=this._buildInstruction(ai,l,uo,lr,Lr);if(Pr.errors&&Pr.errors.length)return void ui.push(Pr);if(Lr)return bi.onStart(()=>iu(Xi,Pr.fromStyles)),bi.onDestroy(()=>Hl(Xi,Pr.toStyles)),void f.push(bi);if(ai.isFallbackTransition)return bi.onStart(()=>iu(Xi,Pr.fromStyles)),bi.onDestroy(()=>Hl(Xi,Pr.toStyles)),void f.push(bi);const Da=[];Pr.timelines.forEach(Bo=>{Bo.stretchStartingKeyframe=!0,this.disabledNodes.has(Bo.element)||Da.push(Bo)}),Pr.timelines=Da,l.append(Xi,Pr.timelines),N.push({instruction:Pr,player:bi,element:Xi}),Pr.queriedElements.forEach(Bo=>Hs(H,Bo,[]).push(bi)),Pr.preStyleProps.forEach((Bo,_c)=>{if(Bo.size){let ha=ee.get(_c);ha||ee.set(_c,ha=new Set),Bo.forEach((Pp,Ff)=>ha.add(Ff))}}),Pr.postStyleProps.forEach((Bo,_c)=>{let ha=ae.get(_c);ha||ae.set(_c,ha=new Set),Bo.forEach((Pp,Ff)=>ha.add(Ff))})});if(ui.length){const yi=[];ui.forEach(xi=>{yi.push(function Og(m,r){return new n.vHH(3505,!1)}())}),zn.forEach(xi=>xi.destroy()),this.reportError(yi)}const ei=new Map,gi=new Map;N.forEach(yi=>{const xi=yi.element;l.has(xi)&&(gi.set(xi,xi),this._beforeAnimationBuild(yi.player.namespaceId,yi.instruction,ei))}),f.forEach(yi=>{const xi=yi.element;this._getPreviousPlayers(xi,!1,yi.namespaceId,yi.triggerName,null).forEach(bi=>{Hs(ei,xi,[]).push(bi),bi.destroy()})});const Ci=on.filter(yi=>lp(yi,ee,ae)),Xn=new Map;su(Xn,this.driver,Bn,ae,Co.l3).forEach(yi=>{lp(yi,ee,ae)&&Ci.push(yi)});const Pi=new Map;wt.forEach((yi,xi)=>{su(Pi,this.driver,new Set(yi),ee,Co.k1)}),Ci.forEach(yi=>{const xi=Xn.get(yi),ai=Pi.get(yi);Xn.set(yi,new Map([...xi?.entries()??[],...ai?.entries()??[]]))});const Hr=[],Vs=[],yo={};N.forEach(yi=>{const{element:xi,player:ai,instruction:bi}=yi;if(l.has(xi)){if(We.has(xi))return ai.onDestroy(()=>Hl(xi,bi.toStyles)),ai.disabled=!0,ai.overrideTotalTime(bi.totalTime),void f.push(ai);let Xi=yo;if(gi.size>1){let lr=xi;const uo=[];for(;lr=lr.parentNode;){const Pr=gi.get(lr);if(Pr){Xi=Pr;break}uo.push(lr)}uo.forEach(Pr=>gi.set(Pr,Xi))}const Lr=this._buildAnimation(ai.namespaceId,bi,ei,y,Pi,Xn);if(ai.setRealPlayer(Lr),Xi===yo)Hr.push(ai);else{const lr=this.playersByElement.get(Xi);lr&&lr.length&&(ai.parentPlayer=Na(lr)),f.push(ai)}}else iu(xi,bi.fromStyles),ai.onDestroy(()=>Hl(xi,bi.toStyles)),Vs.push(ai),We.has(xi)&&f.push(ai)}),Vs.forEach(yi=>{const xi=y.get(yi.element);if(xi&&xi.length){const ai=Na(xi);yi.setRealPlayer(ai)}}),f.forEach(yi=>{yi.parentPlayer?yi.syncPlayerEvents(yi.parentPlayer):yi.destroy()});for(let yi=0;yi<on.length;yi++){const xi=on[yi],ai=xi[La];if(lu(xi,wh),ai&&ai.hasAnimation)continue;let bi=[];if(H.size){let Lr=H.get(xi);Lr&&Lr.length&&bi.push(...Lr);let lr=this.driver.query(xi,$m,!0);for(let uo=0;uo<lr.length;uo++){let Pr=H.get(lr[uo]);Pr&&Pr.length&&bi.push(...Pr)}}const Xi=bi.filter(Lr=>!Lr.destroyed);Xi.length?u_(this,xi,Xi):this.processLeaveNode(xi)}return on.length=0,Hr.forEach(yi=>{this.players.push(yi),yi.onDone(()=>{yi.destroy();const xi=this.players.indexOf(yi);this.players.splice(xi,1)}),yi.play()}),Hr}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,t,l,f,y){let N=[];if(t){const H=this.playersByQueriedElement.get(r);H&&(N=H)}else{const H=this.playersByElement.get(r);if(H){const ee=!y||y==mc;H.forEach(ae=>{ae.queued||!ee&&ae.triggerName!=f||N.push(ae)})}}return(l||f)&&(N=N.filter(H=>!(l&&l!=H.namespaceId||f&&f!=H.triggerName))),N}_beforeAnimationBuild(r,t,l){const y=t.element,N=t.isRemovalTransition?void 0:r,H=t.isRemovalTransition?void 0:t.triggerName;for(const ee of t.timelines){const ae=ee.element,We=ae!==y,Ze=Hs(l,ae,[]);this._getPreviousPlayers(ae,We,N,H,t.toState).forEach(wt=>{const Ht=wt.getRealPlayer();Ht.beforeDestroy&&Ht.beforeDestroy(),wt.destroy(),Ze.push(wt)})}iu(y,t.fromStyles)}_buildAnimation(r,t,l,f,y,N){const H=t.triggerName,ee=t.element,ae=[],We=new Set,Ze=new Set,Dt=t.timelines.map(Ht=>{const zt=Ht.element;We.add(zt);const on=zt[La];if(on&&on.removedBeforeQueried)return new Co.ZN(Ht.duration,Ht.delay);const Sn=zt!==ee,Bn=function f_(m){const r=[];return ap(m,r),r}((l.get(zt)||op).map(ei=>ei.getRealPlayer())).filter(ei=>!!ei.element&&ei.element===zt),Ln=y.get(zt),$n=N.get(zt),zn=nu(this._normalizer,Ht.keyframes,Ln,$n),ui=this._buildPlayer(Ht,zn,Bn);if(Ht.subTimeline&&f&&Ze.add(zt),Sn){const ei=new Pd(r,H,zt);ei.setRealPlayer(ui),ae.push(ei)}return ui});ae.forEach(Ht=>{Hs(this.playersByQueriedElement,Ht.element,[]).push(Ht),Ht.onDone(()=>function Fu(m,r,t){let l=m.get(r);if(l){if(l.length){const f=l.indexOf(t);l.splice(f,1)}0==l.length&&m.delete(r)}return l}(this.playersByQueriedElement,Ht.element,Ht))}),We.forEach(Ht=>fa(Ht,Hg));const wt=Na(Dt);return wt.onDestroy(()=>{We.forEach(Ht=>lu(Ht,Hg)),Hl(ee,t.toStyles)}),Ze.forEach(Ht=>{Hs(f,Ht,[]).push(wt)}),wt}_buildPlayer(r,t,l){return t.length>0?this.driver.animate(r.element,t,r.duration,r.delay,r.easing,l):new Co.ZN(r.duration,r.delay)}}class Pd{constructor(r,t,l){this.namespaceId=r,this.triggerName=t,this.element=l,this._player=new Co.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((t,l)=>{t.forEach(f=>Dh(r,l,void 0,f))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const t=this._player;t.triggerCallback&&r.onStart(()=>t.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,t){Hs(this._queuedCallbacks,r,[]).push(t)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const t=this._player;t.triggerCallback&&t.triggerCallback(r)}}function cd(m){return m&&1===m.nodeType}function ou(m,r){const t=m.style.display;return m.style.display=r??"none",t}function su(m,r,t,l,f){const y=[];t.forEach(ee=>y.push(ou(ee)));const N=[];l.forEach((ee,ae)=>{const We=new Map;ee.forEach(Ze=>{const Dt=r.computeStyle(ae,Ze,f);We.set(Ze,Dt),(!Dt||0==Dt.length)&&(ae[La]=Fc,N.push(ae))}),m.set(ae,We)});let H=0;return t.forEach(ee=>ou(ee,y[H++])),N}function au(m,r){const t=new Map;if(m.forEach(H=>t.set(H,[])),0==r.length)return t;const f=new Set(r),y=new Map;function N(H){if(!H)return 1;let ee=y.get(H);if(ee)return ee;const ae=H.parentNode;return ee=t.has(ae)?ae:f.has(ae)?1:N(ae),y.set(H,ee),ee}return r.forEach(H=>{const ee=N(H);1!==ee&&t.get(ee).push(H)}),t}function fa(m,r){m.classList?.add(r)}function lu(m,r){m.classList?.remove(r)}function u_(m,r,t){Na(t).onDone(()=>m.processLeaveNode(r))}function ap(m,r){for(let t=0;t<m.length;t++){const l=m[t];l instanceof Co.ZE?ap(l.players,r):r.push(l)}}function lp(m,r,t){const l=t.get(m);if(!l)return!1;let f=r.get(m);return f?l.forEach(y=>f.add(y)):r.set(m,l),t.delete(m),!0}class Mf{constructor(r,t,l){this.bodyNode=r,this._driver=t,this._normalizer=l,this._triggerCache={},this.onRemovalComplete=(f,y)=>{},this._transitionEngine=new sp(r,t,l),this._timelineEngine=new Xy(r,t,l),this._transitionEngine.onRemovalComplete=(f,y)=>this.onRemovalComplete(f,y)}registerTrigger(r,t,l,f,y){const N=r+"-"+f;let H=this._triggerCache[N];if(!H){const ee=[],We=qm(this._driver,y,ee,[]);if(ee.length)throw function xg(m,r){return new n.vHH(3404,!1)}();H=function m0(m,r,t){return new s_(m,r,t)}(f,We,this._normalizer),this._triggerCache[N]=H}this._transitionEngine.registerTrigger(t,f,H)}register(r,t){this._transitionEngine.register(r,t)}destroy(r,t){this._transitionEngine.destroy(r,t)}onInsert(r,t,l,f){this._transitionEngine.insertNode(r,t,l,f)}onRemove(r,t,l){this._transitionEngine.removeNode(r,t,l)}disableAnimations(r,t){this._transitionEngine.markElementAsDisabled(r,t)}process(r,t,l,f){if("@"==l.charAt(0)){const[y,N]=Mh(l);this._timelineEngine.command(y,t,N,f)}else this._transitionEngine.trigger(r,t,l,f)}listen(r,t,l,f,y){if("@"==l.charAt(0)){const[N,H]=Mh(l);return this._timelineEngine.listen(N,t,H,y)}return this._transitionEngine.listen(r,t,l,f,y)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(r){this._transitionEngine.afterFlushAnimationsDone(r)}}let p_=(()=>{class m{static#e=this.initialStylesByElement=new WeakMap;constructor(t,l,f){this._element=t,this._startStyles=l,this._endStyles=f,this._state=0;let y=m.initialStylesByElement.get(t);y||m.initialStylesByElement.set(t,y=new Map),this._initialStyles=y}start(){this._state<1&&(this._startStyles&&Hl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hl(this._element,this._initialStyles),this._endStyles&&(Hl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(m.initialStylesByElement.delete(this._element),this._startStyles&&(iu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(iu(this._element,this._endStyles),this._endStyles=null),Hl(this._element,this._initialStyles),this._state=3)}}return m})();function Af(m){let r=null;return m.forEach((t,l)=>{(function v0(m){return"display"===m||"position"===m})(l)&&(r=r||new Map,r.set(l,t))}),r}class y0{constructor(r,t,l,f){this.element=r,this.keyframes=t,this.options=l,this._specialStyles=f,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=l.duration,this._delay=l.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){const t=[];return r.forEach(l=>{t.push(Object.fromEntries(l))}),t}_triggerWebAnimation(r,t,l){return r.animate(this._convertKeyframesToObject(t),l)}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((l,f)=>{"offset"!==f&&r.set(f,this._finished?l:Rh(this.element,f))}),this.currentSnapshot=r}triggerCallback(r){const t="start"===r?this._onStartFns:this._onDoneFns;t.forEach(l=>l()),t.length=0}}class eb{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}matchesElement(r,t){return!1}containsElement(r,t){return kg(r,t)}getParentElement(r){return Ah(r)}query(r,t,l){return Fg(r,t,l)}computeStyle(r,t,l){return window.getComputedStyle(r)[t]}animate(r,t,l,f,y,N=[]){const ee={duration:l,delay:f,fill:0==f?"both":"forwards"};y&&(ee.easing=y);const ae=new Map,We=N.filter(wt=>wt instanceof y0);(function Yg(m,r){return 0===m||0===r})(l,f)&&We.forEach(wt=>{wt.currentSnapshot.forEach((Ht,zt)=>ae.set(zt,Ht))});let Ze=function Vg(m){return m.length?m[0]instanceof Map?m:m.map(r=>jg(r)):[]}(t).map(wt=>wd(wt));Ze=function zg(m,r,t){if(t.size&&r.length){let l=r[0],f=[];if(t.forEach((y,N)=>{l.has(N)||f.push(N),l.set(N,y)}),f.length)for(let y=1;y<r.length;y++){let N=r[y];f.forEach(H=>N.set(H,Rh(m,H)))}}return r}(r,Ze,ae);const Dt=function m_(m,r){let t=null,l=null;return Array.isArray(r)&&r.length?(t=Af(r[0]),r.length>1&&(l=Af(r[r.length-1]))):r instanceof Map&&(t=Af(r)),t||l?new p_(m,t,l):null}(r,Ze);return new y0(r,Ze,ee,Dt)}}let b0=(()=>{class m extends Co._j{constructor(t,l){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(l.body,{id:"0",encapsulation:n.ifc.None,styles:[],data:{animation:[]}})}build(t){const l=this._nextAnimationId.toString();this._nextAnimationId++;const f=Array.isArray(t)?(0,Co.vP)(t):t;return g_(this._renderer,null,l,"register",[f]),new E0(l,this._renderer)}static#e=this.\u0275fac=function(l){return new(l||m)(n.LFG(n.FYo),n.LFG(g.K0))};static#t=this.\u0275prov=n.Yz7({token:m,factory:m.\u0275fac})}return m})();class E0 extends Co.LC{constructor(r,t){super(),this._id=r,this._renderer=t}create(r,t){return new tb(this._id,r,t||{},this._renderer)}}class tb{constructor(r,t,l,f){this.id=r,this.element=t,this._renderer=f,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",l)}_listen(r,t){return this._renderer.listen(this.element,`@@${this.id}:${r}`,t)}_command(r,...t){return g_(this._renderer,this.element,this.id,r,t)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function g_(m,r,t,l,f){return m.setProperty(r,`@@${t}:${l}`,f)}const __="@.disabled";let T0=(()=>{class m{constructor(t,l,f){this.delegate=t,this.engine=l,this._zone=f,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,l.onRemovalComplete=(y,N)=>{const H=N?.parentNode(y);H&&N.removeChild(H,y)}}createRenderer(t,l){const y=this.delegate.createRenderer(t,l);if(!(t&&l&&l.data&&l.data.animation)){let We=this._rendererCache.get(y);return We||(We=new v_("",y,this.engine,()=>this._rendererCache.delete(y)),this._rendererCache.set(y,We)),We}const N=l.id,H=l.id+"-"+this._currentId;this._currentId++,this.engine.register(H,t);const ee=We=>{Array.isArray(We)?We.forEach(ee):this.engine.registerTrigger(N,H,t,We.name,We)};return l.data.animation.forEach(ee),new dp(this,H,y,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,l,f){t>=0&&t<this._microtaskId?this._zone.run(()=>l(f)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(y=>{const[N,H]=y;N(H)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([l,f]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(l){return new(l||m)(n.LFG(n.FYo),n.LFG(Mf),n.LFG(n.R0b))};static#t=this.\u0275prov=n.Yz7({token:m,factory:m.\u0275fac})}return m})();class v_{constructor(r,t,l,f){this.namespaceId=r,this.delegate=t,this.engine=l,this._onDestroy=f}get data(){return this.delegate.data}destroyNode(r){this.delegate.destroyNode?.(r)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(r,t){return this.delegate.createElement(r,t)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,t){this.delegate.appendChild(r,t),this.engine.onInsert(this.namespaceId,t,r,!1)}insertBefore(r,t,l,f=!0){this.delegate.insertBefore(r,t,l),this.engine.onInsert(this.namespaceId,t,r,f)}removeChild(r,t,l){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(r,t){return this.delegate.selectRootElement(r,t)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,t,l,f){this.delegate.setAttribute(r,t,l,f)}removeAttribute(r,t,l){this.delegate.removeAttribute(r,t,l)}addClass(r,t){this.delegate.addClass(r,t)}removeClass(r,t){this.delegate.removeClass(r,t)}setStyle(r,t,l,f){this.delegate.setStyle(r,t,l,f)}removeStyle(r,t,l){this.delegate.removeStyle(r,t,l)}setProperty(r,t,l){"@"==t.charAt(0)&&t==__?this.disableAnimations(r,!!l):this.delegate.setProperty(r,t,l)}setValue(r,t){this.delegate.setValue(r,t)}listen(r,t,l){return this.delegate.listen(r,t,l)}disableAnimations(r,t){this.engine.disableAnimations(r,t)}}class dp extends v_{constructor(r,t,l,f,y){super(t,l,f,y),this.factory=r,this.namespaceId=t}setProperty(r,t,l){"@"==t.charAt(0)?"."==t.charAt(1)&&t==__?this.disableAnimations(r,l=void 0===l||!!l):this.engine.process(this.namespaceId,r,t.slice(1),l):this.delegate.setProperty(r,t,l)}listen(r,t,l){if("@"==t.charAt(0)){const f=function xf(m){switch(m){case"body":return document.body;case"document":return document;case"window":return window;default:return m}}(r);let y=t.slice(1),N="";return"@"!=y.charAt(0)&&([y,N]=function up(m){const r=m.indexOf(".");return[m.substring(0,r),m.slice(r+1)]}(y)),this.engine.listen(this.namespaceId,f,y,N,H=>{this.factory.scheduleListenerCallback(H._data||-1,l,H)})}return this.delegate.listen(r,t,l)}}let Hh=(()=>{class m extends Mf{constructor(t,l,f,y){super(t.body,l,f)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(l){return new(l||m)(n.LFG(g.K0),n.LFG(Zm),n.LFG(tp),n.LFG(n.z2F))};static#t=this.\u0275prov=n.Yz7({token:m,factory:m.\u0275fac})}return m})();const fp=[{provide:Co._j,useClass:b0},{provide:tp,useFactory:function y_(){return new np}},{provide:Mf,useClass:Hh},{provide:n.FYo,useFactory:function If(m,r,t){return new T0(m,r,t)},deps:[e.se,Mf,n.R0b]}],hp=[{provide:Zm,useFactory:()=>new eb},{provide:n.QbO,useValue:"BrowserAnimations"},...fp],Gu=[{provide:Zm,useClass:Bg},{provide:n.QbO,useValue:"NoopAnimations"},...fp];let S0=(()=>{class m{static withConfig(t){return{ngModule:m,providers:t.disableAnimations?Gu:hp}}static#e=this.\u0275fac=function(l){return new(l||m)};static#t=this.\u0275mod=n.oAB({type:m});static#n=this.\u0275inj=n.cJS({providers:hp,imports:[e.b2]})}return m})();const jh_firebase={apiKey:"AIzaSyCPw-M_b3TyI_lHHkg3lT8ZZ_Z8XRa6vLU",authDomain:"sinovadclient-119aa.firebaseapp.com",projectId:"sinovadclient-119aa",storageBucket:"sinovadclient-119aa.appspot.com",messagingSenderId:"734621308263",appId:"1:734621308263:web:93ab2203f67a179c5a4bc2",measurementId:"G-2HCXG6DS06"};var Vh=v(8532),Kh=v(5775),ob=v(3524),C0=v(9850),D0=v(4769),mp=v(2680),M0=v(9897),b_=v(4444),A0=v(7674),x0=v(7733),E_=v(9871),T_=v(2150),S_=v(9411);class I0{}const Hu={UKNOWN:"Unknown"},pp={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:Hu.UKNOWN},wf={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},Od={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y|SM-X200|SM-T970"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09|AGS-L09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},Bc={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:Hu.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},C_=[Bc.PS4,Bc.CHROME_BOOK,Bc.MAC,Bc.DELL,Bc.ASUS,Bc.UNKNOWN],Wh={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:Hu.UKNOWN},Yh={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:Hu.UKNOWN.toLowerCase()},zh={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},w0={...wf,...Od,...zh,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}},gp={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},_p={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},Zh=Object.keys(gp).reduce((m,r)=>(m[r]=gp[r],m),{}),Pf=Object.keys(_p).reduce((m,r)=>(m[pp[r]]=_p[r],m),{});var Kl=Object.freeze({__proto__:null,BROWSERS:pp,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},BROWSER_VERSIONS_RE:Pf,BROWSER_VERSIONS_RE_MAP:_p,DESKTOP_DEVICES:C_,DEVICES:Bc,DEVICES_RE:w0,GENERAL:Hu,MOBILES_RE:wf,OS:Wh,OS_RE:zh,OS_VERSIONS:Yh,OS_VERSIONS_RE:Zh,OS_VERSIONS_RE_MAP:gp,TABLETS_RE:Od});class M_{constructor(){}test(r,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.test(r):t&&Array.isArray(t.and)?t.and.every(l=>this.test(r,l)):t&&Array.isArray(t.or)?t.or.some(l=>this.test(r,l)):!(!t||!t.not||this.test(r,t.not))}exec(r,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.exec(r):t&&Array.isArray(t)?t.reduce((l,f)=>l||this.exec(r,f),null):null}}var Of=function(m){return m.Mobile="mobile",m.Tablet="tablet",m.Desktop="desktop",m.Unknown="unknown",m}(Of||{}),vp=function(m){return m.Portrait="portrait",m.Landscape="landscape",m}(vp||{});const $h="iPad";let yp=(()=>{class m{constructor(t){this.platformId=t,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new M_,this.deviceType="",this.orientation="",(0,g.NF)(this.platformId)&&typeof window<"u"&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(t=this.userAgent){t!==this.userAgent&&(this.userAgent=t);const l=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(l.forEach(f=>{this[f.prop]=Object.keys(Kl[f.const]).reduce((y,N)=>"device"===Kl[f.const][N]&&(0,g.NF)(this.platformId)&&(this.reTree.test(this.userAgent,Od[$h])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(y[Kl[f.const][N]]=$h,Object):(y[Kl[f.const][N]]=this.reTree.test(t,Kl[`${f.const}_RE`][N]),y),{})}),l.forEach(f=>{this[f.prop]=Object.keys(Kl[f.const]).map(y=>Kl[f.const][y]).reduce((y,N)=>"device"===f.prop&&y===Kl[f.const].ANDROID?this[f.prop][N]?N:y:y===Kl[f.const].UNKNOWN&&this[f.prop][N]?N:y,Kl[f.const].UNKNOWN)}),this.browser_version="0",this.browser!==pp.UNKNOWN){const y=this.reTree.exec(t,Pf[this.browser]);y&&(this.browser_version=y[1])}this.orientation=typeof window<"u"&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?vp.Landscape:vp.Portrait:Hu.UKNOWN,this.deviceType=this.isTablet()?Of.Tablet:this.isMobile(this.userAgent)?Of.Mobile:this.isDesktop(this.userAgent)?Of.Desktop:Of.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(t=this.userAgent){return!this.isTablet(t)&&!!Object.keys(wf).find(f=>this.reTree.test(t,wf[f]))}isTablet(t=this.userAgent){return!(!(0,g.NF)(this.platformId)||!(this.reTree.test(this.userAgent,Od[$h])||typeof navigator<"u"&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(Od).find(f=>!!this.reTree.test(t,Od[f]))}isDesktop(t=this.userAgent){return(this.device!==Bc.UNKNOWN||!this.isMobile(t)&&!this.isTablet(t))&&C_.indexOf(this.device)>-1}static#e=this.\u0275fac=function(l){return new(l||m)(n.LFG(n.Lbi))};static#t=this.\u0275prov=n.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();function A_(m,r){if(1&m&&(n.TgZ(0,"div",13),n._uU(1),n.qZA()),2&m){const t=n.oxw(3);n.xp6(1),n.hij(" ",t.sharedService.getInitials(t.sharedService.currentProfile)," ")}}function bp(m,r){if(1&m&&(n._UZ(0,"img",13),n.ALo(1,"async"),n.ALo(2,"formatDataPipe")),2&m){const t=n.oxw(3);n.uIk("src",n.lcZ(1,1,n.xi3(2,3,t.sharedService.currentProfile.Id,"GetAvatarImageURLByProfileId")),n.LSH)}}function Ep(m,r){if(1&m&&(n.TgZ(0,"span",11),n._uU(1),n.qZA(),n.YNc(2,A_,2,1,"div",12),n.YNc(3,bp,3,6,"img",12)),2&m){const t=n.oxw(2);n.xp6(1),n.hij(" ",t.sharedService.currentProfile.FullName," "),n.xp6(1),n.Q6J("ngIf",null==t.sharedService.currentProfile.AvatarPath),n.xp6(1),n.Q6J("ngIf",null!=t.sharedService.currentProfile.AvatarPath)}}function P0(m,r){if(1&m&&(n.TgZ(0,"div",13),n._uU(1),n.qZA()),2&m){const t=n.oxw(2).$implicit,l=n.oxw(3);n.xp6(1),n.hij(" ",l.sharedService.getInitials(t)," ")}}function x_(m,r){if(1&m&&(n._UZ(0,"img",13),n.ALo(1,"async"),n.ALo(2,"formatDataPipe")),2&m){const t=n.oxw(2).$implicit;n.uIk("src",n.lcZ(1,1,n.xi3(2,3,t.Id,"GetAvatarImageURLByProfileId")),n.LSH)}}function I_(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"li",3)(1,"a",15,5),n.NdJ("click",function(){n.CHM(t);const f=n.oxw().$implicit,y=n.oxw(3);return n.KtG(y.onSelectProfile(f))}),n.YNc(3,P0,2,1,"div",12),n.YNc(4,x_,3,6,"img",12),n.TgZ(5,"span",11),n._uU(6),n.qZA()()()}if(2&m){const t=n.oxw().$implicit;n.xp6(3),n.Q6J("ngIf",null==t.AvatarPath),n.xp6(1),n.Q6J("ngIf",null!=t.AvatarPath),n.xp6(2),n.hij(" ",t.FullName," ")}}function w_(m,r){if(1&m&&n.YNc(0,I_,7,3,"li",10),2&m){const t=r.$implicit,l=n.oxw(3);n.Q6J("ngIf",l.sharedService.currentProfile&&t.Id!=l.sharedService.currentProfile.Id)}}function P_(m,r){if(1&m&&n.YNc(0,w_,1,1,"ng-template",14),2&m){const t=n.oxw(2);n.Q6J("ngForOf",t.sharedService.listProfiles)}}function O0(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"li",3)(1,"a",9),n.NdJ("click",function(){n.CHM(t);const f=n.oxw(2);return n.KtG(f.onClickAdminMode())}),n.TgZ(2,"span"),n._uU(3,"Mantenimiento"),n.qZA()()()}}function O_(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"div",1)(1,"ul",2)(2,"li",3)(3,"a",4,5),n.YNc(5,Ep,4,3,"ng-template",6),n.qZA()(),n._UZ(6,"div",7),n.TgZ(7,"div",8),n.YNc(8,P_,1,1,"ng-template",6),n.TgZ(9,"li",3)(10,"a",9),n.NdJ("click",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.onClickEditProfilesButton())}),n.TgZ(11,"span"),n._uU(12,"Editar perfiles"),n.qZA()()(),n.TgZ(13,"li",3)(14,"a",9),n.NdJ("click",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.onClickAccountOption())}),n.TgZ(15,"span"),n._uU(16,"Cuenta"),n.qZA()()(),n.YNc(17,O0,4,0,"li",10),n.TgZ(18,"li",3)(19,"a",9),n.NdJ("click",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.logOut())}),n.TgZ(20,"span"),n._uU(21,"Cerrar Sesi\xf3n"),n.qZA()()()()()()}if(2&m){const t=n.oxw();n.xp6(5),n.Q6J("ngIf",t.sharedService.currentProfile),n.xp6(3),n.Q6J("ngIf",t.sharedService.listProfiles&&t.sharedService.listProfiles.length>0),n.xp6(9),n.Q6J("ngIf",t.sharedService.manageMenus&&t.sharedService.manageMenus.length>0)}}let R_=(()=>{class m{constructor(t,l,f,y){this.userService=t,this.ref=l,this.router=f,this.sharedService=y}onClickChangeProfileButton(){this.sharedService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/profiles")}onClickEditProfilesButton(){this.sharedService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/profiles")}onSelectProfile(t){this.sharedService.currentProfile=t,this.router.navigateByUrl("/home")}onClickAccountOption(){this.router.navigateByUrl("/settings/account")}onClickAdminMode(){this.router.navigateByUrl(this.sharedService.manageMenus[0].ChildMenus[0].Path)}logOut(){this.userService.clearSessionData(),this.router.navigateByUrl("/landing")}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(W.K),n.Y36(n.sBO),n.Y36(A.F0),n.Y36(w.F))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-dropdown-user"]],decls:1,vars:1,consts:[["class","sinovad-user-dropdown",4,"ngIf"],[1,"sinovad-user-dropdown"],["role","menu",1,"sinovad-dropdown-list"],[1,"sinovad-avatar-item"],["id","avatar_button",1,"sinovad-avatar-button","principal"],["button",""],[3,"ngIf"],[1,"sinovad-separator-dropdown"],[1,"sinovad-bottom-list"],[3,"click"],["class","sinovad-avatar-item",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-initials-profile"],["ngFor","",3,"ngForOf"],["id","avatar_button",1,"sinovad-avatar-button",3,"click"]],template:function(l,f){1&l&&n.YNc(0,O_,22,3,"div",0),2&l&&n.Q6J("ngIf",!f.sharedService.showSplashScreen)},dependencies:[g.sg,g.O5,g.Ov,d.A],styles:["[_nghost-%COMP%]{height:100%}.sinovad-user-dropdown[_ngcontent-%COMP%]{height:100%;display:flex;align-items:flex-start}ul.sinovad-dropdown-list[_ngcontent-%COMP%]{background:transparent;border:1px solid transparent;box-shadow:none;height:100%;max-height:72px;padding:0 20px;width:100px;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-separator-dropdown[_ngcontent-%COMP%], ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-bottom-list[_ngcontent-%COMP%]{display:none}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover{background:rgb(19,19,19);border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;height:auto;max-height:calc(100vh - 40px);padding-top:10px;padding-bottom:20px;width:240px;z-index:10;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-separator-dropdown[_ngcontent-%COMP%]{width:100%;padding-left:10px;height:2px;background-color:#fff;display:block;margin-top:10px}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]{display:block}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]{margin-top:10px;width:200px;opacity:.7;font-size:16px;cursor:pointer}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-avatar-button[_ngcontent-%COMP%]{display:block;padding-left:0;background:transparent;border:none;cursor:pointer;color:#fff;display:flex;align-items:center;text-decoration:unset}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:20px;margin-right:10px}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:1px solid white;display:flex;align-items:center;justify-content:center;font-size:30px}.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 1024px){.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:none}.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}}"]})}return m})();const Tp=["searchTarget"],Rf=function(){return["/home"]};function Sp(m,r){1&m&&(n.TgZ(0,"a",11),n._UZ(1,"i",12),n.qZA()),2&m&&n.Q6J("routerLink",n.DdM(1,Rf))}const Cp=function(m){return{focused:m}};function N_(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"div",13)(1,"div",14)(2,"input",6,7),n.NdJ("ngModelChange",function(f){n.CHM(t);const y=n.oxw();return n.KtG(y.searchText=f)})("change",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.onChangeSearchValue())})("focus",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.isFocusSearch=!0)})("blur",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.isFocusSearch=!1)}),n.qZA(),n.TgZ(4,"button",8),n.NdJ("click",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.onClickSearchButton())}),n._UZ(5,"i",9),n.qZA()(),n.TgZ(6,"div",15)(7,"button",8),n.NdJ("click",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.showNavbarSearch=!1)}),n._UZ(8,"i",16),n.qZA()()()}if(2&m){const t=n.oxw();n.xp6(1),n.Q6J("ngClass",n.VKq(2,Cp,t.isFocusSearch)),n.xp6(1),n.Q6J("ngModel",t.searchText)}}let L_=(()=>{class m{constructor(t,l,f){this.router=t,this.restProvider=l,this.sharedService=f,this.toggleSidebar=new n.vpe,this.selectOption=new n.vpe,this.toggleMenu=new n.vpe,this.searchText="",this.isFocusSearch=!1,this.showDropDown=!1,this.showNavbarSearch=!1}ngOnInit(){}ngAfterViewInit(){this.addClickEvent()}onClickSearchButton(){this.showNavbarSearch=!0}addClickEvent(){const t=document.getElementById("userDropDown");document.addEventListener("click",l=>{this.showDropDown=!!l.composedPath().includes(t)})}onClickHomeOption(){this.router.navigateByUrl("/home")}onClickOption(t){this.selectOption.emit(t)}onSelectProfile(t){this.sharedService.currentProfile=t,this.router.navigateByUrl("/home")}onClickChangeProfileButton(){this.sharedService.showSplashScreen=!0}onChangeSearchValue(){this.router.navigateByUrl(null!=this.searchText&&""!=this.searchText?"/search?text="+this.searchText:"/home"),this.searchText=""}onClickToggleSidebarButton(t){t.preventDefault(),t.stopPropagation(),this.toggleSidebar.emit(!0)}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(A.F0),n.Y36(P.C),n.Y36(w.F))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-navbar"]],viewQuery:function(l,f){if(1&l&&n.Gf(Tp,5),2&l){let y;n.iGM(y=n.CRH())&&(f.searchTarget=y.first)}},inputs:{showingSidebarAccount:"showingSidebarAccount",showingSidebarAdminMode:"showingSidebarAdminMode"},outputs:{toggleSidebar:"toggleSidebar",selectOption:"selectOption",toggleMenu:"toggleMenu"},decls:16,vars:14,consts:[[1,"nav-button-icon-container","toggle",3,"click"],[1,"fa-solid","fa-bars"],["class","nav-button-icon-container home",3,"routerLink",4,"ngIf"],[1,"sinovad-logo-button",3,"routerLink"],[3,"src"],[1,"sinovad-custom-search",3,"ngClass"],["type","text",3,"ngModel","ngModelChange","change","focus","blur"],["input",""],[3,"click"],[1,"fa-solid","fa-magnifying-glass"],["class","sinovad-navbar-search",4,"ngIf"],[1,"nav-button-icon-container","home",3,"routerLink"],[1,"fa-solid","fa-house"],[1,"sinovad-navbar-search"],[1,"sinovad-bottom-search",3,"ngClass"],[1,"sinovad-close-search-container"],[1,"fa","fa-times"]],template:function(l,f){1&l&&(n.TgZ(0,"header")(1,"nav")(2,"a",0),n.NdJ("click",function(N){return f.onClickToggleSidebarButton(N)}),n._UZ(3,"i",1),n.qZA(),n.YNc(4,Sp,2,2,"a",2),n.TgZ(5,"a",3),n._UZ(6,"img",4),n.ALo(7,"async"),n.ALo(8,"formatDataPipe"),n.qZA(),n.TgZ(9,"div",5)(10,"input",6,7),n.NdJ("ngModelChange",function(N){return f.searchText=N})("change",function(){return f.onChangeSearchValue()})("focus",function(){return f.isFocusSearch=!0})("blur",function(){return f.isFocusSearch=!1}),n.qZA(),n.TgZ(12,"button",8),n.NdJ("click",function(){return f.onClickSearchButton()}),n._UZ(13,"i",9),n.qZA()(),n._UZ(14,"app-dropdown-user"),n.qZA(),n.YNc(15,N_,9,4,"div",10),n.qZA()),2&l&&(n.xp6(4),n.Q6J("ngIf",f.showingSidebarAccount||f.showingSidebarAdminMode),n.xp6(1),n.Q6J("routerLink",n.DdM(11,Rf)),n.xp6(1),n.Q6J("src",n.lcZ(7,6,n.xi3(8,8,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH),n.xp6(3),n.Q6J("ngClass",n.VKq(12,Cp,f.isFocusSearch&&!f.sharedService.isSmallDevice())),n.xp6(1),n.Q6J("ngModel",f.searchText),n.xp6(5),n.Q6J("ngIf",f.sharedService.isSmallDevice()&&f.showNavbarSearch))},dependencies:[g.mk,g.O5,T.Fj,T.JJ,T.On,A.rH,R_,g.Ov,d.A],styles:[".nav-button-icon-container[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;color:#fff;font-size:24px;opacity:.7;display:none}.nav-button-icon-container.home[_ngcontent-%COMP%]{display:block}.sinovad-logo-button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;text-decoration:unset;font-size:20px}.sinovad-logo-button[_ngcontent-%COMP%]   .first-span[_ngcontent-%COMP%]{color:#007bff;margin-right:6px}.sinovad-logo-button[_ngcontent-%COMP%]   .second-span[_ngcontent-%COMP%]{color:#fff}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px;margin-bottom:6px}.sinovad-custom-search[_ngcontent-%COMP%]{display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-left:20px;background-color:#fff}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-custom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.nav-button-icon-container[_ngcontent-%COMP%]:hover{opacity:1}nav[_ngcontent-%COMP%]{background:black;color:#fff;flex-wrap:nowrap;justify-content:flex-start;display:flex;height:70px;align-items:center}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]{list-style-type:none;flex-direction:row;display:flex;height:100%;align-items:center;margin-bottom:0}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-decoration:unset;height:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px}.sinovad-navbar-search[_ngcontent-%COMP%]{background:black;display:flex;align-items:center;padding:10px 20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-right:20px;background-color:#fff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px;width:100%}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]{width:20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;color:#fff;padding-right:8px;padding-left:8px;font-size:24px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-logo-button[_ngcontent-%COMP%]{margin-left:10px;margin-right:0}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110px}.nav-button-icon-container.toggle[_ngcontent-%COMP%]{display:block}.nav-button-icon-container.home[_ngcontent-%COMP%], .sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sinovad-custom-search[_ngcontent-%COMP%]{background:transparent}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}}"]})}return m})();var Nf=v(9223);function k_(m,r){1&m&&n._UZ(0,"i",12)}const F_=function(m){return{selected:m}};function B_(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"a",3),n.NdJ("click",function(){const y=n.CHM(t).$implicit,N=n.oxw(2);return n.KtG(N.onClickDropDownMenuOption(y))}),n.TgZ(1,"div",4)(2,"div",5)(3,"div",6),n._uU(4),n.qZA(),n.TgZ(5,"div",7),n._uU(6),n.qZA()(),n.TgZ(7,"div",8)(8,"div",9),n.YNc(9,k_,1,0,"i",10),n.qZA(),n.TgZ(10,"div",11),n._UZ(11,"i"),n.qZA()()()()}if(2&m){const t=r.$implicit;n.Q6J("ngClass",n.VKq(7,F_,t.isSelected)),n.xp6(4),n.hij(" ",t.title," "),n.xp6(2),n.hij(" ",t.subtitle," "),n.xp6(3),n.Q6J("ngIf",t.isSelected),n.xp6(2),n.Tol(t.iconClass)}}function Jh(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"div",1),n.NdJ("clickOutside",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.onClickOutside())}),n.YNc(1,B_,12,9,"ng-template",2),n.qZA()}if(2&m){const t=n.oxw();n.Udp("width",t.width+"px")("top",t.top+"px")("left",t.left+"px"),n.xp6(1),n.Q6J("ngForOf",t.dropDownMenuOptions.listItems)}}let Rd=(()=>{class m{constructor(t,l,f){this.ref=t,this.sharedService=l,this.router=f,this.hide=new n.vpe,this.clickItem=new n.vpe,this.show=!1}ngAfterViewInit(){this.showContent()}showContent(){var t=this;return(0,He.Z)(function*(){yield t.sharedService.delay(100),t.show=!0,t.ref.detectChanges()})()}onClickOutside(){this.hide.emit(!0)}onClickDropDownMenuOption(t){this.clickItem.emit(t),this.router.navigateByUrl(t.path)}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(n.sBO),n.Y36(w.F),n.Y36(A.F0))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-drop-down-servers"]],inputs:{dropDownMenuOptions:"dropDownMenuOptions",top:"top",left:"left",width:"width"},outputs:{hide:"hide",clickItem:"clickItem"},decls:1,vars:1,consts:[["class","sinovad-drop-down-menu-item-list",3,"width","top","left","clickOutside",4,"ngIf"],[1,"sinovad-drop-down-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-drop-down-menu-item-container",3,"ngClass","click"],[1,"sinovad-drop-down-menu-item-content"],[1,"left"],[1,"title"],[1,"subtitle"],[1,"right"],[1,"selected-icon-container"],["class","fa-solid fa-check",4,"ngIf"],[1,"icon-container"],[1,"fa-solid","fa-check"]],template:function(l,f){1&l&&n.YNc(0,Jh,2,7,"div",0),2&l&&n.Q6J("ngIf",f.show)},dependencies:[g.mk,g.sg,g.O5,Nf._],styles:[".sinovad-drop-down-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:none;box-shadow:#00000080 0 0 18px;color:#fff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]{height:60px;padding:8px 10px 8px 25px;width:100%;word-wrap:break-word;display:block;font-size:13px;text-align:left;-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3}a.sinovad-drop-down-menu-item-container.selected[_ngcontent-%COMP%]{color:#007bff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important;font-size:13px}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffff4d;font-size:12px;max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-shrink:0}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .selected-icon-container[_ngcontent-%COMP%]{fill:currentcolor;display:inline-block;height:1em;line-height:1;position:relative;vertical-align:middle;width:1em;font-size:14px;margin-left:10px;top:0;color:#007bff;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-left:10px;margin-right:10px;color:#6b5}"]})}return m})(),R0=(()=>{class m{constructor(t,l,f){this.factoryResolver=t,this.injector=l,this.applicationRef=f,this.isShowing=!1}show(t){return new Promise((l,f)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const y=this.factoryResolver.resolveComponentFactory(Rd);this.componentRef=y.create(this.injector),this.lastViewRef=this.componentRef.hostView,this.applicationRef.attachView(this.componentRef.hostView);let N=this;const H=t.target.getBoundingClientRect();this.componentRef.instance.dropDownMenuOptions=t,this.componentRef.instance.left=H.left,this.componentRef.instance.top=H.top+H.height,this.componentRef.instance.width=H.width,this.componentRef.instance.clickItem.subscribe(We=>{this.componentRef.destroy(),N.applicationRef.detachView(this.componentRef.hostView),N.isShowing=!1,l(We)}),this.componentRef.instance.hide.subscribe(We=>{this.componentRef.destroy(),N.applicationRef.detachView(this.componentRef.hostView),N.isShowing=!1,f(!0)}),this.isShowing=!0;const ee=this.componentRef.hostView.rootNodes[0];document.getElementById("sinovadMainContainer").appendChild(ee)})}closeDropDown(){this.componentRef.instance.hide.emit(!0)}static#e=this.\u0275fac=function(l){return new(l||m)(n.LFG(n._Vd),n.LFG(n.zs3),n.LFG(n.z2F))};static#t=this.\u0275prov=n.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();const N0=["mediaServerButton"],Lf=function(m){return{selected:m}},cu=function(){return["/settings/account"]};function Dp(m,r){if(1&m&&(n.TgZ(0,"div",6)(1,"div",7)(2,"div",8),n._uU(3),n.qZA()(),n.TgZ(4,"div",9)(5,"a",10)(6,"div",11),n._UZ(7,"div",12),n.TgZ(8,"div",13),n._uU(9," Cuenta "),n.qZA()()()()()),2&m){const t=n.oxw();n.xp6(3),n.AsE(" ",t.sharedService.userData.FirstName," ",t.sharedService.userData.LastName," "),n.xp6(1),n.Q6J("ngClass",n.VKq(4,Lf,t.isSelectedAccountOption())),n.xp6(1),n.Q6J("routerLink",n.DdM(6,cu))}}function L0(m,r){1&m&&n._UZ(0,"i",23)}function Mp(m,r){1&m&&n._UZ(0,"i",24)}function sb(m,r){1&m&&n._UZ(0,"i",28)}function ab(m,r){1&m&&n._UZ(0,"i",29)}const k0=function(m,r){return{"icon-secure":m,"icon-alert":r}};function F0(m,r){if(1&m&&(n.TgZ(0,"div",25),n.YNc(1,sb,1,0,"i",26),n.YNc(2,ab,1,0,"i",27),n.qZA()),2&m){const t=n.oxw(2);n.Q6J("ngClass",n.WLB(3,k0,t.selectedMediaServer.isSecureConnection,!t.selectedMediaServer.isSecureConnection)),n.xp6(1),n.Q6J("ngIf",t.selectedMediaServer.isSecureConnection),n.xp6(1),n.Q6J("ngIf",!t.selectedMediaServer.isSecureConnection)}}function U_(m,r){1&m&&(n.TgZ(0,"div",30),n._UZ(1,"i",31),n.qZA())}function B0(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"button",14,15),n.NdJ("click",function(f){n.CHM(t);const y=n.oxw();return n.KtG(y.togleDropDownMediaServers(f))}),n.TgZ(2,"div",16)(3,"div",17)(4,"span",18),n._uU(5),n.qZA(),n.YNc(6,L0,1,0,"i",19),n.YNc(7,Mp,1,0,"i",20),n.qZA(),n.YNc(8,F0,3,6,"div",21),n.YNc(9,U_,2,0,"div",22),n.qZA()()}if(2&m){const t=n.oxw();n.Q6J("ngClass",n.VKq(6,Lf,t.isSelectedServerOption())),n.xp6(5),n.hij(" ",t.selectedMediaServer.FamilyName?t.selectedMediaServer.FamilyName:t.selectedMediaServer.DeviceName," "),n.xp6(1),n.Q6J("ngIf",t.dropDownServersService.isShowing),n.xp6(1),n.Q6J("ngIf",!t.dropDownServersService.isShowing),n.xp6(1),n.Q6J("ngIf",!t.loadingConnection),n.xp6(1),n.Q6J("ngIf",t.loadingConnection)}}const ws=function(m){return[m]};function G_(m,r){if(1&m&&(n.TgZ(0,"div",9)(1,"a",10)(2,"div",11),n._UZ(3,"div",12),n.TgZ(4,"div",13),n._uU(5),n.qZA()()()()),2&m){const t=r.$implicit,l=n.oxw(5);n.Q6J("ngClass",n.VKq(3,Lf,l.isSelectedSidebarOption(t))),n.xp6(1),n.Q6J("routerLink",n.VKq(5,ws,l.getOptionPath(t))),n.xp6(4),n.hij(" ",t.name," ")}}function U0(m,r){if(1&m&&(n.TgZ(0,"div",6)(1,"div",7)(2,"div",8),n._uU(3),n.qZA()(),n.YNc(4,G_,6,7,"ng-template",32),n.qZA()),2&m){const t=r.$implicit;n.xp6(3),n.hij(" ",t.name," "),n.xp6(1),n.Q6J("ngForOf",t.listOptions)}}function G0(m,r){if(1&m&&n.YNc(0,U0,5,2,"ng-template",32),2&m){const t=n.oxw(3);n.Q6J("ngForOf",t.serverModules)}}function H_(m,r){if(1&m&&(n.TgZ(0,"div")(1,"p",33),n._uU(2),n.qZA()()),2&m){const t=n.oxw(3);n.xp6(2),n.hij('No se puede conectar a "',t.selectedMediaServer.FamilyName?t.selectedMediaServer.FamilyName:t.selectedMediaServer.DeviceName,'" desde este sitio')}}function H0(m,r){if(1&m&&(n.YNc(0,G0,1,1,"ng-template",5),n.YNc(1,H_,3,1,"ng-template",5)),2&m){const t=n.oxw(2);n.Q6J("ngIf",!t.sharedService.isHttpsSite()),n.xp6(1),n.Q6J("ngIf",t.sharedService.isHttpsSite())}}function j_(m,r){if(1&m&&(n.TgZ(0,"div")(1,"p",33),n._uU(2),n.qZA()()),2&m){const t=n.oxw(2);n.xp6(2),n.hij('No se puede conectar a "',t.selectedMediaServer.FamilyName?t.selectedMediaServer.FamilyName:t.selectedMediaServer.DeviceName,'" porque el servidor esta apagado')}}function V_(m,r){if(1&m&&(n.YNc(0,H0,2,2,"ng-template",5),n.YNc(1,j_,3,1,"ng-template",5)),2&m){const t=n.oxw();n.Q6J("ngIf",t.selectedMediaServer.isSecureConnection),n.xp6(1),n.Q6J("ngIf",!t.selectedMediaServer.isSecureConnection)}}function ju(m,r){1&m&&(n.TgZ(0,"div",34),n._UZ(1,"mat-spinner"),n.qZA())}let j0=(()=>{class m{constructor(t,l,f,y,N){this.signalIrService=t,this.dropDownServersService=l,this.activeRoute=f,this.ref=y,this.sharedService=N,this.mediaServers=[],this.collapseSidebar=new n.vpe,this.loadingConnection=!0,this.serverModules=[{index:1,order:1,name:"Estado",listOptions:[{index:1,name:"Panel de Control",path:"/settings/server/{serverGuid}/status/dashboard"},{index:2,name:"Alertas",path:"/settings/server/{serverGuid}/status/alerts"}]},{index:2,order:2,name:"Ajustes",listOptions:[{index:3,name:"General",path:"/settings/server/{serverGuid}/settings/general"},{index:4,name:"Transcodificador",path:"/settings/server/{serverGuid}/settings/transcode"}]},{index:3,order:3,name:"Gestionar",listOptions:[{index:7,name:"Bibliotecas",path:"/settings/server/{serverGuid}/manage/libraries"}]}],this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(H=>{this.selectedMediaServer&&this.selectedMediaServer.Guid==H&&!this.selectedMediaServer.isSecureConnection&&(this.selectedMediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.closeDropDown());var ee=this.mediaServers.find(ae=>ae.Guid==H);ee&&!ee.isSecureConnection&&(ee.isSecureConnection=!0)}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(H=>{this.selectedMediaServer&&this.selectedMediaServer.Guid==H&&this.selectedMediaServer.isSecureConnection&&(this.selectedMediaServer.isSecureConnection=!1,this.closeDropDown());var ee=this.mediaServers.find(ae=>ae.Guid==H);ee&&ee.isSecureConnection&&(ee.isSecureConnection=!1)})}ngOnInit(){if(this.mediaServers=JSON.parse(JSON.stringify(this.sharedService.mediaServers)),this.mediaServers&&this.mediaServers.length>0){if(this.activeRoute.firstChild&&this.activeRoute.firstChild.firstChild&&this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid){var t=this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid,l=this.mediaServers.find(f=>f.Guid==t);l&&(this.selectedMediaServer=l)}else this.selectedMediaServer=this.mediaServers[0];this.selectedMediaServer.isSecureConnection?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3)}}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getOptionPath(t){return t.path.replace("{serverGuid}",this.selectedMediaServer.Guid)}onClickModule(t){t.isCollapsed=!t.isCollapsed}togleDropDownMediaServers(t){this.showMediaServerMenuOptions(t)}showMediaServerMenuOptions(t){this.dropDownServersService.isShowing||this.dropDownServersService.show(this.getDropDownMenuOptions()).then(l=>{this.selectedMediaServer=l.itemData},l=>{})}getDropDownMenuOptions(){var t=void 0;if(this.mediaServerButton){let l=[];this.mediaServers.forEach(y=>{l.push({title:y.FamilyName?y.FamilyName:y.DeviceName,subtitle:y.isSecureConnection?"Conexi\xf3n exitosa":"Sin conexi\xf3n",iconClass:y.isSecureConnection?"fa-solid fa-lock icon-secure":"fa-solid fa-triangle-exclamation icon-alert",path:"/settings/server/"+y.Guid+"/settings/general",isSelected:this.selectedMediaServer.Id==y.Id,itemData:y})}),t={containerId:"sinovadMainContainer",target:this.mediaServerButton.nativeElement,listItems:l}}return t}closeDropDown(){this.dropDownServersService.isShowing&&this.dropDownServersService.closeDropDown()}isSelectedSidebarOption(t){return-1!=this.getOptionPath(t).indexOf(window.location.pathname)}isSelectedAccountOption(){return-1!="/settings/account".indexOf(window.location.pathname)}isSelectedServerOption(){return!!window.location.pathname.startsWith("/settings/server")}onClickOutsideSidebar(t){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(hs.n),n.Y36(R0),n.Y36(A.gz),n.Y36(n.sBO),n.Y36(w.F))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-sidebar-account"]],viewQuery:function(l,f){if(1&l&&n.Gf(N0,5),2&l){let y;n.iGM(y=n.CRH())&&(f.mediaServerButton=y.first)}},outputs:{collapseSidebar:"collapseSidebar"},decls:7,vars:4,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sidebar-container"],[1,"sidebar-content"],["role","navigation",4,"ngIf"],["class","media-server-button",3,"ngClass","click",4,"ngIf"],[3,"ngIf"],["role","navigation"],[1,"sidebar-list-header-container"],[1,"sidebar-list-header-content"],[1,"sidebar-list-item-container",3,"ngClass"],[3,"routerLink"],[1,"sidebar-link-container"],[1,"sidebar-link-icon"],[1,"sidebar-link-title"],[1,"media-server-button",3,"ngClass","click"],["mediaServerButton",""],[1,"content"],[1,"left"],[1,"first"],["class","fa-solid fa-caret-up",4,"ngIf"],["class","fa-solid fa-caret-down",4,"ngIf"],["class","server-settings-menu-button-icon",3,"ngClass",4,"ngIf"],["class","server-settings-menu-button-icon",4,"ngIf"],[1,"fa-solid","fa-caret-up"],[1,"fa-solid","fa-caret-down"],[1,"server-settings-menu-button-icon",3,"ngClass"],["class","fa-solid fa-lock",4,"ngIf"],["class","fa-solid fa-triangle-exclamation",4,"ngIf"],[1,"fa-solid","fa-lock"],[1,"fa-solid","fa-triangle-exclamation"],[1,"server-settings-menu-button-icon"],[1,"fa-solid","fa-circle-notch","fa-spin",2,"color","white"],["ngFor","",3,"ngForOf"],[1,"sidebar-message"],[1,"spinner-centered-container"]],template:function(l,f){1&l&&(n.TgZ(0,"div",0),n.NdJ("clickOutside",function(N){return f.onClickOutsideSidebar(N)}),n.TgZ(1,"div",1)(2,"div",2),n.YNc(3,Dp,10,7,"div",3),n.YNc(4,B0,10,8,"button",4),n.YNc(5,V_,2,2,"ng-template",5),n.YNc(6,ju,2,0,"ng-template",5),n.qZA()()()),2&l&&(n.xp6(3),n.Q6J("ngIf",f.sharedService.userData),n.xp6(1),n.Q6J("ngIf",f.selectedMediaServer),n.xp6(1),n.Q6J("ngIf",!f.loadingConnection&&f.selectedMediaServer&&f.serverModules&&f.serverModules.length>0),n.xp6(1),n.Q6J("ngIf",f.loadingConnection))},dependencies:[g.mk,g.sg,g.O5,Nf._,Gm.Ou,A.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11;overflow-y:auto}.sidebar-container[_ngcontent-%COMP%]{border-radius:4px;display:flex;flex:0 0 240px;flex-direction:column;height:calc(100% - 8px);margin:0;transform:translateZ(0);width:100%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px}.sidebar-content[_ngcontent-%COMP%]{padding-bottom:60px;padding-top:10px}.sidebar-list-header-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-header-container[_ngcontent-%COMP%]   .sidebar-list-header-content[_ngcontent-%COMP%]{color:#ffffff4d;font-size:15px;height:45px;line-height:45px;max-width:100%;min-width:0;overflow:hidden!important;padding-left:25px;text-overflow:ellipsis;text-transform:capitalize;white-space:nowrap!important;flex-grow:1}.sidebar-list-item-container[_ngcontent-%COMP%]{border-bottom-right-radius:4px;border-top-right-radius:4px;display:flex;min-height:30px;position:relative}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;display:block;flex-grow:1;overflow:hidden;padding:4px 0 2px 25px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-icon[_ngcontent-%COMP%]{font-size:13px;width:18px;flex-shrink:0;height:14px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-title[_ngcontent-%COMP%]{flex-grow:1;word-break:break-word}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.media-server-button[_ngcontent-%COMP%]{background-color:#0000004d;font-size:13px;height:50px;line-height:50px;padding-left:25px;padding-right:15px;width:100%;-webkit-tap-highlight-color:transparent;color:#ffffffb3;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none}.content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;max-width:85%;text-align:left;display:flex;align-items:center}.left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;max-width:100%;max-width:85%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;vertical-align:top;white-space:nowrap!important;font-weight:700}.left[_ngcontent-%COMP%]   i.fa-caret-up[_ngcontent-%COMP%]{margin-left:7px;margin-top:2px}.left[_ngcontent-%COMP%]   i.fa-caret-down[_ngcontent-%COMP%]{margin-left:7px}.server-settings-menu-button-icon[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-right:10px}.media-server-button.selected[_ngcontent-%COMP%]{color:#007bff}.media-server-button[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-message[_ngcontent-%COMP%]{color:#ffffff73;margin:15px 10px 15px 25px}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return m})();function V0(m,r){1&m&&n._UZ(0,"i",9)}function K_(m,r){1&m&&n._UZ(0,"i",10)}function K0(m,r){if(1&m&&n._UZ(0,"i"),2&m){const t=n.oxw().$implicit;n.Tol(t.IconClass)}}const W_=function(m){return[m]},lb=function(m){return{active:m}};function Ap(m,r){if(1&m&&(n.TgZ(0,"li",12)(1,"a",13),n.YNc(2,K0,1,3,"i",14),n.TgZ(3,"span",7),n._uU(4),n.qZA()()()),2&m){const t=r.$implicit,l=n.oxw(3);n.xp6(1),n.Q6J("routerLink",n.VKq(4,W_,t.Path))("ngClass",n.VKq(6,lb,l.isSelectedMenu(t))),n.xp6(1),n.Q6J("ngIf",t.IconClass),n.xp6(2),n.Oqu(t.Title)}}function xp(m,r){if(1&m&&(n.TgZ(0,"div")(1,"ul",11),n.YNc(2,Ap,5,8,"ng-template",2),n.qZA()()),2&m){const t=n.oxw().$implicit;n.xp6(2),n.Q6J("ngForOf",t.ChildMenus)}}function Uc(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"li",3)(1,"button",4),n.NdJ("click",function(f){const N=n.CHM(t).$implicit,H=n.oxw();return n.KtG(H.onClickModule(N,f))}),n.YNc(2,V0,1,0,"i",5),n.YNc(3,K_,1,0,"i",6),n.TgZ(4,"span",7),n._uU(5),n.qZA()(),n.YNc(6,xp,3,1,"div",8),n.qZA()}if(2&m){const t=r.$implicit;n.xp6(2),n.Q6J("ngIf",t.isCollapsed),n.xp6(1),n.Q6J("ngIf",!t.isCollapsed),n.xp6(2),n.Oqu(t.Title),n.xp6(1),n.Q6J("ngIf",!t.isCollapsed)}}let W0=(()=>{class m{constructor(t){this.sharedService=t,this.collapseSidebar=new n.vpe}onClickModule(t,l){l.preventDefault(),l.stopPropagation(),t.isCollapsed=!t.isCollapsed}onClickOutsideSidebar(t){this.collapseSidebar.emit(!0)}isSelectedMenu(t){return-1!=t.Path.indexOf(window.location.pathname)}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(w.F))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-sidebar-administrator"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"click"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"],[3,"class",4,"ngIf"]],template:function(l,f){1&l&&(n.TgZ(0,"div",0),n.NdJ("clickOutside",function(N){return f.onClickOutsideSidebar(N)}),n.TgZ(1,"ul",1),n.YNc(2,Uc,7,4,"ng-template",2),n.qZA()()),2&l&&(n.xp6(2),n.Q6J("ngForOf",f.sharedService.manageMenus))},dependencies:[g.mk,g.sg,g.O5,Nf._,A.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:200px;height:100%;background:#0c0d11;overflow-y:auto}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return m})();var Vu=v(3826);function Gc(m,r){1&m&&n._UZ(0,"i",10)}function pc(m,r){1&m&&n._UZ(0,"i",11)}function gc(m,r){if(1&m&&n._UZ(0,"i"),2&m){const t=n.oxw().$implicit;n.Tol(t.IconClass)}}function Y_(m,r){if(1&m&&n._UZ(0,"i"),2&m){const t=n.oxw().$implicit;n.Tol(t.IconClass)}}const Ip=function(m){return[m]},z_=function(m){return{active:m}};function Y0(m,r){if(1&m&&(n.TgZ(0,"li",13)(1,"a",14),n.YNc(2,Y_,1,3,"i",7),n.TgZ(3,"span",8),n._uU(4),n.qZA()()()),2&m){const t=r.$implicit,l=n.oxw(3);n.xp6(1),n.Q6J("routerLink",n.VKq(4,Ip,t.Path))("ngClass",n.VKq(6,z_,l.isSelectedMenu(t))),n.xp6(1),n.Q6J("ngIf",t.IconClass),n.xp6(2),n.Oqu(t.Title)}}function z0(m,r){if(1&m&&(n.TgZ(0,"div")(1,"ul",12),n.YNc(2,Y0,5,8,"ng-template",2),n.qZA()()),2&m){const t=n.oxw().$implicit;n.xp6(2),n.Q6J("ngForOf",t.ChildMenus)}}function Z0(m,r){if(1&m&&(n.TgZ(0,"li",3)(1,"button",4),n.YNc(2,Gc,1,0,"i",5),n.YNc(3,pc,1,0,"i",6),n.YNc(4,gc,1,3,"i",7),n.TgZ(5,"span",8),n._uU(6),n.qZA()(),n.YNc(7,z0,3,1,"div",9),n.qZA()),2&m){const t=r.$implicit,l=n.oxw();n.xp6(1),n.Q6J("routerLink",n.VKq(7,Ip,t.Path))("ngClass",n.VKq(9,z_,l.isSelectedMenu(t))),n.xp6(1),n.Q6J("ngIf",!t.IconClass&&t.isCollapsed),n.xp6(1),n.Q6J("ngIf",!t.IconClass&&!t.isCollapsed),n.xp6(1),n.Q6J("ngIf",t.IconClass),n.xp6(2),n.Oqu(t.Title),n.xp6(1),n.Q6J("ngIf",!t.isCollapsed)}}let wp=(()=>{class m{constructor(t,l,f){this.libraryService=t,this.signalIrService=l,this.sharedService=f,this.collapseSidebar=new n.vpe,this.mediaMenu=[],this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(y=>{var N=this.mediaMenu.find(ee=>ee.MediaServerGuid==y);if(N&&!N.IsSecureConnection){N.IsSecureConnection=!0;var H=this.sharedService.mediaServers.find(ee=>ee.Guid==N.MediaServerGuid);H&&this.updateLibrariesInMediaServer(N,H)}}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(y=>{var N=this.mediaMenu.find(H=>H.MediaServerGuid==y);N&&N.IsSecureConnection&&(N.IsSecureConnection=!1,N.ChildMenus=[])}),this.subscriptionUpdateLibrariesByMediaServer=this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(y=>{var N=this.mediaMenu.find(ee=>ee.MediaServerGuid==y),H=this.sharedService.mediaServers.find(ee=>ee.Guid==y);N&&H&&(N.IsSecureConnection=!0,this.updateLibrariesInMediaServer(N,H))})}ngOnInit(){this.getMediaMenu()}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe(),this.subscriptionUpdateLibrariesByMediaServer.unsubscribe()}getMediaMenu(){var t=[],l=new Vu.v;l.SortOrder=t.length+1,l.Title="Inicio",l.Path="/home",l.IconClass="fa-house fa-solid",t.push(l);var f=new Vu.v;f.SortOrder=t.length+1,f.Title="Pel\xedculas",f.Path="/media/movies",f.IconClass="fa-film fa-solid",t.push(f);var y=new Vu.v;y.SortOrder=t.length+1,y.Title="Series",y.Path="/media/tvseries",y.IconClass="fa-tv fa-solid",t.push(y),this.mediaMenu=t,this.sharedService.mediaServers.forEach(N=>{var H=new Vu.v;H.SortOrder=this.mediaMenu.length+1,H.Title=null!=N.FamilyName&&""!=N.FamilyName?N.FamilyName:N.DeviceName,H.Path="/media/server/"+N.Guid,H.ChildMenus=[],H.MediaServerId=N.Id,H.MediaServerGuid=N.Guid,this.mediaMenu.push(H)}),this.buildMediaMenuFromListLibraries()}buildMediaMenuFromListLibraries(){this.sharedService.mediaServers.forEach(t=>{var l=this.mediaMenu.find(f=>f.MediaServerId==t.Id);t.isSecureConnection?(l.IsSecureConnection=!0,this.updateLibrariesInMediaServer(l,t)):(l.IsSecureConnection=!1,l.ChildMenus=[])})}updateLibrariesInMediaServer(t,l){this.libraryService.getLibrariesByMediaServer(l.Url).then(f=>{var y=[];f.forEach(N=>{var H=new Vu.v;H.SortOrder=y.length+1,H.Title=N.Name,H.Path="/media/server/"+l.Guid+"/libraries/"+N.Id,H.IconClass=N.MediaTypeCatalogDetailId==p.DD.Movie?"fa-film fa-solid":"fa-tv fa-solid",y.push(H)}),t.ChildMenus=y})}onClickModule(t){t.isCollapsed=!t.isCollapsed}isSelectedMenu(t){return-1!=decodeURIComponent(window.location.pathname).indexOf(t.Path)}onClickOutsideSidebar(t){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(Fs.$),n.Y36(hs.n),n.Y36(w.F))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-sidebar-media"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"routerLink","ngClass"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[3,"class",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"]],template:function(l,f){1&l&&(n.TgZ(0,"div",0),n.NdJ("clickOutside",function(N){return f.onClickOutsideSidebar(N)}),n.TgZ(1,"ul",1),n.YNc(2,Z0,8,11,"ng-template",2),n.qZA()()),2&l&&(n.xp6(2),n.Q6J("ngForOf",f.mediaMenu))},dependencies:[g.mk,g.sg,g.O5,Nf._,A.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11;overflow-y:auto}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px;padding-top:10px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return m})();function kf(m,r){if(1&m&&(n.TgZ(0,"div",1)(1,"div",2,3)(3,"div",4)(4,"div",5),n._UZ(5,"img",6),n.ALo(6,"async"),n.ALo(7,"formatDataPipe"),n.qZA()()()()),2&m){const t=n.MAs(2);n.xp6(5),n.Udp("width",t.offsetWidth/3+"px"),n.Q6J("src",n.lcZ(6,3,n.xi3(7,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH)}}let $0=(()=>{class m{constructor(t,l,f){this.restProvider=t,this.domSanitizer=l,this.sharedService=f}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(P.C),n.Y36(e.H7),n.Y36(w.F))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-splash-screen"]],decls:1,vars:1,consts:[["class","splash-screen-container",4,"ngIf"],[1,"splash-screen-container"],[1,"sinovad-splash-screen-container"],["container",""],[2,"text-align","center"],["role","status",1,"spinner-grow"],[3,"src"]],template:function(l,f){1&l&&n.YNc(0,kf,8,8,"div",0),2&l&&n.Q6J("ngIf",f.sharedService.showSplashScreen)},dependencies:[g.O5,g.Ov,d.A],styles:[".splash-screen-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;position:absolute;z-index:99999;top:0;left:0}.sinovad-splash-screen-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.sinovad-splash-screen-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.spinner-grow[_ngcontent-%COMP%]{background:black;width:unset;height:unset}"]})}return m})();function Z_(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"app-navbar",12),n.NdJ("toggleSidebar",function(){n.CHM(t);const f=n.oxw();return n.KtG(f.onClickToggleSidebarButton())}),n.qZA()}if(2&m){const t=n.oxw();n.Q6J("showingSidebarAccount",t.showingSidebarAccount)("showingSidebarAdminMode",t.showingSidebarAdminMode)}}function J0(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"app-sidebar-administrator",19),n.NdJ("collapseSidebar",function(){n.CHM(t);const f=n.oxw(2);return n.KtG(f.isCollapsedSidebar=!0)}),n.qZA()}}function Q0(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"app-sidebar-account",19),n.NdJ("collapseSidebar",function(){n.CHM(t);const f=n.oxw(2);return n.KtG(f.isCollapsedSidebar=!0)}),n.qZA()}}function $_(m,r){if(1&m){const t=n.EpF();n.TgZ(0,"app-sidebar-media",19),n.NdJ("collapseSidebar",function(){n.CHM(t);const f=n.oxw(2);return n.KtG(f.isCollapsedSidebar=!0)}),n.qZA()}}function J_(m,r){if(1&m&&(n.TgZ(0,"section",13,14)(2,"div",15),n._UZ(3,"div",16),n.TgZ(4,"div",17),n.YNc(5,J0,1,0,"app-sidebar-administrator",18),n.YNc(6,Q0,1,0,"app-sidebar-account",18),n.YNc(7,$_,1,0,"app-sidebar-media",18),n.qZA()()()),2&m){const t=n.oxw();n.Udp("height","100%"),n.xp6(5),n.Q6J("ngIf",t.showingSidebarAdminMode),n.xp6(1),n.Q6J("ngIf",t.showingSidebarAccount),n.xp6(1),n.Q6J("ngIf",t.showingSidebarMedia)}}const Qh=function(m){return{locked:m}};let q0=(()=>{class m{constructor(t,l,f,y){this.deviceService=t,this.userService=l,this.ref=f,this.sharedService=y,this._window=window,this.isCollapsedSidebar=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1,this.showRouterChildWithFullDimentions=!0}ngOnInit(){var t=this.deviceService.getDeviceInfo();this.sharedService.deviceData=new I0,this.sharedService.deviceData.OperatingSystem=t.os,this.sharedService.deviceData.DeviceType=t.deviceType,this.sharedService.deviceData.Browser=t.browser;const l=window.location.search;if(""!=l){var f=new URLSearchParams(l).get("apiToken");null!=f&&localStorage.setItem("apiToken",f)}window.configurationData&&(this.sharedService.configurationData=window.configurationData),localStorage.getItem("apiToken")&&(this.sharedService.apiToken=localStorage.getItem("apiToken"),this.userService.getUserData())}ngAfterViewInit(){let t=this;window.addEventListener("click",function(y){t.sharedService.configurationData.alwaysFullScreen&&t.showPageInFullScreen()})}showPageInFullScreen(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}onClickToggleSidebarButton(){this.isCollapsedSidebar=!this.isCollapsedSidebar}onActivate(t){this.isCollapsedSidebar=!0,this.sharedService.showSplashScreen=!1,(t instanceof vc||t instanceof Um||t instanceof En||t instanceof te||t instanceof eo||t instanceof Sl||t instanceof h||t instanceof qa||t instanceof Vh.h)&&(this.showRouterChildWithFullDimentions=!0,this.showingSidebarMedia=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),t instanceof el&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(t instanceof wu||t instanceof tu)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(t instanceof Kh.N||t instanceof ob.B||t instanceof C0.$||t instanceof D0.o||t instanceof mp.I||t instanceof S_.M)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),(t instanceof M0.K||t instanceof A0.i||t instanceof E_.b||t instanceof b_.m||t instanceof x0.p||t instanceof T_.d)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!0,this.showingSidebarMedia=!1)}onResize(t){}static#e=this.\u0275fac=function(l){return new(l||m)(n.Y36(yp),n.Y36(W.K),n.Y36(n.sBO),n.Y36(w.F))};static#t=this.\u0275cmp=n.Xpm({type:m,selectors:[["app-root"]],hostBindings:function(l,f){1&l&&n.NdJ("resize",function(N){return f.onResize(N)},!1,n.Jf7)},decls:16,vars:9,consts:[["id","sinovadMainContainer",1,"sinovad-main-container"],["mainContainer",""],[1,"sinovad-page-container"],["header",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar",4,"ngIf"],[1,"sinovad-menu-body-container"],["menu",""],["id","menuContainer","class","sinovad-menu-container","tabindex","0",3,"height",4,"ngIf"],["id","bodyContainer","tabindex","0",1,"sinovad-body-container",3,"ngClass"],["principalContainer",""],[3,"activate"],["footer",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar"],["id","menuContainer","tabindex","0",1,"sinovad-menu-container"],["menuContainer",""],[1,"sidebar"],[1,"blocker"],[1,"content"],[3,"collapseSidebar",4,"ngIf"],[3,"collapseSidebar"]],template:function(l,f){if(1&l&&(n.TgZ(0,"div",0,1)(2,"div",2)(3,"div",null,3),n.YNc(5,Z_,1,2,"app-navbar",4),n.qZA(),n.TgZ(6,"div",5)(7,"div",null,6),n.YNc(9,J_,8,5,"section",7),n.qZA(),n.TgZ(10,"section",8,9)(12,"router-outlet",10),n.NdJ("activate",function(N){return f.onActivate(N)}),n.qZA()()(),n._UZ(13,"div",null,11),n.qZA()(),n._UZ(15,"app-splash-screen")),2&l){const y=n.MAs(4),N=n.MAs(8),H=n.MAs(14);n.xp6(5),n.Q6J("ngIf",!f.showRouterChildWithFullDimentions),n.xp6(1),n.Udp("height","calc(100% - "+(y.offsetHeight+H.offsetHeight)+"px)"),n.xp6(3),n.Q6J("ngIf",!(f.showRouterChildWithFullDimentions||f.sharedService.isSmallDevice()&&f.isCollapsedSidebar)),n.xp6(1),n.Udp("width","calc(100% - "+N.offsetWidth+"px)"),n.Q6J("ngClass",n.VKq(7,Qh,f.sharedService.isSmallDevice()&&!f.isCollapsedSidebar))}},dependencies:[g.mk,g.O5,A.lC,L_,j0,W0,wp,$0],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}.sinovad-main-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-module-container[_ngcontent-%COMP%]{border-top:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%}.sinovad-header-container[_ngcontent-%COMP%]{height:60px;background:rgba(0,0,0,.15)}.sinovad-menu-body-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}.sinovad-menu-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.6);position:relative}.sinovad-body-container[_ngcontent-%COMP%]{display:block;height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-body-container.locked[_ngcontent-%COMP%]{pointer-events:none}.sidebar[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%}@media only screen and (max-width: 767px){.sidebar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100vw;padding:0;background:rgba(0,0,0,.5);display:block;z-index:99999}.sidebar[_ngcontent-%COMP%]   .blocker[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;top:0;left:0}}"]})}return m})();var Q_=v(7102);let q_=(()=>{class m{static#e=this.\u0275fac=function(l){return new(l||m)};static#t=this.\u0275mod=n.oAB({type:m,bootstrap:[q0]});static#n=this.\u0275inj=n.cJS({providers:[{provide:g.mr,useValue:"/"}],imports:[e.b2,T.u5,Q_.m,b.JF,gg,oe.hO.initializeApp(jh_firebase),Zs,S0]})}return m})();e.q6().bootstrapModule(q_).catch(m=>console.error(m))},4753:(Hn,Xe,v)=>{"use strict";Xe.Q=void 0;const n=v(2546),b=v(8540);Xe.Q=_=>_.startsWith("WEBVTT")?b.vttParser(_):n.srtParser(_)},2546:(Hn,Xe,v)=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.srtParser=void 0;const e=v(4575),n=v(2279),A=w=>{let d,i,h,g=w.split(":");return 2===g.length?[i,h]=g:[d,i,h]=g,parseInt(h.replace(",",""),10)+60*parseInt(i,10)*1e3+60*(d?parseInt(d,10):0)*60*1e3},_=()=>({start(w){let g="ID",d={tokens:w.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==g;){const i=this[g](d);d=i.params,g=i.next}return d.result},ID(w){const{tokens:g,pos:d,current:i}=w;if(g.length<=d)return{next:"FINISH",params:w};if(n.isBlank(g[d]))return{next:"ID",params:{...w,pos:d+1}};const h=g[d].includes("--\x3e");return i.id=h?"":g[d],{next:"TIME_LINE",params:{...w,current:i,tokens:g,pos:h?d:d+1}}},TIME_LINE(w){const{tokens:g,pos:d,current:i}=w,h=g[d],[p,T]=h.split("--\x3e");return i.from=A(p),i.to=A(T),{next:"TEXT",params:{...w,current:i,pos:d+1}}},TEXT(w){const{tokens:g,pos:d,current:i}=w;return g.length<=d?{next:"FINISH",params:w}:(i.text=g[d],{next:"MULTI_LINE_TEXT",params:{...w,current:i,pos:d+1}})},MULTI_LINE_TEXT(w){const{tokens:g,pos:d,current:i}=w;return g.length<=d?{next:"FINISH",params:w}:n.isBlank(g[d])?{next:"FIN_ENTRY",params:w}:(i.text=`${i.text}\n${g[d]}`,{next:"MULTI_LINE_TEXT",params:{...w,current:i,pos:d+1}})},FIN_ENTRY(w){const{pos:g,current:d,result:i}=w;if(!e.isEntryFromPartial(d))throw new Error(`Parsing error current not complete ${JSON.stringify(d)}`);return i.push(d),{next:"ID",params:{...w,current:{},pos:g+1}}},FINISH:w=>({next:"FINISH",params:w})});Xe.srtParser=w=>({entries:_().start(w)})},4575:(Hn,Xe)=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.isEntryFromPartial=void 0,Xe.isEntryFromPartial=e=>"string"==typeof e.id&&"number"==typeof e.from&&"number"==typeof e.to&&"string"==typeof e.text},2279:(Hn,Xe)=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.isBlank=void 0,Xe.isBlank=e=>!e||/^\s*$/.test(e)},8540:(Hn,Xe,v)=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.vttParser=void 0;const e=v(4575),n=v(2279),A=w=>{let d,i,h,g=w.split(":");return 2===g.length?[i,h]=g:[d,i,h]=g,parseInt(h.replace(".",""),10)+60*parseInt(i,10)*1e3+60*(d?parseInt(d,10):0)*60*1e3},_=()=>({start(w){let g="HEADER",d={tokens:w.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==g;){const i=this[g](d);d=i.params,g=i.next}return d.result},HEADER:w=>({next:"ID_OR_NOTE_OR_STYLE",params:{...w,pos:w.pos+1}}),ID_OR_NOTE_OR_STYLE(w){const{tokens:g,pos:d}=w;return g.length<=d?{next:"FINISH",params:w}:n.isBlank(g[d])?{next:"ID_OR_NOTE_OR_STYLE",params:{...w,pos:d+1}}:g[d].toUpperCase().includes("NOTE")?{next:"NOTE",params:w}:g[d].toUpperCase().includes("STYLE")?{next:"STYLE",params:w}:{next:"ID",params:w}},STYLE(w){const{tokens:g,pos:d}=w;return n.isBlank(g[d])?{next:"ID_OR_NOTE_OR_STYLE",params:{...w,pos:d+1}}:{next:"STYLE",params:{...w,pos:d+1}}},NOTE(w){const{tokens:g,pos:d}=w;return n.isBlank(g[d])?{next:"ID_OR_NOTE_OR_STYLE",params:{...w,pos:d+1}}:{next:"STYLE",params:{...w,pos:d+1}}},ID(w){const{tokens:g,pos:d,current:i}=w;if(g.length<=d)return{next:"FINISH",params:w};if(n.isBlank(g[d]))return{next:"ID",params:{...w,pos:d+1}};const h=g[d].includes("--\x3e");return i.id=h?"":g[d],{next:"TIME_LINE",params:{...w,current:i,tokens:g,pos:h?d:d+1}}},TIME_LINE(w){const{tokens:g,pos:d,current:i}=w,h=g[d],[p,T]=h.split("--\x3e");return i.from=A(p),i.to=A(T),{next:"TEXT",params:{...w,current:i,pos:d+1}}},TEXT(w){const{tokens:g,pos:d,current:i}=w;return g.length<=d?{next:"FINISH",params:w}:(i.text=g[d],{next:"MULTI_LINE_TEXT",params:{...w,current:i,pos:d+1}})},MULTI_LINE_TEXT(w){const{tokens:g,pos:d,current:i}=w;return g.length<=d?{next:"FINISH",params:w}:n.isBlank(g[d])?{next:"FIN_ENTRY",params:w}:(i.text=`${i.text}\n${g[d]}`,{next:"MULTI_LINE_TEXT",params:{...w,current:i,pos:d+1}})},FIN_ENTRY(w){const{pos:g,current:d,result:i}=w;if(!e.isEntryFromPartial(d))throw new Error(`Parsing error current not complete ${JSON.stringify(d)}`);return i.push(d),{next:"ID_OR_NOTE_OR_STYLE",params:{...w,current:{},pos:g+1}}},FINISH:w=>({next:"FINISH",params:w})});Xe.vttParser=w=>({entries:_().start(w)})},9919:(Hn,Xe)=>{"use strict";Xe.byteLength=function w(T){var B=x(T),k=B[1];return 3*(B[0]+k)/4-k},Xe.toByteArray=function d(T){var B,S,P=x(T),k=P[0],F=P[1],O=new n(function g(T,B,P){return 3*(B+P)/4-P}(0,k,F)),D=0,I=F>0?k-4:k;for(S=0;S<I;S+=4)B=e[T.charCodeAt(S)]<<18|e[T.charCodeAt(S+1)]<<12|e[T.charCodeAt(S+2)]<<6|e[T.charCodeAt(S+3)],O[D++]=B>>16&255,O[D++]=B>>8&255,O[D++]=255&B;return 2===F&&(B=e[T.charCodeAt(S)]<<2|e[T.charCodeAt(S+1)]>>4,O[D++]=255&B),1===F&&(B=e[T.charCodeAt(S)]<<10|e[T.charCodeAt(S+1)]<<4|e[T.charCodeAt(S+2)]>>2,O[D++]=B>>8&255,O[D++]=255&B),O},Xe.fromByteArray=function p(T){for(var B,P=T.length,k=P%3,F=[],O=16383,D=0,I=P-k;D<I;D+=O)F.push(h(T,D,D+O>I?I:D+O));return 1===k?F.push(v[(B=T[P-1])>>2]+v[B<<4&63]+"=="):2===k&&F.push(v[(B=(T[P-2]<<8)+T[P-1])>>10]+v[B>>4&63]+v[B<<2&63]+"="),F.join("")};for(var v=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=0;A<64;++A)v[A]=b[A],e[b.charCodeAt(A)]=A;function x(T){var B=T.length;if(B%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var P=T.indexOf("=");return-1===P&&(P=B),[P,P===B?0:4-P%4]}function i(T){return v[T>>18&63]+v[T>>12&63]+v[T>>6&63]+v[63&T]}function h(T,B,P){for(var F=[],O=B;O<P;O+=3)F.push(i((T[O]<<16&16711680)+(T[O+1]<<8&65280)+(255&T[O+2])));return F.join("")}e["-".charCodeAt(0)]=62,e["_".charCodeAt(0)]=63},9007:(Hn,Xe,v)=>{"use strict";var n=v(9919),b=v(2601),A="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Xe.lW=g,Xe.h2=50;var _=2147483647;function w(Q){if(Q>_)throw new RangeError('The value "'+Q+'" is invalid for option "size"');var q=new Uint8Array(Q);return Object.setPrototypeOf(q,g.prototype),q}function g(Q,q,$){if("number"==typeof Q){if("string"==typeof q)throw new TypeError('The "string" argument must be of type string. Received type number');return p(Q)}return d(Q,q,$)}function d(Q,q,$){if("string"==typeof Q)return function T(Q,q){if(("string"!=typeof q||""===q)&&(q="utf8"),!g.isEncoding(q))throw new TypeError("Unknown encoding: "+q);var $=0|I(Q,q),ie=w($),Z=ie.write(Q,q);return Z!==$&&(ie=ie.slice(0,Z)),ie}(Q,q);if(ArrayBuffer.isView(Q))return function P(Q){if(se(Q,Uint8Array)){var q=new Uint8Array(Q);return k(q.buffer,q.byteOffset,q.byteLength)}return B(Q)}(Q);if(null==Q)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q);if(se(Q,ArrayBuffer)||Q&&se(Q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(se(Q,SharedArrayBuffer)||Q&&se(Q.buffer,SharedArrayBuffer)))return k(Q,q,$);if("number"==typeof Q)throw new TypeError('The "value" argument must not be of type number. Received type number');var ie=Q.valueOf&&Q.valueOf();if(null!=ie&&ie!==Q)return g.from(ie,q,$);var Z=function F(Q){if(g.isBuffer(Q)){var q=0|O(Q.length),$=w(q);return 0===$.length||Q.copy($,0,0,q),$}return void 0!==Q.length?"number"!=typeof Q.length||ge(Q.length)?w(0):B(Q):"Buffer"===Q.type&&Array.isArray(Q.data)?B(Q.data):void 0}(Q);if(Z)return Z;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof Q[Symbol.toPrimitive])return g.from(Q[Symbol.toPrimitive]("string"),q,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q)}function i(Q){if("number"!=typeof Q)throw new TypeError('"size" argument must be of type number');if(Q<0)throw new RangeError('The value "'+Q+'" is invalid for option "size"')}function p(Q){return i(Q),w(Q<0?0:0|O(Q))}function B(Q){for(var q=Q.length<0?0:0|O(Q.length),$=w(q),ie=0;ie<q;ie+=1)$[ie]=255&Q[ie];return $}function k(Q,q,$){if(q<0||Q.byteLength<q)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<q+($||0))throw new RangeError('"length" is outside of buffer bounds');var ie;return ie=void 0===q&&void 0===$?new Uint8Array(Q):void 0===$?new Uint8Array(Q,q):new Uint8Array(Q,q,$),Object.setPrototypeOf(ie,g.prototype),ie}function O(Q){if(Q>=_)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_.toString(16)+" bytes");return 0|Q}function I(Q,q){if(g.isBuffer(Q))return Q.length;if(ArrayBuffer.isView(Q)||se(Q,ArrayBuffer))return Q.byteLength;if("string"!=typeof Q)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Q);var $=Q.length,ie=arguments.length>2&&!0===arguments[2];if(!ie&&0===$)return 0;for(var Z=!1;;)switch(q){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return at(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$;case"hex":return $>>>1;case"base64":return ve(Q).length;default:if(Z)return ie?-1:at(Q).length;q=(""+q).toLowerCase(),Z=!0}}function S(Q,q,$){var ie=!1;if((void 0===q||q<0)&&(q=0),q>this.length||((void 0===$||$>this.length)&&($=this.length),$<=0)||($>>>=0)<=(q>>>=0))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return Ve(this,q,$);case"utf8":case"utf-8":return W(this,q,$);case"ascii":return Ee(this,q,$);case"latin1":case"binary":return xe(this,q,$);case"base64":return ce(this,q,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,q,$);default:if(ie)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),ie=!0}}function L(Q,q,$){var ie=Q[q];Q[q]=Q[$],Q[$]=ie}function C(Q,q,$,ie,Z){if(0===Q.length)return-1;if("string"==typeof $?(ie=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),ge($=+$)&&($=Z?0:Q.length-1),$<0&&($=Q.length+$),$>=Q.length){if(Z)return-1;$=Q.length-1}else if($<0){if(!Z)return-1;$=0}if("string"==typeof q&&(q=g.from(q,ie)),g.isBuffer(q))return 0===q.length?-1:U(Q,q,$,ie,Z);if("number"==typeof q)return q&=255,"function"==typeof Uint8Array.prototype.indexOf?Z?Uint8Array.prototype.indexOf.call(Q,q,$):Uint8Array.prototype.lastIndexOf.call(Q,q,$):U(Q,[q],$,ie,Z);throw new TypeError("val must be string, number or Buffer")}function U(Q,q,$,ie,Z){var Le,X=1,pe=Q.length,Te=q.length;if(void 0!==ie&&("ucs2"===(ie=String(ie).toLowerCase())||"ucs-2"===ie||"utf16le"===ie||"utf-16le"===ie)){if(Q.length<2||q.length<2)return-1;X=2,pe/=2,Te/=2,$/=2}function be(ft,ze){return 1===X?ft[ze]:ft.readUInt16BE(ze*X)}if(Z){var et=-1;for(Le=$;Le<pe;Le++)if(be(Q,Le)===be(q,-1===et?0:Le-et)){if(-1===et&&(et=Le),Le-et+1===Te)return et*X}else-1!==et&&(Le-=Le-et),et=-1}else for($+Te>pe&&($=pe-Te),Le=$;Le>=0;Le--){for(var Qe=!0,qe=0;qe<Te;qe++)if(be(Q,Le+qe)!==be(q,qe)){Qe=!1;break}if(Qe)return Le}return-1}function z(Q,q,$,ie){$=Number($)||0;var Z=Q.length-$;ie?(ie=Number(ie))>Z&&(ie=Z):ie=Z;var X=q.length;ie>X/2&&(ie=X/2);for(var pe=0;pe<ie;++pe){var Te=parseInt(q.substr(2*pe,2),16);if(ge(Te))return pe;Q[$+pe]=Te}return pe}function ne(Q,q,$,ie){return K(at(q,Q.length-$),Q,$,ie)}function te(Q,q,$,ie){return K(function Be(Q){for(var q=[],$=0;$<Q.length;++$)q.push(255&Q.charCodeAt($));return q}(q),Q,$,ie)}function Me(Q,q,$,ie){return K(ve(q),Q,$,ie)}function J(Q,q,$,ie){return K(function ye(Q,q){for(var $,ie,X=[],pe=0;pe<Q.length&&!((q-=2)<0);++pe)ie=($=Q.charCodeAt(pe))>>8,X.push($%256),X.push(ie);return X}(q,Q.length-$),Q,$,ie)}function ce(Q,q,$){return n.fromByteArray(0===q&&$===Q.length?Q:Q.slice(q,$))}function W(Q,q,$){$=Math.min(Q.length,$);for(var ie=[],Z=q;Z<$;){var be,Le,et,Qe,X=Q[Z],pe=null,Te=X>239?4:X>223?3:X>191?2:1;if(Z+Te<=$)switch(Te){case 1:X<128&&(pe=X);break;case 2:128==(192&(be=Q[Z+1]))&&(Qe=(31&X)<<6|63&be)>127&&(pe=Qe);break;case 3:Le=Q[Z+2],128==(192&(be=Q[Z+1]))&&128==(192&Le)&&(Qe=(15&X)<<12|(63&be)<<6|63&Le)>2047&&(Qe<55296||Qe>57343)&&(pe=Qe);break;case 4:Le=Q[Z+2],et=Q[Z+3],128==(192&(be=Q[Z+1]))&&128==(192&Le)&&128==(192&et)&&(Qe=(15&X)<<18|(63&be)<<12|(63&Le)<<6|63&et)>65535&&Qe<1114112&&(pe=Qe)}null===pe?(pe=65533,Te=1):pe>65535&&(ie.push((pe-=65536)>>>10&1023|55296),pe=56320|1023&pe),ie.push(pe),Z+=Te}return function le(Q){var q=Q.length;if(q<=Se)return String.fromCharCode.apply(String,Q);for(var $="",ie=0;ie<q;)$+=String.fromCharCode.apply(String,Q.slice(ie,ie+=Se));return $}(ie)}!(g.TYPED_ARRAY_SUPPORT=function x(){try{var Q=new Uint8Array(1),q={foo:function(){return 42}};return Object.setPrototypeOf(q,Uint8Array.prototype),Object.setPrototypeOf(Q,q),42===Q.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}}),g.poolSize=8192,g.from=function(Q,q,$){return d(Q,q,$)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array),g.alloc=function(Q,q,$){return function h(Q,q,$){return i(Q),Q<=0?w(Q):void 0!==q?"string"==typeof $?w(Q).fill(q,$):w(Q).fill(q):w(Q)}(Q,q,$)},g.allocUnsafe=function(Q){return p(Q)},g.allocUnsafeSlow=function(Q){return p(Q)},g.isBuffer=function(q){return null!=q&&!0===q._isBuffer&&q!==g.prototype},g.compare=function(q,$){if(se(q,Uint8Array)&&(q=g.from(q,q.offset,q.byteLength)),se($,Uint8Array)&&($=g.from($,$.offset,$.byteLength)),!g.isBuffer(q)||!g.isBuffer($))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(q===$)return 0;for(var ie=q.length,Z=$.length,X=0,pe=Math.min(ie,Z);X<pe;++X)if(q[X]!==$[X]){ie=q[X],Z=$[X];break}return ie<Z?-1:Z<ie?1:0},g.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(q,$){if(!Array.isArray(q))throw new TypeError('"list" argument must be an Array of Buffers');if(0===q.length)return g.alloc(0);var ie;if(void 0===$)for($=0,ie=0;ie<q.length;++ie)$+=q[ie].length;var Z=g.allocUnsafe($),X=0;for(ie=0;ie<q.length;++ie){var pe=q[ie];if(se(pe,Uint8Array))X+pe.length>Z.length?g.from(pe).copy(Z,X):Uint8Array.prototype.set.call(Z,pe,X);else{if(!g.isBuffer(pe))throw new TypeError('"list" argument must be an Array of Buffers');pe.copy(Z,X)}X+=pe.length}return Z},g.byteLength=I,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var q=this.length;if(q%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<q;$+=2)L(this,$,$+1);return this},g.prototype.swap32=function(){var q=this.length;if(q%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<q;$+=4)L(this,$,$+3),L(this,$+1,$+2);return this},g.prototype.swap64=function(){var q=this.length;if(q%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<q;$+=8)L(this,$,$+7),L(this,$+1,$+6),L(this,$+2,$+5),L(this,$+3,$+4);return this},g.prototype.toLocaleString=g.prototype.toString=function(){var q=this.length;return 0===q?"":0===arguments.length?W(this,0,q):S.apply(this,arguments)},g.prototype.equals=function(q){if(!g.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q||0===g.compare(this,q)},g.prototype.inspect=function(){var q="",$=Xe.h2;return q=this.toString("hex",0,$).replace(/(.{2})/g,"$1 ").trim(),this.length>$&&(q+=" ... "),"<Buffer "+q+">"},A&&(g.prototype[A]=g.prototype.inspect),g.prototype.compare=function(q,$,ie,Z,X){if(se(q,Uint8Array)&&(q=g.from(q,q.offset,q.byteLength)),!g.isBuffer(q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof q);if(void 0===$&&($=0),void 0===ie&&(ie=q?q.length:0),void 0===Z&&(Z=0),void 0===X&&(X=this.length),$<0||ie>q.length||Z<0||X>this.length)throw new RangeError("out of range index");if(Z>=X&&$>=ie)return 0;if(Z>=X)return-1;if($>=ie)return 1;if(this===q)return 0;for(var pe=(X>>>=0)-(Z>>>=0),Te=(ie>>>=0)-($>>>=0),be=Math.min(pe,Te),Le=this.slice(Z,X),et=q.slice($,ie),Qe=0;Qe<be;++Qe)if(Le[Qe]!==et[Qe]){pe=Le[Qe],Te=et[Qe];break}return pe<Te?-1:Te<pe?1:0},g.prototype.includes=function(q,$,ie){return-1!==this.indexOf(q,$,ie)},g.prototype.indexOf=function(q,$,ie){return C(this,q,$,ie,!0)},g.prototype.lastIndexOf=function(q,$,ie){return C(this,q,$,ie,!1)},g.prototype.write=function(q,$,ie,Z){if(void 0===$)Z="utf8",ie=this.length,$=0;else if(void 0===ie&&"string"==typeof $)Z=$,ie=this.length,$=0;else{if(!isFinite($))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");$>>>=0,isFinite(ie)?(ie>>>=0,void 0===Z&&(Z="utf8")):(Z=ie,ie=void 0)}var X=this.length-$;if((void 0===ie||ie>X)&&(ie=X),q.length>0&&(ie<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var pe=!1;;)switch(Z){case"hex":return z(this,q,$,ie);case"utf8":case"utf-8":return ne(this,q,$,ie);case"ascii":case"latin1":case"binary":return te(this,q,$,ie);case"base64":return Me(this,q,$,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,q,$,ie);default:if(pe)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),pe=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Se=4096;function Ee(Q,q,$){var ie="";$=Math.min(Q.length,$);for(var Z=q;Z<$;++Z)ie+=String.fromCharCode(127&Q[Z]);return ie}function xe(Q,q,$){var ie="";$=Math.min(Q.length,$);for(var Z=q;Z<$;++Z)ie+=String.fromCharCode(Q[Z]);return ie}function Ve(Q,q,$){var ie=Q.length;(!q||q<0)&&(q=0),(!$||$<0||$>ie)&&($=ie);for(var Z="",X=q;X<$;++X)Z+=oe[Q[X]];return Z}function fe(Q,q,$){for(var ie=Q.slice(q,$),Z="",X=0;X<ie.length-1;X+=2)Z+=String.fromCharCode(ie[X]+256*ie[X+1]);return Z}function Pe(Q,q,$){if(Q%1!=0||Q<0)throw new RangeError("offset is not uint");if(Q+q>$)throw new RangeError("Trying to access beyond buffer length")}function Ce(Q,q,$,ie,Z,X){if(!g.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(q>Z||q<X)throw new RangeError('"value" argument is out of bounds');if($+ie>Q.length)throw new RangeError("Index out of range")}function me(Q,q,$,ie,Z,X){if($+ie>Q.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function De(Q,q,$,ie,Z){return q=+q,$>>>=0,Z||me(Q,0,$,4),b.write(Q,q,$,ie,23,4),$+4}function Re(Q,q,$,ie,Z){return q=+q,$>>>=0,Z||me(Q,0,$,8),b.write(Q,q,$,ie,52,8),$+8}g.prototype.slice=function(q,$){var ie=this.length;(q=~~q)<0?(q+=ie)<0&&(q=0):q>ie&&(q=ie),($=void 0===$?ie:~~$)<0?($+=ie)<0&&($=0):$>ie&&($=ie),$<q&&($=q);var Z=this.subarray(q,$);return Object.setPrototypeOf(Z,g.prototype),Z},g.prototype.readUintLE=g.prototype.readUIntLE=function(q,$,ie){q>>>=0,$>>>=0,ie||Pe(q,$,this.length);for(var Z=this[q],X=1,pe=0;++pe<$&&(X*=256);)Z+=this[q+pe]*X;return Z},g.prototype.readUintBE=g.prototype.readUIntBE=function(q,$,ie){q>>>=0,$>>>=0,ie||Pe(q,$,this.length);for(var Z=this[q+--$],X=1;$>0&&(X*=256);)Z+=this[q+--$]*X;return Z},g.prototype.readUint8=g.prototype.readUInt8=function(q,$){return q>>>=0,$||Pe(q,1,this.length),this[q]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(q,$){return q>>>=0,$||Pe(q,2,this.length),this[q]|this[q+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(q,$){return q>>>=0,$||Pe(q,2,this.length),this[q]<<8|this[q+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(q,$){return q>>>=0,$||Pe(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+16777216*this[q+3]},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(q,$){return q>>>=0,$||Pe(q,4,this.length),16777216*this[q]+(this[q+1]<<16|this[q+2]<<8|this[q+3])},g.prototype.readIntLE=function(q,$,ie){q>>>=0,$>>>=0,ie||Pe(q,$,this.length);for(var Z=this[q],X=1,pe=0;++pe<$&&(X*=256);)Z+=this[q+pe]*X;return Z>=(X*=128)&&(Z-=Math.pow(2,8*$)),Z},g.prototype.readIntBE=function(q,$,ie){q>>>=0,$>>>=0,ie||Pe(q,$,this.length);for(var Z=$,X=1,pe=this[q+--Z];Z>0&&(X*=256);)pe+=this[q+--Z]*X;return pe>=(X*=128)&&(pe-=Math.pow(2,8*$)),pe},g.prototype.readInt8=function(q,$){return q>>>=0,$||Pe(q,1,this.length),128&this[q]?-1*(255-this[q]+1):this[q]},g.prototype.readInt16LE=function(q,$){q>>>=0,$||Pe(q,2,this.length);var ie=this[q]|this[q+1]<<8;return 32768&ie?4294901760|ie:ie},g.prototype.readInt16BE=function(q,$){q>>>=0,$||Pe(q,2,this.length);var ie=this[q+1]|this[q]<<8;return 32768&ie?4294901760|ie:ie},g.prototype.readInt32LE=function(q,$){return q>>>=0,$||Pe(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},g.prototype.readInt32BE=function(q,$){return q>>>=0,$||Pe(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},g.prototype.readFloatLE=function(q,$){return q>>>=0,$||Pe(q,4,this.length),b.read(this,q,!0,23,4)},g.prototype.readFloatBE=function(q,$){return q>>>=0,$||Pe(q,4,this.length),b.read(this,q,!1,23,4)},g.prototype.readDoubleLE=function(q,$){return q>>>=0,$||Pe(q,8,this.length),b.read(this,q,!0,52,8)},g.prototype.readDoubleBE=function(q,$){return q>>>=0,$||Pe(q,8,this.length),b.read(this,q,!1,52,8)},g.prototype.writeUintLE=g.prototype.writeUIntLE=function(q,$,ie,Z){q=+q,$>>>=0,ie>>>=0,Z||Ce(this,q,$,ie,Math.pow(2,8*ie)-1,0);var pe=1,Te=0;for(this[$]=255&q;++Te<ie&&(pe*=256);)this[$+Te]=q/pe&255;return $+ie},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(q,$,ie,Z){q=+q,$>>>=0,ie>>>=0,Z||Ce(this,q,$,ie,Math.pow(2,8*ie)-1,0);var pe=ie-1,Te=1;for(this[$+pe]=255&q;--pe>=0&&(Te*=256);)this[$+pe]=q/Te&255;return $+ie},g.prototype.writeUint8=g.prototype.writeUInt8=function(q,$,ie){return q=+q,$>>>=0,ie||Ce(this,q,$,1,255,0),this[$]=255&q,$+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(q,$,ie){return q=+q,$>>>=0,ie||Ce(this,q,$,2,65535,0),this[$]=255&q,this[$+1]=q>>>8,$+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(q,$,ie){return q=+q,$>>>=0,ie||Ce(this,q,$,2,65535,0),this[$]=q>>>8,this[$+1]=255&q,$+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(q,$,ie){return q=+q,$>>>=0,ie||Ce(this,q,$,4,4294967295,0),this[$+3]=q>>>24,this[$+2]=q>>>16,this[$+1]=q>>>8,this[$]=255&q,$+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(q,$,ie){return q=+q,$>>>=0,ie||Ce(this,q,$,4,4294967295,0),this[$]=q>>>24,this[$+1]=q>>>16,this[$+2]=q>>>8,this[$+3]=255&q,$+4},g.prototype.writeIntLE=function(q,$,ie,Z){if(q=+q,$>>>=0,!Z){var X=Math.pow(2,8*ie-1);Ce(this,q,$,ie,X-1,-X)}var pe=0,Te=1,be=0;for(this[$]=255&q;++pe<ie&&(Te*=256);)q<0&&0===be&&0!==this[$+pe-1]&&(be=1),this[$+pe]=(q/Te>>0)-be&255;return $+ie},g.prototype.writeIntBE=function(q,$,ie,Z){if(q=+q,$>>>=0,!Z){var X=Math.pow(2,8*ie-1);Ce(this,q,$,ie,X-1,-X)}var pe=ie-1,Te=1,be=0;for(this[$+pe]=255&q;--pe>=0&&(Te*=256);)q<0&&0===be&&0!==this[$+pe+1]&&(be=1),this[$+pe]=(q/Te>>0)-be&255;return $+ie},g.prototype.writeInt8=function(q,$,ie){return q=+q,$>>>=0,ie||Ce(this,q,$,1,127,-128),q<0&&(q=255+q+1),this[$]=255&q,$+1},g.prototype.writeInt16LE=function(q,$,ie){return q=+q,$>>>=0,ie||Ce(this,q,$,2,32767,-32768),this[$]=255&q,this[$+1]=q>>>8,$+2},g.prototype.writeInt16BE=function(q,$,ie){return q=+q,$>>>=0,ie||Ce(this,q,$,2,32767,-32768),this[$]=q>>>8,this[$+1]=255&q,$+2},g.prototype.writeInt32LE=function(q,$,ie){return q=+q,$>>>=0,ie||Ce(this,q,$,4,2147483647,-2147483648),this[$]=255&q,this[$+1]=q>>>8,this[$+2]=q>>>16,this[$+3]=q>>>24,$+4},g.prototype.writeInt32BE=function(q,$,ie){return q=+q,$>>>=0,ie||Ce(this,q,$,4,2147483647,-2147483648),q<0&&(q=4294967295+q+1),this[$]=q>>>24,this[$+1]=q>>>16,this[$+2]=q>>>8,this[$+3]=255&q,$+4},g.prototype.writeFloatLE=function(q,$,ie){return De(this,q,$,!0,ie)},g.prototype.writeFloatBE=function(q,$,ie){return De(this,q,$,!1,ie)},g.prototype.writeDoubleLE=function(q,$,ie){return Re(this,q,$,!0,ie)},g.prototype.writeDoubleBE=function(q,$,ie){return Re(this,q,$,!1,ie)},g.prototype.copy=function(q,$,ie,Z){if(!g.isBuffer(q))throw new TypeError("argument should be a Buffer");if(ie||(ie=0),!Z&&0!==Z&&(Z=this.length),$>=q.length&&($=q.length),$||($=0),Z>0&&Z<ie&&(Z=ie),Z===ie||0===q.length||0===this.length)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(ie<0||ie>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),q.length-$<Z-ie&&(Z=q.length-$+ie);var X=Z-ie;return this===q&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin($,ie,Z):Uint8Array.prototype.set.call(q,this.subarray(ie,Z),$),X},g.prototype.fill=function(q,$,ie,Z){if("string"==typeof q){if("string"==typeof $?(Z=$,$=0,ie=this.length):"string"==typeof ie&&(Z=ie,ie=this.length),void 0!==Z&&"string"!=typeof Z)throw new TypeError("encoding must be a string");if("string"==typeof Z&&!g.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(1===q.length){var X=q.charCodeAt(0);("utf8"===Z&&X<128||"latin1"===Z)&&(q=X)}}else"number"==typeof q?q&=255:"boolean"==typeof q&&(q=Number(q));if($<0||this.length<$||this.length<ie)throw new RangeError("Out of range index");if(ie<=$)return this;var pe;if($>>>=0,ie=void 0===ie?this.length:ie>>>0,q||(q=0),"number"==typeof q)for(pe=$;pe<ie;++pe)this[pe]=q;else{var Te=g.isBuffer(q)?q:g.from(q,Z),be=Te.length;if(0===be)throw new TypeError('The value "'+q+'" is invalid for argument "value"');for(pe=0;pe<ie-$;++pe)this[pe+$]=Te[pe%be]}return this};var Fe=/[^+/0-9A-Za-z-_]/g;function at(Q,q){q=q||1/0;for(var $,ie=Q.length,Z=null,X=[],pe=0;pe<ie;++pe){if(($=Q.charCodeAt(pe))>55295&&$<57344){if(!Z){if($>56319){(q-=3)>-1&&X.push(239,191,189);continue}if(pe+1===ie){(q-=3)>-1&&X.push(239,191,189);continue}Z=$;continue}if($<56320){(q-=3)>-1&&X.push(239,191,189),Z=$;continue}$=65536+(Z-55296<<10|$-56320)}else Z&&(q-=3)>-1&&X.push(239,191,189);if(Z=null,$<128){if((q-=1)<0)break;X.push($)}else if($<2048){if((q-=2)<0)break;X.push($>>6|192,63&$|128)}else if($<65536){if((q-=3)<0)break;X.push($>>12|224,$>>6&63|128,63&$|128)}else{if(!($<1114112))throw new Error("Invalid code point");if((q-=4)<0)break;X.push($>>18|240,$>>12&63|128,$>>6&63|128,63&$|128)}}return X}function ve(Q){return n.toByteArray(function Ne(Q){if((Q=(Q=Q.split("=")[0]).trim().replace(Fe,"")).length<2)return"";for(;Q.length%4!=0;)Q+="=";return Q}(Q))}function K(Q,q,$,ie){for(var Z=0;Z<ie&&!(Z+$>=q.length||Z>=Q.length);++Z)q[Z+$]=Q[Z];return Z}function se(Q,q){return Q instanceof q||null!=Q&&null!=Q.constructor&&null!=Q.constructor.name&&Q.constructor.name===q.name}function ge(Q){return Q!=Q}var oe=function(){for(var Q="0123456789abcdef",q=new Array(256),$=0;$<16;++$)for(var ie=16*$,Z=0;Z<16;++Z)q[ie+Z]=Q[$]+Q[Z];return q}()},5094:Hn=>{window,Hn.exports=function(Xe){var v={};function e(n){if(v[n])return v[n].exports;var b=v[n]={i:n,l:!1,exports:{}};return Xe[n].call(b.exports,b,b.exports,e),b.l=!0,b.exports}return e.m=Xe,e.c=v,e.d=function(n,b,A){e.o(n,b)||Object.defineProperty(n,b,{enumerable:!0,get:A})},e.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,b){if(1&b&&(n=e(n)),8&b||4&b&&"object"==typeof n&&n&&n.__esModule)return n;var A=Object.create(null);if(e.r(A),Object.defineProperty(A,"default",{enumerable:!0,value:n}),2&b&&"string"!=typeof n)for(var _ in n)e.d(A,_,function(x){return n[x]}.bind(null,_));return A},e.n=function(n){var b=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(b,"a",b),b},e.o=function(n,b){return Object.prototype.hasOwnProperty.call(n,b)},e.p="/dist/",e(e.s="./index.js")}({"./externals/base64.js":
/*!*****************************!*\
                  !*** ./externals/base64.js ***!
                  \*****************************/
/*! no static exports found */function(Xe,v,e){var A,_,x,w,g,n_encode=function(A){for(var _=[],x=0;x<A.length;++x){var w=A.charCodeAt(x);w<128?_.push(w):w<2048?(_.push(192|w>>6),_.push(128|63&w)):w<65536?(_.push(224|w>>12),_.push(128|63&w>>6),_.push(128|63&w)):(_.push(240|w>>18),_.push(128|63&w>>12),_.push(128|63&w>>6),_.push(128|63&w))}return _},n_decode=function(A){for(var _=[],x=0;x<A.length;){var w=A[x++];w<128||(w<224?(w=(31&w)<<6,w|=63&A[x++]):w<240?(w=(15&w)<<12,w|=(63&A[x++])<<6,w|=63&A[x++]):(w=(7&w)<<18,w|=(63&A[x++])<<12,w|=(63&A[x++])<<6,w|=63&A[x++])),_.push(String.fromCharCode(w))}return _.join("")},b={};A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=function(i){for(var h=0,p=[],T=0|i.length/3;0<T--;){var B=(i[h]<<16)+(i[h+1]<<8)+i[h+2];h+=3,p.push(A.charAt(63&B>>18)),p.push(A.charAt(63&B>>12)),p.push(A.charAt(63&B>>6)),p.push(A.charAt(63&B))}return i.length-h==2?(p.push(A.charAt(63&(B=(i[h]<<16)+(i[h+1]<<8))>>18)),p.push(A.charAt(63&B>>12)),p.push(A.charAt(63&B>>6)),p.push("=")):i.length-h==1&&(p.push(A.charAt(63&(B=i[h]<<16)>>18)),p.push(A.charAt(63&B>>12)),p.push("==")),p.join("")},x=function(){for(var d=[],i=0;i<64;++i)d[A.charCodeAt(i)]=i;return d["=".charCodeAt(0)]=0,d}(),w=function(i){for(var h=0,p=[],T=0|i.length/4;0<T--;){var B=(x[i.charCodeAt(h)]<<18)+(x[i.charCodeAt(h+1)]<<12)+(x[i.charCodeAt(h+2)]<<6)+x[i.charCodeAt(h+3)];p.push(255&B>>16),p.push(255&B>>8),p.push(255&B),h+=4}return p&&("="==i.charAt(h-2)?(p.pop(),p.pop()):"="==i.charAt(h-1)&&p.pop()),p},g={encode:function(d){for(var i=[],h=0;h<d.length;++h)i.push(d.charCodeAt(h));return i},decode:function(d){for(var i=0;i<s.length;++i)a[i]=String.fromCharCode(a[i]);return a.join("")}},b.decodeArray=function(d){var i=w(d);return new Uint8Array(i)},b.encodeASCII=function(d){var i=g.encode(d);return _(i)},b.decodeASCII=function(d){var i=w(d);return g.decode(i)},b.encode=function(d){var i=n_encode(d);return _(i)},b.decode=function(d){var i=w(d);return n_decode(i)},v.decode=b.decode,v.decodeArray=b.decodeArray,v.encode=b.encode,v.encodeASCII=b.encodeASCII},"./externals/cea608-parser.js":
/*!************************************!*\
                  !*** ./externals/cea608-parser.js ***!
                  \************************************/
/*! no static exports found */function(Xe,v,e){!function(n){"use strict";var b={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},A=function(C){var U=C;return b.hasOwnProperty(C)&&(U=b[C]),String.fromCharCode(U)},_=15,x=32,w={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},g={17:2,18:4,21:6,22:8,23:10,19:13,20:15},d={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},i={25:2,26:4,29:6,30:8,31:10,27:13,28:15},h=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],p={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(C){this.time=C},log:function(C,U){this.verboseLevel>=this.verboseFilter[C]&&console.log(this.time+" ["+C+"] "+U)}},T=function(C){for(var U=[],z=0;z<C.length;z++)U.push(C[z].toString(16));return U},B=function(C,U,z,ne,te){this.foreground=C||"white",this.underline=U||!1,this.italics=z||!1,this.background=ne||"black",this.flash=te||!1};B.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(C){for(var U=["foreground","underline","italics","background","flash"],z=0;z<U.length;z++){var ne=U[z];C.hasOwnProperty(ne)&&(this[ne]=C[ne])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(C){return this.foreground===C.foreground&&this.underline===C.underline&&this.italics===C.italics&&this.background===C.background&&this.flash===C.flash},copy:function(C){this.foreground=C.foreground,this.underline=C.underline,this.italics=C.italics,this.background=C.background,this.flash=C.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var P=function(C,U,z,ne,te,Me){this.uchar=C||" ",this.penState=new B(U,z,ne,te,Me)};P.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(C,U){this.uchar=C,this.penState.copy(U)},setPenState:function(C){this.penState.copy(C)},equals:function(C){return this.uchar===C.uchar&&this.penState.equals(C.penState)},copy:function(C){this.uchar=C.uchar,this.penState.copy(C.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var k=function(){this.chars=[];for(var C=0;C<x;C++)this.chars.push(new P);this.pos=0,this.currPenState=new B};k.prototype={equals:function(C){for(var U=!0,z=0;z<x;z++)if(!this.chars[z].equals(C.chars[z])){U=!1;break}return U},copy:function(C){for(var U=0;U<x;U++)this.chars[U].copy(C.chars[U])},isEmpty:function(){for(var C=!0,U=0;U<x;U++)if(!this.chars[U].isEmpty()){C=!1;break}return C},setCursor:function(C){this.pos!==C&&(this.pos=C),this.pos<0?(p.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>x&&(p.log("ERROR","Too large cursor position "+this.pos),this.pos=x)},moveCursor:function(C){var U=this.pos+C;if(C>1)for(var z=this.pos+1;z<U+1;z++)this.chars[z].setPenState(this.currPenState);this.setCursor(U)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(C){C>=144&&this.backSpace();var U=A(C);this.pos>=x?p.log("ERROR","Cannot insert "+C.toString(16)+" ("+U+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(U,this.currPenState),this.moveCursor(1))},clearFromPos:function(C){var U;for(U=C;U<x;U++)this.chars[U].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var C=[],U=!0,z=0;z<x;z++){var ne=this.chars[z].uchar;" "!==ne&&(U=!1),C.push(ne)}return U?"":C.join("")},setPenStyles:function(C){this.currPenState.setStyles(C),this.chars[this.pos].setPenState(this.currPenState)}};var F=function(){this.rows=[];for(var C=0;C<_;C++)this.rows.push(new k);this.currRow=14,this.nrRollUpRows=null,this.reset()};F.prototype={reset:function(){for(var C=0;C<_;C++)this.rows[C].clear();this.currRow=14},equals:function(C){for(var U=!0,z=0;z<_;z++)if(!this.rows[z].equals(C.rows[z])){U=!1;break}return U},copy:function(C){for(var U=0;U<_;U++)this.rows[U].copy(C.rows[U])},isEmpty:function(){for(var C=!0,U=0;U<_;U++)if(!this.rows[U].isEmpty()){C=!1;break}return C},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(C){this.rows[this.currRow].insertChar(C)},setPen:function(C){this.rows[this.currRow].setPenStyles(C)},moveCursor:function(C){this.rows[this.currRow].moveCursor(C)},setCursor:function(C){p.log("INFO","setCursor: "+C),this.rows[this.currRow].setCursor(C)},setPAC:function(C){p.log("INFO","pacData = "+JSON.stringify(C));var U=C.row-1;this.nrRollUpRows&&U<this.nrRollUpRows-1&&(U=this.nrRollUpRows-1),this.currRow=U;var z=this.rows[this.currRow];if(null!==C.indent){var te=Math.max(C.indent-1,0);z.setCursor(C.indent),C.color=z.chars[te].penState.foreground}this.setPen({foreground:C.color,underline:C.underline,italics:C.italics,background:"black",flash:!1})},setBkgData:function(C){p.log("INFO","bkgData = "+JSON.stringify(C)),this.backSpace(),this.setPen(C),this.insertChar(32)},setRollUpRows:function(C){this.nrRollUpRows=C},rollUp:function(){if(null!==this.nrRollUpRows){p.log("TEXT",this.getDisplayText());var U=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];U.clear(),this.rows.splice(this.currRow,0,U),p.log("INFO","Rolling up")}else p.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(C){C=C||!1;for(var U=[],z="",te=0;te<_;te++){var Me=this.rows[te].getTextString();Me&&U.push(C?"Row "+(te+1)+': "'+Me+'"':Me.trim())}return U.length>0&&(z=C?"["+U.join(" | ")+"]":U.join("\n")),z},getTextAndFormat:function(){return this.rows}};var O=function(C,U){this.chNr=C,this.outputFilter=U,this.mode=null,this.verbose=0,this.displayedMemory=new F,this.nonDisplayedMemory=new F,this.lastOutputScreen=new F,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};O.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(C){this.outputFilter=C},setPAC:function(C){this.writeScreen.setPAC(C)},setBkgData:function(C){this.writeScreen.setBkgData(C)},setMode:function(C){C!==this.mode&&(this.mode=C,p.log("INFO","MODE="+C),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=C)},insertChars:function(C){for(var U=0;U<C.length;U++)this.writeScreen.insertChar(C[U]);p.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(p.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){p.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){p.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){p.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(C){p.log("INFO","RU("+C+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(C)},cc_FON:function(){p.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){p.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){p.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){p.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){p.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){p.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){p.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(p.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var C=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=C,this.writeScreen=this.nonDisplayedMemory,p.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(C){p.log("INFO","TO("+C+") - Tab Offset"),this.writeScreen.moveCursor(C)},cc_MIDROW:function(C){var U={flash:!1};if(U.underline=C%2==1,U.italics=C>=46,U.italics)U.foreground="white";else{var z=Math.floor(C/2)-16;U.foreground=["white","green","blue","cyan","red","yellow","magenta"][z]}p.log("INFO","MIDROW: "+JSON.stringify(U)),this.writeScreen.setPen(U)},outputDataUpdate:function(){var C=p.time;null!==C&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(C,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,C,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:C):this.cueStartTime=C,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(C){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,C,this.displayedMemory),this.cueStartTime=C))}};var D=function(C,U,z){this.field=C||1,this.outputs=[U,z],this.channels=[new O(1,U),new O(2,z)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};D.prototype={getHandler:function(C){return this.channels[C].getHandler()},setHandler:function(C,U){this.channels[C].setHandler(U)},addData:function(C,U){var z,ne,te,Me=!1;this.lastTime=C,p.setTime(C);for(var J=0;J<U.length;J+=2)te=127&U[J+1],(ne=127&U[J])>=16&&ne<=31&&ne===this.lastCmdA&&te===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,p.log("DEBUG","Repeated command ("+T([ne,te])+") is dropped")):0!==ne||0!==te?(p.log("DATA","["+T([U[J],U[J+1]])+"] -> ("+T([ne,te])+")"),(z=this.parseCmd(ne,te))||(z=this.parseMidrow(ne,te)),z||(z=this.parsePAC(ne,te)),z||(z=this.parseBackgroundAttributes(ne,te)),!z&&(Me=this.parseChars(ne,te))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(Me):p.log("WARNING","No channel found yet. TEXT-MODE?")),z?this.dataCounters.cmd+=2:Me?this.dataCounters.char+=2:(this.dataCounters.other+=2,p.log("WARNING","Couldn't parse cleaned data "+T([ne,te])+" orig: "+T([U[J],U[J+1]])))):this.dataCounters.padding+=2},parseCmd:function(C,U){var z;if(!((20===C||21===C||28===C||29===C)&&32<=U&&U<=47||(23===C||31===C)&&33<=U&&U<=35))return!1;var Me=this.channels[(z=20===C||21===C||23===C?1:2)-1];return 20===C||21===C||28===C||29===C?32===U?Me.cc_RCL():33===U?Me.cc_BS():34===U?Me.cc_AOF():35===U?Me.cc_AON():36===U?Me.cc_DER():37===U?Me.cc_RU(2):38===U?Me.cc_RU(3):39===U?Me.cc_RU(4):40===U?Me.cc_FON():41===U?Me.cc_RDC():42===U?Me.cc_TR():43===U?Me.cc_RTD():44===U?Me.cc_EDM():45===U?Me.cc_CR():46===U?Me.cc_ENM():47===U&&Me.cc_EOC():Me.cc_TO(U-32),this.lastCmdA=C,this.lastCmdB=U,this.currChNr=z,!0},parseMidrow:function(C,U){var z=null;if((17===C||25===C)&&32<=U&&U<=47){if((z=17===C?1:2)!==this.currChNr)return p.log("ERROR","Mismatch channel in midrow parsing"),!1;var ne=this.channels[z-1];return ne.insertChars([32]),ne.cc_MIDROW(U),p.log("DEBUG","MIDROW ("+T([C,U])+")"),this.lastCmdA=C,this.lastCmdB=U,!0}return!1},parsePAC:function(C,U){var z;if(!((17<=C&&C<=23||25<=C&&C<=31)&&64<=U&&U<=127||(16===C||24===C)&&64<=U&&U<=95))return!1;z=C<=23?1:2;var J=this.interpretPAC(64<=U&&U<=95?1===z?w[C]:d[C]:1===z?g[C]:i[C],U);return this.channels[z-1].setPAC(J),this.lastCmdA=C,this.lastCmdB=U,this.currChNr=z,!0},interpretPAC:function(C,U){var z,ne={color:null,italics:!1,indent:null,underline:!1,row:C};return ne.underline=1==(1&(z=U>95?U-96:U-64)),z<=13?ne.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(z/2)]:z<=15?(ne.italics=!0,ne.color="white"):ne.indent=4*Math.floor((z-16)/2),ne},parseChars:function(C,U){var z=null,ne=null,te=null;if(C>=25?(z=2,te=C-8):(z=1,te=C),17<=te&&te<=19){var J;p.log("INFO","Special char '"+A(J=17===te?U+80:18===te?U+112:U+144)+"' in channel "+z),ne=[J],this.lastCmdA=C,this.lastCmdB=U}else 32<=C&&C<=127&&(ne=0===U?[C]:[C,U],this.lastCmdA=null,this.lastCmdB=null);if(ne){var ce=T(ne);p.log("DEBUG","Char codes =  "+ce.join(","))}return ne},parseBackgroundAttributes:function(C,U){var z,ne;return!!((16===C||24===C)&&32<=U&&U<=47||(23===C||31===C)&&45<=U&&U<=47)&&(z={},16===C||24===C?(ne=Math.floor((U-32)/2),z.background=h[ne],U%2==1&&(z.background=z.background+"_semi")):45===U?z.background="transparent":(z.foreground="black",47===U&&(z.underline=!0)),this.channels[(C<24?1:2)-1].setBkgData(z),this.lastCmdA=C,this.lastCmdB=U,!0)},reset:function(){for(var C=0;C<this.channels.length;C++)this.channels[C]&&this.channels[C].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(C){for(var U=0;U<this.channels.length;U++)this.channels[U]&&this.channels[U].cueSplitAtTime(C)}};n.logger=p,n.PenState=B,n.CaptionScreen=F,n.Cea608Parser=D,n.findCea608Nalus=function(C,U,z){for(var ne=0,te=U,J=[],ce=function(Ve,fe,Pe,Ce){if(4!==Ve||fe<8)return null;var me=Pe.getUint8(Ce),De=Pe.getUint16(Ce+1),Re=Pe.getUint32(Ce+3),Fe=Pe.getUint8(Ce+7);return 181==me&&49==De&&1195456820==Re&&3==Fe};te<U+z;){if(ne=C.getUint32(te),6==(31&C.getUint8(te+4)))for(var W=te+5,Se=-1;W<te+4+ne-1;){Se=0;for(var le=255;255===le;)Se+=le=C.getUint8(W),W++;var Ee=0;for(le=255;255===le;)Ee+=le=C.getUint8(W),W++;ce(Se,Ee,C,W)&&J.push([W,Ee]),W+=Ee}te+=ne+4}return J},n.extractCea608DataFromRange=function(C,U){var z=U[0],ne=[[],[]],te=31&C.getUint8(z+=8);z+=2;for(var Me=0;Me<te;Me++){var J=C.getUint8(z),ce=4&J,W=3&J;z++;var Se=C.getUint8(z);z++;var le=C.getUint8(z);z++,ce&&(127&Se)+(127&le)!=0&&(0===W?(ne[0].push(Se),ne[0].push(le)):1===W&&(ne[1].push(Se),ne[1].push(le)))}return ne}}(v)},"./externals/xml2json.js":
/*!*******************************!*\
                  !*** ./externals/xml2json.js ***!
                  \*******************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v),v.default=function n(b){b=b||{},function _(){void 0===b.escapeMode&&(b.escapeMode=!0),void 0===b.attributePrefix&&(b.attributePrefix="_"),b.arrayAccessForm=b.arrayAccessForm||"none",b.emptyNodeForm=b.emptyNodeForm||"text",void 0===b.enableToStringFunc&&(b.enableToStringFunc=!0),b.arrayAccessFormPaths=b.arrayAccessFormPaths||[],void 0===b.skipEmptyTextNodesForObj&&(b.skipEmptyTextNodesForObj=!0),void 0===b.stripWhitespaces&&(b.stripWhitespaces=!0),b.datetimeAccessFormPaths=b.datetimeAccessFormPaths||[],void 0===b.useDoubleQuotes&&(b.useDoubleQuotes=!1),b.xmlElementsFilter=b.xmlElementsFilter||[],b.jsonPropertiesFilter=b.jsonPropertiesFilter||[],void 0===b.keepCData&&(b.keepCData=!1),void 0===b.ignoreRoot&&(b.ignoreRoot=!1)}();var x={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function g(ce){var W=ce.localName;return null==W&&(W=ce.baseName),(null==W||""==W)&&(W=ce.nodeName),W}function i(ce){return"string"==typeof ce?ce.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):ce}function p(ce,W,Se,le){for(var Ee=0;Ee<ce.length;Ee++){var xe=ce[Ee];if("string"==typeof xe){if(xe==le)break}else if(xe instanceof RegExp){if(xe.test(le))break}else if("function"==typeof xe&&xe(W,Se,le))break}return Ee!=ce.length}function T(ce,W,Se){"property"===b.arrayAccessForm&&(ce[W+"_asArray"]=ce[W]instanceof Array?ce[W]:[ce[W]]),!(ce[W]instanceof Array)&&b.arrayAccessFormPaths.length>0&&p(b.arrayAccessFormPaths,ce,W,Se)&&(ce[W]=[ce[W]])}function B(ce){var W=ce.split(/[-T:+Z]/g),Se=new Date(W[0],W[1]-1,W[2]),le=W[5].split(".");if(Se.setHours(W[3],W[4],le[0]),le.length>1&&Se.setMilliseconds(le[1]),W[6]&&W[7]){var Ee=60*W[6]+Number(W[7]);Ee=0+("-"==(/\d\d-\d\d:\d\d$/.test(ce)?"-":"+")?-1*Ee:Ee),Se.setMinutes(Se.getMinutes()-Ee-Se.getTimezoneOffset())}else-1!==ce.indexOf("Z",ce.length-1)&&(Se=new Date(Date.UTC(Se.getFullYear(),Se.getMonth(),Se.getDate(),Se.getHours(),Se.getMinutes(),Se.getSeconds(),Se.getMilliseconds())));return Se}function k(ce,W,Se,le){return!(W==x.ELEMENT_NODE&&b.xmlElementsFilter.length>0)||p(b.xmlElementsFilter,ce,Se,le)}function F(ce,W){if(ce.nodeType==x.DOCUMENT_NODE){for(var Se=new Object,le=ce.childNodes,Ee=0;Ee<le.length;Ee++)(xe=le[Ee]).nodeType==x.ELEMENT_NODE&&(b.ignoreRoot?Se=F(xe):(Se={})[Ve=g(xe)]=F(xe));return Se}if(ce.nodeType==x.ELEMENT_NODE){(Se=new Object).__cnt=0;var fe=[];for(le=ce.childNodes,Ee=0;Ee<le.length;Ee++){var xe,Ve=g(xe=le[Ee]);if(xe.nodeType!=x.COMMENT_NODE){var Pe=W+"."+Ve;if(k(Se,xe.nodeType,Ve,Pe))if(Se.__cnt++,null==Se[Ve]){var Ce=F(xe,Pe);("#text"!=Ve||/[^\s]/.test(Ce))&&((me={})[Ve]=Ce,fe.push(me)),Se[Ve]=Ce,T(Se,Ve,Pe)}else{var me;null!=Se[Ve]&&(Se[Ve]instanceof Array||(Se[Ve]=[Se[Ve]],T(Se,Ve,Pe))),Ce=F(xe,Pe),("#text"!=Ve||/[^\s]/.test(Ce))&&((me={})[Ve]=Ce,fe.push(me)),Se[Ve][Se[Ve].length]=Ce}}}Se.__children=fe;for(var De=g(ce),Re=0;Re<ce.attributes.length;Re++){var Fe=ce.attributes[Re];Se.__cnt++;for(var Ne=Fe.value,at=0,Be=b.matchers.length;at<Be;at++){var ye=b.matchers[at];ye.test(Fe,De)&&(Ne=ye.converter(Fe.value))}Se[b.attributePrefix+Fe.name]=Ne}var ve=function d(ce){return ce.prefix}(ce);return null!=ve&&""!=ve&&(Se.__cnt++,Se.__prefix=ve),null!=Se["#text"]&&(Se.__text=Se["#text"],Se.__text instanceof Array&&(Se.__text=Se.__text.join("\n")),b.stripWhitespaces&&(Se.__text=Se.__text.trim()),delete Se["#text"],"property"==b.arrayAccessForm&&delete Se["#text_asArray"],Se.__text=function P(ce,W,Se){if(b.datetimeAccessFormPaths.length>0){var le=Se.split(".#")[0];return p(b.datetimeAccessFormPaths,ce,W,le)?B(ce):ce}return ce}(Se.__text,Ve,W+"."+Ve)),null!=Se["#cdata-section"]&&(Se.__cdata=Se["#cdata-section"],delete Se["#cdata-section"],"property"==b.arrayAccessForm&&delete Se["#cdata-section_asArray"]),0==Se.__cnt&&"text"==b.emptyNodeForm?Se="":1==Se.__cnt&&null!=Se.__text?Se=Se.__text:1!=Se.__cnt||null==Se.__cdata||b.keepCData?Se.__cnt>1&&null!=Se.__text&&b.skipEmptyTextNodesForObj&&(b.stripWhitespaces&&""==Se.__text||""==Se.__text.trim())&&delete Se.__text:Se=Se.__cdata,delete Se.__cnt,b.enableToStringFunc&&(null!=Se.__text||null!=Se.__cdata)&&(Se.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),Se}if(ce.nodeType==x.TEXT_NODE||ce.nodeType==x.CDATA_SECTION_NODE)return ce.nodeValue}function O(ce,W,Se,le){var Ee="<"+(null!=ce&&null!=ce.__prefix?ce.__prefix+":":"")+W;if(null!=Se)for(var xe=0;xe<Se.length;xe++){var Ve=Se[xe],fe=ce[Ve];b.escapeMode&&(fe=i(fe)),Ee+=" "+Ve.substr(b.attributePrefix.length)+"=",Ee+=b.useDoubleQuotes?'"'+fe+'"':"'"+fe+"'"}return Ee+(le?"/>":">")}function D(ce,W){return"</"+(null!=ce.__prefix?ce.__prefix+":":"")+W+">"}function S(ce,W){return!!("property"==b.arrayAccessForm&&function I(ce,W){return-1!==ce.indexOf(W,ce.length-W.length)}(W.toString(),"_asArray")||0==W.toString().indexOf(b.attributePrefix)||0==W.toString().indexOf("__")||ce[W]instanceof Function)}function L(ce){var W=0;if(ce instanceof Object)for(var Se in ce)S(ce,Se)||W++;return W}function C(ce,W,Se){return 0==b.jsonPropertiesFilter.length||""==Se||p(b.jsonPropertiesFilter,ce,W,Se)}function U(ce){var W=[];if(ce instanceof Object)for(var Se in ce)-1==Se.toString().indexOf("__")&&0==Se.toString().indexOf(b.attributePrefix)&&W.push(Se);return W}function ne(ce){var W="";return ce instanceof Object?W+=function z(ce){var W="";return null!=ce.__cdata&&(W+="<![CDATA["+ce.__cdata+"]]>"),null!=ce.__text&&(W+=b.escapeMode?i(ce.__text):ce.__text),W}(ce):null!=ce&&(W+=b.escapeMode?i(ce):ce),W}function te(ce,W){return""===ce?W:ce+"."+W}function Me(ce,W,Se,le){var Ee="";if(0==ce.length)Ee+=O(ce,W,Se,!0);else for(var xe=0;xe<ce.length;xe++)Ee+=O(ce[xe],W,U(ce[xe]),!1),Ee+=J(ce[xe],te(le,W)),Ee+=D(ce[xe],W);return Ee}function J(ce,W){var Se="";if(L(ce)>0)for(var Ee in ce)if(!S(ce,Ee)&&(""==W||C(ce,Ee,te(W,Ee)))){var xe=ce[Ee],Ve=U(xe);null==xe||null==xe?Se+=O(xe,Ee,Ve,!0):xe instanceof Object?xe instanceof Array?Se+=Me(xe,Ee,Ve,W):xe instanceof Date?(Se+=O(xe,Ee,Ve,!1),Se+=xe.toISOString(),Se+=D(xe,Ee)):L(xe)>0||null!=xe.__text||null!=xe.__cdata?(Se+=O(xe,Ee,Ve,!1),Se+=J(xe,te(W,Ee)),Se+=D(xe,Ee)):Se+=O(xe,Ee,Ve,!0):(Se+=O(xe,Ee,Ve,!1),Se+=ne(xe),Se+=D(xe,Ee))}return Se+ne(ce)}this.parseXmlString=function(ce){var Se;if(window.ActiveXObject||window,void 0===ce)return null;if(window.DOMParser){var le=new window.DOMParser;try{(Se=le.parseFromString(ce,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(Se=null)}catch{Se=null}}else 0==ce.indexOf("<?")&&(ce=ce.substr(ce.indexOf("?>")+2)),(Se=new ActiveXObject("Microsoft.XMLDOM")).async="false",Se.loadXML(ce);return Se},this.asArray=function(ce){return void 0===ce||null==ce?[]:ce instanceof Array?ce:[ce]},this.toXmlDateTime=function(ce){return ce instanceof Date?ce.toISOString():"number"==typeof ce?new Date(ce).toISOString():null},this.asDateTime=function(ce){return"string"==typeof ce?B(ce):ce},this.xml2json=function(ce){return F(ce)},this.xml_str2json=function(ce){var W=this.parseXmlString(ce);return null!=W?this.xml2json(W):null},this.json2xml_str=function(ce){return J(ce,"")},this.json2xml=function(ce){var W=this.json2xml_str(ce);return this.parseXmlString(W)},this.getVersion=function(){return"1.2.0"}}},"./index.js":
/*!******************!*\
                  !*** ./index.js ***!
                  \******************/
/*! exports provided: default, MediaPlayer, Protection, MetricsReporting, MediaPlayerFactory, Debug, supportsMediaSource */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./index_mediaplayerOnly */
"./index_mediaplayerOnly.js");e.d(v,"MediaPlayer",function(){return n.MediaPlayer});var b=e(
/*! ./src/streaming/utils/Capabilities */
"./src/streaming/utils/Capabilities.js");e.d(v,"supportsMediaSource",function(){return b.supportsMediaSource});var A=e(
/*! ./src/streaming/metrics/MetricsReporting */
"./src/streaming/metrics/MetricsReporting.js");e.d(v,"MetricsReporting",function(){return A.default});var _=e(
/*! ./src/streaming/protection/Protection */
"./src/streaming/protection/Protection.js");e.d(v,"Protection",function(){return _.default});var x=e(
/*! ./src/streaming/MediaPlayerFactory */
"./src/streaming/MediaPlayerFactory.js");e.d(v,"MediaPlayerFactory",function(){return x.default});var w=e(
/*! ./src/core/Debug */
"./src/core/Debug.js");e.d(v,"Debug",function(){return w.default}),dashjs.Protection=_.default,dashjs.MetricsReporting=A.default,dashjs.MediaPlayerFactory=x.default,dashjs.Debug=w.default,dashjs.supportsMediaSource=b.supportsMediaSource,v.default=dashjs},"./index_mediaplayerOnly.js":
/*!**********************************!*\
                  !*** ./index_mediaplayerOnly.js ***!
                  \**********************************/
/*! exports provided: default, MediaPlayer, FactoryMaker, Debug */function(Xe,v,e){"use strict";e.r(v),function(n){var b=e(
/*! ./src/streaming/MediaPlayer */
"./src/streaming/MediaPlayer.js");e.d(v,"MediaPlayer",function(){return b.default});var A=e(
/*! ./src/core/FactoryMaker */
"./src/core/FactoryMaker.js");e.d(v,"FactoryMaker",function(){return A.default});var _=e(
/*! ./src/core/Debug */
"./src/core/Debug.js");e.d(v,"Debug",function(){return _.default});var x=e(
/*! ./src/core/Version */
"./src/core/Version.js"),d=(e(
/*! es6-promise/auto */
"./node_modules/es6-promise/auto.js"),typeof window<"u"&&window||n),i=d.dashjs;i||(i=d.dashjs={}),i.MediaPlayer=b.default,i.FactoryMaker=A.default,i.Debug=_.default,i.Version=Object(x.getVersionString)(),v.default=i}.call(this,e(
/*! ./node_modules/webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/base64-js/index.js":
/*!*****************************************!*\
                  !*** ./node_modules/base64-js/index.js ***!
                  \*****************************************/
/*! no static exports found */function(Xe,v,e){"use strict";v.byteLength=function d(P){var k=g(P),O=k[1];return 3*(k[0]+O)/4-O},v.toByteArray=function h(P){var k,C,F=g(P),O=F[0],D=F[1],I=new A(function i(P,k,F){return 3*(k+F)/4-F}(0,O,D)),S=0,L=D>0?O-4:O;for(C=0;C<L;C+=4)k=b[P.charCodeAt(C)]<<18|b[P.charCodeAt(C+1)]<<12|b[P.charCodeAt(C+2)]<<6|b[P.charCodeAt(C+3)],I[S++]=k>>16&255,I[S++]=k>>8&255,I[S++]=255&k;return 2===D&&(k=b[P.charCodeAt(C)]<<2|b[P.charCodeAt(C+1)]>>4,I[S++]=255&k),1===D&&(k=b[P.charCodeAt(C)]<<10|b[P.charCodeAt(C+1)]<<4|b[P.charCodeAt(C+2)]>>2,I[S++]=k>>8&255,I[S++]=255&k),I},v.fromByteArray=function B(P){for(var k,F=P.length,O=F%3,D=[],I=16383,S=0,L=F-O;S<L;S+=I)D.push(T(P,S,S+I>L?L:S+I));return 1===O?D.push(n[(k=P[F-1])>>2]+n[k<<4&63]+"=="):2===O&&D.push(n[(k=(P[F-2]<<8)+P[F-1])>>10]+n[k>>4&63]+n[k<<2&63]+"="),D.join("")};for(var n=[],b=[],A=typeof Uint8Array<"u"?Uint8Array:Array,_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=0;x<64;++x)n[x]=_[x],b[_.charCodeAt(x)]=x;function g(P){var k=P.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var F=P.indexOf("=");return-1===F&&(F=k),[F,F===k?0:4-F%4]}function p(P){return n[P>>18&63]+n[P>>12&63]+n[P>>6&63]+n[63&P]}function T(P,k,F){for(var D=[],I=k;I<F;I+=3)D.push(p((P[I]<<16&16711680)+(P[I+1]<<8&65280)+(255&P[I+2])));return D.join("")}b["-".charCodeAt(0)]=62,b["_".charCodeAt(0)]=63},"./node_modules/bcp-47-match/index.js":
/*!********************************************!*\
                  !*** ./node_modules/bcp-47-match/index.js ***!
                  \********************************************/
/*! no static exports found */function(Xe,v,e){"use strict";function _(w,g){return function d(i,h){for(var k,F,O,p=x(i,"tag"),T=x(h??"*","range"),B=[],P=-1;++P<T.length;)if(k=T[P].toLowerCase(),g||"*"!==k){for(F=-1,O=[];++F<p.length;)if(w(p[F].toLowerCase(),k)){if(!g)return p[F];B.push(p[F])}else O.push(p[F]);p=O}return g?B:void 0}}function x(w,g){var d=w&&"string"==typeof w?[w]:w;if(!d||"object"!=typeof d||!("length"in d))throw new Error("Invalid "+g+" `"+d+"`, expected non-empty string");return d}v.basicFilter=_(function n(w,g){return"*"===g||w===g||w.indexOf(g+"-")>-1},!0),v.extendedFilter=_(function b(w,g){var d=w.split("-"),i=g.split("-"),h=0,p=0;if("*"!==i[p]&&d[h]!==i[p])return!1;for(h++,p++;p<i.length;)if("*"!==i[p]){if(!d[h])return!1;if(d[h]!==i[p]){if(1===d[h].length)return!1;h++}else h++,p++}else p++;return!0},!0),v.lookup=_(function A(w,g){for(var i,d=g;;){if("*"===d||w===d)return!0;if((i=d.lastIndexOf("-"))<0)return!1;"-"===d.charAt(i-2)&&(i-=2),d=d.slice(0,i)}})},"./node_modules/bcp-47-normalize/index.js":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/index.js ***!
                  \************************************************/
/*! no static exports found */function(Xe,v,e){"use strict";Xe.exports=e(
/*! ./lib */
"./node_modules/bcp-47-normalize/lib/index.js")},"./node_modules/bcp-47-normalize/lib/defaults.json":
/*!*********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/defaults.json ***!
                  \*********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, default */function(Xe){Xe.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},"./node_modules/bcp-47-normalize/lib/fields.json":
/*!*******************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/fields.json ***!
                  \*******************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, default */function(Xe){Xe.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},"./node_modules/bcp-47-normalize/lib/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/index.js ***!
                  \****************************************************/
/*! no static exports found */function(Xe,v,e){"use strict";var n=e(
/*! bcp-47 */
"./node_modules/bcp-47/index.js"),b=e(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js"),A=e(
/*! ./matches.json */
"./node_modules/bcp-47-normalize/lib/matches.json"),_=e(
/*! ./fields.json */
"./node_modules/bcp-47-normalize/lib/fields.json"),x=e(
/*! ./defaults.json */
"./node_modules/bcp-47-normalize/lib/defaults.json"),w=e(
/*! ./many.json */
"./node_modules/bcp-47-normalize/lib/many.json");Xe.exports=function h(k,F){var L,O=F||{},D=n.parse(String(k||"").toLowerCase(),O),I=n.stringify(D),S=-1;if(!I)return I;for(;++S<A.length;)b.extendedFilter(I,A[S].from).length&&(p(D,A[S].from,A[S].to),I=n.stringify(D));for(S=-1;++S<_.length;)T(D,_[S].from.field,_[S].from.value)&&B(D,_[S].to.field,_[S].to.value);for(I=n.stringify(Object.assign({},D,i)),S=-1;++S<x.length;)I===x[S]&&(p(D,x[S],x[S].split("-").slice(0,-1).join("-")),I=n.stringify(Object.assign({},D,i)));if(D.extensions.sort(P),O.warning)for(L in w)g.call(w[L],D[L])&&O.warning("Deprecated "+L+" `"+D[L]+"`, expected one of `"+w[L][D[L]].join("`, `")+"`",null,7);return D.script&&(D.script=D.script.charAt(0).toUpperCase()+D.script.slice(1)),D.region&&(D.region=D.region.toUpperCase()),n.stringify(D)};var g={}.hasOwnProperty,d=new Intl.Collator,i={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function p(k,F,O){var L,D=n.parse(F),I=n.parse(O),S=[];for(L in D)D[L]&&D[L].length&&T(k,L,D[L])&&S.push(L);for(L in I)I[L]&&I[L].length&&(S.indexOf(L)>-1||!k[L]||!k[L].length)&&B(k,L,I[L])}function T(k,F,O){var I,S,L,C,D=!1;if(O){if(S=I=k[F],I&&"object"==typeof I)for(S=[],L=-1;++L<I.length;)O.indexOf(C=I[L])<0?S.push(C):D=!0;else I===O&&(S=null,D=!0);k[F]=S}return D}function B(k,F,O){var I,S,L,D=k[F];if(D&&"object"==typeof D)for(I=[].concat(O),S=-1;++S<I.length;)D.indexOf(L=I[S])<0&&D.push(L);else k[F]=O}function P(k,F){return d.compare(k.singleton,F.singleton)}},"./node_modules/bcp-47-normalize/lib/many.json":
/*!*****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/many.json ***!
                  \*****************************************************/
/*! exports provided: region, default */function(Xe){Xe.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},"./node_modules/bcp-47-normalize/lib/matches.json":
/*!********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/matches.json ***!
                  \********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, default */function(Xe){Xe.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},"./node_modules/bcp-47/index.js":
/*!**************************************!*\
                  !*** ./node_modules/bcp-47/index.js ***!
                  \**************************************/
/*! no static exports found */function(Xe,v,e){"use strict";v.parse=e(
/*! ./lib/parse */
"./node_modules/bcp-47/lib/parse.js"),v.stringify=e(
/*! ./lib/stringify */
"./node_modules/bcp-47/lib/stringify.js")},"./node_modules/bcp-47/lib/normalize.json":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47/lib/normalize.json ***!
                  \************************************************/
/*! exports provided: en-gb-oed, i-ami, i-bnn, i-default, i-enochian, i-hak, i-klingon, i-lux, i-mingo, i-navajo, i-pwn, i-tao, i-tay, i-tsu, sgn-be-fr, sgn-be-nl, sgn-ch-de, art-lojban, cel-gaulish, no-bok, no-nyn, zh-guoyu, zh-hakka, zh-min, zh-min-nan, zh-xiang, default */function(Xe){Xe.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},"./node_modules/bcp-47/lib/parse.js":
/*!******************************************!*\
                  !*** ./node_modules/bcp-47/lib/parse.js ***!
                  \******************************************/
/*! no static exports found */function(Xe,v,e){"use strict";var n=e(
/*! is-alphanumerical */
"./node_modules/is-alphanumerical/index.js"),b=e(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),A=e(
/*! is-decimal */
"./node_modules/is-decimal/index.js"),_=e(
/*! ./regular.json */
"./node_modules/bcp-47/lib/regular.json"),x=e(
/*! ./normalize.json */
"./node_modules/bcp-47/lib/normalize.json");Xe.exports=function g(i,h){var F,O,D,p=h||{},T={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},B=String(i),P=B.toLowerCase(),k=0;if(null==i)throw new Error("Expected string, got `"+i+"`");if(w.call(x,P))return(null==p.normalize||p.normalize)&&x[P]?g(x[P]):(T[-1===_.indexOf(P)?"irregular":"regular"]=B,T);for(;b(P.charCodeAt(k))&&k<9;)k++;if(k>1&&k<9){if(T.language=B.slice(0,k),k<4)for(O=0;45===P.charCodeAt(k)&&b(P.charCodeAt(k+1))&&b(P.charCodeAt(k+2))&&b(P.charCodeAt(k+3))&&!b(P.charCodeAt(k+4));){if(O>2)return I(k,3,"Too many extended language subtags, expected at most 3 subtags");T.extendedLanguageSubtags.push(B.slice(k+1,k+4)),k+=4,O++}for(45===P.charCodeAt(k)&&b(P.charCodeAt(k+1))&&b(P.charCodeAt(k+2))&&b(P.charCodeAt(k+3))&&b(P.charCodeAt(k+4))&&!b(P.charCodeAt(k+5))&&(T.script=B.slice(k+1,k+5),k+=5),45===P.charCodeAt(k)&&(b(P.charCodeAt(k+1))&&b(P.charCodeAt(k+2))&&!b(P.charCodeAt(k+3))?(T.region=B.slice(k+1,k+3),k+=3):A(P.charCodeAt(k+1))&&A(P.charCodeAt(k+2))&&A(P.charCodeAt(k+3))&&!A(P.charCodeAt(k+4))&&(T.region=B.slice(k+1,k+4),k+=4));45===P.charCodeAt(k);){for(D=F=k+1;n(P.charCodeAt(D));){if(D-F>7)return I(D,1,"Too long variant, expected at most 8 characters");D++}if(!(D-F>4||D-F>3&&A(P.charCodeAt(F))))break;T.variants.push(B.slice(F,D)),k=D}for(;45===P.charCodeAt(k)&&120!==P.charCodeAt(k+1)&&n(P.charCodeAt(k+1))&&45===P.charCodeAt(k+2)&&n(P.charCodeAt(k+3));){for(D=k+2,O=0;45===P.charCodeAt(D)&&n(P.charCodeAt(D+1))&&n(P.charCodeAt(D+2));)for(D=(F=D+1)+2,O++;n(P.charCodeAt(D));){if(D-F>7)return I(D,2,"Too long extension, expected at most 8 characters");D++}if(!O)return I(D,4,"Empty extension, extensions must have at least 2 characters of content");T.extensions.push({singleton:B.charAt(k+1),extensions:B.slice(k+3,D).split("-")}),k=D}}else k=0;if(0===k&&120===P.charCodeAt(k)||45===P.charCodeAt(k)&&120===P.charCodeAt(k+1))for(D=k=k?k+2:1;45===P.charCodeAt(D)&&n(P.charCodeAt(D+1));){for(D=F=k+1;n(P.charCodeAt(D));){if(D-F>7)return I(D,5,"Too long private-use area, expected at most 8 characters");D++}T.privateuse.push(B.slice(k+1,D)),k=D}return k!==B.length?I(k,6,"Found superfluous content after tag"):T;function I(S,L,C){return p.warning&&p.warning(C,L,S),p.forgiving?T:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var w={}.hasOwnProperty},"./node_modules/bcp-47/lib/regular.json":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/regular.json ***!
                  \**********************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, default */function(Xe){Xe.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')},"./node_modules/bcp-47/lib/stringify.js":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/stringify.js ***!
                  \**********************************************/
/*! no static exports found */function(Xe,v,e){"use strict";Xe.exports=function n(b){var x,w,g,A=b||{},_=[];if(A.irregular||A.regular)return A.irregular||A.regular;if(A.language)for(_=_.concat(A.language,A.extendedLanguageSubtags||[],A.script||[],A.region||[],A.variants||[]),x=A.extensions||[],w=-1;++w<x.length;)(g=x[w]).singleton&&g.extensions&&g.extensions.length&&(_=_.concat(g.singleton,g.extensions));return A.privateuse&&A.privateuse.length&&(_=_.concat("x",A.privateuse)),_.join("-")}},"./node_modules/buffer/index.js":
/*!**************************************!*\
                  !*** ./node_modules/buffer/index.js ***!
                  \**************************************/
/*! no static exports found */function(Xe,v,e){"use strict";(function(n){var b=e(
/*! base64-js */
"./node_modules/base64-js/index.js"),A=e(
/*! ieee754 */
"./node_modules/ieee754/index.js"),_=e(
/*! isarray */
"./node_modules/isarray/index.js");function w(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function g(ie,Z){if(w()<Z)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(ie=new Uint8Array(Z)).__proto__=d.prototype:(null===ie&&(ie=new d(Z)),ie.length=Z),ie}function d(ie,Z,X){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(ie,Z,X);if("number"==typeof ie){if("string"==typeof Z)throw new Error("If encoding is specified then the first argument must be a string");return T(this,ie)}return i(this,ie,Z,X)}function i(ie,Z,X,pe){if("number"==typeof Z)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&Z instanceof ArrayBuffer?function k(ie,Z,X,pe){if(X<0||Z.byteLength<X)throw new RangeError("'offset' is out of bounds");if(Z.byteLength<X+(pe||0))throw new RangeError("'length' is out of bounds");return Z=void 0===X&&void 0===pe?new Uint8Array(Z):void 0===pe?new Uint8Array(Z,X):new Uint8Array(Z,X,pe),d.TYPED_ARRAY_SUPPORT?(ie=Z).__proto__=d.prototype:ie=P(ie,Z),ie}(ie,Z,X,pe):"string"==typeof Z?function B(ie,Z,X){if(("string"!=typeof X||""===X)&&(X="utf8"),!d.isEncoding(X))throw new TypeError('"encoding" must be a valid string encoding');var pe=0|I(Z,X),Te=(ie=g(ie,pe)).write(Z,X);return Te!==pe&&(ie=ie.slice(0,Te)),ie}(ie,Z,X):function F(ie,Z){if(d.isBuffer(Z)){var X=0|O(Z.length);return 0===(ie=g(ie,X)).length||Z.copy(ie,0,0,X),ie}if(Z){if(typeof ArrayBuffer<"u"&&Z.buffer instanceof ArrayBuffer||"length"in Z)return"number"!=typeof Z.length||function $(ie){return ie!=ie}(Z.length)?g(ie,0):P(ie,Z);if("Buffer"===Z.type&&_(Z.data))return P(ie,Z.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(ie,Z)}function h(ie){if("number"!=typeof ie)throw new TypeError('"size" argument must be a number');if(ie<0)throw new RangeError('"size" argument must not be negative')}function T(ie,Z){if(h(Z),ie=g(ie,Z<0?0:0|O(Z)),!d.TYPED_ARRAY_SUPPORT)for(var X=0;X<Z;++X)ie[X]=0;return ie}function P(ie,Z){var X=Z.length<0?0:0|O(Z.length);ie=g(ie,X);for(var pe=0;pe<X;pe+=1)ie[pe]=255&Z[pe];return ie}function O(ie){if(ie>=w())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w().toString(16)+" bytes");return 0|ie}function I(ie,Z){if(d.isBuffer(ie))return ie.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(ie)||ie instanceof ArrayBuffer))return ie.byteLength;"string"!=typeof ie&&(ie=""+ie);var X=ie.length;if(0===X)return 0;for(var pe=!1;;)switch(Z){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":case void 0:return se(ie).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*X;case"hex":return X>>>1;case"base64":return Q(ie).length;default:if(pe)return se(ie).length;Z=(""+Z).toLowerCase(),pe=!0}}function S(ie,Z,X){var pe=!1;if((void 0===Z||Z<0)&&(Z=0),Z>this.length||((void 0===X||X>this.length)&&(X=this.length),X<=0)||(X>>>=0)<=(Z>>>=0))return"";for(ie||(ie="utf8");;)switch(ie){case"hex":return fe(this,Z,X);case"utf8":case"utf-8":return Se(this,Z,X);case"ascii":return xe(this,Z,X);case"latin1":case"binary":return Ve(this,Z,X);case"base64":return W(this,Z,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pe(this,Z,X);default:if(pe)throw new TypeError("Unknown encoding: "+ie);ie=(ie+"").toLowerCase(),pe=!0}}function L(ie,Z,X){var pe=ie[Z];ie[Z]=ie[X],ie[X]=pe}function C(ie,Z,X,pe,Te){if(0===ie.length)return-1;if("string"==typeof X?(pe=X,X=0):X>2147483647?X=2147483647:X<-2147483648&&(X=-2147483648),X=+X,isNaN(X)&&(X=Te?0:ie.length-1),X<0&&(X=ie.length+X),X>=ie.length){if(Te)return-1;X=ie.length-1}else if(X<0){if(!Te)return-1;X=0}if("string"==typeof Z&&(Z=d.from(Z,pe)),d.isBuffer(Z))return 0===Z.length?-1:U(ie,Z,X,pe,Te);if("number"==typeof Z)return Z&=255,d.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?Te?Uint8Array.prototype.indexOf.call(ie,Z,X):Uint8Array.prototype.lastIndexOf.call(ie,Z,X):U(ie,[Z],X,pe,Te);throw new TypeError("val must be string, number or Buffer")}function U(ie,Z,X,pe,Te){var qe,be=1,Le=ie.length,et=Z.length;if(void 0!==pe&&("ucs2"===(pe=String(pe).toLowerCase())||"ucs-2"===pe||"utf16le"===pe||"utf-16le"===pe)){if(ie.length<2||Z.length<2)return-1;be=2,Le/=2,et/=2,X/=2}function Qe(Et,de){return 1===be?Et[de]:Et.readUInt16BE(de*be)}if(Te){var ft=-1;for(qe=X;qe<Le;qe++)if(Qe(ie,qe)===Qe(Z,-1===ft?0:qe-ft)){if(-1===ft&&(ft=qe),qe-ft+1===et)return ft*be}else-1!==ft&&(qe-=qe-ft),ft=-1}else for(X+et>Le&&(X=Le-et),qe=X;qe>=0;qe--){for(var ze=!0,ht=0;ht<et;ht++)if(Qe(ie,qe+ht)!==Qe(Z,ht)){ze=!1;break}if(ze)return qe}return-1}function z(ie,Z,X,pe){X=Number(X)||0;var Te=ie.length-X;pe?(pe=Number(pe))>Te&&(pe=Te):pe=Te;var be=Z.length;if(be%2!=0)throw new TypeError("Invalid hex string");pe>be/2&&(pe=be/2);for(var Le=0;Le<pe;++Le){var et=parseInt(Z.substr(2*Le,2),16);if(isNaN(et))return Le;ie[X+Le]=et}return Le}function ne(ie,Z,X,pe){return q(se(Z,ie.length-X),ie,X,pe)}function te(ie,Z,X,pe){return q(function ge(ie){for(var Z=[],X=0;X<ie.length;++X)Z.push(255&ie.charCodeAt(X));return Z}(Z),ie,X,pe)}function Me(ie,Z,X,pe){return te(ie,Z,X,pe)}function J(ie,Z,X,pe){return q(Q(Z),ie,X,pe)}function ce(ie,Z,X,pe){return q(function oe(ie,Z){for(var X,pe,be=[],Le=0;Le<ie.length&&!((Z-=2)<0);++Le)pe=(X=ie.charCodeAt(Le))>>8,be.push(X%256),be.push(pe);return be}(Z,ie.length-X),ie,X,pe)}function W(ie,Z,X){return b.fromByteArray(0===Z&&X===ie.length?ie:ie.slice(Z,X))}function Se(ie,Z,X){X=Math.min(ie.length,X);for(var pe=[],Te=Z;Te<X;){var Qe,qe,ft,ze,be=ie[Te],Le=null,et=be>239?4:be>223?3:be>191?2:1;if(Te+et<=X)switch(et){case 1:be<128&&(Le=be);break;case 2:128==(192&(Qe=ie[Te+1]))&&(ze=(31&be)<<6|63&Qe)>127&&(Le=ze);break;case 3:qe=ie[Te+2],128==(192&(Qe=ie[Te+1]))&&128==(192&qe)&&(ze=(15&be)<<12|(63&Qe)<<6|63&qe)>2047&&(ze<55296||ze>57343)&&(Le=ze);break;case 4:qe=ie[Te+2],ft=ie[Te+3],128==(192&(Qe=ie[Te+1]))&&128==(192&qe)&&128==(192&ft)&&(ze=(15&be)<<18|(63&Qe)<<12|(63&qe)<<6|63&ft)>65535&&ze<1114112&&(Le=ze)}null===Le?(Le=65533,et=1):Le>65535&&(pe.push((Le-=65536)>>>10&1023|55296),Le=56320|1023&Le),pe.push(Le),Te+=et}return function Ee(ie){var Z=ie.length;if(Z<=le)return String.fromCharCode.apply(String,ie);for(var X="",pe=0;pe<Z;)X+=String.fromCharCode.apply(String,ie.slice(pe,pe+=le));return X}(pe)}v.Buffer=d,v.SlowBuffer=function D(ie){return+ie!=ie&&(ie=0),d.alloc(+ie)},v.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:function x(){try{var ie=new Uint8Array(1);return ie.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===ie.foo()&&"function"==typeof ie.subarray&&0===ie.subarray(1,1).byteLength}catch{return!1}}(),v.kMaxLength=w(),d.poolSize=8192,d._augment=function(ie){return ie.__proto__=d.prototype,ie},d.from=function(ie,Z,X){return i(null,ie,Z,X)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(ie,Z,X){return function p(ie,Z,X,pe){return h(Z),Z<=0?g(ie,Z):void 0!==X?"string"==typeof pe?g(ie,Z).fill(X,pe):g(ie,Z).fill(X):g(ie,Z)}(null,ie,Z,X)},d.allocUnsafe=function(ie){return T(null,ie)},d.allocUnsafeSlow=function(ie){return T(null,ie)},d.isBuffer=function(Z){return!(null==Z||!Z._isBuffer)},d.compare=function(Z,X){if(!d.isBuffer(Z)||!d.isBuffer(X))throw new TypeError("Arguments must be Buffers");if(Z===X)return 0;for(var pe=Z.length,Te=X.length,be=0,Le=Math.min(pe,Te);be<Le;++be)if(Z[be]!==X[be]){pe=Z[be],Te=X[be];break}return pe<Te?-1:Te<pe?1:0},d.isEncoding=function(Z){switch(String(Z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(Z,X){if(!_(Z))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Z.length)return d.alloc(0);var pe;if(void 0===X)for(X=0,pe=0;pe<Z.length;++pe)X+=Z[pe].length;var Te=d.allocUnsafe(X),be=0;for(pe=0;pe<Z.length;++pe){var Le=Z[pe];if(!d.isBuffer(Le))throw new TypeError('"list" argument must be an Array of Buffers');Le.copy(Te,be),be+=Le.length}return Te},d.byteLength=I,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var Z=this.length;if(Z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var X=0;X<Z;X+=2)L(this,X,X+1);return this},d.prototype.swap32=function(){var Z=this.length;if(Z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var X=0;X<Z;X+=4)L(this,X,X+3),L(this,X+1,X+2);return this},d.prototype.swap64=function(){var Z=this.length;if(Z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var X=0;X<Z;X+=8)L(this,X,X+7),L(this,X+1,X+6),L(this,X+2,X+5),L(this,X+3,X+4);return this},d.prototype.toString=function(){var Z=0|this.length;return 0===Z?"":0===arguments.length?Se(this,0,Z):S.apply(this,arguments)},d.prototype.equals=function(Z){if(!d.isBuffer(Z))throw new TypeError("Argument must be a Buffer");return this===Z||0===d.compare(this,Z)},d.prototype.inspect=function(){var Z="",X=v.INSPECT_MAX_BYTES;return this.length>0&&(Z=this.toString("hex",0,X).match(/.{2}/g).join(" "),this.length>X&&(Z+=" ... ")),"<Buffer "+Z+">"},d.prototype.compare=function(Z,X,pe,Te,be){if(!d.isBuffer(Z))throw new TypeError("Argument must be a Buffer");if(void 0===X&&(X=0),void 0===pe&&(pe=Z?Z.length:0),void 0===Te&&(Te=0),void 0===be&&(be=this.length),X<0||pe>Z.length||Te<0||be>this.length)throw new RangeError("out of range index");if(Te>=be&&X>=pe)return 0;if(Te>=be)return-1;if(X>=pe)return 1;if(this===Z)return 0;for(var Le=(be>>>=0)-(Te>>>=0),et=(pe>>>=0)-(X>>>=0),Qe=Math.min(Le,et),qe=this.slice(Te,be),ft=Z.slice(X,pe),ze=0;ze<Qe;++ze)if(qe[ze]!==ft[ze]){Le=qe[ze],et=ft[ze];break}return Le<et?-1:et<Le?1:0},d.prototype.includes=function(Z,X,pe){return-1!==this.indexOf(Z,X,pe)},d.prototype.indexOf=function(Z,X,pe){return C(this,Z,X,pe,!0)},d.prototype.lastIndexOf=function(Z,X,pe){return C(this,Z,X,pe,!1)},d.prototype.write=function(Z,X,pe,Te){if(void 0===X)Te="utf8",pe=this.length,X=0;else if(void 0===pe&&"string"==typeof X)Te=X,pe=this.length,X=0;else{if(!isFinite(X))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");X|=0,isFinite(pe)?(pe|=0,void 0===Te&&(Te="utf8")):(Te=pe,pe=void 0)}var be=this.length-X;if((void 0===pe||pe>be)&&(pe=be),Z.length>0&&(pe<0||X<0)||X>this.length)throw new RangeError("Attempt to write outside buffer bounds");Te||(Te="utf8");for(var Le=!1;;)switch(Te){case"hex":return z(this,Z,X,pe);case"utf8":case"utf-8":return ne(this,Z,X,pe);case"ascii":return te(this,Z,X,pe);case"latin1":case"binary":return Me(this,Z,X,pe);case"base64":return J(this,Z,X,pe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,Z,X,pe);default:if(Le)throw new TypeError("Unknown encoding: "+Te);Te=(""+Te).toLowerCase(),Le=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var le=4096;function xe(ie,Z,X){var pe="";X=Math.min(ie.length,X);for(var Te=Z;Te<X;++Te)pe+=String.fromCharCode(127&ie[Te]);return pe}function Ve(ie,Z,X){var pe="";X=Math.min(ie.length,X);for(var Te=Z;Te<X;++Te)pe+=String.fromCharCode(ie[Te]);return pe}function fe(ie,Z,X){var pe=ie.length;(!Z||Z<0)&&(Z=0),(!X||X<0||X>pe)&&(X=pe);for(var Te="",be=Z;be<X;++be)Te+=K(ie[be]);return Te}function Pe(ie,Z,X){for(var pe=ie.slice(Z,X),Te="",be=0;be<pe.length;be+=2)Te+=String.fromCharCode(pe[be]+256*pe[be+1]);return Te}function Ce(ie,Z,X){if(ie%1!=0||ie<0)throw new RangeError("offset is not uint");if(ie+Z>X)throw new RangeError("Trying to access beyond buffer length")}function me(ie,Z,X,pe,Te,be){if(!d.isBuffer(ie))throw new TypeError('"buffer" argument must be a Buffer instance');if(Z>Te||Z<be)throw new RangeError('"value" argument is out of bounds');if(X+pe>ie.length)throw new RangeError("Index out of range")}function De(ie,Z,X,pe){Z<0&&(Z=65535+Z+1);for(var Te=0,be=Math.min(ie.length-X,2);Te<be;++Te)ie[X+Te]=(Z&255<<8*(pe?Te:1-Te))>>>8*(pe?Te:1-Te)}function Re(ie,Z,X,pe){Z<0&&(Z=4294967295+Z+1);for(var Te=0,be=Math.min(ie.length-X,4);Te<be;++Te)ie[X+Te]=Z>>>8*(pe?Te:3-Te)&255}function Fe(ie,Z,X,pe,Te,be){if(X+pe>ie.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function Ne(ie,Z,X,pe,Te){return Te||Fe(ie,0,X,4),A.write(ie,Z,X,pe,23,4),X+4}function at(ie,Z,X,pe,Te){return Te||Fe(ie,0,X,8),A.write(ie,Z,X,pe,52,8),X+8}d.prototype.slice=function(Z,X){var Te,pe=this.length;if((Z=~~Z)<0?(Z+=pe)<0&&(Z=0):Z>pe&&(Z=pe),(X=void 0===X?pe:~~X)<0?(X+=pe)<0&&(X=0):X>pe&&(X=pe),X<Z&&(X=Z),d.TYPED_ARRAY_SUPPORT)(Te=this.subarray(Z,X)).__proto__=d.prototype;else{var be=X-Z;Te=new d(be,void 0);for(var Le=0;Le<be;++Le)Te[Le]=this[Le+Z]}return Te},d.prototype.readUIntLE=function(Z,X,pe){Z|=0,X|=0,pe||Ce(Z,X,this.length);for(var Te=this[Z],be=1,Le=0;++Le<X&&(be*=256);)Te+=this[Z+Le]*be;return Te},d.prototype.readUIntBE=function(Z,X,pe){Z|=0,X|=0,pe||Ce(Z,X,this.length);for(var Te=this[Z+--X],be=1;X>0&&(be*=256);)Te+=this[Z+--X]*be;return Te},d.prototype.readUInt8=function(Z,X){return X||Ce(Z,1,this.length),this[Z]},d.prototype.readUInt16LE=function(Z,X){return X||Ce(Z,2,this.length),this[Z]|this[Z+1]<<8},d.prototype.readUInt16BE=function(Z,X){return X||Ce(Z,2,this.length),this[Z]<<8|this[Z+1]},d.prototype.readUInt32LE=function(Z,X){return X||Ce(Z,4,this.length),(this[Z]|this[Z+1]<<8|this[Z+2]<<16)+16777216*this[Z+3]},d.prototype.readUInt32BE=function(Z,X){return X||Ce(Z,4,this.length),16777216*this[Z]+(this[Z+1]<<16|this[Z+2]<<8|this[Z+3])},d.prototype.readIntLE=function(Z,X,pe){Z|=0,X|=0,pe||Ce(Z,X,this.length);for(var Te=this[Z],be=1,Le=0;++Le<X&&(be*=256);)Te+=this[Z+Le]*be;return Te>=(be*=128)&&(Te-=Math.pow(2,8*X)),Te},d.prototype.readIntBE=function(Z,X,pe){Z|=0,X|=0,pe||Ce(Z,X,this.length);for(var Te=X,be=1,Le=this[Z+--Te];Te>0&&(be*=256);)Le+=this[Z+--Te]*be;return Le>=(be*=128)&&(Le-=Math.pow(2,8*X)),Le},d.prototype.readInt8=function(Z,X){return X||Ce(Z,1,this.length),128&this[Z]?-1*(255-this[Z]+1):this[Z]},d.prototype.readInt16LE=function(Z,X){X||Ce(Z,2,this.length);var pe=this[Z]|this[Z+1]<<8;return 32768&pe?4294901760|pe:pe},d.prototype.readInt16BE=function(Z,X){X||Ce(Z,2,this.length);var pe=this[Z+1]|this[Z]<<8;return 32768&pe?4294901760|pe:pe},d.prototype.readInt32LE=function(Z,X){return X||Ce(Z,4,this.length),this[Z]|this[Z+1]<<8|this[Z+2]<<16|this[Z+3]<<24},d.prototype.readInt32BE=function(Z,X){return X||Ce(Z,4,this.length),this[Z]<<24|this[Z+1]<<16|this[Z+2]<<8|this[Z+3]},d.prototype.readFloatLE=function(Z,X){return X||Ce(Z,4,this.length),A.read(this,Z,!0,23,4)},d.prototype.readFloatBE=function(Z,X){return X||Ce(Z,4,this.length),A.read(this,Z,!1,23,4)},d.prototype.readDoubleLE=function(Z,X){return X||Ce(Z,8,this.length),A.read(this,Z,!0,52,8)},d.prototype.readDoubleBE=function(Z,X){return X||Ce(Z,8,this.length),A.read(this,Z,!1,52,8)},d.prototype.writeUIntLE=function(Z,X,pe,Te){Z=+Z,X|=0,pe|=0,Te||me(this,Z,X,pe,Math.pow(2,8*pe)-1,0);var Le=1,et=0;for(this[X]=255&Z;++et<pe&&(Le*=256);)this[X+et]=Z/Le&255;return X+pe},d.prototype.writeUIntBE=function(Z,X,pe,Te){Z=+Z,X|=0,pe|=0,Te||me(this,Z,X,pe,Math.pow(2,8*pe)-1,0);var Le=pe-1,et=1;for(this[X+Le]=255&Z;--Le>=0&&(et*=256);)this[X+Le]=Z/et&255;return X+pe},d.prototype.writeUInt8=function(Z,X,pe){return Z=+Z,X|=0,pe||me(this,Z,X,1,255,0),d.TYPED_ARRAY_SUPPORT||(Z=Math.floor(Z)),this[X]=255&Z,X+1},d.prototype.writeUInt16LE=function(Z,X,pe){return Z=+Z,X|=0,pe||me(this,Z,X,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[X]=255&Z,this[X+1]=Z>>>8):De(this,Z,X,!0),X+2},d.prototype.writeUInt16BE=function(Z,X,pe){return Z=+Z,X|=0,pe||me(this,Z,X,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[X]=Z>>>8,this[X+1]=255&Z):De(this,Z,X,!1),X+2},d.prototype.writeUInt32LE=function(Z,X,pe){return Z=+Z,X|=0,pe||me(this,Z,X,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[X+3]=Z>>>24,this[X+2]=Z>>>16,this[X+1]=Z>>>8,this[X]=255&Z):Re(this,Z,X,!0),X+4},d.prototype.writeUInt32BE=function(Z,X,pe){return Z=+Z,X|=0,pe||me(this,Z,X,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[X]=Z>>>24,this[X+1]=Z>>>16,this[X+2]=Z>>>8,this[X+3]=255&Z):Re(this,Z,X,!1),X+4},d.prototype.writeIntLE=function(Z,X,pe,Te){if(Z=+Z,X|=0,!Te){var be=Math.pow(2,8*pe-1);me(this,Z,X,pe,be-1,-be)}var Le=0,et=1,Qe=0;for(this[X]=255&Z;++Le<pe&&(et*=256);)Z<0&&0===Qe&&0!==this[X+Le-1]&&(Qe=1),this[X+Le]=(Z/et>>0)-Qe&255;return X+pe},d.prototype.writeIntBE=function(Z,X,pe,Te){if(Z=+Z,X|=0,!Te){var be=Math.pow(2,8*pe-1);me(this,Z,X,pe,be-1,-be)}var Le=pe-1,et=1,Qe=0;for(this[X+Le]=255&Z;--Le>=0&&(et*=256);)Z<0&&0===Qe&&0!==this[X+Le+1]&&(Qe=1),this[X+Le]=(Z/et>>0)-Qe&255;return X+pe},d.prototype.writeInt8=function(Z,X,pe){return Z=+Z,X|=0,pe||me(this,Z,X,1,127,-128),d.TYPED_ARRAY_SUPPORT||(Z=Math.floor(Z)),Z<0&&(Z=255+Z+1),this[X]=255&Z,X+1},d.prototype.writeInt16LE=function(Z,X,pe){return Z=+Z,X|=0,pe||me(this,Z,X,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[X]=255&Z,this[X+1]=Z>>>8):De(this,Z,X,!0),X+2},d.prototype.writeInt16BE=function(Z,X,pe){return Z=+Z,X|=0,pe||me(this,Z,X,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[X]=Z>>>8,this[X+1]=255&Z):De(this,Z,X,!1),X+2},d.prototype.writeInt32LE=function(Z,X,pe){return Z=+Z,X|=0,pe||me(this,Z,X,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[X]=255&Z,this[X+1]=Z>>>8,this[X+2]=Z>>>16,this[X+3]=Z>>>24):Re(this,Z,X,!0),X+4},d.prototype.writeInt32BE=function(Z,X,pe){return Z=+Z,X|=0,pe||me(this,Z,X,4,2147483647,-2147483648),Z<0&&(Z=4294967295+Z+1),d.TYPED_ARRAY_SUPPORT?(this[X]=Z>>>24,this[X+1]=Z>>>16,this[X+2]=Z>>>8,this[X+3]=255&Z):Re(this,Z,X,!1),X+4},d.prototype.writeFloatLE=function(Z,X,pe){return Ne(this,Z,X,!0,pe)},d.prototype.writeFloatBE=function(Z,X,pe){return Ne(this,Z,X,!1,pe)},d.prototype.writeDoubleLE=function(Z,X,pe){return at(this,Z,X,!0,pe)},d.prototype.writeDoubleBE=function(Z,X,pe){return at(this,Z,X,!1,pe)},d.prototype.copy=function(Z,X,pe,Te){if(pe||(pe=0),!Te&&0!==Te&&(Te=this.length),X>=Z.length&&(X=Z.length),X||(X=0),Te>0&&Te<pe&&(Te=pe),Te===pe||0===Z.length||0===this.length)return 0;if(X<0)throw new RangeError("targetStart out of bounds");if(pe<0||pe>=this.length)throw new RangeError("sourceStart out of bounds");if(Te<0)throw new RangeError("sourceEnd out of bounds");Te>this.length&&(Te=this.length),Z.length-X<Te-pe&&(Te=Z.length-X+pe);var Le,be=Te-pe;if(this===Z&&pe<X&&X<Te)for(Le=be-1;Le>=0;--Le)Z[Le+X]=this[Le+pe];else if(be<1e3||!d.TYPED_ARRAY_SUPPORT)for(Le=0;Le<be;++Le)Z[Le+X]=this[Le+pe];else Uint8Array.prototype.set.call(Z,this.subarray(pe,pe+be),X);return be},d.prototype.fill=function(Z,X,pe,Te){if("string"==typeof Z){if("string"==typeof X?(Te=X,X=0,pe=this.length):"string"==typeof pe&&(Te=pe,pe=this.length),1===Z.length){var be=Z.charCodeAt(0);be<256&&(Z=be)}if(void 0!==Te&&"string"!=typeof Te)throw new TypeError("encoding must be a string");if("string"==typeof Te&&!d.isEncoding(Te))throw new TypeError("Unknown encoding: "+Te)}else"number"==typeof Z&&(Z&=255);if(X<0||this.length<X||this.length<pe)throw new RangeError("Out of range index");if(pe<=X)return this;var Le;if(X>>>=0,pe=void 0===pe?this.length:pe>>>0,Z||(Z=0),"number"==typeof Z)for(Le=X;Le<pe;++Le)this[Le]=Z;else{var et=d.isBuffer(Z)?Z:se(new d(Z,Te).toString()),Qe=et.length;for(Le=0;Le<pe-X;++Le)this[Le+X]=et[Le%Qe]}return this};var Be=/[^+\/0-9A-Za-z-_]/g;function K(ie){return ie<16?"0"+ie.toString(16):ie.toString(16)}function se(ie,Z){Z=Z||1/0;for(var X,pe=ie.length,Te=null,be=[],Le=0;Le<pe;++Le){if((X=ie.charCodeAt(Le))>55295&&X<57344){if(!Te){if(X>56319){(Z-=3)>-1&&be.push(239,191,189);continue}if(Le+1===pe){(Z-=3)>-1&&be.push(239,191,189);continue}Te=X;continue}if(X<56320){(Z-=3)>-1&&be.push(239,191,189),Te=X;continue}X=65536+(Te-55296<<10|X-56320)}else Te&&(Z-=3)>-1&&be.push(239,191,189);if(Te=null,X<128){if((Z-=1)<0)break;be.push(X)}else if(X<2048){if((Z-=2)<0)break;be.push(X>>6|192,63&X|128)}else if(X<65536){if((Z-=3)<0)break;be.push(X>>12|224,X>>6&63|128,63&X|128)}else{if(!(X<1114112))throw new Error("Invalid code point");if((Z-=4)<0)break;be.push(X>>18|240,X>>12&63|128,X>>6&63|128,63&X|128)}}return be}function Q(ie){return b.toByteArray(function ye(ie){if((ie=function ve(ie){return ie.trim?ie.trim():ie.replace(/^\s+|\s+$/g,"")}(ie).replace(Be,"")).length<2)return"";for(;ie.length%4!=0;)ie+="=";return ie}(ie))}function q(ie,Z,X,pe){for(var Te=0;Te<pe&&!(Te+X>=Z.length||Te>=ie.length);++Te)Z[Te+X]=ie[Te];return Te}}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/codem-isoboxer/dist/iso_boxer.js":
/*!*******************************************************!*\
                  !*** ./node_modules/codem-isoboxer/dist/iso_boxer.js ***!
                  \*******************************************************/
/*! no static exports found */function(Xe,v,e){var n={parseBuffer:function(_){return new b(_).parse()},addBoxProcessor:function(_,x){"string"!=typeof _||"function"!=typeof x||(A.prototype._boxProcessors[_]=x)},createFile:function(){return new b},createBox:function(_,x,w){var g=A.create(_);return x&&x.append(g,w),g},createFullBox:function(_,x,w){var g=n.createBox(_,x,w);return g.version=0,g.flags=0,g},Utils:{}};n.Utils.dataViewToString=function(_,x){var w=x||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(w).decode(_);var g=[],d=0;if("utf-8"===w)for(;d<_.byteLength;){var i=_.getUint8(d++);i<128||(i<224?(i=(31&i)<<6,i|=63&_.getUint8(d++)):i<240?(i=(15&i)<<12,i|=(63&_.getUint8(d++))<<6,i|=63&_.getUint8(d++)):(i=(7&i)<<18,i|=(63&_.getUint8(d++))<<12,i|=(63&_.getUint8(d++))<<6,i|=63&_.getUint8(d++))),g.push(String.fromCharCode(i))}else for(;d<_.byteLength;)g.push(String.fromCharCode(_.getUint8(d++)));return g.join("")},n.Utils.utf8ToByteArray=function(_){var x,w;if(typeof TextEncoder<"u")x=(new TextEncoder).encode(_);else for(x=[],w=0;w<_.length;++w){var g=_.charCodeAt(w);g<128?x.push(g):g<2048?(x.push(192|g>>6),x.push(128|63&g)):g<65536?(x.push(224|g>>12),x.push(128|63&g>>6),x.push(128|63&g)):(x.push(240|g>>18),x.push(128|63&g>>12),x.push(128|63&g>>6),x.push(128|63&g))}return x},n.Utils.appendBox=function(_,x,w){if(x._offset=_._cursor.offset,x._root=_._root?_._root:_,x._raw=_._raw,x._parent=_,-1!==w){if(null==w)return void _.boxes.push(x);var d,g=-1;if("number"==typeof w)g=w;else{if("string"==typeof w)d=w;else{if("object"!=typeof w||!w.type)return void _.boxes.push(x);d=w.type}for(var i=0;i<_.boxes.length;i++)if(d===_.boxes[i].type){g=i+1;break}}_.boxes.splice(g,0,x)}},v.parseBuffer=n.parseBuffer,v.addBoxProcessor=n.addBoxProcessor,v.createFile=n.createFile,v.createBox=n.createBox,v.createFullBox=n.createFullBox,v.Utils=n.Utils,n.Cursor=function(_){this.offset=typeof _>"u"?0:_};var b=function(_){this._cursor=new n.Cursor,this.boxes=[],_&&(this._raw=new DataView(_))};b.prototype.fetch=function(_){var x=this.fetchAll(_,!0);return x.length?x[0]:null},b.prototype.fetchAll=function(_,x){var w=[];return b._sweep.call(this,_,w,x),w},b.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var _=A.parse(this);if(typeof _.type>"u")break;this.boxes.push(_)}return this},b._sweep=function(_,x,w){for(var g in this.type&&this.type==_&&x.push(this),this.boxes){if(x.length&&w)return;b._sweep.call(this.boxes[g],_,x,w)}},b.prototype.write=function(){var x,_=0;for(x=0;x<this.boxes.length;x++)_+=this.boxes[x].getLength(!1);var w=new Uint8Array(_);for(this._rawo=new DataView(w.buffer),this.bytes=w,this._cursor.offset=0,x=0;x<this.boxes.length;x++)this.boxes[x].write();return w.buffer},b.prototype.append=function(_,x){n.Utils.appendBox(this,_,x)};var A=function(){this._cursor=new n.Cursor};A.parse=function(_){var x=new A;return x._offset=_._cursor.offset,x._root=_._root?_._root:_,x._raw=_._raw,x._parent=_,x._parseBox(),_._cursor.offset=x._raw.byteOffset+x._raw.byteLength,x},A.create=function(_){var x=new A;return x.type=_,x.boxes=[],x},A.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],A.prototype._boxProcessors={},A.prototype._procField=function(_,x,w){this._parsing?this[_]=this._readField(x,w):this._writeField(x,w,this[_])},A.prototype._procFieldArray=function(_,x,w,g){var d;if(this._parsing)for(this[_]=[],d=0;d<x;d++)this[_][d]=this._readField(w,g);else for(d=0;d<this[_].length;d++)this._writeField(w,g,this[_][d])},A.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},A.prototype._procEntries=function(_,x,w){var g;if(this._parsing)for(this[_]=[],g=0;g<x;g++)this[_].push({}),w.call(this,this[_][g]);else for(g=0;g<x;g++)w.call(this,this[_][g])},A.prototype._procSubEntries=function(_,x,w,g){var d;if(this._parsing)for(_[x]=[],d=0;d<w;d++)_[x].push({}),g.call(this,_[x][d]);else for(d=0;d<w;d++)g.call(this,_[x][d])},A.prototype._procEntryField=function(_,x,w,g){this._parsing?_[x]=this._readField(w,g):this._writeField(w,g,_[x])},A.prototype._procSubBoxes=function(_,x){var w;if(this._parsing)for(this[_]=[],w=0;w<x;w++)this[_].push(A.parse(this));else for(w=0;w<x;w++)this._rawo?this[_][w].write():this.size+=this[_][w].getLength()},A.prototype._readField=function(_,x){switch(_){case"uint":return this._readUint(x);case"int":return this._readInt(x);case"template":return this._readTemplate(x);case"string":return-1===x?this._readTerminatedString():this._readString(x);case"data":return this._readData(x);case"utf8":return this._readUTF8String();default:return-1}},A.prototype._readInt=function(_){var x=null,w=this._cursor.offset-this._raw.byteOffset;switch(_){case 8:x=this._raw.getInt8(w);break;case 16:x=this._raw.getInt16(w);break;case 32:x=this._raw.getInt32(w);break;case 64:var g=this._raw.getInt32(w),d=this._raw.getInt32(w+4);x=g*Math.pow(2,32)+d}return this._cursor.offset+=_>>3,x},A.prototype._readUint=function(_){var g,d,x=null,w=this._cursor.offset-this._raw.byteOffset;switch(_){case 8:x=this._raw.getUint8(w);break;case 16:x=this._raw.getUint16(w);break;case 24:x=((g=this._raw.getUint16(w))<<8)+(d=this._raw.getUint8(w+2));break;case 32:x=this._raw.getUint32(w);break;case 64:g=this._raw.getUint32(w),d=this._raw.getUint32(w+4),x=g*Math.pow(2,32)+d}return this._cursor.offset+=_>>3,x},A.prototype._readString=function(_){for(var x="",w=0;w<_;w++){var g=this._readUint(8);x+=String.fromCharCode(g)}return x},A.prototype._readTemplate=function(_){return this._readUint(_/2)+this._readUint(_/2)/Math.pow(2,_/2)},A.prototype._readTerminatedString=function(){for(var _="";this._cursor.offset-this._offset<this._raw.byteLength;){var x=this._readUint(8);if(0===x)break;_+=String.fromCharCode(x)}return _},A.prototype._readData=function(_){var x=_>0?_:this._raw.byteLength-(this._cursor.offset-this._offset);if(x>0){var w=new Uint8Array(this._raw.buffer,this._cursor.offset,x);return this._cursor.offset+=x,w}return null},A.prototype._readUTF8String=function(){var _=this._raw.byteLength-(this._cursor.offset-this._offset),x=null;return _>0&&(x=new DataView(this._raw.buffer,this._cursor.offset,_),this._cursor.offset+=_),x&&n.Utils.dataViewToString(x)},A.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},A.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},A.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(A.parse(this))},A.prototype.append=function(_,x){n.Utils.appendBox(this,_,x)},A.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var _=0;_<this.boxes.length;_++)this.size+=this.boxes[_].getLength();return this._data&&this._writeData(this._data),this.size},A.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var _=0;_<this.boxes.length;_++)this.boxes[_].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},A.prototype._writeInt=function(_,x){if(this._rawo){var w=this._cursor.offset-this._rawo.byteOffset;switch(_){case 8:this._rawo.setInt8(w,x);break;case 16:this._rawo.setInt16(w,x);break;case 32:this._rawo.setInt32(w,x);break;case 64:var g=Math.floor(x/Math.pow(2,32)),d=x-g*Math.pow(2,32);this._rawo.setUint32(w,g),this._rawo.setUint32(w+4,d)}this._cursor.offset+=_>>3}else this.size+=_>>3},A.prototype._writeUint=function(_,x){if(this._rawo){var g,d,w=this._cursor.offset-this._rawo.byteOffset;switch(_){case 8:this._rawo.setUint8(w,x);break;case 16:this._rawo.setUint16(w,x);break;case 24:d=255&x,this._rawo.setUint16(w,g=(16776960&x)>>8),this._rawo.setUint8(w+2,d);break;case 32:this._rawo.setUint32(w,x);break;case 64:d=x-(g=Math.floor(x/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(w,g),this._rawo.setUint32(w+4,d)}this._cursor.offset+=_>>3}else this.size+=_>>3},A.prototype._writeString=function(_,x){for(var w=0;w<_;w++)this._writeUint(8,x.charCodeAt(w))},A.prototype._writeTerminatedString=function(_){if(0!==_.length){for(var x=0;x<_.length;x++)this._writeUint(8,_.charCodeAt(x));this._writeUint(8,0)}},A.prototype._writeTemplate=function(_,x){var w=Math.floor(x),g=(x-w)*Math.pow(2,_/2);this._writeUint(_/2,w),this._writeUint(_/2,g)},A.prototype._writeData=function(_){if(_)if(this._rawo){if(_ instanceof Array){for(var w=this._cursor.offset-this._rawo.byteOffset,x=0;x<_.length;x++)this._rawo.setInt8(w+x,_[x]);this._cursor.offset+=_.length}_ instanceof Uint8Array&&(this._root.bytes.set(_,this._cursor.offset),this._cursor.offset+=_.length)}else this.size+=_.length},A.prototype._writeUTF8String=function(_){var x=n.Utils.utf8ToByteArray(_);if(this._rawo)for(var w=new DataView(this._rawo.buffer,this._cursor.offset,x.length),g=0;g<x.length;g++)w.setUint8(g,x[g]);else this.size+=x.length},A.prototype._writeField=function(_,x,w){switch(_){case"uint":this._writeUint(x,w);break;case"int":this._writeInt(x,w);break;case"template":this._writeTemplate(x,w);break;case"string":-1==x?this._writeTerminatedString(w):this._writeString(x,w);break;case"data":this._writeData(w);break;case"utf8":this._writeUTF8String(w)}},A.prototype._boxProcessors.avc1=A.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},A.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},A.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(_){this._procEntryField(_,"segment_duration","uint",1===this.version?64:32),this._procEntryField(_,"media_time","int",1===this.version?64:32),this._procEntryField(_,"media_rate_integer","int",16),this._procEntryField(_,"media_rate_fraction","int",16)})},A.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},A.prototype._boxProcessors.free=A.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},A.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},A.prototype._boxProcessors.ftyp=A.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var _=-1;this._parsing&&(_=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",_,"string",4)},A.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},A.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},A.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),!this._parsing&&"string"==typeof this.language&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},A.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},A.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},A.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},A.prototype._boxProcessors.mp4a=A.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},A.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},A.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},A.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},A.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},A.prototype._boxProcessors.sdtp=function(){this._procFullBox();var _=-1;this._parsing&&(_=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",_,"uint",8)},A.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(_){this._parsing||(_.reference=(1&_.reference_type)<<31,_.reference|=2147483647&_.referenced_size,_.sap=(1&_.starts_with_SAP)<<31,_.sap|=(3&_.SAP_type)<<28,_.sap|=268435455&_.SAP_delta_time),this._procEntryField(_,"reference","uint",32),this._procEntryField(_,"subsegment_duration","uint",32),this._procEntryField(_,"sap","uint",32),this._parsing&&(_.reference_type=_.reference>>31&1,_.referenced_size=2147483647&_.reference,_.starts_with_SAP=_.sap>>31&1,_.SAP_type=_.sap>>28&7,_.SAP_delta_time=268435455&_.sap)})},A.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},A.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(_){this._procEntryField(_,"ranges_count","uint",32),this._procSubEntries(_,"ranges",_.ranges_count,function(x){this._procEntryField(x,"level","uint",8),this._procEntryField(x,"range_size","uint",24)})})},A.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},A.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(_){this._procEntryField(_,"sample_delta","uint",32),this._procEntryField(_,"subsample_count","uint",16),this._procSubEntries(_,"subsamples",_.subsample_count,function(x){this._procEntryField(x,"subsample_size","uint",1===this.version?32:16),this._procEntryField(x,"subsample_priority","uint",8),this._procEntryField(x,"discardable","uint",8),this._procEntryField(x,"codec_specific_parameters","uint",32)})})},A.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},A.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},A.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},A.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(_){this._procEntryField(_,"time","uint",1===this.version?64:32),this._procEntryField(_,"moof_offset","uint",1===this.version?64:32),this._procEntryField(_,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(_,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(_,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},A.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},A.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},A.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(_){256&this.flags&&this._procEntryField(_,"sample_duration","uint",32),512&this.flags&&this._procEntryField(_,"sample_size","uint",32),1024&this.flags&&this._procEntryField(_,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(_,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},A.prototype._boxProcessors["url "]=A.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},A.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},A.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},A.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},A.prototype._boxProcessors.vtte=function(){}},"./node_modules/core-util-is/lib/util.js":
/*!***********************************************!*\
                  !*** ./node_modules/core-util-is/lib/util.js ***!
                  \***********************************************/
/*! no static exports found */function(Xe,v,e){function k(F){return Object.prototype.toString.call(F)}v.isArray=function n(F){return Array.isArray?Array.isArray(F):"[object Array]"===k(F)},v.isBoolean=function b(F){return"boolean"==typeof F},v.isNull=function A(F){return null===F},v.isNullOrUndefined=function _(F){return null==F},v.isNumber=function x(F){return"number"==typeof F},v.isString=function w(F){return"string"==typeof F},v.isSymbol=function g(F){return"symbol"==typeof F},v.isUndefined=function d(F){return void 0===F},v.isRegExp=function i(F){return"[object RegExp]"===k(F)},v.isObject=function h(F){return"object"==typeof F&&null!==F},v.isDate=function p(F){return"[object Date]"===k(F)},v.isError=function T(F){return"[object Error]"===k(F)||F instanceof Error},v.isFunction=function B(F){return"function"==typeof F},v.isPrimitive=function P(F){return null===F||"boolean"==typeof F||"number"==typeof F||"string"==typeof F||"symbol"==typeof F||typeof F>"u"},v.isBuffer=e(
/*! buffer */
"./node_modules/buffer/index.js").Buffer.isBuffer},"./node_modules/es6-promise/auto.js":
/*!******************************************!*\
                  !*** ./node_modules/es6-promise/auto.js ***!
                  \******************************************/
/*! no static exports found */function(Xe,v,e){"use strict";Xe.exports=e(
/*! ./ */
"./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
                  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
                  \******************************************************/
/*! no static exports found */function(Xe,v,e){(function(n,b){var _;_=function(){"use strict";function _(be){return"function"==typeof be}var w=Array.isArray?Array.isArray:function(be){return"[object Array]"===Object.prototype.toString.call(be)},g=0,d=void 0,i=void 0,h=function(Le,et){U[g]=Le,U[g+1]=et,2===(g+=2)&&(i?i(z):te())};var B=typeof window<"u"?window:void 0,P=B||{},k=P.MutationObserver||P.WebKitMutationObserver,F=typeof self>"u"&&typeof n<"u"&&"[object process]"==={}.toString.call(n),O=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function C(){var be=setTimeout;return function(){return be(z,1)}}var U=new Array(1e3);function z(){for(var be=0;be<g;be+=2)(0,U[be])(U[be+1]),U[be]=void 0,U[be+1]=void 0;g=0}var te=void 0;function Me(be,Le){var et=this,Qe=new this.constructor(W);void 0===Qe[ce]&&ge(Qe);var qe=et._state;if(qe){var ft=arguments[qe-1];h(function(){return ye(qe,Qe,ft,et._result)})}else at(et,Qe,be,Le);return Qe}function J(be){if(be&&"object"==typeof be&&be.constructor===this)return be;var et=new this(W);return De(et,be),et}te=F?function D(){return function(){return n.nextTick(z)}}():k?function S(){var be=0,Le=new k(z),et=document.createTextNode("");return Le.observe(et,{characterData:!0}),function(){et.data=be=++be%2}}():O?function L(){var be=new MessageChannel;return be.port1.onmessage=z,function(){return be.port2.postMessage(0)}}():void 0===B?function ne(){try{var be=Function("return this")().require("vertx");return d=be.runOnLoop||be.runOnContext,function I(){return typeof d<"u"?function(){d(z)}:C()}()}catch{return C()}}():C();var ce=Math.random().toString(36).substring(2);function W(){}var Se=void 0,le=1,Ee=2;function me(be,Le,et){Le.constructor===be.constructor&&et===Me&&Le.constructor.resolve===J?function Ce(be,Le){Le._state===le?Fe(be,Le._result):Le._state===Ee?Ne(be,Le._result):at(Le,void 0,function(et){return De(be,et)},function(et){return Ne(be,et)})}(be,Le):void 0===et?Fe(be,Le):_(et)?function Pe(be,Le,et){h(function(Qe){var qe=!1,ft=function fe(be,Le,et,Qe){try{be.call(Le,et,Qe)}catch(qe){return qe}}(et,Le,function(ze){qe||(qe=!0,Le!==ze?De(Qe,ze):Fe(Qe,ze))},function(ze){qe||(qe=!0,Ne(Qe,ze))});!qe&&ft&&(qe=!0,Ne(Qe,ft))},be)}(be,Le,et):Fe(be,Le)}function De(be,Le){if(be===Le)Ne(be,function xe(){return new TypeError("You cannot resolve a promise with itself")}());else if(function A(be){var Le=typeof be;return null!==be&&("object"===Le||"function"===Le)}(Le)){var et=void 0;try{et=Le.then}catch(Qe){return void Ne(be,Qe)}me(be,Le,et)}else Fe(be,Le)}function Re(be){be._onerror&&be._onerror(be._result),Be(be)}function Fe(be,Le){be._state===Se&&(be._result=Le,be._state=le,0!==be._subscribers.length&&h(Be,be))}function Ne(be,Le){be._state===Se&&(be._state=Ee,be._result=Le,h(Re,be))}function at(be,Le,et,Qe){var qe=be._subscribers,ft=qe.length;be._onerror=null,qe[ft]=Le,qe[ft+le]=et,qe[ft+Ee]=Qe,0===ft&&be._state&&h(Be,be)}function Be(be){var Le=be._subscribers,et=be._state;if(0!==Le.length){for(var Qe=void 0,qe=void 0,ft=be._result,ze=0;ze<Le.length;ze+=3)qe=Le[ze+et],(Qe=Le[ze])?ye(et,Qe,qe,ft):qe(ft);be._subscribers.length=0}}function ye(be,Le,et,Qe){var qe=_(et),ft=void 0,ze=void 0,ht=!0;if(qe){try{ft=et(Qe)}catch(Et){ht=!1,ze=Et}if(Le===ft)return void Ne(Le,function Ve(){return new TypeError("A promises callback cannot return that same promise.")}())}else ft=Qe;Le._state!==Se||(qe&&ht?De(Le,ft):!1===ht?Ne(Le,ze):be===le?Fe(Le,ft):be===Ee&&Ne(Le,ft))}var K=0;function ge(be){be[ce]=K++,be._state=void 0,be._result=void 0,be._subscribers=[]}var Q=function(){function be(Le,et){this._instanceConstructor=Le,this.promise=new Le(W),this.promise[ce]||ge(this.promise),w(et)?(this.length=et.length,this._remaining=et.length,this._result=new Array(this.length),0===this.length?Fe(this.promise,this._result):(this.length=this.length||0,this._enumerate(et),0===this._remaining&&Fe(this.promise,this._result))):Ne(this.promise,function oe(){return new Error("Array Methods must be provided an Array")}())}return be.prototype._enumerate=function(et){for(var Qe=0;this._state===Se&&Qe<et.length;Qe++)this._eachEntry(et[Qe],Qe)},be.prototype._eachEntry=function(et,Qe){var qe=this._instanceConstructor,ft=qe.resolve;if(ft===J){var ze=void 0,ht=void 0,Et=!1;try{ze=et.then}catch(He){Et=!0,ht=He}if(ze===Me&&et._state!==Se)this._settledAt(et._state,Qe,et._result);else if("function"!=typeof ze)this._remaining--,this._result[Qe]=et;else if(qe===pe){var de=new qe(W);Et?Ne(de,ht):me(de,et,ze),this._willSettleAt(de,Qe)}else this._willSettleAt(new qe(function(He){return He(et)}),Qe)}else this._willSettleAt(ft(et),Qe)},be.prototype._settledAt=function(et,Qe,qe){var ft=this.promise;ft._state===Se&&(this._remaining--,et===Ee?Ne(ft,qe):this._result[Qe]=qe),0===this._remaining&&Fe(ft,this._result)},be.prototype._willSettleAt=function(et,Qe){var qe=this;at(et,void 0,function(ft){return qe._settledAt(le,Qe,ft)},function(ft){return qe._settledAt(Ee,Qe,ft)})},be}();var pe=function(){function be(Le){this[ce]=function se(){return K++}(),this._result=this._state=void 0,this._subscribers=[],W!==Le&&("function"!=typeof Le&&function Z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof be?function ve(be,Le){try{Le(function(Qe){De(be,Qe)},function(Qe){Ne(be,Qe)})}catch(et){Ne(be,et)}}(this,Le):function X(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return be.prototype.catch=function(et){return this.then(null,et)},be.prototype.finally=function(et){var qe=this.constructor;return _(et)?this.then(function(ft){return qe.resolve(et()).then(function(){return ft})},function(ft){return qe.resolve(et()).then(function(){throw ft})}):this.then(et,et)},be}();return pe.prototype.then=Me,pe.all=function q(be){return new Q(this,be).promise},pe.race=function $(be){var Le=this;return w(be)?new Le(function(et,Qe){for(var qe=be.length,ft=0;ft<qe;ft++)Le.resolve(be[ft]).then(et,Qe)}):new Le(function(et,Qe){return Qe(new TypeError("You must pass an array to race."))})},pe.resolve=J,pe.reject=function ie(be){var et=new this(W);return Ne(et,be),et},pe._setScheduler=function p(be){i=be},pe._setAsap=function T(be){h=be},pe._asap=h,pe.polyfill=function Te(){var be=void 0;if(typeof b<"u")be=b;else if(typeof self<"u")be=self;else try{be=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Le=be.Promise;if(Le){var et=null;try{et=Object.prototype.toString.call(Le.resolve())}catch{}if("[object Promise]"===et&&!Le.cast)return}be.Promise=pe},pe.Promise=pe,pe},Xe.exports=_()}).call(this,e(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),e(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/events/events.js":
/*!***************************************!*\
                  !*** ./node_modules/events/events.js ***!
                  \***************************************/
/*! no static exports found */function(Xe,v,e){"use strict";var A,n="object"==typeof Reflect?Reflect:null,b=n&&"function"==typeof n.apply?n.apply:function(C,U,z){return Function.prototype.apply.call(C,U,z)};A=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:function(C){return Object.getOwnPropertyNames(C)};var x=Number.isNaN||function(C){return C!=C};function w(){w.init.call(this)}Xe.exports=w,Xe.exports.once=function D(L,C){return new Promise(function(U,z){function ne(Me){L.removeListener(C,te),z(Me)}function te(){"function"==typeof L.removeListener&&L.removeListener("error",ne),U([].slice.call(arguments))}S(L,C,te,{once:!0}),"error"!==C&&function I(L,C,U){"function"==typeof L.on&&S(L,"error",C,U)}(L,ne,{once:!0})})},w.EventEmitter=w,w.prototype._events=void 0,w.prototype._eventsCount=0,w.prototype._maxListeners=void 0;var g=10;function d(L){if("function"!=typeof L)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof L)}function i(L){return void 0===L._maxListeners?w.defaultMaxListeners:L._maxListeners}function h(L,C,U,z){var ne,te,Me;if(d(U),void 0===(te=L._events)?(te=L._events=Object.create(null),L._eventsCount=0):(void 0!==te.newListener&&(L.emit("newListener",C,U.listener?U.listener:U),te=L._events),Me=te[C]),void 0===Me)Me=te[C]=U,++L._eventsCount;else if("function"==typeof Me?Me=te[C]=z?[U,Me]:[Me,U]:z?Me.unshift(U):Me.push(U),(ne=i(L))>0&&Me.length>ne&&!Me.warned){Me.warned=!0;var J=new Error("Possible EventEmitter memory leak detected. "+Me.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");J.name="MaxListenersExceededWarning",J.emitter=L,J.type=C,J.count=Me.length,function _(L){console&&console.warn&&console.warn(L)}(J)}return L}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function T(L,C,U){var z={fired:!1,wrapFn:void 0,target:L,type:C,listener:U},ne=p.bind(z);return ne.listener=U,z.wrapFn=ne,ne}function B(L,C,U){var z=L._events;if(void 0===z)return[];var ne=z[C];return void 0===ne?[]:"function"==typeof ne?U?[ne.listener||ne]:[ne]:U?function O(L){for(var C=new Array(L.length),U=0;U<C.length;++U)C[U]=L[U].listener||L[U];return C}(ne):k(ne,ne.length)}function P(L){var C=this._events;if(void 0!==C){var U=C[L];if("function"==typeof U)return 1;if(void 0!==U)return U.length}return 0}function k(L,C){for(var U=new Array(C),z=0;z<C;++z)U[z]=L[z];return U}function S(L,C,U,z){if("function"==typeof L.on)z.once?L.once(C,U):L.on(C,U);else{if("function"!=typeof L.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof L);L.addEventListener(C,function ne(te){z.once&&L.removeEventListener(C,ne),U(te)})}}Object.defineProperty(w,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(L){if("number"!=typeof L||L<0||x(L))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+L+".");g=L}}),w.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},w.prototype.setMaxListeners=function(C){if("number"!=typeof C||C<0||x(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this},w.prototype.getMaxListeners=function(){return i(this)},w.prototype.emit=function(C){for(var U=[],z=1;z<arguments.length;z++)U.push(arguments[z]);var ne="error"===C,te=this._events;if(void 0!==te)ne=ne&&void 0===te.error;else if(!ne)return!1;if(ne){var Me;if(U.length>0&&(Me=U[0]),Me instanceof Error)throw Me;var J=new Error("Unhandled error."+(Me?" ("+Me.message+")":""));throw J.context=Me,J}var ce=te[C];if(void 0===ce)return!1;if("function"==typeof ce)b(ce,this,U);else{var W=ce.length,Se=k(ce,W);for(z=0;z<W;++z)b(Se[z],this,U)}return!0},w.prototype.on=w.prototype.addListener=function(C,U){return h(this,C,U,!1)},w.prototype.prependListener=function(C,U){return h(this,C,U,!0)},w.prototype.once=function(C,U){return d(U),this.on(C,T(this,C,U)),this},w.prototype.prependOnceListener=function(C,U){return d(U),this.prependListener(C,T(this,C,U)),this},w.prototype.off=w.prototype.removeListener=function(C,U){var z,ne,te,Me,J;if(d(U),void 0===(ne=this._events))return this;if(void 0===(z=ne[C]))return this;if(z===U||z.listener===U)0==--this._eventsCount?this._events=Object.create(null):(delete ne[C],ne.removeListener&&this.emit("removeListener",C,z.listener||U));else if("function"!=typeof z){for(te=-1,Me=z.length-1;Me>=0;Me--)if(z[Me]===U||z[Me].listener===U){J=z[Me].listener,te=Me;break}if(te<0)return this;0===te?z.shift():function F(L,C){for(;C+1<L.length;C++)L[C]=L[C+1];L.pop()}(z,te),1===z.length&&(ne[C]=z[0]),void 0!==ne.removeListener&&this.emit("removeListener",C,J||U)}return this},w.prototype.removeAllListeners=function(C){var U,z,ne;if(void 0===(z=this._events))return this;if(void 0===z.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==z[C]&&(0==--this._eventsCount?this._events=Object.create(null):delete z[C]),this;if(0===arguments.length){var Me,te=Object.keys(z);for(ne=0;ne<te.length;++ne)"removeListener"!==(Me=te[ne])&&this.removeAllListeners(Me);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(U=z[C]))this.removeListener(C,U);else if(void 0!==U)for(ne=U.length-1;ne>=0;ne--)this.removeListener(C,U[ne]);return this},w.prototype.listeners=function(C){return B(this,C,!0)},w.prototype.rawListeners=function(C){return B(this,C,!1)},w.listenerCount=function(L,C){return"function"==typeof L.listenerCount?L.listenerCount(C):P.call(L,C)},w.prototype.listenerCount=P,w.prototype.eventNames=function(){return this._eventsCount>0?A(this._events):[]}},"./node_modules/fast-deep-equal/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/fast-deep-equal/index.js ***!
                  \***********************************************/
/*! no static exports found */function(Xe,v,e){"use strict";var n=Array.isArray,b=Object.keys,A=Object.prototype.hasOwnProperty;Xe.exports=function _(x,w){if(x===w)return!0;if(x&&w&&"object"==typeof x&&"object"==typeof w){var i,h,p,g=n(x),d=n(w);if(g&&d){if((h=x.length)!=w.length)return!1;for(i=h;0!=i--;)if(!_(x[i],w[i]))return!1;return!0}if(g!=d)return!1;var T=x instanceof Date,B=w instanceof Date;if(T!=B)return!1;if(T&&B)return x.getTime()==w.getTime();var P=x instanceof RegExp,k=w instanceof RegExp;if(P!=k)return!1;if(P&&k)return x.toString()==w.toString();var F=b(x);if((h=F.length)!==b(w).length)return!1;for(i=h;0!=i--;)if(!A.call(w,F[i]))return!1;for(i=h;0!=i--;)if(!_(x[p=F[i]],w[p]))return!1;return!0}return x!=x&&w!=w}},"./node_modules/ieee754/index.js":
/*!***************************************!*\
                  !*** ./node_modules/ieee754/index.js ***!
                  \***************************************/
/*! no static exports found */function(Xe,v){v.read=function(e,n,b,A,_){var x,w,g=8*_-A-1,d=(1<<g)-1,i=d>>1,h=-7,p=b?_-1:0,T=b?-1:1,B=e[n+p];for(p+=T,x=B&(1<<-h)-1,B>>=-h,h+=g;h>0;x=256*x+e[n+p],p+=T,h-=8);for(w=x&(1<<-h)-1,x>>=-h,h+=A;h>0;w=256*w+e[n+p],p+=T,h-=8);if(0===x)x=1-i;else{if(x===d)return w?NaN:1/0*(B?-1:1);w+=Math.pow(2,A),x-=i}return(B?-1:1)*w*Math.pow(2,x-A)},v.write=function(e,n,b,A,_,x){var w,g,d,i=8*x-_-1,h=(1<<i)-1,p=h>>1,T=23===_?Math.pow(2,-24)-Math.pow(2,-77):0,B=A?0:x-1,P=A?1:-1,k=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(g=isNaN(n)?1:0,w=h):(w=Math.floor(Math.log(n)/Math.LN2),n*(d=Math.pow(2,-w))<1&&(w--,d*=2),(n+=w+p>=1?T/d:T*Math.pow(2,1-p))*d>=2&&(w++,d/=2),w+p>=h?(g=0,w=h):w+p>=1?(g=(n*d-1)*Math.pow(2,_),w+=p):(g=n*Math.pow(2,p-1)*Math.pow(2,_),w=0));_>=8;e[b+B]=255&g,B+=P,g/=256,_-=8);for(w=w<<_|g,i+=_;i>0;e[b+B]=255&w,B+=P,w/=256,i-=8);e[b+B-P]|=128*k}},"./node_modules/imsc/src/main/js/doc.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/doc.js ***!
                  \**********************************************/
/*! no static exports found */function(Xe,v,e){!function(n,b,A,_,x){function w(oe){if("contents"in oe)for(var Q=("styleAttrs"in oe?oe.styleAttrs[_.byName.ruby.qname]:null),q="span"===oe.kind&&("container"===Q||"textContainer"===Q||"baseContainer"===Q),$=oe.contents.length-1;$>=0;$--)!q||"styleAttrs"in oe.contents[$]&&_.byName.ruby.qname in oe.contents[$].styleAttrs?w(oe.contents[$]):delete oe.contents[$]}function g(oe,Q,q,$){var ie=$&&"seq"===$.timeContainer,Z=0;$&&(Z=ie&&q?q.end:$.begin),Q.begin=Q.explicit_begin?Q.explicit_begin+Z:Z;var X=Q.begin,pe=null;if("sets"in Q)for(var Te=0;Te<Q.sets.length;Te++)g(oe,Q.sets[Te],pe,Q),X="seq"===Q.timeContainer?Q.sets[Te].end:Math.max(X,Q.sets[Te].end),pe=Q.sets[Te];if("contents"in Q){if("contents"in Q)for(var be=0;be<Q.contents.length;be++)g(oe,Q.contents[be],pe,Q),X="seq"===Q.timeContainer?Q.contents[be].end:Math.max(X,Q.contents[be].end),pe=Q.contents[be]}else X=ie?Q.begin:Number.POSITIVE_INFINITY;Q.end=null!==Q.explicit_end&&null!==Q.explicit_dur?Math.min(Q.begin+Q.explicit_dur,Z+Q.explicit_end):null===Q.explicit_end&&null!==Q.explicit_dur?Q.begin+Q.explicit_dur:null!==Q.explicit_end&&null===Q.explicit_dur?Z+Q.explicit_end:X,delete Q.explicit_begin,delete Q.explicit_dur,delete Q.explicit_end,oe._registerEvent(Q)}function d(oe){this.node=oe}function i(){this.events=[],this.head=new h,this.body=null}function h(){this.styling=new p,this.layout=new P}function p(){this.styles={},this.initials={}}function T(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function B(){this.styleAttrs=null}function P(){this.regions={}}function k(oe,Q){F.call(this,"image"),this.src=oe,this.type=Q}function F(oe){this.kind=oe}function O(oe){this.id=oe}function D(oe){this.regionID=oe}function I(oe){this.styleAttrs=oe}function S(oe){this.sets=oe}function L(oe){this.contents=oe}function C(oe,Q,q){this.explicit_begin=oe,this.explicit_end=Q,this.explicit_dur=q}function U(){F.call(this,"body")}function z(){F.call(this,"div")}function ne(){F.call(this,"p")}function te(){F.call(this,"span")}function Me(){F.call(this,"span")}function J(){F.call(this,"br")}function ce(){}function W(){}function Se(oe){return oe&&"xml:id"in oe.attributes&&oe.attributes["xml:id"].value||null}function xe(oe){return oe&&"style"in oe.attributes?oe.attributes.style.value.split(" "):[]}function Ve(oe,Q){var q={};if(null!==oe)for(var $ in oe.attributes){var ie=oe.attributes[$].uri+" "+oe.attributes[$].local,Z=_.byQName[ie];if(void 0!==Z){var X=Z.parse(oe.attributes[$].value);null!==X?(q[ie]=X,Z===_.byName.zIndex&&ve(Q,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):K(Q,"Cannot parse styling attribute "+ie+" --\x3e "+oe.attributes[$].value)}}return q}function fe(oe,Q,q){for(var $ in oe.attributes)if(oe.attributes[$].uri===Q&&oe.attributes[$].local===q)return oe.attributes[$].value;return null}function Re(oe,Q,q){var et,Qe=null;return null!==(et=/^(\d+(?:\.\d+)?)f$/.exec(q))?null!==Q&&(Qe=parseFloat(et[1])/Q):null!==(et=/^(\d+(?:\.\d+)?)t$/.exec(q))?null!==oe&&(Qe=parseFloat(et[1])/oe):null!==(et=/^(\d+(?:\.\d+)?)ms$/.exec(q))?Qe=parseFloat(et[1])/1e3:null!==(et=/^(\d+(?:\.\d+)?)s$/.exec(q))?Qe=parseFloat(et[1]):null!==(et=/^(\d+(?:\.\d+)?)h$/.exec(q))?Qe=3600*parseFloat(et[1]):null!==(et=/^(\d+(?:\.\d+)?)m$/.exec(q))?Qe=60*parseFloat(et[1]):null!==(et=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(q))?Qe=3600*parseInt(et[1])+60*parseInt(et[2])+parseFloat(et[3]):null!==(et=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(q))&&null!==Q&&(Qe=3600*parseInt(et[1])+60*parseInt(et[2])+parseInt(et[3])+(null===et[4]?0:parseInt(et[4])/Q)),Qe}function Ne(oe,Q,q){for(;Q.styleRefs.length>0;){var $=Q.styleRefs.pop();$ in oe.styles?(Ne(oe,oe.styles[$],q),Be(oe.styles[$].styleAttrs,Q.styleAttrs)):K(q,"Non-existant style id referenced")}}function at(oe,Q,q,$){for(var ie=Q.length-1;ie>=0;ie--){var Z=Q[ie];Z in oe.styles?Be(oe.styles[Z].styleAttrs,q):K($,"Non-existant style id referenced")}}function Be(oe,Q){for(var q in oe)oe.hasOwnProperty(q)&&(q in Q||(Q[q]=oe[q]))}function ve(oe,Q){if(oe&&oe.warn&&oe.warn(Q))throw Q}function K(oe,Q){if(oe&&oe.error&&oe.error(Q))throw Q}function se(oe,Q){throw oe&&oe.fatal&&oe.fatal(Q),Q}function ge(oe,Q){for(var ie,q=0,$=oe.length-1;q<=$;){var Z=oe[ie=Math.floor((q+$)/2)];if(Z<Q)q=ie+1;else{if(!(Z>Q))return{found:!0,index:ie};$=ie-1}}return{found:!1,index:q}}n.fromXML=function(oe,Q,q){var $=b.parser(!0,{xmlns:!0}),ie=[],Z=[],X=[],pe=0,Te=null;$.onclosetag=function(qe){if(ie[0]instanceof ce)null!==Te.head&&null!==Te.head.styling&&at(Te.head.styling,ie[0].styleRefs,ie[0].styleAttrs,Q),delete ie[0].styleRefs;else if(ie[0]instanceof p)for(var ft in ie[0].styles)ie[0].styles.hasOwnProperty(ft)&&Ne(ie[0],ie[0].styles[ft],Q);else if(ie[0]instanceof ne||ie[0]instanceof te){if(ie[0].contents.length>1){var ht,ze=[ie[0].contents[0]];for(ht=1;ht<ie[0].contents.length;ht++)ie[0].contents[ht]instanceof Me&&ze[ze.length-1]instanceof Me?ze[ze.length-1].text+=ie[0].contents[ht].text:ze.push(ie[0].contents[ht]);ie[0].contents=ze}ie[0]instanceof te&&1===ie[0].contents.length&&ie[0].contents[0]instanceof Me&&(ie[0].text=ie[0].contents[0].text,delete ie[0].contents)}else ie[0]instanceof d&&(ie[0].node.uri===A.ns_tt&&"metadata"===ie[0].node.local?pe--:pe>0&&q&&"onCloseTag"in q&&q.onCloseTag());X.shift(),Z.shift(),ie.shift()},$.ontext=function(qe){if(void 0!==ie[0])if(ie[0]instanceof te||ie[0]instanceof ne){if(ie[0]instanceof te){var ft=ie[0].styleAttrs[_.byName.ruby.qname];if("container"===ft||"textContainer"===ft||"baseContainer"===ft)return}var ze=new Me;ze.initFromText(Te,ie[0],qe,Z[0],X[0],Q),ie[0].contents.push(ze)}else ie[0]instanceof d&&pe>0&&q&&"onText"in q&&q.onText(qe)},$.onopentag=function(qe){var ft=qe.attributes["xml:space"];X.unshift(ft?ft.value:0===X.length?"default":X[0]);var ze=qe.attributes["xml:lang"];if(Z.unshift(ze?ze.value:0===Z.length?"":Z[0]),qe.uri===A.ns_tt)if("tt"===qe.local)null!==Te&&se(Q,"Two <tt> elements at ("+this.line+","+this.column+")"),(Te=new i).initFromNode(qe,Z[0],Q),ie.unshift(Te);else if("head"===qe.local)ie[0]instanceof i||se(Q,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),ie.unshift(Te.head);else if("styling"===qe.local)ie[0]instanceof h||se(Q,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),ie.unshift(Te.head.styling);else if("style"===qe.local){var ht;ie[0]instanceof p?((ht=new T).initFromNode(qe,Q),ht.id?Te.head.styling.styles[ht.id]=ht:K(Q,"<style> element missing @id attribute"),ie.unshift(ht)):ie[0]instanceof ce?((ht=new T).initFromNode(qe,Q),Be(ht.styleAttrs,ie[0].styleAttrs),ie.unshift(ht)):se(Q,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===qe.local){var Et;if(ie[0]instanceof p){for(var de in(Et=new B).initFromNode(qe,Q),Et.styleAttrs)Et.styleAttrs.hasOwnProperty(de)&&(Te.head.styling.initials[de]=Et.styleAttrs[de]);ie.unshift(Et)}else se(Q,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===qe.local)ie[0]instanceof h||se(Q,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),ie.unshift(Te.head.layout);else if("region"===qe.local){ie[0]instanceof P||se(Q,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var He=new ce;He.initFromNode(Te,qe,Z[0],Q),!He.id||He.id in Te.head.layout.regions?K(Q,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):Te.head.layout.regions[He.id]=He,ie.unshift(He)}else if("body"===qe.local){ie[0]instanceof i||se(Q,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==Te.body&&se(Q,"Second <body> element at "+this.line+","+this.column+")");var bt=new U;bt.initFromNode(Te,qe,Z[0],Q),Te.body=bt,ie.unshift(bt)}else if("div"===qe.local){ie[0]instanceof z||ie[0]instanceof U||se(Q,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Ut=new z;Ut.initFromNode(Te,ie[0],qe,Z[0],Q);var Zt=Ut.styleAttrs[_.byName.backgroundImage.qname];Zt&&(Ut.contents.push(new k(Zt)),delete Ut.styleAttrs[_.byName.backgroundImage.qname]),ie[0].contents.push(Ut),ie.unshift(Ut)}else if("image"===qe.local){ie[0]instanceof z||se(Q,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var Kt=new k;Kt.initFromNode(Te,ie[0],qe,Z[0],Q),ie[0].contents.push(Kt),ie.unshift(Kt)}else if("p"===qe.local){ie[0]instanceof z||se(Q,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var pn=new ne;pn.initFromNode(Te,ie[0],qe,Z[0],Q),ie[0].contents.push(pn),ie.unshift(pn)}else if("span"===qe.local){ie[0]instanceof te||ie[0]instanceof ne||se(Q,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var rn=new te;rn.initFromNode(Te,ie[0],qe,Z[0],X[0],Q),ie[0].contents.push(rn),ie.unshift(rn)}else if("br"===qe.local){ie[0]instanceof te||ie[0]instanceof ne||se(Q,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var xt=new J;xt.initFromNode(Te,ie[0],qe,Z[0],Q),ie[0].contents.push(xt),ie.unshift(xt)}else if("set"===qe.local){ie[0]instanceof te||ie[0]instanceof ne||ie[0]instanceof z||ie[0]instanceof U||ie[0]instanceof ce||ie[0]instanceof J||se(Q,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var vt=new W;vt.initFromNode(Te,ie[0],qe,Q),ie[0].sets.push(vt),ie.unshift(vt)}else ie.unshift(new d(qe));else ie.unshift(new d(qe));if(ie[0]instanceof d)if(qe.uri===A.ns_tt&&"metadata"===qe.local)pe++;else if(pe>0&&q&&"onOpenTag"in q){var nt=[];for(var ke in qe.attributes)nt[qe.attributes[ke].uri+" "+qe.attributes[ke].local]={uri:qe.attributes[ke].uri,local:qe.attributes[ke].local,value:qe.attributes[ke].value};q.onOpenTag(qe.uri,qe.local,nt)}},$.write(oe).close(),delete Te.head.styling.styles;var be=!1;for(var Le in Te.head.layout.regions)if(Te.head.layout.regions.hasOwnProperty(Le)){be=!0;break}if(!be){var et=ce.prototype.createDefaultRegion(Te.lang);Te.head.layout.regions[et.id]=et}for(var Qe in Te.head.layout.regions)Te.head.layout.regions.hasOwnProperty(Qe)&&g(Te,Te.head.layout.regions[Qe],null,null);return Te.body&&g(Te,Te.body,null,null),Te.body&&w(Te.body),Te},i.prototype.initFromNode=function(oe,Q,q){var $=function Ce(oe,Q){var q=fe(oe,A.ns_ttp,"cellResolution"),$=15,ie=32;if(null!==q){var X=/(\d+) (\d+)/.exec(q);null!==X?(ie=parseInt(X[1]),$=parseInt(X[2])):ve(Q,"Malformed cellResolution value (using initial value instead)")}return{w:ie,h:$}}(oe,q);this.cellLength={h:new x.ComputedLength(0,1/$.h),w:new x.ComputedLength(1/$.w,0)};var ie=function me(oe,Q){var ie,q=fe(oe,A.ns_ttp,"frameRate"),$=30;null!==q&&(null!==(ie=/(\d+)/.exec(q))?$=parseInt(ie[1]):ve(Q,"Malformed frame rate attribute (using initial value instead)"));var X=fe(oe,A.ns_ttp,"frameRateMultiplier"),pe=1;null!==X&&(null!==(ie=/(\d+) (\d+)/.exec(X))?pe=parseInt(ie[1])/parseInt(ie[2]):ve(Q,"Malformed frame rate multiplier attribute (using initial value instead)"));var be=pe*$,Le=1,et=fe(oe,A.ns_ttp,"tickRate");return null===et?null!==q&&(Le=be):null!==(ie=/(\d+)/.exec(et))?Le=parseInt(ie[1]):ve(Q,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:be,tickRate:Le}}(oe,q);this.effectiveFrameRate=ie.effectiveFrameRate,this.tickRate=ie.tickRate,this.aspectRatio=function Pe(oe,Q){var q=fe(oe,A.ns_ittp,"aspectRatio");null===q&&(q=fe(oe,A.ns_ttp,"displayAspectRatio"));var $=null;if(null!==q){var Z=/(\d+)\s+(\d+)/.exec(q);if(null!==Z){var X=parseInt(Z[1]),pe=parseInt(Z[2]);0!==X&&0!==pe?$=X/pe:K(Q,"Illegal aspectRatio values (ignoring)")}else K(Q,"Malformed aspectRatio attribute (ignoring)")}return $}(oe,q);var Z=fe(oe,A.ns_ttp,"timeBase");null!==Z&&"media"!==Z&&se(q,"Unsupported time base");var X=function De(oe,Q){var q=fe(oe,A.ns_tts,"extent");if(null===q)return null;var $=q.split(" ");if(2!==$.length)return ve(Q,"Malformed extent (ignoring)"),null;var ie=x.parseLength($[0]),Z=x.parseLength($[1]);return Z&&ie?{h:Z,w:ie}:(ve(Q,"Malformed extent values (ignoring)"),null)}(oe,q);null===X?this.pxLength={h:null,w:null}:(("px"!==X.h.unit||"px"!==X.w.unit)&&se(q,"Extent on TT must be in px or absent"),this.pxLength={h:new x.ComputedLength(0,1/X.h.value),w:new x.ComputedLength(1/X.w.value,0)}),this.dimensions={h:new x.ComputedLength(0,1),w:new x.ComputedLength(1,0)},this.lang=Q},i.prototype._registerEvent=function(oe){if(!(oe.end<=oe.begin)){var Q=ge(this.events,oe.begin);if(Q.found||this.events.splice(Q.index,0,oe.begin),oe.end!==Number.POSITIVE_INFINITY){var q=ge(this.events,oe.end);q.found||this.events.splice(q.index,0,oe.end)}}},i.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},i.prototype.getMediaTimeEvents=function(){return this.events},T.prototype.initFromNode=function(oe,Q){this.id=Se(oe),this.styleAttrs=Ve(oe,Q),this.styleRefs=xe(oe)},B.prototype.initFromNode=function(oe,Q){for(var q in this.styleAttrs={},oe.attributes)oe.attributes[q].uri!==A.ns_itts&&oe.attributes[q].uri!==A.ns_ebutts&&oe.attributes[q].uri!==A.ns_tts||(this.styleAttrs[oe.attributes[q].uri+" "+oe.attributes[q].local]=oe.attributes[q].value)},k.prototype.initFromNode=function(oe,Q,q,$,ie){this.src="src"in q.attributes?q.attributes.src.value:null,this.src||K(ie,"Invalid image@src attribute"),this.type="type"in q.attributes?q.attributes.type.value:null,this.type||K(ie,"Invalid image@type attribute"),I.prototype.initFromNode.call(this,oe,Q,q,ie),C.prototype.initFromNode.call(this,oe,Q,q,ie),S.prototype.initFromNode.call(this,oe,Q,q,ie),D.prototype.initFromNode.call(this,oe,Q,q,ie),this.lang=$},O.prototype.initFromNode=function(oe,Q,q,$){this.id=Se(q)},D.prototype.initFromNode=function(oe,Q,q,$){this.regionID=function le(oe){return oe&&"region"in oe.attributes?oe.attributes.region.value:""}(q)},I.prototype.initFromNode=function(oe,Q,q,$){this.styleAttrs=Ve(q,$),null!==oe.head&&null!==oe.head.styling&&at(oe.head.styling,xe(q),this.styleAttrs,$)},S.prototype.initFromNode=function(oe,Q,q,$){this.sets=[]},L.prototype.initFromNode=function(oe,Q,q,$){this.contents=[]},C.prototype.initFromNode=function(oe,Q,q,$){var ie=function Fe(oe,Q,q,$){var ie=null;q&&"begin"in q.attributes&&null===(ie=Re(oe.tickRate,oe.effectiveFrameRate,q.attributes.begin.value))&&ve($,"Malformed begin value "+q.attributes.begin.value+" (using 0)");var Z=null;q&&"dur"in q.attributes&&null===(Z=Re(oe.tickRate,oe.effectiveFrameRate,q.attributes.dur.value))&&ve($,"Malformed dur value "+q.attributes.dur.value+" (ignoring)");var X=null;return q&&"end"in q.attributes&&null===(X=Re(oe.tickRate,oe.effectiveFrameRate,q.attributes.end.value))&&ve($,"Malformed end value (ignoring)"),{explicit_begin:ie,explicit_end:X,explicit_dur:Z}}(oe,0,q,$);this.explicit_begin=ie.explicit_begin,this.explicit_end=ie.explicit_end,this.explicit_dur=ie.explicit_dur,this.timeContainer=function Ee(oe,Q){var q=oe&&"timeContainer"in oe.attributes?oe.attributes.timeContainer.value:null;return q&&"par"!==q?"seq"===q?"seq":(K(Q,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(q,$)},U.prototype.initFromNode=function(oe,Q,q,$){I.prototype.initFromNode.call(this,oe,null,Q,$),C.prototype.initFromNode.call(this,oe,null,Q,$),S.prototype.initFromNode.call(this,oe,null,Q,$),D.prototype.initFromNode.call(this,oe,null,Q,$),L.prototype.initFromNode.call(this,oe,null,Q,$),this.lang=q},z.prototype.initFromNode=function(oe,Q,q,$,ie){I.prototype.initFromNode.call(this,oe,Q,q,ie),C.prototype.initFromNode.call(this,oe,Q,q,ie),S.prototype.initFromNode.call(this,oe,Q,q,ie),D.prototype.initFromNode.call(this,oe,Q,q,ie),L.prototype.initFromNode.call(this,oe,Q,q,ie),this.lang=$},ne.prototype.initFromNode=function(oe,Q,q,$,ie){I.prototype.initFromNode.call(this,oe,Q,q,ie),C.prototype.initFromNode.call(this,oe,Q,q,ie),S.prototype.initFromNode.call(this,oe,Q,q,ie),D.prototype.initFromNode.call(this,oe,Q,q,ie),L.prototype.initFromNode.call(this,oe,Q,q,ie),this.lang=$},te.prototype.initFromNode=function(oe,Q,q,$,ie,Z){I.prototype.initFromNode.call(this,oe,Q,q,Z),C.prototype.initFromNode.call(this,oe,Q,q,Z),S.prototype.initFromNode.call(this,oe,Q,q,Z),D.prototype.initFromNode.call(this,oe,Q,q,Z),L.prototype.initFromNode.call(this,oe,Q,q,Z),this.space=ie,this.lang=$},Me.prototype.initFromText=function(oe,Q,q,$,ie,Z){C.prototype.initFromNode.call(this,oe,Q,null,Z),this.text=q,this.space=ie,this.lang=$},J.prototype.initFromNode=function(oe,Q,q,$,ie){D.prototype.initFromNode.call(this,oe,Q,q,ie),C.prototype.initFromNode.call(this,oe,Q,q,ie),this.lang=$},ce.prototype.createDefaultRegion=function(oe){var Q=new ce;return O.call(Q,""),I.call(Q,{}),S.call(Q,[]),C.call(Q,0,Number.POSITIVE_INFINITY,null),this.lang=oe,Q},ce.prototype.initFromNode=function(oe,Q,q,$){O.prototype.initFromNode.call(this,oe,null,Q,$),C.prototype.initFromNode.call(this,oe,null,Q,$),S.prototype.initFromNode.call(this,oe,null,Q,$),this.styleAttrs=Ve(Q,$),this.styleRefs=xe(Q),this.lang=q},W.prototype.initFromNode=function(oe,Q,q,$){C.prototype.initFromNode.call(this,oe,Q,q,$);var ie=Ve(q,$);for(var Z in this.qname=null,this.value=null,ie)if(ie.hasOwnProperty(Z)){if(this.qname){K($,"More than one style specified on set");break}this.qname=Z,this.value=ie[Z]}}}(v,typeof sax>"u"?e(
/*! sax */
"./node_modules/sax/lib/sax.js"):sax,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?e(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/html.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/html.js ***!
                  \***********************************************/
/*! no static exports found */function(Xe,v,e){!function(n,b,A){function _(J,ce,W,Se){var le;if("region"===W.kind)(le=document.createElement("div")).style.position="absolute";else if("body"===W.kind)le=document.createElement("div");else if("div"===W.kind)le=document.createElement("div");else if("image"===W.kind){if(le=document.createElement("img"),null!==J.imgResolver&&null!==W.src){var Ee=J.imgResolver(W.src,le);Ee&&(le.src=Ee),le.height=J.regionH,le.width=J.regionW}}else if("p"===W.kind)le=document.createElement("p");else if("span"===W.kind)if("container"===W.styleAttrs[A.byName.ruby.qname])le=document.createElement("ruby"),J.ruby=!0;else if("base"===W.styleAttrs[A.byName.ruby.qname])le=document.createElement("rb");else if("text"===W.styleAttrs[A.byName.ruby.qname])le=document.createElement("rt");else if("baseContainer"===W.styleAttrs[A.byName.ruby.qname])le=document.createElement("rbc");else if("textContainer"===W.styleAttrs[A.byName.ruby.qname])le=document.createElement("rtc");else{if("delimiter"===W.styleAttrs[A.byName.ruby.qname])return;le=document.createElement("span")}else"br"===W.kind&&(le=document.createElement("br"));if(le){if(W.lang&&("region"===W.kind||W.lang!==Se.lang)&&(le.lang=W.lang),ce.appendChild(le),le.style.margin="0","region"===W.kind){var xe=W.styleAttrs[A.byName.writingMode.qname];"lrtb"===xe||"lr"===xe?(J.ipd="lr",J.bpd="tb"):"rltb"===xe||"rl"===xe?(J.ipd="rl",J.bpd="tb"):"tblr"===xe?(J.ipd="tb",J.bpd="lr"):("tbrl"===xe||"tb"===xe)&&(J.ipd="tb",J.bpd="rl")}else"p"===W.kind&&"tb"===J.bpd&&(J.ipd="ltr"===W.styleAttrs[A.byName.direction.qname]?"lr":"rl");for(var fe=0;fe<S.length;fe++){var Pe=S[fe],Ce=W.styleAttrs[Pe.qname];void 0!==Ce&&null!==Pe.map&&Pe.map(J,le,W,Ce)}var me=le,De=W.styleAttrs[A.byName.linePadding.qname];if(De&&!De.isZero()){var Re=De.toUsedLength(J.w,J.h);if(Re>0){var Fe=Math.ceil(Re)+"px";"tb"===J.bpd?(me.style.paddingLeft=Fe,me.style.paddingRight=Fe):(me.style.paddingTop=Fe,me.style.paddingBottom=Fe),J.lp=De}}var Ne=W.styleAttrs[A.byName.multiRowAlign.qname];if(Ne&&"auto"!==Ne){var at=document.createElement("span");at.style.display="inline-block",at.style.textAlign=Ne,le.appendChild(at),me=at,J.mra=Ne}var Be=W.styleAttrs[A.byName.rubyReserve.qname];if(Be&&"none"!==Be[0]&&(J.rubyReserve=Be),W.styleAttrs[A.byName.fillLineGap.qname]&&(J.flg=!0),"span"===W.kind&&W.text){var ye=W.styleAttrs[A.byName.textEmphasis.qname];if(ye&&"none"!==ye.style&&(J.textEmphasis=!0),A.byName.textCombine.qname in W.styleAttrs&&"all"===W.styleAttrs[A.byName.textCombine.qname])le.textContent=W.text,ye&&D(J,le,0,ye);else for(var ve="",K=0;K<W.text.length;K++){ve+=W.text.charAt(K);var se=W.text.charCodeAt(K);if(se<55296||se>56319||K===W.text.length-1){var ge=document.createElement("span");ge.textContent=ve,ye&&D(J,ge,0,ye),le.appendChild(ge),ve="",ge._isd_element=W}}}if("contents"in W)for(var oe=0;oe<W.contents.length;oe++)_(J,me,W.contents[oe],W);var Q=[];if("p"===W.kind&&(F(J,me,Q,null),J.rubyReserve&&(function T(J,ce){for(var W=0;W<J.length;W++){var Se=document.createElement("ruby"),le=document.createElement("rb");le.textContent="\u200b",Se.appendChild(le);var Ee,xe,Ve=ce.rubyReserve[1].toUsedLength(ce.w,ce.h)+"px";"both"===ce.rubyReserve[0]||"outside"===ce.rubyReserve[0]&&1==J.length?((Ee=document.createElement("rtc")).style[z]=U?"after":"under",Ee.textContent="\u200b",Ee.style.fontSize=Ve,(xe=document.createElement("rtc")).style[z]=U?"before":"over",xe.textContent="\u200b",xe.style.fontSize=Ve,Se.appendChild(Ee),Se.appendChild(xe)):((Ee=document.createElement("rtc")).textContent="\u200b",Ee.style.fontSize=Ve,Ee.style[z]="after"===ce.rubyReserve[0]||"outside"===ce.rubyReserve[0]&&W>0?U?"after":"tb"===ce.bpd||"rl"===ce.bpd?"under":"over":U?"before":"tb"===ce.bpd||"rl"===ce.bpd?"over":"under",Se.appendChild(Ee));for(var Pe=null,Ce=0;Ce<J[W].rbc.length;Ce++)if("ruby"===J[W].rbc[Ce].localName){Pe=J[W].rbc[Ce];for(var me=0;me<Pe.style.length;me++)Se.style.setProperty(Pe.style.item(me),Pe.style.getPropertyValue(Pe.style.item(me)));break}(Pe=Pe||J[W].elements[0].node).parentElement.insertBefore(Se,Pe)}}(Q,J),J.rubyReserve=null),(J.ruby||J.rubyReserve)&&(function p(J,ce){for(var W=0;W<J.length;W++)for(var Se=0;Se<J[W].rbc.length;Se++)J[W].rbc[Se].style[z]||(J[W].rbc[Se].style[z]=U?0===W?"before":"after":"tb"===ce.bpd||"rl"===ce.bpd?0===W?"over":"under":0===W?"under":"over")}(Q,J),J.ruby=null),J.textEmphasis&&(function h(J,ce){for(var W=0;W<J.length;W++)for(var Se=0;Se<J[W].te.length;Se++)J[W].te[Se].style[te]&&"none"!==J[W].te[Se].style[te]||(J[W].te[Se].style[te]="tb"===ce.bpd?0===W?"left over":"left under":"rl"===ce.bpd?0===W?"right under":"left under":0===W?"left under":"right under")}(Q,J),J.textEmphasis=null),J.mra&&(function i(J){for(var ce=0;ce<J.length-1;ce++){var W=J[ce].elements.length;if(0!==W&&!1===J[ce].br){var Se=document.createElement("br"),le=J[ce].elements[W-1].node;le.parentElement.insertBefore(Se,le.nextSibling)}}}(Q),J.mra=null),J.lp&&(function d(J,ce,W){if(null!==J)for(var Se=0;Se<J.length;Se++){var le=J[Se].elements.length,Ee=Math.ceil(ce)+"px",xe="-"+Math.ceil(ce)+"px";if(0!==le){var Ve=J[Se].elements[J[Se].start_elem],fe=J[Se].elements[J[Se].end_elem];if(Ve===fe&&(elementBoundingRect=Ve.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===W.ipd?(Ve.node.style.marginLeft=xe,Ve.node.style.paddingLeft=Ee):"rl"===W.ipd?(Ve.node.style.paddingRight=Ee,Ve.node.style.marginRight=xe):"tb"===W.ipd&&(Ve.node.style.paddingTop=Ee,Ve.node.style.marginTop=xe),"lr"===W.ipd?(fe.node.style.marginRight=xe,fe.node.style.paddingRight=Ee):"rl"===W.ipd?(fe.node.style.paddingLeft=Ee,fe.node.style.marginLeft=xe):"tb"===W.ipd&&(fe.node.style.paddingBottom=Ee,fe.node.style.marginBottom=xe)}}}(Q,J.lp.toUsedLength(J.w,J.h),J),J.lp=null),function x(J){for(var ce=0;ce<J.length;ce++)for(var W=J[ce],Se=1;Se<W.elements.length;)g(W.elements[Se-1].node,W.elements[Se].node)?W.elements.splice(Se,1):Se++;for(var xe,Ve,fe=[],Pe=0;Pe<J.length;Pe++)for(var Ce=0;Ce<J[Pe].elements.length;Ce++)(Ve=w(xe=J[Pe].elements[Ce].node,fe,!1))&&(xe.style.backgroundColor=Ve);for(var me=0;me<fe.length;me++)fe[me].style.backgroundColor=""}(Q),J.flg)){var q=k(me.getBoundingClientRect(),J);(function B(J,ce,W,Se,le){for(var Ee=Math.sign(W-ce),xe=0;xe<=J.length;xe++){var Ve,fe,Pe,Ce;if(Ve=0===xe?Math.round(ce):xe===J.length?Math.round(W):Math.round((J[xe-1].after+J[xe].before)/2),xe>0&&J[xe-1])for(Pe=0;Pe<J[xe-1].elements.length;Pe++)fe=Ee*(Ve-(Ce=J[xe-1].elements[Pe]).after)+"px","lr"===Se.bpd?Ce.node.style.paddingRight=fe:"rl"===Se.bpd?Ce.node.style.paddingLeft=fe:"tb"===Se.bpd&&(Ce.node.style.paddingBottom=fe);if(xe<J.length)for(Pe=0;Pe<J[xe].elements.length;Pe++)fe=Ee*((Ce=J[xe].elements[Pe]).before-Ve)+"px","lr"===Se.bpd?Ce.node.style.paddingLeft=fe:"rl"===Se.bpd?Ce.node.style.paddingRight=fe:"tb"===Se.bpd&&(Ce.node.style.paddingTop=fe)}})(Q,q.before,q.after,J),J.flg=null}if("region"===W.kind&&"tb"===J.bpd&&J.enableRollUp&&W.contents.length>0&&"after"===W.styleAttrs[A.byName.displayAlign.qname]){F(J,me,Q,null);var ie=new P(""===W.id?"_":W.id,Q);if(J.currentISDState[ie.id]=ie,J.previousISDState&&ie.id in J.previousISDState&&J.previousISDState[ie.id].plist.length>0&&ie.plist.length>1&&ie.plist[ie.plist.length-2].text===J.previousISDState[ie.id].plist[J.previousISDState[ie.id].plist.length-1].text){var Z=le.firstElementChild,X=ie.plist[ie.plist.length-1].after-ie.plist[ie.plist.length-1].before;Z.style.bottom="-"+X+"px",Z.style.transition="transform 0.4s",Z.style.position="relative",Z.style.transform="translateY(-"+X+"px)"}}}else!function Me(J,ce){if(J&&J.error&&J.error(ce))throw ce}(J.errorHandler,"Error processing ISD element kind: "+W.kind)}function w(J,ce,W){return J.style.backgroundColor?(W&&!ce.includes(J)&&ce.push(J),J.style.backgroundColor):"SPAN"===J.parentElement.nodeName?w(J.parentElement,ce,!0):void 0}function g(J,ce){if("SPAN"===J.tagName&&"SPAN"===ce.tagName&&J._isd_element===ce._isd_element){J.textContent+=ce.textContent;for(var W=0;W<ce.style.length;W++){var Se=ce.style[W];(Se.indexOf("border")>=0||Se.indexOf("padding")>=0||Se.indexOf("margin")>=0)&&(J.style[Se]=ce.style[Se])}return ce.parentElement.removeChild(ce),!0}return!1}function P(J,ce){this.id=J,this.plist=ce}function k(J,ce){var W={before:null,after:null,start:null,end:null};return"tb"===ce.bpd?(W.before=J.top,W.after=J.bottom,"lr"===ce.ipd?(W.start=J.left,W.end=J.right):(W.start=J.right,W.end=J.left)):"lr"===ce.bpd?(W.before=J.left,W.after=J.right,W.start=J.top,W.end=J.bottom):"rl"===ce.bpd&&(W.before=J.right,W.after=J.left,W.start=J.top,W.end=J.bottom),W}function F(J,ce,W,Se){if("rt"!==ce.localName&&"rtc"!==ce.localName){var le=ce.style.backgroundColor||Se;if(0===ce.childElementCount)if("span"===ce.localName||"rb"===ce.localName){var xe=k(ce.getBoundingClientRect(),J);if(0!==W.length&&function O(J,ce,W,Se){return ce<Se&&J>W||Se<=ce&&W>=J}(xe.before,xe.after,W[W.length-1].before,W[W.length-1].after)){var Ve=Math.sign(xe.after-xe.before),fe=Math.sign(xe.end-xe.start);Ve*(xe.before-W[W.length-1].before)<0&&(W[W.length-1].before=xe.before),Ve*(xe.after-W[W.length-1].after)>0&&(W[W.length-1].after=xe.after),fe*(xe.start-W[W.length-1].start)<0&&(W[W.length-1].start=xe.start,W[W.length-1].start_elem=W[W.length-1].elements.length),fe*(xe.end-W[W.length-1].end)>0&&(W[W.length-1].end=xe.end,W[W.length-1].end_elem=W[W.length-1].elements.length)}else W.push({before:xe.before,after:xe.after,start:xe.start,end:xe.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});W[W.length-1].text+=ce.textContent,W[W.length-1].elements.push({node:ce,bgcolor:le,before:xe.before,after:xe.after})}else"br"===ce.localName&&0!==W.length&&(W[W.length-1].br=!0);else for(var Pe=ce.firstChild;Pe;)Pe.nodeType===Node.ELEMENT_NODE&&(F(J,Pe,W,le),"ruby"===Pe.localName||"rtc"===Pe.localName?W.length>0&&W[W.length-1].rbc.push(Pe):"span"===Pe.localName&&Pe.style[ne]&&"none"!==Pe.style[ne]&&W.length>0&&W[W.length-1].te.push(Pe)),Pe=Pe.nextSibling}}function D(J,ce,W,Se){"none"!==Se.style&&(ce.style[ne]="auto"===Se.style?"filled":Se.style+" "+Se.symbol,"before"===Se.position||"after"===Se.position)&&(ce.style[te]="tb"===J.bpd?"before"===Se.position?"left over":"left under":"rl"===J.bpd?"before"===Se.position?"right under":"left under":"before"===Se.position?"left under":"right under")}function I(J,ce){this.qname=J,this.map=ce}n.render=function(J,ce,W,Se,le,Ee,xe,Ve,fe){var Pe=Se||ce.clientHeight,Ce=le||ce.clientWidth;if(null!==J.aspectRatio){var me=Pe*J.aspectRatio;me>Ce?Pe=Math.round(Ce/J.aspectRatio):Ce=me}var De=document.createElement("div");De.style.position="relative",De.style.width=Ce+"px",De.style.height=Pe+"px",De.style.margin="auto",De.style.top=0,De.style.bottom=0,De.style.left=0,De.style.right=0,De.style.zIndex=0;var Re={h:Pe,w:Ce,regionH:null,regionW:null,imgResolver:W,displayForcedOnlyMode:Ee||!1,isd:J,errorHandler:xe,previousISDState:Ve,enableRollUp:fe||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(ce.appendChild(De),"contents"in J)for(var Fe=0;Fe<J.contents.length;Fe++)_(Re,De,J.contents[Fe],J);return Re.currentISDState};for(var S=[new I("http://www.w3.org/ns/ttml#styling backgroundColor",function(J,ce,W,Se){0!==Se[3]&&(ce.style.backgroundColor="rgba("+Se[0].toString()+","+Se[1].toString()+","+Se[2].toString()+","+(Se[3]/255).toString()+")")}),new I("http://www.w3.org/ns/ttml#styling color",function(J,ce,W,Se){ce.style.color="rgba("+Se[0].toString()+","+Se[1].toString()+","+Se[2].toString()+","+(Se[3]/255).toString()+")"}),new I("http://www.w3.org/ns/ttml#styling direction",function(J,ce,W,Se){ce.style.direction=Se}),new I("http://www.w3.org/ns/ttml#styling display",function(J,ce,W,Se){}),new I("http://www.w3.org/ns/ttml#styling displayAlign",function(J,ce,W,Se){ce.style.display="flex",ce.style.flexDirection="column","before"===Se?ce.style.justifyContent="flex-start":"center"===Se?ce.style.justifyContent="center":"after"===Se&&(ce.style.justifyContent="flex-end")}),new I("http://www.w3.org/ns/ttml#styling extent",function(J,ce,W,Se){J.regionH=Se.h.toUsedLength(J.w,J.h),J.regionW=Se.w.toUsedLength(J.w,J.h);var le=0,Ee=0,xe=W.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];xe&&(le=xe[0].toUsedLength(J.w,J.h)+xe[2].toUsedLength(J.w,J.h),Ee=xe[1].toUsedLength(J.w,J.h)+xe[3].toUsedLength(J.w,J.h)),ce.style.height=J.regionH-le+"px",ce.style.width=J.regionW-Ee+"px"}),new I("http://www.w3.org/ns/ttml#styling fontFamily",function(J,ce,W,Se){for(var le=[],Ee=0;Ee<Se.length;Ee++)"monospaceSerif"===Se[Ee]?(le.push("Courier New"),le.push('"Liberation Mono"'),le.push("Courier"),le.push("monospace")):"proportionalSansSerif"===Se[Ee]?(le.push("Arial"),le.push("Helvetica"),le.push('"Liberation Sans"'),le.push("sans-serif")):"monospace"===Se[Ee]?le.push("monospace"):"sansSerif"===Se[Ee]?le.push("sans-serif"):"serif"===Se[Ee]?le.push("serif"):"monospaceSansSerif"===Se[Ee]?(le.push("Consolas"),le.push("monospace")):le.push("proportionalSerif"===Se[Ee]?"serif":Se[Ee]);if(le.length>0){for(var xe=[le[0]],Ve=1;Ve<le.length;Ve++)-1==xe.indexOf(le[Ve])&&xe.push(le[Ve]);le=xe}ce.style.fontFamily=le.join(",")}),new I("http://www.w3.org/ns/ttml#styling shear",function(J,ce,W,Se){if(0!==Se){var le=-.9*Se;ce.style.transform="tb"===J.bpd?"skewX("+le+"deg)":"skewY("+le+"deg)"}}),new I("http://www.w3.org/ns/ttml#styling fontSize",function(J,ce,W,Se){ce.style.fontSize=Se.toUsedLength(J.w,J.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling fontStyle",function(J,ce,W,Se){ce.style.fontStyle=Se}),new I("http://www.w3.org/ns/ttml#styling fontWeight",function(J,ce,W,Se){ce.style.fontWeight=Se}),new I("http://www.w3.org/ns/ttml#styling lineHeight",function(J,ce,W,Se){ce.style.lineHeight="normal"===Se?"normal":Se.toUsedLength(J.w,J.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling opacity",function(J,ce,W,Se){ce.style.opacity=Se}),new I("http://www.w3.org/ns/ttml#styling origin",function(J,ce,W,Se){ce.style.top=Se.h.toUsedLength(J.w,J.h)+"px",ce.style.left=Se.w.toUsedLength(J.w,J.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling overflow",function(J,ce,W,Se){ce.style.overflow=Se}),new I("http://www.w3.org/ns/ttml#styling padding",function(J,ce,W,Se){var le=[];le[0]=Se[0].toUsedLength(J.w,J.h)+"px",le[1]=Se[3].toUsedLength(J.w,J.h)+"px",le[2]=Se[2].toUsedLength(J.w,J.h)+"px",le[3]=Se[1].toUsedLength(J.w,J.h)+"px",ce.style.padding=le.join(" ")}),new I("http://www.w3.org/ns/ttml#styling position",function(J,ce,W,Se){ce.style.top=Se.h.toUsedLength(J.w,J.h)+"px",ce.style.left=Se.w.toUsedLength(J.w,J.h)+"px"}),new I("http://www.w3.org/ns/ttml#styling rubyAlign",function(J,ce,W,Se){ce.style.rubyAlign="spaceAround"===Se?"space-around":"center"}),new I("http://www.w3.org/ns/ttml#styling rubyPosition",function(J,ce,W,Se){"before"!==Se&&"after"!==Se||(ce.parentElement.style[z]=U?Se:"tb"===J.bpd||"rl"===J.bpd?"before"===Se?"over":"under":"before"===Se?"under":"over")}),new I("http://www.w3.org/ns/ttml#styling showBackground",null),new I("http://www.w3.org/ns/ttml#styling textAlign",function(J,ce,W,Se){ce.style.textAlign="start"===Se?"rl"===J.ipd?"right":"left":"end"===Se?"rl"===J.ipd?"left":"right":Se}),new I("http://www.w3.org/ns/ttml#styling textDecoration",function(J,ce,W,Se){ce.style.textDecoration=Se.join(" ").replace("lineThrough","line-through")}),new I("http://www.w3.org/ns/ttml#styling textOutline",function(J,ce,W,Se){}),new I("http://www.w3.org/ns/ttml#styling textShadow",function(J,ce,W,Se){var le=W.styleAttrs[A.byName.textOutline.qname];if("none"===Se&&"none"===le)ce.style.textShadow="";else{var Ee=[];if("none"!==le){var xe="rgba("+le.color[0].toString()+","+le.color[1].toString()+","+le.color[2].toString()+","+(le.color[3]/255).toString()+")";Ee.push("1px 1px 1px "+xe),Ee.push("-1px 1px 1px "+xe),Ee.push("1px -1px 1px "+xe),Ee.push("-1px -1px 1px "+xe)}if("none"!==Se)for(var Ve=0;Ve<Se.length;Ve++)Ee.push(Se[Ve].x_off.toUsedLength(J.w,J.h)+"px "+Se[Ve].y_off.toUsedLength(J.w,J.h)+"px "+Se[Ve].b_radius.toUsedLength(J.w,J.h)+"px rgba("+Se[Ve].color[0].toString()+","+Se[Ve].color[1].toString()+","+Se[Ve].color[2].toString()+","+(Se[Ve].color[3]/255).toString()+")");ce.style.textShadow=Ee.join(",")}}),new I("http://www.w3.org/ns/ttml#styling textCombine",function(J,ce,W,Se){ce.style.textCombineUpright=Se}),new I("http://www.w3.org/ns/ttml#styling textEmphasis",function(J,ce,W,Se){}),new I("http://www.w3.org/ns/ttml#styling unicodeBidi",function(J,ce,W,Se){ce.style.unicodeBidi="bidiOverride"===Se?"bidi-override":Se}),new I("http://www.w3.org/ns/ttml#styling visibility",function(J,ce,W,Se){ce.style.visibility=Se}),new I("http://www.w3.org/ns/ttml#styling wrapOption",function(J,ce,W,Se){ce.style.whiteSpace="wrap"===Se?"preserve"===W.space?"pre-wrap":"normal":"preserve"===W.space?"pre":"noWrap"}),new I("http://www.w3.org/ns/ttml#styling writingMode",function(J,ce,W,Se){"lrtb"===Se||"lr"===Se||"rltb"===Se||"rl"===Se?ce.style.writingMode="horizontal-tb":"tblr"===Se?ce.style.writingMode="vertical-lr":("tbrl"===Se||"tb"===Se)&&(ce.style.writingMode="vertical-rl")}),new I("http://www.w3.org/ns/ttml#styling zIndex",function(J,ce,W,Se){ce.style.zIndex=Se}),new I("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(J,ce,W,Se){J.displayForcedOnlyMode&&!1===Se&&(ce.style.visibility="hidden")})],L={},C=0;C<S.length;C++)L[S[C].qname]=S[C];var U="webkitRubyPosition"in window.getComputedStyle(document.documentElement),z=U?"webkitRubyPosition":"rubyPosition",ne="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",te="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(v,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?e(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/isd.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/isd.js ***!
                  \**********************************************/
/*! no static exports found */function(Xe,v,e){!function(n,b,A,_){n.generateISD=function(F,O,D){var L,I=new h(F),S={},C={},U=F.head.styling.initials[A.byName.showBackground.qname],z=F.head.styling.initials[A.byName.backgroundColor.qname];for(var ne in F.head.layout.regions)if(F.head.layout.regions.hasOwnProperty(ne)){var te=F.head.layout.regions[ne],Me=te.styleAttrs[A.byName.showBackground.qname]||U;C[te.id]=("always"===Me||void 0===Me)&&void 0!==(te.styleAttrs[A.byName.backgroundColor.qname]||z)&&!(O<te.begin||O>=te.end)}for(var W in F.body&&F.body.regionID&&(C[F.body.regionID]=!0),L=null!==F.body?function ce(le,Ee){if(Ee.contents){var Ve={};for(var fe in Ee)Ee.hasOwnProperty(fe)&&(Ve[fe]=Ee[fe]);return Ve.contents=[],Ee.contents.filter(function xe(Pe){return!(le<Pe.begin||le>=Pe.end)}).forEach(function(Pe){var Ce=ce(le,Pe);Ce.regionID&&(C[Ce.regionID]=!0),null!==Ce&&Ve.contents.push(Ce)}),Ve}return Ee}(O,F.body):null,void 0!==C[""]&&(C[""]=!0),C)if(C[W]){var Se=w(F,O,F.head.layout.regions[W],L,null,"",F.head.layout.regions[W],D,S);null!==Se&&I.contents.push(Se.element)}return I};var x=[A.byName.color.qname,A.byName.textCombine.qname,A.byName.textDecoration.qname,A.byName.textEmphasis.qname,A.byName.textOutline.qname,A.byName.textShadow.qname];function w(F,O,D,I,S,L,C,U,z){if(O<C.begin||O>=C.end)return null;var ne="regionID"in C&&""!==C.regionID?C.regionID:L;if(null!==S&&ne!==D.id&&(!("contents"in C)||"contents"in C&&0===C.contents.length||""!==ne))return null;var te=new p(C);if("sets"in C)for(var Me=0;Me<C.sets.length;Me++)O<C.sets[Me].begin||O>=C.sets[Me].end||(te.styleAttrs[C.sets[Me].qname]=C.sets[Me].value);var J={};for(var ce in te.styleAttrs)if(te.styleAttrs.hasOwnProperty(ce)&&(J[ce]=!0,"region"===te.kind&&ce===A.byName.writingMode.qname&&!(A.byName.direction.qname in te.styleAttrs))){var W=te.styleAttrs[ce];"lrtb"===W||"lr"===W?te.styleAttrs[A.byName.direction.qname]="ltr":("rltb"===W||"rl"===W)&&(te.styleAttrs[A.byName.direction.qname]="rtl")}if(null!==S)for(var Se=0;Se<A.all.length;Se++){var le=A.all[Se];if(le.qname===A.byName.textDecoration.qname){var Ee=S.styleAttrs[le.qname],xe=te.styleAttrs[le.qname],Ve=[];void 0===xe?Ve=Ee:-1===xe.indexOf("none")?((-1===xe.indexOf("noUnderline")&&-1!==Ee.indexOf("underline")||-1!==xe.indexOf("underline"))&&Ve.push("underline"),(-1===xe.indexOf("noLineThrough")&&-1!==Ee.indexOf("lineThrough")||-1!==xe.indexOf("lineThrough"))&&Ve.push("lineThrough"),(-1===xe.indexOf("noOverline")&&-1!==Ee.indexOf("overline")||-1!==xe.indexOf("overline"))&&Ve.push("overline")):Ve.push("none"),te.styleAttrs[le.qname]=Ve}else if(le.qname!==A.byName.fontSize.qname||le.qname in te.styleAttrs||"span"!==te.kind||"textContainer"!==te.styleAttrs[A.byName.ruby.qname])if(le.qname!==A.byName.fontSize.qname||le.qname in te.styleAttrs||"span"!==te.kind||"text"!==te.styleAttrs[A.byName.ruby.qname])le.inherit&&le.qname in S.styleAttrs&&!(le.qname in te.styleAttrs)&&(te.styleAttrs[le.qname]=S.styleAttrs[le.qname]);else{var Pe=S.styleAttrs[A.byName.fontSize.qname];te.styleAttrs[le.qname]="textContainer"===S.styleAttrs[A.byName.ruby.qname]?Pe:new _.ComputedLength(.5*Pe.rw,.5*Pe.rh)}else{var fe=S.styleAttrs[A.byName.fontSize.qname];te.styleAttrs[le.qname]=new _.ComputedLength(.5*fe.rw,.5*fe.rh)}}for(var Ce=0;Ce<A.all.length;Ce++){var me=A.all[Ce];if(!(me.qname in te.styleAttrs||me.qname===A.byName.position.qname&&A.byName.origin.qname in te.styleAttrs||me.qname===A.byName.origin.qname&&A.byName.position.qname in te.styleAttrs)){var De=F.head.styling.initials[me.qname]||me.initial;if(null!==De&&("region"===te.kind||!1===me.inherit&&null!==De)){var Re=me.parse(De);null!==Re?(te.styleAttrs[me.qname]=Re,J[me.qname]=!0):P(U,"Invalid initial value for '"+me.qname+"' on element '"+te.kind)}}}for(var Fe=0;Fe<A.all.length;Fe++){var Ne=A.all[Fe];if(Ne.qname in J&&null!==Ne.compute){var at=Ne.compute(F,S,te,te.styleAttrs[Ne.qname],z);null!==at?te.styleAttrs[Ne.qname]=at:(te.styleAttrs[Ne.qname]=Ne.compute(F,S,te,Ne.parse(Ne.initial),z),P(U,"Style '"+Ne.qname+"' on element '"+te.kind+"' cannot be computed"))}}if("none"===te.styleAttrs[A.byName.display.qname])return null;var Be=null;null===S?Be=null===I?[]:[I]:"contents"in C&&(Be=C.contents);for(var ye=0;null!==Be&&ye<Be.length;ye++){var ve=w(F,O,D,I,te,ne,Be[ye],U,z);null!==ve&&te.contents.push(ve.element)}for(var K in te.styleAttrs)if(te.styleAttrs.hasOwnProperty(K)){var se=!1;if("span"===te.kind){var ge=te.styleAttrs[A.byName.ruby.qname];(se=("container"===ge||"textContainer"===ge||"baseContainer"===ge)&&-1!==x.indexOf(K))||(se="container"!==ge&&K===A.byName.rubyAlign.qname),se||(se=!("textContainer"===ge||"text"===ge)&&K===A.byName.rubyPosition.qname)}if(!se){var oe=A.byQName[K];"applies"in oe&&(se=-1===oe.applies.indexOf(te.kind))}se&&delete te.styleAttrs[K]}var Q=te.styleAttrs[A.byName.ruby.qname];if("p"===te.kind||"span"===te.kind&&("textContainer"===Q||"text"===Q)){var q=[];d(te,q),function g(F){function O(C){return"br"===C.kind||/[\r\n\t ]$/.test(C.text)}function D(C){return"br"===C.kind||"preserve"===C.space&&/^[\r\n]/.test(C.text)}for(var I,S=0;S<F.length;)if("br"!==(I=F[S]).kind&&"preserve"!==I.space){var L=I.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(L)&&(0===S||O(F[S-1]))&&(L=L.substring(1)),I.text=L,0===L.length?F.splice(S,1):S++}else S++;for(S=0;S<F.length;S++)"br"!==(I=F[S]).kind&&"preserve"!==I.space?/[ ]$/.test(I.text)&&(S===F.length-1||D(F[S+1]))&&(I.text=I.text.slice(0,-1)):S++}(q),i(te)}return"div"===te.kind&&A.byName.backgroundImage.qname in te.styleAttrs||"br"===te.kind||"image"===te.kind||"contents"in te&&te.contents.length>0||"span"===te.kind&&null!==te.text||"region"===te.kind&&"always"===te.styleAttrs[A.byName.showBackground.qname]?{region_id:ne,element:te}:null}function d(F,O){if("contents"in F)for(var D=0;D<F.contents.length;D++){var I=F.contents[D],S=I.styleAttrs[A.byName.ruby.qname];"span"===I.kind&&("textContainer"===S||"text"===S)||("contents"in I?d(I,O):("span"===I.kind&&0!==I.text.length||"br"===I.kind)&&O.push(I))}}function i(F){if("br"===F.kind)return!1;if("text"in F)return 0===F.text.length;if("contents"in F){for(var O=F.contents.length;O--;)i(F.contents[O])&&F.contents.splice(O,1);return 0===F.contents.length}}function h(F){this.contents=[],this.aspectRatio=F.aspectRatio,this.lang=F.lang}function p(F){for(var O in this.kind=F.kind||"region",this.lang=F.lang,F.id&&(this.id=F.id),this.styleAttrs={},F.styleAttrs)F.styleAttrs.hasOwnProperty(O)&&(this.styleAttrs[O]=F.styleAttrs[O]);"src"in F&&(this.src=F.src),"type"in F&&(this.type=F.type),"text"in F?this.text=F.text:("region"===this.kind||"contents"in F)&&(this.contents=[]),"space"in F&&(this.space=F.space)}function P(F,O){if(F&&F.error&&F.error(O))throw O}}(v,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?e(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/main.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/main.js ***!
                  \***********************************************/
/*! no static exports found */function(Xe,v,e){v.generateISD=e(
/*! ./isd */
"./node_modules/imsc/src/main/js/isd.js").generateISD,v.fromXML=e(
/*! ./doc */
"./node_modules/imsc/src/main/js/doc.js").fromXML,v.renderHTML=e(
/*! ./html */
"./node_modules/imsc/src/main/js/html.js").render},"./node_modules/imsc/src/main/js/names.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/names.js ***!
                  \************************************************/
/*! no static exports found */function(Xe,v,e){var n;(n=v).ns_tt="http://www.w3.org/ns/ttml",n.ns_tts="http://www.w3.org/ns/ttml#styling",n.ns_ttp="http://www.w3.org/ns/ttml#parameter",n.ns_xml="http://www.w3.org/XML/1998/namespace",n.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",n.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",n.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",n.ns_ebutts="urn:ebu:tt:style"},"./node_modules/imsc/src/main/js/styles.js":
/*!*************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/styles.js ***!
                  \*************************************************/
/*! no static exports found */function(Xe,v,e){!function(n,b,A){function _(g,d,i,h,p,T,B,P){this.name=d,this.ns=g,this.qname=g+" "+d,this.inherit=p,this.animatable=T,this.initial=i,this.applies=h,this.parse=B,this.compute=P}for(var x in n.all=[new _(b.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,A.parseColor,null),new _(b.ns_tts,"color","white",["span"],!0,!0,A.parseColor,null),new _(b.ns_tts,"direction","ltr",["p","span"],!0,!0,function(g){return g},null),new _(b.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(g){return g},null),new _(b.ns_tts,"displayAlign","before",["region"],!1,!0,function(g){return g},null),new _(b.ns_tts,"extent","auto",["tt","region"],!1,!0,function(g){if("auto"===g)return g;var d=g.split(" ");if(2!==d.length)return null;var i=A.parseLength(d[0]),h=A.parseLength(d[1]);return h&&i?{h,w:i}:null},function(g,d,i,h,p){var T,B;if("auto"===h)T=new A.ComputedLength(0,1);else if(null===(T=A.toComputedLength(h.h.value,h.h.unit,null,g.dimensions.h,null,g.pxLength.h)))return null;if("auto"===h)B=new A.ComputedLength(1,0);else if(null===(B=A.toComputedLength(h.w.value,h.w.unit,null,g.dimensions.w,null,g.pxLength.w)))return null;return{h:T,w:B}}),new _(b.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(g){for(var d=g.split(","),i=[],h=0;h<d.length;h++)"'"!==d[h].charAt(0)&&'"'!==d[h].charAt(0)&&"default"===d[h]?i.push("monospaceSerif"):i.push(d[h]);return i},null),new _(b.ns_tts,"shear","0%",["p"],!0,!0,A.parseLength,function(g,d,i,h){return"%"!==h.unit?null:Math.abs(h.value)>100?100*Math.sign(h.value):h.value}),new _(b.ns_tts,"fontSize","1c",["span","p"],!0,!0,A.parseLength,function(g,d,i,h,p){return A.toComputedLength(h.value,h.unit,null!==d?d.styleAttrs[n.byName.fontSize.qname]:g.cellLength.h,null!==d?d.styleAttrs[n.byName.fontSize.qname]:g.cellLength.h,g.cellLength.h,g.pxLength.h)}),new _(b.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(g){return g},null),new _(b.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(g){return g},null),new _(b.ns_tts,"lineHeight","normal",["p"],!0,!0,function(g){return"normal"===g?g:A.parseLength(g)},function(g,d,i,h,p){var T;if("normal"===h)T=h;else if(null===(T=A.toComputedLength(h.value,h.unit,i.styleAttrs[n.byName.fontSize.qname],i.styleAttrs[n.byName.fontSize.qname],g.cellLength.h,g.pxLength.h)))return null;return T}),new _(b.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new _(b.ns_tts,"origin","auto",["region"],!1,!0,function(g){if("auto"===g)return g;var d=g.split(" ");if(2!==d.length)return null;var i=A.parseLength(d[0]),h=A.parseLength(d[1]);return h&&i?{h,w:i}:null},function(g,d,i,h,p){var T,B;if("auto"===h)T=new A.ComputedLength(0,0);else if(null===(T=A.toComputedLength(h.h.value,h.h.unit,null,g.dimensions.h,null,g.pxLength.h)))return null;if("auto"===h)B=new A.ComputedLength(0,0);else if(null===(B=A.toComputedLength(h.w.value,h.w.unit,null,g.dimensions.w,null,g.pxLength.w)))return null;return{h:T,w:B}}),new _(b.ns_tts,"overflow","hidden",["region"],!1,!0,function(g){return g},null),new _(b.ns_tts,"padding","0px",["region"],!1,!0,function(g){var d=g.split(" ");if(d.length>4)return null;for(var i=[],h=0;h<d.length;h++){var p=A.parseLength(d[h]);if(!p)return null;i.push(p)}return i},function(g,d,i,h,p){var T;if(1===h.length)T=[h[0],h[0],h[0],h[0]];else if(2===h.length)T=[h[0],h[1],h[0],h[1]];else if(3===h.length)T=[h[0],h[1],h[2],h[1]];else{if(4!==h.length)return null;T=[h[0],h[1],h[2],h[3]]}var B=i.styleAttrs[n.byName.writingMode.qname];if("lrtb"===B||"lr"===B)T=[T[0],T[3],T[2],T[1]];else if("rltb"===B||"rl"===B)T=[T[0],T[1],T[2],T[3]];else if("tblr"===B)T=[T[3],T[0],T[1],T[2]];else{if("tbrl"!==B&&"tb"!==B)return null;T=[T[3],T[2],T[1],T[0]]}for(var P=[],k=0;k<T.length;k++)if(0===T[k].value)P[k]=new A.ComputedLength(0,0);else if(P[k]=A.toComputedLength(T[k].value,T[k].unit,i.styleAttrs[n.byName.fontSize.qname],0===k||2===k?i.styleAttrs[n.byName.extent.qname].h:i.styleAttrs[n.byName.extent.qname].w,0===k||2===k?g.cellLength.h:g.cellLength.w,0===k||2===k?g.pxLength.h:g.pxLength.w),null===P[k])return null;return P}),new _(b.ns_tts,"position","top left",["region"],!1,!0,function(g){return A.parsePosition(g)},function(g,d,i,h){var p,T;return null===(p=A.toComputedLength(h.v.offset.value,h.v.offset.unit,null,new A.ComputedLength(-i.styleAttrs[n.byName.extent.qname].h.rw,g.dimensions.h.rh-i.styleAttrs[n.byName.extent.qname].h.rh),null,g.pxLength.h))||("bottom"===h.v.edge&&(p=new A.ComputedLength(-p.rw-i.styleAttrs[n.byName.extent.qname].h.rw,g.dimensions.h.rh-p.rh-i.styleAttrs[n.byName.extent.qname].h.rh)),T=A.toComputedLength(h.h.offset.value,h.h.offset.unit,null,new A.ComputedLength(g.dimensions.w.rw-i.styleAttrs[n.byName.extent.qname].w.rw,-i.styleAttrs[n.byName.extent.qname].w.rh),null,g.pxLength.w),null===p)?null:("right"===h.h.edge&&(T=new A.ComputedLength(g.dimensions.w.rw-T.rw-i.styleAttrs[n.byName.extent.qname].w.rw,-T.rh-i.styleAttrs[n.byName.extent.qname].w.rh)),{h:p,w:T})}),new _(b.ns_tts,"ruby","none",["span"],!1,!0,function(g){return g},null),new _(b.ns_tts,"rubyAlign","center",["span"],!0,!0,function(g){return"center"===g||"spaceAround"===g?g:null},null),new _(b.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(g){return g},null),new _(b.ns_tts,"rubyReserve","none",["p"],!0,!0,function(g){var d=g.split(" "),i=[null,null];if(0===d.length||d.length>2)return null;if("none"!==d[0]&&"both"!==d[0]&&"after"!==d[0]&&"before"!==d[0]&&"outside"!==d[0])return null;if(i[0]=d[0],2===d.length&&"none"!==d[0]){var h=A.parseLength(d[1]);if(!h)return null;i[1]=h}return i},function(g,d,i,h,p){if("none"===h[0])return h;var T;return null===(T=null===h[1]?new A.ComputedLength(.5*i.styleAttrs[n.byName.fontSize.qname].rw,.5*i.styleAttrs[n.byName.fontSize.qname].rh):A.toComputedLength(h[1].value,h[1].unit,i.styleAttrs[n.byName.fontSize.qname],i.styleAttrs[n.byName.fontSize.qname],g.cellLength.h,g.pxLength.h))?null:[h[0],T]}),new _(b.ns_tts,"showBackground","always",["region"],!1,!0,function(g){return g},null),new _(b.ns_tts,"textAlign","start",["p"],!0,!0,function(g){return g},function(g,d,i,h,p){return"left"===h?"start":"right"===h?"end":h}),new _(b.ns_tts,"textCombine","none",["span"],!0,!0,function(g){return"none"===g||"all"===g?g:null},null),new _(b.ns_tts,"textDecoration","none",["span"],!0,!0,function(g){return g.split(" ")},null),new _(b.ns_tts,"textEmphasis","none",["span"],!0,!0,function(g){for(var d=g.split(" "),i={style:null,symbol:null,color:null,position:null},h=0;h<d.length;h++)if("none"===d[h]||"auto"===d[h])i.style=d[h];else if("filled"===d[h]||"open"===d[h])i.style=d[h];else if("circle"===d[h]||"dot"===d[h]||"sesame"===d[h])i.symbol=d[h];else if("current"===d[h])i.color=d[h];else if("outside"===d[h]||"before"===d[h]||"after"===d[h])i.position=d[h];else if(i.color=A.parseColor(d[h]),null===i.color)return null;return null==i.style&&null==i.symbol?i.style="auto":(i.symbol=i.symbol||"circle",i.style=i.style||"filled"),i.position=i.position||"outside",i.color=i.color||"current",i},null),new _(b.ns_tts,"textOutline","none",["span"],!0,!0,function(g){if("none"===g)return g;var d={},i=g.split(" ");if(0===i.length||i.length>2)return null;var h=A.parseColor(i[0]);if(d.color=h,null!==h&&i.shift(),1!==i.length)return null;var p=A.parseLength(i[0]);return p?(d.thickness=p,d):null},function(g,d,i,h,p){if("none"===h)return h;var T={};return T.color=null===h.color?i.styleAttrs[n.byName.color.qname]:h.color,T.thickness=A.toComputedLength(h.thickness.value,h.thickness.unit,i.styleAttrs[n.byName.fontSize.qname],i.styleAttrs[n.byName.fontSize.qname],g.cellLength.h,g.pxLength.h),null===T.thickness?null:T}),new _(b.ns_tts,"textShadow","none",["span"],!0,!0,A.parseTextShadow,function(g,d,i,h){if("none"===h)return h;for(var p=[],T=0;T<h.length;T++){var B={};if(B.x_off=A.toComputedLength(h[T][0].value,h[T][0].unit,null,i.styleAttrs[n.byName.fontSize.qname],null,g.pxLength.w),null===B.x_off||(B.y_off=A.toComputedLength(h[T][1].value,h[T][1].unit,null,i.styleAttrs[n.byName.fontSize.qname],null,g.pxLength.h),null===B.y_off))return null;if(null===h[T][2])B.b_radius=0;else if(B.b_radius=A.toComputedLength(h[T][2].value,h[T][2].unit,null,i.styleAttrs[n.byName.fontSize.qname],null,g.pxLength.h),null===B.b_radius)return null;B.color=null===h[T][3]?i.styleAttrs[n.byName.color.qname]:h[T][3],p.push(B)}return p}),new _(b.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(g){return g},null),new _(b.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(g){return g},null),new _(b.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(g){return g},null),new _(b.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(g){return g},null),new _(b.ns_tts,"zIndex","auto",["region"],!1,!0,function(g){var d;return"auto"===g?d=g:(d=parseInt(g),isNaN(d)&&(d=null)),d},null),new _(b.ns_ebutts,"linePadding","0c",["p"],!0,!1,A.parseLength,function(g,d,i,h,p){return A.toComputedLength(h.value,h.unit,null,null,g.cellLength.w,null)}),new _(b.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(g){return g},null),new _(b.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(g){return g},null),new _(b.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(g){return"true"===g},null),new _(b.ns_itts,"fillLineGap","false",["p"],!0,!0,function(g){return"true"===g},null)],n.byQName={},n.all)n.byQName[n.all[x].qname]=n.all[x];for(var w in n.byName={},n.all)n.byName[n.all[w].name]=n.all[w]}(v,typeof imscNames>"u"?e(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscUtils>"u"?e(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/utils.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/utils.js ***!
                  \************************************************/
/*! no static exports found */function(Xe,v,e){!function(n){var b=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,A=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,_=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,x={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};n.parseColor=function(g){var d,i=null,h=x[g.toLowerCase()];return void 0!==h?i=h:null!==(d=b.exec(g))?i=[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16),void 0!==d[4]?parseInt(d[4],16):255]:null!==(d=A.exec(g))?i=[parseInt(d[1]),parseInt(d[2]),parseInt(d[3]),255]:null!==(d=_.exec(g))&&(i=[parseInt(d[1]),parseInt(d[2]),parseInt(d[3]),parseInt(d[4])]),i};var w=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;n.parseLength=function(g){var d,i=null;return null!==(d=w.exec(g))&&(i={value:parseFloat(d[1]),unit:d[2]}),i},n.parseTextShadow=function(g){for(var d=g.match(/([^\(,\)]|\([^\)]+\))+/g),i=[],h=0;h<d.length;h++){var p=d[h].split(" ");if(1===p.length&&"none"===p[0])return"none";if(p.length>1&&p.length<5){var T=[null,null,null,null],B=n.parseLength(p.shift());if(null===B||(T[0]=B,null===(B=n.parseLength(p.shift()))))return null;if(T[1]=B,0===p.length){i.push(T);continue}if(null!==(B=n.parseLength(p[0]))&&(T[2]=B,p.shift()),0===p.length){i.push(T);continue}var P=n.parseColor(p[0]);if(null===P)return null;T[3]=P,i.push(T)}}return i},n.parsePosition=function(g){var d=g.split(" "),i=function(F){return"center"===F||"left"===F||"top"===F||"bottom"===F||"right"===F};if(d.length>4)return null;for(var h=0;h<d.length;h++)if(!i(d[h])){var p=n.parseLength(d[h]);if(null===p)return null;d[h]=p}for(var T={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},B=0;B<d.length;){var P=d[B++];if(i(P)){var k={value:0,unit:"%"};2!==d.length&&B<d.length&&!i(d[B])&&(k=d[B++]),"right"===P?(T.h.edge=P,T.h.offset=k):"bottom"===P?(T.v.edge=P,T.v.offset=k):"left"===P?T.h.offset=k:"top"===P&&(T.v.offset=k)}else{if(1!==d.length&&2!==d.length)return null;1===B?T.h.offset=P:T.v.offset=P}}return T},n.ComputedLength=function(g,d){this.rw=g,this.rh=d},n.ComputedLength.prototype.toUsedLength=function(g,d){return g*this.rw+d*this.rh},n.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},n.toComputedLength=function(g,d,i,h,p,T){return"%"===d&&h?new n.ComputedLength(h.rw*g/100,h.rh*g/100):"em"===d&&i?new n.ComputedLength(i.rw*g,i.rh*g):"c"===d&&p?new n.ComputedLength(g*p.rw,g*p.rh):"px"===d&&T?new n.ComputedLength(g*T.rw,g*T.rh):"rh"===d?new n.ComputedLength(0,g/100):"rw"===d?new n.ComputedLength(g/100,0):null}}(v)},"./node_modules/inherits/inherits_browser.js":
/*!***************************************************!*\
                  !*** ./node_modules/inherits/inherits_browser.js ***!
                  \***************************************************/
/*! no static exports found */function(Xe,v){Xe.exports="function"==typeof Object.create?function(n,b){b&&(n.super_=b,n.prototype=Object.create(b.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:function(n,b){if(b){n.super_=b;var A=function(){};A.prototype=b.prototype,n.prototype=new A,n.prototype.constructor=n}}},"./node_modules/is-alphabetical/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/is-alphabetical/index.js ***!
                  \***********************************************/
/*! no static exports found */function(Xe,v,e){"use strict";Xe.exports=function n(b){var A="string"==typeof b?b.charCodeAt(0):b;return A>=97&&A<=122||A>=65&&A<=90}},"./node_modules/is-alphanumerical/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/is-alphanumerical/index.js ***!
                  \*************************************************/
/*! no static exports found */function(Xe,v,e){"use strict";var n=e(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),b=e(
/*! is-decimal */
"./node_modules/is-decimal/index.js");Xe.exports=function A(_){return n(_)||b(_)}},"./node_modules/is-decimal/index.js":
/*!******************************************!*\
                  !*** ./node_modules/is-decimal/index.js ***!
                  \******************************************/
/*! no static exports found */function(Xe,v,e){"use strict";Xe.exports=function n(b){var A="string"==typeof b?b.charCodeAt(0):b;return A>=48&&A<=57}},"./node_modules/isarray/index.js":
/*!***************************************!*\
                  !*** ./node_modules/isarray/index.js ***!
                  \***************************************/
/*! no static exports found */function(Xe,v){var e={}.toString;Xe.exports=Array.isArray||function(n){return"[object Array]"==e.call(n)}},"./node_modules/path-browserify/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/path-browserify/index.js ***!
                  \***********************************************/
/*! no static exports found */function(Xe,v,e){(function(n){function b(w,g){for(var d=0,i=w.length-1;i>=0;i--){var h=w[i];"."===h?w.splice(i,1):".."===h?(w.splice(i,1),d++):d&&(w.splice(i,1),d--)}if(g)for(;d--;d)w.unshift("..");return w}function _(w,g){if(w.filter)return w.filter(g);for(var d=[],i=0;i<w.length;i++)g(w[i],i,w)&&d.push(w[i]);return d}v.resolve=function(){for(var w="",g=!1,d=arguments.length-1;d>=-1&&!g;d--){var i=d>=0?arguments[d]:n.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(w=i+"/"+w,g="/"===i.charAt(0))}return(g?"/":"")+(w=b(_(w.split("/"),function(h){return!!h}),!g).join("/"))||"."},v.normalize=function(w){var g=v.isAbsolute(w),d="/"===x(w,-1);return!(w=b(_(w.split("/"),function(i){return!!i}),!g).join("/"))&&!g&&(w="."),w&&d&&(w+="/"),(g?"/":"")+w},v.isAbsolute=function(w){return"/"===w.charAt(0)},v.join=function(){var w=Array.prototype.slice.call(arguments,0);return v.normalize(_(w,function(g,d){if("string"!=typeof g)throw new TypeError("Arguments to path.join must be strings");return g}).join("/"))},v.relative=function(w,g){function d(k){for(var F=0;F<k.length&&""===k[F];F++);for(var O=k.length-1;O>=0&&""===k[O];O--);return F>O?[]:k.slice(F,O-F+1)}w=v.resolve(w).substr(1),g=v.resolve(g).substr(1);for(var i=d(w.split("/")),h=d(g.split("/")),p=Math.min(i.length,h.length),T=p,B=0;B<p;B++)if(i[B]!==h[B]){T=B;break}var P=[];for(B=T;B<i.length;B++)P.push("..");return(P=P.concat(h.slice(T))).join("/")},v.sep="/",v.delimiter=":",v.dirname=function(w){if("string"!=typeof w&&(w+=""),0===w.length)return".";for(var g=w.charCodeAt(0),d=47===g,i=-1,h=!0,p=w.length-1;p>=1;--p)if(47===(g=w.charCodeAt(p))){if(!h){i=p;break}}else h=!1;return-1===i?d?"/":".":d&&1===i?"/":w.slice(0,i)},v.basename=function(w,g){var d=function A(w){"string"!=typeof w&&(w+="");var h,g=0,d=-1,i=!0;for(h=w.length-1;h>=0;--h)if(47===w.charCodeAt(h)){if(!i){g=h+1;break}}else-1===d&&(i=!1,d=h+1);return-1===d?"":w.slice(g,d)}(w);return g&&d.substr(-1*g.length)===g&&(d=d.substr(0,d.length-g.length)),d},v.extname=function(w){"string"!=typeof w&&(w+="");for(var g=-1,d=0,i=-1,h=!0,p=0,T=w.length-1;T>=0;--T){var B=w.charCodeAt(T);if(47!==B)-1===i&&(h=!1,i=T+1),46===B?-1===g?g=T:1!==p&&(p=1):-1!==g&&(p=-1);else if(!h){d=T+1;break}}return-1===g||-1===i||0===p||1===p&&g===i-1&&g===d+1?"":w.slice(g,i)};var x=function(w,g,d){return w.substr(g,d)}}).call(this,e(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process-nextick-args/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/process-nextick-args/index.js ***!
                  \****************************************************/
/*! no static exports found */function(Xe,v,e){"use strict";(function(n){Xe.exports=typeof n>"u"||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?{nextTick:function b(A,_,x,w){if("function"!=typeof A)throw new TypeError('"callback" argument must be a function');var d,i,g=arguments.length;switch(g){case 0:case 1:return n.nextTick(A);case 2:return n.nextTick(function(){A.call(null,_)});case 3:return n.nextTick(function(){A.call(null,_,x)});case 4:return n.nextTick(function(){A.call(null,_,x,w)});default:for(d=new Array(g-1),i=0;i<d.length;)d[i++]=arguments[i];return n.nextTick(function(){A.apply(null,d)})}}}:n}).call(this,e(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process/browser.js":
/*!*****************************************!*\
                  !*** ./node_modules/process/browser.js ***!
                  \*****************************************/
/*! no static exports found */function(Xe,v){var n,b,e=Xe.exports={};function A(){throw new Error("setTimeout has not been defined")}function _(){throw new Error("clearTimeout has not been defined")}function x(k){if(n===setTimeout)return setTimeout(k,0);if((n===A||!n)&&setTimeout)return n=setTimeout,setTimeout(k,0);try{return n(k,0)}catch{try{return n.call(null,k,0)}catch{return n.call(this,k,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:A}catch{n=A}try{b="function"==typeof clearTimeout?clearTimeout:_}catch{b=_}}();var i,g=[],d=!1,h=-1;function p(){!d||!i||(d=!1,i.length?g=i.concat(g):h=-1,g.length&&T())}function T(){if(!d){var k=x(p);d=!0;for(var F=g.length;F;){for(i=g,g=[];++h<F;)i&&i[h].run();h=-1,F=g.length}i=null,d=!1,function w(k){if(b===clearTimeout)return clearTimeout(k);if((b===_||!b)&&clearTimeout)return b=clearTimeout,clearTimeout(k);try{return b(k)}catch{try{return b.call(null,k)}catch{return b.call(this,k)}}}(k)}}function B(k,F){this.fun=k,this.array=F}function P(){}e.nextTick=function(k){var F=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)F[O-1]=arguments[O];g.push(new B(k,F)),1===g.length&&!d&&x(T)},B.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=P,e.addListener=P,e.once=P,e.off=P,e.removeListener=P,e.removeAllListeners=P,e.emit=P,e.prependListener=P,e.prependOnceListener=P,e.listeners=function(k){return[]},e.binding=function(k){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(k){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},"./node_modules/readable-stream/duplex-browser.js":
/*!********************************************************!*\
                  !*** ./node_modules/readable-stream/duplex-browser.js ***!
                  \********************************************************/
/*! no static exports found */function(Xe,v,e){Xe.exports=e(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/readable-stream/lib/_stream_duplex.js":
/*!************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_duplex.js ***!
                  \************************************************************/
/*! no static exports found */function(Xe,v,e){"use strict";var n=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js"),b=Object.keys||function(T){var B=[];for(var P in T)B.push(P);return B};Xe.exports=i;var A=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));A.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var _=e(
/*! ./_stream_readable */
"./node_modules/readable-stream/lib/_stream_readable.js"),x=e(
/*! ./_stream_writable */
"./node_modules/readable-stream/lib/_stream_writable.js");A.inherits(i,_);for(var w=b(x.prototype),g=0;g<w.length;g++){var d=w[g];i.prototype[d]||(i.prototype[d]=x.prototype[d])}function i(T){if(!(this instanceof i))return new i(T);_.call(this,T),x.call(this,T),T&&!1===T.readable&&(this.readable=!1),T&&!1===T.writable&&(this.writable=!1),this.allowHalfOpen=!0,T&&!1===T.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(p,this)}function p(T){T.end()}Object.defineProperty(i.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(i.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(T){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=T,this._writableState.destroyed=T)}}),i.prototype._destroy=function(T,B){this.push(null),this.end(),n.nextTick(B,T)}},"./node_modules/readable-stream/lib/_stream_passthrough.js":
/*!*****************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_passthrough.js ***!
                  \*****************************************************************/
/*! no static exports found */function(Xe,v,e){"use strict";Xe.exports=A;var n=e(
/*! ./_stream_transform */
"./node_modules/readable-stream/lib/_stream_transform.js"),b=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function A(_){if(!(this instanceof A))return new A(_);n.call(this,_)}b.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),b.inherits(A,n),A.prototype._transform=function(_,x,w){w(null,_)}},"./node_modules/readable-stream/lib/_stream_readable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_readable.js ***!
                  \**************************************************************/
/*! no static exports found */function(Xe,v,e){"use strict";(function(n,b){var A=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");Xe.exports=C;var x,_=e(
/*! isarray */
"./node_modules/isarray/index.js");C.ReadableState=L,e(
/*! events */
"./node_modules/events/events.js");var g=function(ve,K){return ve.listeners(K).length},d=e(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),i=e(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,h=n.Uint8Array||function(){};var B=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));B.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var P=e(
/*! util */
0),k=void 0;k=P&&P.debuglog?P.debuglog("stream"):function(){};var D,F=e(
/*! ./internal/streams/BufferList */
"./node_modules/readable-stream/lib/internal/streams/BufferList.js"),O=e(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");B.inherits(C,d);var I=["error","close","destroy","pause","resume"];function L(ve,K){var se=K instanceof(x=x||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"));this.objectMode=!!(ve=ve||{}).objectMode,se&&(this.objectMode=this.objectMode||!!ve.readableObjectMode);var ge=ve.highWaterMark,oe=ve.readableHighWaterMark;this.highWaterMark=ge||0===ge?ge:se&&(oe||0===oe)?oe:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new F,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=ve.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ve.encoding&&(D||(D=e(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new D(ve.encoding),this.encoding=ve.encoding)}function C(ve){if(x=x||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof C))return new C(ve);this._readableState=new L(ve,this),this.readable=!0,ve&&("function"==typeof ve.read&&(this._read=ve.read),"function"==typeof ve.destroy&&(this._destroy=ve.destroy)),d.call(this)}function U(ve,K,se,ge,oe){var q,Q=ve._readableState;return null===K?(Q.reading=!1,function W(ve,K){if(!K.ended){if(K.decoder){var se=K.decoder.end();se&&se.length&&(K.buffer.push(se),K.length+=K.objectMode?1:se.length)}K.ended=!0,Se(ve)}}(ve,Q)):(oe||(q=function ne(ve,K){var se;return!function T(ve){return i.isBuffer(ve)||ve instanceof h}(K)&&"string"!=typeof K&&void 0!==K&&!ve.objectMode&&(se=new TypeError("Invalid non-string/buffer chunk")),se}(Q,K)),q?ve.emit("error",q):Q.objectMode||K&&K.length>0?("string"!=typeof K&&!Q.objectMode&&Object.getPrototypeOf(K)!==i.prototype&&(K=function p(ve){return i.from(ve)}(K)),ge?Q.endEmitted?ve.emit("error",new Error("stream.unshift() after end event")):z(ve,Q,K,!0):Q.ended?ve.emit("error",new Error("stream.push() after EOF")):(Q.reading=!1,Q.decoder&&!se?(K=Q.decoder.write(K),Q.objectMode||0!==K.length?z(ve,Q,K,!1):Ee(ve,Q)):z(ve,Q,K,!1))):ge||(Q.reading=!1)),function te(ve){return!ve.ended&&(ve.needReadable||ve.length<ve.highWaterMark||0===ve.length)}(Q)}function z(ve,K,se,ge){K.flowing&&0===K.length&&!K.sync?(ve.emit("data",se),ve.read(0)):(K.length+=K.objectMode?1:se.length,ge?K.buffer.unshift(se):K.buffer.push(se),K.needReadable&&Se(ve)),Ee(ve,K)}Object.defineProperty(C.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(ve){this._readableState&&(this._readableState.destroyed=ve)}}),C.prototype.destroy=O.destroy,C.prototype._undestroy=O.undestroy,C.prototype._destroy=function(ve,K){this.push(null),K(ve)},C.prototype.push=function(ve,K){var ge,se=this._readableState;return se.objectMode?ge=!0:"string"==typeof ve&&((K=K||se.defaultEncoding)!==se.encoding&&(ve=i.from(ve,K),K=""),ge=!0),U(this,ve,K,!1,ge)},C.prototype.unshift=function(ve){return U(this,ve,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(ve){return D||(D=e(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new D(ve),this._readableState.encoding=ve,this};var Me=8388608;function ce(ve,K){return ve<=0||0===K.length&&K.ended?0:K.objectMode?1:ve!=ve?K.flowing&&K.length?K.buffer.head.data.length:K.length:(ve>K.highWaterMark&&(K.highWaterMark=function J(ve){return ve>=Me?ve=Me:(ve--,ve|=ve>>>1,ve|=ve>>>2,ve|=ve>>>4,ve|=ve>>>8,ve|=ve>>>16,ve++),ve}(ve)),ve<=K.length?ve:K.ended?K.length:(K.needReadable=!0,0))}function Se(ve){var K=ve._readableState;K.needReadable=!1,K.emittedReadable||(k("emitReadable",K.flowing),K.emittedReadable=!0,K.sync?A.nextTick(le,ve):le(ve))}function le(ve){k("emit readable"),ve.emit("readable"),me(ve)}function Ee(ve,K){K.readingMore||(K.readingMore=!0,A.nextTick(xe,ve,K))}function xe(ve,K){for(var se=K.length;!K.reading&&!K.flowing&&!K.ended&&K.length<K.highWaterMark&&(k("maybeReadMore read 0"),ve.read(0),se!==K.length);)se=K.length;K.readingMore=!1}function fe(ve){k("readable nexttick read 0"),ve.read(0)}function Ce(ve,K){K.reading||(k("resume read 0"),ve.read(0)),K.resumeScheduled=!1,K.awaitDrain=0,ve.emit("resume"),me(ve),K.flowing&&!K.reading&&ve.read(0)}function me(ve){var K=ve._readableState;for(k("flow",K.flowing);K.flowing&&null!==ve.read(););}function De(ve,K){return 0===K.length?null:(K.objectMode?se=K.buffer.shift():!ve||ve>=K.length?(se=K.decoder?K.buffer.join(""):1===K.buffer.length?K.buffer.head.data:K.buffer.concat(K.length),K.buffer.clear()):se=function Re(ve,K,se){var ge;return ve<K.head.data.length?(ge=K.head.data.slice(0,ve),K.head.data=K.head.data.slice(ve)):ge=ve===K.head.data.length?K.shift():se?function Fe(ve,K){var se=K.head,ge=1,oe=se.data;for(ve-=oe.length;se=se.next;){var Q=se.data,q=ve>Q.length?Q.length:ve;if(oe+=q===Q.length?Q:Q.slice(0,ve),0==(ve-=q)){q===Q.length?(++ge,K.head=se.next?se.next:K.tail=null):(K.head=se,se.data=Q.slice(q));break}++ge}return K.length-=ge,oe}(ve,K):function Ne(ve,K){var se=i.allocUnsafe(ve),ge=K.head,oe=1;for(ge.data.copy(se),ve-=ge.data.length;ge=ge.next;){var Q=ge.data,q=ve>Q.length?Q.length:ve;if(Q.copy(se,se.length-ve,0,q),0==(ve-=q)){q===Q.length?(++oe,K.head=ge.next?ge.next:K.tail=null):(K.head=ge,ge.data=Q.slice(q));break}++oe}return K.length-=oe,se}(ve,K),ge}(ve,K.buffer,K.decoder),se);var se}function at(ve){var K=ve._readableState;if(K.length>0)throw new Error('"endReadable()" called on non-empty stream');K.endEmitted||(K.ended=!0,A.nextTick(Be,K,ve))}function Be(ve,K){!ve.endEmitted&&0===ve.length&&(ve.endEmitted=!0,K.readable=!1,K.emit("end"))}function ye(ve,K){for(var se=0,ge=ve.length;se<ge;se++)if(ve[se]===K)return se;return-1}C.prototype.read=function(ve){k("read",ve),ve=parseInt(ve,10);var K=this._readableState,se=ve;if(0!==ve&&(K.emittedReadable=!1),0===ve&&K.needReadable&&(K.length>=K.highWaterMark||K.ended))return k("read: emitReadable",K.length,K.ended),0===K.length&&K.ended?at(this):Se(this),null;if(0===(ve=ce(ve,K))&&K.ended)return 0===K.length&&at(this),null;var oe,ge=K.needReadable;return k("need readable",ge),(0===K.length||K.length-ve<K.highWaterMark)&&k("length less than watermark",ge=!0),K.ended||K.reading?k("reading or ended",ge=!1):ge&&(k("do read"),K.reading=!0,K.sync=!0,0===K.length&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(ve=ce(se,K))),null===(oe=ve>0?De(ve,K):null)?(K.needReadable=!0,ve=0):K.length-=ve,0===K.length&&(K.ended||(K.needReadable=!0),se!==ve&&K.ended&&at(this)),null!==oe&&this.emit("data",oe),oe},C.prototype._read=function(ve){this.emit("error",new Error("_read() is not implemented"))},C.prototype.pipe=function(ve,K){var se=this,ge=this._readableState;switch(ge.pipesCount){case 0:ge.pipes=ve;break;case 1:ge.pipes=[ge.pipes,ve];break;default:ge.pipes.push(ve)}ge.pipesCount+=1,k("pipe count=%d opts=%j",ge.pipesCount,K);var Q=K&&!1===K.end||ve===b.stdout||ve===b.stderr?Qe:$;function q(qe,ft){k("onunpipe"),qe===se&&ft&&!1===ft.hasUnpiped&&(ft.hasUnpiped=!0,function X(){k("cleanup"),ve.removeListener("close",Le),ve.removeListener("finish",et),ve.removeListener("drain",ie),ve.removeListener("error",be),ve.removeListener("unpipe",q),se.removeListener("end",$),se.removeListener("end",Qe),se.removeListener("data",Te),Z=!0,ge.awaitDrain&&(!ve._writableState||ve._writableState.needDrain)&&ie()}())}function $(){k("onend"),ve.end()}ge.endEmitted?A.nextTick(Q):se.once("end",Q),ve.on("unpipe",q);var ie=function Ve(ve){return function(){var K=ve._readableState;k("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,0===K.awaitDrain&&g(ve,"data")&&(K.flowing=!0,me(ve))}}(se);ve.on("drain",ie);var Z=!1;var pe=!1;function Te(qe){k("ondata"),pe=!1,!1===ve.write(qe)&&!pe&&((1===ge.pipesCount&&ge.pipes===ve||ge.pipesCount>1&&-1!==ye(ge.pipes,ve))&&!Z&&(k("false write response, pause",se._readableState.awaitDrain),se._readableState.awaitDrain++,pe=!0),se.pause())}function be(qe){k("onerror",qe),Qe(),ve.removeListener("error",be),0===g(ve,"error")&&ve.emit("error",qe)}function Le(){ve.removeListener("finish",et),Qe()}function et(){k("onfinish"),ve.removeListener("close",Le),Qe()}function Qe(){k("unpipe"),se.unpipe(ve)}return se.on("data",Te),function S(ve,K,se){if("function"==typeof ve.prependListener)return ve.prependListener(K,se);ve._events&&ve._events[K]?_(ve._events[K])?ve._events[K].unshift(se):ve._events[K]=[se,ve._events[K]]:ve.on(K,se)}(ve,"error",be),ve.once("close",Le),ve.once("finish",et),ve.emit("pipe",se),ge.flowing||(k("pipe resume"),se.resume()),ve},C.prototype.unpipe=function(ve){var K=this._readableState,se={hasUnpiped:!1};if(0===K.pipesCount)return this;if(1===K.pipesCount)return ve&&ve!==K.pipes||(ve||(ve=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,ve&&ve.emit("unpipe",this,se)),this;if(!ve){var ge=K.pipes,oe=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var Q=0;Q<oe;Q++)ge[Q].emit("unpipe",this,se);return this}var q=ye(K.pipes,ve);return-1===q||(K.pipes.splice(q,1),K.pipesCount-=1,1===K.pipesCount&&(K.pipes=K.pipes[0]),ve.emit("unpipe",this,se)),this},C.prototype.addListener=C.prototype.on=function(ve,K){var se=d.prototype.on.call(this,ve,K);if("data"===ve)!1!==this._readableState.flowing&&this.resume();else if("readable"===ve){var ge=this._readableState;!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.emittedReadable=!1,ge.reading?ge.length&&Se(this):A.nextTick(fe,this))}return se},C.prototype.resume=function(){var ve=this._readableState;return ve.flowing||(k("resume"),ve.flowing=!0,function Pe(ve,K){K.resumeScheduled||(K.resumeScheduled=!0,A.nextTick(Ce,ve,K))}(this,ve)),this},C.prototype.pause=function(){return k("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(k("pause"),this._readableState.flowing=!1,this.emit("pause")),this},C.prototype.wrap=function(ve){var K=this,se=this._readableState,ge=!1;for(var oe in ve.on("end",function(){if(k("wrapped end"),se.decoder&&!se.ended){var q=se.decoder.end();q&&q.length&&K.push(q)}K.push(null)}),ve.on("data",function(q){k("wrapped data"),se.decoder&&(q=se.decoder.write(q)),se.objectMode&&null==q||!(se.objectMode||q&&q.length)||K.push(q)||(ge=!0,ve.pause())}),ve)void 0===this[oe]&&"function"==typeof ve[oe]&&(this[oe]=function(q){return function(){return ve[q].apply(ve,arguments)}}(oe));for(var Q=0;Q<I.length;Q++)ve.on(I[Q],this.emit.bind(this,I[Q]));return this._read=function(q){k("wrapped _read",q),ge&&(ge=!1,ve.resume())},this},Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),C._fromList=De}).call(this,e(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),e(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/readable-stream/lib/_stream_transform.js":
/*!***************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_transform.js ***!
                  \***************************************************************/
/*! no static exports found */function(Xe,v,e){"use strict";Xe.exports=_;var n=e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),b=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function A(g,d){var i=this._transformState;i.transforming=!1;var h=i.writecb;if(!h)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,null!=d&&this.push(d),h(g);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function _(g){if(!(this instanceof _))return new _(g);n.call(this,g),this._transformState={afterTransform:A.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&("function"==typeof g.transform&&(this._transform=g.transform),"function"==typeof g.flush&&(this._flush=g.flush)),this.on("prefinish",x)}function x(){var g=this;"function"==typeof this._flush?this._flush(function(d,i){w(g,d,i)}):w(this,null,null)}function w(g,d,i){if(d)return g.emit("error",d);if(null!=i&&g.push(i),g._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(g._transformState.transforming)throw new Error("Calling transform done when still transforming");return g.push(null)}b.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),b.inherits(_,n),_.prototype.push=function(g,d){return this._transformState.needTransform=!1,n.prototype.push.call(this,g,d)},_.prototype._transform=function(g,d,i){throw new Error("_transform() is not implemented")},_.prototype._write=function(g,d,i){var h=this._transformState;if(h.writecb=i,h.writechunk=g,h.writeencoding=d,!h.transforming){var p=this._readableState;(h.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},_.prototype._read=function(g){var d=this._transformState;null!==d.writechunk&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},_.prototype._destroy=function(g,d){var i=this;n.prototype._destroy.call(this,g,function(h){d(h),i.emit("close")})}},"./node_modules/readable-stream/lib/_stream_writable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_writable.js ***!
                  \**************************************************************/
/*! no static exports found */function(Xe,v,e){"use strict";(function(n,b,A){var _=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function w(Ce){var me=this;this.next=null,this.entry=null,this.finish=function(){!function Pe(Ce,me,De){var Re=Ce.entry;for(Ce.entry=null;Re;){var Fe=Re.callback;me.pendingcb--,Fe(De),Re=Re.next}me.corkedRequestsFree?me.corkedRequestsFree.next=Ce:me.corkedRequestsFree=Ce}(me,Ce)}}Xe.exports=S;var d,g=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?b:_.nextTick;S.WritableState=D;var i=Object.create(e(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));i.inherits=e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var h={deprecate:e(
/*! util-deprecate */
"./node_modules/util-deprecate/browser.js")},p=e(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),T=e(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,B=A.Uint8Array||function(){};var I,F=e(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");function O(){}function D(Ce,me){d=d||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js");var De=me instanceof d;this.objectMode=!!(Ce=Ce||{}).objectMode,De&&(this.objectMode=this.objectMode||!!Ce.writableObjectMode);var Re=Ce.highWaterMark,Fe=Ce.writableHighWaterMark;this.highWaterMark=Re||0===Re?Re:De&&(Fe||0===Fe)?Fe:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Ce.decodeStrings),this.defaultEncoding=Ce.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Be){!function J(Ce,me){var De=Ce._writableState,Re=De.sync,Fe=De.writecb;if(function Me(Ce){Ce.writing=!1,Ce.writecb=null,Ce.length-=Ce.writelen,Ce.writelen=0}(De),me)!function te(Ce,me,De,Re,Fe){--me.pendingcb,De?(_.nextTick(Fe,Re),_.nextTick(Ve,Ce,me),Ce._writableState.errorEmitted=!0,Ce.emit("error",Re)):(Fe(Re),Ce._writableState.errorEmitted=!0,Ce.emit("error",Re),Ve(Ce,me))}(Ce,De,Re,me,Fe);else{var Ne=le(De);!Ne&&!De.corked&&!De.bufferProcessing&&De.bufferedRequest&&Se(Ce,De),Re?g(ce,Ce,De,Ne,Fe):ce(Ce,De,Ne,Fe)}}(me,Be)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new w(this)}function S(Ce){if(d=d||e(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(I.call(S,this)||this instanceof d))return new S(Ce);this._writableState=new D(Ce,this),this.writable=!0,Ce&&("function"==typeof Ce.write&&(this._write=Ce.write),"function"==typeof Ce.writev&&(this._writev=Ce.writev),"function"==typeof Ce.destroy&&(this._destroy=Ce.destroy),"function"==typeof Ce.final&&(this._final=Ce.final)),p.call(this)}function z(Ce,me,De,Re,Fe,Ne){if(!De){var at=function U(Ce,me,De){return!Ce.objectMode&&!1!==Ce.decodeStrings&&"string"==typeof me&&(me=T.from(me,De)),me}(me,Re,Fe);Re!==at&&(De=!0,Fe="buffer",Re=at)}var Be=me.objectMode?1:Re.length;me.length+=Be;var ye=me.length<me.highWaterMark;if(ye||(me.needDrain=!0),me.writing||me.corked){var ve=me.lastBufferedRequest;me.lastBufferedRequest={chunk:Re,encoding:Fe,isBuf:De,callback:Ne,next:null},ve?ve.next=me.lastBufferedRequest:me.bufferedRequest=me.lastBufferedRequest,me.bufferedRequestCount+=1}else ne(Ce,me,!1,Be,Re,Fe,Ne);return ye}function ne(Ce,me,De,Re,Fe,Ne,at){me.writelen=Re,me.writecb=at,me.writing=!0,me.sync=!0,De?Ce._writev(Fe,me.onwrite):Ce._write(Fe,Ne,me.onwrite),me.sync=!1}function ce(Ce,me,De,Re){De||function W(Ce,me){0===me.length&&me.needDrain&&(me.needDrain=!1,Ce.emit("drain"))}(Ce,me),me.pendingcb--,Re(),Ve(Ce,me)}function Se(Ce,me){me.bufferProcessing=!0;var De=me.bufferedRequest;if(Ce._writev&&De&&De.next){var Fe=new Array(me.bufferedRequestCount),Ne=me.corkedRequestsFree;Ne.entry=De;for(var at=0,Be=!0;De;)Fe[at]=De,De.isBuf||(Be=!1),De=De.next,at+=1;Fe.allBuffers=Be,ne(Ce,me,!0,me.length,Fe,"",Ne.finish),me.pendingcb++,me.lastBufferedRequest=null,Ne.next?(me.corkedRequestsFree=Ne.next,Ne.next=null):me.corkedRequestsFree=new w(me),me.bufferedRequestCount=0}else{for(;De;){var ye=De.chunk;if(ne(Ce,me,!1,me.objectMode?1:ye.length,ye,De.encoding,De.callback),De=De.next,me.bufferedRequestCount--,me.writing)break}null===De&&(me.lastBufferedRequest=null)}me.bufferedRequest=De,me.bufferProcessing=!1}function le(Ce){return Ce.ending&&0===Ce.length&&null===Ce.bufferedRequest&&!Ce.finished&&!Ce.writing}function Ee(Ce,me){Ce._final(function(De){me.pendingcb--,De&&Ce.emit("error",De),me.prefinished=!0,Ce.emit("prefinish"),Ve(Ce,me)})}function Ve(Ce,me){var De=le(me);return De&&(function xe(Ce,me){!me.prefinished&&!me.finalCalled&&("function"==typeof Ce._final?(me.pendingcb++,me.finalCalled=!0,_.nextTick(Ee,Ce,me)):(me.prefinished=!0,Ce.emit("prefinish")))}(Ce,me),0===me.pendingcb&&(me.finished=!0,Ce.emit("finish"))),De}i.inherits(S,p),D.prototype.getBuffer=function(){for(var me=this.bufferedRequest,De=[];me;)De.push(me),me=me.next;return De},function(){try{Object.defineProperty(D.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(Ce){return!!I.call(this,Ce)||this===S&&Ce&&Ce._writableState instanceof D}})):I=function(Ce){return Ce instanceof this},S.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},S.prototype.write=function(Ce,me,De){var Re=this._writableState,Fe=!1,Ne=!Re.objectMode&&function k(Ce){return T.isBuffer(Ce)||Ce instanceof B}(Ce);return Ne&&!T.isBuffer(Ce)&&(Ce=function P(Ce){return T.from(Ce)}(Ce)),"function"==typeof me&&(De=me,me=null),Ne?me="buffer":me||(me=Re.defaultEncoding),"function"!=typeof De&&(De=O),Re.ended?function L(Ce,me){var De=new Error("write after end");Ce.emit("error",De),_.nextTick(me,De)}(this,De):(Ne||function C(Ce,me,De,Re){var Fe=!0,Ne=!1;return null===De?Ne=new TypeError("May not write null values to stream"):"string"!=typeof De&&void 0!==De&&!me.objectMode&&(Ne=new TypeError("Invalid non-string/buffer chunk")),Ne&&(Ce.emit("error",Ne),_.nextTick(Re,Ne),Fe=!1),Fe}(this,Re,Ce,De))&&(Re.pendingcb++,Fe=z(this,Re,Ne,Ce,me,De)),Fe},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var Ce=this._writableState;Ce.corked&&(Ce.corked--,!Ce.writing&&!Ce.corked&&!Ce.finished&&!Ce.bufferProcessing&&Ce.bufferedRequest&&Se(this,Ce))},S.prototype.setDefaultEncoding=function(me){if("string"==typeof me&&(me=me.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((me+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+me);return this._writableState.defaultEncoding=me,this},Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(Ce,me,De){De(new Error("_write() is not implemented"))},S.prototype._writev=null,S.prototype.end=function(Ce,me,De){var Re=this._writableState;"function"==typeof Ce?(De=Ce,Ce=null,me=null):"function"==typeof me&&(De=me,me=null),null!=Ce&&this.write(Ce,me),Re.corked&&(Re.corked=1,this.uncork()),!Re.ending&&!Re.finished&&function fe(Ce,me,De){me.ending=!0,Ve(Ce,me),De&&(me.finished?_.nextTick(De):Ce.once("finish",De)),me.ended=!0,Ce.writable=!1}(this,Re,De)},Object.defineProperty(S.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Ce){this._writableState&&(this._writableState.destroyed=Ce)}}),S.prototype.destroy=F.destroy,S.prototype._undestroy=F.undestroy,S.prototype._destroy=function(Ce,me){this.end(),me(Ce)}}).call(this,e(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),e(
/*! ./../../timers-browserify/main.js */
"./node_modules/timers-browserify/main.js").setImmediate,e(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/readable-stream/lib/internal/streams/BufferList.js":
/*!*************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/BufferList.js ***!
                  \*************************************************************************/
/*! no static exports found */function(Xe,v,e){"use strict";var b=e(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,A=e(
/*! util */
1);function _(x,w,g){x.copy(w,g)}Xe.exports=function(){function x(){(function n(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")})(this,x),this.head=null,this.tail=null,this.length=0}return x.prototype.push=function(g){var d={data:g,next:null};this.length>0?this.tail.next=d:this.head=d,this.tail=d,++this.length},x.prototype.unshift=function(g){var d={data:g,next:this.head};0===this.length&&(this.tail=d),this.head=d,++this.length},x.prototype.shift=function(){if(0!==this.length){var g=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,g}},x.prototype.clear=function(){this.head=this.tail=null,this.length=0},x.prototype.join=function(g){if(0===this.length)return"";for(var d=this.head,i=""+d.data;d=d.next;)i+=g+d.data;return i},x.prototype.concat=function(g){if(0===this.length)return b.alloc(0);if(1===this.length)return this.head.data;for(var d=b.allocUnsafe(g>>>0),i=this.head,h=0;i;)_(i.data,d,h),h+=i.data.length,i=i.next;return d},x}(),A&&A.inspect&&A.inspect.custom&&(Xe.exports.prototype[A.inspect.custom]=function(){var x=A.inspect({length:this.length});return this.constructor.name+" "+x})},"./node_modules/readable-stream/lib/internal/streams/destroy.js":
/*!**********************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/destroy.js ***!
                  \**********************************************************************/
/*! no static exports found */function(Xe,v,e){"use strict";var n=e(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function _(x,w){x.emit("error",w)}Xe.exports={destroy:function b(x,w){var g=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(w?w(x):x&&(!this._writableState||!this._writableState.errorEmitted)&&n.nextTick(_,this,x),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(x||null,function(h){!w&&h?(n.nextTick(_,g,h),g._writableState&&(g._writableState.errorEmitted=!0)):w&&w(h)}),this)},undestroy:function A(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js":
/*!*****************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/stream-browser.js ***!
                  \*****************************************************************************/
/*! no static exports found */function(Xe,v,e){Xe.exports=e(
/*! events */
"./node_modules/events/events.js").EventEmitter},"./node_modules/readable-stream/node_modules/safe-buffer/index.js":
/*!************************************************************************!*\
                  !*** ./node_modules/readable-stream/node_modules/safe-buffer/index.js ***!
                  \************************************************************************/
/*! no static exports found */function(Xe,v,e){var n=e(
/*! buffer */
"./node_modules/buffer/index.js"),b=n.Buffer;function A(x,w){for(var g in x)w[g]=x[g]}function _(x,w,g){return b(x,w,g)}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?Xe.exports=n:(A(n,v),v.Buffer=_),A(b,_),_.from=function(x,w,g){if("number"==typeof x)throw new TypeError("Argument must not be a number");return b(x,w,g)},_.alloc=function(x,w,g){if("number"!=typeof x)throw new TypeError("Argument must be a number");var d=b(x);return void 0!==w?"string"==typeof g?d.fill(w,g):d.fill(w):d.fill(0),d},_.allocUnsafe=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return b(x)},_.allocUnsafeSlow=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return n.SlowBuffer(x)}},"./node_modules/readable-stream/passthrough.js":
/*!*****************************************************!*\
                  !*** ./node_modules/readable-stream/passthrough.js ***!
                  \*****************************************************/
/*! no static exports found */function(Xe,v,e){Xe.exports=e(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").PassThrough},"./node_modules/readable-stream/readable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/readable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(Xe,v,e){(v=Xe.exports=e(
/*! ./lib/_stream_readable.js */
"./node_modules/readable-stream/lib/_stream_readable.js")).Stream=v,v.Readable=v,v.Writable=e(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js"),v.Duplex=e(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js"),v.Transform=e(
/*! ./lib/_stream_transform.js */
"./node_modules/readable-stream/lib/_stream_transform.js"),v.PassThrough=e(
/*! ./lib/_stream_passthrough.js */
"./node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/readable-stream/transform.js":
/*!***************************************************!*\
                  !*** ./node_modules/readable-stream/transform.js ***!
                  \***************************************************/
/*! no static exports found */function(Xe,v,e){Xe.exports=e(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").Transform},"./node_modules/readable-stream/writable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/writable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(Xe,v,e){Xe.exports=e(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js")},"./node_modules/safe-buffer/index.js":
/*!*******************************************!*\
                  !*** ./node_modules/safe-buffer/index.js ***!
                  \*******************************************/
/*! no static exports found */function(Xe,v,e){var n=e(
/*! buffer */
"./node_modules/buffer/index.js"),b=n.Buffer;function A(x,w){for(var g in x)w[g]=x[g]}function _(x,w,g){return b(x,w,g)}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?Xe.exports=n:(A(n,v),v.Buffer=_),_.prototype=Object.create(b.prototype),A(b,_),_.from=function(x,w,g){if("number"==typeof x)throw new TypeError("Argument must not be a number");return b(x,w,g)},_.alloc=function(x,w,g){if("number"!=typeof x)throw new TypeError("Argument must be a number");var d=b(x);return void 0!==w?"string"==typeof g?d.fill(w,g):d.fill(w):d.fill(0),d},_.allocUnsafe=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return b(x)},_.allocUnsafeSlow=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return n.SlowBuffer(x)}},"./node_modules/sax/lib/sax.js":
/*!*************************************!*\
                  !*** ./node_modules/sax/lib/sax.js ***!
                  \*************************************/
/*! no static exports found */function(Xe,v,e){(function(n){!function(b){b.parser=function(K,se){return new _(K,se)},b.SAXParser=_,b.SAXStream=p,b.createStream=function h(K,se){return new p(K,se)},b.MAX_BUFFER_LENGTH=65536;var d,A=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function _(K,se){if(!(this instanceof _))return new _(K,se);var ge=this;(function w(K){for(var se=0,ge=A.length;se<ge;se++)K[A[se]]=""})(ge),ge.q=ge.c="",ge.bufferCheckPosition=b.MAX_BUFFER_LENGTH,ge.opt=se||{},ge.opt.lowercase=ge.opt.lowercase||ge.opt.lowercasetags,ge.looseCase=ge.opt.lowercase?"toLowerCase":"toUpperCase",ge.tags=[],ge.closed=ge.closedRoot=ge.sawRoot=!1,ge.tag=ge.error=null,ge.strict=!!K,ge.noscript=!(!K&&!ge.opt.noscript),ge.state=W.BEGIN,ge.strictEntities=ge.opt.strictEntities,ge.ENTITIES=Object.create(ge.strictEntities?b.XML_ENTITIES:b.ENTITIES),ge.attribList=[],ge.opt.xmlns&&(ge.ns=Object.create(L)),ge.trackPosition=!1!==ge.opt.position,ge.trackPosition&&(ge.position=ge.line=ge.column=0),le(ge,"onready")}b.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(K){function se(){}return se.prototype=K,new se}),Object.keys||(Object.keys=function(K){var se=[];for(var ge in K)K.hasOwnProperty(ge)&&se.push(ge);return se}),_.prototype={end:function(){Pe(this)},write:function ve(K){var se=this;if(this.error)throw this.error;if(se.closed)return fe(se,"Cannot write after close. Assign an onready handler.");if(null===K)return Pe(se);"object"==typeof K&&(K=K.toString());for(var ge=0,oe="";oe=ye(K,ge++),se.c=oe,oe;)switch(se.trackPosition&&(se.position++,"\n"===oe?(se.line++,se.column=0):se.column++),se.state){case W.BEGIN:if(se.state=W.BEGIN_WHITESPACE,"\ufeff"===oe)continue;Be(se,oe);continue;case W.BEGIN_WHITESPACE:Be(se,oe);continue;case W.TEXT:if(se.sawRoot&&!se.closedRoot){for(var Q=ge-1;oe&&"<"!==oe&&"&"!==oe;)(oe=ye(K,ge++))&&se.trackPosition&&(se.position++,"\n"===oe?(se.line++,se.column=0):se.column++);se.textNode+=K.substring(Q,ge-1)}"<"!==oe||se.sawRoot&&se.closedRoot&&!se.strict?(ce(T,oe)&&(!se.sawRoot||se.closedRoot)&&Ce(se,"Text data outside of root node."),"&"===oe?se.state=W.TEXT_ENTITY:se.textNode+=oe):(se.state=W.OPEN_WAKA,se.startTagPosition=se.position);continue;case W.SCRIPT:"<"===oe?se.state=W.SCRIPT_ENDING:se.script+=oe;continue;case W.SCRIPT_ENDING:"/"===oe?se.state=W.CLOSE_TAG:(se.script+="<"+oe,se.state=W.SCRIPT);continue;case W.OPEN_WAKA:"!"===oe?(se.state=W.SGML_DECL,se.sgmlDecl=""):J(T,oe)||(J(C,oe)?(se.state=W.OPEN_TAG,se.tagName=oe):"/"===oe?(se.state=W.CLOSE_TAG,se.tagName=""):"?"===oe?(se.state=W.PROC_INST,se.procInstName=se.procInstBody=""):(Ce(se,"Unencoded <"),se.startTagPosition+1<se.position&&(oe=new Array(se.position-se.startTagPosition).join(" ")+oe),se.textNode+="<"+oe,se.state=W.TEXT));continue;case W.SGML_DECL:(se.sgmlDecl+oe).toUpperCase()===O?(Ee(se,"onopencdata"),se.state=W.CDATA,se.sgmlDecl="",se.cdata=""):se.sgmlDecl+oe==="--"?(se.state=W.COMMENT,se.comment="",se.sgmlDecl=""):(se.sgmlDecl+oe).toUpperCase()===D?(se.state=W.DOCTYPE,(se.doctype||se.sawRoot)&&Ce(se,"Inappropriately located doctype declaration"),se.doctype="",se.sgmlDecl=""):">"===oe?(Ee(se,"onsgmldeclaration",se.sgmlDecl),se.sgmlDecl="",se.state=W.TEXT):(J(k,oe)&&(se.state=W.SGML_DECL_QUOTED),se.sgmlDecl+=oe);continue;case W.SGML_DECL_QUOTED:oe===se.q&&(se.state=W.SGML_DECL,se.q=""),se.sgmlDecl+=oe;continue;case W.DOCTYPE:">"===oe?(se.state=W.TEXT,Ee(se,"ondoctype",se.doctype),se.doctype=!0):(se.doctype+=oe,"["===oe?se.state=W.DOCTYPE_DTD:J(k,oe)&&(se.state=W.DOCTYPE_QUOTED,se.q=oe));continue;case W.DOCTYPE_QUOTED:se.doctype+=oe,oe===se.q&&(se.q="",se.state=W.DOCTYPE);continue;case W.DOCTYPE_DTD:se.doctype+=oe,"]"===oe?se.state=W.DOCTYPE:J(k,oe)&&(se.state=W.DOCTYPE_DTD_QUOTED,se.q=oe);continue;case W.DOCTYPE_DTD_QUOTED:se.doctype+=oe,oe===se.q&&(se.state=W.DOCTYPE_DTD,se.q="");continue;case W.COMMENT:"-"===oe?se.state=W.COMMENT_ENDING:se.comment+=oe;continue;case W.COMMENT_ENDING:"-"===oe?(se.state=W.COMMENT_ENDED,se.comment=Ve(se.opt,se.comment),se.comment&&Ee(se,"oncomment",se.comment),se.comment=""):(se.comment+="-"+oe,se.state=W.COMMENT);continue;case W.COMMENT_ENDED:">"!==oe?(Ce(se,"Malformed comment"),se.comment+="--"+oe,se.state=W.COMMENT):se.state=W.TEXT;continue;case W.CDATA:"]"===oe?se.state=W.CDATA_ENDING:se.cdata+=oe;continue;case W.CDATA_ENDING:"]"===oe?se.state=W.CDATA_ENDING_2:(se.cdata+="]"+oe,se.state=W.CDATA);continue;case W.CDATA_ENDING_2:">"===oe?(se.cdata&&Ee(se,"oncdata",se.cdata),Ee(se,"onclosecdata"),se.cdata="",se.state=W.TEXT):"]"===oe?se.cdata+="]":(se.cdata+="]]"+oe,se.state=W.CDATA);continue;case W.PROC_INST:"?"===oe?se.state=W.PROC_INST_ENDING:J(T,oe)?se.state=W.PROC_INST_BODY:se.procInstName+=oe;continue;case W.PROC_INST_BODY:if(!se.procInstBody&&J(T,oe))continue;"?"===oe?se.state=W.PROC_INST_ENDING:se.procInstBody+=oe;continue;case W.PROC_INST_ENDING:">"===oe?(Ee(se,"onprocessinginstruction",{name:se.procInstName,body:se.procInstBody}),se.procInstName=se.procInstBody="",se.state=W.TEXT):(se.procInstBody+="?"+oe,se.state=W.PROC_INST_BODY);continue;case W.OPEN_TAG:J(U,oe)?se.tagName+=oe:(me(se),">"===oe?Fe(se):"/"===oe?se.state=W.OPEN_TAG_SLASH:(ce(T,oe)&&Ce(se,"Invalid character in tag name"),se.state=W.ATTRIB));continue;case W.OPEN_TAG_SLASH:">"===oe?(Fe(se,!0),Ne(se)):(Ce(se,"Forward-slash in opening tag not followed by >"),se.state=W.ATTRIB);continue;case W.ATTRIB:if(J(T,oe))continue;">"===oe?Fe(se):"/"===oe?se.state=W.OPEN_TAG_SLASH:J(C,oe)?(se.attribName=oe,se.attribValue="",se.state=W.ATTRIB_NAME):Ce(se,"Invalid attribute name");continue;case W.ATTRIB_NAME:"="===oe?se.state=W.ATTRIB_VALUE:">"===oe?(Ce(se,"Attribute without value"),se.attribValue=se.attribName,Re(se),Fe(se)):J(T,oe)?se.state=W.ATTRIB_NAME_SAW_WHITE:J(U,oe)?se.attribName+=oe:Ce(se,"Invalid attribute name");continue;case W.ATTRIB_NAME_SAW_WHITE:if("="===oe)se.state=W.ATTRIB_VALUE;else{if(J(T,oe))continue;Ce(se,"Attribute without value"),se.tag.attributes[se.attribName]="",se.attribValue="",Ee(se,"onattribute",{name:se.attribName,value:""}),se.attribName="",">"===oe?Fe(se):J(C,oe)?(se.attribName=oe,se.state=W.ATTRIB_NAME):(Ce(se,"Invalid attribute name"),se.state=W.ATTRIB)}continue;case W.ATTRIB_VALUE:if(J(T,oe))continue;J(k,oe)?(se.q=oe,se.state=W.ATTRIB_VALUE_QUOTED):(Ce(se,"Unquoted attribute value"),se.state=W.ATTRIB_VALUE_UNQUOTED,se.attribValue=oe);continue;case W.ATTRIB_VALUE_QUOTED:if(oe!==se.q){"&"===oe?se.state=W.ATTRIB_VALUE_ENTITY_Q:se.attribValue+=oe;continue}Re(se),se.q="",se.state=W.ATTRIB_VALUE_CLOSED;continue;case W.ATTRIB_VALUE_CLOSED:J(T,oe)?se.state=W.ATTRIB:">"===oe?Fe(se):"/"===oe?se.state=W.OPEN_TAG_SLASH:J(C,oe)?(Ce(se,"No whitespace between attributes"),se.attribName=oe,se.attribValue="",se.state=W.ATTRIB_NAME):Ce(se,"Invalid attribute name");continue;case W.ATTRIB_VALUE_UNQUOTED:if(ce(F,oe)){"&"===oe?se.state=W.ATTRIB_VALUE_ENTITY_U:se.attribValue+=oe;continue}Re(se),">"===oe?Fe(se):se.state=W.ATTRIB;continue;case W.CLOSE_TAG:if(se.tagName)">"===oe?Ne(se):J(U,oe)?se.tagName+=oe:se.script?(se.script+="</"+se.tagName,se.tagName="",se.state=W.SCRIPT):(ce(T,oe)&&Ce(se,"Invalid tagname in closing tag"),se.state=W.CLOSE_TAG_SAW_WHITE);else{if(J(T,oe))continue;ce(C,oe)?se.script?(se.script+="</"+oe,se.state=W.SCRIPT):Ce(se,"Invalid tagname in closing tag."):se.tagName=oe}continue;case W.CLOSE_TAG_SAW_WHITE:if(J(T,oe))continue;">"===oe?Ne(se):Ce(se,"Invalid characters in closing tag");continue;case W.TEXT_ENTITY:case W.ATTRIB_VALUE_ENTITY_Q:case W.ATTRIB_VALUE_ENTITY_U:var $,ie;switch(se.state){case W.TEXT_ENTITY:$=W.TEXT,ie="textNode";break;case W.ATTRIB_VALUE_ENTITY_Q:$=W.ATTRIB_VALUE_QUOTED,ie="attribValue";break;case W.ATTRIB_VALUE_ENTITY_U:$=W.ATTRIB_VALUE_UNQUOTED,ie="attribValue"}";"===oe?(se[ie]+=at(se),se.entity="",se.state=$):J(se.entity.length?ne:z,oe)?se.entity+=oe:(Ce(se,"Invalid character in entity name"),se[ie]+="&"+se.entity+oe,se.entity="",se.state=$);continue;default:throw new Error(se,"Unknown state: "+se.state)}return se.position>=se.bufferCheckPosition&&function x(K){for(var se=Math.max(b.MAX_BUFFER_LENGTH,10),ge=0,oe=0,Q=A.length;oe<Q;oe++){var q=K[A[oe]].length;if(q>se)switch(A[oe]){case"textNode":xe(K);break;case"cdata":Ee(K,"oncdata",K.cdata),K.cdata="";break;case"script":Ee(K,"onscript",K.script),K.script="";break;default:fe(K,"Max buffer length exceeded: "+A[oe])}ge=Math.max(ge,q)}K.bufferCheckPosition=b.MAX_BUFFER_LENGTH-ge+K.position}(se),se},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function g(K){xe(K),""!==K.cdata&&(Ee(K,"oncdata",K.cdata),K.cdata=""),""!==K.script&&(Ee(K,"onscript",K.script),K.script="")}(this)}};try{d=e(
/*! stream */
"./node_modules/stream-browserify/index.js").Stream}catch{d=function(){}}var i=b.EVENTS.filter(function(K){return"error"!==K&&"end"!==K});function p(K,se){if(!(this instanceof p))return new p(K,se);d.apply(this),this._parser=new _(K,se),this.writable=!0,this.readable=!0;var ge=this;this._parser.onend=function(){ge.emit("end")},this._parser.onerror=function(oe){ge.emit("error",oe),ge._parser.error=null},this._decoder=null,i.forEach(function(oe){Object.defineProperty(ge,"on"+oe,{get:function(){return ge._parser["on"+oe]},set:function(Q){if(!Q)return ge.removeAllListeners(oe),ge._parser["on"+oe]=Q,Q;ge.on(oe,Q)},enumerable:!0,configurable:!1})})}(p.prototype=Object.create(d.prototype,{constructor:{value:p}})).write=function(K){if("function"==typeof n&&"function"==typeof n.isBuffer&&n.isBuffer(K)){if(!this._decoder){var se=e(
/*! string_decoder */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._decoder=new se("utf8")}K=this._decoder.write(K)}return this._parser.write(K.toString()),this.emit("data",K),!0},p.prototype.end=function(K){return K&&K.length&&this.write(K),this._parser.end(),!0},p.prototype.on=function(K,se){var ge=this;return!ge._parser["on"+K]&&-1!==i.indexOf(K)&&(ge._parser["on"+K]=function(){var oe=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);oe.splice(0,0,K),ge.emit.apply(ge,oe)}),d.prototype.on.call(ge,K,se)};var T="\r\n\t ",B="0124356789",P="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",k="'\"",F=T+">",O="[CDATA[",D="DOCTYPE",I="http://www.w3.org/XML/1998/namespace",S="http://www.w3.org/2000/xmlns/",L={xml:I,xmlns:S};T=te(T),B=te(B),P=te(P);var C=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,U=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,z=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ne=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function te(K){return K.split("").reduce(function(se,ge){return se[ge]=!0,se},{})}function J(K,se){return function Me(K){return"[object RegExp]"===Object.prototype.toString.call(K)}(K)?!!se.match(K):K[se]}function ce(K,se){return!J(K,se)}k=te(k),F=te(F);var K,se,ge,W=0;for(var Se in b.STATE={BEGIN:W++,BEGIN_WHITESPACE:W++,TEXT:W++,TEXT_ENTITY:W++,OPEN_WAKA:W++,SGML_DECL:W++,SGML_DECL_QUOTED:W++,DOCTYPE:W++,DOCTYPE_QUOTED:W++,DOCTYPE_DTD:W++,DOCTYPE_DTD_QUOTED:W++,COMMENT_STARTING:W++,COMMENT:W++,COMMENT_ENDING:W++,COMMENT_ENDED:W++,CDATA:W++,CDATA_ENDING:W++,CDATA_ENDING_2:W++,PROC_INST:W++,PROC_INST_BODY:W++,PROC_INST_ENDING:W++,OPEN_TAG:W++,OPEN_TAG_SLASH:W++,ATTRIB:W++,ATTRIB_NAME:W++,ATTRIB_NAME_SAW_WHITE:W++,ATTRIB_VALUE:W++,ATTRIB_VALUE_QUOTED:W++,ATTRIB_VALUE_CLOSED:W++,ATTRIB_VALUE_UNQUOTED:W++,ATTRIB_VALUE_ENTITY_Q:W++,ATTRIB_VALUE_ENTITY_U:W++,CLOSE_TAG:W++,CLOSE_TAG_SAW_WHITE:W++,SCRIPT:W++,SCRIPT_ENDING:W++},b.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},b.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(b.ENTITIES).forEach(function(K){var se=b.ENTITIES[K],ge="number"==typeof se?String.fromCharCode(se):se;b.ENTITIES[K]=ge}),b.STATE)b.STATE[b.STATE[Se]]=Se;function le(K,se,ge){K[se]&&K[se](ge)}function Ee(K,se,ge){K.textNode&&xe(K),le(K,se,ge)}function xe(K){K.textNode=Ve(K.opt,K.textNode),K.textNode&&le(K,"ontext",K.textNode),K.textNode=""}function Ve(K,se){return K.trim&&(se=se.trim()),K.normalize&&(se=se.replace(/\s+/g," ")),se}function fe(K,se){return xe(K),K.trackPosition&&(se+="\nLine: "+K.line+"\nColumn: "+K.column+"\nChar: "+K.c),se=new Error(se),K.error=se,le(K,"onerror",se),K}function Pe(K){return K.sawRoot&&!K.closedRoot&&Ce(K,"Unclosed root tag"),K.state!==W.BEGIN&&K.state!==W.BEGIN_WHITESPACE&&K.state!==W.TEXT&&fe(K,"Unexpected end"),xe(K),K.c="",K.closed=!0,le(K,"onend"),_.call(K,K.strict,K.opt),K}function Ce(K,se){if("object"!=typeof K||!(K instanceof _))throw new Error("bad call to strictFail");K.strict&&fe(K,se)}function me(K){K.strict||(K.tagName=K.tagName[K.looseCase]());var se=K.tags[K.tags.length-1]||K,ge=K.tag={name:K.tagName,attributes:{}};K.opt.xmlns&&(ge.ns=se.ns),K.attribList.length=0,Ee(K,"onopentagstart",ge)}function De(K,se){var oe=K.indexOf(":")<0?["",K]:K.split(":"),Q=oe[0],q=oe[1];return se&&"xmlns"===K&&(Q="xmlns",q=""),{prefix:Q,local:q}}function Re(K){if(K.strict||(K.attribName=K.attribName[K.looseCase]()),-1!==K.attribList.indexOf(K.attribName)||K.tag.attributes.hasOwnProperty(K.attribName))K.attribName=K.attribValue="";else{if(K.opt.xmlns){var se=De(K.attribName,!0),oe=se.local;if("xmlns"===se.prefix)if("xml"===oe&&K.attribValue!==I)Ce(K,"xml: prefix must be bound to "+I+"\nActual: "+K.attribValue);else if("xmlns"===oe&&K.attribValue!==S)Ce(K,"xmlns: prefix must be bound to "+S+"\nActual: "+K.attribValue);else{var Q=K.tag,q=K.tags[K.tags.length-1]||K;Q.ns===q.ns&&(Q.ns=Object.create(q.ns)),Q.ns[oe]=K.attribValue}K.attribList.push([K.attribName,K.attribValue])}else K.tag.attributes[K.attribName]=K.attribValue,Ee(K,"onattribute",{name:K.attribName,value:K.attribValue});K.attribName=K.attribValue=""}}function Fe(K,se){if(K.opt.xmlns){var ge=K.tag,oe=De(K.tagName);ge.prefix=oe.prefix,ge.local=oe.local,ge.uri=ge.ns[oe.prefix]||"",ge.prefix&&!ge.uri&&(Ce(K,"Unbound namespace prefix: "+JSON.stringify(K.tagName)),ge.uri=oe.prefix),ge.ns&&(K.tags[K.tags.length-1]||K).ns!==ge.ns&&Object.keys(ge.ns).forEach(function(Qe){Ee(K,"onopennamespace",{prefix:Qe,uri:ge.ns[Qe]})});for(var q=0,$=K.attribList.length;q<$;q++){var ie=K.attribList[q],Z=ie[0],X=ie[1],pe=De(Z,!0),Te=pe.prefix,Le=""===Te?"":ge.ns[Te]||"",et={name:Z,value:X,prefix:Te,local:pe.local,uri:Le};Te&&"xmlns"!==Te&&!Le&&(Ce(K,"Unbound namespace prefix: "+JSON.stringify(Te)),et.uri=Te),K.tag.attributes[Z]=et,Ee(K,"onattribute",et)}K.attribList.length=0}K.tag.isSelfClosing=!!se,K.sawRoot=!0,K.tags.push(K.tag),Ee(K,"onopentag",K.tag),se||(K.state=K.noscript||"script"!==K.tagName.toLowerCase()?W.TEXT:W.SCRIPT,K.tag=null,K.tagName=""),K.attribName=K.attribValue="",K.attribList.length=0}function Ne(K){if(!K.tagName)return Ce(K,"Weird empty close tag."),K.textNode+="</>",void(K.state=W.TEXT);if(K.script){if("script"!==K.tagName)return K.script+="</"+K.tagName+">",K.tagName="",void(K.state=W.SCRIPT);Ee(K,"onscript",K.script),K.script=""}var se=K.tags.length,ge=K.tagName;K.strict||(ge=ge[K.looseCase]());for(var oe=ge;se--&&K.tags[se].name!==oe;)Ce(K,"Unexpected close tag");if(se<0)return Ce(K,"Unmatched closing tag: "+K.tagName),K.textNode+="</"+K.tagName+">",void(K.state=W.TEXT);K.tagName=ge;for(var q=K.tags.length;q-- >se;){var $=K.tag=K.tags.pop();K.tagName=K.tag.name,Ee(K,"onclosetag",K.tagName);var ie={};for(var Z in $.ns)ie[Z]=$.ns[Z];K.opt.xmlns&&$.ns!==(K.tags[K.tags.length-1]||K).ns&&Object.keys($.ns).forEach(function(pe){Ee(K,"onclosenamespace",{prefix:pe,uri:$.ns[pe]})})}0===se&&(K.closedRoot=!0),K.tagName=K.attribValue=K.attribName="",K.attribList.length=0,K.state=W.TEXT}function at(K){var oe,se=K.entity,ge=se.toLowerCase(),Q="";return K.ENTITIES[se]?K.ENTITIES[se]:K.ENTITIES[ge]?K.ENTITIES[ge]:("#"===(se=ge).charAt(0)&&("x"===se.charAt(1)?(se=se.slice(2),Q=(oe=parseInt(se,16)).toString(16)):(se=se.slice(1),Q=(oe=parseInt(se,10)).toString(10))),se=se.replace(/^0+/,""),Q.toLowerCase()!==se?(Ce(K,"Invalid character entity"),"&"+K.entity+";"):String.fromCodePoint(oe))}function Be(K,se){"<"===se?(K.state=W.OPEN_WAKA,K.startTagPosition=K.position):ce(T,se)&&(Ce(K,"Non-whitespace before first tag."),K.textNode=se,K.state=W.TEXT)}function ye(K,se){var ge="";return se<K.length&&(ge=K.charAt(se)),ge}W=b.STATE,String.fromCodePoint||(K=String.fromCharCode,se=Math.floor,ge=function(){var Q=[],ie=-1,Z=arguments.length;if(!Z)return"";for(var X="";++ie<Z;){var pe=Number(arguments[ie]);if(!isFinite(pe)||pe<0||pe>1114111||se(pe)!==pe)throw RangeError("Invalid code point: "+pe);pe<=65535?Q.push(pe):Q.push(55296+((pe-=65536)>>10),pe%1024+56320),(ie+1===Z||Q.length>16384)&&(X+=K.apply(null,Q),Q.length=0)}return X},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ge,configurable:!0,writable:!0}):String.fromCodePoint=ge)}(v)}).call(this,e(
/*! ./../../buffer/index.js */
"./node_modules/buffer/index.js").Buffer)},"./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
                  !*** ./node_modules/setimmediate/setImmediate.js ***!
                  \***************************************************/
/*! no static exports found */function(Xe,v,e){(function(n,b){!function(A,_){"use strict";if(!A.setImmediate){var i,x=1,w={},g=!1,d=A.document,S=Object.getPrototypeOf&&Object.getPrototypeOf(A);S=S&&S.setTimeout?S:A,"[object process]"==={}.toString.call(A.process)?function P(){i=function(L){b.nextTick(function(){B(L)})}}():function k(){if(A.postMessage&&!A.importScripts){var L=!0,C=A.onmessage;return A.onmessage=function(){L=!1},A.postMessage("","*"),A.onmessage=C,L}}()?function F(){var L="setImmediate$"+Math.random()+"$",C=function(U){U.source===A&&"string"==typeof U.data&&0===U.data.indexOf(L)&&B(+U.data.slice(L.length))};A.addEventListener?A.addEventListener("message",C,!1):A.attachEvent("onmessage",C),i=function(U){A.postMessage(L+U,"*")}}():A.MessageChannel?function O(){var L=new MessageChannel;L.port1.onmessage=function(C){B(C.data)},i=function(C){L.port2.postMessage(C)}}():d&&"onreadystatechange"in d.createElement("script")?function D(){var L=d.documentElement;i=function(C){var U=d.createElement("script");U.onreadystatechange=function(){B(C),U.onreadystatechange=null,L.removeChild(U),U=null},L.appendChild(U)}}():function I(){i=function(L){setTimeout(B,0,L)}}(),S.setImmediate=function h(L){"function"!=typeof L&&(L=new Function(""+L));for(var C=new Array(arguments.length-1),U=0;U<C.length;U++)C[U]=arguments[U+1];return w[x]={callback:L,args:C},i(x),x++},S.clearImmediate=p}function p(L){delete w[L]}function B(L){if(g)setTimeout(B,0,L);else{var C=w[L];if(C){g=!0;try{!function T(L){var C=L.callback,U=L.args;switch(U.length){case 0:C();break;case 1:C(U[0]);break;case 2:C(U[0],U[1]);break;case 3:C(U[0],U[1],U[2]);break;default:C.apply(_,U)}}(C)}finally{p(L),g=!1}}}}}(typeof self>"u"?typeof n>"u"?this:n:self)}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),e(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/stream-browserify/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/stream-browserify/index.js ***!
                  \*************************************************/
/*! no static exports found */function(Xe,v,e){Xe.exports=A;var n=e(
/*! events */
"./node_modules/events/events.js").EventEmitter;function A(){n.call(this)}e(
/*! inherits */
"./node_modules/inherits/inherits_browser.js")(A,n),A.Readable=e(
/*! readable-stream/readable.js */
"./node_modules/readable-stream/readable-browser.js"),A.Writable=e(
/*! readable-stream/writable.js */
"./node_modules/readable-stream/writable-browser.js"),A.Duplex=e(
/*! readable-stream/duplex.js */
"./node_modules/readable-stream/duplex-browser.js"),A.Transform=e(
/*! readable-stream/transform.js */
"./node_modules/readable-stream/transform.js"),A.PassThrough=e(
/*! readable-stream/passthrough.js */
"./node_modules/readable-stream/passthrough.js"),A.Stream=A,A.prototype.pipe=function(_,x){var w=this;function g(P){_.writable&&!1===_.write(P)&&w.pause&&w.pause()}function d(){w.readable&&w.resume&&w.resume()}w.on("data",g),_.on("drain",d),!_._isStdio&&(!x||!1!==x.end)&&(w.on("end",h),w.on("close",p));var i=!1;function h(){i||(i=!0,_.end())}function p(){i||(i=!0,"function"==typeof _.destroy&&_.destroy())}function T(P){if(B(),0===n.listenerCount(this,"error"))throw P}function B(){w.removeListener("data",g),_.removeListener("drain",d),w.removeListener("end",h),w.removeListener("close",p),w.removeListener("error",T),_.removeListener("error",T),w.removeListener("end",B),w.removeListener("close",B),_.removeListener("close",B)}return w.on("error",T),_.on("error",T),w.on("end",B),w.on("close",B),_.on("close",B),_.emit("pipe",w),_}},"./node_modules/string_decoder/lib/string_decoder.js":
/*!***********************************************************!*\
                  !*** ./node_modules/string_decoder/lib/string_decoder.js ***!
                  \***********************************************************/
/*! no static exports found */function(Xe,v,e){"use strict";var n=e(
/*! safe-buffer */
"./node_modules/safe-buffer/index.js").Buffer,b=n.isEncoding||function(D){switch((D=""+D)&&D.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function x(D){var I;switch(this.encoding=function _(D){var I=function A(D){if(!D)return"utf8";for(var I;;)switch(D){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return D;default:if(I)return;D=(""+D).toLowerCase(),I=!0}}(D);if("string"!=typeof I&&(n.isEncoding===b||!b(D)))throw new Error("Unknown encoding: "+D);return I||D}(D),this.encoding){case"utf16le":this.text=T,this.end=B,I=4;break;case"utf8":this.fillLast=i,I=4;break;case"base64":this.text=P,this.end=k,I=3;break;default:return this.write=F,void(this.end=O)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(I)}function w(D){return D<=127?0:D>>5==6?2:D>>4==14?3:D>>3==30?4:D>>6==2?-1:-2}function i(D){var I=this.lastTotal-this.lastNeed,S=function d(D,I,S){if(128!=(192&I[0]))return D.lastNeed=0,"\ufffd";if(D.lastNeed>1&&I.length>1){if(128!=(192&I[1]))return D.lastNeed=1,"\ufffd";if(D.lastNeed>2&&I.length>2&&128!=(192&I[2]))return D.lastNeed=2,"\ufffd"}}(this,D);return void 0!==S?S:this.lastNeed<=D.length?(D.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(D.copy(this.lastChar,I,0,D.length),void(this.lastNeed-=D.length))}function T(D,I){if((D.length-I)%2==0){var S=D.toString("utf16le",I);if(S){var L=S.charCodeAt(S.length-1);if(L>=55296&&L<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1],S.slice(0,-1)}return S}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=D[D.length-1],D.toString("utf16le",I,D.length-1)}function B(D){var I=D&&D.length?this.write(D):"";return this.lastNeed?I+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):I}function P(D,I){var S=(D.length-I)%3;return 0===S?D.toString("base64",I):(this.lastNeed=3-S,this.lastTotal=3,1===S?this.lastChar[0]=D[D.length-1]:(this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1]),D.toString("base64",I,D.length-S))}function k(D){var I=D&&D.length?this.write(D):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function F(D){return D.toString(this.encoding)}function O(D){return D&&D.length?this.write(D):""}v.StringDecoder=x,x.prototype.write=function(D){if(0===D.length)return"";var I,S;if(this.lastNeed){if(void 0===(I=this.fillLast(D)))return"";S=this.lastNeed,this.lastNeed=0}else S=0;return S<D.length?I?I+this.text(D,S):this.text(D,S):I||""},x.prototype.end=function p(D){var I=D&&D.length?this.write(D):"";return this.lastNeed?I+"\ufffd":I},x.prototype.text=function h(D,I){var S=function g(D,I,S){var L=I.length-1;if(L<S)return 0;var C=w(I[L]);return C>=0?(C>0&&(D.lastNeed=C-1),C):--L<S||-2===C?0:(C=w(I[L]))>=0?(C>0&&(D.lastNeed=C-2),C):--L<S||-2===C?0:(C=w(I[L]))>=0?(C>0&&(2===C?C=0:D.lastNeed=C-3),C):0}(this,D,I);if(!this.lastNeed)return D.toString("utf8",I);this.lastTotal=S;var L=D.length-(S-this.lastNeed);return D.copy(this.lastChar,0,L),D.toString("utf8",I,L)},x.prototype.fillLast=function(D){if(this.lastNeed<=D.length)return D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,D.length),this.lastNeed-=D.length}},"./node_modules/timers-browserify/main.js":
/*!************************************************!*\
                  !*** ./node_modules/timers-browserify/main.js ***!
                  \************************************************/
/*! no static exports found */function(Xe,v,e){(function(n){var b=typeof n<"u"&&n||typeof self<"u"&&self||window,A=Function.prototype.apply;function _(x,w){this._id=x,this._clearFn=w}v.setTimeout=function(){return new _(A.call(setTimeout,b,arguments),clearTimeout)},v.setInterval=function(){return new _(A.call(setInterval,b,arguments),clearInterval)},v.clearTimeout=v.clearInterval=function(x){x&&x.close()},_.prototype.unref=_.prototype.ref=function(){},_.prototype.close=function(){this._clearFn.call(b,this._id)},v.enroll=function(x,w){clearTimeout(x._idleTimeoutId),x._idleTimeout=w},v.unenroll=function(x){clearTimeout(x._idleTimeoutId),x._idleTimeout=-1},v._unrefActive=v.active=function(x){clearTimeout(x._idleTimeoutId);var w=x._idleTimeout;w>=0&&(x._idleTimeoutId=setTimeout(function(){x._onTimeout&&x._onTimeout()},w))},e(
/*! setimmediate */
"./node_modules/setimmediate/setImmediate.js"),v.setImmediate=typeof self<"u"&&self.setImmediate||typeof n<"u"&&n.setImmediate||this&&this.setImmediate,v.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof n<"u"&&n.clearImmediate||this&&this.clearImmediate}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/ua-parser-js/src/ua-parser.js":
/*!****************************************************!*\
                  !*** ./node_modules/ua-parser-js/src/ua-parser.js ***!
                  \****************************************************/
/*! no static exports found */function(Xe,v,e){var n;!function(b,A){"use strict";var g="function",d="undefined",i="object",h="string",T="model",B="name",P="type",k="vendor",F="version",O="architecture",D="console",I="mobile",S="tablet",L="smarttv",C="wearable",U="embedded",ne="Amazon",te="Apple",J="BlackBerry",ce="Browser",W="Chrome",le="Firefox",Ee="Google",fe="Microsoft",Pe="Motorola",Ce="Opera",me="Samsung",Re="Sony",Fe="Xiaomi",Ne="Zebra",at="Facebook",ye=function(Te){for(var be={},Le=0;Le<Te.length;Le++)be[Te[Le].toUpperCase()]=Te[Le];return be},ve=function(Te,be){return typeof Te===h&&-1!==K(be).indexOf(K(Te))},K=function(Te){return Te.toLowerCase()},ge=function(Te,be){if(typeof Te===h)return Te=Te.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof be===d?Te:Te.substring(0,350)},oe=function(Te,be){for(var et,Qe,qe,ft,ze,ht,Le=0;Le<be.length&&!ze;){var Et=be[Le],de=be[Le+1];for(et=Qe=0;et<Et.length&&!ze;)if(ze=Et[et++].exec(Te))for(qe=0;qe<de.length;qe++)ht=ze[++Qe],typeof(ft=de[qe])===i&&ft.length>0?2===ft.length?this[ft[0]]=typeof ft[1]==g?ft[1].call(this,ht):ft[1]:3===ft.length?this[ft[0]]=typeof ft[1]!==g||ft[1].exec&&ft[1].test?ht?ht.replace(ft[1],ft[2]):A:ht?ft[1].call(this,ht,ft[2]):A:4===ft.length&&(this[ft[0]]=ht?ft[3].call(this,ht.replace(ft[1],ft[2])):A):this[ft]=ht||A;Le+=2}},Q=function(Te,be){for(var Le in be)if(typeof be[Le]===i&&be[Le].length>0){for(var et=0;et<be[Le].length;et++)if(ve(be[Le][et],Te))return"?"===Le?A:Le}else if(ve(be[Le],Te))return"?"===Le?A:Le;return Te},$={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ie={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[F,[B,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[F,[B,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[B,F],[/opios[\/ ]+([\w\.]+)/i],[F,[B,Ce+" Mini"]],[/\bopr\/([\w\.]+)/i],[F,[B,Ce]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[B,F],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[F,[B,"UC"+ce]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[F,[B,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[F,[B,"WeChat"]],[/konqueror\/([\w\.]+)/i],[F,[B,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[F,[B,"IE"]],[/yabrowser\/([\w\.]+)/i],[F,[B,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[B,/(.+)/,"$1 Secure "+ce],F],[/\bfocus\/([\w\.]+)/i],[F,[B,le+" Focus"]],[/\bopt\/([\w\.]+)/i],[F,[B,Ce+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[F,[B,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[F,[B,"Dolphin"]],[/coast\/([\w\.]+)/i],[F,[B,Ce+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[F,[B,"MIUI "+ce]],[/fxios\/([-\w\.]+)/i],[F,[B,le]],[/\bqihu|(qi?ho?o?|360)browser/i],[[B,"360 "+ce]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[B,/(.+)/,"$1 "+ce],F],[/(comodo_dragon)\/([\w\.]+)/i],[[B,/_/g," "],F],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[B,F],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[B],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[B,at],F],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[B,F],[/\bgsa\/([\w\.]+) .*safari\//i],[F,[B,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[F,[B,W+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[B,W+" WebView"],F],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[F,[B,"Android "+ce]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[B,F],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[F,[B,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[F,B],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[B,[F,Q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[B,F],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[B,"Netscape"],F],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[F,[B,le+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[B,F]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[O,"amd64"]],[/(ia32(?=;))/i],[[O,K]],[/((?:i[346]|x)86)[;\)]/i],[[O,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[O,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[O,"armhf"]],[/windows (ce|mobile); ppc;/i],[[O,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[O,/ower/,"",K]],[/(sun4\w)[;\)]/i],[[O,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[O,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[T,[k,me],[P,S]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[T,[k,me],[P,I]],[/\((ip(?:hone|od)[\w ]*);/i],[T,[k,te],[P,I]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[T,[k,te],[P,S]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[T,[k,"Huawei"],[P,S]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[T,[k,"Huawei"],[P,I]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[T,/_/g," "],[k,Fe],[P,I]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[T,/_/g," "],[k,Fe],[P,S]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[T,[k,"OPPO"],[P,I]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[T,[k,"Vivo"],[P,I]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[T,[k,"Realme"],[P,I]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[T,[k,Pe],[P,I]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[T,[k,Pe],[P,S]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[T,[k,"LG"],[P,S]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[T,[k,"LG"],[P,I]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[T,[k,"Lenovo"],[P,S]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[T,/_/g," "],[k,"Nokia"],[P,I]],[/(pixel c)\b/i],[T,[k,Ee],[P,S]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[T,[k,Ee],[P,I]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[T,[k,Re],[P,I]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[T,"Xperia Tablet"],[k,Re],[P,S]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[T,[k,"OnePlus"],[P,I]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[T,[k,ne],[P,S]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[T,/(.+)/g,"Fire Phone $1"],[k,ne],[P,I]],[/(playbook);[-\w\),; ]+(rim)/i],[T,k,[P,S]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[T,[k,J],[P,I]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[T,[k,"ASUS"],[P,S]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[T,[k,"ASUS"],[P,I]],[/(nexus 9)/i],[T,[k,"HTC"],[P,S]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[k,[T,/_/g," "],[P,I]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[T,[k,"Acer"],[P,S]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[T,[k,"Meizu"],[P,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[T,[k,"Sharp"],[P,I]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[k,T,[P,I]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[k,T,[P,S]],[/(surface duo)/i],[T,[k,fe],[P,S]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[T,[k,"Fairphone"],[P,I]],[/(u304aa)/i],[T,[k,"AT&T"],[P,I]],[/\bsie-(\w*)/i],[T,[k,"Siemens"],[P,I]],[/\b(rct\w+) b/i],[T,[k,"RCA"],[P,S]],[/\b(venue[\d ]{2,7}) b/i],[T,[k,"Dell"],[P,S]],[/\b(q(?:mv|ta)\w+) b/i],[T,[k,"Verizon"],[P,S]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[T,[k,"Barnes & Noble"],[P,S]],[/\b(tm\d{3}\w+) b/i],[T,[k,"NuVision"],[P,S]],[/\b(k88) b/i],[T,[k,"ZTE"],[P,S]],[/\b(nx\d{3}j) b/i],[T,[k,"ZTE"],[P,I]],[/\b(gen\d{3}) b.+49h/i],[T,[k,"Swiss"],[P,I]],[/\b(zur\d{3}) b/i],[T,[k,"Swiss"],[P,S]],[/\b((zeki)?tb.*\b) b/i],[T,[k,"Zeki"],[P,S]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[k,"Dragon Touch"],T,[P,S]],[/\b(ns-?\w{0,9}) b/i],[T,[k,"Insignia"],[P,S]],[/\b((nxa|next)-?\w{0,9}) b/i],[T,[k,"NextBook"],[P,S]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[k,"Voice"],T,[P,I]],[/\b(lvtel\-)?(v1[12]) b/i],[[k,"LvTel"],T,[P,I]],[/\b(ph-1) /i],[T,[k,"Essential"],[P,I]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[T,[k,"Envizen"],[P,S]],[/\b(trio[-\w\. ]+) b/i],[T,[k,"MachSpeed"],[P,S]],[/\btu_(1491) b/i],[T,[k,"Rotor"],[P,S]],[/(shield[\w ]+) b/i],[T,[k,"Nvidia"],[P,S]],[/(sprint) (\w+)/i],[k,T,[P,I]],[/(kin\.[onetw]{3})/i],[[T,/\./g," "],[k,fe],[P,I]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[T,[k,Ne],[P,S]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[T,[k,Ne],[P,I]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[k,T,[P,D]],[/droid.+; (shield) bui/i],[T,[k,"Nvidia"],[P,D]],[/(playstation [345portablevi]+)/i],[T,[k,Re],[P,D]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[T,[k,fe],[P,D]],[/smart-tv.+(samsung)/i],[k,[P,L]],[/hbbtv.+maple;(\d+)/i],[[T,/^/,"SmartTV"],[k,me],[P,L]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[k,"LG"],[P,L]],[/(apple) ?tv/i],[k,[T,te+" TV"],[P,L]],[/crkey/i],[[T,W+"cast"],[k,Ee],[P,L]],[/droid.+aft(\w)( bui|\))/i],[T,[k,ne],[P,L]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[T,[k,"Sharp"],[P,L]],[/(bravia[\w ]+)( bui|\))/i],[T,[k,Re],[P,L]],[/(mitv-\w{5}) bui/i],[T,[k,Fe],[P,L]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[k,ge],[T,ge],[P,L]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[P,L]],[/((pebble))app/i],[k,T,[P,C]],[/droid.+; (glass) \d/i],[T,[k,Ee],[P,C]],[/droid.+; (wt63?0{2,3})\)/i],[T,[k,Ne],[P,C]],[/(quest( 2)?)/i],[T,[k,at],[P,C]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[k,[P,U]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[T,[P,I]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[T,[P,S]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[P,S]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[P,I]],[/(android[-\w\. ]{0,9});.+buil/i],[T,[k,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[F,[B,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[F,[B,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[B,F],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[F,B]],os:[[/microsoft (windows) (vista|xp)/i],[B,F],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[B,[F,Q,$]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[B,"Windows"],[F,Q,$]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[F,/_/g,"."],[B,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[B,"Mac OS"],[F,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[F,B],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[B,F],[/\(bb(10);/i],[F,[B,J]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[F,[B,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[F,[B,le+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[F,[B,"webOS"]],[/crkey\/([\d\.]+)/i],[F,[B,W+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[B,"Chromium OS"],F],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[B,F],[/(sunos) ?([\w\.\d]*)/i],[[B,"Solaris"],F],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[B,F]]},Z=function(Te,be){if(typeof Te===i&&(be=Te,Te=A),!(this instanceof Z))return new Z(Te,be).getResult();var Le=Te||(typeof b!==d&&b.navigator&&b.navigator.userAgent?b.navigator.userAgent:""),et=be?function(Te,be){var Le={};for(var et in Te)Le[et]=be[et]&&be[et].length%2==0?be[et].concat(Te[et]):Te[et];return Le}(ie,be):ie;return this.getBrowser=function(){var Qe={};return Qe[B]=A,Qe[F]=A,oe.call(Qe,Le,et.browser),Qe.major=function(Te){return typeof Te===h?Te.replace(/[^\d\.]/g,"").split(".")[0]:A}(Qe.version),Qe},this.getCPU=function(){var Qe={};return Qe[O]=A,oe.call(Qe,Le,et.cpu),Qe},this.getDevice=function(){var Qe={};return Qe[k]=A,Qe[T]=A,Qe[P]=A,oe.call(Qe,Le,et.device),Qe},this.getEngine=function(){var Qe={};return Qe[B]=A,Qe[F]=A,oe.call(Qe,Le,et.engine),Qe},this.getOS=function(){var Qe={};return Qe[B]=A,Qe[F]=A,oe.call(Qe,Le,et.os),Qe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Le},this.setUA=function(Qe){return Le=typeof Qe===h&&Qe.length>350?ge(Qe,350):Qe,this},this.setUA(Le),this};Z.VERSION="1.0.32",Z.BROWSER=ye([B,F,"major"]),Z.CPU=ye([O]),Z.DEVICE=ye([T,k,P,D,I,L,S,C,U]),Z.ENGINE=Z.OS=ye([B,F]),typeof v!==d?(typeof Xe!==d&&Xe.exports&&(v=Xe.exports=Z),v.UAParser=Z):e(
/*! !webpack amd options */
"./node_modules/webpack/buildin/amd-options.js")?(n=function(){return Z}.call(v,e,v,Xe))!==A&&(Xe.exports=n):typeof b!==d&&(b.UAParser=Z);var X=typeof b!==d&&(b.jQuery||b.Zepto);if(X&&!X.ua){var pe=new Z;X.ua=pe.getResult(),X.ua.get=function(){return pe.getUA()},X.ua.set=function(Te){pe.setUA(Te);var be=pe.getResult();for(var Le in be)X.ua[Le]=be[Le]}}}("object"==typeof window?window:this)},"./node_modules/util-deprecate/browser.js":
/*!************************************************!*\
                  !*** ./node_modules/util-deprecate/browser.js ***!
                  \************************************************/
/*! no static exports found */function(Xe,v,e){(function(n){function A(_){try{if(!n.localStorage)return!1}catch{return!1}var x=n.localStorage[_];return null!=x&&"true"===String(x).toLowerCase()}Xe.exports=function b(_,x){if(A("noDeprecation"))return _;var w=!1;return function g(){if(!w){if(A("throwDeprecation"))throw new Error(x);A("traceDeprecation")?console.trace(x):console.warn(x),w=!0}return _.apply(this,arguments)}}}).call(this,e(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
                  !*** (webpack)/buildin/amd-options.js ***!
                  \****************************************/
/*! no static exports found */function(Xe,v){(function(e){Xe.exports=e}).call(this,{})},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
                  !*** (webpack)/buildin/global.js ***!
                  \***********************************/
/*! no static exports found */function(Xe,v){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch{"object"==typeof window&&(e=window)}Xe.exports=e},"./src/core/Debug.js":
/*!***************************!*\
                  !*** ./src/core/Debug.js ***!
                  \***************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./EventBus */
"./src/core/EventBus.js"),b=e(
/*! ./events/Events */
"./src/core/events/Events.js"),A=e(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),x=1,w=2,g=3,d=4,i=5;function h(T){T=T||{};var O,D,I,S,B=this.context,P=Object(n.default)(B).getInstance(),k=T.settings,F=[];function C(le){return le&&le.bind?le.bind(window.console):window.console.log.bind(window.console)}function te(){for(var le=arguments.length,Ee=new Array(le),xe=0;xe<le;xe++)Ee[xe]=arguments[xe];Se.apply(void 0,[x,this].concat(Ee))}function Me(){for(var le=arguments.length,Ee=new Array(le),xe=0;xe<le;xe++)Ee[xe]=arguments[xe];Se.apply(void 0,[w,this].concat(Ee))}function J(){for(var le=arguments.length,Ee=new Array(le),xe=0;xe<le;xe++)Ee[xe]=arguments[xe];Se.apply(void 0,[g,this].concat(Ee))}function ce(){for(var le=arguments.length,Ee=new Array(le),xe=0;xe<le;xe++)Ee[xe]=arguments[xe];Se.apply(void 0,[d,this].concat(Ee))}function W(){for(var le=arguments.length,Ee=new Array(le),xe=0;xe<le;xe++)Ee[xe]=arguments[xe];Se.apply(void 0,[i,this].concat(Ee))}function Se(le,Ee){var xe="",Ve=null;D&&(Ve=(new Date).getTime(),xe+="["+(Ve-S)+"]"),I&&Ee&&Ee.getClassName&&(xe+="["+Ee.getClassName()+"]",Ee.getType&&(xe+="["+Ee.getType()+"]")),xe.length>0&&(xe+=" ");for(var fe=arguments.length,Pe=new Array(fe>2?fe-2:0),Ce=2;Ce<fe;Ce++)Pe[Ce-2]=arguments[Ce];Array.apply(null,Pe).forEach(function(me){xe+=me+" "}),F[le]&&k.get().debug.logLevel>=le&&F[le](xe),k&&k.get().debug.dispatchEvent&&P.trigger(b.default.LOG,{message:xe,level:le})}return O={getLogger:function U(le){return{fatal:te.bind(le),error:Me.bind(le),warn:J.bind(le),info:ce.bind(le),debug:W.bind(le)}},setLogTimestampVisible:function z(le){D=le},setCalleeNameVisible:function ne(le){I=le}},function L(){D=!0,I=!0,S=(new Date).getTime(),typeof window<"u"&&window.console&&(F[x]=C(window.console.error),F[w]=C(window.console.error),F[g]=C(window.console.warn),F[d]=C(window.console.info),F[i]=C(window.console.debug))}(),O}h.__dashjs_factory_name="Debug";var p=A.default.getSingletonFactory(h);p.LOG_LEVEL_NONE=0,p.LOG_LEVEL_FATAL=x,p.LOG_LEVEL_ERROR=w,p.LOG_LEVEL_WARNING=g,p.LOG_LEVEL_INFO=d,p.LOG_LEVEL_DEBUG=i,A.default.updateSingletonFactory(h.__dashjs_factory_name,p),v.default=p},"./src/core/EventBus.js":
/*!******************************!*\
                  !*** ./src/core/EventBus.js ***!
                  \******************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function x(){var g={};function p(P,k,F){var O=-1;return g[P]&&g[P].some(function(D,I){if(D&&D.callback===k&&(!F||F===D.scope))return O=I,!0}),O}return{on:function d(P,k,F){var O=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!P)throw new Error("event type cannot be null or undefined");if(!k||"function"!=typeof k)throw new Error("listener must be a function: "+k);var D=O.priority||0;if(!(p(P,k,F)>=0)){g[P]=g[P]||[];var I={callback:k,scope:F,priority:D};F&&F.getStreamId&&(I.streamId=F.getStreamId()),F&&F.getType&&(I.mediaType=F.getType()),O&&O.mode&&(I.mode=O.mode),g[P].some(function(L,C){if(L&&D>L.priority)return g[P].splice(C,0,I),!0})||g[P].push(I)}},off:function i(P,k,F){if(P&&k&&g[P]){var O=p(P,k,F);O<0||(g[P][O]=null)}},trigger:function h(P){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(P&&g[P]){if((k=k||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");k.type=P,F.streamId&&(k.streamId=F.streamId),F.mediaType&&(k.mediaType=F.mediaType),g[P].filter(function(O){return!(!O||F.streamId&&O.streamId&&O.streamId!==F.streamId||F.mediaType&&O.mediaType&&O.mediaType!==F.mediaType||F.mode&&O.mode&&O.mode!==F.mode||!O.mode&&F.mode&&F.mode===b.default.EVENT_MODE_ON_RECEIVE)}).forEach(function(O){return O&&O.callback.call(O.scope,k)})}},reset:function T(){g={}}}}x.__dashjs_factory_name="EventBus";var w=n.default.getSingletonFactory(x);w.EVENT_PRIORITY_LOW=0,w.EVENT_PRIORITY_HIGH=5e3,n.default.updateSingletonFactory(x.__dashjs_factory_name,w),v.default=w},"./src/core/FactoryMaker.js":
/*!**********************************!*\
                  !*** ./src/core/FactoryMaker.js ***!
                  \**********************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=function(){var b,A=[],_={},x={};function g(I,S){for(var L in A){var C=A[L];if(C.context===I&&C.name===S)return C.instance}return null}function h(I,S){return S[I]}function p(I,S,L){I in L&&(L[I]=S)}function D(I,S,L){var C,U=I.__dashjs_factory_name,z=S[U];if(z){var ne=z.instance;if(!z.override)return ne.apply({context:S,factory:b},L);for(var te in C=I.apply({context:S},L),ne=ne.apply({context:S,factory:b,parent:C},L))C.hasOwnProperty(te)&&(C[te]=ne[te])}else C=I.apply({context:S},L);return C.getClassName=function(){return U},C}return b={extend:function w(I,S,L,C){!C[I]&&S&&(C[I]={instance:S,override:L})},getSingletonInstance:g,setSingletonInstance:function d(I,S,L){for(var C in A){var U=A[C];if(U.context===I&&U.name===S)return void(A[C].instance=L)}A.push({name:S,context:I,instance:L})},deleteSingletonInstances:function i(I){A=A.filter(function(S){return S.context!==I})},getSingletonFactory:function O(I){var S=h(I.__dashjs_factory_name,_);return S||(S=function(C){var U;return void 0===C&&(C={}),{getInstance:function(){return U||(U=g(C,I.__dashjs_factory_name)),U||(U=D(I,C,arguments),A.push({name:I.__dashjs_factory_name,context:C,instance:U})),U}}},_[I.__dashjs_factory_name]=S),S},getSingletonFactoryByName:function F(I){return h(I,_)},updateSingletonFactory:function k(I,S){p(I,S,_)},getClassFactory:function P(I){var S=h(I.__dashjs_factory_name,x);return S||(S=function(C){return void 0===C&&(C={}),{create:function(){return D(I,C,arguments)}}},x[I.__dashjs_factory_name]=S),S},getClassFactoryByName:function B(I){return h(I,x)},updateClassFactory:function T(I,S){p(I,S,x)}}}();v.default=n},"./src/core/Settings.js":
/*!******************************!*\
                  !*** ./src/core/Settings.js ***!
                  \******************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ./Utils.js */
"./src/core/Utils.js"),A=e(
/*! ../core/Debug */
"./src/core/Debug.js"),_=e(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),x=e(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),w=e(
/*! ./EventBus */
"./src/core/EventBus.js"),g=e(
/*! ./events/Events */
"./src/core/events/Events.js");function d(P){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(P)}function i(P,k,F){return(k=function h(P){var k=function p(P,k){if("object"!==d(P)||null===P)return P;var F=P[Symbol.toPrimitive];if(void 0!==F){var O=F.call(P,k||"default");if("object"!==d(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===k?String:Number)(P)}(P,"string");return"symbol"===d(k)?k:String(k)}(k))in P?Object.defineProperty(P,k,{value:F,enumerable:!0,configurable:!0,writable:!0}):P[k]=F,P}function T(){var P,k,O=this.context,D=Object(w.default)(O).getInstance(),I={"streaming.delay.liveDelay":g.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":g.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":g.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":g.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":g.default.SETTING_UPDATED_PLAYBACK_RATE_MAX},S={debug:{logLevel:A.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:_.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:_.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:_.default.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:_.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(P={},i(P,x.HTTPRequest.MPD_TYPE,500),i(P,x.HTTPRequest.XLINK_EXPANSION_TYPE,500),i(P,x.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),i(P,x.HTTPRequest.INIT_SEGMENT_TYPE,1e3),i(P,x.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),i(P,x.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),i(P,x.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),i(P,x.HTTPRequest.LICENSE,1e3),i(P,x.HTTPRequest.OTHER_TYPE,1e3),i(P,"lowLatencyReductionFactor",10),P),retryAttempts:(k={},i(k,x.HTTPRequest.MPD_TYPE,3),i(k,x.HTTPRequest.XLINK_EXPANSION_TYPE,1),i(k,x.HTTPRequest.MEDIA_SEGMENT_TYPE,3),i(k,x.HTTPRequest.INIT_SEGMENT_TYPE,3),i(k,x.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),i(k,x.HTTPRequest.INDEX_SEGMENT_TYPE,3),i(k,x.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),i(k,x.HTTPRequest.LICENSE,3),i(k,x.HTTPRequest.OTHER_TYPE,3),i(k,"lowLatencyMultiplyFactor",5),k),abr:{movingAverageMethod:_.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:_.default.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:_.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:_.default.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]}},errors:{recoverAttempts:{mediaErrorDecode:5}}},L=b.default.clone(S);function C(te,Me,J){for(var ce in te)te.hasOwnProperty(ce)&&(Me.hasOwnProperty(ce)?"object"!==d(te[ce])||te[ce]instanceof Array||null===te[ce]?(Me[ce]=b.default.clone(te[ce]),I[J+ce]&&D.trigger(I[J+ce])):C(te[ce],Me[ce],J.slice()+ce+"."):console.error("Settings parameter "+J+ce+" is not supported"))}return{get:function U(){return L},update:function z(te){"object"===d(te)&&C(te,L,"")},reset:function ne(){L=b.default.clone(S)}}}T.__dashjs_factory_name="Settings";var B=n.default.getSingletonFactory(T);v.default=B},"./src/core/Utils.js":
/*!***************************!*\
                  !*** ./src/core/Utils.js ***!
                  \***************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! path-browserify */
"./node_modules/path-browserify/index.js"),b=e.n(n),A=e(
/*! ua-parser-js */
"./node_modules/ua-parser-js/src/ua-parser.js");function x(T){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(T)}function g(T,B){for(var P=0;P<B.length;P++){var k=B[P];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(T,i(k.key),k)}}function i(T){var B=function h(T,B){if("object"!==x(T)||null===T)return T;var P=T[Symbol.toPrimitive];if(void 0!==P){var k=P.call(T,B||"default");if("object"!==x(k))return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===B?String:Number)(T)}(T,"string");return"symbol"===x(B)?B:String(B)}var p=function(){function T(){!function w(T,B){if(!(T instanceof B))throw new TypeError("Cannot call a class as a function")}(this,T)}return function d(T,B,P){return B&&g(T.prototype,B),P&&g(T,P),Object.defineProperty(T,"prototype",{writable:!1}),T}(T,null,[{key:"mixin",value:function(P,k,F){var O,D={};if(P)for(var I in k)k.hasOwnProperty(I)&&(O=k[I],(!(I in P)||P[I]!==O&&(!(I in D)||D[I]!==O))&&(P[I]="object"===x(P[I])&&null!==P[I]?T.mixin(P[I],O,F):F(O)));return P}},{key:"clone",value:function(P){if(!P||"object"!==x(P))return P;var k;if(P instanceof Array){k=[];for(var F=0,O=P.length;F<O;++F)F in P&&k.push(T.clone(P[F]))}else k={};return T.mixin(k,P,T.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(P,k){try{if(!k||0===k.length)return P;var F=new URL(P);return k.forEach(function(O){O.key&&O.value&&F.searchParams.set(O.key,O.value)}),F.href}catch{return P}}},{key:"parseHttpHeaders",value:function(P){var k={};if(!P)return k;for(var F=P.trim().split("\r\n"),O=0,D=F.length;O<D;O++){var I=F[O],S=I.indexOf(": ");S>0&&(k[I.substring(0,S)]=I.substring(S+2))}return k}},{key:"generateUuid",value:function(){var P=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(F){var O=(P+16*Math.random())%16|0;return P=Math.floor(P/16),("x"==F?O:3&O|8).toString(16)})}},{key:"generateHashCode",value:function(P){var k=0;if(0===P.length)return k;for(var F=0;F<P.length;F++)k=(k<<5)-k+P.charCodeAt(F),k|=0;return k}},{key:"getRelativeUrl",value:function(P,k){try{var F=new URL(P),O=new URL(k);if(F.protocol=O.protocol,F.origin!==O.origin)return k;var D=b.a.relative(F.pathname.substr(0,F.pathname.lastIndexOf("/")),O.pathname.substr(0,O.pathname.lastIndexOf("/"))),I=0===D.length?1:0;return D+=O.pathname.substr(O.pathname.lastIndexOf("/")+I,O.pathname.length-1),O.pathname.length<D.length?O.pathname:D}catch{return k}}},{key:"parseUserAgent",value:function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var k=null===P&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return Object(A.UAParser)(k)}catch{return{}}}}]),T}();v.default=p},"./src/core/Version.js":
/*!*****************************!*\
                  !*** ./src/core/Version.js ***!
                  \*****************************/
/*! exports provided: getVersionString */function(Xe,v,e){"use strict";e.r(v),e.d(v,"getVersionString",function(){return b});var n="4.5.2";function b(){return n}},"./src/core/errors/Errors.js":
/*!***********************************!*\
                  !*** ./src/core/errors/Errors.js ***!
                  \***********************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function A(O,D){for(var I=0;I<D.length;I++){var S=D[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(O,x(S.key),S)}}function x(O){var D=function w(O,D){if("object"!==b(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var S=I.call(O,D||"default");if("object"!==b(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===b(D)?D:String(D)}function d(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&i(O,D)}function i(O,D){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,L){return S.__proto__=L,S})(O,D)}function h(O){var D=function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,S=P(O);if(D){var C=P(this).constructor;L=Reflect.construct(S,arguments,C)}else L=S.apply(this,arguments);return function p(O,D){if(D&&("object"===b(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function T(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function P(O){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(v);var F=new(function(O){d(I,O);var D=h(I);function I(){var S;return function g(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),(S=D.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,S.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,S.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,S.SEGMENT_BASE_LOADER_ERROR_CODE=15,S.TIME_SYNC_FAILED_ERROR_CODE=16,S.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,S.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,S.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,S.APPEND_ERROR_CODE=20,S.REMOVE_ERROR_CODE=21,S.DATA_UPDATE_FAILED_ERROR_CODE=22,S.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,S.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,S.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,S.DOWNLOAD_ERROR_ID_SIDX_CODE=26,S.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,S.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,S.DOWNLOAD_ERROR_ID_XLINK_CODE=29,S.MANIFEST_ERROR_ID_PARSE_CODE=31,S.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,S.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,S.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,S.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,S.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",S.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",S.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",S.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",S.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",S.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",S.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",S.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",S.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",S.APPEND_ERROR_MESSAGE="chunk is not defined",S.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",S.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",S.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",S.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",S.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",S.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",S}return function _(O,D,I){return D&&A(O.prototype,D),I&&A(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ./ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));v.default=F},"./src/core/errors/ErrorsBase.js":
/*!***************************************!*\
                  !*** ./src/core/errors/ErrorsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function A(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,x(p.key),p)}}function x(d){var i=function w(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=function(){function d(){!function b(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")}(this,d)}return function _(d,i,h){return i&&A(d.prototype,i),h&&A(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}(d,[{key:"extend",value:function(h,p){if(h){var T=!!p&&p.override,B=!!p&&p.publicOnly;for(var P in h)!h.hasOwnProperty(P)||this[P]&&!T||B&&-1===h[P].indexOf("public_")||(this[P]=h[P])}}}]),d}()},"./src/core/events/CoreEvents.js":
/*!***************************************!*\
                  !*** ./src/core/events/CoreEvents.js ***!
                  \***************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./EventsBase */
"./src/core/events/EventsBase.js");function b(F){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(F)}function A(F,O){for(var D=0;D<O.length;D++){var I=O[D];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(F,x(I.key),I)}}function x(F){var O=function w(F,O){if("object"!==b(F)||null===F)return F;var D=F[Symbol.toPrimitive];if(void 0!==D){var I=D.call(F,O||"default");if("object"!==b(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(F)}(F,"string");return"symbol"===b(O)?O:String(O)}function d(F,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(O&&O.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),O&&i(F,O)}function i(F,O){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,S){return I.__proto__=S,I})(F,O)}function h(F){var O=function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,I=P(F);if(O){var L=P(this).constructor;S=Reflect.construct(I,arguments,L)}else S=I.apply(this,arguments);return function p(F,O){if(O&&("object"===b(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function T(F){if(void 0===F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}(F)}(this,S)}}function P(F){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)})(F)}v.default=function(F){d(D,F);var O=h(D);function D(){var I;return function g(F,O){if(!(F instanceof O))throw new TypeError("Cannot call a class as a function")}(this,D),(I=O.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",I.BUFFERING_COMPLETED="bufferingCompleted",I.BUFFER_CLEARED="bufferCleared",I.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",I.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",I.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",I.CURRENT_TRACK_CHANGED="currentTrackChanged",I.DATA_UPDATE_COMPLETED="dataUpdateCompleted",I.INBAND_EVENTS="inbandEvents",I.INITIAL_STREAM_SWITCH="initialStreamSwitch",I.INIT_FRAGMENT_LOADED="initFragmentLoaded",I.INIT_FRAGMENT_NEEDED="initFragmentNeeded",I.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",I.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",I.LOADING_COMPLETED="loadingCompleted",I.LOADING_PROGRESS="loadingProgress",I.LOADING_DATA_PROGRESS="loadingDataProgress",I.LOADING_ABANDONED="loadingAborted",I.MANIFEST_UPDATED="manifestUpdated",I.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",I.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",I.QUOTA_EXCEEDED="quotaExceeded",I.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",I.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",I.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",I.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",I.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",I.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",I.SOURCE_BUFFER_ERROR="sourceBufferError",I.STREAMS_COMPOSED="streamsComposed",I.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",I.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",I.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",I.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",I.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",I.URL_RESOLUTION_FAILED="urlResolutionFailed",I.VIDEO_CHUNK_RECEIVED="videoChunkReceived",I.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",I.XLINK_ELEMENT_LOADED="xlinkElementLoaded",I.XLINK_READY="xlinkReady",I.SEEK_TARGET="seekTarget",I.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",I.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",I.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",I.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",I.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",I}return function _(F,O,D){return O&&A(F.prototype,O),D&&A(F,D),Object.defineProperty(F,"prototype",{writable:!1}),F}(D)}(n.default)},"./src/core/events/Events.js":
/*!***********************************!*\
                  !*** ./src/core/events/Events.js ***!
                  \***********************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function A(O,D){for(var I=0;I<D.length;I++){var S=D[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(O,x(S.key),S)}}function x(O){var D=function w(O,D){if("object"!==b(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var S=I.call(O,D||"default");if("object"!==b(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===b(D)?D:String(D)}function d(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&i(O,D)}function i(O,D){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,L){return S.__proto__=L,S})(O,D)}function h(O){var D=function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,S=P(O);if(D){var C=P(this).constructor;L=Reflect.construct(S,arguments,C)}else L=S.apply(this,arguments);return function p(O,D){if(D&&("object"===b(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function T(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function P(O){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(v);var k=function(O){d(I,O);var D=h(I);function I(){return function g(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),D.apply(this,arguments)}return function _(O,D,I){return D&&A(O.prototype,D),I&&A(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ./CoreEvents */
"./src/core/events/CoreEvents.js").default),F=new k;v.default=F},"./src/core/events/EventsBase.js":
/*!***************************************!*\
                  !*** ./src/core/events/EventsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function A(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,x(p.key),p)}}function x(d){var i=function w(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=function(){function d(){!function b(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")}(this,d)}return function _(d,i,h){return i&&A(d.prototype,i),h&&A(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}(d,[{key:"extend",value:function(h,p){if(h){var T=!!p&&p.override,B=!!p&&p.publicOnly;for(var P in h)!h.hasOwnProperty(P)||this[P]&&!T||B&&-1===h[P].indexOf("public_")||(this[P]=h[P])}}}]),d}()},"./src/dash/DashAdapter.js":
/*!*********************************!*\
                  !*** ./src/dash/DashAdapter.js ***!
                  \*********************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=e(
/*! ./vo/RepresentationInfo */
"./src/dash/vo/RepresentationInfo.js"),A=e(
/*! ./vo/MediaInfo */
"./src/dash/vo/MediaInfo.js"),_=e(
/*! ./vo/StreamInfo */
"./src/dash/vo/StreamInfo.js"),x=e(
/*! ./vo/ManifestInfo */
"./src/dash/vo/ManifestInfo.js"),w=e(
/*! ./vo/Event */
"./src/dash/vo/Event.js"),g=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),d=e(
/*! ./models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),i=e(
/*! ./models/PatchManifestModel */
"./src/dash/models/PatchManifestModel.js"),h=e(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),p=e.n(h);function T(){var B,P,k,F,O,D,I,S=this.context;function te(ke){return P.getRolesForAdaptation(ke).filter(function(Ke){return Ke.value===n.default.MAIN})[0]}function Me(ke,Ke,rt){var ot=P.getAdaptationsForType(F[0].mpd.manifest,ke,Ke);if(!ot||0===ot.length)return null;if(ot.length>1&&rt){var yt=W(rt,Ke);if(O[rt.id]&&O[rt.id][Ke])for(var mt=0,_t=ot.length;mt<_t;mt++)if(J(O[rt.id][Ke],yt[mt]))return ot[mt];for(var qt=0,fn=ot.length;qt<fn;qt++)if(te(ot[qt]))return ot[qt]}return ot[0]}function J(ke,Ke){if(!ke||!Ke)return!1;var rt=ke.id===Ke.id,ot=ke.codec===Ke.codec,yt=ke.viewpoint===Ke.viewpoint,mt=ke.lang===Ke.lang,_t=ke.roles.toString()===Ke.roles.toString(),qt=ke.accessibility.toString()===Ke.accessibility.toString(),fn=ke.audioChannelConfiguration.toString()===Ke.audioChannelConfiguration.toString();return rt&&ot&&yt&&mt&&_t&&qt&&fn}function ce(ke,Ke,rt,ot,yt,mt){var fn,Qt,gn,Tn,Mn,_t=[];if(!ot||0===ot.length)return[];var Gn=P.getAdaptationsForPeriod(Ke);for(gn=0,Mn=ot.length;gn<Mn;gn++)if(fn=He(Gn[Qt=P.getIndexForAdaptation(ot[gn],ke,rt.index)]),mt){var Zn=fn.accessibility.length;for(Tn=0;Tn<Zn;Tn++)if(fn){var dn=fn.accessibility[Tn];if(0===dn.indexOf("cea-608:")){var un=dn.substring(8).split(";");if("CC"===un[0].substring(0,2))for(Tn=0;Tn<un.length;Tn++)fn||(fn=He.call(this,Gn[Qt])),bt(fn,un[Tn].substring(0,3),un[Tn].substring(4)),_t.push(fn),fn=null;else for(Tn=0;Tn<un.length;Tn++)fn||(fn=He.call(this,Gn[Qt])),bt(fn,"CC"+(Tn+1),un[Tn]),_t.push(fn),fn=null}else 0===dn.indexOf("cea-608")&&(bt(fn,D.CC1,"eng"),_t.push(fn),fn=null)}}else yt===D.IMAGE?(Ut(fn),_t.push(fn),fn=null):fn&&_t.push(fn);return _t}function W(ke,Ke,rt){var ot=F,yt=rt,mt=[];if(yt)pn(),ot=ve(yt);else{if(!(F.length>0))return mt;yt=F[0].mpd.manifest}var _t=de(ke,ot),qt=P.getAdaptationsForType(yt,ke?ke.index:null,Ke);return mt=ce(yt,_t,ke,qt,Ke),Ke===D.TEXT&&(qt=P.getAdaptationsForType(yt,ke?ke.index:null,D.VIDEO),mt=mt.concat(ce(yt,_t,ke,qt,Ke,!0))),mt}function ve(ke){var Ke=K(ke);return P.getRegularPeriods(Ke)}function K(ke){var Ke=ht(ke);return P.getMpd(Ke)}function qe(){F=[],O={}}function ht(ke){return ke||(F.length>0?F[0].mpd.manifest:null)}function Et(ke){try{var Ke=de(ke.streamInfo,F),rt=P.getAdaptationsForPeriod(Ke);return ke&&ke.streamInfo&&void 0!==ke.streamInfo.id&&rt?rt[ke.index]:null}catch{return null}}function de(ke,Ke){for(var rt=Ke.length,ot=0;ot<rt;ot++){var yt=Ke[ot];if(ke&&ke.id===yt.id)return yt}return null}function He(ke){if(!ke)return null;var ot,Ke=new A.default,rt=ke.period.mpd.manifest.Period_asArray[ke.period.index].AdaptationSet_asArray[ke.index];if(Ke.id=ke.id,Ke.index=ke.index,Ke.type=ke.type,Ke.streamInfo=Zt(ke.period),Ke.representationCount=P.getRepresentationCount(rt),Ke.labels=P.getLabelsForAdaptation(rt),Ke.lang=P.getLanguageForAdaptation(rt),ot=P.getViewpointForAdaptation(rt),Ke.viewpoint=ot?ot.value:void 0,Ke.accessibility=P.getAccessibilityForAdaptation(rt).map(function(_t){var qt=_t.value,fn=qt;return _t.schemeIdUri&&_t.schemeIdUri.search("cea-608")>=0&&typeof I<"u"&&(fn=qt?"cea-608:"+qt:"cea-608",Ke.embeddedCaptions=!0),fn}),Ke.audioChannelConfiguration=P.getAudioChannelConfigurationForAdaptation(rt).map(function(_t){return _t.value}),0===Ke.audioChannelConfiguration.length&&Array.isArray(rt.Representation_asArray)&&rt.Representation_asArray.length>0&&(Ke.audioChannelConfiguration=P.getAudioChannelConfigurationForRepresentation(rt.Representation_asArray[0]).map(function(_t){return _t.value})),Ke.roles=P.getRolesForAdaptation(rt).map(function(_t){return _t.value}),Ke.codec=P.getCodec(rt),Ke.mimeType=P.getMimeType(rt),Ke.contentProtection=P.getContentProtectionData(rt),Ke.bitrateList=P.getBitrateListForAdaptation(rt),Ke.selectionPriority=P.getSelectionPriority(rt),Ke.contentProtection){var yt=Ke.contentProtection.map(function(_t){return P.getKID(_t)}).filter(function(_t){return null!==_t});if(yt.length){var mt=yt[0];Ke.contentProtection.forEach(function(_t){_t.keyId=mt})}}return Ke.isText=P.getIsText(rt),Ke.supplementalProperties=P.getSupplementalProperties(rt),Ke.isFragmented=P.getIsFragmented(rt),Ke.isEmbedded=!1,Ke}function bt(ke,Ke,rt){ke.id=Ke,ke.index=100+parseInt(Ke.substring(2,3)),ke.type=D.TEXT,ke.codec="cea-608-in-SEI",ke.isEmbedded=!0,ke.isFragmented=!1,ke.lang=p()(rt),ke.roles=["caption"]}function Ut(ke){ke.type=D.IMAGE}function Zt(ke){var Ke=new _.default;return Ke.id=ke.id,Ke.index=ke.index,Ke.start=ke.start,Ke.duration=ke.duration,Ke.manifestInfo=function Kt(ke){var Ke=new x.default;return Ke.dvrWindowSize=ke.timeShiftBufferDepth,Ke.loadedTime=ke.manifest.loadedTime,Ke.availableFrom=ke.availabilityStartTime,Ke.minBufferTime=ke.manifest.minBufferTime,Ke.maxFragmentDuration=ke.maxSegmentDuration,Ke.duration=P.getDuration(ke.manifest),Ke.isDynamic=P.getIsDynamic(ke.manifest),Ke.serviceDescriptions=P.getServiceDescriptions(ke.manifest),Ke.protocol=ke.manifest.protocol,Ke}(ke.mpd),Ke.isLast=1===ke.mpd.manifest.Period_asArray.length||Math.abs(Ke.start+Ke.duration-Ke.manifestInfo.duration)<1,Ke}function pn(){if(!D)throw new Error("setConfig function has to be called previously")}function rn(ke){return F.length>0?F[0].mpd.manifest.Period_asArray[ke]:null}function vt(ke,Ke,rt){var yt,mt,_t,qt,fn;if(ke)for(yt=ke.AdaptationSet_asArray,qt=0;qt<yt.length;qt+=1)for(_t=yt[qt].Representation_asArray,fn=0;fn<_t.length;fn+=1)if(Ke===(mt=_t[fn]).id)return rt?fn:mt;return null}return B={getBandwidthForRepresentation:function Te(ke,Ke){var rt;return(rt=vt(rn(Ke),ke))?rt.bandwidth:null},getIndexForRepresentation:function be(ke,Ke){return function xt(ke,Ke){var rt=vt(ke,Ke,!0);return null!==rt?rt:-1}(rn(Ke),ke)},getMaxIndexForBufferType:function Le(ke,Ke){return function nt(ke,Ke){var rt,ot,yt,mt;if(!ke||!Ke)return-1;for(ot=ke.AdaptationSet_asArray,mt=0;mt<ot.length;mt+=1)if(yt=(rt=ot[mt]).Representation_asArray,P.getIsTypeOf(rt,Ke))return yt.length;return-1}(rn(Ke),ke)},convertRepresentationToRepresentationInfo:function z(ke){if(ke){var Ke=new b.default,ot=P.getRepresentationFor(ke.index,ke.adaptation.period.mpd.manifest.Period_asArray[ke.adaptation.period.index].AdaptationSet_asArray[ke.adaptation.index]);return Ke.id=ke.id,Ke.quality=ke.index,Ke.bandwidth=P.getBandwidth(ot),Ke.fragmentDuration=ke.segmentDuration||(ke.segments&&ke.segments.length>0?ke.segments[0].duration:NaN),Ke.MSETimeOffset=ke.MSETimeOffset,Ke.mediaInfo=He(ke.adaptation),Ke}return null},getStreamsInfo:function le(ke,Ke){var rt=[],ot=F;if(ke&&(pn(),ot=ve(ke)),ot.length>0){(!Ke||Ke>ot.length)&&(Ke=ot.length);for(var yt=0;yt<Ke;yt++)rt.push(Zt(ot[yt]))}return rt},getMediaInfoForType:function ne(ke,Ke){if(0===F.length||!ke)return null;var rt=de(ke,F);if(!rt)return null;var ot=P.getAdaptationsForPeriod(rt),yt=Me(ke.index,Ke,ke);return yt?He(ot[P.getIndexForAdaptation(yt,F[0].mpd.manifest,ke.index)]):null},getAllMediaInfoForType:W,getAdaptationForType:Me,getRealAdaptation:function Ee(ke,Ke){var rt,ot,yt=de(ke,F);return rt=Ke?Ke.id:null,F.length>0&&yt&&(ot=rt?P.getAdaptationForId(rt,F[0].mpd.manifest,yt.index):P.getAdaptationForIndex(Ke?Ke.index:null,F[0].mpd.manifest,yt.index)),ot},getProducerReferenceTimes:function xe(ke,Ke){var rt,ot,yt=de(ke,F);return rt=Ke?Ke.id:null,F.length>0&&yt&&(ot=rt?P.getAdaptationForId(rt,F[0].mpd.manifest,yt.index):P.getAdaptationForIndex(Ke?Ke.index:null,F[0].mpd.manifest,yt.index)),ot?P.getProducerReferenceTimesForAdaptation(ot):[]},getRealPeriodByIndex:function fe(ke){return P.getRealPeriodForIndex(ke,F[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function Ve(ke){try{return P.getEssentialPropertiesForRepresentation(ke)}catch{return[]}},getVoRepresentations:function Pe(ke){var rt=Et(ke);return P.getRepresentationsForAdaptation(rt)},getEventsFor:function me(ke,Ke,rt){var ot=[];if(F.length>0){var yt=F[0].mpd.manifest;if(ke instanceof _.default){var mt=de(ke,F);ot=P.getEventsForPeriod(mt)}else if(ke instanceof A.default){var _t=de(rt,F);ot=P.getEventStreamForAdaptationSet(yt,Et(ke),_t)}else if(ke instanceof b.default){var qt=de(rt,F);ot=P.getEventStreamForRepresentation(yt,Ke,qt)}}return ot},getEvent:function Ce(ke,Ke,rt,ot){try{if(!ke||!Ke||isNaN(rt)||!ot)return null;var yt=ke.scheme_id_uri,mt=ke.value;if(!Ke[yt+"/"+mt])return null;var Mn,_t=new w.default,qt=ke.timescale||1,fn=ot.adaptation.period.start,Qt=Ke[yt+"/"+mt],gn=isNaN(ot.presentationTimeOffset)?isNaN(Qt.presentationTimeOffset)?0:Qt.presentationTimeOffset:ot.presentationTimeOffset,Tn=ke.presentation_time_delta/qt;Mn=0===ke.version?fn+rt-gn+Tn:fn-gn+Tn;var Gn=ke.event_duration/qt,Zn=ke.id,dn=ke.message_data;return _t.eventStream=Qt,_t.eventStream.value=mt,_t.eventStream.timescale=qt,_t.duration=Gn,_t.id=Zn,_t.calculatedPresentationTime=Mn,_t.messageData=dn,_t.presentationTimeDelta=Tn,_t}catch{return null}},getMpd:K,setConfig:function U(ke){ke&&(ke.constants&&(D=ke.constants),ke.cea608parser&&(I=ke.cea608parser),ke.errHandler&&P.setConfig({errHandler:ke.errHandler}),ke.BASE64&&P.setConfig({BASE64:ke.BASE64}))},updatePeriods:function Se(ke){if(!ke)return null;pn(),F=ve(ke)},getIsTextTrack:function Re(ke){return P.getIsText(ke)},getUTCTimingSources:function Fe(){var ke=ht();return P.getUTCTimingSources(ke)},getSuggestedPresentationDelay:function Ne(){return P.getSuggestedPresentationDelay(F.length>0?F[0].mpd:null)},getAvailabilityStartTime:function at(ke){var Ke=K(ke);return P.getAvailabilityStartTime(Ke)},getIsTypeOf:function Qe(ke,Ke){return P.getIsTypeOf(ke,Ke)},getIsDynamic:function Be(ke){var Ke=ht(ke);return P.getIsDynamic(Ke)},getDuration:function ye(ke){var Ke=ht(ke);return P.getDuration(Ke)},getRegularPeriods:ve,getContentSteering:function se(ke){return P.getContentSteering(ke)},getLocation:function ge(ke){return P.getLocation(ke)},getPatchLocation:function q(ke){var Ke=P.getPatchLocation(ke),rt=P.getPublishTime(ke);if(!Ke||!rt)return null;if(Ke.hasOwnProperty("ttl")&&rt){var ot=1e3*parseFloat(Ke.ttl);if(rt.getTime()+ot<=(new Date).getTime())return null}return Ke.__text},getManifestUpdatePeriod:function oe(ke){return P.getManifestUpdatePeriod(ke,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function Q(ke){return P.getPublishTime(ke)},getIsDVB:function $(ke){return P.hasProfile(ke,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function ie(ke){return k.getIsPatch(ke)},getBaseURLsFromElement:function Z(ke){return P.getBaseURLsFromElement(ke)},getRepresentationSortFunction:function X(){return P.getRepresentationSortFunction()},getCodec:function pe(ke,Ke,rt){return P.getCodec(ke,Ke,rt)},getPeriodById:function et(ke){if(!ke||0===F.length)return null;var Ke=F.filter(function(rt){return rt.id===ke});return Ke&&Ke.length>0?Ke[0]:null},setCurrentMediaInfo:function De(ke,Ke,rt){O[ke]=O[ke]||{},O[ke][Ke]=O[ke][Ke]||{},O[ke][Ke]=rt},isPatchValid:function ft(ke,Ke){var rt=P.getId(ke),ot=k.getMpdId(Ke),yt=P.getPublishTime(ke),mt=k.getPublishTime(Ke),_t=k.getOriginalPublishTime(Ke);return!!(rt&&ot&&rt==ot&&yt&&_t&&yt.getTime()==_t.getTime()&&mt&&yt.getTime()<mt.getTime())},applyPatchToManifest:function ze(ke,Ke){k.getPatchOperations(Ke).forEach(function(rt){var ot=rt.getMpdTarget(ke);if(null!==ot){var yt=ot.name,mt=ot.target,_t=ot.leaf;if(rt.xpath.findsAttribute()){switch(rt.action){case"add":case"replace":mt[yt]=rt.value;break;case"remove":delete mt[yt]}return}var qt=(mt[yt+"_asArray"]||[]).indexOf(_t),fn="prepend"===rt.position||"before"===rt.position;if(("remove"===rt.action||"replace"===rt.action)&&(delete mt[yt],-1!=qt)){var Qt=mt[yt+"_asArray"];Qt.splice(qt,1),Qt.length>1?mt[yt]=Qt:1==Qt.length?mt[yt]=Qt[0]:delete mt[yt+"_asArray"]}("add"===rt.action||"replace"===rt.action)&&Object.keys(rt.value).forEach(function(gn){var Tn=rt.value[gn],Mn=mt[gn+"_asArray"]||[];0===Mn.length&&mt[gn]&&Mn.push(mt[gn]),0===Mn.length?Mn=Tn:Mn.splice.apply(Mn,[gn==yt&&-1!=qt?qt+(fn?0:1)+("replace"==rt.action?-1:0):fn?0:Mn.length,0].concat(Tn)),mt[gn+"_asArray"]=Mn,mt[gn]=1==Mn.length?Mn[0]:Mn})}})},areMediaInfosEqual:J,reset:qe},function C(){P=Object(d.default)(S).getInstance(),k=Object(i.default)(S).getInstance(),qe()}(),B}T.__dashjs_factory_name="DashAdapter",v.default=g.default.getSingletonFactory(T)},"./src/dash/DashHandler.js":
/*!*********************************!*\
                  !*** ./src/dash/DashHandler.js ***!
                  \*********************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),b=e(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),A=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),x=e(
/*! ./utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),w=e(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js");function i(h){var I,S,L,C,U,p=(h=h||{}).eventBus,T=h.debug,B=h.urlUtils,P=h.type,k=h.streamInfo,F=h.segmentsController,O=h.timelineConverter,D=h.baseURLController;function Me(){return P}function ce(){L=null}function Se(Fe,Ne,at){var ye,ve,Be=D.resolve(at.path);return Be&&Ne!==Be.url&&B.isRelative(Ne)?(ye=Be.url,ve=Be.serviceLocation,Ne&&(ye=B.resolve(Ne,ye))):ye=Ne,!B.isRelative(ye)&&(Fe.url=ye,Fe.serviceLocation=ve,!0)}function xe(Fe,Ne){if(null==Ne)return null;var at=new n.default,Be=Ne.representation,ye=Be.adaptation.period.mpd.manifest.Period_asArray[Be.adaptation.period.index].AdaptationSet_asArray[Be.adaptation.index].Representation_asArray[Be.index].bandwidth,ve=Ne.media;return ve=Object(x.replaceTokenForTemplate)(ve,"Number",Ne.replacementNumber),ve=Object(x.replaceTokenForTemplate)(ve,"Time",Ne.replacementTime),ve=Object(x.replaceTokenForTemplate)(ve,"Bandwidth",ye),ve=Object(x.replaceIDForTemplate)(ve,Be.id),ve=Object(x.unescapeDollarsInTemplate)(ve),at.mediaType=Me(),at.type=b.HTTPRequest.MEDIA_SEGMENT_TYPE,at.range=Ne.mediaRange,at.startTime=Ne.presentationStartTime,at.mediaStartTime=Ne.mediaStartTime,at.duration=Ne.duration,at.timescale=Be.timescale,at.availabilityStartTime=Ne.availabilityStartTime,at.availabilityEndTime=Ne.availabilityEndTime,at.availabilityTimeComplete=Be.availabilityTimeComplete,at.wallStartTime=Ne.wallStartTime,at.quality=Be.index,at.index=Ne.index,at.mediaInfo=Fe,at.adaptationIndex=Be.adaptation.index,at.representationId=Be.id,Se(at,ve,Be)?at:void 0}function fe(Fe,Ne,at){var Be=null;if(!Ne||!Ne.segmentInfoType)return Be;var ye=F.getSegmentByTime(Ne,at);return ye&&(L=ye,S.debug("Index for time "+at+" is "+ye.index),Be=xe(Fe,ye)),Be}function Re(){S.debug("Dynamic stream complete"),U=!0}return I={initialize:function ne(Fe){C=Fe,U=!1,F.initialize(Fe)},getStreamId:function te(){return k.id},getType:Me,getStreamInfo:function J(){return k},getInitRequest:function le(Fe,Ne){return Ne?function Ee(Fe,Ne,at){var Be=new n.default,ye=Ne.adaptation.period,ve=ye.start;if(Be.mediaType=at,Be.type=b.HTTPRequest.INIT_SEGMENT_TYPE,Be.range=Ne.range,Be.availabilityStartTime=O.calcAvailabilityStartTimeFromPresentationTime(ve,Ne,C),Be.availabilityEndTime=O.calcAvailabilityEndTimeFromPresentationTime(ve+ye.duration,Ne,C),Be.quality=Ne.index,Be.mediaInfo=Fe,Be.representationId=Ne.id,Se(Be,Ne.initialization,Ne))return Be.url=Object(x.replaceTokenForTemplate)(Be.url,"Bandwidth",Ne.bandwidth),Be}(Fe,Ne,Me()):null},getSegmentRequestForTime:fe,getCurrentIndex:function De(){return L?L.index:-1},getNextSegmentRequest:function Ce(Fe,Ne){var at=null;if(!Ne||!Ne.segmentInfoType)return null;var Be=L?L.index+1:0,ye=F.getSegmentByIndex(Ne,Be,L?L.mediaStartTime:-1);if(ye)at=xe(Fe,ye),L=ye;else{if(C&&!U)return S.debug(Me()+" No segment found at index: "+Be+". Wait for next loop"),null;U=!0}return at},isLastSegmentRequested:function Ve(Fe,Ne){if(!Fe||!L)return!1;if(U)return!0;if(!isFinite(Fe.adaptation.period.duration)||L.presentationStartTime+L.duration>Ne)return!1;if(Fe.mediaFinishedInformation&&!isNaN(Fe.mediaFinishedInformation.numberOfSegments)&&!isNaN(L.index)&&L.index>=Fe.mediaFinishedInformation.numberOfSegments-1){if(!C||Fe.segmentInfoType===w.default.SEGMENT_TEMPLATE)return!0;if(C&&Fe.segmentInfoType===w.default.SEGMENT_LIST&&Fe.adaptation.period.nextPeriodId)return!0}return!!(C&&Fe.adaptation.period.nextPeriodId&&Fe.segmentInfoType===w.default.SEGMENT_TIMELINE&&Fe.mediaFinishedInformation&&!isNaN(Fe.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&L&&!isNaN(L.mediaStartTime)&&!isNaN(L.duration)&&L.mediaStartTime+L.duration>=Fe.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function W(){ce(),p.off(_.default.DYNAMIC_TO_STATIC,Re,I)},getNextSegmentRequestIdempotent:function Pe(Fe,Ne){var ye=F.getSegmentByIndex(Ne,L?L.index+1:0,L?L.mediaStartTime:-1);return ye?xe(Fe,ye):null},getValidTimeAheadOfTargetTime:function me(Fe,Ne,at,Be){try{if(isNaN(Fe)||!Ne||!at)return NaN;if(Fe<0&&(Fe=0),isNaN(Be)&&(Be=.5),fe(Ne,at,Fe))return Fe;if(at.adaptation.period.start+at.adaptation.period.duration<Fe)return NaN;for(var ye=isFinite(at.adaptation.period.duration)?at.adaptation.period.start+at.adaptation.period.duration:Fe+30,ve=Math.min(Fe+Be,ye),K=NaN,se=null;ve<=ye;){var ge=null;if(ve<=ye&&(ge=fe(Ne,at,ve)),ge){K=ve,se=ge;break}ve+=Be}if(se){var oe=se.startTime+se.duration;return Fe>se.startTime&&oe-Fe>Be?Fe:!isNaN(se.startTime)&&Fe<se.startTime&&K>se.startTime?se.startTime+.001:Math.min(oe-Be,K)}return K}catch{return NaN}}},function z(){S=T.getLogger(I),ce(),p.on(_.default.DYNAMIC_TO_STATIC,Re,I)}(),I}i.__dashjs_factory_name="DashHandler",v.default=A.default.getClassFactory(i)},"./src/dash/DashMetrics.js":
/*!*********************************!*\
                  !*** ./src/dash/DashMetrics.js ***!
                  \*********************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),A=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../streaming/constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),x=e(
/*! ./utils/Round10 */
"./src/dash/utils/Round10.js"),w=e(
/*! ../streaming/models/MetricsModel */
"./src/streaming/models/MetricsModel.js"),g=e(
/*! ../core/Utils */
"./src/core/Utils.js"),d=e(
/*! ../streaming/vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js");function i(h){var T,B,P,k,p=this.context,F=(h=h||{}).metricsModel;function te(ge){var oe=F.getMetricsFor(ge,!0);if(!oe)return null;var $,Q=oe.HttpList,q=null;if(!Q||Q.length<=0)return null;for($=Q.length-1;$>=0;){if(Q[$].responsecode){q=Q[$];break}$--}return q}function Me(ge){var oe=F.getMetricsFor(ge,!0);return oe&&oe.HttpList?oe.HttpList:[]}function ce(ge,oe){if(!ge)return null;var Q=ge[oe];return Q&&0!==Q.length?Q[Q.length-1]:null}return T={getCurrentRepresentationSwitch:function I(ge){return ce(F.getMetricsFor(ge,!0),_.default.TRACK_SWITCH)},getCurrentBufferState:function L(ge){return ce(F.getMetricsFor(ge,!0),_.default.BUFFER_STATE)},getCurrentBufferLevel:function C(ge){var Q=ce(F.getMetricsFor(ge,!0),_.default.BUFFER_LEVEL);return Q?x.default.round10(Q.level/1e3,-3):0},getCurrentHttpRequest:te,getHttpRequests:Me,getCurrentDroppedFrames:function W(){return ce(F.getMetricsFor(n.default.VIDEO,!0),_.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function le(ge){return ce(F.getMetricsFor(ge,!0),_.default.SCHEDULING_INFO)},getCurrentDVRInfo:function De(ge){return ce(ge?F.getMetricsFor(ge,!0):F.getMetricsFor(n.default.VIDEO,!0)||F.getMetricsFor(n.default.AUDIO,!0),_.default.DVR_INFO)},getCurrentManifestUpdate:function xe(){return ce(F.getMetricsFor(n.default.STREAM),_.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function Ne(ge,oe){if(!oe)return null;var Q={},q=te(ge);q&&(Q=g.default.parseHttpHeaders(q._responseHeaders));var $=Q[oe.toLowerCase()];return void 0===$?null:$},getLatestMPDRequestHeaderValueByID:function Fe(ge){if(!ge)return null;var Q,q,$,oe={};for($=(Q=Me(n.default.STREAM)).length-1;$>=0;$--)if((q=Q[$]).type===b.HTTPRequest.MPD_TYPE){oe=g.default.parseHttpHeaders(q._responseHeaders);break}var ie=oe[ge.toLowerCase()];return void 0===ie?null:ie},addRepresentationSwitch:function S(ge,oe,Q,q,$){F.addRepresentationSwitch(ge,oe,Q,q,$)},addDVRInfo:function Re(ge,oe,Q,q){F.addDVRInfo(ge,oe,Q,q)},updateManifestUpdateInfo:function Ve(ge){var oe=this.getCurrentManifestUpdate();F.updateManifestUpdateInfo(oe,ge)},addManifestUpdateStreamInfo:function fe(ge){if(ge){var oe=this.getCurrentManifestUpdate();F.addManifestUpdateStreamInfo(oe,ge.id,ge.index,ge.start,ge.duration)}},addManifestUpdateRepresentationInfo:function me(ge,oe){if(ge){var Q=this.getCurrentManifestUpdate();F.addManifestUpdateRepresentationInfo(Q,ge.id,ge.index,ge.streamIndex,oe,ge.presentationTimeOffset,ge.startNumber,ge.fragmentInfoType)}},addManifestUpdate:function Pe(ge){F.addManifestUpdate(n.default.STREAM,ge.type,ge.requestStartDate,ge.requestEndDate)},addHttpRequest:function Ce(ge,oe,Q,q,$){F.addHttpRequest(ge.mediaType,null,ge.type,ge.url,ge.quality,oe,ge.serviceLocation||null,ge.range||null,ge.requestStartDate,ge.firstByteDate,ge.requestEndDate,Q,ge.duration,q,$,ge.fileLoaderType)},addSchedulingInfo:function Ee(ge,oe){F.addSchedulingInfo(ge.mediaType,new Date,ge.type,ge.startTime,ge.availabilityStartTime,ge.duration,ge.quality,ge.range,oe)},addRequestsQueue:function J(ge,oe,Q){F.addRequestsQueue(ge,oe,Q)},addBufferLevel:function U(ge,oe,Q){F.addBufferLevel(ge,oe,Q)},addBufferState:function z(ge,oe,Q){F.addBufferState(ge,oe,Q)},addDroppedFrames:function Se(ge){F.addDroppedFrames(n.default.VIDEO,ge)},addPlayList:function at(){k&&(F.addPlayList(k),k=null)},addDVBErrors:function se(ge){F.addDVBErrors(ge)},createPlaylistMetrics:function Be(ge,oe){(k=new d.PlayList).start=new Date,k.mstart=ge,k.starttype=oe},createPlaylistTraceMetrics:function ye(ge,oe,Q){!0===B&&(B=!1,(P=new d.PlayListTrace).representationid=ge,P.start=new Date,P.mstart=oe,P.playbackspeed=null!==Q?Q.toString():null)},updatePlayListTraceMetrics:function ve(ge){if(P)for(var oe in P)P[oe]=ge[oe]},pushPlayListTraceMetrics:function K(ge,oe){if(!1===B&&k&&P&&P.start){var Q=P.start,q=ge.getTime()-Q.getTime();P.duration=q,P.stopreason=oe,k.trace.push(P),B=!0}},clearAllCurrentMetrics:function ne(){F.clearAllCurrentMetrics()}},function O(){F=F||Object(w.default)(p).getInstance({settings:h.settings}),function D(){B=!0,P=null,k=null}()}(),T}i.__dashjs_factory_name="DashMetrics",v.default=A.default.getSingletonFactory(i)},"./src/dash/SegmentBaseLoader.js":
/*!***************************************!*\
                  !*** ./src/dash/SegmentBaseLoader.js ***!
                  \***************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),b=e(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),A=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),x=e(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js");function w(){var d,i,h,p,T,B,P,k,F,O,D,I,S,g=this.context;function ne(le,Ee,xe,Ve){var fe=null,Pe=le?S.resolve(le.path):null,Ce=Ve||{init:!0,url:Pe?Pe.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:Ee};i.debug("Start searching for initialization.");var me=Se(Ce);k.load({request:me,success:function(Ne){if(Ce.bytesLoaded=Ce.range.end,!(fe=p.findInitRange(Ne)))return Ce.range.end=Ce.bytesLoaded+Ce.bytesToLoad,ne(le,Ee,xe,Ce);le.range=fe,xe(le)},error:function(){xe(le)}}),i.debug("Perform init search: "+Ce.url)}function Me(le,Ee,xe,Ve,fe,Pe){if(xe&&(void 0===xe.start||void 0===xe.end)){var Ce=xe?xe.toString().split("-"):null;xe=Ce?{start:parseFloat(Ce[0]),end:parseFloat(Ce[1])}:null}fe=fe||J;var me=null,De=null,Re=!!xe,Fe=le?S.resolve(le.path):null,Ne={init:!1,url:Fe?Fe.url:void 0,range:Re?xe:{start:0,end:1500},searching:!Re,bytesLoaded:Pe?Pe.bytesLoaded:0,bytesToLoad:1500,mediaType:Ee},at=Se(Ne);k.load({request:at,success:function(K){var se=Ne.bytesToLoad,ge=K.byteLength;if(Ne.bytesLoaded=Ne.range.end-Ne.range.start,me=p.parse(K),(De=me.getBox("sidx"))&&De.isComplete){var q,$,Q=De.references;if(null!=Q&&Q.length>0&&(q=1===Q[0].reference_type),q){i.debug("Initiate multiple SIDX load."),Ne.range.end=Ne.range.start+De.size;var ie,Z,X,pe,be=[],Le=0,et=(De.offset||Ne.range.start)+De.size,Qe=function(ft){ft?(be=be.concat(ft),++Le>=Z&&(be.sort(function(ze,ht){return ze.startTime-ht.startTime<0?-1:0}),fe(be,le,Ve))):fe(null,le,Ve)};for(ie=0,Z=Q.length;ie<Z;ie++)X=et,pe=et+Q[ie].referenced_size-1,et+=Q[ie].referenced_size,Me(le,Ee,{start:X,end:pe},Ve,Qe,Ne)}else i.debug("Parsing segments from SIDX. representation "+Ee+" - id: "+le.id+" for range : "+Ne.range.start+" - "+Ne.range.end),$=function W(le,Ee){for(var De,Fe,Ne,xe=le.references,Ve=xe.length,fe=le.timescale,Pe=le.earliest_presentation_time,Ce=Ee.range.start+le.offset+le.first_offset+le.size,me=[],at=0;at<Ve;at++)Fe=xe[at].subsegment_duration,Ne=xe[at].referenced_size,(De=new n.default).duration=Fe,De.startTime=Pe,De.timescale=fe,De.mediaRange=Ce+"-"+(Ce+Ne-1),me.push(De),Pe+=Fe,Ce+=Ne;return me}(De,Ne),fe($,le,Ve)}else{if(De)Ne.range.start=De.offset||Ne.range.start,Ne.range.end=Ne.range.start+(De.size||se);else{if(ge<Ne.bytesLoaded)return void fe(null,le,Ve);var oe=me.getLastBox();oe&&oe.size?(Ne.range.start=oe.offset+oe.size,Ne.range.end=Ne.range.start+se):Ne.range.end+=se}Me(le,Ee,Ne.range,Ve,null,Ne)}},error:function(){fe(null,le,Ve)}}),i.debug("Perform SIDX load for type ".concat(Ee," : ").concat(Ne.url," with range ").concat(Ne.range.start," - ").concat(Ne.range.end))}function J(le,Ee,xe){xe({segments:le,representation:Ee,error:le?void 0:new b.default(F.SEGMENT_BASE_LOADER_ERROR_CODE,F.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function Se(le){if(le.url){var Ee=new _.default;return Ee.setInfo(le),Ee}}return d={setConfig:function U(le){le.baseURLController&&(S=le.baseURLController),le.dashMetrics&&(B=le.dashMetrics),le.mediaPlayerModel&&(P=le.mediaPlayerModel),le.errHandler&&(h=le.errHandler),le.boxParser&&(p=le.boxParser),le.debug&&(i=le.debug.getLogger(d)),le.requestModifier&&(T=le.requestModifier),le.errors&&(F=le.errors),le.urlUtils&&(I=le.urlUtils),le.constants&&(O=le.constants),le.dashConstants&&(D=le.dashConstants)},initialize:function C(){k=Object(x.default)(g).create({errHandler:h,dashMetrics:B,mediaPlayerModel:P,requestModifier:T,boxParser:p,errors:F,urlUtils:I,constants:O,dashConstants:D})},loadInitialization:function z(le,Ee){return new Promise(function(xe){ne(le,Ee,xe)})},loadSegments:function te(le,Ee,xe){return new Promise(function(Ve){Me(le,Ee,xe,Ve)})},reset:function ce(){k&&(k.abort(),k=null)}}}w.__dashjs_factory_name="SegmentBaseLoader",v.default=A.default.getSingletonFactory(w)},"./src/dash/WebmSegmentBaseLoader.js":
/*!*******************************************!*\
                  !*** ./src/dash/WebmSegmentBaseLoader.js ***!
                  \*******************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../streaming/utils/EBMLParser */
"./src/streaming/utils/EBMLParser.js"),b=e(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),A=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),x=e(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),w=e(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),g=e(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js");function d(){var h,p,T,B,P,k,F,O,D,I,i=this.context;function z(W,Se,le,Ee){var Ve,fe,Pe,Ce,me;for(fe=[],Ce=0,me=(Ve=function U(W){var Ee,xe,Se=[],le=Object(n.default)(i).create({data:W});for(le.consumeTagAndSize(T.Segment.Cues);le.moreData()&&le.consumeTagAndSize(T.Segment.Cues.CuePoint,!0);){for((Ee={}).CueTime=le.parseTag(T.Segment.Cues.CuePoint.CueTime),Ee.CueTracks=[];le.moreData()&&le.consumeTag(T.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Ve=le.getMatroskaCodedNum(),fe=le.getPos();if((xe={}).Track=le.parseTag(T.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===xe.Track)throw new Error("Cue track cannot be 0");xe.ClusterPosition=le.parseTag(T.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),Ee.CueTracks.push(xe),le.setPos(fe+Ve)}if(0===Ee.CueTracks.length)throw new Error("Mandatory cuetrack not found");Se.push(Ee)}if(0===Se.length)throw new Error("mandatory cuepoint not found");return Se}(W)).length;Ce<me;Ce+=1)(Pe=new _.default).duration=Ce<Ve.length-1?Ve[Ce+1].CueTime-Ve[Ce].CueTime:Ee-Ve[Ce].CueTime,Pe.startTime=Ve[Ce].CueTime,Pe.timescale=1e3,Pe.mediaRange=Ve[Ce].CueTracks[0].ClusterPosition+Se+"-"+(Ce<Ve.length-1?Ve[Ce+1].CueTracks[0].ClusterPosition+Se-1:le-1),fe.push(Pe);return p.debug("Parsed cues: "+fe.length+" cues."),fe}function J(W){var Se=new x.default;return Se.setInfo(W),Se}return h={setConfig:function C(W){if(!(W.baseURLController&&W.dashMetrics&&W.mediaPlayerModel&&W.errHandler))throw new Error(b.default.MISSING_CONFIG_ERROR);I=W.baseURLController,k=W.dashMetrics,F=W.mediaPlayerModel,B=W.errHandler,D=W.errors,p=W.debug.getLogger(h),P=W.requestModifier},initialize:function L(){O=Object(w.default)(i).create({errHandler:B,dashMetrics:k,mediaPlayerModel:F,requestModifier:P,errors:D})},loadInitialization:function te(W,Se){return new Promise(function(le){var Ee=null,xe=W?I.resolve(W.path):null,Ve=W?W.range.split("-"):null,fe={range:{start:Ve?parseFloat(Ve[0]):null,end:Ve?parseFloat(Ve[1]):null},request:Ee,url:xe?xe.url:void 0,init:!0,mediaType:Se};p.info("Start loading initialization."),Ee=J(fe),O.load({request:Ee,success:function(){le(W)},error:function(){le(W)}}),p.debug("Perform init load: "+fe.url)})},loadSegments:function Me(W,Se,le){return new Promise(function(Ee){var xe=null,Ve=W?I.resolve(W.path):null,fe=Ve?Ve.url:void 0;xe=J({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:xe,url:fe,init:!1,mediaType:Se}),p.debug("Parsing ebml header"),O.load({request:xe,success:function(Fe){!function ne(W,Se,le,Ee){if(W&&0!==W.byteLength){var Ve,fe,Pe,Ce,xe=Object(n.default)(i).create({data:W}),me=le?le.split("-"):null,De=null,Re={url:Se,range:{start:me?parseFloat(me[0]):null,end:me?parseFloat(me[1]):null},request:De};for(p.debug("Parse EBML header: "+Re.url),xe.skipOverElement(T.EBML),xe.consumeTag(T.Segment),Pe=xe.getMatroskaCodedNum(),Pe+=xe.getPos(),Ce=xe.getPos();xe.moreData()&&!xe.consumeTagAndSize(T.Segment.Info,!0);)if(!(xe.skipOverElement(T.Segment.SeekHead,!0)||xe.skipOverElement(T.Segment.Tracks,!0)||xe.skipOverElement(T.Segment.Cues,!0)||xe.skipOverElement(T.Void,!0)))throw new Error("no valid top level element found");for(;void 0===Ve;){var Fe=xe.getMatroskaCodedNum(!0),Ne=xe.getMatroskaCodedNum();Fe===T.Segment.Info.Duration.tag?Ve=xe[T.Segment.Info.Duration.parse](Ne):xe.setPos(xe.getPos()+Ne)}De=J(Re),O.load({request:De,success:function(ve){fe=z(ve,Ce,Pe,Ve),Ee(fe)},error:function(){p.error("Download Error: Cues "+Re.url),Ee(null)}}),p.debug("Perform cues load: "+Re.url+" bytes="+Re.range.start+"-"+Re.range.end)}else Ee(null)}(Fe,fe,le,function(Ne){Ee({segments:Ne,representation:W,error:Ne?void 0:new g.default(D.SEGMENT_BASE_LOADER_ERROR_CODE,D.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){Ee({representation:W,error:new g.default(D.SEGMENT_BASE_LOADER_ERROR_CODE,D.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function ce(){O&&(O.abort(),O=null)}},function S(){T={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),h}d.__dashjs_factory_name="WebmSegmentBaseLoader",v.default=A.default.getSingletonFactory(d)},"./src/dash/constants/DashConstants.js":
/*!*********************************************!*\
                  !*** ./src/dash/constants/DashConstants.js ***!
                  \*********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(i){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function A(i,h){for(var p=0;p<h.length;p++){var T=h[p];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(i,x(T.key),T)}}function x(i){var h=function w(i,h){if("object"!==n(i)||null===i)return i;var p=i[Symbol.toPrimitive];if(void 0!==p){var T=p.call(i,h||"default");if("object"!==n(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(i)}(i,"string");return"symbol"===n(h)?h:String(h)}e.r(v);var d=new(function(){function i(){(function b(i,h){if(!(i instanceof h))throw new TypeError("Cannot call a class as a function")})(this,i),this.init()}return function _(i,h,p){return h&&A(i.prototype,h),p&&A(i,p),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}]),i}());v.default=d},"./src/dash/controllers/ContentSteeringController.js":
/*!***********************************************************!*\
                  !*** ./src/dash/controllers/ContentSteeringController.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),_=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),x=e(
/*! ../vo/ContentSteeringRequest */
"./src/dash/vo/ContentSteeringRequest.js"),w=e(
/*! ../vo/ContentSteeringResponse */
"./src/dash/vo/ContentSteeringResponse.js"),g=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),d=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),i=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),h=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),p=e(
/*! ../../core/Utils */
"./src/core/Utils.js"),T=e(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),B_THROUGHPUT="_DASH_throughput",B_PATHWAY="_DASH_pathway",B_URL="url";function P(){var O,D,I,S,L,C,U,z,ne,te,Me,J,ce,W,Se,k=this.context,F=Object(T.default)(k).getInstance();function Ve(K){K&&K.toStreamInfo&&(S=K.toStreamInfo)}function fe(K){K&&K.request&&K.request.serviceLocation&&(L=K.request.serviceLocation)}function Pe(){var K=Me.getValue();return Se.getContentSteering(K)}function me(){return new Promise(function(K){try{var se=Pe();if(!se||!se.serverUrl)return void K();var ge=function De(K){var se=K.proxyServerUrl?K.proxyServerUrl:K.serverUrl;I&&I.reloadUri&&(se=F.isRelative(I.reloadUri)?F.resolve(I.reloadUri,K.serverUrl):I.reloadUri);var ge=[];if(S){var oe=Se.getIsDynamic(),Q=Se.getAllMediaInfoForType(S,h.default.VIDEO).length>0?h.default.VIDEO:h.default.AUDIO,q=ce.getThroughputHistory(),$=q?q.getAverageThroughput(Q,oe):NaN;isNaN($)||ge.push({key:B_THROUGHPUT,value:1e3*$})}return L&&ge.push({key:B_PATHWAY,value:L}),K.proxyServerUrl&&K.proxyServerUrl===se&&K.serverUrl&&ge.push({key:B_URL,value:encodeURI(K.serverUrl)}),p.default.addAditionalQueryParameterToUrl(se,ge)}(se),oe=new x.default(ge);U.load({request:oe,success:function(q){(function Re(K){!K||!K[g.default.CONTENT_STEERING_RESPONSE.VERSION]||1!==parseInt(K[g.default.CONTENT_STEERING_RESPONSE.VERSION])||((I=new w.default).version=K[g.default.CONTENT_STEERING_RESPONSE.VERSION],K[g.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(K[g.default.CONTENT_STEERING_RESPONSE.TTL])&&(I.ttl=K[g.default.CONTENT_STEERING_RESPONSE.TTL]),K[g.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(I.reloadUri=K[g.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),K[g.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(I.serviceLocationPriority=K[g.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),Fe())})(q),W.trigger(d.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:I,url:ge}),K()},error:function(q){(function at(K){D.warn("Error fetching data from content steering server",K),Fe()})(q),K(q)}})}catch(Q){K(Q)}})}function Fe(){I&&I.ttl&&!isNaN(I.ttl)&&(C&&clearTimeout(C),C=setTimeout(function(){me()},1e3*I.ttl))}function Ne(){C&&clearTimeout(C),C=null}function ve(){I=null,S=null,L=null,Ne()}return O={reset:function ye(){ve(),W.off(d.default.PERIOD_SWITCH_COMPLETED,Ve,O),W.off(i.default.FRAGMENT_LOADING_STARTED,fe,O)},setConfig:function Ee(K){K&&(K.adapter&&(Se=K.adapter),K.errHandler&&(z=K.errHandler),K.dashMetrics&&(ne=K.dashMetrics),K.mediaPlayerModel&&(te=K.mediaPlayerModel),K.requestModifier&&(J=K.requestModifier),K.manifestModel&&(Me=K.manifestModel),K.abrController&&(ce=K.abrController),K.eventBus&&(W=K.eventBus))},loadSteeringData:me,getCurrentSteeringResponseData:function Be(){return I},shouldQueryBeforeStart:function Ce(){var K=Pe();return K&&K.queryBeforeStart},getSteeringDataFromManifest:Pe,stopSteeringRequestTimer:Ne,initialize:function xe(){U=Object(A.default)(k).create({errHandler:z,dashMetrics:ne,mediaPlayerModel:te,requestModifier:J,errors:_.default}),W.on(d.default.PERIOD_SWITCH_COMPLETED,Ve,O),W.on(i.default.FRAGMENT_LOADING_STARTED,fe,O)}},function le(){D=Object(b.default)(k).getInstance().getLogger(O),ve()}(),O}P.__dashjs_factory_name="ContentSteeringController",v.default=n.default.getSingletonFactory(P)},"./src/dash/controllers/RepresentationController.js":
/*!**********************************************************!*\
                  !*** ./src/dash/controllers/RepresentationController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),_=e(
/*! ../utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function x(w){var D,I,S,L,C,g=(w=w||{}).eventBus,d=w.events,i=w.abrController,h=w.dashMetrics,p=w.playbackController,T=w.timelineConverter,B=w.type,P=w.streamInfo,k=w.dashConstants,F=w.segmentsController,O=w.isDynamic;function ne(){return B}function te(){if(!(i&&h&&p&&T))throw new Error(n.default.MISSING_CONFIG_ERROR)}function J(){return S}function ce(){return C}function W(){I=null,S=!0,L=[]}function Ee(ye){return new Promise(function(ve,K){var se=ye.hasInitialization(),ge=ye.hasSegments(),oe=[];oe.push(F.updateInitData(ye,se)),oe.push(F.updateSegmentData(ye,ge)),Promise.all(oe).then(function(Q){Q[0]&&!Q[0].error&&(ye=function Ve(ye,ve){return ve&&!ve.error&&ve.representation?ve.representation:ye}(ye,Q[0])),Q[1]&&!Q[1].error&&(ye=function fe(ye,ve){if(ve&&!ve.error){var oe,Q,q,$,K=ve.segments,se=[],ge=0;for(oe=0,Q=K?K.length:0;oe<Q;oe++)q=K[oe],($=Object(_.getTimeBasedSegment)(T,O,ye,q.startTime,q.duration,q.timescale,q.media,q.mediaRange,ge))&&(se.push($),$=null,ge++);return se.length>0&&(ye.segments=se),ye}}(ye,Q[1])),function xe(ye){ye.mediaFinishedInformation=F.getMediaFinishedInformation(ye)}(ye),function Fe(ye){if(J()){var se,ve=h.getCurrentManifestUpdate(),K=!1;if(ve){for(var oe=0;oe<ve.representationInfo.length;oe++)if((se=ve.representationInfo[oe]).index===ye.index&&se.mediaType===ne()){K=!0;break}K||h.addManifestUpdateRepresentationInfo(ye,ne())}if(function De(){for(var ye=0,ve=L.length;ye<ve;ye++){var K=L[ye].segmentInfoType;if(!L[ye].hasInitialization()||(K===k.SEGMENT_BASE||K===k.BASE_URL)&&!L[ye].segments)return!1}return!0}()){i.setPlaybackQuality(B,P,function me(ye){return L.indexOf(ye)}(C));var Q=h.getCurrentDVRInfo(B);Q&&h.updateManifestUpdateInfo({latency:Q.range.end-p.getTime()}),h.getCurrentRepresentationSwitch(ce().adaptation.type)||Pe(),Re()}}}(ye),ve()}).catch(function(Q){K(Q)})})}function Pe(){te();var ye=new Date,ve=ce(),K=1e3*p.getTime();ve&&h.addRepresentationSwitch(ve.adaptation.type,ye,K,ve.id),g.trigger(A.default.REPRESENTATION_SWITCH,{mediaType:B,streamId:P.id,currentRepresentation:ve,numberOfRepresentations:L.length},{streamId:P.id,mediaType:B})}function Ce(ye){return null==ye||ye>=L.length?null:L[ye]}function Re(ye){S=!1,g.trigger(d.DATA_UPDATE_COMPLETED,{data:I,currentRepresentation:C,error:ye},{streamId:P.id,mediaType:B})}function at(ye){C=ye}function Be(ye){if(ye.newDuration){var ve=ce();ve&&ve.adaptation.period&&(ve.adaptation.period.duration=ye.newDuration)}}return D={getStreamId:function z(){return P.id},getType:ne,getData:function Me(){return I},isUpdating:J,updateData:function le(ye,ve,K,se,ge){if(te(),S=!0,L=ve,at(Ce(ge)),I=ye,K!==n.default.VIDEO&&K!==n.default.AUDIO&&(K!==n.default.TEXT||!se))return Re(),Promise.resolve();for(var Q=[],q=0,$=L.length;q<$;q++)Q.push(Ee(L[q]));return Promise.all(Q)},getCurrentRepresentation:ce,getRepresentationForQuality:Ce,prepareQualityChange:function Ne(ye){at(Ce(ye)),Pe()},reset:function Se(){g.off(A.default.MANIFEST_VALIDITY_CHANGED,Be,D),W()}},function U(){W(),g.on(A.default.MANIFEST_VALIDITY_CHANGED,Be,D)}(),D}x.__dashjs_factory_name="RepresentationController",v.default=b.default.getClassFactory(x)},"./src/dash/controllers/SegmentBaseController.js":
/*!*******************************************************!*\
                  !*** ./src/dash/controllers/SegmentBaseController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../SegmentBaseLoader */
"./src/dash/SegmentBaseLoader.js"),A=e(
/*! ../WebmSegmentBaseLoader */
"./src/dash/WebmSegmentBaseLoader.js");function _(w){var D,I,S,g=this.context,d=(w=w||{}).eventBus,i=w.events,h=w.dashMetrics,p=w.mediaPlayerModel,T=w.errHandler,B=w.baseURLController,P=w.debug,k=w.boxParser,F=w.requestModifier,O=w.errors;function C(Me){return"webm"===(Me?Me.split("/")[1]:"").toLowerCase()}return D={initialize:function U(){I.initialize(),S.initialize()},getSegmentBaseInitSegment:function z(Me){return C(Me.representation.mimeType)?S.loadInitialization(Me.representation,Me.mediaType):I.loadInitialization(Me.representation,Me.mediaType)},getSegmentList:function ne(Me){return C(Me.mimeType)?S.loadSegments(Me.representation,Me.mediaType,Me.representation?Me.representation.indexRange:null):I.loadSegments(Me.representation,Me.mediaType,Me.representation?Me.representation.indexRange:null)},reset:function te(){I.reset(),S.reset()}},function L(){I=Object(b.default)(g).getInstance(),S=Object(A.default)(g).getInstance(),I.setConfig({baseURLController:B,dashMetrics:h,mediaPlayerModel:p,errHandler:T,eventBus:d,events:i,errors:O,debug:P,boxParser:k,requestModifier:F}),S.setConfig({baseURLController:B,dashMetrics:h,mediaPlayerModel:p,errHandler:T,eventBus:d,events:i,errors:O,debug:P,requestModifier:F})}(),D}_.__dashjs_factory_name="SegmentBaseController";var x=n.default.getSingletonFactory(_);v.default=x},"./src/dash/controllers/SegmentsController.js":
/*!****************************************************!*\
                  !*** ./src/dash/controllers/SegmentsController.js ***!
                  \****************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../utils/TimelineSegmentsGetter */
"./src/dash/utils/TimelineSegmentsGetter.js"),A=e(
/*! ../utils/TemplateSegmentsGetter */
"./src/dash/utils/TemplateSegmentsGetter.js"),_=e(
/*! ../utils/ListSegmentsGetter */
"./src/dash/utils/ListSegmentsGetter.js"),x=e(
/*! ../utils/SegmentBaseGetter */
"./src/dash/utils/SegmentBaseGetter.js");function w(d){var B,P,i=this.context,h=(d=d||{}).dashConstants,p=d.type,T=d.segmentBaseController;function I(U){return U?U.segments?P[h.SEGMENT_BASE]:P[U.segmentInfoType]:null}return B={initialize:function F(U){P[h.SEGMENT_TIMELINE]=Object(b.default)(i).create(d,U),P[h.SEGMENT_TEMPLATE]=Object(A.default)(i).create(d,U),P[h.SEGMENT_LIST]=Object(_.default)(i).create(d,U),P[h.SEGMENT_BASE]=Object(x.default)(i).create(d,U)},updateInitData:function O(U,z){return z?Promise.resolve():T.getSegmentBaseInitSegment({representation:U,mediaType:p})},updateSegmentData:function D(U,z){return z?Promise.resolve():T.getSegmentList({mimeType:U.mimeType,representation:U,mediaType:p})},getSegmentByIndex:function S(U,z,ne){var te=I(U);return te?te.getSegmentByIndex(U,z,ne):null},getSegmentByTime:function L(U,z){var ne=I(U);return ne?ne.getSegmentByTime(U,z):null},getMediaFinishedInformation:function C(U){var z=I(U);return z?z.getMediaFinishedInformation(U):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},function k(){P={}}(),B}w.__dashjs_factory_name="SegmentsController";var g=n.default.getClassFactory(w);v.default=g},"./src/dash/controllers/ServiceDescriptionController.js":
/*!**************************************************************!*\
                  !*** ./src/dash/controllers/ServiceDescriptionController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),_=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),x=[A.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],w_VIDEO="video",w_AUDIO="audio",w_ANY="any",w_ALL="all";function g(){var i,h,p,T,B,d=this.context;function O(){h={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},p=[]}function te(W,Se,le){try{h[W][Se]=le/1e3}catch(Ee){T.error(Ee)}}return i={getServiceDescriptionSettings:function D(){return h},getProducerReferenceTimeOffsets:function Me(){return p},calculateProducerReferenceTimeOffsets:function J(W){try{var Se=[];if(W&&W.length>0){var le=[A.default.VIDEO,A.default.AUDIO,A.default.TEXT],Ee=B.getAvailabilityStartTime()/1e3;W.forEach(function(xe){var Ve=le.reduce(function(fe,Pe){return fe.concat(B.getAllMediaInfoForType(xe,Pe))},[]).reduce(function(fe,Pe){return B.getProducerReferenceTimes(xe,Pe).forEach(function(me){var De=B.getVoRepresentations(Pe);if(De&&De.length>0&&De[0].adaptation&&De[0].segmentInfoType===_.default.SEGMENT_TEMPLATE){var Re=De[0],Ne=new Date(me[_.default.WALL_CLOCK_TIME]).getTime()/1e3;fe.push({id:me[_.default.ID],to:Ee-(Ne-(me[_.default.PRESENTATION_TIME]/Re[_.default.TIMESCALE]-Re[_.default.PRESENTATION_TIME_OFFSET]+xe.start))})}}),fe},[]);Se=Se.concat(Ve)})}p=Se}catch(xe){T.error(xe),p=[]}},applyServiceDescription:function I(W){if(W&&W.serviceDescriptions){var Se=W.serviceDescriptions.filter(function(xe){return x.includes(xe.schemeIdUri)}),le=W.serviceDescriptions.filter(function(xe){return null==xe.schemeIdUri}),Ee=Se.length>0?Se[Se.length-1]:le[le.length-1];Ee&&(Ee.latency&&Ee.latency.target>0&&function S(W){var Se;if(Se=W.schemeIdUri===A.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function C(W){return{liveDelay:W.latency.target/1e3,maxDrift:!isNaN(W.latency.max)&&W.latency.max>W.latency.target?(W.latency.max-W.latency.target+500)/1e3:NaN,referenceId:W.latency.referenceId||NaN}}(W):function L(W){return{liveDelay:W.latency.target/1e3,maxDrift:!isNaN(W.latency.max)&&W.latency.max>W.latency.target?(W.latency.max-W.latency.target+500)/1e3:NaN,referenceId:W.latency.referenceId||NaN}}(W),p.length>0){var le=function ce(W){var le,Se=0,Ee=p.filter(function(xe){return xe.id===W.referenceId});return 0===Ee.length?(Se=p.length>0?p[0].to:0,le=p[0].id||NaN):(Se=Ee[0].to||0,le=Ee[0].id||NaN),{to:Se,id:le}}(Se),Ee=le.to,xe=le.id;h.liveDelay=Se.liveDelay-Ee,h.liveCatchup.maxDrift=Se.maxDrift,T.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(Ee," from ProducerReferenceTime element with id ").concat(xe,".\n                Live Delay: ").concat(Se.liveDelay-Ee,", Live catchup max drift: ").concat(Se.maxDrift,"\n            "))}else h.liveDelay=Se.liveDelay,h.liveCatchup.maxDrift=Se.maxDrift,T.debug("Found latency properties coming from service description: Live Delay: ".concat(Se.liveDelay,", Live catchup max drift: ").concat(Se.maxDrift))}(Ee),Ee.playbackRate&&function U(W){var Se=W.playbackRate.min?Math.round(1e3*(W.playbackRate.min-1))/1e3:NaN,le=W.playbackRate.max?Math.round(1e3*(W.playbackRate.max-1))/1e3:NaN;h.liveCatchup.playbackRate.min=Se,h.liveCatchup.playbackRate.max=le,T.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(Se)),T.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(le))}(Ee),Ee.operatingBandwidth&&function ne(W){if(W&&W.operatingBandwidth&&W.operatingBandwidth.mediaType&&W.operatingBandwidth.mediaType!==w_ALL){var Se={};Se.minBandwidth=W.operatingBandwidth.min,Se.maxBandwidth=W.operatingBandwidth.max,Se.targetBandwidth=W.operatingBandwidth.target;var le=[];W.operatingBandwidth.mediaType===w_VIDEO||W.operatingBandwidth.mediaType===w_AUDIO?le.push(W.operatingBandwidth.mediaType):W.operatingBandwidth.mediaType===w_ANY&&(le.push(w_AUDIO),le.push(w_VIDEO)),le.forEach(function(Ee){isNaN(Se.minBandwidth)||te("minBitrate",Ee,Se.minBandwidth),isNaN(Se.maxBandwidth)||te("maxBitrate",Ee,Se.maxBandwidth),isNaN(Se.targetBandwidth)||te("initialBitrate",Ee,Se.targetBandwidth)})}}(Ee))}},reset:function F(){O()},setConfig:function k(W){W&&W.adapter&&(B=W.adapter)}},function P(){T=Object(b.default)(d).getInstance().getLogger(i),O()}(),i}g.__dashjs_factory_name="ServiceDescriptionController",v.default=n.default.getSingletonFactory(g)},"./src/dash/models/DashManifestModel.js":
/*!**********************************************!*\
                  !*** ./src/dash/models/DashManifestModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),A=e(
/*! ../vo/Representation */
"./src/dash/vo/Representation.js"),_=e(
/*! ../vo/AdaptationSet */
"./src/dash/vo/AdaptationSet.js"),x=e(
/*! ../vo/Period */
"./src/dash/vo/Period.js"),w=e(
/*! ../vo/Mpd */
"./src/dash/vo/Mpd.js"),g=e(
/*! ../vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),d=e(
/*! ../vo/Event */
"./src/dash/vo/Event.js"),i=e(
/*! ../vo/BaseURL */
"./src/dash/vo/BaseURL.js"),h=e(
/*! ../vo/EventStream */
"./src/dash/vo/EventStream.js"),p=e(
/*! ../vo/ProducerReferenceTime */
"./src/dash/vo/ProducerReferenceTime.js"),T=e(
/*! ../vo/ContentSteering */
"./src/dash/vo/ContentSteering.js"),B=e(
/*! ../../streaming/utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),P=e(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),k=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=e(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),D=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),I=e(
/*! ../../streaming/thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js");function S(J,ce){var W=typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(!W){if(Array.isArray(J)||(W=U(J))||ce&&J&&"number"==typeof J.length){W&&(J=W);var Se=0,le=function(){};return{s:le,n:function(){return Se>=J.length?{done:!0}:{done:!1,value:J[Se++]}},e:function(Pe){throw Pe},f:le}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ve,Ee=!0,xe=!1;return{s:function(){W=W.call(J)},n:function(){var Pe=W.next();return Ee=Pe.done,Pe},e:function(Pe){xe=!0,Ve=Pe},f:function(){try{!Ee&&null!=W.return&&W.return()}finally{if(xe)throw Ve}}}}function L(J){return function ne(J){if(Array.isArray(J))return te(J)}(J)||function z(J){if(typeof Symbol<"u"&&null!=J[Symbol.iterator]||null!=J["@@iterator"])return Array.from(J)}(J)||U(J)||function C(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(J,ce){if(J){if("string"==typeof J)return te(J,ce);var W=Object.prototype.toString.call(J).slice(8,-1);if("Object"===W&&J.constructor&&(W=J.constructor.name),"Map"===W||"Set"===W)return Array.from(J);if("Arguments"===W||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return te(J,ce)}}function te(J,ce){(null==ce||ce>J.length)&&(ce=J.length);for(var W=0,Se=new Array(ce);W<ce;W++)Se[W]=J[W];return Se}function Me(){var J,ce,W,Se,le=this.context,Ee=Object(P.default)(le).getInstance(),xe=Number.isInteger||function(St){return"number"==typeof St&&isFinite(St)&&Math.floor(St)===St};function fe(St,dt){if(!St)throw new Error("adaptation is not defined");if(!dt)throw new Error("type is not defined");if(St.Representation_asArray&&St.Representation_asArray.length){var hn=Kt(St.Representation_asArray[0]);if(hn&&hn.length>0&&I.THUMBNAILS_SCHEME_ID_URIS.indexOf(hn[0].schemeIdUri)>=0)return dt===n.default.IMAGE}if(St.ContentComponent_asArray&&St.ContentComponent_asArray.length>0){if(St.ContentComponent_asArray.length>1)return dt===n.default.MUXED;if(St.ContentComponent_asArray[0].contentType===dt)return!0}var $e=dt===n.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(dt);if(St.Representation_asArray&&St.Representation_asArray.length&&$e.test(St.Representation_asArray[0].codecs))return!0;if(St.hasOwnProperty(b.default.MIME_TYPE))return $e.test(St.mimeType);if(St.Representation_asArray)for(var Yt,Rt=0;Rt<St.Representation_asArray.length;Rt++)if((Yt=St.Representation_asArray[Rt]).hasOwnProperty(b.default.MIME_TYPE))return $e.test(Yt.mimeType);return!1}function Pe(St){if(!St)throw new Error("adaptation is not defined");if(St.hasOwnProperty(b.default.SEGMENT_TEMPLATE)||St.hasOwnProperty(b.default.SEGMENT_TIMELINE)||St.hasOwnProperty(b.default.SEGMENT_LIST)||St.hasOwnProperty(b.default.SEGMENT_BASE))return!0;if(St.Representation_asArray&&St.Representation_asArray.length>0){var dt=St.Representation_asArray[0];if(dt.hasOwnProperty(b.default.SEGMENT_TEMPLATE)||dt.hasOwnProperty(b.default.SEGMENT_TIMELINE)||dt.hasOwnProperty(b.default.SEGMENT_LIST)||dt.hasOwnProperty(b.default.SEGMENT_BASE))return!0}return!1}function Ce(St){return fe(St,n.default.AUDIO)}function me(St){return fe(St,n.default.VIDEO)}function De(St){return fe(St,n.default.TEXT)}function Re(St){return fe(St,n.default.MUXED)}function Fe(St){return fe(St,n.default.IMAGE)}function ge(){return function(St,dt){return St.bandwidth-dt.bandwidth}}function oe(St){return St&&Array.isArray(St.Representation_asArray)&&St.Representation_asArray.sort(function(St,dt){return St.bandwidth-dt.bandwidth}),St}function Q(St,dt){return St&&St.Period_asArray&&xe(dt)&&St.Period_asArray[dt]?St.Period_asArray[dt].AdaptationSet_asArray:[]}function q(St){return St&&St.Period_asArray?St.Period_asArray:[]}function qe(St){var dt=!1;return St&&St.hasOwnProperty("type")&&(dt=St.type===b.default.DYNAMIC),dt}function Kt(St){return St&&St.EssentialProperty_asArray&&St.EssentialProperty_asArray.length?St.EssentialProperty_asArray.map(function(dt){return{schemeIdUri:dt.schemeIdUri,value:dt.value}}):null}function vt(St){if(!St||!St.S_asArray)return NaN;var dt=St.S_asArray[0],hn=St.S_asArray[1];return dt.hasOwnProperty("d")?dt.d:hn.t-dt.t}function nt(St){return St.adaptation.period.start-St.presentationTimeOffset}function rt(St,dt){if(!St)throw new Error("Period cannot be null or undefined");var hn=x.default.DEFAULT_ID+"_"+dt;return St.hasOwnProperty(b.default.ID)&&St.id.length>0&&"__proto__"!==St.id&&(hn=St.id),hn}function qt(St,dt,hn){var Tt,$e=[];if(!St)return $e;for(Tt=0;Tt<St.length;Tt++){var Yt=new h.default;if(Yt.timescale=1,Yt.representation=dt,!St[Tt].hasOwnProperty(n.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");Yt.schemeIdUri=St[Tt].schemeIdUri,St[Tt].hasOwnProperty(b.default.TIMESCALE)&&(Yt.timescale=St[Tt].timescale),St[Tt].hasOwnProperty(b.default.VALUE)&&(Yt.value=St[Tt].value),$e.push(Yt),Yt.period=hn}return $e}function Tn(St){var dt=[],$e=!1;return(St.BaseURL_asArray||[St.baseUri]).some(function(Tt){if(Tt){var Yt=new i.default,Rt=Tt.__text||Tt;return Ee.isRelative(Rt)&&($e=!0,St.baseUri&&(Rt=Ee.resolve(Rt,St.baseUri))),Yt.url=Rt,Yt.serviceLocation=Tt.hasOwnProperty(b.default.SERVICE_LOCATION)&&Tt.serviceLocation.length?Tt.serviceLocation:Rt,Tt.hasOwnProperty(b.default.DVB_PRIORITY)&&(Yt.dvb_priority=Tt[b.default.DVB_PRIORITY]),Tt.hasOwnProperty(b.default.DVB_WEIGHT)&&(Yt.dvb_weight=Tt[b.default.DVB_WEIGHT]),Tt.hasOwnProperty(b.default.AVAILABILITY_TIME_OFFSET)&&(Yt.availabilityTimeOffset=Tt[b.default.AVAILABILITY_TIME_OFFSET]),Tt.hasOwnProperty(b.default.AVAILABILITY_TIME_COMPLETE)&&(Yt.availabilityTimeComplete="false"!==Tt[b.default.AVAILABILITY_TIME_COMPLETE]),dt.push(Yt),$e}}),dt}return J={getIsTypeOf:fe,getIsText:De,getIsFragmented:Pe,getProducerReferenceTimesForAdaptation:function Ne(St){var dt=St&&St.hasOwnProperty(b.default.PRODUCERREFERENCETIME_ASARRAY)?St[b.default.PRODUCERREFERENCETIME_ASARRAY]:[];(St&&St.hasOwnProperty(b.default.REPRESENTATION_ASARRAY)?St[b.default.REPRESENTATION_ASARRAY]:[]).forEach(function(Tt){Tt.hasOwnProperty(b.default.PRODUCERREFERENCETIME_ASARRAY)&&dt.push.apply(dt,L(Tt[b.default.PRODUCERREFERENCETIME_ASARRAY]))});var $e=[];return dt.forEach(function(Tt){var Yt=new p.default;Tt.hasOwnProperty(b.default.ID)&&(Yt[b.default.ID]=Tt[b.default.ID],Tt.hasOwnProperty(b.default.WALL_CLOCK_TIME)&&(Yt[b.default.WALL_CLOCK_TIME]=Tt[b.default.WALL_CLOCK_TIME],Tt.hasOwnProperty(b.default.PRESENTATION_TIME)&&(Yt[b.default.PRESENTATION_TIME]=Tt[b.default.PRESENTATION_TIME],$e.push(Yt))))}),$e},getLanguageForAdaptation:function at(St){var dt="";return St&&St.hasOwnProperty(b.default.LANG)&&(dt=St.lang),dt},getViewpointForAdaptation:function Be(St){return St&&St.hasOwnProperty(b.default.VIEWPOINT)?St.Viewpoint:null},getRolesForAdaptation:function ye(St){return St&&St.hasOwnProperty(b.default.ROLE_ASARRAY)?St.Role_asArray:[]},getAccessibilityForAdaptation:function ve(St){return St&&St.hasOwnProperty(b.default.ACCESSIBILITY_ASARRAY)?St.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function K(St){return St&&St.hasOwnProperty(b.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?St.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function se(St){return St&&St.hasOwnProperty(b.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?St.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function Z(St,dt,hn){var $e=Q(dt,hn);return $e.length>0&&xe(St)?$e[St]:null},getIndexForAdaptation:function X(St,dt,hn){if(!St)return-1;for(var $e=Q(dt,hn),Tt=0;Tt<$e.length;Tt++)if(Object(B.default)(le).getInstance().areEqual($e[Tt],St))return Tt;return-1},getAdaptationForId:function ie(St,dt,hn){var Tt,Yt,$e=Q(dt,hn);for(Tt=0,Yt=$e.length;Tt<Yt;Tt++)if($e[Tt].hasOwnProperty(b.default.ID)&&$e[Tt].id===St)return $e[Tt];return null},getAdaptationsForType:function pe(St,dt,hn){var Tt,Yt,$e=Q(St,dt),Rt=[];for(Tt=0,Yt=$e.length;Tt<Yt;Tt++)fe($e[Tt],hn)&&Rt.push(oe($e[Tt]));return Rt},getRealPeriods:q,getRealPeriodForIndex:function $(St,dt){var hn=q(dt);return hn.length>0&&xe(St)?hn[St]:null},getCodec:function Te(St,dt,hn){var $e=null;if(St&&St.Representation_asArray&&St.Representation_asArray.length>0){var Tt=xe(dt)&&dt>=0&&dt<St.Representation_asArray.length?St.Representation_asArray[dt]:St.Representation_asArray[0];Tt&&($e=Tt.mimeType+';codecs="'+Tt.codecs+'"',hn&&void 0!==Tt.width&&($e+=';width="'+Tt.width+'";height="'+Tt.height+'"'))}return $e&&($e=$e.replace(/\sprofiles=[^;]*/g,"")),$e},getSelectionPriority:function Zt(St){try{var dt=St&&typeof St.selectionPriority<"u"?parseInt(St.selectionPriority):1;return isNaN(dt)?1:dt}catch{return 1}},getMimeType:function be(St){return St&&St.Representation_asArray&&St.Representation_asArray.length>0?St.Representation_asArray[0].mimeType:null},getKID:function Le(St){return St&&St.hasOwnProperty(b.default.CENC_DEFAULT_KID)?St[b.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function et(St){if(!St||!Array.isArray(St.Label_asArray))return[];for(var dt=[],hn=0;hn<St.Label_asArray.length;hn++)dt.push({lang:St.Label_asArray[hn].lang,text:St.Label_asArray[hn].__text||St.Label_asArray[hn]});return dt},getContentProtectionData:function Qe(St){return St&&St.hasOwnProperty(b.default.CONTENTPROTECTION_ASARRAY)&&0!==St.ContentProtection_asArray.length?St.ContentProtection_asArray:null},getIsDynamic:qe,getId:function ft(St){return St&&St[b.default.ID]||null},hasProfile:function ze(St,dt){var hn=!1;return St&&St.profiles&&St.profiles.length>0&&(hn=-1!==St.profiles.indexOf(dt)),hn},getDuration:function ht(St){return St&&St.hasOwnProperty(b.default.MEDIA_PRESENTATION_DURATION)?St.mediaPresentationDuration:St&&"dynamic"==St.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function Et(St){return St&&St.bandwidth?St.bandwidth:NaN},getManifestUpdatePeriod:function de(St){var dt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,hn=NaN;return St&&St.hasOwnProperty(b.default.MINIMUM_UPDATE_PERIOD)&&(hn=St.minimumUpdatePeriod),isNaN(hn)?hn:Math.max(hn-dt,1)},getPublishTime:function He(St){return St&&St.hasOwnProperty(b.default.PUBLISH_TIME)?new Date(St[b.default.PUBLISH_TIME]):null},getRepresentationCount:function bt(St){return St&&Array.isArray(St.Representation_asArray)?St.Representation_asArray.length:0},getBitrateListForAdaptation:function Ut(St){var dt=oe(St);return(dt&&Array.isArray(dt.Representation_asArray)?dt.Representation_asArray:[]).map(function($e){return{bandwidth:$e.bandwidth,width:$e.width||0,height:$e.height||0,scanType:$e.scanType||null,id:$e.id||null}})},getRepresentationFor:function pn(St,dt){return dt&&dt.Representation_asArray&&dt.Representation_asArray.length>0&&xe(St)?dt.Representation_asArray[St]:null},getRepresentationsForAdaptation:function xt(St){var $e,Tt,dt=[],hn=function rn(St){if(St&&St.period&&xe(St.period.index)){var dt=St.period.mpd.manifest.Period_asArray[St.period.index];if(dt&&dt.AdaptationSet_asArray&&xe(St.index))return oe(dt.AdaptationSet_asArray[St.index])}}(St);if(hn&&hn.Representation_asArray){if(St&&St.period&&xe(St.period.index)){var Yt=Tn(St.period.mpd.manifest);Yt&&(Tt=Yt[0])}for(var Rt=0,bn=hn.Representation_asArray.length;Rt<bn;++Rt){var Lt=hn.Representation_asArray[Rt],Ct=new A.default;if(Ct.index=Rt,Ct.adaptation=St,Lt.hasOwnProperty(b.default.ID)&&(Ct.id=Lt.id),Lt.hasOwnProperty(b.default.CODECS)&&(Ct.codecs=Lt.codecs),Lt.hasOwnProperty(b.default.MIME_TYPE)&&(Ct.mimeType=Lt[b.default.MIME_TYPE]),Lt.hasOwnProperty(b.default.CODEC_PRIVATE_DATA)&&(Ct.codecPrivateData=Lt.codecPrivateData),Lt.hasOwnProperty(b.default.BANDWITH)&&(Ct.bandwidth=Lt.bandwidth),Lt.hasOwnProperty(b.default.WIDTH)&&(Ct.width=Lt.width),Lt.hasOwnProperty(b.default.HEIGHT)&&(Ct.height=Lt.height),Lt.hasOwnProperty(b.default.SCAN_TYPE)&&(Ct.scanType=Lt.scanType),Lt.hasOwnProperty(b.default.MAX_PLAYOUT_RATE)&&(Ct.maxPlayoutRate=Lt.maxPlayoutRate),Lt.hasOwnProperty(b.default.SEGMENT_BASE)?($e=Lt.SegmentBase,Ct.segmentInfoType=b.default.SEGMENT_BASE):Lt.hasOwnProperty(b.default.SEGMENT_LIST)?Ct.segmentInfoType=($e=Lt.SegmentList).hasOwnProperty(b.default.SEGMENT_TIMELINE)?b.default.SEGMENT_TIMELINE:b.default.SEGMENT_LIST:Lt.hasOwnProperty(b.default.SEGMENT_TEMPLATE)?(Ct.segmentInfoType=($e=Lt.SegmentTemplate).hasOwnProperty(b.default.SEGMENT_TIMELINE)?b.default.SEGMENT_TIMELINE:b.default.SEGMENT_TEMPLATE,$e.hasOwnProperty(b.default.INITIALIZATION_MINUS)&&(Ct.initialization=$e.initialization.split("$Bandwidth$").join(Lt.bandwidth).split("$RepresentationID$").join(Lt.id))):Ct.segmentInfoType=b.default.BASE_URL,Ct.essentialProperties=Kt(Lt),$e){if($e.hasOwnProperty(b.default.INITIALIZATION)){var Pt=$e.Initialization;Pt.hasOwnProperty(b.default.SOURCE_URL)&&(Ct.initialization=Pt.sourceURL),Pt.hasOwnProperty(b.default.RANGE)&&(Ct.range=Pt.range)}else De(hn)&&Pe(hn)&&hn.mimeType&&-1===hn.mimeType.indexOf("application/mp4")&&(Ct.range=0);$e.hasOwnProperty(b.default.TIMESCALE)&&(Ct.timescale=$e.timescale),$e.hasOwnProperty(b.default.DURATION)?Ct.segmentDuration=$e.duration/Ct.timescale:Lt.hasOwnProperty(b.default.SEGMENT_TEMPLATE)&&($e=Lt.SegmentTemplate).hasOwnProperty(b.default.SEGMENT_TIMELINE)&&(Ct.segmentDuration=vt($e.SegmentTimeline)/Ct.timescale),$e.hasOwnProperty(b.default.MEDIA)&&(Ct.media=$e.media),$e.hasOwnProperty(b.default.START_NUMBER)&&(Ct.startNumber=$e.startNumber),$e.hasOwnProperty(b.default.INDEX_RANGE)&&(Ct.indexRange=$e.indexRange),$e.hasOwnProperty(b.default.PRESENTATION_TIME_OFFSET)&&(Ct.presentationTimeOffset=$e.presentationTimeOffset/Ct.timescale),$e.hasOwnProperty(b.default.AVAILABILITY_TIME_OFFSET)?Ct.availabilityTimeOffset=$e.availabilityTimeOffset:Tt&&void 0!==Tt.availabilityTimeOffset&&(Ct.availabilityTimeOffset=Tt.availabilityTimeOffset),$e.hasOwnProperty(b.default.AVAILABILITY_TIME_COMPLETE)?Ct.availabilityTimeComplete="false"!==$e.availabilityTimeComplete:Tt&&void 0!==Tt.availabilityTimeComplete&&(Ct.availabilityTimeComplete=Tt.availabilityTimeComplete)}Ct.MSETimeOffset=nt(Ct),Ct.path=[St.period.index,St.index,Rt],dt.push(Ct)}}return dt},getAdaptationsForPeriod:function ke(St){var $e,Tt,Yt,dt=St&&xe(St.index)?St.mpd.manifest.Period_asArray[St.index]:null,hn=[];if(dt&&dt.AdaptationSet_asArray)for(Yt=0;Yt<dt.AdaptationSet_asArray.length;Yt++)Tt=dt.AdaptationSet_asArray[Yt],$e=new _.default,Tt.hasOwnProperty(b.default.ID)&&($e.id=Tt.id),$e.index=Yt,$e.period=St,Re(Tt)?$e.type=n.default.MUXED:Ce(Tt)?$e.type=n.default.AUDIO:me(Tt)?$e.type=n.default.VIDEO:De(Tt)?$e.type=n.default.TEXT:Fe(Tt)?$e.type=n.default.IMAGE:ce.warn("Unknown Adaptation stream type"),hn.push($e);return hn},getRegularPeriods:function Ke(St){var bn,Lt,dt=!!St&&qe(St.manifest),hn=[],$e=null,Tt=null,Yt=null,Rt=null;for(Lt=0,bn=St&&St.manifest&&St.manifest.Period_asArray?St.manifest.Period_asArray.length:0;Lt<bn;Lt++)(Tt=St.manifest.Period_asArray[Lt]).hasOwnProperty(b.default.START)?(Rt=new x.default).start=Tt.start:null!==$e&&$e.hasOwnProperty(b.default.DURATION)&&null!==Yt?(Rt=new x.default).start=parseFloat((Yt.start+Yt.duration).toFixed(5)):0===Lt&&!dt&&((Rt=new x.default).start=0),null!==Yt&&isNaN(Yt.duration)&&(null!==Rt?Yt.duration=parseFloat((Rt.start-Yt.start).toFixed(5)):ce.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==Rt&&(Rt.id=rt(Tt,Lt),Rt.index=Lt,Rt.mpd=St,Tt.hasOwnProperty(b.default.DURATION)&&(Rt.duration=Tt.duration),Yt&&(Yt.nextPeriodId=Rt.id),hn.push(Rt),$e=Tt,Yt=Rt),Tt=null,Rt=null;return 0===hn.length||null!==Yt&&isNaN(Yt.duration)&&(Yt.duration=parseFloat((function mt(St){!function yt(){if(!W||!W.hasOwnProperty("error"))throw new Error(n.default.MISSING_CONFIG_ERROR)}();var hn,dt=qe(St.mpd.manifest);return St.mpd.manifest.mediaPresentationDuration?hn=St.mpd.manifest.mediaPresentationDuration:St.duration?hn=St.duration:dt?hn=Number.POSITIVE_INFINITY:W.error(new O.default(D.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",St)),hn}(Yt)-Yt.start).toFixed(5))),hn},getMpd:function ot(St){var dt=new w.default;return St&&(dt.manifest=St,St.hasOwnProperty(b.default.AVAILABILITY_START_TIME)?dt.availabilityStartTime=new Date(St.availabilityStartTime.getTime()):St.loadedTime&&(dt.availabilityStartTime=new Date(St.loadedTime.getTime())),St.hasOwnProperty(b.default.AVAILABILITY_END_TIME)&&(dt.availabilityEndTime=new Date(St.availabilityEndTime.getTime())),St.hasOwnProperty(b.default.MINIMUM_UPDATE_PERIOD)&&(dt.minimumUpdatePeriod=St.minimumUpdatePeriod),St.hasOwnProperty(b.default.MEDIA_PRESENTATION_DURATION)&&(dt.mediaPresentationDuration=St.mediaPresentationDuration),St.hasOwnProperty(b.default.SUGGESTED_PRESENTATION_DELAY)&&(dt.suggestedPresentationDelay=St.suggestedPresentationDelay),St.hasOwnProperty(b.default.TIMESHIFT_BUFFER_DEPTH)&&(dt.timeShiftBufferDepth=St.timeShiftBufferDepth),St.hasOwnProperty(b.default.MAX_SEGMENT_DURATION)&&(dt.maxSegmentDuration=St.maxSegmentDuration),St.hasOwnProperty(b.default.PUBLISH_TIME)&&(dt.publishTime=new Date(St.publishTime))),dt},getEventsForPeriod:function _t(St){var Yt,Rt,dt=St&&St.mpd&&St.mpd.manifest?St.mpd.manifest:null,hn=dt?dt.Period_asArray:null,$e=hn&&St&&xe(St.index)?hn[St.index].EventStream_asArray:null,Tt=[];if($e)for(Yt=0;Yt<$e.length;Yt++){var bn=new h.default;if(bn.period=St,bn.timescale=1,!$e[Yt].hasOwnProperty(n.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(bn.schemeIdUri=$e[Yt][n.default.SCHEME_ID_URI],$e[Yt].hasOwnProperty(b.default.TIMESCALE)&&(bn.timescale=$e[Yt][b.default.TIMESCALE]),$e[Yt].hasOwnProperty(b.default.VALUE)&&(bn.value=$e[Yt][b.default.VALUE]),$e[Yt].hasOwnProperty(b.default.PRESENTATION_TIME_OFFSET)&&(bn.presentationTimeOffset=$e[Yt][b.default.PRESENTATION_TIME_OFFSET]),Rt=0;$e[Yt].Event_asArray&&Rt<$e[Yt].Event_asArray.length;Rt++){var Lt=$e[Yt].Event_asArray[Rt],Ct=new d.default;Ct.presentationTime=0,Ct.eventStream=bn,Lt.hasOwnProperty(b.default.PRESENTATION_TIME)&&(Ct.presentationTime=Lt.presentationTime),Ct.calculatedPresentationTime=Ct.presentationTime/bn.timescale+St.start-(bn.presentationTimeOffset?bn.presentationTimeOffset/bn.timescale:0),Lt.hasOwnProperty(b.default.DURATION)&&(Ct.duration=Lt.duration/bn.timescale),Ct.id=Lt.hasOwnProperty(b.default.ID)?Lt.id:null,Ct.messageData=Lt.Signal&&Lt.Signal.Binary?Se.decodeArray(Lt.Signal.Binary.toString()):Lt.messageData||Lt.__cdata||Lt.__text,Tt.push(Ct)}}return Tt},getEssentialPropertiesForRepresentation:Kt,getEventStreamForAdaptationSet:function fn(St,dt,hn){var $e,Tt,Yt;return St&&St.Period_asArray&&dt&&dt.period&&xe(dt.period.index)&&(Tt=St.Period_asArray[dt.period.index])&&Tt.AdaptationSet_asArray&&xe(dt.index)&&(Yt=Tt.AdaptationSet_asArray[dt.index])&&($e=Yt.InbandEventStream_asArray),qt($e,null,hn)},getEventStreamForRepresentation:function Qt(St,dt,hn){var $e,Tt,Yt,Rt;return St&&St.Period_asArray&&dt&&dt.adaptation&&dt.adaptation.period&&xe(dt.adaptation.period.index)&&(Tt=St.Period_asArray[dt.adaptation.period.index])&&Tt.AdaptationSet_asArray&&xe(dt.adaptation.index)&&(Yt=Tt.AdaptationSet_asArray[dt.adaptation.index])&&Yt.Representation_asArray&&xe(dt.index)&&(Rt=Yt.Representation_asArray[dt.index])&&($e=Rt.InbandEventStream_asArray),qt($e,dt,hn)},getUTCTimingSources:function gn(St){var dt=qe(St),hn=!!St&&St.hasOwnProperty(b.default.AVAILABILITY_START_TIME),$e=St?St.UTCTiming_asArray:null,Tt=[];return(dt||hn)&&$e&&$e.forEach(function(Yt){var Rt=new g.default;Yt.hasOwnProperty(n.default.SCHEME_ID_URI)&&(Rt.schemeIdUri=Yt.schemeIdUri,Yt.hasOwnProperty(b.default.VALUE)&&(Rt.value=Yt.value.toString(),Tt.push(Rt)))}),Tt},getBaseURLsFromElement:Tn,getRepresentationSortFunction:ge,getContentSteering:function Mn(St){if(St&&St.hasOwnProperty(b.default.CONTENT_STEERING_AS_ARRAY)){var dt=St[b.default.CONTENT_STEERING_AS_ARRAY][0],hn=new T.default;return hn.serverUrl=dt.__text,dt.hasOwnProperty(b.default.DEFAULT_SERVICE_LOCATION)&&(hn.defaultServiceLocation=dt[b.default.DEFAULT_SERVICE_LOCATION]),dt.hasOwnProperty(b.default.QUERY_BEFORE_START)&&(hn.queryBeforeStart="true"===dt[b.default.QUERY_BEFORE_START].toLowerCase()),dt.hasOwnProperty(b.default.PROXY_SERVER_URL)&&(hn.proxyServerUrl=dt[b.default.PROXY_SERVER_URL]),hn}},getLocation:function Gn(St){if(St&&St.hasOwnProperty(n.default.LOCATION))return St.Location=St.Location_asArray[0],St.Location},getPatchLocation:function Zn(St){if(St&&St.hasOwnProperty(b.default.PATCH_LOCATION))return St.PatchLocation=St.PatchLocation_asArray[0],St.PatchLocation},getSuggestedPresentationDelay:function dn(St){return St&&St.hasOwnProperty(b.default.SUGGESTED_PRESENTATION_DELAY)?St.suggestedPresentationDelay:null},getAvailabilityStartTime:function ln(St){return St&&St.hasOwnProperty(b.default.AVAILABILITY_START_TIME)&&null!==St.availabilityStartTime?St.availabilityStartTime.getTime():null},getServiceDescriptions:function un(St){var dt=[];if(St&&St.hasOwnProperty(b.default.SERVICE_DESCRIPTION)){var $e,hn=S(St.ServiceDescription_asArray);try{for(hn.s();!($e=hn.n()).done;){var Tt=$e.value,Yt=null,Rt=null,bn=null,Lt=null,Ct=null,Pt=null;for(var $t in Tt)Tt.hasOwnProperty($t)&&($t===b.default.ID?Yt=Tt[$t]:$t===b.default.SERVICE_DESCRIPTION_SCOPE?Rt=Tt[$t].schemeIdUri:$t===b.default.SERVICE_DESCRIPTION_LATENCY?bn={target:parseInt(Tt[$t].target),max:parseInt(Tt[$t].max),min:parseInt(Tt[$t].min),referenceId:parseInt(Tt[$t].referenceId)}:$t===b.default.SERVICE_DESCRIPTION_PLAYBACK_RATE?Lt={max:parseFloat(Tt[$t].max),min:parseFloat(Tt[$t].min)}:$t===b.default.SERVICE_DESCRIPTION_OPERATING_QUALITY?Ct={mediaType:Tt[$t].mediaType,max:parseInt(Tt[$t].max),min:parseInt(Tt[$t].min),target:parseInt(Tt[$t].target),type:Tt[$t].type,maxQualityDifference:parseInt(Tt[$t].maxQualityDifference)}:$t===b.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(Pt={mediaType:Tt[$t].mediaType,max:parseInt(Tt[$t].max),min:parseInt(Tt[$t].min),target:parseInt(Tt[$t].target)}));dt.push({id:Yt,schemeIdUri:Rt,latency:bn,playbackRate:Lt,operatingQuality:Ct,operatingBandwidth:Pt})}}catch(_n){hn.e(_n)}finally{hn.f()}}return dt},getSupplementalProperties:function sn(St){var dt={};if(St&&St.hasOwnProperty(b.default.SUPPLEMENTAL_PROPERTY)){var $e,hn=S(St.SupplementalProperty_asArray);try{for(hn.s();!($e=hn.n()).done;){var Tt=$e.value;Tt.hasOwnProperty(n.default.SCHEME_ID_URI)&&Tt.hasOwnProperty(b.default.VALUE)&&(dt[Tt[n.default.SCHEME_ID_URI]]=Tt[b.default.VALUE])}}catch(Yt){hn.e(Yt)}finally{hn.f()}}return dt},setConfig:function cn(St){St&&(St.errHandler&&(W=St.errHandler),St.BASE64&&(Se=St.BASE64))}},function Ve(){ce=Object(F.default)(le).getInstance().getLogger(J)}(),J}Me.__dashjs_factory_name="DashManifestModel",v.default=k.default.getSingletonFactory(Me)},"./src/dash/models/PatchManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/dash/models/PatchManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),_=e(
/*! ../vo/SimpleXPath */
"./src/dash/vo/SimpleXPath.js"),x=e(
/*! ../vo/PatchOperation */
"./src/dash/vo/PatchOperation.js");function w(){var g,d,i=this.context;return g={getIsPatch:function p(F){return F&&F.hasOwnProperty(n.default.ORIGINAL_MPD_ID)||!1},getPublishTime:function T(F){return F&&F.hasOwnProperty(n.default.PUBLISH_TIME)?new Date(F[n.default.PUBLISH_TIME]):null},getOriginalPublishTime:function B(F){return F&&F.hasOwnProperty(n.default.ORIGINAL_PUBLISH_TIME)?new Date(F[n.default.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function P(F){return F&&F[n.default.ORIGINAL_MPD_ID]||null},getPatchOperations:function k(F){return F?(F.__children||[]).map(function(O){var D=Object.keys(O)[0];if("add"!==D&&"remove"!==D&&"replace"!==D)return d.warn("Ignoring node of invalid action: ".concat(D)),null;var I=O[D],S=I.sel;if("add"===D&&I.type){if(!I.type.startsWith("@"))return d.warn("Ignoring add action for prefixed namespace declaration: ".concat(I.type,"=").concat(I.__text)),null;S="".concat(S,"/").concat(I.type)}var L=new _.default(S);if(!L.isValid())return d.warn("Ignoring action with invalid selector: ".concat(D," - ").concat(S)),null;var C=null;L.findsAttribute()?C=I.__text||"":"remove"!==D&&(C=I.__children.reduce(function(z,ne){var te=Object.keys(ne)[0];return"#text"!==te&&(z[te]=z[te]||[],z[te].push(ne[te])),z},{}));var U=new x.default(D,L,C);return"add"===D&&(U.position=I.pos),U}).filter(function(O){return!!O}):[]}},function h(){d=Object(A.default)(i).getInstance().getLogger(g)}(),g}w.__dashjs_factory_name="PatchManifestModel",v.default=b.default.getSingletonFactory(w)},"./src/dash/parser/DashParser.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/DashParser.js ***!
                  \***************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ./objectiron */
"./src/dash/parser/objectiron.js"),A=e(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),_=e(
/*! ./matchers/StringMatcher */
"./src/dash/parser/matchers/StringMatcher.js"),x=e(
/*! ./matchers/DurationMatcher */
"./src/dash/parser/matchers/DurationMatcher.js"),w=e(
/*! ./matchers/DateTimeMatcher */
"./src/dash/parser/matchers/DateTimeMatcher.js"),g=e(
/*! ./matchers/NumericMatcher */
"./src/dash/parser/matchers/NumericMatcher.js"),d=e(
/*! ./matchers/LangMatcher */
"./src/dash/parser/matchers/LangMatcher.js"),i=e(
/*! ./maps/RepresentationBaseValuesMap */
"./src/dash/parser/maps/RepresentationBaseValuesMap.js"),h=e(
/*! ./maps/SegmentValuesMap */
"./src/dash/parser/maps/SegmentValuesMap.js");function p(T){var k,F,O,D,I,B=this.context,P=(T=T||{}).debug;return k={parse:function U(z){var ne,te=window.performance.now();if(!(ne=D.xml_str2json(z)))throw new Error("parsing the manifest failed");var Me=window.performance.now();ne.Patch?((ne=ne.Patch).add_asArray&&ne.add_asArray.forEach(function(ce){return I.run(ce)}),ne.replace_asArray&&ne.replace_asArray.forEach(function(ce){return I.run(ce)})):I.run(ne=ne.MPD);var J=window.performance.now();return F.info("Parsing complete: ( xml2json: "+(Me-te).toPrecision(3)+"ms, objectiron: "+(J-Me).toPrecision(3)+"ms, total: "+((J-te)/1e3).toPrecision(3)+"s)"),ne.protocol="DASH",ne},getMatchers:function L(){return O},getIron:function C(){return I}},function S(){F=P.getLogger(k),O=[new x.default,new w.default,new g.default,new d.default,new _.default],D=new A.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:O}),I=Object(b.default)(B).create({adaptationset:new i.default,period:new h.default})}(),k}p.__dashjs_factory_name="DashParser",v.default=n.default.getClassFactory(p)},"./src/dash/parser/maps/CommonProperty.js":
/*!************************************************!*\
                  !*** ./src/dash/parser/maps/CommonProperty.js ***!
                  \************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function A(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,x(p.key),p)}}function x(d){var i=function w(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=function(){function d(i){!function b(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")}(this,d);var T;this._name=i,this._merge=(T=i)&&T.length&&T.charAt(0)===T.charAt(0).toUpperCase()}return function _(d,i,h){return i&&A(d.prototype,i),h&&A(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}(d,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),d}()},"./src/dash/parser/maps/MapNode.js":
/*!*****************************************!*\
                  !*** ./src/dash/parser/maps/MapNode.js ***!
                  \*****************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./CommonProperty */
"./src/dash/parser/maps/CommonProperty.js");function b(i){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function _(i,h){for(var p=0;p<h.length;p++){var T=h[p];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(i,w(T.key),T)}}function w(i){var h=function g(i,h){if("object"!==b(i)||null===i)return i;var p=i[Symbol.toPrimitive];if(void 0!==p){var T=p.call(i,h||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(i)}(i,"string");return"symbol"===b(h)?h:String(h)}v.default=function(){function i(h,p,T){var B=this;(function A(i,h){if(!(i instanceof h))throw new TypeError("Cannot call a class as a function")})(this,i),this._name=h||"",this._properties=[],this._children=T||[],Array.isArray(p)&&p.forEach(function(P){B._properties.push(new n.default(P))})}return function x(i,h,p){return h&&_(i.prototype,h),p&&_(i,p),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),i}()},"./src/dash/parser/maps/RepresentationBaseValuesMap.js":
/*!*************************************************************!*\
                  !*** ./src/dash/parser/maps/RepresentationBaseValuesMap.js ***!
                  \*************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),b=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function A(O){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function _(O,D){for(var I=0;I<D.length;I++){var S=D[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(O,w(S.key),S)}}function w(O){var D=function g(O,D){if("object"!==A(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var S=I.call(O,D||"default");if("object"!==A(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===A(D)?D:String(D)}function i(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&h(O,D)}function h(O,D){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,L){return S.__proto__=L,S})(O,D)}function p(O){var D=function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,S=k(O);if(D){var C=k(this).constructor;L=Reflect.construct(S,arguments,C)}else L=S.apply(this,arguments);return function T(O,D){if(D&&("object"===A(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function B(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function k(O){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}v.default=function(O){i(I,O);var D=p(I);function I(){!function d(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I);var S=[b.default.PROFILES,b.default.WIDTH,b.default.HEIGHT,b.default.SAR,b.default.FRAMERATE,b.default.AUDIO_SAMPLING_RATE,b.default.MIME_TYPE,b.default.SEGMENT_PROFILES,b.default.CODECS,b.default.MAXIMUM_SAP_PERIOD,b.default.START_WITH_SAP,b.default.MAX_PLAYOUT_RATE,b.default.CODING_DEPENDENCY,b.default.SCAN_TYPE,b.default.FRAME_PACKING,b.default.AUDIO_CHANNEL_CONFIGURATION,b.default.CONTENT_PROTECTION,b.default.ESSENTIAL_PROPERTY,b.default.SUPPLEMENTAL_PROPERTY,b.default.INBAND_EVENT_STREAM];return D.call(this,b.default.ADAPTATION_SET,S,[new n.default(b.default.REPRESENTATION,S,[new n.default(b.default.SUB_REPRESENTATION,S)])])}return function x(O,D,I){return D&&_(O.prototype,D),I&&_(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(n.default)},"./src/dash/parser/maps/SegmentValuesMap.js":
/*!**************************************************!*\
                  !*** ./src/dash/parser/maps/SegmentValuesMap.js ***!
                  \**************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),b=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function A(O){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function _(O,D){for(var I=0;I<D.length;I++){var S=D[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(O,w(S.key),S)}}function w(O){var D=function g(O,D){if("object"!==A(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var S=I.call(O,D||"default");if("object"!==A(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===A(D)?D:String(D)}function i(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&h(O,D)}function h(O,D){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,L){return S.__proto__=L,S})(O,D)}function p(O){var D=function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,S=k(O);if(D){var C=k(this).constructor;L=Reflect.construct(S,arguments,C)}else L=S.apply(this,arguments);return function T(O,D){if(D&&("object"===A(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function B(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function k(O){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}v.default=function(O){i(I,O);var D=p(I);function I(){!function d(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I);var S=[b.default.SEGMENT_BASE,b.default.SEGMENT_TEMPLATE,b.default.SEGMENT_LIST];return D.call(this,b.default.PERIOD,S,[new n.default(b.default.ADAPTATION_SET,S,[new n.default(b.default.REPRESENTATION,S)])])}return function x(O,D,I){return D&&_(O.prototype,D),I&&_(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(n.default)},"./src/dash/parser/matchers/BaseMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/BaseMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function A(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,x(p.key),p)}}function x(d){var i=function w(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=function(){function d(i,h){(function b(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this._test=i,this._converter=h}return function _(d,i,h){return i&&A(d.prototype,i),h&&A(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}(d,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),d}()},"./src/dash/parser/matchers/DateTimeMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DateTimeMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function b(S){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(S)}function A(S,L){for(var C=0;C<L.length;C++){var U=L[C];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(S,x(U.key),U)}}function x(S){var L=function w(S,L){if("object"!==b(S)||null===S)return S;var C=S[Symbol.toPrimitive];if(void 0!==C){var U=C.call(S,L||"default");if("object"!==b(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===L?String:Number)(S)}(S,"string");return"symbol"===b(L)?L:String(L)}function d(S,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(L&&L.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),L&&i(S,L)}function i(S,L){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(U,z){return U.__proto__=z,U})(S,L)}function h(S){var L=function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,U=P(S);if(L){var ne=P(this).constructor;z=Reflect.construct(U,arguments,ne)}else z=U.apply(this,arguments);return function p(S,L){if(L&&("object"===b(L)||"function"==typeof L))return L;if(void 0!==L)throw new TypeError("Derived constructors may only return object or undefined");return function T(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(S)}(this,z)}}function P(S){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)})(S)}var D=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;v.default=function(S){d(C,S);var L=h(C);function C(){return function g(S,L){if(!(S instanceof L))throw new TypeError("Cannot call a class as a function")}(this,C),L.call(this,function(U){return D.test(U.value)},function(U){var ne,z=D.exec(U);if(ne=Date.UTC(parseInt(z[1],10),parseInt(z[2],10)-1,parseInt(z[3],10),parseInt(z[4],10),parseInt(z[5],10),z[6]&&parseInt(z[6],10)||0,z[7]&&1e3*parseFloat(z[7])||0),z[9]&&z[10]){var te=60*parseInt(z[9],10)+parseInt(z[10],10);ne+=("+"===z[8]?-1:1)*te*60*1e3}return new Date(ne)})}return function _(S,L,C){return L&&A(S.prototype,L),C&&A(S,C),Object.defineProperty(S,"prototype",{writable:!1}),S}(C)}(n.default)},"./src/dash/parser/matchers/DurationMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DurationMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),b=e(
/*! ../../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),A=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function _(z){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ne){return typeof ne}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne})(z)}function x(z,ne){for(var te=0;te<ne.length;te++){var Me=ne[te];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(z,g(Me.key),Me)}}function g(z){var ne=function d(z,ne){if("object"!==_(z)||null===z)return z;var te=z[Symbol.toPrimitive];if(void 0!==te){var Me=te.call(z,ne||"default");if("object"!==_(Me))return Me;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ne?String:Number)(z)}(z,"string");return"symbol"===_(ne)?ne:String(ne)}function h(z,ne){if("function"!=typeof ne&&null!==ne)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(ne&&ne.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),ne&&p(z,ne)}function p(z,ne){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Me,J){return Me.__proto__=J,Me})(z,ne)}function T(z){var ne=function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var J,Me=F(z);if(ne){var ce=F(this).constructor;J=Reflect.construct(Me,arguments,ce)}else J=Me.apply(this,arguments);return function B(z,ne){if(ne&&("object"===_(ne)||"function"==typeof ne))return ne;if(void 0!==ne)throw new TypeError("Derived constructors may only return object or undefined");return function P(z){if(void 0===z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}(z)}(this,J)}}function F(z){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(te){return te.__proto__||Object.getPrototypeOf(te)})(z)}var O=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;v.default=function(z){h(te,z);var ne=T(te);function te(){return function i(z,ne){if(!(z instanceof ne))throw new TypeError("Cannot call a class as a function")}(this,te),ne.call(this,function(Me){for(var J=[A.default.MIN_BUFFER_TIME,A.default.MEDIA_PRESENTATION_DURATION,A.default.MINIMUM_UPDATE_PERIOD,A.default.TIMESHIFT_BUFFER_DEPTH,A.default.MAX_SEGMENT_DURATION,A.default.MAX_SUBSEGMENT_DURATION,A.default.SUGGESTED_PRESENTATION_DELAY,A.default.START,b.default.START_TIME,A.default.DURATION],ce=J.length,W=0;W<ce;W++)if(Me.nodeName===J[W])return O.test(Me.value);return!1},function(Me){var J=O.exec(Me),ce=31536e3*parseFloat(J[3]||0)+2592e3*parseFloat(J[5]||0)+86400*parseFloat(J[7]||0)+3600*parseFloat(J[9]||0)+60*parseFloat(J[11]||0)+parseFloat(J[13]||0);return void 0!==J[1]&&(ce=-ce),ce})}return function w(z,ne,te){return ne&&x(z.prototype,ne),te&&x(z,te),Object.defineProperty(z,"prototype",{writable:!1}),z}(te)}(n.default)},"./src/dash/parser/matchers/LangMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/LangMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),b=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),A=e(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),_=e.n(A);function x(S){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(S)}function w(S,L,C){return(L=i(L))in S?Object.defineProperty(S,L,{value:C,enumerable:!0,configurable:!0,writable:!0}):S[L]=C,S}function g(S,L){for(var C=0;C<L.length;C++){var U=L[C];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(S,i(U.key),U)}}function i(S){var L=function h(S,L){if("object"!==x(S)||null===S)return S;var C=S[Symbol.toPrimitive];if(void 0!==C){var U=C.call(S,L||"default");if("object"!==x(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===L?String:Number)(S)}(S,"string");return"symbol"===x(L)?L:String(L)}function T(S,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(L&&L.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),L&&B(S,L)}function B(S,L){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(U,z){return U.__proto__=z,U})(S,L)}function P(S){var L=function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,U=D(S);if(L){var ne=D(this).constructor;z=Reflect.construct(U,arguments,ne)}else z=U.apply(this,arguments);return function k(S,L){if(L&&("object"===x(L)||"function"==typeof L))return L;if(void 0!==L)throw new TypeError("Derived constructors may only return object or undefined");return function F(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(S)}(this,z)}}function D(S){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)})(S)}v.default=function(S){T(C,S);var L=P(C);function C(){return function p(S,L){if(!(S instanceof L))throw new TypeError("Cannot call a class as a function")}(this,C),L.call(this,function(U,z){var ne,te=(w(ne={},b.default.ADAPTATION_SET,[b.default.LANG]),w(ne,b.default.REPRESENTATION,[b.default.LANG]),w(ne,b.default.CONTENT_COMPONENT,[b.default.LANG]),w(ne,b.default.LABEL,[b.default.LANG]),w(ne,b.default.GROUP_LABEL,[b.default.LANG]),ne);if(te.hasOwnProperty(z)){var Me=te[z];return void 0!==Me&&Me.indexOf(U.name)>=0}return!1},function(U){var z=_()(U);return void 0!==z?z:String(U)})}return function d(S,L,C){return L&&g(S.prototype,L),C&&g(S,C),Object.defineProperty(S,"prototype",{writable:!1}),S}(C)}(n.default)},"./src/dash/parser/matchers/NumericMatcher.js":
/*!****************************************************!*\
                  !*** ./src/dash/parser/matchers/NumericMatcher.js ***!
                  \****************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function A(O,D){for(var I=0;I<D.length;I++){var S=D[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(O,x(S.key),S)}}function x(O){var D=function w(O,D){if("object"!==b(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var S=I.call(O,D||"default");if("object"!==b(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===b(D)?D:String(D)}function d(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&i(O,D)}function i(O,D){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,L){return S.__proto__=L,S})(O,D)}function h(O){var D=function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,S=P(O);if(D){var C=P(this).constructor;L=Reflect.construct(S,arguments,C)}else L=S.apply(this,arguments);return function p(O,D){if(D&&("object"===b(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function T(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function P(O){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}var k=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;v.default=function(O){d(I,O);var D=h(I);function I(){return function g(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),D.call(this,function(S){return k.test(S.value)},function(S){return parseFloat(S)})}return function _(O,D,I){return D&&A(O.prototype,D),I&&A(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(n.default)},"./src/dash/parser/matchers/StringMatcher.js":
/*!***************************************************!*\
                  !*** ./src/dash/parser/matchers/StringMatcher.js ***!
                  \***************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),b=e(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function A(D){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(D)}function _(D,I,S){return(I=g(I))in D?Object.defineProperty(D,I,{value:S,enumerable:!0,configurable:!0,writable:!0}):D[I]=S,D}function x(D,I){for(var S=0;S<I.length;S++){var L=I[S];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(D,g(L.key),L)}}function g(D){var I=function d(D,I){if("object"!==A(D)||null===D)return D;var S=D[Symbol.toPrimitive];if(void 0!==S){var L=S.call(D,I||"default");if("object"!==A(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===I?String:Number)(D)}(D,"string");return"symbol"===A(I)?I:String(I)}function h(D,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(I&&I.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),I&&p(D,I)}function p(D,I){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,C){return L.__proto__=C,L})(D,I)}function T(D){var I=function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,L=F(D);if(I){var U=F(this).constructor;C=Reflect.construct(L,arguments,U)}else C=L.apply(this,arguments);return function B(D,I){if(I&&("object"===A(I)||"function"==typeof I))return I;if(void 0!==I)throw new TypeError("Derived constructors may only return object or undefined");return function P(D){if(void 0===D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}(D)}(this,C)}}function F(D){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)})(D)}v.default=function(D){h(S,D);var I=T(S);function S(){return function i(D,I){if(!(D instanceof I))throw new TypeError("Cannot call a class as a function")}(this,S),I.call(this,function(L,C){var U,z=(_(U={},b.default.MPD,[b.default.ID,b.default.PROFILES]),_(U,b.default.PERIOD,[b.default.ID]),_(U,b.default.BASE_URL,[b.default.SERVICE_LOCATION,b.default.BYTE_RANGE]),_(U,b.default.SEGMENT_BASE,[b.default.INDEX_RANGE]),_(U,b.default.INITIALIZATION,[b.default.RANGE]),_(U,b.default.REPRESENTATION_INDEX,[b.default.RANGE]),_(U,b.default.SEGMENT_LIST,[b.default.INDEX_RANGE]),_(U,b.default.BITSTREAM_SWITCHING,[b.default.RANGE]),_(U,b.default.SEGMENT_URL,[b.default.MEDIA_RANGE,b.default.INDEX_RANGE]),_(U,b.default.SEGMENT_TEMPLATE,[b.default.INDEX_RANGE,b.default.MEDIA,b.default.INDEX,b.default.INITIALIZATION_MINUS,b.default.BITSTREAM_SWITCHING_MINUS]),_(U,b.default.ASSET_IDENTIFIER,[b.default.VALUE,b.default.ID]),_(U,b.default.EVENT_STREAM,[b.default.VALUE]),_(U,b.default.ADAPTATION_SET,[b.default.PROFILES,b.default.MIME_TYPE,b.default.SEGMENT_PROFILES,b.default.CODECS,b.default.CONTENT_TYPE]),_(U,b.default.FRAME_PACKING,[b.default.VALUE,b.default.ID]),_(U,b.default.AUDIO_CHANNEL_CONFIGURATION,[b.default.VALUE,b.default.ID]),_(U,b.default.CONTENT_PROTECTION,[b.default.VALUE,b.default.ID]),_(U,b.default.ESSENTIAL_PROPERTY,[b.default.VALUE,b.default.ID]),_(U,b.default.SUPPLEMENTAL_PROPERTY,[b.default.VALUE,b.default.ID]),_(U,b.default.INBAND_EVENT_STREAM,[b.default.VALUE,b.default.ID]),_(U,b.default.ACCESSIBILITY,[b.default.VALUE,b.default.ID]),_(U,b.default.ROLE,[b.default.VALUE,b.default.ID]),_(U,b.default.RATING,[b.default.VALUE,b.default.ID]),_(U,b.default.VIEWPOINT,[b.default.VALUE,b.default.ID]),_(U,b.default.CONTENT_COMPONENT,[b.default.CONTENT_TYPE]),_(U,b.default.REPRESENTATION,[b.default.ID,b.default.DEPENDENCY_ID,b.default.MEDIA_STREAM_STRUCTURE_ID]),_(U,b.default.SUBSET,[b.default.ID]),_(U,b.default.METRICS,[b.default.METRICS_MINUS]),_(U,b.default.REPORTING,[b.default.VALUE,b.default.ID]),U);if(z.hasOwnProperty(C)){var ne=z[C];return void 0!==ne&&ne.indexOf(L.name)>=0}return!1},function(L){return String(L)})}return function w(D,I,S){return I&&x(D.prototype,I),S&&x(D,S),Object.defineProperty(D,"prototype",{writable:!1}),D}(S)}(n.default)},"./src/dash/parser/objectiron.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/objectiron.js ***!
                  \***************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(x){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(x)}function A(x){function w(h,p){for(var T in h)p.hasOwnProperty(T)||(p[T]=h[T])}function g(h,p,T){for(var B=0,P=h.length;B<P;++B){var k=h[B];if(p[k.name])if(T[k.name]){if(k.merge){var F=p[k.name],O=T[k.name];"object"===b(F)&&"object"===b(O)?w(F,O):T[k.name]=F+O}}else T[k.name]=p[k.name]}}function d(h,p){for(var T=0,B=h.children.length;T<B;++T){var P=h.children[T],k=p[P.name+"_asArray"];if(k)for(var F=0,O=k.length;F<O;++F){var D=k[F];g(h.properties,p,D),d(P,D)}}}return{run:function i(h){if(null===h||"object"!==b(h))return h;if(h.Period_asArray&&"period"in x)for(var p=x.period,T=h.Period_asArray,B=0,P=T.length;B<P;++B){var k=T[B];if(d(p,k),"adaptationset"in x){var F=k.AdaptationSet_asArray;if(F)for(var O=x.adaptationset,D=0,I=F.length;D<I;++D)d(O,F[D])}}return h}}}A.__dashjs_factory_name="ObjectIron";var _=n.default.getClassFactory(A);v.default=_},"./src/dash/utils/ListSegmentsGetter.js":
/*!**********************************************!*\
                  !*** ./src/dash/utils/ListSegmentsGetter.js ***!
                  \**********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),A=e(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function _(w,g){var d=(w=w||{}).timelineConverter;function h(){if(!d||!d.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(b.default.MISSING_CONFIG_ERROR)}function T(P,k){if(h(),!P)return null;var F=P.adaptation.period.mpd.manifest.Period_asArray[P.adaptation.period.index].AdaptationSet_asArray[P.adaptation.index].Representation_asArray[P.index].SegmentList,O=F.SegmentURL_asArray.length,D=P&&!isNaN(P.startNumber)?P.startNumber:1,I=Math.max(D-1,0),S=Math.max(k-I,0),L=null;if(S<O){var C=F.SegmentURL_asArray[S];(L=Object(A.getIndexBasedSegment)(d,g,P,k))&&(L.replacementTime=(D+k-1)*P.segmentDuration,L.media=C.media?C.media:"",L.mediaRange=C.mediaRange,L.indexRange=C.indexRange)}return L}return{getSegmentByIndex:T,getSegmentByTime:function B(P,k){if(h(),!P)return null;var F=P.segmentDuration;if(isNaN(F))return null;var O=d.calcPeriodRelativeTimeFromMpdRelativeTime(P,k);return T(P,Math.floor(O/F))},getMediaFinishedInformation:function p(P){var k={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!P)return k;var F=P.adaptation.period.mpd.manifest.Period_asArray[P.adaptation.period.index].AdaptationSet_asArray[P.adaptation.index].Representation_asArray[P.index].SegmentList,O=P&&!isNaN(P.startNumber)?P.startNumber:1,D=Math.max(O-1,0);return k.numberOfSegments=D+F.SegmentURL_asArray.length,k}}}_.__dashjs_factory_name="ListSegmentsGetter";var x=n.default.getClassFactory(_);v.default=x},"./src/dash/utils/Round10.js":
/*!***********************************!*\
                  !*** ./src/dash/utils/Round10.js ***!
                  \***********************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(i){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function A(i,h){for(var p=0;p<h.length;p++){var T=h[p];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(i,x(T.key),T)}}function x(i){var h=function w(i,h){if("object"!==n(i)||null===i)return i;var p=i[Symbol.toPrimitive];if(void 0!==p){var T=p.call(i,h||"default");if("object"!==n(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(i)}(i,"string");return"symbol"===n(h)?h:String(h)}e.r(v),e.d(v,"default",function(){return g});var g=function(){function i(){!function b(i,h){if(!(i instanceof h))throw new TypeError("Cannot call a class as a function")}(this,i)}return function _(i,h,p){return h&&A(i.prototype,h),p&&A(i,p),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,null,[{key:"round10",value:function(p,T){return function d(i,h,p){return typeof p>"u"||0==+p?Math[i](h):(p=+p,null===(h=+h)||isNaN(h)||"number"!=typeof p||p%1!=0?NaN:(h=h.toString().split("e"),+((h=(h=Math[i](+(h[0]+"e"+(h[1]?+h[1]-p:-p)))).toString().split("e"))[0]+"e"+(h[1]?+h[1]+p:p))))}("round",p,T)}}]),i}()},"./src/dash/utils/SegmentBaseGetter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/SegmentBaseGetter.js ***!
                  \*********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js");function A(x){var w=(x=x||{}).timelineConverter;function d(){if(!w||!w.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(b.default.MISSING_CONFIG_ERROR)}function h(B,P){if(d(),!B)return null;var F,k=B.segments?B.segments.length:-1;if(P<k&&(F=B.segments[P])&&F.index===P)return F;for(var O=0;O<k;O++)if((F=B.segments[O])&&F.index===P)return F;return null}return{getSegmentByIndex:h,getSegmentByTime:function p(B,P){return d(),h(B,function T(B,P){if(!B)return-1;var D,I,S,L,C,k=B.segments,F=k?k.length:null,O=-1;if(k&&F>0)for(C=0;C<F;C++)if(P+(D=(L=(I=k[C]).duration)/2)>=(S=I.presentationStartTime)&&P-D<S+L){O=I.index;break}return O}(B,P))},getMediaFinishedInformation:function i(B){var P={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return!B||!B.segments||(P.numberOfSegments=B.segments.length),P}}}A.__dashjs_factory_name="SegmentBaseGetter";var _=n.default.getClassFactory(A);v.default=_},"./src/dash/utils/SegmentsUtils.js":
/*!*****************************************!*\
                  !*** ./src/dash/utils/SegmentsUtils.js ***!
                  \*****************************************/
/*! exports provided: unescapeDollarsInTemplate, replaceIDForTemplate, replaceTokenForTemplate, getIndexBasedSegment, getTimeBasedSegment */function(Xe,v,e){"use strict";e.r(v),e.d(v,"unescapeDollarsInTemplate",function(){return _}),e.d(v,"replaceIDForTemplate",function(){return x}),e.d(v,"replaceTokenForTemplate",function(){return w}),e.d(v,"getIndexBasedSegment",function(){return i}),e.d(v,"getTimeBasedSegment",function(){return h});var n=e(
/*! ./../vo/Segment */
"./src/dash/vo/Segment.js");function b(p,T){for(;p.length<T;)p="0"+p;return p}function _(p){return p&&p.split("$$").join("$")}function x(p,T){if(!T||!p||-1===p.indexOf("$RepresentationID$"))return p;var B=T.toString();return p.split("$RepresentationID$").join(B)}function w(p,T,B){var k,F,O,D,I,S,L=T.length;if(!p)return p;for(;;){if((k=p.indexOf("$"+T))<0||(F=p.indexOf("$",k+L))<0)return p;if((O=p.indexOf("%0",k+L))>k&&O<F)switch(D=p.charAt(F-1),I=parseInt(p.substring(O+2,F-1),10),D){case"d":case"i":case"u":S=b(B.toString(),I);break;case"x":S=b(B.toString(16),I);break;case"X":S=b(B.toString(16),I).toUpperCase();break;case"o":S=b(B.toString(8),I);break;default:return p}else S=B;p=p.substring(0,k)+S+p.substring(F+1)}}function g(p,T,B,P,k,F,O,D){var I=new n.default;return I.representation=p,I.duration=T,I.presentationStartTime=B,I.mediaStartTime=P,I.availabilityStartTime=k.calcAvailabilityStartTimeFromPresentationTime(F,p,O),I.availabilityEndTime=k.calcAvailabilityEndTimeFromPresentationTime(F+T,p,O),I.wallStartTime=k.calcWallTimeForSegment(I,O),I.replacementNumber=function A(p,T){return p.representation.startNumber+T}(I,D),I.index=D,I}function d(p,T,B,P){var k=T.adaptation.period;if(isFinite(k.duration)&&k.start+k.duration<=B.presentationStartTime)return!1;if(P){if("INF"===T.availabilityTimeOffset)return!0;var F=p.getClientReferenceTime();return B.availabilityStartTime.getTime()<=F&&(!isFinite(B.availabilityEndTime)||B.availabilityEndTime.getTime()>=F)}return!0}function i(p,T,B,P){var k,F,O;k=B.segmentDuration,isNaN(k)&&(k=B.adaptation.period.duration),F=parseFloat((B.adaptation.period.start+P*k).toFixed(5)),O=parseFloat((F+k).toFixed(5));var I=g(B,k,F,p.calcMediaTimeFromPresentationTime(F,B),p,O,T,P);return d(p,B,I,T)?I:null}function h(p,T,B,P,k,F,O,D,I,S){var U,ne,L=P/F,C=k/F;return U=p.calcPresentationTimeFromMediaTime(L,B),d(p,B,ne=g(B,C,U,L,p,U+C,T,I),T)?(ne.replacementTime=S||P,O=w(O,"Number",ne.replacementNumber),O=w(O,"Time",ne.replacementTime),ne.media=O,ne.mediaRange=D,ne):null}},"./src/dash/utils/TemplateSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TemplateSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),A=e(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function _(w,g){var d=(w=w||{}).timelineConverter;function h(){if(!d||!d.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(b.default.MISSING_CONFIG_ERROR)}function T(P,k){if(h(),!P)return null;var F=P.adaptation.period.mpd.manifest.Period_asArray[P.adaptation.period.index].AdaptationSet_asArray[P.adaptation.index].Representation_asArray[P.index].SegmentTemplate;k=Math.max(k,0);var O=Object(A.getIndexBasedSegment)(d,g,P,k);if(O){O.replacementTime=Math.round((k-1)*P.segmentDuration*P.timescale,10);var D=F.media;D=Object(A.replaceTokenForTemplate)(D,"Number",O.replacementNumber),D=Object(A.replaceTokenForTemplate)(D,"Time",O.replacementTime),O.media=D}return O}return{getSegmentByIndex:T,getSegmentByTime:function B(P,k){if(h(),!P)return null;var F=P.segmentDuration;if(isNaN(F))return null;var O=d.calcPeriodRelativeTimeFromMpdRelativeTime(P,k);return T(P,Math.floor(O/F))},getMediaFinishedInformation:function p(P){var k={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!P)return k;var F=P.segmentDuration;return k.numberOfSegments=isNaN(F)?1:Math.ceil(P.adaptation.period.duration/F),k}}}_.__dashjs_factory_name="TemplateSegmentsGetter";var x=n.default.getClassFactory(_);v.default=x},"./src/dash/utils/TimelineConverter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/TimelineConverter.js ***!
                  \*********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),A=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),x=e(
/*! ../models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),w=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),g=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),d=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),i=e(
/*! ../../streaming/constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function h(){var P,k,F,O,p=this.context,T=Object(n.default)(p).getInstance(),B=Object(w.default)(p).getInstance();function L(Re){O=Re}function U(Re,Fe,Ne,at){var Be,ye=Fe.adaptation.period.mpd,ve=ye.availabilityStartTime;if(at)Be=Ne&&ye.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(ve.getTime()+1e3*(Re+ye.timeShiftBufferDepth)):ye.availabilityEndTime;else if(Ne){var K=Fe.availabilityTimeOffset;Be=new Date(ve.getTime()+1e3*(Re-K))}else Be=ve;return Be}function te(Re,Fe){return(Re.getTime()-Fe.mpd.availabilityStartTime.getTime()+1e3*O)/1e3}function Me(Re,Fe){return Re+(Fe.adaptation.period.start-Fe.presentationTimeOffset)}function Ee(Re){var Fe={start:NaN,end:NaN},Ne=Re[0].getAdapter().getRegularPeriods()[0],at=te(new Date,Ne);if(!Re||0===Re.length)return{range:Fe,now:at};Re.forEach(function(ye){var ve=ye.getAdapter(),K=ve.getMediaInfoForType(ye.getStreamInfo(),g.default.VIDEO)||ve.getMediaInfoForType(ye.getStreamInfo(),g.default.AUDIO),ge=ve.getVoRepresentations(K)[0],oe={start:NaN,end:NaN};if(ge)if(ge.segmentInfoType===_.default.SEGMENT_TIMELINE)oe=function fe(Re){var se,ge,oe,Q,Ne=k.getRepresentationFor(Re.index,Re.adaptation.period.mpd.manifest.Period_asArray[Re.adaptation.period.index].AdaptationSet_asArray[Re.adaptation.index]),Be=Ne.SegmentTemplate.timescale,ye=Ne.SegmentTemplate.SegmentTimeline.S_asArray,ve={start:0,end:0},K=0;for(ve.start=Me(ye[0].t/Be,Re),oe=0,Q=ye.length;oe<Q;oe++)ge=0,(se=ye[oe]).hasOwnProperty("r")&&(ge=se.r),K+=se.d*(1+ge);return ve.end=Me((ye[0].t+K)/Be,Re),ve}(ge);else{var Q=ge.adaptation.period;oe.start=Q.start,oe.end=Math.max(at,Q.start+Q.duration)}!isNaN(oe.start)&&(isNaN(Fe.start)||Fe.start>oe.start)&&(Fe.start=oe.start),!isNaN(oe.end)&&(isNaN(Fe.end)||Fe.end<oe.end)&&(Fe.end=oe.end)}),Fe.end=Math.min(at,Fe.end);var Be=Ve(Re,Fe.end,!0);return Fe.end=isNaN(Be)?Fe.end:Be,Fe.start=Ne&&Ne.mpd&&Ne.mpd.timeShiftBufferDepth&&!isNaN(Ne.mpd.timeShiftBufferDepth)&&!isNaN(Fe.end)?Math.max(Fe.end-Ne.mpd.timeShiftBufferDepth,Fe.start):Fe.start,Fe.start=Ve(Re,Fe.start),{range:Fe,now:at}}function xe(Re,Fe){F=Re-Fe.end}function Ve(Re,Fe){var Ne=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var at=0,Be=!1,ye=NaN;!Be&&at<Re.length;){var ve=Re[at].getStreamInfo();ve.start<=Fe&&(!isFinite(ve.duration)||ve.start+ve.duration>=Fe)?(ye=Fe,Be=!0):!Ne&&ve.start>Fe&&(isNaN(ye)||ve.start<ye)?ye=ve.start:Ne&&ve.start+ve.duration<Fe&&(isNaN(ye)||ve.start+ve.duration>ye)&&(ye=ve.start+ve.duration),at+=1}return ye}catch{return Fe}}function Ce(Re){void 0!==Re.offset&&!isNaN(Re.offset)&&L(Re.offset/1e3)}function me(){O=0,F=0}function De(){T.off(b.default.UPDATE_TIME_SYNC_OFFSET,Ce,this),me()}return P={initialize:function I(){me(),T.on(b.default.UPDATE_TIME_SYNC_OFFSET,Ce,this)},getClientTimeOffset:function S(){return O},setClientTimeOffset:L,getClientReferenceTime:function C(){return Date.now()-1e3*F+1e3*O},calcAvailabilityStartTimeFromPresentationTime:function z(Re,Fe,Ne){return U(Re,Fe,Ne)},calcAvailabilityEndTimeFromPresentationTime:function ne(Re,Fe,Ne){return U(Re,Fe,Ne,!0)},calcPresentationTimeFromWallTime:te,calcPresentationTimeFromMediaTime:Me,calcPeriodRelativeTimeFromMpdRelativeTime:function Pe(Re,Fe){return Fe-Re.adaptation.period.start},calcMediaTimeFromPresentationTime:function J(Re,Fe){return Re-Fe.adaptation.period.start+Fe.presentationTimeOffset},calcWallTimeForSegment:function ce(Re,Fe){var at,Be;return Fe&&(at=Re.presentationStartTime+Re.representation.adaptation.period.mpd.suggestedPresentationDelay,Be=new Date(Re.availabilityStartTime.getTime()+1e3*at)),Be},calcTimeShiftBufferWindow:function W(Re,Fe){if(!Fe)return function Se(Re){var Fe={start:NaN,end:NaN},Ne=0,at=NaN;return Re.forEach(function(Be){var ye=Be.getStreamInfo();Ne+=ye.duration,(isNaN(at)||ye.start<at)&&(at=ye.start)}),Fe.start=at,Fe.end=at+Ne,Fe}(Re);if(B.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var Ne=Ee(Re);return xe(Ne.now,Ne.range),Ne.range}return function le(Re){var Fe={start:NaN,end:NaN};if(!Re||0===Re.length)return Fe;var Ne=Re[0].getAdapter().getRegularPeriods()[0],at=te(new Date,Ne),Be=Ne.mpd.timeShiftBufferDepth,ye=isNaN(Be)?0:at-Be;if(Fe.start=Ve(Re,ye),Fe.end=!isNaN(Fe.start)&&at<Fe.start?at:Ve(Re,at,!0),!isNaN(Be)&&Fe.end<at-Be&&(Fe.end=NaN),B.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var ve=Ee(Re);if(ve.range.end<Fe.start)return T.trigger(d.default.CONFORMANCE_VIOLATION,{level:i.default.LEVELS.WARNING,event:i.default.EVENTS.INVALID_DVR_WINDOW}),xe(ve.now,ve.range),ve.range}return Fe}(Re)},reset:De},function D(){k=Object(x.default)(p).getInstance(),De()}(),P}h.__dashjs_factory_name="TimelineConverter",v.default=A.default.getSingletonFactory(h)},"./src/dash/utils/TimelineSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TimelineSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),A=e(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function _(w,g){var d=(w=w||{}).timelineConverter,i=w.dashMetrics;function p(){if(!d)throw new Error(b.default.MISSING_CONFIG_ERROR)}function B(D,I){var ne,te,Me,J,ce,W,Se,S=D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentTemplate||D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentList,C=S.SegmentURL_asArray,U=0,z=-1;Se=D.timescale;var le=!1;for(Me=0,J=(ne=S.SegmentTimeline.S_asArray).length;Me<J&&!le;Me++)for(W=0,(te=ne[Me]).hasOwnProperty("r")&&(W=te.r),te.hasOwnProperty("t")&&(U=te.t),W<0&&(W=P(D,ne[Me+1],te,Se,U/Se)),ce=0;ce<=W&&!le;ce++)(le=I(U,S,C,te,Se,++z,Me))&&(D.segmentDuration=te.d/Se),U+=te.d}function P(D,I,S,L,C){var U;if(I&&I.hasOwnProperty("t"))U=I.t/L;else try{var z=0;if(isNaN(D.adaptation.period.start)||isNaN(D.adaptation.period.duration)||!isFinite(D.adaptation.period.duration)){var ne=i.getCurrentDVRInfo();z=isNaN(ne.end)?0:ne.end}else z=D.adaptation.period.start+D.adaptation.period.duration;U=d.calcMediaTimeFromPresentationTime(z,D),D.segmentDuration=S.d/L}catch{U=0}return Math.max(Math.ceil((U-C)/(S.d/L))-1,0)}return{getSegmentByIndex:function k(D,I,S){if(p(),!D)return null;var L=null,C=!1;return B(D,function(U,z,ne,te,Me,J,ce){if(C||S<0){var W=z.media,Se=te.mediaRange;return ne&&(W=ne[ce].media||"",Se=ne[ce].mediaRange),L=Object(A.getTimeBasedSegment)(d,g,D,U,te.d,Me,W,Se,J,te.tManifest),!0}return U>=S*Me-.5*te.d&&(C=!0),!1}),L},getSegmentByTime:function F(D,I){if(p(),!D)return null;void 0===I&&(I=null);var S=null,L=d.calcMediaTimeFromPresentationTime(I,D);return B(D,function(C,U,z,ne,te,Me,J){var ce=function O(D){return parseFloat(D.toPrecision(15))}(L*te);if(ce<C+ne.d&&ce>=C){var W=U.media,Se=ne.mediaRange;return z&&(W=z[J].media||"",Se=z[J].mediaRange),S=Object(A.getTimeBasedSegment)(d,g,D,C,ne.d,te,W,Se,Me,ne.tManifest),!0}return!1}),S},getMediaFinishedInformation:function T(D){if(!D)return 0;var z,ne,te,Me,J,ce,W,L=0,C=0,U=0;for(W=D.timescale,Me=(z=(D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentTemplate||D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentList).SegmentTimeline.S_asArray).length,te=0;te<Me;te++)for(ce=0,(ne=z[te]).hasOwnProperty("r")&&(ce=ne.r),ne.hasOwnProperty("t")&&(C=(L=ne.t)/W),ce<0&&(ce=P(D,z[te+1],ne,W,C)),J=0;J<=ce;J++)U++,C=(L+=ne.d)/W;return{numberOfSegments:U,mediaTimeOfLastSignaledSegment:C}}}}_.__dashjs_factory_name="TimelineSegmentsGetter";var x=n.default.getClassFactory(_);v.default=x},"./src/dash/vo/AdaptationSet.js":
/*!**************************************!*\
                  !*** ./src/dash/vo/AdaptationSet.js ***!
                  \**************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.period=null,this.index=-1,this.type=null})},"./src/dash/vo/BaseURL.js":
/*!********************************!*\
                  !*** ./src/dash/vo/BaseURL.js ***!
                  \********************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(h){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function b(h,p){for(var T=0;T<p.length;T++){var B=p[T];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(h,_(B.key),B)}}function A(h,p,T){return p&&b(h.prototype,p),T&&b(h,T),Object.defineProperty(h,"prototype",{writable:!1}),h}function _(h){var p=function x(h,p){if("object"!==n(h)||null===h)return h;var T=h[Symbol.toPrimitive];if(void 0!==T){var B=T.call(h,p||"default");if("object"!==n(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===n(p)?p:String(p)}e.r(v);var i=A(function h(p,T,B,P){(function w(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.url=p||"",this.serviceLocation=T||p||"",this.dvb_priority=B||1,this.dvb_weight=P||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0});i.DEFAULT_DVB_PRIORITY=1,i.DEFAULT_DVB_WEIGHT=1,v.default=i},"./src/dash/vo/ContentSteering.js":
/*!****************************************!*\
                  !*** ./src/dash/vo/ContentSteering.js ***!
                  \****************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null})},"./src/dash/vo/ContentSteeringRequest.js":
/*!***********************************************!*\
                  !*** ./src/dash/vo/ContentSteeringRequest.js ***!
                  \***********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function b(i){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function A(i,h){for(var p=0;p<h.length;p++){var T=h[p];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(i,x(T.key),T)}}function _(i,h,p){return h&&A(i.prototype,h),p&&A(i,p),Object.defineProperty(i,"prototype",{writable:!1}),i}function x(i){var h=function w(i,h){if("object"!==b(i)||null===i)return i;var p=i[Symbol.toPrimitive];if(void 0!==p){var T=p.call(i,h||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(i)}(i,"string");return"symbol"===b(h)?h:String(h)}v.default=_(function i(h){(function g(i,h){if(!(i instanceof h))throw new TypeError("Cannot call a class as a function")})(this,i),this.url=h||null,this.type=n.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"})},"./src/dash/vo/ContentSteeringResponse.js":
/*!************************************************!*\
                  !*** ./src/dash/vo/ContentSteeringResponse.js ***!
                  \************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]})},"./src/dash/vo/Event.js":
/*!******************************!*\
                  !*** ./src/dash/vo/Event.js ***!
                  \******************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN})},"./src/dash/vo/EventStream.js":
/*!************************************!*\
                  !*** ./src/dash/vo/EventStream.js ***!
                  \************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0})},"./src/dash/vo/ManifestInfo.js":
/*!*************************************!*\
                  !*** ./src/dash/vo/ManifestInfo.js ***!
                  \*************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null})},"./src/dash/vo/MediaInfo.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/MediaInfo.js ***!
                  \**********************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}})},"./src/dash/vo/Mpd.js":
/*!****************************!*\
                  !*** ./src/dash/vo/Mpd.js ***!
                  \****************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN})},"./src/dash/vo/PatchOperation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/PatchOperation.js ***!
                  \***************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function A(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,x(p.key),p)}}function x(d){var i=function w(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=function(){function d(i,h,p){(function b(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.action=i,this.xpath=h,this.value=p,this.position=null}return function _(d,i,h){return i&&A(d.prototype,i),h&&A(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}(d,[{key:"getMpdTarget",value:function(h){return this.xpath.getMpdTarget(h,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}]),d}()},"./src/dash/vo/Period.js":
/*!*******************************!*\
                  !*** ./src/dash/vo/Period.js ***!
                  \*******************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v);var g=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null});g.DEFAULT_ID="defaultId",v.default=g},"./src/dash/vo/ProducerReferenceTime.js":
/*!**********************************************!*\
                  !*** ./src/dash/vo/ProducerReferenceTime.js ***!
                  \**********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null})},"./src/dash/vo/Representation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/Representation.js ***!
                  \***************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function b(i){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function _(i,h){for(var p=0;p<h.length;p++){var T=h[p];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(i,w(T.key),T)}}function w(i){var h=function g(i,h){if("object"!==b(i)||null===i)return i;var p=i[Symbol.toPrimitive];if(void 0!==p){var T=p.call(i,h||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(i)}(i,"string");return"symbol"===b(h)?h:String(h)}v.default=function(){function i(){(function A(i,h){if(!(i instanceof h))throw new TypeError("Cannot call a class as a function")})(this,i),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return function x(i,h,p){return h&&_(i.prototype,h),p&&_(i,p),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==n.default.BASE_URL&&this.segmentInfoType!==n.default.SEGMENT_BASE&&!this.indexRange}}]),i}()},"./src/dash/vo/RepresentationInfo.js":
/*!*******************************************!*\
                  !*** ./src/dash/vo/RepresentationInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null})},"./src/dash/vo/Segment.js":
/*!********************************!*\
                  !*** ./src/dash/vo/Segment.js ***!
                  \********************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null})},"./src/dash/vo/SimpleXPath.js":
/*!************************************!*\
                  !*** ./src/dash/vo/SimpleXPath.js ***!
                  \************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function A(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,x(p.key),p)}}function x(d){var i=function w(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=function(){function d(i){var h=this;(function b(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.valid="/"==i[0],this.path=i.split("/").filter(function(p){return 0!==p.length}).map(function(p){var T={name:p},B=p.indexOf("[");if(-1!=B){T.name=p.substring(0,B);var P=p.substring(B+1,p.length-1);h.valid=h.valid&&-1==P.indexOf("[");var k=P.indexOf("=");-1!=k?(T.attribute={name:P.substring(1,k),value:P.substring(k+1)},-1!=["'",'"'].indexOf(T.attribute.value[0])&&(T.attribute.value=T.attribute.value.substring(1,T.attribute.value.length-1))):T.position=parseInt(P,10)-1}return T})}return function _(d,i,h){return i&&A(d.prototype,i),h&&A(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}(d,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(h,p){for(var T=null,B=h,P=1,k="MPD";P<this.path.length&&null!==B;){T=B;var F=this.path[P];if(k=F.name,P!==this.path.length-1||!k.startsWith("@")){var O=T[k+"_asArray"]||[];0===O.length&&T[k]&&O.push(T[k]),F.position?B=O[F.position]||null:F.attribute?function(){var D=F.attribute;B=O.filter(function(I){return I[D.name]==D.value})[0]||null}():B=O[0]||null}P++}return null===B?null:k.startsWith("@")?{name:k.substring(1),leaf:B,target:B}:{name:k,leaf:B,target:p?T:B}}}]),d}()},"./src/dash/vo/StreamInfo.js":
/*!***********************************!*\
                  !*** ./src/dash/vo/StreamInfo.js ***!
                  \***********************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0})},"./src/dash/vo/UTCTiming.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/UTCTiming.js ***!
                  \**********************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.schemeIdUri="",this.value=""})},"./src/streaming/FragmentLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/FragmentLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),A=e(
/*! ./vo/HeadRequest */
"./src/streaming/vo/HeadRequest.js"),_=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),x=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(g){var P,k,d=this.context,i=(g=g||{}).eventBus,h=g.events,p=g.urlUtils,T=g.errors,B=g.streamId;return P={checkForExistence:function O(L){var C=function(ne){i.trigger(h.CHECK_FOR_EXISTENCE_COMPLETED,{request:L,exists:ne})};if(L){var U=new A.default(L.url);k.load({request:U,success:function(){C(!0)},error:function(){C(!1)}})}else C(!1)},load:function D(L){var C=function(z,ne){i.trigger(h.LOADING_COMPLETED,{request:L,response:z||null,error:ne||null,sender:P})};L?k.load({request:L,progress:function(z){i.trigger(h.LOADING_PROGRESS,{request:L,stream:z.stream,streamId:B}),z.data&&i.trigger(h.LOADING_DATA_PROGRESS,{request:L,response:z.data||null,error:null,sender:P})},success:function(z){C(z)},error:function(z,ne,te){C(void 0,new _.default(T.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,te,ne))},abort:function(z){z&&i.trigger(h.LOADING_ABANDONED,{mediaType:z.mediaType,request:z,sender:P})}}):C(void 0,new _.default(T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function I(){k&&k.abort()},reset:function S(){k&&(k.abort(),k=null)}},function F(){k=Object(b.default)(d).create({errHandler:g.errHandler,errors:T,dashMetrics:g.dashMetrics,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,urlUtils:p,constants:n.default,boxParser:g.boxParser,dashConstants:g.dashConstants,requestTimeout:g.settings.get().streaming.fragmentRequestTimeout})}(),P}w.__dashjs_factory_name="FragmentLoader",v.default=x.default.getClassFactory(w)},"./src/streaming/ManifestLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/ManifestLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),A=e(
/*! ./controllers/XlinkController */
"./src/streaming/controllers/XlinkController.js"),_=e(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),x=e(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),w=e(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),g=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),d=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),i=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),h=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),p=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),T=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),B=e(
/*! ../dash/parser/DashParser */
"./src/dash/parser/DashParser.js");function P(F){var C,U,z,ne,te,O=this.context,D=(F=F||{}).debug,I=F.settings,S=Object(i.default)(O).getInstance(),L=Object(x.default)(O).getInstance(),Me=F.mssHandler,J=F.errHandler;function W(xe){S.trigger(h.default.INTERNAL_MANIFEST_LOADED,{manifest:xe.manifest})}return C={load:function le(xe){var Ve=new w.default(xe,d.HTTPRequest.MPD_TYPE);z.load({request:Ve,success:function(Pe,Ce,me){if(ne){var De,Re,Fe;if(me&&me!==xe?(Re=L.parseBaseUrl(me),De=me):(L.isRelative(xe)&&(xe=L.resolve(xe,window.location.href)),Re=L.parseBaseUrl(xe)),"No Content"==Ce)return void S.trigger(h.default.INTERNAL_MANIFEST_LOADED,{manifest:null});if(null===te&&(te=function Se(xe){var Ve=null;return xe.indexOf("SmoothStreamingMedia")>-1?(Me&&(Ve=Me.createMssParser(),Me.registerEvents()),Ve):xe.indexOf("MPD")>-1||xe.indexOf("Patch")>-1?Object(B.default)(O).create({debug:D}):Ve}(Pe)),null===te)return void S.trigger(h.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new g.default(p.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,p.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(xe))});ne.setMatchers(te.getMatchers()),ne.setIron(te.getIron());try{Fe=te.parse(Pe)}catch{return void S.trigger(h.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new g.default(p.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,p.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(xe))})}if(Fe){if(Fe.url=De||xe,Fe.originalUrl||(Fe.originalUrl=Fe.url),Fe.hasOwnProperty(n.default.LOCATION)&&(Re=L.parseBaseUrl(Fe.Location_asArray[0]),U.debug("BaseURI set by Location to: "+Re)),I&&I.get().streaming.enableManifestDurationMismatchFix&&Fe.mediaPresentationDuration&&Fe.Period_asArray.length>1){var Ne=Fe.Period_asArray.reduce(function(at,Be){return at+Be.duration},0);!isNaN(Ne)&&Fe.mediaPresentationDuration>Ne&&(U.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),Fe.mediaPresentationDuration=Ne)}Fe.baseUri=Re,Fe.loadedTime=new Date,ne.resolveManifestOnLoad(Fe),S.trigger(h.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:Pe})}else S.trigger(h.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new g.default(p.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,p.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(xe))})}},error:function(Pe,Ce,me){S.trigger(h.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new g.default(p.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,p.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(xe,", ").concat(me))})}})},reset:function Ee(){S.off(h.default.XLINK_READY,W,C),Me&&Me.reset(),ne&&(ne.reset(),ne=null),z&&(z.abort(),z=null)}},function ce(){U=D.getLogger(C),S.on(h.default.XLINK_READY,W,C),z=Object(_.default)(O).create({errHandler:F.errHandler,dashMetrics:F.dashMetrics,mediaPlayerModel:F.mediaPlayerModel,requestModifier:F.requestModifier,urlUtils:L,constants:n.default,dashConstants:b.default,errors:p.default,requestTimeout:F.settings.get().streaming.manifestRequestTimeout}),ne=Object(A.default)(O).create({errHandler:J,dashMetrics:F.dashMetrics,mediaPlayerModel:F.mediaPlayerModel,requestModifier:F.requestModifier,settings:F.settings}),te=null}(),C}P.__dashjs_factory_name="ManifestLoader";var k=T.default.getClassFactory(P);v.default=k},"./src/streaming/ManifestUpdater.js":
/*!******************************************!*\
                  !*** ./src/streaming/ManifestUpdater.js ***!
                  \******************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),A=e(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),_=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),x=e(
/*! ../core/Debug */
"./src/core/Debug.js"),w=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),g=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),d=e(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function i(){var B,P,k,F,O,D,I,S,L,C,U,z,h=this.context,p=Object(n.default)(h).getInstance(),T=Object(d.default)(h).getInstance();function ce(){k=NaN,I=!1,O=!0,D=!1,Se()}function Se(){null!==F&&(clearTimeout(F),F=null)}function le(Re){Se(),!D&&(isNaN(Re)&&!isNaN(k)&&(Re=1e3*k),isNaN(Re)||(P.debug("Refresh manifest in "+Re+" milliseconds."),F=setTimeout(Ve,Re)))}function Ee(){var Re=arguments.length>0&&void 0!==arguments[0]&&arguments[0];I=!0;var Fe=L.getValue(),Ne=Fe.url,at=C.getPatchLocation(Fe),Be=C.getLocation(Fe);at&&!Re?Ne=at:Be&&(Ne=Be),T.isRelative(Ne)&&(Ne=T.resolve(Ne,Fe.url)),S.load(Ne)}function xe(Re){if(Re){if(C.getIsPatch(Re)){var Fe=Re;Re=L.getValue();var Ne=C.isPatchValid(Re,Fe),at=Ne;if(Ne){var Be=C.getPublishTime(Re);at=C.applyPatchToManifest(Re,Fe);var ye=C.getPublishTime(Re);at=Be.getTime()!=ye.getTime()}if(!at)return P.debug("Patch provided is invalid, performing full manifest refresh"),void Ee(!0);Re.loadedTime=new Date}}else(Re=L.getValue()).loadedTime=new Date;if(L.getValue()&&L.getValue().type===g.default.DYNAMIC&&Re.type===g.default.STATIC)return p.trigger(b.default.DYNAMIC_TO_STATIC),I=!1,void(D=!0);L.setValue(Re);var ve=new Date,K=(ve.getTime()-Re.loadedTime.getTime())/1e3;1e3*(k=C.getManifestUpdatePeriod(Re,K))>2147483647&&(k=2147483.647),p.trigger(b.default.MANIFEST_UPDATED,{manifest:Re}),P.info("Manifest has been refreshed at "+ve+"["+ve.getTime()/1e3+"] "),O||le()}function Ve(){if(!O){if(I)return void le(z.get().streaming.manifestUpdateRetryInterval);Ee()}}function fe(Re){Re.error?Re.error.code===w.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&U.error(Re.error):xe(Re.manifest)}function Pe(){O=!1,le()}function Ce(){(O=!z.get().streaming.scheduling.scheduleWhilePaused)&&Se()}function me(){I=!1}return B={initialize:function Me(){ce(),p.on(b.default.STREAMS_COMPOSED,me,this),p.on(A.default.PLAYBACK_STARTED,Pe,this),p.on(A.default.PLAYBACK_PAUSED,Ce,this),p.on(b.default.INTERNAL_MANIFEST_LOADED,fe,this)},setManifest:function J(Re){xe(Re)},refreshManifest:Ee,getIsUpdating:function De(){return I},setConfig:function te(Re){Re&&(Re.manifestModel&&(L=Re.manifestModel),Re.adapter&&(C=Re.adapter),Re.manifestLoader&&(S=Re.manifestLoader),Re.errHandler&&(U=Re.errHandler),Re.settings&&(z=Re.settings))},reset:function W(){p.off(A.default.PLAYBACK_STARTED,Pe,this),p.off(A.default.PLAYBACK_PAUSED,Ce,this),p.off(b.default.STREAMS_COMPOSED,me,this),p.off(b.default.INTERNAL_MANIFEST_LOADED,fe,this),ce()}},function ne(){P=Object(x.default)(h).getInstance().getLogger(B)}(),B}i.__dashjs_factory_name="ManifestUpdater",v.default=_.default.getClassFactory(i)},"./src/streaming/MediaPlayer.js":
/*!**************************************!*\
                  !*** ./src/streaming/MediaPlayer.js ***!
                  \**************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../externals/cea608-parser */
"./externals/cea608-parser.js"),b=e.n(n),A=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),_=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),x=e(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),w=e(
/*! ./controllers/PlaybackController */
"./src/streaming/controllers/PlaybackController.js"),g=e(
/*! ./controllers/StreamController */
"./src/streaming/controllers/StreamController.js"),d=e(
/*! ./controllers/GapController */
"./src/streaming/controllers/GapController.js"),i=e(
/*! ./controllers/CatchupController */
"./src/streaming/controllers/CatchupController.js"),h=e(
/*! ../dash/controllers/ServiceDescriptionController */
"./src/dash/controllers/ServiceDescriptionController.js"),p=e(
/*! ../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js"),T=e(
/*! ./controllers/MediaController */
"./src/streaming/controllers/MediaController.js"),B=e(
/*! ./controllers/BaseURLController */
"./src/streaming/controllers/BaseURLController.js"),P=e(
/*! ./ManifestLoader */
"./src/streaming/ManifestLoader.js"),k=e(
/*! ./utils/ErrorHandler */
"./src/streaming/utils/ErrorHandler.js"),F=e(
/*! ./utils/Capabilities */
"./src/streaming/utils/Capabilities.js"),O=e(
/*! ./utils/CapabilitiesFilter */
"./src/streaming/utils/CapabilitiesFilter.js"),D=e(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),I=e(
/*! ./models/URIFragmentModel */
"./src/streaming/models/URIFragmentModel.js"),S=e(
/*! ./models/ManifestModel */
"./src/streaming/models/ManifestModel.js"),L=e(
/*! ./models/MediaPlayerModel */
"./src/streaming/models/MediaPlayerModel.js"),C=e(
/*! ./controllers/AbrController */
"./src/streaming/controllers/AbrController.js"),U=e(
/*! ./net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js"),z=e(
/*! ./models/VideoModel */
"./src/streaming/models/VideoModel.js"),ne=e(
/*! ./models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),te=e(
/*! ./utils/DOMStorage */
"./src/streaming/utils/DOMStorage.js"),Me=e(
/*! ./../core/Debug */
"./src/core/Debug.js"),J=e(
/*! ./../core/errors/Errors */
"./src/core/errors/Errors.js"),ce=e(
/*! ./../core/EventBus */
"./src/core/EventBus.js"),W=e(
/*! ./../core/events/Events */
"./src/core/events/Events.js"),Se=e(
/*! ./MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),le=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),Ee=e(
/*! ../core/Settings */
"./src/core/Settings.js"),xe=e(
/*! ../core/Version */
"./src/core/Version.js"),Ve=e(
/*! ../dash/controllers/SegmentBaseController */
"./src/dash/controllers/SegmentBaseController.js"),fe=e(
/*! ../dash/DashAdapter */
"./src/dash/DashAdapter.js"),Pe=e(
/*! ../dash/DashMetrics */
"./src/dash/DashMetrics.js"),Ce=e(
/*! ../dash/utils/TimelineConverter */
"./src/dash/utils/TimelineConverter.js"),me=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),De=e(
/*! ../../externals/base64 */
"./externals/base64.js"),Re=e.n(De),Fe=e(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),Ne=e.n(Fe),at=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),Be=e(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),ye=e(
/*! ./ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),ve=e(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),K=e(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),se=e(
/*! ./text/TextController */
"./src/streaming/text/TextController.js"),ge=e(
/*! ./models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function oe(){var et,Qe,qe,ft,ze,ht,Et,de,He,bt,Ut,Zt,Kt,pn,rn,xt,vt,nt,ke,Ke,rt,ot,yt,mt,_t,qt,fn,Qt,gn,Tn,Mn,Gn,Zn,dn,ln,un,sn,q="You must first call initialize() and set a source before calling this method",$="You must first call initialize() and set a valid source and view before calling this method",ie="You must first call attachView() to set the video element before calling this method",X="MediaPlayer not initialized!",pe=this.context,Te=Object(ce.default)(pe).getInstance(),be=Object(Ee.default)(pe).getInstance(),Le=Object(Me.default)(pe).getInstance({settings:be});function hn(){Go(null),xr(null),ft=null,Kt&&(Kt.reset(),Kt=null),pn&&(pn.reset(),pn=null),ke&&ke.reset(),be.reset(),xt&&(xt.reset(),xt=null)}function Tt(){return!!qe&&!!dn.getElement()}function bn(){return Object(xe.getVersionString)()}function $t(){if(!Et)throw $;return fn.isPaused()}function Ft(){if(!Et)throw $;return fn.getIsDynamic()}function Ar(Pn){var ut=mt&&mt.hasVideoTrack()?A.default.VIDEO:A.default.AUDIO,It=Mn.getCurrentDVRInfo(ut);if(!It)return 0;var lt=fn.getOriginalLiveDelay(),Wt=It.range.start+Pn;return Wt>It.range.end-lt&&(Wt=It.range.end-lt),Wt}function bo(Pn){if(!Et)throw $;var ut=ki().currentTime;if(void 0!==Pn)ut=mt.getTimeRelativeToStreamId(ut,Pn);else if(fn.getIsDynamic()){var It=mt&&mt.hasVideoTrack()?A.default.VIDEO:A.default.AUDIO,lt=Mn.getCurrentDVRInfo(It);ut=null===lt||0===ut?0:Math.max(0,ut-lt.range.start)}return ut}function Eo(){if(!Et)throw $;var Pn=ki().duration;if(fn.getIsDynamic()){var ut=mt&&mt.hasVideoTrack()?A.default.VIDEO:A.default.AUDIO,It=Mn.getCurrentDVRInfo(ut);Pn=It?It.range.end-It.range.start:0}return Pn}function Dr(Pn){Object(Be.checkParameterType)(Pn,"boolean"),de=Pn}function Gr(){ke.restoreDefaultUTCTimingSources()}function Kn(){return Mn}function ki(){if(!dn.getElement())throw ie;return dn.getElement()}function xr(Pn){if(!ze)throw X;dn.setElement(Pn),Pn&&(Jo(),function Ma(){if(!pn){var Pn=dashjs.MetricsReporting;if("function"==typeof Pn){var ut=Pn(pe).create();pn=ut.createMetricsReporting({debug:Le,eventBus:Te,mediaElement:ki(),adapter:vt,dashMetrics:Mn,mediaPlayerModel:nt,events:W.default,constants:A.default,metricsConstants:x.default})}}}(),function Js(){if(!rn){var Pn=dashjs.MssHandler;"function"==typeof Pn&&(J.default.extend(Pn.errors),rn=Pn(pe).create({eventBus:Te,mediaPlayerModel:nt,dashMetrics:Mn,manifestModel:Gn,playbackController:fn,streamController:mt,protectionController:Kt,baseURLController:rt,errHandler:Ke,events:W.default,constants:A.default,debug:Le,initSegmentType:me.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:Re.a,ISOBoxer:Ne.a,settings:be}))}}(),mt&&mt.switchToVideoElement()),Et&&Ns(),mr()}function Xr(Pn){if(!ht)throw q;var ut=mt.getActiveStreamInfo();return ut?Zt.getTracksFor(Pn,ut.id):[]}function Go(Pn){var ut=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!ze)throw X;"string"==typeof Pn&&ln.initialize(Pn),(null==ut||isNaN(ut))&&(ut=NaN),ut=Math.max(0,ut),qe=Pn,(ht||Et)&&Ns(),Tt()&&mr(ut)}function Ho(){if(!ht)throw q;var Pn=mt.getActiveStreamInfo();return Pn?mt.getStreamById(Pn.id):null}function Ns(){Et=!1,ht=!1,vt.reset(),mt.reset(),qt.reset(),Tn.reset(),fn.reset(),Qt.reset(),gn.reset(),He.reset(),Zt.reset(),sn.reset(),Kt&&(be.get().streaming.protection.keepProtectionMediaKeys?Kt.stop():(Kt.reset(),Kt=null,Jo())),_t.reset(),Zn.reset()}function $s(){return Object(P.default)(pe).create({debug:Le,errHandler:Ke,dashMetrics:Mn,mediaPlayerModel:nt,requestModifier:Object(D.default)(pe).getInstance(),mssHandler:rn,settings:be})}function Jo(){if(Kt)return Kt;var Pn=dashjs.Protection;if("function"==typeof Pn){var ut=Pn(pe).create();return W.default.extend(Pn.events),Se.default.extend(Pn.events,{publicOnly:!0}),J.default.extend(Pn.errors),ot||(ot=Object(F.default)(pe).getInstance()),Kt=ut.createProtectionSystem({debug:Le,errHandler:Ke,videoModel:dn,customParametersModel:ke,capabilities:ot,eventBus:Te,events:W.default,BASE64:Re.a,constants:A.default,cmcdModel:Zn,settings:be})}return null}function Ls(){if(!ze)throw X;if(xt)return xt;var Pn=dashjs.OfflineController;if("function"==typeof Pn){W.default.extend(Pn.events),Se.default.extend(Pn.events,{publicOnly:!0}),J.default.extend(Pn.errors);var ut=$s(),It=Object(ye.default)(pe).create();return It.setConfig({manifestModel:Gn,adapter:vt,manifestLoader:ut,errHandler:Ke}),xt=Pn(pe).create({debug:Le,manifestUpdater:It,baseURLController:rt,manifestLoader:ut,manifestModel:Gn,mediaPlayerModel:nt,abrController:He,playbackController:fn,adapter:vt,errHandler:Ke,dashMetrics:Mn,timelineConverter:Ut,segmentBaseController:sn,schemeLoaderFactory:bt,eventBus:Te,events:W.default,errors:J.default,constants:A.default,settings:be,dashConstants:_.default,urlUtils:Object(ve.default)(pe).getInstance()})}return null}function ks(Pn){var ut=mt&&mt.hasVideoTrack()?A.default.VIDEO:A.default.AUDIO,It=Mn.getCurrentDVRInfo(ut);return It?Pn+(It.manifestInfo.availableFrom.getTime()/1e3+It.range.start):0}function mr(){var Pn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;xt&&xt.resetRecords(),!ht&&qe&&(ht=!0,Qe.info("Streaming Initialized"),function hs(){var Pn=$s();mt||(mt=Object(g.default)(pe).getInstance()),_t||(_t=Object(se.default)(pe).create({errHandler:Ke,manifestModel:Gn,adapter:vt,mediaController:Zt,videoModel:dn,settings:be})),yt.setConfig({capabilities:ot,customParametersModel:ke,adapter:vt,settings:be,manifestModel:Gn,errHandler:Ke}),mt.setConfig({capabilities:ot,capabilitiesFilter:yt,manifestLoader:Pn,manifestModel:Gn,mediaPlayerModel:nt,customParametersModel:ke,protectionController:Kt,textController:_t,adapter:vt,dashMetrics:Mn,errHandler:Ke,timelineConverter:Ut,videoModel:dn,playbackController:fn,serviceDescriptionController:Qt,contentSteeringController:gn,abrController:He,mediaController:Zt,settings:be,baseURLController:rt,uriFragmentModel:ln,segmentBaseController:sn}),qt.setConfig({settings:be,playbackController:fn,streamController:mt,videoModel:dn,timelineConverter:Ut,adapter:vt}),fn.setConfig({streamController:mt,serviceDescriptionController:Qt,dashMetrics:Mn,adapter:vt,videoModel:dn,timelineConverter:Ut,settings:be}),Tn.setConfig({streamController:mt,playbackController:fn,mediaPlayerModel:nt,videoModel:dn,settings:be}),He.setConfig({streamController:mt,domStorage:un,mediaPlayerModel:nt,customParametersModel:ke,dashMetrics:Mn,adapter:vt,videoModel:dn,settings:be}),Zn.setConfig({abrController:He,dashMetrics:Mn,playbackController:fn}),gn.setConfig({adapter:vt,errHandler:Ke,dashMetrics:Mn,mediaPlayerModel:nt,manifestModel:Gn,abrController:He,eventBus:Te,requestModifier:Object(D.default)(pe).getInstance()}),He.initialize(),mt.initialize(de,ft),_t.initialize(),qt.initialize(),Tn.initialize(),Zn.initialize(),gn.initialize(),sn.initialize()}(),"string"==typeof qe?mt.load(qe,Pn):mt.loadWithManifest(qe,Pn)),!Et&&Tt()&&(Et=!0,Qe.info("Playback Initialized"))}return et={initialize:function dt(Pn,ut,It){var lt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;ot||(ot=Object(F.default)(pe).getInstance()).setConfig({settings:be}),Ke||(Ke=Object(k.default)(pe).getInstance()),ot.supportsMediaSource()?(ze||(ze=!0,Ut=Object(Ce.default)(pe).getInstance(),He||(He=Object(C.default)(pe).getInstance()).setConfig({settings:be}),bt||(bt=Object(U.default)(pe).getInstance()),fn||(fn=Object(w.default)(pe).getInstance()),Zt||(Zt=Object(T.default)(pe).getInstance()),mt||(mt=Object(g.default)(pe).getInstance()),qt||(qt=Object(d.default)(pe).getInstance()),Tn||(Tn=Object(i.default)(pe).getInstance()),Qt||(Qt=Object(h.default)(pe).getInstance()),gn||(gn=Object(p.default)(pe).getInstance()),yt||(yt=Object(O.default)(pe).getInstance()),vt=Object(fe.default)(pe).getInstance(),Gn=Object(S.default)(pe).getInstance(),Zn=Object(ne.default)(pe).getInstance(),Mn=Object(Pe.default)(pe).getInstance({settings:be}),un=Object(te.default)(pe).getInstance({settings:be}),vt.setConfig({constants:A.default,cea608parser:b.a,errHandler:Ke,BASE64:Re.a}),rt||(rt=Object(B.default)(pe).create()),rt.setConfig({adapter:vt}),Qt.setConfig({adapter:vt}),sn||(sn=Object(Ve.default)(pe).getInstance({dashMetrics:Mn,mediaPlayerModel:nt,errHandler:Ke,baseURLController:rt,events:W.default,eventBus:Te,debug:Le,boxParser:Object(K.default)(pe).getInstance(),requestModifier:Object(D.default)(pe).getInstance(),errors:J.default})),Zt.setConfig({domStorage:un,settings:be,customParametersModel:ke}),nt.setConfig({playbackController:fn,serviceDescriptionController:Qt}),Gr(),Dr(void 0===It||It),Ls()),Pn&&xr(Pn),ut&&Go(ut,lt),Qe.info("[dash.js "+bn()+"] MediaPlayer has been initialized")):Ke.error(new at.default(J.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,J.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function St(Pn){Pn&&(Pn.capabilities&&(ot=Pn.capabilities),Pn.capabilitiesFilter&&(yt=Pn.capabilitiesFilter),Pn.streamController&&(mt=Pn.streamController),Pn.textController&&(_t=Pn.textController),Pn.gapController&&(qt=Pn.gapController),Pn.playbackController&&(fn=Pn.playbackController),Pn.serviceDescriptionController&&(Qt=Pn.serviceDescriptionController),Pn.contentSteeringController&&(gn=Pn.contentSteeringController),Pn.catchupController&&(Tn=Pn.catchupController),Pn.mediaPlayerModel&&(nt=Pn.mediaPlayerModel),Pn.customParametersModel&&(ke=Pn.customParametersModel),Pn.abrController&&(He=Pn.abrController),Pn.schemeLoaderFactory&&(bt=Pn.schemeLoaderFactory),Pn.mediaController&&(Zt=Pn.mediaController),Pn.settings&&(be=Pn.settings))},on:function Yt(Pn,ut,It,lt){Te.on(Pn,ut,It,lt)},off:function Rt(Pn,ut,It){Te.off(Pn,ut,It)},extend:function Io(Pn,ut,It){le.default.extend(Pn,ut,It,pe)},attachView:xr,attachSource:Go,isReady:Tt,play:function Ct(){if(!Et)throw $;(!de||$t()&&Et)&&fn.play(!0)},isPaused:$t,pause:function Pt(){if(!Et)throw $;fn.pause()},isSeeking:function Vn(){if(!Et)throw $;return fn.isSeeking()},isDynamic:Ft,getLowLatencyModeEnabled:function Cn(){if(!Et)throw $;return fn.getLowLatencyModeEnabled()},seek:function _n(Pn){if(!Et)throw $;if(Object(Be.checkParameterType)(Pn,"number"),isNaN(Pn))throw A.default.BAD_ARGUMENT_ERROR;Pn<0&&(Pn=0);var ut=fn.getIsDynamic()?Ar(Pn):Pn,It=ki();!fn.getIsDynamic()&&It.duration&&(ut=Math.min(It.duration,ut)),fn.seek(ut,!1,!1,!0)},seekToOriginalLive:function Un(){!Et||!Ft()||fn.seekToOriginalLive()},setPlaybackRate:function Ae(Pn){ki().playbackRate=Pn},getPlaybackRate:function Nt(){return ki().playbackRate},setMute:function At(Pn){Object(Be.checkParameterType)(Pn,"boolean"),ki().muted=Pn},isMuted:function en(){return ki().muted},setVolume:function wn(Pn){if("number"!=typeof Pn||isNaN(Pn)||Pn<0||Pn>1)throw A.default.BAD_ARGUMENT_ERROR;ki().volume=Pn},getVolume:function ci(){return ki().volume},time:bo,duration:Eo,timeAsUTC:function fo(){if(!Et)throw $;return bo()<0?NaN:ks(bo())},durationAsUTC:function es(){if(!Et)throw $;return ks(Eo())},getActiveStream:Ho,getDVRWindowSize:function kr(){var Pn=mt&&mt.hasVideoTrack()?A.default.VIDEO:A.default.AUDIO,ut=Mn.getCurrentDVRInfo(Pn);return ut?ut.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:Ar,getTargetLiveDelay:function fr(){if(!Et)throw $;return fn.getOriginalLiveDelay()},convertToTimeCode:function ma(Pn){Pn=Math.max(Pn,0);var ut=Math.floor(Pn/3600),It=Math.floor(Pn%3600/60),lt=Math.floor(Pn%3600%60);return(0===ut?"":ut<10?"0"+ut.toString()+":":ut.toString()+":")+(It<10?"0"+It.toString():It.toString())+":"+(lt<10?"0"+lt.toString():lt.toString())},formatUTC:function bs(Pn,ut,It){var lt=arguments.length>3&&void 0!==arguments[3]&&arguments[3],Wt=new Date(1e3*Pn),En=Wt.toLocaleDateString(ut),pi=Wt.toLocaleTimeString(ut,{hour12:It});return lt?pi+" "+En:pi},getVersion:bn,getDebug:function Lt(){return Le},getBufferLength:function nr(Pn){var ut=[A.default.VIDEO,A.default.AUDIO,A.default.TEXT];if(Pn)return-1!==ut.indexOf(Pn)?Kn().getCurrentBufferLevel(Pn)||NaN:(Qe.warn("getBufferLength requested for invalid type"),NaN);var It=ut.map(function(Wt){return Xr(Wt).length>0?Kn().getCurrentBufferLevel(Wt):Number.MAX_VALUE}).reduce(function(Wt,En){return Math.min(Wt,En)});return It===Number.MAX_VALUE?NaN:It},getTTMLRenderingDiv:function Vr(){return dn?dn.getTTMLRenderingDiv():null},getVideoElement:ki,getSource:function rs(){if(!qe)throw"You must first call attachSource() with a valid source before calling this method";return qe},updateSource:function Ys(Pn){mt.load(qe=Pn)},getCurrentLiveLatency:function Oo(){if(!ze)throw X;return Et?fn.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function Li(Pn){if(!ht)throw q;return He.getTopBitrateInfoFor(Pn)},setAutoPlay:Dr,getAutoPlay:function ts(){return de},getDashMetrics:Kn,getQualityFor:function er(Pn){if(!ht)throw q;if(Pn===A.default.IMAGE){var ut=Ho();if(!ut)return-1;var It=ut.getThumbnailController();return It?It.getCurrentTrackIndex():-1}return He.getQualityFor(Pn)},setQualityFor:function ir(Pn,ut){var It=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!ht)throw q;if(Pn===A.default.IMAGE){var lt=Ho();if(!lt)return;var Wt=lt.getThumbnailController();Wt&&Wt.setTrackByIndex(ut)}He.setPlaybackQuality(Pn,mt.getActiveStreamInfo(),ut,{forceReplace:It})},updatePortalSize:function ho(){He.setElementSize(),He.setWindowResizeEventCalled(!0)},enableText:function ri(Pn){var ut=mt.getActiveStreamInfo();return!(!ut||!_t)&&_t.enableText(ut.id,Pn)},enableForcedTextStreaming:function qn(Pn){return!(!mt.getActiveStreamInfo()||!_t)&&_t.enableForcedTextStreaming(Pn)},isTextEnabled:function wi(){var Pn=mt.getActiveStreamInfo();return!(!Pn||!_t)&&_t.isTextEnabled(Pn)},setTextTrack:function Hi(Pn){if(!Et)throw $;var ut=mt.getActiveStreamInfo();!ut||!_t||_t.setTextTrack(ut.id,Pn)},getBitrateInfoListFor:function Ps(Pn){if(!ht)throw q;var ut=Ho();return ut?ut.getBitrateListFor(Pn):[]},getStreamsFromManifest:function zr(Pn){if(!ht)throw q;return vt.getStreamsInfo(Pn)},getTracksFor:Xr,getTracksForTypeFromManifest:function Zo(Pn,ut,It){if(!ht)throw q;return(It=It||vt.getStreamsInfo(ut,1)[0])?vt.getAllMediaInfoForType(It,Pn,ut):[]},getCurrentTrackFor:function xo(Pn){if(!ht)throw q;var ut=mt.getActiveStreamInfo();return Zt.getCurrentTrackFor(Pn,ut.id)},setInitialMediaSettingsFor:function Zi(Pn,ut){if(!ze)throw X;Zt.setInitialSettings(Pn,ut)},getInitialMediaSettingsFor:function Ks(Pn){if(!ze)throw X;return Zt.getInitialSettings(Pn)},setCurrentTrack:function $o(Pn){if(!ht)throw q;Zt.setTrack(Pn)},addABRCustomRule:function Qr(Pn,ut,It){ke.addAbrCustomRule(Pn,ut,It)},removeABRCustomRule:function qr(Pn){ke.removeAbrCustomRule(Pn)},removeAllABRCustomRule:function Uo(){ke.removeAllAbrCustomRule()},getABRCustomRules:function hr(){return ke.getAbrCustomRules()},getAverageThroughput:function Do(Pn){var ut=He.getThroughputHistory(),It=fn.getIsDynamic();return ut?ut.getAverageThroughput(Pn,It):0},retrieveManifest:function yr(Pn,ut){var It=$s(),lt=this;Te.on(W.default.INTERNAL_MANIFEST_LOADED,function En(pi){pi.error?ut(null,pi.error):ut(pi.manifest),Te.off(W.default.INTERNAL_MANIFEST_LOADED,En,lt),It.reset()},lt),ln.initialize(Pn),It.load(Pn)},addUTCTimingSource:function _i(Pn,ut){ke.addUTCTimingSource(Pn,ut)},removeUTCTimingSource:function Ni(Pn,ut){ke.removeUTCTimingSource(Pn,ut)},clearDefaultUTCTimingSources:function qi(){ke.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:Gr,setXHRWithCredentialsForType:function Or(Pn,ut){ke.setXHRWithCredentialsForType(Pn,ut)},getXHRWithCredentialsForType:function ro(Pn){return ke.getXHRWithCredentialsForType(Pn)},getProtectionController:function Er(){return Jo()},attachProtectionController:function Ws(Pn){Kt=Pn},setProtectionData:function po(Pn){ft=Pn,mt&&mt.setProtectionData(ft)},registerLicenseRequestFilter:function ds(Pn){ke.registerLicenseRequestFilter(Pn)},registerLicenseResponseFilter:function Fr(Pn){ke.registerLicenseResponseFilter(Pn)},unregisterLicenseRequestFilter:function Os(Pn){ke.unregisterLicenseRequestFilter(Pn)},unregisterLicenseResponseFilter:function Zr(Pn){ke.unregisterLicenseResponseFilter(Pn)},registerCustomCapabilitiesFilter:function ns(Pn){ke.registerCustomCapabilitiesFilter(Pn)},unregisterCustomCapabilitiesFilter:function To(Pn){ke.unregisterCustomCapabilitiesFilter(Pn)},setCustomInitialTrackSelectionFunction:function is(Pn){ke.setCustomInitialTrackSelectionFunction(Pn)},resetCustomInitialTrackSelectionFunction:function cs(){ke.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function mo(Pn){if(!dn.getElement())throw ie;dn.setTTMLRenderingDiv(Pn)},attachVttRenderingDiv:function Ao(Pn){if(!dn.getElement())throw ie;dn.setVttRenderingDiv(Pn)},getCurrentTextTrackIndex:function Ki(){var ut=mt.getActiveStreamInfo();if(ut&&_t)return _t.getCurrentTrackIdx(ut.id)},provideThumbnail:function us(Pn,ut){if("function"==typeof ut){if(Pn<0)return void ut(null);var It=fn.getIsDynamic()?Ar(Pn):Pn,lt=mt.getStreamForTime(It);if(null===lt)return void ut(null);var Wt=lt.getThumbnailController();return Wt?Wt.provide(It,ut):void ut(null)}},getDashAdapter:function jo(){return vt},getOfflineController:function vn(){return Ls()},triggerSteeringRequest:function Zs(){if(gn)return gn.loadSteeringData()},getCurrentSteeringResponseData:function pa(){if(gn)return gn.getCurrentSteeringResponseData()},getSettings:function zs(){return be.get()},updateSettings:function Rs(Pn){be.update(Pn)},resetSettings:function fs(){be.reset()},reset:hn,destroy:function $e(){hn(),le.default.deleteSingletonInstances(pe)}},function cn(){Qe=Le.getLogger(et),ze=!1,Et=!1,ht=!1,de=!0,Kt=null,xt=null,ft=null,vt=null,sn=null,W.default.extend(Se.default),nt=Object(L.default)(pe).getInstance(),ke=Object(ge.default)(pe).getInstance(),dn=Object(z.default)(pe).getInstance(),ln=Object(I.default)(pe).getInstance()}(),et}oe.__dashjs_factory_name="MediaPlayer";var Q=le.default.getClassFactory(oe);Q.events=Se.default,Q.errors=J.default,le.default.updateClassFactory(oe.__dashjs_factory_name,Q),v.default=Q},"./src/streaming/MediaPlayerEvents.js":
/*!********************************************!*\
                  !*** ./src/streaming/MediaPlayerEvents.js ***!
                  \********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function A(O,D){for(var I=0;I<D.length;I++){var S=D[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(O,x(S.key),S)}}function x(O){var D=function w(O,D){if("object"!==b(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var S=I.call(O,D||"default");if("object"!==b(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===b(D)?D:String(D)}function d(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&i(O,D)}function i(O,D){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,L){return S.__proto__=L,S})(O,D)}function h(O){var D=function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,S=P(O);if(D){var C=P(this).constructor;L=Reflect.construct(S,arguments,C)}else L=S.apply(this,arguments);return function p(O,D){if(D&&("object"===b(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function T(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function P(O){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(v);var F=new(function(O){d(I,O);var D=h(I);function I(){var S;return function g(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),(S=D.call(this)).AST_IN_FUTURE="astInFuture",S.BUFFER_EMPTY="bufferStalled",S.BUFFER_LOADED="bufferLoaded",S.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",S.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",S.DYNAMIC_TO_STATIC="dynamicToStatic",S.ERROR="error",S.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",S.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",S.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",S.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",S.LOG="log",S.MANIFEST_LOADED="manifestLoaded",S.METRICS_CHANGED="metricsChanged",S.METRIC_CHANGED="metricChanged",S.METRIC_ADDED="metricAdded",S.METRIC_UPDATED="metricUpdated",S.PERIOD_SWITCH_STARTED="periodSwitchStarted",S.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",S.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",S.QUALITY_CHANGE_RENDERED="qualityChangeRendered",S.TRACK_CHANGE_RENDERED="trackChangeRendered",S.STREAM_INITIALIZING="streamInitializing",S.STREAM_UPDATED="streamUpdated",S.STREAM_ACTIVATED="streamActivated",S.STREAM_DEACTIVATED="streamDeactivated",S.STREAM_INITIALIZED="streamInitialized",S.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",S.TEXT_TRACKS_ADDED="allTextTracksAdded",S.TEXT_TRACK_ADDED="textTrackAdded",S.TTML_PARSED="ttmlParsed",S.TTML_TO_PARSE="ttmlToParse",S.CAPTION_RENDERED="captionRendered",S.CAPTION_CONTAINER_RESIZE="captionContainerResize",S.CAN_PLAY="canPlay",S.CAN_PLAY_THROUGH="canPlayThrough",S.PLAYBACK_ENDED="playbackEnded",S.PLAYBACK_ERROR="playbackError",S.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",S.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",S.PLAYBACK_LOADED_DATA="playbackLoadedData",S.PLAYBACK_PAUSED="playbackPaused",S.PLAYBACK_PLAYING="playbackPlaying",S.PLAYBACK_PROGRESS="playbackProgress",S.PLAYBACK_RATE_CHANGED="playbackRateChanged",S.PLAYBACK_SEEKED="playbackSeeked",S.PLAYBACK_SEEKING="playbackSeeking",S.PLAYBACK_STALLED="playbackStalled",S.PLAYBACK_STARTED="playbackStarted",S.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",S.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",S.PLAYBACK_WAITING="playbackWaiting",S.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",S.EVENT_MODE_ON_START="eventModeOnStart",S.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",S.CONFORMANCE_VIOLATION="conformanceViolation",S.REPRESENTATION_SWITCH="representationSwitch",S.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",S.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",S}return function _(O,D,I){return D&&A(O.prototype,D),I&&A(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));v.default=F},"./src/streaming/MediaPlayerFactory.js":
/*!*********************************************!*\
                  !*** ./src/streaming/MediaPlayerFactory.js ***!
                  \*********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./MediaPlayer */
"./src/streaming/MediaPlayer.js");var _,A=function b(){var i,d="application/dash+xml";function h(B,P,k){if(!B||!/^VIDEO$/i.test(B.nodeName))return null;if(B._dashjs_player)return B._dashjs_player;var F,O=B.id||B.name||"video element";if(!(P=P||[].slice.call(B.querySelectorAll("source")).filter(function(D){return D.type==d})[0])&&B.src)(P=document.createElement("source")).src=B.src;else if(!P&&!B.src)return null;return k=k||{},(F=Object(n.default)(k).create()).initialize(B,P.src,B.autoplay),i||(i=F.getDebug().getLogger()),i.debug("Converted "+O+" to dash.js player and added content: "+P.src),B._dashjs_player=F,F}function T(B){return/^VIDEO$/i.test(B.nodeName)?B:T(B.parentNode)}return{create:h,createAll:function p(B,P){var k=[];B=B||"[data-dashjs-player]";for(var F=(P=P||document).querySelectorAll(B),O=0;O<F.length;O++){var D=h(F[O],null);k.push(D)}for(var I=P.querySelectorAll('source[type="'+d+'"]'),S=0;S<I.length;S++){var C=h(T(I[S]),null);k.push(C)}return k}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?A.createAll():_=window.setInterval(function w(){window.dashjs&&(window.clearInterval(_),A.createAll())},500):window.addEventListener("load",function x(){window.removeEventListener("load",x),A.createAll()})),v.default=A},"./src/streaming/SourceBufferSink.js":
/*!*******************************************!*\
                  !*** ./src/streaming/SourceBufferSink.js ***!
                  \*******************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),A=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),x=e(
/*! ../core/Settings */
"./src/core/Settings.js"),w=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),g=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),d=e(
/*! ../core/events/Events */
"./src/core/events/Events.js");function T(P){var I,S,L,C,U,z,k=this.context,F=Object(x.default)(k).getInstance(),O=P.textController,D=P.eventBus,ne=[],te=[],Me=!1,J=P.mediaSource,ce=null;function le($){return new Promise(function(ie){q(function(){C.changeType&&C.changeType($),ie()})})}function Ve($){return C=O.getTextSourceBuffer($),Promise.resolve()}function fe(){if("function"==typeof C.addEventListener)try{C.addEventListener("updateend",ge,!1),C.addEventListener("error",oe,!1),C.addEventListener("abort",oe,!1)}catch{z=setInterval(ge,50)}else z=setInterval(ge,50)}function me($){return new Promise(function(ie){C&&F.get().streaming.buffer.useAppendWindow?q(function(){try{if(!C)return void ie();var Z=J.duration,X=0;$&&!isNaN($.start)&&!isNaN($.duration)&&isFinite($.duration)&&(Z=$.start+$.duration),$&&!isNaN($.start)&&(X=$.start),(C.appendWindowEnd!==Z||C.appendWindowStart!==X)&&(C.appendWindowStart=0,C.appendWindowEnd=Z+.01,C.appendWindowStart=Math.max(X-.1,0),L.debug("Updated append window for ".concat(U.type,". Set start to ").concat(C.appendWindowStart," and end to ").concat(C.appendWindowEnd))),ie()}catch{L.warn("Failed to set append window"),ie()}}):ie()})}function De($){return new Promise(function(ie){C?q(function(){try{C.timestampOffset!==$&&!isNaN($)&&(C.timestampOffset=$,L.debug("Set MSE timestamp offset to ".concat($))),ie()}catch{ie()}}):ie()})}function ve(){if(!Me&&te.length>0){Me=!0;var $=te[0];te.splice(0,1);var ie=function(){Me=!1,te.length>0&&ve.call(this),$&&$.data&&$.data.segmentType&&$.data.segmentType!==g.HTTPRequest.INIT_SEGMENT_TYPE&&delete $.data.bytes,$.promise.resolve({chunk:$.data})};try{ce=$.request,0===$.data.bytes.byteLength?ie.call(this):(C.appendBuffer?C.appendBuffer($.data.bytes):C.append($.data.bytes,$.data),q(ie.bind(this)))}catch(Z){L.fatal('SourceBuffer append failed "'+Z+'"'),te.length>0?ve():Me=!1,delete $.data.bytes,$.promise.reject({chunk:$.data,error:new b.default(Z.code,Z.message)})}}}function se(){ne.length>0&&!C.updating&&(ne.shift()(),se())}function ge(){C.updating||se()}function oe($){!function Q($,ie){D.trigger($,ie||{},{streamId:U.streamInfo.id,mediaType:S})}(d.default.SOURCE_BUFFER_ERROR,{error:$.target||{},lastRequestAppended:ce})}function q($){ne.push($),C.updating||se()}return I={getType:function Pe(){return S},getAllBufferRanges:function Ne(){try{return C.buffered}catch($){return L.error("getAllBufferRanges exception: "+$.message),null}},getBuffer:function Fe(){return C},append:function at($){var ie=this,Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(X,pe){$?(te.push({data:$,promise:{resolve:X,reject:pe},request:Z}),q(ve.bind(ie))):pe({chunk:$,error:new b.default(_.default.APPEND_ERROR_CODE,_.default.APPEND_ERROR_MESSAGE)})})},remove:function ye($){return new Promise(function(ie,Z){var X=$.start,pe=$.end;X>=0&&pe>X?q(function(){try{C.remove(X,pe),q(function(){ie({from:X,to:pe,unintended:!1}),$.resolve&&$.resolve()})}catch(Te){Z({from:X,to:pe,unintended:!1,error:new b.default(_.default.REMOVE_ERROR_CODE,_.default.REMOVE_ERROR_MESSAGE)}),$.reject&&$.reject(Te)}}):ie()})},abort:function K(){return new Promise(function($){try{te=[],"open"===J.readyState?q(function(){try{C&&C.abort(),$()}catch{$()}}):(C&&C.setTextTrack&&"ended"===J.readyState&&C.abort(),$())}catch{$()}})},reset:function Re(){if(C){try{ne=[],function Ce(){try{"function"==typeof C.removeEventListener&&(C.removeEventListener("updateend",ge,!1),C.removeEventListener("error",oe,!1),C.removeEventListener("abort",oe,!1)),clearInterval(z)}catch($){L.error($)}}(),Me=!1,te=[],(!C.getClassName||"TextSourceBuffer"!==C.getClassName())&&(L.debug("Removing sourcebuffer from media source"),J.removeSourceBuffer(C))}catch{}C=null}ce=null},updateTimestampOffset:De,initializeForStreamSwitch:function Se($,ie,Z){S=(U=$).type;var X=U.codec;(function Ee($){C=$.getBuffer()})(Z),fe();var pe=[];return pe.push(function Be(){return new Promise(function($){q(function(){var ie=C.appendWindowStart,Z=C.appendWindowEnd;C&&(C.abort(),C.appendWindowStart=ie,C.appendWindowEnd=Z),$()})})}()),pe.push(me(U.streamInfo)),pe.push(le(X)),ie&&void 0!==ie.MSETimeOffset&&pe.push(De(ie.MSETimeOffset)),Promise.all(pe)},initializeForFirstUse:function xe($,ie,Z){S=(U=ie).type;var X=U.codec;try{if(X.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Ve($);C=J.addSourceBuffer(X),fe();var pe=[];return pe.push(me(U.streamInfo)),Z&&void 0!==Z.MSETimeOffset&&pe.push(De(Z.MSETimeOffset)),Promise.all(pe)}catch(Te){return U.type==w.default.TEXT&&!U.isFragmented||-1!==X.indexOf('codecs="stpp')||-1!==X.indexOf('codecs="vtt')?Ve($):Promise.reject(Te)}},updateAppendWindow:me,changeType:le},function W(){L=Object(n.default)(k).getInstance().getLogger(I)}(),I}T.__dashjs_factory_name="SourceBufferSink";var B=A.default.getClassFactory(T);v.default=B},"./src/streaming/Stream.js":
/*!*********************************!*\
                  !*** ./src/streaming/Stream.js ***!
                  \*********************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),A=e(
/*! ./StreamProcessor */
"./src/streaming/StreamProcessor.js"),_=e(
/*! ./controllers/FragmentController */
"./src/streaming/controllers/FragmentController.js"),x=e(
/*! ./thumbnail/ThumbnailController */
"./src/streaming/thumbnail/ThumbnailController.js"),w=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),g=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),d=e(
/*! ../core/Debug */
"./src/core/Debug.js"),i=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),h=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),T=e(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),B=e(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),P=e(
/*! ./controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),k=[n.default.VIDEO,n.default.AUDIO,n.default.TEXT,n.default.MUXED,n.default.IMAGE];function F(O){O=O||{};var Ce,me,De,Re,Fe,Ne,at,Be,ye,ve,K,se,ge,oe,Q,q,$,ie,D=this.context,I=Object(w.default)(D).getInstance(),S=Object(B.default)(D).getInstance(),L=O.manifestModel,C=O.mediaPlayerModel,U=O.dashMetrics,z=O.manifestUpdater,ne=O.adapter,te=O.timelineConverter,Me=O.capabilities,J=O.errHandler,ce=O.abrController,W=O.playbackController,Se=O.eventController,le=O.mediaController,Ee=O.protectionController,xe=O.textController,Ve=O.videoModel,fe=O.streamInfo,Pe=O.settings;function ze(Pt,$t){return new Promise(function(_n,Un){mt(),ve=!0,gn();var Vn=Ve.getElement();k.forEach(function(Ft){(Ft!==n.default.VIDEO||!Vn||Vn&&/^VIDEO$/i.test(Vn.nodeName))&&function ht(Pt,$t){var Ft,_n=ne.getAllMediaInfoForType(fe,Pt),Un=[],Vn=null;if(_n&&0!==_n.length){Pt===n.default.VIDEO&&(at=!0),Pt===n.default.AUDIO&&(Be=!0);for(var Cn=0,Ae=_n.length;Cn<Ae;Cn++)Vn=_n[Cn],Pt===n.default.TEXT&&Vn.isEmbedded&&(xe.addEmbeddedTrack(fe,Vn),Un.push(Vn)),Et(Vn)&&le.addTrack(Vn);if(Un.length>0&&(le.setInitialMediaSettingsForType(Pt,fe),xe.addMediaInfosToBuffer(fe,Pt,Un)),0!==(_n=_n.filter(function(At){return!At.isEmbedded})).length){if(Pt===n.default.IMAGE)return void(se=Object(x.default)(D).create({streamInfo:fe,adapter:ne,baseURLController:O.baseURLController,timelineConverter:O.timelineConverter,debug:q,eventBus:I,events:g.default,dashConstants:b.default,dashMetrics:O.dashMetrics,segmentBaseController:O.segmentBaseController})).initialize();I.trigger(g.default.STREAM_INITIALIZING,{streamInfo:fe,mediaInfo:Vn}),le.setInitialMediaSettingsForType(Pt,fe);var Nt=function de(Pt,$t){var _n=Pt&&Pt.length>0?Pt[0]:null,Un=K.getModel(_n?_n.type:null),Vn=_n?_n.type:null,Ft=_n?_n.mimeType:null,Cn=_n?_n.isFragmented:null,Ae=Object(A.default)(D).create({streamInfo:fe,type:Vn,mimeType:Ft,timelineConverter:te,adapter:ne,manifestModel:L,mediaPlayerModel:C,fragmentModel:Un,dashMetrics:O.dashMetrics,baseURLController:O.baseURLController,segmentBaseController:O.segmentBaseController,abrController:ce,playbackController:W,mediaController:le,textController:xe,errHandler:J,settings:Pe,boxParser:Q,segmentBlacklistController:ge});Ae.initialize($t,at,Cn),De.push(Ae);for(var Nt=0;Nt<Pt.length;Nt++)Ae.addMediaInfo(Pt[Nt]);return Vn===n.default.TEXT&&xe.addMediaInfosToBuffer(fe,Vn,Pt,Un),Ae}(_n,$t);(Ft=le.getCurrentTrackFor(Pt,fe.id))&&(ce.updateTopQualityIndex(Ft),Nt.selectMediaInfo(Pt===n.default.TEXT&&Ft.isEmbedded?_n[0]:Ft))}}else me.info("No "+Pt+" data.")}(Ft,Pt)}),function He(Pt){return new Promise(function($t){var _n={},Un=De.map(function(Vn){return Vn.createBufferSinks(Pt)});Promise.all(Un).then(function(Vn){Vn.forEach(function(Ft){Ft&&(_n[Ft.getType()]=Ft)}),$t(_n)}).catch(function(){$t(_n)})})}($t).then(function(Ft){if(ve=!1,0===De.length){var Cn="No streams to play.";J.error(new p.default(i.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Cn,L.getValue())),me.fatal(Cn)}else Tn();xe.createTracks(fe),_n(Ft)}).catch(function(Ft){Un(Ft)})})}function Et(Pt){var $t=Pt?Pt.type:null;return $t===n.default.MUXED?(me.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),J.error(new p.default(i.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",L.getValue())),!1):!($t!==n.default.TEXT&&$t!==n.default.IMAGE&&Pt.contentProtection&&!Me.supportsEncryptedMedia()&&(J.error(new p.default(i.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,i.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function bt(Pt){for(var $t=De?De.length:0,Un=0;Un<$t;Un++){var Vn=De[Un].getFragmentModel();Vn.abortRequests(),Vn.resetInitialSettings(),De[Un].reset(false,Pt)}xe&&xe.deactivateStream(fe),De=[],Fe=!1,Ne=!1,Rt(!1),vt(!1),I.trigger(g.default.STREAM_DEACTIVATED,{streamInfo:fe})}function Kt(Pt){bt(Pt),Re=!1,at=!1,Be=!1,ye={},ve=!1,$=!1,ie=[]}function vt(Pt){$=Pt}function nt(){return fe?fe.start:NaN}function ke(){return fe?fe.id:null}function Ke(){return fe}function mt(){if(!Ve||!ce)throw new Error(n.default.MISSING_CONFIG_ERROR)}function qt(Pt){Pt.error&&(J.error(Pt.error),me.fatal(Pt.error.message))}function gn(){if(Se){var Pt=ne.getEventsFor(fe);Pt&&Pt.length>0&&Se.addInlineEvents(Pt,fe.id)}}function Tn(){for(var Pt=De.length,_n=ye.audio||ye.video?new p.default(i.default.DATA_UPDATE_FAILED_ERROR_CODE,i.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,Un=0;Un<Pt;Un++)if(De[Un].isUpdating()||ve)return;if(Ee){Ee.clearMediaInfoArray();for(var Vn=0;Vn<Pt&&De[Vn];Vn++){var Ft=De[Vn].getType(),Cn=De[Vn].getMediaInfo();if(Ft===n.default.AUDIO||Ft===n.default.VIDEO||Ft===n.default.TEXT&&Cn.isFragmented){var Ae=De[Vn].getMediaInfo();Ae&&Ee.initializeForMedia(Ae)}}Ee.handleKeySystemFromManifest()}_n?J.error(_n):Re||(Re=!0,Ve.waitForReadyState(n.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){I.trigger(g.default.STREAM_INITIALIZED,{streamInfo:fe})}))}function Gn(){var Pt=sn(),$t=Pt.length;if(0!==$t){for(var _n=0;_n<$t;_n++)if(!Pt[_n].isBufferingCompleted()&&(Pt[_n].getType()===n.default.AUDIO||Pt[_n].getType()===n.default.VIDEO))return void me.debug("onBufferingCompleted - One streamProcessor has finished but",Pt[_n].getType(),"one is not buffering completed");me.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),Ne=!0,I.trigger(g.default.STREAM_BUFFERING_COMPLETED,{streamInfo:fe},{streamInfo:fe})}else me.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Zn(Pt){ye[Pt.mediaType]=Pt.error,Tn()}function dn(Pt){Se&&Se.addInbandEvents(Pt.events,fe.id)}function ln(Pt){return Pt&&Pt.type?un(Pt.type):null}function un(Pt){return Pt?sn().filter(function(_n){return _n.getType()===Pt})[0]:null}function sn(){for(var $t,_n,Pt=[],Un=0;Un<De.length;Un++)(($t=(_n=De[Un]).getType())===n.default.AUDIO||$t===n.default.VIDEO||$t===n.default.TEXT)&&Pt.push(_n);return Pt}function $e(Pt,$t){var _n=Ke(),Un=$t.getStreamInfo();if(!Un||!_n)return!0;var Vn=ne.getAdaptationForType(Un.index,Pt,Un),Ft=ne.getAdaptationForType(_n.index,Pt,_n);return Vn&&Ft?!(!Tt(Ft)&&Tt(Vn)):!Vn&&!Ft}function Tt(Pt){return!!Pt&&!!(Pt.ContentProtection||Pt.Representation&&Pt.Representation.length>0&&Pt.Representation[0].ContentProtection)}function Yt(Pt,$t){var _n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Pt||!Pt.hasOwnProperty("getStreamInfo"))return!1;var Un=Pt.getStreamInfo(),Vn=_n?_n.getStreamInfo():Ke();if(!Un||!Vn)return!1;var Ft=ne.getAdaptationForType(Un.index,$t,Un),Cn=ne.getAdaptationForType(Vn.index,$t,Vn);if(!Ft||!Cn)return!Ft&&!Cn;var Ae=Ft&&Cn&&Ft.mimeType===Cn.mimeType,Nt=Cn.Representation_asArray.map(function(ci){return ci.codecs}),At=Ft.Representation_asArray.map(function(ci){return ci.codecs}),en=At.some(function(ci){return Nt.indexOf(ci)>-1}),wn=At.some(function(ci){return Nt.some(function(nr){return Me.codecRootCompatibleWithCodec(nr,ci)})});return en||wn&&Ae}function Rt(Pt){oe=Pt}function bn(){return oe}return Ce={initialize:function X(){(function pe(){I.on(g.default.BUFFERING_COMPLETED,Gn,Ce),I.on(g.default.DATA_UPDATE_COMPLETED,Zn,Ce),I.on(g.default.INBAND_EVENTS,dn,Ce)})(),function be(){Ee&&(I.on(g.default.KEY_ERROR,qt,Ce),I.on(g.default.SERVER_CERTIFICATE_UPDATED,qt,Ce),I.on(g.default.LICENSE_REQUEST_COMPLETE,qt,Ce),I.on(g.default.KEY_SYSTEM_SELECTED,qt,Ce),I.on(g.default.KEY_SESSION_CREATED,qt,Ce),I.on(g.default.KEY_STATUSES_CHANGED,qt,Ce))}(),xe.initializeForStream(fe),I.trigger(g.default.STREAM_UPDATED,{streamInfo:fe})},getStreamId:function et(){return fe?fe.id:null},activate:function Qe(Pt,$t){return new Promise(function(_n,Un){if(!Fe)return bn()?(Fe=!0,I.trigger(g.default.STREAM_ACTIVATED,{streamInfo:fe}),void _n($t)):void function qe(Pt,$t){return ze(Pt,$t)}(Pt,$t).then(function(Vn){Fe=!0,I.trigger(g.default.STREAM_ACTIVATED,{streamInfo:fe}),_n(Vn)}).catch(function(Vn){Un(Vn)});_n($t)})},deactivate:bt,getIsActive:function Ut(){return Fe},getDuration:function rn(){return fe?fe.duration:NaN},getStartTime:nt,getId:ke,getStreamInfo:Ke,getHasAudioTrack:function rt(){return Be},getHasVideoTrack:function ot(){return at},startPreloading:function ft(Pt,$t){return new Promise(function(_n,Un){bn()?Un():(me.info("[startPreloading] Preloading next stream with id ".concat(ke())),Rt(!0),ze(Pt,$t).then(function(){for(var Vn=0;Vn<De.length&&De[Vn];Vn++)De[Vn].setExplicitBufferingTime(nt()),De[Vn].getScheduleController().startScheduleTimer();_n()}).catch(function(){Rt(!1),Un()}))})},getThumbnailController:function yt(){return se},getBitrateListFor:function _t(Pt){if(mt(),Pt===n.default.IMAGE)return se?se.getBitrateList():[];var $t=function Mn(Pt){for(var $t=null,_n=0;_n<De.length;_n++)if(($t=De[_n]).getType()===Pt)return $t.getMediaInfo();return null}(Pt);return ce.getBitrateList($t)},updateData:function St(Pt){return new Promise(function($t){ve=!0,fe=Pt,Se&&gn();for(var _n=[],Un=0,Vn=De.length;Un<Vn;Un++){var Ft=De[Un],Cn=Ft.getMediaInfo();_n.push(Ft.updateStreamInfo(fe));var Ae=ne.getAllMediaInfoForType(fe,Ft.getType());if(Ae){Ft.clearMediaInfoArray();for(var Nt=0;Nt<Ae.length;Nt++){var At=Ae[Nt];Ft.addMediaInfo(Ae[Nt]),ne.areMediaInfosEqual(Cn,At)&&(ce.updateTopQualityIndex(At),_n.push(Ft.selectMediaInfo(At)))}}}Promise.all(_n).then(function(){for(_n=[];ie.length>0;){var en=ie.pop(),wn=en.newMediaInfo,ci=ln(en.oldMediaInfo);if(!ci)return;_n.push(ci.prepareTrackSwitch()),ci.selectMediaInfo(wn)}return Promise.all(_n)}).then(function(){ve=!1,Tn(),I.trigger(g.default.STREAM_UPDATED,{streamInfo:fe}),$t()})})},reset:function pn(Pt){K&&(K.reset(),K=null),ce&&fe&&ce.clearDataForStream(fe.id),ge&&(ge.reset(),ge=null),Kt(Pt),fe=null,function Te(){I.off(g.default.DATA_UPDATE_COMPLETED,Zn,Ce),I.off(g.default.BUFFERING_COMPLETED,Gn,Ce),I.off(g.default.INBAND_EVENTS,dn,Ce)}(),function Le(){Ee&&(I.off(g.default.KEY_ERROR,qt,Ce),I.off(g.default.SERVER_CERTIFICATE_UPDATED,qt,Ce),I.off(g.default.LICENSE_REQUEST_COMPLETE,qt,Ce),I.off(g.default.KEY_SYSTEM_SELECTED,qt,Ce),I.off(g.default.KEY_SESSION_CREATED,qt,Ce),I.off(g.default.KEY_STATUSES_CHANGED,qt,Ce))}()},getProcessors:sn,setMediaSource:function Zt(Pt){for(var $t=0;$t<De.length;)Et(De[$t].getMediaInfo())?(De[$t].setMediaSource(Pt),$t++):(De[$t].reset(),De.splice($t,1));if(0===De.length){var _n="No streams to play.";J.error(new p.default(i.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,_n+"nostreams",L.getValue())),me.fatal(_n)}},isMediaCodecCompatible:function dt(Pt){var $t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Yt(Pt,n.default.VIDEO,$t)&&Yt(Pt,n.default.AUDIO,$t)},isProtectionCompatible:function hn(Pt){return!Pt||$e(n.default.VIDEO,Pt)&&$e(n.default.AUDIO,Pt)},getPreloaded:bn,getIsEndedEventSignaled:function xt(){return $},setIsEndedEventSignaled:vt,getAdapter:function Ct(){return ne},getHasFinishedBuffering:function Lt(){return Ne},setPreloaded:Rt,startScheduleControllers:function cn(){for(var Pt=De.length,$t=0;$t<Pt&&De[$t];$t++)De[$t].getScheduleController().startScheduleTimer()},prepareTrackChange:function fn(Pt){if(Fe&&fe){Ne=!1;var $t=Pt.newMediaInfo,_n=L.getValue();ne.setCurrentMediaInfo(fe.id,$t.type,$t);var Un=ln($t);if(Un){var Vn=W.getTime();me.info("Stream -  Process track changed at current time "+Vn),_n.refreshManifestOnSwitchTrack?(ie.push(Pt),z.getIsUpdating()||(me.debug("Stream -  Refreshing manifest for switch track"),z.refreshManifest())):Un.selectMediaInfo($t).then(function(){($t.type===n.default.VIDEO||$t.type===n.default.AUDIO)&&ce.updateTopQualityIndex($t),Un.prepareTrackSwitch()})}}},prepareQualityChange:function Qt(Pt){var $t=un(Pt.mediaType);$t&&$t.prepareQualityChange(Pt)}},function Z(){try{q=Object(d.default)(D).getInstance(),me=q.getLogger(Ce),Kt(),Q=Object(T.default)(D).getInstance(),ge=Object(P.default)(D).create({updateEventName:g.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:g.default.SEGMENT_LOCATION_BLACKLIST_ADD}),K=Object(_.default)(D).create({streamInfo:fe,mediaPlayerModel:C,dashMetrics:U,errHandler:J,settings:Pe,boxParser:Q,dashConstants:b.default,urlUtils:S})}catch(Pt){throw Pt}}(),Ce}F.__dashjs_factory_name="Stream",v.default=h.default.getClassFactory(F)},"./src/streaming/StreamProcessor.js":
/*!******************************************!*\
                  !*** ./src/streaming/StreamProcessor.js ***!
                  \******************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),A=e(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),_=e(
/*! ./models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),x=e(
/*! ./controllers/BufferController */
"./src/streaming/controllers/BufferController.js"),w=e(
/*! ./text/NotFragmentedTextBufferController */
"./src/streaming/text/NotFragmentedTextBufferController.js"),g=e(
/*! ./controllers/ScheduleController */
"./src/streaming/controllers/ScheduleController.js"),d=e(
/*! ../dash/controllers/RepresentationController */
"./src/dash/controllers/RepresentationController.js"),i=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),h=e(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),p=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),T=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),B=e(
/*! ../dash/DashHandler */
"./src/dash/DashHandler.js"),P=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),k=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=e(
/*! ../core/Debug */
"./src/core/Debug.js"),O=e(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),D=e(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),I=e(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),S=e(
/*! ./vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),L=e(
/*! ../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),C=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function U(z){z=z||{};var at,Be,ye,ve,K,se,ge,oe,Q,q,$,ie,Z,ne=this.context,te=Object(p.default)(ne).getInstance(),Me=z.streamInfo,J=z.type,ce=z.errHandler,W=z.mimeType,Se=z.timelineConverter,le=z.adapter,Ee=z.manifestModel,xe=z.mediaPlayerModel,Ve=z.fragmentModel,fe=z.abrController,Pe=z.playbackController,Ce=z.mediaController,me=z.textController,De=z.dashMetrics,Re=z.settings,Fe=z.boxParser,Ne=z.segmentBlacklistController;function Te(){return Me.id}function be(){return J}function Le(){return le.getIsTextTrack(oe.getData())}function et(){K=[],ve=null,Z=0,Q=!1,q=!1}function ht(Ft){var Cn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Ft.sender){if(Pe.getIsManifestUpdateInProgress())return void Zt();if((!Le()||me.isTextEnabled())&&se&&Ft.representationId&&!se.appendInitSegmentFromCache(Ft.representationId)){var Ae=oe.getCurrentRepresentation();if(0===Ae.range)return void Et();var Nt=$?$.getInitRequest(ve,Ae):null;Nt?Ve.executeRequest(Nt):Cn&&(ge.setInitSegmentRequired(!0),Zt())}}}function Et(Ft){var Cn=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Pe.getIsManifestUpdateInProgress()||se.getIsPruningInProgress())Zt();else{var Ae=function Ut(){var Cn,Ft=dt();if(isNaN(Z)||be()===n.default.TEXT&&!me.isTextEnabled())return null;var Ae=Q;if($){var Nt=oe&&Ft?oe.getRepresentationForQuality(Ft.quality):null;Cn=Ae?$.getSegmentRequestForTime(ve,Nt,Z):$.getNextSegmentRequest(ve,Nt)}return Cn}();Ae?(Q=!1,function de(Ft){isNaN(Ft.startTime+Ft.duration)||(Z=Ft.startTime+Ft.duration),Ft.delayLoadingTime=(new Date).getTime()+ge.getTimeToLoadDelay(),ge.setTimeToLoadDelay(0),function bt(Ft){var Cn=Ft.url;return Ft.range&&(Cn=Cn.concat("_",Ft.range)),Ne.contains(Cn)}(Ft)?(Be.warn("Fragment request url ".concat(Ft.url," for stream id ").concat(Me.id," and media type ").concat(J," is on the ignore list and will be skipped")),Zt()):(Be.debug("Next fragment request url for stream id ".concat(Me.id," and media type ").concat(J," is ").concat(Ft.url)),Ve.executeRequest(Ft))}(Ae)):function He(Ft){var Ae,Cn=oe.getCurrentRepresentation();if(!Re.get().streaming.gaps.enableSeekFix||!Q&&0!==Pe.getTime()||(ye?ye&&Cn.segmentInfoType===b.default.SEGMENT_TIMELINE&&(Ae=$.getValidTimeAheadOfTargetTime(Z,ve,Cn,Re.get().streaming.gaps.threshold)):Ae=$.getValidTimeAheadOfTargetTime(Z,ve,Cn,Re.get().streaming.gaps.threshold),isNaN(Ae)||Ae===Z)){if($.isLastSegmentRequested(Cn,Z)){var At=$.getCurrentIndex();return Be.debug("Segment requesting for stream ".concat(Me.id," has finished")),te.trigger(T.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:At},{streamId:Me.id,mediaType:J}),se.segmentRequestingCompleted(At),void ge.clearScheduleTimer()}Ft&&Zt()}else Pe.isSeeking()||0===Pe.getTime()?(Be.warn("Adjusting playback time ".concat(Ae," because of gap in the manifest. Seeking by ").concat(Ae-Z)),Pe.seek(Ae,!1,!1)):(Be.warn("Adjusting buffering time ".concat(Ae," because of gap in the manifest. Adjusting time by ").concat(Ae-Z)),Un(Ae),Ft&&Zt())}(Cn)}}function Zt(){ge.startScheduleTimer(Pe.getLowLatencyModeEnabled()?Re.get().streaming.scheduling.lowLatencyTimeout:Re.get().streaming.scheduling.defaultTimeout)}function Kt(Ft){Ft.error||(ge.setCurrentRepresentation(le.convertRepresentationToRepresentationInfo(Ft.currentRepresentation)),se.getIsBufferingCompleted()||se.updateBufferTimestampOffset(Ft.currentRepresentation))}function pn(Ft){De.addBufferState(J,Ft.state,ge.getBufferTarget()),Ft.state===A.default.BUFFER_EMPTY&&!Pe.isSeeking()&&(Be.info("Buffer is empty! Stalling!"),De.pushPlayListTraceMetrics(new Date,S.PlayListTrace.REBUFFERING_REASON))}function rn(Ft){Ve.syncExecutedRequestsWithBufferedRange(se.getBuffer().getAllBufferRanges(),Me.duration),Ft.quotaExceeded&&Ft.from>Pe.getTime()&&Un(Ft.from),Ft.hasEnoughSpaceToAppend&&Ft.quotaExceeded&&ge.startScheduleTimer()}function xt(Ft){if(Ft&&Ft.lastRequestAppended&&Ft.lastRequestAppended.url){var Cn=Ft.lastRequestAppended.url;Ft.lastRequestAppended.range&&(Cn=Cn.concat("_",Ft.lastRequestAppended.range)),Be.warn("Blacklisting segment with url ".concat(Cn)),Ne.add(Cn)}}function Ke(){Pt(),q=!1}function rt(Ft){Be.info("onFragmentLoadingAbandoned request: "+Ft.request.url+" has been aborted"),!Pe.isSeeking()&&!ge.getSwitchStrack()&&!q&&(Be.info("onFragmentLoadingAbandoned request: "+Ft.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),Ft.request&&Ft.request.isInitializationRequest()?ge.setInitSegmentRequired(!0):Un(Ft.request.startTime+Ft.request.duration/2),ge.startScheduleTimer(0))}function ot(Ft){Be.info("OnFragmentLoadingCompleted for stream id "+Me.id+" and media type "+J+" - Url:",Ft.request?Ft.request.url:"undefined",Ft.request.range?", Range:"+Ft.request.range:""),Le()&&ge.startScheduleTimer(0),Ft.error&&Ft.request.serviceLocation&&function yt(Ft){Be.info("Fragment loading completed with an error"),Ft&&Ft.request&&Ft.request.type&&(Ft.request.type===C.HTTPRequest.INIT_SEGMENT_TYPE?ht({representationId:Ft.request.representationId,sender:{}},!1):Ft.request.type===C.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Un(Ft.request.startTime+Ft.request.duration/2),Et({},!1)))}(Ft)}function mt(){Un(Pe.getTime()),St().startScheduleTimer()}function _t(Ft){var Cn=Ft.currentTrackInfo;if(Cn){var Ae=K.find(function(Nt){return Nt.index===Cn.index&&Nt.lang===Cn.lang});Ae&&Zn(Ae).then(function(){se.setIsBufferingCompleted(!1),Un(Pe.getTime()),ge.setInitSegmentRequired(!0),ge.startScheduleTimer()})}}function qt(Ft){Un(Ft.quotaExceededTime),ge.clearScheduleTimer()}function Qt(){return se?se.getBuffer():null}function Zn(Ft){Ft!==ve&&(!Ft||!ve||Ft.type===ve.type)&&(ve=Ft);var Cn=le.getRealAdaptation(Me,ve),Ae=le.getVoRepresentations(ve);if(oe){var wn,Nt=oe.getData(),At=fe.getMaxAllowedIndexFor(J,Me.id),en=fe.getMinAllowedIndexFor(J,Me.id),nr=null;return null!==Nt&&Nt.id===Cn.id||J===n.default.TEXT?wn=fe.getQualityFor(J,Me.id):(nr=fe.getThroughputHistory().getAverageThroughput(J,ye)||fe.getInitialBitrateFor(J,Me.id),wn=fe.getQualityForBitrate(ve,nr,Me.id)),void 0!==en&&wn<en&&(wn=en),wn>At&&(wn=At),oe.updateData(Cn,Ae,J,ve.isFragmented,wn)}return Promise.resolve()}function St(){return ge}function dt(Ft){var Cn;return void 0!==Ft?(Object(h.checkInteger)(Ft),Cn=oe?oe.getRepresentationForQuality(Ft):null):Cn=oe?oe.getCurrentRepresentation():null,le.convertRepresentationToRepresentationInfo(Cn)}function hn(){return!!se&&se.getIsBufferingCompleted()}function Yt(Ft){var Cn=Ft.chunk,Ae=Cn.bytes,Nt=Cn.quality,At=dt(Nt),en=oe&&At?oe.getRepresentationForQuality(At.quality):null;if(At&&en){var wn=le.getEventsFor(At.mediaInfo,null,Me),ci=le.getEventsFor(At,en,Me);if(wn&&wn.length>0||ci&&ci.length>0){var kr=function Rt(Ft,Cn,Ae,Nt){try{for(var At={},en=[],wn=Ae.concat(Nt),ci=0,nr=wn.length;ci<nr;ci++)At[wn[ci].schemeIdUri+"/"+wn[ci].value]=wn[ci];var kr=Object(I.default)(ne).getInstance().parse(Ft),Ar=kr.getBoxes("emsg");if(!Ar||0===Ar.length)return en;for(var fr=kr.getBox("sidx"),bo=!fr||isNaN(fr.earliest_presentation_time)||isNaN(fr.timescale)?Cn&&!isNaN(Cn.mediaStartTime)?Cn.mediaStartTime:0:fr.earliest_presentation_time/fr.timescale,Eo=Math.max(bo,0),fo=oe.getCurrentRepresentation(),es=0,Li=Ar.length;es<Li;es++){var er=le.getEvent(Ar[es],At,Eo,fo);er&&en.push(er)}return en}catch{return[]}}(Ae,Ve.getRequests({state:_.default.FRAGMENT_MODEL_EXECUTED,quality:Nt,index:Cn.index})[0],wn,ci);te.trigger(T.default.INBAND_EVENTS,{events:kr},{streamId:Me.id})}}}function Ct(){var Ft=Pe.getTime();Re.get().streaming.buffer.flushBufferAtTrackSwitch&&Pe.seek(Ft+.001,!1,!0),Un(Ft),se.setSeekTarget(Ft),ge.startScheduleTimer()}function Pt(){var Ft=Pe.getTime(),Cn=se.getContinuousBufferTimeForTargetTime(Ft);Un(isNaN(Cn)?Ft:Cn),ge.startScheduleTimer()}function _n(Ft){Ft&&!isNaN(Ft.time)&&(Un(Ft.time),se.setSeekTarget(Ft.time))}function Un(Ft){Z=Ft,Q=!0}return at={initialize:function pe(Ft,Cn,Ae){ie=Object(L.default)(ne).create({events:T.default,eventBus:te,streamInfo:Me,timelineConverter:Se,dashConstants:b.default,segmentBaseController:z.segmentBaseController,type:J}),($=Object(B.default)(ne).create({streamInfo:Me,type:J,timelineConverter:Se,dashMetrics:De,mediaPlayerModel:xe,baseURLController:z.baseURLController,errHandler:ce,segmentsController:ie,settings:Re,boxParser:Fe,events:T.default,eventBus:te,errors:P.default,debug:Object(F.default)(ne).getInstance(),requestModifier:Object(O.default)(ne).getInstance(),dashConstants:b.default,constants:n.default,urlUtils:Object(D.default)(ne).getInstance()})).initialize(ye=Me.manifestInfo.isDynamic),fe.registerStreamType(J,at),oe=Object(d.default)(ne).create({streamInfo:Me,type:J,abrController:fe,dashMetrics:De,playbackController:Pe,timelineConverter:Se,dashConstants:b.default,events:T.default,eventBus:te,errors:P.default,isDynamic:ye,segmentsController:ie}),(se=function $t(Ft,Cn){return Ft?Ft!==n.default.TEXT||Cn?Object(x.default)(ne).create({streamInfo:Me,type:Ft,mediaPlayerModel:xe,manifestModel:Ee,fragmentModel:Ve,errHandler:ce,mediaController:Ce,representationController:oe,adapter:le,textController:me,abrController:fe,playbackController:Pe,settings:Re}):Object(w.default)(ne).create({streamInfo:Me,type:Ft,mimeType:W,fragmentModel:Ve,textController:me,errHandler:ce,settings:Re}):(ce.error(new k.default(P.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,P.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(J,Ae))&&se.initialize(Ft),(ge=Object(g.default)(ne).create({streamInfo:Me,type:J,mimeType:W,adapter:le,dashMetrics:De,mediaPlayerModel:xe,fragmentModel:Ve,abrController:fe,playbackController:Pe,textController:me,mediaController:Ce,bufferController:se,settings:Re})).initialize(Cn),Z=0,Q=!1},getStreamId:Te,getType:be,isUpdating:function qe(){return!!oe&&oe.isUpdating()},getBufferController:function gn(){return se},getFragmentModel:function Tn(){return Ve},getScheduleController:St,getRepresentationController:function fn(){return oe},getRepresentationInfo:dt,getBufferLevel:function $e(){return se?se.getBufferLevel():0},isBufferingCompleted:hn,createBufferSinks:function bn(Ft){var Cn=Qt();return Cn?Promise.resolve(Cn):se?se.createBufferSink(ve,Ft):Promise.resolve(null)},updateStreamInfo:function Mn(Ft){return Me=Ft,hn()?Promise.resolve():se.updateAppendWindow()},getStreamInfo:function Gn(){return Me},selectMediaInfo:Zn,clearMediaInfoArray:function ln(){K=[]},addMediaInfo:function dn(Ft){-1===K.indexOf(Ft)&&K.push(Ft)},prepareTrackSwitch:function Lt(){return new Promise(function(Ft){Be.debug("Preparing track switch for type ".concat(J));var Cn=J===n.default.TEXT||Re.get().streaming.trackSwitchMode[J]===n.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&Pe.getTimeToStreamEnd(Me)>Re.get().streaming.buffer.stallThreshold;if(se.getIsBufferingCompleted()&&!Cn)return se.prepareForNonReplacementTrackSwitch(ve.codec).then(function(){te.trigger(T.default.BUFFERING_COMPLETED,{},{streamId:Me.id,mediaType:J})}).catch(function(){te.trigger(T.default.BUFFERING_COMPLETED,{},{streamId:Me.id,mediaType:J})}),void Ft();ge.clearScheduleTimer(),ge.setSwitchTrack(!0),Cn?(te.trigger(T.default.BUFFER_REPLACEMENT_STARTED,{mediaType:J,streamId:Me.id},{mediaType:J,streamId:Me.id}),Ve.abortRequests(),se.prepareForReplacementTrackSwitch(ve.codec).then(function(){var Ae=dt();return se.updateBufferTimestampOffset(Ae)}).then(function(){Ct(),Ft()}).catch(function(){Ct(),Ft()})):se.prepareForNonReplacementTrackSwitch(ve.codec).then(function(){Pt(),Ft()}).catch(function(){Pt(),Ft()})})},prepareQualityChange:function vt(Ft){Be.debug("Preparing quality switch for type ".concat(J));var Cn=Ft.newQuality;q=!0,ge.clearScheduleTimer();var Ae=dt(Cn);ge.setCurrentRepresentation(Ae),oe.prepareQualityChange(Cn),Ve.abortRequests(),se.updateBufferTimestampOffset(Ae).then(function(){Ft.reason&&Ft.reason.forceReplace?function nt(){te.trigger(T.default.BUFFER_REPLACEMENT_STARTED,{mediaType:J,streamId:Me.id},{mediaType:J,streamId:Me.id}),se.prepareForReplacementQualitySwitch().then(function(){Ct(),q=!1}).catch(function(){Ct(),q=!1})}():Re.get().streaming.buffer.fastSwitchEnabled?function ke(Ft){var Cn=Pe.getTime(),Ae=1.5*(isNaN(Ft.fragmentDuration)?1:Ft.fragmentDuration),Nt=Ve.getRequests({state:_.default.FRAGMENT_MODEL_EXECUTED,time:Cn+Ae,threshold:0})[0];if(Nt&&!Le()){var At=se.getBufferLevel(),en=fe.getAbandonmentStateFor(Me.id,J);Nt.quality<Ft.quality&&At>=Ae&&en!==A.default.ABANDON_LOAD?(Un(Cn+Ae),ge.setCheckPlaybackQuality(!1),ge.startScheduleTimer()):Ke()}else ge.startScheduleTimer();q=!1}(Ae):Ke(),De.pushPlayListTraceMetrics(new Date,S.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),De.createPlaylistTraceMetrics(Ae.id,1e3*Pe.getTime(),Pe.getPlaybackRate())})},getMediaInfo:function un(){return ve},getMediaSource:function sn(){return se.getMediaSource()},setMediaSource:function cn(Ft){se.setMediaSource(Ft)},getBuffer:Qt,setExplicitBufferingTime:Un,finalisePlayList:function Vn(Ft,Cn){De.pushPlayListTraceMetrics(Ft,Cn)},probeNextRequest:function Tt(){var Ft=dt(),Cn=oe&&Ft?oe.getRepresentationForQuality(Ft.quality):null;return $.getNextSegmentRequestIdempotent(ve,Cn)},prepareInnerPeriodPlaybackSeeking:function ft(Ft){return new Promise(function(Cn){if(se.hasBufferAtTime(Ft.seekTime))return se.pruneBuffer(),void Cn();ge.clearScheduleTimer(),Ve.abortRequests(),se.prepareForPlaybackSeek().then(function(){var Nt=se.getAllRangesWithSafetyFactor(Ft.seekTime);return se.clearBuffers(Nt)}).then(function(){var Nt=se.getContinuousBufferTimeForTargetTime(Ft.seekTime);if(!isNaN(Nt)&&!isNaN(Me.duration)&&isFinite(Me.duration)&&Nt>=Me.start+Me.duration)se.setIsBufferingCompleted(!0),Cn();else{var At=isNaN(Nt)?Ft.seekTime:Nt;Un(At),se.setSeekTarget(At);var en=[];en.push(se.updateAppendWindow());var wn=dt();en.push(se.updateBufferTimestampOffset(wn)),Promise.all(en).then(function(){ge.setInitSegmentRequired(!0),ge.setCheckPlaybackQuality(!1),ge.startScheduleTimer(),Cn()})}}).catch(function(Nt){Be.error(Nt)})})},prepareOuterPeriodPlaybackSeeking:function ze(){return new Promise(function(Ft,Cn){try{ge.clearScheduleTimer(),Ve.abortRequests(),se.prepareForPlaybackSeek().then(function(){return se.pruneAllSafely()}).then(function(){Ft()})}catch(Ae){Cn(Ae)}})},reset:function Qe(Ft,Cn){$&&$.reset(),se&&(se.reset(Ft,Cn),se=null),ge&&(ge.reset(),ge=null),oe&&(oe.reset(),oe=null),ie&&(ie=null),fe&&fe.unRegisterStreamType(Te(),J),te.off(T.default.DATA_UPDATE_COMPLETED,Kt,at),te.off(T.default.INIT_FRAGMENT_NEEDED,ht,at),te.off(T.default.MEDIA_FRAGMENT_NEEDED,Et,at),te.off(T.default.MEDIA_FRAGMENT_LOADED,Yt,at),te.off(T.default.BUFFER_LEVEL_STATE_CHANGED,pn,at),te.off(T.default.BUFFER_CLEARED,rn,at),te.off(T.default.SEEK_TARGET,_n,at),te.off(T.default.FRAGMENT_LOADING_ABANDONED,rt,at),te.off(T.default.FRAGMENT_LOADING_COMPLETED,ot,at),te.off(T.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,mt,at),te.off(T.default.SET_NON_FRAGMENTED_TEXT,_t,at),te.off(T.default.QUOTA_EXCEEDED,qt,at),te.off(T.default.SOURCE_BUFFER_ERROR,xt,at),et(),J=null,Me=null}},function X(){Be=Object(F.default)(ne).getInstance().getLogger(at),et(),te.on(T.default.DATA_UPDATE_COMPLETED,Kt,at,{priority:p.default.EVENT_PRIORITY_HIGH}),te.on(T.default.INIT_FRAGMENT_NEEDED,ht,at),te.on(T.default.MEDIA_FRAGMENT_NEEDED,Et,at),te.on(T.default.MEDIA_FRAGMENT_LOADED,Yt,at),te.on(T.default.BUFFER_LEVEL_STATE_CHANGED,pn,at),te.on(T.default.BUFFER_CLEARED,rn,at),te.on(T.default.SEEK_TARGET,_n,at),te.on(T.default.FRAGMENT_LOADING_ABANDONED,rt,at),te.on(T.default.FRAGMENT_LOADING_COMPLETED,ot,at),te.on(T.default.QUOTA_EXCEEDED,qt,at),te.on(T.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,mt,at),te.on(T.default.SET_NON_FRAGMENTED_TEXT,_t,at),te.on(T.default.SOURCE_BUFFER_ERROR,xt,at)}(),at}U.__dashjs_factory_name="StreamProcessor",v.default=i.default.getClassFactory(U)},"./src/streaming/XlinkLoader.js":
/*!**************************************!*\
                  !*** ./src/streaming/XlinkLoader.js ***!
                  \**************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=e(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),A=e(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),_=e(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),x=e(
/*! ../core/EventBus */
"./src/core/EventBus.js"),w=e(
/*! ../core/events/Events */
"./src/core/events/Events.js"),g=e(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),d=e(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js");function i(h){h=h||{};var T=this.context,B=Object(x.default)(T).getInstance(),P=Object(b.default)(T).create({errHandler:h.errHandler,dashMetrics:h.dashMetrics,mediaPlayerModel:h.mediaPlayerModel,requestModifier:h.requestModifier,errors:d.default});return{load:function F(D,I,S){var L=function(z,ne){I.resolved=!0,I.resolvedContent=z||null,B.trigger(w.default.XLINK_ELEMENT_LOADED,{element:I,resolveObject:S,error:z||ne?null:new n.default(d.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,d.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+D)})};if("urn:mpeg:dash:resolve-to-zero:2013"===D)L(null,!0);else{var C=new _.default(D,A.HTTPRequest.XLINK_EXPANSION_TYPE);P.load({request:C,success:function(z){L(z)},error:function(){L(null)}})}},reset:function O(){P&&(P.abort(),P=null)}}}i.__dashjs_factory_name="XlinkLoader",v.default=g.default.getClassFactory(i)},"./src/streaming/constants/ConformanceViolationConstants.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/constants/ConformanceViolationConstants.js ***!
                  \******************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v),v.default={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}}},"./src/streaming/constants/Constants.js":
/*!**********************************************!*\
                  !*** ./src/streaming/constants/Constants.js ***!
                  \**********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(i){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function A(i,h){for(var p=0;p<h.length;p++){var T=h[p];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(i,x(T.key),T)}}function x(i){var h=function w(i,h){if("object"!==n(i)||null===i)return i;var p=i[Symbol.toPrimitive];if(void 0!==p){var T=p.call(i,h||"default");if("object"!==n(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(i)}(i,"string");return"symbol"===n(h)?h:String(h)}e.r(v);var d=new(function(){function i(){(function b(i,h){if(!(i instanceof h))throw new TypeError("Cannot call a class as a function")})(this,i),this.init()}return function _(i,h,p){return h&&A(i.prototype,h),p&&A(i,p),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),i}());v.default=d},"./src/streaming/constants/MetricsConstants.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/constants/MetricsConstants.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(i){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function A(i,h){for(var p=0;p<h.length;p++){var T=h[p];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(i,x(T.key),T)}}function x(i){var h=function w(i,h){if("object"!==n(i)||null===i)return i;var p=i[Symbol.toPrimitive];if(void 0!==p){var T=p.call(i,h||"default");if("object"!==n(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(i)}(i,"string");return"symbol"===n(h)?h:String(h)}e.r(v);var d=new(function(){function i(){(function b(i,h){if(!(i instanceof h))throw new TypeError("Cannot call a class as a function")})(this,i),this.init()}return function _(i,h,p){return h&&A(i.prototype,h),p&&A(i,p),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),i}());v.default=d},"./src/streaming/constants/ProtectionConstants.js":
/*!********************************************************!*\
                  !*** ./src/streaming/constants/ProtectionConstants.js ***!
                  \********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(i){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function A(i,h){for(var p=0;p<h.length;p++){var T=h[p];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(i,x(T.key),T)}}function x(i){var h=function w(i,h){if("object"!==n(i)||null===i)return i;var p=i[Symbol.toPrimitive];if(void 0!==p){var T=p.call(i,h||"default");if("object"!==n(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(i)}(i,"string");return"symbol"===n(h)?h:String(h)}e.r(v);var d=new(function(){function i(){(function b(i,h){if(!(i instanceof h))throw new TypeError("Cannot call a class as a function")})(this,i),this.init()}return function _(i,h,p){return h&&A(i.prototype,h),p&&A(i,p),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),i}());v.default=d},"./src/streaming/controllers/AbrController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/AbrController.js ***!
                  \****************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),b=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),A=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),_=e(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),x=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),w=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),g=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),d=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),i=e(
/*! ../rules/RulesContext */
"./src/streaming/rules/RulesContext.js"),h=e(
/*! ../rules/SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),p=e(
/*! ../rules/SwitchRequestHistory */
"./src/streaming/rules/SwitchRequestHistory.js"),T=e(
/*! ../rules/DroppedFramesHistory */
"./src/streaming/rules/DroppedFramesHistory.js"),B=e(
/*! ../rules/ThroughputHistory */
"./src/streaming/rules/ThroughputHistory.js"),P=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),k=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),O=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function L(){var te,Me,J,ce,W,Se,le,Ee,xe,Ve,fe,Pe,Ce,me,De,Re,Fe,Ne,at,Be,ye,ve,K,se,ge,oe,U=this.context,z=Object(P.default)(U).getInstance(),ne=Object(w.default)(U).getInstance();function X(){W={},Se={},Ee={},le={},at={},ve={},K={},se={},void 0===Ve&&(Ve=!1),Be&&Be.reset(),Ne=void 0,Be=void 0,ye=void 0,clearTimeout(xe),xe=null}function Le(Qt){var gn=Qt.request.mediaType,Tn=Qt.streamId;if(gn&&Tn&&le[Tn]&&oe.get().streaming.abr.autoSwitchBitrate[gn]){var Mn=le[Tn][gn];if(Mn){var Gn=Object(i.default)(U).create({abrController:te,streamProcessor:Mn,currentRequest:Qt.request,useBufferOccupancyABR:ve[gn],useL2AABR:K[gn],useLoLPABR:se[gn],videoModel:me}),Zn=J.shouldAbandonFragment(Gn,Tn);Zn.quality>h.default.NO_CHANGE&&Mn.getFragmentModel().getRequests({state:x.default.FRAGMENT_MODEL_LOADING,index:Qt.request.index})[0]&&(Ee[Tn][gn].state=A.default.ABANDON_LOAD,at[Tn][gn].reset(),at[Tn][gn].push({oldValue:Kt(gn,Tn),newValue:Zn.quality,confidence:1,reason:Zn.reason}),pn(gn,ce.getActiveStreamInfo(),Zn.quality,Zn.reason),clearTimeout(xe),xe=setTimeout(function(){Ee[Tn][gn].state=A.default.ALLOW_LOAD,xe=null},oe.get().streaming.abandonLoadTimeout))}}}function et(Qt){Qt.mediaType===b.default.VIDEO&&(void 0!==Ne&&Be.push(Qt.streamId,Ne,me.getPlaybackQuality()),Ne=Qt.newQuality)}function Qe(Qt){Qt.metric===A.default.HTTP_REQUEST&&Qt.value&&Qt.value.type===k.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Qt.mediaType===b.default.AUDIO||Qt.mediaType===b.default.VIDEO)&&ye.push(Qt.mediaType,Qt.value,oe.get().streaming.abr.useDeadTimeLatency),Qt.metric===A.default.BUFFER_LEVEL&&(Qt.mediaType===b.default.AUDIO||Qt.mediaType===b.default.VIDEO)&&function Ke(Qt,gn){oe.get().streaming.abr.ABRStrategy===b.default.ABR_STRATEGY_DYNAMIC&&function rt(Qt,gn){try{var Tn=De.getStableBufferTime(),Zn=ve[Qt],dn=gn>(Zn?.5*Tn:Tn);ve[Qt]=dn,dn!==Zn&&Me.info(dn?"["+Qt+"] switching from throughput to buffer occupancy ABR rule (buffer: "+gn.toFixed(3)+").":"["+Qt+"] switching from buffer occupancy to throughput ABR rule (buffer: "+gn.toFixed(3)+").")}catch(ln){Me.error(ln)}}(Qt,gn)}(Qt.mediaType,.001*Qt.value.level)}function qe(Qt,gn){try{return W[gn]=W[gn]||{},W[gn].hasOwnProperty(Qt)||(W[gn][Qt]=0),function He(Qt,gn,Tn){if(gn!==b.default.VIDEO||!oe.get().streaming.abr.limitBitrateByPortal||!le[Tn]||!le[Tn][gn])return Qt;Ve||qt();var Mn=le[Tn][gn].getStreamInfo(),Gn=Ce.getAdaptationForType(Mn.index,gn,Mn).Representation_asArray,Zn=Qt;if(fe>0&&Pe>0){for(;Zn>0&&Gn[Zn]&&fe<Gn[Zn].width&&fe-Gn[Zn-1].width<Gn[Zn].width-fe;)Zn-=1;for(;Zn<Gn.length-1&&Gn[Zn].width===Gn[Zn+1].width;)Zn+=1}return Zn}(function de(Qt,gn,Tn){var Mn=W[Tn][gn],Gn=oe.get().streaming.abr.maxRepresentationRatio[gn];return isNaN(Gn)||Gn>=1||Gn<0?Qt:Math.min(Qt,Math.round(Mn*Gn))}(function Et(Qt,gn){var Tn=W[gn][Qt],Mn=Tn;if(!le[gn]||!le[gn][Qt])return Mn;var Gn=ft(Qt,gn);void 0!==Gn&&(Mn=Math.max(Tn,Gn));var Zn=function ze(Qt,gn){try{var Tn=De.getAbrBitrateParameter("maxBitrate",Qt);return Tn>-1?nt(le[gn][Qt].getMediaInfo(),Tn,gn):void 0}catch{return}}(Qt,gn);return void 0!==Zn&&(Mn=Math.min(Mn,Zn)),Mn}(Qt,gn),Qt,gn),Qt,gn)}catch{return}}function ft(Qt,gn){try{return function ht(Qt,gn){try{var Tn=De.getAbrBitrateParameter("minBitrate",Qt);if(Tn>-1){var Mn=le[gn][Qt].getMediaInfo(),Gn=ke(Mn),Zn=nt(Mn,Tn,gn);return Gn[Zn]&&Zn<Gn.length-1&&Gn[Zn].bitrate<1e3*Tn&&Zn++,Zn}return}catch{return}}(Qt,gn)}catch{return}}function Kt(Qt){var gn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return gn||(gn=ce.getActiveStreamInfo().id),Qt&&le[gn]&&le[gn][Qt]&&gn?(Se[gn]=Se[gn]||{},Se[gn].hasOwnProperty(Qt)||(Se[gn][Qt]=0),Se[gn][Qt]):0}catch{return 0}}function pn(Qt,gn,Tn){var Mn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(gn&&gn.id&&Qt){var Gn=gn.id,Zn=Kt(Qt,Gn);Object(F.checkInteger)(Tn);var dn=qe(Qt,Gn);Tn!==Zn&&Tn>=0&&Tn<=dn&&xt(Qt,Zn,Tn,dn,Mn,Gn)}}function xt(Qt,gn,Tn,Mn,Gn,Zn){if(Qt&&le[Zn]&&le[Zn][Qt]){var dn=le[Zn][Qt].getStreamInfo(),ln=dn&&dn.manifestInfo&&dn.manifestInfo.isDynamic,un=ge.getCurrentBufferLevel(Qt);Me.info("Stream ID: "+Zn+" ["+Qt+"] switch from "+gn+" to "+Tn+"/"+Mn+" (buffer: "+un+") "+(Gn?JSON.stringify(Gn):".")),Se[Zn]=Se[Zn]||{},Se[Zn][Qt]=Tn;var sn=function vt(Qt,gn,Tn){if(gn&&le&&le[Qt]&&le[Qt][gn]){var Mn=ke(le[Qt][gn].getMediaInfo());return Mn[Tn]?Mn[Tn]:null}return null}(Zn,Qt,Tn);ne.trigger(g.default.QUALITY_CHANGE_REQUESTED,{oldQuality:gn,newQuality:Tn,reason:Gn,streamInfo:dn,bitrateInfo:sn,maxIdx:Mn,mediaType:Qt},{streamId:dn.id,mediaType:Qt});var cn=ye.getAverageThroughput(Qt,ln);isNaN(cn)||Fe.setSavedBitrateSettings(Qt,cn)}}function nt(Qt,gn,Tn){var Mn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,Gn=Qt&&Qt.type?le[Tn][Qt.type].getRepresentationInfo():null;if(oe.get().streaming.abr.useDeadTimeLatency&&Mn&&Gn&&Gn.fragmentDuration){var Zn=Gn.fragmentDuration;if((Mn/=1e3)>Zn)return 0;gn*=1-Mn/Zn}for(var ln=ke(Qt),un=ln.length-1;un>=0;un--)if(1e3*gn>=ln[un].bitrate)return un;return 0}function ke(Qt){var gn=[];if(!Qt||!Qt.bitrateList)return gn;for(var Gn,Tn=Qt.bitrateList,Mn=Qt.type,Zn=0,dn=Tn.length;Zn<dn;Zn++)(Gn=new _.default).mediaType=Mn,Gn.qualityIndex=Zn,Gn.bitrate=Tn[Zn].bandwidth,Gn.width=Tn[Zn].width,Gn.height=Tn[Zn].height,Gn.scanType=Tn[Zn].scanType,gn.push(Gn);return gn}function qt(){if(me){var gn=oe.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;fe=me.getClientWidth()*gn,Pe=me.getClientHeight()*gn}}return te={initialize:function q(){Be=Object(T.default)(U).create(),ye=Object(B.default)(U).create({settings:oe}),(J=Object(n.default)(U).create({dashMetrics:ge,customParametersModel:Re,mediaPlayerModel:De,settings:oe})).initialize(),ne.on(O.default.QUALITY_CHANGE_RENDERED,et,te),ne.on(O.default.METRIC_ADDED,Qe,te),ne.on(g.default.LOADING_PROGRESS,Le,te)},isPlayingAtTopQuality:function mt(Qt){var gn=Qt?Qt.id:null,Tn=Kt(b.default.AUDIO,gn),Mn=Kt(b.default.VIDEO,gn);return Tn===qe(b.default.AUDIO,gn)&&Mn===qe(b.default.VIDEO,gn)},updateTopQualityIndex:function yt(Qt){var gn=Qt.type,Tn=Qt.streamInfo.id,Mn=Qt.representationCount-1;return W[Tn]=W[Tn]||{},W[Tn][gn]=Mn,Mn},clearDataForStream:function fn(Qt){Be&&Be.clearForStream(Qt),le[Qt]&&delete le[Qt],at[Qt]&&delete at[Qt],Ee[Qt]&&delete Ee[Qt]},getThroughputHistory:function ot(){return ye},getBitrateList:ke,getQualityForBitrate:nt,getTopBitrateInfoFor:function bt(Qt){var gn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(gn||(gn=ce.getActiveStreamInfo().id),Qt&&le&&le[gn]&&le[gn][Qt]){var Tn=qe(Qt,gn),Mn=ke(le[gn][Qt].getMediaInfo());return Mn[Tn]?Mn[Tn]:null}return null},getMinAllowedIndexFor:ft,getMaxAllowedIndexFor:qe,getInitialBitrateFor:function Ut(Qt,gn){if(function be(){if(!Fe||!Fe.hasOwnProperty("getSavedBitrateSettings"))throw new Error(b.default.MISSING_CONFIG_ERROR)}(),Qt===b.default.TEXT)return NaN;var Tn=Fe.getSavedBitrateSettings(Qt),Mn=De.getAbrBitrateParameter("initialBitrate",Qt),Gn=oe.get().streaming.abr.initialRepresentationRatio[Qt];if(-1===Mn)if(Gn>-1){var Zn=le[gn][Qt].getStreamInfo(),dn=Ce.getAdaptationForType(Zn.index,Qt,Zn).Representation_asArray;Mn=Array.isArray(dn)?dn[Math.max(Math.round(dn.length*Gn)-1,0)].bandwidth/1e3:0}else Mn=isNaN(Tn)?Qt===b.default.VIDEO?1e3:100:Tn;return Mn},getQualityFor:Kt,getAbandonmentStateFor:function rn(Qt,gn){return Ee[Qt]&&Ee[Qt][gn]?Ee[Qt][gn].state:null},setPlaybackQuality:pn,checkPlaybackQuality:function Zt(Qt,gn){try{if(!(Qt&&le&&le[gn]&&le[gn][Qt]))return!1;if(Be){var Tn=me.getPlaybackQuality();Tn&&Be.push(gn,Ne,Tn)}if(!oe.get().streaming.abr.autoSwitchBitrate[Qt])return!1;var Mn=Kt(Qt,gn),Gn=Object(i.default)(U).create({abrController:te,switchHistory:at[gn][Qt],droppedFramesHistory:Be,streamProcessor:le[gn][Qt],currentValue:Mn,useBufferOccupancyABR:ve[Qt],useL2AABR:K[Qt],useLoLPABR:se[Qt],videoModel:me}),Zn=ft(Qt,gn),dn=qe(Qt,gn),ln=J.getMaxQuality(Gn),un=ln.quality;return void 0!==Zn&&(un>h.default.NO_CHANGE?un:Mn)<Zn&&(un=Zn),un>dn&&(un=dn),at[gn][Qt].push({oldValue:Mn,newValue:un}),un>h.default.NO_CHANGE&&un!==Mn&&(Ee[gn][Qt].state===A.default.ALLOW_LOAD||un<Mn)&&(xt(Qt,Mn,un,dn,ln.reason,gn),!0)}catch{return!1}},setElementSize:qt,setWindowResizeEventCalled:function _t(Qt){Ve=Qt},registerStreamType:function $(Qt,gn){var Tn=gn.getStreamInfo().id;le[Tn]||(le[Tn]={}),at[Tn]||(at[Tn]={}),Ee[Tn]||(Ee[Tn]={}),at[Tn][Qt]=Object(p.default)(U).create(),le[Tn][Qt]=gn,Ee[Tn][Qt]={},Ee[Tn][Qt].state=A.default.ALLOW_LOAD,function ie(Qt){var gn=oe.get().streaming.abr.ABRStrategy;gn===b.default.ABR_STRATEGY_L2A?(ve[Qt]=!1,se[Qt]=!1,K[Qt]=!0):gn===b.default.ABR_STRATEGY_LoLP?(ve[Qt]=!1,se[Qt]=!0,K[Qt]=!1):gn===b.default.ABR_STRATEGY_BOLA?(ve[Qt]=!0,se[Qt]=!1,K[Qt]=!1):gn===b.default.ABR_STRATEGY_THROUGHPUT?(ve[Qt]=!1,se[Qt]=!1,K[Qt]=!1):gn===b.default.ABR_STRATEGY_DYNAMIC&&(ve[Qt]=!(!ve||!ve[Qt])&&ve[Qt],se[Qt]=!1,K[Qt]=!1)}(Qt),Qt===b.default.VIDEO&&qt()},unRegisterStreamType:function Z(Qt,gn){try{le[Qt]&&le[Qt][gn]&&delete le[Qt][gn],at[Qt]&&at[Qt][gn]&&delete at[Qt][gn],Ee[Qt]&&Ee[Qt][gn]&&delete Ee[Qt][gn]}catch{}},setConfig:function Te(Qt){Qt&&(Qt.streamController&&(ce=Qt.streamController),Qt.domStorage&&(Fe=Qt.domStorage),Qt.mediaPlayerModel&&(De=Qt.mediaPlayerModel),Qt.customParametersModel&&(Re=Qt.customParametersModel),Qt.dashMetrics&&(ge=Qt.dashMetrics),Qt.adapter&&(Ce=Qt.adapter),Qt.videoModel&&(me=Qt.videoModel),Qt.settings&&(oe=Qt.settings))},reset:function pe(){X(),ne.off(g.default.LOADING_PROGRESS,Le,te),ne.off(O.default.QUALITY_CHANGE_RENDERED,et,te),ne.off(O.default.METRIC_ADDED,Qe,te),J&&J.reset()}},function Q(){Me=z.getLogger(te),X()}(),te}L.__dashjs_factory_name="AbrController";var C=d.default.getSingletonFactory(L);C.QUALITY_DEFAULT=0,d.default.updateSingletonFactory(L.__dashjs_factory_name,C),v.default=C},"./src/streaming/controllers/BaseURLController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/BaseURLController.js ***!
                  \********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../models/BaseURLTreeModel */
"./src/streaming/models/BaseURLTreeModel.js"),b=e(
/*! ../utils/BaseURLSelector */
"./src/streaming/utils/BaseURLSelector.js"),A=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),_=e(
/*! ../../dash/vo/BaseURL */
"./src/dash/vo/BaseURL.js"),x=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),g=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function d(){var i,h,P,k,p=this.context,T=Object(w.default)(p).getInstance(),B=Object(A.default)(p).getInstance();function F(U){P.invalidateSelectedIndexes(U.entry)}return i={reset:function L(){P.reset(),k.reset()},initialize:function C(U){P.setConfig({adapter:h}),function I(U){P.update(U),k.chooseSelector(h.getIsDVB(U))}(U)},resolve:function S(U){var ne=P.getForPath(U).reduce(function(te,Me){var J=k.select(Me);return J?(B.isRelative(J.url)?te.url=B.resolve(J.url,te.url):(te.url=J.url,te.serviceLocation=J.serviceLocation),te.availabilityTimeOffset=J.availabilityTimeOffset,te.availabilityTimeComplete=J.availabilityTimeComplete,te):new _.default},new _.default);if(!B.isRelative(ne.url))return ne},setConfig:function D(U){U.baseURLTreeModel&&(P=U.baseURLTreeModel),U.baseURLSelector&&(k=U.baseURLSelector),U.adapter&&(h=U.adapter)}},function O(){P=Object(n.default)(p).create(),k=Object(b.default)(p).create(),T.on(g.default.SERVICE_LOCATION_BLACKLIST_CHANGED,F,i)}(),i}d.__dashjs_factory_name="BaseURLController",v.default=x.default.getClassFactory(d)},"./src/streaming/controllers/BlacklistController.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/controllers/BlacklistController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js");function A(_){_=_||{};var x,w=[],g=Object(b.default)(this.context).getInstance(),d=_.updateEventName,i=_.addBlacklistEventName;function p(k){-1===w.indexOf(k)&&(w.push(k),g.trigger(d,{entry:k}))}function T(k){p(k.entry)}return x={add:p,contains:function h(k){return!!(w.length&&k&&k.length)&&-1!==w.indexOf(k)},reset:function P(){w=[]}},function B(){i&&g.on(i,T,x)}(),x}A.__dashjs_factory_name="BlackListController",v.default=n.default.getClassFactory(A)},"./src/streaming/controllers/BufferController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/BufferController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),A=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),_=e(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),x=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),d=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),i=e(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),h=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),p=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),T=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),B=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),k=.01,O="BufferController";function D(I){I=I||{};var le,Ee,xe,Ve,fe,Pe,Ce,me,De,Re,Fe,Ne,at,Be,ye,ve,K,se,S=this.context,L=Object(x.default)(S).getInstance(),C=I.errHandler,U=I.fragmentModel,z=I.representationController,ne=I.adapter,te=I.textController,Me=I.abrController,J=I.playbackController,ce=I.streamInfo,W=I.type,Se=I.settings;function ie(Ct){Pe=Ct}function Z(Ct){return ne.convertRepresentationToRepresentationInfo(z.getRepresentationForQuality(Ct))}function Te(Ct){Se.get().streaming.cacheInitSegments&&(Ee.info("Init fragment finished loading saving to",W+"'s init cache"),ye.save(Ct.chunk)),Ee.debug("Append Init fragment",W," with representationId:",Ct.chunk.representationId," and quality:",Ct.chunk.quality,", data size:",Ct.chunk.bytes.byteLength),et(Ct.chunk)}function Le(Ct){et(Ct.chunk,Ct.request)}function et(Ct){De.append(Ct,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function($t){qe($t)}).catch(function($t){qe($t)}),Ct.mediaInfo.type===n.default.VIDEO&&Rt(w.default.VIDEO_CHUNK_RECEIVED,{chunk:Ct})}function Qe(Ct){if(Ct&&Ct.length>0)for(var Pt=0,$t=Ct.length;Pt<$t;Pt++)Ee.debug("Buffered range: "+Ct.start(Pt)+" - "+Ct.end(Pt)+", currentTime = ",J.getTime())}function qe(Ct){if(Ct.error)return 22===Ct.error.code&&function ze(){if(Be=!0,fe=.8*hn(),Ee.warn("Quota exceeded, Critical Buffer: "+fe),fe>0){var Ct=Math.max(.2*fe,1),Pt=fe-Ct,$t=Math.min(Se.get().streaming.buffer.bufferTimeAtTopQuality,.9*Pt),_n=Math.min(Se.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*Pt),Un={streaming:{buffer:{bufferToKeep:parseFloat(Ct.toFixed(5)),bufferTimeAtTopQuality:parseFloat($t.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(_n.toFixed(5))}}};Se.update(Un)}}(),void((22===Ct.error.code||!Tt())&&(Ee.warn("Clearing playback buffer to overcome quota exceed situation"),Rt(w.default.QUOTA_EXCEEDED,{criticalBufferLevel:fe,quotaExceededTime:Ct.chunk.start}),qt(_t())));if(De&&(Ke(),Be=!1,(Fe=Ct.chunk)&&Fe.endFragment)){Fe&&!isNaN(Fe.index)&&(Ce=Math.max(Fe.index,Ce),rt());var Pt=De.getAllBufferRanges();Fe.segmentType===T.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Qe(Pt),pn(),function ft(){if(!isNaN(se)){if(W!==n.default.AUDIO&&W!==n.default.VIDEO)return void(se=NaN);var Ct=J.getTime(),Pt=nt(Ct,0),$t=nt(se,0);if(Pt&&$t&&Pt.start===$t.start)return void(se=NaN);var _n=z.getCurrentRepresentation().segmentDuration,Un=nt(se,_n);Un&&(Se.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(Ct-se)>_n?se<=Un.end&&J.seek(Math.max(se,Un.start),!1,!0):Ct<Un.start&&J.seek(Un.start,!1,!0))}}()),Fe&&Rt(w.default.BYTES_APPENDED_END_FRAGMENT,{quality:Fe.quality,startTime:Fe.start,index:Fe.index,bufferedRanges:Pt,segmentType:Fe.segmentType,mediaType:W})}}function bt(){return new Promise(function(Ct,Pt){var $t=Ut();if(!$t||0===$t.length)return pn(),void Ct();qt($t).then(function(){Ct()}).catch(function(_n){Pt(_n)})})}function Ut(Ct){var Pt=[],$t=De.getAllBufferRanges();if(!$t||0===$t.length)return Pt;if(!Ct&&0!==Ct||isNaN(Ct))Pt.push({start:$t.start(0),end:$t.end($t.length-1)+.5});else{var _n=function Zt(Ct,Pt){var $t=Se.get().streaming.buffer.bufferToKeep,_n=Pt.start(0);if(Ct-_n>$t){var Vn=Math.max(0,Ct-$t),Ft=U.getRequests({state:A.default.FRAGMENT_MODEL_EXECUTED,time:Ct,threshold:k})[0];if(Ft&&(Vn=Math.min(Ft.startTime,Vn)),Vn>0)return{start:_n,end:Vn}}return null}(Ct,$t),Un=function Kt(Ct,Pt){var $t=Pt.end(Pt.length-1)+.5,_n=$e(Ct),Vn=ce.manifestInfo.duration>=Se.get().streaming.buffer.longFormContentDurationThreshold?Se.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Se.get().streaming.buffer.bufferTimeAtTopQuality,Ft=isNaN(_n)?Ct:Math.min(_n,Ct+Vn);if(Ft>=Pt.end(Pt.length-1))return null;var Cn=U.getRequests({state:A.default.FRAGMENT_MODEL_EXECUTED,time:Ct,threshold:k})[0];if(Cn&&(Ft=Math.max(Cn.startTime+Cn.duration,Ft)),Se.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var Nt=0;Nt<Pt.length;Nt++)if(Pt.start(Nt)<=Ct&&Ct<=Pt.end(Nt)&&Pt.start(Nt)<=Ft&&Ft<=Pt.end(Nt)){var At=Ft;Ft=Nt+1<Pt.length?Pt.start(Nt+1):Pt.end(Nt)+1,Ee.debug("Buffered range ["+Pt.start(Nt)+", "+Pt.end(Nt)+"] overlaps with targetTime "+Ct+" and range to be pruned ["+At+", "+$t+"], using ["+Ft+", "+$t+"] instead"+(Ft<$t?"":" (no actual pruning)"));break}return Ft<Pt.end(Pt.length-1)?{start:Ft,end:$t}:null}(Ct,$t);_n&&Pt.push(_n),Un&&Pt.push(Un)}return Pt}function pn(){(!K||W===n.default.TEXT&&te.isTextEnabled())&&Ke()}function rn(){ot()}function xt(){ot(),se=NaN}function nt(Ct,Pt){var Ae,Nt,$t=De.getAllBufferRanges(),_n=0,Un=0,Vn=null,Ft=null,Cn=0,At=isNaN(Pt)?.15:Pt;if(null!=$t){for(Nt=0,Ae=$t.length;Nt<Ae;Nt++)if(_n=$t.start(Nt),Un=$t.end(Nt),null===Vn)Cn=Math.abs(_n-Ct),(Ct>=_n&&Ct<Un||Cn<=At)&&(Vn=_n,Ft=Un);else{if(!((Cn=_n-Ft)<=At))break;Ft=Un}if(null!==Vn)return{start:Vn,end:Ft}}return null}function Ke(){if(J){var Ct=Se.get().streaming.gaps.jumpGaps&&!isNaN(Se.get().streaming.gaps.smallGapLimit)?Se.get().streaming.gaps.smallGapLimit:NaN;Ve=Math.max(function ke(Ct,Pt){var $t;return Se.get().streaming.gaps.jumpGaps&&(Pt=Se.get().streaming.gaps.smallGapLimit),null===($t=nt(Ct,Pt))?0:$t.end-Ct}(J.getTime()||0,Ct),0),Rt(w.default.BUFFER_LEVEL_UPDATED,{mediaType:W,bufferLevel:Ve}),ot()}}function rt(){var Ct=Ce>=me-1,Pt=J.getTimeToStreamEnd(ce)-Ve<1e-5;(Ct||Pt)&&!xe&&(St(!0),Ee.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(ce.id," and type ").concat(W)))}function ot(){W!==n.default.AUDIO&&W!==n.default.VIDEO||((!J.getLowLatencyModeEnabled()&&Ve<Se.get().streaming.buffer.stallThreshold||0===Ve)&&!xe?yt(b.default.BUFFER_EMPTY):(xe||Ve>=Se.get().streaming.buffer.stallThreshold||J.getLowLatencyModeEnabled()&&Ve>0)&&yt(b.default.BUFFER_LOADED))}function yt(Ct){Re===Ct||Ct===b.default.BUFFER_EMPTY&&0===J.getTime()||W===n.default.TEXT&&!te.isTextEnabled()||(Re=Ct,Rt(w.default.BUFFER_LEVEL_STATE_CHANGED,{state:Ct}),Rt(Ct===b.default.BUFFER_LOADED?w.default.BUFFER_LOADED:w.default.BUFFER_EMPTY),Ee.debug(Ct===b.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function mt(){!De||W===n.default.TEXT||xe||qt(_t())}function _t(){var Ct=[],Pt=De.getAllBufferRanges();if(!Pt||0===Pt.length)return Ct;var $t=J.getTime(),_n=Math.max(0,$t-Se.get().streaming.buffer.bufferToKeep),Un=U.getRequests({state:A.default.FRAGMENT_MODEL_EXECUTED,time:$t,threshold:k})[0];if(Un)_n=Math.min(Un.startTime,_n);else if(0===$t&&J.getIsDynamic())return[];if(Pt.start(0)<=_n){for(var Vn={start:0,end:_n},Ft=0;Ft<Pt.length&&Pt.end(Ft)<=_n;Ft++)Vn.end=Pt.end(Ft);Vn.start<Vn.end&&Ct.push(Vn)}return Ct}function qt(Ct){return new Promise(function(Pt,$t){if(Ct&&De&&0!==Ct.length){var _n=[];Ct.forEach(function(Un){_n.push(function fn(Ct){return new Promise(function(Pt,$t){Ct.resolve=Pt,Ct.reject=$t,ve.push(Ct)})}(Un))}),at||Qt(),Promise.all(_n).then(function(){Pt()}).catch(function(Un){$t(Un)})}else Pt()})}function Qt(){try{if(0===ve.length||!De)return Ee.debug("Nothing to prune, halt pruning"),ve=[],void(at=!1);var Ct=De.getBuffer();if(!Ct||!Ct.buffered||0===Ct.buffered.length)return Ee.debug("SourceBuffer is empty (or does not exist), halt pruning"),ve=[],void(at=!1);var Pt=ve.shift();Ee.debug("".concat(W,": Removing buffer from: ").concat(Pt.start," to ").concat(Pt.end)),at=!0,J.getTime()<Pt.end&&St(!1),De.remove(Pt).then(function(_n){gn(_n)}).catch(function(_n){gn(_n)})}catch{at=!1}}function gn(Ct){Ee.debug("onRemoved buffer from:",Ct.from,"to",Ct.to),Qe(De.getAllBufferRanges()),0===ve.length&&(at=!1,Ke()),Ct.unintended&&(Ee.warn("Detected unintended removal from:",Ct.from,"to",Ct.to,"setting streamprocessor time to",Ct.from),Rt(w.default.SEEK_TARGET,{time:Ct.from})),at?Qt():(K?K=!1:Ke(),Rt(w.default.BUFFER_CLEARED,{from:Ct.from,to:Ct.to,unintended:Ct.unintended,hasEnoughSpaceToAppend:Tt(),quotaExceeded:Be}))}function Tn(Ct){return new Promise(function(Pt){Ct&&void 0!==Ct.MSETimeOffset&&De&&De.updateTimestampOffset?De.updateTimestampOffset(Ct.MSETimeOffset).then(function(){Pt()}).catch(function(){Pt()}):Pt()})}function Mn(){return De&&!xe?De.updateAppendWindow(ce):Promise.resolve()}function Zn(){++Ne*(Se.get().streaming.wallclockTimeUpdateInterval/1e3)>=Se.get().streaming.buffer.bufferPruningInterval&&(Ne=0,mt())}function dn(){ot()}function St(Ct){xe!==Ct&&((xe=Ct)?Rt(w.default.BUFFERING_COMPLETED):me=Number.POSITIVE_INFINITY)}function hn(){try{var $t,_n,Ct=De.getAllBufferRanges(),Pt=0;if(!Ct)return Pt;for(_n=0,$t=Ct.length;_n<$t;_n++)Pt+=Ct.end(_n)-Ct.start(_n);return Pt}catch{return 0}}function $e(Ct){try{var Pt=Ct,$t=De.getAllBufferRanges();if(!$t||0===$t.length)return NaN;for(var _n=0;Pt===Ct&&_n<$t.length;){var Un=$t.start(_n),Vn=$t.end(_n);Pt>=Un&&Pt<=Vn&&(Pt=Vn),_n+=1}return Pt===Ct?NaN:Pt}catch{}}function Tt(){var Ct=hn();return isNaN(Ct)||Ct<fe}function Rt(Ct,Pt){L.trigger(Ct,Pt||{},{streamId:ce.id,mediaType:W})}function bn(Ct,Pt){if(fe=Number.POSITIVE_INFINITY,Re=void 0,me=Number.POSITIVE_INFINITY,Ce=0,Fe=null,xe=!1,at=!1,Be=!1,Ve=0,Ne=0,ve=[],se=NaN,De){var $t=De;De=null,!Ct&&!Pt&&$t.abort().then(function(){$t.reset(Pt),$t=null})}K=!1}return le={initialize:function oe(Ct){ie(Ct),L.on(w.default.INIT_FRAGMENT_LOADED,Te,le),L.on(w.default.MEDIA_FRAGMENT_LOADED,Le,le),L.on(w.default.WALLCLOCK_TIME_UPDATED,Zn,le),L.on(B.default.PLAYBACK_PLAYING,xt,le),L.on(B.default.PLAYBACK_PROGRESS,pn,le),L.on(B.default.PLAYBACK_TIME_UPDATED,pn,le),L.on(B.default.PLAYBACK_RATE_CHANGED,dn,le),L.on(B.default.PLAYBACK_STALLED,rn,le)},getStreamId:function Q(){return ce.id},getType:function q(){return W},getBufferControllerType:function $(){return O},createBufferSink:function X(Ct){var Pt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function($t,_n){if(ye&&Ct&&Pe){var Un=Me.getQualityFor(W,ce.id);De=Object(_.default)(S).create({mediaSource:Pe,textController:te,eventBus:L}),function pe(Ct,Pt,$t){var _n=Z($t);return Pt&&Pt[W]&&(W===n.default.VIDEO||W===n.default.AUDIO)?De.initializeForStreamSwitch(Ct,_n,Pt[W]):De.initializeForFirstUse(ce,Ct,_n)}(Ct,Pt,Un).then(function(){return Tn(Z(Un))}).then(function(){$t(De)}).catch(function(Vn){Ee.fatal("Caught error on create SourceBuffer: "+Vn),C.error(new h.default(p.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,p.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+W)),_n(Vn)})}else $t(null)})},getBuffer:function ln(){return De},getBufferLevel:function un(){return Ve},getRangeAt:nt,hasBufferAtTime:function vt(Ct){try{var Pt=De.getAllBufferRanges();if(!Pt||0===Pt.length)return!1;for(var $t=0;$t<Pt.length;){var _n=Pt.start($t),Un=Pt.end($t);if(Ct>=_n&&Ct<=Un)return!0;$t+=1}return!1}catch(Vn){return Ee.error(Vn),!1}},pruneBuffer:mt,setMediaSource:ie,getMediaSource:function sn(){return Pe},appendInitSegmentFromCache:function be(Ct){var Pt=ye.extract(ce.id,Ct);return!!Pt&&(Ee.info("Append Init fragment",W," with representationId:",Pt.representationId," and quality:",Pt.quality,", data size:",Pt.bytes.byteLength),et(Pt),!0)},getIsBufferingCompleted:function cn(){return xe},setIsBufferingCompleted:St,getIsPruningInProgress:function dt(){return at},reset:function Lt(Ct,Pt){L.off(w.default.INIT_FRAGMENT_LOADED,Te,this),L.off(w.default.MEDIA_FRAGMENT_LOADED,Le,this),L.off(w.default.WALLCLOCK_TIME_UPDATED,Zn,this),L.off(B.default.PLAYBACK_PLAYING,xt,this),L.off(B.default.PLAYBACK_PROGRESS,pn,this),L.off(B.default.PLAYBACK_TIME_UPDATED,pn,this),L.off(B.default.PLAYBACK_RATE_CHANGED,dn,this),L.off(B.default.PLAYBACK_STALLED,rn,this),bn(Ct,Pt)},prepareForPlaybackSeek:function ht(){return xe&&St(!1),De.abort()},prepareForReplacementTrackSwitch:function Et(Ct){return new Promise(function(Pt,$t){De.abort().then(function(){return Mn()}).then(function(){return Se.get().streaming.buffer.useChangeTypeForTrackSwitch?De.changeType(Ct):Promise.resolve()}).then(function(){return bt()}).then(function(){St(!1),Pt()}).catch(function(_n){$t(_n)})})},prepareForNonReplacementTrackSwitch:function He(Ct){return new Promise(function(Pt,$t){Mn().then(function(){return Se.get().streaming.buffer.useChangeTypeForTrackSwitch?De.changeType(Ct):Promise.resolve()}).then(function(){Pt()}).catch(function(_n){$t(_n)})})},prepareForReplacementQualitySwitch:function de(){return new Promise(function(Ct,Pt){De.abort().then(function(){return Mn()}).then(function(){return bt()}).then(function(){St(!1),Ct()}).catch(function($t){Pt($t)})})},updateAppendWindow:Mn,getAllRangesWithSafetyFactor:Ut,getContinuousBufferTimeForTargetTime:$e,clearBuffers:qt,pruneAllSafely:bt,updateBufferTimestampOffset:Tn,setSeekTarget:function Yt(Ct){se=Ct},segmentRequestingCompleted:function Gn(Ct){isNaN(Ct)||(me=Ct,rt())}},function ge(){Ee=Object(d.default)(S).getInstance().getLogger(le),ye=Object(i.default)(S).getInstance(),bn()}(),le}D.__dashjs_factory_name=O,v.default=g.default.getClassFactory(D)},"./src/streaming/controllers/CatchupController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/CatchupController.js ***!
                  \********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),_=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),x=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),w=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),d=e(
/*! ../../core/Utils */
"./src/core/Utils.js");function i(){var T,B,P,k,F,O,D,I,S,L,h=this.context,p=Object(A.default)(h).getInstance();function J(){B=!1;var Ne=d.default.parseUserAgent();P=Ne&&Ne.browser&&Ne.browser.name&&"safari"===Ne.browser.name.toLowerCase()}function ce(){B=!1}function W(Ne){if(Ne.streamId===O.getActiveStreamInfo().id&&S){var at=D.getLiveDelay();D.getBufferLevel()>at/2&&(S=!1)}}function Se(Ne){Ne.streamId===O.getActiveStreamInfo().id&&(S=Ne.state===g.default.BUFFER_EMPTY)}function le(){I.getCatchupModeEnabled()||k.setPlaybackRate(1)}function Ee(){D.getIsDynamic()&&I.getCatchupModeEnabled()&&(I.getCatchupPlaybackRates().max>0||I.getCatchupPlaybackRates().min<0)&&!D.isPaused()&&!D.isSeeking()&&function fe(){try{return!(!D.getTime()>0||B)&&(Pe()===_.default.LIVE_CATCHUP_MODE_LOLP?function me(Ne,at){try{return Math.abs(Ve())>0||Ne<at}catch{return!1}}(D.getBufferLevel(),F.get().streaming.liveCatchup.playbackBufferMin):function Ce(){try{return Math.abs(Ve())>0}catch{return!1}}())}catch{return!1}}()&&function xe(){if(!B&&k){var Ne,at=k.getPlaybackRate(),Be=I.getCatchupPlaybackRates(),ye=D.getBufferLevel(),ve=Ve(),K=I.getCatchupMaxDrift();if(!isNaN(K)&&K>0&&ve>K)L.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),B=!0,D.seekToCurrentLive(!0,!1);else{var se=D.getCurrentLiveLatency(),ge=D.getLiveDelay();Ne=Pe()===_.default.LIVE_CATCHUP_MODE_LOLP?function Re(Ne,at,Be,ye,ve){var K;if(ve<ye){var se=Math.abs(Ne.min),Q=2*se/(1+Math.pow(Math.E,-5*(ve-ye)));L.debug("[LoL+ playback control_buffer-based] bufferLevel: "+ve+", newRate: "+(K=1-se+Q))}else{var q=Ne.max,$=.02;K=Math.abs(at-Be)<=$*Be?1:1-q+2*q/(1+Math.pow(Math.E,-5*(at-Be))),L.debug("[LoL+ playback control_latency-based] latency: "+at+", newRate: "+K)}return K}(Be,se,ge,F.get().streaming.liveCatchup.playbackBufferMin,ye):function De(Ne,at,Be,ye){if(S)return 1;var ve=at-Be,K=ve<0?Math.abs(Ne.min):Ne.max,oe=1-K+2*K/(1+Math.pow(Math.E,-5*ve));return D.getPlaybackStalled()&&ye<=Be/2&&ve>0&&(oe=1),oe}(Be,se,ge,ye);var Q=P?.25:.02/(.5/Be.max);Ne&&Math.abs(at-Ne)>=Q&&(L.debug("[CatchupController]: Setting playback rate to ".concat(Ne)),k.setPlaybackRate(Ne))}}}()}function Ve(){return D.getCurrentLiveLatency()-D.getLiveDelay()}function Pe(){var Ne=F.get().streaming.liveCatchup.playbackBufferMin;return F.get().streaming.liveCatchup.mode!==_.default.LIVE_CATCHUP_MODE_LOLP||null===Ne||isNaN(Ne)?_.default.LIVE_CATCHUP_MODE_DEFAULT:_.default.LIVE_CATCHUP_MODE_LOLP}function Fe(){I.getCatchupPlaybackRates(!0)}return T={reset:function Me(){(function ne(){p.off(x.default.BUFFER_LEVEL_UPDATED,W,T),p.off(x.default.BUFFER_LEVEL_STATE_CHANGED,Se,T),p.off(x.default.PLAYBACK_PROGRESS,Ee,T),p.off(x.default.PLAYBACK_TIME_UPDATED,Ee,T),p.off(x.default.PLAYBACK_SEEKED,Ee,T),p.off(w.default.SETTING_UPDATED_CATCHUP_ENABLED,le,T),p.off(w.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,Fe,T),p.off(w.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,Fe,T),p.off(x.default.STREAM_INITIALIZED,Fe,T)})(),J(),k.setPlaybackRate(1,!0)},setConfig:function U(Ne){Ne&&(Ne.settings&&(F=Ne.settings),Ne.videoModel&&(k=Ne.videoModel),Ne.streamController&&(O=Ne.streamController),Ne.playbackController&&(D=Ne.playbackController),Ne.mediaPlayerModel&&(I=Ne.mediaPlayerModel))},initialize:function C(){(function z(){p.on(x.default.BUFFER_LEVEL_UPDATED,W,T),p.on(x.default.BUFFER_LEVEL_STATE_CHANGED,Se,T),p.on(x.default.PLAYBACK_PROGRESS,Ee,T),p.on(x.default.PLAYBACK_TIME_UPDATED,Ee,T),p.on(x.default.PLAYBACK_SEEKED,ce,T),p.on(w.default.SETTING_UPDATED_CATCHUP_ENABLED,le,T),p.on(w.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,Fe,T),p.on(w.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,Fe,T),p.on(x.default.STREAM_INITIALIZED,Fe,T)})(),Fe()}},function te(){L=Object(b.default)(h).getInstance().getLogger(T),J()}(),T}i.__dashjs_factory_name="CatchupController",v.default=n.default.getSingletonFactory(i)},"./src/streaming/controllers/EventController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/EventController.js ***!
                  \******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),_=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),x=e(
/*! ../net/XHRLoader */
"./src/streaming/net/XHRLoader.js");function w(){var k,F,O,D,I,S,L,C,U,z,ne,g="urn:mpeg:dash:event:2012",d=1,i="urn:mpeg:dash:event:callback:2015",h=1,p=300,T={DISCARDED:"discarded",UPDATED:"updated",ADDED:"added"},B=this.context,P=Object(A.default)(B).getInstance();function Me(){if(!L||!C)throw new Error("setConfig function has to be called previously")}function J(){ne=!1,O={},D={},I=null,z=!1,S=Date.now()/1e3}function ce(){try{null!==I&&ne&&(clearInterval(I),I=null,ne=!1,function Ce(){try{me(D),me(O)}catch(oe){F.error(oe)}}())}catch(oe){throw oe}}function Se(){try{if(!z){z=!0;var oe=C.getTime(),Q=oe-S;Q=S>0?Math.max(0,Q):0,le(D,Q,oe),le(O,Q,oe),Ee(D),Ee(O),S=oe,z=!1}}catch(q){z=!1,F.error(q)}}function le(oe,Q,q){try{De(oe,function(Z){if(void 0!==Z){var X=isNaN(Z.duration)?0:Z.duration;Z.calculatedPresentationTime<=q&&Z.calculatedPresentationTime+Q+X>=q?Ne(Z,_.default.EVENT_MODE_ON_START):(Re(q,X+Q,Z.calculatedPresentationTime)||function Fe(oe){try{return oe.calculatedPresentationTime>oe.eventStream.period.start+oe.eventStream.period.duration}catch(q){return F.error(q),!1}}(Z))&&(F.debug("Removing event ".concat(Z.id," from period ").concat(Z.eventStream.period.id," as it is expired or invalid")),function at(oe,Q){try{var q=Q.eventStream.schemeIdUri,$=Q.eventStream.period.id,ie=Q.eventStream.value,Z=Q.id;oe[$][q]=oe[$][q].filter(function(X){return ie&&X.eventStream.value&&X.eventStream.value!==ie||X.id!==Z}),0===oe[$][q].length&&delete oe[$][q]}catch(X){F.error(X)}}(oe,Z))}})}catch(ie){F.error(ie)}}function Ee(oe){try{for(var Q in oe)oe.hasOwnProperty(Q)&&0===Object.keys(oe[Q]).length&&delete oe[Q]}catch(q){F.error(q)}}function fe(oe,Q){var q=arguments.length>2&&void 0!==arguments[2]&&arguments[2],$=oe.eventStream.schemeIdUri,ie=oe.eventStream.value,Z=oe.id,X=T.DISCARDED;Q[$]||(Q[$]=[]);var pe=Q[$].findIndex(function(be){return(!ie||be.eventStream.value&&be.eventStream.value===ie)&&be.id===Z});if(-1===pe)Q[$].push(oe),oe.triggeredReceivedEvent=!1,oe.triggeredStartEvent=!1,X=T.ADDED;else if(q){var Te=Q[$][pe];oe.triggeredReceivedEvent=Te.triggeredReceivedEvent,oe.triggeredStartEvent=Te.triggeredStartEvent,Q[$][pe]=oe,X=T.UPDATED}return X}function Pe(oe){try{oe.eventStream.value==d&&P.trigger(_.default.MANIFEST_VALIDITY_CHANGED,{id:oe.id,validUntil:oe.calculatedPresentationTime,newDuration:4294967295==oe.calculatedPresentationTime?NaN:oe.calculatedPresentationTime+oe.duration,newManifestValidAfter:NaN},{mode:_.default.EVENT_MODE_ON_START})}catch($){F.error($)}}function me(oe){try{var Q=C.getTime();De(oe,function(ie){var Z=ie.eventStream&&ie.eventStream.period&&!isNaN(ie.eventStream.period.duration)?ie.eventStream.period.duration:NaN,X=ie.eventStream&&ie.eventStream.period&&!isNaN(ie.eventStream.period.start)?ie.eventStream.period.start:NaN;isNaN(Z)||isNaN(X)||Math.abs(ie.calculatedPresentationTime-Q)<p&&Ne(ie,_.default.EVENT_MODE_ON_START)})}catch($){F.error($)}}function De(oe,Q){try{if(oe)for(var q=Object.keys(oe),$=0;$<q.length;$++)for(var ie=oe[q[$]],Z=Object.keys(ie),X=0;X<Z.length;X++)ie[Z[X]].forEach(function(Te){void 0!==Te&&Q(Te)})}catch(Te){F.error(Te)}}function Re(oe,Q,q){try{return oe-Q>q}catch($){return F.error($),!1}}function Ne(oe,Q){try{var q=C.getTime(),$=oe.id;if(Q===_.default.EVENT_MODE_ON_RECEIVE&&!oe.triggeredReceivedEvent)return F.debug("Received event ".concat($)),oe.triggeredReceivedEvent=!0,void P.trigger(oe.eventStream.schemeIdUri,{event:oe},{mode:Q});oe.triggeredStartEvent||(oe.eventStream.schemeIdUri===g&&oe.eventStream.value==d?(0!==oe.duration||0!==oe.presentationTimeDelta)&&(F.debug("Starting manifest refresh event ".concat($," at ").concat(q)),function Be(){try{Me(),L.refreshManifest()}catch(oe){F.error(oe)}}()):oe.eventStream.schemeIdUri===i&&oe.eventStream.value==h?(F.debug("Starting callback event ".concat($," at ").concat(q)),function ye(oe){try{Object(x.default)(B).create({}).load({method:"get",url:oe,request:{responseType:"arraybuffer"}})}catch(q){F.error(q)}}(oe.messageData)):(F.debug("Starting event ".concat($," from period ").concat(oe.eventStream.period.id," at ").concat(q)),P.trigger(oe.eventStream.schemeIdUri,{event:oe},{mode:Q})),oe.triggeredStartEvent=!0)}catch(ie){F.error(ie)}}return k={addInlineEvents:function xe(oe,Q){try{if(Me(),O[Q]||(O[Q]={}),oe)for(var q=0;q<oe.length;q++){var $=oe[q];if(!Re(C.getTime(),isNaN($.duration)?0:$.duration,$.calculatedPresentationTime)){var X=fe($,O[Q],!0);X===T.ADDED?(F.debug("Added inline event with id ".concat($.id," from period ").concat(Q)),Ne($,_.default.EVENT_MODE_ON_RECEIVE)):X===T.UPDATED&&F.debug("Updated inline event with id ".concat($.id," from period ").concat(Q))}}}catch(pe){throw pe}},addInbandEvents:function Ve(oe,Q){try{Me(),D[Q]||(D[Q]={});for(var q=0;q<oe.length;q++){var $=oe[q];Re(C.getTime(),isNaN($.duration)?0:$.duration,$.calculatedPresentationTime)||(fe($,D[Q],!1)===T.ADDED?($.eventStream.schemeIdUri===g&&Pe($),F.debug("Added inband event with id ".concat($.id," from period ").concat(Q)),Ne($,_.default.EVENT_MODE_ON_RECEIVE)):F.debug("Inband event with scheme_id_uri ".concat($.eventStream.schemeIdUri,", value ").concat($.eventStream.value,", period id ").concat(Q," and event id ").concat($.id," was ignored because it has been added before.")))}Se()}catch(pe){throw pe}},getInbandEvents:function se(){return D},getInlineEvents:function K(){return O},start:function W(){try{Me(),F.debug("Start Event Controller");var oe=U.get().streaming.eventControllerRefreshDelay;!ne&&!isNaN(oe)&&(ne=!0,I=setInterval(Se,oe))}catch(Q){throw Q}},setConfig:function ve(oe){try{if(!oe)return;oe.manifestUpdater&&(L=oe.manifestUpdater),oe.playbackController&&(C=oe.playbackController),oe.settings&&(U=oe.settings)}catch(Q){throw Q}},reset:function ge(){ce(),J()}},function te(){F=Object(b.default)(B).getInstance().getLogger(k),J()}(),k}w.__dashjs_factory_name="EventController",v.default=n.default.getSingletonFactory(w)},"./src/streaming/controllers/FragmentController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/FragmentController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../vo/DataChunk */
"./src/streaming/vo/DataChunk.js"),A=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),_=e(
/*! ../FragmentLoader */
"./src/streaming/FragmentLoader.js"),x=e(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),w=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),g=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),d=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),i=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),h=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=e(
/*! ../../core/Debug */
"./src/core/Debug.js");function T(B){B=B||{};var L,C,U,P=this.context,k=Object(w.default)(P).getInstance(),F=B.errHandler,O=B.mediaPlayerModel,D=B.dashMetrics,I=Object(p.default)(P).getInstance(),S=B.streamInfo;function ne(){return S.id}function Me(){for(var Se in U)U[Se].reset();U={}}function W(Se){if(Se.sender){var le=Se.request,Ee=Se.response,xe=le.isInitializationRequest(),Ve=le.mediaInfo.streamInfo;if(Se.error&&(le.mediaType===n.default.AUDIO||le.mediaType===n.default.VIDEO||le.mediaType===n.default.TEXT&&le.mediaInfo.isFragmented)&&k.trigger(g.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:Se.request.serviceLocation}),!Ee||!Ve)return void C.warn("No "+le.mediaType+" bytes to push or stream is inactive.");var fe=function ce(Se,le,Ee,xe){var Ve=new b.default;return Ve.streamId=Ee,Ve.mediaInfo=le.mediaInfo,Ve.segmentType=le.type,Ve.start=le.startTime,Ve.duration=le.duration,Ve.end=Ve.start+Ve.duration,Ve.bytes=Se,Ve.index=le.index,Ve.quality=le.quality,Ve.representationId=le.representationId,Ve.endFragment=xe,Ve}(Ee,le,S.id,Se.type!==g.default.FRAGMENT_LOADING_PROGRESS);k.trigger(xe?g.default.INIT_FRAGMENT_LOADED:g.default.MEDIA_FRAGMENT_LOADED,{chunk:fe,request:le},{streamId:Ve.id,mediaType:le.mediaType})}}return L={getStreamId:ne,getModel:function te(Se){var le=U[Se];return le||(le=Object(A.default)(P).create({streamInfo:S,type:Se,dashMetrics:D,fragmentLoader:Object(_.default)(P).create({dashMetrics:D,mediaPlayerModel:O,errHandler:F,requestModifier:Object(x.default)(P).getInstance(),settings:B.settings,boxParser:B.boxParser,eventBus:k,events:g.default,errors:i.default,dashConstants:B.dashConstants,urlUtils:B.urlUtils,streamId:ne()}),debug:I,eventBus:k,events:g.default}),U[Se]=le),le},reset:function J(){k.off(d.default.FRAGMENT_LOADING_COMPLETED,W,this),k.off(d.default.FRAGMENT_LOADING_PROGRESS,W,this),Me()}},function z(){C=I.getLogger(L),Me(),k.on(d.default.FRAGMENT_LOADING_COMPLETED,W,L),k.on(d.default.FRAGMENT_LOADING_PROGRESS,W,L)}(),L}T.__dashjs_factory_name="FragmentController",v.default=h.default.getClassFactory(T)},"./src/streaming/controllers/GapController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/GapController.js ***!
                  \****************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),_=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),x=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function i(){var T,B,P,k,F,O,D,I,S,L,C,U,h=this.context,p=Object(_.default)(h).getInstance();function te(){(function Re(){U.debug("Stopping the gap controller"),F&&(clearInterval(F),F=null)})(),function W(){p.off(A.default.WALLCLOCK_TIME_UPDATED,Ve,this),p.off(A.default.INITIAL_STREAM_SWITCH,xe,this),p.off(A.default.PLAYBACK_SEEKING,Se,this),p.off(A.default.BUFFER_REPLACEMENT_STARTED,le,T),p.off(A.default.TRACK_CHANGE_RENDERED,Ee,T)}(),function Me(){F=null,O=NaN,k=0,L=null,C={}}()}function Se(){L&&(clearTimeout(L),L=null)}function le(Ne){try{if(Ne.streamId!==I.getActiveStreamInfo().id||Ne.mediaType!==x.default.VIDEO&&Ne.mediaType!==x.default.AUDIO)return;Ne.streamId===I.getActiveStreamInfo().id&&(C[Ne.mediaType]=!0)}catch(at){U.error(at)}}function Ee(Ne){!Ne||!Ne.mediaType||(C[Ne.mediaType]=!1)}function xe(){F||function De(){try{F||(U.debug("Starting the gap controller"),F=setInterval(function(){fe()&&Fe(D.getTime())},100))}catch{}}()}function Ve(){if(fe(P.get().streaming.gaps.enableSeekFix)&&++k>=10){var Ne=D.getTime();B===Ne?Fe(Ne,!0):(B=Ne,O=NaN),k=0}}function fe(){var Ne=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!I.getActiveStream())return!1;var at=Object.keys(C).some(function(ye){return C[ye]}),Be=!!Ne&&function Pe(){var Ne=I.getActiveStream(),at=parseFloat((Ne.getStartTime()+Ne.getDuration()).toFixed(5));return D.getTime()+P.get().streaming.gaps.threshold>=at}();return!at&&P.get().streaming.gaps.jumpGaps&&I.getActiveStreamProcessors().length>0&&(!D.isSeeking()||Be)&&!D.isPaused()&&!I.getIsStreamSwitchInProgress()&&!I.getHasMediaOrInitialisationError()}function Fe(Ne){var ge,at=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Be=P.get().streaming.gaps.enableStallFix,ye=P.get().streaming.gaps.stallSeek,ve=P.get().streaming.gaps.smallGapLimit,K=P.get().streaming.gaps.jumpLargeGaps,se=S.getBufferRange(),oe=NaN,Q=!1;if(ge=function Ce(Ne,at){try{if(!Ne||Ne.length<=1&&at>0)return NaN;for(var Be=NaN,ye=0;isNaN(Be)&&ye<Ne.length;){var ve=ye>0?Ne.end(ye-1):0;at<Ne.start(ye)&&ve-at<P.get().streaming.gaps.threshold&&(Be=ye),ye+=1}return Be}catch{return null}}(se,Ne),!isNaN(ge)){var q=se.start(ge),$=q-Ne;$>0&&($<=ve||K)&&(oe=q)}var ie=D.getTimeToStreamEnd();if(isNaN(oe)&&at&&isFinite(ie)&&!isNaN(ie)&&ie<ve&&(oe=parseFloat(D.getStreamEndTime().toFixed(5)),Q=!0),Be&&isNaN(oe)&&at&&isNaN(ge)&&function me(Ne,at){for(var Be=0,ye=Ne.length;Be<ye;Be++)if(at>=Ne.start(Be)&&at<=Ne.end(Be))return!0;return!1}(se,Ne)&&(0===ye?(U.warn("Toggle play pause to break stall"),S.pause(),S.play()):(U.warn("Jumping ".concat(ye,"s to break stall")),oe=Ne+ye)),oe>0&&O!==oe&&oe>Ne&&!L){var Z=oe-Ne;if(Q){var X=I.getStreamForTime(oe),pe=X&&!!X.getPreloaded();U.warn("Jumping to end of stream because of gap from ".concat(Ne," to ").concat(oe,". Gap duration: ").concat(Z)),D.seek(oe,!0,pe)}else{var Te=D.getIsDynamic(),be=ge>0?se.end(ge-1):Ne,Le=Te?1e3*Math.max(0,Z-.1):0;L=window.setTimeout(function(){D.seek(oe,!0,!0),U.warn("Jumping gap occuring in period ".concat(I.getActiveStream().getStreamId()," starting at ").concat(be," and ending at ").concat(oe,". Jumping by: ").concat(oe-be)),L=null},Le)}O=oe}}return T={reset:te,setConfig:function J(Ne){Ne&&(Ne.settings&&(P=Ne.settings),Ne.playbackController&&(D=Ne.playbackController),Ne.streamController&&(I=Ne.streamController),Ne.videoModel&&(S=Ne.videoModel))},initialize:function z(){!function ce(){p.on(A.default.WALLCLOCK_TIME_UPDATED,Ve,this),p.on(A.default.INITIAL_STREAM_SWITCH,xe,this),p.on(A.default.PLAYBACK_SEEKING,Se,this),p.on(A.default.BUFFER_REPLACEMENT_STARTED,le,T),p.on(A.default.TRACK_CHANGE_RENDERED,Ee,T)}()}},function ne(){U=Object(b.default)(h).getInstance().getLogger(T),te()}(),T}i.__dashjs_factory_name="GapController",v.default=n.default.getSingletonFactory(i)},"./src/streaming/controllers/MediaController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/MediaController.js ***!
                  \******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),A=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),_=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),x=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=e(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),g=e.n(w),d=e(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js");function h(){var P,k,F,O,D,I,S,L,T=this.context,B=Object(A.default)(T).getInstance();function ne(X,pe){return X&&F[pe]&&F[pe][X]?F[pe][X].list:[]}function te(X,pe){return X&&F[pe]&&F[pe][X]?F[pe][X].current:null}function J(X){var pe=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(X&&X.streamInfo){var Te=X.type,Le=X.streamInfo.id,et=te(Te,Le);if(F[Le]&&F[Le][Te]&&(F[Le][Te].current=X,F[Le][Te].current&&(Te!==n.default.TEXT&&!Ee(X,et)||Te===n.default.TEXT&&X.isFragmented)&&B.trigger(b.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:et,newMediaInfo:X,switchMode:O.get().streaming.trackSwitchMode[Te]},{streamId:Le}),!pe)){var Qe=function fe(X){var pe={lang:X.lang,viewpoint:X.viewpoint,roles:X.roles,accessibility:X.accessibility,audioChannelConfiguration:X.audioChannelConfiguration};return pe.lang||pe.viewpoint||pe.role&&pe.role.length>0||pe.accessibility&&pe.accessibility.length>0||pe.audioChannelConfiguration&&pe.audioChannelConfiguration.length>0?pe:null}(X);if(!Qe||!F[Le][Te].storeLastSettings)return;Qe.roles&&(Qe.role=Qe.roles[0],delete Qe.roles),Qe.accessibility&&(Qe.accessibility=Qe.accessibility[0]),Qe.audioChannelConfiguration&&(Qe.audioChannelConfiguration=Qe.audioChannelConfiguration[0]),I[Te]=Qe,L.setSavedMediaSettings(Te,Qe)}}}function ce(X,pe){!X||!pe||(D[X]=pe)}function W(X){return X?D[X]:null}function Ee(X,pe){if(!X&&!pe)return!0;if(!X||!pe)return!1;var Te=X.id===pe.id,be=X.viewpoint===pe.viewpoint,Le=X.lang===pe.lang,et=X.codec===pe.codec,Qe=X.roles.toString()===pe.roles.toString(),qe=X.accessibility.toString()===pe.accessibility.toString(),ft=X.audioChannelConfiguration.toString()===pe.audioChannelConfiguration.toString();return Te&&et&&be&&Le&&Qe&&qe&&ft}function Ve(){F={},I={},function Be(){D={audio:null,video:null,text:null}}()}function Pe(X,pe,Te){var be=[];return X.forEach(function(Le){pe(Te,Le)&&be.push(Le)}),0!==be.length?be:X}function Ce(X,pe){return!X.lang||X.lang instanceof RegExp?pe.lang.match(X.lang):""!==pe.lang&&Object(d.extendedFilter)(pe.lang,g()(X.lang)).length>0}function me(X,pe){return null==X.index||pe.index===X.index}function De(X,pe){return!X.viewpoint||X.viewpoint===pe.viewpoint}function Re(X,pe){var Te=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!X.role||!!pe.roles.filter(function(Le){return Le===X.role})[0]||pe.type===n.default.AUDIO&&Te}function Fe(X,pe){return X.accessibility?!!pe.accessibility.filter(function(be){return be===X.accessibility})[0]:!pe.accessibility.length}function Ne(X,pe){return!X.audioChannelConfiguration||!!pe.audioChannelConfiguration.filter(function(be){return be===X.audioChannelConfiguration})[0]}function ve(X){var be,pe=0,Te=[];return X.forEach(function(Le){(be=Math.max.apply(Math,Le.bitrateList.map(function(et){return et.bandwidth})))>pe?(pe=be,Te=[Le]):be===pe&&Te.push(Le)}),Te}function K(X){var be,pe=1/0,Te=[];return X.forEach(function(Le){var et=Le.bitrateList.reduce(function(Qe,qe){var ft=Math.max(1,qe.width*qe.height);return Qe+qe.bandwidth/ft},0);(be=et/Le.bitrateList.length)<pe?(pe=be,Te=[Le]):be===pe&&Te.push(Le)}),Te}function se(X){var be,pe=0,Te=[];return X.forEach(function(Le){(be=Le.representationCount)>pe?(pe=be,Te=[Le]):be===pe&&Te.push(Le)}),Te}function ge(X,pe){if(X===n.default.TEXT)return pe[0];var be,Te=O.get().streaming.selectionModeForInitialTrack,Le=S.getCustomInitialTrackSelectionFunction();if(Le&&"function"==typeof Le)be=Le(pe);else switch(Te){case n.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:be=function oe(X){var pe=function ye(X){var pe=0,Te=[];return X.forEach(function(be){isNaN(be.selectionPriority)||(be.selectionPriority>pe?(pe=be.selectionPriority,Te=[be]):be.selectionPriority===pe&&Te.push(be))}),Te}(X);return pe.length>1&&(pe=ve(pe)),pe.length>1&&(pe=se(pe)),pe}(pe);break;case n.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:be=function Q(X){var pe=ve(X);return pe.length>1&&(pe=se(pe)),pe}(pe);break;case n.default.TRACK_SELECTION_MODE_FIRST_TRACK:be=q(pe);break;case n.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:be=function $(X){var pe=K(X);return pe.length>1&&(pe=ve(pe)),pe}(pe);break;case n.default.TRACK_SELECTION_MODE_WIDEST_RANGE:be=function ie(X){var pe=se(X);return pe.length>1&&(pe=ve(X)),pe}(pe);break;default:k.warn("Track selection mode ".concat(Te," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),be=q(pe)}return be.length>0?be[0]:pe[0]}function q(X){return X[0]}return P={setInitialMediaSettingsForType:function U(X,pe){var Te=I[X]||W(X),be=ne(X,pe.id),Le=[];Te||ce(X,Te=L.getSavedMediaSettings(X)),be&&0!==be.length&&(Te&&(Le=Pe(Le=Array.from(be),Ce,Te),Le=Pe(Le,me,Te),Le=Pe(Le,De,Te),X===n.default.AUDIO&&I[X]||(Le=Pe(Le,Re,Te)),Le=Pe(Le,Fe,Te),Le=Pe(Le,Ne,Te)),0===Le.length?J(ge(X,be),!0):J(Le.length>1?ge(X,Le):Le[0]))},addTrack:function z(X){if(X){var pe=X.type;if(function le(X){return X===n.default.AUDIO||X===n.default.VIDEO||X===n.default.TEXT||X===n.default.IMAGE}(pe)){var Te=X.streamInfo.id;F[Te]||(F[Te]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var be=F[Te][pe].list,Le=0,et=be.length;Le<et;++Le)if(Ee(be[Le],X))return;be.push(X)}}},getTracksFor:ne,getCurrentTrackFor:te,isCurrentTrack:function Me(X){if(!X)return!1;var pe=X.type,Te=X.streamInfo.id;return F[Te]&&F[Te][pe]&&Ee(F[Te][pe].current,X)},setTrack:J,selectInitialTrack:ge,setInitialSettings:ce,getInitialSettings:W,getTracksWithHighestBitrate:ve,getTracksWithHighestEfficiency:K,getTracksWithWidestRange:se,isTracksEqual:Ee,matchSettings:function at(X,pe){var Te=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var be=!1;if(X.lang){if(X.lang instanceof RegExp)be=pe.lang.match(X.lang);else if(""!==pe.lang){var Le=g()(X.lang);Le&&(be=Object(d.extendedFilter)(pe.lang,Le).length>0)}}else be=!0;var et=null==X.index||pe.index===X.index,Qe=!X.viewpoint||X.viewpoint===pe.viewpoint,qe=!X.role||!!pe.roles.filter(function(ht){return ht===X.role})[0],ft=!X.accessibility||!!pe.accessibility.filter(function(ht){return ht===X.accessibility})[0],ze=!X.audioChannelConfiguration||!!pe.audioChannelConfiguration.filter(function(ht){return ht===X.audioChannelConfiguration})[0];return be&&et&&Qe&&(qe||pe.type===n.default.AUDIO&&Te)&&ft&&ze}catch(ht){return!1}},matchSettingsLang:Ce,matchSettingsIndex:me,matchSettingsViewPoint:De,matchSettingsRole:Re,matchSettingsAccessibility:Fe,matchSettingsAudioChannelConfig:Ne,saveTextSettingsDisabled:function Se(){L.setSavedMediaSettings(n.default.TEXT,null)},setConfig:function xe(X){X&&(X.domStorage&&(L=X.domStorage),X.settings&&(O=X.settings),X.customParametersModel&&(S=X.customParametersModel))},reset:Ve},function C(){k=Object(x.default)(T).getInstance().getLogger(P),Ve()}(),P}h.__dashjs_factory_name="MediaController";var p=_.default.getSingletonFactory(h);_.default.updateSingletonFactory(h.__dashjs_factory_name,p),v.default=p},"./src/streaming/controllers/MediaSourceController.js":
/*!************************************************************!*\
                  !*** ./src/streaming/controllers/MediaSourceController.js ***!
                  \************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../core/Debug */
"./src/core/Debug.js");function A(){var _,x,w,g=this.context;return _={createMediaSource:function i(){var F="WebKitMediaSource"in window;return"MediaSource"in window?x=new MediaSource:F&&(x=new WebKitMediaSource),x},attachMediaSource:function h(F){var O=window.URL.createObjectURL(x);return F.setSource(O),O},detachMediaSource:function p(F){F.setSource(null)},setDuration:function T(F){!x||"open"!==x.readyState||null===F&&isNaN(F)||x.duration!==F&&(function k(F){for(var O=F.sourceBuffers,D=0;D<O.length;D++)if(O[D].updating)return!0;return!1}(x)?setTimeout(T.bind(null,F),50):(w.info("Set MediaSource duration:"+F),x.duration=F))},setSeekable:function B(F,O){x&&"function"==typeof x.setLiveSeekableRange&&"function"==typeof x.clearLiveSeekableRange&&"open"===x.readyState&&F>=0&&F<O&&(x.clearLiveSeekableRange(),x.setLiveSeekableRange(F,O))},signalEndOfStream:function P(F){if(F&&"open"===F.readyState){for(var O=F.sourceBuffers,D=0;D<O.length;D++)if(O[D].updating||0===O[D].buffered.length)return;w.info("call to mediaSource endOfStream"),F.endOfStream()}}},function d(){w=Object(b.default)(g).getInstance().getLogger(_)}(),_}A.__dashjs_factory_name="MediaSourceController",v.default=n.default.getSingletonFactory(A)},"./src/streaming/controllers/PlaybackController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/PlaybackController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),A=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),_=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),x=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),g=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function i(){var T,B,P,k,F,O,D,I,S,L,C,U,z,ne,te,Me,ce,W,Se,le,Ee,xe,Ve,h=this.context,p=Object(b.default)(h).getInstance();function Pe(){at(),ne=!1,L=0,C=0,Me=0,Ee=!1,ce=!1,xe=!1,W=NaN,D&&(p.off(A.default.DATA_UPDATE_COMPLETED,He,T),p.off(A.default.LOADING_PROGRESS,Gn,T),p.off(A.default.MANIFEST_UPDATED,sn,T),p.off(A.default.STREAMS_COMPOSED,cn,T),p.off(w.default.PLAYBACK_ENDED,qt,T),p.off(w.default.STREAM_INITIALIZING,dn,T),p.off(w.default.REPRESENTATION_SWITCH,ln,T),p.off(w.default.BUFFER_LEVEL_STATE_CHANGED,Zt,T),de(),function hn(){D.removeEventListener("canplay",bt),D.removeEventListener("canplaythrough",Ut),D.removeEventListener("play",Kt),D.removeEventListener("waiting",pn),D.removeEventListener("playing",rn),D.removeEventListener("pause",xt),D.removeEventListener("error",fn),D.removeEventListener("seeking",vt),D.removeEventListener("seeked",nt),D.removeEventListener("timeupdate",ke),D.removeEventListener("progress",Ke),D.removeEventListener("ratechange",rt),D.removeEventListener("loadedmetadata",ot),D.removeEventListener("loadeddata",yt),D.removeEventListener("stalled",Zn),D.removeEventListener("ended",mt),D.removeEventListener("volumechange",_t)}()),S=null,D=null,U=null,z=null}function Re(){return parseFloat((Fe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-ge()).toFixed(5))}function Fe($e){var Tt=$e||U;return Tt.start+Tt.duration}function Ne(){var $e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];U&&D&&D.getElement()?($e&&z&&se(ge()),D.play()):ne=!0}function at(){U&&D&&D.pause()}function Be($e){var Tt=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Yt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Rt=arguments.length>3&&void 0!==arguments[3]&&arguments[3];U&&D&&$e!==(isNaN(W)?D.getTime():W)&&((Se=!0===Yt)||(W=$e),B.info("Requesting seek to time: "+$e+(Se?" (internal)":"")),z&&Rt&&se($e),D.setCurrentTime($e,Tt))}function K(){if(U&&D&&z){var $e=P&&P.hasVideoTrack()?n.default.VIDEO:n.default.AUDIO,Tt=F.getCurrentDVRInfo($e);return Tt&&Tt.range?Tt.range.end:0}}function se($e){var Tt=new Date(I.getClientReferenceTime()),Yt=O.getRegularPeriods()[0],Rt=I.calcPresentationTimeFromWallTime(Tt,Yt);L=Rt-$e}function ge(){return U&&D?D.getTime():null}function oe(){return U&&D?D.isPaused():null}function Q(){return U&&D?D.isSeeking():null}function q(){return U&&D?D.isStalled():null}function $(){return U&&D?D.getPlaybackRate():null}function Z(){return U&&D?D.getEnded():null}function X(){return z}function ze(){var $e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!oe()&&z&&0!==D.getReadyState()&&!Q()&&!Ee){$e||($e=P.hasVideoTrack()?n.default.VIDEO:n.default.AUDIO);var Tt=ge(),Yt=function ht($e,Tt){var Yt=F.getCurrentDVRInfo(Tt),Rt=Yt?Yt.range:null;return Rt?$e>Rt.end?Math.max(Rt.end-L,Rt.start):$e>0&&$e+.25<Rt.start&&Math.abs($e-Rt.start)<31536e4?ce?Math.max(Rt.end-L,Rt.start):Rt.start:$e:NaN}(Tt,$e);!isNaN(Yt)&&Yt!==Tt&&!Q()&&(q()||le||1===D.getReadyState())&&(B.debug("UpdateCurrentTime: Seek to actual time: ".concat(Yt," from currentTime: ").concat(Tt)),Be(Yt,!1,!1))}}function Et(){null===S&&(S=setInterval(function(){!function Qt(){p.trigger(A.default.WALLCLOCK_TIME_UPDATED,{isDynamic:z,time:new Date}),X()&&(P.addDVRMetric(),oe()?function gn(){var $e=Date.now();(!te||$e>te+500)&&(te=$e,ke())}():ze())}()},Ve.get().streaming.wallclockTimeUpdateInterval))}function de(){clearInterval(S),S=null}function He($e){var Tt=O.convertRepresentationToRepresentationInfo($e.currentRepresentation),Yt=Tt?Tt.mediaInfo.streamInfo:null;null===Yt||U.id!==Yt.id||(U=Yt)}function bt(){p.trigger(A.default.CAN_PLAY)}function Ut(){p.trigger(A.default.CAN_PLAY_THROUGH)}function Zt($e){$e.streamId===P.getActiveStreamInfo().id&&(le=$e.state===g.default.BUFFER_EMPTY,Ve.get().streaming.buffer.setStallState&&D.setStallState($e.mediaType,$e.state===g.default.BUFFER_EMPTY))}function Kt(){B.info("Native video element event: play"),ze(),Et(),p.trigger(A.default.PLAYBACK_STARTED,{startTime:ge()})}function pn(){B.info("Native video element event: waiting"),p.trigger(A.default.PLAYBACK_WAITING,{playingTime:ge()})}function rn(){B.info("Native video element event: playing"),Se=!1,p.trigger(A.default.PLAYBACK_PLAYING,{playingTime:ge()})}function xt(){B.info("Native video element event: pause"),p.trigger(A.default.PLAYBACK_PAUSED,{ended:Z()})}function vt(){if(!Se){var $e=ge();!isNaN(W)&&W!==$e&&($e=W),W=NaN,B.info("Seeking to: "+$e),Et(),p.trigger(A.default.PLAYBACK_SEEKING,{seekTime:$e,streamId:U.id})}}function nt(){B.info("Native video element event: seeked"),Se=!1,p.trigger(A.default.PLAYBACK_SEEKED)}function ke(){U&&p.trigger(A.default.PLAYBACK_TIME_UPDATED,{timeToEnd:Re(),time:ge(),streamId:U.id})}function Ke(){p.trigger(A.default.PLAYBACK_PROGRESS,{streamId:U.id})}function rt(){var $e=$();B.info("Native video element event: ratechange: ",$e),p.trigger(A.default.PLAYBACK_RATE_CHANGED,{playbackRate:$e})}function ot(){B.info("Native video element event: loadedmetadata"),p.trigger(A.default.PLAYBACK_METADATA_LOADED),Et()}function yt(){B.info("Native video element event: loadeddata"),p.trigger(A.default.PLAYBACK_LOADED_DATA)}function mt(){B.info("Native video element event: ended"),at(),de();var $e=P?P.getActiveStreamInfo():null;$e&&p.trigger(A.default.PLAYBACK_ENDED,{isLast:$e.isLast})}function _t(){p.trigger(A.default.PLAYBACK_VOLUME_CHANGED)}function qt($e){if(S&&$e.isLast){B.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var Tt=$e.seekTime?$e.seekTime:Fe();D.setCurrentTime(Tt),at(),de()}}function fn($e){p.trigger(A.default.PLAYBACK_ERROR,{error:($e.target||$e.srcElement).error})}function Gn($e){if(!1===$e.stream&&ce&&!isNaN($e.request.duration)){var Tt=1.2*$e.request.duration;Tt>L&&(B.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",Tt.toFixed(2)),L=Tt,C=Tt)}}function Zn($e){p.trigger(A.default.PLAYBACK_STALLED,{e:$e})}function dn($e){!function St($e){$e&&$e.supplementalProperties&&"true"===$e.supplementalProperties[n.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(B.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),ce=!0)}($e.mediaInfo)}function ln($e){var Tt=P.getActiveStreamInfo();!$e||!Tt||!$e.currentRepresentation||!$e.streamId||$e.streamId!==Tt.id||!$e.mediaType||$e.mediaType!==n.default.VIDEO&&$e.mediaType!==n.default.AUDIO||(ce=!$e.currentRepresentation.availabilityTimeComplete)&&!xe&&(xe=!0)}function sn(){Ee=!0}function cn(){Ee=!1}return T={initialize:function Ce($e,Tt){U=$e,!0!==Tt&&function me(){(function dt(){D.addEventListener("canplay",bt),D.addEventListener("canplaythrough",Ut),D.addEventListener("play",Kt),D.addEventListener("waiting",pn),D.addEventListener("playing",rn),D.addEventListener("pause",xt),D.addEventListener("error",fn),D.addEventListener("seeking",vt),D.addEventListener("seeked",nt),D.addEventListener("timeupdate",ke),D.addEventListener("progress",Ke),D.addEventListener("ratechange",rt),D.addEventListener("loadedmetadata",ot),D.addEventListener("loadeddata",yt),D.addEventListener("stalled",Zn),D.addEventListener("ended",mt),D.addEventListener("volumechange",_t)})(),z=U.manifestInfo.isDynamic,le=!1,Se=!1,p.on(A.default.DATA_UPDATE_COMPLETED,He,T),p.on(A.default.LOADING_PROGRESS,Gn,T),p.on(A.default.MANIFEST_UPDATED,sn,T),p.on(A.default.STREAMS_COMPOSED,cn,T),p.on(w.default.PLAYBACK_ENDED,qt,T,{priority:b.default.EVENT_PRIORITY_HIGH}),p.on(w.default.STREAM_INITIALIZING,dn,T),p.on(w.default.REPRESENTATION_SWITCH,ln,T),p.on(w.default.BUFFER_LEVEL_STATE_CHANGED,Zt,T),ne&&(ne=!1,Ne())}()},setConfig:function ft($e){$e&&($e.streamController&&(P=$e.streamController),$e.serviceDescriptionController&&(k=$e.serviceDescriptionController),$e.dashMetrics&&(F=$e.dashMetrics),$e.adapter&&(O=$e.adapter),$e.videoModel&&(D=$e.videoModel),$e.timelineConverter&&(I=$e.timelineConverter),$e.settings&&(Ve=$e.settings))},getTimeToStreamEnd:Re,getBufferLevel:function Tn(){var $e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Tt=null;return P.getActiveStreamProcessors().forEach(function(Yt){if(!$e||0===$e.length||-1===$e.indexOf(Yt.getType())){var Rt=Yt.getBufferLevel();Tt=null===Tt?Rt:Math.min(Tt,Rt)}}),Tt},getPlaybackStalled:function De(){return le},getTime:ge,getLowLatencyModeEnabled:function Mn(){return ce},getInitialCatchupModeActivated:function un(){return xe},getIsManifestUpdateInProgress:function Te(){return Ee},getPlaybackRate:$,getPlayedRanges:function ie(){return U&&D?D.getPlayedRanges():null},getEnded:Z,getIsDynamic:X,getStreamController:function pe(){return P},computeAndSetLiveDelay:function qe($e,Tt){var Yt,Rt,bn,Pt=!isNaN($e)&&isFinite($e)?$e:NaN,$t=O.getSuggestedPresentationDelay(),_n=k.getServiceDescriptionSettings();return Yt=isNaN(Ve.get().streaming.delay.liveDelay)?null===Ve.get().streaming.delay.liveDelayFragmentCount||isNaN(Ve.get().streaming.delay.liveDelayFragmentCount)||isNaN(Pt)?_n&&!isNaN(_n.liveDelay)&&_n.liveDelay>0?_n.liveDelay:!0===Ve.get().streaming.delay.useSuggestedPresentationDelay&&null!==$t&&!isNaN($t)&&$t>0?$t:isNaN(Pt)?Tt&&!isNaN(Tt.minBufferTime)?4*Tt.minBufferTime:4*U.manifestInfo.minBufferTime:4*Pt:Pt*Ve.get().streaming.delay.liveDelayFragmentCount:Ve.get().streaming.delay.liveDelay,null!==(bn=O.getAvailabilityStartTime())&&(Me=bn),Rt=Tt&&Tt.dvrWindowSize>0?Math.min(Yt,Tt.dvrWindowSize):Yt,L=Rt,C=Rt,Rt},getLiveDelay:function Le(){return L},getOriginalLiveDelay:function et(){return C},getCurrentLiveLatency:function Qe(){if(!z||isNaN(Me))return NaN;var $e=ge();if(isNaN($e)||0===$e)return 0;var Tt=(new Date).getTime()+1e3*I.getClientTimeOffset();return Math.max(((Tt-Me-1e3*$e)/1e3).toFixed(3),0)},play:Ne,isPaused:oe,isStalled:q,pause:at,isSeeking:Q,getStreamEndTime:Fe,seek:Be,seekToOriginalLive:function ye(){var $e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Tt=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Yt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Rt=K();0!==Rt&&Be(Rt-(L=C),$e,Tt,Yt)},seekToCurrentLive:function ve(){var $e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Tt=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Yt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Rt=K();0!==Rt&&Be(Rt-L,$e,Tt,Yt)},reset:Pe,updateCurrentTime:ze,getAvailabilityStartTime:function be(){return Me}},function fe(){B=Object(x.default)(h).getInstance().getLogger(T),Pe()}(),T}i.__dashjs_factory_name="PlaybackController",v.default=_.default.getSingletonFactory(i)},"./src/streaming/controllers/ScheduleController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/ScheduleController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),A=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),_=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),x=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),g=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),d=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function i(h){h=h||{};var C,U,z,ne,te,Me,J,ce,W,Se,le,Ee,xe,p=this.context,T=Object(A.default)(p).getInstance(),B=h.dashMetrics,P=h.mediaPlayerModel,k=h.fragmentModel,F=h.abrController,O=h.playbackController,D=h.textController,I=h.type,S=h.bufferController,L=h.settings;function De(ht){if(!S.getIsBufferingCompleted()){Re();var Et=isNaN(ht)?0:ht;Me=setTimeout(Ne,Et)}}function Re(){Me&&(clearTimeout(Me),Me=null)}function Ne(){try{if(function Be(){try{return I===n.default.TEXT&&!D.isTextEnabled()||O.isPaused()&&(!O.getStreamController().getInitialPlayback()||!O.getStreamController().getAutoPlay())&&!L.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void Re();if(function ye(){try{return ne&&(isNaN(Se)||le||function Fe(){var Et=F.getMaxAllowedIndexFor(I,U.id);return!(!isNaN(W)&&W==Et||(z.info("Top quality "+I+" index has changed from "+W+" to "+Et),W=Et,0))}()||function ve(){return!I||!ne||B.getCurrentBufferLevel(I)<K()}())}catch{return!1}}()){var ht=!1;xe&&(ht=F.checkPlaybackQuality(I,U.id)),ht||function at(){Ee||ne.quality!==Se||le?(le?(z.debug("Switch track for "+I+", representation id = "+ne.id),le=!1):z.debug("Quality has changed, get init request for representationid = "+ne.id),T.trigger(_.default.INIT_FRAGMENT_NEEDED,{representationId:ne.id,sender:C},{streamId:U.id,mediaType:I}),xe=!1,Ee=!1):(z.debug("Media segment needed for ".concat(I," and stream id ").concat(U.id)),T.trigger(_.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:U.id,mediaType:I}),xe=!0)}()}else De(O.getLowLatencyModeEnabled()?L.get().streaming.scheduling.lowLatencyTimeout:L.get().streaming.scheduling.defaultTimeout)}catch{De(O.getLowLatencyModeEnabled()?L.get().streaming.scheduling.lowLatencyTimeout:L.get().streaming.scheduling.defaultTimeout)}}function K(){var ht=NaN;return!I||!ne||(ht=I===n.default.TEXT?function se(){try{if(D.isTextEnabled()){if(isNaN(ne.fragmentDuration)){var ht=B.getCurrentSchedulingInfo(g.default.SCHEDULING_INFO);return ht?ht.duration:0}return ne.fragmentDuration}return 0}catch{return 0}}():I===n.default.AUDIO&&J?function ge(){try{var ht=B.getCurrentBufferLevel(n.default.VIDEO);return isNaN(ne.fragmentDuration)?ht+1:Math.max(ht+1,ne.fragmentDuration)}catch{return 0}}():function oe(){try{var ht=ne.mediaInfo.streamInfo;return F.isPlayingAtTopQuality(ht)?ht.manifestInfo.duration>=L.get().streaming.buffer.longFormContentDurationThreshold?L.get().streaming.buffer.bufferTimeAtTopQualityLongForm:L.get().streaming.buffer.bufferTimeAtTopQuality:P.getStableBufferTime()}catch{return P.getStableBufferTime()}}()),ht}function $(){ie(!0)}function ie(ht){if(O&&k){var Et=k.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,time:O.getTime(),threshold:0})[0];Et&&O.getTime()>=Et.startTime&&((!ce.mediaInfo||Et.mediaInfo.type===ce.mediaInfo.type&&Et.mediaInfo.id!==ce.mediaInfo.id)&&ht&&T.trigger(_.default.TRACK_CHANGE_RENDERED,{mediaType:I,oldMediaInfo:ce.mediaInfo,newMediaInfo:Et.mediaInfo,streamId:U.id}),(Et.quality!==ce.quality||Et.adaptationIndex!==ce.adaptationIndex)&&ht&&(z.debug("Quality change rendered for streamId ".concat(U.id," and type ").concat(I)),T.trigger(_.default.QUALITY_CHANGE_RENDERED,{mediaType:I,oldQuality:ce.quality,newQuality:Et.quality,streamId:U.id})),ce={mediaInfo:Et.mediaInfo,quality:Et.quality,adaptationIndex:Et.adaptationIndex})}}function Z(ht){z.debug("Appended bytes for ".concat(ht.mediaType," and stream id ").concat(U.id)),(isNaN(ht.index)||isNaN(Se))&&(Se=ht.quality,z.info("["+I+"] lastInitializedRepresentationInfo changed to "+ht.quality)),De(0)}function X(){k.abortRequests(),Re()}function pe(){L.get().streaming.scheduling.scheduleWhilePaused||De()}function Te(ht){B.updatePlayListTraceMetrics({playbackspeed:ht.playbackRate.toString()})}function qe(){xe=!0,te=0,Se=NaN,ce={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},W=NaN,le=!1,Ee=!1}return C={initialize:function fe(ht){J=ht,T.on(_.default.BYTES_APPENDED_END_FRAGMENT,Z,C),T.on(_.default.URL_RESOLUTION_FAILED,X,C),T.on(d.default.PLAYBACK_STARTED,pe,C),T.on(d.default.PLAYBACK_RATE_CHANGED,Te,C),T.on(d.default.PLAYBACK_TIME_UPDATED,$,C)},getType:function Pe(){return I},getStreamId:function Ce(){return U.id},setCurrentRepresentation:function me(ht){ne=ht},setTimeToLoadDelay:function be(ht){te=ht},getTimeToLoadDelay:function Le(){return te},setSwitchTrack:function Q(ht){le=ht},getSwitchStrack:function q(){return le},startScheduleTimer:De,clearScheduleTimer:Re,reset:function ft(){T.off(_.default.BYTES_APPENDED_END_FRAGMENT,Z,C),T.off(_.default.URL_RESOLUTION_FAILED,X,C),T.off(d.default.PLAYBACK_STARTED,pe,C),T.off(d.default.PLAYBACK_RATE_CHANGED,Te,C),T.off(d.default.PLAYBACK_TIME_UPDATED,$,C),Re(),ie(!1),qe(),U=null},getBufferTarget:K,getPlaybackController:function ze(){return O},setCheckPlaybackQuality:function et(ht){xe=ht},setInitSegmentRequired:function Qe(ht){Ee=ht}},function Ve(){z=Object(w.default)(p).getInstance().getLogger(C),qe(),U=h.streamInfo}(),C}i.__dashjs_factory_name="ScheduleController",v.default=x.default.getClassFactory(i)},"./src/streaming/controllers/StreamController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/StreamController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),A=e(
/*! ../Stream */
"./src/streaming/Stream.js"),_=e(
/*! ../ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),x=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),d=e(
/*! ../vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),i=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),h=e(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),p=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),T=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),B=e(
/*! ./TimeSyncController */
"./src/streaming/controllers/TimeSyncController.js"),P=e(
/*! ./MediaSourceController */
"./src/streaming/controllers/MediaSourceController.js"),k=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),O=e(
/*! ./EventController */
"./src/streaming/controllers/EventController.js"),D=e(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function I(J){return function U(J){if(Array.isArray(J))return z(J)}(J)||function C(J){if(typeof Symbol<"u"&&null!=J[Symbol.iterator]||null!=J["@@iterator"])return Array.from(J)}(J)||function L(J,ce){if(J){if("string"==typeof J)return z(J,ce);var W=Object.prototype.toString.call(J).slice(8,-1);if("Object"===W&&J.constructor&&(W=J.constructor.name),"Map"===W||"Set"===W)return Array.from(J);if("Arguments"===W||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return z(J,ce)}}(J)||function S(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(J,ce){(null==ce||ce>J.length)&&(ce=J.length);for(var W=0,Se=new Array(ce);W<ce;W++)Se[W]=J[W];return Se}function Me(){var W,Se,le,Ee,xe,Ve,fe,Pe,Ce,me,De,Re,Fe,Ne,at,Be,ye,ve,K,se,ge,oe,Q,q,$,ie,Z,X,pe,Te,be,Le,et,Qe,qe,ft,ze,ht,Et,de,He,bt,Ut,Zt,Kt,pn,rn,xt,vt,J=this.context,ce=Object(x.default)(J).getInstance();function ot(){if(!(Ve&&Ve.hasOwnProperty("load")&&oe&&oe.hasOwnProperty("initialize")&&oe.hasOwnProperty("reset")&&oe.hasOwnProperty("getClientTimeOffset")&&fe&&ge&&Ce&&Qe))throw new Error(n.default.MISSING_CONFIG_ERROR)}function qt(){!function Qt(){try{var vn=Pe.getStreamsInfo();if(!q&&0===vn.length)throw new Error("There are no periods in the MPD");q&&vn.length>0&&Ce.updateManifestUpdateInfo({currentTime:Qe.getTime(),buffered:et.getBufferRange(),presentationStartTime:vn[0].start,clientTimeOffset:oe.getClientTimeOffset()}),Q.length>0&&function Eo(vn){0!==vn.length?Q=Q.filter(function(Kn){var qn=vn.filter(function(wi){return wi.id===Kn.getId()}).length>0||Kn.getId()===q.getId();return qn||(Se.debug("Removing stream ".concat(Kn.getId())),Kn.reset(!0)),qn}):Se.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(vn);for(var Kn=[],ri=0,qn=vn.length;ri<qn;ri++){var wi=vn[ri];Kn.push(gn(wi)),Ce.addManifestUpdateStreamInfo(wi)}Promise.all(Kn).then(function(){return Kt.get().streaming.applyContentSteering&&!q&&Re.shouldQueryBeforeStart()?Re.loadSteeringData():Promise.resolve()}).then(function(){q||Tn(vn),ce.trigger(w.default.STREAMS_COMPOSED),_n()}).catch(function(Hi){throw Hi})}catch(Hi){ge.error(new k.default(F.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Hi.message+" nostreamscomposed",fe.getValue())),be=!0,Do()}}()}function fn(){pn=!0}function gn(vn){var Kn=hr(vn.id);return Kn?Kn.updateData(vn):(Kn=Object(A.default)(J).create({manifestModel:fe,mediaPlayerModel:ft,dashMetrics:Ce,manifestUpdater:xe,adapter:Pe,timelineConverter:oe,capabilities:le,capabilitiesFilter:Ee,errHandler:ge,baseURLController:Fe,segmentBaseController:Ne,textController:ie,abrController:Be,playbackController:Qe,eventController:ve,mediaController:ye,protectionController:$,videoModel:et,streamInfo:vn,settings:Kt}),Q.push(Kn),Kn.initialize(),Promise.resolve())}function Tn(vn){Tt();var Kn=Ce.getCurrentDVRInfo().range;if(Kn.end<Kn.start){rn&&clearTimeout(rn);var ri=Math.min(1e3*(-1*(Kn.end-Kn.start)+2),2147483647);return Se.debug("Waiting for ".concat(ri," ms before playback can start")),ce.trigger(w.default.AST_IN_FUTURE,{delay:ri}),void(rn=setTimeout(function(){Tn(vn)},ri))}Kt.get().streaming.applyProducerReferenceTime&&qe.calculateProducerReferenceTimeOffsets(vn);var qn=vn[0].manifestInfo;if(Kt.get().streaming.applyServiceDescription&&qe.applyServiceDescription(qn),Pe.getIsDynamic()){var wi=fo(vn,qn);Qe.computeAndSetLiveDelay(wi,qn)}var Hi=function kr(){var vn;if(Pe.getIsDynamic()){var ri=Ce.getCurrentDVRInfo();vn=(ri&&ri.range?ri.range.end:0)-Qe.getOriginalLiveDelay();var wi=ri?ri.range:null;if(wi){if(isNaN(xt)&&-1===xt.toString().indexOf("posix:")){var Ki=Ar(!0);isNaN(Ki)||(Se.info("Start time from URI parameters: ".concat(Ki)),vn=Math.min(vn,Ki))}else{Se.info("Start time provided by the app: ".concat(xt));var Hi=fr(!0,xt);isNaN(Hi)||(vn=Math.min(vn,Hi))}var ki=Kt.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;vn=Math.max(vn,wi.start+ki)}}else if(vn=ro()[0].getStreamInfo().start,isNaN(xt)){var Ao=Ar(!1);isNaN(Ao)||(Se.info("Start time from URI parameters: ".concat(Ao)),vn=Math.max(vn,Ao))}else{Se.info("Start time provided by the app: ".concat(xt));var mo=fr(!1,xt);isNaN(mo)||(vn=Math.max(vn,mo))}return vn}(),Ki=$e(Hi),ki=null!==Ki?Ki:Q[0];ce.trigger(w.default.INITIAL_STREAM_SWITCH,{startTime:Hi}),Mn(ki,null,Hi),function Un(){He||(He=setInterval(function(){!pe&&Qe.getTimeToStreamEnd()<=0&&!Qe.isSeeking()&&ce.trigger(w.default.PLAYBACK_ENDED,{isLast:Qr().isLast})},200))}()}function Mn(vn,Kn,ri){try{if(pe||!vn||Kn===vn&&vn.getIsActive())return;pe=!0,ce.trigger(w.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:Kn?Kn.getStreamInfo():null,toStreamInfo:vn.getStreamInfo()});var qn=!1;q=vn,Kn&&(qn=dt(vn,Kn),Kn.deactivate(qn)),ri=isNaN(ri)?!qn&&Kn?vn.getStreamInfo().start:NaN:ri,Se.info("Switch to stream ".concat(vn.getId(),". Seektime is ").concat(ri,", current playback time is ").concat(Qe.getTime(),". Seamless period switch is set to ").concat(qn)),Ut=Ut.filter(function(wi){return wi.getId()!==q.getId()}),Qe.initialize(Qr(),!!Kn),et.getElement()&&Gn(ri,qn)}catch{pe=!1}}function Gn(vn,Kn){var ri;function qn(){if(Le&&"open"===Le.readyState){Se.debug("MediaSource is open!"),window.URL.revokeObjectURL(ri),Le.removeEventListener("sourceopen",qn),Le.removeEventListener("webkitsourceopen",qn),en();var Hi=Ce.getCurrentDVRInfo();me.setSeekable(Hi.range.start,Hi.range.end),Zn(vn,Kn)}}function wi(){Le.addEventListener("sourceopen",qn,!1),Le.addEventListener("webkitsourceopen",qn,!1),ri=me.attachMediaSource(et),Se.debug("MediaSource attached to element.  Waiting on open...")}Le?Kn?Zn(vn,Kn):(me.detachMediaSource(et),wi()):(Le=me.createMediaSource(),wi())}function Zn(vn,Kn){q.activate(Le,Kn?bt:void 0,vn).then(function(ri){if(ri){var qn=Object.keys(ri);qn.length>0&&ri[qn[0]].getBuffer().changeType&&(Zt=!0),bt=ri}isNaN(vn)||(ce.trigger(w.default.SEEK_TARGET,{time:vn},{streamId:q.getId()}),Qe.seek(vn,!1,!0),q.startScheduleControllers()),pe=!1,ce.trigger(w.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Qr()})})}function dn(vn){var ri=$e(vn.seekTime);ri&&ri!==q?ri&&ri!==q&&(ln(),function cn(vn,Kn){var ri=vn&&!isNaN(vn.seekTime)?vn.seekTime:NaN,wi=q.getProcessors().map(function(Hi){return Hi.prepareOuterPeriodPlaybackSeeking(vn)});Promise.all(wi).then(function(){Mn(Kn,q,ri)}).catch(function(Hi){ge.error(Hi)})}(vn,ri)):(ln(),function sn(vn){q.getProcessors().forEach(function(ri){return ri.prepareInnerPeriodPlaybackSeeking(vn)}),ho(d.PlayListTrace.USER_REQUEST_STOP_REASON)}(vn)),Dr(d.PlayList.SEEK_START_REASON)}function ln(){un()}function un(){Ut&&Ut.length>0&&(Ut.forEach(function(vn){vn.deactivate(!0)}),Ut=[])}function St(vn){vn.newMediaInfo.streamInfo.id===q.getId()&&(un(),q.prepareTrackChange(vn))}function dt(vn,Kn){try{return Kt.get().streaming.buffer.reuseExistingSourceBuffers&&(Kn.isProtectionCompatible(vn)||pn)&&(Zt||Kn.isMediaCodecCompatible(vn,Kn))}catch{return!1}}function hn(vn){var Kn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Le&&!vn.getPreloaded()&&dt(vn,Kn)&&vn.startPreloading(Le,bt).then(function(){Ut.push(vn)})}function $e(vn){if(isNaN(vn))return null;for(var Kn=Q.length,ri=0;ri<Kn;ri++){var qn=Q[ri];if(vn<parseFloat((qn.getStartTime()+qn.getDuration()).toFixed(5)))return qn}return null}function Tt(){try{var vn=Pe.getIsDynamic(),ri=Pe.getStreamsInfo()[0].manifestInfo,qn=Qe.getTime(),wi=oe.calcTimeShiftBufferWindow(Q,vn),Hi=Cn();if(typeof wi.start>"u"||typeof wi.end>"u")return;Hi&&0!==Hi.length?Hi.forEach(function(Ki){Ce.addDVRInfo(Ki.getType(),qn,ri,wi)}):Ce.addDVRInfo(n.default.VIDEO,qn,ri,wi)}catch{}}function Yt(vn){if(Et&&X){var Kn=ft.getInitialBufferLevel(),ri=[n.default.TEXT];(isNaN(Kn)||Kn<=Qe.getBufferLevel(ri)||Pe.getIsDynamic()&&Kn>Qe.getLiveDelay())&&(Et=!1,Dr(d.PlayList.INITIAL_PLAYOUT_START_REASON),Qe.play())}vn&&vn.mediaType&&Ce.addBufferLevel(vn.mediaType,new Date,1e3*vn.bufferLevel)}function Rt(vn){vn.streamInfo.id===q.getId()&&vn.reason&&vn.reason.forceReplace&&un(),hr(vn.streamInfo.id).prepareQualityChange(vn)}function bn(){if(Pe.getIsDynamic()&&0!==Qe.getOriginalLiveDelay()&&q){var vn=Pe.getStreamsInfo();if(vn.length>0){var Kn=vn[0].manifestInfo,ri=fo(vn,Kn);Qe.computeAndSetLiveDelay(ri,Kn)}}}function Lt(){if(Li()){var vn=et.getPlaybackQuality();vn&&Ce.addDroppedFrames(vn)}}function Ct(){Se.debug("[onPlaybackStarted]"),!Et&&ht&&Dr(d.PlayList.RESUME_FROM_PAUSE_START_REASON),Et&&(Et=!1),de&&(de=!1,Kt.get().streaming.applyContentSteering&&!Re.shouldQueryBeforeStart()&&Re.loadSteeringData()),ht=!1}function Pt(vn){Se.debug("[onPlaybackPaused]"),vn.ended||(ht=!0,ho(d.PlayListTrace.USER_REQUEST_STOP_REASON))}function $t(vn){Se.debug("Stream with id ".concat(vn.streamInfo.id," finished buffering")),Le&&vn.streamInfo.isLast?(Se.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),me.signalEndOfStream(Le)):_n()}function _n(){if(q&&q.getHasFinishedBuffering())for(var vn=function At(){var vn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var Kn=vn||q||null;if(Kn){var ri=Kn.getStreamInfo();return Q.filter(function(qn){var wi=qn.getStreamInfo();return wi.start>ri.start&&ri.id!==wi.id})}}catch{return[]}}(q),Kn=0;Kn<vn.length;){var ri=vn[Kn],qn=0===Kn?q:vn[Kn-1];!ri.getPreloaded()&&qn.getHasFinishedBuffering()&&Le&&hn(ri,qn),Kn+=1}}function Vn(){He&&(clearInterval(He),He=null)}function Cn(){return q?q.getProcessors():[]}function Ae(vn){if(q&&!q.getIsEndedEventSignaled()){q.setIsEndedEventSignaled(!0);var Kn=function Nt(){var Kn=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||q||null;if(!Kn)return null;for(var ri=Kn.getStreamInfo(),qn=ri.start,wi=0,Hi=-1,Ki=NaN;wi<Q.length;){var xr=Q[wi].getStreamInfo(),Vr=xr.start-qn;Vr>0&&(isNaN(Ki)||Vr<Ki)&&ri.id!==xr.id&&(Ki=Vr,Hi=wi),wi+=1}return Hi>=0?Q[Hi]:null}();Kn?(Se.debug("StreamController onEnded, found next stream with id ".concat(Kn.getStreamInfo().id,". Switching from ").concat(q.getStreamInfo().id," to ").concat(Kn.getStreamInfo().id)),Mn(Kn,q,NaN)):(Se.debug("StreamController no next stream found"),q.setIsEndedEventSignaled(!1)),ho(Kn?d.PlayListTrace.END_OF_PERIOD_STOP_REASON:d.PlayListTrace.END_OF_CONTENT_STOP_REASON)}vn&&vn.isLast&&(Vn(),Re.stopSteeringRequestTimer())}function en(vn){var Kn=vn||Qr().manifestInfo.duration;me.setDuration(Kn)}function Ar(vn){var Kn=at.getURIFragmentData();if(!Kn||!Kn.t)return NaN;var qn=ro()[0].getStreamInfo().start;return Kn.t=Kn.t.split(",")[0],bo(vn,Kn.t,qn)}function fr(vn,Kn){var ri=0;return vn||(ri=ro()[0].getStreamInfo().start),bo(vn,Kn,ri)}function bo(vn,Kn,ri){var qn=Pe.getRegularPeriods()[0],wi=Kn.toString(),Hi=-1!==wi.indexOf("posix:")?"now"===wi.substring(6)?Date.now()/1e3:parseFloat(wi.substring(6)):NaN;return vn&&!isNaN(Hi)?oe.calcPresentationTimeFromWallTime(new Date(1e3*Hi),qn):parseFloat(wi)+ri}function fo(vn,Kn){try{var ri=NaN;if(Kn&&!isNaN(Kn.maxFragmentDuration)&&isFinite(Kn.maxFragmentDuration))return Kn.maxFragmentDuration;if(vn&&1===vn.length){var qn=vn[0],Hi=[n.default.VIDEO,n.default.AUDIO,n.default.TEXT].reduce(function(Ki,ki){var xr=Pe.getMediaInfoForType(qn,ki);return xr&&!1!==xr.isFragmented&&Ki.push(xr),Ki},[]).reduce(function(Ki,ki){var xr=Pe.getVoRepresentations(ki);return xr&&xr.length>0&&xr.forEach(function(Vr){Vr&&Ki.push(Vr)}),Ki},[]).reduce(function(Ki,ki){var xr=Pe.convertRepresentationToRepresentationInfo(ki);return xr&&xr.fragmentDuration&&!isNaN(xr.fragmentDuration)&&Ki.push(xr.fragmentDuration),Ki},[]);ri=Math.max.apply(Math,I(Hi))}return isFinite(ri)?ri:NaN}catch{return NaN}}function es(vn){if(vn.error)be=!0,Do();else{Se.info("Manifest updated... updating data system wide.");var Kn=vn.manifest;Pe.updatePeriods(Kn);var ri=Pe.getUTCTimingSources();Pe.getIsDynamic()&&(!ri||0===ri.length)&&ce.trigger(T.default.CONFORMANCE_VIOLATION,{level:D.default.LEVELS.WARNING,event:D.default.EVENTS.NO_UTC_TIMING_ELEMENT});var qn=Pe.getIsDynamic()?ri.concat(ze.getUTCTimingSources()):ri,wi=se.isHTTPS(vn.manifest.url);qn.forEach(function(Hi){Hi.value.replace(/.*?:\/\//g,"")===Kt.get().streaming.utcSynchronization.defaultTimingSource.value.replace(/.*?:\/\//g,"")&&(Hi.value=Hi.value.replace(wi?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),wi?"https://":"http://"),Se.debug("Matching default timing source protocol to manifest protocol: ",Hi.value))}),Ee.filterUnsupportedFeatures(Kn).then(function(){Fe.initialize(Kn),De.attemptSync(qn,Pe.getIsDynamic())})}}function Li(){return!!q&&q.getHasVideoTrack()}function er(){return!!q&&q.getHasAudioTrack()}function ho(vn,Kn){Kn=Kn||new Date,Cn().forEach(function(ri){ri.finalisePlayList(Kn,vn)}),Ce.addPlayList()}function Dr(vn){Ce.createPlaylistMetrics(1e3*Qe.getTime(),vn)}function ts(vn){if(vn.error){var Kn="";switch(vn.error.code){case 1:Kn="MEDIA_ERR_ABORTED";break;case 2:Kn="MEDIA_ERR_NETWORK";break;case 3:Kn="MEDIA_ERR_DECODE",vt.counts.mediaErrorDecode+=1;break;case 4:Kn="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Kn="MEDIA_ERR_ENCRYPTED";break;default:Kn="UNKNOWN"}if("MEDIA_ERR_DECODE"===Kn&&Kt.get().errors.recoverAttempts.mediaErrorDecode>=vt.counts.mediaErrorDecode)return void function Oo(){Se.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var vn=Qe.getTime();q.deactivate(!1),Se.warn("MediaSource has been resetted. Resuming playback from time ".concat(vn)),Gn(vn,!1)}();Te=!0,vn.error.message&&(Kn+=" ("+vn.error.message+")"),vn.error.msExtendedCode&&(Kn+=" (0x"+(vn.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),Se.fatal("Video Element Error: "+Kn),vn.error&&Se.fatal(vn.error),ge.error(new k.default(vn.error.code,Kn)),Do()}}function Qr(){return q?q.getStreamInfo():null}function hr(vn){for(var Kn=0,ri=Q.length;Kn<ri;Kn++)if(Q[Kn].getId()===vn)return Q[Kn];return null}function _i(vn){isNaN(vn.newDuration)||en(vn.newDuration)}function Gr(){Q=[],xt=NaN,$=null,pe=!1,q=null,Te=!1,be=!1,Et=!0,de=!0,ht=!1,X=!0,He=null,pn=!1,Zt=!1,Ut=[],rn=null,vt={counts:{mediaErrorDecode:0}}}function Do(){ot(),De.reset(),ho(Te||be?d.PlayListTrace.FAILURE_STOP_REASON:d.PlayListTrace.USER_REQUEST_STOP_REASON);for(var vn=0,Kn=Q?Q.length:0;vn<Kn;vn++)Q[vn].reset(Te);(function rt(){ce.off(T.default.PLAYBACK_TIME_UPDATED,Lt,W),ce.off(T.default.PLAYBACK_SEEKING,dn,W),ce.off(T.default.PLAYBACK_ERROR,ts,W),ce.off(T.default.PLAYBACK_STARTED,Ct,W),ce.off(T.default.PLAYBACK_PAUSED,Pt,W),ce.off(T.default.PLAYBACK_ENDED,Ae,W),ce.off(T.default.METRIC_ADDED,Or,W),ce.off(T.default.MANIFEST_VALIDITY_CHANGED,_i,W),ce.off(T.default.BUFFER_LEVEL_UPDATED,Yt,W),ce.off(T.default.QUALITY_CHANGE_REQUESTED,Rt,W),w.default.KEY_SESSION_UPDATED&&ce.off(w.default.KEY_SESSION_UPDATED,fn,W),ce.off(w.default.MANIFEST_UPDATED,es,W),ce.off(w.default.STREAM_BUFFERING_COMPLETED,$t,W),ce.off(w.default.TIME_SYNCHRONIZATION_COMPLETED,qt,W),ce.off(w.default.CURRENT_TRACK_CHANGED,St,W),ce.off(w.default.SETTING_UPDATED_LIVE_DELAY,bn,W),ce.off(w.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,bn,W)})(),Fe.reset(),xe.reset(),ve.reset(),Ce.clearAllCurrentMetrics(),fe.setValue(null),Ve.reset(),oe.reset(),K.reset(),Le&&(me.detachMediaSource(et),Le=null),et=null,$&&($=null,Z=null,fe.getValue()&&ce.trigger(w.default.PROTECTION_DESTROYED,{data:fe.getValue().url})),Vn(),ce.trigger(w.default.STREAM_TEARDOWN_COMPLETE),Gr()}function Or(vn){if(vn.metric===b.default.DVR_INFO){var Kn=er()?n.default.AUDIO:n.default.VIDEO;vn.mediaType===Kn&&me.setSeekable(vn.value.range.start,vn.value.range.end)}}function ro(){return Q}return W={initialize:function ke(vn,Kn){ot(),X=vn,Z=Kn,oe.initialize(),(xe=Object(_.default)(J).create()).setConfig({manifestModel:fe,adapter:Pe,manifestLoader:Ve,errHandler:ge,settings:Kt}),xe.initialize(),(ve=Object(O.default)(J).getInstance()).setConfig({manifestUpdater:xe,playbackController:Qe,settings:Kt}),ve.start(),De.setConfig({dashMetrics:Ce,baseURLController:Fe,errHandler:ge,settings:Kt}),De.initialize(),$&&(ce.trigger(w.default.PROTECTION_CREATED,{controller:$}),$.setMediaElement(et.getElement()),Z&&$.setProtectionData(Z)),function Ke(){ce.on(T.default.PLAYBACK_TIME_UPDATED,Lt,W),ce.on(T.default.PLAYBACK_SEEKING,dn,W),ce.on(T.default.PLAYBACK_ERROR,ts,W),ce.on(T.default.PLAYBACK_STARTED,Ct,W),ce.on(T.default.PLAYBACK_PAUSED,Pt,W),ce.on(T.default.PLAYBACK_ENDED,Ae,W),ce.on(T.default.METRIC_ADDED,Or,W),ce.on(T.default.MANIFEST_VALIDITY_CHANGED,_i,W),ce.on(T.default.BUFFER_LEVEL_UPDATED,Yt,W),ce.on(T.default.QUALITY_CHANGE_REQUESTED,Rt,W),w.default.KEY_SESSION_UPDATED&&ce.on(w.default.KEY_SESSION_UPDATED,fn,W),ce.on(w.default.MANIFEST_UPDATED,es,W),ce.on(w.default.STREAM_BUFFERING_COMPLETED,$t,W),ce.on(w.default.TIME_SYNCHRONIZATION_COMPLETED,qt,W),ce.on(w.default.CURRENT_TRACK_CHANGED,St,W),ce.on(w.default.SETTING_UPDATED_LIVE_DELAY,bn,W),ce.on(w.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,bn,W)}()},getActiveStreamInfo:Qr,addDVRMetric:Tt,hasVideoTrack:Li,hasAudioTrack:er,getStreamById:hr,getStreamForTime:$e,getTimeRelativeToStreamId:function Ft(vn,Kn){for(var ri=null,qn=0,wi=0,Hi=null,Ki=0;Ki<Q.length;Ki++){if(wi=(ri=Q[Ki]).getStartTime(),Hi=ri.getDuration(),Number.isFinite(wi)&&(qn=wi),ri.getId()===Kn)return vn-qn;Number.isFinite(Hi)&&(qn+=Hi)}return null},load:function mt(vn){var Kn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;ot(),xt=Kn,Ve.load(vn)},loadWithManifest:function _t(vn){var Kn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function yt(){if(!xe||!xe.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),xt=Kn,xe.setManifest(vn)},getActiveStreamProcessors:Cn,setConfig:function Ni(vn){vn&&(vn.capabilities&&(le=vn.capabilities),vn.capabilitiesFilter&&(Ee=vn.capabilitiesFilter),vn.manifestLoader&&(Ve=vn.manifestLoader),vn.manifestModel&&(fe=vn.manifestModel),vn.mediaPlayerModel&&(ft=vn.mediaPlayerModel),vn.customParametersModel&&(ze=vn.customParametersModel),vn.protectionController&&($=vn.protectionController),vn.adapter&&(Pe=vn.adapter),vn.dashMetrics&&(Ce=vn.dashMetrics),vn.errHandler&&(ge=vn.errHandler),vn.timelineConverter&&(oe=vn.timelineConverter),vn.videoModel&&(et=vn.videoModel),vn.playbackController&&(Qe=vn.playbackController),vn.serviceDescriptionController&&(qe=vn.serviceDescriptionController),vn.contentSteeringController&&(Re=vn.contentSteeringController),vn.textController&&(ie=vn.textController),vn.abrController&&(Be=vn.abrController),vn.mediaController&&(ye=vn.mediaController),vn.settings&&(Kt=vn.settings),vn.baseURLController&&(Fe=vn.baseURLController),vn.uriFragmentModel&&(at=vn.uriFragmentModel),vn.segmentBaseController&&(Ne=vn.segmentBaseController))},setProtectionData:function qi(vn){Z=vn,$&&$.setProtectionData(Z)},getIsStreamSwitchInProgress:function qr(){return pe},switchToVideoElement:function ir(vn){q&&(Qe.initialize(Qr()),Gn(vn,!1))},getHasMediaOrInitialisationError:function Uo(){return Te||be},getStreams:ro,getActiveStream:function wn(){return q},getInitialPlayback:function ci(){return Et},getAutoPlay:function nr(){return X},reset:Do},function nt(){Se=Object(i.default)(J).getInstance().getLogger(W),De=Object(B.default)(J).getInstance(),me=Object(P.default)(J).getInstance(),K=Object(h.default)(J).getInstance(),se=Object(p.default)(J).getInstance(),Gr()}(),W}Me.__dashjs_factory_name="StreamController",v.default=g.default.getSingletonFactory(Me)},"./src/streaming/controllers/TimeSyncController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/TimeSyncController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),A=e(
/*! ./../../core/EventBus */
"./src/core/EventBus.js"),_=e(
/*! ./../../core/events/Events */
"./src/core/events/Events.js"),x=e(
/*! ./../../core/errors/Errors */
"./src/core/errors/Errors.js"),w=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),d=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function O(){var C,U,z,ne,te,Me,J,ce,W,Se,le,Ee,xe,Ve,fe,Pe,I=this.context,S=Object(A.default)(I).getInstance(),L=Object(d.default)(I).getInstance();function De(){ce=[],W=[],Se=null,le=null,xe=null,Ee=NaN,z=!1,ne=!1,Ve=te.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function Ne(){!te.get().streaming.utcSynchronization.enabled||z||ne||!xe||!xe.value||!xe.schemeIdUri||isNaN(Ee)||isNaN(te.get().streaming.utcSynchronization.backgroundAttempts)||le&&(Date.now()-le)/1e3<30||(ce=[],ne=!0,at(isNaN(te.get().streaming.utcSynchronization.backgroundAttempts)?2:te.get().streaming.utcSynchronization.backgroundAttempts))}function at(Qe){try{if(Qe<=0)return void be();var qe=Date.now();Me[xe.schemeIdUri](xe.value,function(ft){var ze=Date.now(),ht=ye(qe,ze,ft);ce.push(ht),at(Qe-1)},function(){be()})}catch{be()}}function Be(){var qe=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!W||0===W.length||qe>=W.length)K();else{var ft=W[qe];if(ft)if(Me.hasOwnProperty(ft.schemeIdUri)){var ze=(new Date).getTime();Me[ft.schemeIdUri](ft.value,function(ht){var Et=(new Date).getTime(),de=ye(ze,Et,ht);xe=ft,K(de)},function(){Be(qe+1)})}else Be(qe+1);else K()}}function ye(Qe,qe,ft){return ft-(qe-(qe-Qe)/2)}function K(){var Qe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,qe=isNaN(Qe);qe&&te.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function X(){var Qe=J.getLatestMPDRequestHeaderValueByID("Date"),qe=null!==Qe?new Date(Qe).getTime():Number.NaN;isNaN(qe)?pe(!0):pe(!1,qe-Date.now())}():pe(qe,Qe)}function ge(Qe){var qe=Date.parse(Qe);return isNaN(qe)&&(qe=function se(Qe){var Et,de,He=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Qe);return Et=Date.UTC(parseInt(He[1],10),parseInt(He[2],10)-1,parseInt(He[3],10),parseInt(He[4],10),parseInt(He[5],10),He[6]&&(parseInt(He[6],10)||0),He[7]&&1e3*parseFloat(He[7])||0),He[9]&&He[10]&&(de=60*parseInt(He[9],10)+parseInt(He[10],10),Et+=("+"===He[8]?-1:1)*de*60*1e3),new Date(Et).getTime()}(Qe)),qe}function oe(Qe){return Date.parse(Qe)}function Q(Qe){return Date.parse(Qe)}function q(Qe,qe,ft){ft()}function $(Qe,qe,ft){var ze=ge(Qe);isNaN(ze)?ft():qe(ze)}function ie(Qe,qe,ft,ze,ht){var Et,de,He=!1,bt=new XMLHttpRequest,Ut=ht?b.HTTPRequest.HEAD:b.HTTPRequest.GET,Zt=qe.match(/\S+/g);if(qe=Zt.shift(),Et=function(){He||(He=!0,Zt.length?ie(Qe,Zt.join(" "),ft,ze,ht):ze())},de=function(){var rn,xt;200===bt.status&&(rn=ht?bt.getResponseHeader("Date"):bt.response,xt=Qe(rn),isNaN(xt)||(ft(xt),He=!0))},L.isRelative(qe)){var Kt=Pe.resolve();Kt&&(qe=L.resolve(qe,Kt.url))}bt.open(Ut,qe),bt.timeout=5e3,bt.onload=de,bt.onloadend=Et,bt.send()}function Z(Qe,qe,ft){ie(Q,Qe,qe,ft,!0)}function pe(Qe,qe){if(!isNaN(Ee)&&!isNaN(qe)&&!Qe&&function Te(Qe){try{var de,qe=Le(Qe),ft=isNaN(Ve)?30:Ve,ze=isNaN(te.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:te.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,ht=isNaN(te.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:te.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,Et=isNaN(te.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:te.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;qe?(de=Math.min(ft*ze,ht),U.debug("Increasing timeBetweenSyncAttempts to ".concat(de))):(de=Math.max(ft/ze,Et),U.debug("Decreasing timeBetweenSyncAttempts to ".concat(de))),Ve=de}catch{}}(qe),!Qe&&!isNaN(qe)){Se=Date.now(),z=!1;var ft=isNaN(Ee);Ee=qe,ft&&Ne(),U.debug("Completed UTC sync. Setting client - server offset to ".concat(qe))}Qe&&(xe=null,z=!1,fe.error(new n.default(x.default.TIME_SYNC_FAILED_ERROR_CODE,x.default.TIME_SYNC_FAILED_ERROR_MESSAGE))),S.trigger(_.default.UPDATE_TIME_SYNC_OFFSET,{offset:qe}),S.trigger(_.default.TIME_SYNCHRONIZATION_COMPLETED)}function be(){if(ce&&0!==ce.length){var Qe=ce.reduce(function(qe,ft){return qe+ft},0)/ce.length;Le(Qe)?U.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(U.debug("Completed background UTC sync. Setting client - server offset to ".concat(Qe)),S.trigger(_.default.UPDATE_TIME_SYNC_OFFSET,{offset:Ee=Qe})),ne=!1,le=Date.now()}}function Le(Qe){try{if(isNaN(Ee))return!0;var qe=te.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(te.get().streaming.utcSynchronization.maximumAllowedDrift)?te.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Qe>=Ee-qe&&Qe<=Ee+qe}catch{return!0}}return C={initialize:function Re(){De(),Me={"urn:mpeg:dash:utc:http-head:2014":Z,"urn:mpeg:dash:utc:http-xsdate:2014":ie.bind(null,ge),"urn:mpeg:dash:utc:http-iso:2014":ie.bind(null,oe),"urn:mpeg:dash:utc:direct:2014":$,"urn:mpeg:dash:utc:http-head:2012":Z,"urn:mpeg:dash:utc:http-xsdate:2012":ie.bind(null,ge),"urn:mpeg:dash:utc:http-iso:2012":ie.bind(null,oe),"urn:mpeg:dash:utc:direct:2012":$,"urn:mpeg:dash:utc:http-ntp:2014":q,"urn:mpeg:dash:utc:ntp:2014":q,"urn:mpeg:dash:utc:sntp:2014":q}},attemptSync:function Fe(Qe,qe){if(W=Qe,!z){if(!function ve(Qe){try{if(!Qe||!te.get().streaming.utcSynchronization.enabled)return!1;var qe=isNaN(Ve)?30:Ve;return!(Se&&qe&&!isNaN(qe))||(Date.now()-Se)/1e3>=qe}catch{return!0}}(qe))return void S.trigger(_.default.TIME_SYNCHRONIZATION_COMPLETED);z=!0,Be()}},setConfig:function me(Qe){Qe&&(Qe.dashMetrics&&(J=Qe.dashMetrics),Qe.baseURLController&&(Pe=Qe.baseURLController),Qe.errHandler&&(fe=Qe.errHandler),Qe.settings&&(te=Qe.settings))},reset:function et(){De(),S.off(_.default.ATTEMPT_BACKGROUND_SYNC,Ne,C)}},function Ce(){U=Object(g.default)(I).getInstance().getLogger(C),S.on(_.default.ATTEMPT_BACKGROUND_SYNC,Ne,C)}(),C}O.__dashjs_factory_name="TimeSyncController";var D=w.default.getSingletonFactory(O);D.HTTP_TIMEOUT_MS=5e3,w.default.updateSingletonFactory(O.__dashjs_factory_name,D),v.default=D},"./src/streaming/controllers/XlinkController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/XlinkController.js ***!
                  \******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../XlinkLoader */
"./src/streaming/XlinkLoader.js"),b=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),A=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),_=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),x=e(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),w=e(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),g=e(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),d="onLoad";function p(T){T=T||{};var F,O,D,I,S,L,B=this.context,P=Object(b.default)(B).getInstance(),k=Object(w.default)(B).getInstance();function Me(Ve,fe,Pe){var me,De,Ce={};Ce.elements=Ve,Ce.type=fe,Ce.resolveType=Pe,0===Ce.elements.length&&ce(Ce);for(var Re=0;Re<Ce.elements.length;Re++)De=k.isHTTPURL((me=Ce.elements[Re]).url)?me.url:me.originalContent.BaseURL+me.url,L.load(De,me,Ce)}function J(Ve){var fe,Pe,De="";if(Pe=Ve.resolveObject,(fe=Ve.element).resolvedContent){var Re=0;0===fe.resolvedContent.indexOf("<?xml")&&(Re=fe.resolvedContent.indexOf("?>")+2),De=fe.resolvedContent.substr(0,Re)+"<response>"+fe.resolvedContent.substr(Re)+"</response>",fe.resolvedContent=S.xml_str2json(De)}(function Ee(Ve){var fe;for(fe=0;fe<Ve.elements.length;fe++)if(!1===Ve.elements[fe].resolved)return!1;return!0})(Pe)&&ce(Pe)}function ce(Ve){var Pe,Ce,fe=[];if(function Se(Ve){var Pe,Ce,De,Re,Fe,fe=[];for(De=Ve.elements.length-1;De>=0;De--){if(Ce=(Pe=Ve.elements[De]).type+"_asArray",Pe.resolvedContent){if(Pe.resolvedContent)for(Re=0;Re<Pe.resolvedContent[Ce].length;Re++)fe.push(Pe.resolvedContent[Ce][Re])}else delete Pe.originalContent["xlink:actuate"],delete Pe.originalContent["xlink:href"],fe.push(Pe.originalContent);for(Pe.parentElement[Ce].splice(Pe.index,1),Fe=0;Fe<fe.length;Fe++)Pe.parentElement[Ce].splice(Pe.index+Fe,0,fe[Fe]);fe=[]}Ve.elements.length>0&&D.run(I)}(Ve),"onActuate"===Ve.resolveType&&P.trigger(A.default.XLINK_READY,{manifest:I}),Ve.resolveType===d)switch(Ve.type){case g.default.PERIOD:for(Pe=0;Pe<I[g.default.PERIOD+"_asArray"].length;Pe++)(Ce=I[g.default.PERIOD+"_asArray"][Pe]).hasOwnProperty(g.default.ADAPTATION_SET+"_asArray")&&(fe=fe.concat(W(Ce[g.default.ADAPTATION_SET+"_asArray"],Ce,g.default.ADAPTATION_SET,d))),Ce.hasOwnProperty(g.default.EVENT_STREAM+"_asArray")&&(fe=fe.concat(W(Ce[g.default.EVENT_STREAM+"_asArray"],Ce,g.default.EVENT_STREAM,d)));Me(fe,g.default.ADAPTATION_SET,d);break;case g.default.ADAPTATION_SET:P.trigger(A.default.XLINK_READY,{manifest:I})}}function W(Ve,fe,Pe,Ce){var De,Re,Fe,me=[];for(Re=Ve.length-1;Re>=0;Re--)(De=Ve[Re]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===De["xlink:href"]&&Ve.splice(Re,1);for(Re=0;Re<Ve.length;Re++)(De=Ve[Re]).hasOwnProperty("xlink:href")&&De.hasOwnProperty("xlink:actuate")&&De["xlink:actuate"]===Ce&&(Fe=le(De["xlink:href"],fe,Pe,Re,Ce,De),me.push(Fe));return me}function le(Ve,fe,Pe,Ce,me,De){return{url:Ve,parentElement:fe,type:Pe,index:Ce,resolveType:me,originalContent:De,resolvedContent:null,resolved:!1}}return F={resolveManifestOnLoad:function ne(Ve){S=new x.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:O}),(I=Ve).Period_asArray?Me(W(I.Period_asArray,I,g.default.PERIOD,d),g.default.PERIOD,d):P.trigger(A.default.XLINK_READY,{manifest:I})},setMatchers:function U(Ve){Ve&&(O=Ve)},setIron:function z(Ve){Ve&&(D=Ve)},reset:function te(){P.off(A.default.XLINK_ELEMENT_LOADED,J,F),L&&(L.reset(),L=null)}},function C(){P.on(A.default.XLINK_ELEMENT_LOADED,J,F),L=Object(n.default)(B).create({errHandler:T.errHandler,dashMetrics:T.dashMetrics,mediaPlayerModel:T.mediaPlayerModel,requestModifier:T.requestModifier,settings:T.settings})}(),F}p.__dashjs_factory_name="XlinkController",v.default=_.default.getClassFactory(p)},"./src/streaming/metrics/MetricsReporting.js":
/*!***************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReporting.js ***!
                  \***************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./utils/DVBErrorsTranslator */
"./src/streaming/metrics/utils/DVBErrorsTranslator.js"),b=e(
/*! ./MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),A=e(
/*! ./controllers/MetricsCollectionController */
"./src/streaming/metrics/controllers/MetricsCollectionController.js"),_=e(
/*! ./metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js"),x=e(
/*! ./reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function w(){var d=this.context;return{createMetricsReporting:function p(P){return Object(n.default)(d).getInstance({eventBus:P.eventBus,dashMetrics:P.dashMetrics,metricsConstants:P.metricsConstants,events:P.events}).initialise(),Object(A.default)(d).create(P)},getReportingFactory:function T(){return Object(x.default)(d).getInstance()},getMetricsHandlerFactory:function B(){return Object(_.default)(d).getInstance()}}}w.__dashjs_factory_name="MetricsReporting";var g=dashjs.FactoryMaker.getClassFactory(w);g.events=b.default,dashjs.FactoryMaker.updateClassFactory(w.__dashjs_factory_name,g),v.default=g},"./src/streaming/metrics/MetricsReportingEvents.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReportingEvents.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function A(O,D){for(var I=0;I<D.length;I++){var S=D[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(O,x(S.key),S)}}function x(O){var D=function w(O,D){if("object"!==b(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var S=I.call(O,D||"default");if("object"!==b(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===b(D)?D:String(D)}function d(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&i(O,D)}function i(O,D){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,L){return S.__proto__=L,S})(O,D)}function h(O){var D=function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,S=P(O);if(D){var C=P(this).constructor;L=Reflect.construct(S,arguments,C)}else L=S.apply(this,arguments);return function p(O,D){if(D&&("object"===b(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function T(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function P(O){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(v);var F=new(function(O){d(I,O);var D=h(I);function I(){var S;return function g(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),(S=D.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",S.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",S.CMCD_DATA_GENERATED="cmcdDataGenerated",S}return function _(O,D,I){return D&&A(O.prototype,D),I&&A(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));v.default=F},"./src/streaming/metrics/controllers/MetricsCollectionController.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsCollectionController.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./MetricsController */
"./src/streaming/metrics/controllers/MetricsController.js"),b=e(
/*! ../utils/ManifestParsing */
"./src/streaming/metrics/utils/ManifestParsing.js"),A=e(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function _(x){var w,g={},d=this.context,i=(x=x||{}).eventBus,h=x.events;function p(k){if(!k.error){var F=Object.keys(g);Object(b.default)(d).getInstance({adapter:x.adapter,constants:x.constants}).getMetrics(k.manifest).forEach(function(D){var I=JSON.stringify(D);if(g.hasOwnProperty(I))F.splice(I,1);else try{var S=Object(n.default)(d).create(x);S.initialize(D),g[I]=S}catch{}}),F.forEach(function(D){g[D].reset(),delete g[D]}),i.trigger(A.default.METRICS_INITIALISATION_COMPLETE)}}function T(){Object.keys(g).forEach(function(k){g[k].reset()}),g={}}return w={reset:function P(){i.off(h.MANIFEST_UPDATED,p,w),i.off(h.STREAM_TEARDOWN_COMPLETE,T,w)}},function B(){i.on(h.MANIFEST_UPDATED,p,w),i.on(h.STREAM_TEARDOWN_COMPLETE,T,w)}(),w}_.__dashjs_factory_name="MetricsCollectionController",v.default=dashjs.FactoryMaker.getClassFactory(_)},"./src/streaming/metrics/controllers/MetricsController.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsController.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./RangeController */
"./src/streaming/metrics/controllers/RangeController.js"),b=e(
/*! ./ReportingController */
"./src/streaming/metrics/controllers/ReportingController.js"),A=e(
/*! ./MetricsHandlersController */
"./src/streaming/metrics/controllers/MetricsHandlersController.js");function _(x){x=x||{};var w,g,d,h=this.context;function T(){w&&w.reset(),g&&g.reset(),d&&d.reset()}return{initialize:function p(B){try{(d=Object(n.default)(h).create({mediaElement:x.mediaElement})).initialize(B.Range),(g=Object(b.default)(h).create({debug:x.debug,metricsConstants:x.metricsConstants,mediaPlayerModel:x.mediaPlayerModel})).initialize(B.Reporting,d),(w=Object(A.default)(h).create({debug:x.debug,eventBus:x.eventBus,metricsConstants:x.metricsConstants,events:x.events})).initialize(B.metrics,g)}catch(P){throw T(),P}},reset:T}}_.__dashjs_factory_name="MetricsController",v.default=dashjs.FactoryMaker.getClassFactory(_)},"./src/streaming/metrics/controllers/MetricsHandlersController.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsHandlersController.js ***!
                  \************************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js");function b(A){var x,_=[],w=this.context,g=(A=A||{}).eventBus,d=A.events,i=Object(n.default)(w).getInstance({debug:A.debug,eventBus:A.eventBus,metricsConstants:A.metricsConstants});function h(B){_.forEach(function(P){P.handleNewMetric(B.metric,B.value,B.mediaType)})}return x={initialize:function p(B,P){B.split(",").forEach(function(k,F,O){var D;if(-1!==k.indexOf("(")&&-1===k.indexOf(")")){var I=O[F+1];I&&-1===I.indexOf("(")&&-1!==I.indexOf(")")&&(k+=","+I,delete O[F+1])}(D=i.create(k,P))&&_.push(D)}),g.on(d.METRIC_ADDED,h,x),g.on(d.METRIC_UPDATED,h,x)},reset:function T(){g.off(d.METRIC_ADDED,h,x),g.off(d.METRIC_UPDATED,h,x),_.forEach(function(B){return B.reset()}),_=[]}}}b.__dashjs_factory_name="MetricsHandlersController",v.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/controllers/RangeController.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/RangeController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js");function b(A){var w,g,_=!1,x=this.context,d=(A=A||{}).mediaElement;return w={initialize:function i(B){B&&B.length&&(B.forEach(function(P){var k=P.starttime;g.add(k,k+P.duration)}),_=!!B[0]._useWallClockTime)},reset:function h(){g.clear()},isEnabled:function T(){var P,B=g.length;if(!B)return!0;P=_?(new Date).getTime()/1e3:d.currentTime;for(var k=0;k<B;k+=1){var F=g.start(k),O=g.end(k);if(F<=P&&P<O)return!0}return!1}},function p(){g=Object(n.default)(x).create()}(),w}b.__dashjs_factory_name="RangeController",v.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/controllers/ReportingController.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/ReportingController.js ***!
                  \******************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function b(A){var _=[],w=Object(n.default)(this.context).getInstance(A);return{initialize:function g(h,p){h.some(function(T){var B=w.create(T,p);if(B)return _.push(B),!0})},reset:function d(){_.forEach(function(h){return h.reset()}),_=[]},report:function i(h,p){_.forEach(function(T){return T.report(h,p)})}}}b.__dashjs_factory_name="ReportingController",v.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/metrics/MetricsHandlerFactory.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/MetricsHandlerFactory.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./handlers/BufferLevelHandler */
"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js"),b=e(
/*! ./handlers/DVBErrorsHandler */
"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js"),A=e(
/*! ./handlers/HttpListHandler */
"./src/streaming/metrics/metrics/handlers/HttpListHandler.js"),_=e(
/*! ./handlers/GenericMetricHandler */
"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");function x(w){var g,d=(w=w||{}).debug?w.debug.getLogger(g):{},i=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,h=this.context,p={BufferLevel:n.default,DVBErrors:b.default,HttpList:A.default,PlayList:_.default,RepSwitchList:_.default,TcpList:_.default};return{create:function T(k,F){var D,O=k.match(i);if(O){try{(D=p[O[1]](h).create({eventBus:w.eventBus,metricsConstants:w.metricsConstants})).initialize(O[1],F,O[3],O[5])}catch(I){D=null,d.error("MetricsHandlerFactory: Could not create handler for type ".concat(O[1]," with args ").concat(O[3],", ").concat(O[5]," (").concat(I.message,")"))}return D}},register:function B(k,F){p[k]=F},unregister:function P(k){delete p[k]}}}x.__dashjs_factory_name="MetricsHandlerFactory",v.default=dashjs.FactoryMaker.getSingletonFactory(x)},"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function b(A){A=A||{};var x,w,g,d,i,h=this.context,p=Object(n.default)(h).getInstance(),T=[],B=A.metricsConstants;function k(){var I=function P(){try{return Object.keys(T).map(function(I){return T[I]}).reduce(function(I,S){return I.level<S.level?I:S})}catch{return}}();I&&i!==I.t&&(i=I.t,x.report(g,I))}return{initialize:function F(I,S,L){S&&(w=p.validateN(L),x=S,g=p.reconstructFullMetricName(I,L),d=setInterval(k,w))},reset:function O(){clearInterval(d),d=null,w=0,x=null,i=null},handleNewMetric:function D(I,S,L){I===B.BUFFER_LEVEL&&(T[L]=S)}}}b.__dashjs_factory_name="BufferLevelHandler",v.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js":
/*!********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js ***!
                  \********************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");v.default=dashjs.FactoryMaker.getClassFactory(function b(A){var x,w=(A=A||{}).eventBus,g=A.metricsConstants;function d(){w.off(n.default.METRICS_INITIALISATION_COMPLETE,d,this),w.trigger(n.default.BECAME_REPORTING_PLAYER)}return{initialize:function i(T,B){B&&(x=B,w.on(n.default.METRICS_INITIALISATION_COMPLETE,d,this))},reset:function h(){x=null},handleNewMetric:function p(T,B){T===g.DVB_ERRORS&&x&&x.report(T,B)}}})},"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js ***!
                  \************************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(){var A,_;return{initialize:function x(d,i){A=d,_=i},reset:function w(){_=null,A=void 0},handleNewMetric:function g(d,i){d===A&&_&&_.report(A,i)}}}e.r(v),n.__dashjs_factory_name="GenericMetricHandler",v.default=dashjs.FactoryMaker.getClassFactory(n)},"./src/streaming/metrics/metrics/handlers/HttpListHandler.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/HttpListHandler.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function b(A){A=A||{};var x,w,g,d,i,h=[],p=Object(n.default)(this.context).getInstance(),T=A.metricsConstants;function B(){h.length&&x&&x.report(d,h),h=[]}return{initialize:function P(O,D,I,S){D&&(w=p.validateN(I),x=D,S&&S.length&&(g=S),d=p.reconstructFullMetricName(O,I,S),i=setInterval(B,w))},reset:function k(){clearInterval(i),i=null,w=null,g=null,h=[],x=null},handleNewMetric:function F(O,D){O===T.HTTP_REQUEST&&(!g||g===D.type)&&h.push(D)}}}b.__dashjs_factory_name="HttpListHandler",v.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/reporting/ReportingFactory.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/ReportingFactory.js ***!
                  \*************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./reporters/DVBReporting */
"./src/streaming/metrics/reporting/reporters/DVBReporting.js");function b(A){var w,_={"urn:dvb:dash:reporting:2014":n.default},x=this.context,g=(A=A||{}).debug?A.debug.getLogger(w):{},d=A.metricsConstants,i=A.mediaPlayerModel||{};return{create:function h(B,P){var k;try{(k=_[B.schemeIdUri](x).create({metricsConstants:d,mediaPlayerModel:i})).initialize(B,P)}catch(F){k=null,g.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(B.schemeIdUri," (").concat(F.message,")"))}return k},register:function p(B,P){_[B]=P},unregister:function T(B){delete _[B]}}}b.__dashjs_factory_name="ReportingFactory",v.default=dashjs.FactoryMaker.getSingletonFactory(b)},"./src/streaming/metrics/reporting/reporters/DVBReporting.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/reporters/DVBReporting.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../utils/MetricSerialiser */
"./src/streaming/metrics/utils/MetricSerialiser.js"),b=e(
/*! ../../utils/RNG */
"./src/streaming/metrics/utils/RNG.js"),A=e(
/*! ../../../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function _(x){var w,d,i,h,p,T,B,P,g=this.context,O=[],D=(x=x||{}).metricsConstants;function U(){p=!1,T=!1,B=null,P=null}return w={report:function L(ne,te){Array.isArray(te)||(te=[te]),T&&P.isEnabled()&&te.forEach(function(Me){var J=d.serialise(Me);ne!==D.DVB_ERRORS&&(J="metricname=".concat(ne,"&").concat(J)),function S(ne,te,Me){var J=new XMLHttpRequest;J.withCredentials=i.getXHRWithCredentialsForType(D.HTTP_REQUEST_DVB_REPORTING_TYPE);var ce=function(){var Se=O.indexOf(J);-1!==Se&&(O.splice(Se,1),J.status>=200&&J.status<300?te&&te():Me&&Me())};O.push(J);try{J.open("GET",ne),J.onloadend=ce,J.onerror=ce,J.send()}catch{J.onerror()}}(J="".concat(B,"?").concat(J),null,function(){T=!1})})},initialize:function C(ne,te){var Me;if(P=te,!(B=ne.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");p||((Me=ne.dvb_probability)&&(1e3===Me||Me/1e3>=h.random())&&(T=!0),p=!0)},reset:function z(){U()}},function I(){d=Object(n.default)(g).getInstance(),h=Object(b.default)(g).getInstance(),i=Object(A.default)(g).getInstance(),U()}(),w}_.__dashjs_factory_name="DVBReporting",v.default=dashjs.FactoryMaker.getClassFactory(_)},"./src/streaming/metrics/utils/DVBErrorsTranslator.js":
/*!************************************************************!*\
                  !*** ./src/streaming/metrics/utils/DVBErrorsTranslator.js ***!
                  \************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../vo/DVBErrors */
"./src/streaming/metrics/vo/DVBErrors.js"),b=e(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function A(_){var x,w,g=(_=_||{}).eventBus,d=_.dashMetrics,i=_.metricsConstants,h=_.events;function p(S){var L=new n.default;if(w){for(var C in S)S.hasOwnProperty(C)&&(L[C]=S[C]);L.mpdurl||(L.mpdurl=w.originalUrl||w.url),L.terror||(L.terror=new Date),d.addDVBErrors(L)}}function T(S){S.error||(w=S.manifest)}function B(S){p({errorcode:n.default.BASE_URL_CHANGED,servicelocation:S.entry})}function P(){p({errorcode:n.default.BECAME_REPORTER})}function F(S){S.metric===i.HTTP_REQUEST&&function k(S){(0===S.responsecode||null==S.responsecode||S.responsecode>=400||S.responsecode<100||S.responsecode>=600)&&p({errorcode:S.responsecode||n.default.CONNECTION_ERROR,url:S.url,terror:S.tresponse,servicelocation:S._serviceLocation})}(S.value)}function O(S){var C;switch(S.error?S.error.code:0){case MediaError.MEDIA_ERR_NETWORK:C=n.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:C=n.default.CORRUPT_MEDIA_OTHER;break;default:return}p({errorcode:C})}return x={initialise:function D(){g.on(h.MANIFEST_UPDATED,T,x),g.on(h.SERVICE_LOCATION_BLACKLIST_CHANGED,B,x),g.on(h.METRIC_ADDED,F,x),g.on(h.METRIC_UPDATED,F,x),g.on(h.PLAYBACK_ERROR,O,x),g.on(b.default.BECAME_REPORTING_PLAYER,P,x)},reset:function I(){g.off(h.MANIFEST_UPDATED,T,x),g.off(h.SERVICE_LOCATION_BLACKLIST_CHANGED,B,x),g.off(h.METRIC_ADDED,F,x),g.off(h.METRIC_UPDATED,F,x),g.off(h.PLAYBACK_ERROR,O,x),g.off(b.default.BECAME_REPORTING_PLAYER,P,x)}}}A.__dashjs_factory_name="DVBErrorsTranslator",v.default=dashjs.FactoryMaker.getSingletonFactory(A)},"./src/streaming/metrics/utils/HandlerHelpers.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/metrics/utils/HandlerHelpers.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(){return{reconstructFullMetricName:function(A,_,x){var w=A;return _&&(w+="("+_,x&&x.length&&(w+=","+x),w+=")"),w},validateN:function(A){if(!A)throw new Error("missing n");if(isNaN(A))throw new Error("n is NaN");if(A<0)throw new Error("n must be positive");return A}}}e.r(v),n.__dashjs_factory_name="HandlerHelpers",v.default=dashjs.FactoryMaker.getSingletonFactory(n)},"./src/streaming/metrics/utils/ManifestParsing.js":
/*!********************************************************!*\
                  !*** ./src/streaming/metrics/utils/ManifestParsing.js ***!
                  \********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../vo/Metrics */
"./src/streaming/metrics/vo/Metrics.js"),b=e(
/*! ../vo/Range */
"./src/streaming/metrics/vo/Range.js"),A=e(
/*! ../vo/Reporting */
"./src/streaming/metrics/vo/Reporting.js");function _(x){var g=(x=x||{}).adapter,d=x.constants;return{getMetrics:function h(p){var T=[];return p&&p.Metrics_asArray&&p.Metrics_asArray.forEach(function(B){var P=new n.default,k=g.getIsDynamic(p);B.hasOwnProperty("metrics")&&(P.metrics=B.metrics,B.Range_asArray&&B.Range_asArray.forEach(function(F){var O=new b.default;O.starttime=function i(p,T,B){var P,k,F=0;return T?F=g.getAvailabilityStartTime(p)/1e3:(P=g.getRegularPeriods(p)).length&&(F=P[0].start),k=F,B&&B.hasOwnProperty(d.START_TIME)&&(k+=B.starttime),k}(p,k,F),O.duration=F.hasOwnProperty("duration")?F.duration:g.getDuration(p),O._useWallClockTime=k,P.Range.push(O)}),B.Reporting_asArray&&(B.Reporting_asArray.forEach(function(F){var O=new A.default;F.hasOwnProperty(d.SCHEME_ID_URI)&&(O.schemeIdUri=F.schemeIdUri,F.hasOwnProperty("value")&&(O.value=F.value),F.hasOwnProperty(d.DVB_REPORTING_URL)&&(O.dvb_reportingUrl=F[d.DVB_REPORTING_URL]),F.hasOwnProperty(d.DVB_PROBABILITY)&&(O.dvb_probability=F[d.DVB_PROBABILITY]),P.Reporting.push(O))}),T.push(P)))}),T}}}_.__dashjs_factory_name="ManifestParsing",v.default=dashjs.FactoryMaker.getSingletonFactory(_)},"./src/streaming/metrics/utils/MetricSerialiser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/utils/MetricSerialiser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(){return{serialise:function b(A){var w,g,_=[],x=[];for(w in A)if(A.hasOwnProperty(w)&&0!==w.indexOf("_")){if(null==(g=A[w])&&(g=""),Array.isArray(g)){if(!g.length)continue;x=[],g.forEach(function(d){var i="Object"!==Object.prototype.toString.call(d).slice(8,-1);x.push(i?d:b(d))}),g=x.map(encodeURIComponent).join(",")}else"string"==typeof g?g=encodeURIComponent(g):g instanceof Date?g=g.toISOString():"number"==typeof g&&(g=Math.round(g));_.push(w+"="+g)}return _.join("&")}}}e.r(v),n.__dashjs_factory_name="MetricSerialiser",v.default=dashjs.FactoryMaker.getSingletonFactory(n)},"./src/streaming/metrics/utils/RNG.js":
/*!********************************************!*\
                  !*** ./src/streaming/metrics/utils/RNG.js ***!
                  \********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(){var w,g,d,b=window.crypto||window.msCrypto,A=Uint32Array,_=Math.pow(2,8*A.BYTES_PER_ELEMENT)-1,x=10;function i(){b&&(w||(w=new A(x)),b.getRandomValues(w),g=0)}return d={random:function h(p,T){var B;return p||(p=0),T||(T=1),b?(g===w.length&&i(),B=w[g]/_,g+=1):B=Math.random(),B*(T-p)+p}},i(),d}e.r(v),n.__dashjs_factory_name="RNG",v.default=dashjs.FactoryMaker.getSingletonFactory(n)},"./src/streaming/metrics/vo/DVBErrors.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/DVBErrors.js ***!
                  \***********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v);var g=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null});g.SSL_CONNECTION_FAILED_PREFIX="SSL",g.DNS_RESOLUTION_FAILED="C00",g.HOST_UNREACHABLE="C01",g.CONNECTION_REFUSED="C02",g.CONNECTION_ERROR="C03",g.CORRUPT_MEDIA_ISOBMFF="M00",g.CORRUPT_MEDIA_OTHER="M01",g.BASE_URL_CHANGED="F00",g.BECAME_REPORTER="S00",v.default=g},"./src/streaming/metrics/vo/Metrics.js":
/*!*********************************************!*\
                  !*** ./src/streaming/metrics/vo/Metrics.js ***!
                  \*********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.metrics="",this.Range=[],this.Reporting=[]})},"./src/streaming/metrics/vo/Range.js":
/*!*******************************************!*\
                  !*** ./src/streaming/metrics/vo/Range.js ***!
                  \*******************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1})},"./src/streaming/metrics/vo/Reporting.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/Reporting.js ***!
                  \***********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(i){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function b(i,h){for(var p=0;p<h.length;p++){var T=h[p];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(i,_(T.key),T)}}function A(i,h,p){return h&&b(i.prototype,h),p&&b(i,p),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var h=function x(i,h){if("object"!==n(i)||null===i)return i;var p=i[Symbol.toPrimitive];if(void 0!==p){var T=p.call(i,h||"default");if("object"!==n(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(i)}(i,"string");return"symbol"===n(h)?h:String(h)}e.r(v);v.default=A(function i(){(function w(i,h){if(!(i instanceof h))throw new TypeError("Cannot call a class as a function")})(this,i),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3})},"./src/streaming/models/BaseURLTreeModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/BaseURLTreeModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function A(T){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(T)}function _(T,B){for(var P=0;P<B.length;P++){var k=B[P];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(T,w(k.key),k)}}function x(T,B,P){return B&&_(T.prototype,B),P&&_(T,P),Object.defineProperty(T,"prototype",{writable:!1}),T}function w(T){var B=function g(T,B){if("object"!==A(T)||null===T)return T;var P=T[Symbol.toPrimitive];if(void 0!==P){var k=P.call(T,B||"default");if("object"!==A(k))return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===B?String:Number)(T)}(T,"string");return"symbol"===A(B)?B:String(B)}var i=NaN,h=x(function T(B,P){(function d(T,B){if(!(T instanceof B))throw new TypeError("Cannot call a class as a function")})(this,T),this.data={baseUrls:B||null,selectedIdx:P||i},this.children=[]});function p(){var T,B,P,k=this.context,F=Object(n.default)(k).getInstance();function S(Me,J,ce){var W=P.getBaseURLsFromElement(ce);Me[J]?F.areEqual(W,Me[J].data.baseUrls)||(Me[J].data.baseUrls=W,Me[J].data.selectedIdx=i):Me[J]=new h(W)}function L(Me){!function I(){if(!P||!P.hasOwnProperty("getBaseURLsFromElement")||!P.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var J=P.getBaseURLsFromElement(Me);F.areEqual(J,B.data.baseUrls)||(B.data.baseUrls=J,B.data.selectedIdx=i),Me&&Me.Period_asArray&&Me.Period_asArray.forEach(function(ce,W){S(B.children,W,ce),ce.AdaptationSet_asArray&&ce.AdaptationSet_asArray.forEach(function(Se,le){S(B.children[W].children,le,Se),Se.Representation_asArray&&Se.Representation_asArray.sort(P.getRepresentationSortFunction()).forEach(function(Ee,xe){S(B.children[W].children[le].children,xe,Ee)})})})}function C(Me,J){var ce=J||B;Me(ce.data),ce.children&&ce.children.forEach(function(W){return C(Me,W)})}function ne(){B=new h}return T={reset:ne,update:function z(Me){L(Me)},getForPath:function te(Me){var J=B,ce=[J.data];return Me&&Me.forEach(function(W){(J=J.children[W])&&ce.push(J.data)}),ce.filter(function(W){return W.baseUrls.length})},invalidateSelectedIndexes:function U(Me){C(function(J){isNaN(J.selectedIdx)||Me===J.baseUrls[J.selectedIdx].serviceLocation&&(J.selectedIdx=i)})},setConfig:function D(Me){Me.adapter&&(P=Me.adapter)}},function O(){ne()}(),T}p.__dashjs_factory_name="BaseURLTreeModel",v.default=b.default.getClassFactory(p)},"./src/streaming/models/CmcdModel.js":
/*!*******************************************!*\
                  !*** ./src/streaming/models/CmcdModel.js ***!
                  \*******************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),A=e(
/*! ../metrics/MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),_=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),x=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),w=e(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),g=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),d=e(
/*! ../../dash/models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),i=e(
/*! ../../core/Utils */
"./src/core/Utils.js");function h(S,L){var C=typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(!C){if(Array.isArray(S)||(C=function p(S,L){if(S){if("string"==typeof S)return T(S,L);var C=Object.prototype.toString.call(S).slice(8,-1);if("Object"===C&&S.constructor&&(C=S.constructor.name),"Map"===C||"Set"===C)return Array.from(S);if("Arguments"===C||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return T(S,L)}}(S))||L&&S&&"number"==typeof S.length){C&&(S=C);var U=0,z=function(){};return{s:z,n:function(){return U>=S.length?{done:!0}:{done:!1,value:S[U++]}},e:function(ce){throw ce},f:z}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Me,ne=!0,te=!1;return{s:function(){C=C.call(S)},n:function(){var ce=C.next();return ne=ce.done,ce},e:function(ce){te=!0,Me=ce},f:function(){try{!ne&&null!=C.return&&C.return()}finally{if(te)throw Me}}}}function T(S,L){(null==L||L>S.length)&&(L=S.length);for(var C=0,U=new Array(L);C<L;C++)U[C]=S[C];return U}var k_MANIFEST="m",k_AUDIO="a",k_VIDEO="v",k_INIT="i",k_CAPTION="c",k_ISOBMFF_TEXT_TRACK="tt",k_ENCRYPTION_KEY="k",k_OTHER="o",F_DASH="d",F_MSS="s",O_VOD="v",O_LIVE="l";function I(){var S,L,C,U,z,ne,te,Me,J,ce,W=this.context,Se=Object(n.default)(W).getInstance(),le=Object(x.default)(W).getInstance();function fe(){C={pr:1,nor:null,st:null,sf:null,sid:"".concat(i.default.generateUuid()),cid:null},J={},Me={},ce={},Ce()}function Pe(){Ce()}function Ce(){if(ne){var ze=ne.getStreamController();if(ze&&"function"==typeof ze.getActiveStream){var ht=ze.getActiveStream();ht&&(te=ht.getProcessors())}}}function Re(ze,ht){var He,Et={},de=h(ht);try{for(de.s();!(He=de.n()).done;){var bt=He.value;ze[bt]&&(Et[bt]=ze[bt])}}catch(Ut){de.e(Ut)}finally{de.f()}return Et}function Ne(ze){var ht=le.get().streaming.cmcd.enabledKeys;return ze.filter(function(Et){return ht.includes(Et)})}function at(ze){try{return ze.type===g.HTTPRequest.MPD_TYPE?function ye(){var ze=oe();return ze.ot=k_MANIFEST,ze}():ze.type===g.HTTPRequest.MEDIA_SEGMENT_TYPE?(function K(ze){ce.hasOwnProperty(ze)||(ce[ze]=!1),Me.hasOwnProperty(ze)||(Me[ze]=!1),J.hasOwnProperty(ze)||(J[ze]=!1)}(ze.mediaType),function ve(ze){var rn,ht=oe(),Et=function Q(ze){try{return parseInt(ze.mediaInfo.bitrateList[ze.quality].bandwidth/1e3)}catch{return null}}(ze),de=function $(ze){try{return isNaN(ze.duration)?null:Math.round(1e3*ze.duration)}catch{return null}}(ze),He=function ie(ze){try{return 100*parseInt(U.getThroughputHistory().getSafeAverageThroughput(ze)/100)}catch{return null}}(ze.mediaType),bt=function Z(ze){try{var ht=C.pr,Et=z.getCurrentBufferLevel(ze);return isNaN(ht)||isNaN(Et)?null:100*parseInt(Et/ht*10)}catch{return null}}(ze.mediaType),Ut=X(ze.mediaType),Zt=function q(ze){try{var ht=U.getTopBitrateInfoFor(ze);return Math.round(ht.bitrate/1e3)}catch{return null}}(ze.mediaType),Kt=C.pr,pn=function Qe(ze){if(te&&0!==te.length){var Et,ht=h(te);try{for(ht.s();!(Et=ht.n()).done;){var de=Et.value;if(de.getType()===ze)return de.probeNextRequest()}}catch(He){ht.e(He)}finally{ht.f()}}}(ze.mediaType);ze.mediaType===w.default.VIDEO&&(rn=k_VIDEO),ze.mediaType===w.default.AUDIO&&(rn=k_AUDIO),ze.mediaType===w.default.TEXT&&(rn="application/mp4"===ze.mediaInfo.mimeType?k_ISOBMFF_TEXT_TRACK:k_CAPTION);var xt=le.get().streaming.cmcd.rtp;return xt||(xt=function qe(ze){var ht=ne.getPlaybackRate();ht||(ht=1);var Et=ze.quality,He=ze.mediaInfo,bt=ze.duration,Ut=X(ze.mediaType);0===Ut&&(Ut=500);var rn=He.bitrateList[Et].bandwidth*bt/1e3/(Ut/ht/1e3),xt=le.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(le.get().streaming.cmcd.rtpSafetyFactor)?le.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(rn*xt/100)+1)}(ze)),ht.rtp=xt,pn&&(ze.url!==pn.url?ht.nor=encodeURIComponent(i.default.getRelativeUrl(ze.url,pn.url)):pn.range&&(ht.nrr=pn.range)),Et&&(ht.br=Et),rn&&(ht.ot=rn),isNaN(de)||(ht.d=de),isNaN(He)||(ht.mtp=He),isNaN(bt)||(ht.dl=bt),isNaN(Ut)||(ht.bl=Ut),isNaN(Zt)||(ht.tb=Zt),!isNaN(Kt)&&1!==Kt&&(ht.pr=Kt),J[ze.mediaType]&&(ht.bs=!0,J[ze.mediaType]=!1),(Me[ze.mediaType]||!ce[ze.mediaType])&&(ht.su=!0,Me[ze.mediaType]=!1,ce[ze.mediaType]=!0),ht}(ze)):ze.type===g.HTTPRequest.INIT_SEGMENT_TYPE?function se(){var ze=oe();return ze.ot=k_INIT,ze.su=!0,ze}():ze.type===g.HTTPRequest.OTHER_TYPE||ze.type===g.HTTPRequest.XLINK_EXPANSION_TYPE?function ge(){var ze=oe();return ze.ot=k_OTHER,ze}():ze.type===g.HTTPRequest.LICENSE?function Be(ze){var ht=oe();return ht.ot=k_ENCRYPTION_KEY,ht}():null}catch{return null}}function oe(){var ze={},ht=le.get().streaming.cmcd.cid?le.get().streaming.cmcd.cid:C.cid;return ze.v=1,ze.sid=le.get().streaming.cmcd.sid?le.get().streaming.cmcd.sid:C.sid,ze.sid="".concat(ze.sid),ht&&(ze.cid="".concat(ht)),!isNaN(C.pr)&&1!==C.pr&&null!==C.pr&&(ze.pr=C.pr),C.st&&(ze.st=C.st),C.sf&&(ze.sf=C.sf),ze}function X(ze){try{var ht=z.getCurrentBufferLevel(ze);return isNaN(ht)?null:100*parseInt(10*ht)}catch{return null}}function pe(ze){try{C.pr=ze.playbackRate}catch{}}function Te(ze){try{var ht=S.getIsDynamic(ze.data),de=ze.protocol&&"MSS"===ze.protocol?F_MSS:F_DASH;C.st="".concat(ht?O_LIVE:O_VOD),C.sf="".concat(de)}catch{}}function be(ze){try{ze.state&&ze.mediaType&&ze.state===b.default.BUFFER_EMPTY&&(J[ze.mediaType]||(J[ze.mediaType]=!0),Me[ze.mediaType]||(Me[ze.mediaType]=!0))}catch{}}function Le(){for(var ze in J)J.hasOwnProperty(ze)&&(J[ze]=!0);for(var ht in Me)Me.hasOwnProperty(ht)&&(Me[ht]=!0)}function et(ze){try{if(!ze)return null;var ht=Object.keys(ze).sort(function(He,bt){return He.localeCompare(bt)}),Et=ht.length,de=ht.reduce(function(He,bt,Ut){return"v"===bt&&1===ze[bt]||(He+="string"==typeof ze[bt]&&"ot"!==bt&&"sf"!==bt&&"st"!==bt?"".concat(bt,"=").concat(JSON.stringify(ze[bt])):"".concat(bt,"=").concat(ze[bt]),Ut<Et-1&&(He+=",")),He},"");return(de=de.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return L={getQueryParameter:function me(ze){try{if(le.get().streaming.cmcd&&le.get().streaming.cmcd.enabled){var ht=at(ze),de=et(function De(ze){try{var ht=le.get().streaming.cmcd.enabledKeys;return Object.keys(ze).filter(function(Et){return ht.includes(Et)}).reduce(function(Et,de){return Et[de]=ze[de],Et},{})}catch{return ze}}(ht));return Se.trigger(A.default.CMCD_DATA_GENERATED,{url:ze.url,mediaType:ze.mediaType,cmcdData:ht,cmcdString:de}),{key:"CMCD",value:de}}return null}catch{return null}},getHeaderParameters:function Fe(ze){try{if(le.get().streaming.cmcd&&le.get().streaming.cmcd.enabled){var ht=at(ze),Et=Re(ht,Ne(["br","d","ot","tb"])),de=Re(ht,Ne(["bl","dl","mtp","nor","nrr","su"])),He=Re(ht,Ne(["bs","rtp"])),bt=Re(ht,Ne(["cid","pr","sf","sid","st","v"])),Ut={"CMCD-Object":et(Et),"CMCD-Request":et(de),"CMCD-Status":et(He),"CMCD-Session":et(bt)};return Se.trigger(A.default.CMCD_DATA_GENERATED,{url:ze.url,mediaType:ze.mediaType,cmcdData:ht,headers:Ut}),Ut}return null}catch{return null}},setConfig:function Ve(ze){ze&&(ze.abrController&&(U=ze.abrController),ze.dashMetrics&&(z=ze.dashMetrics),ze.playbackController&&(ne=ze.playbackController))},reset:function ft(){Se.off(b.default.PLAYBACK_RATE_CHANGED,pe,this),Se.off(b.default.MANIFEST_LOADED,Te,this),Se.off(b.default.BUFFER_LEVEL_STATE_CHANGED,be,L),Se.off(b.default.PLAYBACK_SEEKED,Le,L),fe()},initialize:function xe(){Se.on(b.default.PLAYBACK_RATE_CHANGED,pe,L),Se.on(b.default.MANIFEST_LOADED,Te,L),Se.on(b.default.BUFFER_LEVEL_STATE_CHANGED,be,L),Se.on(b.default.PLAYBACK_SEEKED,Le,L),Se.on(b.default.PERIOD_SWITCH_COMPLETED,Pe,L)}},function Ee(){S=Object(d.default)(W).getInstance(),fe()}(),L}I.__dashjs_factory_name="CmcdModel",v.default=_.default.getSingletonFactory(I)},"./src/streaming/models/CustomParametersModel.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/models/CustomParametersModel.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../dash/vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),_=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),x=e(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),w=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function d(){var i,h,p,T,B,P,k,F,O=this.context,D=Object(A.default)(O).getInstance();function S(){T=[],B=[],P=[],F=[],k=null,h=[]}function Ve(K,se){var ge=-1;K.some(function(oe,Q){if(oe===se)return ge=Q,!0}),!(ge<0)&&K.splice(ge,1)}function fe(K){var se;for(se=0;se<F.length;se++)if(F[se].rulename===K)return se;return-1}function Re(K,se){Ne(K,se);var ge=new n.default;ge.schemeIdUri=K,ge.value=se,h.push(ge)}function Ne(K,se){Object(_.checkParameterType)(K,"string"),Object(_.checkParameterType)(se,"string"),h.forEach(function(ge,oe){ge.schemeIdUri===K&&ge.value===se&&h.splice(oe,1)})}return i={getCustomInitialTrackSelectionFunction:function ne(){return k},setCustomInitialTrackSelectionFunction:function U(K){k=K},resetCustomInitialTrackSelectionFunction:function z(){k=null},getLicenseResponseFilters:function Me(){return B},getLicenseRequestFilters:function te(){return T},getCustomCapabilitiesFilters:function le(){return P},registerCustomCapabilitiesFilter:function Ee(K){P.push(K)},registerLicenseResponseFilter:function ce(K){B.push(K)},registerLicenseRequestFilter:function J(K){T.push(K)},unregisterCustomCapabilitiesFilter:function xe(K){Ve(P,K)},unregisterLicenseResponseFilter:function Se(K){Ve(B,K)},unregisterLicenseRequestFilter:function W(K){Ve(T,K)},addAbrCustomRule:function Pe(K,se,ge){if("string"!=typeof K||K!==x.default.ABANDON_FRAGMENT_RULES&&K!==x.default.QUALITY_SWITCH_RULES||"string"!=typeof se)throw w.default.BAD_ARGUMENT_ERROR;var oe=fe(se);-1===oe?F.push({type:K,rulename:se,rule:ge}):(F[oe].type=K,F[oe].rule=ge)},removeAllAbrCustomRule:function me(){F=[]},removeAbrCustomRule:function Ce(K){if(K){var se=fe(K);-1!==se&&F.splice(se,1)}else F=[]},getAbrCustomRules:function De(){return F},addUTCTimingSource:Re,removeUTCTimingSource:Ne,getUTCTimingSources:function Fe(){return h},clearDefaultUTCTimingSources:function at(){h=[]},restoreDefaultUTCTimingSources:function Be(){var K=D.get().streaming.utcSynchronization.defaultTimingSource;Re(K.scheme,K.value)},setXHRWithCredentialsForType:function ye(K,se){K?p[K]=!!se:Object.keys(p).forEach(function(ge){ye(ge,se)})},getXHRWithCredentialsForType:function ve(K){var se=p[K];return void 0===se?p.default:se},setConfig:function C(){},reset:function L(){S()}},function I(){p={default:false},S()}(),i}d.__dashjs_factory_name="CustomParametersModel",v.default=b.default.getSingletonFactory(d)},"./src/streaming/models/FragmentModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/FragmentModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),A="loading",_="executed",w="failed";function g(i){var O,D,I,S,h=(i=i||{}).eventBus,p=i.events,T=i.dashMetrics,B=i.fragmentLoader,P=i.debug,k=i.streamInfo,F=i.type;function z(Be){var Q;return!!Be&&(Q=!1,I.some(function(q){if(function(oe,Q){return!isNaN(oe.index)&&oe.startTime===Q.startTime&&oe.adaptationIndex===Q.adaptationIndex&&oe.type===Q.type}(Be,q)||function(oe,Q){return isNaN(oe.index)&&isNaN(Q.index)&&oe.quality===Q.quality}(Be,q)||function(oe,Q){return oe.action===b.default.ACTION_COMPLETE&&oe.action===Q.action}(Be,q))return Q=!0}),Q)}function Me(Be){return isNaN(Be.duration)?.25:Math.min(Be.duration/8,.5)}function J(Be){I=I.filter(function(ye){var ve=Me(ye);return isNaN(ye.startTime)||void 0!==Be&&ye.startTime>=Be-ve})}function W(Be,ye){ye<=Be+.5||(I=I.filter(function(ve){var K=Me(ve);return isNaN(ve.startTime)||ve.startTime>=ye-K||isNaN(ve.duration)||ve.startTime+ve.duration<=Be+K}))}function Ve(Be,ye,ve){for(var se=Be.length-1;se>=0;se--){var ge=Be[se],oe=ge.startTime,Q=oe+ge.duration;if(ve=isNaN(ve)?Me(ge):ve,!isNaN(oe)&&!isNaN(Q)&&ye+ve>=oe&&ye-ve<Q||isNaN(oe)&&isNaN(ye))return ge}return null}function Ce(Be,ye){T.addSchedulingInfo(Be,ye),T.addRequestsQueue(Be.mediaType,S,I)}function me(Be){Be.sender===B&&(S.splice(S.indexOf(Be.request),1),Be.response&&!Be.error&&I.push(Be.request),Ce(Be.request,Be.error?w:_),h.trigger(p.FRAGMENT_LOADING_COMPLETED,{request:Be.request,response:Be.response,error:Be.error,sender:this},{streamId:k.id,mediaType:F}))}function De(Be){Be.sender===B&&h.trigger(p.FRAGMENT_LOADING_PROGRESS,{request:Be.request,response:Be.response,error:Be.error,sender:this},{streamId:k.id,mediaType:F})}function Re(Be){Be.sender===B&&h.trigger(p.FRAGMENT_LOADING_ABANDONED,{request:Be.request},{streamId:k.id,mediaType:F})}function Fe(){I=[],S=[]}return O={getStreamId:function C(){return k.id},getType:function U(){return F},getRequests:function te(Be){var ve=[];return(Be?Be.state instanceof Array?Be.state:[Be.state]:[]).forEach(function(K){var se=function Pe(Be){var ye;switch(Be){case A:ye=S;break;case _:ye=I;break;default:ye=[]}return ye}(K);ve=ve.concat(function fe(Be,ye){return ye.hasOwnProperty("time")?[Ve(Be,ye.time,ye.threshold)]:Be.filter(function(ve){for(var K in ye)if("state"!==K&&ye.hasOwnProperty(K)&&ve[K]!=ye[K])return!1;return!0})}(se,Be))}),ve},isFragmentLoaded:z,isFragmentLoadedOrPending:function ne(Be){var K,ye=!1,ve=0;if(!(ye=z(Be)))for(ve=0;ve<S.length;ve++)Be.url===(K=S[ve]).url&&Be.startTime===K.startTime&&(ye=!0);return ye},removeExecutedRequestsBeforeTime:J,removeExecutedRequestsAfterTime:function ce(Be){I=I.filter(function(ye){return isNaN(ye.startTime)||void 0!==Be&&ye.startTime<Be})},syncExecutedRequestsWithBufferedRange:function Se(Be,ye){if(Be&&0!==Be.length){for(var ve=0,K=0,se=Be.length;K<se;K++)W(ve,Be.start(K)),ve=Be.end(K);ye>0&&W(ve,ye)}else J()},abortRequests:function le(){D.debug("abort requests"),B.abort(),S=[]},executeRequest:function Ee(Be){Be.action===b.default.ACTION_DOWNLOAD?(Ce(Be,A),S.push(Be),function xe(Be){h.trigger(p.FRAGMENT_LOADING_STARTED,{request:Be},{streamId:k.id,mediaType:F}),B.load(Be)}(Be)):D.warn("Unknown request action.")},reset:function Ne(){h.off(p.LOADING_COMPLETED,me,this),h.off(p.LOADING_DATA_PROGRESS,De,this),h.off(p.LOADING_ABANDONED,Re,this),B&&B.reset(),Fe()},resetInitialSettings:Fe,addExecutedRequest:function at(Be){I.push(Be)}},function L(){D=P.getLogger(O),Fe(),h.on(p.LOADING_COMPLETED,me,O),h.on(p.LOADING_DATA_PROGRESS,De,O),h.on(p.LOADING_ABANDONED,Re,O)}(),O}g.__dashjs_factory_name="FragmentModel";var d=n.default.getClassFactory(g);d.FRAGMENT_MODEL_LOADING=A,d.FRAGMENT_MODEL_EXECUTED=_,d.FRAGMENT_MODEL_CANCELED="canceled",d.FRAGMENT_MODEL_FAILED=w,n.default.updateClassFactory(g.__dashjs_factory_name,d),v.default=d},"./src/streaming/models/LowLatencyThroughputModel.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/models/LowLatencyThroughputModel.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function A(){var h,p,i=this.context,T={};function B(){p=Object(n.default)(i).getInstance().getLogger(h)}function P(I){for(var S={},L=0,C=0,U=0,z=0,ne=I.length,te=0;te<ne;++te)L+=I[te].chunkDownloadTimeRelativeMS,C+=I[te].bufferLevel,U+=I[te].chunkDownloadTimeRelativeMS*I[te].bufferLevel,z+=I[te].chunkDownloadTimeRelativeMS*I[te].chunkDownloadTimeRelativeMS;return S.m=(U-L*C/ne)/(z-L*L/ne),S.b=C/ne-S.m*L/ne,function(Me){return S.m*Me+S.b}}function k(I){var L,S=!0,C=I.reduce(function(U,z){return U+z.bufferLevelAtSegmentEnd},0)/I.length;return I.forEach(function(U){Math.abs(U.bufferLevelAtSegmentEnd/U.bufferLevelAtSegmentStart)<.95&&(S=!1),U.bufferLevelAtSegmentEnd/C<.8&&(S=!1),L?L>U.bitrate&&(S=!1):L=U.bitrate}),S}return h={setup:B,addMeasurement:function D(I,S,L,C,U){I&&I.mediaType&&!T[I.mediaType]&&(T[I.mediaType]=[]);var z=I.mediaInfo.bitrateList.find(function(ne){return ne.id===I.representationId});T[I.mediaType].push({index:I.index,repId:I.representationId,mediaType:I.mediaType,requestTimeMS:C,adjustedAvailabilityStartTimeMS:I.availabilityStartTime.getTime(),segDurationMS:1e3*I.duration,chunksDurationMS:L.reduce(function(ne,te){return ne+te.chunkDownloadDurationMS},0),segmentBytes:L.reduce(function(ne,te){return ne+te.chunkBytes},0),bitrate:z&&z.bandwidth,bitrateList:I.mediaInfo.bitrateList,chunkMeasurements:L,fetchDownloadDurationMS:S,throughputCapacityDelayMS:U,getEstimatedBufferLevel:P(L.slice(1))}),T[I.mediaType].length>10&&T[I.mediaType].shift()},getThroughputCapacityDelayMS:function O(I,S){var L=T[I.mediaType]&&T[I.mediaType].slice(-3);return!L||L.length<3||!k(L)?0:S/4>250?250:S/4},getEstimatedDownloadDurationMS:function F(I){var S=T[I.mediaType].slice(-1).pop(),L=T[I.mediaType].slice(-3),C=S.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;S.bufferLevelAtSegmentStart=S.getEstimatedBufferLevel(C/2),S.bufferLevelAtSegmentEnd=S.getEstimatedBufferLevel(C);var U=k(L),z=U?.6:.8;if(S.isBufferStable&&1.05*S.segDurationMS<S.fetchDownloadDurationMS)return S.fetchDownloadDurationMS;if(!U||S.segDurationMS<S.fetchDownloadDurationMS||S.adjustedAvailabilityStartTimeMS<=S.requestTimeMS+S.throughputCapacityDelayMS-S.segDurationMS)return.8*S.fetchDownloadDurationMS;for(var ne=S.requestTimeMS+S.throughputCapacityDelayMS-S.adjustedAvailabilityStartTimeMS,te=0,Me=0,J=0,ce=0;ce<S.chunkMeasurements.length;ce++){var W=S.chunkMeasurements[ce];if(ne<Me+W.chunkDownloadDurationMS)break;Me+=W.chunkDownloadDurationMS,te+=W.chunkBytes,J++}if(ne<0&&p.warn("request time was before adjusted availibitly start time"),te&&Me&&J>.2*S.chunkMeasurements.length){var le=S.segmentBytes/(te/Me);return S.fetchDownloadDurationMS<le?S.fetchDownloadDurationMS*z:le*z}var Ee=S.bitrate;return S.bitrateList.some(function(xe){if(xe.bandwidth>S.bitrate)return Ee=xe.bandwidth,!0}),Ee===S.bitrate?S.fetchDownloadDurationMS*z:z*S.segmentBytes*8*1e3/Ee}},B(),h}A.__dashjs_factory_name="LowLatencyThroughputModel",v.default=b.default.getSingletonFactory(A)},"./src/streaming/models/ManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/ManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),A=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function _(){var d,x=this.context,w=Object(n.default)(x).getInstance();return{getValue:function i(){return d},setValue:function h(p){d=p,p&&w.trigger(b.default.MANIFEST_LOADED,{data:p})}}}_.__dashjs_factory_name="ManifestModel",v.default=A.default.getSingletonFactory(_)},"./src/streaming/models/MediaPlayerModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/MediaPlayerModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),p=-.5;function B(){var P,k,F,O,D=this.context,I=Object(A.default)(D).getInstance();function C(Ee,xe){return isNaN(Ee)?0:Ee>0?(xe&&k.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):Ee<p?(xe&&k.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(p,": ").concat(-50,"% playback speed.")),p):Ee}function U(Ee,xe){return isNaN(Ee)?0:Ee<0?(xe&&k.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):Ee>1?(xe&&k.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):Ee}function ce(){var Ee=I.get().streaming.buffer.stableBufferTime>0?I.get().streaming.buffer.stableBufferTime:I.get().streaming.buffer.fastSwitchEnabled?20:12,xe=F.getLiveDelay();return!isNaN(xe)&&xe>0?Math.min(Ee,xe):Ee}return P={getCatchupMaxDrift:function z(){if(!isNaN(I.get().streaming.liveCatchup.maxDrift)&&I.get().streaming.liveCatchup.maxDrift>0)return I.get().streaming.liveCatchup.maxDrift;var Ee=O.getServiceDescriptionSettings();return Ee&&Ee.liveCatchup&&!isNaN(Ee.liveCatchup.maxDrift)&&Ee.liveCatchup.maxDrift>0?Ee.liveCatchup.maxDrift:12},getCatchupModeEnabled:function te(){return null!==I.get().streaming.liveCatchup.enabled?I.get().streaming.liveCatchup.enabled:F.getInitialCatchupModeActivated()},getStableBufferTime:ce,getInitialBufferLevel:function J(){var Ee=I.get().streaming.buffer.initialBufferLevel;return isNaN(Ee)||Ee<0?0:Math.min(ce(),Ee)},getRetryAttemptsForType:function W(Ee){var xe=isNaN(I.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:I.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return F.getLowLatencyModeEnabled()?I.get().streaming.retryAttempts[Ee]*xe:I.get().streaming.retryAttempts[Ee]},getRetryIntervalsForType:function Se(Ee){var xe=isNaN(I.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:I.get().streaming.retryIntervals.lowLatencyReductionFactor;return F.getLowLatencyModeEnabled()?I.get().streaming.retryIntervals[Ee]/xe:I.get().streaming.retryIntervals[Ee]},getCatchupPlaybackRates:function ne(Ee){var xe=I.get().streaming.liveCatchup.playbackRate;if(!isNaN(xe.min)||!isNaN(xe.max))return{min:C(xe.min,Ee),max:U(xe.max,Ee)};var Ve=O.getServiceDescriptionSettings();if(Ve&&Ve.liveCatchup&&(!isNaN(Ve.liveCatchup.playbackRate.min)||!isNaN(Ve.liveCatchup.playbackRate.max))){var fe=Ve.liveCatchup.playbackRate;return{min:C(fe.min,Ee),max:U(fe.max,Ee)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function Me(Ee,xe){try{var Ve=I.get().streaming.abr[Ee][xe];if(!isNaN(Ve)&&-1!==Ve)return Ve;var fe=O.getServiceDescriptionSettings();return fe&&fe[Ee]&&!isNaN(fe[Ee][xe])?fe[Ee][xe]:-1}catch{return-1}},setConfig:function L(Ee){Ee.playbackController&&(F=Ee.playbackController),Ee.serviceDescriptionController&&(O=Ee.serviceDescriptionController)},reset:function le(){}},function S(){k=Object(n.default)(D).getInstance().getLogger(P)}(),P}B.__dashjs_factory_name="MediaPlayerModel",v.default=b.default.getSingletonFactory(B)},"./src/streaming/models/MetricsModel.js":
/*!**********************************************!*\
                  !*** ./src/streaming/models/MetricsModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),A=e(
/*! ../vo/MetricsList */
"./src/streaming/vo/MetricsList.js"),_=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),x=e(
/*! ../vo/metrics/RepresentationSwitch */
"./src/streaming/vo/metrics/RepresentationSwitch.js"),w=e(
/*! ../vo/metrics/BufferLevel */
"./src/streaming/vo/metrics/BufferLevel.js"),g=e(
/*! ../vo/metrics/BufferState */
"./src/streaming/vo/metrics/BufferState.js"),d=e(
/*! ../vo/metrics/DVRInfo */
"./src/streaming/vo/metrics/DVRInfo.js"),i=e(
/*! ../vo/metrics/DroppedFrames */
"./src/streaming/vo/metrics/DroppedFrames.js"),h=e(
/*! ../vo/metrics/ManifestUpdate */
"./src/streaming/vo/metrics/ManifestUpdate.js"),p=e(
/*! ../vo/metrics/SchedulingInfo */
"./src/streaming/vo/metrics/SchedulingInfo.js"),T=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),B=e(
/*! ../vo/metrics/RequestsQueue */
"./src/streaming/vo/metrics/RequestsQueue.js"),P=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),k=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function F(O){var L,C,D=(O=O||{}).settings,I=this.context,S=Object(T.default)(I).getInstance();function z(){S.trigger(P.default.METRICS_CHANGED)}function ne(K){S.trigger(P.default.METRIC_CHANGED,{mediaType:K}),z()}function te(K,se,ge){S.trigger(P.default.METRIC_UPDATED,{mediaType:K,metric:se,value:ge}),ne(K)}function Me(K,se,ge){S.trigger(P.default.METRIC_ADDED,{mediaType:K,metric:se,value:ge}),ne(K)}function W(K,se){var ge=null;return K&&(C.hasOwnProperty(K)?ge=C[K]:se||(ge=new A.default,C[K]=ge)),ge}function Se(K,se,ge){var oe=W(K);null!==oe&&(oe[se].push(ge),oe[se].length>D.get().streaming.metrics.maxListDepth&&oe[se].shift())}function Ve(K,se,ge){Se(K,se,ge),Me(K,se,ge)}return L={clearCurrentMetricsForType:function J(K){delete C[K],ne(K)},clearAllCurrentMetrics:function ce(){C={},z()},getMetricsFor:W,addHttpRequest:function Ee(K,se,ge,oe,Q,q,$,ie,Z,X,pe,Te,be,Le,et,Qe){var qe=new _.HTTPRequest;q&&q!==oe&&(Ee(K,null,ge,oe,Q,null,null,ie,Z,null,null,null,be,null,null,Qe),qe.actualurl=q),qe.tcpid=se,qe.type=ge,qe.url=oe,qe.range=ie,qe.trequest=Z,qe.tresponse=X,qe.responsecode=Te,qe._tfinish=pe,qe._stream=K,qe._mediaduration=be,qe._quality=Q,qe._responseHeaders=Le,qe._serviceLocation=$,qe._fileLoaderType=Qe,et?et.forEach(function(ft){!function le(K,se,ge,oe){var Q=new _.HTTPRequestTrace;return Q.s=se,Q.d=ge,Q.b=oe,K.trace.push(Q),K.interval||(K.interval=0),K.interval+=ge,Q}(qe,ft.s,ft.d,ft.b)}):(delete qe.interval,delete qe.trace),Ve(K,b.default.HTTP_REQUEST,qe)},addRepresentationSwitch:function xe(K,se,ge,oe,Q){var q=new x.default;q.t=se,q.mt=ge,q.to=oe,Q?q.lto=Q:delete q.lto,Ve(K,b.default.TRACK_SWITCH,q)},addBufferLevel:function fe(K,se,ge){var oe=new w.default;oe.t=se,oe.level=ge,Ve(K,b.default.BUFFER_LEVEL,oe)},addBufferState:function Pe(K,se,ge){var oe=new g.default;oe.target=ge,oe.state=se,Ve(K,b.default.BUFFER_STATE,oe)},addDVRInfo:function Ce(K,se,ge,oe){var Q=new d.default;Q.time=se,Q.range=oe,Q.manifestInfo=ge,Ve(K,b.default.DVR_INFO,Q)},addDroppedFrames:function me(K,se){var ge=new i.default,oe=W(K).DroppedFrames;se&&(ge.time=se.creationTime,ge.droppedFrames=se.droppedVideoFrames,!(oe.length>0&&oe[oe.length-1]==ge)&&Ve(K,b.default.DROPPED_FRAMES,ge))},addSchedulingInfo:function De(K,se,ge,oe,Q,q,$,ie,Z){var X=new p.default;X.mediaType=K,X.t=se,X.type=ge,X.startTime=oe,X.availabilityStartTime=Q,X.duration=q,X.quality=$,X.range=ie,X.state=Z,Ve(K,b.default.SCHEDULING_INFO,X)},addRequestsQueue:function Re(K,se,ge){var oe=new B.default;oe.loadingRequests=se,oe.executedRequests=ge,W(K).RequestsQueue=oe,Me(K,b.default.REQUESTS_QUEUE,oe)},addManifestUpdate:function Fe(K,se,ge,oe,Q,q,$,ie,Z,X){var pe=new h.ManifestUpdate;pe.mediaType=K,pe.type=se,pe.requestTime=ge,pe.fetchTime=oe,pe.availabilityStartTime=Q,pe.presentationStartTime=q,pe.clientTimeOffset=$,pe.currentTime=ie,pe.buffered=Z,pe.latency=X,Se(n.default.STREAM,b.default.MANIFEST_UPDATE,pe),Me(K,b.default.MANIFEST_UPDATE,pe)},updateManifestUpdateInfo:function Ne(K,se){if(K){for(var ge in se)K[ge]=se[ge];te(K.mediaType,b.default.MANIFEST_UPDATE,K)}},addManifestUpdateStreamInfo:function at(K,se,ge,oe,Q){if(K){var q=new h.ManifestUpdateStreamInfo;q.id=se,q.index=ge,q.start=oe,q.duration=Q,K.streamInfo.push(q),te(K.mediaType,b.default.MANIFEST_UPDATE_STREAM_INFO,K)}},addManifestUpdateRepresentationInfo:function Be(K,se,ge,oe,Q,q,$,ie){if(K&&K.representationInfo){var Z=new h.ManifestUpdateRepresentationInfo;Z.id=se,Z.index=ge,Z.streamIndex=oe,Z.mediaType=Q,Z.startNumber=$,Z.fragmentInfoType=ie,Z.presentationTimeOffset=q,K.representationInfo.push(Z),te(K.mediaType,b.default.MANIFEST_UPDATE_TRACK_INFO,K)}},addPlayList:function ye(K){K.trace&&Array.isArray(K.trace)?K.trace.forEach(function(se){se.hasOwnProperty("subreplevel")&&!se.subreplevel&&delete se.subreplevel}):delete K.trace,Ve(n.default.STREAM,b.default.PLAY_LIST,K)},addDVBErrors:function ve(K){Ve(n.default.STREAM,b.default.DVB_ERRORS,K)}},function U(){C={}}(),L}F.__dashjs_factory_name="MetricsModel",v.default=k.default.getSingletonFactory(F)},"./src/streaming/models/URIFragmentModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/URIFragmentModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../vo/URIFragmentData */
"./src/streaming/vo/URIFragmentData.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function A(){var x;return{initialize:function w(d){if(x=new n.default,!d)return null;var i=d.indexOf("#");if(-1!==i)for(var h=d.substr(i+1).split("&"),p=0,T=h.length;p<T;++p){var B=h[p],P=B.indexOf("=");if(-1!==P){var k=B.substring(0,P);x.hasOwnProperty(k)&&(x[k]=B.substr(P+1))}}},getURIFragmentData:function g(){return x}}}A.__dashjs_factory_name="URIFragmentModel",v.default=b.default.getSingletonFactory(A)},"./src/streaming/models/VideoModel.js":
/*!********************************************!*\
                  !*** ./src/streaming/models/VideoModel.js ***!
                  \********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),A=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),_=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),x=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),w=new Map([[x.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[x.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[x.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[x.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function g(){var d,i,h,p,T,B,P,F=this.context,O=Object(b.default)(F).getInstance(),D=[];function C(){h&&(h.playbackRate=P||1,h.removeEventListener("canplay",C))}function Ve(){return D.length>0}function me(){if(h&&Ve()&&0===h.playbackRate){var ze=document.createEvent("Event");ze.initEvent("waiting",!0,!1),h.dispatchEvent(ze)}}function se(ze,ht){h&&h.addEventListener(ze,ht)}function ge(ze,ht){h&&h.removeEventListener(ze,ht)}function oe(){return h?h.readyState:NaN}function Q(){return h?h.buffered:null}function be(ze,ht,Et,de,He){if(h)for(var bt=0;bt<h.textTracks.length;bt++)if(h.textTracks[bt].kind===ze&&(!ht||h.textTracks[bt].label==ht)&&h.textTracks[bt].language===Et&&h.textTracks[bt].isTTML===de&&h.textTracks[bt].isEmbedded===He)return h.textTracks[bt];return null}function qe(ze,ht){ze===x.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||oe()>=ze?ht():function ft(ze,ht){se(ze,function de(){ge(ze,de),ht(ze)})}(w.get(ze),ht)}return d={initialize:function S(){O.on(A.default.PLAYBACK_PLAYING,me,this)},setCurrentTime:function z(ze,ht){p=ze,qe(x.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(h){if(h.currentTime===p)return void(p=NaN);try{p=ht?function ne(ze){var ht=Q(),Et=ze,de=9999999999;if(ht)for(var He=0;He<ht.length;He++){var bt=ht.start(He),Ut=ht.end(He),Zt=Math.abs(bt-ze),Kt=Math.abs(Ut-ze);if(ze>=bt&&ze<=Ut)return ze;Zt<de&&(de=Zt,Et=bt),Kt<de&&(de=Kt,Et=Ut)}return Et}(p):p,h.currentTime=p,p=NaN}catch(Et){0===h.readyState&&Et.code===Et.INVALID_STATE_ERR&&setTimeout(function(){h.currentTime=p,p=NaN},400)}}})},play:function Re(){if(h){h.autoplay=!0;var ze=h.play();ze&&ze.catch&&typeof Promise<"u"&&ze.catch(function(ht){"NotAllowedError"===ht.name&&O.trigger(A.default.PLAYBACK_NOT_ALLOWED),i.warn("Caught pending play exception - continuing (".concat(ht,")"))})}},isPaused:function Fe(){return h?h.paused:null},pause:function Ne(){h&&(h.pause(),h.autoplay=!1)},isStalled:Ve,isSeeking:function at(){return h?h.seeking||!isNaN(p):null},getTime:function Be(){return h?isNaN(p)?h.currentTime:p:null},getPlaybackRate:function ye(){return h?h.playbackRate:null},setPlaybackRate:function U(ze){h&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&h.readyState<=2&&ze>0?h.addEventListener("canplay",C):h.playbackRate=ze)},getPlayedRanges:function ve(){return h?h.played:null},getEnded:function K(){return h?h.ended:null},setStallState:function xe(ze,ht){!function Ce(ze,ht){ht?function fe(ze){null===ze||!h||h.seeking||-1!==D.indexOf(ze)||D.push(ze)}(ze):function Pe(ze){var ht=D.indexOf(ze);null!==ze&&-1!==ht&&D.splice(ht,1)}(ze)}(ze,ht)},getElement:function te(){return h},setElement:function Me(ze){if(!(null==ze||ze&&/^(VIDEO|AUDIO)$/i.test(ze.nodeName)))throw"element is not video or audio DOM type!";(h=ze)&&(h.preload="auto")},setSource:function J(ze){h&&(ze?h.src=ze:(h.removeAttribute("src"),h.load()))},getSource:function ce(){return h?h.src:null},getTTMLRenderingDiv:function W(){return T},setTTMLRenderingDiv:function le(ze){(T=ze).style.position="absolute",T.style.display="flex",T.style.overflow="hidden",T.style.pointerEvents="none",T.style.top=0,T.style.left=0},getVttRenderingDiv:function Se(){return B},setVttRenderingDiv:function Ee(ze){B=ze},getPlaybackQuality:function De(){if(!h)return null;var ze="webkitDroppedFrameCount"in h&&"webkitDecodedFrameCount"in h,Et=null;return"getVideoPlaybackQuality"in h?Et=h.getVideoPlaybackQuality():ze&&(Et={droppedVideoFrames:h.webkitDroppedFrameCount,totalVideoFrames:h.webkitDroppedFrameCount+h.webkitDecodedFrameCount,creationTime:new Date}),Et},addEventListener:se,removeEventListener:ge,getReadyState:oe,getBufferRange:Q,getClientWidth:function q(){return h?h.clientWidth:NaN},getClientHeight:function $(){return h?h.clientHeight:NaN},getTextTracks:function Te(){return h?h.textTracks:[]},getTextTrack:be,addTextTrack:function Le(ze,ht,Et,de,He){if(!h)return null;var bt=be(ze,ht,Et,de,He);return bt||((bt=h.addTextTrack(ze,ht,Et)).isEmbedded=He,bt.isTTML=de),bt},appendChild:function et(ze){h&&(h.appendChild(ze),void 0!==ze.isTTML&&(h.textTracks[h.textTracks.length-1].isTTML=ze.isTTML,h.textTracks[h.textTracks.length-1].isEmbedded=ze.isEmbedded))},removeChild:function Qe(ze){h&&h.removeChild(ze)},getVideoWidth:function ie(){return h?h.videoWidth:NaN},getVideoHeight:function Z(){return h?h.videoHeight:NaN},getVideoRelativeOffsetTop:function X(){var ze=h.parentNode.host||h.parentNode;return ze?h.getBoundingClientRect().top-ze.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function pe(){var ze=h.parentNode.host||h.parentNode;return ze?h.getBoundingClientRect().left-ze.getBoundingClientRect().left:NaN},waitForReadyState:qe,reset:function L(){O.off(A.default.PLAYBACK_PLAYING,me,this)}},function I(){i=Object(_.default)(F).getInstance().getLogger(d),p=NaN}(),d}g.__dashjs_factory_name="VideoModel",v.default=n.default.getSingletonFactory(g)},"./src/streaming/net/FetchLoader.js":
/*!******************************************!*\
                  !*** ./src/streaming/net/FetchLoader.js ***!
                  \******************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),A=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),_=e(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function x(P,k){return function d(P){if(Array.isArray(P))return P}(P)||function g(P,k){var F=null==P?null:typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(null!=F){var O,D,I,S,L=[],C=!0,U=!1;try{if(I=(F=F.call(P)).next,0===k){if(Object(F)!==F)return;C=!1}else for(;!(C=(O=I.call(F)).done)&&(L.push(O.value),L.length!==k);C=!0);}catch(z){U=!0,D=z}finally{try{if(!C&&null!=F.return&&(S=F.return(),Object(S)!==S))return}finally{if(U)throw D}}return L}}(P,k)||h(P,k)||function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(P,k){if(P){if("string"==typeof P)return p(P,k);var F=Object.prototype.toString.call(P).slice(8,-1);if("Object"===F&&P.constructor&&(F=P.constructor.name),"Map"===F||"Set"===F)return Array.from(P);if("Arguments"===F||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return p(P,k)}}function p(P,k){(null==k||k>P.length)&&(k=P.length);for(var F=0,O=new Array(k);F<k;F++)O[F]=P[F];return O}function T(P){var L,k=this.context,F=(P=P||{}).requestModifier,O=P.lowLatencyThroughputModel,D=P.boxParser,I=Object(b.default)(k).getInstance();function z(W){var fe,Se=new Date,le=W.request,Ee=new Headers;if(le.range&&Ee.append("Range","bytes="+le.range),W.headers)for(var xe in W.headers){var Ve=W.headers[xe];Ve&&Ee.append(xe,Ve)}le.requestStartDate||(le.requestStartDate=Se),F&&F.modifyRequestHeader&&F.modifyRequestHeader({setRequestHeader:function(Fe,Ne){Ee.append(Fe,Ne)}},{url:W.url}),"function"==typeof window.AbortController&&(fe=new AbortController,W.abortController=fe,fe.signal.onabort=W.onabort);var Pe={method:W.method,headers:Ee,credentials:W.withCredentials?"include":void 0,signal:fe?fe.signal:void 0},Ce=I.get().streaming.abr.fetchThroughputCalculationMode,me=Date.now(),De=0;new Promise(function(Re){if(Ce===A.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O&&(De=O.getThroughputCapacityDelayMS(le,1e3*L.getCurrentBufferLevel(le.mediaType))))return setTimeout(Re,De);Re()}).then(function(){var Re=Date.now();fetch(W.url,Pe).then(function(Fe){W.response||(W.response={}),W.response.status=Fe.status,W.response.statusText=Fe.statusText,W.response.responseURL=Fe.url,Fe.ok||W.onerror();var Be,Ne="",at=function i(P,k){var F=typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(!F){if(Array.isArray(P)||(F=h(P))||k&&P&&"number"==typeof P.length){F&&(P=F);var O=0,D=function(){};return{s:D,n:function(){return O>=P.length?{done:!0}:{done:!1,value:P[O++]}},e:function(U){throw U},f:D}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var L,I=!0,S=!1;return{s:function(){F=F.call(P)},n:function(){var U=F.next();return I=U.done,U},e:function(U){S=!0,L=U},f:function(){try{!I&&null!=F.return&&F.return()}finally{if(S)throw L}}}}(Fe.headers.keys());try{for(at.s();!(Be=at.n()).done;){var ye=Be.value;Ne+=ye+": "+Fe.headers.get(ye)+"\r\n"}}catch(qe){at.e(qe)}finally{at.f()}if(W.response.responseHeaders=Ne,!Fe.body)return Fe.arrayBuffer().then(function(qe){W.response.response=qe,W.progress({loaded:qe.byteLength,total:qe.byteLength,stream:!1}),W.onload(),W.onend()});var ze,ht,ve=parseInt(Fe.headers.get("Content-Length"),10),K=0,se=!1,ge=new Uint8Array,oe=0;if(Ce===A.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O){var q=Re,$=0,Z=x(Fe.body.tee(),2),pe=Z[1];ze=Z[0].getReader(),ht=[],ze.read().then(function Et(de){var He=de.value,bt=de.done;if($=Date.now(),He&&He.length){var Ut=$-q,Zt=He.length;ht.push({chunkDownloadTimeRelativeMS:$-Re,chunkDownloadDurationMS:Ut,chunkBytes:Zt,kbps:Math.round(8*Zt/(Ut/1e3)),bufferLevel:L.getCurrentBufferLevel(le.mediaType)})}if(bt){var Kt=$-Re,pn=ht.reduce(function(rn,xt){return rn+xt.chunkBytes},0);return O.addMeasurement(le,Kt,ht,me,De,Ne),void W.progress({loaded:pn,total:pn,lengthComputable:!0,time:O.getEstimatedDownloadDurationMS(le),stream:!0})}return q=Date.now(),ze.read().then(Et)}),W.reader=pe.getReader()}else W.reader=Fe.body.getReader();var Te=[],be=[],Le=[],et=!0;ne(W,function qe(ft){var ze=ft.value;if(ft.done){if(ge){if(Ce!==A.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var Et=null,de=null;Ce===A.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(Et=function ce(W,Se){try{var le,Ee;le=W.filter(function(Re,Fe){return Fe<W.length-1}),Ee=Se.filter(function(Re,Fe){return Fe<Se.length-1});var xe=[];if(le.length>1){for(var Ve=0,fe=0,Pe=0;Pe<le.length;Pe++)if(le[Pe]&&Ee[Pe]){var Ce=Ee[Pe].ts-le[Pe].ts;if(Ce>1)xe.push(8*Ee[Pe].bytes/Ce);else{0===fe&&(fe=le[Pe].ts);var me=Ee[Pe].ts-fe;me>1?(xe.push(8*Ve/me),Ve=0,fe=0):Ve+=Ee[Pe].bytes}}if(xe.length>0)return xe.reduce(function(Re,Fe){return Re+Fe},0)/xe.length}return null}catch{return null}}(be,Le))&&(de=8*K/Et):Ce===A.default.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(de=J(Te,K)),W.progress({loaded:K,total:isNaN(ve)?K:ve,lengthComputable:!0,time:de,stream:!0})}W.response.response=ge.buffer}return W.onload(),void W.onend()}if(ze&&ze.length>0){ge=function te(W,Se){if(0===W.length)return Se;var le=new Uint8Array(W.length+Se.length);return le.set(W),le.set(Se,W.length),le}(ge,ze),K+=ze.length,Te.push({ts:Date.now(),bytes:ze.length}),Ce===A.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&et&&D.findLastTopIsoBoxCompleted(["moof"],ge,oe).found&&(et=!1,be.push({ts:performance.now(),bytes:ze.length}));var bt=D.findLastTopIsoBoxCompleted(["moov","mdat"],ge,oe);if(bt.found){var Zt,Ut=bt.lastCompletedOffset+bt.size;Ce===A.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&!et&&(et=!0,Le.push({ts:performance.now(),bytes:ge.length})),Ut===ge.length?(Zt=ge,ge=new Uint8Array):(Zt=new Uint8Array(ge.subarray(0,Ut)),ge=ge.subarray(Ut)),W.progress({data:Zt.buffer,lengthComputable:!1,noTrace:!0}),oe=0}else oe=bt.lastCompletedOffset,se||(W.progress({lengthComputable:!1,noTrace:!0}),se=!0)}ne(W,qe)})}).catch(function(Fe){W.onerror&&W.onerror(Fe)})})}function ne(W,Se){W.reader.read().then(Se).catch(function(le){W.onerror&&200===W.response.status&&W.onerror(le)})}function J(W,Se){try{if((W=W.filter(function(xe){return xe.bytes>Se/4/W.length})).length>1){var le=0,Ee=(W[W.length-1].ts-W[0].ts)/W.length;return W.forEach(function(xe,Ve){var fe=W[Ve+1];if(fe){var Pe=fe.ts-xe.ts;le+=Pe<Ee?Pe:0}}),le}return null}catch{return null}}return{load:function U(W){F&&F.modifyRequest?Object(_.modifyRequest)(W,F).then(function(){return z(W)}):z(W)},abort:function Me(W){if(W.abortController)W.abortController.abort();else if(W.reader)try{W.reader.cancel(),W.onabort()}catch{}},calculateDownloadedTime:J,setup:function C(W){L=W.dashMetrics}}}T.__dashjs_factory_name="FetchLoader";var B=n.default.getClassFactory(T);v.default=B},"./src/streaming/net/HTTPLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/net/HTTPLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./XHRLoader */
"./src/streaming/net/XHRLoader.js"),b=e(
/*! ./FetchLoader */
"./src/streaming/net/FetchLoader.js"),A=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),_=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),x=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),w=e(
/*! ../models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),g=e(
/*! ../../core/Utils */
"./src/core/Utils.js"),d=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),i=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),h=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=e(
/*! ../../core/Settings */
"./src/core/Settings.js"),T=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),B=e(
/*! ../models/LowLatencyThroughputModel */
"./src/streaming/models/LowLatencyThroughputModel.js"),P=e(
/*! ../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function k(L){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(L)}function F(L,C,U){return(C=function O(L){var C=function D(L,C){if("object"!==k(L)||null===L)return L;var U=L[Symbol.toPrimitive];if(void 0!==U){var z=U.call(L,C||"default");if("object"!==k(z))return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(L)}(L,"string");return"symbol"===k(C)?C:String(C)}(C))in L?Object.defineProperty(L,C,{value:U,enumerable:!0,configurable:!0,writable:!0}):L[C]=U,L}function I(L){var le,Ee,xe,Ve,fe,Pe,Ce,me,De,C=this.context,U=(L=L||{}).errHandler,z=L.dashMetrics,ne=L.mediaPlayerModel,te=L.requestModifier,Me=L.boxParser,J=L.errors,ce=L.requestTimeout||0,W=Object(i.default)(C).getInstance(),Se=Object(p.default)(C).getInstance();function Fe(ye,ve){var Z,K=ye.request,se=[],ge=!0,oe=!0,Q=new Date,q=Q,$=0,ie=null;if(!te||!z||!U)throw new Error("config object is not correct or missing");var Qe,X=function(Zt){if(oe=!1,K.requestStartDate=Q,K.requestEndDate=new Date,K.firstByteDate=K.firstByteDate||Q,K.fileLoaderType=ie,!K.checkExistenceOnly){var Kt=Z.response?Z.response.responseURL:null,pn=Z.response?Z.response.status:null,rn=Z.response&&Z.response.getAllResponseHeaders?Z.response.getAllResponseHeaders():Z.response?Z.response.responseHeaders:[];z.addHttpRequest(K,Kt,pn,rn,Zt?se:null),K.type===A.HTTPRequest.MPD_TYPE&&z.addManifestUpdate(K)}},pe=function(){if(-1!==Ee.indexOf(Z)&&(Ee.splice(Ee.indexOf(Z),1),oe))if(X(!1),ve>0){try{Se.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&K.type===A.HTTPRequest.MEDIA_SEGMENT_TYPE&&ne.getRetryAttemptsForType(A.HTTPRequest.MEDIA_SEGMENT_TYPE)===ve&&W.trigger(h.default.ATTEMPT_BACKGROUND_SYNC)}catch{}ve--;var Kt={config:ye};Ve.push(Kt),Kt.timeout=setTimeout(function(){-1!==Ve.indexOf(Kt)&&(Ve.splice(Ve.indexOf(Kt),1),Fe(ye,ve))},ne.getRetryIntervalsForType(K.type))}else{if(K.type===A.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;U.error(new x.default(fe[K.type],K.url+" is not available",{request:K,response:Z.response})),ye.error&&ye.error(K,"error",Z.response.statusText),ye.complete&&ye.complete(K,Z.response.statusText)}};K.hasOwnProperty("availabilityTimeComplete")&&!1===K.availabilityTimeComplete&&window.fetch&&"arraybuffer"===K.responseType&&K.type===A.HTTPRequest.MEDIA_SEGMENT_TYPE?((Qe=Object(b.default)(C).create({requestModifier:te,lowLatencyThroughputModel:me,boxParser:Me})).setup({dashMetrics:z}),ie=T.default.FILE_LOADER_TYPES.FETCH):(Qe=Object(n.default)(C).create({requestModifier:te}),ie=T.default.FILE_LOADER_TYPES.XHR);var qe=null,ft=te.modifyRequestURL?te.modifyRequestURL(K.url):K.url;if(Se.get().streaming.cmcd&&Se.get().streaming.cmcd.enabled){var ze=Se.get().streaming.cmcd.mode;if(ze===T.default.CMCD_MODE_QUERY){var ht=function Ne(ye){try{var ve=[],K=Pe.getQueryParameter(ye);return K&&ve.push(K),ve}catch{return[]}}(K);ft=g.default.addAditionalQueryParameterToUrl(ft,ht)}else ze===T.default.CMCD_MODE_HEADER&&(qe=Pe.getHeaderParameters(K))}K.url=ft;var Et=K.checkExistenceOnly?A.HTTPRequest.HEAD:A.HTTPRequest.GET,de=Ce.getXHRWithCredentialsForType(K.type);Z={url:ft,method:Et,withCredentials:de,request:K,onload:function(){Z.response.status>=200&&Z.response.status<=299&&(X(!0),ye.success&&ye.success(Z.response.response,Z.response.statusText,Z.response.responseURL),ye.complete&&ye.complete(K,Z.response.statusText))},onend:pe,onerror:pe,progress:function(Zt){var Kt=new Date;ge&&(ge=!1,(!Zt.lengthComputable||Zt.lengthComputable&&Zt.total!==Zt.loaded)&&(K.firstByteDate=Kt)),Zt.lengthComputable&&(K.bytesLoaded=Zt.loaded,K.bytesTotal=Zt.total),Zt.noTrace||(se.push({s:q,d:Zt.time?Zt.time:Kt.getTime()-q.getTime(),b:[Zt.loaded?Zt.loaded-$:0]}),q=Kt,$=Zt.loaded),ye.progress&&Zt&&ye.progress(Zt)},onabort:function(){ye.abort&&ye.abort(K)},ontimeout:function(Zt){var Kt;Kt=Zt.lengthComputable?"Request timeout: loaded: "+Zt.loaded+", out of: "+Zt.total+" : "+(Zt.loaded/Zt.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",De.warn(Kt)},loader:Qe,timeout:ce,headers:qe};var He=(new Date).getTime();if(isNaN(K.delayLoadingTime)||He>=K.delayLoadingTime)Ee.push(Z),Qe.load(Z);else{var bt={httpRequest:Z};xe.push(bt),bt.delayTimeout=setTimeout(function(){if(-1!==xe.indexOf(bt)){xe.splice(xe.indexOf(bt),1);try{q=Q=new Date,Ee.push(bt.httpRequest),Qe.load(bt.httpRequest)}catch{bt.httpRequest.onerror()}}},K.delayLoadingTime-He)}}return le={load:function at(ye){ye.request?Fe(ye,ne.getRetryAttemptsForType(ye.request.type)):ye.error&&ye.error(ye.request,"error")},abort:function Be(){Ve.forEach(function(ye){clearTimeout(ye.timeout),ye.config.request&&ye.config.abort&&ye.config.abort(ye.config.request)}),Ve=[],xe.forEach(function(ye){return clearTimeout(ye.delayTimeout)}),xe=[],Ee.forEach(function(ye){ye.request.type!==A.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(ye.onloadend=ye.onerror=ye.onprogress=void 0,ye.loader.abort(ye))}),Ee=[]}},function Re(){var ye;De=Object(d.default)(C).getInstance().getLogger(le),Ee=[],xe=[],Ve=[],Pe=Object(w.default)(C).getInstance(),me=Object(B.default)(C).getInstance(),Ce=Object(P.default)(C).getInstance(),F(ye={},A.HTTPRequest.MPD_TYPE,J.DOWNLOAD_ERROR_ID_MANIFEST_CODE),F(ye,A.HTTPRequest.XLINK_EXPANSION_TYPE,J.DOWNLOAD_ERROR_ID_XLINK_CODE),F(ye,A.HTTPRequest.INIT_SEGMENT_TYPE,J.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),F(ye,A.HTTPRequest.MEDIA_SEGMENT_TYPE,J.DOWNLOAD_ERROR_ID_CONTENT_CODE),F(ye,A.HTTPRequest.INDEX_SEGMENT_TYPE,J.DOWNLOAD_ERROR_ID_CONTENT_CODE),F(ye,A.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,J.DOWNLOAD_ERROR_ID_CONTENT_CODE),F(ye,A.HTTPRequest.OTHER_TYPE,J.DOWNLOAD_ERROR_ID_CONTENT_CODE),fe=ye}(),le}I.__dashjs_factory_name="HTTPLoader";var S=_.default.getClassFactory(I);v.default=S},"./src/streaming/net/SchemeLoaderFactory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/net/SchemeLoaderFactory.js ***!
                  \**************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../streaming/net/HTTPLoader */
"./src/streaming/net/HTTPLoader.js");function A(){var w;function i(){w={}}function p(){i()}return function T(){p()}(),{getLoader:function h(B){for(var P in w)if(w.hasOwnProperty(P)&&B.startsWith(P))return w[P];return b.default},registerLoader:function g(B,P){w[B]=P},unregisterLoader:function d(B){w[B]&&delete w[B]},unregisterAllLoader:i,reset:p}}A.__dashjs_factory_name="SchemeLoaderFactory";var _=n.default.getSingletonFactory(A);v.default=_},"./src/streaming/net/URLLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/URLLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../streaming/net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js");function A(x){x=x||{};var d,i,w=this.context;return d=Object(b.default)(w).getInstance(),{load:function h(T){if(!i){var B=d.getLoader(T&&T.request?T.request.url:null);i=B(w).create({errHandler:x.errHandler,mediaPlayerModel:x.mediaPlayerModel,requestModifier:x.requestModifier,dashMetrics:x.dashMetrics,boxParser:x.boxParser?x.boxParser:null,constants:x.constants?x.constants:null,dashConstants:x.dashConstants?x.dashConstants:null,urlUtils:x.urlUtils?x.urlUtils:null,requestTimeout:isNaN(x.requestTimeout)?0:x.requestTimeout,errors:x.errors})}i.load(T)},abort:function p(){i&&i.abort()}}}A.__dashjs_factory_name="URLLoader";var _=n.default.getClassFactory(A);v.default=_},"./src/streaming/net/XHRLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/XHRLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function A(x){var w=(x=x||{}).requestModifier;function i(p){var T=new Date,B=p.request,P=new XMLHttpRequest;if(P.open(p.method,p.url,!0),B.responseType&&(P.responseType=B.responseType),B.range&&P.setRequestHeader("Range","bytes="+B.range),B.requestStartDate||(B.requestStartDate=T),w&&w.modifyRequestHeader&&(P=w.modifyRequestHeader(P,{url:p.url})),p.headers)for(var k in p.headers){var F=p.headers[k];F&&P.setRequestHeader(k,F)}P.withCredentials=p.withCredentials,P.onload=p.onload,P.onloadend=p.onend,P.onerror=p.onerror,P.onprogress=p.progress,P.onabort=p.onabort,P.ontimeout=p.ontimeout,P.timeout=p.timeout,P.send(),p.response=P}return{load:function d(p){w&&w.modifyRequest?Object(b.modifyRequest)(p,w).then(function(){return i(p)}):i(p)},abort:function h(p){var T=p.response;T.onloadend=T.onerror=T.onprogress=void 0,T.abort()}}}A.__dashjs_factory_name="XHRLoader";var _=n.default.getClassFactory(A);v.default=_},"./src/streaming/protection/CommonEncryption.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/CommonEncryption.js ***!
                  \******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(i){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function A(i,h){for(var p=0;p<h.length;p++){var T=h[p];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(i,x(T.key),T)}}function x(i){var h=function w(i,h){if("object"!==n(i)||null===i)return i;var p=i[Symbol.toPrimitive];if(void 0!==p){var T=p.call(i,h||"default");if("object"!==n(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(i)}(i,"string");return"symbol"===n(h)?h:String(h)}e.r(v);var g={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};v.default=function(){function i(){!function b(i,h){if(!(i instanceof h))throw new TypeError("Cannot call a class as a function")}(this,i)}return function _(i,h,p){return h&&A(i.prototype,h),p&&A(i,p),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,null,[{key:"findCencContentProtection",value:function(p){for(var T=null,B=0;B<p.length;++B){var P=p[B];"urn:mpeg:dash:mp4protection:2011"===P.schemeIdUri.toLowerCase()&&("cenc"===P.value.toLowerCase()||"cbcs"===P.value.toLowerCase())&&(T=P)}return T}},{key:"getPSSHData",value:function(p){var T=8,B=new DataView(p),P=B.getUint8(T);return T+=20,P>0&&(T+=4+16*B.getUint32(T)),p.slice(T+=4)}},{key:"getPSSHForKeySystem",value:function(p,T){var B=i.parsePSSHList(T);return p&&B.hasOwnProperty(p.uuid.toLowerCase())?B[p.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(p,T){return"pssh"in p?(p.pssh.__text=p.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),T.decodeArray(p.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(p){if(null==p)return[];for(var T=new DataView(p.buffer||p),P={},k=0;;){var O,D=void 0,I=void 0,S=k;if(k>=T.buffer.byteLength)break;if(O=k+T.getUint32(k),1886614376===T.getUint32(k+=4))if(0===(D=T.getUint8(k+=4))||1===D){k++,k+=3,I="";var L=void 0,C=void 0;for(L=0;L<4;L++)I+=1===(C=T.getUint8(k+L).toString(16)).length?"0"+C:C;for(k+=4,I+="-",L=0;L<2;L++)I+=1===(C=T.getUint8(k+L).toString(16)).length?"0"+C:C;for(k+=2,I+="-",L=0;L<2;L++)I+=1===(C=T.getUint8(k+L).toString(16)).length?"0"+C:C;for(k+=2,I+="-",L=0;L<2;L++)I+=1===(C=T.getUint8(k+L).toString(16)).length?"0"+C:C;for(k+=2,I+="-",L=0;L<6;L++)I+=1===(C=T.getUint8(k+L).toString(16)).length?"0"+C:C;k+=6,k+=4,P[I=I.toLowerCase()]=T.buffer.slice(S,O),k=O}else k=O;else k=O}return P}},{key:"getLicenseServerUrlFromMediaInfo",value:function(p,T){try{if(!p||0===p.length)return null;for(var B=0,P=null;B<p.length&&!P;){var k=p[B];if(k&&k.contentProtection&&k.contentProtection.length>0){var F=k.contentProtection.filter(function(U){return U.schemeIdUri&&U.schemeIdUri===T});if(F&&F.length>0)for(var O=0;O<F.length&&!P;){for(var D=F[O],I=0;I<g.attributes.length&&!P;){for(var S=0,L=g.attributes[I];S<g.prefixes.length&&!P;)D[L]&&D[L].__prefix&&D[L].__prefix===g.prefixes[S]&&D[L].__text&&(P=D[L].__text),S+=1;I+=1}O+=1}}B+=1}return P}catch{return null}}}]),i}()},"./src/streaming/protection/Protection.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/Protection.js ***!
                  \************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./controllers/ProtectionController */
"./src/streaming/protection/controllers/ProtectionController.js"),b=e(
/*! ./controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),A=e(
/*! ./ProtectionEvents */
"./src/streaming/protection/ProtectionEvents.js"),_=e(
/*! ./errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),x=e(
/*! ./models/ProtectionModel_21Jan2015 */
"./src/streaming/protection/models/ProtectionModel_21Jan2015.js"),w=e(
/*! ./models/ProtectionModel_3Feb2014 */
"./src/streaming/protection/models/ProtectionModel_3Feb2014.js"),g=e(
/*! ./models/ProtectionModel_01b */
"./src/streaming/protection/models/ProtectionModel_01b.js"),d=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],i=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function h(){var T,B=this.context;function F(O,D){for(var I=0;I<D.length;I++){var S=D[I];if("function"==typeof O[S[Object.keys(S)[0]]])return S}return null}return T={createProtectionSystem:function P(O){var D=null,I=Object(b.default)(B).getInstance();I.setConfig({debug:O.debug,BASE64:O.BASE64,settings:O.settings}),I.initialize();var S=function k(O){var D=O.debug,I=D.getLogger(T),S=O.eventBus,L=O.errHandler,C=O.videoModel?O.videoModel.getElement():null;return C&&void 0===C.onencrypted||C&&void 0===C.mediaKeys?F(C,i)?(I.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Object(w.default)(B).create({debug:D,eventBus:S,events:O.events,api:F(C,i)})):F(C,d)?(I.info("EME detected on this user agent! (ProtectionModel_01b)"),Object(g.default)(B).create({debug:D,eventBus:S,errHandler:L,events:O.events,api:F(C,d)})):(I.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(I.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Object(x.default)(B).create({debug:D,eventBus:S,events:O.events}))}(O);return!D&&S&&(D=Object(n.default)(B).create({protectionModel:S,protectionKeyController:I,eventBus:O.eventBus,debug:O.debug,events:O.events,BASE64:O.BASE64,constants:O.constants,cmcdModel:O.cmcdModel,customParametersModel:O.customParametersModel,settings:O.settings}),O.capabilities.setEncryptedMediaSupported(!0)),D}}}h.__dashjs_factory_name="Protection";var p=dashjs.FactoryMaker.getClassFactory(h);p.events=A.default,p.errors=_.default,dashjs.FactoryMaker.updateClassFactory(h.__dashjs_factory_name,p),v.default=p},"./src/streaming/protection/ProtectionEvents.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/ProtectionEvents.js ***!
                  \******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function A(O,D){for(var I=0;I<D.length;I++){var S=D[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(O,x(S.key),S)}}function x(O){var D=function w(O,D){if("object"!==b(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var S=I.call(O,D||"default");if("object"!==b(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===b(D)?D:String(D)}function d(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&i(O,D)}function i(O,D){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,L){return S.__proto__=L,S})(O,D)}function h(O){var D=function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,S=P(O);if(D){var C=P(this).constructor;L=Reflect.construct(S,arguments,C)}else L=S.apply(this,arguments);return function p(O,D){if(D&&("object"===b(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function T(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function P(O){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(v);var F=new(function(O){d(I,O);var D=h(I);function I(){var S;return function g(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),(S=D.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",S.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",S.KEY_ADDED="public_keyAdded",S.KEY_ERROR="public_keyError",S.KEY_MESSAGE="public_keyMessage",S.KEY_SESSION_CLOSED="public_keySessionClosed",S.KEY_SESSION_CREATED="public_keySessionCreated",S.KEY_SESSION_REMOVED="public_keySessionRemoved",S.KEY_STATUSES_CHANGED="public_keyStatusesChanged",S.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",S.KEY_SYSTEM_SELECTED="public_keySystemSelected",S.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",S.LICENSE_REQUEST_SENDING="public_licenseRequestSending",S.NEED_KEY="needkey",S.PROTECTION_CREATED="public_protectioncreated",S.PROTECTION_DESTROYED="public_protectiondestroyed",S.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",S.TEARDOWN_COMPLETE="protectionTeardownComplete",S.VIDEO_ELEMENT_SELECTED="videoElementSelected",S.KEY_SESSION_UPDATED="public_keySessionUpdated",S}return function _(O,D,I){return D&&A(O.prototype,D),I&&A(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));v.default=F},"./src/streaming/protection/controllers/ProtectionController.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionController.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=e(
/*! ../vo/MediaCapability */
"./src/streaming/protection/vo/MediaCapability.js"),A=e(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),_=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),x=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),w=e(
/*! ../vo/LicenseRequest */
"./src/streaming/protection/vo/LicenseRequest.js"),g=e(
/*! ../vo/LicenseResponse */
"./src/streaming/protection/vo/LicenseResponse.js"),d=e(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),i=e(
/*! ../../../core/Utils */
"./src/core/Utils.js"),h=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),p=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function T(I){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(I)}function D(I){var Se,le,Ee,xe,Ve,fe,Pe,Ce,me,De,Re,S=(I=I||{}).protectionKeyController,L=I.protectionModel,C=I.eventBus,U=I.events,z=I.debug,ne=I.BASE64,te=I.constants,Me=[],J=I.cmcdModel,ce=I.settings,W=I.customParametersModel;function Ne(){if(!(C&&C.hasOwnProperty("on")&&S&&S.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function ve(Ke,rt){Ce||me?Ce&&se():function K(Ke,rt){if(!me){me=!0;var _t,ot=[];Ke=Ke.sort(function(qt,fn){return(Ve&&Ve[qt.ks.systemString]&&Ve[qt.ks.systemString].priority>=0?Ve[qt.ks.systemString].priority:Ke.length)-(Ve&&Ve[fn.ks.systemString]&&Ve[fn.ks.systemString].priority>=0?Ve[fn.ks.systemString].priority:Ke.length)});for(var yt=0;yt<Ke.length;yt++){var mt=ht(Ke[yt]);ot.push({ks:Ke[yt].ks,configs:[mt],protData:Ke[yt].protData})}L.requestKeySystemAccess(ot).then(function(qt){return le.info("DRM: KeySystem Access Granted for system string ("+((_t=qt.data).mksa&&_t.mksa.selectedSystemString?_t.mksa.selectedSystemString:_t.keySystem.systemString)+")!  Selecting key system..."),L.selectKeySystem(_t)}).then(function(qt){if(Ce=qt,me=!1,L){C.trigger(U.KEY_SYSTEM_SELECTED,{data:_t});var fn=q(Ce);fn&&fn.serverCertificate&&fn.serverCertificate.length>0&&L.setServerCertificate(ne.decodeArray(fn.serverCertificate).buffer),se()}}).catch(function(qt){Ce=null,me=!1,rt||C.trigger(U.KEY_SYSTEM_SELECTED,{data:null,error:new x.default(_.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,_.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+qt.error)})})}}(Ke,rt)}function se(){for(var Ke,rt=0;rt<Ee.length;rt++)for(Ke=0;Ke<Ee[rt].length;Ke++)if(Ce===Ee[rt][Ke].ks){ge(Ee[rt][Ke]);break}Ee=[]}function ge(Ke){if(S.isClearKey(Ce)&&Ke.protData&&Ke.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(Ke.protData.clearkeys).length){var rt={kids:Object.keys(Ke.protData.clearkeys)};Ke.initData=(new TextEncoder).encode(JSON.stringify(rt))}Ke.sessionId?oe(Ke):null!==Ke.initData&&Q(Ke)}function oe(Ke){Ne(),L.loadKeySession(Ke)}function Q(Ke){var rt=n.default.getPSSHForKeySystem(Ce,Ke?Ke.initData:null);if(rt){if(function Z(Ke){if(!Ke)return!1;try{for(var rt=L.getSessions(),ot=0;ot<rt.length;ot++)if(rt[ot].getKeyId()===Ke)return!0;return!1}catch{return!1}}(Ke.keyId)||X(rt))return;try{Ke.initData=rt,L.createKeySession(Ke)}catch(ot){C.trigger(U.KEY_SESSION_CREATED,{data:null,error:new x.default(_.default.KEY_SESSION_CREATED_ERROR_CODE,_.default.KEY_SESSION_CREATED_ERROR_MESSAGE+ot.message)})}}else Ke&&Ke.initData?L.createKeySession(Ke):C.trigger(U.KEY_SESSION_CREATED,{data:null,error:new x.default(_.default.KEY_SESSION_CREATED_ERROR_CODE,_.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(Ce?Ce.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function q(Ke){if(Ke){var rt=Ke.systemString;if(Ve)return rt in Ve?Ve[rt]:null}return null}function X(Ke){if(!Ke)return!1;try{for(var rt=L.getAllInitData(),ot=0;ot<rt.length;ot++)if(S.initDataEquals(Ke,rt[ot]))return le.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Le(Ke){Ne(),Ke?(L.setMediaElement(Ke),C.on(U.NEED_KEY,vt,Se)):null===Ke&&(L.setMediaElement(Ke),C.off(U.NEED_KEY,vt,Se))}function ht(Ke){var rt=Ke.protData,ot=[],yt=[],mt=rt&&rt.audioRobustness&&rt.audioRobustness.length>0?rt.audioRobustness:Pe,_t=rt&&rt.videoRobustness&&rt.videoRobustness.length>0?rt.videoRobustness:Pe,qt=Ke.sessionType,fn=rt&&rt.distinctiveIdentifier?rt.distinctiveIdentifier:"optional",Qt=rt&&rt.persistentState?rt.persistentState:"temporary"===qt?"optional":"required";return xe.forEach(function(gn){gn.type===te.AUDIO?ot.push(new b.default(gn.codec,mt)):gn.type===te.VIDEO&&yt.push(new b.default(gn.codec,_t))}),new A.default(ot,yt,fn,Qt,[qt])}function Et(Ke){Ke.error?C.trigger(U.KEY_STATUSES_CHANGED,{data:null,error:Ke.error}):le.debug("DRM: key status = "+Ke.status)}function de(Ke){le.debug("DRM: onKeyMessage");var rt=Ke.data;C.trigger(U.KEY_MESSAGE,{data:rt});var ot=rt.messageType?rt.messageType:"license-request",yt=rt.message,mt=rt.sessionToken,_t=q(Ce),qt=S.getLicenseServerModelInstance(Ce,_t,ot),fn={sessionToken:mt,messageType:ot};if(yt&&0!==yt.byteLength){if(!qt)return le.debug("DRM: License server request not required for this message (type = "+Ke.data.messageType+").  Session ID = "+mt.getSessionId()),void He(fn);if(S.isClearKey(Ce)){var Qt=S.processClearKeyLicenseRequest(Ce,_t,yt);if(Qt&&Qt.keyPairs&&Qt.keyPairs.length>0)return le.debug("DRM: ClearKey license request handled by application!"),He(fn),void L.updateKeySession(mt,Qt)}!function bt(Ke,rt,ot){var yt=Ke.sessionToken,mt=Ke.messageType?Ke.messageType:"license-request",_t={sessionToken:yt,messageType:mt},qt=Ce?Ce.systemString:null,fn=function Kt(Ke,rt,ot,yt,mt){var _t=null,qt=yt.message;if(Ke&&Ke.serverURL){var fn=Ke.serverURL;"string"==typeof fn&&""!==fn?_t=fn:"object"===T(fn)&&fn.hasOwnProperty(rt)&&(_t=fn[rt])}else if(Ke&&Ke.laURL&&""!==Ke.laURL)_t=Ke.laURL;else if(!(_t=n.default.getLicenseServerUrlFromMediaInfo(xe,Ce.schemeIdURI))&&!S.isClearKey(Ce)){var Qt=n.default.getPSSHData(ot.initData);(_t=Ce.getLicenseServerURLFromInitData(Qt))||(_t=yt.laURL)}return mt.getServerURLFromMessage(_t,qt,rt)}(ot,mt,yt,Ke,rt);if(fn){var Qt={},gn=!1;ot&&pn(Qt,ot.httpRequestHeaders);var Tn=Ke.message;pn(Qt,Ce.getRequestHeadersFromMessage(Tn)),Object.keys(Qt).forEach(function(Tt){"authorization"===Tt.toLowerCase()&&(gn=!0)}),ot&&"boolean"==typeof ot.withCredentials&&(gn=ot.withCredentials);var Gn=function(Yt){if(L)if(Yt.status>=200&&Yt.status<=299){var Rt=i.default.parseHttpHeaders(Yt.getAllResponseHeaders?Yt.getAllResponseHeaders():null),bn=new g.default(Yt.responseURL,Rt,Yt.response);xt(W.getLicenseResponseFilters(),bn).then(function(){var Ct=rt.getLicenseMessage(bn.data,qt,mt);null!==Ct?(He(_t),L.updateKeySession(yt,Ct)):rn(Yt,_t,qt,mt,rt)})}else rn(Yt,_t,qt,mt,rt)},Zn=function(Yt){He(_t,new x.default(_.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,_.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+qt+' update, XHR aborted. status is "'+Yt.statusText+'" ('+Yt.status+"), readyState is "+Yt.readyState))},dn=function(Yt){He(_t,new x.default(_.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,_.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+qt+' update, XHR error. status is "'+Yt.statusText+'" ('+Yt.status+"), readyState is "+Yt.readyState))},ln=Ce.getLicenseRequestFromMessage(Tn),un=rt.getHTTPMethod(mt),sn=rt.getResponseType(qt,mt),cn=ot&&!isNaN(ot.httpTimeout)?ot.httpTimeout:8e3,St=yt.getSessionId()||null,dt=new w.default(fn,un,sn,Qt,gn,mt,St,ln),hn=isNaN(ce.get().streaming.retryAttempts[d.HTTPRequest.LICENSE])?3:ce.get().streaming.retryAttempts[d.HTTPRequest.LICENSE];xt(W.getLicenseRequestFilters(),dt).then(function(){Ut(dt,hn,cn,Gn,Zn,dn)})}else He(_t,new x.default(_.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,_.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(rt,qt,_t)}else He(fn,new x.default(_.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,_.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function He(Ke,rt){C.trigger(U.LICENSE_REQUEST_COMPLETE,{data:Ke,error:rt})}function Ut(Ke,rt,ot,yt,mt,_t){var qt=new XMLHttpRequest;if(ce.get().streaming.cmcd&&ce.get().streaming.cmcd.enabled&&ce.get().streaming.cmcd.mode===h.default.CMCD_MODE_QUERY){var Qt=J.getQueryParameter({url:Ke.url,type:d.HTTPRequest.LICENSE});Qt&&(Ke.url=i.default.addAditionalQueryParameterToUrl(Ke.url,[Qt]))}for(var gn in qt.open(Ke.method,Ke.url,!0),qt.responseType=Ke.responseType,qt.withCredentials=Ke.withCredentials,ot>0&&(qt.timeout=ot),Ke.headers)qt.setRequestHeader(gn,Ke.headers[gn]);if(ce.get().streaming.cmcd&&ce.get().streaming.cmcd.enabled&&ce.get().streaming.cmcd.mode===h.default.CMCD_MODE_HEADER){var Mn=J.getHeaderParameters({url:Ke.url,type:d.HTTPRequest.LICENSE});if(Mn)for(var Gn in Mn){var Zn=Mn[Gn];Zn&&qt.setRequestHeader(Gn,Zn)}}var dn=function(){rt--;var un=isNaN(ce.get().streaming.retryIntervals[d.HTTPRequest.LICENSE])?1e3:ce.get().streaming.retryIntervals[d.HTTPRequest.LICENSE];Re=setTimeout(function(){Ut(Ke,rt,ot,yt,mt,_t)},un)};qt.onload=function(){De=null,this.status>=200&&this.status<=299||rt<=0?yt(this):(le.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+rt),dn())},qt.ontimeout=qt.onerror=function(){De=null,rt<=0?_t(this):(le.warn("License request network request failed . Retrying it... Pending retries: "+rt),dn())},qt.onabort=function(){mt(this)},C.trigger(U.LICENSE_REQUEST_SENDING,{url:Ke.url,headers:Ke.headers,payload:Ke.data,sessionId:Ke.sessionId}),De=qt,qt.send(Ke.data)}function Zt(){De&&(De.onloadend=De.onerror=De.onprogress=void 0,De.abort(),De=null),Re&&(clearTimeout(Re),Re=null)}function pn(Ke,rt){if(rt)for(var ot in rt)Ke[ot]=rt[ot]}function rn(Ke,rt,ot,yt,mt){var _t="NONE",qt=null;Ke.response&&(_t=mt.getErrorResponse(Ke.response,ot,yt),qt={serverResponse:Ke.response||null,responseCode:Ke.status||null,responseText:Ke.statusText||null}),He(rt,new x.default(_.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,_.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+ot+' update, XHR complete. status is "'+Ke.statusText+'" ('+Ke.status+"), readyState is "+Ke.readyState+".  Response is "+_t,qt))}function xt(Ke,rt){return Ke?Ke.reduce(function(ot,yt){return ot.then(function(){return yt(rt)})},Promise.resolve()):Promise.resolve()}function vt(Ke,rt){if(!ce.get().streaming.protection.ignoreEmeEncryptedEvent){if(le.debug("DRM: onNeedKey"),"cenc"!==Ke.key.initDataType)return void le.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Ke.key.initDataType);if(0===xe.length&&(le.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(rt=typeof rt>"u"?1:rt+1)<5))return void Me.push(setTimeout(function(){vt(Ke,rt)},500));var ot=Ke.key.initData;if(ArrayBuffer.isView(ot)&&(ot=ot.buffer),Ce){var yt=n.default.getPSSHForKeySystem(Ce,ot);if(yt&&X(yt))return}le.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(ot)));var mt=S.getSupportedKeySystemsFromSegmentPssh(ot,Ve,fe);if(0===mt.length)return void le.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function ye(Ke){Ee.push(Ke),ve(Ke,!1)}(mt)}}return Se={initializeForMedia:function at(Ke){if(!Ke)throw new Error("mediaInfo can not be null or undefined");Ne(),xe.push(Ke)},clearMediaInfoArray:function $(){xe=[]},handleKeySystemFromManifest:function Be(){if(xe&&0!==xe.length){var Ke=[];xe.forEach(function(rt){var ot=S.getSupportedKeySystemsFromContentProtection(rt.contentProtection,Ve,fe);ot.length>0&&(0===Ke.length&&(Ke=ot),Ee.push(ot))}),Ke&&Ke.length>0&&ve(Ke,!0)}},createKeySession:Q,loadKeySession:oe,removeKeySession:function pe(Ke){Ne(),L.removeKeySession(Ke)},closeKeySession:function Te(Ke){Ne(),L.closeKeySession(Ke)},setServerCertificate:function be(Ke){Ne(),L.setServerCertificate(Ke)},setMediaElement:Le,setSessionType:function et(Ke){fe=Ke},setRobustnessLevel:function Qe(Ke){Pe=Ke},setProtectionData:function qe(Ke){Ve=Ke,S.setProtectionData(Ke)},getSupportedKeySystemsFromContentProtection:function ie(Ke){return Ne(),S.getSupportedKeySystemsFromContentProtection(Ke,Ve,fe)},getKeySystems:function nt(){return S?S.getKeySystems():[]},setKeySystems:function ke(Ke){S&&S.setKeySystems(Ke)},stop:function ft(){Zt(),L&&L.stop()},reset:function ze(){C.off(U.INTERNAL_KEY_MESSAGE,de,Se),C.off(U.INTERNAL_KEY_STATUS_CHANGED,Et,Se),Ne(),Zt(),Le(null),Ce=null,me=!1,L&&(L.reset(),L=null),Me.forEach(function(Ke){return clearTimeout(Ke)}),Me=[],xe=[],Ee=[]}},function Fe(){le=z.getLogger(Se),Ee=[],xe=[],fe="temporary",Pe="",De=null,Re=null,C.on(U.INTERNAL_KEY_MESSAGE,de,Se),C.on(U.INTERNAL_KEY_STATUS_CHANGED,Et,Se)}(),Se}D.__dashjs_factory_name="ProtectionController",v.default=p.default.getClassFactory(D)},"./src/streaming/protection/controllers/ProtectionKeyController.js":
/*!*************************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionKeyController.js ***!
                  \*************************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=e(
/*! ./../drm/KeySystemClearKey */
"./src/streaming/protection/drm/KeySystemClearKey.js"),A=e(
/*! ./../drm/KeySystemW3CClearKey */
"./src/streaming/protection/drm/KeySystemW3CClearKey.js"),_=e(
/*! ./../drm/KeySystemWidevine */
"./src/streaming/protection/drm/KeySystemWidevine.js"),x=e(
/*! ./../drm/KeySystemPlayReady */
"./src/streaming/protection/drm/KeySystemPlayReady.js"),w=e(
/*! ./../servers/DRMToday */
"./src/streaming/protection/servers/DRMToday.js"),g=e(
/*! ./../servers/PlayReady */
"./src/streaming/protection/servers/PlayReady.js"),d=e(
/*! ./../servers/Widevine */
"./src/streaming/protection/servers/Widevine.js"),i=e(
/*! ./../servers/ClearKey */
"./src/streaming/protection/servers/ClearKey.js"),h=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function p(){var B,P,k,F,O,D,I,S,T=this.context;function Ee(fe,Pe){return Pe&&fe in Pe?Pe[fe]:null}function xe(fe,Pe){return fe&&fe.sessionId?fe.sessionId:Pe&&Pe.sessionId?Pe.sessionId:null}function Ve(fe,Pe){return fe&&fe.sessionType?fe.sessionType:Pe}return B={initialize:function C(){var fe;F=[],fe=Object(x.default)(T).getInstance({BASE64:O,settings:D}),F.push(fe),fe=Object(_.default)(T).getInstance({BASE64:O}),F.push(fe),fe=Object(b.default)(T).getInstance({BASE64:O}),F.push(fe),I=fe,fe=Object(A.default)(T).getInstance({BASE64:O,debug:P}),F.push(fe),S=fe},setProtectionData:function le(fe){for(var Ce=0;Ce<F.length;Ce++){var me=F[Ce];me.hasOwnProperty("init")&&me.init((Re=me.systemString,Fe=void 0,Fe=null,fe&&(Fe=Re in fe?fe[Re]:null),Fe))}var Re,Fe},isClearKey:function te(fe){return fe===I||fe===S},initDataEquals:function Me(fe,Pe){if(fe.byteLength===Pe.byteLength){for(var Ce=new Uint8Array(fe),me=new Uint8Array(Pe),De=0;De<Ce.length;De++)if(Ce[De]!==me[De])return!1;return!0}return!1},getKeySystems:function U(){return F},setKeySystems:function z(fe){F=fe},getKeySystemBySystemString:function ne(fe){for(var Pe=0;Pe<F.length;Pe++)if(F[Pe].systemString===fe)return F[Pe];return null},getSupportedKeySystemsFromContentProtection:function J(fe,Pe,Ce){var me,De,Re,Fe,Ne=[];if(fe){var at=n.default.findCencContentProtection(fe);for(Re=0;Re<F.length;++Re){var Be=Ee((De=F[Re]).systemString,Pe);for(Fe=0;Fe<fe.length;++Fe)if((me=fe[Fe]).schemeIdUri.toLowerCase()===De.schemeIdURI){var ye=De.getInitData(me,at);Ne.push({ks:F[Re],keyId:me.keyId,initData:ye,protData:Be,cdmData:De.getCDMData(Be?Be.cdmData:null),sessionId:xe(Be,me),sessionType:Ve(Be,Ce)})}}}return Ne},getSupportedKeySystemsFromSegmentPssh:function ce(fe,Pe,Ce){for(var Re,me=[],De=n.default.parsePSSHList(fe),Ne=0;Ne<F.length;++Ne){var at=Ee((Re=F[Ne]).systemString,Pe);Re.uuid in De&&me.push({ks:Re,initData:De[Re.uuid],protData:at,cdmData:Re.getCDMData(at?at.cdmData:null),sessionId:xe(at),sessionType:Ve(at,Ce)})}return me},getLicenseServerModelInstance:function W(fe,Pe,Ce){if("license-release"===Ce||"individualization-request"===Ce)return null;var me=null;return Pe&&Pe.hasOwnProperty("drmtoday")?me=Object(w.default)(T).getInstance({BASE64:O}):fe.systemString===h.default.WIDEVINE_KEYSTEM_STRING?me=Object(d.default)(T).getInstance():fe.systemString===h.default.PLAYREADY_KEYSTEM_STRING?me=Object(g.default)(T).getInstance():fe.systemString===h.default.CLEARKEY_KEYSTEM_STRING&&(me=Object(i.default)(T).getInstance()),me},processClearKeyLicenseRequest:function Se(fe,Pe,Ce){try{return fe.getClearKeysFromProtectionData(Pe,Ce)}catch{return k.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function L(fe){fe&&(fe.debug&&(k=(P=fe.debug).getLogger(B)),fe.BASE64&&(O=fe.BASE64),fe.settings&&(D=fe.settings))}}}p.__dashjs_factory_name="ProtectionKeyController",v.default=dashjs.FactoryMaker.getSingletonFactory(p)},"./src/streaming/protection/drm/KeySystemClearKey.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemClearKey.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),b=e(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),A=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),_=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),x="e2719d58-a985-b3c9-781a-b030af78d30e",w=_.default.CLEARKEY_KEYSTEM_STRING,g="urn:uuid:"+x;function d(i){var p=(i=i||{}).BASE64;function P(I){try{var S=I.replace(/-/g,"");return(S=btoa(S.match(/\w{2}/g).map(function(L){return String.fromCharCode(parseInt(L,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}return{uuid:x,schemeIdURI:g,systemString:w,getInitData:function B(I,S){try{var L=A.default.parseInitDataFromContentProtection(I,p);if(!L&&S){var U={kids:[P(S["cenc:default_KID"])]};L=(new TextEncoder).encode(JSON.stringify(U))}return L}catch{return null}},getRequestHeadersFromMessage:function k(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function F(I){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(I))))},getLicenseServerURLFromInitData:function O(){return null},getCDMData:function D(){return null},getClearKeysFromProtectionData:function T(I,S){var L=null;if(I){for(var C=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(S))),U=[],z=0;z<C.kids.length;z++){var ne=C.kids[z],te=I.clearkeys&&I.clearkeys.hasOwnProperty(ne)?I.clearkeys[ne]:null;if(!te)throw new Error("DRM: ClearKey keyID ("+ne+") is not known!");U.push(new n.default(ne,te))}L=new b.default(U)}return L}}}d.__dashjs_factory_name="KeySystemClearKey",v.default=dashjs.FactoryMaker.getSingletonFactory(d)},"./src/streaming/protection/drm/KeySystemPlayReady.js":
/*!************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemPlayReady.js ***!
                  \************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),A="9a04f079-9840-4286-ab92-e65be0885f95",_=b.default.PLAYREADY_KEYSTEM_STRING,x="urn:uuid:"+A;function g(d){var h="utf-16",p=(d=d||{}).BASE64,T=d.settings;function B(){if(!p||!p.hasOwnProperty("decodeArray")||!p.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:A,schemeIdURI:x,systemString:_,getInitData:function O(S){var ne,te,Me,J,ce,L=new Uint8Array([112,115,115,104,0,0,0,0]),C=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),U=0,z=null;if(B(),!S)return null;if("pssh"in S)return n.default.parseInitDataFromContentProtection(S,p);if("pro"in S)z=p.decodeArray(S.pro.__text);else{if(!("prheader"in S))return null;z=p.decodeArray(S.prheader.__text)}return te=4+L.length+C.length+4+(ne=z.length),Me=new ArrayBuffer(te),J=new Uint8Array(Me),(ce=new DataView(Me)).setUint32(U,te),J.set(L,U+=4),J.set(C,U+=L.length),ce.setUint32(U+=C.length,ne),J.set(z,U+=4),U+=ne,J.buffer},getRequestHeadersFromMessage:function P(S){var L,C,U={},z=new DOMParser;if(T&&T.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===h&&S&&S.byteLength%2==1)return U["Content-Type"]="text/xml; charset=utf-8",U;var ne="utf-16"===h?new Uint16Array(S):new Uint8Array(S);L=String.fromCharCode.apply(null,ne);for(var te=(C=z.parseFromString(L,"application/xml")).getElementsByTagName("name"),Me=C.getElementsByTagName("value"),J=0;J<te.length;J++)U[te[J].childNodes[0].nodeValue]=Me[J].childNodes[0].nodeValue;return U.hasOwnProperty("Content")&&(U["Content-Type"]=U.Content,delete U.Content),U.hasOwnProperty("Content-Type")||(U["Content-Type"]="text/xml; charset=utf-8"),U},getLicenseRequestFromMessage:function k(S){var L=null,C=new DOMParser;if(T&&T.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===h&&S&&S.byteLength%2==1)return S;var U="utf-16"===h?new Uint16Array(S):new Uint8Array(S);B();var z=String.fromCharCode.apply(null,U),ne=C.parseFromString(z,"application/xml");if(!ne.getElementsByTagName("PlayReadyKeyMessage")[0])return S;var te=ne.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return te&&(L=p.decode(te)),L},getLicenseServerURLFromInitData:function F(S){if(S)for(var L=new DataView(S),C=L.getUint16(4,!0),U=6,z=new DOMParser,ne=0;ne<C;ne++){var te=L.getUint16(U,!0),Me=L.getUint16(U+=2,!0);if(U+=2,1===te){var J=S.slice(U,U+Me),ce=String.fromCharCode.apply(null,new Uint16Array(J)),W=z.parseFromString(ce,"application/xml");if(W.getElementsByTagName("LA_URL")[0]){var Se=W.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(Se)return Se}if(W.getElementsByTagName("LUI_URL")[0]){var le=W.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(le)return le}}else U+=Me}return null},getCDMData:function I(S){var L,C,U,z;if(B(),!S)return null;for(L=[],z=0;z<S.length;++z)L.push(S.charCodeAt(z)),L.push(0);for(L=String.fromCharCode.apply(null,L),L=p.encode(L),C='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",L),U=[],z=0;z<C.length;++z)U.push(C.charCodeAt(z)),U.push(0);return new Uint8Array(U).buffer},setPlayReadyMessageFormat:function D(S){if("utf-8"!==S&&"utf-16"!==S)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');h=S}}}g.__dashjs_factory_name="KeySystemPlayReady",v.default=dashjs.FactoryMaker.getSingletonFactory(g)},"./src/streaming/protection/drm/KeySystemW3CClearKey.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemW3CClearKey.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),b=e(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),A=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),_=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),x="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",w=_.default.CLEARKEY_KEYSTEM_STRING,g="urn:uuid:"+x;function d(i){var h,p=i.BASE64,T=i.debug.getLogger(h);return{uuid:x,schemeIdURI:g,systemString:w,getInitData:function P(I){return A.default.parseInitDataFromContentProtection(I,p)},getRequestHeadersFromMessage:function k(){return null},getLicenseRequestFromMessage:function F(I){return new Uint8Array(I)},getLicenseServerURLFromInitData:function O(){return null},getCDMData:function D(){return null},getClearKeysFromProtectionData:function B(I,S){var L=null;if(I){for(var C=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(S))),U=[],z=0;z<C.kids.length;z++){var ne=C.kids[z],te=I.clearkeys&&I.clearkeys.hasOwnProperty(ne)?I.clearkeys[ne]:null;if(!te)throw new Error("DRM: ClearKey keyID ("+ne+") is not known!");U.push(new n.default(ne,te))}L=new b.default(U),T.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return L}}}d.__dashjs_factory_name="KeySystemW3CClearKey",v.default=dashjs.FactoryMaker.getSingletonFactory(d)},"./src/streaming/protection/drm/KeySystemWidevine.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemWidevine.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),A="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",_=b.default.WIDEVINE_KEYSTEM_STRING,x="urn:uuid:"+A;function w(g){var i=(g=g||{}).BASE64;return{uuid:A,schemeIdURI:x,systemString:_,getInitData:function h(k){return n.default.parseInitDataFromContentProtection(k,i)},getRequestHeadersFromMessage:function p(){return null},getLicenseRequestFromMessage:function T(k){return new Uint8Array(k)},getLicenseServerURLFromInitData:function B(){return null},getCDMData:function P(){return null}}}w.__dashjs_factory_name="KeySystemWidevine",v.default=dashjs.FactoryMaker.getSingletonFactory(w)},"./src/streaming/protection/errors/ProtectionErrors.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/protection/errors/ProtectionErrors.js ***!
                  \*************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function A(O,D){for(var I=0;I<D.length;I++){var S=D[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(O,x(S.key),S)}}function x(O){var D=function w(O,D){if("object"!==b(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var S=I.call(O,D||"default");if("object"!==b(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===b(D)?D:String(D)}function d(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&i(O,D)}function i(O,D){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,L){return S.__proto__=L,S})(O,D)}function h(O){var D=function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,S=P(O);if(D){var C=P(this).constructor;L=Reflect.construct(S,arguments,C)}else L=S.apply(this,arguments);return function p(O,D){if(D&&("object"===b(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function T(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function P(O){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}e.r(v);var F=new(function(O){d(I,O);var D=h(I);function I(){var S;return function g(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),(S=D.call(this)).MEDIA_KEYERR_CODE=100,S.MEDIA_KEYERR_UNKNOWN_CODE=101,S.MEDIA_KEYERR_CLIENT_CODE=102,S.MEDIA_KEYERR_SERVICE_CODE=103,S.MEDIA_KEYERR_OUTPUT_CODE=104,S.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,S.MEDIA_KEYERR_DOMAIN_CODE=106,S.MEDIA_KEY_MESSAGE_ERROR_CODE=107,S.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,S.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,S.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,S.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,S.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,S.KEY_SESSION_CREATED_ERROR_CODE=113,S.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,S.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",S.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",S.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",S.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",S.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",S.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",S.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",S.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",S.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",S.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",S.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",S.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",S.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",S.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",S}return function _(O,D,I){return D&&A(O.prototype,D),I&&A(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(e(
/*! ../../../core/errors/ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));v.default=F},"./src/streaming/protection/models/ProtectionModel_01b.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_01b.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),b=e(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),A=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),_=e(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),x=e(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),w=e(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),g=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js");function d(i){var F,O,D,I,S,L,C,U,z,h=this.context,p=(i=i||{}).eventBus,T=i.events,B=i.debug,P=i.api,k=i.errHandler;function te(){D&&De();for(var Re=0;Re<C.length;Re++)xe(C[Re]);p.trigger(T.TEARDOWN_COMPLETE)}function xe(Re){try{D[P.cancelKeyRequest](I.systemString,Re.sessionId)}catch(Fe){p.trigger(T.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Re.sessionId+") "+Fe.message})}}function me(Re,Fe){if(!Fe||!Re)return null;for(var Ne=Re.length,at=0;at<Ne;at++)if(Re[at].sessionId==Fe)return Re[at];return null}function De(){D.removeEventListener(P.keyerror,z),D.removeEventListener(P.needkey,z),D.removeEventListener(P.keymessage,z),D.removeEventListener(P.keyadded,z)}return F={getAllInitData:function Me(){for(var Re=[],Fe=0;Fe<L.length;Fe++)Re.push(L[Fe].initData);for(var Ne=0;Ne<C.length;Ne++)Re.push(C[Ne].initData);return Re},getSessions:function J(){return C.concat(L)},requestKeySystemAccess:function ce(Re){return new Promise(function(Fe,Ne){var at=D;at||(at=document.createElement("video"));for(var Be=!1,ye=0;ye<Re.length;ye++)for(var ve=Re[ye].ks.systemString,K=Re[ye].configs,ge=null,oe=0;oe<K.length;oe++){var Q=K[oe].videoCapabilities;if(Q&&0!==Q.length){ge=[];for(var q=0;q<Q.length;q++)""!==at.canPlayType(Q[q].contentType,ve)&&ge.push(Q[q])}if(ge&&(!ge||0!==ge.length)){Be=!0;var $=new x.default(null,ge),ie=S.getKeySystemBySystemString(ve),Z=new w.default(ie,$);p.trigger(T.KEY_SYSTEM_ACCESS_COMPLETE,{data:Z}),Fe({data:Z});break}}if(!Be){var X="Key system access denied! -- No valid audio/video content configurations detected!";p.trigger(T.KEY_SYSTEM_ACCESS_COMPLETE,{error:X}),Ne({error:X})}})},selectKeySystem:function W(Re){return I=Re.keySystem,Promise.resolve(I)},setMediaElement:function Se(Re){if(D!==Re){if(D){De();for(var Fe=0;Fe<C.length;Fe++)xe(C[Fe]);C=[]}(D=Re)&&(D.addEventListener(P.keyerror,z),D.addEventListener(P.needkey,z),D.addEventListener(P.keymessage,z),D.addEventListener(P.keyadded,z),p.trigger(T.VIDEO_ELEMENT_SELECTED))}},createKeySession:function le(Re){if(!I)throw new Error("Can not create sessions until you have selected a key system");if(U||0===C.length){var Fe={sessionId:null,keyId:Re.keyId,initData:Re.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return L.push(Fe),D[P.generateKeyRequest](I.systemString,new Uint8Array(Re.initData)),Fe}throw new Error("Multiple sessions not allowed!")},updateKeySession:function Ee(Re,Fe){var Ne=Re.sessionId;if(S.isClearKey(I))for(var at=0;at<Fe.keyPairs.length;at++)D[P.addKey](I.systemString,Fe.keyPairs[at].key,Fe.keyPairs[at].keyID,Ne);else D[P.addKey](I.systemString,new Uint8Array(Fe),new Uint8Array(Re.initData),Ne);p.trigger(T.KEY_SESSION_UPDATED)},closeKeySession:xe,setServerCertificate:function Ve(){},loadKeySession:function fe(){},removeKeySession:function Pe(){},stop:te,reset:te},function ne(){O=B.getLogger(F),D=null,I=null,L=[],C=[],S=Object(n.default)(h).getInstance(),z=function Ce(){return{handleEvent:function(Fe){var Ne=null;switch(Fe.type){case P.needkey:var at=ArrayBuffer.isView(Fe.initData)?Fe.initData.buffer:Fe.initData;p.trigger(T.NEED_KEY,{key:new b.default(at,"cenc")});break;case P.keyerror:if((Ne=me(C,Fe.sessionId))||(Ne=me(L,Fe.sessionId)),Ne){var Be=g.default.MEDIA_KEYERR_CODE,ye="";switch(Fe.errorCode.code){case 1:Be=g.default.MEDIA_KEYERR_UNKNOWN_CODE,ye+="MEDIA_KEYERR_UNKNOWN - "+g.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:Be=g.default.MEDIA_KEYERR_CLIENT_CODE,ye+="MEDIA_KEYERR_CLIENT - "+g.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:Be=g.default.MEDIA_KEYERR_SERVICE_CODE,ye+="MEDIA_KEYERR_SERVICE - "+g.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:Be=g.default.MEDIA_KEYERR_OUTPUT_CODE,ye+="MEDIA_KEYERR_OUTPUT - "+g.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:Be=g.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,ye+="MEDIA_KEYERR_HARDWARECHANGE - "+g.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:Be=g.default.MEDIA_KEYERR_DOMAIN_CODE,ye+="MEDIA_KEYERR_DOMAIN - "+g.default.MEDIA_KEYERR_DOMAIN_MESSAGE}p.trigger(T.KEY_ERROR,{error:new A.default(Be,ye+="  System Code = "+Fe.systemCode,Ne)})}else O.error("No session token found for key error");break;case P.keyadded:(Ne=me(C,Fe.sessionId))||(Ne=me(L,Fe.sessionId)),Ne?(O.debug("DRM: Key added."),p.trigger(T.KEY_ADDED,{data:Ne})):O.debug("No session token found for key added");break;case P.keymessage:if((U=null!=Fe.sessionId)?!(Ne=me(C,Fe.sessionId))&&L.length>0&&(Ne=L.shift(),C.push(Ne),Ne.sessionId=Fe.sessionId,p.trigger(T.KEY_SESSION_CREATED,{data:Ne})):L.length>0&&(Ne=L.shift(),C.push(Ne),0!==L.length&&k.error(new A.default(g.default.MEDIA_KEY_MESSAGE_ERROR_CODE,g.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Ne){var ve=ArrayBuffer.isView(Fe.message)?Fe.message.buffer:Fe.message;Ne.keyMessage=ve,p.trigger(T.INTERNAL_KEY_MESSAGE,{data:new _.default(Ne,ve,Fe.defaultURL)})}else O.warn("No session token found for key message")}}}}()}(),F}d.__dashjs_factory_name="ProtectionModel_01b",v.default=dashjs.FactoryMaker.getClassFactory(d)},"./src/streaming/protection/models/ProtectionModel_21Jan2015.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_21Jan2015.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),b=e(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),A=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),_=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),x=e(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),w=e(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),g=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),d={};function i(h){var k,F,O,D,I,S,L,C,p=this.context,T=(h=h||{}).eventBus,B=h.events,P=h.debug;function ce(Be,ye,ve,K){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var se="Insecure origins are not allowed";return T.trigger(B.KEY_SYSTEM_ACCESS_COMPLETE,{error:se}),void K({error:se})}var Q=Be[ye].ks,q=Q.systemString;(function W(Be,ye){return new Promise(function(ve,K){Se(Be,ye,0,ve,K)})})((Be[ye].protData&&Be[ye].protData.systemStringPriority?Be[ye].protData.systemStringPriority:null)||(d[q]?d[q]:[q]),Be[ye].configs).then(function(ie){var Z="function"==typeof ie.getConfiguration?ie.getConfiguration():null,X=new w.default(Q,Z);X.mksa=ie,T.trigger(B.KEY_SYSTEM_ACCESS_COMPLETE,{data:X}),ve({data:X})}).catch(function(ie){if(ye+1<Be.length)ce(Be,ye+1,ve,K);else{var Z="Key system access denied! ";T.trigger(B.KEY_SYSTEM_ACCESS_COMPLETE,{error:Z+ie.message}),K({error:Z+ie.message})}})}function Se(Be,ye,ve,K,se){var ge=Be[ve];F.debug("Requesting key system access for system string ".concat(ge)),navigator.requestMediaKeySystemAccess(ge,ye).then(function(oe){oe.selectedSystemString=ge,K(oe)}).catch(function(oe){ve+1<Be.length?Se(Be,ye,ve+1,K,se):se(oe)})}function De(Be){var ye=Be.session;return ye.removeEventListener("keystatuseschange",Be),ye.removeEventListener("message",Be),ye.close()}function Fe(Be){for(var ye=0;ye<S.length;ye++)if(S[ye]===Be){S.splice(ye,1);break}}function Ne(Be){var ye,ve;return Be&&Be.length>0&&(Be[0]&&("string"==typeof Be[0]?ye=Be[0]:ve=Be[0]),Be[1]&&("string"==typeof Be[1]?ye=Be[1]:ve=Be[1])),{status:ye,keyId:ve}}function at(Be,ye){var ve={session:Be,keyId:ye.keyId,initData:ye.initData,sessionId:ye.sessionId,sessionType:ye.sessionType,handleEvent:function(se){switch(se.type){case"keystatuseschange":T.trigger(B.KEY_STATUSES_CHANGED,{data:this}),se.target.keyStatuses.forEach(function(){var oe=Ne(arguments);T.trigger(B.INTERNAL_KEY_STATUS_CHANGED,"expired"===oe.status?{error:new _.default(A.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,A.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:oe)});break;case"message":var ge=ArrayBuffer.isView(se.message)?se.message.buffer:se.message;T.trigger(B.INTERNAL_KEY_MESSAGE,{data:new x.default(this,ge,void 0,se.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return Be.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return Be.expiration},getKeyStatuses:function(){return Be.keyStatuses},getUsable:function(){var se=!1;return Be.keyStatuses.forEach(function(){"usable"===Ne(arguments).status&&(se=!0)}),se}};return Be.addEventListener("keystatuseschange",ve),Be.addEventListener("message",ve),Be.closed.then(function(){Fe(ve),F.debug("DRM: Session closed.  SessionID = "+ve.getSessionId()),T.trigger(B.KEY_SESSION_CLOSED,{data:ve.getSessionId()})}),S.push(ve),ve}return k={getAllInitData:function te(){for(var Be=[],ye=0;ye<S.length;ye++)S[ye].initData&&Be.push(S[ye].initData);return Be},getSessions:function Me(){return S},requestKeySystemAccess:function J(Be){return new Promise(function(ye,ve){ce(Be,0,ye,ve)})},selectKeySystem:function le(Be){return new Promise(function(ye,ve){Be.mksa.createMediaKeys().then(function(K){return O=Be.keySystem,I=K,D?D.setMediaKeys(I):Promise.resolve()}).then(function(){ye(O)}).catch(function(){ve({error:"Error selecting keys system ("+Be.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function Ee(Be){D!==Be&&(D&&(D.removeEventListener("encrypted",L),D.setMediaKeys&&D.setMediaKeys(null)),(D=Be)&&(D.addEventListener("encrypted",L),D.setMediaKeys&&I&&D.setMediaKeys(I)))},setServerCertificate:function xe(Be){if(!O||!I)throw new Error("Can not set server certificate until you have selected a key system");I.setServerCertificate(Be).then(function(){F.info("DRM: License server certificate successfully updated."),T.trigger(B.SERVER_CERTIFICATE_UPDATED)}).catch(function(ye){T.trigger(B.SERVER_CERTIFICATE_UPDATED,{error:new _.default(A.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,A.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+ye.name)})})},createKeySession:function Ve(Be){if(!O||!I)throw new Error("Can not create sessions until you have selected a key system");var ye=I.createSession(Be.sessionType),ve=at(ye,Be);ye.generateRequest(O.systemString===g.default.CLEARKEY_KEYSTEM_STRING&&(Be.initData||Be.protData&&Be.protData.clearkeys)?g.default.INITIALIZATION_DATA_TYPE_KEYIDS:g.default.INITIALIZATION_DATA_TYPE_CENC,Be.initData).then(function(){F.debug("DRM: Session created.  SessionID = "+ve.getSessionId()),T.trigger(B.KEY_SESSION_CREATED,{data:ve})}).catch(function(se){Fe(ve),T.trigger(B.KEY_SESSION_CREATED,{data:null,error:new _.default(A.default.KEY_SESSION_CREATED_ERROR_CODE,A.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+se.name)})})},updateKeySession:function fe(Be,ye){var ve=Be.session;C.isClearKey(O)&&(ye=ye.toJWK()),ve.update(ye).then(function(){T.trigger(B.KEY_SESSION_UPDATED)}).catch(function(K){T.trigger(B.KEY_ERROR,{error:new _.default(A.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+K.name,Be)})})},loadKeySession:function Pe(Be){if(!O||!I)throw new Error("Can not load sessions until you have selected a key system");for(var ye=Be.sessionId,ve=0;ve<S.length;ve++)if(ye===S[ve].sessionId)return void F.warn("DRM: Ignoring session ID because we have already seen it!");var K=I.createSession(Be.sessionType),se=at(K,Be);K.load(ye).then(function(ge){ge?(F.debug("DRM: Session loaded.  SessionID = "+se.getSessionId()),T.trigger(B.KEY_SESSION_CREATED,{data:se})):(Fe(se),T.trigger(B.KEY_SESSION_CREATED,{data:null,error:new _.default(A.default.KEY_SESSION_CREATED_ERROR_CODE,A.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+ye+")")}))}).catch(function(ge){Fe(se),T.trigger(B.KEY_SESSION_CREATED,{data:null,error:new _.default(A.default.KEY_SESSION_CREATED_ERROR_CODE,A.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+ye+")! "+ge.name)})})},removeKeySession:function Ce(Be){Be.session.remove().then(function(){F.debug("DRM: Session removed.  SessionID = "+Be.getSessionId()),T.trigger(B.KEY_SESSION_REMOVED,{data:Be.getSessionId()})},function(ve){T.trigger(B.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+Be.getSessionId()+"). "+ve.name})})},closeKeySession:function me(Be){De(Be).catch(function(ye){Fe(Be),T.trigger(B.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Be.getSessionId()+") "+ye.name})})},stop:function ne(){for(var Be,ye=0;ye<S.length;ye++)(Be=S[ye]).getUsable()||De(Be).catch(function(){Fe(Be)})},reset:function z(){var ye,Be=S.length;0!==Be?function(){for(var ve=function(ge){Fe(ge),0===S.length&&(D?(D.removeEventListener("encrypted",L),D.setMediaKeys(null).then(function(){T.trigger(B.TEARDOWN_COMPLETE)})):T.trigger(B.TEARDOWN_COMPLETE))},K=0;K<Be;K++)!function(se){ye.session.closed.then(function(){ve(se)}),De(ye).catch(function(){ve(se)})}(ye=S[K])}():T.trigger(B.TEARDOWN_COMPLETE)}},function U(){F=P.getLogger(k),O=null,D=null,I=null,S=[],C=Object(n.default)(p).getInstance(),L=function Re(){return{handleEvent:function(ye){if("encrypted"===ye.type&&ye.initData){var ve=ArrayBuffer.isView(ye.initData)?ye.initData.buffer:ye.initData;T.trigger(B.NEED_KEY,{key:new b.default(ve,ye.initDataType)})}}}}()}(),k}d[g.default.PLAYREADY_KEYSTEM_STRING]=[g.default.PLAYREADY_KEYSTEM_STRING,g.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],d[g.default.WIDEVINE_KEYSTEM_STRING]=[g.default.WIDEVINE_KEYSTEM_STRING],d[g.default.CLEARKEY_KEYSTEM_STRING]=[g.default.CLEARKEY_KEYSTEM_STRING],i.__dashjs_factory_name="ProtectionModel_21Jan2015",v.default=dashjs.FactoryMaker.getClassFactory(i)},"./src/streaming/protection/models/ProtectionModel_3Feb2014.js":
/*!*********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_3Feb2014.js ***!
                  \*********************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),b=e(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),A=e(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),_=e(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),x=e(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),w=e(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),g=e(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js");function d(i){var k,F,O,D,I,S,L,C,U,h=this.context,p=(i=i||{}).eventBus,T=i.events,B=i.debug,P=i.api;function ne(){try{for(var De=0;De<L.length;De++)Ee(L[De]);O&&O.removeEventListener(P.needkey,C),p.trigger(T.TEARDOWN_COMPLETE)}catch(Re){p.trigger(T.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+Re.message})}}function Ee(De){var Re=De.session;Re.removeEventListener(P.error,De),Re.removeEventListener(P.message,De),Re.removeEventListener(P.ready,De),Re.removeEventListener(P.close,De);for(var Fe=0;Fe<L.length;Fe++)if(L[Fe]===De){L.splice(Fe,1);break}Re[P.release]()}function Ce(){var De=null,Re=function(){O.removeEventListener("loadedmetadata",De),O[P.setMediaKeys](I),p.trigger(T.VIDEO_ELEMENT_SELECTED)};O.readyState>=1?Re():(De=Re.bind(this),O.addEventListener("loadedmetadata",De))}return k={getAllInitData:function te(){for(var De=[],Re=0;Re<L.length;Re++)De.push(L[Re].initData);return De},getSessions:function Me(){return L},requestKeySystemAccess:function J(De){return new Promise(function(Re,Fe){for(var Ne=!1,at=0;at<De.length;at++)for(var Be=De[at].ks.systemString,ye=De[at].configs,ve=null,K=null,se=0;se<ye.length;se++){var ge=ye[se].audioCapabilities,oe=ye[se].videoCapabilities;if(ge&&0!==ge.length){ve=[];for(var Q=0;Q<ge.length;Q++)window[P.MediaKeys].isTypeSupported(Be,ge[Q].contentType)&&ve.push(ge[Q])}if(oe&&0!==oe.length){K=[];for(var q=0;q<oe.length;q++)window[P.MediaKeys].isTypeSupported(Be,oe[q].contentType)&&K.push(oe[q])}if(!(!ve&&!K||ve&&0===ve.length||K&&0===K.length)){Ne=!0;var $=new w.default(ve,K),ie=U.getKeySystemBySystemString(Be),Z=new g.default(ie,$);p.trigger(T.KEY_SYSTEM_ACCESS_COMPLETE,{data:Z}),Re({data:Z});break}}if(!Ne){var X="Key system access denied! -- No valid audio/video content configurations detected!";p.trigger(T.KEY_SYSTEM_ACCESS_COMPLETE,{error:X}),Fe({error:X})}})},selectKeySystem:function ce(De){return new Promise(function(Re,Fe){try{I=De.mediaKeys=new window[P.MediaKeys](De.keySystem.systemString),D=De.keySystem,S=De,O&&Ce(),Re(D)}catch{Fe({error:"Error selecting keys system ("+D.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function W(De){O!==De&&(O&&O.removeEventListener(P.needkey,C),(O=De)&&(O.addEventListener(P.needkey,C),I&&Ce()))},createKeySession:function Se(De){if(!D||!I||!S)throw new Error("Can not create sessions until you have selected a key system");var Re=null;if(S.ksConfiguration.videoCapabilities&&S.ksConfiguration.videoCapabilities.length>0&&(Re=S.ksConfiguration.videoCapabilities[0]),null===Re&&S.ksConfiguration.audioCapabilities&&S.ksConfiguration.audioCapabilities.length>0&&(Re=S.ksConfiguration.audioCapabilities[0]),null===Re)throw new Error("Can not create sessions for unknown content types.");var Ne=I.createSession(Re.contentType,new Uint8Array(De.initData),De.cdmData?new Uint8Array(De.cdmData):null),at=function me(De,Re){return{session:De,keyId:Re.keyId,initData:Re.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(Ne){switch(Ne.type){case P.error:p.trigger(T.KEY_ERROR,{error:new A.default(_.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case P.message:var Be=ArrayBuffer.isView(Ne.message)?Ne.message.buffer:Ne.message;p.trigger(T.INTERNAL_KEY_MESSAGE,{data:new x.default(this,Be,Ne.destinationURL)});break;case P.ready:F.debug("DRM: Key added."),p.trigger(T.KEY_ADDED);break;case P.close:F.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),p.trigger(T.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(Ne,De);Ne.addEventListener(P.error,at),Ne.addEventListener(P.message,at),Ne.addEventListener(P.ready,at),Ne.addEventListener(P.close,at),L.push(at),F.debug("DRM: Session created.  SessionID = "+at.getSessionId()),p.trigger(T.KEY_SESSION_CREATED,{data:at})},updateKeySession:function le(De,Re){var Fe=De.session;U.isClearKey(D)?Fe.update(new Uint8Array(Re.toJWK())):Fe.update(new Uint8Array(Re)),p.trigger(T.KEY_SESSION_UPDATED)},closeKeySession:Ee,setServerCertificate:function xe(){},loadKeySession:function Ve(){},removeKeySession:function fe(){},stop:ne,reset:ne},function z(){F=B.getLogger(k),O=null,D=null,I=null,S=null,L=[],U=Object(n.default)(h).getInstance(),C=function Pe(){return{handleEvent:function(Re){if(Re.type===P.needkey&&Re.initData){var Fe=ArrayBuffer.isView(Re.initData)?Re.initData.buffer:Re.initData;p.trigger(T.NEED_KEY,{key:new b.default(Fe,"cenc")})}}}}()}(),k}d.__dashjs_factory_name="ProtectionModel_3Feb2014",v.default=dashjs.FactoryMaker.getClassFactory(d)},"./src/streaming/protection/servers/ClearKey.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/ClearKey.js ***!
                  \******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),b=e(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js");function A(){return{getServerURLFromMessage:function x(h){return h},getHTTPMethod:function w(){return"POST"},getResponseType:function g(){return"json"},getLicenseMessage:function d(h){if(!h.hasOwnProperty("keys"))return null;for(var p=[],T=0;T<h.keys.length;T++){var B=h.keys[T],P=B.kid.replace(/=/g,""),k=B.k.replace(/=/g,"");p.push(new n.default(P,k))}return new b.default(p)},getErrorResponse:function i(h){return String.fromCharCode.apply(null,new Uint8Array(h))}}}A.__dashjs_factory_name="ClearKey",v.default=dashjs.FactoryMaker.getSingletonFactory(A)},"./src/streaming/protection/servers/DRMToday.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/DRMToday.js ***!
                  \******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function b(A){var _=(A=A||{}).BASE64,x={};return x[n.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(P){return _.decodeArray(P.license)},getErrorResponse:function(P){return P}},x[n.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(P){return P},getErrorResponse:function(P){return String.fromCharCode.apply(null,new Uint8Array(P))}},{getServerURLFromMessage:function d(B){return B},getHTTPMethod:function i(){return"POST"},getResponseType:function h(B){return x[B].responseType},getLicenseMessage:function p(B,P){return function g(){if(!_||!_.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),x[P].getLicenseMessage(B)},getErrorResponse:function T(B,P){return x[P].getErrorResponse(B)}}}b.__dashjs_factory_name="DRMToday",v.default=dashjs.FactoryMaker.getSingletonFactory(b)},"./src/streaming/protection/servers/PlayReady.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/servers/PlayReady.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(){var A="http://schemas.xmlsoap.org/soap/envelope/";function _(T){var B=String.fromCharCode.apply(null,new Uint8Array(T));return decodeURIComponent(escape(B))}function x(T){if(window.DOMParser){var B=_(T),k=(new window.DOMParser).parseFromString(B,"text/xml"),F=k?k.getElementsByTagNameNS(A,"Envelope")[0]:null,O=F?F.getElementsByTagNameNS(A,"Body")[0]:null;if(O&&O.getElementsByTagNameNS(A,"Fault")[0])return null}return T}function w(T){var B="",P="",k="",F=-1,O=-1;if(window.DOMParser){var D=_(T),S=(new window.DOMParser).parseFromString(D,"text/xml"),L=S?S.getElementsByTagNameNS(A,"Envelope")[0]:null,C=L?L.getElementsByTagNameNS(A,"Body")[0]:null,U=C?C.getElementsByTagNameNS(A,"Fault")[0]:null,z=U?U.getElementsByTagName("detail")[0]:null,ne=z?z.getElementsByTagName("Exception")[0]:null,te=null;if(null===U)return D;B=(te=U.getElementsByTagName("faultstring")[0].firstChild)?te.nodeValue:null,null!==ne&&(P=(te=ne.getElementsByTagName("StatusCode")[0])?te.firstChild.nodeValue:null,F=(k=(te=ne.getElementsByTagName("Message")[0])?te.firstChild.nodeValue:null)?k.lastIndexOf("[")+1:-1,O=k?k.indexOf("]"):-1,k=k?k.substring(F,O):"")}var Me="code: ".concat(P,", name: ").concat(B);return k&&(Me+=", message: ".concat(k)),Me}return{getServerURLFromMessage:function g(T){return T},getHTTPMethod:function d(){return"POST"},getResponseType:function i(){return"arraybuffer"},getLicenseMessage:function h(T){return x.call(this,T)},getErrorResponse:function p(T){return w.call(this,T)}}}e.r(v),n.__dashjs_factory_name="PlayReady",v.default=dashjs.FactoryMaker.getSingletonFactory(n)},"./src/streaming/protection/servers/Widevine.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/Widevine.js ***!
                  \******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(){return{getServerURLFromMessage:function A(d){return d},getHTTPMethod:function _(){return"POST"},getResponseType:function x(){return"arraybuffer"},getLicenseMessage:function w(d){return d},getErrorResponse:function g(d){return String.fromCharCode.apply(null,new Uint8Array(d))}}}e.r(v),n.__dashjs_factory_name="Widevine",v.default=dashjs.FactoryMaker.getSingletonFactory(n)},"./src/streaming/protection/vo/ClearKeyKeySet.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/ClearKeyKeySet.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function A(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,x(p.key),p)}}function x(d){var i=function w(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=function(){function d(i,h){if(function b(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")}(this,d),h&&"persistent"!==h&&"temporary"!==h)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=i,this.type=h}return function _(d,i,h){return i&&A(d.prototype,i),h&&A(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}(d,[{key:"toJWK",value:function(){var h,p=this.keyPairs.length,T={keys:[]};for(h=0;h<p;h++)T.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[h].keyID,k:this.keyPairs[h].key});this.type&&(T.type=this.type);var P=JSON.stringify(T),k=P.length,F=new ArrayBuffer(k),O=new Uint8Array(F);for(h=0;h<k;h++)O[h]=P.charCodeAt(h);return F}}]),d}()},"./src/streaming/protection/vo/KeyMessage.js":
/*!***************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyMessage.js ***!
                  \***************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(i,h,p,T){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.sessionToken=i,this.message=h,this.defaultURL=p,this.messageType=T||"license-request"})},"./src/streaming/protection/vo/KeyPair.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyPair.js ***!
                  \************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(i,h){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.keyID=i,this.key=h})},"./src/streaming/protection/vo/KeySystemAccess.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemAccess.js ***!
                  \********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(i,h){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.keySystem=i,this.ksConfiguration=h})},"./src/streaming/protection/vo/KeySystemConfiguration.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemConfiguration.js ***!
                  \***************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(i,h,p,T,B){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.initDataTypes=["cenc"],i&&i.length&&(this.audioCapabilities=i),h&&h.length&&(this.videoCapabilities=h),this.distinctiveIdentifier=p,this.persistentState=T,this.sessionTypes=B})},"./src/streaming/protection/vo/LicenseRequest.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseRequest.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(i,h,p,T,B,P,k,F){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.url=i,this.method=h,this.responseType=p,this.headers=T,this.withCredentials=B,this.messageType=P,this.sessionId=k,this.data=F})},"./src/streaming/protection/vo/LicenseResponse.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseResponse.js ***!
                  \********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(i,h,p){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.url=i,this.headers=h,this.data=p})},"./src/streaming/protection/vo/MediaCapability.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/MediaCapability.js ***!
                  \********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(i,h){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.contentType=i,this.robustness=h})},"./src/streaming/protection/vo/NeedKey.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/NeedKey.js ***!
                  \************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(i,h){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.initData=i,this.initDataType=h})},"./src/streaming/rules/DroppedFramesHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/DroppedFramesHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var _={},x={},w={};return{push:function g(p,T,B){if(T){_[p]||(_[p]=[],x[p]=0,w[p]=0);var P=B&&B.droppedVideoFrames?B.droppedVideoFrames:0,k=B&&B.totalVideoFrames?B.totalVideoFrames:0,F=P-x[p];x[p]=P;var O=k-w[p];w[p]=k;var D=_[p];isNaN(T)||(D[T]?(D[T].droppedVideoFrames+=F,D[T].totalVideoFrames+=O):D[T]={droppedVideoFrames:F,totalVideoFrames:O})}},getFrameHistory:function d(p){return _[p]},clearForStream:function i(p){try{delete _[p],delete x[p],delete w[p]}catch{}},reset:function h(){_={},x={},w={}}}}b.__dashjs_factory_name="DroppedFramesHistory";var A=n.default.getClassFactory(b);v.default=A},"./src/streaming/rules/RulesContext.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/RulesContext.js ***!
                  \*********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(A){var x=(A=A||{}).abrController,w=A.switchHistory,g=A.droppedFramesHistory,d=A.currentRequest,i=A.useBufferOccupancyABR,h=A.useL2AABR,p=A.useLoLPABR,T=A.streamProcessor?A.streamProcessor.getScheduleController():null,B=A.streamProcessor?A.streamProcessor.getRepresentationInfo():null,P=A.videoModel?A.videoModel:null;function O(){return B?B.mediaInfo:null}return{getMediaType:function k(){var J=O();return J?J.type:null},getMediaInfo:O,getDroppedFramesHistory:function U(){return g},getCurrentRequest:function z(){return d},getSwitchHistory:function L(){return w},getStreamInfo:function F(){var J=O();return J?J.streamInfo:null},getScheduleController:function I(){return T},getAbrController:function S(){return x},getRepresentationInfo:function D(){return B},useBufferOccupancyABR:function ne(){return i},useL2AABR:function te(){return h},useLoLPABR:function Me(){return p},getVideoModel:function C(){return P}}}b.__dashjs_factory_name="RulesContext",v.default=n.default.getClassFactory(b)},"./src/streaming/rules/SwitchRequest.js":
/*!**********************************************!*\
                  !*** ./src/streaming/rules/SwitchRequest.js ***!
                  \**********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A={DEFAULT:.5,STRONG:1,WEAK:0};function _(w,g,d){return{quality:void 0===w?-1:w,reason:void 0===g?null:g,priority:function B(P){var k=A.DEFAULT;return(P===A.DEFAULT||P===A.STRONG||P===A.WEAK)&&(k=P),k}(d)}}_.__dashjs_factory_name="SwitchRequest";var x=n.default.getClassFactory(_);x.NO_CHANGE=-1,x.PRIORITY=A,n.default.updateClassFactory(_.__dashjs_factory_name,x),v.default=x},"./src/streaming/rules/SwitchRequestHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/SwitchRequestHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ./SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function _(){var w=[],g=[];return{push:function d(p){p.newValue===b.default.NO_CHANGE&&(p.newValue=p.oldValue),w[p.oldValue]||(w[p.oldValue]={noDrops:0,drops:0,dropSize:0});var T=p.newValue-p.oldValue,B=T<0?1:0,P=B?-T:0,k=B?0:1;if(w[p.oldValue].drops+=B,w[p.oldValue].dropSize+=P,w[p.oldValue].noDrops+=k,g.push({idx:p.oldValue,noDrop:k,drop:B,dropSize:P}),g.length>8){var F=g.shift();w[F.idx].drops-=F.drop,w[F.idx].dropSize-=F.dropSize,w[F.idx].noDrops-=F.noDrop}},getSwitchRequests:function i(){return w},reset:function h(){w=[],g=[]}}}_.__dashjs_factory_name="SwitchRequestHistory";var x=n.default.getClassFactory(_);v.default=x},"./src/streaming/rules/ThroughputHistory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/ThroughputHistory.js ***!
                  \**************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function A(_){var F,O,D,I,S,w=3,g=4,d=4,i=1.3,h=1.3,k=(_=_||{}).settings;function z(fe,Pe,Ce,me){var De=Math.pow(.5,Ce/me.fast);fe.fastEstimate=(1-De)*Pe+De*fe.fastEstimate;var Re=Math.pow(.5,Ce/me.slow);fe.slowEstimate=(1-Re)*Pe+Re*fe.slowEstimate,fe.totalWeight+=Ce}function te(fe,Pe,Ce){return k.get().streaming.abr.movingAverageMethod!==n.default.MOVING_AVERAGE_SLIDING_WINDOW?function J(fe,Pe){var Ce=fe?S.throughputHalfLife:S.latencyHalfLife,me=fe?D[Pe]:I[Pe];if(!me||me.totalWeight<=0)return NaN;var De=me.fastEstimate/(1-Math.pow(.5,me.totalWeight/Ce.fast)),Re=me.slowEstimate/(1-Math.pow(.5,me.totalWeight/Ce.slow));return fe?Math.min(De,Re):Math.max(De,Re)}(fe,Pe):function Me(fe,Pe,Ce){var me=function ne(fe,Pe,Ce){var me,De;if(fe?(me=F[Pe],De=Ce?w:g):(me=O[Pe],De=d),me){if(De>=me.length)De=me.length;else if(fe)for(var Re=1;Re<De;++Re){var Fe=me[me.length-Re]/me[me.length-Re-1];if((Fe>=h||Fe<=1/i)&&(De+=1)===me.length)break}}else De=0;return De}(fe,Pe,Ce),Re=(fe?F:O)[Pe];return 0!==me&&Re&&0!==Re.length?(Re=Re.slice(-me)).reduce(function(Fe,Ne){return Fe+Ne})/Re.length:NaN}(fe,Pe,Ce)}function ce(fe,Pe){return te(!0,fe,Pe)}function le(fe){F[fe]=F[fe]||[],O[fe]=O[fe]||[],D[fe]=D[fe]||{fastEstimate:0,slowEstimate:0,totalWeight:0},I[fe]=I[fe]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function xe(){F={},O={},D={},I={}}var Ve={push:function U(fe,Pe,Ce){if(Pe.trace&&Pe.trace.length){var Fe,me=Pe.tresponse.getTime()-Pe.trequest.getTime()||1,De=Pe._tfinish.getTime()-Pe.tresponse.getTime()||1,Re=Pe.trace.reduce(function(at,Be){return at+Be.b[0]},0),Ne=0;if(0!==(Fe=Pe._fileLoaderType&&Pe._fileLoaderType===n.default.FILE_LOADER_TYPES.FETCH?Pe.trace.reduce(function(at,Be){return at+Be.d},0):Ce?De:me+De)&&(Ne=Math.round(8*Re/Fe)),le(fe),function C(fe,Pe,Ce){return fe===n.default.VIDEO?Ce<k.get().streaming.cacheLoadThresholds[n.default.VIDEO]:fe===n.default.AUDIO?Ce<k.get().streaming.cacheLoadThresholds[n.default.AUDIO]:void 0}(fe,0,De)){if(F[fe].length>0&&!F[fe].hasCachedEntries)return;F[fe].hasCachedEntries=!0}else F[fe]&&F[fe].hasCachedEntries&&function Ee(fe){delete F[fe],delete O[fe],delete D[fe],delete I[fe],le(fe)}(fe);F[fe].push(Ne),F[fe].length>20&&F[fe].shift(),O[fe].push(me),O[fe].length>20&&O[fe].shift(),z(D[fe],Ne,.001*De,S.throughputHalfLife),z(I[fe],me,1,S.latencyHalfLife)}},getAverageThroughput:ce,getSafeAverageThroughput:function W(fe,Pe){var Ce=ce(fe,Pe);return isNaN(Ce)||(Ce*=k.get().streaming.abr.bandwidthSafetyFactor),Ce},getAverageLatency:function Se(fe){return te(!1,fe)},reset:xe};return function L(){S={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},xe()}(),Ve}A.__dashjs_factory_name="ThroughputHistory",v.default=b.default.getClassFactory(A)},"./src/streaming/rules/abr/ABRRulesCollection.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/rules/abr/ABRRulesCollection.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./ThroughputRule */
"./src/streaming/rules/abr/ThroughputRule.js"),b=e(
/*! ./InsufficientBufferRule */
"./src/streaming/rules/abr/InsufficientBufferRule.js"),A=e(
/*! ./AbandonRequestsRule */
"./src/streaming/rules/abr/AbandonRequestsRule.js"),_=e(
/*! ./DroppedFramesRule */
"./src/streaming/rules/abr/DroppedFramesRule.js"),x=e(
/*! ./SwitchHistoryRule */
"./src/streaming/rules/abr/SwitchHistoryRule.js"),w=e(
/*! ./BolaRule */
"./src/streaming/rules/abr/BolaRule.js"),g=e(
/*! ./L2ARule.js */
"./src/streaming/rules/abr/L2ARule.js"),d=e(
/*! ./lolp/LoLpRule.js */
"./src/streaming/rules/abr/lolp/LoLpRule.js"),i=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),h=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),p=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),T="qualitySwitchRules",B="abandonFragmentRules";function P(F){var U,z,O=this.context,D=(F=F||{}).mediaPlayerModel,I=F.customParametersModel,S=F.dashMetrics,L=F.settings;function te(le){return le.filter(function(Ee){return Ee.quality>h.default.NO_CHANGE})}function Me(le){var Ve,fe,Pe,Ce,me,Ee={},xe=null;if(0!==le.length){for(Ee[h.default.PRIORITY.STRONG]={quality:h.default.NO_CHANGE,reason:null},Ee[h.default.PRIORITY.WEAK]={quality:h.default.NO_CHANGE,reason:null},Ee[h.default.PRIORITY.DEFAULT]={quality:h.default.NO_CHANGE,reason:null},Ve=0,fe=le.length;Ve<fe;Ve+=1)(Pe=le[Ve]).quality!==h.default.NO_CHANGE&&(Ee[Pe.priority].quality===h.default.NO_CHANGE||Ee[Pe.priority].quality>Pe.quality)&&(Ee[Pe.priority].quality=Pe.quality,Ee[Pe.priority].reason=Pe.reason||null);return Ee[h.default.PRIORITY.WEAK].quality!==h.default.NO_CHANGE&&(xe=Ee[h.default.PRIORITY.WEAK]),Ee[h.default.PRIORITY.DEFAULT].quality!==h.default.NO_CHANGE&&(xe=Ee[h.default.PRIORITY.DEFAULT]),Ee[h.default.PRIORITY.STRONG].quality!==h.default.NO_CHANGE&&(xe=Ee[h.default.PRIORITY.STRONG]),xe&&(Ce=xe.quality,me=xe.reason),Object(h.default)(O).create(Ce,me)}}return{initialize:function ne(){U=[],z=[],L.get().streaming.abr.useDefaultABRRules&&(L.get().streaming.abr.ABRStrategy===p.default.ABR_STRATEGY_L2A?U.push(Object(g.default)(O).create({dashMetrics:S,settings:L})):L.get().streaming.abr.ABRStrategy===p.default.ABR_STRATEGY_LoLP?U.push(Object(d.default)(O).create({dashMetrics:S})):(U.push(Object(w.default)(O).create({dashMetrics:S,mediaPlayerModel:D,settings:L})),U.push(Object(n.default)(O).create({dashMetrics:S})),L.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&U.push(Object(b.default)(O).create({dashMetrics:S,settings:L})),L.get().streaming.abr.additionalAbrRules.switchHistoryRule&&U.push(Object(x.default)(O).create()),L.get().streaming.abr.additionalAbrRules.droppedFramesRule&&U.push(Object(_.default)(O).create()),L.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&z.push(Object(A.default)(O).create({dashMetrics:S,mediaPlayerModel:D,settings:L})))),I.getAbrCustomRules().forEach(function(Ee){Ee.type===T&&U.push(Ee.rule(O).create()),Ee.type===B&&z.push(Ee.rule(O).create())})},reset:function W(){[U,z].forEach(function(le){le&&le.length&&le.forEach(function(Ee){return Ee.reset&&Ee.reset()})}),U=[],z=[]},getMaxQuality:function J(le){return Me(te(U.map(function(fe){return fe.getMaxIndex(le)})))||Object(h.default)(O).create()},getMinSwitchRequest:Me,shouldAbandonFragment:function ce(le,Ee){return Me(te(z.map(function(Pe){return Pe.shouldAbandon(le,Ee)})))||Object(h.default)(O).create()},getQualitySwitchRules:function Se(){return U}}}P.__dashjs_factory_name="ABRRulesCollection";var k=i.default.getClassFactory(P);k.QUALITY_SWITCH_RULES=T,k.ABANDON_FRAGMENT_RULES=B,i.default.updateSingletonFactory(P.__dashjs_factory_name,k),v.default=k},"./src/streaming/rules/abr/AbandonRequestsRule.js":
/*!********************************************************!*\
                  !*** ./src/streaming/rules/abr/AbandonRequestsRule.js ***!
                  \********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),b=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=e(
/*! ../../../core/Debug */
"./src/core/Debug.js");function _(x){var B,P,k,F,O,i=this.context,h=(x=x||{}).mediaPlayerModel,p=x.dashMetrics,T=x.settings;function C(){k={},F={},O=[]}return B={shouldAbandon:function L(U){var z=Object(n.default)(i).create(n.default.NO_CHANGE,{name:_.__dashjs_factory_name});if(!(U&&U.hasOwnProperty("getMediaInfo")&&U.hasOwnProperty("getMediaType")&&U.hasOwnProperty("getCurrentRequest")&&U.hasOwnProperty("getRepresentationInfo")&&U.hasOwnProperty("getAbrController")))return z;var ne=U.getMediaInfo(),te=U.getMediaType(),Me=U.getStreamInfo(),J=Me?Me.id:null,ce=U.getCurrentRequest();if(!isNaN(ce.index)){!function I(U,z){k[U]=k[U]||{},k[U][z]=k[U][z]||{}}(te,ce.index);var W=h.getStableBufferTime();if(p.getCurrentBufferLevel(te)>W)return z;var le=k[te][ce.index];if(null===le||null===ce.firstByteDate||F.hasOwnProperty(le.id))return z;if(void 0===le.firstByteTime&&(O[te]=[],le.firstByteTime=ce.firstByteDate.getTime(),le.segmentDuration=ce.duration,le.bytesTotal=ce.bytesTotal,le.id=ce.index),le.bytesLoaded=ce.bytesLoaded,le.elapsedTime=(new Date).getTime()-le.firstByteTime,le.bytesLoaded>0&&le.elapsedTime>0&&function S(U,z){O[U]=O[U]||[],O[U].push(z)}(te,Math.round(8*le.bytesLoaded/le.elapsedTime)),O[te].length>=5&&le.elapsedTime>500&&le.bytesLoaded<le.bytesTotal){var Ee=O[te].reduce(function(Re,Fe){return Re+Fe},0);if(le.measuredBandwidthInKbps=Math.round(Ee/O[te].length),le.estimatedTimeOfDownload=+(8*le.bytesTotal/le.measuredBandwidthInKbps/1e3).toFixed(2),le.estimatedTimeOfDownload<1.8*le.segmentDuration||0===U.getRepresentationInfo().quality)return z;if(!F.hasOwnProperty(le.id)){var xe=U.getAbrController(),Ve=le.bytesTotal-le.bytesLoaded,fe=xe.getBitrateList(ne),Pe=xe.getQualityForBitrate(ne,le.measuredBandwidthInKbps*T.get().streaming.abr.bandwidthSafetyFactor,J),Ce=xe.getMinAllowedIndexFor(te,J),me=void 0!==Ce?Math.max(Ce,Pe):Pe;Ve>le.bytesTotal*fe[me].bitrate/fe[xe.getQualityFor(te,J)].bitrate&&(z.quality=me,z.reason.throughput=le.measuredBandwidthInKbps,z.reason.fragmentID=le.id,F[le.id]=le,P.debug("["+te+"] frag id",le.id," is asking to abandon and switch to quality to ",me," measured bandwidth was",le.measuredBandwidthInKbps),delete k[te][le.id])}}else le.bytesLoaded===le.bytesTotal&&delete k[te][le.id]}return z},reset:C},function D(){P=Object(A.default)(i).getInstance().getLogger(B),C()}(),B}_.__dashjs_factory_name="AbandonRequestsRule",v.default=b.default.getClassFactory(_)},"./src/streaming/rules/abr/BolaRule.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/abr/BolaRule.js ***!
                  \*********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),A=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),x=e(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),w=e(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),g=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),d=e(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),i=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),B=10;function F(O){var C,U,z,D=this.context,I=(O=O||{}).dashMetrics,S=O.mediaPlayerModel,L=Object(x.default)(D).getInstance();function Me(ye,ve,K){var se=K.reduce(function(q,$,ie){return $>K[q]?ie:q},0);if(0===se)return null;var ge=Math.max(ye,B+2*ve.length),oe=(K[se]-1)/(ge/B-1);return{gp:oe,Vp:B/oe}}function J(ye){var ve={},se=ye.getMediaInfo().bitrateList.map(function(q){return q.bandwidth}),ge=function te(ye){return ye.map(function(ve){return Math.log(ve)})}(se);ge=ge.map(function(q){return q-ge[0]+1});var oe=S.getStableBufferTime(),Q=Me(oe,se,ge);return Q?(ve.state=1,ve.bitrates=se,ve.utilities=ge,ve.stableBufferTime=oe,ve.Vp=Q.Vp,ve.gp=Q.gp,ve.lastQuality=0,ce(ve)):ve.state=0,ve}function ce(ye){ye.placeholderBuffer=0,ye.mostAdvancedSegmentStart=NaN,ye.lastSegmentWasReplacement=!1,ye.lastSegmentStart=NaN,ye.lastSegmentDurationS=NaN,ye.lastSegmentRequestTimeMs=NaN,ye.lastSegmentFinishTimeMs=NaN}function W(ye,ve){var K=S.getStableBufferTime();if(ye.stableBufferTime!==K){var se=Me(K,ye.bitrates,ye.utilities);if(se.Vp!==ye.Vp||se.gp!==ye.gp){var ge=I.getCurrentBufferLevel(ve),oe=ge+ye.placeholderBuffer;oe-=B,oe*=se.Vp/ye.Vp,oe+=B,ye.stableBufferTime=K,ye.Vp=se.Vp,ye.gp=se.gp,ye.placeholderBuffer=Math.max(0,oe-ge)}}}function Ee(ye,ve){return ye.Vp*(ye.utilities[ve]+ye.gp)}function xe(ye,ve){for(var K=ye.bitrates[ve],se=ye.utilities[ve],ge=0,oe=ve-1;oe>=0;--oe)if(ye.utilities[oe]<ye.utilities[ve]){var Q=ye.bitrates[oe];ge=Math.max(ge,ye.Vp*(ye.gp+(K*ye.utilities[oe]-Q*se)/(K-Q)))}return ge}function fe(ye){var K=ye.mediaType===i.default.AUDIO?[i.default.AUDIO]:z;for(var se in K)z.hasOwnProperty(se)&&2===z[se].state&&(z[se].placeholderBuffer=0)}function Pe(){for(var ye in z)if(z.hasOwnProperty(ye)){var ve=z[ye];0!==ve.state&&(ve.state=1,ce(ve))}}function Ce(ye){if(ye&&ye.chunk&&ye.chunk.mediaInfo){var ve=z[ye.chunk.mediaInfo.type];if(ve&&0!==ve.state){var K=ye.chunk.start;isNaN(ve.mostAdvancedSegmentStart)||K>ve.mostAdvancedSegmentStart?(ve.mostAdvancedSegmentStart=K,ve.lastSegmentWasReplacement=!1):ve.lastSegmentWasReplacement=!0,ve.lastSegmentStart=K,ve.lastSegmentDurationS=ye.chunk.duration,ve.lastQuality=ye.chunk.quality,De(ve,ye.chunk.mediaInfo.type)}}}function me(ye){if(ye&&ye.metric===n.default.HTTP_REQUEST&&ye.value&&ye.value.type===_.HTTPRequest.MEDIA_SEGMENT_TYPE&&ye.value.trace&&ye.value.trace.length){var ve=z[ye.mediaType];ve&&0!==ve.state&&(ve.lastSegmentRequestTimeMs=ye.value.trequest.getTime(),ve.lastSegmentFinishTimeMs=ye.value._tfinish.getTime(),De(ve,ye.mediaType))}}function De(ye,ve){if(!isNaN(ye.lastSegmentStart)&&!isNaN(ye.lastSegmentRequestTimeMs)&&!isNaN(ye.placeholderBuffer)){if(ye.placeholderBuffer*=.99,!isNaN(ye.lastSegmentFinishTimeMs)){var se=I.getCurrentBufferLevel(ve)+.001*(ye.lastSegmentFinishTimeMs-ye.lastSegmentRequestTimeMs),ge=Ee(ye,ye.lastQuality),oe=Math.max(0,ge-se);ye.placeholderBuffer=Math.min(oe,ye.placeholderBuffer)}ye.lastSegmentWasReplacement&&!isNaN(ye.lastSegmentDurationS)&&(ye.placeholderBuffer+=ye.lastSegmentDurationS),ye.lastSegmentStart=NaN,ye.lastSegmentRequestTimeMs=NaN}}function Re(ye){if(ye){var ve=z[ye.mediaType];ve&&0!==ve.state&&(ve.abrQuality=ye.newQuality)}}function Fe(ye){if(ye){var ve=z[ye.mediaType];if(ve&&0!==ve.state){var se,K=I.getCurrentBufferLevel(ye.mediaType);se=ve.abrQuality>0?xe(ve,ve.abrQuality):B;var ge=Math.max(0,se-K);ve.placeholderBuffer=Math.min(ve.placeholderBuffer,ge)}}}function at(){z={}}return C={getMaxIndex:function Ne(ye){var ve=Object(b.default)(D).create();if(!(ye&&ye.hasOwnProperty("getMediaInfo")&&ye.hasOwnProperty("getMediaType")&&ye.hasOwnProperty("getScheduleController")&&ye.hasOwnProperty("getStreamInfo")&&ye.hasOwnProperty("getAbrController")&&ye.hasOwnProperty("useBufferOccupancyABR")))return ve;var K=ye.getMediaInfo(),se=ye.getMediaType(),ge=ye.getScheduleController(),oe=ye.getStreamInfo(),Q=ye.getAbrController(),q=Q.getThroughputHistory(),$=oe?oe.id:null,ie=oe&&oe.manifestInfo&&oe.manifestInfo.isDynamic,Z=ye.useBufferOccupancyABR();if(ve.reason=ve.reason||{},!Z)return ve;ge.setTimeToLoadDelay(0);var X=function Se(ye){var ve=ye.getMediaType(),K=z[ve];return K?0!==K.state&&W(K,ve):(K=J(ye),z[ve]=K),K}(ye);if(0===X.state)return ve;var et,pe=I.getCurrentBufferLevel(se),Te=q.getAverageThroughput(se,ie),be=q.getSafeAverageThroughput(se,ie),Le=q.getAverageLatency(se);if(ve.reason.state=X.state,ve.reason.throughput=Te,ve.reason.latency=Le,isNaN(Te))return ve;switch(X.state){case 1:et=Q.getQualityForBitrate(K,be,$,Le),ve.quality=et,ve.reason.throughput=be,X.placeholderBuffer=Math.max(0,xe(X,et)-pe),X.lastQuality=et,!isNaN(X.lastSegmentDurationS)&&pe>=X.lastSegmentDurationS&&(X.state=2);break;case 2:(function Ve(ye,ve){var K=Date.now();isNaN(ye.lastSegmentFinishTimeMs)?isNaN(ye.lastCallTimeMs)||(ye.placeholderBuffer+=Math.max(0,.001*(K-ye.lastCallTimeMs))):ye.placeholderBuffer+=Math.max(0,.001*(K-ye.lastSegmentFinishTimeMs)),ye.lastCallTimeMs=K,ye.lastSegmentStart=NaN,ye.lastSegmentRequestTimeMs=NaN,ye.lastSegmentFinishTimeMs=NaN,W(ye,ve)})(X,se),et=function le(ye,ve){for(var K=ye.bitrates.length,se=NaN,ge=NaN,oe=0;oe<K;++oe){var Q=(ye.Vp*(ye.utilities[oe]+ye.gp)-ve)/ye.bitrates[oe];(isNaN(ge)||Q>=ge)&&(ge=Q,se=oe)}return se}(X,pe+X.placeholderBuffer);var Qe=Q.getQualityForBitrate(K,be,$,Le);et>X.lastQuality&&et>Qe&&(et=Math.max(Qe,X.lastQuality));var qe=Math.max(0,pe+X.placeholderBuffer-Ee(X,et));qe<=X.placeholderBuffer?(X.placeholderBuffer-=qe,qe=0):(qe-=X.placeholderBuffer,X.placeholderBuffer=0,et<Q.getMaxAllowedIndexFor(se,$)?ge.setTimeToLoadDelay(1e3*qe):qe=0),ve.quality=et,ve.reason.throughput=Te,ve.reason.latency=Le,ve.reason.bufferLevel=pe,ve.reason.placeholderBuffer=X.placeholderBuffer,ve.reason.delay=qe,X.lastQuality=et;break;default:U.debug("BOLA ABR rule invoked in bad state."),ve.quality=Q.getQualityForBitrate(K,be,$,Le),ve.reason.state=X.state,ve.reason.throughput=be,ve.reason.latency=Le,X.state=1,ce(X)}return ve},reset:function Be(){at(),L.off(d.default.BUFFER_EMPTY,fe,C),L.off(d.default.PLAYBACK_SEEKING,Pe,C),L.off(d.default.METRIC_ADDED,me,C),L.off(d.default.QUALITY_CHANGE_REQUESTED,Re,C),L.off(d.default.FRAGMENT_LOADING_ABANDONED,Fe,C),L.off(w.default.MEDIA_FRAGMENT_LOADED,Ce,C)}},function ne(){U=Object(g.default)(D).getInstance().getLogger(C),at(),L.on(d.default.BUFFER_EMPTY,fe,C),L.on(d.default.PLAYBACK_SEEKING,Pe,C),L.on(d.default.METRIC_ADDED,me,C),L.on(d.default.QUALITY_CHANGE_REQUESTED,Re,C),L.on(d.default.FRAGMENT_LOADING_ABANDONED,Fe,C),L.on(w.default.MEDIA_FRAGMENT_LOADED,Ce,C)}(),C}F.__dashjs_factory_name="BolaRule",v.default=A.default.getClassFactory(F)},"./src/streaming/rules/abr/DroppedFramesRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/DroppedFramesRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),A=e(
/*! ../../../core/Debug */
"./src/core/Debug.js");function _(){var w,g,x=this.context;return w={getMaxIndex:function p(T){var B=Object(b.default)(x).create();if(!T||!T.hasOwnProperty("getDroppedFramesHistory"))return B;var P=T.getDroppedFramesHistory(),k=T.getStreamInfo().id;if(P){var F=P.getFrameHistory(k);if(!F||0===F.length)return B;for(var O=0,D=0,I=b.default.NO_CHANGE,S=1;S<F.length;S++)if(F[S]&&(O=F[S].droppedVideoFrames,(D=F[S].totalVideoFrames)>375&&O/D>.15)){g.debug("index: "+(I=S-1)+" Dropped Frames: "+O+" Total Frames: "+D);break}return Object(b.default)(x).create(I,{droppedFrames:O})}return B}},function h(){g=Object(A.default)(x).getInstance().getLogger(w)}(),w}_.__dashjs_factory_name="DroppedFramesRule",v.default=n.default.getClassFactory(_)},"./src/streaming/rules/abr/InsufficientBufferRule.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/rules/abr/InsufficientBufferRule.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),A=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),x=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),w=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),g=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),d=e(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function i(h){h=h||{};var F,O,D,T=2,B=this.context,P=Object(n.default)(B).getInstance(),k=h.dashMetrics;function U(){(D={})[w.default.VIDEO]={ignoreCount:T},D[w.default.AUDIO]={ignoreCount:T}}function z(){U()}function ne(Me){!isNaN(Me.startTime)&&(Me.mediaType===w.default.AUDIO||Me.mediaType===w.default.VIDEO)&&D[Me.mediaType].ignoreCount>0&&D[Me.mediaType].ignoreCount--}return F={getMaxIndex:function L(Me){var J=Object(x.default)(B).create();if(!Me||!Me.hasOwnProperty("getMediaType"))return J;!function S(){if(!k||!k.hasOwnProperty("getCurrentBufferLevel")||!k.hasOwnProperty("getCurrentBufferState"))throw new Error(w.default.MISSING_CONFIG_ERROR)}();var ce=Me.getMediaType(),W=k.getCurrentBufferState(ce),le=Me.getRepresentationInfo().fragmentDuration,Ee=Me.getStreamInfo(),xe=Ee?Ee.id:null,Ve=Me.getScheduleController(),fe=Ee&&Ee.manifestInfo&&Ee.manifestInfo.isDynamic;if(function C(Me,J){return!Me&&D[J].ignoreCount>0}(Ve.getPlaybackController().getLowLatencyModeEnabled(),ce)||!le)return J;if(W&&W.state===g.default.BUFFER_EMPTY)O.debug("["+ce+"] Switch to index 0; buffer is empty."),J.quality=0,J.reason="InsufficientBufferRule: Buffer is empty";else{var me=Me.getMediaInfo(),De=Me.getAbrController(),Re=De.getThroughputHistory(),Fe=k.getCurrentBufferLevel(ce),Ne=Re.getAverageThroughput(ce,fe),at=Re.getAverageLatency(ce);J.quality=De.getQualityForBitrate(me,Ne*(Fe/le)*.5,xe,at),J.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return J},reset:function te(){U(),P.off(d.default.PLAYBACK_SEEKING,z,F),P.off(b.default.BYTES_APPENDED_END_FRAGMENT,ne,F)}},function I(){O=Object(_.default)(B).getInstance().getLogger(F),U(),P.on(d.default.PLAYBACK_SEEKING,z,F),P.on(b.default.BYTES_APPENDED_END_FRAGMENT,ne,F)}(),F}i.__dashjs_factory_name="InsufficientBufferRule",v.default=A.default.getClassFactory(i)},"./src/streaming/rules/abr/L2ARule.js":
/*!********************************************!*\
                  !*** ./src/streaming/rules/abr/L2ARule.js ***!
                  \********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),A=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),x=e(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),w=e(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),g=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),d=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js");function T(B){var O,D,I,S,P=this.context,k=(B=B||{}).dashMetrics,F=Object(x.default)(P).getInstance();function C(fe){var Pe={},Ce=fe.getMediaInfo(),me=Ce.bitrateList.map(function(De){return De.bandwidth/1e3});return Pe.state=1,Pe.bitrates=me,Pe.lastQuality=0,function U(fe){!fe||!fe.type||(I[fe.type]={},I[fe.type].w=[],I[fe.type].prev_w=[],I[fe.type].Q=0,I[fe.type].segment_request_start_s=0,I[fe.type].segment_download_finish_s=0,I[fe.type].B_target=1.5)}(Ce),z(Pe),Pe}function z(fe){fe.placeholderBuffer=0,fe.mostAdvancedSegmentStart=NaN,fe.lastSegmentWasReplacement=!1,fe.lastSegmentStart=NaN,fe.lastSegmentDurationS=NaN,fe.lastSegmentRequestTimeMs=NaN,fe.lastSegmentFinishTimeMs=NaN}function te(){for(var fe in D)if(D.hasOwnProperty(fe)){var Pe=D[fe];0!==Pe.state&&(Pe.state=1,z(Pe))}}function Me(fe){if(fe&&fe.chunk&&fe.chunk.mediaInfo){var Pe=D[fe.chunk.mediaInfo.type],Ce=I[fe.chunk.mediaInfo.type];if(Pe&&0!==Pe.state){var me=fe.chunk.start;isNaN(Pe.mostAdvancedSegmentStart)||me>Pe.mostAdvancedSegmentStart?(Pe.mostAdvancedSegmentStart=me,Pe.lastSegmentWasReplacement=!1):Pe.lastSegmentWasReplacement=!0,Pe.lastSegmentStart=me,Pe.lastSegmentDurationS=fe.chunk.duration,Pe.lastQuality=fe.chunk.quality,ce(Pe,Ce)}}}function J(fe){if(fe&&fe.metric===n.default.HTTP_REQUEST&&fe.value&&fe.value.type===_.HTTPRequest.MEDIA_SEGMENT_TYPE&&fe.value.trace&&fe.value.trace.length){var Pe=D[fe.mediaType],Ce=I[fe.mediaType];Pe&&0!==Pe.state&&(Pe.lastSegmentRequestTimeMs=fe.value.trequest.getTime(),Pe.lastSegmentFinishTimeMs=fe.value._tfinish.getTime(),ce(Pe,Ce))}}function ce(fe,Pe){!isNaN(fe.lastSegmentStart)&&!isNaN(fe.lastSegmentRequestTimeMs)&&(Pe.segment_request_start_s=.001*fe.lastSegmentRequestTimeMs,Pe.segment_download_finish_s=.001*fe.lastSegmentFinishTimeMs,fe.lastSegmentStart=NaN,fe.lastSegmentRequestTimeMs=NaN)}function W(fe){if(fe&&fe.mediaType){var Pe=D[fe.mediaType];Pe&&0!==Pe.state&&(Pe.abrQuality=fe.newQuality)}}function Se(fe,Pe){if(fe.length!==Pe.length)return-1;for(var Ce=0,me=0;me<fe.length;me++)Ce+=fe[me]*Pe[me];return Ce}function xe(){D={},I={}}return O={getMaxIndex:function Ee(fe){var X,Pe=Object(b.default)(P).create(),me=Math.pow(4,.99),De=Math.max(Math.pow(4,1),me*Math.sqrt(4)),Re=fe.getMediaInfo(),Fe=fe.getMediaType(),Ne=Re.bitrateList.map(function(Ut){return Ut.bandwidth}),at=Ne.length,Be=fe.getScheduleController(),ye=fe.getStreamInfo(),ve=fe.getAbrController(),K=ve.getThroughputHistory(),se=ye&&ye.manifestInfo&&ye.manifestInfo.isDynamic,ge=fe.useL2AABR(),oe=k.getCurrentBufferLevel(Fe,!0),Q=K.getSafeAverageThroughput(Fe,se),q=K.getAverageThroughput(Fe,se),ie=K.getAverageLatency(Fe),pe=fe.getVideoModel().getPlaybackRate();if(!(fe&&fe.hasOwnProperty("getMediaInfo")&&fe.hasOwnProperty("getMediaType")&&fe.hasOwnProperty("getScheduleController")&&fe.hasOwnProperty("getStreamInfo")&&fe.hasOwnProperty("getAbrController")&&fe.hasOwnProperty("useL2AABR")&&(Pe.reason=Pe.reason||{},ge&&Fe!==d.default.AUDIO)))return Pe;Be.setTimeToLoadDelay(0);var Te=function ne(fe){var Pe=fe.getMediaType(),Ce=D[Pe];return Ce||(Ce=C(fe),D[Pe]=Ce),Ce}(fe);if(0===Te.state)return Pe;var be=I[Fe];if(!be||(Pe.reason.state=Te.state,Pe.reason.throughput=q,Pe.reason.latency=ie,isNaN(q)))return Pe;switch(Te.state){case 1:if(X=ve.getQualityForBitrate(Re,Q,ye.id,ie),Pe.quality=X,Pe.reason.throughput=Q,Te.lastQuality=X,!isNaN(Te.lastSegmentDurationS)&&oe>=be.B_target){Te.state=2,be.Q=me;for(var Le=0;Le<at;++Le)be.prev_w[Le]=Le===Te.lastQuality?1:0}break;case 2:var et=[],Qe=k.getCurrentHttpRequest(Fe).trace.reduce(function(Ut,Zt){return Ut+Zt.d},0),qe=k.getCurrentHttpRequest(Fe).trace.reduce(function(Ut,Zt){return Ut+Zt.b[0]},0),ft=Math.round(8*qe/Qe);ft<1&&(ft=1);for(var ze=Te.lastSegmentDurationS,ht=1,Et=0;Et<at;++Et)Ne[Et]=Ne[Et]/1e3,pe*Ne[Et]>ft&&(ht=-1),be.w[Et]=be.prev_w[Et]+ht*(ze/(2*De))*((be.Q+me)*(pe*Ne[Et]/ft));be.w=function le(fe){for(var Pe=fe.length,Ce=!1,me=[],De=0;De<Pe;++De)me[De]=fe[De];for(var Re=fe.sort(function(ve,K){return K-ve}),Fe=0,Ne=0,at=[],Be=0;Be<Pe-1;++Be)if((Ne=((Fe+=Re[Be])-1)/(Be+1))>=Re[Be+1]){Ce=!0;break}Ce||(Ne=(Fe+Re[Pe-1]-1)/Pe);for(var ye=0;ye<Pe;++ye)at[ye]=Math.max(me[ye]-Ne,0);return at}(be.w);for(var de=0;de<at;++de)et[de]=be.w[de]-be.prev_w[de],be.prev_w[de]=be.w[de];be.Q=Math.max(0,be.Q-ze+ze*pe*((Se(Ne,be.prev_w)+Se(Ne,et))/ft));for(var He=[],bt=0;bt<at;++bt)He[bt]=Math.abs(Ne[bt]-Se(be.w,Ne));(X=He.indexOf(Math.min.apply(Math,He)))>Te.lastQuality&&Ne[Te.lastQuality+1]<=ft&&(X=Te.lastQuality+1),Ne[X]>=ft&&(be.Q=2*Math.max(me,be.Q)),Pe.quality=X,Pe.reason.throughput=q,Pe.reason.latency=ie,Pe.reason.bufferLevel=oe,Te.lastQuality=Pe.quality;break;default:S.debug("L2A ABR rule invoked in bad state."),Pe.quality=ve.getQualityForBitrate(Re,Q,ye.id,ie),Pe.reason.state=Te.state,Pe.reason.throughput=Q,Pe.reason.latency=ie,Te.state=1,z(Te)}return Pe},reset:function Ve(){xe(),F.off(w.default.PLAYBACK_SEEKING,te,O),F.off(w.default.MEDIA_FRAGMENT_LOADED,Me,O),F.off(w.default.METRIC_ADDED,J,O),F.off(w.default.QUALITY_CHANGE_REQUESTED,W,O)}},function L(){S=Object(g.default)(P).getInstance().getLogger(O),xe(),F.on(w.default.PLAYBACK_SEEKING,te,O),F.on(w.default.MEDIA_FRAGMENT_LOADED,Me,O),F.on(w.default.METRIC_ADDED,J,O),F.on(w.default.QUALITY_CHANGE_REQUESTED,W,O)}(),O}T.__dashjs_factory_name="L2ARule",v.default=A.default.getClassFactory(T)},"./src/streaming/rules/abr/SwitchHistoryRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/SwitchHistoryRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function _(){var w,g,x=this.context;return w={getMaxIndex:function p(T){for(var B=T?T.getSwitchHistory():null,P=B?B.getSwitchRequests():[],k=0,F=0,O=0,D=Object(A.default)(x).create(),I=0;I<P.length;I++)if(void 0!==P[I]&&(O+=P[I].dropSize,(k+=P[I].drops)+(F+=P[I].noDrops)>=6&&k/F>.075)){D.quality=I>0&&P[I].drops>0?I-1:I,D.reason={index:D.quality,drops:k,noDrops:F,dropSize:O},g.debug("Switch history rule index: "+D.quality+" samples: "+(k+F)+" drops: "+k);break}return D}},function h(){g=Object(b.default)(x).getInstance().getLogger(w)}(),w}_.__dashjs_factory_name="SwitchHistoryRule",v.default=n.default.getClassFactory(_)},"./src/streaming/rules/abr/ThroughputRule.js":
/*!***************************************************!*\
                  !*** ./src/streaming/rules/abr/ThroughputRule.js ***!
                  \***************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),A=e(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),_=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function x(w){var g=this.context,d=(w=w||{}).dashMetrics;return{getMaxIndex:function T(P){var k=Object(b.default)(g).create();if(!(P&&P.hasOwnProperty("getMediaInfo")&&P.hasOwnProperty("getMediaType")&&P.hasOwnProperty("useBufferOccupancyABR")&&P.hasOwnProperty("getAbrController")&&P.hasOwnProperty("getScheduleController")))return k;!function p(){if(!d||!d.hasOwnProperty("getCurrentBufferState"))throw new Error(A.default.MISSING_CONFIG_ERROR)}();var F=P.getMediaInfo(),O=P.getMediaType(),D=d.getCurrentBufferState(O),I=P.getScheduleController(),S=P.getAbrController(),L=P.getStreamInfo(),C=L?L.id:null,U=L&&L.manifestInfo?L.manifestInfo.isDynamic:null,z=S.getThroughputHistory(),ne=z.getSafeAverageThroughput(O,U),te=z.getAverageLatency(O),Me=P.useBufferOccupancyABR();return isNaN(ne)||!D||Me||S.getAbandonmentStateFor(C,O)!==_.default.ABANDON_LOAD&&(D.state===_.default.BUFFER_LOADED||U)&&(k.quality=S.getQualityForBitrate(F,ne,C,te),I.setTimeToLoadDelay(0),k.reason={throughput:ne,latency:te}),k},reset:function B(){}}}x.__dashjs_factory_name="ThroughputRule",v.default=n.default.getClassFactory(x)},"./src/streaming/rules/abr/lolp/LearningAbrController.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LearningAbrController.js ***!
                  \***************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),A_MANUAL="manual_weight_selection",A_RANDOM="random_weight_selection",A_DYNAMIC="dynamic_weight_selection";function _(){var w,g,d,i,h,p,T,B,P,x=this.context;function O(){d=null,i=1,h=100,p=0,T=null,B=null,P=A_DYNAMIC}function D(){var Ee=0;if(d)for(var xe=0;xe<d.length;xe++){var Ve=d[xe];Ve.state.throughput>Ee&&(Ee=Ve.state.throughput)}return Ee}function S(Ee,xe,Ve){var fe=Ee.map(function(Ce,me){return Ve[me]*Math.pow(Ce-xe[me],2)}).reduce(function(Ce,me){return Ce+me});return(fe<0?-1:1)*Math.sqrt(Math.abs(fe))}function L(Ee,xe){return S([Ee.state.throughput,Ee.state.latency,Ee.state.rebuffer,Ee.state.switch],[xe.state.throughput,xe.state.latency,xe.state.rebuffer,xe.state.switch],[1,1,1,1])}function C(Ee,xe,Ve){for(var fe=0;fe<xe.length;fe++){var Pe=xe[fe],me=L(Pe,Ee);U(Pe,Ve,Math.exp(-1*Math.pow(me,2)/(2*Math.pow(.1,2))))}}function U(Ee,xe,Ve){var fe=Ee.state,Pe=[.01,.01,.01,.01];fe.throughput=fe.throughput+(xe[0]-fe.throughput)*Pe[0]*Ve,fe.latency=fe.latency+(xe[1]-fe.latency)*Pe[1]*Ve,fe.rebuffer=fe.rebuffer+(xe[2]-fe.rebuffer)*Pe[2]*Ve,fe.switch=fe.switch+(xe[3]-fe.switch)*Pe[3]*Ve}return w={getNextQuality:function ne(Ee,xe,Ve,fe,Pe,Ce,me){var De=Ve,Re=fe,Fe=xe,Ne=function W(Ee){if(!d){d=[];var xe=Ee.bitrateList,Ve=[];p=xe[0].bandwidth,xe.forEach(function(Ce){Ve.push(Ce.bandwidth),Ce.bandwidth<p&&(p=Ce.bandwidth)}),i=function I(Ee){var xe=Ee.map(function(Ve){return Math.pow(Ve,2)}).reduce(function(Ve,fe){return Ve+fe});return Math.sqrt(xe)}(Ve);for(var fe=0;fe<xe.length;fe++)d.push({qualityIndex:fe,bitrate:xe[fe].bandwidth,state:{throughput:xe[fe].bandwidth/i,latency:0,rebuffer:0,switch:0}});B=function le(Ee){var xe=[],Ve=function Se(Ee){for(var xe=[],Ve=0;Ve<Ee;Ve++){var fe=[Math.random()*D(),Math.random(),Math.random(),Math.random()];xe.push(fe)}return xe}(Math.pow(Ee.length,2));xe.push(Ve[0]);for(var fe=[1,1,1,1],Pe=1;Pe<Ee.length;Pe++){for(var Ce=null,me=null,De=0;De<Ve.length;De++){for(var Re=Ve[De],Fe=null,Ne=0;Ne<xe.length;Ne++){var at=S(Re,xe[Ne],fe);(null===Fe||at<Fe)&&(Fe=at)}(null===me||Fe>me)&&(Ce=Re,me=Fe)}xe.push(Ce)}for(var Be=null,ye=null,ve=0;ve<xe.length;ve++){for(var K=0,se=0;se<xe.length;se++)ve!==se&&(K+=S(xe[ve],xe[se],fe));(null===Be||K>Be)&&(Be=K,ye=ve)}var ge=[];for(ge.push(xe[ye]),xe.splice(ye,1);xe.length>0;){for(var oe=null,Q=null,q=0;q<xe.length;q++){var $=S(ge[0],xe[q],fe);(null===oe||$<oe)&&(oe=$,Q=q)}ge.push(xe[Q]),xe.splice(Q,1)}return ge}(d)}return d}(Ee),at=xe/i;at>1&&(at=D()),Ve/=h,g.debug("getNextQuality called throughput:".concat(at," latency:").concat(Ve," bufferSize:").concat(fe," currentQualityIndex:").concat(Ce," playbackRate:").concat(Pe));var se=Ne[Ce],ge=se.bitrate*me.getSegmentDuration()/Fe,oe=Math.max(0,ge-Re);if(Re-ge<me.getMinBuffer())return g.debug("Buffer is low for bitrate= ".concat(se.bitrate," downloadTime=").concat(ge," currentBuffer=").concat(Re," rebuffer=").concat(oe)),function z(Ee,xe){var Ve=0,fe=Ee;if(d)for(var Pe=0;Pe<d.length;Pe++){var Ce=d[Pe];Ce.bitrate<Ee.bitrate&&Ce.bitrate>Ve&&xe>Ce.bitrate&&(Ve=Ce.bitrate,fe=Ce)}return fe}(se,Fe).qualityIndex;switch(P){case A_MANUAL:!function te(){T=[.4,.4,.4,.4]}();break;case A_RANDOM:!function Me(Ee){T=function ce(Ee,xe){for(var Ve=[],fe=Math.sqrt(2/Ee),Pe=0;Pe<xe;Pe++)Ve.push(Math.random()*fe);return T=Ve}(Ee.length,4)}(Ne);break;default:!function J(Ee,xe,Ve,fe,Pe,Ce,me){T||(T=B[B.length-1]);var De=Ee.findWeightVector(xe,Ve,fe,Pe,Ce,me);null!==De&&-1!==De&&(T=De)}(me,Ne,De,Re,oe,Fe,Pe)}for(var Q=null,q=null,$=null,ie=0;ie<Ne.length;ie++){var Z=Ne[ie],X=Z.state,pe=[X.throughput,X.latency,X.rebuffer,X.switch],Te=T.slice(),be=me.getNextBufferWithBitrate(Z.bitrate,Re,Fe),Le=be<me.getMinBuffer();Le&&g.debug("Buffer is low for bitrate=".concat(Z.bitrate," downloadTime=").concat(ge," currentBuffer=").concat(Re," nextBuffer=").concat(be)),(Z.bitrate>xe-1e4||Le)&&Z.bitrate!==p&&(Te[0]=100);var et=S(pe,[at,0,0,0],Te);(null===Q||et<Q)&&(Q=et,q=Z.qualityIndex,$=Z)}var Qe=Math.abs(se.bitrate-$.bitrate)/i;return C(se,Ne,[at,Ve,oe,Qe]),C($,Ne,[at,0,0,Qe]),q},reset:function F(){O()}},function k(){g=Object(b.default)(x).getInstance().getLogger(w),O()}(),w}_.__dashjs_factory_name="LearningAbrController",v.default=n.default.getClassFactory(_)},"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ./QoeInfo */
"./src/streaming/rules/abr/lolp/QoeInfo.js");function A(){var _,x,w,g,d;function h(){x=null,w=null,g=null,d=null}function T(D,I,S,L){var C=new b.default;return C.type=D,C.weights.bitrateReward=I||1,C.weights.bitrateSwitchPenalty=1,C.weights.rebufferPenalty=S||1e3,C.weights.latencyPenalty=[],C.weights.latencyPenalty.push({threshold:1.1,penalty:.05*L}),C.weights.latencyPenalty.push({threshold:1e8,penalty:.1*S}),C.weights.playbackSpeedPenalty=L||200,C}function P(D,I,S,L,C){C.bitrateWSum+=C.weights.bitrateReward*D,C.lastBitrate&&(C.bitrateSwitchWSum+=C.weights.bitrateSwitchPenalty*Math.abs(D-C.lastBitrate)),C.lastBitrate=D,C.rebufferWSum+=C.weights.rebufferPenalty*I;for(var U=0;U<C.weights.latencyPenalty.length;U++){var z=C.weights.latencyPenalty[U];if(S<=z.threshold){C.latencyWSum+=z.penalty*S;break}}C.playbackSpeedWSum+=C.weights.playbackSpeedPenalty*Math.abs(1-L),C.totalQoe=C.bitrateWSum-C.bitrateSwitchWSum-C.rebufferWSum-C.latencyWSum-C.playbackSpeedWSum}return _={setupPerSegmentQoe:function p(D,I,S){x=T("segment",D,I,S),w=D,g=I,d=S},logSegmentMetrics:function B(D,I,S,L){x&&P(D,I,S,L,x)},getPerSegmentQoe:function k(){return x},calculateSingleUseQoe:function F(D,I,S,L){var C=null;return w&&g&&d&&(C=T("segment",w,g,d)),C?(P(D,I,S,L,C),C.totalQoe):0},reset:function O(){h()}},function i(){h()}(),_}A.__dashjs_factory_name="LoLpQoeEvaluator",v.default=n.default.getClassFactory(A)},"./src/streaming/rules/abr/lolp/LoLpRule.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpRule.js ***!
                  \**************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=e(
/*! ./LearningAbrController */
"./src/streaming/rules/abr/lolp/LearningAbrController.js"),_=e(
/*! ./LoLpQoEEvaluator */
"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js"),x=e(
/*! ../../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),w=e(
/*! ../../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),g=e(
/*! ./LoLpWeightSelector */
"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js"),d=e(
/*! ../../../constants/Constants */
"./src/streaming/constants/Constants.js");function p(T){var k,F,O,D,B=(T=T||{}).dashMetrics,P=this.context;return F={getMaxIndex:function S(U){try{var z=Object(x.default)(P).create(),ne=U.getMediaInfo().type,te=U.getAbrController(),Me=U.getStreamInfo(),J=te.getQualityFor(ne,Me.id),ce=U.getMediaInfo(),W=B.getCurrentBufferState(ne),Se=U.getScheduleController(),le=B.getCurrentBufferLevel(ne,!0),Ee=Me&&Me.manifestInfo?Me.manifestInfo.isDynamic:null,xe=Se.getPlaybackController(),Ve=xe.getCurrentLiveLatency();if(!U.useLoLPABR()||ne===d.default.AUDIO)return z;Ve||(Ve=0);var fe=xe.getPlaybackRate(),Ce=te.getThroughputHistory().getSafeAverageThroughput(ne,Ee);if(k.debug("Throughput ".concat(Math.round(Ce)," kbps")),isNaN(Ce)||!W||te.getAbandonmentStateFor(Me.id,ne)===w.default.ABANDON_LOAD)return z;for(var me=ce.bitrateList,De=U.getRepresentationInfo().fragmentDuration,Re=me[0].bandwidth/1e3,Fe=me[me.length-1].bandwidth/1e3,Ne=0;Ne<me.length;Ne++){var at=me[Ne].bandwidth/1e3;at>Fe?Fe=at:at<Re&&(Re=at)}var ye=me[J].bandwidth/1e3,ve=B.getCurrentHttpRequest(ne,!0),K=(ve.tresponse.getTime()-ve.trequest.getTime())/1e3,se=K>De?K-De:0;D.setupPerSegmentQoe(De,Fe,Re),D.logSegmentMetrics(ye,se,Ve,fe);var ge=Object(g.default)(P).create({targetLatency:1.5,bufferMin:.3,segmentDuration:De,qoeEvaluator:D});return z.quality=O.getNextQuality(ce,1e3*Ce,Ve,le,fe,J,ge),z.reason={throughput:Ce,latency:Ve},z.priority=x.default.PRIORITY.STRONG,Se.setTimeToLoadDelay(0),z.quality!==J&&console.log("[TgcLearningRule]["+ne+"] requesting switch to index: ",z.quality,"Average throughput",Math.round(Ce),"kbps"),z}catch(oe){throw oe}},reset:function C(){!function L(){O.reset(),D.reset()}()}},function I(){k=Object(n.default)(P).getInstance().getLogger(F),O=Object(A.default)(P).create(),D=Object(_.default)(P).create()}(),F}p.__dashjs_factory_name="LoLPRule",v.default=b.default.getClassFactory(p)},"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js":
/*!************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpWeightSelector.js ***!
                  \************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(A){var d,p,T,_=A.targetLatency,x=A.bufferMin,w=A.segmentDuration,g=A.qoeEvaluator;function I(){return w}function L(C,U){var z=I();return U>z?C-z:C+z-U}return d={getMinBuffer:function D(){return x},getSegmentDuration:I,getNextBufferWithBitrate:function S(C,U,z){return L(U,C*w/z)},getNextBuffer:L,findWeightVector:function k(C,U,z,ne,te,Me){var J=null,ce=null,W=null,Se=Math.abs(U-T);return C.forEach(function(le){p.forEach(function(Ee){var xe_latency=Ee[1],xe_buffer=Ee[2],Ve=le.bitrate*w/te,fe=L(z,Ve),Pe=Math.max(1e-5,Ve-fe),Re=g.calculateSingleUseQoe(le.bitrate,(0===xe_buffer?10:1/xe_buffer)*Pe,(0===xe_latency?10:1/xe_latency)*le.state.latency,Me);(null===J||Re>J)&&function F(C,U,z){return!(C>_+z)&&U>=x}(U,fe,Se)&&(J=Re,ce=Ee,W=le.bitrate)})}),null===ce&&null===W&&(ce=-1),T=U,ce}},function B(){!function P(){p=function O(C,U){return function te(Me,J,ce){if(ce===J)return Me;for(var W=Me.length,Se=0;Se<W;Se++)for(var le=Me.shift(),Ee=0;Ee<C.length;Ee++)Me.push(le.concat(C[Ee]));return te(Me,J,ce+1)}(C.map(function(te){return[te]}),U,1)}([.2,.4,.6,.8,1],4),T=0}()}(),d}b.__dashjs_factory_name="LoLpWeightSelector",v.default=n.default.getClassFactory(b)},"./src/streaming/rules/abr/lolp/QoeInfo.js":
/*!*************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/QoeInfo.js ***!
                  \*************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0})},"./src/streaming/text/EmbeddedTextHtmlRender.js":
/*!******************************************************!*\
                  !*** ./src/streaming/text/EmbeddedTextHtmlRender.js ***!
                  \******************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var A=0;function x(T){for(var B="",P=0;P<T.length;++P)B+=T[P].uchar;return B.length-B.replace(/^\s+/,"").length}function w(T){return"left: "+3.125*T.x+"%; top: "+6.66*T.y1+"%; width: "+(100-3.125*T.x)+"%; height: "+6.66*Math.max(T.y2-1-T.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function g(T){return"red"===T?"rgb(255, 0, 0)":"green"===T?"rgb(0, 255, 0)":"blue"===T?"rgb(0, 0, 255)":"cyan"===T?"rgb(0, 255, 255)":"magenta"===T?"rgb(255, 0, 255)":"yellow"===T?"rgb(255, 255, 0)":"white"===T?"rgb(255, 255, 255)":"black"===T?"rgb(0, 0, 0)":T}function d(T,B){var P=T.videoHeight/15;return B?"font-size: "+P+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(B.foreground?g(B.foreground):"rgb(255, 255, 255)")+"; font-style: "+(B.italics?"italic":"normal")+"; text-decoration: "+(B.underline?"underline":"none")+"; white-space: pre; background-color: "+(B.background?g(B.background):"transparent")+";":"font-size: "+P+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function i(T){return T.replace(/^\s+/g,"")}function h(T){return T.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function p(T,B,P,k){var ne,te,F=null,D=!1,I=-1,S={start:B,end:P,spans:[]},L="style_cea608_white_black",C={},U={},z=[];for(ne=0;ne<15;++ne){var Me=k.rows[ne],J="",ce=null;if(!1===Me.isEmpty()){var W=x(Me.chars);null===F&&(F={x:W,y1:ne,y2:ne+1,p:[]}),W!==I&&D&&(F.p.push(S),S={start:B,end:P,spans:[]},F.y2=ne,F.name="region_"+F.x+"_"+F.y1+"_"+F.y2,!1===C.hasOwnProperty(F.name)?(z.push(F),C[F.name]=F):C[F.name].p.contat(F.p),F={x:W,y1:ne,y2:ne+1,p:[]});for(var Se=0;Se<Me.chars.length;++Se){var le=Me.chars[Se],Ee=le.penState;if(null===ce||!Ee.equals(ce)){J.trim().length>0&&(S.spans.push({name:L,line:J,row:ne}),J="");var xe="style_cea608_"+Ee.foreground+"_"+Ee.background;Ee.underline&&(xe+="_underline"),Ee.italics&&(xe+="_italics"),U.hasOwnProperty(xe)||(U[xe]=JSON.parse(JSON.stringify(Ee))),ce=Ee,L=xe}J+=le.uchar}J.trim().length>0&&S.spans.push({name:L,line:J,row:ne}),D=!0,I=W}else D=!1,I=-1,F&&(F.p.push(S),S={start:B,end:P,spans:[]},F.y2=ne,F.name="region_"+F.x+"_"+F.y1+"_"+F.y2,!1===C.hasOwnProperty(F.name)?(z.push(F),C[F.name]=F):C[F.name].p.contat(F.p),F=null)}F&&(F.p.push(S),F.y2=ne+1,F.name="region_"+F.x+"_"+F.y1+"_"+F.y2,!1===C.hasOwnProperty(F.name)?(z.push(F),C[F.name]=F):C[F.name].p.contat(F.p),F=null);var Ve=[];for(ne=0;ne<z.length;++ne){var fe=z[ne],Pe="sub_cea608_"+A++,Ce=document.createElement("div");Ce.id=Pe;var me=w(fe);Ce.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+me;var De=document.createElement("div");De.className="paragraph bodyStyle",De.style.cssText=d(T);var Re=document.createElement("div");Re.className="cueUniWrapper",Re.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Fe=0;Fe<fe.p.length;++Fe){var Ne=fe.p[Fe],at=0;for(te=0;te<Ne.spans.length;++te){var Be=Ne.spans[te];if(Be.line.length>0){if(0!==te&&at!=Be.row){var ye=document.createElement("br");ye.className="lineBreak",Re.appendChild(ye)}var ve=!1;at===Be.row&&(ve=!0),at=Be.row;var K=U[Be.name],se=document.createElement("span");se.className="spanPadding "+Be.name+" customSpanColor",se.style.cssText=d(T,K),se.textContent=0!==te&&ve?te===Ne.spans.length-1?h(Be.line):Be.line:Ne.spans.length>1&&te<Ne.spans.length-1&&Be.row===Ne.spans[te+1].row?i(Be.line):Be.line.trim(),Re.appendChild(se)}}}De.appendChild(Re),Ce.appendChild(De);var ge={bodyStyle:["%",90]};for(var oe in U)U.hasOwnProperty(oe)&&(ge[oe]=["%",90]);Ve.push({type:"html",start:B,end:P,cueHTMLElement:Ce,cueID:Pe,cellResolution:[32,15],isFromCEA608:!0,fontSize:ge,lineHeight:{},linePadding:{}})}return Ve}}}b.__dashjs_factory_name="EmbeddedTextHtmlRender",v.default=n.default.getSingletonFactory(b)},"./src/streaming/text/NotFragmentedTextBufferController.js":
/*!*****************************************************************!*\
                  !*** ./src/streaming/text/NotFragmentedTextBufferController.js ***!
                  \*****************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),A=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),x=e(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),w=e(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),g=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),d="NotFragmentedTextBufferController";function i(h){h=h||{};var O,D,I,S,L,C,p=this.context,T=Object(n.default)(p).getInstance(),B=h.textController,P=h.errHandler,k=h.streamInfo,F=h.type;function W(q){S=q}function Ve(q){D!==q&&(D=q)&&function Q(q,$){T.trigger(q,$||{},{streamId:k.id,mediaType:F})}(b.default.BUFFERING_COMPLETED)}function Ce(q){!q.chunk.bytes||D||(C.save(q.chunk),L.append(q.chunk),Ve(!0))}return O={initialize:function ne(q){W(q)},getStreamId:function Me(){return k.id},getType:function J(){return F},getBufferControllerType:function z(){return d},createBufferSink:function te(q){return new Promise(function($,ie){try{(L=Object(x.default)(p).create({mediaSource:S,textController:B,eventBus:T})).initializeForFirstUse(k,q),I||(L.getBuffer()&&"function"==typeof L.getBuffer().initialize&&L.getBuffer().initialize(),I=!0),$(L)}catch(Z){P.error(new w.default(g.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,g.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+F)),ie(Z)}})},getBuffer:function ce(){return L},getBufferLevel:function Ee(){return 0},getRangeAt:function me(){return null},pruneBuffer:function at(){},hasBufferAtTime:function De(){return!0},getAllRangesWithSafetyFactor:function Re(){return[]},getContinuousBufferTimeForTargetTime:function Fe(){return Number.POSITIVE_INFINITY},setMediaSource:W,getMediaSource:function Se(){return S},appendInitSegmentFromCache:function Pe(q){return null!==C.extract(k.id,q)},getIsBufferingCompleted:function xe(){return D},setIsBufferingCompleted:Ve,getIsPruningInProgress:function le(){return!1},reset:function fe(q){T.off(b.default.INIT_FRAGMENT_LOADED,Ce,O),!q&&L&&(L.abort(),L.reset(),L=null)},clearBuffers:function Ne(){return Promise.resolve()},prepareForPlaybackSeek:function ye(){return Promise.resolve()},prepareForReplacementTrackSwitch:function ve(){return D=!1,Promise.resolve()},setSeekTarget:function se(){},updateAppendWindow:function K(){return Promise.resolve()},pruneAllSafely:function oe(){return Promise.resolve()},updateBufferTimestampOffset:function Be(){return Promise.resolve()},segmentRequestingCompleted:function ge(){}},function U(){I=!1,S=null,D=!1,C=Object(_.default)(p).getInstance(),T.on(b.default.INIT_FRAGMENT_LOADED,Ce,O)}(),O}i.__dashjs_factory_name=d,v.default=A.default.getClassFactory(i)},"./src/streaming/text/TextController.js":
/*!**********************************************!*\
                  !*** ./src/streaming/text/TextController.js ***!
                  \**********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=e(
/*! ./TextSourceBuffer */
"./src/streaming/text/TextSourceBuffer.js"),_=e(
/*! ./TextTracks */
"./src/streaming/text/TextTracks.js"),x=e(
/*! ../utils/VTTParser */
"./src/streaming/utils/VTTParser.js"),w=e(
/*! ../utils/VttCustomRenderingParser */
"./src/streaming/utils/VttCustomRenderingParser.js"),g=e(
/*! ../utils/TTMLParser */
"./src/streaming/utils/TTMLParser.js"),d=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),i=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),h=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),p=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function T(B){var L,C,U,z,ne,te,Me,J,ce,W,Se,le,P=this.context,k=B.adapter,F=B.errHandler,O=B.manifestModel,D=B.mediaController,I=B.videoModel,S=B.settings;function Re($){var ie=$.tracks,Z=$.index,X=$.streamId;if(!1===S.get().streaming.text.defaultEnabled&&!Be()||le)ve(X,-1);else{var Te=D.getCurrentTrackFor(n.default.TEXT,X);if(Te){var be={lang:Te.lang,role:Te.roles[0],index:Te.index,codec:Te.codec,accessibility:Te.accessibility[0]};ie.some(function(Le,et){if(D.matchSettings(be,Le))return ve(X,et),Z=et,!0})}ce=!1}C[X].lastEnabledIndex=Z,J.trigger(h.default.TEXT_TRACKS_ADDED,{enabled:Be(),index:Z,tracks:ie,streamId:X}),Se=!0}function Fe($){try{var ie=$.streamId;if(!z[ie]||isNaN($.time))return;z[ie].manualCueProcessing($.time)}catch{}}function Ne($){try{var ie=$.streamId;if(!z[ie])return;z[ie].disableManualTracks()}catch{}}function Be(){var $=!0;return ce&&!W&&($=!1),$}function ve($,ie){(ce=-1===ie)&&D&&D.saveTextSettingsDisabled();var Z=ge($);if(Z!==ie&&z[$]){z[$].disableManualTracks(),z[$].setModeForTrackIdx(Z,n.default.TEXT_HIDDEN),z[$].setCurrentTrackIdx(ie),z[$].setModeForTrackIdx(ie,n.default.TEXT_SHOWING);var X=z[$].getCurrentTrackInfo();X&&X.isFragmented&&!X.isEmbedded?function K($,ie,Z){if(U[$])for(var pe=U[$].getConfig().fragmentedTracks,Te=0;Te<pe.length;Te++){var be=pe[Te];if(ie.lang===be.lang&&(be.id?ie.id===be.id:ie.index===be.index)){var Le=D.getCurrentTrackFor(n.default.TEXT,$);(be.id?Le.id!==be.id:Le.index!==be.index)?(z[$].deleteCuesFromTrackIdx(Z),U[$].setCurrentFragmentedTrackIdx(Te)):-1===Z&&J.trigger(i.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:$,mediaType:n.default.TEXT})}}}($,X,Z):X&&!X.isFragmented&&function se($,ie){J.trigger(i.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:ie},{streamId:$,mediaType:n.default.TEXT})}($,X),D.setTrack(X)}}function ge($){return z[$].getCurrentTrackIdx()}function Q(){U={},z={},C={},ce=!0,Se=!1,le=!1}return L={deactivateStream:function oe($){if($){var ie=$.id;U[ie]&&U[ie].resetMediaInfos(),z[ie]&&z[ie].deleteAllTextTracks()}},initialize:function xe(){J.on(i.default.TEXT_TRACKS_QUEUE_INITIALIZED,Re,L),S.get().streaming.text.webvtt.customRenderingEnabled&&(J.on(i.default.PLAYBACK_TIME_UPDATED,Fe,L),J.on(i.default.PLAYBACK_SEEKING,Ne,L))},initializeForStream:function Ve($){var ie=$.id,Z=Object(_.default)(P).create({videoModel:I,settings:S,streamInfo:$});Z.initialize(),z[ie]=Z;var X=Object(A.default)(P).create({errHandler:F,adapter:k,manifestModel:O,mediaController:D,videoModel:I,textTracks:Z,vttParser:ne,vttCustomRenderingParser:te,ttmlParser:Me,streamInfo:$,settings:S});X.initialize(),U[ie]=X,C[ie]={},C[ie].lastEnabledIndex=-1},createTracks:function fe($){var ie=$.id;z[ie]&&z[ie].createTracks()},getTextSourceBuffer:function Ce($){var ie=$.id;if(U&&U[ie])return U[ie]},getAllTracksAreDisabled:function me(){return ce},addEmbeddedTrack:function De($,ie){var Z=$.id;U[Z]&&U[Z].addEmbeddedTrack(ie)},enableText:function at($,ie){Object(p.checkParameterType)(ie,"boolean"),Be()!==ie&&(ie&&ve($,C[$].lastEnabledIndex),ie||(C[$].lastEnabledIndex=ge($),Se?ve($,-1):le=!0))},isTextEnabled:Be,setTextTrack:ve,getCurrentTrackIdx:ge,enableForcedTextStreaming:function ye($){Object(p.checkParameterType)($,"boolean"),W=$},addMediaInfosToBuffer:function Pe($,ie,Z){var pe=$.id;U[pe]&&U[pe].addMediaInfos(ie,Z,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function q(){Q(),J.off(i.default.TEXT_TRACKS_QUEUE_INITIALIZED,Re,L),S.get().streaming.text.webvtt.customRenderingEnabled&&(J.off(i.default.PLAYBACK_TIME_UPDATED,Fe,L),J.off(i.default.PLAYBACK_SEEKING,Ne,L)),Object.keys(U).forEach(function($){U[$].resetEmbedded(),U[$].reset()})}},function Ee(){W=!1,Se=!1,le=!1,ne=Object(x.default)(P).getInstance(),te=Object(w.default)(P).getInstance(),Me=Object(g.default)(P).getInstance(),J=Object(d.default)(P).getInstance(),Q()}(),L}T.__dashjs_factory_name="TextController",v.default=b.default.getClassFactory(T)},"./src/streaming/text/TextSourceBuffer.js":
/*!************************************************!*\
                  !*** ./src/streaming/text/TextSourceBuffer.js ***!
                  \************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),A=e(
/*! ../vo/TextTrackInfo */
"./src/streaming/vo/TextTrackInfo.js"),_=e(
/*! ../utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),x=e(
/*! ../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js"),w=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),d=e(
/*! ./EmbeddedTextHtmlRender */
"./src/streaming/text/EmbeddedTextHtmlRender.js"),i=e(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),h=e.n(i),p=e(
/*! ../../../externals/cea608-parser */
"./externals/cea608-parser.js"),T=e.n(p),B=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),P=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),k=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js");function O(D){var le,Ee,xe,Ve,fe,Pe,Ce,me,De,Re,Fe,Ne,at,Be,ye,ve,I=D.errHandler,S=D.manifestModel,L=D.mediaController,C=D.videoModel,U=D.textTracks,z=D.vttParser,ne=D.vttCustomRenderingParser,te=D.ttmlParser,Me=D.streamInfo,J=D.settings,ce=this.context,W=Object(B.default)(ce).getInstance(),Se=!1;function oe(){(function ge(){Pe=null,me=NaN,De=[],Re=null,Ce=!1})(),fe=[],Ve=null}function $(ke){var Ke=new A.default;for(var ot in ke)Ke[ot]=ke[ot];Ke.labels=ke.labels,Ke.defaultTrack=function pn(ke){var Ke=!1;return Ne.length>1&&ke.isEmbedded?Ke=ke.id&&ke.id===n.default.CC1:1===Ne.length?ke.id&&"string"==typeof ke.id&&"CC"===ke.id.substring(0,2)&&(Ke=!0):0===Ne.length&&(Ke=ke.index===fe[0].index),Ke}(ke),Ke.isFragmented=ke.isFragmented,Ke.isEmbedded=!!ke.isEmbedded,Ke.isTTML=function Qe(ke){return ke.codec&&ke.codec.search(n.default.STPP)>=0||ke.mimeType&&ke.mimeType.search(n.default.TTML)>=0}(ke),Ke.kind=function qe(ke,Ke){var rt=ke.roles&&ke.roles.length>0?Ke[ke.roles[0]]:Ke.caption;return rt===Ke.caption||rt===Ke.subtitle?rt:Ke.caption}(ke,{subtitle:"subtitles",caption:"captions"}),U.addTextTrack(Ke)}function X(ke){var Ke=ke.chunk;Ke.mediaInfo.embeddedCaptions&&ft(Ke.bytes,Ke)}function et(ke){Fe=ke}function ft(ke,Ke){var rt=Ke.mediaInfo,ot=rt.type,mt=rt.codec||rt.mimeType;mt?-1!==rt.codec.indexOf("application/mp4")?function ze(ke,Ke,rt){var ot;if("InitializationSegment"===Ke.segmentType)Ce=!0,me=xe.getMediaTimescaleFromMoov(ke);else{if(!Ce)return;(ot=xe.getSamplesInfo(ke).sampleList).length>0&&(Re=ot[0].cts-Ke.start*me),rt.search(n.default.STPP)>=0?function ht(ke,Ke,rt){var ot,yt;for(Ve=null!==Ve?Ve:rn(rt),ot=0;ot<Ke.length;ot++){var mt=Ke[ot],_t=mt.cts,qt=Kt(),fn=qt+_t/me;le.buffered.add(fn,fn+mt.duration/me);var gn=new DataView(ke,mt.offset,mt.subSizes[0]),Tn=h.a.Utils.dataViewToString(gn,n.default.UTF8),Mn=[],Gn=mt.offset+mt.subSizes[0];for(yt=1;yt<mt.subSizes.length;yt++){var Zn=new Uint8Array(ke,Gn,mt.subSizes[yt]),dn=String.fromCharCode.apply(null,Zn);Mn.push(dn),Gn+=mt.subSizes[yt]}try{var ln=S.getValue(),sn=Ve.parse(Tn,ln.ttmlTimeIsRelative?_t/me:0,_t/me,(_t+mt.duration)/me,Mn);U.addCaptions(Fe,qt,sn)}catch(cn){Pe.removeExecutedRequestsBeforeTime(),this.remove(),Ee.error("TTML parser error: "+cn.message)}}}(ke,ot,rt):function Et(ke,Ke){var rt,ot,yt,mt=[];for(rt=0;rt<Ke.length;rt++){var _t=Ke[rt];_t.cts-=Re;var fn=Kt()+_t.cts/me;le.buffered.add(fn,fn+_t.duration/me);var gn=ke.slice(_t.offset,_t.offset+_t.size),Tn=h.a.parseBuffer(gn);for(ot=0;ot<Tn.boxes.length;ot++){var Mn=Tn.boxes[ot];if(Ee.debug("VTT box1: "+Mn.type),"vtte"!==Mn.type&&"vttc"===Mn.type)for(Ee.debug("VTT vttc boxes.length = "+Mn.boxes.length),yt=0;yt<Mn.boxes.length;yt++){var Gn=Mn.boxes[yt];if(Ee.debug("VTT box2: "+Gn.type),"payl"===Gn.type){var Zn=Gn.cue_text;Ee.debug("VTT cue_text = "+Zn);var dn=_t.cts/me,ln=(_t.cts+_t.duration)/me;mt.push({start:dn,end:ln,data:Zn,styles:{}}),Ee.debug("VTT "+dn+"-"+ln+" : "+Zn)}}}}mt.length>0&&U.addCaptions(Fe,0,mt)}(ke,ot)}}(ke,Ke,mt):ot===n.default.VIDEO?function He(ke,Ke){var rt,ot;if(Ke.segmentType===b.HTTPRequest.INIT_SEGMENT_TYPE)0===at&&(at=xe.getMediaTimescaleFromMoov(ke));else if(Ke.segmentType===b.HTTPRequest.MEDIA_SEGMENT_TYPE){if(0===at)return void Ee.warn("CEA-608: No timescale for embeddedTextTrack yet");var yt=(ot=xe.getSamplesInfo(ke)).lastSequenceNumber;if(!ye[0]&&!ye[1]&&function bt(){for(var ke,Ke=0;Ke<Ne.length;Ke++){if(-1===(ke=U.getTrackIdxForId(Ne[Ke].id)))return void Ee.warn("CEA-608: data before track is ready.");var rt=Ut(ke);ye[Ke]=new T.a.Cea608Parser(Ke+1,{newCue:rt},null)}}(),at){if(null!==Be&&yt!==Be+ot.numSequences)for(rt=0;rt<ye.length;rt++)ye[rt]&&ye[rt].reset();for(var mt=function Zt(ke,Ke){if(0===Ke.length)return null;for(var rt={splits:[],fields:[[],[]]},ot=new DataView(ke),yt=0;yt<Ke.length;yt++)for(var mt=Ke[yt],_t=T.a.findCea608Nalus(ot,mt.offset,mt.size),qt=null,fn=0,Qt=0;Qt<_t.length;Qt++)for(var gn=T.a.extractCea608DataFromRange(ot,_t[Qt]),Tn=0;Tn<2;Tn++)if(gn[Tn].length>0){mt.cts!==qt?fn=0:fn+=1;var Mn=Kt();rt.fields[Tn].push([mt.cts+Mn*at,gn[Tn],fn]),qt=mt.cts}return rt.fields.forEach(function(Zn){Zn.sort(function(dn,ln){return dn[0]===ln[0]?dn[2]-ln[2]:dn[0]-ln[0]})}),rt}(ke,ot.sampleList),_t=0;_t<ye.length;_t++){var qt=mt.fields[_t],fn=ye[_t];if(fn)for(rt=0;rt<qt.length;rt++)fn.addData(qt[rt][0]/at,qt[rt][1])}Be=yt}}}(ke,Ke):function de(ke,Ke,rt){var ot,yt,mt=new DataView(ke,0,ke.byteLength);yt=h.a.Utils.dataViewToString(mt,n.default.UTF8);try{ot=rn(rt).parse(yt,0),U.addCaptions(U.getCurrentTrackIdx(),0,ot),le.buffered&&le.buffered.add(Ke.start,Ke.end)}catch(_t){I.error(new k.default(F.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,F.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+_t.message,yt))}}(ke,Ke,mt):Ee.error("No text type defined")}function Ut(ke){return function Ke(rt,ot,yt){var mt;(mt=C.getTTMLRenderingDiv()?ve.createHTMLCaptionsFromScreen(C.getElement(),rt,ot,yt):[{start:rt,end:ot,data:yt.getDisplayText(),styles:{}}])&&U.addCaptions(ke,0,mt)}}function Kt(){return isNaN(le.timestampOffset)?0:le.timestampOffset}function rn(ke){var Ke;return ke.search(n.default.VTT)>=0?Ke=J.get().streaming.text.webvtt.customRenderingEnabled&&ne?ne:z:(ke.search(n.default.TTML)>=0||ke.search(n.default.STPP)>=0)&&(Ke=te),Ke}function vt(ke){Ne.forEach(function(Ke){var rt=U.getTrackIdxForId(Ke.id);rt>=0&&U.deleteCuesFromTrackIdx(rt,ke.from,ke.to)})}return le={initialize:function Q(){Se||function pe(){Ne=[],Fe=null,at=0,ye=[],Be=null,Se=!0,ve=Object(d.default)(ce).getInstance(),W.on(P.default.VIDEO_CHUNK_RECEIVED,X,le),W.on(P.default.BUFFER_CLEARED,vt,le)}()},addMediaInfos:function q(ke,Ke,rt){if(fe=fe.concat(Ke),ke===n.default.TEXT&&Ke[0].isFragmented&&!Ke[0].isEmbedded){Pe=rt,le.buffered=Object(x.default)(ce).create(),De=L.getTracksFor(n.default.TEXT,Me.id).filter(function(_t){return _t.isFragmented});for(var ot=L.getCurrentTrackFor(n.default.TEXT,Me.id),yt=0;yt<De.length;yt++)if(De[yt]===ot){et(yt);break}}for(var mt=0;mt<Ke.length;mt++)$(Ke[mt])},resetMediaInfos:function nt(){fe=[]},getStreamId:function se(){return Me.id},append:ft,abort:function ie(){},addEmbeddedTrack:function be(ke){if(Se&&ke)if(ke.id===n.default.CC1||ke.id===n.default.CC3){for(var Ke=0;Ke<Ne.length;Ke++)if(Ne[Ke].id===ke.id)return;Ne.push(ke)}else Ee.warn("Embedded track "+ke.id+" not supported!")},resetEmbedded:function Te(){W.off(P.default.VIDEO_CHUNK_RECEIVED,X,le),W.off(P.default.BUFFER_CLEARED,vt,le),U&&U.deleteAllTextTracks(),Se=!1,Ne=[],ye=[null,null],Be=null},getConfig:function Le(){return{fragmentModel:Pe,fragmentedTracks:De,videoModel:C}},setCurrentFragmentedTrackIdx:et,remove:function xt(ke,Ke){void 0===ke&&ke===Ke&&(ke=le.buffered.start(0),Ke=le.buffered.end(le.buffered.length-1)),le.buffered.remove(ke,Ke),U.deleteCuesFromTrackIdx(Fe,ke,Ke)},reset:function Z(){oe(),fe=[],xe=null}},function K(){Ee=Object(g.default)(ce).getInstance().getLogger(le),xe=Object(_.default)(ce).getInstance(),oe()}(),le}O.__dashjs_factory_name="TextSourceBuffer",v.default=w.default.getClassFactory(O)},"./src/streaming/text/TextTracks.js":
/*!******************************************!*\
                  !*** ./src/streaming/text/TextTracks.js ***!
                  \******************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),A=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),_=e(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),x=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),g=e(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js");function i(B,P){var k=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!k){if(Array.isArray(B)||(k=function h(B,P){if(B){if("string"==typeof B)return p(B,P);var k=Object.prototype.toString.call(B).slice(8,-1);if("Object"===k&&B.constructor&&(k=B.constructor.name),"Map"===k||"Set"===k)return Array.from(B);if("Arguments"===k||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return p(B,P)}}(B))||P&&B&&"number"==typeof B.length){k&&(B=k);var F=0,O=function(){};return{s:O,n:function(){return F>=B.length?{done:!0}:{done:!1,value:B[F++]}},e:function(C){throw C},f:O}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var S,D=!0,I=!1;return{s:function(){k=k.call(B)},n:function(){var C=k.next();return D=C.done,C},e:function(C){I=!0,S=C},f:function(){try{!D&&null!=k.return&&k.return()}finally{if(I)throw S}}}}function p(B,P){(null==P||P>B.length)&&(P=B.length);for(var k=0,F=new Array(P);k<P;k++)F[k]=B[k];return F}function T(B){var I,S,L,C,U,z,ne,te,Me,J,ce,W,Se,le,Ee,xe,Ve,fe,P=this.context,k=Object(b.default)(P).getInstance(),F=B.videoModel,O=B.streamInfo,D=B.settings;function De(de){return F.addTextTrack(de.kind,void 0!==de.id?de.id:de.lang,de.lang,de.isTTML,de.isEmbedded)}function Ne(de,He,bt,Ut,Zt,Kt){var xt=0,vt=0;de/He>bt/Ut?xt=(vt=He)/Ut*bt:vt=(xt=de)/bt*Ut;var nt,ke,Ke=0,rt=0;return xt/vt>Zt?(rt=vt,Ke=vt*Zt):(Ke=xt,rt=xt/Zt),nt=(de-Ke)/2,ke=(He-rt)/2,Kt?{x:nt+.1*Ke,y:ke+.1*rt,w:.8*Ke,h:.8*rt}:{x:nt,y:ke,w:Ke,h:rt}}function at(de,He){var bt=F.getClientWidth(),Ut=F.getClientHeight(),Zt=F.getVideoWidth(),Kt=F.getVideoHeight(),pn=F.getVideoRelativeOffsetTop(),rn=F.getVideoRelativeOffsetLeft();if(0!==Zt&&0!==Kt){var xt=Zt/Kt,vt=!1;de.isFromCEA608&&(xt=3.5/3,vt=!0);var nt=Ne.call(this,bt,Ut,Zt,Kt,xt,vt),ke=nt.w,Ke=nt.h,rt=nt.x,ot=nt.y;if(ke!=Me||Ke!=J||rt!=ne||ot!=te||He){if(ne=rt+rn,te=ot+pn,Me=ke,J=Ke,ce){var yt=ce.style;yt&&(yt.left=ne+"px",yt.top=te+"px",yt.width=Me+"px",yt.height=J+"px",yt.zIndex=le&&document[le]||Ee?Ve:null,k.trigger(_.default.CAPTION_CONTAINER_RESIZE))}var mt=de.activeCues;if(mt)for(var _t=mt.length,qt=0;qt<_t;++qt){var fn=mt[qt];fn.scaleCue(fn)}}}}function Be(de){var Ut,Zt,Kt,pn,rn;if(de.cellResolution){var xt=[Me/de.cellResolution[0],J/de.cellResolution[1]];if(de.linePadding)for(Ut in de.linePadding)if(de.linePadding.hasOwnProperty(Ut)){Zt=(de.linePadding[Ut]*xt[0]).toString();for(var nt=document.getElementsByClassName("spanPadding"),ke=0;ke<nt.length;ke++)nt[ke].style.cssText=nt[ke].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Zt),nt[ke].style.cssText=nt[ke].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Zt)}if(de.fontSize){for(Ut in de.fontSize)if(de.fontSize.hasOwnProperty(Ut)){"%"===de.fontSize[Ut][0]?Kt=de.fontSize[Ut][1]/100:"c"===de.fontSize[Ut][0]&&(Kt=de.fontSize[Ut][1]),Zt=(Kt*xt[1]).toString(),rn="defaultFontSize"!==Ut?document.getElementsByClassName(Ut):document.getElementsByClassName("paragraph");for(var Ke=0;Ke<rn.length;Ke++)rn[Ke].style.cssText=rn[Ke].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Zt)}if(de.lineHeight)for(Ut in de.lineHeight)if(de.lineHeight.hasOwnProperty(Ut)){"%"===de.lineHeight[Ut][0]?pn=de.lineHeight[Ut][1]/100:"c"===de.fontSize[Ut][0]&&(pn=de.lineHeight[Ut][1]),Zt=(pn*xt[1]).toString(),rn=document.getElementsByClassName(Ut);for(var rt=0;rt<rn.length;rt++)rn[rt].style.cssText=rn[rt].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Zt)}}}if(de.isd){var ot=document.getElementById(de.cueID);ot&&ce.removeChild(ot),ye(de)}}function ye(de){if(ce){var He=document.createElement("div");ce.appendChild(He),xe=Object(g.renderHTML)(de.isd,He,function(bt){var Ut=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,Zt=/^#(.*)$/;if(Ut.test(bt)){var Kt=Ut.exec(bt),pn=parseInt(Kt[4],10)-1;return"data:image/png;base64,"+btoa(de.images[pn])}if(Zt.test(bt)){var vt=Zt.exec(bt);return"data:image/png;base64,"+de.embeddedImages[vt[1]]}return null},ce.clientHeight,ce.clientWidth,!1,function(bt){S.info("renderCaption :",bt)},xe,!0),He.id=de.cueID,k.trigger(_.default.CAPTION_RENDERED,{captionDiv:He,currentTrackIdx:z})}}function ve(de,He,bt){var Ut=q(de);if(Ut&&Array.isArray(bt)&&0!==bt.length)for(var Zt=0;Zt<bt.length;Zt++){var Kt=void 0,pn=bt[Zt];Ut.cellResolution=pn.cellResolution,Ut.isFromCEA608=pn.isFromCEA608,!isNaN(pn.start)&&!isNaN(pn.end)&&(Kt="html"===pn.type&&ce?K(pn,He,Ut):pn.data?se(pn,He,Ut):null);try{Kt?pe(Ut,Kt)||(D.get().streaming.text.webvtt.customRenderingEnabled?(Ut.manualCueList||(Ut.manualCueList=[]),Ut.manualCueList.push(Kt)):Ut.addCue(Kt)):S.error("impossible to display subtitles.")}catch(rn){throw be(Ut),Ut.addCue(Kt),rn}}}function K(de,He,bt){var Ut=this,Zt=new L(de.start+He,de.end+He,"");return Zt.cueHTMLElement=de.cueHTMLElement,Zt.isd=de.isd,Zt.images=de.images,Zt.embeddedImages=de.embeddedImages,Zt.cueID=de.cueID,Zt.scaleCue=Be.bind(Ut),Zt.cellResolution=de.cellResolution,Zt.lineHeight=de.lineHeight,Zt.linePadding=de.linePadding,Zt.fontSize=de.fontSize,ce.style.left=ne+"px",ce.style.top=te+"px",ce.style.width=Me+"px",ce.style.height=J+"px",Zt.onenter=function(){bt.mode===n.default.TEXT_SHOWING&&(this.isd?(ye(this),S.debug("Cue enter id:"+this.cueID)):(ce.appendChild(this.cueHTMLElement),Be.call(Ut,this),k.trigger(_.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:z})))},Zt.onexit=function(){if(ce)for(var Kt=ce.childNodes,pn=0;pn<Kt.length;++pn)Kt[pn].id===this.cueID&&(S.debug("Cue exit id:"+Kt[pn].id),ce.removeChild(Kt[pn]),--pn)},Zt}function se(de,He,bt){var Ut=new L(de.start-He,de.end-He,de.data);if(Ut.cueID="".concat(Ut.startTime,"_").concat(Ut.endTime),Ut.isActive=!1,de.styles)try{void 0!==de.styles.align&&"align"in Ut&&(Ut.align=de.styles.align),void 0!==de.styles.line&&"line"in Ut&&(Ut.line=de.styles.line),void 0!==de.styles.position&&"position"in Ut&&(Ut.position=de.styles.position),void 0!==de.styles.size&&"size"in Ut&&(Ut.size=de.styles.size)}catch(Zt){S.error(Zt)}return Ut.onenter=function(){bt.mode===n.default.TEXT_SHOWING&&k.trigger(_.default.CAPTION_RENDERED,{currentTrackIdx:z})},Ut}function Q(){var Ut,He=[],bt=i(F.getTextTracks());try{for(bt.s();!(Ut=bt.n()).done;){var Zt=Ut.value;Zt.manualMode===n.default.TEXT_SHOWING&&He.push(Zt)}}catch(Kt){bt.e(Kt)}finally{bt.f()}return He}function q(de){return de>=0&&C[de]?F.getTextTrack(C[de].kind,C[de].id,C[de].lang,C[de].isTTML,C[de].isEmbedded):null}function Z(de){var He=this;if(de!==z){var bt=q(z=de);X.call(this,bt),Se&&(clearInterval(Se),Se=null),bt&&"html"===bt.renderingType&&(at.call(this,bt,!0),window.ResizeObserver?(fe=new window.ResizeObserver(function(){at.call(He,bt,!0)})).observe(F.getElement()):Se=setInterval(at.bind(this,bt),500))}}function X(de){ze.call(this),de&&"html"===de.renderingType?qe.call(this):ft.call(this)}function pe(de,He){if(!de.cues)return!1;for(var bt=0;bt<de.cues.length;bt++)if(de.cues[bt].startTime===He.startTime&&de.cues[bt].endTime===He.endTime)return!0;return!1}function Te(de,He,bt){var Ut=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(He)||(Ut?de.startTime:de.endTime)>=He)&&(isNaN(bt)||(Ut?de.endTime:de.startTime)<=bt)}function be(de,He,bt){var Ut=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(de.cues)for(var Zt=de.cues,pn=Zt.length-1;pn>=0;pn--)Te(Zt[pn],He,bt,Ut)&&(Zt[pn].onexit&&Zt[pn].onexit(),de.removeCue(Zt[pn]))}function qe(){var de=document.getElementById("native-cue-style");if(!de){(de=document.createElement("style")).id="native-cue-style",document.head.appendChild(de);var He=de.sheet,bt=F.getElement();try{bt&&He.insertRule(bt.id?"#"+bt.id+"::cue {background: transparent}":0!==bt.classList.length?"."+bt.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(Ut){S.info(""+Ut.message)}}}function ft(){var de=document.getElementById("native-cue-style");de&&document.head.removeChild(de)}function ze(){if(ce)for(;ce.firstChild;)ce.removeChild(ce.firstChild)}return I={initialize:function Ce(){typeof window>"u"||typeof navigator>"u"||(L=window.VTTCue||window.TextTrackCue,C=[],U=[],z=-1,ne=0,te=0,Me=0,J=0,ce=null,W=null,Se=null,Ee=!1,Ve=2147483647,xe=null,void 0!==document.fullscreenElement?le="fullscreenElement":void 0!==document.webkitIsFullScreen?le="webkitIsFullScreen":document.msFullscreenElement?le="msFullscreenElement":document.mozFullScreen&&(le="mozFullScreen"))},getStreamId:function me(){return O.id},addTextTrack:function Re(de){C.push(de)},addCaptions:ve,createTracks:function Fe(){C.sort(function(rn,xt){return rn.index-xt.index}),ce=F.getTTMLRenderingDiv(),W=F.getVttRenderingDiv();for(var de=-1,He=0;He<C.length;He++){var bt=De(C[He]);U.push(bt),C[He].defaultTrack&&(bt.default=!0,de=He);var Ut=q(He);Ut&&(Ut.mode=n.default.TEXT_SHOWING,Ut.renderingType=ce&&(C[He].isTTML||C[He].isEmbedded)?"html":"default"),ve(He,0,C[He].captionData),k.trigger(_.default.TEXT_TRACK_ADDED)}if(Z.call(this,de),de>=0){k.on(_.default.PLAYBACK_METADATA_LOADED,function rn(){var xt=q(de);xt&&"html"===xt.renderingType&&at.call(this,xt,!0),k.off(_.default.PLAYBACK_METADATA_LOADED,rn,this)},this);for(var Kt=0;Kt<C.length;Kt++){var pn=q(Kt);pn&&(pn.mode=Kt===de?n.default.TEXT_SHOWING:n.default.TEXT_HIDDEN,pn.manualMode=Kt===de?n.default.TEXT_SHOWING:n.default.TEXT_HIDDEN)}}k.trigger(A.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:z,tracks:C,streamId:O.id})},getCurrentTrackIdx:function $(){return z},setCurrentTrackIdx:Z,getTrackIdxForId:function ie(de){for(var He=-1,bt=0;bt<C.length;bt++)if(C[bt].id===de){He=bt;break}return He},getCurrentTrackInfo:function Et(){return C[z]},setModeForTrackIdx:function ht(de,He){var bt=q(de);bt&&bt.mode!==He&&(bt.mode=He),bt&&bt.manualMode!==He&&(bt.manualMode=He)},deleteCuesFromTrackIdx:function Le(de,He,bt){var Ut=q(de);Ut&&be(Ut,He,bt)},deleteAllTextTracks:function et(){for(var de=U?U.length:0,He=0;He<de;He++){var bt=q(He);bt&&be.call(this,bt,O.start,O.start+O.duration,!1)}U=[],C=[],Se&&(clearInterval(Se),Se=null),fe&&F&&(fe.unobserve(F.getElement()),fe=null),z=-1,ze.call(this)},deleteTextTrack:function Qe(de){F.removeChild(U[de]),U.splice(de,1)},manualCueProcessing:function ge(de){var He=Q();if(He&&He.length>0){var Ut=He[0].manualCueList;Ut&&Ut.length>0&&Ut.forEach(function(Zt){if(Zt.startTime<=de&&Zt.endTime>=de&&!Zt.isActive)Zt.isActive=!0,WebVTT.processCues(window,[Zt],W,Zt.cueID);else if(Zt.isActive&&(Zt.startTime>de||Zt.endTime<de)&&(Zt.isActive=!1,W))for(var Kt=W.childNodes,pn=0;pn<Kt.length;++pn)Kt[pn].id===Zt.cueID&&(W.removeChild(Kt[pn]),--pn)})}},disableManualTracks:function oe(){var de=Q();if(de&&de.length>0){var bt=de[0].manualCueList;bt&&bt.length>0&&bt.forEach(function(Ut){if(Ut.isActive&&(Ut.isActive=!1,W))for(var Zt=W.childNodes,Kt=0;Kt<Zt.length;++Kt)Zt[Kt].id===Ut.cueID&&(W.removeChild(Zt[Kt]),--Kt)})}}},function Pe(){S=Object(w.default)(P).getInstance().getLogger(I)}(),I}T.__dashjs_factory_name="TextTracks",v.default=x.default.getClassFactory(T)},"./src/streaming/thumbnail/ThumbnailController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailController.js ***!
                  \********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),A=e(
/*! ../vo/Thumbnail */
"./src/streaming/vo/Thumbnail.js"),_=e(
/*! ./ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),x=e(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),w=e(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function g(d){var p,T,i=this.context,h=d.streamInfo;function D(C){T.setTrackByIndex(C)}function L(){T&&T.reset()}return p={getStreamId:function k(){return h.id},initialize:function P(){T.addTracks();var C=T.getTracks();C&&C.length>0&&D(0)},provide:function F(C,U){if("function"==typeof U){var te,z=T.getCurrentTrack();if(!z||z.segmentDuration<=0||null==C)return void U(null);(te=T.getThumbnailRequestForTime(C))&&(z.segmentDuration=te.duration);var Me=Math.floor(C%z.segmentDuration*z.tilesHor*z.tilesVert/z.segmentDuration),J=new A.default;if(J.width=Math.floor(z.widthPerTile),J.height=Math.floor(z.heightPerTile),J.x=Math.floor(Me%z.tilesHor)*z.widthPerTile,J.y=Math.floor(Me/z.tilesHor)*z.heightPerTile,"readThumbnail"in z)return z.readThumbnail(C,function(W){J.url=W,U(J)});if(te)J.url=te.url,z.segmentDuration=NaN;else{var ce=Math.floor(C/z.segmentDuration);J.url=function O(C,U){var z=U+C.startNumber,ne=Object(w.replaceTokenForTemplate)(C.templateUrl,"Number",z);return ne=Object(w.replaceTokenForTemplate)(ne,"Time",(z-1)*C.segmentDuration*C.timescale),ne=Object(w.replaceTokenForTemplate)(ne,"Bandwidth",C.bandwidth),Object(w.unescapeDollarsInTemplate)(ne)}(z,ce)}U(J)}},setTrackByIndex:D,getCurrentTrackIndex:function I(){return T.getCurrentTrackIndex()},getBitrateList:function S(){var C=T.getTracks(),U=0;return C.map(function(z){var ne=new x.default;return ne.mediaType=b.default.IMAGE,ne.qualityIndex=U++,ne.bitrate=z.bitrate,ne.width=z.width,ne.height=z.height,ne})},reset:L},function B(){L(),T=Object(_.default)(i).create({streamInfo:h,adapter:d.adapter,baseURLController:d.baseURLController,timelineConverter:d.timelineConverter,debug:d.debug,eventBus:d.eventBus,events:d.events,dashConstants:d.dashConstants,dashMetrics:d.dashMetrics,segmentBaseController:d.segmentBaseController})}(),p}g.__dashjs_factory_name="ThumbnailController",v.default=n.default.getClassFactory(g)},"./src/streaming/thumbnail/ThumbnailTracks.js":
/*!****************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailTracks.js ***!
                  \****************************************************/
/*! exports provided: THUMBNAILS_SCHEME_ID_URIS, default */function(Xe,v,e){"use strict";e.r(v),e.d(v,"THUMBNAILS_SCHEME_ID_URIS",function(){return p});var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),A=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! ../vo/ThumbnailTrackInfo */
"./src/streaming/vo/ThumbnailTrackInfo.js"),x=e(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),w=e(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),g=e(
/*! ../../streaming/utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),d=e(
/*! ../../streaming/net/XHRLoader */
"./src/streaming/net/XHRLoader.js"),i=e(
/*! ../../dash/DashHandler */
"./src/dash/DashHandler.js"),h=e(
/*! ../../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),p=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function T(B){var z,ne,te,Me,J,ce,W,Se,P=this.context,k=B.adapter,F=B.baseURLController,O=B.streamInfo,D=B.timelineConverter,I=B.debug,S=B.eventBus,L=B.events,C=B.dashConstants,U=Object(x.default)(P).getInstance();function xe(at,Be){var ye=new _.default;ye.id=at.id,ye.bitrate=at.bandwidth,ye.width=at.width,ye.height=at.height,ye.tilesHor=1,ye.tilesVert=1,at.essentialProperties&&at.essentialProperties.forEach(function(ve){if(p.indexOf(ve.schemeIdUri)>=0&&ve.value){var K=ve.value.split("x");2===K.length&&!isNaN(K[0])&&!isNaN(K[1])&&(ye.tilesHor=parseInt(K[0],10),ye.tilesVert=parseInt(K[1],10))}}),Be?ce.updateSegmentData(at).then(function(ve){!function Ve(at,Be,ye){var ve=[],K=function fe(at,Be){var K,se,ge,oe,ye=[],ve=0;for(K=0,se=at.segments.length;K<se;K++)ge=at.segments[K],(oe=Object(w.getTimeBasedSegment)(D,k.getIsDynamic(),Be,ge.startTime,ge.duration,ge.timescale,ge.media,ge.mediaRange,ve))&&(ye.push(oe),oe=null,ve++);return ye}(ye,Be);Be.segments=K,at.segmentDuration=Be.segments[0].duration,at.readThumbnail=function(se,ge){var oe=null;ve.some(function(Q){if(Q.start<=se&&Q.end>se)return oe=Q.url,!0}),oe?ge(oe):Be.segments.some(function(Q){if(Q.mediaStartTime<=se&&Q.mediaStartTime+Q.duration>se){var q=F.resolve(Be.path);return W.load({method:"get",url:q.url,request:{range:Q.mediaRange,responseType:"arraybuffer"},onload:function(ie){var Z=Se.getSamplesInfo(ie.target.response),X=new Blob([ie.target.response.slice(Z.sampleList[0].offset,Z.sampleList[0].offset+Z.sampleList[0].size)],{type:"image/jpeg"}),pe=window.URL.createObjectURL(X);ve.push({start:Q.mediaStartTime,end:Q.mediaStartTime+Q.duration,url:pe}),ge&&ge(pe)}}),!0}})}}(ye,at,ve)}):(ye.startNumber=at.startNumber,ye.segmentDuration=at.segmentDuration,ye.timescale=at.timescale,ye.templateUrl=function Pe(at){var Be=U.isRelative(at.media)?U.resolve(at.media,F.resolve(at.path).url):at.media;return Be?Object(w.replaceIDForTemplate)(Be,at.id):""}(at)),ye.tilesHor>0&&ye.tilesVert>0&&(ye.widthPerTile=ye.width/ye.tilesHor,ye.heightPerTile=ye.height/ye.tilesVert,ne.push(ye))}function Ne(){ne=[],Me=-1,J=null}return z={getTracks:function Ce(){return ne},addTracks:function Ee(){if(O&&k&&(J=k.getMediaInfoForType(O,n.default.IMAGE))){var at=k.getVoRepresentations(J);at&&at.length>0&&at.forEach(function(Be){(Be.segmentInfoType===b.default.SEGMENT_TEMPLATE&&Be.segmentDuration>0&&Be.media||Be.segmentInfoType===b.default.SEGMENT_TIMELINE)&&xe(Be),Be.segmentInfoType===b.default.SEGMENT_BASE&&xe(Be,!0)}),ne.length>0&&ne.sort(function(Be,ye){return Be.bitrate-ye.bitrate})}},reset:Ne,setTrackByIndex:function Re(at){!ne||0===ne.length||(at>=ne.length&&(at=ne.length-1),Me=at)},getCurrentTrack:function De(){return Me<0?null:ne[Me]},getCurrentTrackIndex:function me(){return Me},getThumbnailRequestForTime:function Fe(at){for(var Be,ye=k.getVoRepresentations(J),ve=0;ve<ye.length;ve++)if(ne[Me].id===ye[ve].id){Be=ye[ve];break}return te.getSegmentRequestForTime(J,Be,at)}},function le(){Ne(),W=Object(d.default)(P).create({}),Se=Object(g.default)(P).getInstance(),ce=Object(h.default)(P).create({events:L,eventBus:S,streamInfo:O,timelineConverter:D,dashConstants:C,dashMetrics:B.dashMetrics,segmentBaseController:B.segmentBaseController,type:n.default.IMAGE}),(te=Object(i.default)(P).create({streamInfo:O,type:n.default.IMAGE,timelineConverter:D,segmentsController:ce,baseURLController:F,debug:I,eventBus:S,events:L,dashConstants:C,urlUtils:U})).initialize(!!k&&k.getIsDynamic())}(),z}T.__dashjs_factory_name="ThumbnailTracks",v.default=A.default.getClassFactory(T)},"./src/streaming/utils/BaseURLSelector.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/BaseURLSelector.js ***!
                  \************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),b=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),A=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),_=e(
/*! ../controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),x=e(
/*! ./baseUrlResolution/DVBSelector */
"./src/streaming/utils/baseUrlResolution/DVBSelector.js"),w=e(
/*! ./baseUrlResolution/BasicSelector */
"./src/streaming/utils/baseUrlResolution/BasicSelector.js"),g=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),d=e(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),i=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),h=e(
/*! ./baseUrlResolution/ContentSteeringSelector */
"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js"),p=e(
/*! ../../core/Settings */
"./src/core/Settings.js");function T(){var F,O,D,I,S,L,B=this.context,P=Object(b.default)(B).getInstance(),k=Object(p.default)(B).getInstance();function te(){O.reset()}return F={chooseSelector:function z(Me){Object(i.checkParameterType)(Me,"boolean"),L=Me?I:D},select:function ne(Me){if(Me){if(k.get().streaming.applyContentSteering){var J=S.selectBaseUrlIndex(Me);!isNaN(J)&&-1!==J&&(Me.selectedIdx=J)}if(!isNaN(Me.selectedIdx))return Me.baseUrls[Me.selectedIdx];var ce=L.select(Me.baseUrls);return ce?(Me.selectedIdx=Me.baseUrls.indexOf(ce),ce):(P.trigger(A.default.URL_RESOLUTION_FAILED,{error:new d.default(n.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,n.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(L===D&&te()))}},reset:te,setConfig:function U(Me){Me.selector&&(L=Me.selector),Me.contentSteeringSelector&&(S=Me.contentSteeringSelector)}},function C(){O=Object(_.default)(B).create({updateEventName:A.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:A.default.SERVICE_LOCATION_BLACKLIST_ADD}),D=Object(w.default)(B).create({blacklistController:O}),I=Object(x.default)(B).create({blacklistController:O}),(S=Object(h.default)(B).create()).setConfig({blacklistController:O}),L=D}(),F}T.__dashjs_factory_name="BaseURLSelector",v.default=g.default.getClassFactory(T)},"./src/streaming/utils/BoxParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/BoxParser.js ***!
                  \******************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=e(
/*! ./IsoFile */
"./src/streaming/utils/IsoFile.js"),A=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),_=e(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),x=e.n(_),w=e(
/*! ../vo/IsoBoxSearchInfo */
"./src/streaming/vo/IsoBoxSearchInfo.js");function g(){var d,i,h=this.context;function T(S){if(!S)return null;void 0===S.fileStart&&(S.fileStart=0);var L=x.a.parseBuffer(S),C=Object(b.default)(h).create();return C.setData(L),C}function F(S,L){return S[L+3]>>>0|S[L+2]<<8>>>0|S[L+1]<<16>>>0|S[L]<<24>>>0}function O(S,L){return String.fromCharCode(S[L++])+String.fromCharCode(S[L++])+String.fromCharCode(S[L++])+String.fromCharCode(S[L])}return i={parse:T,findLastTopIsoBoxCompleted:function B(S,L,C){if(void 0===C&&(C=0),!L||C+8>=L.byteLength)return new w.default(0,!1);for(var z,U=L instanceof ArrayBuffer?new Uint8Array(L):L,ne=0;C<U.byteLength;){var te=F(U,C),Me=O(U,C+4);if(0===te)break;C+te<=U.byteLength&&(S.indexOf(Me)>=0?z=new w.default(C,!0,te):ne=C+te),C+=te}return z||new w.default(ne,!1)},getMediaTimescaleFromMoov:function k(S){var L=T(S),C=L?L.getBox("mdhd"):void 0;return C?C.timescale:NaN},getSamplesInfo:function P(S){if(!S||0===S.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var z,te,Me,J,ce,W,Se,le,Ee,xe,Ve,fe,Pe,Ce,me,De,L=T(S),C=L.getBoxes("moof"),U=L.getBoxes("mfhd");me=L.getBoxes("moof").length,Ce=U[U.length-1].sequence_number,te=0,ce=[];var Re=-1,Fe=-1;for(xe=0;xe<C.length;xe++){var Ne=C[xe],at=Ne.getChildBoxes("traf");for(le=0;le<at.length;le++){var Be=at[le],ye=Be.getChildBox("tfhd"),ve=Be.getChildBox("tfdt");J=ve.baseMediaDecodeTime;var K=Be.getChildBoxes("trun"),se=Be.getChildBoxes("subs");for(Ee=0;Ee<K.length;Ee++){var ge=K[Ee];for(te=ge.sample_count,Pe=(ye.base_data_offset||0)+(ge.data_offset||0),Se=0;Se<te;Se++){var oe={dts:J,cts:J+(void 0!==(W=ge.samples[Se]).sample_composition_time_offset?W.sample_composition_time_offset:0),duration:z=void 0!==W.sample_duration?W.sample_duration:ye.default_sample_duration,offset:Ne.offset+Pe,size:Me=void 0!==W.sample_size?W.sample_size:ye.default_sample_size,subSizes:[Me]};if(se)for(Ve=0;Ve<se.length;Ve++){var Q=se[Ve];if(Re<Q.entry_count-1&&Se>Fe&&(Re++,Fe+=Q.entries[Re].sample_delta),Se==Fe){oe.subSizes=[];var q=Q.entries[Re];for(fe=0;fe<q.subsample_count;fe++)oe.subSizes.push(q.subsamples[fe].subsample_size)}}ce.push(oe),Pe+=Me,J+=z}}De=J-ve.baseMediaDecodeTime}}return{sampleList:ce,lastSequenceNumber:Ce,totalDuration:De,numSequences:me}},findInitRange:function D(S){var L=null,z=T(S);if(!z)return L;var ne=z.getBox("ftyp"),te=z.getBox("moov");return d.debug("Searching for initialization."),te&&te.isComplete&&d.debug("Found the initialization.  Range: "+(L=(ne?ne.offset:te.offset)+"-"+(te.offset+te.size-1))),L},parsePayload:function I(S,L,C){if(void 0===C&&(C=0),!L||C+8>=L.byteLength)return new w.default(0,!1);for(var z,U=L instanceof ArrayBuffer?new Uint8Array(L):L,ne=0;C<U.byteLength;){var te=F(U,C),Me=O(U,C+4);if(0===te)break;C+te<=U.byteLength&&(S.indexOf(Me)>=0?z=new w.default(C,!0,te,Me):ne=C+te),C+=te}return z||new w.default(ne,!1)}},function p(){d=Object(n.default)(h).getInstance().getLogger(i)}(),i}g.__dashjs_factory_name="BoxParser",v.default=A.default.getSingletonFactory(g)},"./src/streaming/utils/Capabilities.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/Capabilities.js ***!
                  \*********************************************/
/*! exports provided: supportsMediaSource, default */function(Xe,v,e){"use strict";e.r(v),e.d(v,"supportsMediaSource",function(){return x});var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),A=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),_=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function x(){var g="WebKitMediaSource"in window,d="MediaSource"in window;return g||d}function w(){var g,d,i;return g={setConfig:function p(S){S&&S.settings&&(d=S.settings)},supportsMediaSource:x,supportsEncryptedMedia:function T(){return i},supportsCodec:function P(S,L){return L!==A.default.AUDIO&&L!==A.default.VIDEO?Promise.resolve(!0):function k(S,L){return d.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(S.codec&&L===A.default.AUDIO||L===A.default.VIDEO&&S.codec&&S.width&&S.height&&S.bitrate&&S.framerate)}(S,L)?function O(S,L){return new Promise(function(C){if(S&&S.codec){var U={type:"media-source"};U[L]={},U[L].contentType=S.codec,U[L].width=S.width,U[L].height=S.height,U[L].bitrate=parseInt(S.bitrate),U[L].framerate=parseFloat(S.framerate),navigator.mediaCapabilities.decodingInfo(U).then(function(z){C(z.supported)}).catch(function(){C(!1)})}else C(!1)})}(S,L):function F(S){return new Promise(function(L){if(S&&S.codec){var C=S.codec;S.width&&S.height&&(C+=';width="'+S.width+'";height="'+S.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(C)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(C)?L(!0):L(!1)}else L(!1)})}(S)},setEncryptedMediaSupported:function B(S){i=S},supportsEssentialProperty:function D(S){try{return-1!==b.THUMBNAILS_SCHEME_ID_URIS.indexOf(S.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function I(S,L){for(var z,C=S.split(".")[0],U=0===L.indexOf(C),ne=0;ne<_.length;ne++)if(_[ne].codec===C){z=_[ne];break}return z?U||z.compatibleCodecs.some(function(te){return 0===L.indexOf(te)}):U}},function h(){i=!1}(),g}w.__dashjs_factory_name="Capabilities",v.default=n.default.getSingletonFactory(w)},"./src/streaming/utils/CapabilitiesFilter.js":
/*!***************************************************!*\
                  !*** ./src/streaming/utils/CapabilitiesFilter.js ***!
                  \***************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),_=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),x=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function w(){var i,h,p,T,B,P,g=this.context,d=Object(_.default)(g).getInstance();function D(te,Me){if(!Me||!Me.Period_asArray||0===Me.Period_asArray.length)return Promise.resolve();var J=[];return Me.Period_asArray.forEach(function(ce){J.push(function I(te,Me){return new Promise(function(J){if(te&&te.AdaptationSet_asArray&&0!==te.AdaptationSet_asArray.length){var ce=[];te.AdaptationSet_asArray.forEach(function(W){h.getIsTypeOf(W,Me)&&ce.push(function S(te,Me){return new Promise(function(J){if(te.Representation_asArray&&0!==te.Representation_asArray.length){var ce=[],W=[];te.Representation_asArray.forEach(function(Se,le){var Ee=h.getCodec(te,le,!1),xe=function L(te,Me,J){switch(te){case A.default.VIDEO:return function C(te,Me){return{codec:Me,width:te.width||null,height:te.height||null,framerate:te.frameRate||null,bitrate:te.bandwidth||null}}(Me,J);case A.default.AUDIO:return function U(te,Me){return{codec:Me,bitrate:te.bandwidth||null,samplerate:te.audioSamplingRate||null}}(Me,J);default:return null}}(Me,Se,Ee);W.push(xe),ce.push(p.supportsCodec(xe,Me))}),Promise.all(ce).then(function(Se){te.Representation_asArray=te.Representation_asArray.filter(function(le,Ee){return Se[Ee]||P.debug("[Stream] Codec ".concat(W[Ee].codec," not supported ")),Se[Ee]}),J()}).catch(function(){J()})}else J()})}(W,Me))}),Promise.all(ce).then(function(){te.AdaptationSet_asArray=te.AdaptationSet_asArray.filter(function(W){var Se=W.Representation_asArray&&W.Representation_asArray.length>0;return Se||(d.trigger(x.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:W}),P.warn("AdaptationSet has been removed because of no supported Representation")),Se}),J()}).catch(function(){J()})}else J()})}(ce,te))}),Promise.all(J)}return i={setConfig:function F(te){te&&(te.adapter&&(h=te.adapter),te.capabilities&&(p=te.capabilities),te.settings&&(T=te.settings),te.customParametersModel&&(B=te.customParametersModel))},filterUnsupportedFeatures:function O(te){return new Promise(function(Me){var J=[];J.push(D(A.default.VIDEO,te)),J.push(D(A.default.AUDIO,te)),Promise.all(J).then(function(){T.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function z(te){!te||!te.Period_asArray||0===te.Period_asArray.length||te.Period_asArray.forEach(function(Me){Me.AdaptationSet_asArray=Me.AdaptationSet_asArray.filter(function(J){return!J.Representation_asArray||0===J.Representation_asArray.length||(J.Representation_asArray=J.Representation_asArray.filter(function(ce){var W=h.getEssentialPropertiesForRepresentation(ce);if(W&&W.length>0)for(var Se=0;Se<W.length;){if(!p.supportsEssentialProperty(W[Se]))return P.debug("[Stream] EssentialProperty not supported: "+W[Se].schemeIdUri),!1;Se+=1}return!0}),J.Representation_asArray&&J.Representation_asArray.length>0)})})}(te),function ne(te){var Me=B.getCustomCapabilitiesFilters();!Me||0===Me.length||!te||!te.Period_asArray||0===te.Period_asArray.length||te.Period_asArray.forEach(function(J){J.AdaptationSet_asArray=J.AdaptationSet_asArray.filter(function(ce){return!ce.Representation_asArray||0===ce.Representation_asArray.length||(ce.Representation_asArray=ce.Representation_asArray.filter(function(W){return!Me.some(function(Se){return!Se(W)})}),ce.Representation_asArray&&ce.Representation_asArray.length>0)})})}(te),Me()}).catch(function(){Me()})})}},function k(){P=Object(b.default)(g).getInstance().getLogger(i)}(),i}w.__dashjs_factory_name="CapabilitiesFilter",v.default=n.default.getSingletonFactory(w)},"./src/streaming/utils/CustomTimeRanges.js":
/*!*************************************************!*\
                  !*** ./src/streaming/utils/CustomTimeRanges.js ***!
                  \*************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function A(){return{customTimeRangeArray:[],length:0,add:function w(T,B){var P=0;for(P=0;P<this.customTimeRangeArray.length&&T>this.customTimeRangeArray[P].start;P++);for(this.customTimeRangeArray.splice(P,0,{start:T,end:B}),P=0;P<this.customTimeRangeArray.length-1;P++)this.mergeRanges(P,P+1)&&P--;this.length=this.customTimeRangeArray.length},clear:function g(){this.customTimeRangeArray=[],this.length=0},remove:function d(T,B){for(var P=0;P<this.customTimeRangeArray.length;P++)if(T<=this.customTimeRangeArray[P].start&&B>=this.customTimeRangeArray[P].end)this.customTimeRangeArray.splice(P,1),P--;else{if(T>this.customTimeRangeArray[P].start&&B<this.customTimeRangeArray[P].end){this.customTimeRangeArray.splice(P+1,0,{start:B,end:this.customTimeRangeArray[P].end}),this.customTimeRangeArray[P].end=T;break}T>this.customTimeRangeArray[P].start&&T<this.customTimeRangeArray[P].end?this.customTimeRangeArray[P].end=T:B>this.customTimeRangeArray[P].start&&B<this.customTimeRangeArray[P].end&&(this.customTimeRangeArray[P].start=B)}this.length=this.customTimeRangeArray.length},mergeRanges:function i(T,B){var P=this.customTimeRangeArray[T],k=this.customTimeRangeArray[B];return P.start<=k.start&&k.start<=P.end&&P.end<=k.end?(P.end=k.end,this.customTimeRangeArray.splice(B,1),!0):k.start<=P.start&&P.start<=k.end&&k.end<=P.end?(P.start=k.start,this.customTimeRangeArray.splice(B,1),!0):k.start<=P.start&&P.start<=k.end&&P.end<=k.end?(this.customTimeRangeArray.splice(T,1),!0):P.start<=k.start&&k.start<=P.end&&k.end<=P.end&&(this.customTimeRangeArray.splice(B,1),!0)},start:function h(T){return Object(b.checkInteger)(T),T>=this.customTimeRangeArray.length||T<0?NaN:this.customTimeRangeArray[T].start},end:function p(T){return Object(b.checkInteger)(T),T>=this.customTimeRangeArray.length||T<0?NaN:this.customTimeRangeArray[T].end}}}A.__dashjs_factory_name="CustomTimeRanges",v.default=n.default.getClassFactory(A)},"./src/streaming/utils/DOMStorage.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/DOMStorage.js ***!
                  \*******************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),_=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],x="dashjs_?_bitrate",w="dashjs_?_settings",g="localStorage",i="lastBitrate",h="lastMediaSettings";function p(B){var F,O,D,P=this.context,k=(B=B||{}).settings;function S(ce){if(void 0!==D)return D;D=!1;var le;try{typeof window<"u"&&(le=window[ce])}catch(Ee){return O.warn("DOMStorage access denied: "+Ee.message),D}if(!le||ce!==g&&"sessionStorage"!==ce)return D;try{le.setItem("1","1"),le.removeItem("1"),D=!0}catch(Ee){O.warn("DOMStorage is supported, but cannot be used: "+Ee.message)}return D}function C(){return 6e5*Math.round((new Date).getTime()/6e5)}function U(ce,W){return S(ce)&&k.get().streaming[W+"CachingInfo"].enabled}function z(){if(!k)throw new Error(A.default.MISSING_CONFIG_ERROR)}return F={getSavedBitrateSettings:function te(ce){if(z(),!k.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var W=NaN;if(U(g,i)){var Se=x.replace(/\?/,ce);try{var le=JSON.parse(localStorage.getItem(Se))||{},Ee=(new Date).getTime()-parseInt(le.timestamp,10)>=k.get().streaming.lastBitrateCachingInfo.ttl||!1,xe=parseFloat(le.bitrate);isNaN(xe)||Ee?Ee&&localStorage.removeItem(Se):(W=xe,O.debug("Last saved bitrate for "+ce+" was "+xe))}catch{return null}}return W},setSavedBitrateSettings:function J(ce,W){if(U(g,i)&&W){var Se=x.replace(/\?/,ce);try{localStorage.setItem(Se,JSON.stringify({bitrate:W.toFixed(3),timestamp:C()}))}catch(le){O.error(le.message)}}},getSavedMediaSettings:function ne(ce){if(z(),!k.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var W=null;if(U(g,h)){var Se=w.replace(/\?/,ce);try{var le=JSON.parse(localStorage.getItem(Se))||{},Ee=(new Date).getTime()-parseInt(le.timestamp,10)>=k.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;W=le.settings,Ee&&(localStorage.removeItem(Se),W=null)}catch{return null}}return W},setSavedMediaSettings:function Me(ce,W){if(U(g,h)){var Se=w.replace(/\?/,ce);try{localStorage.setItem(Se,JSON.stringify({settings:W,timestamp:C()}))}catch(le){O.error(le.message)}}}},function I(){O=Object(b.default)(P).getInstance().getLogger(F),function L(){S(g)&&_.forEach(function(ce){var W=localStorage.getItem(ce.oldKey);if(W){localStorage.removeItem(ce.oldKey);try{localStorage.setItem(ce.newKey,W)}catch(Se){O.error(Se.message)}}})}()}(),F}p.__dashjs_factory_name="DOMStorage";var T=n.default.getSingletonFactory(p);v.default=T},"./src/streaming/utils/DefaultURLUtils.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/DefaultURLUtils.js ***!
                  \************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var A,_=/^[a-z][a-z0-9+\-_.]*:/i,x=/^https?:\/\//i,w=/^https:\/\//i,g=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,d=function(U,z){try{return new window.URL(U,z).toString()}catch{return U}},i=function(U,z){var ne=p;if(!z||!k(U))return U;F(U)&&(ne=T),O(U)&&(ne=P);var te=ne(z),Me="/"!==te.charAt(te.length-1)&&"/"!==U.charAt(0)?"/":"";return[te,U].join(Me)};function p(C){var U=C.indexOf("/"),z=C.lastIndexOf("/");return-1!==U?z===U+1?C:(-1!==C.indexOf("?")&&(C=C.substring(0,C.indexOf("?"))),C.substring(0,z+1)):""}function T(C){var U=C.match(g);return U?U[1]:""}function P(C){var U=C.match(_);return U?U[0]:""}function k(C){return!_.test(C)}function F(C){return k(C)&&"/"===C.charAt(0)}function O(C){return 0===C.indexOf("//")}return function h(){try{new window.URL("x","http://y"),A=d}catch{}finally{A=A||i}}(),{parseBaseUrl:p,parseOrigin:T,parseScheme:P,isRelative:k,isPathAbsolute:F,isSchemeRelative:O,isHTTPURL:function D(C){return x.test(C)},isHTTPS:function I(C){return w.test(C)},removeHostname:function B(C){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(C)[2].substring(1)},resolve:function S(C,U){return A(C,U)}}}b.__dashjs_factory_name="DefaultURLUtils",v.default=n.default.getSingletonFactory(b)},"./src/streaming/utils/EBMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/EBMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(A){A=A||{};var _,x=new DataView(A.data),w=0;function i(O,D){var I=!0,S=0;if(void 0===D&&(D=!1),O.tag>16777215?(x.getUint32(w)!==O.tag&&(I=!1),S=4):O.tag>65535?(256*x.getUint16(w)+x.getUint8(w+2)!==O.tag&&(I=!1),S=3):O.tag>255?(x.getUint16(w)!==O.tag&&(I=!1),S=2):(x.getUint8(w)!==O.tag&&(I=!1),S=1),!I&&O.required&&!D)throw new Error("required tag not found");return I&&(w+=S),I}function B(O){var D=1,I=128,L=-1,C=0,U=x.getUint8(w),z=0;for(z=0;z<8;z+=1){if((U&I)===I){C=void 0===O?U&~I:U,L=z;break}I>>=1}for(z=0;z<L;z+=1,D+=1)C=C<<8|255&x.getUint8(w+D);return w+=D,C}return _={getPos:function g(){return w},setPos:function d(O){w=O},consumeTag:i,consumeTagAndSize:function h(O,D){var I=i(O,D);return I&&B(),I},parseTag:function p(O){var D;return i(O),D=B(),_[O.parse](D)},skipOverElement:function T(O,D){var S,I=i(O,D);return I&&(S=B(),w+=S),I},getMatroskaCodedNum:B,getMatroskaFloat:function P(O){var D;switch(O){case 4:D=x.getFloat32(w),w+=4;break;case 8:D=x.getFloat64(w),w+=8}return D},getMatroskaUint:function k(O){for(var D=0,I=0;I<O;I+=1)D<<=8,D|=255&x.getUint8(w+I);return w+=O,D},moreData:function F(){return w<x.byteLength}}}b.__dashjs_factory_name="EBMLParser",v.default=n.default.getClassFactory(b)},"./src/streaming/utils/ErrorHandler.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/ErrorHandler.js ***!
                  \*********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),A=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function _(){var w=this.context,g=Object(n.default)(w).getInstance();return{error:function d(i){g.trigger(b.default.ERROR,{error:i})}}}_.__dashjs_factory_name="ErrorHandler",v.default=A.default.getSingletonFactory(_)},"./src/streaming/utils/InitCache.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/InitCache.js ***!
                  \******************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var A={};return{save:function _(d){var i=d.streamId,h=d.representationId;A[i]=A[i]||{},A[i][h]=d},extract:function x(d,i){return A&&A[d]&&A[d][i]?A[d][i]:null},reset:function w(){A={}}}}b.__dashjs_factory_name="InitCache",v.default=n.default.getSingletonFactory(b)},"./src/streaming/utils/IsoFile.js":
/*!****************************************!*\
                  !*** ./src/streaming/utils/IsoFile.js ***!
                  \****************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../vo/IsoBox */
"./src/streaming/vo/IsoBox.js"),b=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function A(){var x;function g(p){var T=[];if(!p||!x||"function"!=typeof x.fetchAll)return T;for(var P,B=x.fetchAll(p),k=0,F=B.length;k<F;k++)(P=h(B[k]))&&T.push(P);return T}function h(p){if(!p)return null;var T=new n.default(p);return p.hasOwnProperty("_incomplete")&&(T.isComplete=!p._incomplete),T}return{getBox:function w(p){return p&&x&&x.boxes&&0!==x.boxes.length&&"function"==typeof x.fetch?h(x.fetch(p)):null},getBoxes:g,setData:function d(p){x=p},getLastBox:function i(){if(!x||!x.boxes||!x.boxes.length)return null;var T=g(x.boxes[x.boxes.length-1].type);return T.length>0?T[T.length-1]:null}}}A.__dashjs_factory_name="IsoFile",v.default=b.default.getClassFactory(A)},"./src/streaming/utils/ObjectUtils.js":
/*!********************************************!*\
                  !*** ./src/streaming/utils/ObjectUtils.js ***!
                  \********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! fast-deep-equal */
"./node_modules/fast-deep-equal/index.js"),A=e.n(b);function _(){return{areEqual:function w(g,d){return A()(g,d)}}}_.__dashjs_factory_name="ObjectUtils",v.default=n.default.getSingletonFactory(_)},"./src/streaming/utils/RequestModifier.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/RequestModifier.js ***!
                  \************************************************/
/*! exports provided: modifyRequest, default */function(Xe,v,e){"use strict";e.r(v),e.d(v,"modifyRequest",function(){return b});var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(_,x){var w={url:_.url,method:_.method,headers:Object.assign({},_.headers),credentials:_.withCredentials?"include":void 0};return Promise.resolve(x.modifyRequest(w)).then(function(){return Object.assign(_,w,{withCredentials:"include"===w.credentials})})}function A(){return{modifyRequest:null,modifyRequestURL:function x(g){return g},modifyRequestHeader:function w(g,d){return g}}}A.__dashjs_factory_name="RequestModifier",v.default=n.default.getSingletonFactory(A)},"./src/streaming/utils/SupervisorTools.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/SupervisorTools.js ***!
                  \************************************************/
/*! exports provided: checkParameterType, checkInteger, checkRange, checkIsVideoOrAudioType */function(Xe,v,e){"use strict";e.r(v),e.d(v,"checkParameterType",function(){return A}),e.d(v,"checkInteger",function(){return _}),e.d(v,"checkRange",function(){return x}),e.d(v,"checkIsVideoOrAudioType",function(){return w});var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function b(g){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(g)}function A(g,d){if(b(g)!==d)throw n.default.BAD_ARGUMENT_ERROR}function _(g){if(null===g||isNaN(g)||g%1!=0)throw n.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function x(g,d,i){if(g<d||g>i)throw n.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function w(g){if("string"!=typeof g||g!==n.default.AUDIO&&g!==n.default.VIDEO)throw n.default.BAD_ARGUMENT_ERROR}},"./src/streaming/utils/TTMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/TTMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../core/Debug */
"./src/core/Debug.js"),A=e(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),_=e(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),x=e(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js"),g=e(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),d=e(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function i(){var T,B,h=this.context,p=Object(A.default)(h).getInstance(),P=0;function F(){var D="cue_TTML_"+P;return P++,D}return T={parse:function O(D,I,S,L,C){var ne,te,Me,U="",z=[],J={},ce={},W="",Se="",le={onOpenTag:function(Pe,Ce,me){if(me[" imagetype"]&&!me[" imageType"]&&(p.trigger(g.default.CONFORMANCE_VIOLATION,{level:d.default.LEVELS.ERROR,event:d.default.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),me[" imageType"]=me[" imagetype"]),"image"===Ce&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===Pe||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===Pe)){if(!me[" imageType"]||"PNG"!==me[" imageType"].value)return void B.warn("smpte-tt imageType != PNG. Discarded");W=me["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){W&&(ce[W]=Se.trim()),Se="",W=""},onText:function(Pe){W&&(Se+=Pe)}};if(!D)throw U="no ttml data to parse",new Error(U);J.data=D,p.trigger(_.default.TTML_TO_PARSE,J);var Ee=Object(x.fromXML)(J.data,function(fe){U=fe},le);p.trigger(_.default.TTML_PARSED,{ttmlString:J.data,ttmlDoc:Ee});var xe=Ee.getMediaTimeEvents();for(Me=0;Me<xe.length;Me++){var Ve=Object(x.generateISD)(Ee,xe[Me],function(fe){U=fe});Ve.contents.some(function(fe){return fe.contents.length})&&(ne=xe[Me]+I<S?S:xe[Me]+I)<(te=xe[Me+1]+I>L?L:xe[Me+1]+I)&&z.push({start:ne,end:te,type:"html",cueID:F(),isd:Ve,images:C,embeddedImages:ce})}if(""!==U)throw B.error(U),new Error(U);return z}},function k(){B=Object(b.default)(h).getInstance().getLogger(T)}(),T}i.__dashjs_factory_name="TTMLParser",v.default=n.default.getSingletonFactory(i)},"./src/streaming/utils/URLUtils.js":
/*!*****************************************!*\
                  !*** ./src/streaming/utils/URLUtils.js ***!
                  \*****************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ./DefaultURLUtils */
"./src/streaming/utils/DefaultURLUtils.js");function A(){var w,g=[],d=this.context;function T(U,z,ne){var te=function i(U){var z;for(z=0;z<g.length;z++)if(g[z].regex.test(U))return g[z].utils;return w}(ne||z);return te&&"function"==typeof te[U]?te[U](z,ne):w[U](z,ne)}return function h(){w=Object(b.default)(d).getInstance()}(),{registerUrlRegex:function p(U,z){g.push({regex:U,utils:z})},parseBaseUrl:function B(U){return T("parseBaseUrl",U)},parseOrigin:function P(U){return T("parseOrigin",U)},parseScheme:function F(U){return T("parseScheme",U)},isRelative:function O(U){return T("isRelative",U)},isPathAbsolute:function D(U){return T("isPathAbsolute",U)},isSchemeRelative:function I(U){return T("isSchemeRelative",U)},isHTTPURL:function S(U){return T("isHTTPURL",U)},isHTTPS:function L(U){return T("isHTTPS",U)},removeHostname:function k(U){return T("removeHostname",U)},resolve:function C(U,z){return T("resolve",U,z)}}}A.__dashjs_factory_name="URLUtils";var _=n.default.getSingletonFactory(A);v.default=_},"./src/streaming/utils/VTTParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/VTTParser.js ***!
                  \******************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../core/Debug */
"./src/core/Debug.js");function _(){var w,g,d,i,h,p,x=this.context;function P(D){var I=D.split(":"),S=I.length-1;return D=60*parseInt(I[S-1],10)+parseFloat(I[S]),2===S&&(D+=3600*parseInt(I[0],10)),D}function k(D){var I=D.split(i),S=I[1].split(p);return S.shift(),I[1]=S[0],S.shift(),{cuePoints:I,styles:F(S)}}function F(D){var I={};return D.forEach(function(S){if(S.split(/:/).length>1){var L=S.split(/:/)[1];L&&-1!=L.search(/%/)&&(L=parseInt(L.replace(/%/,""),10)),(S.match(/align/)||S.match(/A/))&&(I.align=L),(S.match(/line/)||S.match(/L/))&&(I.line=L),(S.match(/position/)||S.match(/P/))&&(I.position=L),(S.match(/size/)||S.match(/S/))&&(I.size=L)}}),I}function O(D,I){for(var U,S=I,L="",C="";""!==D[S]&&S<D.length;)S++;if((U=S-I)>1)for(var z=0;z<U;z++){if((C=D[I+z]).match(i)){L="";break}L+=C,z!==U-1&&(L+="\n")}else(C=D[I]).match(i)||(L=C);return L}return w={parse:function B(D){var S,L,I=[];if(!D)return I;S=(D=D.split(d)).length,L=-1;for(var C=0;C<S;C++){var U=D[C];if(U.length>0&&"WEBVTT"!==U&&U.match(i)){var z=k(U),ne=z.cuePoints,te=z.styles,Me=O(D,C+1),J=P(ne[0].replace(h,"")),ce=P(ne[1].replace(h,""));!isNaN(J)&&!isNaN(ce)&&J>=L&&ce>J?""!==Me?(L=J,I.push({start:J,end:ce,data:Me,styles:te})):g.error("Skipping cue due to empty/malformed cue text"):g.error("Skipping cue due to incorrect cue timing")}}return I}},function T(){g=Object(b.default)(x).getInstance().getLogger(w),d=/(?:\r\n|\r|\n)/gm,i=/-->/,h=/(^[\s]+|[\s]+$)/g,p=/\s\b/g}(),w}_.__dashjs_factory_name="VTTParser",v.default=n.default.getSingletonFactory(_)},"./src/streaming/utils/VttCustomRenderingParser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/utils/VttCustomRenderingParser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var A,_;return A={parse:function w(g){var d=[];return _.oncue=function(i){i.start=i.startTime,i.end=i.endTime,i.data=i.text,i.styles={align:i.align,line:i.line,position:i.position,size:i.size},d.push(i)},_.parse(g),d}},function x(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(_=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),A}b.__dashjs_factory_name="VttCustomRenderingParser",v.default=n.default.getSingletonFactory(b)},"./src/streaming/utils/baseUrlResolution/BasicSelector.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/BasicSelector.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(A){var x=(A=A||{}).blacklistController;return{select:function w(g){var i,d=0;return g&&g.some(function(h,p){return d=p,!x.contains(h.serviceLocation)})&&(i=g[d]),i}}}b.__dashjs_factory_name="BasicSelector",v.default=n.default.getClassFactory(b)},"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=e(
/*! ../../../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js");function A(){var x,w,g,_=this.context;function p(){for(var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],P=0,k=NaN,F=function(){var I=T[P],S=B.findIndex(function(L){return L.serviceLocation&&L.serviceLocation===I});if(-1!==S&&!g.contains(B[S].serviceLocation))return k=S,"break";P+=1};P<T.length&&"break"!==F(););return k}return x={selectBaseUrlIndex:function h(T){var B=NaN;if(isNaN(T.selectedIdx)){var P=w.getSteeringDataFromManifest();P&&P.defaultServiceLocation&&(B=p([P.defaultServiceLocation],T.baseUrls))}var k=w.getCurrentSteeringResponseData();return T.baseUrls&&T.baseUrls.length&&k&&k.serviceLocationPriority&&k.serviceLocationPriority.length&&(B=p(k.serviceLocationPriority,T.baseUrls)),B},setConfig:function i(T){T.blacklistController&&(g=T.blacklistController),T.contentSteeringController&&(w=T.contentSteeringController)}},function d(){w=Object(b.default)(_).getInstance()}(),x}A.__dashjs_factory_name="ContentSteeringSelector",v.default=n.default.getClassFactory(A)},"./src/streaming/utils/baseUrlResolution/DVBSelector.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/DVBSelector.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(A){var x=(A=A||{}).blacklistController;return{select:function d(i){return i&&function g(i){var k,F,T=0,B=[],P=0;if((F=i.sort(function(D,I){var S=D.dvb_priority-I.dvb_priority;return isNaN(S)?0:S}).filter(function(D,I,S){return!I||S[0].dvb_priority&&D.dvb_priority&&S[0].dvb_priority===D.dvb_priority})).length)return F.length>1&&(F.forEach(function(O){B.push(T+=O.dvb_weight)}),k=Math.floor(Math.random()*(T-1)),B.every(function(O,D){return P=D,!(k<O)})),F[P]}(function w(i){var h=[];return i.filter(function(P){return!x.contains(P.serviceLocation)||(P.dvb_priority&&h.push(P.dvb_priority),!1)}).filter(function(P){return!(h.length&&P.dvb_priority&&-1!==h.indexOf(P.dvb_priority))})}(i))}}}b.__dashjs_factory_name="DVBSelector",v.default=n.default.getClassFactory(b)},"./src/streaming/vo/BitrateInfo.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/BitrateInfo.js ***!
                  \*****************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN})},"./src/streaming/vo/DashJSError.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/DashJSError.js ***!
                  \*****************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(i,h,p){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.code=i||null,this.message=h||null,this.data=p||null})},"./src/streaming/vo/DataChunk.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/DataChunk.js ***!
                  \***************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null})},"./src/streaming/vo/FragmentRequest.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/FragmentRequest.js ***!
                  \*********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function b(i){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function _(i,h){for(var p=0;p<h.length;p++){var T=h[p];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(i,w(T.key),T)}}function w(i){var h=function g(i,h){if("object"!==b(i)||null===i)return i;var p=i[Symbol.toPrimitive];if(void 0!==p){var T=p.call(i,h||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(i)}(i,"string");return"symbol"===b(h)?h:String(h)}var d=function(){function i(h){(function A(i,h){if(!(i instanceof h))throw new TypeError("Cannot call a class as a function")})(this,i),this.action=i.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=h||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return function x(i,h,p){return h&&_(i.prototype,h),p&&_(i,p),Object.defineProperty(i,"prototype",{writable:!1}),i}(i,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===n.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(p){this.type=p&&p.init?n.HTTPRequest.INIT_SEGMENT_TYPE:n.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=p&&p.url?p.url:null,this.range=p&&p.range?p.range.start+"-"+p.range.end:null,this.mediaType=p&&p.mediaType?p.mediaType:null}}]),i}();d.ACTION_DOWNLOAD="download",d.ACTION_COMPLETE="complete",v.default=d},"./src/streaming/vo/HeadRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/HeadRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function b(F){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(F)}function A(F,O){for(var D=0;D<O.length;D++){var I=O[D];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(F,x(I.key),I)}}function x(F){var O=function w(F,O){if("object"!==b(F)||null===F)return F;var D=F[Symbol.toPrimitive];if(void 0!==D){var I=D.call(F,O||"default");if("object"!==b(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(F)}(F,"string");return"symbol"===b(O)?O:String(O)}function d(F,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(O&&O.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),O&&i(F,O)}function i(F,O){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,S){return I.__proto__=S,I})(F,O)}function h(F){var O=function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,I=P(F);if(O){var L=P(this).constructor;S=Reflect.construct(I,arguments,L)}else S=I.apply(this,arguments);return function p(F,O){if(O&&("object"===b(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function T(F){if(void 0===F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}(F)}(this,S)}}function P(F){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)})(F)}v.default=function(F){d(D,F);var O=h(D);function D(I){var S;return function g(F,O){if(!(F instanceof O))throw new TypeError("Cannot call a class as a function")}(this,D),(S=O.call(this,I)).checkForExistenceOnly=!0,S}return function _(F,O,D){return O&&A(F.prototype,O),D&&A(F,D),Object.defineProperty(F,"prototype",{writable:!1}),F}(D)}(n.default)},"./src/streaming/vo/IsoBox.js":
/*!************************************!*\
                  !*** ./src/streaming/vo/IsoBox.js ***!
                  \************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function A(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,x(p.key),p)}}function x(d){var i=function w(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=function(){function d(i){if(function b(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")}(this,d),this.offset=i._offset,this.type=i.type,this.size=i.size,this.boxes=[],i.boxes)for(var h=0;h<i.boxes.length;h++)this.boxes.push(new d(i.boxes[h]));switch(this.isComplete=!0,i.type){case"sidx":if(this.timescale=i.timescale,this.earliest_presentation_time=i.earliest_presentation_time,this.first_offset=i.first_offset,this.references=i.references,i.references){this.references=[];for(var p=0;p<i.references.length;p++)this.references.push({reference_type:i.references[p].reference_type,referenced_size:i.references[p].referenced_size,subsegment_duration:i.references[p].subsegment_duration})}break;case"emsg":this.id=i.id,this.version=1===i.version?1:0,this.value=i.value,this.timescale=i.timescale,this.scheme_id_uri=i.scheme_id_uri,this.presentation_time_delta=1===i.version?i.presentation_time:i.presentation_time_delta,this.event_duration=i.event_duration,this.message_data=i.message_data;break;case"mdhd":this.timescale=i.timescale;break;case"mfhd":this.sequence_number=i.sequence_number;break;case"subs":this.entry_count=i.entry_count,this.entries=i.entries;break;case"tfhd":this.base_data_offset=i.base_data_offset,this.sample_description_index=i.sample_description_index,this.default_sample_duration=i.default_sample_duration,this.default_sample_size=i.default_sample_size,this.default_sample_flags=i.default_sample_flags,this.flags=i.flags;break;case"tfdt":this.version=i.version,this.baseMediaDecodeTime=i.baseMediaDecodeTime,this.flags=i.flags;break;case"trun":if(this.sample_count=i.sample_count,this.first_sample_flags=i.first_sample_flags,this.data_offset=i.data_offset,this.flags=i.flags,this.samples=i.samples,i.samples){this.samples=[];for(var B=0,P=i.samples.length;B<P;B++)this.samples.push({sample_size:i.samples[B].sample_size,sample_duration:i.samples[B].sample_duration,sample_composition_time_offset:i.samples[B].sample_composition_time_offset})}}}return function _(d,i,h){return i&&A(d.prototype,i),h&&A(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}(d,[{key:"getChildBox",value:function(h){for(var p=0;p<this.boxes.length;p++)if(this.boxes[p].type===h)return this.boxes[p]}},{key:"getChildBoxes",value:function(h){for(var p=[],T=0;T<this.boxes.length;T++)this.boxes[T].type===h&&p.push(this.boxes[T]);return p}}]),d}()},"./src/streaming/vo/IsoBoxSearchInfo.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/IsoBoxSearchInfo.js ***!
                  \**********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(i,h,p){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.lastCompletedOffset=i,this.found=h,this.size=p})},"./src/streaming/vo/MetricsList.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/MetricsList.js ***!
                  \*****************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]})},"./src/streaming/vo/TextRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/TextRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=e(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function A(O){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(O)}function _(O,D){for(var I=0;I<D.length;I++){var S=D[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(O,w(S.key),S)}}function w(O){var D=function g(O,D){if("object"!==A(O)||null===O)return O;var I=O[Symbol.toPrimitive];if(void 0!==I){var S=I.call(O,D||"default");if("object"!==A(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(O)}(O,"string");return"symbol"===A(D)?D:String(D)}function i(O,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),D&&h(O,D)}function h(O,D){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,L){return S.__proto__=L,S})(O,D)}function p(O){var D=function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,S=k(O);if(D){var C=k(this).constructor;L=Reflect.construct(S,arguments,C)}else L=S.apply(this,arguments);return function T(O,D){if(D&&("object"===A(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function B(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,L)}}function k(O){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)})(O)}v.default=function(O){i(I,O);var D=p(I);function I(S,L){var C;return function d(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),(C=D.call(this)).url=S||null,C.type=L||null,C.mediaType=n.default.STREAM,C.responseType="",C}return function x(O,D,I){return D&&_(O.prototype,D),I&&_(O,I),Object.defineProperty(O,"prototype",{writable:!1}),O}(I)}(b.default)},"./src/streaming/vo/TextTrackInfo.js":
/*!*******************************************!*\
                  !*** ./src/streaming/vo/TextTrackInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ./../../dash/vo/MediaInfo */
"./src/dash/vo/MediaInfo.js");function b(F){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(F)}function A(F,O){for(var D=0;D<O.length;D++){var I=O[D];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(F,x(I.key),I)}}function x(F){var O=function w(F,O){if("object"!==b(F)||null===F)return F;var D=F[Symbol.toPrimitive];if(void 0!==D){var I=D.call(F,O||"default");if("object"!==b(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(F)}(F,"string");return"symbol"===b(O)?O:String(O)}function d(F,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(O&&O.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),O&&i(F,O)}function i(F,O){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,S){return I.__proto__=S,I})(F,O)}function h(F){var O=function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,I=P(F);if(O){var L=P(this).constructor;S=Reflect.construct(I,arguments,L)}else S=I.apply(this,arguments);return function p(F,O){if(O&&("object"===b(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function T(F){if(void 0===F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}(F)}(this,S)}}function P(F){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)})(F)}v.default=function(F){d(D,F);var O=h(D);function D(){var I;return function g(F,O){if(!(F instanceof O))throw new TypeError("Cannot call a class as a function")}(this,D),(I=O.call(this)).captionData=null,I.label=null,I.defaultTrack=!1,I.kind=null,I.isFragmented=!1,I.isEmbedded=!1,I.isTTML=null,I}return function _(F,O,D){return O&&A(F.prototype,O),D&&A(F,D),Object.defineProperty(F,"prototype",{writable:!1}),F}(D)}(n.default)},"./src/streaming/vo/Thumbnail.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/Thumbnail.js ***!
                  \***************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null})},"./src/streaming/vo/ThumbnailTrackInfo.js":
/*!************************************************!*\
                  !*** ./src/streaming/vo/ThumbnailTrackInfo.js ***!
                  \************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""})},"./src/streaming/vo/URIFragmentData.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/URIFragmentData.js ***!
                  \*********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null})},"./src/streaming/vo/metrics/BufferLevel.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferLevel.js ***!
                  \*************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.t=null,this.level=null})},"./src/streaming/vo/metrics/BufferState.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferState.js ***!
                  \*************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";e.r(v);var n=e(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function b(i){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function A(i,h){for(var p=0;p<h.length;p++){var T=h[p];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(i,x(T.key),T)}}function _(i,h,p){return h&&A(i.prototype,h),p&&A(i,p),Object.defineProperty(i,"prototype",{writable:!1}),i}function x(i){var h=function w(i,h){if("object"!==b(i)||null===i)return i;var p=i[Symbol.toPrimitive];if(void 0!==p){var T=p.call(i,h||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(i)}(i,"string");return"symbol"===b(h)?h:String(h)}v.default=_(function i(){(function g(i,h){if(!(i instanceof h))throw new TypeError("Cannot call a class as a function")})(this,i),this.target=null,this.state=n.default.BUFFER_EMPTY})},"./src/streaming/vo/metrics/DVRInfo.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/metrics/DVRInfo.js ***!
                  \*********************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.time=null,this.range=null,this.manifestInfo=null})},"./src/streaming/vo/metrics/DroppedFrames.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/DroppedFrames.js ***!
                  \***************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.time=null,this.droppedFrames=null})},"./src/streaming/vo/metrics/HTTPRequest.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/HTTPRequest.js ***!
                  \*************************************************/
/*! exports provided: HTTPRequest, HTTPRequestTrace */function(Xe,v,e){"use strict";function n(i){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function b(i,h){for(var p=0;p<h.length;p++){var T=h[p];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(i,_(T.key),T)}}function A(i,h,p){return h&&b(i.prototype,h),p&&b(i,p),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var h=function x(i,h){if("object"!==n(i)||null===i)return i;var p=i[Symbol.toPrimitive];if(void 0!==p){var T=p.call(i,h||"default");if("object"!==n(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(i)}(i,"string");return"symbol"===n(h)?h:String(h)}function w(i,h){if(!(i instanceof h))throw new TypeError("Cannot call a class as a function")}e.r(v),e.d(v,"HTTPRequest",function(){return g}),e.d(v,"HTTPRequestTrace",function(){return d});var g=A(function i(){w(this,i),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null}),d=A(function i(){w(this,i),this.s=null,this.d=null,this.b=[]});g.GET="GET",g.HEAD="HEAD",g.MPD_TYPE="MPD",g.XLINK_EXPANSION_TYPE="XLinkExpansion",g.INIT_SEGMENT_TYPE="InitializationSegment",g.INDEX_SEGMENT_TYPE="IndexSegment",g.MEDIA_SEGMENT_TYPE="MediaSegment",g.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",g.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",g.DVB_REPORTING_TYPE="DVBReporting",g.LICENSE="license",g.CONTENT_STEERING_TYPE="ContentSteering",g.OTHER_TYPE="other"},"./src/streaming/vo/metrics/ManifestUpdate.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/ManifestUpdate.js ***!
                  \****************************************************/
/*! exports provided: ManifestUpdate, ManifestUpdateStreamInfo, ManifestUpdateRepresentationInfo */function(Xe,v,e){"use strict";function n(h){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function b(h,p){for(var T=0;T<p.length;T++){var B=p[T];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(h,_(B.key),B)}}function A(h,p,T){return p&&b(h.prototype,p),T&&b(h,T),Object.defineProperty(h,"prototype",{writable:!1}),h}function _(h){var p=function x(h,p){if("object"!==n(h)||null===h)return h;var T=h[Symbol.toPrimitive];if(void 0!==T){var B=T.call(h,p||"default");if("object"!==n(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===n(p)?p:String(p)}function w(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}e.r(v),e.d(v,"ManifestUpdate",function(){return g}),e.d(v,"ManifestUpdateStreamInfo",function(){return d}),e.d(v,"ManifestUpdateRepresentationInfo",function(){return i});var g=A(function h(){w(this,h),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}),d=A(function h(){w(this,h),this.id=null,this.index=null,this.start=null,this.duration=null}),i=A(function h(){w(this,h),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null})},"./src/streaming/vo/metrics/PlayList.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/metrics/PlayList.js ***!
                  \**********************************************/
/*! exports provided: PlayList, PlayListTrace */function(Xe,v,e){"use strict";function n(i){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function b(i,h){for(var p=0;p<h.length;p++){var T=h[p];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(i,_(T.key),T)}}function A(i,h,p){return h&&b(i.prototype,h),p&&b(i,p),Object.defineProperty(i,"prototype",{writable:!1}),i}function _(i){var h=function x(i,h){if("object"!==n(i)||null===i)return i;var p=i[Symbol.toPrimitive];if(void 0!==p){var T=p.call(i,h||"default");if("object"!==n(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(i)}(i,"string");return"symbol"===n(h)?h:String(h)}function w(i,h){if(!(i instanceof h))throw new TypeError("Cannot call a class as a function")}e.r(v),e.d(v,"PlayList",function(){return g}),e.d(v,"PlayListTrace",function(){return d});var g=A(function i(){w(this,i),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]});g.INITIAL_PLAYOUT_START_REASON="initial_playout",g.SEEK_START_REASON="seek",g.RESUME_FROM_PAUSE_START_REASON="resume",g.METRICS_COLLECTION_START_REASON="metrics_collection_start";var d=A(function i(){w(this,i),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null});d.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",d.REBUFFERING_REASON="rebuffering",d.USER_REQUEST_STOP_REASON="user_request",d.END_OF_PERIOD_STOP_REASON="end_of_period",d.END_OF_CONTENT_STOP_REASON="end_of_content",d.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",d.FAILURE_STOP_REASON="failure"},"./src/streaming/vo/metrics/RepresentationSwitch.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/vo/metrics/RepresentationSwitch.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.t=null,this.mt=null,this.to=null,this.lto=null})},"./src/streaming/vo/metrics/RequestsQueue.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/RequestsQueue.js ***!
                  \***************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.loadingRequests=[],this.executedRequests=[]})},"./src/streaming/vo/metrics/SchedulingInfo.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/SchedulingInfo.js ***!
                  \****************************************************/
/*! exports provided: default */function(Xe,v,e){"use strict";function n(d){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(d)}function b(d,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,_(p.key),p)}}function A(d,i,h){return i&&b(d.prototype,i),h&&b(d,h),Object.defineProperty(d,"prototype",{writable:!1}),d}function _(d){var i=function x(d,i){if("object"!==n(d)||null===d)return d;var h=d[Symbol.toPrimitive];if(void 0!==h){var p=h.call(d,i||"default");if("object"!==n(p))return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(d)}(d,"string");return"symbol"===n(i)?i:String(i)}e.r(v),v.default=A(function d(){(function w(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")})(this,d),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null})},0:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(Xe,v){},1:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(Xe,v){}}).default},4440:(Hn,Xe,v)=>{var e;!function(){"use strict";var n="object"==typeof window?window:{},b=!n.HI_BASE64_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;b&&(n=global);var T,B,A=!n.HI_BASE64_NO_COMMON_JS&&Hn.exports,_=v.amdO,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),w={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63,"-":62,_:63},d=function(D){var I,S,L,C,U=[],z=0,ne=D.length;"="===D.charAt(ne-2)?ne-=2:"="===D.charAt(ne-1)&&(ne-=1);for(var te=0,Me=ne>>2<<2;te<Me;)I=w[D.charAt(te++)],S=w[D.charAt(te++)],L=w[D.charAt(te++)],C=w[D.charAt(te++)],U[z++]=255&(I<<2|S>>>4),U[z++]=255&(S<<4|L>>>2),U[z++]=255&(L<<6|C);var J=ne-Me;return 2===J?(I=w[D.charAt(te++)],S=w[D.charAt(te++)],U[z++]=255&(I<<2|S>>>4)):3===J&&(I=w[D.charAt(te++)],S=w[D.charAt(te++)],L=w[D.charAt(te++)],U[z++]=255&(I<<2|S>>>4),U[z++]=255&(S<<4|L>>>2)),U},i=function(D){for(var I,S,L,C="",U=D.length,z=0,ne=3*parseInt(U/3);z<ne;)I=D[z++],S=D[z++],L=D[z++],C+=x[I>>>2]+x[63&(I<<4|S>>>4)]+x[63&(S<<2|L>>>6)]+x[63&L];var te=U-ne;return 1===te?C+=x[(I=D[z])>>>2]+x[I<<4&63]+"==":2===te&&(I=D[z++],C+=x[I>>>2]+x[63&(I<<4|(S=D[z])>>>4)]+x[S<<2&63]+"="),C},h=n.btoa,p=n.atob;if(b){var P=v(9007).lW;h=function(D){return new P(D,"ascii").toString("base64")},i=T=function(D){return new P(D).toString("base64")},p=function(D){return new P(D,"base64").toString("ascii")},B=function(D){return new P(D,"base64").toString()}}else h?(T=function(D){for(var I="",S=0;S<D.length;S++){var L=D.charCodeAt(S);L<128?I+=String.fromCharCode(L):L<2048?I+=String.fromCharCode(192|L>>6)+String.fromCharCode(128|63&L):L<55296||L>=57344?I+=String.fromCharCode(224|L>>12)+String.fromCharCode(128|L>>6&63)+String.fromCharCode(128|63&L):(L=65536+((1023&L)<<10|1023&D.charCodeAt(++S)),I+=String.fromCharCode(240|L>>18)+String.fromCharCode(128|L>>12&63)+String.fromCharCode(128|L>>6&63)+String.fromCharCode(128|63&L))}return h(I)},B=function(D){var I=p(D.trim("=").replace(/-/g,"+").replace(/_/g,"/"));if(!/[^\x00-\x7F]/.test(I))return I;for(var z,ne,S="",L=0,C=I.length,U=0;L<C;)if((z=I.charCodeAt(L++))<=127)S+=String.fromCharCode(z);else{if(z>191&&z<=223)ne=31&z,U=1;else if(z<=239)ne=15&z,U=2;else{if(!(z<=247))throw"not a UTF-8 string";ne=7&z,U=3}for(var te=0;te<U;++te){if((z=I.charCodeAt(L++))<128||z>191)throw"not a UTF-8 string";ne<<=6,ne+=63&z}if(ne>=55296&&ne<=57343||ne>1114111)throw"not a UTF-8 string";ne<=65535?S+=String.fromCharCode(ne):(ne-=65536,S+=String.fromCharCode(55296+(ne>>10)),S+=String.fromCharCode(56320+(1023&ne)))}return S}):(h=function(D){for(var I,S,L,C="",U=D.length,z=0,ne=3*parseInt(U/3);z<ne;)I=D.charCodeAt(z++),S=D.charCodeAt(z++),L=D.charCodeAt(z++),C+=x[I>>>2]+x[63&(I<<4|S>>>4)]+x[63&(S<<2|L>>>6)]+x[63&L];var te=U-ne;return 1===te?(I=D.charCodeAt(z),C+=x[I>>>2]+x[I<<4&63]+"=="):2===te&&(I=D.charCodeAt(z++),S=D.charCodeAt(z),C+=x[I>>>2]+x[63&(I<<4|S>>>4)]+x[S<<2&63]+"="),C},T=function(D){for(var I,S,L,C="",U=function(D){for(var I=[],S=0;S<D.length;S++){var L=D.charCodeAt(S);L<128?I[I.length]=L:L<2048?(I[I.length]=192|L>>6,I[I.length]=128|63&L):L<55296||L>=57344?(I[I.length]=224|L>>12,I[I.length]=128|L>>6&63,I[I.length]=128|63&L):(L=65536+((1023&L)<<10|1023&D.charCodeAt(++S)),I[I.length]=240|L>>18,I[I.length]=128|L>>12&63,I[I.length]=128|L>>6&63,I[I.length]=128|63&L)}return I}(D),z=U.length,ne=0,te=3*parseInt(z/3);ne<te;)I=U[ne++],S=U[ne++],L=U[ne++],C+=x[I>>>2]+x[63&(I<<4|S>>>4)]+x[63&(S<<2|L>>>6)]+x[63&L];var Me=z-te;return 1===Me?C+=x[(I=U[ne])>>>2]+x[I<<4&63]+"==":2===Me&&(I=U[ne++],C+=x[I>>>2]+x[63&(I<<4|(S=U[ne])>>>4)]+x[S<<2&63]+"="),C},p=function(D){var I,S,L,C,U="",z=D.length;"="===D.charAt(z-2)?z-=2:"="===D.charAt(z-1)&&(z-=1);for(var ne=0,te=z>>2<<2;ne<te;)I=w[D.charAt(ne++)],S=w[D.charAt(ne++)],L=w[D.charAt(ne++)],C=w[D.charAt(ne++)],U+=String.fromCharCode(255&(I<<2|S>>>4))+String.fromCharCode(255&(S<<4|L>>>2))+String.fromCharCode(255&(L<<6|C));var Me=z-te;return 2===Me?(I=w[D.charAt(ne++)],S=w[D.charAt(ne++)],U+=String.fromCharCode(255&(I<<2|S>>>4))):3===Me&&(I=w[D.charAt(ne++)],S=w[D.charAt(ne++)],L=w[D.charAt(ne++)],U+=String.fromCharCode(255&(I<<2|S>>>4))+String.fromCharCode(255&(S<<4|L>>>2))),U},B=function(D){for(var z,ne,I="",S=d(D),L=S.length,C=0,U=0;C<L;)if((z=S[C++])<=127)I+=String.fromCharCode(z);else{if(z>191&&z<=223)ne=31&z,U=1;else if(z<=239)ne=15&z,U=2;else{if(!(z<=247))throw"not a UTF-8 string";ne=7&z,U=3}for(var te=0;te<U;++te){if((z=S[C++])<128||z>191)throw"not a UTF-8 string";ne<<=6,ne+=63&z}if(ne>=55296&&ne<=57343||ne>1114111)throw"not a UTF-8 string";ne<=65535?I+=String.fromCharCode(ne):(ne-=65536,I+=String.fromCharCode(55296+(ne>>10)),I+=String.fromCharCode(56320+(1023&ne)))}return I});var F=function(D,I){return I?p(D):B(D)},O={encode:function(D,I){var S="string"!=typeof D;return S&&D.constructor===n.ArrayBuffer&&(D=new Uint8Array(D)),S?i(D):!I&&/[^\x00-\x7F]/.test(D)?T(D):h(D)},decode:F,atob:p,btoa:h};F.bytes=d,F.string=F,A?Hn.exports=O:(n.base64=O,_&&void 0!==(e=function(){return O}.call(O,v,O,Hn))&&(Hn.exports=e))}()},2601:(Hn,Xe)=>{Xe.read=function(v,e,n,b,A){var _,x,w=8*A-b-1,g=(1<<w)-1,d=g>>1,i=-7,h=n?A-1:0,p=n?-1:1,T=v[e+h];for(h+=p,_=T&(1<<-i)-1,T>>=-i,i+=w;i>0;_=256*_+v[e+h],h+=p,i-=8);for(x=_&(1<<-i)-1,_>>=-i,i+=b;i>0;x=256*x+v[e+h],h+=p,i-=8);if(0===_)_=1-d;else{if(_===g)return x?NaN:1/0*(T?-1:1);x+=Math.pow(2,b),_-=d}return(T?-1:1)*x*Math.pow(2,_-b)},Xe.write=function(v,e,n,b,A,_){var x,w,g,d=8*_-A-1,i=(1<<d)-1,h=i>>1,p=23===A?Math.pow(2,-24)-Math.pow(2,-77):0,T=b?0:_-1,B=b?1:-1,P=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(w=isNaN(e)?1:0,x=i):(x=Math.floor(Math.log(e)/Math.LN2),e*(g=Math.pow(2,-x))<1&&(x--,g*=2),(e+=x+h>=1?p/g:p*Math.pow(2,1-h))*g>=2&&(x++,g/=2),x+h>=i?(w=0,x=i):x+h>=1?(w=(e*g-1)*Math.pow(2,A),x+=h):(w=e*Math.pow(2,h-1)*Math.pow(2,A),x=0));A>=8;v[n+T]=255&w,T+=B,w/=256,A-=8);for(x=x<<A|w,d+=A;d>0;v[n+T]=255&x,T+=B,x/=256,d-=8);v[n+T-B]|=128*P}},5619:(Hn,Xe,v)=>{"use strict";v.d(Xe,{X:()=>n});var e=v(8645);class n extends e.x{constructor(A){super(),this._value=A}get value(){return this.getValue()}_subscribe(A){const _=super._subscribe(A);return!_.closed&&A.next(this._value),_}getValue(){const{hasError:A,thrownError:_,_value:x}=this;if(A)throw _;return this._throwIfClosed(),x}next(A){super.next(this._value=A)}}},5592:(Hn,Xe,v)=>{"use strict";v.d(Xe,{y:()=>g});var e=v(305),n=v(7394),b=v(4850),A=v(8407),_=v(2653),x=v(4674),w=v(1441);let g=(()=>{class p{constructor(B){B&&(this._subscribe=B)}lift(B){const P=new p;return P.source=this,P.operator=B,P}subscribe(B,P,k){const F=function h(p){return p&&p instanceof e.Lv||function i(p){return p&&(0,x.m)(p.next)&&(0,x.m)(p.error)&&(0,x.m)(p.complete)}(p)&&(0,n.Nn)(p)}(B)?B:new e.Hp(B,P,k);return(0,w.x)(()=>{const{operator:O,source:D}=this;F.add(O?O.call(F,D):D?this._subscribe(F):this._trySubscribe(F))}),F}_trySubscribe(B){try{return this._subscribe(B)}catch(P){B.error(P)}}forEach(B,P){return new(P=d(P))((k,F)=>{const O=new e.Hp({next:D=>{try{B(D)}catch(I){F(I),O.unsubscribe()}},error:F,complete:k});this.subscribe(O)})}_subscribe(B){var P;return null===(P=this.source)||void 0===P?void 0:P.subscribe(B)}[b.L](){return this}pipe(...B){return(0,A.U)(B)(this)}toPromise(B){return new(B=d(B))((P,k)=>{let F;this.subscribe(O=>F=O,O=>k(O),()=>P(F))})}}return p.create=T=>new p(T),p})();function d(p){var T;return null!==(T=p??_.config.Promise)&&void 0!==T?T:Promise}},8645:(Hn,Xe,v)=>{"use strict";v.d(Xe,{x:()=>w});var e=v(5592),n=v(7394);const A=(0,v(2306).d)(d=>function(){d(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _=v(9039),x=v(1441);let w=(()=>{class d extends e.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(h){const p=new g(this,this);return p.operator=h,p}_throwIfClosed(){if(this.closed)throw new A}next(h){(0,x.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const p of this.currentObservers)p.next(h)}})}error(h){(0,x.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=h;const{observers:p}=this;for(;p.length;)p.shift().error(h)}})}complete(){(0,x.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:h}=this;for(;h.length;)h.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var h;return(null===(h=this.observers)||void 0===h?void 0:h.length)>0}_trySubscribe(h){return this._throwIfClosed(),super._trySubscribe(h)}_subscribe(h){return this._throwIfClosed(),this._checkFinalizedStatuses(h),this._innerSubscribe(h)}_innerSubscribe(h){const{hasError:p,isStopped:T,observers:B}=this;return p||T?n.Lc:(this.currentObservers=null,B.push(h),new n.w0(()=>{this.currentObservers=null,(0,_.P)(B,h)}))}_checkFinalizedStatuses(h){const{hasError:p,thrownError:T,isStopped:B}=this;p?h.error(T):B&&h.complete()}asObservable(){const h=new e.y;return h.source=this,h}}return d.create=(i,h)=>new g(i,h),d})();class g extends w{constructor(i,h){super(),this.destination=i,this.source=h}next(i){var h,p;null===(p=null===(h=this.destination)||void 0===h?void 0:h.next)||void 0===p||p.call(h,i)}error(i){var h,p;null===(p=null===(h=this.destination)||void 0===h?void 0:h.error)||void 0===p||p.call(h,i)}complete(){var i,h;null===(h=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===h||h.call(i)}_subscribe(i){var h,p;return null!==(p=null===(h=this.source)||void 0===h?void 0:h.subscribe(i))&&void 0!==p?p:n.Lc}}},305:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Hp:()=>k,Lv:()=>p});var e=v(4674),n=v(7394),b=v(2653),A=v(3894),_=v(2420);const x=d("C",void 0,void 0);function d(S,L,C){return{kind:S,value:L,error:C}}var i=v(7599),h=v(1441);class p extends n.w0{constructor(L){super(),this.isStopped=!1,L?(this.destination=L,(0,n.Nn)(L)&&L.add(this)):this.destination=I}static create(L,C,U){return new k(L,C,U)}next(L){this.isStopped?D(function g(S){return d("N",S,void 0)}(L),this):this._next(L)}error(L){this.isStopped?D(function w(S){return d("E",void 0,S)}(L),this):(this.isStopped=!0,this._error(L))}complete(){this.isStopped?D(x,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(L){this.destination.next(L)}_error(L){try{this.destination.error(L)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const T=Function.prototype.bind;function B(S,L){return T.call(S,L)}class P{constructor(L){this.partialObserver=L}next(L){const{partialObserver:C}=this;if(C.next)try{C.next(L)}catch(U){F(U)}}error(L){const{partialObserver:C}=this;if(C.error)try{C.error(L)}catch(U){F(U)}else F(L)}complete(){const{partialObserver:L}=this;if(L.complete)try{L.complete()}catch(C){F(C)}}}class k extends p{constructor(L,C,U){let z;if(super(),(0,e.m)(L)||!L)z={next:L??void 0,error:C??void 0,complete:U??void 0};else{let ne;this&&b.config.useDeprecatedNextContext?(ne=Object.create(L),ne.unsubscribe=()=>this.unsubscribe(),z={next:L.next&&B(L.next,ne),error:L.error&&B(L.error,ne),complete:L.complete&&B(L.complete,ne)}):z=L}this.destination=new P(z)}}function F(S){b.config.useDeprecatedSynchronousErrorHandling?(0,h.O)(S):(0,A.h)(S)}function D(S,L){const{onStoppedNotification:C}=b.config;C&&i.z.setTimeout(()=>C(S,L))}const I={closed:!0,next:_.Z,error:function O(S){throw S},complete:_.Z}},7394:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Lc:()=>x,w0:()=>_,Nn:()=>w});var e=v(4674);const b=(0,v(2306).d)(d=>function(h){d(this),this.message=h?`${h.length} errors occurred during unsubscription:\n${h.map((p,T)=>`${T+1}) ${p.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=h});var A=v(9039);class _{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;const{_parentage:h}=this;if(h)if(this._parentage=null,Array.isArray(h))for(const B of h)B.remove(this);else h.remove(this);const{initialTeardown:p}=this;if((0,e.m)(p))try{p()}catch(B){i=B instanceof b?B.errors:[B]}const{_finalizers:T}=this;if(T){this._finalizers=null;for(const B of T)try{g(B)}catch(P){i=i??[],P instanceof b?i=[...i,...P.errors]:i.push(P)}}if(i)throw new b(i)}}add(i){var h;if(i&&i!==this)if(this.closed)g(i);else{if(i instanceof _){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=null!==(h=this._finalizers)&&void 0!==h?h:[]).push(i)}}_hasParent(i){const{_parentage:h}=this;return h===i||Array.isArray(h)&&h.includes(i)}_addParent(i){const{_parentage:h}=this;this._parentage=Array.isArray(h)?(h.push(i),h):h?[h,i]:i}_removeParent(i){const{_parentage:h}=this;h===i?this._parentage=null:Array.isArray(h)&&(0,A.P)(h,i)}remove(i){const{_finalizers:h}=this;h&&(0,A.P)(h,i),i instanceof _&&i._removeParent(this)}}_.EMPTY=(()=>{const d=new _;return d.closed=!0,d})();const x=_.EMPTY;function w(d){return d instanceof _||d&&"closed"in d&&(0,e.m)(d.remove)&&(0,e.m)(d.add)&&(0,e.m)(d.unsubscribe)}function g(d){(0,e.m)(d)?d():d.unsubscribe()}},2653:(Hn,Xe,v)=>{"use strict";v.d(Xe,{config:()=>e});const e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(Hn,Xe,v)=>{"use strict";v.d(Xe,{c:()=>x});var e=v(5592),n=v(7394),b=v(6196),A=v(8251),_=v(9360);class x extends e.y{constructor(g,d){super(),this.source=g,this.subjectFactory=d,this._subject=null,this._refCount=0,this._connection=null,(0,_.A)(g)&&(this.lift=g.lift)}_subscribe(g){return this.getSubject().subscribe(g)}getSubject(){const g=this._subject;return(!g||g.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:g}=this;this._subject=this._connection=null,g?.unsubscribe()}connect(){let g=this._connection;if(!g){g=this._connection=new n.w0;const d=this.getSubject();g.add(this.source.subscribe((0,A.x)(d,void 0,()=>{this._teardown(),d.complete()},i=>{this._teardown(),d.error(i)},()=>this._teardown()))),g.closed&&(this._connection=null,g=n.w0.EMPTY)}return g}refCount(){return(0,b.x)()(this)}}},2572:(Hn,Xe,v)=>{"use strict";v.d(Xe,{a:()=>i});var e=v(5592),n=v(7453),b=v(2459),A=v(2737),_=v(7400),x=v(9940),w=v(2714),g=v(8251),d=v(7103);function i(...T){const B=(0,x.yG)(T),P=(0,x.jO)(T),{args:k,keys:F}=(0,n.D)(T);if(0===k.length)return(0,b.D)([],B);const O=new e.y(function h(T,B,P=A.y){return k=>{p(B,()=>{const{length:F}=T,O=new Array(F);let D=F,I=F;for(let S=0;S<F;S++)p(B,()=>{const L=(0,b.D)(T[S],B);let C=!1;L.subscribe((0,g.x)(k,U=>{O[S]=U,C||(C=!0,I--),I||k.next(P(O.slice()))},()=>{--D||k.complete()}))},k)},k)}}(k,B,F?D=>(0,w.n)(F,D):A.y));return P?O.pipe((0,_.Z)(P)):O}function p(T,B,P){T?(0,d.f)(P,T,B):B()}},5211:(Hn,Xe,v)=>{"use strict";v.d(Xe,{z:()=>_});var e=v(7537),b=v(9940),A=v(2459);function _(...x){return function n(){return(0,e.J)(1)}()((0,A.D)(x,(0,b.yG)(x)))}},4911:(Hn,Xe,v)=>{"use strict";v.d(Xe,{P:()=>b});var e=v(5592),n=v(4829);function b(A){return new e.y(_=>{(0,n.Xf)(A()).subscribe(_)})}},6232:(Hn,Xe,v)=>{"use strict";v.d(Xe,{E:()=>n});const n=new(v(5592).y)(_=>_.complete())},2459:(Hn,Xe,v)=>{"use strict";v.d(Xe,{D:()=>L});var e=v(4829),n=v(3093),b=v(5137),x=v(5592),g=v(4971),d=v(4674),i=v(7103);function p(C,U){if(!C)throw new Error("Iterable cannot be null");return new x.y(z=>{(0,i.f)(z,U,()=>{const ne=C[Symbol.asyncIterator]();(0,i.f)(z,U,()=>{ne.next().then(te=>{te.done?z.complete():z.next(te.value)})},0,!0)})})}var T=v(8382),B=v(4026),P=v(4266),k=v(3664),F=v(5726),O=v(9853),D=v(541);function L(C,U){return U?function S(C,U){if(null!=C){if((0,T.c)(C))return function A(C,U){return(0,e.Xf)(C).pipe((0,b.R)(U),(0,n.Q)(U))}(C,U);if((0,P.z)(C))return function w(C,U){return new x.y(z=>{let ne=0;return U.schedule(function(){ne===C.length?z.complete():(z.next(C[ne++]),z.closed||this.schedule())})})}(C,U);if((0,B.t)(C))return function _(C,U){return(0,e.Xf)(C).pipe((0,b.R)(U),(0,n.Q)(U))}(C,U);if((0,F.D)(C))return p(C,U);if((0,k.T)(C))return function h(C,U){return new x.y(z=>{let ne;return(0,i.f)(z,U,()=>{ne=C[g.h](),(0,i.f)(z,U,()=>{let te,Me;try{({value:te,done:Me}=ne.next())}catch(J){return void z.error(J)}Me?z.complete():z.next(te)},0,!0)}),()=>(0,d.m)(ne?.return)&&ne.return()})}(C,U);if((0,D.L)(C))return function I(C,U){return p((0,D.Q)(C),U)}(C,U)}throw(0,O.z)(C)}(C,U):(0,e.Xf)(C)}},2438:(Hn,Xe,v)=>{"use strict";v.d(Xe,{R:()=>i});var e=v(4829),n=v(5592),b=v(1631),A=v(4266),_=v(4674),x=v(7400);const w=["addListener","removeListener"],g=["addEventListener","removeEventListener"],d=["on","off"];function i(P,k,F,O){if((0,_.m)(F)&&(O=F,F=void 0),O)return i(P,k,F).pipe((0,x.Z)(O));const[D,I]=function B(P){return(0,_.m)(P.addEventListener)&&(0,_.m)(P.removeEventListener)}(P)?g.map(S=>L=>P[S](k,L,F)):function p(P){return(0,_.m)(P.addListener)&&(0,_.m)(P.removeListener)}(P)?w.map(h(P,k)):function T(P){return(0,_.m)(P.on)&&(0,_.m)(P.off)}(P)?d.map(h(P,k)):[];if(!D&&(0,A.z)(P))return(0,b.z)(S=>i(S,k,F))((0,e.Xf)(P));if(!D)throw new TypeError("Invalid event target");return new n.y(S=>{const L=(...C)=>S.next(1<C.length?C:C[0]);return D(L),()=>I(L)})}function h(P,k){return F=>O=>P[F](k,O)}},4829:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Xf:()=>T});var e=v(7582),n=v(4266),b=v(4026),A=v(5592),_=v(8382),x=v(5726),w=v(9853),g=v(3664),d=v(541),i=v(4674),h=v(3894),p=v(4850);function T(S){if(S instanceof A.y)return S;if(null!=S){if((0,_.c)(S))return function B(S){return new A.y(L=>{const C=S[p.L]();if((0,i.m)(C.subscribe))return C.subscribe(L);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(S);if((0,n.z)(S))return function P(S){return new A.y(L=>{for(let C=0;C<S.length&&!L.closed;C++)L.next(S[C]);L.complete()})}(S);if((0,b.t)(S))return function k(S){return new A.y(L=>{S.then(C=>{L.closed||(L.next(C),L.complete())},C=>L.error(C)).then(null,h.h)})}(S);if((0,x.D)(S))return O(S);if((0,g.T)(S))return function F(S){return new A.y(L=>{for(const C of S)if(L.next(C),L.closed)return;L.complete()})}(S);if((0,d.L)(S))return function D(S){return O((0,d.Q)(S))}(S)}throw(0,w.z)(S)}function O(S){return new A.y(L=>{(function I(S,L){var C,U,z,ne;return(0,e.mG)(this,void 0,void 0,function*(){try{for(C=(0,e.KL)(S);!(U=yield C.next()).done;)if(L.next(U.value),L.closed)return}catch(te){z={error:te}}finally{try{U&&!U.done&&(ne=C.return)&&(yield ne.call(C))}finally{if(z)throw z.error}}L.complete()})})(S,L).catch(C=>L.error(C))})}},3019:(Hn,Xe,v)=>{"use strict";v.d(Xe,{T:()=>x});var e=v(7537),n=v(4829),b=v(6232),A=v(9940),_=v(2459);function x(...w){const g=(0,A.yG)(w),d=(0,A._6)(w,1/0),i=w;return i.length?1===i.length?(0,n.Xf)(i[0]):(0,e.J)(d)((0,_.D)(i,g)):b.E}},2096:(Hn,Xe,v)=>{"use strict";v.d(Xe,{of:()=>b});var e=v(9940),n=v(2459);function b(...A){const _=(0,e.yG)(A);return(0,n.D)(A,_)}},4825:(Hn,Xe,v)=>{"use strict";v.d(Xe,{H:()=>_});var e=v(5592),n=v(6321),b=v(671);function _(x=0,w,g=n.P){let d=-1;return null!=w&&((0,b.K)(w)?g=w:d=w),new e.y(i=>{let h=function A(x){return x instanceof Date&&!isNaN(x)}(x)?+x-g.now():x;h<0&&(h=0);let p=0;return g.schedule(function(){i.closed||(i.next(p++),0<=d?this.schedule(void 0,d):i.complete())},h)})}},8251:(Hn,Xe,v)=>{"use strict";v.d(Xe,{x:()=>n});var e=v(305);function n(A,_,x,w,g){return new b(A,_,x,w,g)}class b extends e.Lv{constructor(_,x,w,g,d,i){super(_),this.onFinalize=d,this.shouldUnsubscribe=i,this._next=x?function(h){try{x(h)}catch(p){_.error(p)}}:super._next,this._error=g?function(h){try{g(h)}catch(p){_.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=w?function(){try{w()}catch(h){_.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:x}=this;super.unsubscribe(),!x&&(null===(_=this.onFinalize)||void 0===_||_.call(this))}}}},6328:(Hn,Xe,v)=>{"use strict";v.d(Xe,{b:()=>b});var e=v(1631),n=v(4674);function b(A,_){return(0,n.m)(_)?(0,e.z)(A,_,1):(0,e.z)(A,1)}},3620:(Hn,Xe,v)=>{"use strict";v.d(Xe,{b:()=>A});var e=v(6321),n=v(9360),b=v(8251);function A(_,x=e.z){return(0,n.e)((w,g)=>{let d=null,i=null,h=null;const p=()=>{if(d){d.unsubscribe(),d=null;const B=i;i=null,g.next(B)}};function T(){const B=h+_,P=x.now();if(P<B)return d=this.schedule(void 0,B-P),void g.add(d);p()}w.subscribe((0,b.x)(g,B=>{i=B,h=x.now(),d||(d=x.schedule(T,_),g.add(d))},()=>{p(),g.complete()},void 0,()=>{i=d=null}))})}},3572:(Hn,Xe,v)=>{"use strict";v.d(Xe,{d:()=>b});var e=v(9360),n=v(8251);function b(A){return(0,e.e)((_,x)=>{let w=!1;_.subscribe((0,n.x)(x,g=>{w=!0,x.next(g)},()=>{w||x.next(A),x.complete()}))})}},3997:(Hn,Xe,v)=>{"use strict";v.d(Xe,{x:()=>A});var e=v(2737),n=v(9360),b=v(8251);function A(x,w=e.y){return x=x??_,(0,n.e)((g,d)=>{let i,h=!0;g.subscribe((0,b.x)(d,p=>{const T=w(p);(h||!x(i,T))&&(h=!1,i=T,d.next(p))}))})}function _(x,w){return x===w}},2181:(Hn,Xe,v)=>{"use strict";v.d(Xe,{h:()=>b});var e=v(9360),n=v(8251);function b(A,_){return(0,e.e)((x,w)=>{let g=0;x.subscribe((0,n.x)(w,d=>A.call(_,d,g++)&&w.next(d)))})}},4716:(Hn,Xe,v)=>{"use strict";v.d(Xe,{x:()=>n});var e=v(9360);function n(b){return(0,e.e)((A,_)=>{try{A.subscribe(_)}finally{_.add(b)}})}},1374:(Hn,Xe,v)=>{"use strict";v.d(Xe,{P:()=>w});var e=v(6973),n=v(2181),b=v(8180),A=v(3572),_=v(3026),x=v(2737);function w(g,d){const i=arguments.length>=2;return h=>h.pipe(g?(0,n.h)((p,T)=>g(p,T,h)):x.y,(0,b.q)(1),i?(0,A.d)(d):(0,_.T)(()=>new e.K))}},7398:(Hn,Xe,v)=>{"use strict";v.d(Xe,{U:()=>b});var e=v(9360),n=v(8251);function b(A,_){return(0,e.e)((x,w)=>{let g=0;x.subscribe((0,n.x)(w,d=>{w.next(A.call(_,d,g++))}))})}},975:(Hn,Xe,v)=>{"use strict";v.d(Xe,{h:()=>n});var e=v(7398);function n(b){return(0,e.U)(()=>b)}},7537:(Hn,Xe,v)=>{"use strict";v.d(Xe,{J:()=>b});var e=v(1631),n=v(2737);function b(A=1/0){return(0,e.z)(n.y,A)}},1631:(Hn,Xe,v)=>{"use strict";v.d(Xe,{z:()=>g});var e=v(7398),n=v(4829),b=v(9360),A=v(7103),_=v(8251),w=v(4674);function g(d,i,h=1/0){return(0,w.m)(i)?g((p,T)=>(0,e.U)((B,P)=>i(p,B,T,P))((0,n.Xf)(d(p,T))),h):("number"==typeof i&&(h=i),(0,b.e)((p,T)=>function x(d,i,h,p,T,B,P,k){const F=[];let O=0,D=0,I=!1;const S=()=>{I&&!F.length&&!O&&i.complete()},L=U=>O<p?C(U):F.push(U),C=U=>{B&&i.next(U),O++;let z=!1;(0,n.Xf)(h(U,D++)).subscribe((0,_.x)(i,ne=>{T?.(ne),B?L(ne):i.next(ne)},()=>{z=!0},void 0,()=>{if(z)try{for(O--;F.length&&O<p;){const ne=F.shift();P?(0,A.f)(i,P,()=>C(ne)):C(ne)}S()}catch(ne){i.error(ne)}}))};return d.subscribe((0,_.x)(i,L,()=>{I=!0,S()})),()=>{k?.()}}(p,T,d,h)))}},3093:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Q:()=>A});var e=v(7103),n=v(9360),b=v(8251);function A(_,x=0){return(0,n.e)((w,g)=>{w.subscribe((0,b.x)(g,d=>(0,e.f)(g,_,()=>g.next(d),x),()=>(0,e.f)(g,_,()=>g.complete(),x),d=>(0,e.f)(g,_,()=>g.error(d),x)))})}},6196:(Hn,Xe,v)=>{"use strict";v.d(Xe,{x:()=>b});var e=v(9360),n=v(8251);function b(){return(0,e.e)((A,_)=>{let x=null;A._refCount++;const w=(0,n.x)(_,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(x=null);const g=A._connection,d=x;x=null,g&&(!d||g===d)&&g.unsubscribe(),_.unsubscribe()});A.subscribe(w),w.closed||(x=A.connect())})}},3020:(Hn,Xe,v)=>{"use strict";v.d(Xe,{B:()=>_});var e=v(4829),n=v(8645),b=v(305),A=v(9360);function _(w={}){const{connector:g=(()=>new n.x),resetOnError:d=!0,resetOnComplete:i=!0,resetOnRefCountZero:h=!0}=w;return p=>{let T,B,P,k=0,F=!1,O=!1;const D=()=>{B?.unsubscribe(),B=void 0},I=()=>{D(),T=P=void 0,F=O=!1},S=()=>{const L=T;I(),L?.unsubscribe()};return(0,A.e)((L,C)=>{k++,!O&&!F&&D();const U=P=P??g();C.add(()=>{k--,0===k&&!O&&!F&&(B=x(S,h))}),U.subscribe(C),!T&&k>0&&(T=new b.Hp({next:z=>U.next(z),error:z=>{O=!0,D(),B=x(I,d,z),U.error(z)},complete:()=>{F=!0,D(),B=x(I,i),U.complete()}}),(0,e.Xf)(L).subscribe(T))})(p)}}function x(w,g,...d){if(!0===g)return void w();if(!1===g)return;const i=new b.Hp({next:()=>{i.unsubscribe(),w()}});return(0,e.Xf)(g(...d)).subscribe(i)}},940:(Hn,Xe,v)=>{"use strict";v.d(Xe,{d:()=>_});var e=v(8645),n=v(4552);class b extends e.x{constructor(w=1/0,g=1/0,d=n.l){super(),this._bufferSize=w,this._windowTime=g,this._timestampProvider=d,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=g===1/0,this._bufferSize=Math.max(1,w),this._windowTime=Math.max(1,g)}next(w){const{isStopped:g,_buffer:d,_infiniteTimeWindow:i,_timestampProvider:h,_windowTime:p}=this;g||(d.push(w),!i&&d.push(h.now()+p)),this._trimBuffer(),super.next(w)}_subscribe(w){this._throwIfClosed(),this._trimBuffer();const g=this._innerSubscribe(w),{_infiniteTimeWindow:d,_buffer:i}=this,h=i.slice();for(let p=0;p<h.length&&!w.closed;p+=d?1:2)w.next(h[p]);return this._checkFinalizedStatuses(w),g}_trimBuffer(){const{_bufferSize:w,_timestampProvider:g,_buffer:d,_infiniteTimeWindow:i}=this,h=(i?1:2)*w;if(w<1/0&&h<d.length&&d.splice(0,d.length-h),!i){const p=g.now();let T=0;for(let B=1;B<d.length&&d[B]<=p;B+=2)T=B;T&&d.splice(0,T+1)}}}var A=v(3020);function _(x,w,g){let d,i=!1;return x&&"object"==typeof x?({bufferSize:d=1/0,windowTime:w=1/0,refCount:i=!1,scheduler:g}=x):d=x??1/0,(0,A.B)({connector:()=>new b(d,w,g),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}},836:(Hn,Xe,v)=>{"use strict";v.d(Xe,{T:()=>n});var e=v(2181);function n(b){return(0,e.h)((A,_)=>b<=_)}},7921:(Hn,Xe,v)=>{"use strict";v.d(Xe,{O:()=>A});var e=v(5211),n=v(9940),b=v(9360);function A(..._){const x=(0,n.yG)(_);return(0,b.e)((w,g)=>{(x?(0,e.z)(_,w,x):(0,e.z)(_,w)).subscribe(g)})}},5137:(Hn,Xe,v)=>{"use strict";v.d(Xe,{R:()=>n});var e=v(9360);function n(b,A=0){return(0,e.e)((_,x)=>{x.add(b.schedule(()=>_.subscribe(x),A))})}},4664:(Hn,Xe,v)=>{"use strict";v.d(Xe,{w:()=>A});var e=v(4829),n=v(9360),b=v(8251);function A(_,x){return(0,n.e)((w,g)=>{let d=null,i=0,h=!1;const p=()=>h&&!d&&g.complete();w.subscribe((0,b.x)(g,T=>{d?.unsubscribe();let B=0;const P=i++;(0,e.Xf)(_(T,P)).subscribe(d=(0,b.x)(g,k=>g.next(x?x(T,k,P,B++):k),()=>{d=null,p()}))},()=>{h=!0,p()}))})}},8180:(Hn,Xe,v)=>{"use strict";v.d(Xe,{q:()=>A});var e=v(6232),n=v(9360),b=v(8251);function A(_){return _<=0?()=>e.E:(0,n.e)((x,w)=>{let g=0;x.subscribe((0,b.x)(w,d=>{++g<=_&&(w.next(d),_<=g&&w.complete())}))})}},9773:(Hn,Xe,v)=>{"use strict";v.d(Xe,{R:()=>_});var e=v(9360),n=v(8251),b=v(4829),A=v(2420);function _(x){return(0,e.e)((w,g)=>{(0,b.Xf)(x).subscribe((0,n.x)(g,()=>g.complete(),A.Z)),!g.closed&&w.subscribe(g)})}},9397:(Hn,Xe,v)=>{"use strict";v.d(Xe,{b:()=>_});var e=v(4674),n=v(9360),b=v(8251),A=v(2737);function _(x,w,g){const d=(0,e.m)(x)||w||g?{next:x,error:w,complete:g}:x;return d?(0,n.e)((i,h)=>{var p;null===(p=d.subscribe)||void 0===p||p.call(d);let T=!0;i.subscribe((0,b.x)(h,B=>{var P;null===(P=d.next)||void 0===P||P.call(d,B),h.next(B)},()=>{var B;T=!1,null===(B=d.complete)||void 0===B||B.call(d),h.complete()},B=>{var P;T=!1,null===(P=d.error)||void 0===P||P.call(d,B),h.error(B)},()=>{var B,P;T&&(null===(B=d.unsubscribe)||void 0===B||B.call(d)),null===(P=d.finalize)||void 0===P||P.call(d)}))}):A.y}},3026:(Hn,Xe,v)=>{"use strict";v.d(Xe,{T:()=>A});var e=v(6973),n=v(9360),b=v(8251);function A(x=_){return(0,n.e)((w,g)=>{let d=!1;w.subscribe((0,b.x)(g,i=>{d=!0,g.next(i)},()=>d?g.complete():g.error(x())))})}function _(){return new e.K}},1954:(Hn,Xe,v)=>{"use strict";v.d(Xe,{o:()=>_});var e=v(7394);class n extends e.w0{constructor(w,g){super()}schedule(w,g=0){return this}}const b={setInterval(x,w,...g){const{delegate:d}=b;return d?.setInterval?d.setInterval(x,w,...g):setInterval(x,w,...g)},clearInterval(x){const{delegate:w}=b;return(w?.clearInterval||clearInterval)(x)},delegate:void 0};var A=v(9039);class _ extends n{constructor(w,g){super(w,g),this.scheduler=w,this.work=g,this.pending=!1}schedule(w,g=0){var d;if(this.closed)return this;this.state=w;const i=this.id,h=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(h,i,g)),this.pending=!0,this.delay=g,this.id=null!==(d=this.id)&&void 0!==d?d:this.requestAsyncId(h,this.id,g),this}requestAsyncId(w,g,d=0){return b.setInterval(w.flush.bind(w,this),d)}recycleAsyncId(w,g,d=0){if(null!=d&&this.delay===d&&!1===this.pending)return g;null!=g&&b.clearInterval(g)}execute(w,g){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const d=this._execute(w,g);if(d)return d;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(w,g){let i,d=!1;try{this.work(w)}catch(h){d=!0,i=h||new Error("Scheduled action threw falsy error")}if(d)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:w,scheduler:g}=this,{actions:d}=g;this.work=this.state=this.scheduler=null,this.pending=!1,(0,A.P)(d,this),null!=w&&(this.id=this.recycleAsyncId(g,w,null)),this.delay=null,super.unsubscribe()}}}},2631:(Hn,Xe,v)=>{"use strict";v.d(Xe,{v:()=>b});var e=v(4552);class n{constructor(_,x=n.now){this.schedulerActionCtor=_,this.now=x}schedule(_,x=0,w){return new this.schedulerActionCtor(this,_).schedule(w,x)}}n.now=e.l.now;class b extends n{constructor(_,x=n.now){super(_,x),this.actions=[],this._active=!1}flush(_){const{actions:x}=this;if(this._active)return void x.push(_);let w;this._active=!0;do{if(w=_.execute(_.state,_.delay))break}while(_=x.shift());if(this._active=!1,w){for(;_=x.shift();)_.unsubscribe();throw w}}}},6321:(Hn,Xe,v)=>{"use strict";v.d(Xe,{P:()=>A,z:()=>b});var e=v(1954);const b=new(v(2631).v)(e.o),A=b},4552:(Hn,Xe,v)=>{"use strict";v.d(Xe,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},7599:(Hn,Xe,v)=>{"use strict";v.d(Xe,{z:()=>e});const e={setTimeout(n,b,...A){const{delegate:_}=e;return _?.setTimeout?_.setTimeout(n,b,...A):setTimeout(n,b,...A)},clearTimeout(n){const{delegate:b}=e;return(b?.clearTimeout||clearTimeout)(n)},delegate:void 0}},4971:(Hn,Xe,v)=>{"use strict";v.d(Xe,{h:()=>n});const n=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Hn,Xe,v)=>{"use strict";v.d(Xe,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Hn,Xe,v)=>{"use strict";v.d(Xe,{K:()=>n});const n=(0,v(2306).d)(b=>function(){b(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Hn,Xe,v)=>{"use strict";v.d(Xe,{_6:()=>x,jO:()=>A,yG:()=>_});var e=v(4674),n=v(671);function b(w){return w[w.length-1]}function A(w){return(0,e.m)(b(w))?w.pop():void 0}function _(w){return(0,n.K)(b(w))?w.pop():void 0}function x(w,g){return"number"==typeof b(w)?w.pop():g}},7453:(Hn,Xe,v)=>{"use strict";v.d(Xe,{D:()=>_});const{isArray:e}=Array,{getPrototypeOf:n,prototype:b,keys:A}=Object;function _(w){if(1===w.length){const g=w[0];if(e(g))return{args:g,keys:null};if(function x(w){return w&&"object"==typeof w&&n(w)===b}(g)){const d=A(g);return{args:d.map(i=>g[i]),keys:d}}}return{args:w,keys:null}}},9039:(Hn,Xe,v)=>{"use strict";function e(n,b){if(n){const A=n.indexOf(b);0<=A&&n.splice(A,1)}}v.d(Xe,{P:()=>e})},2306:(Hn,Xe,v)=>{"use strict";function e(n){const A=n(_=>{Error.call(_),_.stack=(new Error).stack});return A.prototype=Object.create(Error.prototype),A.prototype.constructor=A,A}v.d(Xe,{d:()=>e})},2714:(Hn,Xe,v)=>{"use strict";function e(n,b){return n.reduce((A,_,x)=>(A[_]=b[x],A),{})}v.d(Xe,{n:()=>e})},1441:(Hn,Xe,v)=>{"use strict";v.d(Xe,{O:()=>A,x:()=>b});var e=v(2653);let n=null;function b(_){if(e.config.useDeprecatedSynchronousErrorHandling){const x=!n;if(x&&(n={errorThrown:!1,error:null}),_(),x){const{errorThrown:w,error:g}=n;if(n=null,w)throw g}}else _()}function A(_){e.config.useDeprecatedSynchronousErrorHandling&&n&&(n.errorThrown=!0,n.error=_)}},7103:(Hn,Xe,v)=>{"use strict";function e(n,b,A,_=0,x=!1){const w=b.schedule(function(){A(),x?n.add(this.schedule(null,_)):this.unsubscribe()},_);if(n.add(w),!x)return w}v.d(Xe,{f:()=>e})},2737:(Hn,Xe,v)=>{"use strict";function e(n){return n}v.d(Xe,{y:()=>e})},4266:(Hn,Xe,v)=>{"use strict";v.d(Xe,{z:()=>e});const e=n=>n&&"number"==typeof n.length&&"function"!=typeof n},5726:(Hn,Xe,v)=>{"use strict";v.d(Xe,{D:()=>n});var e=v(4674);function n(b){return Symbol.asyncIterator&&(0,e.m)(b?.[Symbol.asyncIterator])}},4674:(Hn,Xe,v)=>{"use strict";function e(n){return"function"==typeof n}v.d(Xe,{m:()=>e})},8382:(Hn,Xe,v)=>{"use strict";v.d(Xe,{c:()=>b});var e=v(4850),n=v(4674);function b(A){return(0,n.m)(A[e.L])}},3664:(Hn,Xe,v)=>{"use strict";v.d(Xe,{T:()=>b});var e=v(4971),n=v(4674);function b(A){return(0,n.m)(A?.[e.h])}},2664:(Hn,Xe,v)=>{"use strict";v.d(Xe,{b:()=>b});var e=v(5592),n=v(4674);function b(A){return!!A&&(A instanceof e.y||(0,n.m)(A.lift)&&(0,n.m)(A.subscribe))}},4026:(Hn,Xe,v)=>{"use strict";v.d(Xe,{t:()=>n});var e=v(4674);function n(b){return(0,e.m)(b?.then)}},541:(Hn,Xe,v)=>{"use strict";v.d(Xe,{L:()=>A,Q:()=>b});var e=v(7582),n=v(4674);function b(_){return(0,e.FC)(this,arguments,function*(){const w=_.getReader();try{for(;;){const{value:g,done:d}=yield(0,e.qq)(w.read());if(d)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(g)}}finally{w.releaseLock()}})}function A(_){return(0,n.m)(_?.getReader)}},671:(Hn,Xe,v)=>{"use strict";v.d(Xe,{K:()=>n});var e=v(4674);function n(b){return b&&(0,e.m)(b.schedule)}},9360:(Hn,Xe,v)=>{"use strict";v.d(Xe,{A:()=>n,e:()=>b});var e=v(4674);function n(A){return(0,e.m)(A?.lift)}function b(A){return _=>{if(n(_))return _.lift(function(x){try{return A(x,this)}catch(w){this.error(w)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Z:()=>A});var e=v(7398);const{isArray:n}=Array;function A(_){return(0,e.U)(x=>function b(_,x){return n(x)?_(...x):_(x)}(_,x))}},2420:(Hn,Xe,v)=>{"use strict";function e(){}v.d(Xe,{Z:()=>e})},8407:(Hn,Xe,v)=>{"use strict";v.d(Xe,{U:()=>b,z:()=>n});var e=v(2737);function n(...A){return b(A)}function b(A){return 0===A.length?e.y:1===A.length?A[0]:function(x){return A.reduce((w,g)=>g(w),x)}}},3894:(Hn,Xe,v)=>{"use strict";v.d(Xe,{h:()=>b});var e=v(2653),n=v(7599);function b(A){n.z.setTimeout(()=>{const{onUnhandledError:_}=e.config;if(!_)throw A;_(A)})}},9853:(Hn,Xe,v)=>{"use strict";function e(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}v.d(Xe,{z:()=>e})},2372:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Z:()=>p});var e,n=new Uint8Array(16);function b(){if(!e&&!(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(n)}const A=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var w=[],g=0;g<256;++g)w.push((g+256).toString(16).substr(1));const i=function d(T){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,P=(w[T[B+0]]+w[T[B+1]]+w[T[B+2]]+w[T[B+3]]+"-"+w[T[B+4]]+w[T[B+5]]+"-"+w[T[B+6]]+w[T[B+7]]+"-"+w[T[B+8]]+w[T[B+9]]+"-"+w[T[B+10]]+w[T[B+11]]+w[T[B+12]]+w[T[B+13]]+w[T[B+14]]+w[T[B+15]]).toLowerCase();if(!function _(T){return"string"==typeof T&&A.test(T)}(P))throw TypeError("Stringified UUID is invalid");return P},p=function h(T,B,P){var k=(T=T||{}).random||(T.rng||b)();if(k[6]=15&k[6]|64,k[8]=63&k[8]|128,B){P=P||0;for(var F=0;F<16;++F)B[P+F]=k[F];return B}return i(k)}},6825:(Hn,Xe,v)=>{"use strict";v.d(Xe,{F4:()=>i,IO:()=>P,LC:()=>n,SB:()=>d,X$:()=>A,ZE:()=>O,ZN:()=>F,_j:()=>e,eR:()=>h,jt:()=>_,k1:()=>D,l3:()=>b,oB:()=>g,pV:()=>T,ru:()=>x,vP:()=>w});class e{}class n{}const b="*";function A(I,S){return{type:7,name:I,definitions:S,options:{}}}function _(I,S=null){return{type:4,styles:S,timings:I}}function x(I,S=null){return{type:3,steps:I,options:S}}function w(I,S=null){return{type:2,steps:I,options:S}}function g(I){return{type:6,styles:I,offset:null}}function d(I,S,L){return{type:0,name:I,styles:S,options:L}}function i(I){return{type:5,steps:I}}function h(I,S,L=null){return{type:1,expr:I,animation:S,options:L}}function T(I=null){return{type:9,options:I}}function P(I,S,L=null){return{type:11,selector:I,animation:S,options:L}}class F{constructor(S=0,L=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=S+L}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(S=>S()),this._onDoneFns=[])}onStart(S){this._originalOnStartFns.push(S),this._onStartFns.push(S)}onDone(S){this._originalOnDoneFns.push(S),this._onDoneFns.push(S)}onDestroy(S){this._onDestroyFns.push(S)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(S=>S()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(S=>S()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(S){this._position=this.totalTime?S*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(S){const L="start"==S?this._onStartFns:this._onDoneFns;L.forEach(C=>C()),L.length=0}}class O{constructor(S){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=S;let L=0,C=0,U=0;const z=this.players.length;0==z?queueMicrotask(()=>this._onFinish()):this.players.forEach(ne=>{ne.onDone(()=>{++L==z&&this._onFinish()}),ne.onDestroy(()=>{++C==z&&this._onDestroy()}),ne.onStart(()=>{++U==z&&this._onStart()})}),this.totalTime=this.players.reduce((ne,te)=>Math.max(ne,te.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(S=>S()),this._onDoneFns=[])}init(){this.players.forEach(S=>S.init())}onStart(S){this._onStartFns.push(S)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(S=>S()),this._onStartFns=[])}onDone(S){this._onDoneFns.push(S)}onDestroy(S){this._onDestroyFns.push(S)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(S=>S.play())}pause(){this.players.forEach(S=>S.pause())}restart(){this.players.forEach(S=>S.restart())}finish(){this._onFinish(),this.players.forEach(S=>S.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(S=>S.destroy()),this._onDestroyFns.forEach(S=>S()),this._onDestroyFns=[])}reset(){this.players.forEach(S=>S.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(S){const L=S*this.totalTime;this.players.forEach(C=>{const U=C.totalTime?Math.min(1,L/C.totalTime):1;C.setPosition(U)})}getPosition(){const S=this.players.reduce((L,C)=>null===L||C.totalTime>L.totalTime?C:L,null);return null!=S?S.getPosition():0}beforeDestroy(){this.players.forEach(S=>{S.beforeDestroy&&S.beforeDestroy()})}triggerCallback(S){const L="start"==S?this._onStartFns:this._onDoneFns;L.forEach(C=>C()),L.length=0}}const D="!"},4300:(Hn,Xe,v)=>{"use strict";v.d(Xe,{$s:()=>Me,Kd:()=>ze,X6:()=>ie,Zf:()=>S,iD:()=>L,ic:()=>xe,kH:()=>bt,mK:()=>se,qV:()=>K,qm:()=>pn,rt:()=>rn,s1:()=>Se,tE:()=>He,yG:()=>Z});var e=v(6814),n=v(5879),b=v(2831),A=v(8645),_=v(7394),x=v(5619),w=v(2096),g=v(6028),d=v(9397),i=v(3620),h=v(2181),p=v(7398),T=v(8180),B=v(836),P=v(3997),k=v(9773),F=v(2495),O=v(7131),D=v(1088);const I=" ";function S(xt,vt,nt){const ke=C(xt,vt);ke.some(Ke=>Ke.trim()==nt.trim())||(ke.push(nt.trim()),xt.setAttribute(vt,ke.join(I)))}function L(xt,vt,nt){const Ke=C(xt,vt).filter(rt=>rt!=nt.trim());Ke.length?xt.setAttribute(vt,Ke.join(I)):xt.removeAttribute(vt)}function C(xt,vt){return(xt.getAttribute(vt)||"").match(/\S+/g)||[]}const z="cdk-describedby-message",ne="cdk-describedby-host";let te=0,Me=(()=>{class xt{constructor(nt,ke){this._platform=ke,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+te++,this._document=nt,this._id=(0,n.f3M)(n.AFp)+"-"+te++}describe(nt,ke,Ke){if(!this._canBeDescribed(nt,ke))return;const rt=J(ke,Ke);"string"!=typeof ke?(ce(ke,this._id),this._messageRegistry.set(rt,{messageElement:ke,referenceCount:0})):this._messageRegistry.has(rt)||this._createMessageElement(ke,Ke),this._isElementDescribedByMessage(nt,rt)||this._addMessageReference(nt,rt)}removeDescription(nt,ke,Ke){if(!ke||!this._isElementNode(nt))return;const rt=J(ke,Ke);if(this._isElementDescribedByMessage(nt,rt)&&this._removeMessageReference(nt,rt),"string"==typeof ke){const ot=this._messageRegistry.get(rt);ot&&0===ot.referenceCount&&this._deleteMessageElement(rt)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const nt=this._document.querySelectorAll(`[${ne}="${this._id}"]`);for(let ke=0;ke<nt.length;ke++)this._removeCdkDescribedByReferenceIds(nt[ke]),nt[ke].removeAttribute(ne);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(nt,ke){const Ke=this._document.createElement("div");ce(Ke,this._id),Ke.textContent=nt,ke&&Ke.setAttribute("role",ke),this._createMessagesContainer(),this._messagesContainer.appendChild(Ke),this._messageRegistry.set(J(nt,ke),{messageElement:Ke,referenceCount:0})}_deleteMessageElement(nt){this._messageRegistry.get(nt)?.messageElement?.remove(),this._messageRegistry.delete(nt)}_createMessagesContainer(){if(this._messagesContainer)return;const nt="cdk-describedby-message-container",ke=this._document.querySelectorAll(`.${nt}[platform="server"]`);for(let rt=0;rt<ke.length;rt++)ke[rt].remove();const Ke=this._document.createElement("div");Ke.style.visibility="hidden",Ke.classList.add(nt),Ke.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Ke.setAttribute("platform","server"),this._document.body.appendChild(Ke),this._messagesContainer=Ke}_removeCdkDescribedByReferenceIds(nt){const ke=C(nt,"aria-describedby").filter(Ke=>0!=Ke.indexOf(z));nt.setAttribute("aria-describedby",ke.join(" "))}_addMessageReference(nt,ke){const Ke=this._messageRegistry.get(ke);S(nt,"aria-describedby",Ke.messageElement.id),nt.setAttribute(ne,this._id),Ke.referenceCount++}_removeMessageReference(nt,ke){const Ke=this._messageRegistry.get(ke);Ke.referenceCount--,L(nt,"aria-describedby",Ke.messageElement.id),nt.removeAttribute(ne)}_isElementDescribedByMessage(nt,ke){const Ke=C(nt,"aria-describedby"),rt=this._messageRegistry.get(ke),ot=rt&&rt.messageElement.id;return!!ot&&-1!=Ke.indexOf(ot)}_canBeDescribed(nt,ke){if(!this._isElementNode(nt))return!1;if(ke&&"object"==typeof ke)return!0;const Ke=null==ke?"":`${ke}`.trim(),rt=nt.getAttribute("aria-label");return!(!Ke||rt&&rt.trim()===Ke)}_isElementNode(nt){return nt.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(ke){return new(ke||xt)(n.LFG(e.K0),n.LFG(b.t4))};static#t=this.\u0275prov=n.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})();function J(xt,vt){return"string"==typeof xt?`${vt||""}/${xt}`:xt}function ce(xt,vt){xt.id||(xt.id=`${z}-${vt}-${te++}`)}class W{constructor(vt){this._items=vt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new A.x,this._typeaheadSubscription=_.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=nt=>nt.disabled,this._pressedLetters=[],this.tabOut=new A.x,this.change=new A.x,vt instanceof n.n_E&&(this._itemChangesSubscription=vt.changes.subscribe(nt=>{if(this._activeItem){const Ke=nt.toArray().indexOf(this._activeItem);Ke>-1&&Ke!==this._activeItemIndex&&(this._activeItemIndex=Ke)}}))}skipPredicate(vt){return this._skipPredicateFn=vt,this}withWrap(vt=!0){return this._wrap=vt,this}withVerticalOrientation(vt=!0){return this._vertical=vt,this}withHorizontalOrientation(vt){return this._horizontal=vt,this}withAllowedModifierKeys(vt){return this._allowedModifierKeys=vt,this}withTypeAhead(vt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,d.b)(nt=>this._pressedLetters.push(nt)),(0,i.b)(vt),(0,h.h)(()=>this._pressedLetters.length>0),(0,p.U)(()=>this._pressedLetters.join(""))).subscribe(nt=>{const ke=this._getItemsArray();for(let Ke=1;Ke<ke.length+1;Ke++){const rt=(this._activeItemIndex+Ke)%ke.length,ot=ke[rt];if(!this._skipPredicateFn(ot)&&0===ot.getLabel().toUpperCase().trim().indexOf(nt)){this.setActiveItem(rt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(vt=!0){return this._homeAndEnd=vt,this}withPageUpDown(vt=!0,nt=10){return this._pageUpAndDown={enabled:vt,delta:nt},this}setActiveItem(vt){const nt=this._activeItem;this.updateActiveItem(vt),this._activeItem!==nt&&this.change.next(this._activeItemIndex)}onKeydown(vt){const nt=vt.keyCode,Ke=["altKey","ctrlKey","metaKey","shiftKey"].every(rt=>!vt[rt]||this._allowedModifierKeys.indexOf(rt)>-1);switch(nt){case g.Mf:return void this.tabOut.next();case g.JH:if(this._vertical&&Ke){this.setNextItemActive();break}return;case g.LH:if(this._vertical&&Ke){this.setPreviousItemActive();break}return;case g.SV:if(this._horizontal&&Ke){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case g.oh:if(this._horizontal&&Ke){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case g.Sd:if(this._homeAndEnd&&Ke){this.setFirstItemActive();break}return;case g.uR:if(this._homeAndEnd&&Ke){this.setLastItemActive();break}return;case g.Ku:if(this._pageUpAndDown.enabled&&Ke){const rt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(rt>0?rt:0,1);break}return;case g.VM:if(this._pageUpAndDown.enabled&&Ke){const rt=this._activeItemIndex+this._pageUpAndDown.delta,ot=this._getItemsArray().length;this._setActiveItemByIndex(rt<ot?rt:ot-1,-1);break}return;default:return void((Ke||(0,g.Vb)(vt,"shiftKey"))&&(vt.key&&1===vt.key.length?this._letterKeyStream.next(vt.key.toLocaleUpperCase()):(nt>=g.A&&nt<=g.Z||nt>=g.xE&&nt<=g.aO)&&this._letterKeyStream.next(String.fromCharCode(nt))))}this._pressedLetters=[],vt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(vt){const nt=this._getItemsArray(),ke="number"==typeof vt?vt:nt.indexOf(vt);this._activeItem=nt[ke]??null,this._activeItemIndex=ke}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(vt){this._wrap?this._setActiveInWrapMode(vt):this._setActiveInDefaultMode(vt)}_setActiveInWrapMode(vt){const nt=this._getItemsArray();for(let ke=1;ke<=nt.length;ke++){const Ke=(this._activeItemIndex+vt*ke+nt.length)%nt.length;if(!this._skipPredicateFn(nt[Ke]))return void this.setActiveItem(Ke)}}_setActiveInDefaultMode(vt){this._setActiveItemByIndex(this._activeItemIndex+vt,vt)}_setActiveItemByIndex(vt,nt){const ke=this._getItemsArray();if(ke[vt]){for(;this._skipPredicateFn(ke[vt]);)if(!ke[vt+=nt])return;this.setActiveItem(vt)}}_getItemsArray(){return this._items instanceof n.n_E?this._items.toArray():this._items}}class Se extends W{setActiveItem(vt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(vt),this.activeItem&&this.activeItem.setActiveStyles()}}let xe=(()=>{class xt{constructor(nt){this._platform=nt}isDisabled(nt){return nt.hasAttribute("disabled")}isVisible(nt){return function fe(xt){return!!(xt.offsetWidth||xt.offsetHeight||"function"==typeof xt.getClientRects&&xt.getClientRects().length)}(nt)&&"visible"===getComputedStyle(nt).visibility}isTabbable(nt){if(!this._platform.isBrowser)return!1;const ke=function Ve(xt){try{return xt.frameElement}catch{return null}}(function ye(xt){return xt.ownerDocument&&xt.ownerDocument.defaultView||window}(nt));if(ke&&(-1===Ne(ke)||!this.isVisible(ke)))return!1;let Ke=nt.nodeName.toLowerCase(),rt=Ne(nt);return nt.hasAttribute("contenteditable")?-1!==rt:!("iframe"===Ke||"object"===Ke||this._platform.WEBKIT&&this._platform.IOS&&!function at(xt){let vt=xt.nodeName.toLowerCase(),nt="input"===vt&&xt.type;return"text"===nt||"password"===nt||"select"===vt||"textarea"===vt}(nt))&&("audio"===Ke?!!nt.hasAttribute("controls")&&-1!==rt:"video"===Ke?-1!==rt&&(null!==rt||this._platform.FIREFOX||nt.hasAttribute("controls")):nt.tabIndex>=0)}isFocusable(nt,ke){return function Be(xt){return!function Ce(xt){return function De(xt){return"input"==xt.nodeName.toLowerCase()}(xt)&&"hidden"==xt.type}(xt)&&(function Pe(xt){let vt=xt.nodeName.toLowerCase();return"input"===vt||"select"===vt||"button"===vt||"textarea"===vt}(xt)||function me(xt){return function Re(xt){return"a"==xt.nodeName.toLowerCase()}(xt)&&xt.hasAttribute("href")}(xt)||xt.hasAttribute("contenteditable")||Fe(xt))}(nt)&&!this.isDisabled(nt)&&(ke?.ignoreVisibility||this.isVisible(nt))}static#e=this.\u0275fac=function(ke){return new(ke||xt)(n.LFG(b.t4))};static#t=this.\u0275prov=n.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})();function Fe(xt){if(!xt.hasAttribute("tabindex")||void 0===xt.tabIndex)return!1;let vt=xt.getAttribute("tabindex");return!(!vt||isNaN(parseInt(vt,10)))}function Ne(xt){if(!Fe(xt))return null;const vt=parseInt(xt.getAttribute("tabindex")||"",10);return isNaN(vt)?-1:vt}class ve{get enabled(){return this._enabled}set enabled(vt){this._enabled=vt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(vt,this._startAnchor),this._toggleAnchorTabIndex(vt,this._endAnchor))}constructor(vt,nt,ke,Ke,rt=!1){this._element=vt,this._checker=nt,this._ngZone=ke,this._document=Ke,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,rt||this.attachAnchors()}destroy(){const vt=this._startAnchor,nt=this._endAnchor;vt&&(vt.removeEventListener("focus",this.startAnchorListener),vt.remove()),nt&&(nt.removeEventListener("focus",this.endAnchorListener),nt.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(vt){return new Promise(nt=>{this._executeOnStable(()=>nt(this.focusInitialElement(vt)))})}focusFirstTabbableElementWhenReady(vt){return new Promise(nt=>{this._executeOnStable(()=>nt(this.focusFirstTabbableElement(vt)))})}focusLastTabbableElementWhenReady(vt){return new Promise(nt=>{this._executeOnStable(()=>nt(this.focusLastTabbableElement(vt)))})}_getRegionBoundary(vt){const nt=this._element.querySelectorAll(`[cdk-focus-region-${vt}], [cdkFocusRegion${vt}], [cdk-focus-${vt}]`);return"start"==vt?nt.length?nt[0]:this._getFirstTabbableElement(this._element):nt.length?nt[nt.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(vt){const nt=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(nt){if(!this._checker.isFocusable(nt)){const ke=this._getFirstTabbableElement(nt);return ke?.focus(vt),!!ke}return nt.focus(vt),!0}return this.focusFirstTabbableElement(vt)}focusFirstTabbableElement(vt){const nt=this._getRegionBoundary("start");return nt&&nt.focus(vt),!!nt}focusLastTabbableElement(vt){const nt=this._getRegionBoundary("end");return nt&&nt.focus(vt),!!nt}hasAttached(){return this._hasAttached}_getFirstTabbableElement(vt){if(this._checker.isFocusable(vt)&&this._checker.isTabbable(vt))return vt;const nt=vt.children;for(let ke=0;ke<nt.length;ke++){const Ke=nt[ke].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(nt[ke]):null;if(Ke)return Ke}return null}_getLastTabbableElement(vt){if(this._checker.isFocusable(vt)&&this._checker.isTabbable(vt))return vt;const nt=vt.children;for(let ke=nt.length-1;ke>=0;ke--){const Ke=nt[ke].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(nt[ke]):null;if(Ke)return Ke}return null}_createAnchor(){const vt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,vt),vt.classList.add("cdk-visually-hidden"),vt.classList.add("cdk-focus-trap-anchor"),vt.setAttribute("aria-hidden","true"),vt}_toggleAnchorTabIndex(vt,nt){vt?nt.setAttribute("tabindex","0"):nt.removeAttribute("tabindex")}toggleAnchors(vt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(vt,this._startAnchor),this._toggleAnchorTabIndex(vt,this._endAnchor))}_executeOnStable(vt){this._ngZone.isStable?vt():this._ngZone.onStable.pipe((0,T.q)(1)).subscribe(vt)}}let K=(()=>{class xt{constructor(nt,ke,Ke){this._checker=nt,this._ngZone=ke,this._document=Ke}create(nt,ke=!1){return new ve(nt,this._checker,this._ngZone,this._document,ke)}static#e=this.\u0275fac=function(ke){return new(ke||xt)(n.LFG(xe),n.LFG(n.R0b),n.LFG(e.K0))};static#t=this.\u0275prov=n.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})(),se=(()=>{class xt{get enabled(){return this.focusTrap.enabled}set enabled(nt){this.focusTrap.enabled=(0,F.Ig)(nt)}get autoCapture(){return this._autoCapture}set autoCapture(nt){this._autoCapture=(0,F.Ig)(nt)}constructor(nt,ke,Ke){this._elementRef=nt,this._focusTrapFactory=ke,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(nt){const ke=nt.autoCapture;ke&&!ke.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,b.ht)(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(ke){return new(ke||xt)(n.Y36(n.SBq),n.Y36(K),n.Y36(e.K0))};static#t=this.\u0275dir=n.lG2({type:xt,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[n.TTD]})}return xt})();function ie(xt){return 0===xt.buttons||0===xt.offsetX&&0===xt.offsetY}function Z(xt){const vt=xt.touches&&xt.touches[0]||xt.changedTouches&&xt.changedTouches[0];return!(!vt||-1!==vt.identifier||null!=vt.radiusX&&1!==vt.radiusX||null!=vt.radiusY&&1!==vt.radiusY)}const X=new n.OlP("cdk-input-modality-detector-options"),pe={ignoreKeys:[g.zL,g.jx,g.b2,g.MW,g.JU]},be=(0,b.i$)({passive:!0,capture:!0});let Le=(()=>{class xt{get mostRecentModality(){return this._modality.value}constructor(nt,ke,Ke,rt){this._platform=nt,this._mostRecentTarget=null,this._modality=new x.X(null),this._lastTouchMs=0,this._onKeydown=ot=>{this._options?.ignoreKeys?.some(yt=>yt===ot.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,b.sA)(ot))},this._onMousedown=ot=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ie(ot)?"keyboard":"mouse"),this._mostRecentTarget=(0,b.sA)(ot))},this._onTouchstart=ot=>{Z(ot)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,b.sA)(ot))},this._options={...pe,...rt},this.modalityDetected=this._modality.pipe((0,B.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,P.x)()),nt.isBrowser&&ke.runOutsideAngular(()=>{Ke.addEventListener("keydown",this._onKeydown,be),Ke.addEventListener("mousedown",this._onMousedown,be),Ke.addEventListener("touchstart",this._onTouchstart,be)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,be),document.removeEventListener("mousedown",this._onMousedown,be),document.removeEventListener("touchstart",this._onTouchstart,be))}static#e=this.\u0275fac=function(ke){return new(ke||xt)(n.LFG(b.t4),n.LFG(n.R0b),n.LFG(e.K0),n.LFG(X,8))};static#t=this.\u0275prov=n.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})();const et=new n.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Qe(){return null}}),qe=new n.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ft=0,ze=(()=>{class xt{constructor(nt,ke,Ke,rt){this._ngZone=ke,this._defaultOptions=rt,this._document=Ke,this._liveElement=nt||this._createLiveElement()}announce(nt,...ke){const Ke=this._defaultOptions;let rt,ot;return 1===ke.length&&"number"==typeof ke[0]?ot=ke[0]:[rt,ot]=ke,this.clear(),clearTimeout(this._previousTimeout),rt||(rt=Ke&&Ke.politeness?Ke.politeness:"polite"),null==ot&&Ke&&(ot=Ke.duration),this._liveElement.setAttribute("aria-live",rt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(yt=>this._currentResolve=yt)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=nt,"number"==typeof ot&&(this._previousTimeout=setTimeout(()=>this.clear(),ot)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const nt="cdk-live-announcer-element",ke=this._document.getElementsByClassName(nt),Ke=this._document.createElement("div");for(let rt=0;rt<ke.length;rt++)ke[rt].remove();return Ke.classList.add(nt),Ke.classList.add("cdk-visually-hidden"),Ke.setAttribute("aria-atomic","true"),Ke.setAttribute("aria-live","polite"),Ke.id="cdk-live-announcer-"+ft++,this._document.body.appendChild(Ke),Ke}_exposeAnnouncerToModals(nt){const ke=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Ke=0;Ke<ke.length;Ke++){const rt=ke[Ke],ot=rt.getAttribute("aria-owns");ot?-1===ot.indexOf(nt)&&rt.setAttribute("aria-owns",ot+" "+nt):rt.setAttribute("aria-owns",nt)}}static#e=this.\u0275fac=function(ke){return new(ke||xt)(n.LFG(et,8),n.LFG(n.R0b),n.LFG(e.K0),n.LFG(qe,8))};static#t=this.\u0275prov=n.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})();const Et=new n.OlP("cdk-focus-monitor-default-options"),de=(0,b.i$)({passive:!0,capture:!0});let He=(()=>{class xt{constructor(nt,ke,Ke,rt,ot){this._ngZone=nt,this._platform=ke,this._inputModalityDetector=Ke,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new A.x,this._rootNodeFocusAndBlurListener=yt=>{for(let _t=(0,b.sA)(yt);_t;_t=_t.parentElement)"focus"===yt.type?this._onFocus(yt,_t):this._onBlur(yt,_t)},this._document=rt,this._detectionMode=ot?.detectionMode||0}monitor(nt,ke=!1){const Ke=(0,F.fI)(nt);if(!this._platform.isBrowser||1!==Ke.nodeType)return(0,w.of)();const rt=(0,b.kV)(Ke)||this._getDocument(),ot=this._elementInfo.get(Ke);if(ot)return ke&&(ot.checkChildren=!0),ot.subject;const yt={checkChildren:ke,subject:new A.x,rootNode:rt};return this._elementInfo.set(Ke,yt),this._registerGlobalListeners(yt),yt.subject}stopMonitoring(nt){const ke=(0,F.fI)(nt),Ke=this._elementInfo.get(ke);Ke&&(Ke.subject.complete(),this._setClasses(ke),this._elementInfo.delete(ke),this._removeGlobalListeners(Ke))}focusVia(nt,ke,Ke){const rt=(0,F.fI)(nt);rt===this._getDocument().activeElement?this._getClosestElementsInfo(rt).forEach(([yt,mt])=>this._originChanged(yt,ke,mt)):(this._setOrigin(ke),"function"==typeof rt.focus&&rt.focus(Ke))}ngOnDestroy(){this._elementInfo.forEach((nt,ke)=>this.stopMonitoring(ke))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(nt){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(nt)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:nt&&this._isLastInteractionFromInputLabel(nt)?"mouse":"program"}_shouldBeAttributedToTouch(nt){return 1===this._detectionMode||!!nt?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(nt,ke){nt.classList.toggle("cdk-focused",!!ke),nt.classList.toggle("cdk-touch-focused","touch"===ke),nt.classList.toggle("cdk-keyboard-focused","keyboard"===ke),nt.classList.toggle("cdk-mouse-focused","mouse"===ke),nt.classList.toggle("cdk-program-focused","program"===ke)}_setOrigin(nt,ke=!1){this._ngZone.runOutsideAngular(()=>{this._origin=nt,this._originFromTouchInteraction="touch"===nt&&ke,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(nt,ke){const Ke=this._elementInfo.get(ke),rt=(0,b.sA)(nt);!Ke||!Ke.checkChildren&&ke!==rt||this._originChanged(ke,this._getFocusOrigin(rt),Ke)}_onBlur(nt,ke){const Ke=this._elementInfo.get(ke);!Ke||Ke.checkChildren&&nt.relatedTarget instanceof Node&&ke.contains(nt.relatedTarget)||(this._setClasses(ke),this._emitOrigin(Ke,null))}_emitOrigin(nt,ke){nt.subject.observers.length&&this._ngZone.run(()=>nt.subject.next(ke))}_registerGlobalListeners(nt){if(!this._platform.isBrowser)return;const ke=nt.rootNode,Ke=this._rootNodeFocusListenerCount.get(ke)||0;Ke||this._ngZone.runOutsideAngular(()=>{ke.addEventListener("focus",this._rootNodeFocusAndBlurListener,de),ke.addEventListener("blur",this._rootNodeFocusAndBlurListener,de)}),this._rootNodeFocusListenerCount.set(ke,Ke+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,k.R)(this._stopInputModalityDetector)).subscribe(rt=>{this._setOrigin(rt,!0)}))}_removeGlobalListeners(nt){const ke=nt.rootNode;if(this._rootNodeFocusListenerCount.has(ke)){const Ke=this._rootNodeFocusListenerCount.get(ke);Ke>1?this._rootNodeFocusListenerCount.set(ke,Ke-1):(ke.removeEventListener("focus",this._rootNodeFocusAndBlurListener,de),ke.removeEventListener("blur",this._rootNodeFocusAndBlurListener,de),this._rootNodeFocusListenerCount.delete(ke))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(nt,ke,Ke){this._setClasses(nt,ke),this._emitOrigin(Ke,ke),this._lastFocusOrigin=ke}_getClosestElementsInfo(nt){const ke=[];return this._elementInfo.forEach((Ke,rt)=>{(rt===nt||Ke.checkChildren&&rt.contains(nt))&&ke.push([rt,Ke])}),ke}_isLastInteractionFromInputLabel(nt){const{_mostRecentTarget:ke,mostRecentModality:Ke}=this._inputModalityDetector;if("mouse"!==Ke||!ke||ke===nt||"INPUT"!==nt.nodeName&&"TEXTAREA"!==nt.nodeName||nt.disabled)return!1;const rt=nt.labels;if(rt)for(let ot=0;ot<rt.length;ot++)if(rt[ot].contains(ke))return!0;return!1}static#e=this.\u0275fac=function(ke){return new(ke||xt)(n.LFG(n.R0b),n.LFG(b.t4),n.LFG(Le),n.LFG(e.K0,8),n.LFG(Et,8))};static#t=this.\u0275prov=n.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})(),bt=(()=>{class xt{constructor(nt,ke){this._elementRef=nt,this._focusMonitor=ke,this._focusOrigin=null,this.cdkFocusChange=new n.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const nt=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(nt,1===nt.nodeType&&nt.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(ke=>{this._focusOrigin=ke,this.cdkFocusChange.emit(ke)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(ke){return new(ke||xt)(n.Y36(n.SBq),n.Y36(He))};static#t=this.\u0275dir=n.lG2({type:xt,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return xt})();const Ut="cdk-high-contrast-black-on-white",Zt="cdk-high-contrast-white-on-black",Kt="cdk-high-contrast-active";let pn=(()=>{class xt{constructor(nt,ke){this._platform=nt,this._document=ke,this._breakpointSubscription=(0,n.f3M)(D.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const nt=this._document.createElement("div");nt.style.backgroundColor="rgb(1,2,3)",nt.style.position="absolute",this._document.body.appendChild(nt);const ke=this._document.defaultView||window,Ke=ke&&ke.getComputedStyle?ke.getComputedStyle(nt):null,rt=(Ke&&Ke.backgroundColor||"").replace(/ /g,"");switch(nt.remove(),rt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const nt=this._document.body.classList;nt.remove(Kt,Ut,Zt),this._hasCheckedHighContrastMode=!0;const ke=this.getHighContrastMode();1===ke?nt.add(Kt,Ut):2===ke&&nt.add(Kt,Zt)}}static#e=this.\u0275fac=function(ke){return new(ke||xt)(n.LFG(b.t4),n.LFG(e.K0))};static#t=this.\u0275prov=n.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})(),rn=(()=>{class xt{constructor(nt){nt._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(ke){return new(ke||xt)(n.LFG(pn))};static#t=this.\u0275mod=n.oAB({type:xt});static#n=this.\u0275inj=n.cJS({imports:[O.Q8]})}return xt})()},9388:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Is:()=>w,vT:()=>d});var e=v(5879),n=v(6814);const b=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function A(){return(0,e.f3M)(n.K0)}}),_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let w=(()=>{class i{constructor(p){this.value="ltr",this.change=new e.vpe,p&&(this.value=function x(i){const h=i?.toLowerCase()||"";return"auto"===h&&typeof navigator<"u"&&navigator?.language?_.test(navigator.language)?"rtl":"ltr":"rtl"===h?"rtl":"ltr"}((p.body?p.body.dir:null)||(p.documentElement?p.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(T){return new(T||i)(e.LFG(b,8))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),d=(()=>{class i{static#e=this.\u0275fac=function(T){return new(T||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({})}return i})()},2495:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Eq:()=>_,HM:()=>x,Ig:()=>n,du:()=>g,fI:()=>w,su:()=>b,t6:()=>A});var e=v(5879);function n(d){return null!=d&&"false"!=`${d}`}function b(d,i=0){return A(d)?Number(d):i}function A(d){return!isNaN(parseFloat(d))&&!isNaN(Number(d))}function _(d){return Array.isArray(d)?d:[d]}function x(d){return null==d?"":"string"==typeof d?d:`${d}px`}function w(d){return d instanceof e.SBq?d.nativeElement:d}function g(d,i=/\s+/){const h=[];if(null!=d){const p=Array.isArray(d)?d:`${d}`.split(i);for(const T of p){const B=`${T}`.trim();B&&h.push(B)}}return h}},8337:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Ov:()=>d,Z9:()=>_,eX:()=>g,k:()=>p,o2:()=>A,yy:()=>w});var e=v(3168),n=v(8645),b=v(5879);class A{}function _(T){return T&&"function"==typeof T.connect&&!(T instanceof e.c)}class w{applyChanges(B,P,k,F,O){B.forEachOperation((D,I,S)=>{let L,C;if(null==D.previousIndex){const U=k(D,I,S);L=P.createEmbeddedView(U.templateRef,U.context,U.index),C=1}else null==S?(P.remove(I),C=3):(L=P.get(I),P.move(L,S),C=2);O&&O({context:L?.context,operation:C,record:D})})}detach(){}}class g{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(B,P,k,F,O){B.forEachOperation((D,I,S)=>{let L,C;null==D.previousIndex?(L=this._insertView(()=>k(D,I,S),S,P,F(D)),C=L?1:0):null==S?(this._detachAndCacheView(I,P),C=3):(L=this._moveView(I,S,P,F(D)),C=2),O&&O({context:L?.context,operation:C,record:D})})}detach(){for(const B of this._viewCache)B.destroy();this._viewCache=[]}_insertView(B,P,k,F){const O=this._insertViewFromCache(P,k);if(O)return void(O.context.$implicit=F);const D=B();return k.createEmbeddedView(D.templateRef,D.context,D.index)}_detachAndCacheView(B,P){const k=P.detach(B);this._maybeCacheView(k,P)}_moveView(B,P,k,F){const O=k.get(B);return k.move(O,P),O.context.$implicit=F,O}_maybeCacheView(B,P){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(B);else{const k=P.indexOf(B);-1===k?B.destroy():P.remove(k)}}_insertViewFromCache(B,P){const k=this._viewCache.pop();return k&&P.insert(k,B),k||null}}class d{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(B=!1,P,k=!0,F){this._multiple=B,this._emitChanges=k,this.compareWith=F,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new n.x,P&&P.length&&(B?P.forEach(O=>this._markSelected(O)):this._markSelected(P[0]),this._selectedToEmit.length=0)}select(...B){this._verifyValueAssignment(B),B.forEach(k=>this._markSelected(k));const P=this._hasQueuedChanges();return this._emitChangeEvent(),P}deselect(...B){this._verifyValueAssignment(B),B.forEach(k=>this._unmarkSelected(k));const P=this._hasQueuedChanges();return this._emitChangeEvent(),P}setSelection(...B){this._verifyValueAssignment(B);const P=this.selected,k=new Set(B);B.forEach(O=>this._markSelected(O)),P.filter(O=>!k.has(O)).forEach(O=>this._unmarkSelected(O));const F=this._hasQueuedChanges();return this._emitChangeEvent(),F}toggle(B){return this.isSelected(B)?this.deselect(B):this.select(B)}clear(B=!0){this._unmarkAll();const P=this._hasQueuedChanges();return B&&this._emitChangeEvent(),P}isSelected(B){return this._selection.has(this._getConcreteValue(B))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(B){this._multiple&&this.selected&&this._selected.sort(B)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(B){B=this._getConcreteValue(B),this.isSelected(B)||(this._multiple||this._unmarkAll(),this.isSelected(B)||this._selection.add(B),this._emitChanges&&this._selectedToEmit.push(B))}_unmarkSelected(B){B=this._getConcreteValue(B),this.isSelected(B)&&(this._selection.delete(B),this._emitChanges&&this._deselectedToEmit.push(B))}_unmarkAll(){this.isEmpty()||this._selection.forEach(B=>this._unmarkSelected(B))}_verifyValueAssignment(B){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(B){if(this.compareWith){for(let P of this._selection)if(this.compareWith(B,P))return P;return B}return B}}const p=new b.OlP("_ViewRepeater")},6028:(Hn,Xe,v)=>{"use strict";v.d(Xe,{A:()=>Ce,JH:()=>I,JU:()=>x,K5:()=>_,Ku:()=>T,LH:()=>O,L_:()=>p,MW:()=>qe,Mf:()=>b,SV:()=>D,Sd:()=>k,VM:()=>B,Vb:()=>At,Z:()=>Qe,aO:()=>Ee,b2:()=>Nt,hY:()=>h,jx:()=>w,oh:()=>F,uR:()=>P,xE:()=>z,zL:()=>g});const b=9,_=13,x=16,w=17,g=18,h=27,p=32,T=33,B=34,P=35,k=36,F=37,O=38,D=39,I=40,z=48,Ee=57,Ce=65,Qe=90,qe=91,Nt=224;function At(en,...wn){return wn.length?wn.some(ci=>en[ci]):en.altKey||en.shiftKey||en.ctrlKey||en.metaKey}},1088:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Yg:()=>I,u3:()=>L});var e=v(5879),n=v(2495),b=v(8645),A=v(2572),_=v(5211),x=v(5592),w=v(8180),g=v(836),d=v(3620),i=v(7398),h=v(7921),p=v(9773),T=v(2831);const P=new Set;let k,F=(()=>{class C{constructor(z,ne){this._platform=z,this._nonce=ne,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):D}matchMedia(z){return(this._platform.WEBKIT||this._platform.BLINK)&&function O(C,U){if(!P.has(C))try{k||(k=document.createElement("style"),U&&(k.nonce=U),k.setAttribute("type","text/css"),document.head.appendChild(k)),k.sheet&&(k.sheet.insertRule(`@media ${C} {body{ }}`,0),P.add(C))}catch(z){console.error(z)}}(z,this._nonce),this._matchMedia(z)}static#e=this.\u0275fac=function(ne){return new(ne||C)(e.LFG(T.t4),e.LFG(e.Ojb,8))};static#t=this.\u0275prov=e.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function D(C){return{matches:"all"===C||""===C,media:C,addListener:()=>{},removeListener:()=>{}}}let I=(()=>{class C{constructor(z,ne){this._mediaMatcher=z,this._zone=ne,this._queries=new Map,this._destroySubject=new b.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(z){return S((0,n.Eq)(z)).some(te=>this._registerQuery(te).mql.matches)}observe(z){const te=S((0,n.Eq)(z)).map(J=>this._registerQuery(J).observable);let Me=(0,A.a)(te);return Me=(0,_.z)(Me.pipe((0,w.q)(1)),Me.pipe((0,g.T)(1),(0,d.b)(0))),Me.pipe((0,i.U)(J=>{const ce={matches:!1,breakpoints:{}};return J.forEach(({matches:W,query:Se})=>{ce.matches=ce.matches||W,ce.breakpoints[Se]=W}),ce}))}_registerQuery(z){if(this._queries.has(z))return this._queries.get(z);const ne=this._mediaMatcher.matchMedia(z),Me={observable:new x.y(J=>{const ce=W=>this._zone.run(()=>J.next(W));return ne.addListener(ce),()=>{ne.removeListener(ce)}}).pipe((0,h.O)(ne),(0,i.U)(({matches:J})=>({query:z,matches:J})),(0,p.R)(this._destroySubject)),mql:ne};return this._queries.set(z,Me),Me}static#e=this.\u0275fac=function(ne){return new(ne||C)(e.LFG(F),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function S(C){return C.map(U=>U.split(",")).reduce((U,z)=>U.concat(z)).map(U=>U.trim())}const L={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7131:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Q8:()=>_});var e=v(5879);let n=(()=>{class x{create(g){return typeof MutationObserver>"u"?null:new MutationObserver(g)}static#e=this.\u0275fac=function(d){return new(d||x)};static#t=this.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),_=(()=>{class x{static#e=this.\u0275fac=function(d){return new(d||x)};static#t=this.\u0275mod=e.oAB({type:x});static#n=this.\u0275inj=e.cJS({providers:[n]})}return x})()},3651:(Hn,Xe,v)=>{"use strict";v.d(Xe,{pI:()=>q,xu:()=>Q,_G:()=>me,aV:()=>se,X_:()=>te,Xj:()=>Ve,U8:()=>Z,Iu:()=>fe});var e=v(799),n=v(6814),b=v(5879),A=v(2495),_=v(2831),x=v(2181),w=v(8180),g=v(9773),d=v(9360),i=v(8251),p=v(9388),T=v(8484),B=v(8645),P=v(7394),k=v(3019),F=v(6028);const O=(0,_.Mq)();class D{constructor(Te,be){this._viewportRuler=Te,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=be}attach(){}enable(){if(this._canBeEnabled()){const Te=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Te.style.left||"",this._previousHTMLStyles.top=Te.style.top||"",Te.style.left=(0,A.HM)(-this._previousScrollPosition.left),Te.style.top=(0,A.HM)(-this._previousScrollPosition.top),Te.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Te=this._document.documentElement,Le=Te.style,et=this._document.body.style,Qe=Le.scrollBehavior||"",qe=et.scrollBehavior||"";this._isEnabled=!1,Le.left=this._previousHTMLStyles.left,Le.top=this._previousHTMLStyles.top,Te.classList.remove("cdk-global-scrollblock"),O&&(Le.scrollBehavior=et.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),O&&(Le.scrollBehavior=Qe,et.scrollBehavior=qe)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const be=this._document.body,Le=this._viewportRuler.getViewportSize();return be.scrollHeight>Le.height||be.scrollWidth>Le.width}}class S{constructor(Te,be,Le,et){this._scrollDispatcher=Te,this._ngZone=be,this._viewportRuler=Le,this._config=et,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Te){this._overlayRef=Te}enable(){if(this._scrollSubscription)return;const Te=this._scrollDispatcher.scrolled(0).pipe((0,x.h)(be=>!be||!this._overlayRef.overlayElement.contains(be.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Te.subscribe(()=>{const be=this._viewportRuler.getViewportScrollPosition().top;Math.abs(be-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Te.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class L{enable(){}disable(){}attach(){}}function C(pe,Te){return Te.some(be=>pe.bottom<be.top||pe.top>be.bottom||pe.right<be.left||pe.left>be.right)}function U(pe,Te){return Te.some(be=>pe.top<be.top||pe.bottom>be.bottom||pe.left<be.left||pe.right>be.right)}class z{constructor(Te,be,Le,et){this._scrollDispatcher=Te,this._viewportRuler=be,this._ngZone=Le,this._config=et,this._scrollSubscription=null}attach(Te){this._overlayRef=Te}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const be=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Le,height:et}=this._viewportRuler.getViewportSize();C(be,[{width:Le,height:et,bottom:et,right:Le,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ne=(()=>{class pe{constructor(be,Le,et,Qe){this._scrollDispatcher=be,this._viewportRuler=Le,this._ngZone=et,this.noop=()=>new L,this.close=qe=>new S(this._scrollDispatcher,this._ngZone,this._viewportRuler,qe),this.block=()=>new D(this._viewportRuler,this._document),this.reposition=qe=>new z(this._scrollDispatcher,this._viewportRuler,this._ngZone,qe),this._document=Qe}static#e=this.\u0275fac=function(Le){return new(Le||pe)(b.LFG(e.mF),b.LFG(e.rL),b.LFG(b.R0b),b.LFG(n.K0))};static#t=this.\u0275prov=b.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})();class te{constructor(Te){if(this.scrollStrategy=new L,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Te){const be=Object.keys(Te);for(const Le of be)void 0!==Te[Le]&&(this[Le]=Te[Le])}}}class ce{constructor(Te,be){this.connectionPair=Te,this.scrollableViewProperties=be}}let le=(()=>{class pe{constructor(be){this._attachedOverlays=[],this._document=be}ngOnDestroy(){this.detach()}add(be){this.remove(be),this._attachedOverlays.push(be)}remove(be){const Le=this._attachedOverlays.indexOf(be);Le>-1&&this._attachedOverlays.splice(Le,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(Le){return new(Le||pe)(b.LFG(n.K0))};static#t=this.\u0275prov=b.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})(),Ee=(()=>{class pe extends le{constructor(be,Le){super(be),this._ngZone=Le,this._keydownListener=et=>{const Qe=this._attachedOverlays;for(let qe=Qe.length-1;qe>-1;qe--)if(Qe[qe]._keydownEvents.observers.length>0){const ft=Qe[qe]._keydownEvents;this._ngZone?this._ngZone.run(()=>ft.next(et)):ft.next(et);break}}}add(be){super.add(be),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(Le){return new(Le||pe)(b.LFG(n.K0),b.LFG(b.R0b,8))};static#t=this.\u0275prov=b.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})(),xe=(()=>{class pe extends le{constructor(be,Le,et){super(be),this._platform=Le,this._ngZone=et,this._cursorStyleIsSet=!1,this._pointerDownListener=Qe=>{this._pointerDownEventTarget=(0,_.sA)(Qe)},this._clickListener=Qe=>{const qe=(0,_.sA)(Qe),ft="click"===Qe.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:qe;this._pointerDownEventTarget=null;const ze=this._attachedOverlays.slice();for(let ht=ze.length-1;ht>-1;ht--){const Et=ze[ht];if(Et._outsidePointerEvents.observers.length<1||!Et.hasAttached())continue;if(Et.overlayElement.contains(qe)||Et.overlayElement.contains(ft))break;const de=Et._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>de.next(Qe)):de.next(Qe)}}}add(be){if(super.add(be),!this._isAttached){const Le=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Le)):this._addEventListeners(Le),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Le.style.cursor,Le.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const be=this._document.body;be.removeEventListener("pointerdown",this._pointerDownListener,!0),be.removeEventListener("click",this._clickListener,!0),be.removeEventListener("auxclick",this._clickListener,!0),be.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(be.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(be){be.addEventListener("pointerdown",this._pointerDownListener,!0),be.addEventListener("click",this._clickListener,!0),be.addEventListener("auxclick",this._clickListener,!0),be.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(Le){return new(Le||pe)(b.LFG(n.K0),b.LFG(_.t4),b.LFG(b.R0b,8))};static#t=this.\u0275prov=b.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})(),Ve=(()=>{class pe{constructor(be,Le){this._platform=Le,this._document=be}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const be="cdk-overlay-container";if(this._platform.isBrowser||(0,_.Oy)()){const et=this._document.querySelectorAll(`.${be}[platform="server"], .${be}[platform="test"]`);for(let Qe=0;Qe<et.length;Qe++)et[Qe].remove()}const Le=this._document.createElement("div");Le.classList.add(be),(0,_.Oy)()?Le.setAttribute("platform","test"):this._platform.isBrowser||Le.setAttribute("platform","server"),this._document.body.appendChild(Le),this._containerElement=Le}static#e=this.\u0275fac=function(Le){return new(Le||pe)(b.LFG(n.K0),b.LFG(_.t4))};static#t=this.\u0275prov=b.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})();class fe{constructor(Te,be,Le,et,Qe,qe,ft,ze,ht,Et=!1){this._portalOutlet=Te,this._host=be,this._pane=Le,this._config=et,this._ngZone=Qe,this._keyboardDispatcher=qe,this._document=ft,this._location=ze,this._outsideClickDispatcher=ht,this._animationsDisabled=Et,this._backdropElement=null,this._backdropClick=new B.x,this._attachments=new B.x,this._detachments=new B.x,this._locationChanges=P.w0.EMPTY,this._backdropClickHandler=de=>this._backdropClick.next(de),this._backdropTransitionendHandler=de=>{this._disposeBackdrop(de.target)},this._keydownEvents=new B.x,this._outsidePointerEvents=new B.x,et.scrollStrategy&&(this._scrollStrategy=et.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=et.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Te){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const be=this._portalOutlet.attach(Te);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,w.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof be?.onDestroy&&be.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),be}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Te=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Te}dispose(){const Te=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,Te&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Te){Te!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Te,this.hasAttached()&&(Te.attach(this),this.updatePosition()))}updateSize(Te){this._config={...this._config,...Te},this._updateElementSize()}setDirection(Te){this._config={...this._config,direction:Te},this._updateElementDirection()}addPanelClass(Te){this._pane&&this._toggleClasses(this._pane,Te,!0)}removePanelClass(Te){this._pane&&this._toggleClasses(this._pane,Te,!1)}getDirection(){const Te=this._config.direction;return Te?"string"==typeof Te?Te:Te.value:"ltr"}updateScrollStrategy(Te){Te!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Te,this.hasAttached()&&(Te.attach(this),Te.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Te=this._pane.style;Te.width=(0,A.HM)(this._config.width),Te.height=(0,A.HM)(this._config.height),Te.minWidth=(0,A.HM)(this._config.minWidth),Te.minHeight=(0,A.HM)(this._config.minHeight),Te.maxWidth=(0,A.HM)(this._config.maxWidth),Te.maxHeight=(0,A.HM)(this._config.maxHeight)}_togglePointerEvents(Te){this._pane.style.pointerEvents=Te?"":"none"}_attachBackdrop(){const Te="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Te)})}):this._backdropElement.classList.add(Te)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Te=this._backdropElement;if(Te){if(this._animationsDisabled)return void this._disposeBackdrop(Te);Te.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Te.addEventListener("transitionend",this._backdropTransitionendHandler)}),Te.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Te)},500))}}_toggleClasses(Te,be,Le){const et=(0,A.Eq)(be||[]).filter(Qe=>!!Qe);et.length&&(Le?Te.classList.add(...et):Te.classList.remove(...et))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const Te=this._ngZone.onStable.pipe((0,g.R)((0,k.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Te.unsubscribe())})})}_disposeScrollStrategy(){const Te=this._scrollStrategy;Te&&(Te.disable(),Te.detach&&Te.detach())}_disposeBackdrop(Te){Te&&(Te.removeEventListener("click",this._backdropClickHandler),Te.removeEventListener("transitionend",this._backdropTransitionendHandler),Te.remove(),this._backdropElement===Te&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Pe="cdk-overlay-connected-position-bounding-box",Ce=/([A-Za-z%]+)$/;class me{get positions(){return this._preferredPositions}constructor(Te,be,Le,et,Qe){this._viewportRuler=be,this._document=Le,this._platform=et,this._overlayContainer=Qe,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new B.x,this._resizeSubscription=P.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Te)}attach(Te){this._validatePositions(),Te.hostElement.classList.add(Pe),this._overlayRef=Te,this._boundingBox=Te.hostElement,this._pane=Te.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Te=this._originRect,be=this._overlayRect,Le=this._viewportRect,et=this._containerRect,Qe=[];let qe;for(let ft of this._preferredPositions){let ze=this._getOriginPoint(Te,et,ft),ht=this._getOverlayPoint(ze,be,ft),Et=this._getOverlayFit(ht,be,Le,ft);if(Et.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ft,ze);this._canFitWithFlexibleDimensions(Et,ht,Le)?Qe.push({position:ft,origin:ze,overlayRect:be,boundingBoxRect:this._calculateBoundingBoxRect(ze,ft)}):(!qe||qe.overlayFit.visibleArea<Et.visibleArea)&&(qe={overlayFit:Et,overlayPoint:ht,originPoint:ze,position:ft,overlayRect:be})}if(Qe.length){let ft=null,ze=-1;for(const ht of Qe){const Et=ht.boundingBoxRect.width*ht.boundingBoxRect.height*(ht.position.weight||1);Et>ze&&(ze=Et,ft=ht)}return this._isPushed=!1,void this._applyPosition(ft.position,ft.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(qe.position,qe.originPoint);this._applyPosition(qe.position,qe.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&De(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Pe),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Te=this._lastPosition;if(Te){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const be=this._getOriginPoint(this._originRect,this._containerRect,Te);this._applyPosition(Te,be)}else this.apply()}withScrollableContainers(Te){return this._scrollables=Te,this}withPositions(Te){return this._preferredPositions=Te,-1===Te.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Te){return this._viewportMargin=Te,this}withFlexibleDimensions(Te=!0){return this._hasFlexibleDimensions=Te,this}withGrowAfterOpen(Te=!0){return this._growAfterOpen=Te,this}withPush(Te=!0){return this._canPush=Te,this}withLockedPosition(Te=!0){return this._positionLocked=Te,this}setOrigin(Te){return this._origin=Te,this}withDefaultOffsetX(Te){return this._offsetX=Te,this}withDefaultOffsetY(Te){return this._offsetY=Te,this}withTransformOriginOn(Te){return this._transformOriginSelector=Te,this}_getOriginPoint(Te,be,Le){let et,Qe;if("center"==Le.originX)et=Te.left+Te.width/2;else{const qe=this._isRtl()?Te.right:Te.left,ft=this._isRtl()?Te.left:Te.right;et="start"==Le.originX?qe:ft}return be.left<0&&(et-=be.left),Qe="center"==Le.originY?Te.top+Te.height/2:"top"==Le.originY?Te.top:Te.bottom,be.top<0&&(Qe-=be.top),{x:et,y:Qe}}_getOverlayPoint(Te,be,Le){let et,Qe;return et="center"==Le.overlayX?-be.width/2:"start"===Le.overlayX?this._isRtl()?-be.width:0:this._isRtl()?0:-be.width,Qe="center"==Le.overlayY?-be.height/2:"top"==Le.overlayY?0:-be.height,{x:Te.x+et,y:Te.y+Qe}}_getOverlayFit(Te,be,Le,et){const Qe=Fe(be);let{x:qe,y:ft}=Te,ze=this._getOffset(et,"x"),ht=this._getOffset(et,"y");ze&&(qe+=ze),ht&&(ft+=ht);let He=0-ft,bt=ft+Qe.height-Le.height,Ut=this._subtractOverflows(Qe.width,0-qe,qe+Qe.width-Le.width),Zt=this._subtractOverflows(Qe.height,He,bt),Kt=Ut*Zt;return{visibleArea:Kt,isCompletelyWithinViewport:Qe.width*Qe.height===Kt,fitsInViewportVertically:Zt===Qe.height,fitsInViewportHorizontally:Ut==Qe.width}}_canFitWithFlexibleDimensions(Te,be,Le){if(this._hasFlexibleDimensions){const et=Le.bottom-be.y,Qe=Le.right-be.x,qe=Re(this._overlayRef.getConfig().minHeight),ft=Re(this._overlayRef.getConfig().minWidth);return(Te.fitsInViewportVertically||null!=qe&&qe<=et)&&(Te.fitsInViewportHorizontally||null!=ft&&ft<=Qe)}return!1}_pushOverlayOnScreen(Te,be,Le){if(this._previousPushAmount&&this._positionLocked)return{x:Te.x+this._previousPushAmount.x,y:Te.y+this._previousPushAmount.y};const et=Fe(be),Qe=this._viewportRect,qe=Math.max(Te.x+et.width-Qe.width,0),ft=Math.max(Te.y+et.height-Qe.height,0),ze=Math.max(Qe.top-Le.top-Te.y,0),ht=Math.max(Qe.left-Le.left-Te.x,0);let Et=0,de=0;return Et=et.width<=Qe.width?ht||-qe:Te.x<this._viewportMargin?Qe.left-Le.left-Te.x:0,de=et.height<=Qe.height?ze||-ft:Te.y<this._viewportMargin?Qe.top-Le.top-Te.y:0,this._previousPushAmount={x:Et,y:de},{x:Te.x+Et,y:Te.y+de}}_applyPosition(Te,be){if(this._setTransformOrigin(Te),this._setOverlayElementStyles(be,Te),this._setBoundingBoxStyles(be,Te),Te.panelClass&&this._addPanelClasses(Te.panelClass),this._lastPosition=Te,this._positionChanges.observers.length){const Le=this._getScrollVisibility(),et=new ce(Te,Le);this._positionChanges.next(et)}this._isInitialRender=!1}_setTransformOrigin(Te){if(!this._transformOriginSelector)return;const be=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Le,et=Te.overlayY;Le="center"===Te.overlayX?"center":this._isRtl()?"start"===Te.overlayX?"right":"left":"start"===Te.overlayX?"left":"right";for(let Qe=0;Qe<be.length;Qe++)be[Qe].style.transformOrigin=`${Le} ${et}`}_calculateBoundingBoxRect(Te,be){const Le=this._viewportRect,et=this._isRtl();let Qe,qe,ft,Et,de,He;if("top"===be.overlayY)qe=Te.y,Qe=Le.height-qe+this._viewportMargin;else if("bottom"===be.overlayY)ft=Le.height-Te.y+2*this._viewportMargin,Qe=Le.height-ft+this._viewportMargin;else{const bt=Math.min(Le.bottom-Te.y+Le.top,Te.y),Ut=this._lastBoundingBoxSize.height;Qe=2*bt,qe=Te.y-bt,Qe>Ut&&!this._isInitialRender&&!this._growAfterOpen&&(qe=Te.y-Ut/2)}if("end"===be.overlayX&&!et||"start"===be.overlayX&&et)He=Le.width-Te.x+this._viewportMargin,Et=Te.x-this._viewportMargin;else if("start"===be.overlayX&&!et||"end"===be.overlayX&&et)de=Te.x,Et=Le.right-Te.x;else{const bt=Math.min(Le.right-Te.x+Le.left,Te.x),Ut=this._lastBoundingBoxSize.width;Et=2*bt,de=Te.x-bt,Et>Ut&&!this._isInitialRender&&!this._growAfterOpen&&(de=Te.x-Ut/2)}return{top:qe,left:de,bottom:ft,right:He,width:Et,height:Qe}}_setBoundingBoxStyles(Te,be){const Le=this._calculateBoundingBoxRect(Te,be);!this._isInitialRender&&!this._growAfterOpen&&(Le.height=Math.min(Le.height,this._lastBoundingBoxSize.height),Le.width=Math.min(Le.width,this._lastBoundingBoxSize.width));const et={};if(this._hasExactPosition())et.top=et.left="0",et.bottom=et.right=et.maxHeight=et.maxWidth="",et.width=et.height="100%";else{const Qe=this._overlayRef.getConfig().maxHeight,qe=this._overlayRef.getConfig().maxWidth;et.height=(0,A.HM)(Le.height),et.top=(0,A.HM)(Le.top),et.bottom=(0,A.HM)(Le.bottom),et.width=(0,A.HM)(Le.width),et.left=(0,A.HM)(Le.left),et.right=(0,A.HM)(Le.right),et.alignItems="center"===be.overlayX?"center":"end"===be.overlayX?"flex-end":"flex-start",et.justifyContent="center"===be.overlayY?"center":"bottom"===be.overlayY?"flex-end":"flex-start",Qe&&(et.maxHeight=(0,A.HM)(Qe)),qe&&(et.maxWidth=(0,A.HM)(qe))}this._lastBoundingBoxSize=Le,De(this._boundingBox.style,et)}_resetBoundingBoxStyles(){De(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){De(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Te,be){const Le={},et=this._hasExactPosition(),Qe=this._hasFlexibleDimensions,qe=this._overlayRef.getConfig();if(et){const Et=this._viewportRuler.getViewportScrollPosition();De(Le,this._getExactOverlayY(be,Te,Et)),De(Le,this._getExactOverlayX(be,Te,Et))}else Le.position="static";let ft="",ze=this._getOffset(be,"x"),ht=this._getOffset(be,"y");ze&&(ft+=`translateX(${ze}px) `),ht&&(ft+=`translateY(${ht}px)`),Le.transform=ft.trim(),qe.maxHeight&&(et?Le.maxHeight=(0,A.HM)(qe.maxHeight):Qe&&(Le.maxHeight="")),qe.maxWidth&&(et?Le.maxWidth=(0,A.HM)(qe.maxWidth):Qe&&(Le.maxWidth="")),De(this._pane.style,Le)}_getExactOverlayY(Te,be,Le){let et={top:"",bottom:""},Qe=this._getOverlayPoint(be,this._overlayRect,Te);return this._isPushed&&(Qe=this._pushOverlayOnScreen(Qe,this._overlayRect,Le)),"bottom"===Te.overlayY?et.bottom=this._document.documentElement.clientHeight-(Qe.y+this._overlayRect.height)+"px":et.top=(0,A.HM)(Qe.y),et}_getExactOverlayX(Te,be,Le){let qe,et={left:"",right:""},Qe=this._getOverlayPoint(be,this._overlayRect,Te);return this._isPushed&&(Qe=this._pushOverlayOnScreen(Qe,this._overlayRect,Le)),qe=this._isRtl()?"end"===Te.overlayX?"left":"right":"end"===Te.overlayX?"right":"left","right"===qe?et.right=this._document.documentElement.clientWidth-(Qe.x+this._overlayRect.width)+"px":et.left=(0,A.HM)(Qe.x),et}_getScrollVisibility(){const Te=this._getOriginRect(),be=this._pane.getBoundingClientRect(),Le=this._scrollables.map(et=>et.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:U(Te,Le),isOriginOutsideView:C(Te,Le),isOverlayClipped:U(be,Le),isOverlayOutsideView:C(be,Le)}}_subtractOverflows(Te,...be){return be.reduce((Le,et)=>Le-Math.max(et,0),Te)}_getNarrowedViewportRect(){const Te=this._document.documentElement.clientWidth,be=this._document.documentElement.clientHeight,Le=this._viewportRuler.getViewportScrollPosition();return{top:Le.top+this._viewportMargin,left:Le.left+this._viewportMargin,right:Le.left+Te-this._viewportMargin,bottom:Le.top+be-this._viewportMargin,width:Te-2*this._viewportMargin,height:be-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Te,be){return"x"===be?null==Te.offsetX?this._offsetX:Te.offsetX:null==Te.offsetY?this._offsetY:Te.offsetY}_validatePositions(){}_addPanelClasses(Te){this._pane&&(0,A.Eq)(Te).forEach(be=>{""!==be&&-1===this._appliedPanelClasses.indexOf(be)&&(this._appliedPanelClasses.push(be),this._pane.classList.add(be))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Te=>{this._pane.classList.remove(Te)}),this._appliedPanelClasses=[])}_getOriginRect(){const Te=this._origin;if(Te instanceof b.SBq)return Te.nativeElement.getBoundingClientRect();if(Te instanceof Element)return Te.getBoundingClientRect();const be=Te.width||0,Le=Te.height||0;return{top:Te.y,bottom:Te.y+Le,left:Te.x,right:Te.x+be,height:Le,width:be}}}function De(pe,Te){for(let be in Te)Te.hasOwnProperty(be)&&(pe[be]=Te[be]);return pe}function Re(pe){if("number"!=typeof pe&&null!=pe){const[Te,be]=pe.split(Ce);return be&&"px"!==be?null:parseFloat(Te)}return pe||null}function Fe(pe){return{top:Math.floor(pe.top),right:Math.floor(pe.right),bottom:Math.floor(pe.bottom),left:Math.floor(pe.left),width:Math.floor(pe.width),height:Math.floor(pe.height)}}const Be="cdk-global-overlay-wrapper";class ye{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Te){const be=Te.getConfig();this._overlayRef=Te,this._width&&!be.width&&Te.updateSize({width:this._width}),this._height&&!be.height&&Te.updateSize({height:this._height}),Te.hostElement.classList.add(Be),this._isDisposed=!1}top(Te=""){return this._bottomOffset="",this._topOffset=Te,this._alignItems="flex-start",this}left(Te=""){return this._xOffset=Te,this._xPosition="left",this}bottom(Te=""){return this._topOffset="",this._bottomOffset=Te,this._alignItems="flex-end",this}right(Te=""){return this._xOffset=Te,this._xPosition="right",this}start(Te=""){return this._xOffset=Te,this._xPosition="start",this}end(Te=""){return this._xOffset=Te,this._xPosition="end",this}width(Te=""){return this._overlayRef?this._overlayRef.updateSize({width:Te}):this._width=Te,this}height(Te=""){return this._overlayRef?this._overlayRef.updateSize({height:Te}):this._height=Te,this}centerHorizontally(Te=""){return this.left(Te),this._xPosition="center",this}centerVertically(Te=""){return this.top(Te),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Te=this._overlayRef.overlayElement.style,be=this._overlayRef.hostElement.style,Le=this._overlayRef.getConfig(),{width:et,height:Qe,maxWidth:qe,maxHeight:ft}=Le,ze=!("100%"!==et&&"100vw"!==et||qe&&"100%"!==qe&&"100vw"!==qe),ht=!("100%"!==Qe&&"100vh"!==Qe||ft&&"100%"!==ft&&"100vh"!==ft),Et=this._xPosition,de=this._xOffset,He="rtl"===this._overlayRef.getConfig().direction;let bt="",Ut="",Zt="";ze?Zt="flex-start":"center"===Et?(Zt="center",He?Ut=de:bt=de):He?"left"===Et||"end"===Et?(Zt="flex-end",bt=de):("right"===Et||"start"===Et)&&(Zt="flex-start",Ut=de):"left"===Et||"start"===Et?(Zt="flex-start",bt=de):("right"===Et||"end"===Et)&&(Zt="flex-end",Ut=de),Te.position=this._cssPosition,Te.marginLeft=ze?"0":bt,Te.marginTop=ht?"0":this._topOffset,Te.marginBottom=this._bottomOffset,Te.marginRight=ze?"0":Ut,be.justifyContent=Zt,be.alignItems=ht?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Te=this._overlayRef.overlayElement.style,be=this._overlayRef.hostElement,Le=be.style;be.classList.remove(Be),Le.justifyContent=Le.alignItems=Te.marginTop=Te.marginBottom=Te.marginLeft=Te.marginRight=Te.position="",this._overlayRef=null,this._isDisposed=!0}}let ve=(()=>{class pe{constructor(be,Le,et,Qe){this._viewportRuler=be,this._document=Le,this._platform=et,this._overlayContainer=Qe}global(){return new ye}flexibleConnectedTo(be){return new me(be,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(Le){return new(Le||pe)(b.LFG(e.rL),b.LFG(n.K0),b.LFG(_.t4),b.LFG(Ve))};static#t=this.\u0275prov=b.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})(),K=0,se=(()=>{class pe{constructor(be,Le,et,Qe,qe,ft,ze,ht,Et,de,He,bt){this.scrollStrategies=be,this._overlayContainer=Le,this._componentFactoryResolver=et,this._positionBuilder=Qe,this._keyboardDispatcher=qe,this._injector=ft,this._ngZone=ze,this._document=ht,this._directionality=Et,this._location=de,this._outsideClickDispatcher=He,this._animationsModuleType=bt}create(be){const Le=this._createHostElement(),et=this._createPaneElement(Le),Qe=this._createPortalOutlet(et),qe=new te(be);return qe.direction=qe.direction||this._directionality.value,new fe(Qe,Le,et,qe,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(be){const Le=this._document.createElement("div");return Le.id="cdk-overlay-"+K++,Le.classList.add("cdk-overlay-pane"),be.appendChild(Le),Le}_createHostElement(){const be=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(be),be}_createPortalOutlet(be){return this._appRef||(this._appRef=this._injector.get(b.z2F)),new T.u0(be,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(Le){return new(Le||pe)(b.LFG(ne),b.LFG(Ve),b.LFG(b._Vd),b.LFG(ve),b.LFG(Ee),b.LFG(b.zs3),b.LFG(b.R0b),b.LFG(n.K0),b.LFG(p.Is),b.LFG(n.Ye),b.LFG(xe),b.LFG(b.QbO,8))};static#t=this.\u0275prov=b.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})();const ge=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],oe=new b.OlP("cdk-connected-overlay-scroll-strategy");let Q=(()=>{class pe{constructor(be){this.elementRef=be}static#e=this.\u0275fac=function(Le){return new(Le||pe)(b.Y36(b.SBq))};static#t=this.\u0275dir=b.lG2({type:pe,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return pe})(),q=(()=>{class pe{get offsetX(){return this._offsetX}set offsetX(be){this._offsetX=be,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(be){this._offsetY=be,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(be){this._hasBackdrop=(0,A.Ig)(be)}get lockPosition(){return this._lockPosition}set lockPosition(be){this._lockPosition=(0,A.Ig)(be)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(be){this._flexibleDimensions=(0,A.Ig)(be)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(be){this._growAfterOpen=(0,A.Ig)(be)}get push(){return this._push}set push(be){this._push=(0,A.Ig)(be)}constructor(be,Le,et,Qe,qe){this._overlay=be,this._dir=qe,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=P.w0.EMPTY,this._attachSubscription=P.w0.EMPTY,this._detachSubscription=P.w0.EMPTY,this._positionSubscription=P.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new b.vpe,this.positionChange=new b.vpe,this.attach=new b.vpe,this.detach=new b.vpe,this.overlayKeydown=new b.vpe,this.overlayOutsideClick=new b.vpe,this._templatePortal=new T.UE(Le,et),this._scrollStrategyFactory=Qe,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(be){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),be.origin&&this.open&&this._position.apply()),be.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ge);const be=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=be.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=be.detachments().subscribe(()=>this.detach.emit()),be.keydownEvents().subscribe(Le=>{this.overlayKeydown.next(Le),Le.keyCode===F.hY&&!this.disableClose&&!(0,F.Vb)(Le)&&(Le.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Le=>{this.overlayOutsideClick.next(Le)})}_buildConfig(){const be=this._position=this.positionStrategy||this._createPositionStrategy(),Le=new te({direction:this._dir,positionStrategy:be,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Le.width=this.width),(this.height||0===this.height)&&(Le.height=this.height),(this.minWidth||0===this.minWidth)&&(Le.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Le.minHeight=this.minHeight),this.backdropClass&&(Le.backdropClass=this.backdropClass),this.panelClass&&(Le.panelClass=this.panelClass),Le}_updatePositionStrategy(be){const Le=this.positions.map(et=>({originX:et.originX,originY:et.originY,overlayX:et.overlayX,overlayY:et.overlayY,offsetX:et.offsetX||this.offsetX,offsetY:et.offsetY||this.offsetY,panelClass:et.panelClass||void 0}));return be.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Le).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const be=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(be),be}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Q?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(be=>{this.backdropClick.emit(be)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function h(pe,Te=!1){return(0,d.e)((be,Le)=>{let et=0;be.subscribe((0,i.x)(Le,Qe=>{const qe=pe(Qe,et++);(qe||Te)&&Le.next(Qe),!qe&&Le.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(be=>{this.positionChange.emit(be),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(Le){return new(Le||pe)(b.Y36(se),b.Y36(b.Rgc),b.Y36(b.s_b),b.Y36(oe),b.Y36(p.Is,8))};static#t=this.\u0275dir=b.lG2({type:pe,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[b.TTD]})}return pe})();const ie={provide:oe,deps:[se],useFactory:function $(pe){return()=>pe.scrollStrategies.reposition()}};let Z=(()=>{class pe{static#e=this.\u0275fac=function(Le){return new(Le||pe)};static#t=this.\u0275mod=b.oAB({type:pe});static#n=this.\u0275inj=b.cJS({providers:[se,ie],imports:[p.vT,T.eL,e.Cl,e.Cl]})}return pe})()},2831:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Mq:()=>B,Oy:()=>S,ht:()=>D,i$:()=>h,kV:()=>O,qK:()=>g,sA:()=>I,t4:()=>A});var e=v(5879),n=v(6814);let b;try{b=typeof Intl<"u"&&Intl.v8BreakIterator}catch{b=!1}let x,A=(()=>{class L{constructor(U){this._platformId=U,this.isBrowser=this._platformId?(0,n.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!b)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(z){return new(z||L)(e.LFG(e.Lbi))};static#t=this.\u0275prov=e.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})();const w=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function g(){if(x)return x;if("object"!=typeof document||!document)return x=new Set(w),x;let L=document.createElement("input");return x=new Set(w.filter(C=>(L.setAttribute("type",C),L.type===C))),x}let d,T,k;function h(L){return function i(){if(null==d&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>d=!0}))}finally{d=d||!1}return d}()?L:!!L.capture}function B(){if(null==T){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return T=!1,T;if("scrollBehavior"in document.documentElement.style)T=!0;else{const L=Element.prototype.scrollTo;T=!!L&&!/\{\s*\[native code\]\s*\}/.test(L.toString())}}return T}function O(L){if(function F(){if(null==k){const L=typeof document<"u"?document.head:null;k=!(!L||!L.createShadowRoot&&!L.attachShadow)}return k}()){const C=L.getRootNode?L.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&C instanceof ShadowRoot)return C}return null}function D(){let L=typeof document<"u"&&document?document.activeElement:null;for(;L&&L.shadowRoot;){const C=L.shadowRoot.activeElement;if(C===L)break;L=C}return L}function I(L){return L.composedPath?L.composedPath()[0]:L.target}function S(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(Hn,Xe,v)=>{"use strict";v.d(Xe,{C5:()=>i,Pl:()=>D,UE:()=>h,eL:()=>S,en:()=>T,u0:()=>P});var e=v(5879),n=v(6814);class d{attach(U){return this._attachedHost=U,U.attach(this)}detach(){let U=this._attachedHost;null!=U&&(this._attachedHost=null,U.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(U){this._attachedHost=U}}class i extends d{constructor(U,z,ne,te,Me){super(),this.component=U,this.viewContainerRef=z,this.injector=ne,this.componentFactoryResolver=te,this.projectableNodes=Me}}class h extends d{constructor(U,z,ne,te){super(),this.templateRef=U,this.viewContainerRef=z,this.context=ne,this.injector=te}get origin(){return this.templateRef.elementRef}attach(U,z=this.context){return this.context=z,super.attach(U)}detach(){return this.context=void 0,super.detach()}}class p extends d{constructor(U){super(),this.element=U instanceof e.SBq?U.nativeElement:U}}class T{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(U){return U instanceof i?(this._attachedPortal=U,this.attachComponentPortal(U)):U instanceof h?(this._attachedPortal=U,this.attachTemplatePortal(U)):this.attachDomPortal&&U instanceof p?(this._attachedPortal=U,this.attachDomPortal(U)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(U){this._disposeFn=U}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class P extends T{constructor(U,z,ne,te,Me){super(),this.outletElement=U,this._componentFactoryResolver=z,this._appRef=ne,this._defaultInjector=te,this.attachDomPortal=J=>{const ce=J.element,W=this._document.createComment("dom-portal");ce.parentNode.insertBefore(W,ce),this.outletElement.appendChild(ce),this._attachedPortal=J,super.setDisposeFn(()=>{W.parentNode&&W.parentNode.replaceChild(ce,W)})},this._document=Me}attachComponentPortal(U){const ne=(U.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(U.component);let te;return U.viewContainerRef?(te=U.viewContainerRef.createComponent(ne,U.viewContainerRef.length,U.injector||U.viewContainerRef.injector,U.projectableNodes||void 0),this.setDisposeFn(()=>te.destroy())):(te=ne.create(U.injector||this._defaultInjector||e.zs3.NULL),this._appRef.attachView(te.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(te.hostView),te.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(te)),this._attachedPortal=U,te}attachTemplatePortal(U){let z=U.viewContainerRef,ne=z.createEmbeddedView(U.templateRef,U.context,{injector:U.injector});return ne.rootNodes.forEach(te=>this.outletElement.appendChild(te)),ne.detectChanges(),this.setDisposeFn(()=>{let te=z.indexOf(ne);-1!==te&&z.remove(te)}),this._attachedPortal=U,ne}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(U){return U.hostView.rootNodes[0]}}let D=(()=>{class C extends T{constructor(z,ne,te){super(),this._componentFactoryResolver=z,this._viewContainerRef=ne,this._isInitialized=!1,this.attached=new e.vpe,this.attachDomPortal=Me=>{const J=Me.element,ce=this._document.createComment("dom-portal");Me.setAttachedHost(this),J.parentNode.insertBefore(ce,J),this._getRootNode().appendChild(J),this._attachedPortal=Me,super.setDisposeFn(()=>{ce.parentNode&&ce.parentNode.replaceChild(J,ce)})},this._document=te}get portal(){return this._attachedPortal}set portal(z){this.hasAttached()&&!z&&!this._isInitialized||(this.hasAttached()&&super.detach(),z&&super.attach(z),this._attachedPortal=z||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(z){z.setAttachedHost(this);const ne=null!=z.viewContainerRef?z.viewContainerRef:this._viewContainerRef,Me=(z.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(z.component),J=ne.createComponent(Me,ne.length,z.injector||ne.injector,z.projectableNodes||void 0);return ne!==this._viewContainerRef&&this._getRootNode().appendChild(J.hostView.rootNodes[0]),super.setDisposeFn(()=>J.destroy()),this._attachedPortal=z,this._attachedRef=J,this.attached.emit(J),J}attachTemplatePortal(z){z.setAttachedHost(this);const ne=this._viewContainerRef.createEmbeddedView(z.templateRef,z.context,{injector:z.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=z,this._attachedRef=ne,this.attached.emit(ne),ne}_getRootNode(){const z=this._viewContainerRef.element.nativeElement;return z.nodeType===z.ELEMENT_NODE?z:z.parentNode}static#e=this.\u0275fac=function(ne){return new(ne||C)(e.Y36(e._Vd),e.Y36(e.s_b),e.Y36(n.K0))};static#t=this.\u0275dir=e.lG2({type:C,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[e.qOj]})}return C})(),S=(()=>{class C{static#e=this.\u0275fac=function(ne){return new(ne||C)};static#t=this.\u0275mod=e.oAB({type:C});static#n=this.\u0275inj=e.cJS({})}return C})()},799:(Hn,Xe,v)=>{"use strict";v.d(Xe,{ZD:()=>pe,mF:()=>Be,Cl:()=>Te,rL:()=>K});var e=v(2495),n=v(5879),b=v(8645),A=v(2096),_=v(5592),x=v(2438),w=v(1954),g=v(7394);const d={schedule(be){let Le=requestAnimationFrame,et=cancelAnimationFrame;const{delegate:Qe}=d;Qe&&(Le=Qe.requestAnimationFrame,et=Qe.cancelAnimationFrame);const qe=Le(ft=>{et=void 0,be(ft)});return new g.w0(()=>et?.(qe))},requestAnimationFrame(...be){const{delegate:Le}=d;return(Le?.requestAnimationFrame||requestAnimationFrame)(...be)},cancelAnimationFrame(...be){const{delegate:Le}=d;return(Le?.cancelAnimationFrame||cancelAnimationFrame)(...be)},delegate:void 0};var h=v(2631);new class p extends h.v{flush(Le){this._active=!0;const et=this._scheduled;this._scheduled=void 0;const{actions:Qe}=this;let qe;Le=Le||Qe.shift();do{if(qe=Le.execute(Le.state,Le.delay))break}while((Le=Qe[0])&&Le.id===et&&Qe.shift());if(this._active=!1,qe){for(;(Le=Qe[0])&&Le.id===et&&Qe.shift();)Le.unsubscribe();throw qe}}}(class i extends w.o{constructor(Le,et){super(Le,et),this.scheduler=Le,this.work=et}requestAsyncId(Le,et,Qe=0){return null!==Qe&&Qe>0?super.requestAsyncId(Le,et,Qe):(Le.actions.push(this),Le._scheduled||(Le._scheduled=d.requestAnimationFrame(()=>Le.flush(void 0))))}recycleAsyncId(Le,et,Qe=0){var qe;if(null!=Qe?Qe>0:this.delay>0)return super.recycleAsyncId(Le,et,Qe);const{actions:ft}=Le;null!=et&&(null===(qe=ft[ft.length-1])||void 0===qe?void 0:qe.id)!==et&&(d.cancelAnimationFrame(et),Le._scheduled=void 0)}});let k,P=1;const F={};function O(be){return be in F&&(delete F[be],!0)}const D={setImmediate(be){const Le=P++;return F[Le]=!0,k||(k=Promise.resolve()),k.then(()=>O(Le)&&be()),Le},clearImmediate(be){O(be)}},{setImmediate:S,clearImmediate:L}=D,C={setImmediate(...be){const{delegate:Le}=C;return(Le?.setImmediate||S)(...be)},clearImmediate(be){const{delegate:Le}=C;return(Le?.clearImmediate||L)(be)},delegate:void 0};new class z extends h.v{flush(Le){this._active=!0;const et=this._scheduled;this._scheduled=void 0;const{actions:Qe}=this;let qe;Le=Le||Qe.shift();do{if(qe=Le.execute(Le.state,Le.delay))break}while((Le=Qe[0])&&Le.id===et&&Qe.shift());if(this._active=!1,qe){for(;(Le=Qe[0])&&Le.id===et&&Qe.shift();)Le.unsubscribe();throw qe}}}(class U extends w.o{constructor(Le,et){super(Le,et),this.scheduler=Le,this.work=et}requestAsyncId(Le,et,Qe=0){return null!==Qe&&Qe>0?super.requestAsyncId(Le,et,Qe):(Le.actions.push(this),Le._scheduled||(Le._scheduled=C.setImmediate(Le.flush.bind(Le,void 0))))}recycleAsyncId(Le,et,Qe=0){var qe;if(null!=Qe?Qe>0:this.delay>0)return super.recycleAsyncId(Le,et,Qe);const{actions:ft}=Le;null!=et&&(null===(qe=ft[ft.length-1])||void 0===qe?void 0:qe.id)!==et&&(C.clearImmediate(et),Le._scheduled===et&&(Le._scheduled=void 0))}});var Me=v(6321),J=v(9360),ce=v(4829),W=v(8251),le=v(4825);function Ee(be,Le=Me.z){return function Se(be){return(0,J.e)((Le,et)=>{let Qe=!1,qe=null,ft=null,ze=!1;const ht=()=>{if(ft?.unsubscribe(),ft=null,Qe){Qe=!1;const de=qe;qe=null,et.next(de)}ze&&et.complete()},Et=()=>{ft=null,ze&&et.complete()};Le.subscribe((0,W.x)(et,de=>{Qe=!0,qe=de,ft||(0,ce.Xf)(be(de)).subscribe(ft=(0,W.x)(et,ht,Et))},()=>{ze=!0,(!Qe||!ft||ft.closed)&&et.complete()}))})}(()=>(0,le.H)(be,Le))}var xe=v(2181),Ve=v(2831),fe=v(6814),Pe=v(9388);let Be=(()=>{class be{constructor(et,Qe,qe){this._ngZone=et,this._platform=Qe,this._scrolled=new b.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=qe}register(et){this.scrollContainers.has(et)||this.scrollContainers.set(et,et.elementScrolled().subscribe(()=>this._scrolled.next(et)))}deregister(et){const Qe=this.scrollContainers.get(et);Qe&&(Qe.unsubscribe(),this.scrollContainers.delete(et))}scrolled(et=20){return this._platform.isBrowser?new _.y(Qe=>{this._globalSubscription||this._addGlobalListener();const qe=et>0?this._scrolled.pipe(Ee(et)).subscribe(Qe):this._scrolled.subscribe(Qe);return this._scrolledCount++,()=>{qe.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,A.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((et,Qe)=>this.deregister(Qe)),this._scrolled.complete()}ancestorScrolled(et,Qe){const qe=this.getAncestorScrollContainers(et);return this.scrolled(Qe).pipe((0,xe.h)(ft=>!ft||qe.indexOf(ft)>-1))}getAncestorScrollContainers(et){const Qe=[];return this.scrollContainers.forEach((qe,ft)=>{this._scrollableContainsElement(ft,et)&&Qe.push(ft)}),Qe}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(et,Qe){let qe=(0,e.fI)(Qe),ft=et.getElementRef().nativeElement;do{if(qe==ft)return!0}while(qe=qe.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const et=this._getWindow();return(0,x.R)(et.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(Qe){return new(Qe||be)(n.LFG(n.R0b),n.LFG(Ve.t4),n.LFG(fe.K0,8))};static#t=this.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})(),K=(()=>{class be{constructor(et,Qe,qe){this._platform=et,this._change=new b.x,this._changeListener=ft=>{this._change.next(ft)},this._document=qe,Qe.runOutsideAngular(()=>{if(et.isBrowser){const ft=this._getWindow();ft.addEventListener("resize",this._changeListener),ft.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const et=this._getWindow();et.removeEventListener("resize",this._changeListener),et.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const et={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),et}getViewportRect(){const et=this.getViewportScrollPosition(),{width:Qe,height:qe}=this.getViewportSize();return{top:et.top,left:et.left,bottom:et.top+qe,right:et.left+Qe,height:qe,width:Qe}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const et=this._document,Qe=this._getWindow(),qe=et.documentElement,ft=qe.getBoundingClientRect();return{top:-ft.top||et.body.scrollTop||Qe.scrollY||qe.scrollTop||0,left:-ft.left||et.body.scrollLeft||Qe.scrollX||qe.scrollLeft||0}}change(et=20){return et>0?this._change.pipe(Ee(et)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const et=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:et.innerWidth,height:et.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(Qe){return new(Qe||be)(n.LFG(Ve.t4),n.LFG(n.R0b),n.LFG(fe.K0,8))};static#t=this.\u0275prov=n.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})(),pe=(()=>{class be{static#e=this.\u0275fac=function(Qe){return new(Qe||be)};static#t=this.\u0275mod=n.oAB({type:be});static#n=this.\u0275inj=n.cJS({})}return be})(),Te=(()=>{class be{static#e=this.\u0275fac=function(Qe){return new(Qe||be)};static#t=this.\u0275mod=n.oAB({type:be});static#n=this.\u0275inj=n.cJS({imports:[Pe.vT,pe,Pe.vT,pe]})}return be})()},6814:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Do:()=>k,ED:()=>kr,EM:()=>ns,HT:()=>A,JF:()=>Fr,K0:()=>x,Mn:()=>Se,Mx:()=>Lt,NF:()=>Zo,O5:()=>Nt,Ov:()=>ts,PM:()=>xo,RF:()=>ci,S$:()=>T,Tn:()=>ne,UT:()=>le,V_:()=>g,Ye:()=>F,ax:()=>Ft,b0:()=>P,bD:()=>Ao,ez:()=>mo,mk:()=>$t,mr:()=>B,n9:()=>nr,p6:()=>Le,q:()=>b,sg:()=>Ft,tP:()=>fo,uU:()=>qi,w_:()=>_,x:()=>z});var e=v(5879);let n=null;function b(){return n}function A(Ge){n||(n=Ge)}class _{}const x=new e.OlP("DocumentToken");let w=(()=>{class Ge{historyGo(pt){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Mt){return new(Mt||Ge)};static#t=this.\u0275prov=e.Yz7({token:Ge,factory:function(){return(0,e.f3M)(d)},providedIn:"platform"})}return Ge})();const g=new e.OlP("Location Initialized");let d=(()=>{class Ge extends w{constructor(){super(),this._doc=(0,e.f3M)(x),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return b().getBaseHref(this._doc)}onPopState(pt){const Mt=b().getGlobalEventTarget(this._doc,"window");return Mt.addEventListener("popstate",pt,!1),()=>Mt.removeEventListener("popstate",pt)}onHashChange(pt){const Mt=b().getGlobalEventTarget(this._doc,"window");return Mt.addEventListener("hashchange",pt,!1),()=>Mt.removeEventListener("hashchange",pt)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(pt){this._location.pathname=pt}pushState(pt,Mt,ct){this._history.pushState(pt,Mt,ct)}replaceState(pt,Mt,ct){this._history.replaceState(pt,Mt,ct)}forward(){this._history.forward()}back(){this._history.back()}historyGo(pt=0){this._history.go(pt)}getState(){return this._history.state}static#e=this.\u0275fac=function(Mt){return new(Mt||Ge)};static#t=this.\u0275prov=e.Yz7({token:Ge,factory:function(){return new Ge},providedIn:"platform"})}return Ge})();function i(Ge,Vt){if(0==Ge.length)return Vt;if(0==Vt.length)return Ge;let pt=0;return Ge.endsWith("/")&&pt++,Vt.startsWith("/")&&pt++,2==pt?Ge+Vt.substring(1):1==pt?Ge+Vt:Ge+"/"+Vt}function h(Ge){const Vt=Ge.match(/#|\?|$/),pt=Vt&&Vt.index||Ge.length;return Ge.slice(0,pt-("/"===Ge[pt-1]?1:0))+Ge.slice(pt)}function p(Ge){return Ge&&"?"!==Ge[0]?"?"+Ge:Ge}let T=(()=>{class Ge{historyGo(pt){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Mt){return new(Mt||Ge)};static#t=this.\u0275prov=e.Yz7({token:Ge,factory:function(){return(0,e.f3M)(P)},providedIn:"root"})}return Ge})();const B=new e.OlP("appBaseHref");let P=(()=>{class Ge extends T{constructor(pt,Mt){super(),this._platformLocation=pt,this._removeListenerFns=[],this._baseHref=Mt??this._platformLocation.getBaseHrefFromDOM()??(0,e.f3M)(x).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(pt){this._removeListenerFns.push(this._platformLocation.onPopState(pt),this._platformLocation.onHashChange(pt))}getBaseHref(){return this._baseHref}prepareExternalUrl(pt){return i(this._baseHref,pt)}path(pt=!1){const Mt=this._platformLocation.pathname+p(this._platformLocation.search),ct=this._platformLocation.hash;return ct&&pt?`${Mt}${ct}`:Mt}pushState(pt,Mt,ct,In){const yn=this.prepareExternalUrl(ct+p(In));this._platformLocation.pushState(pt,Mt,yn)}replaceState(pt,Mt,ct,In){const yn=this.prepareExternalUrl(ct+p(In));this._platformLocation.replaceState(pt,Mt,yn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(pt=0){this._platformLocation.historyGo?.(pt)}static#e=this.\u0275fac=function(Mt){return new(Mt||Ge)(e.LFG(w),e.LFG(B,8))};static#t=this.\u0275prov=e.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),k=(()=>{class Ge extends T{constructor(pt,Mt){super(),this._platformLocation=pt,this._baseHref="",this._removeListenerFns=[],null!=Mt&&(this._baseHref=Mt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(pt){this._removeListenerFns.push(this._platformLocation.onPopState(pt),this._platformLocation.onHashChange(pt))}getBaseHref(){return this._baseHref}path(pt=!1){let Mt=this._platformLocation.hash;return null==Mt&&(Mt="#"),Mt.length>0?Mt.substring(1):Mt}prepareExternalUrl(pt){const Mt=i(this._baseHref,pt);return Mt.length>0?"#"+Mt:Mt}pushState(pt,Mt,ct,In){let yn=this.prepareExternalUrl(ct+p(In));0==yn.length&&(yn=this._platformLocation.pathname),this._platformLocation.pushState(pt,Mt,yn)}replaceState(pt,Mt,ct,In){let yn=this.prepareExternalUrl(ct+p(In));0==yn.length&&(yn=this._platformLocation.pathname),this._platformLocation.replaceState(pt,Mt,yn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(pt=0){this._platformLocation.historyGo?.(pt)}static#e=this.\u0275fac=function(Mt){return new(Mt||Ge)(e.LFG(w),e.LFG(B,8))};static#t=this.\u0275prov=e.Yz7({token:Ge,factory:Ge.\u0275fac})}return Ge})(),F=(()=>{class Ge{constructor(pt){this._subject=new e.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=pt;const Mt=this._locationStrategy.getBaseHref();this._basePath=function S(Ge){if(new RegExp("^(https?:)?//").test(Ge)){const[,pt]=Ge.split(/\/\/[^\/]+/);return pt}return Ge}(h(I(Mt))),this._locationStrategy.onPopState(ct=>{this._subject.emit({url:this.path(!0),pop:!0,state:ct.state,type:ct.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(pt=!1){return this.normalize(this._locationStrategy.path(pt))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(pt,Mt=""){return this.path()==this.normalize(pt+p(Mt))}normalize(pt){return Ge.stripTrailingSlash(function D(Ge,Vt){if(!Ge||!Vt.startsWith(Ge))return Vt;const pt=Vt.substring(Ge.length);return""===pt||["/",";","?","#"].includes(pt[0])?pt:Vt}(this._basePath,I(pt)))}prepareExternalUrl(pt){return pt&&"/"!==pt[0]&&(pt="/"+pt),this._locationStrategy.prepareExternalUrl(pt)}go(pt,Mt="",ct=null){this._locationStrategy.pushState(ct,"",pt,Mt),this._notifyUrlChangeListeners(this.prepareExternalUrl(pt+p(Mt)),ct)}replaceState(pt,Mt="",ct=null){this._locationStrategy.replaceState(ct,"",pt,Mt),this._notifyUrlChangeListeners(this.prepareExternalUrl(pt+p(Mt)),ct)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(pt=0){this._locationStrategy.historyGo?.(pt)}onUrlChange(pt){return this._urlChangeListeners.push(pt),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Mt=>{this._notifyUrlChangeListeners(Mt.url,Mt.state)})),()=>{const Mt=this._urlChangeListeners.indexOf(pt);this._urlChangeListeners.splice(Mt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(pt="",Mt){this._urlChangeListeners.forEach(ct=>ct(pt,Mt))}subscribe(pt,Mt,ct){return this._subject.subscribe({next:pt,error:Mt,complete:ct})}static#e=this.normalizeQueryParams=p;static#t=this.joinWithSlash=i;static#n=this.stripTrailingSlash=h;static#i=this.\u0275fac=function(Mt){return new(Mt||Ge)(e.LFG(T))};static#r=this.\u0275prov=e.Yz7({token:Ge,factory:function(){return function O(){return new F((0,e.LFG)(T))}()},providedIn:"root"})}return Ge})();function I(Ge){return Ge.replace(/\/index.html$/,"")}var z=function(Ge){return Ge[Ge.Format=0]="Format",Ge[Ge.Standalone=1]="Standalone",Ge}(z||{}),ne=function(Ge){return Ge[Ge.Narrow=0]="Narrow",Ge[Ge.Abbreviated=1]="Abbreviated",Ge[Ge.Wide=2]="Wide",Ge[Ge.Short=3]="Short",Ge}(ne||{}),te=function(Ge){return Ge[Ge.Short=0]="Short",Ge[Ge.Medium=1]="Medium",Ge[Ge.Long=2]="Long",Ge[Ge.Full=3]="Full",Ge}(te||{}),Me=function(Ge){return Ge[Ge.Decimal=0]="Decimal",Ge[Ge.Group=1]="Group",Ge[Ge.List=2]="List",Ge[Ge.PercentSign=3]="PercentSign",Ge[Ge.PlusSign=4]="PlusSign",Ge[Ge.MinusSign=5]="MinusSign",Ge[Ge.Exponential=6]="Exponential",Ge[Ge.SuperscriptingExponent=7]="SuperscriptingExponent",Ge[Ge.PerMille=8]="PerMille",Ge[Ge.Infinity=9]="Infinity",Ge[Ge.NaN=10]="NaN",Ge[Ge.TimeSeparator=11]="TimeSeparator",Ge[Ge.CurrencyDecimal=12]="CurrencyDecimal",Ge[Ge.CurrencyGroup=13]="CurrencyGroup",Ge}(Me||{});function Se(Ge,Vt,pt){const Mt=(0,e.cg1)(Ge),In=ge([Mt[e.wAp.DaysFormat],Mt[e.wAp.DaysStandalone]],Vt);return ge(In,pt)}function le(Ge,Vt,pt){const Mt=(0,e.cg1)(Ge),In=ge([Mt[e.wAp.MonthsFormat],Mt[e.wAp.MonthsStandalone]],Vt);return ge(In,pt)}function fe(Ge,Vt){return ge((0,e.cg1)(Ge)[e.wAp.DateFormat],Vt)}function Pe(Ge,Vt){return ge((0,e.cg1)(Ge)[e.wAp.TimeFormat],Vt)}function Ce(Ge,Vt){return ge((0,e.cg1)(Ge)[e.wAp.DateTimeFormat],Vt)}function me(Ge,Vt){const pt=(0,e.cg1)(Ge),Mt=pt[e.wAp.NumberSymbols][Vt];if(typeof Mt>"u"){if(Vt===Me.CurrencyDecimal)return pt[e.wAp.NumberSymbols][Me.Decimal];if(Vt===Me.CurrencyGroup)return pt[e.wAp.NumberSymbols][Me.Group]}return Mt}function ye(Ge){if(!Ge[e.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${Ge[e.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ge(Ge,Vt){for(let pt=Vt;pt>-1;pt--)if(typeof Ge[pt]<"u")return Ge[pt];throw new Error("Locale data API: locale data undefined")}function oe(Ge){const[Vt,pt]=Ge.split(":");return{hours:+Vt,minutes:+pt}}const ie=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Z={},X=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var pe=function(Ge){return Ge[Ge.Short=0]="Short",Ge[Ge.ShortGMT=1]="ShortGMT",Ge[Ge.Long=2]="Long",Ge[Ge.Extended=3]="Extended",Ge}(pe||{}),Te=function(Ge){return Ge[Ge.FullYear=0]="FullYear",Ge[Ge.Month=1]="Month",Ge[Ge.Date=2]="Date",Ge[Ge.Hours=3]="Hours",Ge[Ge.Minutes=4]="Minutes",Ge[Ge.Seconds=5]="Seconds",Ge[Ge.FractionalSeconds=6]="FractionalSeconds",Ge[Ge.Day=7]="Day",Ge}(Te||{}),be=function(Ge){return Ge[Ge.DayPeriods=0]="DayPeriods",Ge[Ge.Days=1]="Days",Ge[Ge.Months=2]="Months",Ge[Ge.Eras=3]="Eras",Ge}(be||{});function Le(Ge,Vt,pt,Mt){let ct=function ot(Ge){if(mt(Ge))return Ge;if("number"==typeof Ge&&!isNaN(Ge))return new Date(Ge);if("string"==typeof Ge){if(Ge=Ge.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Ge)){const[ct,In=1,yn=1]=Ge.split("-").map(mi=>+mi);return et(ct,In-1,yn)}const pt=parseFloat(Ge);if(!isNaN(Ge-pt))return new Date(pt);let Mt;if(Mt=Ge.match(ie))return function yt(Ge){const Vt=new Date(0);let pt=0,Mt=0;const ct=Ge[8]?Vt.setUTCFullYear:Vt.setFullYear,In=Ge[8]?Vt.setUTCHours:Vt.setHours;Ge[9]&&(pt=Number(Ge[9]+Ge[10]),Mt=Number(Ge[9]+Ge[11])),ct.call(Vt,Number(Ge[1]),Number(Ge[2])-1,Number(Ge[3]));const yn=Number(Ge[4]||0)-pt,mi=Number(Ge[5]||0)-Mt,Ji=Number(Ge[6]||0),Wi=Math.floor(1e3*parseFloat("0."+(Ge[7]||0)));return In.call(Vt,yn,mi,Ji,Wi),Vt}(Mt)}const Vt=new Date(Ge);if(!mt(Vt))throw new Error(`Unable to convert "${Ge}" into a date`);return Vt}(Ge);Vt=Qe(pt,Vt)||Vt;let mi,yn=[];for(;Vt;){if(mi=X.exec(Vt),!mi){yn.push(Vt);break}{yn=yn.concat(mi.slice(1));const rr=yn.pop();if(!rr)break;Vt=rr}}let Ji=ct.getTimezoneOffset();Mt&&(Ji=ke(Mt,Ji),ct=function rt(Ge,Vt,pt){const Mt=pt?-1:1,ct=Ge.getTimezoneOffset();return function Ke(Ge,Vt){return(Ge=new Date(Ge.getTime())).setMinutes(Ge.getMinutes()+Vt),Ge}(Ge,Mt*(ke(Vt,ct)-ct))}(ct,Mt,!0));let Wi="";return yn.forEach(rr=>{const Qi=function nt(Ge){if(vt[Ge])return vt[Ge];let Vt;switch(Ge){case"G":case"GG":case"GGG":Vt=de(be.Eras,ne.Abbreviated);break;case"GGGG":Vt=de(be.Eras,ne.Wide);break;case"GGGGG":Vt=de(be.Eras,ne.Narrow);break;case"y":Vt=ht(Te.FullYear,1,0,!1,!0);break;case"yy":Vt=ht(Te.FullYear,2,0,!0,!0);break;case"yyy":Vt=ht(Te.FullYear,3,0,!1,!0);break;case"yyyy":Vt=ht(Te.FullYear,4,0,!1,!0);break;case"Y":Vt=xt(1);break;case"YY":Vt=xt(2,!0);break;case"YYY":Vt=xt(3);break;case"YYYY":Vt=xt(4);break;case"M":case"L":Vt=ht(Te.Month,1,1);break;case"MM":case"LL":Vt=ht(Te.Month,2,1);break;case"MMM":Vt=de(be.Months,ne.Abbreviated);break;case"MMMM":Vt=de(be.Months,ne.Wide);break;case"MMMMM":Vt=de(be.Months,ne.Narrow);break;case"LLL":Vt=de(be.Months,ne.Abbreviated,z.Standalone);break;case"LLLL":Vt=de(be.Months,ne.Wide,z.Standalone);break;case"LLLLL":Vt=de(be.Months,ne.Narrow,z.Standalone);break;case"w":Vt=rn(1);break;case"ww":Vt=rn(2);break;case"W":Vt=rn(1,!0);break;case"d":Vt=ht(Te.Date,1);break;case"dd":Vt=ht(Te.Date,2);break;case"c":case"cc":Vt=ht(Te.Day,1);break;case"ccc":Vt=de(be.Days,ne.Abbreviated,z.Standalone);break;case"cccc":Vt=de(be.Days,ne.Wide,z.Standalone);break;case"ccccc":Vt=de(be.Days,ne.Narrow,z.Standalone);break;case"cccccc":Vt=de(be.Days,ne.Short,z.Standalone);break;case"E":case"EE":case"EEE":Vt=de(be.Days,ne.Abbreviated);break;case"EEEE":Vt=de(be.Days,ne.Wide);break;case"EEEEE":Vt=de(be.Days,ne.Narrow);break;case"EEEEEE":Vt=de(be.Days,ne.Short);break;case"a":case"aa":case"aaa":Vt=de(be.DayPeriods,ne.Abbreviated);break;case"aaaa":Vt=de(be.DayPeriods,ne.Wide);break;case"aaaaa":Vt=de(be.DayPeriods,ne.Narrow);break;case"b":case"bb":case"bbb":Vt=de(be.DayPeriods,ne.Abbreviated,z.Standalone,!0);break;case"bbbb":Vt=de(be.DayPeriods,ne.Wide,z.Standalone,!0);break;case"bbbbb":Vt=de(be.DayPeriods,ne.Narrow,z.Standalone,!0);break;case"B":case"BB":case"BBB":Vt=de(be.DayPeriods,ne.Abbreviated,z.Format,!0);break;case"BBBB":Vt=de(be.DayPeriods,ne.Wide,z.Format,!0);break;case"BBBBB":Vt=de(be.DayPeriods,ne.Narrow,z.Format,!0);break;case"h":Vt=ht(Te.Hours,1,-12);break;case"hh":Vt=ht(Te.Hours,2,-12);break;case"H":Vt=ht(Te.Hours,1);break;case"HH":Vt=ht(Te.Hours,2);break;case"m":Vt=ht(Te.Minutes,1);break;case"mm":Vt=ht(Te.Minutes,2);break;case"s":Vt=ht(Te.Seconds,1);break;case"ss":Vt=ht(Te.Seconds,2);break;case"S":Vt=ht(Te.FractionalSeconds,1);break;case"SS":Vt=ht(Te.FractionalSeconds,2);break;case"SSS":Vt=ht(Te.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Vt=bt(pe.Short);break;case"ZZZZZ":Vt=bt(pe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Vt=bt(pe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Vt=bt(pe.Long);break;default:return null}return vt[Ge]=Vt,Vt}(rr);Wi+=Qi?Qi(ct,pt,Ji):"''"===rr?"'":rr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Wi}function et(Ge,Vt,pt){const Mt=new Date(0);return Mt.setFullYear(Ge,Vt,pt),Mt.setHours(0,0,0),Mt}function Qe(Ge,Vt){const pt=function ce(Ge){return(0,e.cg1)(Ge)[e.wAp.LocaleId]}(Ge);if(Z[pt]=Z[pt]||{},Z[pt][Vt])return Z[pt][Vt];let Mt="";switch(Vt){case"shortDate":Mt=fe(Ge,te.Short);break;case"mediumDate":Mt=fe(Ge,te.Medium);break;case"longDate":Mt=fe(Ge,te.Long);break;case"fullDate":Mt=fe(Ge,te.Full);break;case"shortTime":Mt=Pe(Ge,te.Short);break;case"mediumTime":Mt=Pe(Ge,te.Medium);break;case"longTime":Mt=Pe(Ge,te.Long);break;case"fullTime":Mt=Pe(Ge,te.Full);break;case"short":const ct=Qe(Ge,"shortTime"),In=Qe(Ge,"shortDate");Mt=qe(Ce(Ge,te.Short),[ct,In]);break;case"medium":const yn=Qe(Ge,"mediumTime"),mi=Qe(Ge,"mediumDate");Mt=qe(Ce(Ge,te.Medium),[yn,mi]);break;case"long":const Ji=Qe(Ge,"longTime"),Wi=Qe(Ge,"longDate");Mt=qe(Ce(Ge,te.Long),[Ji,Wi]);break;case"full":const rr=Qe(Ge,"fullTime"),Qi=Qe(Ge,"fullDate");Mt=qe(Ce(Ge,te.Full),[rr,Qi])}return Mt&&(Z[pt][Vt]=Mt),Mt}function qe(Ge,Vt){return Vt&&(Ge=Ge.replace(/\{([^}]+)}/g,function(pt,Mt){return null!=Vt&&Mt in Vt?Vt[Mt]:pt})),Ge}function ft(Ge,Vt,pt="-",Mt,ct){let In="";(Ge<0||ct&&Ge<=0)&&(ct?Ge=1-Ge:(Ge=-Ge,In=pt));let yn=String(Ge);for(;yn.length<Vt;)yn="0"+yn;return Mt&&(yn=yn.slice(yn.length-Vt)),In+yn}function ht(Ge,Vt,pt=0,Mt=!1,ct=!1){return function(In,yn){let mi=function Et(Ge,Vt){switch(Ge){case Te.FullYear:return Vt.getFullYear();case Te.Month:return Vt.getMonth();case Te.Date:return Vt.getDate();case Te.Hours:return Vt.getHours();case Te.Minutes:return Vt.getMinutes();case Te.Seconds:return Vt.getSeconds();case Te.FractionalSeconds:return Vt.getMilliseconds();case Te.Day:return Vt.getDay();default:throw new Error(`Unknown DateType value "${Ge}".`)}}(Ge,In);if((pt>0||mi>-pt)&&(mi+=pt),Ge===Te.Hours)0===mi&&-12===pt&&(mi=12);else if(Ge===Te.FractionalSeconds)return function ze(Ge,Vt){return ft(Ge,3).substring(0,Vt)}(mi,Vt);const Ji=me(yn,Me.MinusSign);return ft(mi,Vt,Ji,Mt,ct)}}function de(Ge,Vt,pt=z.Format,Mt=!1){return function(ct,In){return function He(Ge,Vt,pt,Mt,ct,In){switch(pt){case be.Months:return le(Vt,ct,Mt)[Ge.getMonth()];case be.Days:return Se(Vt,ct,Mt)[Ge.getDay()];case be.DayPeriods:const yn=Ge.getHours(),mi=Ge.getMinutes();if(In){const Wi=function ve(Ge){const Vt=(0,e.cg1)(Ge);return ye(Vt),(Vt[e.wAp.ExtraData][2]||[]).map(Mt=>"string"==typeof Mt?oe(Mt):[oe(Mt[0]),oe(Mt[1])])}(Vt),rr=function K(Ge,Vt,pt){const Mt=(0,e.cg1)(Ge);ye(Mt);const In=ge([Mt[e.wAp.ExtraData][0],Mt[e.wAp.ExtraData][1]],Vt)||[];return ge(In,pt)||[]}(Vt,ct,Mt),Qi=Wi.findIndex($r=>{if(Array.isArray($r)){const[An,Ir]=$r,Mo=yn>=An.hours&&mi>=An.minutes,vi=yn<Ir.hours||yn===Ir.hours&&mi<Ir.minutes;if(An.hours<Ir.hours){if(Mo&&vi)return!0}else if(Mo||vi)return!0}else if($r.hours===yn&&$r.minutes===mi)return!0;return!1});if(-1!==Qi)return rr[Qi]}return function W(Ge,Vt,pt){const Mt=(0,e.cg1)(Ge),In=ge([Mt[e.wAp.DayPeriodsFormat],Mt[e.wAp.DayPeriodsStandalone]],Vt);return ge(In,pt)}(Vt,ct,Mt)[yn<12?0:1];case be.Eras:return function Ee(Ge,Vt){return ge((0,e.cg1)(Ge)[e.wAp.Eras],Vt)}(Vt,Mt)[Ge.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${pt}`)}}(ct,In,Ge,Vt,pt,Mt)}}function bt(Ge){return function(Vt,pt,Mt){const ct=-1*Mt,In=me(pt,Me.MinusSign),yn=ct>0?Math.floor(ct/60):Math.ceil(ct/60);switch(Ge){case pe.Short:return(ct>=0?"+":"")+ft(yn,2,In)+ft(Math.abs(ct%60),2,In);case pe.ShortGMT:return"GMT"+(ct>=0?"+":"")+ft(yn,1,In);case pe.Long:return"GMT"+(ct>=0?"+":"")+ft(yn,2,In)+":"+ft(Math.abs(ct%60),2,In);case pe.Extended:return 0===Mt?"Z":(ct>=0?"+":"")+ft(yn,2,In)+":"+ft(Math.abs(ct%60),2,In);default:throw new Error(`Unknown zone width "${Ge}"`)}}}const Ut=0,Zt=4;function pn(Ge){return et(Ge.getFullYear(),Ge.getMonth(),Ge.getDate()+(Zt-Ge.getDay()))}function rn(Ge,Vt=!1){return function(pt,Mt){let ct;if(Vt){const In=new Date(pt.getFullYear(),pt.getMonth(),1).getDay()-1,yn=pt.getDate();ct=1+Math.floor((yn+In)/7)}else{const In=pn(pt),yn=function Kt(Ge){const Vt=et(Ge,Ut,1).getDay();return et(Ge,0,1+(Vt<=Zt?Zt:Zt+7)-Vt)}(In.getFullYear()),mi=In.getTime()-yn.getTime();ct=1+Math.round(mi/6048e5)}return ft(ct,Ge,me(Mt,Me.MinusSign))}}function xt(Ge,Vt=!1){return function(pt,Mt){return ft(pn(pt).getFullYear(),Ge,me(Mt,Me.MinusSign),Vt)}}const vt={};function ke(Ge,Vt){Ge=Ge.replace(/:/g,"");const pt=Date.parse("Jan 01, 1970 00:00:00 "+Ge)/6e4;return isNaN(pt)?Vt:pt}function mt(Ge){return Ge instanceof Date&&!isNaN(Ge.valueOf())}function Lt(Ge,Vt){Vt=encodeURIComponent(Vt);for(const pt of Ge.split(";")){const Mt=pt.indexOf("="),[ct,In]=-1==Mt?[pt,""]:[pt.slice(0,Mt),pt.slice(Mt+1)];if(ct.trim()===Vt)return decodeURIComponent(In)}return null}const Ct=/\s+/,Pt=[];let $t=(()=>{class Ge{constructor(pt,Mt,ct,In){this._iterableDiffers=pt,this._keyValueDiffers=Mt,this._ngEl=ct,this._renderer=In,this.initialClasses=Pt,this.stateMap=new Map}set klass(pt){this.initialClasses=null!=pt?pt.trim().split(Ct):Pt}set ngClass(pt){this.rawClass="string"==typeof pt?pt.trim().split(Ct):pt}ngDoCheck(){for(const Mt of this.initialClasses)this._updateState(Mt,!0);const pt=this.rawClass;if(Array.isArray(pt)||pt instanceof Set)for(const Mt of pt)this._updateState(Mt,!0);else if(null!=pt)for(const Mt of Object.keys(pt))this._updateState(Mt,!!pt[Mt]);this._applyStateDiff()}_updateState(pt,Mt){const ct=this.stateMap.get(pt);void 0!==ct?(ct.enabled!==Mt&&(ct.changed=!0,ct.enabled=Mt),ct.touched=!0):this.stateMap.set(pt,{enabled:Mt,changed:!0,touched:!0})}_applyStateDiff(){for(const pt of this.stateMap){const Mt=pt[0],ct=pt[1];ct.changed?(this._toggleClass(Mt,ct.enabled),ct.changed=!1):ct.touched||(ct.enabled&&this._toggleClass(Mt,!1),this.stateMap.delete(Mt)),ct.touched=!1}}_toggleClass(pt,Mt){(pt=pt.trim()).length>0&&pt.split(Ct).forEach(ct=>{Mt?this._renderer.addClass(this._ngEl.nativeElement,ct):this._renderer.removeClass(this._ngEl.nativeElement,ct)})}static#e=this.\u0275fac=function(Mt){return new(Mt||Ge)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))};static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return Ge})();class Vn{constructor(Vt,pt,Mt,ct){this.$implicit=Vt,this.ngForOf=pt,this.index=Mt,this.count=ct}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ft=(()=>{class Ge{set ngForOf(pt){this._ngForOf=pt,this._ngForOfDirty=!0}set ngForTrackBy(pt){this._trackByFn=pt}get ngForTrackBy(){return this._trackByFn}constructor(pt,Mt,ct){this._viewContainer=pt,this._template=Mt,this._differs=ct,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(pt){pt&&(this._template=pt)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const pt=this._ngForOf;!this._differ&&pt&&(this._differ=this._differs.find(pt).create(this.ngForTrackBy))}if(this._differ){const pt=this._differ.diff(this._ngForOf);pt&&this._applyChanges(pt)}}_applyChanges(pt){const Mt=this._viewContainer;pt.forEachOperation((ct,In,yn)=>{if(null==ct.previousIndex)Mt.createEmbeddedView(this._template,new Vn(ct.item,this._ngForOf,-1,-1),null===yn?void 0:yn);else if(null==yn)Mt.remove(null===In?void 0:In);else if(null!==In){const mi=Mt.get(In);Mt.move(mi,yn),Cn(mi,ct)}});for(let ct=0,In=Mt.length;ct<In;ct++){const mi=Mt.get(ct).context;mi.index=ct,mi.count=In,mi.ngForOf=this._ngForOf}pt.forEachIdentityChange(ct=>{Cn(Mt.get(ct.currentIndex),ct)})}static ngTemplateContextGuard(pt,Mt){return!0}static#e=this.\u0275fac=function(Mt){return new(Mt||Ge)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))};static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return Ge})();function Cn(Ge,Vt){Ge.context.$implicit=Vt.item}let Nt=(()=>{class Ge{constructor(pt,Mt){this._viewContainer=pt,this._context=new At,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Mt}set ngIf(pt){this._context.$implicit=this._context.ngIf=pt,this._updateView()}set ngIfThen(pt){en("ngIfThen",pt),this._thenTemplateRef=pt,this._thenViewRef=null,this._updateView()}set ngIfElse(pt){en("ngIfElse",pt),this._elseTemplateRef=pt,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(pt,Mt){return!0}static#e=this.\u0275fac=function(Mt){return new(Mt||Ge)(e.Y36(e.s_b),e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return Ge})();class At{constructor(){this.$implicit=null,this.ngIf=null}}function en(Ge,Vt){if(Vt&&!Vt.createEmbeddedView)throw new Error(`${Ge} must be a TemplateRef, but received '${(0,e.AaK)(Vt)}'.`)}class wn{constructor(Vt,pt){this._viewContainerRef=Vt,this._templateRef=pt,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Vt){Vt&&!this._created?this.create():!Vt&&this._created&&this.destroy()}}let ci=(()=>{class Ge{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(pt){this._ngSwitch=pt,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(pt){this._defaultViews.push(pt)}_matchCase(pt){const Mt=pt==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Mt,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Mt}_updateDefaultCases(pt){if(this._defaultViews.length>0&&pt!==this._defaultUsed){this._defaultUsed=pt;for(const Mt of this._defaultViews)Mt.enforceState(pt)}}static#e=this.\u0275fac=function(Mt){return new(Mt||Ge)};static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return Ge})(),nr=(()=>{class Ge{constructor(pt,Mt,ct){this.ngSwitch=ct,ct._addCase(),this._view=new wn(pt,Mt)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(Mt){return new(Mt||Ge)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(ci,9))};static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return Ge})(),kr=(()=>{class Ge{constructor(pt,Mt,ct){ct._addDefault(new wn(pt,Mt))}static#e=this.\u0275fac=function(Mt){return new(Mt||Ge)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(ci,9))};static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return Ge})(),fo=(()=>{class Ge{constructor(pt){this._viewContainerRef=pt,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(pt){if(pt.ngTemplateOutlet||pt.ngTemplateOutletInjector){const Mt=this._viewContainerRef;if(this._viewRef&&Mt.remove(Mt.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ct,ngTemplateOutletContext:In,ngTemplateOutletInjector:yn}=this;this._viewRef=Mt.createEmbeddedView(ct,In,yn?{injector:yn}:void 0)}else this._viewRef=null}else this._viewRef&&pt.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(Mt){return new(Mt||Ge)(e.Y36(e.s_b))};static#t=this.\u0275dir=e.lG2({type:Ge,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[e.TTD]})}return Ge})();function Li(Ge,Vt){return new e.vHH(2100,!1)}class er{createSubscription(Vt,pt){return(0,e.rg0)(()=>Vt.subscribe({next:pt,error:Mt=>{throw Mt}}))}dispose(Vt){(0,e.rg0)(()=>Vt.unsubscribe())}}class ir{createSubscription(Vt,pt){return Vt.then(pt,Mt=>{throw Mt})}dispose(Vt){}}const ho=new ir,Dr=new er;let ts=(()=>{class Ge{constructor(pt){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=pt}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(pt){return this._obj?pt!==this._obj?(this._dispose(),this.transform(pt)):this._latestValue:(pt&&this._subscribe(pt),this._latestValue)}_subscribe(pt){this._obj=pt,this._strategy=this._selectStrategy(pt),this._subscription=this._strategy.createSubscription(pt,Mt=>this._updateLatestValue(pt,Mt))}_selectStrategy(pt){if((0,e.QGY)(pt))return ho;if((0,e.F4k)(pt))return Dr;throw Li()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(pt,Mt){pt===this._obj&&(this._latestValue=Mt,this._ref.markForCheck())}static#e=this.\u0275fac=function(Mt){return new(Mt||Ge)(e.Y36(e.sBO,16))};static#t=this.\u0275pipe=e.Yjl({name:"async",type:Ge,pure:!1,standalone:!0})}return Ge})();const _i=new e.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ni=new e.OlP("DATE_PIPE_DEFAULT_OPTIONS");let qi=(()=>{class Ge{constructor(pt,Mt,ct){this.locale=pt,this.defaultTimezone=Mt,this.defaultOptions=ct}transform(pt,Mt,ct,In){if(null==pt||""===pt||pt!=pt)return null;try{return Le(pt,Mt??this.defaultOptions?.dateFormat??"mediumDate",In||this.locale,ct??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(yn){throw Li()}}static#e=this.\u0275fac=function(Mt){return new(Mt||Ge)(e.Y36(e.soG,16),e.Y36(_i,24),e.Y36(Ni,24))};static#t=this.\u0275pipe=e.Yjl({name:"date",type:Ge,pure:!0,standalone:!0})}return Ge})(),mo=(()=>{class Ge{static#e=this.\u0275fac=function(Mt){return new(Mt||Ge)};static#t=this.\u0275mod=e.oAB({type:Ge});static#n=this.\u0275inj=e.cJS({})}return Ge})();const Ao="browser",Ps="server";function Zo(Ge){return Ge===Ao}function xo(Ge){return Ge===Ps}let ns=(()=>{class Ge{static#e=this.\u0275prov=(0,e.Yz7)({token:Ge,providedIn:"root",factory:()=>new To((0,e.LFG)(x),window)})}return Ge})();class To{constructor(Vt,pt){this.document=Vt,this.window=pt,this.offset=()=>[0,0]}setOffset(Vt){this.offset=Array.isArray(Vt)?()=>Vt:Vt}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Vt){this.supportsScrolling()&&this.window.scrollTo(Vt[0],Vt[1])}scrollToAnchor(Vt){if(!this.supportsScrolling())return;const pt=function cs(Ge,Vt){const pt=Ge.getElementById(Vt)||Ge.getElementsByName(Vt)[0];if(pt)return pt;if("function"==typeof Ge.createTreeWalker&&Ge.body&&"function"==typeof Ge.body.attachShadow){const Mt=Ge.createTreeWalker(Ge.body,NodeFilter.SHOW_ELEMENT);let ct=Mt.currentNode;for(;ct;){const In=ct.shadowRoot;if(In){const yn=In.getElementById(Vt)||In.querySelector(`[name="${Vt}"]`);if(yn)return yn}ct=Mt.nextNode()}}return null}(this.document,Vt);pt&&(this.scrollToElement(pt),pt.focus())}setHistoryScrollRestoration(Vt){if(this.supportScrollRestoration()){const pt=this.window.history;pt&&pt.scrollRestoration&&(pt.scrollRestoration=Vt)}}scrollToElement(Vt){const pt=Vt.getBoundingClientRect(),Mt=pt.left+this.window.pageXOffset,ct=pt.top+this.window.pageYOffset,In=this.offset();this.window.scrollTo(Mt-In[0],ct-In[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Vt=is(this.window.history)||is(Object.getPrototypeOf(this.window.history));return!(!Vt||!Vt.writable&&!Vt.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function is(Ge){return Object.getOwnPropertyDescriptor(Ge,"scrollRestoration")}class Fr{}},9862:(Hn,Xe,v)=>{"use strict";v.d(Xe,{JF:()=>_t,WM:()=>T,eN:()=>Ve});var e=v(5879),n=v(2096),b=v(2459),A=v(5592),_=v(6328),x=v(2181),w=v(7398),g=v(4716),d=v(4664),i=v(6814);class h{}class p{}class T{constructor(ln){this.normalizedNames=new Map,this.lazyUpdate=null,ln?"string"==typeof ln?this.lazyInit=()=>{this.headers=new Map,ln.split("\n").forEach(un=>{const sn=un.indexOf(":");if(sn>0){const cn=un.slice(0,sn),St=cn.toLowerCase(),dt=un.slice(sn+1).trim();this.maybeSetNormalizedName(cn,St),this.headers.has(St)?this.headers.get(St).push(dt):this.headers.set(St,[dt])}})}:typeof Headers<"u"&&ln instanceof Headers?(this.headers=new Map,ln.forEach((un,sn)=>{this.setHeaderEntries(sn,un)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ln).forEach(([un,sn])=>{this.setHeaderEntries(un,sn)})}:this.headers=new Map}has(ln){return this.init(),this.headers.has(ln.toLowerCase())}get(ln){this.init();const un=this.headers.get(ln.toLowerCase());return un&&un.length>0?un[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ln){return this.init(),this.headers.get(ln.toLowerCase())||null}append(ln,un){return this.clone({name:ln,value:un,op:"a"})}set(ln,un){return this.clone({name:ln,value:un,op:"s"})}delete(ln,un){return this.clone({name:ln,value:un,op:"d"})}maybeSetNormalizedName(ln,un){this.normalizedNames.has(un)||this.normalizedNames.set(un,ln)}init(){this.lazyInit&&(this.lazyInit instanceof T?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ln=>this.applyUpdate(ln)),this.lazyUpdate=null))}copyFrom(ln){ln.init(),Array.from(ln.headers.keys()).forEach(un=>{this.headers.set(un,ln.headers.get(un)),this.normalizedNames.set(un,ln.normalizedNames.get(un))})}clone(ln){const un=new T;return un.lazyInit=this.lazyInit&&this.lazyInit instanceof T?this.lazyInit:this,un.lazyUpdate=(this.lazyUpdate||[]).concat([ln]),un}applyUpdate(ln){const un=ln.name.toLowerCase();switch(ln.op){case"a":case"s":let sn=ln.value;if("string"==typeof sn&&(sn=[sn]),0===sn.length)return;this.maybeSetNormalizedName(ln.name,un);const cn=("a"===ln.op?this.headers.get(un):void 0)||[];cn.push(...sn),this.headers.set(un,cn);break;case"d":const St=ln.value;if(St){let dt=this.headers.get(un);if(!dt)return;dt=dt.filter(hn=>-1===St.indexOf(hn)),0===dt.length?(this.headers.delete(un),this.normalizedNames.delete(un)):this.headers.set(un,dt)}else this.headers.delete(un),this.normalizedNames.delete(un)}}setHeaderEntries(ln,un){const sn=(Array.isArray(un)?un:[un]).map(St=>St.toString()),cn=ln.toLowerCase();this.headers.set(cn,sn),this.maybeSetNormalizedName(ln,cn)}forEach(ln){this.init(),Array.from(this.normalizedNames.keys()).forEach(un=>ln(this.normalizedNames.get(un),this.headers.get(un)))}}class P{encodeKey(ln){return D(ln)}encodeValue(ln){return D(ln)}decodeKey(ln){return decodeURIComponent(ln)}decodeValue(ln){return decodeURIComponent(ln)}}const F=/%(\d[a-f0-9])/gi,O={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function D(dn){return encodeURIComponent(dn).replace(F,(ln,un)=>O[un]??ln)}function I(dn){return`${dn}`}class S{constructor(ln={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ln.encoder||new P,ln.fromString){if(ln.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function k(dn,ln){const un=new Map;return dn.length>0&&dn.replace(/^\?/,"").split("&").forEach(cn=>{const St=cn.indexOf("="),[dt,hn]=-1==St?[ln.decodeKey(cn),""]:[ln.decodeKey(cn.slice(0,St)),ln.decodeValue(cn.slice(St+1))],$e=un.get(dt)||[];$e.push(hn),un.set(dt,$e)}),un}(ln.fromString,this.encoder)}else ln.fromObject?(this.map=new Map,Object.keys(ln.fromObject).forEach(un=>{const sn=ln.fromObject[un],cn=Array.isArray(sn)?sn.map(I):[I(sn)];this.map.set(un,cn)})):this.map=null}has(ln){return this.init(),this.map.has(ln)}get(ln){this.init();const un=this.map.get(ln);return un?un[0]:null}getAll(ln){return this.init(),this.map.get(ln)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ln,un){return this.clone({param:ln,value:un,op:"a"})}appendAll(ln){const un=[];return Object.keys(ln).forEach(sn=>{const cn=ln[sn];Array.isArray(cn)?cn.forEach(St=>{un.push({param:sn,value:St,op:"a"})}):un.push({param:sn,value:cn,op:"a"})}),this.clone(un)}set(ln,un){return this.clone({param:ln,value:un,op:"s"})}delete(ln,un){return this.clone({param:ln,value:un,op:"d"})}toString(){return this.init(),this.keys().map(ln=>{const un=this.encoder.encodeKey(ln);return this.map.get(ln).map(sn=>un+"="+this.encoder.encodeValue(sn)).join("&")}).filter(ln=>""!==ln).join("&")}clone(ln){const un=new S({encoder:this.encoder});return un.cloneFrom=this.cloneFrom||this,un.updates=(this.updates||[]).concat(ln),un}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ln=>this.map.set(ln,this.cloneFrom.map.get(ln))),this.updates.forEach(ln=>{switch(ln.op){case"a":case"s":const un=("a"===ln.op?this.map.get(ln.param):void 0)||[];un.push(I(ln.value)),this.map.set(ln.param,un);break;case"d":if(void 0===ln.value){this.map.delete(ln.param);break}{let sn=this.map.get(ln.param)||[];const cn=sn.indexOf(I(ln.value));-1!==cn&&sn.splice(cn,1),sn.length>0?this.map.set(ln.param,sn):this.map.delete(ln.param)}}}),this.cloneFrom=this.updates=null)}}class C{constructor(){this.map=new Map}set(ln,un){return this.map.set(ln,un),this}get(ln){return this.map.has(ln)||this.map.set(ln,ln.defaultValue()),this.map.get(ln)}delete(ln){return this.map.delete(ln),this}has(ln){return this.map.has(ln)}keys(){return this.map.keys()}}function z(dn){return typeof ArrayBuffer<"u"&&dn instanceof ArrayBuffer}function ne(dn){return typeof Blob<"u"&&dn instanceof Blob}function te(dn){return typeof FormData<"u"&&dn instanceof FormData}class J{constructor(ln,un,sn,cn){let St;if(this.url=un,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ln.toUpperCase(),function U(dn){switch(dn){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||cn?(this.body=void 0!==sn?sn:null,St=cn):St=sn,St&&(this.reportProgress=!!St.reportProgress,this.withCredentials=!!St.withCredentials,St.responseType&&(this.responseType=St.responseType),St.headers&&(this.headers=St.headers),St.context&&(this.context=St.context),St.params&&(this.params=St.params)),this.headers||(this.headers=new T),this.context||(this.context=new C),this.params){const dt=this.params.toString();if(0===dt.length)this.urlWithParams=un;else{const hn=un.indexOf("?");this.urlWithParams=un+(-1===hn?"?":hn<un.length-1?"&":"")+dt}}else this.params=new S,this.urlWithParams=un}serializeBody(){return null===this.body?null:z(this.body)||ne(this.body)||te(this.body)||function Me(dn){return typeof URLSearchParams<"u"&&dn instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof S?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||te(this.body)?null:ne(this.body)?this.body.type||null:z(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof S?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ln={}){const un=ln.method||this.method,sn=ln.url||this.url,cn=ln.responseType||this.responseType,St=void 0!==ln.body?ln.body:this.body,dt=void 0!==ln.withCredentials?ln.withCredentials:this.withCredentials,hn=void 0!==ln.reportProgress?ln.reportProgress:this.reportProgress;let $e=ln.headers||this.headers,Tt=ln.params||this.params;const Yt=ln.context??this.context;return void 0!==ln.setHeaders&&($e=Object.keys(ln.setHeaders).reduce((Rt,bn)=>Rt.set(bn,ln.setHeaders[bn]),$e)),ln.setParams&&(Tt=Object.keys(ln.setParams).reduce((Rt,bn)=>Rt.set(bn,ln.setParams[bn]),Tt)),new J(un,sn,St,{params:Tt,headers:$e,context:Yt,reportProgress:hn,responseType:cn,withCredentials:dt})}}var ce=function(dn){return dn[dn.Sent=0]="Sent",dn[dn.UploadProgress=1]="UploadProgress",dn[dn.ResponseHeader=2]="ResponseHeader",dn[dn.DownloadProgress=3]="DownloadProgress",dn[dn.Response=4]="Response",dn[dn.User=5]="User",dn}(ce||{});class W{constructor(ln,un=200,sn="OK"){this.headers=ln.headers||new T,this.status=void 0!==ln.status?ln.status:un,this.statusText=ln.statusText||sn,this.url=ln.url||null,this.ok=this.status>=200&&this.status<300}}class Se extends W{constructor(ln={}){super(ln),this.type=ce.ResponseHeader}clone(ln={}){return new Se({headers:ln.headers||this.headers,status:void 0!==ln.status?ln.status:this.status,statusText:ln.statusText||this.statusText,url:ln.url||this.url||void 0})}}class le extends W{constructor(ln={}){super(ln),this.type=ce.Response,this.body=void 0!==ln.body?ln.body:null}clone(ln={}){return new le({body:void 0!==ln.body?ln.body:this.body,headers:ln.headers||this.headers,status:void 0!==ln.status?ln.status:this.status,statusText:ln.statusText||this.statusText,url:ln.url||this.url||void 0})}}class Ee extends W{constructor(ln){super(ln,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ln.url||"(unknown url)"}`:`Http failure response for ${ln.url||"(unknown url)"}: ${ln.status} ${ln.statusText}`,this.error=ln.error||null}}function xe(dn,ln){return{body:ln,headers:dn.headers,context:dn.context,observe:dn.observe,params:dn.params,reportProgress:dn.reportProgress,responseType:dn.responseType,withCredentials:dn.withCredentials}}let Ve=(()=>{class dn{constructor(un){this.handler=un}request(un,sn,cn={}){let St;if(un instanceof J)St=un;else{let $e,Tt;$e=cn.headers instanceof T?cn.headers:new T(cn.headers),cn.params&&(Tt=cn.params instanceof S?cn.params:new S({fromObject:cn.params})),St=new J(un,sn,void 0!==cn.body?cn.body:null,{headers:$e,context:cn.context,params:Tt,reportProgress:cn.reportProgress,responseType:cn.responseType||"json",withCredentials:cn.withCredentials})}const dt=(0,n.of)(St).pipe((0,_.b)($e=>this.handler.handle($e)));if(un instanceof J||"events"===cn.observe)return dt;const hn=dt.pipe((0,x.h)($e=>$e instanceof le));switch(cn.observe||"body"){case"body":switch(St.responseType){case"arraybuffer":return hn.pipe((0,w.U)($e=>{if(null!==$e.body&&!($e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return $e.body}));case"blob":return hn.pipe((0,w.U)($e=>{if(null!==$e.body&&!($e.body instanceof Blob))throw new Error("Response is not a Blob.");return $e.body}));case"text":return hn.pipe((0,w.U)($e=>{if(null!==$e.body&&"string"!=typeof $e.body)throw new Error("Response is not a string.");return $e.body}));default:return hn.pipe((0,w.U)($e=>$e.body))}case"response":return hn;default:throw new Error(`Unreachable: unhandled observe type ${cn.observe}}`)}}delete(un,sn={}){return this.request("DELETE",un,sn)}get(un,sn={}){return this.request("GET",un,sn)}head(un,sn={}){return this.request("HEAD",un,sn)}jsonp(un,sn){return this.request("JSONP",un,{params:(new S).append(sn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(un,sn={}){return this.request("OPTIONS",un,sn)}patch(un,sn,cn={}){return this.request("PATCH",un,xe(cn,sn))}post(un,sn,cn={}){return this.request("POST",un,xe(cn,sn))}put(un,sn,cn={}){return this.request("PUT",un,xe(cn,sn))}static#e=this.\u0275fac=function(sn){return new(sn||dn)(e.LFG(h))};static#t=this.\u0275prov=e.Yz7({token:dn,factory:dn.\u0275fac})}return dn})();function Ne(dn,ln){return ln(dn)}function at(dn,ln){return(un,sn)=>ln.intercept(un,{handle:cn=>dn(cn,sn)})}const ye=new e.OlP(""),ve=new e.OlP(""),K=new e.OlP("");function se(){let dn=null;return(ln,un)=>{null===dn&&(dn=((0,e.f3M)(ye,{optional:!0})??[]).reduceRight(at,Ne));const sn=(0,e.f3M)(e.HDt),cn=sn.add();return dn(ln,un).pipe((0,g.x)(()=>sn.remove(cn)))}}let ge=(()=>{class dn extends h{constructor(un,sn){super(),this.backend=un,this.injector=sn,this.chain=null,this.pendingTasks=(0,e.f3M)(e.HDt)}handle(un){if(null===this.chain){const cn=Array.from(new Set([...this.injector.get(ve),...this.injector.get(K,[])]));this.chain=cn.reduceRight((St,dt)=>function Be(dn,ln,un){return(sn,cn)=>un.runInContext(()=>ln(sn,St=>dn(St,cn)))}(St,dt,this.injector),Ne)}const sn=this.pendingTasks.add();return this.chain(un,cn=>this.backend.handle(cn)).pipe((0,g.x)(()=>this.pendingTasks.remove(sn)))}static#e=this.\u0275fac=function(sn){return new(sn||dn)(e.LFG(p),e.LFG(e.lqb))};static#t=this.\u0275prov=e.Yz7({token:dn,factory:dn.\u0275fac})}return dn})();const et=/^\)\]\}',?\n/;let qe=(()=>{class dn{constructor(un){this.xhrFactory=un}handle(un){if("JSONP"===un.method)throw new e.vHH(-2800,!1);const sn=this.xhrFactory;return(sn.\u0275loadImpl?(0,b.D)(sn.\u0275loadImpl()):(0,n.of)(null)).pipe((0,d.w)(()=>new A.y(St=>{const dt=sn.build();if(dt.open(un.method,un.urlWithParams),un.withCredentials&&(dt.withCredentials=!0),un.headers.forEach((Pt,$t)=>dt.setRequestHeader(Pt,$t.join(","))),un.headers.has("Accept")||dt.setRequestHeader("Accept","application/json, text/plain, */*"),!un.headers.has("Content-Type")){const Pt=un.detectContentTypeHeader();null!==Pt&&dt.setRequestHeader("Content-Type",Pt)}if(un.responseType){const Pt=un.responseType.toLowerCase();dt.responseType="json"!==Pt?Pt:"text"}const hn=un.serializeBody();let $e=null;const Tt=()=>{if(null!==$e)return $e;const Pt=dt.statusText||"OK",$t=new T(dt.getAllResponseHeaders()),_n=function Qe(dn){return"responseURL"in dn&&dn.responseURL?dn.responseURL:/^X-Request-URL:/m.test(dn.getAllResponseHeaders())?dn.getResponseHeader("X-Request-URL"):null}(dt)||un.url;return $e=new Se({headers:$t,status:dt.status,statusText:Pt,url:_n}),$e},Yt=()=>{let{headers:Pt,status:$t,statusText:_n,url:Un}=Tt(),Vn=null;204!==$t&&(Vn=typeof dt.response>"u"?dt.responseText:dt.response),0===$t&&($t=Vn?200:0);let Ft=$t>=200&&$t<300;if("json"===un.responseType&&"string"==typeof Vn){const Cn=Vn;Vn=Vn.replace(et,"");try{Vn=""!==Vn?JSON.parse(Vn):null}catch(Ae){Vn=Cn,Ft&&(Ft=!1,Vn={error:Ae,text:Vn})}}Ft?(St.next(new le({body:Vn,headers:Pt,status:$t,statusText:_n,url:Un||void 0})),St.complete()):St.error(new Ee({error:Vn,headers:Pt,status:$t,statusText:_n,url:Un||void 0}))},Rt=Pt=>{const{url:$t}=Tt(),_n=new Ee({error:Pt,status:dt.status||0,statusText:dt.statusText||"Unknown Error",url:$t||void 0});St.error(_n)};let bn=!1;const Lt=Pt=>{bn||(St.next(Tt()),bn=!0);let $t={type:ce.DownloadProgress,loaded:Pt.loaded};Pt.lengthComputable&&($t.total=Pt.total),"text"===un.responseType&&dt.responseText&&($t.partialText=dt.responseText),St.next($t)},Ct=Pt=>{let $t={type:ce.UploadProgress,loaded:Pt.loaded};Pt.lengthComputable&&($t.total=Pt.total),St.next($t)};return dt.addEventListener("load",Yt),dt.addEventListener("error",Rt),dt.addEventListener("timeout",Rt),dt.addEventListener("abort",Rt),un.reportProgress&&(dt.addEventListener("progress",Lt),null!==hn&&dt.upload&&dt.upload.addEventListener("progress",Ct)),dt.send(hn),St.next({type:ce.Sent}),()=>{dt.removeEventListener("error",Rt),dt.removeEventListener("abort",Rt),dt.removeEventListener("load",Yt),dt.removeEventListener("timeout",Rt),un.reportProgress&&(dt.removeEventListener("progress",Lt),null!==hn&&dt.upload&&dt.upload.removeEventListener("progress",Ct)),dt.readyState!==dt.DONE&&dt.abort()}})))}static#e=this.\u0275fac=function(sn){return new(sn||dn)(e.LFG(i.JF))};static#t=this.\u0275prov=e.Yz7({token:dn,factory:dn.\u0275fac})}return dn})();const ft=new e.OlP("XSRF_ENABLED"),ht=new e.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),de=new e.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class He{}let bt=(()=>{class dn{constructor(un,sn,cn){this.doc=un,this.platform=sn,this.cookieName=cn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const un=this.doc.cookie||"";return un!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,i.Mx)(un,this.cookieName),this.lastCookieString=un),this.lastToken}static#e=this.\u0275fac=function(sn){return new(sn||dn)(e.LFG(i.K0),e.LFG(e.Lbi),e.LFG(ht))};static#t=this.\u0275prov=e.Yz7({token:dn,factory:dn.\u0275fac})}return dn})();function Ut(dn,ln){const un=dn.url.toLowerCase();if(!(0,e.f3M)(ft)||"GET"===dn.method||"HEAD"===dn.method||un.startsWith("http://")||un.startsWith("https://"))return ln(dn);const sn=(0,e.f3M)(He).getToken(),cn=(0,e.f3M)(de);return null!=sn&&!dn.headers.has(cn)&&(dn=dn.clone({headers:dn.headers.set(cn,sn)})),ln(dn)}var Kt=function(dn){return dn[dn.Interceptors=0]="Interceptors",dn[dn.LegacyInterceptors=1]="LegacyInterceptors",dn[dn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",dn[dn.NoXsrfProtection=3]="NoXsrfProtection",dn[dn.JsonpSupport=4]="JsonpSupport",dn[dn.RequestsMadeViaParent=5]="RequestsMadeViaParent",dn[dn.Fetch=6]="Fetch",dn}(Kt||{});function rn(...dn){const ln=[Ve,qe,ge,{provide:h,useExisting:ge},{provide:p,useExisting:qe},{provide:ve,useValue:Ut,multi:!0},{provide:ft,useValue:!0},{provide:He,useClass:bt}];for(const un of dn)ln.push(...un.\u0275providers);return(0,e.MR2)(ln)}const vt=new e.OlP("LEGACY_INTERCEPTOR_FN");function nt(){return function pn(dn,ln){return{\u0275kind:dn,\u0275providers:ln}}(Kt.LegacyInterceptors,[{provide:vt,useFactory:se},{provide:ve,useExisting:vt,multi:!0}])}let _t=(()=>{class dn{static#e=this.\u0275fac=function(sn){return new(sn||dn)};static#t=this.\u0275mod=e.oAB({type:dn});static#n=this.\u0275inj=e.cJS({providers:[rn(nt())]})}return dn})()},5879:(Hn,Xe,v)=>{"use strict";v.d(Xe,{$8M:()=>xs,$WT:()=>ho,$Z:()=>Dh,AFp:()=>ig,ALo:()=>rE,AaK:()=>p,AsE:()=>y,BQk:()=>Pf,CHM:()=>ja,CRH:()=>bE,DdM:()=>$b,EJc:()=>FC,EiD:()=>Mu,EpF:()=>$h,F$t:()=>O_,F4k:()=>A_,FYo:()=>fg,FiY:()=>Yo,G48:()=>aD,Gf:()=>vE,GfV:()=>hg,GkF:()=>Kl,Gpc:()=>P,Gre:()=>wt,HDt:()=>VE,Hsn:()=>R_,Ikx:()=>Pr,JOm:()=>Fl,JVY:()=>dr,JZr:()=>I,Jf7:()=>vg,KtG:()=>pr,L6k:()=>Gi,LAX:()=>Cr,LFG:()=>nt,LMc:()=>LD,LSH:()=>xu,Lbi:()=>Om,Lck:()=>AS,MAs:()=>wf,MGl:()=>Rf,MMx:()=>Hb,MR2:()=>Sm,NdJ:()=>bp,O4$:()=>it,Ojb:()=>Tv,OlP:()=>Nr,Oqu:()=>l,P3R:()=>qd,PXZ:()=>qC,Q6J:()=>Od,QGY:()=>yp,QbO:()=>Ev,Qsj:()=>Rv,R0b:()=>Tl,RDi:()=>bm,Rgc:()=>Up,SBq:()=>mf,SDv:()=>Lb,Sil:()=>GC,Suo:()=>yE,TTD:()=>Ua,TgZ:()=>Wh,Tol:()=>Vu,Udp:()=>Ap,VKq:()=>Jb,VuI:()=>RD,W1O:()=>CE,WFA:()=>Ep,WLB:()=>Qb,X6Q:()=>sD,XFs:()=>pe,Xpm:()=>ci,Xq5:()=>l_,Xts:()=>Ad,Y36:()=>nu,YKP:()=>Ub,YNc:()=>E_,Yjl:()=>es,Yz7:()=>ye,Z0I:()=>ge,ZZ4:()=>Oy,_Bn:()=>Bb,_UZ:()=>zh,_Vd:()=>hf,_c5:()=>SD,_uU:()=>q_,aQg:()=>Ry,c2e:()=>jE,cJS:()=>K,cg1:()=>Ff,d8E:()=>Da,dDg:()=>ZC,dqk:()=>qe,eBb:()=>Mr,eFA:()=>iT,eJc:()=>gy,ekj:()=>xp,eoX:()=>XE,f3M:()=>Ke,g9A:()=>rg,h0i:()=>em,hGG:()=>CD,hYB:()=>Sp,hij:()=>f,iGM:()=>_E,ifc:()=>gn,ip1:()=>HE,jDz:()=>jb,kEZ:()=>qb,kL8:()=>cb,kcU:()=>Je,lG2:()=>fo,lcZ:()=>oE,lnq:()=>N,lqb:()=>eu,lri:()=>QE,mCW:()=>Fo,n5z:()=>va,n_E:()=>iv,oAB:()=>fr,oJD:()=>af,oxw:()=>P_,pB0:()=>Jr,q3G:()=>kc,q4F:()=>mg,qFp:()=>kD,qLn:()=>tu,qOj:()=>np,qZA:()=>Yh,qzn:()=>Si,rWj:()=>qE,rg0:()=>vc,s9C:()=>Tp,sBO:()=>lD,s_b:()=>ov,soG:()=>av,tb:()=>My,tp0:()=>Rr,uIk:()=>sp,vHH:()=>S,vpe:()=>Nd,wAp:()=>qh,xi3:()=>sE,xp6:()=>Ag,ynx:()=>Zh,z2F:()=>im,z3N:()=>li,zSh:()=>Am,zW0:()=>s_,zs3:()=>Na});var e=v(8645),n=v(7394),b=v(5619),A=v(5592),_=v(3019),x=v(2096),w=v(3020),g=v(4664),d=v(3997);function i(o){for(let c in o)if(o[c]===i)return c;throw Error("Could not find renamed property on target object.")}function h(o,c){for(const u in c)c.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=c[u])}function p(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(p).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const c=o.toString();if(null==c)return""+c;const u=c.indexOf("\n");return-1===u?c:c.substring(0,u)}function T(o,c){return null==o||""===o?null===c?"":c:null==c||""===c?o:o+" "+c}const B=i({__forward_ref__:i});function P(o){return o.__forward_ref__=P,o.toString=function(){return p(this())},o}function k(o){return F(o)?o():o}function F(o){return"function"==typeof o&&o.hasOwnProperty(B)&&o.__forward_ref__===P}function O(o){return o&&!!o.\u0275providers}const I="https://g.co/ng/security#xss";class S extends Error{constructor(c,u){super(function L(o,c){return`NG0${Math.abs(o)}${c?": "+c:""}`}(c,u)),this.code=c}}function C(o){return"string"==typeof o?o:null==o?"":String(o)}function Me(o,c){throw new S(-201,!1)}function Fe(o,c,u,E){throw new Error(`ASSERTION ERROR: ${o}`+(null==E?"":` [Expected=> ${u} ${E} ${c} <=Actual]`))}function ye(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function K(o){return{providers:o.providers||[],imports:o.imports||[]}}function se(o){return oe(o,$)||oe(o,Z)}function ge(o){return null!==se(o)}function oe(o,c){return o.hasOwnProperty(c)?o[c]:null}function q(o){return o&&(o.hasOwnProperty(ie)||o.hasOwnProperty(X))?o[ie]:null}const $=i({\u0275prov:i}),ie=i({\u0275inj:i}),Z=i({ngInjectableDef:i}),X=i({ngInjectorDef:i});var pe=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(pe||{});let Te;function Le(o){const c=Te;return Te=o,c}function et(o,c,u){const E=se(o);return E&&"root"==E.providedIn?void 0===E.value?E.value=E.factory():E.value:u&pe.Optional?null:void 0!==c?c:void Me(p(o))}const qe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Et={},de="__NG_DI_FLAG__",He="ngTempTokenPath",Ut=/\n/gm,Kt="__source";let pn;function xt(o){const c=pn;return pn=o,c}function vt(o,c=pe.Default){if(void 0===pn)throw new S(-203,!1);return null===pn?et(o,void 0,c):pn.get(o,c&pe.Optional?null:void 0,c)}function nt(o,c=pe.Default){return(function be(){return Te}()||vt)(k(o),c)}function Ke(o,c=pe.Default){return nt(o,rt(c))}function rt(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function ot(o){const c=[];for(let u=0;u<o.length;u++){const E=k(o[u]);if(Array.isArray(E)){if(0===E.length)throw new S(900,!1);let R,V=pe.Default;for(let ue=0;ue<E.length;ue++){const Ue=E[ue],tt=mt(Ue);"number"==typeof tt?-1===tt?R=Ue.token:V|=tt:R=Ue}c.push(nt(R,V))}else c.push(nt(E))}return c}function yt(o,c){return o[de]=c,o.prototype[de]=c,o}function mt(o){return o[de]}function fn(o){return{toString:o}.toString()}var Qt=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(Qt||{}),gn=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(gn||{});const Tn={},Mn=[],Gn=i({\u0275cmp:i}),Zn=i({\u0275dir:i}),dn=i({\u0275pipe:i}),ln=i({\u0275mod:i}),un=i({\u0275fac:i}),sn=i({__NG_ELEMENT_ID__:i}),cn=i({__NG_ENV_ID__:i});function St(o,c,u){let E=o.length;for(;;){const R=o.indexOf(c,u);if(-1===R)return R;if(0===R||o.charCodeAt(R-1)<=32){const V=c.length;if(R+V===E||o.charCodeAt(R+V)<=32)return R}u=R+1}}function dt(o,c,u){let E=0;for(;E<u.length;){const R=u[E];if("number"==typeof R){if(0!==R)break;E++;const V=u[E++],ue=u[E++],Ue=u[E++];o.setAttribute(c,ue,Ue,V)}else{const V=R,ue=u[++E];$e(V)?o.setProperty(c,V,ue):o.setAttribute(c,V,ue),E++}}return E}function hn(o){return 3===o||4===o||6===o}function $e(o){return 64===o.charCodeAt(0)}function Tt(o,c){if(null!==c&&0!==c.length)if(null===o||0===o.length)o=c.slice();else{let u=-1;for(let E=0;E<c.length;E++){const R=c[E];"number"==typeof R?u=R:0===u||Yt(o,u,R,null,-1===u||2===u?c[++E]:null)}}return o}function Yt(o,c,u,E,R){let V=0,ue=o.length;if(-1===c)ue=-1;else for(;V<o.length;){const Ue=o[V++];if("number"==typeof Ue){if(Ue===c){ue=-1;break}if(Ue>c){ue=V-1;break}}}for(;V<o.length;){const Ue=o[V];if("number"==typeof Ue)break;if(Ue===u){if(null===E)return void(null!==R&&(o[V+1]=R));if(E===o[V+1])return void(o[V+2]=R)}V++,null!==E&&V++,null!==R&&V++}-1!==ue&&(o.splice(ue,0,c),V=ue+1),o.splice(V++,0,u),null!==E&&o.splice(V++,0,E),null!==R&&o.splice(V++,0,R)}const Rt="ng-template";function bn(o,c,u){let E=0,R=!0;for(;E<o.length;){let V=o[E++];if("string"==typeof V&&R){const ue=o[E++];if(u&&"class"===V&&-1!==St(ue.toLowerCase(),c,0))return!0}else{if(1===V){for(;E<o.length&&"string"==typeof(V=o[E++]);)if(V.toLowerCase()===c)return!0;return!1}"number"==typeof V&&(R=!1)}}return!1}function Lt(o){return 4===o.type&&o.value!==Rt}function Ct(o,c,u){return c===(4!==o.type||u?o.value:Rt)}function Pt(o,c,u){let E=4;const R=o.attrs||[],V=function Ft(o){for(let c=0;c<o.length;c++)if(hn(o[c]))return c;return o.length}(R);let ue=!1;for(let Ue=0;Ue<c.length;Ue++){const tt=c[Ue];if("number"!=typeof tt){if(!ue)if(4&E){if(E=2|1&E,""!==tt&&!Ct(o,tt,u)||""===tt&&1===c.length){if($t(E))return!1;ue=!0}}else{const Ot=8&E?tt:c[++Ue];if(8&E&&null!==o.attrs){if(!bn(o.attrs,Ot,u)){if($t(E))return!1;ue=!0}continue}const mn=_n(8&E?"class":tt,R,Lt(o),u);if(-1===mn){if($t(E))return!1;ue=!0;continue}if(""!==Ot){let Rn;Rn=mn>V?"":R[mn+1].toLowerCase();const jn=8&E?Rn:null;if(jn&&-1!==St(jn,Ot,0)||2&E&&Ot!==Rn){if($t(E))return!1;ue=!0}}}}else{if(!ue&&!$t(E)&&!$t(tt))return!1;if(ue&&$t(tt))continue;ue=!1,E=tt|1&E}}return $t(E)||ue}function $t(o){return 0==(1&o)}function _n(o,c,u,E){if(null===c)return-1;let R=0;if(E||!u){let V=!1;for(;R<c.length;){const ue=c[R];if(ue===o)return R;if(3===ue||6===ue)V=!0;else{if(1===ue||2===ue){let Ue=c[++R];for(;"string"==typeof Ue;)Ue=c[++R];continue}if(4===ue)break;if(0===ue){R+=4;continue}}R+=V?1:2}return-1}return function Cn(o,c){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const E=o[u];if("number"==typeof E)return-1;if(E===c)return u;u++}return-1}(c,o)}function Un(o,c,u=!1){for(let E=0;E<c.length;E++)if(Pt(o,c[E],u))return!0;return!1}function Ae(o,c){e:for(let u=0;u<c.length;u++){const E=c[u];if(o.length===E.length){for(let R=0;R<o.length;R++)if(o[R]!==E[R])continue e;return!0}}return!1}function Nt(o,c){return o?":not("+c.trim()+")":c}function At(o){let c=o[0],u=1,E=2,R="",V=!1;for(;u<o.length;){let ue=o[u];if("string"==typeof ue)if(2&E){const Ue=o[++u];R+="["+ue+(Ue.length>0?'="'+Ue+'"':"")+"]"}else 8&E?R+="."+ue:4&E&&(R+=" "+ue);else""!==R&&!$t(ue)&&(c+=Nt(V,R),R=""),E=ue,V=V||!$t(E);u++}return""!==R&&(c+=Nt(V,R)),c}function ci(o){return fn(()=>{const c=ts(o),u={...c,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Qt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||gn.Emulated,styles:o.styles||Mn,_:null,schemas:o.schemas||null,tView:null,id:""};Oo(u);const E=o.dependencies;return u.directiveDefs=Qr(E,!1),u.pipeDefs=Qr(E,!0),u.id=function Uo(o){let c=0;const u=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const R of u)c=Math.imul(31,c)+R.charCodeAt(0)<<0;return c+=2147483648,"c"+c}(u),u})}function kr(o){return Li(o)||er(o)}function Ar(o){return null!==o}function fr(o){return fn(()=>({type:o.type,bootstrap:o.bootstrap||Mn,declarations:o.declarations||Mn,imports:o.imports||Mn,exports:o.exports||Mn,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Eo(o,c){if(null==o)return Tn;const u={};for(const E in o)if(o.hasOwnProperty(E)){let R=o[E],V=R;Array.isArray(R)&&(V=R[1],R=R[0]),u[R]=E,c&&(c[R]=V)}return u}function fo(o){return fn(()=>{const c=ts(o);return Oo(c),c})}function es(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Li(o){return o[Gn]||null}function er(o){return o[Zn]||null}function ir(o){return o[dn]||null}function ho(o){const c=Li(o)||er(o)||ir(o);return null!==c&&c.standalone}function Dr(o,c){const u=o[ln]||null;if(!u&&!0===c)throw new Error(`Type ${p(o)} does not have '\u0275mod' property.`);return u}function ts(o){const c={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputTransforms:null,inputConfig:o.inputs||Tn,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||Mn,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Eo(o.inputs,c),outputs:Eo(o.outputs)}}function Oo(o){o.features?.forEach(c=>c(o))}function Qr(o,c){if(!o)return null;const u=c?ir:kr;return()=>("function"==typeof o?o():o).map(E=>u(E)).filter(Ar)}const hr=0,_i=1,Ni=2,qi=3,Gr=4,Do=5,Or=6,ro=7,vn=8,Kn=9,ri=10,qn=11,wi=12,Hi=13,Ki=14,ki=15,xr=16,Vr=17,mo=18,Ao=19,Ps=20,zr=21,Xr=22,Zo=23,xo=24,Zi=25,$o=1,ns=2,To=7,cs=9,Fr=11;function Zr(o){return Array.isArray(o)&&"object"==typeof o[$o]}function Er(o){return Array.isArray(o)&&!0===o[$o]}function Ws(o){return 0!=(4&o.flags)}function po(o){return o.componentOffset>-1}function us(o){return 1==(1&o.flags)}function yr(o){return!!o.template}function rs(o){return 0!=(512&o[Ni])}function ut(o,c){return o.hasOwnProperty(un)?o[un]:null}let Bi=qe.WeakRef??class pi{constructor(c){this.ref=c}deref(){return this.ref}},os=0,eo=null,Es=!1;function Tr(o){const c=eo;return eo=o,c}class Ro{constructor(){this.id=os++,this.ref=function wo(o){return new Bi(o)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[c,u]of this.producers){const E=u.producerNode.deref();if(null!=E&&u.atTrackingVersion===this.trackingVersion){if(E.producerPollStatus(u.seenValueVersion))return!0}else this.producers.delete(c),E?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const c=Es;Es=!0;try{for(const[u,E]of this.consumers){const R=E.consumerNode.deref();null!=R&&R.trackingVersion===E.atTrackingVersion?R.onConsumerDependencyMayHaveChanged():(this.consumers.delete(u),R?.producers.delete(this.id))}}finally{Es=c}}producerAccessed(){if(Es)throw new Error("");if(null===eo)return;let c=eo.producers.get(this.id);void 0===c?(c={consumerNode:eo.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:eo.trackingVersion},eo.producers.set(this.id,c),this.consumers.set(eo.id,c)):(c.seenValueVersion=this.valueVersion,c.atTrackingVersion=eo.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==eo?.consumerAllowSignalWrites}producerPollStatus(c){return this.valueVersion!==c||(this.onProducerUpdateValueVersion(),this.valueVersion!==c)}}let Qa=null;function vc(o){const c=Tr(null);try{return o()}finally{Tr(c)}}const Fs=()=>{};class yc extends Ro{constructor(c,u,E){super(),this.watch=c,this.schedule=u,this.dirty=!1,this.cleanupFn=Fs,this.registerOnCleanup=R=>{this.cleanupFn=R},this.consumerAllowSignalWrites=E}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const c=Tr(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Fs,this.watch(this.registerOnCleanup)}finally{Tr(c)}}cleanup(){this.cleanupFn()}}class Ba{constructor(c,u,E){this.previousValue=c,this.currentValue=u,this.firstChange=E}isFirstChange(){return this.firstChange}}function Ua(){return Xs}function Xs(o){return o.type.prototype.ngOnChanges&&(o.setInput=Xa),zl}function zl(){const o=Bs(this),c=o?.current;if(c){const u=o.previous;if(u===Tn)o.previous=c;else for(let E in c)u[E]=c[E];o.current=null,this.ngOnChanges(c)}}function Xa(o,c,u,E){const R=this.declaredInputs[u],V=Bs(o)||function tl(o,c){return o[el]=c}(o,{previous:Tn,current:null}),ue=V.current||(V.current={}),Ue=V.previous,tt=Ue[R];ue[R]=new Ba(tt&&tt.currentValue,c,Ue===Tn),o[E]=c}Ua.ngInherit=!0;const el="__ngSimpleChanges__";function Bs(o){return o[el]||null}const ss=function(o,c,u){},Aa="svg";function $i(o){for(;Array.isArray(o);)o=o[hr];return o}function Ge(o,c){return $i(c[o])}function Vt(o,c){return $i(c[o.index])}function Mt(o,c){return o.data[c]}function ct(o,c){return o[c]}function In(o,c){const u=c[o];return Zr(u)?u:u[hr]}function Wi(o,c){return null==c?null:o[c]}function rr(o){o[Vr]=0}function Qi(o){1024&o[Ni]||(o[Ni]|=1024,An(o,1))}function $r(o){1024&o[Ni]&&(o[Ni]&=-1025,An(o,-1))}function An(o,c){let u=o[qi];if(null===u)return;u[Do]+=c;let E=u;for(u=u[qi];null!==u&&(1===c&&1===E[Do]||-1===c&&0===E[Do]);)u[Do]+=c,E=u,u=u[qi]}const vi={lFrame:Tc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ta(){return vi.bindingsEnabled}function Kr(){return null!==vi.skipHydrationRootTNode}function ii(){return vi.lFrame.lView}function or(){return vi.lFrame.tView}function ja(o){return vi.lFrame.contextLView=o,o[vn]}function pr(o){return vi.lFrame.contextLView=null,o}function gr(){let o=Hc();for(;null!==o&&64===o.type;)o=o.parent;return o}function Hc(){return vi.lFrame.currentTNode}function il(){const o=vi.lFrame,c=o.currentTNode;return o.isParent?c:c.parent}function No(o,c){const u=vi.lFrame;u.currentTNode=o,u.isParent=c}function Al(){return vi.lFrame.isParent}function Wr(){vi.lFrame.isParent=!1}function to(){const o=vi.lFrame;let c=o.bindingRootIndex;return-1===c&&(c=o.bindingRootIndex=o.tView.bindingStartIndex),c}function ms(){return vi.lFrame.bindingIndex}function Sr(){return vi.lFrame.bindingIndex++}function as(o){const c=vi.lFrame,u=c.bindingIndex;return c.bindingIndex=c.bindingIndex+o,u}function Jl(o){vi.lFrame.inI18n=o}function ol(o,c){const u=vi.lFrame;u.bindingIndex=u.bindingRootIndex=o,Ql(c)}function Ql(o){vi.lFrame.currentDirectiveIndex=o}function sl(o){const c=vi.lFrame.currentDirectiveIndex;return-1===c?null:o[c]}function Il(){return vi.lFrame.currentQueryIndex}function ga(o){vi.lFrame.currentQueryIndex=o}function al(o){const c=o[_i];return 2===c.type?c.declTNode:1===c.type?o[Or]:null}function na(o,c,u){if(u&pe.SkipSelf){let R=c,V=o;for(;!(R=R.parent,null!==R||u&pe.Host||(R=al(V),null===R||(V=V[Ki],10&R.type))););if(null===R)return!1;c=R,o=V}const E=vi.lFrame=ql();return E.currentTNode=c,E.lView=o,!0}function ps(o){const c=ql(),u=o[_i];vi.lFrame=c,c.currentTNode=u.firstChild,c.lView=o,c.tView=u,c.contextLView=o,c.bindingIndex=u.bindingStartIndex,c.inI18n=!1}function ql(){const o=vi.lFrame,c=null===o?null:o.child;return null===c?Tc(o):c}function Tc(o){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=c),c}function ia(){const o=vi.lFrame;return vi.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const wl=ia;function jc(){const o=ia();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Vo(){return vi.lFrame.selectedIndex}function Ai(o){vi.lFrame.selectedIndex=o}function we(){const o=vi.lFrame;return Mt(o.tView,o.selectedIndex)}function it(){vi.lFrame.currentNamespace=Aa}function Je(){!function kt(){vi.lFrame.currentNamespace=null}()}let tn=!0;function kn(){return tn}function ni(o){tn=o}function Ri(o,c){for(let u=c.directiveStart,E=c.directiveEnd;u<E;u++){const V=o.data[u].type.prototype,{ngAfterContentInit:ue,ngAfterContentChecked:Ue,ngAfterViewInit:tt,ngAfterViewChecked:Ot,ngOnDestroy:Jt}=V;ue&&(o.contentHooks??=[]).push(-u,ue),Ue&&((o.contentHooks??=[]).push(u,Ue),(o.contentCheckHooks??=[]).push(u,Ue)),tt&&(o.viewHooks??=[]).push(-u,tt),Ot&&((o.viewHooks??=[]).push(u,Ot),(o.viewCheckHooks??=[]).push(u,Ot)),null!=Jt&&(o.destroyHooks??=[]).push(u,Jt)}}function _r(o,c,u){Cs(o,c,3,u)}function so(o,c,u,E){(3&o[Ni])===u&&Cs(o,c,u,E)}function ra(o,c){let u=o[Ni];(3&u)===c&&(u&=8191,u+=1,o[Ni]=u)}function Cs(o,c,u,E){const V=E??-1,ue=c.length-1;let Ue=0;for(let tt=void 0!==E?65535&o[Vr]:0;tt<ue;tt++)if("number"==typeof c[tt+1]){if(Ue=c[tt],null!=E&&Ue>=E)break}else c[tt]<0&&(o[Vr]+=65536),(Ue<V||-1==V)&&(oa(o,u,c,tt),o[Vr]=(4294901760&o[Vr])+tt+2),tt++}function _a(o,c){ss(4,o,c);const u=Tr(null);try{c.call(o)}finally{Tr(u),ss(5,o,c)}}function oa(o,c,u,E){const R=u[E]<0,V=u[E+1],Ue=o[R?-u[E]:u[E]];R?o[Ni]>>13<o[Vr]>>16&&(3&o[Ni])===c&&(o[Ni]+=8192,_a(Ue,V)):_a(Ue,V)}const gs=-1;class ll{constructor(c,u,E){this.factory=c,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=E}}function Ko(o){return o!==gs}function Wo(o){return 32767&o}function cl(o,c){let u=function Vc(o){return o>>16}(o),E=c;for(;u>0;)E=E[Ki],u--;return E}let sa=!0;function dl(o){const c=sa;return sa=o,c}const Ds=255,aa=5;let ud=0;const Ms={};function ul(o,c){const u=As(o,c);if(-1!==u)return u;const E=c[_i];E.firstCreatePass&&(o.injectorIndex=c.length,Pl(E.data,o),Pl(c,null),Pl(E.blueprint,null));const R=la(o,c),V=o.injectorIndex;if(Ko(R)){const ue=Wo(R),Ue=cl(R,c),tt=Ue[_i].data;for(let Ot=0;Ot<8;Ot++)c[V+Ot]=Ue[ue+Ot]|tt[ue+Ot]}return c[V+8]=R,V}function Pl(o,c){o.push(0,0,0,0,0,0,0,0,c)}function As(o,c){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===c[o.injectorIndex+8]?-1:o.injectorIndex}function la(o,c){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,E=null,R=c;for(;null!==R;){if(E=$c(R),null===E)return gs;if(u++,R=R[Ki],-1!==E.injectorIndex)return E.injectorIndex|u<<16}return gs}function Wc(o,c,u){!function kd(o,c,u){let E;"string"==typeof u?E=u.charCodeAt(0)||0:u.hasOwnProperty(sn)&&(E=u[sn]),null==E&&(E=u[sn]=ud++);const R=E&Ds;c.data[o+(R>>aa)]|=1<<R}(o,c,u)}function fl(o,c,u){if(u&pe.Optional||void 0!==o)return o;Me()}function Yc(o,c,u,E){if(u&pe.Optional&&void 0===E&&(E=null),!(u&(pe.Self|pe.Host))){const R=o[Kn],V=Le(void 0);try{return R?R.get(c,E,u&pe.Optional):et(c,E,u&pe.Optional)}finally{Le(V)}}return fl(E,0,u)}function Dc(o,c,u,E=pe.Default,R){if(null!==o){if(2048&c[Ni]&&!(E&pe.Self)){const ue=function md(o,c,u,E,R){let V=o,ue=c;for(;null!==V&&null!==ue&&2048&ue[Ni]&&!(512&ue[Ni]);){const Ue=fd(V,ue,u,E|pe.Self,Ms);if(Ue!==Ms)return Ue;let tt=V.parent;if(!tt){const Ot=ue[Ps];if(Ot){const Jt=Ot.get(u,Ms,E);if(Jt!==Ms)return Jt}tt=$c(ue),ue=ue[Ki]}V=tt}return R}(o,c,u,E,Ms);if(ue!==Ms)return ue}const V=fd(o,c,u,E,Ms);if(V!==Ms)return V}return Yc(c,u,E,R)}function fd(o,c,u,E,R){const V=function zc(o){if("string"==typeof o)return o.charCodeAt(0)||0;const c=o.hasOwnProperty(sn)?o[sn]:void 0;return"number"==typeof c?c>=0?c&Ds:Zc:c}(u);if("function"==typeof V){if(!na(c,o,E))return E&pe.Host?fl(R,0,E):Yc(c,u,E,R);try{const ue=V(E);if(null!=ue||E&pe.Optional)return ue;Me()}finally{wl()}}else if("number"==typeof V){let ue=null,Ue=As(o,c),tt=gs,Ot=E&pe.Host?c[ki][Or]:null;for((-1===Ue||E&pe.SkipSelf)&&(tt=-1===Ue?la(o,c):c[Ue+8],tt!==gs&&tc(E,!1)?(ue=c[_i],Ue=Wo(tt),c=cl(tt,c)):Ue=-1);-1!==Ue;){const Jt=c[_i];if(Ol(V,Ue,Jt.data)){const mn=hd(Ue,c,u,ue,E,Ot);if(mn!==Ms)return mn}tt=c[Ue+8],tt!==gs&&tc(E,c[_i].data[Ue+8]===Ot)&&Ol(V,Ue,c)?(ue=Jt,Ue=Wo(tt),c=cl(tt,c)):Ue=-1}}return R}function hd(o,c,u,E,R,V){const ue=c[_i],Ue=ue.data[o+8],Jt=vr(Ue,ue,u,null==E?po(Ue)&&sa:E!=ue&&0!=(3&Ue.type),R&pe.Host&&V===Ue);return null!==Jt?Ui(c,ue,Jt,Ue):Ms}function vr(o,c,u,E,R){const V=o.providerIndexes,ue=c.data,Ue=1048575&V,tt=o.directiveStart,Jt=V>>20,Rn=R?Ue+Jt:o.directiveEnd;for(let jn=E?Ue:Ue+Jt;jn<Rn;jn++){const ti=ue[jn];if(jn<tt&&u===ti||jn>=tt&&ti.type===u)return jn}if(R){const jn=ue[tt];if(jn&&yr(jn)&&jn.type===u)return tt}return null}function Ui(o,c,u,E){let R=o[u];const V=c.data;if(function Ia(o){return o instanceof ll}(R)){const ue=R;ue.resolving&&function z(o,c){const u=c?`. Dependency path: ${c.join(" > ")} > ${o}`:"";throw new S(-200,`Circular dependency in DI detected for ${o}${u}`)}(function U(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():C(o)}(V[u]));const Ue=dl(ue.canSeeViewProviders);ue.resolving=!0;const tt=ue.injectImpl?Le(ue.injectImpl):null;na(o,E,pe.Default);try{R=o[u]=ue.factory(void 0,V,o,E),c.firstCreatePass&&u>=E.directiveStart&&function Oi(o,c,u){const{ngOnChanges:E,ngOnInit:R,ngDoCheck:V}=c.type.prototype;if(E){const ue=Xs(c);(u.preOrderHooks??=[]).push(o,ue),(u.preOrderCheckHooks??=[]).push(o,ue)}R&&(u.preOrderHooks??=[]).push(0-o,R),V&&((u.preOrderHooks??=[]).push(o,V),(u.preOrderCheckHooks??=[]).push(o,V))}(u,V[u],c)}finally{null!==tt&&Le(tt),dl(Ue),ue.resolving=!1,wl()}}return R}function Ol(o,c,u){return!!(u[c+(o>>aa)]&1<<o)}function tc(o,c){return!(o&pe.Self||o&pe.Host&&c)}class Va{constructor(c,u){this._tNode=c,this._lView=u}get(c,u,E){return Dc(this._tNode,this._lView,c,rt(E),u)}}function Zc(){return new Va(gr(),ii())}function va(o){return fn(()=>{const c=o.prototype.constructor,u=c[un]||nc(c),E=Object.prototype;let R=Object.getPrototypeOf(o.prototype).constructor;for(;R&&R!==E;){const V=R[un]||nc(R);if(V&&V!==u)return V;R=Object.getPrototypeOf(R)}return V=>new V})}function nc(o){return F(o)?()=>{const c=nc(k(o));return c&&c()}:ut(o)}function $c(o){const c=o[_i],u=c.type;return 2===u?c.declTNode:1===u?o[Or]:null}function xs(o){return function du(o,c){if("class"===c)return o.classes;if("style"===c)return o.styles;const u=o.attrs;if(u){const E=u.length;let R=0;for(;R<E;){const V=u[R];if(hn(V))break;if(0===V)R+=2;else if("number"==typeof V)for(R++;R<E&&"string"==typeof u[R];)R++;else{if(V===c)return u[R+1];R+=2}}}return null}(gr(),o)}const Oa="__parameters__";function ml(o,c,u){return fn(()=>{const E=function Rl(o){return function(...u){if(o){const E=o(...u);for(const R in E)this[R]=E[R]}}}(c);function R(...V){if(this instanceof R)return E.apply(this,V),this;const ue=new R(...V);return Ue.annotation=ue,Ue;function Ue(tt,Ot,Jt){const mn=tt.hasOwnProperty(Oa)?tt[Oa]:Object.defineProperty(tt,Oa,{value:[]})[Oa];for(;mn.length<=Jt;)mn.push(null);return(mn[Jt]=mn[Jt]||[]).push(ue),tt}}return u&&(R.prototype=Object.create(u.prototype)),R.prototype.ngMetadataName=o,R.annotationCls=R,R})}function _o(o,c){o.forEach(u=>Array.isArray(u)?_o(u,c):c(u))}function no(o,c,u){c>=o.length?o.push(u):o.splice(c,0,u)}function Ka(o,c){return c>=o.length-1?o.pop():o.splice(c,1)[0]}function Wa(o,c){const u=[];for(let E=0;E<o;E++)u.push(c);return u}function st(o,c,u){let E=an(o,c);return E>=0?o[1|E]=u:(E=~E,function Qc(o,c,u,E){let R=o.length;if(R==c)o.push(u,E);else if(1===R)o.push(E,o[0]),o[0]=u;else{for(R--,o.push(o[R-1],o[R]);R>c;)o[R]=o[R-2],R--;o[c]=u,o[c+1]=E}}(o,E,c,u)),E}function Bt(o,c){const u=an(o,c);if(u>=0)return o[1|u]}function an(o,c){return function Fn(o,c,u){let E=0,R=o.length>>u;for(;R!==E;){const V=E+(R-E>>1),ue=o[V<<u];if(c===ue)return V<<u;ue>c?R=V:E=V+1}return~(R<<u)}(o,c,1)}const Yo=yt(ml("Optional"),8),Rr=yt(ml("SkipSelf"),4);function kl(o){return 128==(128&o.flags)}var Fl=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(Fl||{});const om=/^>|^->|<!--|-->|--!>|<!-$/g,sm=/(<|>)/,Hf="\u200b$1\u200b";const jd=new Map;let am=0;const Kd="__ngContext__";function vs(o,c){Zr(c)?(o[Kd]=c[Ao],function lm(o){jd.set(o[Ao],o)}(c)):o[Kd]=c}let zf;function td(o,c){return zf(o,c)}function Yd(o){const c=o[qi];return Er(c)?c[qi]:c}function id(o){return Ju(o[wi])}function Zf(o){return Ju(o[Gr])}function Ju(o){for(;null!==o&&!Er(o);)o=o[Gr];return o}function Td(o,c,u,E,R){if(null!=E){let V,ue=!1;Er(E)?V=E:Zr(E)&&(ue=!0,E=E[hr]);const Ue=$i(E);0===o&&null!==u?null==R?th(c,u,Ue):uc(c,u,Ue,R||null,!0):1===o&&null!==u?uc(c,u,Ue,R||null,!0):2===o?function sf(o,c,u){const E=nf(o,c);E&&function tf(o,c,u,E){o.removeChild(c,u,E)}(o,E,c,u)}(c,Ue,ue):3===o&&c.destroyNode(Ue),null!=V&&function _m(o,c,u,E,R){const V=u[To];V!==$i(u)&&Td(c,o,E,V,R);for(let Ue=Fr;Ue<u.length;Ue++){const tt=u[Ue];Bl(tt[_i],tt,o,c,E,V)}}(c,o,V,u,R)}}function Oc(o,c){return o.createText(c)}function Jf(o,c){return o.createComment(function zu(o){return o.replace(om,c=>c.replace(sm,Hf))}(c))}function Eu(o,c,u){return o.createElement(c,u)}function qu(o,c){const u=o[cs],E=u.indexOf(c);$r(c),u.splice(E,1)}function Xu(o,c){if(o.length<=Fr)return;const u=Fr+c,E=o[u];if(E){const R=E[xr];null!==R&&R!==o&&qu(R,E),c>0&&(o[u-1][Gr]=E[Gr]);const V=Ka(o,Fr+c);!function Vp(o,c){Bl(o,c,c[qn],2,null,null),c[hr]=null,c[Or]=null}(E[_i],E);const ue=V[mo];null!==ue&&ue.detachView(V[_i]),E[qi]=null,E[Gr]=null,E[Ni]&=-129}return E}function Xf(o,c){if(!(256&c[Ni])){const u=c[qn];c[Zo]?.destroy(),c[xo]?.destroy(),u.destroyNode&&Bl(o,c,u,3,null,null),function qf(o){let c=o[wi];if(!c)return eh(o[_i],o);for(;c;){let u=null;if(Zr(c))u=c[wi];else{const E=c[Fr];E&&(u=E)}if(!u){for(;c&&!c[Gr]&&c!==o;)Zr(c)&&eh(c[_i],c),c=c[qi];null===c&&(c=o),Zr(c)&&eh(c[_i],c),u=c&&c[Gr]}c=u}}(c)}}function eh(o,c){if(!(256&c[Ni])){c[Ni]&=-129,c[Ni]|=256,function fm(o,c){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let E=0;E<u.length;E+=2){const R=c[u[E]];if(!(R instanceof ll)){const V=u[E+1];if(Array.isArray(V))for(let ue=0;ue<V.length;ue+=2){const Ue=R[V[ue]],tt=V[ue+1];ss(4,Ue,tt);try{tt.call(Ue)}finally{ss(5,Ue,tt)}}else{ss(4,R,V);try{V.call(R)}finally{ss(5,R,V)}}}}}(o,c),function Wp(o,c){const u=o.cleanup,E=c[ro];if(null!==u)for(let V=0;V<u.length-1;V+=2)if("string"==typeof u[V]){const ue=u[V+3];ue>=0?E[ue]():E[-ue].unsubscribe(),V+=2}else u[V].call(E[u[V+1]]);null!==E&&(c[ro]=null);const R=c[zr];if(null!==R){c[zr]=null;for(let V=0;V<R.length;V++)(0,R[V])()}}(o,c),1===c[_i].type&&c[qn].destroy();const u=c[xr];if(null!==u&&Er(c[qi])){u!==c[qi]&&qu(u,c);const E=c[mo];null!==E&&E.detachView(o)}!function Vd(o){jd.delete(o[Ao])}(c)}}function ef(o,c,u){return dc(o,c.parent,u)}function dc(o,c,u){let E=c;for(;null!==E&&40&E.type;)E=(c=E).parent;if(null===E)return u[hr];{const{componentOffset:R}=E;if(R>-1){const{encapsulation:V}=o.data[E.directiveStart+R];if(V===gn.None||V===gn.Emulated)return null}return Vt(E,u)}}function uc(o,c,u,E,R){o.insertBefore(c,u,E,R)}function th(o,c,u){o.appendChild(c,u)}function hm(o,c,u,E,R){null!==E?uc(o,c,u,E,R):th(o,c,u)}function nf(o,c){return o.parentNode(c)}function ih(o,c,u){return Tu(o,c,u)}function mm(o,c,u){return 40&o.type?Vt(o,u):null}let Su,zd,uh,Oe,Tu=mm;function rh(o,c){Tu=o,Su=c}function rf(o,c,u,E){const R=ef(o,E,c),V=c[qn],Ue=ih(E.parent||c[Or],E,c);if(null!=R)if(Array.isArray(u))for(let tt=0;tt<u.length;tt++)hm(V,R,u[tt],Ue,!1);else hm(V,R,u,Ue,!1);void 0!==Su&&Su(V,E,c,u,R)}function Sd(o,c){if(null!==c){const u=c.type;if(3&u)return Vt(c,o);if(4&u)return sh(-1,o[c.index]);if(8&u){const E=c.child;if(null!==E)return Sd(o,E);{const R=o[c.index];return Er(R)?sh(-1,R):$i(R)}}if(32&u)return td(c,o)()||$i(o[c.index]);{const E=oh(o,c);return null!==E?Array.isArray(E)?E[0]:Sd(Yd(o[ki]),E):Sd(o,c.next)}}return null}function oh(o,c){return null!==c?o[ki][Or].projection[c.projection]:null}function sh(o,c){const u=Fr+o+1;if(u<c.length){const E=c[u],R=E[_i].firstChild;if(null!==R)return Sd(E,R)}return c[To]}function ah(o,c,u,E,R,V,ue){for(;null!=u;){const Ue=E[u.index],tt=u.type;if(ue&&0===c&&(Ue&&vs($i(Ue),E),u.flags|=2),32!=(32&u.flags))if(8&tt)ah(o,c,u.child,E,R,V,!1),Td(c,o,R,Ue,V);else if(32&tt){const Ot=td(u,E);let Jt;for(;Jt=Ot();)Td(c,o,R,Jt,V);Td(c,o,R,Ue,V)}else 16&tt?gm(o,c,E,u,R,V):Td(c,o,R,Ue,V);u=ue?u.projectionNext:u.next}}function Bl(o,c,u,E,R,V){ah(u,E,o.firstChild,c,R,V,!1)}function gm(o,c,u,E,R,V){const ue=u[ki],tt=ue[Or].projection[E.projection];if(Array.isArray(tt))for(let Ot=0;Ot<tt.length;Ot++)Td(c,o,R,tt[Ot],V);else{let Ot=tt;const Jt=ue[qi];kl(E)&&(Ot.flags|=128),ah(o,c,Ot,Jt,R,V,!0)}}function vm(o,c,u){""===u?o.removeAttribute(c,"class"):o.setAttribute(c,"class",u)}function ym(o,c,u){const{mergedAttrs:E,classes:R,styles:V}=u;null!==E&&dt(o,c,E),null!==R&&vm(o,c,R),null!==V&&function lh(o,c,u){o.setAttribute(c,"style",u)}(o,c,V)}function Cd(o){return function ch(){if(void 0===zd&&(zd=null,qe.trustedTypes))try{zd=qe.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return zd}()?.createHTML(o)||o}function bm(o){uh=o}function G(){if(void 0!==uh)return uh;if(typeof document<"u")return document;throw new S(210,!1)}function M(){if(void 0===Oe&&(Oe=null,qe.trustedTypes))try{Oe=qe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Oe}function j(o){return M()?.createHTML(o)||o}function gt(o){return M()?.createScriptURL(o)||o}class jt{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${I})`}}class Dn extends jt{getTypeName(){return"HTML"}}class On extends jt{getTypeName(){return"Style"}}class Wn extends jt{getTypeName(){return"Script"}}class Yn extends jt{getTypeName(){return"URL"}}class Di extends jt{getTypeName(){return"ResourceURL"}}function li(o){return o instanceof jt?o.changingThisBreaksApplicationSecurity:o}function Si(o,c){const u=function wr(o){return o instanceof jt&&o.getTypeName()||null}(o);if(null!=u&&u!==c){if("ResourceURL"===u&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${u} (see ${I})`)}return u===c}function dr(o){return new Dn(o)}function Gi(o){return new On(o)}function Mr(o){return new Wn(o)}function Cr(o){return new Yn(o)}function Jr(o){return new Di(o)}function ur(o){const c=new Ur(o);return function lo(){try{return!!(new window.DOMParser).parseFromString(Cd(""),"text/html")}catch{return!1}}()?new Br(c):c}class Br{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const u=(new window.DOMParser).parseFromString(Cd(c),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(c):(u.removeChild(u.firstChild),u)}catch{return null}}}class Ur{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const u=this.inertDocument.createElement("template");return u.innerHTML=Cd(c),u}}const vo=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Fo(o){return(o=String(o)).match(vo)?o:"unsafe:"+o}function co(o){const c={};for(const u of o.split(","))c[u]=!0;return c}function zo(...o){const c={};for(const u of o)for(const E in u)u.hasOwnProperty(E)&&(c[E]=!0);return c}const Ea=co("area,br,col,hr,img,wbr"),ls=co("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Rc=co("rp,rt"),Nc=zo(Ea,zo(ls,co("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zo(Rc,co("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zo(Rc,ls)),fc=co("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dd=zo(fc,co("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),co("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Du=co("script,style,template");class Lc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let u=c.firstChild,E=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?E=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,E&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let R=this.checkClobberedElement(u,u.nextSibling);if(R){u=R;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(c){const u=c.nodeName.toLowerCase();if(!Nc.hasOwnProperty(u))return this.sanitizedSomething=!0,!Du.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const E=c.attributes;for(let R=0;R<E.length;R++){const V=E.item(R),ue=V.name,Ue=ue.toLowerCase();if(!Dd.hasOwnProperty(Ue)){this.sanitizedSomething=!0;continue}let tt=V.value;fc[Ue]&&(tt=Fo(tt)),this.buf.push(" ",ue,'="',$d(tt),'"')}return this.buf.push(">"),!0}endElement(c){const u=c.nodeName.toLowerCase();Nc.hasOwnProperty(u)&&!Ea.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(c){this.buf.push($d(c))}checkClobberedElement(c,u){if(u&&(c.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return u}}const hc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Md=/([^\#-~ |!])/g;function $d(o){return o.replace(/&/g,"&amp;").replace(hc,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(Md,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bl;function Mu(o,c){let u=null;try{bl=bl||ur(o);let E=c?String(c):"";u=bl.getInertBodyElement(E);let R=5,V=E;do{if(0===R)throw new Error("Failed to sanitize html because the input is unstable");R--,E=V,V=u.innerHTML,u=bl.getInertBodyElement(E)}while(E!==V);return Cd((new Lc).sanitizeChildren(Jd(u)||u))}finally{if(u){const E=Jd(u)||u;for(;E.firstChild;)E.removeChild(E.firstChild)}}}function Jd(o){return"content"in o&&function Au(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var kc=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(kc||{});function af(o){const c=sd();return c?j(c.sanitize(kc.HTML,o)||""):Si(o,"HTML")?j(li(o)):Mu(G(),C(o))}function xu(o){const c=sd();return c?c.sanitize(kc.URL,o)||"":Si(o,"URL")?li(o):Fo(C(o))}function Qd(o){const c=sd();if(c)return gt(c.sanitize(kc.RESOURCE_URL,o)||"");if(Si(o,"ResourceURL"))return gt(li(o));throw new S(904,!1)}function qd(o,c,u){return function od(o,c){return"src"===c&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===c&&("base"===o||"link"===o)?Qd:xu}(c,u)(o)}function sd(){const o=ii();return o&&o[ri].sanitizer}class Nr{constructor(c,u){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=ye({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ad=new Nr("ENVIRONMENT_INITIALIZER"),Ta=new Nr("INJECTOR",-1),df=new Nr("INJECTOR_DEF_TYPES");class Ra{get(c,u=Et){if(u===Et){const E=new Error(`NullInjectorError: No provider for ${p(c)}!`);throw E.name="NullInjectorError",E}return u}}function Sm(o){return{\u0275providers:o}}function xd(...o){return{\u0275providers:Qp(0,o),\u0275fromNgModule:!0}}function Qp(o,...c){const u=[],E=new Set;let R;return _o(c,V=>{const ue=V;mh(ue,u,[],E)&&(R||=[],R.push(ue))}),void 0!==R&&qp(R,u),u}function qp(o,c){for(let u=0;u<o.length;u++){const{providers:R}=o[u];Cm(R,V=>{c.push(V)})}}function mh(o,c,u,E){if(!(o=k(o)))return!1;let R=null,V=q(o);const ue=!V&&Li(o);if(V||ue){if(ue&&!ue.standalone)return!1;R=o}else{const tt=o.ngModule;if(V=q(tt),!V)return!1;R=tt}const Ue=E.has(R);if(ue){if(Ue)return!1;if(E.add(R),ue.dependencies){const tt="function"==typeof ue.dependencies?ue.dependencies():ue.dependencies;for(const Ot of tt)mh(Ot,c,u,E)}}else{if(!V)return!1;{if(null!=V.imports&&!Ue){let Ot;E.add(R);try{_o(V.imports,Jt=>{mh(Jt,c,u,E)&&(Ot||=[],Ot.push(Jt))})}finally{}void 0!==Ot&&qp(Ot,c)}if(!Ue){const Ot=ut(R)||(()=>new R);c.push({provide:R,useFactory:Ot,deps:Mn},{provide:df,useValue:R,multi:!0},{provide:Ad,useValue:()=>nt(R),multi:!0})}const tt=V.providers;null==tt||Ue||Cm(tt,Jt=>{c.push(Jt)})}}return R!==o&&void 0!==o.providers}function Cm(o,c){for(let u of o)O(u)&&(u=u.\u0275providers),Array.isArray(u)?Cm(u,c):c(u)}const Xp=i({provide:String,useValue:i});function Dm(o){return null!==o&&"object"==typeof o&&Xp in o}function Xd(o){return"function"==typeof o}const Am=new Nr("Set Injector scope."),ph={},gv={};let xm;function gh(){return void 0===xm&&(xm=new Ra),xm}class eu{}class Im extends eu{get destroyed(){return this._destroyed}constructor(c,u,E,R){super(),this.parent=u,this.source=E,this.scopes=R,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ng(c,ue=>this.processProvider(ue)),this.records.set(Ta,Gl(void 0,this)),R.has("environment")&&this.records.set(eu,Gl(void 0,this));const V=this.records.get(Am);null!=V&&"string"==typeof V.value&&this.scopes.add(V.value),this.injectorDefTypes=new Set(this.get(df.multi,Mn,pe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const c=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of c)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(c){return this.assertNotDestroyed(),this._onDestroyHooks.push(c),()=>this.removeOnDestroy(c)}runInContext(c){this.assertNotDestroyed();const u=xt(this),E=Le(void 0);try{return c()}finally{xt(u),Le(E)}}get(c,u=Et,E=pe.Default){if(this.assertNotDestroyed(),c.hasOwnProperty(cn))return c[cn](this);E=rt(E);const R=xt(this),V=Le(void 0);try{if(!(E&pe.SkipSelf)){let Ue=this.records.get(c);if(void 0===Ue){const tt=function ky(o){return"function"==typeof o||"object"==typeof o&&o instanceof Nr}(c)&&se(c);Ue=tt&&this.injectableDefInScope(tt)?Gl(wm(c),ph):null,this.records.set(c,Ue)}if(null!=Ue)return this.hydrate(c,Ue)}return(E&pe.Self?gh():this.parent).get(c,u=E&pe.Optional&&u===Et?null:u)}catch(ue){if("NullInjectorError"===ue.name){if((ue[He]=ue[He]||[]).unshift(p(c)),R)throw ue;return function _t(o,c,u,E){const R=o[He];throw c[Kt]&&R.unshift(c[Kt]),o.message=function qt(o,c,u,E=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let R=p(c);if(Array.isArray(c))R=c.map(p).join(" -> ");else if("object"==typeof c){let V=[];for(let ue in c)if(c.hasOwnProperty(ue)){let Ue=c[ue];V.push(ue+":"+("string"==typeof Ue?JSON.stringify(Ue):p(Ue)))}R=`{${V.join(", ")}}`}return`${u}${E?"("+E+")":""}[${R}]: ${o.replace(Ut,"\n  ")}`}("\n"+o.message,R,u,E),o.ngTokenPath=R,o[He]=null,o}(ue,c,"R3InjectorError",this.source)}throw ue}finally{Le(V),xt(R)}}resolveInjectorInitializers(){const c=xt(this),u=Le(void 0);try{const E=this.get(Ad.multi,Mn,pe.Self);for(const R of E)R()}finally{xt(c),Le(u)}}toString(){const c=[],u=this.records;for(const E of u.keys())c.push(p(E));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(c){let u=Xd(c=k(c))?c:k(c&&c.provide);const E=function Pm(o){return Dm(o)?Gl(void 0,o.useValue):Gl(tg(o),ph)}(c);if(Xd(c)||!0!==c.multi)this.records.get(u);else{let R=this.records.get(u);R||(R=Gl(void 0,ph,!0),R.factory=()=>ot(R.multi),this.records.set(u,R)),u=c,R.multi.push(c)}this.records.set(u,E)}hydrate(c,u){return u.value===ph&&(u.value=gv,u.value=u.factory()),"object"==typeof u.value&&u.value&&function vv(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(c){if(!c.providedIn)return!1;const u=k(c.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(c){const u=this._onDestroyHooks.indexOf(c);-1!==u&&this._onDestroyHooks.splice(u,1)}}function wm(o){const c=se(o),u=null!==c?c.factory:ut(o);if(null!==u)return u;if(o instanceof Nr)throw new S(204,!1);if(o instanceof Function)return function _v(o){const c=o.length;if(c>0)throw Wa(c,"?"),new S(204,!1);const u=function Q(o){return o&&(o[$]||o[Z])||null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new S(204,!1)}function tg(o,c,u){let E;if(Xd(o)){const R=k(o);return ut(R)||wm(R)}if(Dm(o))E=()=>k(o.useValue);else if(function Mm(o){return!(!o||!o.useFactory)}(o))E=()=>o.useFactory(...ot(o.deps||[]));else if(function eg(o){return!(!o||!o.useExisting)}(o))E=()=>nt(k(o.useExisting));else{const R=k(o&&(o.useClass||o.provide));if(!function _h(o){return!!o.deps}(o))return ut(R)||wm(R);E=()=>new R(...ot(o.deps))}return E}function Gl(o,c,u=!1){return{factory:o,value:c,multi:u?[]:void 0}}function ng(o,c){for(const u of o)Array.isArray(u)?ng(u,c):u&&O(u)?ng(u.\u0275providers,c):c(u)}const ig=new Nr("AppId",{providedIn:"root",factory:()=>yv}),yv="ng",rg=new Nr("Platform Initializer"),Om=new Nr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ev=new Nr("AnimationModuleType"),Tv=new Nr("CSP nonce",{providedIn:"root",factory:()=>G().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Um=(o,c)=>null;function ag(o,c){return Um(o,c)}class wu{}class dg{}class wv{resolveComponentFactory(c){throw function Iv(o){const c=Error(`No component factory found for ${p(o)}.`);return c.ngComponent=o,c}(c)}}let hf=(()=>{class o{static#e=this.NULL=new wv}return o})();function Pv(){return Pu(gr(),ii())}function Pu(o,c){return new mf(Vt(o,c))}let mf=(()=>{class o{constructor(u){this.nativeElement=u}static#e=this.__NG_ELEMENT_ID__=Pv}return o})();function Ov(o){return o instanceof mf?o.nativeElement:o}class fg{}let Rv=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Nv(){const o=ii(),u=In(gr().index,o);return(Zr(u)?u:o)[qn]}()}return o})(),Lv=(()=>{class o{static#e=this.\u0275prov=ye({token:o,providedIn:"root",factory:()=>null})}return o})();class hg{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const mg=new hg("16.1.7"),Km={};function pf(o){for(;o;){o[Ni]|=64;const c=Yd(o);if(rs(o)&&!c)return o;o=c}return null}function Wm(o){return o.ngOriginalError}class tu{constructor(){this._console=console}handleError(c){const u=this._findOriginalError(c);this._console.error("ERROR",c),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(c){let u=c&&Wm(c);for(;u&&Wm(u);)u=Wm(u);return u||null}}const Co=new Nr("",{providedIn:"root",factory:()=>!1});function vg(o){return o.ownerDocument.defaultView}function ad(o){return o instanceof Function?o():o}class Sg extends Ro{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(c){this._lView=c}onConsumerDependencyMayHaveChanged(){pf(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(c,u,E){const R=Tr(this);this.trackingVersion++;try{c(u,E)}finally{Tr(R)}}destroy(){this.trackingVersion++}}let Ch=null;function Cg(){return Ch??=new Sg,Ch}function Dg(o,c){return o[c]??Cg()}function Mg(o,c){const u=Cg();u.hasReadASignal&&(o[c]=Ch,u.lView=o,Ch=new Sg)}const ar={};function Ag(o){xg(or(),ii(),Vo()+o,!1)}function xg(o,c,u,E){if(!E)if(3==(3&c[Ni])){const V=o.preOrderCheckHooks;null!==V&&_r(c,V,u)}else{const V=o.preOrderHooks;null!==V&&so(c,V,0,u)}Ai(u)}function Og(o,c=null,u=null,E){const R=Rg(o,c,u,E);return R.resolveInjectorInitializers(),R}function Rg(o,c=null,u=null,E,R=new Set){const V=[u||Mn,xd(o)];return E=E||("object"==typeof o?void 0:p(o)),new Im(V,c||gh(),E||null,R)}let Na=(()=>{class o{static#e=this.THROW_IF_NOT_FOUND=Et;static#t=this.NULL=new Ra;static create(u,E){if(Array.isArray(u))return Og({name:""},E,u,"");{const R=u.name??"";return Og({name:R},u.parent,u.providers,R)}}static#n=this.\u0275prov=ye({token:o,providedIn:"any",factory:()=>nt(Ta)});static#i=this.__NG_ELEMENT_ID__=-1}return o})();function nu(o,c=pe.Default){const u=ii();return null===u?nt(o,c):Dc(gr(),u,k(o),c)}function Dh(){throw new Error("invalid")}function Ru(o,c,u,E,R,V,ue,Ue,tt,Ot,Jt){const mn=c.blueprint.slice();return mn[hr]=R,mn[Ni]=140|E,(null!==Ot||o&&2048&o[Ni])&&(mn[Ni]|=2048),rr(mn),mn[qi]=mn[Ki]=o,mn[vn]=u,mn[ri]=ue||o&&o[ri],mn[qn]=Ue||o&&o[qn],mn[Kn]=tt||o&&o[Kn]||null,mn[Or]=V,mn[Ao]=function Hp(){return am++}(),mn[Xr]=Jt,mn[Ps]=Ot,mn[ki]=2==c.type?o[ki]:mn,mn}function Hs(o,c,u,E,R){let V=o.data[c];if(null===V)V=Mh(o,c,u,E,R),function Lo(){return vi.lFrame.inI18n}()&&(V.flags|=32);else if(64&V.type){V.type=u,V.value=E,V.attrs=R;const ue=il();V.injectorIndex=null===ue?-1:ue.injectorIndex}return No(V,!0),V}function Mh(o,c,u,E,R){const V=Hc(),ue=Al(),tt=o.data[c]=function Ug(o,c,u,E,R,V){let ue=c?c.injectorIndex:-1,Ue=0;return Kr()&&(Ue|=128),{type:u,index:E,insertBeforeIndex:null,injectorIndex:ue,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Ue,providerIndexes:0,value:R,attrs:V,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,ue?V:V&&V.parent,u,c,E,R);return null===o.firstChild&&(o.firstChild=tt),null!==V&&(ue?null==V.child&&null!==tt.parent&&(V.child=tt):null===V.next&&(V.next=tt,tt.prev=V)),tt}function gf(o,c,u,E){if(0===u)return-1;const R=c.length;for(let V=0;V<u;V++)c.push(E),o.blueprint.push(E),o.data.push(null);return R}function Ah(o,c,u,E,R){const V=Dg(c,Zo),ue=Vo(),Ue=2&E;try{if(Ai(-1),Ue&&c.length>Zi&&xg(o,c,Zi,!1),ss(Ue?2:0,R),Ue)V.runInContext(u,E,R);else{const Ot=Tr(null);try{u(E,R)}finally{Tr(Ot)}}}finally{Ue&&null===c[Zo]&&Mg(c,Zo),Ai(ue),ss(Ue?3:1,R)}}function zm(o,c,u){if(Ws(c)){const E=Tr(null);try{const V=c.directiveEnd;for(let ue=c.directiveStart;ue<V;ue++){const Ue=o.data[ue];Ue.contentQueries&&Ue.contentQueries(1,u[ue],ue)}}finally{Tr(E)}}}function ld(o,c,u){ta()&&(function jg(o,c,u,E){const R=u.directiveStart,V=u.directiveEnd;po(u)&&function Wg(o,c,u){const E=Vt(c,o),R=Ng(u);let ue=16;u.signals?ue=4096:u.onPush&&(ue=64);const Ue=Ca(o,Ru(o,R,null,ue,E,c,null,o[ri].rendererFactory.createRenderer(E,u),null,null,null));o[c.index]=Ue}(c,u,o.data[R+u.componentOffset]),o.firstCreatePass||ul(u,c),vs(E,c);const ue=u.initialInputs;for(let Ue=R;Ue<V;Ue++){const tt=o.data[Ue],Ot=Ui(c,o,Ue,u);vs(Ot,c),null!==ue&&Qv(0,Ue-R,Ot,tt,0,ue),yr(tt)&&(In(u.index,c)[vn]=Ui(c,o,Ue,u))}}(o,c,u,Vt(u,c)),64==(64&u.flags)&&Vg(o,c,u))}function xh(o,c,u=Vt){const E=c.localNames;if(null!==E){let R=c.index+1;for(let V=0;V<E.length;V+=2){const ue=E[V+1],Ue=-1===ue?u(c,o):o[ue];o[R++]=Ue}}}function Ng(o){const c=o.tView;return null===c||c.incompleteFirstPass?o.tView=Lg(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):c}function Lg(o,c,u,E,R,V,ue,Ue,tt,Ot,Jt){const mn=Zi+E,Rn=mn+R,jn=function Yv(o,c){const u=[];for(let E=0;E<c;E++)u.push(E<o?null:ar);return u}(mn,Rn),ti="function"==typeof Ot?Ot():Ot;return jn[_i]={type:o,blueprint:jn,template:u,queries:null,viewQuery:Ue,declTNode:c,data:jn.slice().fill(null,mn),bindingStartIndex:mn,expandoStartIndex:Rn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof V?V():V,pipeRegistry:"function"==typeof ue?ue():ue,firstChild:null,schemas:tt,consts:ti,incompleteFirstPass:!1,ssrId:Jt}}let zv=o=>null;function Gg(o,c,u,E){for(let R in o)if(o.hasOwnProperty(R)){u=null===u?{}:u;const V=o[R];null===E?Ih(u,c,R,V):E.hasOwnProperty(R)&&Ih(u,c,E[R],V)}return u}function Ih(o,c,u,E){o.hasOwnProperty(u)?o[u].push(c,E):o[u]=[c,E]}function Sa(o,c,u,E,R,V,ue,Ue){const tt=Vt(c,u);let Jt,Ot=c.inputs;!Ue&&null!=Ot&&(Jt=Ot[E])?(Zg(o,u,Jt,E,R),po(c)&&function Hg(o,c){const u=In(c,o);16&u[Ni]||(u[Ni]|=64)}(u,c.index)):3&c.type&&(E=function Ph(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(E),R=null!=ue?ue(R,c.value||"",E):R,V.setProperty(tt,E,R))}function _f(o,c,u,E){if(ta()){const R=null===E?null:{"":-1},V=function wd(o,c){const u=o.directiveRegistry;let E=null,R=null;if(u)for(let V=0;V<u.length;V++){const ue=u[V];if(Un(c,ue.selectors,!1))if(E||(E=[]),yr(ue))if(null!==ue.findHostDirectiveDefs){const Ue=[];R=R||new Map,ue.findHostDirectiveDefs(ue,Ue,R),E.unshift(...Ue,ue),Hl(o,c,Ue.length)}else E.unshift(ue),Hl(o,c,0);else R=R||new Map,ue.findHostDirectiveDefs?.(ue,E,R),E.push(ue)}return null===E?null:[E,R]}(o,u);let ue,Ue;null===V?ue=Ue=null:[ue,Ue]=V,null!==ue&&vf(o,c,u,ue,R,Ue),R&&function iu(o,c,u){if(c){const E=o.localNames=[];for(let R=0;R<c.length;R+=2){const V=u[c[R+1]];if(null==V)throw new S(-301,!1);E.push(c[R],V)}}}(u,E,R)}u.mergedAttrs=Tt(u.mergedAttrs,u.attrs)}function vf(o,c,u,E,R,V){for(let Ot=0;Ot<E.length;Ot++)Wc(ul(u,c),o,E[Ot].type);!function Jv(o,c,u){o.flags|=1,o.directiveStart=c,o.directiveEnd=c+u,o.providerIndexes=c}(u,o.data.length,E.length);for(let Ot=0;Ot<E.length;Ot++){const Jt=E[Ot];Jt.providersResolver&&Jt.providersResolver(Jt)}let ue=!1,Ue=!1,tt=gf(o,c,E.length,null);for(let Ot=0;Ot<E.length;Ot++){const Jt=E[Ot];u.mergedAttrs=Tt(u.mergedAttrs,Jt.hostAttrs),Jm(o,u,c,tt,Jt),bf(tt,Jt,R),null!==Jt.contentQueries&&(u.flags|=4),(null!==Jt.hostBindings||null!==Jt.hostAttrs||0!==Jt.hostVars)&&(u.flags|=64);const mn=Jt.type.prototype;!ue&&(mn.ngOnChanges||mn.ngOnInit||mn.ngDoCheck)&&((o.preOrderHooks??=[]).push(u.index),ue=!0),!Ue&&(mn.ngOnChanges||mn.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(u.index),Ue=!0),tt++}!function wh(o,c,u){const R=c.directiveEnd,V=o.data,ue=c.attrs,Ue=[];let tt=null,Ot=null;for(let Jt=c.directiveStart;Jt<R;Jt++){const mn=V[Jt],Rn=u?u.get(mn):null,ti=Rn?Rn.outputs:null;tt=Gg(mn.inputs,Jt,tt,Rn?Rn.inputs:null),Ot=Gg(mn.outputs,Jt,Ot,ti);const hi=null===tt||null===ue||Lt(c)?null:Zy(tt,Jt,ue);Ue.push(hi)}null!==tt&&(tt.hasOwnProperty("class")&&(c.flags|=8),tt.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=Ue,c.inputs=tt,c.outputs=Ot}(o,u,V)}function Vg(o,c,u){const E=u.directiveStart,R=u.directiveEnd,V=u.index,ue=function xl(){return vi.lFrame.currentDirectiveIndex}();try{Ai(V);for(let Ue=E;Ue<R;Ue++){const tt=o.data[Ue],Ot=c[Ue];Ql(Ue),(null!==tt.hostBindings||0!==tt.hostVars||null!==tt.hostAttrs)&&Kg(tt,Ot)}}finally{Ai(-1),Ql(ue)}}function Kg(o,c){null!==o.hostBindings&&o.hostBindings(1,c)}function Hl(o,c,u){c.componentOffset=u,(o.components??=[]).push(c.index)}function bf(o,c,u){if(u){if(c.exportAs)for(let E=0;E<c.exportAs.length;E++)u[c.exportAs[E]]=o;yr(c)&&(u[""]=o)}}function Jm(o,c,u,E,R){o.data[E]=R;const V=R.factory||(R.factory=ut(R.type)),ue=new ll(V,yr(R),nu);o.blueprint[E]=ue,u[E]=ue,function $v(o,c,u,E,R){const V=R.hostBindings;if(V){let ue=o.hostBindingOpCodes;null===ue&&(ue=o.hostBindingOpCodes=[]);const Ue=~c.index;(function yf(o){let c=o.length;for(;c>0;){const u=o[--c];if("number"==typeof u&&u<0)return u}return 0})(ue)!=Ue&&ue.push(Ue),ue.push(u,E,V)}}(o,c,E,gf(o,u,R.hostVars,ar),R)}function za(o,c,u,E,R,V){const ue=Vt(o,c);!function Nu(o,c,u,E,R,V,ue){if(null==V)o.removeAttribute(c,R,u);else{const Ue=null==ue?C(V):ue(V,E||"",R);o.setAttribute(c,R,Ue,u)}}(c[qn],ue,V,o.value,u,E,R)}function Qv(o,c,u,E,R,V){const ue=V[c];if(null!==ue)for(let Ue=0;Ue<ue.length;)Oh(E,u,ue[Ue++],ue[Ue++],ue[Ue++])}function Oh(o,c,u,E,R){const V=Tr(null);try{const ue=o.inputTransforms;null!==ue&&ue.hasOwnProperty(E)&&(R=ue[E].call(c,R)),null!==o.setInput?o.setInput(c,R,u,E):c[E]=R}finally{Tr(V)}}function Zy(o,c,u){let E=null,R=0;for(;R<u.length;){const V=u[R];if(0!==V)if(5!==V){if("number"==typeof V)break;if(o.hasOwnProperty(V)){null===E&&(E=[]);const ue=o[V];for(let Ue=0;Ue<ue.length;Ue+=2)if(ue[Ue]===c){E.push(V,ue[Ue+1],u[R+1]);break}}R+=2}else R+=2;else R+=4}return E}function Yg(o,c,u,E){return[o,!0,!1,c,null,0,E,u,null,null,null]}function zg(o,c){const u=o.contentQueries;if(null!==u)for(let E=0;E<u.length;E+=2){const V=u[E+1];if(-1!==V){const ue=o.data[V];ga(u[E]),ue.contentQueries(2,c[V],V)}}}function Ca(o,c){return o[wi]?o[Hi][Gr]=c:o[wi]=c,o[Hi]=c,c}function Rh(o,c,u){ga(0);const E=Tr(null);try{c(o,u)}finally{Tr(E)}}function qv(o){return o[ro]||(o[ro]=[])}function Xv(o){return o.cleanup||(o.cleanup=[])}function e0(o,c,u){return(null===o||yr(o))&&(u=function Us(o){for(;Array.isArray(o);){if("object"==typeof o[$o])return o;o=o[hr]}return null}(u[c.index])),u[qn]}function t0(o,c){const u=o[Kn],E=u?u.get(tu,null):null;E&&E.handleError(c)}function Zg(o,c,u,E,R){for(let V=0;V<u.length;){const ue=u[V++],Ue=u[V++];Oh(o.data[ue],c[ue],E,Ue,R)}}function jl(o,c,u){const E=Ge(c,o);!function $f(o,c,u){o.setValue(c,u)}(o[qn],E,u)}function n0(o,c){const u=In(c,o),E=u[_i];!function r0(o,c){for(let u=c.length;u<o.blueprint.length;u++)c.push(o.blueprint[u])}(E,u);const R=u[hr];null!==R&&null===u[Xr]&&(u[Xr]=ag(R,u[Kn])),Qm(E,u,u[vn])}function Qm(o,c,u){ps(c);try{const E=o.viewQuery;null!==E&&Rh(1,E,u);const R=o.template;null!==R&&Ah(o,c,R,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&zg(o,c),o.staticViewQueries&&Rh(2,o.viewQuery,u);const V=o.components;null!==V&&function Nh(o,c){for(let u=0;u<c.length;u++)n0(o,c[u])}(c,V)}catch(E){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),E}finally{c[Ni]&=-5,jc()}}let Jg=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(u,E,R){const V=typeof Zone>"u"?null:Zone.current,ue=new yc(u,Ot=>{this.all.has(Ot)&&this.queue.set(Ot,V)},R);let Ue;this.all.add(ue),ue.notify();const tt=()=>{ue.cleanup(),Ue?.(),this.all.delete(ue),this.queue.delete(ue)};return Ue=E?.onDestroy(tt),{destroy:tt}}flush(){if(0!==this.queue.size)for(const[u,E]of this.queue)this.queue.delete(u),E?E.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ye({token:o,providedIn:"root",factory:()=>new o})}return o})();function Ef(o,c,u){let E=u?o.styles:null,R=u?o.classes:null,V=0;if(null!==c)for(let ue=0;ue<c.length;ue++){const Ue=c[ue];"number"==typeof Ue?V=Ue:1==V?R=T(R,Ue):2==V&&(E=T(E,Ue+": "+c[++ue]+";"))}u?o.styles=E:o.stylesWithoutHost=E,u?o.classes=R:o.classesWithoutHost=R}function Tf(o,c,u,E,R=!1){for(;null!==u;){const V=c[u.index];if(null!==V&&E.push($i(V)),Er(V)){for(let Ue=Fr;Ue<V.length;Ue++){const tt=V[Ue],Ot=tt[_i].firstChild;null!==Ot&&Tf(tt[_i],tt,Ot,E)}V[To]!==V[hr]&&E.push(V[To])}const ue=u.type;if(8&ue)Tf(o,c,u.child,E);else if(32&ue){const Ue=td(u,c);let tt;for(;tt=Ue();)E.push(tt)}else if(16&ue){const Ue=oh(c,u);if(Array.isArray(Ue))E.push(...Ue);else{const tt=Yd(c[ki]);Tf(tt[_i],tt,Ue,E,!0)}}u=R?u.projectionNext:u.next}return E}function kh(o,c,u,E=!0){const R=c[ri].rendererFactory;R.begin&&R.begin();try{Qg(o,c,o.template,u)}catch(ue){throw E&&t0(c,ue),ue}finally{R.end&&R.end(),c[ri].effectManager?.flush()}}function Qg(o,c,u,E){const R=c[Ni];if(256!=(256&R)){c[ri].effectManager?.flush(),ps(c);try{rr(c),function rl(o){return vi.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&Ah(o,c,u,2,E);const ue=3==(3&R);if(ue){const Ot=o.preOrderCheckHooks;null!==Ot&&_r(c,Ot,null)}else{const Ot=o.preOrderHooks;null!==Ot&&so(c,Ot,0,null),ra(c,0)}if(function ru(o){for(let c=id(o);null!==c;c=Zf(c)){if(!c[ns])continue;const u=c[cs];for(let E=0;E<u.length;E++){Qi(u[E])}}}(c),qg(c,2),null!==o.contentQueries&&zg(o,c),ue){const Ot=o.contentCheckHooks;null!==Ot&&_r(c,Ot)}else{const Ot=o.contentHooks;null!==Ot&&so(c,Ot,1),ra(c,1)}!function Ym(o,c){const u=o.hostBindingOpCodes;if(null===u)return;const E=Dg(c,xo);try{for(let R=0;R<u.length;R++){const V=u[R];if(V<0)Ai(~V);else{const ue=V,Ue=u[++R],tt=u[++R];ol(Ue,ue),E.runInContext(tt,2,c[ue])}}}finally{null===c[xo]&&Mg(c,xo),Ai(-1)}}(o,c);const Ue=o.components;null!==Ue&&Sf(c,Ue,0);const tt=o.viewQuery;if(null!==tt&&Rh(2,tt,E),ue){const Ot=o.viewCheckHooks;null!==Ot&&_r(c,Ot)}else{const Ot=o.viewHooks;null!==Ot&&so(c,Ot,2),ra(c,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),c[Ni]&=-73,$r(c)}finally{jc()}}}function qg(o,c){for(let u=id(o);null!==u;u=Zf(u))for(let E=Fr;E<u.length;E++)Fh(u[E],c)}function Xm(o,c,u){Fh(In(c,o),u)}function Fh(o,c){if(!function mi(o){return 128==(128&o[Ni])}(o))return;const u=o[_i];if(80&o[Ni]&&0===c||1024&o[Ni]||2===c)Qg(u,o,u.template,o[vn]);else if(o[Do]>0){qg(o,1);const R=o[_i].components;null!==R&&Sf(o,R,1)}}function Sf(o,c,u){for(let E=0;E<c.length;E++)Xm(o,c[E],u)}class Cf{get rootNodes(){const c=this._lView,u=c[_i];return Tf(u,c,u.firstChild,[])}constructor(c,u){this._lView=c,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vn]}set context(c){this._lView[vn]=c}get destroyed(){return 256==(256&this._lView[Ni])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[qi];if(Er(c)){const u=c[8],E=u?u.indexOf(this):-1;E>-1&&(Xu(c,E),Ka(u,E))}this._attachedToViewContainer=!1}Xf(this._lView[_i],this._lView)}onDestroy(c){!function Ir(o,c){if(256==(256&o[Ni]))throw new S(911,!1);null===o[zr]&&(o[zr]=[]),o[zr].push(c)}(this._lView,c)}markForCheck(){pf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ni]&=-129}reattach(){this._lView[Ni]|=128}detectChanges(){kh(this._lView[_i],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Qf(o,c){Bl(o,c,c[qn],2,null,null)}(this._lView[_i],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=c}}class a0 extends Cf{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;kh(c[_i],c,c[vn],!1)}checkNoChanges(){}get context(){return null}}class Xg extends hf{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const u=Li(c);return new Df(u,this.ngModule)}}function e_(o){const c=[];for(let u in o)o.hasOwnProperty(u)&&c.push({propName:o[u],templateName:u});return c}class ep{constructor(c,u){this.injector=c,this.parentInjector=u}get(c,u,E){E=rt(E);const R=this.injector.get(c,Km,E);return R!==Km||u===Km?R:this.parentInjector.get(c,u,E)}}class Df extends dg{get inputs(){const c=this.componentDef,u=c.inputTransforms,E=e_(c.inputs);if(null!==u)for(const R of E)u.hasOwnProperty(R.propName)&&(R.transform=u[R.propName]);return E}get outputs(){return e_(this.componentDef.outputs)}constructor(c,u){super(),this.componentDef=c,this.ngModule=u,this.componentType=c.type,this.selector=function en(o){return o.map(At).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!u}create(c,u,E,R){let V=(R=R||this.ngModule)instanceof eu?R:R?.injector;V&&null!==this.componentDef.getStandaloneInjector&&(V=this.componentDef.getStandaloneInjector(V)||V);const ue=V?new ep(c,V):c,Ue=ue.get(fg,null);if(null===Ue)throw new S(407,!1);const Jt={rendererFactory:Ue,sanitizer:ue.get(Lv,null),effectManager:ue.get(Jg,null)},mn=Ue.createRenderer(null,this.componentDef),Rn=this.componentDef.selectors[0][0]||"div",jn=E?function kg(o,c,u,E){const V=E.get(Co,!1)||u===gn.ShadowDom,ue=o.selectRootElement(c,V);return function Fg(o){zv(o)}(ue),ue}(mn,E,this.componentDef.encapsulation,ue):Eu(mn,Rn,function l0(o){const c=o.toLowerCase();return"svg"===c?Aa:"math"===c?"math":null}(Rn)),Ii=this.componentDef.signals?4608:this.componentDef.onPush?576:528,ji=Lg(0,null,null,1,0,null,null,null,null,null,null),si=Ru(null,ji,null,Ii,null,null,Jt,mn,ue,null,null);let cr,jr;ps(si);try{const Yr=this.componentDef;let Za,fv=null;Yr.findHostDirectiveDefs?(Za=[],fv=new Map,Yr.findHostDirectiveDefs(Yr,Za,fv),Za.push(Yr)):Za=[Yr];const FD=function Uh(o,c){const u=o[_i],E=Zi;return o[E]=c,Hs(u,E,2,"#host",null)}(si,jn),BD=function c0(o,c,u,E,R,V,ue){const Ue=R[_i];!function n_(o,c,u,E){for(const R of o)c.mergedAttrs=Tt(c.mergedAttrs,R.hostAttrs);null!==c.mergedAttrs&&(Ef(c,c.mergedAttrs,!0),null!==u&&ym(E,u,c))}(E,o,c,ue);let tt=null;null!==c&&(tt=ag(c,R[Kn]));const Ot=V.rendererFactory.createRenderer(c,u);let Jt=16;u.signals?Jt=4096:u.onPush&&(Jt=64);const mn=Ru(R,Ng(u),null,Jt,R[o.index],o,V,Ot,null,null,tt);return Ue.firstCreatePass&&Hl(Ue,o,E.length-1),Ca(R,mn),R[o.index]=mn}(FD,jn,Yr,Za,si,Jt,mn);jr=Mt(ji,Zi),jn&&function Jy(o,c,u,E){if(E)dt(o,u,["ng-version",mg.full]);else{const{attrs:R,classes:V}=function wn(o){const c=[],u=[];let E=1,R=2;for(;E<o.length;){let V=o[E];if("string"==typeof V)2===R?""!==V&&c.push(V,o[++E]):8===R&&u.push(V);else{if(!$t(R))break;R=V}E++}return{attrs:c,classes:u}}(c.selectors[0]);R&&dt(o,u,R),V&&V.length>0&&vm(o,u,V.join(" "))}}(mn,Yr,jn,E),void 0!==u&&function tp(o,c,u){const E=o.projection=[];for(let R=0;R<c.length;R++){const V=u[R];E.push(null!=V?Array.from(V):null)}}(jr,this.ngContentSelectors,u),cr=function d0(o,c,u,E,R,V){const ue=gr(),Ue=R[_i],tt=Vt(ue,R);vf(Ue,R,ue,u,null,E);for(let Jt=0;Jt<u.length;Jt++)vs(Ui(R,Ue,ue.directiveStart+Jt,ue),R);Vg(Ue,R,ue),tt&&vs(tt,R);const Ot=Ui(R,Ue,ue.directiveStart+ue.componentOffset,ue);if(o[vn]=R[vn]=Ot,null!==V)for(const Jt of V)Jt(Ot,c);return zm(Ue,ue,o),Ot}(BD,Yr,Za,fv,si,[Qy]),Qm(ji,si,null)}finally{jc()}return new Bh(this.componentType,cr,Pu(jr,si),si,jr)}}class Bh extends wu{constructor(c,u,E,R,V){super(),this.location=E,this._rootLView=R,this._tNode=V,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new a0(R),this.componentType=c}setInput(c,u){const E=this._tNode.inputs;let R;if(null!==E&&(R=E[c])){if(this.previousInputValues??=new Map,this.previousInputValues.has(c)&&Object.is(this.previousInputValues.get(c),u))return;const V=this._rootLView;Zg(V[_i],V,R,c,u),this.previousInputValues.set(c,u),pf(In(this._tNode.index,V))}}get injector(){return new Va(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function Qy(){const o=gr();Ri(ii()[_i],o)}function np(o){let c=function i_(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const E=[o];for(;c;){let R;if(yr(o))R=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new S(903,!1);R=c.\u0275dir}if(R){if(u){E.push(R);const ue=o;ue.inputs=Lu(o.inputs),ue.inputTransforms=Lu(o.inputTransforms),ue.declaredInputs=Lu(o.declaredInputs),ue.outputs=Lu(o.outputs);const Ue=R.hostBindings;Ue&&u0(o,Ue);const tt=R.viewQuery,Ot=R.contentQueries;if(tt&&o_(o,tt),Ot&&qy(o,Ot),h(o.inputs,R.inputs),h(o.declaredInputs,R.declaredInputs),h(o.outputs,R.outputs),null!==R.inputTransforms&&(null===ue.inputTransforms&&(ue.inputTransforms={}),h(ue.inputTransforms,R.inputTransforms)),yr(R)&&R.data.animation){const Jt=o.data;Jt.animation=(Jt.animation||[]).concat(R.data.animation)}}const V=R.features;if(V)for(let ue=0;ue<V.length;ue++){const Ue=V[ue];Ue&&Ue.ngInherit&&Ue(o),Ue===np&&(u=!1)}}c=Object.getPrototypeOf(c)}!function r_(o){let c=0,u=null;for(let E=o.length-1;E>=0;E--){const R=o[E];R.hostVars=c+=R.hostVars,R.hostAttrs=Tt(R.hostAttrs,u=Tt(u,R.hostAttrs))}}(E)}function Lu(o){return o===Tn?{}:o===Mn?[]:o}function o_(o,c){const u=o.viewQuery;o.viewQuery=u?(E,R)=>{c(E,R),u(E,R)}:c}function qy(o,c){const u=o.contentQueries;o.contentQueries=u?(E,R,V)=>{c(E,R,V),u(E,R,V)}:c}function u0(o,c){const u=o.hostBindings;o.hostBindings=u?(E,R)=>{c(E,R),u(E,R)}:c}function s_(o){return c=>{c.findHostDirectiveDefs=a_,c.hostDirectives=(Array.isArray(o)?o:o()).map(u=>"function"==typeof u?{directive:k(u),inputs:Tn,outputs:Tn}:{directive:k(u.directive),inputs:ip(u.inputs),outputs:ip(u.outputs)})}}function a_(o,c,u){if(null!==o.hostDirectives)for(const E of o.hostDirectives){const R=er(E.directive);p0(R.declaredInputs,E.inputs),a_(R,c,u),u.set(R,E),c.push(R)}}function ip(o){if(void 0===o||0===o.length)return Tn;const c={};for(let u=0;u<o.length;u+=2)c[o[u]]=o[u+1];return c}function p0(o,c){for(const u in c)c.hasOwnProperty(u)&&(o[c[u]]=o[u])}function l_(o){const c=o.inputConfig,u={};for(const E in c)if(c.hasOwnProperty(E)){const R=c[E];Array.isArray(R)&&R[2]&&(u[E]=R[2])}o.inputTransforms=u}function Gh(o){return!!op(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function op(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Fc(o,c,u){return o[c]=u}function js(o,c,u){return!Object.is(o[c],u)&&(o[c]=u,!0)}function mc(o,c,u,E){const R=js(o,c,u);return js(o,c+1,E)||R}function ku(o,c,u,E,R){const V=mc(o,c,u,E);return js(o,c+2,R)||V}function sp(o,c,u,E){const R=ii();return js(R,Sr(),c)&&(or(),za(we(),R,o,c,u,E)),sp}function Fu(o,c,u,E){return js(o,Sr(),u)?c+C(u)+E:ar}function Bu(o,c,u,E,R,V){const Ue=mc(o,ms(),u,R);return as(2),Ue?c+C(u)+E+C(R)+V:ar}function E_(o,c,u,E,R,V,ue,Ue){const tt=ii(),Ot=or(),Jt=o+Zi,mn=Ot.firstCreatePass?function x0(o,c,u,E,R,V,ue,Ue,tt){const Ot=c.consts,Jt=Hs(c,o,4,ue||null,Wi(Ot,Ue));_f(c,u,Jt,Wi(Ot,tt)),Ri(c,Jt);const mn=Jt.tView=Lg(2,Jt,E,R,V,c.directiveRegistry,c.pipeRegistry,null,c.schemas,Ot,null);return null!==c.queries&&(c.queries.template(c,Jt),mn.queries=c.queries.embeddedTView(Jt)),Jt}(Jt,Ot,tt,c,u,E,R,V,ue):Ot.data[Jt];No(mn,!1);const Rn=T_(Ot,tt,mn,o);kn()&&rf(Ot,tt,Rn,mn),vs(Rn,tt),Ca(tt,tt[Jt]=Yg(Rn,tt,Rn,mn)),us(mn)&&ld(Ot,tt,mn),null!=ue&&xh(tt,mn,Ue)}let T_=function S_(o,c,u,E){return ni(!0),c[qn].createComment("")};function wf(o){return ct(function xa(){return vi.lFrame.contextLView}(),Zi+o)}function Od(o,c,u){const E=ii();return js(E,Sr(),c)&&Sa(or(),we(),E,o,c,E[qn],u,!1),Od}function Bc(o,c,u,E,R){const ue=R?"class":"style";Zg(o,u,c.inputs[ue],ue,E)}function Wh(o,c,u,E){const R=ii(),V=or(),ue=Zi+o,Ue=R[qn],tt=V.firstCreatePass?function C_(o,c,u,E,R,V){const ue=c.consts,tt=Hs(c,o,2,E,Wi(ue,R));return _f(c,u,tt,Wi(ue,V)),null!==tt.attrs&&Ef(tt,tt.attrs,!1),null!==tt.mergedAttrs&&Ef(tt,tt.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,tt),tt}(ue,V,R,c,u,E):V.data[ue],Ot=D_(V,R,tt,Ue,c,o);R[ue]=Ot;const Jt=us(tt);return No(tt,!0),ym(Ue,Ot,tt),32!=(32&tt.flags)&&kn()&&rf(V,R,Ot,tt),0===function oo(){return vi.lFrame.elementDepthCount}()&&vs(Ot,R),function Xo(){vi.lFrame.elementDepthCount++}(),Jt&&(ld(V,R,tt),zm(V,tt,R)),null!==E&&xh(R,tt),Wh}function Yh(){let o=gr();Al()?Wr():(o=o.parent,No(o,!1));const c=o;(function bc(o){return vi.skipHydrationRootTNode===o})(c)&&function Ml(){vi.skipHydrationRootTNode=null}(),function tr(){vi.lFrame.elementDepthCount--}();const u=or();return u.firstCreatePass&&(Ri(u,o),Ws(o)&&u.queries.elementEnd(o)),null!=c.classesWithoutHost&&function Xl(o){return 0!=(8&o.flags)}(c)&&Bc(u,c,ii(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function ec(o){return 0!=(16&o.flags)}(c)&&Bc(u,c,ii(),c.stylesWithoutHost,!1),Yh}function zh(o,c,u,E){return Wh(o,c,u,E),Yh(),zh}let D_=(o,c,u,E,R,V)=>(ni(!0),Eu(E,R,function nn(){return vi.lFrame.currentNamespace}()));function Zh(o,c,u){const E=ii(),R=or(),V=o+Zi,ue=R.firstCreatePass?function _p(o,c,u,E,R){const V=c.consts,ue=Wi(V,E),Ue=Hs(c,o,8,"ng-container",ue);return null!==ue&&Ef(Ue,ue,!0),_f(c,u,Ue,Wi(V,R)),null!==c.queries&&c.queries.elementStart(c,Ue),Ue}(V,R,E,c,u):R.data[V];No(ue,!0);const Ue=M_(R,E,ue,o);return E[V]=Ue,kn()&&rf(R,E,Ue,ue),vs(Ue,E),us(ue)&&(ld(R,E,ue),zm(R,ue,E)),null!=u&&xh(E,ue),Zh}function Pf(){let o=gr();const c=or();return Al()?Wr():(o=o.parent,No(o,!1)),c.firstCreatePass&&(Ri(c,o),Ws(o)&&c.queries.elementEnd(o)),Pf}function Kl(o,c,u){return Zh(o,c,u),Pf(),Kl}let M_=(o,c,u,E)=>(ni(!0),Jf(c[qn],""));function $h(){return ii()}function yp(o){return!!o&&"function"==typeof o.then}function A_(o){return!!o&&"function"==typeof o.subscribe}function bp(o,c,u,E){const R=ii(),V=or(),ue=gr();return x_(V,R,R[qn],ue,o,c,E),bp}function Ep(o,c){const u=gr(),E=ii(),R=or();return x_(R,E,e0(sl(R.data),u,E),u,o,c),Ep}function x_(o,c,u,E,R,V,ue){const Ue=us(E),Ot=o.firstCreatePass&&Xv(o),Jt=c[vn],mn=qv(c);let Rn=!0;if(3&E.type||ue){const hi=Vt(E,c),Ii=ue?ue(hi):hi,ji=mn.length,si=ue?jr=>ue($i(jr[E.index])):E.index;let cr=null;if(!ue&&Ue&&(cr=function P0(o,c,u,E){const R=o.cleanup;if(null!=R)for(let V=0;V<R.length-1;V+=2){const ue=R[V];if(ue===u&&R[V+1]===E){const Ue=c[ro],tt=R[V+2];return Ue.length>tt?Ue[tt]:null}"string"==typeof ue&&(V+=2)}return null}(o,c,R,E.index)),null!==cr)(cr.__ngLastListenerFn__||cr).__ngNextListenerFn__=V,cr.__ngLastListenerFn__=V,Rn=!1;else{V=w_(E,c,Jt,V,!1);const jr=u.listen(Ii,R,V);mn.push(V,jr),Ot&&Ot.push(R,si,ji,ji+1)}}else V=w_(E,c,Jt,V,!1);const jn=E.outputs;let ti;if(Rn&&null!==jn&&(ti=jn[R])){const hi=ti.length;if(hi)for(let Ii=0;Ii<hi;Ii+=2){const Yr=c[ti[Ii]][ti[Ii+1]].subscribe(V),Za=mn.length;mn.push(V,Yr),Ot&&Ot.push(R,E.index,Za,-(Za+1))}}}function I_(o,c,u,E){try{return ss(6,c,u),!1!==u(E)}catch(R){return t0(o,R),!1}finally{ss(7,c,u)}}function w_(o,c,u,E,R){return function V(ue){if(ue===Function)return E;pf(o.componentOffset>-1?In(o.index,c):c);let tt=I_(c,u,E,ue),Ot=V.__ngNextListenerFn__;for(;Ot;)tt=I_(c,u,Ot,ue)&&tt,Ot=Ot.__ngNextListenerFn__;return R&&!1===tt&&ue.preventDefault(),tt}}function P_(o=1){return function Sc(o){return(vi.lFrame.contextLView=function ko(o,c){for(;o>0;)c=c[Ki],o--;return c}(o,vi.lFrame.contextLView))[vn]}(o)}function O0(o,c){let u=null;const E=function Vn(o){const c=o.attrs;if(null!=c){const u=c.indexOf(5);if(!(1&u))return c[u+1]}return null}(o);for(let R=0;R<c.length;R++){const V=c[R];if("*"!==V){if(null===E?Un(o,V,!0):Ae(E,V))return R}else u=R}return u}function O_(o){const c=ii()[ki][Or];if(!c.projection){const E=c.projection=Wa(o?o.length:1,null),R=E.slice();let V=c.child;for(;null!==V;){const ue=o?O0(V,o):0;null!==ue&&(R[ue]?R[ue].projectionNext=V:E[ue]=V,R[ue]=V),V=V.next}}}function R_(o,c=0,u){const E=ii(),R=or(),V=Hs(R,Zi+o,16,null,u||null);null===V.projection&&(V.projection=c),Wr(),(!E[Xr]||Kr())&&32!=(32&V.flags)&&function zp(o,c,u){gm(c[qn],0,c,u,ef(o,u,c),ih(u.parent||c[Or],u,c))}(R,E,V)}function Tp(o,c,u){return Rf(o,"",c,"",u),Tp}function Rf(o,c,u,E,R){const V=ii(),ue=Fu(V,c,u,E);return ue!==ar&&Sa(or(),we(),V,o,ue,V[qn],R,!1),Rf}function Sp(o,c,u,E,R,V,ue){const Ue=ii(),tt=Bu(Ue,c,u,E,R,V);return tt!==ar&&Sa(or(),we(),Ue,o,tt,Ue[qn],ue,!1),Sp}function Jh(o,c){return o<<17|c<<2}function Rd(o){return o>>17&32767}function Lf(o){return 2|o}function cu(o){return(131068&o)>>2}function Dp(o,c){return-131069&o|c<<2}function Mp(o){return 1|o}function U_(o,c,u,E,R){const V=o[u+1],ue=null===c;let Ue=E?Rd(V):cu(V),tt=!1;for(;0!==Ue&&(!1===tt||ue);){const Jt=o[Ue+1];B0(o[Ue],c)&&(tt=!0,o[Ue+1]=E?Mp(Jt):Lf(Jt)),Ue=E?Rd(Jt):cu(Jt)}tt&&(o[u+1]=E?Lf(V):Mp(V))}function B0(o,c){return null===o||null==c||(Array.isArray(o)?o[1]:o)===c||!(!Array.isArray(o)||"string"!=typeof c)&&an(o,c)>=0}const ws={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function G_(o){return o.substring(ws.key,ws.keyEnd)}function H_(o,c){const u=ws.textEnd;return u===c?-1:(c=ws.keyEnd=function j0(o,c,u){for(;c<u&&o.charCodeAt(c)>32;)c++;return c}(o,ws.key=c,u),ju(o,c,u))}function ju(o,c,u){for(;c<u&&o.charCodeAt(c)<=32;)c++;return c}function Ap(o,c,u){return pc(o,c,u,!1),Ap}function xp(o,c){return pc(o,c,null,!0),xp}function Vu(o){gc(J0,Gc,o,!0)}function Gc(o,c){for(let u=function G0(o){return function V_(o){ws.key=0,ws.keyEnd=0,ws.value=0,ws.valueEnd=0,ws.textEnd=o.length}(o),H_(o,ju(o,0,ws.textEnd))}(c);u>=0;u=H_(c,u))st(o,G_(c),!0)}function pc(o,c,u,E){const R=ii(),V=or(),ue=as(2);V.firstUpdatePass&&Ip(V,o,ue,E),c!==ar&&js(R,ue,c)&&$_(V,V.data[Vo()],R,R[qn],o,R[ue+1]=function q0(o,c){return null==o||""===o||("string"==typeof c?o+=c:"object"==typeof o&&(o=p(li(o)))),o}(c,u),E,ue)}function gc(o,c,u,E){const R=or(),V=as(2);R.firstUpdatePass&&Ip(R,null,V,E);const ue=ii();if(u!==ar&&js(ue,V,u)){const Ue=R.data[Vo()];if(Q_(Ue,E)&&!Y_(R,V)){let tt=E?Ue.classesWithoutHost:Ue.stylesWithoutHost;null!==tt&&(u=T(tt,u||"")),Bc(R,Ue,ue,u,E)}else!function Q0(o,c,u,E,R,V,ue,Ue){R===ar&&(R=Mn);let tt=0,Ot=0,Jt=0<R.length?R[0]:null,mn=0<V.length?V[0]:null;for(;null!==Jt||null!==mn;){const Rn=tt<R.length?R[tt+1]:void 0,jn=Ot<V.length?V[Ot+1]:void 0;let hi,ti=null;Jt===mn?(tt+=2,Ot+=2,Rn!==jn&&(ti=mn,hi=jn)):null===mn||null!==Jt&&Jt<mn?(tt+=2,ti=Jt):(Ot+=2,ti=mn,hi=jn),null!==ti&&$_(o,c,u,E,ti,hi,ue,Ue),Jt=tt<R.length?R[tt]:null,mn=Ot<V.length?V[Ot]:null}}(R,Ue,ue,ue[qn],ue[V+1],ue[V+1]=function $0(o,c,u){if(null==u||""===u)return Mn;const E=[],R=li(u);if(Array.isArray(R))for(let V=0;V<R.length;V++)o(E,R[V],!0);else if("object"==typeof R)for(const V in R)R.hasOwnProperty(V)&&o(E,V,R[V]);else"string"==typeof R&&c(E,R);return E}(o,c,u),E,V)}}function Y_(o,c){return c>=o.expandoStartIndex}function Ip(o,c,u,E){const R=o.data;if(null===R[u+1]){const V=R[Vo()],ue=Y_(o,u);Q_(V,E)&&null===c&&!ue&&(c=!1),c=function z_(o,c,u,E){const R=sl(o);let V=E?c.residualClasses:c.residualStyles;if(null===R)0===(E?c.classBindings:c.styleBindings)&&(u=kf(u=wp(null,o,c,u,E),c.attrs,E),V=null);else{const ue=c.directiveStylingLast;if(-1===ue||o[ue]!==R)if(u=wp(R,o,c,u,E),null===V){let tt=function Y0(o,c,u){const E=u?c.classBindings:c.styleBindings;if(0!==cu(E))return o[Rd(E)]}(o,c,E);void 0!==tt&&Array.isArray(tt)&&(tt=wp(null,o,c,tt[1],E),tt=kf(tt,c.attrs,E),function z0(o,c,u,E){o[Rd(u?c.classBindings:c.styleBindings)]=E}(o,c,E,tt))}else V=function Z0(o,c,u){let E;const R=c.directiveEnd;for(let V=1+c.directiveStylingLast;V<R;V++)E=kf(E,o[V].hostAttrs,u);return kf(E,c.attrs,u)}(o,c,E)}return void 0!==V&&(E?c.residualClasses=V:c.residualStyles=V),u}(R,V,c,E),function k0(o,c,u,E,R,V){let ue=V?c.classBindings:c.styleBindings,Ue=Rd(ue),tt=cu(ue);o[E]=u;let Jt,Ot=!1;if(Array.isArray(u)?(Jt=u[1],(null===Jt||an(u,Jt)>0)&&(Ot=!0)):Jt=u,R)if(0!==tt){const Rn=Rd(o[Ue+1]);o[E+1]=Jh(Rn,Ue),0!==Rn&&(o[Rn+1]=Dp(o[Rn+1],E)),o[Ue+1]=function N0(o,c){return 131071&o|c<<17}(o[Ue+1],E)}else o[E+1]=Jh(Ue,0),0!==Ue&&(o[Ue+1]=Dp(o[Ue+1],E)),Ue=E;else o[E+1]=Jh(tt,0),0===Ue?Ue=E:o[tt+1]=Dp(o[tt+1],E),tt=E;Ot&&(o[E+1]=Lf(o[E+1])),U_(o,Jt,E,!0),U_(o,Jt,E,!1),function F0(o,c,u,E,R){const V=R?o.residualClasses:o.residualStyles;null!=V&&"string"==typeof c&&an(V,c)>=0&&(u[E+1]=Mp(u[E+1]))}(c,Jt,o,E,V),ue=Jh(Ue,tt),V?c.classBindings=ue:c.styleBindings=ue}(R,V,c,u,ue,E)}}function wp(o,c,u,E,R){let V=null;const ue=u.directiveEnd;let Ue=u.directiveStylingLast;for(-1===Ue?Ue=u.directiveStart:Ue++;Ue<ue&&(V=c[Ue],E=kf(E,V.hostAttrs,R),V!==o);)Ue++;return null!==o&&(u.directiveStylingLast=Ue),E}function kf(o,c,u){const E=u?1:2;let R=-1;if(null!==c)for(let V=0;V<c.length;V++){const ue=c[V];"number"==typeof ue?R=ue:R===E&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),st(o,ue,!!u||c[++V]))}return void 0===o?null:o}function J0(o,c,u){const E=String(c);""!==E&&!E.includes(" ")&&st(o,E,u)}function $_(o,c,u,E,R,V,ue,Ue){if(!(3&c.type))return;const tt=o.data,Ot=tt[Ue+1],Jt=function L0(o){return 1==(1&o)}(Ot)?J_(tt,c,u,R,cu(Ot),ue):void 0;Qh(Jt)||(Qh(V)||function R0(o){return 2==(2&o)}(Ot)&&(V=J_(tt,null,u,R,Ue,ue)),function Zp(o,c,u,E,R){if(c)R?o.addClass(u,E):o.removeClass(u,E);else{let V=-1===E.indexOf("-")?void 0:Fl.DashCase;null==R?o.removeStyle(u,E,V):("string"==typeof R&&R.endsWith("!important")&&(R=R.slice(0,-10),V|=Fl.Important),o.setStyle(u,E,R,V))}}(E,ue,Ge(Vo(),u),R,V))}function J_(o,c,u,E,R,V){const ue=null===c;let Ue;for(;R>0;){const tt=o[R],Ot=Array.isArray(tt),Jt=Ot?tt[1]:tt,mn=null===Jt;let Rn=u[R+1];Rn===ar&&(Rn=mn?Mn:void 0);let jn=mn?Bt(Rn,E):Jt===E?Rn:void 0;if(Ot&&!Qh(jn)&&(jn=Bt(tt,E)),Qh(jn)&&(Ue=jn,ue))return Ue;const ti=o[R+1];R=ue?Rd(ti):cu(ti)}if(null!==c){let tt=V?c.residualClasses:c.residualStyles;null!=tt&&(Ue=Bt(tt,E))}return Ue}function Qh(o){return void 0!==o}function Q_(o,c){return 0!=(o.flags&(c?8:16))}function q_(o,c=""){const u=ii(),E=or(),R=o+Zi,V=E.firstCreatePass?Hs(E,R,1,c,null):E.data[R],ue=m(E,u,V,c,o);u[R]=ue,kn()&&rf(E,u,ue,V),No(V,!1)}let m=(o,c,u,E,R)=>(ni(!0),Oc(c[qn],E));function l(o){return f("",o,""),l}function f(o,c,u){const E=ii(),R=Fu(E,o,c,u);return R!==ar&&jl(E,Vo(),R),f}function y(o,c,u,E,R){const V=ii(),ue=Bu(V,o,c,u,E,R);return ue!==ar&&jl(V,Vo(),ue),y}function N(o,c,u,E,R,V,ue){const Ue=ii(),tt=function cd(o,c,u,E,R,V,ue,Ue){const Ot=ku(o,ms(),u,R,ue);return as(3),Ot?c+C(u)+E+C(R)+V+C(ue)+Ue:ar}(Ue,o,c,u,E,R,V,ue);return tt!==ar&&jl(Ue,Vo(),tt),N}function wt(o,c,u){gc(st,Gc,Fu(ii(),o,c,u),!0)}function Pr(o,c,u){const E=ii();return js(E,Sr(),c)&&Sa(or(),we(),E,o,c,E[qn],u,!0),Pr}function Da(o,c,u){const E=ii();if(js(E,Sr(),c)){const V=or(),ue=we();Sa(V,ue,E,o,c,e0(sl(V.data),ue,E),u,!0)}return Da}const ys=void 0;var _c=["en",[["a","p"],["AM","PM"],ys],[["AM","PM"],ys,ys],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ys,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ys,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ys,"{1} 'at' {0}",ys],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Bo(o){const u=Math.floor(Math.abs(o)),E=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===E?1:5}];let ha={};function Ff(o){const c=function wT(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=db(c);if(u)return u;const E=c.split("-")[0];if(u=db(E),u)return u;if("en"===E)return _c;throw new S(701,!1)}function cb(o){return Ff(o)[qh.PluralCase]}function db(o){return o in ha||(ha[o]=qe.ng&&qe.ng.common&&qe.ng.common.locales&&qe.ng.common.locales[o]),ha[o]}var qh=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(qh||{});const Xh="en-US",X_={marker:"element"},ev={marker:"ICU"};var Wl=function(o){return o[o.SHIFT=2]="SHIFT",o[o.APPEND_EAGERLY=1]="APPEND_EAGERLY",o[o.COMMENT=2]="COMMENT",o}(Wl||{});let ub=Xh;function fb(o){(function Re(o,c){null==o&&Fe(c,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(ub=o.toLowerCase().replace(/_/g,"-"))}function hb(o,c,u){const E=c.insertBeforeIndex,R=Array.isArray(E)?E[0]:E;return null===R?mm(o,0,u):$i(u[R])}function mb(o,c,u,E,R){const V=c.insertBeforeIndex;if(Array.isArray(V)){let ue=E,Ue=null;if(3&c.type||(Ue=ue,ue=R),null!==ue&&-1===c.componentOffset)for(let tt=1;tt<V.length;tt++)uc(o,ue,u[V[tt]],Ue,!1)}}function pb(o,c){if(o.push(c),o.length>1)for(let u=o.length-2;u>=0;u--){const E=o[u];gb(E)||LT(E,c)&&null===kT(E)&&FT(E,c.index)}}function gb(o){return!(64&o.type)}function LT(o,c){return gb(c)||o.index>c.index}function kT(o){const c=o.insertBeforeIndex;return Array.isArray(c)?c[0]:c}function FT(o,c){const u=o.insertBeforeIndex;Array.isArray(u)?u[0]=c:(rh(hb,mb),o.insertBeforeIndex=c)}function GT(o,c,u){const E=Mh(o,u,64,null,null);return pb(c,E),E}function zT(){const o=[];let u,E,c=-1;function V(Ue,tt){c=0;const Ot=function tv(o,c){const u=c[o.currentCaseLViewIndex];return null===u?u:u<0?~u:u}(Ue,tt);E=null!==Ot?Ue.remove[Ot]:Mn}function ue(){if(c<E.length){const Ue=E[c++];return Ue>0?u[Ue]:(o.push(c,E),V(u[_i].data[~Ue],u),ue())}return 0===o.length?null:(E=o.pop(),c=o.pop(),ue())}return function R(Ue,tt){for(u=tt;o.length;)o.pop();return V(Ue.value,tt),ue}}const nv=/\ufffd(\d+):?\d*\ufffd/gi,$T=/\ufffd(\d+)\ufffd/,Db=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Lp="\ufffd",JT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,QT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,qT=/\uE500/g;function Mb(o,c,u,E,R,V,ue){const Ue=gf(o,E,1,null);let tt=Ue<<Wl.SHIFT,Ot=il();c===Ot&&(Ot=null),null===Ot&&(tt|=Wl.APPEND_EAGERLY),ue&&(tt|=Wl.COMMENT,function bu(o){void 0===zf&&(zf=o())}(zT)),R.push(tt,null===V?"":V);const Jt=Mh(o,Ue,ue?32:1,null===V?"":V,null);pb(u,Jt);const mn=Jt.index;return No(Jt,!1),null!==Ot&&c!==Ot&&function UT(o,c){let u=o.insertBeforeIndex;null===u?(rh(hb,mb),u=o.insertBeforeIndex=[null,c]):(function le(o,c,u){o!=c&&Fe(u,o,c,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(c))}(Ot,mn),Jt}function tS(o,c,u,E,R,V,ue){const Ue=ue.match(nv),tt=Mb(o,c,u,V,E,Ue?null:ue,!1);Ue&&kp(R,ue,tt.index,null,0,null)}function kp(o,c,u,E,R,V){const ue=o.length,Ue=ue+1;o.push(null,null);const tt=ue+2,Ot=c.split(nv);let Jt=0;for(let mn=0;mn<Ot.length;mn++){const Rn=Ot[mn];if(1&mn){const jn=R+parseInt(Rn,10);o.push(-1-jn),Jt|=Ab(jn)}else""!==Rn&&o.push(Rn)}return o.push(u<<2|(E?1:0)),E&&o.push(E,V),o[ue]=Jt,o[Ue]=o.length-tt,Jt}function Ab(o){return 1<<Math.min(o,31)}function xb(o){let c,V,u="",E=0,R=!1;for(;null!==(c=JT.exec(o));)R?c[0]===`${Lp}/*${V}${Lp}`&&(E=c.index,R=!1):(u+=o.substring(E,c.index+c[0].length),V=c[1],R=!0);return u+=o.slice(E),u}function Ib(o,c,u,E,R,V){let ue=0;const Ue={type:R.type,currentCaseLViewIndex:gf(o,c,1,null),anchorIdx:V,cases:[],create:[],remove:[],update:[]};(function cS(o,c,u){o.push(Ab(c.mainBinding),2,-1-c.mainBinding,u<<2|2)})(u,R,V),function BT(o,c,u){const E=o.data[c];null===E?o.data[c]=u:E.value=u}(o,V,Ue);const tt=R.values;for(let Ot=0;Ot<tt.length;Ot++){const Jt=tt[Ot],mn=[];for(let Rn=0;Rn<Jt.length;Rn++){const jn=Jt[Rn];if("string"!=typeof jn){const ti=mn.push(jn)-1;Jt[Rn]=`\x3c!--\ufffd${ti}\ufffd--\x3e`}}ue=aS(o,Ue,c,u,E,R.cases[Ot],Jt.join(""),mn)|ue}ue&&function dS(o,c,u){o.push(c,1,u<<2|3)}(u,ue,V)}function sS(o){const c=[],u=[];let E=1,R=0;const V=X0(o=o.replace(Db,function(ue,Ue,tt){return E="select"===tt?0:1,R=parseInt(Ue.slice(1),10),""}));for(let ue=0;ue<V.length;){let Ue=V[ue++].trim();1===E&&(Ue=Ue.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Ue.length&&c.push(Ue);const tt=X0(V[ue++]);c.length>u.length&&u.push(tt)}return{type:E,mainBinding:R,cases:c,values:u}}function X0(o){if(!o)return[];let c=0;const u=[],E=[],R=/[{}]/g;let V;for(R.lastIndex=0;V=R.exec(o);){const Ue=V.index;if("}"==V[0]){if(u.pop(),0==u.length){const tt=o.substring(c,Ue);Db.test(tt)?E.push(sS(tt)):E.push(tt),c=Ue+1}}else{if(0==u.length){const tt=o.substring(c,Ue);E.push(tt),c=Ue+1}u.push("{")}}const ue=o.substring(c);return E.push(ue),E}function aS(o,c,u,E,R,V,ue,Ue){const tt=[],Ot=[],Jt=[];c.cases.push(V),c.create.push(tt),c.remove.push(Ot),c.update.push(Jt);const Rn=ur(G()).getInertBodyElement(ue),jn=Jd(Rn)||Rn;return jn?wb(o,c,u,E,tt,Ot,Jt,jn,R,Ue,0):0}function wb(o,c,u,E,R,V,ue,Ue,tt,Ot,Jt){let mn=0,Rn=Ue.firstChild;for(;Rn;){const jn=gf(o,u,1,null);switch(Rn.nodeType){case Node.ELEMENT_NODE:const ti=Rn,hi=ti.tagName.toLowerCase();if(Nc.hasOwnProperty(hi)){ey(R,X_,hi,tt,jn),o.data[jn]=hi;const cr=ti.attributes;for(let jr=0;jr<cr.length;jr++){const Yr=cr.item(jr),Za=Yr.name.toLowerCase();Yr.value.match(nv)?Dd.hasOwnProperty(Za)&&kp(ue,Yr.value,jn,Yr.name,0,fc[Za]?Fo:null):uS(R,jn,Yr)}mn=wb(o,c,u,E,R,V,ue,Rn,jn,Ot,Jt+1)|mn,Pb(V,jn,Jt)}break;case Node.TEXT_NODE:const Ii=Rn.textContent||"",ji=Ii.match(nv);ey(R,null,ji?"":Ii,tt,jn),Pb(V,jn,Jt),ji&&(mn=kp(ue,Ii,jn,null,0,null)|mn);break;case Node.COMMENT_NODE:const si=$T.exec(Rn.textContent||"");if(si){const jr=Ot[parseInt(si[1],10)];ey(R,ev,"",tt,jn),Ib(o,u,E,tt,jr,jn),lS(V,jn,Jt)}}Rn=Rn.nextSibling}return mn}function Pb(o,c,u){0===u&&o.push(c)}function lS(o,c,u){0===u&&(o.push(~c),o.push(c))}function ey(o,c,u,E,R){null!==c&&o.push(c),o.push(u,R,function HT(o,c,u){return o|c<<17|u<<1}(0,E,R))}function uS(o,c,u){o.push(c<<1|1,u.name,u.value)}function Rb(o,c,u=-1){const E=or(),R=ii(),V=Zi+o,ue=Wi(E.consts,c),Ue=il();E.firstCreatePass&&function eS(o,c,u,E,R,V){const ue=il(),Ue=[],tt=[],Ot=[[]];R=function oS(o,c){if(function rS(o){return-1===o}(c))return xb(o);{const u=o.indexOf(`:${c}${Lp}`)+2+c.toString().length,E=o.search(new RegExp(`${Lp}\\/\\*\\d+:${c}${Lp}`));return xb(o.substring(u,E))}}(R,V);const Jt=function XT(o){return o.replace(qT," ")}(R).split(QT);for(let mn=0;mn<Jt.length;mn++){let Rn=Jt[mn];if(1&mn){const jn=47===Rn.charCodeAt(0),hi=(Rn.charCodeAt(jn?1:0),Zi+Number.parseInt(Rn.substring(jn?2:1)));if(jn)Ot.shift(),No(il(),!1);else{const Ii=GT(o,Ot[0],hi);Ot.unshift([]),No(Ii,!0)}}else{const jn=X0(Rn);for(let ti=0;ti<jn.length;ti++){let hi=jn[ti];if(1&ti){const Ii=hi;if("object"!=typeof Ii)throw new Error(`Unable to parse ICU expression in "${R}" message.`);Ib(o,u,tt,c,Ii,Mb(o,ue,Ot[0],u,Ue,"",!0).index)}else""!==hi&&tS(o,ue,Ot[0],Ue,tt,u,hi)}}}o.data[E]={create:Ue,update:tt}}(E,null===Ue?0:Ue.index,R,V,ue,u),2===E.type?R[ki][Ni]|=32:R[Ni]|=32;const tt=E.data[V],Jt=dc(E,Ue===R[Or]?null:Ue,R);(function KT(o,c,u,E){const R=o[qn];for(let V=0;V<c.length;V++){const ue=c[V++],Ue=c[V],Ot=(ue&Wl.APPEND_EAGERLY)===Wl.APPEND_EAGERLY,Jt=ue>>>Wl.SHIFT;let mn=o[Jt];null===mn&&(mn=o[Jt]=(ue&Wl.COMMENT)===Wl.COMMENT?R.createComment(Ue):Oc(R,Ue)),Ot&&null!==u&&uc(R,u,mn,E,!1)}})(R,tt.create,Jt,Ue&&8&Ue.type?R[Ue.index]:null),Jl(!0)}function Lb(o,c,u){Rb(o,c,u),function Nb(){Jl(!1)}()}function ty(o,c,u,E,R){if(o=k(o),Array.isArray(o))for(let V=0;V<o.length;V++)ty(o[V],c,u,E,R);else{const V=or(),ue=ii();let Ue=Xd(o)?o:k(o.provide),tt=tg(o);const Ot=gr(),Jt=1048575&Ot.providerIndexes,mn=Ot.directiveStart,Rn=Ot.providerIndexes>>20;if(Xd(o)||!o.multi){const jn=new ll(tt,R,nu),ti=iy(Ue,c,R?Jt:Jt+Rn,mn);-1===ti?(Wc(ul(Ot,ue),V,Ue),ny(V,o,c.length),c.push(Ue),Ot.directiveStart++,Ot.directiveEnd++,R&&(Ot.providerIndexes+=1048576),u.push(jn),ue.push(jn)):(u[ti]=jn,ue[ti]=jn)}else{const jn=iy(Ue,c,Jt+Rn,mn),ti=iy(Ue,c,Jt,Jt+Rn),Ii=ti>=0&&u[ti];if(R&&!Ii||!R&&!(jn>=0&&u[jn])){Wc(ul(Ot,ue),V,Ue);const ji=function MS(o,c,u,E,R){const V=new ll(o,u,nu);return V.multi=[],V.index=c,V.componentProviders=0,Fb(V,R,E&&!u),V}(R?DS:CS,u.length,R,E,tt);!R&&Ii&&(u[ti].providerFactory=ji),ny(V,o,c.length,0),c.push(Ue),Ot.directiveStart++,Ot.directiveEnd++,R&&(Ot.providerIndexes+=1048576),u.push(ji),ue.push(ji)}else ny(V,o,jn>-1?jn:ti,Fb(u[R?ti:jn],tt,!R&&E));!R&&E&&Ii&&u[ti].componentProviders++}}}function ny(o,c,u,E){const R=Xd(c),V=function pv(o){return!!o.useClass}(c);if(R||V){const tt=(V?k(c.useClass):c).prototype.ngOnDestroy;if(tt){const Ot=o.destroyHooks||(o.destroyHooks=[]);if(!R&&c.multi){const Jt=Ot.indexOf(u);-1===Jt?Ot.push(u,[E,tt]):Ot[Jt+1].push(E,tt)}else Ot.push(u,tt)}}}function Fb(o,c,u){return u&&o.componentProviders++,o.multi.push(c)-1}function iy(o,c,u,E){for(let R=u;R<E;R++)if(c[R]===o)return R;return-1}function CS(o,c,u,E){return ry(this.multi,[])}function DS(o,c,u,E){const R=this.multi;let V;if(this.providerFactory){const ue=this.providerFactory.componentProviders,Ue=Ui(u,u[_i],this.providerFactory.index,E);V=Ue.slice(0,ue),ry(R,V);for(let tt=ue;tt<Ue.length;tt++)V.push(Ue[tt])}else V=[],ry(R,V);return V}function ry(o,c){for(let u=0;u<o.length;u++)c.push((0,o[u])());return c}function Bb(o,c=[]){return u=>{u.providersResolver=(E,R)=>function SS(o,c,u){const E=or();if(E.firstCreatePass){const R=yr(o);ty(u,E.data,E.blueprint,R,!0),ty(c,E.data,E.blueprint,R,!1)}}(E,R?R(o):o,c)}}class em{}class Ub{}function AS(o,c){return new oy(o,c??null,[])}class oy extends em{constructor(c,u,E){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xg(this);const R=Dr(c);this._bootstrapComponents=ad(R.bootstrap),this._r3Injector=Rg(c,u,[{provide:em,useValue:this},{provide:hf,useValue:this.componentFactoryResolver},...E],p(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class sy extends Ub{constructor(c){super(),this.moduleType=c}create(c){return new oy(this.moduleType,c,[])}}class Gb extends em{constructor(c){super(),this.componentFactoryResolver=new Xg(this),this.instance=null;const u=new Im([...c.providers,{provide:em,useValue:this},{provide:hf,useValue:this.componentFactoryResolver}],c.parent||gh(),c.debugName,new Set(["environment"]));this.injector=u,c.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function Hb(o,c,u=null){return new Gb({providers:o,parent:c,debugName:u,runEnvironmentInitializers:!0}).injector}let IS=(()=>{class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const E=Qp(0,u.type),R=E.length>0?Hb([E],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u,R)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ye({token:o,providedIn:"environment",factory:()=>new o(nt(eu))})}return o})();function jb(o){o.getStandaloneInjector=c=>c.get(IS).getOrCreateStandaloneInjector(o)}function $b(o,c,u){const E=to()+o,R=ii();return R[E]===ar?Fc(R,E,u?c.call(u):c()):function La(o,c){return o[c]}(R,E)}function Jb(o,c,u,E){return Xb(ii(),to(),o,c,u,E)}function Qb(o,c,u,E,R){return eE(ii(),to(),o,c,u,E,R)}function qb(o,c,u,E,R,V){return function tE(o,c,u,E,R,V,ue,Ue){const tt=c+u;return ku(o,tt,R,V,ue)?Fc(o,tt+3,Ue?E.call(Ue,R,V,ue):E(R,V,ue)):Fp(o,tt+3)}(ii(),to(),o,c,u,E,R,V)}function Fp(o,c){const u=o[c];return u===ar?void 0:u}function Xb(o,c,u,E,R,V){const ue=c+u;return js(o,ue,R)?Fc(o,ue+1,V?E.call(V,R):E(R)):Fp(o,ue+1)}function eE(o,c,u,E,R,V,ue){const Ue=c+u;return mc(o,Ue,R,V)?Fc(o,Ue+2,ue?E.call(ue,R,V):E(R,V)):Fp(o,Ue+2)}function rE(o,c){const u=or();let E;const R=o+Zi;u.firstCreatePass?(E=function KS(o,c){if(c)for(let u=c.length-1;u>=0;u--){const E=c[u];if(o===E.name)return E}}(c,u.pipeRegistry),u.data[R]=E,E.onDestroy&&(u.destroyHooks??=[]).push(R,E.onDestroy)):E=u.data[R];const V=E.factory||(E.factory=ut(E.type)),ue=Le(nu);try{const Ue=dl(!1),tt=V();return dl(Ue),function pp(o,c,u,E){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),c[u]=E}(u,ii(),R,tt),tt}finally{Le(ue)}}function oE(o,c,u){const E=o+Zi,R=ii(),V=ct(R,E);return Bp(R,E)?Xb(R,to(),c,V.transform,u,V):V.transform(u)}function sE(o,c,u,E){const R=o+Zi,V=ii(),ue=ct(V,R);return Bp(V,R)?eE(V,to(),c,ue.transform,u,E,ue):ue.transform(u,E)}function Bp(o,c){return o[_i].data[c].pure}function ly(o){return c=>{setTimeout(o,void 0,c)}}const Nd=class ZS extends e.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,u,E){let R=c,V=u||(()=>null),ue=E;if(c&&"object"==typeof c){const tt=c;R=tt.next?.bind(tt),V=tt.error?.bind(tt),ue=tt.complete?.bind(tt)}this.__isAsync&&(V=ly(V),R&&(R=ly(R)),ue&&(ue=ly(ue)));const Ue=super.subscribe({next:R,error:V,complete:ue});return c instanceof n.w0&&c.add(Ue),Ue}};function $S(){return this._results[Symbol.iterator]()}class iv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Nd)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=iv.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=$S)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,u){return this._results.reduce(c,u)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,u){const E=this;E.dirty=!1;const R=function da(o){return o.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function ca(o,c,u){if(o.length!==c.length)return!1;for(let E=0;E<o.length;E++){let R=o[E],V=c[E];if(u&&(R=u(R),V=u(V)),V!==R)return!1}return!0}(E._results,R,u))&&(E._results=R,E.length=R.length,E.last=R[this.length-1],E.first=R[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Up=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=qS}return o})();const JS=Up,QS=class extends JS{constructor(c,u,E){super(),this._declarationLView=c,this._declarationTContainer=u,this.elementRef=E}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(c,u){return this.createEmbeddedViewImpl(c,u,null)}createEmbeddedViewImpl(c,u,E){const ue=this._declarationTContainer.tView,Ue=Ru(this._declarationLView,ue,c,4096&this._declarationLView[Ni]?4096:16,null,ue.declTNode,null,null,null,u||null,E||null);Ue[xr]=this._declarationLView[this._declarationTContainer.index];const Ot=this._declarationLView[mo];return null!==Ot&&(Ue[mo]=Ot.createEmbeddedView(ue)),Qm(ue,Ue,c),new Cf(Ue)}};function qS(){return rv(gr(),ii())}function rv(o,c){return 4&o.type?new QS(c,o,Pu(o,c)):null}let ov=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=oC}return o})();function oC(){return fE(gr(),ii())}const sC=ov,dE=class extends sC{constructor(c,u,E){super(),this._lContainer=c,this._hostTNode=u,this._hostLView=E}get element(){return Pu(this._hostTNode,this._hostLView)}get injector(){return new Va(this._hostTNode,this._hostLView)}get parentInjector(){const c=la(this._hostTNode,this._hostLView);if(Ko(c)){const u=cl(c,this._hostLView),E=Wo(c);return new Va(u[_i].data[E+8],u)}return new Va(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const u=uE(this._lContainer);return null!==u&&u[c]||null}get length(){return this._lContainer.length-Fr}createEmbeddedView(c,u,E){let R,V;"number"==typeof E?R=E:null!=E&&(R=E.index,V=E.injector);const Ue=c.createEmbeddedViewImpl(u||{},V,null);return this.insertImpl(Ue,R,false),Ue}createComponent(c,u,E,R,V){const ue=c&&!function Ll(o){return"function"==typeof o}(c);let Ue;if(ue)Ue=u;else{const hi=u||{};Ue=hi.index,E=hi.injector,R=hi.projectableNodes,V=hi.environmentInjector||hi.ngModuleRef}const tt=ue?c:new Df(Li(c)),Ot=E||this.parentInjector;if(!V&&null==tt.ngModule){const Ii=(ue?Ot:this.parentInjector).get(eu,null);Ii&&(V=Ii)}Li(tt.componentType??{});const jn=tt.create(Ot,R,null,V);return this.insertImpl(jn.hostView,Ue,false),jn}insert(c,u){return this.insertImpl(c,u,!1)}insertImpl(c,u,E){const R=c._lView,V=R[_i];if(function Ji(o){return Er(o[qi])}(R)){const tt=this.indexOf(c);if(-1!==tt)this.detach(tt);else{const Ot=R[qi],Jt=new dE(Ot,Ot[Or],Ot[qi]);Jt.detach(Jt.indexOf(c))}}const ue=this._adjustIndex(u),Ue=this._lContainer;if(function yl(o,c,u,E){const R=Fr+E,V=u.length;E>0&&(u[R-1][Gr]=c),E<V-Fr?(c[Gr]=u[R],no(u,Fr+E,c)):(u.push(c),c[Gr]=null),c[qi]=u;const ue=c[xr];null!==ue&&u!==ue&&function Kp(o,c){const u=o[cs];c[ki]!==c[qi][qi][ki]&&(o[ns]=!0),null===u?o[cs]=[c]:u.push(c)}(ue,c);const Ue=c[mo];null!==Ue&&Ue.insertView(o),c[Ni]|=128}(V,R,Ue,ue),!E){const tt=sh(ue,Ue),Ot=R[qn],Jt=nf(Ot,Ue[To]);null!==Jt&&function Qu(o,c,u,E,R,V){E[hr]=R,E[Or]=c,Bl(o,E,u,1,R,V)}(V,Ue[Or],Ot,R,Jt,tt)}return c.attachToViewContainerRef(),no(dy(Ue),ue,c),c}move(c,u){return this.insert(c,u)}indexOf(c){const u=uE(this._lContainer);return null!==u?u.indexOf(c):-1}remove(c){const u=this._adjustIndex(c,-1),E=Xu(this._lContainer,u);E&&(Ka(dy(this._lContainer),u),Xf(E[_i],E))}detach(c){const u=this._adjustIndex(c,-1),E=Xu(this._lContainer,u);return E&&null!=Ka(dy(this._lContainer),u)?new Cf(E):null}_adjustIndex(c,u=0){return c??this.length+u}};function uE(o){return o[8]}function dy(o){return o[8]||(o[8]=[])}function fE(o,c){let u;const E=c[o.index];return Er(E)?u=E:(u=Yg(E,c,null,o),c[o.index]=u,Ca(c,u)),hE(u,c,o,E),new dE(u,o,c)}let hE=function mE(o,c,u,E){if(o[To])return;let R;R=8&u.type?$i(E):function aC(o,c){const u=o[qn],E=u.createComment(""),R=Vt(c,o);return uc(u,nf(u,R),E,function Yp(o,c){return o.nextSibling(c)}(u,R),!1),E}(c,u),o[To]=R};class uy{constructor(c){this.queryList=c,this.matches=null}clone(){return new uy(this.queryList)}setDirty(){this.queryList.setDirty()}}class fy{constructor(c=[]){this.queries=c}createEmbeddedView(c){const u=c.queries;if(null!==u){const E=null!==c.contentQueries?c.contentQueries[0]:u.length,R=[];for(let V=0;V<E;V++){const ue=u.getByIndex(V);R.push(this.queries[ue.indexInDeclarationView].clone())}return new fy(R)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let u=0;u<this.queries.length;u++)null!==SE(c,u).matches&&this.queries[u].setDirty()}}class pE{constructor(c,u,E=null){this.predicate=c,this.flags=u,this.read=E}}class hy{constructor(c=[]){this.queries=c}elementStart(c,u){for(let E=0;E<this.queries.length;E++)this.queries[E].elementStart(c,u)}elementEnd(c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(c)}embeddedTView(c){let u=null;for(let E=0;E<this.length;E++){const R=null!==u?u.length:0,V=this.getByIndex(E).embeddedTView(c,R);V&&(V.indexInDeclarationView=E,null!==u?u.push(V):u=[V])}return null!==u?new hy(u):null}template(c,u){for(let E=0;E<this.queries.length;E++)this.queries[E].template(c,u)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class my{constructor(c,u=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(c,u){this.isApplyingToNode(u)&&this.matchTNode(c,u)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,u){this.elementStart(c,u)}embeddedTView(c,u){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,u),new my(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let E=c.parent;for(;null!==E&&8&E.type&&E.index!==u;)E=E.parent;return u===(null!==E?E.index:-1)}return this._appliesToNextNode}matchTNode(c,u){const E=this.metadata.predicate;if(Array.isArray(E))for(let R=0;R<E.length;R++){const V=E[R];this.matchTNodeWithReadOption(c,u,dC(u,V)),this.matchTNodeWithReadOption(c,u,vr(u,c,V,!1,!1))}else E===Up?4&u.type&&this.matchTNodeWithReadOption(c,u,-1):this.matchTNodeWithReadOption(c,u,vr(u,c,E,!1,!1))}matchTNodeWithReadOption(c,u,E){if(null!==E){const R=this.metadata.read;if(null!==R)if(R===mf||R===ov||R===Up&&4&u.type)this.addMatch(u.index,-2);else{const V=vr(u,c,R,!1,!1);null!==V&&this.addMatch(u.index,V)}else this.addMatch(u.index,E)}}addMatch(c,u){null===this.matches?this.matches=[c,u]:this.matches.push(c,u)}}function dC(o,c){const u=o.localNames;if(null!==u)for(let E=0;E<u.length;E+=2)if(u[E]===c)return u[E+1];return null}function fC(o,c,u,E){return-1===u?function uC(o,c){return 11&o.type?Pu(o,c):4&o.type?rv(o,c):null}(c,o):-2===u?function hC(o,c,u){return u===mf?Pu(c,o):u===Up?rv(c,o):u===ov?fE(c,o):void 0}(o,c,E):Ui(o,o[_i],u,c)}function gE(o,c,u,E){const R=c[mo].queries[E];if(null===R.matches){const V=o.data,ue=u.matches,Ue=[];for(let tt=0;tt<ue.length;tt+=2){const Ot=ue[tt];Ue.push(Ot<0?null:fC(c,V[Ot],ue[tt+1],u.metadata.read))}R.matches=Ue}return R.matches}function py(o,c,u,E){const R=o.queries.getByIndex(u),V=R.matches;if(null!==V){const ue=gE(o,c,R,u);for(let Ue=0;Ue<V.length;Ue+=2){const tt=V[Ue];if(tt>0)E.push(ue[Ue/2]);else{const Ot=V[Ue+1],Jt=c[-tt];for(let mn=Fr;mn<Jt.length;mn++){const Rn=Jt[mn];Rn[xr]===Rn[qi]&&py(Rn[_i],Rn,Ot,E)}if(null!==Jt[cs]){const mn=Jt[cs];for(let Rn=0;Rn<mn.length;Rn++){const jn=mn[Rn];py(jn[_i],jn,Ot,E)}}}}}return E}function _E(o){const c=ii(),u=or(),E=Il();ga(E+1);const R=SE(u,E);if(o.dirty&&function yn(o){return 4==(4&o[Ni])}(c)===(2==(2&R.metadata.flags))){if(null===R.matches)o.reset([]);else{const V=R.crossesNgTemplate?py(u,c,E,[]):gE(u,c,R,E);o.reset(V,Ov),o.notifyOnChanges()}return!0}return!1}function vE(o,c,u){const E=or();E.firstCreatePass&&(TE(E,new pE(o,c,u),-1),2==(2&c)&&(E.staticViewQueries=!0)),EE(E,ii(),c)}function yE(o,c,u,E){const R=or();if(R.firstCreatePass){const V=gr();TE(R,new pE(c,u,E),V.index),function pC(o,c){const u=o.contentQueries||(o.contentQueries=[]);c!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,c)}(R,o),2==(2&u)&&(R.staticContentQueries=!0)}EE(R,ii(),u)}function bE(){return function mC(o,c){return o[mo].queries[c].queryList}(ii(),Il())}function EE(o,c,u){const E=new iv(4==(4&u));(function Zv(o,c,u,E){const R=qv(c);R.push(u),o.firstCreatePass&&Xv(o).push(E,R.length-1)})(o,c,E,E.destroy),null===c[mo]&&(c[mo]=new fy),c[mo].queries.push(new uy(E))}function TE(o,c,u){null===o.queries&&(o.queries=new hy),o.queries.track(new my(c,u))}function SE(o,c){return o.queries.getByIndex(c)}function CE(o,c){return rv(o,c)}function gy(o){return!!Dr(o)}const HE=new Nr("Application Initializer");let Ey=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,E)=>{this.resolve=u,this.reject=E}),this.appInits=Ke(HE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const R of this.appInits){const V=R();if(yp(V))u.push(V);else if(A_(V)){const ue=new Promise((Ue,tt)=>{V.subscribe({complete:Ue,error:tt})});u.push(ue)}}const E=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{E()}).catch(R=>{this.reject(R)}),0===u.length&&E(),this.initialized=!0}static#e=this.\u0275fac=function(E){return new(E||o)};static#t=this.\u0275prov=ye({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),jE=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}static#e=this.\u0275fac=function(E){return new(E||o)};static#t=this.\u0275prov=ye({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const av=new Nr("LocaleId",{providedIn:"root",factory:()=>Ke(av,pe.Optional|pe.SkipSelf)||function kC(){return typeof $localize<"u"&&$localize.locale||Xh}()}),FC=new Nr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let VE=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new b.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(E){return new(E||o)};static#t=this.\u0275prov=ye({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class UC{constructor(c,u){this.ngModuleFactory=c,this.componentFactories=u}}let GC=(()=>{class o{compileModuleSync(u){return new sy(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const E=this.compileModuleSync(u),V=ad(Dr(u).declarations).reduce((ue,Ue)=>{const tt=Li(Ue);return tt&&ue.push(new Df(tt)),ue},[]);return new UC(E,V)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}static#e=this.\u0275fac=function(E){return new(E||o)};static#t=this.\u0275prov=ye({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function YE(...o){}class Tl{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:E=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nd(!1),this.onMicrotaskEmpty=new Nd(!1),this.onStable=new Nd(!1),this.onError=new Nd(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const R=this;R._nesting=0,R._outer=R._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(R._inner=R._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(R._inner=R._inner.fork(Zone.longStackTraceZoneSpec)),R.shouldCoalesceEventChangeDetection=!E&&u,R.shouldCoalesceRunChangeDetection=E,R.lastRequestAnimationFrameId=-1,R.nativeRequestAnimationFrame=function VC(){const o="function"==typeof qe.requestAnimationFrame;let c=qe[o?"requestAnimationFrame":"setTimeout"],u=qe[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&c&&u){const E=c[Zone.__symbol__("OriginalDelegate")];E&&(c=E);const R=u[Zone.__symbol__("OriginalDelegate")];R&&(u=R)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function YC(o){const c=()=>{!function WC(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(qe,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Sy(o),o.isCheckStableRunning=!0,Ty(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Sy(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,E,R,V,ue,Ue)=>{try{return zE(o),u.invokeTask(R,V,ue,Ue)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===V.type||o.shouldCoalesceRunChangeDetection)&&c(),ZE(o)}},onInvoke:(u,E,R,V,ue,Ue,tt)=>{try{return zE(o),u.invoke(R,V,ue,Ue,tt)}finally{o.shouldCoalesceRunChangeDetection&&c(),ZE(o)}},onHasTask:(u,E,R,V)=>{u.hasTask(R,V),E===R&&("microTask"==V.change?(o._hasPendingMicrotasks=V.microTask,Sy(o),Ty(o)):"macroTask"==V.change&&(o.hasPendingMacrotasks=V.macroTask))},onHandleError:(u,E,R,V)=>(u.handleError(R,V),o.runOutsideAngular(()=>o.onError.emit(V)),!1)})}(R)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tl.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Tl.isInAngularZone())throw new S(909,!1)}run(c,u,E){return this._inner.run(c,u,E)}runTask(c,u,E,R){const V=this._inner,ue=V.scheduleEventTask("NgZoneEvent: "+R,c,KC,YE,YE);try{return V.runTask(ue,u,E)}finally{V.cancelTask(ue)}}runGuarded(c,u,E){return this._inner.runGuarded(c,u,E)}runOutsideAngular(c){return this._outer.run(c)}}const KC={};function Ty(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Sy(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function zE(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function ZE(o){o._nesting--,Ty(o)}class zC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nd,this.onMicrotaskEmpty=new Nd,this.onStable=new Nd,this.onError=new Nd}run(c,u,E){return c.apply(u,E)}runGuarded(c,u,E){return c.apply(u,E)}runOutsideAngular(c){return c()}runTask(c,u,E,R){return c.apply(u,E)}}const $E=new Nr("",{providedIn:"root",factory:JE});function JE(){const o=Ke(Tl);let c=!0;const u=new A.y(R=>{c=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{R.next(c),R.complete()})}),E=new A.y(R=>{let V;o.runOutsideAngular(()=>{V=o.onStable.subscribe(()=>{Tl.assertNotInAngularZone(),queueMicrotask(()=>{!c&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(c=!0,R.next(!0))})})});const ue=o.onUnstable.subscribe(()=>{Tl.assertInAngularZone(),c&&(c=!1,o.runOutsideAngular(()=>{R.next(!1)}))});return()=>{V.unsubscribe(),ue.unsubscribe()}});return(0,_.T)(u,E.pipe((0,w.B)()))}const QE=new Nr(""),qE=new Nr("");let Cy,ZC=(()=>{class o{constructor(u,E,R){this._ngZone=u,this.registry=E,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Cy||(function $C(o){Cy=o}(R),R.addToWindow(E)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tl.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(E=>!E.updateCb||!E.updateCb(u)||(clearTimeout(E.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,E,R){let V=-1;E&&E>0&&(V=setTimeout(()=>{this._callbacks=this._callbacks.filter(ue=>ue.timeoutId!==V),u(this._didWork,this.getPendingTasks())},E)),this._callbacks.push({doneCb:u,timeoutId:V,updateCb:R})}whenStable(u,E,R){if(R&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,E,R),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,E,R){return[]}static#e=this.\u0275fac=function(E){return new(E||o)(nt(Tl),nt(XE),nt(qE))};static#t=this.\u0275prov=ye({token:o,factory:o.\u0275fac})}return o})(),XE=(()=>{class o{constructor(){this._applications=new Map}registerApplication(u,E){this._applications.set(u,E)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,E=!0){return Cy?.findTestabilityInTree(this,u,E)??null}static#e=this.\u0275fac=function(E){return new(E||o)};static#t=this.\u0275prov=ye({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})(),Ku=null;const eT=new Nr("AllowMultipleToken"),Dy=new Nr("PlatformDestroyListeners"),My=new Nr("appBootstrapListener");class qC{constructor(c,u){this.name=c,this.token=u}}function iT(o,c,u=[]){const E=`Platform: ${c}`,R=new Nr(E);return(V=[])=>{let ue=Ay();if(!ue||ue.injector.get(eT,!1)){const Ue=[...u,...V,{provide:R,useValue:!0}];o?o(Ue):function XC(o){if(Ku&&!Ku.get(eT,!1))throw new S(400,!1);(function tT(){!function Sl(o){Qa=o}(()=>{throw new S(600,!1)})})(),Ku=o;const c=o.get(oT);(function nT(o){o.get(rg,null)?.forEach(u=>u())})(o)}(function rT(o=[],c){return Na.create({name:c,providers:[{provide:Am,useValue:"platform"},{provide:Dy,useValue:new Set([()=>Ku=null])},...o]})}(Ue,E))}return function tD(o){const c=Ay();if(!c)throw new S(401,!1);return c}()}}function Ay(){return Ku?.get(oT)??null}let oT=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,E){const R=function nD(o="zone.js",c){return"noop"===o?new zC:"zone.js"===o?new Tl(c):o}(E?.ngZone,function sT(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:E?.ngZoneEventCoalescing,runCoalescing:E?.ngZoneRunCoalescing}));return R.run(()=>{const V=function xS(o,c,u){return new oy(o,c,u)}(u.moduleType,this.injector,function uT(o){return[{provide:Tl,useFactory:o},{provide:Ad,multi:!0,useFactory:()=>{const c=Ke(rD,{optional:!0});return()=>c.initialize()}},{provide:dT,useFactory:iD},{provide:$E,useFactory:JE}]}(()=>R)),ue=V.injector.get(tu,null);return R.runOutsideAngular(()=>{const Ue=R.onError.subscribe({next:tt=>{ue.handleError(tt)}});V.onDestroy(()=>{lv(this._modules,V),Ue.unsubscribe()})}),function aT(o,c,u){try{const E=u();return yp(E)?E.catch(R=>{throw c.runOutsideAngular(()=>o.handleError(R)),R}):E}catch(E){throw c.runOutsideAngular(()=>o.handleError(E)),E}}(ue,R,()=>{const Ue=V.injector.get(Ey);return Ue.runInitializers(),Ue.donePromise.then(()=>(fb(V.injector.get(av,Xh)||Xh),this._moduleDoBootstrap(V),V))})})}bootstrapModule(u,E=[]){const R=lT({},E);return function JC(o,c,u){const E=new sy(u);return Promise.resolve(E)}(0,0,u).then(V=>this.bootstrapModuleFactory(V,R))}_moduleDoBootstrap(u){const E=u.injector.get(im);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(R=>E.bootstrap(R));else{if(!u.instance.ngDoBootstrap)throw new S(-403,!1);u.instance.ngDoBootstrap(E)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(E=>E.destroy()),this._destroyListeners.forEach(E=>E());const u=this._injector.get(Dy,null);u&&(u.forEach(E=>E()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(E){return new(E||o)(nt(Na))};static#t=this.\u0275prov=ye({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function lT(o,c){return Array.isArray(c)?c.reduce(lT,o):{...o,...c}}let im=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ke(dT),this.zoneIsStable=Ke($E),this.componentTypes=[],this.components=[],this.isStable=Ke(VE).hasPendingTasks.pipe((0,g.w)(u=>u?(0,x.of)(!1):this.zoneIsStable),(0,d.x)(),(0,w.B)()),this._injector=Ke(eu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,E){const R=u instanceof dg;if(!this._injector.get(Ey).done)throw!R&&ho(u),new S(405,!1);let ue;ue=R?u:this._injector.get(hf).resolveComponentFactory(u),this.componentTypes.push(ue.componentType);const Ue=function QC(o){return o.isBoundToModule}(ue)?void 0:this._injector.get(em),Ot=ue.create(Na.NULL,[],E||ue.selector,Ue),Jt=Ot.location.nativeElement,mn=Ot.injector.get(QE,null);return mn?.registerApplication(Jt),Ot.onDestroy(()=>{this.detachView(Ot.hostView),lv(this.components,Ot),mn?.unregisterApplication(Jt)}),this._loadComponent(Ot),Ot}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const E=u;this._views.push(E),E.attachToAppRef(this)}detachView(u){const E=u;lv(this._views,E),E.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const E=this._injector.get(My,[]);E.push(...this._bootstrapListeners),E.forEach(R=>R(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>lv(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new S(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(E){return new(E||o)};static#t=this.\u0275prov=ye({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function lv(o,c){const u=o.indexOf(c);u>-1&&o.splice(u,1)}const dT=new Nr("",{providedIn:"root",factory:()=>Ke(tu).handleError.bind(void 0)});function iD(){const o=Ke(Tl),c=Ke(tu);return u=>o.runOutsideAngular(()=>c.handleError(u))}let rD=(()=>{class o{constructor(){this.zone=Ke(Tl),this.applicationRef=Ke(im)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(E){return new(E||o)};static#t=this.\u0275prov=ye({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function sD(){return!1}function aD(){}let lD=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=cD}return o})();function cD(o){return function dD(o,c,u){if(po(o)&&!u){const E=In(o.index,c);return new Cf(E,E)}return 47&o.type?new Cf(c[ki],c):null}(gr(),ii(),16==(16&o))}class pT{constructor(){}supports(c){return Gh(c)}create(c){return new gD(c)}}const pD=(o,c)=>c;class gD{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||pD}forEachItem(c){let u;for(u=this._itHead;null!==u;u=u._next)c(u)}forEachOperation(c){let u=this._itHead,E=this._removalsHead,R=0,V=null;for(;u||E;){const ue=!E||u&&u.currentIndex<_T(E,R,V)?u:E,Ue=_T(ue,R,V),tt=ue.currentIndex;if(ue===E)R--,E=E._nextRemoved;else if(u=u._next,null==ue.previousIndex)R++;else{V||(V=[]);const Ot=Ue-R,Jt=tt-R;if(Ot!=Jt){for(let Rn=0;Rn<Ot;Rn++){const jn=Rn<V.length?V[Rn]:V[Rn]=0,ti=jn+Rn;Jt<=ti&&ti<Ot&&(V[Rn]=jn+1)}V[ue.previousIndex]=Jt-Ot}}Ue!==tt&&c(ue,Ue,tt)}}forEachPreviousItem(c){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachMovedItem(c){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}forEachIdentityChange(c){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)c(u)}diff(c){if(null==c&&(c=[]),!Gh(c))throw new S(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let R,V,ue,u=this._itHead,E=!1;if(Array.isArray(c)){this.length=c.length;for(let Ue=0;Ue<this.length;Ue++)V=c[Ue],ue=this._trackByFn(Ue,V),null!==u&&Object.is(u.trackById,ue)?(E&&(u=this._verifyReinsertion(u,V,ue,Ue)),Object.is(u.item,V)||this._addIdentityChange(u,V)):(u=this._mismatch(u,V,ue,Ue),E=!0),u=u._next}else R=0,function _0(o,c){if(Array.isArray(o))for(let u=0;u<o.length;u++)c(o[u]);else{const u=o[Symbol.iterator]();let E;for(;!(E=u.next()).done;)c(E.value)}}(c,Ue=>{ue=this._trackByFn(R,Ue),null!==u&&Object.is(u.trackById,ue)?(E&&(u=this._verifyReinsertion(u,Ue,ue,R)),Object.is(u.item,Ue)||this._addIdentityChange(u,Ue)):(u=this._mismatch(u,Ue,ue,R),E=!0),u=u._next,R++}),this.length=R;return this._truncate(u),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,u,E,R){let V;return null===c?V=this._itTail:(V=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(E,null))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._reinsertAfter(c,V,R)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(E,R))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._moveAfter(c,V,R)):c=this._addAfter(new _D(u,E),V,R),c}_verifyReinsertion(c,u,E,R){let V=null===this._unlinkedRecords?null:this._unlinkedRecords.get(E,null);return null!==V?c=this._reinsertAfter(V,c._prev,R):c.currentIndex!=R&&(c.currentIndex=R,this._addToMoves(c,R)),c}_truncate(c){for(;null!==c;){const u=c._next;this._addToRemovals(this._unlink(c)),c=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,u,E){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const R=c._prevRemoved,V=c._nextRemoved;return null===R?this._removalsHead=V:R._nextRemoved=V,null===V?this._removalsTail=R:V._prevRemoved=R,this._insertAfter(c,u,E),this._addToMoves(c,E),c}_moveAfter(c,u,E){return this._unlink(c),this._insertAfter(c,u,E),this._addToMoves(c,E),c}_addAfter(c,u,E){return this._insertAfter(c,u,E),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,u,E){const R=null===u?this._itHead:u._next;return c._next=R,c._prev=u,null===R?this._itTail=c:R._prev=c,null===u?this._itHead=c:u._next=c,null===this._linkedRecords&&(this._linkedRecords=new gT),this._linkedRecords.put(c),c.currentIndex=E,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const u=c._prev,E=c._next;return null===u?this._itHead=E:u._next=E,null===E?this._itTail=u:E._prev=u,c}_addToMoves(c,u){return c.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gT),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,u){return c.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class _D{constructor(c,u){this.item=c,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vD{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,u){let E;for(E=this._head;null!==E;E=E._nextDup)if((null===u||u<=E.currentIndex)&&Object.is(E.trackById,c))return E;return null}remove(c){const u=c._prevDup,E=c._nextDup;return null===u?this._head=E:u._nextDup=E,null===E?this._tail=u:E._prevDup=u,null===this._head}}class gT{constructor(){this.map=new Map}put(c){const u=c.trackById;let E=this.map.get(u);E||(E=new vD,this.map.set(u,E)),E.add(c)}get(c,u){const R=this.map.get(c);return R?R.get(c,u):null}remove(c){const u=c.trackById;return this.map.get(u).remove(c)&&this.map.delete(u),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _T(o,c,u){const E=o.previousIndex;if(null===E)return E;let R=0;return u&&E<u.length&&(R=u[E]),E+c+R}class vT{constructor(){}supports(c){return c instanceof Map||op(c)}create(){return new yD}}class yD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let u;for(u=this._mapHead;null!==u;u=u._next)c(u)}forEachPreviousItem(c){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)c(u)}forEachChangedItem(c){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}diff(c){if(c){if(!(c instanceof Map||op(c)))throw new S(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(c,(E,R)=>{if(u&&u.key===R)this._maybeAddToChanges(u,E),this._appendAfter=u,u=u._next;else{const V=this._getOrCreateRecordForKey(R,E);u=this._insertBeforeOrAppend(u,V)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let E=u;null!==E;E=E._nextRemoved)E===this._mapHead&&(this._mapHead=null),this._records.delete(E.key),E._nextRemoved=E._next,E.previousValue=E.currentValue,E.currentValue=null,E._prev=null,E._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,u){if(c){const E=c._prev;return u._next=c,u._prev=E,c._prev=u,E&&(E._next=u),c===this._mapHead&&(this._mapHead=u),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(c,u){if(this._records.has(c)){const R=this._records.get(c);this._maybeAddToChanges(R,u);const V=R._prev,ue=R._next;return V&&(V._next=ue),ue&&(ue._prev=V),R._next=null,R._prev=null,R}const E=new bD(c);return this._records.set(c,E),E.currentValue=u,this._addToAdditions(E),E}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,u){Object.is(u,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=u,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,u){c instanceof Map?c.forEach(u):Object.keys(c).forEach(E=>u(c[E],E))}}class bD{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yT(){return new Oy([new pT])}let Oy=(()=>{class o{static#e=this.\u0275prov=ye({token:o,providedIn:"root",factory:yT});constructor(u){this.factories=u}static create(u,E){if(null!=E){const R=E.factories.slice();u=u.concat(R)}return new o(u)}static extend(u){return{provide:o,useFactory:E=>o.create(u,E||yT()),deps:[[o,new Rr,new Yo]]}}find(u){const E=this.factories.find(R=>R.supports(u));if(null!=E)return E;throw new S(901,!1)}}return o})();function bT(){return new Ry([new vT])}let Ry=(()=>{class o{static#e=this.\u0275prov=ye({token:o,providedIn:"root",factory:bT});constructor(u){this.factories=u}static create(u,E){if(E){const R=E.factories.slice();u=u.concat(R)}return new o(u)}static extend(u){return{provide:o,useFactory:E=>o.create(u,E||bT()),deps:[[o,new Rr,new Yo]]}}find(u){const E=this.factories.find(R=>R.supports(u));if(E)return E;throw new S(901,!1)}}return o})();const SD=iT(null,"core",[]);let CD=(()=>{class o{constructor(u){}static#e=this.\u0275fac=function(E){return new(E||o)(nt(im))};static#t=this.\u0275mod=fr({type:o});static#n=this.\u0275inj=K({})}return o})();function RD(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function LD(o,c){const u=Li(o),E=c.elementInjector||gh();return new Df(u).create(E,c.projectableNodes,c.hostElement,c.environmentInjector)}function kD(o){const c=Li(o);if(!c)return null;const u=new Df(c);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return c.standalone},get isSignal(){return c.signals}}}},95:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Zs:()=>rs,Fj:()=>S,qu:()=>Ma,NI:()=>fr,u:()=>Ao,sg:()=>wi,u5:()=>mr,Cf:()=>U,JU:()=>P,a5:()=>ie,JJ:()=>Te,JL:()=>be,F:()=>nr,On:()=>Qr,YN:()=>xo,wV:()=>hr,UX:()=>Pn,EJ:()=>Zo,kI:()=>te,_Y:()=>qr,Kr:()=>is});var e=v(5879),n=v(6814),b=v(2459),A=v(5592),_=v(7453),x=v(4829),w=v(9940),g=v(8251),d=v(7400),i=v(2714),p=v(7398);let T=(()=>{class ut{constructor(lt,Wt){this._renderer=lt,this._elementRef=Wt,this.onChange=En=>{},this.onTouched=()=>{}}setProperty(lt,Wt){this._renderer.setProperty(this._elementRef.nativeElement,lt,Wt)}registerOnTouched(lt){this.onTouched=lt}registerOnChange(lt){this.onChange=lt}setDisabledState(lt){this.setProperty("disabled",lt)}static#e=this.\u0275fac=function(Wt){return new(Wt||ut)(e.Y36(e.Qsj),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:ut})}return ut})(),B=(()=>{class ut extends T{static#e=this.\u0275fac=function(){let lt;return function(En){return(lt||(lt=e.n5z(ut)))(En||ut)}}();static#t=this.\u0275dir=e.lG2({type:ut,features:[e.qOj]})}return ut})();const P=new e.OlP("NgValueAccessor"),O={provide:P,useExisting:(0,e.Gpc)(()=>S),multi:!0},I=new e.OlP("CompositionEventMode");let S=(()=>{class ut extends T{constructor(lt,Wt,En){super(lt,Wt),this._compositionMode=En,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function D(){const ut=(0,n.q)()?(0,n.q)().getUserAgent():"";return/android (\d+)/.test(ut.toLowerCase())}())}writeValue(lt){this.setProperty("value",lt??"")}_handleInput(lt){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(lt)}_compositionStart(){this._composing=!0}_compositionEnd(lt){this._composing=!1,this._compositionMode&&this.onChange(lt)}static#e=this.\u0275fac=function(Wt){return new(Wt||ut)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:ut,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Wt,En){1&Wt&&e.NdJ("input",function(Bi){return En._handleInput(Bi.target.value)})("blur",function(){return En.onTouched()})("compositionstart",function(){return En._compositionStart()})("compositionend",function(Bi){return En._compositionEnd(Bi.target.value)})},features:[e._Bn([O]),e.qOj]})}return ut})();function L(ut){return null==ut||("string"==typeof ut||Array.isArray(ut))&&0===ut.length}function C(ut){return null!=ut&&"number"==typeof ut.length}const U=new e.OlP("NgValidators"),z=new e.OlP("NgAsyncValidators"),ne=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class te{static min(It){return function Me(ut){return It=>{if(L(It.value)||L(ut))return null;const lt=parseFloat(It.value);return!isNaN(lt)&&lt<ut?{min:{min:ut,actual:It.value}}:null}}(It)}static max(It){return function J(ut){return It=>{if(L(It.value)||L(ut))return null;const lt=parseFloat(It.value);return!isNaN(lt)&&lt>ut?{max:{max:ut,actual:It.value}}:null}}(It)}static required(It){return ce(It)}static requiredTrue(It){return W(It)}static email(It){return function Se(ut){return L(ut.value)||ne.test(ut.value)?null:{email:!0}}(It)}static minLength(It){return function le(ut){return It=>L(It.value)||!C(It.value)?null:It.value.length<ut?{minlength:{requiredLength:ut,actualLength:It.value.length}}:null}(It)}static maxLength(It){return function Ee(ut){return It=>C(It.value)&&It.value.length>ut?{maxlength:{requiredLength:ut,actualLength:It.value.length}}:null}(It)}static pattern(It){return function xe(ut){if(!ut)return Ve;let It,lt;return"string"==typeof ut?(lt="","^"!==ut.charAt(0)&&(lt+="^"),lt+=ut,"$"!==ut.charAt(ut.length-1)&&(lt+="$"),It=new RegExp(lt)):(lt=ut.toString(),It=ut),Wt=>{if(L(Wt.value))return null;const En=Wt.value;return It.test(En)?null:{pattern:{requiredPattern:lt,actualValue:En}}}}(It)}static nullValidator(It){return null}static compose(It){return Fe(It)}static composeAsync(It){return at(It)}}function ce(ut){return L(ut.value)?{required:!0}:null}function W(ut){return!0===ut.value?null:{required:!0}}function Ve(ut){return null}function fe(ut){return null!=ut}function Pe(ut){return(0,e.QGY)(ut)?(0,b.D)(ut):ut}function Ce(ut){let It={};return ut.forEach(lt=>{It=null!=lt?{...It,...lt}:It}),0===Object.keys(It).length?null:It}function me(ut,It){return It.map(lt=>lt(ut))}function Re(ut){return ut.map(It=>function De(ut){return!ut.validate}(It)?It:lt=>It.validate(lt))}function Fe(ut){if(!ut)return null;const It=ut.filter(fe);return 0==It.length?null:function(lt){return Ce(me(lt,It))}}function Ne(ut){return null!=ut?Fe(Re(ut)):null}function at(ut){if(!ut)return null;const It=ut.filter(fe);return 0==It.length?null:function(lt){return function h(...ut){const It=(0,w.jO)(ut),{args:lt,keys:Wt}=(0,_.D)(ut),En=new A.y(pi=>{const{length:Bi}=lt;if(!Bi)return void pi.complete();const wo=new Array(Bi);let Qo=Bi,os=Bi;for(let eo=0;eo<Bi;eo++){let Es=!1;(0,x.Xf)(lt[eo]).subscribe((0,g.x)(pi,Tr=>{Es||(Es=!0,os--),wo[eo]=Tr},()=>Qo--,void 0,()=>{(!Qo||!Es)&&(os||pi.next(Wt?(0,i.n)(Wt,wo):wo),pi.complete())}))}});return It?En.pipe((0,d.Z)(It)):En}(me(lt,It).map(Pe)).pipe((0,p.U)(Ce))}}function Be(ut){return null!=ut?at(Re(ut)):null}function ye(ut,It){return null===ut?[It]:Array.isArray(ut)?[...ut,It]:[ut,It]}function ve(ut){return ut._rawValidators}function K(ut){return ut._rawAsyncValidators}function se(ut){return ut?Array.isArray(ut)?ut:[ut]:[]}function ge(ut,It){return Array.isArray(ut)?ut.includes(It):ut===It}function oe(ut,It){const lt=se(It);return se(ut).forEach(En=>{ge(lt,En)||lt.push(En)}),lt}function Q(ut,It){return se(It).filter(lt=>!ge(ut,lt))}class q{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(It){this._rawValidators=It||[],this._composedValidatorFn=Ne(this._rawValidators)}_setAsyncValidators(It){this._rawAsyncValidators=It||[],this._composedAsyncValidatorFn=Be(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(It){this._onDestroyCallbacks.push(It)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(It=>It()),this._onDestroyCallbacks=[]}reset(It=void 0){this.control&&this.control.reset(It)}hasError(It,lt){return!!this.control&&this.control.hasError(It,lt)}getError(It,lt){return this.control?this.control.getError(It,lt):null}}class $ extends q{get formDirective(){return null}get path(){return null}}class ie extends q{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Z{constructor(It){this._cd=It}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Te=(()=>{class ut extends Z{constructor(lt){super(lt)}static#e=this.\u0275fac=function(Wt){return new(Wt||ut)(e.Y36(ie,2))};static#t=this.\u0275dir=e.lG2({type:ut,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Wt,En){2&Wt&&e.ekj("ng-untouched",En.isUntouched)("ng-touched",En.isTouched)("ng-pristine",En.isPristine)("ng-dirty",En.isDirty)("ng-valid",En.isValid)("ng-invalid",En.isInvalid)("ng-pending",En.isPending)},features:[e.qOj]})}return ut})(),be=(()=>{class ut extends Z{constructor(lt){super(lt)}static#e=this.\u0275fac=function(Wt){return new(Wt||ut)(e.Y36($,10))};static#t=this.\u0275dir=e.lG2({type:ut,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Wt,En){2&Wt&&e.ekj("ng-untouched",En.isUntouched)("ng-touched",En.isTouched)("ng-pristine",En.isPristine)("ng-dirty",En.isDirty)("ng-valid",En.isValid)("ng-invalid",En.isInvalid)("ng-pending",En.isPending)("ng-submitted",En.isSubmitted)},features:[e.qOj]})}return ut})();const vt="VALID",nt="INVALID",ke="PENDING",Ke="DISABLED";function rt(ut){return(_t(ut)?ut.validators:ut)||null}function yt(ut,It){return(_t(It)?It.asyncValidators:ut)||null}function _t(ut){return null!=ut&&!Array.isArray(ut)&&"object"==typeof ut}function qt(ut,It,lt){const Wt=ut.controls;if(!(It?Object.keys(Wt):Wt).length)throw new e.vHH(1e3,"");if(!Wt[lt])throw new e.vHH(1001,"")}function fn(ut,It,lt){ut._forEachChild((Wt,En)=>{if(void 0===lt[En])throw new e.vHH(1002,"")})}class Qt{constructor(It,lt){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(It),this._assignAsyncValidators(lt)}get validator(){return this._composedValidatorFn}set validator(It){this._rawValidators=this._composedValidatorFn=It}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(It){this._rawAsyncValidators=this._composedAsyncValidatorFn=It}get parent(){return this._parent}get valid(){return this.status===vt}get invalid(){return this.status===nt}get pending(){return this.status==ke}get disabled(){return this.status===Ke}get enabled(){return this.status!==Ke}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(It){this._assignValidators(It)}setAsyncValidators(It){this._assignAsyncValidators(It)}addValidators(It){this.setValidators(oe(It,this._rawValidators))}addAsyncValidators(It){this.setAsyncValidators(oe(It,this._rawAsyncValidators))}removeValidators(It){this.setValidators(Q(It,this._rawValidators))}removeAsyncValidators(It){this.setAsyncValidators(Q(It,this._rawAsyncValidators))}hasValidator(It){return ge(this._rawValidators,It)}hasAsyncValidator(It){return ge(this._rawAsyncValidators,It)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(It={}){this.touched=!0,this._parent&&!It.onlySelf&&this._parent.markAsTouched(It)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(It=>It.markAllAsTouched())}markAsUntouched(It={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(lt=>{lt.markAsUntouched({onlySelf:!0})}),this._parent&&!It.onlySelf&&this._parent._updateTouched(It)}markAsDirty(It={}){this.pristine=!1,this._parent&&!It.onlySelf&&this._parent.markAsDirty(It)}markAsPristine(It={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(lt=>{lt.markAsPristine({onlySelf:!0})}),this._parent&&!It.onlySelf&&this._parent._updatePristine(It)}markAsPending(It={}){this.status=ke,!1!==It.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!It.onlySelf&&this._parent.markAsPending(It)}disable(It={}){const lt=this._parentMarkedDirty(It.onlySelf);this.status=Ke,this.errors=null,this._forEachChild(Wt=>{Wt.disable({...It,onlySelf:!0})}),this._updateValue(),!1!==It.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...It,skipPristineCheck:lt}),this._onDisabledChange.forEach(Wt=>Wt(!0))}enable(It={}){const lt=this._parentMarkedDirty(It.onlySelf);this.status=vt,this._forEachChild(Wt=>{Wt.enable({...It,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:It.emitEvent}),this._updateAncestors({...It,skipPristineCheck:lt}),this._onDisabledChange.forEach(Wt=>Wt(!1))}_updateAncestors(It){this._parent&&!It.onlySelf&&(this._parent.updateValueAndValidity(It),It.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(It){this._parent=It}getRawValue(){return this.value}updateValueAndValidity(It={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vt||this.status===ke)&&this._runAsyncValidator(It.emitEvent)),!1!==It.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!It.onlySelf&&this._parent.updateValueAndValidity(It)}_updateTreeValidity(It={emitEvent:!0}){this._forEachChild(lt=>lt._updateTreeValidity(It)),this.updateValueAndValidity({onlySelf:!0,emitEvent:It.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ke:vt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(It){if(this.asyncValidator){this.status=ke,this._hasOwnPendingAsyncValidator=!0;const lt=Pe(this.asyncValidator(this));this._asyncValidationSubscription=lt.subscribe(Wt=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Wt,{emitEvent:It})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(It,lt={}){this.errors=It,this._updateControlsErrors(!1!==lt.emitEvent)}get(It){let lt=It;return null==lt||(Array.isArray(lt)||(lt=lt.split(".")),0===lt.length)?null:lt.reduce((Wt,En)=>Wt&&Wt._find(En),this)}getError(It,lt){const Wt=lt?this.get(lt):this;return Wt&&Wt.errors?Wt.errors[It]:null}hasError(It,lt){return!!this.getError(It,lt)}get root(){let It=this;for(;It._parent;)It=It._parent;return It}_updateControlsErrors(It){this.status=this._calculateStatus(),It&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(It)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?Ke:this.errors?nt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ke)?ke:this._anyControlsHaveStatus(nt)?nt:vt}_anyControlsHaveStatus(It){return this._anyControls(lt=>lt.status===It)}_anyControlsDirty(){return this._anyControls(It=>It.dirty)}_anyControlsTouched(){return this._anyControls(It=>It.touched)}_updatePristine(It={}){this.pristine=!this._anyControlsDirty(),this._parent&&!It.onlySelf&&this._parent._updatePristine(It)}_updateTouched(It={}){this.touched=this._anyControlsTouched(),this._parent&&!It.onlySelf&&this._parent._updateTouched(It)}_registerOnCollectionChange(It){this._onCollectionChange=It}_setUpdateStrategy(It){_t(It)&&null!=It.updateOn&&(this._updateOn=It.updateOn)}_parentMarkedDirty(It){return!It&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(It){return null}_assignValidators(It){this._rawValidators=Array.isArray(It)?It.slice():It,this._composedValidatorFn=function ot(ut){return Array.isArray(ut)?Ne(ut):ut||null}(this._rawValidators)}_assignAsyncValidators(It){this._rawAsyncValidators=Array.isArray(It)?It.slice():It,this._composedAsyncValidatorFn=function mt(ut){return Array.isArray(ut)?Be(ut):ut||null}(this._rawAsyncValidators)}}class gn extends Qt{constructor(It,lt,Wt){super(rt(lt),yt(Wt,lt)),this.controls=It,this._initObservables(),this._setUpdateStrategy(lt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(It,lt){return this.controls[It]?this.controls[It]:(this.controls[It]=lt,lt.setParent(this),lt._registerOnCollectionChange(this._onCollectionChange),lt)}addControl(It,lt,Wt={}){this.registerControl(It,lt),this.updateValueAndValidity({emitEvent:Wt.emitEvent}),this._onCollectionChange()}removeControl(It,lt={}){this.controls[It]&&this.controls[It]._registerOnCollectionChange(()=>{}),delete this.controls[It],this.updateValueAndValidity({emitEvent:lt.emitEvent}),this._onCollectionChange()}setControl(It,lt,Wt={}){this.controls[It]&&this.controls[It]._registerOnCollectionChange(()=>{}),delete this.controls[It],lt&&this.registerControl(It,lt),this.updateValueAndValidity({emitEvent:Wt.emitEvent}),this._onCollectionChange()}contains(It){return this.controls.hasOwnProperty(It)&&this.controls[It].enabled}setValue(It,lt={}){fn(this,0,It),Object.keys(It).forEach(Wt=>{qt(this,!0,Wt),this.controls[Wt].setValue(It[Wt],{onlySelf:!0,emitEvent:lt.emitEvent})}),this.updateValueAndValidity(lt)}patchValue(It,lt={}){null!=It&&(Object.keys(It).forEach(Wt=>{const En=this.controls[Wt];En&&En.patchValue(It[Wt],{onlySelf:!0,emitEvent:lt.emitEvent})}),this.updateValueAndValidity(lt))}reset(It={},lt={}){this._forEachChild((Wt,En)=>{Wt.reset(It[En],{onlySelf:!0,emitEvent:lt.emitEvent})}),this._updatePristine(lt),this._updateTouched(lt),this.updateValueAndValidity(lt)}getRawValue(){return this._reduceChildren({},(It,lt,Wt)=>(It[Wt]=lt.getRawValue(),It))}_syncPendingControls(){let It=this._reduceChildren(!1,(lt,Wt)=>!!Wt._syncPendingControls()||lt);return It&&this.updateValueAndValidity({onlySelf:!0}),It}_forEachChild(It){Object.keys(this.controls).forEach(lt=>{const Wt=this.controls[lt];Wt&&It(Wt,lt)})}_setUpControls(){this._forEachChild(It=>{It.setParent(this),It._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(It){for(const[lt,Wt]of Object.entries(this.controls))if(this.contains(lt)&&It(Wt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(lt,Wt,En)=>((Wt.enabled||this.disabled)&&(lt[En]=Wt.value),lt))}_reduceChildren(It,lt){let Wt=It;return this._forEachChild((En,pi)=>{Wt=lt(Wt,En,pi)}),Wt}_allControlsDisabled(){for(const It of Object.keys(this.controls))if(this.controls[It].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(It){return this.controls.hasOwnProperty(It)?this.controls[It]:null}}class Gn extends gn{}const dn=new e.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ln}),ln="always";function un(ut,It){return[...It.path,ut]}function sn(ut,It,lt=ln){hn(ut,It),It.valueAccessor.writeValue(ut.value),(ut.disabled||"always"===lt)&&It.valueAccessor.setDisabledState?.(ut.disabled),function Tt(ut,It){It.valueAccessor.registerOnChange(lt=>{ut._pendingValue=lt,ut._pendingChange=!0,ut._pendingDirty=!0,"change"===ut.updateOn&&Rt(ut,It)})}(ut,It),function bn(ut,It){const lt=(Wt,En)=>{It.valueAccessor.writeValue(Wt),En&&It.viewToModelUpdate(Wt)};ut.registerOnChange(lt),It._registerOnDestroy(()=>{ut._unregisterOnChange(lt)})}(ut,It),function Yt(ut,It){It.valueAccessor.registerOnTouched(()=>{ut._pendingTouched=!0,"blur"===ut.updateOn&&ut._pendingChange&&Rt(ut,It),"submit"!==ut.updateOn&&ut.markAsTouched()})}(ut,It),function dt(ut,It){if(It.valueAccessor.setDisabledState){const lt=Wt=>{It.valueAccessor.setDisabledState(Wt)};ut.registerOnDisabledChange(lt),It._registerOnDestroy(()=>{ut._unregisterOnDisabledChange(lt)})}}(ut,It)}function cn(ut,It,lt=!0){const Wt=()=>{};It.valueAccessor&&(It.valueAccessor.registerOnChange(Wt),It.valueAccessor.registerOnTouched(Wt)),$e(ut,It),ut&&(It._invokeOnDestroyCallbacks(),ut._registerOnCollectionChange(()=>{}))}function St(ut,It){ut.forEach(lt=>{lt.registerOnValidatorChange&&lt.registerOnValidatorChange(It)})}function hn(ut,It){const lt=ve(ut);null!==It.validator?ut.setValidators(ye(lt,It.validator)):"function"==typeof lt&&ut.setValidators([lt]);const Wt=K(ut);null!==It.asyncValidator?ut.setAsyncValidators(ye(Wt,It.asyncValidator)):"function"==typeof Wt&&ut.setAsyncValidators([Wt]);const En=()=>ut.updateValueAndValidity();St(It._rawValidators,En),St(It._rawAsyncValidators,En)}function $e(ut,It){let lt=!1;if(null!==ut){if(null!==It.validator){const En=ve(ut);if(Array.isArray(En)&&En.length>0){const pi=En.filter(Bi=>Bi!==It.validator);pi.length!==En.length&&(lt=!0,ut.setValidators(pi))}}if(null!==It.asyncValidator){const En=K(ut);if(Array.isArray(En)&&En.length>0){const pi=En.filter(Bi=>Bi!==It.asyncValidator);pi.length!==En.length&&(lt=!0,ut.setAsyncValidators(pi))}}}const Wt=()=>{};return St(It._rawValidators,Wt),St(It._rawAsyncValidators,Wt),lt}function Rt(ut,It){ut._pendingDirty&&ut.markAsDirty(),ut.setValue(ut._pendingValue,{emitModelToViewChange:!1}),It.viewToModelUpdate(ut._pendingValue),ut._pendingChange=!1}function Lt(ut,It){hn(ut,It)}function Ft(ut,It){if(!ut.hasOwnProperty("model"))return!1;const lt=ut.model;return!!lt.isFirstChange()||!Object.is(It,lt.currentValue)}function Ae(ut,It){ut._syncPendingControls(),It.forEach(lt=>{const Wt=lt.control;"submit"===Wt.updateOn&&Wt._pendingChange&&(lt.viewToModelUpdate(Wt._pendingValue),Wt._pendingChange=!1)})}function Nt(ut,It){if(!It)return null;let lt,Wt,En;return Array.isArray(It),It.forEach(pi=>{pi.constructor===S?lt=pi:function Cn(ut){return Object.getPrototypeOf(ut.constructor)===B}(pi)?Wt=pi:En=pi}),En||Wt||lt||null}const wn={provide:$,useExisting:(0,e.Gpc)(()=>nr)},ci=(()=>Promise.resolve())();let nr=(()=>{class ut extends ${constructor(lt,Wt,En){super(),this.callSetDisabledState=En,this.submitted=!1,this._directives=new Set,this.ngSubmit=new e.vpe,this.form=new gn({},Ne(lt),Be(Wt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(lt){ci.then(()=>{const Wt=this._findContainer(lt.path);lt.control=Wt.registerControl(lt.name,lt.control),sn(lt.control,lt,this.callSetDisabledState),lt.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(lt)})}getControl(lt){return this.form.get(lt.path)}removeControl(lt){ci.then(()=>{const Wt=this._findContainer(lt.path);Wt&&Wt.removeControl(lt.name),this._directives.delete(lt)})}addFormGroup(lt){ci.then(()=>{const Wt=this._findContainer(lt.path),En=new gn({});Lt(En,lt),Wt.registerControl(lt.name,En),En.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(lt){ci.then(()=>{const Wt=this._findContainer(lt.path);Wt&&Wt.removeControl(lt.name)})}getFormGroup(lt){return this.form.get(lt.path)}updateModel(lt,Wt){ci.then(()=>{this.form.get(lt.path).setValue(Wt)})}setValue(lt){this.control.setValue(lt)}onSubmit(lt){return this.submitted=!0,Ae(this.form,this._directives),this.ngSubmit.emit(lt),"dialog"===lt?.target?.method}onReset(){this.resetForm()}resetForm(lt=void 0){this.form.reset(lt),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(lt){return lt.pop(),lt.length?this.form.get(lt):this.form}static#e=this.\u0275fac=function(Wt){return new(Wt||ut)(e.Y36(U,10),e.Y36(z,10),e.Y36(dn,8))};static#t=this.\u0275dir=e.lG2({type:ut,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Wt,En){1&Wt&&e.NdJ("submit",function(Bi){return En.onSubmit(Bi)})("reset",function(){return En.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([wn]),e.qOj]})}return ut})();function kr(ut,It){const lt=ut.indexOf(It);lt>-1&&ut.splice(lt,1)}function Ar(ut){return"object"==typeof ut&&null!==ut&&2===Object.keys(ut).length&&"value"in ut&&"disabled"in ut}const fr=class extends Qt{constructor(It=null,lt,Wt){super(rt(lt),yt(Wt,lt)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(It),this._setUpdateStrategy(lt),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_t(lt)&&(lt.nonNullable||lt.initialValueIsDefault)&&(this.defaultValue=Ar(It)?It.value:It)}setValue(It,lt={}){this.value=this._pendingValue=It,this._onChange.length&&!1!==lt.emitModelToViewChange&&this._onChange.forEach(Wt=>Wt(this.value,!1!==lt.emitViewToModelChange)),this.updateValueAndValidity(lt)}patchValue(It,lt={}){this.setValue(It,lt)}reset(It=this.defaultValue,lt={}){this._applyFormState(It),this.markAsPristine(lt),this.markAsUntouched(lt),this.setValue(this.value,lt),this._pendingChange=!1}_updateValue(){}_anyControls(It){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(It){this._onChange.push(It)}_unregisterOnChange(It){kr(this._onChange,It)}registerOnDisabledChange(It){this._onDisabledChange.push(It)}_unregisterOnDisabledChange(It){kr(this._onDisabledChange,It)}_forEachChild(It){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(It){Ar(It)?(this.value=this._pendingValue=It.value,It.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=It}},ts={provide:ie,useExisting:(0,e.Gpc)(()=>Qr)},Oo=(()=>Promise.resolve())();let Qr=(()=>{class ut extends ie{constructor(lt,Wt,En,pi,Bi,wo){super(),this._changeDetectorRef=Bi,this.callSetDisabledState=wo,this.control=new fr,this._registered=!1,this.name="",this.update=new e.vpe,this._parent=lt,this._setValidators(Wt),this._setAsyncValidators(En),this.valueAccessor=Nt(0,pi)}ngOnChanges(lt){if(this._checkForErrors(),!this._registered||"name"in lt){if(this._registered&&(this._checkName(),this.formDirective)){const Wt=lt.name.previousValue;this.formDirective.removeControl({name:Wt,path:this._getPath(Wt)})}this._setUpControl()}"isDisabled"in lt&&this._updateDisabled(lt),Ft(lt,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(lt){this.viewModel=lt,this.update.emit(lt)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){sn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(lt){Oo.then(()=>{this.control.setValue(lt,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(lt){const Wt=lt.isDisabled.currentValue,En=0!==Wt&&(0,e.VuI)(Wt);Oo.then(()=>{En&&!this.control.disabled?this.control.disable():!En&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(lt){return this._parent?un(lt,this._parent):[lt]}static#e=this.\u0275fac=function(Wt){return new(Wt||ut)(e.Y36($,9),e.Y36(U,10),e.Y36(z,10),e.Y36(P,10),e.Y36(e.sBO,8),e.Y36(dn,8))};static#t=this.\u0275dir=e.lG2({type:ut,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([ts]),e.qOj,e.TTD]})}return ut})(),qr=(()=>{class ut{static#e=this.\u0275fac=function(Wt){return new(Wt||ut)};static#t=this.\u0275dir=e.lG2({type:ut,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return ut})();const Uo={provide:P,useExisting:(0,e.Gpc)(()=>hr),multi:!0};let hr=(()=>{class ut extends B{writeValue(lt){this.setProperty("value",lt??"")}registerOnChange(lt){this.onChange=Wt=>{lt(""==Wt?null:parseFloat(Wt))}}static#e=this.\u0275fac=function(){let lt;return function(En){return(lt||(lt=e.n5z(ut)))(En||ut)}}();static#t=this.\u0275dir=e.lG2({type:ut,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Wt,En){1&Wt&&e.NdJ("input",function(Bi){return En.onChange(Bi.target.value)})("blur",function(){return En.onTouched()})},features:[e._Bn([Uo]),e.qOj]})}return ut})(),qi=(()=>{class ut{static#e=this.\u0275fac=function(Wt){return new(Wt||ut)};static#t=this.\u0275mod=e.oAB({type:ut});static#n=this.\u0275inj=e.cJS({})}return ut})();const vn=new e.OlP("NgModelWithFormControlWarning"),qn={provide:$,useExisting:(0,e.Gpc)(()=>wi)};let wi=(()=>{class ut extends ${constructor(lt,Wt,En){super(),this.callSetDisabledState=En,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(lt),this._setAsyncValidators(Wt)}ngOnChanges(lt){this._checkFormPresent(),lt.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($e(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(lt){const Wt=this.form.get(lt.path);return sn(Wt,lt,this.callSetDisabledState),Wt.updateValueAndValidity({emitEvent:!1}),this.directives.push(lt),Wt}getControl(lt){return this.form.get(lt.path)}removeControl(lt){cn(lt.control||null,lt,!1),function At(ut,It){const lt=ut.indexOf(It);lt>-1&&ut.splice(lt,1)}(this.directives,lt)}addFormGroup(lt){this._setUpFormContainer(lt)}removeFormGroup(lt){this._cleanUpFormContainer(lt)}getFormGroup(lt){return this.form.get(lt.path)}addFormArray(lt){this._setUpFormContainer(lt)}removeFormArray(lt){this._cleanUpFormContainer(lt)}getFormArray(lt){return this.form.get(lt.path)}updateModel(lt,Wt){this.form.get(lt.path).setValue(Wt)}onSubmit(lt){return this.submitted=!0,Ae(this.form,this.directives),this.ngSubmit.emit(lt),"dialog"===lt?.target?.method}onReset(){this.resetForm()}resetForm(lt=void 0){this.form.reset(lt),this.submitted=!1}_updateDomValue(){this.directives.forEach(lt=>{const Wt=lt.control,En=this.form.get(lt.path);Wt!==En&&(cn(Wt||null,lt),(ut=>ut instanceof fr)(En)&&(sn(En,lt,this.callSetDisabledState),lt.control=En))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(lt){const Wt=this.form.get(lt.path);Lt(Wt,lt),Wt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(lt){if(this.form){const Wt=this.form.get(lt.path);Wt&&function Ct(ut,It){return $e(ut,It)}(Wt,lt)&&Wt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hn(this.form,this),this._oldForm&&$e(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(Wt){return new(Wt||ut)(e.Y36(U,10),e.Y36(z,10),e.Y36(dn,8))};static#t=this.\u0275dir=e.lG2({type:ut,selectors:[["","formGroup",""]],hostBindings:function(Wt,En){1&Wt&&e.NdJ("submit",function(Bi){return En.onSubmit(Bi)})("reset",function(){return En.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([qn]),e.qOj,e.TTD]})}return ut})();const mo={provide:ie,useExisting:(0,e.Gpc)(()=>Ao)};let Ao=(()=>{class ut extends ie{set isDisabled(lt){}static#e=this._ngModelWarningSentOnce=!1;constructor(lt,Wt,En,pi,Bi){super(),this._ngModelWarningConfig=Bi,this._added=!1,this.name=null,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=lt,this._setValidators(Wt),this._setAsyncValidators(En),this.valueAccessor=Nt(0,pi)}ngOnChanges(lt){this._added||this._setUpControl(),Ft(lt,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(lt){this.viewModel=lt,this.update.emit(lt)}get path(){return un(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(Wt){return new(Wt||ut)(e.Y36($,13),e.Y36(U,10),e.Y36(z,10),e.Y36(P,10),e.Y36(vn,8))};static#n=this.\u0275dir=e.lG2({type:ut,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([mo]),e.qOj,e.TTD]})}return ut})();const Ps={provide:P,useExisting:(0,e.Gpc)(()=>Zo),multi:!0};function zr(ut,It){return null==ut?`${It}`:(It&&"object"==typeof It&&(It="Object"),`${ut}: ${It}`.slice(0,50))}let Zo=(()=>{class ut extends B{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(lt){this._compareWith=lt}writeValue(lt){this.value=lt;const En=zr(this._getOptionId(lt),lt);this.setProperty("value",En)}registerOnChange(lt){this.onChange=Wt=>{this.value=this._getOptionValue(Wt),lt(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(lt){for(const Wt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Wt),lt))return Wt;return null}_getOptionValue(lt){const Wt=function Xr(ut){return ut.split(":")[0]}(lt);return this._optionMap.has(Wt)?this._optionMap.get(Wt):lt}static#e=this.\u0275fac=function(){let lt;return function(En){return(lt||(lt=e.n5z(ut)))(En||ut)}}();static#t=this.\u0275dir=e.lG2({type:ut,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Wt,En){1&Wt&&e.NdJ("change",function(Bi){return En.onChange(Bi.target.value)})("blur",function(){return En.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([Ps]),e.qOj]})}return ut})(),xo=(()=>{class ut{constructor(lt,Wt,En){this._element=lt,this._renderer=Wt,this._select=En,this._select&&(this.id=this._select._registerOption())}set ngValue(lt){null!=this._select&&(this._select._optionMap.set(this.id,lt),this._setElementValue(zr(this.id,lt)),this._select.writeValue(this._select.value))}set value(lt){this._setElementValue(lt),this._select&&this._select.writeValue(this._select.value)}_setElementValue(lt){this._renderer.setProperty(this._element.nativeElement,"value",lt)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(Wt){return new(Wt||ut)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(Zo,9))};static#t=this.\u0275dir=e.lG2({type:ut,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return ut})();const Zi={provide:P,useExisting:(0,e.Gpc)(()=>To),multi:!0};function Ks(ut,It){return null==ut?`${It}`:("string"==typeof It&&(It=`'${It}'`),It&&"object"==typeof It&&(It="Object"),`${ut}: ${It}`.slice(0,50))}let To=(()=>{class ut extends B{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(lt){this._compareWith=lt}writeValue(lt){let Wt;if(this.value=lt,Array.isArray(lt)){const En=lt.map(pi=>this._getOptionId(pi));Wt=(pi,Bi)=>{pi._setSelected(En.indexOf(Bi.toString())>-1)}}else Wt=(En,pi)=>{En._setSelected(!1)};this._optionMap.forEach(Wt)}registerOnChange(lt){this.onChange=Wt=>{const En=[],pi=Wt.selectedOptions;if(void 0!==pi){const Bi=pi;for(let wo=0;wo<Bi.length;wo++){const os=this._getOptionValue(Bi[wo].value);En.push(os)}}else{const Bi=Wt.options;for(let wo=0;wo<Bi.length;wo++){const Qo=Bi[wo];if(Qo.selected){const os=this._getOptionValue(Qo.value);En.push(os)}}}this.value=En,lt(En)}}_registerOption(lt){const Wt=(this._idCounter++).toString();return this._optionMap.set(Wt,lt),Wt}_getOptionId(lt){for(const Wt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Wt)._value,lt))return Wt;return null}_getOptionValue(lt){const Wt=function $o(ut){return ut.split(":")[0]}(lt);return this._optionMap.has(Wt)?this._optionMap.get(Wt)._value:lt}static#e=this.\u0275fac=function(){let lt;return function(En){return(lt||(lt=e.n5z(ut)))(En||ut)}}();static#t=this.\u0275dir=e.lG2({type:ut,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Wt,En){1&Wt&&e.NdJ("change",function(Bi){return En.onChange(Bi.target)})("blur",function(){return En.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([Zi]),e.qOj]})}return ut})(),is=(()=>{class ut{constructor(lt,Wt,En){this._element=lt,this._renderer=Wt,this._select=En,this._select&&(this.id=this._select._registerOption(this))}set ngValue(lt){null!=this._select&&(this._value=lt,this._setElementValue(Ks(this.id,lt)),this._select.writeValue(this._select.value))}set value(lt){this._select?(this._value=lt,this._setElementValue(Ks(this.id,lt)),this._select.writeValue(this._select.value)):this._setElementValue(lt)}_setElementValue(lt){this._renderer.setProperty(this._element.nativeElement,"value",lt)}_setSelected(lt){this._renderer.setProperty(this._element.nativeElement,"selected",lt)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(Wt){return new(Wt||ut)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(To,9))};static#t=this.\u0275dir=e.lG2({type:ut,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return ut})(),Fr=(()=>{class ut{constructor(){this._validator=Ve}ngOnChanges(lt){if(this.inputName in lt){const Wt=this.normalizeInput(lt[this.inputName].currentValue);this._enabled=this.enabled(Wt),this._validator=this._enabled?this.createValidator(Wt):Ve,this._onChange&&this._onChange()}}validate(lt){return this._validator(lt)}registerOnValidatorChange(lt){this._onChange=lt}enabled(lt){return null!=lt}static#e=this.\u0275fac=function(Wt){return new(Wt||ut)};static#t=this.\u0275dir=e.lG2({type:ut,features:[e.TTD]})}return ut})();const po={provide:U,useExisting:(0,e.Gpc)(()=>yr),multi:!0},us={provide:U,useExisting:(0,e.Gpc)(()=>rs),multi:!0};let yr=(()=>{class ut extends Fr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e.VuI,this.createValidator=lt=>ce}enabled(lt){return lt}static#e=this.\u0275fac=function(){let lt;return function(En){return(lt||(lt=e.n5z(ut)))(En||ut)}}();static#t=this.\u0275dir=e.lG2({type:ut,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Wt,En){2&Wt&&e.uIk("required",En._enabled?"":null)},inputs:{required:"required"},features:[e._Bn([po]),e.qOj]})}return ut})(),rs=(()=>{class ut extends yr{constructor(){super(...arguments),this.createValidator=lt=>W}static#e=this.\u0275fac=function(){let lt;return function(En){return(lt||(lt=e.n5z(ut)))(En||ut)}}();static#t=this.\u0275dir=e.lG2({type:ut,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(Wt,En){2&Wt&&e.uIk("required",En._enabled?"":null)},features:[e._Bn([us]),e.qOj]})}return ut})(),pa=(()=>{class ut{static#e=this.\u0275fac=function(Wt){return new(Wt||ut)};static#t=this.\u0275mod=e.oAB({type:ut});static#n=this.\u0275inj=e.cJS({imports:[qi]})}return ut})();class Ns extends Qt{constructor(It,lt,Wt){super(rt(lt),yt(Wt,lt)),this.controls=It,this._initObservables(),this._setUpdateStrategy(lt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(It){return this.controls[this._adjustIndex(It)]}push(It,lt={}){this.controls.push(It),this._registerControl(It),this.updateValueAndValidity({emitEvent:lt.emitEvent}),this._onCollectionChange()}insert(It,lt,Wt={}){this.controls.splice(It,0,lt),this._registerControl(lt),this.updateValueAndValidity({emitEvent:Wt.emitEvent})}removeAt(It,lt={}){let Wt=this._adjustIndex(It);Wt<0&&(Wt=0),this.controls[Wt]&&this.controls[Wt]._registerOnCollectionChange(()=>{}),this.controls.splice(Wt,1),this.updateValueAndValidity({emitEvent:lt.emitEvent})}setControl(It,lt,Wt={}){let En=this._adjustIndex(It);En<0&&(En=0),this.controls[En]&&this.controls[En]._registerOnCollectionChange(()=>{}),this.controls.splice(En,1),lt&&(this.controls.splice(En,0,lt),this._registerControl(lt)),this.updateValueAndValidity({emitEvent:Wt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(It,lt={}){fn(this,0,It),It.forEach((Wt,En)=>{qt(this,!1,En),this.at(En).setValue(Wt,{onlySelf:!0,emitEvent:lt.emitEvent})}),this.updateValueAndValidity(lt)}patchValue(It,lt={}){null!=It&&(It.forEach((Wt,En)=>{this.at(En)&&this.at(En).patchValue(Wt,{onlySelf:!0,emitEvent:lt.emitEvent})}),this.updateValueAndValidity(lt))}reset(It=[],lt={}){this._forEachChild((Wt,En)=>{Wt.reset(It[En],{onlySelf:!0,emitEvent:lt.emitEvent})}),this._updatePristine(lt),this._updateTouched(lt),this.updateValueAndValidity(lt)}getRawValue(){return this.controls.map(It=>It.getRawValue())}clear(It={}){this.controls.length<1||(this._forEachChild(lt=>lt._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:It.emitEvent}))}_adjustIndex(It){return It<0?It+this.length:It}_syncPendingControls(){let It=this.controls.reduce((lt,Wt)=>!!Wt._syncPendingControls()||lt,!1);return It&&this.updateValueAndValidity({onlySelf:!0}),It}_forEachChild(It){this.controls.forEach((lt,Wt)=>{It(lt,Wt)})}_updateValue(){this.value=this.controls.filter(It=>It.enabled||this.disabled).map(It=>It.value)}_anyControls(It){return this.controls.some(lt=>lt.enabled&&It(lt))}_setUpControls(){this._forEachChild(It=>this._registerControl(It))}_allControlsDisabled(){for(const It of this.controls)if(It.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(It){It.setParent(this),It._registerOnCollectionChange(this._onCollectionChange)}_find(It){return this.at(It)??null}}function Jo(ut){return!!ut&&(void 0!==ut.asyncValidators||void 0!==ut.validators||void 0!==ut.updateOn)}let Ma=(()=>{class ut{constructor(){this.useNonNullable=!1}get nonNullable(){const lt=new ut;return lt.useNonNullable=!0,lt}group(lt,Wt=null){const En=this._reduceControls(lt);let pi={};return Jo(Wt)?pi=Wt:null!==Wt&&(pi.validators=Wt.validator,pi.asyncValidators=Wt.asyncValidator),new gn(En,pi)}record(lt,Wt=null){const En=this._reduceControls(lt);return new Gn(En,Wt)}control(lt,Wt,En){let pi={};return this.useNonNullable?(Jo(Wt)?pi=Wt:(pi.validators=Wt,pi.asyncValidators=En),new fr(lt,{...pi,nonNullable:!0})):new fr(lt,Wt,En)}array(lt,Wt,En){const pi=lt.map(Bi=>this._createControl(Bi));return new Ns(pi,Wt,En)}_reduceControls(lt){const Wt={};return Object.keys(lt).forEach(En=>{Wt[En]=this._createControl(lt[En])}),Wt}_createControl(lt){return lt instanceof fr||lt instanceof Qt?lt:Array.isArray(lt)?this.control(lt[0],lt.length>1?lt[1]:null,lt.length>2?lt[2]:null):this.control(lt)}static#e=this.\u0275fac=function(Wt){return new(Wt||ut)};static#t=this.\u0275prov=e.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})(),mr=(()=>{class ut{static withConfig(lt){return{ngModule:ut,providers:[{provide:dn,useValue:lt.callSetDisabledState??ln}]}}static#e=this.\u0275fac=function(Wt){return new(Wt||ut)};static#t=this.\u0275mod=e.oAB({type:ut});static#n=this.\u0275inj=e.cJS({imports:[pa]})}return ut})(),Pn=(()=>{class ut{static withConfig(lt){return{ngModule:ut,providers:[{provide:vn,useValue:lt.warnOnNgModelWithFormControl??"always"},{provide:dn,useValue:lt.callSetDisabledState??ln}]}}static#e=this.\u0275fac=function(Wt){return new(Wt||ut)};static#t=this.\u0275mod=e.oAB({type:ut});static#n=this.\u0275inj=e.cJS({imports:[pa]})}return ut})()},2296:(Hn,Xe,v)=>{"use strict";v.d(Xe,{RK:()=>me,lW:()=>ce,ot:()=>Re});var e=v(2831),n=v(5879),b=v(4300),A=v(3680),_=v(6814);const x=["mat-button",""],w=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],g=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],B=["mat-icon-button",""],P=["*"],F={capture:!0},O=["focus","click","mouseenter","touchstart"],D="mat-button-ripple-uninitialized";let I=(()=>{class Fe{constructor(){this._document=(0,n.f3M)(_.K0,{optional:!0}),this._animationMode=(0,n.f3M)(n.QbO,{optional:!0}),this._globalRippleOptions=(0,n.f3M)(A.Y2,{optional:!0}),this._platform=(0,n.f3M)(e.t4),this._ngZone=(0,n.f3M)(n.R0b),this._onInteraction=at=>{if(at.target===this._document)return;const ye=at.target.closest(`[${D}]`);ye&&(ye.removeAttribute(D),this._appendRipple(ye))},this._ngZone.runOutsideAngular(()=>{for(const at of O)this._document?.addEventListener(at,this._onInteraction,F)})}ngOnDestroy(){for(const at of O)this._document?.removeEventListener(at,this._onInteraction,F)}_appendRipple(at){if(!this._document)return;const Be=this._document.createElement("span");Be.classList.add("mat-mdc-button-ripple");const ye=new S(at,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);ye.rippleConfig.centered=at.hasAttribute("mat-icon-button"),new A.IR(ye,this._ngZone,Be,this._platform).setupTriggerEvents(at),at.append(Be)}_createMatRipple(at){if(!this._document)return;at.querySelector(".mat-mdc-button-ripple")?.remove(),at.removeAttribute(D);const Be=this._document.createElement("span");Be.classList.add("mat-mdc-button-ripple");const ye=new A.wG(new n.SBq(Be),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return ye._isInitialized=!0,ye.trigger=at,at.append(Be),ye}static#e=this.\u0275fac=function(Be){return new(Be||Fe)};static#t=this.\u0275prov=n.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})();class S{constructor(Ne,at,Be){this._button=Ne,this._globalRippleOptions=at,this._setRippleConfig(at,Be)}_setRippleConfig(Ne,at){this.rippleConfig=Ne||{},"NoopAnimations"===at&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const U=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],z=(0,A.pj)((0,A.Id)((0,A.Kr)(class{constructor(Fe){this._elementRef=Fe}})));let ne=(()=>{class Fe extends z{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(at){this._ripple=at}constructor(at,Be,ye,ve){super(at),this._platform=Be,this._ngZone=ye,this._animationMode=ve,this._focusMonitor=(0,n.f3M)(b.tE),this._rippleLoader=(0,n.f3M)(I),this._isFab=!1;const K=at.nativeElement.classList;for(const se of U)this._hasHostAttributes(se.selector)&&se.mdcClasses.forEach(ge=>{K.add(ge)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(at="program",Be){at?this._focusMonitor.focusVia(this._elementRef.nativeElement,at,Be):this._elementRef.nativeElement.focus(Be)}_hasHostAttributes(...at){return at.some(Be=>this._elementRef.nativeElement.hasAttribute(Be))}static#e=this.\u0275fac=function(Be){n.$Z()};static#t=this.\u0275dir=n.lG2({type:Fe,features:[n.qOj,n.TTD]})}return Fe})(),ce=(()=>{class Fe extends ne{constructor(at,Be,ye,ve){super(at,Be,ye,ve)}static#e=this.\u0275fac=function(Be){return new(Be||Fe)(n.Y36(n.SBq),n.Y36(e.t4),n.Y36(n.R0b),n.Y36(n.QbO,8))};static#t=this.\u0275cmp=n.Xpm({type:Fe,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Be,ye){2&Be&&(n.uIk("disabled",ye.disabled||null),n.ekj("_mat-animation-noopable","NoopAnimations"===ye._animationMode)("mat-unthemed",!ye.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[n.qOj],attrs:x,ngContentSelectors:g,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Be,ye){1&Be&&(n.F$t(w),n._UZ(0,"span",0),n.Hsn(1),n.TgZ(2,"span",1),n.Hsn(3,1),n.qZA(),n.Hsn(4,2),n._UZ(5,"span",2)(6,"span",3)),2&Be&&n.ekj("mdc-button__ripple",!ye._isFab)("mdc-fab__ripple",ye._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Fe})(),me=(()=>{class Fe extends ne{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(at,Be,ye,ve){super(at,Be,ye,ve)}static#e=this.\u0275fac=function(Be){return new(Be||Fe)(n.Y36(n.SBq),n.Y36(e.t4),n.Y36(n.R0b),n.Y36(n.QbO,8))};static#t=this.\u0275cmp=n.Xpm({type:Fe,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Be,ye){2&Be&&(n.uIk("disabled",ye.disabled||null),n.ekj("_mat-animation-noopable","NoopAnimations"===ye._animationMode)("mat-unthemed",!ye.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[n.qOj],attrs:B,ngContentSelectors:P,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Be,ye){1&Be&&(n.F$t(),n._UZ(0,"span",0),n.Hsn(1),n._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Fe})(),Re=(()=>{class Fe{static#e=this.\u0275fac=function(Be){return new(Be||Fe)};static#t=this.\u0275mod=n.oAB({type:Fe});static#n=this.\u0275inj=n.cJS({imports:[A.BQ,A.si,A.BQ]})}return Fe})()},5986:(Hn,Xe,v)=>{"use strict";v.d(Xe,{oG:()=>k,p9:()=>I});var e=v(5879),n=v(95),b=v(3680),A=v(2495);const _=["input"],x=["label"],w=["*"],g=new e.OlP("mat-checkbox-default-options",{providedIn:"root",factory:d});function d(){return{color:"accent",clickAction:"check-indeterminate"}}const i={provide:n.JU,useExisting:(0,e.Gpc)(()=>k),multi:!0};class h{}let p=0;const T=d(),B=(0,b.sb)((0,b.pj)((0,b.Kr)((0,b.Id)(class{constructor(S){this._elementRef=S}}))));let P=(()=>{class S extends B{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(C){this._required=(0,A.Ig)(C)}constructor(C,U,z,ne,te,Me,J){super(U),this._changeDetectorRef=z,this._ngZone=ne,this._animationMode=Me,this._options=J,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new e.vpe,this.indeterminateChange=new e.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||T,this.color=this.defaultColor=this._options.color||T.color,this.tabIndex=parseInt(te)||0,this.id=this._uniqueId=`${C}${++p}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(C){const U=(0,A.Ig)(C);U!=this.checked&&(this._checked=U,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(C){const U=(0,A.Ig)(C);U!==this.disabled&&(this._disabled=U,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(C){const U=C!=this._indeterminate;this._indeterminate=(0,A.Ig)(C),U&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(C){this.checked=!!C}registerOnChange(C){this._controlValueAccessorChangeFn=C}registerOnTouched(C){this._onTouched=C}setDisabledState(C){this.disabled=C}_transitionCheckState(C){let U=this._currentCheckState,z=this._getAnimationTargetElement();if(U!==C&&z&&(this._currentAnimationClass&&z.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(U,C),this._currentCheckState=C,this._currentAnimationClass.length>0)){z.classList.add(this._currentAnimationClass);const ne=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{z.classList.remove(ne)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const C=this._options?.clickAction;this.disabled||"noop"===C?!this.disabled&&"noop"===C&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==C&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(C){C.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(C,U){if("NoopAnimations"===this._animationMode)return"";switch(C){case 0:if(1===U)return this._animationClasses.uncheckedToChecked;if(3==U)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===U?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===U?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===U?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(C){const U=this._inputElement;U&&(U.nativeElement.indeterminate=C)}static#e=this.\u0275fac=function(U){e.$Z()};static#t=this.\u0275dir=e.lG2({type:S,viewQuery:function(U,z){if(1&U&&(e.Gf(_,5),e.Gf(x,5),e.Gf(b.wG,5)),2&U){let ne;e.iGM(ne=e.CRH())&&(z._inputElement=ne.first),e.iGM(ne=e.CRH())&&(z._labelElement=ne.first),e.iGM(ne=e.CRH())&&(z.ripple=ne.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[e.qOj]})}return S})(),k=(()=>{class S extends P{constructor(C,U,z,ne,te,Me){super("mat-mdc-checkbox-",C,U,z,ne,te,Me),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(C){const U=new h;return U.source=this,U.checked=C,U}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(C){C.target&&this._labelElement.nativeElement.contains(C.target)&&C.stopPropagation()}static#e=this.\u0275fac=function(U){return new(U||S)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(e.R0b),e.$8M("tabindex"),e.Y36(e.QbO,8),e.Y36(g,8))};static#t=this.\u0275cmp=e.Xpm({type:S,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(U,z){2&U&&(e.Ikx("id",z.id),e.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),e.ekj("_mat-animation-noopable","NoopAnimations"===z._animationMode)("mdc-checkbox--disabled",z.disabled)("mat-mdc-checkbox-disabled",z.disabled)("mat-mdc-checkbox-checked",z.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[e._Bn([i]),e.qOj],ngContentSelectors:w,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(U,z){if(1&U&&(e.F$t(),e.TgZ(0,"div",0),e.NdJ("click",function(te){return z._preventBubblingFromLabel(te)}),e.TgZ(1,"div",1,2)(3,"div",3),e.NdJ("click",function(){return z._onTouchTargetClick()}),e.qZA(),e.TgZ(4,"input",4,5),e.NdJ("blur",function(){return z._onBlur()})("click",function(){return z._onInputClick()})("change",function(te){return z._onInteractionEvent(te)}),e.qZA(),e._UZ(6,"div",6),e.TgZ(7,"div",7),e.O4$(),e.TgZ(8,"svg",8),e._UZ(9,"path",9),e.qZA(),e.kcU(),e._UZ(10,"div",10),e.qZA(),e._UZ(11,"div",11),e.qZA(),e.TgZ(12,"label",12,13),e.Hsn(14),e.qZA()()),2&U){const ne=e.MAs(2);e.ekj("mdc-form-field--align-end","before"==z.labelPosition),e.xp6(4),e.ekj("mdc-checkbox--selected",z.checked),e.Q6J("checked",z.checked)("indeterminate",z.indeterminate)("disabled",z.disabled)("id",z.inputId)("required",z.required)("tabIndex",z.tabIndex),e.uIk("aria-label",z.ariaLabel||null)("aria-labelledby",z.ariaLabelledby)("aria-describedby",z.ariaDescribedby)("name",z.name)("value",z.value),e.xp6(7),e.Q6J("matRippleTrigger",ne)("matRippleDisabled",z.disableRipple||z.disabled)("matRippleCentered",!0),e.xp6(1),e.Q6J("for",z.inputId)}},dependencies:[b.wG],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return S})(),D=(()=>{class S{static#e=this.\u0275fac=function(U){return new(U||S)};static#t=this.\u0275mod=e.oAB({type:S});static#n=this.\u0275inj=e.cJS({})}return S})(),I=(()=>{class S{static#e=this.\u0275fac=function(U){return new(U||S)};static#t=this.\u0275mod=e.oAB({type:S});static#n=this.\u0275inj=e.cJS({imports:[b.BQ,b.si,D,b.BQ,D]})}return S})()},3680:(Hn,Xe,v)=>{"use strict";v.d(Xe,{yN:()=>I,mZ:()=>S,_A:()=>Ve,rD:()=>at,sG:()=>fe,K7:()=>Et,HF:()=>qe,Y2:()=>Te,BQ:()=>U,XK:()=>Fe,ey:()=>Zt,Ng:()=>rn,wG:()=>be,si:()=>Le,IR:()=>X,CB:()=>Kt,jH:()=>pn,pj:()=>J,Kr:()=>ce,Id:()=>Me,FD:()=>Se,dB:()=>le,sb:()=>W});var e=v(5879),n=v(4300),b=v(9388),_=v(6814),x=v(2831),w=v(2495),g=v(5592),d=v(8645),i=v(6028);const T=["text"];function B(xt,vt){if(1&xt&&e._UZ(0,"mat-pseudo-checkbox",6),2&xt){const nt=e.oxw();e.Q6J("disabled",nt.disabled)("state",nt.selected?"checked":"unchecked")}}function P(xt,vt){if(1&xt&&e._UZ(0,"mat-pseudo-checkbox",7),2&xt){const nt=e.oxw();e.Q6J("disabled",nt.disabled)}}function k(xt,vt){if(1&xt&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&xt){const nt=e.oxw();e.xp6(1),e.hij("(",nt.group.label,")")}}const F=[[["mat-icon"]],"*"],O=["mat-icon","*"];let I=(()=>{class xt{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return xt})(),S=(()=>{class xt{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return xt})();const C=new e.OlP("mat-sanity-checks",{providedIn:"root",factory:function L(){return!0}});let U=(()=>{class xt{constructor(nt,ke,Ke){this._sanityChecks=ke,this._document=Ke,this._hasDoneGlobalChecks=!1,nt._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(nt){return!(0,x.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[nt])}static#e=this.\u0275fac=function(ke){return new(ke||xt)(e.LFG(n.qm),e.LFG(C,8),e.LFG(_.K0))};static#t=this.\u0275mod=e.oAB({type:xt});static#n=this.\u0275inj=e.cJS({imports:[b.vT,b.vT]})}return xt})();function Me(xt){return class extends xt{get disabled(){return this._disabled}set disabled(vt){this._disabled=(0,w.Ig)(vt)}constructor(...vt){super(...vt),this._disabled=!1}}}function J(xt,vt){return class extends xt{get color(){return this._color}set color(nt){const ke=nt||this.defaultColor;ke!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),ke&&this._elementRef.nativeElement.classList.add(`mat-${ke}`),this._color=ke)}constructor(...nt){super(...nt),this.defaultColor=vt,this.color=vt}}}function ce(xt){return class extends xt{get disableRipple(){return this._disableRipple}set disableRipple(vt){this._disableRipple=(0,w.Ig)(vt)}constructor(...vt){super(...vt),this._disableRipple=!1}}}function W(xt,vt=0){return class extends xt{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(nt){this._tabIndex=null!=nt?(0,w.su)(nt):this.defaultTabIndex}constructor(...nt){super(...nt),this._tabIndex=vt,this.defaultTabIndex=vt}}}function Se(xt){return class extends xt{updateErrorState(){const vt=this.errorState,rt=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);rt!==vt&&(this.errorState=rt,this.stateChanges.next())}constructor(...vt){super(...vt),this.errorState=!1}}}function le(xt){return class extends xt{constructor(...vt){super(...vt),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new g.y(nt=>{this._isInitialized?this._notifySubscriber(nt):this._pendingSubscribers.push(nt)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(vt){vt.next(),vt.complete()}}}const Ee=new e.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function xe(){return(0,e.f3M)(e.soG)}});class Ve{constructor(){this._localeChanges=new d.x,this.localeChanges=this._localeChanges}getValidDateOrNull(vt){return this.isDateInstance(vt)&&this.isValid(vt)?vt:null}deserialize(vt){return null==vt||this.isDateInstance(vt)&&this.isValid(vt)?vt:this.invalid()}setLocale(vt){this.locale=vt,this._localeChanges.next()}compareDate(vt,nt){return this.getYear(vt)-this.getYear(nt)||this.getMonth(vt)-this.getMonth(nt)||this.getDate(vt)-this.getDate(nt)}sameDate(vt,nt){if(vt&&nt){let ke=this.isValid(vt),Ke=this.isValid(nt);return ke&&Ke?!this.compareDate(vt,nt):ke==Ke}return vt==nt}clampDate(vt,nt,ke){return nt&&this.compareDate(vt,nt)<0?nt:ke&&this.compareDate(vt,ke)>0?ke:vt}}const fe=new e.OlP("mat-date-formats"),Pe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Ce(xt,vt){const nt=Array(xt);for(let ke=0;ke<xt;ke++)nt[ke]=vt(ke);return nt}let me=(()=>{class xt extends Ve{constructor(nt,ke){super(),this.useUtcForDisplay=!1,super.setLocale(nt)}getYear(nt){return nt.getFullYear()}getMonth(nt){return nt.getMonth()}getDate(nt){return nt.getDate()}getDayOfWeek(nt){return nt.getDay()}getMonthNames(nt){const ke=new Intl.DateTimeFormat(this.locale,{month:nt,timeZone:"utc"});return Ce(12,Ke=>this._format(ke,new Date(2017,Ke,1)))}getDateNames(){const nt=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Ce(31,ke=>this._format(nt,new Date(2017,0,ke+1)))}getDayOfWeekNames(nt){const ke=new Intl.DateTimeFormat(this.locale,{weekday:nt,timeZone:"utc"});return Ce(7,Ke=>this._format(ke,new Date(2017,0,Ke+1)))}getYearName(nt){const ke=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(ke,nt)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(nt){return this.getDate(this._createDateWithOverflow(this.getYear(nt),this.getMonth(nt)+1,0))}clone(nt){return new Date(nt.getTime())}createDate(nt,ke,Ke){let rt=this._createDateWithOverflow(nt,ke,Ke);return rt.getMonth(),rt}today(){return new Date}parse(nt,ke){return"number"==typeof nt?new Date(nt):nt?new Date(Date.parse(nt)):null}format(nt,ke){if(!this.isValid(nt))throw Error("NativeDateAdapter: Cannot format invalid date.");const Ke=new Intl.DateTimeFormat(this.locale,{...ke,timeZone:"utc"});return this._format(Ke,nt)}addCalendarYears(nt,ke){return this.addCalendarMonths(nt,12*ke)}addCalendarMonths(nt,ke){let Ke=this._createDateWithOverflow(this.getYear(nt),this.getMonth(nt)+ke,this.getDate(nt));return this.getMonth(Ke)!=((this.getMonth(nt)+ke)%12+12)%12&&(Ke=this._createDateWithOverflow(this.getYear(Ke),this.getMonth(Ke),0)),Ke}addCalendarDays(nt,ke){return this._createDateWithOverflow(this.getYear(nt),this.getMonth(nt),this.getDate(nt)+ke)}toIso8601(nt){return[nt.getUTCFullYear(),this._2digit(nt.getUTCMonth()+1),this._2digit(nt.getUTCDate())].join("-")}deserialize(nt){if("string"==typeof nt){if(!nt)return null;if(Pe.test(nt)){let ke=new Date(nt);if(this.isValid(ke))return ke}}return super.deserialize(nt)}isDateInstance(nt){return nt instanceof Date}isValid(nt){return!isNaN(nt.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(nt,ke,Ke){const rt=new Date;return rt.setFullYear(nt,ke,Ke),rt.setHours(0,0,0,0),rt}_2digit(nt){return("00"+nt).slice(-2)}_format(nt,ke){const Ke=new Date;return Ke.setUTCFullYear(ke.getFullYear(),ke.getMonth(),ke.getDate()),Ke.setUTCHours(ke.getHours(),ke.getMinutes(),ke.getSeconds(),ke.getMilliseconds()),nt.format(Ke)}static#e=this.\u0275fac=function(ke){return new(ke||xt)(e.LFG(Ee,8),e.LFG(x.t4))};static#t=this.\u0275prov=e.Yz7({token:xt,factory:xt.\u0275fac})}return xt})();const De={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Re=(()=>{class xt{static#e=this.\u0275fac=function(ke){return new(ke||xt)};static#t=this.\u0275mod=e.oAB({type:xt});static#n=this.\u0275inj=e.cJS({providers:[{provide:Ve,useClass:me}]})}return xt})(),Fe=(()=>{class xt{static#e=this.\u0275fac=function(ke){return new(ke||xt)};static#t=this.\u0275mod=e.oAB({type:xt});static#n=this.\u0275inj=e.cJS({providers:[{provide:fe,useValue:De}],imports:[Re]})}return xt})(),at=(()=>{class xt{isErrorState(nt,ke){return!!(nt&&nt.invalid&&(nt.touched||ke&&ke.submitted))}static#e=this.\u0275fac=function(ke){return new(ke||xt)};static#t=this.\u0275prov=e.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})();class se{constructor(vt,nt,ke,Ke=!1){this._renderer=vt,this.element=nt,this.config=ke,this._animationForciblyDisabledThroughCss=Ke,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ge=(0,x.i$)({passive:!0,capture:!0});class oe{constructor(){this._events=new Map,this._delegateEventHandler=vt=>{const nt=(0,x.sA)(vt);nt&&this._events.get(vt.type)?.forEach((ke,Ke)=>{(Ke===nt||Ke.contains(nt))&&ke.forEach(rt=>rt.handleEvent(vt))})}}addHandler(vt,nt,ke,Ke){const rt=this._events.get(nt);if(rt){const ot=rt.get(ke);ot?ot.add(Ke):rt.set(ke,new Set([Ke]))}else this._events.set(nt,new Map([[ke,new Set([Ke])]])),vt.runOutsideAngular(()=>{document.addEventListener(nt,this._delegateEventHandler,ge)})}removeHandler(vt,nt,ke){const Ke=this._events.get(vt);if(!Ke)return;const rt=Ke.get(nt);rt&&(rt.delete(ke),0===rt.size&&Ke.delete(nt),0===Ke.size&&(this._events.delete(vt),document.removeEventListener(vt,this._delegateEventHandler,ge)))}}const Q={enterDuration:225,exitDuration:150},$=(0,x.i$)({passive:!0,capture:!0}),ie=["mousedown","touchstart"],Z=["mouseup","mouseleave","touchend","touchcancel"];class X{static#e=this._eventManager=new oe;constructor(vt,nt,ke,Ke){this._target=vt,this._ngZone=nt,this._platform=Ke,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Ke.isBrowser&&(this._containerElement=(0,w.fI)(ke))}fadeInRipple(vt,nt,ke={}){const Ke=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),rt={...Q,...ke.animation};ke.centered&&(vt=Ke.left+Ke.width/2,nt=Ke.top+Ke.height/2);const ot=ke.radius||function pe(xt,vt,nt){const ke=Math.max(Math.abs(xt-nt.left),Math.abs(xt-nt.right)),Ke=Math.max(Math.abs(vt-nt.top),Math.abs(vt-nt.bottom));return Math.sqrt(ke*ke+Ke*Ke)}(vt,nt,Ke),yt=vt-Ke.left,mt=nt-Ke.top,_t=rt.enterDuration,qt=document.createElement("div");qt.classList.add("mat-ripple-element"),qt.style.left=yt-ot+"px",qt.style.top=mt-ot+"px",qt.style.height=2*ot+"px",qt.style.width=2*ot+"px",null!=ke.color&&(qt.style.backgroundColor=ke.color),qt.style.transitionDuration=`${_t}ms`,this._containerElement.appendChild(qt);const fn=window.getComputedStyle(qt),gn=fn.transitionDuration,Tn="none"===fn.transitionProperty||"0s"===gn||"0s, 0s"===gn||0===Ke.width&&0===Ke.height,Mn=new se(this,qt,ke,Tn);qt.style.transform="scale3d(1, 1, 1)",Mn.state=0,ke.persistent||(this._mostRecentTransientRipple=Mn);let Gn=null;return!Tn&&(_t||rt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Zn=()=>this._finishRippleTransition(Mn),dn=()=>this._destroyRipple(Mn);qt.addEventListener("transitionend",Zn),qt.addEventListener("transitioncancel",dn),Gn={onTransitionEnd:Zn,onTransitionCancel:dn}}),this._activeRipples.set(Mn,Gn),(Tn||!_t)&&this._finishRippleTransition(Mn),Mn}fadeOutRipple(vt){if(2===vt.state||3===vt.state)return;const nt=vt.element,ke={...Q,...vt.config.animation};nt.style.transitionDuration=`${ke.exitDuration}ms`,nt.style.opacity="0",vt.state=2,(vt._animationForciblyDisabledThroughCss||!ke.exitDuration)&&this._finishRippleTransition(vt)}fadeOutAll(){this._getActiveRipples().forEach(vt=>vt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(vt=>{vt.config.persistent||vt.fadeOut()})}setupTriggerEvents(vt){const nt=(0,w.fI)(vt);!this._platform.isBrowser||!nt||nt===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=nt,ie.forEach(ke=>{X._eventManager.addHandler(this._ngZone,ke,nt,this)}))}handleEvent(vt){"mousedown"===vt.type?this._onMousedown(vt):"touchstart"===vt.type?this._onTouchStart(vt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Z.forEach(nt=>{this._triggerElement.addEventListener(nt,this,$)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(vt){0===vt.state?this._startFadeOutTransition(vt):2===vt.state&&this._destroyRipple(vt)}_startFadeOutTransition(vt){const nt=vt===this._mostRecentTransientRipple,{persistent:ke}=vt.config;vt.state=1,!ke&&(!nt||!this._isPointerDown)&&vt.fadeOut()}_destroyRipple(vt){const nt=this._activeRipples.get(vt)??null;this._activeRipples.delete(vt),this._activeRipples.size||(this._containerRect=null),vt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),vt.state=3,null!==nt&&(vt.element.removeEventListener("transitionend",nt.onTransitionEnd),vt.element.removeEventListener("transitioncancel",nt.onTransitionCancel)),vt.element.remove()}_onMousedown(vt){const nt=(0,n.X6)(vt),ke=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!nt&&!ke&&(this._isPointerDown=!0,this.fadeInRipple(vt.clientX,vt.clientY,this._target.rippleConfig))}_onTouchStart(vt){if(!this._target.rippleDisabled&&!(0,n.yG)(vt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const nt=vt.changedTouches;if(nt)for(let ke=0;ke<nt.length;ke++)this.fadeInRipple(nt[ke].clientX,nt[ke].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(vt=>{!vt.config.persistent&&(1===vt.state||vt.config.terminateOnPointerUp&&0===vt.state)&&vt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const vt=this._triggerElement;vt&&(ie.forEach(nt=>X._eventManager.removeHandler(nt,vt,this)),this._pointerUpEventsRegistered&&Z.forEach(nt=>vt.removeEventListener(nt,this,$)))}}const Te=new e.OlP("mat-ripple-global-options");let be=(()=>{class xt{get disabled(){return this._disabled}set disabled(nt){nt&&this.fadeOutAllNonPersistent(),this._disabled=nt,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(nt){this._trigger=nt,this._setupTriggerEventsIfEnabled()}constructor(nt,ke,Ke,rt,ot){this._elementRef=nt,this._animationMode=ot,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=rt||{},this._rippleRenderer=new X(this,ke,nt,Ke)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(nt,ke=0,Ke){return"number"==typeof nt?this._rippleRenderer.fadeInRipple(nt,ke,{...this.rippleConfig,...Ke}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...nt})}static#e=this.\u0275fac=function(ke){return new(ke||xt)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(x.t4),e.Y36(Te,8),e.Y36(e.QbO,8))};static#t=this.\u0275dir=e.lG2({type:xt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(ke,Ke){2&ke&&e.ekj("mat-ripple-unbounded",Ke.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return xt})(),Le=(()=>{class xt{static#e=this.\u0275fac=function(ke){return new(ke||xt)};static#t=this.\u0275mod=e.oAB({type:xt});static#n=this.\u0275inj=e.cJS({imports:[U,U]})}return xt})(),et=(()=>{class xt{constructor(nt){this._animationMode=nt,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(ke){return new(ke||xt)(e.Y36(e.QbO,8))};static#t=this.\u0275cmp=e.Xpm({type:xt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(ke,Ke){2&ke&&e.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Ke.state)("mat-pseudo-checkbox-checked","checked"===Ke.state)("mat-pseudo-checkbox-disabled",Ke.disabled)("mat-pseudo-checkbox-minimal","minimal"===Ke.appearance)("mat-pseudo-checkbox-full","full"===Ke.appearance)("_mat-animation-noopable","NoopAnimations"===Ke._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(ke,Ke){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return xt})(),Qe=(()=>{class xt{static#e=this.\u0275fac=function(ke){return new(ke||xt)};static#t=this.\u0275mod=e.oAB({type:xt});static#n=this.\u0275inj=e.cJS({imports:[U]})}return xt})();const qe=new e.OlP("MAT_OPTION_PARENT_COMPONENT"),Et=new e.OlP("MatOptgroup");let He=0;class bt{constructor(vt,nt=!1){this.source=vt,this.isUserInput=nt}}let Ut=(()=>{class xt{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(nt){this._disabled=(0,w.Ig)(nt)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(nt,ke,Ke,rt){this._element=nt,this._changeDetectorRef=ke,this._parent=Ke,this.group=rt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+He++,this.onSelectionChange=new e.vpe,this._stateChanges=new d.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(nt=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),nt&&this._emitSelectionChangeEvent())}deselect(nt=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),nt&&this._emitSelectionChangeEvent())}focus(nt,ke){const Ke=this._getHostElement();"function"==typeof Ke.focus&&Ke.focus(ke)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(nt){(nt.keyCode===i.K5||nt.keyCode===i.L_)&&!(0,i.Vb)(nt)&&(this._selectViaInteraction(),nt.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const nt=this.viewValue;nt!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=nt)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(nt=!1){this.onSelectionChange.emit(new bt(this,nt))}static#e=this.\u0275fac=function(ke){e.$Z()};static#t=this.\u0275dir=e.lG2({type:xt,viewQuery:function(ke,Ke){if(1&ke&&e.Gf(T,7),2&ke){let rt;e.iGM(rt=e.CRH())&&(Ke._text=rt.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return xt})(),Zt=(()=>{class xt extends Ut{constructor(nt,ke,Ke,rt){super(nt,ke,Ke,rt)}static#e=this.\u0275fac=function(ke){return new(ke||xt)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(qe,8),e.Y36(Et,8))};static#t=this.\u0275cmp=e.Xpm({type:xt,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(ke,Ke){1&ke&&e.NdJ("click",function(){return Ke._selectViaInteraction()})("keydown",function(ot){return Ke._handleKeydown(ot)}),2&ke&&(e.Ikx("id",Ke.id),e.uIk("aria-selected",Ke.selected)("aria-disabled",Ke.disabled.toString()),e.ekj("mdc-list-item--selected",Ke.selected)("mat-mdc-option-multiple",Ke.multiple)("mat-mdc-option-active",Ke.active)("mdc-list-item--disabled",Ke.disabled))},exportAs:["matOption"],features:[e.qOj],ngContentSelectors:O,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(ke,Ke){1&ke&&(e.F$t(F),e.YNc(0,B,1,2,"mat-pseudo-checkbox",0),e.Hsn(1),e.TgZ(2,"span",1,2),e.Hsn(4,1),e.qZA(),e.YNc(5,P,1,1,"mat-pseudo-checkbox",3),e.YNc(6,k,2,1,"span",4),e._UZ(7,"div",5)),2&ke&&(e.Q6J("ngIf",Ke.multiple),e.xp6(5),e.Q6J("ngIf",!Ke.multiple&&Ke.selected&&!Ke.hideSingleSelectionIndicator),e.xp6(1),e.Q6J("ngIf",Ke.group&&Ke.group._inert),e.xp6(1),e.Q6J("matRippleTrigger",Ke._getHostElement())("matRippleDisabled",Ke.disabled||Ke.disableRipple))},dependencies:[be,_.O5,et],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return xt})();function Kt(xt,vt,nt){if(nt.length){let ke=vt.toArray(),Ke=nt.toArray(),rt=0;for(let ot=0;ot<xt+1;ot++)ke[ot].group&&ke[ot].group===Ke[rt]&&rt++;return rt}return 0}function pn(xt,vt,nt,ke){return xt<nt?xt:xt+vt>nt+ke?Math.max(0,xt-ke+vt):nt}let rn=(()=>{class xt{static#e=this.\u0275fac=function(ke){return new(ke||xt)};static#t=this.\u0275mod=e.oAB({type:xt});static#n=this.\u0275inj=e.cJS({imports:[Le,_.ez,U,Qe]})}return xt})()},8034:(Hn,Xe,v)=>{"use strict";v.d(Xe,{FA:()=>Vn,Mq:()=>Qt,hl:()=>dn,nW:()=>un});var e=v(4300),n=v(3651),b=v(8484),A=v(6814),_=v(5879),x=v(2296),w=v(799),g=v(3680),d=v(8645),i=v(7394),h=v(3019),p=v(2096),T=v(6028),B=v(9388),P=v(2831),k=v(8180),F=v(7921),O=v(2181),D=v(2495),I=v(6825),S=v(95),L=v(4170),C=v(2032);const U=["mat-calendar-body",""];function z(Ft,Cn){if(1&Ft&&(_.TgZ(0,"tr",3)(1,"td",4),_._uU(2),_.qZA()()),2&Ft){const Ae=_.oxw();_.xp6(1),_.Udp("padding-top",Ae._cellPadding)("padding-bottom",Ae._cellPadding),_.uIk("colspan",Ae.numCols),_.xp6(1),_.hij(" ",Ae.label," ")}}function ne(Ft,Cn){if(1&Ft&&(_.TgZ(0,"td",4),_._uU(1),_.qZA()),2&Ft){const Ae=_.oxw(2);_.Udp("padding-top",Ae._cellPadding)("padding-bottom",Ae._cellPadding),_.uIk("colspan",Ae._firstRowOffset),_.xp6(1),_.hij(" ",Ae._firstRowOffset>=Ae.labelMinRequiredCells?Ae.label:""," ")}}function te(Ft,Cn){if(1&Ft){const Ae=_.EpF();_.TgZ(0,"td",8)(1,"button",9),_.NdJ("click",function(At){const wn=_.CHM(Ae).$implicit,ci=_.oxw(2);return _.KtG(ci._cellClicked(wn,At))})("focus",function(At){const wn=_.CHM(Ae).$implicit,ci=_.oxw(2);return _.KtG(ci._emitActiveDateChange(wn,At))}),_.TgZ(2,"span",10),_._uU(3),_.qZA(),_._UZ(4,"span",11),_.qZA()()}if(2&Ft){const Ae=Cn.$implicit,Nt=Cn.index,At=_.oxw().index,en=_.oxw();_.Udp("width",en._cellWidth)("padding-top",en._cellPadding)("padding-bottom",en._cellPadding),_.uIk("data-mat-row",At)("data-mat-col",Nt),_.xp6(1),_.ekj("mat-calendar-body-disabled",!Ae.enabled)("mat-calendar-body-active",en._isActiveCell(At,Nt))("mat-calendar-body-range-start",en._isRangeStart(Ae.compareValue))("mat-calendar-body-range-end",en._isRangeEnd(Ae.compareValue))("mat-calendar-body-in-range",en._isInRange(Ae.compareValue))("mat-calendar-body-comparison-bridge-start",en._isComparisonBridgeStart(Ae.compareValue,At,Nt))("mat-calendar-body-comparison-bridge-end",en._isComparisonBridgeEnd(Ae.compareValue,At,Nt))("mat-calendar-body-comparison-start",en._isComparisonStart(Ae.compareValue))("mat-calendar-body-comparison-end",en._isComparisonEnd(Ae.compareValue))("mat-calendar-body-in-comparison-range",en._isInComparisonRange(Ae.compareValue))("mat-calendar-body-preview-start",en._isPreviewStart(Ae.compareValue))("mat-calendar-body-preview-end",en._isPreviewEnd(Ae.compareValue))("mat-calendar-body-in-preview",en._isInPreview(Ae.compareValue)),_.Q6J("ngClass",Ae.cssClasses)("tabindex",en._isActiveCell(At,Nt)?0:-1),_.uIk("aria-label",Ae.ariaLabel)("aria-disabled",!Ae.enabled||null)("aria-pressed",en._isSelected(Ae.compareValue))("aria-current",en.todayValue===Ae.compareValue?"date":null)("aria-describedby",en._getDescribedby(Ae.compareValue)),_.xp6(1),_.ekj("mat-calendar-body-selected",en._isSelected(Ae.compareValue))("mat-calendar-body-comparison-identical",en._isComparisonIdentical(Ae.compareValue))("mat-calendar-body-today",en.todayValue===Ae.compareValue),_.xp6(1),_.hij(" ",Ae.displayValue," ")}}function Me(Ft,Cn){if(1&Ft&&(_.TgZ(0,"tr",5),_.YNc(1,ne,2,6,"td",6),_.YNc(2,te,5,48,"td",7),_.qZA()),2&Ft){const Ae=Cn.$implicit,Nt=Cn.index,At=_.oxw();_.xp6(1),_.Q6J("ngIf",0===Nt&&At._firstRowOffset),_.xp6(1),_.Q6J("ngForOf",Ae)}}function J(Ft,Cn){if(1&Ft&&(_.TgZ(0,"th",5)(1,"span",6),_._uU(2),_.qZA(),_.TgZ(3,"span",7),_._uU(4),_.qZA()()),2&Ft){const Ae=Cn.$implicit;_.xp6(2),_.Oqu(Ae.long),_.xp6(2),_.Oqu(Ae.narrow)}}const ce=["*"];function W(Ft,Cn){}function Se(Ft,Cn){if(1&Ft){const Ae=_.EpF();_.TgZ(0,"mat-month-view",5),_.NdJ("activeDateChange",function(At){_.CHM(Ae);const en=_.oxw();return _.KtG(en.activeDate=At)})("_userSelection",function(At){_.CHM(Ae);const en=_.oxw();return _.KtG(en._dateSelected(At))})("dragStarted",function(At){_.CHM(Ae);const en=_.oxw();return _.KtG(en._dragStarted(At))})("dragEnded",function(At){_.CHM(Ae);const en=_.oxw();return _.KtG(en._dragEnded(At))}),_.qZA()}if(2&Ft){const Ae=_.oxw();_.Q6J("activeDate",Ae.activeDate)("selected",Ae.selected)("dateFilter",Ae.dateFilter)("maxDate",Ae.maxDate)("minDate",Ae.minDate)("dateClass",Ae.dateClass)("comparisonStart",Ae.comparisonStart)("comparisonEnd",Ae.comparisonEnd)("startDateAccessibleName",Ae.startDateAccessibleName)("endDateAccessibleName",Ae.endDateAccessibleName)("activeDrag",Ae._activeDrag)}}function le(Ft,Cn){if(1&Ft){const Ae=_.EpF();_.TgZ(0,"mat-year-view",6),_.NdJ("activeDateChange",function(At){_.CHM(Ae);const en=_.oxw();return _.KtG(en.activeDate=At)})("monthSelected",function(At){_.CHM(Ae);const en=_.oxw();return _.KtG(en._monthSelectedInYearView(At))})("selectedChange",function(At){_.CHM(Ae);const en=_.oxw();return _.KtG(en._goToDateInView(At,"month"))}),_.qZA()}if(2&Ft){const Ae=_.oxw();_.Q6J("activeDate",Ae.activeDate)("selected",Ae.selected)("dateFilter",Ae.dateFilter)("maxDate",Ae.maxDate)("minDate",Ae.minDate)("dateClass",Ae.dateClass)}}function Ee(Ft,Cn){if(1&Ft){const Ae=_.EpF();_.TgZ(0,"mat-multi-year-view",7),_.NdJ("activeDateChange",function(At){_.CHM(Ae);const en=_.oxw();return _.KtG(en.activeDate=At)})("yearSelected",function(At){_.CHM(Ae);const en=_.oxw();return _.KtG(en._yearSelectedInMultiYearView(At))})("selectedChange",function(At){_.CHM(Ae);const en=_.oxw();return _.KtG(en._goToDateInView(At,"year"))}),_.qZA()}if(2&Ft){const Ae=_.oxw();_.Q6J("activeDate",Ae.activeDate)("selected",Ae.selected)("dateFilter",Ae.dateFilter)("maxDate",Ae.maxDate)("minDate",Ae.minDate)("dateClass",Ae.dateClass)}}function xe(Ft,Cn){}const Ve=["button"];function fe(Ft,Cn){1&Ft&&(_.O4$(),_.TgZ(0,"svg",3),_._UZ(1,"path",4),_.qZA())}const Pe=[[["","matDatepickerToggleIcon",""]]],Ce=["[matDatepickerToggleIcon]"];let Ne=(()=>{class Ft{constructor(){this.changes=new d.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(Ae,Nt){return`${Ae} \u2013 ${Nt}`}formatYearRangeLabel(Ae,Nt){return`${Ae} to ${Nt}`}static#e=this.\u0275fac=function(Nt){return new(Nt||Ft)};static#t=this.\u0275prov=_.Yz7({token:Ft,factory:Ft.\u0275fac,providedIn:"root"})}return Ft})();class at{constructor(Cn,Ae,Nt,At,en={},wn=Cn,ci){this.value=Cn,this.displayValue=Ae,this.ariaLabel=Nt,this.enabled=At,this.cssClasses=en,this.compareValue=wn,this.rawValue=ci}}let Be=1;const ye=(0,P.i$)({passive:!1,capture:!0}),ve=(0,P.i$)({passive:!0,capture:!0}),K=(0,P.i$)({passive:!0});let se=(()=>{class Ft{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(Ae,Nt){this._elementRef=Ae,this._ngZone=Nt,this._platform=(0,_.f3M)(P.t4),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new _.vpe,this.previewChange=new _.vpe,this.activeDateChange=new _.vpe,this.dragStarted=new _.vpe,this.dragEnded=new _.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=At=>{if(this._skipNextFocus&&"focus"===At.type)this._skipNextFocus=!1;else if(At.target&&this.isRange){const en=this._getCellFromElement(At.target);en&&this._ngZone.run(()=>this.previewChange.emit({value:en.enabled?en:null,event:At}))}},this._touchmoveHandler=At=>{if(!this.isRange)return;const en=ie(At),wn=en?this._getCellFromElement(en):null;en!==At.target&&(this._didDragSinceMouseDown=!0),oe(At.target)&&At.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:wn?.enabled?wn:null,event:At}))},this._leaveHandler=At=>{null!==this.previewEnd&&this.isRange&&("blur"!==At.type&&(this._didDragSinceMouseDown=!0),At.target&&this._getCellFromElement(At.target)&&(!At.relatedTarget||!this._getCellFromElement(At.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:At})))},this._mousedownHandler=At=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const en=At.target&&this._getCellFromElement(At.target);!en||!this._isInRange(en.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:en.rawValue,event:At})})},this._mouseupHandler=At=>{if(!this.isRange)return;const en=oe(At.target);en?en.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const wn=this._getCellFromElement(en);this.dragEnded.emit({value:wn?.rawValue??null,event:At})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:At})})},this._touchendHandler=At=>{const en=ie(At);en&&this._mouseupHandler({target:en})},this._id="mat-calendar-body-"+Be++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,Nt.runOutsideAngular(()=>{const At=Ae.nativeElement;At.addEventListener("touchmove",this._touchmoveHandler,ye),At.addEventListener("mouseenter",this._enterHandler,ve),At.addEventListener("focus",this._enterHandler,ve),At.addEventListener("mouseleave",this._leaveHandler,ve),At.addEventListener("blur",this._leaveHandler,ve),At.addEventListener("mousedown",this._mousedownHandler,K),At.addEventListener("touchstart",this._mousedownHandler,K),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(Ae,Nt){this._didDragSinceMouseDown||Ae.enabled&&this.selectedValueChange.emit({value:Ae.value,event:Nt})}_emitActiveDateChange(Ae,Nt){Ae.enabled&&this.activeDateChange.emit({value:Ae.value,event:Nt})}_isSelected(Ae){return this.startValue===Ae||this.endValue===Ae}ngOnChanges(Ae){const Nt=Ae.numCols,{rows:At,numCols:en}=this;(Ae.rows||Nt)&&(this._firstRowOffset=At&&At.length&&At[0].length?en-At[0].length:0),(Ae.cellAspectRatio||Nt||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/en+"%"),(Nt||!this._cellWidth)&&(this._cellWidth=100/en+"%")}ngOnDestroy(){const Ae=this._elementRef.nativeElement;Ae.removeEventListener("touchmove",this._touchmoveHandler,ye),Ae.removeEventListener("mouseenter",this._enterHandler,ve),Ae.removeEventListener("focus",this._enterHandler,ve),Ae.removeEventListener("mouseleave",this._leaveHandler,ve),Ae.removeEventListener("blur",this._leaveHandler,ve),Ae.removeEventListener("mousedown",this._mousedownHandler,K),Ae.removeEventListener("touchstart",this._mousedownHandler,K),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(Ae,Nt){let At=Ae*this.numCols+Nt;return Ae&&(At-=this._firstRowOffset),At==this.activeCell}_focusActiveCell(Ae=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,k.q)(1)).subscribe(()=>{setTimeout(()=>{const Nt=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");Nt&&(Ae||(this._skipNextFocus=!0),Nt.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(Ae){return Q(Ae,this.startValue,this.endValue)}_isRangeEnd(Ae){return q(Ae,this.startValue,this.endValue)}_isInRange(Ae){return $(Ae,this.startValue,this.endValue,this.isRange)}_isComparisonStart(Ae){return Q(Ae,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(Ae,Nt,At){if(!this._isComparisonStart(Ae)||this._isRangeStart(Ae)||!this._isInRange(Ae))return!1;let en=this.rows[Nt][At-1];if(!en){const wn=this.rows[Nt-1];en=wn&&wn[wn.length-1]}return en&&!this._isRangeEnd(en.compareValue)}_isComparisonBridgeEnd(Ae,Nt,At){if(!this._isComparisonEnd(Ae)||this._isRangeEnd(Ae)||!this._isInRange(Ae))return!1;let en=this.rows[Nt][At+1];if(!en){const wn=this.rows[Nt+1];en=wn&&wn[0]}return en&&!this._isRangeStart(en.compareValue)}_isComparisonEnd(Ae){return q(Ae,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(Ae){return $(Ae,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(Ae){return this.comparisonStart===this.comparisonEnd&&Ae===this.comparisonStart}_isPreviewStart(Ae){return Q(Ae,this.previewStart,this.previewEnd)}_isPreviewEnd(Ae){return q(Ae,this.previewStart,this.previewEnd)}_isInPreview(Ae){return $(Ae,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(Ae){return this.isRange?this.startValue===Ae&&this.endValue===Ae?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===Ae?this._startDateLabelId:this.endValue===Ae?this._endDateLabelId:null:null}_getCellFromElement(Ae){const Nt=oe(Ae);if(Nt){const At=Nt.getAttribute("data-mat-row"),en=Nt.getAttribute("data-mat-col");if(At&&en)return this.rows[parseInt(At)][parseInt(en)]}return null}static#e=this.\u0275fac=function(Nt){return new(Nt||Ft)(_.Y36(_.SBq),_.Y36(_.R0b))};static#t=this.\u0275cmp=_.Xpm({type:Ft,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[_.TTD],attrs:U,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(Nt,At){1&Nt&&(_.YNc(0,z,3,6,"tr",0),_.YNc(1,Me,3,2,"tr",1),_.TgZ(2,"label",2),_._uU(3),_.qZA(),_.TgZ(4,"label",2),_._uU(5),_.qZA()),2&Nt&&(_.Q6J("ngIf",At._firstRowOffset<At.labelMinRequiredCells),_.xp6(1),_.Q6J("ngForOf",At.rows),_.xp6(1),_.Q6J("id",At._startDateLabelId),_.xp6(1),_.hij(" ",At.startDateAccessibleName,"\n"),_.xp6(1),_.Q6J("id",At._endDateLabelId),_.xp6(1),_.hij(" ",At.endDateAccessibleName,"\n"))},dependencies:[A.mk,A.sg,A.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return Ft})();function ge(Ft){return"TD"===Ft?.nodeName}function oe(Ft){let Cn;return ge(Ft)?Cn=Ft:ge(Ft.parentNode)?Cn=Ft.parentNode:ge(Ft.parentNode?.parentNode)&&(Cn=Ft.parentNode.parentNode),null!=Cn?.getAttribute("data-mat-row")?Cn:null}function Q(Ft,Cn,Ae){return null!==Ae&&Cn!==Ae&&Ft<Ae&&Ft===Cn}function q(Ft,Cn,Ae){return null!==Cn&&Cn!==Ae&&Ft>=Cn&&Ft===Ae}function $(Ft,Cn,Ae,Nt){return Nt&&null!==Cn&&null!==Ae&&Cn!==Ae&&Ft>=Cn&&Ft<=Ae}function ie(Ft){const Cn=Ft.changedTouches[0];return document.elementFromPoint(Cn.clientX,Cn.clientY)}class Z{constructor(Cn,Ae){this.start=Cn,this.end=Ae}}let X=(()=>{class Ft{constructor(Ae,Nt){this.selection=Ae,this._adapter=Nt,this._selectionChanged=new d.x,this.selectionChanged=this._selectionChanged,this.selection=Ae}updateSelection(Ae,Nt){const At=this.selection;this.selection=Ae,this._selectionChanged.next({selection:Ae,source:Nt,oldValue:At})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(Ae){return this._adapter.isDateInstance(Ae)&&this._adapter.isValid(Ae)}static#e=this.\u0275fac=function(Nt){_.$Z()};static#t=this.\u0275prov=_.Yz7({token:Ft,factory:Ft.\u0275fac})}return Ft})(),pe=(()=>{class Ft extends X{constructor(Ae){super(null,Ae)}add(Ae){super.updateSelection(Ae,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const Ae=new Ft(this._adapter);return Ae.updateSelection(this.selection,this),Ae}static#e=this.\u0275fac=function(Nt){return new(Nt||Ft)(_.LFG(g._A))};static#t=this.\u0275prov=_.Yz7({token:Ft,factory:Ft.\u0275fac})}return Ft})();const Le={provide:X,deps:[[new _.FiY,new _.tp0,X],g._A],useFactory:function be(Ft,Cn){return Ft||new pe(Cn)}},qe=new _.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let de=(()=>{class Ft{get activeDate(){return this._activeDate}set activeDate(Ae){const Nt=this._activeDate,At=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ae))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(At,this.minDate,this.maxDate),this._hasSameMonthAndYear(Nt,this._activeDate)||this._init()}get selected(){return this._selected}set selected(Ae){this._selected=Ae instanceof Z?Ae:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ae)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(Ae){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ae))}get maxDate(){return this._maxDate}set maxDate(Ae){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ae))}constructor(Ae,Nt,At,en,wn){this._changeDetectorRef=Ae,this._dateFormats=Nt,this._dateAdapter=At,this._dir=en,this._rangeStrategy=wn,this._rerenderSubscription=i.w0.EMPTY,this.activeDrag=null,this.selectedChange=new _.vpe,this._userSelection=new _.vpe,this.dragStarted=new _.vpe,this.dragEnded=new _.vpe,this.activeDateChange=new _.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,F.O)(null)).subscribe(()=>this._init())}ngOnChanges(Ae){const Nt=Ae.comparisonStart||Ae.comparisonEnd;Nt&&!Nt.firstChange&&this._setRanges(this.selected),Ae.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(Ae){const Nt=Ae.value,At=this._getDateFromDayOfMonth(Nt);let en,wn;this._selected instanceof Z?(en=this._getDateInCurrentMonth(this._selected.start),wn=this._getDateInCurrentMonth(this._selected.end)):en=wn=this._getDateInCurrentMonth(this._selected),(en!==Nt||wn!==Nt)&&this.selectedChange.emit(At),this._userSelection.emit({value:At,event:Ae.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(Ae){const At=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(Ae.value),this._dateAdapter.compareDate(At,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(Ae){const Nt=this._activeDate,At=this._isRtl();switch(Ae.keyCode){case T.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,At?1:-1);break;case T.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,At?-1:1);break;case T.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case T.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case T.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case T.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case T.Ku:this.activeDate=Ae.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case T.VM:this.activeDate=Ae.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case T.K5:case T.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&Ae.preventDefault());case T.hY:return void(null!=this._previewEnd&&!(0,T.Vb)(Ae)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:Ae}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:Ae})),Ae.preventDefault(),Ae.stopPropagation()));default:return}this._dateAdapter.compareDate(Nt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),Ae.preventDefault()}_handleCalendarBodyKeyup(Ae){(Ae.keyCode===T.L_||Ae.keyCode===T.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:Ae}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let Ae=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(Ae)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(Ae){this._matCalendarBody._focusActiveCell(Ae)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:Ae,value:Nt}){if(this._rangeStrategy){const At=Nt?Nt.rawValue:null,en=this._rangeStrategy.createPreview(At,this.selected,Ae);if(this._previewStart=this._getCellCompareValue(en.start),this._previewEnd=this._getCellCompareValue(en.end),this.activeDrag&&At){const wn=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,At,Ae);wn&&(this._previewStart=this._getCellCompareValue(wn.start),this._previewEnd=this._getCellCompareValue(wn.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(Ae){if(this.activeDrag)if(Ae.value){const Nt=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,Ae.value,Ae.event);this.dragEnded.emit({value:Nt??null,event:Ae.event})}else this.dragEnded.emit({value:null,event:Ae.event})}_getDateFromDayOfMonth(Ae){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),Ae)}_initWeekdays(){const Ae=this._dateAdapter.getFirstDayOfWeek(),Nt=this._dateAdapter.getDayOfWeekNames("narrow");let en=this._dateAdapter.getDayOfWeekNames("long").map((wn,ci)=>({long:wn,narrow:Nt[ci]}));this._weekdays=en.slice(Ae).concat(en.slice(0,Ae))}_createWeekCells(){const Ae=this._dateAdapter.getNumDaysInMonth(this.activeDate),Nt=this._dateAdapter.getDateNames();this._weeks=[[]];for(let At=0,en=this._firstWeekOffset;At<Ae;At++,en++){7==en&&(this._weeks.push([]),en=0);const wn=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),At+1),ci=this._shouldEnableDate(wn),nr=this._dateAdapter.format(wn,this._dateFormats.display.dateA11yLabel),kr=this.dateClass?this.dateClass(wn,"month"):void 0;this._weeks[this._weeks.length-1].push(new at(At+1,Nt[At],nr,ci,kr,this._getCellCompareValue(wn),wn))}}_shouldEnableDate(Ae){return!!Ae&&(!this.minDate||this._dateAdapter.compareDate(Ae,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(Ae,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(Ae))}_getDateInCurrentMonth(Ae){return Ae&&this._hasSameMonthAndYear(Ae,this.activeDate)?this._dateAdapter.getDate(Ae):null}_hasSameMonthAndYear(Ae,Nt){return!(!Ae||!Nt||this._dateAdapter.getMonth(Ae)!=this._dateAdapter.getMonth(Nt)||this._dateAdapter.getYear(Ae)!=this._dateAdapter.getYear(Nt))}_getCellCompareValue(Ae){if(Ae){const Nt=this._dateAdapter.getYear(Ae),At=this._dateAdapter.getMonth(Ae),en=this._dateAdapter.getDate(Ae);return new Date(Nt,At,en).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(Ae){Ae instanceof Z?(this._rangeStart=this._getCellCompareValue(Ae.start),this._rangeEnd=this._getCellCompareValue(Ae.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(Ae),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(Ae){return!this.dateFilter||this.dateFilter(Ae)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(Nt){return new(Nt||Ft)(_.Y36(_.sBO),_.Y36(g.sG,8),_.Y36(g._A,8),_.Y36(B.Is,8),_.Y36(qe,8))};static#t=this.\u0275cmp=_.Xpm({type:Ft,selectors:[["mat-month-view"]],viewQuery:function(Nt,At){if(1&Nt&&_.Gf(se,5),2&Nt){let en;_.iGM(en=_.CRH())&&(At._matCalendarBody=en.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[_.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(Nt,At){1&Nt&&(_.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),_.YNc(3,J,5,2,"th",2),_.qZA(),_.TgZ(4,"tr"),_._UZ(5,"th",3),_.qZA()(),_.TgZ(6,"tbody",4),_.NdJ("selectedValueChange",function(wn){return At._dateSelected(wn)})("activeDateChange",function(wn){return At._updateActiveDate(wn)})("previewChange",function(wn){return At._previewChanged(wn)})("dragStarted",function(wn){return At.dragStarted.emit(wn)})("dragEnded",function(wn){return At._dragEnded(wn)})("keyup",function(wn){return At._handleCalendarBodyKeyup(wn)})("keydown",function(wn){return At._handleCalendarBodyKeydown(wn)}),_.qZA()()),2&Nt&&(_.xp6(3),_.Q6J("ngForOf",At._weekdays),_.xp6(3),_.Q6J("label",At._monthLabel)("rows",At._weeks)("todayValue",At._todayDate)("startValue",At._rangeStart)("endValue",At._rangeEnd)("comparisonStart",At._comparisonRangeStart)("comparisonEnd",At._comparisonRangeEnd)("previewStart",At._previewStart)("previewEnd",At._previewEnd)("isRange",At._isRange)("labelMinRequiredCells",3)("activeCell",At._dateAdapter.getDate(At.activeDate)-1)("startDateAccessibleName",At.startDateAccessibleName)("endDateAccessibleName",At.endDateAccessibleName))},dependencies:[A.sg,se],encapsulation:2,changeDetection:0})}return Ft})();const He=24;let Ut=(()=>{class Ft{get activeDate(){return this._activeDate}set activeDate(Ae){let Nt=this._activeDate;const At=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ae))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(At,this.minDate,this.maxDate),Zt(this._dateAdapter,Nt,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(Ae){this._selected=Ae instanceof Z?Ae:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ae)),this._setSelectedYear(Ae)}get minDate(){return this._minDate}set minDate(Ae){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ae))}get maxDate(){return this._maxDate}set maxDate(Ae){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ae))}constructor(Ae,Nt,At){this._changeDetectorRef=Ae,this._dateAdapter=Nt,this._dir=At,this._rerenderSubscription=i.w0.EMPTY,this.selectedChange=new _.vpe,this.yearSelected=new _.vpe,this.activeDateChange=new _.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,F.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const Nt=this._dateAdapter.getYear(this._activeDate)-Kt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let At=0,en=[];At<He;At++)en.push(Nt+At),4==en.length&&(this._years.push(en.map(wn=>this._createCellForYear(wn))),en=[]);this._changeDetectorRef.markForCheck()}_yearSelected(Ae){const Nt=Ae.value,At=this._dateAdapter.createDate(Nt,0,1),en=this._getDateFromYear(Nt);this.yearSelected.emit(At),this.selectedChange.emit(en)}_updateActiveDate(Ae){const At=this._activeDate;this.activeDate=this._getDateFromYear(Ae.value),this._dateAdapter.compareDate(At,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(Ae){const Nt=this._activeDate,At=this._isRtl();switch(Ae.keyCode){case T.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,At?1:-1);break;case T.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,At?-1:1);break;case T.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case T.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case T.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Kt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case T.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,He-Kt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case T.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ae.altKey?10*-He:-He);break;case T.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ae.altKey?10*He:He);break;case T.K5:case T.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Nt,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),Ae.preventDefault()}_handleCalendarBodyKeyup(Ae){(Ae.keyCode===T.L_||Ae.keyCode===T.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:Ae}),this._selectionKeyPressed=!1)}_getActiveCell(){return Kt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(Ae){const Nt=this._dateAdapter.getMonth(this.activeDate),At=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(Ae,Nt,1));return this._dateAdapter.createDate(Ae,Nt,Math.min(this._dateAdapter.getDate(this.activeDate),At))}_createCellForYear(Ae){const Nt=this._dateAdapter.createDate(Ae,0,1),At=this._dateAdapter.getYearName(Nt),en=this.dateClass?this.dateClass(Nt,"multi-year"):void 0;return new at(Ae,At,At,this._shouldEnableYear(Ae),en)}_shouldEnableYear(Ae){if(null==Ae||this.maxDate&&Ae>this._dateAdapter.getYear(this.maxDate)||this.minDate&&Ae<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let At=this._dateAdapter.createDate(Ae,0,1);this._dateAdapter.getYear(At)==Ae;At=this._dateAdapter.addCalendarDays(At,1))if(this.dateFilter(At))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(Ae){if(this._selectedYear=null,Ae instanceof Z){const Nt=Ae.start||Ae.end;Nt&&(this._selectedYear=this._dateAdapter.getYear(Nt))}else Ae&&(this._selectedYear=this._dateAdapter.getYear(Ae))}static#e=this.\u0275fac=function(Nt){return new(Nt||Ft)(_.Y36(_.sBO),_.Y36(g._A,8),_.Y36(B.Is,8))};static#t=this.\u0275cmp=_.Xpm({type:Ft,selectors:[["mat-multi-year-view"]],viewQuery:function(Nt,At){if(1&Nt&&_.Gf(se,5),2&Nt){let en;_.iGM(en=_.CRH())&&(At._matCalendarBody=en.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(Nt,At){1&Nt&&(_.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),_._UZ(3,"th",2),_.qZA()(),_.TgZ(4,"tbody",3),_.NdJ("selectedValueChange",function(wn){return At._yearSelected(wn)})("activeDateChange",function(wn){return At._updateActiveDate(wn)})("keyup",function(wn){return At._handleCalendarBodyKeyup(wn)})("keydown",function(wn){return At._handleCalendarBodyKeydown(wn)}),_.qZA()()),2&Nt&&(_.xp6(4),_.Q6J("rows",At._years)("todayValue",At._todayYear)("startValue",At._selectedYear)("endValue",At._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",At._getActiveCell()))},dependencies:[se],encapsulation:2,changeDetection:0})}return Ft})();function Zt(Ft,Cn,Ae,Nt,At){const en=Ft.getYear(Cn),wn=Ft.getYear(Ae),ci=pn(Ft,Nt,At);return Math.floor((en-ci)/He)===Math.floor((wn-ci)/He)}function Kt(Ft,Cn,Ae,Nt){return function rn(Ft,Cn){return(Ft%Cn+Cn)%Cn}(Ft.getYear(Cn)-pn(Ft,Ae,Nt),He)}function pn(Ft,Cn,Ae){let Nt=0;return Ae?Nt=Ft.getYear(Ae)-He+1:Cn&&(Nt=Ft.getYear(Cn)),Nt}let xt=(()=>{class Ft{get activeDate(){return this._activeDate}set activeDate(Ae){let Nt=this._activeDate;const At=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ae))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(At,this.minDate,this.maxDate),this._dateAdapter.getYear(Nt)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(Ae){this._selected=Ae instanceof Z?Ae:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ae)),this._setSelectedMonth(Ae)}get minDate(){return this._minDate}set minDate(Ae){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ae))}get maxDate(){return this._maxDate}set maxDate(Ae){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ae))}constructor(Ae,Nt,At,en){this._changeDetectorRef=Ae,this._dateFormats=Nt,this._dateAdapter=At,this._dir=en,this._rerenderSubscription=i.w0.EMPTY,this.selectedChange=new _.vpe,this.monthSelected=new _.vpe,this.activeDateChange=new _.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,F.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(Ae){const Nt=Ae.value,At=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Nt,1);this.monthSelected.emit(At);const en=this._getDateFromMonth(Nt);this.selectedChange.emit(en)}_updateActiveDate(Ae){const At=this._activeDate;this.activeDate=this._getDateFromMonth(Ae.value),this._dateAdapter.compareDate(At,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(Ae){const Nt=this._activeDate,At=this._isRtl();switch(Ae.keyCode){case T.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,At?1:-1);break;case T.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,At?-1:1);break;case T.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case T.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case T.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case T.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case T.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ae.altKey?-10:-1);break;case T.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ae.altKey?10:1);break;case T.K5:case T.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Nt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),Ae.preventDefault()}_handleCalendarBodyKeyup(Ae){(Ae.keyCode===T.L_||Ae.keyCode===T.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:Ae}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let Ae=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(Nt=>Nt.map(At=>this._createCellForMonth(At,Ae[At]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(Ae){return Ae&&this._dateAdapter.getYear(Ae)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(Ae):null}_getDateFromMonth(Ae){const Nt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Ae,1),At=this._dateAdapter.getNumDaysInMonth(Nt);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Ae,Math.min(this._dateAdapter.getDate(this.activeDate),At))}_createCellForMonth(Ae,Nt){const At=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Ae,1),en=this._dateAdapter.format(At,this._dateFormats.display.monthYearA11yLabel),wn=this.dateClass?this.dateClass(At,"year"):void 0;return new at(Ae,Nt.toLocaleUpperCase(),en,this._shouldEnableMonth(Ae),wn)}_shouldEnableMonth(Ae){const Nt=this._dateAdapter.getYear(this.activeDate);if(null==Ae||this._isYearAndMonthAfterMaxDate(Nt,Ae)||this._isYearAndMonthBeforeMinDate(Nt,Ae))return!1;if(!this.dateFilter)return!0;for(let en=this._dateAdapter.createDate(Nt,Ae,1);this._dateAdapter.getMonth(en)==Ae;en=this._dateAdapter.addCalendarDays(en,1))if(this.dateFilter(en))return!0;return!1}_isYearAndMonthAfterMaxDate(Ae,Nt){if(this.maxDate){const At=this._dateAdapter.getYear(this.maxDate),en=this._dateAdapter.getMonth(this.maxDate);return Ae>At||Ae===At&&Nt>en}return!1}_isYearAndMonthBeforeMinDate(Ae,Nt){if(this.minDate){const At=this._dateAdapter.getYear(this.minDate),en=this._dateAdapter.getMonth(this.minDate);return Ae<At||Ae===At&&Nt<en}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(Ae){this._selectedMonth=Ae instanceof Z?this._getMonthInCurrentYear(Ae.start)||this._getMonthInCurrentYear(Ae.end):this._getMonthInCurrentYear(Ae)}static#e=this.\u0275fac=function(Nt){return new(Nt||Ft)(_.Y36(_.sBO),_.Y36(g.sG,8),_.Y36(g._A,8),_.Y36(B.Is,8))};static#t=this.\u0275cmp=_.Xpm({type:Ft,selectors:[["mat-year-view"]],viewQuery:function(Nt,At){if(1&Nt&&_.Gf(se,5),2&Nt){let en;_.iGM(en=_.CRH())&&(At._matCalendarBody=en.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(Nt,At){1&Nt&&(_.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),_._UZ(3,"th",2),_.qZA()(),_.TgZ(4,"tbody",3),_.NdJ("selectedValueChange",function(wn){return At._monthSelected(wn)})("activeDateChange",function(wn){return At._updateActiveDate(wn)})("keyup",function(wn){return At._handleCalendarBodyKeyup(wn)})("keydown",function(wn){return At._handleCalendarBodyKeydown(wn)}),_.qZA()()),2&Nt&&(_.xp6(4),_.Q6J("label",At._yearLabel)("rows",At._months)("todayValue",At._todayMonth)("startValue",At._selectedMonth)("endValue",At._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",At._dateAdapter.getMonth(At.activeDate)))},dependencies:[se],encapsulation:2,changeDetection:0})}return Ft})(),vt=1,nt=(()=>{class Ft{constructor(Ae,Nt,At,en,wn){this._intl=Ae,this.calendar=Nt,this._dateAdapter=At,this._dateFormats=en,this._id="mat-calendar-header-"+vt++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>wn.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-He)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:He)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(Ae,Nt){return"month"==this.calendar.currentView?this._dateAdapter.getYear(Ae)==this._dateAdapter.getYear(Nt)&&this._dateAdapter.getMonth(Ae)==this._dateAdapter.getMonth(Nt):"year"==this.calendar.currentView?this._dateAdapter.getYear(Ae)==this._dateAdapter.getYear(Nt):Zt(this._dateAdapter,Ae,Nt,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const Nt=this._dateAdapter.getYear(this.calendar.activeDate)-Kt(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),At=Nt+He-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(Nt,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(At,0,1))]}static#e=this.\u0275fac=function(Nt){return new(Nt||Ft)(_.Y36(Ne),_.Y36((0,_.Gpc)(()=>ke)),_.Y36(g._A,8),_.Y36(g.sG,8),_.Y36(_.sBO))};static#t=this.\u0275cmp=_.Xpm({type:Ft,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:ce,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(Nt,At){1&Nt&&(_.F$t(),_.TgZ(0,"div",0)(1,"div",1)(2,"button",2),_.NdJ("click",function(){return At.currentPeriodClicked()}),_.TgZ(3,"span",3),_._uU(4),_.qZA(),_.O4$(),_.TgZ(5,"svg",4),_._UZ(6,"polygon",5),_.qZA()(),_.kcU(),_._UZ(7,"div",6),_.Hsn(8),_.TgZ(9,"button",7),_.NdJ("click",function(){return At.previousClicked()}),_.qZA(),_.TgZ(10,"button",8),_.NdJ("click",function(){return At.nextClicked()}),_.qZA()()(),_.TgZ(11,"label",9),_._uU(12),_.qZA()),2&Nt&&(_.xp6(2),_.uIk("aria-label",At.periodButtonLabel)("aria-describedby",At._periodButtonLabelId),_.xp6(2),_.Oqu(At.periodButtonText),_.xp6(1),_.ekj("mat-calendar-invert","month"!==At.calendar.currentView),_.xp6(4),_.Q6J("disabled",!At.previousEnabled()),_.uIk("aria-label",At.prevButtonLabel),_.xp6(1),_.Q6J("disabled",!At.nextEnabled()),_.uIk("aria-label",At.nextButtonLabel),_.xp6(1),_.Q6J("id",At._periodButtonLabelId),_.xp6(1),_.Oqu(At.periodButtonDescription))},dependencies:[x.lW,x.RK],encapsulation:2,changeDetection:0})}return Ft})(),ke=(()=>{class Ft{get startAt(){return this._startAt}set startAt(Ae){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ae))}get selected(){return this._selected}set selected(Ae){this._selected=Ae instanceof Z?Ae:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ae))}get minDate(){return this._minDate}set minDate(Ae){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ae))}get maxDate(){return this._maxDate}set maxDate(Ae){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ae))}get activeDate(){return this._clampedActiveDate}set activeDate(Ae){this._clampedActiveDate=this._dateAdapter.clampDate(Ae,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(Ae){const Nt=this._currentView!==Ae?Ae:null;this._currentView=Ae,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),Nt&&this.viewChanged.emit(Nt)}constructor(Ae,Nt,At,en){this._dateAdapter=Nt,this._dateFormats=At,this._changeDetectorRef=en,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new _.vpe,this.yearSelected=new _.vpe,this.monthSelected=new _.vpe,this.viewChanged=new _.vpe(!0),this._userSelection=new _.vpe,this._userDragDrop=new _.vpe,this._activeDrag=null,this.stateChanges=new d.x,this._intlChanges=Ae.changes.subscribe(()=>{en.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new b.C5(this.headerComponent||nt),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(Ae){const Nt=Ae.minDate&&!this._dateAdapter.sameDate(Ae.minDate.previousValue,Ae.minDate.currentValue)?Ae.minDate:void 0,At=Ae.maxDate&&!this._dateAdapter.sameDate(Ae.maxDate.previousValue,Ae.maxDate.currentValue)?Ae.maxDate:void 0,en=Nt||At||Ae.dateFilter;if(en&&!en.firstChange){const wn=this._getCurrentViewComponent();wn&&(this._changeDetectorRef.detectChanges(),wn._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(Ae){const Nt=Ae.value;(this.selected instanceof Z||Nt&&!this._dateAdapter.sameDate(Nt,this.selected))&&this.selectedChange.emit(Nt),this._userSelection.emit(Ae)}_yearSelectedInMultiYearView(Ae){this.yearSelected.emit(Ae)}_monthSelectedInYearView(Ae){this.monthSelected.emit(Ae)}_goToDateInView(Ae,Nt){this.activeDate=Ae,this.currentView=Nt}_dragStarted(Ae){this._activeDrag=Ae}_dragEnded(Ae){this._activeDrag&&(Ae.value&&this._userDragDrop.emit(Ae),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(Nt){return new(Nt||Ft)(_.Y36(Ne),_.Y36(g._A,8),_.Y36(g.sG,8),_.Y36(_.sBO))};static#t=this.\u0275cmp=_.Xpm({type:Ft,selectors:[["mat-calendar"]],viewQuery:function(Nt,At){if(1&Nt&&(_.Gf(de,5),_.Gf(xt,5),_.Gf(Ut,5)),2&Nt){let en;_.iGM(en=_.CRH())&&(At.monthView=en.first),_.iGM(en=_.CRH())&&(At.yearView=en.first),_.iGM(en=_.CRH())&&(At.multiYearView=en.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[_._Bn([Le]),_.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(Nt,At){1&Nt&&(_.YNc(0,W,0,0,"ng-template",0),_.TgZ(1,"div",1),_.YNc(2,Se,1,11,"mat-month-view",2),_.YNc(3,le,1,6,"mat-year-view",3),_.YNc(4,Ee,1,6,"mat-multi-year-view",4),_.qZA()),2&Nt&&(_.Q6J("cdkPortalOutlet",At._calendarHeaderPortal),_.xp6(1),_.Q6J("ngSwitch",At.currentView),_.xp6(1),_.Q6J("ngSwitchCase","month"),_.xp6(1),_.Q6J("ngSwitchCase","year"),_.xp6(1),_.Q6J("ngSwitchCase","multi-year"))},dependencies:[A.RF,A.n9,e.kH,b.Pl,de,xt,Ut],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return Ft})();const Ke={transformPanel:(0,I.X$)("transformPanel",[(0,I.eR)("void => enter-dropdown",(0,I.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,I.F4)([(0,I.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,I.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,I.eR)("void => enter-dialog",(0,I.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,I.F4)([(0,I.oB)({opacity:0,transform:"scale(0.7)"}),(0,I.oB)({transform:"none",opacity:1})]))),(0,I.eR)("* => void",(0,I.jt)("100ms linear",(0,I.oB)({opacity:0})))]),fadeInCalendar:(0,I.X$)("fadeInCalendar",[(0,I.SB)("void",(0,I.oB)({opacity:0})),(0,I.SB)("enter",(0,I.oB)({opacity:1})),(0,I.eR)("void => *",(0,I.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let rt=0;const ot=new _.OlP("mat-datepicker-scroll-strategy"),mt={provide:ot,deps:[n.aV],useFactory:function yt(Ft){return()=>Ft.scrollStrategies.reposition()}},_t=(0,g.pj)(class{constructor(Ft){this._elementRef=Ft}});let qt=(()=>{class Ft extends _t{constructor(Ae,Nt,At,en,wn,ci){super(Ae),this._changeDetectorRef=Nt,this._globalModel=At,this._dateAdapter=en,this._rangeSelectionStrategy=wn,this._subscriptions=new i.w0,this._animationDone=new d.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=ci.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(Ae){const Nt=this._model.selection,At=Ae.value,en=Nt instanceof Z;if(en&&this._rangeSelectionStrategy){const wn=this._rangeSelectionStrategy.selectionFinished(At,Nt,Ae.event);this._model.updateSelection(wn,this)}else At&&(en||!this._dateAdapter.sameDate(At,Nt))&&this._model.add(At);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(Ae){this._model.updateSelection(Ae.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(Ae){this._isAnimating="start"===Ae.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(Ae,Nt){this._model=Ae?this._globalModel.clone():this._globalModel,this._actionsPortal=Ae,Nt&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(Nt){return new(Nt||Ft)(_.Y36(_.SBq),_.Y36(_.sBO),_.Y36(X),_.Y36(g._A),_.Y36(qe,8),_.Y36(Ne))};static#t=this.\u0275cmp=_.Xpm({type:Ft,selectors:[["mat-datepicker-content"]],viewQuery:function(Nt,At){if(1&Nt&&_.Gf(ke,5),2&Nt){let en;_.iGM(en=_.CRH())&&(At._calendar=en.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(Nt,At){1&Nt&&_.WFA("@transformPanel.start",function(wn){return At._handleAnimationEvent(wn)})("@transformPanel.done",function(wn){return At._handleAnimationEvent(wn)}),2&Nt&&(_.d8E("@transformPanel",At._animationState),_.ekj("mat-datepicker-content-touch",At.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[_.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(Nt,At){if(1&Nt&&(_.TgZ(0,"div",0)(1,"mat-calendar",1),_.NdJ("yearSelected",function(wn){return At.datepicker._selectYear(wn)})("monthSelected",function(wn){return At.datepicker._selectMonth(wn)})("viewChanged",function(wn){return At.datepicker._viewChanged(wn)})("_userSelection",function(wn){return At._handleUserSelection(wn)})("_userDragDrop",function(wn){return At._handleUserDragDrop(wn)}),_.qZA(),_.YNc(2,xe,0,0,"ng-template",2),_.TgZ(3,"button",3),_.NdJ("focus",function(){return At._closeButtonFocused=!0})("blur",function(){return At._closeButtonFocused=!1})("click",function(){return At.datepicker.close()}),_._uU(4),_.qZA()()),2&Nt){let en;_.ekj("mat-datepicker-content-container-with-custom-header",At.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",At._actionsPortal),_.uIk("aria-modal",!0)("aria-labelledby",null!==(en=At._dialogLabelId)&&void 0!==en?en:void 0),_.xp6(1),_.Q6J("id",At.datepicker.id)("ngClass",At.datepicker.panelClass)("startAt",At.datepicker.startAt)("startView",At.datepicker.startView)("minDate",At.datepicker._getMinDate())("maxDate",At.datepicker._getMaxDate())("dateFilter",At.datepicker._getDateFilter())("headerComponent",At.datepicker.calendarHeaderComponent)("selected",At._getSelected())("dateClass",At.datepicker.dateClass)("comparisonStart",At.comparisonStart)("comparisonEnd",At.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",At.startDateAccessibleName)("endDateAccessibleName",At.endDateAccessibleName),_.xp6(1),_.Q6J("cdkPortalOutlet",At._actionsPortal),_.xp6(1),_.ekj("cdk-visually-hidden",!At._closeButtonFocused),_.Q6J("color",At.color||"primary"),_.xp6(1),_.Oqu(At._closeButtonText)}},dependencies:[A.mk,x.lW,e.mK,b.Pl,ke],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Ke.transformPanel,Ke.fadeInCalendar]},changeDetection:0})}return Ft})(),fn=(()=>{class Ft{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(Ae){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ae))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(Ae){this._color=Ae}get touchUi(){return this._touchUi}set touchUi(Ae){this._touchUi=(0,D.Ig)(Ae)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(Ae){const Nt=(0,D.Ig)(Ae);Nt!==this._disabled&&(this._disabled=Nt,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(Ae){this._restoreFocus=(0,D.Ig)(Ae)}get panelClass(){return this._panelClass}set panelClass(Ae){this._panelClass=(0,D.du)(Ae)}get opened(){return this._opened}set opened(Ae){(0,D.Ig)(Ae)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(Ae,Nt,At,en,wn,ci,nr){this._overlay=Ae,this._ngZone=Nt,this._viewContainerRef=At,this._dateAdapter=wn,this._dir=ci,this._model=nr,this._inputStateChanges=i.w0.EMPTY,this._document=(0,_.f3M)(A.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new _.vpe,this.monthSelected=new _.vpe,this.viewChanged=new _.vpe(!0),this.openedStream=new _.vpe,this.closedStream=new _.vpe,this._opened=!1,this.id="mat-datepicker-"+rt++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new d.x,this._scrollStrategy=en}ngOnChanges(Ae){const Nt=Ae.xPosition||Ae.yPosition;if(Nt&&!Nt.firstChange&&this._overlayRef){const At=this._overlayRef.getConfig().positionStrategy;At instanceof n._G&&(this._setConnectedPositions(At),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(Ae){this._model.add(Ae)}_selectYear(Ae){this.yearSelected.emit(Ae)}_selectMonth(Ae){this.monthSelected.emit(Ae)}_viewChanged(Ae){this.viewChanged.emit(Ae)}registerInput(Ae){return this._inputStateChanges.unsubscribe(),this.datepickerInput=Ae,this._inputStateChanges=Ae.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(Ae){this._actionsPortal=Ae,this._componentRef?.instance._assignActions(Ae,!0)}removeActions(Ae){Ae===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,P.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const Ae=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,Nt=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:At,location:en}=this._componentRef;At._startExitAnimation(),At._animationDone.pipe((0,k.q)(1)).subscribe(()=>{const wn=this._document.activeElement;Ae&&(!wn||wn===this._document.activeElement||en.nativeElement.contains(wn))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}Ae?setTimeout(Nt):Nt()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(Ae){Ae.datepicker=this,Ae.color=this.color,Ae._dialogLabelId=this.datepickerInput.getOverlayLabelId(),Ae._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const Ae=this.touchUi,Nt=new b.C5(qt,this._viewContainerRef),At=this._overlayRef=this._overlay.create(new n.X_({positionStrategy:Ae?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[Ae?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:Ae?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(Ae?"dialog":"popup")}));this._getCloseStream(At).subscribe(en=>{en&&en.preventDefault(),this.close()}),At.keydownEvents().subscribe(en=>{const wn=en.keyCode;(wn===T.LH||wn===T.JH||wn===T.oh||wn===T.SV||wn===T.Ku||wn===T.VM)&&en.preventDefault()}),this._componentRef=At.attach(Nt),this._forwardContentValues(this._componentRef.instance),Ae||this._ngZone.onStable.pipe((0,k.q)(1)).subscribe(()=>At.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const Ae=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(Ae)}_setConnectedPositions(Ae){const Nt="end"===this.xPosition?"end":"start",At="start"===Nt?"end":"start",en="above"===this.yPosition?"bottom":"top",wn="top"===en?"bottom":"top";return Ae.withPositions([{originX:Nt,originY:wn,overlayX:Nt,overlayY:en},{originX:Nt,originY:en,overlayX:Nt,overlayY:wn},{originX:At,originY:wn,overlayX:At,overlayY:en},{originX:At,originY:en,overlayX:At,overlayY:wn}])}_getCloseStream(Ae){const Nt=["ctrlKey","shiftKey","metaKey"];return(0,h.T)(Ae.backdropClick(),Ae.detachments(),Ae.keydownEvents().pipe((0,O.h)(At=>At.keyCode===T.hY&&!(0,T.Vb)(At)||this.datepickerInput&&(0,T.Vb)(At,"altKey")&&At.keyCode===T.LH&&Nt.every(en=>!(0,T.Vb)(At,en)))))}static#e=this.\u0275fac=function(Nt){return new(Nt||Ft)(_.Y36(n.aV),_.Y36(_.R0b),_.Y36(_.s_b),_.Y36(ot),_.Y36(g._A,8),_.Y36(B.Is,8),_.Y36(X))};static#t=this.\u0275dir=_.lG2({type:Ft,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[_.TTD]})}return Ft})(),Qt=(()=>{class Ft extends fn{static#e=this.\u0275fac=function(){let Ae;return function(At){return(Ae||(Ae=_.n5z(Ft)))(At||Ft)}}();static#t=this.\u0275cmp=_.Xpm({type:Ft,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[_._Bn([Le,{provide:fn,useExisting:Ft}]),_.qOj],decls:0,vars:0,template:function(Nt,At){},encapsulation:2,changeDetection:0})}return Ft})();class gn{constructor(Cn,Ae){this.target=Cn,this.targetElement=Ae,this.value=this.target.value}}let Tn=(()=>{class Ft{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(Ae){this._assignValueProgrammatically(Ae)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(Ae){const Nt=(0,D.Ig)(Ae),At=this._elementRef.nativeElement;this._disabled!==Nt&&(this._disabled=Nt,this.stateChanges.next(void 0)),Nt&&this._isInitialized&&At.blur&&At.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(Ae){this._model=Ae,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(Nt=>{if(this._shouldHandleChangeEvent(Nt)){const At=this._getValueFromModel(Nt.selection);this._lastValueValid=this._isValidValue(At),this._cvaOnChange(At),this._onTouched(),this._formatValue(At),this.dateInput.emit(new gn(this,this._elementRef.nativeElement)),this.dateChange.emit(new gn(this,this._elementRef.nativeElement))}})}constructor(Ae,Nt,At){this._elementRef=Ae,this._dateAdapter=Nt,this._dateFormats=At,this.dateChange=new _.vpe,this.dateInput=new _.vpe,this.stateChanges=new d.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=i.w0.EMPTY,this._localeSubscription=i.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=en=>{const wn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(en.value));return!wn||this._matchesFilter(wn)?null:{matDatepickerFilter:!0}},this._minValidator=en=>{const wn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(en.value)),ci=this._getMinDate();return!ci||!wn||this._dateAdapter.compareDate(ci,wn)<=0?null:{matDatepickerMin:{min:ci,actual:wn}}},this._maxValidator=en=>{const wn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(en.value)),ci=this._getMaxDate();return!ci||!wn||this._dateAdapter.compareDate(ci,wn)>=0?null:{matDatepickerMax:{max:ci,actual:wn}}},this._lastValueValid=!1,this._localeSubscription=Nt.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(Ae){(function Mn(Ft,Cn){const Ae=Object.keys(Ft);for(let Nt of Ae){const{previousValue:At,currentValue:en}=Ft[Nt];if(!Cn.isDateInstance(At)||!Cn.isDateInstance(en))return!0;if(!Cn.sameDate(At,en))return!0}return!1})(Ae,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(Ae){this._validatorOnChange=Ae}validate(Ae){return this._validator?this._validator(Ae):null}writeValue(Ae){this._assignValueProgrammatically(Ae)}registerOnChange(Ae){this._cvaOnChange=Ae}registerOnTouched(Ae){this._onTouched=Ae}setDisabledState(Ae){this.disabled=Ae}_onKeydown(Ae){(0,T.Vb)(Ae,"altKey")&&Ae.keyCode===T.JH&&["ctrlKey","shiftKey","metaKey"].every(en=>!(0,T.Vb)(Ae,en))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),Ae.preventDefault())}_onInput(Ae){const Nt=this._lastValueValid;let At=this._dateAdapter.parse(Ae,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(At),At=this._dateAdapter.getValidDateOrNull(At);const en=!this._dateAdapter.sameDate(At,this.value);!At||en?this._cvaOnChange(At):(Ae&&!this.value&&this._cvaOnChange(At),Nt!==this._lastValueValid&&this._validatorOnChange()),en&&(this._assignValue(At),this.dateInput.emit(new gn(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new gn(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(Ae){this._elementRef.nativeElement.value=null!=Ae?this._dateAdapter.format(Ae,this._dateFormats.display.dateInput):""}_assignValue(Ae){this._model?(this._assignValueToModel(Ae),this._pendingValue=null):this._pendingValue=Ae}_isValidValue(Ae){return!Ae||this._dateAdapter.isValid(Ae)}_parentDisabled(){return!1}_assignValueProgrammatically(Ae){Ae=this._dateAdapter.deserialize(Ae),this._lastValueValid=this._isValidValue(Ae),Ae=this._dateAdapter.getValidDateOrNull(Ae),this._assignValue(Ae),this._formatValue(Ae)}_matchesFilter(Ae){const Nt=this._getDateFilter();return!Nt||Nt(Ae)}static#e=this.\u0275fac=function(Nt){return new(Nt||Ft)(_.Y36(_.SBq),_.Y36(g._A,8),_.Y36(g.sG,8))};static#t=this.\u0275dir=_.lG2({type:Ft,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[_.TTD]})}return Ft})();const Gn={provide:S.JU,useExisting:(0,_.Gpc)(()=>dn),multi:!0},Zn={provide:S.Cf,useExisting:(0,_.Gpc)(()=>dn),multi:!0};let dn=(()=>{class Ft extends Tn{set matDatepicker(Ae){Ae&&(this._datepicker=Ae,this._closedSubscription=Ae.closedStream.subscribe(()=>this._onTouched()),this._registerModel(Ae.registerInput(this)))}get min(){return this._min}set min(Ae){const Nt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ae));this._dateAdapter.sameDate(Nt,this._min)||(this._min=Nt,this._validatorOnChange())}get max(){return this._max}set max(Ae){const Nt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Ae));this._dateAdapter.sameDate(Nt,this._max)||(this._max=Nt,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(Ae){const Nt=this._matchesFilter(this.value);this._dateFilter=Ae,this._matchesFilter(this.value)!==Nt&&this._validatorOnChange()}constructor(Ae,Nt,At,en){super(Ae,Nt,At),this._formField=en,this._closedSubscription=i.w0.EMPTY,this._validator=S.kI.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(Ae){return Ae}_assignValueToModel(Ae){this._model&&this._model.updateSelection(Ae,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(Ae){return Ae.source!==this}static#e=this.\u0275fac=function(Nt){return new(Nt||Ft)(_.Y36(_.SBq),_.Y36(g._A,8),_.Y36(g.sG,8),_.Y36(L.G_,8))};static#t=this.\u0275dir=_.lG2({type:Ft,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(Nt,At){1&Nt&&_.NdJ("input",function(wn){return At._onInput(wn.target.value)})("change",function(){return At._onChange()})("blur",function(){return At._onBlur()})("keydown",function(wn){return At._onKeydown(wn)}),2&Nt&&(_.Ikx("disabled",At.disabled),_.uIk("aria-haspopup",At._datepicker?"dialog":null)("aria-owns",(null==At._datepicker?null:At._datepicker.opened)&&At._datepicker.id||null)("min",At.min?At._dateAdapter.toIso8601(At.min):null)("max",At.max?At._dateAdapter.toIso8601(At.max):null)("data-mat-calendar",At._datepicker?At._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[_._Bn([Gn,Zn,{provide:C.Jk,useExisting:Ft}]),_.qOj]})}return Ft})(),ln=(()=>{class Ft{static#e=this.\u0275fac=function(Nt){return new(Nt||Ft)};static#t=this.\u0275dir=_.lG2({type:Ft,selectors:[["","matDatepickerToggleIcon",""]]})}return Ft})(),un=(()=>{class Ft{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(Ae){this._disabled=(0,D.Ig)(Ae)}constructor(Ae,Nt,At){this._intl=Ae,this._changeDetectorRef=Nt,this._stateChanges=i.w0.EMPTY;const en=Number(At);this.tabIndex=en||0===en?en:null}ngOnChanges(Ae){Ae.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(Ae){this.datepicker&&!this.disabled&&(this.datepicker.open(),Ae.stopPropagation())}_watchStateChanges(){const Ae=this.datepicker?this.datepicker.stateChanges:(0,p.of)(),Nt=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,p.of)(),At=this.datepicker?(0,h.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,p.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,h.T)(this._intl.changes,Ae,Nt,At).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(Nt){return new(Nt||Ft)(_.Y36(Ne),_.Y36(_.sBO),_.$8M("tabindex"))};static#t=this.\u0275cmp=_.Xpm({type:Ft,selectors:[["mat-datepicker-toggle"]],contentQueries:function(Nt,At,en){if(1&Nt&&_.Suo(en,ln,5),2&Nt){let wn;_.iGM(wn=_.CRH())&&(At._customIcon=wn.first)}},viewQuery:function(Nt,At){if(1&Nt&&_.Gf(Ve,5),2&Nt){let en;_.iGM(en=_.CRH())&&(At._button=en.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(Nt,At){1&Nt&&_.NdJ("click",function(wn){return At._open(wn)}),2&Nt&&(_.uIk("tabindex",null)("data-mat-calendar",At.datepicker?At.datepicker.id:null),_.ekj("mat-datepicker-toggle-active",At.datepicker&&At.datepicker.opened)("mat-accent",At.datepicker&&"accent"===At.datepicker.color)("mat-warn",At.datepicker&&"warn"===At.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[_.TTD],ngContentSelectors:Ce,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(Nt,At){1&Nt&&(_.F$t(Pe),_.TgZ(0,"button",0,1),_.YNc(2,fe,2,0,"svg",2),_.Hsn(3),_.qZA()),2&Nt&&(_.Q6J("disabled",At.disabled)("disableRipple",At.disableRipple),_.uIk("aria-haspopup",At.datepicker?"dialog":null)("aria-label",At.ariaLabel||At._intl.openCalendarLabel)("tabindex",At.disabled?-1:At.tabIndex),_.xp6(2),_.Q6J("ngIf",!At._customIcon))},dependencies:[A.O5,x.RK],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return Ft})(),Vn=(()=>{class Ft{static#e=this.\u0275fac=function(Nt){return new(Nt||Ft)};static#t=this.\u0275mod=_.oAB({type:Ft});static#n=this.\u0275inj=_.cJS({providers:[Ne,mt],imports:[A.ez,x.ot,n.U8,e.rt,b.eL,g.BQ,w.ZD]})}return Ft})()},7700:(Hn,Xe,v)=>{"use strict";v.d(Xe,{WI:()=>Be,uw:()=>q,H8:()=>pe,vA:()=>Ee,xY:()=>X,Is:()=>be,so:()=>Ne,uh:()=>Z});var e=v(3651),n=v(6814),b=v(5879),A=v(4300),_=v(2831),x=v(8484),w=v(6028),g=v(8645),d=v(4911),i=v(2096),h=v(9388),p=v(7921);function T(Qe,qe){}class B{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let k=(()=>{class Qe extends x.en{constructor(ft,ze,ht,Et,de,He,bt,Ut){super(),this._elementRef=ft,this._focusTrapFactory=ze,this._config=Et,this._interactivityChecker=de,this._ngZone=He,this._overlayRef=bt,this._focusMonitor=Ut,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=Zt=>{this._portalOutlet.hasAttached();const Kt=this._portalOutlet.attachDomPortal(Zt);return this._contentAttached(),Kt},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=ht}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(ft){this._portalOutlet.hasAttached();const ze=this._portalOutlet.attachComponentPortal(ft);return this._contentAttached(),ze}attachTemplatePortal(ft){this._portalOutlet.hasAttached();const ze=this._portalOutlet.attachTemplatePortal(ft);return this._contentAttached(),ze}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(ft,ze){this._interactivityChecker.isFocusable(ft)||(ft.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const ht=()=>{ft.removeEventListener("blur",ht),ft.removeEventListener("mousedown",ht),ft.removeAttribute("tabindex")};ft.addEventListener("blur",ht),ft.addEventListener("mousedown",ht)})),ft.focus(ze)}_focusByCssSelector(ft,ze){let ht=this._elementRef.nativeElement.querySelector(ft);ht&&this._forceFocus(ht,ze)}_trapFocus(){const ft=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||ft.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(ze=>{ze||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const ft=this._config.restoreFocus;let ze=null;if("string"==typeof ft?ze=this._document.querySelector(ft):"boolean"==typeof ft?ze=ft?this._elementFocusedBeforeDialogWasOpened:null:ft&&(ze=ft),this._config.restoreFocus&&ze&&"function"==typeof ze.focus){const ht=(0,_.ht)(),Et=this._elementRef.nativeElement;(!ht||ht===this._document.body||ht===Et||Et.contains(ht))&&(this._focusMonitor?(this._focusMonitor.focusVia(ze,this._closeInteractionType),this._closeInteractionType=null):ze.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const ft=this._elementRef.nativeElement,ze=(0,_.ht)();return ft===ze||ft.contains(ze)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,_.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(ze){return new(ze||Qe)(b.Y36(b.SBq),b.Y36(A.qV),b.Y36(n.K0,8),b.Y36(B),b.Y36(A.ic),b.Y36(b.R0b),b.Y36(e.Iu),b.Y36(A.tE))};static#t=this.\u0275cmp=b.Xpm({type:Qe,selectors:[["cdk-dialog-container"]],viewQuery:function(ze,ht){if(1&ze&&b.Gf(x.Pl,7),2&ze){let Et;b.iGM(Et=b.CRH())&&(ht._portalOutlet=Et.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(ze,ht){2&ze&&b.uIk("id",ht._config.id||null)("role",ht._config.role)("aria-modal",ht._config.ariaModal)("aria-labelledby",ht._config.ariaLabel?null:ht._ariaLabelledBy)("aria-label",ht._config.ariaLabel)("aria-describedby",ht._config.ariaDescribedBy||null)},features:[b.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(ze,ht){1&ze&&b.YNc(0,T,0,0,"ng-template",0)},dependencies:[x.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return Qe})();class F{constructor(qe,ft){this.overlayRef=qe,this.config=ft,this.closed=new g.x,this.disableClose=ft.disableClose,this.backdropClick=qe.backdropClick(),this.keydownEvents=qe.keydownEvents(),this.outsidePointerEvents=qe.outsidePointerEvents(),this.id=ft.id,this.keydownEvents.subscribe(ze=>{ze.keyCode===w.hY&&!this.disableClose&&!(0,w.Vb)(ze)&&(ze.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=qe.detachments().subscribe(()=>{!1!==ft.closeOnOverlayDetachments&&this.close()})}close(qe,ft){if(this.containerInstance){const ze=this.closed;this.containerInstance._closeInteractionType=ft?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),ze.next(qe),ze.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(qe="",ft=""){return this.overlayRef.updateSize({width:qe,height:ft}),this}addPanelClass(qe){return this.overlayRef.addPanelClass(qe),this}removePanelClass(qe){return this.overlayRef.removePanelClass(qe),this}}const O=new b.OlP("DialogScrollStrategy"),D=new b.OlP("DialogData"),I=new b.OlP("DefaultDialogConfig"),L={provide:O,deps:[e.aV],useFactory:function S(Qe){return()=>Qe.scrollStrategies.block()}};let C=0,U=(()=>{class Qe{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(ft,ze,ht,Et,de,He){this._overlay=ft,this._injector=ze,this._defaultOptions=ht,this._parentDialog=Et,this._overlayContainer=de,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new g.x,this._afterOpenedAtThisLevel=new g.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,d.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,p.O)(void 0))),this._scrollStrategy=He}open(ft,ze){(ze={...this._defaultOptions||new B,...ze}).id=ze.id||"cdk-dialog-"+C++,ze.id&&this.getDialogById(ze.id);const Et=this._getOverlayConfig(ze),de=this._overlay.create(Et),He=new F(de,ze),bt=this._attachContainer(de,He,ze);return He.containerInstance=bt,this._attachDialogContent(ft,He,bt,ze),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(He),He.closed.subscribe(()=>this._removeOpenDialog(He,!0)),this.afterOpened.next(He),He}closeAll(){z(this.openDialogs,ft=>ft.close())}getDialogById(ft){return this.openDialogs.find(ze=>ze.id===ft)}ngOnDestroy(){z(this._openDialogsAtThisLevel,ft=>{!1===ft.config.closeOnDestroy&&this._removeOpenDialog(ft,!1)}),z(this._openDialogsAtThisLevel,ft=>ft.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(ft){const ze=new e.X_({positionStrategy:ft.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:ft.scrollStrategy||this._scrollStrategy(),panelClass:ft.panelClass,hasBackdrop:ft.hasBackdrop,direction:ft.direction,minWidth:ft.minWidth,minHeight:ft.minHeight,maxWidth:ft.maxWidth,maxHeight:ft.maxHeight,width:ft.width,height:ft.height,disposeOnNavigation:ft.closeOnNavigation});return ft.backdropClass&&(ze.backdropClass=ft.backdropClass),ze}_attachContainer(ft,ze,ht){const Et=ht.injector||ht.viewContainerRef?.injector,de=[{provide:B,useValue:ht},{provide:F,useValue:ze},{provide:e.Iu,useValue:ft}];let He;ht.container?"function"==typeof ht.container?He=ht.container:(He=ht.container.type,de.push(...ht.container.providers(ht))):He=k;const bt=new x.C5(He,ht.viewContainerRef,b.zs3.create({parent:Et||this._injector,providers:de}),ht.componentFactoryResolver);return ft.attach(bt).instance}_attachDialogContent(ft,ze,ht,Et){if(ft instanceof b.Rgc){const de=this._createInjector(Et,ze,ht,void 0);let He={$implicit:Et.data,dialogRef:ze};Et.templateContext&&(He={...He,..."function"==typeof Et.templateContext?Et.templateContext():Et.templateContext}),ht.attachTemplatePortal(new x.UE(ft,null,He,de))}else{const de=this._createInjector(Et,ze,ht,this._injector),He=ht.attachComponentPortal(new x.C5(ft,Et.viewContainerRef,de,Et.componentFactoryResolver));ze.componentInstance=He.instance}}_createInjector(ft,ze,ht,Et){const de=ft.injector||ft.viewContainerRef?.injector,He=[{provide:D,useValue:ft.data},{provide:F,useValue:ze}];return ft.providers&&("function"==typeof ft.providers?He.push(...ft.providers(ze,ft,ht)):He.push(...ft.providers)),ft.direction&&(!de||!de.get(h.Is,null,{optional:!0}))&&He.push({provide:h.Is,useValue:{value:ft.direction,change:(0,i.of)()}}),b.zs3.create({parent:de||Et,providers:He})}_removeOpenDialog(ft,ze){const ht=this.openDialogs.indexOf(ft);ht>-1&&(this.openDialogs.splice(ht,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Et,de)=>{Et?de.setAttribute("aria-hidden",Et):de.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),ze&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const ft=this._overlayContainer.getContainerElement();if(ft.parentElement){const ze=ft.parentElement.children;for(let ht=ze.length-1;ht>-1;ht--){const Et=ze[ht];Et!==ft&&"SCRIPT"!==Et.nodeName&&"STYLE"!==Et.nodeName&&!Et.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Et,Et.getAttribute("aria-hidden")),Et.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const ft=this._parentDialog;return ft?ft._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(ze){return new(ze||Qe)(b.LFG(e.aV),b.LFG(b.zs3),b.LFG(I,8),b.LFG(Qe,12),b.LFG(e.Xj),b.LFG(O))};static#t=this.\u0275prov=b.Yz7({token:Qe,factory:Qe.\u0275fac})}return Qe})();function z(Qe,qe){let ft=Qe.length;for(;ft--;)qe(Qe[ft])}let ne=(()=>{class Qe{static#e=this.\u0275fac=function(ze){return new(ze||Qe)};static#t=this.\u0275mod=b.oAB({type:Qe});static#n=this.\u0275inj=b.cJS({providers:[U,L],imports:[e.U8,x.eL,A.rt,x.eL]})}return Qe})();var te=v(2495),Me=v(3019),J=v(2181),ce=v(8180),W=v(3680);function le(Qe,qe){}v(6825);class Ee{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const xe="mdc-dialog--open",Ve="mdc-dialog--opening",fe="mdc-dialog--closing";let me=(()=>{class Qe extends k{constructor(ft,ze,ht,Et,de,He,bt,Ut){super(ft,ze,ht,Et,de,He,bt,Ut),this._animationStateChanged=new b.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(ft){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:ft})}static#e=this.\u0275fac=function(ze){return new(ze||Qe)(b.Y36(b.SBq),b.Y36(A.qV),b.Y36(n.K0,8),b.Y36(Ee),b.Y36(A.ic),b.Y36(b.R0b),b.Y36(e.Iu),b.Y36(A.tE))};static#t=this.\u0275cmp=b.Xpm({type:Qe,selectors:[["ng-component"]],features:[b.qOj],decls:0,vars:0,template:function(ze,ht){},encapsulation:2})}return Qe})();const De="--mat-dialog-transition-duration";function Re(Qe){return null==Qe?null:"number"==typeof Qe?Qe:Qe.endsWith("ms")?(0,te.su)(Qe.substring(0,Qe.length-2)):Qe.endsWith("s")?1e3*(0,te.su)(Qe.substring(0,Qe.length-1)):"0"===Qe?0:null}let Fe=(()=>{class Qe extends me{constructor(ft,ze,ht,Et,de,He,bt,Ut,Zt){super(ft,ze,ht,Et,de,He,bt,Zt),this._animationMode=Ut,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Re(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Re(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(De,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ve,xe)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(xe),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(xe),this._animationsEnabled?(this._hostElement.style.setProperty(De,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(fe)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Ve,fe)}_waitForAnimationToComplete(ft,ze){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(ze,ft)}_requestAnimationFrame(ft){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(ft):ft()})}static#e=this.\u0275fac=function(ze){return new(ze||Qe)(b.Y36(b.SBq),b.Y36(A.qV),b.Y36(n.K0,8),b.Y36(Ee),b.Y36(A.ic),b.Y36(b.R0b),b.Y36(e.Iu),b.Y36(b.QbO,8),b.Y36(A.tE))};static#t=this.\u0275cmp=b.Xpm({type:Qe,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(ze,ht){2&ze&&(b.Ikx("id",ht._config.id),b.uIk("aria-modal",ht._config.ariaModal)("role",ht._config.role)("aria-labelledby",ht._config.ariaLabel?null:ht._ariaLabelledBy)("aria-label",ht._config.ariaLabel)("aria-describedby",ht._config.ariaDescribedBy||null),b.ekj("_mat-animation-noopable",!ht._animationsEnabled))},features:[b.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(ze,ht){1&ze&&(b.TgZ(0,"div",0)(1,"div",1),b.YNc(2,le,0,0,"ng-template",2),b.qZA()())},dependencies:[x.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return Qe})();class Ne{constructor(qe,ft,ze){this._ref=qe,this._containerInstance=ze,this._afterOpened=new g.x,this._beforeClosed=new g.x,this._state=0,this.disableClose=ft.disableClose,this.id=qe.id,ze._animationStateChanged.pipe((0,J.h)(ht=>"opened"===ht.state),(0,ce.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),ze._animationStateChanged.pipe((0,J.h)(ht=>"closed"===ht.state),(0,ce.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),qe.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Me.T)(this.backdropClick(),this.keydownEvents().pipe((0,J.h)(ht=>ht.keyCode===w.hY&&!this.disableClose&&!(0,w.Vb)(ht)))).subscribe(ht=>{this.disableClose||(ht.preventDefault(),function at(Qe,qe,ft){Qe._closeInteractionType=qe,Qe.close(ft)}(this,"keydown"===ht.type?"keyboard":"mouse"))})}close(qe){this._result=qe,this._containerInstance._animationStateChanged.pipe((0,J.h)(ft=>"closing"===ft.state),(0,ce.q)(1)).subscribe(ft=>{this._beforeClosed.next(qe),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),ft.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(qe){let ft=this._ref.config.positionStrategy;return qe&&(qe.left||qe.right)?qe.left?ft.left(qe.left):ft.right(qe.right):ft.centerHorizontally(),qe&&(qe.top||qe.bottom)?qe.top?ft.top(qe.top):ft.bottom(qe.bottom):ft.centerVertically(),this._ref.updatePosition(),this}updateSize(qe="",ft=""){return this._ref.updateSize(qe,ft),this}addPanelClass(qe){return this._ref.addPanelClass(qe),this}removePanelClass(qe){return this._ref.removePanelClass(qe),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Be=new b.OlP("MatMdcDialogData"),ye=new b.OlP("mat-mdc-dialog-default-options"),ve=new b.OlP("mat-mdc-dialog-scroll-strategy"),se={provide:ve,deps:[e.aV],useFactory:function K(Qe){return()=>Qe.scrollStrategies.block()}};let oe=0,Q=(()=>{class Qe{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const ft=this._parentDialog;return ft?ft._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(ft,ze,ht,Et,de,He,bt,Ut,Zt,Kt){this._overlay=ft,this._defaultOptions=ht,this._parentDialog=Et,this._dialogRefConstructor=bt,this._dialogContainerType=Ut,this._dialogDataToken=Zt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new g.x,this._afterOpenedAtThisLevel=new g.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=Ee,this.afterAllClosed=(0,d.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,p.O)(void 0))),this._scrollStrategy=He,this._dialog=ze.get(U)}open(ft,ze){let ht;(ze={...this._defaultOptions||new Ee,...ze}).id=ze.id||`${this._idPrefix}${oe++}`,ze.scrollStrategy=ze.scrollStrategy||this._scrollStrategy();const Et=this._dialog.open(ft,{...ze,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:ze},{provide:B,useValue:ze}]},templateContext:()=>({dialogRef:ht}),providers:(de,He,bt)=>(ht=new this._dialogRefConstructor(de,ze,bt),ht.updatePosition(ze?.position),[{provide:this._dialogContainerType,useValue:bt},{provide:this._dialogDataToken,useValue:He.data},{provide:this._dialogRefConstructor,useValue:ht}])});return ht.componentInstance=Et.componentInstance,this.openDialogs.push(ht),this.afterOpened.next(ht),ht.afterClosed().subscribe(()=>{const de=this.openDialogs.indexOf(ht);de>-1&&(this.openDialogs.splice(de,1),this.openDialogs.length||this._getAfterAllClosed().next())}),ht}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(ft){return this.openDialogs.find(ze=>ze.id===ft)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(ft){let ze=ft.length;for(;ze--;)ft[ze].close()}static#e=this.\u0275fac=function(ze){b.$Z()};static#t=this.\u0275prov=b.Yz7({token:Qe,factory:Qe.\u0275fac})}return Qe})(),q=(()=>{class Qe extends Q{constructor(ft,ze,ht,Et,de,He,bt,Ut){super(ft,ze,Et,He,bt,de,Ne,Fe,Be,Ut),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(ze){return new(ze||Qe)(b.LFG(e.aV),b.LFG(b.zs3),b.LFG(n.Ye,8),b.LFG(ye,8),b.LFG(ve),b.LFG(Qe,12),b.LFG(e.Xj),b.LFG(b.QbO,8))};static#t=this.\u0275prov=b.Yz7({token:Qe,factory:Qe.\u0275fac})}return Qe})(),$=0,Z=(()=>{class Qe{constructor(ft,ze,ht){this._dialogRef=ft,this._elementRef=ze,this._dialog=ht,this.id="mat-mdc-dialog-title-"+$++}ngOnInit(){this._dialogRef||(this._dialogRef=function Te(Qe,qe){let ft=Qe.nativeElement.parentElement;for(;ft&&!ft.classList.contains("mat-mdc-dialog-container");)ft=ft.parentElement;return ft?qe.find(ze=>ze.id===ft.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const ft=this._dialogRef._containerInstance;ft&&!ft._ariaLabelledBy&&(ft._ariaLabelledBy=this.id)})}static#e=this.\u0275fac=function(ze){return new(ze||Qe)(b.Y36(Ne,8),b.Y36(b.SBq),b.Y36(q))};static#t=this.\u0275dir=b.lG2({type:Qe,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(ze,ht){2&ze&&b.Ikx("id",ht.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return Qe})(),X=(()=>{class Qe{static#e=this.\u0275fac=function(ze){return new(ze||Qe)};static#t=this.\u0275dir=b.lG2({type:Qe,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return Qe})(),pe=(()=>{class Qe{constructor(){this.align="start"}static#e=this.\u0275fac=function(ze){return new(ze||Qe)};static#t=this.\u0275dir=b.lG2({type:Qe,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(ze,ht){2&ze&&b.ekj("mat-mdc-dialog-actions-align-center","center"===ht.align)("mat-mdc-dialog-actions-align-end","end"===ht.align)},inputs:{align:"align"}})}return Qe})(),be=(()=>{class Qe{static#e=this.\u0275fac=function(ze){return new(ze||Qe)};static#t=this.\u0275mod=b.oAB({type:Qe});static#n=this.\u0275inj=b.cJS({providers:[q,se],imports:[ne,e.U8,x.eL,W.BQ,W.BQ]})}return Qe})()},4170:(Hn,Xe,v)=>{"use strict";v.d(Xe,{G_:()=>ft,TO:()=>ye,KE:()=>Ut,Eo:()=>Le,lN:()=>Zt,bx:()=>K,hX:()=>Ne,R9:()=>Q});var e=v(5879),n=v(9388),b=v(2831),A=v(7394),_=v(8645),x=v(3019),w=v(9773),g=v(5592),d=v(2181),i=v(940);class p{constructor(pn){this._box=pn,this._destroyed=new _.x,this._resizeSubject=new _.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(rn=>this._resizeSubject.next(rn)))}observe(pn){return this._elementObservables.has(pn)||this._elementObservables.set(pn,new g.y(rn=>{const xt=this._resizeSubject.subscribe(rn);return this._resizeObserver?.observe(pn,{box:this._box}),()=>{this._resizeObserver?.unobserve(pn),xt.unsubscribe(),this._elementObservables.delete(pn)}}).pipe((0,d.h)(rn=>rn.some(xt=>xt.target===pn)),(0,i.d)({bufferSize:1,refCount:!0}),(0,w.R)(this._destroyed))),this._elementObservables.get(pn)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let T=(()=>{class Kt{constructor(){this._observers=new Map,this._ngZone=(0,e.f3M)(e.R0b)}ngOnDestroy(){for(const[,rn]of this._observers)rn.destroy();this._observers.clear()}observe(rn,xt){const vt=xt?.box||"content-box";return this._observers.has(vt)||this._observers.set(vt,new p(vt)),this._observers.get(vt).observe(rn)}static#e=this.\u0275fac=function(xt){return new(xt||Kt)};static#t=this.\u0275prov=e.Yz7({token:Kt,factory:Kt.\u0275fac,providedIn:"root"})}return Kt})();var B=v(2495),P=v(6825),k=v(6814),F=v(7131),O=v(3680);const D=["notch"],I=["matFormFieldNotchedOutline",""],S=["*"],L=["textField"],C=["iconPrefixContainer"],U=["textPrefixContainer"];function z(Kt,pn){1&Kt&&e._UZ(0,"span",19)}function ne(Kt,pn){if(1&Kt&&(e.TgZ(0,"label",17),e.Hsn(1,1),e.YNc(2,z,1,0,"span",18),e.qZA()),2&Kt){const rn=e.oxw(2);e.Q6J("floating",rn._shouldLabelFloat())("monitorResize",rn._hasOutline())("id",rn._labelId),e.uIk("for",rn._control.id),e.xp6(2),e.Q6J("ngIf",!rn.hideRequiredMarker&&rn._control.required)}}function te(Kt,pn){if(1&Kt&&e.YNc(0,ne,3,5,"label",16),2&Kt){const rn=e.oxw();e.Q6J("ngIf",rn._hasFloatingLabel())}}function Me(Kt,pn){1&Kt&&e._UZ(0,"div",20)}function J(Kt,pn){}function ce(Kt,pn){if(1&Kt&&e.YNc(0,J,0,0,"ng-template",22),2&Kt){e.oxw(2);const rn=e.MAs(1);e.Q6J("ngTemplateOutlet",rn)}}function W(Kt,pn){if(1&Kt&&(e.TgZ(0,"div",21),e.YNc(1,ce,1,1,"ng-template",9),e.qZA()),2&Kt){const rn=e.oxw();e.Q6J("matFormFieldNotchedOutlineOpen",rn._shouldLabelFloat()),e.xp6(1),e.Q6J("ngIf",!rn._forceDisplayInfixLabel())}}function Se(Kt,pn){1&Kt&&(e.TgZ(0,"div",23,24),e.Hsn(2,2),e.qZA())}function le(Kt,pn){1&Kt&&(e.TgZ(0,"div",25,26),e.Hsn(2,3),e.qZA())}function Ee(Kt,pn){}function xe(Kt,pn){if(1&Kt&&e.YNc(0,Ee,0,0,"ng-template",22),2&Kt){e.oxw();const rn=e.MAs(1);e.Q6J("ngTemplateOutlet",rn)}}function Ve(Kt,pn){1&Kt&&(e.TgZ(0,"div",27),e.Hsn(1,4),e.qZA())}function fe(Kt,pn){1&Kt&&(e.TgZ(0,"div",28),e.Hsn(1,5),e.qZA())}function Pe(Kt,pn){1&Kt&&e._UZ(0,"div",29)}function Ce(Kt,pn){if(1&Kt&&(e.TgZ(0,"div",30),e.Hsn(1,6),e.qZA()),2&Kt){const rn=e.oxw();e.Q6J("@transitionMessages",rn._subscriptAnimationState)}}function me(Kt,pn){if(1&Kt&&(e.TgZ(0,"mat-hint",34),e._uU(1),e.qZA()),2&Kt){const rn=e.oxw(2);e.Q6J("id",rn._hintLabelId),e.xp6(1),e.Oqu(rn.hintLabel)}}function De(Kt,pn){if(1&Kt&&(e.TgZ(0,"div",31),e.YNc(1,me,2,2,"mat-hint",32),e.Hsn(2,7),e._UZ(3,"div",33),e.Hsn(4,8),e.qZA()),2&Kt){const rn=e.oxw();e.Q6J("@transitionMessages",rn._subscriptAnimationState),e.xp6(1),e.Q6J("ngIf",rn.hintLabel)}}const Re=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Fe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Ne=(()=>{class Kt{static#e=this.\u0275fac=function(xt){return new(xt||Kt)};static#t=this.\u0275dir=e.lG2({type:Kt,selectors:[["mat-label"]]})}return Kt})(),at=0;const Be=new e.OlP("MatError");let ye=(()=>{class Kt{constructor(rn,xt){this.id="mat-mdc-error-"+at++,rn||xt.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(xt){return new(xt||Kt)(e.$8M("aria-live"),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:Kt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(xt,vt){2&xt&&e.Ikx("id",vt.id)},inputs:{id:"id"},features:[e._Bn([{provide:Be,useExisting:Kt}])]})}return Kt})(),ve=0,K=(()=>{class Kt{constructor(){this.align="start",this.id="mat-mdc-hint-"+ve++}static#e=this.\u0275fac=function(xt){return new(xt||Kt)};static#t=this.\u0275dir=e.lG2({type:Kt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(xt,vt){2&xt&&(e.Ikx("id",vt.id),e.uIk("align",null),e.ekj("mat-mdc-form-field-hint-end","end"===vt.align))},inputs:{align:"align",id:"id"}})}return Kt})();const se=new e.OlP("MatPrefix"),oe=new e.OlP("MatSuffix");let Q=(()=>{class Kt{constructor(){this._isText=!1}set _isTextSelector(rn){this._isText=!0}static#e=this.\u0275fac=function(xt){return new(xt||Kt)};static#t=this.\u0275dir=e.lG2({type:Kt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[e._Bn([{provide:oe,useExisting:Kt}])]})}return Kt})();const q=new e.OlP("FloatingLabelParent");let $=(()=>{class Kt{get floating(){return this._floating}set floating(rn){this._floating=rn,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(rn){this._monitorResize=rn,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(rn){this._elementRef=rn,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,e.f3M)(T),this._ngZone=(0,e.f3M)(e.R0b),this._parent=(0,e.f3M)(q),this._resizeSubscription=new A.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function ie(Kt){if(null!==Kt.offsetParent)return Kt.scrollWidth;const rn=Kt.cloneNode(!0);rn.style.setProperty("position","absolute"),rn.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(rn);const xt=rn.scrollWidth;return rn.remove(),xt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(xt){return new(xt||Kt)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:Kt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(xt,vt){2&xt&&e.ekj("mdc-floating-label--float-above",vt.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return Kt})();const Z="mdc-line-ripple--active",X="mdc-line-ripple--deactivating";let pe=(()=>{class Kt{constructor(rn,xt){this._elementRef=rn,this._handleTransitionEnd=vt=>{const nt=this._elementRef.nativeElement.classList,ke=nt.contains(X);"opacity"===vt.propertyName&&ke&&nt.remove(Z,X)},xt.runOutsideAngular(()=>{rn.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const rn=this._elementRef.nativeElement.classList;rn.remove(X),rn.add(Z)}deactivate(){this._elementRef.nativeElement.classList.add(X)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(xt){return new(xt||Kt)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275dir=e.lG2({type:Kt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return Kt})(),Te=(()=>{class Kt{constructor(rn,xt){this._elementRef=rn,this._ngZone=xt,this.open=!1}ngAfterViewInit(){const rn=this._elementRef.nativeElement.querySelector(".mdc-floating-label");rn?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(rn.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>rn.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(rn){this._notch.nativeElement.style.width=this.open&&rn?`calc(${rn}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(xt){return new(xt||Kt)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:Kt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(xt,vt){if(1&xt&&e.Gf(D,5),2&xt){let nt;e.iGM(nt=e.CRH())&&(vt._notch=nt.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(xt,vt){2&xt&&e.ekj("mdc-notched-outline--notched",vt.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:I,ngContentSelectors:S,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(xt,vt){1&xt&&(e.F$t(),e._UZ(0,"div",0),e.TgZ(1,"div",1,2),e.Hsn(3),e.qZA(),e._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return Kt})();const be={transitionMessages:(0,P.X$)("transitionMessages",[(0,P.SB)("enter",(0,P.oB)({opacity:1,transform:"translateY(0%)"})),(0,P.eR)("void => enter",[(0,P.oB)({opacity:0,transform:"translateY(-5px)"}),(0,P.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Le=(()=>{class Kt{static#e=this.\u0275fac=function(xt){return new(xt||Kt)};static#t=this.\u0275dir=e.lG2({type:Kt})}return Kt})();const ft=new e.OlP("MatFormField"),ze=new e.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let ht=0,Ut=(()=>{class Kt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(rn){this._hideRequiredMarker=(0,B.Ig)(rn)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(rn){rn!==this._floatLabel&&(this._floatLabel=rn,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(rn){const xt=this._appearance;this._appearance=rn||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==xt&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(rn){this._subscriptSizing=rn||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(rn){this._hintLabel=rn,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(rn){this._explicitFormFieldControl=rn}constructor(rn,xt,vt,nt,ke,Ke,rt,ot){this._elementRef=rn,this._changeDetectorRef=xt,this._ngZone=vt,this._dir=nt,this._platform=ke,this._defaults=Ke,this._animationMode=rt,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+ht++,this._hintLabelId="mat-mdc-hint-"+ht++,this._subscriptAnimationState="",this._destroyed=new _.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,Ke&&(Ke.appearance&&(this.appearance=Ke.appearance),this._hideRequiredMarker=!!Ke?.hideRequiredMarker,Ke.color&&(this.color=Ke.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const rn=this._control;rn.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${rn.controlType}`),rn.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),rn.ngControl&&rn.ngControl.valueChanges&&rn.ngControl.valueChanges.pipe((0,w.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(rn=>!rn._isText),this._hasTextPrefix=!!this._prefixChildren.find(rn=>rn._isText),this._hasIconSuffix=!!this._suffixChildren.find(rn=>!rn._isText),this._hasTextSuffix=!!this._suffixChildren.find(rn=>rn._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,x.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,w.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,w.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(rn){const xt=this._control?this._control.ngControl:null;return xt&&xt[rn]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let rn=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&rn.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const xt=this._hintChildren?this._hintChildren.find(nt=>"start"===nt.align):null,vt=this._hintChildren?this._hintChildren.find(nt=>"end"===nt.align):null;xt?rn.push(xt.id):this._hintLabel&&rn.push(this._hintLabelId),vt&&rn.push(vt.id)}else this._errorChildren&&rn.push(...this._errorChildren.map(xt=>xt.id));this._control.setDescribedByIds(rn)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const rn=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(rn.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const xt=this._iconPrefixContainer?.nativeElement,vt=this._textPrefixContainer?.nativeElement,nt=xt?.getBoundingClientRect().width??0,ke=vt?.getBoundingClientRect().width??0;rn.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${nt+ke}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const rn=this._elementRef.nativeElement;if(rn.getRootNode){const xt=rn.getRootNode();return xt&&xt!==rn}return document.documentElement.contains(rn)}static#e=this.\u0275fac=function(xt){return new(xt||Kt)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(n.Is),e.Y36(b.t4),e.Y36(ze,8),e.Y36(e.QbO,8),e.Y36(k.K0))};static#t=this.\u0275cmp=e.Xpm({type:Kt,selectors:[["mat-form-field"]],contentQueries:function(xt,vt,nt){if(1&xt&&(e.Suo(nt,Ne,5),e.Suo(nt,Ne,7),e.Suo(nt,Le,5),e.Suo(nt,se,5),e.Suo(nt,oe,5),e.Suo(nt,Be,5),e.Suo(nt,K,5)),2&xt){let ke;e.iGM(ke=e.CRH())&&(vt._labelChildNonStatic=ke.first),e.iGM(ke=e.CRH())&&(vt._labelChildStatic=ke.first),e.iGM(ke=e.CRH())&&(vt._formFieldControl=ke.first),e.iGM(ke=e.CRH())&&(vt._prefixChildren=ke),e.iGM(ke=e.CRH())&&(vt._suffixChildren=ke),e.iGM(ke=e.CRH())&&(vt._errorChildren=ke),e.iGM(ke=e.CRH())&&(vt._hintChildren=ke)}},viewQuery:function(xt,vt){if(1&xt&&(e.Gf(L,5),e.Gf(C,5),e.Gf(U,5),e.Gf($,5),e.Gf(Te,5),e.Gf(pe,5)),2&xt){let nt;e.iGM(nt=e.CRH())&&(vt._textField=nt.first),e.iGM(nt=e.CRH())&&(vt._iconPrefixContainer=nt.first),e.iGM(nt=e.CRH())&&(vt._textPrefixContainer=nt.first),e.iGM(nt=e.CRH())&&(vt._floatingLabel=nt.first),e.iGM(nt=e.CRH())&&(vt._notchedOutline=nt.first),e.iGM(nt=e.CRH())&&(vt._lineRipple=nt.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(xt,vt){2&xt&&e.ekj("mat-mdc-form-field-label-always-float",vt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",vt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",vt._hasIconSuffix)("mat-form-field-invalid",vt._control.errorState)("mat-form-field-disabled",vt._control.disabled)("mat-form-field-autofilled",vt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===vt._animationMode)("mat-form-field-appearance-fill","fill"==vt.appearance)("mat-form-field-appearance-outline","outline"==vt.appearance)("mat-form-field-hide-placeholder",vt._hasFloatingLabel()&&!vt._shouldLabelFloat())("mat-focused",vt._control.focused)("mat-primary","accent"!==vt.color&&"warn"!==vt.color)("mat-accent","accent"===vt.color)("mat-warn","warn"===vt.color)("ng-untouched",vt._shouldForward("untouched"))("ng-touched",vt._shouldForward("touched"))("ng-pristine",vt._shouldForward("pristine"))("ng-dirty",vt._shouldForward("dirty"))("ng-valid",vt._shouldForward("valid"))("ng-invalid",vt._shouldForward("invalid"))("ng-pending",vt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[e._Bn([{provide:ft,useExisting:Kt},{provide:q,useExisting:Kt}])],ngContentSelectors:Fe,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(xt,vt){1&xt&&(e.F$t(Re),e.YNc(0,te,1,1,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1,2),e.NdJ("click",function(ke){return vt._control.onContainerClick(ke)}),e.YNc(4,Me,1,0,"div",3),e.TgZ(5,"div",4),e.YNc(6,W,2,2,"div",5),e.YNc(7,Se,3,0,"div",6),e.YNc(8,le,3,0,"div",7),e.TgZ(9,"div",8),e.YNc(10,xe,1,1,"ng-template",9),e.Hsn(11),e.qZA(),e.YNc(12,Ve,2,0,"div",10),e.YNc(13,fe,2,0,"div",11),e.qZA(),e.YNc(14,Pe,1,0,"div",12),e.qZA(),e.TgZ(15,"div",13),e.YNc(16,Ce,2,1,"div",14),e.YNc(17,De,5,2,"div",15),e.qZA()),2&xt&&(e.xp6(2),e.ekj("mdc-text-field--filled",!vt._hasOutline())("mdc-text-field--outlined",vt._hasOutline())("mdc-text-field--no-label",!vt._hasFloatingLabel())("mdc-text-field--disabled",vt._control.disabled)("mdc-text-field--invalid",vt._control.errorState),e.xp6(2),e.Q6J("ngIf",!vt._hasOutline()&&!vt._control.disabled),e.xp6(2),e.Q6J("ngIf",vt._hasOutline()),e.xp6(1),e.Q6J("ngIf",vt._hasIconPrefix),e.xp6(1),e.Q6J("ngIf",vt._hasTextPrefix),e.xp6(2),e.Q6J("ngIf",!vt._hasOutline()||vt._forceDisplayInfixLabel()),e.xp6(2),e.Q6J("ngIf",vt._hasTextSuffix),e.xp6(1),e.Q6J("ngIf",vt._hasIconSuffix),e.xp6(1),e.Q6J("ngIf",!vt._hasOutline()),e.xp6(1),e.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===vt.subscriptSizing),e.Q6J("ngSwitch",vt._getDisplayedMessages()),e.xp6(1),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngSwitchCase","hint"))},dependencies:[k.O5,k.tP,k.RF,k.n9,K,$,Te,pe],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[be.transitionMessages]},changeDetection:0})}return Kt})(),Zt=(()=>{class Kt{static#e=this.\u0275fac=function(xt){return new(xt||Kt)};static#t=this.\u0275mod=e.oAB({type:Kt});static#n=this.\u0275inj=e.cJS({imports:[O.BQ,k.ez,F.Q8,O.BQ]})}return Kt})()},2032:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Jk:()=>P,Nt:()=>D,c:()=>I});var e=v(2495),n=v(2831),b=v(5879),A=v(6232),_=v(8645);const x=(0,n.i$)({passive:!0});let w=(()=>{class S{constructor(C,U){this._platform=C,this._ngZone=U,this._monitoredElements=new Map}monitor(C){if(!this._platform.isBrowser)return A.E;const U=(0,e.fI)(C),z=this._monitoredElements.get(U);if(z)return z.subject;const ne=new _.x,te="cdk-text-field-autofilled",Me=J=>{"cdk-text-field-autofill-start"!==J.animationName||U.classList.contains(te)?"cdk-text-field-autofill-end"===J.animationName&&U.classList.contains(te)&&(U.classList.remove(te),this._ngZone.run(()=>ne.next({target:J.target,isAutofilled:!1}))):(U.classList.add(te),this._ngZone.run(()=>ne.next({target:J.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{U.addEventListener("animationstart",Me,x),U.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(U,{subject:ne,unlisten:()=>{U.removeEventListener("animationstart",Me,x)}}),ne}stopMonitoring(C){const U=(0,e.fI)(C),z=this._monitoredElements.get(U);z&&(z.unlisten(),z.subject.complete(),U.classList.remove("cdk-text-field-autofill-monitored"),U.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(U))}ngOnDestroy(){this._monitoredElements.forEach((C,U)=>this.stopMonitoring(U))}static#e=this.\u0275fac=function(U){return new(U||S)(b.LFG(n.t4),b.LFG(b.R0b))};static#t=this.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),i=(()=>{class S{static#e=this.\u0275fac=function(U){return new(U||S)};static#t=this.\u0275mod=b.oAB({type:S});static#n=this.\u0275inj=b.cJS({})}return S})();var h=v(95),p=v(3680),T=v(4170);const P=new b.OlP("MAT_INPUT_VALUE_ACCESSOR"),k=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let F=0;const O=(0,p.FD)(class{constructor(S,L,C,U){this._defaultErrorStateMatcher=S,this._parentForm=L,this._parentFormGroup=C,this.ngControl=U,this.stateChanges=new _.x}});let D=(()=>{class S extends O{get disabled(){return this._disabled}set disabled(C){this._disabled=(0,e.Ig)(C),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(C){this._id=C||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(h.kI.required)??!1}set required(C){this._required=(0,e.Ig)(C)}get type(){return this._type}set type(C){this._type=C||"text",this._validateType(),!this._isTextarea&&(0,n.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(C){C!==this.value&&(this._inputValueAccessor.value=C,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(C){this._readonly=(0,e.Ig)(C)}constructor(C,U,z,ne,te,Me,J,ce,W,Se){super(Me,ne,te,z),this._elementRef=C,this._platform=U,this._autofillMonitor=ce,this._formField=Se,this._uid="mat-input-"+F++,this.focused=!1,this.stateChanges=new _.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(xe=>(0,n.qK)().has(xe)),this._iOSKeyupListener=xe=>{const Ve=xe.target;!Ve.value&&0===Ve.selectionStart&&0===Ve.selectionEnd&&(Ve.setSelectionRange(1,1),Ve.setSelectionRange(0,0))};const le=this._elementRef.nativeElement,Ee=le.nodeName.toLowerCase();this._inputValueAccessor=J||le,this._previousNativeValue=this.value,this.id=this.id,U.IOS&&W.runOutsideAngular(()=>{C.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Ee,this._isTextarea="textarea"===Ee,this._isInFormField=!!Se,this._isNativeSelect&&(this.controlType=le.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(C=>{this.autofilled=C.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(C){this._elementRef.nativeElement.focus(C)}_focusChanged(C){C!==this.focused&&(this.focused=C,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const C=this._elementRef.nativeElement.value;this._previousNativeValue!==C&&(this._previousNativeValue=C,this.stateChanges.next())}_dirtyCheckPlaceholder(){const C=this._getPlaceholder();if(C!==this._previousPlaceholder){const U=this._elementRef.nativeElement;this._previousPlaceholder=C,C?U.setAttribute("placeholder",C):U.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){k.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let C=this._elementRef.nativeElement.validity;return C&&C.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const C=this._elementRef.nativeElement,U=C.options[0];return this.focused||C.multiple||!this.empty||!!(C.selectedIndex>-1&&U&&U.label)}return this.focused||!this.empty}setDescribedByIds(C){C.length?this._elementRef.nativeElement.setAttribute("aria-describedby",C.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const C=this._elementRef.nativeElement;return this._isNativeSelect&&(C.multiple||C.size>1)}static#e=this.\u0275fac=function(U){return new(U||S)(b.Y36(b.SBq),b.Y36(n.t4),b.Y36(h.a5,10),b.Y36(h.F,8),b.Y36(h.sg,8),b.Y36(p.rD),b.Y36(P,10),b.Y36(w),b.Y36(b.R0b),b.Y36(T.G_,8))};static#t=this.\u0275dir=b.lG2({type:S,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(U,z){1&U&&b.NdJ("focus",function(){return z._focusChanged(!0)})("blur",function(){return z._focusChanged(!1)})("input",function(){return z._onInput()}),2&U&&(b.Ikx("id",z.id)("disabled",z.disabled)("required",z.required),b.uIk("name",z.name||null)("readonly",z.readonly&&!z._isNativeSelect||null)("aria-invalid",z.empty&&z.required?null:z.errorState)("aria-required",z.required)("id",z.id),b.ekj("mat-input-server",z._isServer)("mat-mdc-form-field-textarea-control",z._isInFormField&&z._isTextarea)("mat-mdc-form-field-input-control",z._isInFormField)("mdc-text-field__input",z._isInFormField)("mat-mdc-native-select-inline",z._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[b._Bn([{provide:T.Eo,useExisting:S}]),b.qOj,b.TTD]})}return S})(),I=(()=>{class S{static#e=this.\u0275fac=function(U){return new(U||S)};static#t=this.\u0275mod=b.oAB({type:S});static#n=this.\u0275inj=b.cJS({imports:[p.BQ,T.lN,T.lN,i,p.BQ]})}return S})()},1476:(Hn,Xe,v)=>{"use strict";v.d(Xe,{NW:()=>z,TU:()=>ne,ye:()=>k});var e=v(6814),n=v(5879),b=v(8645),A=v(2296),_=v(8525),x=v(2596),w=v(3680),g=v(2495),d=v(4170);function i(te,Me){if(1&te&&(n.TgZ(0,"mat-option",19),n._uU(1),n.qZA()),2&te){const J=Me.$implicit;n.Q6J("value",J),n.xp6(1),n.hij(" ",J," ")}}function h(te,Me){if(1&te){const J=n.EpF();n.TgZ(0,"mat-form-field",16)(1,"mat-select",17),n.NdJ("selectionChange",function(W){n.CHM(J);const Se=n.oxw(2);return n.KtG(Se._changePageSize(W.value))}),n.YNc(2,i,2,2,"mat-option",18),n.qZA()()}if(2&te){const J=n.oxw(2);n.Q6J("appearance",J._formFieldAppearance)("color",J.color),n.xp6(1),n.Q6J("value",J.pageSize)("disabled",J.disabled)("aria-labelledby",J._pageSizeLabelId)("panelClass",J.selectConfig.panelClass||"")("disableOptionCentering",J.selectConfig.disableOptionCentering),n.xp6(1),n.Q6J("ngForOf",J._displayedPageSizeOptions)}}function p(te,Me){if(1&te&&(n.TgZ(0,"div",20),n._uU(1),n.qZA()),2&te){const J=n.oxw(2);n.xp6(1),n.Oqu(J.pageSize)}}function T(te,Me){if(1&te&&(n.TgZ(0,"div",12)(1,"div",13),n._uU(2),n.qZA(),n.YNc(3,h,3,8,"mat-form-field",14),n.YNc(4,p,2,1,"div",15),n.qZA()),2&te){const J=n.oxw();n.xp6(1),n.s9C("id",J._pageSizeLabelId),n.xp6(1),n.hij(" ",J._intl.itemsPerPageLabel," "),n.xp6(1),n.Q6J("ngIf",J._displayedPageSizeOptions.length>1),n.xp6(1),n.Q6J("ngIf",J._displayedPageSizeOptions.length<=1)}}function B(te,Me){if(1&te){const J=n.EpF();n.TgZ(0,"button",21),n.NdJ("click",function(){n.CHM(J);const W=n.oxw();return n.KtG(W.firstPage())}),n.O4$(),n.TgZ(1,"svg",7),n._UZ(2,"path",22),n.qZA()()}if(2&te){const J=n.oxw();n.Q6J("matTooltip",J._intl.firstPageLabel)("matTooltipDisabled",J._previousButtonsDisabled())("matTooltipPosition","above")("disabled",J._previousButtonsDisabled()),n.uIk("aria-label",J._intl.firstPageLabel)}}function P(te,Me){if(1&te){const J=n.EpF();n.O4$(),n.kcU(),n.TgZ(0,"button",23),n.NdJ("click",function(){n.CHM(J);const W=n.oxw();return n.KtG(W.lastPage())}),n.O4$(),n.TgZ(1,"svg",7),n._UZ(2,"path",24),n.qZA()()}if(2&te){const J=n.oxw();n.Q6J("matTooltip",J._intl.lastPageLabel)("matTooltipDisabled",J._nextButtonsDisabled())("matTooltipPosition","above")("disabled",J._nextButtonsDisabled()),n.uIk("aria-label",J._intl.lastPageLabel)}}let k=(()=>{class te{constructor(){this.changes=new b.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(J,ce,W)=>{if(0==W||0==ce)return`0 of ${W}`;const Se=J*ce;return`${Se+1} \u2013 ${Se<(W=Math.max(W,0))?Math.min(Se+ce,W):Se+ce} of ${W}`}}static#e=this.\u0275fac=function(ce){return new(ce||te)};static#t=this.\u0275prov=n.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();const O={provide:k,deps:[[new n.FiY,new n.tp0,k]],useFactory:function F(te){return te||new k}},S=new n.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),L=(0,w.Id)((0,w.dB)(class{}));let C=(()=>{class te extends L{get pageIndex(){return this._pageIndex}set pageIndex(J){this._pageIndex=Math.max((0,g.su)(J),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(J){this._length=(0,g.su)(J),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(J){this._pageSize=Math.max((0,g.su)(J),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(J){this._pageSizeOptions=(J||[]).map(ce=>(0,g.su)(ce)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(J){this._hidePageSize=(0,g.Ig)(J)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(J){this._showFirstLastButtons=(0,g.Ig)(J)}constructor(J,ce,W){if(super(),this._intl=J,this._changeDetectorRef=ce,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new n.vpe,this._intlChanges=J.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),W){const{pageSize:Se,pageSizeOptions:le,hidePageSize:Ee,showFirstLastButtons:xe}=W;null!=Se&&(this._pageSize=Se),null!=le&&(this._pageSizeOptions=le),null!=Ee&&(this._hidePageSize=Ee),null!=xe&&(this._showFirstLastButtons=xe)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const J=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(J)}previousPage(){if(!this.hasPreviousPage())return;const J=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(J)}firstPage(){if(!this.hasPreviousPage())return;const J=this.pageIndex;this.pageIndex=0,this._emitPageEvent(J)}lastPage(){if(!this.hasNextPage())return;const J=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(J)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const J=this.getNumberOfPages()-1;return this.pageIndex<J&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(J){const W=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/J)||0,this.pageSize=J,this._emitPageEvent(W)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((J,ce)=>J-ce),this._changeDetectorRef.markForCheck())}_emitPageEvent(J){this.page.emit({previousPageIndex:J,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(ce){n.$Z()};static#t=this.\u0275dir=n.lG2({type:te,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[n.qOj]})}return te})(),U=0,z=(()=>{class te extends C{constructor(J,ce,W){super(J,ce,W),this._pageSizeLabelId="mat-paginator-page-size-label-"+U++,this._formFieldAppearance=W?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(ce){return new(ce||te)(n.Y36(k),n.Y36(n.sBO),n.Y36(S,8))};static#t=this.\u0275cmp=n.Xpm({type:te,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[n.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(ce,W){1&ce&&(n.TgZ(0,"div",0)(1,"div",1),n.YNc(2,T,5,4,"div",2),n.TgZ(3,"div",3)(4,"div",4),n._uU(5),n.qZA(),n.YNc(6,B,3,5,"button",5),n.TgZ(7,"button",6),n.NdJ("click",function(){return W.previousPage()}),n.O4$(),n.TgZ(8,"svg",7),n._UZ(9,"path",8),n.qZA()(),n.kcU(),n.TgZ(10,"button",9),n.NdJ("click",function(){return W.nextPage()}),n.O4$(),n.TgZ(11,"svg",7),n._UZ(12,"path",10),n.qZA()(),n.YNc(13,P,3,5,"button",11),n.qZA()()()),2&ce&&(n.xp6(2),n.Q6J("ngIf",!W.hidePageSize),n.xp6(3),n.hij(" ",W._intl.getRangeLabel(W.pageIndex,W.pageSize,W.length)," "),n.xp6(1),n.Q6J("ngIf",W.showFirstLastButtons),n.xp6(1),n.Q6J("matTooltip",W._intl.previousPageLabel)("matTooltipDisabled",W._previousButtonsDisabled())("matTooltipPosition","above")("disabled",W._previousButtonsDisabled()),n.uIk("aria-label",W._intl.previousPageLabel),n.xp6(3),n.Q6J("matTooltip",W._intl.nextPageLabel)("matTooltipDisabled",W._nextButtonsDisabled())("matTooltipPosition","above")("disabled",W._nextButtonsDisabled()),n.uIk("aria-label",W._intl.nextPageLabel),n.xp6(3),n.Q6J("ngIf",W.showFirstLastButtons))},dependencies:[e.sg,e.O5,A.RK,d.KE,_.gD,w.ey,x.gM],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return te})(),ne=(()=>{class te{static#e=this.\u0275fac=function(ce){return new(ce||te)};static#t=this.\u0275mod=n.oAB({type:te});static#n=this.\u0275inj=n.cJS({providers:[O],imports:[e.ez,A.ot,_.LD,x.AV]})}return te})()},5940:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Cq:()=>B,Ou:()=>p});var e=v(5879),n=v(3680),b=v(2495),A=v(6814);const _=["determinateSpinner"];function x(P,k){if(1&P&&(e.O4$(),e.TgZ(0,"svg",11),e._UZ(1,"circle",12),e.qZA()),2&P){const F=e.oxw();e.uIk("viewBox",F._viewBox()),e.xp6(1),e.Udp("stroke-dasharray",F._strokeCircumference(),"px")("stroke-dashoffset",F._strokeCircumference()/2,"px")("stroke-width",F._circleStrokeWidth(),"%"),e.uIk("r",F._circleRadius())}}const w=(0,n.pj)(class{constructor(P){this._elementRef=P}},"primary"),g=new e.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function d(){return{diameter:i}}}),i=100;let p=(()=>{class P extends w{constructor(F,O,D){super(F),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=i,this._noopAnimations="NoopAnimations"===O&&!!D&&!D._forceAnimations,D&&(D.color&&(this.color=this.defaultColor=D.color),D.diameter&&(this.diameter=D.diameter),D.strokeWidth&&(this.strokeWidth=D.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(F){this._value=Math.max(0,Math.min(100,(0,b.su)(F)))}get diameter(){return this._diameter}set diameter(F){this._diameter=(0,b.su)(F)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(F){this._strokeWidth=(0,b.su)(F)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const F=2*this._circleRadius()+this.strokeWidth;return`0 0 ${F} ${F}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(O){return new(O||P)(e.Y36(e.SBq),e.Y36(e.QbO,8),e.Y36(g))};static#t=this.\u0275cmp=e.Xpm({type:P,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(O,D){if(1&O&&e.Gf(_,5),2&O){let I;e.iGM(I=e.CRH())&&(D._determinateCircle=I.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(O,D){2&O&&(e.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===D.mode?D.value:null)("mode",D.mode),e.Udp("width",D.diameter,"px")("height",D.diameter,"px")("--mdc-circular-progress-size",D.diameter+"px")("--mdc-circular-progress-active-indicator-width",D.diameter+"px"),e.ekj("_mat-animation-noopable",D._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===D.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[e.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(O,D){if(1&O&&(e.YNc(0,x,2,8,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1,2),e.O4$(),e.TgZ(4,"svg",3),e._UZ(5,"circle",4),e.qZA()(),e.kcU(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7),e.GkF(9,8),e.qZA(),e.TgZ(10,"div",9),e.GkF(11,8),e.qZA(),e.TgZ(12,"div",10),e.GkF(13,8),e.qZA()()()),2&O){const I=e.MAs(1);e.xp6(4),e.uIk("viewBox",D._viewBox()),e.xp6(1),e.Udp("stroke-dasharray",D._strokeCircumference(),"px")("stroke-dashoffset",D._strokeDashOffset(),"px")("stroke-width",D._circleStrokeWidth(),"%"),e.uIk("r",D._circleRadius()),e.xp6(4),e.Q6J("ngTemplateOutlet",I),e.xp6(2),e.Q6J("ngTemplateOutlet",I),e.xp6(2),e.Q6J("ngTemplateOutlet",I)}},dependencies:[A.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return P})(),B=(()=>{class P{static#e=this.\u0275fac=function(O){return new(O||P)};static#t=this.\u0275mod=e.oAB({type:P});static#n=this.\u0275inj=e.cJS({imports:[A.ez,n.BQ]})}return P})()},8525:(Hn,Xe,v)=>{"use strict";v.d(Xe,{LD:()=>ve,gD:()=>ye});var e=v(3651),n=v(6814),b=v(5879),A=v(3680),_=v(4170),x=v(799),w=v(4300),g=v(9388),d=v(2495),i=v(8337),h=v(6028),p=v(95),T=v(8645),B=v(4911),P=v(3019),k=v(7921),F=v(4664),O=v(8180),D=v(2181),I=v(7398),S=v(3997),L=v(9773),C=v(6825);const U=["trigger"],z=["panel"];function ne(K,se){if(1&K&&(b.TgZ(0,"span",10),b._uU(1),b.qZA()),2&K){const ge=b.oxw();b.xp6(1),b.Oqu(ge.placeholder)}}function te(K,se){if(1&K&&(b.TgZ(0,"span",14),b._uU(1),b.qZA()),2&K){const ge=b.oxw(2);b.xp6(1),b.Oqu(ge.triggerValue)}}function Me(K,se){1&K&&b.Hsn(0,0,["*ngSwitchCase","true"])}function J(K,se){if(1&K&&(b.TgZ(0,"span",11),b.YNc(1,te,2,1,"span",12),b.YNc(2,Me,1,0,"ng-content",13),b.qZA()),2&K){const ge=b.oxw();b.Q6J("ngSwitch",!!ge.customTrigger),b.xp6(2),b.Q6J("ngSwitchCase",!0)}}function ce(K,se){if(1&K){const ge=b.EpF();b.O4$(),b.kcU(),b.TgZ(0,"div",15,16),b.NdJ("@transformPanel.done",function(Q){b.CHM(ge);const q=b.oxw();return b.KtG(q._panelDoneAnimatingStream.next(Q.toState))})("keydown",function(Q){b.CHM(ge);const q=b.oxw();return b.KtG(q._handleKeydown(Q))}),b.Hsn(2,1),b.qZA()}if(2&K){const ge=b.oxw();b.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",ge._getPanelTheme(),""),b.Q6J("ngClass",ge.panelClass)("@transformPanel","showing"),b.uIk("id",ge.id+"-panel")("aria-multiselectable",ge.multiple)("aria-label",ge.ariaLabel||null)("aria-labelledby",ge._getPanelAriaLabelledby())}}const W=[[["mat-select-trigger"]],"*"],Se=["mat-select-trigger","*"],le={transformPanelWrap:(0,C.X$)("transformPanelWrap",[(0,C.eR)("* => void",(0,C.IO)("@transformPanel",[(0,C.pV)()],{optional:!0}))]),transformPanel:(0,C.X$)("transformPanel",[(0,C.SB)("void",(0,C.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,C.eR)("void => showing",(0,C.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,C.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,C.eR)("* => void",(0,C.jt)("100ms linear",(0,C.oB)({opacity:0})))])};let fe=0;const Pe=new b.OlP("mat-select-scroll-strategy"),me=new b.OlP("MAT_SELECT_CONFIG"),De={provide:Pe,deps:[e.aV],useFactory:function Ce(K){return()=>K.scrollStrategies.reposition()}},Re=new b.OlP("MatSelectTrigger");class Fe{constructor(se,ge){this.source=se,this.value=ge}}const Ne=(0,A.Kr)((0,A.sb)((0,A.Id)((0,A.FD)(class{constructor(K,se,ge,oe,Q){this._elementRef=K,this._defaultErrorStateMatcher=se,this._parentForm=ge,this._parentFormGroup=oe,this.ngControl=Q,this.stateChanges=new T.x}}))));let at=(()=>{class K extends Ne{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(ge){this._placeholder=ge,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(p.kI.required)??!1}set required(ge){this._required=(0,d.Ig)(ge),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(ge){this._multiple=(0,d.Ig)(ge)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(ge){this._disableOptionCentering=(0,d.Ig)(ge)}get compareWith(){return this._compareWith}set compareWith(ge){this._compareWith=ge,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(ge){this._assignValue(ge)&&this._onChange(ge)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(ge){this._typeaheadDebounceInterval=(0,d.su)(ge)}get id(){return this._id}set id(ge){this._id=ge||this._uid,this.stateChanges.next()}constructor(ge,oe,Q,q,$,ie,Z,X,pe,Te,be,Le,et,Qe){super($,q,Z,X,Te),this._viewportRuler=ge,this._changeDetectorRef=oe,this._ngZone=Q,this._dir=ie,this._parentFormField=pe,this._liveAnnouncer=et,this._defaultOptions=Qe,this._panelOpen=!1,this._compareWith=(qe,ft)=>qe===ft,this._uid="mat-select-"+fe++,this._triggerAriaLabelledBy=null,this._destroy=new T.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+fe++,this._panelDoneAnimatingStream=new T.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,B.P)(()=>{const qe=this.options;return qe?qe.changes.pipe((0,k.O)(qe),(0,F.w)(()=>(0,P.T)(...qe.map(ft=>ft.onSelectionChange)))):this._ngZone.onStable.pipe((0,O.q)(1),(0,F.w)(()=>this.optionSelectionChanges))}),this.openedChange=new b.vpe,this._openedStream=this.openedChange.pipe((0,D.h)(qe=>qe),(0,I.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,D.h)(qe=>!qe),(0,I.U)(()=>{})),this.selectionChange=new b.vpe,this.valueChange=new b.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Qe?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=Qe.typeaheadDebounceInterval),this._scrollStrategyFactory=Le,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(be)||0,this.id=this.id}ngOnInit(){this._selectionModel=new i.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,S.x)(),(0,L.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,L.R)(this._destroy)).subscribe(ge=>{ge.added.forEach(oe=>oe.select()),ge.removed.forEach(oe=>oe.deselect())}),this.options.changes.pipe((0,k.O)(null),(0,L.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const ge=this._getTriggerAriaLabelledby(),oe=this.ngControl;if(ge!==this._triggerAriaLabelledBy){const Q=this._elementRef.nativeElement;this._triggerAriaLabelledBy=ge,ge?Q.setAttribute("aria-labelledby",ge):Q.removeAttribute("aria-labelledby")}oe&&(this._previousControl!==oe.control&&(void 0!==this._previousControl&&null!==oe.disabled&&oe.disabled!==this.disabled&&(this.disabled=oe.disabled),this._previousControl=oe.control),this.updateErrorState())}ngOnChanges(ge){(ge.disabled||ge.userAriaDescribedBy)&&this.stateChanges.next(),ge.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const ge=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!ge)return;const oe=`${this.id}-panel`;this._trackedModal&&(0,w.iD)(this._trackedModal,"aria-owns",oe),(0,w.Zf)(ge,"aria-owns",oe),this._trackedModal=ge}_clearFromModal(){this._trackedModal&&((0,w.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(ge){this._assignValue(ge)}registerOnChange(ge){this._onChange=ge}registerOnTouched(ge){this._onTouched=ge}setDisabledState(ge){this.disabled=ge,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const ge=this._selectionModel.selected.map(oe=>oe.viewValue);return this._isRtl()&&ge.reverse(),ge.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(ge){this.disabled||(this.panelOpen?this._handleOpenKeydown(ge):this._handleClosedKeydown(ge))}_handleClosedKeydown(ge){const oe=ge.keyCode,Q=oe===h.JH||oe===h.LH||oe===h.oh||oe===h.SV,q=oe===h.K5||oe===h.L_,$=this._keyManager;if(!$.isTyping()&&q&&!(0,h.Vb)(ge)||(this.multiple||ge.altKey)&&Q)ge.preventDefault(),this.open();else if(!this.multiple){const ie=this.selected;$.onKeydown(ge);const Z=this.selected;Z&&ie!==Z&&this._liveAnnouncer.announce(Z.viewValue,1e4)}}_handleOpenKeydown(ge){const oe=this._keyManager,Q=ge.keyCode,q=Q===h.JH||Q===h.LH,$=oe.isTyping();if(q&&ge.altKey)ge.preventDefault(),this.close();else if($||Q!==h.K5&&Q!==h.L_||!oe.activeItem||(0,h.Vb)(ge))if(!$&&this._multiple&&Q===h.A&&ge.ctrlKey){ge.preventDefault();const ie=this.options.some(Z=>!Z.disabled&&!Z.selected);this.options.forEach(Z=>{Z.disabled||(ie?Z.select():Z.deselect())})}else{const ie=oe.activeItemIndex;oe.onKeydown(ge),this._multiple&&q&&ge.shiftKey&&oe.activeItem&&oe.activeItemIndex!==ie&&oe.activeItem._selectViaInteraction()}else ge.preventDefault(),oe.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,O.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(ge){if(this.options.forEach(oe=>oe.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&ge)Array.isArray(ge),ge.forEach(oe=>this._selectOptionByValue(oe)),this._sortValues();else{const oe=this._selectOptionByValue(ge);oe?this._keyManager.updateActiveItem(oe):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(ge){const oe=this.options.find(Q=>{if(this._selectionModel.isSelected(Q))return!1;try{return null!=Q.value&&this._compareWith(Q.value,ge)}catch{return!1}});return oe&&this._selectionModel.select(oe),oe}_assignValue(ge){return!!(ge!==this._value||this._multiple&&Array.isArray(ge))&&(this.options&&this._setSelectionByValue(ge),this._value=ge,!0)}_skipPredicate(ge){return ge.disabled}_initKeyManager(){this._keyManager=new w.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const ge=(0,P.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,L.R)(ge)).subscribe(oe=>{this._onSelect(oe.source,oe.isUserInput),oe.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,P.T)(...this.options.map(oe=>oe._stateChanges)).pipe((0,L.R)(ge)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(ge,oe){const Q=this._selectionModel.isSelected(ge);null!=ge.value||this._multiple?(Q!==ge.selected&&(ge.selected?this._selectionModel.select(ge):this._selectionModel.deselect(ge)),oe&&this._keyManager.setActiveItem(ge),this.multiple&&(this._sortValues(),oe&&this.focus())):(ge.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(ge.value)),Q!==this._selectionModel.isSelected(ge)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const ge=this.options.toArray();this._selectionModel.sort((oe,Q)=>this.sortComparator?this.sortComparator(oe,Q,ge):ge.indexOf(oe)-ge.indexOf(Q)),this.stateChanges.next()}}_propagateChanges(ge){let oe=null;oe=this.multiple?this.selected.map(Q=>Q.value):this.selected?this.selected.value:ge,this._value=oe,this.valueChange.emit(oe),this._onChange(oe),this.selectionChange.emit(this._getChangeEvent(oe)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let ge=-1;for(let oe=0;oe<this.options.length;oe++)if(!this.options.get(oe).disabled){ge=oe;break}this._keyManager.setActiveItem(ge)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(ge){this._elementRef.nativeElement.focus(ge)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const ge=this._parentFormField?.getLabelId();return this.ariaLabelledby?(ge?ge+" ":"")+this.ariaLabelledby:ge}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const ge=this._parentFormField?.getLabelId();let oe=(ge?ge+" ":"")+this._valueId;return this.ariaLabelledby&&(oe+=" "+this.ariaLabelledby),oe}_panelDoneAnimating(ge){this.openedChange.emit(ge)}setDescribedByIds(ge){ge.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ge.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(oe){return new(oe||K)(b.Y36(x.rL),b.Y36(b.sBO),b.Y36(b.R0b),b.Y36(A.rD),b.Y36(b.SBq),b.Y36(g.Is,8),b.Y36(p.F,8),b.Y36(p.sg,8),b.Y36(_.G_,8),b.Y36(p.a5,10),b.$8M("tabindex"),b.Y36(Pe),b.Y36(w.Kd),b.Y36(me,8))};static#t=this.\u0275dir=b.lG2({type:K,viewQuery:function(oe,Q){if(1&oe&&(b.Gf(U,5),b.Gf(z,5),b.Gf(e.pI,5)),2&oe){let q;b.iGM(q=b.CRH())&&(Q.trigger=q.first),b.iGM(q=b.CRH())&&(Q.panel=q.first),b.iGM(q=b.CRH())&&(Q._overlayDir=q.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[b.qOj,b.TTD]})}return K})(),ye=(()=>{class K extends at{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=ge=>!this.panelOpen&&ge.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,L.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(ge){const oe=this.options.toArray()[ge];if(oe){const Q=this.panel.nativeElement,q=(0,A.CB)(ge,this.options,this.optionGroups),$=oe._getHostElement();Q.scrollTop=0===ge&&1===q?0:(0,A.jH)($.offsetTop,$.offsetHeight,Q.scrollTop,Q.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(ge){return new Fe(this,ge)}_getOverlayWidth(ge){return"auto"===this.panelWidth?(ge instanceof e.xu?ge.elementRef:ge||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(ge){this._hideSingleSelectionIndicator=(0,d.Ig)(ge),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const ge of this.options)ge._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let ge;return function(Q){return(ge||(ge=b.n5z(K)))(Q||K)}}();static#t=this.\u0275cmp=b.Xpm({type:K,selectors:[["mat-select"]],contentQueries:function(oe,Q,q){if(1&oe&&(b.Suo(q,Re,5),b.Suo(q,A.ey,5),b.Suo(q,A.K7,5)),2&oe){let $;b.iGM($=b.CRH())&&(Q.customTrigger=$.first),b.iGM($=b.CRH())&&(Q.options=$),b.iGM($=b.CRH())&&(Q.optionGroups=$)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(oe,Q){1&oe&&b.NdJ("keydown",function($){return Q._handleKeydown($)})("focus",function(){return Q._onFocus()})("blur",function(){return Q._onBlur()}),2&oe&&(b.uIk("id",Q.id)("tabindex",Q.tabIndex)("aria-controls",Q.panelOpen?Q.id+"-panel":null)("aria-expanded",Q.panelOpen)("aria-label",Q.ariaLabel||null)("aria-required",Q.required.toString())("aria-disabled",Q.disabled.toString())("aria-invalid",Q.errorState)("aria-activedescendant",Q._getAriaActiveDescendant()),b.ekj("mat-mdc-select-disabled",Q.disabled)("mat-mdc-select-invalid",Q.errorState)("mat-mdc-select-required",Q.required)("mat-mdc-select-empty",Q.empty)("mat-mdc-select-multiple",Q.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[b._Bn([{provide:_.Eo,useExisting:K},{provide:A.HF,useExisting:K}]),b.qOj],ngContentSelectors:Se,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(oe,Q){if(1&oe&&(b.F$t(W),b.TgZ(0,"div",0,1),b.NdJ("click",function(){return Q.toggle()}),b.TgZ(3,"div",2),b.YNc(4,ne,2,1,"span",3),b.YNc(5,J,3,2,"span",4),b.qZA(),b.TgZ(6,"div",5)(7,"div",6),b.O4$(),b.TgZ(8,"svg",7),b._UZ(9,"path",8),b.qZA()()()(),b.YNc(10,ce,3,9,"ng-template",9),b.NdJ("backdropClick",function(){return Q.close()})("attach",function(){return Q._onAttached()})("detach",function(){return Q.close()})),2&oe){const q=b.MAs(1);b.xp6(3),b.Q6J("ngSwitch",Q.empty),b.uIk("id",Q._valueId),b.xp6(1),b.Q6J("ngSwitchCase",!0),b.xp6(1),b.Q6J("ngSwitchCase",!1),b.xp6(5),b.Q6J("cdkConnectedOverlayPanelClass",Q._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Q._scrollStrategy)("cdkConnectedOverlayOrigin",Q._preferredOverlayOrigin||q)("cdkConnectedOverlayOpen",Q.panelOpen)("cdkConnectedOverlayPositions",Q._positions)("cdkConnectedOverlayWidth",Q._overlayWidth)}},dependencies:[n.mk,n.RF,n.n9,n.ED,e.pI,e.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[le.transformPanel]},changeDetection:0})}return K})(),ve=(()=>{class K{static#e=this.\u0275fac=function(oe){return new(oe||K)};static#t=this.\u0275mod=b.oAB({type:K});static#n=this.\u0275inj=b.cJS({providers:[De],imports:[n.ez,e.U8,A.Ng,A.BQ,x.ZD,_.lN,A.Ng,A.BQ]})}return K})()},2939:(Hn,Xe,v)=>{"use strict";v.d(Xe,{OX:()=>O,ZX:()=>J,qD:()=>D,u_:()=>I,ux:()=>le});var e=v(5879),n=v(8645),b=v(6814),A=v(2296),_=v(6825),x=v(8484),w=v(2831),g=v(8180),d=v(9773),i=v(4300),h=v(1088),p=v(3651),T=v(3680);function B(Ee,xe){if(1&Ee){const Ve=e.EpF();e.TgZ(0,"div",2)(1,"button",3),e.NdJ("click",function(){e.CHM(Ve);const Pe=e.oxw();return e.KtG(Pe.action())}),e._uU(2),e.qZA()()}if(2&Ee){const Ve=e.oxw();e.xp6(2),e.hij(" ",Ve.data.action," ")}}const P=["label"];function k(Ee,xe){}const F=Math.pow(2,31)-1;class O{constructor(xe,Ve){this._overlayRef=Ve,this._afterDismissed=new n.x,this._afterOpened=new n.x,this._onAction=new n.x,this._dismissedByAction=!1,this.containerInstance=xe,xe._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(xe){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(xe,F))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const D=new e.OlP("MatSnackBarData");class I{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let S=(()=>{class Ee{static#e=this.\u0275fac=function(fe){return new(fe||Ee)};static#t=this.\u0275dir=e.lG2({type:Ee,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return Ee})(),L=(()=>{class Ee{static#e=this.\u0275fac=function(fe){return new(fe||Ee)};static#t=this.\u0275dir=e.lG2({type:Ee,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return Ee})(),C=(()=>{class Ee{static#e=this.\u0275fac=function(fe){return new(fe||Ee)};static#t=this.\u0275dir=e.lG2({type:Ee,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return Ee})(),U=(()=>{class Ee{constructor(Ve,fe){this.snackBarRef=Ve,this.data=fe}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(fe){return new(fe||Ee)(e.Y36(O),e.Y36(D))};static#t=this.\u0275cmp=e.Xpm({type:Ee,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(fe,Pe){1&fe&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.YNc(2,B,3,1,"div",1)),2&fe&&(e.xp6(1),e.hij(" ",Pe.data.message,"\n"),e.xp6(1),e.Q6J("ngIf",Pe.hasAction))},dependencies:[b.O5,A.lW,S,L,C],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return Ee})();const z={snackBarState:(0,_.X$)("state",[(0,_.SB)("void, hidden",(0,_.oB)({transform:"scale(0.8)",opacity:0})),(0,_.SB)("visible",(0,_.oB)({transform:"scale(1)",opacity:1})),(0,_.eR)("* => visible",(0,_.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,_.eR)("* => void, * => hidden",(0,_.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,_.oB)({opacity:0})))])};let ne=0,te=(()=>{class Ee extends x.en{constructor(Ve,fe,Pe,Ce,me){super(),this._ngZone=Ve,this._elementRef=fe,this._changeDetectorRef=Pe,this._platform=Ce,this.snackBarConfig=me,this._document=(0,e.f3M)(b.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new n.x,this._onExit=new n.x,this._onEnter=new n.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+ne++,this.attachDomPortal=De=>{this._assertNotAttached();const Re=this._portalOutlet.attachDomPortal(De);return this._afterPortalAttached(),Re},this._live="assertive"!==me.politeness||me.announcementMessage?"off"===me.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Ve){this._assertNotAttached();const fe=this._portalOutlet.attachComponentPortal(Ve);return this._afterPortalAttached(),fe}attachTemplatePortal(Ve){this._assertNotAttached();const fe=this._portalOutlet.attachTemplatePortal(Ve);return this._afterPortalAttached(),fe}onAnimationEnd(Ve){const{fromState:fe,toState:Pe}=Ve;if(("void"===Pe&&"void"!==fe||"hidden"===Pe)&&this._completeExit(),"visible"===Pe){const Ce=this._onEnter;this._ngZone.run(()=>{Ce.next(),Ce.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,g.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const Ve=this._elementRef.nativeElement,fe=this.snackBarConfig.panelClass;fe&&(Array.isArray(fe)?fe.forEach(Pe=>Ve.classList.add(Pe)):Ve.classList.add(fe)),this._exposeToModals()}_exposeToModals(){const Ve=this._liveElementId,fe=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Pe=0;Pe<fe.length;Pe++){const Ce=fe[Pe],me=Ce.getAttribute("aria-owns");this._trackedModals.add(Ce),me?-1===me.indexOf(Ve)&&Ce.setAttribute("aria-owns",me+" "+Ve):Ce.setAttribute("aria-owns",Ve)}}_clearFromModals(){this._trackedModals.forEach(Ve=>{const fe=Ve.getAttribute("aria-owns");if(fe){const Pe=fe.replace(this._liveElementId,"").trim();Pe.length>0?Ve.setAttribute("aria-owns",Pe):Ve.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Ve=this._elementRef.nativeElement.querySelector("[aria-hidden]"),fe=this._elementRef.nativeElement.querySelector("[aria-live]");if(Ve&&fe){let Pe=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Ve.contains(document.activeElement)&&(Pe=document.activeElement),Ve.removeAttribute("aria-hidden"),fe.appendChild(Ve),Pe?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(fe){return new(fe||Ee)(e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(w.t4),e.Y36(I))};static#t=this.\u0275dir=e.lG2({type:Ee,viewQuery:function(fe,Pe){if(1&fe&&e.Gf(x.Pl,7),2&fe){let Ce;e.iGM(Ce=e.CRH())&&(Pe._portalOutlet=Ce.first)}},features:[e.qOj]})}return Ee})(),Me=(()=>{class Ee extends te{_afterPortalAttached(){super._afterPortalAttached();const Ve=this._label.nativeElement,fe="mdc-snackbar__label";Ve.classList.toggle(fe,!Ve.querySelector(`.${fe}`))}static#e=this.\u0275fac=function(){let Ve;return function(Pe){return(Ve||(Ve=e.n5z(Ee)))(Pe||Ee)}}();static#t=this.\u0275cmp=e.Xpm({type:Ee,selectors:[["mat-snack-bar-container"]],viewQuery:function(fe,Pe){if(1&fe&&e.Gf(P,7),2&fe){let Ce;e.iGM(Ce=e.CRH())&&(Pe._label=Ce.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(fe,Pe){1&fe&&e.WFA("@state.done",function(me){return Pe.onAnimationEnd(me)}),2&fe&&e.d8E("@state",Pe._animationState)},features:[e.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(fe,Pe){1&fe&&(e.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),e.YNc(4,k,0,0,"ng-template",4),e.qZA(),e._UZ(5,"div"),e.qZA()()),2&fe&&(e.xp6(5),e.uIk("aria-live",Pe._live)("role",Pe._role)("id",Pe._liveElementId))},dependencies:[x.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[z.snackBarState]}})}return Ee})(),J=(()=>{class Ee{static#e=this.\u0275fac=function(fe){return new(fe||Ee)};static#t=this.\u0275mod=e.oAB({type:Ee});static#n=this.\u0275inj=e.cJS({imports:[p.U8,x.eL,b.ez,A.ot,T.BQ,T.BQ]})}return Ee})();const W=new e.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function ce(){return new I}});let Se=(()=>{class Ee{get _openedSnackBarRef(){const Ve=this._parentSnackBar;return Ve?Ve._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Ve){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Ve:this._snackBarRefAtThisLevel=Ve}constructor(Ve,fe,Pe,Ce,me,De){this._overlay=Ve,this._live=fe,this._injector=Pe,this._breakpointObserver=Ce,this._parentSnackBar=me,this._defaultConfig=De,this._snackBarRefAtThisLevel=null}openFromComponent(Ve,fe){return this._attach(Ve,fe)}openFromTemplate(Ve,fe){return this._attach(Ve,fe)}open(Ve,fe="",Pe){const Ce={...this._defaultConfig,...Pe};return Ce.data={message:Ve,action:fe},Ce.announcementMessage===Ve&&(Ce.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,Ce)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Ve,fe){const Ce=e.zs3.create({parent:fe&&fe.viewContainerRef&&fe.viewContainerRef.injector||this._injector,providers:[{provide:I,useValue:fe}]}),me=new x.C5(this.snackBarContainerComponent,fe.viewContainerRef,Ce),De=Ve.attach(me);return De.instance.snackBarConfig=fe,De.instance}_attach(Ve,fe){const Pe={...new I,...this._defaultConfig,...fe},Ce=this._createOverlay(Pe),me=this._attachSnackBarContainer(Ce,Pe),De=new O(me,Ce);if(Ve instanceof e.Rgc){const Re=new x.UE(Ve,null,{$implicit:Pe.data,snackBarRef:De});De.instance=me.attachTemplatePortal(Re)}else{const Re=this._createInjector(Pe,De),Fe=new x.C5(Ve,void 0,Re),Ne=me.attachComponentPortal(Fe);De.instance=Ne.instance}return this._breakpointObserver.observe(h.u3.HandsetPortrait).pipe((0,d.R)(Ce.detachments())).subscribe(Re=>{Ce.overlayElement.classList.toggle(this.handsetCssClass,Re.matches)}),Pe.announcementMessage&&me._onAnnounce.subscribe(()=>{this._live.announce(Pe.announcementMessage,Pe.politeness)}),this._animateSnackBar(De,Pe),this._openedSnackBarRef=De,this._openedSnackBarRef}_animateSnackBar(Ve,fe){Ve.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Ve&&(this._openedSnackBarRef=null),fe.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Ve.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Ve.containerInstance.enter(),fe.duration&&fe.duration>0&&Ve.afterOpened().subscribe(()=>Ve._dismissAfter(fe.duration))}_createOverlay(Ve){const fe=new p.X_;fe.direction=Ve.direction;let Pe=this._overlay.position().global();const Ce="rtl"===Ve.direction,me="left"===Ve.horizontalPosition||"start"===Ve.horizontalPosition&&!Ce||"end"===Ve.horizontalPosition&&Ce,De=!me&&"center"!==Ve.horizontalPosition;return me?Pe.left("0"):De?Pe.right("0"):Pe.centerHorizontally(),"top"===Ve.verticalPosition?Pe.top("0"):Pe.bottom("0"),fe.positionStrategy=Pe,this._overlay.create(fe)}_createInjector(Ve,fe){return e.zs3.create({parent:Ve&&Ve.viewContainerRef&&Ve.viewContainerRef.injector||this._injector,providers:[{provide:O,useValue:fe},{provide:D,useValue:Ve.data}]})}static#e=this.\u0275fac=function(fe){return new(fe||Ee)(e.LFG(p.aV),e.LFG(i.Kd),e.LFG(e.zs3),e.LFG(h.Yg),e.LFG(Ee,12),e.LFG(W))};static#t=this.\u0275prov=e.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})(),le=(()=>{class Ee extends Se{constructor(Ve,fe,Pe,Ce,me,De){super(Ve,fe,Pe,Ce,me,De),this.simpleSnackBarComponent=U,this.snackBarContainerComponent=Me,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(fe){return new(fe||Ee)(e.LFG(p.aV),e.LFG(i.Kd),e.LFG(e.zs3),e.LFG(h.Yg),e.LFG(Ee,12),e.LFG(W))};static#t=this.\u0275prov=e.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:J})}return Ee})()},3566:(Hn,Xe,v)=>{"use strict";v.d(Xe,{JX:()=>Me,YE:()=>D,nU:()=>te});var e=v(5879),n=v(4300),b=v(2495),A=v(6028),_=v(3680),x=v(8645),w=v(3019),g=v(6825),d=v(6814);const i=["mat-sort-header",""];function h(J,ce){if(1&J){const W=e.EpF();e.TgZ(0,"div",3),e.NdJ("@arrowPosition.start",function(){e.CHM(W);const le=e.oxw();return e.KtG(le._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){e.CHM(W);const le=e.oxw();return e.KtG(le._disableViewStateAnimation=!1)}),e._UZ(1,"div",4),e.TgZ(2,"div",5),e._UZ(3,"div",6)(4,"div",7)(5,"div",8),e.qZA()()}if(2&J){const W=e.oxw();e.Q6J("@arrowOpacity",W._getArrowViewState())("@arrowPosition",W._getArrowViewState())("@allowChildren",W._getArrowDirectionState()),e.xp6(2),e.Q6J("@indicator",W._getArrowDirectionState()),e.xp6(1),e.Q6J("@leftPointer",W._getArrowDirectionState()),e.xp6(1),e.Q6J("@rightPointer",W._getArrowDirectionState())}}const p=["*"],F=new e.OlP("MAT_SORT_DEFAULT_OPTIONS"),O=(0,_.dB)((0,_.Id)(class{}));let D=(()=>{class J extends O{get direction(){return this._direction}set direction(W){this._direction=W}get disableClear(){return this._disableClear}set disableClear(W){this._disableClear=(0,b.Ig)(W)}constructor(W){super(),this._defaultOptions=W,this.sortables=new Map,this._stateChanges=new x.x,this.start="asc",this._direction="",this.sortChange=new e.vpe}register(W){this.sortables.set(W.id,W)}deregister(W){this.sortables.delete(W.id)}sort(W){this.active!=W.id?(this.active=W.id,this.direction=W.start?W.start:this.start):this.direction=this.getNextSortDirection(W),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(W){if(!W)return"";let le=function I(J,ce){let W=["asc","desc"];return"desc"==J&&W.reverse(),ce||W.push(""),W}(W.start||this.start,W?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),Ee=le.indexOf(this.direction)+1;return Ee>=le.length&&(Ee=0),le[Ee]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(Se){return new(Se||J)(e.Y36(F,8))};static#t=this.\u0275dir=e.lG2({type:J,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[e.qOj,e.TTD]})}return J})();const S=_.mZ.ENTERING+" "+_.yN.STANDARD_CURVE,L={indicator:(0,g.X$)("indicator",[(0,g.SB)("active-asc, asc",(0,g.oB)({transform:"translateY(0px)"})),(0,g.SB)("active-desc, desc",(0,g.oB)({transform:"translateY(10px)"})),(0,g.eR)("active-asc <=> active-desc",(0,g.jt)(S))]),leftPointer:(0,g.X$)("leftPointer",[(0,g.SB)("active-asc, asc",(0,g.oB)({transform:"rotate(-45deg)"})),(0,g.SB)("active-desc, desc",(0,g.oB)({transform:"rotate(45deg)"})),(0,g.eR)("active-asc <=> active-desc",(0,g.jt)(S))]),rightPointer:(0,g.X$)("rightPointer",[(0,g.SB)("active-asc, asc",(0,g.oB)({transform:"rotate(45deg)"})),(0,g.SB)("active-desc, desc",(0,g.oB)({transform:"rotate(-45deg)"})),(0,g.eR)("active-asc <=> active-desc",(0,g.jt)(S))]),arrowOpacity:(0,g.X$)("arrowOpacity",[(0,g.SB)("desc-to-active, asc-to-active, active",(0,g.oB)({opacity:1})),(0,g.SB)("desc-to-hint, asc-to-hint, hint",(0,g.oB)({opacity:.54})),(0,g.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,g.oB)({opacity:0})),(0,g.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,g.jt)("0ms")),(0,g.eR)("* <=> *",(0,g.jt)(S))]),arrowPosition:(0,g.X$)("arrowPosition",[(0,g.eR)("* => desc-to-hint, * => desc-to-active",(0,g.jt)(S,(0,g.F4)([(0,g.oB)({transform:"translateY(-25%)"}),(0,g.oB)({transform:"translateY(0)"})]))),(0,g.eR)("* => hint-to-desc, * => active-to-desc",(0,g.jt)(S,(0,g.F4)([(0,g.oB)({transform:"translateY(0)"}),(0,g.oB)({transform:"translateY(25%)"})]))),(0,g.eR)("* => asc-to-hint, * => asc-to-active",(0,g.jt)(S,(0,g.F4)([(0,g.oB)({transform:"translateY(25%)"}),(0,g.oB)({transform:"translateY(0)"})]))),(0,g.eR)("* => hint-to-asc, * => active-to-asc",(0,g.jt)(S,(0,g.F4)([(0,g.oB)({transform:"translateY(0)"}),(0,g.oB)({transform:"translateY(-25%)"})]))),(0,g.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,g.oB)({transform:"translateY(0)"})),(0,g.SB)("hint-to-desc, active-to-desc, desc",(0,g.oB)({transform:"translateY(-25%)"})),(0,g.SB)("hint-to-asc, active-to-asc, asc",(0,g.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,g.X$)("allowChildren",[(0,g.eR)("* <=> *",[(0,g.IO)("@*",(0,g.pV)(),{optional:!0})])])};let C=(()=>{class J{constructor(){this.changes=new x.x}static#e=this.\u0275fac=function(Se){return new(Se||J)};static#t=this.\u0275prov=e.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"})}return J})();const z={provide:C,deps:[[new e.FiY,new e.tp0,C]],useFactory:function U(J){return J||new C}},ne=(0,_.Id)(class{});let te=(()=>{class J extends ne{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(W){this._updateSortActionDescription(W)}get disableClear(){return this._disableClear}set disableClear(W){this._disableClear=(0,b.Ig)(W)}constructor(W,Se,le,Ee,xe,Ve,fe,Pe){super(),this._intl=W,this._changeDetectorRef=Se,this._sort=le,this._columnDef=Ee,this._focusMonitor=xe,this._elementRef=Ve,this._ariaDescriber=fe,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",Pe?.arrowPosition&&(this.arrowPosition=Pe?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(W=>{const Se=!!W;Se!==this._showIndicatorHint&&(this._setIndicatorHintVisible(Se),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(W){this._isDisabled()&&W||(this._showIndicatorHint=W,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(W){this._viewState=W||{},this._disableViewStateAnimation&&(this._viewState={toState:W.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(W){!this._isDisabled()&&(W.keyCode===A.L_||W.keyCode===A.K5)&&(W.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const W=this._viewState.fromState;return(W?`${W}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(W){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,W)),this._sortActionDescription=W}_handleStateChanges(){this._rerenderSubscription=(0,w.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(Se){return new(Se||J)(e.Y36(C),e.Y36(e.sBO),e.Y36(D,8),e.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),e.Y36(n.tE),e.Y36(e.SBq),e.Y36(n.$s,8),e.Y36(F,8))};static#t=this.\u0275cmp=e.Xpm({type:J,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(Se,le){1&Se&&e.NdJ("click",function(){return le._handleClick()})("keydown",function(xe){return le._handleKeydown(xe)})("mouseenter",function(){return le._setIndicatorHintVisible(!0)})("mouseleave",function(){return le._setIndicatorHintVisible(!1)}),2&Se&&(e.uIk("aria-sort",le._getAriaSortAttribute()),e.ekj("mat-sort-header-disabled",le._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[e.qOj],attrs:i,ngContentSelectors:p,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(Se,le){1&Se&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.Hsn(2),e.qZA(),e.YNc(3,h,6,6,"div",2),e.qZA()),2&Se&&(e.ekj("mat-sort-header-sorted",le._isSorted())("mat-sort-header-position-before","before"===le.arrowPosition),e.uIk("tabindex",le._isDisabled()?null:0)("role",le._isDisabled()?null:"button"),e.xp6(3),e.Q6J("ngIf",le._renderArrow()))},dependencies:[d.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[L.indicator,L.leftPointer,L.rightPointer,L.arrowOpacity,L.arrowPosition,L.allowChildren]},changeDetection:0})}return J})(),Me=(()=>{class J{static#e=this.\u0275fac=function(Se){return new(Se||J)};static#t=this.\u0275mod=e.oAB({type:J});static#n=this.\u0275inj=e.cJS({providers:[z],imports:[d.ez,_.BQ]})}return J})()},5313:(Hn,Xe,v)=>{"use strict";v.d(Xe,{ev:()=>qt,Dz:()=>Ke,w1:()=>yt,ge:()=>mt,fO:()=>rt,XQ:()=>Tn,as:()=>fn,Ee:()=>Zn,Gk:()=>Gn,nj:()=>gn,BZ:()=>ke,by:()=>St,p0:()=>un});var e=v(5879),n=v(9388),b=v(2495),A=v(8337),_=v(2831),x=v(799),w=v(6814),g=v(8645),d=v(2459),i=v(5619),h=v(2664),p=v(2096),T=v(9773),B=v(8180);const P=[[["caption"]],[["colgroup"],["col"]]],k=["caption","colgroup, col"];function D(dt){return class extends dt{get sticky(){return this._sticky}set sticky(hn){const $e=this._sticky;this._sticky=(0,b.Ig)(hn),this._hasStickyChanged=$e!==this._sticky}hasStickyChanged(){const hn=this._hasStickyChanged;return this._hasStickyChanged=!1,hn}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...hn){super(...hn),this._sticky=!1,this._hasStickyChanged=!1}}}const I=new e.OlP("CDK_TABLE");let L=(()=>{class dt{constructor($e){this.template=$e}static#e=this.\u0275fac=function(Tt){return new(Tt||dt)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","cdkCellDef",""]]})}return dt})(),C=(()=>{class dt{constructor($e){this.template=$e}static#e=this.\u0275fac=function(Tt){return new(Tt||dt)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","cdkHeaderCellDef",""]]})}return dt})(),U=(()=>{class dt{constructor($e){this.template=$e}static#e=this.\u0275fac=function(Tt){return new(Tt||dt)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","cdkFooterCellDef",""]]})}return dt})();class z{}const ne=D(z);let te=(()=>{class dt extends ne{get name(){return this._name}set name($e){this._setNameInput($e)}get stickyEnd(){return this._stickyEnd}set stickyEnd($e){const Tt=this._stickyEnd;this._stickyEnd=(0,b.Ig)($e),this._hasStickyChanged=Tt!==this._stickyEnd}constructor($e){super(),this._table=$e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput($e){$e&&(this._name=$e,this.cssClassFriendlyName=$e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(Tt){return new(Tt||dt)(e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","cdkColumnDef",""]],contentQueries:function(Tt,Yt,Rt){if(1&Tt&&(e.Suo(Rt,L,5),e.Suo(Rt,C,5),e.Suo(Rt,U,5)),2&Tt){let bn;e.iGM(bn=e.CRH())&&(Yt.cell=bn.first),e.iGM(bn=e.CRH())&&(Yt.headerCell=bn.first),e.iGM(bn=e.CRH())&&(Yt.footerCell=bn.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[e._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:dt}]),e.qOj]})}return dt})();class Me{constructor(hn,$e){$e.nativeElement.classList.add(...hn._columnCssClassName)}}let J=(()=>{class dt extends Me{constructor($e,Tt){super($e,Tt)}static#e=this.\u0275fac=function(Tt){return new(Tt||dt)(e.Y36(te),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[e.qOj]})}return dt})(),W=(()=>{class dt extends Me{constructor($e,Tt){if(super($e,Tt),1===$e._table?._elementRef.nativeElement.nodeType){const Yt=$e._table._elementRef.nativeElement.getAttribute("role");Tt.nativeElement.setAttribute("role","grid"===Yt||"treegrid"===Yt?"gridcell":"cell")}}static#e=this.\u0275fac=function(Tt){return new(Tt||dt)(e.Y36(te),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[e.qOj]})}return dt})();class Se{constructor(){this.tasks=[],this.endTasks=[]}}const le=new e.OlP("_COALESCED_STYLE_SCHEDULER");let Ee=(()=>{class dt{constructor($e){this._ngZone=$e,this._currentSchedule=null,this._destroyed=new g.x}schedule($e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push($e)}scheduleEnd($e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push($e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Se,this._getScheduleObservable().pipe((0,T.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const $e=this._currentSchedule;this._currentSchedule=new Se;for(const Tt of $e.tasks)Tt();for(const Tt of $e.endTasks)Tt()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,d.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,B.q)(1))}static#e=this.\u0275fac=function(Tt){return new(Tt||dt)(e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:dt,factory:dt.\u0275fac})}return dt})(),Ve=(()=>{class dt{constructor($e,Tt){this.template=$e,this._differs=Tt}ngOnChanges($e){if(!this._columnsDiffer){const Tt=$e.columns&&$e.columns.currentValue||[];this._columnsDiffer=this._differs.find(Tt).create(),this._columnsDiffer.diff(Tt)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate($e){return this instanceof Ce?$e.headerCell.template:this instanceof Re?$e.footerCell.template:$e.cell.template}static#e=this.\u0275fac=function(Tt){return new(Tt||dt)(e.Y36(e.Rgc),e.Y36(e.ZZ4))};static#t=this.\u0275dir=e.lG2({type:dt,features:[e.TTD]})}return dt})();class fe extends Ve{}const Pe=D(fe);let Ce=(()=>{class dt extends Pe{constructor($e,Tt,Yt){super($e,Tt),this._table=Yt}ngOnChanges($e){super.ngOnChanges($e)}static#e=this.\u0275fac=function(Tt){return new(Tt||dt)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[e.qOj,e.TTD]})}return dt})();class me extends Ve{}const De=D(me);let Re=(()=>{class dt extends De{constructor($e,Tt,Yt){super($e,Tt),this._table=Yt}ngOnChanges($e){super.ngOnChanges($e)}static#e=this.\u0275fac=function(Tt){return new(Tt||dt)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[e.qOj,e.TTD]})}return dt})(),Fe=(()=>{class dt extends Ve{constructor($e,Tt,Yt){super($e,Tt),this._table=Yt}static#e=this.\u0275fac=function(Tt){return new(Tt||dt)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(I,8))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[e.qOj]})}return dt})(),Ne=(()=>{class dt{static#e=this.mostRecentCellOutlet=null;constructor($e){this._viewContainer=$e,dt.mostRecentCellOutlet=this}ngOnDestroy(){dt.mostRecentCellOutlet===this&&(dt.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(Tt){return new(Tt||dt)(e.Y36(e.s_b))};static#n=this.\u0275dir=e.lG2({type:dt,selectors:[["","cdkCellOutlet",""]]})}return dt})(),at=(()=>{class dt{static#e=this.\u0275fac=function(Tt){return new(Tt||dt)};static#t=this.\u0275cmp=e.Xpm({type:dt,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Tt,Yt){1&Tt&&e.GkF(0,0)},dependencies:[Ne],encapsulation:2})}return dt})(),ye=(()=>{class dt{static#e=this.\u0275fac=function(Tt){return new(Tt||dt)};static#t=this.\u0275cmp=e.Xpm({type:dt,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Tt,Yt){1&Tt&&e.GkF(0,0)},dependencies:[Ne],encapsulation:2})}return dt})(),ve=(()=>{class dt{constructor($e){this.templateRef=$e,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(Tt){return new(Tt||dt)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["ng-template","cdkNoDataRow",""]]})}return dt})();const K=["top","bottom","left","right"];class se{constructor(hn,$e,Tt,Yt,Rt=!0,bn=!0,Lt){this._isNativeHtmlTable=hn,this._stickCellCss=$e,this.direction=Tt,this._coalescedStyleScheduler=Yt,this._isBrowser=Rt,this._needsPositionStickyOnElement=bn,this._positionListener=Lt,this._cachedCellWidths=[],this._borderCellCss={top:`${$e}-border-elem-top`,bottom:`${$e}-border-elem-bottom`,left:`${$e}-border-elem-left`,right:`${$e}-border-elem-right`}}clearStickyPositioning(hn,$e){const Tt=[];for(const Yt of hn)if(Yt.nodeType===Yt.ELEMENT_NODE){Tt.push(Yt);for(let Rt=0;Rt<Yt.children.length;Rt++)Tt.push(Yt.children[Rt])}this._coalescedStyleScheduler.schedule(()=>{for(const Yt of Tt)this._removeStickyStyle(Yt,$e)})}updateStickyColumns(hn,$e,Tt,Yt=!0){if(!hn.length||!this._isBrowser||!$e.some(Un=>Un)&&!Tt.some(Un=>Un))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const Rt=hn[0],bn=Rt.children.length,Lt=this._getCellWidths(Rt,Yt),Ct=this._getStickyStartColumnPositions(Lt,$e),Pt=this._getStickyEndColumnPositions(Lt,Tt),$t=$e.lastIndexOf(!0),_n=Tt.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const Un="rtl"===this.direction,Vn=Un?"right":"left",Ft=Un?"left":"right";for(const Cn of hn)for(let Ae=0;Ae<bn;Ae++){const Nt=Cn.children[Ae];$e[Ae]&&this._addStickyStyle(Nt,Vn,Ct[Ae],Ae===$t),Tt[Ae]&&this._addStickyStyle(Nt,Ft,Pt[Ae],Ae===_n)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===$t?[]:Lt.slice(0,$t+1).map((Cn,Ae)=>$e[Ae]?Cn:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===_n?[]:Lt.slice(_n).map((Cn,Ae)=>Tt[Ae+_n]?Cn:null).reverse()}))})}stickRows(hn,$e,Tt){if(!this._isBrowser)return;const Yt="bottom"===Tt?hn.slice().reverse():hn,Rt="bottom"===Tt?$e.slice().reverse():$e,bn=[],Lt=[],Ct=[];for(let $t=0,_n=0;$t<Yt.length;$t++){if(!Rt[$t])continue;bn[$t]=_n;const Un=Yt[$t];Ct[$t]=this._isNativeHtmlTable?Array.from(Un.children):[Un];const Vn=Un.getBoundingClientRect().height;_n+=Vn,Lt[$t]=Vn}const Pt=Rt.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let $t=0;$t<Yt.length;$t++){if(!Rt[$t])continue;const _n=bn[$t],Un=$t===Pt;for(const Vn of Ct[$t])this._addStickyStyle(Vn,Tt,_n,Un)}"top"===Tt?this._positionListener?.stickyHeaderRowsUpdated({sizes:Lt,offsets:bn,elements:Ct}):this._positionListener?.stickyFooterRowsUpdated({sizes:Lt,offsets:bn,elements:Ct})})}updateStickyFooterContainer(hn,$e){if(!this._isNativeHtmlTable)return;const Tt=hn.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{$e.some(Yt=>!Yt)?this._removeStickyStyle(Tt,["bottom"]):this._addStickyStyle(Tt,"bottom",0,!1)})}_removeStickyStyle(hn,$e){for(const Yt of $e)hn.style[Yt]="",hn.classList.remove(this._borderCellCss[Yt]);K.some(Yt=>-1===$e.indexOf(Yt)&&hn.style[Yt])?hn.style.zIndex=this._getCalculatedZIndex(hn):(hn.style.zIndex="",this._needsPositionStickyOnElement&&(hn.style.position=""),hn.classList.remove(this._stickCellCss))}_addStickyStyle(hn,$e,Tt,Yt){hn.classList.add(this._stickCellCss),Yt&&hn.classList.add(this._borderCellCss[$e]),hn.style[$e]=`${Tt}px`,hn.style.zIndex=this._getCalculatedZIndex(hn),this._needsPositionStickyOnElement&&(hn.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(hn){const $e={top:100,bottom:10,left:1,right:1};let Tt=0;for(const Yt of K)hn.style[Yt]&&(Tt+=$e[Yt]);return Tt?`${Tt}`:""}_getCellWidths(hn,$e=!0){if(!$e&&this._cachedCellWidths.length)return this._cachedCellWidths;const Tt=[],Yt=hn.children;for(let Rt=0;Rt<Yt.length;Rt++)Tt.push(Yt[Rt].getBoundingClientRect().width);return this._cachedCellWidths=Tt,Tt}_getStickyStartColumnPositions(hn,$e){const Tt=[];let Yt=0;for(let Rt=0;Rt<hn.length;Rt++)$e[Rt]&&(Tt[Rt]=Yt,Yt+=hn[Rt]);return Tt}_getStickyEndColumnPositions(hn,$e){const Tt=[];let Yt=0;for(let Rt=hn.length;Rt>0;Rt--)$e[Rt]&&(Tt[Rt]=Yt,Yt+=hn[Rt]);return Tt}}const pe=new e.OlP("CDK_SPL");let be=(()=>{class dt{constructor($e,Tt){this.viewContainer=$e,this.elementRef=Tt}static#e=this.\u0275fac=function(Tt){return new(Tt||dt)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","rowOutlet",""]]})}return dt})(),Le=(()=>{class dt{constructor($e,Tt){this.viewContainer=$e,this.elementRef=Tt}static#e=this.\u0275fac=function(Tt){return new(Tt||dt)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","headerRowOutlet",""]]})}return dt})(),et=(()=>{class dt{constructor($e,Tt){this.viewContainer=$e,this.elementRef=Tt}static#e=this.\u0275fac=function(Tt){return new(Tt||dt)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","footerRowOutlet",""]]})}return dt})(),Qe=(()=>{class dt{constructor($e,Tt){this.viewContainer=$e,this.elementRef=Tt}static#e=this.\u0275fac=function(Tt){return new(Tt||dt)(e.Y36(e.s_b),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","noDataRowOutlet",""]]})}return dt})(),ze=(()=>{class dt{get trackBy(){return this._trackByFn}set trackBy($e){this._trackByFn=$e}get dataSource(){return this._dataSource}set dataSource($e){this._dataSource!==$e&&this._switchDataSource($e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows($e){this._multiTemplateDataRows=(0,b.Ig)($e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout($e){this._fixedLayout=(0,b.Ig)($e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor($e,Tt,Yt,Rt,bn,Lt,Ct,Pt,$t,_n,Un,Vn){this._differs=$e,this._changeDetectorRef=Tt,this._elementRef=Yt,this._dir=bn,this._platform=Ct,this._viewRepeater=Pt,this._coalescedStyleScheduler=$t,this._viewportRuler=_n,this._stickyPositioningListener=Un,this._ngZone=Vn,this._onDestroy=new g.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new e.vpe,this.viewChange=new i.X({start:0,end:Number.MAX_VALUE}),Rt||this._elementRef.nativeElement.setAttribute("role","table"),this._document=Lt,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create(($e,Tt)=>this.trackBy?this.trackBy(Tt.dataIndex,Tt.data):Tt),this._viewportRuler.change().pipe((0,T.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const Tt=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||Tt,this._forceRecalculateCellWidths=Tt,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach($e=>{$e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,A.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const $e=this._dataDiffer.diff(this._renderRows);if(!$e)return this._updateNoDataRow(),void this.contentChanged.next();const Tt=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges($e,Tt,(Yt,Rt,bn)=>this._getEmbeddedViewArgs(Yt.item,bn),Yt=>Yt.item.data,Yt=>{1===Yt.operation&&Yt.context&&this._renderCellTemplateForItem(Yt.record.item.rowDef,Yt.context)}),this._updateRowIndexContext(),$e.forEachIdentityChange(Yt=>{Tt.get(Yt.currentIndex).context.$implicit=Yt.item.data}),this._updateNoDataRow(),this._ngZone&&e.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,B.q)(1),(0,T.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef($e){this._customColumnDefs.add($e)}removeColumnDef($e){this._customColumnDefs.delete($e)}addRowDef($e){this._customRowDefs.add($e)}removeRowDef($e){this._customRowDefs.delete($e)}addHeaderRowDef($e){this._customHeaderRowDefs.add($e),this._headerRowDefChanged=!0}removeHeaderRowDef($e){this._customHeaderRowDefs.delete($e),this._headerRowDefChanged=!0}addFooterRowDef($e){this._customFooterRowDefs.add($e),this._footerRowDefChanged=!0}removeFooterRowDef($e){this._customFooterRowDefs.delete($e),this._footerRowDefChanged=!0}setNoDataRow($e){this._customNoDataRow=$e}updateStickyHeaderRowStyles(){const $e=this._getRenderedRows(this._headerRowOutlet),Yt=this._elementRef.nativeElement.querySelector("thead");Yt&&(Yt.style.display=$e.length?"":"none");const Rt=this._headerRowDefs.map(bn=>bn.sticky);this._stickyStyler.clearStickyPositioning($e,["top"]),this._stickyStyler.stickRows($e,Rt,"top"),this._headerRowDefs.forEach(bn=>bn.resetStickyChanged())}updateStickyFooterRowStyles(){const $e=this._getRenderedRows(this._footerRowOutlet),Yt=this._elementRef.nativeElement.querySelector("tfoot");Yt&&(Yt.style.display=$e.length?"":"none");const Rt=this._footerRowDefs.map(bn=>bn.sticky);this._stickyStyler.clearStickyPositioning($e,["bottom"]),this._stickyStyler.stickRows($e,Rt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,Rt),this._footerRowDefs.forEach(bn=>bn.resetStickyChanged())}updateStickyColumnStyles(){const $e=this._getRenderedRows(this._headerRowOutlet),Tt=this._getRenderedRows(this._rowOutlet),Yt=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...$e,...Tt,...Yt],["left","right"]),this._stickyColumnStylesNeedReset=!1),$e.forEach((Rt,bn)=>{this._addStickyColumnStyles([Rt],this._headerRowDefs[bn])}),this._rowDefs.forEach(Rt=>{const bn=[];for(let Lt=0;Lt<Tt.length;Lt++)this._renderRows[Lt].rowDef===Rt&&bn.push(Tt[Lt]);this._addStickyColumnStyles(bn,Rt)}),Yt.forEach((Rt,bn)=>{this._addStickyColumnStyles([Rt],this._footerRowDefs[bn])}),Array.from(this._columnDefsByName.values()).forEach(Rt=>Rt.resetStickyChanged())}_getAllRenderRows(){const $e=[],Tt=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Yt=0;Yt<this._data.length;Yt++){let Rt=this._data[Yt];const bn=this._getRenderRowsForData(Rt,Yt,Tt.get(Rt));this._cachedRenderRowsMap.has(Rt)||this._cachedRenderRowsMap.set(Rt,new WeakMap);for(let Lt=0;Lt<bn.length;Lt++){let Ct=bn[Lt];const Pt=this._cachedRenderRowsMap.get(Ct.data);Pt.has(Ct.rowDef)?Pt.get(Ct.rowDef).push(Ct):Pt.set(Ct.rowDef,[Ct]),$e.push(Ct)}}return $e}_getRenderRowsForData($e,Tt,Yt){return this._getRowDefs($e,Tt).map(bn=>{const Lt=Yt&&Yt.has(bn)?Yt.get(bn):[];if(Lt.length){const Ct=Lt.shift();return Ct.dataIndex=Tt,Ct}return{data:$e,rowDef:bn,dataIndex:Tt}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ht(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(Tt=>{this._columnDefsByName.has(Tt.name),this._columnDefsByName.set(Tt.name,Tt)})}_cacheRowDefs(){this._headerRowDefs=ht(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ht(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ht(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const $e=this._rowDefs.filter(Tt=>!Tt.when);this._defaultRowDef=$e[0]}_renderUpdatedColumns(){const $e=(bn,Lt)=>bn||!!Lt.getColumnsDiff(),Tt=this._rowDefs.reduce($e,!1);Tt&&this._forceRenderDataRows();const Yt=this._headerRowDefs.reduce($e,!1);Yt&&this._forceRenderHeaderRows();const Rt=this._footerRowDefs.reduce($e,!1);return Rt&&this._forceRenderFooterRows(),Tt||Yt||Rt}_switchDataSource($e){this._data=[],(0,A.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),$e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=$e}_observeRenderChanges(){if(!this.dataSource)return;let $e;(0,A.Z9)(this.dataSource)?$e=this.dataSource.connect(this):(0,h.b)(this.dataSource)?$e=this.dataSource:Array.isArray(this.dataSource)&&($e=(0,p.of)(this.dataSource)),this._renderChangeSubscription=$e.pipe((0,T.R)(this._onDestroy)).subscribe(Tt=>{this._data=Tt||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach(($e,Tt)=>this._renderRow(this._headerRowOutlet,$e,Tt)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach(($e,Tt)=>this._renderRow(this._footerRowOutlet,$e,Tt)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles($e,Tt){const Yt=Array.from(Tt.columns||[]).map(Lt=>this._columnDefsByName.get(Lt)),Rt=Yt.map(Lt=>Lt.sticky),bn=Yt.map(Lt=>Lt.stickyEnd);this._stickyStyler.updateStickyColumns($e,Rt,bn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows($e){const Tt=[];for(let Yt=0;Yt<$e.viewContainer.length;Yt++){const Rt=$e.viewContainer.get(Yt);Tt.push(Rt.rootNodes[0])}return Tt}_getRowDefs($e,Tt){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Yt=[];if(this.multiTemplateDataRows)Yt=this._rowDefs.filter(Rt=>!Rt.when||Rt.when(Tt,$e));else{let Rt=this._rowDefs.find(bn=>bn.when&&bn.when(Tt,$e))||this._defaultRowDef;Rt&&Yt.push(Rt)}return Yt}_getEmbeddedViewArgs($e,Tt){return{templateRef:$e.rowDef.template,context:{$implicit:$e.data},index:Tt}}_renderRow($e,Tt,Yt,Rt={}){const bn=$e.viewContainer.createEmbeddedView(Tt.template,Rt,Yt);return this._renderCellTemplateForItem(Tt,Rt),bn}_renderCellTemplateForItem($e,Tt){for(let Yt of this._getCellTemplates($e))Ne.mostRecentCellOutlet&&Ne.mostRecentCellOutlet._viewContainer.createEmbeddedView(Yt,Tt);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const $e=this._rowOutlet.viewContainer;for(let Tt=0,Yt=$e.length;Tt<Yt;Tt++){const bn=$e.get(Tt).context;bn.count=Yt,bn.first=0===Tt,bn.last=Tt===Yt-1,bn.even=Tt%2==0,bn.odd=!bn.even,this.multiTemplateDataRows?(bn.dataIndex=this._renderRows[Tt].dataIndex,bn.renderIndex=Tt):bn.index=this._renderRows[Tt].dataIndex}}_getCellTemplates($e){return $e&&$e.columns?Array.from($e.columns,Tt=>{const Yt=this._columnDefsByName.get(Tt);return $e.extractCellTemplate(Yt)}):[]}_applyNativeTableSections(){const $e=this._document.createDocumentFragment(),Tt=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const Yt of Tt){const Rt=this._document.createElement(Yt.tag);Rt.setAttribute("role","rowgroup");for(const bn of Yt.outlets)Rt.appendChild(bn.elementRef.nativeElement);$e.appendChild(Rt)}this._elementRef.nativeElement.appendChild($e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const $e=(Tt,Yt)=>Tt||Yt.hasStickyChanged();this._headerRowDefs.reduce($e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce($e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce($e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new se(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,p.of)()).pipe((0,T.R)(this._onDestroy)).subscribe(Tt=>{this._stickyStyler.direction=Tt,this.updateStickyColumnStyles()})}_getOwnDefs($e){return $e.filter(Tt=>!Tt._table||Tt._table===this)}_updateNoDataRow(){const $e=this._customNoDataRow||this._noDataRow;if(!$e)return;const Tt=0===this._rowOutlet.viewContainer.length;if(Tt===this._isShowingNoDataRow)return;const Yt=this._noDataRowOutlet.viewContainer;if(Tt){const Rt=Yt.createEmbeddedView($e.templateRef),bn=Rt.rootNodes[0];1===Rt.rootNodes.length&&bn?.nodeType===this._document.ELEMENT_NODE&&(bn.setAttribute("role","row"),bn.classList.add($e._contentClassName))}else Yt.clear();this._isShowingNoDataRow=Tt}static#e=this.\u0275fac=function(Tt){return new(Tt||dt)(e.Y36(e.ZZ4),e.Y36(e.sBO),e.Y36(e.SBq),e.$8M("role"),e.Y36(n.Is,8),e.Y36(w.K0),e.Y36(_.t4),e.Y36(A.k),e.Y36(le),e.Y36(x.rL),e.Y36(pe,12),e.Y36(e.R0b,8))};static#t=this.\u0275cmp=e.Xpm({type:dt,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(Tt,Yt,Rt){if(1&Tt&&(e.Suo(Rt,ve,5),e.Suo(Rt,te,5),e.Suo(Rt,Fe,5),e.Suo(Rt,Ce,5),e.Suo(Rt,Re,5)),2&Tt){let bn;e.iGM(bn=e.CRH())&&(Yt._noDataRow=bn.first),e.iGM(bn=e.CRH())&&(Yt._contentColumnDefs=bn),e.iGM(bn=e.CRH())&&(Yt._contentRowDefs=bn),e.iGM(bn=e.CRH())&&(Yt._contentHeaderRowDefs=bn),e.iGM(bn=e.CRH())&&(Yt._contentFooterRowDefs=bn)}},viewQuery:function(Tt,Yt){if(1&Tt&&(e.Gf(be,7),e.Gf(Le,7),e.Gf(et,7),e.Gf(Qe,7)),2&Tt){let Rt;e.iGM(Rt=e.CRH())&&(Yt._rowOutlet=Rt.first),e.iGM(Rt=e.CRH())&&(Yt._headerRowOutlet=Rt.first),e.iGM(Rt=e.CRH())&&(Yt._footerRowOutlet=Rt.first),e.iGM(Rt=e.CRH())&&(Yt._noDataRowOutlet=Rt.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(Tt,Yt){2&Tt&&e.ekj("cdk-table-fixed-layout",Yt.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[e._Bn([{provide:I,useExisting:dt},{provide:A.k,useClass:A.yy},{provide:le,useClass:Ee},{provide:pe,useValue:null}])],ngContentSelectors:k,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Tt,Yt){1&Tt&&(e.F$t(P),e.Hsn(0),e.Hsn(1,1),e.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[be,Le,et,Qe],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return dt})();function ht(dt,hn){return dt.concat(Array.from(hn))}let He=(()=>{class dt{static#e=this.\u0275fac=function(Tt){return new(Tt||dt)};static#t=this.\u0275mod=e.oAB({type:dt});static#n=this.\u0275inj=e.cJS({imports:[x.Cl]})}return dt})();var bt=v(3680),Ut=v(3019),Zt=v(2572),Kt=v(7398);const pn=[[["caption"]],[["colgroup"],["col"]]],rn=["caption","colgroup, col"];let ke=(()=>{class dt extends ze{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let $e;return function(Yt){return($e||($e=e.n5z(dt)))(Yt||dt)}}();static#t=this.\u0275cmp=e.Xpm({type:dt,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(Tt,Yt){2&Tt&&e.ekj("mdc-table-fixed-layout",Yt.fixedLayout)},exportAs:["matTable"],features:[e._Bn([{provide:ze,useExisting:dt},{provide:I,useExisting:dt},{provide:le,useClass:Ee},{provide:A.k,useClass:A.yy},{provide:pe,useValue:null}]),e.qOj],ngContentSelectors:rn,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Tt,Yt){1&Tt&&(e.F$t(pn),e.Hsn(0),e.Hsn(1,1),e.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[be,Le,et,Qe],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child>.mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return dt})(),Ke=(()=>{class dt extends L{static#e=this.\u0275fac=function(){let $e;return function(Yt){return($e||($e=e.n5z(dt)))(Yt||dt)}}();static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","matCellDef",""]],features:[e._Bn([{provide:L,useExisting:dt}]),e.qOj]})}return dt})(),rt=(()=>{class dt extends C{static#e=this.\u0275fac=function(){let $e;return function(Yt){return($e||($e=e.n5z(dt)))(Yt||dt)}}();static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","matHeaderCellDef",""]],features:[e._Bn([{provide:C,useExisting:dt}]),e.qOj]})}return dt})(),yt=(()=>{class dt extends te{get name(){return this._name}set name($e){this._setNameInput($e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let $e;return function(Yt){return($e||($e=e.n5z(dt)))(Yt||dt)}}();static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[e._Bn([{provide:te,useExisting:dt},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:dt}]),e.qOj]})}return dt})(),mt=(()=>{class dt extends J{static#e=this.\u0275fac=function(){let $e;return function(Yt){return($e||($e=e.n5z(dt)))(Yt||dt)}}();static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[e.qOj]})}return dt})(),qt=(()=>{class dt extends W{static#e=this.\u0275fac=function(){let $e;return function(Yt){return($e||($e=e.n5z(dt)))(Yt||dt)}}();static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[e.qOj]})}return dt})(),fn=(()=>{class dt extends Ce{static#e=this.\u0275fac=function(){let $e;return function(Yt){return($e||($e=e.n5z(dt)))(Yt||dt)}}();static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[e._Bn([{provide:Ce,useExisting:dt}]),e.qOj]})}return dt})(),gn=(()=>{class dt extends Fe{static#e=this.\u0275fac=function(){let $e;return function(Yt){return($e||($e=e.n5z(dt)))(Yt||dt)}}();static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[e._Bn([{provide:Fe,useExisting:dt}]),e.qOj]})}return dt})(),Tn=(()=>{class dt extends at{static#e=this.\u0275fac=function(){let $e;return function(Yt){return($e||($e=e.n5z(dt)))(Yt||dt)}}();static#t=this.\u0275cmp=e.Xpm({type:dt,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[e._Bn([{provide:at,useExisting:dt}]),e.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Tt,Yt){1&Tt&&e.GkF(0,0)},dependencies:[Ne],encapsulation:2})}return dt})(),Gn=(()=>{class dt extends ye{static#e=this.\u0275fac=function(){let $e;return function(Yt){return($e||($e=e.n5z(dt)))(Yt||dt)}}();static#t=this.\u0275cmp=e.Xpm({type:dt,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[e._Bn([{provide:ye,useExisting:dt}]),e.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Tt,Yt){1&Tt&&e.GkF(0,0)},dependencies:[Ne],encapsulation:2})}return dt})(),Zn=(()=>{class dt extends ve{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}static#e=this.\u0275fac=function(){let $e;return function(Yt){return($e||($e=e.n5z(dt)))(Yt||dt)}}();static#t=this.\u0275dir=e.lG2({type:dt,selectors:[["ng-template","matNoDataRow",""]],features:[e._Bn([{provide:ve,useExisting:dt}]),e.qOj]})}return dt})(),un=(()=>{class dt{static#e=this.\u0275fac=function(Tt){return new(Tt||dt)};static#t=this.\u0275mod=e.oAB({type:dt});static#n=this.\u0275inj=e.cJS({imports:[bt.BQ,He,bt.BQ]})}return dt})();class cn extends A.o2{get data(){return this._data.value}set data(hn){hn=Array.isArray(hn)?hn:[],this._data.next(hn),this._renderChangesSubscription||this._filterData(hn)}get filter(){return this._filter.value}set filter(hn){this._filter.next(hn),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(hn){this._sort=hn,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(hn){this._paginator=hn,this._updateChangeSubscription()}constructor(hn=[]){super(),this._renderData=new i.X([]),this._filter=new i.X(""),this._internalPageChanges=new g.x,this._renderChangesSubscription=null,this.sortingDataAccessor=($e,Tt)=>{const Yt=$e[Tt];if((0,b.t6)(Yt)){const Rt=Number(Yt);return Rt<9007199254740991?Rt:Yt}return Yt},this.sortData=($e,Tt)=>{const Yt=Tt.active,Rt=Tt.direction;return Yt&&""!=Rt?$e.sort((bn,Lt)=>{let Ct=this.sortingDataAccessor(bn,Yt),Pt=this.sortingDataAccessor(Lt,Yt);const $t=typeof Ct,_n=typeof Pt;$t!==_n&&("number"===$t&&(Ct+=""),"number"===_n&&(Pt+=""));let Un=0;return null!=Ct&&null!=Pt?Ct>Pt?Un=1:Ct<Pt&&(Un=-1):null!=Ct?Un=1:null!=Pt&&(Un=-1),Un*("asc"==Rt?1:-1)}):$e},this.filterPredicate=($e,Tt)=>{const Yt=Object.keys($e).reduce((bn,Lt)=>bn+$e[Lt]+"\u25ec","").toLowerCase(),Rt=Tt.trim().toLowerCase();return-1!=Yt.indexOf(Rt)},this._data=new i.X(hn),this._updateChangeSubscription()}_updateChangeSubscription(){const hn=this._sort?(0,Ut.T)(this._sort.sortChange,this._sort.initialized):(0,p.of)(null),$e=this._paginator?(0,Ut.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,p.of)(null),Yt=(0,Zt.a)([this._data,this._filter]).pipe((0,Kt.U)(([Lt])=>this._filterData(Lt))),Rt=(0,Zt.a)([Yt,hn]).pipe((0,Kt.U)(([Lt])=>this._orderData(Lt))),bn=(0,Zt.a)([Rt,$e]).pipe((0,Kt.U)(([Lt])=>this._pageData(Lt)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=bn.subscribe(Lt=>this._renderData.next(Lt))}_filterData(hn){return this.filteredData=null==this.filter||""===this.filter?hn:hn.filter($e=>this.filterPredicate($e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(hn){return this.sort?this.sortData(hn.slice(),this.sort):hn}_pageData(hn){if(!this.paginator)return hn;const $e=this.paginator.pageIndex*this.paginator.pageSize;return hn.slice($e,$e+this.paginator.pageSize)}_updatePaginator(hn){Promise.resolve().then(()=>{const $e=this.paginator;if($e&&($e.length=hn,$e.pageIndex>0)){const Tt=Math.ceil($e.length/$e.pageSize)-1||0,Yt=Math.min($e.pageIndex,Tt);Yt!==$e.pageIndex&&($e.pageIndex=Yt,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class St extends cn{}},2596:(Hn,Xe,v)=>{"use strict";v.d(Xe,{AV:()=>fe,gM:()=>le});var e=v(9773),n=v(8180),b=v(2495),A=v(6028),_=v(5879),x=v(6814),w=v(2831),g=v(4300),d=v(9388),i=v(3651),h=v(799),p=v(8484),T=v(8645),P=(v(6825),v(3680));const k=["tooltip"],D=new _.OlP("mat-tooltip-scroll-strategy"),S={provide:D,deps:[i.aV],useFactory:function I(Pe){return()=>Pe.scrollStrategies.reposition({scrollThrottle:20})}},C=new _.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function L(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),z="tooltip-panel",ne=(0,w.i$)({passive:!0});let Se=(()=>{class Pe{get position(){return this._position}set position(me){me!==this._position&&(this._position=me,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(me){this._positionAtOrigin=(0,b.Ig)(me),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(me){this._disabled=(0,b.Ig)(me),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(me){this._showDelay=(0,b.su)(me)}get hideDelay(){return this._hideDelay}set hideDelay(me){this._hideDelay=(0,b.su)(me),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(me){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=me?String(me).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(me){this._tooltipClass=me,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(me,De,Re,Fe,Ne,at,Be,ye,ve,K,se,ge){this._overlay=me,this._elementRef=De,this._scrollDispatcher=Re,this._viewContainerRef=Fe,this._ngZone=Ne,this._platform=at,this._ariaDescriber=Be,this._focusMonitor=ye,this._dir=K,this._defaultOptions=se,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new T.x,this._scrollStrategy=ve,this._document=ge,se&&(this._showDelay=se.showDelay,this._hideDelay=se.hideDelay,se.position&&(this.position=se.position),se.positionAtOrigin&&(this.positionAtOrigin=se.positionAtOrigin),se.touchGestures&&(this.touchGestures=se.touchGestures)),K.change.pipe((0,e.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,e.R)(this._destroyed)).subscribe(me=>{me?"keyboard"===me&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const me=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([De,Re])=>{me.removeEventListener(De,Re,ne)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(me,this.message,"tooltip"),this._focusMonitor.stopMonitoring(me)}show(me=this.showDelay,De){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const Re=this._createOverlay(De);this._detach(),this._portal=this._portal||new p.C5(this._tooltipComponent,this._viewContainerRef);const Fe=this._tooltipInstance=Re.attach(this._portal).instance;Fe._triggerElement=this._elementRef.nativeElement,Fe._mouseLeaveHideDelay=this._hideDelay,Fe.afterHidden().pipe((0,e.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),Fe.show(me)}hide(me=this.hideDelay){const De=this._tooltipInstance;De&&(De.isVisible()?De.hide(me):(De._cancelPendingAnimations(),this._detach()))}toggle(me){this._isTooltipVisible()?this.hide():this.show(void 0,me)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(me){if(this._overlayRef){const Fe=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!me)&&Fe._origin instanceof _.SBq)return this._overlayRef;this._detach()}const De=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),Re=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&me||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(De);return Re.positionChanges.pipe((0,e.R)(this._destroyed)).subscribe(Fe=>{this._updateCurrentPositionClass(Fe.connectionPair),this._tooltipInstance&&Fe.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:Re,panelClass:`${this._cssClassPrefix}-${z}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,e.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,e.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,e.R)(this._destroyed)).subscribe(Fe=>{this._isTooltipVisible()&&Fe.keyCode===A.hY&&!(0,A.Vb)(Fe)&&(Fe.preventDefault(),Fe.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(me){const De=me.getConfig().positionStrategy,Re=this._getOrigin(),Fe=this._getOverlayPosition();De.withPositions([this._addOffset({...Re.main,...Fe.main}),this._addOffset({...Re.fallback,...Fe.fallback})])}_addOffset(me){return me}_getOrigin(){const me=!this._dir||"ltr"==this._dir.value,De=this.position;let Re;"above"==De||"below"==De?Re={originX:"center",originY:"above"==De?"top":"bottom"}:"before"==De||"left"==De&&me||"right"==De&&!me?Re={originX:"start",originY:"center"}:("after"==De||"right"==De&&me||"left"==De&&!me)&&(Re={originX:"end",originY:"center"});const{x:Fe,y:Ne}=this._invertPosition(Re.originX,Re.originY);return{main:Re,fallback:{originX:Fe,originY:Ne}}}_getOverlayPosition(){const me=!this._dir||"ltr"==this._dir.value,De=this.position;let Re;"above"==De?Re={overlayX:"center",overlayY:"bottom"}:"below"==De?Re={overlayX:"center",overlayY:"top"}:"before"==De||"left"==De&&me||"right"==De&&!me?Re={overlayX:"end",overlayY:"center"}:("after"==De||"right"==De&&me||"left"==De&&!me)&&(Re={overlayX:"start",overlayY:"center"});const{x:Fe,y:Ne}=this._invertPosition(Re.overlayX,Re.overlayY);return{main:Re,fallback:{overlayX:Fe,overlayY:Ne}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,n.q)(1),(0,e.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(me){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=me,this._tooltipInstance._markForCheck())}_invertPosition(me,De){return"above"===this.position||"below"===this.position?"top"===De?De="bottom":"bottom"===De&&(De="top"):"end"===me?me="start":"start"===me&&(me="end"),{x:me,y:De}}_updateCurrentPositionClass(me){const{overlayY:De,originX:Re,originY:Fe}=me;let Ne;if(Ne="center"===De?this._dir&&"rtl"===this._dir.value?"end"===Re?"left":"right":"start"===Re?"left":"right":"bottom"===De&&"top"===Fe?"above":"below",Ne!==this._currentPosition){const at=this._overlayRef;if(at){const Be=`${this._cssClassPrefix}-${z}-`;at.removePanelClass(Be+this._currentPosition),at.addPanelClass(Be+Ne)}this._currentPosition=Ne}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",me=>{let De;this._setupPointerExitEventsIfNeeded(),void 0!==me.x&&void 0!==me.y&&(De=me),this.show(void 0,De)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",me=>{const De=me.targetTouches?.[0],Re=De?{x:De.clientX,y:De.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,Re),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const me=[];if(this._platformSupportsMouseEvents())me.push(["mouseleave",De=>{const Re=De.relatedTarget;(!Re||!this._overlayRef?.overlayElement.contains(Re))&&this.hide()}],["wheel",De=>this._wheelListener(De)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const De=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};me.push(["touchend",De],["touchcancel",De])}this._addListeners(me),this._passiveListeners.push(...me)}_addListeners(me){me.forEach(([De,Re])=>{this._elementRef.nativeElement.addEventListener(De,Re,ne)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(me){if(this._isTooltipVisible()){const De=this._document.elementFromPoint(me.clientX,me.clientY),Re=this._elementRef.nativeElement;De!==Re&&!Re.contains(De)&&this.hide()}}_disableNativeGesturesIfNecessary(){const me=this.touchGestures;if("off"!==me){const De=this._elementRef.nativeElement,Re=De.style;("on"===me||"INPUT"!==De.nodeName&&"TEXTAREA"!==De.nodeName)&&(Re.userSelect=Re.msUserSelect=Re.webkitUserSelect=Re.MozUserSelect="none"),("on"===me||!De.draggable)&&(Re.webkitUserDrag="none"),Re.touchAction="none",Re.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(De){_.$Z()};static#t=this.\u0275dir=_.lG2({type:Pe,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return Pe})(),le=(()=>{class Pe extends Se{constructor(me,De,Re,Fe,Ne,at,Be,ye,ve,K,se,ge){super(me,De,Re,Fe,Ne,at,Be,ye,ve,K,se,ge),this._tooltipComponent=xe,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(me){const Re=!this._dir||"ltr"==this._dir.value;return"top"===me.originY?me.offsetY=-8:"bottom"===me.originY?me.offsetY=8:"start"===me.originX?me.offsetX=Re?-8:8:"end"===me.originX&&(me.offsetX=Re?8:-8),me}static#e=this.\u0275fac=function(De){return new(De||Pe)(_.Y36(i.aV),_.Y36(_.SBq),_.Y36(h.mF),_.Y36(_.s_b),_.Y36(_.R0b),_.Y36(w.t4),_.Y36(g.$s),_.Y36(g.tE),_.Y36(D),_.Y36(d.Is,8),_.Y36(C,8),_.Y36(x.K0))};static#t=this.\u0275dir=_.lG2({type:Pe,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(De,Re){2&De&&_.ekj("mat-mdc-tooltip-disabled",Re.disabled)},exportAs:["matTooltip"],features:[_.qOj]})}return Pe})(),Ee=(()=>{class Pe{constructor(me,De){this._changeDetectorRef=me,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new T.x,this._animationsDisabled="NoopAnimations"===De}show(me){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},me)}hide(me){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},me)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:me}){(!me||!this._triggerElement.contains(me))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:me}){(me===this._showAnimation||me===this._hideAnimation)&&this._finalizeAnimation(me===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(me){me?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(me){const De=this._tooltip.nativeElement,Re=this._showAnimation,Fe=this._hideAnimation;if(De.classList.remove(me?Fe:Re),De.classList.add(me?Re:Fe),this._isVisible=me,me&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Ne=getComputedStyle(De);("0s"===Ne.getPropertyValue("animation-duration")||"none"===Ne.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}me&&this._onShow(),this._animationsDisabled&&(De.classList.add("_mat-animation-noopable"),this._finalizeAnimation(me))}static#e=this.\u0275fac=function(De){return new(De||Pe)(_.Y36(_.sBO),_.Y36(_.QbO,8))};static#t=this.\u0275dir=_.lG2({type:Pe})}return Pe})(),xe=(()=>{class Pe extends Ee{constructor(me,De,Re){super(me,Re),this._elementRef=De,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const me=this._elementRef.nativeElement.getBoundingClientRect();return me.height>24&&me.width>=200}static#e=this.\u0275fac=function(De){return new(De||Pe)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.QbO,8))};static#t=this.\u0275cmp=_.Xpm({type:Pe,selectors:[["mat-tooltip-component"]],viewQuery:function(De,Re){if(1&De&&_.Gf(k,7),2&De){let Fe;_.iGM(Fe=_.CRH())&&(Re._tooltip=Fe.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(De,Re){1&De&&_.NdJ("mouseleave",function(Ne){return Re._handleMouseLeave(Ne)}),2&De&&_.Udp("zoom",Re.isVisible()?1:null)},features:[_.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(De,Re){1&De&&(_.TgZ(0,"div",0,1),_.NdJ("animationend",function(Ne){return Re._handleAnimationEnd(Ne)}),_.TgZ(2,"div",2),_._uU(3),_.qZA()()),2&De&&(_.ekj("mdc-tooltip--multiline",Re._isMultiline),_.Q6J("ngClass",Re.tooltipClass),_.xp6(3),_.Oqu(Re.message))},dependencies:[x.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return Pe})(),fe=(()=>{class Pe{static#e=this.\u0275fac=function(De){return new(De||Pe)};static#t=this.\u0275mod=_.oAB({type:Pe});static#n=this.\u0275inj=_.cJS({providers:[S],imports:[g.rt,x.ez,i.U8,P.BQ,P.BQ,h.ZD]})}return Pe})()},6593:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Dx:()=>ie,H7:()=>Ut,b2:()=>ge,q6:()=>ye,se:()=>ne});var e=v(5879),n=v(6814);class b extends n.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class A extends b{static makeCurrent(){(0,n.HT)(new A)}onAndCancel(yt,mt,_t){return yt.addEventListener(mt,_t),()=>{yt.removeEventListener(mt,_t)}}dispatchEvent(yt,mt){yt.dispatchEvent(mt)}remove(yt){yt.parentNode&&yt.parentNode.removeChild(yt)}createElement(yt,mt){return(mt=mt||this.getDefaultDocument()).createElement(yt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(yt){return yt.nodeType===Node.ELEMENT_NODE}isShadowRoot(yt){return yt instanceof DocumentFragment}getGlobalEventTarget(yt,mt){return"window"===mt?window:"document"===mt?yt:"body"===mt?yt.body:null}getBaseHref(yt){const mt=function x(){return _=_||document.querySelector("base"),_?_.getAttribute("href"):null}();return null==mt?null:function g(ot){w=w||document.createElement("a"),w.setAttribute("href",ot);const yt=w.pathname;return"/"===yt.charAt(0)?yt:`/${yt}`}(mt)}resetBaseElement(){_=null}getUserAgent(){return window.navigator.userAgent}getCookie(yt){return(0,n.Mx)(document.cookie,yt)}}let w,_=null,i=(()=>{class ot{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(_t){return new(_t||ot)};static#t=this.\u0275prov=e.Yz7({token:ot,factory:ot.\u0275fac})}return ot})();const h=new e.OlP("EventManagerPlugins");let p=(()=>{class ot{constructor(mt,_t){this._zone=_t,this._eventNameToPlugin=new Map,mt.forEach(qt=>{qt.manager=this}),this._plugins=mt.slice().reverse()}addEventListener(mt,_t,qt){return this._findPluginFor(_t).addEventListener(mt,_t,qt)}getZone(){return this._zone}_findPluginFor(mt){let _t=this._eventNameToPlugin.get(mt);if(_t)return _t;if(_t=this._plugins.find(fn=>fn.supports(mt)),!_t)throw new e.vHH(5101,!1);return this._eventNameToPlugin.set(mt,_t),_t}static#e=this.\u0275fac=function(_t){return new(_t||ot)(e.LFG(h),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:ot,factory:ot.\u0275fac})}return ot})();class T{constructor(yt){this._doc=yt}}const B="ng-app-id";let P=(()=>{class ot{constructor(mt,_t,qt,fn={}){this.doc=mt,this.appId=_t,this.nonce=qt,this.platformId=fn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,n.PM)(fn),this.resetHostNodes()}addStyles(mt){for(const _t of mt)1===this.changeUsageCount(_t,1)&&this.onStyleAdded(_t)}removeStyles(mt){for(const _t of mt)this.changeUsageCount(_t,-1)<=0&&this.onStyleRemoved(_t)}ngOnDestroy(){const mt=this.styleNodesInDOM;mt&&(mt.forEach(_t=>_t.remove()),mt.clear());for(const _t of this.getAllStyles())this.onStyleRemoved(_t);this.resetHostNodes()}addHost(mt){this.hostNodes.add(mt);for(const _t of this.getAllStyles())this.addStyleToHost(mt,_t)}removeHost(mt){this.hostNodes.delete(mt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(mt){for(const _t of this.hostNodes)this.addStyleToHost(_t,mt)}onStyleRemoved(mt){const _t=this.styleRef;_t.get(mt)?.elements?.forEach(qt=>qt.remove()),_t.delete(mt)}collectServerRenderedStyles(){const mt=this.doc.head?.querySelectorAll(`style[${B}="${this.appId}"]`);if(mt?.length){const _t=new Map;return mt.forEach(qt=>{null!=qt.textContent&&_t.set(qt.textContent,qt)}),_t}return null}changeUsageCount(mt,_t){const qt=this.styleRef;if(qt.has(mt)){const fn=qt.get(mt);return fn.usage+=_t,fn.usage}return qt.set(mt,{usage:_t,elements:[]}),_t}getStyleElement(mt,_t){const qt=this.styleNodesInDOM,fn=qt?.get(_t);if(fn?.parentNode===mt)return qt.delete(_t),fn.removeAttribute(B),fn;{const Qt=this.doc.createElement("style");return this.nonce&&Qt.setAttribute("nonce",this.nonce),Qt.textContent=_t,this.platformIsServer&&Qt.setAttribute(B,this.appId),Qt}}addStyleToHost(mt,_t){const qt=this.getStyleElement(mt,_t);mt.appendChild(qt);const fn=this.styleRef,Qt=fn.get(_t)?.elements;Qt?Qt.push(qt):fn.set(_t,{elements:[qt],usage:1})}resetHostNodes(){const mt=this.hostNodes;mt.clear(),mt.add(this.doc.head)}static#e=this.\u0275fac=function(_t){return new(_t||ot)(e.LFG(n.K0),e.LFG(e.AFp),e.LFG(e.Ojb,8),e.LFG(e.Lbi))};static#t=this.\u0275prov=e.Yz7({token:ot,factory:ot.\u0275fac})}return ot})();const k={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},F=/%COMP%/g,O="%COMP%",D=`_nghost-${O}`,I=`_ngcontent-${O}`,L=new e.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function z(ot,yt){return yt.map(mt=>mt.replace(F,ot))}let ne=(()=>{class ot{constructor(mt,_t,qt,fn,Qt,gn,Tn,Mn=null){this.eventManager=mt,this.sharedStylesHost=_t,this.appId=qt,this.removeStylesOnCompDestroy=fn,this.doc=Qt,this.platformId=gn,this.ngZone=Tn,this.nonce=Mn,this.rendererByCompId=new Map,this.platformIsServer=(0,n.PM)(gn),this.defaultRenderer=new te(mt,Qt,Tn,this.platformIsServer)}createRenderer(mt,_t){if(!mt||!_t)return this.defaultRenderer;this.platformIsServer&&_t.encapsulation===e.ifc.ShadowDom&&(_t={..._t,encapsulation:e.ifc.Emulated});const qt=this.getOrCreateRenderer(mt,_t);return qt instanceof le?qt.applyToHost(mt):qt instanceof Se&&qt.applyStyles(),qt}getOrCreateRenderer(mt,_t){const qt=this.rendererByCompId;let fn=qt.get(_t.id);if(!fn){const Qt=this.doc,gn=this.ngZone,Tn=this.eventManager,Mn=this.sharedStylesHost,Gn=this.removeStylesOnCompDestroy,Zn=this.platformIsServer;switch(_t.encapsulation){case e.ifc.Emulated:fn=new le(Tn,Mn,_t,this.appId,Gn,Qt,gn,Zn);break;case e.ifc.ShadowDom:return new W(Tn,Mn,mt,_t,Qt,gn,this.nonce,Zn);default:fn=new Se(Tn,Mn,_t,Gn,Qt,gn,Zn)}qt.set(_t.id,fn)}return fn}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(_t){return new(_t||ot)(e.LFG(p),e.LFG(P),e.LFG(e.AFp),e.LFG(L),e.LFG(n.K0),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(e.Ojb))};static#t=this.\u0275prov=e.Yz7({token:ot,factory:ot.\u0275fac})}return ot})();class te{constructor(yt,mt,_t,qt){this.eventManager=yt,this.doc=mt,this.ngZone=_t,this.platformIsServer=qt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(yt,mt){return mt?this.doc.createElementNS(k[mt]||mt,yt):this.doc.createElement(yt)}createComment(yt){return this.doc.createComment(yt)}createText(yt){return this.doc.createTextNode(yt)}appendChild(yt,mt){(ce(yt)?yt.content:yt).appendChild(mt)}insertBefore(yt,mt,_t){yt&&(ce(yt)?yt.content:yt).insertBefore(mt,_t)}removeChild(yt,mt){yt&&yt.removeChild(mt)}selectRootElement(yt,mt){let _t="string"==typeof yt?this.doc.querySelector(yt):yt;if(!_t)throw new e.vHH(-5104,!1);return mt||(_t.textContent=""),_t}parentNode(yt){return yt.parentNode}nextSibling(yt){return yt.nextSibling}setAttribute(yt,mt,_t,qt){if(qt){mt=qt+":"+mt;const fn=k[qt];fn?yt.setAttributeNS(fn,mt,_t):yt.setAttribute(mt,_t)}else yt.setAttribute(mt,_t)}removeAttribute(yt,mt,_t){if(_t){const qt=k[_t];qt?yt.removeAttributeNS(qt,mt):yt.removeAttribute(`${_t}:${mt}`)}else yt.removeAttribute(mt)}addClass(yt,mt){yt.classList.add(mt)}removeClass(yt,mt){yt.classList.remove(mt)}setStyle(yt,mt,_t,qt){qt&(e.JOm.DashCase|e.JOm.Important)?yt.style.setProperty(mt,_t,qt&e.JOm.Important?"important":""):yt.style[mt]=_t}removeStyle(yt,mt,_t){_t&e.JOm.DashCase?yt.style.removeProperty(mt):yt.style[mt]=""}setProperty(yt,mt,_t){yt[mt]=_t}setValue(yt,mt){yt.nodeValue=mt}listen(yt,mt,_t){if("string"==typeof yt&&!(yt=(0,n.q)().getGlobalEventTarget(this.doc,yt)))throw new Error(`Unsupported event target ${yt} for event ${mt}`);return this.eventManager.addEventListener(yt,mt,this.decoratePreventDefault(_t))}decoratePreventDefault(yt){return mt=>{if("__ngUnwrap__"===mt)return yt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>yt(mt)):yt(mt))&&mt.preventDefault()}}}function ce(ot){return"TEMPLATE"===ot.tagName&&void 0!==ot.content}class W extends te{constructor(yt,mt,_t,qt,fn,Qt,gn,Tn){super(yt,fn,Qt,Tn),this.sharedStylesHost=mt,this.hostEl=_t,this.shadowRoot=_t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Mn=z(qt.id,qt.styles);for(const Gn of Mn){const Zn=document.createElement("style");gn&&Zn.setAttribute("nonce",gn),Zn.textContent=Gn,this.shadowRoot.appendChild(Zn)}}nodeOrShadowRoot(yt){return yt===this.hostEl?this.shadowRoot:yt}appendChild(yt,mt){return super.appendChild(this.nodeOrShadowRoot(yt),mt)}insertBefore(yt,mt,_t){return super.insertBefore(this.nodeOrShadowRoot(yt),mt,_t)}removeChild(yt,mt){return super.removeChild(this.nodeOrShadowRoot(yt),mt)}parentNode(yt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(yt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Se extends te{constructor(yt,mt,_t,qt,fn,Qt,gn,Tn){super(yt,fn,Qt,gn),this.sharedStylesHost=mt,this.removeStylesOnCompDestroy=qt,this.styles=Tn?z(Tn,_t.styles):_t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class le extends Se{constructor(yt,mt,_t,qt,fn,Qt,gn,Tn){const Mn=qt+"-"+_t.id;super(yt,mt,_t,fn,Qt,gn,Tn,Mn),this.contentAttr=function C(ot){return I.replace(F,ot)}(Mn),this.hostAttr=function U(ot){return D.replace(F,ot)}(Mn)}applyToHost(yt){this.applyStyles(),this.setAttribute(yt,this.hostAttr,"")}createElement(yt,mt){const _t=super.createElement(yt,mt);return super.setAttribute(_t,this.contentAttr,""),_t}}let Ee=(()=>{class ot extends T{constructor(mt){super(mt)}supports(mt){return!0}addEventListener(mt,_t,qt){return mt.addEventListener(_t,qt,!1),()=>this.removeEventListener(mt,_t,qt)}removeEventListener(mt,_t,qt){return mt.removeEventListener(_t,qt)}static#e=this.\u0275fac=function(_t){return new(_t||ot)(e.LFG(n.K0))};static#t=this.\u0275prov=e.Yz7({token:ot,factory:ot.\u0275fac})}return ot})();const xe=["alt","control","meta","shift"],Ve={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fe={alt:ot=>ot.altKey,control:ot=>ot.ctrlKey,meta:ot=>ot.metaKey,shift:ot=>ot.shiftKey};let Pe=(()=>{class ot extends T{constructor(mt){super(mt)}supports(mt){return null!=ot.parseEventName(mt)}addEventListener(mt,_t,qt){const fn=ot.parseEventName(_t),Qt=ot.eventCallback(fn.fullKey,qt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,n.q)().onAndCancel(mt,fn.domEventName,Qt))}static parseEventName(mt){const _t=mt.toLowerCase().split("."),qt=_t.shift();if(0===_t.length||"keydown"!==qt&&"keyup"!==qt)return null;const fn=ot._normalizeKey(_t.pop());let Qt="",gn=_t.indexOf("code");if(gn>-1&&(_t.splice(gn,1),Qt="code."),xe.forEach(Mn=>{const Gn=_t.indexOf(Mn);Gn>-1&&(_t.splice(Gn,1),Qt+=Mn+".")}),Qt+=fn,0!=_t.length||0===fn.length)return null;const Tn={};return Tn.domEventName=qt,Tn.fullKey=Qt,Tn}static matchEventFullKeyCode(mt,_t){let qt=Ve[mt.key]||mt.key,fn="";return _t.indexOf("code.")>-1&&(qt=mt.code,fn="code."),!(null==qt||!qt)&&(qt=qt.toLowerCase()," "===qt?qt="space":"."===qt&&(qt="dot"),xe.forEach(Qt=>{Qt!==qt&&(0,fe[Qt])(mt)&&(fn+=Qt+".")}),fn+=qt,fn===_t)}static eventCallback(mt,_t,qt){return fn=>{ot.matchEventFullKeyCode(fn,mt)&&qt.runGuarded(()=>_t(fn))}}static _normalizeKey(mt){return"esc"===mt?"escape":mt}static#e=this.\u0275fac=function(_t){return new(_t||ot)(e.LFG(n.K0))};static#t=this.\u0275prov=e.Yz7({token:ot,factory:ot.\u0275fac})}return ot})();const ye=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:n.bD},{provide:e.g9A,useValue:function Fe(){A.makeCurrent()},multi:!0},{provide:n.K0,useFactory:function at(){return(0,e.RDi)(document),document},deps:[]}]),ve=new e.OlP(""),K=[{provide:e.rWj,useClass:class d{addToWindow(yt){e.dqk.getAngularTestability=(_t,qt=!0)=>{const fn=yt.findTestabilityInTree(_t,qt);if(null==fn)throw new e.vHH(5103,!1);return fn},e.dqk.getAllAngularTestabilities=()=>yt.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>yt.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(_t=>{const qt=e.dqk.getAllAngularTestabilities();let fn=qt.length,Qt=!1;const gn=function(Tn){Qt=Qt||Tn,fn--,0==fn&&_t(Qt)};qt.forEach(Tn=>{Tn.whenStable(gn)})})}findTestabilityInTree(yt,mt,_t){return null==mt?null:yt.getTestability(mt)??(_t?(0,n.q)().isShadowRoot(mt)?this.findTestabilityInTree(yt,mt.host,!0):this.findTestabilityInTree(yt,mt.parentElement,!0):null)}},deps:[]},{provide:e.lri,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]}],se=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function Ne(){return new e.qLn},deps:[]},{provide:h,useClass:Ee,multi:!0,deps:[n.K0,e.R0b,e.Lbi]},{provide:h,useClass:Pe,multi:!0,deps:[n.K0]},ne,P,p,{provide:e.FYo,useExisting:ne},{provide:n.JF,useClass:i,deps:[]},[]];let ge=(()=>{class ot{constructor(mt){}static withServerTransition(mt){return{ngModule:ot,providers:[{provide:e.AFp,useValue:mt.appId}]}}static#e=this.\u0275fac=function(_t){return new(_t||ot)(e.LFG(ve,12))};static#t=this.\u0275mod=e.oAB({type:ot});static#n=this.\u0275inj=e.cJS({providers:[...se,...K],imports:[n.ez,e.hGG]})}return ot})(),ie=(()=>{class ot{constructor(mt){this._doc=mt}getTitle(){return this._doc.title}setTitle(mt){this._doc.title=mt||""}static#e=this.\u0275fac=function(_t){return new(_t||ot)(e.LFG(n.K0))};static#t=this.\u0275prov=e.Yz7({token:ot,factory:function(_t){let qt=null;return qt=_t?new _t:function $(){return new ie((0,e.LFG)(n.K0))}(),qt},providedIn:"root"})}return ot})();typeof window<"u"&&window;let Ut=(()=>{class ot{static#e=this.\u0275fac=function(_t){return new(_t||ot)};static#t=this.\u0275prov=e.Yz7({token:ot,factory:function(_t){let qt=null;return qt=_t?new(_t||ot):e.LFG(Kt),qt},providedIn:"root"})}return ot})(),Kt=(()=>{class ot extends Ut{constructor(mt){super(),this._doc=mt}sanitize(mt,_t){if(null==_t)return null;switch(mt){case e.q3G.NONE:return _t;case e.q3G.HTML:return(0,e.qzn)(_t,"HTML")?(0,e.z3N)(_t):(0,e.EiD)(this._doc,String(_t)).toString();case e.q3G.STYLE:return(0,e.qzn)(_t,"Style")?(0,e.z3N)(_t):_t;case e.q3G.SCRIPT:if((0,e.qzn)(_t,"Script"))return(0,e.z3N)(_t);throw new e.vHH(5200,!1);case e.q3G.URL:return(0,e.qzn)(_t,"URL")?(0,e.z3N)(_t):(0,e.mCW)(String(_t));case e.q3G.RESOURCE_URL:if((0,e.qzn)(_t,"ResourceURL"))return(0,e.z3N)(_t);throw new e.vHH(5201,!1);default:throw new e.vHH(5202,!1)}}bypassSecurityTrustHtml(mt){return(0,e.JVY)(mt)}bypassSecurityTrustStyle(mt){return(0,e.L6k)(mt)}bypassSecurityTrustScript(mt){return(0,e.eBb)(mt)}bypassSecurityTrustUrl(mt){return(0,e.LAX)(mt)}bypassSecurityTrustResourceUrl(mt){return(0,e.pB0)(mt)}static#e=this.\u0275fac=function(_t){return new(_t||ot)(e.LFG(n.K0))};static#t=this.\u0275prov=e.Yz7({token:ot,factory:function(_t){let qt=null;return qt=_t?new _t:function Zt(ot){return new Kt(ot.get(n.K0))}(e.LFG(e.zs3)),qt},providedIn:"root"})}return ot})()},5612:(Hn,Xe,v)=>{"use strict";v.d(Xe,{gz:()=>qi,F0:()=>oo,rH:()=>tr,Bz:()=>Il,lC:()=>wi});var e=v(5879),n=v(2664),b=v(2459),A=v(2096),_=v(5619),x=v(2572),w=v(6973),g=v(5211),d=v(4911),i=v(8407),h=v(5592),p=v(4674);function T(we,it){const _e=(0,p.m)(we)?we:()=>we,Je=kt=>kt.error(_e());return new h.y(it?kt=>it.schedule(Je,0,kt):Je)}var B=v(6232),P=v(3168),k=v(8645),F=v(6814),O=v(7398),D=v(4664),I=v(8180),S=v(7921),L=v(2181),C=v(1631),U=v(1374),z=v(6328),ne=v(9397),te=v(4829),Me=v(8251),J=v(9360);function ce(we){return(0,J.e)((it,_e)=>{let nn,Je=null,kt=!1;Je=it.subscribe((0,Me.x)(_e,void 0,void 0,tn=>{nn=(0,te.Xf)(we(tn,ce(we)(it))),Je?(Je.unsubscribe(),Je=null,nn.subscribe(_e)):kt=!0})),kt&&(Je.unsubscribe(),Je=null,nn.subscribe(_e))})}var le=v(3572);function Ee(we){return we<=0?()=>B.E:(0,J.e)((it,_e)=>{let Je=[];it.subscribe((0,Me.x)(_e,kt=>{Je.push(kt),we<Je.length&&Je.shift()},()=>{for(const kt of Je)_e.next(kt);_e.complete()},void 0,()=>{Je=null}))})}var xe=v(3026),Ve=v(2737),Pe=v(975),Ce=v(4716),me=v(6196),De=v(7537),Re=v(6593);const Fe="primary",Ne=Symbol("RouteTitle");class at{constructor(it){this.params=it||{}}has(it){return Object.prototype.hasOwnProperty.call(this.params,it)}get(it){if(this.has(it)){const _e=this.params[it];return Array.isArray(_e)?_e[0]:_e}return null}getAll(it){if(this.has(it)){const _e=this.params[it];return Array.isArray(_e)?_e:[_e]}return[]}get keys(){return Object.keys(this.params)}}function Be(we){return new at(we)}function ye(we,it,_e){const Je=_e.path.split("/");if(Je.length>we.length||"full"===_e.pathMatch&&(it.hasChildren()||Je.length<we.length))return null;const kt={};for(let nn=0;nn<Je.length;nn++){const tn=Je[nn],kn=we[nn];if(tn.startsWith(":"))kt[tn.substring(1)]=kn;else if(tn!==kn.path)return null}return{consumed:we.slice(0,Je.length),posParams:kt}}function K(we,it){const _e=we?Object.keys(we):void 0,Je=it?Object.keys(it):void 0;if(!_e||!Je||_e.length!=Je.length)return!1;let kt;for(let nn=0;nn<_e.length;nn++)if(kt=_e[nn],!se(we[kt],it[kt]))return!1;return!0}function se(we,it){if(Array.isArray(we)&&Array.isArray(it)){if(we.length!==it.length)return!1;const _e=[...we].sort(),Je=[...it].sort();return _e.every((kt,nn)=>Je[nn]===kt)}return we===it}function ge(we){return we.length>0?we[we.length-1]:null}function oe(we){return(0,n.b)(we)?we:(0,e.QGY)(we)?(0,b.D)(Promise.resolve(we)):(0,A.of)(we)}const Q={exact:function Z(we,it,_e){if(!ft(we.segments,it.segments)||!be(we.segments,it.segments,_e)||we.numberOfChildren!==it.numberOfChildren)return!1;for(const Je in it.children)if(!we.children[Je]||!Z(we.children[Je],it.children[Je],_e))return!1;return!0},subset:pe},q={exact:function ie(we,it){return K(we,it)},subset:function X(we,it){return Object.keys(it).length<=Object.keys(we).length&&Object.keys(it).every(_e=>se(we[_e],it[_e]))},ignored:()=>!0};function $(we,it,_e){return Q[_e.paths](we.root,it.root,_e.matrixParams)&&q[_e.queryParams](we.queryParams,it.queryParams)&&!("exact"===_e.fragment&&we.fragment!==it.fragment)}function pe(we,it,_e){return Te(we,it,it.segments,_e)}function Te(we,it,_e,Je){if(we.segments.length>_e.length){const kt=we.segments.slice(0,_e.length);return!(!ft(kt,_e)||it.hasChildren()||!be(kt,_e,Je))}if(we.segments.length===_e.length){if(!ft(we.segments,_e)||!be(we.segments,_e,Je))return!1;for(const kt in it.children)if(!we.children[kt]||!pe(we.children[kt],it.children[kt],Je))return!1;return!0}{const kt=_e.slice(0,we.segments.length),nn=_e.slice(we.segments.length);return!!(ft(we.segments,kt)&&be(we.segments,kt,Je)&&we.children[Fe])&&Te(we.children[Fe],it,nn,Je)}}function be(we,it,_e){return it.every((Je,kt)=>q[_e](we[kt].parameters,Je.parameters))}class Le{constructor(it=new et([],{}),_e={},Je=null){this.root=it,this.queryParams=_e,this.fragment=Je}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return de.serialize(this)}}class et{constructor(it,_e){this.segments=it,this.children=_e,this.parent=null,Object.values(_e).forEach(Je=>Je.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return He(this)}}class Qe{constructor(it,_e){this.path=it,this.parameters=_e}get parameterMap(){return this._parameterMap||(this._parameterMap=Be(this.parameters)),this._parameterMap}toString(){return vt(this)}}function ft(we,it){return we.length===it.length&&we.every((_e,Je)=>_e.path===it[Je].path)}let ht=(()=>{class we{static#e=this.\u0275fac=function(Je){return new(Je||we)};static#t=this.\u0275prov=e.Yz7({token:we,factory:function(){return new Et},providedIn:"root"})}return we})();class Et{parse(it){const _e=new Qt(it);return new Le(_e.parseRootSegment(),_e.parseQueryParams(),_e.parseFragment())}serialize(it){const _e=`/${bt(it.root,!0)}`,Je=function ke(we){const it=Object.keys(we).map(_e=>{const Je=we[_e];return Array.isArray(Je)?Je.map(kt=>`${Zt(_e)}=${Zt(kt)}`).join("&"):`${Zt(_e)}=${Zt(Je)}`}).filter(_e=>!!_e);return it.length?`?${it.join("&")}`:""}(it.queryParams);return`${_e}${Je}${"string"==typeof it.fragment?`#${function Kt(we){return encodeURI(we)}(it.fragment)}`:""}`}}const de=new Et;function He(we){return we.segments.map(it=>vt(it)).join("/")}function bt(we,it){if(!we.hasChildren())return He(we);if(it){const _e=we.children[Fe]?bt(we.children[Fe],!1):"",Je=[];return Object.entries(we.children).forEach(([kt,nn])=>{kt!==Fe&&Je.push(`${kt}:${bt(nn,!1)}`)}),Je.length>0?`${_e}(${Je.join("//")})`:_e}{const _e=function ze(we,it){let _e=[];return Object.entries(we.children).forEach(([Je,kt])=>{Je===Fe&&(_e=_e.concat(it(kt,Je)))}),Object.entries(we.children).forEach(([Je,kt])=>{Je!==Fe&&(_e=_e.concat(it(kt,Je)))}),_e}(we,(Je,kt)=>kt===Fe?[bt(we.children[Fe],!1)]:[`${kt}:${bt(Je,!1)}`]);return 1===Object.keys(we.children).length&&null!=we.children[Fe]?`${He(we)}/${_e[0]}`:`${He(we)}/(${_e.join("//")})`}}function Ut(we){return encodeURIComponent(we).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zt(we){return Ut(we).replace(/%3B/gi,";")}function pn(we){return Ut(we).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rn(we){return decodeURIComponent(we)}function xt(we){return rn(we.replace(/\+/g,"%20"))}function vt(we){return`${pn(we.path)}${function nt(we){return Object.keys(we).map(it=>`;${pn(it)}=${pn(we[it])}`).join("")}(we.parameters)}`}const Ke=/^[^\/()?;#]+/;function rt(we){const it=we.match(Ke);return it?it[0]:""}const ot=/^[^\/()?;=#]+/,mt=/^[^=?&#]+/,qt=/^[^&#]+/;class Qt{constructor(it){this.url=it,this.remaining=it}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new et([],{}):new et([],this.parseChildren())}parseQueryParams(){const it={};if(this.consumeOptional("?"))do{this.parseQueryParam(it)}while(this.consumeOptional("&"));return it}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const it=[];for(this.peekStartsWith("(")||it.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),it.push(this.parseSegment());let _e={};this.peekStartsWith("/(")&&(this.capture("/"),_e=this.parseParens(!0));let Je={};return this.peekStartsWith("(")&&(Je=this.parseParens(!1)),(it.length>0||Object.keys(_e).length>0)&&(Je[Fe]=new et(it,_e)),Je}parseSegment(){const it=rt(this.remaining);if(""===it&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(it),new Qe(rn(it),this.parseMatrixParams())}parseMatrixParams(){const it={};for(;this.consumeOptional(";");)this.parseParam(it);return it}parseParam(it){const _e=function yt(we){const it=we.match(ot);return it?it[0]:""}(this.remaining);if(!_e)return;this.capture(_e);let Je="";if(this.consumeOptional("=")){const kt=rt(this.remaining);kt&&(Je=kt,this.capture(Je))}it[rn(_e)]=rn(Je)}parseQueryParam(it){const _e=function _t(we){const it=we.match(mt);return it?it[0]:""}(this.remaining);if(!_e)return;this.capture(_e);let Je="";if(this.consumeOptional("=")){const tn=function fn(we){const it=we.match(qt);return it?it[0]:""}(this.remaining);tn&&(Je=tn,this.capture(Je))}const kt=xt(_e),nn=xt(Je);if(it.hasOwnProperty(kt)){let tn=it[kt];Array.isArray(tn)||(tn=[tn],it[kt]=tn),tn.push(nn)}else it[kt]=nn}parseParens(it){const _e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Je=rt(this.remaining),kt=this.remaining[Je.length];if("/"!==kt&&")"!==kt&&";"!==kt)throw new e.vHH(4010,!1);let nn;Je.indexOf(":")>-1?(nn=Je.slice(0,Je.indexOf(":")),this.capture(nn),this.capture(":")):it&&(nn=Fe);const tn=this.parseChildren();_e[nn]=1===Object.keys(tn).length?tn[Fe]:new et([],tn),this.consumeOptional("//")}return _e}peekStartsWith(it){return this.remaining.startsWith(it)}consumeOptional(it){return!!this.peekStartsWith(it)&&(this.remaining=this.remaining.substring(it.length),!0)}capture(it){if(!this.consumeOptional(it))throw new e.vHH(4011,!1)}}function gn(we){return we.segments.length>0?new et([],{[Fe]:we}):we}function Tn(we){const it={};for(const Je of Object.keys(we.children)){const nn=Tn(we.children[Je]);if(Je===Fe&&0===nn.segments.length&&nn.hasChildren())for(const[tn,kn]of Object.entries(nn.children))it[tn]=kn;else(nn.segments.length>0||nn.hasChildren())&&(it[Je]=nn)}return function Mn(we){if(1===we.numberOfChildren&&we.children[Fe]){const it=we.children[Fe];return new et(we.segments.concat(it.segments),it.children)}return we}(new et(we.segments,it))}function Gn(we){return we instanceof Le}function dn(we){let it;const kt=gn(function _e(nn){const tn={};for(const ni of nn.children){const Oi=_e(ni);tn[ni.outlet]=Oi}const kn=new et(nn.url,tn);return nn===we&&(it=kn),kn}(we.root));return it??kt}function ln(we,it,_e,Je){let kt=we;for(;kt.parent;)kt=kt.parent;if(0===it.length)return cn(kt,kt,kt,_e,Je);const nn=function hn(we){if("string"==typeof we[0]&&1===we.length&&"/"===we[0])return new dt(!0,0,we);let it=0,_e=!1;const Je=we.reduce((kt,nn,tn)=>{if("object"==typeof nn&&null!=nn){if(nn.outlets){const kn={};return Object.entries(nn.outlets).forEach(([ni,Oi])=>{kn[ni]="string"==typeof Oi?Oi.split("/"):Oi}),[...kt,{outlets:kn}]}if(nn.segmentPath)return[...kt,nn.segmentPath]}return"string"!=typeof nn?[...kt,nn]:0===tn?(nn.split("/").forEach((kn,ni)=>{0==ni&&"."===kn||(0==ni&&""===kn?_e=!0:".."===kn?it++:""!=kn&&kt.push(kn))}),kt):[...kt,nn]},[]);return new dt(_e,it,Je)}(it);if(nn.toRoot())return cn(kt,kt,new et([],{}),_e,Je);const tn=function Tt(we,it,_e){if(we.isAbsolute)return new $e(it,!0,0);if(!_e)return new $e(it,!1,NaN);if(null===_e.parent)return new $e(_e,!0,0);const Je=un(we.commands[0])?0:1;return function Yt(we,it,_e){let Je=we,kt=it,nn=_e;for(;nn>kt;){if(nn-=kt,Je=Je.parent,!Je)throw new e.vHH(4005,!1);kt=Je.segments.length}return new $e(Je,!1,kt-nn)}(_e,_e.segments.length-1+Je,we.numberOfDoubleDots)}(nn,kt,we),kn=tn.processChildren?Lt(tn.segmentGroup,tn.index,nn.commands):bn(tn.segmentGroup,tn.index,nn.commands);return cn(kt,tn.segmentGroup,kn,_e,Je)}function un(we){return"object"==typeof we&&null!=we&&!we.outlets&&!we.segmentPath}function sn(we){return"object"==typeof we&&null!=we&&we.outlets}function cn(we,it,_e,Je,kt){let tn,nn={};Je&&Object.entries(Je).forEach(([ni,Oi])=>{nn[ni]=Array.isArray(Oi)?Oi.map(Ri=>`${Ri}`):`${Oi}`}),tn=we===it?_e:St(we,it,_e);const kn=gn(Tn(tn));return new Le(kn,nn,kt)}function St(we,it,_e){const Je={};return Object.entries(we.children).forEach(([kt,nn])=>{Je[kt]=nn===it?_e:St(nn,it,_e)}),new et(we.segments,Je)}class dt{constructor(it,_e,Je){if(this.isAbsolute=it,this.numberOfDoubleDots=_e,this.commands=Je,it&&Je.length>0&&un(Je[0]))throw new e.vHH(4003,!1);const kt=Je.find(sn);if(kt&&kt!==ge(Je))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $e{constructor(it,_e,Je){this.segmentGroup=it,this.processChildren=_e,this.index=Je}}function bn(we,it,_e){if(we||(we=new et([],{})),0===we.segments.length&&we.hasChildren())return Lt(we,it,_e);const Je=function Ct(we,it,_e){let Je=0,kt=it;const nn={match:!1,pathIndex:0,commandIndex:0};for(;kt<we.segments.length;){if(Je>=_e.length)return nn;const tn=we.segments[kt],kn=_e[Je];if(sn(kn))break;const ni=`${kn}`,Oi=Je<_e.length-1?_e[Je+1]:null;if(kt>0&&void 0===ni)break;if(ni&&Oi&&"object"==typeof Oi&&void 0===Oi.outlets){if(!Un(ni,Oi,tn))return nn;Je+=2}else{if(!Un(ni,{},tn))return nn;Je++}kt++}return{match:!0,pathIndex:kt,commandIndex:Je}}(we,it,_e),kt=_e.slice(Je.commandIndex);if(Je.match&&Je.pathIndex<we.segments.length){const nn=new et(we.segments.slice(0,Je.pathIndex),{});return nn.children[Fe]=new et(we.segments.slice(Je.pathIndex),we.children),Lt(nn,0,kt)}return Je.match&&0===kt.length?new et(we.segments,{}):Je.match&&!we.hasChildren()?Pt(we,it,_e):Je.match?Lt(we,0,kt):Pt(we,it,_e)}function Lt(we,it,_e){if(0===_e.length)return new et(we.segments,{});{const Je=function Rt(we){return sn(we[0])?we[0].outlets:{[Fe]:we}}(_e),kt={};if(!Je[Fe]&&we.children[Fe]&&1===we.numberOfChildren&&0===we.children[Fe].segments.length){const nn=Lt(we.children[Fe],it,_e);return new et(we.segments,nn.children)}return Object.entries(Je).forEach(([nn,tn])=>{"string"==typeof tn&&(tn=[tn]),null!==tn&&(kt[nn]=bn(we.children[nn],it,tn))}),Object.entries(we.children).forEach(([nn,tn])=>{void 0===Je[nn]&&(kt[nn]=tn)}),new et(we.segments,kt)}}function Pt(we,it,_e){const Je=we.segments.slice(0,it);let kt=0;for(;kt<_e.length;){const nn=_e[kt];if(sn(nn)){const ni=$t(nn.outlets);return new et(Je,ni)}if(0===kt&&un(_e[0])){Je.push(new Qe(we.segments[it].path,_n(_e[0]))),kt++;continue}const tn=sn(nn)?nn.outlets[Fe]:`${nn}`,kn=kt<_e.length-1?_e[kt+1]:null;tn&&kn&&un(kn)?(Je.push(new Qe(tn,_n(kn))),kt+=2):(Je.push(new Qe(tn,{})),kt++)}return new et(Je,{})}function $t(we){const it={};return Object.entries(we).forEach(([_e,Je])=>{"string"==typeof Je&&(Je=[Je]),null!==Je&&(it[_e]=Pt(new et([],{}),0,Je))}),it}function _n(we){const it={};return Object.entries(we).forEach(([_e,Je])=>it[_e]=`${Je}`),it}function Un(we,it,_e){return we==_e.path&&K(it,_e.parameters)}const Vn="imperative";class Ft{constructor(it,_e){this.id=it,this.url=_e}}class Cn extends Ft{constructor(it,_e,Je="imperative",kt=null){super(it,_e),this.type=0,this.navigationTrigger=Je,this.restoredState=kt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ae extends Ft{constructor(it,_e,Je){super(it,_e),this.urlAfterRedirects=Je,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nt extends Ft{constructor(it,_e,Je,kt){super(it,_e),this.reason=Je,this.code=kt,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class At extends Ft{constructor(it,_e,Je,kt){super(it,_e),this.reason=Je,this.code=kt,this.type=16}}class en extends Ft{constructor(it,_e,Je,kt){super(it,_e),this.error=Je,this.target=kt,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wn extends Ft{constructor(it,_e,Je,kt){super(it,_e),this.urlAfterRedirects=Je,this.state=kt,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ci extends Ft{constructor(it,_e,Je,kt){super(it,_e),this.urlAfterRedirects=Je,this.state=kt,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nr extends Ft{constructor(it,_e,Je,kt,nn){super(it,_e),this.urlAfterRedirects=Je,this.state=kt,this.shouldActivate=nn,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kr extends Ft{constructor(it,_e,Je,kt){super(it,_e),this.urlAfterRedirects=Je,this.state=kt,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ar extends Ft{constructor(it,_e,Je,kt){super(it,_e),this.urlAfterRedirects=Je,this.state=kt,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fr{constructor(it){this.route=it,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bo{constructor(it){this.route=it,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Eo{constructor(it){this.snapshot=it,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fo{constructor(it){this.snapshot=it,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class es{constructor(it){this.snapshot=it,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Li{constructor(it){this.snapshot=it,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class er{constructor(it,_e,Je){this.routerEvent=it,this.position=_e,this.anchor=Je,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ho{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Dr,this.attachRef=null}}let Dr=(()=>{class we{constructor(){this.contexts=new Map}onChildOutletCreated(_e,Je){const kt=this.getOrCreateContext(_e);kt.outlet=Je,this.contexts.set(_e,kt)}onChildOutletDestroyed(_e){const Je=this.getContext(_e);Je&&(Je.outlet=null,Je.attachRef=null)}onOutletDeactivated(){const _e=this.contexts;return this.contexts=new Map,_e}onOutletReAttached(_e){this.contexts=_e}getOrCreateContext(_e){let Je=this.getContext(_e);return Je||(Je=new ho,this.contexts.set(_e,Je)),Je}getContext(_e){return this.contexts.get(_e)||null}static#e=this.\u0275fac=function(Je){return new(Je||we)};static#t=this.\u0275prov=e.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})();class ts{constructor(it){this._root=it}get root(){return this._root.value}parent(it){const _e=this.pathFromRoot(it);return _e.length>1?_e[_e.length-2]:null}children(it){const _e=Oo(it,this._root);return _e?_e.children.map(Je=>Je.value):[]}firstChild(it){const _e=Oo(it,this._root);return _e&&_e.children.length>0?_e.children[0].value:null}siblings(it){const _e=Qr(it,this._root);return _e.length<2?[]:_e[_e.length-2].children.map(kt=>kt.value).filter(kt=>kt!==it)}pathFromRoot(it){return Qr(it,this._root).map(_e=>_e.value)}}function Oo(we,it){if(we===it.value)return it;for(const _e of it.children){const Je=Oo(we,_e);if(Je)return Je}return null}function Qr(we,it){if(we===it.value)return[it];for(const _e of it.children){const Je=Qr(we,_e);if(Je.length)return Je.unshift(it),Je}return[]}class qr{constructor(it,_e){this.value=it,this.children=_e}toString(){return`TreeNode(${this.value})`}}function Uo(we){const it={};return we&&we.children.forEach(_e=>it[_e.value.outlet]=_e),it}class hr extends ts{constructor(it,_e){super(it),this.snapshot=_e,vn(this,it)}toString(){return this.snapshot.toString()}}function _i(we,it){const _e=function Ni(we,it){const tn=new Or([],{},{},"",{},Fe,it,null,{});return new ro("",new qr(tn,[]))}(0,it),Je=new _.X([new Qe("",{})]),kt=new _.X({}),nn=new _.X({}),tn=new _.X({}),kn=new _.X(""),ni=new qi(Je,kt,tn,kn,nn,Fe,it,_e.root);return ni.snapshot=_e.root,new hr(new qr(ni,[]),_e)}class qi{constructor(it,_e,Je,kt,nn,tn,kn,ni){this.urlSubject=it,this.paramsSubject=_e,this.queryParamsSubject=Je,this.fragmentSubject=kt,this.dataSubject=nn,this.outlet=tn,this.component=kn,this._futureSnapshot=ni,this.title=this.dataSubject?.pipe((0,O.U)(Oi=>Oi[Ne]))??(0,A.of)(void 0),this.url=it,this.params=_e,this.queryParams=Je,this.fragment=kt,this.data=nn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,O.U)(it=>Be(it)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,O.U)(it=>Be(it)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gr(we,it="emptyOnly"){const _e=we.pathFromRoot;let Je=0;if("always"!==it)for(Je=_e.length-1;Je>=1;){const kt=_e[Je],nn=_e[Je-1];if(kt.routeConfig&&""===kt.routeConfig.path)Je--;else{if(nn.component)break;Je--}}return function Do(we){return we.reduce((it,_e)=>({params:{...it.params,..._e.params},data:{...it.data,..._e.data},resolve:{..._e.data,...it.resolve,..._e.routeConfig?.data,..._e._resolvedData}}),{params:{},data:{},resolve:{}})}(_e.slice(Je))}class Or{get title(){return this.data?.[Ne]}constructor(it,_e,Je,kt,nn,tn,kn,ni,Oi){this.url=it,this.params=_e,this.queryParams=Je,this.fragment=kt,this.data=nn,this.outlet=tn,this.component=kn,this.routeConfig=ni,this._resolve=Oi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Be(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Je=>Je.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ro extends ts{constructor(it,_e){super(_e),this.url=it,vn(this,_e)}toString(){return Kn(this._root)}}function vn(we,it){it.value._routerState=we,it.children.forEach(_e=>vn(we,_e))}function Kn(we){const it=we.children.length>0?` { ${we.children.map(Kn).join(", ")} } `:"";return`${we.value}${it}`}function ri(we){if(we.snapshot){const it=we.snapshot,_e=we._futureSnapshot;we.snapshot=_e,K(it.queryParams,_e.queryParams)||we.queryParamsSubject.next(_e.queryParams),it.fragment!==_e.fragment&&we.fragmentSubject.next(_e.fragment),K(it.params,_e.params)||we.paramsSubject.next(_e.params),function ve(we,it){if(we.length!==it.length)return!1;for(let _e=0;_e<we.length;++_e)if(!K(we[_e],it[_e]))return!1;return!0}(it.url,_e.url)||we.urlSubject.next(_e.url),K(it.data,_e.data)||we.dataSubject.next(_e.data)}else we.snapshot=we._futureSnapshot,we.dataSubject.next(we._futureSnapshot.data)}function qn(we,it){const _e=K(we.params,it.params)&&function qe(we,it){return ft(we,it)&&we.every((_e,Je)=>K(_e.parameters,it[Je].parameters))}(we.url,it.url);return _e&&!(!we.parent!=!it.parent)&&(!we.parent||qn(we.parent,it.parent))}let wi=(()=>{class we{constructor(){this.activated=null,this._activatedRoute=null,this.name=Fe,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.parentContexts=(0,e.f3M)(Dr),this.location=(0,e.f3M)(e.s_b),this.changeDetector=(0,e.f3M)(e.sBO),this.environmentInjector=(0,e.f3M)(e.lqb),this.inputBinder=(0,e.f3M)(Ki,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(_e){if(_e.name){const{firstChange:Je,previousValue:kt}=_e.name;if(Je)return;this.isTrackedInParentContexts(kt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(kt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_e){return this.parentContexts.getContext(_e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _e=this.parentContexts.getContext(this.name);_e?.route&&(_e.attachRef?this.attach(_e.attachRef,_e.route):this.activateWith(_e.route,_e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,!1);this.location.detach();const _e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_e.instance),_e}attach(_e,Je){this.activated=_e,this._activatedRoute=Je,this.location.insert(_e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_e.instance)}deactivate(){if(this.activated){const _e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_e)}}activateWith(_e,Je){if(this.isActivated)throw new e.vHH(4013,!1);this._activatedRoute=_e;const kt=this.location,tn=_e.snapshot.component,kn=this.parentContexts.getOrCreateContext(this.name).children,ni=new Hi(_e,kn,kt.injector);this.activated=kt.createComponent(tn,{index:kt.length,injector:ni,environmentInjector:Je??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Je){return new(Je||we)};static#t=this.\u0275dir=e.lG2({type:we,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[e.TTD]})}return we})();class Hi{constructor(it,_e,Je){this.route=it,this.childContexts=_e,this.parent=Je}get(it,_e){return it===qi?this.route:it===Dr?this.childContexts:this.parent.get(it,_e)}}const Ki=new e.OlP("");let ki=(()=>{class we{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_e){this.unsubscribeFromRouteData(_e),this.subscribeToRouteData(_e)}unsubscribeFromRouteData(_e){this.outletDataSubscriptions.get(_e)?.unsubscribe(),this.outletDataSubscriptions.delete(_e)}subscribeToRouteData(_e){const{activatedRoute:Je}=_e,kt=(0,x.a)([Je.queryParams,Je.params,Je.data]).pipe((0,D.w)(([nn,tn,kn],ni)=>(kn={...nn,...tn,...kn},0===ni?(0,A.of)(kn):Promise.resolve(kn)))).subscribe(nn=>{if(!_e.isActivated||!_e.activatedComponentRef||_e.activatedRoute!==Je||null===Je.component)return void this.unsubscribeFromRouteData(_e);const tn=(0,e.qFp)(Je.component);if(tn)for(const{templateName:kn}of tn.inputs)_e.activatedComponentRef.setInput(kn,nn[kn]);else this.unsubscribeFromRouteData(_e)});this.outletDataSubscriptions.set(_e,kt)}static#e=this.\u0275fac=function(Je){return new(Je||we)};static#t=this.\u0275prov=e.Yz7({token:we,factory:we.\u0275fac})}return we})();function Vr(we,it,_e){if(_e&&we.shouldReuseRoute(it.value,_e.value.snapshot)){const Je=_e.value;Je._futureSnapshot=it.value;const kt=function mo(we,it,_e){return it.children.map(Je=>{for(const kt of _e.children)if(we.shouldReuseRoute(Je.value,kt.value.snapshot))return Vr(we,Je,kt);return Vr(we,Je)})}(we,it,_e);return new qr(Je,kt)}{if(we.shouldAttach(it.value)){const nn=we.retrieve(it.value);if(null!==nn){const tn=nn.route;return tn.value._futureSnapshot=it.value,tn.children=it.children.map(kn=>Vr(we,kn)),tn}}const Je=function Ao(we){return new qi(new _.X(we.url),new _.X(we.params),new _.X(we.queryParams),new _.X(we.fragment),new _.X(we.data),we.outlet,we.component,we)}(it.value),kt=it.children.map(nn=>Vr(we,nn));return new qr(Je,kt)}}const Ps="ngNavigationCancelingError";function zr(we,it){const{redirectTo:_e,navigationBehaviorOptions:Je}=Gn(it)?{redirectTo:it,navigationBehaviorOptions:void 0}:it,kt=Xr(!1,0,it);return kt.url=_e,kt.navigationBehaviorOptions=Je,kt}function Xr(we,it,_e){const Je=new Error("NavigationCancelingError: "+(we||""));return Je[Ps]=!0,Je.cancellationCode=it,_e&&(Je.url=_e),Je}function Zo(we){return xo(we)&&Gn(we.url)}function xo(we){return we&&we[Ps]}let Zi=(()=>{class we{static#e=this.\u0275fac=function(Je){return new(Je||we)};static#t=this.\u0275cmp=e.Xpm({type:we,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(Je,kt){1&Je&&e._UZ(0,"router-outlet")},dependencies:[wi],encapsulation:2})}return we})();function Zr(we){const it=we.children&&we.children.map(Zr),_e=it?{...we,children:it}:{...we};return!_e.component&&!_e.loadComponent&&(it||_e.loadChildren)&&_e.outlet&&_e.outlet!==Fe&&(_e.component=Zi),_e}function Er(we){return we.outlet||Fe}function po(we){if(!we)return null;if(we.routeConfig?._injector)return we.routeConfig._injector;for(let it=we.parent;it;it=it.parent){const _e=it.routeConfig;if(_e?._loadedInjector)return _e._loadedInjector;if(_e?._injector)return _e._injector}return null}class rs{constructor(it,_e,Je,kt,nn){this.routeReuseStrategy=it,this.futureState=_e,this.currState=Je,this.forwardEvent=kt,this.inputBindingEnabled=nn}activate(it){const _e=this.futureState._root,Je=this.currState?this.currState._root:null;this.deactivateChildRoutes(_e,Je,it),ri(this.futureState.root),this.activateChildRoutes(_e,Je,it)}deactivateChildRoutes(it,_e,Je){const kt=Uo(_e);it.children.forEach(nn=>{const tn=nn.value.outlet;this.deactivateRoutes(nn,kt[tn],Je),delete kt[tn]}),Object.values(kt).forEach(nn=>{this.deactivateRouteAndItsChildren(nn,Je)})}deactivateRoutes(it,_e,Je){const kt=it.value,nn=_e?_e.value:null;if(kt===nn)if(kt.component){const tn=Je.getContext(kt.outlet);tn&&this.deactivateChildRoutes(it,_e,tn.children)}else this.deactivateChildRoutes(it,_e,Je);else nn&&this.deactivateRouteAndItsChildren(_e,Je)}deactivateRouteAndItsChildren(it,_e){it.value.component&&this.routeReuseStrategy.shouldDetach(it.value.snapshot)?this.detachAndStoreRouteSubtree(it,_e):this.deactivateRouteAndOutlet(it,_e)}detachAndStoreRouteSubtree(it,_e){const Je=_e.getContext(it.value.outlet),kt=Je&&it.value.component?Je.children:_e,nn=Uo(it);for(const tn of Object.keys(nn))this.deactivateRouteAndItsChildren(nn[tn],kt);if(Je&&Je.outlet){const tn=Je.outlet.detach(),kn=Je.children.onOutletDeactivated();this.routeReuseStrategy.store(it.value.snapshot,{componentRef:tn,route:it,contexts:kn})}}deactivateRouteAndOutlet(it,_e){const Je=_e.getContext(it.value.outlet),kt=Je&&it.value.component?Je.children:_e,nn=Uo(it);for(const tn of Object.keys(nn))this.deactivateRouteAndItsChildren(nn[tn],kt);Je&&(Je.outlet&&(Je.outlet.deactivate(),Je.children.onOutletDeactivated()),Je.attachRef=null,Je.route=null)}activateChildRoutes(it,_e,Je){const kt=Uo(_e);it.children.forEach(nn=>{this.activateRoutes(nn,kt[nn.value.outlet],Je),this.forwardEvent(new Li(nn.value.snapshot))}),it.children.length&&this.forwardEvent(new fo(it.value.snapshot))}activateRoutes(it,_e,Je){const kt=it.value,nn=_e?_e.value:null;if(ri(kt),kt===nn)if(kt.component){const tn=Je.getOrCreateContext(kt.outlet);this.activateChildRoutes(it,_e,tn.children)}else this.activateChildRoutes(it,_e,Je);else if(kt.component){const tn=Je.getOrCreateContext(kt.outlet);if(this.routeReuseStrategy.shouldAttach(kt.snapshot)){const kn=this.routeReuseStrategy.retrieve(kt.snapshot);this.routeReuseStrategy.store(kt.snapshot,null),tn.children.onOutletReAttached(kn.contexts),tn.attachRef=kn.componentRef,tn.route=kn.route.value,tn.outlet&&tn.outlet.attach(kn.componentRef,kn.route.value),ri(kn.route.value),this.activateChildRoutes(it,null,tn.children)}else{const kn=po(kt.snapshot);tn.attachRef=null,tn.route=kt,tn.injector=kn,tn.outlet&&tn.outlet.activateWith(kt,tn.injector),this.activateChildRoutes(it,null,tn.children)}}else this.activateChildRoutes(it,null,Je)}}class Ys{constructor(it){this.path=it,this.route=this.path[this.path.length-1]}}class Go{constructor(it,_e){this.component=it,this.route=_e}}function zs(we,it,_e){const Je=we._root;return bs(Je,it?it._root:null,_e,[Je.value])}function fs(we,it){const _e=Symbol(),Je=it.get(we,_e);return Je===_e?"function"!=typeof we||(0,e.Z0I)(we)?it.get(we):we:Je}function bs(we,it,_e,Je,kt={canDeactivateChecks:[],canActivateChecks:[]}){const nn=Uo(it);return we.children.forEach(tn=>{(function ma(we,it,_e,Je,kt={canDeactivateChecks:[],canActivateChecks:[]}){const nn=we.value,tn=it?it.value:null,kn=_e?_e.getContext(we.value.outlet):null;if(tn&&nn.routeConfig===tn.routeConfig){const ni=function Io(we,it,_e){if("function"==typeof _e)return _e(we,it);switch(_e){case"pathParamsChange":return!ft(we.url,it.url);case"pathParamsOrQueryParamsChange":return!ft(we.url,it.url)||!K(we.queryParams,it.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qn(we,it)||!K(we.queryParams,it.queryParams);default:return!qn(we,it)}}(tn,nn,nn.routeConfig.runGuardsAndResolvers);ni?kt.canActivateChecks.push(new Ys(Je)):(nn.data=tn.data,nn._resolvedData=tn._resolvedData),bs(we,it,nn.component?kn?kn.children:null:_e,Je,kt),ni&&kn&&kn.outlet&&kn.outlet.isActivated&&kt.canDeactivateChecks.push(new Go(kn.outlet.component,tn))}else tn&&Ho(it,kn,kt),kt.canActivateChecks.push(new Ys(Je)),bs(we,null,nn.component?kn?kn.children:null:_e,Je,kt)})(tn,nn[tn.value.outlet],_e,Je.concat([tn.value]),kt),delete nn[tn.value.outlet]}),Object.entries(nn).forEach(([tn,kn])=>Ho(kn,_e.getContext(tn),kt)),kt}function Ho(we,it,_e){const Je=Uo(we),kt=we.value;Object.entries(Je).forEach(([nn,tn])=>{Ho(tn,kt.component?it?it.children.getContext(nn):null:it,_e)}),_e.canDeactivateChecks.push(new Go(kt.component&&it&&it.outlet&&it.outlet.isActivated?it.outlet.component:null,kt))}function jo(we){return"function"==typeof we}function Ls(we){return we instanceof w.K||"EmptyError"===we?.name}const ks=Symbol("INITIAL_VALUE");function mr(){return(0,D.w)(we=>(0,x.a)(we.map(it=>it.pipe((0,I.q)(1),(0,S.O)(ks)))).pipe((0,O.U)(it=>{for(const _e of it)if(!0!==_e){if(_e===ks)return ks;if(!1===_e||_e instanceof Le)return _e}return!0}),(0,L.h)(it=>it!==ks),(0,I.q)(1)))}function Qo(we){return(0,i.z)((0,ne.b)(it=>{if(Gn(it))throw zr(0,it)}),(0,O.U)(it=>!0===it))}class eo{constructor(it){this.segmentGroup=it||null}}class Es{constructor(it){this.urlTree=it}}function Tr(we){return T(new eo(we))}function Ro(we){return T(new Es(we))}class Qs{constructor(it,_e){this.urlSerializer=it,this.urlTree=_e}noMatchError(it){return new e.vHH(4002,!1)}lineralizeSegments(it,_e){let Je=[],kt=_e.root;for(;;){if(Je=Je.concat(kt.segments),0===kt.numberOfChildren)return(0,A.of)(Je);if(kt.numberOfChildren>1||!kt.children[Fe])return T(new e.vHH(4e3,!1));kt=kt.children[Fe]}}applyRedirectCommands(it,_e,Je){return this.applyRedirectCreateUrlTree(_e,this.urlSerializer.parse(_e),it,Je)}applyRedirectCreateUrlTree(it,_e,Je,kt){const nn=this.createSegmentGroup(it,_e.root,Je,kt);return new Le(nn,this.createQueryParams(_e.queryParams,this.urlTree.queryParams),_e.fragment)}createQueryParams(it,_e){const Je={};return Object.entries(it).forEach(([kt,nn])=>{if("string"==typeof nn&&nn.startsWith(":")){const kn=nn.substring(1);Je[kt]=_e[kn]}else Je[kt]=nn}),Je}createSegmentGroup(it,_e,Je,kt){const nn=this.createSegments(it,_e.segments,Je,kt);let tn={};return Object.entries(_e.children).forEach(([kn,ni])=>{tn[kn]=this.createSegmentGroup(it,ni,Je,kt)}),new et(nn,tn)}createSegments(it,_e,Je,kt){return _e.map(nn=>nn.path.startsWith(":")?this.findPosParam(it,nn,kt):this.findOrReturn(nn,Je))}findPosParam(it,_e,Je){const kt=Je[_e.path.substring(1)];if(!kt)throw new e.vHH(4001,!1);return kt}findOrReturn(it,_e){let Je=0;for(const kt of _e){if(kt.path===it.path)return _e.splice(Je),kt;Je++}return it}}const Ts={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fa(we,it,_e,Je,kt){const nn=Ja(we,it,_e);return nn.matched?(Je=function Ks(we,it){return we.providers&&!we._injector&&(we._injector=(0,e.MMx)(we.providers,it,`Route: ${we.path}`)),we._injector??it}(it,Je),function os(we,it,_e,Je){const kt=it.canMatch;if(!kt||0===kt.length)return(0,A.of)(!0);const nn=kt.map(tn=>{const kn=fs(tn,we);return oe(function Jo(we){return we&&jo(we.canMatch)}(kn)?kn.canMatch(it,_e):we.runInContext(()=>kn(it,_e)))});return(0,A.of)(nn).pipe(mr(),Qo())}(Je,it,_e).pipe((0,O.U)(tn=>!0===tn?nn:{...Ts}))):(0,A.of)(nn)}function Ja(we,it,_e){if(""===it.path)return"full"===it.pathMatch&&(we.hasChildren()||_e.length>0)?{...Ts}:{matched:!0,consumedSegments:[],remainingSegments:_e,parameters:{},positionalParamSegments:{}};const kt=(it.matcher||ye)(_e,we,it);if(!kt)return{...Ts};const nn={};Object.entries(kt.posParams??{}).forEach(([kn,ni])=>{nn[kn]=ni.path});const tn=kt.consumed.length>0?{...nn,...kt.consumed[kt.consumed.length-1].parameters}:nn;return{matched:!0,consumedSegments:kt.consumed,remainingSegments:_e.slice(kt.consumed.length),parameters:tn,positionalParamSegments:kt.posParams??{}}}function Qa(we,it,_e,Je){return _e.length>0&&function Cl(we,it,_e){return _e.some(Je=>Yl(we,it,Je)&&Er(Je)!==Fe)}(we,_e,Je)?{segmentGroup:new et(it,Sl(Je,new et(_e,we.children))),slicedSegments:[]}:0===_e.length&&function go(we,it,_e){return _e.some(Je=>Yl(we,it,Je))}(we,_e,Je)?{segmentGroup:new et(we.segments,qs(we,0,_e,Je,we.children)),slicedSegments:_e}:{segmentGroup:new et(we.segments,we.children),slicedSegments:_e}}function qs(we,it,_e,Je,kt){const nn={};for(const tn of Je)if(Yl(we,_e,tn)&&!kt[Er(tn)]){const kn=new et([],{});nn[Er(tn)]=kn}return{...kt,...nn}}function Sl(we,it){const _e={};_e[Fe]=it;for(const Je of we)if(""===Je.path&&Er(Je)!==Fe){const kt=new et([],{});_e[Er(Je)]=kt}return _e}function Yl(we,it,_e){return(!(we.hasChildren()||it.length>0)||"full"!==_e.pathMatch)&&""===_e.path}class yc{constructor(it,_e,Je,kt,nn,tn,kn){this.injector=it,this.configLoader=_e,this.rootComponentType=Je,this.config=kt,this.urlTree=nn,this.paramsInheritanceStrategy=tn,this.urlSerializer=kn,this.allowRedirects=!0,this.applyRedirects=new Qs(this.urlSerializer,this.urlTree)}noMatchError(it){return new e.vHH(4002,!1)}recognize(){const it=Qa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,it,Fe).pipe(ce(_e=>{if(_e instanceof Es)return this.allowRedirects=!1,this.urlTree=_e.urlTree,this.match(_e.urlTree);throw _e instanceof eo?this.noMatchError(_e):_e}),(0,O.U)(_e=>{const Je=new Or([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Fe,this.rootComponentType,null,{}),kt=new qr(Je,_e),nn=new ro("",kt),tn=function Zn(we,it,_e=null,Je=null){return ln(dn(we),it,_e,Je)}(Je,[],this.urlTree.queryParams,this.urlTree.fragment);return tn.queryParams=this.urlTree.queryParams,nn.url=this.urlSerializer.serialize(tn),this.inheritParamsAndData(nn._root),{state:nn,tree:tn}}))}match(it){return this.processSegmentGroup(this.injector,this.config,it.root,Fe).pipe(ce(Je=>{throw Je instanceof eo?this.noMatchError(Je):Je}))}inheritParamsAndData(it){const _e=it.value,Je=Gr(_e,this.paramsInheritanceStrategy);_e.params=Object.freeze(Je.params),_e.data=Object.freeze(Je.data),it.children.forEach(kt=>this.inheritParamsAndData(kt))}processSegmentGroup(it,_e,Je,kt){return 0===Je.segments.length&&Je.hasChildren()?this.processChildren(it,_e,Je):this.processSegment(it,_e,Je,Je.segments,kt,!0)}processChildren(it,_e,Je){const kt=[];for(const nn of Object.keys(Je.children))"primary"===nn?kt.unshift(nn):kt.push(nn);return(0,b.D)(kt).pipe((0,z.b)(nn=>{const tn=Je.children[nn],kn=function Ws(we,it){const _e=we.filter(Je=>Er(Je)===it);return _e.push(...we.filter(Je=>Er(Je)!==it)),_e}(_e,nn);return this.processSegmentGroup(it,kn,tn,nn)}),function Se(we,it){return(0,J.e)(function W(we,it,_e,Je,kt){return(nn,tn)=>{let kn=_e,ni=it,Oi=0;nn.subscribe((0,Me.x)(tn,Ri=>{const _r=Oi++;ni=kn?we(ni,Ri,_r):(kn=!0,Ri),Je&&tn.next(ni)},kt&&(()=>{kn&&tn.next(ni),tn.complete()})))}}(we,it,arguments.length>=2,!0))}((nn,tn)=>(nn.push(...tn),nn)),(0,le.d)(null),function fe(we,it){const _e=arguments.length>=2;return Je=>Je.pipe(we?(0,L.h)((kt,nn)=>we(kt,nn,Je)):Ve.y,Ee(1),_e?(0,le.d)(it):(0,xe.T)(()=>new w.K))}(),(0,C.z)(nn=>{if(null===nn)return Tr(Je);const tn=Xs(nn);return function Ba(we){we.sort((it,_e)=>it.value.outlet===Fe?-1:_e.value.outlet===Fe?1:it.value.outlet.localeCompare(_e.value.outlet))}(tn),(0,A.of)(tn)}))}processSegment(it,_e,Je,kt,nn,tn){return(0,b.D)(_e).pipe((0,z.b)(kn=>this.processSegmentAgainstRoute(kn._injector??it,_e,kn,Je,kt,nn,tn).pipe(ce(ni=>{if(ni instanceof eo)return(0,A.of)(null);throw ni}))),(0,U.P)(kn=>!!kn),ce(kn=>{if(Ls(kn))return function vc(we,it,_e){return 0===it.length&&!we.children[_e]}(Je,kt,nn)?(0,A.of)([]):Tr(Je);throw kn}))}processSegmentAgainstRoute(it,_e,Je,kt,nn,tn,kn){return function qa(we,it,_e,Je){return!!(Er(we)===Je||Je!==Fe&&Yl(it,_e,we))&&("**"===we.path||Ja(it,we,_e).matched)}(Je,kt,nn,tn)?void 0===Je.redirectTo?this.matchSegmentAgainstRoute(it,kt,Je,nn,tn,kn):kn&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(it,kt,_e,Je,nn,tn):Tr(kt):Tr(kt)}expandSegmentAgainstRouteUsingRedirect(it,_e,Je,kt,nn,tn){return"**"===kt.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(it,Je,kt,tn):this.expandRegularSegmentAgainstRouteUsingRedirect(it,_e,Je,kt,nn,tn)}expandWildCardWithParamsAgainstRouteUsingRedirect(it,_e,Je,kt){const nn=this.applyRedirects.applyRedirectCommands([],Je.redirectTo,{});return Je.redirectTo.startsWith("/")?Ro(nn):this.applyRedirects.lineralizeSegments(Je,nn).pipe((0,C.z)(tn=>{const kn=new et(tn,{});return this.processSegment(it,_e,kn,tn,kt,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(it,_e,Je,kt,nn,tn){const{matched:kn,consumedSegments:ni,remainingSegments:Oi,positionalParamSegments:Ri}=Ja(_e,kt,nn);if(!kn)return Tr(_e);const _r=this.applyRedirects.applyRedirectCommands(ni,kt.redirectTo,Ri);return kt.redirectTo.startsWith("/")?Ro(_r):this.applyRedirects.lineralizeSegments(kt,_r).pipe((0,C.z)(so=>this.processSegment(it,Je,_e,so.concat(Oi),tn,!1)))}matchSegmentAgainstRoute(it,_e,Je,kt,nn,tn){let kn;if("**"===Je.path){const ni=kt.length>0?ge(kt).parameters:{},Oi=new Or(kt,ni,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xa(Je),Er(Je),Je.component??Je._loadedComponent??null,Je,el(Je));kn=(0,A.of)({snapshot:Oi,consumedSegments:[],remainingSegments:[]}),_e.children={}}else kn=Fa(_e,Je,kt,it).pipe((0,O.U)(({matched:ni,consumedSegments:Oi,remainingSegments:Ri,parameters:_r})=>ni?{snapshot:new Or(Oi,_r,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xa(Je),Er(Je),Je.component??Je._loadedComponent??null,Je,el(Je)),consumedSegments:Oi,remainingSegments:Ri}:null));return kn.pipe((0,D.w)(ni=>null===ni?Tr(_e):this.getChildConfig(it=Je._injector??it,Je,kt).pipe((0,D.w)(({routes:Oi})=>{const Ri=Je._loadedInjector??it,{snapshot:_r,consumedSegments:so,remainingSegments:ra}=ni,{segmentGroup:Cs,slicedSegments:_a}=Qa(_e,so,ra,Oi);if(0===_a.length&&Cs.hasChildren())return this.processChildren(Ri,Oi,Cs).pipe((0,O.U)(gs=>null===gs?null:[new qr(_r,gs)]));if(0===Oi.length&&0===_a.length)return(0,A.of)([new qr(_r,[])]);const oa=Er(Je)===nn;return this.processSegment(Ri,Oi,Cs,_a,oa?Fe:nn,!0).pipe((0,O.U)(gs=>[new qr(_r,gs)]))}))))}getChildConfig(it,_e,Je){return _e.children?(0,A.of)({routes:_e.children,injector:it}):_e.loadChildren?void 0!==_e._loadedRoutes?(0,A.of)({routes:_e._loadedRoutes,injector:_e._loadedInjector}):function wo(we,it,_e,Je){const kt=it.canLoad;if(void 0===kt||0===kt.length)return(0,A.of)(!0);const nn=kt.map(tn=>{const kn=fs(tn,we);return oe(function pa(we){return we&&jo(we.canLoad)}(kn)?kn.canLoad(it,_e):we.runInContext(()=>kn(it,_e)))});return(0,A.of)(nn).pipe(mr(),Qo())}(it,_e,Je).pipe((0,C.z)(kt=>kt?this.configLoader.loadChildren(it,_e).pipe((0,ne.b)(nn=>{_e._loadedRoutes=nn.routes,_e._loadedInjector=nn.injector})):function ka(we){return T(Xr(!1,3))}())):(0,A.of)({routes:[],injector:it})}}function Ua(we){const it=we.value.routeConfig;return it&&""===it.path}function Xs(we){const it=[],_e=new Set;for(const Je of we){if(!Ua(Je)){it.push(Je);continue}const kt=it.find(nn=>Je.value.routeConfig===nn.value.routeConfig);void 0!==kt?(kt.children.push(...Je.children),_e.add(kt)):it.push(Je)}for(const Je of _e){const kt=Xs(Je.children);it.push(new qr(Je.value,kt))}return it.filter(Je=>!_e.has(Je))}function Xa(we){return we.data||{}}function el(we){return we.resolve||{}}function Ss(we){return"string"==typeof we.title||null===we.title}function $i(we){return(0,D.w)(it=>{const _e=we(it);return _e?(0,b.D)(_e).pipe((0,O.U)(()=>it)):(0,A.of)(it)})}const Us=new e.OlP("ROUTES");let Ge=(()=>{class we{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,e.f3M)(e.Sil)}loadComponent(_e){if(this.componentLoaders.get(_e))return this.componentLoaders.get(_e);if(_e._loadedComponent)return(0,A.of)(_e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_e);const Je=oe(_e.loadComponent()).pipe((0,O.U)(pt),(0,ne.b)(nn=>{this.onLoadEndListener&&this.onLoadEndListener(_e),_e._loadedComponent=nn}),(0,Ce.x)(()=>{this.componentLoaders.delete(_e)})),kt=new P.c(Je,()=>new k.x).pipe((0,me.x)());return this.componentLoaders.set(_e,kt),kt}loadChildren(_e,Je){if(this.childrenLoaders.get(Je))return this.childrenLoaders.get(Je);if(Je._loadedRoutes)return(0,A.of)({routes:Je._loadedRoutes,injector:Je._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Je);const nn=this.loadModuleFactoryOrRoutes(Je.loadChildren).pipe((0,O.U)(kn=>{this.onLoadEndListener&&this.onLoadEndListener(Je);let ni,Oi;return Array.isArray(kn)?Oi=kn:(ni=kn.create(_e).injector,Oi=ni.get(Us,[],e.XFs.Self|e.XFs.Optional).flat()),{routes:Oi.map(Zr),injector:ni}}),(0,Ce.x)(()=>{this.childrenLoaders.delete(Je)})),tn=new P.c(nn,()=>new k.x).pipe((0,me.x)());return this.childrenLoaders.set(Je,tn),tn}loadModuleFactoryOrRoutes(_e){return oe(_e()).pipe((0,O.U)(pt),(0,C.z)(Je=>Je instanceof e.YKP||Array.isArray(Je)?(0,A.of)(Je):(0,b.D)(this.compiler.compileModuleAsync(Je))))}static#e=this.\u0275fac=function(Je){return new(Je||we)};static#t=this.\u0275prov=e.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})();function pt(we){return function Vt(we){return we&&"object"==typeof we&&"default"in we}(we)?we.default:we}let Mt=(()=>{class we{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new k.x,this.configLoader=(0,e.f3M)(Ge),this.environmentInjector=(0,e.f3M)(e.lqb),this.urlSerializer=(0,e.f3M)(ht),this.rootContexts=(0,e.f3M)(Dr),this.inputBindingEnabled=null!==(0,e.f3M)(Ki,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,A.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=kt=>this.events.next(new bo(kt)),this.configLoader.onLoadStartListener=kt=>this.events.next(new fr(kt))}complete(){this.transitions?.complete()}handleNavigationRequest(_e){const Je=++this.navigationId;this.transitions?.next({...this.transitions.value,..._e,id:Je})}setupNavigations(_e){return this.transitions=new _.X({id:0,currentUrlTree:_e.currentUrlTree,currentRawUrl:_e.currentUrlTree,extractedUrl:_e.urlHandlingStrategy.extract(_e.currentUrlTree),urlAfterRedirects:_e.urlHandlingStrategy.extract(_e.currentUrlTree),rawUrl:_e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vn,restoredState:null,currentSnapshot:_e.routerState.snapshot,targetSnapshot:null,currentRouterState:_e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,L.h)(Je=>0!==Je.id),(0,O.U)(Je=>({...Je,extractedUrl:_e.urlHandlingStrategy.extract(Je.rawUrl)})),(0,D.w)(Je=>{let kt=!1,nn=!1;return(0,A.of)(Je).pipe((0,ne.b)(tn=>{this.currentNavigation={id:tn.id,initialUrl:tn.rawUrl,extractedUrl:tn.extractedUrl,trigger:tn.source,extras:tn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,D.w)(tn=>{const kn=_e.browserUrlTree.toString(),ni=!_e.navigated||tn.extractedUrl.toString()!==kn||kn!==_e.currentUrlTree.toString();if(!ni&&"reload"!==(tn.extras.onSameUrlNavigation??_e.onSameUrlNavigation)){const Ri="";return this.events.next(new At(tn.id,_e.serializeUrl(Je.rawUrl),Ri,0)),_e.rawUrlTree=tn.rawUrl,tn.resolve(null),B.E}if(_e.urlHandlingStrategy.shouldProcessUrl(tn.rawUrl))return ct(tn.source)&&(_e.browserUrlTree=tn.extractedUrl),(0,A.of)(tn).pipe((0,D.w)(Ri=>{const _r=this.transitions?.getValue();return this.events.next(new Cn(Ri.id,this.urlSerializer.serialize(Ri.extractedUrl),Ri.source,Ri.restoredState)),_r!==this.transitions?.getValue()?B.E:Promise.resolve(Ri)}),function Bs(we,it,_e,Je,kt,nn){return(0,C.z)(tn=>function Fs(we,it,_e,Je,kt,nn,tn="emptyOnly"){return new yc(we,it,_e,Je,kt,tn,nn).recognize()}(we,it,_e,Je,tn.extractedUrl,kt,nn).pipe((0,O.U)(({state:kn,tree:ni})=>({...tn,targetSnapshot:kn,urlAfterRedirects:ni}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_e.config,this.urlSerializer,_e.paramsInheritanceStrategy),(0,ne.b)(Ri=>{if(Je.targetSnapshot=Ri.targetSnapshot,Je.urlAfterRedirects=Ri.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ri.urlAfterRedirects},"eager"===_e.urlUpdateStrategy){if(!Ri.extras.skipLocationChange){const so=_e.urlHandlingStrategy.merge(Ri.urlAfterRedirects,Ri.rawUrl);_e.setBrowserUrl(so,Ri)}_e.browserUrlTree=Ri.urlAfterRedirects}const _r=new wn(Ri.id,this.urlSerializer.serialize(Ri.extractedUrl),this.urlSerializer.serialize(Ri.urlAfterRedirects),Ri.targetSnapshot);this.events.next(_r)}));if(ni&&_e.urlHandlingStrategy.shouldProcessUrl(_e.rawUrlTree)){const{id:Ri,extractedUrl:_r,source:so,restoredState:ra,extras:Cs}=tn,_a=new Cn(Ri,this.urlSerializer.serialize(_r),so,ra);this.events.next(_a);const oa=_i(0,this.rootComponentType).snapshot;return Je={...tn,targetSnapshot:oa,urlAfterRedirects:_r,extras:{...Cs,skipLocationChange:!1,replaceUrl:!1}},(0,A.of)(Je)}{const Ri="";return this.events.next(new At(tn.id,_e.serializeUrl(Je.extractedUrl),Ri,1)),_e.rawUrlTree=tn.rawUrl,tn.resolve(null),B.E}}),(0,ne.b)(tn=>{const kn=new ci(tn.id,this.urlSerializer.serialize(tn.extractedUrl),this.urlSerializer.serialize(tn.urlAfterRedirects),tn.targetSnapshot);this.events.next(kn)}),(0,O.U)(tn=>Je={...tn,guards:zs(tn.targetSnapshot,tn.currentSnapshot,this.rootContexts)}),function Pn(we,it){return(0,C.z)(_e=>{const{targetSnapshot:Je,currentSnapshot:kt,guards:{canActivateChecks:nn,canDeactivateChecks:tn}}=_e;return 0===tn.length&&0===nn.length?(0,A.of)({..._e,guardsResult:!0}):function ut(we,it,_e,Je){return(0,b.D)(we).pipe((0,C.z)(kt=>function Bi(we,it,_e,Je,kt){const nn=it&&it.routeConfig?it.routeConfig.canDeactivate:null;if(!nn||0===nn.length)return(0,A.of)(!0);const tn=nn.map(kn=>{const ni=po(it)??kt,Oi=fs(kn,ni);return oe(function $s(we){return we&&jo(we.canDeactivate)}(Oi)?Oi.canDeactivate(we,it,_e,Je):ni.runInContext(()=>Oi(we,it,_e,Je))).pipe((0,U.P)())});return(0,A.of)(tn).pipe(mr())}(kt.component,kt.route,_e,it,Je)),(0,U.P)(kt=>!0!==kt,!0))}(tn,Je,kt,we).pipe((0,C.z)(kn=>kn&&function Zs(we){return"boolean"==typeof we}(kn)?function It(we,it,_e,Je){return(0,b.D)(it).pipe((0,z.b)(kt=>(0,g.z)(function Wt(we,it){return null!==we&&it&&it(new Eo(we)),(0,A.of)(!0)}(kt.route.parent,Je),function lt(we,it){return null!==we&&it&&it(new es(we)),(0,A.of)(!0)}(kt.route,Je),function pi(we,it,_e){const Je=it[it.length-1],nn=it.slice(0,it.length-1).reverse().map(tn=>function Rs(we){const it=we.routeConfig?we.routeConfig.canActivateChild:null;return it&&0!==it.length?{node:we,guards:it}:null}(tn)).filter(tn=>null!==tn).map(tn=>(0,d.P)(()=>{const kn=tn.guards.map(ni=>{const Oi=po(tn.node)??_e,Ri=fs(ni,Oi);return oe(function hs(we){return we&&jo(we.canActivateChild)}(Ri)?Ri.canActivateChild(Je,we):Oi.runInContext(()=>Ri(Je,we))).pipe((0,U.P)())});return(0,A.of)(kn).pipe(mr())}));return(0,A.of)(nn).pipe(mr())}(we,kt.path,_e),function En(we,it,_e){const Je=it.routeConfig?it.routeConfig.canActivate:null;if(!Je||0===Je.length)return(0,A.of)(!0);const kt=Je.map(nn=>(0,d.P)(()=>{const tn=po(it)??_e,kn=fs(nn,tn);return oe(function Ns(we){return we&&jo(we.canActivate)}(kn)?kn.canActivate(it,we):tn.runInContext(()=>kn(it,we))).pipe((0,U.P)())}));return(0,A.of)(kt).pipe(mr())}(we,kt.route,_e))),(0,U.P)(kt=>!0!==kt,!0))}(Je,nn,we,it):(0,A.of)(kn)),(0,O.U)(kn=>({..._e,guardsResult:kn})))})}(this.environmentInjector,tn=>this.events.next(tn)),(0,ne.b)(tn=>{if(Je.guardsResult=tn.guardsResult,Gn(tn.guardsResult))throw zr(0,tn.guardsResult);const kn=new nr(tn.id,this.urlSerializer.serialize(tn.extractedUrl),this.urlSerializer.serialize(tn.urlAfterRedirects),tn.targetSnapshot,!!tn.guardsResult);this.events.next(kn)}),(0,L.h)(tn=>!!tn.guardsResult||(_e.restoreHistory(tn),this.cancelNavigationTransition(tn,"",3),!1)),$i(tn=>{if(tn.guards.canActivateChecks.length)return(0,A.of)(tn).pipe((0,ne.b)(kn=>{const ni=new kr(kn.id,this.urlSerializer.serialize(kn.extractedUrl),this.urlSerializer.serialize(kn.urlAfterRedirects),kn.targetSnapshot);this.events.next(ni)}),(0,D.w)(kn=>{let ni=!1;return(0,A.of)(kn).pipe(function tl(we,it){return(0,C.z)(_e=>{const{targetSnapshot:Je,guards:{canActivateChecks:kt}}=_e;if(!kt.length)return(0,A.of)(_e);let nn=0;return(0,b.D)(kt).pipe((0,z.b)(tn=>function Ga(we,it,_e,Je){const kt=we.routeConfig,nn=we._resolve;return void 0!==kt?.title&&!Ss(kt)&&(nn[Ne]=kt.title),function nl(we,it,_e,Je){const kt=function ss(we){return[...Object.keys(we),...Object.getOwnPropertySymbols(we)]}(we);if(0===kt.length)return(0,A.of)({});const nn={};return(0,b.D)(kt).pipe((0,C.z)(tn=>function Aa(we,it,_e,Je){const kt=po(it)??Je,nn=fs(we,kt);return oe(nn.resolve?nn.resolve(it,_e):kt.runInContext(()=>nn(it,_e)))}(we[tn],it,_e,Je).pipe((0,U.P)(),(0,ne.b)(kn=>{nn[tn]=kn}))),Ee(1),(0,Pe.h)(nn),ce(tn=>Ls(tn)?B.E:T(tn)))}(nn,we,it,Je).pipe((0,O.U)(tn=>(we._resolvedData=tn,we.data=Gr(we,_e).resolve,kt&&Ss(kt)&&(we.data[Ne]=kt.title),null)))}(tn.route,Je,we,it)),(0,ne.b)(()=>nn++),Ee(1),(0,C.z)(tn=>nn===kt.length?(0,A.of)(_e):B.E))})}(_e.paramsInheritanceStrategy,this.environmentInjector),(0,ne.b)({next:()=>ni=!0,complete:()=>{ni||(_e.restoreHistory(kn),this.cancelNavigationTransition(kn,"",2))}}))}),(0,ne.b)(kn=>{const ni=new Ar(kn.id,this.urlSerializer.serialize(kn.extractedUrl),this.urlSerializer.serialize(kn.urlAfterRedirects),kn.targetSnapshot);this.events.next(ni)}))}),$i(tn=>{const kn=ni=>{const Oi=[];ni.routeConfig?.loadComponent&&!ni.routeConfig._loadedComponent&&Oi.push(this.configLoader.loadComponent(ni.routeConfig).pipe((0,ne.b)(Ri=>{ni.component=Ri}),(0,O.U)(()=>{})));for(const Ri of ni.children)Oi.push(...kn(Ri));return Oi};return(0,x.a)(kn(tn.targetSnapshot.root)).pipe((0,le.d)(),(0,I.q)(1))}),$i(()=>this.afterPreactivation()),(0,O.U)(tn=>{const kn=function xr(we,it,_e){const Je=Vr(we,it._root,_e?_e._root:void 0);return new hr(Je,it)}(_e.routeReuseStrategy,tn.targetSnapshot,tn.currentRouterState);return Je={...tn,targetRouterState:kn}}),(0,ne.b)(tn=>{_e.currentUrlTree=tn.urlAfterRedirects,_e.rawUrlTree=_e.urlHandlingStrategy.merge(tn.urlAfterRedirects,tn.rawUrl),_e.routerState=tn.targetRouterState,"deferred"===_e.urlUpdateStrategy&&(tn.extras.skipLocationChange||_e.setBrowserUrl(_e.rawUrlTree,tn),_e.browserUrlTree=tn.urlAfterRedirects)}),((we,it,_e,Je)=>(0,O.U)(kt=>(new rs(it,kt.targetRouterState,kt.currentRouterState,_e,Je).activate(we),kt)))(this.rootContexts,_e.routeReuseStrategy,tn=>this.events.next(tn),this.inputBindingEnabled),(0,I.q)(1),(0,ne.b)({next:tn=>{kt=!0,this.lastSuccessfulNavigation=this.currentNavigation,_e.navigated=!0,this.events.next(new Ae(tn.id,this.urlSerializer.serialize(tn.extractedUrl),this.urlSerializer.serialize(_e.currentUrlTree))),_e.titleStrategy?.updateTitle(tn.targetRouterState.snapshot),tn.resolve(!0)},complete:()=>{kt=!0}}),(0,Ce.x)(()=>{kt||nn||this.cancelNavigationTransition(Je,"",1),this.currentNavigation?.id===Je.id&&(this.currentNavigation=null)}),ce(tn=>{if(nn=!0,xo(tn)){Zo(tn)||(_e.navigated=!0,_e.restoreHistory(Je,!0));const kn=new Nt(Je.id,this.urlSerializer.serialize(Je.extractedUrl),tn.message,tn.cancellationCode);if(this.events.next(kn),Zo(tn)){const ni=_e.urlHandlingStrategy.merge(tn.url,_e.rawUrlTree),Oi={skipLocationChange:Je.extras.skipLocationChange,replaceUrl:"eager"===_e.urlUpdateStrategy||ct(Je.source)};_e.scheduleNavigation(ni,Vn,null,Oi,{resolve:Je.resolve,reject:Je.reject,promise:Je.promise})}else Je.resolve(!1)}else{_e.restoreHistory(Je,!0);const kn=new en(Je.id,this.urlSerializer.serialize(Je.extractedUrl),tn,Je.targetSnapshot??void 0);this.events.next(kn);try{Je.resolve(_e.errorHandler(tn))}catch(ni){Je.reject(ni)}}return B.E}))}))}cancelNavigationTransition(_e,Je,kt){const nn=new Nt(_e.id,this.urlSerializer.serialize(_e.extractedUrl),Je,kt);this.events.next(nn),_e.resolve(!1)}static#e=this.\u0275fac=function(Je){return new(Je||we)};static#t=this.\u0275prov=e.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})();function ct(we){return we!==Vn}let In=(()=>{class we{buildTitle(_e){let Je,kt=_e.root;for(;void 0!==kt;)Je=this.getResolvedTitleForRoute(kt)??Je,kt=kt.children.find(nn=>nn.outlet===Fe);return Je}getResolvedTitleForRoute(_e){return _e.data[Ne]}static#e=this.\u0275fac=function(Je){return new(Je||we)};static#t=this.\u0275prov=e.Yz7({token:we,factory:function(){return(0,e.f3M)(yn)},providedIn:"root"})}return we})(),yn=(()=>{class we extends In{constructor(_e){super(),this.title=_e}updateTitle(_e){const Je=this.buildTitle(_e);void 0!==Je&&this.title.setTitle(Je)}static#e=this.\u0275fac=function(Je){return new(Je||we)(e.LFG(Re.Dx))};static#t=this.\u0275prov=e.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})(),mi=(()=>{class we{static#e=this.\u0275fac=function(Je){return new(Je||we)};static#t=this.\u0275prov=e.Yz7({token:we,factory:function(){return(0,e.f3M)(Wi)},providedIn:"root"})}return we})();class Ji{shouldDetach(it){return!1}store(it,_e){}shouldAttach(it){return!1}retrieve(it){return null}shouldReuseRoute(it,_e){return it.routeConfig===_e.routeConfig}}let Wi=(()=>{class we extends Ji{static#e=this.\u0275fac=function(){let _e;return function(kt){return(_e||(_e=e.n5z(we)))(kt||we)}}();static#t=this.\u0275prov=e.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})();const rr=new e.OlP("",{providedIn:"root",factory:()=>({})});let Qi=(()=>{class we{static#e=this.\u0275fac=function(Je){return new(Je||we)};static#t=this.\u0275prov=e.Yz7({token:we,factory:function(){return(0,e.f3M)($r)},providedIn:"root"})}return we})(),$r=(()=>{class we{shouldProcessUrl(_e){return!0}extract(_e){return _e}merge(_e,Je){return _e}static#e=this.\u0275fac=function(Je){return new(Je||we)};static#t=this.\u0275prov=e.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})();var An=function(we){return we[we.COMPLETE=0]="COMPLETE",we[we.FAILED=1]="FAILED",we[we.REDIRECTING=2]="REDIRECTING",we}(An||{});function Ir(we,it){we.events.pipe((0,L.h)(_e=>_e instanceof Ae||_e instanceof Nt||_e instanceof en||_e instanceof At),(0,O.U)(_e=>_e instanceof Ae||_e instanceof At?An.COMPLETE:_e instanceof Nt&&(0===_e.code||1===_e.code)?An.REDIRECTING:An.FAILED),(0,L.h)(_e=>_e!==An.REDIRECTING),(0,I.q)(1)).subscribe(()=>{it()})}function Mo(we){throw we}function vi(we,it,_e){return it.parse("/")}const ea={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let oo=(()=>{class we{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,e.f3M)(e.c2e),this.isNgZoneEnabled=!1,this.options=(0,e.f3M)(rr,{optional:!0})||{},this.pendingTasks=(0,e.f3M)(e.HDt),this.errorHandler=this.options.errorHandler||Mo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vi,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,e.f3M)(Qi),this.routeReuseStrategy=(0,e.f3M)(mi),this.titleStrategy=(0,e.f3M)(In),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,e.f3M)(Us,{optional:!0})?.flat()??[],this.navigationTransitions=(0,e.f3M)(Mt),this.urlSerializer=(0,e.f3M)(ht),this.location=(0,e.f3M)(F.Ye),this.componentInputBindingEnabled=!!(0,e.f3M)(Ki,{optional:!0}),this.isNgZoneEnabled=(0,e.f3M)(e.R0b)instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Le,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_i(0,null),this.navigationTransitions.setupNavigations(this).subscribe(_e=>{this.lastSuccessfulId=_e.id,this.currentPageId=this.browserPageId??0},_e=>{this.console.warn(`Unhandled Navigation Error: ${_e}`)})}resetRootComponentType(_e){this.routerState.root.component=_e,this.navigationTransitions.rootComponentType=_e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const _e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Vn,_e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_e=>{const Je="popstate"===_e.type?"popstate":"hashchange";"popstate"===Je&&setTimeout(()=>{this.navigateToSyncWithBrowser(_e.url,Je,_e.state)},0)}))}navigateToSyncWithBrowser(_e,Je,kt){const nn={replaceUrl:!0},tn=kt?.navigationId?kt:null;if(kt){const ni={...kt};delete ni.navigationId,delete ni.\u0275routerPageId,0!==Object.keys(ni).length&&(nn.state=ni)}const kn=this.parseUrl(_e);this.scheduleNavigation(kn,Je,tn,nn)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_e){this.config=_e.map(Zr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_e,Je={}){const{relativeTo:kt,queryParams:nn,fragment:tn,queryParamsHandling:kn,preserveFragment:ni}=Je,Oi=ni?this.currentUrlTree.fragment:tn;let _r,Ri=null;switch(kn){case"merge":Ri={...this.currentUrlTree.queryParams,...nn};break;case"preserve":Ri=this.currentUrlTree.queryParams;break;default:Ri=nn||null}null!==Ri&&(Ri=this.removeEmptyProps(Ri));try{_r=dn(kt?kt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _e[0]||!_e[0].startsWith("/"))&&(_e=[]),_r=this.currentUrlTree.root}return ln(_r,_e,Ri,Oi??null)}navigateByUrl(_e,Je={skipLocationChange:!1}){const kt=Gn(_e)?_e:this.parseUrl(_e),nn=this.urlHandlingStrategy.merge(kt,this.rawUrlTree);return this.scheduleNavigation(nn,Vn,null,Je)}navigate(_e,Je={skipLocationChange:!1}){return function Xo(we){for(let it=0;it<we.length;it++)if(null==we[it])throw new e.vHH(4008,!1)}(_e),this.navigateByUrl(this.createUrlTree(_e,Je),Je)}serializeUrl(_e){return this.urlSerializer.serialize(_e)}parseUrl(_e){let Je;try{Je=this.urlSerializer.parse(_e)}catch(kt){Je=this.malformedUriErrorHandler(kt,this.urlSerializer,_e)}return Je}isActive(_e,Je){let kt;if(kt=!0===Je?{...ea}:!1===Je?{...qo}:Je,Gn(_e))return $(this.currentUrlTree,_e,kt);const nn=this.parseUrl(_e);return $(this.currentUrlTree,nn,kt)}removeEmptyProps(_e){return Object.keys(_e).reduce((Je,kt)=>{const nn=_e[kt];return null!=nn&&(Je[kt]=nn),Je},{})}scheduleNavigation(_e,Je,kt,nn,tn){if(this.disposed)return Promise.resolve(!1);let kn,ni,Oi;tn?(kn=tn.resolve,ni=tn.reject,Oi=tn.promise):Oi=new Promise((_r,so)=>{kn=_r,ni=so});const Ri=this.pendingTasks.add();return Ir(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ri))}),this.navigationTransitions.handleNavigationRequest({source:Je,restoredState:kt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:_e,extras:nn,resolve:kn,reject:ni,promise:Oi,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Oi.catch(_r=>Promise.reject(_r))}setBrowserUrl(_e,Je){const kt=this.urlSerializer.serialize(_e);if(this.location.isCurrentPathEqualTo(kt)||Je.extras.replaceUrl){const tn={...Je.extras.state,...this.generateNgRouterState(Je.id,this.browserPageId)};this.location.replaceState(kt,"",tn)}else{const nn={...Je.extras.state,...this.generateNgRouterState(Je.id,(this.browserPageId??0)+1)};this.location.go(kt,"",nn)}}restoreHistory(_e,Je=!1){if("computed"===this.canceledNavigationResolution){const nn=this.currentPageId-(this.browserPageId??this.currentPageId);0!==nn?this.location.historyGo(nn):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===nn&&(this.resetState(_e),this.browserUrlTree=_e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Je&&this.resetState(_e),this.resetUrlToCurrentUrlTree())}resetState(_e){this.routerState=_e.currentRouterState,this.currentUrlTree=_e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_e,Je){return"computed"===this.canceledNavigationResolution?{navigationId:_e,\u0275routerPageId:Je}:{navigationId:_e}}static#e=this.\u0275fac=function(Je){return new(Je||we)};static#t=this.\u0275prov=e.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})(),tr=(()=>{class we{constructor(_e,Je,kt,nn,tn,kn){this.router=_e,this.route=Je,this.tabIndexAttribute=kt,this.renderer=nn,this.el=tn,this.locationStrategy=kn,this.href=null,this.commands=null,this.onChanges=new k.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ni=tn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ni||"area"===ni,this.isAnchorElement?this.subscription=_e.events.subscribe(Oi=>{Oi instanceof Ae&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_e)}ngOnChanges(_e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_e){null!=_e?(this.commands=Array.isArray(_e)?_e:[_e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_e,Je,kt,nn,tn){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_e||Je||kt||nn||tn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const _e=null===this.href?null:(0,e.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_e)}applyAttributeValue(_e,Je){const kt=this.renderer,nn=this.el.nativeElement;null!==Je?kt.setAttribute(nn,_e,Je):kt.removeAttribute(nn,_e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(Je){return new(Je||we)(e.Y36(oo),e.Y36(qi),e.$8M("tabindex"),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(F.S$))};static#t=this.\u0275dir=e.lG2({type:we,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Je,kt){1&Je&&e.NdJ("click",function(tn){return kt.onClick(tn.button,tn.ctrlKey,tn.shiftKey,tn.altKey,tn.metaKey)}),2&Je&&e.uIk("target",kt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",e.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",e.VuI],replaceUrl:["replaceUrl","replaceUrl",e.VuI],routerLink:"routerLink"},standalone:!0,features:[e.Xq5,e.TTD]})}return we})();class bc{}let Ha=(()=>{class we{constructor(_e,Je,kt,nn,tn){this.router=_e,this.injector=kt,this.preloadingStrategy=nn,this.loader=tn}setUpPreloading(){this.subscription=this.router.events.pipe((0,L.h)(_e=>_e instanceof Ae),(0,z.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_e,Je){const kt=[];for(const nn of Je){nn.providers&&!nn._injector&&(nn._injector=(0,e.MMx)(nn.providers,_e,`Route: ${nn.path}`));const tn=nn._injector??_e,kn=nn._loadedInjector??tn;(nn.loadChildren&&!nn._loadedRoutes&&void 0===nn.canLoad||nn.loadComponent&&!nn._loadedComponent)&&kt.push(this.preloadConfig(tn,nn)),(nn.children||nn._loadedRoutes)&&kt.push(this.processRoutes(kn,nn.children??nn._loadedRoutes))}return(0,b.D)(kt).pipe((0,De.J)())}preloadConfig(_e,Je){return this.preloadingStrategy.preload(Je,()=>{let kt;kt=Je.loadChildren&&void 0===Je.canLoad?this.loader.loadChildren(_e,Je):(0,A.of)(null);const nn=kt.pipe((0,C.z)(tn=>null===tn?(0,A.of)(void 0):(Je._loadedRoutes=tn.routes,Je._loadedInjector=tn.injector,this.processRoutes(tn.injector??_e,tn.routes))));if(Je.loadComponent&&!Je._loadedComponent){const tn=this.loader.loadComponent(Je);return(0,b.D)([nn,tn]).pipe((0,De.J)())}return nn})}static#e=this.\u0275fac=function(Je){return new(Je||we)(e.LFG(oo),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(bc),e.LFG(Ge))};static#t=this.\u0275prov=e.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})();const Ml=new e.OlP("");let ii=(()=>{class we{constructor(_e,Je,kt,nn,tn={}){this.urlSerializer=_e,this.transitions=Je,this.viewportScroller=kt,this.zone=nn,this.options=tn,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},tn.scrollPositionRestoration=tn.scrollPositionRestoration||"disabled",tn.anchorScrolling=tn.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_e=>{_e instanceof Cn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_e.navigationTrigger,this.restoredId=_e.restoredState?_e.restoredState.navigationId:0):_e instanceof Ae?(this.lastId=_e.id,this.scheduleScrollEvent(_e,this.urlSerializer.parse(_e.urlAfterRedirects).fragment)):_e instanceof At&&0===_e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(_e,this.urlSerializer.parse(_e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_e=>{_e instanceof er&&(_e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_e.position):_e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_e,Je){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new er(_e,"popstate"===this.lastSource?this.store[this.restoredId]:null,Je))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Je){e.$Z()};static#t=this.\u0275prov=e.Yz7({token:we,factory:we.\u0275fac})}return we})();function pr(we,it){return{\u0275kind:we,\u0275providers:it}}function Al(){const we=(0,e.f3M)(e.zs3);return it=>{const _e=we.get(e.z2F);if(it!==_e.components[0])return;const Je=we.get(oo),kt=we.get(Wr);1===we.get(xa)&&Je.initialNavigation(),we.get(ms,null,e.XFs.Optional)?.setUpPreloading(),we.get(Ml,null,e.XFs.Optional)?.init(),Je.resetRootComponentType(_e.componentTypes[0]),kt.closed||(kt.next(),kt.complete(),kt.unsubscribe())}}const Wr=new e.OlP("",{factory:()=>new k.x}),xa=new e.OlP("",{providedIn:"root",factory:()=>1}),ms=new e.OlP("");function rl(we){return pr(0,[{provide:ms,useExisting:Ha},{provide:bc,useExisting:we}])}const xl=new e.OlP("ROUTER_FORROOT_GUARD"),Ql=[F.Ye,{provide:ht,useClass:Et},oo,Dr,{provide:qi,useFactory:function ja(we){return we.routerState.root},deps:[oo]},Ge,[]];function sl(){return new e.PXZ("Router",oo)}let Il=(()=>{class we{constructor(_e){}static forRoot(_e,Je){return{ngModule:we,providers:[Ql,[],{provide:Us,multi:!0,useValue:_e},{provide:xl,useFactory:ps,deps:[[oo,new e.FiY,new e.tp0]]},{provide:rr,useValue:Je||{}},Je?.useHash?{provide:F.S$,useClass:F.Do}:{provide:F.S$,useClass:F.b0},{provide:Ml,useFactory:()=>{const we=(0,e.f3M)(F.EM),it=(0,e.f3M)(e.R0b),_e=(0,e.f3M)(rr),Je=(0,e.f3M)(Mt),kt=(0,e.f3M)(ht);return _e.scrollOffset&&we.setOffset(_e.scrollOffset),new ii(kt,Je,we,it,_e)}},Je?.preloadingStrategy?rl(Je.preloadingStrategy).\u0275providers:[],{provide:e.PXZ,multi:!0,useFactory:sl},Je?.initialNavigation?ql(Je):[],Je?.bindToComponentInputs?pr(8,[ki,{provide:Ki,useExisting:ki}]).\u0275providers:[],[{provide:Tc,useFactory:Al},{provide:e.tb,multi:!0,useExisting:Tc}]]}}static forChild(_e){return{ngModule:we,providers:[{provide:Us,multi:!0,useValue:_e}]}}static#e=this.\u0275fac=function(Je){return new(Je||we)(e.LFG(xl,8))};static#t=this.\u0275mod=e.oAB({type:we});static#n=this.\u0275inj=e.cJS({})}return we})();function ps(we){return"guarded"}function ql(we){return["disabled"===we.initialNavigation?pr(3,[{provide:e.ip1,multi:!0,useFactory:()=>{const it=(0,e.f3M)(oo);return()=>{it.setUpLocationChangeListener()}}},{provide:xa,useValue:2}]).\u0275providers:[],"enabledBlocking"===we.initialNavigation?pr(2,[{provide:xa,useValue:0},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:it=>{const _e=it.get(F.V_,Promise.resolve());return()=>_e.then(()=>new Promise(Je=>{const kt=it.get(oo),nn=it.get(Wr);Ir(kt,()=>{Je(!0)}),it.get(Mt).afterPreactivation=()=>(Je(!0),nn.closed?(0,A.of)(void 0):nn),kt.initialNavigation()}))}}]).\u0275providers:[]]}const Tc=new e.OlP("")},3106:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Z:()=>P});var e=v(9058),n=v(4537),b=v(534),A=v(7879);class _{constructor(F,O){this._delegate=F,this.firebase=O,(0,b._addComponent)(F,new n.wA("app-compat",()=>this,"PUBLIC")),this.container=F.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(F){this._delegate.automaticDataCollectionEnabled=F}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(F=>{this._delegate.checkDestroyed(),F()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,b.deleteApp)(this._delegate)))}_getService(F,O=b._DEFAULT_ENTRY_NAME){var D;this._delegate.checkDestroyed();const I=this._delegate.container.getProvider(F);return!I.isInitialized()&&"EXPLICIT"===(null===(D=I.getComponent())||void 0===D?void 0:D.instantiationMode)&&I.initialize(),I.getImmediate({identifier:O})}_removeServiceInstance(F,O=b._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(F).clearInstance(O)}_addComponent(F){(0,b._addComponent)(this._delegate,F)}_addOrOverwriteComponent(F){(0,b._addOrOverwriteComponent)(this._delegate,F)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const w=new e.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),i=function d(){const k=function g(k){const F={},O={__esModule:!0,initializeApp:function S(z,ne={}){const te=b.initializeApp(z,ne);if((0,e.r3)(F,te.name))return F[te.name];const Me=new k(te,O);return F[te.name]=Me,Me},app:I,registerVersion:b.registerVersion,setLogLevel:b.setLogLevel,onLog:b.onLog,apps:null,SDK_VERSION:b.SDK_VERSION,INTERNAL:{registerComponent:function C(z){const ne=z.name,te=ne.replace("-compat","");if(b._registerComponent(z)&&"PUBLIC"===z.type){const Me=(J=I())=>{if("function"!=typeof J[te])throw w.create("invalid-app-argument",{appName:ne});return J[te]()};void 0!==z.serviceProps&&(0,e.ZB)(Me,z.serviceProps),O[te]=Me,k.prototype[te]=function(...J){return this._getService.bind(this,ne).apply(this,z.multipleInstances?J:[])}}return"PUBLIC"===z.type?O[te]:null},removeApp:function D(z){delete F[z]},useAsService:function U(z,ne){return"serverAuth"===ne?null:ne},modularAPIs:b}};function I(z){if(!(0,e.r3)(F,z=z||b._DEFAULT_ENTRY_NAME))throw w.create("no-app",{appName:z});return F[z]}return O.default=O,Object.defineProperty(O,"apps",{get:function L(){return Object.keys(F).map(z=>F[z])}}),I.App=k,O}(_);return k.INTERNAL=Object.assign(Object.assign({},k.INTERNAL),{createFirebaseNamespace:d,extendNamespace:function F(O){(0,e.ZB)(k,O)},createSubscribe:e.ne,ErrorFactory:e.LL,deepExtend:e.ZB}),k}(),h=new A.Yd("@firebase/app-compat");if((0,e.jU)()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const k=self.firebase.SDK_VERSION;k&&k.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const P=i;!function B(k){(0,b.registerVersion)("@firebase/app-compat","0.2.13",k)}()},534:(Hn,Xe,v)=>{"use strict";v.r(Xe),v.d(Xe,{FirebaseError:()=>A.ZR,SDK_VERSION:()=>bt,_DEFAULT_ENTRY_NAME:()=>pe,_addComponent:()=>et,_addOrOverwriteComponent:()=>Qe,_apps:()=>be,_clearComponents:()=>ht,_components:()=>Le,_getProvider:()=>ft,_registerComponent:()=>qe,_removeServiceInstance:()=>ze,deleteApp:()=>pn,getApp:()=>Zt,getApps:()=>Kt,initializeApp:()=>Ut,onLog:()=>vt,registerVersion:()=>xt,setLogLevel:()=>nt});var e=v(5861),n=v(4537),b=v(7879),A=v(9058);const _=(sn,cn)=>cn.some(St=>sn instanceof St);let x,w;const i=new WeakMap,h=new WeakMap,p=new WeakMap,T=new WeakMap,B=new WeakMap;let F={get(sn,cn,St){if(sn instanceof IDBTransaction){if("done"===cn)return h.get(sn);if("objectStoreNames"===cn)return sn.objectStoreNames||p.get(sn);if("store"===cn)return St.objectStoreNames[1]?void 0:St.objectStore(St.objectStoreNames[0])}return S(sn[cn])},set:(sn,cn,St)=>(sn[cn]=St,!0),has:(sn,cn)=>sn instanceof IDBTransaction&&("done"===cn||"store"===cn)||cn in sn};function I(sn){return"function"==typeof sn?function D(sn){return sn!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function d(){return w||(w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(sn)?function(...cn){return sn.apply(L(this),cn),S(i.get(this))}:function(...cn){return S(sn.apply(L(this),cn))}:function(cn,...St){const dt=sn.call(L(this),cn,...St);return p.set(dt,cn.sort?cn.sort():[cn]),S(dt)}}(sn):(sn instanceof IDBTransaction&&function k(sn){if(h.has(sn))return;const cn=new Promise((St,dt)=>{const hn=()=>{sn.removeEventListener("complete",$e),sn.removeEventListener("error",Tt),sn.removeEventListener("abort",Tt)},$e=()=>{St(),hn()},Tt=()=>{dt(sn.error||new DOMException("AbortError","AbortError")),hn()};sn.addEventListener("complete",$e),sn.addEventListener("error",Tt),sn.addEventListener("abort",Tt)});h.set(sn,cn)}(sn),_(sn,function g(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(sn,F):sn)}function S(sn){if(sn instanceof IDBRequest)return function P(sn){const cn=new Promise((St,dt)=>{const hn=()=>{sn.removeEventListener("success",$e),sn.removeEventListener("error",Tt)},$e=()=>{St(S(sn.result)),hn()},Tt=()=>{dt(sn.error),hn()};sn.addEventListener("success",$e),sn.addEventListener("error",Tt)});return cn.then(St=>{St instanceof IDBCursor&&i.set(St,sn)}).catch(()=>{}),B.set(cn,sn),cn}(sn);if(T.has(sn))return T.get(sn);const cn=I(sn);return cn!==sn&&(T.set(sn,cn),B.set(cn,sn)),cn}const L=sn=>B.get(sn),z=["get","getKey","getAll","getAllKeys","count"],ne=["put","add","delete","clear"],te=new Map;function Me(sn,cn){if(!(sn instanceof IDBDatabase)||cn in sn||"string"!=typeof cn)return;if(te.get(cn))return te.get(cn);const St=cn.replace(/FromIndex$/,""),dt=cn!==St,hn=ne.includes(St);if(!(St in(dt?IDBIndex:IDBObjectStore).prototype)||!hn&&!z.includes(St))return;const $e=function(){var Tt=(0,e.Z)(function*(Yt,...Rt){const bn=this.transaction(Yt,hn?"readwrite":"readonly");let Lt=bn.store;return dt&&(Lt=Lt.index(Rt.shift())),(yield Promise.all([Lt[St](...Rt),hn&&bn.done]))[0]});return function(Rt){return Tt.apply(this,arguments)}}();return te.set(cn,$e),$e}!function O(sn){F=sn(F)}(sn=>({...sn,get:(cn,St,dt)=>Me(cn,St)||sn.get(cn,St,dt),has:(cn,St)=>!!Me(cn,St)||sn.has(cn,St)}));class J{constructor(cn){this.container=cn}getPlatformInfoString(){return this.container.getProviders().map(St=>{if(function ce(sn){const cn=sn.getComponent();return"VERSION"===cn?.type}(St)){const dt=St.getImmediate();return`${dt.library}/${dt.version}`}return null}).filter(St=>St).join(" ")}}const W="@firebase/app",le=new b.Yd("@firebase/app"),pe="[DEFAULT]",Te={[W]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},be=new Map,Le=new Map;function et(sn,cn){try{sn.container.addComponent(cn)}catch(St){le.debug(`Component ${cn.name} failed to register with FirebaseApp ${sn.name}`,St)}}function Qe(sn,cn){sn.container.addOrOverwriteComponent(cn)}function qe(sn){const cn=sn.name;if(Le.has(cn))return le.debug(`There were multiple attempts to register component ${cn}.`),!1;Le.set(cn,sn);for(const St of be.values())et(St,sn);return!0}function ft(sn,cn){const St=sn.container.getProvider("heartbeat").getImmediate({optional:!0});return St&&St.triggerHeartbeat(),sn.container.getProvider(cn)}function ze(sn,cn,St=pe){ft(sn,cn).clearInstance(St)}function ht(){Le.clear()}const de=new A.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class He{constructor(cn,St,dt){this._isDeleted=!1,this._options=Object.assign({},cn),this._config=Object.assign({},St),this._name=St.name,this._automaticDataCollectionEnabled=St.automaticDataCollectionEnabled,this._container=dt,this.container.addComponent(new n.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(cn){this.checkDestroyed(),this._automaticDataCollectionEnabled=cn}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(cn){this._isDeleted=cn}checkDestroyed(){if(this.isDeleted)throw de.create("app-deleted",{appName:this._name})}}const bt="9.23.0";function Ut(sn,cn={}){let St=sn;"object"!=typeof cn&&(cn={name:cn});const dt=Object.assign({name:pe,automaticDataCollectionEnabled:!1},cn),hn=dt.name;if("string"!=typeof hn||!hn)throw de.create("bad-app-name",{appName:String(hn)});if(St||(St=(0,A.aH)()),!St)throw de.create("no-options");const $e=be.get(hn);if($e){if((0,A.vZ)(St,$e.options)&&(0,A.vZ)(dt,$e.config))return $e;throw de.create("duplicate-app",{appName:hn})}const Tt=new n.H0(hn);for(const Rt of Le.values())Tt.addComponent(Rt);const Yt=new He(St,dt,Tt);return be.set(hn,Yt),Yt}function Zt(sn=pe){const cn=be.get(sn);if(!cn&&sn===pe&&(0,A.aH)())return Ut();if(!cn)throw de.create("no-app",{appName:sn});return cn}function Kt(){return Array.from(be.values())}function pn(sn){return rn.apply(this,arguments)}function rn(){return(rn=(0,e.Z)(function*(sn){const cn=sn.name;be.has(cn)&&(be.delete(cn),yield Promise.all(sn.container.getProviders().map(St=>St.delete())),sn.isDeleted=!0)})).apply(this,arguments)}function xt(sn,cn,St){var dt;let hn=null!==(dt=Te[sn])&&void 0!==dt?dt:sn;St&&(hn+=`-${St}`);const $e=hn.match(/\s|\//),Tt=cn.match(/\s|\//);if($e||Tt){const Yt=[`Unable to register library "${hn}" with version "${cn}":`];return $e&&Yt.push(`library name "${hn}" contains illegal characters (whitespace or "/")`),$e&&Tt&&Yt.push("and"),Tt&&Yt.push(`version name "${cn}" contains illegal characters (whitespace or "/")`),void le.warn(Yt.join(" "))}qe(new n.wA(`${hn}-version`,()=>({library:hn,version:cn}),"VERSION"))}function vt(sn,cn){if(null!==sn&&"function"!=typeof sn)throw de.create("invalid-log-argument");(0,b.Am)(sn,cn)}function nt(sn){(0,b.Ub)(sn)}const ke="firebase-heartbeat-database",Ke=1,rt="firebase-heartbeat-store";let ot=null;function yt(){return ot||(ot=function C(sn,cn,{blocked:St,upgrade:dt,blocking:hn,terminated:$e}={}){const Tt=indexedDB.open(sn,cn),Yt=S(Tt);return dt&&Tt.addEventListener("upgradeneeded",Rt=>{dt(S(Tt.result),Rt.oldVersion,Rt.newVersion,S(Tt.transaction),Rt)}),St&&Tt.addEventListener("blocked",Rt=>St(Rt.oldVersion,Rt.newVersion,Rt)),Yt.then(Rt=>{$e&&Rt.addEventListener("close",()=>$e()),hn&&Rt.addEventListener("versionchange",bn=>hn(bn.oldVersion,bn.newVersion,bn))}).catch(()=>{}),Yt}(ke,Ke,{upgrade:(sn,cn)=>{0===cn&&sn.createObjectStore(rt)}}).catch(sn=>{throw de.create("idb-open",{originalErrorMessage:sn.message})})),ot}function _t(){return(_t=(0,e.Z)(function*(sn){try{return yield(yield yt()).transaction(rt).objectStore(rt).get(Qt(sn))}catch(cn){if(cn instanceof A.ZR)le.warn(cn.message);else{const St=de.create("idb-get",{originalErrorMessage:cn?.message});le.warn(St.message)}}})).apply(this,arguments)}function qt(sn,cn){return fn.apply(this,arguments)}function fn(){return(fn=(0,e.Z)(function*(sn,cn){try{const dt=(yield yt()).transaction(rt,"readwrite");yield dt.objectStore(rt).put(cn,Qt(sn)),yield dt.done}catch(St){if(St instanceof A.ZR)le.warn(St.message);else{const dt=de.create("idb-set",{originalErrorMessage:St?.message});le.warn(dt.message)}}})).apply(this,arguments)}function Qt(sn){return`${sn.name}!${sn.options.appId}`}class Mn{constructor(cn){this.container=cn,this._heartbeatsCache=null;const St=this.container.getProvider("app").getImmediate();this._storage=new dn(St),this._heartbeatsCachePromise=this._storage.read().then(dt=>(this._heartbeatsCache=dt,dt))}triggerHeartbeat(){var cn=this;return(0,e.Z)(function*(){const dt=cn.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),hn=Gn();if(null===cn._heartbeatsCache&&(cn._heartbeatsCache=yield cn._heartbeatsCachePromise),cn._heartbeatsCache.lastSentHeartbeatDate!==hn&&!cn._heartbeatsCache.heartbeats.some($e=>$e.date===hn))return cn._heartbeatsCache.heartbeats.push({date:hn,agent:dt}),cn._heartbeatsCache.heartbeats=cn._heartbeatsCache.heartbeats.filter($e=>{const Tt=new Date($e.date).valueOf();return Date.now()-Tt<=2592e6}),cn._storage.overwrite(cn._heartbeatsCache)})()}getHeartbeatsHeader(){var cn=this;return(0,e.Z)(function*(){if(null===cn._heartbeatsCache&&(yield cn._heartbeatsCachePromise),null===cn._heartbeatsCache||0===cn._heartbeatsCache.heartbeats.length)return"";const St=Gn(),{heartbeatsToSend:dt,unsentEntries:hn}=function Zn(sn,cn=1024){const St=[];let dt=sn.slice();for(const hn of sn){const $e=St.find(Tt=>Tt.agent===hn.agent);if($e){if($e.dates.push(hn.date),ln(St)>cn){$e.dates.pop();break}}else if(St.push({agent:hn.agent,dates:[hn.date]}),ln(St)>cn){St.pop();break}dt=dt.slice(1)}return{heartbeatsToSend:St,unsentEntries:dt}}(cn._heartbeatsCache.heartbeats),$e=(0,A.L)(JSON.stringify({version:2,heartbeats:dt}));return cn._heartbeatsCache.lastSentHeartbeatDate=St,hn.length>0?(cn._heartbeatsCache.heartbeats=hn,yield cn._storage.overwrite(cn._heartbeatsCache)):(cn._heartbeatsCache.heartbeats=[],cn._storage.overwrite(cn._heartbeatsCache)),$e})()}}function Gn(){return(new Date).toISOString().substring(0,10)}class dn{constructor(cn){this.app=cn,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,e.Z)(function*(){return!!(0,A.hl)()&&(0,A.eu)().then(()=>!0).catch(()=>!1)})()}read(){var cn=this;return(0,e.Z)(function*(){return(yield cn._canUseIndexedDBPromise)&&(yield function mt(sn){return _t.apply(this,arguments)}(cn.app))||{heartbeats:[]}})()}overwrite(cn){var St=this;return(0,e.Z)(function*(){var dt;if(yield St._canUseIndexedDBPromise){const $e=yield St.read();return qt(St.app,{lastSentHeartbeatDate:null!==(dt=cn.lastSentHeartbeatDate)&&void 0!==dt?dt:$e.lastSentHeartbeatDate,heartbeats:cn.heartbeats})}})()}add(cn){var St=this;return(0,e.Z)(function*(){var dt;if(yield St._canUseIndexedDBPromise){const $e=yield St.read();return qt(St.app,{lastSentHeartbeatDate:null!==(dt=cn.lastSentHeartbeatDate)&&void 0!==dt?dt:$e.lastSentHeartbeatDate,heartbeats:[...$e.heartbeats,...cn.heartbeats]})}})()}}function ln(sn){return(0,A.L)(JSON.stringify({version:2,heartbeats:sn})).length}!function un(sn){qe(new n.wA("platform-logger",cn=>new J(cn),"PRIVATE")),qe(new n.wA("heartbeat",cn=>new Mn(cn),"PRIVATE")),xt(W,"0.9.13",sn),xt(W,"0.9.13","esm2017"),xt("fire-js","")}("")},4537:(Hn,Xe,v)=>{"use strict";v.d(Xe,{H0:()=>g,wA:()=>b});var e=v(5861),n=v(9058);class b{constructor(i,h,p){this.name=i,this.instanceFactory=h,this.type=p,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(i){return this.instantiationMode=i,this}setMultipleInstances(i){return this.multipleInstances=i,this}setServiceProps(i){return this.serviceProps=i,this}setInstanceCreatedCallback(i){return this.onInstanceCreated=i,this}}const A="[DEFAULT]";class _{constructor(i,h){this.name=i,this.container=h,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(i){const h=this.normalizeInstanceIdentifier(i);if(!this.instancesDeferred.has(h)){const p=new n.BH;if(this.instancesDeferred.set(h,p),this.isInitialized(h)||this.shouldAutoInitialize())try{const T=this.getOrInitializeService({instanceIdentifier:h});T&&p.resolve(T)}catch{}}return this.instancesDeferred.get(h).promise}getImmediate(i){var h;const p=this.normalizeInstanceIdentifier(i?.identifier),T=null!==(h=i?.optional)&&void 0!==h&&h;if(!this.isInitialized(p)&&!this.shouldAutoInitialize()){if(T)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:p})}catch(B){if(T)return null;throw B}}getComponent(){return this.component}setComponent(i){if(i.name!==this.name)throw Error(`Mismatching Component ${i.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=i,this.shouldAutoInitialize()){if(function w(d){return"EAGER"===d.instantiationMode}(i))try{this.getOrInitializeService({instanceIdentifier:A})}catch{}for(const[h,p]of this.instancesDeferred.entries()){const T=this.normalizeInstanceIdentifier(h);try{const B=this.getOrInitializeService({instanceIdentifier:T});p.resolve(B)}catch{}}}}clearInstance(i=A){this.instancesDeferred.delete(i),this.instancesOptions.delete(i),this.instances.delete(i)}delete(){var i=this;return(0,e.Z)(function*(){const h=Array.from(i.instances.values());yield Promise.all([...h.filter(p=>"INTERNAL"in p).map(p=>p.INTERNAL.delete()),...h.filter(p=>"_delete"in p).map(p=>p._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(i=A){return this.instances.has(i)}getOptions(i=A){return this.instancesOptions.get(i)||{}}initialize(i={}){const{options:h={}}=i,p=this.normalizeInstanceIdentifier(i.instanceIdentifier);if(this.isInitialized(p))throw Error(`${this.name}(${p}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const T=this.getOrInitializeService({instanceIdentifier:p,options:h});for(const[B,P]of this.instancesDeferred.entries())p===this.normalizeInstanceIdentifier(B)&&P.resolve(T);return T}onInit(i,h){var p;const T=this.normalizeInstanceIdentifier(h),B=null!==(p=this.onInitCallbacks.get(T))&&void 0!==p?p:new Set;B.add(i),this.onInitCallbacks.set(T,B);const P=this.instances.get(T);return P&&i(P,T),()=>{B.delete(i)}}invokeOnInitCallbacks(i,h){const p=this.onInitCallbacks.get(h);if(p)for(const T of p)try{T(i,h)}catch{}}getOrInitializeService({instanceIdentifier:i,options:h={}}){let p=this.instances.get(i);if(!p&&this.component&&(p=this.component.instanceFactory(this.container,{instanceIdentifier:(d=i,d===A?void 0:d),options:h}),this.instances.set(i,p),this.instancesOptions.set(i,h),this.invokeOnInitCallbacks(p,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,p)}catch{}var d;return p||null}normalizeInstanceIdentifier(i=A){return this.component?this.component.multipleInstances?i:A:i}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class g{constructor(i){this.name=i,this.providers=new Map}addComponent(i){const h=this.getProvider(i.name);if(h.isComponentSet())throw new Error(`Component ${i.name} has already been registered with ${this.name}`);h.setComponent(i)}addOrOverwriteComponent(i){this.getProvider(i.name).isComponentSet()&&this.providers.delete(i.name),this.addComponent(i)}getProvider(i){if(this.providers.has(i))return this.providers.get(i);const h=new _(i,this);return this.providers.set(i,h),h}getProviders(){return Array.from(this.providers.values())}}},7879:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Am:()=>d,Ub:()=>g,Yd:()=>w,in:()=>n});const e=[];var n=function(i){return i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT",i}(n||{});const b={debug:n.DEBUG,verbose:n.VERBOSE,info:n.INFO,warn:n.WARN,error:n.ERROR,silent:n.SILENT},A=n.INFO,_={[n.DEBUG]:"log",[n.VERBOSE]:"log",[n.INFO]:"info",[n.WARN]:"warn",[n.ERROR]:"error"},x=(i,h,...p)=>{if(h<i.logLevel)return;const T=(new Date).toISOString(),B=_[h];if(!B)throw new Error(`Attempted to log a message with an invalid logType (value: ${h})`);console[B](`[${T}]  ${i.name}:`,...p)};class w{constructor(h){this.name=h,this._logLevel=A,this._logHandler=x,this._userLogHandler=null,e.push(this)}get logLevel(){return this._logLevel}set logLevel(h){if(!(h in n))throw new TypeError(`Invalid value "${h}" assigned to \`logLevel\``);this._logLevel=h}setLogLevel(h){this._logLevel="string"==typeof h?b[h]:h}get logHandler(){return this._logHandler}set logHandler(h){if("function"!=typeof h)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=h}get userLogHandler(){return this._userLogHandler}set userLogHandler(h){this._userLogHandler=h}debug(...h){this._userLogHandler&&this._userLogHandler(this,n.DEBUG,...h),this._logHandler(this,n.DEBUG,...h)}log(...h){this._userLogHandler&&this._userLogHandler(this,n.VERBOSE,...h),this._logHandler(this,n.VERBOSE,...h)}info(...h){this._userLogHandler&&this._userLogHandler(this,n.INFO,...h),this._logHandler(this,n.INFO,...h)}warn(...h){this._userLogHandler&&this._userLogHandler(this,n.WARN,...h),this._logHandler(this,n.WARN,...h)}error(...h){this._userLogHandler&&this._userLogHandler(this,n.ERROR,...h),this._logHandler(this,n.ERROR,...h)}}function g(i){e.forEach(h=>{h.setLogLevel(i)})}function d(i,h){for(const p of e){let T=null;h&&h.level&&(T=b[h.level]),p.userLogHandler=null===i?null:(B,P,...k)=>{const F=k.map(O=>{if(null==O)return null;if("string"==typeof O)return O;if("number"==typeof O||"boolean"==typeof O)return O.toString();if(O instanceof Error)return O.message;try{return JSON.stringify(O)}catch{return null}}).filter(O=>O).join(" ");P>=(T??B.logLevel)&&i({level:n[P].toLowerCase(),message:F,args:k,type:B.name})}}}},3946:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Kz:()=>sr,FF:()=>Ic});var e=v(5879),n=v(5592),b=v(6232),A=v(2096),_=v(8645),x=v(2438),w=v(4825),g=v(4829);const{isArray:d}=Array;function i(G){return 1===G.length&&d(G[0])?G[0]:G}var h=v(8251);v(3019);var P=v(9940);function k(...G){const Oe=(0,P.jO)(G),M=i(G);return M.length?new n.y(j=>{let he=M.map(()=>[]),gt=M.map(()=>!1);j.add(()=>{he=gt=null});for(let jt=0;!j.closed&&jt<M.length;jt++)(0,g.Xf)(M[jt]).subscribe((0,h.x)(j,Dn=>{if(he[jt].push(Dn),he.every(On=>On.length)){const On=he.map(Wn=>Wn.shift());j.next(Oe?Oe(...On):On),he.some((Wn,Yn)=>!Wn.length&&gt[Yn])&&j.complete()}},()=>{gt[jt]=!0,!he[jt].length&&j.complete()}));return()=>{he=gt=null}}):b.E}var F=v(5211),D=v(9773),I=v(2181),S=v(8180),L=v(9397),C=v(7398),U=v(9360),z=v(2737),ne=v(2420);function te(...G){const Oe=(0,P.jO)(G);return(0,U.e)((M,j)=>{const he=G.length,gt=new Array(he);let jt=G.map(()=>!1),Dn=!1;for(let On=0;On<he;On++)(0,g.Xf)(G[On]).subscribe((0,h.x)(j,Wn=>{gt[On]=Wn,!Dn&&!jt[On]&&(jt[On]=!0,(Dn=jt.every(z.y))&&(jt=null))},ne.Z));M.subscribe((0,h.x)(j,On=>{if(Dn){const Wn=[On,...gt];j.next(Oe?Oe(...Wn):Wn)}}))})}v(6321),v(975),v(1631);var Ee=v(4664),Pe=(v(7921),v(3997),v(836),v(6814));v(95),Math,Math,Math;const Vr=["*"],Zs=["dialog"];function yn(G){return"string"==typeof G}function Wi(G){return null!=G}function Mo(G){return(G||document.body).getBoundingClientRect()}const oo={animation:!0,transitionTimerDelayMs:5},Xo=()=>{},{transitionTimerDelayMs:tr}=oo,ta=new Map,Kr=(G,Oe,M,j)=>{let he=j.context||{};const gt=ta.get(Oe);if(gt)switch(j.runningTransition){case"continue":return b.E;case"stop":G.run(()=>gt.transition$.complete()),he=Object.assign(gt.context,he),ta.delete(Oe)}const jt=M(Oe,j.animation,he)||Xo;if(!j.animation||"none"===window.getComputedStyle(Oe).transitionProperty)return G.run(()=>jt()),(0,A.of)(void 0).pipe(function vi(G){return Oe=>new n.y(M=>Oe.subscribe({next:jt=>G.run(()=>M.next(jt)),error:jt=>G.run(()=>M.error(jt)),complete:()=>G.run(()=>M.complete())}))}(G));const Dn=new _.x,On=new _.x,Wn=Dn.pipe(function O(...G){return Oe=>(0,F.z)(Oe,(0,A.of)(...G))}(!0));ta.set(Oe,{transition$:Dn,complete:()=>{On.next(),On.complete()},context:he});const Yn=function qo(G){const{transitionDelay:Oe,transitionDuration:M}=window.getComputedStyle(G);return 1e3*(parseFloat(Oe)+parseFloat(M))}(Oe);return G.runOutsideAngular(()=>{const Di=(0,x.R)(Oe,"transitionend").pipe((0,D.R)(Wn),(0,I.h)(({target:Si})=>Si===Oe));(function p(...G){return 1===(G=i(G)).length?(0,g.Xf)(G[0]):new n.y(function T(G){return Oe=>{let M=[];for(let j=0;M&&!Oe.closed&&j<G.length;j++)M.push((0,g.Xf)(G[j]).subscribe((0,h.x)(Oe,he=>{if(M){for(let gt=0;gt<M.length;gt++)gt!==j&&M[gt].unsubscribe();M=null}Oe.next(he)})))}}(G))})((0,w.H)(Yn+tr).pipe((0,D.R)(Wn)),Di,On).pipe((0,D.R)(Wn)).subscribe(()=>{ta.delete(Oe),G.run(()=>{jt(),Dn.next(),Dn.complete()})})}),Dn.asObservable()};let Ha=(()=>{class G{constructor(){this.animation=oo.animation}static#e=this.\u0275fac=function(j){return new(j||G)};static#t=this.\u0275prov=e.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})();var br=function(G){return G[G.Tab=9]="Tab",G[G.Enter=13]="Enter",G[G.Escape=27]="Escape",G[G.Space=32]="Space",G[G.PageUp=33]="PageUp",G[G.PageDown=34]="PageDown",G[G.End=35]="End",G[G.Home=36]="Home",G[G.ArrowLeft=37]="ArrowLeft",G[G.ArrowUp=38]="ArrowUp",G[G.ArrowRight=39]="ArrowRight",G[G.ArrowDown=40]="ArrowDown",G}(br||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Pl=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function As(G){const Oe=Array.from(G.querySelectorAll(Pl)).filter(M=>-1!==M.tabIndex);return[Oe[0],Oe[Oe.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class fi{constructor(Oe,M,j){this.nodes=Oe,this.viewRef=M,this.componentRef=j}}let Fi=(()=>{class G{constructor(M,j){this._el=M,this._zone=j}ngOnInit(){this._zone.onStable.asObservable().pipe((0,S.q)(1)).subscribe(()=>{Kr(this._zone,this._el.nativeElement,(M,j)=>{j&&Mo(M),M.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Kr(this._zone,this._el.nativeElement,({classList:M})=>M.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(j){return new(j||G)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:G,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(j,he){2&j&&(e.Tol("modal-backdrop"+(he.backdropClass?" "+he.backdropClass:"")),e.ekj("show",!he.animation)("fade",he.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(j,he){},encapsulation:2})}return G})();class sr{update(Oe){}close(Oe){}dismiss(Oe){}}const _s=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],oi=["animation","backdropClass"];class Xc{_applyWindowOptions(Oe,M){_s.forEach(j=>{Wi(M[j])&&(Oe[j]=M[j])})}_applyBackdropOptions(Oe,M){oi.forEach(j=>{Wi(M[j])&&(Oe[j]=M[j])})}update(Oe){this._applyWindowOptions(this._windowCmptRef.instance,Oe),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,Oe)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,D.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,D.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(Oe,M,j,he){this._windowCmptRef=Oe,this._contentRef=M,this._backdropCmptRef=j,this._beforeDismiss=he,this._closed=new _.x,this._dismissed=new _.x,this._hidden=new _.x,Oe.instance.dismissEvent.subscribe(gt=>{this.dismiss(gt)}),this.result=new Promise((gt,jt)=>{this._resolve=gt,this._reject=jt}),this.result.then(null,()=>{})}close(Oe){this._windowCmptRef&&(this._closed.next(Oe),this._resolve(Oe),this._removeModalElements())}_dismiss(Oe){this._dismissed.next(Oe),this._reject(Oe),this._removeModalElements()}dismiss(Oe){if(this._windowCmptRef)if(this._beforeDismiss){const M=this._beforeDismiss();!function rr(G){return G&&G.then}(M)?!1!==M&&this._dismiss(Oe):M.then(j=>{!1!==j&&this._dismiss(Oe)},()=>{})}else this._dismiss(Oe)}_removeModalElements(){const Oe=this._windowCmptRef.instance.hide(),M=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,A.of)(void 0);Oe.subscribe(()=>{const{nativeElement:j}=this._windowCmptRef.location;j.parentNode.removeChild(j),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),M.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:j}=this._backdropCmptRef.location;j.parentNode.removeChild(j),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),k(Oe,M).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var yd=function(G){return G[G.BACKDROP_CLICK=0]="BACKDROP_CLICK",G[G.ESC=1]="ESC",G}(yd||{});let _u=(()=>{class G{constructor(M,j,he){this._document=M,this._elRef=j,this._zone=he,this._closed$=new _.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new _.x,this.hidden=new _.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":yn(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(M){this.dismissEvent.emit(M)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,S.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:M}=this._elRef,j={animation:this.animation,runningTransition:"stop"},jt=k(Kr(this._zone,M,()=>M.classList.remove("show"),j),Kr(this._zone,this._dialogEl.nativeElement,()=>{},j));return jt.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),jt}_show(){const M={animation:this.animation,runningTransition:"continue"};k(Kr(this._zone,this._elRef.nativeElement,(gt,jt)=>{jt&&Mo(gt),gt.classList.add("show")},M),Kr(this._zone,this._dialogEl.nativeElement,()=>{},M)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:M}=this._elRef;this._zone.runOutsideAngular(()=>{(0,x.R)(M,"keydown").pipe((0,D.R)(this._closed$),(0,I.h)(he=>he.which===br.Escape)).subscribe(he=>{this.keyboard?requestAnimationFrame(()=>{he.defaultPrevented||this._zone.run(()=>this.dismiss(yd.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let j=!1;(0,x.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,D.R)(this._closed$),(0,L.b)(()=>j=!1),(0,Ee.w)(()=>(0,x.R)(M,"mouseup").pipe((0,D.R)(this._closed$),(0,S.q)(1))),(0,I.h)(({target:he})=>M===he)).subscribe(()=>{j=!0}),(0,x.R)(M,"click").pipe((0,D.R)(this._closed$)).subscribe(({target:he})=>{M===he&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!j&&this._zone.run(()=>this.dismiss(yd.BACKDROP_CLICK))),j=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:M}=this._elRef;if(!M.contains(document.activeElement)){const j=M.querySelector("[ngbAutofocus]"),he=As(M)[0];(j||he||M).focus()}}_restoreFocus(){const M=this._document.body,j=this._elWithFocus;let he;he=j&&j.focus&&M.contains(j)?j:M,this._zone.runOutsideAngular(()=>{setTimeout(()=>he.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Kr(this._zone,this._elRef.nativeElement,({classList:M})=>(M.add("modal-static"),()=>M.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(j){return new(j||G)(e.Y36(Pe.K0),e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:G,selectors:[["ngb-modal-window"]],viewQuery:function(j,he){if(1&j&&e.Gf(Zs,7),2&j){let gt;e.iGM(gt=e.CRH())&&(he._dialogEl=gt.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(j,he){2&j&&(e.uIk("aria-modal",!0)("aria-labelledby",he.ariaLabelledBy)("aria-describedby",he.ariaDescribedBy),e.Tol("modal d-block"+(he.windowClass?" "+he.windowClass:"")),e.ekj("fade",he.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[e.jDz],ngContentSelectors:Vr,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(j,he){1&j&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&j&&e.Tol("modal-dialog"+(he.size?" modal-"+he.size:"")+(he.centered?" modal-dialog-centered":"")+he.fullscreenClass+(he.scrollable?" modal-dialog-scrollable":"")+(he.modalDialogClass?" "+he.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return G})(),Yu=(()=>{class G{constructor(M){this._document=M}hide(){const M=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),j=this._document.body,he=j.style,{overflow:gt,paddingRight:jt}=he;if(M>0){const Dn=parseFloat(window.getComputedStyle(j).paddingRight);he.paddingRight=`${Dn+M}px`}return he.overflow="hidden",()=>{M>0&&(he.paddingRight=jt),he.overflow=gt}}static#e=this.\u0275fac=function(j){return new(j||G)(e.LFG(Pe.K0))};static#t=this.\u0275prov=e.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})(),vu=(()=>{class G{constructor(M,j,he,gt,jt,Dn,On){this._applicationRef=M,this._injector=j,this._environmentInjector=he,this._document=gt,this._scrollBar=jt,this._rendererFactory=Dn,this._ngZone=On,this._activeWindowCmptHasChanged=new _.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Wn=this._windowCmpts[this._windowCmpts.length-1];((G,Oe,M,j=!1)=>{G.runOutsideAngular(()=>{const he=(0,x.R)(Oe,"focusin").pipe((0,D.R)(M),(0,C.U)(gt=>gt.target));(0,x.R)(Oe,"keydown").pipe((0,D.R)(M),(0,I.h)(gt=>gt.which===br.Tab),te(he)).subscribe(([gt,jt])=>{const[Dn,On]=As(Oe);(jt===Dn||jt===Oe)&&gt.shiftKey&&(On.focus(),gt.preventDefault()),jt===On&&!gt.shiftKey&&(Dn.focus(),gt.preventDefault())}),j&&(0,x.R)(Oe,"click").pipe((0,D.R)(M),te(he),(0,C.U)(gt=>gt[1])).subscribe(gt=>gt.focus())})})(this._ngZone,Wn.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Wn.location.nativeElement)}})}_restoreScrollBar(){const M=this._scrollBarRestoreFn;M&&(this._scrollBarRestoreFn=null,M())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(M,j,he){const gt=he.container instanceof HTMLElement?he.container:Wi(he.container)?this._document.querySelector(he.container):this._document.body,jt=this._rendererFactory.createRenderer(null,null);if(!gt)throw new Error(`The specified modal container "${he.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Dn=new sr,On=(M=he.injector||M).get(e.lqb,null)||this._environmentInjector,Wn=this._getContentRef(M,On,j,Dn,he);let Yn=!1!==he.backdrop?this._attachBackdrop(gt):void 0,Di=this._attachWindowComponent(gt,Wn.nodes),li=new Xc(Di,Wn,Yn,he.beforeDismiss);return this._registerModalRef(li),this._registerWindowCmpt(Di),li.hidden.pipe((0,S.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(jt.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Dn.close=Si=>{li.close(Si)},Dn.dismiss=Si=>{li.dismiss(Si)},Dn.update=Si=>{li.update(Si)},li.update(he),1===this._modalRefs.length&&jt.addClass(this._document.body,"modal-open"),Yn&&Yn.instance&&Yn.changeDetectorRef.detectChanges(),Di.changeDetectorRef.detectChanges(),li}get activeInstances(){return this._activeInstances}dismissAll(M){this._modalRefs.forEach(j=>j.dismiss(M))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(M){let j=(0,e.LMc)(Fi,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(j.hostView),M.appendChild(j.location.nativeElement),j}_attachWindowComponent(M,j){let he=(0,e.LMc)(_u,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:j});return this._applicationRef.attachView(he.hostView),M.appendChild(he.location.nativeElement),he}_getContentRef(M,j,he,gt,jt){return he?he instanceof e.Rgc?this._createFromTemplateRef(he,gt):yn(he)?this._createFromString(he):this._createFromComponent(M,j,he,gt,jt):new fi([])}_createFromTemplateRef(M,j){const gt=M.createEmbeddedView({$implicit:j,close(jt){j.close(jt)},dismiss(jt){j.dismiss(jt)}});return this._applicationRef.attachView(gt),new fi([gt.rootNodes],gt)}_createFromString(M){const j=this._document.createTextNode(`${M}`);return new fi([[j]])}_createFromComponent(M,j,he,gt,jt){const Dn=e.zs3.create({providers:[{provide:sr,useValue:gt}],parent:M}),On=(0,e.LMc)(he,{environmentInjector:j,elementInjector:Dn}),Wn=On.location.nativeElement;return jt.scrollable&&Wn.classList.add("component-host-scrollable"),this._applicationRef.attachView(On.hostView),new fi([[Wn]],On.hostView,On)}_setAriaHidden(M){const j=M.parentElement;j&&M!==this._document.body&&(Array.from(j.children).forEach(he=>{he!==M&&"SCRIPT"!==he.nodeName&&(this._ariaHiddenValues.set(he,he.getAttribute("aria-hidden")),he.setAttribute("aria-hidden","true"))}),this._setAriaHidden(j))}_revertAriaHidden(){this._ariaHiddenValues.forEach((M,j)=>{M?j.setAttribute("aria-hidden",M):j.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(M){const j=()=>{const he=this._modalRefs.indexOf(M);he>-1&&(this._modalRefs.splice(he,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(M),this._activeInstances.emit(this._modalRefs),M.result.then(j,j)}_registerWindowCmpt(M){this._windowCmpts.push(M),this._activeWindowCmptHasChanged.next(),M.onDestroy(()=>{const j=this._windowCmpts.indexOf(M);j>-1&&(this._windowCmpts.splice(j,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(j){return new(j||G)(e.LFG(e.z2F),e.LFG(e.zs3),e.LFG(e.lqb),e.LFG(Pe.K0),e.LFG(Yu),e.LFG(e.FYo),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})(),xc=(()=>{class G{constructor(M){this._ngbConfig=M,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(M){this._animation=M}static#e=this.\u0275fac=function(j){return new(j||G)(e.LFG(Ha))};static#t=this.\u0275prov=e.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})(),Ic=(()=>{class G{constructor(M,j,he){this._injector=M,this._modalStack=j,this._config=he}open(M,j={}){const he={...this._config,animation:this._config.animation,...j};return this._modalStack.open(this._injector,M,he)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(M){this._modalStack.dismissAll(M)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(j){return new(j||G)(e.LFG(e.zs3),e.LFG(vu),e.LFG(xc))};static#t=this.\u0275prov=e.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})();new e.OlP("live announcer delay",{providedIn:"root",factory:function Bl(){return 100}})},3182:(Hn,Xe,v)=>{"use strict";v.d(Xe,{C6:()=>e.getApps,Mq:()=>e.getApp});var e=v(534);(0,e.registerVersion)("firebase","9.23.0","app")},7142:(Hn,Xe,v)=>{"use strict";v.d(Xe,{Z:()=>e.Z});var e=v(3106);e.Z.registerVersion("firebase","9.23.0","app-compat")},5861:(Hn,Xe,v)=>{"use strict";function e(b,A,_,x,w,g,d){try{var i=b[g](d),h=i.value}catch(p){return void _(p)}i.done?A(h):Promise.resolve(h).then(x,w)}function n(b){return function(){var A=this,_=arguments;return new Promise(function(x,w){var g=b.apply(A,_);function d(h){e(g,x,w,d,i,"next",h)}function i(h){e(g,x,w,d,i,"throw",h)}d(void 0)})}}v.d(Xe,{Z:()=>n})},7582:(Hn,Xe,v)=>{"use strict";function A(le,Ee){var xe={};for(var Ve in le)Object.prototype.hasOwnProperty.call(le,Ve)&&Ee.indexOf(Ve)<0&&(xe[Ve]=le[Ve]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var fe=0;for(Ve=Object.getOwnPropertySymbols(le);fe<Ve.length;fe++)Ee.indexOf(Ve[fe])<0&&Object.prototype.propertyIsEnumerable.call(le,Ve[fe])&&(xe[Ve[fe]]=le[Ve[fe]])}return xe}function p(le,Ee,xe,Ve){return new(xe||(xe=Promise))(function(Pe,Ce){function me(Fe){try{Re(Ve.next(Fe))}catch(Ne){Ce(Ne)}}function De(Fe){try{Re(Ve.throw(Fe))}catch(Ne){Ce(Ne)}}function Re(Fe){Fe.done?Pe(Fe.value):function fe(Pe){return Pe instanceof xe?Pe:new xe(function(Ce){Ce(Pe)})}(Fe.value).then(me,De)}Re((Ve=Ve.apply(le,Ee||[])).next())})}function S(le){return this instanceof S?(this.v=le,this):new S(le)}function L(le,Ee,xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,Ve=xe.apply(le,Ee||[]),Pe=[];return fe={},Ce("next"),Ce("throw"),Ce("return"),fe[Symbol.asyncIterator]=function(){return this},fe;function Ce(at){Ve[at]&&(fe[at]=function(Be){return new Promise(function(ye,ve){Pe.push([at,Be,ye,ve])>1||me(at,Be)})})}function me(at,Be){try{!function De(at){at.value instanceof S?Promise.resolve(at.value.v).then(Re,Fe):Ne(Pe[0][2],at)}(Ve[at](Be))}catch(ye){Ne(Pe[0][3],ye)}}function Re(at){me("next",at)}function Fe(at){me("throw",at)}function Ne(at,Be){at(Be),Pe.shift(),Pe.length&&me(Pe[0][0],Pe[0][1])}}function U(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,Ee=le[Symbol.asyncIterator];return Ee?Ee.call(le):(le=function k(le){var Ee="function"==typeof Symbol&&Symbol.iterator,xe=Ee&&le[Ee],Ve=0;if(xe)return xe.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&Ve>=le.length&&(le=void 0),{value:le&&le[Ve++],done:!le}}};throw new TypeError(Ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),xe={},Ve("next"),Ve("throw"),Ve("return"),xe[Symbol.asyncIterator]=function(){return this},xe);function Ve(Pe){xe[Pe]=le[Pe]&&function(Ce){return new Promise(function(me,De){!function fe(Pe,Ce,me,De){Promise.resolve(De).then(function(Re){Pe({value:Re,done:me})},Ce)}(me,De,(Ce=le[Pe](Ce)).done,Ce.value)})}}}v.d(Xe,{FC:()=>L,KL:()=>U,_T:()=>A,mG:()=>p,qq:()=>S})}},Hn=>{Hn(Hn.s=5618)}]);