(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6304:(Bn,tt,S)=>{"use strict";S.d(tt,{Dh:()=>D,GT:()=>F,cc:()=>U,hO:()=>M,on:()=>f,pX:()=>E,xv:()=>p});var c=S(5879),t=S(7142),b=S(8186);Bn=S.hmd(Bn);const w=["ngOnDestroy"],E=(O,x,P,T={})=>new Proxy(O,{get:(N,C)=>P.runOutsideAngular(()=>{var B;if(O[C])return!(null===(B=T?.spy)||void 0===B)&&B.get&&T.spy.get(C,O[C]),O[C];if(w.indexOf(C)>-1)return()=>{};const Y=x.toPromise().then(q=>{const le=q&&q[C];return"function"==typeof le?le.bind(q):le&&le.then?le.then(Fe=>P.run(()=>Fe)):P.run(()=>le)});return new Proxy(()=>{},{get:(q,le)=>Y[le],apply:(q,le,Fe)=>Y.then($=>{var ae;const K=$&&$(...Fe);return!(null===(ae=T?.spy)||void 0===ae)&&ae.apply&&T.spy.apply(C,Fe,K),K})})})}),F=(O,x)=>{x.forEach(P=>{Object.getOwnPropertyNames(P.prototype||P).forEach(T=>{Object.defineProperty(O.prototype,T,Object.getOwnPropertyDescriptor(P.prototype||P,T))})})};class L{constructor(x){return x}}const D=new c.OlP("angularfire2.app.options"),p=new c.OlP("angularfire2.app.name");function f(O,x,P){const N="object"==typeof P&&P||{};N.name=N.name||"string"==typeof P&&P||"[DEFAULT]";const B=t.Z.apps.filter(Y=>Y&&Y.name===N.name)[0]||x.runOutsideAngular(()=>t.Z.initializeApp(O,N));try{JSON.stringify(O)!==JSON.stringify(B.options)&&g("error",`${B.name} Firebase App already initialized with different options${Bn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new L(B)}const g=(O,...x)=>{(0,c.X6Q)()&&typeof console<"u"&&console[O](...x)},y={provide:L,useFactory:f,deps:[D,c.R0b,[new c.FiY,p]]};let M=(()=>{class O{constructor(P){t.Z.registerVersion("angularfire",b.q4.full,"core"),t.Z.registerVersion("angularfire",b.q4.full,"app-compat"),t.Z.registerVersion("angular",c.q4F.full,P.toString())}static initializeApp(P,T){return{ngModule:O,providers:[{provide:D,useValue:P},{provide:p,useValue:T}]}}}return O.\u0275fac=function(P){return new(P||O)(c.LFG(c.Lbi))},O.\u0275mod=c.oAB({type:O}),O.\u0275inj=c.cJS({providers:[y]}),O})();function U(O,x,P,T,N){const[,C,B]=globalThis.\u0275AngularfireInstanceCache.find(Y=>Y[0]===O)||[];if(C)return function R(O,x){try{return O.toString()===x.toString()}catch{return O===x}}(N,B)||(k("error",`${x} was already initialized on the ${P} Firebase App with different settings.${V?" You may need to reload as Firebase is not HMR aware.":""}`),k("warn",{is:N,was:B})),C;{const Y=T();return globalThis.\u0275AngularfireInstanceCache.push([O,Y,N]),Y}}const V=!!Bn.hot,k=(O,...x)=>{(0,c.X6Q)()&&typeof console<"u"&&console[O](...x)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(Bn,tt,S)=>{"use strict";S.d(tt,{q4:()=>yd,iC:()=>Cl,HU:()=>pa,vb:()=>Td,JM:()=>Wl});var c=S(5879),t=S(3182),b=S(5861),w=S(534),E=S(9058),F=S(4537),L=S(7879);const D=(Me,$e)=>$e.some(Et=>Me instanceof Et);let p,f;const M=new WeakMap,U=new WeakMap,R=new WeakMap,V=new WeakMap,k=new WeakMap;let P={get(Me,$e,Et){if(Me instanceof IDBTransaction){if("done"===$e)return U.get(Me);if("objectStoreNames"===$e)return Me.objectStoreNames||R.get(Me);if("store"===$e)return Et.objectStoreNames[1]?void 0:Et.objectStore(Et.objectStoreNames[0])}return B(Me[$e])},set:(Me,$e,Et)=>(Me[$e]=Et,!0),has:(Me,$e)=>Me instanceof IDBTransaction&&("done"===$e||"store"===$e)||$e in Me};function C(Me){return"function"==typeof Me?function N(Me){return Me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function y(){return f||(f=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Me)?function(...$e){return Me.apply(Y(this),$e),B(M.get(this))}:function(...$e){return B(Me.apply(Y(this),$e))}:function($e,...Et){const Yt=Me.call(Y(this),$e,...Et);return R.set(Yt,$e.sort?$e.sort():[$e]),B(Yt)}}(Me):(Me instanceof IDBTransaction&&function x(Me){if(U.has(Me))return;const $e=new Promise((Et,Yt)=>{const Vt=()=>{Me.removeEventListener("complete",bn),Me.removeEventListener("error",In),Me.removeEventListener("abort",In)},bn=()=>{Et(),Vt()},In=()=>{Yt(Me.error||new DOMException("AbortError","AbortError")),Vt()};Me.addEventListener("complete",bn),Me.addEventListener("error",In),Me.addEventListener("abort",In)});U.set(Me,$e)}(Me),D(Me,function g(){return p||(p=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Me,P):Me)}function B(Me){if(Me instanceof IDBRequest)return function O(Me){const $e=new Promise((Et,Yt)=>{const Vt=()=>{Me.removeEventListener("success",bn),Me.removeEventListener("error",In)},bn=()=>{Et(B(Me.result)),Vt()},In=()=>{Yt(Me.error),Vt()};Me.addEventListener("success",bn),Me.addEventListener("error",In)});return $e.then(Et=>{Et instanceof IDBCursor&&M.set(Et,Me)}).catch(()=>{}),k.set($e,Me),$e}(Me);if(V.has(Me))return V.get(Me);const $e=C(Me);return $e!==Me&&(V.set(Me,$e),k.set($e,Me)),$e}const Y=Me=>k.get(Me),Fe=["get","getKey","getAll","getAllKeys","count"],$=["put","add","delete","clear"],ae=new Map;function K(Me,$e){if(!(Me instanceof IDBDatabase)||$e in Me||"string"!=typeof $e)return;if(ae.get($e))return ae.get($e);const Et=$e.replace(/FromIndex$/,""),Yt=$e!==Et,Vt=$.includes(Et);if(!(Et in(Yt?IDBIndex:IDBObjectStore).prototype)||!Vt&&!Fe.includes(Et))return;const bn=function(){var In=(0,b.Z)(function*(hi,...ui){const Ci=this.transaction(hi,Vt?"readwrite":"readonly");let ki=Ci.store;return Yt&&(ki=ki.index(ui.shift())),(yield Promise.all([ki[Et](...ui),Vt&&Ci.done]))[0]});return function(ui){return In.apply(this,arguments)}}();return ae.set($e,bn),bn}!function T(Me){P=Me(P)}(Me=>({...Me,get:($e,Et,Yt)=>K($e,Et)||Me.get($e,Et,Yt),has:($e,Et)=>!!K($e,Et)||Me.has($e,Et)}));const ge="@firebase/installations",oe="0.6.4",he=1e4,Ce=`w:${oe}`,Le="FIS_v2",fe="https://firebaseinstallations.googleapis.com/v1",Re=36e5,ke=new E.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function we(Me){return Me instanceof E.ZR&&Me.code.includes("request-failed")}function He({projectId:Me}){return`${fe}/projects/${Me}/installations`}function at(Me){return{token:Me.token,requestStatus:2,expiresIn:J(Me.expiresIn),creationTime:Date.now()}}function Je(Me,$e){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,b.Z)(function*(Me,$e){const Yt=(yield $e.json()).error;return ke.create("request-failed",{requestName:Me,serverCode:Yt.code,serverMessage:Yt.message,serverStatus:Yt.status})})).apply(this,arguments)}function Te({apiKey:Me}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Me})}function se(Me){return _e.apply(this,arguments)}function _e(){return(_e=(0,b.Z)(function*(Me){const $e=yield Me();return $e.status>=500&&$e.status<600?Me():$e})).apply(this,arguments)}function J(Me){return Number(Me.replace("s","000"))}function ne(){return(ne=(0,b.Z)(function*({appConfig:Me,heartbeatServiceProvider:$e},{fid:Et}){const Yt=He(Me),Vt=Te(Me),bn=$e.getImmediate({optional:!0});if(bn){const Ci=yield bn.getHeartbeatsHeader();Ci&&Vt.append("x-firebase-client",Ci)}const hi={method:"POST",headers:Vt,body:JSON.stringify({fid:Et,authVersion:Le,appId:Me.appId,sdkVersion:Ce})},ui=yield se(()=>fetch(Yt,hi));if(ui.ok){const Ci=yield ui.json();return{fid:Ci.fid||Et,registrationStatus:2,refreshToken:Ci.refreshToken,authToken:at(Ci.authToken)}}throw yield Je("Create Installation",ui)})).apply(this,arguments)}function ie(Me){return new Promise($e=>{setTimeout($e,Me)})}const X=/^[cdef][\w-]{21}$/,ue="";function ve(){try{const Me=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Me),Me[0]=112+Me[0]%16;const Et=function de(Me){return function ee(Me){return btoa(String.fromCharCode(...Me)).replace(/\+/g,"-").replace(/\//g,"_")}(Me).substr(0,22)}(Me);return X.test(Et)?Et:ue}catch{return ue}}function xe(Me){return`${Me.appName}!${Me.appId}`}const Ke=new Map;function Ve(Me,$e){const Et=xe(Me);it(Et,$e),function bt(Me,$e){const Et=function wt(){return!Ut&&"BroadcastChannel"in self&&(Ut=new BroadcastChannel("[Firebase] FID Change"),Ut.onmessage=Me=>{it(Me.data.key,Me.data.fid)}),Ut}();Et&&Et.postMessage({key:Me,fid:$e}),function Ht(){0===Ke.size&&Ut&&(Ut.close(),Ut=null)}()}(Et,$e)}function it(Me,$e){const Et=Ke.get(Me);if(Et)for(const Yt of Et)Yt($e)}let Ut=null;const en="firebase-installations-database",ln=1,cn="firebase-installations-store";let Wt=null;function Sn(){return Wt||(Wt=function q(Me,$e,{blocked:Et,upgrade:Yt,blocking:Vt,terminated:bn}={}){const In=indexedDB.open(Me,$e),hi=B(In);return Yt&&In.addEventListener("upgradeneeded",ui=>{Yt(B(In.result),ui.oldVersion,ui.newVersion,B(In.transaction))}),Et&&In.addEventListener("blocked",()=>Et()),hi.then(ui=>{bn&&ui.addEventListener("close",()=>bn()),Vt&&ui.addEventListener("versionchange",()=>Vt())}).catch(()=>{}),hi}(en,ln,{upgrade:(Me,$e)=>{0===$e&&Me.createObjectStore(cn)}})),Wt}function nn(Me,$e){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,b.Z)(function*(Me,$e){const Et=xe(Me),Vt=(yield Sn()).transaction(cn,"readwrite"),bn=Vt.objectStore(cn),In=yield bn.get(Et);return yield bn.put($e,Et),yield Vt.done,(!In||In.fid!==$e.fid)&&Ve(Me,$e.fid),$e})).apply(this,arguments)}function mt(Me){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,b.Z)(function*(Me){const $e=xe(Me),Yt=(yield Sn()).transaction(cn,"readwrite");yield Yt.objectStore(cn).delete($e),yield Yt.done})).apply(this,arguments)}function De(Me,$e){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,b.Z)(function*(Me,$e){const Et=xe(Me),Vt=(yield Sn()).transaction(cn,"readwrite"),bn=Vt.objectStore(cn),In=yield bn.get(Et),hi=$e(In);return void 0===hi?yield bn.delete(Et):yield bn.put(hi,Et),yield Vt.done,hi&&(!In||In.fid!==hi.fid)&&Ve(Me,hi.fid),hi})).apply(this,arguments)}function Ye(Me){return Ze.apply(this,arguments)}function Ze(){return Ze=(0,b.Z)(function*(Me){let $e;const Et=yield De(Me.appConfig,Yt=>{const Vt=function ct(Me){return an(Me||{fid:ve(),registrationStatus:0})}(Yt),bn=function st(Me,$e){if(0===$e.registrationStatus){if(!navigator.onLine)return{installationEntry:$e,registrationPromise:Promise.reject(ke.create("app-offline"))};const Et={fid:$e.fid,registrationStatus:1,registrationTime:Date.now()},Yt=function ut(Me,$e){return kt.apply(this,arguments)}(Me,Et);return{installationEntry:Et,registrationPromise:Yt}}return 1===$e.registrationStatus?{installationEntry:$e,registrationPromise:$t(Me)}:{installationEntry:$e}}(Me,Vt);return $e=bn.registrationPromise,bn.installationEntry});return Et.fid===ue?{installationEntry:yield $e}:{installationEntry:Et,registrationPromise:$e}}),Ze.apply(this,arguments)}function kt(){return kt=(0,b.Z)(function*(Me,$e){try{const Et=yield function Z(Me,$e){return ne.apply(this,arguments)}(Me,$e);return nn(Me.appConfig,Et)}catch(Et){throw we(Et)&&409===Et.customData.serverCode?yield mt(Me.appConfig):yield nn(Me.appConfig,{fid:$e.fid,registrationStatus:0}),Et}}),kt.apply(this,arguments)}function $t(Me){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,b.Z)(function*(Me){let $e=yield Jt(Me.appConfig);for(;1===$e.registrationStatus;)yield ie(100),$e=yield Jt(Me.appConfig);if(0===$e.registrationStatus){const{installationEntry:Et,registrationPromise:Yt}=yield Ye(Me);return Yt||Et}return $e})).apply(this,arguments)}function Jt(Me){return De(Me,$e=>{if(!$e)throw ke.create("installation-not-found");return an($e)})}function an(Me){return function fn(Me){return 1===Me.registrationStatus&&Me.registrationTime+he<Date.now()}(Me)?{fid:Me.fid,registrationStatus:0}:Me}function Nn(){return(Nn=(0,b.Z)(function*({appConfig:Me,heartbeatServiceProvider:$e},Et){const Yt=function Wn(Me,{fid:$e}){return`${He(Me)}/${$e}/authTokens:generate`}(Me,Et),Vt=function W(Me,{refreshToken:$e}){const Et=Te(Me);return Et.append("Authorization",function Q(Me){return`${Le} ${Me}`}($e)),Et}(Me,Et),bn=$e.getImmediate({optional:!0});if(bn){const Ci=yield bn.getHeartbeatsHeader();Ci&&Vt.append("x-firebase-client",Ci)}const hi={method:"POST",headers:Vt,body:JSON.stringify({installation:{sdkVersion:Ce,appId:Me.appId}})},ui=yield se(()=>fetch(Yt,hi));if(ui.ok)return at(yield ui.json());throw yield Je("Generate Auth Token",ui)})).apply(this,arguments)}function Gn(Me){return fi.apply(this,arguments)}function fi(){return fi=(0,b.Z)(function*(Me,$e=!1){let Et;const Yt=yield De(Me.appConfig,bn=>{if(!ze(bn))throw ke.create("not-registered");const In=bn.authToken;if(!$e&&function Xe(Me){return 2===Me.requestStatus&&!function Pt(Me){const $e=Date.now();return $e<Me.creationTime||Me.creationTime+Me.expiresIn<$e+Re}(Me)}(In))return bn;if(1===In.requestStatus)return Et=function _n(Me,$e){return pn.apply(this,arguments)}(Me,$e),bn;{if(!navigator.onLine)throw ke.create("app-offline");const hi=function Qt(Me){const $e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Me),{authToken:$e})}(bn);return Et=function ft(Me,$e){return tn.apply(this,arguments)}(Me,hi),hi}});return Et?yield Et:Yt.authToken}),fi.apply(this,arguments)}function pn(){return(pn=(0,b.Z)(function*(Me,$e){let Et=yield St(Me.appConfig);for(;1===Et.authToken.requestStatus;)yield ie(100),Et=yield St(Me.appConfig);const Yt=Et.authToken;return 0===Yt.requestStatus?Gn(Me,$e):Yt})).apply(this,arguments)}function St(Me){return De(Me,$e=>{if(!ze($e))throw ke.create("not-registered");return function wn(Me){return 1===Me.requestStatus&&Me.requestTime+he<Date.now()}($e.authToken)?Object.assign(Object.assign({},$e),{authToken:{requestStatus:0}}):$e})}function tn(){return tn=(0,b.Z)(function*(Me,$e){try{const Et=yield function Mn(Me,$e){return Nn.apply(this,arguments)}(Me,$e),Yt=Object.assign(Object.assign({},$e),{authToken:Et});return yield nn(Me.appConfig,Yt),Et}catch(Et){if(!we(Et)||401!==Et.customData.serverCode&&404!==Et.customData.serverCode){const Yt=Object.assign(Object.assign({},$e),{authToken:{requestStatus:0}});yield nn(Me.appConfig,Yt)}else yield mt(Me.appConfig);throw Et}}),tn.apply(this,arguments)}function ze(Me){return void 0!==Me&&2===Me.registrationStatus}function Gt(){return(Gt=(0,b.Z)(function*(Me){const $e=Me,{installationEntry:Et,registrationPromise:Yt}=yield Ye($e);return Yt?Yt.catch(console.error):Gn($e).catch(console.error),Et.fid})).apply(this,arguments)}function rn(){return rn=(0,b.Z)(function*(Me,$e=!1){const Et=Me;return yield function En(Me){return Ln.apply(this,arguments)}(Et),(yield Gn(Et,$e)).token}),rn.apply(this,arguments)}function Ln(){return(Ln=(0,b.Z)(function*(Me){const{registrationPromise:$e}=yield Ye(Me);$e&&(yield $e)})).apply(this,arguments)}function ti(Me){return ke.create("missing-app-config-values",{valueName:Me})}const ar="installations",Tr=Me=>{const $e=Me.getProvider("app").getImmediate(),Et=function hn(Me){if(!Me||!Me.options)throw ti("App Configuration");if(!Me.name)throw ti("App Name");const $e=["projectId","apiKey","appId"];for(const Et of $e)if(!Me.options[Et])throw ti(Et);return{appName:Me.name,projectId:Me.options.projectId,apiKey:Me.options.apiKey,appId:Me.options.appId}}($e);return{app:$e,appConfig:Et,heartbeatServiceProvider:(0,w._getProvider)($e,"heartbeat"),_delete:()=>Promise.resolve()}},hr=Me=>{const $e=Me.getProvider("app").getImmediate(),Et=(0,w._getProvider)($e,ar).getImmediate();return{getId:()=>function Fn(Me){return Gt.apply(this,arguments)}(Et),getToken:Vt=>function Kt(Me){return rn.apply(this,arguments)}(Et,Vt)}};(function yo(){(0,w._registerComponent)(new F.wA(ar,Tr,"PUBLIC")),(0,w._registerComponent)(new F.wA("installations-internal",hr,"PRIVATE"))})(),(0,w.registerVersion)(ge,oe),(0,w.registerVersion)(ge,oe,"esm2017");const Co="@firebase/remote-config",tr=new E.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mi{constructor($e,Et,Yt,Vt){this.client=$e,this.storage=Et,this.storageCache=Yt,this.logger=Vt}isCachedDataFresh($e,Et){if(!Et)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Yt=Date.now()-Et,Vt=Yt<=$e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Yt}. Cache max age millis (minimumFetchIntervalMillis setting): ${$e}. Is cache hit: ${Vt}.`),Vt}fetch($e){var Et=this;return(0,b.Z)(function*(){const[Yt,Vt]=yield Promise.all([Et.storage.getLastSuccessfulFetchTimestampMillis(),Et.storage.getLastSuccessfulFetchResponse()]);if(Vt&&Et.isCachedDataFresh($e.cacheMaxAgeMillis,Yt))return Vt;$e.eTag=Vt&&Vt.eTag;const bn=yield Et.client.fetch($e),In=[Et.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===bn.status&&In.push(Et.storage.setLastSuccessfulFetchResponse(bn)),yield Promise.all(In),bn})()}}function gi(Me=navigator){return Me.languages&&Me.languages[0]||Me.language}class Oi{constructor($e,Et,Yt,Vt,bn,In){this.firebaseInstallations=$e,this.sdkVersion=Et,this.namespace=Yt,this.projectId=Vt,this.apiKey=bn,this.appId=In}fetch($e){var Et=this;return(0,b.Z)(function*(){const[Yt,Vt]=yield Promise.all([Et.firebaseInstallations.getId(),Et.firebaseInstallations.getToken()]),In=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Et.projectId}/namespaces/${Et.namespace}:fetch?key=${Et.apiKey}`,hi={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":$e.eTag||"*"},ui={sdk_version:Et.sdkVersion,app_instance_id:Yt,app_instance_id_token:Vt,app_id:Et.appId,language_code:gi()},Ci={method:"POST",headers:hi,body:JSON.stringify(ui)},ki=fetch(In,Ci),Ui=new Promise((Ko,Bs)=>{$e.signal.addEventListener(()=>{const Cc=new Error("The operation was aborted.");Cc.name="AbortError",Bs(Cc)})});let yi;try{yield Promise.race([ki,Ui]),yi=yield ki}catch(Ko){let Bs="fetch-client-network";throw"AbortError"===Ko?.name&&(Bs="fetch-timeout"),tr.create(Bs,{originalErrorMessage:Ko?.message})}let lo=yi.status;const Zc=yi.headers.get("ETag")||void 0;let Ua,To;if(200===yi.status){let Ko;try{Ko=yield yi.json()}catch(Bs){throw tr.create("fetch-client-parse",{originalErrorMessage:Bs?.message})}Ua=Ko.entries,To=Ko.state}if("INSTANCE_STATE_UNSPECIFIED"===To?lo=500:"NO_CHANGE"===To?lo=304:("NO_TEMPLATE"===To||"EMPTY_CONFIG"===To)&&(Ua={}),304!==lo&&200!==lo)throw tr.create("fetch-status",{httpStatus:lo});return{status:lo,eTag:Zc,config:Ua}})()}}class Di{constructor($e,Et){this.client=$e,this.storage=Et}fetch($e){var Et=this;return(0,b.Z)(function*(){const Yt=(yield Et.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Et.attemptFetch($e,Yt)})()}attemptFetch($e,{throttleEndTimeMillis:Et,backoffCount:Yt}){var Vt=this;return(0,b.Z)(function*(){yield function wi(Me,$e){return new Promise((Et,Yt)=>{const Vt=Math.max($e-Date.now(),0),bn=setTimeout(Et,Vt);Me.addEventListener(()=>{clearTimeout(bn),Yt(tr.create("fetch-throttle",{throttleEndTimeMillis:$e}))})})}($e.signal,Et);try{const bn=yield Vt.client.fetch($e);return yield Vt.storage.deleteThrottleMetadata(),bn}catch(bn){if(!function fr(Me){if(!(Me instanceof E.ZR&&Me.customData))return!1;const $e=Number(Me.customData.httpStatus);return 429===$e||500===$e||503===$e||504===$e}(bn))throw bn;const In={throttleEndTimeMillis:Date.now()+(0,E.$s)(Yt),backoffCount:Yt+1};return yield Vt.storage.setThrottleMetadata(In),Vt.attemptFetch($e,In)}})()}}class Po{constructor($e,Et,Yt,Vt,bn){this.app=$e,this._client=Et,this._storageCache=Yt,this._storage=Vt,this._logger=bn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function kr(Me,$e){const Et=Me.target.error||void 0;return tr.create($e,{originalErrorMessage:Et&&Et?.message})}const xr="app_namespace_store";class aa{constructor($e,Et,Yt,Vt=function Gi(){return new Promise((Me,$e)=>{try{const Et=indexedDB.open("firebase_remote_config",1);Et.onerror=Yt=>{$e(kr(Yt,"storage-open"))},Et.onsuccess=Yt=>{Me(Yt.target.result)},Et.onupgradeneeded=Yt=>{0===Yt.oldVersion&&Yt.target.result.createObjectStore(xr,{keyPath:"compositeKey"})}}catch(Et){$e(tr.create("storage-open",{originalErrorMessage:Et?.message}))}})}()){this.appId=$e,this.appName=Et,this.namespace=Yt,this.openDbPromise=Vt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus($e){return this.set("last_fetch_status",$e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis($e){return this.set("last_successful_fetch_timestamp_millis",$e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse($e){return this.set("last_successful_fetch_response",$e)}getActiveConfig(){return this.get("active_config")}setActiveConfig($e){return this.set("active_config",$e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag($e){return this.set("active_config_etag",$e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata($e){return this.set("throttle_metadata",$e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get($e){var Et=this;return(0,b.Z)(function*(){const Yt=yield Et.openDbPromise;return new Promise((Vt,bn)=>{const hi=Yt.transaction([xr],"readonly").objectStore(xr),ui=Et.createCompositeKey($e);try{const Ci=hi.get(ui);Ci.onerror=ki=>{bn(kr(ki,"storage-get"))},Ci.onsuccess=ki=>{const Ui=ki.target.result;Vt(Ui?Ui.value:void 0)}}catch(Ci){bn(tr.create("storage-get",{originalErrorMessage:Ci?.message}))}})})()}set($e,Et){var Yt=this;return(0,b.Z)(function*(){const Vt=yield Yt.openDbPromise;return new Promise((bn,In)=>{const ui=Vt.transaction([xr],"readwrite").objectStore(xr),Ci=Yt.createCompositeKey($e);try{const ki=ui.put({compositeKey:Ci,value:Et});ki.onerror=Ui=>{In(kr(Ui,"storage-set"))},ki.onsuccess=()=>{bn()}}catch(ki){In(tr.create("storage-set",{originalErrorMessage:ki?.message}))}})})()}delete($e){var Et=this;return(0,b.Z)(function*(){const Yt=yield Et.openDbPromise;return new Promise((Vt,bn)=>{const hi=Yt.transaction([xr],"readwrite").objectStore(xr),ui=Et.createCompositeKey($e);try{const Ci=hi.delete(ui);Ci.onerror=ki=>{bn(kr(ki,"storage-delete"))},Ci.onsuccess=()=>{Vt()}}catch(Ci){bn(tr.create("storage-delete",{originalErrorMessage:Ci?.message}))}})})()}createCompositeKey($e){return[this.appId,this.appName,this.namespace,$e].join()}}class Oo{constructor($e){this.storage=$e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var $e=this;return(0,b.Z)(function*(){const Et=$e.storage.getLastFetchStatus(),Yt=$e.storage.getLastSuccessfulFetchTimestampMillis(),Vt=$e.storage.getActiveConfig(),bn=yield Et;bn&&($e.lastFetchStatus=bn);const In=yield Yt;In&&($e.lastSuccessfulFetchTimestampMillis=In);const hi=yield Vt;hi&&($e.activeConfig=hi)})()}setLastFetchStatus($e){return this.lastFetchStatus=$e,this.storage.setLastFetchStatus($e)}setLastSuccessfulFetchTimestampMillis($e){return this.lastSuccessfulFetchTimestampMillis=$e,this.storage.setLastSuccessfulFetchTimestampMillis($e)}setActiveConfig($e){return this.activeConfig=$e,this.storage.setActiveConfig($e)}}function bo(){return ss.apply(this,arguments)}function ss(){return(ss=(0,b.Z)(function*(){if(!(0,E.hl)())return!1;try{return yield(0,E.eu)()}catch{return!1}})).apply(this,arguments)}!function vs(){(0,w._registerComponent)(new F.wA("remote-config",function Me($e,{instanceIdentifier:Et}){const Yt=$e.getProvider("app").getImmediate(),Vt=$e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw tr.create("registration-window");if(!(0,E.hl)())throw tr.create("indexed-db-unavailable");const{projectId:bn,apiKey:In,appId:hi}=Yt.options;if(!bn)throw tr.create("registration-project-id");if(!In)throw tr.create("registration-api-key");if(!hi)throw tr.create("registration-app-id");const ui=new aa(hi,Yt.name,Et=Et||"firebase"),Ci=new Oo(ui),ki=new L.Yd(Co);ki.logLevel=L.in.ERROR;const Ui=new Oi(Vt,w.SDK_VERSION,Et,bn,In,hi),yi=new Di(Ui,ui),lo=new mi(yi,ui,Ci,ki),Zc=new Po(Yt,lo,Ci,ui,ki);return function Pi(Me){const $e=(0,E.m9)(Me);$e._initializePromise||($e._initializePromise=$e._storageCache.loadFromStorage().then(()=>{$e._isInitializationComplete=!0}))}(Zc),Zc},"PUBLIC").setMultipleInstances(!0)),(0,w.registerVersion)(Co,"0.4.4"),(0,w.registerVersion)(Co,"0.4.4","esm2017")}();const Li=(Me,$e)=>$e.some(Et=>Me instanceof Et);let Mr,Cr;const Yr=new WeakMap,Ro=new WeakMap,cr=new WeakMap,jo=new WeakMap,as=new WeakMap;let ws={get(Me,$e,Et){if(Me instanceof IDBTransaction){if("done"===$e)return Ro.get(Me);if("objectStoreNames"===$e)return Me.objectStoreNames||cr.get(Me);if("store"===$e)return Et.objectStoreNames[1]?void 0:Et.objectStore(Et.objectStoreNames[0])}return Eo(Me[$e])},set:(Me,$e,Et)=>(Me[$e]=Et,!0),has:(Me,$e)=>Me instanceof IDBTransaction&&("done"===$e||"store"===$e)||$e in Me};function zs(Me){return"function"==typeof Me?function ys(Me){return Me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Uo(){return Cr||(Cr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Me)?function(...$e){return Me.apply(No(this),$e),Eo(Yr.get(this))}:function(...$e){return Eo(Me.apply(No(this),$e))}:function($e,...Et){const Yt=Me.call(No(this),$e,...Et);return cr.set(Yt,$e.sort?$e.sort():[$e]),Eo(Yt)}}(Me):(Me instanceof IDBTransaction&&function Ws(Me){if(Ro.has(Me))return;const $e=new Promise((Et,Yt)=>{const Vt=()=>{Me.removeEventListener("complete",bn),Me.removeEventListener("error",In),Me.removeEventListener("abort",In)},bn=()=>{Et(),Vt()},In=()=>{Yt(Me.error||new DOMException("AbortError","AbortError")),Vt()};Me.addEventListener("complete",bn),Me.addEventListener("error",In),Me.addEventListener("abort",In)});Ro.set(Me,$e)}(Me),Li(Me,function mr(){return Mr||(Mr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Me,ws):Me)}function Eo(Me){if(Me instanceof IDBRequest)return function io(Me){const $e=new Promise((Et,Yt)=>{const Vt=()=>{Me.removeEventListener("success",bn),Me.removeEventListener("error",In)},bn=()=>{Et(Eo(Me.result)),Vt()},In=()=>{Yt(Me.error),Vt()};Me.addEventListener("success",bn),Me.addEventListener("error",In)});return $e.then(Et=>{Et instanceof IDBCursor&&Yr.set(Et,Me)}).catch(()=>{}),as.set($e,Me),$e}(Me);if(jo.has(Me))return jo.get(Me);const $e=zs(Me);return $e!==Me&&(jo.set(Me,$e),as.set($e,Me)),$e}const No=Me=>as.get(Me);function Zo(Me,$e,{blocked:Et,upgrade:Yt,blocking:Vt,terminated:bn}={}){const In=indexedDB.open(Me,$e),hi=Eo(In);return Yt&&In.addEventListener("upgradeneeded",ui=>{Yt(Eo(In.result),ui.oldVersion,ui.newVersion,Eo(In.transaction))}),Et&&In.addEventListener("blocked",()=>Et()),hi.then(ui=>{bn&&ui.addEventListener("close",()=>bn()),Vt&&ui.addEventListener("versionchange",()=>Vt())}).catch(()=>{}),hi}function Zs(Me,{blocked:$e}={}){const Et=indexedDB.deleteDatabase(Me);return $e&&Et.addEventListener("blocked",()=>$e()),Eo(Et).then(()=>{})}const la=["get","getKey","getAll","getAllKeys","count"],Ir=["put","add","delete","clear"],Jr=new Map;function $s(Me,$e){if(!(Me instanceof IDBDatabase)||$e in Me||"string"!=typeof $e)return;if(Jr.get($e))return Jr.get($e);const Et=$e.replace(/FromIndex$/,""),Yt=$e!==Et,Vt=Ir.includes(Et);if(!(Et in(Yt?IDBIndex:IDBObjectStore).prototype)||!Vt&&!la.includes(Et))return;const bn=function(){var In=(0,b.Z)(function*(hi,...ui){const Ci=this.transaction(hi,Vt?"readwrite":"readonly");let ki=Ci.store;return Yt&&(ki=ki.index(ui.shift())),(yield Promise.all([ki[Et](...ui),Vt&&Ci.done]))[0]});return function(ui){return In.apply(this,arguments)}}();return Jr.set($e,bn),bn}!function ls(Me){ws=Me(ws)}(Me=>({...Me,get:($e,Et,Yt)=>$s($e,Et)||Me.get($e,Et,Yt),has:($e,Et)=>!!$s($e,Et)||Me.has($e,Et)}));const $o="/firebase-messaging-sw.js",Ma="/firebase-cloud-messaging-push-scope",qs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bs="https://fcmregistrations.googleapis.com/v1",Ps="google.c.a.c_id",dr="google.c.a.c_l",mn="google.c.a.ts";var qe=function(Me){return Me.PUSH_RECEIVED="push-received",Me.NOTIFICATION_CLICKED="notification-clicked",Me}(qe||{});function At(Me){const $e=new Uint8Array(Me);return btoa(String.fromCharCode(...$e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function on(Me){const Et=(Me+"=".repeat((4-Me.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Yt=atob(Et),Vt=new Uint8Array(Yt.length);for(let bn=0;bn<Yt.length;++bn)Vt[bn]=Yt.charCodeAt(bn);return Vt}const ci="fcm_token_details_db",Ri=5,Qi="fcm_token_object_Store";function qo(){return qo=(0,b.Z)(function*(Me){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(bn=>bn.name).includes(ci))return null;let $e=null;return(yield Zo(ci,Ri,{upgrade:(Yt=(0,b.Z)(function*(Vt,bn,In,hi){var ui;if(bn<2||!Vt.objectStoreNames.contains(Qi))return;const Ci=hi.objectStore(Qi),ki=yield Ci.index("fcmSenderId").get(Me);if(yield Ci.clear(),ki)if(2===bn){const Ui=ki;if(!Ui.auth||!Ui.p256dh||!Ui.endpoint)return;$e={token:Ui.fcmToken,createTime:null!==(ui=Ui.createTime)&&void 0!==ui?ui:Date.now(),subscriptionOptions:{auth:Ui.auth,p256dh:Ui.p256dh,endpoint:Ui.endpoint,swScope:Ui.swScope,vapidKey:"string"==typeof Ui.vapidKey?Ui.vapidKey:At(Ui.vapidKey)}}}else if(3===bn){const Ui=ki;$e={token:Ui.fcmToken,createTime:Ui.createTime,subscriptionOptions:{auth:At(Ui.auth),p256dh:At(Ui.p256dh),endpoint:Ui.endpoint,swScope:Ui.swScope,vapidKey:At(Ui.vapidKey)}}}else if(4===bn){const Ui=ki;$e={token:Ui.fcmToken,createTime:Ui.createTime,subscriptionOptions:{auth:At(Ui.auth),p256dh:At(Ui.p256dh),endpoint:Ui.endpoint,swScope:Ui.swScope,vapidKey:At(Ui.vapidKey)}}}}),function(bn,In,hi,ui){return Yt.apply(this,arguments)})})).close(),yield Zs(ci),yield Zs("fcm_vapid_details_db"),yield Zs("undefined"),function Wr(Me){if(!Me||!Me.subscriptionOptions)return!1;const{subscriptionOptions:$e}=Me;return"number"==typeof Me.createTime&&Me.createTime>0&&"string"==typeof Me.token&&Me.token.length>0&&"string"==typeof $e.auth&&$e.auth.length>0&&"string"==typeof $e.p256dh&&$e.p256dh.length>0&&"string"==typeof $e.endpoint&&$e.endpoint.length>0&&"string"==typeof $e.swScope&&$e.swScope.length>0&&"string"==typeof $e.vapidKey&&$e.vapidKey.length>0}($e)?$e:null;var Yt}),qo.apply(this,arguments)}const Es="firebase-messaging-database",vr=1,Ao="firebase-messaging-store";let hl=null;function Io(){return hl||(hl=Zo(Es,vr,{upgrade:(Me,$e)=>{0===$e&&Me.createObjectStore(Ao)}})),hl}function Jo(Me){return cs.apply(this,arguments)}function cs(){return cs=(0,b.Z)(function*(Me){const $e=pl(Me),Yt=yield(yield Io()).transaction(Ao).objectStore(Ao).get($e);if(Yt)return Yt;{const Vt=yield function Vo(Me){return qo.apply(this,arguments)}(Me.appConfig.senderId);if(Vt)return yield Os(Me,Vt),Vt}}),cs.apply(this,arguments)}function Os(Me,$e){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,b.Z)(function*(Me,$e){const Et=pl(Me),Vt=(yield Io()).transaction(Ao,"readwrite");return yield Vt.objectStore(Ao).put($e,Et),yield Vt.done,$e})).apply(this,arguments)}function Ts(){return(Ts=(0,b.Z)(function*(Me){const $e=pl(Me),Yt=(yield Io()).transaction(Ao,"readwrite");yield Yt.objectStore(Ao).delete($e),yield Yt.done})).apply(this,arguments)}function pl({appConfig:Me}){return Me.appId}const Qr=new E.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function kl(Me,$e){return gl.apply(this,arguments)}function gl(){return(gl=(0,b.Z)(function*(Me,$e){const Et=yield ds(Me),Yt=_l($e),Vt={method:"POST",headers:Et,body:JSON.stringify(Yt)};let bn;try{bn=yield(yield fetch(wa(Me.appConfig),Vt)).json()}catch(In){throw Qr.create("token-subscribe-failed",{errorInfo:In?.toString()})}if(bn.error)throw Qr.create("token-subscribe-failed",{errorInfo:bn.error.message});if(!bn.token)throw Qr.create("token-subscribe-no-token");return bn.token})).apply(this,arguments)}function Js(){return(Js=(0,b.Z)(function*(Me,$e){const Et=yield ds(Me),Yt=_l($e.subscriptionOptions),Vt={method:"PATCH",headers:Et,body:JSON.stringify(Yt)};let bn;try{bn=yield(yield fetch(`${wa(Me.appConfig)}/${$e.token}`,Vt)).json()}catch(In){throw Qr.create("token-update-failed",{errorInfo:In?.toString()})}if(bn.error)throw Qr.create("token-update-failed",{errorInfo:bn.error.message});if(!bn.token)throw Qr.create("token-update-no-token");return bn.token})).apply(this,arguments)}function Ia(Me,$e){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,b.Z)(function*(Me,$e){const Yt={method:"DELETE",headers:yield ds(Me)};try{const bn=yield(yield fetch(`${wa(Me.appConfig)}/${$e}`,Yt)).json();if(bn.error)throw Qr.create("token-unsubscribe-failed",{errorInfo:bn.error.message})}catch(Vt){throw Qr.create("token-unsubscribe-failed",{errorInfo:Vt?.toString()})}})).apply(this,arguments)}function wa({projectId:Me}){return`${bs}/projects/${Me}/registrations`}function ds(Me){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,b.Z)(function*({appConfig:Me,installations:$e}){const Et=yield $e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Me.apiKey,"x-goog-firebase-installations-auth":`FIS ${Et}`})})).apply(this,arguments)}function _l({p256dh:Me,auth:$e,endpoint:Et,vapidKey:Yt}){const Vt={web:{endpoint:Et,auth:$e,p256dh:Me}};return Yt!==qs&&(Vt.web.applicationPubKey=Yt),Vt}const Bl=6048e5;function lc(){return lc=(0,b.Z)(function*(Me){const $e=yield function Rs(Me,$e){return Ie.apply(this,arguments)}(Me.swRegistration,Me.vapidKey),Et={vapidKey:Me.vapidKey,swScope:Me.swRegistration.scope,endpoint:$e.endpoint,auth:At($e.getKey("auth")),p256dh:At($e.getKey("p256dh"))},Yt=yield Jo(Me.firebaseDependencies);if(Yt){if(function It(Me,$e){return $e.vapidKey===Me.vapidKey&&$e.endpoint===Me.endpoint&&$e.auth===Me.auth&&$e.p256dh===Me.p256dh}(Yt.subscriptionOptions,Et))return Date.now()>=Yt.createTime+Bl?function Xo(Me,$e){return jl.apply(this,arguments)}(Me,{token:Yt.token,createTime:Date.now(),subscriptionOptions:Et}):Yt.token;try{yield Ia(Me.firebaseDependencies,Yt.token)}catch(Vt){console.warn(Vt)}return Qs(Me.firebaseDependencies,Et)}return Qs(Me.firebaseDependencies,Et)}),lc.apply(this,arguments)}function vl(){return vl=(0,b.Z)(function*(Me){const $e=yield Jo(Me.firebaseDependencies);$e&&(yield Ia(Me.firebaseDependencies,$e.token),yield function ml(Me){return Ts.apply(this,arguments)}(Me.firebaseDependencies));const Et=yield Me.swRegistration.pushManager.getSubscription();return!Et||Et.unsubscribe()}),vl.apply(this,arguments)}function jl(){return jl=(0,b.Z)(function*(Me,$e){try{const Et=yield function ac(Me,$e){return Js.apply(this,arguments)}(Me.firebaseDependencies,$e),Yt=Object.assign(Object.assign({},$e),{token:Et,createTime:Date.now()});return yield Os(Me.firebaseDependencies,Yt),Et}catch(Et){throw yield function Ul(Me){return vl.apply(this,arguments)}(Me),Et}}),jl.apply(this,arguments)}function Qs(Me,$e){return Er.apply(this,arguments)}function Er(){return(Er=(0,b.Z)(function*(Me,$e){const Yt={token:yield kl(Me,$e),createTime:Date.now(),subscriptionOptions:$e};return yield Os(Me,Yt),Yt.token})).apply(this,arguments)}function Ie(){return(Ie=(0,b.Z)(function*(Me,$e){return(yield Me.pushManager.getSubscription())||Me.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:on($e)})})).apply(this,arguments)}function ot(Me){const $e={from:Me.from,collapseKey:Me.collapse_key,messageId:Me.fcmMessageId};return function Mt(Me,$e){if(!$e.notification)return;Me.notification={};const Et=$e.notification.title;Et&&(Me.notification.title=Et);const Yt=$e.notification.body;Yt&&(Me.notification.body=Yt);const Vt=$e.notification.image;Vt&&(Me.notification.image=Vt);const bn=$e.notification.icon;bn&&(Me.notification.icon=bn)}($e,Me),function Xt(Me,$e){$e.data&&(Me.data=$e.data)}($e,Me),function An(Me,$e){var Et,Yt,Vt,bn,In;if(!($e.fcmOptions||null!==(Et=$e.notification)&&void 0!==Et&&Et.click_action))return;Me.fcmOptions={};const hi=null!==(Vt=null===(Yt=$e.fcmOptions)||void 0===Yt?void 0:Yt.link)&&void 0!==Vt?Vt:null===(bn=$e.notification)||void 0===bn?void 0:bn.click_action;hi&&(Me.fcmOptions.link=hi);const ui=null===(In=$e.fcmOptions)||void 0===In?void 0:In.analytics_label;ui&&(Me.fcmOptions.analyticsLabel=ui)}($e,Me),$e}function si(Me,$e){const Et=[];for(let Yt=0;Yt<Me.length;Yt++)Et.push(Me.charAt(Yt)),Yt<$e.length&&Et.push($e.charAt(Yt));return Et.join("")}function Wi(Me){return Qr.create("missing-app-config-values",{valueName:Me})}si("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),si("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class er{constructor($e,Et,Yt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Vt=function Ar(Me){if(!Me||!Me.options)throw Wi("App Configuration Object");if(!Me.name)throw Wi("App Name");const $e=["projectId","apiKey","appId","messagingSenderId"],{options:Et}=Me;for(const Yt of $e)if(!Et[Yt])throw Wi(Yt);return{appName:Me.name,projectId:Et.projectId,apiKey:Et.apiKey,appId:Et.appId,senderId:Et.messagingSenderId}}($e);this.firebaseDependencies={app:$e,appConfig:Vt,installations:Et,analyticsProvider:Yt}}_delete(){return Promise.resolve()}}function Fr(){return(Fr=(0,b.Z)(function*(Me){try{Me.swRegistration=yield navigator.serviceWorker.register($o,{scope:Ma}),Me.swRegistration.update().catch(()=>{})}catch($e){throw Qr.create("failed-service-worker-registration",{browserErrorMessage:$e?.message})}})).apply(this,arguments)}function yr(){return(yr=(0,b.Z)(function*(Me,$e){if(!$e&&!Me.swRegistration&&(yield function zi(Me){return Fr.apply(this,arguments)}(Me)),$e||!Me.swRegistration){if(!($e instanceof ServiceWorkerRegistration))throw Qr.create("invalid-sw-registration");Me.swRegistration=$e}})).apply(this,arguments)}function Si(){return(Si=(0,b.Z)(function*(Me,$e){$e?Me.vapidKey=$e:Me.vapidKey||(Me.vapidKey=qs)})).apply(this,arguments)}function Go(){return Go=(0,b.Z)(function*(Me,$e){if(!navigator)throw Qr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qr.create("permission-blocked");return yield function us(Me,$e){return Si.apply(this,arguments)}(Me,$e?.vapidKey),yield function ir(Me,$e){return yr.apply(this,arguments)}(Me,$e?.serviceWorkerRegistration),function Pa(Me){return lc.apply(this,arguments)}(Me)}),Go.apply(this,arguments)}function Ho(){return(Ho=(0,b.Z)(function*(Me,$e,Et){const Yt=function es(Me){switch(Me){case qe.NOTIFICATION_CLICKED:return"notification_open";case qe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}($e);(yield Me.firebaseDependencies.analyticsProvider.get()).logEvent(Yt,{message_id:Et[Ps],message_name:Et[dr],message_time:Et[mn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ts(){return ts=(0,b.Z)(function*(Me,$e){const Et=$e.data;if(!Et.isFirebaseMessaging)return;Me.onMessageHandler&&Et.messageType===qe.PUSH_RECEIVED&&("function"==typeof Me.onMessageHandler?Me.onMessageHandler(ot(Et)):Me.onMessageHandler.next(ot(Et)));const Yt=Et.data;(function Hn(Me){return"object"==typeof Me&&!!Me&&Ps in Me})(Yt)&&"1"===Yt["google.c.a.e"]&&(yield function nr(Me,$e,Et){return Ho.apply(this,arguments)}(Me,Et.messageType,Yt))}),ts.apply(this,arguments)}const za="@firebase/messaging",ld=Me=>{const $e=new er(Me.getProvider("app").getImmediate(),Me.getProvider("installations-internal").getImmediate(),Me.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Et=>function Wa(Me,$e){return ts.apply(this,arguments)}($e,Et)),$e},cd=Me=>{const $e=Me.getProvider("messaging").getImmediate();return{getToken:Yt=>function Ns(Me,$e){return Go.apply(this,arguments)}($e,Yt)}};function $n(){return ur.apply(this,arguments)}function ur(){return(ur=(0,b.Z)(function*(){try{yield(0,E.eu)()}catch{return!1}return typeof window<"u"&&(0,E.hl)()&&(0,E.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Vl(){(0,w._registerComponent)(new F.wA("messaging",ld,"PUBLIC")),(0,w._registerComponent)(new F.wA("messaging-internal",cd,"PRIVATE")),(0,w.registerVersion)(za,"0.12.4"),(0,w.registerVersion)(za,"0.12.4","esm2017")}();const Oa="analytics",Gl="firebase_id",uc="origin",fo=6e4,Ss="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ua="https://www.googletagmanager.com/gtag/js",Hr=new L.Yd("@firebase/analytics"),oo=new E.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function fc(Me){if(!Me.startsWith(ua)){const $e=oo.create("invalid-gtag-resource",{gtagURL:Me});return Hr.warn($e.message),""}return Me}function Ra(Me){return Promise.all(Me.map($e=>$e.catch(Et=>Et)))}function ka(){return(ka=(0,b.Z)(function*(Me,$e,Et,Yt,Vt,bn){const In=Yt[Vt];try{if(In)yield $e[In];else{const ui=(yield Ra(Et)).find(Ci=>Ci.measurementId===Vt);ui&&(yield $e[ui.appId])}}catch(hi){Hr.error(hi)}Me("config",Vt,bn)})).apply(this,arguments)}function Xs(){return(Xs=(0,b.Z)(function*(Me,$e,Et,Yt,Vt){try{let bn=[];if(Vt&&Vt.send_to){let In=Vt.send_to;Array.isArray(In)||(In=[In]);const hi=yield Ra(Et);for(const ui of In){const Ci=hi.find(Ui=>Ui.measurementId===ui),ki=Ci&&$e[Ci.appId];if(!ki){bn=[];break}bn.push(ki)}}0===bn.length&&(bn=Object.values($e)),yield Promise.all(bn),Me("event",Yt,Vt||{})}catch(bn){Hr.error(bn)}})).apply(this,arguments)}const pc=30,fd=new class gc{constructor($e={},Et=1e3){this.throttleMetadata=$e,this.intervalMillis=Et}getThrottleMetadata($e){return this.throttleMetadata[$e]}setThrottleMetadata($e,Et){this.throttleMetadata[$e]=Et}deleteThrottleMetadata($e){delete this.throttleMetadata[$e]}};function hd(Me){return new Headers({Accept:"application/json","x-goog-api-key":Me})}function ea(){return(ea=(0,b.Z)(function*(Me){var $e;const{appId:Et,apiKey:Yt}=Me,Vt={method:"GET",headers:hd(Yt)},bn=Ss.replace("{app-id}",Et),In=yield fetch(bn,Vt);if(200!==In.status&&304!==In.status){let hi="";try{const ui=yield In.json();null!==($e=ui.error)&&void 0!==$e&&$e.message&&(hi=ui.error.message)}catch{}throw oo.create("config-fetch-failed",{httpStatus:In.status,responseMessage:hi})}return In.json()})).apply(this,arguments)}function Ge(){return(Ge=(0,b.Z)(function*(Me,$e=fd,Et){const{appId:Yt,apiKey:Vt,measurementId:bn}=Me.options;if(!Yt)throw oo.create("no-app-id");if(!Vt){if(bn)return{measurementId:bn,appId:Yt};throw oo.create("no-api-key")}const In=$e.getThrottleMetadata(Yt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},hi=new Bt;return setTimeout((0,b.Z)(function*(){hi.abort()}),void 0!==Et?Et:fo),ce({appId:Yt,apiKey:Vt,measurementId:bn},In,hi,$e)})).apply(this,arguments)}function ce(Me,$e,Et){return Be.apply(this,arguments)}function Be(){return Be=(0,b.Z)(function*(Me,{throttleEndTimeMillis:$e,backoffCount:Et},Yt,Vt=fd){var bn;const{appId:In,measurementId:hi}=Me;try{yield function Tt(Me,$e){return new Promise((Et,Yt)=>{const Vt=Math.max($e-Date.now(),0),bn=setTimeout(Et,Vt);Me.addEventListener(()=>{clearTimeout(bn),Yt(oo.create("fetch-throttle",{throttleEndTimeMillis:$e}))})})}(Yt,$e)}catch(ui){if(hi)return Hr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${hi} provided in the "measurementId" field in the local Firebase config. [${ui?.message}]`),{appId:In,measurementId:hi};throw ui}try{const ui=yield function so(Me){return ea.apply(this,arguments)}(Me);return Vt.deleteThrottleMetadata(In),ui}catch(ui){const Ci=ui;if(!function jt(Me){if(!(Me instanceof E.ZR&&Me.customData))return!1;const $e=Number(Me.customData.httpStatus);return 429===$e||500===$e||503===$e||504===$e}(Ci)){if(Vt.deleteThrottleMetadata(In),hi)return Hr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${hi} provided in the "measurementId" field in the local Firebase config. [${Ci?.message}]`),{appId:In,measurementId:hi};throw ui}const ki=503===Number(null===(bn=Ci?.customData)||void 0===bn?void 0:bn.httpStatus)?(0,E.$s)(Et,Vt.intervalMillis,pc):(0,E.$s)(Et,Vt.intervalMillis),Ui={throttleEndTimeMillis:Date.now()+ki,backoffCount:Et+1};return Vt.setThrottleMetadata(In,Ui),Hr.debug(`Calling attemptFetch again in ${ki} millis`),ce(Me,Ui,Yt,Vt)}}),Be.apply(this,arguments)}class Bt{constructor(){this.listeners=[]}addEventListener($e){this.listeners.push($e)}abort(){this.listeners.forEach($e=>$e())}}let Tn,_c;function bi(){return(bi=(0,b.Z)(function*(Me,$e,Et,Yt,Vt){if(Vt&&Vt.global)Me("event",Et,Yt);else{const bn=yield $e;Me("event",Et,Object.assign(Object.assign({},Yt),{send_to:bn}))}})).apply(this,arguments)}function Hc(){return(Hc=(0,b.Z)(function*(){if(!(0,E.hl)())return Hr.warn(oo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,E.eu)()}catch(Me){return Hr.warn(oo.create("indexeddb-unavailable",{errorInfo:Me?.toString()}).message),!1}return!0})).apply(this,arguments)}function El(){return El=(0,b.Z)(function*(Me,$e,Et,Yt,Vt,bn,In){var hi;const ui=function Ee(Me){return Ge.apply(this,arguments)}(Me);ui.then(lo=>{Et[lo.measurementId]=lo.appId,Me.options.measurementId&&lo.measurementId!==Me.options.measurementId&&Hr.warn(`The measurement ID in the local Firebase config (${Me.options.measurementId}) does not match the measurement ID fetched from the server (${lo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(lo=>Hr.error(lo)),$e.push(ui);const Ci=function ih(){return Hc.apply(this,arguments)}().then(lo=>{if(lo)return Yt.getId()}),[ki,Ui]=yield Promise.all([ui,Ci]);(function bl(Me){const $e=window.document.getElementsByTagName("script");for(const Et of Object.values($e))if(Et.src&&Et.src.includes(ua)&&Et.src.includes(Me))return Et;return null})(bn)||function yl(Me,$e){const Et=function Na(Me,$e){let Et;return window.trustedTypes&&(Et=window.trustedTypes.createPolicy(Me,$e)),Et}("firebase-js-sdk-policy",{createScriptURL:fc}),Yt=document.createElement("script"),Vt=`${ua}?l=${Me}&id=${$e}`;Yt.src=Et?Et?.createScriptURL(Vt):Vt,Yt.async=!0,document.head.appendChild(Yt)}(bn,ki.measurementId),_c&&(Vt("consent","default",_c),function Kl(Me){_c=Me}(void 0)),Vt("js",new Date);const yi=null!==(hi=In?.config)&&void 0!==hi?hi:{};return yi[uc]="firebase",yi.update=!0,null!=Ui&&(yi[Gl]=Ui),Vt("config",ki.measurementId,yi),Tn&&(Vt("set",Tn),function md(Me){Tn=Me}(void 0)),ki.measurementId}),El.apply(this,arguments)}class pd{constructor($e){this.app=$e}_delete(){return delete Cs[this.app.options.appId],Promise.resolve()}}let Cs={},gd=[];const vc={};let su,ma,Ba="dataLayer",Xa=!1;function rh(Me,$e,Et){!function ks(){const Me=[];if((0,E.ru)()&&Me.push("This is a browser extension environment."),(0,E.zI)()||Me.push("Cookies are not available."),Me.length>0){const $e=Me.map((Yt,Vt)=>`(${Vt+1}) ${Yt}`).join(" "),Et=oo.create("invalid-analytics-context",{errorInfo:$e});Hr.warn(Et.message)}}();const Yt=Me.options.appId;if(!Yt)throw oo.create("no-app-id");if(!Me.options.apiKey){if(!Me.options.measurementId)throw oo.create("no-api-key");Hr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Me.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Cs[Yt])throw oo.create("already-exists",{id:Yt});if(!Xa){!function La(Me){let $e=[];Array.isArray(window[Me])?$e=window[Me]:window[Me]=$e}(Ba);const{wrappedGtag:bn,gtagCore:In}=function mc(Me,$e,Et,Yt,Vt){let bn=function(...In){window[Yt].push(arguments)};return window[Vt]&&"function"==typeof window[Vt]&&(bn=window[Vt]),window[Vt]=function $a(Me,$e,Et,Yt){function bn(){return bn=(0,b.Z)(function*(In,...hi){try{if("event"===In){const[ui,Ci]=hi;yield function ud(Me,$e,Et,Yt,Vt){return Xs.apply(this,arguments)}(Me,$e,Et,ui,Ci)}else if("config"===In){const[ui,Ci]=hi;yield function hc(Me,$e,Et,Yt,Vt,bn){return ka.apply(this,arguments)}(Me,$e,Et,Yt,ui,Ci)}else if("consent"===In){const[ui]=hi;Me("consent","update",ui)}else if("get"===In){const[ui,Ci,ki]=hi;Me("get",ui,Ci,ki)}else if("set"===In){const[ui]=hi;Me("set",ui)}else Me(In,...hi)}catch(ui){Hr.error(ui)}}),bn.apply(this,arguments)}return function Vt(In){return bn.apply(this,arguments)}}(bn,Me,$e,Et),{gtagCore:bn,wrappedGtag:window[Vt]}}(Cs,gd,vc,Ba,"gtag");ma=bn,su=In,Xa=!0}return Cs[Yt]=function ou(Me,$e,Et,Yt,Vt,bn,In){return El.apply(this,arguments)}(Me,gd,vc,$e,su,Ba,Et),new pd(Me)}function rf(){return el.apply(this,arguments)}function el(){return(el=(0,b.Z)(function*(){if((0,E.ru)()||!(0,E.zI)()||!(0,E.hl)())return!1;try{return yield(0,E.eu)()}catch{return!1}})).apply(this,arguments)}const du="@firebase/analytics";!function Kc(){(0,w._registerComponent)(new F.wA(Oa,($e,{options:Et})=>rh($e.getProvider("app").getImmediate(),$e.getProvider("installations-internal").getImmediate(),Et),"PUBLIC")),(0,w._registerComponent)(new F.wA("analytics-internal",function Me($e){try{const Et=$e.getProvider(Oa).getImmediate();return{logEvent:(Yt,Vt,bn)=>function Tc(Me,$e,Et,Yt){Me=(0,E.m9)(Me),function zn(Me,$e,Et,Yt,Vt){return bi.apply(this,arguments)}(ma,Cs[Me.app.options.appId],$e,Et,Yt).catch(Vt=>Hr.error(Vt))}(Et,Yt,Vt,bn)}}catch(Et){throw oo.create("interop-component-reg-failed",{reason:Et})}},"PRIVATE")),(0,w.registerVersion)(du,"0.10.0"),(0,w.registerVersion)(du,"0.10.0","esm2017")}();var Yl=S(1954),Yc=S(2631);const lf=new class Sc extends Yc.v{}(class af extends Yl.o{constructor($e,Et){super($e,Et),this.scheduler=$e,this.work=Et}schedule($e,Et=0){return Et>0?super.schedule($e,Et):(this.delay=Et,this.state=$e,this.scheduler.flush(this),this)}execute($e,Et){return Et>0||this.closed?super.execute($e,Et):this._execute($e,Et)}requestAsyncId($e,Et,Yt=0){return null!=Yt&&Yt>0||null==Yt&&this.delay>0?super.requestAsyncId($e,Et,Yt):($e.flush(this),0)}});var ao=S(6321),xi=S(9397),tl=S(5137),nl=S(3093);const yd=new c.GfV("7.6.1"),Sl="__angularfire_symbol__analyticsIsSupportedValue",il="__angularfire_symbol__analyticsIsSupported",Wc="__angularfire_symbol__remoteConfigIsSupportedValue",zc="__angularfire_symbol__remoteConfigIsSupported",bd="__angularfire_symbol__messagingIsSupportedValue",uu="__angularfire_symbol__messagingIsSupported";function Wl(Me,$e,Et){if($e){if(1===$e.length)return $e[0];const bn=$e.filter(In=>In.app===Et);if(1===bn.length)return bn[0]}return Et.container.getProvider(Me).getImmediate({optional:!0})}globalThis[il]||(globalThis[il]=rf().then(Me=>globalThis[Sl]=Me).catch(()=>globalThis[Sl]=!1)),globalThis[uu]||(globalThis[uu]=$n().then(Me=>globalThis[bd]=Me).catch(()=>globalThis[bd]=!1)),globalThis[zc]||(globalThis[zc]=bo().then(Me=>globalThis[Wc]=Me).catch(()=>globalThis[Wc]=!1));const Td=(Me,$e)=>{const Et=$e?[$e]:(0,t.C6)(),Yt=[];return Et.forEach(Vt=>{Vt.container.getProvider(Me).instances.forEach(In=>{Yt.includes(In)||Yt.push(In)})}),Yt};function zl(){}class mo{constructor($e,Et=lf){this.zone=$e,this.delegate=Et}now(){return this.delegate.now()}schedule($e,Et,Yt){const Vt=this.zone;return this.delegate.schedule(function(In){Vt.runGuarded(()=>{$e.apply(this,[In])})},Et,Yt)}}class hu{constructor($e){this.zone=$e,this.task=null}call($e,Et){const Yt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zl,{},zl,zl)),Et.pipe((0,xi.b)({next:Yt,complete:Yt,error:Yt})).subscribe($e).add(Yt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pa=(()=>{class Me{constructor(Et){this.ngZone=Et,this.outsideAngular=Et.runOutsideAngular(()=>new mo(Zone.current)),this.insideAngular=Et.run(()=>new mo(Zone.current,ao.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Me.\u0275fac=function(Et){return new(Et||Me)(c.LFG(c.R0b))},Me.\u0275prov=c.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})();function ga(){const Me=globalThis.\u0275AngularFireScheduler;if(!Me)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Me}function Cl(Me){return ga(),function cf(Me){return function(Et){return(Et=Et.lift(new hu(Me.ngZone))).pipe((0,tl.R)(Me.outsideAngular),(0,nl.Q)(Me.insideAngular))}}(ga())(Me)}},6878:(Bn,tt,S)=>{"use strict";S.d(tt,{$:()=>$o,A:()=>g,D:()=>U,I:()=>rt,J:()=>Tr,L:()=>Kn,N:()=>De,P:()=>ou,Q:()=>aa,R:()=>ho,U:()=>jn,V:()=>bo,W:()=>ss,X:()=>no,Y:()=>mr,Z:()=>Uo,_:()=>as,a:()=>zr,a0:()=>qs,a1:()=>Ps,a2:()=>ht,a3:()=>Qi,a4:()=>qo,a5:()=>Es,a6:()=>Ao,a7:()=>Io,a8:()=>cs,a9:()=>Aa,aA:()=>q,aB:()=>Wc,aC:()=>mt,aD:()=>Pe,aE:()=>tl,aF:()=>sf,aG:()=>oh,aH:()=>un,aL:()=>Lo,aO:()=>Mr,aa:()=>ml,ab:()=>pl,ac:()=>ca,ad:()=>ac,ae:()=>Ia,af:()=>wa,ai:()=>Bl,aj:()=>lc,ak:()=>Ul,an:()=>ys,ao:()=>Mt,aq:()=>Si,ar:()=>za,as:()=>Fe,at:()=>an,au:()=>$t,av:()=>T,aw:()=>yi,ax:()=>Ed,ay:()=>fn,az:()=>N,b:()=>da,c:()=>ma,d:()=>rh,e:()=>Wm,f:()=>du,g:()=>Sc,h:()=>Yl,i:()=>Hl,j:()=>ao,k:()=>Ko,l:()=>hs,m:()=>pu,p:()=>D,r:()=>Gc,s:()=>ha,u:()=>ih});var c=S(5861),t=S(9058),b=S(534),w=S(7582),E=S(7879),F=S(4537);const D={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},g={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const U=function y(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},R=function M(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},V=new t.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),O=new E.Yd("@firebase/auth");function P(ye,...H){O.logLevel<=E.in.ERROR&&O.error(`Auth (${b.SDK_VERSION}): ${ye}`,...H)}function T(ye,...H){throw Y(ye,...H)}function N(ye,...H){return Y(ye,...H)}function C(ye,H,z){const Oe=Object.assign(Object.assign({},R()),{[H]:z});return new t.LL("auth","Firebase",Oe).create(H,{appName:ye.name})}function B(ye,H,z){if(!(H instanceof z))throw z.name!==H.constructor.name&&T(ye,"argument-error"),C(ye,"argument-error",`Type of ${H.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Y(ye,...H){if("string"!=typeof ye){const z=H[0],Oe=[...H.slice(1)];return Oe[0]&&(Oe[0].appName=ye.name),ye._errorFactory.create(z,...Oe)}return V.create(ye,...H)}function q(ye,H,...z){if(!ye)throw Y(H,...z)}function le(ye){const H="INTERNAL ASSERTION FAILED: "+ye;throw P(H),new Error(H)}function Fe(ye,H){ye||le(H)}function $(){var ye;return typeof self<"u"&&(null===(ye=self.location)||void 0===ye?void 0:ye.href)||""}function ae(){return"http:"===K()||"https:"===K()}function K(){var ye;return typeof self<"u"&&(null===(ye=self.location)||void 0===ye?void 0:ye.protocol)||null}class he{constructor(H,z){this.shortDelay=H,this.longDelay=z,Fe(z>H,"Short delay should be less than long delay!"),this.isMobile=(0,t.uI)()||(0,t.b$)()}get(){return function ge(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ae()||(0,t.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ce(ye,H){Fe(ye.emulator,"Emulator should always be set here");const{url:z}=ye.emulator;return H?`${z}${H.startsWith("/")?H.slice(1):H}`:z}class Le{static initialize(H,z,Oe){this.fetchImpl=H,z&&(this.headersImpl=z),Oe&&(this.responseImpl=Oe)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Re=new he(3e4,6e4);function Ae(ye,H){return ye.tenantId&&!H.tenantId?Object.assign(Object.assign({},H),{tenantId:ye.tenantId}):H}function pe(ye,H,z,Oe){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,c.Z)(function*(ye,H,z,Oe,xt={}){return ke(ye,xt,(0,c.Z)(function*(){let Ft={},vn={};Oe&&("GET"===H?vn=Oe:Ft={body:JSON.stringify(Oe)});const Rn=(0,t.xO)(Object.assign({key:ye.config.apiKey},vn)).slice(1),ai=yield ye._getAdditionalHeaders();return ai["Content-Type"]="application/json",ye.languageCode&&(ai["X-Firebase-Locale"]=ye.languageCode),Le.fetch()(Je(ye,ye.config.apiHost,z,Rn),Object.assign({method:H,headers:ai,referrerPolicy:"no-referrer"},Ft))}))})).apply(this,arguments)}function ke(ye,H,z){return we.apply(this,arguments)}function we(){return(we=(0,c.Z)(function*(ye,H,z){ye._canInitEmulator=!1;const Oe=Object.assign(Object.assign({},fe),H);try{const xt=new Ne(ye),Ft=yield Promise.race([z(),xt.promise]);xt.clearNetworkTimeout();const vn=yield Ft.json();if("needConfirmation"in vn)throw Te(ye,"account-exists-with-different-credential",vn);if(Ft.ok&&!("errorMessage"in vn))return vn;{const Rn=Ft.ok?vn.errorMessage:vn.error.message,[ai,_i]=Rn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ai)throw Te(ye,"credential-already-in-use",vn);if("EMAIL_EXISTS"===ai)throw Te(ye,"email-already-in-use",vn);if("USER_DISABLED"===ai)throw Te(ye,"user-disabled",vn);const Mi=Oe[ai]||ai.toLowerCase().replace(/[_\s]+/g,"-");if(_i)throw C(ye,Mi,_i);T(ye,Mi)}}catch(xt){if(xt instanceof t.ZR)throw xt;T(ye,"network-request-failed",{message:String(xt)})}})).apply(this,arguments)}function He(ye,H,z,Oe){return at.apply(this,arguments)}function at(){return(at=(0,c.Z)(function*(ye,H,z,Oe,xt={}){const Ft=yield pe(ye,H,z,Oe,xt);return"mfaPendingCredential"in Ft&&T(ye,"multi-factor-auth-required",{_serverResponse:Ft}),Ft})).apply(this,arguments)}function Je(ye,H,z,Oe){const xt=`${H}${z}?${Oe}`;return ye.config.emulator?Ce(ye.config,xt):`${ye.config.apiScheme}://${xt}`}class Ne{constructor(H){this.auth=H,this.timer=null,this.promise=new Promise((z,Oe)=>{this.timer=setTimeout(()=>Oe(N(this.auth,"network-request-failed")),Re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Te(ye,H,z){const Oe={appName:ye.name};z.email&&(Oe.email=z.email),z.phoneNumber&&(Oe.phoneNumber=z.phoneNumber);const xt=N(ye,H,Oe);return xt.customData._tokenResponse=z,xt}function se(){return(se=(0,c.Z)(function*(ye,H){return pe(ye,"POST","/v1/accounts:delete",H)})).apply(this,arguments)}function J(){return(J=(0,c.Z)(function*(ye,H){return pe(ye,"POST","/v1/accounts:update",H)})).apply(this,arguments)}function Z(){return(Z=(0,c.Z)(function*(ye,H){return pe(ye,"POST","/v1/accounts:lookup",H)})).apply(this,arguments)}function ne(ye){if(ye)try{const H=new Date(Number(ye));if(!isNaN(H.getTime()))return H.toUTCString()}catch{}}function X(){return(X=(0,c.Z)(function*(ye,H=!1){const z=(0,t.m9)(ye),Oe=yield z.getIdToken(H),xt=ve(Oe);q(xt&&xt.exp&&xt.auth_time&&xt.iat,z.auth,"internal-error");const Ft="object"==typeof xt.firebase?xt.firebase:void 0,vn=Ft?.sign_in_provider;return{claims:xt,token:Oe,authTime:ne(ue(xt.auth_time)),issuedAtTime:ne(ue(xt.iat)),expirationTime:ne(ue(xt.exp)),signInProvider:vn||null,signInSecondFactor:Ft?.sign_in_second_factor||null}})).apply(this,arguments)}function ue(ye){return 1e3*Number(ye)}function ve(ye){const[H,z,Oe]=ye.split(".");if(void 0===H||void 0===z||void 0===Oe)return P("JWT malformed, contained fewer than 3 sections"),null;try{const xt=(0,t.tV)(z);return xt?JSON.parse(xt):(P("Failed to decode base64 JWT payload"),null)}catch(xt){return P("Caught error parsing JWT payload as JSON",xt?.toString()),null}}function xe(ye,H){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,c.Z)(function*(ye,H,z=!1){if(z)return H;try{return yield H}catch(Oe){throw Oe instanceof t.ZR&&function Ve({code:ye}){return"auth/user-disabled"===ye||"auth/user-token-expired"===ye}(Oe)&&ye.auth.currentUser===ye&&(yield ye.auth.signOut()),Oe}})).apply(this,arguments)}class lt{constructor(H){this.user=H,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(H){var z;if(H){const Oe=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),Oe}{this.errorBackoff=3e4;const xt=(null!==(z=this.user.stsTokenManager.expirationTime)&&void 0!==z?z:0)-Date.now()-3e5;return Math.max(0,xt)}}schedule(H=!1){var z=this;if(!this.isRunning)return;const Oe=this.getInterval(H);this.timerId=setTimeout((0,c.Z)(function*(){yield z.iteration()}),Oe)}iteration(){var H=this;return(0,c.Z)(function*(){try{yield H.user.getIdToken(!0)}catch(z){return void("auth/network-request-failed"===z?.code&&H.schedule(!0))}H.schedule()})()}}class dt{constructor(H,z){this.createdAt=H,this.lastLoginAt=z,this._initializeTime()}_initializeTime(){this.lastSignInTime=ne(this.lastLoginAt),this.creationTime=ne(this.createdAt)}_copy(H){this.createdAt=H.createdAt,this.lastLoginAt=H.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function it(ye){return bt.apply(this,arguments)}function bt(){return bt=(0,c.Z)(function*(ye){var H;const z=ye.auth,Oe=yield ye.getIdToken(),xt=yield xe(ye,function Q(ye,H){return Z.apply(this,arguments)}(z,{idToken:Oe}));q(xt?.users.length,z,"internal-error");const Ft=xt.users[0];ye._notifyReloadListener(Ft);const vn=null!==(H=Ft.providerUserInfo)&&void 0!==H&&H.length?function en(ye){return ye.map(H=>{var{providerId:z}=H,Oe=(0,w._T)(H,["providerId"]);return{providerId:z,uid:Oe.rawId||"",displayName:Oe.displayName||null,email:Oe.email||null,phoneNumber:Oe.phoneNumber||null,photoURL:Oe.photoUrl||null}})}(Ft.providerUserInfo):[],Rn=function Ht(ye,H){return[...ye.filter(Oe=>!H.some(xt=>xt.providerId===Oe.providerId)),...H]}(ye.providerData,vn),Mi=!!ye.isAnonymous&&!(ye.email&&Ft.passwordHash||Rn?.length),Hi={uid:Ft.localId,displayName:Ft.displayName||null,photoURL:Ft.photoUrl||null,email:Ft.email||null,emailVerified:Ft.emailVerified||!1,phoneNumber:Ft.phoneNumber||null,tenantId:Ft.tenantId||null,providerData:Rn,metadata:new dt(Ft.createdAt,Ft.lastLoginAt),isAnonymous:Mi};Object.assign(ye,Hi)}),bt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(ye){const H=(0,t.m9)(ye);yield it(H),yield H.auth._persistUserIfCurrent(H),H.auth._notifyListenersIfCurrent(H)})).apply(this,arguments)}function cn(){return(cn=(0,c.Z)(function*(ye,H){const z=yield ke(ye,{},(0,c.Z)(function*(){const Oe=(0,t.xO)({grant_type:"refresh_token",refresh_token:H}).slice(1),{tokenApiHost:xt,apiKey:Ft}=ye.config,vn=Je(ye,xt,"/v1/token",`key=${Ft}`),Rn=yield ye._getAdditionalHeaders();return Rn["Content-Type"]="application/x-www-form-urlencoded",Le.fetch()(vn,{method:"POST",headers:Rn,body:Oe})}));return{accessToken:z.access_token,expiresIn:z.expires_in,refreshToken:z.refresh_token}})).apply(this,arguments)}class Wt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(H){q(H.idToken,"internal-error"),q(typeof H.idToken<"u","internal-error"),q(typeof H.refreshToken<"u","internal-error");const z="expiresIn"in H&&typeof H.expiresIn<"u"?Number(H.expiresIn):function de(ye){const H=ve(ye);return q(H,"internal-error"),q(typeof H.exp<"u","internal-error"),q(typeof H.iat<"u","internal-error"),Number(H.exp)-Number(H.iat)}(H.idToken);this.updateTokensAndExpiration(H.idToken,H.refreshToken,z)}getToken(H,z=!1){var Oe=this;return(0,c.Z)(function*(){return q(!Oe.accessToken||Oe.refreshToken,H,"user-token-expired"),z||!Oe.accessToken||Oe.isExpired?Oe.refreshToken?(yield Oe.refresh(H,Oe.refreshToken),Oe.accessToken):null:Oe.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(H,z){var Oe=this;return(0,c.Z)(function*(){const{accessToken:xt,refreshToken:Ft,expiresIn:vn}=yield function ln(ye,H){return cn.apply(this,arguments)}(H,z);Oe.updateTokensAndExpiration(xt,Ft,Number(vn))})()}updateTokensAndExpiration(H,z,Oe){this.refreshToken=z||null,this.accessToken=H||null,this.expirationTime=Date.now()+1e3*Oe}static fromJSON(H,z){const{refreshToken:Oe,accessToken:xt,expirationTime:Ft}=z,vn=new Wt;return Oe&&(q("string"==typeof Oe,"internal-error",{appName:H}),vn.refreshToken=Oe),xt&&(q("string"==typeof xt,"internal-error",{appName:H}),vn.accessToken=xt),Ft&&(q("number"==typeof Ft,"internal-error",{appName:H}),vn.expirationTime=Ft),vn}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(H){this.accessToken=H.accessToken,this.refreshToken=H.refreshToken,this.expirationTime=H.expirationTime}_clone(){return Object.assign(new Wt,this.toJSON())}_performRefresh(){return le("not implemented")}}function Sn(ye,H){q("string"==typeof ye||typeof ye>"u","internal-error",{appName:H})}class nn{constructor(H){var{uid:z,auth:Oe,stsTokenManager:xt}=H,Ft=(0,w._T)(H,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=z,this.auth=Oe,this.stsTokenManager=xt,this.accessToken=xt.accessToken,this.displayName=Ft.displayName||null,this.email=Ft.email||null,this.emailVerified=Ft.emailVerified||!1,this.phoneNumber=Ft.phoneNumber||null,this.photoURL=Ft.photoURL||null,this.isAnonymous=Ft.isAnonymous||!1,this.tenantId=Ft.tenantId||null,this.providerData=Ft.providerData?[...Ft.providerData]:[],this.metadata=new dt(Ft.createdAt||void 0,Ft.lastLoginAt||void 0)}getIdToken(H){var z=this;return(0,c.Z)(function*(){const Oe=yield xe(z,z.stsTokenManager.getToken(z.auth,H));return q(Oe,z.auth,"internal-error"),z.accessToken!==Oe&&(z.accessToken=Oe,yield z.auth._persistUserIfCurrent(z),z.auth._notifyListenersIfCurrent(z)),Oe})()}getIdTokenResult(H){return function ee(ye){return X.apply(this,arguments)}(this,H)}reload(){return function Ut(ye){return wt.apply(this,arguments)}(this)}_assign(H){this!==H&&(q(this.uid===H.uid,this.auth,"internal-error"),this.displayName=H.displayName,this.photoURL=H.photoURL,this.email=H.email,this.emailVerified=H.emailVerified,this.phoneNumber=H.phoneNumber,this.isAnonymous=H.isAnonymous,this.tenantId=H.tenantId,this.providerData=H.providerData.map(z=>Object.assign({},z)),this.metadata._copy(H.metadata),this.stsTokenManager._assign(H.stsTokenManager))}_clone(H){const z=new nn(Object.assign(Object.assign({},this),{auth:H,stsTokenManager:this.stsTokenManager._clone()}));return z.metadata._copy(this.metadata),z}_onReload(H){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=H,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(H){this.reloadListener?this.reloadListener(H):this.reloadUserInfo=H}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(H,z=!1){var Oe=this;return(0,c.Z)(function*(){let xt=!1;H.idToken&&H.idToken!==Oe.stsTokenManager.accessToken&&(Oe.stsTokenManager.updateFromServerResponse(H),xt=!0),z&&(yield it(Oe)),yield Oe.auth._persistUserIfCurrent(Oe),xt&&Oe.auth._notifyListenersIfCurrent(Oe)})()}delete(){var H=this;return(0,c.Z)(function*(){const z=yield H.getIdToken();return yield xe(H,function W(ye,H){return se.apply(this,arguments)}(H.auth,{idToken:z})),H.stsTokenManager.clearRefreshToken(),H.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(H=>Object.assign({},H)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(H,z){var Oe,xt,Ft,vn,Rn,ai,_i,Mi;const Hi=null!==(Oe=z.displayName)&&void 0!==Oe?Oe:void 0,ms=null!==(xt=z.email)&&void 0!==xt?xt:void 0,Zl=null!==(Ft=z.phoneNumber)&&void 0!==Ft?Ft:void 0,Ds=null!==(vn=z.photoURL)&&void 0!==vn?vn:void 0,ja=null!==(Rn=z.tenantId)&&void 0!==Rn?Rn:void 0,va=null!==(ai=z._redirectEventId)&&void 0!==ai?ai:void 0,na=null!==(_i=z.createdAt)&&void 0!==_i?_i:void 0,_u=null!==(Mi=z.lastLoginAt)&&void 0!==Mi?Mi:void 0,{uid:rl,emailVerified:ol,isAnonymous:Mc,providerData:vu,stsTokenManager:yu}=z;q(rl&&yu,H,"internal-error");const sl=Wt.fromJSON(this.name,yu);q("string"==typeof rl,H,"internal-error"),Sn(Hi,H.name),Sn(ms,H.name),q("boolean"==typeof ol,H,"internal-error"),q("boolean"==typeof Mc,H,"internal-error"),Sn(Zl,H.name),Sn(Ds,H.name),Sn(ja,H.name),Sn(va,H.name),Sn(na,H.name),Sn(_u,H.name);const bu=new nn({uid:rl,auth:H,email:ms,emailVerified:ol,displayName:Hi,isAnonymous:Mc,photoURL:Ds,phoneNumber:Zl,tenantId:ja,stsTokenManager:sl,createdAt:na,lastLoginAt:_u});return vu&&Array.isArray(vu)&&(bu.providerData=vu.map(df=>Object.assign({},df))),va&&(bu._redirectEventId=va),bu}static _fromIdTokenResponse(H,z,Oe=!1){return(0,c.Z)(function*(){const xt=new Wt;xt.updateFromServerResponse(z);const Ft=new nn({uid:z.localId,auth:H,stsTokenManager:xt,isAnonymous:Oe});return yield it(Ft),Ft})()}}const Dt=new Map;function mt(ye){Fe(ye instanceof Function,"Expected a class definition");let H=Dt.get(ye);return H?(Fe(H instanceof ye,"Instance stored in cache mismatched with class"),H):(H=new ye,Dt.set(ye,H),H)}const De=(()=>{class ye{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(z,Oe){var xt=this;return(0,c.Z)(function*(){xt.storage[z]=Oe})()}_get(z){var Oe=this;return(0,c.Z)(function*(){const xt=Oe.storage[z];return void 0===xt?null:xt})()}_remove(z){var Oe=this;return(0,c.Z)(function*(){delete Oe.storage[z]})()}_addListener(z,Oe){}_removeListener(z,Oe){}}return ye.type="NONE",ye})();function Pe(ye,H,z){return`firebase:${ye}:${H}:${z}`}class Ye{constructor(H,z,Oe){this.persistence=H,this.auth=z,this.userKey=Oe;const{config:xt,name:Ft}=this.auth;this.fullUserKey=Pe(this.userKey,xt.apiKey,Ft),this.fullPersistenceKey=Pe("persistence",xt.apiKey,Ft),this.boundEventHandler=z._onStorageEvent.bind(z),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(H){return this.persistence._set(this.fullUserKey,H.toJSON())}getCurrentUser(){var H=this;return(0,c.Z)(function*(){const z=yield H.persistence._get(H.fullUserKey);return z?nn._fromJSON(H.auth,z):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(H){var z=this;return(0,c.Z)(function*(){if(z.persistence===H)return;const Oe=yield z.getCurrentUser();return yield z.removeCurrentUser(),z.persistence=H,Oe?z.setCurrentUser(Oe):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(H,z,Oe="authUser"){return(0,c.Z)(function*(){if(!z.length)return new Ye(mt(De),H,Oe);const xt=(yield Promise.all(z.map(function(){var _i=(0,c.Z)(function*(Mi){if(yield Mi._isAvailable())return Mi});return function(Mi){return _i.apply(this,arguments)}}()))).filter(_i=>_i);let Ft=xt[0]||mt(De);const vn=Pe(Oe,H.config.apiKey,H.name);let Rn=null;for(const _i of z)try{const Mi=yield _i._get(vn);if(Mi){const Hi=nn._fromJSON(H,Mi);_i!==Ft&&(Rn=Hi),Ft=_i;break}}catch{}const ai=xt.filter(_i=>_i._shouldAllowMigration);return Ft._shouldAllowMigration&&ai.length?(Ft=ai[0],Rn&&(yield Ft._set(vn,Rn.toJSON())),yield Promise.all(z.map(function(){var _i=(0,c.Z)(function*(Mi){if(Mi!==Ft)try{yield Mi._remove(vn)}catch{}});return function(Mi){return _i.apply(this,arguments)}}())),new Ye(Ft,H,Oe)):new Ye(Ft,H,Oe)})()}}function Ze(ye){const H=ye.toLowerCase();if(H.includes("opera/")||H.includes("opr/")||H.includes("opios/"))return"Opera";if(kt(H))return"IEMobile";if(H.includes("msie")||H.includes("trident/"))return"IE";if(H.includes("edge/"))return"Edge";if(ct(H))return"Firefox";if(H.includes("silk/"))return"Silk";if(Lt(H))return"Blackberry";if(Jt(H))return"Webos";if(st(H))return"Safari";if((H.includes("chrome/")||ut(H))&&!H.includes("edge/"))return"Chrome";if($t(H))return"Android";{const Oe=ye.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===Oe?.length)return Oe[1]}return"Other"}function ct(ye=(0,t.z$)()){return/firefox\//i.test(ye)}function st(ye=(0,t.z$)()){const H=ye.toLowerCase();return H.includes("safari/")&&!H.includes("chrome/")&&!H.includes("crios/")&&!H.includes("android")}function ut(ye=(0,t.z$)()){return/crios\//i.test(ye)}function kt(ye=(0,t.z$)()){return/iemobile/i.test(ye)}function $t(ye=(0,t.z$)()){return/android/i.test(ye)}function Lt(ye=(0,t.z$)()){return/blackberry/i.test(ye)}function Jt(ye=(0,t.z$)()){return/webos/i.test(ye)}function an(ye=(0,t.z$)()){return/iphone|ipad|ipod/i.test(ye)||/macintosh/i.test(ye)&&/mobile/i.test(ye)}function fn(ye=(0,t.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(ye)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(ye)}function Wn(ye=(0,t.z$)()){return an(ye)||$t(ye)||Jt(ye)||Lt(ye)||/windows phone/i.test(ye)||kt(ye)}function fi(ye,H=[]){let z;switch(ye){case"Browser":z=Ze((0,t.z$)());break;case"Worker":z=`${Ze((0,t.z$)())}-${ye}`;break;default:z=ye}const Oe=H.length?H.join(","):"FirebaseCore-web";return`${z}/JsCore/${b.SDK_VERSION}/${Oe}`}function pn(){return(pn=(0,c.Z)(function*(ye){return(yield pe(ye,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function St(ye,H){return ft.apply(this,arguments)}function ft(){return(ft=(0,c.Z)(function*(ye,H){return pe(ye,"GET","/v2/recaptchaConfig",Ae(ye,H))})).apply(this,arguments)}function tn(ye){return void 0!==ye&&void 0!==ye.getResponse}function ze(ye){return void 0!==ye&&void 0!==ye.enterprise}class Xe{constructor(H){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===H.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=H.recaptchaKey.split("/")[3],this.emailPasswordEnabled=H.recaptchaEnforcementState.some(z=>"EMAIL_PASSWORD_PROVIDER"===z.provider&&"OFF"!==z.enforcementState)}}function Qt(ye){return new Promise((H,z)=>{const Oe=document.createElement("script");Oe.setAttribute("src",ye),Oe.onload=H,Oe.onerror=xt=>{const Ft=N("internal-error");Ft.customData=xt,z(Ft)},Oe.type="text/javascript",Oe.charset="UTF-8",function Pt(){var ye,H;return null!==(H=null===(ye=document.getElementsByTagName("head"))||void 0===ye?void 0:ye[0])&&void 0!==H?H:document}().appendChild(Oe)})}function wn(ye){return`__${ye}${Math.floor(1e6*Math.random())}`}class rn{constructor(H){this.type="recaptcha-enterprise",this.auth=un(H)}verify(H="verify",z=!1){var Oe=this;return(0,c.Z)(function*(){function Ft(){return Ft=(0,c.Z)(function*(Rn){if(!z){if(null==Rn.tenantId&&null!=Rn._agentRecaptchaConfig)return Rn._agentRecaptchaConfig.siteKey;if(null!=Rn.tenantId&&void 0!==Rn._tenantRecaptchaConfigs[Rn.tenantId])return Rn._tenantRecaptchaConfigs[Rn.tenantId].siteKey}return new Promise(function(){var ai=(0,c.Z)(function*(_i,Mi){St(Rn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Hi=>{if(void 0!==Hi.recaptchaKey){const ms=new Xe(Hi);return null==Rn.tenantId?Rn._agentRecaptchaConfig=ms:Rn._tenantRecaptchaConfigs[Rn.tenantId]=ms,_i(ms.siteKey)}Mi(new Error("recaptcha Enterprise site key undefined"))}).catch(Hi=>{Mi(Hi)})});return function(_i,Mi){return ai.apply(this,arguments)}}())}),Ft.apply(this,arguments)}function vn(Rn,ai,_i){const Mi=window.grecaptcha;ze(Mi)?Mi.enterprise.ready(()=>{Mi.enterprise.execute(Rn,{action:H}).then(Hi=>{ai(Hi)}).catch(()=>{ai("NO_RECAPTCHA")})}):_i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Rn,ai)=>{(function xt(Rn){return Ft.apply(this,arguments)})(Oe.auth).then(_i=>{if(!z&&ze(window.grecaptcha))vn(_i,Rn,ai);else{if(typeof window>"u")return void ai(new Error("RecaptchaVerifier is only supported in browser"));Qt("https://www.google.com/recaptcha/enterprise.js?render="+_i).then(()=>{vn(_i,Rn,ai)}).catch(Mi=>{ai(Mi)})}}).catch(_i=>{ai(_i)})})})()}}function En(ye,H,z){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(ye,H,z,Oe=!1){const xt=new rn(ye);let Ft;try{Ft=yield xt.verify(z)}catch{Ft=yield xt.verify(z,!0)}const vn=Object.assign({},H);return Object.assign(vn,Oe?{captchaResp:Ft}:{captchaResponse:Ft}),Object.assign(vn,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(vn,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),vn})).apply(this,arguments)}class Xn{constructor(H){this.auth=H,this.queue=[]}pushCallback(H,z){const Oe=Ft=>new Promise((vn,Rn)=>{try{vn(H(Ft))}catch(ai){Rn(ai)}});Oe.onAbort=z,this.queue.push(Oe);const xt=this.queue.length-1;return()=>{this.queue[xt]=()=>Promise.resolve()}}runMiddleware(H){var z=this;return(0,c.Z)(function*(){if(z.auth.currentUser===H)return;const Oe=[];try{for(const xt of z.queue)yield xt(H),xt.onAbort&&Oe.push(xt.onAbort)}catch(xt){Oe.reverse();for(const Ft of Oe)try{Ft()}catch{}throw z.auth._errorFactory.create("login-blocked",{originalMessage:xt?.message})}})()}}class vt{constructor(H,z,Oe,xt){this.app=H,this.heartbeatServiceProvider=z,this.appCheckServiceProvider=Oe,this.config=xt,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new be(this),this.idTokenSubscription=new be(this),this.beforeStateQueue=new Xn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=H.name,this.clientVersion=xt.sdkClientVersion}_initializeWithPersistence(H,z){var Oe=this;return z&&(this._popupRedirectResolver=mt(z)),this._initializationPromise=this.queue((0,c.Z)(function*(){var xt,Ft;if(!Oe._deleted&&(Oe.persistenceManager=yield Ye.create(Oe,H),!Oe._deleted)){if(null!==(xt=Oe._popupRedirectResolver)&&void 0!==xt&&xt._shouldInitProactively)try{yield Oe._popupRedirectResolver._initialize(Oe)}catch{}yield Oe.initializeCurrentUser(z),Oe.lastNotifiedUid=(null===(Ft=Oe.currentUser)||void 0===Ft?void 0:Ft.uid)||null,!Oe._deleted&&(Oe._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var H=this;return(0,c.Z)(function*(){if(H._deleted)return;const z=yield H.assertedPersistence.getCurrentUser();if(H.currentUser||z){if(H.currentUser&&z&&H.currentUser.uid===z.uid)return H._currentUser._assign(z),void(yield H.currentUser.getIdToken());yield H._updateCurrentUser(z,!0)}})()}initializeCurrentUser(H){var z=this;return(0,c.Z)(function*(){var Oe;const xt=yield z.assertedPersistence.getCurrentUser();let Ft=xt,vn=!1;if(H&&z.config.authDomain){yield z.getOrInitRedirectPersistenceManager();const Rn=null===(Oe=z.redirectUser)||void 0===Oe?void 0:Oe._redirectEventId,ai=Ft?._redirectEventId,_i=yield z.tryRedirectSignIn(H);(!Rn||Rn===ai)&&_i?.user&&(Ft=_i.user,vn=!0)}if(!Ft)return z.directlySetCurrentUser(null);if(!Ft._redirectEventId){if(vn)try{yield z.beforeStateQueue.runMiddleware(Ft)}catch(Rn){Ft=xt,z._popupRedirectResolver._overrideRedirectResult(z,()=>Promise.reject(Rn))}return Ft?z.reloadAndSetCurrentUserOrClear(Ft):z.directlySetCurrentUser(null)}return q(z._popupRedirectResolver,z,"argument-error"),yield z.getOrInitRedirectPersistenceManager(),z.redirectUser&&z.redirectUser._redirectEventId===Ft._redirectEventId?z.directlySetCurrentUser(Ft):z.reloadAndSetCurrentUserOrClear(Ft)})()}tryRedirectSignIn(H){var z=this;return(0,c.Z)(function*(){let Oe=null;try{Oe=yield z._popupRedirectResolver._completeRedirectFn(z,H,!0)}catch{yield z._setRedirectUser(null)}return Oe})()}reloadAndSetCurrentUserOrClear(H){var z=this;return(0,c.Z)(function*(){try{yield it(H)}catch(Oe){if("auth/network-request-failed"!==Oe?.code)return z.directlySetCurrentUser(null)}return z.directlySetCurrentUser(H)})()}useDeviceLanguage(){this.languageCode=function oe(){if(typeof navigator>"u")return null;const ye=navigator;return ye.languages&&ye.languages[0]||ye.language||null}()}_delete(){var H=this;return(0,c.Z)(function*(){H._deleted=!0})()}updateCurrentUser(H){var z=this;return(0,c.Z)(function*(){const Oe=H?(0,t.m9)(H):null;return Oe&&q(Oe.auth.config.apiKey===z.config.apiKey,z,"invalid-user-token"),z._updateCurrentUser(Oe&&Oe._clone(z))})()}_updateCurrentUser(H,z=!1){var Oe=this;return(0,c.Z)(function*(){if(!Oe._deleted)return H&&q(Oe.tenantId===H.tenantId,Oe,"tenant-id-mismatch"),z||(yield Oe.beforeStateQueue.runMiddleware(H)),Oe.queue((0,c.Z)(function*(){yield Oe.directlySetCurrentUser(H),Oe.notifyAuthListeners()}))})()}signOut(){var H=this;return(0,c.Z)(function*(){return yield H.beforeStateQueue.runMiddleware(null),(H.redirectPersistenceManager||H._popupRedirectResolver)&&(yield H._setRedirectUser(null)),H._updateCurrentUser(null,!0)})()}setPersistence(H){var z=this;return this.queue((0,c.Z)(function*(){yield z.assertedPersistence.setPersistence(mt(H))}))}initializeRecaptchaConfig(){var H=this;return(0,c.Z)(function*(){const z=yield St(H,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),Oe=new Xe(z);null==H.tenantId?H._agentRecaptchaConfig=Oe:H._tenantRecaptchaConfigs[H.tenantId]=Oe,Oe.emailPasswordEnabled&&new rn(H).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(H){this._errorFactory=new t.LL("auth","Firebase",H())}onAuthStateChanged(H,z,Oe){return this.registerStateListener(this.authStateSubscription,H,z,Oe)}beforeAuthStateChanged(H,z){return this.beforeStateQueue.pushCallback(H,z)}onIdTokenChanged(H,z,Oe){return this.registerStateListener(this.idTokenSubscription,H,z,Oe)}toJSON(){var H;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(H=this._currentUser)||void 0===H?void 0:H.toJSON()}}_setRedirectUser(H,z){var Oe=this;return(0,c.Z)(function*(){const xt=yield Oe.getOrInitRedirectPersistenceManager(z);return null===H?xt.removeCurrentUser():xt.setCurrentUser(H)})()}getOrInitRedirectPersistenceManager(H){var z=this;return(0,c.Z)(function*(){if(!z.redirectPersistenceManager){const Oe=H&&mt(H)||z._popupRedirectResolver;q(Oe,z,"argument-error"),z.redirectPersistenceManager=yield Ye.create(z,[mt(Oe._redirectPersistence)],"redirectUser"),z.redirectUser=yield z.redirectPersistenceManager.getCurrentUser()}return z.redirectPersistenceManager})()}_redirectUserForId(H){var z=this;return(0,c.Z)(function*(){var Oe,xt;return z._isInitialized&&(yield z.queue((0,c.Z)(function*(){}))),(null===(Oe=z._currentUser)||void 0===Oe?void 0:Oe._redirectEventId)===H?z._currentUser:(null===(xt=z.redirectUser)||void 0===xt?void 0:xt._redirectEventId)===H?z.redirectUser:null})()}_persistUserIfCurrent(H){var z=this;return(0,c.Z)(function*(){if(H===z.currentUser)return z.queue((0,c.Z)(function*(){return z.directlySetCurrentUser(H)}))})()}_notifyListenersIfCurrent(H){H===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var H,z;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const Oe=null!==(z=null===(H=this.currentUser)||void 0===H?void 0:H.uid)&&void 0!==z?z:null;this.lastNotifiedUid!==Oe&&(this.lastNotifiedUid=Oe,this.authStateSubscription.next(this.currentUser))}registerStateListener(H,z,Oe,xt){if(this._deleted)return()=>{};const Ft="function"==typeof z?z:z.next.bind(z),vn=this._isInitialized?Promise.resolve():this._initializationPromise;return q(vn,this,"internal-error"),vn.then(()=>Ft(this.currentUser)),"function"==typeof z?H.addObserver(z,Oe,xt):H.addObserver(z)}directlySetCurrentUser(H){var z=this;return(0,c.Z)(function*(){z.currentUser&&z.currentUser!==H&&z._currentUser._stopProactiveRefresh(),H&&z.isProactiveRefreshEnabled&&H._startProactiveRefresh(),z.currentUser=H,H?yield z.assertedPersistence.setCurrentUser(H):yield z.assertedPersistence.removeCurrentUser()})()}queue(H){return this.operations=this.operations.then(H,H),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(H){!H||this.frameworks.includes(H)||(this.frameworks.push(H),this.frameworks.sort(),this.clientVersion=fi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var H=this;return(0,c.Z)(function*(){var z;const Oe={"X-Client-Version":H.clientVersion};H.app.options.appId&&(Oe["X-Firebase-gmpid"]=H.app.options.appId);const xt=yield null===(z=H.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===z?void 0:z.getHeartbeatsHeader();xt&&(Oe["X-Firebase-Client"]=xt);const Ft=yield H._getAppCheckToken();return Ft&&(Oe["X-Firebase-AppCheck"]=Ft),Oe})()}_getAppCheckToken(){var H=this;return(0,c.Z)(function*(){var z;const Oe=yield null===(z=H.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===z?void 0:z.getToken();return Oe?.error&&function x(ye,...H){O.logLevel<=E.in.WARN&&O.warn(`Auth (${b.SDK_VERSION}): ${ye}`,...H)}(`Error while retrieving App Check token: ${Oe.error}`),Oe?.token})()}}function un(ye){return(0,t.m9)(ye)}class be{constructor(H){this.auth=H,this.observer=null,this.addObserver=(0,t.ne)(z=>this.observer=z)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function rt(ye,H,z){const Oe=un(ye);q(Oe._canInitEmulator,Oe,"emulator-config-failed"),q(/^https?:\/\//.test(H),Oe,"invalid-emulator-scheme");const xt=!!z?.disableWarnings,Ft=hn(H),{host:vn,port:Rn}=function ti(ye){const H=hn(ye),z=/(\/\/)?([^?#/]+)/.exec(ye.substr(H.length));if(!z)return{host:"",port:null};const Oe=z[2].split("@").pop()||"",xt=/^(\[[^\]]+\])(:|$)/.exec(Oe);if(xt){const Ft=xt[1];return{host:Ft,port:ar(Oe.substr(Ft.length+1))}}{const[Ft,vn]=Oe.split(":");return{host:Ft,port:ar(vn)}}}(H);Oe.config.emulator={url:`${Ft}//${vn}${null===Rn?"":`:${Rn}`}/`},Oe.settings.appVerificationDisabledForTesting=!0,Oe.emulatorConfig=Object.freeze({host:vn,port:Rn,protocol:Ft.replace(":",""),options:Object.freeze({disableWarnings:xt})}),xt||function $i(){function ye(){const H=document.createElement("p"),z=H.style;H.innerText="Running in emulator mode. Do not use with production credentials.",z.position="fixed",z.width="100%",z.backgroundColor="#ffffff",z.border=".1em solid #000000",z.color="#b50000",z.bottom="0px",z.left="0px",z.margin="0px",z.zIndex="10000",z.textAlign="center",H.classList.add("firebase-emulator-warning"),document.body.appendChild(H)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",ye):ye())}()}function hn(ye){const H=ye.indexOf(":");return H<0?"":ye.substr(0,H+1)}function ar(ye){if(!ye)return null;const H=Number(ye);return isNaN(H)?null:H}class Tr{constructor(H,z){this.providerId=H,this.signInMethod=z}toJSON(){return le("not implemented")}_getIdTokenResponse(H){return le("not implemented")}_linkToIdToken(H,z){return le("not implemented")}_getReauthenticationResolver(H){return le("not implemented")}}function hr(ye,H){return yo.apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(ye,H){return pe(ye,"POST","/v1/accounts:resetPassword",Ae(ye,H))})).apply(this,arguments)}function Co(ye,H){return uo.apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(ye,H){return pe(ye,"POST","/v1/accounts:update",H)})).apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(ye,H){return pe(ye,"POST","/v1/accounts:update",Ae(ye,H))})).apply(this,arguments)}function gr(ye,H){return tr.apply(this,arguments)}function tr(){return(tr=(0,c.Z)(function*(ye,H){return He(ye,"POST","/v1/accounts:signInWithPassword",Ae(ye,H))})).apply(this,arguments)}function to(ye,H){return _r.apply(this,arguments)}function _r(){return(_r=(0,c.Z)(function*(ye,H){return pe(ye,"POST","/v1/accounts:sendOobCode",Ae(ye,H))})).apply(this,arguments)}function Do(){return(Do=(0,c.Z)(function*(ye,H){return to(ye,H)})).apply(this,arguments)}function jr(ye,H){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(ye,H){return to(ye,H)})).apply(this,arguments)}function Vr(ye,H){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(ye,H){return to(ye,H)})).apply(this,arguments)}function Pi(){return(Pi=(0,c.Z)(function*(ye,H){return to(ye,H)})).apply(this,arguments)}function Nr(){return(Nr=(0,c.Z)(function*(ye,H){return He(ye,"POST","/v1/accounts:signInWithEmailLink",Ae(ye,H))})).apply(this,arguments)}function Sr(){return(Sr=(0,c.Z)(function*(ye,H){return He(ye,"POST","/v1/accounts:signInWithEmailLink",Ae(ye,H))})).apply(this,arguments)}class Ji extends Tr{constructor(H,z,Oe,xt=null){super("password",Oe),this._email=H,this._password=z,this._tenantId=xt}static _fromEmailAndPassword(H,z){return new Ji(H,z,"password")}static _fromEmailAndCode(H,z,Oe=null){return new Ji(H,z,"emailLink",Oe)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(H){const z="string"==typeof H?JSON.parse(H):H;if(z?.email&&z?.password){if("password"===z.signInMethod)return this._fromEmailAndPassword(z.email,z.password);if("emailLink"===z.signInMethod)return this._fromEmailAndCode(z.email,z.password,z.tenantId)}return null}_getIdTokenResponse(H){var z=this;return(0,c.Z)(function*(){var Oe;switch(z.signInMethod){case"password":const xt={returnSecureToken:!0,email:z._email,password:z._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(Oe=H._getRecaptchaConfig())&&void 0!==Oe&&Oe.emailPasswordEnabled){const Ft=yield En(H,xt,"signInWithPassword");return gr(H,Ft)}return gr(H,xt).catch(function(){var Ft=(0,c.Z)(function*(vn){if("auth/missing-recaptcha-token"===vn.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Rn=yield En(H,xt,"signInWithPassword");return gr(H,Rn)}return Promise.reject(vn)});return function(vn){return Ft.apply(this,arguments)}}());case"emailLink":return function qi(ye,H){return Nr.apply(this,arguments)}(H,{email:z._email,oobCode:z._password});default:T(H,"internal-error")}})()}_linkToIdToken(H,z){var Oe=this;return(0,c.Z)(function*(){switch(Oe.signInMethod){case"password":return Co(H,{idToken:z,returnSecureToken:!0,email:Oe._email,password:Oe._password});case"emailLink":return function xo(ye,H){return Sr.apply(this,arguments)}(H,{idToken:z,email:Oe._email,oobCode:Oe._password});default:T(H,"internal-error")}})()}_getReauthenticationResolver(H){return this._getIdTokenResponse(H)}}function qt(ye,H){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(ye,H){return He(ye,"POST","/v1/accounts:signInWithIdp",Ae(ye,H))})).apply(this,arguments)}class Kn extends Tr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(H){const z=new Kn(H.providerId,H.signInMethod);return H.idToken||H.accessToken?(H.idToken&&(z.idToken=H.idToken),H.accessToken&&(z.accessToken=H.accessToken),H.nonce&&!H.pendingToken&&(z.nonce=H.nonce),H.pendingToken&&(z.pendingToken=H.pendingToken)):H.oauthToken&&H.oauthTokenSecret?(z.accessToken=H.oauthToken,z.secret=H.oauthTokenSecret):T("argument-error"),z}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(H){const z="string"==typeof H?JSON.parse(H):H,{providerId:Oe,signInMethod:xt}=z,Ft=(0,w._T)(z,["providerId","signInMethod"]);if(!Oe||!xt)return null;const vn=new Kn(Oe,xt);return vn.idToken=Ft.idToken||void 0,vn.accessToken=Ft.accessToken||void 0,vn.secret=Ft.secret,vn.nonce=Ft.nonce,vn.pendingToken=Ft.pendingToken||null,vn}_getIdTokenResponse(H){return qt(H,this.buildRequest())}_linkToIdToken(H,z){const Oe=this.buildRequest();return Oe.idToken=z,qt(H,Oe)}_getReauthenticationResolver(H){const z=this.buildRequest();return z.autoCreate=!1,qt(H,z)}buildRequest(){const H={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)H.pendingToken=this.pendingToken;else{const z={};this.idToken&&(z.id_token=this.idToken),this.accessToken&&(z.access_token=this.accessToken),this.secret&&(z.oauth_token_secret=this.secret),z.providerId=this.providerId,this.nonce&&!this.pendingToken&&(z.nonce=this.nonce),H.postBody=(0,t.xO)(z)}return H}}function gi(){return(gi=(0,c.Z)(function*(ye,H){return pe(ye,"POST","/v1/accounts:sendVerificationCode",Ae(ye,H))})).apply(this,arguments)}function wi(){return(wi=(0,c.Z)(function*(ye,H){return He(ye,"POST","/v1/accounts:signInWithPhoneNumber",Ae(ye,H))})).apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(ye,H){const z=yield He(ye,"POST","/v1/accounts:signInWithPhoneNumber",Ae(ye,H));if(z.temporaryProof)throw Te(ye,"account-exists-with-different-credential",z);return z})).apply(this,arguments)}const Gr={USER_NOT_FOUND:"user-not-found"};function Po(){return(Po=(0,c.Z)(function*(ye,H){return He(ye,"POST","/v1/accounts:signInWithPhoneNumber",Ae(ye,Object.assign(Object.assign({},H),{operation:"REAUTH"})),Gr)})).apply(this,arguments)}class kr extends Tr{constructor(H){super("phone","phone"),this.params=H}static _fromVerification(H,z){return new kr({verificationId:H,verificationCode:z})}static _fromTokenResponse(H,z){return new kr({phoneNumber:H,temporaryProof:z})}_getIdTokenResponse(H){return function Oi(ye,H){return wi.apply(this,arguments)}(H,this._makeVerificationRequest())}_linkToIdToken(H,z){return function fr(ye,H){return Di.apply(this,arguments)}(H,Object.assign({idToken:z},this._makeVerificationRequest()))}_getReauthenticationResolver(H){return function ro(ye,H){return Po.apply(this,arguments)}(H,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:H,phoneNumber:z,verificationId:Oe,verificationCode:xt}=this.params;return H&&z?{temporaryProof:H,phoneNumber:z}:{sessionInfo:Oe,code:xt}}toJSON(){const H={providerId:this.providerId};return this.params.phoneNumber&&(H.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(H.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(H.verificationCode=this.params.verificationCode),this.params.verificationId&&(H.verificationId=this.params.verificationId),H}static fromJSON(H){"string"==typeof H&&(H=JSON.parse(H));const{verificationId:z,verificationCode:Oe,phoneNumber:xt,temporaryProof:Ft}=H;return Oe||z||xt||Ft?new kr({verificationId:z,verificationCode:Oe,phoneNumber:xt,temporaryProof:Ft}):null}}class Lr{constructor(H){var z,Oe,xt,Ft,vn,Rn;const ai=(0,t.zd)((0,t.pd)(H)),_i=null!==(z=ai.apiKey)&&void 0!==z?z:null,Mi=null!==(Oe=ai.oobCode)&&void 0!==Oe?Oe:null,Hi=function xr(ye){switch(ye){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(xt=ai.mode)&&void 0!==xt?xt:null);q(_i&&Mi&&Hi,"argument-error"),this.apiKey=_i,this.operation=Hi,this.code=Mi,this.continueUrl=null!==(Ft=ai.continueUrl)&&void 0!==Ft?Ft:null,this.languageCode=null!==(vn=ai.languageCode)&&void 0!==vn?vn:null,this.tenantId=null!==(Rn=ai.tenantId)&&void 0!==Rn?Rn:null}static parseLink(H){const z=function Mo(ye){const H=(0,t.zd)((0,t.pd)(ye)).link,z=H?(0,t.zd)((0,t.pd)(H)).deep_link_id:null,Oe=(0,t.zd)((0,t.pd)(ye)).deep_link_id;return(Oe?(0,t.zd)((0,t.pd)(Oe)).link:null)||Oe||z||H||ye}(H);try{return new Lr(z)}catch{return null}}}let aa=(()=>{class ye{constructor(){this.providerId=ye.PROVIDER_ID}static credential(z,Oe){return Ji._fromEmailAndPassword(z,Oe)}static credentialWithLink(z,Oe){const xt=Lr.parseLink(Oe);return q(xt,"argument-error"),Ji._fromEmailAndCode(z,xt.code,xt.tenantId)}}return ye.PROVIDER_ID="password",ye.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ye.EMAIL_LINK_SIGN_IN_METHOD="emailLink",ye})();class Oo{constructor(H){this.providerId=H,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(H){this.defaultLanguageCode=H}setCustomParameters(H){return this.customParameters=H,this}getCustomParameters(){return this.customParameters}}class vs extends Oo{constructor(){super(...arguments),this.scopes=[]}addScope(H){return this.scopes.includes(H)||this.scopes.push(H),this}getScopes(){return[...this.scopes]}}class no extends vs{static credentialFromJSON(H){const z="string"==typeof H?JSON.parse(H):H;return q("providerId"in z&&"signInMethod"in z,"argument-error"),Kn._fromParams(z)}credential(H){return this._credential(Object.assign(Object.assign({},H),{nonce:H.rawNonce}))}_credential(H){return q(H.idToken||H.accessToken,"argument-error"),Kn._fromParams(Object.assign(Object.assign({},H),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(H){return no.oauthCredentialFromTaggedObject(H)}static credentialFromError(H){return no.oauthCredentialFromTaggedObject(H.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:H}){if(!H)return null;const{oauthIdToken:z,oauthAccessToken:Oe,oauthTokenSecret:xt,pendingToken:Ft,nonce:vn,providerId:Rn}=H;if(!Oe&&!xt&&!z&&!Ft||!Rn)return null;try{return new no(Rn)._credential({idToken:z,accessToken:Oe,nonce:vn,pendingToken:Ft})}catch{return null}}}let jn=(()=>{class ye extends vs{constructor(){super("facebook.com")}static credential(z){return Kn._fromParams({providerId:ye.PROVIDER_ID,signInMethod:ye.FACEBOOK_SIGN_IN_METHOD,accessToken:z})}static credentialFromResult(z){return ye.credentialFromTaggedObject(z)}static credentialFromError(z){return ye.credentialFromTaggedObject(z.customData||{})}static credentialFromTaggedObject({_tokenResponse:z}){if(!z||!("oauthAccessToken"in z)||!z.oauthAccessToken)return null;try{return ye.credential(z.oauthAccessToken)}catch{return null}}}return ye.FACEBOOK_SIGN_IN_METHOD="facebook.com",ye.PROVIDER_ID="facebook.com",ye})(),bo=(()=>{class ye extends vs{constructor(){super("google.com"),this.addScope("profile")}static credential(z,Oe){return Kn._fromParams({providerId:ye.PROVIDER_ID,signInMethod:ye.GOOGLE_SIGN_IN_METHOD,idToken:z,accessToken:Oe})}static credentialFromResult(z){return ye.credentialFromTaggedObject(z)}static credentialFromError(z){return ye.credentialFromTaggedObject(z.customData||{})}static credentialFromTaggedObject({_tokenResponse:z}){if(!z)return null;const{oauthIdToken:Oe,oauthAccessToken:xt}=z;if(!Oe&&!xt)return null;try{return ye.credential(Oe,xt)}catch{return null}}}return ye.GOOGLE_SIGN_IN_METHOD="google.com",ye.PROVIDER_ID="google.com",ye})(),ss=(()=>{class ye extends vs{constructor(){super("github.com")}static credential(z){return Kn._fromParams({providerId:ye.PROVIDER_ID,signInMethod:ye.GITHUB_SIGN_IN_METHOD,accessToken:z})}static credentialFromResult(z){return ye.credentialFromTaggedObject(z)}static credentialFromError(z){return ye.credentialFromTaggedObject(z.customData||{})}static credentialFromTaggedObject({_tokenResponse:z}){if(!z||!("oauthAccessToken"in z)||!z.oauthAccessToken)return null;try{return ye.credential(z.oauthAccessToken)}catch{return null}}}return ye.GITHUB_SIGN_IN_METHOD="github.com",ye.PROVIDER_ID="github.com",ye})();class Mr extends Tr{constructor(H,z){super(H,H),this.pendingToken=z}_getIdTokenResponse(H){return qt(H,this.buildRequest())}_linkToIdToken(H,z){const Oe=this.buildRequest();return Oe.idToken=z,qt(H,Oe)}_getReauthenticationResolver(H){const z=this.buildRequest();return z.autoCreate=!1,qt(H,z)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(H){const z="string"==typeof H?JSON.parse(H):H,{providerId:Oe,signInMethod:xt,pendingToken:Ft}=z;return Oe&&xt&&Ft&&Oe===xt?new Mr(Oe,Ft):null}static _create(H,z){return new Mr(H,z)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class mr extends Oo{constructor(H){q(H.startsWith("saml."),"argument-error"),super(H)}static credentialFromResult(H){return mr.samlCredentialFromTaggedObject(H)}static credentialFromError(H){return mr.samlCredentialFromTaggedObject(H.customData||{})}static credentialFromJSON(H){const z=Mr.fromJSON(H);return q(z,"argument-error"),z}static samlCredentialFromTaggedObject({_tokenResponse:H}){if(!H)return null;const{pendingToken:z,providerId:Oe}=H;if(!z||!Oe)return null;try{return Mr._create(Oe,z)}catch{return null}}}let Uo=(()=>{class ye extends vs{constructor(){super("twitter.com")}static credential(z,Oe){return Kn._fromParams({providerId:ye.PROVIDER_ID,signInMethod:ye.TWITTER_SIGN_IN_METHOD,oauthToken:z,oauthTokenSecret:Oe})}static credentialFromResult(z){return ye.credentialFromTaggedObject(z)}static credentialFromError(z){return ye.credentialFromTaggedObject(z.customData||{})}static credentialFromTaggedObject({_tokenResponse:z}){if(!z)return null;const{oauthAccessToken:Oe,oauthTokenSecret:xt}=z;if(!Oe||!xt)return null;try{return ye.credential(Oe,xt)}catch{return null}}}return ye.TWITTER_SIGN_IN_METHOD="twitter.com",ye.PROVIDER_ID="twitter.com",ye})();function Yr(ye,H){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(ye,H){return He(ye,"POST","/v1/accounts:signUp",Ae(ye,H))})).apply(this,arguments)}class cr{constructor(H){this.user=H.user,this.providerId=H.providerId,this._tokenResponse=H._tokenResponse,this.operationType=H.operationType}static _fromIdTokenResponse(H,z,Oe,xt=!1){return(0,c.Z)(function*(){const Ft=yield nn._fromIdTokenResponse(H,Oe,xt),vn=jo(Oe);return new cr({user:Ft,providerId:vn,_tokenResponse:Oe,operationType:z})})()}static _forOperation(H,z,Oe){return(0,c.Z)(function*(){yield H._updateTokensIfNecessary(Oe,!0);const xt=jo(Oe);return new cr({user:H,providerId:xt,_tokenResponse:Oe,operationType:z})})()}}function jo(ye){return ye.providerId?ye.providerId:"phoneNumber"in ye?"phone":null}function as(ye){return io.apply(this,arguments)}function io(){return(io=(0,c.Z)(function*(ye){var H;const z=un(ye);if(yield z._initializationPromise,null!==(H=z.currentUser)&&void 0!==H&&H.isAnonymous)return new cr({user:z.currentUser,providerId:null,operationType:"signIn"});const Oe=yield Yr(z,{returnSecureToken:!0}),xt=yield cr._fromIdTokenResponse(z,"signIn",Oe,!0);return yield z._updateCurrentUser(xt.user),xt})).apply(this,arguments)}class Ws extends t.ZR{constructor(H,z,Oe,xt){var Ft;super(z.code,z.message),this.operationType=Oe,this.user=xt,Object.setPrototypeOf(this,Ws.prototype),this.customData={appName:H.name,tenantId:null!==(Ft=H.tenantId)&&void 0!==Ft?Ft:void 0,_serverResponse:z.customData._serverResponse,operationType:Oe}}static _fromErrorAndOperation(H,z,Oe,xt){return new Ws(H,z,Oe,xt)}}function ws(ye,H,z,Oe){return("reauthenticate"===H?z._getReauthenticationResolver(ye):z._getIdTokenResponse(ye)).catch(Ft=>{throw"auth/multi-factor-auth-required"===Ft.code?Ws._fromErrorAndOperation(ye,Ft,H,Oe):Ft})}function ls(ye){return new Set(ye.map(({providerId:H})=>H).filter(H=>!!H))}function ys(ye,H){return zs.apply(this,arguments)}function zs(){return zs=(0,c.Z)(function*(ye,H){const z=(0,t.m9)(ye);yield Zo(!0,z,H);const{providerUserInfo:Oe}=yield function _e(ye,H){return J.apply(this,arguments)}(z.auth,{idToken:yield z.getIdToken(),deleteProvider:[H]}),xt=ls(Oe||[]);return z.providerData=z.providerData.filter(Ft=>xt.has(Ft.providerId)),xt.has("phone")||(z.phoneNumber=null),yield z.auth._persistUserIfCurrent(z),z}),zs.apply(this,arguments)}function Eo(ye,H){return No.apply(this,arguments)}function No(){return(No=(0,c.Z)(function*(ye,H,z=!1){const Oe=yield xe(ye,H._linkToIdToken(ye.auth,yield ye.getIdToken()),z);return cr._forOperation(ye,"link",Oe)})).apply(this,arguments)}function Zo(ye,H,z){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(ye,H,z){yield it(H);const xt=!1===ye?"provider-already-linked":"no-such-provider";q(ls(H.providerData).has(z)===ye,H.auth,xt)})).apply(this,arguments)}function la(ye,H){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,c.Z)(function*(ye,H,z=!1){const{auth:Oe}=ye,xt="reauthenticate";try{const Ft=yield xe(ye,ws(Oe,xt,H,ye),z);q(Ft.idToken,Oe,"internal-error");const vn=ve(Ft.idToken);q(vn,Oe,"internal-error");const{sub:Rn}=vn;return q(ye.uid===Rn,Oe,"user-mismatch"),cr._forOperation(ye,xt,Ft)}catch(Ft){throw"auth/user-not-found"===Ft?.code&&T(Oe,"user-mismatch"),Ft}})).apply(this,arguments)}function Jr(ye,H){return $s.apply(this,arguments)}function $s(){return($s=(0,c.Z)(function*(ye,H,z=!1){const xt=yield ws(ye,"signIn",H),Ft=yield cr._fromIdTokenResponse(ye,"signIn",xt);return z||(yield ye._updateCurrentUser(Ft.user)),Ft})).apply(this,arguments)}function $o(ye,H){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,c.Z)(function*(ye,H){return Jr(un(ye),H)})).apply(this,arguments)}function qs(ye,H){return bs.apply(this,arguments)}function bs(){return(bs=(0,c.Z)(function*(ye,H){const z=(0,t.m9)(ye);return yield Zo(!1,z,H.providerId),Eo(z,H)})).apply(this,arguments)}function Ps(ye,H){return dr.apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(ye,H){return la((0,t.m9)(ye),H)})).apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(ye,H){return He(ye,"POST","/v1/accounts:signInWithCustomToken",Ae(ye,H))})).apply(this,arguments)}function ht(ye,H){return qe.apply(this,arguments)}function qe(){return qe=(0,c.Z)(function*(ye,H){const z=un(ye),Oe=yield function mn(ye,H){return nt.apply(this,arguments)}(z,{token:H,returnSecureToken:!0}),xt=yield cr._fromIdTokenResponse(z,"signIn",Oe);return yield z._updateCurrentUser(xt.user),xt}),qe.apply(this,arguments)}class At{constructor(H,z){this.factorId=H,this.uid=z.mfaEnrollmentId,this.enrollmentTime=new Date(z.enrolledAt).toUTCString(),this.displayName=z.displayName}static _fromServerResponse(H,z){return"phoneInfo"in z?on._fromServerResponse(H,z):"totpInfo"in z?ci._fromServerResponse(H,z):T(H,"internal-error")}}class on extends At{constructor(H){super("phone",H),this.phoneNumber=H.phoneInfo}static _fromServerResponse(H,z){return new on(z)}}class ci extends At{constructor(H){super("totp",H)}static _fromServerResponse(H,z){return new ci(z)}}function Ri(ye,H,z){var Oe;q((null===(Oe=z.url)||void 0===Oe?void 0:Oe.length)>0,ye,"invalid-continue-uri"),q(typeof z.dynamicLinkDomain>"u"||z.dynamicLinkDomain.length>0,ye,"invalid-dynamic-link-domain"),H.continueUrl=z.url,H.dynamicLinkDomain=z.dynamicLinkDomain,H.canHandleCodeInApp=z.handleCodeInApp,z.iOS&&(q(z.iOS.bundleId.length>0,ye,"missing-ios-bundle-id"),H.iOSBundleId=z.iOS.bundleId),z.android&&(q(z.android.packageName.length>0,ye,"missing-android-pkg-name"),H.androidInstallApp=z.android.installApp,H.androidMinimumVersionCode=z.android.minimumVersion,H.androidPackageName=z.android.packageName)}function Qi(ye,H,z){return Vo.apply(this,arguments)}function Vo(){return Vo=(0,c.Z)(function*(ye,H,z){var Oe;const xt=un(ye),Ft={requestType:"PASSWORD_RESET",email:H,clientType:"CLIENT_TYPE_WEB"};if(null!==(Oe=xt._getRecaptchaConfig())&&void 0!==Oe&&Oe.emailPasswordEnabled){const vn=yield En(xt,Ft,"getOobCode",!0);z&&Ri(xt,vn,z),yield jr(xt,vn)}else z&&Ri(xt,Ft,z),yield jr(xt,Ft).catch(function(){var vn=(0,c.Z)(function*(Rn){if("auth/missing-recaptcha-token"!==Rn.code)return Promise.reject(Rn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const ai=yield En(xt,Ft,"getOobCode",!0);z&&Ri(xt,ai,z),yield jr(xt,ai)}});return function(Rn){return vn.apply(this,arguments)}}())}),Vo.apply(this,arguments)}function qo(ye,H,z){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(ye,H,z){yield hr((0,t.m9)(ye),{oobCode:H,newPassword:z})})).apply(this,arguments)}function Es(ye,H){return vr.apply(this,arguments)}function vr(){return vr=(0,c.Z)(function*(ye,H){yield function Wo(ye,H){return Ii.apply(this,arguments)}((0,t.m9)(ye),{oobCode:H})}),vr.apply(this,arguments)}function Ao(ye,H){return hl.apply(this,arguments)}function hl(){return(hl=(0,c.Z)(function*(ye,H){const z=(0,t.m9)(ye),Oe=yield hr(z,{oobCode:H}),xt=Oe.requestType;switch(q(xt,z,"internal-error"),xt){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(Oe.newEmail,z,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(Oe.mfaInfo,z,"internal-error");default:q(Oe.email,z,"internal-error")}let Ft=null;return Oe.mfaInfo&&(Ft=At._fromServerResponse(un(z),Oe.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===Oe.requestType?Oe.newEmail:Oe.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===Oe.requestType?Oe.email:Oe.newEmail)||null,multiFactorInfo:Ft},operation:xt}})).apply(this,arguments)}function Io(ye,H){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,c.Z)(function*(ye,H){const{data:z}=yield Ao((0,t.m9)(ye),H);return z.email})).apply(this,arguments)}function cs(ye,H,z){return Os.apply(this,arguments)}function Os(){return Os=(0,c.Z)(function*(ye,H,z){var Oe;const xt=un(ye),Ft={returnSecureToken:!0,email:H,password:z,clientType:"CLIENT_TYPE_WEB"};let vn;if(null!==(Oe=xt._getRecaptchaConfig())&&void 0!==Oe&&Oe.emailPasswordEnabled){const _i=yield En(xt,Ft,"signUpPassword");vn=Yr(xt,_i)}else vn=Yr(xt,Ft).catch(function(){var _i=(0,c.Z)(function*(Mi){if("auth/missing-recaptcha-token"===Mi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Hi=yield En(xt,Ft,"signUpPassword");return Yr(xt,Hi)}return Promise.reject(Mi)});return function(Mi){return _i.apply(this,arguments)}}());const Rn=yield vn.catch(_i=>Promise.reject(_i)),ai=yield cr._fromIdTokenResponse(xt,"signIn",Rn);return yield xt._updateCurrentUser(ai.user),ai}),Os.apply(this,arguments)}function Aa(ye,H,z){return $o((0,t.m9)(ye),aa.credential(H,z))}function ml(ye,H,z){return Ts.apply(this,arguments)}function Ts(){return Ts=(0,c.Z)(function*(ye,H,z){var Oe;const xt=un(ye),Ft={requestType:"EMAIL_SIGNIN",email:H,clientType:"CLIENT_TYPE_WEB"};function vn(Rn,ai){q(ai.handleCodeInApp,xt,"argument-error"),ai&&Ri(xt,Rn,ai)}if(null!==(Oe=xt._getRecaptchaConfig())&&void 0!==Oe&&Oe.emailPasswordEnabled){const Rn=yield En(xt,Ft,"getOobCode",!0);vn(Rn,z),yield Vr(xt,Rn)}else vn(Ft,z),yield Vr(xt,Ft).catch(function(){var Rn=(0,c.Z)(function*(ai){if("auth/missing-recaptcha-token"!==ai.code)return Promise.reject(ai);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const _i=yield En(xt,Ft,"getOobCode",!0);vn(_i,z),yield Vr(xt,_i)}});return function(ai){return Rn.apply(this,arguments)}}())}),Ts.apply(this,arguments)}function pl(ye,H){const z=Lr.parseLink(H);return"EMAIL_SIGNIN"===z?.operation}function ca(ye,H,z){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,c.Z)(function*(ye,H,z){const Oe=(0,t.m9)(ye),xt=aa.credentialWithLink(H,z||$());return q(xt._tenantId===(Oe.tenantId||null),Oe,"tenant-id-mismatch"),$o(Oe,xt)})).apply(this,arguments)}function gl(){return(gl=(0,c.Z)(function*(ye,H){return pe(ye,"POST","/v1/accounts:createAuthUri",Ae(ye,H))})).apply(this,arguments)}function ac(ye,H){return Js.apply(this,arguments)}function Js(){return Js=(0,c.Z)(function*(ye,H){const Oe={identifier:H,continueUri:ae()?$():"http://localhost"},{signinMethods:xt}=yield function kl(ye,H){return gl.apply(this,arguments)}((0,t.m9)(ye),Oe);return xt||[]}),Js.apply(this,arguments)}function Ia(ye,H){return Qo.apply(this,arguments)}function Qo(){return Qo=(0,c.Z)(function*(ye,H){const z=(0,t.m9)(ye),xt={requestType:"VERIFY_EMAIL",idToken:yield ye.getIdToken()};H&&Ri(z.auth,xt,H);const{email:Ft}=yield function zo(ye,H){return Do.apply(this,arguments)}(z.auth,xt);Ft!==ye.email&&(yield ye.reload())}),Qo.apply(this,arguments)}function wa(ye,H,z){return ds.apply(this,arguments)}function ds(){return ds=(0,c.Z)(function*(ye,H,z){const Oe=(0,t.m9)(ye),Ft={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield ye.getIdToken(),newEmail:H};z&&Ri(Oe.auth,Ft,z);const{email:vn}=yield function oi(ye,H){return Pi.apply(this,arguments)}(Oe.auth,Ft);vn!==ye.email&&(yield ye.reload())}),ds.apply(this,arguments)}function _l(){return(_l=(0,c.Z)(function*(ye,H){return pe(ye,"POST","/v1/accounts:update",H)})).apply(this,arguments)}function Bl(ye,H){return Pa.apply(this,arguments)}function Pa(){return Pa=(0,c.Z)(function*(ye,{displayName:H,photoURL:z}){if(void 0===H&&void 0===z)return;const Oe=(0,t.m9)(ye),Ft={idToken:yield Oe.getIdToken(),displayName:H,photoUrl:z,returnSecureToken:!0},vn=yield xe(Oe,function Fl(ye,H){return _l.apply(this,arguments)}(Oe.auth,Ft));Oe.displayName=vn.displayName||null,Oe.photoURL=vn.photoUrl||null;const Rn=Oe.providerData.find(({providerId:ai})=>"password"===ai);Rn&&(Rn.displayName=Oe.displayName,Rn.photoURL=Oe.photoURL),yield Oe._updateTokensIfNecessary(vn)}),Pa.apply(this,arguments)}function lc(ye,H){return vl((0,t.m9)(ye),H,null)}function Ul(ye,H){return vl((0,t.m9)(ye),null,H)}function vl(ye,H,z){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,c.Z)(function*(ye,H,z){const{auth:Oe}=ye,Ft={idToken:yield ye.getIdToken(),returnSecureToken:!0};H&&(Ft.email=H),z&&(Ft.password=z);const vn=yield xe(ye,Co(Oe,Ft));yield ye._updateTokensIfNecessary(vn,!0)})).apply(this,arguments)}class Qs{constructor(H,z,Oe={}){this.isNewUser=H,this.providerId=z,this.profile=Oe}}class Er extends Qs{constructor(H,z,Oe,xt){super(H,z,Oe),this.username=xt}}class Rs extends Qs{constructor(H,z){super(H,"facebook.com",z)}}class Ie extends Er{constructor(H,z){super(H,"github.com",z,"string"==typeof z?.login?z?.login:null)}}class It extends Qs{constructor(H,z){super(H,"google.com",z)}}class ot extends Er{constructor(H,z,Oe){super(H,"twitter.com",z,Oe)}}function Mt(ye){const{user:H,_tokenResponse:z}=ye;return H.isAnonymous&&!z?{providerId:null,isNewUser:!1,profile:null}:function jl(ye){var H,z;if(!ye)return null;const{providerId:Oe}=ye,xt=ye.rawUserInfo?JSON.parse(ye.rawUserInfo):{},Ft=ye.isNewUser||"identitytoolkit#SignupNewUserResponse"===ye.kind;if(!Oe&&ye?.idToken){const vn=null===(z=null===(H=ve(ye.idToken))||void 0===H?void 0:H.firebase)||void 0===z?void 0:z.sign_in_provider;if(vn)return new Qs(Ft,"anonymous"!==vn&&"custom"!==vn?vn:null)}if(!Oe)return null;switch(Oe){case"facebook.com":return new Rs(Ft,xt);case"github.com":return new Ie(Ft,xt);case"google.com":return new It(Ft,xt);case"twitter.com":return new ot(Ft,xt,ye.screenName||null);case"custom":case"anonymous":return new Qs(Ft,null);default:return new Qs(Ft,Oe,xt)}}(z)}class yr{constructor(H,z,Oe){this.type=H,this.credential=z,this.auth=Oe}static _fromIdtoken(H,z){return new yr("enroll",H,z)}static _fromMfaPendingCredential(H){return new yr("signin",H)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(H){var z,Oe;if(H?.multiFactorSession){if(null!==(z=H.multiFactorSession)&&void 0!==z&&z.pendingCredential)return yr._fromMfaPendingCredential(H.multiFactorSession.pendingCredential);if(null!==(Oe=H.multiFactorSession)&&void 0!==Oe&&Oe.idToken)return yr._fromIdtoken(H.multiFactorSession.idToken)}return null}}class us{constructor(H,z,Oe){this.session=H,this.hints=z,this.signInResolver=Oe}static _fromError(H,z){const Oe=un(H),xt=z.customData._serverResponse,Ft=(xt.mfaInfo||[]).map(Rn=>At._fromServerResponse(Oe,Rn));q(xt.mfaPendingCredential,Oe,"internal-error");const vn=yr._fromMfaPendingCredential(xt.mfaPendingCredential);return new us(vn,Ft,function(){var Rn=(0,c.Z)(function*(ai){const _i=yield ai._process(Oe,vn);delete xt.mfaInfo,delete xt.mfaPendingCredential;const Mi=Object.assign(Object.assign({},xt),{idToken:_i.idToken,refreshToken:_i.refreshToken});switch(z.operationType){case"signIn":const Hi=yield cr._fromIdTokenResponse(Oe,z.operationType,Mi);return yield Oe._updateCurrentUser(Hi.user),Hi;case"reauthenticate":return q(z.user,Oe,"internal-error"),cr._forOperation(z.user,z.operationType,Mi);default:T(Oe,"internal-error")}});return function(ai){return Rn.apply(this,arguments)}}())}resolveSignIn(H){var z=this;return(0,c.Z)(function*(){return z.signInResolver(H)})()}}function Si(ye,H){var z;const Oe=(0,t.m9)(ye),xt=H;return q(H.customData.operationType,Oe,"argument-error"),q(null===(z=xt.customData._serverResponse)||void 0===z?void 0:z.mfaPendingCredential,Oe,"argument-error"),us._fromError(Oe,xt)}class Wa{constructor(H){this.user=H,this.enrolledFactors=[],H._onReload(z=>{z.mfaInfo&&(this.enrolledFactors=z.mfaInfo.map(Oe=>At._fromServerResponse(H.auth,Oe)))})}static _fromUser(H){return new Wa(H)}getSession(){var H=this;return(0,c.Z)(function*(){return yr._fromIdtoken(yield H.user.getIdToken(),H.user.auth)})()}enroll(H,z){var Oe=this;return(0,c.Z)(function*(){const xt=H,Ft=yield Oe.getSession(),vn=yield xe(Oe.user,xt._process(Oe.user.auth,Ft,z));return yield Oe.user._updateTokensIfNecessary(vn),Oe.user.reload()})()}unenroll(H){var z=this;return(0,c.Z)(function*(){const Oe="string"==typeof H?H:H.uid,xt=yield z.user.getIdToken();try{const Ft=yield xe(z.user,function es(ye,H){return pe(ye,"POST","/v2/accounts/mfaEnrollment:withdraw",Ae(ye,H))}(z.user.auth,{idToken:xt,mfaEnrollmentId:Oe}));z.enrolledFactors=z.enrolledFactors.filter(({uid:vn})=>vn!==Oe),yield z.user._updateTokensIfNecessary(Ft),yield z.user.reload()}catch(Ft){throw Ft}})()}}const ts=new WeakMap;function za(ye){const H=(0,t.m9)(ye);return ts.has(H)||ts.set(H,Wa._fromUser(H)),ts.get(H)}const Za="__sak";class ld{constructor(H,z){this.storageRetriever=H,this.type=z}_isAvailable(){try{return this.storage?(this.storage.setItem(Za,"1"),this.storage.removeItem(Za),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(H,z){return this.storage.setItem(H,JSON.stringify(z)),Promise.resolve()}_get(H){const z=this.storage.getItem(H);return Promise.resolve(z?JSON.parse(z):null)}_remove(H){return this.storage.removeItem(H),Promise.resolve()}get storage(){return this.storageRetriever()}}const da=(()=>{class ye extends ld{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(z,Oe)=>this.onStorageEvent(z,Oe),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function cd(){const ye=(0,t.z$)();return st(ye)||an(ye)}()&&function Gn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Wn(),this._shouldAllowMigration=!0}forAllChangedKeys(z){for(const Oe of Object.keys(this.listeners)){const xt=this.storage.getItem(Oe),Ft=this.localCache[Oe];xt!==Ft&&z(Oe,Ft,xt)}}onStorageEvent(z,Oe=!1){if(!z.key)return void this.forAllChangedKeys((Rn,ai,_i)=>{this.notifyListeners(Rn,_i)});const xt=z.key;if(Oe?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Rn=this.storage.getItem(xt);if(z.newValue!==Rn)null!==z.newValue?this.storage.setItem(xt,z.newValue):this.storage.removeItem(xt);else if(this.localCache[xt]===z.newValue&&!Oe)return}const Ft=()=>{const Rn=this.storage.getItem(xt);!Oe&&this.localCache[xt]===Rn||this.notifyListeners(xt,Rn)},vn=this.storage.getItem(xt);!function Nn(){return(0,t.w1)()&&10===document.documentMode}()||vn===z.newValue||z.newValue===z.oldValue?Ft():setTimeout(Ft,10)}notifyListeners(z,Oe){this.localCache[z]=Oe;const xt=this.listeners[z];if(xt)for(const Ft of Array.from(xt))Ft(Oe&&JSON.parse(Oe))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((z,Oe,xt)=>{this.onStorageEvent(new StorageEvent("storage",{key:z,oldValue:Oe,newValue:xt}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(z,Oe){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[z]||(this.listeners[z]=new Set,this.localCache[z]=this.storage.getItem(z)),this.listeners[z].add(Oe)}_removeListener(z,Oe){this.listeners[z]&&(this.listeners[z].delete(Oe),0===this.listeners[z].size&&delete this.listeners[z]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(z,Oe){var xt=()=>super._set,Ft=this;return(0,c.Z)(function*(){yield xt().call(Ft,z,Oe),Ft.localCache[z]=JSON.stringify(Oe)})()}_get(z){var Oe=()=>super._get,xt=this;return(0,c.Z)(function*(){const Ft=yield Oe().call(xt,z);return xt.localCache[z]=JSON.stringify(Ft),Ft})()}_remove(z){var Oe=()=>super._remove,xt=this;return(0,c.Z)(function*(){yield Oe().call(xt,z),delete xt.localCache[z]})()}}return ye.type="LOCAL",ye})(),zr=(()=>{class ye extends ld{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(z,Oe){}_removeListener(z,Oe){}}return ye.type="SESSION",ye})();let cc=(()=>{class ye{constructor(z){this.eventTarget=z,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(z){const Oe=this.receivers.find(Ft=>Ft.isListeningto(z));if(Oe)return Oe;const xt=new ye(z);return this.receivers.push(xt),xt}isListeningto(z){return this.eventTarget===z}handleEvent(z){var Oe=this;return(0,c.Z)(function*(){const xt=z,{eventId:Ft,eventType:vn,data:Rn}=xt.data,ai=Oe.handlersMap[vn];if(!ai?.size)return;xt.ports[0].postMessage({status:"ack",eventId:Ft,eventType:vn});const _i=Array.from(ai).map(function(){var Hi=(0,c.Z)(function*(ms){return ms(xt.origin,Rn)});return function(ms){return Hi.apply(this,arguments)}}()),Mi=yield function dd(ye){return Promise.all(ye.map(function(){var H=(0,c.Z)(function*(z){try{return{fulfilled:!0,value:yield z}}catch(Oe){return{fulfilled:!1,reason:Oe}}});return function(z){return H.apply(this,arguments)}}()))}(_i);xt.ports[0].postMessage({status:"done",eventId:Ft,eventType:vn,response:Mi})})()}_subscribe(z,Oe){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[z]||(this.handlersMap[z]=new Set),this.handlersMap[z].add(Oe)}_unsubscribe(z,Oe){this.handlersMap[z]&&Oe&&this.handlersMap[z].delete(Oe),(!Oe||0===this.handlersMap[z].size)&&delete this.handlersMap[z],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return ye.receivers=[],ye})();function Lo(ye="",H=10){let z="";for(let Oe=0;Oe<H;Oe++)z+=Math.floor(10*Math.random());return ye+z}class dc{constructor(H){this.target=H,this.handlers=new Set}removeMessageHandler(H){H.messageChannel&&(H.messageChannel.port1.removeEventListener("message",H.onMessage),H.messageChannel.port1.close()),this.handlers.delete(H)}_send(H,z,Oe=50){var xt=this;return(0,c.Z)(function*(){const Ft=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ft)throw new Error("connection_unavailable");let vn,Rn;return new Promise((ai,_i)=>{const Mi=Lo("",20);Ft.port1.start();const Hi=setTimeout(()=>{_i(new Error("unsupported_event"))},Oe);Rn={messageChannel:Ft,onMessage(ms){const Zl=ms;if(Zl.data.eventId===Mi)switch(Zl.data.status){case"ack":clearTimeout(Hi),vn=setTimeout(()=>{_i(new Error("timeout"))},3e3);break;case"done":clearTimeout(vn),ai(Zl.data.response);break;default:clearTimeout(Hi),clearTimeout(vn),_i(new Error("invalid_response"))}}},xt.handlers.add(Rn),Ft.port1.addEventListener("message",Rn.onMessage),xt.target.postMessage({eventType:H,eventId:Mi,data:z},[Ft.port2])}).finally(()=>{Rn&&xt.removeMessageHandler(Rn)})})()}}function Zr(){return window}function Gl(){return typeof Zr().WorkerGlobalScope<"u"&&"function"==typeof Zr().importScripts}function fo(){return(fo=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Hr="firebaseLocalStorageDb",oo="firebaseLocalStorage",fc="fbase_key";class Ra{constructor(H){this.request=H}toPromise(){return new Promise((H,z)=>{this.request.addEventListener("success",()=>{H(this.request.result)}),this.request.addEventListener("error",()=>{z(this.request.error)})})}}function Na(ye,H){return ye.transaction([oo],H?"readwrite":"readonly").objectStore(oo)}function La(){const ye=indexedDB.open(Hr,1);return new Promise((H,z)=>{ye.addEventListener("error",()=>{z(ye.error)}),ye.addEventListener("upgradeneeded",()=>{const Oe=ye.result;try{Oe.createObjectStore(oo,{keyPath:fc})}catch(xt){z(xt)}}),ye.addEventListener("success",(0,c.Z)(function*(){const Oe=ye.result;Oe.objectStoreNames.contains(oo)?H(Oe):(Oe.close(),yield function yl(){const ye=indexedDB.deleteDatabase(Hr);return new Ra(ye).toPromise()}(),H(yield La()))}))})}function hc(ye,H,z){return ka.apply(this,arguments)}function ka(){return(ka=(0,c.Z)(function*(ye,H,z){const Oe=Na(ye,!0).put({[fc]:H,value:z});return new Ra(Oe).toPromise()})).apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(ye,H){const z=Na(ye,!1).get(H),Oe=yield new Ra(z).toPromise();return void 0===Oe?null:Oe.value})).apply(this,arguments)}function $a(ye,H){const z=Na(ye,!0).delete(H);return new Ra(z).toPromise()}const Hl=(()=>{class ye{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var z=this;return(0,c.Z)(function*(){return z.db||(z.db=yield La()),z.db})()}_withRetries(z){var Oe=this;return(0,c.Z)(function*(){let xt=0;for(;;)try{const Ft=yield Oe._openDb();return yield z(Ft)}catch(Ft){if(xt++>3)throw Ft;Oe.db&&(Oe.db.close(),Oe.db=void 0)}})()}initializeServiceWorkerMessaging(){var z=this;return(0,c.Z)(function*(){return Gl()?z.initializeReceiver():z.initializeSender()})()}initializeReceiver(){var z=this;return(0,c.Z)(function*(){z.receiver=cc._getInstance(function ua(){return Gl()?self:null}()),z.receiver._subscribe("keyChanged",function(){var Oe=(0,c.Z)(function*(xt,Ft){return{keyProcessed:(yield z._poll()).includes(Ft.key)}});return function(xt,Ft){return Oe.apply(this,arguments)}}()),z.receiver._subscribe("ping",function(){var Oe=(0,c.Z)(function*(xt,Ft){return["keyChanged"]});return function(xt,Ft){return Oe.apply(this,arguments)}}())})()}initializeSender(){var z=this;return(0,c.Z)(function*(){var Oe,xt;if(z.activeServiceWorker=yield function uc(){return fo.apply(this,arguments)}(),!z.activeServiceWorker)return;z.sender=new dc(z.activeServiceWorker);const Ft=yield z.sender._send("ping",{},800);Ft&&null!==(Oe=Ft[0])&&void 0!==Oe&&Oe.fulfilled&&null!==(xt=Ft[0])&&void 0!==xt&&xt.value.includes("keyChanged")&&(z.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(z){var Oe=this;return(0,c.Z)(function*(){if(Oe.sender&&Oe.activeServiceWorker&&function Ss(){var ye;return(null===(ye=navigator?.serviceWorker)||void 0===ye?void 0:ye.controller)||null}()===Oe.activeServiceWorker)try{yield Oe.sender._send("keyChanged",{key:z},Oe.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const z=yield La();return yield hc(z,Za,"1"),yield $a(z,Za),!0}catch{}return!1})()}_withPendingWrite(z){var Oe=this;return(0,c.Z)(function*(){Oe.pendingWrites++;try{yield z()}finally{Oe.pendingWrites--}})()}_set(z,Oe){var xt=this;return(0,c.Z)(function*(){return xt._withPendingWrite((0,c.Z)(function*(){return yield xt._withRetries(Ft=>hc(Ft,z,Oe)),xt.localCache[z]=Oe,xt.notifyServiceWorker(z)}))})()}_get(z){var Oe=this;return(0,c.Z)(function*(){const xt=yield Oe._withRetries(Ft=>function ud(ye,H){return Xs.apply(this,arguments)}(Ft,z));return Oe.localCache[z]=xt,xt})()}_remove(z){var Oe=this;return(0,c.Z)(function*(){return Oe._withPendingWrite((0,c.Z)(function*(){return yield Oe._withRetries(xt=>$a(xt,z)),delete Oe.localCache[z],Oe.notifyServiceWorker(z)}))})()}_poll(){var z=this;return(0,c.Z)(function*(){const Oe=yield z._withRetries(vn=>{const Rn=Na(vn,!1).getAll();return new Ra(Rn).toPromise()});if(!Oe)return[];if(0!==z.pendingWrites)return[];const xt=[],Ft=new Set;for(const{fbase_key:vn,value:Rn}of Oe)Ft.add(vn),JSON.stringify(z.localCache[vn])!==JSON.stringify(Rn)&&(z.notifyListeners(vn,Rn),xt.push(vn));for(const vn of Object.keys(z.localCache))z.localCache[vn]&&!Ft.has(vn)&&(z.notifyListeners(vn,null),xt.push(vn));return xt})()}notifyListeners(z,Oe){this.localCache[z]=Oe;const xt=this.listeners[z];if(xt)for(const Ft of Array.from(xt))Ft(Oe)}startPolling(){var z=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return z._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(z,Oe){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[z]||(this.listeners[z]=new Set,this._get(z)),this.listeners[z].add(Oe)}_removeListener(z,Oe){this.listeners[z]&&(this.listeners[z].delete(Oe),0===this.listeners[z].size&&delete this.listeners[z]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return ye.type="LOCAL",ye})(),Ee=1e12;class Ge{constructor(H){this.auth=H,this.counter=Ee,this._widgets=new Map}render(H,z){const Oe=this.counter;return this._widgets.set(Oe,new ce(H,this.auth.name,z||{})),this.counter++,Oe}reset(H){var z;const Oe=H||Ee;null===(z=this._widgets.get(Oe))||void 0===z||z.delete(),this._widgets.delete(Oe)}getResponse(H){var z;return(null===(z=this._widgets.get(H||Ee))||void 0===z?void 0:z.getResponse())||""}execute(H){var z=this;return(0,c.Z)(function*(){var Oe;return null===(Oe=z._widgets.get(H||Ee))||void 0===Oe||Oe.execute(),""})()}}class ce{constructor(H,z,Oe){this.params=Oe,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const xt="string"==typeof H?document.getElementById(H):H;q(xt,"argument-error",{appName:z}),this.container=xt,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Be(ye){const H=[],z="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Oe=0;Oe<ye;Oe++)H.push(z.charAt(Math.floor(62*Math.random())));return H.join("")}(50);const{callback:H,"expired-callback":z}=this.params;if(H)try{H(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,z)try{z()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Tt=wn("rcb"),jt=new he(3e4,6e4);class Tn{constructor(){var H;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(H=Zr().grecaptcha)||void 0===H||!H.render)}load(H,z=""){return q(function zn(ye){return ye.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(ye)}(z),H,"argument-error"),this.shouldResolveImmediately(z)&&tn(Zr().grecaptcha)?Promise.resolve(Zr().grecaptcha):new Promise((Oe,xt)=>{const Ft=Zr().setTimeout(()=>{xt(N(H,"network-request-failed"))},jt.get());Zr()[Tt]=()=>{Zr().clearTimeout(Ft),delete Zr()[Tt];const Rn=Zr().grecaptcha;if(!Rn||!tn(Rn))return void xt(N(H,"internal-error"));const ai=Rn.render;Rn.render=(_i,Mi)=>{const Hi=ai(_i,Mi);return this.counter++,Hi},this.hostLanguage=z,Oe(Rn)},Qt(`https://www.google.com/recaptcha/api.js??${(0,t.xO)({onload:Tt,render:"explicit",hl:z})}`).catch(()=>{clearTimeout(Ft),xt(N(H,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(H){var z;return!(null===(z=Zr().grecaptcha)||void 0===z||!z.render)&&(H===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bi{load(H){return(0,c.Z)(function*(){return new Ge(H)})()}clearedOneInstance(){}}const Ti="recaptcha",rr={theme:"light",type:"image"};class ho{constructor(H,z=Object.assign({},rr),Oe){this.parameters=z,this.type=Ti,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=un(Oe),this.isInvisible="invisible"===this.parameters.size,q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const xt="string"==typeof H?document.getElementById(H):H;q(xt,this.auth,"argument-error"),this.container=xt,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bi:new Tn,this.validateStartingState()}verify(){var H=this;return(0,c.Z)(function*(){H.assertNotDestroyed();const z=yield H.render(),Oe=H.getAssertedRecaptcha();return Oe.getResponse(z)||new Promise(Ft=>{const vn=Rn=>{Rn&&(H.tokenChangeListeners.delete(vn),Ft(Rn))};H.tokenChangeListeners.add(vn),H.isInvisible&&Oe.execute(z)})})()}render(){try{this.assertNotDestroyed()}catch(H){return Promise.reject(H)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(H=>{throw this.renderPromise=null,H})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(H=>{this.container.removeChild(H)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(H){return z=>{if(this.tokenChangeListeners.forEach(Oe=>Oe(z)),"function"==typeof H)H(z);else if("string"==typeof H){const Oe=Zr()[H];"function"==typeof Oe&&Oe(z)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var H=this;return(0,c.Z)(function*(){if(yield H.init(),!H.widgetId){let z=H.container;if(!H.isInvisible){const Oe=document.createElement("div");z.appendChild(Oe),z=Oe}H.widgetId=H.getAssertedRecaptcha().render(z,H.parameters)}return H.widgetId})()}init(){var H=this;return(0,c.Z)(function*(){q(ae()&&!Gl(),H.auth,"internal-error"),yield function Fa(){let ye=null;return new Promise(H=>{"complete"!==document.readyState?(ye=()=>H(),window.addEventListener("load",ye)):H()}).catch(H=>{throw ye&&window.removeEventListener("load",ye),H})}(),H.recaptcha=yield H._recaptchaLoader.load(H.auth,H.auth.languageCode||void 0);const z=yield function _n(ye){return pn.apply(this,arguments)}(H.auth);q(z,H.auth,"internal-error"),H.parameters.sitekey=z})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fa{constructor(H,z){this.verificationId=H,this.onConfirmation=z}confirm(H){const z=kr._fromVerification(this.verificationId,H);return this.onConfirmation(z)}}function ha(ye,H,z){return qa.apply(this,arguments)}function qa(){return(qa=(0,c.Z)(function*(ye,H,z){const Oe=un(ye),xt=yield Kl(Oe,H,(0,t.m9)(z));return new fa(xt,Ft=>$o(Oe,Ft))})).apply(this,arguments)}function hs(ye,H,z){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,c.Z)(function*(ye,H,z){const Oe=(0,t.m9)(ye);yield Zo(!1,Oe,"phone");const xt=yield Kl(Oe.auth,H,(0,t.m9)(z));return new fa(xt,Ft=>qs(Oe,Ft))})).apply(this,arguments)}function Gc(ye,H,z){return _c.apply(this,arguments)}function _c(){return(_c=(0,c.Z)(function*(ye,H,z){const Oe=(0,t.m9)(ye),xt=yield Kl(Oe.auth,H,(0,t.m9)(z));return new fa(xt,Ft=>Ps(Oe,Ft))})).apply(this,arguments)}function Kl(ye,H,z){return md.apply(this,arguments)}function md(){return md=(0,c.Z)(function*(ye,H,z){var Oe;const xt=yield z.verify();try{let Ft;if(q("string"==typeof xt,ye,"argument-error"),q(z.type===Ti,ye,"argument-error"),Ft="string"==typeof H?{phoneNumber:H}:H,"session"in Ft){const vn=Ft.session;if("phoneNumber"in Ft)return q("enroll"===vn.type,ye,"internal-error"),(yield function Ns(ye,H){return pe(ye,"POST","/v2/accounts/mfaEnrollment:start",Ae(ye,H))}(ye,{idToken:vn.credential,phoneEnrollmentInfo:{phoneNumber:Ft.phoneNumber,recaptchaToken:xt}})).phoneSessionInfo.sessionInfo;{q("signin"===vn.type,ye,"internal-error");const Rn=(null===(Oe=Ft.multiFactorHint)||void 0===Oe?void 0:Oe.uid)||Ft.multiFactorUid;return q(Rn,ye,"missing-multi-factor-info"),(yield function gc(ye,H){return pe(ye,"POST","/v2/accounts/mfaSignIn:start",Ae(ye,H))}(ye,{mfaPendingCredential:vn.credential,mfaEnrollmentId:Rn,phoneSignInInfo:{recaptchaToken:xt}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:vn}=yield function mi(ye,H){return gi.apply(this,arguments)}(ye,{phoneNumber:Ft.phoneNumber,recaptchaToken:xt});return vn}}finally{z._reset()}}),md.apply(this,arguments)}function ih(ye,H){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,c.Z)(function*(ye,H){yield Eo((0,t.m9)(ye),H)})).apply(this,arguments)}let ou=(()=>{class ye{constructor(z){this.providerId=ye.PROVIDER_ID,this.auth=un(z)}verifyPhoneNumber(z,Oe){return Kl(this.auth,z,(0,t.m9)(Oe))}static credential(z,Oe){return kr._fromVerification(z,Oe)}static credentialFromResult(z){return ye.credentialFromTaggedObject(z)}static credentialFromError(z){return ye.credentialFromTaggedObject(z.customData||{})}static credentialFromTaggedObject({_tokenResponse:z}){if(!z)return null;const{phoneNumber:Oe,temporaryProof:xt}=z;return Oe&&xt?kr._fromTokenResponse(Oe,xt):null}}return ye.PROVIDER_ID="phone",ye.PHONE_SIGN_IN_METHOD="phone",ye})();function El(ye,H){return H?mt(H):(q(ye._popupRedirectResolver,ye,"argument-error"),ye._popupRedirectResolver)}class pd extends Tr{constructor(H){super("custom","custom"),this.params=H}_getIdTokenResponse(H){return qt(H,this._buildIdpRequest())}_linkToIdToken(H,z){return qt(H,this._buildIdpRequest(z))}_getReauthenticationResolver(H){return qt(H,this._buildIdpRequest())}_buildIdpRequest(H){const z={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return H&&(z.idToken=H),z}}function Cs(ye){return Jr(ye.auth,new pd(ye),ye.bypassAuthState)}function gd(ye){const{auth:H,user:z}=ye;return q(z,H,"internal-error"),la(z,new pd(ye),ye.bypassAuthState)}function vc(ye){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,c.Z)(function*(ye){const{auth:H,user:z}=ye;return q(z,H,"internal-error"),Eo(z,new pd(ye),ye.bypassAuthState)})).apply(this,arguments)}class Qa{constructor(H,z,Oe,xt,Ft=!1){this.auth=H,this.resolver=Oe,this.user=xt,this.bypassAuthState=Ft,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(z)?z:[z]}execute(){var H=this;return new Promise(function(){var z=(0,c.Z)(function*(Oe,xt){H.pendingPromise={resolve:Oe,reject:xt};try{H.eventManager=yield H.resolver._initialize(H.auth),yield H.onExecution(),H.eventManager.registerConsumer(H)}catch(Ft){H.reject(Ft)}});return function(Oe,xt){return z.apply(this,arguments)}}())}onAuthEvent(H){var z=this;return(0,c.Z)(function*(){const{urlResponse:Oe,sessionId:xt,postBody:Ft,tenantId:vn,error:Rn,type:ai}=H;if(Rn)return void z.reject(Rn);const _i={auth:z.auth,requestUri:Oe,sessionId:xt,tenantId:vn||void 0,postBody:Ft||void 0,user:z.user,bypassAuthState:z.bypassAuthState};try{z.resolve(yield z.getIdpTask(ai)(_i))}catch(Mi){z.reject(Mi)}})()}onError(H){this.reject(H)}getIdpTask(H){switch(H){case"signInViaPopup":case"signInViaRedirect":return Cs;case"linkViaPopup":case"linkViaRedirect":return vc;case"reauthViaPopup":case"reauthViaRedirect":return gd;default:T(this.auth,"internal-error")}}resolve(H){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(H),this.unregisterAndCleanUp()}reject(H){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(H),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const su=new he(2e3,1e4);function ma(ye,H,z){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,c.Z)(function*(ye,H,z){const Oe=un(ye);B(ye,H,Oo);const xt=El(Oe,z);return new bc(Oe,"signInViaPopup",H,xt).executeNotNull()})).apply(this,arguments)}function Wm(ye,H,z){return ks.apply(this,arguments)}function ks(){return(ks=(0,c.Z)(function*(ye,H,z){const Oe=(0,t.m9)(ye);B(Oe.auth,H,Oo);const xt=El(Oe.auth,z);return new bc(Oe.auth,"reauthViaPopup",H,xt,Oe).executeNotNull()})).apply(this,arguments)}function rh(ye,H,z){return yc.apply(this,arguments)}function yc(){return(yc=(0,c.Z)(function*(ye,H,z){const Oe=(0,t.m9)(ye);B(Oe.auth,H,Oo);const xt=El(Oe.auth,z);return new bc(Oe.auth,"linkViaPopup",H,xt,Oe).executeNotNull()})).apply(this,arguments)}let bc=(()=>{class ye extends Qa{constructor(z,Oe,xt,Ft,vn){super(z,Oe,Ft,vn),this.provider=xt,this.authWindow=null,this.pollId=null,ye.currentPopupAction&&ye.currentPopupAction.cancel(),ye.currentPopupAction=this}executeNotNull(){var z=this;return(0,c.Z)(function*(){const Oe=yield z.execute();return q(Oe,z.auth,"internal-error"),Oe})()}onExecution(){var z=this;return(0,c.Z)(function*(){Fe(1===z.filter.length,"Popup operations only handle one event");const Oe=Lo();z.authWindow=yield z.resolver._openPopup(z.auth,z.provider,z.filter[0],Oe),z.authWindow.associatedEvent=Oe,z.resolver._originValidation(z.auth).catch(xt=>{z.reject(xt)}),z.resolver._isIframeWebStorageSupported(z.auth,xt=>{xt||z.reject(N(z.auth,"web-storage-unsupported"))}),z.pollUserCancellation()})()}get eventId(){var z;return(null===(z=this.authWindow)||void 0===z?void 0:z.associatedEvent)||null}cancel(){this.reject(N(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ye.currentPopupAction=null}pollUserCancellation(){const z=()=>{var Oe,xt;this.pollId=null!==(xt=null===(Oe=this.authWindow)||void 0===Oe?void 0:Oe.window)&&void 0!==xt&&xt.closed?window.setTimeout(()=>{this.pollId=null,this.reject(N(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(z,su.get())};z()}}return ye.currentPopupAction=null,ye})();const rf="pendingRedirect",el=new Map;class au extends Qa{constructor(H,z,Oe=!1){super(H,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],z,void 0,Oe),this.eventId=null}execute(){var H=()=>super.execute,z=this;return(0,c.Z)(function*(){let Oe=el.get(z.auth._key());if(!Oe){try{const Ft=(yield function zm(ye,H){return Ec.apply(this,arguments)}(z.resolver,z.auth))?yield H().call(z):null;Oe=()=>Promise.resolve(Ft)}catch(xt){Oe=()=>Promise.reject(xt)}el.set(z.auth._key(),Oe)}return z.bypassAuthState||el.set(z.auth._key(),()=>Promise.resolve(null)),Oe()})()}onAuthEvent(H){var z=()=>super.onAuthEvent,Oe=this;return(0,c.Z)(function*(){if("signInViaRedirect"===H.type)return z().call(Oe,H);if("unknown"!==H.type){if(H.eventId){const xt=yield Oe.auth._redirectUserForId(H.eventId);if(xt)return Oe.user=xt,z().call(Oe,H);Oe.resolve(null)}}else Oe.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Ec(){return(Ec=(0,c.Z)(function*(ye,H){const z=Tl(H),Oe=Tc(ye);if(!(yield Oe._isAvailable()))return!1;const xt="true"===(yield Oe._get(z));return yield Oe._remove(z),xt})).apply(this,arguments)}function lu(ye,H){return cu.apply(this,arguments)}function cu(){return(cu=(0,c.Z)(function*(ye,H){return Tc(ye)._set(Tl(H),"true")})).apply(this,arguments)}function oh(){el.clear()}function sf(ye,H){el.set(ye._key(),H)}function Tc(ye){return mt(ye._redirectPersistence)}function Tl(ye){return Pe(rf,ye.config.apiKey,ye.name)}function du(ye,H,z){return function _d(ye,H,z){return Kc.apply(this,arguments)}(ye,H,z)}function Kc(){return(Kc=(0,c.Z)(function*(ye,H,z){const Oe=un(ye);B(ye,H,Oo),yield Oe._initializationPromise;const xt=El(Oe,z);return yield lu(xt,Oe),xt._openRedirect(Oe,H,"signInViaRedirect")})).apply(this,arguments)}function Yl(ye,H,z){return function af(ye,H,z){return Yc.apply(this,arguments)}(ye,H,z)}function Yc(){return(Yc=(0,c.Z)(function*(ye,H,z){const Oe=(0,t.m9)(ye);B(Oe.auth,H,Oo),yield Oe.auth._initializationPromise;const xt=El(Oe.auth,z);yield lu(xt,Oe.auth);const Ft=yield yd(Oe);return xt._openRedirect(Oe.auth,H,"reauthViaRedirect",Ft)})).apply(this,arguments)}function Sc(ye,H,z){return function lf(ye,H,z){return vd.apply(this,arguments)}(ye,H,z)}function vd(){return(vd=(0,c.Z)(function*(ye,H,z){const Oe=(0,t.m9)(ye);B(Oe.auth,H,Oo),yield Oe.auth._initializationPromise;const xt=El(Oe.auth,z);yield Zo(!1,Oe,H.providerId),yield lu(xt,Oe.auth);const Ft=yield yd(Oe);return xt._openRedirect(Oe.auth,H,"linkViaRedirect",Ft)})).apply(this,arguments)}function ao(ye,H){return xi.apply(this,arguments)}function xi(){return(xi=(0,c.Z)(function*(ye,H){return yield un(ye)._initializationPromise,tl(ye,H,!1)})).apply(this,arguments)}function tl(ye,H){return nl.apply(this,arguments)}function nl(){return(nl=(0,c.Z)(function*(ye,H,z=!1){const Oe=un(ye),xt=El(Oe,H),vn=yield new au(Oe,xt,z).execute();return vn&&!z&&(delete vn.user._redirectEventId,yield Oe._persistUserIfCurrent(vn.user),yield Oe._setRedirectUser(null,H)),vn})).apply(this,arguments)}function yd(ye){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,c.Z)(function*(ye){const H=Lo(`${ye.uid}:::`);return ye._redirectEventId=H,yield ye.auth._setRedirectUser(ye),yield ye.auth._persistUserIfCurrent(ye),H})).apply(this,arguments)}class Wc{constructor(H){this.auth=H,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(H){this.consumers.add(H),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,H)&&(this.sendToConsumer(this.queuedRedirectEvent,H),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(H){this.consumers.delete(H)}onEvent(H){if(this.hasEventBeenHandled(H))return!1;let z=!1;return this.consumers.forEach(Oe=>{this.isEventForConsumer(H,Oe)&&(z=!0,this.sendToConsumer(H,Oe),this.saveEventToCache(H))}),this.hasHandledPotentialRedirect||!function uu(ye){switch(ye.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bd(ye);default:return!1}}(H)||(this.hasHandledPotentialRedirect=!0,z||(this.queuedRedirectEvent=H,z=!0)),z}sendToConsumer(H,z){var Oe;if(H.error&&!bd(H)){const xt=(null===(Oe=H.error.code)||void 0===Oe?void 0:Oe.split("auth/")[1])||"internal-error";z.onError(N(this.auth,xt))}else z.onAuthEvent(H)}isEventForConsumer(H,z){const Oe=null===z.eventId||!!H.eventId&&H.eventId===z.eventId;return z.filter.includes(H.type)&&Oe}hasEventBeenHandled(H){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zc(H))}saveEventToCache(H){this.cachedEventUids.add(zc(H)),this.lastProcessedEventTime=Date.now()}}function zc(ye){return[ye.type,ye.eventId,ye.sessionId,ye.tenantId].filter(H=>H).join("-")}function bd({type:ye,error:H}){return"unknown"===ye&&"auth/no-auth-event"===H?.code}function Ed(ye){return fu.apply(this,arguments)}function fu(){return(fu=(0,c.Z)(function*(ye,H={}){return pe(ye,"GET","/v1/projects",H)})).apply(this,arguments)}const Zm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$m=/^https?/;function Td(){return(Td=(0,c.Z)(function*(ye){if(ye.config.emulator)return;const{authorizedDomains:H}=yield Ed(ye);for(const z of H)try{if(zl(z))return}catch{}T(ye,"unauthorized-domain")})).apply(this,arguments)}function zl(ye){const H=$(),{protocol:z,hostname:Oe}=new URL(H);if(ye.startsWith("chrome-extension://")){const vn=new URL(ye);return""===vn.hostname&&""===Oe?"chrome-extension:"===z&&ye.replace("chrome-extension://","")===H.replace("chrome-extension://",""):"chrome-extension:"===z&&vn.hostname===Oe}if(!$m.test(z))return!1;if(Zm.test(ye))return Oe===ye;const xt=ye.replace(/\./g,"\\.");return new RegExp("^(.+\\."+xt+"|"+xt+")$","i").test(Oe)}const mo=new he(3e4,6e4);function hu(){const ye=Zr().___jsl;if(ye?.H)for(const H of Object.keys(ye.H))if(ye.H[H].r=ye.H[H].r||[],ye.H[H].L=ye.H[H].L||[],ye.H[H].r=[...ye.H[H].L],ye.CP)for(let z=0;z<ye.CP.length;z++)ye.CP[z]=null}let ga=null;const ta=new he(5e3,15e3),mu="__/auth/iframe",Sd="emulator/auth/iframe",Cl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wr(ye){const H=ye.config;q(H.authDomain,ye,"auth-domain-config-required");const z=H.emulator?Ce(H,Sd):`https://${ye.config.authDomain}/${mu}`,Oe={apiKey:H.apiKey,appName:ye.name,v:b.SDK_VERSION},xt=cf.get(ye.config.apiHost);xt&&(Oe.eid=xt);const Ft=ye._getFrameworks();return Ft.length&&(Oe.fw=Ft.join(",")),`${z}?${(0,t.xO)(Oe).slice(1)}`}function Me(){return Me=(0,c.Z)(function*(ye){const H=yield function Fs(ye){return ga=ga||function pa(ye){return new Promise((H,z)=>{var Oe,xt,Ft;function vn(){hu(),gapi.load("gapi.iframes",{callback:()=>{H(gapi.iframes.getContext())},ontimeout:()=>{hu(),z(N(ye,"network-request-failed"))},timeout:mo.get()})}if(null!==(xt=null===(Oe=Zr().gapi)||void 0===Oe?void 0:Oe.iframes)&&void 0!==xt&&xt.Iframe)H(gapi.iframes.getContext());else{if(null===(Ft=Zr().gapi)||void 0===Ft||!Ft.load){const Rn=wn("iframefcb");return Zr()[Rn]=()=>{gapi.load?vn():z(N(ye,"network-request-failed"))},Qt(`https://apis.google.com/js/api.js?onload=${Rn}`).catch(ai=>z(ai))}vn()}}).catch(H=>{throw ga=null,H})}(ye),ga}(ye),z=Zr().gapi;return q(z,ye,"internal-error"),H.open({where:document.body,url:wr(ye),messageHandlersFilter:z.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cl,dontclear:!0},Oe=>new Promise(function(){var xt=(0,c.Z)(function*(Ft,vn){yield Oe.restyle({setHideOnLeave:!1});const Rn=N(ye,"network-request-failed"),ai=Zr().setTimeout(()=>{vn(Rn)},ta.get());function _i(){Zr().clearTimeout(ai),Ft(Oe)}Oe.ping(_i).then(_i,()=>{vn(Rn)})});return function(Ft,vn){return xt.apply(this,arguments)}}()))}),Me.apply(this,arguments)}const $e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class In{constructor(H){this.window=H,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ci="__/auth/handler",ki="emulator/auth/handler",Ui=encodeURIComponent("fac");function yi(ye,H,z,Oe,xt,Ft){return lo.apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(ye,H,z,Oe,xt,Ft){q(ye.config.authDomain,ye,"auth-domain-config-required"),q(ye.config.apiKey,ye,"invalid-api-key");const vn={apiKey:ye.config.apiKey,appName:ye.name,authType:z,redirectUrl:Oe,v:b.SDK_VERSION,eventId:xt};if(H instanceof Oo){H.setDefaultLanguage(ye.languageCode),vn.providerId=H.providerId||"",(0,t.xb)(H.getCustomParameters())||(vn.customParameters=JSON.stringify(H.getCustomParameters()));for(const[Mi,Hi]of Object.entries(Ft||{}))vn[Mi]=Hi}if(H instanceof vs){const Mi=H.getScopes().filter(Hi=>""!==Hi);Mi.length>0&&(vn.scopes=Mi.join(","))}ye.tenantId&&(vn.tid=ye.tenantId);const Rn=vn;for(const Mi of Object.keys(Rn))void 0===Rn[Mi]&&delete Rn[Mi];const ai=yield ye._getAppCheckToken(),_i=ai?`#${Ui}=${encodeURIComponent(ai)}`:"";return`${function Zc({config:ye}){return ye.emulator?Ce(ye,ki):`https://${ye.authDomain}/${Ci}`}(ye)}?${(0,t.xO)(Rn).slice(1)}${_i}`})).apply(this,arguments)}const Ua="webStorageSupport",Ko=class To{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zr,this._completeRedirectFn=tl,this._overrideRedirectResult=sf}_openPopup(H,z,Oe,xt){var Ft=this;return(0,c.Z)(function*(){var vn;Fe(null===(vn=Ft.eventManagers[H._key()])||void 0===vn?void 0:vn.manager,"_initialize() not called before _openPopup()");const Rn=yield yi(H,z,Oe,$(),xt);return function hi(ye,H,z,Oe=500,xt=600){const Ft=Math.max((window.screen.availHeight-xt)/2,0).toString(),vn=Math.max((window.screen.availWidth-Oe)/2,0).toString();let Rn="";const ai=Object.assign(Object.assign({},$e),{width:Oe.toString(),height:xt.toString(),top:Ft,left:vn}),_i=(0,t.z$)().toLowerCase();z&&(Rn=ut(_i)?"_blank":z),ct(_i)&&(H=H||"http://localhost",ai.scrollbars="yes");const Mi=Object.entries(ai).reduce((ms,[Zl,Ds])=>`${ms}${Zl}=${Ds},`,"");if(function Mn(ye=(0,t.z$)()){var H;return an(ye)&&!(null===(H=window.navigator)||void 0===H||!H.standalone)}(_i)&&"_self"!==Rn)return function ui(ye,H){const z=document.createElement("a");z.href=ye,z.target=H;const Oe=document.createEvent("MouseEvent");Oe.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),z.dispatchEvent(Oe)}(H||"",Rn),new In(null);const Hi=window.open(H||"",Rn,Mi);q(Hi,ye,"popup-blocked");try{Hi.focus()}catch{}return new In(Hi)}(H,Rn,Lo())})()}_openRedirect(H,z,Oe,xt){var Ft=this;return(0,c.Z)(function*(){return yield Ft._originValidation(H),function Oa(ye){Zr().location.href=ye}(yield yi(H,z,Oe,$(),xt)),new Promise(()=>{})})()}_initialize(H){const z=H._key();if(this.eventManagers[z]){const{manager:xt,promise:Ft}=this.eventManagers[z];return xt?Promise.resolve(xt):(Fe(Ft,"If manager is not set, promise should be"),Ft)}const Oe=this.initAndGetManager(H);return this.eventManagers[z]={promise:Oe},Oe.catch(()=>{delete this.eventManagers[z]}),Oe}initAndGetManager(H){var z=this;return(0,c.Z)(function*(){const Oe=yield function or(ye){return Me.apply(this,arguments)}(H),xt=new Wc(H);return Oe.register("authEvent",Ft=>(q(Ft?.authEvent,H,"invalid-auth-event"),{status:xt.onEvent(Ft.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),z.eventManagers[H._key()]={manager:xt},z.iframes[H._key()]=Oe,xt})()}_isIframeWebStorageSupported(H,z){this.iframes[H._key()].send(Ua,{type:Ua},xt=>{var Ft;const vn=null===(Ft=xt?.[0])||void 0===Ft?void 0:Ft[Ua];void 0!==vn&&z(!!vn),T(H,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(H){const z=H._key();return this.originValidationPromises[z]||(this.originValidationPromises[z]=function Wl(ye){return Td.apply(this,arguments)}(H)),this.originValidationPromises[z]}get _shouldInitProactively(){return Wn()||st()||an()}};class Bs{constructor(H){this.factorId=H}_process(H,z,Oe){switch(z.type){case"enroll":return this._finalizeEnroll(H,z.credential,Oe);case"signin":return this._finalizeSignIn(H,z.credential);default:return le("unexpected MultiFactorSessionType")}}}class Cc extends Bs{constructor(H){super("phone"),this.credential=H}static _fromCredential(H){return new Cc(H)}_finalizeEnroll(H,z,Oe){return function Go(ye,H){return pe(ye,"POST","/v2/accounts/mfaEnrollment:finalize",Ae(ye,H))}(H,{idToken:z,displayName:Oe,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(H,z){return function fd(ye,H){return pe(ye,"POST","/v2/accounts/mfaSignIn:finalize",Ae(ye,H))}(H,{mfaPendingCredential:z,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let pu=(()=>{class ye{constructor(){}static assertion(z){return Cc._fromCredential(z)}}return ye.FACTOR_ID="phone",ye})();var Dl="@firebase/auth";class qm{constructor(H){this.auth=H,this.internalListeners=new Map}getUid(){var H;return this.assertAuthConfigured(),(null===(H=this.auth.currentUser)||void 0===H?void 0:H.uid)||null}getToken(H){var z=this;return(0,c.Z)(function*(){return z.assertAuthConfigured(),yield z.auth._initializationPromise,z.auth.currentUser?{accessToken:yield z.auth.currentUser.getIdToken(H)}:null})()}addAuthTokenListener(H){if(this.assertAuthConfigured(),this.internalListeners.has(H))return;const z=this.auth.onIdTokenChanged(Oe=>{H(Oe?.stsTokenManager.accessToken||null)});this.internalListeners.set(H,z),this.updateProactiveRefresh()}removeAuthTokenListener(H){this.assertAuthConfigured();const z=this.internalListeners.get(H);z&&(this.internalListeners.delete(H),z(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,t.Pz)("authIdTokenMaxAge"),function _a(ye){(0,b._registerComponent)(new F.wA("auth",(H,{options:z})=>{const Oe=H.getProvider("app").getImmediate(),xt=H.getProvider("heartbeat"),Ft=H.getProvider("app-check-internal"),{apiKey:vn,authDomain:Rn}=Oe.options;q(vn&&!vn.includes(":"),"invalid-api-key",{appName:Oe.name});const ai={apiKey:vn,authDomain:Rn,clientPlatform:ye,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fi(ye)},_i=new vt(Oe,xt,Ft,ai);return function gt(ye,H){const z=H?.persistence||[],Oe=(Array.isArray(z)?z:[z]).map(mt);H?.errorMap&&ye._updateErrorMap(H.errorMap),ye._initializeWithPersistence(Oe,H?.popupRedirectResolver)}(_i,z),_i},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((H,z,Oe)=>{H.getProvider("auth-internal").initialize()})),(0,b._registerComponent)(new F.wA("auth-internal",H=>{const z=un(H.getProvider("auth").getImmediate());return new qm(z)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,b.registerVersion)(Dl,"0.23.2",function ko(ye){switch(ye){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ye)),(0,b.registerVersion)(Dl,"0.23.2","esm2017")}("Browser")},9058:(Bn,tt,S)=>{"use strict";S.d(tt,{$s:()=>mt,BH:()=>C,L:()=>p,LL:()=>Ue,Pz:()=>N,UG:()=>le,US:()=>F,ZB:()=>y,ZR:()=>pe,aH:()=>T,b$:()=>ae,eu:()=>fe,hl:()=>Le,jU:()=>Fe,m9:()=>Pe,ne:()=>xe,pd:()=>ve,r3:()=>_e,ru:()=>$,tV:()=>f,uI:()=>q,vZ:()=>ne,w1:()=>ge,xO:()=>X,xb:()=>Q,z$:()=>Y,zI:()=>Re,zd:()=>ue});const w=function(Ye){const Ze=[];let ct=0;for(let st=0;st<Ye.length;st++){let ut=Ye.charCodeAt(st);ut<128?Ze[ct++]=ut:ut<2048?(Ze[ct++]=ut>>6|192,Ze[ct++]=63&ut|128):55296==(64512&ut)&&st+1<Ye.length&&56320==(64512&Ye.charCodeAt(st+1))?(ut=65536+((1023&ut)<<10)+(1023&Ye.charCodeAt(++st)),Ze[ct++]=ut>>18|240,Ze[ct++]=ut>>12&63|128,Ze[ct++]=ut>>6&63|128,Ze[ct++]=63&ut|128):(Ze[ct++]=ut>>12|224,Ze[ct++]=ut>>6&63|128,Ze[ct++]=63&ut|128)}return Ze},F={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ye,Ze){if(!Array.isArray(Ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ct=Ze?this.byteToCharMapWebSafe_:this.byteToCharMap_,st=[];for(let ut=0;ut<Ye.length;ut+=3){const kt=Ye[ut],$t=ut+1<Ye.length,Lt=$t?Ye[ut+1]:0,Jt=ut+2<Ye.length,an=Jt?Ye[ut+2]:0;let Nn=(15&Lt)<<2|an>>6,Wn=63&an;Jt||(Wn=64,$t||(Nn=64)),st.push(ct[kt>>2],ct[(3&kt)<<4|Lt>>4],ct[Nn],ct[Wn])}return st.join("")},encodeString(Ye,Ze){return this.HAS_NATIVE_SUPPORT&&!Ze?btoa(Ye):this.encodeByteArray(w(Ye),Ze)},decodeString(Ye,Ze){return this.HAS_NATIVE_SUPPORT&&!Ze?atob(Ye):function(Ye){const Ze=[];let ct=0,st=0;for(;ct<Ye.length;){const ut=Ye[ct++];if(ut<128)Ze[st++]=String.fromCharCode(ut);else if(ut>191&&ut<224){const kt=Ye[ct++];Ze[st++]=String.fromCharCode((31&ut)<<6|63&kt)}else if(ut>239&&ut<365){const Jt=((7&ut)<<18|(63&Ye[ct++])<<12|(63&Ye[ct++])<<6|63&Ye[ct++])-65536;Ze[st++]=String.fromCharCode(55296+(Jt>>10)),Ze[st++]=String.fromCharCode(56320+(1023&Jt))}else{const kt=Ye[ct++],$t=Ye[ct++];Ze[st++]=String.fromCharCode((15&ut)<<12|(63&kt)<<6|63&$t)}}return Ze.join("")}(this.decodeStringToByteArray(Ye,Ze))},decodeStringToByteArray(Ye,Ze){this.init_();const ct=Ze?this.charToByteMapWebSafe_:this.charToByteMap_,st=[];for(let ut=0;ut<Ye.length;){const kt=ct[Ye.charAt(ut++)],Lt=ut<Ye.length?ct[Ye.charAt(ut)]:0;++ut;const an=ut<Ye.length?ct[Ye.charAt(ut)]:64;++ut;const Mn=ut<Ye.length?ct[Ye.charAt(ut)]:64;if(++ut,null==kt||null==Lt||null==an||null==Mn)throw new L;st.push(kt<<2|Lt>>4),64!==an&&(st.push(Lt<<4&240|an>>2),64!==Mn&&st.push(an<<6&192|Mn))}return st},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ye=0;Ye<this.ENCODED_VALS.length;Ye++)this.byteToCharMap_[Ye]=this.ENCODED_VALS.charAt(Ye),this.charToByteMap_[this.byteToCharMap_[Ye]]=Ye,this.byteToCharMapWebSafe_[Ye]=this.ENCODED_VALS_WEBSAFE.charAt(Ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ye]]=Ye,Ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ye)]=Ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ye)]=Ye)}}};class L extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p=function(Ye){return function(Ye){const Ze=w(Ye);return F.encodeByteArray(Ze,!0)}(Ye).replace(/\./g,"")},f=function(Ye){try{return F.decodeString(Ye,!0)}catch(Ze){console.error("base64Decode failed: ",Ze)}return null};function y(Ye,Ze){if(!(Ze instanceof Object))return Ze;switch(Ze.constructor){case Date:return new Date(Ze.getTime());case Object:void 0===Ye&&(Ye={});break;case Array:Ye=[];break;default:return Ze}for(const ct in Ze)!Ze.hasOwnProperty(ct)||!M(ct)||(Ye[ct]=y(Ye[ct],Ze[ct]));return Ye}function M(Ye){return"__proto__"!==Ye}const O=()=>{try{return function U(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ye=process.env.__FIREBASE_DEFAULTS__;return Ye?JSON.parse(Ye):void 0})()||(()=>{if(typeof document>"u")return;let Ye;try{Ye=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ze=Ye&&f(Ye[1]);return Ze&&JSON.parse(Ze)})()}catch(Ye){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ye}`)}},T=()=>{var Ye;return null===(Ye=O())||void 0===Ye?void 0:Ye.config},N=Ye=>{var Ze;return null===(Ze=O())||void 0===Ze?void 0:Ze[`_${Ye}`]};class C{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ze,ct)=>{this.resolve=Ze,this.reject=ct})}wrapCallback(Ze){return(ct,st)=>{ct?this.reject(ct):this.resolve(st),"function"==typeof Ze&&(this.promise.catch(()=>{}),1===Ze.length?Ze(ct):Ze(ct,st))}}}function Y(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function q(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Y())}function le(){var Ye;const Ze=null===(Ye=O())||void 0===Ye?void 0:Ye.forceEnvironment;if("node"===Ze)return!0;if("browser"===Ze)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Fe(){return"object"==typeof self&&self.self===self}function $(){const Ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ye&&void 0!==Ye.id}function ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ge(){const Ye=Y();return Ye.indexOf("MSIE ")>=0||Ye.indexOf("Trident/")>=0}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function fe(){return new Promise((Ye,Ze)=>{try{let ct=!0;const st="validate-browser-context-for-indexeddb-analytics-module",ut=self.indexedDB.open(st);ut.onsuccess=()=>{ut.result.close(),ct||self.indexedDB.deleteDatabase(st),Ye(!0)},ut.onupgradeneeded=()=>{ct=!1},ut.onerror=()=>{var kt;Ze((null===(kt=ut.error)||void 0===kt?void 0:kt.message)||"")}}catch(ct){Ze(ct)}})}function Re(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class pe extends Error{constructor(Ze,ct,st){super(ct),this.code=Ze,this.customData=st,this.name="FirebaseError",Object.setPrototypeOf(this,pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(Ze,ct,st){this.service=Ze,this.serviceName=ct,this.errors=st}create(Ze,...ct){const st=ct[0]||{},ut=`${this.service}/${Ze}`,kt=this.errors[Ze],$t=kt?function ke(Ye,Ze){return Ye.replace(we,(ct,st)=>{const ut=Ze[st];return null!=ut?String(ut):`<${st}?>`})}(kt,st):"Error";return new pe(ut,`${this.serviceName}: ${$t} (${ut}).`,st)}}const we=/\{\$([^}]+)}/g;function _e(Ye,Ze){return Object.prototype.hasOwnProperty.call(Ye,Ze)}function Q(Ye){for(const Ze in Ye)if(Object.prototype.hasOwnProperty.call(Ye,Ze))return!1;return!0}function ne(Ye,Ze){if(Ye===Ze)return!0;const ct=Object.keys(Ye),st=Object.keys(Ze);for(const ut of ct){if(!st.includes(ut))return!1;const kt=Ye[ut],$t=Ze[ut];if(ie(kt)&&ie($t)){if(!ne(kt,$t))return!1}else if(kt!==$t)return!1}for(const ut of st)if(!ct.includes(ut))return!1;return!0}function ie(Ye){return null!==Ye&&"object"==typeof Ye}function X(Ye){const Ze=[];for(const[ct,st]of Object.entries(Ye))Array.isArray(st)?st.forEach(ut=>{Ze.push(encodeURIComponent(ct)+"="+encodeURIComponent(ut))}):Ze.push(encodeURIComponent(ct)+"="+encodeURIComponent(st));return Ze.length?"&"+Ze.join("&"):""}function ue(Ye){const Ze={};return Ye.replace(/^\?/,"").split("&").forEach(st=>{if(st){const[ut,kt]=st.split("=");Ze[decodeURIComponent(ut)]=decodeURIComponent(kt)}}),Ze}function ve(Ye){const Ze=Ye.indexOf("?");if(!Ze)return"";const ct=Ye.indexOf("#",Ze);return Ye.substring(Ze,ct>0?ct:void 0)}function xe(Ye,Ze){const ct=new Ke(Ye,Ze);return ct.subscribe.bind(ct)}class Ke{constructor(Ze,ct){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ct,this.task.then(()=>{Ze(this)}).catch(st=>{this.error(st)})}next(Ze){this.forEachObserver(ct=>{ct.next(Ze)})}error(Ze){this.forEachObserver(ct=>{ct.error(Ze)}),this.close(Ze)}complete(){this.forEachObserver(Ze=>{Ze.complete()}),this.close()}subscribe(Ze,ct,st){let ut;if(void 0===Ze&&void 0===ct&&void 0===st)throw new Error("Missing Observer.");ut=function lt(Ye,Ze){if("object"!=typeof Ye||null===Ye)return!1;for(const ct of Ze)if(ct in Ye&&"function"==typeof Ye[ct])return!0;return!1}(Ze,["next","error","complete"])?Ze:{next:Ze,error:ct,complete:st},void 0===ut.next&&(ut.next=dt),void 0===ut.error&&(ut.error=dt),void 0===ut.complete&&(ut.complete=dt);const kt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ut.error(this.finalError):ut.complete()}catch{}}),this.observers.push(ut),kt}unsubscribeOne(Ze){void 0===this.observers||void 0===this.observers[Ze]||(delete this.observers[Ze],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ze){if(!this.finalized)for(let ct=0;ct<this.observers.length;ct++)this.sendOne(ct,Ze)}sendOne(Ze,ct){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ze])try{ct(this.observers[Ze])}catch(st){typeof console<"u"&&console.error&&console.error(st)}})}close(Ze){this.finalized||(this.finalized=!0,void 0!==Ze&&(this.finalError=Ze),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dt(){}const Wt=1e3,Sn=2,nn=144e5,Dt=.5;function mt(Ye,Ze=Wt,ct=Sn){const st=Ze*Math.pow(ct,Ye),ut=Math.round(Dt*st*(Math.random()-.5)*2);return Math.min(nn,st+ut)}function Pe(Ye){return Ye&&Ye._delegate?Ye._delegate:Ye}},3452:(Bn,tt,S)=>{"use strict";S.d(tt,{m:()=>Ae});var c=S(6814),t=S(1476),b=S(7700),w=S(2939),E=S(5313),F=S(2032),L=S(4170),D=S(3566),p=S(5986),f=S(5940),g=S(2596),y=S(3680),M=S(8525),U=S(8034),R=S(5879);let fe=(()=>{class pe{static#e=this.\u0275fac=function(we){return new(we||pe)};static#t=this.\u0275mod=R.oAB({type:pe});static#n=this.\u0275inj=R.cJS({imports:[y.BQ,c.ez,y.BQ]})}return pe})(),Re=(()=>{class pe{static#e=this.\u0275fac=function(we){return new(we||pe)};static#t=this.\u0275mod=R.oAB({type:pe});static#n=this.\u0275inj=R.cJS({imports:[c.ez,t.TU,b.Is,w.ZX,E.p0,F.c,L.lN,D.JX,p.p9,f.Cq,g.AV,y.Ng,M.LD,U.FA,y.XK,fe,t.TU,b.Is,w.ZX,E.p0,F.c,L.lN,D.JX,p.p9,f.Cq,g.AV,y.Ng,M.LD,U.FA,y.XK,fe]})}return pe})(),Ae=(()=>{class pe{static#e=this.\u0275fac=function(we){return new(we||pe)};static#t=this.\u0275mod=R.oAB({type:pe});static#n=this.\u0275inj=R.cJS({imports:[c.ez,Re,c.ez,Re]})}return pe})()},1039:(Bn,tt,S)=>{"use strict";var c=S(6593),t=S(5879),b=S(2096),w=S(2459),E=S(5592),F=S(6328),L=S(2181),D=S(7398),p=S(4716),f=S(4664),g=S(6814);class y{}class M{}class U{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),d=o.toLowerCase(),m=e.slice(i+1).trim();this.maybeSetNormalizedName(o,d),this.headers.has(d)?this.headers.get(d).push(m):this.headers.set(d,[m])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof U?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new U;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof U?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const d=n.value;if(d){let m=this.headers.get(e);if(!m)return;m=m.filter(v=>-1===d.indexOf(v)),0===m.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,m)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const i=(Array.isArray(e)?e:[e]).map(d=>d.toString()),o=n.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class V{encodeKey(n){return P(n)}encodeValue(n){return P(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const O=/%(\d[a-f0-9])/gi,x={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function P(r){return encodeURIComponent(r).replace(O,(n,e)=>x[e]??n)}function T(r){return`${r}`}class N{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new V,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function k(r,n){const e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(o=>{const d=o.indexOf("="),[m,v]=-1==d?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,d)),n.decodeValue(o.slice(d+1))],I=e.get(m)||[];I.push(v),e.set(m,I)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e],o=Array.isArray(i)?i.map(T):[T(i)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const o=n[i];Array.isArray(o)?o.forEach(d=>{e.push({param:i,value:d,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new N({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(T(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const o=i.indexOf(T(n.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class B{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function q(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function le(r){return typeof Blob<"u"&&r instanceof Blob}function Fe(r){return typeof FormData<"u"&&r instanceof FormData}class ae{constructor(n,e,i,o){let d;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function Y(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,d=o):d=i,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new U),this.context||(this.context=new B),this.params){const m=this.params.toString();if(0===m.length)this.urlWithParams=e;else{const v=e.indexOf("?");this.urlWithParams=e+(-1===v?"?":v<e.length-1?"&":"")+m}}else this.params=new N,this.urlWithParams=e}serializeBody(){return null===this.body?null:q(this.body)||le(this.body)||Fe(this.body)||function $(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof N?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Fe(this.body)?null:le(this.body)?this.body.type||null:q(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof N?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,i=n.url||this.url,o=n.responseType||this.responseType,d=void 0!==n.body?n.body:this.body,m=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,v=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let I=n.headers||this.headers,j=n.params||this.params;const te=n.context??this.context;return void 0!==n.setHeaders&&(I=Object.keys(n.setHeaders).reduce((me,We)=>me.set(We,n.setHeaders[We]),I)),n.setParams&&(j=Object.keys(n.setParams).reduce((me,We)=>me.set(We,n.setParams[We]),j)),new ae(e,i,d,{params:j,headers:I,context:te,reportProgress:v,responseType:o,withCredentials:m})}}var K=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(K||{});class ge{constructor(n,e=200,i="OK"){this.headers=n.headers||new U,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class oe extends ge{constructor(n={}){super(n),this.type=K.ResponseHeader}clone(n={}){return new oe({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class he extends ge{constructor(n={}){super(n),this.type=K.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new he({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Ce extends ge{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Le(r,n){return{body:n,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let fe=(()=>{class r{constructor(e){this.handler=e}request(e,i,o={}){let d;if(e instanceof ae)d=e;else{let I,j;I=o.headers instanceof U?o.headers:new U(o.headers),o.params&&(j=o.params instanceof N?o.params:new N({fromObject:o.params})),d=new ae(e,i,void 0!==o.body?o.body:null,{headers:I,context:o.context,params:j,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const m=(0,b.of)(d).pipe((0,F.b)(I=>this.handler.handle(I)));if(e instanceof ae||"events"===o.observe)return m;const v=m.pipe((0,L.h)(I=>I instanceof he));switch(o.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return v.pipe((0,D.U)(I=>{if(null!==I.body&&!(I.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return I.body}));case"blob":return v.pipe((0,D.U)(I=>{if(null!==I.body&&!(I.body instanceof Blob))throw new Error("Response is not a Blob.");return I.body}));case"text":return v.pipe((0,D.U)(I=>{if(null!==I.body&&"string"!=typeof I.body)throw new Error("Response is not a string.");return I.body}));default:return v.pipe((0,D.U)(I=>I.body))}case"response":return v;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new N).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,Le(o,i))}post(e,i,o={}){return this.request("POST",e,Le(o,i))}put(e,i,o={}){return this.request("PUT",e,Le(o,i))}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(y))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();function at(r,n){return n(r)}function Je(r,n){return(e,i)=>n.intercept(e,{handle:o=>r(o,i)})}const Te=new t.OlP(""),W=new t.OlP(""),se=new t.OlP("");function _e(){let r=null;return(n,e)=>{null===r&&(r=((0,t.f3M)(Te,{optional:!0})??[]).reduceRight(Je,at));const i=(0,t.f3M)(t.HDt),o=i.add();return r(n,e).pipe((0,p.x)(()=>i.remove(o)))}}let J=(()=>{class r extends y{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=(0,t.f3M)(t.HDt)}handle(e){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(W),...this.injector.get(se,[])]));this.chain=o.reduceRight((d,m)=>function Ne(r,n,e){return(i,o)=>e.runInContext(()=>n(i,d=>r(d,o)))}(d,m,this.injector),at)}const i=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe((0,p.x)(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(M),t.LFG(t.lqb))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const Ve=/^\)\]\}',?\n/;let dt=(()=>{class r{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new t.vHH(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,w.D)(i.\u0275loadImpl()):(0,b.of)(null)).pipe((0,f.w)(()=>new E.y(d=>{const m=i.build();if(m.open(e.method,e.urlWithParams),e.withCredentials&&(m.withCredentials=!0),e.headers.forEach((Ct,Ot)=>m.setRequestHeader(Ct,Ot.join(","))),e.headers.has("Accept")||m.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Ct=e.detectContentTypeHeader();null!==Ct&&m.setRequestHeader("Content-Type",Ct)}if(e.responseType){const Ct=e.responseType.toLowerCase();m.responseType="json"!==Ct?Ct:"text"}const v=e.serializeBody();let I=null;const j=()=>{if(null!==I)return I;const Ct=m.statusText||"OK",Ot=new U(m.getAllResponseHeaders()),Zt=function lt(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(m)||e.url;return I=new oe({headers:Ot,status:m.status,statusText:Ct,url:Zt}),I},te=()=>{let{headers:Ct,status:Ot,statusText:Zt,url:dn}=j(),sn=null;204!==Ot&&(sn=typeof m.response>"u"?m.responseText:m.response),0===Ot&&(Ot=sn?200:0);let yn=Ot>=200&&Ot<300;if("json"===e.responseType&&"string"==typeof sn){const Cn=sn;sn=sn.replace(Ve,"");try{sn=""!==sn?JSON.parse(sn):null}catch(Un){sn=Cn,yn&&(yn=!1,sn={error:Un,text:sn})}}yn?(d.next(new he({body:sn,headers:Ct,status:Ot,statusText:Zt,url:dn||void 0})),d.complete()):d.error(new Ce({error:sn,headers:Ct,status:Ot,statusText:Zt,url:dn||void 0}))},me=Ct=>{const{url:Ot}=j(),Zt=new Ce({error:Ct,status:m.status||0,statusText:m.statusText||"Unknown Error",url:Ot||void 0});d.error(Zt)};let We=!1;const et=Ct=>{We||(d.next(j()),We=!0);let Ot={type:K.DownloadProgress,loaded:Ct.loaded};Ct.lengthComputable&&(Ot.total=Ct.total),"text"===e.responseType&&m.responseText&&(Ot.partialText=m.responseText),d.next(Ot)},pt=Ct=>{let Ot={type:K.UploadProgress,loaded:Ct.loaded};Ct.lengthComputable&&(Ot.total=Ct.total),d.next(Ot)};return m.addEventListener("load",te),m.addEventListener("error",me),m.addEventListener("timeout",me),m.addEventListener("abort",me),e.reportProgress&&(m.addEventListener("progress",et),null!==v&&m.upload&&m.upload.addEventListener("progress",pt)),m.send(v),d.next({type:K.Sent}),()=>{m.removeEventListener("error",me),m.removeEventListener("abort",me),m.removeEventListener("load",te),m.removeEventListener("timeout",me),e.reportProgress&&(m.removeEventListener("progress",et),null!==v&&m.upload&&m.upload.removeEventListener("progress",pt)),m.readyState!==m.DONE&&m.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(g.JF))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const it=new t.OlP("XSRF_ENABLED"),Ut=new t.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ht=new t.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class en{}let ln=(()=>{class r{constructor(e,i,o){this.doc=e,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,g.Mx)(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(g.K0),t.LFG(t.Lbi),t.LFG(Ut))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();function cn(r,n){const e=r.url.toLowerCase();if(!(0,t.f3M)(it)||"GET"===r.method||"HEAD"===r.method||e.startsWith("http://")||e.startsWith("https://"))return n(r);const i=(0,t.f3M)(en).getToken(),o=(0,t.f3M)(Ht);return null!=i&&!r.headers.has(o)&&(r=r.clone({headers:r.headers.set(o,i)})),n(r)}var Sn=function(r){return r[r.Interceptors=0]="Interceptors",r[r.LegacyInterceptors=1]="LegacyInterceptors",r[r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",r[r.NoXsrfProtection=3]="NoXsrfProtection",r[r.JsonpSupport=4]="JsonpSupport",r[r.RequestsMadeViaParent=5]="RequestsMadeViaParent",r[r.Fetch=6]="Fetch",r}(Sn||{});function Dt(...r){const n=[fe,dt,J,{provide:y,useExisting:J},{provide:M,useExisting:dt},{provide:W,useValue:cn,multi:!0},{provide:it,useValue:!0},{provide:en,useClass:ln}];for(const e of r)n.push(...e.\u0275providers);return(0,t.MR2)(n)}const Qe=new t.OlP("LEGACY_INTERCEPTOR_FN");function De(){return function nn(r,n){return{\u0275kind:r,\u0275providers:n}}(Sn.LegacyInterceptors,[{provide:Qe,useFactory:_e},{provide:W,useExisting:Qe,multi:!0}])}let kt=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({providers:[Dt(De())]})}return r})();var Gn=S(5612);class fi{}var _n=function(r){return r[r.MediaServerState=1]="MediaServerState",r[r.MediaType=2]="MediaType",r[r.VideoTransmissionType=3]="VideoTransmissionType",r[r.TranscoderPreset=4]="TranscoderPreset",r[r.IconTypes=5]="IconTypes",r[r.LinkedAccountProvider=6]="LinkedAccountProvider",r}(_n||{}),St=function(r){return r[r.Movie=1]="Movie",r[r.TvSerie=2]="TvSerie",r[r.Music=3]="Music",r[r.Photo=4]="Photo",r[r.Other=5]="Other",r}(St||{}),ft=function(r){return r[r.None=1]="None",r[r.MPEGDASH=2]="MPEGDASH",r[r.HLS=3]="HLS",r}(ft||{}),Xe=function(r){return r[r.GET=0]="GET",r[r.POST=1]="POST",r[r.PUT=2]="PUT",r[r.DELETE=3]="DELETE",r}(Xe||{}),Pt=function(r){return r[r.Empty=0]="Empty",r[r.Generated=1]="Generated",r[r.Initialized=2]="Initialized",r[r.LoadedMetada=3]="LoadedMetada",r[r.LoadedData=4]="LoadedData",r}(Pt||{}),Qt=function(r){return r[r.SinovadDb=1]="SinovadDb",r[r.TMDb=2]="TMDb",r[r.IMDb=3]="IMDb",r}(Qt||{}),wn=function(r){return r[r.Google=1]="Google",r[r.Facebook=2]="Facebook",r[r.Apple=3]="Apple",r}(wn||{}),Fn=function(r){return r[r.Ok=1]="Ok",r[r.Plus=2]="Plus",r[r.Bin=3]="Bin",r[r.Bullhorn=4]="Bullhorn",r[r.Tags=5]="Tags",r}(Fn||{});let Gt=(()=>{class r{constructor(){this.showSplashScreen=!0,this.urlSinovadStreamWebApi="https://streamapi.sinovad.com",this.urlSinovadCdn="https://resources.sinovad.com/stream/web",this.originalUrlImagesMovieDataBase="https://image.tmdb.org/t/p/w600_and_h900_bestv2",this.urlEpisodeDataBase="https://www.themoviedb.org/t/p/w454_and_h254_bestv2",this.listProcessGUIDs=[],this.configurationData=new fi,this.listProfiles=[],this.manageMenus=[],this.pageNotFoundShowing=!1,this.mediaServers=[],this.libraries=[],this.linkedAccounts=[]}checkIfIsEnableMenuOptionByPath(e){var i=!1;for(let o=0;o<this.manageMenus.length;o++){const d=this.manageMenus[o];if(d.ChildMenus&&-1!=d.ChildMenus.findIndex(m=>m.Path&&m.Path.includes(e))){i=!0;break}}return i}formatDate(e){const i=new Date(e);let o=""+(i.getMonth()+1),d=""+i.getDate();const m=i.getFullYear();return o.length<2&&(o="0"+o),d.length<2&&(d="0"+d),[m,o,d].join("-")}getInitials(e){return e.FullName.substring(0,1)}delay(e){return new Promise(i=>setTimeout(i,e))}hasRequireErrorFormControl(e,i){return!!e.controls[i].errors.required}isInvalidFormControl(e,i){return!(!e.controls[i].invalid||!e.controls[i].dirty&&!e.controls[i].touched)}hasErrorPatternFormControl(e,i){return!!e.controls[i].errors.pattern}isSmallDevice(){return window.innerWidth<=768}isMobileDevice(){return"ontouchstart"in window}getUrlByItemDetailMovieDataBase(e){return e.MediaItem.MetadataAgentsId==Qt.TMDb?this.originalUrlImagesMovieDataBase+e.MediaItem.PosterPath:e.MediaItem.PosterPath?e.MediaItem.PosterPath:"assets/img/no-image-available.jpg"}getUrlByItemMovieDataBase(e){return e.MetadataAgentsId==Qt.TMDb?this.originalUrlImagesMovieDataBase+e.PosterPath:e.PosterPath?e.PosterPath:"assets/img/no-image-available.jpg"}getYearByDateFormat(e){return new Date(e).getFullYear()}sort_by(e,i,o){let d=o?m=>o(m[e]):m=>m[e];return i=i?-1:1,(m,v)=>(m=d(m),v=d(v),i*(+(m>v)-+(v>m)))}validateEmailFormat(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}isHttpsSite(){return!!window.location.origin.startsWith("https")}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Kt=(()=>{class r{constructor(e,i){this.domSanitizer=e,this.sharedService=i}transform(e,...i){return new Promise((o,d)=>{let v;switch(null!=i[0]?i[0]:""){case"GetIconURLByKey":null!=e&&""!=e&&(v=this.sharedService.configurationData.developerMode?"assets/icon/"+e:this.sharedService.urlSinovadCdn+"/assets/icon/"+e,o(v));break;case"GetAvatarImageURLByProfileId":null!=e&&""!=e&&fetch(this.sharedService.urlSinovadStreamWebApi+"/api/v1/documents/GetAvatarProfile/"+e).then(j=>j.blob()).then(j=>{v=this.domSanitizer.bypassSecurityTrustUrl(URL.createObjectURL(j)),o(v)});break;case"GetSoundUrlByKey":null!=e&&""!=e&&(v=this.sharedService.configurationData.developerMode?"assets/sound/"+e:this.sharedService.urlSinovadCdn+"/assets/sound/"+e,o(v))}})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(c.H7,16),t.Y36(Gt,16))};static#t=this.\u0275pipe=t.Yjl({name:"formatDataPipe",type:r,pure:!0})}return r})(),rn=(()=>{class r{constructor(e,i){this.router=e,this.sharedService=i}ngOnInit(){this.sharedService.pageNotFoundShowing=!0}goInitialPage(){this.router.navigateByUrl(null!=this.sharedService.apiToken?"/home":"/landing").then(i=>{this.sharedService.pageNotFoundShowing=!1},i=>{console.error(i)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Gn.F0),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-not-found"]],decls:12,vars:6,consts:[[1,"d-flex","align-items-center","justify-content-center","vh-100"],[1,"sinovad-page-not-found-content","text-center"],[1,"sinovad-logo-container"],[3,"src"],[1,"fs-3"],[1,"lead"],[1,"btn","btn-primary",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"p",4),t._uU(7,"No encontramos la p\xe1gina que esta buscando"),t.qZA(),t.TgZ(8,"p",5),t._uU(9," Has click en el siguiente boton para ir a la p\xe1gina de inicio de Sinovad Stream "),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return o.goInitialPage()}),t._uU(11,"Inicio"),t.qZA()()()),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))},dependencies:[g.Ov,Kt],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black;color:#fff}.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:100px;padding:10px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:350px}@media only screen and (max-width: 767px){.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:unset}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}}"]})}return r})();var En=S(4440),Ln=S.n(En);class Xn{}let vt=(()=>{class r{constructor(e,i){this.http=e,this.sharedService=i}performExecuteMethod(e,i,o){return new Promise((d,m)=>{try{let v={responseType:"text"};if(this.sharedService.apiToken){const j=new U({"Content-Type":"application/json",Authorization:"Bearer "+this.sharedService.apiToken});v.headers=j}e==Xe.GET&&this.http.get(i,v).subscribe(I=>{d(I)},I=>{m(I)}),e==Xe.POST&&this.http.post(i,o,v).subscribe(I=>{d(I)},I=>{m(I)}),e==Xe.PUT&&this.http.put(i,o,v).subscribe(I=>{d(I)},I=>{m(I)}),e==Xe.DELETE&&this.http.delete(i,v).subscribe(I=>{d(I)},I=>{m(I)})}catch(v){m(v)}})}executeSinovadApiService(e,i,o){let d=this.sharedService.urlSinovadStreamWebApi+"/api/v1"+i;return new Promise((m,v)=>{try{this.performExecuteMethod(e,d,o).then(I=>{m(JSON.parse(I))},I=>{let j=I;if(null!=I.error){j=I.error;try{var te=JSON.parse(j);if(te.errors){let We=te.errors,et=[];Object.keys(We).map(pt=>{var Ct=We[pt].join("\n");et.push(Ct)}),j=et.join("\n")}else te.Errors?j=te.Errors.map(We=>We.ErrorMessage).join("\n"):te.Message&&(j=te.Message)}catch{}}401==I.status&&this.sharedService.apiToken&&(this.sharedService.apiToken=void 0,localStorage.removeItem("apiToken"),window.location.href="/"),console.error(j),v(j)})}catch(I){v(I)}})}executeHttpMediaServerApi(e,i,o){return new Promise((d,m)=>{try{this.performExecuteMethod(e,i,o).then(v=>{try{d(JSON.parse(v))}catch(I){m(I)}},v=>{m(v)})}catch(v){m(v)}})}executeHttpMethodByUrl(e,i,o){return new Promise((d,m)=>{this.performExecuteMethod(e,i,o).then(v=>{d(v)},v=>{m(v)})})}executeHttpPostMethodWithFormData(e,i){let o=this.sharedService.urlSinovadStreamWebApi+"/api/v1"+e;return new Promise((d,m)=>{let v={responseType:"text"};if(this.sharedService.apiToken){const j=new U({Accept:"*/*",Authorization:"Bearer "+this.sharedService.apiToken});v.headers=j}this.http.post(o,i,v).subscribe(I=>{d(I)},I=>{m(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(fe),t.LFG(Gt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function un(r,n){if(1&r&&(t.TgZ(0,"h2",9),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.errorMessage)}}function be(r,n){1&r&&(t.TgZ(0,"h2"),t._uU(1,"Su correo ha sido confirmado, ya puede iniciar sesi\xf3n"),t.qZA())}let yt=(()=>{class r{constructor(e,i,o){this.router=e,this.activeRoute=i,this.restProvider=o,this._window=window,this.showLoading=!1,this.showInvalidTokenMessage=!1,this.showSuccessMessage=!1}ngOnInit(){let e=this.activeRoute.snapshot.params.base64Data;if(null!=e)try{let d=Ln().decode(e);var i=JSON.parse(d);if(i.ConfirmEmailToken){this.showLoading=!0;var o=new Xn;o.ConfirmEmailToken=i.ConfirmEmailToken,o.UserId=i.UserId,this.restProvider.executeSinovadApiService(Xe.POST,"/users/ValidateConfirmEmailToken",o).then(m=>{this.showLoading=!1,this.showSuccessMessage=!0},m=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=m,console.error(m)})}else this.router.navigate(["home"],{skipLocationChange:!1})}catch{this.router.navigate(["home"],{skipLocationChange:!1})}else this.router.navigate(["home"],{skipLocationChange:!1})}onClose(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Gn.F0),t.Y36(Gn.gz),t.Y36(vt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-confirm-email"]],decls:16,vars:14,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[3,"ngIf"],[1,"error"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),t._UZ(9,"img",2),t.ALo(10,"async"),t.ALo(11,"formatDataPipe"),t.qZA(),t.TgZ(12,"div",7),t._uU(13," Confirmaci\xf3n de Email "),t.qZA(),t.YNc(14,un,2,1,"ng-template",8),t.YNc(15,be,2,0,"ng-template",8),t.qZA()()()),2&i&&(t.xp6(2),t.Q6J("src",t.lcZ(3,4,t.xi3(4,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("src",t.lcZ(10,9,t.xi3(11,11,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",o.showInvalidTokenMessage),t.xp6(1),t.Q6J("ngIf",o.showSuccessMessage))},dependencies:[g.O5,g.Ov,Kt],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}"]})}return r})();const gt=(r,n)=>{const e=(0,t.f3M)(Gn.F0);return null==localStorage.getItem("apiToken")||e.navigateByUrl("/home")};var rt=S(95);class hn{}class ti{}function ar(r,n){1&r&&(t.TgZ(0,"div")(1,"div")(2,"div",1)(3,"div",2)(4,"div",3),t._UZ(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div")(13,"div")(14,"div")(15,"div")(16,"div"),t.qZA()()()()())}let $i=(()=>{class r{constructor(e,i){this.ref=e,this.viewContainerRef=i,this.showLoading=!1}ngOnInit(){}ngAfterViewInit(){}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.sBO),t.Y36(t.s_b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-spinner"]],inputs:{showLoading:"showLoading"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"spinner-container"],[1,"sinovad-spinner-container"],[1,"lds-spinner"]],template:function(i,o){1&i&&t.YNc(0,ar,17,0,"div",0),2&i&&t.Q6J("ngIf",o.showLoading)},dependencies:[g.O5],styles:['.spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;z-index:999;justify-content:center;background:rgba(0,0,0,.5)}.lds-spinner[_ngcontent-%COMP%]{color:official;display:inline-block;position:relative;width:80px;height:80px}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transform-origin:40px 40px;animation:_ngcontent-%COMP%_lds-spinner 1.2s linear infinite}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;top:3px;left:37px;width:6px;height:18px;border-radius:20%;background:#fff}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0);animation-delay:-1.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg);animation-delay:-1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg);animation-delay:0s}@keyframes _ngcontent-%COMP%_lds-spinner{0%{opacity:1}to{opacity:0}}']})}return r})();function Tr(r,n){1&r&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function hr(r,n){1&r&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const yo=function(r){return{disable:r}};function Co(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirm())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Cambiar contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Contrase\xf1a "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,Tr,3,0,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"label",13),t._uU(16," Confirmaci\xf3n de contrase\xf1a "),t.qZA(),t.TgZ(17,"div",14),t._UZ(18,"input",17),t.YNc(19,hr,3,0,"label",16),t.qZA()(),t.TgZ(20,"div",12)(21,"button",18),t._uU(22,"Confirmar"),t.qZA()(),t.TgZ(23,"div",19),t._uU(24),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.resetPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,6,t.xi3(5,8,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.resetPasswordForm,"password")&&e.sharedService.hasRequireErrorFormControl(e.resetPasswordForm,"password")),t.xp6(6),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.resetPasswordForm,"confirmPassword")&&e.sharedService.hasRequireErrorFormControl(e.resetPasswordForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(11,yo,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function uo(r,n){1&r&&(t.TgZ(0,"div",11),t._uU(1," Cambio de contrase\xf1a "),t.qZA(),t.TgZ(2,"h2"),t._uU(3,"Se cambi\xf3 la contrase\xf1a satisfactoriamente"),t.qZA())}function Wo(r,n){1&r&&(t.TgZ(0,"div",11),t._uU(1," Validaci\xf3n de Token "),t.qZA(),t.TgZ(2,"h2",25),t._uU(3,"Token inv\xe1lido"),t.qZA())}function Ii(r,n){if(1&r&&(t.TgZ(0,"div",22)(1,"div",23)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.YNc(6,uo,4,0,"ng-template",24),t.YNc(7,Wo,4,0,"ng-template",24),t.qZA()()),2&r){const e=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngIf",e.showResetPasswordSuccessMessage),t.xp6(1),t.Q6J("ngIf",e.showInvalidTokenMessage)}}let gr=(()=>{class r{constructor(e,i,o,d,m){this.formBuilder=e,this.router=i,this.activeRoute=o,this.restProvider=d,this.sharedService=m,this._window=window,this.showLoading=!1,this.resetPasswordModel=new hn,this.showResetPasswordForm=!1,this.showInvalidTokenMessage=!1,this.showResetPasswordSuccessMessage=!1,this.resetPasswordForm=this.formBuilder.group({password:new rt.NI("",[rt.kI.required]),confirmPassword:new rt.NI("",[rt.kI.required])})}ngOnInit(){let e=this.activeRoute.snapshot.params.base64Data;if(null!=e)try{let d=Ln().decode(e);var i=JSON.parse(d);if(this.resetPasswordToken=i.ResetPasswordToken,this.userId=i.UserId,null!=this.resetPasswordToken&&null!=this.userId){this.showLoading=!0;var o=new ti;o.ResetPasswordToken=this.resetPasswordToken,o.UserId=this.userId,this.restProvider.executeSinovadApiService(Xe.POST,"/users/ValidateResetPasswordToken",o).then(m=>{this.showResetPasswordForm=!0,this.showLoading=!1},m=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=m,console.error(m)})}else this.showInvalidTokenMessage=!0}catch{this.showInvalidTokenMessage=!0}else this.router.navigate(["home"],{skipLocationChange:!1})}confirm(){this.resetPasswordForm.valid?(this.showLoading=!0,this.resetPasswordModel={ResetPasswordToken:this.resetPasswordToken,UserId:this.userId,Password:this.resetPasswordForm.value.password,ConfirmPassword:this.resetPasswordForm.value.confirmPassword},this.restProvider.executeSinovadApiService(Xe.POST,"/users/ResetPassword",this.resetPasswordModel).then(e=>{this.showResetPasswordSuccessMessage=!0,this.showResetPasswordForm=!1,this.showLoading=!1},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.resetPasswordForm.markAllAsTouched())}onClickCloseButton(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(rt.qu),t.Y36(Gn.F0),t.Y36(Gn.gz),t.Y36(vt),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-reset-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","password","formControlName","password"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","password","formControlName","confirmPassword"],["type","submit",1,"confirm",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[3,"ngIf"],[1,"error"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClickCloseButton()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,Co,25,13,"div",5),t.YNc(8,Ii,8,8,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",o.showResetPasswordForm),t.xp6(1),t.Q6J("ngIf",!o.showResetPasswordForm&&(o.showInvalidTokenMessage||o.showResetPasswordSuccessMessage)),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,rt._Y,rt.Fj,rt.JJ,rt.JL,$i,rt.sg,rt.u,g.Ov,Kt],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.confirm[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();class tr{}function to(r,n){if(1&r&&(t.TgZ(0,"label",19),t._UZ(1,"i",20),t._uU(2),t.qZA()),2&r){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.sharedService.hasRequireErrorFormControl(e.recoverPasswordForm,"email")?"Confirma que hayas agregado el email correctamente":e.sharedService.hasErrorPatternFormControl(e.recoverPasswordForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}const _r=function(r){return{disable:r}};function zo(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.SendRecoverPasswordEmail())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Olvido su contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,to,3,1,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"button",17),t._uU(16,"Recuperar contrase\xf1a"),t.qZA()(),t.TgZ(17,"div",18),t._uU(18),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.recoverPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,5,t.xi3(5,7,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.recoverPasswordForm,"email")),t.xp6(2),t.Q6J("ngClass",t.VKq(10,_r,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function Do(r,n){1&r&&(t.TgZ(0,"div",21)(1,"div",22)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Confirmaci\xf3n de olvido de contrase\xf1a "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Por favor verifique su email para recuperar su contrase\xf1a"),t.qZA()()()),2&r&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))}let jr=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.router=i,this.restProvider=o,this.sharedService=d,this._window=window,this.showLoading=!1,this.recoverPasswordModel=new tr,this.sendedConfirmationEmail=!1,this.recoverPasswordForm=this.formBuilder.group({email:new rt.NI("",[rt.kI.required,rt.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")])})}SendRecoverPasswordEmail(){this.recoverPasswordForm.valid?(this.recoverPasswordModel={Email:this.recoverPasswordForm.value.email,ResetPasswordUrl:window.location.origin+"/reset"},this.showLoading=!0,this.restProvider.executeSinovadApiService(Xe.POST,"/users/RecoverPassword",this.recoverPasswordModel).then(e=>{this.sendedConfirmationEmail=!0,this.showLoading=!1},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.recoverPasswordForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(rt.qu),t.Y36(Gn.F0),t.Y36(vt),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-recover-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","submit",1,"recover",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,zo,19,12,"div",5),t.YNc(8,Do,10,6,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",!o.sendedConfirmationEmail),t.xp6(1),t.Q6J("ngIf",o.sendedConfirmationEmail),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,rt._Y,rt.Fj,rt.JJ,rt.JL,$i,rt.sg,rt.u,g.Ov,Kt],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.recover[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();class Kr{}class Vr{isErrorState(n,e){return!!(n&&n.invalid&&(n.dirty||n.touched||e&&e.submitted))}}class lr{}var oi,Pi=new Uint8Array(16);function qi(){if(!oi&&!(oi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oi(Pi)}const Nr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Ji=[],qt=0;qt<256;++qt)Ji.push((qt+256).toString(16).substr(1));const Qn=function Pn(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(Ji[r[n+0]]+Ji[r[n+1]]+Ji[r[n+2]]+Ji[r[n+3]]+"-"+Ji[r[n+4]]+Ji[r[n+5]]+"-"+Ji[r[n+6]]+Ji[r[n+7]]+"-"+Ji[r[n+8]]+Ji[r[n+9]]+"-"+Ji[r[n+10]]+Ji[r[n+11]]+Ji[r[n+12]]+Ji[r[n+13]]+Ji[r[n+14]]+Ji[r[n+15]]).toLowerCase();if(!function xo(r){return"string"==typeof r&&Nr.test(r)}(e))throw TypeError("Stringified UUID is invalid");return e},mi=function Kn(r,n,e){var i=(r=r||{}).random||(r.rng||qi)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){e=e||0;for(var o=0;o<16;++o)n[e+o]=i[o];return n}return Qn(i)};var gi=S(8645);let Oi=(()=>{class r{constructor(e,i){this.sharedService=e,this.restProvider=i,this.completedLoadUserManageMenu$=new gi.x,this.loadedManageMenu=!1}completeLoadUserManageMenu(){this.completedLoadUserManageMenu$.next(!0)}isCompletedLoadUserManageMenu(){return this.completedLoadUserManageMenu$.asObservable()}getManageMenu(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/menus/GetByUserAsync/"+this.sharedService.userData.Id).then(o=>{this.sharedService.manageMenus=o.Data,this.completeLoadUserManageMenu(),this.loadedManageMenu=!0,e(!0)},o=>{i(o)})})}getAllMenus(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/menus/GetAllAsync").then(d=>{e(d)},d=>{console.error(d),i(d)})})}getItems(e,i,o,d,m,v){return new Promise((I,j)=>{let te=mi();this.lastCallGuid=te;var me="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+v;this.restProvider.executeSinovadApiService(Xe.GET,"/menus/GetAllWithPaginationAsync"+me).then(et=>{this.lastCallGuid==te&&I(et)},et=>{console.error(et),j(et)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/menus/Update":"/menus/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/menus/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/menus/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Gt),t.LFG(vt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const wi=[0,2e3,1e4,3e4,null];class fr{constructor(n){this._retryDelays=void 0!==n?[...n,null]:wi}nextRetryDelayInMilliseconds(n){return this._retryDelays[n.previousRetryCount]}}var Di=S(5861);let Gr=(()=>{class r{}return r.Authorization="Authorization",r.Cookie="Cookie",r})();class ro{constructor(n,e,i){this.statusCode=n,this.statusText=e,this.content=i}}class Po{get(n,e){return this.send({...e,method:"GET",url:n})}post(n,e){return this.send({...e,method:"POST",url:n})}delete(n,e){return this.send({...e,method:"DELETE",url:n})}getCookieString(n){return""}}class kr extends Po{constructor(n,e){super(),this._innerClient=n,this._accessTokenFactory=e}send(n){var e=this;return(0,Di.Z)(function*(){let i=!0;e._accessTokenFactory&&(!e._accessToken||n.url&&n.url.indexOf("/negotiate?")>0)&&(i=!1,e._accessToken=yield e._accessTokenFactory()),e._setAuthorizationHeader(n);const o=yield e._innerClient.send(n);return i&&401===o.statusCode&&e._accessTokenFactory?(e._accessToken=yield e._accessTokenFactory(),e._setAuthorizationHeader(n),yield e._innerClient.send(n)):o})()}_setAuthorizationHeader(n){n.headers||(n.headers={}),this._accessToken?n.headers[Gr.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&n.headers[Gr.Authorization]&&delete n.headers[Gr.Authorization]}getCookieString(n){return this._innerClient.getCookieString(n)}}class xr extends Error{constructor(n,e){const i=new.target.prototype;super(`${n}: Status code '${e}'`),this.statusCode=e,this.__proto__=i}}class Mo extends Error{constructor(n="A timeout occurred."){const e=new.target.prototype;super(n),this.__proto__=e}}class Lr extends Error{constructor(n="An abort occurred."){const e=new.target.prototype;super(n),this.__proto__=e}}class Gi extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.transport=e,this.errorType="UnsupportedTransportError",this.__proto__=i}}class aa extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.transport=e,this.errorType="DisabledTransportError",this.__proto__=i}}class Oo extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.transport=e,this.errorType="FailedToStartTransportError",this.__proto__=i}}class vs extends Error{constructor(n){const e=new.target.prototype;super(n),this.errorType="FailedToNegotiateWithServerError",this.__proto__=e}}class no extends Error{constructor(n,e){const i=new.target.prototype;super(n),this.innerErrors=e,this.__proto__=i}}var jn=function(r){return r[r.Trace=0]="Trace",r[r.Debug=1]="Debug",r[r.Information=2]="Information",r[r.Warning=3]="Warning",r[r.Error=4]="Error",r[r.Critical=5]="Critical",r[r.None=6]="None",r}(jn||{});class bo{constructor(){}log(n,e){}}bo.instance=new bo;const ss="7.0.10";class Li{static isRequired(n,e){if(null==n)throw new Error(`The '${e}' argument is required.`)}static isNotEmpty(n,e){if(!n||n.match(/^\s*$/))throw new Error(`The '${e}' argument should not be empty.`)}static isIn(n,e,i){if(!(n in e))throw new Error(`Unknown ${i} value: ${n}.`)}}class Mr{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&typeof window.document>"u"}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function Cr(r,n){let e="";return Uo(r)?(e=`Binary data of length ${r.byteLength}`,n&&(e+=`. Content: '${function mr(r){const n=new Uint8Array(r);let e="";return n.forEach(i=>{e+=`0x${i<16?"0":""}${i.toString(16)} `}),e.substr(0,e.length-1)}(r)}'`)):"string"==typeof r&&(e=`String data of length ${r.length}`,n&&(e+=`. Content: '${r}'`)),e}function Uo(r){return r&&typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||r.constructor&&"ArrayBuffer"===r.constructor.name)}function Yr(r,n,e,i,o,d){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,Di.Z)(function*(r,n,e,i,o,d){const m={},[v,I]=io();m[v]=I,r.log(jn.Trace,`(${n} transport) sending data. ${Cr(o,d.logMessageContent)}.`);const j=Uo(o)?"arraybuffer":"text",te=yield e.post(i,{content:o,headers:{...m,...d.headers},responseType:j,timeout:d.timeout,withCredentials:d.withCredentials});r.log(jn.Trace,`(${n} transport) request complete. Response status: ${te.statusCode}.`)})).apply(this,arguments)}class jo{constructor(n,e){this._subject=n,this._observer=e}dispose(){const n=this._subject.observers.indexOf(this._observer);n>-1&&this._subject.observers.splice(n,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(e=>{})}}class as{constructor(n){this._minLevel=n,this.out=console}log(n,e){if(n>=this._minLevel){const i=`[${(new Date).toISOString()}] ${jn[n]}: ${e}`;switch(n){case jn.Critical:case jn.Error:this.out.error(i);break;case jn.Warning:this.out.warn(i);break;case jn.Information:this.out.info(i);break;default:this.out.log(i)}}}}function io(){let r="X-SignalR-User-Agent";return Mr.isNode&&(r="User-Agent"),[r,Ws(ss,ws(),Mr.isNode?"NodeJS":"Browser",ls())]}function Ws(r,n,e,i){let o="Microsoft SignalR/";const d=r.split(".");return o+=`${d[0]}.${d[1]}`,o+=` (${r}; `,o+=n&&""!==n?`${n}; `:"Unknown OS; ",o+=`${e}`,o+=i?`; ${i}`:"; Unknown Runtime Version",o+=")",o}function ws(){if(!Mr.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function ls(){if(Mr.isNode)return process.versions.node}function zs(r){return r.stack?r.stack:r.message?r.message:`${r}`}class No extends Po{constructor(n){if(super(),this._logger=n,typeof fetch>"u"){const e=require;this._jar=new(e("tough-cookie").CookieJar),this._fetchType=e("node-fetch"),this._fetchType=e("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function Eo(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}());if(typeof AbortController>"u"){const e=require;this._abortControllerType=e("abort-controller")}else this._abortControllerType=AbortController}send(n){var e=this;return(0,Di.Z)(function*(){if(n.abortSignal&&n.abortSignal.aborted)throw new Lr;if(!n.method)throw new Error("No method defined.");if(!n.url)throw new Error("No url defined.");const i=new e._abortControllerType;let o;n.abortSignal&&(n.abortSignal.onabort=()=>{i.abort(),o=new Lr});let m,d=null;n.timeout&&(d=setTimeout(()=>{i.abort(),e._logger.log(jn.Warning,"Timeout from HTTP request."),o=new Mo},n.timeout)),""===n.content&&(n.content=void 0),n.content&&(n.headers=n.headers||{},n.headers["Content-Type"]=Uo(n.content)?"application/octet-stream":"text/plain;charset=UTF-8");try{m=yield e._fetchType(n.url,{body:n.content,cache:"no-cache",credentials:!0===n.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...n.headers},method:n.method,mode:"cors",redirect:"follow",signal:i.signal})}catch(j){throw o||(e._logger.log(jn.Warning,`Error from HTTP request. ${j}.`),j)}finally{d&&clearTimeout(d),n.abortSignal&&(n.abortSignal.onabort=null)}if(!m.ok){const j=yield Zo(m,"text");throw new xr(j||m.statusText,m.status)}const I=yield Zo(m,n.responseType);return new ro(m.status,m.statusText,I)})()}getCookieString(n){let e="";return Mr.isNode&&this._jar&&this._jar.getCookies(n,(i,o)=>e=o.join("; ")),e}}function Zo(r,n){let e;switch(n){case"arraybuffer":e=r.arrayBuffer();break;case"text":default:e=r.text();break;case"blob":case"document":case"json":throw new Error(`${n} is not supported.`)}return e}class Zs extends Po{constructor(n){super(),this._logger=n}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new Lr):n.method?n.url?new Promise((e,i)=>{const o=new XMLHttpRequest;o.open(n.method,n.url,!0),o.withCredentials=void 0===n.withCredentials||n.withCredentials,o.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===n.content&&(n.content=void 0),n.content&&(Uo(n.content)?o.setRequestHeader("Content-Type","application/octet-stream"):o.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const d=n.headers;d&&Object.keys(d).forEach(m=>{o.setRequestHeader(m,d[m])}),n.responseType&&(o.responseType=n.responseType),n.abortSignal&&(n.abortSignal.onabort=()=>{o.abort(),i(new Lr)}),n.timeout&&(o.timeout=n.timeout),o.onload=()=>{n.abortSignal&&(n.abortSignal.onabort=null),o.status>=200&&o.status<300?e(new ro(o.status,o.statusText,o.response||o.responseText)):i(new xr(o.response||o.responseText||o.statusText,o.status))},o.onerror=()=>{this._logger.log(jn.Warning,`Error from HTTP request. ${o.status}: ${o.statusText}.`),i(new xr(o.statusText,o.status))},o.ontimeout=()=>{this._logger.log(jn.Warning,"Timeout from HTTP request."),i(new Mo)},o.send(n.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class la extends Po{constructor(n){if(super(),typeof fetch<"u"||Mr.isNode)this._httpClient=new No(n);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");this._httpClient=new Zs(n)}}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new Lr):n.method?n.url?this._httpClient.send(n):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(n){return this._httpClient.getCookieString(n)}}var Ir=function(r){return r[r.None=0]="None",r[r.WebSockets=1]="WebSockets",r[r.ServerSentEvents=2]="ServerSentEvents",r[r.LongPolling=4]="LongPolling",r}(Ir||{}),Jr=function(r){return r[r.Text=1]="Text",r[r.Binary=2]="Binary",r}(Jr||{});class $s{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class $o{constructor(n,e,i){this._httpClient=n,this._logger=e,this._pollAbort=new $s,this._options=i,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(n,e){var i=this;return(0,Di.Z)(function*(){if(Li.isRequired(n,"url"),Li.isRequired(e,"transferFormat"),Li.isIn(e,Jr,"transferFormat"),i._url=n,i._logger.log(jn.Trace,"(LongPolling transport) Connecting."),e===Jr.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[o,d]=io(),m={[o]:d,...i._options.headers},v={abortSignal:i._pollAbort.signal,headers:m,timeout:1e5,withCredentials:i._options.withCredentials};e===Jr.Binary&&(v.responseType="arraybuffer");const I=`${n}&_=${Date.now()}`;i._logger.log(jn.Trace,`(LongPolling transport) polling: ${I}.`);const j=yield i._httpClient.get(I,v);200!==j.statusCode?(i._logger.log(jn.Error,`(LongPolling transport) Unexpected response code: ${j.statusCode}.`),i._closeError=new xr(j.statusText||"",j.statusCode),i._running=!1):i._running=!0,i._receiving=i._poll(i._url,v)})()}_poll(n,e){var i=this;return(0,Di.Z)(function*(){try{for(;i._running;)try{const o=`${n}&_=${Date.now()}`;i._logger.log(jn.Trace,`(LongPolling transport) polling: ${o}.`);const d=yield i._httpClient.get(o,e);204===d.statusCode?(i._logger.log(jn.Information,"(LongPolling transport) Poll terminated by server."),i._running=!1):200!==d.statusCode?(i._logger.log(jn.Error,`(LongPolling transport) Unexpected response code: ${d.statusCode}.`),i._closeError=new xr(d.statusText||"",d.statusCode),i._running=!1):d.content?(i._logger.log(jn.Trace,`(LongPolling transport) data received. ${Cr(d.content,i._options.logMessageContent)}.`),i.onreceive&&i.onreceive(d.content)):i._logger.log(jn.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(o){i._running?o instanceof Mo?i._logger.log(jn.Trace,"(LongPolling transport) Poll timed out, reissuing."):(i._closeError=o,i._running=!1):i._logger.log(jn.Trace,`(LongPolling transport) Poll errored after shutdown: ${o.message}`)}}finally{i._logger.log(jn.Trace,"(LongPolling transport) Polling complete."),i.pollAborted||i._raiseOnClose()}})()}send(n){var e=this;return(0,Di.Z)(function*(){return e._running?Yr(e._logger,"LongPolling",e._httpClient,e._url,n,e._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var n=this;return(0,Di.Z)(function*(){n._logger.log(jn.Trace,"(LongPolling transport) Stopping polling."),n._running=!1,n._pollAbort.abort();try{yield n._receiving,n._logger.log(jn.Trace,`(LongPolling transport) sending DELETE request to ${n._url}.`);const e={},[i,o]=io();e[i]=o;const d={headers:{...e,...n._options.headers},timeout:n._options.timeout,withCredentials:n._options.withCredentials};yield n._httpClient.delete(n._url,d),n._logger.log(jn.Trace,"(LongPolling transport) DELETE request sent.")}finally{n._logger.log(jn.Trace,"(LongPolling transport) Stop finished."),n._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let n="(LongPolling transport) Firing onclose event.";this._closeError&&(n+=" Error: "+this._closeError),this._logger.log(jn.Trace,n),this.onclose(this._closeError)}}}class Ma{constructor(n,e,i,o){this._httpClient=n,this._accessToken=e,this._logger=i,this._options=o,this.onreceive=null,this.onclose=null}connect(n,e){var i=this;return(0,Di.Z)(function*(){return Li.isRequired(n,"url"),Li.isRequired(e,"transferFormat"),Li.isIn(e,Jr,"transferFormat"),i._logger.log(jn.Trace,"(SSE transport) Connecting."),i._url=n,i._accessToken&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(i._accessToken)}`),new Promise((o,d)=>{let v,m=!1;if(e===Jr.Text){if(Mr.isBrowser||Mr.isWebWorker)v=new i._options.EventSource(n,{withCredentials:i._options.withCredentials});else{const I=i._httpClient.getCookieString(n),j={};j.Cookie=I;const[te,me]=io();j[te]=me,v=new i._options.EventSource(n,{withCredentials:i._options.withCredentials,headers:{...j,...i._options.headers}})}try{v.onmessage=I=>{if(i.onreceive)try{i._logger.log(jn.Trace,`(SSE transport) data received. ${Cr(I.data,i._options.logMessageContent)}.`),i.onreceive(I.data)}catch(j){return void i._close(j)}},v.onerror=I=>{m?i._close():d(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},v.onopen=()=>{i._logger.log(jn.Information,`SSE connected to ${i._url}`),i._eventSource=v,m=!0,o()}}catch(I){return void d(I)}}else d(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(n){var e=this;return(0,Di.Z)(function*(){return e._eventSource?Yr(e._logger,"SSE",e._httpClient,e._url,n,e._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(n){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(n))}}class qs{constructor(n,e,i,o,d,m){this._logger=i,this._accessTokenFactory=e,this._logMessageContent=o,this._webSocketConstructor=d,this._httpClient=n,this.onreceive=null,this.onclose=null,this._headers=m}connect(n,e){var i=this;return(0,Di.Z)(function*(){let o;return Li.isRequired(n,"url"),Li.isRequired(e,"transferFormat"),Li.isIn(e,Jr,"transferFormat"),i._logger.log(jn.Trace,"(WebSockets transport) Connecting."),i._accessTokenFactory&&(o=yield i._accessTokenFactory()),new Promise((d,m)=>{let v;n=n.replace(/^http/,"ws");const I=i._httpClient.getCookieString(n);let j=!1;if(Mr.isNode||Mr.isReactNative){const te={},[me,We]=io();te[me]=We,o&&(te[Gr.Authorization]=`Bearer ${o}`),I&&(te[Gr.Cookie]=I),v=new i._webSocketConstructor(n,void 0,{headers:{...te,...i._headers}})}else o&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(o)}`);v||(v=new i._webSocketConstructor(n)),e===Jr.Binary&&(v.binaryType="arraybuffer"),v.onopen=te=>{i._logger.log(jn.Information,`WebSocket connected to ${n}.`),i._webSocket=v,j=!0,d()},v.onerror=te=>{let me=null;me=typeof ErrorEvent<"u"&&te instanceof ErrorEvent?te.error:"There was an error with the transport",i._logger.log(jn.Information,`(WebSockets transport) ${me}.`)},v.onmessage=te=>{if(i._logger.log(jn.Trace,`(WebSockets transport) data received. ${Cr(te.data,i._logMessageContent)}.`),i.onreceive)try{i.onreceive(te.data)}catch(me){return void i._close(me)}},v.onclose=te=>{if(j)i._close(te);else{let me=null;me=typeof ErrorEvent<"u"&&te instanceof ErrorEvent?te.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",m(new Error(me))}}})})()}send(n){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(jn.Trace,`(WebSockets transport) sending data. ${Cr(n,this._logMessageContent)}.`),this._webSocket.send(n),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(n){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(jn.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(n)||!1!==n.wasClean&&1e3===n.code?n instanceof Error?this.onclose(n):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${n.code} (${n.reason||"no reason given"}).`)))}_isCloseEvent(n){return n&&"boolean"==typeof n.wasClean&&"number"==typeof n.code}}class Ps{constructor(n,e={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Li.isRequired(n,"url"),this._logger=function cr(r){return void 0===r?new as(jn.Information):null===r?bo.instance:void 0!==r.log?r:new as(r)}(e.logger),this.baseUrl=this._resolveUrl(n),(e=e||{}).logMessageContent=void 0!==e.logMessageContent&&e.logMessageContent,"boolean"!=typeof e.withCredentials&&void 0!==e.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");e.withCredentials=void 0===e.withCredentials||e.withCredentials,e.timeout=void 0===e.timeout?1e5:e.timeout;let i=null,o=null;if(Mr.isNode){const d=require;i=d("ws"),o=d("eventsource")}!Mr.isNode&&typeof WebSocket<"u"&&!e.WebSocket?e.WebSocket=WebSocket:Mr.isNode&&!e.WebSocket&&i&&(e.WebSocket=i),!Mr.isNode&&typeof EventSource<"u"&&!e.EventSource?e.EventSource=EventSource:Mr.isNode&&!e.EventSource&&typeof o<"u"&&(e.EventSource=o),this._httpClient=new kr(e.httpClient||new la(this._logger),e.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=e,this.onreceive=null,this.onclose=null}start(n){var e=this;return(0,Di.Z)(function*(){if(Li.isIn(n=n||Jr.Binary,Jr,"transferFormat"),e._logger.log(jn.Debug,`Starting connection with transfer format '${Jr[n]}'.`),"Disconnected"!==e._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(e._connectionState="Connecting",e._startInternalPromise=e._startInternal(n),yield e._startInternalPromise,"Disconnecting"===e._connectionState){const i="Failed to start the HttpConnection before stop() was called.";return e._logger.log(jn.Error,i),yield e._stopPromise,Promise.reject(new Lr(i))}if("Connected"!==e._connectionState){const i="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return e._logger.log(jn.Error,i),Promise.reject(new Lr(i))}e._connectionStarted=!0})()}send(n){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new mn(this.transport)),this._sendQueue.send(n))}stop(n){var e=this;return(0,Di.Z)(function*(){return"Disconnected"===e._connectionState?(e._logger.log(jn.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===e._connectionState?(e._logger.log(jn.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),e._stopPromise):(e._connectionState="Disconnecting",e._stopPromise=new Promise(i=>{e._stopPromiseResolver=i}),yield e._stopInternal(n),void(yield e._stopPromise))})()}_stopInternal(n){var e=this;return(0,Di.Z)(function*(){e._stopError=n;try{yield e._startInternalPromise}catch{}if(e.transport){try{yield e.transport.stop()}catch(i){e._logger.log(jn.Error,`HttpConnection.transport.stop() threw error '${i}'.`),e._stopConnection()}e.transport=void 0}else e._logger.log(jn.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(n){var e=this;return(0,Di.Z)(function*(){let i=e.baseUrl;e._accessTokenFactory=e._options.accessTokenFactory,e._httpClient._accessTokenFactory=e._accessTokenFactory;try{if(e._options.skipNegotiation){if(e._options.transport!==Ir.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");e.transport=e._constructTransport(Ir.WebSockets),yield e._startTransport(i,n)}else{let o=null,d=0;do{if(o=yield e._getNegotiationResponse(i),"Disconnecting"===e._connectionState||"Disconnected"===e._connectionState)throw new Lr("The connection was stopped during negotiation.");if(o.error)throw new Error(o.error);if(o.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(o.url&&(i=o.url),o.accessToken){const m=o.accessToken;e._accessTokenFactory=()=>m,e._httpClient._accessToken=m,e._httpClient._accessTokenFactory=void 0}d++}while(o.url&&d<100);if(100===d&&o.url)throw new Error("Negotiate redirection limit exceeded.");yield e._createTransport(i,e._options.transport,o,n)}e.transport instanceof $o&&(e.features.inherentKeepAlive=!0),"Connecting"===e._connectionState&&(e._logger.log(jn.Debug,"The HttpConnection connected successfully."),e._connectionState="Connected")}catch(o){return e._logger.log(jn.Error,"Failed to start the connection: "+o),e._connectionState="Disconnected",e.transport=void 0,e._stopPromiseResolver(),Promise.reject(o)}})()}_getNegotiationResponse(n){var e=this;return(0,Di.Z)(function*(){const i={},[o,d]=io();i[o]=d;const m=e._resolveNegotiateUrl(n);e._logger.log(jn.Debug,`Sending negotiation request: ${m}.`);try{const v=yield e._httpClient.post(m,{content:"",headers:{...i,...e._options.headers},timeout:e._options.timeout,withCredentials:e._options.withCredentials});if(200!==v.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${v.statusCode}'`));const I=JSON.parse(v.content);return(!I.negotiateVersion||I.negotiateVersion<1)&&(I.connectionToken=I.connectionId),I}catch(v){let I="Failed to complete negotiation with the server: "+v;return v instanceof xr&&404===v.statusCode&&(I+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),e._logger.log(jn.Error,I),Promise.reject(new vs(I))}})()}_createConnectUrl(n,e){return e?n+(-1===n.indexOf("?")?"?":"&")+`id=${e}`:n}_createTransport(n,e,i,o){var d=this;return(0,Di.Z)(function*(){let m=d._createConnectUrl(n,i.connectionToken);if(d._isITransport(e))return d._logger.log(jn.Debug,"Connection was provided an instance of ITransport, using that directly."),d.transport=e,yield d._startTransport(m,o),void(d.connectionId=i.connectionId);const v=[],I=i.availableTransports||[];let j=i;for(const te of I){const me=d._resolveTransportOrError(te,e,o);if(me instanceof Error)v.push(`${te.transport} failed:`),v.push(me);else if(d._isITransport(me)){if(d.transport=me,!j){try{j=yield d._getNegotiationResponse(n)}catch(We){return Promise.reject(We)}m=d._createConnectUrl(n,j.connectionToken)}try{return yield d._startTransport(m,o),void(d.connectionId=j.connectionId)}catch(We){if(d._logger.log(jn.Error,`Failed to start the transport '${te.transport}': ${We}`),j=void 0,v.push(new Oo(`${te.transport} failed: ${We}`,Ir[te.transport])),"Connecting"!==d._connectionState){const et="Failed to select transport before stop() was called.";return d._logger.log(jn.Debug,et),Promise.reject(new Lr(et))}}}}return Promise.reject(v.length>0?new no(`Unable to connect to the server with any of the available transports. ${v.join(" ")}`,v):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(n){switch(n){case Ir.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new qs(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Ir.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new Ma(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Ir.LongPolling:return new $o(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${n}.`)}}_startTransport(n,e){return this.transport.onreceive=this.onreceive,this.transport.onclose=i=>this._stopConnection(i),this.transport.connect(n,e)}_resolveTransportOrError(n,e,i){const o=Ir[n.transport];if(null==o)return this._logger.log(jn.Debug,`Skipping transport '${n.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${n.transport}' because it is not supported by this client.`);if(!function dr(r,n){return!r||0!=(n&r)}(e,o))return this._logger.log(jn.Debug,`Skipping transport '${Ir[o]}' because it was disabled by the client.`),new aa(`'${Ir[o]}' is disabled by the client.`,o);if(!(n.transferFormats.map(m=>Jr[m]).indexOf(i)>=0))return this._logger.log(jn.Debug,`Skipping transport '${Ir[o]}' because it does not support the requested transfer format '${Jr[i]}'.`),new Error(`'${Ir[o]}' does not support ${Jr[i]}.`);if(o===Ir.WebSockets&&!this._options.WebSocket||o===Ir.ServerSentEvents&&!this._options.EventSource)return this._logger.log(jn.Debug,`Skipping transport '${Ir[o]}' because it is not supported in your environment.'`),new Gi(`'${Ir[o]}' is not supported in your environment.`,o);this._logger.log(jn.Debug,`Selecting transport '${Ir[o]}'.`);try{return this._constructTransport(o)}catch(m){return m}}_isITransport(n){return n&&"object"==typeof n&&"connect"in n}_stopConnection(n){if(this._logger.log(jn.Debug,`HttpConnection.stopConnection(${n}) called while in state ${this._connectionState}.`),this.transport=void 0,n=this._stopError||n,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(jn.Warning,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${n}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),n?this._logger.log(jn.Error,`Connection disconnected with error '${n}'.`):this._logger.log(jn.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(e=>{this._logger.log(jn.Error,`TransportSendQueue.stop() threw error '${e}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(n)}catch(e){this._logger.log(jn.Error,`HttpConnection.onclose(${n}) threw error '${e}'.`)}}}else this._logger.log(jn.Debug,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(n){if(0===n.lastIndexOf("https://",0)||0===n.lastIndexOf("http://",0))return n;if(!Mr.isBrowser)throw new Error(`Cannot resolve '${n}'.`);const e=window.document.createElement("a");return e.href=n,this._logger.log(jn.Information,`Normalizing '${n}' to '${e.href}'.`),e.href}_resolveNegotiateUrl(n){const e=n.indexOf("?");let i=n.substring(0,-1===e?n.length:e);return"/"!==i[i.length-1]&&(i+="/"),i+="negotiate",i+=-1===e?"":n.substring(e),-1===i.indexOf("negotiateVersion")&&(i+=-1===e?"?":"&",i+="negotiateVersion="+this._negotiateVersion),i}}class mn{constructor(n){this._transport=n,this._buffer=[],this._executing=!0,this._sendBufferedData=new nt,this._transportResult=new nt,this._sendLoopPromise=this._sendLoop()}send(n){return this._bufferData(n),this._transportResult||(this._transportResult=new nt),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(n){if(this._buffer.length&&typeof this._buffer[0]!=typeof n)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof n}`);this._buffer.push(n),this._sendBufferedData.resolve()}_sendLoop(){var n=this;return(0,Di.Z)(function*(){for(;;){if(yield n._sendBufferedData.promise,!n._executing){n._transportResult&&n._transportResult.reject("Connection stopped.");break}n._sendBufferedData=new nt;const e=n._transportResult;n._transportResult=void 0;const i="string"==typeof n._buffer[0]?n._buffer.join(""):mn._concatBuffers(n._buffer);n._buffer.length=0;try{yield n._transport.send(i),e.resolve()}catch(o){e.reject(o)}}})()}static _concatBuffers(n){const e=n.map(d=>d.byteLength).reduce((d,m)=>d+m),i=new Uint8Array(e);let o=0;for(const d of n)i.set(new Uint8Array(d),o),o+=d.byteLength;return i.buffer}}class nt{constructor(){this.promise=new Promise((n,e)=>[this._resolver,this._rejecter]=[n,e])}resolve(){this._resolver()}reject(n){this._rejecter(n)}}class ht{static write(n){return`${n}${ht.RecordSeparator}`}static parse(n){if(n[n.length-1]!==ht.RecordSeparator)throw new Error("Message is incomplete.");const e=n.split(ht.RecordSeparator);return e.pop(),e}}ht.RecordSeparatorCode=30,ht.RecordSeparator=String.fromCharCode(ht.RecordSeparatorCode);class qe{writeHandshakeRequest(n){return ht.write(JSON.stringify(n))}parseHandshakeResponse(n){let e,i;if(Uo(n)){const v=new Uint8Array(n),I=v.indexOf(ht.RecordSeparatorCode);if(-1===I)throw new Error("Message is incomplete.");const j=I+1;e=String.fromCharCode.apply(null,Array.prototype.slice.call(v.slice(0,j))),i=v.byteLength>j?v.slice(j).buffer:null}else{const v=n,I=v.indexOf(ht.RecordSeparator);if(-1===I)throw new Error("Message is incomplete.");const j=I+1;e=v.substring(0,j),i=v.length>j?v.substring(j):null}const o=ht.parse(e),d=JSON.parse(o[0]);if(d.type)throw new Error("Expected a handshake response from the server.");return[i,d]}}var At=function(r){return r[r.Invocation=1]="Invocation",r[r.StreamItem=2]="StreamItem",r[r.Completion=3]="Completion",r[r.StreamInvocation=4]="StreamInvocation",r[r.CancelInvocation=5]="CancelInvocation",r[r.Ping=6]="Ping",r[r.Close=7]="Close",r}(At||{});class on{constructor(){this.observers=[]}next(n){for(const e of this.observers)e.next(n)}error(n){for(const e of this.observers)e.error&&e.error(n)}complete(){for(const n of this.observers)n.complete&&n.complete()}subscribe(n){return this.observers.push(n),new jo(this,n)}}var Qi=function(r){return r.Disconnected="Disconnected",r.Connecting="Connecting",r.Connected="Connected",r.Disconnecting="Disconnecting",r.Reconnecting="Reconnecting",r}(Qi||{});class Vo{constructor(n,e,i,o){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(jn.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Li.isRequired(n,"connection"),Li.isRequired(e,"logger"),Li.isRequired(i,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=e,this._protocol=i,this.connection=n,this._reconnectPolicy=o,this._handshakeProtocol=new qe,this.connection.onreceive=d=>this._processIncomingData(d),this.connection.onclose=d=>this._connectionClosed(d),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Qi.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:At.Ping})}static create(n,e,i,o){return new Vo(n,e,i,o)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(n){if(this._connectionState!==Qi.Disconnected&&this._connectionState!==Qi.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!n)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=n}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var n=this;return(0,Di.Z)(function*(){if(n._connectionState!==Qi.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));n._connectionState=Qi.Connecting,n._logger.log(jn.Debug,"Starting HubConnection.");try{yield n._startInternal(),Mr.isBrowser&&window.document.addEventListener("freeze",n._freezeEventListener),n._connectionState=Qi.Connected,n._connectionStarted=!0,n._logger.log(jn.Debug,"HubConnection connected successfully.")}catch(e){return n._connectionState=Qi.Disconnected,n._logger.log(jn.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}})()}_startInternal(){var n=this;return(0,Di.Z)(function*(){n._stopDuringStartError=void 0,n._receivedHandshakeResponse=!1;const e=new Promise((i,o)=>{n._handshakeResolver=i,n._handshakeRejecter=o});yield n.connection.start(n._protocol.transferFormat);try{const i={protocol:n._protocol.name,version:n._protocol.version};if(n._logger.log(jn.Debug,"Sending handshake request."),yield n._sendMessage(n._handshakeProtocol.writeHandshakeRequest(i)),n._logger.log(jn.Information,`Using HubProtocol '${n._protocol.name}'.`),n._cleanupTimeout(),n._resetTimeoutPeriod(),n._resetKeepAliveInterval(),yield e,n._stopDuringStartError)throw n._stopDuringStartError;n.connection.features.inherentKeepAlive||(yield n._sendMessage(n._cachedPingMessage))}catch(i){throw n._logger.log(jn.Debug,`Hub handshake failed with error '${i}' during start(). Stopping HubConnection.`),n._cleanupTimeout(),n._cleanupPingTimer(),yield n.connection.stop(i),i}})()}stop(){var n=this;return(0,Di.Z)(function*(){const e=n._startPromise;n._stopPromise=n._stopInternal(),yield n._stopPromise;try{yield e}catch{}})()}_stopInternal(n){return this._connectionState===Qi.Disconnected?(this._logger.log(jn.Debug,`Call to HubConnection.stop(${n}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===Qi.Disconnecting?(this._logger.log(jn.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=Qi.Disconnecting,this._logger.log(jn.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(jn.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=n||new Lr("The connection was stopped before the hub handshake could complete."),this.connection.stop(n)))}stream(n,...e){const[i,o]=this._replaceStreamingParams(e),d=this._createStreamInvocation(n,e,o);let m;const v=new on;return v.cancelCallback=()=>{const I=this._createCancelInvocation(d.invocationId);return delete this._callbacks[d.invocationId],m.then(()=>this._sendWithProtocol(I))},this._callbacks[d.invocationId]=(I,j)=>{j?v.error(j):I&&(I.type===At.Completion?I.error?v.error(new Error(I.error)):v.complete():v.next(I.item))},m=this._sendWithProtocol(d).catch(I=>{v.error(I),delete this._callbacks[d.invocationId]}),this._launchStreams(i,m),v}_sendMessage(n){return this._resetKeepAliveInterval(),this.connection.send(n)}_sendWithProtocol(n){return this._sendMessage(this._protocol.writeMessage(n))}send(n,...e){const[i,o]=this._replaceStreamingParams(e),d=this._sendWithProtocol(this._createInvocation(n,e,!0,o));return this._launchStreams(i,d),d}invoke(n,...e){const[i,o]=this._replaceStreamingParams(e),d=this._createInvocation(n,e,!1,o);return new Promise((v,I)=>{this._callbacks[d.invocationId]=(te,me)=>{me?I(me):te&&(te.type===At.Completion?te.error?I(new Error(te.error)):v(te.result):I(new Error(`Unexpected message type: ${te.type}`)))};const j=this._sendWithProtocol(d).catch(te=>{I(te),delete this._callbacks[d.invocationId]});this._launchStreams(i,j)})}on(n,e){!n||!e||(n=n.toLowerCase(),this._methods[n]||(this._methods[n]=[]),-1===this._methods[n].indexOf(e)&&this._methods[n].push(e))}off(n,e){if(!n)return;n=n.toLowerCase();const i=this._methods[n];if(i)if(e){const o=i.indexOf(e);-1!==o&&(i.splice(o,1),0===i.length&&delete this._methods[n])}else delete this._methods[n]}onclose(n){n&&this._closedCallbacks.push(n)}onreconnecting(n){n&&this._reconnectingCallbacks.push(n)}onreconnected(n){n&&this._reconnectedCallbacks.push(n)}_processIncomingData(n){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(n=this._processHandshakeResponse(n),this._receivedHandshakeResponse=!0),n){const e=this._protocol.parseMessages(n,this._logger);for(const i of e)switch(i.type){case At.Invocation:this._invokeClientMethod(i);break;case At.StreamItem:case At.Completion:{const o=this._callbacks[i.invocationId];if(o){i.type===At.Completion&&delete this._callbacks[i.invocationId];try{o(i)}catch(d){this._logger.log(jn.Error,`Stream callback threw error: ${zs(d)}`)}}break}case At.Ping:break;case At.Close:{this._logger.log(jn.Information,"Close message received from server.");const o=i.error?new Error("Server returned an error on close: "+i.error):void 0;!0===i.allowReconnect?this.connection.stop(o):this._stopPromise=this._stopInternal(o);break}default:this._logger.log(jn.Warning,`Invalid message type: ${i.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(n){let e,i;try{[i,e]=this._handshakeProtocol.parseHandshakeResponse(n)}catch(o){const d="Error parsing handshake response: "+o;this._logger.log(jn.Error,d);const m=new Error(d);throw this._handshakeRejecter(m),m}if(e.error){const o="Server returned handshake error: "+e.error;this._logger.log(jn.Error,o);const d=new Error(o);throw this._handshakeRejecter(d),d}return this._logger.log(jn.Debug,"Server handshake complete."),this._handshakeResolver(),i}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var n=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let e=this._nextKeepAlive-(new Date).getTime();e<0&&(e=0),this._pingServerHandle=setTimeout((0,Di.Z)(function*(){if(n._connectionState===Qi.Connected)try{yield n._sendMessage(n._cachedPingMessage)}catch{n._cleanupPingTimer()}}),e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(n){var e=this;return(0,Di.Z)(function*(){const i=n.target.toLowerCase(),o=e._methods[i];if(!o)return e._logger.log(jn.Warning,`No client method with the name '${i}' found.`),void(n.invocationId&&(e._logger.log(jn.Warning,`No result given for '${i}' method and invocation ID '${n.invocationId}'.`),yield e._sendWithProtocol(e._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null))));const d=o.slice(),m=!!n.invocationId;let v,I,j;for(const te of d)try{const me=v;v=yield te.apply(e,n.arguments),m&&v&&me&&(e._logger.log(jn.Error,`Multiple results provided for '${i}'. Sending error to server.`),j=e._createCompletionMessage(n.invocationId,"Client provided multiple results.",null)),I=void 0}catch(me){I=me,e._logger.log(jn.Error,`A callback for the method '${i}' threw error '${me}'.`)}j?yield e._sendWithProtocol(j):m?(I?j=e._createCompletionMessage(n.invocationId,`${I}`,null):void 0!==v?j=e._createCompletionMessage(n.invocationId,null,v):(e._logger.log(jn.Warning,`No result given for '${i}' method and invocation ID '${n.invocationId}'.`),j=e._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)),yield e._sendWithProtocol(j)):v&&e._logger.log(jn.Error,`Result given for '${i}' method but server is not expecting a result.`)})()}_connectionClosed(n){this._logger.log(jn.Debug,`HubConnection.connectionClosed(${n}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||n||new Lr("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(n||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Qi.Disconnecting?this._completeClose(n):this._connectionState===Qi.Connected&&this._reconnectPolicy?this._reconnect(n):this._connectionState===Qi.Connected&&this._completeClose(n)}_completeClose(n){if(this._connectionStarted){this._connectionState=Qi.Disconnected,this._connectionStarted=!1,Mr.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(e=>e.apply(this,[n]))}catch(e){this._logger.log(jn.Error,`An onclose callback called with error '${n}' threw error '${e}'.`)}}}_reconnect(n){var e=this;return(0,Di.Z)(function*(){const i=Date.now();let o=0,d=void 0!==n?n:new Error("Attempting to reconnect due to a unknown error."),m=e._getNextRetryDelay(o++,0,d);if(null===m)return e._logger.log(jn.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void e._completeClose(n);if(e._connectionState=Qi.Reconnecting,e._logger.log(jn.Information,n?`Connection reconnecting because of error '${n}'.`:"Connection reconnecting."),0!==e._reconnectingCallbacks.length){try{e._reconnectingCallbacks.forEach(v=>v.apply(e,[n]))}catch(v){e._logger.log(jn.Error,`An onreconnecting callback called with error '${n}' threw error '${v}'.`)}if(e._connectionState!==Qi.Reconnecting)return void e._logger.log(jn.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==m;){if(e._logger.log(jn.Information,`Reconnect attempt number ${o} will start in ${m} ms.`),yield new Promise(v=>{e._reconnectDelayHandle=setTimeout(v,m)}),e._reconnectDelayHandle=void 0,e._connectionState!==Qi.Reconnecting)return void e._logger.log(jn.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield e._startInternal(),e._connectionState=Qi.Connected,e._logger.log(jn.Information,"HubConnection reconnected successfully."),0!==e._reconnectedCallbacks.length)try{e._reconnectedCallbacks.forEach(v=>v.apply(e,[e.connection.connectionId]))}catch(v){e._logger.log(jn.Error,`An onreconnected callback called with connectionId '${e.connection.connectionId}; threw error '${v}'.`)}return}catch(v){if(e._logger.log(jn.Information,`Reconnect attempt failed because of error '${v}'.`),e._connectionState!==Qi.Reconnecting)return e._logger.log(jn.Debug,`Connection moved to the '${e._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(e._connectionState===Qi.Disconnecting&&e._completeClose());d=v instanceof Error?v:new Error(v.toString()),m=e._getNextRetryDelay(o++,Date.now()-i,d)}}e._logger.log(jn.Information,`Reconnect retries have been exhausted after ${Date.now()-i} ms and ${o} failed attempts. Connection disconnecting.`),e._completeClose()})()}_getNextRetryDelay(n,e,i){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:e,previousRetryCount:n,retryReason:i})}catch(o){return this._logger.log(jn.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${n}, ${e}) threw error '${o}'.`),null}}_cancelCallbacksWithError(n){const e=this._callbacks;this._callbacks={},Object.keys(e).forEach(i=>{const o=e[i];try{o(null,n)}catch(d){this._logger.log(jn.Error,`Stream 'error' callback called with '${n}' threw error: ${zs(d)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(n,e,i,o){if(i)return 0!==o.length?{arguments:e,streamIds:o,target:n,type:At.Invocation}:{arguments:e,target:n,type:At.Invocation};{const d=this._invocationId;return this._invocationId++,0!==o.length?{arguments:e,invocationId:d.toString(),streamIds:o,target:n,type:At.Invocation}:{arguments:e,invocationId:d.toString(),target:n,type:At.Invocation}}}_launchStreams(n,e){if(0!==n.length){e||(e=Promise.resolve());for(const i in n)n[i].subscribe({complete:()=>{e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(i)))},error:o=>{let d;d=o instanceof Error?o.message:o&&o.toString?o.toString():"Unknown error",e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(i,d)))},next:o=>{e=e.then(()=>this._sendWithProtocol(this._createStreamItemMessage(i,o)))}})}}_replaceStreamingParams(n){const e=[],i=[];for(let o=0;o<n.length;o++){const d=n[o];if(this._isObservable(d)){const m=this._invocationId;this._invocationId++,e[m]=d,i.push(m.toString()),n.splice(o,1)}}return[e,i]}_isObservable(n){return n&&n.subscribe&&"function"==typeof n.subscribe}_createStreamInvocation(n,e,i){const o=this._invocationId;return this._invocationId++,0!==i.length?{arguments:e,invocationId:o.toString(),streamIds:i,target:n,type:At.StreamInvocation}:{arguments:e,invocationId:o.toString(),target:n,type:At.StreamInvocation}}_createCancelInvocation(n){return{invocationId:n,type:At.CancelInvocation}}_createStreamItemMessage(n,e){return{invocationId:n,item:e,type:At.StreamItem}}_createCompletionMessage(n,e,i){return e?{error:e,invocationId:n,type:At.Completion}:{invocationId:n,result:i,type:At.Completion}}}class Wr{constructor(){this.name="json",this.version=1,this.transferFormat=Jr.Text}parseMessages(n,e){if("string"!=typeof n)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!n)return[];null===e&&(e=bo.instance);const i=ht.parse(n),o=[];for(const d of i){const m=JSON.parse(d);if("number"!=typeof m.type)throw new Error("Invalid payload.");switch(m.type){case At.Invocation:this._isInvocationMessage(m);break;case At.StreamItem:this._isStreamItemMessage(m);break;case At.Completion:this._isCompletionMessage(m);break;case At.Ping:case At.Close:break;default:e.log(jn.Information,"Unknown message type '"+m.type+"' ignored.");continue}o.push(m)}return o}writeMessage(n){return ht.write(JSON.stringify(n))}_isInvocationMessage(n){this._assertNotEmptyString(n.target,"Invalid payload for Invocation message."),void 0!==n.invocationId&&this._assertNotEmptyString(n.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(n){if(this._assertNotEmptyString(n.invocationId,"Invalid payload for StreamItem message."),void 0===n.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(n){if(n.result&&n.error)throw new Error("Invalid payload for Completion message.");!n.result&&n.error&&this._assertNotEmptyString(n.error,"Invalid payload for Completion message."),this._assertNotEmptyString(n.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(n,e){if("string"!=typeof n||""===n)throw new Error(e)}}const Es={trace:jn.Trace,debug:jn.Debug,info:jn.Information,information:jn.Information,warn:jn.Warning,warning:jn.Warning,error:jn.Error,critical:jn.Critical,none:jn.None};class Ao{configureLogging(n){if(Li.isRequired(n,"logging"),function hl(r){return void 0!==r.log}(n))this.logger=n;else if("string"==typeof n){const e=function vr(r){const n=Es[r.toLowerCase()];if(typeof n<"u")return n;throw new Error(`Unknown log level: ${r}`)}(n);this.logger=new as(e)}else this.logger=new as(n);return this}withUrl(n,e){return Li.isRequired(n,"url"),Li.isNotEmpty(n,"url"),this.url=n,this.httpConnectionOptions="object"==typeof e?{...this.httpConnectionOptions,...e}:{...this.httpConnectionOptions,transport:e},this}withHubProtocol(n){return Li.isRequired(n,"protocol"),this.protocol=n,this}withAutomaticReconnect(n){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=n?Array.isArray(n)?new fr(n):n:new fr,this}build(){const n=this.httpConnectionOptions||{};if(void 0===n.logger&&(n.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const e=new Ps(this.url,n);return Vo.create(e,this.logger||bo.instance,this.protocol||new Wr,this.reconnectPolicy)}}let Io=(()=>{class r{constructor(e){this.sharedService=e,this.updateMediaServers$=new gi.x,this.enableMediaServerSubject$=new gi.x,this.disableMediaServerSubject$=new gi.x,this.updateLibrariesByMediaServerSubject$=new gi.x,this.updateItemsByMediaServerSubject$=new gi.x}updateMediaServers(){this.updateMediaServers$.next(!0)}isUpdatingMediaServers(){return this.updateMediaServers$.asObservable()}enableMediaServer(e){this.enableMediaServerSubject$.next(e)}isEnablingMediaServer(){return this.enableMediaServerSubject$.asObservable()}disableMediaServer(e){this.disableMediaServerSubject$.next(e)}isDisablingMediaServer(){return this.disableMediaServerSubject$.asObservable()}updateLibrariesByMediaServer(e){this.updateLibrariesByMediaServerSubject$.next(e)}isUpdatingLibrariesByMediaServer(){return this.updateLibrariesByMediaServerSubject$.asObservable()}updateItemsByMediaServer(e){this.updateItemsByMediaServerSubject$.next(e)}isUpdatingItemsByMediaServer(){return this.updateItemsByMediaServerSubject$.asObservable()}openConnection(){var e=(new Ao).withUrl(this.sharedService.urlSinovadStreamWebApi+"/mediaServerHub",{skipNegotiation:!0,transport:Ir.WebSockets}).build();this.sharedService.hubConnection=e,this.startHubConnection()}startHubConnection(){let e=this;this.sharedService.hubConnection.start().then(()=>{console.log("connection started"),e.setEvents(e.sharedService.hubConnection)}).catch(i=>{console.error("error while establishing signalr connection: "+i)}),this.sharedService.hubConnection.onclose(i=>{setTimeout(()=>{e.startHubConnection()},5e3)})}stopConnection(){this.sharedService.hubConnection.off("UpdateMediaServers"),this.sharedService.hubConnection.off("EnableMediaServer"),this.sharedService.hubConnection.off("DisableMediaServer"),this.sharedService.hubConnection.off("UpdateLibrariesByMediaServer"),this.sharedService.hubConnection.off("UpdateItemsByMediaServer"),this.sharedService.hubConnection.off("UpdateItemsByMediaServerAndLibrary"),this.sharedService.hubConnection.stop()}setEvents(e){e.on("UpdateMediaServers",i=>{this.updateMediaServers()}),e.on("EnableMediaServer",i=>{var o=this.sharedService.mediaServers.find(d=>d.Guid==i);o.isSecureConnection||(o.isSecureConnection=!0),this.enableMediaServer(i)}),e.on("DisableMediaServer",i=>{var o=this.sharedService.mediaServers.find(d=>d.Guid==i);o.isSecureConnection&&(o.isSecureConnection=!1),this.disableMediaServer(i)}),e.on("UpdateLibrariesByMediaServer",i=>{this.updateLibrariesByMediaServer(i)}),e.on("UpdateItemsByMediaServer",i=>{this.updateItemsByMediaServer(i)}),e.invoke("AddConnectionToUserClientsGroup",this.sharedService.userData.Guid).then(i=>{})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Gt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Jo=(()=>{class r{constructor(e,i,o,d){this.menuService=e,this.signalIRHubService=i,this.sharedService=o,this.restProvider=d,this.completedCallGetUserData$=new gi.x,this.calledGetUserData=!1}completeCallGetUserData(){this.completedCallGetUserData$.next(!0)}isCompletedCallGetUserData(){return this.completedCallGetUserData$.asObservable()}clearSessionData(){this.calledGetUserData=!1,this.sharedService.manageMenus=[],this.sharedService.currentProfile=void 0,this.sharedService.userData=void 0,this.sharedService.apiToken=void 0,this.signalIRHubService.stopConnection(),localStorage.removeItem("apiToken")}getUserData(){this.restProvider.executeSinovadApiService(Xe.GET,"/users/GetUserData").then(e=>{let i=e.Data;i&&i.User?(this.sharedService.userData=i.User,this.sharedService.mediaServers=i.MediaServers,this.sharedService.linkedAccounts=i.LinkedAccounts,this.sharedService.listProfiles=i.Profiles,this.sharedService.currentProfile=i.Profiles[0],this.signalIRHubService.openConnection(),this.menuService.getManageMenu()):(this.sharedService.apiToken=void 0,localStorage.removeItem("apiToken")),this.calledGetUserData=!0,this.completeCallGetUserData()},e=>{this.calledGetUserData=!0,localStorage.removeItem("apiToken"),this.completeCallGetUserData(),console.error(e)})}getItems(e,i,o,d,m,v){return new Promise((I,j)=>{let te=mi();this.lastCallGuid=te;var me="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+v;this.restProvider.executeSinovadApiService(Xe.GET,"/users/GetAllWithPaginationAsync"+me).then(et=>{this.lastCallGuid==te&&I(et)},et=>{console.error(et),j(et)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/users/Update":"/users/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/users/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/users/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Oi),t.LFG(Io),t.LFG(Gt),t.LFG(vt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var cs=S(6878),Os=S(9058),Aa=S(534),ml=S(7879),Ts=S(4537),pl=S(3019),ca=S(3093),Qr=S(940),kl=S(1374),gl=S(4674);function ac(r,n){return(0,gl.m)(n)?(0,f.w)(()=>r,n):(0,f.w)(()=>r)}var Js=S(5137),Ia=S(8186),Qo=S(6304);S(3182);const Xt=new Map,An={activated:!1,tokenObservers:[]},Hn={initialized:!1,enabled:!1};function si(r){return Xt.get(r)||Object.assign({},An)}function Wi(){return Hn}const er="https://content-firebaseappcheck.googleapis.com/v1",ir="exchangeDebugToken",yr={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Si{constructor(n,e,i,o,d){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=o,o>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var e=this;return(0,Di.Z)(function*(){e.stop();try{e.pending=new Os.BH,yield function Ns(r){return new Promise(n=>{setTimeout(n,r)})}(e.getNextRun(n)),e.pending.resolve(),yield e.pending.promise,e.pending=new Os.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const nr=new Os.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function es(r){if(!si(r).activated)throw nr.create("use-before-activation",{appName:r.name})}function za(r,n){return Za.apply(this,arguments)}function Za(){return(Za=(0,Di.Z)(function*({url:r,body:n},e){const i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const me=yield o.getHeartbeatsHeader();me&&(i["X-Firebase-Client"]=me)}const d={method:"POST",body:JSON.stringify(n),headers:i};let m,v;try{m=yield fetch(r,d)}catch(me){throw nr.create("fetch-network-error",{originalErrorMessage:me?.message})}if(200!==m.status)throw nr.create("fetch-status-error",{httpStatus:m.status});try{v=yield m.json()}catch(me){throw nr.create("fetch-parse-error",{originalErrorMessage:me?.message})}const I=v.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw nr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const j=1e3*Number(I[1]),te=Date.now();return{token:v.token,expireTimeMillis:te+j,issuedAtTimeMillis:te}})).apply(this,arguments)}function Vl(r,n){const{projectId:e,appId:i,apiKey:o}=r.options;return{url:`${er}/projects/${e}/apps/${i}:${ir}?key=${o}`,body:{debug_token:n}}}const $n="firebase-app-check-database",ur=1,da="firebase-app-check-store";let zr=null;function Gl(){return(Gl=(0,Di.Z)(function*(r,n){const i=(yield function dd(){return zr||(zr=new Promise((r,n)=>{try{const e=indexedDB.open($n,ur);e.onsuccess=i=>{r(i.target.result)},e.onerror=i=>{var o;n(nr.create("storage-open",{originalErrorMessage:null===(o=i.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(da,{keyPath:"compositeKey"})}}catch(e){n(nr.create("storage-open",{originalErrorMessage:e?.message}))}}),zr)}()).transaction(da,"readwrite"),d=i.objectStore(da).put({compositeKey:r,value:n});return new Promise((m,v)=>{d.onsuccess=I=>{m()},i.onerror=I=>{var j;v(nr.create("storage-set",{originalErrorMessage:null===(j=I.target.error)||void 0===j?void 0:j.message}))}})})).apply(this,arguments)}const ua=new ml.Yd("@firebase/app-check");function oo(r,n){return(0,Os.hl)()?function Lo(r,n){return function Oa(r,n){return Gl.apply(this,arguments)}(function Ss(r){return`${r.options.appId}-${r.name}`}(r),n)}(r,n).catch(e=>{ua.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Na(){return Wi().enabled}function yl(){return La.apply(this,arguments)}function La(){return(La=(0,Di.Z)(function*(){const r=Wi();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ka={error:"UNKNOWN_ERROR"};function ud(r){return Os.US.encodeString(JSON.stringify(r),!1)}function Xs(r){return $a.apply(this,arguments)}function $a(){return($a=(0,Di.Z)(function*(r,n=!1){const e=r.app;es(e);const i=si(e);let d,o=i.token;if(o&&!so(o)&&(i.token=void 0,o=void 0),!o){const I=yield i.cachedTokenPromise;I&&(so(I)?o=I:yield oo(e,void 0))}if(!n&&o&&so(o))return{token:o.token};let v,m=!1;if(Na()){i.exchangeTokenPromise||(i.exchangeTokenPromise=za(Vl(e,yield yl()),r.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),m=!0);const I=yield i.exchangeTokenPromise;return yield oo(e,I),i.token=I,{token:I.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),m=!0),o=yield si(e).exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?ua.warn(I.message):ua.error(I),d=I}return o?d?v=so(o)?{token:o.token,internalError:d}:ea(d):(v={token:o.token},i.token=o,yield oo(e,o)):v=ea(d),m&&function hd(r,n){const e=si(r).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=n.error?i.error(n.error):i.next(n)}catch{}}(e,v),v})).apply(this,arguments)}function mc(r){return bl.apply(this,arguments)}function bl(){return(bl=(0,Di.Z)(function*(r){const n=r.app;es(n);const{provider:e}=si(n);if(Na()){const i=yield yl(),{token:o}=yield za(Vl(n,i),r.heartbeatServiceProvider);return{token:o}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function Hl(r,n){const e=si(r),i=e.tokenObservers.filter(o=>o.next!==n);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function gc(r){const{app:n}=r,e=si(n);let i=e.tokenRefresher;i||(i=function fd(r){const{app:n}=r;return new Si((0,Di.Z)(function*(){let i;if(i=si(n).token?yield Xs(r,!0):yield Xs(r),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=si(n);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},yr.RETRIAL_MIN_WAIT,yr.RETRIAL_MAX_WAIT)}(r),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function so(r){return r.expireTimeMillis-Date.now()>0}function ea(r){return{token:ud(ka),error:r}}class Ee{constructor(n,e){this.app=n,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:n}=si(this.app);for(const e of n)Hl(this.app,e.next);return Promise.resolve()}}const gd="app-check-internal";!function vc(){(0,Aa._registerComponent)(new Ts.wA("app-check",r=>function Ge(r,n){return new Ee(r,n)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,n,e)=>{r.getProvider(gd).initialize()})),(0,Aa._registerComponent)(new Ts.wA(gd,r=>function ce(r){return{getToken:n=>Xs(r,n),getLimitedUseToken:()=>mc(r),addTokenListener:n=>function pc(r,n,e,i){const{app:o}=r,d=si(o);if(d.tokenObservers=[...d.tokenObservers,{next:e,error:i,type:n}],d.token&&so(d.token)){const v=d.token;Promise.resolve().then(()=>{e({token:v.token}),gc(r)}).catch(()=>{})}d.cachedTokenPromise.then(()=>gc(r))}(r,"INTERNAL",n),removeTokenListener:n=>Hl(r.app,n)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Aa.registerVersion)("@firebase/app-check","0.8.0")}();class su{constructor(){return(0,Ia.vb)("app-check")}}typeof window<"u"&&window;var sf=S(7142);const Tl=new t.OlP("angularfire2.auth.use-emulator"),du=new t.OlP("angularfire2.auth.settings"),_d=new t.OlP("angularfire2.auth.tenant-id"),Kc=new t.OlP("angularfire2.auth.langugage-code"),Yl=new t.OlP("angularfire2.auth.use-device-language"),af=new t.OlP("angularfire.auth.persistence");let Sc=(()=>{class r{constructor(e,i,o,d,m,v,I,j,te,me,We,et){const pt=new gi.x,Ct=(0,b.of)(void 0).pipe((0,ca.Q)(m.outsideAngular),(0,f.w)(()=>d.runOutsideAngular(()=>S.e(365).then(S.bind(S,6365)))),(0,D.U)(()=>(0,Qo.on)(e,d,i)),(0,D.U)(Ot=>((r,n,e,i,o,d,m,v)=>(0,Qo.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const I=n.runOutsideAngular(()=>r.auth());if(e&&I.useEmulator(...e),i&&(I.tenantId=i),I.languageCode=o,d&&I.useDeviceLanguage(),m)for(const[j,te]of Object.entries(m))I.settings[j]=te;return v&&I.setPersistence(v),I},[e,i,o,d,m,v]))(Ot,d,v,j,te,me,I,We)),(0,Qr.d)({bufferSize:1,refCount:!1}));if((0,g.PM)(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,b.of)(null);else{Ct.pipe((0,kl.P)()).subscribe();const Zt=Ct.pipe((0,f.w)(yn=>yn.getRedirectResult().then(Cn=>Cn,()=>null)),Ia.iC,(0,Qr.d)({bufferSize:1,refCount:!1})),dn=Ct.pipe((0,f.w)(yn=>new E.y(Cn=>({unsubscribe:d.runOutsideAngular(()=>yn.onAuthStateChanged(Un=>Cn.next(Un),Un=>Cn.error(Un),()=>Cn.complete()))})))),sn=Ct.pipe((0,f.w)(yn=>new E.y(Cn=>({unsubscribe:d.runOutsideAngular(()=>yn.onIdTokenChanged(Un=>Cn.next(Un),Un=>Cn.error(Un),()=>Cn.complete()))}))));this.authState=Zt.pipe(ac(dn),(0,Js.R)(m.outsideAngular),(0,ca.Q)(m.insideAngular)),this.user=Zt.pipe(ac(sn),(0,Js.R)(m.outsideAngular),(0,ca.Q)(m.insideAngular)),this.idToken=this.user.pipe((0,f.w)(yn=>yn?(0,w.D)(yn.getIdToken()):(0,b.of)(null))),this.idTokenResult=this.user.pipe((0,f.w)(yn=>yn?(0,w.D)(yn.getIdTokenResult()):(0,b.of)(null))),this.credential=(0,pl.T)(Zt,pt,this.authState.pipe((0,L.h)(yn=>!yn))).pipe((0,D.U)(yn=>yn?.user?yn:null),(0,Js.R)(m.outsideAngular),(0,ca.Q)(m.insideAngular))}return(0,Qo.pX)(this,Ct,d,{spy:{apply:(Ot,Zt,dn)=>{(Ot.startsWith("signIn")||Ot.startsWith("createUser"))&&dn.then(sn=>pt.next(sn))}}})}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(Qo.Dh),t.LFG(Qo.xv,8),t.LFG(t.Lbi),t.LFG(t.R0b),t.LFG(Ia.HU),t.LFG(Tl,8),t.LFG(du,8),t.LFG(_d,8),t.LFG(Kc,8),t.LFG(Yl,8),t.LFG(af,8),t.LFG(su,8))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),lf=(()=>{class r{constructor(){sf.Z.registerVersion("angularfire",Ia.q4.full,"auth-compat")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[Sc]}),r})(),vd=(()=>{class r{constructor(e,i){this.restProvider=e,this.afAuth=i}validateUser(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.POST,"/authentication/ValidateUser",{UserName:e}).then(d=>{i(d)},d=>{o(d)})})}authenticateByLinkedAccount(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.POST,"/authentication/AuthenticateLinkedAccount",e).then(d=>{i(d)},d=>{o(d)})})}authenticateUser(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.POST,"/authentication/AuthenticateUser",e).then(d=>{i(d)},d=>{o(d)})})}authenticatePasswordAndConfirmLinkAccountToUser(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.POST,"/authentication/AuthenticatePasswordAndConfirmLinkAccountToUser",e).then(d=>{i(d)},d=>{o(d)})})}authenticateWithGoogle(){return this.authenticate(new cs.V)}authenticateWithFacebook(){return this.authenticate(new cs.U)}authenticateWithApple(){}authenticate(e){return new Promise((i,o)=>this.afAuth.signInWithPopup(e).then(d=>{i(d)}).catch(d=>{o(d)}))}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(vt),t.LFG(Sc))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var ao=S(2032),xi=S(4170);function tl(r,n){if(1&r&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.errorMessage," ")}}function nl(r,n){1&r&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa el usuario correctamente "),t.qZA())}function yd(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.validateUser())}),t.YNc(1,tl,2,1,"span",11),t.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),t._uU(5,"Usuario"),t.qZA(),t._UZ(6,"input",14),t.YNc(7,nl,3,0,"mat-error",15),t.qZA()(),t.TgZ(8,"div",12)(9,"button",16),t._uU(10,"Siguiente"),t.qZA()()(),t.TgZ(11,"div",12)(12,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClose())}),t._uU(13,"Cancelar"),t.qZA()(),t.TgZ(14,"div",12)(15,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.loginWithGoogle())}),t._UZ(16,"img",2),t.ALo(17,"async"),t.ALo(18,"formatDataPipe"),t._uU(19,"Continuar con Google"),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.userFormGroup),t.xp6(1),t.Q6J("ngIf",e.errorMessage),t.xp6(5),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.userFormGroup.controls.username.hasError("required")),t.xp6(2),t.Q6J("disabled",e.showLoading||!e.userFormGroup.valid),t.xp6(7),t.Q6J("src",t.lcZ(17,6,t.xi3(18,8,"google.svg","GetIconURLByKey")),t.LSH)}}function Sl(r,n){if(1&r&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.errorMessage," ")}}function il(r,n){1&r&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa la contrase\xf1a correctamente "),t.qZA())}const Wc=function(r){return{disable:r}};function zc(r,n){if(1&r){const e=t.EpF();t.YNc(0,Sl,2,1,"span",11),t.TgZ(1,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.authenticateUser())}),t.TgZ(2,"div",12)(3,"mat-form-field",13)(4,"mat-label"),t._uU(5,"Contrase\xf1a"),t.qZA(),t._UZ(6,"input",21),t.YNc(7,il,3,0,"mat-error",15),t.qZA()(),t.TgZ(8,"div",12)(9,"button",16),t._uU(10,"Iniciar sesi\xf3n"),t.qZA()()(),t.TgZ(11,"div",12)(12,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClose())}),t._uU(13,"Cancelar"),t.qZA()(),t.TgZ(14,"div",12)(15,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showRecoverPasswordPage())}),t._uU(16,"Olvidaste tu contrase\xf1a?"),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngIf",e.errorMessage),t.xp6(1),t.Q6J("formGroup",e.passwordFormGroup),t.xp6(5),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.passwordFormGroup.controls.password.hasError("required")),t.xp6(2),t.Q6J("disabled",e.showLoading||!e.passwordFormGroup.valid),t.xp6(6),t.Q6J("ngClass",t.VKq(6,Wc,e.showLoading))}}function bd(r,n){if(1&r&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.errorMessage," ")}}function uu(r,n){1&r&&(t.TgZ(0,"mat-error"),t._UZ(1,"i",20),t._uU(2,"Ingresa la contrase\xf1a correctamente "),t.qZA())}function Ed(r,n){if(1&r){const e=t.EpF();t.YNc(0,bd,2,1,"span",11),t.TgZ(1,"div",23)(2,"div",24),t._uU(3," Encontramos una cuenta de Sinovad Stream para "),t.TgZ(4,"div",25),t._uU(5),t.qZA()(),t._uU(6," Verifique su cuenta para continuar "),t.qZA(),t.TgZ(7,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.ConfirmLinkAccountToUser())}),t.TgZ(8,"div",12)(9,"mat-form-field",13)(10,"mat-label"),t._uU(11,"Contrase\xf1a"),t.qZA(),t._UZ(12,"input",21),t.YNc(13,uu,3,0,"mat-error",15),t.qZA()(),t.TgZ(14,"div",12)(15,"button",16),t._uU(16,"Confirmar"),t.qZA()()(),t.TgZ(17,"div",12)(18,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClose())}),t._uU(19,"Cancelar"),t.qZA()(),t.TgZ(20,"div",12)(21,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showRecoverPasswordPage())}),t._uU(22,"Olvidaste tu contrase\xf1a?"),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngIf",e.errorMessage),t.xp6(5),t.hij(" ",e.confirmLinkAccountData.Email," "),t.xp6(2),t.Q6J("formGroup",e.passwordFormGroup),t.xp6(5),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.passwordFormGroup.controls.password.hasError("required")),t.xp6(2),t.Q6J("disabled",e.showLoading||!e.passwordFormGroup.valid),t.xp6(6),t.Q6J("ngClass",t.VKq(7,Wc,e.showLoading))}}let fu=(()=>{class r{constructor(e,i,o,d,m,v,I){this.userService=e,this.authenticationService=i,this.menuService=o,this.signalIRHubService=d,this.formBuilder=m,this.router=v,this.sharedService=I,this._window=window,this.showLoading=!1,this.user=new Kr,this.userFormGroup=this.formBuilder.group({username:new rt.NI("",[rt.kI.required])}),this.passwordFormGroup=this.formBuilder.group({password:new rt.NI("",[rt.kI.required])}),this.matcher=new Vr,this.showPasswordForm=!1,this.showConfirmLinkedAccountForm=!1}validateUser(){this.userFormGroup.valid?(this.showLoading=!0,this.user.UserName=this.userFormGroup.value.username,this.authenticationService.validateUser(this.user.UserName).then(e=>{this.showPasswordForm=!0,this.showLoading=!1,this.errorMessage=void 0},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.userFormGroup.markAllAsTouched())}authenticateUser(){this.passwordFormGroup.valid?(this.user.Password=this.passwordFormGroup.value.password,this.showLoading=!0,this.authenticationService.authenticateUser(this.user).then(e=>{this.setUserSessionDataAfterAuthenticate(e.Data)},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.passwordFormGroup.markAllAsTouched())}loginWithGoogle(){this.showLoading=!0,this.errorMessage=void 0,this.authenticationService.authenticateWithGoogle().then(e=>{var i=new lr;i.AccessToken=e.credential.accessToken,i.LinkedAccountProviderCatalogId=_n.LinkedAccountProvider,i.LinkedAccountProviderCatalogDetailId=wn.Google,this.authenticationService.authenticateByLinkedAccount(i).then(o=>{var d=o.Data;d.ConfirmLinkAccountData?(this.showLoading=!1,this.confirmLinkAccountData=d.ConfirmLinkAccountData,this.showConfirmLinkedAccountForm=!0):this.setUserSessionDataAfterAuthenticate(d)},o=>{this.showLoading=!1})},e=>{console.error(e),this.showLoading=!1})}ConfirmLinkAccountToUser(){this.errorMessage=void 0,this.passwordFormGroup.valid?(this.confirmLinkAccountData.Password=this.passwordFormGroup.value.password,this.showLoading=!0,this.authenticationService.authenticatePasswordAndConfirmLinkAccountToUser(this.confirmLinkAccountData).then(e=>{this.setUserSessionDataAfterAuthenticate(e.Data)},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.passwordFormGroup.markAllAsTouched())}setUserSessionDataAfterAuthenticate(e){this.sharedService.apiToken=e.ApiToken,localStorage.setItem("apiToken",this.sharedService.apiToken);let i=e.UserData;this.sharedService.userData=i.User,this.sharedService.mediaServers=i.MediaServers,this.sharedService.listProfiles=i.Profiles,this.sharedService.linkedAccounts=i.LinkedAccounts,this.sharedService.currentProfile=i.Profiles[0],this.sharedService.showSplashScreen=!0,this.userService.calledGetUserData=!0,this.menuService.getManageMenu(),this.signalIRHubService.openConnection(),this.router.navigate(["select-profile"],{skipLocationChange:!1})}loginWithFacebook(){this.showLoading=!0,this.authenticationService.authenticateWithFacebook().then(e=>{console.log(e),this.showLoading=!1},e=>{console.error(e),this.showLoading=!1})}loginWithApple(){}onClose(){this.router.navigateByUrl("/landing")}showRecoverPasswordPage(){this.router.navigateByUrl("/recover")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Jo),t.Y36(vd),t.Y36(Oi),t.Y36(Io),t.Y36(rt.qu),t.Y36(Gn.F0),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-login"]],decls:18,vars:16,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"login-container"],[1,"login-logo-container"],[1,"login-content"],[1,"login-form-container"],[1,"login-title-container"],[3,"ngIf"],[3,"showLoading"],["autocomplete","off",1,"login-form-content",3,"formGroup","ngSubmit"],["class","form-error-message",4,"ngIf"],[1,"mb-3"],[1,"login-form-field"],["id","title","matInput","","formControlName","username",3,"errorStateMatcher"],[4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"click"],[1,"btn","google",3,"click"],[1,"form-error-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],["id","title","matInput","","formControlName","password","type","password",3,"errorStateMatcher"],[1,"btn","btn-secondary",3,"ngClass","click"],[1,"confirm-link-account-title"],[1,"confirm-link-account-message"],[1,"confirm-link-account-message-email"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4),t._UZ(7,"img",2),t.ALo(8,"async"),t.ALo(9,"formatDataPipe"),t.qZA(),t.TgZ(10,"div",5)(11,"div",6)(12,"div",7),t._uU(13," Inicia sesi\xf3n "),t.qZA(),t.YNc(14,yd,20,11,"ng-template",8),t.YNc(15,zc,17,8,"ng-template",8),t.YNc(16,Ed,23,9,"ng-template",8),t.qZA()()(),t._UZ(17,"app-custom-spinner",9)),2&i&&(t.xp6(2),t.Q6J("src",t.lcZ(3,6,t.xi3(4,8,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("src",t.lcZ(8,11,t.xi3(9,13,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngIf",!o.showPasswordForm&&!o.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("ngIf",o.showPasswordForm&&!o.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("ngIf",o.showConfirmLinkedAccountForm),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,rt._Y,rt.Fj,rt.JJ,rt.JL,$i,ao.Nt,xi.KE,xi.hX,xi.TO,rt.sg,rt.u,g.Ov,Kt],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.form-error-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:15px;justify-content:center;overflow:hidden;padding:20px 0;text-align:center;width:100%;border-bottom-width:2px;color:#f06464}.confirm-link-account-title[_ngcontent-%COMP%]{padding:30px 0;color:#282a2d;display:flex;flex-direction:column;font-size:13px}.confirm-link-account-message[_ngcontent-%COMP%]{color:#51595e;font-family:plexeina-bold,Helvetica,sans-serif;font-size:15px;margin-bottom:30px;text-align:center}.confirm-link-account-message-email[_ngcontent-%COMP%]{color:#007bff;font-family:plexeina-bold,Helvetica,sans-serif;font-size:15px;text-align:center}.login-container[_ngcontent-%COMP%]{text-align:-webkit-center;display:block!important;padding:100px 0;width:100%;height:100%;color:#fff;position:absolute}.login-logo-container[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:700;margin-bottom:20px;display:flex;align-items:center;justify-content:center;font-size:20px;max-width:300px}.login-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.login-title-container[_ngcontent-%COMP%]{margin-bottom:10px;font-size:20px}.login-content[_ngcontent-%COMP%]{display:block;max-width:500px}.login-form-container[_ngcontent-%COMP%]{padding:40px 20px;border-radius:5px;background:white;color:#000;justify-content:center;align-items:center;margin-bottom:300px;height:100%}.login-form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-invalid-input-message[_ngcontent-%COMP%]{color:#d93025;margin-top:5px;font-size:13px}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;opacity:.9}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-right:10px}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.65}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.login-form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.login-form-container[_ngcontent-%COMP%]   button.enter[_ngcontent-%COMP%]{background-color:#007bff}.login-form-container[_ngcontent-%COMP%]   button.recover[_ngcontent-%COMP%]{background-color:#2e303d}.login-form-container[_ngcontent-%COMP%]   button.google[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:2px solid rgba(0,0,0,.3)}.login-form-container[_ngcontent-%COMP%]   button.google[_ngcontent-%COMP%]:hover{background-color:#0000001a;color:#51595e}.login-form-container[_ngcontent-%COMP%]   button.facebook[_ngcontent-%COMP%]{background-color:#4267b2;color:#fff}.login-form-container[_ngcontent-%COMP%]   button.apple[_ngcontent-%COMP%]{background-color:#000;color:#fff}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]{display:block;color:#000}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-radius:5px;padding:10px;color:#000;outline:rgba(0,0,0,.3)!important;background:white;border:none;font-size:14px;opacity:.8;height:35px;border:2px solid rgba(0,0,0,.3)}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#000}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{opacity:1;border:2px solid white}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{opacity:1;border:2px solid white}.login-form-container[_ngcontent-%COMP%]   .sinovad-form-textinput-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{opacity:1;border:2px solid white}.sinovad-form-error-message-container[_ngcontent-%COMP%]{color:#f44336de!important;padding-bottom:10px}.login-form-content[_ngcontent-%COMP%]{max-width:300px;width:100%}.mb-3[_ngcontent-%COMP%]{text-align:left;max-width:300px}"]})}return r})();class Zm{}function $m(r,n){if(1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2),t.qZA()),2&r){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"email")?"Confirma que hayas agregado el email correctamente":e.sharedService.hasErrorPatternFormControl(e.registerUserForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}function Wl(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los nombres correctamente "),t.qZA())}function Td(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los apellidos correctamente "),t.qZA())}function zl(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el usuario correctamente "),t.qZA())}function mo(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function hu(r,n){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const pa=function(r){return{error:r}},ga=function(r){return{disable:r}};function Fs(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",9)(1,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.register())}),t.TgZ(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Reg\xedstrate "),t.qZA(),t.TgZ(8,"div",13)(9,"label",14),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",15),t._UZ(12,"input",16),t.YNc(13,$m,3,1,"label",17),t.qZA()(),t.TgZ(14,"div",13)(15,"label",14),t._uU(16," Nombres "),t.qZA(),t.TgZ(17,"div",15),t._UZ(18,"input",18),t.YNc(19,Wl,3,0,"label",17),t.qZA()(),t.TgZ(20,"div",13)(21,"label",14),t._uU(22," Apellidos "),t.qZA(),t.TgZ(23,"div",15),t._UZ(24,"input",19),t.YNc(25,Td,3,0,"label",17),t.qZA()(),t.TgZ(26,"div",13)(27,"label",14),t._uU(28," Usuario "),t.qZA(),t.TgZ(29,"div",15),t._UZ(30,"input",20),t.YNc(31,zl,3,0,"label",17),t.qZA()(),t.TgZ(32,"div",13)(33,"label",14),t._uU(34," Contrase\xf1a "),t.qZA(),t.TgZ(35,"div",15),t._UZ(36,"input",21),t.YNc(37,mo,3,0,"label",17),t.qZA()(),t.TgZ(38,"div",13)(39,"label",14),t._uU(40," Confirmar contrase\xf1a "),t.qZA(),t.TgZ(41,"div",15),t._UZ(42,"input",22),t.YNc(43,hu,3,0,"label",17),t.qZA()(),t.TgZ(44,"div",23)(45,"button",24),t._uU(46,"Registrar"),t.qZA()(),t.TgZ(47,"div",25),t._uU(48),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.registerUserForm),t.xp6(2),t.Q6J("src",t.lcZ(4,16,t.xi3(5,18,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngClass",t.VKq(21,pa,e.sharedService.isInvalidFormControl(e.registerUserForm,"email"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"email")),t.xp6(1),t.Q6J("ngClass",t.VKq(23,pa,e.sharedService.isInvalidFormControl(e.registerUserForm,"firstName"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"firstName")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"firstName")),t.xp6(1),t.Q6J("ngClass",t.VKq(25,pa,e.sharedService.isInvalidFormControl(e.registerUserForm,"lastName"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"lastName")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"lastName")),t.xp6(1),t.Q6J("ngClass",t.VKq(27,pa,e.sharedService.isInvalidFormControl(e.registerUserForm,"username"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"username")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"username")),t.xp6(1),t.Q6J("ngClass",t.VKq(29,pa,e.sharedService.isInvalidFormControl(e.registerUserForm,"password"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"password")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"password")),t.xp6(1),t.Q6J("ngClass",t.VKq(31,pa,e.sharedService.isInvalidFormControl(e.registerUserForm,"confirmPassword"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"confirmPassword")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(33,ga,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function ta(r,n){1&r&&(t.TgZ(0,"div",28)(1,"div",29)(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Registro de Usuario "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Usuario registrado satistactoriamente, verifique su correo electr\xf3nico y active su cuenta por favor."),t.qZA()()()),2&r&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))}let mu=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.router=i,this.restProvider=o,this.sharedService=d,this._window=window,this.showLoading=!1,this.showSuccessMessage=!1,this.registerUserModel=new Zm,this.registerUserForm=this.formBuilder.group({email:new rt.NI("",[rt.kI.required,rt.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),firstName:new rt.NI("",[rt.kI.required]),lastName:new rt.NI("",[rt.kI.required]),username:new rt.NI("",[rt.kI.required]),password:new rt.NI("",[rt.kI.required]),confirmPassword:new rt.NI("",[rt.kI.required])})}ngOnInit(){}register(){this.registerUserForm.valid?(this.registerUserModel={Email:this.registerUserForm.value.email,FirstName:this.registerUserForm.value.firstName,LastName:this.registerUserForm.value.lastName,UserName:this.registerUserForm.value.username,Password:this.registerUserForm.value.password,ConfirmPassword:this.registerUserForm.value.confirmPassword,ConfirmEmailUrl:window.location.origin+"/confirm"},this.showLoading=!0,this.restProvider.executeSinovadApiService(Xe.POST,"/users/Register",this.registerUserModel).then(e=>{console.log("Registrado exitosamente"),this.showLoading=!1,this.showSuccessMessage=!0},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.registerUserForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(rt.qu),t.Y36(Gn.F0),t.Y36(vt),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-register-user"]],decls:11,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-form-backdrop"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3",3,"ngClass"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","text","formControlName","firstName"],["type","text","formControlName","lastName"],["type","text","formControlName","username"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"mb-3"],["type","submit",1,"register",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,Fs,49,35,"div",6),t.YNc(9,ta,10,6,"div",7),t.qZA()(),t._UZ(10,"app-custom-spinner",8)),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetIconURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",!o.showSuccessMessage),t.xp6(1),t.Q6J("ngIf",o.showSuccessMessage),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[g.mk,g.O5,rt._Y,rt.Fj,rt.JJ,rt.JL,$i,rt.sg,rt.u,g.Ov,Kt],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-form-backdrop[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}button.register[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();const Sd=["loginFormContainer"];let Cl=(()=>{class r{constructor(e,i,o){this.router=e,this.activeRoute=i,this.sharedService=o,this._window=window,this.showLoading=!1}ngOnInit(){}showLoginPage(){this.router.navigateByUrl("/login")}showRegisterPage(){this.router.navigateByUrl("/register")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Gn.F0),t.Y36(Gn.gz),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-landing"]],viewQuery:function(i,o){if(1&i&&t.Gf(Sd,5),2&i){let d;t.iGM(d=t.CRH())&&(o.loginFormContainer=d.first)}},decls:12,vars:6,consts:[["id","sinovad-container",1,"sinovad-container"],[1,"sinovad-form-container"],[1,"sinovad-form-content"],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-form-button-section"],[1,"register",3,"click"],[1,"login",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.ALo(5,"async"),t.ALo(6,"formatDataPipe"),t.qZA(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return o.showRegisterPage()}),t._uU(9,"REG\xcdSTRATE"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return o.showLoginPage()}),t._uU(11,"INICIA SESI\xd3N"),t.qZA()()()()()),2&i&&(t.xp6(4),t.Q6J("src",t.lcZ(5,1,t.xi3(6,3,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH))},dependencies:[g.Ov,Kt],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;width:100%;cursor:pointer;color:#fff;padding:10px;text-align:center;border-radius:5px;font-size:14px;opacity:.8;margin-bottom:10px;font-weight:700}.sinovad-form-button-section[_ngcontent-%COMP%]   button.register[_ngcontent-%COMP%]{background-color:#007bff}.sinovad-form-button-section[_ngcontent-%COMP%]   button.login[_ngcontent-%COMP%]{background-color:#2e303d}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}button.register[_ngcontent-%COMP%]{background-color:#007bff}button.login[_ngcontent-%COMP%]{background-color:#2e303d}"]})}return r})();class cf{}var wr=S(1476),or=S(7700);const Me=function(r){return{disabled:r}};let Et=(()=>{class r{constructor(e,i){this.dialog=e,this.options=i}closeDialog(){this.dialog.close(!1)}confirmDialog(){this.dialog.close(!0)}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(or.so),t.Y36(or.WI))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-confirm-dialog"]],decls:24,vars:6,consts:[[1,"modal-container"],["role","document",1,"modal-dialog"],[1,"modal-backdrop"],[1,"modal-small"],[1,"modal-content"],[1,"modal-content-close-button",3,"click"],[1,"fa-solid","fa-xmark"],["mat-dialog-title","",1,"modal-header"],["mat-dialog-content","",1,"confirm-modal-body"],[1,"inner-modal-body"],[1,"confirm-modal-accord-label"],["type","checkbox",1,"confirm-message-accord-input"],["checkBox",""],["mat-dialog-actions","",1,"modal-footer"],[1,"modal-footer-button-bar"],[1,"confirm-modal-button","cancel",3,"click"],[1,"confirm-modal-button","confirm",3,"ngClass","click"],[1,"spinner-button-label"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),t.NdJ("click",function(){return o.closeDialog()}),t._UZ(6,"i",6),t.qZA(),t.TgZ(7,"div",7),t._uU(8),t.qZA(),t.TgZ(9,"div",8)(10,"div",9)(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"label",10),t._UZ(14,"input",11,12),t._uU(16),t.qZA()()(),t.TgZ(17,"div",13)(18,"div",14)(19,"button",15),t.NdJ("click",function(){return o.closeDialog()}),t._uU(20,"Cancelar"),t.qZA(),t.TgZ(21,"button",16),t.NdJ("click",function(){return o.confirmDialog()}),t.TgZ(22,"span",17),t._uU(23,"Eliminar"),t.qZA()()()()()()()()()),2&i){const d=t.MAs(15);t.xp6(8),t.hij(" ",o.options.title," "),t.xp6(4),t.Oqu(o.options.message),t.xp6(4),t.hij("",o.options.accordMessage," "),t.xp6(5),t.Q6J("ngClass",t.VKq(4,Me,!d.checked))}},dependencies:[g.mk,or.uh,or.xY,or.H8],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return r})();var Yt=S(8337),Vt=S(5313);class bn{constructor(n){this.matPaginatorIntl=n,this.showLoading=!0,this.dataSource=new Vt.by,this.selection=new Yt.Ov(!0,[]),this.itemsPerPage=10,this.currentPage=1,this.listItems=[],this.sortBy="Id",this.sortDirection="asc",this.searchText="",this.searchBy="",this.matPaginatorIntl.itemsPerPageLabel="Items por p\xe1gina",this.matPaginatorIntl.previousPageLabel="P\xe1gina anterior",this.matPaginatorIntl.nextPageLabel="P\xe1gina siguiente"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}updatePageData(n){this.itemsPerPage=n.pageSize,this.currentPage=n.pageIndex+1}getElementNumber(n,e,i){return n+1+(e-1)*i}onChangeCheckValue(n,e){let i=n.target.checked;if(i?this.selection.select(e):this.selection.deselect(e),n.shiftKey&&this.lastSelectedItem){let d=0;this.selection.hasValue()&&this.lastSelectedItem&&(d=this.listItems.indexOf(this.lastSelectedItem));let m=this.listItems.indexOf(e);if(i){var o;(o=this.listItems.filter(m>=d?v=>this.listItems.indexOf(v)<=m&&this.listItems.indexOf(v)>=d&&!this.selection.isSelected(v):v=>this.listItems.indexOf(v)>=m&&this.listItems.indexOf(v)<=d&&!this.selection.isSelected(v)))&&o.length>0&&this.selection.select(...o)}else{let v=[];v=this.listItems.filter(m>=d?I=>this.listItems.indexOf(I)<=m&&this.listItems.indexOf(I)>=d&&this.selection.isSelected(I):I=>this.listItems.indexOf(I)>=m&&this.listItems.indexOf(I)<=d&&this.selection.isSelected(I)),v&&v.length>0&&this.selection.deselect(...v)}}this.lastSelectedItem=e}}var In=S(3566),hi=S(2939);function ui(r,n){1&r&&t._UZ(0,"i",4)}function Ci(r,n){1&r&&t._UZ(0,"i",5)}function ki(r,n){1&r&&t._UZ(0,"i",6)}const Ui=function(r,n,e){return{success:r,info:n,error:e}};var yi=function(r){return r[r.Success=1]="Success",r[r.Error=2]="Error",r[r.Info=3]="Info",r}(yi||{});let Zc=(()=>{class r{constructor(e){this.toastOptions=e,this.snackBarRef=(0,t.f3M)(hi.OX)}SnackBarType(){return yi}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(hi.qD))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-snack-bar"]],standalone:!0,features:[t.jDz],decls:5,vars:9,consts:[[1,"custom-toast",3,"ngClass"],["class","fa-solid fa-circle-check me-2",4,"ngIf"],["class","fa-solid fa-circle-info me-2",4,"ngIf"],["class","fa-solid fa-circle-xmark me-2",4,"ngIf"],[1,"fa-solid","fa-circle-check","me-2"],[1,"fa-solid","fa-circle-info","me-2"],[1,"fa-solid","fa-circle-xmark","me-2"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,ui,1,0,"i",1),t.YNc(2,Ci,1,0,"i",2),t.YNc(3,ki,1,0,"i",3),t._uU(4),t.qZA()),2&i&&(t.Q6J("ngClass",t.kEZ(5,Ui,o.toastOptions.snackBarType==o.SnackBarType().Success,o.toastOptions.snackBarType==o.SnackBarType().Info,o.toastOptions.snackBarType==o.SnackBarType().Error)),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Success),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Info),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Error),t.xp6(1),t.hij(" ",o.toastOptions.message,"\n"))},dependencies:[hi.ZX,g.ez,g.mk,g.O5],styles:[".custom-toast[_ngcontent-%COMP%]{background:transparent;font-weight:500;width:100%;height:100%;display:flex;align-items:center}.custom-toast[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;font-size:23px}.custom-toast.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:green}.custom-toast.error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.custom-toast.info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00f}"]})}return r})();var Ua=S(6232),To=S(2438),Ko=S(4825),Bs=S(4829);const{isArray:Cc}=Array;function pu(r){return 1===r.length&&Cc(r[0])?r[0]:r}var Dc=S(8251);var Dd=S(9940);function Dl(...r){const n=(0,Dd.jO)(r),e=pu(r);return e.length?new E.y(i=>{let o=e.map(()=>[]),d=e.map(()=>!1);i.add(()=>{o=d=null});for(let m=0;!i.closed&&m<e.length;m++)(0,Bs.Xf)(e[m]).subscribe((0,Dc.x)(i,v=>{if(o[m].push(v),o.every(I=>I.length)){const I=o.map(j=>j.shift());i.next(n?n(...I):I),o.some((j,te)=>!j.length&&d[te])&&i.complete()}},()=>{d[m]=!0,!o[m].length&&i.complete()}));return()=>{o=d=null}}):Ua.E}var xc=S(5211),ko=S(9773),_a=S(8180),gu=S(9397),Jm=S(9360),ah=S(2737),lh=S(2420);function ch(...r){const n=(0,Dd.jO)(r);return(0,Jm.e)((e,i)=>{const o=r.length,d=new Array(o);let m=r.map(()=>!1),v=!1;for(let I=0;I<o;I++)(0,Bs.Xf)(r[I]).subscribe((0,Dc.x)(i,j=>{d[I]=j,!v&&!m[I]&&(m[I]=!0,(v=m.every(ah.y))&&(m=null))},lh.Z));e.subscribe((0,Dc.x)(i,I=>{if(v){const j=[I,...d];i.next(n?n(...j):j)}}))})}S(6321),S(975),S(1631),S(7921),S(3997),S(836),Math,Math,Math;const oT=["*"],yT=["dialog"];function Jl(r){return"string"==typeof r}function Ic(r){return null!=r}function Ql(r){return(r||document.body).getBoundingClientRect()}const LT={animation:!0,transitionTimerDelayMs:5},xp=()=>{},{transitionTimerDelayMs:Mp}=LT,Pu=new Map,Ea=(r,n,e,i)=>{let o=i.context||{};const d=Pu.get(n);if(d)switch(i.runningTransition){case"continue":return Ua.E;case"stop":r.run(()=>d.transition$.complete()),o=Object.assign(d.context,o),Pu.delete(n)}const m=e(n,i.animation,o)||xp;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return r.run(()=>m()),(0,b.of)(void 0).pipe(function Pv(r){return n=>new E.y(e=>n.subscribe({next:m=>r.run(()=>e.next(m)),error:m=>r.run(()=>e.error(m)),complete:()=>r.run(()=>e.complete())}))}(r));const v=new gi.x,I=new gi.x,j=v.pipe(function qm(...r){return n=>(0,xc.z)(n,(0,b.of)(...r))}(!0));Pu.set(n,{transition$:v,complete:()=>{I.next(),I.complete()},context:o});const te=function Dh(r){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(r);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return r.runOutsideAngular(()=>{const me=(0,To.R)(n,"transitionend").pipe((0,ko.R)(j),(0,L.h)(({target:et})=>et===n));(function Cd(...r){return 1===(r=pu(r)).length?(0,Bs.Xf)(r[0]):new E.y(function sh(r){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<r.length;i++)e.push((0,Bs.Xf)(r[i]).subscribe((0,Dc.x)(n,o=>{if(e){for(let d=0;d<e.length;d++)d!==i&&e[d].unsubscribe();e=null}n.next(o)})))}}(r))})((0,Ko.H)(te+Mp).pipe((0,ko.R)(j)),me,I).pipe((0,ko.R)(j)).subscribe(()=>{Pu.delete(n),r.run(()=>{m(),v.next(),v.complete()})})}),v.asObservable()};let Mh=(()=>{class r{constructor(){this.animation=LT.animation}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var $r=function(r){return r[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown",r}($r||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const kh=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ru(r){const n=Array.from(r.querySelectorAll(kh)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class Vd{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}let bS=(()=>{class r{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,_a.q)(1)).subscribe(()=>{Ea(this._zone,this._el.nativeElement,(e,i)=>{i&&Ql(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ea(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.SBq),t.Y36(t.R0b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,o){2&i&&(t.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),t.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(i,o){},encapsulation:2})}return r})();class Vs{update(n){}close(n){}dismiss(n){}}const ES=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],TS=["animation","backdropClass"];class my{_applyWindowOptions(n,e){ES.forEach(i=>{Ic(e[i])&&(n[i]=e[i])})}_applyBackdropOptions(n,e){TS.forEach(i=>{Ic(e[i])&&(n[i]=e[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,ko.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,ko.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,e,i,o){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new gi.x,this._dismissed=new gi.x,this._hidden=new gi.x,n.instance.dismissEvent.subscribe(d=>{this.dismiss(d)}),this.result=new Promise((d,m)=>{this._resolve=d,this._reject=m}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function Nd(r){return r&&r.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,b.of)(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Dl(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Kh=function(r){return r[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC",r}(Kh||{});let py=(()=>{class r{constructor(e,i,o){this._document=e,this._elRef=i,this._zone=o,this._closed$=new gi.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new t.vpe,this.shown=new gi.x,this.hidden=new gi.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Jl(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,_a.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},m=Dl(Ea(this._zone,e,()=>e.classList.remove("show"),i),Ea(this._zone,this._dialogEl.nativeElement,()=>{},i));return m.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),m}_show(){const e={animation:this.animation,runningTransition:"continue"};Dl(Ea(this._zone,this._elRef.nativeElement,(d,m)=>{m&&Ql(d),d.classList.add("show")},e),Ea(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{(0,To.R)(e,"keydown").pipe((0,ko.R)(this._closed$),(0,L.h)(o=>o.which===$r.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(Kh.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;(0,To.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,ko.R)(this._closed$),(0,gu.b)(()=>i=!1),(0,f.w)(()=>(0,To.R)(e,"mouseup").pipe((0,ko.R)(this._closed$),(0,_a.q)(1))),(0,L.h)(({target:o})=>e===o)).subscribe(()=>{i=!0}),(0,To.R)(e,"click").pipe((0,ko.R)(this._closed$)).subscribe(({target:o})=>{e===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Kh.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),o=Ru(e)[0];(i||o||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let o;o=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ea(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(g.K0),t.Y36(t.SBq),t.Y36(t.R0b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(i,o){if(1&i&&t.Gf(yT,7),2&i){let d;t.iGM(d=t.CRH())&&(o._dialogEl=d.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,o){2&i&&(t.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),t.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),t.ekj("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[t.jDz],ngContentSelectors:oT,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,o){1&i&&(t.F$t(),t.TgZ(0,"div",0,1)(2,"div",2),t.Hsn(3),t.qZA()()),2&i&&t.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return r})(),SS=(()=>{class r{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,o=i.style,{overflow:d,paddingRight:m}=o;if(e>0){const v=parseFloat(window.getComputedStyle(i).paddingRight);o.paddingRight=`${v+e}px`}return o.overflow="hidden",()=>{e>0&&(o.paddingRight=m),o.overflow=d}}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(g.K0))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),kM=(()=>{class r{constructor(e,i,o,d,m,v,I){this._applicationRef=e,this._injector=i,this._environmentInjector=o,this._document=d,this._scrollBar=m,this._rendererFactory=v,this._ngZone=I,this._activeWindowCmptHasChanged=new gi.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new t.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const j=this._windowCmpts[this._windowCmpts.length-1];((r,n,e,i=!1)=>{r.runOutsideAngular(()=>{const o=(0,To.R)(n,"focusin").pipe((0,ko.R)(e),(0,D.U)(d=>d.target));(0,To.R)(n,"keydown").pipe((0,ko.R)(e),(0,L.h)(d=>d.which===$r.Tab),ch(o)).subscribe(([d,m])=>{const[v,I]=Ru(n);(m===v||m===n)&&d.shiftKey&&(I.focus(),d.preventDefault()),m===I&&!d.shiftKey&&(v.focus(),d.preventDefault())}),i&&(0,To.R)(n,"click").pipe((0,ko.R)(e),ch(o),(0,D.U)(d=>d[1])).subscribe(d=>d.focus())})})(this._ngZone,j.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(j.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,o){const d=o.container instanceof HTMLElement?o.container:Ic(o.container)?this._document.querySelector(o.container):this._document.body,m=this._rendererFactory.createRenderer(null,null);if(!d)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const v=new Vs,I=(e=o.injector||e).get(t.lqb,null)||this._environmentInjector,j=this._getContentRef(e,I,i,v,o);let te=!1!==o.backdrop?this._attachBackdrop(d):void 0,me=this._attachWindowComponent(d,j.nodes),We=new my(me,j,te,o.beforeDismiss);return this._registerModalRef(We),this._registerWindowCmpt(me),We.hidden.pipe((0,_a.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),v.close=et=>{We.close(et)},v.dismiss=et=>{We.dismiss(et)},v.update=et=>{We.update(et)},We.update(o),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),te&&te.instance&&te.changeDetectorRef.detectChanges(),me.changeDetectorRef.detectChanges(),We}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,t.LMc)(bS,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let o=(0,t.LMc)(py,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(o.hostView),e.appendChild(o.location.nativeElement),o}_getContentRef(e,i,o,d,m){return o?o instanceof t.Rgc?this._createFromTemplateRef(o,d):Jl(o)?this._createFromString(o):this._createFromComponent(e,i,o,d,m):new Vd([])}_createFromTemplateRef(e,i){const d=e.createEmbeddedView({$implicit:i,close(m){i.close(m)},dismiss(m){i.dismiss(m)}});return this._applicationRef.attachView(d),new Vd([d.rootNodes],d)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Vd([[i]])}_createFromComponent(e,i,o,d,m){const v=t.zs3.create({providers:[{provide:Vs,useValue:d}],parent:e}),I=(0,t.LMc)(o,{environmentInjector:i,elementInjector:v}),j=I.location.nativeElement;return m.scrollable&&j.classList.add("component-host-scrollable"),this._applicationRef.attachView(I.hostView),new Vd([[j]],I.hostView,I)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(o=>{o!==e&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const o=this._modalRefs.indexOf(e);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.z2F),t.LFG(t.zs3),t.LFG(t.lqb),t.LFG(g.K0),t.LFG(SS),t.LFG(t.FYo),t.LFG(t.R0b))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),gy=(()=>{class r{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Mh))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ia=(()=>{class r{constructor(e,i,o){this._injector=e,this._modalStack=i,this._config=o}open(e,i={}){const o={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.zs3),t.LFG(kM),t.LFG(gy))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();new t.OlP("live announcer delay",{providedIn:"root",factory:function NS(){return 100}});let rs=(()=>{class r{constructor(e){this.snackBar=e}showSnackBar(e,i){var o=new hi.u_;o.duration=2e3,o.data={message:e,snackBarType:i},this.snackBar.openFromComponent(Zc,o)}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(hi.ux))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),og=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,i,o,d,m,v){return new Promise((I,j)=>{let te=mi();this.lastCallGuid=te;var me="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+v;this.restProvider.executeSinovadApiService(Xe.GET,"/roles/GetAllWithPaginationAsync"+me).then(et=>{this.lastCallGuid==te&&I(et)},et=>{console.error(et),j(et)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/roles/Update":"/roles/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/roles/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/roles/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(vt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Ml=S(5986);function sg(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function Xh(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,sg,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-checkbox",9),t._uU(13,"Activo"),t.qZA()(),t.TgZ(14,"div",10)(15,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(16,"Close"),t.qZA(),t.TgZ(17,"button",12),t._uU(18,"Guardar"),t.qZA()()(),t._UZ(19,"app-custom-spinner",13)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.roleFormGroup),t.xp6(3),t.Oqu(e.role&&e.role.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.roleFormGroup.controls.name.hasError("required")),t.xp6(6),t.Q6J("disabled",e.showLoading||!e.roleFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let ag=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.roleService=d,this.showLoading=!1,this.matcher=new Vr}ngAfterViewInit(){this.roleFormGroup=this.formBuilder.group({name:new rt.NI(this.role.Name,[rt.kI.required]),enabled:new rt.NI(this.role.Enabled)})}saveItem(){if(this.roleFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.role));e.Name=this.roleFormGroup.value.name,e.Enabled=this.roleFormGroup.value.enabled,this.roleService.saveItem(e).then(i=>{this.showLoading=!1,this.role=void 0,this.snackbarService.showSnackBar("Se guardo el rol satisfactoriamente",yi.Success),this.activeModal.close()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,yi.Error)})}else this.roleFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(rt.qu),t.Y36(Vs),t.Y36(rs),t.Y36(og))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-role-form"]],inputs:{role:"role"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,Xh,20,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.role&&o.roleFormGroup)},dependencies:[rt._Y,rt.Fj,rt.JJ,rt.JL,rt.sg,rt.u,$i,g.O5,ao.Nt,xi.KE,xi.hX,xi.TO,Ml.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();var Ms=S(5940),Rc=S(2596);function Ly(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function ky(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function Fy(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function By(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function Uy(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function em(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1," Nombre "),t.qZA())}function td(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function HS(r,n){1&r&&t._UZ(0,"th",41)}function KS(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function lg(r,n){1&r&&t._UZ(0,"tr",47)}function zd(r,n){1&r&&t._UZ(0,"tr",48)}function cg(r,n){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function YS(r,n){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,cg,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const dg=function(r){return{disable:r}},lA=function(){return[5,10,25,100]};let WS=(()=>{class r extends bn{constructor(e,i,o,d,m,v){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.roleService=v,this.displayedColumns=["Select","Id","Name","Actions"]}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new cf;e.Enabled=!0,this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(ag,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.role=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.roleService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Vt.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new or.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+e.Name+"?",accordMessage:"Si, eliminar el rol '"+e.Name+"'"},this.dialog.open(Et,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.roleService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",yi.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,yi.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new or.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Et,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.roleService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",yi.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,yi.Error)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Gn.F0),t.Y36(ia),t.Y36(or.uw),t.Y36(wr.ye),t.Y36(rs),t.Y36(og))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-role-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(wr.NW,5),t.Gf(In.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," Roles"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,Ly,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,ky,2,2,"th",17),t.YNc(25,Fy,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,By,2,0,"th",20),t.YNc(28,Uy,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,em,2,0,"th",23),t.YNc(31,td,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,HS,1,0,"th",26),t.YNc(34,KS,6,0,"td",27),t.BQk(),t.YNc(35,lg,1,0,"tr",28),t.YNc(36,zd,1,0,"tr",29),t.YNc(37,YS,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,dg,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,lA)))},dependencies:[g.mk,g.O5,wr.NW,Vt.BZ,Vt.fO,Vt.as,Vt.w1,Vt.Dz,Vt.nj,Vt.ge,Vt.ev,Vt.XQ,Vt.Gk,Vt.Ee,ao.Nt,xi.KE,xi.hX,In.YE,In.nU,Ml.oG,Ms.Ou,Rc.gM]})}return r})();const wo=(r,n)=>{const e=(0,t.f3M)(Gn.F0),i=(0,t.f3M)(Gt),o=(0,t.f3M)(Jo);return null!=localStorage.getItem("apiToken")?!!o.calledGetUserData||o.isCompletedCallGetUserData().pipe((0,gu.b)(d=>null!=i.userData||e.navigateByUrl("/landing"))):e.navigateByUrl("/landing")},Uu=(r,n)=>{const e=(0,t.f3M)(Gt),i=(0,t.f3M)(Oi),o=(0,t.f3M)(Gn.F0);return i.loadedManageMenu?!!e.checkIfIsEnableMenuOptionByPath(r.routeConfig.path)||o.navigateByUrl("/home"):i.isCompletedLoadUserManageMenu().pipe((0,gu.b)(d=>!!e.checkIfIsEnableMenuOptionByPath(r.routeConfig.path)||o.navigateByUrl("/home")))};let jy=(()=>{class r{constructor(){this.updateMediaItems$=new gi.x}updateMediaItems(){this.updateMediaItems$.next(!0)}isUpdatingMediaItems(){return this.updateMediaItems$.asObservable()}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class Vy{}class Yo{}let Nc=(()=>{class r{constructor(e){this.restProvider=e}getLibrariesByMediaServer(e){return new Promise((i,o)=>{this.restProvider.executeHttpMediaServerApi(Xe.GET,e+"/api/libraries/GetAllLibraries").then(m=>{i(m.Data)},m=>{o(m)})})}saveItem(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(i.Id>0?Xe.PUT:Xe.POST,e+"/api"+(i.Id>0?"/libraries/Update":"/libraries/Create"),i).then(I=>{o(!0)},I=>{console.error(I),d(I)})})}deleteItem(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(Xe.DELETE,e+"/api/libraries/Delete/"+i).then(v=>{o(v)},v=>{console.error(v),d(v)})})}deleteItems(e,i){return new Promise((o,d)=>{let m=[];for(let j=0;j<i.length;j++)m.push(i[j].Id);var v=m.join(",");this.restProvider.executeHttpMediaServerApi(Xe.DELETE,e+"/api/libraries/DeleteList/"+v).then(j=>{o(j)},j=>{console.error(j),d(j)})})}searchFiles(e,i){return new Promise((o,d)=>{let m=mi();this.restProvider.executeHttpMediaServerApi(Xe.POST,e+"/api/libraries/SearchFiles",{Listlibraries:i,LogIdentifier:m}).then(j=>{o(j)},j=>{console.error(j),d(j)})})}getAllMediaItemsBySearchQuery(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(Xe.GET,e+"/api/libraries/GetAllMediaItemsBySearchQuery?searchQuery="+i).then(v=>{o(v.Data)},v=>{d(v)})})}getAllMediaItems(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(Xe.GET,e+"/api/libraries/GetAllMediaItems?profileId="+i).then(v=>{o(v.Data)},v=>{d(v)})})}getMediaItemsByLibrary(e,i,o){return new Promise((d,m)=>{this.restProvider.executeHttpMediaServerApi(Xe.GET,e+"/api/libraries/GetMediaItemsByLibrary?libraryId="+i+"&profileId="+o).then(I=>{d(I.Data)},I=>{m(I)})})}getMediaItemsByMediaType(e,i,o){return new Promise((d,m)=>{this.restProvider.executeHttpMediaServerApi(Xe.GET,e+"/api/libraries/GetMediaItemsByMediaType?mediaTypeId="+i+"&profileId="+o).then(I=>{d(I.Data)},I=>{m(I)})})}getMediaItemDetail(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(Xe.GET,e+"/api/libraries/GetMediaItemDetail/"+i).then(v=>{o(v.Data)},v=>{d(v)})})}GetMediaItemDetailByMediaFileAndProfile(e,i,o){return new Promise((d,m)=>{this.restProvider.executeHttpMediaServerApi(Xe.GET,e+"/api/libraries/GetMediaItemDetailByMediaFileAndProfile?mediaFileId="+i+"&profileId="+o).then(I=>{d(I.Data)},I=>{m(I)})})}updateMediaFilePlayback(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(Xe.PUT,e+"/api/libraries/UpdateMediaFilePlayback",i).then(v=>{o(v.Data)},v=>{d(v)})})}CreateBuilderVideoFromItem(e,i,o){let d=mi();var m=e.ListMediaFiles[0],v=new Vy;v.VideoId=m.Id,v.Title=e.MediaItem.ExtendedTitle,v.PhysicalPath=m.PhysicalPath,v.MediaServerId=i.Id,v.MediaServerUrl=i.Url,v.CurrentTime=o||0,v.ProcessGUID=d,v.TimeSpan=v.CurrentTime?v.CurrentTime.toString():"0";var I=new Yo;return I.TranscodePrepareVideo=v,I.ItemDetail=e,I}CreateBuilderVideoFromEpisode(e,i,o,d){var m=this.GetTranscodeVideoFromEpisode(e,i,o,d);e.ListSeasons&&(e.CurrentSeason=e.ListSeasons.find(I=>I.SeasonNumber==i.SeasonNumber),e.CurrentEpisode=e.CurrentSeason.ListEpisodes.find(I=>I.EpisodeNumber==i.EpisodeNumber));var v=new Yo;return v.TranscodePrepareVideo=m,v.ItemDetail=e,v}GetTranscodeVideoFromEpisode(e,i,o,d){var m=i.ListMediaFiles[0];let v=mi();var I=new Vy;return I.VideoId=m.Id,I.Title=e.MediaItem.Title,I.Subtitle="T"+i.SeasonNumber+":E"+i.EpisodeNumber+" "+i.Name,I.PhysicalPath=m.PhysicalPath,I.MediaServerId=o.Id,I.MediaServerUrl=o.Url,I.ProcessGUID=v,I.CurrentTime=d||0,I.TimeSpan=I.CurrentTime?I.CurrentTime.toString():"0",I}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(vt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Gy=(()=>{class r{constructor(e,i,o,d){this.mediaService=e,this.libraryService=i,this.sharedService=o,this.restProvider=d}getMediaServers(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/mediaServers/GetAllByUserAsync/"+this.sharedService.userData.Id).then(o=>{this.sharedService.mediaServers=o.Data,this.sharedService.mediaServers.forEach(m=>{this.executeGetLibrariesByMediaServer(m)}),e(!0)},o=>{i(o)})})}executeGetLibrariesByMediaServer(e){e.isSecureConnection?this.libraryService.getLibrariesByMediaServer(e.Url).then(i=>{e.ListLibraries=i,this.mediaService.updateMediaItems()},i=>{}):(e.ListLibraries=[],this.mediaService.updateMediaItems())}getMediaServerByGuid(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/mediaServers/GetByGuidAsync/"+e).then(d=>{i(d)},d=>{console.error(d),o(d)})})}getItems(e,i,o,d,m,v,I){return new Promise((j,te)=>{let me=mi();this.lastCallGuid=me;var We="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+d+"&sortDirection="+m+"&searchText="+v+"&searchBy="+I;this.restProvider.executeSinovadApiService(Xe.GET,"/mediaServers/GetAllWithPaginationByUserAsync/"+e+We).then(pt=>{this.lastCallGuid==me&&j(pt)},pt=>{console.error(pt),te(pt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/mediaServers/Update":"/mediaServers/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/mediaServers/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/mediaServers/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(jy),t.LFG(Nc),t.LFG(Gt),t.LFG(vt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function zS(r,n){1&r&&(t.TgZ(0,"div",27),t._UZ(1,"mat-spinner"),t.qZA())}function Hy(r,n){1&r&&(t.TgZ(0,"th",28),t._uU(1,"N\xb0"),t.qZA())}function ZS(r,n){if(1&r&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function Ky(r,n){1&r&&(t.TgZ(0,"th",30),t._uU(1,"Nombre del dispositivo"),t.qZA())}function Yy(r,n){if(1&r&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.DeviceName," ")}}function ju(r,n){1&r&&(t.TgZ(0,"th",30),t._uU(1,"Nombre familiar"),t.qZA())}function $S(r,n){if(1&r&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.FamilyName," ")}}function qS(r,n){1&r&&(t.TgZ(0,"th",32),t._uU(1,"IP Privada"),t.qZA())}function Wy(r,n){if(1&r&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.IpAddress," ")}}function JS(r,n){1&r&&(t.TgZ(0,"th",34),t._uU(1,"Puerto"),t.qZA())}function zy(r,n){if(1&r&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Port," ")}}function cA(r,n){1&r&&t._UZ(0,"tr",36)}function ug(r,n){1&r&&t._UZ(0,"tr",37)}function fg(r,n){1&r&&(t.TgZ(0,"td",40),t._uU(1,"No se encontraron datos"),t.qZA())}function tc(r,n){if(1&r&&(t.TgZ(0,"tr",38),t.YNc(1,fg,2,0,"td",39),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const QS=function(){return[5,10,25,100]};let Zy=(()=>{class r extends bn{constructor(e,i,o,d){super(o),this.dialog=e,this.mediaServerService=i,this.matPaginatorIntl=o,this.snackbarService=d}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="DeviceName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"DeviceName",start:"asc",disableClear:!0}),this.searchBy="IpAddress|Port|FamilyName|DeviceName",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.mediaServerService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Vt.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new or.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el servidor "+e.DeviceName+"?",accordMessage:"Si, eliminar el servidor '"+e.DeviceName+"'"},this.dialog.open(Et,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.mediaServerService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",yi.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,yi.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new or.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Et,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.mediaServerService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",yi.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,yi.Error)})}getDisplayedColumns(){return window.innerWidth>600?["Id","DeviceName","FamilyName","IpAddress","Port"]:window.innerWidth>475?["Id","DeviceName","FamilyName"]:["Id","DeviceName"]}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(or.uw),t.Y36(Gy),t.Y36(wr.ye),t.Y36(rs))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-server-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(wr.NW,5),t.Gf(In.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:37,vars:8,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","style","width:50px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","width:50px;text-align: center;",4,"matCellDef"],["matColumnDef","DeviceName"],["mat-header-cell","","mat-sort-header","","style","width:calc(50% - 140px);text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:calc(50% - 165px);text-align: left;",4,"matCellDef"],["matColumnDef","FamilyName"],["matColumnDef","IpAddress"],["mat-header-cell","","mat-sort-header","","style","width:150px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:150px;text-align: left;",4,"matCellDef"],["matColumnDef","Port"],["mat-header-cell","","mat-sort-header","","style","width:80px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:80px;text-align: left;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",2,"width","50px","text-align","center"],["mat-cell","",2,"width","50px","text-align","center"],["mat-header-cell","","mat-sort-header","",2,"width","calc(50% - 140px)","text-align","left"],["mat-cell","",2,"width","calc(50% - 165px)","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","150px","text-align","left"],["mat-cell","",2,"width","150px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","80px","text-align","left"],["mat-cell","",2,"width","80px","text-align","left"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Buscar"),t.qZA(),t.TgZ(10,"input",4,5),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(12,"div",6),t.YNc(13,zS,2,0,"div",7),t.TgZ(14,"div",8)(15,"table",9),t.ynx(16,10),t.YNc(17,Hy,2,0,"th",11),t.YNc(18,ZS,2,1,"td",12),t.BQk(),t.ynx(19,13),t.YNc(20,Ky,2,0,"th",14),t.YNc(21,Yy,2,1,"td",15),t.BQk(),t.ynx(22,16),t.YNc(23,ju,2,0,"th",14),t.YNc(24,$S,2,1,"td",15),t.BQk(),t.ynx(25,17),t.YNc(26,qS,2,0,"th",18),t.YNc(27,Wy,2,1,"td",19),t.BQk(),t.ynx(28,20),t.YNc(29,JS,2,0,"th",21),t.YNc(30,zy,2,1,"td",22),t.BQk(),t.YNc(31,cA,1,0,"tr",23),t.YNc(32,ug,1,0,"tr",24),t.YNc(33,tc,2,1,"tr",25),t.qZA()()()()(),t.TgZ(34,"div",1)(35,"div",3),t._UZ(36,"mat-paginator",26),t.qZA()()()()),2&i&&(t.xp6(3),t.hij("",o.parentItem.UserName," : Servidores multimedia"),t.xp6(10),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(7,QS)))},dependencies:[g.O5,wr.NW,Vt.BZ,Vt.fO,Vt.as,Vt.w1,Vt.Dz,Vt.nj,Vt.ge,Vt.ev,Vt.XQ,Vt.Gk,Vt.Ee,ao.Nt,xi.KE,xi.hX,In.YE,In.nU,Ms.Ou],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:850px!important}"]})}return r})();function nc(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1),t._UZ(1,"h5",2),t.TgZ(2,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(3,"i",4),t.qZA()(),t.TgZ(4,"div",5),t._UZ(5,"app-media-server-list",6),t.qZA(),t.TgZ(6,"div",7)(7,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(8,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("parentItem",e.parent)}}let Al=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vs))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-server-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(i,o){1&i&&t.YNc(0,nc,9,1,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.parent)},dependencies:[g.O5,Zy]})}return r})(),Gs=(()=>{class r{constructor(e){this.elementRef=e,this.clickOutside=new t.vpe}ngOnInit(){}ngAfterViewInit(){}onClick(e,i){i&&(this.elementRef.nativeElement.contains(i)||this.clickOutside.emit(e))}onContextMenu(){console.log("contextmenu")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.SBq))};static#t=this.\u0275dir=t.lG2({type:r,selectors:[["","clickOutside",""]],hostBindings:function(i,o){1&i&&t.NdJ("click",function(m){return o.onClick(m,m.target)},!1,t.Jf7)("contextmenu",function(){return o.onContextMenu()})},outputs:{clickOutside:"clickOutside"}})}return r})();function $y(r,n){if(1&r&&t._UZ(0,"img",7),2&r){const e=t.oxw().$implicit;t.Q6J("src",e.imageUrl,t.LSH)}}function qy(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.iconClass)}}function XS(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickContextMenuOption(d))}),t.TgZ(1,"div",3),t.YNc(2,$y,1,1,"img",4),t.YNc(3,qy,1,3,"i",5),t.qZA(),t.TgZ(4,"div",6),t._uU(5),t.qZA()()}if(2&r){const e=n.$implicit;t.Udp("border-bottom",e.showBorderBottom?"1px solid black":""),t.xp6(2),t.Q6J("ngIf",e.imageUrl),t.xp6(1),t.Q6J("ngIf",e.iconClass),t.xp6(2),t.hij(" ",e.text," ")}}let eC=(()=>{class r{constructor(){this.hideContextMenu=new t.vpe,this.clickOption=new t.vpe}onClickOutside(){this.hideContextMenu.emit(!0)}onClickContextMenuOption(e){this.clickOption.emit(e)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-context-menu"]],decls:2,vars:5,consts:[[1,"sinovad-context-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-context-menu-option",3,"click"],[1,"sinovad-context-menu-option-icon"],["style","width:24px;",3,"src",4,"ngIf"],[3,"class",4,"ngIf"],[1,"sinovad-context-menu-option-text"],[2,"width","24px",3,"src"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(){return o.onClickOutside()}),t.YNc(1,XS,6,5,"ng-template",1),t.qZA()),2&i&&(t.Udp("top",o.top+"px")("left",o.left+"px"),t.xp6(1),t.Q6J("ngForOf",o.listOptions))},dependencies:[g.sg,g.O5,Gs],styles:[".sinovad-context-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;color:#fff}.sinovad-context-menu-option[_ngcontent-%COMP%]{display:flex;padding:10px;cursor:pointer;align-items:center;opacity:.8}.sinovad-context-menu-option[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-context-menu-option-icon[_ngcontent-%COMP%]{display:block}.sinovad-context-menu-option-text[_ngcontent-%COMP%]{padding-left:10px;display:block}"]})}return r})(),tC=(()=>{class r{constructor(e,i,o){this.factoryResolver=e,this.injector=i,this.applicationRef=o}show(e,i,o,d){return new Promise((m,v)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const j=this.factoryResolver.resolveComponentFactory(eC).create(this.injector);this.lastViewRef=j.hostView,this.applicationRef.attachView(j.hostView);let te=this;j.instance.left=i,j.instance.top=o,j.instance.listOptions=d,j.instance.clickOption.subscribe(et=>{j.destroy(),te.applicationRef.detachView(j.hostView),m(et)}),j.instance.hideContextMenu.subscribe(et=>{j.destroy(),te.applicationRef.detachView(j.hostView),v(!0)});const me=j.hostView.rootNodes[0];document.getElementById(e).appendChild(me)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function hg(r,n){1&r&&(t.TgZ(0,"div",26),t._UZ(1,"mat-spinner"),t.qZA())}function Pf(r,n){1&r&&(t.TgZ(0,"th",27),t._uU(1,"N\xb0"),t.qZA())}function nC(r,n){if(1&r&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function Jy(r,n){1&r&&(t.TgZ(0,"th",29),t._uU(1," Usuario "),t.qZA())}function iC(r,n){if(1&r&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.UserName," ")}}function rC(r,n){1&r&&(t.TgZ(0,"th",29),t._uU(1," Correo "),t.qZA())}function Qy(r,n){if(1&r&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Email," ")}}function Xy(r,n){1&r&&(t.TgZ(0,"th",29),t._uU(1," Nombres "),t.qZA())}function tm(r,n){if(1&r&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.FirstName," ")}}function oC(r,n){1&r&&(t.TgZ(0,"th",29),t._uU(1," Apellidos "),t.qZA())}function e0(r,n){if(1&r&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.LastName," ")}}function t0(r,n){1&r&&t._UZ(0,"th",31)}function n0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",32)(1,"div",33)(2,"button",34),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(3,"i",35),t.qZA()()()}}function sC(r,n){1&r&&t._UZ(0,"tr",36)}const aC=function(r){return{active:r}};function mg(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"tr",37),t.NdJ("contextmenu",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onContextMenuItem(o,m))}),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(1,aC,i.lastSelectedItem&&e.Id==i.lastSelectedItem.Id))}}function nm(r,n){1&r&&(t.TgZ(0,"td",40),t._uU(1,"No se encontraron datos"),t.qZA())}function pg(r,n){if(1&r&&(t.TgZ(0,"tr",38),t.YNc(1,nm,2,0,"td",39),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const r0=function(){return[5,10,25,100]};let gg=(()=>{class r extends bn{constructor(e,i,o,d,m,v,I){super(v),this.router=e,this.modalService=i,this.contextMenuService=o,this.dialog=d,this.userService=m,this.matPaginatorIntl=v,this.snackbarService=I}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="UserName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"UserName",start:"asc",disableClear:!0}),this.searchBy="UserName|Email|FirstName|LastName",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.userService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Vt.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new or.vA;i.data={title:"Eliminar usuario",message:"\xbfEsta seguro que desea eliminar el usuario "+e.UserName+"?",accordMessage:"Si, eliminar el usuario '"+e.UserName+"'"},this.dialog.open(Et,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.userService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",yi.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,yi.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new or.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Et,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.userService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",yi.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,yi.Error)})}getDisplayedColumns(){return window.innerWidth>1050?["Id","UserName","Email","FirstName","LastName","Actions"]:window.innerWidth>950?["Id","UserName","Email","FirstName","Actions"]:window.innerWidth>675?["Id","UserName","Email","Actions"]:(window,["Id","UserName","Actions"])}onContextMenuItem(e,i){this.lastSelectedItem=i,e.preventDefault(),e.stopPropagation();let o=[];o.push({key:"ShowMediaServers",text:"Servidores multimedia",iconClass:"fa-solid fa-server"}),o&&o.length>0&&this.renderContextMenuComponent(e.clientX,e.clientY,o,i)}renderContextMenuComponent(e,i,o,d){this.contextMenuService.show("sinovadMainContainer",e,i,o).then(m=>{"ShowMediaServers"==m.key&&this.showMediaServerListModal(d)},()=>{this.lastSelectedItem=void 0})}showMediaServerListModal(e){var i=this,o=this.modalService.open(Al,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(d=>{i.lastSelectedItem=void 0})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Gn.F0),t.Y36(ia),t.Y36(tC),t.Y36(or.uw),t.Y36(Jo),t.Y36(wr.ye),t.Y36(rs))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-user-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(wr.NW,5),t.Gf(In.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:40,vars:7,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","UserName"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Email"],["matColumnDef","FirstName"],["matColumnDef","LastName"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",3,"ngClass","contextmenu",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],[1,"fa-solid","fa-trash"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable",3,"ngClass","contextmenu"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Usuarios"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Buscar"),t.qZA(),t.TgZ(10,"input",4,5),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(12,"div",6),t.YNc(13,hg,2,0,"div",7),t.TgZ(14,"div",8)(15,"table",9),t.ynx(16,10),t.YNc(17,Pf,2,0,"th",11),t.YNc(18,nC,2,1,"td",12),t.BQk(),t.ynx(19,13),t.YNc(20,Jy,2,0,"th",14),t.YNc(21,iC,2,1,"td",15),t.BQk(),t.ynx(22,16),t.YNc(23,rC,2,0,"th",14),t.YNc(24,Qy,2,1,"td",15),t.BQk(),t.ynx(25,17),t.YNc(26,Xy,2,0,"th",14),t.YNc(27,tm,2,1,"td",15),t.BQk(),t.ynx(28,18),t.YNc(29,oC,2,0,"th",14),t.YNc(30,e0,2,1,"td",15),t.BQk(),t.ynx(31,19),t.YNc(32,t0,1,0,"th",20),t.YNc(33,n0,4,0,"td",21),t.BQk(),t.YNc(34,sC,1,0,"tr",22),t.YNc(35,mg,1,3,"tr",23),t.YNc(36,pg,2,1,"tr",24),t.qZA()()()()(),t.TgZ(37,"div",1)(38,"div",3),t._UZ(39,"mat-paginator",25),t.qZA()()()()),2&i&&(t.xp6(13),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(6,r0)))},dependencies:[g.mk,g.O5,wr.NW,Vt.BZ,Vt.fO,Vt.as,Vt.w1,Vt.Dz,Vt.nj,Vt.ge,Vt.ev,Vt.XQ,Vt.Gk,Vt.Ee,ao.Nt,xi.KE,xi.hX,In.YE,In.nU,Ms.Ou,Rc.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})(),Zd=(()=>{class r{constructor(){}ngOnInit(){}ngAfterViewInit(){}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-server-connection-error"]],inputs:{mediaServer:"mediaServer"},decls:5,vars:1,consts:[[1,"server-error-page-container"],[1,"server-error-page-content"],[1,"server-error-message-title"],[1,"server-error-message-description"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t._UZ(4,"div",3),t.qZA()()),2&i&&(t.xp6(3),t.hij(" No se puede conectar a ",o.mediaServer.FamilyName?o.mediaServer.FamilyName:o.mediaServer.DeviceName," "))}})}return r})();function o0(r,n){if(1&r&&(t.TgZ(0,"div",6)(1,"button",7)(2,"div",8),t._uU(3),t.qZA(),t.TgZ(4,"div",9),t._uU(5),t.qZA()()()),2&r){const e=t.oxw(3);t.xp6(3),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," ")}}function s0(r,n){if(1&r&&(t.TgZ(0,"div",30)(1,"div",31),t._UZ(2,"div",32),t.qZA()()),2&r){const e=t.oxw().$implicit,i=t.MAs(2),o=t.oxw(5);t.xp6(1),t.Udp("width",i.clientWidth-8+"px"),t.xp6(1),t.Udp("width",o.getWidthProgressItem(e))}}function a0(r,n){if(1&r&&(t.TgZ(0,"div",33)(1,"span"),t._uU(2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.Title)}}function l0(r,n){if(1&r&&(t.TgZ(0,"div")(1,"div",34)(2,"span"),t._uU(3),t.qZA()()()),2&r){const e=t.oxw().$implicit;t.xp6(3),t.AsE("",e.Title," ",e.Subtitle,"")}}function c0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",24)(1,"button",25,26),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(5);return t.KtG(m.onClickItem(d))}),t._UZ(3,"img",27),t.YNc(4,s0,3,4,"ng-template",0),t.qZA(),t.YNc(5,a0,3,1,"div",28),t.YNc(6,l0,4,2,"div",29),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(2).$implicit,o=t.oxw(3);t.xp6(1),t.hYB("id","item_",i.Id,"_",e.MediaItemId,""),t.xp6(2),t.Q6J("src",o.sharedService.getUrlByItemMovieDataBase(e),t.LSH),t.xp6(1),t.Q6J("ngIf",e.CurrentTime&&e.DurationTime),t.xp6(1),t.Q6J("ngIf",!e.Subtitle),t.xp6(1),t.Q6J("ngIf",e.Subtitle)}}function lC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"section",11)(1,"div",12)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"div",13)(5,"div",14)(6,"div",15,16),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),v=t.oxw(4);return t.KtG(v.onClickButtonLeftScroll(o,d,m))}),t._UZ(8,"img",17),t.ALo(9,"async"),t.ALo(10,"formatDataPipe"),t.qZA()(),t.TgZ(11,"div",18,19)(13,"div",20,21),t.YNc(15,c0,7,6,"ng-template",5),t.qZA()(),t.TgZ(16,"div",14)(17,"div",22,23),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),v=t.oxw(4);return t.KtG(v.onClickButtonRightScroll(o,d,m))}),t._UZ(19,"img",17),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()()()}if(2&r){const e=t.oxw().$implicit;t.MGl("id","section_",e.Id,""),t.xp6(3),t.Oqu(e.Name),t.xp6(5),t.Q6J("src",t.lcZ(9,5,t.xi3(10,7,"scroll-left.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngForOf",e.ListItems),t.xp6(4),t.Q6J("src",t.lcZ(20,10,t.xi3(21,12,"scroll-right.png","GetIconURLByKey")),t.LSH)}}function cC(r,n){if(1&r&&t.YNc(0,lC,22,15,"section",10),2&r){const e=n.$implicit;t.Q6J("ngIf",e.ListItems&&e.ListItems.length>0)}}function dC(r,n){if(1&r&&(t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,o0,6,2,"div",3),t.TgZ(3,"div",4),t.YNc(4,cC,1,1,"ng-template",5),t.qZA()()()),2&r){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.title),t.xp6(1),t.Udp("height",e.title?"calc(100% - 65px)":"100%"),t.xp6(1),t.Q6J("ngForOf",e.itemsGroupList)}}function uC(r,n){if(1&r&&t._UZ(0,"app-server-connection-error",35),2&r){const e=t.oxw(2);t.Q6J("mediaServer",e.currentMediaServer)}}function fC(r,n){1&r&&(t.TgZ(0,"div",36)(1,"div",37)(2,"div",38),t._uU(3," No hay servidores disponibles en este momento "),t.qZA(),t._UZ(4,"div",39),t.qZA()())}function hC(r,n){if(1&r&&(t.YNc(0,dC,5,4,"ng-template",0),t.YNc(1,uC,1,1,"ng-template",0),t.YNc(2,fC,5,0,"ng-template",0)),2&r){const e=t.oxw();t.Q6J("ngIf",e.mediaServers&&e.isEnableAnyMediaServer()||e.currentMediaServer&&e.currentMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.currentMediaServer&&!e.currentMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.mediaServers&&!e.isEnableAnyMediaServer())}}function mC(r,n){1&r&&(t.TgZ(0,"div",40),t._UZ(1,"mat-spinner"),t.qZA())}let Vu=(()=>{class r{constructor(e,i,o,d,m,v,I){this.signalIrService=e,this.libraryService=i,this.activeRoute=o,this.router=d,this.restProvider=m,this.ref=v,this.sharedService=I,this.itemsGroupList=[],this._window=window,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1};let j=this;this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(te=>{if(j.considerAllMediaServers()){var me=j.mediaServers.find(We=>We.Guid==te);me&&!me.isSecureConnection&&(j.loadingConnection=!1,me.isSecureConnection=!0,j.getItemsByMediaServer(me))}else j.currentMediaServer&&j.currentMediaServer.Guid==te&&!j.currentMediaServer.isSecureConnection&&(j.loadingConnection=!1,j.currentMediaServer.isSecureConnection=!0,j.getItemsByCurrentMediaServerAndCurrentLibrary())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(te=>{if(j.considerAllMediaServers()){var me=j.mediaServers.find(We=>We.Guid==te);me&&me.isSecureConnection&&(me.isSecureConnection=!1,j.clearItemsInGroup(me.Id))}else j.currentMediaServer&&j.currentMediaServer.Guid==te&&j.currentMediaServer.isSecureConnection&&(j.currentMediaServer.isSecureConnection=!1,j.clearItemsInGroup(j.currentMediaServer.Id))}),this.subscriptionUpdateLibrariesByMediaServer=this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(te=>{if(j.considerAllMediaServers()){var me=j.mediaServers.find(We=>We.Guid==te);me&&!me.isSecureConnection&&(me.isSecureConnection=!0,j.getItemsByMediaServer(me))}else j.currentMediaServer&&j.currentMediaServer.Guid==te&&!j.currentMediaServer.isSecureConnection&&(j.currentMediaServer.isSecureConnection=!0,j.getItemsByCurrentMediaServerAndCurrentLibrary())}),this.subscriptionUpdateItemsByMediaServer=this.signalIrService.isUpdatingItemsByMediaServer().subscribe(te=>{if(j.considerAllMediaServers()){var me=j.mediaServers.find(We=>We.Guid==te);me&&!me.isSecureConnection&&(me.isSecureConnection=!0,j.getItemsByMediaServer(me))}else j.currentMediaServer&&j.currentMediaServer.Guid==te&&!j.currentMediaServer.isSecureConnection&&(j.currentMediaServer.isSecureConnection=!0,j.getItemsByCurrentMediaServerAndCurrentLibrary())})}ngOnInit(){if(this.considerAllMediaServers())this.mediaServers=JSON.parse(JSON.stringify(this.sharedService.mediaServers)),this.isEnableAnyMediaServer()?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3),window.location.pathname.endsWith("movies")&&(this.title="Pel\xedculas"),window.location.pathname.endsWith("tvseries")&&(this.title="Series de TV"),this.mediaServers.forEach(o=>{o.isSecureConnection&&this.getItemsByMediaServer(o)});else{var e=this.activeRoute.snapshot.params.serverGuid;if(null!=e){var i=this.sharedService.mediaServers.find(o=>o.Guid==e);i?(this.currentMediaServer=JSON.parse(JSON.stringify(i)),this.currentMediaServer.isSecureConnection?(this.loadingConnection=!1,this.getItemsByCurrentMediaServerAndCurrentLibrary()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}else this.router.navigateByUrl("/404")}}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe(),this.subscriptionUpdateLibrariesByMediaServer.unsubscribe(),this.subscriptionUpdateItemsByMediaServer.unsubscribe()}isEnableAnyMediaServer(){return this.mediaServers.filter(e=>e.isSecureConnection).length>0}considerAllMediaServers(){return!!(window.location.pathname.endsWith("home")||window.location.pathname.endsWith("movies")||window.location.pathname.endsWith("tvseries"))}getItemsByCurrentMediaServerAndCurrentLibrary(){var e=this.activeRoute.snapshot.params.libraryId;e?this.libraryService.getLibrariesByMediaServer(this.currentMediaServer.Url).then(i=>{this.currentMediaServer.ListLibraries=i;var o=this.currentMediaServer.ListLibraries.findIndex(d=>d.Id==e);-1!=o&&(this.currentLibrary=this.currentMediaServer.ListLibraries[o],this.title=this.currentLibrary.Name,this.subtitle=this.currentMediaServer.FamilyName?this.currentMediaServer.FamilyName:this.currentMediaServer.DeviceName,this.libraryService.getMediaItemsByLibrary(this.currentMediaServer.Url,this.currentLibrary.Id,this.sharedService.currentProfile.Id).then(d=>{this.setItemsInGroup(this.currentMediaServer.Id,d)},d=>{console.error(d)}))}):(this.title=this.currentMediaServer.FamilyName?this.currentMediaServer.FamilyName:this.currentMediaServer.DeviceName,this.libraryService.getAllMediaItems(this.currentMediaServer.Url,this.sharedService.currentProfile.Id).then(i=>{this.setItemsInGroup(this.currentMediaServer.Id,i)},i=>{console.error(i)}))}getItemsByMediaServer(e){window.location.pathname.endsWith("home")?this.libraryService.getAllMediaItems(e.Url,this.sharedService.currentProfile.Id).then(i=>{this.setItemsInGroup(e.Id,i)},i=>{}):window.location.pathname.endsWith("movies")?this.libraryService.getMediaItemsByMediaType(e.Url,St.Movie,this.sharedService.currentProfile.Id).then(i=>{this.setItemsInGroup(e.Id,i)},i=>{console.error(i)}):window.location.pathname.endsWith("tvseries")&&this.libraryService.getMediaItemsByMediaType(e.Url,St.TvSerie,this.sharedService.currentProfile.Id).then(i=>{this.setItemsInGroup(e.Id,i)},i=>{console.error(i)})}setItemsInGroup(e,i){i.length>0&&(i.forEach(o=>{var d=this.itemsGroupList.find(j=>j.Name==o.Name);if(null==d)this.itemsGroupList.push(o);else{var I=d.ListItems.filter(j=>j.MediaServerId!=e).concat(o.ListItems).sort((j,te)=>new Date(j.Created).getTime()>new Date(te.Created).getTime()?-1:new Date(te.Created).getTime()>new Date(j.Created).getTime()?1:0);d.ListItems=I}}),this.itemsGroupList=this.itemsGroupList.sort((o,d)=>o.Id>d.Id?1:o.Id<=d.Id?-1:0))}clearItemsInGroup(e){this.itemsGroupList.forEach(i=>{var o=i.ListItems.filter(d=>d.MediaServerId!=e);i.ListItems=o.sort((d,m)=>new Date(d.Created).getTime()>new Date(m.Created).getTime()?-1:new Date(m.Created).getTime()>new Date(d.Created).getTime()?1:0)})}getWidthProgressItem(e){return e.CurrentTime/e.DurationTime*100+"%"}onClickButtonLeftScroll(e,i,o){e.scrollLeft=e.scrollLeft-300,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}onClickButtonRightScroll(e,i,o){e.scrollLeft=e.scrollLeft+300,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}verifyIfShoOrHiddenScrollButtons(e,i,o){i.style.display=e.scrollLeft<=0?"none":"flex",o.style.display=e.scrollWidth==e.scrollLeft+e.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(e,i,o){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(e,i,o)},250)}onClickItem(e){null!=e.CurrentTime&&e.CurrentTime>0?this.continueVideoByItem(e):this.getMediaItemDetail(e)}getMediaItemDetail(e){var i=this.sharedService.mediaServers.find(o=>o.Id==e.MediaServerId);this.router.navigateByUrl("/media/server/"+i.Guid+"/libraries/"+e.LibraryId+"/detail?mediaType="+e.MediaTypeId+"&mediaId="+e.MediaItemId)}continueVideoByItem(e){var i=this.sharedService.mediaServers.find(o=>o.Id==e.MediaServerId);this.router.navigateByUrl("/media/server/"+i.Guid+"/video/"+e.FileId)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Io),t.Y36(Nc),t.Y36(Gn.gz),t.Y36(Gn.F0),t.Y36(vt),t.Y36(t.sBO),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-items"]],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],[1,"media-container"],["class","media-header",4,"ngIf"],[1,"sinovad-list-container","sinovad-custom-container"],["ngFor","",3,"ngForOf"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],["tabindex","0",3,"id",4,"ngIf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-title"],[1,"sinovad-list-row-container"],[2,"width","0px","height","0px"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["itemContainer",""],["referrerpolicy","no-referrer",3,"src"],["class","sinovad-item-caption-container",4,"ngIf"],[4,"ngIf"],[1,"sinovad-item-progress-bar-absolute-container"],[1,"sinovad-item-progress-bar-container"],[1,"sinovad-item-progress-bar-content"],[1,"sinovad-item-caption-container"],[1,"sinovad-item-title-caption-container"],[3,"mediaServer"],[1,"server-error-page-container"],[1,"server-error-page-content"],[1,"server-error-message-title"],[1,"server-error-message-description"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.YNc(0,hC,3,3,"ng-template",0),t.YNc(1,mC,2,0,"ng-template",0)),2&i&&(t.Q6J("ngIf",!o.loadingConnection),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.sg,g.O5,Ms.Ou,Zd,g.Ov,Kt],styles:["[_nghost-%COMP%]{width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovadclient-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:9999;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovadclient-title-section[_ngcontent-%COMP%]{margin:10px 10px 10px 16px;font-size:30px;font-weight:700}.sinovadclient-section[_ngcontent-%COMP%]{margin:10px}.sinovad-item-container[_ngcontent-%COMP%]{padding-right:10px;width:min-content;margin:6px;border-radius:6px}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-vertical-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;overflow-y:auto;overflow-x:hidden}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-item-title-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-item-subtitle-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:400;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-list-container[_ngcontent-%COMP%]{padding:20px;overflow-x:hidden;overflow-y:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:220px;top:6px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;font-family:sans-serif;padding:0 0 0 8px}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:220px;top:6px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover, .sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2);opacity:.6}.sinovad-item-progress-bar-absolute-container[_ngcontent-%COMP%]{width:0px;height:0px;margin-bottom:9px}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:-9px;margin-left:4px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%]{display:none!important}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:170px;width:170px;height:220px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:20px}@media only screen and (min-width: 2048px){.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return r})();class pC{constructor(n,e,i){this.router=n,this.activeRoute=e,this.sharedService=i}initializeHeaderData(){var n=this.activeRoute.snapshot.params.serverGuid;if(null!=n){var e=this.sharedService.mediaServers.find(d=>d.Guid==n);if(e){this.mediaServer=JSON.parse(JSON.stringify(e));var i=this.activeRoute.snapshot.params.libraryId;if(null!=e.ListLibraries&&e.ListLibraries.length>0){var o=e.ListLibraries.find(d=>d.MediaServerId==this.mediaServer.Id&&d.Id==i);null!=o?(this.library=o,this.title=o.Name,this.subtitle=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName):this.title=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName}}}}}function gC(r,n){if(1&r&&t._UZ(0,"img",10),2&r){const e=t.oxw(3);t.Q6J("src",e.sharedService.getUrlByItemDetailMovieDataBase(e.detail),t.LSH)}}function _C(r,n){if(1&r&&(t.TgZ(0,"div",11)(1,"button",12)(2,"div",13),t._uU(3),t.qZA(),t.TgZ(4,"div",14),t._uU(5),t.qZA()()()),2&r){const e=t.oxw(3);t.xp6(3),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," ")}}function vC(r,n){if(1&r&&(t.TgZ(0,"div",18)(1,"span",23),t._uU(2,"Director: "),t.qZA(),t.TgZ(3,"span",24),t._uU(4),t.qZA()()),2&r){const e=t.oxw(5);t.xp6(4),t.Oqu(e.detail.MediaItem.Directors)}}function yC(r,n){if(1&r&&(t.TgZ(0,"div",18)(1,"span",23),t._uU(2,"Reparto: "),t.qZA(),t.TgZ(3,"span",24),t._uU(4),t.qZA()()),2&r){const e=t.oxw(5);t.xp6(4),t.Oqu(e.detail.MediaItem.Actors)}}function bC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div")(2,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.continueVideo())}),t._uU(3,"Continuar"),t.qZA()(),t.TgZ(4,"div",26),t._UZ(5,"div",27),t.qZA(),t.TgZ(6,"div",28),t._uU(7),t.qZA()()}if(2&r){const e=t.oxw(5);t.xp6(5),t.Udp("width",e.getWidthProgressItem(e.lastEpisodeWatched)),t.xp6(2),t.hij(" ",e.lastEpisodeWatched.Subtitle," ")}}function EC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.showVideo())}),t._uU(1,"Ver desde el principio"),t.qZA(),t.TgZ(2,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.continueVideo())}),t._uU(3,"Continuar viendo"),t.qZA()}}function TC(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.showVideo())}),t._UZ(1,"i",31),t._uU(2," Ver ahora "),t.qZA()}}function SC(r,n){if(1&r&&(t.YNc(0,EC,4,0,"ng-template",0),t.YNc(1,TC,3,0,"ng-template",0)),2&r){const e=t.oxw(5);t.Q6J("ngIf",e.itemUserData),t.xp6(1),t.Q6J("ngIf",!e.itemUserData)}}function d0(r,n){if(1&r&&(t.TgZ(0,"div",32),t._uU(1),t.qZA()),2&r){const e=t.oxw(5);t.xp6(1),t.hij(" ",e.detail.MediaItem.Overview," ")}}function u0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"img",46),t.NdJ("error",function(){t.CHM(e),t.oxw();const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),v=t.oxw(5);return t.KtG(v.onInitializeItemsRow(o,d,m))}),t.qZA()}}const f0=function(r){return{selected:r}};function h0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",47)(1,"button",48),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(6);return t.KtG(m.onClickSeason(d))}),t.TgZ(2,"span"),t._uU(3),t.qZA()()()}if(2&r){const e=n.$implicit,i=t.oxw(6);t.xp6(1),t.MGl("id","section_season_",e.SeasonNumber,""),t.Q6J("ngClass",t.VKq(3,f0,e.SeasonNumber==i.detail.CurrentSeason.SeasonNumber)),t.xp6(2),t.Oqu(e.Name)}}function m0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"section",49)(1,"button",50),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(6);return t.KtG(m.onClickEpisode(d))}),t.TgZ(2,"div",51),t._UZ(3,"img",10),t.qZA(),t.TgZ(4,"div",52)(5,"div",53),t._uU(6),t.qZA(),t.TgZ(7,"div",54),t._uU(8),t.qZA()()()()}if(2&r){const e=n.$implicit,i=t.oxw(6);t.hYB("id","section_episode_s",e.SeasonNumber,"_e",e.EpisodeNumber,""),t.xp6(1),t.hYB("id","button_episode_s",e.SeasonNumber,"_e",e.EpisodeNumber,""),t.xp6(2),t.Q6J("src",i.getEpisodeImagePath(e),t.LSH),t.xp6(3),t.AsE(" ",e.EpisodeNumber,". ",e.Name," "),t.xp6(2),t.hij(" ",e.Overview," ")}}function p0(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",33)(1,"div"),t._uU(2," EPISODIOS "),t.qZA(),t.TgZ(3,"div",34),t.YNc(4,u0,1,0,"img",35),t.TgZ(5,"div",3)(6,"div",36,37),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),v=t.oxw(5);return t.KtG(v.onClickButtonLeftScroll(o,d,m))}),t._UZ(8,"img",10),t.ALo(9,"async"),t.ALo(10,"formatDataPipe"),t.qZA()(),t.TgZ(11,"div",38,39)(13,"section",40,41),t.YNc(15,h0,4,5,"ng-template",42),t.qZA()(),t.TgZ(16,"div",3)(17,"div",43,44),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),d=t.MAs(7),m=t.MAs(18),v=t.oxw(5);return t.KtG(v.onClickButtonRightScroll(o,d,m))}),t._UZ(19,"img",10),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()(),t.TgZ(22,"div",45),t.YNc(23,m0,9,8,"ng-template",42),t.qZA()()}if(2&r){const e=t.oxw(5);t.xp6(4),t.Q6J("ngIf",!e.startResize),t.xp6(4),t.Q6J("src",t.lcZ(9,5,t.xi3(10,7,"left.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngForOf",e.detail.ListSeasons),t.xp6(4),t.Q6J("src",t.lcZ(20,10,t.xi3(21,12,"right.png","GetIconURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngForOf",e.detail.CurrentSeason.ListEpisodes)}}function g0(r,n){if(1&r&&(t.TgZ(0,"div",16)(1,"div",17),t._uU(2),t.qZA(),t.TgZ(3,"div",18),t._uU(4),t.qZA(),t.YNc(5,vC,5,1,"div",19),t.YNc(6,yC,5,1,"div",19),t.TgZ(7,"section",20),t.YNc(8,bC,8,3,"ng-template",0),t.YNc(9,SC,2,2,"ng-template",0),t.qZA(),t.YNc(10,d0,2,1,"div",21),t.YNc(11,p0,24,15,"div",22),t.qZA()),2&r){const e=t.oxw(4);t.xp6(2),t.hij(" ",e.detail.MediaItem.Title," "),t.xp6(2),t.hij(" ",e.detail.MediaItem.Genres," "),t.xp6(1),t.Q6J("ngIf",e.detail.MediaItem.Directors),t.xp6(1),t.Q6J("ngIf",e.detail.MediaItem.Actors),t.xp6(2),t.Q6J("ngIf",e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",!e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",!e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",e.detail.ListSeasons&&e.detail.ListSeasons.length>0)}}function _0(r,n){if(1&r&&(t.TgZ(0,"div",15),t.YNc(1,g0,12,8,"ng-template",0),t.qZA()),2&r){const e=t.oxw(3);t.Udp("height",e.title?"calc(100% - 65px)":"100%"),t.xp6(1),t.Q6J("ngIf",e.detail)}}function v0(r,n){if(1&r&&(t.TgZ(0,"div",1,2)(2,"div",3)(3,"div",4)(4,"div",5),t.YNc(5,gC,1,1,"img",6),t.qZA()()(),t.TgZ(6,"div",7),t.YNc(7,_C,6,2,"div",8),t.YNc(8,_0,2,3,"div",9),t.qZA()()),2&r){const e=t.MAs(1),i=t.oxw(2);t.xp6(4),t.Udp("width",e.clientWidth+"px"),t.xp6(1),t.Q6J("ngIf",i.detail),t.xp6(2),t.Q6J("ngIf",i.title),t.xp6(1),t.Q6J("ngIf",i.detail)}}function _g(r,n){if(1&r&&t._UZ(0,"app-server-connection-error",55),2&r){const e=t.oxw(2);t.Q6J("mediaServer",e.mediaServer)}}function vg(r,n){if(1&r&&(t.YNc(0,v0,9,5,"ng-template",0),t.YNc(1,_g,1,1,"ng-template",0)),2&r){const e=t.oxw();t.Q6J("ngIf",e.mediaServer&&e.mediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.mediaServer&&!e.mediaServer.isSecureConnection)}}function $d(r,n){1&r&&(t.TgZ(0,"div",56),t._UZ(1,"mat-spinner"),t.qZA())}let y0=(()=>{class r extends pC{constructor(e,i,o,d,m,v){super(d,o,v),this.signalIrService=e,this.libraryService=i,this.activeRoute=o,this.router=d,this.ref=m,this.sharedService=v,this._window=window,this.startResize=!1,this.loadingConnection=!0,this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(I=>{this.mediaServer&&this.mediaServer.Guid==I&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0,this.getMediaItemDetail())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(I=>{this.mediaServer&&this.mediaServer.Guid==I&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){this.initializeHeaderData(),this.mediaServer?this.mediaServer.isSecureConnection?(this.loadingConnection=!1,this.getMediaItemDetail()):setTimeout(()=>{this.loadingConnection=!1},3e3):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getMediaItemDetail(){let e=this.activeRoute.snapshot.queryParams.mediaId;e?this.libraryService.getMediaItemDetail(this.mediaServer.Url,e).then(i=>{this.detail=i,this.detail.CurrentSeason=this.detail.ListSeasons[0]},i=>{this.router.navigate(["404"],{skipLocationChange:!1})}):this.router.navigate(["404"],{skipLocationChange:!1})}getEpisodeImagePath(e){return this.detail.MediaItem.MetadataAgentsId==Qt.TMDb&&e.PosterPath?this.sharedService.urlEpisodeDataBase+e.PosterPath:this.sharedService.getUrlByItemDetailMovieDataBase(this.detail)}verifyIfShoOrHiddenScrollButtons(e,i,o){i.style.display=e.scrollLeft<=0?"none":"flex",o.style.display=e.scrollWidth==e.scrollLeft+e.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(e,i,o){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(e,i,o)},250)}onClickButtonLeftScroll(e,i,o){e.scrollLeft=e.scrollLeft-20,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}onClickButtonRightScroll(e,i,o){e.scrollLeft=e.scrollLeft+20,this.verifyIfShoOrHiddenScrollButtons(e,i,o)}getWidthProgressItem(e){return e.CurrentTime/e.DurationTime*100+"%"}continueVideo(){}showVideo(){if(this.detail.MediaItem.MediaTypeId==St.Movie)this.getVideosByItem();else if(this.detail.ListSeasons&&this.detail.ListSeasons.length>0){let e=this.detail.ListSeasons[0];e.ListEpisodes&&e.ListEpisodes.length>0&&this.getVideoByEpisode(e.ListEpisodes[0])}}getVideosByItem(){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+this.detail.ListMediaFiles[0].Id)}onClickSeason(e){this.detail.CurrentSeason=e}onClickEpisode(e){this.getVideoByEpisode(e)}getVideoByEpisode(e){this.router.navigateByUrl("/media/server/"+this.mediaServer.Guid+"/video/"+e.ListMediaFiles[0].Id)}onResize(e){setTimeout(()=>{this.startResize=!0,this.ref.detectChanges(),this.startResize=!1,this.ref.detectChanges()},100)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Io),t.Y36(Nc),t.Y36(Gn.gz),t.Y36(Gn.F0),t.Y36(t.sBO),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-detail"]],hostBindings:function(i,o){1&i&&t.NdJ("resize",function(m){return o.onResize(m)},!1,t.Jf7)},features:[t.qOj],decls:2,vars:2,consts:[[3,"ngIf"],[1,"media-principal-section"],["container",""],[2,"width","0px","height","0px"],[1,"sinovad-item-view-background-container"],[2,"position","fixed"],[3,"src",4,"ngIf"],[1,"media-container"],["class","media-header",4,"ngIf"],["class","sinovad-item-view-container sinovad-custom-container",3,"height",4,"ngIf"],[3,"src"],[1,"media-header"],[1,"media-header-button"],[1,"title"],[1,"subtitle"],[1,"sinovad-item-view-container","sinovad-custom-container"],[1,"sinovad-item-view-principal-section"],[1,"sinovad-item-view-title-container"],[1,"sinovad-item-view-subtitle-container"],["class","sinovad-item-view-subtitle-container",4,"ngIf"],["id","section_principal_buttons",1,"sinovad-item-view-principal-button-container","sinovad-section"],["class","sinovad-item-view-summary-container",4,"ngIf"],["class","sinovad-item-view-seasons-container",4,"ngIf"],[2,"font-weight","bold"],[2,"font-weight","normal"],["id","continue_play",1,"",3,"click"],[1,"sinovad-item-progress-bar-container",2,"width","300px"],[1,"sinovad-item-progress-bar-content"],[2,"margin-top","5px"],["id","restart_play",1,"",3,"click"],["id","play_now",1,"",3,"click"],[1,"fa-solid","fa-play","me-1"],[1,"sinovad-item-view-summary-container"],[1,"sinovad-item-view-seasons-container"],[1,"sinovad-list-row-container"],["style","display:none;","src","",3,"error",4,"ngIf"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[1,"sinovad-list-row","sinovad-section"],["itemsRowContainer",""],["id","section_seasons",1,"sinovad-list-content"],["content",""],["ngFor","",3,"ngForOf"],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-view-episodes-container"],["src","",2,"display","none",3,"error"],[1,"sinovad-season-container"],[1,"sinovad-season-button",3,"id","ngClass","click"],[1,"sinovad-section",3,"id"],[1,"sinovad-episode-button",3,"id","click"],[1,"sinovad-episode-image-section"],[1,"sinovad-episode-detail-section"],[1,"sinovad-episode-title-section"],[1,"sinovad-overview-section"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.YNc(0,vg,2,2,"ng-template",0),t.YNc(1,$d,2,0,"ng-template",0)),2&i&&(t.Q6J("ngIf",!o.loadingConnection),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.mk,g.sg,g.O5,Ms.Ou,Zd,g.Ov,Kt],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-episode-button[_ngcontent-%COMP%]{width:100%;cursor:pointer;display:flex;border-radius:5px;margin-bottom:15px;padding:0;border:none;background:transparent}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;font-weight:400;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:10}.sinovad-episode-title-section[_ngcontent-%COMP%]{margin-bottom:10px;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:1}.sinovad-episode-image-section[_ngcontent-%COMP%]{display:block}.sinovad-episode-detail-section[_ngcontent-%COMP%]{display:block;background-color:transparent;color:#fff;padding:20px;text-align:left;width:100%}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:10px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-item-view-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;outline:none}.sinovad-item-view-title-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:50px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-background-container[_ngcontent-%COMP%]{position:relative}.sinovad-item-view-background-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;width:100%;opacity:.5}.sinovad-item-view-seasons-container[_ngcontent-%COMP%]{position:relative;width:100%;font-size:20px;color:#fff;padding-right:20px;padding-left:20px;padding-top:20px;font-weight:700}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:82px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.4;max-width:unset;height:110px;display:none}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:82px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:110px;display:none;opacity:.4}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;width:100%}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-season-container[_ngcontent-%COMP%]{padding-right:10px}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;text-align:center;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:10px 10px 4px;background:transparent;border:none}.sinovad-season-button[_ngcontent-%COMP%]:hover{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus-visible{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus{border-bottom:4px solid #007bff!important}.sinovad-season-button.selected[_ngcontent-%COMP%]{border-bottom:4px solid #007bff}button[_ngcontent-%COMP%]{font-size:25px}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{display:none!important}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border:4px solid transparent}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:15px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:13px;-webkit-line-clamp:7}.sinovad-season-button[_ngcontent-%COMP%]{font-size:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px;border:none;background:white;color:#000;font-weight:700;padding:8px 20px;border-radius:5px;margin-right:10px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:#007bff;color:#fff}.sinovad-item-view-summary-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;color:#fff;padding:20px;font-size:16px}@media only screen and (min-width: 2048px){.sinovad-item-view-summary-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:50px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:25px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;-webkit-line-clamp:10}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px}}@media only screen and (max-width: 767px){.sinovad-episode-button[_ngcontent-%COMP%]{display:block;text-align:left;margin-bottom:20px}.sinovad-episode-detail-section[_ngcontent-%COMP%]{padding:0 8px}.sinovad-episode-image-section[_ngcontent-%COMP%]{margin-bottom:10px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset;width:100%;max-height:410px;object-fit:cover;object-position:top}.sinovad-episode-title-section[_ngcontent-%COMP%]{-webkit-line-clamp:2}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media only screen and (max-width: 575px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:320px}}@media only screen and (max-width: 475px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:260px}}@media only screen and (max-width: 375px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px}}"]})}return r})();var Gu=S(5094),nd=S(4753);function uA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var i,o,d,m,v,im={exports:{}};i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,o=/^(?=([^\/?#]*))\1([^]*)$/,d=/(?:\/|^)\.(?=\/)/g,m=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,im.exports=v={buildAbsoluteURL:function(I,j,te){if(te=te||{},I=I.trim(),!(j=j.trim())){if(!te.alwaysNormalize)return I;var me=v.parseURL(I);if(!me)throw new Error("Error trying to parse base URL.");return me.path=v.normalizePath(me.path),v.buildURLFromParts(me)}var We=v.parseURL(j);if(!We)throw new Error("Error trying to parse relative URL.");if(We.scheme)return te.alwaysNormalize?(We.path=v.normalizePath(We.path),v.buildURLFromParts(We)):j;var et=v.parseURL(I);if(!et)throw new Error("Error trying to parse base URL.");if(!et.netLoc&&et.path&&"/"!==et.path[0]){var pt=o.exec(et.path);et.netLoc=pt[1],et.path=pt[2]}et.netLoc&&!et.path&&(et.path="/");var Ct={scheme:et.scheme,netLoc:We.netLoc,path:null,params:We.params,query:We.query,fragment:We.fragment};if(!We.netLoc&&(Ct.netLoc=et.netLoc,"/"!==We.path[0]))if(We.path){var Ot=et.path,Zt=Ot.substring(0,Ot.lastIndexOf("/")+1)+We.path;Ct.path=v.normalizePath(Zt)}else Ct.path=et.path,We.params||(Ct.params=et.params,We.query||(Ct.query=et.query));return null===Ct.path&&(Ct.path=te.alwaysNormalize?v.normalizePath(We.path):We.path),v.buildURLFromParts(Ct)},parseURL:function(I){var j=i.exec(I);return j?{scheme:j[1]||"",netLoc:j[2]||"",path:j[3]||"",params:j[4]||"",query:j[5]||"",fragment:j[6]||""}:null},normalizePath:function(I){for(I=I.split("").reverse().join("").replace(d,"");I.length!==(I=I.replace(m,"")).length;);return I.split("").reverse().join("")},buildURLFromParts:function(I){return I.scheme+I.netLoc+I.path+I.params+I.query+I.fragment}};var b0=im.exports;function yg(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,i)}return e}function ra(r){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?yg(Object(e),!0).forEach(function(i){fA(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):yg(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function fA(r,n,e){return n=function DC(r){var n=function CC(r,n){if("object"!=typeof r||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var i=e.call(r,n||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(r)}(r,"string");return"symbol"==typeof n?n:String(n)}(n),n in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r}function po(){return po=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},po.apply(this,arguments)}const Ni=Number.isFinite||function(r){return"number"==typeof r&&isFinite(r)};let Rt=function(r){return r.MEDIA_ATTACHING="hlsMediaAttaching",r.MEDIA_ATTACHED="hlsMediaAttached",r.MEDIA_DETACHING="hlsMediaDetaching",r.MEDIA_DETACHED="hlsMediaDetached",r.BUFFER_RESET="hlsBufferReset",r.BUFFER_CODECS="hlsBufferCodecs",r.BUFFER_CREATED="hlsBufferCreated",r.BUFFER_APPENDING="hlsBufferAppending",r.BUFFER_APPENDED="hlsBufferAppended",r.BUFFER_EOS="hlsBufferEos",r.BUFFER_FLUSHING="hlsBufferFlushing",r.BUFFER_FLUSHED="hlsBufferFlushed",r.MANIFEST_LOADING="hlsManifestLoading",r.MANIFEST_LOADED="hlsManifestLoaded",r.MANIFEST_PARSED="hlsManifestParsed",r.LEVEL_SWITCHING="hlsLevelSwitching",r.LEVEL_SWITCHED="hlsLevelSwitched",r.LEVEL_LOADING="hlsLevelLoading",r.LEVEL_LOADED="hlsLevelLoaded",r.LEVEL_UPDATED="hlsLevelUpdated",r.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",r.LEVELS_UPDATED="hlsLevelsUpdated",r.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",r.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",r.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",r.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",r.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",r.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",r.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",r.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",r.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",r.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",r.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",r.CUES_PARSED="hlsCuesParsed",r.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",r.INIT_PTS_FOUND="hlsInitPtsFound",r.FRAG_LOADING="hlsFragLoading",r.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",r.FRAG_LOADED="hlsFragLoaded",r.FRAG_DECRYPTED="hlsFragDecrypted",r.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",r.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",r.FRAG_PARSING_METADATA="hlsFragParsingMetadata",r.FRAG_PARSED="hlsFragParsed",r.FRAG_BUFFERED="hlsFragBuffered",r.FRAG_CHANGED="hlsFragChanged",r.FPS_DROP="hlsFpsDrop",r.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",r.ERROR="hlsError",r.DESTROYING="hlsDestroying",r.KEY_LOADING="hlsKeyLoading",r.KEY_LOADED="hlsKeyLoaded",r.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",r.BACK_BUFFER_REACHED="hlsBackBufferReached",r}({}),Fi=function(r){return r.NETWORK_ERROR="networkError",r.MEDIA_ERROR="mediaError",r.KEY_SYSTEM_ERROR="keySystemError",r.MUX_ERROR="muxError",r.OTHER_ERROR="otherError",r}({}),Vn=function(r){return r.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",r.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",r.KEY_SYSTEM_NO_SESSION="keySystemNoSession",r.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",r.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",r.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",r.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",r.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",r.MANIFEST_LOAD_ERROR="manifestLoadError",r.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",r.MANIFEST_PARSING_ERROR="manifestParsingError",r.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",r.LEVEL_EMPTY_ERROR="levelEmptyError",r.LEVEL_LOAD_ERROR="levelLoadError",r.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",r.LEVEL_PARSING_ERROR="levelParsingError",r.LEVEL_SWITCH_ERROR="levelSwitchError",r.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",r.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",r.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",r.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",r.FRAG_LOAD_ERROR="fragLoadError",r.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",r.FRAG_DECRYPT_ERROR="fragDecryptError",r.FRAG_PARSING_ERROR="fragParsingError",r.FRAG_GAP="fragGap",r.REMUX_ALLOC_ERROR="remuxAllocError",r.KEY_LOAD_ERROR="keyLoadError",r.KEY_LOAD_TIMEOUT="keyLoadTimeOut",r.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",r.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",r.BUFFER_APPEND_ERROR="bufferAppendError",r.BUFFER_APPENDING_ERROR="bufferAppendingError",r.BUFFER_STALLED_ERROR="bufferStalledError",r.BUFFER_FULL_ERROR="bufferFullError",r.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",r.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",r.INTERNAL_EXCEPTION="internalException",r.INTERNAL_ABORTED="aborted",r.UNKNOWN="unknown",r}({});const ic=function(){},Hs={trace:ic,debug:ic,log:ic,warn:ic,info:ic,error:ic};let rm=Hs;const Dn=rm,S0=/^(\d+)x(\d+)$/,bg=/(.+?)=(".*?"|.*?)(?:,|$)/g;class go{constructor(n){"string"==typeof n&&(n=go.parseAttrList(n));for(const e in n)n.hasOwnProperty(e)&&("X-"===e.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(e)),this[e]=n[e])}decimalInteger(n){const e=parseInt(this[n],10);return e>Number.MAX_SAFE_INTEGER?1/0:e}hexadecimalInteger(n){if(this[n]){let e=(this[n]||"0x").slice(2);e=(1&e.length?"0":"")+e;const i=new Uint8Array(e.length/2);for(let o=0;o<e.length/2;o++)i[o]=parseInt(e.slice(2*o,2*o+2),16);return i}return null}hexadecimalIntegerAsNumber(n){const e=parseInt(this[n],16);return e>Number.MAX_SAFE_INTEGER?1/0:e}decimalFloatingPoint(n){return parseFloat(this[n])}optionalFloat(n,e){const i=this[n];return i?parseFloat(i):e}enumeratedString(n){return this[n]}bool(n){return"YES"===this[n]}decimalResolution(n){const e=S0.exec(this[n]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}}static parseAttrList(n){let e;const i={};for(bg.lastIndex=0;null!==(e=bg.exec(n));){let d=e[2];0===d.indexOf('"')&&d.lastIndexOf('"')===d.length-1&&(d=d.slice(1,-1)),i[e[1].trim()]=d}return i}}function AC(r){return"SCTE35-OUT"===r||"SCTE35-IN"===r}class C0{constructor(n,e){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,e){const i=e.attr;for(const o in i)if(Object.prototype.hasOwnProperty.call(n,o)&&n[o]!==i[o]){Dn.warn(`DATERANGE tag attribute: "${o}" does not match for tags with ID: "${n.ID}"`),this._badValueForSameId=o;break}n=po(new go({}),i,n)}if(this.attr=n,this._startDate=new Date(n["START-DATE"]),"END-DATE"in this.attr){const i=new Date(this.attr["END-DATE"]);Ni(i.getTime())&&(this._endDate=i)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const n=this.duration;return null!==n?new Date(this._startDate.getTime()+1e3*n):null}get duration(){if("DURATION"in this.attr){const n=this.attr.decimalFloatingPoint("DURATION");if(Ni(n))return n}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&Ni(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class id{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}class D0{constructor(n){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={audio:null,video:null,audiovideo:null},this.baseurl=n}setByteRange(n,e){const i=n.split("@",2),o=[];o[0]=1===i.length?e?e.byteRangeEndOffset:0:parseInt(i[1]),o[1]=parseInt(i[0])+o[0],this._byteRange=o}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=b0.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(n){this._url=n}}class Eg extends D0{constructor(n,e){super(e),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new id,this.urlId=0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.type=n}get decryptdata(){const{levelkeys:n}=this;if(!n&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const e=this.levelkeys.identity;if(e)this._decryptdata=e.getDecryptData(this.sn);else{const i=Object.keys(this.levelkeys);if(1===i.length)return this._decryptdata=this.levelkeys[i[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime||!Ni(this.programDateTime))return null;const n=Ni(this.duration)?this.duration:0;return this.programDateTime+1e3*n}get encrypted(){var n;if(null!=(n=this._decryptdata)&&n.encrypted)return!0;if(this.levelkeys){const e=Object.keys(this.levelkeys),i=e.length;if(i>1||1===i&&this.levelkeys[e[0]].encrypted)return!0}return!1}setKeyFormat(n){if(this.levelkeys){const e=this.levelkeys[n];e&&!this._decryptdata&&(this._decryptdata=e.getDecryptData(this.sn))}}abortRequests(){var n,e;null==(n=this.loader)||n.abort(),null==(e=this.keyLoader)||e.abort()}setElementaryStreamInfo(n,e,i,o,d,m=!1){const{elementaryStreams:v}=this,I=v[n];I?(I.startPTS=Math.min(I.startPTS,e),I.endPTS=Math.max(I.endPTS,i),I.startDTS=Math.min(I.startDTS,o),I.endDTS=Math.max(I.endDTS,d)):v[n]={startPTS:e,endPTS:i,startDTS:o,endDTS:d,partial:m}}clearElementaryStreamInfo(){const{elementaryStreams:n}=this;n.audio=null,n.video=null,n.audiovideo=null}}class om extends D0{constructor(n,e,i,o,d){super(i),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new id,this.duration=n.decimalFloatingPoint("DURATION"),this.gap=n.bool("GAP"),this.independent=n.bool("INDEPENDENT"),this.relurl=n.enumeratedString("URI"),this.fragment=e,this.index=o;const m=n.enumeratedString("BYTERANGE");m&&this.setByteRange(m,d),d&&(this.fragOffset=d.fragOffset+d.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:n}=this;return!!(n.audio||n.video||n.audiovideo)}}class M0{constructor(n){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=n}reloaded(n){if(!n)return this.advanced=!0,void(this.updated=!0);const e=this.lastPartSn-n.lastPartSn,i=this.lastPartIndex-n.lastPartIndex;this.updated=this.endSN!==n.endSN||!!i||!!e,this.advanced=this.endSN>n.endSN||e>0||0===e&&i>0,this.misses=this.updated||this.advanced?Math.floor(.6*n.misses):n.misses+1,this.availabilityDelay=n.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&Ni(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const n=this.driftEndTime-this.driftStartTime;return n>0?1e3*(this.driftEnd-this.driftStart)/n:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var n;return null!=(n=this.partList)&&n.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var n;return null!=(n=this.fragments)&&n.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var n;return null!=(n=this.partList)&&n.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var n;return null!=(n=this.partList)&&n.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function sm(r){return Uint8Array.from(atob(r),n=>n.charCodeAt(0))}function A0(r){return Uint8Array.from(unescape(encodeURIComponent(r)),n=>n.charCodeAt(0))}var So={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Sa_FAIRPLAY="com.apple.streamingkeydelivery",Sa_PLAYREADY="com.microsoft.playready",Sa_WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function Tg(r){switch(r){case Sa_FAIRPLAY:return So.FAIRPLAY;case Sa_PLAYREADY:return So.PLAYREADY;case Sa_WIDEVINE:return So.WIDEVINE;case"org.w3.clearkey":return So.CLEARKEY}}function w0(r){switch(r){case So.FAIRPLAY:return Sa_FAIRPLAY;case So.PLAYREADY:return Sa_PLAYREADY;case So.WIDEVINE:return Sa_WIDEVINE;case So.CLEARKEY:return"org.w3.clearkey"}}function am(r){const{drmSystems:n,widevineLicenseUrl:e}=r,i=n?[So.FAIRPLAY,So.WIDEVINE,So.PLAYREADY,So.CLEARKEY].filter(o=>!!n[o]):[];return!i[So.WIDEVINE]&&e&&i.push(So.WIDEVINE),i}const P0=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function Hu(r,n,e){return Uint8Array.prototype.slice?r.slice(n,e):new Uint8Array(Array.prototype.slice.call(r,n,e))}const O0=(r,n)=>n+10<=r.length&&73===r[n]&&68===r[n+1]&&51===r[n+2]&&r[n+3]<255&&r[n+4]<255&&r[n+6]<128&&r[n+7]<128&&r[n+8]<128&&r[n+9]<128,PC=(r,n)=>n+10<=r.length&&51===r[n]&&68===r[n+1]&&73===r[n+2]&&r[n+3]<255&&r[n+4]<255&&r[n+6]<128&&r[n+7]<128&&r[n+8]<128&&r[n+9]<128,Nf=(r,n)=>{const e=n;let i=0;for(;O0(r,n);)i+=10,i+=qd(r,n+6),PC(r,n+10)&&(i+=10),n+=i;if(i>0)return r.subarray(e,e+i)},qd=(r,n)=>{let e=0;return e=(127&r[n])<<21,e|=(127&r[n+1])<<14,e|=(127&r[n+2])<<7,e|=127&r[n+3],e},OC=(r,n)=>O0(r,n)&&qd(r,n+6)+10<=r.length-n,Cg=r=>r&&"PRIV"===r.key&&"com.apple.streaming.transportStreamTimestamp"===r.info,Lf=r=>{const n=String.fromCharCode(r[0],r[1],r[2],r[3]),e=qd(r,4);return{type:n,size:e,data:r.subarray(10,10+e)}},R0=r=>{let n=0;const e=[];for(;O0(r,n);){const i=qd(r,n+6);n+=10;const o=n+i;for(;n+8<o;){const d=Lf(r.subarray(n)),m=NC(d);m&&e.push(m),n+=d.size+10}PC(r,n)&&(n+=10)}return e},NC=r=>"PRIV"===r.type?LC(r):"W"===r.type[0]?mA(r):kC(r),LC=r=>{if(r.size<2)return;const n=Il(r.data,!0),e=new Uint8Array(r.data.subarray(n.length+1));return{key:r.type,info:n,data:e.buffer}},kC=r=>{if(r.size<2)return;if("TXXX"===r.type){let e=1;const i=Il(r.data.subarray(e),!0);e+=i.length+1;const o=Il(r.data.subarray(e));return{key:r.type,info:i,data:o}}const n=Il(r.data.subarray(1));return{key:r.type,data:n}},mA=r=>{if("WXXX"===r.type){if(r.size<2)return;let e=1;const i=Il(r.data.subarray(e),!0);e+=i.length+1;const o=Il(r.data.subarray(e));return{key:r.type,info:i,data:o}}const n=Il(r.data);return{key:r.type,data:n}},FC=r=>{if(8===r.data.byteLength){const n=new Uint8Array(r.data);let i=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7];return i/=45,1&n[3]&&(i+=47721858.84),Math.round(i)}},Il=(r,n=!1)=>{const e=function BC(){return!Dg&&typeof self.TextDecoder<"u"&&(Dg=new self.TextDecoder("utf-8")),Dg}();if(e){const j=e.decode(r);if(n){const te=j.indexOf("\0");return-1!==te?j.substring(0,te):j}return j.replace(/\0/g,"")}const i=r.length;let o,d,m,v="",I=0;for(;I<i;){if(o=r[I++],0===o&&n)return v;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:v+=String.fromCharCode(o);break;case 12:case 13:d=r[I++],v+=String.fromCharCode((31&o)<<6|63&d);break;case 14:d=r[I++],m=r[I++],v+=String.fromCharCode((15&o)<<12|(63&d)<<6|(63&m)<<0)}}return v};let Dg;const Ca_hexDump=function(r){let n="";for(let e=0;e<r.length;e++){let i=r[e].toString(16);i.length<2&&(i="0"+i),n+=i}return n},lm=Math.pow(2,32)-1,N0=[].push,L0={video:1,audio:2,id3:3,text:4};function ps(r){return String.fromCharCode.apply(null,r)}function k0(r,n){const e=r[n]<<8|r[n+1];return e<0?65536+e:e}function Ki(r,n){const e=F0(r,n);return e<0?4294967296+e:e}function F0(r,n){return r[n]<<24|r[n+1]<<16|r[n+2]<<8|r[n+3]}function kf(r,n,e){r[n]=e>>24,r[n+1]=e>>16&255,r[n+2]=e>>8&255,r[n+3]=255&e}function Pr(r,n){const e=[];if(!n.length)return e;const i=r.byteLength;for(let o=0;o<i;){const d=Ki(r,o),v=d>1?o+d:i;if(ps(r.subarray(o+4,o+8))===n[0])if(1===n.length)e.push(r.subarray(o+8,v));else{const I=Pr(r.subarray(o+8,v),n.slice(1));I.length&&N0.apply(e,I)}o=v}return e}function B0(r){const n=[],e=r[0];let i=8;const o=Ki(r,i);i+=4,i+=0===e?8:16,i+=2;let v=r.length+0;const I=k0(r,i);i+=2;for(let j=0;j<I;j++){let te=i;const me=Ki(r,te);te+=4;const We=2147483647&me;if((2147483648&me)>>>31==1)return Dn.warn("SIDX has hierarchical references (not supported)"),null;const pt=Ki(r,te);te+=4,n.push({referenceSize:We,subsegmentDuration:pt,info:{duration:pt/o,start:v,end:v+We-1}}),v+=We,te+=4,i=te}return{earliestPresentationTime:0,timescale:o,version:e,referencesCount:I,references:n}}function xg(r){const n=[],e=Pr(r,["moov","trak"]);for(let o=0;o<e.length;o++){const d=e[o],m=Pr(d,["tkhd"])[0];if(m){let v=m[0],I=0===v?12:20;const j=Ki(m,I),te=Pr(d,["mdia","mdhd"])[0];if(te){v=te[0],I=0===v?12:20;const me=Ki(te,I),We=Pr(d,["mdia","hdlr"])[0];if(We){const pt={soun:"audio",vide:"video"}[ps(We.subarray(8,12))];if(pt){const Ct=Pr(d,["mdia","minf","stbl","stsd"])[0];let Ot;Ct&&(Ot=ps(Ct.subarray(12,16))),n[j]={timescale:me,type:pt},n[pt]={timescale:me,id:j,codec:Ot}}}}}}return Pr(r,["moov","mvex","trex"]).forEach(o=>{const d=Ki(o,4),m=n[d];m&&(m.default={duration:Ki(o,12),flags:Ki(o,20)})}),n}function U0(r){const n=Pr(r,["schm"])[0];if(n){const e=ps(n.subarray(4,8));if("cbcs"===e||"cenc"===e)return Pr(r,["schi","tenc"])[0]}return Dn.error("[eme] missing 'schm' box"),null}function VC(r){const n=Ki(r,0);let e=8;1&n&&(e+=4),4&n&&(e+=4);let i=0;const o=Ki(r,4);for(let d=0;d<o;d++)256&n&&(i+=Ki(r,e),e+=4),512&n&&(e+=4),1024&n&&(e+=4),2048&n&&(e+=4);return i}function Jd(r,n){const e=new Uint8Array(r.length+n.length);return e.set(r),e.set(n,r.length),e}function V0(r,n){const e=[],i=n.samples,o=n.timescale,d=n.id;let m=!1;return Pr(i,["moof"]).map(I=>{const j=I.byteOffset-8;Pr(I,["traf"]).map(me=>{const We=Pr(me,["tfdt"]).map(et=>{const pt=et[0];let Ct=Ki(et,4);return 1===pt&&(Ct*=Math.pow(2,32),Ct+=Ki(et,8)),Ct/o})[0];return void 0!==We&&(r=We),Pr(me,["tfhd"]).map(et=>{const pt=Ki(et,4),Ct=16777215&Ki(et,0);let sn=0;const yn=0!=(16&Ct);let Cn=0;const Un=0!=(32&Ct);let On=8;pt===d&&(0!=(1&Ct)&&(On+=8),0!=(2&Ct)&&(On+=4),0!=(8&Ct)&&(sn=Ki(et,On),On+=4),yn&&(Cn=Ki(et,On),On+=4),Un&&(On+=4),"video"===n.type&&(m=function HC(r){if(!r)return!1;const n=r.indexOf("."),e=n<0?r:r.substring(0,n);return"hvc1"===e||"hev1"===e||"dvh1"===e||"dvhe"===e}(n.codec)),Pr(me,["trun"]).map(Zn=>{const ni=Zn[0],kn=16777215&Ki(Zn,0),Ei=0!=(1&kn);let pi=0;const ji=0!=(4&kn),vo=0!=(256&kn);let Rr=0;const ri=0!=(512&kn);let di=0;const Jn=0!=(1024&kn),li=0!=(2048&kn);let Vi=0;const pr=Ki(Zn,4);let Yi=8;Ei&&(pi=Ki(Zn,Yi),Yi+=4),ji&&(Yi+=4);let Ur=pi+j;for(let sr=0;sr<pr;sr++){if(vo?(Rr=Ki(Zn,Yi),Yi+=4):Rr=sn,ri?(di=Ki(Zn,Yi),Yi+=4):di=Cn,Jn&&(Yi+=4),li&&(Vi=0===ni?Ki(Zn,Yi):F0(Zn,Yi),Yi+=4),"video"===n.type){let Bo=0;for(;Bo<di;){const _s=Ki(i,Ur);Ur+=4,KC(m,i[Ur])&&G0(i.subarray(Ur,Ur+_s),m?2:1,r+Vi/o,e),Ur+=_s,Bo+=_s+4}}r+=Rr/o}}))})})}),e}function KC(r,n){if(r){const e=n>>1&63;return 39===e||40===e}return 6==(31&n)}function G0(r,n,e,i){const o=H0(r);let d=0;d+=n;let m=0,v=0,I=!1,j=0;for(;d<o.length;){m=0;do{if(d>=o.length)break;j=o[d++],m+=j}while(255===j);v=0;do{if(d>=o.length)break;j=o[d++],v+=j}while(255===j);const te=o.length-d;if(!I&&4===m&&d<o.length){if(I=!0,181===o[d++]){const We=k0(o,d);if(d+=2,49===We){const et=Ki(o,d);if(d+=4,1195456820===et){const pt=o[d++];if(3===pt){const Ct=o[d++],Zt=64&Ct,dn=Zt?2+3*(31&Ct):0,sn=new Uint8Array(dn);if(Zt){sn[0]=Ct;for(let yn=1;yn<dn;yn++)sn[yn]=o[d++]}i.push({type:pt,payloadType:m,pts:e,bytes:sn})}}}}}else if(5===m&&v<te){if(I=!0,v>16){const me=[];for(let pt=0;pt<16;pt++){const Ct=o[d++].toString(16);me.push(1==Ct.length?"0"+Ct:Ct),(3===pt||5===pt||7===pt||9===pt)&&me.push("-")}const We=v-16,et=new Uint8Array(We);for(let pt=0;pt<We;pt++)et[pt]=o[d++];i.push({payloadType:m,pts:e,uuid:me.join(""),userData:Il(et),userDataBytes:et})}}else if(v<te)d+=v;else if(v>te)break}}function H0(r){const n=r.byteLength,e=[];let i=1;for(;i<n-2;)0===r[i]&&0===r[i+1]&&3===r[i+2]?(e.push(i+2),i+=2):i++;if(0===e.length)return r;const o=n-e.length,d=new Uint8Array(o);let m=0;for(i=0;i<o;m++,i++)m===e[0]&&(m++,e.shift()),d[i]=r[m];return d}let cm={};class Ku{static clearKeyUriToKeyIdMap(){cm={}}constructor(n,e,i,o=[1],d=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=n,this.uri=e,this.keyFormat=i,this.keyFormatVersions=o,this.iv=d,this.encrypted=!!n&&"NONE"!==n,this.isCommonEncryption=this.encrypted&&"AES-128"!==n}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case Sa_FAIRPLAY:case Sa_WIDEVINE:case Sa_PLAYREADY:case"org.w3.clearkey":return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(n){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof n&&("AES-128"===this.method&&!this.iv&&Dn.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),n=0);const i=function WC(r){const n=new Uint8Array(16);for(let e=12;e<16;e++)n[e]=r>>8*(15-e)&255;return n}(n);return new Ku(this.method,this.uri,"identity",this.keyFormatVersions,i)}const e=function Rf(r){const n=r.split(":");let e=null;if("data"===n[0]&&2===n.length){const i=n[1].split(";"),o=i[i.length-1].split(",");if(2===o.length){const m=o[1];"base64"===o[0]?(i.splice(-1,1),e=sm(m)):e=function IC(r){const n=A0(r).subarray(0,16),e=new Uint8Array(16);return e.set(n,16-n.length),e}(m)}}return e}(this.uri);if(e)switch(this.keyFormat){case Sa_WIDEVINE:this.pssh=e,e.length>=22&&(this.keyId=e.subarray(e.length-22,e.length-6));break;case Sa_PLAYREADY:{const i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=function Y0(r,n,e){if(16!==r.byteLength)throw new RangeError("Invalid system id");let i,o,d;if(n){i=1,o=new Uint8Array(16*n.length);for(let v=0;v<n.length;v++){const I=n[v];if(16!==I.byteLength)throw new RangeError("Invalid key");o.set(I,16*v)}}else i=0,o=new Uint8Array;i>0?(d=new Uint8Array(4),n.length>0&&new DataView(d.buffer).setUint32(0,n.length,!1)):d=new Uint8Array;const m=new Uint8Array(4);return e&&e.byteLength>0&&new DataView(m.buffer).setUint32(0,e.byteLength,!1),function K0(r,...n){const e=n.length;let i=8,o=e;for(;o--;)i+=n[o].byteLength;const d=new Uint8Array(i);for(d[0]=i>>24&255,d[1]=i>>16&255,d[2]=i>>8&255,d[3]=255&i,d.set(r,4),o=0,i=8;o<e;o++)d.set(n[o],i),i+=n[o].byteLength;return d}([112,115,115,104],new Uint8Array([i,0,0,0]),r,d,o,m,e||new Uint8Array)}(i,null,e);const o=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),d=String.fromCharCode.apply(null,Array.from(o)),m=d.substring(d.indexOf("<"),d.length),j=(new DOMParser).parseFromString(m,"text/xml").getElementsByTagName("KID")[0];if(j){const te=j.childNodes[0]?j.childNodes[0].nodeValue:j.getAttribute("VALUE");if(te){const me=sm(te).subarray(0,16);(function Of(r){const n=function(i,o,d){const m=i[o];i[o]=i[d],i[d]=m};n(r,0,3),n(r,1,2),n(r,4,5),n(r,6,7)})(me),this.keyId=me}}break}default:{let i=e.subarray(0,16);if(16!==i.length){const o=new Uint8Array(16);o.set(i,16-i.length),i=o}this.keyId=i;break}}if(!this.keyId||16!==this.keyId.byteLength){let i=cm[this.uri];if(!i){const o=Object.keys(cm).length%Number.MAX_SAFE_INTEGER;i=new Uint8Array(16),new DataView(i.buffer,12,4).setUint32(0,o),cm[this.uri]=i}this.keyId=i}return this}}const z0=/\{\$([a-zA-Z0-9-_]+)\}/g;function Z0(r){return z0.test(r)}function Ks(r,n,e){if(null!==r.variableList||r.hasVariableRefs)for(let i=e.length;i--;){const o=e[i],d=n[o];d&&(n[o]=Ff(r,d))}}function Ff(r,n){if(null!==r.variableList||r.hasVariableRefs){const e=r.variableList;return n.replace(z0,i=>{const o=i.substring(2,i.length-1),d=e?.[o];return void 0===d?(r.playlistParsingError||(r.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${o}"`)),i):d})}return n}function Ag(r,n,e){let o,d,i=r.variableList;if(i||(r.variableList=i={}),"QUERYPARAM"in n){o=n.QUERYPARAM;try{const m=new self.URL(e).searchParams;if(!m.has(o))throw new Error(`"${o}" does not match any query parameter in URI: "${e}"`);d=m.get(o)}catch(m){r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${m.message}`))}}else o=n.NAME,d=n.VALUE;o in i?r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${o}"`)):i[o]=d||""}function Ig(r,n,e){const i=n.IMPORT;if(e&&i in e){let o=r.variableList;o||(r.variableList=o={}),o[i]=e[i]}else r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${i}"`))}function dm(){if(!(typeof self>"u"))return self.MediaSource||self.WebKitMediaSource}const zC={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},um=dm();function fm(r,n){var e;return null!=(e=um?.isTypeSupported(`${n||"video"}/mp4;codecs="${r}"`))&&e}const Qd=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,wg=/#EXT-X-MEDIA:(.*)/g,$C=/^#EXT(?:INF|-X-TARGETDURATION):/m,qC=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),Pg=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Ha{static findGroup(n,e){for(let i=0;i<n.length;i++){const o=n[i];if(o.id===e)return o}}static convertAVC1ToAVCOTI(n){const e=n.split(".");if(e.length>2){let i=e.shift()+".";return i+=parseInt(e.shift()).toString(16),i+=("000"+parseInt(e.shift()).toString(16)).slice(-4),i}return n}static resolve(n,e){return b0.buildAbsoluteURL(e,n,{alwaysNormalize:!0})}static isMediaPlaylist(n){return $C.test(n)}static parseMasterPlaylist(n,e){const o={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:Z0(n)},d=[];let m;for(Qd.lastIndex=0;null!=(m=Qd.exec(n));)if(m[1]){var v;const j=new go(m[1]);Ks(o,j,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const te=Ff(o,m[2]),me={attrs:j,bitrate:j.decimalInteger("AVERAGE-BANDWIDTH")||j.decimalInteger("BANDWIDTH"),name:j.NAME,url:Ha.resolve(te,e)},We=j.decimalResolution("RESOLUTION");We&&(me.width=We.width,me.height=We.height),q0((j.CODECS||"").split(/[ ,]+/).filter(et=>et),me),me.videoCodec&&-1!==me.videoCodec.indexOf("avc1")&&(me.videoCodec=Ha.convertAVC1ToAVCOTI(me.videoCodec)),null!=(v=me.unknownCodecs)&&v.length||d.push(me),o.levels.push(me)}else if(m[3]){const te=m[4];switch(m[3]){case"SESSION-DATA":{const me=new go(te);Ks(o,me,["DATA-ID","LANGUAGE","VALUE","URI"]);const We=me["DATA-ID"];We&&(null===o.sessionData&&(o.sessionData={}),o.sessionData[We]=me);break}case"SESSION-KEY":{const me=$0(te,e,o);me.encrypted&&me.isSupported()?(null===o.sessionKeys&&(o.sessionKeys=[]),o.sessionKeys.push(me)):Dn.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${te}"`);break}case"DEFINE":{const me=new go(te);Ks(o,me,["NAME","VALUE","QUERYPARAM"]),Ag(o,me,e)}break;case"CONTENT-STEERING":{const me=new go(te);Ks(o,me,["SERVER-URI","PATHWAY-ID"]),o.contentSteering={uri:Ha.resolve(me["SERVER-URI"],e),pathwayId:me["PATHWAY-ID"]||"."};break}case"START":o.startTimeOffset=Og(te)}}return o.levels=d.length>0&&d.length<o.levels.length?d:o.levels,0===o.levels.length&&(o.playlistParsingError=new Error("no levels found in manifest")),o}static parseMasterPlaylistMedia(n,e,i){let o;const d={},m=i.levels,v={AUDIO:m.map(j=>({id:j.attrs.AUDIO,audioCodec:j.audioCodec})),SUBTITLES:m.map(j=>({id:j.attrs.SUBTITLES,textCodec:j.textCodec})),"CLOSED-CAPTIONS":[]};let I=0;for(wg.lastIndex=0;null!==(o=wg.exec(n));){const j=new go(o[1]),te=j.TYPE;if(te){const me=v[te],We=d[te]||[];d[te]=We,Ks(i,j,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const et={attrs:j,bitrate:0,id:I++,groupId:j["GROUP-ID"]||"",instreamId:j["INSTREAM-ID"],name:j.NAME||j.LANGUAGE||"",type:te,default:j.bool("DEFAULT"),autoselect:j.bool("AUTOSELECT"),forced:j.bool("FORCED"),lang:j.LANGUAGE,url:j.URI?Ha.resolve(j.URI,e):""};if(null!=me&&me.length){const pt=Ha.findGroup(me,et.groupId)||me[0];J0(et,pt,"audioCodec"),J0(et,pt,"textCodec")}We.push(et)}}return d}static parseLevelPlaylist(n,e,i,o,d,m){const v=new M0(e),I=v.fragments;let Ot,Zt,dn,j=null,te=0,me=0,We=0,et=0,pt=null,Ct=new Eg(o,e),sn=-1,yn=!1;for(qC.lastIndex=0,v.m3u8=n,v.hasVariableRefs=Z0(n);null!==(Ot=qC.exec(n));){yn&&(yn=!1,Ct=new Eg(o,e),Ct.start=We,Ct.sn=te,Ct.cc=et,Ct.level=i,j&&(Ct.initSegment=j,Ct.rawProgramDateTime=j.rawProgramDateTime,j.rawProgramDateTime=null));const Zn=Ot[1];if(Zn){Ct.duration=parseFloat(Zn);const ni=(" "+Ot[2]).slice(1);Ct.title=ni||null,Ct.tagList.push(ni?["INF",Zn,ni]:["INF",Zn])}else if(Ot[3]){if(Ni(Ct.duration)){Ct.start=We,dn&&Ng(Ct,dn,v),Ct.sn=te,Ct.level=i,Ct.cc=et,Ct.urlId=d,I.push(Ct);const ni=(" "+Ot[3]).slice(1);Ct.relurl=Ff(v,ni),hm(Ct,pt),pt=Ct,We+=Ct.duration,te++,me=0,yn=!0}}else if(Ot[4]){const ni=(" "+Ot[4]).slice(1);pt?Ct.setByteRange(ni,pt):Ct.setByteRange(ni)}else if(Ot[5])Ct.rawProgramDateTime=(" "+Ot[5]).slice(1),Ct.tagList.push(["PROGRAM-DATE-TIME",Ct.rawProgramDateTime]),-1===sn&&(sn=I.length);else{if(Ot=Ot[0].match(Pg),!Ot){Dn.warn("No matches on slow regex match for level playlist!");continue}for(Zt=1;Zt<Ot.length&&!(typeof Ot[Zt]<"u");Zt++);const ni=(" "+Ot[Zt]).slice(1),kn=(" "+Ot[Zt+1]).slice(1),Ei=Ot[Zt+2]?(" "+Ot[Zt+2]).slice(1):"";switch(ni){case"PLAYLIST-TYPE":v.type=kn.toUpperCase();break;case"MEDIA-SEQUENCE":te=v.startSN=parseInt(kn);break;case"SKIP":{const pi=new go(kn);Ks(v,pi,["RECENTLY-REMOVED-DATERANGES"]);const ji=pi.decimalInteger("SKIPPED-SEGMENTS");if(Ni(ji)){v.skippedSegments=ji;for(let Rr=ji;Rr--;)I.unshift(null);te+=ji}const vo=pi.enumeratedString("RECENTLY-REMOVED-DATERANGES");vo&&(v.recentlyRemovedDateranges=vo.split("\t"));break}case"TARGETDURATION":v.targetduration=Math.max(parseInt(kn),1);break;case"VERSION":v.version=parseInt(kn);break;case"EXTM3U":break;case"ENDLIST":v.live=!1;break;case"#":(kn||Ei)&&Ct.tagList.push(Ei?[kn,Ei]:[kn]);break;case"DISCONTINUITY":et++,Ct.tagList.push(["DIS"]);break;case"GAP":Ct.gap=!0,Ct.tagList.push([ni]);break;case"BITRATE":Ct.tagList.push([ni,kn]);break;case"DATERANGE":{const pi=new go(kn);Ks(v,pi,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Ks(v,pi,pi.clientAttrs);const ji=new C0(pi,v.dateRanges[pi.ID]);ji.isValid||v.skippedSegments?v.dateRanges[ji.id]=ji:Dn.warn(`Ignoring invalid DATERANGE tag: "${kn}"`),Ct.tagList.push(["EXT-X-DATERANGE",kn]);break}case"DEFINE":{const pi=new go(kn);Ks(v,pi,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in pi?Ig(v,pi,m):Ag(v,pi,e)}break;case"DISCONTINUITY-SEQUENCE":et=parseInt(kn);break;case"KEY":{const pi=$0(kn,e,v);if(pi.isSupported()){if("NONE"===pi.method){dn=void 0;break}dn||(dn={}),dn[pi.keyFormat]&&(dn=po({},dn)),dn[pi.keyFormat]=pi}else Dn.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${kn}"`);break}case"START":v.startTimeOffset=Og(kn);break;case"MAP":{const pi=new go(kn);if(Ks(v,pi,["BYTERANGE","URI"]),Ct.duration){const ji=new Eg(o,e);Rg(ji,pi,i,dn),j=ji,Ct.initSegment=j,j.rawProgramDateTime&&!Ct.rawProgramDateTime&&(Ct.rawProgramDateTime=j.rawProgramDateTime)}else Rg(Ct,pi,i,dn),j=Ct,yn=!0;break}case"SERVER-CONTROL":{const pi=new go(kn);v.canBlockReload=pi.bool("CAN-BLOCK-RELOAD"),v.canSkipUntil=pi.optionalFloat("CAN-SKIP-UNTIL",0),v.canSkipDateRanges=v.canSkipUntil>0&&pi.bool("CAN-SKIP-DATERANGES"),v.partHoldBack=pi.optionalFloat("PART-HOLD-BACK",0),v.holdBack=pi.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const pi=new go(kn);v.partTarget=pi.decimalFloatingPoint("PART-TARGET");break}case"PART":{let pi=v.partList;pi||(pi=v.partList=[]);const ji=me>0?pi[pi.length-1]:void 0,vo=me++,Rr=new go(kn);Ks(v,Rr,["BYTERANGE","URI"]);const ri=new om(Rr,Ct,e,vo,ji);pi.push(ri),Ct.duration+=ri.duration;break}case"PRELOAD-HINT":{const pi=new go(kn);Ks(v,pi,["URI"]),v.preloadHint=pi;break}case"RENDITION-REPORT":{const pi=new go(kn);Ks(v,pi,["URI"]),v.renditionReports=v.renditionReports||[],v.renditionReports.push(pi);break}default:Dn.warn(`line parsed but not handled: ${Ot}`)}}}pt&&!pt.relurl?(I.pop(),We-=pt.duration,v.partList&&(v.fragmentHint=pt)):v.partList&&(hm(Ct,pt),Ct.cc=et,v.fragmentHint=Ct,dn&&Ng(Ct,dn,v));const Cn=I.length,Un=I[0],On=I[Cn-1];if(We+=v.skippedSegments*v.targetduration,We>0&&Cn&&On){v.averagetargetduration=We/Cn;const Zn=On.sn;v.endSN="initSegment"!==Zn?Zn:0,v.live||(On.endList=!0),Un&&(v.startCC=Un.cc)}else v.endSN=0,v.startCC=0;return v.fragmentHint&&(We+=v.fragmentHint.duration),v.totalduration=We,v.endCC=et,sn>0&&function Q0(r,n){let e=r[n];for(let i=n;i--;){const o=r[i];if(!o)return;o.programDateTime=e.programDateTime-1e3*o.duration,e=o}}(I,sn),v}}function $0(r,n,e){var i,o;const d=new go(r);Ks(e,d,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const m=null!=(i=d.METHOD)?i:"",v=d.URI,I=d.hexadecimalInteger("IV"),j=d.KEYFORMATVERSIONS,te=null!=(o=d.KEYFORMAT)?o:"identity";v&&d.IV&&!I&&Dn.error(`Invalid IV: ${d.IV}`);const me=v?Ha.resolve(v,n):"",We=(j||"1").split("/").map(Number).filter(Number.isFinite);return new Ku(m,me,te,We,I)}function Og(r){const e=new go(r).decimalFloatingPoint("TIME-OFFSET");return Ni(e)?e:null}function q0(r,n){["video","audio","text"].forEach(e=>{const i=r.filter(o=>function ZC(r,n){const e=zC[n];return!!e&&!0===e[r.slice(0,4)]}(o,e));if(i.length){const o=i.filter(d=>0===d.lastIndexOf("avc1",0)||0===d.lastIndexOf("mp4a",0));n[`${e}Codec`]=o.length>0?o[0]:i[0],r=r.filter(d=>-1===i.indexOf(d))}}),n.unknownCodecs=r}function J0(r,n,e){const i=n[e];i&&(r[e]=i)}function hm(r,n){r.rawProgramDateTime?r.programDateTime=Date.parse(r.rawProgramDateTime):null!=n&&n.programDateTime&&(r.programDateTime=n.endProgramDateTime),Ni(r.programDateTime)||(r.programDateTime=null,r.rawProgramDateTime=null)}function Rg(r,n,e,i){r.relurl=n.URI,n.BYTERANGE&&r.setByteRange(n.BYTERANGE),r.level=e,r.sn="initSegment",i&&(r.levelkeys=i),r.initSegment=null}function Ng(r,n,e){r.levelkeys=n;const{encryptedFragments:i}=e;(!i.length||i[i.length-1].levelkeys!==n)&&Object.keys(n).some(o=>n[o].isCommonEncryption)&&i.push(r)}function X0(r){const{type:n}=r;switch(n){case"audioTrack":return"audio";case"subtitleTrack":return"subtitle";default:return"main"}}function Lg(r,n){let e=r.url;return(void 0===e||0===e.indexOf("data:"))&&(e=n.url),e}class JC{constructor(n){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=n,this.registerListeners()}startLoad(n){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:n}=this;n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.LEVEL_LOADING,this.onLevelLoading,this),n.on(Rt.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),n.on(Rt.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:n}=this;n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.LEVEL_LOADING,this.onLevelLoading,this),n.off(Rt.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),n.off(Rt.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(n){const e=this.hls.config,m=new(e.pLoader||e.loader)(e);return this.loaders[n.type]=m,m}getInternalLoader(n){return this.loaders[n.type]}resetInternalLoader(n){this.loaders[n]&&delete this.loaders[n]}destroyInternalLoaders(){for(const n in this.loaders){const e=this.loaders[n];e&&e.destroy(),this.resetInternalLoader(n)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(n,e){const{url:i}=e;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:"manifest",url:i,deliveryDirectives:null})}onLevelLoading(n,e){const{id:i,level:o,url:d,deliveryDirectives:m}=e;this.load({id:i,level:o,responseType:"text",type:"level",url:d,deliveryDirectives:m})}onAudioTrackLoading(n,e){const{id:i,groupId:o,url:d,deliveryDirectives:m}=e;this.load({id:i,groupId:o,level:null,responseType:"text",type:"audioTrack",url:d,deliveryDirectives:m})}onSubtitleTrackLoading(n,e){const{id:i,groupId:o,url:d,deliveryDirectives:m}=e;this.load({id:i,groupId:o,level:null,responseType:"text",type:"subtitleTrack",url:d,deliveryDirectives:m})}load(n){var e;const i=this.hls.config;let d,o=this.getInternalLoader(n);if(o){const j=o.context;if(j&&j.url===n.url)return void Dn.trace("[playlist-loader]: playlist request ongoing");Dn.log(`[playlist-loader]: aborting previous loader for type: ${n.type}`),o.abort()}if(d="manifest"===n.type?i.manifestLoadPolicy.default:po({},i.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),o=this.createInternalLoader(n),null!=(e=n.deliveryDirectives)&&e.part){let j;if("level"===n.type&&null!==n.level?j=this.hls.levels[n.level].details:"audioTrack"===n.type&&null!==n.id?j=this.hls.audioTracks[n.id].details:"subtitleTrack"===n.type&&null!==n.id&&(j=this.hls.subtitleTracks[n.id].details),j){const te=j.partTarget,me=j.targetduration;if(te&&me){const We=1e3*Math.max(3*te,.8*me);d=po({},d,{maxTimeToFirstByteMs:Math.min(We,d.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(We,d.maxTimeToFirstByteMs)})}}}const m=d.errorRetry||d.timeoutRetry||{};o.load(n,{loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:m.maxNumRetry||0,retryDelay:m.retryDelayMs||0,maxRetryDelay:m.maxRetryDelayMs||0},{onSuccess:(j,te,me,We)=>{const et=this.getInternalLoader(me);this.resetInternalLoader(me.type);const pt=j.data;0===pt.indexOf("#EXTM3U")?(te.parsing.start=performance.now(),Ha.isMediaPlaylist(pt)?this.handleTrackOrLevelPlaylist(j,te,me,We||null,et):this.handleMasterPlaylist(j,te,me,We)):this.handleManifestParsingError(j,me,new Error("no EXTM3U delimiter"),We||null,te)},onError:(j,te,me,We)=>{this.handleNetworkError(te,me,!1,j,We)},onTimeout:(j,te,me)=>{this.handleNetworkError(te,me,!0,void 0,j)}})}handleMasterPlaylist(n,e,i,o){const d=this.hls,m=n.data,v=Lg(n,i),I=Ha.parseMasterPlaylist(m,v);if(I.playlistParsingError)return void this.handleManifestParsingError(n,i,I.playlistParsingError,o,e);const{contentSteering:j,levels:te,sessionData:me,sessionKeys:We,startTimeOffset:et,variableList:pt}=I;this.variableList=pt;const{AUDIO:Ct=[],SUBTITLES:Ot,"CLOSED-CAPTIONS":Zt}=Ha.parseMasterPlaylistMedia(m,v,I);Ct.length&&!Ct.some(sn=>!sn.url)&&te[0].audioCodec&&!te[0].attrs.AUDIO&&(Dn.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),Ct.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new go({}),bitrate:0,url:""})),d.trigger(Rt.MANIFEST_LOADED,{levels:te,audioTracks:Ct,subtitles:Ot,captions:Zt,contentSteering:j,url:v,stats:e,networkDetails:o,sessionData:me,sessionKeys:We,startTimeOffset:et,variableList:pt})}handleTrackOrLevelPlaylist(n,e,i,o,d){const m=this.hls,{id:v,level:I,type:j}=i,te=Lg(n,i),me=Ni(v)?v:0,We=Ni(I)?I:me,et=X0(i),pt=Ha.parseLevelPlaylist(n.data,te,We,et,me,this.variableList);if("manifest"===j){const Ct={attrs:new go({}),bitrate:0,details:pt,name:"",url:te};m.trigger(Rt.MANIFEST_LOADED,{levels:[Ct],audioTracks:[],url:te,stats:e,networkDetails:o,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}e.parsing.end=performance.now(),i.levelDetails=pt,this.handlePlaylistLoaded(pt,n,e,i,o,d)}handleManifestParsingError(n,e,i,o,d){this.hls.trigger(Rt.ERROR,{type:Fi.NETWORK_ERROR,details:Vn.MANIFEST_PARSING_ERROR,fatal:"manifest"===e.type,url:n.url,err:i,error:i,reason:i.message,response:n,context:e,networkDetails:o,stats:d})}handleNetworkError(n,e,i=!1,o,d){let m=`A network ${i?"timeout":"error"+(o?" (status "+o.code+")":"")} occurred while loading ${n.type}`;"level"===n.type?m+=`: ${n.level} id: ${n.id}`:("audioTrack"===n.type||"subtitleTrack"===n.type)&&(m+=` id: ${n.id} group-id: "${n.groupId}"`);const v=new Error(m);Dn.warn(`[playlist-loader]: ${m}`);let I=Vn.UNKNOWN,j=!1;const te=this.getInternalLoader(n);switch(n.type){case"manifest":I=i?Vn.MANIFEST_LOAD_TIMEOUT:Vn.MANIFEST_LOAD_ERROR,j=!0;break;case"level":I=i?Vn.LEVEL_LOAD_TIMEOUT:Vn.LEVEL_LOAD_ERROR,j=!1;break;case"audioTrack":I=i?Vn.AUDIO_TRACK_LOAD_TIMEOUT:Vn.AUDIO_TRACK_LOAD_ERROR,j=!1;break;case"subtitleTrack":I=i?Vn.SUBTITLE_TRACK_LOAD_TIMEOUT:Vn.SUBTITLE_LOAD_ERROR,j=!1}te&&this.resetInternalLoader(n.type);const me={type:Fi.NETWORK_ERROR,details:I,fatal:j,url:n.url,loader:te,context:n,error:v,networkDetails:e,stats:d};o&&(me.response=ra({url:e?.url||n.url,data:void 0},o)),this.hls.trigger(Rt.ERROR,me)}handlePlaylistLoaded(n,e,i,o,d,m){const v=this.hls,{type:I,level:j,id:te,groupId:me,deliveryDirectives:We}=o,et=Lg(e,o),pt=X0(o),Ct="number"==typeof o.level&&"main"===pt?j:void 0;if(!n.fragments.length){const Zt=new Error("No Segments found in Playlist");return void v.trigger(Rt.ERROR,{type:Fi.NETWORK_ERROR,details:Vn.LEVEL_EMPTY_ERROR,fatal:!1,url:et,error:Zt,reason:Zt.message,response:e,context:o,level:Ct,parent:pt,networkDetails:d,stats:i})}n.targetduration||(n.playlistParsingError=new Error("Missing Target Duration"));const Ot=n.playlistParsingError;if(Ot)v.trigger(Rt.ERROR,{type:Fi.NETWORK_ERROR,details:Vn.LEVEL_PARSING_ERROR,fatal:!1,url:et,error:Ot,reason:Ot.message,response:e,context:o,level:Ct,parent:pt,networkDetails:d,stats:i});else switch(n.live&&m&&(m.getCacheAge&&(n.ageHeader=m.getCacheAge()||0),(!m.getCacheAge||isNaN(n.ageHeader))&&(n.ageHeader=0)),I){case"manifest":case"level":v.trigger(Rt.LEVEL_LOADED,{details:n,level:Ct||0,id:te||0,stats:i,networkDetails:d,deliveryDirectives:We});break;case"audioTrack":v.trigger(Rt.AUDIO_TRACK_LOADED,{details:n,id:te||0,groupId:me||"",stats:i,networkDetails:d,deliveryDirectives:We});break;case"subtitleTrack":v.trigger(Rt.SUBTITLE_TRACK_LOADED,{details:n,id:te||0,groupId:me||"",stats:i,networkDetails:d,deliveryDirectives:We})}}}function eb(r,n){let e;try{e=new Event("addtrack")}catch{e=document.createEvent("Event"),e.initEvent("addtrack",!1,!1)}e.track=r,n.dispatchEvent(e)}function kg(r,n){const e=r.mode;if("disabled"===e&&(r.mode="hidden"),r.cues&&!r.cues.getCueById(n.id))try{if(r.addCue(n),!r.cues.getCueById(n.id))throw new Error(`addCue is failed for: ${n}`)}catch(i){Dn.debug(`[texttrack-utils]: ${i}`);try{const o=new self.TextTrackCue(n.startTime,n.endTime,n.text);o.id=n.id,r.addCue(o)}catch(o){Dn.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${o}`)}}"disabled"===e&&(r.mode=e)}function Bf(r){const n=r.mode;if("disabled"===n&&(r.mode="hidden"),r.cues)for(let e=r.cues.length;e--;)r.removeCue(r.cues[e]);"disabled"===n&&(r.mode=n)}function mm(r,n,e,i){const o=r.mode;if("disabled"===o&&(r.mode="hidden"),r.cues&&r.cues.length>0){const d=function XC(r,n,e){const i=[],o=function QC(r,n){if(n<r[0].startTime)return 0;const e=r.length-1;if(n>r[e].endTime)return-1;let i=0,o=e;for(;i<=o;){const d=Math.floor((o+i)/2);if(n<r[d].startTime)o=d-1;else{if(!(n>r[d].startTime&&i<e))return d;i=d+1}}return r[i].startTime-n<n-r[o].startTime?i:o}(r,n);if(o>-1)for(let d=o,m=r.length;d<m;d++){const v=r[d];if(v.startTime>=n&&v.endTime<=e)i.push(v);else if(v.startTime>e)return i}return i}(r.cues,n,e);for(let m=0;m<d.length;m++)(!i||i(d[m]))&&r.removeCue(d[m])}"disabled"===o&&(r.mode=o)}var rc_emsg="https://aomedia.org/emsg/ID3";function Fg(){if(!(typeof self>"u"))return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}const Uf=(()=>{const r=Fg();try{new r(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function pm(r,n){return r.getTime()/1e3-n}function tb(r){return Uint8Array.from(r.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class nb{constructor(n){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=n,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:n}=this;n.on(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),n.on(Rt.BUFFER_FLUSHING,this.onBufferFlushing,this),n.on(Rt.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:n}=this;n.off(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),n.off(Rt.BUFFER_FLUSHING,this.onBufferFlushing,this),n.off(Rt.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(n,e){this.media=e.media}onMediaDetaching(){this.id3Track&&(Bf(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(n){const e=this.getID3Track(n.textTracks);return e.mode="hidden",e}getID3Track(n){if(this.media){for(let e=0;e<n.length;e++){const i=n[e];if("metadata"===i.kind&&"id3"===i.label)return eb(i,this.media),i}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(n,e){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:i,enableID3MetadataCues:o}}}=this;if(!i&&!o)return;const{samples:d}=e;this.id3Track||(this.id3Track=this.createTrack(this.media));const m=Fg();for(let v=0;v<d.length;v++){const I=d[v].type;if(I===rc_emsg&&!i||!o)continue;const j=R0(d[v].data);if(j){const te=d[v].pts;let me=te+d[v].duration;me>Uf&&(me=Uf),me-te<=0&&(me=te+.25);for(let et=0;et<j.length;et++){const pt=j[et];if(!Cg(pt)){this.updateId3CueEnds(te,I);const Ct=new m(te,me,"");Ct.value=pt,I&&(Ct.type=I),this.id3Track.addCue(Ct)}}}}}updateId3CueEnds(n,e){var i;const o=null==(i=this.id3Track)?void 0:i.cues;if(o)for(let d=o.length;d--;){const m=o[d];m.type===e&&m.startTime<n&&m.endTime===Uf&&(m.endTime=n)}}onBufferFlushing(n,{startOffset:e,endOffset:i,type:o}){const{id3Track:d,hls:m}=this;if(!m)return;const{config:{enableEmsgMetadataCues:v,enableID3MetadataCues:I}}=m;if(d&&(v||I)){let j;j="audio"===o?te=>"org.id3"===te.type&&I:"video"===o?te=>te.type===rc_emsg&&v:te=>"org.id3"===te.type&&I||te.type===rc_emsg&&v,mm(d,e,i,j)}}onLevelUpdated(n,{details:e}){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:i,id3Track:o}=this,{dateRanges:d}=e,m=Object.keys(d);if(o){const te=Object.keys(i).filter(me=>!m.includes(me));for(let me=te.length;me--;){const We=te[me];Object.keys(i[We].cues).forEach(et=>{o.removeCue(i[We].cues[et])}),delete i[We]}}const v=e.fragments[e.fragments.length-1];if(0===m.length||!Ni(v?.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const I=v.programDateTime/1e3-v.start,j=Fg();for(let te=0;te<m.length;te++){const me=m[te],We=d[me],et=i[me],pt=et?.cues||{};let Ct=et?.durationKnown||!1;const Ot=pm(We.startDate,I);let Zt=Uf;const dn=We.endDate;if(dn)Zt=pm(dn,I),Ct=!0;else if(We.endOnNext&&!Ct){const yn=m.reduce((Cn,Un)=>{const On=d[Un];return On.class===We.class&&On.id!==Un&&On.startDate>We.startDate&&Cn.push(On),Cn},[]).sort((Cn,Un)=>Cn.startDate.getTime()-Un.startDate.getTime())[0];yn&&(Zt=pm(yn.startDate,I),Ct=!0)}const sn=Object.keys(We.attr);for(let yn=0;yn<sn.length;yn++){const Cn=sn[yn];if("ID"===(r=Cn)||"CLASS"===r||"START-DATE"===r||"DURATION"===r||"END-DATE"===r||"END-ON-NEXT"===r)continue;let Un=pt[Cn];if(Un)Ct&&!et.durationKnown&&(Un.endTime=Zt);else{let On=We.attr[Cn];Un=new j(Ot,Zt,""),AC(Cn)&&(On=tb(On)),Un.value={key:Cn,data:On},Un.type="com.apple.quicktime.HLS",Un.id=me,this.id3Track.addCue(Un),pt[Cn]=Un}}i[me]={cues:pt,dateRange:We,durationKnown:Ct}}var r}}class tD{constructor(n){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=n,this.config=n.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:n,levelDetails:e}=this;return void 0!==n.liveMaxLatencyDuration?n.liveMaxLatencyDuration:e?n.liveMaxLatencyDurationCount*e.targetduration:0}get targetLatency(){const{levelDetails:n}=this;if(null===n)return null;const{holdBack:e,partHoldBack:i,targetduration:o}=n,{liveSyncDuration:d,liveSyncDurationCount:m,lowLatencyMode:v}=this.config,I=this.hls.userConfig;let j=v&&i||e;return(I.liveSyncDuration||I.liveSyncDurationCount||0===j)&&(j=void 0!==d?d:m*o),j+Math.min(1*this.stallCount,o)}get liveSyncPosition(){const n=this.estimateLiveEdge(),e=this.targetLatency,i=this.levelDetails;if(null===n||null===e||null===i)return null;const o=i.edge,v=o-(this.config.lowLatencyMode&&i.partTarget||i.targetduration);return Math.min(Math.max(o-i.totalduration,n-e-this.edgeStalled),v)}get drift(){const{levelDetails:n}=this;return null===n?1:n.drift}get edgeStalled(){const{levelDetails:n}=this;return null===n?0:Math.max(n.age-3*(this.config.lowLatencyMode&&n.partTarget||n.targetduration),0)}get forwardBufferLength(){const{media:n,levelDetails:e}=this;if(!n||!e)return 0;const i=n.buffered.length;return(i?n.buffered.end(i-1):e.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Rt.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(Rt.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Rt.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(Rt.ERROR,this.onError,this)}onMediaAttached(n,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(n,{details:e}){this.levelDetails=e,e.advanced&&this.timeupdate(),!e.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(n,e){var i;e.details===Vn.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(i=this.levelDetails)&&i.live&&Dn.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:n,levelDetails:e}=this;if(!n||!e)return;this.currentTime=n.currentTime;const i=this.computeLatency();if(null===i)return;this._latency=i;const{lowLatencyMode:o,maxLiveSyncPlaybackRate:d}=this.config;if(!o||1===d)return;const m=this.targetLatency;if(null===m)return;const v=i-m,I=Math.min(this.maxLatency,m+e.targetduration);if(e.live&&v<I&&v>.05&&this.forwardBufferLength>1){const te=Math.min(2,Math.max(1,d)),me=Math.round(2/(1+Math.exp(-.75*v-this.edgeStalled))*20)/20;n.playbackRate=Math.min(te,Math.max(1,me))}else 1!==n.playbackRate&&0!==n.playbackRate&&(n.playbackRate=1)}estimateLiveEdge(){const{levelDetails:n}=this;return null===n?null:n.edge+n.age}computeLatency(){const n=this.estimateLiveEdge();return null===n?null:n-this.currentTime}}const Bg=["NONE","TYPE-0","TYPE-1",null];class ib{constructor(n,e,i){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=n,this.part=e,this.skip=i}addDirectives(n){const e=new self.URL(n);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.href}}class Vf{constructor(n){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[n.url],this._attrs=[n.attrs],this.bitrate=n.bitrate,n.details&&(this.details=n.details),this.id=n.id||0,this.name=n.name,this.width=n.width||0,this.height=n.height||0,this.audioCodec=n.audioCodec,this.videoCodec=n.videoCodec,this.unknownCodecs=n.unknownCodecs,this.codecSet=[n.videoCodec,n.audioCodec].filter(e=>e).join(",").replace(/\.[^.,]+/g,"")}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get attrs(){return this._attrs[this._urlId]}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get uri(){return this.url[this._urlId]||""}get urlId(){return this._urlId}set urlId(n){const e=n%this.url.length;this._urlId!==e&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=e)}get audioGroupId(){var n;return null==(n=this.audioGroupIds)?void 0:n[this.urlId]}get textGroupId(){var n;return null==(n=this.textGroupIds)?void 0:n[this.urlId]}addFallback(n){this.url.push(n.url),this._attrs.push(n.attrs)}}function Xd(r,n){const e=n.startPTS;if(Ni(e)){let o,i=0;n.sn>r.sn?(i=e-r.start,o=r):(i=r.start-e,o=n),o.duration!==i&&(o.duration=i)}else n.start=n.sn>r.sn?r.cc===n.cc&&r.minEndPTS?r.start+(r.minEndPTS-r.start):r.start+r.duration:Math.max(r.start-n.duration,0)}function Ug(r,n,e,i,o,d){i-e<=0&&(Dn.warn("Fragment should have a positive duration",n),i=e+n.duration,d=o+n.duration);let v=e,I=i;const j=n.startPTS,te=n.endPTS;if(Ni(j)){const Ot=Math.abs(j-e);n.deltaPTS=Ni(n.deltaPTS)?Math.max(Ot,n.deltaPTS):Ot,v=Math.max(e,j),e=Math.min(e,j),o=Math.min(o,n.startDTS),I=Math.min(i,te),i=Math.max(i,te),d=Math.max(d,n.endDTS)}const me=e-n.start;0!==n.start&&(n.start=e),n.duration=i-n.start,n.startPTS=e,n.maxStartPTS=v,n.startDTS=o,n.endPTS=i,n.minEndPTS=I,n.endDTS=d;const We=n.sn;if(!r||We<r.startSN||We>r.endSN)return 0;let et;const pt=We-r.startSN,Ct=r.fragments;for(Ct[pt]=n,et=pt;et>0;et--)Xd(Ct[et],Ct[et-1]);for(et=pt;et<Ct.length-1;et++)Xd(Ct[et],Ct[et+1]);return r.fragmentHint&&Xd(Ct[Ct.length-1],r.fragmentHint),r.PTSKnown=r.alignedSliding=!0,me}function jg(r,n){const e=n.startSN+n.skippedSegments-r.startSN,i=r.fragments;e<0||e>=i.length||Vg(n,i[e].start)}function Vg(r,n){if(n){const e=r.fragments;for(let i=r.skippedSegments;i<e.length;i++)e[i].start+=n;r.fragmentHint&&(r.fragmentHint.start+=n)}}function Gg(r,n,e){var i;return null!=r&&r.details?Hg(null==(i=r.details)?void 0:i.partList,n,e):null}function Hg(r,n,e){if(r)for(let i=r.length;i--;){const o=r[i];if(o.index===e&&o.fragment.sn===n)return o}return null}function gm(r){switch(r.details){case Vn.FRAG_LOAD_TIMEOUT:case Vn.KEY_LOAD_TIMEOUT:case Vn.LEVEL_LOAD_TIMEOUT:case Vn.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function lb(r,n){const e=gm(n);return r.default[(e?"timeout":"error")+"Retry"]}function Kg(r,n){const e="linear"===r.backoff?1:Math.pow(2,n);return Math.min(e*r.retryDelayMs,r.maxRetryDelayMs)}function Yu(r){return ra(ra({},r),{errorRetry:null,timeoutRetry:null})}function _m(r,n,e,i){return!!r&&n<r.maxNumRetry&&(function Yg(r){return 0===r&&!1===navigator.onLine||!!r&&(r<400||r>499)}(i)||!!e)}const wl={search:function(r,n){let e=0,i=r.length-1,o=null,d=null;for(;e<=i;){o=(e+i)/2|0,d=r[o];const m=n(d);if(m>0)e=o+1;else{if(!(m<0))return d;i=o-1}}return null}};function rd(r,n,e=0,i=0){let o=null;if(r?o=n[r.sn-n[0].sn+1]||null:0===e&&0===n[0].start&&(o=n[0]),o&&0===eu(e,i,o))return o;const d=wl.search(n,eu.bind(null,e,i));return!d||d===r&&o?o:d}function eu(r=0,n=0,e){if(e.start<=r&&e.start+e.duration>r)return 0;const i=Math.min(n,e.duration+(e.deltaPTS?e.deltaPTS:0));return e.start+e.duration-i<=r?1:e.start-i>r&&e.start?-1:0}function rD(r,n,e){const i=1e3*Math.min(n,e.duration+(e.deltaPTS?e.deltaPTS:0));return(e.endProgramDateTime||0)-i>r}function lD(r,n,e){if(performance.now()-r.lastErrorPerfMs>3e5)return!0;const i=r.details;if(n.details===Vn.FRAG_GAP&&i&&n.frag){const d=rd(null,i.fragments,n.frag.start);if(d&&!d.gap)return!0}if(e&&r.errors.length<e.errors.length){const o=r.errors[r.errors.length-1];if(i&&o.frag&&n.frag&&Math.abs(o.frag.start-n.frag.start)>3*i.targetduration)return!0}return!1}class Gf{constructor(n,e){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=Dn.log.bind(Dn,`${e}:`),this.warn=Dn.warn.bind(Dn,`${e}:`),this.hls=n}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){clearTimeout(this.timer),this.timer=-1}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(n,e){const i=e?.renditionReports;if(i){let o=-1;for(let d=0;d<i.length;d++){const m=i[d];let v;try{v=new self.URL(m.URI,e.url).href}catch(I){Dn.warn(`Could not construct new URL for Rendition Report: ${I}`),v=m.URI||""}if(v===n){o=d;break}v===n.substring(0,v.length)&&(o=d)}if(-1!==o){const d=i[o],m=parseInt(d["LAST-MSN"])||e?.lastPartSn;let v=parseInt(d["LAST-PART"])||e?.lastPartIndex;if(this.hls.config.lowLatencyMode){const I=Math.min(e.age-e.partTarget,e.targetduration);v>=0&&I>e.partTarget&&(v+=1)}return new ib(m,v>=0?v:void 0,"")}}}loadPlaylist(n){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(n){return this.canLoad&&!!n&&!!n.url&&(!n.details||n.details.live)}shouldReloadPlaylist(n){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(n)}playlistLoaded(n,e,i){const{details:o,stats:d}=e,m=self.performance.now(),v=d.loading.first?Math.max(0,m-d.loading.first):0;if(o.advancedDateTime=Date.now()-v,o.live||null!=i&&i.live){if(o.reloaded(i),i&&this.log(`live playlist ${n} ${o.advanced?"REFRESHED "+o.lastPartSn+"-"+o.lastPartIndex:"MISSED"}`),i&&o.fragments.length>0&&function rb(r,n){let e=null;const i=r.fragments;for(let I=i.length-1;I>=0;I--){const j=i[I].initSegment;if(j){e=j;break}}r.fragmentHint&&delete r.fragmentHint.endPTS;let d,o=0;if(function ab(r,n,e){const i=n.skippedSegments,o=Math.max(r.startSN,n.startSN)-n.startSN,d=(r.fragmentHint?1:0)+(i?n.endSN:Math.min(r.endSN,n.endSN))-n.startSN,m=n.startSN-r.startSN,v=n.fragmentHint?n.fragments.concat(n.fragmentHint):n.fragments,I=r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments;for(let j=o;j<=d;j++){const te=I[m+j];let me=v[j];i&&!me&&j<i&&(me=n.fragments[j]=te),te&&me&&e(te,me)}}(r,n,(I,j)=>{I.relurl&&(o=I.cc-j.cc),Ni(I.startPTS)&&Ni(I.endPTS)&&(j.start=j.startPTS=I.startPTS,j.startDTS=I.startDTS,j.maxStartPTS=I.maxStartPTS,j.endPTS=I.endPTS,j.endDTS=I.endDTS,j.minEndPTS=I.minEndPTS,j.duration=I.endPTS-I.startPTS,j.duration&&(d=j),n.PTSKnown=n.alignedSliding=!0),j.elementaryStreams=I.elementaryStreams,j.loader=I.loader,j.stats=I.stats,j.urlId=I.urlId,I.initSegment&&(j.initSegment=I.initSegment,e=I.initSegment)}),e&&(n.fragmentHint?n.fragments.concat(n.fragmentHint):n.fragments).forEach(j=>{var te;(!j.initSegment||j.initSegment.relurl===(null==(te=e)?void 0:te.relurl))&&(j.initSegment=e)}),n.skippedSegments)if(n.deltaUpdateFailed=n.fragments.some(I=>!I),n.deltaUpdateFailed){Dn.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let I=n.skippedSegments;I--;)n.fragments.shift();n.startSN=n.fragments[0].sn,n.startCC=n.fragments[0].cc}else n.canSkipDateRanges&&(n.dateRanges=function ob(r,n,e){const i=po({},r);return e&&e.forEach(o=>{delete i[o]}),Object.keys(n).forEach(o=>{const d=new C0(n[o].attr,i[o]);d.isValid?i[o]=d:Dn.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(n[o].attr)}"`)}),i}(r.dateRanges,n.dateRanges,n.recentlyRemovedDateranges));const m=n.fragments;if(o){Dn.warn("discontinuity sliding from playlist, take drift into account");for(let I=0;I<m.length;I++)m[I].cc+=o}n.skippedSegments&&(n.startCC=n.fragments[0].cc),function sb(r,n,e){if(r&&n){let i=0;for(let o=0,d=r.length;o<=d;o++){const m=r[o],v=n[o+i];m&&v&&m.index===v.index&&m.fragment.sn===v.fragment.sn?e(m,v):i--}}}(r.partList,n.partList,(I,j)=>{j.elementaryStreams=I.elementaryStreams,j.stats=I.stats}),d?Ug(n,d,d.startPTS,d.endPTS,d.startDTS,d.endDTS):jg(r,n),m.length&&(n.totalduration=n.edge-m[0].start),n.driftStartTime=r.driftStartTime,n.driftStart=r.driftStart;const v=n.advancedDateTime;if(n.advanced&&v){const I=n.edge;n.driftStart||(n.driftStartTime=v,n.driftStart=I),n.driftEndTime=v,n.driftEnd=I}else n.driftEndTime=r.driftEndTime,n.driftEnd=r.driftEnd,n.advancedDateTime=r.advancedDateTime}(i,o),!this.canLoad||!o.live)return;let I,j,te;if(o.canBlockReload&&o.endSN&&o.advanced){const Ot=this.hls.config.lowLatencyMode,Zt=o.lastPartSn,dn=o.endSN,sn=o.lastPartIndex,Cn=Zt===dn;-1!==sn?(j=Cn?dn+1:Zt,te=Cn?Ot?0:sn:sn+1):j=dn+1;const On=o.age;let ni=Math.min(On+o.ageHeader-o.partTarget,1.5*o.targetduration);if(ni>0){if(i&&ni>i.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${i.tuneInGoal} to: ${ni} with playlist age: ${o.age}`),ni=0;else{const kn=Math.floor(ni/o.targetduration);j+=kn,void 0!==te&&(te+=Math.round(ni%o.targetduration/o.partTarget)),this.log(`CDN Tune-in age: ${o.ageHeader}s last advanced ${On.toFixed(2)}s goal: ${ni} skip sn ${kn} to part ${te}`)}o.tuneInGoal=ni}if(I=this.getDeliveryDirectives(o,e.deliveryDirectives,j,te),Ot||!Cn)return void this.loadPlaylist(I)}else o.canBlockReload&&(I=this.getDeliveryDirectives(o,e.deliveryDirectives,j,te));const me=this.hls.mainForwardBufferInfo,pt=function pA(r,n=1/0){let e=1e3*r.targetduration;if(r.updated){const i=r.fragments;if(i.length&&4*e>n){const d=1e3*i[i.length-1].duration;d<e&&(e=d)}}else e/=2;return Math.round(e)}(o,1e3*(o.edge-(me?me.end-me.len:0)));o.updated&&m>this.requestScheduled+pt&&(this.requestScheduled=d.loading.start),void 0!==j&&o.canBlockReload?this.requestScheduled=d.loading.first+pt-(1e3*o.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+pt<m?this.requestScheduled=m:this.requestScheduled-m<=0&&(this.requestScheduled+=pt);let Ct=this.requestScheduled-m;Ct=Math.max(0,Ct),this.log(`reload live playlist ${n} in ${Math.round(Ct)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(I),Ct)}else this.clearTimer()}getDeliveryDirectives(n,e,i,o){let d=function nD(r,n){const{canSkipUntil:e,canSkipDateRanges:i,endSN:o}=r;return e&&(void 0!==n?n-o:0)<e?i?"v2":"YES":""}(n,i);return null!=e&&e.skip&&n.deltaUpdateFailed&&(i=e.msn,o=e.part,d=""),new ib(i,o,d)}checkRetry(n){const e=n.details,i=gm(n),o=n.errorAction,{action:d,retryCount:m=0,retryConfig:v}=o||{},I=!!o&&!!v&&(5===d||!o.resolved&&2===d);if(I){var j;if(this.requestScheduled=-1,m>=v.maxNumRetry)return!1;if(i&&null!=(j=n.context)&&j.deliveryDirectives)this.warn(`Retrying playlist loading ${m+1}/${v.maxNumRetry} after "${e}" without delivery-directives`),this.loadPlaylist();else{const te=Kg(v,m);this.timer=self.setTimeout(()=>this.loadPlaylist(),te),this.warn(`Retrying playlist loading ${m+1}/${v.maxNumRetry} after "${e}" in ${te}ms`)}n.levelRetry=!0,o.resolved=!0}return I}}let Wg;class cD extends Gf{constructor(n,e){super(n,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=e,this._registerListeners()}_registerListeners(){const{hls:n}=this;n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.MANIFEST_LOADED,this.onManifestLoaded,this),n.on(Rt.LEVEL_LOADED,this.onLevelLoaded,this),n.on(Rt.LEVELS_UPDATED,this.onLevelsUpdated,this),n.on(Rt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.on(Rt.FRAG_LOADED,this.onFragLoaded,this),n.on(Rt.ERROR,this.onError,this)}_unregisterListeners(){const{hls:n}=this;n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.MANIFEST_LOADED,this.onManifestLoaded,this),n.off(Rt.LEVEL_LOADED,this.onLevelLoaded,this),n.off(Rt.LEVELS_UPDATED,this.onLevelsUpdated,this),n.off(Rt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.off(Rt.FRAG_LOADED,this.onFragLoaded,this),n.off(Rt.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}startLoad(){this._levels.forEach(e=>{e.loadError=0,e.fragmentError=0}),super.startLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}onManifestLoading(n,e){this.resetLevels()}onManifestLoaded(n,e){const i=[],o={};let d;e.levels.forEach(m=>{var v;const I=m.attrs;-1!==(null==(v=m.audioCodec)?void 0:v.indexOf("mp4a.40.34"))&&(Wg||(Wg=/chrome|firefox/i.test(navigator.userAgent)),Wg&&(m.audioCodec=void 0));const{AUDIO:j,CODECS:te,"FRAME-RATE":me,"PATHWAY-ID":We,RESOLUTION:et,SUBTITLES:pt}=I,Ot=`${We||"."}-${m.bitrate}-${et}-${me}-${te}`;d=o[Ot],d?d.addFallback(m):(d=new Vf(m),o[Ot]=d,i.push(d)),Hf(d,"audio",j),Hf(d,"text",pt)}),this.filterAndSortMediaOptions(i,e)}filterAndSortMediaOptions(n,e){let i=[],o=[],d=!1,m=!1,v=!1,I=n.filter(({audioCodec:et,videoCodec:pt,width:Ct,height:Ot,unknownCodecs:Zt})=>(d||(d=!(!Ct||!Ot)),m||(m=!!pt),v||(v=!!et),!(null!=Zt&&Zt.length)&&(!et||fm(et,"audio"))&&(!pt||fm(pt,"video"))));if((d||m)&&v&&(I=I.filter(({videoCodec:et,width:pt,height:Ct})=>!!et||!(!pt||!Ct))),0===I.length)return void Promise.resolve().then(()=>{if(this.hls){const et=new Error("no level with compatible codecs found in manifest");this.hls.trigger(Rt.ERROR,{type:Fi.MEDIA_ERROR,details:Vn.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:et,reason:et.message})}});e.audioTracks&&(i=e.audioTracks.filter(et=>!et.audioCodec||fm(et.audioCodec,"audio")),cb(i)),e.subtitles&&(o=e.subtitles,cb(o));const j=I.slice(0);I.sort((et,pt)=>et.attrs["HDCP-LEVEL"]!==pt.attrs["HDCP-LEVEL"]?(et.attrs["HDCP-LEVEL"]||"")>(pt.attrs["HDCP-LEVEL"]||"")?1:-1:et.bitrate!==pt.bitrate?et.bitrate-pt.bitrate:et.attrs["FRAME-RATE"]!==pt.attrs["FRAME-RATE"]?et.attrs.decimalFloatingPoint("FRAME-RATE")-pt.attrs.decimalFloatingPoint("FRAME-RATE"):et.attrs.SCORE!==pt.attrs.SCORE?et.attrs.decimalFloatingPoint("SCORE")-pt.attrs.decimalFloatingPoint("SCORE"):d&&et.height!==pt.height?et.height-pt.height:0);let te=j[0];if(this.steering&&(I=this.steering.filterParsedLevels(I),I.length!==j.length))for(let et=0;et<j.length;et++)if(j[et].pathwayId===I[0].pathwayId){te=j[et];break}this._levels=I;for(let et=0;et<I.length;et++)if(I[et]===te){this._firstLevel=et,this.log(`manifest loaded, ${I.length} level(s) found, first bitrate: ${te.bitrate}`);break}const We={levels:I,audioTracks:i,subtitleTracks:o,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:v,video:m,altAudio:!(v&&!m)&&i.some(et=>!!et.url)};this.hls.trigger(Rt.MANIFEST_PARSED,We),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(n){const e=this._levels;if(0===e.length)return;if(n<0||n>=e.length){const te=new Error("invalid level idx"),me=n<0;if(this.hls.trigger(Rt.ERROR,{type:Fi.OTHER_ERROR,details:Vn.LEVEL_SWITCH_ERROR,level:n,fatal:me,error:te,reason:te.message}),me)return;n=Math.min(n,e.length-1)}const i=this.currentLevelIndex,o=this.currentLevel,d=o?o.attrs["PATHWAY-ID"]:void 0,m=e[n],v=m.attrs["PATHWAY-ID"];if(this.currentLevelIndex=n,this.currentLevel=m,i===n&&m.details&&o&&d===v)return;this.log(`Switching to level ${n}${v?" with Pathway "+v:""} from level ${i}${d?" with Pathway "+d:""}`);const I=po({},m,{level:n,maxBitrate:m.maxBitrate,attrs:m.attrs,uri:m.uri,urlId:m.urlId});delete I._attrs,delete I._urlId,this.hls.trigger(Rt.LEVEL_SWITCHING,I);const j=m.details;if(!j||j.live){const te=this.switchParams(m.uri,o?.details);this.loadPlaylist(te)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(n){this.manualLevelIndex=n,void 0===this._startLevel&&(this._startLevel=n),-1!==n&&(this.level=n)}get firstLevel(){return this._firstLevel}set firstLevel(n){this._firstLevel=n}get startLevel(){if(void 0===this._startLevel){const n=this.hls.config.startLevel;return void 0!==n?n:this._firstLevel}return this._startLevel}set startLevel(n){this._startLevel=n}onError(n,e){e.fatal||!e.context||"level"===e.context.type&&e.context.level===this.level&&this.checkRetry(e)}onFragLoaded(n,{frag:e}){if(void 0!==e&&"main"===e.type){const i=this._levels[e.level];void 0!==i&&(i.loadError=0)}}onLevelLoaded(n,e){var i;const{level:o,details:d}=e,m=this._levels[o];var v;if(!m)return this.warn(`Invalid level index ${o}`),void(null!=(v=e.deliveryDirectives)&&v.skip&&(d.deltaUpdateFailed=!0));o===this.currentLevelIndex?(0===m.fragmentError&&(m.loadError=0),this.playlistLoaded(o,e,m.details)):null!=(i=e.deliveryDirectives)&&i.skip&&(d.deltaUpdateFailed=!0)}onAudioTrackSwitched(n,e){const i=this.currentLevel;if(!i)return;const o=this.hls.audioTracks[e.id].groupId;if(i.audioGroupIds&&i.audioGroupId!==o){let d=-1;for(let m=0;m<i.audioGroupIds.length;m++)if(i.audioGroupIds[m]===o){d=m;break}-1!==d&&d!==i.urlId&&(i.urlId=d,this.canLoad&&this.startLoad())}}loadPlaylist(n){super.loadPlaylist();const e=this.currentLevelIndex,i=this.currentLevel;if(i&&this.shouldLoadPlaylist(i)){const o=i.urlId;let d=i.uri;if(n)try{d=n.addDirectives(d)}catch(v){this.warn(`Could not construct new URL with HLS Delivery Directives: ${v}`)}const m=i.attrs["PATHWAY-ID"];this.log(`Loading level index ${e}${void 0!==n?.msn?" at sn "+n.msn+" part "+n.part:""} with${m?" Pathway "+m:""} URI ${o+1}/${i.url.length} ${d}`),this.clearTimer(),this.hls.trigger(Rt.LEVEL_LOADING,{url:d,level:e,id:o,deliveryDirectives:n||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(n){this.level=n,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=n)}removeLevel(n,e){const i=(d,m)=>m!==e,o=this._levels.filter((d,m)=>m!==n||(d.url.length>1&&void 0!==e?(d.url=d.url.filter(i),d.audioGroupIds&&(d.audioGroupIds=d.audioGroupIds.filter(i)),d.textGroupIds&&(d.textGroupIds=d.textGroupIds.filter(i)),d.urlId=0,!0):(this.steering&&this.steering.removeLevel(d),!1)));this.hls.trigger(Rt.LEVELS_UPDATED,{levels:o})}onLevelsUpdated(n,{levels:e}){e.forEach((i,o)=>{const{details:d}=i;null!=d&&d.fragments&&d.fragments.forEach(m=>{m.level=o})}),this._levels=e}}function Hf(r,n,e){e&&("audio"===n?(r.audioGroupIds||(r.audioGroupIds=[]),r.audioGroupIds[r.url.length-1]=e):"text"===n&&(r.textGroupIds||(r.textGroupIds=[]),r.textGroupIds[r.url.length-1]=e))}function cb(r){const n={};r.forEach(e=>{const i=e.groupId||"";e.id=n[i]=n[i]||0,n[i]++})}class db{constructor(n){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=n,this._registerListeners()}_registerListeners(){const{hls:n}=this;n.on(Rt.BUFFER_APPENDED,this.onBufferAppended,this),n.on(Rt.FRAG_BUFFERED,this.onFragBuffered,this),n.on(Rt.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:n}=this;n.off(Rt.BUFFER_APPENDED,this.onBufferAppended,this),n.off(Rt.FRAG_BUFFERED,this.onFragBuffered,this),n.off(Rt.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(n,e){const i=this.activePartLists[e];if(i)for(let o=i.length;o--;){const d=i[o];if(!d)break;const m=d.end;if(d.start<=n&&null!==m&&n<=m)return d}return this.getBufferedFrag(n,e)}getBufferedFrag(n,e){const{fragments:i}=this,o=Object.keys(i);for(let d=o.length;d--;){const m=i[o[d]];if(m?.body.type===e&&m.buffered){const v=m.body;if(v.start<=n&&n<=v.end)return v}}return null}detectEvictedFragments(n,e,i,o){this.timeRanges&&(this.timeRanges[n]=e);const d=o?.fragment.sn||-1;Object.keys(this.fragments).forEach(m=>{const v=this.fragments[m];if(!v||d>=v.body.sn)return;if(!v.buffered&&!v.loaded)return void(v.body.type===i&&this.removeFragment(v.body));const I=v.range[n];I&&I.time.some(j=>{const te=!this.isTimeBuffered(j.startPTS,j.endPTS,e);return te&&this.removeFragment(v.body),te})})}detectPartialFragments(n){const e=this.timeRanges,{frag:i,part:o}=n;if(!e||"initSegment"===i.sn)return;const d=Wu(i),m=this.fragments[d];if(!m||m.buffered&&i.gap)return;const v=!i.relurl;Object.keys(e).forEach(I=>{const j=i.elementaryStreams[I];j&&(m.range[I]=this.getBufferedTimes(i,o,v||!0===j.partial,e[I]))}),m.loaded=null,Object.keys(m.range).length?(m.buffered=!0,m.body.endList&&(this.endListFragments[m.body.type]=m),tu(m)||this.removeParts(i.sn-1,i.type)):this.removeFragment(m.body)}removeParts(n,e){const i=this.activePartLists[e];i&&(this.activePartLists[e]=i.filter(o=>o.fragment.sn>=n))}fragBuffered(n,e){const i=Wu(n);let o=this.fragments[i];!o&&e&&(o=this.fragments[i]={body:n,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},n.gap&&(this.hasGaps=!0)),o&&(o.loaded=null,o.buffered=!0)}getBufferedTimes(n,e,i,o){const d={time:[],partial:i},m=n.start,v=n.end,I=n.minEndPTS||v,j=n.maxStartPTS||m;for(let te=0;te<o.length;te++){const me=o.start(te)-this.bufferPadding,We=o.end(te)+this.bufferPadding;if(j>=me&&I<=We){d.time.push({startPTS:Math.max(m,o.start(te)),endPTS:Math.min(v,o.end(te))});break}if(m<We&&v>me)d.partial=!0,d.time.push({startPTS:Math.max(m,o.start(te)),endPTS:Math.min(v,o.end(te))});else if(v<=me)break}return d}getPartialFragment(n){let i,o,d,e=null,m=0;const{bufferPadding:v,fragments:I}=this;return Object.keys(I).forEach(j=>{const te=I[j];te&&tu(te)&&(o=te.body.start-v,d=te.body.end+v,n>=o&&n<=d&&(i=Math.min(n-o,d-n),m<=i&&(e=te.body,m=i)))}),e}isEndListAppended(n){const e=this.endListFragments[n];return void 0!==e&&(e.buffered||tu(e))}getState(n){const e=Wu(n),i=this.fragments[e];return i?i.buffered?tu(i)?"PARTIAL":"OK":"APPENDING":"NOT_LOADED"}isTimeBuffered(n,e,i){let o,d;for(let m=0;m<i.length;m++){if(o=i.start(m)-this.bufferPadding,d=i.end(m)+this.bufferPadding,n>=o&&e<=d)return!0;if(e<=o)return!1}return!1}onFragLoaded(n,e){const{frag:i,part:o}=e;if("initSegment"===i.sn||i.bitrateTest)return;const d=o?null:e,m=Wu(i);this.fragments[m]={body:i,appendedPTS:null,loaded:d,buffered:!1,range:Object.create(null)}}onBufferAppended(n,e){const{frag:i,part:o,timeRanges:d}=e;if("initSegment"===i.sn)return;const m=i.type;if(o){let v=this.activePartLists[m];v||(this.activePartLists[m]=v=[]),v.push(o)}this.timeRanges=d,Object.keys(d).forEach(v=>{this.detectEvictedFragments(v,d[v],m,o)})}onFragBuffered(n,e){this.detectPartialFragments(e)}hasFragment(n){const e=Wu(n);return!!this.fragments[e]}hasParts(n){var e;return!(null==(e=this.activePartLists[n])||!e.length)}removeFragmentsInRange(n,e,i,o,d){o&&!this.hasGaps||Object.keys(this.fragments).forEach(m=>{const v=this.fragments[m];if(!v)return;const I=v.body;I.type!==i||o&&!I.gap||I.start<e&&I.end>n&&(v.buffered||d)&&this.removeFragment(I)})}removeFragment(n){const e=Wu(n);n.stats.loaded=0,n.clearElementaryStreamInfo();const i=this.activePartLists[n.type];if(i){const o=n.sn;this.activePartLists[n.type]=i.filter(d=>d.fragment.sn!==o)}delete this.fragments[e],n.endList&&delete this.endListFragments[n.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function tu(r){var n,e,i;return r.buffered&&(r.body.gap||(null==(n=r.range.video)?void 0:n.partial)||(null==(e=r.range.audio)?void 0:e.partial)||(null==(i=r.range.audiovideo)?void 0:i.partial))}function Wu(r){return`${r.type}_${r.level}_${r.urlId}_${r.sn}`}const ub=Math.pow(2,17);class fb{constructor(n){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=n}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(n,e){const i=n.url;if(!i)return Promise.reject(new oc({type:Fi.NETWORK_ERROR,details:Vn.FRAG_LOAD_ERROR,fatal:!1,frag:n,error:new Error("Fragment does not have a "+(i?"part list":"url")),networkDetails:null}));this.abort();const o=this.config,d=o.fLoader,m=o.loader;return new Promise((v,I)=>{if(this.loader&&this.loader.destroy(),n.gap){if(n.tagList.some(et=>"GAP"===et[0]))return void I(vm(n));n.gap=!1}const j=this.loader=n.loader=d?new d(o):new m(o),te=zg(n),me=Yu(o.fragLoadPolicy.default),We={loadPolicy:me,timeout:me.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===n.sn?1/0:ub};n.stats=j.stats,j.load(te,We,{onSuccess:(et,pt,Ct,Ot)=>{this.resetLoader(n,j);let Zt=et.data;Ct.resetIV&&n.decryptdata&&(n.decryptdata.iv=new Uint8Array(Zt.slice(0,16)),Zt=Zt.slice(16)),v({frag:n,part:null,payload:Zt,networkDetails:Ot})},onError:(et,pt,Ct,Ot)=>{this.resetLoader(n,j),I(new oc({type:Fi.NETWORK_ERROR,details:Vn.FRAG_LOAD_ERROR,fatal:!1,frag:n,response:ra({url:i,data:void 0},et),error:new Error(`HTTP Error ${et.code} ${et.text}`),networkDetails:Ct,stats:Ot}))},onAbort:(et,pt,Ct)=>{this.resetLoader(n,j),I(new oc({type:Fi.NETWORK_ERROR,details:Vn.INTERNAL_ABORTED,fatal:!1,frag:n,error:new Error("Aborted"),networkDetails:Ct,stats:et}))},onTimeout:(et,pt,Ct)=>{this.resetLoader(n,j),I(new oc({type:Fi.NETWORK_ERROR,details:Vn.FRAG_LOAD_TIMEOUT,fatal:!1,frag:n,error:new Error(`Timeout after ${We.timeout}ms`),networkDetails:Ct,stats:et}))},onProgress:(et,pt,Ct,Ot)=>{e&&e({frag:n,part:null,payload:Ct,networkDetails:Ot})}})})}loadPart(n,e,i){this.abort();const o=this.config,d=o.fLoader,m=o.loader;return new Promise((v,I)=>{if(this.loader&&this.loader.destroy(),n.gap||e.gap)return void I(vm(n,e));const j=this.loader=n.loader=d?new d(o):new m(o),te=zg(n,e),me=Yu(o.fragLoadPolicy.default),We={loadPolicy:me,timeout:me.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:ub};e.stats=j.stats,j.load(te,We,{onSuccess:(et,pt,Ct,Ot)=>{this.resetLoader(n,j),this.updateStatsFromPart(n,e);const Zt={frag:n,part:e,payload:et.data,networkDetails:Ot};i(Zt),v(Zt)},onError:(et,pt,Ct,Ot)=>{this.resetLoader(n,j),I(new oc({type:Fi.NETWORK_ERROR,details:Vn.FRAG_LOAD_ERROR,fatal:!1,frag:n,part:e,response:ra({url:te.url,data:void 0},et),error:new Error(`HTTP Error ${et.code} ${et.text}`),networkDetails:Ct,stats:Ot}))},onAbort:(et,pt,Ct)=>{n.stats.aborted=e.stats.aborted,this.resetLoader(n,j),I(new oc({type:Fi.NETWORK_ERROR,details:Vn.INTERNAL_ABORTED,fatal:!1,frag:n,part:e,error:new Error("Aborted"),networkDetails:Ct,stats:et}))},onTimeout:(et,pt,Ct)=>{this.resetLoader(n,j),I(new oc({type:Fi.NETWORK_ERROR,details:Vn.FRAG_LOAD_TIMEOUT,fatal:!1,frag:n,part:e,error:new Error(`Timeout after ${We.timeout}ms`),networkDetails:Ct,stats:et}))}})})}updateStatsFromPart(n,e){const i=n.stats,o=e.stats,d=o.total;if(i.loaded+=o.loaded,d){const I=Math.round(n.duration/e.duration),j=Math.min(Math.round(i.loaded/d),I),me=(I-j)*Math.round(i.loaded/j);i.total=i.loaded+me}else i.total=Math.max(i.loaded,i.total);const m=i.loading,v=o.loading;m.start?m.first+=v.first-v.start:(m.start=v.start,m.first=v.first),m.end=v.end}resetLoader(n,e){n.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()}}function zg(r,n=null){const e=n||r,i={frag:r,part:n,responseType:"arraybuffer",url:e.url,headers:{},rangeStart:0,rangeEnd:0},o=e.byteRangeStartOffset,d=e.byteRangeEndOffset;if(Ni(o)&&Ni(d)){var m;let v=o,I=d;if("initSegment"===r.sn&&"AES-128"===(null==(m=r.decryptdata)?void 0:m.method)){const j=d-o;j%16&&(I=d+(16-j%16)),0!==o&&(i.resetIV=!0,v=o-16)}i.rangeStart=v,i.rangeEnd=I}return i}function vm(r,n){const e=new Error(`GAP ${r.gap?"tag":"attribute"} found`),i={type:Fi.MEDIA_ERROR,details:Vn.FRAG_GAP,fatal:!1,frag:r,error:e,networkDetails:null};return n&&(i.part=n),(n||r).stats.aborted=!0,new oc(i)}class oc extends Error{constructor(n){super(n.error.message),this.data=void 0,this.data=n}}class dD{constructor(n){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=n}abort(n){for(const e in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[e].loader;if(i){if(n&&n!==i.context.frag.type)return;i.abort()}}}detach(){for(const n in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[n];(e.mediaKeySessionContext||e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[n]}}destroy(){this.detach();for(const n in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[n].loader;e&&e.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(n,e=Vn.KEY_LOAD_ERROR,i,o,d){return new oc({type:Fi.NETWORK_ERROR,details:e,fatal:!1,frag:n,response:d,error:i,networkDetails:o})}loadClear(n,e){if(this.emeController&&this.config.emeEnabled){const{sn:i,cc:o}=n;for(let d=0;d<e.length;d++){const m=e[d];if(o<=m.cc&&("initSegment"===i||"initSegment"===m.sn||i<m.sn)){this.emeController.selectKeySystemFormat(m).then(v=>{m.setKeyFormat(v)});break}}}}load(n){return!n.decryptdata&&n.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(n).then(e=>this.loadInternal(n,e)):this.loadInternal(n)}loadInternal(n,e){var i,o;e&&n.setKeyFormat(e);const d=n.decryptdata;if(!d){const j=new Error(e?`Expected frag.decryptdata to be defined after setting format ${e}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(n,Vn.KEY_LOAD_ERROR,j))}const m=d.uri;if(!m)return Promise.reject(this.createKeyLoadError(n,Vn.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${m}"`)));let v=this.keyUriToKeyInfo[m];if(null!=(i=v)&&i.decryptdata.key)return d.key=v.decryptdata.key,Promise.resolve({frag:n,keyInfo:v});var I;if(null!=(o=v)&&o.keyLoadPromise)switch(null==(I=v.mediaKeySessionContext)?void 0:I.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return v.keyLoadPromise.then(j=>(d.key=j.keyInfo.decryptdata.key,{frag:n,keyInfo:v}))}switch(v=this.keyUriToKeyInfo[m]={decryptdata:d,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},d.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===d.keyFormat?this.loadKeyHTTP(v,n):this.loadKeyEME(v,n);case"AES-128":return this.loadKeyHTTP(v,n);default:return Promise.reject(this.createKeyLoadError(n,Vn.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${d.method}"`)))}}loadKeyEME(n,e){const i={frag:e,keyInfo:n};if(this.emeController&&this.config.emeEnabled){const o=this.emeController.loadKey(i);if(o)return(n.keyLoadPromise=o.then(d=>(n.mediaKeySessionContext=d,i))).catch(d=>{throw n.keyLoadPromise=null,d})}return Promise.resolve(i)}loadKeyHTTP(n,e){const i=this.config,d=new(0,i.loader)(i);return e.keyLoader=n.loader=d,n.keyLoadPromise=new Promise((m,v)=>{const I={keyInfo:n,frag:e,responseType:"arraybuffer",url:n.decryptdata.uri},j=i.keyLoadPolicy.default;d.load(I,{loadPolicy:j,timeout:j.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(We,et,pt,Ct)=>{const{frag:Ot,keyInfo:Zt,url:dn}=pt;if(!Ot.decryptdata||Zt!==this.keyUriToKeyInfo[dn])return v(this.createKeyLoadError(Ot,Vn.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),Ct));Zt.decryptdata.key=Ot.decryptdata.key=new Uint8Array(We.data),Ot.keyLoader=null,Zt.loader=null,m({frag:Ot,keyInfo:Zt})},onError:(We,et,pt,Ct)=>{this.resetLoader(et),v(this.createKeyLoadError(e,Vn.KEY_LOAD_ERROR,new Error(`HTTP Error ${We.code} loading key ${We.text}`),pt,ra({url:I.url,data:void 0},We)))},onTimeout:(We,et,pt)=>{this.resetLoader(et),v(this.createKeyLoadError(e,Vn.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),pt))},onAbort:(We,et,pt)=>{this.resetLoader(et),v(this.createKeyLoadError(e,Vn.INTERNAL_ABORTED,new Error("key loading aborted"),pt))}})})}resetLoader(n){const{frag:e,keyInfo:i,url:o}=n,d=i.loader;e.keyLoader===d&&(e.keyLoader=null,i.loader=null),delete this.keyUriToKeyInfo[o],d&&d.destroy()}}class hb{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(n){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,n),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}const mb={length:0,start:()=>0,end:()=>0};class co{static isBuffered(n,e){try{if(n){const i=co.getBuffered(n);for(let o=0;o<i.length;o++)if(e>=i.start(o)&&e<=i.end(o))return!0}}catch{}return!1}static bufferInfo(n,e,i){try{if(n){const o=co.getBuffered(n),d=[];let m;for(m=0;m<o.length;m++)d.push({start:o.start(m),end:o.end(m)});return this.bufferedInfo(d,e,i)}}catch{}return{len:0,start:e,end:e,nextStart:void 0}}static bufferedInfo(n,e,i){e=Math.max(0,e),n.sort(function(j,te){return j.start-te.start||te.end-j.end});let o=[];if(i)for(let j=0;j<n.length;j++){const te=o.length;if(te){const me=o[te-1].end;n[j].start-me<i?n[j].end>me&&(o[te-1].end=n[j].end):o.push(n[j])}else o.push(n[j])}else o=n;let m,d=0,v=e,I=e;for(let j=0;j<o.length;j++){const te=o[j].start,me=o[j].end;if(e+i>=te&&e<me)v=te,I=me,d=I-e;else if(e+i<te){m=te;break}}return{len:d,start:v||0,end:I||0,nextStart:m}}static getBuffered(n){try{return n.buffered}catch(e){return Dn.log("failed to get media.buffered",e),mb}}}class Zg{constructor(n,e,i,o=0,d=-1,m=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=n,this.sn=e,this.id=i,this.size=o,this.part=d,this.partial=m}}function ym(r,n){let e=null;for(let i=0,o=r.length;i<o;i++){const d=r[i];if(d&&d.cc===n){e=d;break}}return e}function bm(r,n){if(r){const e=r.start+n;r.start=r.startPTS=e,r.endPTS=e+r.duration}}function qg(r,n){const e=n.fragments;for(let i=0,o=e.length;i<o;i++)bm(e[i],r);n.fragmentHint&&bm(n.fragmentHint,r),n.alignedSliding=!0}function Jg(r,n){if(!r.hasProgramDateTime||!n.hasProgramDateTime)return;const e=r.fragments,i=n.fragments;if(!e.length||!i.length)return;const d=i[Math.round(i.length/2)-1],m=ym(e,d.cc)||e[Math.round(e.length/2)-1],v=d.programDateTime,I=m.programDateTime;null!==v&&null!==I&&qg((I-v)/1e3-(m.start-d.start),r)}class Qg{constructor(n,e){this.subtle=void 0,this.aesIV=void 0,this.subtle=n,this.aesIV=e}decrypt(n,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,n)}}class gb{constructor(n,e){this.subtle=void 0,this.key=void 0,this.subtle=n,this.key=e}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class vb{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(n){const e=new DataView(n),i=new Uint32Array(4);for(let o=0;o<4;o++)i[o]=e.getUint32(4*o);return i}initTable(){const n=this.sBox,e=this.invSBox,i=this.subMix,o=i[0],d=i[1],m=i[2],v=i[3],I=this.invSubMix,j=I[0],te=I[1],me=I[2],We=I[3],et=new Uint32Array(256);let pt=0,Ct=0,Ot=0;for(Ot=0;Ot<256;Ot++)et[Ot]=Ot<128?Ot<<1:Ot<<1^283;for(Ot=0;Ot<256;Ot++){let Zt=Ct^Ct<<1^Ct<<2^Ct<<3^Ct<<4;Zt=Zt>>>8^255&Zt^99,n[pt]=Zt,e[Zt]=pt;const dn=et[pt],sn=et[dn],yn=et[sn];let Cn=257*et[Zt]^16843008*Zt;o[pt]=Cn<<24|Cn>>>8,d[pt]=Cn<<16|Cn>>>16,m[pt]=Cn<<8|Cn>>>24,v[pt]=Cn,Cn=16843009*yn^65537*sn^257*dn^16843008*pt,j[Zt]=Cn<<24|Cn>>>8,te[Zt]=Cn<<16|Cn>>>16,me[Zt]=Cn<<8|Cn>>>24,We[Zt]=Cn,pt?(pt=dn^et[et[et[yn^dn]]],Ct^=et[et[Ct]]):pt=Ct=1}}expandKey(n){const e=this.uint8ArrayToUint32Array_(n);let i=!0,o=0;for(;o<e.length&&i;)i=e[o]===this.key[o],o++;if(i)return;this.key=e;const d=this.keySize=e.length;if(4!==d&&6!==d&&8!==d)throw new Error("Invalid aes key size="+d);const m=this.ksRows=4*(d+6+1);let v,I;const j=this.keySchedule=new Uint32Array(m),te=this.invKeySchedule=new Uint32Array(m),me=this.sBox,We=this.rcon,et=this.invSubMix,pt=et[0],Ct=et[1],Ot=et[2],Zt=et[3];let dn,sn;for(v=0;v<m;v++)v<d?dn=j[v]=e[v]:(sn=dn,v%d==0?(sn=sn<<8|sn>>>24,sn=me[sn>>>24]<<24|me[sn>>>16&255]<<16|me[sn>>>8&255]<<8|me[255&sn],sn^=We[v/d|0]<<24):d>6&&v%d==4&&(sn=me[sn>>>24]<<24|me[sn>>>16&255]<<16|me[sn>>>8&255]<<8|me[255&sn]),j[v]=dn=(j[v-d]^sn)>>>0);for(I=0;I<m;I++)v=m-I,sn=3&I?j[v]:j[v-4],te[I]=I<4||v<=4?sn:pt[me[sn>>>24]]^Ct[me[sn>>>16&255]]^Ot[me[sn>>>8&255]]^Zt[me[255&sn]],te[I]=te[I]>>>0}networkToHostOrderSwap(n){return n<<24|(65280&n)<<8|(16711680&n)>>8|n>>>24}decrypt(n,e,i){const o=this.keySize+6,d=this.invKeySchedule,m=this.invSBox,v=this.invSubMix,I=v[0],j=v[1],te=v[2],me=v[3],We=this.uint8ArrayToUint32Array_(i);let et=We[0],pt=We[1],Ct=We[2],Ot=We[3];const Zt=new Int32Array(n),dn=new Int32Array(Zt.length);let sn,yn,Cn,Un,On,Zn,ni,kn,Ei,pi,ji,vo,Rr,ri;const di=this.networkToHostOrderSwap;for(;e<Zt.length;){for(Ei=di(Zt[e]),pi=di(Zt[e+1]),ji=di(Zt[e+2]),vo=di(Zt[e+3]),On=Ei^d[0],Zn=vo^d[1],ni=ji^d[2],kn=pi^d[3],Rr=4,ri=1;ri<o;ri++)sn=I[On>>>24]^j[Zn>>16&255]^te[ni>>8&255]^me[255&kn]^d[Rr],yn=I[Zn>>>24]^j[ni>>16&255]^te[kn>>8&255]^me[255&On]^d[Rr+1],Cn=I[ni>>>24]^j[kn>>16&255]^te[On>>8&255]^me[255&Zn]^d[Rr+2],Un=I[kn>>>24]^j[On>>16&255]^te[Zn>>8&255]^me[255&ni]^d[Rr+3],On=sn,Zn=yn,ni=Cn,kn=Un,Rr+=4;sn=m[On>>>24]<<24^m[Zn>>16&255]<<16^m[ni>>8&255]<<8^m[255&kn]^d[Rr],yn=m[Zn>>>24]<<24^m[ni>>16&255]<<16^m[kn>>8&255]<<8^m[255&On]^d[Rr+1],Cn=m[ni>>>24]<<24^m[kn>>16&255]<<16^m[On>>8&255]<<8^m[255&Zn]^d[Rr+2],Un=m[kn>>>24]<<24^m[On>>16&255]<<16^m[Zn>>8&255]<<8^m[255&ni]^d[Rr+3],dn[e]=di(sn^et),dn[e+1]=di(Un^pt),dn[e+2]=di(Cn^Ct),dn[e+3]=di(yn^Ot),et=Ei,pt=pi,Ct=ji,Ot=vo,e+=4}return dn.buffer}}class Xg{constructor(n,{removePKCS7Padding:e=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=n.enableSoftwareAES,this.removePKCS7Padding=e,e)try{const i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch{}null===this.subtle&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:n,remainderData:e}=this;if(!n||e)return this.reset(),null;const i=new Uint8Array(n);return this.reset(),this.removePKCS7Padding?function _b(r){const n=r.byteLength,e=n&&new DataView(r.buffer).getUint8(n-1);return e?Hu(r,0,n-e):r}(i):i}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(n,e,i){return this.useSoftware?new Promise((o,d)=>{this.softwareDecrypt(new Uint8Array(n),e,i);const m=this.flush();m?o(m.buffer):d(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(n),e,i)}softwareDecrypt(n,e,i){const{currentIV:o,currentResult:d,remainderData:m}=this;this.logOnce("JS AES decrypt"),m&&(n=Jd(m,n),this.remainderData=null);const v=this.getValidChunk(n);if(!v.length)return null;o&&(i=o);let I=this.softwareDecrypter;I||(I=this.softwareDecrypter=new vb),I.expandKey(e);const j=d;return this.currentResult=I.decrypt(v.buffer,0,i),this.currentIV=Hu(v,-16).buffer,j||null}webCryptoDecrypt(n,e,i){const o=this.subtle;return(this.key!==e||!this.fastAesKey)&&(this.key=e,this.fastAesKey=new gb(o,e)),this.fastAesKey.expandKey().then(d=>o?(this.logOnce("WebCrypto AES decrypt"),new Qg(o,new Uint8Array(i)).decrypt(n.buffer,d)):Promise.reject(new Error("web crypto not initialized"))).catch(d=>(Dn.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${d.name}: ${d.message}`),this.onWebCryptoError(n,e,i)))}onWebCryptoError(n,e,i){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(n,e,i);const o=this.flush();if(o)return o.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(n){let e=n;const i=n.length-n.length%16;return i!==n.length&&(e=Hu(n,0,i),this.remainderData=Hu(n,i)),e}logOnce(n){this.logEnabled&&(Dn.log(`[decrypter]: ${n}`),this.logEnabled=!1)}}class e_ extends hb{constructor(n,e,i,o,d){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state="STOPPED",this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=d,this.logPrefix=o,this.log=Dn.log.bind(Dn,`${o}:`),this.warn=Dn.warn.bind(Dn,`${o}:`),this.hls=n,this.fragmentLoader=new fb(n.config),this.keyLoader=i,this.fragmentTracker=e,this.config=n.config,this.decrypter=new Xg(n.config),n.on(Rt.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(n){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const n=this.fragCurrent;null!=n&&n.loader&&(n.abortRequests(),this.fragmentTracker.removeFragment(n)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state="STOPPED"}_streamEnded(n,e){if(e.live||n.nextStart||!n.end||!this.media)return!1;const i=e.partList;if(null!=i&&i.length){const d=i[i.length-1];return co.isBuffered(this.media,d.start+d.duration/2)}return this.fragmentTracker.isEndListAppended(e.fragments[e.fragments.length-1].type)}getLevelDetails(){var n;if(this.levels&&null!==this.levelLastLoaded)return null==(n=this.levels[this.levelLastLoaded])?void 0:n.details}onMediaAttached(n,e){const i=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),i.addEventListener("seeking",this.onvseeking),i.addEventListener("ended",this.onvended);const o=this.config;this.levels&&o.autoStartLoad&&"STOPPED"===this.state&&this.startLoad(o.startPosition)}onMediaDetaching(){const n=this.media;null!=n&&n.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),n&&this.onvseeking&&this.onvended&&(n.removeEventListener("seeking",this.onvseeking),n.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:n,fragCurrent:e,media:i,mediaBuffer:o,state:d}=this,m=i?i.currentTime:0,v=co.bufferInfo(o||i,m,n.maxBufferHole);if(this.log(`media seeking to ${Ni(m)?m.toFixed(3):m}, state: ${d}`),"ENDED"===this.state)this.resetLoadingState();else if(e){const I=n.maxFragLookUpTolerance,j=e.start-I,te=e.start+e.duration+I;if(!v.len||te<v.start||j>v.end){const me=m>te;(m<j||me)&&(me&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}i&&(this.fragmentTracker.removeFragmentsInRange(m,1/0,this.playlistType,!0),this.lastCurrentTime=m),!this.loadedmetadata&&!v.len&&(this.nextLoadPosition=this.startPosition=m),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(n,e){this.startTimeOffset=e.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.stopLoad(),super.onHandlerDestroying()}onHandlerDestroyed(){this.state="STOPPED",this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(n,e,i){this._loadFragForPlayback(n,e,i)}_loadFragForPlayback(n,e,i){this._doFragLoad(n,e,i,d=>{if(this.fragContextChanged(n))return this.warn(`Fragment ${n.sn}${d.part?" p: "+d.part.index:""} of level ${n.level} was dropped during download.`),void this.fragmentTracker.removeFragment(n);n.stats.chunkCount++,this._handleFragmentLoadProgress(d)}).then(d=>{if(!d)return;const m=this.state;this.fragContextChanged(n)?("FRAG_LOADING"===m||!this.fragCurrent&&"PARSING"===m)&&(this.fragmentTracker.removeFragment(n),this.state="IDLE"):("payload"in d&&(this.log(`Loaded fragment ${n.sn} of level ${n.level}`),this.hls.trigger(Rt.FRAG_LOADED,d)),this._handleFragmentLoadComplete(d))}).catch(d=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(d),this.resetFragmentLoading(n))})}clearTrackerIfNeeded(n){var e;const{fragmentTracker:i}=this;if("APPENDING"===i.getState(n)){const m=this.getFwdBufferInfo(this.mediaBuffer,n.type),v=Math.max(n.duration,m?m.len:this.config.maxBufferLength);this.reduceMaxBufferLength(v)&&i.removeFragment(n)}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?i.removeAllFragments():i.hasParts(n.type)&&(i.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type}),"PARTIAL"===i.getState(n)&&i.removeFragment(n))}flushMainBuffer(n,e,i=null){n-e&&this.hls.trigger(Rt.BUFFER_FLUSHING,{startOffset:n,endOffset:e,type:i})}_loadInitSegment(n,e){this._doFragLoad(n,e).then(i=>{if(!i||this.fragContextChanged(n)||!this.levels)throw new Error("init load aborted");return i}).then(i=>{const{hls:o}=this,{payload:d}=i,m=n.decryptdata;if(d&&d.byteLength>0&&m&&m.key&&m.iv&&"AES-128"===m.method){const v=self.performance.now();return this.decrypter.decrypt(new Uint8Array(d),m.key.buffer,m.iv.buffer).catch(I=>{throw o.trigger(Rt.ERROR,{type:Fi.MEDIA_ERROR,details:Vn.FRAG_DECRYPT_ERROR,fatal:!1,error:I,reason:I.message,frag:n}),I}).then(I=>{const j=self.performance.now();return o.trigger(Rt.FRAG_DECRYPTED,{frag:n,payload:I,stats:{tstart:v,tdecrypt:j}}),i.payload=I,i})}return i}).then(i=>{const{fragCurrent:o,hls:d,levels:m}=this;if(!m)throw new Error("init load aborted, missing levels");const v=n.stats;this.state="IDLE",e.fragmentError=0,n.data=new Uint8Array(i.payload),v.parsing.start=v.buffering.start=self.performance.now(),v.parsing.end=v.buffering.end=self.performance.now(),i.frag===o&&d.trigger(Rt.FRAG_BUFFERED,{stats:v,frag:o,part:null,id:n.type}),this.tick()}).catch(i=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(i),this.resetFragmentLoading(n))})}fragContextChanged(n){const{fragCurrent:e}=this;return!n||!e||n.level!==e.level||n.sn!==e.sn||n.urlId!==e.urlId}fragBufferedComplete(n,e){var i,o,d,m;const v=this.mediaBuffer?this.mediaBuffer:this.media;this.log(`Buffered ${n.type} sn: ${n.sn}${e?" part: "+e.index:""} of ${"main"===this.playlistType?"level":"track"} ${n.level} (frag:[${(null!=(i=n.startPTS)?i:NaN).toFixed(3)}-${(null!=(o=n.endPTS)?o:NaN).toFixed(3)}] > buffer:${v?function(r){let n="";const e=r.length;for(let i=0;i<e;i++)n+=`[${r.start(i).toFixed(3)}-${r.end(i).toFixed(3)}]`;return n}(co.getBuffered(v)):"(detached)"})`),this.state="IDLE",v&&(!this.loadedmetadata&&"main"==n.type&&v.buffered.length&&(null==(d=this.fragCurrent)?void 0:d.sn)===(null==(m=this.fragPrevious)?void 0:m.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(n){const{transmuxer:e}=this;if(!e)return;const{frag:i,part:o,partsLoaded:d}=n,m=!d||0===d.length||d.some(I=>!I),v=new Zg(i.level,i.sn,i.stats.chunkCount+1,0,o?o.index:-1,!m);e.flush(v)}_handleFragmentLoadProgress(n){}_doFragLoad(n,e,i=null,o){var d;const m=e?.details;if(!this.levels||!m)throw new Error(`frag load aborted, missing level${m?"":" detail"}s`);let v=null;if(!n.encrypted||null!=(d=n.decryptdata)&&d.key?!n.encrypted&&m.encryptedFragments.length&&this.keyLoader.loadClear(n,m.encryptedFragments):(this.log(`Loading key for ${n.sn} of [${m.startSN}-${m.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${n.level}`),this.state="KEY_LOADING",this.fragCurrent=n,v=this.keyLoader.load(n).then(te=>{if(!this.fragContextChanged(te.frag))return this.hls.trigger(Rt.KEY_LOADED,te),"KEY_LOADING"===this.state&&(this.state="IDLE"),te}),this.hls.trigger(Rt.KEY_LOADING,{frag:n}),null===this.fragCurrent&&(v=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),i=Math.max(n.start,i||0),this.config.lowLatencyMode&&"initSegment"!==n.sn){const te=m.partList;if(te&&o){i>n.end&&m.fragmentHint&&(n=m.fragmentHint);const me=this.getNextPart(te,n,i);if(me>-1){const We=te[me];let et;return this.log(`Loading part sn: ${n.sn} p: ${We.index} cc: ${n.cc} of playlist [${m.startSN}-${m.endSN}] parts [0-${me}-${te.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${n.level}, target: ${parseFloat(i.toFixed(3))}`),this.nextLoadPosition=We.start+We.duration,this.state="FRAG_LOADING",et=v?v.then(pt=>!pt||this.fragContextChanged(pt.frag)?null:this.doFragPartsLoad(n,We,e,o)).catch(pt=>this.handleFragLoadError(pt)):this.doFragPartsLoad(n,We,e,o).catch(pt=>this.handleFragLoadError(pt)),this.hls.trigger(Rt.FRAG_LOADING,{frag:n,part:We,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):et}if(!n.url||this.loadedEndOfParts(te,i))return Promise.resolve(null)}}this.log(`Loading fragment ${n.sn} cc: ${n.cc} ${m?"of ["+m.startSN+"-"+m.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${n.level}, target: ${parseFloat(i.toFixed(3))}`),Ni(n.sn)&&!this.bitrateTest&&(this.nextLoadPosition=n.start+n.duration),this.state="FRAG_LOADING";const I=this.config.progressive;let j;return j=I&&v?v.then(te=>!te||this.fragContextChanged(te?.frag)?null:this.fragmentLoader.load(n,o)).catch(te=>this.handleFragLoadError(te)):Promise.all([this.fragmentLoader.load(n,I?o:void 0),v]).then(([te])=>(!I&&te&&o&&o(te),te)).catch(te=>this.handleFragLoadError(te)),this.hls.trigger(Rt.FRAG_LOADING,{frag:n,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):j}doFragPartsLoad(n,e,i,o){return new Promise((d,m)=>{var v;const I=[],j=null==(v=i.details)?void 0:v.partList,te=me=>{this.fragmentLoader.loadPart(n,me,o).then(We=>{I[me.index]=We;const et=We.part;this.hls.trigger(Rt.FRAG_LOADED,We);const pt=Gg(i,n.sn,me.index+1)||Hg(j,n.sn,me.index+1);if(!pt)return d({frag:n,part:et,partsLoaded:I});te(pt)}).catch(m)};te(e)})}handleFragLoadError(n){if("data"in n){const e=n.data;n.data&&e.details===Vn.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(Rt.ERROR,e)}else this.hls.trigger(Rt.ERROR,{type:Fi.OTHER_ERROR,details:Vn.INTERNAL_EXCEPTION,err:n,error:n,fatal:!0});return null}_handleTransmuxerFlush(n){const e=this.getCurrentContext(n);if(!e||"PARSING"!==this.state)return void(!this.fragCurrent&&"STOPPED"!==this.state&&"ERROR"!==this.state&&(this.state="IDLE"));const{frag:i,part:o,level:d}=e,m=self.performance.now();i.stats.parsing.end=m,o&&(o.stats.parsing.end=m),this.updateLevelTiming(i,o,d,n.partial)}getCurrentContext(n){const{levels:e,fragCurrent:i}=this,{level:o,sn:d,part:m}=n;if(null==e||!e[o])return this.warn(`Levels object was unset while buffering fragment ${d} of level ${o}. The current chunk will not be buffered.`),null;const v=e[o],I=m>-1?Gg(v,d,m):null,j=I?I.fragment:function gA(r,n,e){if(null==r||!r.details)return null;const i=r.details;let o=i.fragments[n-i.startSN];return o||(o=i.fragmentHint,o&&o.sn===n)?o:n<i.startSN&&e&&e.sn===n?e:null}(v,d,i);return j?(i&&i!==j&&(j.stats=i.stats),{frag:j,part:I,level:v}):null}bufferFragmentData(n,e,i,o,d){var m;if(!n||"PARSING"!==this.state)return;const{data1:v,data2:I}=n;let j=v;if(v&&I&&(j=Jd(v,I)),null!=(m=j)&&m.length&&(this.hls.trigger(Rt.BUFFER_APPENDING,{type:n.type,frag:e,part:i,chunkMeta:o,parent:e.type,data:j}),n.dropped&&n.independent&&!i)){if(d)return;this.flushBufferGap(e)}}flushBufferGap(n){const e=this.media;if(!e)return;if(!co.isBuffered(e,e.currentTime))return void this.flushMainBuffer(0,n.start);const i=e.currentTime,o=co.bufferInfo(e,i,0),m=Math.min(2*this.config.maxFragLookUpTolerance,.25*n.duration),v=Math.max(Math.min(n.start-m,o.end-m),i+m);n.start-v>m&&this.flushMainBuffer(v,n.start)}getFwdBufferInfo(n,e){const i=this.getLoadPosition();return Ni(i)?this.getFwdBufferInfoAtPos(n,i,e):null}getFwdBufferInfoAtPos(n,e,i){const{config:{maxBufferHole:o}}=this,d=co.bufferInfo(n,e,o);if(0===d.len&&void 0!==d.nextStart){const m=this.fragmentTracker.getBufferedFrag(e,i);if(m&&d.nextStart<m.end)return co.bufferInfo(n,e,Math.max(d.nextStart,o))}return d}getMaxBufferLength(n){const{config:e}=this;let i;return i=n?Math.max(8*e.maxBufferSize/n,e.maxBufferLength):e.maxBufferLength,Math.min(i,e.maxMaxBufferLength)}reduceMaxBufferLength(n){const e=this.config;return e.maxMaxBufferLength>=(n||e.maxBufferLength)&&(e.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${e.maxMaxBufferLength}s`),!0)}getAppendedFrag(n,e="main"){const i=this.fragmentTracker.getAppendedFrag(n,"main");return i&&"fragment"in i?i.fragment:i}getNextFragment(n,e){const i=e.fragments,o=i.length;if(!o)return null;const{config:d}=this,m=i[0].start;let v;if(e.live){const I=d.initialLiveManifestSize;if(o<I)return this.warn(`Not enough fragments to start playback (have: ${o}, need: ${I})`),null;!e.PTSKnown&&!this.startFragRequested&&-1===this.startPosition&&(v=this.getInitialLiveFragment(e,i),this.startPosition=v?this.hls.liveSyncPosition||v.start:n)}else n<=m&&(v=i[0]);return v||(v=this.getFragmentAtPosition(n,d.lowLatencyMode?e.partEnd:e.fragmentEnd,e)),this.mapToInitFragWhenRequired(v)}isLoopLoading(n,e){const i=this.fragmentTracker.getState(n);return("OK"===i||"PARTIAL"===i&&!!n.gap)&&this.nextLoadPosition>e}getNextFragmentLoopLoading(n,e,i,o,d){const m=n.gap,v=this.getNextFragment(this.nextLoadPosition,e);if(null===v)return v;if(n=v,m&&n&&!n.gap&&i.nextStart){const I=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,i.nextStart,o);if(null!==I&&i.len+I.len>=d)return this.log(`buffer full after gaps in "${o}" playlist starting at sn: ${n.sn}`),null}return n}mapToInitFragWhenRequired(n){return null==n||!n.initSegment||null!=n&&n.initSegment.data||this.bitrateTest?n:n.initSegment}getNextPart(n,e,i){let o=-1,d=!1,m=!0;for(let v=0,I=n.length;v<I;v++){const j=n[v];if(m=m&&!j.independent,o>-1&&i<j.start)break;const te=j.loaded;te?o=-1:(d||j.independent||m)&&j.fragment===e&&(o=v),d=te}return o}loadedEndOfParts(n,e){const i=n[n.length-1];return i&&e>i.start&&i.loaded}getInitialLiveFragment(n,e){const i=this.fragPrevious;let o=null;if(i){if(n.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${i.programDateTime}`),o=function iD(r,n,e){if(null===n||!Array.isArray(r)||!r.length||!Ni(n))return null;if(n<(r[0].programDateTime||0))return null;if(n>=(r[r.length-1].endProgramDateTime||0))return null;e=e||0;for(let d=0;d<r.length;++d){const m=r[d];if(rD(n,e,m))return m}return null}(e,i.endProgramDateTime,this.config.maxFragLookUpTolerance)),!o){const d=i.sn+1;if(d>=n.startSN&&d<=n.endSN){const m=e[d-n.startSN];i.cc===m.cc&&(o=m,this.log(`Live playlist, switching playlist, load frag with next SN: ${o.sn}`))}o||(o=function oD(r,n){return wl.search(r,e=>e.cc<n?1:e.cc>n?-1:0)}(e,i.cc),o&&this.log(`Live playlist, switching playlist, load frag with same CC: ${o.sn}`))}}else{const d=this.hls.liveSyncPosition;null!==d&&(o=this.getFragmentAtPosition(d,this.bitrateTest?n.fragmentEnd:n.edge,n))}return o}getFragmentAtPosition(n,e,i){const{config:o}=this;let{fragPrevious:d}=this,{fragments:m,endSN:v}=i;const{fragmentHint:I}=i,j=o.maxFragLookUpTolerance,te=i.partList,me=!!(o.lowLatencyMode&&null!=te&&te.length&&I);let We;if(me&&I&&!this.bitrateTest&&(m=m.concat(I),v=I.sn),We=n<e?rd(d,m,n,n>e-j?0:j):m[m.length-1],We){const et=We.sn-i.startSN,pt=this.fragmentTracker.getState(We);if(("OK"===pt||"PARTIAL"===pt&&We.gap)&&(d=We),d&&We.sn===d.sn&&(!me||te[0].fragment.sn>We.sn)&&d&&We.level===d.level){const Ot=m[et+1];We=We.sn<v&&"OK"!==this.fragmentTracker.getState(Ot)?Ot:null}}return We}synchronizeToLiveEdge(n){const{config:e,media:i}=this;if(!i)return;const o=this.hls.liveSyncPosition,d=i.currentTime,v=n.edge,I=d>=n.fragments[0].start-e.maxFragLookUpTolerance&&d<=v;null!==o&&i.duration>o&&(d<o||!I)&&(!I&&i.readyState<4||d<v-(void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*n.targetduration))&&(this.loadedmetadata||(this.nextLoadPosition=o),i.readyState&&(this.warn(`Playback: ${d.toFixed(3)} is located too far from the end of live sliding playlist: ${v}, reset currentTime to : ${o.toFixed(3)}`),i.currentTime=o))}alignPlaylists(n,e){const{levels:i,levelLastLoaded:o,fragPrevious:d}=this,m=null!==o?i[o]:null,v=n.fragments.length;if(!v)return this.warn("No fragments in live playlist"),0;const I=n.fragments[0].start,j=!e,te=n.alignedSliding&&Ni(I);if(j||!te&&!I){!function uD(r,n,e){n&&(function fD(r,n,e){if(function pb(r,n,e){return!(!n.details||!(e.endCC>e.startCC||r&&r.cc<e.startCC))}(r,e,n)){const i=function $g(r,n,e=0){const i=r.fragments,o=n.fragments;if(!o.length||!i.length)return void Dn.log("No fragments to align");const d=ym(i,o[0].cc);if(d&&(!d||d.startPTS))return d;Dn.log("No frag in previous level to align on")}(e.details,n);i&&Ni(i.start)&&(Dn.log(`Adjusting PTS using last level due to CC increase within current level ${n.url}`),qg(i.start,n))}}(r,e,n),!e.alignedSliding&&n.details&&function hD(r,n){if(!n.fragments.length||!r.hasProgramDateTime||!n.hasProgramDateTime)return;const e=n.fragments[0].programDateTime,i=r.fragments[0].programDateTime,o=(i-e)/1e3+n.fragments[0].start;o&&Ni(o)&&(Dn.log(`Adjusting PTS using programDateTime delta ${i-e}ms, sliding:${o.toFixed(3)} ${r.url} `),qg(o,r))}(e,n.details),!e.alignedSliding&&n.details&&!e.skippedSegments&&jg(n.details,e))}(d,m,n);const me=n.fragments[0].start;return this.log(`Live playlist sliding: ${me.toFixed(2)} start-sn: ${e?e.startSN:"na"}->${n.startSN} prev-sn: ${d?d.sn:"na"} fragments: ${v}`),me}return I}waitForCdnTuneIn(n){return n.live&&n.canBlockReload&&n.partTarget&&n.tuneInGoal>Math.max(n.partHoldBack,3*n.partTarget)}setStartPosition(n,e){let i=this.startPosition;if(i<e&&(i=-1),-1===i||-1===this.lastCurrentTime){const o=null!==this.startTimeOffset,d=o?this.startTimeOffset:n.startTimeOffset;null!==d&&Ni(d)?(i=e+d,d<0&&(i+=n.totalduration),i=Math.min(Math.max(e,i),e+n.totalduration),this.log(`Start time offset ${d} found in ${o?"multivariant":"media"} playlist, adjust startPosition to ${i}`),this.startPosition=i):n.live?i=this.hls.liveSyncPosition||e:this.startPosition=i=0,this.lastCurrentTime=i}this.nextLoadPosition=i}getLoadPosition(){const{media:n}=this;let e=0;return this.loadedmetadata&&n?e=n.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e}handleFragLoadAborted(n,e){this.transmuxer&&"initSegment"!==n.sn&&n.stats.aborted&&(this.warn(`Fragment ${n.sn}${e?" part "+e.index:""} of level ${n.level} was aborted`),this.resetFragmentLoading(n))}resetFragmentLoading(n){(!this.fragCurrent||!this.fragContextChanged(n)&&"FRAG_LOADING_WAITING_RETRY"!==this.state)&&(this.state="IDLE")}onFragmentOrKeyLoadError(n,e){if(e.chunkMeta&&!e.frag){const me=this.getCurrentContext(e.chunkMeta);me&&(e.frag=me.frag)}const i=e.frag;if(!i||i.type!==n||!this.levels)return;var o;if(this.fragContextChanged(i))return void this.warn(`Frag load error must match current frag to retry ${i.url} > ${null==(o=this.fragCurrent)?void 0:o.url}`);const d=e.details===Vn.FRAG_GAP;d&&this.fragmentTracker.fragBuffered(i,!0);const m=e.errorAction,{action:v,retryCount:I=0,retryConfig:j}=m||{};if(m&&5===v&&j){var te;this.resetStartWhenNotLoaded(null!=(te=this.levelLastLoaded)?te:i.level);const me=Kg(j,I);this.warn(`Fragment ${i.sn} of ${n} ${i.level} errored with ${e.details}, retrying loading ${I+1}/${j.maxNumRetry} in ${me}ms`),m.resolved=!0,this.retryDate=self.performance.now()+me,this.state="FRAG_LOADING_WAITING_RETRY"}else j&&m?(this.resetFragmentErrors(n),I<j.maxNumRetry?d||(m.resolved=!0):Dn.warn(`${e.details} reached or exceeded max retry (${I})`)):this.state=2===m?.action?"WAITING_LEVEL":"ERROR";this.tickImmediate()}reduceLengthAndFlushBuffer(n){if("PARSING"===this.state||"PARSED"===this.state){const e=n.parent,i=this.getFwdBufferInfo(this.mediaBuffer,e),o=i&&i.len>.5;o&&this.reduceMaxBufferLength(i.len);const d=!o;return d&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${e} buffer`),n.frag&&(this.fragmentTracker.removeFragment(n.frag),this.nextLoadPosition=n.frag.start),this.resetLoadingState(),d}return!1}resetFragmentErrors(n){"audio"===n&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),"STOPPED"!==this.state&&(this.state="IDLE")}afterBufferFlushed(n,e,i){if(!n)return;const o=co.getBuffered(n);this.fragmentTracker.detectEvictedFragments(e,o,i),"ENDED"===this.state&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state="IDLE"}resetStartWhenNotLoaded(n){if(!this.loadedmetadata){this.startFragRequested=!1;const e=this.levels?this.levels[n].details:null;null!=e&&e.live?(this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(n){var e;this.warn(`The loading context changed while buffering fragment ${n.sn} of level ${n.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(null!=(e=this.levelLastLoaded)?e:n.level),this.resetLoadingState()}removeUnbufferedFrags(n=0){this.fragmentTracker.removeFragmentsInRange(n,1/0,this.playlistType,!1,!0)}updateLevelTiming(n,e,i,o){var d;const m=i.details;if(m){if(Object.keys(n.elementaryStreams).reduce((I,j)=>{const te=n.elementaryStreams[j];if(te){const me=te.endPTS-te.startPTS;if(me<=0)return this.warn(`Could not parse fragment ${n.sn} ${j} duration reliably (${me})`),I||!1;const We=o?0:Ug(m,n,te.startPTS,te.endPTS,te.startDTS,te.endDTS);return this.hls.trigger(Rt.LEVEL_PTS_UPDATED,{details:m,level:i,drift:We,type:j,frag:n,start:te.startPTS,end:te.endPTS}),!0}return I},!1))i.fragmentError=0;else if(null===(null==(d=this.transmuxer)?void 0:d.error)){const I=new Error(`Found no media in fragment ${n.sn} of level ${n.level} resetting transmuxer to fallback to playlist timing`);if(0===i.fragmentError&&(i.fragmentError++,n.gap=!0,this.fragmentTracker.removeFragment(n),this.fragmentTracker.fragBuffered(n,!0)),this.warn(I.message),this.hls.trigger(Rt.ERROR,{type:Fi.MEDIA_ERROR,details:Vn.FRAG_PARSING_ERROR,fatal:!1,error:I,frag:n,reason:`Found no media in msn ${n.sn} of level "${i.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state="PARSED",this.hls.trigger(Rt.FRAG_PARSED,{frag:n,part:e})}else this.warn("level.details undefined")}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(n){var e,i,o;"demuxerWorker"===n.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(null!=(e=null!=(i=this.levelLastLoaded)?i:null==(o=this.fragCurrent)?void 0:o.level)?e:0),this.resetLoadingState())}set state(n){const e=this._state;e!==n&&(this._state=n,this.log(`${e}->${n}`))}get state(){return this._state}}function t_(){return self.SourceBuffer||self.WebKitSourceBuffer}function Lc(r="",n=9e4){return{type:r,id:-1,pid:-1,inputTimeScale:n,sequenceNumber:-1,samples:[],dropped:0}}class gD{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(n,e,i,o){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(n){this.initPTS=n,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(n,e){return!1}appendFrame(n,e,i){}demux(n,e){this.cachedData&&(n=Jd(this.cachedData,n),this.cachedData=null);let d,i=Nf(n,0),o=i?i.length:0;const m=this._audioTrack,v=this._id3Track,I=i?(r=>{const n=R0(r);for(let e=0;e<n.length;e++){const i=n[e];if(Cg(i))return FC(i)}})(i):void 0,j=n.length;for((null===this.basePTS||0===this.frameIndex&&Ni(I))&&(this.basePTS=Tb(I,e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),i&&i.length>0&&v.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:"org.id3",duration:Number.POSITIVE_INFINITY});o<j;){if(this.canParse(n,o)){const te=this.appendFrame(m,n,o);te?(this.frameIndex++,this.lastPTS=te.sample.pts,o+=te.length,d=o):o=j}else OC(n,o)?(i=Nf(n,o),v.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:"org.id3",duration:Number.POSITIVE_INFINITY}),o+=i.length,d=o):o++;if(o===j&&d!==j){const te=Hu(n,d);this.cachedData=this.cachedData?Jd(this.cachedData,te):te}}return{audioTrack:m,videoTrack:Lc(),id3Track:v,textTrack:Lc()}}demuxSampleAes(n,e,i){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(n){const e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:Lc(),id3Track:this._id3Track,textTrack:Lc()}}destroy(){}}const Tb=(r,n,e)=>Ni(r)?90*r:9e4*n+(e?9e4*e.baseTime/e.timescale:0);function $u(r,n){return 255===r[n]&&240==(246&r[n+1])}function Sb(r,n){return 1&r[n+1]?7:9}function Kf(r,n){return(3&r[n+3])<<11|r[n+4]<<3|(224&r[n+5])>>>5}function Yf(r,n){return n+1<r.length&&$u(r,n)}function yD(r,n){if(Yf(r,n)){const e=Sb(r,n);if(n+e>=r.length)return!1;const i=Kf(r,n);if(i<=e)return!1;const o=n+i;return o===r.length||Yf(r,o)}return!1}function Cb(r,n,e,i,o){if(!r.samplerate){const d=function n_(r,n,e,i){let o,d,m,v;const I=navigator.userAgent.toLowerCase(),j=i,te=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];o=1+((192&n[e+2])>>>6);const me=(60&n[e+2])>>>2;if(!(me>te.length-1))return m=(1&n[e+2])<<2,m|=(192&n[e+3])>>>6,Dn.log(`manifest codec:${i}, ADTS type:${o}, samplingIndex:${me}`),/firefox/i.test(I)?me>=6?(o=5,v=new Array(4),d=me-3):(o=2,v=new Array(2),d=me):-1!==I.indexOf("android")?(o=2,v=new Array(2),d=me):(o=5,v=new Array(4),i&&(-1!==i.indexOf("mp4a.40.29")||-1!==i.indexOf("mp4a.40.5"))||!i&&me>=6?d=me-3:((i&&-1!==i.indexOf("mp4a.40.2")&&(me>=6&&1===m||/vivaldi/i.test(I))||!i&&1===m)&&(o=2,v=new Array(2)),d=me)),v[0]=o<<3,v[0]|=(14&me)>>1,v[1]|=(1&me)<<7,v[1]|=m<<3,5===o&&(v[1]|=(14&d)>>1,v[2]=(1&d)<<7,v[2]|=8,v[3]=0),{config:v,samplerate:te[me],channelCount:m,codec:"mp4a.40."+o,manifestCodec:j};r.trigger(Rt.ERROR,{type:Fi.MEDIA_ERROR,details:Vn.FRAG_PARSING_ERROR,fatal:!0,reason:`invalid ADTS sampling index:${me}`})}(n,e,i,o);if(!d)return;r.config=d.config,r.samplerate=d.samplerate,r.channelCount=d.channelCount,r.codec=d.codec,r.manifestCodec=d.manifestCodec,Dn.log(`parsed codec:${r.codec}, rate:${d.samplerate}, channels:${d.channelCount}`)}}function Em(r){return 9216e4/r}function xb(r,n,e,i,o){const m=i+o*Em(r.samplerate),v=function Db(r,n){const e=Sb(r,n);if(n+e<=r.length){const i=Kf(r,n)-e;if(i>0)return{headerLength:e,frameLength:i}}}(n,e);let I;if(v){const{frameLength:me,headerLength:We}=v,et=We+me,pt=Math.max(0,e+et-n.length);pt?(I=new Uint8Array(et-We),I.set(n.subarray(e+We,n.length),0)):I=n.subarray(e+We,e+et);const Ct={unit:I,pts:m};return pt||r.samples.push(Ct),{sample:Ct,length:et,missing:pt}}const j=n.length-e;return I=new Uint8Array(j),I.set(n.subarray(e,n.length),0),{sample:{unit:I,pts:m},length:j,missing:-1}}const i_=/\/emsg[-/]ID3/i;let Wf=null;const bD=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Mb=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],qu=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],ED=[0,1,1,4];function r_(r,n,e,i,o){if(e+24>n.length)return;const d=Sm(n,e);if(d&&e+d.frameLength<=n.length){const v=i+o*(9e4*d.samplesPerFrame/d.sampleRate),I={unit:n.subarray(e,e+d.frameLength),pts:v,dts:v};return r.config=[],r.channelCount=d.channelCount,r.samplerate=d.sampleRate,r.samples.push(I),{sample:I,length:d.frameLength,missing:0}}}function Sm(r,n){const e=r[n+1]>>3&3,i=r[n+1]>>1&3,o=r[n+2]>>4&15,d=r[n+2]>>2&3;if(1!==e&&0!==o&&15!==o&&3!==d){const v=r[n+3]>>6,j=1e3*bD[14*(3===e?3-i:3===i?3:4)+o-1],me=Mb[3*(3===e?0:2===e?1:2)+d],We=3===v?1:2,et=qu[e][i],pt=ED[i],Ct=8*et*pt,Ot=Math.floor(et*j/me+(r[n+2]>>1&1))*pt;if(null===Wf){const sn=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Wf=sn?parseInt(sn[1]):0}return!!Wf&&Wf<=87&&2===i&&j>=224e3&&0===v&&(r[n+3]=128|r[n+3]),{sampleRate:me,channelCount:We,frameLength:Ot,samplesPerFrame:Ct}}}function Ab(r,n){return 255===r[n]&&224==(224&r[n+1])&&0!=(6&r[n+1])}function Ib(r,n){return n+1<r.length&&Ab(r,n)}function TD(r,n){if(n+1<r.length&&Ab(r,n)){const i=Sm(r,n);let o=4;null!=i&&i.frameLength&&(o=i.frameLength);const d=n+o;return d===r.length||Ib(r,d)}return!1}class wb{constructor(n){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=n,this.bytesAvailable=n.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const n=this.data,e=this.bytesAvailable,i=n.byteLength-e,o=new Uint8Array(4),d=Math.min(4,e);if(0===d)throw new Error("no bytes available");o.set(n.subarray(i,i+d)),this.word=new DataView(o.buffer).getUint32(0),this.bitsAvailable=8*d,this.bytesAvailable-=d}skipBits(n){let e;n=Math.min(n,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>n?(this.word<<=n,this.bitsAvailable-=n):(e=(n-=this.bitsAvailable)>>3,n-=e<<3,this.bytesAvailable-=e,this.loadWord(),this.word<<=n,this.bitsAvailable-=n)}readBits(n){let e=Math.min(this.bitsAvailable,n);const i=this.word>>>32-e;if(n>32&&Dn.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0)this.word<<=e;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return e=n-e,e>0&&this.bitsAvailable?i<<e|this.readBits(e):i}skipLZ(){let n;for(n=0;n<this.bitsAvailable;++n)if(this.word&2147483648>>>n)return this.word<<=n,this.bitsAvailable-=n,n;return this.loadWord(),n+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const n=this.skipLZ();return this.readBits(n+1)-1}readEG(){const n=this.readUEG();return 1&n?1+n>>>1:-1*(n>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(n){let o,e=8,i=8;for(let d=0;d<n;d++)0!==i&&(o=this.readEG(),i=(e+o+256)%256),e=0===i?e:i}readSPS(){let d,m,v,n=0,e=0,i=0,o=0;const I=this.readUByte.bind(this),j=this.readBits.bind(this),te=this.readUEG.bind(this),me=this.readBoolean.bind(this),We=this.skipBits.bind(this),et=this.skipEG.bind(this),pt=this.skipUEG.bind(this),Ct=this.skipScalingList.bind(this);I();const Ot=I();if(j(5),We(3),I(),pt(),100===Ot||110===Ot||122===Ot||244===Ot||44===Ot||83===Ot||86===Ot||118===Ot||128===Ot){const Un=te();if(3===Un&&We(1),pt(),pt(),We(1),me())for(m=3!==Un?8:12,v=0;v<m;v++)me()&&Ct(v<6?16:64)}pt();const Zt=te();if(0===Zt)te();else if(1===Zt)for(We(1),et(),et(),d=te(),v=0;v<d;v++)et();pt(),We(1);const dn=te(),sn=te(),yn=j(1);0===yn&&We(1),We(1),me()&&(n=te(),e=te(),i=te(),o=te());let Cn=[1,1];if(me()&&me())switch(I()){case 1:Cn=[1,1];break;case 2:Cn=[12,11];break;case 3:Cn=[10,11];break;case 4:Cn=[16,11];break;case 5:Cn=[40,33];break;case 6:Cn=[24,11];break;case 7:Cn=[20,11];break;case 8:Cn=[32,11];break;case 9:Cn=[80,33];break;case 10:Cn=[18,11];break;case 11:Cn=[15,11];break;case 12:Cn=[64,33];break;case 13:Cn=[160,99];break;case 14:Cn=[4,3];break;case 15:Cn=[3,2];break;case 16:Cn=[2,1];break;case 255:Cn=[I()<<8|I(),I()<<8|I()]}return{width:Math.ceil(16*(dn+1)-2*n-2*e),height:(2-yn)*(sn+1)*16-(yn?2:4)*(i+o),pixelRatio:Cn}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class SD{constructor(n,e,i){this.keyData=void 0,this.decrypter=void 0,this.keyData=i,this.decrypter=new Xg(e,{removePKCS7Padding:!1})}decryptBuffer(n){return this.decrypter.decrypt(n,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(n,e,i){const o=n[e].unit;if(o.length<=16)return;const d=o.subarray(16,o.length-o.length%16),m=d.buffer.slice(d.byteOffset,d.byteOffset+d.length);this.decryptBuffer(m).then(v=>{const I=new Uint8Array(v);o.set(I,16),this.decrypter.isSync()||this.decryptAacSamples(n,e+1,i)})}decryptAacSamples(n,e,i){for(;;e++){if(e>=n.length)return void i();if(!(n[e].unit.length<32||(this.decryptAacSample(n,e,i),this.decrypter.isSync())))return}}getAvcEncryptedData(n){const e=16*Math.floor((n.length-48)/160)+16,i=new Int8Array(e);let o=0;for(let d=32;d<n.length-16;d+=160,o+=16)i.set(n.subarray(d,d+16),o);return i}getAvcDecryptedUnit(n,e){const i=new Uint8Array(e);let o=0;for(let d=32;d<n.length-16;d+=160,o+=16)n.set(i.subarray(o,o+16),d);return n}decryptAvcSample(n,e,i,o,d){const m=H0(d.data),v=this.getAvcEncryptedData(m);this.decryptBuffer(v.buffer).then(I=>{d.data=this.getAvcDecryptedUnit(m,I),this.decrypter.isSync()||this.decryptAvcSamples(n,e,i+1,o)})}decryptAvcSamples(n,e,i,o){if(n instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,i=0){if(e>=n.length)return void o();const d=n[e].units;for(;!(i>=d.length);i++){const m=d[i];if(!(m.data.length<=48||1!==m.type&&5!==m.type||(this.decryptAvcSample(n,e,i,o,m),this.decrypter.isSync())))return}}}}const As=188;class kc{constructor(n,e,i){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=n,this.config=e,this.typeSupported=i}static probe(n){const e=kc.syncOffset(n);return e>0&&Dn.warn(`MPEG2-TS detected but first sync word found @ offset ${e}`),-1!==e}static syncOffset(n){const e=n.length;let i=Math.min(940,n.length-As)+1,o=0;for(;o<i;){let d=!1,m=-1,v=0;for(let I=o;I<e;I+=As){if(71!==n[I]){if(v)return-1;break}if(v++,-1===m&&(m=I,0!==m&&(i=Math.min(m+18612,n.length-As)+1)),d||(d=0===Dm(n,I)),d&&v>1&&(0===m&&v>2||I+As>i))return m}o++}return-1}static createTrack(n,e){return{container:"video"===n||"audio"===n?"video/mp2t":void 0,type:n,id:L0[n],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===n?e:void 0}}resetInitSegment(n,e,i,o){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=kc.createTrack("video"),this._audioTrack=kc.createTrack("audio",o),this._id3Track=kc.createTrack("id3"),this._txtTrack=kc.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=e,this.videoCodec=i,this._duration=o}resetTimeStamp(){}resetContiguity(){const{_audioTrack:n,_avcTrack:e,_id3Track:i}=this;n&&(n.pesData=null),e&&(e.pesData=null),i&&(i.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}demux(n,e,i=!1,o=!1){let d;i||(this.sampleAes=null);const m=this._avcTrack,v=this._audioTrack,I=this._id3Track,j=this._txtTrack;let te=m.pid,me=m.pesData,We=v.pid,et=I.pid,pt=v.pesData,Ct=I.pesData,Ot=null,Zt=this.pmtParsed,dn=this._pmtId,sn=n.length;if(this.remainderData&&(sn=(n=Jd(this.remainderData,n)).length,this.remainderData=null),sn<As&&!o)return this.remainderData=n,{audioTrack:v,videoTrack:m,id3Track:I,textTrack:j};const yn=Math.max(0,kc.syncOffset(n));sn-=(sn-yn)%As,sn<n.byteLength&&!o&&(this.remainderData=new Uint8Array(n.buffer,sn,n.buffer.byteLength-sn));let Cn=0;for(let On=yn;On<sn;On+=As)if(71===n[On]){const Zn=!!(64&n[On+1]),ni=Dm(n,On);let Ei;if((48&n[On+3])>>4>1){if(Ei=On+5+n[On+4],Ei===On+As)continue}else Ei=On+4;switch(ni){case te:Zn&&(me&&(d=Ju(me))&&this.parseAVCPES(m,j,d,!1),me={data:[],size:0}),me&&(me.data.push(n.subarray(Ei,On+As)),me.size+=On+As-Ei);break;case We:if(Zn){if(pt&&(d=Ju(pt)))switch(v.segmentCodec){case"aac":this.parseAACPES(v,d);break;case"mp3":this.parseMPEGPES(v,d)}pt={data:[],size:0}}pt&&(pt.data.push(n.subarray(Ei,On+As)),pt.size+=On+As-Ei);break;case et:Zn&&(Ct&&(d=Ju(Ct))&&this.parseID3PES(I,d),Ct={data:[],size:0}),Ct&&(Ct.data.push(n.subarray(Ei,On+As)),Ct.size+=On+As-Ei);break;case 0:Zn&&(Ei+=n[Ei]+1),dn=this._pmtId=Pb(n,Ei);break;case dn:{Zn&&(Ei+=n[Ei]+1);const pi=CD(n,Ei,this.typeSupported,i);te=pi.avc,te>0&&(m.pid=te),We=pi.audio,We>0&&(v.pid=We,v.segmentCodec=pi.segmentCodec),et=pi.id3,et>0&&(I.pid=et),null!==Ot&&!Zt&&(Dn.warn(`MPEG-TS PMT found at ${On} after unknown PID '${Ot}'. Backtracking to sync byte @${yn} to parse all TS packets.`),Ot=null,On=yn-188),Zt=this.pmtParsed=!0;break}case 17:case 8191:break;default:Ot=ni}}else Cn++;if(Cn>0){const On=new Error(`Found ${Cn} TS packet/s that do not start with 0x47`);this.observer.emit(Rt.ERROR,Rt.ERROR,{type:Fi.MEDIA_ERROR,details:Vn.FRAG_PARSING_ERROR,fatal:!1,error:On,reason:On.message})}m.pesData=me,v.pesData=pt,I.pesData=Ct;const Un={audioTrack:v,videoTrack:m,id3Track:I,textTrack:j};return o&&this.extractRemainingSamples(Un),Un}flush(){const{remainderData:n}=this;let e;return this.remainderData=null,e=n?this.demux(n,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e}extractRemainingSamples(n){const{audioTrack:e,videoTrack:i,id3Track:o,textTrack:d}=n,m=i.pesData,v=e.pesData,I=o.pesData;let j;if(m&&(j=Ju(m))?(this.parseAVCPES(i,d,j,!0),i.pesData=null):i.pesData=m,v&&(j=Ju(v))){switch(e.segmentCodec){case"aac":this.parseAACPES(e,j);break;case"mp3":this.parseMPEGPES(e,j)}e.pesData=null}else null!=v&&v.size&&Dn.log("last AAC PES packet truncated,might overlap between fragments"),e.pesData=v;I&&(j=Ju(I))?(this.parseID3PES(o,j),o.pesData=null):o.pesData=I}demuxSampleAes(n,e,i){const o=this.demux(n,i,!0,!this.config.progressive),d=this.sampleAes=new SD(this.observer,this.config,e);return this.decrypt(o,d)}decrypt(n,e){return new Promise(i=>{const{audioTrack:o,videoTrack:d}=n;o.samples&&"aac"===o.segmentCodec?e.decryptAacSamples(o.samples,0,()=>{d.samples?e.decryptAvcSamples(d.samples,0,0,()=>{i(n)}):i(n)}):d.samples&&e.decryptAvcSamples(d.samples,0,0,()=>{i(n)})})}destroy(){this._duration=0}parseAVCPES(n,e,i,o){const d=this.parseAVCNALu(n,i.data);let v,m=this.avcSample,I=!1;i.data=null,m&&d.length&&!n.audFound&&(Qu(m,n),m=this.avcSample=Cm(!1,i.pts,i.dts,"")),d.forEach(j=>{var te;switch(j.type){case 1:{let We=!1;v=!0;const et=j.data;if(I&&et.length>4){const pt=new wb(et).readSliceType();(2===pt||4===pt||7===pt||9===pt)&&(We=!0)}var me;We&&null!=(me=m)&&me.frame&&!m.key&&(Qu(m,n),m=this.avcSample=null),m||(m=this.avcSample=Cm(!0,i.pts,i.dts,"")),m.frame=!0,m.key=We;break}case 5:v=!0,null!=(te=m)&&te.frame&&!m.key&&(Qu(m,n),m=this.avcSample=null),m||(m=this.avcSample=Cm(!0,i.pts,i.dts,"")),m.key=!0,m.frame=!0;break;case 6:v=!0,G0(j.data,1,i.pts,e.samples);break;case 7:if(v=!0,I=!0,!n.sps){const We=j.data,pt=new wb(We).readSPS();n.width=pt.width,n.height=pt.height,n.pixelRatio=pt.pixelRatio,n.sps=[We],n.duration=this._duration;const Ct=We.subarray(1,4);let Ot="avc1.";for(let Zt=0;Zt<3;Zt++){let dn=Ct[Zt].toString(16);dn.length<2&&(dn="0"+dn),Ot+=dn}n.codec=Ot}break;case 8:v=!0,n.pps||(n.pps=[j.data]);break;case 9:v=!1,n.audFound=!0,m&&Qu(m,n),m=this.avcSample=Cm(!1,i.pts,i.dts,"");break;case 12:v=!0;break;default:v=!1,m&&(m.debug+="unknown NAL "+j.type+" ")}m&&v&&m.units.push(j)}),o&&m&&(Qu(m,n),this.avcSample=null)}getLastNalUnit(n){var e;let o,i=this.avcSample;if((!i||0===i.units.length)&&(i=n[n.length-1]),null!=(e=i)&&e.units){const d=i.units;o=d[d.length-1]}return o}parseAVCNALu(n,e){const i=e.byteLength;let o=n.naluState||0;const d=o,m=[];let I,j,te,v=0,me=-1,We=0;for(-1===o&&(me=0,We=31&e[0],o=0,v=1);v<i;)if(I=e[v++],o)if(1!==o)if(I)if(1===I){if(me>=0){const et={data:e.subarray(me,v-o-1),type:We};m.push(et)}else{const et=this.getLastNalUnit(n.samples);if(et&&(d&&v<=4-d&&et.state&&(et.data=et.data.subarray(0,et.data.byteLength-d)),j=v-o-1,j>0)){const pt=new Uint8Array(et.data.byteLength+j);pt.set(et.data,0),pt.set(e.subarray(0,j),et.data.byteLength),et.data=pt,et.state=0}}v<i?(te=31&e[v],me=v,We=te,o=0):o=-1}else o=0;else o=3;else o=I?0:2;else o=I?0:1;if(me>=0&&o>=0){const et={data:e.subarray(me,i),type:We,state:o};m.push(et)}if(0===m.length){const et=this.getLastNalUnit(n.samples);if(et){const pt=new Uint8Array(et.data.byteLength+e.byteLength);pt.set(et.data,0),pt.set(e,et.data.byteLength),et.data=pt}}return n.naluState=o,m}parseAACPES(n,e){let i=0;const o=this.aacOverFlow;let m,v,I,d=e.data;if(o){this.aacOverFlow=null;const me=o.missing,We=o.sample.unit.byteLength;if(-1===me){const et=new Uint8Array(We+d.byteLength);et.set(o.sample.unit,0),et.set(d,We),d=et}else{const et=We-me;o.sample.unit.set(d.subarray(0,me),et),n.samples.push(o.sample),i=o.missing}}for(m=i,v=d.length;m<v-1&&!Yf(d,m);m++);if(m!==i){let me;const We=m<v-1;me=We?`AAC PES did not start with ADTS header,offset:${m}`:"No ADTS header found in AAC PES";const et=new Error(me);if(Dn.warn(`parsing error: ${me}`),this.observer.emit(Rt.ERROR,Rt.ERROR,{type:Fi.MEDIA_ERROR,details:Vn.FRAG_PARSING_ERROR,fatal:!1,levelRetry:We,error:et,reason:me}),!We)return}if(Cb(n,this.observer,d,m,this.audioCodec),void 0!==e.pts)I=e.pts;else{if(!o)return void Dn.warn("[tsdemuxer]: AAC PES unknown PTS");{const me=Em(n.samplerate);I=o.sample.pts+me}}let te,j=0;for(;m<v;){if(te=xb(n,d,m,I,j),m+=te.length,te.missing){this.aacOverFlow=te;break}for(j++;m<v-1&&!Yf(d,m);m++);}}parseMPEGPES(n,e){const i=e.data,o=i.length;let d=0,m=0;const v=e.pts;if(void 0!==v)for(;m<o;)if(Ib(i,m)){const I=r_(n,i,m,v,d);if(!I)break;m+=I.length,d++}else m++;else Dn.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseID3PES(n,e){if(void 0===e.pts)return void Dn.warn("[tsdemuxer]: ID3 PES unknown PTS");const i=po({},e,{type:this._avcTrack?rc_emsg:"org.id3",duration:Number.POSITIVE_INFINITY});n.samples.push(i)}}function Cm(r,n,e,i){return{key:r,frame:!1,pts:n,dts:e,units:[],debug:i,length:0}}function Dm(r,n){return((31&r[n+1])<<8)+r[n+2]}function Pb(r,n){return(31&r[n+10])<<8|r[n+11]}function CD(r,n,e,i){const o={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},m=n+3+((15&r[n+1])<<8|r[n+2])-4;for(n+=12+((15&r[n+10])<<8|r[n+11]);n<m;){const I=Dm(r,n);switch(r[n]){case 207:if(!i){Dn.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===o.audio&&(o.audio=I);break;case 21:-1===o.id3&&(o.id3=I);break;case 219:if(!i){Dn.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===o.avc&&(o.avc=I);break;case 3:case 4:!0!==e.mpeg&&!0!==e.mp3?Dn.log("MPEG audio found, not supported in this browser"):-1===o.audio&&(o.audio=I,o.segmentCodec="mp3");break;case 36:Dn.warn("Unsupported HEVC stream type found")}n+=5+((15&r[n+3])<<8|r[n+4])}return o}function Ju(r){let e,i,o,d,m,n=0;const v=r.data;if(!r||0===r.size)return null;for(;v[0].length<19&&v.length>1;){const j=new Uint8Array(v[0].length+v[1].length);j.set(v[0]),j.set(v[1],v[0].length),v[0]=j,v.splice(1,1)}if(e=v[0],(e[0]<<16)+(e[1]<<8)+e[2]===1){if(i=(e[4]<<8)+e[5],i&&i>r.size-6)return null;const j=e[7];192&j&&(d=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&j?(m=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,d-m>54e5&&(Dn.warn(`${Math.round((d-m)/9e4)}s delta between PTS and DTS, align them`),d=m)):m=d),o=e[8];let te=o+9;if(r.size<=te)return null;r.size-=te;const me=new Uint8Array(r.size);for(let We=0,et=v.length;We<et;We++){e=v[We];let pt=e.byteLength;if(te){if(te>pt){te-=pt;continue}e=e.subarray(te),pt-=te,te=0}me.set(e,n),n+=pt}return i&&(i-=o+3),{data:me,pts:d,dts:m,len:i}}return null}function Qu(r,n){if(r.units.length&&r.frame){if(void 0===r.pts){const e=n.samples,i=e.length;if(!i)return void n.dropped++;{const o=e[i-1];r.pts=o.pts,r.dts=o.dts}}n.samples.push(r)}r.debug.length&&Dn.log(r.pts+"/"+r.dts+":"+r.debug)}class o_{static getSilentFrame(n,e){if("mp4a.40.2"===n){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const Fc=Math.pow(2,32)-1;let nu=(()=>{class r{static init(){let e;for(e in r.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},r.types)r.types.hasOwnProperty(e)&&(r.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const i=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),o=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);r.HDLR_TYPES={video:i,audio:o};const d=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),m=new Uint8Array([0,0,0,0,0,0,0,0]);r.STTS=r.STSC=r.STCO=m,r.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),r.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),r.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),r.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const v=new Uint8Array([105,115,111,109]),I=new Uint8Array([97,118,99,49]),j=new Uint8Array([0,0,0,1]);r.FTYP=r.box(r.types.ftyp,v,j,v,I),r.DINF=r.box(r.types.dinf,r.box(r.types.dref,d))}static box(e,...i){let o=8,d=i.length;const m=d;for(;d--;)o+=i[d].byteLength;const v=new Uint8Array(o);for(v[0]=o>>24&255,v[1]=o>>16&255,v[2]=o>>8&255,v[3]=255&o,v.set(e,4),d=0,o=8;d<m;d++)v.set(i[d],o),o+=i[d].byteLength;return v}static hdlr(e){return r.box(r.types.hdlr,r.HDLR_TYPES[e])}static mdat(e){return r.box(r.types.mdat,e)}static mdhd(e,i){i*=e;const o=Math.floor(i/(Fc+1)),d=Math.floor(i%(Fc+1));return r.box(r.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,o>>24,o>>16&255,o>>8&255,255&o,d>>24,d>>16&255,d>>8&255,255&d,85,196,0,0]))}static mdia(e){return r.box(r.types.mdia,r.mdhd(e.timescale,e.duration),r.hdlr(e.type),r.minf(e))}static mfhd(e){return r.box(r.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))}static minf(e){return r.box(r.types.minf,"audio"===e.type?r.box(r.types.smhd,r.SMHD):r.box(r.types.vmhd,r.VMHD),r.DINF,r.stbl(e))}static moof(e,i,o){return r.box(r.types.moof,r.mfhd(e),r.traf(o,i))}static moov(e){let i=e.length;const o=[];for(;i--;)o[i]=r.trak(e[i]);return r.box.apply(null,[r.types.moov,r.mvhd(e[0].timescale,e[0].duration)].concat(o).concat(r.mvex(e)))}static mvex(e){let i=e.length;const o=[];for(;i--;)o[i]=r.trex(e[i]);return r.box.apply(null,[r.types.mvex,...o])}static mvhd(e,i){i*=e;const o=Math.floor(i/(Fc+1)),d=Math.floor(i%(Fc+1)),m=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,o>>24,o>>16&255,o>>8&255,255&o,d>>24,d>>16&255,d>>8&255,255&d,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return r.box(r.types.mvhd,m)}static sdtp(e){const i=e.samples||[],o=new Uint8Array(4+i.length);let d,m;for(d=0;d<i.length;d++)m=i[d].flags,o[d+4]=m.dependsOn<<4|m.isDependedOn<<2|m.hasRedundancy;return r.box(r.types.sdtp,o)}static stbl(e){return r.box(r.types.stbl,r.stsd(e),r.box(r.types.stts,r.STTS),r.box(r.types.stsc,r.STSC),r.box(r.types.stsz,r.STSZ),r.box(r.types.stco,r.STCO))}static avc1(e){let d,m,v,i=[],o=[];for(d=0;d<e.sps.length;d++)m=e.sps[d],v=m.byteLength,i.push(v>>>8&255),i.push(255&v),i=i.concat(Array.prototype.slice.call(m));for(d=0;d<e.pps.length;d++)m=e.pps[d],v=m.byteLength,o.push(v>>>8&255),o.push(255&v),o=o.concat(Array.prototype.slice.call(m));const I=r.box(r.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|e.sps.length].concat(i).concat([e.pps.length]).concat(o))),j=e.width,te=e.height,me=e.pixelRatio[0],We=e.pixelRatio[1];return r.box(r.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,j>>8&255,255&j,te>>8&255,255&te,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),I,r.box(r.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),r.box(r.types.pasp,new Uint8Array([me>>24,me>>16&255,me>>8&255,255&me,We>>24,We>>16&255,We>>8&255,255&We])))}static esds(e){const i=e.config.length;return new Uint8Array([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([i]).concat(e.config).concat([6,1,2]))}static mp4a(e){const i=e.samplerate;return r.box(r.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]),r.box(r.types.esds,r.esds(e)))}static mp3(e){const i=e.samplerate;return r.box(r.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]))}static stsd(e){return r.box(r.types.stsd,r.STSD,"audio"===e.type?"mp3"===e.segmentCodec&&"mp3"===e.codec?r.mp3(e):r.mp4a(e):r.avc1(e))}static tkhd(e){const i=e.id,o=e.duration*e.timescale,d=e.width,m=e.height,v=Math.floor(o/(Fc+1)),I=Math.floor(o%(Fc+1));return r.box(r.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,v>>24,v>>16&255,v>>8&255,255&v,I>>24,I>>16&255,I>>8&255,255&I,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,d>>8&255,255&d,0,0,m>>8&255,255&m,0,0]))}static traf(e,i){const o=r.sdtp(e),d=e.id,m=Math.floor(i/(Fc+1)),v=Math.floor(i%(Fc+1));return r.box(r.types.traf,r.box(r.types.tfhd,new Uint8Array([0,0,0,0,d>>24,d>>16&255,d>>8&255,255&d])),r.box(r.types.tfdt,new Uint8Array([1,0,0,0,m>>24,m>>16&255,m>>8&255,255&m,v>>24,v>>16&255,v>>8&255,255&v])),r.trun(e,o.length+16+20+8+16+8+8),o)}static trak(e){return e.duration=e.duration||4294967295,r.box(r.types.trak,r.tkhd(e),r.mdia(e))}static trex(e){const i=e.id;return r.box(r.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,i){const o=e.samples||[],d=o.length,m=12+16*d,v=new Uint8Array(m);let I,j,te,me,We,et;for(v.set(["video"===e.type?1:0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,255&d,(i+=8+m)>>>24&255,i>>>16&255,i>>>8&255,255&i],0),I=0;I<d;I++)j=o[I],te=j.duration,me=j.size,We=j.flags,et=j.cts,v.set([te>>>24&255,te>>>16&255,te>>>8&255,255&te,me>>>24&255,me>>>16&255,me>>>8&255,255&me,We.isLeading<<2|We.dependsOn,We.isDependedOn<<6|We.hasRedundancy<<4|We.paddingValue<<1|We.isNonSync,61440&We.degradPrio,15&We.degradPrio,et>>>24&255,et>>>16&255,et>>>8&255,255&et],12+16*I);return r.box(r.types.trun,v)}static initSegment(e){r.types||r.init();const i=r.moov(e),o=new Uint8Array(r.FTYP.byteLength+i.byteLength);return o.set(r.FTYP),o.set(i,r.FTYP.byteLength),o}}return r.types=void 0,r.HDLR_TYPES=void 0,r.STTS=void 0,r.STSC=void 0,r.STCO=void 0,r.STSZ=void 0,r.VMHD=void 0,r.SMHD=void 0,r.STSD=void 0,r.FTYP=void 0,r.DINF=void 0,r})();function a_(r,n,e=1,i=!1){const o=r*n*e;return i?Math.round(o):o}function xm(r,n=!1){return a_(r,1e3,1/9e4,n)}let od,l_=null,Rb=null;class Nb{constructor(n,e,i,o=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=n,this.config=e,this.typeSupported=i,this.ISGenerated=!1,null===l_){const m=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);l_=m?parseInt(m[1]):0}if(null===Rb){const d=navigator.userAgent.match(/Safari\/(\d+)/i);Rb=d?parseInt(d[1]):0}}destroy(){}resetTimeStamp(n){Dn.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=n}resetNextTimestamp(){Dn.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){Dn.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}getVideoStartPts(n){let e=!1;const i=n.reduce((o,d)=>{const m=d.pts-o;return m<-4294967296?(e=!0,Pl(o,d.pts)):m>0?o:d.pts},n[0].pts);return e&&Dn.debug("PTS rollover detected"),i}remux(n,e,i,o,d,m,v,I){let j,te,me,We,et,pt,Ct=d,Ot=d;const dn=e.pid>-1,sn=e.samples.length,yn=n.samples.length>0,Cn=v&&sn>0||sn>1;if((!(n.pid>-1)||yn)&&(!dn||Cn)||this.ISGenerated||v){this.ISGenerated||(me=this.generateIS(n,e,d,m));const On=this.isVideoContiguous;let ni,Zn=-1;if(Cn&&(Zn=function EA(r){for(let n=0;n<r.length;n++)if(r[n].key)return n;return-1}(e.samples),!On&&this.config.forceKeyFrameOnDiscontinuity))if(pt=!0,Zn>0){Dn.warn(`[mp4-remuxer]: Dropped ${Zn} out of ${sn} video samples due to a missing keyframe`);const kn=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(Zn),e.dropped+=Zn,Ot+=(e.samples[0].pts-kn)/e.inputTimeScale,ni=Ot}else-1===Zn&&(Dn.warn(`[mp4-remuxer]: No keyframe found out of ${sn} video samples`),pt=!1);if(this.ISGenerated){if(yn&&Cn){const kn=this.getVideoStartPts(e.samples),pi=(Pl(n.samples[0].pts,kn)-kn)/e.inputTimeScale;Ct+=Math.max(0,pi),Ot+=Math.max(0,-pi)}if(yn){if(n.samplerate||(Dn.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),me=this.generateIS(n,e,d,m)),te=this.remuxAudio(n,Ct,this.isAudioContiguous,m,dn||Cn||"audio"===I?Ot:void 0),Cn){const kn=te?te.endPTS-te.startPTS:0;e.inputTimeScale||(Dn.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),me=this.generateIS(n,e,d,m)),j=this.remuxVideo(e,Ot,On,kn)}}else Cn&&(j=this.remuxVideo(e,Ot,On,0));j&&(j.firstKeyFrame=Zn,j.independent=-1!==Zn,j.firstKeyFramePTS=ni)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(i.samples.length&&(et=AD(i,d,this._initPTS,this._initDTS)),o.samples.length&&(We=c_(o,d,this._initPTS))),{audio:te,video:j,initSegment:me,independent:pt,text:We,id3:et}}generateIS(n,e,i,o){const d=n.samples,m=e.samples,v=this.typeSupported,I={},j=this._initPTS;let We,et,pt,te=!j||o,me="audio/mp4";if(te&&(We=et=1/0),n.config&&d.length&&("mp3"===(n.timescale=n.samplerate,n.segmentCodec)&&(v.mpeg?(me="audio/mpeg",n.codec=""):v.mp3&&(n.codec="mp3")),I.audio={id:"audio",container:me,codec:n.codec,initSegment:"mp3"===n.segmentCodec&&v.mpeg?new Uint8Array(0):nu.initSegment([n]),metadata:{channelCount:n.channelCount}},te&&(pt=n.inputTimeScale,j&&pt===j.timescale?te=!1:We=et=d[0].pts-Math.round(pt*i))),e.sps&&e.pps&&m.length&&(e.timescale=e.inputTimeScale,I.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:nu.initSegment([e]),metadata:{width:e.width,height:e.height}},te))if(pt=e.inputTimeScale,j&&pt===j.timescale)te=!1;else{const Ct=this.getVideoStartPts(m),Ot=Math.round(pt*i);et=Math.min(et,Pl(m[0].dts,Ct)-Ot),We=Math.min(We,Ct-Ot)}if(Object.keys(I).length)return this.ISGenerated=!0,te?(this._initPTS={baseTime:We,timescale:pt},this._initDTS={baseTime:et,timescale:pt}):We=pt=void 0,{tracks:I,initPTS:We,timescale:pt}}remuxVideo(n,e,i,o){const d=n.inputTimeScale,m=n.samples,v=[],I=m.length,j=this._initPTS;let et,pt,te=this.nextAvcDts,me=8,We=this.videoSampleDuration,Ct=Number.POSITIVE_INFINITY,Ot=Number.NEGATIVE_INFINITY,Zt=!1;i&&null!==te||(te=e*d-(m[0].pts-Pl(m[0].dts,m[0].pts)));const dn=j.baseTime*d/j.timescale;for(let Jn=0;Jn<I;Jn++){const li=m[Jn];li.pts=Pl(li.pts-dn,te),li.dts=Pl(li.dts-dn,te),li.dts<m[Jn>0?Jn-1:Jn].dts&&(Zt=!0)}Zt&&m.sort(function(Jn,li){return Jn.dts-li.dts||Jn.pts-li.pts}),et=m[0].dts,pt=m[m.length-1].dts;const sn=pt-et,yn=sn?Math.round(sn/(I-1)):We||n.inputTimeScale/30;if(i){const Jn=et-te,li=Jn>yn,Vi=Jn<-1;if((li||Vi)&&(Dn.warn(li?`AVC: ${xm(Jn,!0)} ms (${Jn}dts) hole between fragments detected, filling it`:`AVC: ${xm(-Jn,!0)} ms (${Jn}dts) overlapping between fragments detected`),!Vi||te>=m[0].pts)){et=te;const pr=m[0].pts-Jn;m[0].dts=et,m[0].pts=pr,Dn.log(`Video: First PTS/DTS adjusted: ${xm(pr,!0)}/${xm(et,!0)}, delta: ${xm(Jn,!0)} ms`)}}et=Math.max(0,et);let Cn=0,Un=0;for(let Jn=0;Jn<I;Jn++){const li=m[Jn],Vi=li.units,pr=Vi.length;let Yi=0;for(let Ur=0;Ur<pr;Ur++)Yi+=Vi[Ur].data.length;Un+=Yi,Cn+=pr,li.length=Yi,li.dts=Math.max(li.dts,et),Ct=Math.min(li.pts,Ct),Ot=Math.max(li.pts,Ot)}pt=m[I-1].dts;const On=Un+4*Cn+8;let Zn;try{Zn=new Uint8Array(On)}catch(Jn){return void this.observer.emit(Rt.ERROR,Rt.ERROR,{type:Fi.MUX_ERROR,details:Vn.REMUX_ALLOC_ERROR,fatal:!1,error:Jn,bytes:On,reason:`fail allocating video mdat ${On}`})}const ni=new DataView(Zn.buffer);ni.setUint32(0,On),Zn.set(nu.types.mdat,4);let kn=!1,Ei=Number.POSITIVE_INFINITY,pi=Number.POSITIVE_INFINITY,ji=Number.NEGATIVE_INFINITY,vo=Number.NEGATIVE_INFINITY;for(let Jn=0;Jn<I;Jn++){const li=m[Jn],Vi=li.units;let Yi,pr=0;for(let sr=0,Bo=Vi.length;sr<Bo;sr++){const _s=Vi[sr],eo=_s.data,Is=_s.data.byteLength;ni.setUint32(me,Is),me+=4,Zn.set(eo,me),me+=Is,pr+=4+Is}if(Jn<I-1)We=m[Jn+1].dts-li.dts,Yi=m[Jn+1].pts-li.pts;else{const sr=this.config,Bo=Jn>0?li.dts-m[Jn-1].dts:yn;if(Yi=Jn>0?li.pts-m[Jn-1].pts:yn,sr.stretchShortVideoTrack&&null!==this.nextAudioPts){const _s=Math.floor(sr.maxBufferHole*d),eo=(o?Ct+o*d:this.nextAudioPts)-li.pts;eo>_s?(We=eo-Bo,We<0?We=Bo:kn=!0,Dn.log(`[mp4-remuxer]: It is approximately ${eo/90} ms to the next segment; using duration ${We/90} ms for the last video frame.`)):We=Bo}else We=Bo}const Ur=Math.round(li.pts-li.dts);Ei=Math.min(Ei,We),ji=Math.max(ji,We),pi=Math.min(pi,Yi),vo=Math.max(vo,Yi),v.push(new Mm(li.key,We,pr,Ur))}if(v.length)if(l_){if(l_<70){const Jn=v[0].flags;Jn.dependsOn=2,Jn.isNonSync=0}}else if(Rb&&vo-pi<ji-Ei&&yn/ji<.025&&0===v[0].cts){Dn.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let Jn=et;for(let li=0,Vi=v.length;li<Vi;li++){const pr=Jn+v[li].duration;v[li].duration=li<Vi-1?pr+v[li+1].cts-(Jn+v[li].cts):li?v[li-1].duration:yn,v[li].cts=0,Jn=pr}}We=kn||!We?yn:We,this.nextAvcDts=te=pt+We,this.videoSampleDuration=We,this.isVideoContiguous=!0;const di={data1:nu.moof(n.sequenceNumber++,et,po({},n,{samples:v})),data2:Zn,startPTS:Ct/d,endPTS:(Ot+We)/d,startDTS:et/d,endDTS:te/d,type:"video",hasAudio:!1,hasVideo:!0,nb:v.length,dropped:n.dropped};return n.samples=[],n.dropped=0,di}remuxAudio(n,e,i,o,d){const m=n.inputTimeScale,I=m/(n.samplerate?n.samplerate:m),j="aac"===n.segmentCodec?1024:1152,te=j*I,me=this._initPTS,We="mp3"===n.segmentCodec&&this.typeSupported.mpeg,et=[],pt=void 0!==d;let Ct=n.samples,Ot=We?0:8,Zt=this.nextAudioPts||-1;const dn=e*m,sn=me.baseTime*m/me.timescale;if(this.isAudioContiguous=i=i||Ct.length&&Zt>0&&(o&&Math.abs(dn-Zt)<9e3||Math.abs(Pl(Ct[0].pts-sn,dn)-Zt)<20*te),Ct.forEach(function(ri){ri.pts=Pl(ri.pts-sn,dn)}),!i||Zt<0){if(Ct=Ct.filter(ri=>ri.pts>=0),!Ct.length)return;Zt=0===d?0:o&&!pt?Math.max(0,dn):Ct[0].pts}if("aac"===n.segmentCodec){const ri=this.config.maxAudioFramesDrift;for(let di=0,Jn=Zt;di<Ct.length;di++){const li=Ct[di],Vi=li.pts,pr=Vi-Jn,Yi=Math.abs(1e3*pr/m);if(pr<=-ri*te&&pt)0===di&&(Dn.warn(`Audio frame @ ${(Vi/m).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*pr/m)} ms.`),this.nextAudioPts=Zt=Jn=Vi);else if(pr>=ri*te&&Yi<1e4&&pt){let Ur=Math.round(pr/te);Jn=Vi-Ur*te,Jn<0&&(Ur--,Jn+=te),0===di&&(this.nextAudioPts=Zt=Jn),Dn.warn(`[mp4-remuxer]: Injecting ${Ur} audio frame @ ${(Jn/m).toFixed(3)}s due to ${Math.round(1e3*pr/m)} ms gap.`);for(let sr=0;sr<Ur;sr++){const Bo=Math.max(Jn,0);let _s=o_.getSilentFrame(n.manifestCodec||n.codec,n.channelCount);_s||(Dn.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),_s=li.unit.subarray()),Ct.splice(di,0,{unit:_s,pts:Bo}),Jn+=te,di++}}li.pts=Jn,Jn+=te}}let Un,yn=null,Cn=null,On=0,Zn=Ct.length;for(;Zn--;)On+=Ct[Zn].unit.byteLength;for(let ri=0,di=Ct.length;ri<di;ri++){const Jn=Ct[ri],li=Jn.unit;let Vi=Jn.pts;if(null!==Cn)et[ri-1].duration=Math.round((Vi-Cn)/I);else{if(i&&"aac"===n.segmentCodec&&(Vi=Zt),yn=Vi,!(On>0))return;On+=Ot;try{Un=new Uint8Array(On)}catch(Yi){return void this.observer.emit(Rt.ERROR,Rt.ERROR,{type:Fi.MUX_ERROR,details:Vn.REMUX_ALLOC_ERROR,fatal:!1,error:Yi,bytes:On,reason:`fail allocating audio mdat ${On}`})}We||(new DataView(Un.buffer).setUint32(0,On),Un.set(nu.types.mdat,4))}Un.set(li,Ot);const pr=li.byteLength;Ot+=pr,et.push(new Mm(!0,j,pr,0)),Cn=Vi}const ni=et.length;if(!ni)return;this.nextAudioPts=Zt=Cn+I*et[et.length-1].duration;const Ei=We?new Uint8Array(0):nu.moof(n.sequenceNumber++,yn/I,po({},n,{samples:et}));n.samples=[];const pi=yn/m,ji=Zt/m,Rr={data1:Ei,data2:Un,startPTS:pi,endPTS:ji,startDTS:pi,endDTS:ji,type:"audio",hasAudio:!0,hasVideo:!1,nb:ni};return this.isAudioContiguous=!0,Rr}remuxEmptyAudio(n,e,i,o){const d=n.inputTimeScale,I=this.nextAudioPts,j=this._initDTS,te=9e4*j.baseTime/j.timescale,me=(null!==I?I:o.startDTS*d)+te,et=d/(n.samplerate?n.samplerate:d)*1024,pt=Math.ceil((o.endDTS*d+te-me)/et),Ct=o_.getSilentFrame(n.manifestCodec||n.codec,n.channelCount);if(Dn.warn("[mp4-remuxer]: remux empty Audio"),!Ct)return void Dn.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const Ot=[];for(let Zt=0;Zt<pt;Zt++){const dn=me+Zt*et;Ot.push({unit:Ct,pts:dn,dts:dn})}return n.samples=Ot,this.remuxAudio(n,e,i,!1)}}function Pl(r,n){let e;if(null===n)return r;for(e=n<r?-8589934592:8589934592;Math.abs(r-n)>4294967296;)r+=e;return r}function AD(r,n,e,i){const o=r.samples.length;if(!o)return;const d=r.inputTimeScale;for(let v=0;v<o;v++){const I=r.samples[v];I.pts=Pl(I.pts-e.baseTime*d/e.timescale,n*d)/d,I.dts=Pl(I.dts-i.baseTime*d/i.timescale,n*d)/d}const m=r.samples;return r.samples=[],{samples:m}}function c_(r,n,e){const i=r.samples.length;if(!i)return;const o=r.inputTimeScale;for(let m=0;m<i;m++){const v=r.samples[m];v.pts=Pl(v.pts-e.baseTime*o/e.timescale,n*o)/o}r.samples.sort((m,v)=>m.pts-v.pts);const d=r.samples;return r.samples=[],{samples:d}}class Mm{constructor(n,e,i,o){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=e,this.size=i,this.cts=o,this.flags=new Lb(n)}}class Lb{constructor(n){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=n?2:1,this.isNonSync=n?0:1}}function kb(r,n){const e=r?.codec;return e&&e.length>4?e:"hvc1"===e||"hev1"===e?"hvc1.1.6.L120.90":"av01"===e?"av01.0.04M.08":"avc1"===e||"video"===n?"avc1.42e01e":"mp4a.40.5"}try{od=self.performance.now.bind(self.performance)}catch{Dn.debug("Unable to use Performance API on this environment"),od=typeof self<"u"&&self.Date.now}const Fb=[{demux:class _A{constructor(n,e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=e}resetTimeStamp(){}resetInitSegment(n,e,i,o){const d=this.videoTrack=Lc("video",1),m=this.audioTrack=Lc("audio",1),v=this.txtTrack=Lc("text",1);if(this.id3Track=Lc("id3",1),this.timeOffset=0,null==n||!n.byteLength)return;const I=xg(n);if(I.video){const{id:j,timescale:te,codec:me}=I.video;d.id=j,d.timescale=v.timescale=te,d.codec=me}if(I.audio){const{id:j,timescale:te,codec:me}=I.audio;m.id=j,m.timescale=te,m.codec=me}v.id=L0.text,d.sampleDuration=0,d.duration=m.duration=o}resetContiguity(){this.remainderData=null}static probe(n){return Pr(n=n.length>16384?n.subarray(0,16384):n,["moof"]).length>0}demux(n,e){this.timeOffset=e;let i=n;const o=this.videoTrack,d=this.txtTrack;if(this.config.progressive){this.remainderData&&(i=Jd(this.remainderData,n));const v=function GC(r){const n={valid:null,remainder:null},e=Pr(r,["moof"]);if(!e)return n;if(e.length<2)return n.remainder=r,n;const i=e[e.length-1];return n.valid=Hu(r,0,i.byteOffset-8),n.remainder=Hu(r,i.byteOffset-8),n}(i);this.remainderData=v.remainder,o.samples=v.valid||new Uint8Array}else o.samples=i;const m=this.extractID3Track(o,e);return d.samples=V0(e,o),{videoTrack:o,audioTrack:this.audioTrack,id3Track:m,textTrack:this.txtTrack}}flush(){const n=this.timeOffset,e=this.videoTrack,i=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;const o=this.extractID3Track(e,this.timeOffset);return i.samples=V0(n,e),{videoTrack:e,audioTrack:Lc(),id3Track:o,textTrack:Lc()}}extractID3Track(n,e){const i=this.id3Track;if(n.samples.length){const o=Pr(n.samples,["emsg"]);o&&o.forEach(d=>{const m=function YC(r){const n=r[0];let e="",i="",o=0,d=0,m=0,v=0,I=0,j=0;if(0===n){for(;"\0"!==ps(r.subarray(j,j+1));)e+=ps(r.subarray(j,j+1)),j+=1;for(e+=ps(r.subarray(j,j+1)),j+=1;"\0"!==ps(r.subarray(j,j+1));)i+=ps(r.subarray(j,j+1)),j+=1;i+=ps(r.subarray(j,j+1)),j+=1,o=Ki(r,12),d=Ki(r,16),v=Ki(r,20),I=Ki(r,24),j=28}else if(1===n){j+=4,o=Ki(r,j),j+=4;const me=Ki(r,j);j+=4;const We=Ki(r,j);for(j+=4,m=2**32*me+We,Number.isSafeInteger(m)||(m=Number.MAX_SAFE_INTEGER,Dn.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),v=Ki(r,j),j+=4,I=Ki(r,j),j+=4;"\0"!==ps(r.subarray(j,j+1));)e+=ps(r.subarray(j,j+1)),j+=1;for(e+=ps(r.subarray(j,j+1)),j+=1;"\0"!==ps(r.subarray(j,j+1));)i+=ps(r.subarray(j,j+1)),j+=1;i+=ps(r.subarray(j,j+1)),j+=1}return{schemeIdUri:e,value:i,timeScale:o,presentationTime:m,presentationTimeDelta:d,eventDuration:v,id:I,payload:r.subarray(j,r.byteLength)}}(d);if(i_.test(m.schemeIdUri)){const v=Ni(m.presentationTime)?m.presentationTime/m.timeScale:e+m.presentationTimeDelta/m.timeScale;let I=4294967295===m.eventDuration?Number.POSITIVE_INFINITY:m.eventDuration/m.timeScale;I<=.001&&(I=Number.POSITIVE_INFINITY);const j=m.payload;i.samples.push({data:j,len:j.byteLength,dts:v,pts:v,type:rc_emsg,duration:I})}})}return i}demuxSampleAes(n,e,i){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class ID{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(n){this.initPTS=n,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(n,e,i,o){this.audioCodec=e,this.videoCodec=i,this.generateInitSegment(function UC(r,n){if(!r||!n)return r;const e=n.keyId;return e&&n.isCommonEncryption&&Pr(r,["moov","trak"]).forEach(o=>{const m=Pr(o,["mdia","minf","stbl","stsd"])[0].subarray(8);let v=Pr(m,["enca"]);const I=v.length>0;I||(v=Pr(m,["encv"])),v.forEach(j=>{Pr(j.subarray(I?28:78),["sinf"]).forEach(We=>{const et=U0(We);if(et){const pt=et.subarray(8,24);pt.some(Ct=>0!==Ct)||(Dn.log(`[eme] Patching keyId in 'enc${I?"a":"v"}>sinf>>tenc' box: ${Ca_hexDump(pt)} -> ${Ca_hexDump(e)}`),et.set(e,8))}})})}),r}(n,o)),this.emitInitSegment=!0}generateInitSegment(n){let{audioCodec:e,videoCodec:i}=this;if(null==n||!n.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const o=this.initData=xg(n);e||(e=kb(o.audio,"audio")),i||(i=kb(o.video,"video"));const d={};o.audio&&o.video?d.audiovideo={container:"video/mp4",codec:e+","+i,initSegment:n,id:"main"}:o.audio?d.audio={container:"audio/mp4",codec:e,initSegment:n,id:"audio"}:o.video?d.video={container:"video/mp4",codec:i,initSegment:n,id:"main"}:Dn.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=d}remux(n,e,i,o,d,m){var v,I;let{initPTS:j,lastEndTime:te}=this;const me={audio:void 0,video:void 0,text:o,id3:i,initSegment:void 0};Ni(te)||(te=this.lastEndTime=d||0);const We=e.samples;if(null==We||!We.length)return me;const et={initPTS:void 0,timescale:1};let pt=this.initData;if(null!=(v=pt)&&v.length||(this.generateInitSegment(We),pt=this.initData),null==(I=pt)||!I.length)return Dn.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),me;this.emitInitSegment&&(et.tracks=this.initTracks,this.emitInitSegment=!1);const Ct=function Mg(r,n){let e=0,i=0,o=0;const d=Pr(r,["moof","traf"]);for(let m=0;m<d.length;m++){const v=d[m],I=Pr(v,["tfhd"])[0],te=n[Ki(I,4)];if(!te)continue;const me=te.default,We=Ki(I,0)|me?.flags;let et=me?.duration;8&We&&(et=Ki(I,2&We?12:8));const pt=te.timescale||9e4,Ct=Pr(v,["trun"]);for(let Ot=0;Ot<Ct.length;Ot++)e=VC(Ct[Ot]),!e&&et&&(e=et*Ki(Ct[Ot],4)),"video"===te.type?i+=e/pt:"audio"===te.type&&(o+=e/pt)}if(0===i&&0===o){let m=0;const v=Pr(r,["sidx"]);for(let I=0;I<v.length;I++){const j=B0(v[I]);null!=j&&j.references&&(m+=j.references.reduce((te,me)=>te+me.info.duration||0,0))}return m}return i||o}(We,pt),Ot=function jC(r,n){return Pr(n,["moof","traf"]).reduce((e,i)=>{const o=Pr(i,["tfdt"])[0],d=o[0],m=Pr(i,["tfhd"]).reduce((v,I)=>{const j=Ki(I,4),te=r[j];if(te){let me=Ki(o,4);if(1===d){if(me===lm)return Dn.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),v;me*=lm+1,me+=Ki(o,8)}const et=me/(te.timescale||9e4);if(isFinite(et)&&(null===v||et<v))return et}return v},null);return null!==m&&isFinite(m)&&(null===e||m<e)?m:e},null)}(pt,We),Zt=null===Ot?d:Ot;(function Am(r,n,e,i){if(null===r)return!0;const o=Math.max(i,1);return Math.abs(n-r.baseTime/r.timescale-e)>o}(j,Zt,d,Ct)||et.timescale!==j.timescale&&m)&&(et.initPTS=Zt-d,j&&1===j.timescale&&Dn.warn("Adjusting initPTS by "+(et.initPTS-j.baseTime)),this.initPTS=j={baseTime:et.initPTS,timescale:1});const dn=n?Zt-j.baseTime/j.timescale:te,sn=dn+Ct;(function j0(r,n,e){Pr(n,["moof","traf"]).forEach(i=>{Pr(i,["tfhd"]).forEach(o=>{const d=Ki(o,4),m=r[d];if(!m)return;const v=m.timescale||9e4;Pr(i,["tfdt"]).forEach(I=>{const j=I[0];let te=Ki(I,4);if(0===j)te-=e*v,te=Math.max(te,0),kf(I,4,te);else{te*=Math.pow(2,32),te+=Ki(I,8),te-=e*v,te=Math.max(te,0);const me=Math.floor(te/(lm+1)),We=Math.floor(te%(lm+1));kf(I,4,me),kf(I,8,We)}})})})})(pt,We,j.baseTime/j.timescale),Ct>0?this.lastEndTime=sn:(Dn.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const yn=!!pt.audio,Cn=!!pt.video;let Un="";yn&&(Un+="audio"),Cn&&(Un+="video");const On={data1:We,startPTS:dn,startDTS:dn,endPTS:sn,endDTS:sn,type:Un,hasAudio:yn,hasVideo:Cn,nb:1,dropped:0};return me.audio="audio"===On.type?On:void 0,me.video="audio"!==On.type?On:void 0,me.initSegment=et,me.id3=AD(i,d,j,j),o.samples.length&&(me.text=c_(o,d,j)),me}}},{demux:kc,remux:Nb},{demux:class Tm extends gD{constructor(n,e){super(),this.observer=void 0,this.config=void 0,this.observer=n,this.config=e}resetInitSegment(n,e,i,o){super.resetInitSegment(n,e,i,o),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:e,duration:o,inputTimeScale:9e4,dropped:0}}static probe(n){if(!n)return!1;let i=(Nf(n,0)||[]).length;for(let o=n.length;i<o;i++)if(yD(n,i))return Dn.log("ADTS sync word found !"),!0;return!1}canParse(n,e){return function vD(r,n){return function _D(r,n){return n+5<r.length}(r,n)&&$u(r,n)&&Kf(r,n)<=r.length-n}(n,e)}appendFrame(n,e,i){Cb(n,this.observer,e,i,n.manifestCodec);const o=xb(n,e,i,this.basePTS,this.frameIndex);if(o&&0===o.missing)return o}},remux:Nb},{demux:class DD extends gD{resetInitSegment(n,e,i,o){super.resetInitSegment(n,e,i,o),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:o,inputTimeScale:9e4,dropped:0}}static probe(n){if(!n)return!1;let i=(Nf(n,0)||[]).length;for(let o=n.length;i<o;i++)if(TD(n,i))return Dn.log("MPEG Audio sync word found !"),!0;return!1}canParse(n,e){return function vA(r,n){return Ab(r,n)&&4<=r.length-n}(n,e)}appendFrame(n,e,i){if(null!==this.basePTS)return r_(n,e,i,this.basePTS,this.frameIndex)}},remux:Nb}];class Bb{constructor(n,e,i,o,d){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=n,this.typeSupported=e,this.config=i,this.vendor=o,this.id=d}configure(n){this.transmuxConfig=n,this.decrypter&&this.decrypter.reset()}push(n,e,i,o){const d=i.transmuxing;d.executeStart=od();let m=new Uint8Array(n);const{currentTransmuxState:v,transmuxConfig:I}=this;o&&(this.currentTransmuxState=o);const{contiguous:j,discontinuity:te,trackSwitch:me,accurateTimeOffset:We,timeOffset:et,initSegmentChange:pt}=o||v,{audioCodec:Ct,videoCodec:Ot,defaultInitPts:Zt,duration:dn,initSegmentData:sn}=I,yn=function Ub(r,n){let e=null;return r.byteLength>0&&null!=n&&null!=n.key&&null!==n.iv&&null!=n.method&&(e=n),e}(m,e);if(yn&&"AES-128"===yn.method){const Zn=this.getDecrypter();if(!Zn.isSync())return this.decryptionPromise=Zn.webCryptoDecrypt(m,yn.key.buffer,yn.iv.buffer).then(ni=>{const kn=this.push(ni,null,i);return this.decryptionPromise=null,kn}),this.decryptionPromise;{let ni=Zn.softwareDecrypt(m,yn.key.buffer,yn.iv.buffer);if(i.part>-1&&(ni=Zn.flush()),!ni)return d.executeEnd=od(),d_(i);m=new Uint8Array(ni)}}const Cn=this.needsProbing(te,me);if(Cn){const Zn=this.configureTransmuxer(m);if(Zn)return Dn.warn(`[transmuxer] ${Zn.message}`),this.observer.emit(Rt.ERROR,Rt.ERROR,{type:Fi.MEDIA_ERROR,details:Vn.FRAG_PARSING_ERROR,fatal:!1,error:Zn,reason:Zn.message}),d.executeEnd=od(),d_(i)}(te||me||pt||Cn)&&this.resetInitSegment(sn,Ct,Ot,dn,e),(te||pt||Cn)&&this.resetInitialTimestamp(Zt),j||this.resetContiguity();const Un=this.transmux(m,yn,et,We,i),On=this.currentTransmuxState;return On.contiguous=!0,On.discontinuity=!1,On.trackSwitch=!1,d.executeEnd=od(),Un}flush(n){const e=n.transmuxing;e.executeStart=od();const{decrypter:i,currentTransmuxState:o,decryptionPromise:d}=this;if(d)return d.then(()=>this.flush(n));const m=[],{timeOffset:v}=o;if(i){const me=i.flush();me&&m.push(this.push(me,null,n))}const{demuxer:I,remuxer:j}=this;if(!I||!j)return e.executeEnd=od(),[d_(n)];const te=I.flush(v);return Im(te)?te.then(me=>(this.flushRemux(m,me,n),m)):(this.flushRemux(m,te,n),m)}flushRemux(n,e,i){const{audioTrack:o,videoTrack:d,id3Track:m,textTrack:v}=e,{accurateTimeOffset:I,timeOffset:j}=this.currentTransmuxState;Dn.log(`[transmuxer.ts]: Flushed fragment ${i.sn}${i.part>-1?" p: "+i.part:""} of level ${i.level}`);const te=this.remuxer.remux(o,d,m,v,j,I,!0,this.id);n.push({remuxResult:te,chunkMeta:i}),i.transmuxing.executeEnd=od()}resetInitialTimestamp(n){const{demuxer:e,remuxer:i}=this;!e||!i||(e.resetTimeStamp(n),i.resetTimeStamp(n))}resetContiguity(){const{demuxer:n,remuxer:e}=this;!n||!e||(n.resetContiguity(),e.resetNextTimestamp())}resetInitSegment(n,e,i,o,d){const{demuxer:m,remuxer:v}=this;!m||!v||(m.resetInitSegment(n,e,i,o),v.resetInitSegment(n,e,i,d))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(n,e,i,o,d){let m;return m=e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(n,e,i,o,d):this.transmuxUnencrypted(n,i,o,d),m}transmuxUnencrypted(n,e,i,o){const{audioTrack:d,videoTrack:m,id3Track:v,textTrack:I}=this.demuxer.demux(n,e,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(d,m,v,I,e,i,!1,this.id),chunkMeta:o}}transmuxSampleAes(n,e,i,o,d){return this.demuxer.demuxSampleAes(n,e,i).then(m=>({remuxResult:this.remuxer.remux(m.audioTrack,m.videoTrack,m.id3Track,m.textTrack,i,o,!1,this.id),chunkMeta:d}))}configureTransmuxer(n){const{config:e,observer:i,typeSupported:o,vendor:d}=this;let m;for(let me=0,We=Fb.length;me<We;me++)if(Fb[me].demux.probe(n)){m=Fb[me];break}if(!m)return new Error("Failed to find demuxer by probing fragment data");const v=this.demuxer,I=this.remuxer,j=m.remux,te=m.demux;(!I||!(I instanceof j))&&(this.remuxer=new j(i,e,o,d)),(!v||!(v instanceof te))&&(this.demuxer=new te(i,e,o),this.probe=te.probe)}needsProbing(n,e){return!this.demuxer||!this.remuxer||n||e}getDecrypter(){let n=this.decrypter;return n||(n=this.decrypter=new Xg(this.config)),n}}const d_=r=>({remuxResult:{},chunkMeta:r});function Im(r){return"then"in r&&r.then instanceof Function}class wD{constructor(n,e,i,o,d){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=n,this.videoCodec=e,this.initSegmentData=i,this.duration=o,this.defaultInitPts=d||null}}class TA{constructor(n,e,i,o,d,m){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=n,this.contiguous=e,this.accurateTimeOffset=i,this.trackSwitch=o,this.timeOffset=d,this.initSegmentChange=m}}var jb={exports:{}};!function(r){var n=Object.prototype.hasOwnProperty,e="~";function i(){}function o(I,j,te){this.fn=I,this.context=j,this.once=te||!1}function d(I,j,te,me,We){if("function"!=typeof te)throw new TypeError("The listener must be a function");var et=new o(te,me||I,We),pt=e?e+j:j;return I._events[pt]?I._events[pt].fn?I._events[pt]=[I._events[pt],et]:I._events[pt].push(et):(I._events[pt]=et,I._eventsCount++),I}function m(I,j){0==--I._eventsCount?I._events=new i:delete I._events[j]}function v(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(e=!1)),v.prototype.eventNames=function(){var te,me,j=[];if(0===this._eventsCount)return j;for(me in te=this._events)n.call(te,me)&&j.push(e?me.slice(1):me);return Object.getOwnPropertySymbols?j.concat(Object.getOwnPropertySymbols(te)):j},v.prototype.listeners=function(j){var me=this._events[e?e+j:j];if(!me)return[];if(me.fn)return[me.fn];for(var We=0,et=me.length,pt=new Array(et);We<et;We++)pt[We]=me[We].fn;return pt},v.prototype.listenerCount=function(j){var me=this._events[e?e+j:j];return me?me.fn?1:me.length:0},v.prototype.emit=function(j,te,me,We,et,pt){var Ct=e?e+j:j;if(!this._events[Ct])return!1;var dn,sn,Ot=this._events[Ct],Zt=arguments.length;if(Ot.fn){switch(Ot.once&&this.removeListener(j,Ot.fn,void 0,!0),Zt){case 1:return Ot.fn.call(Ot.context),!0;case 2:return Ot.fn.call(Ot.context,te),!0;case 3:return Ot.fn.call(Ot.context,te,me),!0;case 4:return Ot.fn.call(Ot.context,te,me,We),!0;case 5:return Ot.fn.call(Ot.context,te,me,We,et),!0;case 6:return Ot.fn.call(Ot.context,te,me,We,et,pt),!0}for(sn=1,dn=new Array(Zt-1);sn<Zt;sn++)dn[sn-1]=arguments[sn];Ot.fn.apply(Ot.context,dn)}else{var Cn,yn=Ot.length;for(sn=0;sn<yn;sn++)switch(Ot[sn].once&&this.removeListener(j,Ot[sn].fn,void 0,!0),Zt){case 1:Ot[sn].fn.call(Ot[sn].context);break;case 2:Ot[sn].fn.call(Ot[sn].context,te);break;case 3:Ot[sn].fn.call(Ot[sn].context,te,me);break;case 4:Ot[sn].fn.call(Ot[sn].context,te,me,We);break;default:if(!dn)for(Cn=1,dn=new Array(Zt-1);Cn<Zt;Cn++)dn[Cn-1]=arguments[Cn];Ot[sn].fn.apply(Ot[sn].context,dn)}}return!0},v.prototype.on=function(j,te,me){return d(this,j,te,me,!1)},v.prototype.once=function(j,te,me){return d(this,j,te,me,!0)},v.prototype.removeListener=function(j,te,me,We){var et=e?e+j:j;if(!this._events[et])return this;if(!te)return m(this,et),this;var pt=this._events[et];if(pt.fn)pt.fn===te&&(!We||pt.once)&&(!me||pt.context===me)&&m(this,et);else{for(var Ct=0,Ot=[],Zt=pt.length;Ct<Zt;Ct++)(pt[Ct].fn!==te||We&&!pt[Ct].once||me&&pt[Ct].context!==me)&&Ot.push(pt[Ct]);Ot.length?this._events[et]=1===Ot.length?Ot[0]:Ot:m(this,et)}return this},v.prototype.removeAllListeners=function(j){var te;return j?this._events[te=e?e+j:j]&&m(this,te):(this._events=new i,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prefixed=e,v.EventEmitter=v,r.exports=v}(jb);var wm=uA(jb.exports);const Gb=dm()||{isTypeSupported:()=>!1};class fl{constructor(n,e,i,o){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const d=n.config;this.hls=n,this.id=e,this.useWorker=!!d.enableWorker,this.onTransmuxComplete=i,this.onFlush=o;const m=(j,te)=>{(te=te||{}).frag=this.frag,te.id=this.id,j===Rt.ERROR&&(this.error=te.error),this.hls.trigger(j,te)};this.observer=new wm,this.observer.on(Rt.FRAG_DECRYPTED,m),this.observer.on(Rt.ERROR,m);const v={mp4:Gb.isTypeSupported("video/mp4"),mpeg:Gb.isTypeSupported("audio/mpeg"),mp3:Gb.isTypeSupported('audio/mp4; codecs="mp3"')},I=navigator.vendor;if(this.useWorker&&typeof Worker<"u"&&(d.workerPath||function Zu(){return"function"==typeof __HLS_WORKER_BUNDLE__}()))try{d.workerPath?(Dn.log(`loading Web Worker ${d.workerPath} for "${e}"`),this.workerContext=function pD(r){const n=new self.URL(r,self.location.href).href;return{worker:new self.Worker(n),scriptURL:n}}(d.workerPath)):(Dn.log(`injecting Web Worker for "${e}"`),this.workerContext=function mD(){const r=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),n=self.URL.createObjectURL(r);return{worker:new self.Worker(n),objectURL:n}}()),this.onwmsg=me=>this.onWorkerMessage(me);const{worker:te}=this.workerContext;te.addEventListener("message",this.onwmsg),te.onerror=me=>{const We=new Error(`${me.message}  (${me.filename}:${me.lineno})`);d.enableWorker=!1,Dn.warn(`Error in "${e}" Web Worker, fallback to inline`),this.hls.trigger(Rt.ERROR,{type:Fi.OTHER_ERROR,details:Vn.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:We})},te.postMessage({cmd:"init",typeSupported:v,vendor:I,id:e,config:JSON.stringify(d)})}catch(te){Dn.warn(`Error setting up "${e}" Web Worker, fallback to inline`,te),this.resetWorker(),this.error=null,this.transmuxer=new Bb(this.observer,v,d,I,e)}else this.transmuxer=new Bb(this.observer,v,d,I,e)}resetWorker(){if(this.workerContext){const{worker:n,objectURL:e}=this.workerContext;e&&self.URL.revokeObjectURL(e),n.removeEventListener("message",this.onwmsg),n.onerror=null,n.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}const n=this.observer;n&&n.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(n,e,i,o,d,m,v,I,j,te){var me,We;j.transmuxing.start=self.performance.now();const{transmuxer:et}=this,pt=m?m.start:d.start,Ct=d.decryptdata,Ot=this.frag,Zt=!(Ot&&d.cc===Ot.cc),dn=!(Ot&&j.level===Ot.level),sn=Ot?j.sn-Ot.sn:-1,yn=this.part?j.part-this.part.index:-1,Un=!dn&&(1===sn||0===sn&&(1===yn||0===sn&&j.id>1&&j.id===Ot?.stats.chunkCount&&yn<=0)),On=self.performance.now();(dn||sn||0===d.stats.parsing.start)&&(d.stats.parsing.start=On),m&&(yn||!Un)&&(m.stats.parsing.start=On);const Zn=!(Ot&&(null==(me=d.initSegment)?void 0:me.url)===(null==(We=Ot.initSegment)?void 0:We.url)),ni=new TA(Zt,Un,I,dn,pt,Zn);if(!Un||Zt||Zn){Dn.log(`[transmuxer-interface, ${d.type}]: Starting new transmux session for sn: ${j.sn} p: ${j.part} level: ${j.level} id: ${j.id}\n        discontinuity: ${Zt}\n        trackSwitch: ${dn}\n        contiguous: ${Un}\n        accurateTimeOffset: ${I}\n        timeOffset: ${pt}\n        initSegmentChange: ${Zn}`);const kn=new wD(i,o,e,v,te);this.configureTransmuxer(kn)}if(this.frag=d,this.part=m,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:n,decryptdata:Ct,chunkMeta:j,state:ni},n instanceof ArrayBuffer?[n]:[]);else if(et){const kn=et.push(n,Ct,j,ni);Im(kn)?(et.async=!0,kn.then(Ei=>{this.handleTransmuxComplete(Ei)}).catch(Ei=>{this.transmuxerError(Ei,j,"transmuxer-interface push error")})):(et.async=!1,this.handleTransmuxComplete(kn))}}flush(n){n.transmuxing.start=self.performance.now();const{transmuxer:e}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:n});else if(e){let i=e.flush(n);Im(i)||e.async?(Im(i)||(i=Promise.resolve(i)),i.then(d=>{this.handleFlushResult(d,n)}).catch(d=>{this.transmuxerError(d,n,"transmuxer-interface flush error")})):this.handleFlushResult(i,n)}}transmuxerError(n,e,i){this.hls&&(this.error=n,this.hls.trigger(Rt.ERROR,{type:Fi.MEDIA_ERROR,details:Vn.FRAG_PARSING_ERROR,chunkMeta:e,fatal:!1,error:n,err:n,reason:i}))}handleFlushResult(n,e){n.forEach(i=>{this.handleTransmuxComplete(i)}),this.onFlush(e)}onWorkerMessage(n){const e=n.data,i=this.hls;switch(e.event){case"init":{var o;const d=null==(o=this.workerContext)?void 0:o.objectURL;d&&self.URL.revokeObjectURL(d);break}case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":Dn[e.data.logType]&&Dn[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,i.trigger(e.event,e.data)}}configureTransmuxer(n){const{transmuxer:e}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:n}):e&&e.configure(n)}handleTransmuxComplete(n){n.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(n)}}class PD{constructor(n,e,i,o){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=n,this.media=e,this.fragmentTracker=i,this.hls=o}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(n,e){const{config:i,media:o,stalled:d}=this;if(null===o)return;const{currentTime:m,seeking:v}=o,I=this.seeking&&!v,j=!this.seeking&&v;if(this.seeking=v,m!==n){if(this.moved=!0,null!==d){if(this.stallReported){const Zt=self.performance.now()-d;Dn.warn(`playback not stuck anymore @${m}, after ${Math.round(Zt)}ms`),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if(j||I)return void(this.stalled=null);if(o.paused&&!v||o.ended||0===o.playbackRate||!co.getBuffered(o).length)return;const te=co.bufferInfo(o,m,0),We=te.nextStart||0;if(!(te.len>0||We))return;if(v){const Zt=te.len>2,dn=!We||e&&e.start<=m||We-m>2&&!this.fragmentTracker.getPartialFragment(m);if(Zt||dn)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var et;const Zt=Math.max(We,te.start||0)-m,dn=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,yn=(null==dn||null==(et=dn.details)?void 0:et.live)?2*dn.details.targetduration:2,Cn=this.fragmentTracker.getPartialFragment(m);if(Zt>0&&(Zt<=yn||Cn))return void this._trySkipBufferHole(Cn)}const pt=self.performance.now();if(null===d)return void(this.stalled=pt);const Ct=pt-d;if(!v&&Ct>=250&&(this._reportStall(te),!this.media))return;const Ot=co.bufferInfo(o,m,i.maxBufferHole);this._tryFixBufferStall(Ot,Ct)}_tryFixBufferStall(n,e){const{config:i,fragmentTracker:o,media:d}=this;if(null===d)return;const m=d.currentTime,v=o.getPartialFragment(m);v&&(this._trySkipBufferHole(v)||!this.media)||(n.len>i.maxBufferHole||n.nextStart&&n.nextStart-m<i.maxBufferHole)&&e>1e3*i.highBufferWatchdogPeriod&&(Dn.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(n){const{hls:e,media:i,stallReported:o}=this;if(!o&&i){this.stallReported=!0;const d=new Error(`Playback stalling at @${i.currentTime} due to low buffer (${JSON.stringify(n)})`);Dn.warn(d.message),e.trigger(Rt.ERROR,{type:Fi.MEDIA_ERROR,details:Vn.BUFFER_STALLED_ERROR,fatal:!1,error:d,buffer:n.len})}}_trySkipBufferHole(n){const{config:e,hls:i,media:o}=this;if(null===o)return 0;const d=o.currentTime,m=co.bufferInfo(o,d,0),v=d<m.start?m.start:m.nextStart;if(v){const te=v-d;if(te>0&&(m.len<=e.maxBufferHole||m.len>0&&m.len<1&&o.readyState<3)){if(te>e.maxBufferHole){const{fragmentTracker:We}=this;let et=!1;if(0===d){const pt=We.getAppendedFrag(0,"main");pt&&v<pt.end&&(et=!0)}if(!et){const pt=n||We.getAppendedFrag(d,"main");if(pt){let Ct=!1,Ot=pt.end;for(;Ot<v;){const Zt=We.getPartialFragment(Ot);if(!Zt){Ct=!0;break}Ot+=Zt.duration}if(Ct)return 0}}}const me=Math.max(v+.05,d+.1);if(Dn.warn(`skipping hole, adjusting currentTime from ${d} to ${me}`),this.moved=!0,this.stalled=null,o.currentTime=me,n&&!n.gap){const We=new Error(`fragment loaded with buffer holes, seeking from ${d} to ${me}`);i.trigger(Rt.ERROR,{type:Fi.MEDIA_ERROR,details:Vn.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:We,reason:We.message,frag:n})}return me}}return 0}_tryNudgeBuffer(){const{config:n,hls:e,media:i,nudgeRetry:o}=this;if(null===i)return;const d=i.currentTime;if(this.nudgeRetry++,o<n.nudgeMaxRetry){const m=d+(o+1)*n.nudgeOffset,v=new Error(`Nudging 'currentTime' from ${d} to ${m}`);Dn.warn(v.message),i.currentTime=m,e.trigger(Rt.ERROR,{type:Fi.MEDIA_ERROR,details:Vn.BUFFER_NUDGE_ON_STALL,error:v,fatal:!1})}else{const m=new Error(`Playhead still not moving while enough data buffered @${d} after ${n.nudgeMaxRetry} nudges`);Dn.error(m.message),e.trigger(Rt.ERROR,{type:Fi.MEDIA_ERROR,details:Vn.BUFFER_STALLED_ERROR,error:m,fatal:!0})}}}class OD extends e_{constructor(n,e,i){super(n,e,i,"[stream-controller]","main"),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:n}=this;n.on(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Rt.LEVEL_LOADING,this.onLevelLoading,this),n.on(Rt.LEVEL_LOADED,this.onLevelLoaded,this),n.on(Rt.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),n.on(Rt.ERROR,this.onError,this),n.on(Rt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.on(Rt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.on(Rt.BUFFER_CREATED,this.onBufferCreated,this),n.on(Rt.BUFFER_FLUSHED,this.onBufferFlushed,this),n.on(Rt.LEVELS_UPDATED,this.onLevelsUpdated,this),n.on(Rt.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:n}=this;n.off(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Rt.LEVEL_LOADED,this.onLevelLoaded,this),n.off(Rt.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),n.off(Rt.ERROR,this.onError,this),n.off(Rt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.off(Rt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.off(Rt.BUFFER_CREATED,this.onBufferCreated,this),n.off(Rt.BUFFER_FLUSHED,this.onBufferFlushed,this),n.off(Rt.LEVELS_UPDATED,this.onLevelsUpdated,this),n.off(Rt.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),this.onMediaDetaching()}startLoad(n){if(this.levels){const{lastCurrentTime:e,hls:i}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let o=i.startLevel;-1===o&&(i.config.testBandwidth&&this.levels.length>1?(o=0,this.bitrateTest=!0):o=i.nextAutoLevel),this.level=i.nextLoadLevel=o,this.loadedmetadata=!1}e>0&&-1===n&&(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),n=e),this.state="IDLE",this.nextLoadPosition=this.startPosition=this.lastCurrentTime=n,this.tick()}else this._forceStartLoad=!0,this.state="STOPPED"}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case"WAITING_LEVEL":{var n;const{levels:i,level:o}=this,d=null==i||null==(n=i[o])?void 0:n.details;if(d&&(!d.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(d))break;this.state="IDLE";break}if(this.hls.nextLoadLevel!==this.level){this.state="IDLE";break}break}case"FRAG_LOADING_WAITING_RETRY":{var e;const i=self.performance.now(),o=this.retryDate;(!o||i>=o||null!=(e=this.media)&&e.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state="IDLE")}}"IDLE"===this.state&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:n,levelLastLoaded:e,levels:i,media:o}=this,{config:d,nextLoadLevel:m}=n;if(null===e||!o&&(this.startFragRequested||!d.startFragPrefetch)||this.altAudio&&this.audioOnly||null==i||!i[m])return;const v=i[m],I=this.getMainFwdBufferInfo();if(null===I)return;const j=this.getLevelDetails();if(j&&this._streamEnded(I,j)){const Ot={};return this.altAudio&&(Ot.type="video"),this.hls.trigger(Rt.BUFFER_EOS,Ot),void(this.state="ENDED")}n.loadLevel!==m&&-1===n.manualLevel&&this.log(`Adapting to level ${m} from level ${this.level}`),this.level=n.nextLoadLevel=m;const te=v.details;if(!te||"WAITING_LEVEL"===this.state||te.live&&this.levelLastLoaded!==m)return this.level=m,void(this.state="WAITING_LEVEL");const me=I.len,We=this.getMaxBufferLength(v.maxBitrate);if(me>=We)return;this.backtrackFragment&&this.backtrackFragment.start>I.end&&(this.backtrackFragment=null);const et=this.backtrackFragment?this.backtrackFragment.start:I.end;let pt=this.getNextFragment(et,te);if(this.couldBacktrack&&!this.fragPrevious&&pt&&"initSegment"!==pt.sn&&"OK"!==this.fragmentTracker.getState(pt)){var Ct;const Zt=(null!=(Ct=this.backtrackFragment)?Ct:pt).sn-te.startSN,dn=te.fragments[Zt-1];dn&&pt.cc===dn.cc&&(pt=dn,this.fragmentTracker.removeFragment(dn))}else this.backtrackFragment&&I.len&&(this.backtrackFragment=null);if(pt&&this.isLoopLoading(pt,et)){if(!pt.gap){const Zt=this.audioOnly&&!this.altAudio?"audio":"video",dn=("video"===Zt?this.videoBuffer:this.mediaBuffer)||this.media;dn&&this.afterBufferFlushed(dn,Zt,"main")}pt=this.getNextFragmentLoopLoading(pt,te,I,"main",We)}pt&&(pt.initSegment&&!pt.initSegment.data&&!this.bitrateTest&&(pt=pt.initSegment),this.loadFragment(pt,v,et))}loadFragment(n,e,i){const o=this.fragmentTracker.getState(n);this.fragCurrent=n,"NOT_LOADED"===o||"PARTIAL"===o?"initSegment"===n.sn?this._loadInitSegment(n,e):this.bitrateTest?(this.log(`Fragment ${n.sn} of level ${n.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(n,e)):(this.startFragRequested=!0,super.loadFragment(n,e,i)):this.clearTrackerIfNeeded(n)}getBufferedFrag(n){return this.fragmentTracker.getBufferedFrag(n,"main")}followingBufferedFrag(n){return n?this.getBufferedFrag(n.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:n,media:e}=this;if(null!=e&&e.readyState){let i;const o=this.getAppendedFrag(e.currentTime);o&&o.start>1&&this.flushMainBuffer(0,o.start-1);const d=this.getLevelDetails();if(null!=d&&d.live){const v=this.getMainFwdBufferInfo();if(!v||v.len<2*d.targetduration)return}if(!e.paused&&n){const j=this.fragLastKbps;i=j&&this.fragCurrent?this.fragCurrent.duration*n[this.hls.nextLoadLevel].maxBitrate/(1e3*j)+1:0}else i=0;const m=this.getBufferedFrag(e.currentTime+i);if(m){const v=this.followingBufferedFrag(m);if(v){this.abortCurrentFrag();const j=v.duration,te=Math.max(m.end,(v.maxStartPTS?v.maxStartPTS:v.start)+Math.min(Math.max(j-this.config.maxFragLookUpTolerance,.5*j),.75*j));this.flushMainBuffer(te,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const n=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,n&&(n.abortRequests(),this.fragmentTracker.removeFragment(n)),this.state){case"KEY_LOADING":case"FRAG_LOADING":case"FRAG_LOADING_WAITING_RETRY":case"PARSING":case"PARSED":this.state="IDLE"}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(n,e){super.flushMainBuffer(n,e,this.altAudio?"video":null)}onMediaAttached(n,e){super.onMediaAttached(n,e);const i=e.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),i.addEventListener("playing",this.onvplaying),i.addEventListener("seeked",this.onvseeked),this.gapController=new PD(this.config,i,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:n}=this;n&&this.onvplaying&&this.onvseeked&&(n.removeEventListener("playing",this.onvplaying),n.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const n=this.media,e=n?n.currentTime:null;Ni(e)&&this.log(`Media seeked to ${e.toFixed(3)}`);const i=this.getMainFwdBufferInfo();null!==i&&0!==i.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${i?i.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(Rt.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}onManifestParsed(n,e){let d,i=!1,o=!1;e.levels.forEach(m=>{d=m.audioCodec,d&&(-1!==d.indexOf("mp4a.40.2")&&(i=!0),-1!==d.indexOf("mp4a.40.5")&&(o=!0))}),this.audioCodecSwitch=i&&o&&!function oa(){var r;const n=t_();return"function"==typeof(null==n||null==(r=n.prototype)?void 0:r.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1}onLevelLoading(n,e){const{levels:i}=this;if(!i||"IDLE"!==this.state)return;const o=i[e.level];(!o.details||o.details.live&&this.levelLastLoaded!==e.level||this.waitForCdnTuneIn(o.details))&&(this.state="WAITING_LEVEL")}onLevelLoaded(n,e){var i;const{levels:o}=this,d=e.level,m=e.details,v=m.totalduration;if(!o)return void this.warn(`Levels were reset while loading level ${d}`);this.log(`Level ${d} loaded [${m.startSN},${m.endSN}]${m.lastPartSn?`[part-${m.lastPartSn}-${m.lastPartIndex}]`:""}, cc [${m.startCC}, ${m.endCC}] duration:${v}`);const I=o[d],j=this.fragCurrent;j&&("FRAG_LOADING"===this.state||"FRAG_LOADING_WAITING_RETRY"===this.state)&&(j.level!==e.level||j.urlId!==I.urlId)&&j.loader&&this.abortCurrentFrag();let te=0;if(m.live||null!=(i=I.details)&&i.live){if(m.fragments[0]||(m.deltaUpdateFailed=!0),m.deltaUpdateFailed)return;te=this.alignPlaylists(m,I.details)}if(I.details=m,this.levelLastLoaded=d,this.hls.trigger(Rt.LEVEL_UPDATED,{details:m,level:d}),"WAITING_LEVEL"===this.state){if(this.waitForCdnTuneIn(m))return;this.state="IDLE"}this.startFragRequested?m.live&&this.synchronizeToLiveEdge(m):this.setStartPosition(m,te),this.tick()}_handleFragmentLoadProgress(n){var e;const{frag:i,part:o,payload:d}=n,{levels:m}=this;if(!m)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);const v=m[i.level],I=v.details;if(!I)return this.warn(`Dropping fragment ${i.sn} of level ${i.level} after level details were reset`),void this.fragmentTracker.removeFragment(i);const j=v.videoCodec,te=I.PTSKnown||!I.live,me=null==(e=i.initSegment)?void 0:e.data,We=this._getAudioCodec(v),et=this.transmuxer=this.transmuxer||new fl(this.hls,"main",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),pt=o?o.index:-1,Ot=new Zg(i.level,i.sn,i.stats.chunkCount,d.byteLength,pt,-1!==pt);et.push(d,me,We,j,i,o,I.totalduration,te,Ot,this.initPTS[i.cc])}onAudioTrackSwitching(n,e){const i=this.altAudio;if(!e.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const m=this.fragCurrent;m&&(this.log("Switching to main audio track, cancel main fragment load"),m.abortRequests(),this.fragmentTracker.removeFragment(m)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const d=this.hls;i&&(d.trigger(Rt.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),d.trigger(Rt.AUDIO_TRACK_SWITCHED,e)}}onAudioTrackSwitched(n,e){const o=!!this.hls.audioTracks[e.id].url;if(o){const d=this.videoBuffer;d&&this.mediaBuffer!==d&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=d)}this.altAudio=o,this.tick()}onBufferCreated(n,e){const i=e.tracks;let o,d,m=!1;for(const v in i){const I=i[v];if("main"===I.id){if(d=v,o=I,"video"===v){const j=i[v];j&&(this.videoBuffer=j.buffer)}}else m=!0}m&&o?(this.log(`Alternate track found, use ${d}.buffered to schedule main fragment loading`),this.mediaBuffer=o.buffer):this.mediaBuffer=this.media}onFragBuffered(n,e){const{frag:i,part:o}=e;if(i&&"main"!==i.type)return;if(this.fragContextChanged(i))return this.warn(`Fragment ${i.sn}${o?" p: "+o.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}`),void("PARSED"===this.state&&(this.state="IDLE"));const d=o?o.stats:i.stats;this.fragLastKbps=Math.round(8*d.total/(d.buffering.end-d.loading.first)),"initSegment"!==i.sn&&(this.fragPrevious=i),this.fragBufferedComplete(i,o)}onError(n,e){var i;if(e.fatal)this.state="ERROR";else switch(e.details){case Vn.FRAG_GAP:case Vn.FRAG_PARSING_ERROR:case Vn.FRAG_DECRYPT_ERROR:case Vn.FRAG_LOAD_ERROR:case Vn.FRAG_LOAD_TIMEOUT:case Vn.KEY_LOAD_ERROR:case Vn.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("main",e);break;case Vn.LEVEL_LOAD_ERROR:case Vn.LEVEL_LOAD_TIMEOUT:case Vn.LEVEL_PARSING_ERROR:!e.levelRetry&&"WAITING_LEVEL"===this.state&&"level"===(null==(i=e.context)?void 0:i.type)&&(this.state="IDLE");break;case Vn.BUFFER_FULL_ERROR:if(!e.parent||"main"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case Vn.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}checkBuffer(){const{media:n,gapController:e}=this;n&&e&&n.readyState&&(!this.loadedmetadata&&co.getBuffered(n).length||e.poll(this.lastCurrentTime,"IDLE"!==this.state?this.fragCurrent:null),this.lastCurrentTime=n.currentTime)}onFragLoadEmergencyAborted(){this.state="IDLE",this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(n,{type:e}){("audio"!==e||this.audioOnly&&!this.altAudio)&&this.afterBufferFlushed(("video"===e?this.videoBuffer:this.mediaBuffer)||this.media,e,"main")}onLevelsUpdated(n,e){this.levels=e.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:n}=this;if(!n)return;const e=n.currentTime;let i=this.startPosition;if(i>=0&&e<i){if(n.seeking)return void this.log(`could not seek to ${i}, already seeking at ${e}`);const o=co.getBuffered(n),m=(o.length?o.start(0):0)-i;m>0&&(m<this.config.maxBufferHole||m<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${m} to match buffer start`),i+=m,this.startPosition=i),this.log(`seek to target start position ${i} from current time ${e}`),n.currentTime=i}}_getAudioCodec(n){let e=this.config.defaultAudioCodec||n.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e}_loadBitrateTestFrag(n,e){n.bitrateTest=!0,this._doFragLoad(n,e).then(i=>{const{hls:o}=this;if(!i||this.fragContextChanged(n))return;e.fragmentError=0,this.state="IDLE",this.startFragRequested=!1,this.bitrateTest=!1;const d=n.stats;d.parsing.start=d.parsing.end=d.buffering.start=d.buffering.end=self.performance.now(),o.trigger(Rt.FRAG_LOADED,i),n.bitrateTest=!1})}_handleTransmuxComplete(n){var e;const i="main",{hls:o}=this,{remuxResult:d,chunkMeta:m}=n,v=this.getCurrentContext(m);if(!v)return void this.resetWhenMissingContext(m);const{frag:I,part:j,level:te}=v,{video:me,text:We,id3:et,initSegment:pt}=d,{details:Ct}=te,Ot=this.altAudio?void 0:d.audio;if(this.fragContextChanged(I))this.fragmentTracker.removeFragment(I);else{if(this.state="PARSING",pt){if(null!=pt&&pt.tracks){const sn=I.initSegment||I;this._bufferInitSegment(te,pt.tracks,sn,m),o.trigger(Rt.FRAG_PARSING_INIT_SEGMENT,{frag:sn,id:i,tracks:pt.tracks})}const Zt=pt.initPTS,dn=pt.timescale;Ni(Zt)&&(this.initPTS[I.cc]={baseTime:Zt,timescale:dn},o.trigger(Rt.INIT_PTS_FOUND,{frag:I,id:i,initPTS:Zt,timescale:dn}))}if(me&&Ct&&"initSegment"!==I.sn){const Zt=Ct.fragments[I.sn-1-Ct.startSN],dn=I.sn===Ct.startSN,sn=!Zt||I.cc>Zt.cc;if(!1!==d.independent){const{startPTS:yn,endPTS:Cn,startDTS:Un,endDTS:On}=me;if(j)j.elementaryStreams[me.type]={startPTS:yn,endPTS:Cn,startDTS:Un,endDTS:On};else if(me.firstKeyFrame&&me.independent&&1===m.id&&!sn&&(this.couldBacktrack=!0),me.dropped&&me.independent){const Zn=this.getMainFwdBufferInfo(),ni=(Zn?Zn.end:this.getLoadPosition())+this.config.maxBufferHole;if(!dn&&ni<(me.firstKeyFramePTS?me.firstKeyFramePTS:yn)-this.config.maxBufferHole&&!sn)return void this.backtrack(I);sn&&(I.gap=!0),I.setElementaryStreamInfo(me.type,I.start,Cn,I.start,On,!0)}I.setElementaryStreamInfo(me.type,yn,Cn,Un,On),this.backtrackFragment&&(this.backtrackFragment=I),this.bufferFragmentData(me,I,j,m,dn||sn)}else{if(!dn&&!sn)return void this.backtrack(I);I.gap=!0}}if(Ot){const{startPTS:Zt,endPTS:dn,startDTS:sn,endDTS:yn}=Ot;j&&(j.elementaryStreams.audio={startPTS:Zt,endPTS:dn,startDTS:sn,endDTS:yn}),I.setElementaryStreamInfo("audio",Zt,dn,sn,yn),this.bufferFragmentData(Ot,I,j,m)}Ct&&null!=et&&null!=(e=et.samples)&&e.length&&o.trigger(Rt.FRAG_PARSING_METADATA,{id:i,frag:I,details:Ct,samples:et.samples}),Ct&&We&&o.trigger(Rt.FRAG_PARSING_USERDATA,{id:i,frag:I,details:Ct,samples:We.samples})}}_bufferInitSegment(n,e,i,o){if("PARSING"!==this.state)return;this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;const{audio:d,video:m,audiovideo:v}=e;if(d){let I=n.audioCodec;const j=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(I&&(I=-1!==I.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==d.metadata.channelCount&&-1===j.indexOf("firefox")&&(I="mp4a.40.5")),-1!==j.indexOf("android")&&"audio/mpeg"!==d.container&&(I="mp4a.40.2",this.log(`Android: force audio codec to ${I}`)),n.audioCodec&&n.audioCodec!==I&&this.log(`Swapping manifest audio codec "${n.audioCodec}" for "${I}"`),d.levelCodec=I,d.id="main",this.log(`Init audio buffer, container:${d.container}, codecs[selected/level/parsed]=[${I||""}/${n.audioCodec||""}/${d.codec}]`)}m&&(m.levelCodec=n.videoCodec,m.id="main",this.log(`Init video buffer, container:${m.container}, codecs[level/parsed]=[${n.videoCodec||""}/${m.codec}]`)),v&&this.log(`Init audiovideo buffer, container:${v.container}, codecs[level/parsed]=[${n.attrs.CODECS||""}/${v.codec}]`),this.hls.trigger(Rt.BUFFER_CODECS,e),Object.keys(e).forEach(I=>{const te=e[I].initSegment;null!=te&&te.byteLength&&this.hls.trigger(Rt.BUFFER_APPENDING,{type:I,data:te,frag:i,part:null,chunkMeta:o,parent:i.type})}),this.tick()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,"main")}backtrack(n){this.couldBacktrack=!0,this.backtrackFragment=n,this.resetTransmuxer(),this.flushBufferGap(n),this.fragmentTracker.removeFragment(n),this.fragPrevious=null,this.nextLoadPosition=n.start,this.state="IDLE"}checkFragmentChanged(){const n=this.media;let e=null;if(n&&n.readyState>1&&!1===n.seeking){const i=n.currentTime;if(co.isBuffered(n,i)?e=this.getAppendedFrag(i):co.isBuffered(n,i+.1)&&(e=this.getAppendedFrag(i+.1)),e){this.backtrackFragment=null;const o=this.fragPlaying,d=e.level;(!o||e.sn!==o.sn||o.level!==d||e.urlId!==o.urlId)&&(this.fragPlaying=e,this.hls.trigger(Rt.FRAG_CHANGED,{frag:e}),(!o||o.level!==d)&&this.hls.trigger(Rt.LEVEL_SWITCHED,{level:d}))}}}get nextLevel(){const n=this.nextBufferedFrag;return n?n.level:-1}get currentFrag(){const n=this.media;return n?this.fragPlaying||this.getAppendedFrag(n.currentTime):null}get currentProgramDateTime(){const n=this.media;if(n){const e=n.currentTime,i=this.currentFrag;if(i&&Ni(e)&&Ni(i.programDateTime))return new Date(i.programDateTime+1e3*(e-i.start))}return null}get currentLevel(){const n=this.currentFrag;return n?n.level:-1}get nextBufferedFrag(){const n=this.currentFrag;return n?this.followingBufferedFrag(n):null}get forceStartLoad(){return this._forceStartLoad}}class Xu{constructor(n,e=0,i=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=n,this.alpha_=n?Math.exp(Math.log(.5)/n):0,this.estimate_=e,this.totalWeight_=i}sample(n,e){const i=Math.pow(this.alpha_,n);this.estimate_=e*(1-i)+i*this.estimate_,this.totalWeight_+=n}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const n=1-Math.pow(this.alpha_,this.totalWeight_);if(n)return this.estimate_/n}return this.estimate_}}class h_{constructor(n,e,i,o=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Xu(n),this.fast_=new Xu(e),this.defaultTTFB_=o,this.ttfb_=new Xu(n)}update(n,e){const{slow_:i,fast_:o,ttfb_:d}=this;i.halfLife!==n&&(this.slow_=new Xu(n,i.getEstimate(),i.getTotalWeight())),o.halfLife!==e&&(this.fast_=new Xu(e,o.getEstimate(),o.getTotalWeight())),d.halfLife!==n&&(this.ttfb_=new Xu(n,d.getEstimate(),d.getTotalWeight()))}sample(n,e){const o=(n=Math.max(n,this.minDelayMs_))/1e3,d=8*e/o;this.fast_.sample(o,d),this.slow_.sample(o,d)}sampleTTFB(n){const e=n/1e3,i=Math.sqrt(2)*Math.exp(-Math.pow(e,2)/2);this.ttfb_.sample(i,Math.max(n,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}class m_{constructor(){this.chunks=[],this.dataLength=0}push(n){this.chunks.push(n),this.dataLength+=n.length}flush(){const{chunks:n,dataLength:e}=this;let i;return n.length?(i=1===n.length?n[0]:function RD(r,n){const e=new Uint8Array(n);let i=0;for(let o=0;o<r.length;o++){const d=r[o];e.set(d,i),i+=d.length}return e}(n,e),this.reset(),i):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function g_(r,n){if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++)if(!ND(r[e].attrs,n[e].attrs))return!1;return!0}function ND(r,n){const e=r["STABLE-RENDITION-ID"];return e?e===n["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some(i=>r[i]!==n[i])}class v_{constructor(n){this.buffered=void 0;const e=(i,o,d)=>{if((o>>>=0)>d-1)throw new DOMException(`Failed to execute '${i}' on 'TimeRanges': The index provided (${o}) is greater than the maximum bound (${d})`);return n[o][i]};this.buffered={get length(){return n.length},end:i=>e("end",i,n.length),start:i=>e("start",i,n.length)}}}function Pm(r){const n=[];for(let e=0;e<r.length;e++){const i=r[e];("subtitles"===i.kind||"captions"===i.kind)&&i.label&&n.push(r[e])}return n}class y_{constructor(n){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=n}append(n,e){const i=this.queues[e];i.push(n),1===i.length&&this.buffers[e]&&this.executeNext(e)}insertAbort(n,e){this.queues[e].unshift(n),this.executeNext(e)}appendBlocker(n){let e;const i=new Promise(d=>{e=d});return this.append({execute:e,onStart:()=>{},onComplete:()=>{},onError:()=>{}},n),i}executeNext(n){const{buffers:e,queues:i}=this,o=e[n],d=i[n];if(d.length){const m=d[0];try{m.execute()}catch(v){Dn.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),m.onError(v),null!=o&&o.updating||(d.shift(),this.executeNext(n))}}}shiftAndExecuteNext(n){this.queues[n].shift(),this.executeNext(n)}current(n){return this.queues[n][0]}}const Om=dm(),zb=/([ha]vc.)(?:\.[^.,]+)+/,b_={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Zb=function(n){let e=n;return b_.hasOwnProperty(n)&&(e=b_[n]),String.fromCharCode(e)},Bc=100,kD={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},$b={17:2,18:4,21:6,22:8,23:10,19:13,20:15},DA={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},qb={25:2,26:4,29:6,30:8,31:10,27:13,28:15},FD=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class Jb{constructor(){this.time=null,this.verboseLevel=0}log(n,e){if(this.verboseLevel>=n){const i="function"==typeof e?e():e;Dn.log(`${this.time} [${n}] ${i}`)}}}const ef=function(n){const e=[];for(let i=0;i<n.length;i++)e.push(n[i].toString(16));return e};class Rm{constructor(n,e,i,o,d){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=n||"white",this.underline=e||!1,this.italics=i||!1,this.background=o||"black",this.flash=d||!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(n){const e=["foreground","underline","italics","background","flash"];for(let i=0;i<e.length;i++){const o=e[i];n.hasOwnProperty(o)&&(this[o]=n[o])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(n){return this.foreground===n.foreground&&this.underline===n.underline&&this.italics===n.italics&&this.background===n.background&&this.flash===n.flash}copy(n){this.foreground=n.foreground,this.underline=n.underline,this.italics=n.italics,this.background=n.background,this.flash=n.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class Qb{constructor(n,e,i,o,d,m){this.uchar=void 0,this.penState=void 0,this.uchar=n||" ",this.penState=new Rm(e,i,o,d,m)}reset(){this.uchar=" ",this.penState.reset()}setChar(n,e){this.uchar=n,this.penState.copy(e)}setPenState(n){this.penState.copy(n)}equals(n){return this.uchar===n.uchar&&this.penState.equals(n.penState)}copy(n){this.uchar=n.uchar,this.penState.copy(n.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class Xb{constructor(n){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(let e=0;e<Bc;e++)this.chars.push(new Qb);this.logger=n,this.pos=0,this.currPenState=new Rm}equals(n){let e=!0;for(let i=0;i<Bc;i++)if(!this.chars[i].equals(n.chars[i])){e=!1;break}return e}copy(n){for(let e=0;e<Bc;e++)this.chars[e].copy(n.chars[e])}isEmpty(){let n=!0;for(let e=0;e<Bc;e++)if(!this.chars[e].isEmpty()){n=!1;break}return n}setCursor(n){this.pos!==n&&(this.pos=n),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Bc&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Bc)}moveCursor(n){const e=this.pos+n;if(n>1)for(let i=this.pos+1;i<e+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(e)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(n){n>=144&&this.backSpace();const e=Zb(n);this.pos>=Bc?this.logger.log(0,()=>"Cannot insert "+n.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))}clearFromPos(n){let e;for(e=n;e<Bc;e++)this.chars[e].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const n=[];let e=!0;for(let i=0;i<Bc;i++){const o=this.chars[i].uchar;" "!==o&&(e=!1),n.push(o)}return e?"":n.join("")}setPenStyles(n){this.currPenState.setStyles(n),this.chars[this.pos].setPenState(this.currPenState)}}class E_{constructor(n){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(let e=0;e<15;e++)this.rows.push(new Xb(n));this.logger=n,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}reset(){for(let n=0;n<15;n++)this.rows[n].clear();this.currRow=14}equals(n){let e=!0;for(let i=0;i<15;i++)if(!this.rows[i].equals(n.rows[i])){e=!1;break}return e}copy(n){for(let e=0;e<15;e++)this.rows[e].copy(n.rows[e])}isEmpty(){let n=!0;for(let e=0;e<15;e++)if(!this.rows[e].isEmpty()){n=!1;break}return n}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(n){this.rows[this.currRow].insertChar(n)}setPen(n){this.rows[this.currRow].setPenStyles(n)}moveCursor(n){this.rows[this.currRow].moveCursor(n)}setCursor(n){this.logger.log(2,"setCursor: "+n),this.rows[this.currRow].setCursor(n)}setPAC(n){this.logger.log(2,()=>"pacData = "+JSON.stringify(n));let e=n.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(let v=0;v<15;v++)this.rows[v].clear();const d=this.currRow+1-this.nrRollUpRows,m=this.lastOutputScreen;if(m){const v=m.rows[d].cueStartTime,I=this.logger.time;if(v&&null!==I&&v<I)for(let j=0;j<this.nrRollUpRows;j++)this.rows[e-this.nrRollUpRows+j+1].copy(m.rows[d+j])}}this.currRow=e;const i=this.rows[this.currRow];if(null!==n.indent){const m=Math.max(n.indent-1,0);i.setCursor(n.indent),n.color=i.chars[m].penState.foreground}this.setPen({foreground:n.color,underline:n.underline,italics:n.italics,background:"black",flash:!1})}setBkgData(n){this.logger.log(2,()=>"bkgData = "+JSON.stringify(n)),this.backSpace(),this.setPen(n),this.insertChar(32)}setRollUpRows(n){this.nrRollUpRows=n}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,()=>this.getDisplayText());const e=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(2,"Rolling up")}getDisplayText(n){n=n||!1;const e=[];let i="",o=-1;for(let d=0;d<15;d++){const m=this.rows[d].getTextString();m&&(o=d+1,e.push(n?"Row "+o+": '"+m+"'":m.trim()))}return e.length>0&&(i=n?"["+e.join(" | ")+"]":e.join("\n")),i}getTextAndFormat(){return this.rows}}class T_{constructor(n,e,i){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=n,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new E_(i),this.nonDisplayedMemory=new E_(i),this.lastOutputScreen=new E_(i),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=i}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(n){this.outputFilter=n}setPAC(n){this.writeScreen.setPAC(n)}setBkgData(n){this.writeScreen.setBkgData(n)}setMode(n){n!==this.mode&&(this.mode=n,this.logger.log(2,()=>"MODE="+n),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=n)}insertChars(n){for(let i=0;i<n.length;i++)this.writeScreen.insertChar(n[i]);const e=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>e+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(n){this.logger.log(2,"RU("+n+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(n)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const n=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=n,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(n){this.logger.log(2,"TO("+n+") - Tab Offset"),this.writeScreen.moveCursor(n)}ccMIDROW(n){const e={flash:!1};if(e.underline=n%2==1,e.italics=n>=46,e.italics)e.foreground="white";else{const i=Math.floor(n/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][i]}this.logger.log(2,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)}outputDataUpdate(n=!1){const e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),n&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(n){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,n,this.displayedMemory),this.cueStartTime=n))}}class S_{constructor(n,e,i){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;const o=new Jb;this.channels=[null,new T_(n,e,o),new T_(n+1,i,o)],this.cmdHistory={a:null,b:null},this.logger=o}getHandler(n){return this.channels[n].getHandler()}setHandler(n,e){this.channels[n].setHandler(e)}addData(n,e){let i,o,d,m=!1;this.logger.time=n;for(let v=0;v<e.length;v+=2)if(o=127&e[v],d=127&e[v+1],0!==o||0!==d){if(this.logger.log(3,"["+ef([e[v],e[v+1]])+"] -> ("+ef([o,d])+")"),i=this.parseCmd(o,d),i||(i=this.parseMidrow(o,d)),i||(i=this.parsePAC(o,d)),i||(i=this.parseBackgroundAttributes(o,d)),!i&&(m=this.parseChars(o,d),m)){const I=this.currentChannel;I&&I>0?this.channels[I].insertChars(m):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!i&&!m&&this.logger.log(2,"Couldn't parse cleaned data "+ef([o,d])+" orig: "+ef([e[v],e[v+1]]))}}parseCmd(n,e){const{cmdHistory:i}=this;if(!((20===n||28===n||21===n||29===n)&&e>=32&&e<=47||(23===n||31===n)&&e>=33&&e<=35))return!1;if(zf(n,e,i))return Rl(null,null,i),this.logger.log(3,"Repeated command ("+ef([n,e])+") is dropped"),!0;const m=20===n||21===n||23===n?1:2,v=this.channels[m];return 20===n||21===n||28===n||29===n?32===e?v.ccRCL():33===e?v.ccBS():34===e?v.ccAOF():35===e?v.ccAON():36===e?v.ccDER():37===e?v.ccRU(2):38===e?v.ccRU(3):39===e?v.ccRU(4):40===e?v.ccFON():41===e?v.ccRDC():42===e?v.ccTR():43===e?v.ccRTD():44===e?v.ccEDM():45===e?v.ccCR():46===e?v.ccENM():47===e&&v.ccEOC():v.ccTO(e-32),Rl(n,e,i),this.currentChannel=m,!0}parseMidrow(n,e){let i=0;if((17===n||25===n)&&e>=32&&e<=47){if(i=17===n?1:2,i!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const o=this.channels[i];return!!o&&(o.ccMIDROW(e),this.logger.log(3,"MIDROW ("+ef([n,e])+")"),!0)}return!1}parsePAC(n,e){let i;const o=this.cmdHistory;if(!((n>=17&&n<=23||n>=25&&n<=31)&&e>=64&&e<=127||(16===n||24===n)&&e>=64&&e<=95))return!1;if(zf(n,e,o))return Rl(null,null,o),!0;const v=n<=23?1:2;i=e>=64&&e<=95?1===v?kD[n]:DA[n]:1===v?$b[n]:qb[n];const I=this.channels[v];return!!I&&(I.setPAC(this.interpretPAC(i,e)),Rl(n,e,o),this.currentChannel=v,!0)}interpretPAC(n,e){let i;const o={color:null,italics:!1,indent:null,underline:!1,row:n};return i=e>95?e-96:e-64,o.underline=1==(1&i),i<=13?o.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(o.italics=!0,o.color="white"):o.indent=4*Math.floor((i-16)/2),o}parseChars(n,e){let i,o=null,d=null;if(n>=25?(i=2,d=n-8):(i=1,d=n),d>=17&&d<=19){let m;m=17===d?e+80:18===d?e+112:e+144,this.logger.log(2,"Special char '"+Zb(m)+"' in channel "+i),o=[m]}else n>=32&&n<=127&&(o=0===e?[n]:[n,e]);if(o){const m=ef(o);this.logger.log(3,"Char codes =  "+m.join(",")),Rl(n,e,this.cmdHistory)}return o}parseBackgroundAttributes(n,e){if(!((16===n||24===n)&&e>=32&&e<=47||(23===n||31===n)&&e>=45&&e<=47))return!1;let d;const m={};return 16===n||24===n?(d=Math.floor((e-32)/2),m.background=FD[d],e%2==1&&(m.background=m.background+"_semi")):45===e?m.background="transparent":(m.foreground="black",47===e&&(m.underline=!0)),this.channels[n<=23?1:2].setBkgData(m),Rl(n,e,this.cmdHistory),!0}reset(){for(let n=0;n<Object.keys(this.channels).length;n++){const e=this.channels[n];e&&e.reset()}this.cmdHistory={a:null,b:null}}cueSplitAtTime(n){for(let e=0;e<this.channels.length;e++){const i=this.channels[e];i&&i.cueSplitAtTime(n)}}}function Rl(r,n,e){e.a=r,e.b=n}function zf(r,n,e){return e.a===r&&e.b===n}class Zf{constructor(n,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=n,this.trackName=e}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(n,e,i){(null===this.startTime||this.startTime>n)&&(this.startTime=n),this.endTime=e,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var D_=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;const r=["","lr","rl"],n=["start","middle","end","left","right"];function e(v,I){if("string"!=typeof I||!Array.isArray(v))return!1;const j=I.toLowerCase();return!!~v.indexOf(j)&&j}function o(v){return e(n,v)}function d(v,...I){let j=1;for(;j<arguments.length;j++){const te=arguments[j];for(const me in te)v[me]=te[me]}return v}function m(v,I,j){const te=this,me={enumerable:!0};te.hasBeenReset=!1;let We="",et=!1,pt=v,Ct=I,Ot=j,Zt=null,dn="",sn=!0,yn="auto",Cn="start",Un=50,On="middle",Zn=50,ni="middle";Object.defineProperty(te,"id",d({},me,{get:function(){return We},set:function(kn){We=""+kn}})),Object.defineProperty(te,"pauseOnExit",d({},me,{get:function(){return et},set:function(kn){et=!!kn}})),Object.defineProperty(te,"startTime",d({},me,{get:function(){return pt},set:function(kn){if("number"!=typeof kn)throw new TypeError("Start time must be set to a number.");pt=kn,this.hasBeenReset=!0}})),Object.defineProperty(te,"endTime",d({},me,{get:function(){return Ct},set:function(kn){if("number"!=typeof kn)throw new TypeError("End time must be set to a number.");Ct=kn,this.hasBeenReset=!0}})),Object.defineProperty(te,"text",d({},me,{get:function(){return Ot},set:function(kn){Ot=""+kn,this.hasBeenReset=!0}})),Object.defineProperty(te,"region",d({},me,{get:function(){return Zt},set:function(kn){Zt=kn,this.hasBeenReset=!0}})),Object.defineProperty(te,"vertical",d({},me,{get:function(){return dn},set:function(kn){const Ei=function i(v){return e(r,v)}(kn);if(!1===Ei)throw new SyntaxError("An invalid or illegal string was specified.");dn=Ei,this.hasBeenReset=!0}})),Object.defineProperty(te,"snapToLines",d({},me,{get:function(){return sn},set:function(kn){sn=!!kn,this.hasBeenReset=!0}})),Object.defineProperty(te,"line",d({},me,{get:function(){return yn},set:function(kn){if("number"!=typeof kn&&"auto"!==kn)throw new SyntaxError("An invalid number or illegal string was specified.");yn=kn,this.hasBeenReset=!0}})),Object.defineProperty(te,"lineAlign",d({},me,{get:function(){return Cn},set:function(kn){const Ei=o(kn);if(!Ei)throw new SyntaxError("An invalid or illegal string was specified.");Cn=Ei,this.hasBeenReset=!0}})),Object.defineProperty(te,"position",d({},me,{get:function(){return Un},set:function(kn){if(kn<0||kn>100)throw new Error("Position must be between 0 and 100.");Un=kn,this.hasBeenReset=!0}})),Object.defineProperty(te,"positionAlign",d({},me,{get:function(){return On},set:function(kn){const Ei=o(kn);if(!Ei)throw new SyntaxError("An invalid or illegal string was specified.");On=Ei,this.hasBeenReset=!0}})),Object.defineProperty(te,"size",d({},me,{get:function(){return Zn},set:function(kn){if(kn<0||kn>100)throw new Error("Size must be between 0 and 100.");Zn=kn,this.hasBeenReset=!0}})),Object.defineProperty(te,"align",d({},me,{get:function(){return ni},set:function(kn){const Ei=o(kn);if(!Ei)throw new SyntaxError("An invalid or illegal string was specified.");ni=Ei,this.hasBeenReset=!0}})),te.displayState=void 0}return m.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},m}();class BD{decode(n,e){if(!n)return"";if("string"!=typeof n)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(n))}}function UD(r){function n(i,o,d,m){return 3600*(0|i)+60*(0|o)+(0|d)+parseFloat(m||0)}const e=r.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return e?parseFloat(e[2])>59?n(e[2],e[3],0,e[4]):n(e[1],e[2],e[3],e[4]):null}class eE{constructor(){this.values=Object.create(null)}set(n,e){!this.get(n)&&""!==e&&(this.values[n]=e)}get(n,e,i){return i?this.has(n)?this.values[n]:e[i]:this.has(n)?this.values[n]:e}has(n){return n in this.values}alt(n,e,i){for(let o=0;o<i.length;++o)if(e===i[o]){this.set(n,e);break}}integer(n,e){/^-?\d+$/.test(e)&&this.set(n,parseInt(e,10))}percent(n,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){const i=parseFloat(e);if(i>=0&&i<=100)return this.set(n,i),!0}return!1}}function tE(r,n,e,i){const o=i?r.split(i):[r];for(const d in o){if("string"!=typeof o[d])continue;const m=o[d].split(e);2===m.length&&n(m[0],m[1])}}const x_=new D_(0,0,""),Nm="middle"===x_.align?"middle":"center";function xA(r,n,e){const i=r;function o(){const v=UD(r);if(null===v)throw new Error("Malformed timestamp: "+i);return r=r.replace(/^[^\sa-zA-Z-]+/,""),v}function m(){r=r.replace(/^\s+/,"")}if(m(),n.startTime=o(),m(),"--\x3e"!==r.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);r=r.slice(3),m(),n.endTime=o(),m(),function d(v,I){const j=new eE;tE(v,function(We,et){let pt;switch(We){case"region":for(let Ct=e.length-1;Ct>=0;Ct--)if(e[Ct].id===et){j.set(We,e[Ct].region);break}break;case"vertical":j.alt(We,et,["rl","lr"]);break;case"line":pt=et.split(","),j.integer(We,pt[0]),j.percent(We,pt[0])&&j.set("snapToLines",!1),j.alt(We,pt[0],["auto"]),2===pt.length&&j.alt("lineAlign",pt[1],["start",Nm,"end"]);break;case"position":pt=et.split(","),j.percent(We,pt[0]),2===pt.length&&j.alt("positionAlign",pt[1],["start",Nm,"end","line-left","line-right","auto"]);break;case"size":j.percent(We,et);break;case"align":j.alt(We,et,["start",Nm,"end","left","right"])}},/:/,/\s/),I.region=j.get("region",null),I.vertical=j.get("vertical","");let te=j.get("line","auto");"auto"===te&&-1===x_.line&&(te=-1),I.line=te,I.lineAlign=j.get("lineAlign","start"),I.snapToLines=j.get("snapToLines",!0),I.size=j.get("size",100),I.align=j.get("align",Nm);let me=j.get("position","auto");"auto"===me&&50===x_.position&&(me="start"===I.align||"left"===I.align?0:"end"===I.align||"right"===I.align?100:50),I.position=me}(r,n)}function jD(r){return r.replace(/<br(?: \/)?>/gi,"\n")}class nE{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new BD,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(n){const e=this;function i(){let d=e.buffer,m=0;for(d=jD(d);m<d.length&&"\r"!==d[m]&&"\n"!==d[m];)++m;const v=d.slice(0,m);return"\r"===d[m]&&++m,"\n"===d[m]&&++m,e.buffer=d.slice(m),v}function o(d){tE(d,function(m,v){},/:/)}n&&(e.buffer+=e.decoder.decode(n,{stream:!0}));try{let d="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;d=i();const v=d.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==v||!v[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}let m=!1;for(;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(m?m=!1:d=i(),e.state){case"HEADER":/:/.test(d)?o(d):d||(e.state="ID");continue;case"NOTE":d||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(d)){e.state="NOTE";break}if(!d)continue;if(e.cue=new D_(0,0,""),e.state="CUE",-1===d.indexOf("--\x3e")){e.cue.id=d;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{xA(d,e.cue,e.regionList)}catch{e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":{const v=-1!==d.indexOf("--\x3e");if(!d||v&&(m=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=d}continue;case"BADCUE":d||(e.state="ID")}}}catch{"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this}flush(){const n=this;try{if((n.cue||"HEADER"===n.state)&&(n.buffer+="\n\n",n.parse()),"INITIAL"===n.state||"BADWEBVTT"===n.state)throw new Error("Malformed WebVTT signature.")}catch(e){n.onparsingerror&&n.onparsingerror(e)}return n.onflush&&n.onflush(),this}}const VD=/\r\n|\n\r|\n|\r/g,M_=function(n,e,i=0){return n.slice(i,i+e.length)===e},iE=function(n){let e=5381,i=n.length;for(;i;)e=33*e^n.charCodeAt(--i);return(e>>>0).toString()};function rE(r,n,e){return iE(r.toString())+iE(n.toString())+iE(e)}const oE="stpp.ttml.im1t",sE=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,$f=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,HD={left:"start",center:"center",right:"end",start:"start",end:"end"};function aE(r,n,e,i){const o=Pr(new Uint8Array(r),["mdat"]);if(0===o.length)return void i(new Error("Could not parse IMSC1 mdat"));const d=o.map(v=>Il(v)),m=function xD(r,n,e=1,i=!1){return a_(r,n,1/e,i)}(n.baseTime,1,n.timescale);try{d.forEach(v=>e(function lE(r,n){const o=(new DOMParser).parseFromString(r,"text/xml").getElementsByTagName("tt")[0];if(!o)throw new Error("Invalid ttml");const d={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},m=Object.keys(d).reduce((me,We)=>(me[We]=o.getAttribute(`ttp:${We}`)||d[We],me),{}),v="preserve"!==o.getAttribute("xml:space"),I=A_(Uc(o,"styling","style")),j=A_(Uc(o,"layout","region")),te=Uc(o,"body","[begin]");return[].map.call(te,me=>{const We=Lm(me,v);if(!We||!me.hasAttribute("begin"))return null;const et=qf(me.getAttribute("begin"),m),pt=qf(me.getAttribute("dur"),m);let Ct=qf(me.getAttribute("end"),m);if(null===et)throw km(me);if(null===Ct){if(null===pt)throw km(me);Ct=et+pt}const Ot=new D_(et-n,Ct-n,We);Ot.id=rE(Ot.startTime,Ot.endTime,Ot.text);const sn=function I_(r,n,e){const i="http://www.w3.org/ns/ttml#styling";let o=null;const m=null!=r&&r.hasAttribute("style")?r.getAttribute("style"):null;return m&&e.hasOwnProperty(m)&&(o=e[m]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((v,I)=>{const j=w_(n,i,I)||w_(r,i,I)||w_(o,i,I);return j&&(v[I]=j),v},{})}(j[me.getAttribute("region")],I[me.getAttribute("style")],I),{textAlign:yn}=sn;if(yn){const Cn=HD[yn];Cn&&(Ot.lineAlign=Cn),Ot.align=yn}return po(Ot,sn),Ot}).filter(me=>null!==me)}(v,m)))}catch(v){i(v)}}function Uc(r,n,e){const i=r.getElementsByTagName(n)[0];return i?[].slice.call(i.querySelectorAll(e)):[]}function A_(r){return r.reduce((n,e)=>{const i=e.getAttribute("xml:id");return i&&(n[i]=e),n},{})}function Lm(r,n){return[].slice.call(r.childNodes).reduce((e,i,o)=>{var d;return"br"===i.nodeName&&o?e+"\n":null!=(d=i.childNodes)&&d.length?Lm(i,n):n?e+i.textContent.trim().replace(/\s+/g," "):e+i.textContent},"")}function w_(r,n,e){return r&&r.hasAttributeNS(n,e)?r.getAttributeNS(n,e):null}function km(r){return new Error(`Could not parse ttml timestamp ${r}`)}function qf(r,n){if(!r)return null;let e=UD(r);return null===e&&(sE.test(r)?e=function Fm(r,n){const e=sE.exec(r);return 3600*(0|e[1])+60*(0|e[2])+(0|e[3])+((0|e[4])+(0|e[5])/n.subFrameRate)/n.frameRate}(r,n):$f.test(r)&&(e=function IA(r,n){const e=$f.exec(r),i=Number(e[1]);switch(e[2]){case"h":return 3600*i;case"m":return 60*i;case"ms":return 1e3*i;case"f":return i/n.frameRate;case"t":return i/n.tickRate}return i}(r,n))),e}function PA(r,n){return!!r&&r.label===n.name&&!(r.textTrack1||r.textTrack2)}function cE(r,n,e,i){return Math.min(n,i)-Math.max(r,e)}class P_{constructor(n){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=n,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(n){this.streamController=n}destroy(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:n}=this;n.on(Rt.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),n.on(Rt.MEDIA_ATTACHING,this.onMediaAttaching,this),n.on(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Rt.BUFFER_CODECS,this.onBufferCodecs,this),n.on(Rt.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:n}=this;n.off(Rt.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),n.off(Rt.MEDIA_ATTACHING,this.onMediaAttaching,this),n.off(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Rt.BUFFER_CODECS,this.onBufferCodecs,this),n.off(Rt.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(n,e){const i=this.hls.levels[e.droppedLevel];this.isLevelAllowed(i)&&this.restrictedLevels.push({bitrate:i.bitrate,height:i.height,width:i.width})}onMediaAttaching(n,e){this.media=e.media instanceof HTMLVideoElement?e.media:null,this.clientRect=null}onManifestParsed(n,e){const i=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,i.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onBufferCodecs(n,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){const n=this.hls.levels;if(n.length){const e=this.hls;e.autoLevelCapping=this.getMaxLevel(n.length-1),e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}}getMaxLevel(n){const e=this.hls.levels;if(!e.length)return-1;const i=e.filter((o,d)=>this.isLevelAllowed(o)&&d<=n);return this.clientRect=null,P_.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const n=this.media,e={width:0,height:0};if(n){const i=n.getBoundingClientRect();e.width=i.width,e.height=i.height,!e.width&&!e.height&&(e.width=i.right-i.left||n.width||0,e.height=i.bottom-i.top||n.height||0)}return this.clientRect=e,e}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let n=1;if(!this.hls.config.ignoreDevicePixelRatio)try{n=self.devicePixelRatio}catch{}return n}isLevelAllowed(n){return!this.restrictedLevels.some(i=>n.bitrate===i.bitrate&&n.width===i.width&&n.height===i.height)}static getMaxLevelByMediaSize(n,e,i){if(null==n||!n.length)return-1;const o=(m,v)=>!v||m.width!==v.width||m.height!==v.height;let d=n.length-1;for(let m=0;m<n.length;m+=1){const v=n[m];if((v.width>=e||v.height>=i)&&o(v,n[m+1])){d=m;break}}return d}}const Bm="[eme]";let uE=(()=>{class r{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=r.CDMCleanupPromise?[r.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=Dn.debug.bind(Dn,Bm),this.log=Dn.log.bind(Dn,Bm),this.warn=Dn.warn.bind(Dn,Bm),this.error=Dn.error.bind(Dn,Bm),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Rt.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Rt.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Rt.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Rt.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:i,widevineLicenseUrl:o}=this.config,d=i[e];if(d)return d.licenseUrl;if(e===So.WIDEVINE&&o)return o;throw new Error(`no license server URL configured for key-system "${e}"`)}getServerCertificateUrl(e){const{drmSystems:i}=this.config,o=i[e];if(o)return o.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const i=this.hls.levels,o=(v,I,j)=>!!v&&j.indexOf(v)===I,d=i.map(v=>v.audioCodec).filter(o),m=i.map(v=>v.videoCodec).filter(o);return d.length+m.length===0&&m.push("avc1.42e01e"),new Promise((v,I)=>{const j=te=>{const me=te.shift();this.getMediaKeysPromise(me,d,m).then(We=>v({keySystem:me,mediaKeys:We})).catch(We=>{te.length?j(te):I(We instanceof Ya?We:new Ya({type:Fi.KEY_SYSTEM_ERROR,details:Vn.KEY_SYSTEM_NO_ACCESS,error:We,fatal:!0},We.message))})};j(e)})}requestMediaKeySystemAccess(e,i){const{requestMediaKeySystemAccessFunc:o}=this.config;if("function"!=typeof o){let d=`Configured requestMediaKeySystemAccess is not a function ${o}`;return null===P0&&"http:"===self.location.protocol&&(d=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(d))}return o(e,i)}getMediaKeysPromise(e,i,o){const d=function wC(r,n,e,i){let o;switch(r){case So.FAIRPLAY:o=["cenc","sinf"];break;case So.WIDEVINE:case So.PLAYREADY:o=["cenc"];break;case So.CLEARKEY:o=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${r}`)}return function hA(r,n,e,i){return[{initDataTypes:r,persistentState:i.persistentState||"not-allowed",distinctiveIdentifier:i.distinctiveIdentifier||"not-allowed",sessionTypes:i.sessionTypes||[i.sessionType||"temporary"],audioCapabilities:n.map(d=>({contentType:`audio/mp4; codecs="${d}"`,robustness:i.audioRobustness||"",encryptionScheme:i.audioEncryptionScheme||null})),videoCapabilities:e.map(d=>({contentType:`video/mp4; codecs="${d}"`,robustness:i.videoRobustness||"",encryptionScheme:i.videoEncryptionScheme||null}))}]}(o,n,e,i)}(e,i,o,this.config.drmSystemOptions),m=this.keySystemAccessPromises[e];let v=m?.keySystemAccess;if(!v){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(d)}`),v=this.requestMediaKeySystemAccess(e,d);const I=this.keySystemAccessPromises[e]={keySystemAccess:v};return v.catch(j=>{this.log(`Failed to obtain access to key-system "${e}": ${j}`)}),v.then(j=>{this.log(`Access for key-system "${j.keySystem}" obtained`);const te=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),I.mediaKeys=j.createMediaKeys().then(me=>(this.log(`Media-keys created for "${e}"`),te.then(We=>We?this.setMediaKeysServerCertificate(me,e,We):me))),I.mediaKeys.catch(me=>{this.error(`Failed to create media-keys for "${e}"}: ${me}`)}),I.mediaKeys})}return v.then(()=>m.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:i,mediaKeys:o}){this.log(`Creating key-system session "${i}" keyId: ${Ca_hexDump(e.keyId||[])}`);const d=o.createSession(),m={decryptdata:e,keySystem:i,mediaKeys:o,mediaKeysSession:d,keyStatus:"status-pending"};return this.mediaKeySessions.push(m),m}renewKeySession(e){const i=e.decryptdata;if(i.pssh){const o=this.createMediaKeySessionContext(e),d=this.getKeyIdString(i);this.keyIdToKeySessionPromise[d]=this.generateRequestWithPreferredKeySession(o,"cenc",i.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(null===e.keyId)throw new Error("keyId is null");return Ca_hexDump(e.keyId)}updateKeySession(e,i){var o;const d=e.mediaKeysSession;return this.log(`Updating key-session "${d.sessionId}" for keyID ${Ca_hexDump((null==(o=e.decryptdata)?void 0:o.keyId)||[])}\n      } (data length: ${i&&i.byteLength})`),d.update(i)}selectKeySystemFormat(e){const i=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${i.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(i)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((i,o)=>{const d=am(this.config),m=e.map(Tg).filter(v=>!!v&&-1!==d.indexOf(v));return this.getKeySystemSelectionPromise(m).then(({keySystem:v})=>{const I=w0(v);I?i(I):o(new Error(`Unable to find format for key-system "${v}"`))}).catch(o)})}loadKey(e){const i=e.keyInfo.decryptdata,o=this.getKeyIdString(i),d=`(keyId: ${o} format: "${i.keyFormat}" method: ${i.method} uri: ${i.uri})`;this.log(`Starting session for key ${d}`);let m=this.keyIdToKeySessionPromise[o];return m||(m=this.keyIdToKeySessionPromise[o]=this.getKeySystemForKeyPromise(i).then(({keySystem:v,mediaKeys:I})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${d}`),this.attemptSetMediaKeys(v,I).then(()=>{this.throwIfDestroyed();const j=this.createMediaKeySessionContext({keySystem:v,mediaKeys:I,decryptdata:i});return this.generateRequestWithPreferredKeySession(j,"cenc",i.pssh,"playlist-key")}))),m.catch(v=>this.handleError(v))),m}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),this.hls.trigger(Rt.ERROR,e instanceof Ya?e.data:{type:Fi.KEY_SYSTEM_ERROR,details:Vn.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const i=this.getKeyIdString(e),o=this.keyIdToKeySessionPromise[i];if(!o){const d=Tg(e.keyFormat),m=d?[d]:am(this.config);return this.attemptKeySystemAccess(m)}return o}getKeySystemSelectionPromise(e){if(e.length||(e=am(this.config)),0===e.length)throw new Ya({type:Fi.KEY_SYSTEM_ERROR,details:Vn.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){const{initDataType:i,initData:o}=e;if(this.debug(`"${e.type}" event: init data type: "${i}"`),null===o)return;let d,m;if("sinf"===i&&this.config.drmSystems[So.FAIRPLAY]){const me=ps(new Uint8Array(o));try{const We=sm(JSON.parse(me).sinf),et=U0(new Uint8Array(We));if(!et)return;d=et.subarray(8,24),m=So.FAIRPLAY}catch{return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{const me=function W0(r){if(!(r instanceof ArrayBuffer)||r.byteLength<32)return null;const n={version:0,systemId:"",kids:null,data:null},e=new DataView(r),i=e.getUint32(0);if(r.byteLength!==i&&i>44||1886614376!==e.getUint32(4)||(n.version=e.getUint32(8)>>>24,n.version>1))return null;n.systemId=Ca_hexDump(new Uint8Array(r,12,16));const d=e.getUint32(28);if(0===n.version){if(i-32<d)return null;n.data=new Uint8Array(r,32,d)}else if(1===n.version){n.kids=[];for(let m=0;m<d;m++)n.kids.push(new Uint8Array(r,32+16*m,16))}return n}(o);if(null===me)return;0===me.version&&"edef8ba979d64acea3c827dcd51d21ed"===me.systemId&&me.data&&(d=me.data.subarray(8,24)),m=function I0(r){if("edef8ba979d64acea3c827dcd51d21ed"===r)return So.WIDEVINE}(me.systemId)}if(!m||!d)return;const v=Ca_hexDump(d),{keyIdToKeySessionPromise:I,mediaKeySessions:j}=this;let te=I[v];for(let me=0;me<j.length;me++){const We=j[me],et=We.decryptdata;if(et.pssh||!et.keyId)continue;const pt=Ca_hexDump(et.keyId);if(v===pt||-1!==et.uri.replace(/-/g,"").indexOf(v)){te=I[pt],delete I[pt],et.pssh=new Uint8Array(o),et.keyId=d,te=I[v]=te.then(()=>this.generateRequestWithPreferredKeySession(We,i,o,"encrypted-event-key-match"));break}}te||(te=I[v]=this.getKeySystemSelectionPromise([m]).then(({keySystem:me,mediaKeys:We})=>{var et;this.throwIfDestroyed();const pt=new Ku("ISO-23001-7",v,null!=(et=w0(me))?et:"");return pt.pssh=new Uint8Array(o),pt.keyId=d,this.attemptSetMediaKeys(me,We).then(()=>{this.throwIfDestroyed();const Ct=this.createMediaKeySessionContext({decryptdata:pt,keySystem:me,mediaKeys:We});return this.generateRequestWithPreferredKeySession(Ct,i,o,"encrypted-event-no-match")})})),te.catch(me=>this.handleError(me))}_onWaitingForKey(e){this.log(`"${e.type}" event`)}attemptSetMediaKeys(e,i){const o=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const d=Promise.all(o).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(i)});return this.setMediaKeysQueue.push(d),d.then(()=>{this.log(`Media-keys set for "${e}"`),o.push(d),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(m=>-1===o.indexOf(m))})}generateRequestWithPreferredKeySession(e,i,o,d){var m,v;const I=null==(m=this.config.drmSystems)||null==(v=m[e.keySystem])?void 0:v.generateRequest;if(I)try{const et=I.call(this.hls,i,o,e);if(!et)throw new Error("Invalid response from configured generateRequest filter");i=et.initDataType,o=e.decryptdata.pssh=et.initData?new Uint8Array(et.initData):null}catch(et){var j;if(this.warn(et.message),null!=(j=this.hls)&&j.config.debug)throw et}if(null===o)return this.log(`Skipping key-session request for "${d}" (no initData)`),Promise.resolve(e);const te=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${d}": ${te} (init data type: ${i} length: ${o?o.byteLength:null})`);const me=new wm;e.mediaKeysSession.onmessage=et=>{const pt=e.mediaKeysSession;if(!pt)return void me.emit("error",new Error("invalid state"));const{messageType:Ct,message:Ot}=et;this.log(`"${Ct}" message event for session "${pt.sessionId}" message size: ${Ot.byteLength}`),"license-request"===Ct||"license-renewal"===Ct?this.renewLicense(e,Ot).catch(Zt=>{this.handleError(Zt),me.emit("error",Zt)}):"license-release"===Ct?e.keySystem===So.FAIRPLAY&&(this.updateKeySession(e,A0("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${Ct}"`)},e.mediaKeysSession.onkeystatuseschange=et=>{if(!e.mediaKeysSession)return void me.emit("error",new Error("invalid state"));this.onKeyStatusChange(e);const Ct=e.keyStatus;me.emit("keyStatus",Ct),"expired"===Ct&&(this.warn(`${e.keySystem} expired for key ${te}`),this.renewKeySession(e))};const We=new Promise((et,pt)=>{me.on("error",pt),me.on("keyStatus",Ct=>{Ct.startsWith("usable")?et():"output-restricted"===Ct?pt(new Ya({type:Fi.KEY_SYSTEM_ERROR,details:Vn.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===Ct?pt(new Ya({type:Fi.KEY_SYSTEM_ERROR,details:Vn.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${Ct}"`)):"expired"===Ct?pt(new Error("key expired while generating request")):this.warn(`unhandled key status change "${Ct}"`)})});return e.mediaKeysSession.generateRequest(i,o).then(()=>{var et;this.log(`Request generated for key-session "${null==(et=e.mediaKeysSession)?void 0:et.sessionId}" keyId: ${te}`)}).catch(et=>{throw new Ya({type:Fi.KEY_SYSTEM_ERROR,details:Vn.KEY_SYSTEM_NO_SESSION,error:et,fatal:!1},`Error generating key-session request: ${et}`)}).then(()=>We).catch(et=>{throw me.removeAllListeners(),this.removeSession(e),et}).then(()=>(me.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((i,o)=>{this.log(`key status change "${i}" for keyStatuses keyId: ${Ca_hexDump("buffer"in o?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o))} session keyId: ${Ca_hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=i})}fetchServerCertificate(e){const i=this.config,d=new(0,i.loader)(i),m=this.getServerCertificateUrl(e);return m?(this.log(`Fetching serverCertificate for "${e}"`),new Promise((v,I)=>{const j={responseType:"arraybuffer",url:m},te=i.certLoadPolicy.default;d.load(j,{loadPolicy:te,timeout:te.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(et,pt,Ct,Ot)=>{v(et.data)},onError:(et,pt,Ct,Ot)=>{I(new Ya({type:Fi.KEY_SYSTEM_ERROR,details:Vn.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:Ct,response:ra({url:j.url,data:void 0},et)},`"${e}" certificate request failed (${m}). Status: ${et.code} (${et.text})`))},onTimeout:(et,pt,Ct)=>{I(new Ya({type:Fi.KEY_SYSTEM_ERROR,details:Vn.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:Ct,response:{url:j.url,data:void 0}},`"${e}" certificate request timed out (${m})`))},onAbort:(et,pt,Ct)=>{I(new Error("aborted"))}})})):Promise.resolve()}setMediaKeysServerCertificate(e,i,o){return new Promise((d,m)=>{e.setServerCertificate(o).then(v=>{this.log(`setServerCertificate ${v?"success":"not supported by CDM"} (${o?.byteLength}) on "${i}"`),d(e)}).catch(v=>{m(new Ya({type:Fi.KEY_SYSTEM_ERROR,details:Vn.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:v,fatal:!0},v.message))})})}renewLicense(e,i){return this.requestLicense(e,new Uint8Array(i)).then(o=>this.updateKeySession(e,new Uint8Array(o)).catch(d=>{throw new Ya({type:Fi.KEY_SYSTEM_ERROR,details:Vn.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:d,fatal:!0},d.message)}))}setupLicenseXHR(e,i,o,d){const m=this.config.licenseXhrSetup;return m?Promise.resolve().then(()=>{if(!o.decryptdata)throw new Error("Key removed");return m.call(this.hls,e,i,o,d)}).catch(v=>{if(!o.decryptdata)throw v;return e.open("POST",i,!0),m.call(this.hls,e,i,o,d)}).then(v=>(e.readyState||e.open("POST",i,!0),{xhr:e,licenseChallenge:v||d})):(e.open("POST",i,!0),Promise.resolve({xhr:e,licenseChallenge:d}))}requestLicense(e,i){const o=this.config.keyLoadPolicy.default;return new Promise((d,m)=>{const v=this.getLicenseServerUrl(e.keySystem);this.log(`Sending license request to URL: ${v}`);const I=new XMLHttpRequest;I.responseType="arraybuffer",I.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return m(new Error("invalid state"));if(4===I.readyState)if(200===I.status){this._requestLicenseFailureCount=0;let j=I.response;this.log(`License received ${j instanceof ArrayBuffer?j.byteLength:j}`);const te=this.config.licenseResponseCallback;if(te)try{j=te.call(this.hls,I,v,e)}catch(me){this.error(me)}d(j)}else{const j=o.errorRetry,te=j?j.maxNumRetry:0;this._requestLicenseFailureCount++,this._requestLicenseFailureCount>te||I.status>=400&&I.status<500?m(new Ya({type:Fi.KEY_SYSTEM_ERROR,details:Vn.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:I,response:{url:v,data:void 0,code:I.status,text:I.statusText}},`License Request XHR failed (${v}). Status: ${I.status} (${I.statusText})`)):(this.warn(`Retrying license request, ${te-this._requestLicenseFailureCount+1} attempts left`),this.requestLicense(e,i).then(d,m))}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=I,this.setupLicenseXHR(I,v,e,i).then(({xhr:j,licenseChallenge:te})=>{j.send(te)})})}onMediaAttached(e,i){if(!this.config.emeEnabled)return;const o=i.media;this.media=o,o.addEventListener("encrypted",this.onMediaEncrypted),o.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,i=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Ku.clearKeyUriToKeyIdMap();const o=i.length;r.CDMCleanupPromise=Promise.all(i.map(d=>this.removeSession(d)).concat(e?.setMediaKeys(null).catch(d=>{this.log(`Could not clear media keys: ${d}. media.src: ${e?.src}`)}))).then(()=>{o&&(this.log("finished closing key sessions and clearing media keys"),i.length=0)}).catch(d=>{this.log(`Could not close sessions and clear media keys: ${d}. media.src: ${e?.src}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:i}){if(i&&this.config.emeEnabled&&!this.keyFormatPromise){const o=i.reduce((d,m)=>(-1===d.indexOf(m.keyFormat)&&d.push(m.keyFormat),d),[]);this.log(`Selecting key-system from session-keys ${o.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(o)}}removeSession(e){const{mediaKeysSession:i,licenseXhr:o}=e;if(i){this.log(`Remove licenses and keys and close session ${i.sessionId}`),i.onmessage=null,i.onkeystatuseschange=null,o&&o.readyState!==XMLHttpRequest.DONE&&o.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const d=this.mediaKeySessions.indexOf(e);return d>-1&&this.mediaKeySessions.splice(d,1),i.remove().catch(m=>{this.log(`Could not remove session: ${m}`)}).then(()=>i.close()).catch(m=>{this.log(`Could not close session: ${m}`)})}}}return r.CDMCleanupPromise=void 0,r})();class Ya extends Error{constructor(n,e){super(e),this.data=void 0,n.error||(n.error=new Error(e)),this.data=n,n.err=n.error}}class jc{constructor(n){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=o=>{try{this.apply(o,{ot:"m",su:!this.initialized})}catch(d){Dn.warn("Could not generate manifest CMCD data.",d)}},this.applyFragmentData=o=>{try{const d=o.frag,m=this.hls.levels[d.level],v=this.getObjectType(d),I={d:1e3*d.duration,ot:v};("v"===v||"a"===v||"av"==v)&&(I.br=m.bitrate/1e3,I.tb=this.getTopBandwidth(v)/1e3,I.bl=this.getBufferLength(v)),this.apply(o,I)}catch(d){Dn.warn("Could not generate segment CMCD data.",d)}},this.hls=n;const e=this.config=n.config,{cmcd:i}=e;null!=i&&(e.pLoader=this.createPlaylistLoader(),e.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||jc.uuid(),this.cid=i.contentId,this.useHeaders=!0===i.useHeaders,this.registerListeners())}registerListeners(){const n=this.hls;n.on(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Rt.MEDIA_DETACHED,this.onMediaDetached,this),n.on(Rt.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const n=this.hls;n.off(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Rt.MEDIA_DETACHED,this.onMediaDetached,this),n.off(Rt.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}onMediaAttached(n,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(n,e){var i,o;this.audioBuffer=null==(i=e.tracks.audio)?void 0:i.buffer,this.videoBuffer=null==(o=e.tracks.video)?void 0:o.buffer}createData(){var n;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(n=this.media)?void 0:n.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(n,e={}){if(po(e,this.createData()),this.starved&&("i"===e.ot||"v"===e.ot||"av"===e.ot)&&(e.bs=!0,e.su=!0,this.starved=!1),null==e.su&&(e.su=this.buffering),this.useHeaders){const o=jc.toHeaders(e);if(!Object.keys(o).length)return;n.headers||(n.headers={}),po(n.headers,o)}else{const o=jc.toQuery(e);if(!o)return;n.url=jc.appendQueryToUri(n.url,o)}}getObjectType(n){const{type:e}=n;return"subtitle"===e?"tt":"initSegment"===n.sn?"i":"audio"===e?"a":"main"===e?this.hls.audioTracks.length?"v":"av":void 0}getTopBandwidth(n){let i,e=0;const o=this.hls;if("a"===n)i=o.audioTracks;else{const d=o.maxAutoLevel;i=o.levels.slice(0,d>-1?d+1:o.levels.length)}for(const d of i)d.bitrate>e&&(e=d.bitrate);return e>0?e:NaN}getBufferLength(n){const e=this.hls.media,i="a"===n?this.audioBuffer:this.videoBuffer;return i&&e?1e3*co.bufferInfo(i,e.currentTime,this.config.maxBufferHole).len:NaN}createPlaylistLoader(){const{pLoader:n}=this.config,e=this.applyPlaylistData,i=n||this.config.loader;return class{constructor(d){this.loader=void 0,this.loader=new i(d)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(d,m,v){e(d),this.loader.load(d,m,v)}}}createFragmentLoader(){const{fLoader:n}=this.config,e=this.applyFragmentData,i=n||this.config.loader;return class{constructor(d){this.loader=void 0,this.loader=new i(d)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(d,m,v){e(d),this.loader.load(d,m,v)}}}static uuid(){const n=URL.createObjectURL(new Blob),e=n.toString();return URL.revokeObjectURL(n),e.slice(e.lastIndexOf("/")+1)}static serialize(n){const e=[],i=j=>!Number.isNaN(j)&&null!=j&&""!==j&&!1!==j,o=j=>Math.round(j),d=j=>100*o(j/100),v={br:o,d:o,bl:d,dl:d,mtp:d,nor:j=>encodeURIComponent(j),rtp:d,tb:o},I=Object.keys(n||{}).sort();for(const j of I){let te=n[j];if(!i(te)||"v"===j&&1===te||"pr"==j&&1===te)continue;const me=v[j];me&&(te=me(te));const We=typeof te;let et;et="ot"===j||"sf"===j||"st"===j?`${j}=${te}`:"boolean"===We?j:"number"===We?`${j}=${te}`:`${j}=${JSON.stringify(te)}`,e.push(et)}return e.join(",")}static toHeaders(n){const e=Object.keys(n),i={},o=["Object","Request","Session","Status"],d=[{},{},{},{}],m={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};for(const v of e)d[null!=m[v]?m[v]:1][v]=n[v];for(let v=0;v<d.length;v++){const I=jc.serialize(d[v]);I&&(i[`CMCD-${o[v]}`]=I)}return i}static toQuery(n){return`CMCD=${encodeURIComponent(jc.serialize(n))}`}static appendQueryToUri(n,e){if(!e)return n;const i=n.includes("?")?"&":"?";return`${n}${i}${e}`}}function R_(r,n,e,i){r&&Object.keys(n).forEach(o=>{const d=r.filter(m=>m.groupId===o).map(m=>{const v=po({},m);return v.details=void 0,v.attrs=new go(v.attrs),v.url=v.attrs.URI=Um(m.url,m.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",e),v.groupId=v.attrs["GROUP-ID"]=n[o],v.attrs["PATHWAY-ID"]=i,v});r.push(...d)})}function Um(r,n,e,i){const{HOST:o,PARAMS:d,[e]:m}=i;let v;n&&(v=m?.[n],v&&(r=v));const I=new self.URL(r);return o&&!v&&(I.host=o),d&&Object.keys(d).sort().forEach(j=>{j&&I.searchParams.set(j,d[j])}),I.href}const WD=/^age:\s*[\d.]+\s*$/im;class hE{constructor(n){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=n&&n.xhrSetup||null,this.stats=new id,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}abortInternal(){const n=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),n&&(n.onreadystatechange=null,n.onprogress=null,4!==n.readyState&&(this.stats.aborted=!0,n.abort()))}abort(){var n;this.abortInternal(),null!=(n=this.callbacks)&&n.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(n,e,i){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=n,this.config=e,this.callbacks=i,this.loadInternal()}loadInternal(){const{config:n,context:e}=this;if(!n)return;const i=this.loader=new self.XMLHttpRequest,o=this.stats;o.loading.first=0,o.loaded=0,o.aborted=!1;const d=this.xhrSetup;d?Promise.resolve().then(()=>{if(!this.stats.aborted)return d(i,e.url)}).catch(m=>(i.open("GET",e.url,!0),d(i,e.url))).then(()=>{this.stats.aborted||this.openAndSendXhr(i,e,n)}).catch(m=>{this.callbacks.onError({code:i.status,text:m.message},e,i,o)}):this.openAndSendXhr(i,e,n)}openAndSendXhr(n,e,i){n.readyState||n.open("GET",e.url,!0);const o=this.context.headers,{maxTimeToFirstByteMs:d,maxLoadTimeMs:m}=i.loadPolicy;if(o)for(const v in o)n.setRequestHeader(v,o[v]);e.rangeEnd&&n.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),n.onreadystatechange=this.readystatechange.bind(this),n.onprogress=this.loadprogress.bind(this),n.responseType=e.responseType,self.clearTimeout(this.requestTimeout),i.timeout=d&&Ni(d)?d:m,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout),n.send()}readystatechange(){const{context:n,loader:e,stats:i}=this;if(!n||!e)return;const o=e.readyState,d=this.config;if(!i.aborted&&o>=2&&(0===i.loading.first&&(i.loading.first=Math.max(self.performance.now(),i.loading.start),d.timeout!==d.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),d.timeout=d.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),d.loadPolicy.maxLoadTimeMs-(i.loading.first-i.loading.start)))),4===o)){self.clearTimeout(this.requestTimeout),e.onreadystatechange=null,e.onprogress=null;const m=e.status,v="text"!==e.responseType;if(m>=200&&m<300&&(v&&e.response||null!==e.responseText)){i.loading.end=Math.max(self.performance.now(),i.loading.first);const I=v?e.response:e.responseText;if(i.loaded=i.total="arraybuffer"===e.responseType?I.byteLength:I.length,i.bwEstimate=8e3*i.total/(i.loading.end-i.loading.first),!this.callbacks)return;const te=this.callbacks.onProgress;if(te&&te(i,n,I,e),!this.callbacks)return;this.callbacks.onSuccess({url:e.responseURL,data:I,code:m},i,n,e)}else{const I=d.loadPolicy.errorRetry;_m(I,i.retry,!1,m)?this.retry(I):(Dn.error(`${m} while loading ${n.url}`),this.callbacks.onError({code:m,text:e.statusText},n,e,i))}}}loadtimeout(){var n;const e=null==(n=this.config)?void 0:n.loadPolicy.timeoutRetry;if(_m(e,this.stats.retry,!0))this.retry(e);else{Dn.warn(`timeout while loading ${this.context.url}`);const o=this.callbacks;o&&(this.abortInternal(),o.onTimeout(this.stats,this.context,this.loader))}}retry(n){const{context:e,stats:i}=this;this.retryDelay=Kg(n,i.retry),i.retry++,Dn.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${e.url}, retrying ${i.retry}/${n.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(n){const e=this.stats;e.loaded=n.loaded,n.lengthComputable&&(e.total=n.total)}getCacheAge(){let n=null;if(this.loader&&WD.test(this.loader.getAllResponseHeaders())){const e=this.loader.getResponseHeader("age");n=e?parseFloat(e):null}return n}getResponseHeader(n){return this.loader&&new RegExp(`^${n}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(n):null}}const NA=/(\d+)-(\d+)\/(\d+)/;class mE{constructor(n){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=n.fetchSetup||pE,this.controller=new self.AbortController,this.stats=new id}destroy(){this.loader=this.callbacks=null,this.abortInternal()}abortInternal(){const n=this.response;null!=n&&n.ok||(this.stats.aborted=!0,this.controller.abort())}abort(){var n;this.abortInternal(),null!=(n=this.callbacks)&&n.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(n,e,i){const o=this.stats;if(o.loading.start)throw new Error("Loader can only be used once.");o.loading.start=self.performance.now();const d=function zD(r,n){const e={method:"GET",mode:"cors",credentials:"same-origin",signal:n,headers:new self.Headers(po({},r.headers))};return r.rangeEnd&&e.headers.set("Range","bytes="+r.rangeStart+"-"+String(r.rangeEnd-1)),e}(n,this.controller.signal),m=i.onProgress,v="arraybuffer"===n.responseType,I=v?"byteLength":"length",{maxTimeToFirstByteMs:j,maxLoadTimeMs:te}=e.loadPolicy;this.context=n,this.config=e,this.callbacks=i,this.request=this.fetchSetup(n,d),self.clearTimeout(this.requestTimeout),e.timeout=j&&Ni(j)?j:te,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),i.onTimeout(o,n,this.response)},e.timeout),self.fetch(this.request).then(me=>{this.response=this.loader=me;const We=Math.max(self.performance.now(),o.loading.start);if(self.clearTimeout(this.requestTimeout),e.timeout=te,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),i.onTimeout(o,n,this.response)},te-(We-o.loading.start)),!me.ok){const{status:et,statusText:pt}=me;throw new gE(pt||"fetch, bad network response",et,me)}return o.loading.first=We,o.total=function $D(r){const n=r.get("Content-Range");if(n){const i=function ZD(r){const n=NA.exec(r);if(n)return parseInt(n[2])-parseInt(n[1])+1}(n);if(Ni(i))return i}const e=r.get("Content-Length");if(e)return parseInt(e)}(me.headers)||o.total,m&&Ni(e.highWaterMark)?this.loadProgressively(me,o,n,e.highWaterMark,m):v?me.arrayBuffer():"json"===n.responseType?me.json():me.text()}).then(me=>{const{response:We}=this;self.clearTimeout(this.requestTimeout),o.loading.end=Math.max(self.performance.now(),o.loading.first);const et=me[I];et&&(o.loaded=o.total=et);const pt={url:We.url,data:me,code:We.status};m&&!Ni(e.highWaterMark)&&m(o,n,me,We),i.onSuccess(pt,o,n,We)}).catch(me=>{self.clearTimeout(this.requestTimeout),o.aborted||i.onError({code:me&&me.code||0,text:me?me.message:null},n,me?me.details:null,o)})}getCacheAge(){let n=null;if(this.response){const e=this.response.headers.get("age");n=e?parseFloat(e):null}return n}getResponseHeader(n){return this.response?this.response.headers.get(n):null}loadProgressively(n,e,i,o=0,d){const m=new m_,v=n.body.getReader(),I=()=>v.read().then(j=>{if(j.done)return m.dataLength&&d(e,i,m.flush(),n),Promise.resolve(new ArrayBuffer(0));const te=j.value,me=te.length;return e.loaded+=me,me<o||m.dataLength?(m.push(te),m.dataLength>=o&&d(e,i,m.flush(),n)):d(e,i,te,n),I()}).catch(()=>Promise.reject());return I()}}function pE(r,n){return new self.Request(r.url,n)}class gE extends Error{constructor(n,e,i){super(n),this.code=void 0,this.details=void 0,this.code=e,this.details=i}}const LA=/\s/,qD={newCue(r,n,e,i){const o=[];let d,m,v,I,j;const te=self.VTTCue||self.TextTrackCue;for(let We=0;We<i.rows.length;We++)if(d=i.rows[We],v=!0,I=0,j="",!d.isEmpty()){var me;for(let Ct=0;Ct<d.chars.length;Ct++)LA.test(d.chars[Ct].uchar)&&v?I++:(j+=d.chars[Ct].uchar,v=!1);d.cueStartTime=n,n===e&&(e+=1e-4),I>=16?I--:I++;const et=jD(j.trim()),pt=rE(n,e,et);null!=r&&null!=(me=r.cues)&&me.getCueById(pt)||(m=new te(n,e,et),m.id=pt,m.line=We+1,m.align="left",m.position=10+Math.min(80,10*Math.floor(8*I/32)),o.push(m))}return r&&o.length&&(o.sort((We,et)=>"auto"===We.line||"auto"===et.line?0:We.line>8&&et.line>8?et.line-We.line:We.line-et.line),o.forEach(We=>kg(r,We))),o}},_E=ra(ra({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:hE,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class Kb{constructor(n){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=n;const e=n.config;this.bwEstimator=new h_(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate),this.registerListeners()}registerListeners(){const{hls:n}=this;n.on(Rt.FRAG_LOADING,this.onFragLoading,this),n.on(Rt.FRAG_LOADED,this.onFragLoaded,this),n.on(Rt.FRAG_BUFFERED,this.onFragBuffered,this),n.on(Rt.LEVEL_SWITCHING,this.onLevelSwitching,this),n.on(Rt.LEVEL_LOADED,this.onLevelLoaded,this)}unregisterListeners(){const{hls:n}=this;n.off(Rt.FRAG_LOADING,this.onFragLoading,this),n.off(Rt.FRAG_LOADED,this.onFragLoaded,this),n.off(Rt.FRAG_BUFFERED,this.onFragBuffered,this),n.off(Rt.LEVEL_SWITCHING,this.onLevelSwitching,this),n.off(Rt.LEVEL_LOADED,this.onLevelLoaded,this)}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}onFragLoading(n,e){var i;const o=e.frag;this.ignoreFragment(o)||(this.fragCurrent=o,this.partCurrent=null!=(i=e.part)?i:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}onLevelSwitching(n,e){this.clearTimer()}getTimeToLoadFrag(n,e,i,o){return n+i/e+(o?this.lastLevelLoadSec:0)}onLevelLoaded(n,e){const i=this.hls.config,{total:o,bwEstimate:d}=e.stats;Ni(o)&&Ni(d)&&(this.lastLevelLoadSec=8*o/d),e.details.live?this.bwEstimator.update(i.abrEwmaSlowLive,i.abrEwmaFastLive):this.bwEstimator.update(i.abrEwmaSlowVoD,i.abrEwmaFastVoD)}_abandonRulesCheck(){const{fragCurrent:n,partCurrent:e,hls:i}=this,{autoLevelEnabled:o,media:d}=i;if(!n||!d)return;const m=performance.now(),v=e?e.stats:n.stats,I=e?e.duration:n.duration,j=m-v.loading.start;if(v.aborted||v.loaded&&v.loaded===v.total||0===n.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!o||d.paused||!d.playbackRate||!d.readyState)return;const te=i.mainForwardBufferInfo;if(null===te)return;const me=this.bwEstimator.getEstimateTTFB(),We=Math.abs(d.playbackRate);if(j<=Math.max(me,I/(2*We)*1e3))return;const et=te.len/We;if(et>=2*I/We)return;const pt=v.loading.first?v.loading.first-v.loading.start:-1,Ct=v.loaded&&pt>-1,Ot=this.bwEstimator.getEstimate(),{levels:Zt,minAutoLevel:dn}=i,yn=v.total||Math.max(v.loaded,Math.round(I*Zt[n.level].maxBitrate/8));let Cn=j-pt;Cn<1&&Ct&&(Cn=Math.min(j,8*v.loaded/Ot));const Un=Ct?1e3*v.loaded/Cn:0,On=Un?(yn-v.loaded)/Un:8*yn/Ot+me/1e3;if(On<=et)return;const Zn=Un?8*Un:Ot;let kn,ni=Number.POSITIVE_INFINITY;for(kn=n.level-1;kn>dn&&(ni=this.getTimeToLoadFrag(me/1e3,Zn,I*Zt[kn].maxBitrate,!Zt[kn].details),!(ni<et));kn--);ni>=On||ni>10*I||(i.nextLoadLevel=kn,Ct?this.bwEstimator.sample(j-Math.min(me,pt),v.loaded):this.bwEstimator.sampleTTFB(j),this.clearTimer(),Dn.warn(`[abr] Fragment ${n.sn}${e?" part "+e.index:""} of level ${n.level} is loading too slowly;\n      Time to underbuffer: ${et.toFixed(3)} s\n      Estimated load time for current fragment: ${On.toFixed(3)} s\n      Estimated load time for down switch fragment: ${ni.toFixed(3)} s\n      TTFB estimate: ${pt}\n      Current BW estimate: ${Ni(Ot)?(Ot/1024).toFixed(3):"Unknown"} Kb/s\n      New BW estimate: ${(this.bwEstimator.getEstimate()/1024).toFixed(3)} Kb/s\n      Aborting and switching to level ${kn}`),n.loader&&(this.fragCurrent=this.partCurrent=null,n.abortRequests()),i.trigger(Rt.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,part:e,stats:v}))}onFragLoaded(n,{frag:e,part:i}){const o=i?i.stats:e.stats;if("main"===e.type&&this.bwEstimator.sampleTTFB(o.loading.first-o.loading.start),!this.ignoreFragment(e)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){const m=this.hls.levels[e.level],v=(m.loaded?m.loaded.bytes:0)+o.loaded,I=(m.loaded?m.loaded.duration:0)+(i?i.duration:e.duration);m.loaded={bytes:v,duration:I},m.realBitrate=Math.round(8*v/I)}e.bitrateTest&&(this.onFragBuffered(Rt.FRAG_BUFFERED,{stats:o,frag:e,part:i,id:e.type}),e.bitrateTest=!1)}}onFragBuffered(n,e){const{frag:i,part:o}=e,d=null!=o&&o.stats.loaded?o.stats:i.stats;if(d.aborted||this.ignoreFragment(i))return;const m=d.parsing.end-d.loading.start-Math.min(d.loading.first-d.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(m,d.loaded),d.bwEstimate=this.bwEstimator.getEstimate(),this.bitrateTestDelay=i.bitrateTest?m/1e3:0}ignoreFragment(n){return"main"!==n.type||"initSegment"===n.sn}clearTimer(){self.clearInterval(this.timer)}get nextAutoLevel(){const n=this._nextAutoLevel;if(-1!==n&&!this.bwEstimator.canEstimate())return n;let i=this.getNextABRAutoLevel();if(-1!==n){const o=this.hls.levels;if(o.length>Math.max(n,i)&&o[n].loadError<=o[i].loadError)return n}return-1!==n&&(i=Math.min(n,i)),i}getNextABRAutoLevel(){const{fragCurrent:n,partCurrent:e,hls:i}=this,{maxAutoLevel:o,config:d,minAutoLevel:m,media:v}=i,I=e?e.duration:n?n.duration:0,j=v&&0!==v.playbackRate?Math.abs(v.playbackRate):1,te=this.bwEstimator?this.bwEstimator.getEstimate():d.abrEwmaDefaultEstimate,me=i.mainForwardBufferInfo,We=(me?me.len:0)/j;let et=this.findBestLevel(te,m,o,We,d.abrBandWidthFactor,d.abrBandWidthUpFactor);if(et>=0)return et;Dn.trace(`[abr] ${We?"rebuffering expected":"buffer is empty"}, finding optimal quality level`);let pt=I?Math.min(I,d.maxStarvationDelay):d.maxStarvationDelay,Ct=d.abrBandWidthFactor,Ot=d.abrBandWidthUpFactor;if(!We){const Zt=this.bitrateTestDelay;Zt&&(pt=(I?Math.min(I,d.maxLoadingDelay):d.maxLoadingDelay)-Zt,Dn.trace(`[abr] bitrate test took ${Math.round(1e3*Zt)}ms, set first fragment max fetchDuration to ${Math.round(1e3*pt)} ms`),Ct=Ot=1)}return et=this.findBestLevel(te,m,o,We+pt,Ct,Ot),Math.max(et,0)}findBestLevel(n,e,i,o,d,m){var v;const{fragCurrent:I,partCurrent:j,lastLoadedFragLevel:te}=this,{levels:me}=this.hls,We=me[te],et=!(null==We||null==(v=We.details)||!v.live),pt=We?.codecSet,Ct=j?j.duration:I?I.duration:0,Ot=this.bwEstimator.getEstimateTTFB()/1e3;let Zt=e,dn=-1;for(let sn=i;sn>=e;sn--){const yn=me[sn];if(!yn||pt&&yn.codecSet!==pt){yn&&(Zt=Math.min(sn,Zt),dn=Math.max(sn,dn));continue}-1!==dn&&Dn.trace(`[abr] Skipped level(s) ${Zt}-${dn} with CODECS:"${me[dn].attrs.CODECS}"; not compatible with "${We.attrs.CODECS}"`);const Cn=yn.details,Un=(j?Cn?.partTarget:Cn?.averagetargetduration)||Ct;let On;On=sn<=te?d*n:m*n;const Zn=me[sn].maxBitrate,ni=this.getTimeToLoadFrag(Ot,On,Zn*Un,void 0===Cn);if(Dn.trace(`[abr] level:${sn} adjustedbw-bitrate:${Math.round(On-Zn)} avgDuration:${Un.toFixed(1)} maxFetchDuration:${o.toFixed(1)} fetchDuration:${ni.toFixed(1)}`),On>Zn&&(0===ni||!Ni(ni)||et&&!this.bitrateTestDelay||ni<o))return sn}return-1}set nextAutoLevel(n){this._nextAutoLevel=n}},bufferController:class CA{constructor(n){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=()=>{const{media:e,mediaSource:i}=this;Dn.log("[buffer-controller]: Media source opened"),e&&(e.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(Rt.MEDIA_ATTACHED,{media:e})),i&&i.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{Dn.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=()=>{Dn.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=()=>{const{media:e,_objectUrl:i}=this;e&&e.src!==i&&Dn.error(`Media element src was set while attaching MediaSource (${i} > ${e.src})`)},this.hls=n,this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}registerListeners(){const{hls:n}=this;n.on(Rt.MEDIA_ATTACHING,this.onMediaAttaching,this),n.on(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Rt.BUFFER_RESET,this.onBufferReset,this),n.on(Rt.BUFFER_APPENDING,this.onBufferAppending,this),n.on(Rt.BUFFER_CODECS,this.onBufferCodecs,this),n.on(Rt.BUFFER_EOS,this.onBufferEos,this),n.on(Rt.BUFFER_FLUSHING,this.onBufferFlushing,this),n.on(Rt.LEVEL_UPDATED,this.onLevelUpdated,this),n.on(Rt.FRAG_PARSED,this.onFragParsed,this),n.on(Rt.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:n}=this;n.off(Rt.MEDIA_ATTACHING,this.onMediaAttaching,this),n.off(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Rt.BUFFER_RESET,this.onBufferReset,this),n.off(Rt.BUFFER_APPENDING,this.onBufferAppending,this),n.off(Rt.BUFFER_CODECS,this.onBufferCodecs,this),n.off(Rt.BUFFER_EOS,this.onBufferEos,this),n.off(Rt.BUFFER_FLUSHING,this.onBufferFlushing,this),n.off(Rt.LEVEL_UPDATED,this.onLevelUpdated,this),n.off(Rt.FRAG_PARSED,this.onFragParsed,this),n.off(Rt.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new y_(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(n,e){let i=2;(e.audio&&!e.video||!e.altAudio)&&(i=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=i,Dn.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(n,e){const i=this.media=e.media;if(i&&Om){const o=this.mediaSource=new Om;o.addEventListener("sourceopen",this._onMediaSourceOpen),o.addEventListener("sourceended",this._onMediaSourceEnded),o.addEventListener("sourceclose",this._onMediaSourceClose),i.src=self.URL.createObjectURL(o),this._objectUrl=i.src,i.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:n,mediaSource:e,_objectUrl:i}=this;if(e){if(Dn.log("[buffer-controller]: media source detaching"),"open"===e.readyState)try{e.endOfStream()}catch(o){Dn.warn(`[buffer-controller]: onMediaDetaching: ${o.message} while calling endOfStream`)}this.onBufferReset(),e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),n&&(n.removeEventListener("emptied",this._onMediaEmptied),i&&self.URL.revokeObjectURL(i),n.src===i?(n.removeAttribute("src"),n.load()):Dn.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(Rt.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(n=>{const e=this.sourceBuffer[n];try{e&&(this.removeBufferListeners(n),this.mediaSource&&this.mediaSource.removeSourceBuffer(e),this.sourceBuffer[n]=void 0)}catch(i){Dn.warn(`[buffer-controller]: Failed to reset the ${n} buffer`,i)}}),this._initSourceBuffer()}onBufferCodecs(n,e){const i=this.getSourceBufferTypes().length;Object.keys(e).forEach(o=>{if(i){const d=this.tracks[o];if(d&&"function"==typeof d.buffer.changeType){const{id:m,codec:v,levelCodec:I,container:j,metadata:te}=e[o],me=(d.levelCodec||d.codec).replace(zb,"$1"),We=(I||v).replace(zb,"$1");me!==We&&(this.appendChangeType(o,`${j};codecs=${I||v}`),Dn.log(`[buffer-controller]: switching codec ${me} to ${We}`),this.tracks[o]={buffer:d.buffer,codec:v,container:j,levelCodec:I,metadata:te,id:m})}}else this.pendingTracks[o]=e[o]}),!i&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())}appendChangeType(n,e){const{operationQueue:i}=this,o={execute:()=>{const d=this.sourceBuffer[n];d&&(Dn.log(`[buffer-controller]: changing ${n} sourceBuffer type to ${e}`),d.changeType(e)),i.shiftAndExecuteNext(n)},onStart:()=>{},onComplete:()=>{},onError:d=>{Dn.warn(`[buffer-controller]: Failed to change ${n} SourceBuffer type`,d)}};i.append(o,n)}onBufferAppending(n,e){const{hls:i,operationQueue:o,tracks:d}=this,{data:m,type:v,frag:I,part:j,chunkMeta:te}=e,me=te.buffering[v],We=self.performance.now();me.start=We;const et=I.stats.buffering,pt=j?j.stats.buffering:null;0===et.start&&(et.start=We),pt&&0===pt.start&&(pt.start=We);const Ct=d.audio;let Ot=!1;"audio"===v&&"audio/mpeg"===Ct?.container&&(Ot=!this.lastMpegAudioChunk||1===te.id||this.lastMpegAudioChunk.sn!==te.sn,this.lastMpegAudioChunk=te);const Zt=I.start;o.append({execute:()=>{if(me.executeStart=self.performance.now(),Ot){const sn=this.sourceBuffer[v];if(sn){const yn=Zt-sn.timestampOffset;Math.abs(yn)>=.1&&(Dn.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${Zt} (delta: ${yn}) sn: ${I.sn})`),sn.timestampOffset=Zt)}}this.appendExecutor(m,v)},onStart:()=>{},onComplete:()=>{const sn=self.performance.now();me.executeEnd=me.end=sn,0===et.first&&(et.first=sn),pt&&0===pt.first&&(pt.first=sn);const{sourceBuffer:yn}=this,Cn={};for(const Un in yn)Cn[Un]=co.getBuffered(yn[Un]);this.appendError=0,this.hls.trigger(Rt.BUFFER_APPENDED,{type:v,frag:I,part:j,chunkMeta:te,parent:I.type,timeRanges:Cn})},onError:sn=>{Dn.error(`[buffer-controller]: Error encountered while trying to append to the ${v} SourceBuffer`,sn);const yn={type:Fi.MEDIA_ERROR,parent:I.type,details:Vn.BUFFER_APPEND_ERROR,frag:I,part:j,chunkMeta:te,error:sn,err:sn,fatal:!1};sn.code===DOMException.QUOTA_EXCEEDED_ERR?yn.details=Vn.BUFFER_FULL_ERROR:(this.appendError++,yn.details=Vn.BUFFER_APPEND_ERROR,this.appendError>i.config.appendErrorMaxRetry&&(Dn.error(`[buffer-controller]: Failed ${i.config.appendErrorMaxRetry} times to append segment in sourceBuffer`),yn.fatal=!0)),i.trigger(Rt.ERROR,yn)}},v)}onBufferFlushing(n,e){const{operationQueue:i}=this,o=d=>({execute:this.removeExecutor.bind(this,d,e.startOffset,e.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(Rt.BUFFER_FLUSHED,{type:d})},onError:m=>{Dn.warn(`[buffer-controller]: Failed to remove from ${d} SourceBuffer`,m)}});e.type?i.append(o(e.type),e.type):this.getSourceBufferTypes().forEach(d=>{i.append(o(d),d)})}onFragParsed(n,e){const{frag:i,part:o}=e,d=[],m=o?o.elementaryStreams:i.elementaryStreams;m.audiovideo?d.push("audiovideo"):(m.audio&&d.push("audio"),m.video&&d.push("video")),0===d.length&&Dn.warn(`Fragments must have at least one ElementaryStreamType set. type: ${i.type} level: ${i.level} sn: ${i.sn}`),this.blockBuffers(()=>{const I=self.performance.now();i.stats.buffering.end=I,o&&(o.stats.buffering.end=I),this.hls.trigger(Rt.FRAG_BUFFERED,{frag:i,part:o,stats:o?o.stats:i.stats,id:i.type})},d)}onFragChanged(n,e){this.flushBackBuffer()}onBufferEos(n,e){this.getSourceBufferTypes().reduce((o,d)=>{const m=this.sourceBuffer[d];return m&&(!e.type||e.type===d)&&(m.ending=!0,m.ended||(m.ended=!0,Dn.log(`[buffer-controller]: ${d} sourceBuffer now EOS`))),o&&!(m&&!m.ended)},!0)&&(Dn.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(d=>{const m=this.sourceBuffer[d];m&&(m.ending=!1)});const{mediaSource:o}=this;o&&"open"===o.readyState?(Dn.log("[buffer-controller]: Calling mediaSource.endOfStream()"),o.endOfStream()):o&&Dn.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${o.readyState}`)}))}onLevelUpdated(n,{details:e}){e.fragments.length&&(this.details=e,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}flushBackBuffer(){const{hls:n,details:e,media:i,sourceBuffer:o}=this;if(!i||null===e)return;const d=this.getSourceBufferTypes();if(!d.length)return;const m=e.live&&null!==n.config.liveBackBufferLength?n.config.liveBackBufferLength:n.config.backBufferLength;if(!Ni(m)||m<0)return;const v=i.currentTime,I=e.levelTargetDuration,j=Math.max(m,I),te=Math.floor(v/I)*I-j;d.forEach(me=>{const We=o[me];if(We){const et=co.getBuffered(We);if(et.length>0&&te>et.start(0)){if(n.trigger(Rt.BACK_BUFFER_REACHED,{bufferEnd:te}),e.live)n.trigger(Rt.LIVE_BACK_BUFFER_REACHED,{bufferEnd:te});else if(We.ended&&et.end(et.length-1)-v<2*I)return void Dn.info(`[buffer-controller]: Cannot flush ${me} back buffer while SourceBuffer is in ended state`);n.trigger(Rt.BUFFER_FLUSHING,{startOffset:0,endOffset:te,type:me})}}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:n,hls:e,media:i,mediaSource:o}=this,d=n.fragments[0].start+n.totalduration,m=i.duration,v=Ni(o.duration)?o.duration:0;n.live&&e.config.liveDurationInfinity?(Dn.log("[buffer-controller]: Media Source duration is set to Infinity"),o.duration=1/0,this.updateSeekableRange(n)):(d>v&&d>m||!Ni(m))&&(Dn.log(`[buffer-controller]: Updating Media Source duration to ${d.toFixed(3)}`),o.duration=d)}updateSeekableRange(n){const e=this.mediaSource,i=n.fragments;if(i.length&&n.live&&null!=e&&e.setLiveSeekableRange){const d=Math.max(0,i[0].start),m=Math.max(d,d+n.totalduration);e.setLiveSeekableRange(d,m)}}checkPendingTracks(){const{bufferCodecEventsExpected:n,operationQueue:e,pendingTracks:i}=this,o=Object.keys(i).length;if(o&&!n||2===o){this.createSourceBuffers(i),this.pendingTracks={};const d=this.getSourceBufferTypes();if(d.length)this.hls.trigger(Rt.BUFFER_CREATED,{tracks:this.tracks}),d.forEach(m=>{e.executeNext(m)});else{const m=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Rt.ERROR,{type:Fi.MEDIA_ERROR,details:Vn.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:m,reason:m.message})}}}createSourceBuffers(n){const{sourceBuffer:e,mediaSource:i}=this;if(!i)throw Error("createSourceBuffers called when mediaSource was null");for(const o in n)if(!e[o]){const d=n[o];if(!d)throw Error(`source buffer exists for track ${o}, however track does not`);const m=d.levelCodec||d.codec,v=`${d.container};codecs=${m}`;Dn.log(`[buffer-controller]: creating sourceBuffer(${v})`);try{const I=e[o]=i.addSourceBuffer(v),j=o;this.addBufferListener(j,"updatestart",this._onSBUpdateStart),this.addBufferListener(j,"updateend",this._onSBUpdateEnd),this.addBufferListener(j,"error",this._onSBUpdateError),this.tracks[o]={buffer:I,codec:m,container:d.container,levelCodec:d.levelCodec,metadata:d.metadata,id:d.id}}catch(I){Dn.error(`[buffer-controller]: error while trying to add sourceBuffer: ${I.message}`),this.hls.trigger(Rt.ERROR,{type:Fi.MEDIA_ERROR,details:Vn.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:I,mimeType:v})}}}_onSBUpdateStart(n){const{operationQueue:e}=this;e.current(n).onStart()}_onSBUpdateEnd(n){const{operationQueue:e}=this;e.current(n).onComplete(),e.shiftAndExecuteNext(n)}_onSBUpdateError(n,e){const i=new Error(`${n} SourceBuffer error`);Dn.error(`[buffer-controller]: ${i}`,e),this.hls.trigger(Rt.ERROR,{type:Fi.MEDIA_ERROR,details:Vn.BUFFER_APPENDING_ERROR,error:i,fatal:!1});const o=this.operationQueue.current(n);o&&o.onError(e)}removeExecutor(n,e,i){const{media:o,mediaSource:d,operationQueue:m,sourceBuffer:v}=this,I=v[n];if(!o||!d||!I)return Dn.warn(`[buffer-controller]: Attempting to remove from the ${n} SourceBuffer, but it does not exist`),void m.shiftAndExecuteNext(n);const j=Ni(o.duration)?o.duration:1/0,te=Ni(d.duration)?d.duration:1/0,me=Math.max(0,e),We=Math.min(i,j,te);We>me&&!I.ending?(I.ended=!1,Dn.log(`[buffer-controller]: Removing [${me},${We}] from the ${n} SourceBuffer`),I.remove(me,We)):m.shiftAndExecuteNext(n)}appendExecutor(n,e){const{operationQueue:i,sourceBuffer:o}=this,d=o[e];if(!d)return Dn.warn(`[buffer-controller]: Attempting to append to the ${e} SourceBuffer, but it does not exist`),void i.shiftAndExecuteNext(e);d.ended=!1,d.appendBuffer(n)}blockBuffers(n,e=this.getSourceBufferTypes()){if(!e.length)return Dn.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(n);const{operationQueue:i}=this,o=e.map(d=>i.appendBlocker(d));Promise.all(o).then(()=>{n(),e.forEach(d=>{const m=this.sourceBuffer[d];null!=m&&m.updating||i.shiftAndExecuteNext(d)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(n,e,i){const o=this.sourceBuffer[n];if(!o)return;const d=i.bind(this,n);this.listeners[n].push({event:e,listener:d}),o.addEventListener(e,d)}removeBufferListeners(n){const e=this.sourceBuffer[n];e&&this.listeners[n].forEach(i=>{e.removeEventListener(i.event,i.listener)})}},capLevelController:P_,errorController:class aD{constructor(n){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=n,this.log=Dn.log.bind(Dn,"[info]:"),this.warn=Dn.warn.bind(Dn,"[warning]:"),this.error=Dn.error.bind(Dn,"[error]:"),this.registerListeners()}registerListeners(){const n=this.hls;n.on(Rt.ERROR,this.onError,this),n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const n=this.hls;n&&(n.off(Rt.ERROR,this.onError,this),n.off(Rt.ERROR,this.onErrorOut,this),n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(n){this.playlistError=0}stopLoad(){}getVariantLevelIndex(n){return"main"===n?.type?n.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(n,e){var i,o;if(e.fatal)return;const d=this.hls,m=e.context;switch(e.details){case Vn.FRAG_LOAD_ERROR:case Vn.FRAG_LOAD_TIMEOUT:case Vn.KEY_LOAD_ERROR:case Vn.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case Vn.FRAG_PARSING_ERROR:if(null!=(i=e.frag)&&i.gap)return void(e.errorAction={action:0,flags:0});case Vn.FRAG_GAP:case Vn.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=2);case Vn.LEVEL_EMPTY_ERROR:case Vn.LEVEL_PARSING_ERROR:{var v,I;const j="main"===e.parent?e.level:d.loadLevel;e.details===Vn.LEVEL_EMPTY_ERROR&&null!=(v=e.context)&&null!=(I=v.levelDetails)&&I.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,j):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,j))}return;case Vn.LEVEL_LOAD_ERROR:case Vn.LEVEL_LOAD_TIMEOUT:return void("number"==typeof m?.level&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,m.level)));case Vn.AUDIO_TRACK_LOAD_ERROR:case Vn.AUDIO_TRACK_LOAD_TIMEOUT:case Vn.SUBTITLE_LOAD_ERROR:case Vn.SUBTITLE_TRACK_LOAD_TIMEOUT:if(m){const j=d.levels[d.loadLevel];if(j&&("audioTrack"===m.type&&m.groupId===j.audioGroupId||"subtitleTrack"===m.type&&m.groupId===j.textGroupId))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,d.loadLevel),e.errorAction.action=2,void(e.errorAction.flags=1)}return;case Vn.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const j=d.levels[d.loadLevel],te=j?.attrs["HDCP-LEVEL"];te&&(e.errorAction={action:2,flags:2,hdcpLevel:te})}return;case Vn.BUFFER_ADD_CODEC_ERROR:case Vn.REMUX_ALLOC_ERROR:return void(e.errorAction=this.getLevelSwitchAction(e,null!=(o=e.level)?o:d.loadLevel));case Vn.INTERNAL_EXCEPTION:case Vn.BUFFER_APPENDING_ERROR:case Vn.BUFFER_APPEND_ERROR:case Vn.BUFFER_FULL_ERROR:case Vn.LEVEL_SWITCH_ERROR:case Vn.BUFFER_STALLED_ERROR:case Vn.BUFFER_SEEK_OVER_HOLE:case Vn.BUFFER_NUDGE_ON_STALL:return void(e.errorAction={action:0,flags:0})}if(e.type===Fi.KEY_SYSTEM_ERROR){const j=this.getVariantLevelIndex(e.frag);return e.levelRetry=!1,void(e.errorAction=this.getLevelSwitchAction(e,j))}}getPlaylistRetryOrSwitchAction(n,e){var i;const d=lb(this.hls.config.playlistLoadPolicy,n),m=this.playlistError++,v=null==(i=n.response)?void 0:i.code;if(_m(d,m,gm(n),v))return{action:5,flags:0,retryConfig:d,retryCount:m};const j=this.getLevelSwitchAction(n,e);return d&&(j.retryConfig=d,j.retryCount=m),j}getFragRetryOrSwitchAction(n){const e=this.hls,i=this.getVariantLevelIndex(n.frag),o=e.levels[i],{fragLoadPolicy:d,keyLoadPolicy:m}=e.config,v=lb(n.details.startsWith("key")?m:d,n),I=e.levels.reduce((me,We)=>me+We.fragmentError,0);if(o){var j;n.details!==Vn.FRAG_GAP&&o.fragmentError++;const me=null==(j=n.response)?void 0:j.code;if(_m(v,I,gm(n),me))return{action:5,flags:0,retryConfig:v,retryCount:I}}const te=this.getLevelSwitchAction(n,i);return v&&(te.retryConfig=v,te.retryCount=I),te}getLevelSwitchAction(n,e){const i=this.hls;null==e&&(e=i.loadLevel);const o=this.hls.levels[e];if(o&&(o.loadError++,i.autoLevelEnabled)){var d,m;let v=-1;const{levels:I,loadLevel:j,minAutoLevel:te,maxAutoLevel:me}=i,We=null==(d=n.frag)?void 0:d.type,{type:et,groupId:pt}=null!=(m=n.context)?m:{};for(let Ct=I.length;Ct--;){const Ot=(Ct+j)%I.length;if(Ot!==j&&Ot>=te&&Ot<=me&&0===I[Ot].loadError){const Zt=I[Ot];if(n.details===Vn.FRAG_GAP&&n.frag){const dn=I[Ot].details;if(dn){const sn=rd(n.frag,dn.fragments,n.frag.start);if(null!=sn&&sn.gap)continue}}else{if("audioTrack"===et&&pt===Zt.audioGroupId||"subtitleTrack"===et&&pt===Zt.textGroupId)continue;if("audio"===We&&o.audioGroupId===Zt.audioGroupId||"subtitle"===We&&o.textGroupId===Zt.textGroupId)continue}v=Ot;break}}if(v>-1&&i.loadLevel!==v)return n.levelRetry=!0,this.playlistError=0,{action:2,flags:0,nextAutoLevel:v}}return{action:2,flags:1}}onErrorOut(n,e){var i;switch(null==(i=e.errorAction)?void 0:i.action){case 0:break;case 2:this.sendAlternateToPenaltyBox(e),!e.errorAction.resolved&&e.details!==Vn.FRAG_GAP&&(e.fatal=!0)}e.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(n){const e=this.hls,i=n.errorAction;if(!i)return;const{flags:o,hdcpLevel:d,nextAutoLevel:m}=i;switch(o){case 0:this.switchLevel(n,m);break;case 1:i.resolved||(i.resolved=this.redundantFailover(n));break;case 2:d&&(e.maxHdcpLevel=Bg[Bg.indexOf(d)-1],i.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${e.maxHdcpLevel}" or lower`)}i.resolved||this.switchLevel(n,m)}switchLevel(n,e){void 0!==e&&n.errorAction&&(this.warn(`switching to level ${e} after ${n.details}`),this.hls.nextAutoLevel=e,n.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}redundantFailover(n){const{hls:e,penalizedRenditions:i}=this,o="main"===n.parent?n.level:e.loadLevel,d=e.levels[o],m=d.url.length,v=n.frag?n.frag.urlId:d.urlId;d.urlId===v&&(!n.frag||d.details)&&this.penalizeRendition(d,n);for(let I=1;I<m;I++){const j=(v+I)%m,te=i[j];if(!te||lD(te,n,i[v]))return this.warn(`Switching to Redundant Stream ${j+1}/${m}: "${d.url[j]}" after ${n.details}`),this.playlistError=0,e.levels.forEach(me=>{me.urlId=j}),e.nextLoadLevel=o,!0}return!1}penalizeRendition(n,e){const{penalizedRenditions:i}=this,o=i[n.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};o.lastErrorPerfMs=performance.now(),o.errors.push(e),o.details=n.details,i[n.urlId]=o}},fpsController:class KD{constructor(n){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=n,this.registerListeners()}setStreamController(n){this.streamController=n}registerListeners(){this.hls.on(Rt.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(Rt.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(n,e){const i=this.hls.config;if(i.capLevelOnFPSDrop){const o=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=o,o&&"function"==typeof o.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),i.fpsDroppedMonitoringPeriod)}}checkFPS(n,e,i){const o=performance.now();if(e){if(this.lastTime){const m=i-this.lastDroppedFrames,v=e-this.lastDecodedFrames,I=1e3*m/(o-this.lastTime),j=this.hls;if(j.trigger(Rt.FPS_DROP,{currentDropped:m,currentDecoded:v,totalDroppedFrames:i}),I>0&&m>j.config.fpsDroppedMonitoringThreshold*v){let te=j.currentLevel;Dn.warn("drop FPS ratio greater than max allowed value for currentLevel: "+te),te>0&&(-1===j.autoLevelCapping||j.autoLevelCapping>=te)&&(te-=1,j.trigger(Rt.FPS_DROP_LEVEL_CAPPING,{level:te,droppedLevel:j.currentLevel}),j.autoLevelCapping=te,this.streamController.nextLevelSwitch())}}this.lastTime=o,this.lastDroppedFrames=i,this.lastDecodedFrames=e}}checkFPSInterval(){const n=this.media;if(n)if(this.isVideoPlaybackQualityAvailable){const e=n.getVideoPlaybackQuality();this.checkFPS(n,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(n,n.webkitDecodedFrameCount,n.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:P0,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},function vE(){return{cueHandler:qD,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}()),{},{subtitleStreamController:class LD extends e_{constructor(n,e,i){super(n,e,i,"[subtitle-stream-controller]","subtitle"),this.levels=[],this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null}_registerListeners(){const{hls:n}=this;n.on(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.LEVEL_LOADED,this.onLevelLoaded,this),n.on(Rt.ERROR,this.onError,this),n.on(Rt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.on(Rt.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),n.on(Rt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.on(Rt.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),n.on(Rt.BUFFER_FLUSHING,this.onBufferFlushing,this),n.on(Rt.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:n}=this;n.off(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.LEVEL_LOADED,this.onLevelLoaded,this),n.off(Rt.ERROR,this.onError,this),n.off(Rt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.off(Rt.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),n.off(Rt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.off(Rt.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),n.off(Rt.BUFFER_FLUSHING,this.onBufferFlushing,this),n.off(Rt.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(n){this.stopLoad(),this.state="IDLE",this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=n,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(n,e){this.mainDetails=e.details}onSubtitleFragProcessed(n,e){const{frag:i,success:o}=e;if(this.fragPrevious=i,this.state="IDLE",!o)return;const d=this.tracksBuffered[this.currentTrackId];if(!d)return;let m;const v=i.start;for(let j=0;j<d.length;j++)if(v>=d[j].start&&v<=d[j].end){m=d[j];break}const I=i.start+i.duration;m?m.end=I:(m={start:v,end:I},d.push(m)),this.fragmentTracker.fragBuffered(i)}onBufferFlushing(n,e){const{startOffset:i,endOffset:o}=e;if(0===i&&o!==Number.POSITIVE_INFINITY){const d=o-1;if(d<=0)return;e.endOffsetSubtitles=Math.max(0,d),this.tracksBuffered.forEach(m=>{for(let v=0;v<m.length;)if(m[v].end<=d)m.shift();else{if(!(m[v].start<d))break;m[v].start=d,v++}}),this.fragmentTracker.removeFragmentsInRange(i,d,"subtitle")}}onFragBuffered(n,e){var i;this.loadedmetadata||"main"!==e.frag.type||null!=(i=this.media)&&i.buffered.length&&(this.loadedmetadata=!0)}onError(n,e){const i=e.frag;"subtitle"===i?.type&&(this.fragCurrent&&this.fragCurrent.abortRequests(),"STOPPED"!==this.state&&(this.state="IDLE"))}onSubtitleTracksUpdated(n,{subtitleTracks:e}){g_(this.levels,e)?this.levels=e.map(i=>new Vf(i)):(this.tracksBuffered=[],this.levels=e.map(i=>{const o=new Vf(i);return this.tracksBuffered[o.id]=[],o}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,"subtitle"),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(n,e){if(this.currentTrackId=e.id,!this.levels.length||-1===this.currentTrackId)return void this.clearInterval();const i=this.levels[this.currentTrackId];this.mediaBuffer=null!=i&&i.details?this.mediaBufferTimeRanges:null,i&&this.setInterval(500)}onSubtitleTrackLoaded(n,e){var i;const{details:o,id:d}=e,{currentTrackId:m,levels:v}=this;if(!v.length)return;const I=v[m];if(d>=v.length||d!==m||!I)return;this.mediaBuffer=this.mediaBufferTimeRanges;let j=0;if(o.live||null!=(i=I.details)&&i.live){const te=this.mainDetails;if(o.deltaUpdateFailed||!te)return;const me=te.fragments[0];I.details?(j=this.alignPlaylists(o,I.details),0===j&&me&&(j=me.start,Vg(o,j))):o.hasProgramDateTime&&te.hasProgramDateTime?(Jg(o,te),j=o.fragments[0].start):me&&(j=me.start,Vg(o,j))}I.details=o,this.levelLastLoaded=d,!this.startFragRequested&&(this.mainDetails||!o.live)&&this.setStartPosition(I.details,j),this.tick(),o.live&&!this.fragCurrent&&this.media&&"IDLE"===this.state&&(rd(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),I.details=void 0))}_handleFragmentLoadComplete(n){const{frag:e,payload:i}=n,o=e.decryptdata,d=this.hls;if(!this.fragContextChanged(e)&&i&&i.byteLength>0&&o&&o.key&&o.iv&&"AES-128"===o.method){const m=performance.now();this.decrypter.decrypt(new Uint8Array(i),o.key.buffer,o.iv.buffer).catch(v=>{throw d.trigger(Rt.ERROR,{type:Fi.MEDIA_ERROR,details:Vn.FRAG_DECRYPT_ERROR,fatal:!1,error:v,reason:v.message,frag:e}),v}).then(v=>{const I=performance.now();d.trigger(Rt.FRAG_DECRYPTED,{frag:e,payload:v,stats:{tstart:m,tdecrypt:I}})}).catch(v=>{this.warn(`${v.name}: ${v.message}`),this.state="IDLE"})}}doTick(){if(this.media){if("IDLE"===this.state){const{currentTrackId:n,levels:e}=this,i=e[n];if(!e.length||!i||!i.details)return;const{config:o}=this,d=this.getLoadPosition(),m=co.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],d,o.maxBufferHole),{end:v,len:I}=m,j=this.getFwdBufferInfo(this.media,"main"),te=i.details;if(I>this.getMaxBufferLength(j?.len)+te.levelTargetDuration)return;const We=te.fragments,et=We.length,pt=te.edge;let Ct=null;const Ot=this.fragPrevious;if(v<pt){const Zt=o.maxFragLookUpTolerance,dn=v>pt-Zt?0:Zt;Ct=rd(Ot,We,Math.max(We[0].start,v),dn),!Ct&&Ot&&Ot.start<We[0].start&&(Ct=We[0])}else Ct=We[et-1];if(!Ct)return;if(Ct=this.mapToInitFragWhenRequired(Ct),"initSegment"!==Ct.sn){const dn=We[Ct.sn-te.startSN-1];dn&&dn.cc===Ct.cc&&"NOT_LOADED"===this.fragmentTracker.getState(dn)&&(Ct=dn)}"NOT_LOADED"===this.fragmentTracker.getState(Ct)&&this.loadFragment(Ct,i,v)}}else this.state="IDLE"}getMaxBufferLength(n){const e=super.getMaxBufferLength();return n?Math.max(e,n):e}loadFragment(n,e,i){this.fragCurrent=n,"initSegment"===n.sn?this._loadInitSegment(n,e):(this.startFragRequested=!0,super.loadFragment(n,e,i))}get mediaBufferTimeRanges(){return new v_(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class sd extends Gf{constructor(n){super(n,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.trackChangeListener=()=>this.onTextTracksChanged(),this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(n){this._subtitleDisplay=n,this.trackId>-1&&this.toggleTrackModes(this.trackId)}registerListeners(){const{hls:n}=this;n.on(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Rt.LEVEL_LOADING,this.onLevelLoading,this),n.on(Rt.LEVEL_SWITCHING,this.onLevelSwitching,this),n.on(Rt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.on(Rt.ERROR,this.onError,this)}unregisterListeners(){const{hls:n}=this;n.off(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Rt.LEVEL_LOADING,this.onLevelLoading,this),n.off(Rt.LEVEL_SWITCHING,this.onLevelSwitching,this),n.off(Rt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),n.off(Rt.ERROR,this.onError,this)}onMediaAttached(n,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(n){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,n)}onMediaDetaching(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),Pm(this.media.textTracks).forEach(e=>{Bf(e)}),this.subtitleTrack=-1,this.media=null)}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(n,e){this.tracks=e.subtitleTracks}onSubtitleTrackLoaded(n,e){const{id:i,details:o}=e,{trackId:d}=this,m=this.tracksInGroup[d];if(!m)return void this.warn(`Invalid subtitle track id ${i}`);const v=m.details;m.details=e.details,this.log(`subtitle track ${i} loaded [${o.startSN}-${o.endSN}]`),i===this.trackId&&this.playlistLoaded(i,e,v)}onLevelLoading(n,e){this.switchLevel(e.level)}onLevelSwitching(n,e){this.switchLevel(e.level)}switchLevel(n){const e=this.hls.levels[n];if(null==e||!e.textGroupIds)return;const i=e.textGroupIds[e.urlId],o=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==i){const d=this.tracks.filter(I=>!i||I.groupId===i);this.tracksInGroup=d;const m=this.findTrackId(o?.name)||this.findTrackId();this.groupId=i||null;const v={subtitleTracks:d};this.log(`Updating subtitle tracks, ${d.length} track(s) found in "${i}" group-id`),this.hls.trigger(Rt.SUBTITLE_TRACKS_UPDATED,v),-1!==m&&this.setSubtitleTrack(m,o)}else this.shouldReloadPlaylist(o)&&this.setSubtitleTrack(this.trackId,o)}findTrackId(n){const e=this.tracksInGroup;for(let i=0;i<e.length;i++){const o=e[i];if((!this.selectDefaultTrack||o.default)&&(!n||n===o.name))return o.id}return-1}onError(n,e){e.fatal||!e.context||"subtitleTrack"===e.context.type&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&this.checkRetry(e)}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(n){this.selectDefaultTrack=!1,this.setSubtitleTrack(n,this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0)}loadPlaylist(n){super.loadPlaylist();const e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){const i=e.id,o=e.groupId;let d=e.url;if(n)try{d=n.addDirectives(d)}catch(m){this.warn(`Could not construct new URL with HLS Delivery Directives: ${m}`)}this.log(`Loading subtitle playlist for id ${i}`),this.hls.trigger(Rt.SUBTITLE_TRACK_LOADING,{url:d,id:i,groupId:o,deliveryDirectives:n||null})}}toggleTrackModes(n){const{media:e,trackId:i}=this;if(!e)return;const o=Pm(e.textTracks),d=o.filter(v=>v.groupId===this.groupId);if(-1===n)[].slice.call(o).forEach(v=>{v.mode="disabled"});else{const v=d[i];v&&(v.mode="disabled")}const m=d[n];m&&(m.mode=this.subtitleDisplay?"showing":"hidden")}setSubtitleTrack(n,e){var i;const o=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=n);if(this.trackId!==n&&this.toggleTrackModes(n),this.trackId===n&&(-1===n||null!=(i=o[n])&&i.details)||n<-1||n>=o.length)return;this.clearTimer();const d=o[n];if(this.log(`Switching to subtitle-track ${n}`+(d?` "${d.name}" lang:${d.lang} group:${d.groupId}`:"")),this.trackId=n,d){const{id:m,groupId:v="",name:I,type:j,url:te}=d;this.hls.trigger(Rt.SUBTITLE_TRACK_SWITCH,{id:m,groupId:v,name:I,type:j,url:te});const me=this.switchParams(d.url,e?.details);this.loadPlaylist(me)}else this.hls.trigger(Rt.SUBTITLE_TRACK_SWITCH,{id:n})}onTextTracksChanged(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let n=-1;const e=Pm(this.media.textTracks);for(let i=0;i<e.length;i++)if("hidden"===e[i].mode)n=i;else if("showing"===e[i].mode){n=i;break}this.subtitleTrack!==n&&(this.subtitleTrack=n)}},timelineController:class wA{constructor(n){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=n,this.config=n.config,this.Cues=n.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){const e=new Zf(this,"textTrack1"),i=new Zf(this,"textTrack2"),o=new Zf(this,"textTrack3"),d=new Zf(this,"textTrack4");this.cea608Parser1=new S_(1,e,i),this.cea608Parser2=new S_(3,o,d)}n.on(Rt.MEDIA_ATTACHING,this.onMediaAttaching,this),n.on(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.MANIFEST_LOADED,this.onManifestLoaded,this),n.on(Rt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.on(Rt.FRAG_LOADING,this.onFragLoading,this),n.on(Rt.FRAG_LOADED,this.onFragLoaded,this),n.on(Rt.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),n.on(Rt.FRAG_DECRYPTED,this.onFragDecrypted,this),n.on(Rt.INIT_PTS_FOUND,this.onInitPtsFound,this),n.on(Rt.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),n.on(Rt.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:n}=this;n.off(Rt.MEDIA_ATTACHING,this.onMediaAttaching,this),n.off(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.MANIFEST_LOADED,this.onManifestLoaded,this),n.off(Rt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),n.off(Rt.FRAG_LOADING,this.onFragLoading,this),n.off(Rt.FRAG_LOADED,this.onFragLoaded,this),n.off(Rt.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),n.off(Rt.FRAG_DECRYPTED,this.onFragDecrypted,this),n.off(Rt.INIT_PTS_FOUND,this.onInitPtsFound,this),n.off(Rt.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),n.off(Rt.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}addCues(n,e,i,o,d){let m=!1;for(let v=d.length;v--;){const I=d[v],j=cE(I[0],I[1],e,i);if(j>=0&&(I[0]=Math.min(I[0],e),I[1]=Math.max(I[1],i),m=!0,j/(i-e)>.5))return}if(m||d.push([e,i]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[n],e,i,o);else{const v=this.Cues.newCue(null,e,i,o);this.hls.trigger(Rt.CUES_PARSED,{type:"captions",cues:v,track:n})}}onInitPtsFound(n,{frag:e,id:i,initPTS:o,timescale:d}){const{unparsedVttFrags:m}=this;"main"===i&&(this.initPTS[e.cc]={baseTime:o,timescale:d}),m.length&&(this.unparsedVttFrags=[],m.forEach(v=>{this.onFragLoaded(Rt.FRAG_LOADED,v)}))}getExistingTrack(n){const{media:e}=this;if(e)for(let i=0;i<e.textTracks.length;i++){const o=e.textTracks[i];if(o[n])return o}return null}createCaptionsTrack(n){this.config.renderTextTracksNatively?this.createNativeTrack(n):this.createNonNativeTrack(n)}createNativeTrack(n){if(this.captionsTracks[n])return;const{captionsProperties:e,captionsTracks:i,media:o}=this,{label:d,languageCode:m}=e[n],v=this.getExistingTrack(n);if(v)i[n]=v,Bf(i[n]),eb(i[n],o);else{const I=this.createTextTrack("captions",d,m);I&&(I[n]=!0,i[n]=I)}}createNonNativeTrack(n){if(this.nonNativeCaptionsTracks[n])return;const e=this.captionsProperties[n];if(!e)return;const o={_id:n,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[n]=o,this.hls.trigger(Rt.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[o]})}createTextTrack(n,e,i){const o=this.media;if(o)return o.addTextTrack(n,e,i)}onMediaAttaching(n,e){this.media=e.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:n}=this;Object.keys(n).forEach(e=>{Bf(n[e]),delete n[e]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:n}=this;if(!n)return;const e=n.textTracks;if(e)for(let i=0;i<e.length;i++)Bf(e[i])}onSubtitleTracksUpdated(n,e){const i=e.subtitleTracks||[],o=i.some(d=>d.textCodec===oE);if(this.config.enableWebVTT||o&&this.config.enableIMSC1){if(g_(this.tracks,i))return void(this.tracks=i);if(this.textTracks=[],this.tracks=i,this.config.renderTextTracksNatively){const m=this.media?this.media.textTracks:null;this.tracks.forEach((v,I)=>{let j;if(m&&I<m.length){let te=null;for(let me=0;me<m.length;me++)if(PA(m[me],v)){te=m[me];break}te&&(j=te)}if(j)Bf(j);else{const te=this._captionsOrSubtitlesFromCharacteristics(v);j=this.createTextTrack(te,v.name,v.lang),j&&(j.mode="disabled")}j&&(j.groupId=v.groupId,this.textTracks.push(j))})}else if(this.tracks.length){const m=this.tracks.map(v=>({label:v.name,kind:v.type.toLowerCase(),default:v.default,subtitleTrack:v}));this.hls.trigger(Rt.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:m})}}}_captionsOrSubtitlesFromCharacteristics(n){if(n.attrs.CHARACTERISTICS){const e=/transcribes-spoken-dialog/gi.test(n.attrs.CHARACTERISTICS),i=/describes-music-and-sound/gi.test(n.attrs.CHARACTERISTICS);if(e&&i)return"captions"}return"subtitles"}onManifestLoaded(n,e){this.config.enableCEA708Captions&&e.captions&&e.captions.forEach(i=>{const o=/(?:CC|SERVICE)([1-4])/.exec(i.instreamId);if(!o)return;const m=this.captionsProperties[`textTrack${o[1]}`];m&&(m.label=i.name,i.lang&&(m.languageCode=i.lang),m.media=i)})}closedCaptionsForLevel(n){const e=this.hls.levels[n.level];return e?.attrs["CLOSED-CAPTIONS"]}onFragLoading(n,e){const{cea608Parser1:i,cea608Parser2:o,lastSn:d,lastPartIndex:m}=this;if(this.enabled&&i&&o&&"main"===e.frag.type){var v,I;const j=e.frag.sn,te=null!=(v=null==e||null==(I=e.part)?void 0:I.index)?v:-1;j===d+1||j===d&&te===m+1||(i.reset(),o.reset()),this.lastSn=j,this.lastPartIndex=te}}onFragLoaded(n,e){const{frag:i,payload:o}=e;if("subtitle"===i.type)if(o.byteLength){const d=i.decryptdata;if(null==d||!d.encrypted||"stats"in e){const v=this.tracks[i.level],I=this.vttCCs;I[i.cc]||(I[i.cc]={start:i.start,prevCC:this.prevCC,new:!0},this.prevCC=i.cc),v&&v.textCodec===oE?this._parseIMSC1(i,o):this._parseVTTs(e)}}else this.hls.trigger(Rt.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Empty subtitle payload")})}_parseIMSC1(n,e){const i=this.hls;aE(e,this.initPTS[n.cc],o=>{this._appendCues(o,n.level),i.trigger(Rt.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},o=>{Dn.log(`Failed to parse IMSC1: ${o}`),i.trigger(Rt.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:o})})}_parseVTTs(n){var e;const{frag:i,payload:o}=n,{initPTS:d,unparsedVttFrags:m}=this,v=d.length-1;if(!d[i.cc]&&-1===v)return void m.push(n);const I=this.hls;!function AA(r,n,e,i,o,d,m){const v=new nE,I=Il(new Uint8Array(r)).trim().replace(VD,"\n").split("\n"),j=[],te=n?function Ob(r,n=1){return a_(r,9e4,1/n)}(n.baseTime,n.timescale):0;let pt,me="00:00.000",We=0,et=0,Ct=!0;v.oncue=function(Ot){const Zt=e[i];let dn=e.ccOffset;const sn=(We-te)/9e4;if(null!=Zt&&Zt.new&&(void 0!==et?dn=e.ccOffset=Zt.start:function(n,e,i){let o=n[e],d=n[o.prevCC];if(!d||!d.new&&o.new)return n.ccOffset=n.presentationOffset=o.start,void(o.new=!1);for(;null!=(m=d)&&m.new;){var m;n.ccOffset+=o.start-d.start,o.new=!1,o=d,d=n[o.prevCC]}n.presentationOffset=i}(e,i,sn)),sn){if(!n)return void(pt=new Error("Missing initPTS for VTT MPEGTS"));dn=sn-e.presentationOffset}const yn=Ot.endTime-Ot.startTime,Cn=Pl(9e4*(Ot.startTime+dn-et),9e4*o)/9e4;Ot.startTime=Math.max(Cn,0),Ot.endTime=Math.max(Cn+yn,0);const Un=Ot.text.trim();Ot.text=decodeURIComponent(encodeURIComponent(Un)),Ot.id||(Ot.id=rE(Ot.startTime,Ot.endTime,Un)),Ot.endTime>0&&j.push(Ot)},v.onparsingerror=function(Ot){pt=Ot},v.onflush=function(){pt?m(pt):d(j)},I.forEach(Ot=>{if(Ct){if(M_(Ot,"X-TIMESTAMP-MAP=")){Ct=!1,Ot.slice(16).split(",").forEach(Zt=>{M_(Zt,"LOCAL:")?me=Zt.slice(6):M_(Zt,"MPEGTS:")&&(We=parseInt(Zt.slice(7)))});try{et=function(n){let e=parseInt(n.slice(-3));const i=parseInt(n.slice(-6,-4)),o=parseInt(n.slice(-9,-7)),d=n.length>9?parseInt(n.substring(0,n.indexOf(":"))):0;if(!(Ni(e)&&Ni(i)&&Ni(o)&&Ni(d)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${n}`);return e+=1e3*i,e+=6e4*o,e+=36e5*d,e}(me)/1e3}catch(Zt){pt=Zt}return}""===Ot&&(Ct=!1)}v.parse(Ot+"\n")}),v.flush()}(null!=(e=i.initSegment)&&e.data?Jd(i.initSegment.data,new Uint8Array(o)):o,this.initPTS[i.cc],this.vttCCs,i.cc,i.start,te=>{this._appendCues(te,i.level),I.trigger(Rt.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})},te=>{const me="Missing initPTS for VTT MPEGTS"===te.message;me?m.push(n):this._fallbackToIMSC1(i,o),Dn.log(`Failed to parse VTT cue: ${te}`),!(me&&v>i.cc)&&I.trigger(Rt.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:te})})}_fallbackToIMSC1(n,e){const i=this.tracks[n.level];i.textCodec||aE(e,this.initPTS[n.cc],()=>{i.textCodec=oE,this._parseIMSC1(n,e)},()=>{i.textCodec="wvtt"})}_appendCues(n,e){const i=this.hls;if(this.config.renderTextTracksNatively){const o=this.textTracks[e];if(!o||"disabled"===o.mode)return;n.forEach(d=>kg(o,d))}else{const o=this.tracks[e];if(!o)return;i.trigger(Rt.CUES_PARSED,{type:"subtitles",cues:n,track:o.default?"default":"subtitles"+e})}}onFragDecrypted(n,e){const{frag:i}=e;"subtitle"===i.type&&this.onFragLoaded(Rt.FRAG_LOADED,e)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(n,e){const{cea608Parser1:i,cea608Parser2:o}=this;if(!this.enabled||!i||!o)return;const{frag:d,samples:m}=e;if("main"!==d.type||"NONE"!==this.closedCaptionsForLevel(d))for(let v=0;v<m.length;v++){const I=m[v].bytes;if(I){const j=this.extractCea608Data(I);i.addData(m[v].pts,j[0]),o.addData(m[v].pts,j[1])}}}onBufferFlushing(n,{startOffset:e,endOffset:i,endOffsetSubtitles:o,type:d}){const{media:m}=this;if(m&&!(m.currentTime<i)){if(!d||"video"===d){const{captionsTracks:v}=this;Object.keys(v).forEach(I=>mm(v[I],e,i))}if(this.config.renderTextTracksNatively&&0===e&&void 0!==o){const{textTracks:v}=this;Object.keys(v).forEach(I=>mm(v[I],e,o))}}}extractCea608Data(n){const e=[[],[]],i=31&n[0];let o=2;for(let d=0;d<i;d++){const m=n[o++],v=127&n[o++],I=127&n[o++];if((0!==v||0!==I)&&0!=(4&m)){const te=3&m;(0===te||1===te)&&(e[te].push(v),e[te].push(I))}}return e}},audioStreamController:class Yb extends e_{constructor(n,e,i){super(n,e,i,"[audio-stream-controller]","audio"),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:n}=this;n.on(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.LEVEL_LOADED,this.onLevelLoaded,this),n.on(Rt.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),n.on(Rt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.on(Rt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.on(Rt.ERROR,this.onError,this),n.on(Rt.BUFFER_RESET,this.onBufferReset,this),n.on(Rt.BUFFER_CREATED,this.onBufferCreated,this),n.on(Rt.BUFFER_FLUSHED,this.onBufferFlushed,this),n.on(Rt.INIT_PTS_FOUND,this.onInitPtsFound,this),n.on(Rt.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:n}=this;n.off(Rt.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(Rt.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.LEVEL_LOADED,this.onLevelLoaded,this),n.off(Rt.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),n.off(Rt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.off(Rt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.off(Rt.ERROR,this.onError,this),n.off(Rt.BUFFER_RESET,this.onBufferReset,this),n.off(Rt.BUFFER_CREATED,this.onBufferCreated,this),n.off(Rt.BUFFER_FLUSHED,this.onBufferFlushed,this),n.off(Rt.INIT_PTS_FOUND,this.onInitPtsFound,this),n.off(Rt.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(n,{frag:e,id:i,initPTS:o,timescale:d}){if("main"===i){const m=e.cc;this.initPTS[e.cc]={baseTime:o,timescale:d},this.log(`InitPTS for cc: ${m} found from main: ${o}`),this.videoTrackCC=m,"WAITING_INIT_PTS"===this.state&&this.tick()}}startLoad(n){if(!this.levels)return this.startPosition=n,void(this.state="STOPPED");const e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),e>0&&-1===n?(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),n=e,this.state="IDLE"):(this.loadedmetadata=!1,this.state="WAITING_TRACK"),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=n,this.tick()}doTick(){switch(this.state){case"IDLE":this.doTickIdle();break;case"WAITING_TRACK":{var n;const{levels:i,trackId:o}=this,d=null==i||null==(n=i[o])?void 0:n.details;if(d){if(this.waitForCdnTuneIn(d))break;this.state="WAITING_INIT_PTS"}break}case"FRAG_LOADING_WAITING_RETRY":{var e;const i=performance.now(),o=this.retryDate;(!o||i>=o||null!=(e=this.media)&&e.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state="IDLE");break}case"WAITING_INIT_PTS":{const i=this.waitingData;if(i){const{frag:o,part:d,cache:m,complete:v}=i;if(void 0!==this.initPTS[o.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state="FRAG_LOADING";const j={frag:o,part:d,payload:m.flush(),networkDetails:null};this._handleFragmentLoadProgress(j),v&&super._handleFragmentLoadComplete(j)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${o.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const I=this.getLoadPosition(),j=co.bufferInfo(this.mediaBuffer,I,this.config.maxBufferHole);eu(j.end,this.config.maxFragLookUpTolerance,o)<0&&(this.log(`Waiting fragment cc (${o.cc}) @ ${o.start} cancelled because another fragment at ${j.end} is needed`),this.clearWaitingFragment())}}else this.state="IDLE"}}this.onTickEnd()}clearWaitingFragment(){const n=this.waitingData;n&&(this.fragmentTracker.removeFragment(n.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state="IDLE")}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:n}=this;null!=n&&n.readyState&&(this.lastCurrentTime=n.currentTime)}doTickIdle(){const{hls:n,levels:e,media:i,trackId:o}=this;if(null==e||!e[o]||!i&&(this.startFragRequested||!n.config.startFragPrefetch))return;const m=e[o],v=m.details;if(!v||v.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(v))return void(this.state="WAITING_TRACK");const I=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&I&&(this.bufferFlushed=!1,this.afterBufferFlushed(I,"audio","audio"));const j=this.getFwdBufferInfo(I,"audio");if(null===j)return;const{bufferedTrack:te,switchingTrack:me}=this;if(!me&&this._streamEnded(j,v))return n.trigger(Rt.BUFFER_EOS,{type:"audio"}),void(this.state="ENDED");const We=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,"main"),et=j.len,pt=this.getMaxBufferLength(We?.len);if(et>=pt&&!me)return;const Ot=v.fragments[0].start;let Zt=j.end;if(me&&i){const Cn=this.getLoadPosition();te&&me.attrs!==te.attrs&&(Zt=Cn),v.PTSKnown&&Cn<Ot&&(j.end>Ot||j.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=Ot+.05)}let dn=this.getNextFragment(Zt,v),sn=!1;if(dn&&this.isLoopLoading(dn,Zt)&&(sn=!!dn.gap,dn=this.getNextFragmentLoopLoading(dn,v,j,"main",pt)),!dn)return void(this.bufferFlushed=!0);const yn=We&&dn.start>We.end+v.targetduration;if(yn||(null==We||!We.len)&&j.len){const Cn=this.getAppendedFrag(dn.start,"main");if(null===Cn||(sn||(sn=!!Cn.gap||!!yn&&0===We.len),yn&&!sn||sn&&j.nextStart&&j.nextStart<Cn.end))return}this.loadFragment(dn,m,Zt)}getMaxBufferLength(n){const e=super.getMaxBufferLength();return n?Math.min(Math.max(e,n),this.config.maxMaxBufferLength):e}onMediaDetaching(){this.videoBuffer=null,super.onMediaDetaching()}onAudioTracksUpdated(n,{audioTracks:e}){this.resetTransmuxer(),this.levels=e.map(i=>new Vf(i))}onAudioTrackSwitching(n,e){const i=!!e.url;this.trackId=e.id;const{fragCurrent:o}=this;o&&(o.abortRequests(),this.removeUnbufferedFrags(o.start)),this.resetLoadingState(),i?this.setInterval(100):this.resetTransmuxer(),i?(this.switchingTrack=e,this.state="IDLE"):(this.switchingTrack=null,this.bufferedTrack=e,this.state="STOPPED"),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(n,e){this.mainDetails=e.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(Rt.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(n,e){var i;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=e);const{levels:o}=this,{details:d,id:m}=e;if(!o)return void this.warn(`Audio tracks were reset while loading level ${m}`);this.log(`Track ${m} loaded [${d.startSN},${d.endSN}]${d.lastPartSn?`[part-${d.lastPartSn}-${d.lastPartIndex}]`:""},duration:${d.totalduration}`);const v=o[m];let I=0;if(d.live||null!=(i=v.details)&&i.live){const j=this.mainDetails;if(d.fragments[0]||(d.deltaUpdateFailed=!0),d.deltaUpdateFailed||!j)return;!v.details&&d.hasProgramDateTime&&j.hasProgramDateTime?(Jg(d,j),I=d.fragments[0].start):I=this.alignPlaylists(d,v.details)}v.details=d,this.levelLastLoaded=m,!this.startFragRequested&&(this.mainDetails||!d.live)&&this.setStartPosition(v.details,I),"WAITING_TRACK"===this.state&&!this.waitForCdnTuneIn(d)&&(this.state="IDLE"),this.tick()}_handleFragmentLoadProgress(n){var e;const{frag:i,part:o,payload:d}=n,{config:m,trackId:v,levels:I}=this;if(!I)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);const j=I[v];if(!j)return void this.warn("Audio track is undefined on fragment load progress");const te=j.details;if(!te)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(i.start);const me=m.defaultAudioCodec||j.audioCodec||"mp4a.40.2";let We=this.transmuxer;We||(We=this.transmuxer=new fl(this.hls,"audio",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const et=this.initPTS[i.cc],pt=null==(e=i.initSegment)?void 0:e.data;if(void 0!==et){const Ot=o?o.index:-1,dn=new Zg(i.level,i.sn,i.stats.chunkCount,d.byteLength,Ot,-1!==Ot);We.push(d,pt,me,"",i,o,te.totalduration,!1,dn,et)}else{this.log(`Unknown video PTS for cc ${i.cc}, waiting for video PTS before demuxing audio frag ${i.sn} of [${te.startSN} ,${te.endSN}],track ${v}`);const{cache:Ct}=this.waitingData=this.waitingData||{frag:i,part:o,cache:new m_,complete:!1};Ct.push(new Uint8Array(d)),this.waitingVideoCC=this.videoTrackCC,this.state="WAITING_INIT_PTS"}}_handleFragmentLoadComplete(n){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(n)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(n,e){const i=e.tracks.audio;i&&(this.mediaBuffer=i.buffer||null),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer||null)}onFragBuffered(n,e){const{frag:i,part:o}=e;if("audio"===i.type)if(this.fragContextChanged(i))this.warn(`Fragment ${i.sn}${o?" p: "+o.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==i.sn){this.fragPrevious=i;const d=this.switchingTrack;d&&(this.bufferedTrack=d,this.switchingTrack=null,this.hls.trigger(Rt.AUDIO_TRACK_SWITCHED,ra({},d)))}this.fragBufferedComplete(i,o)}else if(!this.loadedmetadata&&"main"===i.type){const d=this.videoBuffer||this.media;d&&co.getBuffered(d).length&&(this.loadedmetadata=!0)}}onError(n,e){var i;if(e.fatal)this.state="ERROR";else switch(e.details){case Vn.FRAG_GAP:case Vn.FRAG_PARSING_ERROR:case Vn.FRAG_DECRYPT_ERROR:case Vn.FRAG_LOAD_ERROR:case Vn.FRAG_LOAD_TIMEOUT:case Vn.KEY_LOAD_ERROR:case Vn.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("audio",e);break;case Vn.AUDIO_TRACK_LOAD_ERROR:case Vn.AUDIO_TRACK_LOAD_TIMEOUT:case Vn.LEVEL_PARSING_ERROR:!e.levelRetry&&"WAITING_TRACK"===this.state&&"audioTrack"===(null==(i=e.context)?void 0:i.type)&&(this.state="IDLE");break;case Vn.BUFFER_FULL_ERROR:if(!e.parent||"audio"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case Vn.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}onBufferFlushed(n,{type:e}){"audio"===e&&(this.bufferFlushed=!0,"ENDED"===this.state&&(this.state="IDLE"))}_handleTransmuxComplete(n){var e;const i="audio",{hls:o}=this,{remuxResult:d,chunkMeta:m}=n,v=this.getCurrentContext(m);if(!v)return void this.resetWhenMissingContext(m);const{frag:I,part:j,level:te}=v,{details:me}=te,{audio:We,text:et,id3:pt,initSegment:Ct}=d;if(!this.fragContextChanged(I)&&me){if(this.state="PARSING",this.switchingTrack&&We&&this.completeAudioSwitch(this.switchingTrack),null!=Ct&&Ct.tracks){const Ot=I.initSegment||I;this._bufferInitSegment(Ct.tracks,Ot,m),o.trigger(Rt.FRAG_PARSING_INIT_SEGMENT,{frag:Ot,id:i,tracks:Ct.tracks})}if(We){const{startPTS:Ot,endPTS:Zt,startDTS:dn,endDTS:sn}=We;j&&(j.elementaryStreams.audio={startPTS:Ot,endPTS:Zt,startDTS:dn,endDTS:sn}),I.setElementaryStreamInfo("audio",Ot,Zt,dn,sn),this.bufferFragmentData(We,I,j,m)}if(null!=pt&&null!=(e=pt.samples)&&e.length){const Ot=po({id:i,frag:I,details:me},pt);o.trigger(Rt.FRAG_PARSING_METADATA,Ot)}if(et){const Ot=po({id:i,frag:I,details:me},et);o.trigger(Rt.FRAG_PARSING_USERDATA,Ot)}}else this.fragmentTracker.removeFragment(I)}_bufferInitSegment(n,e,i){if("PARSING"!==this.state)return;n.video&&delete n.video;const o=n.audio;if(!o)return;o.levelCodec=o.codec,o.id="audio",this.log(`Init audio buffer, container:${o.container}, codecs[parsed]=[${o.codec}]`),this.hls.trigger(Rt.BUFFER_CODECS,n);const d=o.initSegment;null!=d&&d.byteLength&&this.hls.trigger(Rt.BUFFER_APPENDING,{type:"audio",frag:e,part:null,chunkMeta:i,parent:e.type,data:d}),this.tick()}loadFragment(n,e,i){const o=this.fragmentTracker.getState(n);var d;this.fragCurrent=n,this.switchingTrack||"NOT_LOADED"===o||"PARTIAL"===o?"initSegment"===n.sn?this._loadInitSegment(n,e):null!=(d=e.details)&&d.live&&!this.initPTS[n.cc]?(this.log(`Waiting for video PTS in continuity counter ${n.cc} of live stream before loading audio fragment ${n.sn} of level ${this.trackId}`),this.state="WAITING_INIT_PTS"):(this.startFragRequested=!0,super.loadFragment(n,e,i)):this.clearTrackerIfNeeded(n)}completeAudioSwitch(n){const{hls:e,media:i,bufferedTrack:o}=this,d=o?.attrs,m=n.attrs;i&&d&&(d.CHANNELS!==m.CHANNELS||d.NAME!==m.NAME||d.LANGUAGE!==m.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=n,this.switchingTrack=null,e.trigger(Rt.AUDIO_TRACK_SWITCHED,ra({},n))}},audioTrackController:class Wb extends Gf{constructor(n){super(n,"[audio-track-controller]"),this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:n}=this;n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Rt.LEVEL_LOADING,this.onLevelLoading,this),n.on(Rt.LEVEL_SWITCHING,this.onLevelSwitching,this),n.on(Rt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.on(Rt.ERROR,this.onError,this)}unregisterListeners(){const{hls:n}=this;n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Rt.LEVEL_LOADING,this.onLevelLoading,this),n.off(Rt.LEVEL_SWITCHING,this.onLevelSwitching,this),n.off(Rt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),n.off(Rt.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(n,e){this.tracks=e.audioTracks||[]}onAudioTrackLoaded(n,e){const{id:i,groupId:o,details:d}=e,m=this.tracksInGroup[i];if(!m||m.groupId!==o)return void this.warn(`Track with id:${i} and group:${o} not found in active group ${m.groupId}`);const v=m.details;m.details=e.details,this.log(`audio-track ${i} "${m.name}" lang:${m.lang} group:${o} loaded [${d.startSN}-${d.endSN}]`),i===this.trackId&&this.playlistLoaded(i,e,v)}onLevelLoading(n,e){this.switchLevel(e.level)}onLevelSwitching(n,e){this.switchLevel(e.level)}switchLevel(n){const e=this.hls.levels[n];if(null==e||!e.audioGroupIds)return;const i=e.audioGroupIds[e.urlId];if(this.groupId!==i){this.groupId=i||null;const o=this.tracks.filter(m=>!i||m.groupId===i);this.selectDefaultTrack&&!o.some(m=>m.default)&&(this.selectDefaultTrack=!1),this.tracksInGroup=o;const d={audioTracks:o};this.log(`Updating audio tracks, ${o.length} track(s) found in group:${i}`),this.hls.trigger(Rt.AUDIO_TRACKS_UPDATED,d),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}onError(n,e){e.fatal||!e.context||"audioTrack"===e.context.type&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(e))}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(n){this.selectDefaultTrack=!1,this.setAudioTrack(n)}setAudioTrack(n){const e=this.tracksInGroup;if(n<0||n>=e.length)return void this.warn("Invalid id passed to audio-track controller");this.clearTimer();const i=this.currentTrack,o=e[n],{groupId:d,name:m}=o;if(this.log(`Switching to audio-track ${n} "${m}" lang:${o.lang} group:${d}`),this.trackId=n,this.currentTrack=o,this.selectDefaultTrack=!1,this.hls.trigger(Rt.AUDIO_TRACK_SWITCHING,ra({},o)),o.details&&!o.details.live)return;const v=this.switchParams(o.url,i?.details);this.loadPlaylist(v)}selectInitialTrack(){const n=this.tracksInGroup,e=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==e)this.setAudioTrack(e);else{const i=new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${n.length}`);this.warn(i.message),this.hls.trigger(Rt.ERROR,{type:Fi.MEDIA_ERROR,details:Vn.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:i})}}findTrackId(n){const e=this.tracksInGroup;for(let i=0;i<e.length;i++){const o=e[i];if((!this.selectDefaultTrack||o.default)&&(!n||void 0!==n.attrs["STABLE-RENDITION-ID"]&&n.attrs["STABLE-RENDITION-ID"]===o.attrs["STABLE-RENDITION-ID"]||n.name===o.name&&n.lang===o.lang))return o.id}return-1}loadPlaylist(n){super.loadPlaylist();const e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){const i=e.id,o=e.groupId;let d=e.url;if(n)try{d=n.addDirectives(d)}catch(m){this.warn(`Could not construct new URL with HLS Delivery Directives: ${m}`)}this.log(`loading audio-track playlist ${i} "${e.name}" lang:${e.lang} group:${o}`),this.clearTimer(),this.hls.trigger(Rt.AUDIO_TRACK_LOADING,{url:d,id:i,groupId:o,deliveryDirectives:n||null})}}},emeController:uE,cmcdController:jc,contentSteeringController:class OA{constructor(n){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=n,this.log=Dn.log.bind(Dn,"[content-steering]:"),this.registerListeners()}registerListeners(){const n=this.hls;n.on(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.on(Rt.MANIFEST_LOADED,this.onManifestLoaded,this),n.on(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.on(Rt.ERROR,this.onError,this)}unregisterListeners(){const n=this.hls;n&&(n.off(Rt.MANIFEST_LOADING,this.onManifestLoading,this),n.off(Rt.MANIFEST_LOADED,this.onManifestLoaded,this),n.off(Rt.MANIFEST_PARSED,this.onManifestParsed,this),n.off(Rt.ERROR,this.onError,this))}startLoad(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){const n=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,n)}else this.loadSteeringManifest(this.uri)}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(n){const e=this.levels;e&&(this.levels=e.filter(i=>i!==n))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(n,e){const{contentSteering:i}=e;null!==i&&(this.pathwayId=i.pathwayId,this.uri=i.uri,this.started&&this.startLoad())}onManifestParsed(n,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks}onError(n,e){const{errorAction:i}=e;if(2===i?.action&&1===i.flags){let o=this.pathwayPriority;const d=this.pathwayId;this.penalizedPathways[d]||(this.penalizedPathways[d]=performance.now()),!o&&this.levels&&(o=this.levels.reduce((m,v)=>(-1===m.indexOf(v.pathwayId)&&m.push(v.pathwayId),m),[])),o&&o.length>1&&(this.updatePathwayPriority(o),i.resolved=this.pathwayId!==d)}}filterParsedLevels(n){this.levels=n;let e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){const i=n[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${i}"`),e=this.getLevelsForPathway(i),this.pathwayId=i}return e.length!==n.length?(this.log(`Found ${e.length}/${n.length} levels in Pathway "${this.pathwayId}"`),e):n}getLevelsForPathway(n){return null===this.levels?[]:this.levels.filter(e=>n===e.pathwayId)}updatePathwayPriority(n){let e;this.pathwayPriority=n;const i=this.penalizedPathways,o=performance.now();Object.keys(i).forEach(d=>{o-i[d]>3e5&&delete i[d]});for(let d=0;d<n.length;d++){const m=n[d];if(i[m])continue;if(m===this.pathwayId)return;const v=this.hls.nextLoadLevel,I=this.hls.levels[v];if(e=this.getLevelsForPathway(m),e.length>0){this.log(`Setting Pathway to "${m}"`),this.pathwayId=m,this.hls.trigger(Rt.LEVELS_UPDATED,{levels:e});const j=this.hls.levels[v];I&&j&&this.levels&&(j.attrs["STABLE-VARIANT-ID"]!==I.attrs["STABLE-VARIANT-ID"]&&j.bitrate!==I.bitrate&&this.log(`Unstable Pathways change from bitrate ${I.bitrate} to ${j.bitrate}`),this.hls.nextLoadLevel=v);break}}}clonePathways(n){const e=this.levels;if(!e)return;const i={},o={};n.forEach(d=>{const{ID:m,"BASE-ID":v,"URI-REPLACEMENT":I}=d;if(e.some(te=>te.pathwayId===m))return;const j=this.getLevelsForPathway(v).map(te=>{const me=po({},te);me.details=void 0,me.url=Um(te.uri,te.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",I);const We=new go(te.attrs);We["PATHWAY-ID"]=m;const et=We.AUDIO&&`${We.AUDIO}_clone_${m}`,pt=We.SUBTITLES&&`${We.SUBTITLES}_clone_${m}`;et&&(i[We.AUDIO]=et,We.AUDIO=et),pt&&(o[We.SUBTITLES]=pt,We.SUBTITLES=pt),me.attrs=We;const Ct=new Vf(me);return Hf(Ct,"audio",et),Hf(Ct,"text",pt),Ct});e.push(...j),R_(this.audioTracks,i,I,m),R_(this.subtitleTracks,o,I,m)})}loadSteeringManifest(n){const e=this.hls.config,i=e.loader;let o;this.loader&&this.loader.destroy(),this.loader=new i(e);try{o=new self.URL(n)}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${n}`)}if("data:"!==o.protocol){const te=0|(this.hls.bandwidthEstimate||e.abrEwmaDefaultEstimate);o.searchParams.set("_HLS_pathway",this.pathwayId),o.searchParams.set("_HLS_throughput",""+te)}const d={responseType:"json",url:o.href},m=e.steeringManifestLoadPolicy.default,v=m.errorRetry||m.timeoutRetry||{},I={loadPolicy:m,timeout:m.maxLoadTimeMs,maxRetry:v.maxNumRetry||0,retryDelay:v.retryDelayMs||0,maxRetryDelay:v.maxRetryDelayMs||0},j={onSuccess:(te,me,We,et)=>{this.log(`Loaded steering manifest: "${o}"`);const pt=te.data;if(1!==pt.VERSION)return void this.log(`Steering VERSION ${pt.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=pt.TTL;const{"RELOAD-URI":Ct,"PATHWAY-CLONES":Ot,"PATHWAY-PRIORITY":Zt}=pt;if(Ct)try{this.uri=new self.URL(Ct,o).href}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${Ct}`)}this.scheduleRefresh(this.uri||We.url),Ot&&this.clonePathways(Ot),Zt&&this.updatePathwayPriority(Zt)},onError:(te,me,We,et)=>{if(this.log(`Error loading steering manifest: ${te.code} ${te.text} (${me.url})`),this.stopLoad(),410===te.code)return this.enabled=!1,void this.log(`Steering manifest ${me.url} no longer available`);let pt=1e3*this.timeToLoad;if(429!==te.code)this.scheduleRefresh(this.uri||me.url,pt);else{const Ct=this.loader;if("function"==typeof Ct?.getResponseHeader){const Ot=Ct.getResponseHeader("Retry-After");Ot&&(pt=1e3*parseFloat(Ot))}this.log(`Steering manifest ${me.url} rate limited`)}},onTimeout:(te,me,We)=>{this.log(`Timeout loading steering manifest (${me.url})`),this.scheduleRefresh(this.uri||me.url)}};this.log(`Requesting steering manifest: ${o}`),this.loader.load(d,I,j)}scheduleRefresh(n,e=1e3*this.timeToLoad){self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(()=>{this.loadSteeringManifest(n)},e)}}});function Jf(r){return r&&"object"==typeof r?Array.isArray(r)?r.map(Jf):Object.keys(r).reduce((n,e)=>(n[e]=Jf(r[e]),n),{}):r}let iu=(()=>{class r{static get version(){return"1.4.10"}static isSupported(){return function Eb(){const r=dm();if(!r)return!1;const n=t_();return!(!r||"function"!=typeof r.isTypeSupported||!r.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')||n&&(!n.prototype||"function"!=typeof n.prototype.appendBuffer||"function"!=typeof n.prototype.remove))}()}static get Events(){return Rt}static get ErrorTypes(){return Fi}static get ErrorDetails(){return Vn}static get DefaultConfig(){return r.defaultConfig?r.defaultConfig:_E}static set DefaultConfig(e){r.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new wm,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,function xC(r,n){if(self.console&&!0===r||"object"==typeof r){!function T0(r,...n){n.forEach(function(e){rm[e]=r[e]?r[e].bind(r):function E0(r){const n=self.console[r];return n?n.bind(self.console,`[${r}] >`):ic}(e)})}(r,"debug","log","info","warn","error");try{rm.log(`Debug logs enabled for "${n}" in hls.js version 1.4.10`)}catch{rm=Hs}}else rm=Hs}(e.debug||!1,"Hls instance");const i=this.config=function JD(r,n){if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==n.liveMaxLatencyDurationCount&&(void 0===n.liveSyncDurationCount||n.liveMaxLatencyDurationCount<=n.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==n.liveMaxLatencyDuration&&(void 0===n.liveSyncDuration||n.liveMaxLatencyDuration<=n.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const e=Jf(r),o=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach(d=>{const m=`${"level"===d?"playlist":d}LoadPolicy`,v=void 0===n[m],I=[];o.forEach(j=>{const te=`${d}Loading${j}`,me=n[te];if(void 0!==me&&v){I.push(te);const We=e[m].default;switch(n[m]={default:We},j){case"TimeOut":We.maxLoadTimeMs=me,We.maxTimeToFirstByteMs=me;break;case"MaxRetry":We.errorRetry.maxNumRetry=me,We.timeoutRetry.maxNumRetry=me;break;case"RetryDelay":We.errorRetry.retryDelayMs=me,We.timeoutRetry.retryDelayMs=me;break;case"MaxRetryTimeout":We.errorRetry.maxRetryDelayMs=me,We.timeoutRetry.maxRetryDelayMs=me}}}),I.length&&Dn.warn(`hls.js config: "${I.join('", "')}" setting(s) are deprecated, use "${m}": ${JSON.stringify(n[m])}`)}),ra(ra({},e),n)}(r.DefaultConfig,e);this.userConfig=e,this._autoLevelCapping=-1,i.progressive&&function QD(r){const n=r.loader;n!==mE&&n!==hE?(Dn.log("[config]: Custom loader detected, cannot enable progressive streaming"),r.progressive=!1):function RA(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}()&&(r.loader=mE,r.progressive=!0,r.enableSoftwareAES=!0,Dn.log("[config]: Progressive streaming enabled, using FetchLoader"))}(i);const{abrController:o,bufferController:d,capLevelController:m,errorController:v,fpsController:I}=i,j=new v(this),te=this.abrController=new o(this),me=this.bufferController=new d(this),We=this.capLevelController=new m(this),et=new I(this),pt=new JC(this),Ct=new nb(this),Ot=i.contentSteeringController,Zt=Ot?new Ot(this):null,dn=this.levelController=new cD(this,Zt),sn=new db(this),yn=new dD(this.config),Cn=this.streamController=new OD(this,sn,yn);We.setStreamController(Cn),et.setStreamController(Cn);const Un=[pt,dn,Cn];Zt&&Un.splice(1,0,Zt),this.networkControllers=Un;const On=[te,me,We,et,Ct,sn];this.audioTrackController=this.createController(i.audioTrackController,Un);const Zn=i.audioStreamController;Zn&&Un.push(new Zn(this,sn,yn)),this.subtitleTrackController=this.createController(i.subtitleTrackController,Un);const ni=i.subtitleStreamController;ni&&Un.push(new ni(this,sn,yn)),this.createController(i.timelineController,On),yn.emeController=this.emeController=this.createController(i.emeController,On),this.cmcdController=this.createController(i.cmcdController,On),this.latencyController=this.createController(tD,On),this.coreComponents=On,Un.push(j);const kn=j.onErrorOut;"function"==typeof kn&&this.on(Rt.ERROR,kn,j)}createController(e,i){if(e){const o=new e(this);return i&&i.push(o),o}return null}on(e,i,o=this){this._emitter.on(e,i,o)}once(e,i,o=this){this._emitter.once(e,i,o)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,i,o=this,d){this._emitter.off(e,i,o,d)}listeners(e){return this._emitter.listeners(e)}emit(e,i,o){return this._emitter.emit(e,i,o)}trigger(e,i){if(this.config.debug)return this.emit(e,e,i);try{return this.emit(e,e,i)}catch(o){Dn.error("An internal error happened while handling event "+e+'. Error message: "'+o.message+'". Here is a stacktrace:',o),this.trigger(Rt.ERROR,{type:Fi.OTHER_ERROR,details:Vn.INTERNAL_EXCEPTION,fatal:!1,event:e,error:o})}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){Dn.log("destroy"),this.trigger(Rt.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(i=>i.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(i=>i.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){Dn.log("attachMedia"),this._media=e,this.trigger(Rt.MEDIA_ATTACHING,{media:e})}detachMedia(){Dn.log("detachMedia"),this.trigger(Rt.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const i=this.media,o=this.url,d=this.url=b0.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});Dn.log(`loadSource:${d}`),i&&o&&(o!==d||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(i)),this.trigger(Rt.MANIFEST_LOADING,{url:e})}startLoad(e=-1){Dn.log(`startLoad(${e})`),this.networkControllers.forEach(i=>{i.startLoad(e)})}stopLoad(){Dn.log("stopLoad"),this.networkControllers.forEach(e=>{e.stopLoad()})}swapAudioCodec(){Dn.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){Dn.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e,i=0){this.levelController.removeLevel(e,i)}get levels(){return this.levelController.levels||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){Dn.log(`set currentLevel:${e}`),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){Dn.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){Dn.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){Dn.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){return this.levelController.startLevel}set startLevel(e){Dn.log(`set startLevel:${e}`),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const i=!!e;i!==this.config.capLevelToPlayerSize&&(i?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=i)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(Dn.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e)}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){Bg.indexOf(e)>-1&&(this._maxHdcpLevel=e)}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:i}}=this;if(!e)return 0;const o=e.length;for(let d=0;d<o;d++)if(e[d].maxBitrate>=i)return d;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:i,maxHdcpLevel:o}=this;let d;if(d=-1===i&&e&&e.length?e.length-1:i,o)for(let m=d;m--;){const v=e[m].attrs["HDCP-LEVEL"];if(v&&v<=o)return m}return d}get nextAutoLevel(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)}set nextAutoLevel(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const i=this.audioTrackController;i&&(i.audioTrack=e)}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const i=this.subtitleTrackController;i&&(i.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return!!e&&e.subtitleDisplay}set subtitleDisplay(e){const i=this.subtitleTrackController;i&&(i.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}return r.defaultConfig=void 0,r})();function yE(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickDialogAction(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit;t.xp6(1),t.Oqu(e.text)}}let ex=(()=>{class r{constructor(e,i){this.dialog=e,this.options=i}onClickDialogAction(e){this.dialog.close(e)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(or.so),t.Y36(or.WI))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-dialog-options"]],decls:9,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"custom-dialog-message"],[1,"modal-footer"],[1,"custom-dialog-options"],["ngFor","",3,"ngForOf"],["type","button",1,"custom-dialog-button",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2),t.qZA()(),t.TgZ(3,"div",2)(4,"div",3),t._uU(5),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,yE,2,1,"ng-template",6),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(o.options.title),t.xp6(3),t.hij(" ",o.options.message," "),t.xp6(3),t.Q6J("ngForOf",o.options.actions))},dependencies:[g.sg],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return r})();const jm=["controlsContainer"],kA=["settingsContainer"],tx=["videoPrincipalContainer"],FA=["videoTarget"];function BA(r,n){if(1&r&&(t.TgZ(0,"div",55),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.AsE(" ",e.builderVideo.TranscodePrepareVideo.Title," ",e.builderVideo.TranscodePrepareVideo.Subtitle," ")}}function nx(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToPreviousEpisode())}),t._UZ(1,"i",57),t.qZA()}}function UA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToNextEpisode())}),t._UZ(1,"i",59),t.qZA()}}function jA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",60,61),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.playOrPauseVideo())}),t.TgZ(2,"img",62),t.NdJ("error",function(){t.CHM(e);const o=t.MAs(1),d=t.oxw(2);return t.KtG(d.focusButton(o))}),t.qZA(),t._UZ(3,"i",63),t.qZA()}}function VA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",64,65),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.playOrPauseVideo())}),t.TgZ(2,"img",62),t.NdJ("error",function(){t.CHM(e);const o=t.MAs(1),d=t.oxw(2);return t.KtG(d.focusButton(o))}),t.qZA(),t._UZ(3,"i",66),t.qZA()}}const GA=function(r){return{"show-controls":r}};function HA(r,n){if(1&r&&(t.TgZ(0,"div",67),t._uU(1," Cargando video... "),t.qZA()),2&r){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(1,GA,e.showControls))}}const bE=function(r){return{selected:r}};function KA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",78),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(3);return t.KtG(m.onClickPrincipalSettingsOption(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(3);t.MGl("id","stream_option_",e.index,""),t.Q6J("ngClass",t.VKq(3,bE,i.currentSelectedPrincipalSettingOption&&e.index==i.currentSelectedPrincipalSettingOption.index)),t.xp6(1),t.hij(" ",e.name," ")}}function YA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",78),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(4);return t.KtG(m.onClickStreamOption(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(4);t.hYB("id","stream_option_",i.currentSelectedPrincipalSettingOption.id,"_suboption_",e.index,""),t.Q6J("ngClass",t.VKq(4,bE,i.currentSelectedPrincipalSettingOption.selectedOption&&i.currentSelectedPrincipalSettingOption.selectedOption.index==e.index)),t.xp6(1),t.hij(" ",e.name," ")}}function WA(r,n){if(1&r&&(t.TgZ(0,"section",79),t.YNc(1,YA,2,6,"ng-template",76),t.qZA()),2&r){const e=t.oxw(3);t.MGl("id","streams_suboptions_section_",e.currentSelectedPrincipalSettingOption.index,""),t.xp6(1),t.Q6J("ngForOf",e.currentSelectedPrincipalSettingOption.listOptions)}}function zA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"section",68,69)(2,"div",70)(3,"section",71)(4,"div",72)(5,"div",73)(6,"button",74),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.hideSettings())}),t._UZ(7,"i",11),t.qZA()()()(),t.TgZ(8,"section",75),t.YNc(9,KA,2,5,"ng-template",76),t.qZA(),t.YNc(10,WA,2,2,"section",77),t.qZA()()}if(2&r){const e=t.oxw(2);t.xp6(9),t.Q6J("ngForOf",e.listPrincipalSettingsOptions),t.xp6(1),t.Q6J("ngIf",e.currentSelectedPrincipalSettingOption)}}function ix(r,n){if(1&r&&t._UZ(0,"div",80),2&r){const e=n.$implicit,i=t.oxw(3);t.Udp("display",i.checkIfDisplaySubtitles(e)?"block":"none"),t.Q6J("innerHtml",e.text,t.oJD)}}function rx(r,n){if(1&r&&t.YNc(0,ix,1,3,"ng-template",76),2&r){const e=t.oxw(2);t.Q6J("ngForOf",e.currentSubtitleData)}}function ZA(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"video",81,82),t.NdJ("error",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onErrorVideo())})("loadedmetadata",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onLoadedMetadata())})("loadeddata",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onLoadedData())})("ended",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.OnEndedVideo())}),t.qZA()}}const l=function(r){return{show:r}};function u(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(1),d=t.oxw();return t.KtG(!d.sharedService.isMobileDevice()&&d.onClickVideoContainer(o))})("touchstart",function(){t.CHM(e);const o=t.MAs(1),d=t.oxw();return t.KtG(d.sharedService.isMobileDevice()&&d.onTouchVideoContainer(o))})("mousemove",function(){t.CHM(e);const o=t.MAs(1),d=t.oxw();return t.KtG(d.onMouseMoveVideoContainer(o))}),t.TgZ(2,"div",6)(3,"section",7,8)(5,"section",9)(6,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeVideo())}),t._UZ(7,"i",11),t.qZA(),t.YNc(8,BA,2,2,"div",12),t.qZA(),t.TgZ(9,"div",13)(10,"div",14)(11,"section",15)(12,"button",16)(13,"div",17,18),t._uU(15),t.qZA(),t.TgZ(16,"div",19)(17,"div",20),t.NdJ("contextmenu",function(){t.CHM(e);const o=t.MAs(22),d=t.oxw();return t.KtG(!d.sharedService.isMobileDevice()&&d.onClickSlider(o))})("click",function(){t.CHM(e);const o=t.MAs(22),d=t.oxw();return t.KtG(d.onClickSlider(o))})("touchend",function(){t.CHM(e);const o=t.MAs(22),d=t.oxw();return t.KtG(d.sharedService.isMobileDevice()&&d.onClickSlider(o))})("touchstart",function(o){t.CHM(e);const d=t.MAs(22),m=t.MAs(14),v=t.oxw();return t.KtG(v.sharedService.isMobileDevice()&&v.onTouchStartSlider(o,d,m))})("touchmove",function(o){t.CHM(e);const d=t.MAs(22),m=t.MAs(14),v=t.oxw();return t.KtG(v.sharedService.isMobileDevice()&&v.onTouchMoveSlider(o,d,m))})("mousedown",function(o){t.CHM(e);const d=t.MAs(22),m=t.oxw();return t.KtG(m.onMouseDownSlider(o,d))})("mousemove",function(o){t.CHM(e);const d=t.MAs(22),m=t.oxw();return t.KtG(m.onMouseMoveSlider(o,d))}),t._UZ(18,"div",21,22),t.TgZ(20,"div",23)(21,"div",24,25)(23,"div",26,25),t._UZ(25,"div",27,28),t.qZA()()()()(),t.TgZ(27,"div",17,29),t._uU(29),t.qZA()()(),t.TgZ(30,"section",30)(31,"div",31),t.YNc(32,nx,2,0,"button",32),t.qZA(),t.TgZ(33,"div",33)(34,"div",34),t.YNc(35,UA,2,0,"button",35),t.TgZ(36,"button",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeObjectContain())}),t._UZ(37,"i",37),t.qZA(),t.TgZ(38,"button",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleFullScreenVideo())}),t._UZ(39,"i",39),t.qZA(),t.TgZ(40,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showSettings())}),t._UZ(41,"i",41),t.qZA()()()(),t.TgZ(42,"div",42)(43,"div",43)(44,"section",44)(45,"button",45),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.rewindVideo())}),t._UZ(46,"i",46),t.qZA(),t.YNc(47,jA,4,0,"button",47),t.YNc(48,VA,4,0,"button",48),t.TgZ(49,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.forwardVideo())}),t._UZ(50,"i",50),t.qZA()()()()()()(),t.YNc(51,HA,2,3,"div",51),t.YNc(52,zA,11,2,"section",52),t.YNc(53,rx,1,1,"ng-template",53),t.YNc(54,ZA,2,0,"video",54),t.qZA()()}if(2&r){const e=t.MAs(14),i=t.MAs(19),o=t.MAs(28),d=t.oxw();t.xp6(3),t.Q6J("ngClass",t.VKq(22,l,d.showControls)),t.xp6(5),t.Q6J("ngIf",d.builderVideo&&d.builderVideo.TranscodePrepareVideo),t.xp6(5),t.Udp("visibility",d.showControls?"":"hidden"),t.xp6(2),t.hij(" ",d.getVideoTime()," "),t.xp6(1),t.Udp("width","calc(100% - "+(e.offsetWidth+o.offsetWidth)+"px)"),t.xp6(5),t.Udp("width",i.offsetWidth+"px"),t.xp6(4),t.Udp("width",d.getSliderPogressWidth()),t.xp6(2),t.Udp("visibility",d.showControls?"":"hidden"),t.xp6(2),t.hij(" ",d.getDurationTime()," "),t.xp6(3),t.Q6J("ngIf",d.isEnablePreviousEpisodeButton()),t.xp6(3),t.Q6J("ngIf",d.isEnableNextEpisodeButton()),t.xp6(12),t.Q6J("ngIf",!d.isPlayingVideo()),t.xp6(1),t.Q6J("ngIf",d.isPlayingVideo()),t.xp6(3),t.Q6J("ngIf",!d.loadedData),t.xp6(1),t.Q6J("ngIf",d.showingSettings),t.xp6(1),t.Q6J("ngIf",d.currentSubtitleData),t.xp6(1),t.Q6J("ngIf",d.showVideoTarget)}}let h=(()=>{class r{constructor(e,i,o,d,m,v,I,j,te){this.signalIrService=e,this.activeRoute=i,this.router=o,this.libraryService=d,this.dialog=m,this.restProvider=v,this.sharedService=I,this.ref=j,this.http=te,this._window=window,this.showVideo=!0,this.lastCurrentTime=0,this.showControls=!1,this.currentSubtitleData=void 0,this.haveError=!1,this.currentEpisode={},this.lastClickSeekButton=new Date,this.countSeekSecondsToAdvance=0,this.isUpdatingVideoSource=!1,this.showingSettings=!1,this.listPrincipalSettingsOptions=[{index:0,name:"AUDIO",listOptions:[],selectedOption:null},{index:1,name:"SUBT\xcdTULOS",listOptions:[],selectedOption:null}],this.lastRealVideoTime=0,this.initializeVideo=!1,this.showVideoTarget=!1,this.loadedData=!1,this.beforeUnloadFunction=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(me=>{this.mediaServer&&this.mediaServer.Guid==me&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.getMediaItemDetailByMediaFileAndProfile())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(me=>{this.mediaServer&&this.mediaServer.Guid==me&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1,this.router.navigateByUrl("/media/server/"+me))})}ngOnInit(){var e=this.activeRoute.snapshot.params.serverGuid;if(null!=e){var i=this.sharedService.mediaServers.find(o=>o.Guid==e);i&&(this.mediaServer=JSON.parse(JSON.stringify(i)),this.mediaServer.isSecureConnection?this.getMediaItemDetailByMediaFileAndProfile():setTimeout(()=>{0==this.mediaServer.isSecureConnection&&this.router.navigateByUrl("/media/server/"+e)},3e3))}else this.router.navigateByUrl("/404")}getMediaItemDetailByMediaFileAndProfile(){var e=this.activeRoute.snapshot.params.mediaFileId;e?this.libraryService.GetMediaItemDetailByMediaFileAndProfile(this.mediaServer.Url,e,this.sharedService.currentProfile.Id).then(i=>{var o=0;i.LastMediaFilePlayback&&(o=i.LastMediaFilePlayback.CurrentTime),i.MediaItem.MediaTypeId==St.Movie&&(this.builderVideo=this.libraryService.CreateBuilderVideoFromItem(i,this.mediaServer,o)),i.MediaItem.MediaTypeId==St.TvSerie&&(this.builderVideo=this.libraryService.CreateBuilderVideoFromEpisode(i,i.CurrentEpisode,this.mediaServer,o)),this.initialize()},i=>{this.router.navigateByUrl("/404")}):this.router.navigateByUrl("/404")}initialize(){let e=this;this.customMouseOutEvent=function(o){e.sliderContainer&&e.sliderContainer.startMove&&e.onClickSlider(e.sliderContainer)},window.addEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction=function(o){e.deleteAllProcessesAndDirectories()},window.addEventListener("beforeunload",this.beforeUnloadFunction),this.detectChangesInterval=window.setInterval(function(){e.ref.detectChanges()},0),this.updateMediaFilePlaybackInterval=window.setInterval(function(){e.updateMediaFilePlayback()},1e4),this.initializeVideoData()}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe(),this.dashMediaPlayer&&(this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy()),this.hls&&(this.hls.detachMedia(),this.hls.destroy()),this.detectChangesInterval&&window.clearInterval(this.detectChangesInterval),this.updateMediaFilePlaybackInterval&&window.clearInterval(this.updateMediaFilePlaybackInterval),this.customMouseOutEvent&&window.removeEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction&&window.removeEventListener("beforeunload",this.beforeUnloadFunction)}initializeVideoData(){this.sharedService.listProcessGUIDs.push(this.builderVideo.TranscodePrepareVideo.ProcessGUID),this.builderVideo.LoadStatus=Pt.Empty,this.restProvider.executeHttpMethodByUrl(Xe.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodingProcesses/GetVideoData",this.builderVideo.TranscodePrepareVideo).then(i=>{this.builderVideo.LoadStatus=Pt.Generated;const o=Ln().decode(i);let d=JSON.parse(o);this.builderVideo.TranscodeRunVideo=d,this.builderVideo.TranscodePrepareVideo=d.TranscodePrepareVideo,this.initializeStreams(),setTimeout(()=>{this.executeHideControls()},1e3),this.onInitializeVideo()},i=>{this.showLoadVideoErrorActionsDialog(),console.error(i)})}onTouchVideoContainer(e){this.showingSettings||this.sharedService.isMobileDevice()&&this.showControlsTemporarily(e)}onClickVideoContainer(e){this.showingSettings||(e.clicked=!0,setTimeout(()=>{e.clicked=!1},2e3),this.sharedService.isMobileDevice()||this.showControlsTemporarily(e))}onTouchStartSlider(e,i,o){this.sliderContainer=i,i.startMove=!0,this.lastTmpVideoTime=(e.changedTouches[0].clientX-o.offsetWidth-8-4)/i.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100}onTouchMoveSlider(e,i,o){i.startMove&&(this.lastTmpVideoTime=(e.changedTouches[0].clientX-o.offsetWidth-8-4)/i.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100)}goToNextEpisode(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber+1,d=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o);if(-1!=d)this.getVideoByEpisode(this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes[d]);else{let m=e+1,v=this.builderVideo.ItemDetail.ListSeasons.findIndex(I=>I.SeasonNumber==m);if(-1!=v){let I=this.builderVideo.ItemDetail.ListSeasons[v];this.builderVideo.ItemDetail.CurrentSeason=I,I&&I.ListEpisodes&&I.ListEpisodes.length&&this.getVideoByEpisode(I.ListEpisodes[0])}}}}getVideoByEpisode(e){this.deleteAllProcessesAndDirectories();var i=this.sharedService.mediaServers.find(m=>m.Id==this.builderVideo.TranscodePrepareVideo.MediaServerId),o=this.libraryService.GetTranscodeVideoFromEpisode(this.builderVideo.ItemDetail,e,i);this.builderVideo.TranscodePrepareVideo=o,this.builderVideo.ItemDetail.ListSeasons&&(this.builderVideo.ItemDetail.CurrentSeason=this.builderVideo.ItemDetail.ListSeasons.find(m=>m.SeasonNumber==e.SeasonNumber),this.builderVideo.ItemDetail.CurrentEpisode=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.find(m=>m.EpisodeNumber==e.EpisodeNumber)),this.lastRealVideoTime=0,this.resetStream(),this.sharedService.listProcessGUIDs.push(this.builderVideo.TranscodePrepareVideo.ProcessGUID),this.builderVideo.LoadStatus=Pt.Empty,this.restProvider.executeHttpMethodByUrl(Xe.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodingProcesses/GetVideoData",this.builderVideo.TranscodePrepareVideo).then(m=>{this.builderVideo.LoadStatus=Pt.Generated;const v=Ln().decode(m);let I=JSON.parse(v);this.builderVideo.TranscodeRunVideo=I,this.builderVideo.TranscodePrepareVideo=I.TranscodePrepareVideo,this.initializeStreams(),this.getVideoSource()},m=>{this.showLoadVideoErrorActionsDialog(),console.error(m)})}goToPreviousEpisode(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber-1,d=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o);if(-1!=d)this.getVideoByEpisode(this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes[d]);else{let m=e+1,v=this.builderVideo.ItemDetail.ListSeasons.findIndex(I=>I.SeasonNumber==m);if(-1!=v){let I=this.builderVideo.ItemDetail.ListSeasons[v];this.builderVideo.ItemDetail.CurrentSeason=I,I&&I.ListEpisodes&&I.ListEpisodes.length&&this.getVideoByEpisode(I.ListEpisodes[I.ListEpisodes.length-1])}}}}isEnablePreviousEpisodeButton(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber-1;if(-1!=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o))return!0;{let m=e-1,v=this.builderVideo.ItemDetail.ListSeasons.findIndex(I=>I.SeasonNumber==m);if(-1!=v){let I=this.builderVideo.ItemDetail.ListSeasons[v];return!!(I&&I.ListEpisodes&&I.ListEpisodes.length)}return!1}}return!1}isEnableNextEpisodeButton(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber+1;if(-1!=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(m=>m.EpisodeNumber==o))return!0;{let m=e+1,v=this.builderVideo.ItemDetail.ListSeasons.findIndex(I=>I.SeasonNumber==m);if(-1!=v){let I=this.builderVideo.ItemDetail.ListSeasons[v];return!!(I&&I.ListEpisodes&&I.ListEpisodes.length)}return!1}}return!1}showSettings(){this.showControls=!1,this.ref.detectChanges(),this.showingSettings=!0,this.ref.detectChanges()}hideSettings(){this.showingSettings=!1,this.ref.detectChanges()}onClickPrincipalSettingsOption(e){this.currentSelectedPrincipalSettingOption=e}onClickStreamOption(e){this.currentSelectedPrincipalSettingOption.selectedOption=e,this.showingSettings=!1,this.ref.detectChanges(),0==this.currentSelectedPrincipalSettingOption.index&&(this.hls.audioTrack=e.index),1==this.currentSelectedPrincipalSettingOption.index&&(1e6==e.index?this.hls.subtitleDisplay=!1:(this.hls.subtitleTrack=e.index,this.hls.subtitleDisplay=!0))}getSubtitle(e){let i=this;this.http.get(e,{responseType:"text"}).subscribe(o=>{o&&(0,nd.Q)(o)&&(0,nd.Q)(o).entries?(i.currentSubtitleData=(0,nd.Q)(o).entries,0==i.currentSubtitleData.length?setTimeout(()=>{i.getSubtitle(e)},1e3):i.ref.detectChanges()):(console.error("No hay data en los subtitulos aun"),setTimeout(()=>{i.getSubtitle(e)},1e3))},o=>{console.error(o),setTimeout(()=>{i.getSubtitle(e)},1e3)})}showSubtitle(){}closeVideo(){document.fullscreenElement&&document.exitFullscreen(),this.deleteAllProcessesAndDirectories(),this.router.navigateByUrl("/home")}focusButton(e){e.focus(),this.sharedService.currentSelectedElement=e}ngAfterViewInit(){}getConfirmMessage(){var e="Vacio";switch(this.builderVideo.LoadStatus){case Pt.Empty:e="Vac\xedo";break;case Pt.Generated:e="Generado";break;case Pt.Initialized:e="Inicializado";break;case Pt.LoadedMetada:e="Cargado Metadata";break;case Pt.LoadedData:e="Cargado Data"}return"Hubo un error al intentar reproducir el video, se quedo con el estado de "+e+", desea intentarlo de nuevo?"}updateAudioAndVideoList(){if(this.listPrincipalSettingsOptions[0].listOptions=[],this.listPrincipalSettingsOptions[0].selectedOption=void 0,this.listPrincipalSettingsOptions[1].listOptions=[],this.listPrincipalSettingsOptions[1].selectedOption=void 0,this.builderVideo.TranscodePrepareVideo.ListAudioStreams&&this.builderVideo.TranscodePrepareVideo.ListAudioStreams.length>0&&(this.builderVideo.TranscodePrepareVideo.ListAudioStreams.forEach(e=>{let i="";"spa"==e.language&&(i="Espa\xf1ol"),"eng"==e.language&&(i="Ingles"),e.title&&(i=i+" ("+e.title+")"),e.name=i}),this.listPrincipalSettingsOptions[0].listOptions=this.builderVideo.TranscodePrepareVideo.ListAudioStreams,this.listPrincipalSettingsOptions[0].selectedOption=this.builderVideo.TranscodePrepareVideo.ListAudioStreams.find(e=>1==e.isDefault)),this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams&&this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.length>0){this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.forEach(o=>{let d="";"spa"==o.language&&(d="Espa\xf1ol"),"eng"==o.language&&(d="Ingles"),o.title&&(d=d+" ("+o.title+")"),o.name=d});let e=[];e.push({index:1e6,name:"Ninguno"}),e=e.concat(this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams),this.listPrincipalSettingsOptions[1].listOptions=e;let i=this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.find(o=>1==o.isDefault);null==i&&(i=e.find(o=>1e6==o.index)),this.listPrincipalSettingsOptions[1].selectedOption=i}this.currentSelectedPrincipalSettingOption=this.listPrincipalSettingsOptions[0]}initializeStreams(){this.updateAudioAndVideoList(),this.lastRealVideoTime=this.builderVideo&&null!=this.builderVideo.TranscodePrepareVideo.CurrentTime?this.builderVideo.TranscodePrepareVideo.CurrentTime:0}updateMediaFilePlayback(){if(this.builderVideo&&null!=this.builderVideo.TranscodePrepareVideo.TotalSeconds){var e=0;this.getCurrentVideoTime()>0&&this.getCurrentVideoTime()<=this.builderVideo.TranscodePrepareVideo.TotalSeconds&&((e=this.getCurrentVideoTime())-20<0?e=0:e-=20);let i={Title:this.builderVideo.TranscodePrepareVideo.Title,MediaFileId:this.builderVideo.TranscodePrepareVideo.VideoId,ProfileId:this.sharedService.currentProfile.Id,DurationTime:this.builderVideo.TranscodePrepareVideo.TotalSeconds,CurrentTime:e};this.builderVideo.TranscodePrepareVideo.Subtitle&&(i.Subtitle=this.builderVideo.TranscodePrepareVideo.Subtitle),this.builderVideo.ItemDetail.CurrentSeason&&(i.SeasonNumber=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber),this.builderVideo.ItemDetail.CurrentEpisode&&(i.EpisodeNumber=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber),this.libraryService.updateMediaFilePlayback(this.builderVideo.TranscodePrepareVideo.MediaServerUrl,i).then(o=>{},o=>{console.error(o)})}}executeHideControls(){this.sliderContainer&&this.sliderContainer.startMove?setTimeout(()=>{this.executeHideControls()},2e3):this.showControls=!1}getDurationTime(){return this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.TotalSeconds?this.getFormatTime(this.builderVideo.TranscodePrepareVideo.TotalSeconds):"00:00:00"}getFormatTime(e){var i=parseInt(e,10),o=Math.floor(i/3600),d=Math.floor((i-3600*o)/60),m=i-3600*o-60*d;return o<10&&(o="0"+o),d<10&&(d="0"+d),m<10&&(m="0"+m),o+":"+d+":"+m}getVideoTime(){if(this.lastTmpVideoTime)return this.getFormatTime(this.lastTmpVideoTime);{let e=this.getCurrentVideoTime();return null!=e&&e>0?this.getFormatTime(e):"00:00:00"}}onMouseDownSlider(e,i){this.sliderContainer=i,i.startMove=!0,this.calculateNewTimeToGo(e,i)}onMouseMoveSlider(e,i){i.startMove&&this.calculateNewTimeToGo(e,i)}calculateNewTimeToGo(e,i){this.lastTmpVideoTime=e.offsetX/i.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100}resetStream(){this.showVideoTarget=!1,this.loadedData=!1,null!=this.dashMediaPlayer&&(this.dashMediaPlayer.resetSettings(),this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy(),this.dashMediaPlayer=void 0),this.hls&&(this.hls.destroy(),this.hls=void 0)}onClickSlider(e){if(this.lastTmpVideoTime){if(e.startMove=!1,this.lastTmpVideoTime>this.getCurrentVideoTime()){let i=this.lastTmpVideoTime-this.getCurrentVideoTime();this.executeForwardVideo(i)}else if(this.lastTmpVideoTime<this.getCurrentVideoTime()){let i=this.getCurrentVideoTime()-this.lastTmpVideoTime;this.executeRewindVideo(i)}this.lastTmpVideoTime=void 0}}updateVideoData(e){this.deleteAllProcessesAndDirectories();let i=mi();this.sharedService.listProcessGUIDs.push(i),this.builderVideo.TranscodePrepareVideo.TimeSpan=e.toString(),this.builderVideo.TranscodePrepareVideo.ProcessGUID=i,this.builderVideo.LoadStatus=Pt.Empty,this.restProvider.executeHttpMethodByUrl(Xe.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodingProcesses/UpdateVideoData",this.builderVideo.TranscodePrepareVideo).then(d=>{this.builderVideo.LoadStatus=Pt.Generated;const m=Ln().decode(d);let v=JSON.parse(m);this.builderVideo.TranscodeRunVideo=v,this.updateAudioAndVideoList(),this.getVideoSource()},d=>{this.showLoadVideoErrorActionsDialog(),console.error(d)})}deleteAllProcessesAndDirectories(){this.sharedService.listProcessGUIDs&&this.sharedService.listProcessGUIDs.length>0&&this.deleteProcessesAndDirectories()}deleteProcessesAndDirectories(){var e=this.sharedService.listProcessGUIDs.join(",");this.restProvider.executeHttpMethodByUrl(Xe.DELETE,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodingProcesses/DeleteByListGuids?guids="+e).then(o=>{const d=Ln().decode(o);let m=JSON.parse(d);if(m&&m.length>0&&this.sharedService.listProcessGUIDs.length>0)for(var v=0;v<m.length;v++){let I=m[v],j=this.sharedService.listProcessGUIDs.findIndex(te=>te==I);-1!=j&&this.sharedService.listProcessGUIDs.splice(j,1)}},o=>{console.error(o)})}getSliderPogressWidth(){if(this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.TotalSeconds){let e=this.builderVideo.TranscodePrepareVideo.TotalSeconds,o=(this.lastTmpVideoTime?this.lastTmpVideoTime:this.getCurrentVideoTime())/e*100;return o>100&&(o=100),o+"%"}return 0}OnEndedVideo(){this.isEnableNextEpisodeButton()&&this.goToNextEpisode()}isPlayingVideo(){return this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==ft.MPEGDASH?!(!this.dashMediaPlayer||this.dashMediaPlayer.isPaused()):!(!this.videoTarget||0!=this.videoTarget.nativeElement.paused)}playOrPauseVideo(){console.log("subtitle tracks"),console.log(this.hls.subtitleTracks),console.log("audio tracks"),console.log(this.hls.audioTracks),this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==ft.MPEGDASH?this.dashMediaPlayer&&(this.dashMediaPlayer.isPaused()?this.dashMediaPlayer.play():this.dashMediaPlayer.pause()):this.videoTarget&&(this.videoTarget.nativeElement.paused?this.videoTarget.nativeElement.play():this.videoTarget.nativeElement.pause())}showVideoInFullScreen(){this.toggleFullScreenVideo()}toggleFullScreenVideo(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}displayVideoUsingDash(e){let i=this;this.dashMediaPlayer=Gu.MediaPlayer().create(),this.dashMediaPlayer.updateSettings({streaming:{gaps:{jumpGaps:!0,jumpLargeGaps:!0,enableSeekFix:!0,enableStallFix:!0},buffer:{bufferPruningInterval:this.builderVideo.TranscodePrepareVideo.TotalSeconds,bufferToKeep:this.builderVideo.TranscodePrepareVideo.TotalSeconds}}}),this.dashMediaPlayer.initialize(this.videoTarget.nativeElement,e),this.dashMediaPlayer.on(Gu.MediaPlayer.events.ERROR,function(o){console.log(o),console.error("hubo un error")}),this.dashMediaPlayer.on(Gu.MediaPlayer.events.PLAYBACK_ERROR,function(o){console.log(o),console.error("hubo un error de playback")}),this.dashMediaPlayer.on(Gu.MediaPlayer.events.PLAYBACK_WAITING,function(o){console.error("PLAYBACK_WAITING"),console.log(o)}),this.dashMediaPlayer.on(Gu.MediaPlayer.events.BUFFER_EMPTY,function(o){console.error("BUFFER_EMPTY"),console.log(o)}),this.dashMediaPlayer.on(Gu.MediaPlayer.events.STREAM_INITIALIZED,function(o){console.error("STREAM_INITIALIZED"),i.initializeVideo=!0,console.log(o)}),this.ref.detectChanges(),this.dashMediaPlayer.play(),this.showVideoInFullScreen()}onInitializeVideo(){this.executeInitializeVideo()}getCurrentVideoTime(){return this.builderVideo&&this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==ft.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()?this.lastRealVideoTime+this.dashMediaPlayer.time():this.lastRealVideoTime:this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime?this.lastRealVideoTime+this.videoTarget.nativeElement.currentTime:this.lastRealVideoTime}checkIfDisplaySubtitles(e){let o=1e3*(this.getCurrentVideoTime()-1);return e.from<=o&&e.to>=o}onDeclineReplyVideo(){this.closeVideo()}onConfirmReplyVideo(){this.lastRealVideoTime=this.getCurrentVideoTime()-2>=0?this.getCurrentVideoTime()-2:0,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)}onLoadedMetadata(){this.builderVideo.LoadStatus=Pt.LoadedMetada,console.log("onLoadedMetadata")}onLoadedData(){console.log("onLoadedData"),this.builderVideo.LoadStatus=Pt.LoadedData,this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play())}onErrorVideo(){console.log("onErrorVideo")}executeInitializeVideo(){this.getVideoSource()}testAnyVideo(){}getVideoSource(){this.http.get(this.builderVideo.TranscodeRunVideo.VideoPath,{headers:void 0,responseType:"blob"}).subscribe(e=>{this.builderVideo.LoadStatus=Pt.Initialized,this.showVideoTarget=!0,this.ref.detectChanges(),-1!=this.builderVideo.TranscodeRunVideo.VideoPath.indexOf("mpd")?this.displayVideoUsingDash(this.builderVideo.TranscodeRunVideo.VideoPath):-1!=this.builderVideo.TranscodeRunVideo.VideoPath.indexOf("m3u8")?this.displayVideoUsingHLS(this.builderVideo.TranscodeRunVideo.VideoPath):(this.videoTarget.nativeElement.src=this.builderVideo.TranscodeRunVideo.VideoPath,this.videoTarget.nativeElement.currentTime=this.lastRealVideoTime,this.lastRealVideoTime=0,this.videoTarget.nativeElement.play())},e=>{console.error(e),this.showLoadVideoErrorActionsDialog()})}displayVideoUsingHLS(e){let i=this;setTimeout(()=>{i.builderVideo.LoadStatus!=Pt.LoadedData&&i.showLoadVideoErrorActionsDialog()},1e4,i),this.showVideoInFullScreen(),iu.isSupported()?(this.hls=new iu,this.hls.attachMedia(this.videoTarget.nativeElement),this.hls.loadSource(e),this.hls.on(iu.Events.MEDIA_ATTACHED,function(o){console.log("MEDIA_ATTACHED"),console.log(o)}),this.hls.on(iu.Events.AUDIO_TRACK_LOADED,function(o){console.log("AUDIO_LOADED"),console.log(o)}),this.hls.on(iu.Events.MANIFEST_LOADED,function(o){console.log("MANIFEST_LOADED"),console.log(o)}),this.hls.on(iu.Events.MANIFEST_PARSED,function(o){console.log("MANIFEST_PARSED"),console.log(o)}),this.hls.on(iu.Events.ERROR,function(o){i.videoTarget.nativeElement.CurrentTime=i.videoTarget.nativeElement.CurrentTime+1,console.error("Ocurrio un error"),console.log(o)})):(this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.src=e,this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play()))}onChangeObjectContain(){"contain"==this.videoTarget.nativeElement.style.objectFit||""==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="cover":"cover"==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="fill":"fill"==this.videoTarget.nativeElement.style.objectFit&&(this.videoTarget.nativeElement.style.objectFit="contain")}callUpdateVideoData(e){let i=mi();this.lastTimeSpanChangeGUID=i,setTimeout(()=>{i==this.lastTimeSpanChangeGUID&&this.updateVideoData(e)},1e3)}rewindVideo(){this.executeRewindVideo(10)}executeRewindVideo(e){this.initializeVideo=!1;let i=0;i=this.getCurrentVideoTime()-e>=0?e:this.getCurrentVideoTime(),this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==ft.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()>i?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()-i):(this.lastRealVideoTime=this.getCurrentVideoTime()-i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.currentTime>i?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime-i:(this.lastRealVideoTime=this.getCurrentVideoTime()-i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}forwardVideo(){this.executeForwardVideo(10)}executeForwardVideo(e){if(this.initializeVideo=!1,this.getCurrentVideoTime()<this.builderVideo.TranscodePrepareVideo.TotalSeconds){let i=0;i=this.getCurrentVideoTime()+e>this.builderVideo.TranscodePrepareVideo.TotalSeconds?this.builderVideo.TranscodePrepareVideo.TotalSeconds>this.getCurrentVideoTime()?this.builderVideo.TranscodePrepareVideo.TotalSeconds-this.getCurrentVideoTime():0:e,this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==ft.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.duration()-this.dashMediaPlayer.time()>=i?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()+i):(this.lastRealVideoTime=this.getCurrentVideoTime()+i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.duration&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.duration-this.videoTarget.nativeElement.currentTime>=i?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime+i:(this.lastRealVideoTime=this.getCurrentVideoTime()+i,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}}onMouseMoveVideoContainer(e){!this.showControls&&!e.clicked&&!this.showingSettings&&this.showControlsTemporarily(e)}executeShowControlsTemporarily(e,i){this.showControls=!0,this.ref.detectChanges(),setTimeout(()=>{e.guid==i&&this.executeHideControls()},2e3)}showControlsTemporarily(e){if(!this.showControls){let i=mi();e.guid=i,this.sharedService.isMobileDevice()?setTimeout(()=>{this.executeShowControlsTemporarily(e,i)},250):this.executeShowControlsTemporarily(e,i)}}toogleVideoControls(e){this.showControls?this.showControls=!0:this.showControlsTemporarily(e)}showLoadVideoErrorActionsDialog(){var e=new or.vA;e.disableClose=!0,e.data={title:"Mensaje",message:this.getConfirmMessage(),actions:[{text:"No",key:"No"},{text:"Si",key:"Si"}]},this.dialog.open(ex,e).afterClosed().subscribe(i=>{"Si"==i.key&&this.onConfirmReplyVideo(),"No"==i.key&&this.onDeclineReplyVideo()})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Io),t.Y36(Gn.gz),t.Y36(Gn.F0),t.Y36(Nc),t.Y36(or.uw),t.Y36(vt),t.Y36(Gt),t.Y36(t.sBO),t.Y36(fe))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-video"]],viewQuery:function(i,o){if(1&i&&(t.Gf(jm,5),t.Gf(kA,5),t.Gf(tx,5),t.Gf(FA,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.controlsContainer=d.first),t.iGM(d=t.CRH())&&(o.settingsContainer=d.first),t.iGM(d=t.CRH())&&(o.videoPrincipalContainer=d.first),t.iGM(d=t.CRH())&&(o.videoTarget=d.first)}},decls:4,vars:1,consts:[[1,"sinovad-container-video"],["id","videoPrincipalContainer",1,"sinovad-video-principal-container","sinovad-custom-container",2,"width","100%","height","100%"],["videoPrincipalContainer",""],["class","sinovad-video-container",3,"click","touchstart","mousemove",4,"ngIf"],[1,"sinovad-video-container",3,"click","touchstart","mousemove"],["videoContainer",""],[1,"sinovad-full-screen-video-container"],["tabindex","0",1,"sinovad-controls-container",3,"ngClass"],["controlsContainer",""],["id","videoHeaderSection","tabindex","0",1,"sinovad-video-header-section"],["id","backVideoButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-chevron-left"],["class","sinovad-video-header-section-title-container",4,"ngIf"],[1,"sinovad-full-screen-video-popup-footer"],[2,"width","100%"],["id","section_progress_bar",1,"sinovad-progress-bar-container"],["id","sliderButton",1,"sinovad-progress-bar"],[1,"sinovad-current-time"],["controlLeft",""],[1,"sinovad-slider-container"],["tabindex","-1",1,"sinovad-slider-content",3,"contextmenu","click","touchend","touchstart","touchmove","mousedown","mousemove"],[1,"sinovad-slider-fills"],["silderFills",""],[2,"width","0px"],[1,"sinovad-slider-fills-progress-container"],["sliderContainer",""],[1,"sinovad-slider-fills-progress-content"],[1,"sinovad-slider-fills-progress"],["silderProgress",""],["controlRight",""],["id","section_video_secondary_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-episode-buttons-section","sinovad-section"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-left"],["id","previousButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-right"],[2,"display","flex","align-items","center","float","right"],["id","nextButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],["id","aspectRatio",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-maximize"],["id","fullScreenButton",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-expand"],["id","settingsOption",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-gear"],[1,"sinovad-section",2,"display","flex","height","50px"],[1,"sinovad-full-screen-video-popup-footer-center"],["id","section_video_principal_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-footer-center-content"],["id","rewindButton",1,"sinovad-video-control-button",2,"margin-right","25px",3,"click"],[1,"fa-solid","fa-rotate-left"],["id","playButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","stopButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","forwardButton",1,"sinovad-video-control-button",2,"margin-left","25px",3,"click"],[1,"fa-solid","fa-rotate-right"],["class","sinovad-loading-video",3,"ngClass",4,"ngIf"],["class","easy-media-settings-section-container","tabindex","0",4,"ngIf"],[3,"ngIf"],["id","video","class","sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended",4,"ngIf"],[1,"sinovad-video-header-section-title-container"],["id","previousButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-backward-step"],["id","nextButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-forward-step"],["id","playButton",1,"sinovad-video-control-button","principal",3,"click"],["playButton",""],["src","",2,"display","none",3,"error"],[1,"fa-solid","fa-play"],["id","stopButton",1,"sinovad-video-control-button","principal",3,"click"],["stopButton",""],[1,"fa-solid","fa-pause"],[1,"sinovad-loading-video",3,"ngClass"],["tabindex","0",1,"easy-media-settings-section-container"],["settingsContainer",""],[1,"easy-media-settings-section-content"],["id","section_settings_back_button","tabindex","0",1,"sinovad-settings-options-header-section"],[1,"sinovad-settings-section-container-left"],[1,"sinovad-settings-section-content-left"],["id","closeSettings",1,"sinovad-video-control-button",3,"click"],["id","streams_options_section","tabindex","0",1,"sinovad-settings-options-section"],["ngFor","",3,"ngForOf"],["class","sinovad-settings-suboptions-section","tabindex","0",3,"id",4,"ngIf"],[3,"id","ngClass","click"],["tabindex","0",1,"sinovad-settings-suboptions-section",3,"id"],[1,"sinovad-subtitles-forzed-section",3,"innerHtml"],["id","video",1,"sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended"],["videoTarget",""]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1,2),t.YNc(3,u,55,24,"div",3),t.qZA()()),2&i&&(t.xp6(3),t.Q6J("ngIf",o.showVideo))},dependencies:[g.mk,g.sg,g.O5],styles:[".sinovad-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:1054;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}video[_ngcontent-%COMP%]::cue{background-color:transparent;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-loading-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;padding-bottom:0;left:0;background-color:#000;z-index:9999;display:flex;align-items:center;justify-content:center;font-size:30px;color:#fff}.sinovad-loading-video.show-controls[_ngcontent-%COMP%]{padding-bottom:300px;top:150px}.easy-media-settings-section-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:auto;background:rgba(0,0,0,.5);padding:0 0 50px;z-index:99999}.easy-media-settings-section-content[_ngcontent-%COMP%]{display:block}.sinovad-settings-options-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:48px;border-bottom:1px solid #dedede;margin-bottom:50px}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:20px;background-color:transparent;border:none;font-size:30px;border-radius:5px;cursor:pointer}.sinovad-settings-options-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:40px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:10px;background-color:transparent;border:none;font-size:30px;cursor:pointer;margin-right:6px;border-radius:5px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-full-screen-video-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.sinovad-full-screen-video-popup[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-video-header-section[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5);padding-left:10px;padding-top:10px}.sinovad-full-screen-video-popup-footer[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;padding-left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5)}.sinovad-progress-bar-container[_ngcontent-%COMP%]{width:100%;outline:none}.sinovad-progress-bar[_ngcontent-%COMP%]{height:40px;pointer-events:auto;position:relative;width:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px;border:none;border-radius:0;outline:none;background:transparent;opacity:.7}.sinovad-progress-bar[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-slider-container[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;height:100%;pointer-events:auto;position:relative;touch-action:none;padding-left:8px;padding-right:8px;border:none;border-radius:0;outline:none;background:transparent}.sinovad-slider-content[_ngcontent-%COMP%]{height:100%;padding-top:20px;cursor:pointer;outline:none}.sinovad-slider-fills[_ngcontent-%COMP%]{height:3px;overflow:hidden;pointer-events:none;width:100%;background:white;opacity:.5}.sinovad-slider-fills-progress-container[_ngcontent-%COMP%]{position:relative}.sinovad-slider-fills-progress-content[_ngcontent-%COMP%]{width:100%;height:8px;margin-top:-6px}.sinovad-slider-fills-progress[_ngcontent-%COMP%]{cursor:pointer;background:white;height:100%;width:0%}.sinovad-settings-options-header-section[_ngcontent-%COMP%]{display:flex;margin-left:10px;margin-top:10px}.sinovad-settings-section-container-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;float:left}.sinovad-settings-section-content-left[_ngcontent-%COMP%]{position:relative}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-controls-container[_ngcontent-%COMP%]{z-index:-99;pointer-events:none}.sinovad-controls-container.show[_ngcontent-%COMP%]{z-index:unset;pointer-events:unset}.sinovad-custom-video[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-full-screen-video-popup-episode-buttons-section[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:40px}.sinovad-full-screen-video-popup-episode-buttons-section-left[_ngcontent-%COMP%]{display:block;float:left;width:100%;padding-left:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]{display:block;float:right;width:100%;padding-right:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]   .sinovad-video-control-button[_ngcontent-%COMP%]{float:right}.sinovad-full-screen-video-popup-footer-left[_ngcontent-%COMP%]{display:block;float:left;width:170px}.sinovad-full-screen-video-popup-footer-left-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;color:#fff}.sinovad-current-time[_ngcontent-%COMP%]{color:#fff;font-size:25px}.sinovad-full-screen-video-popup-footer-center[_ngcontent-%COMP%]{display:block;float:left;width:100%}.sinovad-full-screen-video-popup-footer-center-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;justify-content:center}.sinovad-full-screen-video-popup-footer-right[_ngcontent-%COMP%]{width:100px;display:block;float:right}.sinovad-full-screen-video-popup-footer-right-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:right;height:100%}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;justify-content:center;width:100%;padding-right:70px}.sinovad-subtitles-forzed-section[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:10px;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;color:#fff;padding:10px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:6px;font-size:18px;font-weight:700}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;color:#000;height:30px;font-size:18px;border-radius:5px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:#000}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-video-control-button[_ngcontent-%COMP%]{color:#fff;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:10px;opacity:.9;font-size:25px;border-radius:100px;min-width:45px}.sinovad-video-control-button[_ngcontent-%COMP%]:hover{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus-visible{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus{background:white;color:#000;opacity:1}@media only screen and (min-width: 2048px){.sinovad-video-control-button[_ngcontent-%COMP%], .sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:35px}}@media only screen and (max-width: 767px){video[_ngcontent-%COMP%]::cue{font-size:25px}}"]})}return r})();const _=["itemListContainer"];function A(r,n){if(1&r&&(t.TgZ(0,"div",14)(1,"span"),t._uU(2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.Title)}}function G(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",10)(1,"button",11),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onClickItem(d))}),t._UZ(2,"img",12),t.qZA(),t.YNc(3,A,3,1,"div",13),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw(2);t.xp6(1),t.hYB("id","item_",e.TvSerieId?e.TvSerie_ID:e.MovieId,"_",e.MediaType,""),t.xp6(1),t.Q6J("src",i.sharedService.getUrlByItemMovieDataBase(e),t.LSH),t.xp6(1),t.Q6J("ngIf",!e.Subtitle)}}function re(r,n){if(1&r&&(t.TgZ(0,"section",4)(1,"div",5)(2,"div",6,7)(4,"div",8,9),t.YNc(6,G,4,4,"ng-template",3),t.qZA()()()()),2&r){const e=n.$implicit;t.MGl("id","section_search_",n.index,""),t.xp6(6),t.Q6J("ngForOf",e)}}let Se=(()=>{class r{constructor(e,i,o){this.libraryService=e,this.router=i,this.sharedService=o,this.listItems=[],this.listGroupItems=[]}ngOnInit(){this.getItemsBySearch()}getItemsBySearch(){""!=this.searchText.trim()?this.sharedService.mediaServers.forEach(e=>{e.isSecureConnection&&this.libraryService.getAllMediaItemsBySearchQuery(e.Url,this.searchText).then(i=>{this.listItems=this.listItems.concat(i),this.buildGroupItems(this.listItems)},i=>{console.error(i)})}):(this.listItems=[],this.listGroupItems=[])}buildGroupItems(e){if(e&&e.length>0){let m=window.innerWidth>=2048?250:180;var i=Math.floor(this.container.nativeElement.offsetWidth/m),o=e.reduce((v,I,j)=>{var te=Math.floor(j/i)+1;return v[`row${te}`]=v[`row${te}`]||[],v[`row${te}`].push(I),v},{}),d=Object.keys(o).map(function(v){return o[v]});this.listGroupItems=d}else this.listGroupItems=[]}onClickItem(e){this.getMediaDetail(e)}getMediaDetail(e){var i=this.sharedService.mediaServers.find(o=>o.Id==e.MediaServerId);this.router.navigateByUrl("/media/server/"+i.Guid+"/libraries/"+e.LibraryId+"/detail?mediaType="+e.MediaTypeId+"&mediaId="+e.MediaItemId)}onResize(e){this.buildGroupItems(this.listItems)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Nc),t.Y36(Gn.F0),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-vertical-item-list"]],viewQuery:function(i,o){if(1&i&&t.Gf(_,5),2&i){let d;t.iGM(d=t.CRH())&&(o.container=d.first)}},hostBindings:function(i,o){1&i&&t.NdJ("resize",function(m){return o.onResize(m)},!1,t.Jf7)},inputs:{searchText:"searchText"},decls:4,vars:3,consts:[[1,"sinovad-vertical-list-content"],["itemListContainer",""],[1,"sinovad-vertical-list-second-content"],["ngFor","",3,"ngForOf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-container"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["referrerpolicy","no-referrer",3,"src"],["class","sinovad-item-caption-container",4,"ngIf"],[1,"sinovad-item-caption-container"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0,1)(2,"div",2),t.YNc(3,re,7,2,"ng-template",3),t.qZA()()),2&i&&(t.Udp("height","100%"),t.xp6(3),t.Q6J("ngForOf",o.listGroupItems))},dependencies:[g.sg,g.O5],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px;justify-content:center}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex;gap:20px}.sinovad-item-caption-container[_ngcontent-%COMP%]{color:#fff;font-weight:700;padding-top:10px;text-align:center}.sinovad-vertical-list-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-vertical-list-second-content[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:160px;width:160px;height:200px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-content[_ngcontent-%COMP%]{gap:20px}.sinovad-item-container[_ngcontent-%COMP%]{padding:0;margin:0;width:min-content;border-radius:6px}@media only screen and (min-width: 2048px){.sinovad-item-container[_ngcontent-%COMP%]{padding-right:0px 10px 0px 0px;margin:6px}.sinovad-list-content[_ngcontent-%COMP%]{gap:unset}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return r})();function je(r,n){if(1&r&&(t.TgZ(0,"div",7)(1,"h2"),t._uU(2),t.qZA()()),2&r){const e=t.oxw();t.xp6(2),t.hij('Resultados para "',e.searchText,'"')}}let _t=(()=>{class r{constructor(e,i,o){this.router=e,this.route=i,this.sharedService=o,this.searchText="",this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){let e=this.route.snapshot.queryParams.text;null!=e&&""!=e?this.searchText=e:this.router.navigate(["home"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Gn.F0),t.Y36(Gn.gz),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-search-view"]],decls:8,vars:4,consts:[[1,"sinovad-search-view-container"],["container",""],[1,"sinovad-search-view-title"],["header",""],["class","sinovad-search-view-title-content",4,"ngIf"],["itemListContainer",""],[3,"searchText"],[1,"sinovad-search-view-title-content"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0,1)(2,"div",2,3),t.YNc(4,je,3,1,"div",4),t.qZA(),t.TgZ(5,"div",null,5),t._UZ(7,"app-vertical-item-list",6),t.qZA()()),2&i){const d=t.MAs(3);t.xp6(4),t.Q6J("ngIf",null!=o.searchText&&""!=o.searchText),t.xp6(1),t.Udp("height","calc(100% - "+d.offsetHeight+"px)"),t.xp6(2),t.Q6J("searchText",o.searchText)}},dependencies:[g.O5,Se],styles:[".sinovad-search-view-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;background:#2d3744;overflow:auto}.sinovad-search-view-title[_ngcontent-%COMP%]{color:#fff;margin-left:20px;margin-right:20px}.sinovad-search-view-title[_ngcontent-%COMP%]   .sinovad-search-view-title-content[_ngcontent-%COMP%]{height:100%;border-bottom:1px solid #dedede;width:100%}"]})}return r})(),Nt=(()=>{class r{constructor(e,i){this.sharedService=e,this.restProvider=i}getProfileByGuid(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/profiles/GetByGuidAsync/"+e).then(d=>{i(d)},d=>{console.error(d),o(d)})})}getAllProfiles(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/profiles/GetAllWithPaginationByUserAsync/"+this.sharedService.userData.Id).then(o=>{let d=o.Data;this.sharedService.listProfiles=d,this.sharedService.currentProfile=d[0],e(!0)},o=>{i(o)})})}getProfiles(e,i,o,d,m,v,I){return new Promise((j,te)=>{let me=mi();this.lastCallGuid=me;var We="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+d+"&sortDirection="+m+"&searchText="+v+"&searchBy="+I;this.restProvider.executeSinovadApiService(Xe.GET,"/profiles/GetAllWithPaginationByUserAsync/"+e+We).then(pt=>{this.lastCallGuid==me&&j(pt)},pt=>{console.error(pt),te(pt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/profiles/Update":"/profiles/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/profiles/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/profiles/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(Gt),t.LFG(vt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function zt(r,n){if(1&r&&(t.TgZ(0,"div",23),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.hij(" ",i.sharedService.getInitials(e)," ")}}function gn(r,n){if(1&r&&(t._UZ(0,"img",23),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw().$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function xn(r,n){1&r&&(t.TgZ(0,"div",24)(1,"div",25),t._UZ(2,"img",6),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()()),2&r&&(t.xp6(2),t.Q6J("src",t.lcZ(3,1,t.xi3(4,3,"edit-profile.png","GetIconURLByKey")),t.LSH))}function Yn(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onSelectProfile(d))}),t.YNc(1,zt,2,1,"div",20),t.YNc(2,gn,3,6,"img",20),t.YNc(3,xn,5,6,"div",21),t.TgZ(4,"div",22),t._uU(5),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw(2);t.MGl("id","profile_",e.Id,""),t.xp6(1),t.Q6J("ngIf",null==e.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.AvatarPath),t.xp6(1),t.Q6J("ngIf",i.enableEditMode),t.xp6(2),t.hij(" ",e.FullName," ")}}function ii(r,n){if(1&r&&t.YNc(0,Yn,6,5,"ng-template",18),2&r){const e=t.oxw();t.Q6J("ngForOf",e.sharedService.listProfiles)}}function vi(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeToEditMode())}),t._uU(1," EDITAR PERFILES "),t.qZA()}}function Ai(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmEdit())}),t._uU(1," LISTO "),t.qZA()}}let qn=(()=>{class r{constructor(e,i,o){this.profileService=e,this.router=i,this.sharedService=o,this.enableEditMode=!1,this.showLoading=!0,this._window=window}ngOnInit(){this.getProfiles()}changeToEditMode(){this.enableEditMode=!0}confirmEdit(){this.enableEditMode=!1}showNewProfile(){this.router.navigateByUrl("/add-profile")}editProfile(e){this.router.navigateByUrl("/edit-profile/"+e.Guid)}onSelectProfile(e){this.enableEditMode?this.editProfile(e):this.enterProfile(e)}enterProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}getProfiles(){this.showLoading=!0,this.profileService.getProfiles(this.sharedService.userData.Id,1,100,"Id","asc","","").then(e=>{let i=e.Data;this.sharedService.listProfiles=i,this.sharedService.currentProfile=i[0],this.showLoading=!1},e=>{this.showLoading=!1})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Nt),t.Y36(Gn.F0),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profiles-view"]],decls:26,vars:18,consts:[[1,"sinovad-profiles-view-container","sinovad-profiles-section"],[1,"sinovad-profiles-view-content"],["profilesViewContent",""],[1,"sinovad-page-header"],["profilesViewHeader",""],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-profiles-view-body"],[1,"sinovad-profiles-view-title-container"],[1,"sinovad-profiles-view-list-container"],[3,"ngIf"],["id","create_new_profile",3,"click"],[1,"sinovad-initials-profile","add"],["width","40px",3,"src"],[1,"sinovad-fullname-profile"],[1,"sinovad-profiles-view-footer"],["profilesViewFooter",""],[3,"showLoading"],["ngFor","",3,"ngForOf"],[3,"id","click"],["class","sinovad-initials-profile",4,"ngIf"],["class","sinovad-icon-edit-profile-container",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],[1,"sinovad-initials-profile"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[3,"click"],[1,"ready",3,"click"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3,4)(5,"div",5),t._UZ(6,"img",6),t.ALo(7,"async"),t.ALo(8,"formatDataPipe"),t.qZA()(),t.TgZ(9,"div",7)(10,"div",8),t._uU(11," \xbfQui\xe9n eres? "),t.qZA(),t.TgZ(12,"div",9),t.YNc(13,ii,1,1,"ng-template",10),t.TgZ(14,"button",11),t.NdJ("click",function(){return o.showNewProfile()}),t.TgZ(15,"div",12),t._UZ(16,"img",13),t.ALo(17,"async"),t.ALo(18,"formatDataPipe"),t.qZA(),t.TgZ(19,"div",14),t._uU(20," Crear "),t.qZA()()()(),t.TgZ(21,"div",15,16),t.YNc(23,vi,2,0,"ng-template",10),t.YNc(24,Ai,2,0,"ng-template",10),t.qZA()()(),t._UZ(25,"app-custom-spinner",17)),2&i){const d=t.MAs(4),m=t.MAs(22);t.xp6(6),t.Q6J("src",t.lcZ(7,8,t.xi3(8,10,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(3),t.Udp("height",o._window.innerWidth<768?"calc(100% - "+(d.offsetHeight+m.offsetHeight)+"px)":""),t.xp6(4),t.Q6J("ngIf",o.sharedService.listProfiles),t.xp6(3),t.Q6J("src",t.lcZ(17,13,t.xi3(18,15,"plus.png","GetIconURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngIf",!o.enableEditMode),t.xp6(1),t.Q6J("ngIf",o.enableEditMode),t.xp6(1),t.Q6J("showLoading",o.showLoading)}},dependencies:[$i,g.sg,g.O5,Kt,g.Ov],styles:["[_nghost-%COMP%]{width:100%;height:100%;background:black;position:absolute;bottom:0;left:0}.sinovad-profiles-section[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}section[_ngcontent-%COMP%]{outline:none}input[_ngcontent-%COMP%]{outline:none}.sinovad-profiles-view-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.sinovad-profiles-view-content[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.sinovad-profiles-view-title-container[_ngcontent-%COMP%]{font-size:32px;color:#fff;text-align:center;padding-bottom:60px;font-weight:700}.sinovad-profiles-view-body[_ngcontent-%COMP%]{overflow-y:auto}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;opacity:.8;padding:0;margin-right:20px;width:140px}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:60px;padding-bottom:30px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;opacity:.8;background:lightslategrey;color:#fff;font-size:15px;height:48PX;padding:0 24px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button.ready[_ngcontent-%COMP%]{background:#007bff}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:100px;border:none;display:flex;align-items:center;justify-content:center;font-size:80px;background:lightslategrey;color:#fff}.sinovad-initials-profile.add[_ngcontent-%COMP%]{background:#007bff}.sinovad-initials-profile.add[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px}.sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;color:#fff;font-size:30px;padding-top:10px}.sinovad-screen-back-container[_ngcontent-%COMP%]{position:relative}.sinovad-screen-back-content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;left:0;position:absolute;margin-left:20px;opacity:.8;height:60px;display:flex;align-items:center;justify-content:center}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{width:54px}"]})}return r})();class Zi{}function br(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t._UZ(3,"img",4),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",5)(7,"button",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onCloseProfileNew())}),t._uU(8,"CANCELAR"),t.qZA()()(),t.TgZ(9,"div",7)(10,"div",8)(11,"h2"),t._uU(12,"Crear Perfil"),t.qZA(),t.TgZ(13,"div",9)(14,"input",10),t.NdJ("ngModelChange",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.currentTmpProfile.FullName=o)}),t.qZA()(),t.TgZ(15,"div",9)(16,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveProfile())}),t._uU(17,"GUARDAR"),t.qZA()()()()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(11),t.Q6J("placeholder",e.placeHolder)("ngModel",e.currentTmpProfile.FullName)}}let Dr=(()=>{class r{constructor(e,i,o){this.router=e,this.sharedService=i,this.profileService=o,this.placeHolder="Nombre de Perfil"}ngOnInit(){this.currentTmpProfile=new Zi,this.currentTmpProfile.UserId=this.sharedService.userData.Id}ngAfterViewInit(){}saveProfile(){this.profileService.saveItem(this.currentTmpProfile).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}onCloseProfileNew(){this.router.navigateByUrl("/select-profile")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Gn.F0),t.Y36(Gt),t.Y36(Nt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile-new"]],decls:1,vars:1,consts:[["class","sinovad-form-page-container",4,"ngIf"],[1,"sinovad-form-page-container"],[1,"sinovad-page-header"],[1,"sinovad-logo-container","sinovaclient-left"],[3,"src"],[1,"sinovaclient-right"],[1,"cancel",3,"click"],[1,"sinovad-page-body"],[1,"sinovad-page-content"],[1,"mb-3"],["type","text",3,"placeholder","ngModel","ngModelChange"],[1,"save",3,"click"]],template:function(i,o){1&i&&t.YNc(0,br,18,8,"div",0),2&i&&t.Q6J("ngIf",o.currentTmpProfile)},dependencies:[rt.Fj,rt.JJ,rt.On,g.O5,Kt,g.Ov],styles:[".sinovad-form-page-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px;display:flex}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovaclient-left[_ngcontent-%COMP%]{float:left;width:100%}.sinovaclient-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.sinovaclient-right[_ngcontent-%COMP%]{float:right;width:100%}button[_ngcontent-%COMP%]{float:right;font-size:15px;padding:0 24px;height:48px;color:#f9f9f9;border-radius:5px;border:none;opacity:.8}button.save[_ngcontent-%COMP%]{background:#007bff;width:100%}button.cancel[_ngcontent-%COMP%]{background:lightslategrey}button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-page-body[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]{width:300px}.sinovad-page-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;text-align:center}.sinovad-page-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f91a;color:#fff;width:100%;padding:7px 12px;font-size:15px;height:48px}"]})}return r})();function Ys(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",6)(1,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveProfile())}),t._uU(2,"Listo"),t.qZA()()}}function Vm(r,n){1&r&&(t.TgZ(0,"p",24),t._uU(1,"El perfil principal no se puede eliminar"),t.qZA())}function ox(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onClickDeleteButton())}),t._uU(1,"Eliminar Perfil"),t.qZA()}}function sx(r,n){if(1&r&&(t.TgZ(0,"div",25),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.sharedService.getInitials(e.currentTmpProfile)," ")}}function pw(r,n){if(1&r&&(t._UZ(0,"img",25),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(2);t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.currentTmpProfile.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function gw(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"h2",11),t._uU(4,"Editar Perfil"),t.qZA(),t.YNc(5,Vm,2,0,"p",12),t.qZA(),t.TgZ(6,"div",13)(7,"div",14)(8,"input",15),t.NdJ("ngModelChange",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.currentTmpProfile.FullName=o)}),t.qZA(),t.TgZ(9,"div",16),t.YNc(10,ox,2,0,"button",17),t.qZA()(),t.TgZ(11,"div",18)(12,"input",19,20),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.uploadAvatarImage(o))}),t.qZA(),t.TgZ(14,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(13);return t.KtG(o.click())}),t.YNc(15,sx,2,1,"div",21),t.YNc(16,pw,3,6,"img",21),t.TgZ(17,"div",22)(18,"div",23),t._UZ(19,"img",3),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()()()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.currentTmpProfile&&e.currentTmpProfile.Id>0&&e.currentTmpProfile.Main),t.xp6(3),t.Q6J("ngModel",e.currentTmpProfile.FullName),t.xp6(2),t.Q6J("ngIf",e.currentTmpProfile&&e.currentTmpProfile.Id>0&&!e.currentTmpProfile.Main),t.xp6(5),t.Q6J("ngIf",null==e.currentTmpProfile.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.currentTmpProfile.AvatarPath&&!e.hideImage),t.xp6(3),t.Q6J("src",t.lcZ(20,6,t.xi3(21,8,"edit-profile.png","GetIconURLByKey")),t.LSH)}}let _w=(()=>{class r{constructor(e,i,o,d,m){this.router=e,this.activeRoute=i,this.profileService=o,this.restProvider=d,this.sharedService=m,this.hideImage=!1}ngOnInit(){this.profileService.getProfileByGuid(this.activeRoute.snapshot.params.profileGuid).then(i=>{null==i.Data&&this.router.navigateByUrl("404"),this.currentTmpProfile=i.Data},i=>{this.router.navigateByUrl("404")})}ngAfterViewInit(){}saveProfile(){this.profileService.saveItem(this.currentTmpProfile).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}onClickDeleteButton(){this.profileService.deleteItem(this.currentTmpProfile.Id).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}uploadAvatarImage(e){if(e.target.files&&e.target.files.length>0){let d=e.target.files[0];var i=new FormData;i.append("ProfileId",this.currentTmpProfile.Id.toString()),i.append("File",d,d.name),this.restProvider.executeHttpPostMethodWithFormData("/documents/UploadAvatarProfile",i).then(m=>{this.restProvider.executeSinovadApiService(Xe.GET,"/profiles/GetAsync/"+this.currentTmpProfile.Id).then(v=>{this.currentTmpProfile=v.Data,this.hideImage=!0,setTimeout(()=>{this.hideImage=!1},0)},v=>{console.error(v)})},m=>{console.error(m)})}}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Gn.F0),t.Y36(Gn.gz),t.Y36(Nt),t.Y36(vt),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile-edit"]],decls:8,vars:8,consts:[[1,"sinovad-form-page-container"],[1,"sinovad-page-header"],[1,"sinovad-logo-container","sinovaclient-left"],[3,"src"],["class","sinovaclient-right",4,"ngIf"],["class","sinovad-page-container",4,"ngIf"],[1,"sinovaclient-right"],[3,"click"],[1,"sinovad-page-container"],[1,"sinovad-page-content"],[1,"top-container"],[1,"title"],["class","subtitle",4,"ngIf"],[1,"bottom-container"],[1,"first"],["type","text",3,"ngModel","ngModelChange"],[1,"sinovad-delete-profile-button-container"],[3,"click",4,"ngIf"],[1,"second"],["type","file","accept",".png,.jpg",2,"display","none",3,"change"],["input",""],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[1,"subtitle"],[1,"sinovad-initials-profile"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.YNc(6,Ys,3,0,"div",4),t.qZA(),t.YNc(7,gw,22,11,"div",5),t.qZA()),2&i&&(t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngIf",o.currentTmpProfile),t.xp6(1),t.Q6J("ngIf",o.currentTmpProfile))},dependencies:[rt.Fj,rt.JJ,rt.On,g.O5,Kt,g.Ov],styles:[".sinovad-form-page-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px;display:flex}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovaclient-left[_ngcontent-%COMP%]{float:left;width:100%}.sinovaclient-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.sinovaclient-right[_ngcontent-%COMP%]{float:right;width:100%}.sinovaclient-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;font-size:20px;background:#007bff;color:#f9f9f9;border-radius:5px;border:none;opacity:.8;height:48px;padding:0 24px}.sinovaclient-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:100px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]{display:block}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{text-align:left}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   h2.title[_ngcontent-%COMP%]{color:#fff;font-size:32px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   p.subtitle[_ngcontent-%COMP%]{font-size:15px;color:#cacaca}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f91a;color:#fff;min-width:200px;font-size:20px;border-radius:4px;outline:none;padding:7px 12px;border:1px solid transparent}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{margin:0 0 0 75px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:213px;height:213px;border:2px solid transparent;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:80px;background-color:#789;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:30px}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:transparent;color:red;opacity:.8;font-size:15px}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:170px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{text-align:center}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{order:2}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 0 20px;order:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px}}"]})}return r})();function vw(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"span",7),t._uU(10,"Privado"),t.qZA(),t.TgZ(11,"span",8)(12,"span",9),t._uU(13),t.qZA()()()(),t.TgZ(14,"div",5)(15,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.updateMediaServer())}),t.TgZ(16,"div",5)(17,"label",11),t._uU(18,"Nombre Familiar"),t.qZA(),t._UZ(19,"input",12),t.TgZ(20,"p",13),t._uU(21,"Este nombre se usar\xe1 para que otros ordenadores identifiquen este servidor en tu red. Si lo dejas en blanco se usar\xe1 el nombre del equipo."),t.qZA()(),t.TgZ(22,"div",14)(23,"button",15)(24,"span",16),t._uU(25,"Guardar cambios"),t.qZA()(),t._UZ(26,"span",17),t.qZA()()()()()()()()}if(2&r){const e=t.oxw(2);t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - General"),t.xp6(11),t.Oqu(e.mediaServer.Url),t.xp6(2),t.Q6J("formGroup",e.customForm),t.xp6(4),t.Q6J("placeholder",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName),t.xp6(4),t.Q6J("disabled",e.loading||e.customForm.pristine||e.customForm.invalid)}}function yw(r,n){if(1&r&&t._UZ(0,"app-server-connection-error",18),2&r){const e=t.oxw(2);t.Q6J("mediaServer",e.mediaServer)}}function bw(r,n){if(1&r&&(t.YNc(0,vw,27,5,"ng-template",0),t.YNc(1,yw,1,1,"ng-template",0)),2&r){const e=t.oxw();t.Q6J("ngIf",e.mediaServer&&e.mediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.mediaServer&&!e.mediaServer.isSecureConnection)}}function Ew(r,n){1&r&&(t.TgZ(0,"div",19),t._UZ(1,"mat-spinner"),t.qZA())}let $A=(()=>{class r{constructor(e,i,o,d,m,v,I,j){this.signalIrService=e,this.serverService=i,this.snackBarService=o,this.formBuilder=d,this.router=m,this.activeRoute=v,this.restProvider=I,this.sharedService=j,this.loading=!1,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(te=>{this.mediaServer&&this.mediaServer.Guid==te&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0)}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(te=>{this.mediaServer&&this.mediaServer.Guid==te&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){var e=this.activeRoute.snapshot.params.serverGuid,i=this.sharedService.mediaServers.find(o=>o.Guid==e);i?(this.mediaServer=JSON.parse(JSON.stringify(i)),i.isSecureConnection?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3),this.customForm=this.formBuilder.group({familyName:new rt.NI(this.mediaServer.FamilyName)})):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getMediaServerData(){var e=this;return(0,Di.Z)(function*(){e.loading=!0;var i=e.activeRoute.snapshot.params.serverGuid;e.serverService.getMediaServerByGuid(i).then(o=>{var d=o.Data,v=e.sharedService.mediaServers.find(I=>I.Guid==i);v.FamilyName=d.FamilyName,e.mediaServer=v,e.customForm=e.formBuilder.group({familyName:new rt.NI(e.mediaServer.FamilyName)}),e.loading=!1},o=>{e.router.navigateByUrl("/404"),e.loading=!1})})()}ngAfterViewInit(){}updateMediaServer(){this.loading=!0;var i=JSON.parse(JSON.stringify(this.mediaServer));i.FamilyName=this.customForm.value.familyName,this.restProvider.executeSinovadApiService(Xe.PUT,"/mediaServers/Update",i).then(o=>{this.getMediaServerData(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",yi.Success)},o=>{this.loading=!1,console.error(o)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Io),t.Y36(Gy),t.Y36(rs),t.Y36(rt.qu),t.Y36(Gn.F0),t.Y36(Gn.gz),t.Y36(vt),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-server-setttings-general"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"remote-access-mapping"],[1,"mapping-label"],[1,"mapping-address"],[1,"mapping-value"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["type","text","formControlName","familyName",1,"form-control",3,"placeholder"],[1,"help-block"],[1,"form-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn-label"],[1,"form-message"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.YNc(0,bw,2,2,"ng-template",0),t.YNc(1,Ew,2,0,"ng-template",0)),2&i&&(t.Q6J("ngIf",!o.loadingConnection),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.O5,rt._Y,rt.Fj,rt.JJ,rt.JL,Ms.Ou,Zd,rt.sg,rt.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}']})}return r})();class Tw{}let Sw=(()=>{class r{constructor(e){this.restProvider=e}getDirectoriesByMediaServer(e){return new Promise((i,o)=>{this.restProvider.executeHttpMethodByUrl(Xe.GET,e+"/api/directories").then(d=>{i(d)},d=>{console.error(d),o(d)})})}getSubdirectoriesByMediaServerAndDirectoryPath(e,i){return new Promise((o,d)=>{var m=Ln().encode(i);this.restProvider.executeHttpMethodByUrl(Xe.GET,e+"/api/directories/"+m).then(v=>{o(v)},v=>{console.error(v),d(v)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(vt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const qA=function(r){return{"sinovad-directory-selected":r}};function Cw(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickMainDirectory(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(2,qA,i.selectedMainDirectory&&e.Name==i.selectedMainDirectory.Name)),t.xp6(1),t.hij(" ",e.Name," ")}}function Dw(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickBackFolder())}),t._uU(1," <= .. [Regresar] "),t.qZA()}}function xw(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onClickSubDirectory(d))}),t._uU(1),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(2,qA,i.selectedSubdirectory&&e.Name==i.selectedSubdirectory.Name)),t.xp6(1),t.hij(" ",e.Name," ")}}let JA=(()=>{class r{constructor(e,i){this.directoryService=e,this.activeModal=i,this.listMainDirectories=[],this.listSubdirectoriesTmp=[]}ngOnInit(){this.getDirectories()}getDirectories(){this.directoryService.getDirectoriesByMediaServer(this.mediaServer.Url).then(e=>{this.listMainDirectories=JSON.parse(e);let i=this.listMainDirectories[0];this.selectedMainDirectory=i,this.getSubdirectoriesByPath(i)})}getSubdirectoriesByPath(e){this.directoryService.getSubdirectoriesByMediaServerAndDirectoryPath(this.mediaServer.Url,e.Path).then(i=>{this.listSubdirectoriesTmp=JSON.parse(i)},i=>{console.error(i)})}saveDirectory(){this.activeModal.close(this.getCurrentPath())}getCurrentPath(){return this.selectedSubdirectory?this.selectedSubdirectory.Path:this.selectedMainDirectory.Path}closeModal(){this.activeModal.dismiss()}onClickBackFolder(){this.selectedSubdirectory.ParentDirectory.IsMainDirectory?(this.selectedSubdirectory=void 0,this.getSubdirectoriesByPath(this.selectedMainDirectory)):(this.selectedSubdirectory=this.selectedSubdirectory.ParentDirectory,this.getSubdirectoriesByPath(this.selectedSubdirectory))}onClickMainDirectory(e){this.selectedMainDirectory=e,this.getSubdirectoriesByPath(this.selectedMainDirectory)}onClickSubDirectory(e){if(null==this.selectedSubdirectory)this.selectedSubdirectory=e,this.selectedSubdirectory.ParentDirectory=this.selectedMainDirectory;else{let i=JSON.parse(JSON.stringify(this.selectedSubdirectory));this.selectedSubdirectory=e,this.selectedSubdirectory.ParentDirectory=i}this.getSubdirectoriesByPath(this.selectedSubdirectory)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Sw),t.Y36(Vs))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-directory-chooser"]],inputs:{mediaServer:"mediaServer"},decls:17,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[1,"sinovad-directory-chooser-content"],[1,"sinovad-main-directories-section"],["ngFor","",3,"ngForOf"],[1,"sinovad-subdirectories-section"],["class","sinovad-subdirectory-option",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"sinovad-main-directory-option",3,"ngClass","click"],[1,"sinovad-subdirectory-option",3,"click"],[1,"sinovad-subdirectory-option",3,"ngClass","click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2,"Seleccionar directorio"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return o.closeModal()}),t._UZ(4,"i",3),t.qZA()(),t.TgZ(5,"div",4)(6,"div",5)(7,"div",6),t.YNc(8,Cw,2,4,"ng-template",7),t.qZA(),t.TgZ(9,"div",8),t.YNc(10,Dw,2,0,"button",9),t.YNc(11,xw,2,4,"ng-template",7),t.qZA()()(),t.TgZ(12,"div",10)(13,"button",11),t.NdJ("click",function(){return o.closeModal()}),t._uU(14,"Close"),t.qZA(),t.TgZ(15,"button",12),t.NdJ("click",function(){return o.saveDirectory()}),t._uU(16,"Guardar"),t.qZA()()),2&i&&(t.xp6(8),t.Q6J("ngForOf",o.listMainDirectories),t.xp6(2),t.Q6J("ngIf",o.selectedSubdirectory),t.xp6(1),t.Q6J("ngForOf",o.listSubdirectoriesTmp))},dependencies:[g.mk,g.sg,g.O5],styles:["[_nghost-%COMP%]{background:rgba(17,17,17,.65);padding:20px}.modal-body[_ngcontent-%COMP%]{height:100%;display:flex}.sinovad-directory-chooser-container[_ngcontent-%COMP%]{display:block;background-color:#282828;color:#000;width:400px;height:500px;border:1px solid #dedede;border-radius:5px;padding:20px}.sinovad-main-directories-section[_ngcontent-%COMP%]{display:block;width:50%;padding-right:20px}.sinovad-subdirectories-section[_ngcontent-%COMP%]{display:block;width:50%;overflow-x:hidden;overflow-y:auto;padding-left:10px;height:100%}.sinovad-directory-chooser-content[_ngcontent-%COMP%]{display:flex;width:100%;background:black}.sinovad-main-directory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-main-directory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-subdirectory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-subdirectory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-directory-chooser-header[_ngcontent-%COMP%]{display:block;float:right;width:100%}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;background:transparent;border:0;outline:none;cursor:pointer;font-size:20px;color:#fff;opacity:.7}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-directory-selected[_ngcontent-%COMP%]{border-left:4px solid #007bff;padding-left:6px;background-color:#ffffff0d;opacity:1}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]{display:inline-block;width:100%}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   .sinovad-directory-chooser-footer-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;color:#fff;background:#F18307;border:none;border-radius:5px;font-weight:700;cursor:pointer}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]{display:inline-block;padding:10px 0;width:100%;height:50px}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border-radius:5px;width:100%;padding:6px 10px}"]})}return r})();var QA=S(3680),XA=S(8525);function Mw(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function Aw(r,n){if(1&r&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Name," ")}}function Iw(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Tipo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function ww(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Directorio es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function Pw(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveStorage())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,Mw,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Tipo"),t.qZA(),t.TgZ(15,"mat-select",9)(16,"mat-option",10),t._uU(17,"--"),t.qZA(),t.YNc(18,Aw,2,2,"mat-option",11),t.qZA(),t.YNc(19,Iw,4,0,"mat-error",8),t.qZA(),t.TgZ(20,"mat-form-field")(21,"mat-label"),t._uU(22,"Directorio"),t.qZA(),t.TgZ(23,"input",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showChooserDirectoryModal())}),t.qZA(),t.YNc(24,ww,4,0,"mat-error",8),t.qZA()(),t.TgZ(25,"div",13)(26,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(27,"Close"),t.qZA(),t.TgZ(28,"button",15),t._uU(29,"Guardar"),t.qZA()()(),t._UZ(30,"app-custom-spinner",16)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.libraryFormGroup),t.xp6(3),t.Oqu(e.library.Id>0?"Editar Almacenamiento":"Nuevo Almacenamiento"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.name.hasError("required")),t.xp6(5),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.mediaTypes),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.mediaType.hasError("required")),t.xp6(4),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.physicalPath.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.libraryFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let Ow=(()=>{class r{constructor(e,i,o,d,m){this.sharedService=e,this.libraryService=i,this.activeModal=o,this.formBuilder=d,this.modalService=m,this.showLoading=!1,this.matcher=new Vr,this.mediaTypes=[{Id:1,Name:"Movies"},{Id:2,Name:"Tv Series"}]}ngOnInit(){this.libraryFormGroup=this.formBuilder.group({name:new rt.NI(this.library.Name,[rt.kI.required]),mediaType:new rt.NI(this.library.MediaTypeCatalogDetailId,[rt.kI.required]),physicalPath:new rt.NI(this.library.PhysicalPath,[rt.kI.required])})}saveStorage(){if(this.libraryFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.library));e.Name=this.libraryFormGroup.value.name,e.MediaTypeCatalogDetailId=Number(this.libraryFormGroup.value.mediaType),e.MediaTypeCatalogId=_n.MediaType,e.PhysicalPath=this.libraryFormGroup.value.physicalPath,e.MediaServerId=this.mediaServer.Id,this.libraryService.saveItem(this.mediaServer.Url,e).then(i=>{this.showLoading=!1,this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.libraryFormGroup.markAllAsTouched()}showChooserDirectoryModal(){var e=this,i=this.modalService.open(JA,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.mediaServer=this.mediaServer,i.closed.subscribe(o=>{e.libraryFormGroup.controls.physicalPath.setValue(o)})}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Gt),t.Y36(Nc),t.Y36(Vs),t.Y36(rt.qu),t.Y36(ia))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-library-form"]],inputs:{mediaServer:"mediaServer",library:"library"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","mediaType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","physicalPath","readonly","",2,"cursor","pointer",3,"errorStateMatcher","click"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,Pw,31,11,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.library&&o.libraryFormGroup)},dependencies:[rt._Y,rt.Fj,rt.JJ,rt.JL,rt.sg,rt.u,$i,g.sg,g.O5,ao.Nt,xi.KE,xi.hX,xi.TO,QA.ey,XA.gD],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function Rw(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onSelectItem(d))}),t._UZ(1,"i"),t.TgZ(2,"span"),t._uU(3),t.qZA()()}if(2&r){const e=n.$implicit;t.xp6(1),t.Gre("",e.iconClass," me-2"),t.xp6(2),t.Oqu(e.title)}}function Nw(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t.NdJ("clickOutside",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickOutside())}),t.TgZ(2,"div",3),t.YNc(3,Rw,4,4,"ng-template",4),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Udp("top",e.top+"px")("right",e.right+"px"),t.xp6(2),t.Q6J("ngForOf",e.options.listItems)}}let Lw=(()=>{class r{constructor(e){this.ref=e,this.hide=new t.vpe,this.selectOption=new t.vpe,this.showMenu=!1}ngAfterViewInit(){setTimeout(()=>{this.showMenu=!0,this.ref.detectChanges()},100)}onClickOutside(){this.hide.emit(!0)}onSelectItem(e){this.selectOption.emit(e)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.sBO))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-menu"]],inputs:{options:"options",right:"right",top:"top"},outputs:{hide:"hide",selectOption:"selectOption"},decls:1,vars:1,consts:[["class","custom-actions-menu-container",4,"ngIf"],[1,"custom-actions-menu-container"],[1,"custom-actions-menu-content",3,"clickOutside"],[1,"custom-actions-menu-scroller"],["ngFor","",3,"ngForOf"],[1,"menu-item",3,"click"]],template:function(i,o){1&i&&t.YNc(0,Nw,4,5,"div",0),2&i&&t.Q6J("ngIf",o.showMenu)},dependencies:[g.sg,g.O5,Gs],styles:[".custom-actions-menu-container[_ngcontent-%COMP%]{position:absolute;inset:0 auto 0 0;margin:0;z-index:1014;width:100%;height:100%}.custom-actions-menu-content[_ngcontent-%COMP%]{background-color:#191a1c;border-radius:4px;box-shadow:0 4px 10px #00000059;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:8px 0;transform-origin:center top;transition:background .15s ease-out;position:absolute}.custom-actions-menu-scroller[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;padding-right:0;overflow-x:hidden}button.menu-item[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;word-wrap:break-word;display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:4px 20px;text-align:left;width:100%}button.menu-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}"]})}return r})(),kw=(()=>{class r{constructor(e,i,o){this.factoryResolver=e,this.injector=i,this.applicationRef=o}show(e){return new Promise((i,o)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const m=this.factoryResolver.resolveComponentFactory(Lw).create(this.injector);this.lastViewRef=m.hostView,this.applicationRef.attachView(m.hostView);let v=this;const I=e.target.getBoundingClientRect();var j=window.innerWidth-I.right,te=I.top+I.height;m.instance.options=e,m.instance.right=j,m.instance.top=te,m.instance.selectOption.subscribe(et=>{et.eventOnSelectItem&&et.eventOnSelectItem.emit(!0),m.destroy(),v.applicationRef.detachView(m.hostView),i(et)}),m.instance.hide.subscribe(et=>{m.destroy(),v.applicationRef.detachView(m.hostView),o(!0)});const me=m.hostView.rootNodes[0];document.getElementById(e.containerId).appendChild(me)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Fw(r,n){1&r&&t._UZ(0,"i",17)}function Bw(r,n){1&r&&t._UZ(0,"i",18)}const Uw=function(r){return{selected:r}};function jw(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"div",9),t.YNc(3,Fw,1,0,"i",10),t.YNc(4,Bw,1,0,"i",11),t.qZA(),t.TgZ(5,"a"),t._uU(6),t.qZA(),t.TgZ(7,"div",12)(8,"div",13)(9,"button",14),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw(4);return t.KtG(v.showActions(o,m))}),t.TgZ(10,"span",15),t._UZ(11,"i",16),t.qZA()()()()()()}if(2&r){const e=n.$implicit,i=t.oxw(4);t.Q6J("ngClass",t.VKq(4,Uw,i.currentLibrary&&i.currentLibrary.Id==e.Id)),t.xp6(3),t.Q6J("ngIf",1==e.MediaTypeCatalogDetailId),t.xp6(1),t.Q6J("ngIf",2==e.MediaTypeCatalogDetailId),t.xp6(2),t.Oqu(e.Name)}}function Vw(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.TgZ(6,"button",5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.openNewLibrary())}),t._uU(7,"A\xf1adir biblioteca"),t.qZA(),t.TgZ(8,"button",5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.updateVideoInAllLibraries())}),t._uU(9,"Buscar archivos en biblioteca"),t.qZA()(),t.YNc(10,jw,12,6,"ng-template",6),t.qZA()}if(2&r){const e=t.oxw(3);t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - Bibliotecas"),t.xp6(3),t.hij("",e.listLibraries?e.listLibraries.length:""," bibliotecas"),t.xp6(5),t.Q6J("ngForOf",e.listLibraries)}}function Gw(r,n){if(1&r&&t.YNc(0,Vw,11,3,"div",1),2&r){const e=t.oxw(2);t.Q6J("ngIf",e.mediaServer)}}function Hw(r,n){if(1&r&&t._UZ(0,"app-server-connection-error",19),2&r){const e=t.oxw(2);t.Q6J("mediaServer",e.mediaServer)}}function Kw(r,n){if(1&r&&(t.YNc(0,Gw,1,1,"ng-template",0),t.YNc(1,Hw,1,1,"ng-template",0)),2&r){const e=t.oxw();t.Q6J("ngIf",e.mediaServer&&e.mediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.mediaServer&&!e.mediaServer.isSecureConnection)}}function Yw(r,n){1&r&&(t.TgZ(0,"div",20),t._UZ(1,"mat-spinner"),t.qZA())}let eI=(()=>{class r{constructor(e,i,o,d,m,v,I,j,te){this.signalIrService=e,this.customMenuService=i,this.modalService=o,this.libraryService=d,this.dialog=m,this.snackBarService=v,this.router=I,this.activeRoute=j,this.sharedService=te,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(me=>{this.mediaServer&&this.mediaServer.Guid==me&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.getAllItems())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(me=>{this.mediaServer&&this.mediaServer.Guid==me&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){var e=this.activeRoute.snapshot.params.serverGuid,i=this.sharedService.mediaServers.find(o=>o.Guid==e);i?(this.mediaServer=JSON.parse(JSON.stringify(i)),i.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getAllItems(){this.libraryService.getLibrariesByMediaServer(this.mediaServer.Url).then(e=>{this.listLibraries=e},e=>{})}openNewLibrary(){let e=new Tw;e.MediaServerId=this.mediaServer.Id,this.showModalForm(e)}editLibrary(e){this.showModalForm(JSON.parse(JSON.stringify(e)))}showModalForm(e){var i=this,o=this.modalService.open(Ow,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.library=e,o.componentInstance.mediaServer=this.mediaServer,o.closed.subscribe(d=>{i.getAllItems()})}deleteLibrary(e){var i=new or.vA;i.data={title:"Eliminar biblioteca",message:"La biblioteca '"+e.Name+"' ser\xe1 eliminada de este servidor. Tus archivos multimedia no se ver\xe1n afectados. Esto no se puede deshacer. \xbfContinuar?",accordMessage:"Si, eliminar la biblioteca '"+e.Name+"'"},this.dialog.open(Et,i).afterClosed().subscribe(o=>{o&&this.executeDeleteLibrary(e)})}executeDeleteLibrary(e){this.libraryService.deleteItem(this.mediaServer.Url,e.Id).then(i=>{this.snackBarService.showSnackBar("Se elimin\xf3 la biblioteca satisfactoriamente",yi.Success),this.getAllItems()},i=>{console.error(i),this.snackBarService.showSnackBar(i,yi.Error)})}showActions(e,i){this.currentLibrary=i;var o=JSON.parse(JSON.stringify(i)),d=e.currentTarget,m=[],v=new t.vpe;v.subscribe(te=>{this.editLibrary(o)}),m.push({title:"Editar biblioteca",iconClass:"fa-solid fa-pen-to-square",eventOnSelectItem:v});var I=new t.vpe;I.subscribe(te=>{this.updateLibraryVideos(o)}),m.push({title:"Buscar archivos en la biblioteca",iconClass:"fa-solid fa-magnifying-glass-plus",eventOnSelectItem:I});var j=new t.vpe;j.subscribe(te=>{this.deleteLibrary(o)}),m.push({title:"Eliminar biblioteca",iconClass:"fa-sharp fa-solid fa-trash",eventOnSelectItem:j}),this.customMenuService.show({containerId:"sinovadMainContainer",listItems:m,target:d}).then(te=>{this.currentLibrary=void 0},te=>{this.currentLibrary=void 0})}updateLibraryVideos(e){e.Id>0&&null!=e.PhysicalPath&&""!=e.PhysicalPath&&this.searchFilesInLibraries([e])}updateVideoInAllLibraries(){this.searchFilesInLibraries(this.listLibraries)}searchFilesInLibraries(e){this.libraryService.searchFiles(this.mediaServer.Url,e)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Io),t.Y36(kw),t.Y36(ia),t.Y36(Nc),t.Y36(or.uw),t.Y36(rs),t.Y36(Gn.F0),t.Y36(Gn.gz),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-library-list"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"manage-libraries-header"],[1,"manage-libraries-count"],[3,"click"],["ngFor","",3,"ngForOf"],[1,"manage-library-summary-row",3,"ngClass"],[1,"manage-library-summary-overlay"],[1,"manage-library-icon-container"],["class","fa-solid fa-film",4,"ngIf"],["class","fa-solid fa-tv",4,"ngIf"],[1,"manage-library-summary-actions"],[1,"manage-library-summary-header"],[1,"manage-library-summary-action",3,"click"],[1,"manage-library-summary-header-icon"],[1,"fa-solid","fa-ellipsis-vertical"],[1,"fa-solid","fa-film"],[1,"fa-solid","fa-tv"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.YNc(0,Kw,2,2,"ng-template",0),t.YNc(1,Yw,2,0,"ng-template",0)),2&i&&(t.Q6J("ngIf",!o.loadingConnection),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.mk,g.sg,g.O5,Ms.Ou,Zd],styles:[".sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.manage-libraries-header[_ngcontent-%COMP%]{background-color:#00000026;color:#ffffff73;display:flex;justify-content:space-between;margin:20px 0;padding:13px 20px}.manage-libraries-header[_ngcontent-%COMP%]   .manage-libraries-count[_ngcontent-%COMP%]{flex-grow:1;font-size:13px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;color:#fafafa;display:inline-block;overflow:hidden;text-align:center;transition:background-color .2s,color .2s;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;background-color:#ffffff40;margin-left:10px;padding:0 10px;border:none;font-size:14px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff26}.manage-library-summary-row[_ngcontent-%COMP%]{color:#ffffffb3;min-height:44px;position:relative;cursor:pointer}.manage-library-summary-overlay[_ngcontent-%COMP%]{align-items:center;display:flex;pointer-events:none;height:100%;left:0;position:absolute;top:0;width:100%}.manage-library-icon-container[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;margin:0 20px;width:20px;font-size:13px}a[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-grow:1;overflow:hidden;pointer-events:all;color:#ffffffb3;font-size:13px}.manage-library-summary-actions[_ngcontent-%COMP%]{align-items:center;display:flex;flex:1;justify-content:flex-end;opacity:1}.manage-library-summary-row[_ngcontent-%COMP%]:hover, .manage-library-summary-row.selected[_ngcontent-%COMP%]{background-color:#ffffff0f;color:#fff}.manage-library-summary-header[_ngcontent-%COMP%]{display:flex}button.manage-library-summary-action[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-shrink:0;overflow:hidden;padding:0 15px;pointer-events:all;white-space:nowrap}.manage-library-summary-header-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;width:20px}button.manage-library-summary-action[_ngcontent-%COMP%]:hover{color:#fff}.sinovad-searh-media-log-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-searh-media-log-content[_ngcontent-%COMP%]{width:80%;height:80%;background:black;border:1px solid #dedede;border-radius:6px;color:#fff;padding:10px}.sinovad-searh-media-log-second-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:26px}.sinovad-searh-media-log-html[_ngcontent-%COMP%]{color:#fff;font-size:16px;overflow-y:auto;overflow-x:hidden;width:100%;height:100%}.sinovad-library-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}.sinovad-library-principal-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-left:10px;margin-bottom:2px;font-size:30px}.sinovad-library-container[_ngcontent-%COMP%]{display:block}.sinovad-library-section[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-library-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:0;font-size:20px}.sinovad-library-section[_ngcontent-%COMP%]   .sinovad-library-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-library-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;border-radius:5px;outline:none;cursor:pointer}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px;cursor:pointer}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}"]})}return r})();class Ww{}let tI=(()=>{class r{constructor(e){this.restProvider=e}getDetailsByCatalogId(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/catalogs/GetDetailsByCatalogAsync/"+e).then(d=>{i(d)},d=>{o(d)})})}getAllCatalogDetailsByCatalogIds(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/catalogs/GetAllCatalogDetailsByCatalogIds?catalogIds="+e).then(d=>{i(d)},d=>{o(d)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(vt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),zw=(()=>{class r{constructor(e){this.restProvider=e}getByMediaServer(e){return new Promise((i,o)=>{this.restProvider.executeHttpMediaServerApi(Xe.GET,e+"/api/transcoderSettings/GetAsync").then(m=>{i(m.Data)},m=>{console.error(m),o(m)})})}saveItem(e,i){return new Promise((o,d)=>{this.restProvider.executeHttpMediaServerApi(Xe.PUT,e+"/api/transcoderSettings/Save",i).then(v=>{o(!0)},v=>{console.error(v),d(v)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(vt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Zw(r,n){if(1&r&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("ngValue",e.Id),t.xp6(1),t.Oqu(e.Name)}}function $w(r,n){if(1&r&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("ngValue",e.Id),t.xp6(1),t.Oqu(e.Name)}}function qw(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"form",7),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.saveTranscoder())}),t.TgZ(9,"div",6)(10,"label",8),t._uU(11,"M\xe9todo de transmisi\xf3n"),t.qZA(),t.TgZ(12,"select",9),t.YNc(13,Zw,2,2,"ng-template",10),t.qZA(),t.TgZ(14,"p",11),t._uU(15,"M\xe9todo de transmisi\xf3n para transcodificar los videos"),t.qZA()(),t.TgZ(16,"div",6)(17,"label",8),t._uU(18,"Carpeta temporal para el transcodificador"),t.qZA(),t.TgZ(19,"input",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.showChooserDirectoryModal())}),t.qZA(),t.TgZ(20,"p",11),t._uU(21,"Carpeta que utilizar\xe1 el codificador para los archivos temporales."),t.qZA()(),t.TgZ(22,"div",6)(23,"label",8),t._uU(24,"Preset de conversi\xf3n x264 en segundo plano"),t.qZA(),t.TgZ(25,"select",13),t.YNc(26,$w,2,2,"ng-template",10),t.qZA(),t.TgZ(27,"p",11),t._uU(28,"El valor de preset de x264 usado para conversi\xf3n en segundo plano (Sincronizaci\xf3n y Optimizador de Contenido). Valores m\xe1s lentos dar\xe1n lugar a mejor calidad de v\xeddeo y archivos m\xe1s peque\xf1os, pero llevar\xe1 mucho m\xe1s tiempo completar el proceso."),t.qZA()(),t.TgZ(29,"div",6)(30,"label",8),t._uU(31,"Factor de Tasa Constante"),t.qZA(),t._UZ(32,"input",14),t.TgZ(33,"p",11),t._uU(34,"El factor de tasa constante (CRF) es la configuraci\xf3n predeterminada de calidad (y control de velocidad) para los codificadores x264 y x265 , y tambi\xe9n est\xe1 disponible para libvpx . Con x264 y x265, puede establecer los valores entre 0 y 51, donde los valores m\xe1s bajos dar\xedan como resultado una mejor calidad, a expensas de tama\xf1os de archivo m\xe1s altos. Los valores m\xe1s altos significan m\xe1s compresi\xf3n, pero en alg\xfan momento notar\xe1 la degradaci\xf3n de la calidad. Para x264, los valores razonables est\xe1n entre 18 y 28. El valor predeterminado es 23, por lo que puede usarlo como punto de partida."),t.qZA()(),t.TgZ(35,"div",15)(36,"button",16)(37,"span",17),t._uU(38,"Guardar cambios"),t.qZA()(),t._UZ(39,"span",18),t.qZA()()()()()()()()}if(2&r){const e=t.oxw(3);t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - Transcodificador"),t.xp6(6),t.Q6J("formGroup",e.customForm),t.xp6(5),t.Q6J("ngForOf",e.transmissionMethodList),t.xp6(13),t.Q6J("ngForOf",e.presetList),t.xp6(10),t.Q6J("disabled",e.loading||e.customForm.pristine||e.customForm.invalid)}}function Jw(r,n){if(1&r&&t.YNc(0,qw,40,5,"div",1),2&r){const e=t.oxw(2);t.Q6J("ngIf",e.customForm)}}function Qw(r,n){if(1&r&&t._UZ(0,"app-server-connection-error",20),2&r){const e=t.oxw(2);t.Q6J("mediaServer",e.mediaServer)}}function Xw(r,n){if(1&r&&(t.YNc(0,Jw,1,1,"ng-template",0),t.YNc(1,Qw,1,1,"ng-template",0)),2&r){const e=t.oxw();t.Q6J("ngIf",e.mediaServer&&e.mediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.mediaServer&&!e.mediaServer.isSecureConnection)}}function e1(r,n){1&r&&(t.TgZ(0,"div",21),t._UZ(1,"mat-spinner"),t.qZA())}let nI=(()=>{class r{constructor(e,i,o,d,m,v,I,j,te){this.catalogService=e,this.signalIrService=i,this.transcoderSettingsService=o,this.modalService=d,this.snackBarService=m,this.formBuilder=v,this.router=I,this.activeRoute=j,this.sharedService=te,this.transmissionMethodList=[],this.presetList=[],this.loading=!1,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(me=>{this.mediaServer&&this.mediaServer.Guid==me&&!this.mediaServer.isSecureConnection&&(this.loadingConnection=!1,this.mediaServer.isSecureConnection=!0,this.getTranscoderSettingss())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(me=>{this.mediaServer&&this.mediaServer.Guid==me&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){this.getCatalogDetails();var e=this.activeRoute.snapshot.params.serverGuid,i=this.sharedService.mediaServers.find(o=>o.Guid==e);i?(this.mediaServer=JSON.parse(JSON.stringify(i)),i.isSecureConnection?(this.loadingConnection=!1,this.getTranscoderSettingss()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getCatalogDetails(){this.catalogService.getAllCatalogDetailsByCatalogIds(_n.TranscoderPreset+","+_n.VideoTransmissionType).then(i=>{let o=i.Data;this.transmissionMethodList=o.filter(d=>d.CatalogId==_n.VideoTransmissionType),this.presetList=o.filter(d=>d.CatalogId==_n.TranscoderPreset)},i=>{console.error(i)})}getTranscoderSettingss(){this.transcoderSettingsService.getByMediaServer(this.mediaServer.Url).then(e=>{if(this.currentTranscoderSettingss=e,null==this.currentTranscoderSettingss){var i=new Ww;i.TemporaryFolder="",i.ConstantRateFactor=18,i.MediaServerId=this.mediaServer.Id,this.currentTranscoderSettingss=i}this.customForm=this.formBuilder.group({temporaryFolder:new rt.NI(this.currentTranscoderSettingss.TemporaryFolder),preset:new rt.NI(this.currentTranscoderSettingss.PresetCatalogDetailId),transmissionMethod:new rt.NI(this.currentTranscoderSettingss.VideoTransmissionTypeCatalogDetailId),constantRateFactor:new rt.NI(this.currentTranscoderSettingss.ConstantRateFactor)})},e=>{console.error(e)})}saveTranscoder(){this.loading=!0;var e=JSON.parse(JSON.stringify(this.currentTranscoderSettingss));e.TemporaryFolder=this.customForm.value.temporaryFolder,e.ConstantRateFactor=this.customForm.value.constantRateFactor,e.VideoTransmissionTypeCatalogDetailId=this.customForm.value.transmissionMethod,e.PresetCatalogDetailId=this.customForm.value.preset,this.transcoderSettingsService.saveItem(this.mediaServer.Url,e).then(i=>{this.loading=!1,this.getTranscoderSettingss(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",yi.Success)},i=>{this.loading=!1,this.snackBarService.showSnackBar(i,yi.Error),console.error(i)})}showChooserDirectoryModal(){var e=this,i=this.modalService.open(JA,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.mediaServer=this.mediaServer,i.closed.subscribe(o=>{e.customForm.controls.temporaryFolder.setValue(o),e.customForm.controls.temporaryFolder.markAsDirty()})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(tI),t.Y36(Io),t.Y36(zw),t.Y36(ia),t.Y36(rs),t.Y36(rt.qu),t.Y36(Gn.F0),t.Y36(Gn.gz),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-transcode-settings"]],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["name","transmissionMethods","formControlName","transmissionMethod",1,"form-control"],["ngFor","",3,"ngForOf"],[1,"help-block"],["readonly","","type","text","formControlName","temporaryFolder",1,"form-control",2,"cursor","pointer",3,"click"],["name","transmissionMethods","formControlName","preset",1,"form-control"],["type","text","formControlName","constantRateFactor",1,"form-control"],[1,"form-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn-label"],[1,"form-message"],[1,"form-option",3,"ngValue"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.YNc(0,Xw,2,2,"ng-template",0),t.YNc(1,e1,2,0,"ng-template",0)),2&i&&(t.Q6J("ngIf",!o.loadingConnection),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.sg,g.O5,rt._Y,rt.YN,rt.Kr,rt.Fj,rt.EJ,rt.JJ,rt.JL,Ms.Ou,Zd,rt.sg,rt.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .form-option[_ngcontent-%COMP%]{background-color:#131313;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]{border-radius:3px;font-size:16px;line-height:1.33;padding:10px 18px;flex-shrink:0;text-transform:capitalize;border:0;overflow:hidden;position:relative;cursor:pointer;display:inline-block;font-weight:400;margin-bottom:0;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;color:#fff;background-color:#007bff;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   button.save.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}.sinovad-manage-media-container[_ngcontent-%COMP%]{display:block}.sinovad-manage-media-section[_ngcontent-%COMP%]{display:block;padding:10px}label[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}.sinovad-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-manage-media-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}']})}return r})(),EE=(()=>{class r{constructor(e){this.restProvider=e}setPassword(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.POST,"/users/SetPassword",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}changePassword(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.POST,"/users/ChangePassword",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}changeUsername(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.POST,"/users/ChangeUserName",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}changeNanes(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.POST,"/users/ChangeNames",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(vt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function t1(r,n){if(1&r&&(t.TgZ(0,"div",13),t._UZ(1,"i",14),t._uU(2),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.hij("",e.serverErrorMessage," ")}}function n1(r,n){1&r&&t._UZ(0,"div",15)}const ax=function(r){return{error:r}};let r1=(()=>{class r{constructor(e,i,o){this.accountSettingsService=e,this.formBuilder=i,this.sharedService=o,this.serverErrorMessage=void 0,this.closeChangePassword=new t.vpe,this.changePasswordForm=this.formBuilder.group({password:new rt.NI("",[rt.kI.required]),confirmPassword:new rt.NI("",[rt.kI.required]),currentPassword:new rt.NI("",[rt.kI.required])}),this.loading=!1}ngOnInit(){}changePasword(){this.changePasswordForm.valid?(this.changePasswordData={UserId:this.sharedService.userData.Id,Password:this.changePasswordForm.value.password,ConfirmPassword:this.changePasswordForm.value.confirmPassword,CurrentPassword:this.changePasswordForm.value.currentPassword},this.loading=!0,this.accountSettingsService.changePassword(this.changePasswordData).then(e=>{this.loading=!1,this.closeChangePassword.emit(!0)},e=>{this.loading=!1,this.serverErrorMessage=e,console.error(e)})):(this.serverErrorMessage=void 0,this.changePasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(EE),t.Y36(rt.qu),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-change-password"]],outputs:{closeChangePassword:"closeChangePassword"},decls:24,vars:18,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],["type","password","formControlName","currentPassword"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,t1,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.closeChangePassword.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.changePasword()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",6)(16,"label"),t._uU(17),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"div",10)(20,"button",11)(21,"span"),t._uU(22,"Guardar Cambios"),t.qZA(),t.YNc(23,n1,1,0,"div",12),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",o.changePasswordForm),t.xp6(1),t.Q6J("ngClass",t.VKq(12,ax,o.sharedService.isInvalidFormControl(o.changePasswordForm,"password"))),t.xp6(2),t.hij(" Contrase\xf1a",o.sharedService.isInvalidFormControl(o.changePasswordForm,"password")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(14,ax,o.sharedService.isInvalidFormControl(o.changePasswordForm,"confirmPassword"))),t.xp6(2),t.hij("Confirme la nueva contrase\xf1a",o.sharedService.isInvalidFormControl(o.changePasswordForm,"confirmPassword")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),t.xp6(2),t.Q6J("ngClass",t.VKq(16,ax,o.sharedService.isInvalidFormControl(o.changePasswordForm,"currentPassword"))),t.xp6(2),t.hij("Contrase\xf1a actual",o.sharedService.isInvalidFormControl(o.changePasswordForm,"currentPassword")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"currentPassword")?" - Introduza la contrase\xf1a actual":"",""),t.xp6(3),t.Q6J("disabled",o.loading||!o.changePasswordForm.valid),t.xp6(1),t.Udp("visibility",o.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[g.mk,g.O5,rt._Y,rt.Fj,rt.JJ,rt.JL,rt.sg,rt.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function o1(r,n){if(1&r&&(t.TgZ(0,"div",12),t._UZ(1,"i",13),t._uU(2),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.hij("",e.serverErrorMessage," ")}}function s1(r,n){1&r&&t._UZ(0,"div",14)}const iI=function(r){return{error:r}};let a1=(()=>{class r{constructor(e,i,o){this.accountSettingsService=e,this.formBuilder=i,this.sharedService=o,this.serverErrorMessage=void 0,this.closeSetPassword=new t.vpe,this.setPasswordForm=this.formBuilder.group({password:new rt.NI("",[rt.kI.required]),confirmPassword:new rt.NI("",[rt.kI.required])}),this.loading=!1}ngOnInit(){}setPassword(){this.setPasswordForm.valid?(this.setPasswordData={UserId:this.sharedService.userData.Id,Password:this.setPasswordForm.value.password,ConfirmPassword:this.setPasswordForm.value.confirmPassword},this.loading=!0,this.accountSettingsService.setPassword(this.setPasswordData).then(e=>{this.loading=!1,this.sharedService.userData.IsPasswordSetted=!0,this.closeSetPassword.emit(!0)},e=>{this.loading=!1,this.serverErrorMessage=e,console.error(e)})):(this.serverErrorMessage=void 0,this.setPasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(EE),t.Y36(rt.qu),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-set-password"]],outputs:{closeSetPassword:"closeSetPassword"},decls:20,vars:14,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,o1,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.closeSetPassword.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.setPassword()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",9)(16,"button",10)(17,"span"),t._uU(18,"Guardar Cambios"),t.qZA(),t.YNc(19,s1,1,0,"div",11),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",o.setPasswordForm),t.xp6(1),t.Q6J("ngClass",t.VKq(10,iI,o.sharedService.isInvalidFormControl(o.setPasswordForm,"password"))),t.xp6(2),t.hij(" Elegir una Contrase\xf1a",o.sharedService.isInvalidFormControl(o.setPasswordForm,"password")&&o.sharedService.hasRequireErrorFormControl(o.setPasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(12,iI,o.sharedService.isInvalidFormControl(o.setPasswordForm,"confirmPassword"))),t.xp6(2),t.hij("Confirmar la contrase\xf1a",o.sharedService.isInvalidFormControl(o.setPasswordForm,"confirmPassword")&&o.sharedService.hasRequireErrorFormControl(o.setPasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),t.xp6(3),t.Q6J("disabled",o.loading||!o.setPasswordForm.valid),t.xp6(1),t.Udp("visibility",o.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[g.mk,g.O5,rt._Y,rt.Fj,rt.JJ,rt.JL,rt.sg,rt.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function l1(r,n){if(1&r&&(t.TgZ(0,"div",11),t._UZ(1,"i",12),t._uU(2),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.hij("",e.serverErrorMessage," ")}}function c1(r,n){1&r&&t._UZ(0,"div",13)}const d1=function(r){return{error:r}};let u1=(()=>{class r{constructor(e,i,o){this.accountSettingsService=e,this.formBuilder=i,this.sharedService=o,this.serverErrorMessage=void 0,this.closeChangeUsername=new t.vpe,this.changeUsernameForm=this.formBuilder.group({username:new rt.NI(this.sharedService.userData.UserName,[rt.kI.required])}),this.loading=!1}ngOnInit(){}changeUsername(){this.changeUsernameForm.valid?(this.changeUsernameData={UserId:this.sharedService.userData.Id,UserName:this.changeUsernameForm.value.username},this.loading=!0,this.accountSettingsService.changeUsername(this.changeUsernameData).then(e=>{this.loading=!1,this.sharedService.userData.UserName=this.changeUsernameData.UserName,this.closeChangeUsername.emit(!0)},e=>{this.loading=!1,this.serverErrorMessage=e,console.error(e)})):(this.serverErrorMessage=void 0,this.changeUsernameForm.markAllAsTouched())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(EE),t.Y36(rt.qu),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-change-username"]],outputs:{closeChangeUsername:"closeChangeUsername"},decls:16,vars:10,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["formControlName","username"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,l1,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.closeChangeUsername.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.changeUsername()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",8)(12,"button",9)(13,"span"),t._uU(14,"Guardar Cambios"),t.qZA(),t.YNc(15,c1,1,0,"div",10),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",o.changeUsernameForm),t.xp6(1),t.Q6J("ngClass",t.VKq(8,d1,o.sharedService.isInvalidFormControl(o.changeUsernameForm,"username"))),t.xp6(2),t.hij(" Nombre de Usuario",o.sharedService.isInvalidFormControl(o.changeUsernameForm,"username")&&o.sharedService.hasRequireErrorFormControl(o.changeUsernameForm,"username")?" - Se requiere nombre de usuario":""," "),t.xp6(3),t.Q6J("disabled",o.loading||o.changeUsernameForm.pristine||!o.changeUsernameForm.valid||o.changeUsernameForm.value.username==o.sharedService.userData.UserName),t.xp6(1),t.Udp("visibility",o.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[g.mk,g.O5,rt._Y,rt.Fj,rt.JJ,rt.JL,rt.sg,rt.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function f1(r,n){if(1&r&&(t.TgZ(0,"div",12),t._UZ(1,"i",13),t._uU(2),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.hij("",e.serverErrorMessage," ")}}function h1(r,n){1&r&&t._UZ(0,"div",14)}const rI=function(r){return{error:r}};let m1=(()=>{class r{constructor(e,i,o){this.accountSettingsService=e,this.formBuilder=i,this.sharedService=o,this.serverErrorMessage=void 0,this.closeChangeNames=new t.vpe,this.changeNamesForm=this.formBuilder.group({firstName:new rt.NI(this.sharedService.userData.FirstName,[rt.kI.required]),lastName:new rt.NI(this.sharedService.userData.LastName,[rt.kI.required])}),this.loading=!1}ngOnInit(){}changeUsername(){this.changeNamesForm.valid?(this.changeNamesData={UserId:this.sharedService.userData.Id,FirstName:this.changeNamesForm.value.firstName,LastName:this.changeNamesForm.value.lastName},this.loading=!0,this.accountSettingsService.changeNanes(this.changeNamesData).then(e=>{this.loading=!1,this.sharedService.userData.FirstName=this.changeNamesData.FirstName,this.sharedService.userData.LastName=this.changeNamesData.LastName,this.closeChangeNames.emit(!0)},e=>{this.loading=!1,this.serverErrorMessage=e,console.error(e)})):(this.serverErrorMessage=void 0,this.changeNamesForm.markAllAsTouched())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(EE),t.Y36(rt.qu),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-change-names"]],outputs:{closeChangeNames:"closeChangeNames"},decls:20,vars:14,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["formControlName","firstName"],["formControlName","lastName"],[1,"submit-button-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,f1,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.closeChangeNames.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.changeUsername()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",9)(16,"button",10)(17,"span"),t._uU(18,"Guardar Cambios"),t.qZA(),t.YNc(19,h1,1,0,"div",11),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",o.changeNamesForm),t.xp6(1),t.Q6J("ngClass",t.VKq(10,rI,o.sharedService.isInvalidFormControl(o.changeNamesForm,"firstName"))),t.xp6(2),t.hij(" Nombres",o.sharedService.isInvalidFormControl(o.changeNamesForm,"firstName")&&o.sharedService.hasRequireErrorFormControl(o.changeNamesForm,"firstName")?" - Se requiere nombres":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(12,rI,o.sharedService.isInvalidFormControl(o.changeNamesForm,"lastName"))),t.xp6(2),t.hij(" Apellidos",o.sharedService.isInvalidFormControl(o.changeNamesForm,"lastName")&&o.sharedService.hasRequireErrorFormControl(o.changeNamesForm,"lastName")?" - Se requiere apellidos":""," "),t.xp6(3),t.Q6J("disabled",o.loading||o.changeNamesForm.pristine||!o.changeNamesForm.valid),t.xp6(1),t.Udp("visibility",o.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[g.mk,g.O5,rt._Y,rt.Fj,rt.JJ,rt.JL,rt.sg,rt.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function p1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangeUsernameSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Nombre de Usuario"),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(9),t.Oqu(e.sharedService.userData.UserName)}}function g1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-change-username",16),t.NdJ("closeChangeUsername",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangeUsernameSection=!0)}),t.qZA()}}function _1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangeNamesSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Nombres y apellidos"),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(9),t.AsE("",e.sharedService.userData.FirstName," ",e.sharedService.userData.LastName,"")}}function v1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-change-names",17),t.NdJ("closeChangeNames",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangeNamesSection=!0)}),t.qZA()}}function y1(r,n){1&r&&(t.TgZ(0,"span"),t._uU(1,"*********"),t.qZA())}function b1(r,n){1&r&&(t.TgZ(0,"span"),t._uU(1,"No establecida"),t.qZA())}function E1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangePasswordSection=!1)}),t.TgZ(1,"div",8)(2,"div",14)(3,"button",15),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",9)(6,"label"),t._uU(7,"Contrase\xf1a"),t.qZA(),t.YNc(8,y1,2,0,"span",18),t.YNc(9,b1,2,0,"span",18),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(8),t.Q6J("ngIf",e.sharedService.userData.IsPasswordSetted),t.xp6(1),t.Q6J("ngIf",!e.sharedService.userData.IsPasswordSetted)}}function T1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-change-password",19),t.NdJ("closeChangePassword",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangePasswordSection=!0)}),t.qZA()}}function S1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-set-password",20),t.NdJ("closeSetPassword",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangePasswordSection=!0)}),t.qZA()}}function C1(r,n){1&r&&(t.TgZ(0,"span"),t._uU(1,"No establecida"),t.qZA())}function D1(r,n){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.currentUserLinkedAccountsText)}}let oI=(()=>{class r{constructor(e,i){this.catalogService=e,this.sharedService=i,this.isCollapsedLinkedAccountsSection=!0,this.isCollapsedChangeNamesSection=!0,this.isCollapsedChangeUsernameSection=!0,this.isCollapsedChangePasswordSection=!0,this.allLinkedAccountProviders=[],this.currentUserLinkedAccountIds=[]}ngOnInit(){this.currentUserLinkedAccountIds=this.sharedService.linkedAccounts.map(e=>e.LinkedAccountProviderCatalogDetailId),this.catalogService.getDetailsByCatalogId(_n.LinkedAccountProvider).then(e=>{this.allLinkedAccountProviders=e.Data,this.currentUserLinkedAccountsText=this.allLinkedAccountProviders.filter(i=>-1!=this.currentUserLinkedAccountIds.indexOf(i.Id)).map(i=>i.Name).join(",")},e=>{})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(tI),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-my-account"]],decls:37,vars:10,consts:[[1,"sinovad-page-container"],[1,"sinovad-page-title"],[1,"settings-category-header-background"],[2,"width","100%"],["class","sinovad-page-section-container","role","button",3,"click",4,"ngIf"],[3,"closeChangeUsername",4,"ngIf"],[3,"closeChangeNames",4,"ngIf"],[1,"sinovad-page-section-container"],[1,"sinovad-page-section-content"],[1,"detail"],[3,"closeChangePassword",4,"ngIf"],[3,"closeSetPassword",4,"ngIf"],[3,"ngIf"],["role","button",1,"sinovad-page-section-container",3,"click"],[1,"button-container"],[1,"edit"],[3,"closeChangeUsername"],[3,"closeChangeNames"],[4,"ngIf"],[3,"closeChangePassword"],[3,"closeSetPassword"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"Cuenta"),t.qZA()(),t.TgZ(4,"div",2)(5,"div",3)(6,"h2"),t._uU(7,"Informaci\xf3n personal"),t.qZA()()(),t.YNc(8,p1,10,1,"div",4),t.YNc(9,g1,1,0,"app-change-username",5),t.YNc(10,_1,10,2,"div",4),t.YNc(11,v1,1,0,"app-change-names",6),t.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"label"),t._uU(16,"Correo electr\xf3nico"),t.qZA(),t.TgZ(17,"span"),t._uU(18),t.qZA()()()(),t.TgZ(19,"div",2)(20,"div",3)(21,"h2"),t._uU(22,"Seguridad"),t.qZA()()(),t.YNc(23,E1,10,2,"div",4),t.YNc(24,T1,1,0,"app-change-password",10),t.YNc(25,S1,1,0,"app-set-password",11),t.TgZ(26,"div",2)(27,"div",3)(28,"h2"),t._uU(29,"Ajustes"),t.qZA()()(),t.TgZ(30,"div",7)(31,"div",8)(32,"div",9)(33,"label"),t._uU(34,"Cuentas vinculadas"),t.qZA(),t.YNc(35,C1,2,0,"ng-template",12),t.YNc(36,D1,2,1,"ng-template",12),t.qZA()()()()),2&i&&(t.xp6(8),t.Q6J("ngIf",o.isCollapsedChangeUsernameSection),t.xp6(1),t.Q6J("ngIf",!o.isCollapsedChangeUsernameSection),t.xp6(1),t.Q6J("ngIf",o.isCollapsedChangeNamesSection),t.xp6(1),t.Q6J("ngIf",!o.isCollapsedChangeNamesSection),t.xp6(7),t.Oqu(o.sharedService.userData.Email),t.xp6(5),t.Q6J("ngIf",o.isCollapsedChangePasswordSection),t.xp6(1),t.Q6J("ngIf",!o.isCollapsedChangePasswordSection&&o.sharedService.userData.IsPasswordSetted),t.xp6(1),t.Q6J("ngIf",!o.isCollapsedChangePasswordSection&&!o.sharedService.userData.IsPasswordSetted),t.xp6(10),t.Q6J("ngIf",0==o.sharedService.linkedAccounts.length),t.xp6(1),t.Q6J("ngIf",o.sharedService.linkedAccounts.length>0))},dependencies:[g.O5,r1,a1,u1,m1],styles:[".settings-category-header-background[_ngcontent-%COMP%]{background-color:#0000001a;border-radius:.25rem;margin:.5rem 0;padding:.75rem}.settings-category-header-background[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;max-width:100%;overflow:hidden;overflow-wrap:break-word;font-size:20px}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px;margin-top:40px;font-size:24px}",'.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-bottom:1px solid rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.sinovad-page-section-container[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3)}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();class x1{}function M1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"p")(1,"mat-checkbox",10),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw(2);return t.KtG(v.onChangeCheckValue(o,m))}),t._uU(2),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("checked",i.selection.isSelected(e)),t.xp6(1),t.Oqu(e.Name)}}function A1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t.YNc(6,M1,3,2,"ng-template",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA(),t.TgZ(10,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSaveSelection())}),t._uU(11,"Guardar"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.Oqu("G\xe9neros"),t.xp6(4),t.Q6J("ngForOf",e.listAllGenres)}}let sI=(()=>{class r{constructor(e){this.activeModal=e}closeModal(){this.activeModal.dismiss()}onSaveSelection(){this.activeModal.close(this.selection.selected)}onChangeCheckValue(e,i){e.target.checked?this.selection.select(i):this.selection.deselect(i)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vs))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genres-selection-modal"]],inputs:{listAllGenres:"listAllGenres",selection:"selection"},decls:2,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["ngFor","",3,"ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"checked","click"]],template:function(i,o){1&i&&(t.YNc(0,A1,12,2,"ng-template",0),t._uU(1," <\n")),2&i&&t.Q6J("ngIf",null!=o.listAllGenres)},dependencies:[g.sg,g.O5,Ml.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}"]})}return r})(),TE=(()=>{class r{constructor(e){this.restProvider=e}getAllGenres(){return new Promise((e,i)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/genres/GetAllAsync").then(o=>{e(o)},o=>{console.error(o),i(o)})})}getItems(e,i,o,d,m,v){return new Promise((I,j)=>{let te=mi();this.lastCallGuid=te;var me="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+v;this.restProvider.executeSinovadApiService(Xe.GET,"/genres/GetAllWithPaginationAsync"+me).then(et=>{this.lastCallGuid==te&&I(et)},et=>{console.error(et),j(et)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/genres/Update":"/genres/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/genres/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/genres/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(vt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),aI=(()=>{class r{constructor(e){this.restProvider=e}getMovie(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/movies/GetAsync/"+e).then(d=>{i(d)},d=>{console.error(d),o(d)})})}getItems(e,i,o,d,m,v){return new Promise((I,j)=>{let te=mi();this.lastCallGuid=te;var me="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+v;this.restProvider.executeSinovadApiService(Xe.GET,"/movies/GetAllWithPaginationAsync"+me).then(et=>{this.lastCallGuid==te&&I(et)},et=>{console.error(et),j(et)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/movies/Update":"/movies/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/movies/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/movies/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(vt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Gm=S(8034);function I1(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xedtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function w1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xedtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,I1,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Fecha de Lanzamiento"),t.qZA(),t._UZ(15,"input",9),t.TgZ(16,"mat-hint"),t._uU(17,"MM/DD/YYYY"),t.qZA(),t._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),t.qZA(),t.TgZ(21,"mat-form-field")(22,"mat-label"),t._uU(23,"G\xe9neros"),t.qZA(),t.TgZ(24,"textarea",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showGenresSelectionModal())}),t.qZA()(),t.TgZ(25,"mat-form-field")(26,"mat-label"),t._uU(27,"Directores"),t.qZA(),t._UZ(28,"textarea",13),t.qZA(),t.TgZ(29,"mat-form-field")(30,"mat-label"),t._uU(31,"Actores"),t.qZA(),t._UZ(32,"textarea",14),t.qZA(),t.TgZ(33,"mat-form-field")(34,"mat-label"),t._uU(35,"Resumen"),t.qZA(),t._UZ(36,"textarea",15),t.qZA(),t.TgZ(37,"mat-form-field")(38,"mat-label"),t._uU(39,"Im\xe1gen"),t.qZA(),t._UZ(40,"textarea",16),t.qZA()(),t.TgZ(41,"div",17)(42,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(43,"Close"),t.qZA(),t.TgZ(44,"button",19),t._uU(45,"Guardar"),t.qZA()()(),t._UZ(46,"app-custom-spinner",20)}if(2&r){const e=t.MAs(20),i=t.oxw();t.Q6J("formGroup",i.movieFormGroup),t.xp6(3),t.Oqu(i.movie.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",i.matcher),t.xp6(1),t.Q6J("ngIf",i.movieFormGroup.controls.title.hasError("required")),t.xp6(4),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("readonly",!0),t.xp6(20),t.Q6J("disabled",i.showLoading||!i.movieFormGroup.valid),t.xp6(2),t.Q6J("showLoading",i.showLoading)}}let P1=(()=>{class r{constructor(e,i,o,d,m,v,I){this.sharedService=e,this.modalService=i,this.genreService=o,this.formBuilder=d,this.activeModal=m,this.snackbarService=v,this.movieService=I,this.showLoading=!1,this.matcher=new Vr}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(e=>{this.listGenres=e.Data}),this.movie.Id>0?this.getMovie():this.movie.ListItemGenres=[]}buildFormGroup(){this.movieFormGroup=this.formBuilder.group({title:new rt.NI(this.movie.Title,[rt.kI.required]),releaseDate:new rt.NI(this.sharedService.formatDate(this.movie.ReleaseDate)),directors:new rt.NI(this.movie.Directors),actors:new rt.NI(this.movie.Actors),overview:new rt.NI(this.movie.Overview),posterPath:new rt.NI(this.movie.PosterPath),selectedGenres:new rt.NI("")})}getMovie(){this.movieService.getMovie(this.movie.Id).then(e=>{this.movie=e.Data,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.movieFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.movie));e.Title=this.movieFormGroup.value.title,e.ReleaseDate=this.movieFormGroup.value.releaseDate,e.Directors=this.movieFormGroup.value.directors,e.Actors=this.movieFormGroup.value.actors,e.Overview=this.movieFormGroup.value.overview,this.movieService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el movie satisfactoriamente",yi.Success),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.movieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){if(this.movie.ListItemGenres&&this.movie.ListItemGenres.length>0){var e=this.movie.ListItemGenres.map(i=>i.GenreName);return e.join(", ")}return""}showGenresSelectionModal(){var e=this,i=this.modalService.open(sI,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.listAllGenres=this.listGenres,i.componentInstance.selection=new Yt.Ov(!0,this.getMovieGenres()),i.closed.subscribe(o=>{e.setMovieGenres(o)})}getMovieGenres(){var e=this.movie.ListItemGenres.map(i=>i.GenreId);return this.listGenres.filter(i=>-1!=e.indexOf(i.Id))}setMovieGenres(e){var i=[];e.forEach(o=>{i.push({MovieId:this.movie.Id,GenreId:o.Id,GenreName:o.Name})}),this.movie.ListItemGenres=i,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Gt),t.Y36(ia),t.Y36(TE),t.Y36(rt.qu),t.Y36(Vs),t.Y36(rs),t.Y36(aI))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-movie-form"]],inputs:{movie:"movie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","releaseDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,w1,47,9,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.movie&&o.movieFormGroup)},dependencies:[rt._Y,rt.Fj,rt.JJ,rt.JL,rt.sg,rt.u,$i,g.O5,ao.Nt,xi.KE,xi.hX,xi.bx,xi.TO,xi.R9,Gm.Mq,Gm.hl,Gm.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function O1(r,n){1&r&&(t.TgZ(0,"div",39),t._UZ(1,"mat-spinner"),t.qZA())}function R1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",40)(1,"mat-checkbox",41),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function N1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"mat-checkbox",43),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function L1(r,n){1&r&&(t.TgZ(0,"th",44),t._uU(1,"N\xb0"),t.qZA())}function k1(r,n){if(1&r&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function F1(r,n){1&r&&(t.TgZ(0,"th",46),t._uU(1,"T\xedtulo"),t.qZA())}function B1(r,n){if(1&r&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function U1(r,n){1&r&&(t.TgZ(0,"th",48),t._uU(1,"Fecha"),t.qZA())}function j1(r,n){if(1&r&&(t.TgZ(0,"td",49),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.ReleaseDate,"dd-MM-YYYY ")," ")}}function V1(r,n){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Actores"),t.qZA())}function G1(r,n){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Actors," ")}}function H1(r,n){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Directores"),t.qZA())}function K1(r,n){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Directors," ")}}function Y1(r,n){1&r&&t._UZ(0,"th",52)}function W1(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",53)(1,"div",54)(2,"button",55),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",56),t.qZA(),t.TgZ(4,"button",57),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function z1(r,n){1&r&&t._UZ(0,"tr",58)}function Z1(r,n){1&r&&t._UZ(0,"tr",59)}function $1(r,n){1&r&&(t.TgZ(0,"td",62),t._uU(1,"No se encontraron datos"),t.qZA())}function q1(r,n){if(1&r&&(t.TgZ(0,"tr",60),t.YNc(1,$1,2,0,"td",61),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const J1=function(r){return{disable:r}},Q1=function(){return[5,10,25,100]};let lx=(()=>{class r extends bn{constructor(e,i,o,d,m,v){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.movieService=v}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new x1;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(P1,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.movie=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.movieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Vt.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new or.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el movie "+e.Title+"?",accordMessage:"Si, eliminar el movie '"+e.Title+"'"},this.dialog.open(Et,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.movieService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",yi.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,yi.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new or.vA;e.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Et,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.movieService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",yi.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,yi.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","ReleaseDate","Actors","Directors","Actions"]:window.innerWidth>875?["Select","Id","Title","ReleaseDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Title","ReleaseDate","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Gn.F0),t.Y36(ia),t.Y36(or.uw),t.Y36(wr.ye),t.Y36(rs),t.Y36(aI))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-movie-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(wr.NW,5),t.Gf(In.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","ReleaseDate"],["mat-header-cell","","mat-sort-header","","style","min-width:140px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","140px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",2,"max-width","120px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," Pel\xedculas"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,O1,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,R1,2,2,"th",17),t.YNc(25,N1,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,L1,2,0,"th",20),t.YNc(28,k1,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,F1,2,0,"th",23),t.YNc(31,B1,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,U1,2,0,"th",26),t.YNc(34,j1,3,4,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,V1,2,0,"th",29),t.YNc(37,G1,2,1,"td",30),t.BQk(),t.ynx(38,31),t.YNc(39,H1,2,0,"th",29),t.YNc(40,K1,2,1,"td",30),t.BQk(),t.ynx(41,32),t.YNc(42,Y1,1,0,"th",33),t.YNc(43,W1,6,0,"td",34),t.BQk(),t.YNc(44,z1,1,0,"tr",35),t.YNc(45,Z1,1,0,"tr",36),t.YNc(46,q1,2,1,"tr",37),t.qZA()()()()(),t.TgZ(47,"div",1)(48,"div",9),t._UZ(49,"mat-paginator",38),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,J1,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,Q1)))},dependencies:[g.mk,g.O5,wr.NW,Vt.BZ,Vt.fO,Vt.as,Vt.w1,Vt.Dz,Vt.nj,Vt.ge,Vt.ev,Vt.XQ,Vt.Gk,Vt.Ee,ao.Nt,xi.KE,xi.hX,In.YE,In.nU,Ml.oG,Ms.Ou,Rc.gM,g.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class X1{}let lI=(()=>{class r{constructor(e){this.restProvider=e}getTvSerie(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.GET,"/tvseries/GetAsync/"+e).then(d=>{i(d)},d=>{console.error(d),o(d)})})}getItems(e,i,o,d,m,v){return new Promise((I,j)=>{let te=mi();this.lastCallGuid=te;var me="?page="+e.toString()+"&take="+i.toString()+"&sortBy="+o+"&sortDirection="+d+"&searchText="+m+"&searchBy="+v;this.restProvider.executeSinovadApiService(Xe.GET,"/tvseries/GetAllWithPaginationAsync"+me).then(et=>{this.lastCallGuid==te&&I(et)},et=>{console.error(et),j(et)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/tvseries/Update":"/tvseries/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/tvseries/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/tvseries/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(vt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function eP(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function tP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,eP,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Primera fecha de emisi\xf3n"),t.qZA(),t._UZ(15,"input",9),t.TgZ(16,"mat-hint"),t._uU(17,"MM/DD/YYYY"),t.qZA(),t._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),t.qZA(),t.TgZ(21,"mat-form-field")(22,"mat-label"),t._uU(23,"\xdaltima fecha de emisi\xf3n"),t.qZA(),t._UZ(24,"input",12),t.TgZ(25,"mat-hint"),t._uU(26,"MM/DD/YYYY"),t.qZA(),t._UZ(27,"mat-datepicker-toggle",10)(28,"mat-datepicker",null,11),t.qZA(),t.TgZ(30,"mat-form-field")(31,"mat-label"),t._uU(32,"G\xe9neros"),t.qZA(),t.TgZ(33,"textarea",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showGenresSelectionModal())}),t.qZA()(),t.TgZ(34,"mat-form-field")(35,"mat-label"),t._uU(36,"Directores"),t.qZA(),t._UZ(37,"textarea",14),t.qZA(),t.TgZ(38,"mat-form-field")(39,"mat-label"),t._uU(40,"Actores"),t.qZA(),t._UZ(41,"textarea",15),t.qZA(),t.TgZ(42,"mat-form-field")(43,"mat-label"),t._uU(44,"Resumen"),t.qZA(),t._UZ(45,"textarea",16),t.qZA(),t.TgZ(46,"mat-form-field")(47,"mat-label"),t._uU(48,"Im\xe1gen"),t.qZA(),t._UZ(49,"textarea",17),t.qZA()(),t.TgZ(50,"div",18)(51,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(52,"Close"),t.qZA(),t.TgZ(53,"button",20),t._uU(54,"Guardar"),t.qZA()()(),t._UZ(55,"app-custom-spinner",21)}if(2&r){const e=t.MAs(20),i=t.oxw();t.Q6J("formGroup",i.tvserieFormGroup),t.xp6(3),t.Oqu(i.tvserie.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",i.matcher),t.xp6(1),t.Q6J("ngIf",i.tvserieFormGroup.controls.name.hasError("required")),t.xp6(4),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("readonly",!0),t.xp6(20),t.Q6J("disabled",i.showLoading||!i.tvserieFormGroup.valid),t.xp6(2),t.Q6J("showLoading",i.showLoading)}}let nP=(()=>{class r{constructor(e,i,o,d,m,v,I){this.sharedService=e,this.modalService=i,this.genreService=o,this.formBuilder=d,this.activeModal=m,this.snackbarService=v,this.tvserieService=I,this.showLoading=!1,this.matcher=new Vr}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(e=>{this.listGenres=e.Data}),this.tvserie.Id>0?this.getTvSerie():this.tvserie.ListItemGenres=[]}buildFormGroup(){this.tvserieFormGroup=this.formBuilder.group({name:new rt.NI(this.tvserie.Name,[rt.kI.required]),firstAirDate:new rt.NI(this.sharedService.formatDate(this.tvserie.FirstAirDate)),lastAirDate:new rt.NI(this.sharedService.formatDate(this.tvserie.LastAirDate)),directors:new rt.NI(this.tvserie.Directors),actors:new rt.NI(this.tvserie.Actors),overview:new rt.NI(this.tvserie.Overview),posterPath:new rt.NI(this.tvserie.PosterPath),selectedGenres:new rt.NI("")})}getTvSerie(){this.tvserieService.getTvSerie(this.tvserie.Id).then(e=>{this.tvserie=e.Data,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.tvserieFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.tvserie));e.Name=this.tvserieFormGroup.value.name,e.FirstAirDate=this.tvserieFormGroup.value.firstAirDate,e.LastAirDate=this.tvserieFormGroup.value.lastAirDate,e.Directors=this.tvserieFormGroup.value.directors,e.Actors=this.tvserieFormGroup.value.actors,e.Overview=this.tvserieFormGroup.value.overview,this.tvserieService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo la serie satisfactoriamente",yi.Success),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.tvserieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){if(this.tvserie.ListItemGenres&&this.tvserie.ListItemGenres.length>0){var e=this.tvserie.ListItemGenres.map(i=>i.GenreName);return e.join(", ")}return""}showGenresSelectionModal(){var e=this,i=this.modalService.open(sI,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.listAllGenres=this.listGenres,i.componentInstance.selection=new Yt.Ov(!0,this.getTvSerieGenres()),i.closed.subscribe(o=>{e.setTvSerieGenres(o)})}getTvSerieGenres(){var e=this.tvserie.ListItemGenres.map(i=>i.GenreId);return this.listGenres.filter(i=>-1!=e.indexOf(i.Id))}setTvSerieGenres(e){var i=[];e.forEach(o=>{i.push({TvSerieId:this.tvserie.Id,GenreId:o.Id,GenreName:o.Name})}),this.tvserie.ListItemGenres=i,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Gt),t.Y36(ia),t.Y36(TE),t.Y36(rt.qu),t.Y36(Vs),t.Y36(rs),t.Y36(lI))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-tvserie-form"]],inputs:{tvserie:"tvserie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","firstAirDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","lastAirDate",3,"matDatepicker"],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,tP,56,11,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.tvserie&&o.tvserieFormGroup)},dependencies:[rt._Y,rt.Fj,rt.JJ,rt.JL,rt.sg,rt.u,$i,g.O5,ao.Nt,xi.KE,xi.hX,xi.bx,xi.TO,xi.R9,Gm.Mq,Gm.hl,Gm.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();class iP{}let cI=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,i,o,d,m,v,I){return new Promise((j,te)=>{let me=mi();this.lastCallGuid=me;var We="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+d+"&sortDirection="+m+"&searchText="+v+"&searchBy="+I;this.restProvider.executeSinovadApiService(Xe.GET,"/seasons/GetAllWithPaginationByTvSerieAsync/"+e+We).then(pt=>{this.lastCallGuid==me&&j(pt)},pt=>{console.error(pt),te(pt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/seasons/Update":"/seasons/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/seasons/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/seasons/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(vt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function rP(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function oP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,rP,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"N\xfamero"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"Resumen"),t.qZA(),t._UZ(19,"textarea",10),t.qZA()(),t.TgZ(20,"div",11)(21,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(22,"Close"),t.qZA(),t.TgZ(23,"button",13),t._uU(24,"Guardar"),t.qZA()()(),t._UZ(25,"app-custom-spinner",14)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.seasonFormGroup),t.xp6(3),t.Oqu(e.season.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.seasonFormGroup.controls.name.hasError("required")),t.xp6(12),t.Q6J("disabled",e.showLoading||!e.seasonFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let sP=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.seasonService=d,this.showLoading=!1,this.matcher=new Vr}ngAfterViewInit(){this.seasonFormGroup=this.formBuilder.group({name:new rt.NI(this.season.Name,[rt.kI.required]),seasonNumber:new rt.NI(this.season.SeasonNumber),summary:new rt.NI(this.season.Summary)})}saveItem(){if(this.seasonFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.season));e.SeasonNumber=this.seasonFormGroup.value.seasonNumber,e.Name=this.seasonFormGroup.value.name,e.Summary=this.seasonFormGroup.value.summary,this.seasonService.saveItem(e).then(i=>{this.showLoading=!1,this.season=void 0,this.snackbarService.showSnackBar("Se guardo la temporada satisfactoriamente satisfactoriamente",yi.Success),this.activeModal.close()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,yi.Error)})}else this.seasonFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(rt.qu),t.Y36(Vs),t.Y36(rs),t.Y36(cI))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-form"]],inputs:{season:"season"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","seasonNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,oP,26,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.season&&o.seasonFormGroup)},dependencies:[rt._Y,rt.Fj,rt.wV,rt.JJ,rt.JL,rt.sg,rt.u,$i,g.O5,ao.Nt,xi.KE,xi.hX,xi.TO],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();class dI{}let cx=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,i,o,d,m,v,I){return new Promise((j,te)=>{let me=mi();this.lastCallGuid=me;var We="?page="+i.toString()+"&take="+o.toString()+"&sortBy="+d+"&sortDirection="+m+"&searchText="+v+"&searchBy="+I;this.restProvider.executeSinovadApiService(Xe.GET,"/episodes/GetAllWithPaginationBySeasonAsync/"+e+We).then(pt=>{this.lastCallGuid==me&&j(pt)},pt=>{console.error(pt),te(pt)})})}saveItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?Xe.PUT:Xe.POST,e.Id>0?"/episodes/Update":"/episodes/Create",e).then(v=>{i(!0)},v=>{console.error(v),o(v)})})}createList(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.POST,"/episodes/CreateList",e).then(d=>{i(!0)},d=>{console.error(d),o(d)})})}deleteItem(e){return new Promise((i,o)=>{this.restProvider.executeSinovadApiService(Xe.DELETE,"/episodes/Delete/"+e).then(m=>{i(m)},m=>{console.error(m),o(m)})})}deleteItems(e){return new Promise((i,o)=>{let d=[];for(let I=0;I<e.length;I++)d.push(e[I].Id);var m=d.join(",");this.restProvider.executeSinovadApiService(Xe.DELETE,"/episodes/DeleteList/"+m).then(I=>{i(I)},I=>{console.error(I),o(I)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(vt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function aP(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xcdtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function lP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xcdtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,aP,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"N\xfamero"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"Resumen"),t.qZA(),t._UZ(19,"textarea",10),t.qZA()(),t.TgZ(20,"div",11)(21,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(22,"Close"),t.qZA(),t.TgZ(23,"button",13),t._uU(24,"Guardar"),t.qZA()()(),t._UZ(25,"app-custom-spinner",14)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.episodeFormGroup),t.xp6(3),t.Oqu(e.episode.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.episodeFormGroup.controls.title.hasError("required")),t.xp6(12),t.Q6J("disabled",e.showLoading||!e.episodeFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let cP=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.episodeService=d,this.showLoading=!1,this.matcher=new Vr}ngAfterViewInit(){this.episodeFormGroup=this.formBuilder.group({title:new rt.NI(this.episode.Title,[rt.kI.required]),episodeNumber:new rt.NI(this.episode.EpisodeNumber),summary:new rt.NI(this.episode.Summary)})}saveItem(){if(this.episodeFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.episode));e.EpisodeNumber=this.episodeFormGroup.value.episodeNumber,e.Title=this.episodeFormGroup.value.title,e.Summary=this.episodeFormGroup.value.summary,this.episodeService.saveItem(e).then(i=>{this.showLoading=!1,this.episode=void 0,this.snackbarService.showSnackBar("Se guardo el episodio satisfactoriamente satisfactoriamente",yi.Success),this.activeModal.close()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,yi.Error)})}else this.episodeFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(rt.qu),t.Y36(Vs),t.Y36(rs),t.Y36(cx))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-form"]],inputs:{episode:"episode"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","episodeNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,lP,26,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.episode&&o.episodeFormGroup)},dependencies:[rt._Y,rt.Fj,rt.wV,rt.JJ,rt.JL,rt.sg,rt.u,$i,g.O5,ao.Nt,xi.KE,xi.hX,xi.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function dP(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," El campo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function uP(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," El campo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function fP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.save())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3,"Rango de Episodios"),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Desde"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,dP,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Hasta"),t.qZA(),t._UZ(15,"input",9),t.YNc(16,uP,4,0,"mat-error",8),t.qZA()(),t.TgZ(17,"div",10)(18,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(19,"Close"),t.qZA(),t.TgZ(20,"button",12),t._uU(21,"Guardar"),t.qZA()(),t._UZ(22,"app-custom-spinner",13),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.formGroup),t.xp6(11),t.Q6J("ngIf",e.formGroup.controls.initialEpisodeNumber.hasError("required")),t.xp6(5),t.Q6J("ngIf",e.formGroup.controls.lastEpisodeNumber.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.formGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let hP=(()=>{class r{constructor(e,i,o){this.formBuilder=e,this.episodeService=i,this.activeModal=o,this.matcher=new Vr,this.showLoading=!1}ngAfterViewInit(){this.formGroup=this.formBuilder.group({initialEpisodeNumber:new rt.NI("",[rt.kI.required]),lastEpisodeNumber:new rt.NI("",[rt.kI.required])})}save(){if(this.formGroup.valid){this.showLoading=!0;let i=[];for(let o=Number(this.formGroup.value.initialEpisodeNumber);o<=Number(this.formGroup.value.lastEpisodeNumber);o++){var e=new dI;e.EpisodeNumber=o,e.SeasonId=this.parent.Id,e.Title="Episodio "+o,i.push(e)}this.episodeService.createList(i).then(o=>{this.showLoading=!1,this.activeModal.close(!0)},o=>{this.showLoading=!1,console.error(o)})}else this.formGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(rt.qu),t.Y36(cx),t.Y36(Vs))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-range-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["type","number","matInput","","formControlName","initialEpisodeNumber"],[4,"ngIf"],["type","number","matInput","","formControlName","lastEpisodeNumber"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,fP,23,5,"form",0),2&i&&t.Q6J("ngIf",o.formGroup)},dependencies:[rt._Y,rt.Fj,rt.wV,rt.JJ,rt.JL,rt.sg,rt.u,$i,g.O5,ao.Nt,xi.KE,xi.hX,xi.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function mP(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function pP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function gP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function _P(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function vP(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.EpisodeNumber,"")}}function yP(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1,"T\xcdtulo"),t.qZA())}function bP(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function EP(r,n){1&r&&t._UZ(0,"th",41)}function TP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function SP(r,n){1&r&&t._UZ(0,"tr",47)}function CP(r,n){1&r&&t._UZ(0,"tr",48)}function DP(r,n){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function xP(r,n){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,DP,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const MP=function(r){return{disable:r}},AP=function(){return[5,10,25,100]};let IP=(()=>{class r extends bn{constructor(e,i,o,d,m){super(d),this.modalService=e,this.dialog=i,this.episodeService=o,this.matPaginatorIntl=d,this.snackbarService=m}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="EpisodeNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"EpisodeNumber",start:"asc",disableClear:!0}),this.searchBy="EpisodeNumber|Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new dI;e.SeasonId=this.parentItem.Id,this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(cP,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.episode=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.episodeService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Vt.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new or.vA;i.data={title:"Eliminar Episodio",message:"\xbfEsta seguro que desea eliminar el episodio "+e.Title+"?",accordMessage:"Si, eliminar el episodio '"+e.Title+"'"},this.dialog.open(Et,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.episodeService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",yi.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,yi.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new or.vA;e.data={title:"Eliminar episodios",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Et,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.episodeService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",yi.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,yi.Error)})}getDisplayedColumns(){return["Select","EpisodeNumber","Title","Actions"]}showEpisodeRangeModal(){var e=this,i=this.modalService.open(hP,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});i.componentInstance.parent=this.parentItem,i.closed.subscribe(o=>{e.getAllItems()})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(ia),t.Y36(or.uw),t.Y36(cx),t.Y36(wr.ye),t.Y36(rs))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(wr.NW,5),t.Gf(In.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:42,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],["type","button",1,"custom-toolbar-button",3,"click"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","EpisodeNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return o.showEpisodeRangeModal()}),t._uU(12," Agregar por Rango "),t.qZA()()(),t.TgZ(13,"div",1)(14,"div",9)(15,"mat-form-field")(16,"mat-label"),t._uU(17,"Buscar"),t.qZA(),t.TgZ(18,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(20,"div",12),t.YNc(21,mP,2,0,"div",13),t.TgZ(22,"div",14)(23,"table",15),t.ynx(24,16),t.YNc(25,pP,2,2,"th",17),t.YNc(26,gP,2,1,"td",18),t.BQk(),t.ynx(27,19),t.YNc(28,_P,2,0,"th",20),t.YNc(29,vP,2,1,"td",21),t.BQk(),t.ynx(30,22),t.YNc(31,yP,2,0,"th",23),t.YNc(32,bP,2,1,"td",24),t.BQk(),t.ynx(33,25),t.YNc(34,EP,1,0,"th",26),t.YNc(35,TP,6,0,"td",27),t.BQk(),t.YNc(36,SP,1,0,"tr",28),t.YNc(37,CP,1,0,"tr",29),t.YNc(38,xP,2,1,"tr",30),t.qZA()()()()(),t.TgZ(39,"div",1)(40,"div",9),t._UZ(41,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(3),t.hij("",o.parentItem.Name," :Episodios"),t.xp6(6),t.Q6J("ngClass",t.VKq(8,MP,!o.selection.hasValue())),t.xp6(12),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(10,AP)))},dependencies:[g.mk,g.O5,wr.NW,Vt.BZ,Vt.fO,Vt.as,Vt.w1,Vt.Dz,Vt.nj,Vt.ge,Vt.ev,Vt.XQ,Vt.Gk,Vt.Ee,ao.Nt,xi.KE,xi.hX,In.YE,In.nU,Ml.oG,Ms.Ou,Rc.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return r})();function wP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t._UZ(6,"app-episode-list",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.parent.Name," :Episodios"),t.xp6(4),t.Q6J("parentItem",e.parent)}}let PP=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vs))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(i,o){1&i&&t.YNc(0,wP,10,2,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.parent)},dependencies:[g.O5,IP]})}return r})();function OP(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function RP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function NP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function LP(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function kP(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.SeasonNumber,"")}}function FP(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1,"Nombre"),t.qZA())}function BP(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function UP(r,n){1&r&&t._UZ(0,"th",41)}function jP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.showEpisodeListModal(d))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(5,"i",47),t.qZA(),t.TgZ(6,"button",48),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(7,"i",7),t.qZA()()()}}function VP(r,n){1&r&&t._UZ(0,"tr",49)}function GP(r,n){1&r&&t._UZ(0,"tr",50)}function HP(r,n){1&r&&(t.TgZ(0,"td",53),t._uU(1,"No se encontraron datos"),t.qZA())}function KP(r,n){if(1&r&&(t.TgZ(0,"tr",51),t.YNc(1,HP,2,0,"td",52),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const YP=function(r){return{disable:r}},WP=function(){return[5,10,25,100]};let zP=(()=>{class r extends bn{constructor(e,i,o,d,m){super(d),this.modalService=e,this.dialog=i,this.seasonService=o,this.matPaginatorIntl=d,this.snackbarService=m}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="SeasonNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"SeasonNumber",start:"asc",disableClear:!0}),this.searchBy="SeasonNumber",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new iP;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(sP,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.season=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.seasonService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Vt.by(i),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new or.vA;i.data={title:"Eliminar Temporada",message:"\xbfEsta seguro que desea eliminar la temporada "+e.Name+"?",accordMessage:"Si, eliminar la temporada '"+e.Name+"'"},this.dialog.open(Et,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.seasonService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",yi.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,yi.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new or.vA;e.data={title:"Eliminar seasons",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Et,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.seasonService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",yi.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,yi.Error)})}getDisplayedColumns(){return["Select","SeasonNumber","Name","Actions"]}showEpisodeListModal(e){var o=this.modalService.open(PP,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(d=>{})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(ia),t.Y36(or.uw),t.Y36(cI),t.Y36(wr.ye),t.Y36(rs))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(wr.NW,5),t.Gf(In.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:41,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","SeasonNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver episodios",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,OP,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,RP,2,2,"th",17),t.YNc(25,NP,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,LP,2,0,"th",20),t.YNc(28,kP,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,FP,2,0,"th",23),t.YNc(31,BP,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,UP,1,0,"th",26),t.YNc(34,jP,8,0,"td",27),t.BQk(),t.YNc(35,VP,1,0,"tr",28),t.YNc(36,GP,1,0,"tr",29),t.YNc(37,KP,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(3),t.hij("",o.parentItem.Name," :Temporadas"),t.xp6(6),t.Q6J("ngClass",t.VKq(8,YP,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(10,WP)))},dependencies:[g.mk,g.O5,wr.NW,Vt.BZ,Vt.fO,Vt.as,Vt.w1,Vt.Dz,Vt.nj,Vt.ge,Vt.ev,Vt.XQ,Vt.Gk,Vt.Ee,ao.Nt,xi.KE,xi.hX,In.YE,In.nU,Ml.oG,Ms.Ou,Rc.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return r})();function ZP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t._UZ(6,"app-season-list",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.parent.Name," :Temporadas"),t.xp6(4),t.Q6J("parentItem",e.parent)}}let $P=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Vs))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(i,o){1&i&&t.YNc(0,ZP,10,2,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.parent)},dependencies:[g.O5,zP]})}return r})();function qP(r,n){1&r&&(t.TgZ(0,"div",40),t._UZ(1,"mat-spinner"),t.qZA())}function JP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",41)(1,"mat-checkbox",42),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function QP(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",43)(1,"mat-checkbox",44),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function XP(r,n){1&r&&(t.TgZ(0,"th",45),t._uU(1,"N\xb0"),t.qZA())}function eO(r,n){if(1&r&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function tO(r,n){1&r&&(t.TgZ(0,"th",47),t._uU(1,"Nombre"),t.qZA())}function nO(r,n){if(1&r&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function iO(r,n){1&r&&(t.TgZ(0,"th",49),t._uU(1,"Primera emisi\xf3n"),t.qZA())}function rO(r,n){if(1&r&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.FirstAirDate,"dd-MM-YYYY")," ")}}function oO(r,n){1&r&&(t.TgZ(0,"th",49),t._uU(1,"\xdaltima emisi\xf3n"),t.qZA())}function sO(r,n){if(1&r&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.LastAirDate,"dd-MM-YYYY")," ")}}function aO(r,n){1&r&&(t.TgZ(0,"th",51),t._uU(1,"Actores"),t.qZA())}function lO(r,n){if(1&r&&(t.TgZ(0,"td",52,53),t._uU(2),t.qZA()),2&r){const e=n.$implicit,i=t.MAs(1);t.Udp("cursor",i.offsetWidth<i.scrollWidth?"pointer":""),t.s9C("matTooltip",i.offsetWidth<i.scrollWidth?e.Actors:""),t.xp6(2),t.Oqu(e.Actors)}}function cO(r,n){1&r&&(t.TgZ(0,"th",51),t._uU(1,"Directores"),t.qZA())}function dO(r,n){if(1&r&&(t.TgZ(0,"td",52,53),t._uU(2),t.qZA()),2&r){const e=n.$implicit,i=t.MAs(1);t.Udp("cursor",i.offsetWidth<i.scrollWidth?"pointer":""),t.s9C("matTooltip",i.offsetWidth<i.scrollWidth?e.Directors:""),t.xp6(2),t.hij(" ",e.Directors," ")}}function uO(r,n){1&r&&t._UZ(0,"th",54)}function fO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",55)(1,"div",56)(2,"button",57),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.showSeasonListModal(d))}),t._UZ(3,"i",58),t.qZA(),t.TgZ(4,"button",59),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(5,"i",60),t.qZA(),t.TgZ(6,"button",61),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(7,"i",7),t.qZA()()()}}function hO(r,n){1&r&&t._UZ(0,"tr",62)}function mO(r,n){1&r&&t._UZ(0,"tr",63)}function pO(r,n){1&r&&(t.TgZ(0,"td",66),t._uU(1,"No se encontraron datos"),t.qZA())}function gO(r,n){if(1&r&&(t.TgZ(0,"tr",64),t.YNc(1,pO,2,0,"td",65),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const _O=function(r){return{disable:r}},vO=function(){return[5,10,25,100]};let dx=(()=>{class r extends bn{constructor(e,i,o,d,m,v){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.tvserieService=v}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new X1;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(nP,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.tvserie=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.tvserieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Vt.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new or.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar la serie "+e.Name+"?",accordMessage:"Si, eliminar la serie '"+e.Name+"'"},this.dialog.open(Et,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.tvserieService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",yi.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,yi.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new or.vA;e.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Et,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.tvserieService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",yi.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,yi.Error)})}getDisplayedColumns(){return window.innerWidth>1100?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Directors","Actions"]:window.innerWidth>975?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Actions"]:window.innerWidth>875?["Select","Id","Name","FirstAirDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Name","FirstAirDate","Actions"]:["Select","Id","Name","Actions"]}showSeasonListModal(e){var o=this.modalService.open($P,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(d=>{})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Gn.F0),t.Y36(ia),t.Y36(or.uw),t.Y36(wr.ye),t.Y36(rs),t.Y36(lI))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-tvserie-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(wr.NW,5),t.Gf(In.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:53,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","FirstAirDate"],["mat-header-cell","","mat-sort-header","","style","min-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","LastAirDate"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","class","text-truncate","style","max-width:120px;text-align: left;cursor: pointer;",3,"cursor","matTooltip",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","120px","text-align","left"],["mat-cell","",2,"min-width","120px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",1,"text-truncate",2,"max-width","120px","text-align","left","cursor","pointer",3,"matTooltip"],["cell",""],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver temporadas",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Series"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,qP,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,JP,2,2,"th",17),t.YNc(25,QP,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,XP,2,0,"th",20),t.YNc(28,eO,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,tO,2,0,"th",23),t.YNc(31,nO,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,iO,2,0,"th",26),t.YNc(34,rO,3,4,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,oO,2,0,"th",26),t.YNc(37,sO,3,4,"td",27),t.BQk(),t.ynx(38,29),t.YNc(39,aO,2,0,"th",30),t.YNc(40,lO,3,4,"td",31),t.BQk(),t.ynx(41,32),t.YNc(42,cO,2,0,"th",30),t.YNc(43,dO,3,4,"td",31),t.BQk(),t.ynx(44,33),t.YNc(45,uO,1,0,"th",34),t.YNc(46,fO,8,0,"td",35),t.BQk(),t.YNc(47,hO,1,0,"tr",36),t.YNc(48,mO,1,0,"tr",37),t.YNc(49,gO,2,1,"tr",38),t.qZA()()()()(),t.TgZ(50,"div",1)(51,"div",9),t._UZ(52,"mat-paginator",39),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,_O,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,vO)))},dependencies:[g.mk,g.O5,wr.NW,Vt.BZ,Vt.fO,Vt.as,Vt.w1,Vt.Dz,Vt.nj,Vt.ge,Vt.ev,Vt.XQ,Vt.Gk,Vt.Ee,ao.Nt,xi.KE,xi.hX,In.YE,In.nU,Ml.oG,Ms.Ou,Rc.gM,g.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class yO{}function bO(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function EO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,bO,4,0,"mat-error",8),t.qZA()(),t.TgZ(12,"div",9)(13,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(14,"Close"),t.qZA(),t.TgZ(15,"button",11),t._uU(16,"Guardar"),t.qZA()()(),t._UZ(17,"app-custom-spinner",12)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.genreFormGroup),t.xp6(3),t.Oqu(e.genre&&e.genre.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.genreFormGroup.controls.name.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.genreFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let TO=(()=>{class r{constructor(e,i,o,d){this.formBuilder=e,this.activeModal=i,this.snackbarService=o,this.genreService=d,this.showLoading=!1,this.matcher=new Vr}ngOnInit(){}ngAfterViewInit(){this.genreFormGroup=this.formBuilder.group({name:new rt.NI(this.genre.Name,[rt.kI.required])})}saveItem(){if(this.genreFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.genre));e.Name=this.genreFormGroup.value.name,this.genreService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el genre satisfactoriamente",yi.Success),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.genreFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(rt.qu),t.Y36(Vs),t.Y36(rs),t.Y36(TE))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genre-form"]],inputs:{genre:"genre"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,EO,18,6,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.genre&&o.genreFormGroup)},dependencies:[rt._Y,rt.Fj,rt.JJ,rt.JL,rt.sg,rt.u,$i,g.O5,ao.Nt,xi.KE,xi.hX,xi.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function SO(r,n){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function CO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function DO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function xO(r,n){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function MO(r,n){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function AO(r,n){1&r&&(t.TgZ(0,"th",39),t._uU(1," Nombre "),t.qZA())}function IO(r,n){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function wO(r,n){1&r&&t._UZ(0,"th",41)}function PO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function OO(r,n){1&r&&t._UZ(0,"tr",47)}function RO(r,n){1&r&&t._UZ(0,"tr",48)}function NO(r,n){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function LO(r,n){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,NO,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const kO=function(r){return{disable:r}},FO=function(){return[5,10,25,100]};let uI=(()=>{class r extends bn{constructor(e,i,o,d,m,v){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.genreService=v,this.displayedColumns=["Select","Id","Name","Actions"]}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new yO;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(TO,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.genre=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.genreService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Vt.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new or.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+e.Name+"?",accordMessage:"Si, eliminar el rol '"+e.Name+"'"},this.dialog.open(Et,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.genreService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",yi.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,yi.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new or.vA;e.data={title:"Eliminar genres",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Et,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.genreService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",yi.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,yi.Error)})}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Gn.F0),t.Y36(ia),t.Y36(or.uw),t.Y36(wr.ye),t.Y36(rs),t.Y36(TE))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genre-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(wr.NW,5),t.Gf(In.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," G\xe9neros"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,SO,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,CO,2,2,"th",17),t.YNc(25,DO,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,xO,2,0,"th",20),t.YNc(28,MO,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,AO,2,0,"th",23),t.YNc(31,IO,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,wO,1,0,"th",26),t.YNc(34,PO,6,0,"td",27),t.BQk(),t.YNc(35,OO,1,0,"tr",28),t.YNc(36,RO,1,0,"tr",29),t.YNc(37,LO,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,kO,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,FO)))},dependencies:[g.mk,g.O5,wr.NW,Vt.BZ,Vt.fO,Vt.as,Vt.w1,Vt.Dz,Vt.nj,Vt.ge,Vt.ev,Vt.XQ,Vt.Gk,Vt.Ee,ao.Nt,xi.KE,xi.hX,In.YE,In.nU,Ml.oG,Ms.Ou,Rc.gM],styles:["h3[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#fff}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}"]})}return r})();class Hm{}function BO(r,n){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xedtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function UO(r,n){if(1&r&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Name," ")}}function jO(r,n){if(1&r&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Title," ")}}function VO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xedtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,BO,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Path"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"N\xfamero de Orden"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field")(21,"mat-label"),t._uU(22,"Tipo de \xcdcono"),t.qZA(),t.TgZ(23,"mat-select",11)(24,"mat-option",12),t._uU(25,"--"),t.qZA(),t.YNc(26,UO,2,2,"mat-option",13),t.qZA()(),t.TgZ(27,"mat-form-field")(28,"mat-label"),t._uU(29,"Icon Class"),t.qZA(),t._UZ(30,"input",14),t.qZA(),t.TgZ(31,"mat-form-field")(32,"mat-label"),t._uU(33,"Menu Padre"),t.qZA(),t.TgZ(34,"mat-select",15)(35,"mat-option",12),t._uU(36,"--"),t.qZA(),t.YNc(37,jO,2,2,"mat-option",13),t.qZA()(),t.TgZ(38,"mat-checkbox",16),t._uU(39,"Activo"),t.qZA()(),t.TgZ(40,"div",17)(41,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(42,"Cerrar"),t.qZA(),t.TgZ(43,"button",19),t._uU(44,"Guardar"),t.qZA()()(),t._UZ(45,"app-custom-spinner",20)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.menuFormGroup),t.xp6(3),t.Oqu(e.menu.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.menuFormGroup.controls.title.hasError("required")),t.xp6(13),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.listIconTypes),t.xp6(9),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.listMenusSelectable),t.xp6(6),t.Q6J("disabled",e.showLoading||!e.menuFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let GO=(()=>{class r{constructor(e,i,o,d,m,v){this.sharedService=e,this.restProvider=i,this.formBuilder=o,this.activeModal=d,this.snackbarService=m,this.menuService=v,this.showLoading=!1,this.matcher=new Vr}ngOnInit(){this.getAllMenus(),this.getIconTypes()}getAllMenus(){this.menuService.getAllMenus().then(e=>{this.listMenusSelectable=e.Data.filter(o=>o.Id!=this.menu.Id)},e=>{console.error(e)})}getIconTypes(){this.restProvider.executeSinovadApiService(Xe.GET,"/catalogs/GetDetailsByCatalogAsync/"+_n.IconTypes).then(i=>{this.listIconTypes=i.Data},i=>{console.error(i)})}ngAfterViewInit(){this.menuFormGroup=this.formBuilder.group({title:new rt.NI(this.menu.Title,[rt.kI.required]),path:new rt.NI(this.menu.Path),iconType:new rt.NI(this.menu.IconTypeCatalogDetailId),iconClass:new rt.NI(this.menu.IconClass),sortOrder:new rt.NI(this.menu.SortOrder),parentId:new rt.NI(this.menu.ParentId),enabled:new rt.NI(this.menu.Enabled)})}saveItem(){if(this.menuFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.menu));e.Title=this.menuFormGroup.value.title,e.Path=this.menuFormGroup.value.path,e.IconClass=this.menuFormGroup.value.iconClass,e.SortOrder=this.menuFormGroup.value.sortOrder,null!=this.menuFormGroup.value.iconType?(e.IconTypeCatalogId=_n.IconTypes,e.IconTypeCatalogDetailId=this.menuFormGroup.value.iconType):(e.IconTypeCatalogId=void 0,e.IconTypeCatalogDetailId=void 0),e.ParentId=this.menuFormGroup.value.parentId,e.Enabled=this.menuFormGroup.value.enabled,this.menuService.saveItem(e).then(i=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el menu satisfactoriamente",yi.Success),this.menuService.getManageMenu(),this.activeModal.close()},i=>{this.showLoading=!1,console.error(i)})}else this.menuFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Gt),t.Y36(vt),t.Y36(rt.qu),t.Y36(Vs),t.Y36(rs),t.Y36(Oi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-menu-form"]],inputs:{menu:"menu"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["id","path","matInput","","formControlName","path"],["id","sortOrder","type","number","matInput","","formControlName","sortOrder"],["formControlName","iconType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["id","iconClass","matInput","","formControlName","iconClass"],["formControlName","parentId"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(i,o){1&i&&t.YNc(0,VO,46,10,"ng-template",0),2&i&&t.Q6J("ngIf",null!=o.menu&&o.menuFormGroup)},dependencies:[rt._Y,rt.Fj,rt.wV,rt.JJ,rt.JL,rt.sg,rt.u,$i,g.sg,g.O5,ao.Nt,xi.KE,xi.hX,xi.TO,Ml.oG,QA.ey,XA.gD],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}.form-check-input[_ngcontent-%COMP%]{width:18px;height:18px}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function HO(r,n){1&r&&(t.TgZ(0,"div",41),t._UZ(1,"mat-spinner"),t.qZA())}function KO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"th",42)(1,"mat-checkbox",43),t.NdJ("change",function(o){t.CHM(e);const d=t.oxw();return t.KtG(o?d.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function YO(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",44)(1,"mat-checkbox",45),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onChangeCheckValue(o,m))}),t.qZA()()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))}}function WO(r,n){1&r&&(t.TgZ(0,"th",46),t._uU(1,"N\xb0"),t.qZA())}function zO(r,n){if(1&r&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&r){const e=n.index,i=t.oxw();t.xp6(1),t.hij(" ",i.getElementNumber(e,i.currentPage,i.itemsPerPage),"")}}function ZO(r,n){1&r&&(t.TgZ(0,"th",48),t._uU(1,"T\xedtulo"),t.qZA())}function $O(r,n){if(1&r&&(t.TgZ(0,"td",49),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function qO(r,n){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Path"),t.qZA())}function JO(r,n){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Path," ")}}function QO(r,n){1&r&&(t.TgZ(0,"th",52),t._uU(1,"\xcdcono"),t.qZA())}function XO(r,n){if(1&r&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.IconClass," ")}}function eR(r,n){1&r&&(t.TgZ(0,"th",54),t._uU(1,"Orden"),t.qZA())}function tR(r,n){if(1&r&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.SortOrder," ")}}function nR(r,n){1&r&&t._UZ(0,"th",56)}function iR(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"td",57)(1,"div",58)(2,"button",59),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editItem(d))}),t._UZ(3,"i",60),t.qZA(),t.TgZ(4,"button",61),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.deleteItem(d))}),t._UZ(5,"i",7),t.qZA()()()}}function rR(r,n){1&r&&t._UZ(0,"tr",62)}function oR(r,n){1&r&&t._UZ(0,"tr",63)}function sR(r,n){1&r&&(t.TgZ(0,"td",66),t._uU(1,"No se encontraron datos"),t.qZA())}function aR(r,n){if(1&r&&(t.TgZ(0,"tr",64),t.YNc(1,sR,2,0,"td",65),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const lR=function(r){return{disable:r}},cR=function(){return[5,10,25,100]};let fI=(()=>{class r extends bn{constructor(e,i,o,d,m,v){super(d),this.router=e,this.modalService=i,this.dialog=o,this.matPaginatorIntl=d,this.snackbarService=m,this.menuService=v}ngOnInit(){}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new Hm;e.Enabled=!0,this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var i=this,o=this.modalService.open(GO,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.menu=e,o.closed.subscribe(d=>{i.getAllItems()})}getAllItems(){this.showLoading=!0,this.menuService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Vt.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var i=new or.vA;i.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el menu "+e.Title+"?",accordMessage:"Si, eliminar el menu '"+e.Title+"'"},this.dialog.open(Et,i).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.menuService.deleteItem(e.Id).then(i=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",yi.Success),this.getAllItems()},i=>{this.showLoading=!1,this.snackbarService.showSnackBar(i,yi.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new or.vA;e.data={title:"Eliminar menus",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(Et,e).afterClosed().subscribe(i=>{i&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.menuService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",yi.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,yi.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","Path","IconClass","SortOrder","Actions"]:window.innerWidth>875?["Select","Id","Title","Path","IconClass","Actions"]:window.innerWidth>495?["Select","Id","Title","Path","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Gn.F0),t.Y36(ia),t.Y36(or.uw),t.Y36(wr.ye),t.Y36(rs),t.Y36(Oi))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-menu-list"]],viewQuery:function(i,o){if(1&i&&(t.Gf(wr.NW,5),t.Gf(In.YE,5)),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},features:[t.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Path"],["mat-header-cell","","mat-sort-header","","style","min-width:100px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","IconClass"],["mat-header-cell","","mat-sort-header","","style","min-width:180px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:180px;text-align: left;",4,"matCellDef"],["matColumnDef","SortOrder"],["mat-header-cell","","mat-sort-header","","style","max-width:70px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:70px;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","100px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","180px","text-align","left"],["mat-cell","",2,"min-width","180px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","70px","text-align","left"],["mat-cell","",2,"max-width","70px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Menus"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(m){return o.applyFilter(m)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,HO,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,KO,2,2,"th",17),t.YNc(25,YO,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,WO,2,0,"th",20),t.YNc(28,zO,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,ZO,2,0,"th",23),t.YNc(31,$O,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,qO,2,0,"th",26),t.YNc(34,JO,2,1,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,QO,2,0,"th",29),t.YNc(37,XO,2,1,"td",30),t.BQk(),t.ynx(38,31),t.YNc(39,eR,2,0,"th",32),t.YNc(40,tR,2,1,"td",33),t.BQk(),t.ynx(41,34),t.YNc(42,nR,1,0,"th",35),t.YNc(43,iR,6,0,"td",36),t.BQk(),t.YNc(44,rR,1,0,"tr",37),t.YNc(45,oR,1,0,"tr",38),t.YNc(46,aR,2,1,"tr",39),t.qZA()()()()(),t.TgZ(47,"div",1)(48,"div",9),t._UZ(49,"mat-paginator",40),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,lR,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,cR)))},dependencies:[g.mk,g.O5,wr.NW,Vt.BZ,Vt.fO,Vt.as,Vt.w1,Vt.Dz,Vt.nj,Vt.ge,Vt.ev,Vt.XQ,Vt.Gk,Vt.Ee,ao.Nt,xi.KE,xi.hX,In.YE,In.nU,Ml.oG,Ms.Ou,Rc.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})(),dR=(()=>{class r{constructor(e){this.restProvider=e}getAlertsByMediaServer(e,i,o){return new Promise((d,m)=>{var v="?page="+i.toString()+"&take="+o.toString();this.restProvider.executeHttpMediaServerApi(Xe.GET,e+"/api/alerts/GetAllWithPagination"+v).then(j=>{d(j)},j=>{m(j)})})}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(vt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function uR(r,n){1&r&&(t.TgZ(0,"div",18),t._UZ(1,"mat-spinner"),t.qZA())}function fR(r,n){if(1&r&&(t.TgZ(0,"td",19),t._UZ(1,"i"),t.qZA()),2&r){const e=n.$implicit,i=t.oxw(4);t.xp6(1),t.Tol(i.getIconByAlertType(e.AlertType))}}function hR(r,n){if(1&r&&(t.TgZ(0,"td",20),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.Created,"dd-MM-YYYY h:mm a")," ")}}function mR(r,n){if(1&r&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.Description," ")}}function pR(r,n){1&r&&t._UZ(0,"tr",22)}function gR(r,n){1&r&&(t.TgZ(0,"td",25),t._uU(1,"No se encontraron datos"),t.qZA())}function _R(r,n){if(1&r&&(t.TgZ(0,"tr",23),t.YNc(1,gR,2,0,"td",24),t.qZA()),2&r){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}function vR(r,n){if(1&r&&(t.TgZ(0,"div",2)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5),t.YNc(6,uR,2,0,"div",6),t.TgZ(7,"div",7)(8,"table",8),t.ynx(9,9),t.YNc(10,fR,2,3,"td",10),t.BQk(),t.ynx(11,11),t.YNc(12,hR,3,4,"td",12),t.BQk(),t.ynx(13,13),t.YNc(14,mR,2,1,"td",14),t.BQk(),t.YNc(15,pR,1,0,"tr",15),t.YNc(16,_R,2,1,"tr",16),t.qZA()()()()(),t.TgZ(17,"div",3)(18,"div",4),t._UZ(19,"mat-paginator",17),t.qZA()()()),2&r){const e=t.oxw(3);t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - Alertas"),t.xp6(4),t.Q6J("ngIf",e.showLoading),t.xp6(2),t.Q6J("dataSource",e.dataSource),t.xp6(7),t.Q6J("matRowDefColumns",e.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("hidePageSize",!0)}}function yR(r,n){if(1&r&&t.YNc(0,vR,20,6,"div",1),2&r){const e=t.oxw(2);t.Q6J("ngIf",e.mediaServer)}}function bR(r,n){if(1&r&&t._UZ(0,"app-server-connection-error",26),2&r){const e=t.oxw(2);t.Q6J("mediaServer",e.mediaServer)}}function ER(r,n){if(1&r&&(t.YNc(0,yR,1,1,"ng-template",0),t.YNc(1,bR,1,1,"ng-template",0)),2&r){const e=t.oxw();t.Q6J("ngIf",e.mediaServer&&e.mediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",e.mediaServer&&!e.mediaServer.isSecureConnection)}}function TR(r,n){1&r&&(t.TgZ(0,"div",27),t._UZ(1,"mat-spinner"),t.qZA())}let hI=(()=>{class r extends bn{constructor(e,i,o,d,m,v,I){super(I),this.ref=e,this.sharedService=i,this.router=o,this.activeRoute=d,this.signalIrService=m,this.alertsService=v,this.matPaginatorIntl=I,this.loadingConnection=!0,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(j=>{this.mediaServer&&this.mediaServer.Guid==j&&!this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.ref.detectChanges(),this.initializePaginator(),this.getAllItems())}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(j=>{this.mediaServer&&this.mediaServer.Guid==j&&this.mediaServer.isSecureConnection&&(this.mediaServer.isSecureConnection=!1)})}ngOnInit(){var e=this.activeRoute.snapshot.params.serverGuid,i=this.sharedService.mediaServers.find(o=>o.Guid==e);i?(this.mediaServer=JSON.parse(JSON.stringify(i)),i.isSecureConnection?(this.loadingConnection=!1,this.getAllItems()):setTimeout(()=>{this.loadingConnection=!1},3e3)):this.router.navigateByUrl("/404")}ngAfterViewInit(){this.mediaServer&&this.mediaServer.isSecureConnection&&this.initializePaginator()}initializePaginator(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getAllItems(){this.showLoading=!0,this.alertsService.getAlertsByMediaServer(this.mediaServer.Url,this.currentPage,this.itemsPerPage).then(e=>{this.showLoading=!1;var i=e.Data;this.totalCount=e.TotalCount,this.listItems=i,this.dataSource=new Vt.by(this.listItems),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}getDisplayedColumns(){return["AlertType","Created","Description"]}getIconByAlertType(e){return e==Fn.Bullhorn?"fa-solid fa-bullhorn":e==Fn.Tags?"fa-solid fa-tags":e==Fn.Ok?"fa-solid fa-check":e==Fn.Plus?"fa-solid fa-plus":e==Fn.Bin?"fa-solid fa-trash":""}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.sBO),t.Y36(Gt),t.Y36(Gn.F0),t.Y36(Gn.gz),t.Y36(Io),t.Y36(dR),t.Y36(wr.ye))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-alerts"]],viewQuery:function(i,o){if(1&i&&t.Gf(wr.NW,5),2&i){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first)}},features:[t.qOj],decls:2,vars:2,consts:[[3,"ngIf"],["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"row"],[1,"col-12"],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","AlertType"],["mat-cell","","style","width:45px;max-width:45px;text-align: left;",4,"matCellDef"],["matColumnDef","Created"],["mat-cell","","style","min-width:140px;width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Description"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","hidePageSize"],[1,"loading-shade"],["mat-cell","",2,"width","45px","max-width","45px","text-align","left"],["mat-cell","",2,"min-width","140px","width","140px","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"],[3,"mediaServer"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.YNc(0,ER,2,2,"ng-template",0),t.YNc(1,TR,2,0,"ng-template",0)),2&i&&(t.Q6J("ngIf",!o.loadingConnection),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[g.O5,wr.NW,Vt.BZ,Vt.w1,Vt.Dz,Vt.nj,Vt.ev,Vt.Gk,Vt.Ee,Ms.Ou,Zd,g.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:650px!important}.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:650px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}td[_ngcontent-%COMP%]{font-size:13px;padding:6px}div[_ngcontent-%COMP%]{font-size:13px}span[_ngcontent-%COMP%]{font-size:13px!important}"]})}return r})();const SR=[{path:"home",component:Vu,loadChildren:()=>S.e(377).then(S.bind(S,8377)).then(r=>r.MediaModule),canActivate:[wo]},{path:"media/movies",component:Vu,loadChildren:()=>S.e(377).then(S.bind(S,8377)).then(r=>r.MediaModule),canActivate:[wo]},{path:"media/tvseries",component:Vu,loadChildren:()=>S.e(377).then(S.bind(S,8377)).then(r=>r.MediaModule),canActivate:[wo]},{path:"media/server/:serverGuid",component:Vu,loadChildren:()=>S.e(377).then(S.bind(S,8377)).then(r=>r.MediaModule),canActivate:[wo]},{path:"media/server/:serverGuid/libraries/:libraryId",component:Vu,loadChildren:()=>S.e(377).then(S.bind(S,8377)).then(r=>r.MediaModule),canActivate:[wo]},{path:"media/server/:serverGuid/libraries/:libraryId/detail",component:y0,loadChildren:()=>S.e(377).then(S.bind(S,8377)).then(r=>r.MediaModule),canActivate:[wo]},{path:"media/server/:serverGuid/video/:mediaFileId",component:h,loadChildren:()=>S.e(2).then(S.bind(S,3002)).then(r=>r.VideoPageModule),canActivate:[wo]},{path:"search",component:_t,loadChildren:()=>S.e(316).then(S.bind(S,6316)).then(r=>r.SearchModule),canActivate:[wo]},{path:"select-profile",component:qn,loadChildren:()=>S.e(931).then(S.bind(S,6931)).then(r=>r.ProfilesModule),canActivate:[wo]},{path:"add-profile",component:Dr,loadChildren:()=>S.e(931).then(S.bind(S,6931)).then(r=>r.ProfilesModule),canActivate:[wo]},{path:"edit-profile/:profileGuid",component:_w,loadChildren:()=>S.e(931).then(S.bind(S,6931)).then(r=>r.ProfilesModule),canActivate:[wo]},{path:"settings/server/:serverGuid/settings/general",component:$A,loadChildren:()=>S.e(527).then(S.bind(S,1527)).then(r=>r.ServerSettingsGeneralPageModule),canActivate:[wo]},{path:"settings/server/:serverGuid/status/alerts",component:hI,loadChildren:()=>S.e(227).then(S.bind(S,7227)).then(r=>r.AlertsModule),canActivate:[wo]},{path:"settings/server/:serverGuid/manage/libraries",component:eI,loadChildren:()=>S.e(558).then(S.bind(S,7558)).then(r=>r.LibrariesModule),canActivate:[wo]},{path:"settings/server/:serverGuid/settings/transcoder",component:nI,loadChildren:()=>S.e(211).then(S.bind(S,3211)).then(r=>r.TranscoderSettingssPageModule),canActivate:[wo]},{path:"settings/account",component:oI,loadChildren:()=>S.e(727).then(S.bind(S,2727)).then(r=>r.AccountSettingsModule),canActivate:[wo]},{path:"manage/movies",component:lx,loadChildren:()=>S.e(369).then(S.bind(S,3369)).then(r=>r.MoviesModule),canActivate:[wo,Uu]},{path:"manage/tvseries",component:dx,loadChildren:()=>S.e(425).then(S.bind(S,5425)).then(r=>r.TvSeriesModule),canActivate:[wo,Uu]},{path:"manage/genres",component:uI,loadChildren:()=>S.e(153).then(S.bind(S,7153)).then(r=>r.GenresModule),canActivate:[wo,Uu]},{path:"manage/menus",component:fI,loadChildren:()=>S.e(991).then(S.bind(S,3991)).then(r=>r.MenusModule),canActivate:[wo,Uu]},{path:"manage/users",component:gg,loadChildren:()=>S.e(417).then(S.bind(S,3417)).then(r=>r.UsersModule),canActivate:[wo,Uu]},{path:"manage/roles",component:WS,loadChildren:()=>S.e(111).then(S.bind(S,6111)).then(r=>r.RolesPageModule),canActivate:[wo,Uu]},{path:"landing",component:Cl,loadChildren:()=>S.e(325).then(S.bind(S,7325)).then(r=>r.LandingPageModule),canActivate:[gt]},{path:"register",component:mu,loadChildren:()=>S.e(166).then(S.bind(S,166)).then(r=>r.RegisterAcccountPageModule),canActivate:[gt]},{path:"login",component:fu,loadChildren:()=>S.e(660).then(S.bind(S,7660)).then(r=>r.LoginPageModule),canActivate:[gt]},{path:"recover",component:jr,loadChildren:()=>S.e(264).then(S.bind(S,6264)).then(r=>r.RecoverPasswordPageModule),canActivate:[gt]},{path:"reset/:base64Data",component:gr,loadChildren:()=>S.e(334).then(S.bind(S,9334)).then(r=>r.ResetPasswordPageModule),canActivate:[gt]},{path:"confirm/:base64Data",component:yt,loadChildren:()=>S.e(271).then(S.bind(S,4271)).then(r=>r.ConfirmEmailPageModule),canActivate:[gt]},{path:"404",component:rn,loadChildren:()=>S.e(170).then(S.bind(S,7170)).then(r=>r.NotFoundPageModule)},{path:"",pathMatch:"full",redirectTo:"home"},{path:"**",redirectTo:"/404"}];let CR=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[Gn.Bz.forRoot(SR,{onSameUrlNavigation:"reload"}),Gn.Bz]})}return r})();var _o=S(6825);function mI(r){return new t.vHH(3e3,!1)}function tf(r){switch(r.length){case 0:return new _o.ZN;case 1:return r[0];default:return new _o.ZE(r)}}function pI(r,n,e=new Map,i=new Map){const o=[],d=[];let m=-1,v=null;if(n.forEach(I=>{const j=I.get("offset"),te=j==m,me=te&&v||new Map;I.forEach((We,et)=>{let pt=et,Ct=We;if("offset"!==et)switch(pt=r.normalizePropertyName(pt,o),Ct){case _o.k1:Ct=e.get(et);break;case _o.l3:Ct=i.get(et);break;default:Ct=r.normalizeStyleValue(et,pt,Ct,o)}me.set(pt,Ct)}),te||d.push(me),v=me,m=j}),o.length)throw function zR(r){return new t.vHH(3502,!1)}();return d}function ux(r,n,e,i){switch(n){case"start":r.onStart(()=>i(e&&fx(e,"start",r)));break;case"done":r.onDone(()=>i(e&&fx(e,"done",r)));break;case"destroy":r.onDestroy(()=>i(e&&fx(e,"destroy",r)))}}function fx(r,n,e){const d=hx(r.element,r.triggerName,r.fromState,r.toState,n||r.phaseName,e.totalTime??r.totalTime,!!e.disabled),m=r._data;return null!=m&&(d._data=m),d}function hx(r,n,e,i,o="",d=0,m){return{element:r,triggerName:n,fromState:e,toState:i,phaseName:o,totalTime:d,disabled:!!m}}function Nl(r,n,e){let i=r.get(n);return i||r.set(n,i=e),i}function gI(r){const n=r.indexOf(":");return[r.substring(1,n),r.slice(n+1)]}const oN=(()=>typeof document>"u"?null:document.documentElement)();function mx(r){const n=r.parentNode||r.host||null;return n===oN?null:n}let Qf=null,_I=!1;function vI(r,n){for(;n;){if(n===r)return!0;n=mx(n)}return!1}function yI(r,n,e){if(e)return Array.from(r.querySelectorAll(n));const i=r.querySelector(n);return i?[i]:[]}let bI=(()=>{class r{validateStyleProperty(e){return function aN(r){Qf||(Qf=function lN(){return typeof document<"u"?document.body:null}()||{},_I=!!Qf.style&&"WebkitAppearance"in Qf.style);let n=!0;return Qf.style&&!function sN(r){return"ebkit"==r.substring(1,6)}(r)&&(n=r in Qf.style,!n&&_I&&(n="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Qf.style)),n}(e)}matchesElement(e,i){return!1}containsElement(e,i){return vI(e,i)}getParentElement(e){return mx(e)}query(e,i,o){return yI(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,d,m,v=[],I){return new _o.ZN(o,d)}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})(),px=(()=>{class r{static#e=this.NOOP=new bI}return r})();const cN=1e3,gx="ng-enter",SE="ng-leave",CE="ng-trigger",DE=".ng-trigger",TI="ng-animating",_x=".ng-animating";function ru(r){if("number"==typeof r)return r;const n=r.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:vx(parseFloat(n[1]),n[2])}function vx(r,n){return"s"===n?r*cN:r}function xE(r,n,e){return r.hasOwnProperty("duration")?r:function uN(r,n,e){let o,d=0,m="";if("string"==typeof r){const v=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===v)return n.push(mI()),{duration:0,delay:0,easing:""};o=vx(parseFloat(v[1]),v[2]);const I=v[3];null!=I&&(d=vx(parseFloat(I),v[4]));const j=v[5];j&&(m=j)}else o=r;if(!e){let v=!1,I=n.length;o<0&&(n.push(function DR(){return new t.vHH(3100,!1)}()),v=!0),d<0&&(n.push(function xR(){return new t.vHH(3101,!1)}()),v=!0),v&&n.splice(I,0,mI())}return{duration:o,delay:d,easing:m}}(r,n,e)}function L_(r,n={}){return Object.keys(r).forEach(e=>{n[e]=r[e]}),n}function SI(r){const n=new Map;return Object.keys(r).forEach(e=>{n.set(e,r[e])}),n}function nf(r,n=new Map,e){if(e)for(let[i,o]of e)n.set(i,o);for(let[i,o]of r)n.set(i,o);return n}function ad(r,n,e){n.forEach((i,o)=>{const d=bx(o);e&&!e.has(o)&&e.set(o,r.style[d]),r.style[d]=i})}function Xf(r,n){n.forEach((e,i)=>{const o=bx(i);r.style[o]=""})}function k_(r){return Array.isArray(r)?1==r.length?r[0]:(0,_o.vP)(r):r}const yx=new RegExp("{{\\s*(.+?)\\s*}}","g");function DI(r){let n=[];if("string"==typeof r){let e;for(;e=yx.exec(r);)n.push(e[1]);yx.lastIndex=0}return n}function F_(r,n,e){const i=r.toString(),o=i.replace(yx,(d,m)=>{let v=n[m];return null==v&&(e.push(function AR(r){return new t.vHH(3003,!1)}()),v=""),v.toString()});return o==i?r:o}function ME(r){const n=[];let e=r.next();for(;!e.done;)n.push(e.value),e=r.next();return n}const mN=/-+([a-z0-9])/g;function bx(r){return r.replace(mN,(...n)=>n[1].toUpperCase())}function Ll(r,n,e){switch(n.type){case 7:return r.visitTrigger(n,e);case 0:return r.visitState(n,e);case 1:return r.visitTransition(n,e);case 2:return r.visitSequence(n,e);case 3:return r.visitGroup(n,e);case 4:return r.visitAnimate(n,e);case 5:return r.visitKeyframes(n,e);case 6:return r.visitStyle(n,e);case 8:return r.visitReference(n,e);case 9:return r.visitAnimateChild(n,e);case 10:return r.visitAnimateRef(n,e);case 11:return r.visitQuery(n,e);case 12:return r.visitStagger(n,e);default:throw function IR(r){return new t.vHH(3004,!1)}()}}function xI(r,n){return window.getComputedStyle(r)[n]}const AE="*";function _N(r,n){const e=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(i=>function vN(r,n,e){if(":"==r[0]){const I=function yN(r,n){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(function HR(r){return new t.vHH(3016,!1)}()),"* => *"}}(r,e);if("function"==typeof I)return void n.push(I);r=I}const i=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function GR(r){return new t.vHH(3015,!1)}()),n;const o=i[1],d=i[2],m=i[3];n.push(MI(o,m));"<"==d[0]&&!(o==AE&&m==AE)&&n.push(MI(m,o))}(i,e,n)):e.push(r),e}const IE=new Set(["true","1"]),wE=new Set(["false","0"]);function MI(r,n){const e=IE.has(r)||wE.has(r),i=IE.has(n)||wE.has(n);return(o,d)=>{let m=r==AE||r==o,v=n==AE||n==d;return!m&&e&&"boolean"==typeof o&&(m=o?IE.has(r):wE.has(r)),!v&&i&&"boolean"==typeof d&&(v=d?IE.has(n):wE.has(n)),m&&v}}const bN=new RegExp("s*:selfs*,?","g");function Ex(r,n,e,i){return new EN(r).build(n,e,i)}class EN{constructor(n){this._driver=n}build(n,e,i){const o=new CN(e);return this._resetContextStyleTimingState(o),Ll(this,k_(n),o)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,o=e.depCount=0;const d=[],m=[];return"@"==n.name.charAt(0)&&e.errors.push(function PR(){return new t.vHH(3006,!1)}()),n.definitions.forEach(v=>{if(this._resetContextStyleTimingState(e),0==v.type){const I=v,j=I.name;j.toString().split(/\s*,\s*/).forEach(te=>{I.name=te,d.push(this.visitState(I,e))}),I.name=j}else if(1==v.type){const I=this.visitTransition(v,e);i+=I.queryCount,o+=I.depCount,m.push(I)}else e.errors.push(function OR(){return new t.vHH(3007,!1)}())}),{type:7,name:n.name,states:d,transitions:m,queryCount:i,depCount:o,options:null}}visitState(n,e){const i=this.visitStyle(n.styles,e),o=n.options&&n.options.params||null;if(i.containsDynamicStyles){const d=new Set,m=o||{};i.styles.forEach(v=>{v instanceof Map&&v.forEach(I=>{DI(I).forEach(j=>{m.hasOwnProperty(j)||d.add(j)})})}),d.size&&(ME(d.values()),e.errors.push(function RR(r,n){return new t.vHH(3008,!1)}()))}return{type:0,name:n.name,style:i,options:o?{params:o}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const i=Ll(this,k_(n.animation),e);return{type:1,matchers:_N(n.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:eh(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(i=>Ll(this,i,e)),options:eh(n.options)}}visitGroup(n,e){const i=e.currentTime;let o=0;const d=n.steps.map(m=>{e.currentTime=i;const v=Ll(this,m,e);return o=Math.max(o,e.currentTime),v});return e.currentTime=o,{type:3,steps:d,options:eh(n.options)}}visitAnimate(n,e){const i=function xN(r,n){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return Tx(xE(r,n).duration,0,"");const e=r;if(e.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=Tx(0,0,"");return d.dynamic=!0,d.strValue=e,d}const o=xE(e,n);return Tx(o.duration,o.delay,o.easing)}(n.timings,e.errors);e.currentAnimateTimings=i;let o,d=n.styles?n.styles:(0,_o.oB)({});if(5==d.type)o=this.visitKeyframes(d,e);else{let m=n.styles,v=!1;if(!m){v=!0;const j={};i.easing&&(j.easing=i.easing),m=(0,_o.oB)(j)}e.currentTime+=i.duration+i.delay;const I=this.visitStyle(m,e);I.isEmptyStep=v,o=I}return e.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(n,e){const i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){const i=[],o=Array.isArray(n.styles)?n.styles:[n.styles];for(let v of o)"string"==typeof v?v===_o.l3?i.push(v):e.errors.push(new t.vHH(3002,!1)):i.push(SI(v));let d=!1,m=null;return i.forEach(v=>{if(v instanceof Map&&(v.has("easing")&&(m=v.get("easing"),v.delete("easing")),!d))for(let I of v.values())if(I.toString().indexOf("{{")>=0){d=!0;break}}),{type:6,styles:i,easing:m,offset:n.offset,containsDynamicStyles:d,options:null}}_validateStyleAst(n,e){const i=e.currentAnimateTimings;let o=e.currentTime,d=e.currentTime;i&&d>0&&(d-=i.duration+i.delay),n.styles.forEach(m=>{"string"!=typeof m&&m.forEach((v,I)=>{const j=e.collectedStyles.get(e.currentQuerySelector),te=j.get(I);let me=!0;te&&(d!=o&&d>=te.startTime&&o<=te.endTime&&(e.errors.push(function LR(r,n,e,i,o){return new t.vHH(3010,!1)}()),me=!1),d=te.startTime),me&&j.set(I,{startTime:d,endTime:o}),e.options&&function hN(r,n,e){const i=n.params||{},o=DI(r);o.length&&o.forEach(d=>{i.hasOwnProperty(d)||e.push(function MR(r){return new t.vHH(3001,!1)}())})}(v,e.options,e.errors)})})}visitKeyframes(n,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function kR(){return new t.vHH(3011,!1)}()),i;let d=0;const m=[];let v=!1,I=!1,j=0;const te=n.steps.map(Zt=>{const dn=this._makeStyleAst(Zt,e);let sn=null!=dn.offset?dn.offset:function DN(r){if("string"==typeof r)return null;let n=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const e=r;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(dn.styles),yn=0;return null!=sn&&(d++,yn=dn.offset=sn),I=I||yn<0||yn>1,v=v||yn<j,j=yn,m.push(yn),dn});I&&e.errors.push(function FR(){return new t.vHH(3012,!1)}()),v&&e.errors.push(function BR(){return new t.vHH(3200,!1)}());const me=n.steps.length;let We=0;d>0&&d<me?e.errors.push(function UR(){return new t.vHH(3202,!1)}()):0==d&&(We=1/(me-1));const et=me-1,pt=e.currentTime,Ct=e.currentAnimateTimings,Ot=Ct.duration;return te.forEach((Zt,dn)=>{const sn=We>0?dn==et?1:We*dn:m[dn],yn=sn*Ot;e.currentTime=pt+Ct.delay+yn,Ct.duration=yn,this._validateStyleAst(Zt,e),Zt.offset=sn,i.styles.push(Zt)}),i}visitReference(n,e){return{type:8,animation:Ll(this,k_(n.animation),e),options:eh(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:eh(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:eh(n.options)}}visitQuery(n,e){const i=e.currentQuerySelector,o=n.options||{};e.queryCount++,e.currentQuery=n;const[d,m]=function TN(r){const n=!!r.split(/\s*,\s*/).find(e=>":self"==e);return n&&(r=r.replace(bN,"")),r=r.replace(/@\*/g,DE).replace(/@\w+/g,e=>DE+"-"+e.slice(1)).replace(/:animating/g,_x),[r,n]}(n.selector);e.currentQuerySelector=i.length?i+" "+d:d,Nl(e.collectedStyles,e.currentQuerySelector,new Map);const v=Ll(this,k_(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:d,limit:o.limit||0,optional:!!o.optional,includeSelf:m,animation:v,originalSelector:n.selector,options:eh(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function jR(){return new t.vHH(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:xE(n.timings,e.errors,!0);return{type:12,animation:Ll(this,k_(n.animation),e),timings:i,options:null}}}class CN{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function eh(r){return r?(r=L_(r)).params&&(r.params=function SN(r){return r?L_(r):null}(r.params)):r={},r}function Tx(r,n,e){return{duration:r,delay:n,easing:e}}function Sx(r,n,e,i,o,d,m=null,v=!1){return{type:1,element:r,keyframes:n,preStyleProps:e,postStyleProps:i,duration:o,delay:d,totalTime:o+d,easing:m,subTimeline:v}}class PE{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const IN=new RegExp(":enter","g"),PN=new RegExp(":leave","g");function Cx(r,n,e,i,o,d=new Map,m=new Map,v,I,j=[]){return(new ON).buildKeyframes(r,n,e,i,o,d,m,v,I,j)}class ON{buildKeyframes(n,e,i,o,d,m,v,I,j,te=[]){j=j||new PE;const me=new Dx(n,e,j,o,d,te,[]);me.options=I;const We=I.delay?ru(I.delay):0;me.currentTimeline.delayNextStep(We),me.currentTimeline.setStyles([m],null,me.errors,I),Ll(this,i,me);const et=me.timelines.filter(pt=>pt.containsAnimation());if(et.length&&v.size){let pt;for(let Ct=et.length-1;Ct>=0;Ct--){const Ot=et[Ct];if(Ot.element===e){pt=Ot;break}}pt&&!pt.allowOnlyTimelineStyles()&&pt.setStyles([v],null,me.errors,I)}return et.length?et.map(pt=>pt.buildKeyframes()):[Sx(e,[],[],[],0,We,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const i=e.subInstructions.get(e.element);if(i){const o=e.createSubContext(n.options),d=e.currentTimeline.currentTime,m=this._visitSubInstructions(i,o,o.options);d!=m&&e.transformIntoNewTimeline(m)}e.previousNode=n}visitAnimateRef(n,e){const i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(const o of n){const d=o?.delay;if(d){const m="number"==typeof d?d:ru(F_(d,o?.params??{},e.errors));i.delayNextStep(m)}}}_visitSubInstructions(n,e,i){let d=e.currentTimeline.currentTime;const m=null!=i.duration?ru(i.duration):null,v=null!=i.delay?ru(i.delay):null;return 0!==m&&n.forEach(I=>{const j=e.appendInstructionToTimeline(I,m,v);d=Math.max(d,j.duration+j.delay)}),d}visitReference(n,e){e.updateOptions(n.options,!0),Ll(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const i=e.subContextCount;let o=e;const d=n.options;if(d&&(d.params||d.delay)&&(o=e.createSubContext(d),o.transformIntoNewTimeline(),null!=d.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=OE);const m=ru(d.delay);o.delayNextStep(m)}n.steps.length&&(n.steps.forEach(m=>Ll(this,m,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const i=[];let o=e.currentTimeline.currentTime;const d=n.options&&n.options.delay?ru(n.options.delay):0;n.steps.forEach(m=>{const v=e.createSubContext(n.options);d&&v.delayNextStep(d),Ll(this,m,v),o=Math.max(o,v.currentTimeline.currentTime),i.push(v.currentTimeline)}),i.forEach(m=>e.currentTimeline.mergeTimelineCollectedStyles(m)),e.transformIntoNewTimeline(o),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const i=n.strValue;return xE(e.params?F_(i,e.params,e.errors):i,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const i=e.currentAnimateTimings=this._visitTiming(n.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());const d=n.style;5==d.type?this.visitKeyframes(d,e):(e.incrementTime(i.duration),this.visitStyle(d,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();const d=o&&o.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(d):i.setStyles(n.styles,d,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const i=e.currentAnimateTimings,o=e.currentTimeline.duration,d=i.duration,v=e.createSubContext().currentTimeline;v.easing=i.easing,n.styles.forEach(I=>{v.forwardTime((I.offset||0)*d),v.setStyles(I.styles,I.easing,e.errors,e.options),v.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(v),e.transformIntoNewTimeline(o+d),e.previousNode=n}visitQuery(n,e){const i=e.currentTimeline.currentTime,o=n.options||{},d=o.delay?ru(o.delay):0;d&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=OE);let m=i;const v=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=v.length;let I=null;v.forEach((j,te)=>{e.currentQueryIndex=te;const me=e.createSubContext(n.options,j);d&&me.delayNextStep(d),j===e.element&&(I=me.currentTimeline),Ll(this,n.animation,me),me.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,me.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(m),I&&(e.currentTimeline.mergeTimelineCollectedStyles(I),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const i=e.parentContext,o=e.currentTimeline,d=n.timings,m=Math.abs(d.duration),v=m*(e.currentQueryTotal-1);let I=m*e.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":I=v-I;break;case"full":I=i.currentStaggerTime}const te=e.currentTimeline;I&&te.delayNextStep(I);const me=te.currentTime;Ll(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=o.currentTime-me+(o.startTime-i.currentTimeline.startTime)}}const OE={};class Dx{constructor(n,e,i,o,d,m,v,I){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=d,this.errors=m,this.timelines=v,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=OE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=I||new RE(this._driver,e,0),v.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const i=n;let o=this.options;null!=i.duration&&(o.duration=ru(i.duration)),null!=i.delay&&(o.delay=ru(i.delay));const d=i.params;if(d){let m=o.params;m||(m=this.options.params={}),Object.keys(d).forEach(v=>{(!e||!m.hasOwnProperty(v))&&(m[v]=F_(d[v],m,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const i=n.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return n}createSubContext(n=null,e,i){const o=e||this.element,d=new Dx(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(n),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(n){return this.previousNode=OE,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){const o={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},d=new RN(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,o,n.stretchStartingKeyframe);return this.timelines.push(d),o}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,o,d,m){let v=[];if(o&&v.push(this.element),n.length>0){n=(n=n.replace(IN,"."+this._enterClassName)).replace(PN,"."+this._leaveClassName);let j=this._driver.query(this.element,n,1!=i);0!==i&&(j=i<0?j.slice(j.length+i,j.length):j.slice(0,i)),v.push(...j)}return!d&&0==v.length&&m.push(function VR(r){return new t.vHH(3014,!1)}()),v}}class RE{constructor(n,e,i,o){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new RE(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||_o.l3),this._currentKeyframe.set(e,_o.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,o){e&&this._previousKeyframe.set("easing",e);const d=o&&o.params||{},m=function NN(r,n){const e=new Map;let i;return r.forEach(o=>{if("*"===o){i=i||n.keys();for(let d of i)e.set(d,_o.l3)}else nf(o,e)}),e}(n,this._globalTimelineStyles);for(let[v,I]of m){const j=F_(I,d,i);this._pendingStyles.set(v,j),this._localTimelineStyles.has(v)||this._backFill.set(v,this._globalTimelineStyles.get(v)??_o.l3),this._updateStyle(v,j)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{const o=this._styleSummary.get(i);(!o||e.time>o.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((v,I)=>{const j=nf(v,new Map,this._backFill);j.forEach((te,me)=>{te===_o.k1?n.add(me):te===_o.l3&&e.add(me)}),i||j.set("offset",I/this.duration),o.push(j)});const d=n.size?ME(n.values()):[],m=e.size?ME(e.values()):[];if(i){const v=o[0],I=new Map(v);v.set("offset",0),I.set("offset",1),o=[v,I]}return Sx(this.element,o,d,m,this.duration,this.startTime,this.easing,!1)}}class RN extends RE{constructor(n,e,i,o,d,m,v=!1){super(n,e,m.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=d,this._stretchStartingKeyframe=v,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const d=[],m=i+e,v=e/m,I=nf(n[0]);I.set("offset",0),d.push(I);const j=nf(n[0]);j.set("offset",wI(v)),d.push(j);const te=n.length-1;for(let me=1;me<=te;me++){let We=nf(n[me]);const et=We.get("offset");We.set("offset",wI((e+et*i)/m)),d.push(We)}i=m,e=0,o="",n=d}return Sx(this.element,n,this.preStyleProps,this.postStyleProps,i,e,o,!0)}}function wI(r,n=3){const e=Math.pow(10,n-1);return Math.round(r*e)/e}class xx{}const LN=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class kN extends xx{normalizePropertyName(n,e){return bx(n)}normalizeStyleValue(n,e,i,o){let d="";const m=i.toString().trim();if(LN.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)d="px";else{const v=i.match(/^[+-]?[\d\.]+([a-z]*)$/);v&&0==v[1].length&&o.push(function wR(r,n){return new t.vHH(3005,!1)}())}return m+d}}function PI(r,n,e,i,o,d,m,v,I,j,te,me,We){return{type:0,element:r,triggerName:n,isRemovalTransition:o,fromState:e,fromStyles:d,toState:i,toStyles:m,timelines:v,queriedElements:I,preStyleProps:j,postStyleProps:te,totalTime:me,errors:We}}const Mx={};class OI{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,o){return function FN(r,n,e,i,o){return r.some(d=>d(n,e,i,o))}(this.ast.matchers,n,e,i,o)}buildStyles(n,e,i){let o=this._stateStyles.get("*");return void 0!==n&&(o=this._stateStyles.get(n?.toString())||o),o?o.buildStyles(e,i):new Map}build(n,e,i,o,d,m,v,I,j,te){const me=[],We=this.ast.options&&this.ast.options.params||Mx,pt=this.buildStyles(i,v&&v.params||Mx,me),Ct=I&&I.params||Mx,Ot=this.buildStyles(o,Ct,me),Zt=new Set,dn=new Map,sn=new Map,yn="void"===o,Cn={params:BN(Ct,We),delay:this.ast.options?.delay},Un=te?[]:Cx(n,e,this.ast.animation,d,m,pt,Ot,Cn,j,me);let On=0;if(Un.forEach(ni=>{On=Math.max(ni.duration+ni.delay,On)}),me.length)return PI(e,this._triggerName,i,o,yn,pt,Ot,[],[],dn,sn,On,me);Un.forEach(ni=>{const kn=ni.element,Ei=Nl(dn,kn,new Set);ni.preStyleProps.forEach(ji=>Ei.add(ji));const pi=Nl(sn,kn,new Set);ni.postStyleProps.forEach(ji=>pi.add(ji)),kn!==e&&Zt.add(kn)});const Zn=ME(Zt.values());return PI(e,this._triggerName,i,o,yn,pt,Ot,Un,Zn,dn,sn,On)}}function BN(r,n){const e=L_(n);for(const i in r)r.hasOwnProperty(i)&&null!=r[i]&&(e[i]=r[i]);return e}class UN{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){const i=new Map,o=L_(this.defaultParams);return Object.keys(n).forEach(d=>{const m=n[d];null!==m&&(o[d]=m)}),this.styles.styles.forEach(d=>{"string"!=typeof d&&d.forEach((m,v)=>{m&&(m=F_(m,o,e));const I=this.normalizer.normalizePropertyName(v,e);m=this.normalizer.normalizeStyleValue(v,I,m,e),i.set(v,m)})}),i}}class VN{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new UN(o.style,o.options&&o.options.params||{},i))}),RI(this.states,"true","1"),RI(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new OI(n,o,this.states))}),this.fallbackTransition=function GN(r,n,e){return new OI(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,v)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,o){return this.transitionFactories.find(m=>m.match(n,e,i,o))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}}function RI(r,n,e){r.has(n)?r.has(e)||r.set(e,r.get(n)):r.has(e)&&r.set(n,r.get(e))}const HN=new PE;class KN{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const i=[],d=Ex(this._driver,e,i,[]);if(i.length)throw function ZR(r){return new t.vHH(3503,!1)}();this._animations.set(n,d)}_buildPlayer(n,e,i){const o=n.element,d=pI(this._normalizer,n.keyframes,e,i);return this._driver.animate(o,d,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){const o=[],d=this._animations.get(n);let m;const v=new Map;if(d?(m=Cx(this._driver,e,d,gx,SE,new Map,new Map,i,HN,o),m.forEach(te=>{const me=Nl(v,te.element,new Map);te.postStyleProps.forEach(We=>me.set(We,null))})):(o.push(function $R(){return new t.vHH(3300,!1)}()),m=[]),o.length)throw function qR(r){return new t.vHH(3504,!1)}();v.forEach((te,me)=>{te.forEach((We,et)=>{te.set(et,this._driver.computeStyle(me,et,_o.l3))})});const j=tf(m.map(te=>{const me=v.get(te.element);return this._buildPlayer(te,new Map,me)}));return this._playersById.set(n,j),j.onDestroy(()=>this.destroy(n)),this.players.push(j),j}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function JR(r){return new t.vHH(3301,!1)}();return e}listen(n,e,i,o){const d=hx(e,"","","");return ux(this._getPlayer(n),i,d,o),()=>{}}command(n,e,i,o){if("register"==i)return void this.register(n,o[0]);if("create"==i)return void this.create(n,e,o[0]||{});const d=this._getPlayer(n);switch(i){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(n)}}}const NI="ng-animate-queued",Ax="ng-animate-disabled",$N=[],LI={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qN={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vc="__ng_removed";class Ix{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const i=n&&n.hasOwnProperty("value");if(this.value=function eL(r){return r??null}(i?n.value:n),i){const d=L_(n);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const i=this.options.params;Object.keys(e).forEach(o=>{null==i[o]&&(i[o]=e[o])})}}}const B_="void",wx=new Ix(B_);class JN{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,sc(e,this._hostClassName)}listen(n,e,i,o){if(!this._triggers.has(e))throw function QR(r,n){return new t.vHH(3302,!1)}();if(null==i||0==i.length)throw function XR(r){return new t.vHH(3303,!1)}();if(!function tL(r){return"start"==r||"done"==r}(i))throw function eN(r,n){return new t.vHH(3400,!1)}();const d=Nl(this._elementListeners,n,[]),m={name:e,phase:i,callback:o};d.push(m);const v=Nl(this._engine.statesByElement,n,new Map);return v.has(e)||(sc(n,CE),sc(n,CE+"-"+e),v.set(e,wx)),()=>{this._engine.afterFlush(()=>{const I=d.indexOf(m);I>=0&&d.splice(I,1),this._triggers.has(e)||v.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function tN(r){return new t.vHH(3401,!1)}();return e}trigger(n,e,i,o=!0){const d=this._getTrigger(e),m=new Px(this.id,e,n);let v=this._engine.statesByElement.get(n);v||(sc(n,CE),sc(n,CE+"-"+e),this._engine.statesByElement.set(n,v=new Map));let I=v.get(e);const j=new Ix(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&I&&j.absorbOptions(I.options),v.set(e,j),I||(I=wx),j.value!==B_&&I.value===j.value){if(!function rL(r,n){const e=Object.keys(r),i=Object.keys(n);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){const d=e[o];if(!n.hasOwnProperty(d)||r[d]!==n[d])return!1}return!0}(I.params,j.params)){const Ct=[],Ot=d.matchStyles(I.value,I.params,Ct),Zt=d.matchStyles(j.value,j.params,Ct);Ct.length?this._engine.reportError(Ct):this._engine.afterFlush(()=>{Xf(n,Ot),ad(n,Zt)})}return}const We=Nl(this._engine.playersByElement,n,[]);We.forEach(Ct=>{Ct.namespaceId==this.id&&Ct.triggerName==e&&Ct.queued&&Ct.destroy()});let et=d.matchTransition(I.value,j.value,n,j.params),pt=!1;if(!et){if(!o)return;et=d.fallbackTransition,pt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:et,fromState:I,toState:j,player:m,isFallbackTransition:pt}),pt||(sc(n,NI),m.onStart(()=>{Km(n,NI)})),m.onDone(()=>{let Ct=this.players.indexOf(m);Ct>=0&&this.players.splice(Ct,1);const Ot=this._engine.playersByElement.get(n);if(Ot){let Zt=Ot.indexOf(m);Zt>=0&&Ot.splice(Zt,1)}}),this.players.push(m),We.push(m),m}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const i=this._engine.driver.query(n,DE,!0);i.forEach(o=>{if(o[Vc])return;const d=this._engine.fetchNamespacesByElement(o);d.size?d.forEach(m=>m.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(n,e,i,o){const d=this._engine.statesByElement.get(n),m=new Map;if(d){const v=[];if(d.forEach((I,j)=>{if(m.set(j,I.value),this._triggers.has(j)){const te=this.trigger(n,j,B_,o);te&&v.push(te)}}),v.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,m),i&&tf(v).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){const o=new Set;e.forEach(d=>{const m=d.name;if(o.has(m))return;o.add(m);const I=this._triggers.get(m).fallbackTransition,j=i.get(m)||wx,te=new Ix(B_),me=new Px(this.id,m,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:m,transition:I,fromState:j,toState:te,player:me,isFallbackTransition:!0})})}}removeNode(n,e){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let o=!1;if(i.totalAnimations){const d=i.players.length?i.playersByQueriedElement.get(n):[];if(d&&d.length)o=!0;else{let m=n;for(;m=m.parentNode;)if(i.statesByElement.get(m)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(n),o)i.markElementAsRemoved(this.id,n,!1,e);else{const d=n[Vc];(!d||d===LI)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){sc(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const d=i.element,m=this._elementListeners.get(d);m&&m.forEach(v=>{if(v.name==i.triggerName){const I=hx(d,i.triggerName,i.fromState.value,i.toState.value);I._data=n,ux(i.player,v.phase,I,v.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{const d=i.transition.ast.depCount,m=o.transition.ast.depCount;return 0==d||0==m?d-m:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class QN{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,d)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){const i=new JN(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){const i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let m=!1,v=this.driver.getParentElement(e);for(;v;){const I=o.get(v);if(I){const j=i.indexOf(I);i.splice(j+1,0,n),m=!0;break}v=this.driver.getParentElement(v)}m||i.unshift(n)}else i.push(n);return o.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let o=this._namespaceLookup[n];o&&o.register(e,i)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1),i.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,i=this.statesByElement.get(n);if(i)for(let o of i.values())if(o.namespaceId){const d=this._fetchNamespace(o.namespaceId);d&&e.add(d)}return e}trigger(n,e,i,o){if(NE(e)){const d=this._fetchNamespace(n);if(d)return d.trigger(e,i,o),!0}return!1}insertNode(n,e,i,o){if(!NE(e))return;const d=e[Vc];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const m=this.collectedLeaveElements.indexOf(e);m>=0&&this.collectedLeaveElements.splice(m,1)}if(n){const m=this._fetchNamespace(n);m&&m.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),sc(n,Ax)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Km(n,Ax))}removeNode(n,e,i){if(NE(e)){const o=n?this._fetchNamespace(n):null;o?o.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i);const d=this.namespacesByHostElement.get(e);d&&d.id!==n&&d.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,i,o,d){this.collectedLeaveElements.push(e),e[Vc]={namespaceId:n,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:d}}listen(n,e,i,o,d){return NE(e)?this._fetchNamespace(n).listen(e,i,o,d):()=>{}}_buildInstruction(n,e,i,o,d){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,o,n.fromState.options,n.toState.options,e,d)}destroyInnerAnimations(n){let e=this.driver.query(n,DE,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,_x,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return tf(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[Vc];if(e&&e.setForRemoval){if(n[Vc]=LI,e.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(Ax)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)sc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,n)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?tf(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(n){throw function nN(r){return new t.vHH(3402,!1)}()}_flushAnimations(n,e){const i=new PE,o=[],d=new Map,m=[],v=new Map,I=new Map,j=new Map,te=new Set;this.disabledNodes.forEach(ri=>{te.add(ri);const di=this.driver.query(ri,".ng-animate-queued",!0);for(let Jn=0;Jn<di.length;Jn++)te.add(di[Jn])});const me=this.bodyNode,We=Array.from(this.statesByElement.keys()),et=BI(We,this.collectedEnterElements),pt=new Map;let Ct=0;et.forEach((ri,di)=>{const Jn=gx+Ct++;pt.set(di,Jn),ri.forEach(li=>sc(li,Jn))});const Ot=[],Zt=new Set,dn=new Set;for(let ri=0;ri<this.collectedLeaveElements.length;ri++){const di=this.collectedLeaveElements[ri],Jn=di[Vc];Jn&&Jn.setForRemoval&&(Ot.push(di),Zt.add(di),Jn.hasAnimation?this.driver.query(di,".ng-star-inserted",!0).forEach(li=>Zt.add(li)):dn.add(di))}const sn=new Map,yn=BI(We,Array.from(Zt));yn.forEach((ri,di)=>{const Jn=SE+Ct++;sn.set(di,Jn),ri.forEach(li=>sc(li,Jn))}),n.push(()=>{et.forEach((ri,di)=>{const Jn=pt.get(di);ri.forEach(li=>Km(li,Jn))}),yn.forEach((ri,di)=>{const Jn=sn.get(di);ri.forEach(li=>Km(li,Jn))}),Ot.forEach(ri=>{this.processLeaveNode(ri)})});const Cn=[],Un=[];for(let ri=this._namespaceList.length-1;ri>=0;ri--)this._namespaceList[ri].drainQueuedTransitions(e).forEach(Jn=>{const li=Jn.player,Vi=Jn.element;if(Cn.push(li),this.collectedEnterElements.length){const eo=Vi[Vc];if(eo&&eo.setForMove){if(eo.previousTriggersValues&&eo.previousTriggersValues.has(Jn.triggerName)){const Is=eo.previousTriggersValues.get(Jn.triggerName),xa=this.statesByElement.get(Jn.element);if(xa&&xa.has(Jn.triggerName)){const Ym=xa.get(Jn.triggerName);Ym.value=Is,xa.set(Jn.triggerName,Ym)}}return void li.destroy()}}const pr=!me||!this.driver.containsElement(me,Vi),Yi=sn.get(Vi),Ur=pt.get(Vi),sr=this._buildInstruction(Jn,i,Ur,Yi,pr);if(sr.errors&&sr.errors.length)return void Un.push(sr);if(pr)return li.onStart(()=>Xf(Vi,sr.fromStyles)),li.onDestroy(()=>ad(Vi,sr.toStyles)),void o.push(li);if(Jn.isFallbackTransition)return li.onStart(()=>Xf(Vi,sr.fromStyles)),li.onDestroy(()=>ad(Vi,sr.toStyles)),void o.push(li);const Bo=[];sr.timelines.forEach(eo=>{eo.stretchStartingKeyframe=!0,this.disabledNodes.has(eo.element)||Bo.push(eo)}),sr.timelines=Bo,i.append(Vi,sr.timelines),m.push({instruction:sr,player:li,element:Vi}),sr.queriedElements.forEach(eo=>Nl(v,eo,[]).push(li)),sr.preStyleProps.forEach((eo,Is)=>{if(eo.size){let xa=I.get(Is);xa||I.set(Is,xa=new Set),eo.forEach((Ym,th)=>xa.add(th))}}),sr.postStyleProps.forEach((eo,Is)=>{let xa=j.get(Is);xa||j.set(Is,xa=new Set),eo.forEach((Ym,th)=>xa.add(th))})});if(Un.length){const ri=[];Un.forEach(di=>{ri.push(function iN(r,n){return new t.vHH(3505,!1)}())}),Cn.forEach(di=>di.destroy()),this.reportError(ri)}const On=new Map,Zn=new Map;m.forEach(ri=>{const di=ri.element;i.has(di)&&(Zn.set(di,di),this._beforeAnimationBuild(ri.player.namespaceId,ri.instruction,On))}),o.forEach(ri=>{const di=ri.element;this._getPreviousPlayers(di,!1,ri.namespaceId,ri.triggerName,null).forEach(li=>{Nl(On,di,[]).push(li),li.destroy()})});const ni=Ot.filter(ri=>jI(ri,I,j)),kn=new Map;FI(kn,this.driver,dn,j,_o.l3).forEach(ri=>{jI(ri,I,j)&&ni.push(ri)});const pi=new Map;et.forEach((ri,di)=>{FI(pi,this.driver,new Set(ri),I,_o.k1)}),ni.forEach(ri=>{const di=kn.get(ri),Jn=pi.get(ri);kn.set(ri,new Map([...di?.entries()??[],...Jn?.entries()??[]]))});const ji=[],vo=[],Rr={};m.forEach(ri=>{const{element:di,player:Jn,instruction:li}=ri;if(i.has(di)){if(te.has(di))return Jn.onDestroy(()=>ad(di,li.toStyles)),Jn.disabled=!0,Jn.overrideTotalTime(li.totalTime),void o.push(Jn);let Vi=Rr;if(Zn.size>1){let Yi=di;const Ur=[];for(;Yi=Yi.parentNode;){const sr=Zn.get(Yi);if(sr){Vi=sr;break}Ur.push(Yi)}Ur.forEach(sr=>Zn.set(sr,Vi))}const pr=this._buildAnimation(Jn.namespaceId,li,On,d,pi,kn);if(Jn.setRealPlayer(pr),Vi===Rr)ji.push(Jn);else{const Yi=this.playersByElement.get(Vi);Yi&&Yi.length&&(Jn.parentPlayer=tf(Yi)),o.push(Jn)}}else Xf(di,li.fromStyles),Jn.onDestroy(()=>ad(di,li.toStyles)),vo.push(Jn),te.has(di)&&o.push(Jn)}),vo.forEach(ri=>{const di=d.get(ri.element);if(di&&di.length){const Jn=tf(di);ri.setRealPlayer(Jn)}}),o.forEach(ri=>{ri.parentPlayer?ri.syncPlayerEvents(ri.parentPlayer):ri.destroy()});for(let ri=0;ri<Ot.length;ri++){const di=Ot[ri],Jn=di[Vc];if(Km(di,SE),Jn&&Jn.hasAnimation)continue;let li=[];if(v.size){let pr=v.get(di);pr&&pr.length&&li.push(...pr);let Yi=this.driver.query(di,_x,!0);for(let Ur=0;Ur<Yi.length;Ur++){let sr=v.get(Yi[Ur]);sr&&sr.length&&li.push(...sr)}}const Vi=li.filter(pr=>!pr.destroyed);Vi.length?nL(this,di,Vi):this.processLeaveNode(di)}return Ot.length=0,ji.forEach(ri=>{this.players.push(ri),ri.onDone(()=>{ri.destroy();const di=this.players.indexOf(ri);this.players.splice(di,1)}),ri.play()}),ji}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,o,d){let m=[];if(e){const v=this.playersByQueriedElement.get(n);v&&(m=v)}else{const v=this.playersByElement.get(n);if(v){const I=!d||d==B_;v.forEach(j=>{j.queued||!I&&j.triggerName!=o||m.push(j)})}}return(i||o)&&(m=m.filter(v=>!(i&&i!=v.namespaceId||o&&o!=v.triggerName))),m}_beforeAnimationBuild(n,e,i){const d=e.element,m=e.isRemovalTransition?void 0:n,v=e.isRemovalTransition?void 0:e.triggerName;for(const I of e.timelines){const j=I.element,te=j!==d,me=Nl(i,j,[]);this._getPreviousPlayers(j,te,m,v,e.toState).forEach(et=>{const pt=et.getRealPlayer();pt.beforeDestroy&&pt.beforeDestroy(),et.destroy(),me.push(et)})}Xf(d,e.fromStyles)}_buildAnimation(n,e,i,o,d,m){const v=e.triggerName,I=e.element,j=[],te=new Set,me=new Set,We=e.timelines.map(pt=>{const Ct=pt.element;te.add(Ct);const Ot=Ct[Vc];if(Ot&&Ot.removedBeforeQueried)return new _o.ZN(pt.duration,pt.delay);const Zt=Ct!==I,dn=function iL(r){const n=[];return UI(r,n),n}((i.get(Ct)||$N).map(On=>On.getRealPlayer())).filter(On=>!!On.element&&On.element===Ct),sn=d.get(Ct),yn=m.get(Ct),Cn=pI(this._normalizer,pt.keyframes,sn,yn),Un=this._buildPlayer(pt,Cn,dn);if(pt.subTimeline&&o&&me.add(Ct),Zt){const On=new Px(n,v,Ct);On.setRealPlayer(Un),j.push(On)}return Un});j.forEach(pt=>{Nl(this.playersByQueriedElement,pt.element,[]).push(pt),pt.onDone(()=>function XN(r,n,e){let i=r.get(n);if(i){if(i.length){const o=i.indexOf(e);i.splice(o,1)}0==i.length&&r.delete(n)}return i}(this.playersByQueriedElement,pt.element,pt))}),te.forEach(pt=>sc(pt,TI));const et=tf(We);return et.onDestroy(()=>{te.forEach(pt=>Km(pt,TI)),ad(I,e.toStyles)}),me.forEach(pt=>{Nl(o,pt,[]).push(et)}),et}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new _o.ZN(n.duration,n.delay)}}class Px{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new _o.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(o=>ux(n,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Nl(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function NE(r){return r&&1===r.nodeType}function kI(r,n){const e=r.style.display;return r.style.display=n??"none",e}function FI(r,n,e,i,o){const d=[];e.forEach(I=>d.push(kI(I)));const m=[];i.forEach((I,j)=>{const te=new Map;I.forEach(me=>{const We=n.computeStyle(j,me,o);te.set(me,We),(!We||0==We.length)&&(j[Vc]=qN,m.push(j))}),r.set(j,te)});let v=0;return e.forEach(I=>kI(I,d[v++])),m}function BI(r,n){const e=new Map;if(r.forEach(v=>e.set(v,[])),0==n.length)return e;const o=new Set(n),d=new Map;function m(v){if(!v)return 1;let I=d.get(v);if(I)return I;const j=v.parentNode;return I=e.has(j)?j:o.has(j)?1:m(j),d.set(v,I),I}return n.forEach(v=>{const I=m(v);1!==I&&e.get(I).push(v)}),e}function sc(r,n){r.classList?.add(n)}function Km(r,n){r.classList?.remove(n)}function nL(r,n,e){tf(e).onDone(()=>r.processLeaveNode(n))}function UI(r,n){for(let e=0;e<r.length;e++){const i=r[e];i instanceof _o.ZE?UI(i.players,n):n.push(i)}}function jI(r,n,e){const i=e.get(r);if(!i)return!1;let o=n.get(r);return o?i.forEach(d=>o.add(d)):n.set(r,i),e.delete(r),!0}class LE{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,d)=>{},this._transitionEngine=new QN(n,e,i),this._timelineEngine=new KN(n,e,i),this._transitionEngine.onRemovalComplete=(o,d)=>this.onRemovalComplete(o,d)}registerTrigger(n,e,i,o,d){const m=n+"-"+o;let v=this._triggerCache[m];if(!v){const I=[],te=Ex(this._driver,d,I,[]);if(I.length)throw function WR(r,n){return new t.vHH(3404,!1)}();v=function jN(r,n,e){return new VN(r,n,e)}(o,te,this._normalizer),this._triggerCache[m]=v}this._transitionEngine.registerTrigger(e,o,v)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,o){this._transitionEngine.insertNode(n,e,i,o)}onRemove(n,e,i){this._transitionEngine.removeNode(n,e,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,o){if("@"==i.charAt(0)){const[d,m]=gI(i);this._timelineEngine.command(d,e,m,o)}else this._transitionEngine.trigger(n,e,i,o)}listen(n,e,i,o,d){if("@"==i.charAt(0)){const[m,v]=gI(i);return this._timelineEngine.listen(m,e,v,d)}return this._transitionEngine.listen(n,e,i,o,d)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let sL=(()=>{class r{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,o){this._element=e,this._startStyles=i,this._endStyles=o,this._state=0;let d=r.initialStylesByElement.get(e);d||r.initialStylesByElement.set(e,d=new Map),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&ad(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ad(this._element,this._initialStyles),this._endStyles&&(ad(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Xf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xf(this._element,this._endStyles),this._endStyles=null),ad(this._element,this._initialStyles),this._state=3)}}return r})();function Ox(r){let n=null;return r.forEach((e,i)=>{(function aL(r){return"display"===r||"position"===r})(i)&&(n=n||new Map,n.set(i,e))}),n}class VI{constructor(n,e,i,o){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{"offset"!==o&&n.set(o,this._finished?i:xI(this.element,o))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class lL{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return vI(n,e)}getParentElement(n){return mx(n)}query(n,e,i){return yI(n,e,i)}computeStyle(n,e,i){return window.getComputedStyle(n)[e]}animate(n,e,i,o,d,m=[]){const I={duration:i,delay:o,fill:0==o?"both":"forwards"};d&&(I.easing=d);const j=new Map,te=m.filter(et=>et instanceof VI);(function pN(r,n){return 0===r||0===n})(i,o)&&te.forEach(et=>{et.currentSnapshot.forEach((pt,Ct)=>j.set(Ct,pt))});let me=function fN(r){return r.length?r[0]instanceof Map?r:r.map(n=>SI(n)):[]}(e).map(et=>nf(et));me=function gN(r,n,e){if(e.size&&n.length){let i=n[0],o=[];if(e.forEach((d,m)=>{i.has(m)||o.push(m),i.set(m,d)}),o.length)for(let d=1;d<n.length;d++){let m=n[d];o.forEach(v=>m.set(v,xI(r,v)))}}return n}(n,me,j);const We=function oL(r,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=Ox(n[0]),n.length>1&&(i=Ox(n[n.length-1]))):n instanceof Map&&(e=Ox(n)),e||i?new sL(r,e,i):null}(n,me);return new VI(n,me,I,We)}}let cL=(()=>{class r extends _o._j{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:t.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?(0,_o.vP)(e):e;return GI(this._renderer,null,i,"register",[o]),new dL(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.FYo),t.LFG(g.K0))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();class dL extends _o.LC{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new uL(this._id,n,e||{},this._renderer)}}class uL{constructor(n,e,i,o){this.id=n,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return GI(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function GI(r,n,e,i,o){return r.setProperty(n,`@@${e}:${i}`,o)}const HI="@.disabled";let fL=(()=>{class r{constructor(e,i,o){this.delegate=e,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(d,m)=>{const v=m?.parentNode(d);v&&m.removeChild(v,d)}}createRenderer(e,i){const d=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let te=this._rendererCache.get(d);return te||(te=new KI("",d,this.engine,()=>this._rendererCache.delete(d)),this._rendererCache.set(d,te)),te}const m=i.id,v=i.id+"-"+this._currentId;this._currentId++,this.engine.register(v,e);const I=te=>{Array.isArray(te)?te.forEach(I):this.engine.registerTrigger(m,v,e,te.name,te)};return i.data.animation.forEach(I),new hL(this,v,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,o){e>=0&&e<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[m,v]=d;m(v)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t.FYo),t.LFG(LE),t.LFG(t.R0b))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();class KI{constructor(n,e,i,o){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,o=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,o)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,o){this.delegate.setAttribute(n,e,i,o)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,o){this.delegate.setStyle(n,e,i,o)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){"@"==e.charAt(0)&&e==HI?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class hL extends KI{constructor(n,e,i,o,d){super(e,i,o,d),this.factory=n,this.namespaceId=e}setProperty(n,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==HI?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if("@"==e.charAt(0)){const o=function mL(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(n);let d=e.slice(1),m="";return"@"!=d.charAt(0)&&([d,m]=function pL(r){const n=r.indexOf(".");return[r.substring(0,n),r.slice(n+1)]}(d)),this.engine.listen(this.namespaceId,o,d,m,v=>{this.factory.scheduleListenerCallback(v._data||-1,i,v)})}return this.delegate.listen(n,e,i)}}let gL=(()=>{class r extends LE{constructor(e,i,o,d){super(e.body,i,o)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(g.K0),t.LFG(px),t.LFG(xx),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const YI=[{provide:_o._j,useClass:cL},{provide:xx,useFactory:function _L(){return new kN}},{provide:LE,useClass:gL},{provide:t.FYo,useFactory:function vL(r,n,e){return new fL(r,n,e)},deps:[c.se,LE,t.R0b]}],Rx=[{provide:px,useFactory:()=>new lL},{provide:t.QbO,useValue:"BrowserAnimations"},...YI],WI=[{provide:px,useClass:bI},{provide:t.QbO,useValue:"NoopAnimations"},...YI];let yL=(()=>{class r{static withConfig(e){return{ngModule:r,providers:e.disableAnimations?WI:Rx}}static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({providers:Rx,imports:[c.b2]})}return r})();var Nx=S(3452);const zI_firebase={apiKey:"AIzaSyCPw-M_b3TyI_lHHkg3lT8ZZ_Z8XRa6vLU",authDomain:"sinovadclient-119aa.firebaseapp.com",projectId:"sinovadclient-119aa",storageBucket:"sinovadclient-119aa.appspot.com",messagingSenderId:"734621308263",appId:"1:734621308263:web:93ab2203f67a179c5a4bc2",measurementId:"G-2HCXG6DS06"};let bL=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[rt.u5,rt.UX,Nx.m,Gn.Bz]})}return r})(),EL=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[rt.u5,rt.UX,Nx.m,Gn.Bz]})}return r})();function TL(r,n){if(1&r&&(t.TgZ(0,"div",1)(1,"div",2,3)(3,"div",4)(4,"div",5),t._UZ(5,"img",6),t.ALo(6,"async"),t.ALo(7,"formatDataPipe"),t.qZA()()()()),2&r){const e=t.MAs(2);t.xp6(5),t.Udp("width",e.offsetWidth/3+"px"),t.Q6J("src",t.lcZ(6,3,t.xi3(7,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH)}}let SL=(()=>{class r{constructor(e,i,o){this.restProvider=e,this.domSanitizer=i,this.sharedService=o}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(vt),t.Y36(c.H7),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-splash-screen"]],decls:1,vars:1,consts:[["class","splash-screen-container",4,"ngIf"],[1,"splash-screen-container"],[1,"sinovad-splash-screen-container"],["container",""],[2,"text-align","center"],["role","status",1,"spinner-grow"],[3,"src"]],template:function(i,o){1&i&&t.YNc(0,TL,8,8,"div",0),2&i&&t.Q6J("ngIf",o.sharedService.showSplashScreen)},dependencies:[g.O5,g.Ov,Kt],styles:[".splash-screen-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;position:absolute;z-index:99999;top:0;left:0}.sinovad-splash-screen-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.sinovad-splash-screen-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.spinner-grow[_ngcontent-%COMP%]{background:black;width:unset;height:unset}"]})}return r})();function CL(r,n){1&r&&t._UZ(0,"i",12)}const DL=function(r){return{selected:r}};function xL(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"a",3),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.onClickDropDownMenuOption(d))}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6),t._uU(4),t.qZA(),t.TgZ(5,"div",7),t._uU(6),t.qZA()(),t.TgZ(7,"div",8)(8,"div",9),t.YNc(9,CL,1,0,"i",10),t.qZA(),t.TgZ(10,"div",11),t._UZ(11,"i"),t.qZA()()()()}if(2&r){const e=n.$implicit;t.Q6J("ngClass",t.VKq(7,DL,e.isSelected)),t.xp6(4),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," "),t.xp6(3),t.Q6J("ngIf",e.isSelected),t.xp6(2),t.Tol(e.iconClass)}}function ML(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("clickOutside",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickOutside())}),t.YNc(1,xL,12,9,"ng-template",2),t.qZA()}if(2&r){const e=t.oxw();t.Udp("width",e.width+"px")("top",e.top+"px")("left",e.left+"px"),t.xp6(1),t.Q6J("ngForOf",e.dropDownMenuOptions.listItems)}}let AL=(()=>{class r{constructor(e,i,o){this.ref=e,this.sharedService=i,this.router=o,this.hide=new t.vpe,this.clickItem=new t.vpe,this.show=!1}ngAfterViewInit(){this.showContent()}showContent(){var e=this;return(0,Di.Z)(function*(){yield e.sharedService.delay(100),e.show=!0,e.ref.detectChanges()})()}onClickOutside(){this.hide.emit(!0)}onClickDropDownMenuOption(e){this.clickItem.emit(e),this.router.navigateByUrl(e.path)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(t.sBO),t.Y36(Gt),t.Y36(Gn.F0))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-drop-down-servers"]],inputs:{dropDownMenuOptions:"dropDownMenuOptions",top:"top",left:"left",width:"width"},outputs:{hide:"hide",clickItem:"clickItem"},decls:1,vars:1,consts:[["class","sinovad-drop-down-menu-item-list",3,"width","top","left","clickOutside",4,"ngIf"],[1,"sinovad-drop-down-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-drop-down-menu-item-container",3,"ngClass","click"],[1,"sinovad-drop-down-menu-item-content"],[1,"left"],[1,"title"],[1,"subtitle"],[1,"right"],[1,"selected-icon-container"],["class","fa-solid fa-check",4,"ngIf"],[1,"icon-container"],[1,"fa-solid","fa-check"]],template:function(i,o){1&i&&t.YNc(0,ML,2,7,"div",0),2&i&&t.Q6J("ngIf",o.show)},dependencies:[Gs,g.mk,g.sg,g.O5],styles:[".sinovad-drop-down-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:none;box-shadow:#00000080 0 0 18px;color:#fff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]{height:60px;padding:8px 10px 8px 25px;width:100%;word-wrap:break-word;display:block;font-size:13px;text-align:left;-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3}a.sinovad-drop-down-menu-item-container.selected[_ngcontent-%COMP%]{color:#007bff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important;font-size:13px}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffff4d;font-size:12px;max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-shrink:0}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .selected-icon-container[_ngcontent-%COMP%]{fill:currentcolor;display:inline-block;height:1em;line-height:1;position:relative;vertical-align:middle;width:1em;font-size:14px;margin-left:10px;top:0;color:#007bff;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-left:10px;margin-right:10px;color:#6b5}"]})}return r})(),IL=(()=>{class r{constructor(e,i,o){this.factoryResolver=e,this.injector=i,this.applicationRef=o,this.isShowing=!1}show(e){return new Promise((i,o)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const d=this.factoryResolver.resolveComponentFactory(AL);this.componentRef=d.create(this.injector),this.lastViewRef=this.componentRef.hostView,this.applicationRef.attachView(this.componentRef.hostView);let m=this;const v=e.target.getBoundingClientRect();this.componentRef.instance.dropDownMenuOptions=e,this.componentRef.instance.left=v.left,this.componentRef.instance.top=v.top+v.height,this.componentRef.instance.width=v.width,this.componentRef.instance.clickItem.subscribe(te=>{this.componentRef.destroy(),m.applicationRef.detachView(this.componentRef.hostView),m.isShowing=!1,i(te)}),this.componentRef.instance.hide.subscribe(te=>{this.componentRef.destroy(),m.applicationRef.detachView(this.componentRef.hostView),m.isShowing=!1,o(!0)}),this.isShowing=!0;const I=this.componentRef.hostView.rootNodes[0];document.getElementById("sinovadMainContainer").appendChild(I)})}closeDropDown(){this.componentRef.instance.hide.emit(!0)}static#e=this.\u0275fac=function(i){return new(i||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const wL=["mediaServerButton"],Lx=function(r){return{selected:r}},PL=function(){return["/settings/account"]};function OL(r,n){if(1&r&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._uU(3),t.qZA()(),t.TgZ(4,"div",9)(5,"a",10)(6,"div",11),t._UZ(7,"div",12),t.TgZ(8,"div",13),t._uU(9," Cuenta "),t.qZA()()()()()),2&r){const e=t.oxw();t.xp6(3),t.AsE(" ",e.sharedService.userData.FirstName," ",e.sharedService.userData.LastName," "),t.xp6(1),t.Q6J("ngClass",t.VKq(4,Lx,e.isSelectedAccountOption())),t.xp6(1),t.Q6J("routerLink",t.DdM(6,PL))}}function RL(r,n){1&r&&t._UZ(0,"i",23)}function NL(r,n){1&r&&t._UZ(0,"i",24)}function LL(r,n){1&r&&t._UZ(0,"i",28)}function kL(r,n){1&r&&t._UZ(0,"i",29)}const FL=function(r,n){return{"icon-secure":r,"icon-alert":n}};function BL(r,n){if(1&r&&(t.TgZ(0,"div",25),t.YNc(1,LL,1,0,"i",26),t.YNc(2,kL,1,0,"i",27),t.qZA()),2&r){const e=t.oxw(2);t.Q6J("ngClass",t.WLB(3,FL,e.selectedMediaServer.isSecureConnection,!e.selectedMediaServer.isSecureConnection)),t.xp6(1),t.Q6J("ngIf",e.selectedMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",!e.selectedMediaServer.isSecureConnection)}}function UL(r,n){1&r&&(t.TgZ(0,"div",30),t._UZ(1,"i",31),t.qZA())}function jL(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",14,15),t.NdJ("click",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.togleDropDownMediaServers(o))}),t.TgZ(2,"div",16)(3,"div",17)(4,"span",18),t._uU(5),t.qZA(),t.YNc(6,RL,1,0,"i",19),t.YNc(7,NL,1,0,"i",20),t.qZA(),t.YNc(8,BL,3,6,"div",21),t.YNc(9,UL,2,0,"div",22),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(6,Lx,e.isSelectedServerOption())),t.xp6(5),t.hij(" ",e.selectedMediaServer.FamilyName?e.selectedMediaServer.FamilyName:e.selectedMediaServer.DeviceName," "),t.xp6(1),t.Q6J("ngIf",e.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngIf",!e.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngIf",!e.loadingConnection),t.xp6(1),t.Q6J("ngIf",e.loadingConnection)}}const VL=function(r){return[r]};function GL(r,n){if(1&r&&(t.TgZ(0,"div",9)(1,"a",10)(2,"div",11),t._UZ(3,"div",12),t.TgZ(4,"div",13),t._uU(5),t.qZA()()()()),2&r){const e=n.$implicit,i=t.oxw(5);t.Q6J("ngClass",t.VKq(3,Lx,i.isSelectedSidebarOption(e))),t.xp6(1),t.Q6J("routerLink",t.VKq(5,VL,i.getOptionPath(e))),t.xp6(4),t.hij(" ",e.name," ")}}function HL(r,n){if(1&r&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._uU(3),t.qZA()(),t.YNc(4,GL,6,7,"ng-template",32),t.qZA()),2&r){const e=n.$implicit;t.xp6(3),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngForOf",e.listOptions)}}function KL(r,n){if(1&r&&t.YNc(0,HL,5,2,"ng-template",32),2&r){const e=t.oxw(3);t.Q6J("ngForOf",e.serverModules)}}function YL(r,n){if(1&r&&(t.TgZ(0,"div")(1,"p",33),t._uU(2),t.qZA()()),2&r){const e=t.oxw(3);t.xp6(2),t.hij('No se puede conectar a "',e.selectedMediaServer.FamilyName?e.selectedMediaServer.FamilyName:e.selectedMediaServer.DeviceName,'" desde este sitio')}}function WL(r,n){if(1&r&&(t.YNc(0,KL,1,1,"ng-template",5),t.YNc(1,YL,3,1,"ng-template",5)),2&r){const e=t.oxw(2);t.Q6J("ngIf",!e.sharedService.isHttpsSite()),t.xp6(1),t.Q6J("ngIf",e.sharedService.isHttpsSite())}}function zL(r,n){if(1&r&&(t.TgZ(0,"div")(1,"p",33),t._uU(2),t.qZA()()),2&r){const e=t.oxw(2);t.xp6(2),t.hij('No se puede conectar a "',e.selectedMediaServer.FamilyName?e.selectedMediaServer.FamilyName:e.selectedMediaServer.DeviceName,'" porque el servidor esta apagado')}}function ZL(r,n){if(1&r&&(t.YNc(0,WL,2,2,"ng-template",5),t.YNc(1,zL,3,1,"ng-template",5)),2&r){const e=t.oxw();t.Q6J("ngIf",e.selectedMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",!e.selectedMediaServer.isSecureConnection)}}function $L(r,n){1&r&&(t.TgZ(0,"div",34),t._UZ(1,"mat-spinner"),t.qZA())}let qL=(()=>{class r{constructor(e,i,o,d,m){this.signalIrService=e,this.dropDownServersService=i,this.activeRoute=o,this.ref=d,this.sharedService=m,this.mediaServers=[],this.collapseSidebar=new t.vpe,this.loadingConnection=!0,this.serverModules=[{index:1,order:1,name:"Estado",listOptions:[{index:2,name:"Alertas",path:"/settings/server/{serverGuid}/status/alerts"}]},{index:2,order:2,name:"Ajustes",listOptions:[{index:3,name:"General",path:"/settings/server/{serverGuid}/settings/general"},{index:4,name:"Transcodificador",path:"/settings/server/{serverGuid}/settings/transcoder"}]},{index:3,order:3,name:"Gestionar",listOptions:[{index:7,name:"Bibliotecas",path:"/settings/server/{serverGuid}/manage/libraries"}]}],this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(v=>{this.selectedMediaServer&&this.selectedMediaServer.Guid==v&&!this.selectedMediaServer.isSecureConnection&&(this.selectedMediaServer.isSecureConnection=!0,this.loadingConnection=!1,this.closeDropDown());var I=this.mediaServers.find(j=>j.Guid==v);I&&!I.isSecureConnection&&(I.isSecureConnection=!0)}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(v=>{this.selectedMediaServer&&this.selectedMediaServer.Guid==v&&this.selectedMediaServer.isSecureConnection&&(this.selectedMediaServer.isSecureConnection=!1,this.closeDropDown());var I=this.mediaServers.find(j=>j.Guid==v);I&&I.isSecureConnection&&(I.isSecureConnection=!1)})}ngOnInit(){if(this.mediaServers=JSON.parse(JSON.stringify(this.sharedService.mediaServers)),this.mediaServers&&this.mediaServers.length>0){if(this.activeRoute.firstChild&&this.activeRoute.firstChild.snapshot.params.serverGuid){var e=this.activeRoute.firstChild.snapshot.params.serverGuid,i=this.mediaServers.find(o=>o.Guid==e);i&&(this.selectedMediaServer=i)}else this.selectedMediaServer=this.mediaServers[0];this.selectedMediaServer.isSecureConnection?this.loadingConnection=!1:setTimeout(()=>{this.loadingConnection=!1},3e3)}}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe()}getOptionPath(e){return e.path.replace("{serverGuid}",this.selectedMediaServer.Guid)}onClickModule(e){e.isCollapsed=!e.isCollapsed}togleDropDownMediaServers(e){this.showMediaServerMenuOptions(e)}showMediaServerMenuOptions(e){this.dropDownServersService.isShowing||this.dropDownServersService.show(this.getDropDownMenuOptions()).then(i=>{this.selectedMediaServer=i.itemData},i=>{})}getDropDownMenuOptions(){var e=void 0;if(this.mediaServerButton){let i=[];this.mediaServers.forEach(d=>{i.push({title:d.FamilyName?d.FamilyName:d.DeviceName,subtitle:d.isSecureConnection?"Conexi\xf3n exitosa":"Sin conexi\xf3n",iconClass:d.isSecureConnection?"fa-solid fa-lock icon-secure":"fa-solid fa-triangle-exclamation icon-alert",path:"/settings/server/"+d.Guid+"/settings/general",isSelected:this.selectedMediaServer.Id==d.Id,itemData:d})}),e={containerId:"sinovadMainContainer",target:this.mediaServerButton.nativeElement,listItems:i}}return e}closeDropDown(){this.dropDownServersService.isShowing&&this.dropDownServersService.closeDropDown()}isSelectedSidebarOption(e){return-1!=this.getOptionPath(e).indexOf(window.location.pathname)}isSelectedAccountOption(){return-1!="/settings/account".indexOf(window.location.pathname)}isSelectedServerOption(){return!!window.location.pathname.startsWith("/settings/server")}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Io),t.Y36(IL),t.Y36(Gn.gz),t.Y36(t.sBO),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-account"]],viewQuery:function(i,o){if(1&i&&t.Gf(wL,5),2&i){let d;t.iGM(d=t.CRH())&&(o.mediaServerButton=d.first)}},outputs:{collapseSidebar:"collapseSidebar"},decls:7,vars:4,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sidebar-container"],[1,"sidebar-content"],["role","navigation",4,"ngIf"],["class","media-server-button",3,"ngClass","click",4,"ngIf"],[3,"ngIf"],["role","navigation"],[1,"sidebar-list-header-container"],[1,"sidebar-list-header-content"],[1,"sidebar-list-item-container",3,"ngClass"],[3,"routerLink"],[1,"sidebar-link-container"],[1,"sidebar-link-icon"],[1,"sidebar-link-title"],[1,"media-server-button",3,"ngClass","click"],["mediaServerButton",""],[1,"content"],[1,"left"],[1,"first"],["class","fa-solid fa-caret-up",4,"ngIf"],["class","fa-solid fa-caret-down",4,"ngIf"],["class","server-settings-menu-button-icon",3,"ngClass",4,"ngIf"],["class","server-settings-menu-button-icon",4,"ngIf"],[1,"fa-solid","fa-caret-up"],[1,"fa-solid","fa-caret-down"],[1,"server-settings-menu-button-icon",3,"ngClass"],["class","fa-solid fa-lock",4,"ngIf"],["class","fa-solid fa-triangle-exclamation",4,"ngIf"],[1,"fa-solid","fa-lock"],[1,"fa-solid","fa-triangle-exclamation"],[1,"server-settings-menu-button-icon"],[1,"fa-solid","fa-circle-notch","fa-spin",2,"color","white"],["ngFor","",3,"ngForOf"],[1,"sidebar-message"],[1,"spinner-centered-container"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(m){return o.onClickOutsideSidebar(m)}),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,OL,10,7,"div",3),t.YNc(4,jL,10,8,"button",4),t.YNc(5,ZL,2,2,"ng-template",5),t.YNc(6,$L,2,0,"ng-template",5),t.qZA()()()),2&i&&(t.xp6(3),t.Q6J("ngIf",o.sharedService.userData),t.xp6(1),t.Q6J("ngIf",o.selectedMediaServer),t.xp6(1),t.Q6J("ngIf",!o.loadingConnection&&o.selectedMediaServer&&o.serverModules&&o.serverModules.length>0),t.xp6(1),t.Q6J("ngIf",o.loadingConnection))},dependencies:[Gs,g.mk,g.sg,g.O5,Ms.Ou,Gn.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11}.sidebar-container[_ngcontent-%COMP%]{border-radius:4px;display:flex;flex:0 0 240px;flex-direction:column;height:calc(100% - 8px);margin:0;transform:translateZ(0);width:100%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px}.sidebar-content[_ngcontent-%COMP%]{padding-bottom:60px;padding-top:10px}.sidebar-list-header-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-header-container[_ngcontent-%COMP%]   .sidebar-list-header-content[_ngcontent-%COMP%]{color:#ffffff4d;font-size:15px;height:45px;line-height:45px;max-width:100%;min-width:0;overflow:hidden!important;padding-left:25px;text-overflow:ellipsis;text-transform:capitalize;white-space:nowrap!important;flex-grow:1}.sidebar-list-item-container[_ngcontent-%COMP%]{border-bottom-right-radius:4px;border-top-right-radius:4px;display:flex;min-height:30px;position:relative}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;display:block;flex-grow:1;overflow:hidden;padding:4px 0 2px 25px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-icon[_ngcontent-%COMP%]{font-size:13px;width:18px;flex-shrink:0;height:14px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-title[_ngcontent-%COMP%]{flex-grow:1;word-break:break-word}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.media-server-button[_ngcontent-%COMP%]{background-color:#0000004d;font-size:13px;height:50px;line-height:50px;padding-left:25px;padding-right:15px;width:100%;-webkit-tap-highlight-color:transparent;color:#ffffffb3;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none}.content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;max-width:85%;text-align:left;display:flex;align-items:center}.left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;max-width:100%;max-width:85%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;vertical-align:top;white-space:nowrap!important;font-weight:700}.left[_ngcontent-%COMP%]   i.fa-caret-up[_ngcontent-%COMP%]{margin-left:7px;margin-top:2px}.left[_ngcontent-%COMP%]   i.fa-caret-down[_ngcontent-%COMP%]{margin-left:7px}.server-settings-menu-button-icon[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-right:10px}.media-server-button.selected[_ngcontent-%COMP%]{color:#007bff}.media-server-button[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-message[_ngcontent-%COMP%]{color:#ffffff73;margin:15px 10px 15px 25px}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function JL(r,n){1&r&&t._UZ(0,"i",9)}function QL(r,n){1&r&&t._UZ(0,"i",10)}function XL(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}const ek=function(r){return[r]},tk=function(r){return{active:r}};function nk(r,n){if(1&r&&(t.TgZ(0,"li",12)(1,"a",13),t.YNc(2,XL,1,3,"i",14),t.TgZ(3,"span",7),t._uU(4),t.qZA()()()),2&r){const e=n.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,ek,e.Path))("ngClass",t.VKq(6,tk,i.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title)}}function ik(r,n){if(1&r&&(t.TgZ(0,"div")(1,"ul",11),t.YNc(2,nk,5,8,"ng-template",2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",e.ChildMenus)}}function rk(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"button",4),t.NdJ("click",function(o){const m=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.onClickModule(m,o))}),t.YNc(2,JL,1,0,"i",5),t.YNc(3,QL,1,0,"i",6),t.TgZ(4,"span",7),t._uU(5),t.qZA()(),t.YNc(6,ik,3,1,"div",8),t.qZA()}if(2&r){const e=n.$implicit;t.xp6(2),t.Q6J("ngIf",e.isCollapsed),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed),t.xp6(2),t.Oqu(e.Title),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed)}}let ok=(()=>{class r{constructor(e){this.sharedService=e,this.collapseSidebar=new t.vpe}onClickModule(e,i){i.preventDefault(),i.stopPropagation(),e.isCollapsed=!e.isCollapsed}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}isSelectedMenu(e){return-1!=e.Path.indexOf(window.location.pathname)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-administrator"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"click"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"],[3,"class",4,"ngIf"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(m){return o.onClickOutsideSidebar(m)}),t.TgZ(1,"ul",1),t.YNc(2,rk,7,4,"ng-template",2),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("ngForOf",o.sharedService.manageMenus))},dependencies:[Gs,g.mk,g.sg,g.O5,Gn.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:200px;height:100%;background:#0c0d11}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function sk(r,n){1&r&&t._UZ(0,"i",10)}function ak(r,n){1&r&&t._UZ(0,"i",11)}function lk(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}function ck(r,n){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}const ZI=function(r){return[r]},$I=function(r){return{active:r}};function dk(r,n){if(1&r&&(t.TgZ(0,"li",13)(1,"a",14),t.YNc(2,ck,1,3,"i",7),t.TgZ(3,"span",8),t._uU(4),t.qZA()()()),2&r){const e=n.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,ZI,e.Path))("ngClass",t.VKq(6,$I,i.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title)}}function uk(r,n){if(1&r&&(t.TgZ(0,"div")(1,"ul",12),t.YNc(2,dk,5,8,"ng-template",2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",e.ChildMenus)}}function fk(r,n){if(1&r&&(t.TgZ(0,"li",3)(1,"button",4),t.YNc(2,sk,1,0,"i",5),t.YNc(3,ak,1,0,"i",6),t.YNc(4,lk,1,3,"i",7),t.TgZ(5,"span",8),t._uU(6),t.qZA()(),t.YNc(7,uk,3,1,"div",9),t.qZA()),2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(7,ZI,e.Path))("ngClass",t.VKq(9,$I,i.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",!e.IconClass&&e.isCollapsed),t.xp6(1),t.Q6J("ngIf",!e.IconClass&&!e.isCollapsed),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed)}}let hk=(()=>{class r{constructor(e,i,o){this.libraryService=e,this.signalIrService=i,this.sharedService=o,this.collapseSidebar=new t.vpe,this.mediaMenu=[],this.subscriptionEnableMediaServer=this.signalIrService.isEnablingMediaServer().subscribe(d=>{var m=this.mediaMenu.find(I=>I.MediaServerGuid==d);if(m&&!m.IsSecureConnection){m.IsSecureConnection=!0;var v=this.sharedService.mediaServers.find(I=>I.Guid==m.MediaServerGuid);v&&this.updateLibrariesInMediaServer(m,v)}}),this.subscriptionDisableMediaServer=this.signalIrService.isDisablingMediaServer().subscribe(d=>{var m=this.mediaMenu.find(v=>v.MediaServerGuid==d);m&&m.IsSecureConnection&&(m.IsSecureConnection=!1,m.ChildMenus=[])}),this.subscriptionUpdateLibrariesByMediaServer=this.signalIrService.isUpdatingLibrariesByMediaServer().subscribe(d=>{var m=this.mediaMenu.find(I=>I.MediaServerGuid==d),v=this.sharedService.mediaServers.find(I=>I.Guid==d);m&&v&&(m.IsSecureConnection=!0,this.updateLibrariesInMediaServer(m,v))})}ngOnInit(){this.getMediaMenu()}ngOnDestroy(){this.subscriptionEnableMediaServer.unsubscribe(),this.subscriptionDisableMediaServer.unsubscribe(),this.subscriptionUpdateLibrariesByMediaServer.unsubscribe()}getMediaMenu(){var e=[],i=new Hm;i.SortOrder=e.length+1,i.Title="Inicio",i.Path="/home",i.IconClass="fa-house fa-solid",e.push(i);var o=new Hm;o.SortOrder=e.length+1,o.Title="Pel\xedculas",o.Path="/media/movies",o.IconClass="fa-film fa-solid",e.push(o);var d=new Hm;d.SortOrder=e.length+1,d.Title="Series",d.Path="/media/tvseries",d.IconClass="fa-tv fa-solid",e.push(d),this.mediaMenu=e,this.sharedService.mediaServers.forEach(m=>{var v=new Hm;v.SortOrder=this.mediaMenu.length+1,v.Title=null!=m.FamilyName&&""!=m.FamilyName?m.FamilyName:m.DeviceName,v.Path="/media/server/"+m.Guid,v.ChildMenus=[],v.MediaServerId=m.Id,v.MediaServerGuid=m.Guid,this.mediaMenu.push(v)}),this.buildMediaMenuFromListLibraries()}buildMediaMenuFromListLibraries(){this.sharedService.mediaServers.forEach(e=>{var i=this.mediaMenu.find(o=>o.MediaServerId==e.Id);e.isSecureConnection?(i.IsSecureConnection=!0,this.updateLibrariesInMediaServer(i,e)):(i.IsSecureConnection=!1,i.ChildMenus=[])})}updateLibrariesInMediaServer(e,i){this.libraryService.getLibrariesByMediaServer(i.Url).then(o=>{var d=[];o.forEach(m=>{var v=new Hm;v.SortOrder=d.length+1,v.Title=m.Name,v.Path="/media/server/"+i.Guid+"/libraries/"+m.Id,v.IconClass=m.MediaTypeCatalogDetailId==St.Movie?"fa-film fa-solid":"fa-tv fa-solid",d.push(v)}),e.ChildMenus=d})}onClickModule(e){e.isCollapsed=!e.isCollapsed}isSelectedMenu(e){return-1!=decodeURIComponent(window.location.pathname).indexOf(e.Path)}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Nc),t.Y36(Io),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-media"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"routerLink","ngClass"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[3,"class",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(m){return o.onClickOutsideSidebar(m)}),t.TgZ(1,"ul",1),t.YNc(2,fk,8,11,"ng-template",2),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("ngForOf",o.mediaMenu))},dependencies:[Gs,g.mk,g.sg,g.O5,Gn.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px;padding-top:10px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function mk(r,n){if(1&r&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&r){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.sharedService.getInitials(e.sharedService.currentProfile)," ")}}function pk(r,n){if(1&r&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(3);t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.sharedService.currentProfile.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function gk(r,n){if(1&r&&(t.TgZ(0,"span",11),t._uU(1),t.qZA(),t.YNc(2,mk,2,1,"div",12),t.YNc(3,pk,3,6,"img",12)),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.sharedService.currentProfile.FullName," "),t.xp6(1),t.Q6J("ngIf",null==e.sharedService.currentProfile.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.sharedService.currentProfile.AvatarPath)}}function _k(r,n){if(1&r&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&r){const e=t.oxw(2).$implicit,i=t.oxw(3);t.xp6(1),t.hij(" ",i.sharedService.getInitials(e)," ")}}function vk(r,n){if(1&r&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(2).$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function yk(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"a",15,5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,d=t.oxw(3);return t.KtG(d.onSelectProfile(o))}),t.YNc(3,_k,2,1,"div",12),t.YNc(4,vk,3,6,"img",12),t.TgZ(5,"span",11),t._uU(6),t.qZA()()()}if(2&r){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",null==e.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.AvatarPath),t.xp6(2),t.hij(" ",e.FullName," ")}}function bk(r,n){if(1&r&&t.YNc(0,yk,7,3,"li",10),2&r){const e=n.$implicit,i=t.oxw(3);t.Q6J("ngIf",i.sharedService.currentProfile&&e.Id!=i.sharedService.currentProfile.Id)}}function Ek(r,n){if(1&r&&t.YNc(0,bk,1,1,"ng-template",14),2&r){const e=t.oxw(2);t.Q6J("ngForOf",e.sharedService.listProfiles)}}function Tk(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onClickAdminMode())}),t.TgZ(2,"span"),t._uU(3,"Mantenimiento"),t.qZA()()()}}function Sk(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"ul",2)(2,"li",3)(3,"a",4,5),t.YNc(5,gk,4,3,"ng-template",6),t.qZA()(),t._UZ(6,"div",7),t.TgZ(7,"div",8),t.YNc(8,Ek,1,1,"ng-template",6),t.TgZ(9,"li",3)(10,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickEditProfilesButton())}),t.TgZ(11,"span"),t._uU(12,"Editar perfiles"),t.qZA()()(),t.TgZ(13,"li",3)(14,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickAccountOption())}),t.TgZ(15,"span"),t._uU(16,"Cuenta"),t.qZA()()(),t.YNc(17,Tk,4,0,"li",10),t.TgZ(18,"li",3)(19,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.logOut())}),t.TgZ(20,"span"),t._uU(21,"Cerrar Sesi\xf3n"),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.sharedService.currentProfile),t.xp6(3),t.Q6J("ngIf",e.sharedService.listProfiles&&e.sharedService.listProfiles.length>0),t.xp6(9),t.Q6J("ngIf",e.sharedService.manageMenus&&e.sharedService.manageMenus.length>0)}}let Ck=(()=>{class r{constructor(e,i,o,d){this.userService=e,this.ref=i,this.router=o,this.sharedService=d}onClickChangeProfileButton(){this.sharedService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/select-profile")}onClickEditProfilesButton(){this.sharedService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/select-profile")}onSelectProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}onClickAccountOption(){this.router.navigateByUrl("/settings/account")}onClickAdminMode(){this.router.navigateByUrl(this.sharedService.manageMenus[0].ChildMenus[0].Path)}logOut(){this.userService.clearSessionData(),this.router.navigateByUrl("/landing")}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Jo),t.Y36(t.sBO),t.Y36(Gn.F0),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-dropdown-user"]],decls:1,vars:1,consts:[["class","sinovad-user-dropdown",4,"ngIf"],[1,"sinovad-user-dropdown"],["role","menu",1,"sinovad-dropdown-list"],[1,"sinovad-avatar-item"],["id","avatar_button",1,"sinovad-avatar-button","principal"],["button",""],[3,"ngIf"],[1,"sinovad-separator-dropdown"],[1,"sinovad-bottom-list"],[3,"click"],["class","sinovad-avatar-item",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-initials-profile"],["ngFor","",3,"ngForOf"],["id","avatar_button",1,"sinovad-avatar-button",3,"click"]],template:function(i,o){1&i&&t.YNc(0,Sk,22,3,"div",0),2&i&&t.Q6J("ngIf",!o.sharedService.showSplashScreen)},dependencies:[g.sg,g.O5,Kt,g.Ov],styles:["[_nghost-%COMP%]{height:100%}.sinovad-user-dropdown[_ngcontent-%COMP%]{height:100%;display:flex;align-items:flex-start}ul.sinovad-dropdown-list[_ngcontent-%COMP%]{background:transparent;border:1px solid transparent;box-shadow:none;height:100%;max-height:72px;padding:0 20px;width:100px;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-separator-dropdown[_ngcontent-%COMP%], ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-bottom-list[_ngcontent-%COMP%]{display:none}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover{background:rgb(19,19,19);border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;height:auto;max-height:calc(100vh - 40px);padding-top:10px;padding-bottom:20px;width:240px;z-index:10;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-separator-dropdown[_ngcontent-%COMP%]{width:100%;padding-left:10px;height:2px;background-color:#fff;display:block;margin-top:10px}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]{display:block}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]{margin-top:10px;width:200px;opacity:.7;font-size:16px;cursor:pointer}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-avatar-button[_ngcontent-%COMP%]{display:block;padding-left:0;background:transparent;border:none;cursor:pointer;color:#fff;display:flex;align-items:center;text-decoration:unset}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:20px;margin-right:10px}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:1px solid white;display:flex;align-items:center;justify-content:center;font-size:30px}.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 1024px){.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:none}.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}}"]})}return r})();const Dk=["searchTarget"],qI=function(){return["/home"]};function xk(r,n){1&r&&(t.TgZ(0,"a",11),t._UZ(1,"i",12),t.qZA()),2&r&&t.Q6J("routerLink",t.DdM(1,qI))}const JI=function(r){return{focused:r}};function Mk(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"input",6,7),t.NdJ("ngModelChange",function(o){t.CHM(e);const d=t.oxw();return t.KtG(d.searchText=o)})("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeSearchValue())})("focus",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isFocusSearch=!0)})("blur",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isFocusSearch=!1)}),t.qZA(),t.TgZ(4,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickSearchButton())}),t._UZ(5,"i",9),t.qZA()(),t.TgZ(6,"div",15)(7,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showNavbarSearch=!1)}),t._UZ(8,"i",16),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(2,JI,e.isFocusSearch)),t.xp6(1),t.Q6J("ngModel",e.searchText)}}let Ak=(()=>{class r{constructor(e,i,o){this.router=e,this.restProvider=i,this.sharedService=o,this.toggleSidebar=new t.vpe,this.selectOption=new t.vpe,this.toggleMenu=new t.vpe,this.searchText="",this.isFocusSearch=!1,this.showDropDown=!1,this.showNavbarSearch=!1}ngOnInit(){}ngAfterViewInit(){this.addClickEvent()}onClickSearchButton(){this.showNavbarSearch=!0}addClickEvent(){const e=document.getElementById("userDropDown");document.addEventListener("click",i=>{this.showDropDown=!!i.composedPath().includes(e)})}onClickHomeOption(){this.router.navigateByUrl("/home")}onClickOption(e){this.selectOption.emit(e)}onSelectProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}onClickChangeProfileButton(){this.sharedService.showSplashScreen=!0}onChangeSearchValue(){this.router.navigateByUrl(null!=this.searchText&&""!=this.searchText?"/search?text="+this.searchText:"/home"),this.searchText=""}onClickToggleSidebarButton(e){e.preventDefault(),e.stopPropagation(),this.toggleSidebar.emit(!0)}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Gn.F0),t.Y36(vt),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-header"]],viewQuery:function(i,o){if(1&i&&t.Gf(Dk,5),2&i){let d;t.iGM(d=t.CRH())&&(o.searchTarget=d.first)}},inputs:{showingSidebarAccount:"showingSidebarAccount",showingSidebarAdminMode:"showingSidebarAdminMode"},outputs:{toggleSidebar:"toggleSidebar",selectOption:"selectOption",toggleMenu:"toggleMenu"},decls:16,vars:14,consts:[[1,"nav-button-icon-container","toggle",3,"click"],[1,"fa-solid","fa-bars"],["class","nav-button-icon-container home",3,"routerLink",4,"ngIf"],[1,"sinovad-logo-button",3,"routerLink"],[3,"src"],[1,"sinovad-custom-search",3,"ngClass"],["type","text",3,"ngModel","ngModelChange","change","focus","blur"],["input",""],[3,"click"],[1,"fa-solid","fa-magnifying-glass"],["class","sinovad-navbar-search",4,"ngIf"],[1,"nav-button-icon-container","home",3,"routerLink"],[1,"fa-solid","fa-house"],[1,"sinovad-navbar-search"],[1,"sinovad-bottom-search",3,"ngClass"],[1,"sinovad-close-search-container"],[1,"fa","fa-times"]],template:function(i,o){1&i&&(t.TgZ(0,"header")(1,"nav")(2,"a",0),t.NdJ("click",function(m){return o.onClickToggleSidebarButton(m)}),t._UZ(3,"i",1),t.qZA(),t.YNc(4,xk,2,2,"a",2),t.TgZ(5,"a",3),t._UZ(6,"img",4),t.ALo(7,"async"),t.ALo(8,"formatDataPipe"),t.qZA(),t.TgZ(9,"div",5)(10,"input",6,7),t.NdJ("ngModelChange",function(m){return o.searchText=m})("change",function(){return o.onChangeSearchValue()})("focus",function(){return o.isFocusSearch=!0})("blur",function(){return o.isFocusSearch=!1}),t.qZA(),t.TgZ(12,"button",8),t.NdJ("click",function(){return o.onClickSearchButton()}),t._UZ(13,"i",9),t.qZA()(),t._UZ(14,"app-dropdown-user"),t.qZA(),t.YNc(15,Mk,9,4,"div",10),t.qZA()),2&i&&(t.xp6(4),t.Q6J("ngIf",o.showingSidebarAccount||o.showingSidebarAdminMode),t.xp6(1),t.Q6J("routerLink",t.DdM(11,qI)),t.xp6(1),t.Q6J("src",t.lcZ(7,6,t.xi3(8,8,"sinovad-stream-large-logo.png","GetIconURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngClass",t.VKq(12,JI,o.isFocusSearch&&!o.sharedService.isSmallDevice())),t.xp6(1),t.Q6J("ngModel",o.searchText),t.xp6(5),t.Q6J("ngIf",o.sharedService.isSmallDevice()&&o.showNavbarSearch))},dependencies:[rt.Fj,rt.JJ,rt.On,g.mk,g.O5,Gn.rH,Ck,Kt,g.Ov],styles:[".nav-button-icon-container[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;color:#fff;font-size:24px;opacity:.7;display:none}.nav-button-icon-container.home[_ngcontent-%COMP%]{display:block}.sinovad-logo-button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;text-decoration:unset;font-size:20px}.sinovad-logo-button[_ngcontent-%COMP%]   .first-span[_ngcontent-%COMP%]{color:#007bff;margin-right:6px}.sinovad-logo-button[_ngcontent-%COMP%]   .second-span[_ngcontent-%COMP%]{color:#fff}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px;margin-bottom:6px}.sinovad-custom-search[_ngcontent-%COMP%]{display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-left:20px;background-color:#fff}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-custom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.nav-button-icon-container[_ngcontent-%COMP%]:hover{opacity:1}nav[_ngcontent-%COMP%]{background:black;color:#fff;flex-wrap:nowrap;justify-content:flex-start;display:flex;height:70px;align-items:center}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]{list-style-type:none;flex-direction:row;display:flex;height:100%;align-items:center;margin-bottom:0}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-decoration:unset;height:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px}.sinovad-navbar-search[_ngcontent-%COMP%]{background:black;display:flex;align-items:center;padding:10px 20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-right:20px;background-color:#fff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px;width:100%}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]{width:20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;color:#fff;padding-right:8px;padding-left:8px;font-size:24px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-logo-button[_ngcontent-%COMP%]{margin-left:10px;margin-right:0}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110px}.nav-button-icon-container.toggle[_ngcontent-%COMP%]{display:block}.nav-button-icon-container.home[_ngcontent-%COMP%], .sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sinovad-custom-search[_ngcontent-%COMP%]{background:transparent}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}}"]})}return r})();function Ik(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-header",12),t.NdJ("toggleSidebar",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickToggleSidebarButton())}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("showingSidebarAccount",e.showingSidebarAccount)("showingSidebarAdminMode",e.showingSidebarAdminMode)}}function wk(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-administrator",19),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function Pk(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-account",19),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function Ok(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-media",19),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function Rk(r,n){if(1&r&&(t.TgZ(0,"section",13,14)(2,"div",15),t._UZ(3,"div",16),t.TgZ(4,"div",17),t.YNc(5,wk,1,0,"app-sidebar-administrator",18),t.YNc(6,Pk,1,0,"app-sidebar-account",18),t.YNc(7,Ok,1,0,"app-sidebar-media",18),t.qZA()()()),2&r){const e=t.oxw();t.Udp("height","100%"),t.xp6(5),t.Q6J("ngIf",e.showingSidebarAdminMode),t.xp6(1),t.Q6J("ngIf",e.showingSidebarAccount),t.xp6(1),t.Q6J("ngIf",e.showingSidebarMedia)}}const Nk=function(r){return{locked:r}};let Lk=(()=>{class r{constructor(e,i,o){this.userService=e,this.ref=i,this.sharedService=o,this._window=window,this.isCollapsedSidebar=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1,this.showRouterChildWithFullDimentions=!0}ngOnInit(){const e=window.location.search;if(""!=e){var i=new URLSearchParams(e).get("apiToken");null!=i&&localStorage.setItem("apiToken",i)}window.configurationData&&(this.sharedService.configurationData=window.configurationData),localStorage.getItem("apiToken")&&(this.sharedService.apiToken=localStorage.getItem("apiToken"),this.userService.getUserData())}ngAfterViewInit(){let e=this;window.addEventListener("click",function(d){e.sharedService.configurationData.alwaysFullScreen&&e.showPageInFullScreen()})}showPageInFullScreen(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}onClickToggleSidebarButton(){this.isCollapsedSidebar=!this.isCollapsedSidebar}onActivate(e){this.isCollapsedSidebar=!0,this.sharedService.showSplashScreen=!1,(e instanceof rn||e instanceof h||e instanceof fu||e instanceof mu||e instanceof jr||e instanceof gr||e instanceof Cl||e instanceof yt||e instanceof qn)&&(this.showRouterChildWithFullDimentions=!0,this.showingSidebarMedia=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),e instanceof _t&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(e instanceof Vu||e instanceof y0)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(e instanceof oI||e instanceof nI||e instanceof $A||e instanceof eI||e instanceof hI)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),(e instanceof lx||e instanceof dx)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!0,this.showingSidebarMedia=!1),(e instanceof fI||e instanceof dx||e instanceof lx||e instanceof uI||e instanceof gg||e instanceof WS)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!0,this.showingSidebarMedia=!1)}onResize(e){}static#e=this.\u0275fac=function(i){return new(i||r)(t.Y36(Jo),t.Y36(t.sBO),t.Y36(Gt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-root"]],hostBindings:function(i,o){1&i&&t.NdJ("resize",function(m){return o.onResize(m)},!1,t.Jf7)},decls:16,vars:9,consts:[["id","sinovadMainContainer",1,"sinovad-main-container"],["mainContainer",""],[1,"sinovad-page-container"],["header",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar",4,"ngIf"],[1,"sinovad-menu-body-container"],["menu",""],["id","menuContainer","class","sinovad-menu-container","tabindex","0",3,"height",4,"ngIf"],["id","bodyContainer","tabindex","0",1,"sinovad-body-container",3,"ngClass"],["principalContainer",""],[3,"activate"],["footer",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar"],["id","menuContainer","tabindex","0",1,"sinovad-menu-container"],["menuContainer",""],[1,"sidebar"],[1,"blocker"],[1,"content"],[3,"collapseSidebar",4,"ngIf"],[3,"collapseSidebar"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",null,3),t.YNc(5,Ik,1,2,"app-header",4),t.qZA(),t.TgZ(6,"div",5)(7,"div",null,6),t.YNc(9,Rk,8,5,"section",7),t.qZA(),t.TgZ(10,"section",8,9)(12,"router-outlet",10),t.NdJ("activate",function(m){return o.onActivate(m)}),t.qZA()()(),t._UZ(13,"div",null,11),t.qZA()(),t._UZ(15,"app-splash-screen")),2&i){const d=t.MAs(4),m=t.MAs(8),v=t.MAs(14);t.xp6(5),t.Q6J("ngIf",!o.showRouterChildWithFullDimentions),t.xp6(1),t.Udp("height","calc(100% - "+(d.offsetHeight+v.offsetHeight)+"px)"),t.xp6(3),t.Q6J("ngIf",!(o.showRouterChildWithFullDimentions||o.sharedService.isSmallDevice()&&o.isCollapsedSidebar)),t.xp6(1),t.Udp("width","calc(100% - "+m.offsetWidth+"px)"),t.Q6J("ngClass",t.VKq(7,Nk,o.sharedService.isSmallDevice()&&!o.isCollapsedSidebar))}},dependencies:[g.mk,g.O5,SL,Gn.lC,qL,ok,hk,Ak],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}.sinovad-main-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-module-container[_ngcontent-%COMP%]{border-top:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%}.sinovad-header-container[_ngcontent-%COMP%]{height:60px;background:rgba(0,0,0,.15)}.sinovad-menu-body-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}.sinovad-menu-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.6);position:relative}.sinovad-body-container[_ngcontent-%COMP%]{display:block;height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-body-container.locked[_ngcontent-%COMP%]{pointer-events:none}@media only screen and (max-width: 767px){.sidebar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100vw;height:100%;padding:0;background:rgba(0,0,0,.5);display:block;z-index:99999}.sidebar[_ngcontent-%COMP%]   .blocker[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%}}"]})}return r})(),kk=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=t.oAB({type:r,bootstrap:[Lk]});static#n=this.\u0275inj=t.cJS({providers:[{provide:g.mr,useValue:"/"}],imports:[c.b2,rt.u5,Nx.m,kt,CR,Qo.hO.initializeApp(zI_firebase),lf,yL,bL,EL]})}return r})();c.q6().bootstrapModule(kk).catch(r=>console.error(r))},4753:(Bn,tt,S)=>{"use strict";tt.Q=void 0;const t=S(2546),b=S(8540);tt.Q=E=>E.startsWith("WEBVTT")?b.vttParser(E):t.srtParser(E)},2546:(Bn,tt,S)=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0}),tt.srtParser=void 0;const c=S(4575),t=S(2279),w=L=>{let p,f,g,D=L.split(":");return 2===D.length?[f,g]=D:[p,f,g]=D,parseInt(g.replace(",",""),10)+60*parseInt(f,10)*1e3+60*(p?parseInt(p,10):0)*60*1e3},E=()=>({start(L){let D="ID",p={tokens:L.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==D;){const f=this[D](p);p=f.params,D=f.next}return p.result},ID(L){const{tokens:D,pos:p,current:f}=L;if(D.length<=p)return{next:"FINISH",params:L};if(t.isBlank(D[p]))return{next:"ID",params:{...L,pos:p+1}};const g=D[p].includes("--\x3e");return f.id=g?"":D[p],{next:"TIME_LINE",params:{...L,current:f,tokens:D,pos:g?p:p+1}}},TIME_LINE(L){const{tokens:D,pos:p,current:f}=L,g=D[p],[y,M]=g.split("--\x3e");return f.from=w(y),f.to=w(M),{next:"TEXT",params:{...L,current:f,pos:p+1}}},TEXT(L){const{tokens:D,pos:p,current:f}=L;return D.length<=p?{next:"FINISH",params:L}:(f.text=D[p],{next:"MULTI_LINE_TEXT",params:{...L,current:f,pos:p+1}})},MULTI_LINE_TEXT(L){const{tokens:D,pos:p,current:f}=L;return D.length<=p?{next:"FINISH",params:L}:t.isBlank(D[p])?{next:"FIN_ENTRY",params:L}:(f.text=`${f.text}\n${D[p]}`,{next:"MULTI_LINE_TEXT",params:{...L,current:f,pos:p+1}})},FIN_ENTRY(L){const{pos:D,current:p,result:f}=L;if(!c.isEntryFromPartial(p))throw new Error(`Parsing error current not complete ${JSON.stringify(p)}`);return f.push(p),{next:"ID",params:{...L,current:{},pos:D+1}}},FINISH:L=>({next:"FINISH",params:L})});tt.srtParser=L=>({entries:E().start(L)})},4575:(Bn,tt)=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0}),tt.isEntryFromPartial=void 0,tt.isEntryFromPartial=c=>"string"==typeof c.id&&"number"==typeof c.from&&"number"==typeof c.to&&"string"==typeof c.text},2279:(Bn,tt)=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0}),tt.isBlank=void 0,tt.isBlank=c=>!c||/^\s*$/.test(c)},8540:(Bn,tt,S)=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0}),tt.vttParser=void 0;const c=S(4575),t=S(2279),w=L=>{let p,f,g,D=L.split(":");return 2===D.length?[f,g]=D:[p,f,g]=D,parseInt(g.replace(".",""),10)+60*parseInt(f,10)*1e3+60*(p?parseInt(p,10):0)*60*1e3},E=()=>({start(L){let D="HEADER",p={tokens:L.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==D;){const f=this[D](p);p=f.params,D=f.next}return p.result},HEADER:L=>({next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:L.pos+1}}),ID_OR_NOTE_OR_STYLE(L){const{tokens:D,pos:p}=L;return D.length<=p?{next:"FINISH",params:L}:t.isBlank(D[p])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:p+1}}:D[p].toUpperCase().includes("NOTE")?{next:"NOTE",params:L}:D[p].toUpperCase().includes("STYLE")?{next:"STYLE",params:L}:{next:"ID",params:L}},STYLE(L){const{tokens:D,pos:p}=L;return t.isBlank(D[p])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:p+1}}:{next:"STYLE",params:{...L,pos:p+1}}},NOTE(L){const{tokens:D,pos:p}=L;return t.isBlank(D[p])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:p+1}}:{next:"STYLE",params:{...L,pos:p+1}}},ID(L){const{tokens:D,pos:p,current:f}=L;if(D.length<=p)return{next:"FINISH",params:L};if(t.isBlank(D[p]))return{next:"ID",params:{...L,pos:p+1}};const g=D[p].includes("--\x3e");return f.id=g?"":D[p],{next:"TIME_LINE",params:{...L,current:f,tokens:D,pos:g?p:p+1}}},TIME_LINE(L){const{tokens:D,pos:p,current:f}=L,g=D[p],[y,M]=g.split("--\x3e");return f.from=w(y),f.to=w(M),{next:"TEXT",params:{...L,current:f,pos:p+1}}},TEXT(L){const{tokens:D,pos:p,current:f}=L;return D.length<=p?{next:"FINISH",params:L}:(f.text=D[p],{next:"MULTI_LINE_TEXT",params:{...L,current:f,pos:p+1}})},MULTI_LINE_TEXT(L){const{tokens:D,pos:p,current:f}=L;return D.length<=p?{next:"FINISH",params:L}:t.isBlank(D[p])?{next:"FIN_ENTRY",params:L}:(f.text=`${f.text}\n${D[p]}`,{next:"MULTI_LINE_TEXT",params:{...L,current:f,pos:p+1}})},FIN_ENTRY(L){const{pos:D,current:p,result:f}=L;if(!c.isEntryFromPartial(p))throw new Error(`Parsing error current not complete ${JSON.stringify(p)}`);return f.push(p),{next:"ID_OR_NOTE_OR_STYLE",params:{...L,current:{},pos:D+1}}},FINISH:L=>({next:"FINISH",params:L})});tt.vttParser=L=>({entries:E().start(L)})},9919:(Bn,tt)=>{"use strict";tt.byteLength=function L(M){var U=F(M),V=U[1];return 3*(U[0]+V)/4-V},tt.toByteArray=function p(M){var U,T,R=F(M),V=R[0],k=R[1],O=new t(function D(M,U,R){return 3*(U+R)/4-R}(0,V,k)),x=0,P=k>0?V-4:V;for(T=0;T<P;T+=4)U=c[M.charCodeAt(T)]<<18|c[M.charCodeAt(T+1)]<<12|c[M.charCodeAt(T+2)]<<6|c[M.charCodeAt(T+3)],O[x++]=U>>16&255,O[x++]=U>>8&255,O[x++]=255&U;return 2===k&&(U=c[M.charCodeAt(T)]<<2|c[M.charCodeAt(T+1)]>>4,O[x++]=255&U),1===k&&(U=c[M.charCodeAt(T)]<<10|c[M.charCodeAt(T+1)]<<4|c[M.charCodeAt(T+2)]>>2,O[x++]=U>>8&255,O[x++]=255&U),O},tt.fromByteArray=function y(M){for(var U,R=M.length,V=R%3,k=[],O=16383,x=0,P=R-V;x<P;x+=O)k.push(g(M,x,x+O>P?P:x+O));return 1===V?k.push(S[(U=M[R-1])>>2]+S[U<<4&63]+"=="):2===V&&k.push(S[(U=(M[R-2]<<8)+M[R-1])>>10]+S[U>>4&63]+S[U<<2&63]+"="),k.join("")};for(var S=[],c=[],t=typeof Uint8Array<"u"?Uint8Array:Array,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=0;w<64;++w)S[w]=b[w],c[b.charCodeAt(w)]=w;function F(M){var U=M.length;if(U%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=M.indexOf("=");return-1===R&&(R=U),[R,R===U?0:4-R%4]}function f(M){return S[M>>18&63]+S[M>>12&63]+S[M>>6&63]+S[63&M]}function g(M,U,R){for(var k=[],O=U;O<R;O+=3)k.push(f((M[O]<<16&16711680)+(M[O+1]<<8&65280)+(255&M[O+2])));return k.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},9007:(Bn,tt,S)=>{"use strict";var t=S(9919),b=S(2601),w="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;tt.lW=D,tt.h2=50;var E=2147483647;function L(Q){if(Q>E)throw new RangeError('The value "'+Q+'" is invalid for option "size"');var Z=new Uint8Array(Q);return Object.setPrototypeOf(Z,D.prototype),Z}function D(Q,Z,ne){if("number"==typeof Q){if("string"==typeof Z)throw new TypeError('The "string" argument must be of type string. Received type number');return y(Q)}return p(Q,Z,ne)}function p(Q,Z,ne){if("string"==typeof Q)return function M(Q,Z){if(("string"!=typeof Z||""===Z)&&(Z="utf8"),!D.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);var ne=0|P(Q,Z),ie=L(ne),ee=ie.write(Q,Z);return ee!==ne&&(ie=ie.slice(0,ee)),ie}(Q,Z);if(ArrayBuffer.isView(Q))return function R(Q){if(se(Q,Uint8Array)){var Z=new Uint8Array(Q);return V(Z.buffer,Z.byteOffset,Z.byteLength)}return U(Q)}(Q);if(null==Q)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q);if(se(Q,ArrayBuffer)||Q&&se(Q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(se(Q,SharedArrayBuffer)||Q&&se(Q.buffer,SharedArrayBuffer)))return V(Q,Z,ne);if("number"==typeof Q)throw new TypeError('The "value" argument must not be of type number. Received type number');var ie=Q.valueOf&&Q.valueOf();if(null!=ie&&ie!==Q)return D.from(ie,Z,ne);var ee=function k(Q){if(D.isBuffer(Q)){var Z=0|O(Q.length),ne=L(Z);return 0===ne.length||Q.copy(ne,0,0,Z),ne}return void 0!==Q.length?"number"!=typeof Q.length||_e(Q.length)?L(0):U(Q):"Buffer"===Q.type&&Array.isArray(Q.data)?U(Q.data):void 0}(Q);if(ee)return ee;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof Q[Symbol.toPrimitive])return D.from(Q[Symbol.toPrimitive]("string"),Z,ne);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q)}function f(Q){if("number"!=typeof Q)throw new TypeError('"size" argument must be of type number');if(Q<0)throw new RangeError('The value "'+Q+'" is invalid for option "size"')}function y(Q){return f(Q),L(Q<0?0:0|O(Q))}function U(Q){for(var Z=Q.length<0?0:0|O(Q.length),ne=L(Z),ie=0;ie<Z;ie+=1)ne[ie]=255&Q[ie];return ne}function V(Q,Z,ne){if(Z<0||Q.byteLength<Z)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<Z+(ne||0))throw new RangeError('"length" is outside of buffer bounds');var ie;return ie=void 0===Z&&void 0===ne?new Uint8Array(Q):void 0===ne?new Uint8Array(Q,Z):new Uint8Array(Q,Z,ne),Object.setPrototypeOf(ie,D.prototype),ie}function O(Q){if(Q>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return 0|Q}function P(Q,Z){if(D.isBuffer(Q))return Q.length;if(ArrayBuffer.isView(Q)||se(Q,ArrayBuffer))return Q.byteLength;if("string"!=typeof Q)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Q);var ne=Q.length,ie=arguments.length>2&&!0===arguments[2];if(!ie&&0===ne)return 0;for(var ee=!1;;)switch(Z){case"ascii":case"latin1":case"binary":return ne;case"utf8":case"utf-8":return at(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ne;case"hex":return ne>>>1;case"base64":return Te(Q).length;default:if(ee)return ie?-1:at(Q).length;Z=(""+Z).toLowerCase(),ee=!0}}function T(Q,Z,ne){var ie=!1;if((void 0===Z||Z<0)&&(Z=0),Z>this.length||((void 0===ne||ne>this.length)&&(ne=this.length),ne<=0)||(ne>>>=0)<=(Z>>>=0))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return Le(this,Z,ne);case"utf8":case"utf-8":return K(this,Z,ne);case"ascii":return he(this,Z,ne);case"latin1":case"binary":return Ce(this,Z,ne);case"base64":return ae(this,Z,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,Z,ne);default:if(ie)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),ie=!0}}function N(Q,Z,ne){var ie=Q[Z];Q[Z]=Q[ne],Q[ne]=ie}function C(Q,Z,ne,ie,ee){if(0===Q.length)return-1;if("string"==typeof ne?(ie=ne,ne=0):ne>2147483647?ne=2147483647:ne<-2147483648&&(ne=-2147483648),_e(ne=+ne)&&(ne=ee?0:Q.length-1),ne<0&&(ne=Q.length+ne),ne>=Q.length){if(ee)return-1;ne=Q.length-1}else if(ne<0){if(!ee)return-1;ne=0}if("string"==typeof Z&&(Z=D.from(Z,ie)),D.isBuffer(Z))return 0===Z.length?-1:B(Q,Z,ne,ie,ee);if("number"==typeof Z)return Z&=255,"function"==typeof Uint8Array.prototype.indexOf?ee?Uint8Array.prototype.indexOf.call(Q,Z,ne):Uint8Array.prototype.lastIndexOf.call(Q,Z,ne):B(Q,[Z],ne,ie,ee);throw new TypeError("val must be string, number or Buffer")}function B(Q,Z,ne,ie,ee){var xe,X=1,ue=Q.length,ve=Z.length;if(void 0!==ie&&("ucs2"===(ie=String(ie).toLowerCase())||"ucs-2"===ie||"utf16le"===ie||"utf-16le"===ie)){if(Q.length<2||Z.length<2)return-1;X=2,ue/=2,ve/=2,ne/=2}function de(dt,it){return 1===X?dt[it]:dt.readUInt16BE(it*X)}if(ee){var Ke=-1;for(xe=ne;xe<ue;xe++)if(de(Q,xe)===de(Z,-1===Ke?0:xe-Ke)){if(-1===Ke&&(Ke=xe),xe-Ke+1===ve)return Ke*X}else-1!==Ke&&(xe-=xe-Ke),Ke=-1}else for(ne+ve>ue&&(ne=ue-ve),xe=ne;xe>=0;xe--){for(var Ve=!0,lt=0;lt<ve;lt++)if(de(Q,xe+lt)!==de(Z,lt)){Ve=!1;break}if(Ve)return xe}return-1}function Y(Q,Z,ne,ie){ne=Number(ne)||0;var ee=Q.length-ne;ie?(ie=Number(ie))>ee&&(ie=ee):ie=ee;var X=Z.length;ie>X/2&&(ie=X/2);for(var ue=0;ue<ie;++ue){var ve=parseInt(Z.substr(2*ue,2),16);if(_e(ve))return ue;Q[ne+ue]=ve}return ue}function q(Q,Z,ne,ie){return W(at(Z,Q.length-ne),Q,ne,ie)}function le(Q,Z,ne,ie){return W(function Je(Q){for(var Z=[],ne=0;ne<Q.length;++ne)Z.push(255&Q.charCodeAt(ne));return Z}(Z),Q,ne,ie)}function Fe(Q,Z,ne,ie){return W(Te(Z),Q,ne,ie)}function $(Q,Z,ne,ie){return W(function Ne(Q,Z){for(var ne,ie,X=[],ue=0;ue<Q.length&&!((Z-=2)<0);++ue)ie=(ne=Q.charCodeAt(ue))>>8,X.push(ne%256),X.push(ie);return X}(Z,Q.length-ne),Q,ne,ie)}function ae(Q,Z,ne){return t.fromByteArray(0===Z&&ne===Q.length?Q:Q.slice(Z,ne))}function K(Q,Z,ne){ne=Math.min(Q.length,ne);for(var ie=[],ee=Z;ee<ne;){var de,xe,Ke,Ve,X=Q[ee],ue=null,ve=X>239?4:X>223?3:X>191?2:1;if(ee+ve<=ne)switch(ve){case 1:X<128&&(ue=X);break;case 2:128==(192&(de=Q[ee+1]))&&(Ve=(31&X)<<6|63&de)>127&&(ue=Ve);break;case 3:xe=Q[ee+2],128==(192&(de=Q[ee+1]))&&128==(192&xe)&&(Ve=(15&X)<<12|(63&de)<<6|63&xe)>2047&&(Ve<55296||Ve>57343)&&(ue=Ve);break;case 4:xe=Q[ee+2],Ke=Q[ee+3],128==(192&(de=Q[ee+1]))&&128==(192&xe)&&128==(192&Ke)&&(Ve=(15&X)<<18|(63&de)<<12|(63&xe)<<6|63&Ke)>65535&&Ve<1114112&&(ue=Ve)}null===ue?(ue=65533,ve=1):ue>65535&&(ie.push((ue-=65536)>>>10&1023|55296),ue=56320|1023&ue),ie.push(ue),ee+=ve}return function oe(Q){var Z=Q.length;if(Z<=ge)return String.fromCharCode.apply(String,Q);for(var ne="",ie=0;ie<Z;)ne+=String.fromCharCode.apply(String,Q.slice(ie,ie+=ge));return ne}(ie)}!(D.TYPED_ARRAY_SUPPORT=function F(){try{var Q=new Uint8Array(1),Z={foo:function(){return 42}};return Object.setPrototypeOf(Z,Uint8Array.prototype),Object.setPrototypeOf(Q,Z),42===Q.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(D.prototype,"parent",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.buffer}}),Object.defineProperty(D.prototype,"offset",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.byteOffset}}),D.poolSize=8192,D.from=function(Q,Z,ne){return p(Q,Z,ne)},Object.setPrototypeOf(D.prototype,Uint8Array.prototype),Object.setPrototypeOf(D,Uint8Array),D.alloc=function(Q,Z,ne){return function g(Q,Z,ne){return f(Q),Q<=0?L(Q):void 0!==Z?"string"==typeof ne?L(Q).fill(Z,ne):L(Q).fill(Z):L(Q)}(Q,Z,ne)},D.allocUnsafe=function(Q){return y(Q)},D.allocUnsafeSlow=function(Q){return y(Q)},D.isBuffer=function(Z){return null!=Z&&!0===Z._isBuffer&&Z!==D.prototype},D.compare=function(Z,ne){if(se(Z,Uint8Array)&&(Z=D.from(Z,Z.offset,Z.byteLength)),se(ne,Uint8Array)&&(ne=D.from(ne,ne.offset,ne.byteLength)),!D.isBuffer(Z)||!D.isBuffer(ne))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Z===ne)return 0;for(var ie=Z.length,ee=ne.length,X=0,ue=Math.min(ie,ee);X<ue;++X)if(Z[X]!==ne[X]){ie=Z[X],ee=ne[X];break}return ie<ee?-1:ee<ie?1:0},D.isEncoding=function(Z){switch(String(Z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},D.concat=function(Z,ne){if(!Array.isArray(Z))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Z.length)return D.alloc(0);var ie;if(void 0===ne)for(ne=0,ie=0;ie<Z.length;++ie)ne+=Z[ie].length;var ee=D.allocUnsafe(ne),X=0;for(ie=0;ie<Z.length;++ie){var ue=Z[ie];if(se(ue,Uint8Array))X+ue.length>ee.length?D.from(ue).copy(ee,X):Uint8Array.prototype.set.call(ee,ue,X);else{if(!D.isBuffer(ue))throw new TypeError('"list" argument must be an Array of Buffers');ue.copy(ee,X)}X+=ue.length}return ee},D.byteLength=P,D.prototype._isBuffer=!0,D.prototype.swap16=function(){var Z=this.length;if(Z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ne=0;ne<Z;ne+=2)N(this,ne,ne+1);return this},D.prototype.swap32=function(){var Z=this.length;if(Z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ne=0;ne<Z;ne+=4)N(this,ne,ne+3),N(this,ne+1,ne+2);return this},D.prototype.swap64=function(){var Z=this.length;if(Z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ne=0;ne<Z;ne+=8)N(this,ne,ne+7),N(this,ne+1,ne+6),N(this,ne+2,ne+5),N(this,ne+3,ne+4);return this},D.prototype.toLocaleString=D.prototype.toString=function(){var Z=this.length;return 0===Z?"":0===arguments.length?K(this,0,Z):T.apply(this,arguments)},D.prototype.equals=function(Z){if(!D.isBuffer(Z))throw new TypeError("Argument must be a Buffer");return this===Z||0===D.compare(this,Z)},D.prototype.inspect=function(){var Z="",ne=tt.h2;return Z=this.toString("hex",0,ne).replace(/(.{2})/g,"$1 ").trim(),this.length>ne&&(Z+=" ... "),"<Buffer "+Z+">"},w&&(D.prototype[w]=D.prototype.inspect),D.prototype.compare=function(Z,ne,ie,ee,X){if(se(Z,Uint8Array)&&(Z=D.from(Z,Z.offset,Z.byteLength)),!D.isBuffer(Z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Z);if(void 0===ne&&(ne=0),void 0===ie&&(ie=Z?Z.length:0),void 0===ee&&(ee=0),void 0===X&&(X=this.length),ne<0||ie>Z.length||ee<0||X>this.length)throw new RangeError("out of range index");if(ee>=X&&ne>=ie)return 0;if(ee>=X)return-1;if(ne>=ie)return 1;if(this===Z)return 0;for(var ue=(X>>>=0)-(ee>>>=0),ve=(ie>>>=0)-(ne>>>=0),de=Math.min(ue,ve),xe=this.slice(ee,X),Ke=Z.slice(ne,ie),Ve=0;Ve<de;++Ve)if(xe[Ve]!==Ke[Ve]){ue=xe[Ve],ve=Ke[Ve];break}return ue<ve?-1:ve<ue?1:0},D.prototype.includes=function(Z,ne,ie){return-1!==this.indexOf(Z,ne,ie)},D.prototype.indexOf=function(Z,ne,ie){return C(this,Z,ne,ie,!0)},D.prototype.lastIndexOf=function(Z,ne,ie){return C(this,Z,ne,ie,!1)},D.prototype.write=function(Z,ne,ie,ee){if(void 0===ne)ee="utf8",ie=this.length,ne=0;else if(void 0===ie&&"string"==typeof ne)ee=ne,ie=this.length,ne=0;else{if(!isFinite(ne))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ne>>>=0,isFinite(ie)?(ie>>>=0,void 0===ee&&(ee="utf8")):(ee=ie,ie=void 0)}var X=this.length-ne;if((void 0===ie||ie>X)&&(ie=X),Z.length>0&&(ie<0||ne<0)||ne>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");for(var ue=!1;;)switch(ee){case"hex":return Y(this,Z,ne,ie);case"utf8":case"utf-8":return q(this,Z,ne,ie);case"ascii":case"latin1":case"binary":return le(this,Z,ne,ie);case"base64":return Fe(this,Z,ne,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,Z,ne,ie);default:if(ue)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),ue=!0}},D.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ge=4096;function he(Q,Z,ne){var ie="";ne=Math.min(Q.length,ne);for(var ee=Z;ee<ne;++ee)ie+=String.fromCharCode(127&Q[ee]);return ie}function Ce(Q,Z,ne){var ie="";ne=Math.min(Q.length,ne);for(var ee=Z;ee<ne;++ee)ie+=String.fromCharCode(Q[ee]);return ie}function Le(Q,Z,ne){var ie=Q.length;(!Z||Z<0)&&(Z=0),(!ne||ne<0||ne>ie)&&(ne=ie);for(var ee="",X=Z;X<ne;++X)ee+=J[Q[X]];return ee}function fe(Q,Z,ne){for(var ie=Q.slice(Z,ne),ee="",X=0;X<ie.length-1;X+=2)ee+=String.fromCharCode(ie[X]+256*ie[X+1]);return ee}function Re(Q,Z,ne){if(Q%1!=0||Q<0)throw new RangeError("offset is not uint");if(Q+Z>ne)throw new RangeError("Trying to access beyond buffer length")}function Ae(Q,Z,ne,ie,ee,X){if(!D.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(Z>ee||Z<X)throw new RangeError('"value" argument is out of bounds');if(ne+ie>Q.length)throw new RangeError("Index out of range")}function pe(Q,Z,ne,ie,ee,X){if(ne+ie>Q.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("Index out of range")}function Ue(Q,Z,ne,ie,ee){return Z=+Z,ne>>>=0,ee||pe(Q,0,ne,4),b.write(Q,Z,ne,ie,23,4),ne+4}function ke(Q,Z,ne,ie,ee){return Z=+Z,ne>>>=0,ee||pe(Q,0,ne,8),b.write(Q,Z,ne,ie,52,8),ne+8}D.prototype.slice=function(Z,ne){var ie=this.length;(Z=~~Z)<0?(Z+=ie)<0&&(Z=0):Z>ie&&(Z=ie),(ne=void 0===ne?ie:~~ne)<0?(ne+=ie)<0&&(ne=0):ne>ie&&(ne=ie),ne<Z&&(ne=Z);var ee=this.subarray(Z,ne);return Object.setPrototypeOf(ee,D.prototype),ee},D.prototype.readUintLE=D.prototype.readUIntLE=function(Z,ne,ie){Z>>>=0,ne>>>=0,ie||Re(Z,ne,this.length);for(var ee=this[Z],X=1,ue=0;++ue<ne&&(X*=256);)ee+=this[Z+ue]*X;return ee},D.prototype.readUintBE=D.prototype.readUIntBE=function(Z,ne,ie){Z>>>=0,ne>>>=0,ie||Re(Z,ne,this.length);for(var ee=this[Z+--ne],X=1;ne>0&&(X*=256);)ee+=this[Z+--ne]*X;return ee},D.prototype.readUint8=D.prototype.readUInt8=function(Z,ne){return Z>>>=0,ne||Re(Z,1,this.length),this[Z]},D.prototype.readUint16LE=D.prototype.readUInt16LE=function(Z,ne){return Z>>>=0,ne||Re(Z,2,this.length),this[Z]|this[Z+1]<<8},D.prototype.readUint16BE=D.prototype.readUInt16BE=function(Z,ne){return Z>>>=0,ne||Re(Z,2,this.length),this[Z]<<8|this[Z+1]},D.prototype.readUint32LE=D.prototype.readUInt32LE=function(Z,ne){return Z>>>=0,ne||Re(Z,4,this.length),(this[Z]|this[Z+1]<<8|this[Z+2]<<16)+16777216*this[Z+3]},D.prototype.readUint32BE=D.prototype.readUInt32BE=function(Z,ne){return Z>>>=0,ne||Re(Z,4,this.length),16777216*this[Z]+(this[Z+1]<<16|this[Z+2]<<8|this[Z+3])},D.prototype.readIntLE=function(Z,ne,ie){Z>>>=0,ne>>>=0,ie||Re(Z,ne,this.length);for(var ee=this[Z],X=1,ue=0;++ue<ne&&(X*=256);)ee+=this[Z+ue]*X;return ee>=(X*=128)&&(ee-=Math.pow(2,8*ne)),ee},D.prototype.readIntBE=function(Z,ne,ie){Z>>>=0,ne>>>=0,ie||Re(Z,ne,this.length);for(var ee=ne,X=1,ue=this[Z+--ee];ee>0&&(X*=256);)ue+=this[Z+--ee]*X;return ue>=(X*=128)&&(ue-=Math.pow(2,8*ne)),ue},D.prototype.readInt8=function(Z,ne){return Z>>>=0,ne||Re(Z,1,this.length),128&this[Z]?-1*(255-this[Z]+1):this[Z]},D.prototype.readInt16LE=function(Z,ne){Z>>>=0,ne||Re(Z,2,this.length);var ie=this[Z]|this[Z+1]<<8;return 32768&ie?4294901760|ie:ie},D.prototype.readInt16BE=function(Z,ne){Z>>>=0,ne||Re(Z,2,this.length);var ie=this[Z+1]|this[Z]<<8;return 32768&ie?4294901760|ie:ie},D.prototype.readInt32LE=function(Z,ne){return Z>>>=0,ne||Re(Z,4,this.length),this[Z]|this[Z+1]<<8|this[Z+2]<<16|this[Z+3]<<24},D.prototype.readInt32BE=function(Z,ne){return Z>>>=0,ne||Re(Z,4,this.length),this[Z]<<24|this[Z+1]<<16|this[Z+2]<<8|this[Z+3]},D.prototype.readFloatLE=function(Z,ne){return Z>>>=0,ne||Re(Z,4,this.length),b.read(this,Z,!0,23,4)},D.prototype.readFloatBE=function(Z,ne){return Z>>>=0,ne||Re(Z,4,this.length),b.read(this,Z,!1,23,4)},D.prototype.readDoubleLE=function(Z,ne){return Z>>>=0,ne||Re(Z,8,this.length),b.read(this,Z,!0,52,8)},D.prototype.readDoubleBE=function(Z,ne){return Z>>>=0,ne||Re(Z,8,this.length),b.read(this,Z,!1,52,8)},D.prototype.writeUintLE=D.prototype.writeUIntLE=function(Z,ne,ie,ee){Z=+Z,ne>>>=0,ie>>>=0,ee||Ae(this,Z,ne,ie,Math.pow(2,8*ie)-1,0);var ue=1,ve=0;for(this[ne]=255&Z;++ve<ie&&(ue*=256);)this[ne+ve]=Z/ue&255;return ne+ie},D.prototype.writeUintBE=D.prototype.writeUIntBE=function(Z,ne,ie,ee){Z=+Z,ne>>>=0,ie>>>=0,ee||Ae(this,Z,ne,ie,Math.pow(2,8*ie)-1,0);var ue=ie-1,ve=1;for(this[ne+ue]=255&Z;--ue>=0&&(ve*=256);)this[ne+ue]=Z/ve&255;return ne+ie},D.prototype.writeUint8=D.prototype.writeUInt8=function(Z,ne,ie){return Z=+Z,ne>>>=0,ie||Ae(this,Z,ne,1,255,0),this[ne]=255&Z,ne+1},D.prototype.writeUint16LE=D.prototype.writeUInt16LE=function(Z,ne,ie){return Z=+Z,ne>>>=0,ie||Ae(this,Z,ne,2,65535,0),this[ne]=255&Z,this[ne+1]=Z>>>8,ne+2},D.prototype.writeUint16BE=D.prototype.writeUInt16BE=function(Z,ne,ie){return Z=+Z,ne>>>=0,ie||Ae(this,Z,ne,2,65535,0),this[ne]=Z>>>8,this[ne+1]=255&Z,ne+2},D.prototype.writeUint32LE=D.prototype.writeUInt32LE=function(Z,ne,ie){return Z=+Z,ne>>>=0,ie||Ae(this,Z,ne,4,4294967295,0),this[ne+3]=Z>>>24,this[ne+2]=Z>>>16,this[ne+1]=Z>>>8,this[ne]=255&Z,ne+4},D.prototype.writeUint32BE=D.prototype.writeUInt32BE=function(Z,ne,ie){return Z=+Z,ne>>>=0,ie||Ae(this,Z,ne,4,4294967295,0),this[ne]=Z>>>24,this[ne+1]=Z>>>16,this[ne+2]=Z>>>8,this[ne+3]=255&Z,ne+4},D.prototype.writeIntLE=function(Z,ne,ie,ee){if(Z=+Z,ne>>>=0,!ee){var X=Math.pow(2,8*ie-1);Ae(this,Z,ne,ie,X-1,-X)}var ue=0,ve=1,de=0;for(this[ne]=255&Z;++ue<ie&&(ve*=256);)Z<0&&0===de&&0!==this[ne+ue-1]&&(de=1),this[ne+ue]=(Z/ve>>0)-de&255;return ne+ie},D.prototype.writeIntBE=function(Z,ne,ie,ee){if(Z=+Z,ne>>>=0,!ee){var X=Math.pow(2,8*ie-1);Ae(this,Z,ne,ie,X-1,-X)}var ue=ie-1,ve=1,de=0;for(this[ne+ue]=255&Z;--ue>=0&&(ve*=256);)Z<0&&0===de&&0!==this[ne+ue+1]&&(de=1),this[ne+ue]=(Z/ve>>0)-de&255;return ne+ie},D.prototype.writeInt8=function(Z,ne,ie){return Z=+Z,ne>>>=0,ie||Ae(this,Z,ne,1,127,-128),Z<0&&(Z=255+Z+1),this[ne]=255&Z,ne+1},D.prototype.writeInt16LE=function(Z,ne,ie){return Z=+Z,ne>>>=0,ie||Ae(this,Z,ne,2,32767,-32768),this[ne]=255&Z,this[ne+1]=Z>>>8,ne+2},D.prototype.writeInt16BE=function(Z,ne,ie){return Z=+Z,ne>>>=0,ie||Ae(this,Z,ne,2,32767,-32768),this[ne]=Z>>>8,this[ne+1]=255&Z,ne+2},D.prototype.writeInt32LE=function(Z,ne,ie){return Z=+Z,ne>>>=0,ie||Ae(this,Z,ne,4,2147483647,-2147483648),this[ne]=255&Z,this[ne+1]=Z>>>8,this[ne+2]=Z>>>16,this[ne+3]=Z>>>24,ne+4},D.prototype.writeInt32BE=function(Z,ne,ie){return Z=+Z,ne>>>=0,ie||Ae(this,Z,ne,4,2147483647,-2147483648),Z<0&&(Z=4294967295+Z+1),this[ne]=Z>>>24,this[ne+1]=Z>>>16,this[ne+2]=Z>>>8,this[ne+3]=255&Z,ne+4},D.prototype.writeFloatLE=function(Z,ne,ie){return Ue(this,Z,ne,!0,ie)},D.prototype.writeFloatBE=function(Z,ne,ie){return Ue(this,Z,ne,!1,ie)},D.prototype.writeDoubleLE=function(Z,ne,ie){return ke(this,Z,ne,!0,ie)},D.prototype.writeDoubleBE=function(Z,ne,ie){return ke(this,Z,ne,!1,ie)},D.prototype.copy=function(Z,ne,ie,ee){if(!D.isBuffer(Z))throw new TypeError("argument should be a Buffer");if(ie||(ie=0),!ee&&0!==ee&&(ee=this.length),ne>=Z.length&&(ne=Z.length),ne||(ne=0),ee>0&&ee<ie&&(ee=ie),ee===ie||0===Z.length||0===this.length)return 0;if(ne<0)throw new RangeError("targetStart out of bounds");if(ie<0||ie>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),Z.length-ne<ee-ie&&(ee=Z.length-ne+ie);var X=ee-ie;return this===Z&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(ne,ie,ee):Uint8Array.prototype.set.call(Z,this.subarray(ie,ee),ne),X},D.prototype.fill=function(Z,ne,ie,ee){if("string"==typeof Z){if("string"==typeof ne?(ee=ne,ne=0,ie=this.length):"string"==typeof ie&&(ee=ie,ie=this.length),void 0!==ee&&"string"!=typeof ee)throw new TypeError("encoding must be a string");if("string"==typeof ee&&!D.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(1===Z.length){var X=Z.charCodeAt(0);("utf8"===ee&&X<128||"latin1"===ee)&&(Z=X)}}else"number"==typeof Z?Z&=255:"boolean"==typeof Z&&(Z=Number(Z));if(ne<0||this.length<ne||this.length<ie)throw new RangeError("Out of range index");if(ie<=ne)return this;var ue;if(ne>>>=0,ie=void 0===ie?this.length:ie>>>0,Z||(Z=0),"number"==typeof Z)for(ue=ne;ue<ie;++ue)this[ue]=Z;else{var ve=D.isBuffer(Z)?Z:D.from(Z,ee),de=ve.length;if(0===de)throw new TypeError('The value "'+Z+'" is invalid for argument "value"');for(ue=0;ue<ie-ne;++ue)this[ue+ne]=ve[ue%de]}return this};var we=/[^+/0-9A-Za-z-_]/g;function at(Q,Z){Z=Z||1/0;for(var ne,ie=Q.length,ee=null,X=[],ue=0;ue<ie;++ue){if((ne=Q.charCodeAt(ue))>55295&&ne<57344){if(!ee){if(ne>56319){(Z-=3)>-1&&X.push(239,191,189);continue}if(ue+1===ie){(Z-=3)>-1&&X.push(239,191,189);continue}ee=ne;continue}if(ne<56320){(Z-=3)>-1&&X.push(239,191,189),ee=ne;continue}ne=65536+(ee-55296<<10|ne-56320)}else ee&&(Z-=3)>-1&&X.push(239,191,189);if(ee=null,ne<128){if((Z-=1)<0)break;X.push(ne)}else if(ne<2048){if((Z-=2)<0)break;X.push(ne>>6|192,63&ne|128)}else if(ne<65536){if((Z-=3)<0)break;X.push(ne>>12|224,ne>>6&63|128,63&ne|128)}else{if(!(ne<1114112))throw new Error("Invalid code point");if((Z-=4)<0)break;X.push(ne>>18|240,ne>>12&63|128,ne>>6&63|128,63&ne|128)}}return X}function Te(Q){return t.toByteArray(function He(Q){if((Q=(Q=Q.split("=")[0]).trim().replace(we,"")).length<2)return"";for(;Q.length%4!=0;)Q+="=";return Q}(Q))}function W(Q,Z,ne,ie){for(var ee=0;ee<ie&&!(ee+ne>=Z.length||ee>=Q.length);++ee)Z[ee+ne]=Q[ee];return ee}function se(Q,Z){return Q instanceof Z||null!=Q&&null!=Q.constructor&&null!=Q.constructor.name&&Q.constructor.name===Z.name}function _e(Q){return Q!=Q}var J=function(){for(var Q="0123456789abcdef",Z=new Array(256),ne=0;ne<16;++ne)for(var ie=16*ne,ee=0;ee<16;++ee)Z[ie+ee]=Q[ne]+Q[ee];return Z}()},5094:Bn=>{window,Bn.exports=function(tt){var S={};function c(t){if(S[t])return S[t].exports;var b=S[t]={i:t,l:!1,exports:{}};return tt[t].call(b.exports,b,b.exports,c),b.l=!0,b.exports}return c.m=tt,c.c=S,c.d=function(t,b,w){c.o(t,b)||Object.defineProperty(t,b,{enumerable:!0,get:w})},c.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,b){if(1&b&&(t=c(t)),8&b||4&b&&"object"==typeof t&&t&&t.__esModule)return t;var w=Object.create(null);if(c.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:t}),2&b&&"string"!=typeof t)for(var E in t)c.d(w,E,function(F){return t[F]}.bind(null,E));return w},c.n=function(t){var b=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(b,"a",b),b},c.o=function(t,b){return Object.prototype.hasOwnProperty.call(t,b)},c.p="/dist/",c(c.s="./index.js")}({"./externals/base64.js":
/*!*****************************!*\
                  !*** ./externals/base64.js ***!
                  \*****************************/
/*! no static exports found */function(tt,S,c){var w,E,F,L,D,t_encode=function(w){for(var E=[],F=0;F<w.length;++F){var L=w.charCodeAt(F);L<128?E.push(L):L<2048?(E.push(192|L>>6),E.push(128|63&L)):L<65536?(E.push(224|L>>12),E.push(128|63&L>>6),E.push(128|63&L)):(E.push(240|L>>18),E.push(128|63&L>>12),E.push(128|63&L>>6),E.push(128|63&L))}return E},t_decode=function(w){for(var E=[],F=0;F<w.length;){var L=w[F++];L<128||(L<224?(L=(31&L)<<6,L|=63&w[F++]):L<240?(L=(15&L)<<12,L|=(63&w[F++])<<6,L|=63&w[F++]):(L=(7&L)<<18,L|=(63&w[F++])<<12,L|=(63&w[F++])<<6,L|=63&w[F++])),E.push(String.fromCharCode(L))}return E.join("")},b={};w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=function(f){for(var g=0,y=[],M=0|f.length/3;0<M--;){var U=(f[g]<<16)+(f[g+1]<<8)+f[g+2];g+=3,y.push(w.charAt(63&U>>18)),y.push(w.charAt(63&U>>12)),y.push(w.charAt(63&U>>6)),y.push(w.charAt(63&U))}return f.length-g==2?(y.push(w.charAt(63&(U=(f[g]<<16)+(f[g+1]<<8))>>18)),y.push(w.charAt(63&U>>12)),y.push(w.charAt(63&U>>6)),y.push("=")):f.length-g==1&&(y.push(w.charAt(63&(U=f[g]<<16)>>18)),y.push(w.charAt(63&U>>12)),y.push("==")),y.join("")},F=function(){for(var p=[],f=0;f<64;++f)p[w.charCodeAt(f)]=f;return p["=".charCodeAt(0)]=0,p}(),L=function(f){for(var g=0,y=[],M=0|f.length/4;0<M--;){var U=(F[f.charCodeAt(g)]<<18)+(F[f.charCodeAt(g+1)]<<12)+(F[f.charCodeAt(g+2)]<<6)+F[f.charCodeAt(g+3)];y.push(255&U>>16),y.push(255&U>>8),y.push(255&U),g+=4}return y&&("="==f.charAt(g-2)?(y.pop(),y.pop()):"="==f.charAt(g-1)&&y.pop()),y},D={encode:function(p){for(var f=[],g=0;g<p.length;++g)f.push(p.charCodeAt(g));return f},decode:function(p){for(var f=0;f<s.length;++f)a[f]=String.fromCharCode(a[f]);return a.join("")}},b.decodeArray=function(p){var f=L(p);return new Uint8Array(f)},b.encodeASCII=function(p){var f=D.encode(p);return E(f)},b.decodeASCII=function(p){var f=L(p);return D.decode(f)},b.encode=function(p){var f=t_encode(p);return E(f)},b.decode=function(p){var f=L(p);return t_decode(f)},S.decode=b.decode,S.decodeArray=b.decodeArray,S.encode=b.encode,S.encodeASCII=b.encodeASCII},"./externals/cea608-parser.js":
/*!************************************!*\
                  !*** ./externals/cea608-parser.js ***!
                  \************************************/
/*! no static exports found */function(tt,S,c){!function(t){"use strict";var b={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},w=function(C){var B=C;return b.hasOwnProperty(C)&&(B=b[C]),String.fromCharCode(B)},E=15,F=32,L={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},D={17:2,18:4,21:6,22:8,23:10,19:13,20:15},p={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},f={25:2,26:4,29:6,30:8,31:10,27:13,28:15},g=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],y={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(C){this.time=C},log:function(C,B){this.verboseLevel>=this.verboseFilter[C]&&console.log(this.time+" ["+C+"] "+B)}},M=function(C){for(var B=[],Y=0;Y<C.length;Y++)B.push(C[Y].toString(16));return B},U=function(C,B,Y,q,le){this.foreground=C||"white",this.underline=B||!1,this.italics=Y||!1,this.background=q||"black",this.flash=le||!1};U.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(C){for(var B=["foreground","underline","italics","background","flash"],Y=0;Y<B.length;Y++){var q=B[Y];C.hasOwnProperty(q)&&(this[q]=C[q])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(C){return this.foreground===C.foreground&&this.underline===C.underline&&this.italics===C.italics&&this.background===C.background&&this.flash===C.flash},copy:function(C){this.foreground=C.foreground,this.underline=C.underline,this.italics=C.italics,this.background=C.background,this.flash=C.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var R=function(C,B,Y,q,le,Fe){this.uchar=C||" ",this.penState=new U(B,Y,q,le,Fe)};R.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(C,B){this.uchar=C,this.penState.copy(B)},setPenState:function(C){this.penState.copy(C)},equals:function(C){return this.uchar===C.uchar&&this.penState.equals(C.penState)},copy:function(C){this.uchar=C.uchar,this.penState.copy(C.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var V=function(){this.chars=[];for(var C=0;C<F;C++)this.chars.push(new R);this.pos=0,this.currPenState=new U};V.prototype={equals:function(C){for(var B=!0,Y=0;Y<F;Y++)if(!this.chars[Y].equals(C.chars[Y])){B=!1;break}return B},copy:function(C){for(var B=0;B<F;B++)this.chars[B].copy(C.chars[B])},isEmpty:function(){for(var C=!0,B=0;B<F;B++)if(!this.chars[B].isEmpty()){C=!1;break}return C},setCursor:function(C){this.pos!==C&&(this.pos=C),this.pos<0?(y.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>F&&(y.log("ERROR","Too large cursor position "+this.pos),this.pos=F)},moveCursor:function(C){var B=this.pos+C;if(C>1)for(var Y=this.pos+1;Y<B+1;Y++)this.chars[Y].setPenState(this.currPenState);this.setCursor(B)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(C){C>=144&&this.backSpace();var B=w(C);this.pos>=F?y.log("ERROR","Cannot insert "+C.toString(16)+" ("+B+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(B,this.currPenState),this.moveCursor(1))},clearFromPos:function(C){var B;for(B=C;B<F;B++)this.chars[B].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var C=[],B=!0,Y=0;Y<F;Y++){var q=this.chars[Y].uchar;" "!==q&&(B=!1),C.push(q)}return B?"":C.join("")},setPenStyles:function(C){this.currPenState.setStyles(C),this.chars[this.pos].setPenState(this.currPenState)}};var k=function(){this.rows=[];for(var C=0;C<E;C++)this.rows.push(new V);this.currRow=14,this.nrRollUpRows=null,this.reset()};k.prototype={reset:function(){for(var C=0;C<E;C++)this.rows[C].clear();this.currRow=14},equals:function(C){for(var B=!0,Y=0;Y<E;Y++)if(!this.rows[Y].equals(C.rows[Y])){B=!1;break}return B},copy:function(C){for(var B=0;B<E;B++)this.rows[B].copy(C.rows[B])},isEmpty:function(){for(var C=!0,B=0;B<E;B++)if(!this.rows[B].isEmpty()){C=!1;break}return C},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(C){this.rows[this.currRow].insertChar(C)},setPen:function(C){this.rows[this.currRow].setPenStyles(C)},moveCursor:function(C){this.rows[this.currRow].moveCursor(C)},setCursor:function(C){y.log("INFO","setCursor: "+C),this.rows[this.currRow].setCursor(C)},setPAC:function(C){y.log("INFO","pacData = "+JSON.stringify(C));var B=C.row-1;this.nrRollUpRows&&B<this.nrRollUpRows-1&&(B=this.nrRollUpRows-1),this.currRow=B;var Y=this.rows[this.currRow];if(null!==C.indent){var le=Math.max(C.indent-1,0);Y.setCursor(C.indent),C.color=Y.chars[le].penState.foreground}this.setPen({foreground:C.color,underline:C.underline,italics:C.italics,background:"black",flash:!1})},setBkgData:function(C){y.log("INFO","bkgData = "+JSON.stringify(C)),this.backSpace(),this.setPen(C),this.insertChar(32)},setRollUpRows:function(C){this.nrRollUpRows=C},rollUp:function(){if(null!==this.nrRollUpRows){y.log("TEXT",this.getDisplayText());var B=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];B.clear(),this.rows.splice(this.currRow,0,B),y.log("INFO","Rolling up")}else y.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(C){C=C||!1;for(var B=[],Y="",le=0;le<E;le++){var Fe=this.rows[le].getTextString();Fe&&B.push(C?"Row "+(le+1)+': "'+Fe+'"':Fe.trim())}return B.length>0&&(Y=C?"["+B.join(" | ")+"]":B.join("\n")),Y},getTextAndFormat:function(){return this.rows}};var O=function(C,B){this.chNr=C,this.outputFilter=B,this.mode=null,this.verbose=0,this.displayedMemory=new k,this.nonDisplayedMemory=new k,this.lastOutputScreen=new k,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};O.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(C){this.outputFilter=C},setPAC:function(C){this.writeScreen.setPAC(C)},setBkgData:function(C){this.writeScreen.setBkgData(C)},setMode:function(C){C!==this.mode&&(this.mode=C,y.log("INFO","MODE="+C),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=C)},insertChars:function(C){for(var B=0;B<C.length;B++)this.writeScreen.insertChar(C[B]);y.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(y.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){y.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){y.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){y.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(C){y.log("INFO","RU("+C+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(C)},cc_FON:function(){y.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){y.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){y.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){y.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){y.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){y.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){y.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(y.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var C=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=C,this.writeScreen=this.nonDisplayedMemory,y.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(C){y.log("INFO","TO("+C+") - Tab Offset"),this.writeScreen.moveCursor(C)},cc_MIDROW:function(C){var B={flash:!1};if(B.underline=C%2==1,B.italics=C>=46,B.italics)B.foreground="white";else{var Y=Math.floor(C/2)-16;B.foreground=["white","green","blue","cyan","red","yellow","magenta"][Y]}y.log("INFO","MIDROW: "+JSON.stringify(B)),this.writeScreen.setPen(B)},outputDataUpdate:function(){var C=y.time;null!==C&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(C,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,C,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:C):this.cueStartTime=C,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(C){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,C,this.displayedMemory),this.cueStartTime=C))}};var x=function(C,B,Y){this.field=C||1,this.outputs=[B,Y],this.channels=[new O(1,B),new O(2,Y)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};x.prototype={getHandler:function(C){return this.channels[C].getHandler()},setHandler:function(C,B){this.channels[C].setHandler(B)},addData:function(C,B){var Y,q,le,Fe=!1;this.lastTime=C,y.setTime(C);for(var $=0;$<B.length;$+=2)le=127&B[$+1],(q=127&B[$])>=16&&q<=31&&q===this.lastCmdA&&le===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,y.log("DEBUG","Repeated command ("+M([q,le])+") is dropped")):0!==q||0!==le?(y.log("DATA","["+M([B[$],B[$+1]])+"] -> ("+M([q,le])+")"),(Y=this.parseCmd(q,le))||(Y=this.parseMidrow(q,le)),Y||(Y=this.parsePAC(q,le)),Y||(Y=this.parseBackgroundAttributes(q,le)),!Y&&(Fe=this.parseChars(q,le))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(Fe):y.log("WARNING","No channel found yet. TEXT-MODE?")),Y?this.dataCounters.cmd+=2:Fe?this.dataCounters.char+=2:(this.dataCounters.other+=2,y.log("WARNING","Couldn't parse cleaned data "+M([q,le])+" orig: "+M([B[$],B[$+1]])))):this.dataCounters.padding+=2},parseCmd:function(C,B){var Y;if(!((20===C||21===C||28===C||29===C)&&32<=B&&B<=47||(23===C||31===C)&&33<=B&&B<=35))return!1;var Fe=this.channels[(Y=20===C||21===C||23===C?1:2)-1];return 20===C||21===C||28===C||29===C?32===B?Fe.cc_RCL():33===B?Fe.cc_BS():34===B?Fe.cc_AOF():35===B?Fe.cc_AON():36===B?Fe.cc_DER():37===B?Fe.cc_RU(2):38===B?Fe.cc_RU(3):39===B?Fe.cc_RU(4):40===B?Fe.cc_FON():41===B?Fe.cc_RDC():42===B?Fe.cc_TR():43===B?Fe.cc_RTD():44===B?Fe.cc_EDM():45===B?Fe.cc_CR():46===B?Fe.cc_ENM():47===B&&Fe.cc_EOC():Fe.cc_TO(B-32),this.lastCmdA=C,this.lastCmdB=B,this.currChNr=Y,!0},parseMidrow:function(C,B){var Y=null;if((17===C||25===C)&&32<=B&&B<=47){if((Y=17===C?1:2)!==this.currChNr)return y.log("ERROR","Mismatch channel in midrow parsing"),!1;var q=this.channels[Y-1];return q.insertChars([32]),q.cc_MIDROW(B),y.log("DEBUG","MIDROW ("+M([C,B])+")"),this.lastCmdA=C,this.lastCmdB=B,!0}return!1},parsePAC:function(C,B){var Y;if(!((17<=C&&C<=23||25<=C&&C<=31)&&64<=B&&B<=127||(16===C||24===C)&&64<=B&&B<=95))return!1;Y=C<=23?1:2;var $=this.interpretPAC(64<=B&&B<=95?1===Y?L[C]:p[C]:1===Y?D[C]:f[C],B);return this.channels[Y-1].setPAC($),this.lastCmdA=C,this.lastCmdB=B,this.currChNr=Y,!0},interpretPAC:function(C,B){var Y,q={color:null,italics:!1,indent:null,underline:!1,row:C};return q.underline=1==(1&(Y=B>95?B-96:B-64)),Y<=13?q.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(Y/2)]:Y<=15?(q.italics=!0,q.color="white"):q.indent=4*Math.floor((Y-16)/2),q},parseChars:function(C,B){var Y=null,q=null,le=null;if(C>=25?(Y=2,le=C-8):(Y=1,le=C),17<=le&&le<=19){var $;y.log("INFO","Special char '"+w($=17===le?B+80:18===le?B+112:B+144)+"' in channel "+Y),q=[$],this.lastCmdA=C,this.lastCmdB=B}else 32<=C&&C<=127&&(q=0===B?[C]:[C,B],this.lastCmdA=null,this.lastCmdB=null);if(q){var ae=M(q);y.log("DEBUG","Char codes =  "+ae.join(","))}return q},parseBackgroundAttributes:function(C,B){var Y,q;return!!((16===C||24===C)&&32<=B&&B<=47||(23===C||31===C)&&45<=B&&B<=47)&&(Y={},16===C||24===C?(q=Math.floor((B-32)/2),Y.background=g[q],B%2==1&&(Y.background=Y.background+"_semi")):45===B?Y.background="transparent":(Y.foreground="black",47===B&&(Y.underline=!0)),this.channels[(C<24?1:2)-1].setBkgData(Y),this.lastCmdA=C,this.lastCmdB=B,!0)},reset:function(){for(var C=0;C<this.channels.length;C++)this.channels[C]&&this.channels[C].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(C){for(var B=0;B<this.channels.length;B++)this.channels[B]&&this.channels[B].cueSplitAtTime(C)}};t.logger=y,t.PenState=U,t.CaptionScreen=k,t.Cea608Parser=x,t.findCea608Nalus=function(C,B,Y){for(var q=0,le=B,$=[],ae=function(Le,fe,Re,Ae){if(4!==Le||fe<8)return null;var pe=Re.getUint8(Ae),Ue=Re.getUint16(Ae+1),ke=Re.getUint32(Ae+3),we=Re.getUint8(Ae+7);return 181==pe&&49==Ue&&1195456820==ke&&3==we};le<B+Y;){if(q=C.getUint32(le),6==(31&C.getUint8(le+4)))for(var K=le+5,ge=-1;K<le+4+q-1;){ge=0;for(var oe=255;255===oe;)ge+=oe=C.getUint8(K),K++;var he=0;for(oe=255;255===oe;)he+=oe=C.getUint8(K),K++;ae(ge,he,C,K)&&$.push([K,he]),K+=he}le+=q+4}return $},t.extractCea608DataFromRange=function(C,B){var Y=B[0],q=[[],[]],le=31&C.getUint8(Y+=8);Y+=2;for(var Fe=0;Fe<le;Fe++){var $=C.getUint8(Y),ae=4&$,K=3&$;Y++;var ge=C.getUint8(Y);Y++;var oe=C.getUint8(Y);Y++,ae&&(127&ge)+(127&oe)!=0&&(0===K?(q[0].push(ge),q[0].push(oe)):1===K&&(q[1].push(ge),q[1].push(oe)))}return q}}(S)},"./externals/xml2json.js":
/*!*******************************!*\
                  !*** ./externals/xml2json.js ***!
                  \*******************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S),S.default=function t(b){b=b||{},function E(){void 0===b.escapeMode&&(b.escapeMode=!0),void 0===b.attributePrefix&&(b.attributePrefix="_"),b.arrayAccessForm=b.arrayAccessForm||"none",b.emptyNodeForm=b.emptyNodeForm||"text",void 0===b.enableToStringFunc&&(b.enableToStringFunc=!0),b.arrayAccessFormPaths=b.arrayAccessFormPaths||[],void 0===b.skipEmptyTextNodesForObj&&(b.skipEmptyTextNodesForObj=!0),void 0===b.stripWhitespaces&&(b.stripWhitespaces=!0),b.datetimeAccessFormPaths=b.datetimeAccessFormPaths||[],void 0===b.useDoubleQuotes&&(b.useDoubleQuotes=!1),b.xmlElementsFilter=b.xmlElementsFilter||[],b.jsonPropertiesFilter=b.jsonPropertiesFilter||[],void 0===b.keepCData&&(b.keepCData=!1),void 0===b.ignoreRoot&&(b.ignoreRoot=!1)}();var F={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function D(ae){var K=ae.localName;return null==K&&(K=ae.baseName),(null==K||""==K)&&(K=ae.nodeName),K}function f(ae){return"string"==typeof ae?ae.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):ae}function y(ae,K,ge,oe){for(var he=0;he<ae.length;he++){var Ce=ae[he];if("string"==typeof Ce){if(Ce==oe)break}else if(Ce instanceof RegExp){if(Ce.test(oe))break}else if("function"==typeof Ce&&Ce(K,ge,oe))break}return he!=ae.length}function M(ae,K,ge){"property"===b.arrayAccessForm&&(ae[K+"_asArray"]=ae[K]instanceof Array?ae[K]:[ae[K]]),!(ae[K]instanceof Array)&&b.arrayAccessFormPaths.length>0&&y(b.arrayAccessFormPaths,ae,K,ge)&&(ae[K]=[ae[K]])}function U(ae){var K=ae.split(/[-T:+Z]/g),ge=new Date(K[0],K[1]-1,K[2]),oe=K[5].split(".");if(ge.setHours(K[3],K[4],oe[0]),oe.length>1&&ge.setMilliseconds(oe[1]),K[6]&&K[7]){var he=60*K[6]+Number(K[7]);he=0+("-"==(/\d\d-\d\d:\d\d$/.test(ae)?"-":"+")?-1*he:he),ge.setMinutes(ge.getMinutes()-he-ge.getTimezoneOffset())}else-1!==ae.indexOf("Z",ae.length-1)&&(ge=new Date(Date.UTC(ge.getFullYear(),ge.getMonth(),ge.getDate(),ge.getHours(),ge.getMinutes(),ge.getSeconds(),ge.getMilliseconds())));return ge}function V(ae,K,ge,oe){return!(K==F.ELEMENT_NODE&&b.xmlElementsFilter.length>0)||y(b.xmlElementsFilter,ae,ge,oe)}function k(ae,K){if(ae.nodeType==F.DOCUMENT_NODE){for(var ge=new Object,oe=ae.childNodes,he=0;he<oe.length;he++)(Ce=oe[he]).nodeType==F.ELEMENT_NODE&&(b.ignoreRoot?ge=k(Ce):(ge={})[Le=D(Ce)]=k(Ce));return ge}if(ae.nodeType==F.ELEMENT_NODE){(ge=new Object).__cnt=0;var fe=[];for(oe=ae.childNodes,he=0;he<oe.length;he++){var Ce,Le=D(Ce=oe[he]);if(Ce.nodeType!=F.COMMENT_NODE){var Re=K+"."+Le;if(V(ge,Ce.nodeType,Le,Re))if(ge.__cnt++,null==ge[Le]){var Ae=k(Ce,Re);("#text"!=Le||/[^\s]/.test(Ae))&&((pe={})[Le]=Ae,fe.push(pe)),ge[Le]=Ae,M(ge,Le,Re)}else{var pe;null!=ge[Le]&&(ge[Le]instanceof Array||(ge[Le]=[ge[Le]],M(ge,Le,Re))),Ae=k(Ce,Re),("#text"!=Le||/[^\s]/.test(Ae))&&((pe={})[Le]=Ae,fe.push(pe)),ge[Le][ge[Le].length]=Ae}}}ge.__children=fe;for(var Ue=D(ae),ke=0;ke<ae.attributes.length;ke++){var we=ae.attributes[ke];ge.__cnt++;for(var He=we.value,at=0,Je=b.matchers.length;at<Je;at++){var Ne=b.matchers[at];Ne.test(we,Ue)&&(He=Ne.converter(we.value))}ge[b.attributePrefix+we.name]=He}var Te=function p(ae){return ae.prefix}(ae);return null!=Te&&""!=Te&&(ge.__cnt++,ge.__prefix=Te),null!=ge["#text"]&&(ge.__text=ge["#text"],ge.__text instanceof Array&&(ge.__text=ge.__text.join("\n")),b.stripWhitespaces&&(ge.__text=ge.__text.trim()),delete ge["#text"],"property"==b.arrayAccessForm&&delete ge["#text_asArray"],ge.__text=function R(ae,K,ge){if(b.datetimeAccessFormPaths.length>0){var oe=ge.split(".#")[0];return y(b.datetimeAccessFormPaths,ae,K,oe)?U(ae):ae}return ae}(ge.__text,Le,K+"."+Le)),null!=ge["#cdata-section"]&&(ge.__cdata=ge["#cdata-section"],delete ge["#cdata-section"],"property"==b.arrayAccessForm&&delete ge["#cdata-section_asArray"]),0==ge.__cnt&&"text"==b.emptyNodeForm?ge="":1==ge.__cnt&&null!=ge.__text?ge=ge.__text:1!=ge.__cnt||null==ge.__cdata||b.keepCData?ge.__cnt>1&&null!=ge.__text&&b.skipEmptyTextNodesForObj&&(b.stripWhitespaces&&""==ge.__text||""==ge.__text.trim())&&delete ge.__text:ge=ge.__cdata,delete ge.__cnt,b.enableToStringFunc&&(null!=ge.__text||null!=ge.__cdata)&&(ge.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),ge}if(ae.nodeType==F.TEXT_NODE||ae.nodeType==F.CDATA_SECTION_NODE)return ae.nodeValue}function O(ae,K,ge,oe){var he="<"+(null!=ae&&null!=ae.__prefix?ae.__prefix+":":"")+K;if(null!=ge)for(var Ce=0;Ce<ge.length;Ce++){var Le=ge[Ce],fe=ae[Le];b.escapeMode&&(fe=f(fe)),he+=" "+Le.substr(b.attributePrefix.length)+"=",he+=b.useDoubleQuotes?'"'+fe+'"':"'"+fe+"'"}return he+(oe?"/>":">")}function x(ae,K){return"</"+(null!=ae.__prefix?ae.__prefix+":":"")+K+">"}function T(ae,K){return!!("property"==b.arrayAccessForm&&function P(ae,K){return-1!==ae.indexOf(K,ae.length-K.length)}(K.toString(),"_asArray")||0==K.toString().indexOf(b.attributePrefix)||0==K.toString().indexOf("__")||ae[K]instanceof Function)}function N(ae){var K=0;if(ae instanceof Object)for(var ge in ae)T(ae,ge)||K++;return K}function C(ae,K,ge){return 0==b.jsonPropertiesFilter.length||""==ge||y(b.jsonPropertiesFilter,ae,K,ge)}function B(ae){var K=[];if(ae instanceof Object)for(var ge in ae)-1==ge.toString().indexOf("__")&&0==ge.toString().indexOf(b.attributePrefix)&&K.push(ge);return K}function q(ae){var K="";return ae instanceof Object?K+=function Y(ae){var K="";return null!=ae.__cdata&&(K+="<![CDATA["+ae.__cdata+"]]>"),null!=ae.__text&&(K+=b.escapeMode?f(ae.__text):ae.__text),K}(ae):null!=ae&&(K+=b.escapeMode?f(ae):ae),K}function le(ae,K){return""===ae?K:ae+"."+K}function Fe(ae,K,ge,oe){var he="";if(0==ae.length)he+=O(ae,K,ge,!0);else for(var Ce=0;Ce<ae.length;Ce++)he+=O(ae[Ce],K,B(ae[Ce]),!1),he+=$(ae[Ce],le(oe,K)),he+=x(ae[Ce],K);return he}function $(ae,K){var ge="";if(N(ae)>0)for(var he in ae)if(!T(ae,he)&&(""==K||C(ae,he,le(K,he)))){var Ce=ae[he],Le=B(Ce);null==Ce||null==Ce?ge+=O(Ce,he,Le,!0):Ce instanceof Object?Ce instanceof Array?ge+=Fe(Ce,he,Le,K):Ce instanceof Date?(ge+=O(Ce,he,Le,!1),ge+=Ce.toISOString(),ge+=x(Ce,he)):N(Ce)>0||null!=Ce.__text||null!=Ce.__cdata?(ge+=O(Ce,he,Le,!1),ge+=$(Ce,le(K,he)),ge+=x(Ce,he)):ge+=O(Ce,he,Le,!0):(ge+=O(Ce,he,Le,!1),ge+=q(Ce),ge+=x(Ce,he))}return ge+q(ae)}this.parseXmlString=function(ae){var ge;if(window.ActiveXObject||window,void 0===ae)return null;if(window.DOMParser){var oe=new window.DOMParser;try{(ge=oe.parseFromString(ae,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(ge=null)}catch{ge=null}}else 0==ae.indexOf("<?")&&(ae=ae.substr(ae.indexOf("?>")+2)),(ge=new ActiveXObject("Microsoft.XMLDOM")).async="false",ge.loadXML(ae);return ge},this.asArray=function(ae){return void 0===ae||null==ae?[]:ae instanceof Array?ae:[ae]},this.toXmlDateTime=function(ae){return ae instanceof Date?ae.toISOString():"number"==typeof ae?new Date(ae).toISOString():null},this.asDateTime=function(ae){return"string"==typeof ae?U(ae):ae},this.xml2json=function(ae){return k(ae)},this.xml_str2json=function(ae){var K=this.parseXmlString(ae);return null!=K?this.xml2json(K):null},this.json2xml_str=function(ae){return $(ae,"")},this.json2xml=function(ae){var K=this.json2xml_str(ae);return this.parseXmlString(K)},this.getVersion=function(){return"1.2.0"}}},"./index.js":
/*!******************!*\
                  !*** ./index.js ***!
                  \******************/
/*! exports provided: default, MediaPlayer, Protection, MetricsReporting, MediaPlayerFactory, Debug, supportsMediaSource */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./index_mediaplayerOnly */
"./index_mediaplayerOnly.js");c.d(S,"MediaPlayer",function(){return t.MediaPlayer});var b=c(
/*! ./src/streaming/utils/Capabilities */
"./src/streaming/utils/Capabilities.js");c.d(S,"supportsMediaSource",function(){return b.supportsMediaSource});var w=c(
/*! ./src/streaming/metrics/MetricsReporting */
"./src/streaming/metrics/MetricsReporting.js");c.d(S,"MetricsReporting",function(){return w.default});var E=c(
/*! ./src/streaming/protection/Protection */
"./src/streaming/protection/Protection.js");c.d(S,"Protection",function(){return E.default});var F=c(
/*! ./src/streaming/MediaPlayerFactory */
"./src/streaming/MediaPlayerFactory.js");c.d(S,"MediaPlayerFactory",function(){return F.default});var L=c(
/*! ./src/core/Debug */
"./src/core/Debug.js");c.d(S,"Debug",function(){return L.default}),dashjs.Protection=E.default,dashjs.MetricsReporting=w.default,dashjs.MediaPlayerFactory=F.default,dashjs.Debug=L.default,dashjs.supportsMediaSource=b.supportsMediaSource,S.default=dashjs},"./index_mediaplayerOnly.js":
/*!**********************************!*\
                  !*** ./index_mediaplayerOnly.js ***!
                  \**********************************/
/*! exports provided: default, MediaPlayer, FactoryMaker, Debug */function(tt,S,c){"use strict";c.r(S),function(t){var b=c(
/*! ./src/streaming/MediaPlayer */
"./src/streaming/MediaPlayer.js");c.d(S,"MediaPlayer",function(){return b.default});var w=c(
/*! ./src/core/FactoryMaker */
"./src/core/FactoryMaker.js");c.d(S,"FactoryMaker",function(){return w.default});var E=c(
/*! ./src/core/Debug */
"./src/core/Debug.js");c.d(S,"Debug",function(){return E.default});var F=c(
/*! ./src/core/Version */
"./src/core/Version.js"),p=(c(
/*! es6-promise/auto */
"./node_modules/es6-promise/auto.js"),typeof window<"u"&&window||t),f=p.dashjs;f||(f=p.dashjs={}),f.MediaPlayer=b.default,f.FactoryMaker=w.default,f.Debug=E.default,f.Version=Object(F.getVersionString)(),S.default=f}.call(this,c(
/*! ./node_modules/webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/base64-js/index.js":
/*!*****************************************!*\
                  !*** ./node_modules/base64-js/index.js ***!
                  \*****************************************/
/*! no static exports found */function(tt,S,c){"use strict";S.byteLength=function p(R){var V=D(R),O=V[1];return 3*(V[0]+O)/4-O},S.toByteArray=function g(R){var V,C,k=D(R),O=k[0],x=k[1],P=new w(function f(R,V,k){return 3*(V+k)/4-k}(0,O,x)),T=0,N=x>0?O-4:O;for(C=0;C<N;C+=4)V=b[R.charCodeAt(C)]<<18|b[R.charCodeAt(C+1)]<<12|b[R.charCodeAt(C+2)]<<6|b[R.charCodeAt(C+3)],P[T++]=V>>16&255,P[T++]=V>>8&255,P[T++]=255&V;return 2===x&&(V=b[R.charCodeAt(C)]<<2|b[R.charCodeAt(C+1)]>>4,P[T++]=255&V),1===x&&(V=b[R.charCodeAt(C)]<<10|b[R.charCodeAt(C+1)]<<4|b[R.charCodeAt(C+2)]>>2,P[T++]=V>>8&255,P[T++]=255&V),P},S.fromByteArray=function U(R){for(var V,k=R.length,O=k%3,x=[],P=16383,T=0,N=k-O;T<N;T+=P)x.push(M(R,T,T+P>N?N:T+P));return 1===O?x.push(t[(V=R[k-1])>>2]+t[V<<4&63]+"=="):2===O&&x.push(t[(V=(R[k-2]<<8)+R[k-1])>>10]+t[V>>4&63]+t[V<<2&63]+"="),x.join("")};for(var t=[],b=[],w=typeof Uint8Array<"u"?Uint8Array:Array,E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F=0;F<64;++F)t[F]=E[F],b[E.charCodeAt(F)]=F;function D(R){var V=R.length;if(V%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=R.indexOf("=");return-1===k&&(k=V),[k,k===V?0:4-k%4]}function y(R){return t[R>>18&63]+t[R>>12&63]+t[R>>6&63]+t[63&R]}function M(R,V,k){for(var x=[],P=V;P<k;P+=3)x.push(y((R[P]<<16&16711680)+(R[P+1]<<8&65280)+(255&R[P+2])));return x.join("")}b["-".charCodeAt(0)]=62,b["_".charCodeAt(0)]=63},"./node_modules/bcp-47-match/index.js":
/*!********************************************!*\
                  !*** ./node_modules/bcp-47-match/index.js ***!
                  \********************************************/
/*! no static exports found */function(tt,S,c){"use strict";function E(L,D){return function p(f,g){for(var V,k,O,y=F(f,"tag"),M=F(g??"*","range"),U=[],R=-1;++R<M.length;)if(V=M[R].toLowerCase(),D||"*"!==V){for(k=-1,O=[];++k<y.length;)if(L(y[k].toLowerCase(),V)){if(!D)return y[k];U.push(y[k])}else O.push(y[k]);y=O}return D?U:void 0}}function F(L,D){var p=L&&"string"==typeof L?[L]:L;if(!p||"object"!=typeof p||!("length"in p))throw new Error("Invalid "+D+" `"+p+"`, expected non-empty string");return p}S.basicFilter=E(function t(L,D){return"*"===D||L===D||L.indexOf(D+"-")>-1},!0),S.extendedFilter=E(function b(L,D){var p=L.split("-"),f=D.split("-"),g=0,y=0;if("*"!==f[y]&&p[g]!==f[y])return!1;for(g++,y++;y<f.length;)if("*"!==f[y]){if(!p[g])return!1;if(p[g]!==f[y]){if(1===p[g].length)return!1;g++}else g++,y++}else y++;return!0},!0),S.lookup=E(function w(L,D){for(var f,p=D;;){if("*"===p||L===p)return!0;if((f=p.lastIndexOf("-"))<0)return!1;"-"===p.charAt(f-2)&&(f-=2),p=p.slice(0,f)}})},"./node_modules/bcp-47-normalize/index.js":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/index.js ***!
                  \************************************************/
/*! no static exports found */function(tt,S,c){"use strict";tt.exports=c(
/*! ./lib */
"./node_modules/bcp-47-normalize/lib/index.js")},"./node_modules/bcp-47-normalize/lib/defaults.json":
/*!*********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/defaults.json ***!
                  \*********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, default */function(tt){tt.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},"./node_modules/bcp-47-normalize/lib/fields.json":
/*!*******************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/fields.json ***!
                  \*******************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, default */function(tt){tt.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},"./node_modules/bcp-47-normalize/lib/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/index.js ***!
                  \****************************************************/
/*! no static exports found */function(tt,S,c){"use strict";var t=c(
/*! bcp-47 */
"./node_modules/bcp-47/index.js"),b=c(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js"),w=c(
/*! ./matches.json */
"./node_modules/bcp-47-normalize/lib/matches.json"),E=c(
/*! ./fields.json */
"./node_modules/bcp-47-normalize/lib/fields.json"),F=c(
/*! ./defaults.json */
"./node_modules/bcp-47-normalize/lib/defaults.json"),L=c(
/*! ./many.json */
"./node_modules/bcp-47-normalize/lib/many.json");tt.exports=function g(V,k){var N,O=k||{},x=t.parse(String(V||"").toLowerCase(),O),P=t.stringify(x),T=-1;if(!P)return P;for(;++T<w.length;)b.extendedFilter(P,w[T].from).length&&(y(x,w[T].from,w[T].to),P=t.stringify(x));for(T=-1;++T<E.length;)M(x,E[T].from.field,E[T].from.value)&&U(x,E[T].to.field,E[T].to.value);for(P=t.stringify(Object.assign({},x,f)),T=-1;++T<F.length;)P===F[T]&&(y(x,F[T],F[T].split("-").slice(0,-1).join("-")),P=t.stringify(Object.assign({},x,f)));if(x.extensions.sort(R),O.warning)for(N in L)D.call(L[N],x[N])&&O.warning("Deprecated "+N+" `"+x[N]+"`, expected one of `"+L[N][x[N]].join("`, `")+"`",null,7);return x.script&&(x.script=x.script.charAt(0).toUpperCase()+x.script.slice(1)),x.region&&(x.region=x.region.toUpperCase()),t.stringify(x)};var D={}.hasOwnProperty,p=new Intl.Collator,f={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function y(V,k,O){var N,x=t.parse(k),P=t.parse(O),T=[];for(N in x)x[N]&&x[N].length&&M(V,N,x[N])&&T.push(N);for(N in P)P[N]&&P[N].length&&(T.indexOf(N)>-1||!V[N]||!V[N].length)&&U(V,N,P[N])}function M(V,k,O){var P,T,N,C,x=!1;if(O){if(T=P=V[k],P&&"object"==typeof P)for(T=[],N=-1;++N<P.length;)O.indexOf(C=P[N])<0?T.push(C):x=!0;else P===O&&(T=null,x=!0);V[k]=T}return x}function U(V,k,O){var P,T,N,x=V[k];if(x&&"object"==typeof x)for(P=[].concat(O),T=-1;++T<P.length;)x.indexOf(N=P[T])<0&&x.push(N);else V[k]=O}function R(V,k){return p.compare(V.singleton,k.singleton)}},"./node_modules/bcp-47-normalize/lib/many.json":
/*!*****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/many.json ***!
                  \*****************************************************/
/*! exports provided: region, default */function(tt){tt.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},"./node_modules/bcp-47-normalize/lib/matches.json":
/*!********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/matches.json ***!
                  \********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, default */function(tt){tt.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},"./node_modules/bcp-47/index.js":
/*!**************************************!*\
                  !*** ./node_modules/bcp-47/index.js ***!
                  \**************************************/
/*! no static exports found */function(tt,S,c){"use strict";S.parse=c(
/*! ./lib/parse */
"./node_modules/bcp-47/lib/parse.js"),S.stringify=c(
/*! ./lib/stringify */
"./node_modules/bcp-47/lib/stringify.js")},"./node_modules/bcp-47/lib/normalize.json":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47/lib/normalize.json ***!
                  \************************************************/
/*! exports provided: en-gb-oed, i-ami, i-bnn, i-default, i-enochian, i-hak, i-klingon, i-lux, i-mingo, i-navajo, i-pwn, i-tao, i-tay, i-tsu, sgn-be-fr, sgn-be-nl, sgn-ch-de, art-lojban, cel-gaulish, no-bok, no-nyn, zh-guoyu, zh-hakka, zh-min, zh-min-nan, zh-xiang, default */function(tt){tt.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},"./node_modules/bcp-47/lib/parse.js":
/*!******************************************!*\
                  !*** ./node_modules/bcp-47/lib/parse.js ***!
                  \******************************************/
/*! no static exports found */function(tt,S,c){"use strict";var t=c(
/*! is-alphanumerical */
"./node_modules/is-alphanumerical/index.js"),b=c(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),w=c(
/*! is-decimal */
"./node_modules/is-decimal/index.js"),E=c(
/*! ./regular.json */
"./node_modules/bcp-47/lib/regular.json"),F=c(
/*! ./normalize.json */
"./node_modules/bcp-47/lib/normalize.json");tt.exports=function D(f,g){var k,O,x,y=g||{},M={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},U=String(f),R=U.toLowerCase(),V=0;if(null==f)throw new Error("Expected string, got `"+f+"`");if(L.call(F,R))return(null==y.normalize||y.normalize)&&F[R]?D(F[R]):(M[-1===E.indexOf(R)?"irregular":"regular"]=U,M);for(;b(R.charCodeAt(V))&&V<9;)V++;if(V>1&&V<9){if(M.language=U.slice(0,V),V<4)for(O=0;45===R.charCodeAt(V)&&b(R.charCodeAt(V+1))&&b(R.charCodeAt(V+2))&&b(R.charCodeAt(V+3))&&!b(R.charCodeAt(V+4));){if(O>2)return P(V,3,"Too many extended language subtags, expected at most 3 subtags");M.extendedLanguageSubtags.push(U.slice(V+1,V+4)),V+=4,O++}for(45===R.charCodeAt(V)&&b(R.charCodeAt(V+1))&&b(R.charCodeAt(V+2))&&b(R.charCodeAt(V+3))&&b(R.charCodeAt(V+4))&&!b(R.charCodeAt(V+5))&&(M.script=U.slice(V+1,V+5),V+=5),45===R.charCodeAt(V)&&(b(R.charCodeAt(V+1))&&b(R.charCodeAt(V+2))&&!b(R.charCodeAt(V+3))?(M.region=U.slice(V+1,V+3),V+=3):w(R.charCodeAt(V+1))&&w(R.charCodeAt(V+2))&&w(R.charCodeAt(V+3))&&!w(R.charCodeAt(V+4))&&(M.region=U.slice(V+1,V+4),V+=4));45===R.charCodeAt(V);){for(x=k=V+1;t(R.charCodeAt(x));){if(x-k>7)return P(x,1,"Too long variant, expected at most 8 characters");x++}if(!(x-k>4||x-k>3&&w(R.charCodeAt(k))))break;M.variants.push(U.slice(k,x)),V=x}for(;45===R.charCodeAt(V)&&120!==R.charCodeAt(V+1)&&t(R.charCodeAt(V+1))&&45===R.charCodeAt(V+2)&&t(R.charCodeAt(V+3));){for(x=V+2,O=0;45===R.charCodeAt(x)&&t(R.charCodeAt(x+1))&&t(R.charCodeAt(x+2));)for(x=(k=x+1)+2,O++;t(R.charCodeAt(x));){if(x-k>7)return P(x,2,"Too long extension, expected at most 8 characters");x++}if(!O)return P(x,4,"Empty extension, extensions must have at least 2 characters of content");M.extensions.push({singleton:U.charAt(V+1),extensions:U.slice(V+3,x).split("-")}),V=x}}else V=0;if(0===V&&120===R.charCodeAt(V)||45===R.charCodeAt(V)&&120===R.charCodeAt(V+1))for(x=V=V?V+2:1;45===R.charCodeAt(x)&&t(R.charCodeAt(x+1));){for(x=k=V+1;t(R.charCodeAt(x));){if(x-k>7)return P(x,5,"Too long private-use area, expected at most 8 characters");x++}M.privateuse.push(U.slice(V+1,x)),V=x}return V!==U.length?P(V,6,"Found superfluous content after tag"):M;function P(T,N,C){return y.warning&&y.warning(C,N,T),y.forgiving?M:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var L={}.hasOwnProperty},"./node_modules/bcp-47/lib/regular.json":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/regular.json ***!
                  \**********************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, default */function(tt){tt.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')},"./node_modules/bcp-47/lib/stringify.js":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/stringify.js ***!
                  \**********************************************/
/*! no static exports found */function(tt,S,c){"use strict";tt.exports=function t(b){var F,L,D,w=b||{},E=[];if(w.irregular||w.regular)return w.irregular||w.regular;if(w.language)for(E=E.concat(w.language,w.extendedLanguageSubtags||[],w.script||[],w.region||[],w.variants||[]),F=w.extensions||[],L=-1;++L<F.length;)(D=F[L]).singleton&&D.extensions&&D.extensions.length&&(E=E.concat(D.singleton,D.extensions));return w.privateuse&&w.privateuse.length&&(E=E.concat("x",w.privateuse)),E.join("-")}},"./node_modules/buffer/index.js":
/*!**************************************!*\
                  !*** ./node_modules/buffer/index.js ***!
                  \**************************************/
/*! no static exports found */function(tt,S,c){"use strict";(function(t){var b=c(
/*! base64-js */
"./node_modules/base64-js/index.js"),w=c(
/*! ieee754 */
"./node_modules/ieee754/index.js"),E=c(
/*! isarray */
"./node_modules/isarray/index.js");function L(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function D(ie,ee){if(L()<ee)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(ie=new Uint8Array(ee)).__proto__=p.prototype:(null===ie&&(ie=new p(ee)),ie.length=ee),ie}function p(ie,ee,X){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(ie,ee,X);if("number"==typeof ie){if("string"==typeof ee)throw new Error("If encoding is specified then the first argument must be a string");return M(this,ie)}return f(this,ie,ee,X)}function f(ie,ee,X,ue){if("number"==typeof ee)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&ee instanceof ArrayBuffer?function V(ie,ee,X,ue){if(X<0||ee.byteLength<X)throw new RangeError("'offset' is out of bounds");if(ee.byteLength<X+(ue||0))throw new RangeError("'length' is out of bounds");return ee=void 0===X&&void 0===ue?new Uint8Array(ee):void 0===ue?new Uint8Array(ee,X):new Uint8Array(ee,X,ue),p.TYPED_ARRAY_SUPPORT?(ie=ee).__proto__=p.prototype:ie=R(ie,ee),ie}(ie,ee,X,ue):"string"==typeof ee?function U(ie,ee,X){if(("string"!=typeof X||""===X)&&(X="utf8"),!p.isEncoding(X))throw new TypeError('"encoding" must be a valid string encoding');var ue=0|P(ee,X),ve=(ie=D(ie,ue)).write(ee,X);return ve!==ue&&(ie=ie.slice(0,ve)),ie}(ie,ee,X):function k(ie,ee){if(p.isBuffer(ee)){var X=0|O(ee.length);return 0===(ie=D(ie,X)).length||ee.copy(ie,0,0,X),ie}if(ee){if(typeof ArrayBuffer<"u"&&ee.buffer instanceof ArrayBuffer||"length"in ee)return"number"!=typeof ee.length||function ne(ie){return ie!=ie}(ee.length)?D(ie,0):R(ie,ee);if("Buffer"===ee.type&&E(ee.data))return R(ie,ee.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(ie,ee)}function g(ie){if("number"!=typeof ie)throw new TypeError('"size" argument must be a number');if(ie<0)throw new RangeError('"size" argument must not be negative')}function M(ie,ee){if(g(ee),ie=D(ie,ee<0?0:0|O(ee)),!p.TYPED_ARRAY_SUPPORT)for(var X=0;X<ee;++X)ie[X]=0;return ie}function R(ie,ee){var X=ee.length<0?0:0|O(ee.length);ie=D(ie,X);for(var ue=0;ue<X;ue+=1)ie[ue]=255&ee[ue];return ie}function O(ie){if(ie>=L())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L().toString(16)+" bytes");return 0|ie}function P(ie,ee){if(p.isBuffer(ie))return ie.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(ie)||ie instanceof ArrayBuffer))return ie.byteLength;"string"!=typeof ie&&(ie=""+ie);var X=ie.length;if(0===X)return 0;for(var ue=!1;;)switch(ee){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":case void 0:return se(ie).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*X;case"hex":return X>>>1;case"base64":return Q(ie).length;default:if(ue)return se(ie).length;ee=(""+ee).toLowerCase(),ue=!0}}function T(ie,ee,X){var ue=!1;if((void 0===ee||ee<0)&&(ee=0),ee>this.length||((void 0===X||X>this.length)&&(X=this.length),X<=0)||(X>>>=0)<=(ee>>>=0))return"";for(ie||(ie="utf8");;)switch(ie){case"hex":return fe(this,ee,X);case"utf8":case"utf-8":return ge(this,ee,X);case"ascii":return Ce(this,ee,X);case"latin1":case"binary":return Le(this,ee,X);case"base64":return K(this,ee,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,ee,X);default:if(ue)throw new TypeError("Unknown encoding: "+ie);ie=(ie+"").toLowerCase(),ue=!0}}function N(ie,ee,X){var ue=ie[ee];ie[ee]=ie[X],ie[X]=ue}function C(ie,ee,X,ue,ve){if(0===ie.length)return-1;if("string"==typeof X?(ue=X,X=0):X>2147483647?X=2147483647:X<-2147483648&&(X=-2147483648),X=+X,isNaN(X)&&(X=ve?0:ie.length-1),X<0&&(X=ie.length+X),X>=ie.length){if(ve)return-1;X=ie.length-1}else if(X<0){if(!ve)return-1;X=0}if("string"==typeof ee&&(ee=p.from(ee,ue)),p.isBuffer(ee))return 0===ee.length?-1:B(ie,ee,X,ue,ve);if("number"==typeof ee)return ee&=255,p.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?ve?Uint8Array.prototype.indexOf.call(ie,ee,X):Uint8Array.prototype.lastIndexOf.call(ie,ee,X):B(ie,[ee],X,ue,ve);throw new TypeError("val must be string, number or Buffer")}function B(ie,ee,X,ue,ve){var lt,de=1,xe=ie.length,Ke=ee.length;if(void 0!==ue&&("ucs2"===(ue=String(ue).toLowerCase())||"ucs-2"===ue||"utf16le"===ue||"utf-16le"===ue)){if(ie.length<2||ee.length<2)return-1;de=2,xe/=2,Ke/=2,X/=2}function Ve(Ut,wt){return 1===de?Ut[wt]:Ut.readUInt16BE(wt*de)}if(ve){var dt=-1;for(lt=X;lt<xe;lt++)if(Ve(ie,lt)===Ve(ee,-1===dt?0:lt-dt)){if(-1===dt&&(dt=lt),lt-dt+1===Ke)return dt*de}else-1!==dt&&(lt-=lt-dt),dt=-1}else for(X+Ke>xe&&(X=xe-Ke),lt=X;lt>=0;lt--){for(var it=!0,bt=0;bt<Ke;bt++)if(Ve(ie,lt+bt)!==Ve(ee,bt)){it=!1;break}if(it)return lt}return-1}function Y(ie,ee,X,ue){X=Number(X)||0;var ve=ie.length-X;ue?(ue=Number(ue))>ve&&(ue=ve):ue=ve;var de=ee.length;if(de%2!=0)throw new TypeError("Invalid hex string");ue>de/2&&(ue=de/2);for(var xe=0;xe<ue;++xe){var Ke=parseInt(ee.substr(2*xe,2),16);if(isNaN(Ke))return xe;ie[X+xe]=Ke}return xe}function q(ie,ee,X,ue){return Z(se(ee,ie.length-X),ie,X,ue)}function le(ie,ee,X,ue){return Z(function _e(ie){for(var ee=[],X=0;X<ie.length;++X)ee.push(255&ie.charCodeAt(X));return ee}(ee),ie,X,ue)}function Fe(ie,ee,X,ue){return le(ie,ee,X,ue)}function $(ie,ee,X,ue){return Z(Q(ee),ie,X,ue)}function ae(ie,ee,X,ue){return Z(function J(ie,ee){for(var X,ue,de=[],xe=0;xe<ie.length&&!((ee-=2)<0);++xe)ue=(X=ie.charCodeAt(xe))>>8,de.push(X%256),de.push(ue);return de}(ee,ie.length-X),ie,X,ue)}function K(ie,ee,X){return b.fromByteArray(0===ee&&X===ie.length?ie:ie.slice(ee,X))}function ge(ie,ee,X){X=Math.min(ie.length,X);for(var ue=[],ve=ee;ve<X;){var Ve,lt,dt,it,de=ie[ve],xe=null,Ke=de>239?4:de>223?3:de>191?2:1;if(ve+Ke<=X)switch(Ke){case 1:de<128&&(xe=de);break;case 2:128==(192&(Ve=ie[ve+1]))&&(it=(31&de)<<6|63&Ve)>127&&(xe=it);break;case 3:lt=ie[ve+2],128==(192&(Ve=ie[ve+1]))&&128==(192&lt)&&(it=(15&de)<<12|(63&Ve)<<6|63&lt)>2047&&(it<55296||it>57343)&&(xe=it);break;case 4:lt=ie[ve+2],dt=ie[ve+3],128==(192&(Ve=ie[ve+1]))&&128==(192&lt)&&128==(192&dt)&&(it=(15&de)<<18|(63&Ve)<<12|(63&lt)<<6|63&dt)>65535&&it<1114112&&(xe=it)}null===xe?(xe=65533,Ke=1):xe>65535&&(ue.push((xe-=65536)>>>10&1023|55296),xe=56320|1023&xe),ue.push(xe),ve+=Ke}return function he(ie){var ee=ie.length;if(ee<=oe)return String.fromCharCode.apply(String,ie);for(var X="",ue=0;ue<ee;)X+=String.fromCharCode.apply(String,ie.slice(ue,ue+=oe));return X}(ue)}S.Buffer=p,S.SlowBuffer=function x(ie){return+ie!=ie&&(ie=0),p.alloc(+ie)},S.INSPECT_MAX_BYTES=50,p.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function F(){try{var ie=new Uint8Array(1);return ie.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===ie.foo()&&"function"==typeof ie.subarray&&0===ie.subarray(1,1).byteLength}catch{return!1}}(),S.kMaxLength=L(),p.poolSize=8192,p._augment=function(ie){return ie.__proto__=p.prototype,ie},p.from=function(ie,ee,X){return f(null,ie,ee,X)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(ie,ee,X){return function y(ie,ee,X,ue){return g(ee),ee<=0?D(ie,ee):void 0!==X?"string"==typeof ue?D(ie,ee).fill(X,ue):D(ie,ee).fill(X):D(ie,ee)}(null,ie,ee,X)},p.allocUnsafe=function(ie){return M(null,ie)},p.allocUnsafeSlow=function(ie){return M(null,ie)},p.isBuffer=function(ee){return!(null==ee||!ee._isBuffer)},p.compare=function(ee,X){if(!p.isBuffer(ee)||!p.isBuffer(X))throw new TypeError("Arguments must be Buffers");if(ee===X)return 0;for(var ue=ee.length,ve=X.length,de=0,xe=Math.min(ue,ve);de<xe;++de)if(ee[de]!==X[de]){ue=ee[de],ve=X[de];break}return ue<ve?-1:ve<ue?1:0},p.isEncoding=function(ee){switch(String(ee).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(ee,X){if(!E(ee))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ee.length)return p.alloc(0);var ue;if(void 0===X)for(X=0,ue=0;ue<ee.length;++ue)X+=ee[ue].length;var ve=p.allocUnsafe(X),de=0;for(ue=0;ue<ee.length;++ue){var xe=ee[ue];if(!p.isBuffer(xe))throw new TypeError('"list" argument must be an Array of Buffers');xe.copy(ve,de),de+=xe.length}return ve},p.byteLength=P,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var ee=this.length;if(ee%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var X=0;X<ee;X+=2)N(this,X,X+1);return this},p.prototype.swap32=function(){var ee=this.length;if(ee%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var X=0;X<ee;X+=4)N(this,X,X+3),N(this,X+1,X+2);return this},p.prototype.swap64=function(){var ee=this.length;if(ee%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var X=0;X<ee;X+=8)N(this,X,X+7),N(this,X+1,X+6),N(this,X+2,X+5),N(this,X+3,X+4);return this},p.prototype.toString=function(){var ee=0|this.length;return 0===ee?"":0===arguments.length?ge(this,0,ee):T.apply(this,arguments)},p.prototype.equals=function(ee){if(!p.isBuffer(ee))throw new TypeError("Argument must be a Buffer");return this===ee||0===p.compare(this,ee)},p.prototype.inspect=function(){var ee="",X=S.INSPECT_MAX_BYTES;return this.length>0&&(ee=this.toString("hex",0,X).match(/.{2}/g).join(" "),this.length>X&&(ee+=" ... ")),"<Buffer "+ee+">"},p.prototype.compare=function(ee,X,ue,ve,de){if(!p.isBuffer(ee))throw new TypeError("Argument must be a Buffer");if(void 0===X&&(X=0),void 0===ue&&(ue=ee?ee.length:0),void 0===ve&&(ve=0),void 0===de&&(de=this.length),X<0||ue>ee.length||ve<0||de>this.length)throw new RangeError("out of range index");if(ve>=de&&X>=ue)return 0;if(ve>=de)return-1;if(X>=ue)return 1;if(this===ee)return 0;for(var xe=(de>>>=0)-(ve>>>=0),Ke=(ue>>>=0)-(X>>>=0),Ve=Math.min(xe,Ke),lt=this.slice(ve,de),dt=ee.slice(X,ue),it=0;it<Ve;++it)if(lt[it]!==dt[it]){xe=lt[it],Ke=dt[it];break}return xe<Ke?-1:Ke<xe?1:0},p.prototype.includes=function(ee,X,ue){return-1!==this.indexOf(ee,X,ue)},p.prototype.indexOf=function(ee,X,ue){return C(this,ee,X,ue,!0)},p.prototype.lastIndexOf=function(ee,X,ue){return C(this,ee,X,ue,!1)},p.prototype.write=function(ee,X,ue,ve){if(void 0===X)ve="utf8",ue=this.length,X=0;else if(void 0===ue&&"string"==typeof X)ve=X,ue=this.length,X=0;else{if(!isFinite(X))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");X|=0,isFinite(ue)?(ue|=0,void 0===ve&&(ve="utf8")):(ve=ue,ue=void 0)}var de=this.length-X;if((void 0===ue||ue>de)&&(ue=de),ee.length>0&&(ue<0||X<0)||X>this.length)throw new RangeError("Attempt to write outside buffer bounds");ve||(ve="utf8");for(var xe=!1;;)switch(ve){case"hex":return Y(this,ee,X,ue);case"utf8":case"utf-8":return q(this,ee,X,ue);case"ascii":return le(this,ee,X,ue);case"latin1":case"binary":return Fe(this,ee,X,ue);case"base64":return $(this,ee,X,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,ee,X,ue);default:if(xe)throw new TypeError("Unknown encoding: "+ve);ve=(""+ve).toLowerCase(),xe=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var oe=4096;function Ce(ie,ee,X){var ue="";X=Math.min(ie.length,X);for(var ve=ee;ve<X;++ve)ue+=String.fromCharCode(127&ie[ve]);return ue}function Le(ie,ee,X){var ue="";X=Math.min(ie.length,X);for(var ve=ee;ve<X;++ve)ue+=String.fromCharCode(ie[ve]);return ue}function fe(ie,ee,X){var ue=ie.length;(!ee||ee<0)&&(ee=0),(!X||X<0||X>ue)&&(X=ue);for(var ve="",de=ee;de<X;++de)ve+=W(ie[de]);return ve}function Re(ie,ee,X){for(var ue=ie.slice(ee,X),ve="",de=0;de<ue.length;de+=2)ve+=String.fromCharCode(ue[de]+256*ue[de+1]);return ve}function Ae(ie,ee,X){if(ie%1!=0||ie<0)throw new RangeError("offset is not uint");if(ie+ee>X)throw new RangeError("Trying to access beyond buffer length")}function pe(ie,ee,X,ue,ve,de){if(!p.isBuffer(ie))throw new TypeError('"buffer" argument must be a Buffer instance');if(ee>ve||ee<de)throw new RangeError('"value" argument is out of bounds');if(X+ue>ie.length)throw new RangeError("Index out of range")}function Ue(ie,ee,X,ue){ee<0&&(ee=65535+ee+1);for(var ve=0,de=Math.min(ie.length-X,2);ve<de;++ve)ie[X+ve]=(ee&255<<8*(ue?ve:1-ve))>>>8*(ue?ve:1-ve)}function ke(ie,ee,X,ue){ee<0&&(ee=4294967295+ee+1);for(var ve=0,de=Math.min(ie.length-X,4);ve<de;++ve)ie[X+ve]=ee>>>8*(ue?ve:3-ve)&255}function we(ie,ee,X,ue,ve,de){if(X+ue>ie.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function He(ie,ee,X,ue,ve){return ve||we(ie,0,X,4),w.write(ie,ee,X,ue,23,4),X+4}function at(ie,ee,X,ue,ve){return ve||we(ie,0,X,8),w.write(ie,ee,X,ue,52,8),X+8}p.prototype.slice=function(ee,X){var ve,ue=this.length;if((ee=~~ee)<0?(ee+=ue)<0&&(ee=0):ee>ue&&(ee=ue),(X=void 0===X?ue:~~X)<0?(X+=ue)<0&&(X=0):X>ue&&(X=ue),X<ee&&(X=ee),p.TYPED_ARRAY_SUPPORT)(ve=this.subarray(ee,X)).__proto__=p.prototype;else{var de=X-ee;ve=new p(de,void 0);for(var xe=0;xe<de;++xe)ve[xe]=this[xe+ee]}return ve},p.prototype.readUIntLE=function(ee,X,ue){ee|=0,X|=0,ue||Ae(ee,X,this.length);for(var ve=this[ee],de=1,xe=0;++xe<X&&(de*=256);)ve+=this[ee+xe]*de;return ve},p.prototype.readUIntBE=function(ee,X,ue){ee|=0,X|=0,ue||Ae(ee,X,this.length);for(var ve=this[ee+--X],de=1;X>0&&(de*=256);)ve+=this[ee+--X]*de;return ve},p.prototype.readUInt8=function(ee,X){return X||Ae(ee,1,this.length),this[ee]},p.prototype.readUInt16LE=function(ee,X){return X||Ae(ee,2,this.length),this[ee]|this[ee+1]<<8},p.prototype.readUInt16BE=function(ee,X){return X||Ae(ee,2,this.length),this[ee]<<8|this[ee+1]},p.prototype.readUInt32LE=function(ee,X){return X||Ae(ee,4,this.length),(this[ee]|this[ee+1]<<8|this[ee+2]<<16)+16777216*this[ee+3]},p.prototype.readUInt32BE=function(ee,X){return X||Ae(ee,4,this.length),16777216*this[ee]+(this[ee+1]<<16|this[ee+2]<<8|this[ee+3])},p.prototype.readIntLE=function(ee,X,ue){ee|=0,X|=0,ue||Ae(ee,X,this.length);for(var ve=this[ee],de=1,xe=0;++xe<X&&(de*=256);)ve+=this[ee+xe]*de;return ve>=(de*=128)&&(ve-=Math.pow(2,8*X)),ve},p.prototype.readIntBE=function(ee,X,ue){ee|=0,X|=0,ue||Ae(ee,X,this.length);for(var ve=X,de=1,xe=this[ee+--ve];ve>0&&(de*=256);)xe+=this[ee+--ve]*de;return xe>=(de*=128)&&(xe-=Math.pow(2,8*X)),xe},p.prototype.readInt8=function(ee,X){return X||Ae(ee,1,this.length),128&this[ee]?-1*(255-this[ee]+1):this[ee]},p.prototype.readInt16LE=function(ee,X){X||Ae(ee,2,this.length);var ue=this[ee]|this[ee+1]<<8;return 32768&ue?4294901760|ue:ue},p.prototype.readInt16BE=function(ee,X){X||Ae(ee,2,this.length);var ue=this[ee+1]|this[ee]<<8;return 32768&ue?4294901760|ue:ue},p.prototype.readInt32LE=function(ee,X){return X||Ae(ee,4,this.length),this[ee]|this[ee+1]<<8|this[ee+2]<<16|this[ee+3]<<24},p.prototype.readInt32BE=function(ee,X){return X||Ae(ee,4,this.length),this[ee]<<24|this[ee+1]<<16|this[ee+2]<<8|this[ee+3]},p.prototype.readFloatLE=function(ee,X){return X||Ae(ee,4,this.length),w.read(this,ee,!0,23,4)},p.prototype.readFloatBE=function(ee,X){return X||Ae(ee,4,this.length),w.read(this,ee,!1,23,4)},p.prototype.readDoubleLE=function(ee,X){return X||Ae(ee,8,this.length),w.read(this,ee,!0,52,8)},p.prototype.readDoubleBE=function(ee,X){return X||Ae(ee,8,this.length),w.read(this,ee,!1,52,8)},p.prototype.writeUIntLE=function(ee,X,ue,ve){ee=+ee,X|=0,ue|=0,ve||pe(this,ee,X,ue,Math.pow(2,8*ue)-1,0);var xe=1,Ke=0;for(this[X]=255&ee;++Ke<ue&&(xe*=256);)this[X+Ke]=ee/xe&255;return X+ue},p.prototype.writeUIntBE=function(ee,X,ue,ve){ee=+ee,X|=0,ue|=0,ve||pe(this,ee,X,ue,Math.pow(2,8*ue)-1,0);var xe=ue-1,Ke=1;for(this[X+xe]=255&ee;--xe>=0&&(Ke*=256);)this[X+xe]=ee/Ke&255;return X+ue},p.prototype.writeUInt8=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,1,255,0),p.TYPED_ARRAY_SUPPORT||(ee=Math.floor(ee)),this[X]=255&ee,X+1},p.prototype.writeUInt16LE=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[X]=255&ee,this[X+1]=ee>>>8):Ue(this,ee,X,!0),X+2},p.prototype.writeUInt16BE=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[X]=ee>>>8,this[X+1]=255&ee):Ue(this,ee,X,!1),X+2},p.prototype.writeUInt32LE=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[X+3]=ee>>>24,this[X+2]=ee>>>16,this[X+1]=ee>>>8,this[X]=255&ee):ke(this,ee,X,!0),X+4},p.prototype.writeUInt32BE=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[X]=ee>>>24,this[X+1]=ee>>>16,this[X+2]=ee>>>8,this[X+3]=255&ee):ke(this,ee,X,!1),X+4},p.prototype.writeIntLE=function(ee,X,ue,ve){if(ee=+ee,X|=0,!ve){var de=Math.pow(2,8*ue-1);pe(this,ee,X,ue,de-1,-de)}var xe=0,Ke=1,Ve=0;for(this[X]=255&ee;++xe<ue&&(Ke*=256);)ee<0&&0===Ve&&0!==this[X+xe-1]&&(Ve=1),this[X+xe]=(ee/Ke>>0)-Ve&255;return X+ue},p.prototype.writeIntBE=function(ee,X,ue,ve){if(ee=+ee,X|=0,!ve){var de=Math.pow(2,8*ue-1);pe(this,ee,X,ue,de-1,-de)}var xe=ue-1,Ke=1,Ve=0;for(this[X+xe]=255&ee;--xe>=0&&(Ke*=256);)ee<0&&0===Ve&&0!==this[X+xe+1]&&(Ve=1),this[X+xe]=(ee/Ke>>0)-Ve&255;return X+ue},p.prototype.writeInt8=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,1,127,-128),p.TYPED_ARRAY_SUPPORT||(ee=Math.floor(ee)),ee<0&&(ee=255+ee+1),this[X]=255&ee,X+1},p.prototype.writeInt16LE=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[X]=255&ee,this[X+1]=ee>>>8):Ue(this,ee,X,!0),X+2},p.prototype.writeInt16BE=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[X]=ee>>>8,this[X+1]=255&ee):Ue(this,ee,X,!1),X+2},p.prototype.writeInt32LE=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[X]=255&ee,this[X+1]=ee>>>8,this[X+2]=ee>>>16,this[X+3]=ee>>>24):ke(this,ee,X,!0),X+4},p.prototype.writeInt32BE=function(ee,X,ue){return ee=+ee,X|=0,ue||pe(this,ee,X,4,2147483647,-2147483648),ee<0&&(ee=4294967295+ee+1),p.TYPED_ARRAY_SUPPORT?(this[X]=ee>>>24,this[X+1]=ee>>>16,this[X+2]=ee>>>8,this[X+3]=255&ee):ke(this,ee,X,!1),X+4},p.prototype.writeFloatLE=function(ee,X,ue){return He(this,ee,X,!0,ue)},p.prototype.writeFloatBE=function(ee,X,ue){return He(this,ee,X,!1,ue)},p.prototype.writeDoubleLE=function(ee,X,ue){return at(this,ee,X,!0,ue)},p.prototype.writeDoubleBE=function(ee,X,ue){return at(this,ee,X,!1,ue)},p.prototype.copy=function(ee,X,ue,ve){if(ue||(ue=0),!ve&&0!==ve&&(ve=this.length),X>=ee.length&&(X=ee.length),X||(X=0),ve>0&&ve<ue&&(ve=ue),ve===ue||0===ee.length||0===this.length)return 0;if(X<0)throw new RangeError("targetStart out of bounds");if(ue<0||ue>=this.length)throw new RangeError("sourceStart out of bounds");if(ve<0)throw new RangeError("sourceEnd out of bounds");ve>this.length&&(ve=this.length),ee.length-X<ve-ue&&(ve=ee.length-X+ue);var xe,de=ve-ue;if(this===ee&&ue<X&&X<ve)for(xe=de-1;xe>=0;--xe)ee[xe+X]=this[xe+ue];else if(de<1e3||!p.TYPED_ARRAY_SUPPORT)for(xe=0;xe<de;++xe)ee[xe+X]=this[xe+ue];else Uint8Array.prototype.set.call(ee,this.subarray(ue,ue+de),X);return de},p.prototype.fill=function(ee,X,ue,ve){if("string"==typeof ee){if("string"==typeof X?(ve=X,X=0,ue=this.length):"string"==typeof ue&&(ve=ue,ue=this.length),1===ee.length){var de=ee.charCodeAt(0);de<256&&(ee=de)}if(void 0!==ve&&"string"!=typeof ve)throw new TypeError("encoding must be a string");if("string"==typeof ve&&!p.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve)}else"number"==typeof ee&&(ee&=255);if(X<0||this.length<X||this.length<ue)throw new RangeError("Out of range index");if(ue<=X)return this;var xe;if(X>>>=0,ue=void 0===ue?this.length:ue>>>0,ee||(ee=0),"number"==typeof ee)for(xe=X;xe<ue;++xe)this[xe]=ee;else{var Ke=p.isBuffer(ee)?ee:se(new p(ee,ve).toString()),Ve=Ke.length;for(xe=0;xe<ue-X;++xe)this[xe+X]=Ke[xe%Ve]}return this};var Je=/[^+\/0-9A-Za-z-_]/g;function W(ie){return ie<16?"0"+ie.toString(16):ie.toString(16)}function se(ie,ee){ee=ee||1/0;for(var X,ue=ie.length,ve=null,de=[],xe=0;xe<ue;++xe){if((X=ie.charCodeAt(xe))>55295&&X<57344){if(!ve){if(X>56319){(ee-=3)>-1&&de.push(239,191,189);continue}if(xe+1===ue){(ee-=3)>-1&&de.push(239,191,189);continue}ve=X;continue}if(X<56320){(ee-=3)>-1&&de.push(239,191,189),ve=X;continue}X=65536+(ve-55296<<10|X-56320)}else ve&&(ee-=3)>-1&&de.push(239,191,189);if(ve=null,X<128){if((ee-=1)<0)break;de.push(X)}else if(X<2048){if((ee-=2)<0)break;de.push(X>>6|192,63&X|128)}else if(X<65536){if((ee-=3)<0)break;de.push(X>>12|224,X>>6&63|128,63&X|128)}else{if(!(X<1114112))throw new Error("Invalid code point");if((ee-=4)<0)break;de.push(X>>18|240,X>>12&63|128,X>>6&63|128,63&X|128)}}return de}function Q(ie){return b.toByteArray(function Ne(ie){if((ie=function Te(ie){return ie.trim?ie.trim():ie.replace(/^\s+|\s+$/g,"")}(ie).replace(Je,"")).length<2)return"";for(;ie.length%4!=0;)ie+="=";return ie}(ie))}function Z(ie,ee,X,ue){for(var ve=0;ve<ue&&!(ve+X>=ee.length||ve>=ie.length);++ve)ee[ve+X]=ie[ve];return ve}}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/codem-isoboxer/dist/iso_boxer.js":
/*!*******************************************************!*\
                  !*** ./node_modules/codem-isoboxer/dist/iso_boxer.js ***!
                  \*******************************************************/
/*! no static exports found */function(tt,S,c){var t={parseBuffer:function(E){return new b(E).parse()},addBoxProcessor:function(E,F){"string"!=typeof E||"function"!=typeof F||(w.prototype._boxProcessors[E]=F)},createFile:function(){return new b},createBox:function(E,F,L){var D=w.create(E);return F&&F.append(D,L),D},createFullBox:function(E,F,L){var D=t.createBox(E,F,L);return D.version=0,D.flags=0,D},Utils:{}};t.Utils.dataViewToString=function(E,F){var L=F||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(L).decode(E);var D=[],p=0;if("utf-8"===L)for(;p<E.byteLength;){var f=E.getUint8(p++);f<128||(f<224?(f=(31&f)<<6,f|=63&E.getUint8(p++)):f<240?(f=(15&f)<<12,f|=(63&E.getUint8(p++))<<6,f|=63&E.getUint8(p++)):(f=(7&f)<<18,f|=(63&E.getUint8(p++))<<12,f|=(63&E.getUint8(p++))<<6,f|=63&E.getUint8(p++))),D.push(String.fromCharCode(f))}else for(;p<E.byteLength;)D.push(String.fromCharCode(E.getUint8(p++)));return D.join("")},t.Utils.utf8ToByteArray=function(E){var F,L;if(typeof TextEncoder<"u")F=(new TextEncoder).encode(E);else for(F=[],L=0;L<E.length;++L){var D=E.charCodeAt(L);D<128?F.push(D):D<2048?(F.push(192|D>>6),F.push(128|63&D)):D<65536?(F.push(224|D>>12),F.push(128|63&D>>6),F.push(128|63&D)):(F.push(240|D>>18),F.push(128|63&D>>12),F.push(128|63&D>>6),F.push(128|63&D))}return F},t.Utils.appendBox=function(E,F,L){if(F._offset=E._cursor.offset,F._root=E._root?E._root:E,F._raw=E._raw,F._parent=E,-1!==L){if(null==L)return void E.boxes.push(F);var p,D=-1;if("number"==typeof L)D=L;else{if("string"==typeof L)p=L;else{if("object"!=typeof L||!L.type)return void E.boxes.push(F);p=L.type}for(var f=0;f<E.boxes.length;f++)if(p===E.boxes[f].type){D=f+1;break}}E.boxes.splice(D,0,F)}},S.parseBuffer=t.parseBuffer,S.addBoxProcessor=t.addBoxProcessor,S.createFile=t.createFile,S.createBox=t.createBox,S.createFullBox=t.createFullBox,S.Utils=t.Utils,t.Cursor=function(E){this.offset=typeof E>"u"?0:E};var b=function(E){this._cursor=new t.Cursor,this.boxes=[],E&&(this._raw=new DataView(E))};b.prototype.fetch=function(E){var F=this.fetchAll(E,!0);return F.length?F[0]:null},b.prototype.fetchAll=function(E,F){var L=[];return b._sweep.call(this,E,L,F),L},b.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var E=w.parse(this);if(typeof E.type>"u")break;this.boxes.push(E)}return this},b._sweep=function(E,F,L){for(var D in this.type&&this.type==E&&F.push(this),this.boxes){if(F.length&&L)return;b._sweep.call(this.boxes[D],E,F,L)}},b.prototype.write=function(){var F,E=0;for(F=0;F<this.boxes.length;F++)E+=this.boxes[F].getLength(!1);var L=new Uint8Array(E);for(this._rawo=new DataView(L.buffer),this.bytes=L,this._cursor.offset=0,F=0;F<this.boxes.length;F++)this.boxes[F].write();return L.buffer},b.prototype.append=function(E,F){t.Utils.appendBox(this,E,F)};var w=function(){this._cursor=new t.Cursor};w.parse=function(E){var F=new w;return F._offset=E._cursor.offset,F._root=E._root?E._root:E,F._raw=E._raw,F._parent=E,F._parseBox(),E._cursor.offset=F._raw.byteOffset+F._raw.byteLength,F},w.create=function(E){var F=new w;return F.type=E,F.boxes=[],F},w.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],w.prototype._boxProcessors={},w.prototype._procField=function(E,F,L){this._parsing?this[E]=this._readField(F,L):this._writeField(F,L,this[E])},w.prototype._procFieldArray=function(E,F,L,D){var p;if(this._parsing)for(this[E]=[],p=0;p<F;p++)this[E][p]=this._readField(L,D);else for(p=0;p<this[E].length;p++)this._writeField(L,D,this[E][p])},w.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},w.prototype._procEntries=function(E,F,L){var D;if(this._parsing)for(this[E]=[],D=0;D<F;D++)this[E].push({}),L.call(this,this[E][D]);else for(D=0;D<F;D++)L.call(this,this[E][D])},w.prototype._procSubEntries=function(E,F,L,D){var p;if(this._parsing)for(E[F]=[],p=0;p<L;p++)E[F].push({}),D.call(this,E[F][p]);else for(p=0;p<L;p++)D.call(this,E[F][p])},w.prototype._procEntryField=function(E,F,L,D){this._parsing?E[F]=this._readField(L,D):this._writeField(L,D,E[F])},w.prototype._procSubBoxes=function(E,F){var L;if(this._parsing)for(this[E]=[],L=0;L<F;L++)this[E].push(w.parse(this));else for(L=0;L<F;L++)this._rawo?this[E][L].write():this.size+=this[E][L].getLength()},w.prototype._readField=function(E,F){switch(E){case"uint":return this._readUint(F);case"int":return this._readInt(F);case"template":return this._readTemplate(F);case"string":return-1===F?this._readTerminatedString():this._readString(F);case"data":return this._readData(F);case"utf8":return this._readUTF8String();default:return-1}},w.prototype._readInt=function(E){var F=null,L=this._cursor.offset-this._raw.byteOffset;switch(E){case 8:F=this._raw.getInt8(L);break;case 16:F=this._raw.getInt16(L);break;case 32:F=this._raw.getInt32(L);break;case 64:var D=this._raw.getInt32(L),p=this._raw.getInt32(L+4);F=D*Math.pow(2,32)+p}return this._cursor.offset+=E>>3,F},w.prototype._readUint=function(E){var D,p,F=null,L=this._cursor.offset-this._raw.byteOffset;switch(E){case 8:F=this._raw.getUint8(L);break;case 16:F=this._raw.getUint16(L);break;case 24:F=((D=this._raw.getUint16(L))<<8)+(p=this._raw.getUint8(L+2));break;case 32:F=this._raw.getUint32(L);break;case 64:D=this._raw.getUint32(L),p=this._raw.getUint32(L+4),F=D*Math.pow(2,32)+p}return this._cursor.offset+=E>>3,F},w.prototype._readString=function(E){for(var F="",L=0;L<E;L++){var D=this._readUint(8);F+=String.fromCharCode(D)}return F},w.prototype._readTemplate=function(E){return this._readUint(E/2)+this._readUint(E/2)/Math.pow(2,E/2)},w.prototype._readTerminatedString=function(){for(var E="";this._cursor.offset-this._offset<this._raw.byteLength;){var F=this._readUint(8);if(0===F)break;E+=String.fromCharCode(F)}return E},w.prototype._readData=function(E){var F=E>0?E:this._raw.byteLength-(this._cursor.offset-this._offset);if(F>0){var L=new Uint8Array(this._raw.buffer,this._cursor.offset,F);return this._cursor.offset+=F,L}return null},w.prototype._readUTF8String=function(){var E=this._raw.byteLength-(this._cursor.offset-this._offset),F=null;return E>0&&(F=new DataView(this._raw.buffer,this._cursor.offset,E),this._cursor.offset+=E),F&&t.Utils.dataViewToString(F)},w.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},w.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},w.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(w.parse(this))},w.prototype.append=function(E,F){t.Utils.appendBox(this,E,F)},w.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var E=0;E<this.boxes.length;E++)this.size+=this.boxes[E].getLength();return this._data&&this._writeData(this._data),this.size},w.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var E=0;E<this.boxes.length;E++)this.boxes[E].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},w.prototype._writeInt=function(E,F){if(this._rawo){var L=this._cursor.offset-this._rawo.byteOffset;switch(E){case 8:this._rawo.setInt8(L,F);break;case 16:this._rawo.setInt16(L,F);break;case 32:this._rawo.setInt32(L,F);break;case 64:var D=Math.floor(F/Math.pow(2,32)),p=F-D*Math.pow(2,32);this._rawo.setUint32(L,D),this._rawo.setUint32(L+4,p)}this._cursor.offset+=E>>3}else this.size+=E>>3},w.prototype._writeUint=function(E,F){if(this._rawo){var D,p,L=this._cursor.offset-this._rawo.byteOffset;switch(E){case 8:this._rawo.setUint8(L,F);break;case 16:this._rawo.setUint16(L,F);break;case 24:p=255&F,this._rawo.setUint16(L,D=(16776960&F)>>8),this._rawo.setUint8(L+2,p);break;case 32:this._rawo.setUint32(L,F);break;case 64:p=F-(D=Math.floor(F/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(L,D),this._rawo.setUint32(L+4,p)}this._cursor.offset+=E>>3}else this.size+=E>>3},w.prototype._writeString=function(E,F){for(var L=0;L<E;L++)this._writeUint(8,F.charCodeAt(L))},w.prototype._writeTerminatedString=function(E){if(0!==E.length){for(var F=0;F<E.length;F++)this._writeUint(8,E.charCodeAt(F));this._writeUint(8,0)}},w.prototype._writeTemplate=function(E,F){var L=Math.floor(F),D=(F-L)*Math.pow(2,E/2);this._writeUint(E/2,L),this._writeUint(E/2,D)},w.prototype._writeData=function(E){if(E)if(this._rawo){if(E instanceof Array){for(var L=this._cursor.offset-this._rawo.byteOffset,F=0;F<E.length;F++)this._rawo.setInt8(L+F,E[F]);this._cursor.offset+=E.length}E instanceof Uint8Array&&(this._root.bytes.set(E,this._cursor.offset),this._cursor.offset+=E.length)}else this.size+=E.length},w.prototype._writeUTF8String=function(E){var F=t.Utils.utf8ToByteArray(E);if(this._rawo)for(var L=new DataView(this._rawo.buffer,this._cursor.offset,F.length),D=0;D<F.length;D++)L.setUint8(D,F[D]);else this.size+=F.length},w.prototype._writeField=function(E,F,L){switch(E){case"uint":this._writeUint(F,L);break;case"int":this._writeInt(F,L);break;case"template":this._writeTemplate(F,L);break;case"string":-1==F?this._writeTerminatedString(L):this._writeString(F,L);break;case"data":this._writeData(L);break;case"utf8":this._writeUTF8String(L)}},w.prototype._boxProcessors.avc1=w.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},w.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},w.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(E){this._procEntryField(E,"segment_duration","uint",1===this.version?64:32),this._procEntryField(E,"media_time","int",1===this.version?64:32),this._procEntryField(E,"media_rate_integer","int",16),this._procEntryField(E,"media_rate_fraction","int",16)})},w.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},w.prototype._boxProcessors.free=w.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},w.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},w.prototype._boxProcessors.ftyp=w.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var E=-1;this._parsing&&(E=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",E,"string",4)},w.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},w.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},w.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),!this._parsing&&"string"==typeof this.language&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},w.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},w.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},w.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},w.prototype._boxProcessors.mp4a=w.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},w.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},w.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},w.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},w.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},w.prototype._boxProcessors.sdtp=function(){this._procFullBox();var E=-1;this._parsing&&(E=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",E,"uint",8)},w.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(E){this._parsing||(E.reference=(1&E.reference_type)<<31,E.reference|=2147483647&E.referenced_size,E.sap=(1&E.starts_with_SAP)<<31,E.sap|=(3&E.SAP_type)<<28,E.sap|=268435455&E.SAP_delta_time),this._procEntryField(E,"reference","uint",32),this._procEntryField(E,"subsegment_duration","uint",32),this._procEntryField(E,"sap","uint",32),this._parsing&&(E.reference_type=E.reference>>31&1,E.referenced_size=2147483647&E.reference,E.starts_with_SAP=E.sap>>31&1,E.SAP_type=E.sap>>28&7,E.SAP_delta_time=268435455&E.sap)})},w.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},w.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(E){this._procEntryField(E,"ranges_count","uint",32),this._procSubEntries(E,"ranges",E.ranges_count,function(F){this._procEntryField(F,"level","uint",8),this._procEntryField(F,"range_size","uint",24)})})},w.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},w.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(E){this._procEntryField(E,"sample_delta","uint",32),this._procEntryField(E,"subsample_count","uint",16),this._procSubEntries(E,"subsamples",E.subsample_count,function(F){this._procEntryField(F,"subsample_size","uint",1===this.version?32:16),this._procEntryField(F,"subsample_priority","uint",8),this._procEntryField(F,"discardable","uint",8),this._procEntryField(F,"codec_specific_parameters","uint",32)})})},w.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},w.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},w.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},w.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(E){this._procEntryField(E,"time","uint",1===this.version?64:32),this._procEntryField(E,"moof_offset","uint",1===this.version?64:32),this._procEntryField(E,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(E,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(E,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},w.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},w.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},w.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(E){256&this.flags&&this._procEntryField(E,"sample_duration","uint",32),512&this.flags&&this._procEntryField(E,"sample_size","uint",32),1024&this.flags&&this._procEntryField(E,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(E,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},w.prototype._boxProcessors["url "]=w.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},w.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},w.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},w.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},w.prototype._boxProcessors.vtte=function(){}},"./node_modules/core-util-is/lib/util.js":
/*!***********************************************!*\
                  !*** ./node_modules/core-util-is/lib/util.js ***!
                  \***********************************************/
/*! no static exports found */function(tt,S,c){function V(k){return Object.prototype.toString.call(k)}S.isArray=function t(k){return Array.isArray?Array.isArray(k):"[object Array]"===V(k)},S.isBoolean=function b(k){return"boolean"==typeof k},S.isNull=function w(k){return null===k},S.isNullOrUndefined=function E(k){return null==k},S.isNumber=function F(k){return"number"==typeof k},S.isString=function L(k){return"string"==typeof k},S.isSymbol=function D(k){return"symbol"==typeof k},S.isUndefined=function p(k){return void 0===k},S.isRegExp=function f(k){return"[object RegExp]"===V(k)},S.isObject=function g(k){return"object"==typeof k&&null!==k},S.isDate=function y(k){return"[object Date]"===V(k)},S.isError=function M(k){return"[object Error]"===V(k)||k instanceof Error},S.isFunction=function U(k){return"function"==typeof k},S.isPrimitive=function R(k){return null===k||"boolean"==typeof k||"number"==typeof k||"string"==typeof k||"symbol"==typeof k||typeof k>"u"},S.isBuffer=c(
/*! buffer */
"./node_modules/buffer/index.js").Buffer.isBuffer},"./node_modules/es6-promise/auto.js":
/*!******************************************!*\
                  !*** ./node_modules/es6-promise/auto.js ***!
                  \******************************************/
/*! no static exports found */function(tt,S,c){"use strict";tt.exports=c(
/*! ./ */
"./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
                  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
                  \******************************************************/
/*! no static exports found */function(tt,S,c){(function(t,b){var E;E=function(){"use strict";function E(de){return"function"==typeof de}var L=Array.isArray?Array.isArray:function(de){return"[object Array]"===Object.prototype.toString.call(de)},D=0,p=void 0,f=void 0,g=function(xe,Ke){B[D]=xe,B[D+1]=Ke,2===(D+=2)&&(f?f(Y):le())};var U=typeof window<"u"?window:void 0,R=U||{},V=R.MutationObserver||R.WebKitMutationObserver,k=typeof self>"u"&&typeof t<"u"&&"[object process]"==={}.toString.call(t),O=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function C(){var de=setTimeout;return function(){return de(Y,1)}}var B=new Array(1e3);function Y(){for(var de=0;de<D;de+=2)(0,B[de])(B[de+1]),B[de]=void 0,B[de+1]=void 0;D=0}var le=void 0;function Fe(de,xe){var Ke=this,Ve=new this.constructor(K);void 0===Ve[ae]&&_e(Ve);var lt=Ke._state;if(lt){var dt=arguments[lt-1];g(function(){return Ne(lt,Ve,dt,Ke._result)})}else at(Ke,Ve,de,xe);return Ve}function $(de){if(de&&"object"==typeof de&&de.constructor===this)return de;var Ke=new this(K);return Ue(Ke,de),Ke}le=k?function x(){return function(){return t.nextTick(Y)}}():V?function T(){var de=0,xe=new V(Y),Ke=document.createTextNode("");return xe.observe(Ke,{characterData:!0}),function(){Ke.data=de=++de%2}}():O?function N(){var de=new MessageChannel;return de.port1.onmessage=Y,function(){return de.port2.postMessage(0)}}():void 0===U?function q(){try{var de=Function("return this")().require("vertx");return p=de.runOnLoop||de.runOnContext,function P(){return typeof p<"u"?function(){p(Y)}:C()}()}catch{return C()}}():C();var ae=Math.random().toString(36).substring(2);function K(){}var ge=void 0,oe=1,he=2;function pe(de,xe,Ke){xe.constructor===de.constructor&&Ke===Fe&&xe.constructor.resolve===$?function Ae(de,xe){xe._state===oe?we(de,xe._result):xe._state===he?He(de,xe._result):at(xe,void 0,function(Ke){return Ue(de,Ke)},function(Ke){return He(de,Ke)})}(de,xe):void 0===Ke?we(de,xe):E(Ke)?function Re(de,xe,Ke){g(function(Ve){var lt=!1,dt=function fe(de,xe,Ke,Ve){try{de.call(xe,Ke,Ve)}catch(lt){return lt}}(Ke,xe,function(it){lt||(lt=!0,xe!==it?Ue(Ve,it):we(Ve,it))},function(it){lt||(lt=!0,He(Ve,it))});!lt&&dt&&(lt=!0,He(Ve,dt))},de)}(de,xe,Ke):we(de,xe)}function Ue(de,xe){if(de===xe)He(de,function Ce(){return new TypeError("You cannot resolve a promise with itself")}());else if(function w(de){var xe=typeof de;return null!==de&&("object"===xe||"function"===xe)}(xe)){var Ke=void 0;try{Ke=xe.then}catch(Ve){return void He(de,Ve)}pe(de,xe,Ke)}else we(de,xe)}function ke(de){de._onerror&&de._onerror(de._result),Je(de)}function we(de,xe){de._state===ge&&(de._result=xe,de._state=oe,0!==de._subscribers.length&&g(Je,de))}function He(de,xe){de._state===ge&&(de._state=he,de._result=xe,g(ke,de))}function at(de,xe,Ke,Ve){var lt=de._subscribers,dt=lt.length;de._onerror=null,lt[dt]=xe,lt[dt+oe]=Ke,lt[dt+he]=Ve,0===dt&&de._state&&g(Je,de)}function Je(de){var xe=de._subscribers,Ke=de._state;if(0!==xe.length){for(var Ve=void 0,lt=void 0,dt=de._result,it=0;it<xe.length;it+=3)lt=xe[it+Ke],(Ve=xe[it])?Ne(Ke,Ve,lt,dt):lt(dt);de._subscribers.length=0}}function Ne(de,xe,Ke,Ve){var lt=E(Ke),dt=void 0,it=void 0,bt=!0;if(lt){try{dt=Ke(Ve)}catch(Ut){bt=!1,it=Ut}if(xe===dt)return void He(xe,function Le(){return new TypeError("A promises callback cannot return that same promise.")}())}else dt=Ve;xe._state!==ge||(lt&&bt?Ue(xe,dt):!1===bt?He(xe,it):de===oe?we(xe,dt):de===he&&He(xe,dt))}var W=0;function _e(de){de[ae]=W++,de._state=void 0,de._result=void 0,de._subscribers=[]}var Q=function(){function de(xe,Ke){this._instanceConstructor=xe,this.promise=new xe(K),this.promise[ae]||_e(this.promise),L(Ke)?(this.length=Ke.length,this._remaining=Ke.length,this._result=new Array(this.length),0===this.length?we(this.promise,this._result):(this.length=this.length||0,this._enumerate(Ke),0===this._remaining&&we(this.promise,this._result))):He(this.promise,function J(){return new Error("Array Methods must be provided an Array")}())}return de.prototype._enumerate=function(Ke){for(var Ve=0;this._state===ge&&Ve<Ke.length;Ve++)this._eachEntry(Ke[Ve],Ve)},de.prototype._eachEntry=function(Ke,Ve){var lt=this._instanceConstructor,dt=lt.resolve;if(dt===$){var it=void 0,bt=void 0,Ut=!1;try{it=Ke.then}catch(Ht){Ut=!0,bt=Ht}if(it===Fe&&Ke._state!==ge)this._settledAt(Ke._state,Ve,Ke._result);else if("function"!=typeof it)this._remaining--,this._result[Ve]=Ke;else if(lt===ue){var wt=new lt(K);Ut?He(wt,bt):pe(wt,Ke,it),this._willSettleAt(wt,Ve)}else this._willSettleAt(new lt(function(Ht){return Ht(Ke)}),Ve)}else this._willSettleAt(dt(Ke),Ve)},de.prototype._settledAt=function(Ke,Ve,lt){var dt=this.promise;dt._state===ge&&(this._remaining--,Ke===he?He(dt,lt):this._result[Ve]=lt),0===this._remaining&&we(dt,this._result)},de.prototype._willSettleAt=function(Ke,Ve){var lt=this;at(Ke,void 0,function(dt){return lt._settledAt(oe,Ve,dt)},function(dt){return lt._settledAt(he,Ve,dt)})},de}();var ue=function(){function de(xe){this[ae]=function se(){return W++}(),this._result=this._state=void 0,this._subscribers=[],K!==xe&&("function"!=typeof xe&&function ee(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof de?function Te(de,xe){try{xe(function(Ve){Ue(de,Ve)},function(Ve){He(de,Ve)})}catch(Ke){He(de,Ke)}}(this,xe):function X(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return de.prototype.catch=function(Ke){return this.then(null,Ke)},de.prototype.finally=function(Ke){var lt=this.constructor;return E(Ke)?this.then(function(dt){return lt.resolve(Ke()).then(function(){return dt})},function(dt){return lt.resolve(Ke()).then(function(){throw dt})}):this.then(Ke,Ke)},de}();return ue.prototype.then=Fe,ue.all=function Z(de){return new Q(this,de).promise},ue.race=function ne(de){var xe=this;return L(de)?new xe(function(Ke,Ve){for(var lt=de.length,dt=0;dt<lt;dt++)xe.resolve(de[dt]).then(Ke,Ve)}):new xe(function(Ke,Ve){return Ve(new TypeError("You must pass an array to race."))})},ue.resolve=$,ue.reject=function ie(de){var Ke=new this(K);return He(Ke,de),Ke},ue._setScheduler=function y(de){f=de},ue._setAsap=function M(de){g=de},ue._asap=g,ue.polyfill=function ve(){var de=void 0;if(typeof b<"u")de=b;else if(typeof self<"u")de=self;else try{de=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var xe=de.Promise;if(xe){var Ke=null;try{Ke=Object.prototype.toString.call(xe.resolve())}catch{}if("[object Promise]"===Ke&&!xe.cast)return}de.Promise=ue},ue.Promise=ue,ue},tt.exports=E()}).call(this,c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/events/events.js":
/*!***************************************!*\
                  !*** ./node_modules/events/events.js ***!
                  \***************************************/
/*! no static exports found */function(tt,S,c){"use strict";var w,t="object"==typeof Reflect?Reflect:null,b=t&&"function"==typeof t.apply?t.apply:function(C,B,Y){return Function.prototype.apply.call(C,B,Y)};w=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:function(C){return Object.getOwnPropertyNames(C)};var F=Number.isNaN||function(C){return C!=C};function L(){L.init.call(this)}tt.exports=L,tt.exports.once=function x(N,C){return new Promise(function(B,Y){function q(Fe){N.removeListener(C,le),Y(Fe)}function le(){"function"==typeof N.removeListener&&N.removeListener("error",q),B([].slice.call(arguments))}T(N,C,le,{once:!0}),"error"!==C&&function P(N,C,B){"function"==typeof N.on&&T(N,"error",C,B)}(N,q,{once:!0})})},L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var D=10;function p(N){if("function"!=typeof N)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}function f(N){return void 0===N._maxListeners?L.defaultMaxListeners:N._maxListeners}function g(N,C,B,Y){var q,le,Fe;if(p(B),void 0===(le=N._events)?(le=N._events=Object.create(null),N._eventsCount=0):(void 0!==le.newListener&&(N.emit("newListener",C,B.listener?B.listener:B),le=N._events),Fe=le[C]),void 0===Fe)Fe=le[C]=B,++N._eventsCount;else if("function"==typeof Fe?Fe=le[C]=Y?[B,Fe]:[Fe,B]:Y?Fe.unshift(B):Fe.push(B),(q=f(N))>0&&Fe.length>q&&!Fe.warned){Fe.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+Fe.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=N,$.type=C,$.count=Fe.length,function E(N){console&&console.warn&&console.warn(N)}($)}return N}function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function M(N,C,B){var Y={fired:!1,wrapFn:void 0,target:N,type:C,listener:B},q=y.bind(Y);return q.listener=B,Y.wrapFn=q,q}function U(N,C,B){var Y=N._events;if(void 0===Y)return[];var q=Y[C];return void 0===q?[]:"function"==typeof q?B?[q.listener||q]:[q]:B?function O(N){for(var C=new Array(N.length),B=0;B<C.length;++B)C[B]=N[B].listener||N[B];return C}(q):V(q,q.length)}function R(N){var C=this._events;if(void 0!==C){var B=C[N];if("function"==typeof B)return 1;if(void 0!==B)return B.length}return 0}function V(N,C){for(var B=new Array(C),Y=0;Y<C;++Y)B[Y]=N[Y];return B}function T(N,C,B,Y){if("function"==typeof N.on)Y.once?N.once(C,B):N.on(C,B);else{if("function"!=typeof N.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N);N.addEventListener(C,function q(le){Y.once&&N.removeEventListener(C,q),B(le)})}}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return D},set:function(N){if("number"!=typeof N||N<0||F(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");D=N}}),L.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(C){if("number"!=typeof C||C<0||F(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this},L.prototype.getMaxListeners=function(){return f(this)},L.prototype.emit=function(C){for(var B=[],Y=1;Y<arguments.length;Y++)B.push(arguments[Y]);var q="error"===C,le=this._events;if(void 0!==le)q=q&&void 0===le.error;else if(!q)return!1;if(q){var Fe;if(B.length>0&&(Fe=B[0]),Fe instanceof Error)throw Fe;var $=new Error("Unhandled error."+(Fe?" ("+Fe.message+")":""));throw $.context=Fe,$}var ae=le[C];if(void 0===ae)return!1;if("function"==typeof ae)b(ae,this,B);else{var K=ae.length,ge=V(ae,K);for(Y=0;Y<K;++Y)b(ge[Y],this,B)}return!0},L.prototype.on=L.prototype.addListener=function(C,B){return g(this,C,B,!1)},L.prototype.prependListener=function(C,B){return g(this,C,B,!0)},L.prototype.once=function(C,B){return p(B),this.on(C,M(this,C,B)),this},L.prototype.prependOnceListener=function(C,B){return p(B),this.prependListener(C,M(this,C,B)),this},L.prototype.off=L.prototype.removeListener=function(C,B){var Y,q,le,Fe,$;if(p(B),void 0===(q=this._events))return this;if(void 0===(Y=q[C]))return this;if(Y===B||Y.listener===B)0==--this._eventsCount?this._events=Object.create(null):(delete q[C],q.removeListener&&this.emit("removeListener",C,Y.listener||B));else if("function"!=typeof Y){for(le=-1,Fe=Y.length-1;Fe>=0;Fe--)if(Y[Fe]===B||Y[Fe].listener===B){$=Y[Fe].listener,le=Fe;break}if(le<0)return this;0===le?Y.shift():function k(N,C){for(;C+1<N.length;C++)N[C]=N[C+1];N.pop()}(Y,le),1===Y.length&&(q[C]=Y[0]),void 0!==q.removeListener&&this.emit("removeListener",C,$||B)}return this},L.prototype.removeAllListeners=function(C){var B,Y,q;if(void 0===(Y=this._events))return this;if(void 0===Y.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==Y[C]&&(0==--this._eventsCount?this._events=Object.create(null):delete Y[C]),this;if(0===arguments.length){var Fe,le=Object.keys(Y);for(q=0;q<le.length;++q)"removeListener"!==(Fe=le[q])&&this.removeAllListeners(Fe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(B=Y[C]))this.removeListener(C,B);else if(void 0!==B)for(q=B.length-1;q>=0;q--)this.removeListener(C,B[q]);return this},L.prototype.listeners=function(C){return U(this,C,!0)},L.prototype.rawListeners=function(C){return U(this,C,!1)},L.listenerCount=function(N,C){return"function"==typeof N.listenerCount?N.listenerCount(C):R.call(N,C)},L.prototype.listenerCount=R,L.prototype.eventNames=function(){return this._eventsCount>0?w(this._events):[]}},"./node_modules/fast-deep-equal/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/fast-deep-equal/index.js ***!
                  \***********************************************/
/*! no static exports found */function(tt,S,c){"use strict";var t=Array.isArray,b=Object.keys,w=Object.prototype.hasOwnProperty;tt.exports=function E(F,L){if(F===L)return!0;if(F&&L&&"object"==typeof F&&"object"==typeof L){var f,g,y,D=t(F),p=t(L);if(D&&p){if((g=F.length)!=L.length)return!1;for(f=g;0!=f--;)if(!E(F[f],L[f]))return!1;return!0}if(D!=p)return!1;var M=F instanceof Date,U=L instanceof Date;if(M!=U)return!1;if(M&&U)return F.getTime()==L.getTime();var R=F instanceof RegExp,V=L instanceof RegExp;if(R!=V)return!1;if(R&&V)return F.toString()==L.toString();var k=b(F);if((g=k.length)!==b(L).length)return!1;for(f=g;0!=f--;)if(!w.call(L,k[f]))return!1;for(f=g;0!=f--;)if(!E(F[y=k[f]],L[y]))return!1;return!0}return F!=F&&L!=L}},"./node_modules/ieee754/index.js":
/*!***************************************!*\
                  !*** ./node_modules/ieee754/index.js ***!
                  \***************************************/
/*! no static exports found */function(tt,S){S.read=function(c,t,b,w,E){var F,L,D=8*E-w-1,p=(1<<D)-1,f=p>>1,g=-7,y=b?E-1:0,M=b?-1:1,U=c[t+y];for(y+=M,F=U&(1<<-g)-1,U>>=-g,g+=D;g>0;F=256*F+c[t+y],y+=M,g-=8);for(L=F&(1<<-g)-1,F>>=-g,g+=w;g>0;L=256*L+c[t+y],y+=M,g-=8);if(0===F)F=1-f;else{if(F===p)return L?NaN:1/0*(U?-1:1);L+=Math.pow(2,w),F-=f}return(U?-1:1)*L*Math.pow(2,F-w)},S.write=function(c,t,b,w,E,F){var L,D,p,f=8*F-E-1,g=(1<<f)-1,y=g>>1,M=23===E?Math.pow(2,-24)-Math.pow(2,-77):0,U=w?0:F-1,R=w?1:-1,V=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(D=isNaN(t)?1:0,L=g):(L=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-L))<1&&(L--,p*=2),(t+=L+y>=1?M/p:M*Math.pow(2,1-y))*p>=2&&(L++,p/=2),L+y>=g?(D=0,L=g):L+y>=1?(D=(t*p-1)*Math.pow(2,E),L+=y):(D=t*Math.pow(2,y-1)*Math.pow(2,E),L=0));E>=8;c[b+U]=255&D,U+=R,D/=256,E-=8);for(L=L<<E|D,f+=E;f>0;c[b+U]=255&L,U+=R,L/=256,f-=8);c[b+U-R]|=128*V}},"./node_modules/imsc/src/main/js/doc.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/doc.js ***!
                  \**********************************************/
/*! no static exports found */function(tt,S,c){!function(t,b,w,E,F){function L(J){if("contents"in J)for(var Q=("styleAttrs"in J?J.styleAttrs[E.byName.ruby.qname]:null),Z="span"===J.kind&&("container"===Q||"textContainer"===Q||"baseContainer"===Q),ne=J.contents.length-1;ne>=0;ne--)!Z||"styleAttrs"in J.contents[ne]&&E.byName.ruby.qname in J.contents[ne].styleAttrs?L(J.contents[ne]):delete J.contents[ne]}function D(J,Q,Z,ne){var ie=ne&&"seq"===ne.timeContainer,ee=0;ne&&(ee=ie&&Z?Z.end:ne.begin),Q.begin=Q.explicit_begin?Q.explicit_begin+ee:ee;var X=Q.begin,ue=null;if("sets"in Q)for(var ve=0;ve<Q.sets.length;ve++)D(J,Q.sets[ve],ue,Q),X="seq"===Q.timeContainer?Q.sets[ve].end:Math.max(X,Q.sets[ve].end),ue=Q.sets[ve];if("contents"in Q){if("contents"in Q)for(var de=0;de<Q.contents.length;de++)D(J,Q.contents[de],ue,Q),X="seq"===Q.timeContainer?Q.contents[de].end:Math.max(X,Q.contents[de].end),ue=Q.contents[de]}else X=ie?Q.begin:Number.POSITIVE_INFINITY;Q.end=null!==Q.explicit_end&&null!==Q.explicit_dur?Math.min(Q.begin+Q.explicit_dur,ee+Q.explicit_end):null===Q.explicit_end&&null!==Q.explicit_dur?Q.begin+Q.explicit_dur:null!==Q.explicit_end&&null===Q.explicit_dur?ee+Q.explicit_end:X,delete Q.explicit_begin,delete Q.explicit_dur,delete Q.explicit_end,J._registerEvent(Q)}function p(J){this.node=J}function f(){this.events=[],this.head=new g,this.body=null}function g(){this.styling=new y,this.layout=new R}function y(){this.styles={},this.initials={}}function M(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function U(){this.styleAttrs=null}function R(){this.regions={}}function V(J,Q){k.call(this,"image"),this.src=J,this.type=Q}function k(J){this.kind=J}function O(J){this.id=J}function x(J){this.regionID=J}function P(J){this.styleAttrs=J}function T(J){this.sets=J}function N(J){this.contents=J}function C(J,Q,Z){this.explicit_begin=J,this.explicit_end=Q,this.explicit_dur=Z}function B(){k.call(this,"body")}function Y(){k.call(this,"div")}function q(){k.call(this,"p")}function le(){k.call(this,"span")}function Fe(){k.call(this,"span")}function $(){k.call(this,"br")}function ae(){}function K(){}function ge(J){return J&&"xml:id"in J.attributes&&J.attributes["xml:id"].value||null}function Ce(J){return J&&"style"in J.attributes?J.attributes.style.value.split(" "):[]}function Le(J,Q){var Z={};if(null!==J)for(var ne in J.attributes){var ie=J.attributes[ne].uri+" "+J.attributes[ne].local,ee=E.byQName[ie];if(void 0!==ee){var X=ee.parse(J.attributes[ne].value);null!==X?(Z[ie]=X,ee===E.byName.zIndex&&Te(Q,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):W(Q,"Cannot parse styling attribute "+ie+" --\x3e "+J.attributes[ne].value)}}return Z}function fe(J,Q,Z){for(var ne in J.attributes)if(J.attributes[ne].uri===Q&&J.attributes[ne].local===Z)return J.attributes[ne].value;return null}function ke(J,Q,Z){var Ke,Ve=null;return null!==(Ke=/^(\d+(?:\.\d+)?)f$/.exec(Z))?null!==Q&&(Ve=parseFloat(Ke[1])/Q):null!==(Ke=/^(\d+(?:\.\d+)?)t$/.exec(Z))?null!==J&&(Ve=parseFloat(Ke[1])/J):null!==(Ke=/^(\d+(?:\.\d+)?)ms$/.exec(Z))?Ve=parseFloat(Ke[1])/1e3:null!==(Ke=/^(\d+(?:\.\d+)?)s$/.exec(Z))?Ve=parseFloat(Ke[1]):null!==(Ke=/^(\d+(?:\.\d+)?)h$/.exec(Z))?Ve=3600*parseFloat(Ke[1]):null!==(Ke=/^(\d+(?:\.\d+)?)m$/.exec(Z))?Ve=60*parseFloat(Ke[1]):null!==(Ke=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(Z))?Ve=3600*parseInt(Ke[1])+60*parseInt(Ke[2])+parseFloat(Ke[3]):null!==(Ke=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(Z))&&null!==Q&&(Ve=3600*parseInt(Ke[1])+60*parseInt(Ke[2])+parseInt(Ke[3])+(null===Ke[4]?0:parseInt(Ke[4])/Q)),Ve}function He(J,Q,Z){for(;Q.styleRefs.length>0;){var ne=Q.styleRefs.pop();ne in J.styles?(He(J,J.styles[ne],Z),Je(J.styles[ne].styleAttrs,Q.styleAttrs)):W(Z,"Non-existant style id referenced")}}function at(J,Q,Z,ne){for(var ie=Q.length-1;ie>=0;ie--){var ee=Q[ie];ee in J.styles?Je(J.styles[ee].styleAttrs,Z):W(ne,"Non-existant style id referenced")}}function Je(J,Q){for(var Z in J)J.hasOwnProperty(Z)&&(Z in Q||(Q[Z]=J[Z]))}function Te(J,Q){if(J&&J.warn&&J.warn(Q))throw Q}function W(J,Q){if(J&&J.error&&J.error(Q))throw Q}function se(J,Q){throw J&&J.fatal&&J.fatal(Q),Q}function _e(J,Q){for(var ie,Z=0,ne=J.length-1;Z<=ne;){var ee=J[ie=Math.floor((Z+ne)/2)];if(ee<Q)Z=ie+1;else{if(!(ee>Q))return{found:!0,index:ie};ne=ie-1}}return{found:!1,index:Z}}t.fromXML=function(J,Q,Z){var ne=b.parser(!0,{xmlns:!0}),ie=[],ee=[],X=[],ue=0,ve=null;ne.onclosetag=function(lt){if(ie[0]instanceof ae)null!==ve.head&&null!==ve.head.styling&&at(ve.head.styling,ie[0].styleRefs,ie[0].styleAttrs,Q),delete ie[0].styleRefs;else if(ie[0]instanceof y)for(var dt in ie[0].styles)ie[0].styles.hasOwnProperty(dt)&&He(ie[0],ie[0].styles[dt],Q);else if(ie[0]instanceof q||ie[0]instanceof le){if(ie[0].contents.length>1){var bt,it=[ie[0].contents[0]];for(bt=1;bt<ie[0].contents.length;bt++)ie[0].contents[bt]instanceof Fe&&it[it.length-1]instanceof Fe?it[it.length-1].text+=ie[0].contents[bt].text:it.push(ie[0].contents[bt]);ie[0].contents=it}ie[0]instanceof le&&1===ie[0].contents.length&&ie[0].contents[0]instanceof Fe&&(ie[0].text=ie[0].contents[0].text,delete ie[0].contents)}else ie[0]instanceof p&&(ie[0].node.uri===w.ns_tt&&"metadata"===ie[0].node.local?ue--:ue>0&&Z&&"onCloseTag"in Z&&Z.onCloseTag());X.shift(),ee.shift(),ie.shift()},ne.ontext=function(lt){if(void 0!==ie[0])if(ie[0]instanceof le||ie[0]instanceof q){if(ie[0]instanceof le){var dt=ie[0].styleAttrs[E.byName.ruby.qname];if("container"===dt||"textContainer"===dt||"baseContainer"===dt)return}var it=new Fe;it.initFromText(ve,ie[0],lt,ee[0],X[0],Q),ie[0].contents.push(it)}else ie[0]instanceof p&&ue>0&&Z&&"onText"in Z&&Z.onText(lt)},ne.onopentag=function(lt){var dt=lt.attributes["xml:space"];X.unshift(dt?dt.value:0===X.length?"default":X[0]);var it=lt.attributes["xml:lang"];if(ee.unshift(it?it.value:0===ee.length?"":ee[0]),lt.uri===w.ns_tt)if("tt"===lt.local)null!==ve&&se(Q,"Two <tt> elements at ("+this.line+","+this.column+")"),(ve=new f).initFromNode(lt,ee[0],Q),ie.unshift(ve);else if("head"===lt.local)ie[0]instanceof f||se(Q,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),ie.unshift(ve.head);else if("styling"===lt.local)ie[0]instanceof g||se(Q,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),ie.unshift(ve.head.styling);else if("style"===lt.local){var bt;ie[0]instanceof y?((bt=new M).initFromNode(lt,Q),bt.id?ve.head.styling.styles[bt.id]=bt:W(Q,"<style> element missing @id attribute"),ie.unshift(bt)):ie[0]instanceof ae?((bt=new M).initFromNode(lt,Q),Je(bt.styleAttrs,ie[0].styleAttrs),ie.unshift(bt)):se(Q,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===lt.local){var Ut;if(ie[0]instanceof y){for(var wt in(Ut=new U).initFromNode(lt,Q),Ut.styleAttrs)Ut.styleAttrs.hasOwnProperty(wt)&&(ve.head.styling.initials[wt]=Ut.styleAttrs[wt]);ie.unshift(Ut)}else se(Q,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===lt.local)ie[0]instanceof g||se(Q,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),ie.unshift(ve.head.layout);else if("region"===lt.local){ie[0]instanceof R||se(Q,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var Ht=new ae;Ht.initFromNode(ve,lt,ee[0],Q),!Ht.id||Ht.id in ve.head.layout.regions?W(Q,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):ve.head.layout.regions[Ht.id]=Ht,ie.unshift(Ht)}else if("body"===lt.local){ie[0]instanceof f||se(Q,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==ve.body&&se(Q,"Second <body> element at "+this.line+","+this.column+")");var en=new B;en.initFromNode(ve,lt,ee[0],Q),ve.body=en,ie.unshift(en)}else if("div"===lt.local){ie[0]instanceof Y||ie[0]instanceof B||se(Q,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var ln=new Y;ln.initFromNode(ve,ie[0],lt,ee[0],Q);var cn=ln.styleAttrs[E.byName.backgroundImage.qname];cn&&(ln.contents.push(new V(cn)),delete ln.styleAttrs[E.byName.backgroundImage.qname]),ie[0].contents.push(ln),ie.unshift(ln)}else if("image"===lt.local){ie[0]instanceof Y||se(Q,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var Wt=new V;Wt.initFromNode(ve,ie[0],lt,ee[0],Q),ie[0].contents.push(Wt),ie.unshift(Wt)}else if("p"===lt.local){ie[0]instanceof Y||se(Q,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var Sn=new q;Sn.initFromNode(ve,ie[0],lt,ee[0],Q),ie[0].contents.push(Sn),ie.unshift(Sn)}else if("span"===lt.local){ie[0]instanceof le||ie[0]instanceof q||se(Q,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var nn=new le;nn.initFromNode(ve,ie[0],lt,ee[0],X[0],Q),ie[0].contents.push(nn),ie.unshift(nn)}else if("br"===lt.local){ie[0]instanceof le||ie[0]instanceof q||se(Q,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var Dt=new $;Dt.initFromNode(ve,ie[0],lt,ee[0],Q),ie[0].contents.push(Dt),ie.unshift(Dt)}else if("set"===lt.local){ie[0]instanceof le||ie[0]instanceof q||ie[0]instanceof Y||ie[0]instanceof B||ie[0]instanceof ae||ie[0]instanceof $||se(Q,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var mt=new K;mt.initFromNode(ve,ie[0],lt,Q),ie[0].sets.push(mt),ie.unshift(mt)}else ie.unshift(new p(lt));else ie.unshift(new p(lt));if(ie[0]instanceof p)if(lt.uri===w.ns_tt&&"metadata"===lt.local)ue++;else if(ue>0&&Z&&"onOpenTag"in Z){var Qe=[];for(var De in lt.attributes)Qe[lt.attributes[De].uri+" "+lt.attributes[De].local]={uri:lt.attributes[De].uri,local:lt.attributes[De].local,value:lt.attributes[De].value};Z.onOpenTag(lt.uri,lt.local,Qe)}},ne.write(J).close(),delete ve.head.styling.styles;var de=!1;for(var xe in ve.head.layout.regions)if(ve.head.layout.regions.hasOwnProperty(xe)){de=!0;break}if(!de){var Ke=ae.prototype.createDefaultRegion(ve.lang);ve.head.layout.regions[Ke.id]=Ke}for(var Ve in ve.head.layout.regions)ve.head.layout.regions.hasOwnProperty(Ve)&&D(ve,ve.head.layout.regions[Ve],null,null);return ve.body&&D(ve,ve.body,null,null),ve.body&&L(ve.body),ve},f.prototype.initFromNode=function(J,Q,Z){var ne=function Ae(J,Q){var Z=fe(J,w.ns_ttp,"cellResolution"),ne=15,ie=32;if(null!==Z){var X=/(\d+) (\d+)/.exec(Z);null!==X?(ie=parseInt(X[1]),ne=parseInt(X[2])):Te(Q,"Malformed cellResolution value (using initial value instead)")}return{w:ie,h:ne}}(J,Z);this.cellLength={h:new F.ComputedLength(0,1/ne.h),w:new F.ComputedLength(1/ne.w,0)};var ie=function pe(J,Q){var ie,Z=fe(J,w.ns_ttp,"frameRate"),ne=30;null!==Z&&(null!==(ie=/(\d+)/.exec(Z))?ne=parseInt(ie[1]):Te(Q,"Malformed frame rate attribute (using initial value instead)"));var X=fe(J,w.ns_ttp,"frameRateMultiplier"),ue=1;null!==X&&(null!==(ie=/(\d+) (\d+)/.exec(X))?ue=parseInt(ie[1])/parseInt(ie[2]):Te(Q,"Malformed frame rate multiplier attribute (using initial value instead)"));var de=ue*ne,xe=1,Ke=fe(J,w.ns_ttp,"tickRate");return null===Ke?null!==Z&&(xe=de):null!==(ie=/(\d+)/.exec(Ke))?xe=parseInt(ie[1]):Te(Q,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:de,tickRate:xe}}(J,Z);this.effectiveFrameRate=ie.effectiveFrameRate,this.tickRate=ie.tickRate,this.aspectRatio=function Re(J,Q){var Z=fe(J,w.ns_ittp,"aspectRatio");null===Z&&(Z=fe(J,w.ns_ttp,"displayAspectRatio"));var ne=null;if(null!==Z){var ee=/(\d+)\s+(\d+)/.exec(Z);if(null!==ee){var X=parseInt(ee[1]),ue=parseInt(ee[2]);0!==X&&0!==ue?ne=X/ue:W(Q,"Illegal aspectRatio values (ignoring)")}else W(Q,"Malformed aspectRatio attribute (ignoring)")}return ne}(J,Z);var ee=fe(J,w.ns_ttp,"timeBase");null!==ee&&"media"!==ee&&se(Z,"Unsupported time base");var X=function Ue(J,Q){var Z=fe(J,w.ns_tts,"extent");if(null===Z)return null;var ne=Z.split(" ");if(2!==ne.length)return Te(Q,"Malformed extent (ignoring)"),null;var ie=F.parseLength(ne[0]),ee=F.parseLength(ne[1]);return ee&&ie?{h:ee,w:ie}:(Te(Q,"Malformed extent values (ignoring)"),null)}(J,Z);null===X?this.pxLength={h:null,w:null}:(("px"!==X.h.unit||"px"!==X.w.unit)&&se(Z,"Extent on TT must be in px or absent"),this.pxLength={h:new F.ComputedLength(0,1/X.h.value),w:new F.ComputedLength(1/X.w.value,0)}),this.dimensions={h:new F.ComputedLength(0,1),w:new F.ComputedLength(1,0)},this.lang=Q},f.prototype._registerEvent=function(J){if(!(J.end<=J.begin)){var Q=_e(this.events,J.begin);if(Q.found||this.events.splice(Q.index,0,J.begin),J.end!==Number.POSITIVE_INFINITY){var Z=_e(this.events,J.end);Z.found||this.events.splice(Z.index,0,J.end)}}},f.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},f.prototype.getMediaTimeEvents=function(){return this.events},M.prototype.initFromNode=function(J,Q){this.id=ge(J),this.styleAttrs=Le(J,Q),this.styleRefs=Ce(J)},U.prototype.initFromNode=function(J,Q){for(var Z in this.styleAttrs={},J.attributes)J.attributes[Z].uri!==w.ns_itts&&J.attributes[Z].uri!==w.ns_ebutts&&J.attributes[Z].uri!==w.ns_tts||(this.styleAttrs[J.attributes[Z].uri+" "+J.attributes[Z].local]=J.attributes[Z].value)},V.prototype.initFromNode=function(J,Q,Z,ne,ie){this.src="src"in Z.attributes?Z.attributes.src.value:null,this.src||W(ie,"Invalid image@src attribute"),this.type="type"in Z.attributes?Z.attributes.type.value:null,this.type||W(ie,"Invalid image@type attribute"),P.prototype.initFromNode.call(this,J,Q,Z,ie),C.prototype.initFromNode.call(this,J,Q,Z,ie),T.prototype.initFromNode.call(this,J,Q,Z,ie),x.prototype.initFromNode.call(this,J,Q,Z,ie),this.lang=ne},O.prototype.initFromNode=function(J,Q,Z,ne){this.id=ge(Z)},x.prototype.initFromNode=function(J,Q,Z,ne){this.regionID=function oe(J){return J&&"region"in J.attributes?J.attributes.region.value:""}(Z)},P.prototype.initFromNode=function(J,Q,Z,ne){this.styleAttrs=Le(Z,ne),null!==J.head&&null!==J.head.styling&&at(J.head.styling,Ce(Z),this.styleAttrs,ne)},T.prototype.initFromNode=function(J,Q,Z,ne){this.sets=[]},N.prototype.initFromNode=function(J,Q,Z,ne){this.contents=[]},C.prototype.initFromNode=function(J,Q,Z,ne){var ie=function we(J,Q,Z,ne){var ie=null;Z&&"begin"in Z.attributes&&null===(ie=ke(J.tickRate,J.effectiveFrameRate,Z.attributes.begin.value))&&Te(ne,"Malformed begin value "+Z.attributes.begin.value+" (using 0)");var ee=null;Z&&"dur"in Z.attributes&&null===(ee=ke(J.tickRate,J.effectiveFrameRate,Z.attributes.dur.value))&&Te(ne,"Malformed dur value "+Z.attributes.dur.value+" (ignoring)");var X=null;return Z&&"end"in Z.attributes&&null===(X=ke(J.tickRate,J.effectiveFrameRate,Z.attributes.end.value))&&Te(ne,"Malformed end value (ignoring)"),{explicit_begin:ie,explicit_end:X,explicit_dur:ee}}(J,0,Z,ne);this.explicit_begin=ie.explicit_begin,this.explicit_end=ie.explicit_end,this.explicit_dur=ie.explicit_dur,this.timeContainer=function he(J,Q){var Z=J&&"timeContainer"in J.attributes?J.attributes.timeContainer.value:null;return Z&&"par"!==Z?"seq"===Z?"seq":(W(Q,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(Z,ne)},B.prototype.initFromNode=function(J,Q,Z,ne){P.prototype.initFromNode.call(this,J,null,Q,ne),C.prototype.initFromNode.call(this,J,null,Q,ne),T.prototype.initFromNode.call(this,J,null,Q,ne),x.prototype.initFromNode.call(this,J,null,Q,ne),N.prototype.initFromNode.call(this,J,null,Q,ne),this.lang=Z},Y.prototype.initFromNode=function(J,Q,Z,ne,ie){P.prototype.initFromNode.call(this,J,Q,Z,ie),C.prototype.initFromNode.call(this,J,Q,Z,ie),T.prototype.initFromNode.call(this,J,Q,Z,ie),x.prototype.initFromNode.call(this,J,Q,Z,ie),N.prototype.initFromNode.call(this,J,Q,Z,ie),this.lang=ne},q.prototype.initFromNode=function(J,Q,Z,ne,ie){P.prototype.initFromNode.call(this,J,Q,Z,ie),C.prototype.initFromNode.call(this,J,Q,Z,ie),T.prototype.initFromNode.call(this,J,Q,Z,ie),x.prototype.initFromNode.call(this,J,Q,Z,ie),N.prototype.initFromNode.call(this,J,Q,Z,ie),this.lang=ne},le.prototype.initFromNode=function(J,Q,Z,ne,ie,ee){P.prototype.initFromNode.call(this,J,Q,Z,ee),C.prototype.initFromNode.call(this,J,Q,Z,ee),T.prototype.initFromNode.call(this,J,Q,Z,ee),x.prototype.initFromNode.call(this,J,Q,Z,ee),N.prototype.initFromNode.call(this,J,Q,Z,ee),this.space=ie,this.lang=ne},Fe.prototype.initFromText=function(J,Q,Z,ne,ie,ee){C.prototype.initFromNode.call(this,J,Q,null,ee),this.text=Z,this.space=ie,this.lang=ne},$.prototype.initFromNode=function(J,Q,Z,ne,ie){x.prototype.initFromNode.call(this,J,Q,Z,ie),C.prototype.initFromNode.call(this,J,Q,Z,ie),this.lang=ne},ae.prototype.createDefaultRegion=function(J){var Q=new ae;return O.call(Q,""),P.call(Q,{}),T.call(Q,[]),C.call(Q,0,Number.POSITIVE_INFINITY,null),this.lang=J,Q},ae.prototype.initFromNode=function(J,Q,Z,ne){O.prototype.initFromNode.call(this,J,null,Q,ne),C.prototype.initFromNode.call(this,J,null,Q,ne),T.prototype.initFromNode.call(this,J,null,Q,ne),this.styleAttrs=Le(Q,ne),this.styleRefs=Ce(Q),this.lang=Z},K.prototype.initFromNode=function(J,Q,Z,ne){C.prototype.initFromNode.call(this,J,Q,Z,ne);var ie=Le(Z,ne);for(var ee in this.qname=null,this.value=null,ie)if(ie.hasOwnProperty(ee)){if(this.qname){W(ne,"More than one style specified on set");break}this.qname=ee,this.value=ie[ee]}}}(S,typeof sax>"u"?c(
/*! sax */
"./node_modules/sax/lib/sax.js"):sax,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/html.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/html.js ***!
                  \***********************************************/
/*! no static exports found */function(tt,S,c){!function(t,b,w){function E($,ae,K,ge){var oe;if("region"===K.kind)(oe=document.createElement("div")).style.position="absolute";else if("body"===K.kind)oe=document.createElement("div");else if("div"===K.kind)oe=document.createElement("div");else if("image"===K.kind){if(oe=document.createElement("img"),null!==$.imgResolver&&null!==K.src){var he=$.imgResolver(K.src,oe);he&&(oe.src=he),oe.height=$.regionH,oe.width=$.regionW}}else if("p"===K.kind)oe=document.createElement("p");else if("span"===K.kind)if("container"===K.styleAttrs[w.byName.ruby.qname])oe=document.createElement("ruby"),$.ruby=!0;else if("base"===K.styleAttrs[w.byName.ruby.qname])oe=document.createElement("rb");else if("text"===K.styleAttrs[w.byName.ruby.qname])oe=document.createElement("rt");else if("baseContainer"===K.styleAttrs[w.byName.ruby.qname])oe=document.createElement("rbc");else if("textContainer"===K.styleAttrs[w.byName.ruby.qname])oe=document.createElement("rtc");else{if("delimiter"===K.styleAttrs[w.byName.ruby.qname])return;oe=document.createElement("span")}else"br"===K.kind&&(oe=document.createElement("br"));if(oe){if(K.lang&&("region"===K.kind||K.lang!==ge.lang)&&(oe.lang=K.lang),ae.appendChild(oe),oe.style.margin="0","region"===K.kind){var Ce=K.styleAttrs[w.byName.writingMode.qname];"lrtb"===Ce||"lr"===Ce?($.ipd="lr",$.bpd="tb"):"rltb"===Ce||"rl"===Ce?($.ipd="rl",$.bpd="tb"):"tblr"===Ce?($.ipd="tb",$.bpd="lr"):("tbrl"===Ce||"tb"===Ce)&&($.ipd="tb",$.bpd="rl")}else"p"===K.kind&&"tb"===$.bpd&&($.ipd="ltr"===K.styleAttrs[w.byName.direction.qname]?"lr":"rl");for(var fe=0;fe<T.length;fe++){var Re=T[fe],Ae=K.styleAttrs[Re.qname];void 0!==Ae&&null!==Re.map&&Re.map($,oe,K,Ae)}var pe=oe,Ue=K.styleAttrs[w.byName.linePadding.qname];if(Ue&&!Ue.isZero()){var ke=Ue.toUsedLength($.w,$.h);if(ke>0){var we=Math.ceil(ke)+"px";"tb"===$.bpd?(pe.style.paddingLeft=we,pe.style.paddingRight=we):(pe.style.paddingTop=we,pe.style.paddingBottom=we),$.lp=Ue}}var He=K.styleAttrs[w.byName.multiRowAlign.qname];if(He&&"auto"!==He){var at=document.createElement("span");at.style.display="inline-block",at.style.textAlign=He,oe.appendChild(at),pe=at,$.mra=He}var Je=K.styleAttrs[w.byName.rubyReserve.qname];if(Je&&"none"!==Je[0]&&($.rubyReserve=Je),K.styleAttrs[w.byName.fillLineGap.qname]&&($.flg=!0),"span"===K.kind&&K.text){var Ne=K.styleAttrs[w.byName.textEmphasis.qname];if(Ne&&"none"!==Ne.style&&($.textEmphasis=!0),w.byName.textCombine.qname in K.styleAttrs&&"all"===K.styleAttrs[w.byName.textCombine.qname])oe.textContent=K.text,Ne&&x($,oe,0,Ne);else for(var Te="",W=0;W<K.text.length;W++){Te+=K.text.charAt(W);var se=K.text.charCodeAt(W);if(se<55296||se>56319||W===K.text.length-1){var _e=document.createElement("span");_e.textContent=Te,Ne&&x($,_e,0,Ne),oe.appendChild(_e),Te="",_e._isd_element=K}}}if("contents"in K)for(var J=0;J<K.contents.length;J++)E($,pe,K.contents[J],K);var Q=[];if("p"===K.kind&&(k($,pe,Q,null),$.rubyReserve&&(function M($,ae){for(var K=0;K<$.length;K++){var ge=document.createElement("ruby"),oe=document.createElement("rb");oe.textContent="\u200b",ge.appendChild(oe);var he,Ce,Le=ae.rubyReserve[1].toUsedLength(ae.w,ae.h)+"px";"both"===ae.rubyReserve[0]||"outside"===ae.rubyReserve[0]&&1==$.length?((he=document.createElement("rtc")).style[Y]=B?"after":"under",he.textContent="\u200b",he.style.fontSize=Le,(Ce=document.createElement("rtc")).style[Y]=B?"before":"over",Ce.textContent="\u200b",Ce.style.fontSize=Le,ge.appendChild(he),ge.appendChild(Ce)):((he=document.createElement("rtc")).textContent="\u200b",he.style.fontSize=Le,he.style[Y]="after"===ae.rubyReserve[0]||"outside"===ae.rubyReserve[0]&&K>0?B?"after":"tb"===ae.bpd||"rl"===ae.bpd?"under":"over":B?"before":"tb"===ae.bpd||"rl"===ae.bpd?"over":"under",ge.appendChild(he));for(var Re=null,Ae=0;Ae<$[K].rbc.length;Ae++)if("ruby"===$[K].rbc[Ae].localName){Re=$[K].rbc[Ae];for(var pe=0;pe<Re.style.length;pe++)ge.style.setProperty(Re.style.item(pe),Re.style.getPropertyValue(Re.style.item(pe)));break}(Re=Re||$[K].elements[0].node).parentElement.insertBefore(ge,Re)}}(Q,$),$.rubyReserve=null),($.ruby||$.rubyReserve)&&(function y($,ae){for(var K=0;K<$.length;K++)for(var ge=0;ge<$[K].rbc.length;ge++)$[K].rbc[ge].style[Y]||($[K].rbc[ge].style[Y]=B?0===K?"before":"after":"tb"===ae.bpd||"rl"===ae.bpd?0===K?"over":"under":0===K?"under":"over")}(Q,$),$.ruby=null),$.textEmphasis&&(function g($,ae){for(var K=0;K<$.length;K++)for(var ge=0;ge<$[K].te.length;ge++)$[K].te[ge].style[le]&&"none"!==$[K].te[ge].style[le]||($[K].te[ge].style[le]="tb"===ae.bpd?0===K?"left over":"left under":"rl"===ae.bpd?0===K?"right under":"left under":0===K?"left under":"right under")}(Q,$),$.textEmphasis=null),$.mra&&(function f($){for(var ae=0;ae<$.length-1;ae++){var K=$[ae].elements.length;if(0!==K&&!1===$[ae].br){var ge=document.createElement("br"),oe=$[ae].elements[K-1].node;oe.parentElement.insertBefore(ge,oe.nextSibling)}}}(Q),$.mra=null),$.lp&&(function p($,ae,K){if(null!==$)for(var ge=0;ge<$.length;ge++){var oe=$[ge].elements.length,he=Math.ceil(ae)+"px",Ce="-"+Math.ceil(ae)+"px";if(0!==oe){var Le=$[ge].elements[$[ge].start_elem],fe=$[ge].elements[$[ge].end_elem];if(Le===fe&&(elementBoundingRect=Le.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===K.ipd?(Le.node.style.marginLeft=Ce,Le.node.style.paddingLeft=he):"rl"===K.ipd?(Le.node.style.paddingRight=he,Le.node.style.marginRight=Ce):"tb"===K.ipd&&(Le.node.style.paddingTop=he,Le.node.style.marginTop=Ce),"lr"===K.ipd?(fe.node.style.marginRight=Ce,fe.node.style.paddingRight=he):"rl"===K.ipd?(fe.node.style.paddingLeft=he,fe.node.style.marginLeft=Ce):"tb"===K.ipd&&(fe.node.style.paddingBottom=he,fe.node.style.marginBottom=Ce)}}}(Q,$.lp.toUsedLength($.w,$.h),$),$.lp=null),function F($){for(var ae=0;ae<$.length;ae++)for(var K=$[ae],ge=1;ge<K.elements.length;)D(K.elements[ge-1].node,K.elements[ge].node)?K.elements.splice(ge,1):ge++;for(var Ce,Le,fe=[],Re=0;Re<$.length;Re++)for(var Ae=0;Ae<$[Re].elements.length;Ae++)(Le=L(Ce=$[Re].elements[Ae].node,fe,!1))&&(Ce.style.backgroundColor=Le);for(var pe=0;pe<fe.length;pe++)fe[pe].style.backgroundColor=""}(Q),$.flg)){var Z=V(pe.getBoundingClientRect(),$);(function U($,ae,K,ge,oe){for(var he=Math.sign(K-ae),Ce=0;Ce<=$.length;Ce++){var Le,fe,Re,Ae;if(Le=0===Ce?Math.round(ae):Ce===$.length?Math.round(K):Math.round(($[Ce-1].after+$[Ce].before)/2),Ce>0&&$[Ce-1])for(Re=0;Re<$[Ce-1].elements.length;Re++)fe=he*(Le-(Ae=$[Ce-1].elements[Re]).after)+"px","lr"===ge.bpd?Ae.node.style.paddingRight=fe:"rl"===ge.bpd?Ae.node.style.paddingLeft=fe:"tb"===ge.bpd&&(Ae.node.style.paddingBottom=fe);if(Ce<$.length)for(Re=0;Re<$[Ce].elements.length;Re++)fe=he*((Ae=$[Ce].elements[Re]).before-Le)+"px","lr"===ge.bpd?Ae.node.style.paddingLeft=fe:"rl"===ge.bpd?Ae.node.style.paddingRight=fe:"tb"===ge.bpd&&(Ae.node.style.paddingTop=fe)}})(Q,Z.before,Z.after,$),$.flg=null}if("region"===K.kind&&"tb"===$.bpd&&$.enableRollUp&&K.contents.length>0&&"after"===K.styleAttrs[w.byName.displayAlign.qname]){k($,pe,Q,null);var ie=new R(""===K.id?"_":K.id,Q);if($.currentISDState[ie.id]=ie,$.previousISDState&&ie.id in $.previousISDState&&$.previousISDState[ie.id].plist.length>0&&ie.plist.length>1&&ie.plist[ie.plist.length-2].text===$.previousISDState[ie.id].plist[$.previousISDState[ie.id].plist.length-1].text){var ee=oe.firstElementChild,X=ie.plist[ie.plist.length-1].after-ie.plist[ie.plist.length-1].before;ee.style.bottom="-"+X+"px",ee.style.transition="transform 0.4s",ee.style.position="relative",ee.style.transform="translateY(-"+X+"px)"}}}else!function Fe($,ae){if($&&$.error&&$.error(ae))throw ae}($.errorHandler,"Error processing ISD element kind: "+K.kind)}function L($,ae,K){return $.style.backgroundColor?(K&&!ae.includes($)&&ae.push($),$.style.backgroundColor):"SPAN"===$.parentElement.nodeName?L($.parentElement,ae,!0):void 0}function D($,ae){if("SPAN"===$.tagName&&"SPAN"===ae.tagName&&$._isd_element===ae._isd_element){$.textContent+=ae.textContent;for(var K=0;K<ae.style.length;K++){var ge=ae.style[K];(ge.indexOf("border")>=0||ge.indexOf("padding")>=0||ge.indexOf("margin")>=0)&&($.style[ge]=ae.style[ge])}return ae.parentElement.removeChild(ae),!0}return!1}function R($,ae){this.id=$,this.plist=ae}function V($,ae){var K={before:null,after:null,start:null,end:null};return"tb"===ae.bpd?(K.before=$.top,K.after=$.bottom,"lr"===ae.ipd?(K.start=$.left,K.end=$.right):(K.start=$.right,K.end=$.left)):"lr"===ae.bpd?(K.before=$.left,K.after=$.right,K.start=$.top,K.end=$.bottom):"rl"===ae.bpd&&(K.before=$.right,K.after=$.left,K.start=$.top,K.end=$.bottom),K}function k($,ae,K,ge){if("rt"!==ae.localName&&"rtc"!==ae.localName){var oe=ae.style.backgroundColor||ge;if(0===ae.childElementCount)if("span"===ae.localName||"rb"===ae.localName){var Ce=V(ae.getBoundingClientRect(),$);if(0!==K.length&&function O($,ae,K,ge){return ae<ge&&$>K||ge<=ae&&K>=$}(Ce.before,Ce.after,K[K.length-1].before,K[K.length-1].after)){var Le=Math.sign(Ce.after-Ce.before),fe=Math.sign(Ce.end-Ce.start);Le*(Ce.before-K[K.length-1].before)<0&&(K[K.length-1].before=Ce.before),Le*(Ce.after-K[K.length-1].after)>0&&(K[K.length-1].after=Ce.after),fe*(Ce.start-K[K.length-1].start)<0&&(K[K.length-1].start=Ce.start,K[K.length-1].start_elem=K[K.length-1].elements.length),fe*(Ce.end-K[K.length-1].end)>0&&(K[K.length-1].end=Ce.end,K[K.length-1].end_elem=K[K.length-1].elements.length)}else K.push({before:Ce.before,after:Ce.after,start:Ce.start,end:Ce.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});K[K.length-1].text+=ae.textContent,K[K.length-1].elements.push({node:ae,bgcolor:oe,before:Ce.before,after:Ce.after})}else"br"===ae.localName&&0!==K.length&&(K[K.length-1].br=!0);else for(var Re=ae.firstChild;Re;)Re.nodeType===Node.ELEMENT_NODE&&(k($,Re,K,oe),"ruby"===Re.localName||"rtc"===Re.localName?K.length>0&&K[K.length-1].rbc.push(Re):"span"===Re.localName&&Re.style[q]&&"none"!==Re.style[q]&&K.length>0&&K[K.length-1].te.push(Re)),Re=Re.nextSibling}}function x($,ae,K,ge){"none"!==ge.style&&(ae.style[q]="auto"===ge.style?"filled":ge.style+" "+ge.symbol,"before"===ge.position||"after"===ge.position)&&(ae.style[le]="tb"===$.bpd?"before"===ge.position?"left over":"left under":"rl"===$.bpd?"before"===ge.position?"right under":"left under":"before"===ge.position?"left under":"right under")}function P($,ae){this.qname=$,this.map=ae}t.render=function($,ae,K,ge,oe,he,Ce,Le,fe){var Re=ge||ae.clientHeight,Ae=oe||ae.clientWidth;if(null!==$.aspectRatio){var pe=Re*$.aspectRatio;pe>Ae?Re=Math.round(Ae/$.aspectRatio):Ae=pe}var Ue=document.createElement("div");Ue.style.position="relative",Ue.style.width=Ae+"px",Ue.style.height=Re+"px",Ue.style.margin="auto",Ue.style.top=0,Ue.style.bottom=0,Ue.style.left=0,Ue.style.right=0,Ue.style.zIndex=0;var ke={h:Re,w:Ae,regionH:null,regionW:null,imgResolver:K,displayForcedOnlyMode:he||!1,isd:$,errorHandler:Ce,previousISDState:Le,enableRollUp:fe||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(ae.appendChild(Ue),"contents"in $)for(var we=0;we<$.contents.length;we++)E(ke,Ue,$.contents[we],$);return ke.currentISDState};for(var T=[new P("http://www.w3.org/ns/ttml#styling backgroundColor",function($,ae,K,ge){0!==ge[3]&&(ae.style.backgroundColor="rgba("+ge[0].toString()+","+ge[1].toString()+","+ge[2].toString()+","+(ge[3]/255).toString()+")")}),new P("http://www.w3.org/ns/ttml#styling color",function($,ae,K,ge){ae.style.color="rgba("+ge[0].toString()+","+ge[1].toString()+","+ge[2].toString()+","+(ge[3]/255).toString()+")"}),new P("http://www.w3.org/ns/ttml#styling direction",function($,ae,K,ge){ae.style.direction=ge}),new P("http://www.w3.org/ns/ttml#styling display",function($,ae,K,ge){}),new P("http://www.w3.org/ns/ttml#styling displayAlign",function($,ae,K,ge){ae.style.display="flex",ae.style.flexDirection="column","before"===ge?ae.style.justifyContent="flex-start":"center"===ge?ae.style.justifyContent="center":"after"===ge&&(ae.style.justifyContent="flex-end")}),new P("http://www.w3.org/ns/ttml#styling extent",function($,ae,K,ge){$.regionH=ge.h.toUsedLength($.w,$.h),$.regionW=ge.w.toUsedLength($.w,$.h);var oe=0,he=0,Ce=K.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];Ce&&(oe=Ce[0].toUsedLength($.w,$.h)+Ce[2].toUsedLength($.w,$.h),he=Ce[1].toUsedLength($.w,$.h)+Ce[3].toUsedLength($.w,$.h)),ae.style.height=$.regionH-oe+"px",ae.style.width=$.regionW-he+"px"}),new P("http://www.w3.org/ns/ttml#styling fontFamily",function($,ae,K,ge){for(var oe=[],he=0;he<ge.length;he++)"monospaceSerif"===ge[he]?(oe.push("Courier New"),oe.push('"Liberation Mono"'),oe.push("Courier"),oe.push("monospace")):"proportionalSansSerif"===ge[he]?(oe.push("Arial"),oe.push("Helvetica"),oe.push('"Liberation Sans"'),oe.push("sans-serif")):"monospace"===ge[he]?oe.push("monospace"):"sansSerif"===ge[he]?oe.push("sans-serif"):"serif"===ge[he]?oe.push("serif"):"monospaceSansSerif"===ge[he]?(oe.push("Consolas"),oe.push("monospace")):oe.push("proportionalSerif"===ge[he]?"serif":ge[he]);if(oe.length>0){for(var Ce=[oe[0]],Le=1;Le<oe.length;Le++)-1==Ce.indexOf(oe[Le])&&Ce.push(oe[Le]);oe=Ce}ae.style.fontFamily=oe.join(",")}),new P("http://www.w3.org/ns/ttml#styling shear",function($,ae,K,ge){if(0!==ge){var oe=-.9*ge;ae.style.transform="tb"===$.bpd?"skewX("+oe+"deg)":"skewY("+oe+"deg)"}}),new P("http://www.w3.org/ns/ttml#styling fontSize",function($,ae,K,ge){ae.style.fontSize=ge.toUsedLength($.w,$.h)+"px"}),new P("http://www.w3.org/ns/ttml#styling fontStyle",function($,ae,K,ge){ae.style.fontStyle=ge}),new P("http://www.w3.org/ns/ttml#styling fontWeight",function($,ae,K,ge){ae.style.fontWeight=ge}),new P("http://www.w3.org/ns/ttml#styling lineHeight",function($,ae,K,ge){ae.style.lineHeight="normal"===ge?"normal":ge.toUsedLength($.w,$.h)+"px"}),new P("http://www.w3.org/ns/ttml#styling opacity",function($,ae,K,ge){ae.style.opacity=ge}),new P("http://www.w3.org/ns/ttml#styling origin",function($,ae,K,ge){ae.style.top=ge.h.toUsedLength($.w,$.h)+"px",ae.style.left=ge.w.toUsedLength($.w,$.h)+"px"}),new P("http://www.w3.org/ns/ttml#styling overflow",function($,ae,K,ge){ae.style.overflow=ge}),new P("http://www.w3.org/ns/ttml#styling padding",function($,ae,K,ge){var oe=[];oe[0]=ge[0].toUsedLength($.w,$.h)+"px",oe[1]=ge[3].toUsedLength($.w,$.h)+"px",oe[2]=ge[2].toUsedLength($.w,$.h)+"px",oe[3]=ge[1].toUsedLength($.w,$.h)+"px",ae.style.padding=oe.join(" ")}),new P("http://www.w3.org/ns/ttml#styling position",function($,ae,K,ge){ae.style.top=ge.h.toUsedLength($.w,$.h)+"px",ae.style.left=ge.w.toUsedLength($.w,$.h)+"px"}),new P("http://www.w3.org/ns/ttml#styling rubyAlign",function($,ae,K,ge){ae.style.rubyAlign="spaceAround"===ge?"space-around":"center"}),new P("http://www.w3.org/ns/ttml#styling rubyPosition",function($,ae,K,ge){"before"!==ge&&"after"!==ge||(ae.parentElement.style[Y]=B?ge:"tb"===$.bpd||"rl"===$.bpd?"before"===ge?"over":"under":"before"===ge?"under":"over")}),new P("http://www.w3.org/ns/ttml#styling showBackground",null),new P("http://www.w3.org/ns/ttml#styling textAlign",function($,ae,K,ge){ae.style.textAlign="start"===ge?"rl"===$.ipd?"right":"left":"end"===ge?"rl"===$.ipd?"left":"right":ge}),new P("http://www.w3.org/ns/ttml#styling textDecoration",function($,ae,K,ge){ae.style.textDecoration=ge.join(" ").replace("lineThrough","line-through")}),new P("http://www.w3.org/ns/ttml#styling textOutline",function($,ae,K,ge){}),new P("http://www.w3.org/ns/ttml#styling textShadow",function($,ae,K,ge){var oe=K.styleAttrs[w.byName.textOutline.qname];if("none"===ge&&"none"===oe)ae.style.textShadow="";else{var he=[];if("none"!==oe){var Ce="rgba("+oe.color[0].toString()+","+oe.color[1].toString()+","+oe.color[2].toString()+","+(oe.color[3]/255).toString()+")";he.push("1px 1px 1px "+Ce),he.push("-1px 1px 1px "+Ce),he.push("1px -1px 1px "+Ce),he.push("-1px -1px 1px "+Ce)}if("none"!==ge)for(var Le=0;Le<ge.length;Le++)he.push(ge[Le].x_off.toUsedLength($.w,$.h)+"px "+ge[Le].y_off.toUsedLength($.w,$.h)+"px "+ge[Le].b_radius.toUsedLength($.w,$.h)+"px rgba("+ge[Le].color[0].toString()+","+ge[Le].color[1].toString()+","+ge[Le].color[2].toString()+","+(ge[Le].color[3]/255).toString()+")");ae.style.textShadow=he.join(",")}}),new P("http://www.w3.org/ns/ttml#styling textCombine",function($,ae,K,ge){ae.style.textCombineUpright=ge}),new P("http://www.w3.org/ns/ttml#styling textEmphasis",function($,ae,K,ge){}),new P("http://www.w3.org/ns/ttml#styling unicodeBidi",function($,ae,K,ge){ae.style.unicodeBidi="bidiOverride"===ge?"bidi-override":ge}),new P("http://www.w3.org/ns/ttml#styling visibility",function($,ae,K,ge){ae.style.visibility=ge}),new P("http://www.w3.org/ns/ttml#styling wrapOption",function($,ae,K,ge){ae.style.whiteSpace="wrap"===ge?"preserve"===K.space?"pre-wrap":"normal":"preserve"===K.space?"pre":"noWrap"}),new P("http://www.w3.org/ns/ttml#styling writingMode",function($,ae,K,ge){"lrtb"===ge||"lr"===ge||"rltb"===ge||"rl"===ge?ae.style.writingMode="horizontal-tb":"tblr"===ge?ae.style.writingMode="vertical-lr":("tbrl"===ge||"tb"===ge)&&(ae.style.writingMode="vertical-rl")}),new P("http://www.w3.org/ns/ttml#styling zIndex",function($,ae,K,ge){ae.style.zIndex=ge}),new P("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function($,ae,K,ge){$.displayForcedOnlyMode&&!1===ge&&(ae.style.visibility="hidden")})],N={},C=0;C<T.length;C++)N[T[C].qname]=T[C];var B="webkitRubyPosition"in window.getComputedStyle(document.documentElement),Y=B?"webkitRubyPosition":"rubyPosition",q="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",le="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(S,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/isd.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/isd.js ***!
                  \**********************************************/
/*! no static exports found */function(tt,S,c){!function(t,b,w,E){t.generateISD=function(k,O,x){var N,P=new g(k),T={},C={},B=k.head.styling.initials[w.byName.showBackground.qname],Y=k.head.styling.initials[w.byName.backgroundColor.qname];for(var q in k.head.layout.regions)if(k.head.layout.regions.hasOwnProperty(q)){var le=k.head.layout.regions[q],Fe=le.styleAttrs[w.byName.showBackground.qname]||B;C[le.id]=("always"===Fe||void 0===Fe)&&void 0!==(le.styleAttrs[w.byName.backgroundColor.qname]||Y)&&!(O<le.begin||O>=le.end)}for(var K in k.body&&k.body.regionID&&(C[k.body.regionID]=!0),N=null!==k.body?function ae(oe,he){if(he.contents){var Le={};for(var fe in he)he.hasOwnProperty(fe)&&(Le[fe]=he[fe]);return Le.contents=[],he.contents.filter(function Ce(Re){return!(oe<Re.begin||oe>=Re.end)}).forEach(function(Re){var Ae=ae(oe,Re);Ae.regionID&&(C[Ae.regionID]=!0),null!==Ae&&Le.contents.push(Ae)}),Le}return he}(O,k.body):null,void 0!==C[""]&&(C[""]=!0),C)if(C[K]){var ge=L(k,O,k.head.layout.regions[K],N,null,"",k.head.layout.regions[K],x,T);null!==ge&&P.contents.push(ge.element)}return P};var F=[w.byName.color.qname,w.byName.textCombine.qname,w.byName.textDecoration.qname,w.byName.textEmphasis.qname,w.byName.textOutline.qname,w.byName.textShadow.qname];function L(k,O,x,P,T,N,C,B,Y){if(O<C.begin||O>=C.end)return null;var q="regionID"in C&&""!==C.regionID?C.regionID:N;if(null!==T&&q!==x.id&&(!("contents"in C)||"contents"in C&&0===C.contents.length||""!==q))return null;var le=new y(C);if("sets"in C)for(var Fe=0;Fe<C.sets.length;Fe++)O<C.sets[Fe].begin||O>=C.sets[Fe].end||(le.styleAttrs[C.sets[Fe].qname]=C.sets[Fe].value);var $={};for(var ae in le.styleAttrs)if(le.styleAttrs.hasOwnProperty(ae)&&($[ae]=!0,"region"===le.kind&&ae===w.byName.writingMode.qname&&!(w.byName.direction.qname in le.styleAttrs))){var K=le.styleAttrs[ae];"lrtb"===K||"lr"===K?le.styleAttrs[w.byName.direction.qname]="ltr":("rltb"===K||"rl"===K)&&(le.styleAttrs[w.byName.direction.qname]="rtl")}if(null!==T)for(var ge=0;ge<w.all.length;ge++){var oe=w.all[ge];if(oe.qname===w.byName.textDecoration.qname){var he=T.styleAttrs[oe.qname],Ce=le.styleAttrs[oe.qname],Le=[];void 0===Ce?Le=he:-1===Ce.indexOf("none")?((-1===Ce.indexOf("noUnderline")&&-1!==he.indexOf("underline")||-1!==Ce.indexOf("underline"))&&Le.push("underline"),(-1===Ce.indexOf("noLineThrough")&&-1!==he.indexOf("lineThrough")||-1!==Ce.indexOf("lineThrough"))&&Le.push("lineThrough"),(-1===Ce.indexOf("noOverline")&&-1!==he.indexOf("overline")||-1!==Ce.indexOf("overline"))&&Le.push("overline")):Le.push("none"),le.styleAttrs[oe.qname]=Le}else if(oe.qname!==w.byName.fontSize.qname||oe.qname in le.styleAttrs||"span"!==le.kind||"textContainer"!==le.styleAttrs[w.byName.ruby.qname])if(oe.qname!==w.byName.fontSize.qname||oe.qname in le.styleAttrs||"span"!==le.kind||"text"!==le.styleAttrs[w.byName.ruby.qname])oe.inherit&&oe.qname in T.styleAttrs&&!(oe.qname in le.styleAttrs)&&(le.styleAttrs[oe.qname]=T.styleAttrs[oe.qname]);else{var Re=T.styleAttrs[w.byName.fontSize.qname];le.styleAttrs[oe.qname]="textContainer"===T.styleAttrs[w.byName.ruby.qname]?Re:new E.ComputedLength(.5*Re.rw,.5*Re.rh)}else{var fe=T.styleAttrs[w.byName.fontSize.qname];le.styleAttrs[oe.qname]=new E.ComputedLength(.5*fe.rw,.5*fe.rh)}}for(var Ae=0;Ae<w.all.length;Ae++){var pe=w.all[Ae];if(!(pe.qname in le.styleAttrs||pe.qname===w.byName.position.qname&&w.byName.origin.qname in le.styleAttrs||pe.qname===w.byName.origin.qname&&w.byName.position.qname in le.styleAttrs)){var Ue=k.head.styling.initials[pe.qname]||pe.initial;if(null!==Ue&&("region"===le.kind||!1===pe.inherit&&null!==Ue)){var ke=pe.parse(Ue);null!==ke?(le.styleAttrs[pe.qname]=ke,$[pe.qname]=!0):R(B,"Invalid initial value for '"+pe.qname+"' on element '"+le.kind)}}}for(var we=0;we<w.all.length;we++){var He=w.all[we];if(He.qname in $&&null!==He.compute){var at=He.compute(k,T,le,le.styleAttrs[He.qname],Y);null!==at?le.styleAttrs[He.qname]=at:(le.styleAttrs[He.qname]=He.compute(k,T,le,He.parse(He.initial),Y),R(B,"Style '"+He.qname+"' on element '"+le.kind+"' cannot be computed"))}}if("none"===le.styleAttrs[w.byName.display.qname])return null;var Je=null;null===T?Je=null===P?[]:[P]:"contents"in C&&(Je=C.contents);for(var Ne=0;null!==Je&&Ne<Je.length;Ne++){var Te=L(k,O,x,P,le,q,Je[Ne],B,Y);null!==Te&&le.contents.push(Te.element)}for(var W in le.styleAttrs)if(le.styleAttrs.hasOwnProperty(W)){var se=!1;if("span"===le.kind){var _e=le.styleAttrs[w.byName.ruby.qname];(se=("container"===_e||"textContainer"===_e||"baseContainer"===_e)&&-1!==F.indexOf(W))||(se="container"!==_e&&W===w.byName.rubyAlign.qname),se||(se=!("textContainer"===_e||"text"===_e)&&W===w.byName.rubyPosition.qname)}if(!se){var J=w.byQName[W];"applies"in J&&(se=-1===J.applies.indexOf(le.kind))}se&&delete le.styleAttrs[W]}var Q=le.styleAttrs[w.byName.ruby.qname];if("p"===le.kind||"span"===le.kind&&("textContainer"===Q||"text"===Q)){var Z=[];p(le,Z),function D(k){function O(C){return"br"===C.kind||/[\r\n\t ]$/.test(C.text)}function x(C){return"br"===C.kind||"preserve"===C.space&&/^[\r\n]/.test(C.text)}for(var P,T=0;T<k.length;)if("br"!==(P=k[T]).kind&&"preserve"!==P.space){var N=P.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(N)&&(0===T||O(k[T-1]))&&(N=N.substring(1)),P.text=N,0===N.length?k.splice(T,1):T++}else T++;for(T=0;T<k.length;T++)"br"!==(P=k[T]).kind&&"preserve"!==P.space?/[ ]$/.test(P.text)&&(T===k.length-1||x(k[T+1]))&&(P.text=P.text.slice(0,-1)):T++}(Z),f(le)}return"div"===le.kind&&w.byName.backgroundImage.qname in le.styleAttrs||"br"===le.kind||"image"===le.kind||"contents"in le&&le.contents.length>0||"span"===le.kind&&null!==le.text||"region"===le.kind&&"always"===le.styleAttrs[w.byName.showBackground.qname]?{region_id:q,element:le}:null}function p(k,O){if("contents"in k)for(var x=0;x<k.contents.length;x++){var P=k.contents[x],T=P.styleAttrs[w.byName.ruby.qname];"span"===P.kind&&("textContainer"===T||"text"===T)||("contents"in P?p(P,O):("span"===P.kind&&0!==P.text.length||"br"===P.kind)&&O.push(P))}}function f(k){if("br"===k.kind)return!1;if("text"in k)return 0===k.text.length;if("contents"in k){for(var O=k.contents.length;O--;)f(k.contents[O])&&k.contents.splice(O,1);return 0===k.contents.length}}function g(k){this.contents=[],this.aspectRatio=k.aspectRatio,this.lang=k.lang}function y(k){for(var O in this.kind=k.kind||"region",this.lang=k.lang,k.id&&(this.id=k.id),this.styleAttrs={},k.styleAttrs)k.styleAttrs.hasOwnProperty(O)&&(this.styleAttrs[O]=k.styleAttrs[O]);"src"in k&&(this.src=k.src),"type"in k&&(this.type=k.type),"text"in k?this.text=k.text:("region"===this.kind||"contents"in k)&&(this.contents=[]),"space"in k&&(this.space=k.space)}function R(k,O){if(k&&k.error&&k.error(O))throw O}}(S,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/main.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/main.js ***!
                  \***********************************************/
/*! no static exports found */function(tt,S,c){S.generateISD=c(
/*! ./isd */
"./node_modules/imsc/src/main/js/isd.js").generateISD,S.fromXML=c(
/*! ./doc */
"./node_modules/imsc/src/main/js/doc.js").fromXML,S.renderHTML=c(
/*! ./html */
"./node_modules/imsc/src/main/js/html.js").render},"./node_modules/imsc/src/main/js/names.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/names.js ***!
                  \************************************************/
/*! no static exports found */function(tt,S,c){var t;(t=S).ns_tt="http://www.w3.org/ns/ttml",t.ns_tts="http://www.w3.org/ns/ttml#styling",t.ns_ttp="http://www.w3.org/ns/ttml#parameter",t.ns_xml="http://www.w3.org/XML/1998/namespace",t.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",t.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",t.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",t.ns_ebutts="urn:ebu:tt:style"},"./node_modules/imsc/src/main/js/styles.js":
/*!*************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/styles.js ***!
                  \*************************************************/
/*! no static exports found */function(tt,S,c){!function(t,b,w){function E(D,p,f,g,y,M,U,R){this.name=p,this.ns=D,this.qname=D+" "+p,this.inherit=y,this.animatable=M,this.initial=f,this.applies=g,this.parse=U,this.compute=R}for(var F in t.all=[new E(b.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,w.parseColor,null),new E(b.ns_tts,"color","white",["span"],!0,!0,w.parseColor,null),new E(b.ns_tts,"direction","ltr",["p","span"],!0,!0,function(D){return D},null),new E(b.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(D){return D},null),new E(b.ns_tts,"displayAlign","before",["region"],!1,!0,function(D){return D},null),new E(b.ns_tts,"extent","auto",["tt","region"],!1,!0,function(D){if("auto"===D)return D;var p=D.split(" ");if(2!==p.length)return null;var f=w.parseLength(p[0]),g=w.parseLength(p[1]);return g&&f?{h:g,w:f}:null},function(D,p,f,g,y){var M,U;if("auto"===g)M=new w.ComputedLength(0,1);else if(null===(M=w.toComputedLength(g.h.value,g.h.unit,null,D.dimensions.h,null,D.pxLength.h)))return null;if("auto"===g)U=new w.ComputedLength(1,0);else if(null===(U=w.toComputedLength(g.w.value,g.w.unit,null,D.dimensions.w,null,D.pxLength.w)))return null;return{h:M,w:U}}),new E(b.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(D){for(var p=D.split(","),f=[],g=0;g<p.length;g++)"'"!==p[g].charAt(0)&&'"'!==p[g].charAt(0)&&"default"===p[g]?f.push("monospaceSerif"):f.push(p[g]);return f},null),new E(b.ns_tts,"shear","0%",["p"],!0,!0,w.parseLength,function(D,p,f,g){return"%"!==g.unit?null:Math.abs(g.value)>100?100*Math.sign(g.value):g.value}),new E(b.ns_tts,"fontSize","1c",["span","p"],!0,!0,w.parseLength,function(D,p,f,g,y){return w.toComputedLength(g.value,g.unit,null!==p?p.styleAttrs[t.byName.fontSize.qname]:D.cellLength.h,null!==p?p.styleAttrs[t.byName.fontSize.qname]:D.cellLength.h,D.cellLength.h,D.pxLength.h)}),new E(b.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(D){return D},null),new E(b.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(D){return D},null),new E(b.ns_tts,"lineHeight","normal",["p"],!0,!0,function(D){return"normal"===D?D:w.parseLength(D)},function(D,p,f,g,y){var M;if("normal"===g)M=g;else if(null===(M=w.toComputedLength(g.value,g.unit,f.styleAttrs[t.byName.fontSize.qname],f.styleAttrs[t.byName.fontSize.qname],D.cellLength.h,D.pxLength.h)))return null;return M}),new E(b.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new E(b.ns_tts,"origin","auto",["region"],!1,!0,function(D){if("auto"===D)return D;var p=D.split(" ");if(2!==p.length)return null;var f=w.parseLength(p[0]),g=w.parseLength(p[1]);return g&&f?{h:g,w:f}:null},function(D,p,f,g,y){var M,U;if("auto"===g)M=new w.ComputedLength(0,0);else if(null===(M=w.toComputedLength(g.h.value,g.h.unit,null,D.dimensions.h,null,D.pxLength.h)))return null;if("auto"===g)U=new w.ComputedLength(0,0);else if(null===(U=w.toComputedLength(g.w.value,g.w.unit,null,D.dimensions.w,null,D.pxLength.w)))return null;return{h:M,w:U}}),new E(b.ns_tts,"overflow","hidden",["region"],!1,!0,function(D){return D},null),new E(b.ns_tts,"padding","0px",["region"],!1,!0,function(D){var p=D.split(" ");if(p.length>4)return null;for(var f=[],g=0;g<p.length;g++){var y=w.parseLength(p[g]);if(!y)return null;f.push(y)}return f},function(D,p,f,g,y){var M;if(1===g.length)M=[g[0],g[0],g[0],g[0]];else if(2===g.length)M=[g[0],g[1],g[0],g[1]];else if(3===g.length)M=[g[0],g[1],g[2],g[1]];else{if(4!==g.length)return null;M=[g[0],g[1],g[2],g[3]]}var U=f.styleAttrs[t.byName.writingMode.qname];if("lrtb"===U||"lr"===U)M=[M[0],M[3],M[2],M[1]];else if("rltb"===U||"rl"===U)M=[M[0],M[1],M[2],M[3]];else if("tblr"===U)M=[M[3],M[0],M[1],M[2]];else{if("tbrl"!==U&&"tb"!==U)return null;M=[M[3],M[2],M[1],M[0]]}for(var R=[],V=0;V<M.length;V++)if(0===M[V].value)R[V]=new w.ComputedLength(0,0);else if(R[V]=w.toComputedLength(M[V].value,M[V].unit,f.styleAttrs[t.byName.fontSize.qname],0===V||2===V?f.styleAttrs[t.byName.extent.qname].h:f.styleAttrs[t.byName.extent.qname].w,0===V||2===V?D.cellLength.h:D.cellLength.w,0===V||2===V?D.pxLength.h:D.pxLength.w),null===R[V])return null;return R}),new E(b.ns_tts,"position","top left",["region"],!1,!0,function(D){return w.parsePosition(D)},function(D,p,f,g){var y,M;return null===(y=w.toComputedLength(g.v.offset.value,g.v.offset.unit,null,new w.ComputedLength(-f.styleAttrs[t.byName.extent.qname].h.rw,D.dimensions.h.rh-f.styleAttrs[t.byName.extent.qname].h.rh),null,D.pxLength.h))||("bottom"===g.v.edge&&(y=new w.ComputedLength(-y.rw-f.styleAttrs[t.byName.extent.qname].h.rw,D.dimensions.h.rh-y.rh-f.styleAttrs[t.byName.extent.qname].h.rh)),M=w.toComputedLength(g.h.offset.value,g.h.offset.unit,null,new w.ComputedLength(D.dimensions.w.rw-f.styleAttrs[t.byName.extent.qname].w.rw,-f.styleAttrs[t.byName.extent.qname].w.rh),null,D.pxLength.w),null===y)?null:("right"===g.h.edge&&(M=new w.ComputedLength(D.dimensions.w.rw-M.rw-f.styleAttrs[t.byName.extent.qname].w.rw,-M.rh-f.styleAttrs[t.byName.extent.qname].w.rh)),{h:y,w:M})}),new E(b.ns_tts,"ruby","none",["span"],!1,!0,function(D){return D},null),new E(b.ns_tts,"rubyAlign","center",["span"],!0,!0,function(D){return"center"===D||"spaceAround"===D?D:null},null),new E(b.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(D){return D},null),new E(b.ns_tts,"rubyReserve","none",["p"],!0,!0,function(D){var p=D.split(" "),f=[null,null];if(0===p.length||p.length>2)return null;if("none"!==p[0]&&"both"!==p[0]&&"after"!==p[0]&&"before"!==p[0]&&"outside"!==p[0])return null;if(f[0]=p[0],2===p.length&&"none"!==p[0]){var g=w.parseLength(p[1]);if(!g)return null;f[1]=g}return f},function(D,p,f,g,y){if("none"===g[0])return g;var M;return null===(M=null===g[1]?new w.ComputedLength(.5*f.styleAttrs[t.byName.fontSize.qname].rw,.5*f.styleAttrs[t.byName.fontSize.qname].rh):w.toComputedLength(g[1].value,g[1].unit,f.styleAttrs[t.byName.fontSize.qname],f.styleAttrs[t.byName.fontSize.qname],D.cellLength.h,D.pxLength.h))?null:[g[0],M]}),new E(b.ns_tts,"showBackground","always",["region"],!1,!0,function(D){return D},null),new E(b.ns_tts,"textAlign","start",["p"],!0,!0,function(D){return D},function(D,p,f,g,y){return"left"===g?"start":"right"===g?"end":g}),new E(b.ns_tts,"textCombine","none",["span"],!0,!0,function(D){return"none"===D||"all"===D?D:null},null),new E(b.ns_tts,"textDecoration","none",["span"],!0,!0,function(D){return D.split(" ")},null),new E(b.ns_tts,"textEmphasis","none",["span"],!0,!0,function(D){for(var p=D.split(" "),f={style:null,symbol:null,color:null,position:null},g=0;g<p.length;g++)if("none"===p[g]||"auto"===p[g])f.style=p[g];else if("filled"===p[g]||"open"===p[g])f.style=p[g];else if("circle"===p[g]||"dot"===p[g]||"sesame"===p[g])f.symbol=p[g];else if("current"===p[g])f.color=p[g];else if("outside"===p[g]||"before"===p[g]||"after"===p[g])f.position=p[g];else if(f.color=w.parseColor(p[g]),null===f.color)return null;return null==f.style&&null==f.symbol?f.style="auto":(f.symbol=f.symbol||"circle",f.style=f.style||"filled"),f.position=f.position||"outside",f.color=f.color||"current",f},null),new E(b.ns_tts,"textOutline","none",["span"],!0,!0,function(D){if("none"===D)return D;var p={},f=D.split(" ");if(0===f.length||f.length>2)return null;var g=w.parseColor(f[0]);if(p.color=g,null!==g&&f.shift(),1!==f.length)return null;var y=w.parseLength(f[0]);return y?(p.thickness=y,p):null},function(D,p,f,g,y){if("none"===g)return g;var M={};return M.color=null===g.color?f.styleAttrs[t.byName.color.qname]:g.color,M.thickness=w.toComputedLength(g.thickness.value,g.thickness.unit,f.styleAttrs[t.byName.fontSize.qname],f.styleAttrs[t.byName.fontSize.qname],D.cellLength.h,D.pxLength.h),null===M.thickness?null:M}),new E(b.ns_tts,"textShadow","none",["span"],!0,!0,w.parseTextShadow,function(D,p,f,g){if("none"===g)return g;for(var y=[],M=0;M<g.length;M++){var U={};if(U.x_off=w.toComputedLength(g[M][0].value,g[M][0].unit,null,f.styleAttrs[t.byName.fontSize.qname],null,D.pxLength.w),null===U.x_off||(U.y_off=w.toComputedLength(g[M][1].value,g[M][1].unit,null,f.styleAttrs[t.byName.fontSize.qname],null,D.pxLength.h),null===U.y_off))return null;if(null===g[M][2])U.b_radius=0;else if(U.b_radius=w.toComputedLength(g[M][2].value,g[M][2].unit,null,f.styleAttrs[t.byName.fontSize.qname],null,D.pxLength.h),null===U.b_radius)return null;U.color=null===g[M][3]?f.styleAttrs[t.byName.color.qname]:g[M][3],y.push(U)}return y}),new E(b.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(D){return D},null),new E(b.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(D){return D},null),new E(b.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(D){return D},null),new E(b.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(D){return D},null),new E(b.ns_tts,"zIndex","auto",["region"],!1,!0,function(D){var p;return"auto"===D?p=D:(p=parseInt(D),isNaN(p)&&(p=null)),p},null),new E(b.ns_ebutts,"linePadding","0c",["p"],!0,!1,w.parseLength,function(D,p,f,g,y){return w.toComputedLength(g.value,g.unit,null,null,D.cellLength.w,null)}),new E(b.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(D){return D},null),new E(b.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(D){return D},null),new E(b.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(D){return"true"===D},null),new E(b.ns_itts,"fillLineGap","false",["p"],!0,!0,function(D){return"true"===D},null)],t.byQName={},t.all)t.byQName[t.all[F].qname]=t.all[F];for(var L in t.byName={},t.all)t.byName[t.all[L].name]=t.all[L]}(S,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/utils.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/utils.js ***!
                  \************************************************/
/*! no static exports found */function(tt,S,c){!function(t){var b=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,w=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,E=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,F={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};t.parseColor=function(D){var p,f=null,g=F[D.toLowerCase()];return void 0!==g?f=g:null!==(p=b.exec(D))?f=[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16),void 0!==p[4]?parseInt(p[4],16):255]:null!==(p=w.exec(D))?f=[parseInt(p[1]),parseInt(p[2]),parseInt(p[3]),255]:null!==(p=E.exec(D))&&(f=[parseInt(p[1]),parseInt(p[2]),parseInt(p[3]),parseInt(p[4])]),f};var L=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;t.parseLength=function(D){var p,f=null;return null!==(p=L.exec(D))&&(f={value:parseFloat(p[1]),unit:p[2]}),f},t.parseTextShadow=function(D){for(var p=D.match(/([^\(,\)]|\([^\)]+\))+/g),f=[],g=0;g<p.length;g++){var y=p[g].split(" ");if(1===y.length&&"none"===y[0])return"none";if(y.length>1&&y.length<5){var M=[null,null,null,null],U=t.parseLength(y.shift());if(null===U||(M[0]=U,null===(U=t.parseLength(y.shift()))))return null;if(M[1]=U,0===y.length){f.push(M);continue}if(null!==(U=t.parseLength(y[0]))&&(M[2]=U,y.shift()),0===y.length){f.push(M);continue}var R=t.parseColor(y[0]);if(null===R)return null;M[3]=R,f.push(M)}}return f},t.parsePosition=function(D){var p=D.split(" "),f=function(k){return"center"===k||"left"===k||"top"===k||"bottom"===k||"right"===k};if(p.length>4)return null;for(var g=0;g<p.length;g++)if(!f(p[g])){var y=t.parseLength(p[g]);if(null===y)return null;p[g]=y}for(var M={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},U=0;U<p.length;){var R=p[U++];if(f(R)){var V={value:0,unit:"%"};2!==p.length&&U<p.length&&!f(p[U])&&(V=p[U++]),"right"===R?(M.h.edge=R,M.h.offset=V):"bottom"===R?(M.v.edge=R,M.v.offset=V):"left"===R?M.h.offset=V:"top"===R&&(M.v.offset=V)}else{if(1!==p.length&&2!==p.length)return null;1===U?M.h.offset=R:M.v.offset=R}}return M},t.ComputedLength=function(D,p){this.rw=D,this.rh=p},t.ComputedLength.prototype.toUsedLength=function(D,p){return D*this.rw+p*this.rh},t.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},t.toComputedLength=function(D,p,f,g,y,M){return"%"===p&&g?new t.ComputedLength(g.rw*D/100,g.rh*D/100):"em"===p&&f?new t.ComputedLength(f.rw*D,f.rh*D):"c"===p&&y?new t.ComputedLength(D*y.rw,D*y.rh):"px"===p&&M?new t.ComputedLength(D*M.rw,D*M.rh):"rh"===p?new t.ComputedLength(0,D/100):"rw"===p?new t.ComputedLength(D/100,0):null}}(S)},"./node_modules/inherits/inherits_browser.js":
/*!***************************************************!*\
                  !*** ./node_modules/inherits/inherits_browser.js ***!
                  \***************************************************/
/*! no static exports found */function(tt,S){tt.exports="function"==typeof Object.create?function(t,b){b&&(t.super_=b,t.prototype=Object.create(b.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,b){if(b){t.super_=b;var w=function(){};w.prototype=b.prototype,t.prototype=new w,t.prototype.constructor=t}}},"./node_modules/is-alphabetical/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/is-alphabetical/index.js ***!
                  \***********************************************/
/*! no static exports found */function(tt,S,c){"use strict";tt.exports=function t(b){var w="string"==typeof b?b.charCodeAt(0):b;return w>=97&&w<=122||w>=65&&w<=90}},"./node_modules/is-alphanumerical/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/is-alphanumerical/index.js ***!
                  \*************************************************/
/*! no static exports found */function(tt,S,c){"use strict";var t=c(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),b=c(
/*! is-decimal */
"./node_modules/is-decimal/index.js");tt.exports=function w(E){return t(E)||b(E)}},"./node_modules/is-decimal/index.js":
/*!******************************************!*\
                  !*** ./node_modules/is-decimal/index.js ***!
                  \******************************************/
/*! no static exports found */function(tt,S,c){"use strict";tt.exports=function t(b){var w="string"==typeof b?b.charCodeAt(0):b;return w>=48&&w<=57}},"./node_modules/isarray/index.js":
/*!***************************************!*\
                  !*** ./node_modules/isarray/index.js ***!
                  \***************************************/
/*! no static exports found */function(tt,S){var c={}.toString;tt.exports=Array.isArray||function(t){return"[object Array]"==c.call(t)}},"./node_modules/path-browserify/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/path-browserify/index.js ***!
                  \***********************************************/
/*! no static exports found */function(tt,S,c){(function(t){function b(L,D){for(var p=0,f=L.length-1;f>=0;f--){var g=L[f];"."===g?L.splice(f,1):".."===g?(L.splice(f,1),p++):p&&(L.splice(f,1),p--)}if(D)for(;p--;p)L.unshift("..");return L}function E(L,D){if(L.filter)return L.filter(D);for(var p=[],f=0;f<L.length;f++)D(L[f],f,L)&&p.push(L[f]);return p}S.resolve=function(){for(var L="",D=!1,p=arguments.length-1;p>=-1&&!D;p--){var f=p>=0?arguments[p]:t.cwd();if("string"!=typeof f)throw new TypeError("Arguments to path.resolve must be strings");f&&(L=f+"/"+L,D="/"===f.charAt(0))}return(D?"/":"")+(L=b(E(L.split("/"),function(g){return!!g}),!D).join("/"))||"."},S.normalize=function(L){var D=S.isAbsolute(L),p="/"===F(L,-1);return!(L=b(E(L.split("/"),function(f){return!!f}),!D).join("/"))&&!D&&(L="."),L&&p&&(L+="/"),(D?"/":"")+L},S.isAbsolute=function(L){return"/"===L.charAt(0)},S.join=function(){var L=Array.prototype.slice.call(arguments,0);return S.normalize(E(L,function(D,p){if("string"!=typeof D)throw new TypeError("Arguments to path.join must be strings");return D}).join("/"))},S.relative=function(L,D){function p(V){for(var k=0;k<V.length&&""===V[k];k++);for(var O=V.length-1;O>=0&&""===V[O];O--);return k>O?[]:V.slice(k,O-k+1)}L=S.resolve(L).substr(1),D=S.resolve(D).substr(1);for(var f=p(L.split("/")),g=p(D.split("/")),y=Math.min(f.length,g.length),M=y,U=0;U<y;U++)if(f[U]!==g[U]){M=U;break}var R=[];for(U=M;U<f.length;U++)R.push("..");return(R=R.concat(g.slice(M))).join("/")},S.sep="/",S.delimiter=":",S.dirname=function(L){if("string"!=typeof L&&(L+=""),0===L.length)return".";for(var D=L.charCodeAt(0),p=47===D,f=-1,g=!0,y=L.length-1;y>=1;--y)if(47===(D=L.charCodeAt(y))){if(!g){f=y;break}}else g=!1;return-1===f?p?"/":".":p&&1===f?"/":L.slice(0,f)},S.basename=function(L,D){var p=function w(L){"string"!=typeof L&&(L+="");var g,D=0,p=-1,f=!0;for(g=L.length-1;g>=0;--g)if(47===L.charCodeAt(g)){if(!f){D=g+1;break}}else-1===p&&(f=!1,p=g+1);return-1===p?"":L.slice(D,p)}(L);return D&&p.substr(-1*D.length)===D&&(p=p.substr(0,p.length-D.length)),p},S.extname=function(L){"string"!=typeof L&&(L+="");for(var D=-1,p=0,f=-1,g=!0,y=0,M=L.length-1;M>=0;--M){var U=L.charCodeAt(M);if(47!==U)-1===f&&(g=!1,f=M+1),46===U?-1===D?D=M:1!==y&&(y=1):-1!==D&&(y=-1);else if(!g){p=M+1;break}}return-1===D||-1===f||0===y||1===y&&D===f-1&&D===p+1?"":L.slice(D,f)};var F=function(L,D,p){return L.substr(D,p)}}).call(this,c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process-nextick-args/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/process-nextick-args/index.js ***!
                  \****************************************************/
/*! no static exports found */function(tt,S,c){"use strict";(function(t){tt.exports=typeof t>"u"||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?{nextTick:function b(w,E,F,L){if("function"!=typeof w)throw new TypeError('"callback" argument must be a function');var p,f,D=arguments.length;switch(D){case 0:case 1:return t.nextTick(w);case 2:return t.nextTick(function(){w.call(null,E)});case 3:return t.nextTick(function(){w.call(null,E,F)});case 4:return t.nextTick(function(){w.call(null,E,F,L)});default:for(p=new Array(D-1),f=0;f<p.length;)p[f++]=arguments[f];return t.nextTick(function(){w.apply(null,p)})}}}:t}).call(this,c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process/browser.js":
/*!*****************************************!*\
                  !*** ./node_modules/process/browser.js ***!
                  \*****************************************/
/*! no static exports found */function(tt,S){var t,b,c=tt.exports={};function w(){throw new Error("setTimeout has not been defined")}function E(){throw new Error("clearTimeout has not been defined")}function F(V){if(t===setTimeout)return setTimeout(V,0);if((t===w||!t)&&setTimeout)return t=setTimeout,setTimeout(V,0);try{return t(V,0)}catch{try{return t.call(null,V,0)}catch{return t.call(this,V,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:w}catch{t=w}try{b="function"==typeof clearTimeout?clearTimeout:E}catch{b=E}}();var f,D=[],p=!1,g=-1;function y(){!p||!f||(p=!1,f.length?D=f.concat(D):g=-1,D.length&&M())}function M(){if(!p){var V=F(y);p=!0;for(var k=D.length;k;){for(f=D,D=[];++g<k;)f&&f[g].run();g=-1,k=D.length}f=null,p=!1,function L(V){if(b===clearTimeout)return clearTimeout(V);if((b===E||!b)&&clearTimeout)return b=clearTimeout,clearTimeout(V);try{return b(V)}catch{try{return b.call(null,V)}catch{return b.call(this,V)}}}(V)}}function U(V,k){this.fun=V,this.array=k}function R(){}c.nextTick=function(V){var k=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)k[O-1]=arguments[O];D.push(new U(V,k)),1===D.length&&!p&&F(M)},U.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=R,c.addListener=R,c.once=R,c.off=R,c.removeListener=R,c.removeAllListeners=R,c.emit=R,c.prependListener=R,c.prependOnceListener=R,c.listeners=function(V){return[]},c.binding=function(V){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(V){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},"./node_modules/readable-stream/duplex-browser.js":
/*!********************************************************!*\
                  !*** ./node_modules/readable-stream/duplex-browser.js ***!
                  \********************************************************/
/*! no static exports found */function(tt,S,c){tt.exports=c(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/readable-stream/lib/_stream_duplex.js":
/*!************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_duplex.js ***!
                  \************************************************************/
/*! no static exports found */function(tt,S,c){"use strict";var t=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js"),b=Object.keys||function(M){var U=[];for(var R in M)U.push(R);return U};tt.exports=f;var w=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));w.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var E=c(
/*! ./_stream_readable */
"./node_modules/readable-stream/lib/_stream_readable.js"),F=c(
/*! ./_stream_writable */
"./node_modules/readable-stream/lib/_stream_writable.js");w.inherits(f,E);for(var L=b(F.prototype),D=0;D<L.length;D++){var p=L[D];f.prototype[p]||(f.prototype[p]=F.prototype[p])}function f(M){if(!(this instanceof f))return new f(M);E.call(this,M),F.call(this,M),M&&!1===M.readable&&(this.readable=!1),M&&!1===M.writable&&(this.writable=!1),this.allowHalfOpen=!0,M&&!1===M.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||t.nextTick(y,this)}function y(M){M.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(M){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=M,this._writableState.destroyed=M)}}),f.prototype._destroy=function(M,U){this.push(null),this.end(),t.nextTick(U,M)}},"./node_modules/readable-stream/lib/_stream_passthrough.js":
/*!*****************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_passthrough.js ***!
                  \*****************************************************************/
/*! no static exports found */function(tt,S,c){"use strict";tt.exports=w;var t=c(
/*! ./_stream_transform */
"./node_modules/readable-stream/lib/_stream_transform.js"),b=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function w(E){if(!(this instanceof w))return new w(E);t.call(this,E)}b.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),b.inherits(w,t),w.prototype._transform=function(E,F,L){L(null,E)}},"./node_modules/readable-stream/lib/_stream_readable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_readable.js ***!
                  \**************************************************************/
/*! no static exports found */function(tt,S,c){"use strict";(function(t,b){var w=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");tt.exports=C;var F,E=c(
/*! isarray */
"./node_modules/isarray/index.js");C.ReadableState=N,c(
/*! events */
"./node_modules/events/events.js");var D=function(Te,W){return Te.listeners(W).length},p=c(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),f=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,g=t.Uint8Array||function(){};var U=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));U.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var R=c(
/*! util */
0),V=void 0;V=R&&R.debuglog?R.debuglog("stream"):function(){};var x,k=c(
/*! ./internal/streams/BufferList */
"./node_modules/readable-stream/lib/internal/streams/BufferList.js"),O=c(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");U.inherits(C,p);var P=["error","close","destroy","pause","resume"];function N(Te,W){var se=W instanceof(F=F||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"));this.objectMode=!!(Te=Te||{}).objectMode,se&&(this.objectMode=this.objectMode||!!Te.readableObjectMode);var _e=Te.highWaterMark,J=Te.readableHighWaterMark;this.highWaterMark=_e||0===_e?_e:se&&(J||0===J)?J:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Te.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Te.encoding&&(x||(x=c(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new x(Te.encoding),this.encoding=Te.encoding)}function C(Te){if(F=F||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof C))return new C(Te);this._readableState=new N(Te,this),this.readable=!0,Te&&("function"==typeof Te.read&&(this._read=Te.read),"function"==typeof Te.destroy&&(this._destroy=Te.destroy)),p.call(this)}function B(Te,W,se,_e,J){var Z,Q=Te._readableState;return null===W?(Q.reading=!1,function K(Te,W){if(!W.ended){if(W.decoder){var se=W.decoder.end();se&&se.length&&(W.buffer.push(se),W.length+=W.objectMode?1:se.length)}W.ended=!0,ge(Te)}}(Te,Q)):(J||(Z=function q(Te,W){var se;return!function M(Te){return f.isBuffer(Te)||Te instanceof g}(W)&&"string"!=typeof W&&void 0!==W&&!Te.objectMode&&(se=new TypeError("Invalid non-string/buffer chunk")),se}(Q,W)),Z?Te.emit("error",Z):Q.objectMode||W&&W.length>0?("string"!=typeof W&&!Q.objectMode&&Object.getPrototypeOf(W)!==f.prototype&&(W=function y(Te){return f.from(Te)}(W)),_e?Q.endEmitted?Te.emit("error",new Error("stream.unshift() after end event")):Y(Te,Q,W,!0):Q.ended?Te.emit("error",new Error("stream.push() after EOF")):(Q.reading=!1,Q.decoder&&!se?(W=Q.decoder.write(W),Q.objectMode||0!==W.length?Y(Te,Q,W,!1):he(Te,Q)):Y(Te,Q,W,!1))):_e||(Q.reading=!1)),function le(Te){return!Te.ended&&(Te.needReadable||Te.length<Te.highWaterMark||0===Te.length)}(Q)}function Y(Te,W,se,_e){W.flowing&&0===W.length&&!W.sync?(Te.emit("data",se),Te.read(0)):(W.length+=W.objectMode?1:se.length,_e?W.buffer.unshift(se):W.buffer.push(se),W.needReadable&&ge(Te)),he(Te,W)}Object.defineProperty(C.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(Te){this._readableState&&(this._readableState.destroyed=Te)}}),C.prototype.destroy=O.destroy,C.prototype._undestroy=O.undestroy,C.prototype._destroy=function(Te,W){this.push(null),W(Te)},C.prototype.push=function(Te,W){var _e,se=this._readableState;return se.objectMode?_e=!0:"string"==typeof Te&&((W=W||se.defaultEncoding)!==se.encoding&&(Te=f.from(Te,W),W=""),_e=!0),B(this,Te,W,!1,_e)},C.prototype.unshift=function(Te){return B(this,Te,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(Te){return x||(x=c(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new x(Te),this._readableState.encoding=Te,this};var Fe=8388608;function ae(Te,W){return Te<=0||0===W.length&&W.ended?0:W.objectMode?1:Te!=Te?W.flowing&&W.length?W.buffer.head.data.length:W.length:(Te>W.highWaterMark&&(W.highWaterMark=function $(Te){return Te>=Fe?Te=Fe:(Te--,Te|=Te>>>1,Te|=Te>>>2,Te|=Te>>>4,Te|=Te>>>8,Te|=Te>>>16,Te++),Te}(Te)),Te<=W.length?Te:W.ended?W.length:(W.needReadable=!0,0))}function ge(Te){var W=Te._readableState;W.needReadable=!1,W.emittedReadable||(V("emitReadable",W.flowing),W.emittedReadable=!0,W.sync?w.nextTick(oe,Te):oe(Te))}function oe(Te){V("emit readable"),Te.emit("readable"),pe(Te)}function he(Te,W){W.readingMore||(W.readingMore=!0,w.nextTick(Ce,Te,W))}function Ce(Te,W){for(var se=W.length;!W.reading&&!W.flowing&&!W.ended&&W.length<W.highWaterMark&&(V("maybeReadMore read 0"),Te.read(0),se!==W.length);)se=W.length;W.readingMore=!1}function fe(Te){V("readable nexttick read 0"),Te.read(0)}function Ae(Te,W){W.reading||(V("resume read 0"),Te.read(0)),W.resumeScheduled=!1,W.awaitDrain=0,Te.emit("resume"),pe(Te),W.flowing&&!W.reading&&Te.read(0)}function pe(Te){var W=Te._readableState;for(V("flow",W.flowing);W.flowing&&null!==Te.read(););}function Ue(Te,W){return 0===W.length?null:(W.objectMode?se=W.buffer.shift():!Te||Te>=W.length?(se=W.decoder?W.buffer.join(""):1===W.buffer.length?W.buffer.head.data:W.buffer.concat(W.length),W.buffer.clear()):se=function ke(Te,W,se){var _e;return Te<W.head.data.length?(_e=W.head.data.slice(0,Te),W.head.data=W.head.data.slice(Te)):_e=Te===W.head.data.length?W.shift():se?function we(Te,W){var se=W.head,_e=1,J=se.data;for(Te-=J.length;se=se.next;){var Q=se.data,Z=Te>Q.length?Q.length:Te;if(J+=Z===Q.length?Q:Q.slice(0,Te),0==(Te-=Z)){Z===Q.length?(++_e,W.head=se.next?se.next:W.tail=null):(W.head=se,se.data=Q.slice(Z));break}++_e}return W.length-=_e,J}(Te,W):function He(Te,W){var se=f.allocUnsafe(Te),_e=W.head,J=1;for(_e.data.copy(se),Te-=_e.data.length;_e=_e.next;){var Q=_e.data,Z=Te>Q.length?Q.length:Te;if(Q.copy(se,se.length-Te,0,Z),0==(Te-=Z)){Z===Q.length?(++J,W.head=_e.next?_e.next:W.tail=null):(W.head=_e,_e.data=Q.slice(Z));break}++J}return W.length-=J,se}(Te,W),_e}(Te,W.buffer,W.decoder),se);var se}function at(Te){var W=Te._readableState;if(W.length>0)throw new Error('"endReadable()" called on non-empty stream');W.endEmitted||(W.ended=!0,w.nextTick(Je,W,Te))}function Je(Te,W){!Te.endEmitted&&0===Te.length&&(Te.endEmitted=!0,W.readable=!1,W.emit("end"))}function Ne(Te,W){for(var se=0,_e=Te.length;se<_e;se++)if(Te[se]===W)return se;return-1}C.prototype.read=function(Te){V("read",Te),Te=parseInt(Te,10);var W=this._readableState,se=Te;if(0!==Te&&(W.emittedReadable=!1),0===Te&&W.needReadable&&(W.length>=W.highWaterMark||W.ended))return V("read: emitReadable",W.length,W.ended),0===W.length&&W.ended?at(this):ge(this),null;if(0===(Te=ae(Te,W))&&W.ended)return 0===W.length&&at(this),null;var J,_e=W.needReadable;return V("need readable",_e),(0===W.length||W.length-Te<W.highWaterMark)&&V("length less than watermark",_e=!0),W.ended||W.reading?V("reading or ended",_e=!1):_e&&(V("do read"),W.reading=!0,W.sync=!0,0===W.length&&(W.needReadable=!0),this._read(W.highWaterMark),W.sync=!1,W.reading||(Te=ae(se,W))),null===(J=Te>0?Ue(Te,W):null)?(W.needReadable=!0,Te=0):W.length-=Te,0===W.length&&(W.ended||(W.needReadable=!0),se!==Te&&W.ended&&at(this)),null!==J&&this.emit("data",J),J},C.prototype._read=function(Te){this.emit("error",new Error("_read() is not implemented"))},C.prototype.pipe=function(Te,W){var se=this,_e=this._readableState;switch(_e.pipesCount){case 0:_e.pipes=Te;break;case 1:_e.pipes=[_e.pipes,Te];break;default:_e.pipes.push(Te)}_e.pipesCount+=1,V("pipe count=%d opts=%j",_e.pipesCount,W);var Q=W&&!1===W.end||Te===b.stdout||Te===b.stderr?Ve:ne;function Z(lt,dt){V("onunpipe"),lt===se&&dt&&!1===dt.hasUnpiped&&(dt.hasUnpiped=!0,function X(){V("cleanup"),Te.removeListener("close",xe),Te.removeListener("finish",Ke),Te.removeListener("drain",ie),Te.removeListener("error",de),Te.removeListener("unpipe",Z),se.removeListener("end",ne),se.removeListener("end",Ve),se.removeListener("data",ve),ee=!0,_e.awaitDrain&&(!Te._writableState||Te._writableState.needDrain)&&ie()}())}function ne(){V("onend"),Te.end()}_e.endEmitted?w.nextTick(Q):se.once("end",Q),Te.on("unpipe",Z);var ie=function Le(Te){return function(){var W=Te._readableState;V("pipeOnDrain",W.awaitDrain),W.awaitDrain&&W.awaitDrain--,0===W.awaitDrain&&D(Te,"data")&&(W.flowing=!0,pe(Te))}}(se);Te.on("drain",ie);var ee=!1;var ue=!1;function ve(lt){V("ondata"),ue=!1,!1===Te.write(lt)&&!ue&&((1===_e.pipesCount&&_e.pipes===Te||_e.pipesCount>1&&-1!==Ne(_e.pipes,Te))&&!ee&&(V("false write response, pause",se._readableState.awaitDrain),se._readableState.awaitDrain++,ue=!0),se.pause())}function de(lt){V("onerror",lt),Ve(),Te.removeListener("error",de),0===D(Te,"error")&&Te.emit("error",lt)}function xe(){Te.removeListener("finish",Ke),Ve()}function Ke(){V("onfinish"),Te.removeListener("close",xe),Ve()}function Ve(){V("unpipe"),se.unpipe(Te)}return se.on("data",ve),function T(Te,W,se){if("function"==typeof Te.prependListener)return Te.prependListener(W,se);Te._events&&Te._events[W]?E(Te._events[W])?Te._events[W].unshift(se):Te._events[W]=[se,Te._events[W]]:Te.on(W,se)}(Te,"error",de),Te.once("close",xe),Te.once("finish",Ke),Te.emit("pipe",se),_e.flowing||(V("pipe resume"),se.resume()),Te},C.prototype.unpipe=function(Te){var W=this._readableState,se={hasUnpiped:!1};if(0===W.pipesCount)return this;if(1===W.pipesCount)return Te&&Te!==W.pipes||(Te||(Te=W.pipes),W.pipes=null,W.pipesCount=0,W.flowing=!1,Te&&Te.emit("unpipe",this,se)),this;if(!Te){var _e=W.pipes,J=W.pipesCount;W.pipes=null,W.pipesCount=0,W.flowing=!1;for(var Q=0;Q<J;Q++)_e[Q].emit("unpipe",this,se);return this}var Z=Ne(W.pipes,Te);return-1===Z||(W.pipes.splice(Z,1),W.pipesCount-=1,1===W.pipesCount&&(W.pipes=W.pipes[0]),Te.emit("unpipe",this,se)),this},C.prototype.addListener=C.prototype.on=function(Te,W){var se=p.prototype.on.call(this,Te,W);if("data"===Te)!1!==this._readableState.flowing&&this.resume();else if("readable"===Te){var _e=this._readableState;!_e.endEmitted&&!_e.readableListening&&(_e.readableListening=_e.needReadable=!0,_e.emittedReadable=!1,_e.reading?_e.length&&ge(this):w.nextTick(fe,this))}return se},C.prototype.resume=function(){var Te=this._readableState;return Te.flowing||(V("resume"),Te.flowing=!0,function Re(Te,W){W.resumeScheduled||(W.resumeScheduled=!0,w.nextTick(Ae,Te,W))}(this,Te)),this},C.prototype.pause=function(){return V("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(V("pause"),this._readableState.flowing=!1,this.emit("pause")),this},C.prototype.wrap=function(Te){var W=this,se=this._readableState,_e=!1;for(var J in Te.on("end",function(){if(V("wrapped end"),se.decoder&&!se.ended){var Z=se.decoder.end();Z&&Z.length&&W.push(Z)}W.push(null)}),Te.on("data",function(Z){V("wrapped data"),se.decoder&&(Z=se.decoder.write(Z)),se.objectMode&&null==Z||!(se.objectMode||Z&&Z.length)||W.push(Z)||(_e=!0,Te.pause())}),Te)void 0===this[J]&&"function"==typeof Te[J]&&(this[J]=function(Z){return function(){return Te[Z].apply(Te,arguments)}}(J));for(var Q=0;Q<P.length;Q++)Te.on(P[Q],this.emit.bind(this,P[Q]));return this._read=function(Z){V("wrapped _read",Z),_e&&(_e=!1,Te.resume())},this},Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),C._fromList=Ue}).call(this,c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/readable-stream/lib/_stream_transform.js":
/*!***************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_transform.js ***!
                  \***************************************************************/
/*! no static exports found */function(tt,S,c){"use strict";tt.exports=E;var t=c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),b=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function w(D,p){var f=this._transformState;f.transforming=!1;var g=f.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));f.writechunk=null,f.writecb=null,null!=p&&this.push(p),g(D);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function E(D){if(!(this instanceof E))return new E(D);t.call(this,D),this._transformState={afterTransform:w.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,D&&("function"==typeof D.transform&&(this._transform=D.transform),"function"==typeof D.flush&&(this._flush=D.flush)),this.on("prefinish",F)}function F(){var D=this;"function"==typeof this._flush?this._flush(function(p,f){L(D,p,f)}):L(this,null,null)}function L(D,p,f){if(p)return D.emit("error",p);if(null!=f&&D.push(f),D._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(D._transformState.transforming)throw new Error("Calling transform done when still transforming");return D.push(null)}b.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),b.inherits(E,t),E.prototype.push=function(D,p){return this._transformState.needTransform=!1,t.prototype.push.call(this,D,p)},E.prototype._transform=function(D,p,f){throw new Error("_transform() is not implemented")},E.prototype._write=function(D,p,f){var g=this._transformState;if(g.writecb=f,g.writechunk=D,g.writeencoding=p,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},E.prototype._read=function(D){var p=this._transformState;null!==p.writechunk&&p.writecb&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},E.prototype._destroy=function(D,p){var f=this;t.prototype._destroy.call(this,D,function(g){p(g),f.emit("close")})}},"./node_modules/readable-stream/lib/_stream_writable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_writable.js ***!
                  \**************************************************************/
/*! no static exports found */function(tt,S,c){"use strict";(function(t,b,w){var E=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function L(Ae){var pe=this;this.next=null,this.entry=null,this.finish=function(){!function Re(Ae,pe,Ue){var ke=Ae.entry;for(Ae.entry=null;ke;){var we=ke.callback;pe.pendingcb--,we(Ue),ke=ke.next}pe.corkedRequestsFree?pe.corkedRequestsFree.next=Ae:pe.corkedRequestsFree=Ae}(pe,Ae)}}tt.exports=T;var p,D=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?b:E.nextTick;T.WritableState=x;var f=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));f.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var g={deprecate:c(
/*! util-deprecate */
"./node_modules/util-deprecate/browser.js")},y=c(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),M=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,U=w.Uint8Array||function(){};var P,k=c(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");function O(){}function x(Ae,pe){p=p||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js");var Ue=pe instanceof p;this.objectMode=!!(Ae=Ae||{}).objectMode,Ue&&(this.objectMode=this.objectMode||!!Ae.writableObjectMode);var ke=Ae.highWaterMark,we=Ae.writableHighWaterMark;this.highWaterMark=ke||0===ke?ke:Ue&&(we||0===we)?we:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Ae.decodeStrings),this.defaultEncoding=Ae.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Je){!function $(Ae,pe){var Ue=Ae._writableState,ke=Ue.sync,we=Ue.writecb;if(function Fe(Ae){Ae.writing=!1,Ae.writecb=null,Ae.length-=Ae.writelen,Ae.writelen=0}(Ue),pe)!function le(Ae,pe,Ue,ke,we){--pe.pendingcb,Ue?(E.nextTick(we,ke),E.nextTick(Le,Ae,pe),Ae._writableState.errorEmitted=!0,Ae.emit("error",ke)):(we(ke),Ae._writableState.errorEmitted=!0,Ae.emit("error",ke),Le(Ae,pe))}(Ae,Ue,ke,pe,we);else{var He=oe(Ue);!He&&!Ue.corked&&!Ue.bufferProcessing&&Ue.bufferedRequest&&ge(Ae,Ue),ke?D(ae,Ae,Ue,He,we):ae(Ae,Ue,He,we)}}(pe,Je)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new L(this)}function T(Ae){if(p=p||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(P.call(T,this)||this instanceof p))return new T(Ae);this._writableState=new x(Ae,this),this.writable=!0,Ae&&("function"==typeof Ae.write&&(this._write=Ae.write),"function"==typeof Ae.writev&&(this._writev=Ae.writev),"function"==typeof Ae.destroy&&(this._destroy=Ae.destroy),"function"==typeof Ae.final&&(this._final=Ae.final)),y.call(this)}function Y(Ae,pe,Ue,ke,we,He){if(!Ue){var at=function B(Ae,pe,Ue){return!Ae.objectMode&&!1!==Ae.decodeStrings&&"string"==typeof pe&&(pe=M.from(pe,Ue)),pe}(pe,ke,we);ke!==at&&(Ue=!0,we="buffer",ke=at)}var Je=pe.objectMode?1:ke.length;pe.length+=Je;var Ne=pe.length<pe.highWaterMark;if(Ne||(pe.needDrain=!0),pe.writing||pe.corked){var Te=pe.lastBufferedRequest;pe.lastBufferedRequest={chunk:ke,encoding:we,isBuf:Ue,callback:He,next:null},Te?Te.next=pe.lastBufferedRequest:pe.bufferedRequest=pe.lastBufferedRequest,pe.bufferedRequestCount+=1}else q(Ae,pe,!1,Je,ke,we,He);return Ne}function q(Ae,pe,Ue,ke,we,He,at){pe.writelen=ke,pe.writecb=at,pe.writing=!0,pe.sync=!0,Ue?Ae._writev(we,pe.onwrite):Ae._write(we,He,pe.onwrite),pe.sync=!1}function ae(Ae,pe,Ue,ke){Ue||function K(Ae,pe){0===pe.length&&pe.needDrain&&(pe.needDrain=!1,Ae.emit("drain"))}(Ae,pe),pe.pendingcb--,ke(),Le(Ae,pe)}function ge(Ae,pe){pe.bufferProcessing=!0;var Ue=pe.bufferedRequest;if(Ae._writev&&Ue&&Ue.next){var we=new Array(pe.bufferedRequestCount),He=pe.corkedRequestsFree;He.entry=Ue;for(var at=0,Je=!0;Ue;)we[at]=Ue,Ue.isBuf||(Je=!1),Ue=Ue.next,at+=1;we.allBuffers=Je,q(Ae,pe,!0,pe.length,we,"",He.finish),pe.pendingcb++,pe.lastBufferedRequest=null,He.next?(pe.corkedRequestsFree=He.next,He.next=null):pe.corkedRequestsFree=new L(pe),pe.bufferedRequestCount=0}else{for(;Ue;){var Ne=Ue.chunk;if(q(Ae,pe,!1,pe.objectMode?1:Ne.length,Ne,Ue.encoding,Ue.callback),Ue=Ue.next,pe.bufferedRequestCount--,pe.writing)break}null===Ue&&(pe.lastBufferedRequest=null)}pe.bufferedRequest=Ue,pe.bufferProcessing=!1}function oe(Ae){return Ae.ending&&0===Ae.length&&null===Ae.bufferedRequest&&!Ae.finished&&!Ae.writing}function he(Ae,pe){Ae._final(function(Ue){pe.pendingcb--,Ue&&Ae.emit("error",Ue),pe.prefinished=!0,Ae.emit("prefinish"),Le(Ae,pe)})}function Le(Ae,pe){var Ue=oe(pe);return Ue&&(function Ce(Ae,pe){!pe.prefinished&&!pe.finalCalled&&("function"==typeof Ae._final?(pe.pendingcb++,pe.finalCalled=!0,E.nextTick(he,Ae,pe)):(pe.prefinished=!0,Ae.emit("prefinish")))}(Ae,pe),0===pe.pendingcb&&(pe.finished=!0,Ae.emit("finish"))),Ue}f.inherits(T,y),x.prototype.getBuffer=function(){for(var pe=this.bufferedRequest,Ue=[];pe;)Ue.push(pe),pe=pe.next;return Ue},function(){try{Object.defineProperty(x.prototype,"buffer",{get:g.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(P=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(Ae){return!!P.call(this,Ae)||this===T&&Ae&&Ae._writableState instanceof x}})):P=function(Ae){return Ae instanceof this},T.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},T.prototype.write=function(Ae,pe,Ue){var ke=this._writableState,we=!1,He=!ke.objectMode&&function V(Ae){return M.isBuffer(Ae)||Ae instanceof U}(Ae);return He&&!M.isBuffer(Ae)&&(Ae=function R(Ae){return M.from(Ae)}(Ae)),"function"==typeof pe&&(Ue=pe,pe=null),He?pe="buffer":pe||(pe=ke.defaultEncoding),"function"!=typeof Ue&&(Ue=O),ke.ended?function N(Ae,pe){var Ue=new Error("write after end");Ae.emit("error",Ue),E.nextTick(pe,Ue)}(this,Ue):(He||function C(Ae,pe,Ue,ke){var we=!0,He=!1;return null===Ue?He=new TypeError("May not write null values to stream"):"string"!=typeof Ue&&void 0!==Ue&&!pe.objectMode&&(He=new TypeError("Invalid non-string/buffer chunk")),He&&(Ae.emit("error",He),E.nextTick(ke,He),we=!1),we}(this,ke,Ae,Ue))&&(ke.pendingcb++,we=Y(this,ke,He,Ae,pe,Ue)),we},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var Ae=this._writableState;Ae.corked&&(Ae.corked--,!Ae.writing&&!Ae.corked&&!Ae.finished&&!Ae.bufferProcessing&&Ae.bufferedRequest&&ge(this,Ae))},T.prototype.setDefaultEncoding=function(pe){if("string"==typeof pe&&(pe=pe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((pe+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+pe);return this._writableState.defaultEncoding=pe,this},Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(Ae,pe,Ue){Ue(new Error("_write() is not implemented"))},T.prototype._writev=null,T.prototype.end=function(Ae,pe,Ue){var ke=this._writableState;"function"==typeof Ae?(Ue=Ae,Ae=null,pe=null):"function"==typeof pe&&(Ue=pe,pe=null),null!=Ae&&this.write(Ae,pe),ke.corked&&(ke.corked=1,this.uncork()),!ke.ending&&!ke.finished&&function fe(Ae,pe,Ue){pe.ending=!0,Le(Ae,pe),Ue&&(pe.finished?E.nextTick(Ue):Ae.once("finish",Ue)),pe.ended=!0,Ae.writable=!1}(this,ke,Ue)},Object.defineProperty(T.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Ae){this._writableState&&(this._writableState.destroyed=Ae)}}),T.prototype.destroy=k.destroy,T.prototype._undestroy=k.undestroy,T.prototype._destroy=function(Ae,pe){this.end(),pe(Ae)}}).call(this,c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),c(
/*! ./../../timers-browserify/main.js */
"./node_modules/timers-browserify/main.js").setImmediate,c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/readable-stream/lib/internal/streams/BufferList.js":
/*!*************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/BufferList.js ***!
                  \*************************************************************************/
/*! no static exports found */function(tt,S,c){"use strict";var b=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,w=c(
/*! util */
1);function E(F,L,D){F.copy(L,D)}tt.exports=function(){function F(){(function t(F,L){if(!(F instanceof L))throw new TypeError("Cannot call a class as a function")})(this,F),this.head=null,this.tail=null,this.length=0}return F.prototype.push=function(D){var p={data:D,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length},F.prototype.unshift=function(D){var p={data:D,next:this.head};0===this.length&&(this.tail=p),this.head=p,++this.length},F.prototype.shift=function(){if(0!==this.length){var D=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,D}},F.prototype.clear=function(){this.head=this.tail=null,this.length=0},F.prototype.join=function(D){if(0===this.length)return"";for(var p=this.head,f=""+p.data;p=p.next;)f+=D+p.data;return f},F.prototype.concat=function(D){if(0===this.length)return b.alloc(0);if(1===this.length)return this.head.data;for(var p=b.allocUnsafe(D>>>0),f=this.head,g=0;f;)E(f.data,p,g),g+=f.data.length,f=f.next;return p},F}(),w&&w.inspect&&w.inspect.custom&&(tt.exports.prototype[w.inspect.custom]=function(){var F=w.inspect({length:this.length});return this.constructor.name+" "+F})},"./node_modules/readable-stream/lib/internal/streams/destroy.js":
/*!**********************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/destroy.js ***!
                  \**********************************************************************/
/*! no static exports found */function(tt,S,c){"use strict";var t=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function E(F,L){F.emit("error",L)}tt.exports={destroy:function b(F,L){var D=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(L?L(F):F&&(!this._writableState||!this._writableState.errorEmitted)&&t.nextTick(E,this,F),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(F||null,function(g){!L&&g?(t.nextTick(E,D,g),D._writableState&&(D._writableState.errorEmitted=!0)):L&&L(g)}),this)},undestroy:function w(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js":
/*!*****************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/stream-browser.js ***!
                  \*****************************************************************************/
/*! no static exports found */function(tt,S,c){tt.exports=c(
/*! events */
"./node_modules/events/events.js").EventEmitter},"./node_modules/readable-stream/node_modules/safe-buffer/index.js":
/*!************************************************************************!*\
                  !*** ./node_modules/readable-stream/node_modules/safe-buffer/index.js ***!
                  \************************************************************************/
/*! no static exports found */function(tt,S,c){var t=c(
/*! buffer */
"./node_modules/buffer/index.js"),b=t.Buffer;function w(F,L){for(var D in F)L[D]=F[D]}function E(F,L,D){return b(F,L,D)}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?tt.exports=t:(w(t,S),S.Buffer=E),w(b,E),E.from=function(F,L,D){if("number"==typeof F)throw new TypeError("Argument must not be a number");return b(F,L,D)},E.alloc=function(F,L,D){if("number"!=typeof F)throw new TypeError("Argument must be a number");var p=b(F);return void 0!==L?"string"==typeof D?p.fill(L,D):p.fill(L):p.fill(0),p},E.allocUnsafe=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return b(F)},E.allocUnsafeSlow=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return t.SlowBuffer(F)}},"./node_modules/readable-stream/passthrough.js":
/*!*****************************************************!*\
                  !*** ./node_modules/readable-stream/passthrough.js ***!
                  \*****************************************************/
/*! no static exports found */function(tt,S,c){tt.exports=c(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").PassThrough},"./node_modules/readable-stream/readable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/readable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(tt,S,c){(S=tt.exports=c(
/*! ./lib/_stream_readable.js */
"./node_modules/readable-stream/lib/_stream_readable.js")).Stream=S,S.Readable=S,S.Writable=c(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js"),S.Duplex=c(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js"),S.Transform=c(
/*! ./lib/_stream_transform.js */
"./node_modules/readable-stream/lib/_stream_transform.js"),S.PassThrough=c(
/*! ./lib/_stream_passthrough.js */
"./node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/readable-stream/transform.js":
/*!***************************************************!*\
                  !*** ./node_modules/readable-stream/transform.js ***!
                  \***************************************************/
/*! no static exports found */function(tt,S,c){tt.exports=c(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").Transform},"./node_modules/readable-stream/writable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/writable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(tt,S,c){tt.exports=c(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js")},"./node_modules/safe-buffer/index.js":
/*!*******************************************!*\
                  !*** ./node_modules/safe-buffer/index.js ***!
                  \*******************************************/
/*! no static exports found */function(tt,S,c){var t=c(
/*! buffer */
"./node_modules/buffer/index.js"),b=t.Buffer;function w(F,L){for(var D in F)L[D]=F[D]}function E(F,L,D){return b(F,L,D)}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?tt.exports=t:(w(t,S),S.Buffer=E),E.prototype=Object.create(b.prototype),w(b,E),E.from=function(F,L,D){if("number"==typeof F)throw new TypeError("Argument must not be a number");return b(F,L,D)},E.alloc=function(F,L,D){if("number"!=typeof F)throw new TypeError("Argument must be a number");var p=b(F);return void 0!==L?"string"==typeof D?p.fill(L,D):p.fill(L):p.fill(0),p},E.allocUnsafe=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return b(F)},E.allocUnsafeSlow=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return t.SlowBuffer(F)}},"./node_modules/sax/lib/sax.js":
/*!*************************************!*\
                  !*** ./node_modules/sax/lib/sax.js ***!
                  \*************************************/
/*! no static exports found */function(tt,S,c){(function(t){!function(b){b.parser=function(W,se){return new E(W,se)},b.SAXParser=E,b.SAXStream=y,b.createStream=function g(W,se){return new y(W,se)},b.MAX_BUFFER_LENGTH=65536;var p,w=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function E(W,se){if(!(this instanceof E))return new E(W,se);var _e=this;(function L(W){for(var se=0,_e=w.length;se<_e;se++)W[w[se]]=""})(_e),_e.q=_e.c="",_e.bufferCheckPosition=b.MAX_BUFFER_LENGTH,_e.opt=se||{},_e.opt.lowercase=_e.opt.lowercase||_e.opt.lowercasetags,_e.looseCase=_e.opt.lowercase?"toLowerCase":"toUpperCase",_e.tags=[],_e.closed=_e.closedRoot=_e.sawRoot=!1,_e.tag=_e.error=null,_e.strict=!!W,_e.noscript=!(!W&&!_e.opt.noscript),_e.state=K.BEGIN,_e.strictEntities=_e.opt.strictEntities,_e.ENTITIES=Object.create(_e.strictEntities?b.XML_ENTITIES:b.ENTITIES),_e.attribList=[],_e.opt.xmlns&&(_e.ns=Object.create(N)),_e.trackPosition=!1!==_e.opt.position,_e.trackPosition&&(_e.position=_e.line=_e.column=0),oe(_e,"onready")}b.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(W){function se(){}return se.prototype=W,new se}),Object.keys||(Object.keys=function(W){var se=[];for(var _e in W)W.hasOwnProperty(_e)&&se.push(_e);return se}),E.prototype={end:function(){Re(this)},write:function Te(W){var se=this;if(this.error)throw this.error;if(se.closed)return fe(se,"Cannot write after close. Assign an onready handler.");if(null===W)return Re(se);"object"==typeof W&&(W=W.toString());for(var _e=0,J="";J=Ne(W,_e++),se.c=J,J;)switch(se.trackPosition&&(se.position++,"\n"===J?(se.line++,se.column=0):se.column++),se.state){case K.BEGIN:if(se.state=K.BEGIN_WHITESPACE,"\ufeff"===J)continue;Je(se,J);continue;case K.BEGIN_WHITESPACE:Je(se,J);continue;case K.TEXT:if(se.sawRoot&&!se.closedRoot){for(var Q=_e-1;J&&"<"!==J&&"&"!==J;)(J=Ne(W,_e++))&&se.trackPosition&&(se.position++,"\n"===J?(se.line++,se.column=0):se.column++);se.textNode+=W.substring(Q,_e-1)}"<"!==J||se.sawRoot&&se.closedRoot&&!se.strict?(ae(M,J)&&(!se.sawRoot||se.closedRoot)&&Ae(se,"Text data outside of root node."),"&"===J?se.state=K.TEXT_ENTITY:se.textNode+=J):(se.state=K.OPEN_WAKA,se.startTagPosition=se.position);continue;case K.SCRIPT:"<"===J?se.state=K.SCRIPT_ENDING:se.script+=J;continue;case K.SCRIPT_ENDING:"/"===J?se.state=K.CLOSE_TAG:(se.script+="<"+J,se.state=K.SCRIPT);continue;case K.OPEN_WAKA:"!"===J?(se.state=K.SGML_DECL,se.sgmlDecl=""):$(M,J)||($(C,J)?(se.state=K.OPEN_TAG,se.tagName=J):"/"===J?(se.state=K.CLOSE_TAG,se.tagName=""):"?"===J?(se.state=K.PROC_INST,se.procInstName=se.procInstBody=""):(Ae(se,"Unencoded <"),se.startTagPosition+1<se.position&&(J=new Array(se.position-se.startTagPosition).join(" ")+J),se.textNode+="<"+J,se.state=K.TEXT));continue;case K.SGML_DECL:(se.sgmlDecl+J).toUpperCase()===O?(he(se,"onopencdata"),se.state=K.CDATA,se.sgmlDecl="",se.cdata=""):se.sgmlDecl+J==="--"?(se.state=K.COMMENT,se.comment="",se.sgmlDecl=""):(se.sgmlDecl+J).toUpperCase()===x?(se.state=K.DOCTYPE,(se.doctype||se.sawRoot)&&Ae(se,"Inappropriately located doctype declaration"),se.doctype="",se.sgmlDecl=""):">"===J?(he(se,"onsgmldeclaration",se.sgmlDecl),se.sgmlDecl="",se.state=K.TEXT):($(V,J)&&(se.state=K.SGML_DECL_QUOTED),se.sgmlDecl+=J);continue;case K.SGML_DECL_QUOTED:J===se.q&&(se.state=K.SGML_DECL,se.q=""),se.sgmlDecl+=J;continue;case K.DOCTYPE:">"===J?(se.state=K.TEXT,he(se,"ondoctype",se.doctype),se.doctype=!0):(se.doctype+=J,"["===J?se.state=K.DOCTYPE_DTD:$(V,J)&&(se.state=K.DOCTYPE_QUOTED,se.q=J));continue;case K.DOCTYPE_QUOTED:se.doctype+=J,J===se.q&&(se.q="",se.state=K.DOCTYPE);continue;case K.DOCTYPE_DTD:se.doctype+=J,"]"===J?se.state=K.DOCTYPE:$(V,J)&&(se.state=K.DOCTYPE_DTD_QUOTED,se.q=J);continue;case K.DOCTYPE_DTD_QUOTED:se.doctype+=J,J===se.q&&(se.state=K.DOCTYPE_DTD,se.q="");continue;case K.COMMENT:"-"===J?se.state=K.COMMENT_ENDING:se.comment+=J;continue;case K.COMMENT_ENDING:"-"===J?(se.state=K.COMMENT_ENDED,se.comment=Le(se.opt,se.comment),se.comment&&he(se,"oncomment",se.comment),se.comment=""):(se.comment+="-"+J,se.state=K.COMMENT);continue;case K.COMMENT_ENDED:">"!==J?(Ae(se,"Malformed comment"),se.comment+="--"+J,se.state=K.COMMENT):se.state=K.TEXT;continue;case K.CDATA:"]"===J?se.state=K.CDATA_ENDING:se.cdata+=J;continue;case K.CDATA_ENDING:"]"===J?se.state=K.CDATA_ENDING_2:(se.cdata+="]"+J,se.state=K.CDATA);continue;case K.CDATA_ENDING_2:">"===J?(se.cdata&&he(se,"oncdata",se.cdata),he(se,"onclosecdata"),se.cdata="",se.state=K.TEXT):"]"===J?se.cdata+="]":(se.cdata+="]]"+J,se.state=K.CDATA);continue;case K.PROC_INST:"?"===J?se.state=K.PROC_INST_ENDING:$(M,J)?se.state=K.PROC_INST_BODY:se.procInstName+=J;continue;case K.PROC_INST_BODY:if(!se.procInstBody&&$(M,J))continue;"?"===J?se.state=K.PROC_INST_ENDING:se.procInstBody+=J;continue;case K.PROC_INST_ENDING:">"===J?(he(se,"onprocessinginstruction",{name:se.procInstName,body:se.procInstBody}),se.procInstName=se.procInstBody="",se.state=K.TEXT):(se.procInstBody+="?"+J,se.state=K.PROC_INST_BODY);continue;case K.OPEN_TAG:$(B,J)?se.tagName+=J:(pe(se),">"===J?we(se):"/"===J?se.state=K.OPEN_TAG_SLASH:(ae(M,J)&&Ae(se,"Invalid character in tag name"),se.state=K.ATTRIB));continue;case K.OPEN_TAG_SLASH:">"===J?(we(se,!0),He(se)):(Ae(se,"Forward-slash in opening tag not followed by >"),se.state=K.ATTRIB);continue;case K.ATTRIB:if($(M,J))continue;">"===J?we(se):"/"===J?se.state=K.OPEN_TAG_SLASH:$(C,J)?(se.attribName=J,se.attribValue="",se.state=K.ATTRIB_NAME):Ae(se,"Invalid attribute name");continue;case K.ATTRIB_NAME:"="===J?se.state=K.ATTRIB_VALUE:">"===J?(Ae(se,"Attribute without value"),se.attribValue=se.attribName,ke(se),we(se)):$(M,J)?se.state=K.ATTRIB_NAME_SAW_WHITE:$(B,J)?se.attribName+=J:Ae(se,"Invalid attribute name");continue;case K.ATTRIB_NAME_SAW_WHITE:if("="===J)se.state=K.ATTRIB_VALUE;else{if($(M,J))continue;Ae(se,"Attribute without value"),se.tag.attributes[se.attribName]="",se.attribValue="",he(se,"onattribute",{name:se.attribName,value:""}),se.attribName="",">"===J?we(se):$(C,J)?(se.attribName=J,se.state=K.ATTRIB_NAME):(Ae(se,"Invalid attribute name"),se.state=K.ATTRIB)}continue;case K.ATTRIB_VALUE:if($(M,J))continue;$(V,J)?(se.q=J,se.state=K.ATTRIB_VALUE_QUOTED):(Ae(se,"Unquoted attribute value"),se.state=K.ATTRIB_VALUE_UNQUOTED,se.attribValue=J);continue;case K.ATTRIB_VALUE_QUOTED:if(J!==se.q){"&"===J?se.state=K.ATTRIB_VALUE_ENTITY_Q:se.attribValue+=J;continue}ke(se),se.q="",se.state=K.ATTRIB_VALUE_CLOSED;continue;case K.ATTRIB_VALUE_CLOSED:$(M,J)?se.state=K.ATTRIB:">"===J?we(se):"/"===J?se.state=K.OPEN_TAG_SLASH:$(C,J)?(Ae(se,"No whitespace between attributes"),se.attribName=J,se.attribValue="",se.state=K.ATTRIB_NAME):Ae(se,"Invalid attribute name");continue;case K.ATTRIB_VALUE_UNQUOTED:if(ae(k,J)){"&"===J?se.state=K.ATTRIB_VALUE_ENTITY_U:se.attribValue+=J;continue}ke(se),">"===J?we(se):se.state=K.ATTRIB;continue;case K.CLOSE_TAG:if(se.tagName)">"===J?He(se):$(B,J)?se.tagName+=J:se.script?(se.script+="</"+se.tagName,se.tagName="",se.state=K.SCRIPT):(ae(M,J)&&Ae(se,"Invalid tagname in closing tag"),se.state=K.CLOSE_TAG_SAW_WHITE);else{if($(M,J))continue;ae(C,J)?se.script?(se.script+="</"+J,se.state=K.SCRIPT):Ae(se,"Invalid tagname in closing tag."):se.tagName=J}continue;case K.CLOSE_TAG_SAW_WHITE:if($(M,J))continue;">"===J?He(se):Ae(se,"Invalid characters in closing tag");continue;case K.TEXT_ENTITY:case K.ATTRIB_VALUE_ENTITY_Q:case K.ATTRIB_VALUE_ENTITY_U:var ne,ie;switch(se.state){case K.TEXT_ENTITY:ne=K.TEXT,ie="textNode";break;case K.ATTRIB_VALUE_ENTITY_Q:ne=K.ATTRIB_VALUE_QUOTED,ie="attribValue";break;case K.ATTRIB_VALUE_ENTITY_U:ne=K.ATTRIB_VALUE_UNQUOTED,ie="attribValue"}";"===J?(se[ie]+=at(se),se.entity="",se.state=ne):$(se.entity.length?q:Y,J)?se.entity+=J:(Ae(se,"Invalid character in entity name"),se[ie]+="&"+se.entity+J,se.entity="",se.state=ne);continue;default:throw new Error(se,"Unknown state: "+se.state)}return se.position>=se.bufferCheckPosition&&function F(W){for(var se=Math.max(b.MAX_BUFFER_LENGTH,10),_e=0,J=0,Q=w.length;J<Q;J++){var Z=W[w[J]].length;if(Z>se)switch(w[J]){case"textNode":Ce(W);break;case"cdata":he(W,"oncdata",W.cdata),W.cdata="";break;case"script":he(W,"onscript",W.script),W.script="";break;default:fe(W,"Max buffer length exceeded: "+w[J])}_e=Math.max(_e,Z)}W.bufferCheckPosition=b.MAX_BUFFER_LENGTH-_e+W.position}(se),se},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function D(W){Ce(W),""!==W.cdata&&(he(W,"oncdata",W.cdata),W.cdata=""),""!==W.script&&(he(W,"onscript",W.script),W.script="")}(this)}};try{p=c(
/*! stream */
"./node_modules/stream-browserify/index.js").Stream}catch{p=function(){}}var f=b.EVENTS.filter(function(W){return"error"!==W&&"end"!==W});function y(W,se){if(!(this instanceof y))return new y(W,se);p.apply(this),this._parser=new E(W,se),this.writable=!0,this.readable=!0;var _e=this;this._parser.onend=function(){_e.emit("end")},this._parser.onerror=function(J){_e.emit("error",J),_e._parser.error=null},this._decoder=null,f.forEach(function(J){Object.defineProperty(_e,"on"+J,{get:function(){return _e._parser["on"+J]},set:function(Q){if(!Q)return _e.removeAllListeners(J),_e._parser["on"+J]=Q,Q;_e.on(J,Q)},enumerable:!0,configurable:!1})})}(y.prototype=Object.create(p.prototype,{constructor:{value:y}})).write=function(W){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(W)){if(!this._decoder){var se=c(
/*! string_decoder */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._decoder=new se("utf8")}W=this._decoder.write(W)}return this._parser.write(W.toString()),this.emit("data",W),!0},y.prototype.end=function(W){return W&&W.length&&this.write(W),this._parser.end(),!0},y.prototype.on=function(W,se){var _e=this;return!_e._parser["on"+W]&&-1!==f.indexOf(W)&&(_e._parser["on"+W]=function(){var J=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);J.splice(0,0,W),_e.emit.apply(_e,J)}),p.prototype.on.call(_e,W,se)};var M="\r\n\t ",U="0124356789",R="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",V="'\"",k=M+">",O="[CDATA[",x="DOCTYPE",P="http://www.w3.org/XML/1998/namespace",T="http://www.w3.org/2000/xmlns/",N={xml:P,xmlns:T};M=le(M),U=le(U),R=le(R);var C=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,B=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,Y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,q=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function le(W){return W.split("").reduce(function(se,_e){return se[_e]=!0,se},{})}function $(W,se){return function Fe(W){return"[object RegExp]"===Object.prototype.toString.call(W)}(W)?!!se.match(W):W[se]}function ae(W,se){return!$(W,se)}V=le(V),k=le(k);var W,se,_e,K=0;for(var ge in b.STATE={BEGIN:K++,BEGIN_WHITESPACE:K++,TEXT:K++,TEXT_ENTITY:K++,OPEN_WAKA:K++,SGML_DECL:K++,SGML_DECL_QUOTED:K++,DOCTYPE:K++,DOCTYPE_QUOTED:K++,DOCTYPE_DTD:K++,DOCTYPE_DTD_QUOTED:K++,COMMENT_STARTING:K++,COMMENT:K++,COMMENT_ENDING:K++,COMMENT_ENDED:K++,CDATA:K++,CDATA_ENDING:K++,CDATA_ENDING_2:K++,PROC_INST:K++,PROC_INST_BODY:K++,PROC_INST_ENDING:K++,OPEN_TAG:K++,OPEN_TAG_SLASH:K++,ATTRIB:K++,ATTRIB_NAME:K++,ATTRIB_NAME_SAW_WHITE:K++,ATTRIB_VALUE:K++,ATTRIB_VALUE_QUOTED:K++,ATTRIB_VALUE_CLOSED:K++,ATTRIB_VALUE_UNQUOTED:K++,ATTRIB_VALUE_ENTITY_Q:K++,ATTRIB_VALUE_ENTITY_U:K++,CLOSE_TAG:K++,CLOSE_TAG_SAW_WHITE:K++,SCRIPT:K++,SCRIPT_ENDING:K++},b.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},b.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(b.ENTITIES).forEach(function(W){var se=b.ENTITIES[W],_e="number"==typeof se?String.fromCharCode(se):se;b.ENTITIES[W]=_e}),b.STATE)b.STATE[b.STATE[ge]]=ge;function oe(W,se,_e){W[se]&&W[se](_e)}function he(W,se,_e){W.textNode&&Ce(W),oe(W,se,_e)}function Ce(W){W.textNode=Le(W.opt,W.textNode),W.textNode&&oe(W,"ontext",W.textNode),W.textNode=""}function Le(W,se){return W.trim&&(se=se.trim()),W.normalize&&(se=se.replace(/\s+/g," ")),se}function fe(W,se){return Ce(W),W.trackPosition&&(se+="\nLine: "+W.line+"\nColumn: "+W.column+"\nChar: "+W.c),se=new Error(se),W.error=se,oe(W,"onerror",se),W}function Re(W){return W.sawRoot&&!W.closedRoot&&Ae(W,"Unclosed root tag"),W.state!==K.BEGIN&&W.state!==K.BEGIN_WHITESPACE&&W.state!==K.TEXT&&fe(W,"Unexpected end"),Ce(W),W.c="",W.closed=!0,oe(W,"onend"),E.call(W,W.strict,W.opt),W}function Ae(W,se){if("object"!=typeof W||!(W instanceof E))throw new Error("bad call to strictFail");W.strict&&fe(W,se)}function pe(W){W.strict||(W.tagName=W.tagName[W.looseCase]());var se=W.tags[W.tags.length-1]||W,_e=W.tag={name:W.tagName,attributes:{}};W.opt.xmlns&&(_e.ns=se.ns),W.attribList.length=0,he(W,"onopentagstart",_e)}function Ue(W,se){var J=W.indexOf(":")<0?["",W]:W.split(":"),Q=J[0],Z=J[1];return se&&"xmlns"===W&&(Q="xmlns",Z=""),{prefix:Q,local:Z}}function ke(W){if(W.strict||(W.attribName=W.attribName[W.looseCase]()),-1!==W.attribList.indexOf(W.attribName)||W.tag.attributes.hasOwnProperty(W.attribName))W.attribName=W.attribValue="";else{if(W.opt.xmlns){var se=Ue(W.attribName,!0),J=se.local;if("xmlns"===se.prefix)if("xml"===J&&W.attribValue!==P)Ae(W,"xml: prefix must be bound to "+P+"\nActual: "+W.attribValue);else if("xmlns"===J&&W.attribValue!==T)Ae(W,"xmlns: prefix must be bound to "+T+"\nActual: "+W.attribValue);else{var Q=W.tag,Z=W.tags[W.tags.length-1]||W;Q.ns===Z.ns&&(Q.ns=Object.create(Z.ns)),Q.ns[J]=W.attribValue}W.attribList.push([W.attribName,W.attribValue])}else W.tag.attributes[W.attribName]=W.attribValue,he(W,"onattribute",{name:W.attribName,value:W.attribValue});W.attribName=W.attribValue=""}}function we(W,se){if(W.opt.xmlns){var _e=W.tag,J=Ue(W.tagName);_e.prefix=J.prefix,_e.local=J.local,_e.uri=_e.ns[J.prefix]||"",_e.prefix&&!_e.uri&&(Ae(W,"Unbound namespace prefix: "+JSON.stringify(W.tagName)),_e.uri=J.prefix),_e.ns&&(W.tags[W.tags.length-1]||W).ns!==_e.ns&&Object.keys(_e.ns).forEach(function(Ve){he(W,"onopennamespace",{prefix:Ve,uri:_e.ns[Ve]})});for(var Z=0,ne=W.attribList.length;Z<ne;Z++){var ie=W.attribList[Z],ee=ie[0],X=ie[1],ue=Ue(ee,!0),ve=ue.prefix,xe=""===ve?"":_e.ns[ve]||"",Ke={name:ee,value:X,prefix:ve,local:ue.local,uri:xe};ve&&"xmlns"!==ve&&!xe&&(Ae(W,"Unbound namespace prefix: "+JSON.stringify(ve)),Ke.uri=ve),W.tag.attributes[ee]=Ke,he(W,"onattribute",Ke)}W.attribList.length=0}W.tag.isSelfClosing=!!se,W.sawRoot=!0,W.tags.push(W.tag),he(W,"onopentag",W.tag),se||(W.state=W.noscript||"script"!==W.tagName.toLowerCase()?K.TEXT:K.SCRIPT,W.tag=null,W.tagName=""),W.attribName=W.attribValue="",W.attribList.length=0}function He(W){if(!W.tagName)return Ae(W,"Weird empty close tag."),W.textNode+="</>",void(W.state=K.TEXT);if(W.script){if("script"!==W.tagName)return W.script+="</"+W.tagName+">",W.tagName="",void(W.state=K.SCRIPT);he(W,"onscript",W.script),W.script=""}var se=W.tags.length,_e=W.tagName;W.strict||(_e=_e[W.looseCase]());for(var J=_e;se--&&W.tags[se].name!==J;)Ae(W,"Unexpected close tag");if(se<0)return Ae(W,"Unmatched closing tag: "+W.tagName),W.textNode+="</"+W.tagName+">",void(W.state=K.TEXT);W.tagName=_e;for(var Z=W.tags.length;Z-- >se;){var ne=W.tag=W.tags.pop();W.tagName=W.tag.name,he(W,"onclosetag",W.tagName);var ie={};for(var ee in ne.ns)ie[ee]=ne.ns[ee];W.opt.xmlns&&ne.ns!==(W.tags[W.tags.length-1]||W).ns&&Object.keys(ne.ns).forEach(function(ue){he(W,"onclosenamespace",{prefix:ue,uri:ne.ns[ue]})})}0===se&&(W.closedRoot=!0),W.tagName=W.attribValue=W.attribName="",W.attribList.length=0,W.state=K.TEXT}function at(W){var J,se=W.entity,_e=se.toLowerCase(),Q="";return W.ENTITIES[se]?W.ENTITIES[se]:W.ENTITIES[_e]?W.ENTITIES[_e]:("#"===(se=_e).charAt(0)&&("x"===se.charAt(1)?(se=se.slice(2),Q=(J=parseInt(se,16)).toString(16)):(se=se.slice(1),Q=(J=parseInt(se,10)).toString(10))),se=se.replace(/^0+/,""),Q.toLowerCase()!==se?(Ae(W,"Invalid character entity"),"&"+W.entity+";"):String.fromCodePoint(J))}function Je(W,se){"<"===se?(W.state=K.OPEN_WAKA,W.startTagPosition=W.position):ae(M,se)&&(Ae(W,"Non-whitespace before first tag."),W.textNode=se,W.state=K.TEXT)}function Ne(W,se){var _e="";return se<W.length&&(_e=W.charAt(se)),_e}K=b.STATE,String.fromCodePoint||(W=String.fromCharCode,se=Math.floor,_e=function(){var Q=[],ie=-1,ee=arguments.length;if(!ee)return"";for(var X="";++ie<ee;){var ue=Number(arguments[ie]);if(!isFinite(ue)||ue<0||ue>1114111||se(ue)!==ue)throw RangeError("Invalid code point: "+ue);ue<=65535?Q.push(ue):Q.push(55296+((ue-=65536)>>10),ue%1024+56320),(ie+1===ee||Q.length>16384)&&(X+=W.apply(null,Q),Q.length=0)}return X},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:_e,configurable:!0,writable:!0}):String.fromCodePoint=_e)}(S)}).call(this,c(
/*! ./../../buffer/index.js */
"./node_modules/buffer/index.js").Buffer)},"./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
                  !*** ./node_modules/setimmediate/setImmediate.js ***!
                  \***************************************************/
/*! no static exports found */function(tt,S,c){(function(t,b){!function(w,E){"use strict";if(!w.setImmediate){var f,F=1,L={},D=!1,p=w.document,T=Object.getPrototypeOf&&Object.getPrototypeOf(w);T=T&&T.setTimeout?T:w,"[object process]"==={}.toString.call(w.process)?function R(){f=function(N){b.nextTick(function(){U(N)})}}():function V(){if(w.postMessage&&!w.importScripts){var N=!0,C=w.onmessage;return w.onmessage=function(){N=!1},w.postMessage("","*"),w.onmessage=C,N}}()?function k(){var N="setImmediate$"+Math.random()+"$",C=function(B){B.source===w&&"string"==typeof B.data&&0===B.data.indexOf(N)&&U(+B.data.slice(N.length))};w.addEventListener?w.addEventListener("message",C,!1):w.attachEvent("onmessage",C),f=function(B){w.postMessage(N+B,"*")}}():w.MessageChannel?function O(){var N=new MessageChannel;N.port1.onmessage=function(C){U(C.data)},f=function(C){N.port2.postMessage(C)}}():p&&"onreadystatechange"in p.createElement("script")?function x(){var N=p.documentElement;f=function(C){var B=p.createElement("script");B.onreadystatechange=function(){U(C),B.onreadystatechange=null,N.removeChild(B),B=null},N.appendChild(B)}}():function P(){f=function(N){setTimeout(U,0,N)}}(),T.setImmediate=function g(N){"function"!=typeof N&&(N=new Function(""+N));for(var C=new Array(arguments.length-1),B=0;B<C.length;B++)C[B]=arguments[B+1];return L[F]={callback:N,args:C},f(F),F++},T.clearImmediate=y}function y(N){delete L[N]}function U(N){if(D)setTimeout(U,0,N);else{var C=L[N];if(C){D=!0;try{!function M(N){var C=N.callback,B=N.args;switch(B.length){case 0:C();break;case 1:C(B[0]);break;case 2:C(B[0],B[1]);break;case 3:C(B[0],B[1],B[2]);break;default:C.apply(E,B)}}(C)}finally{y(N),D=!1}}}}}(typeof self>"u"?typeof t>"u"?this:t:self)}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/stream-browserify/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/stream-browserify/index.js ***!
                  \*************************************************/
/*! no static exports found */function(tt,S,c){tt.exports=w;var t=c(
/*! events */
"./node_modules/events/events.js").EventEmitter;function w(){t.call(this)}c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js")(w,t),w.Readable=c(
/*! readable-stream/readable.js */
"./node_modules/readable-stream/readable-browser.js"),w.Writable=c(
/*! readable-stream/writable.js */
"./node_modules/readable-stream/writable-browser.js"),w.Duplex=c(
/*! readable-stream/duplex.js */
"./node_modules/readable-stream/duplex-browser.js"),w.Transform=c(
/*! readable-stream/transform.js */
"./node_modules/readable-stream/transform.js"),w.PassThrough=c(
/*! readable-stream/passthrough.js */
"./node_modules/readable-stream/passthrough.js"),w.Stream=w,w.prototype.pipe=function(E,F){var L=this;function D(R){E.writable&&!1===E.write(R)&&L.pause&&L.pause()}function p(){L.readable&&L.resume&&L.resume()}L.on("data",D),E.on("drain",p),!E._isStdio&&(!F||!1!==F.end)&&(L.on("end",g),L.on("close",y));var f=!1;function g(){f||(f=!0,E.end())}function y(){f||(f=!0,"function"==typeof E.destroy&&E.destroy())}function M(R){if(U(),0===t.listenerCount(this,"error"))throw R}function U(){L.removeListener("data",D),E.removeListener("drain",p),L.removeListener("end",g),L.removeListener("close",y),L.removeListener("error",M),E.removeListener("error",M),L.removeListener("end",U),L.removeListener("close",U),E.removeListener("close",U)}return L.on("error",M),E.on("error",M),L.on("end",U),L.on("close",U),E.on("close",U),E.emit("pipe",L),E}},"./node_modules/string_decoder/lib/string_decoder.js":
/*!***********************************************************!*\
                  !*** ./node_modules/string_decoder/lib/string_decoder.js ***!
                  \***********************************************************/
/*! no static exports found */function(tt,S,c){"use strict";var t=c(
/*! safe-buffer */
"./node_modules/safe-buffer/index.js").Buffer,b=t.isEncoding||function(x){switch((x=""+x)&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function F(x){var P;switch(this.encoding=function E(x){var P=function w(x){if(!x)return"utf8";for(var P;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(P)return;x=(""+x).toLowerCase(),P=!0}}(x);if("string"!=typeof P&&(t.isEncoding===b||!b(x)))throw new Error("Unknown encoding: "+x);return P||x}(x),this.encoding){case"utf16le":this.text=M,this.end=U,P=4;break;case"utf8":this.fillLast=f,P=4;break;case"base64":this.text=R,this.end=V,P=3;break;default:return this.write=k,void(this.end=O)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(P)}function L(x){return x<=127?0:x>>5==6?2:x>>4==14?3:x>>3==30?4:x>>6==2?-1:-2}function f(x){var P=this.lastTotal-this.lastNeed,T=function p(x,P,T){if(128!=(192&P[0]))return x.lastNeed=0,"\ufffd";if(x.lastNeed>1&&P.length>1){if(128!=(192&P[1]))return x.lastNeed=1,"\ufffd";if(x.lastNeed>2&&P.length>2&&128!=(192&P[2]))return x.lastNeed=2,"\ufffd"}}(this,x);return void 0!==T?T:this.lastNeed<=x.length?(x.copy(this.lastChar,P,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(x.copy(this.lastChar,P,0,x.length),void(this.lastNeed-=x.length))}function M(x,P){if((x.length-P)%2==0){var T=x.toString("utf16le",P);if(T){var N=T.charCodeAt(T.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",P,x.length-1)}function U(x){var P=x&&x.length?this.write(x):"";return this.lastNeed?P+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):P}function R(x,P){var T=(x.length-P)%3;return 0===T?x.toString("base64",P):(this.lastNeed=3-T,this.lastTotal=3,1===T?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",P,x.length-T))}function V(x){var P=x&&x.length?this.write(x):"";return this.lastNeed?P+this.lastChar.toString("base64",0,3-this.lastNeed):P}function k(x){return x.toString(this.encoding)}function O(x){return x&&x.length?this.write(x):""}S.StringDecoder=F,F.prototype.write=function(x){if(0===x.length)return"";var P,T;if(this.lastNeed){if(void 0===(P=this.fillLast(x)))return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<x.length?P?P+this.text(x,T):this.text(x,T):P||""},F.prototype.end=function y(x){var P=x&&x.length?this.write(x):"";return this.lastNeed?P+"\ufffd":P},F.prototype.text=function g(x,P){var T=function D(x,P,T){var N=P.length-1;if(N<T)return 0;var C=L(P[N]);return C>=0?(C>0&&(x.lastNeed=C-1),C):--N<T||-2===C?0:(C=L(P[N]))>=0?(C>0&&(x.lastNeed=C-2),C):--N<T||-2===C?0:(C=L(P[N]))>=0?(C>0&&(2===C?C=0:x.lastNeed=C-3),C):0}(this,x,P);if(!this.lastNeed)return x.toString("utf8",P);this.lastTotal=T;var N=x.length-(T-this.lastNeed);return x.copy(this.lastChar,0,N),x.toString("utf8",P,N)},F.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length}},"./node_modules/timers-browserify/main.js":
/*!************************************************!*\
                  !*** ./node_modules/timers-browserify/main.js ***!
                  \************************************************/
/*! no static exports found */function(tt,S,c){(function(t){var b=typeof t<"u"&&t||typeof self<"u"&&self||window,w=Function.prototype.apply;function E(F,L){this._id=F,this._clearFn=L}S.setTimeout=function(){return new E(w.call(setTimeout,b,arguments),clearTimeout)},S.setInterval=function(){return new E(w.call(setInterval,b,arguments),clearInterval)},S.clearTimeout=S.clearInterval=function(F){F&&F.close()},E.prototype.unref=E.prototype.ref=function(){},E.prototype.close=function(){this._clearFn.call(b,this._id)},S.enroll=function(F,L){clearTimeout(F._idleTimeoutId),F._idleTimeout=L},S.unenroll=function(F){clearTimeout(F._idleTimeoutId),F._idleTimeout=-1},S._unrefActive=S.active=function(F){clearTimeout(F._idleTimeoutId);var L=F._idleTimeout;L>=0&&(F._idleTimeoutId=setTimeout(function(){F._onTimeout&&F._onTimeout()},L))},c(
/*! setimmediate */
"./node_modules/setimmediate/setImmediate.js"),S.setImmediate=typeof self<"u"&&self.setImmediate||typeof t<"u"&&t.setImmediate||this&&this.setImmediate,S.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof t<"u"&&t.clearImmediate||this&&this.clearImmediate}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/ua-parser-js/src/ua-parser.js":
/*!****************************************************!*\
                  !*** ./node_modules/ua-parser-js/src/ua-parser.js ***!
                  \****************************************************/
/*! no static exports found */function(tt,S,c){var t;!function(b,w){"use strict";var D="function",p="undefined",f="object",g="string",M="model",U="name",R="type",V="vendor",k="version",O="architecture",x="console",P="mobile",T="tablet",N="smarttv",C="wearable",B="embedded",q="Amazon",le="Apple",$="BlackBerry",ae="Browser",K="Chrome",oe="Firefox",he="Google",fe="Microsoft",Re="Motorola",Ae="Opera",pe="Samsung",ke="Sony",we="Xiaomi",He="Zebra",at="Facebook",Ne=function(ve){for(var de={},xe=0;xe<ve.length;xe++)de[ve[xe].toUpperCase()]=ve[xe];return de},Te=function(ve,de){return typeof ve===g&&-1!==W(de).indexOf(W(ve))},W=function(ve){return ve.toLowerCase()},_e=function(ve,de){if(typeof ve===g)return ve=ve.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof de===p?ve:ve.substring(0,350)},J=function(ve,de){for(var Ke,Ve,lt,dt,it,bt,xe=0;xe<de.length&&!it;){var Ut=de[xe],wt=de[xe+1];for(Ke=Ve=0;Ke<Ut.length&&!it;)if(it=Ut[Ke++].exec(ve))for(lt=0;lt<wt.length;lt++)bt=it[++Ve],typeof(dt=wt[lt])===f&&dt.length>0?2===dt.length?this[dt[0]]=typeof dt[1]==D?dt[1].call(this,bt):dt[1]:3===dt.length?this[dt[0]]=typeof dt[1]!==D||dt[1].exec&&dt[1].test?bt?bt.replace(dt[1],dt[2]):w:bt?dt[1].call(this,bt,dt[2]):w:4===dt.length&&(this[dt[0]]=bt?dt[3].call(this,bt.replace(dt[1],dt[2])):w):this[dt]=bt||w;xe+=2}},Q=function(ve,de){for(var xe in de)if(typeof de[xe]===f&&de[xe].length>0){for(var Ke=0;Ke<de[xe].length;Ke++)if(Te(de[xe][Ke],ve))return"?"===xe?w:xe}else if(Te(de[xe],ve))return"?"===xe?w:xe;return ve},ne={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ie={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[k,[U,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[k,[U,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[U,k],[/opios[\/ ]+([\w\.]+)/i],[k,[U,Ae+" Mini"]],[/\bopr\/([\w\.]+)/i],[k,[U,Ae]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[U,k],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[k,[U,"UC"+ae]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[k,[U,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[k,[U,"WeChat"]],[/konqueror\/([\w\.]+)/i],[k,[U,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[k,[U,"IE"]],[/yabrowser\/([\w\.]+)/i],[k,[U,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[U,/(.+)/,"$1 Secure "+ae],k],[/\bfocus\/([\w\.]+)/i],[k,[U,oe+" Focus"]],[/\bopt\/([\w\.]+)/i],[k,[U,Ae+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[k,[U,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[k,[U,"Dolphin"]],[/coast\/([\w\.]+)/i],[k,[U,Ae+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[k,[U,"MIUI "+ae]],[/fxios\/([-\w\.]+)/i],[k,[U,oe]],[/\bqihu|(qi?ho?o?|360)browser/i],[[U,"360 "+ae]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[U,/(.+)/,"$1 "+ae],k],[/(comodo_dragon)\/([\w\.]+)/i],[[U,/_/g," "],k],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[U,k],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[U],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[U,at],k],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[U,k],[/\bgsa\/([\w\.]+) .*safari\//i],[k,[U,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[k,[U,K+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[U,K+" WebView"],k],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[k,[U,"Android "+ae]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[U,k],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[k,[U,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[k,U],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[U,[k,Q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[U,k],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[U,"Netscape"],k],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[k,[U,oe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[U,k]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[O,"amd64"]],[/(ia32(?=;))/i],[[O,W]],[/((?:i[346]|x)86)[;\)]/i],[[O,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[O,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[O,"armhf"]],[/windows (ce|mobile); ppc;/i],[[O,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[O,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[O,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[O,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[M,[V,pe],[R,T]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[M,[V,pe],[R,P]],[/\((ip(?:hone|od)[\w ]*);/i],[M,[V,le],[R,P]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[M,[V,le],[R,T]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[M,[V,"Huawei"],[R,T]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[M,[V,"Huawei"],[R,P]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[M,/_/g," "],[V,we],[R,P]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[M,/_/g," "],[V,we],[R,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[M,[V,"OPPO"],[R,P]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[M,[V,"Vivo"],[R,P]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[M,[V,"Realme"],[R,P]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[M,[V,Re],[R,P]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[M,[V,Re],[R,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[M,[V,"LG"],[R,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[M,[V,"LG"],[R,P]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[M,[V,"Lenovo"],[R,T]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[M,/_/g," "],[V,"Nokia"],[R,P]],[/(pixel c)\b/i],[M,[V,he],[R,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[M,[V,he],[R,P]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[M,[V,ke],[R,P]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[M,"Xperia Tablet"],[V,ke],[R,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[M,[V,"OnePlus"],[R,P]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[M,[V,q],[R,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[M,/(.+)/g,"Fire Phone $1"],[V,q],[R,P]],[/(playbook);[-\w\),; ]+(rim)/i],[M,V,[R,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[M,[V,$],[R,P]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[M,[V,"ASUS"],[R,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[M,[V,"ASUS"],[R,P]],[/(nexus 9)/i],[M,[V,"HTC"],[R,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[V,[M,/_/g," "],[R,P]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[M,[V,"Acer"],[R,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[M,[V,"Meizu"],[R,P]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[M,[V,"Sharp"],[R,P]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[V,M,[R,P]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[V,M,[R,T]],[/(surface duo)/i],[M,[V,fe],[R,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[M,[V,"Fairphone"],[R,P]],[/(u304aa)/i],[M,[V,"AT&T"],[R,P]],[/\bsie-(\w*)/i],[M,[V,"Siemens"],[R,P]],[/\b(rct\w+) b/i],[M,[V,"RCA"],[R,T]],[/\b(venue[\d ]{2,7}) b/i],[M,[V,"Dell"],[R,T]],[/\b(q(?:mv|ta)\w+) b/i],[M,[V,"Verizon"],[R,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[M,[V,"Barnes & Noble"],[R,T]],[/\b(tm\d{3}\w+) b/i],[M,[V,"NuVision"],[R,T]],[/\b(k88) b/i],[M,[V,"ZTE"],[R,T]],[/\b(nx\d{3}j) b/i],[M,[V,"ZTE"],[R,P]],[/\b(gen\d{3}) b.+49h/i],[M,[V,"Swiss"],[R,P]],[/\b(zur\d{3}) b/i],[M,[V,"Swiss"],[R,T]],[/\b((zeki)?tb.*\b) b/i],[M,[V,"Zeki"],[R,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[V,"Dragon Touch"],M,[R,T]],[/\b(ns-?\w{0,9}) b/i],[M,[V,"Insignia"],[R,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[M,[V,"NextBook"],[R,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[V,"Voice"],M,[R,P]],[/\b(lvtel\-)?(v1[12]) b/i],[[V,"LvTel"],M,[R,P]],[/\b(ph-1) /i],[M,[V,"Essential"],[R,P]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[M,[V,"Envizen"],[R,T]],[/\b(trio[-\w\. ]+) b/i],[M,[V,"MachSpeed"],[R,T]],[/\btu_(1491) b/i],[M,[V,"Rotor"],[R,T]],[/(shield[\w ]+) b/i],[M,[V,"Nvidia"],[R,T]],[/(sprint) (\w+)/i],[V,M,[R,P]],[/(kin\.[onetw]{3})/i],[[M,/\./g," "],[V,fe],[R,P]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[M,[V,He],[R,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[M,[V,He],[R,P]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[V,M,[R,x]],[/droid.+; (shield) bui/i],[M,[V,"Nvidia"],[R,x]],[/(playstation [345portablevi]+)/i],[M,[V,ke],[R,x]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[M,[V,fe],[R,x]],[/smart-tv.+(samsung)/i],[V,[R,N]],[/hbbtv.+maple;(\d+)/i],[[M,/^/,"SmartTV"],[V,pe],[R,N]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[V,"LG"],[R,N]],[/(apple) ?tv/i],[V,[M,le+" TV"],[R,N]],[/crkey/i],[[M,K+"cast"],[V,he],[R,N]],[/droid.+aft(\w)( bui|\))/i],[M,[V,q],[R,N]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[M,[V,"Sharp"],[R,N]],[/(bravia[\w ]+)( bui|\))/i],[M,[V,ke],[R,N]],[/(mitv-\w{5}) bui/i],[M,[V,we],[R,N]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[V,_e],[M,_e],[R,N]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[R,N]],[/((pebble))app/i],[V,M,[R,C]],[/droid.+; (glass) \d/i],[M,[V,he],[R,C]],[/droid.+; (wt63?0{2,3})\)/i],[M,[V,He],[R,C]],[/(quest( 2)?)/i],[M,[V,at],[R,C]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[V,[R,B]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[M,[R,P]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[M,[R,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[R,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[R,P]],[/(android[-\w\. ]{0,9});.+buil/i],[M,[V,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[k,[U,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[k,[U,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[U,k],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[k,U]],os:[[/microsoft (windows) (vista|xp)/i],[U,k],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[U,[k,Q,ne]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[U,"Windows"],[k,Q,ne]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[k,/_/g,"."],[U,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[U,"Mac OS"],[k,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[k,U],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[U,k],[/\(bb(10);/i],[k,[U,$]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[k,[U,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[k,[U,oe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[k,[U,"webOS"]],[/crkey\/([\d\.]+)/i],[k,[U,K+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[U,"Chromium OS"],k],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[U,k],[/(sunos) ?([\w\.\d]*)/i],[[U,"Solaris"],k],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[U,k]]},ee=function(ve,de){if(typeof ve===f&&(de=ve,ve=w),!(this instanceof ee))return new ee(ve,de).getResult();var xe=ve||(typeof b!==p&&b.navigator&&b.navigator.userAgent?b.navigator.userAgent:""),Ke=de?function(ve,de){var xe={};for(var Ke in ve)xe[Ke]=de[Ke]&&de[Ke].length%2==0?de[Ke].concat(ve[Ke]):ve[Ke];return xe}(ie,de):ie;return this.getBrowser=function(){var Ve={};return Ve[U]=w,Ve[k]=w,J.call(Ve,xe,Ke.browser),Ve.major=function(ve){return typeof ve===g?ve.replace(/[^\d\.]/g,"").split(".")[0]:w}(Ve.version),Ve},this.getCPU=function(){var Ve={};return Ve[O]=w,J.call(Ve,xe,Ke.cpu),Ve},this.getDevice=function(){var Ve={};return Ve[V]=w,Ve[M]=w,Ve[R]=w,J.call(Ve,xe,Ke.device),Ve},this.getEngine=function(){var Ve={};return Ve[U]=w,Ve[k]=w,J.call(Ve,xe,Ke.engine),Ve},this.getOS=function(){var Ve={};return Ve[U]=w,Ve[k]=w,J.call(Ve,xe,Ke.os),Ve},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return xe},this.setUA=function(Ve){return xe=typeof Ve===g&&Ve.length>350?_e(Ve,350):Ve,this},this.setUA(xe),this};ee.VERSION="1.0.32",ee.BROWSER=Ne([U,k,"major"]),ee.CPU=Ne([O]),ee.DEVICE=Ne([M,V,R,x,P,N,T,C,B]),ee.ENGINE=ee.OS=Ne([U,k]),typeof S!==p?(typeof tt!==p&&tt.exports&&(S=tt.exports=ee),S.UAParser=ee):c(
/*! !webpack amd options */
"./node_modules/webpack/buildin/amd-options.js")?(t=function(){return ee}.call(S,c,S,tt))!==w&&(tt.exports=t):typeof b!==p&&(b.UAParser=ee);var X=typeof b!==p&&(b.jQuery||b.Zepto);if(X&&!X.ua){var ue=new ee;X.ua=ue.getResult(),X.ua.get=function(){return ue.getUA()},X.ua.set=function(ve){ue.setUA(ve);var de=ue.getResult();for(var xe in de)X.ua[xe]=de[xe]}}}("object"==typeof window?window:this)},"./node_modules/util-deprecate/browser.js":
/*!************************************************!*\
                  !*** ./node_modules/util-deprecate/browser.js ***!
                  \************************************************/
/*! no static exports found */function(tt,S,c){(function(t){function w(E){try{if(!t.localStorage)return!1}catch{return!1}var F=t.localStorage[E];return null!=F&&"true"===String(F).toLowerCase()}tt.exports=function b(E,F){if(w("noDeprecation"))return E;var L=!1;return function D(){if(!L){if(w("throwDeprecation"))throw new Error(F);w("traceDeprecation")?console.trace(F):console.warn(F),L=!0}return E.apply(this,arguments)}}}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
                  !*** (webpack)/buildin/amd-options.js ***!
                  \****************************************/
/*! no static exports found */function(tt,S){(function(c){tt.exports=c}).call(this,{})},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
                  !*** (webpack)/buildin/global.js ***!
                  \***********************************/
/*! no static exports found */function(tt,S){var c;c=function(){return this}();try{c=c||new Function("return this")()}catch{"object"==typeof window&&(c=window)}tt.exports=c},"./src/core/Debug.js":
/*!***************************!*\
                  !*** ./src/core/Debug.js ***!
                  \***************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./EventBus */
"./src/core/EventBus.js"),b=c(
/*! ./events/Events */
"./src/core/events/Events.js"),w=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),F=1,L=2,D=3,p=4,f=5;function g(M){M=M||{};var O,x,P,T,U=this.context,R=Object(t.default)(U).getInstance(),V=M.settings,k=[];function C(oe){return oe&&oe.bind?oe.bind(window.console):window.console.log.bind(window.console)}function le(){for(var oe=arguments.length,he=new Array(oe),Ce=0;Ce<oe;Ce++)he[Ce]=arguments[Ce];ge.apply(void 0,[F,this].concat(he))}function Fe(){for(var oe=arguments.length,he=new Array(oe),Ce=0;Ce<oe;Ce++)he[Ce]=arguments[Ce];ge.apply(void 0,[L,this].concat(he))}function $(){for(var oe=arguments.length,he=new Array(oe),Ce=0;Ce<oe;Ce++)he[Ce]=arguments[Ce];ge.apply(void 0,[D,this].concat(he))}function ae(){for(var oe=arguments.length,he=new Array(oe),Ce=0;Ce<oe;Ce++)he[Ce]=arguments[Ce];ge.apply(void 0,[p,this].concat(he))}function K(){for(var oe=arguments.length,he=new Array(oe),Ce=0;Ce<oe;Ce++)he[Ce]=arguments[Ce];ge.apply(void 0,[f,this].concat(he))}function ge(oe,he){var Ce="",Le=null;x&&(Le=(new Date).getTime(),Ce+="["+(Le-T)+"]"),P&&he&&he.getClassName&&(Ce+="["+he.getClassName()+"]",he.getType&&(Ce+="["+he.getType()+"]")),Ce.length>0&&(Ce+=" ");for(var fe=arguments.length,Re=new Array(fe>2?fe-2:0),Ae=2;Ae<fe;Ae++)Re[Ae-2]=arguments[Ae];Array.apply(null,Re).forEach(function(pe){Ce+=pe+" "}),k[oe]&&V.get().debug.logLevel>=oe&&k[oe](Ce),V&&V.get().debug.dispatchEvent&&R.trigger(b.default.LOG,{message:Ce,level:oe})}return O={getLogger:function B(oe){return{fatal:le.bind(oe),error:Fe.bind(oe),warn:$.bind(oe),info:ae.bind(oe),debug:K.bind(oe)}},setLogTimestampVisible:function Y(oe){x=oe},setCalleeNameVisible:function q(oe){P=oe}},function N(){x=!0,P=!0,T=(new Date).getTime(),typeof window<"u"&&window.console&&(k[F]=C(window.console.error),k[L]=C(window.console.error),k[D]=C(window.console.warn),k[p]=C(window.console.info),k[f]=C(window.console.debug))}(),O}g.__dashjs_factory_name="Debug";var y=w.default.getSingletonFactory(g);y.LOG_LEVEL_NONE=0,y.LOG_LEVEL_FATAL=F,y.LOG_LEVEL_ERROR=L,y.LOG_LEVEL_WARNING=D,y.LOG_LEVEL_INFO=p,y.LOG_LEVEL_DEBUG=f,w.default.updateSingletonFactory(g.__dashjs_factory_name,y),S.default=y},"./src/core/EventBus.js":
/*!******************************!*\
                  !*** ./src/core/EventBus.js ***!
                  \******************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function F(){var D={};function y(R,V,k){var O=-1;return D[R]&&D[R].some(function(x,P){if(x&&x.callback===V&&(!k||k===x.scope))return O=P,!0}),O}return{on:function p(R,V,k){var O=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!R)throw new Error("event type cannot be null or undefined");if(!V||"function"!=typeof V)throw new Error("listener must be a function: "+V);var x=O.priority||0;if(!(y(R,V,k)>=0)){D[R]=D[R]||[];var P={callback:V,scope:k,priority:x};k&&k.getStreamId&&(P.streamId=k.getStreamId()),k&&k.getType&&(P.mediaType=k.getType()),O&&O.mode&&(P.mode=O.mode),D[R].some(function(N,C){if(N&&x>N.priority)return D[R].splice(C,0,P),!0})||D[R].push(P)}},off:function f(R,V,k){if(R&&V&&D[R]){var O=y(R,V,k);O<0||(D[R][O]=null)}},trigger:function g(R){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(R&&D[R]){if((V=V||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");V.type=R,k.streamId&&(V.streamId=k.streamId),k.mediaType&&(V.mediaType=k.mediaType),D[R].filter(function(O){return!(!O||k.streamId&&O.streamId&&O.streamId!==k.streamId||k.mediaType&&O.mediaType&&O.mediaType!==k.mediaType||k.mode&&O.mode&&O.mode!==k.mode||!O.mode&&k.mode&&k.mode===b.default.EVENT_MODE_ON_RECEIVE)}).forEach(function(O){return O&&O.callback.call(O.scope,V)})}},reset:function M(){D={}}}}F.__dashjs_factory_name="EventBus";var L=t.default.getSingletonFactory(F);L.EVENT_PRIORITY_LOW=0,L.EVENT_PRIORITY_HIGH=5e3,t.default.updateSingletonFactory(F.__dashjs_factory_name,L),S.default=L},"./src/core/FactoryMaker.js":
/*!**********************************!*\
                  !*** ./src/core/FactoryMaker.js ***!
                  \**********************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=function(){var b,w=[],E={},F={};function D(P,T){for(var N in w){var C=w[N];if(C.context===P&&C.name===T)return C.instance}return null}function g(P,T){return T[P]}function y(P,T,N){P in N&&(N[P]=T)}function x(P,T,N){var C,B=P.__dashjs_factory_name,Y=T[B];if(Y){var q=Y.instance;if(!Y.override)return q.apply({context:T,factory:b},N);for(var le in C=P.apply({context:T},N),q=q.apply({context:T,factory:b,parent:C},N))C.hasOwnProperty(le)&&(C[le]=q[le])}else C=P.apply({context:T},N);return C.getClassName=function(){return B},C}return b={extend:function L(P,T,N,C){!C[P]&&T&&(C[P]={instance:T,override:N})},getSingletonInstance:D,setSingletonInstance:function p(P,T,N){for(var C in w){var B=w[C];if(B.context===P&&B.name===T)return void(w[C].instance=N)}w.push({name:T,context:P,instance:N})},deleteSingletonInstances:function f(P){w=w.filter(function(T){return T.context!==P})},getSingletonFactory:function O(P){var T=g(P.__dashjs_factory_name,E);return T||(T=function(C){var B;return void 0===C&&(C={}),{getInstance:function(){return B||(B=D(C,P.__dashjs_factory_name)),B||(B=x(P,C,arguments),w.push({name:P.__dashjs_factory_name,context:C,instance:B})),B}}},E[P.__dashjs_factory_name]=T),T},getSingletonFactoryByName:function k(P){return g(P,E)},updateSingletonFactory:function V(P,T){y(P,T,E)},getClassFactory:function R(P){var T=g(P.__dashjs_factory_name,F);return T||(T=function(C){return void 0===C&&(C={}),{create:function(){return x(P,C,arguments)}}},F[P.__dashjs_factory_name]=T),T},getClassFactoryByName:function U(P){return g(P,F)},updateClassFactory:function M(P,T){y(P,T,F)}}}();S.default=t},"./src/core/Settings.js":
/*!******************************!*\
                  !*** ./src/core/Settings.js ***!
                  \******************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ./Utils.js */
"./src/core/Utils.js"),w=c(
/*! ../core/Debug */
"./src/core/Debug.js"),E=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),F=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),L=c(
/*! ./EventBus */
"./src/core/EventBus.js"),D=c(
/*! ./events/Events */
"./src/core/events/Events.js");function p(R){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(R)}function f(R,V,k){return(V=function g(R){var V=function y(R,V){if("object"!==p(R)||null===R)return R;var k=R[Symbol.toPrimitive];if(void 0!==k){var O=k.call(R,V||"default");if("object"!==p(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===V?String:Number)(R)}(R,"string");return"symbol"===p(V)?V:String(V)}(V))in R?Object.defineProperty(R,V,{value:k,enumerable:!0,configurable:!0,writable:!0}):R[V]=k,R}function M(){var R,V,O=this.context,x=Object(L.default)(O).getInstance(),P={"streaming.delay.liveDelay":D.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":D.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":D.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":D.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":D.default.SETTING_UPDATED_PLAYBACK_RATE_MAX},T={debug:{logLevel:w.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:E.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:E.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:E.default.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:E.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(R={},f(R,F.HTTPRequest.MPD_TYPE,500),f(R,F.HTTPRequest.XLINK_EXPANSION_TYPE,500),f(R,F.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.INIT_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),f(R,F.HTTPRequest.LICENSE,1e3),f(R,F.HTTPRequest.OTHER_TYPE,1e3),f(R,"lowLatencyReductionFactor",10),R),retryAttempts:(V={},f(V,F.HTTPRequest.MPD_TYPE,3),f(V,F.HTTPRequest.XLINK_EXPANSION_TYPE,1),f(V,F.HTTPRequest.MEDIA_SEGMENT_TYPE,3),f(V,F.HTTPRequest.INIT_SEGMENT_TYPE,3),f(V,F.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),f(V,F.HTTPRequest.INDEX_SEGMENT_TYPE,3),f(V,F.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),f(V,F.HTTPRequest.LICENSE,3),f(V,F.HTTPRequest.OTHER_TYPE,3),f(V,"lowLatencyMultiplyFactor",5),V),abr:{movingAverageMethod:E.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:E.default.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:E.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:E.default.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]}},errors:{recoverAttempts:{mediaErrorDecode:5}}},N=b.default.clone(T);function C(le,Fe,$){for(var ae in le)le.hasOwnProperty(ae)&&(Fe.hasOwnProperty(ae)?"object"!==p(le[ae])||le[ae]instanceof Array||null===le[ae]?(Fe[ae]=b.default.clone(le[ae]),P[$+ae]&&x.trigger(P[$+ae])):C(le[ae],Fe[ae],$.slice()+ae+"."):console.error("Settings parameter "+$+ae+" is not supported"))}return{get:function B(){return N},update:function Y(le){"object"===p(le)&&C(le,N,"")},reset:function q(){N=b.default.clone(T)}}}M.__dashjs_factory_name="Settings";var U=t.default.getSingletonFactory(M);S.default=U},"./src/core/Utils.js":
/*!***************************!*\
                  !*** ./src/core/Utils.js ***!
                  \***************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! path-browserify */
"./node_modules/path-browserify/index.js"),b=c.n(t),w=c(
/*! ua-parser-js */
"./node_modules/ua-parser-js/src/ua-parser.js");function F(M){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(M)}function D(M,U){for(var R=0;R<U.length;R++){var V=U[R];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(M,f(V.key),V)}}function f(M){var U=function g(M,U){if("object"!==F(M)||null===M)return M;var R=M[Symbol.toPrimitive];if(void 0!==R){var V=R.call(M,U||"default");if("object"!==F(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===U?String:Number)(M)}(M,"string");return"symbol"===F(U)?U:String(U)}var y=function(){function M(){!function L(M,U){if(!(M instanceof U))throw new TypeError("Cannot call a class as a function")}(this,M)}return function p(M,U,R){return U&&D(M.prototype,U),R&&D(M,R),Object.defineProperty(M,"prototype",{writable:!1}),M}(M,null,[{key:"mixin",value:function(R,V,k){var O,x={};if(R)for(var P in V)V.hasOwnProperty(P)&&(O=V[P],(!(P in R)||R[P]!==O&&(!(P in x)||x[P]!==O))&&(R[P]="object"===F(R[P])&&null!==R[P]?M.mixin(R[P],O,k):k(O)));return R}},{key:"clone",value:function(R){if(!R||"object"!==F(R))return R;var V;if(R instanceof Array){V=[];for(var k=0,O=R.length;k<O;++k)k in R&&V.push(M.clone(R[k]))}else V={};return M.mixin(V,R,M.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(R,V){try{if(!V||0===V.length)return R;var k=new URL(R);return V.forEach(function(O){O.key&&O.value&&k.searchParams.set(O.key,O.value)}),k.href}catch{return R}}},{key:"parseHttpHeaders",value:function(R){var V={};if(!R)return V;for(var k=R.trim().split("\r\n"),O=0,x=k.length;O<x;O++){var P=k[O],T=P.indexOf(": ");T>0&&(V[P.substring(0,T)]=P.substring(T+2))}return V}},{key:"generateUuid",value:function(){var R=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(k){var O=(R+16*Math.random())%16|0;return R=Math.floor(R/16),("x"==k?O:3&O|8).toString(16)})}},{key:"generateHashCode",value:function(R){var V=0;if(0===R.length)return V;for(var k=0;k<R.length;k++)V=(V<<5)-V+R.charCodeAt(k),V|=0;return V}},{key:"getRelativeUrl",value:function(R,V){try{var k=new URL(R),O=new URL(V);if(k.protocol=O.protocol,k.origin!==O.origin)return V;var x=b.a.relative(k.pathname.substr(0,k.pathname.lastIndexOf("/")),O.pathname.substr(0,O.pathname.lastIndexOf("/"))),P=0===x.length?1:0;return x+=O.pathname.substr(O.pathname.lastIndexOf("/")+P,O.pathname.length-1),O.pathname.length<x.length?O.pathname:x}catch{return V}}},{key:"parseUserAgent",value:function(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var V=null===R&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return Object(w.UAParser)(V)}catch{return{}}}}]),M}();S.default=y},"./src/core/Version.js":
/*!*****************************!*\
                  !*** ./src/core/Version.js ***!
                  \*****************************/
/*! exports provided: getVersionString */function(tt,S,c){"use strict";c.r(S),c.d(S,"getVersionString",function(){return b});var t="4.5.2";function b(){return t}},"./src/core/errors/Errors.js":
/*!***********************************!*\
                  !*** ./src/core/errors/Errors.js ***!
                  \***********************************/
/*! exports provided: default */function(tt,S,c){"use strict";function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function w(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var x=function L(O,x){if("object"!==b(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===b(x)?x:String(x)}function p(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&f(O,x)}function f(O,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function g(O){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(x){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function y(O,x){if(x&&("object"===b(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function M(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}c.r(S);var k=new(function(O){p(P,O);var x=g(P);function P(){var T;return function D(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P),(T=x.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,T.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,T.SEGMENT_BASE_LOADER_ERROR_CODE=15,T.TIME_SYNC_FAILED_ERROR_CODE=16,T.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,T.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,T.APPEND_ERROR_CODE=20,T.REMOVE_ERROR_CODE=21,T.DATA_UPDATE_FAILED_ERROR_CODE=22,T.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,T.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,T.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,T.DOWNLOAD_ERROR_ID_SIDX_CODE=26,T.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,T.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,T.DOWNLOAD_ERROR_ID_XLINK_CODE=29,T.MANIFEST_ERROR_ID_PARSE_CODE=31,T.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,T.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,T.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,T.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,T.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",T.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",T.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",T.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",T.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",T.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",T.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",T.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",T.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",T.APPEND_ERROR_MESSAGE="chunk is not defined",T.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",T.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",T.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",T.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",T.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",T.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",T}return function E(O,x,P){return x&&w(O.prototype,x),P&&w(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(c(
/*! ./ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));S.default=k},"./src/core/errors/ErrorsBase.js":
/*!***************************************!*\
                  !*** ./src/core/errors/ErrorsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,F(y.key),y)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(){!function b(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p)}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"extend",value:function(g,y){if(g){var M=!!y&&y.override,U=!!y&&y.publicOnly;for(var R in g)!g.hasOwnProperty(R)||this[R]&&!M||U&&-1===g[R].indexOf("public_")||(this[R]=g[R])}}}]),p}()},"./src/core/events/CoreEvents.js":
/*!***************************************!*\
                  !*** ./src/core/events/CoreEvents.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./EventsBase */
"./src/core/events/EventsBase.js");function b(k){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(k)}function w(k,O){for(var x=0;x<O.length;x++){var P=O[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,F(P.key),P)}}function F(k){var O=function L(k,O){if("object"!==b(k)||null===k)return k;var x=k[Symbol.toPrimitive];if(void 0!==x){var P=x.call(k,O||"default");if("object"!==b(P))return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(k)}(k,"string");return"symbol"===b(O)?O:String(O)}function p(k,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),O&&f(k,O)}function f(k,O){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,T){return P.__proto__=T,P})(k,O)}function g(k){var O=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,P=R(k);if(O){var N=R(this).constructor;T=Reflect.construct(P,arguments,N)}else T=P.apply(this,arguments);return function y(k,O){if(O&&("object"===b(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function M(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function R(k){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)})(k)}S.default=function(k){p(x,k);var O=g(x);function x(){var P;return function D(k,O){if(!(k instanceof O))throw new TypeError("Cannot call a class as a function")}(this,x),(P=O.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",P.BUFFERING_COMPLETED="bufferingCompleted",P.BUFFER_CLEARED="bufferCleared",P.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",P.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",P.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",P.CURRENT_TRACK_CHANGED="currentTrackChanged",P.DATA_UPDATE_COMPLETED="dataUpdateCompleted",P.INBAND_EVENTS="inbandEvents",P.INITIAL_STREAM_SWITCH="initialStreamSwitch",P.INIT_FRAGMENT_LOADED="initFragmentLoaded",P.INIT_FRAGMENT_NEEDED="initFragmentNeeded",P.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",P.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",P.LOADING_COMPLETED="loadingCompleted",P.LOADING_PROGRESS="loadingProgress",P.LOADING_DATA_PROGRESS="loadingDataProgress",P.LOADING_ABANDONED="loadingAborted",P.MANIFEST_UPDATED="manifestUpdated",P.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",P.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",P.QUOTA_EXCEEDED="quotaExceeded",P.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",P.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",P.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",P.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",P.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",P.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",P.SOURCE_BUFFER_ERROR="sourceBufferError",P.STREAMS_COMPOSED="streamsComposed",P.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",P.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",P.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",P.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",P.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",P.URL_RESOLUTION_FAILED="urlResolutionFailed",P.VIDEO_CHUNK_RECEIVED="videoChunkReceived",P.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",P.XLINK_ELEMENT_LOADED="xlinkElementLoaded",P.XLINK_READY="xlinkReady",P.SEEK_TARGET="seekTarget",P.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",P.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",P.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",P.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",P.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",P}return function E(k,O,x){return O&&w(k.prototype,O),x&&w(k,x),Object.defineProperty(k,"prototype",{writable:!1}),k}(x)}(t.default)},"./src/core/events/Events.js":
/*!***********************************!*\
                  !*** ./src/core/events/Events.js ***!
                  \***********************************/
/*! exports provided: default */function(tt,S,c){"use strict";function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function w(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var x=function L(O,x){if("object"!==b(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===b(x)?x:String(x)}function p(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&f(O,x)}function f(O,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function g(O){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(x){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function y(O,x){if(x&&("object"===b(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function M(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}c.r(S);var V=function(O){p(P,O);var x=g(P);function P(){return function D(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P),x.apply(this,arguments)}return function E(O,x,P){return x&&w(O.prototype,x),P&&w(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(c(
/*! ./CoreEvents */
"./src/core/events/CoreEvents.js").default),k=new V;S.default=k},"./src/core/events/EventsBase.js":
/*!***************************************!*\
                  !*** ./src/core/events/EventsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,F(y.key),y)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(){!function b(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p)}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"extend",value:function(g,y){if(g){var M=!!y&&y.override,U=!!y&&y.publicOnly;for(var R in g)!g.hasOwnProperty(R)||this[R]&&!M||U&&-1===g[R].indexOf("public_")||(this[R]=g[R])}}}]),p}()},"./src/dash/DashAdapter.js":
/*!*********************************!*\
                  !*** ./src/dash/DashAdapter.js ***!
                  \*********************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=c(
/*! ./vo/RepresentationInfo */
"./src/dash/vo/RepresentationInfo.js"),w=c(
/*! ./vo/MediaInfo */
"./src/dash/vo/MediaInfo.js"),E=c(
/*! ./vo/StreamInfo */
"./src/dash/vo/StreamInfo.js"),F=c(
/*! ./vo/ManifestInfo */
"./src/dash/vo/ManifestInfo.js"),L=c(
/*! ./vo/Event */
"./src/dash/vo/Event.js"),D=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ./models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),f=c(
/*! ./models/PatchManifestModel */
"./src/dash/models/PatchManifestModel.js"),g=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),y=c.n(g);function M(){var U,R,V,k,O,x,P,T=this.context;function le(De){return R.getRolesForAdaptation(De).filter(function(Pe){return Pe.value===t.default.MAIN})[0]}function Fe(De,Pe,Ye){var Ze=R.getAdaptationsForType(k[0].mpd.manifest,De,Pe);if(!Ze||0===Ze.length)return null;if(Ze.length>1&&Ye){var ct=K(Ye,Pe);if(O[Ye.id]&&O[Ye.id][Pe])for(var st=0,ut=Ze.length;st<ut;st++)if($(O[Ye.id][Pe],ct[st]))return Ze[st];for(var kt=0,$t=Ze.length;kt<$t;kt++)if(le(Ze[kt]))return Ze[kt]}return Ze[0]}function $(De,Pe){if(!De||!Pe)return!1;var Ye=De.id===Pe.id,Ze=De.codec===Pe.codec,ct=De.viewpoint===Pe.viewpoint,st=De.lang===Pe.lang,ut=De.roles.toString()===Pe.roles.toString(),kt=De.accessibility.toString()===Pe.accessibility.toString(),$t=De.audioChannelConfiguration.toString()===Pe.audioChannelConfiguration.toString();return Ye&&Ze&&ct&&st&&ut&&kt&&$t}function ae(De,Pe,Ye,Ze,ct,st){var $t,Lt,Jt,an,fn,ut=[];if(!Ze||0===Ze.length)return[];var Mn=R.getAdaptationsForPeriod(Pe);for(Jt=0,fn=Ze.length;Jt<fn;Jt++)if($t=Ht(Mn[Lt=R.getIndexForAdaptation(Ze[Jt],De,Ye.index)]),st){var Nn=$t.accessibility.length;for(an=0;an<Nn;an++)if($t){var Wn=$t.accessibility[an];if(0===Wn.indexOf("cea-608:")){var fi=Wn.substring(8).split(";");if("CC"===fi[0].substring(0,2))for(an=0;an<fi.length;an++)$t||($t=Ht.call(this,Mn[Lt])),en($t,fi[an].substring(0,3),fi[an].substring(4)),ut.push($t),$t=null;else for(an=0;an<fi.length;an++)$t||($t=Ht.call(this,Mn[Lt])),en($t,"CC"+(an+1),fi[an]),ut.push($t),$t=null}else 0===Wn.indexOf("cea-608")&&(en($t,x.CC1,"eng"),ut.push($t),$t=null)}}else ct===x.IMAGE?(ln($t),ut.push($t),$t=null):$t&&ut.push($t);return ut}function K(De,Pe,Ye){var Ze=k,ct=Ye,st=[];if(ct)Sn(),Ze=Te(ct);else{if(!(k.length>0))return st;ct=k[0].mpd.manifest}var ut=wt(De,Ze),kt=R.getAdaptationsForType(ct,De?De.index:null,Pe);return st=ae(ct,ut,De,kt,Pe),Pe===x.TEXT&&(kt=R.getAdaptationsForType(ct,De?De.index:null,x.VIDEO),st=st.concat(ae(ct,ut,De,kt,Pe,!0))),st}function Te(De){var Pe=W(De);return R.getRegularPeriods(Pe)}function W(De){var Pe=bt(De);return R.getMpd(Pe)}function lt(){k=[],O={}}function bt(De){return De||(k.length>0?k[0].mpd.manifest:null)}function Ut(De){try{var Pe=wt(De.streamInfo,k),Ye=R.getAdaptationsForPeriod(Pe);return De&&De.streamInfo&&void 0!==De.streamInfo.id&&Ye?Ye[De.index]:null}catch{return null}}function wt(De,Pe){for(var Ye=Pe.length,Ze=0;Ze<Ye;Ze++){var ct=Pe[Ze];if(De&&De.id===ct.id)return ct}return null}function Ht(De){if(!De)return null;var Ze,Pe=new w.default,Ye=De.period.mpd.manifest.Period_asArray[De.period.index].AdaptationSet_asArray[De.index];if(Pe.id=De.id,Pe.index=De.index,Pe.type=De.type,Pe.streamInfo=cn(De.period),Pe.representationCount=R.getRepresentationCount(Ye),Pe.labels=R.getLabelsForAdaptation(Ye),Pe.lang=R.getLanguageForAdaptation(Ye),Ze=R.getViewpointForAdaptation(Ye),Pe.viewpoint=Ze?Ze.value:void 0,Pe.accessibility=R.getAccessibilityForAdaptation(Ye).map(function(ut){var kt=ut.value,$t=kt;return ut.schemeIdUri&&ut.schemeIdUri.search("cea-608")>=0&&typeof P<"u"&&($t=kt?"cea-608:"+kt:"cea-608",Pe.embeddedCaptions=!0),$t}),Pe.audioChannelConfiguration=R.getAudioChannelConfigurationForAdaptation(Ye).map(function(ut){return ut.value}),0===Pe.audioChannelConfiguration.length&&Array.isArray(Ye.Representation_asArray)&&Ye.Representation_asArray.length>0&&(Pe.audioChannelConfiguration=R.getAudioChannelConfigurationForRepresentation(Ye.Representation_asArray[0]).map(function(ut){return ut.value})),Pe.roles=R.getRolesForAdaptation(Ye).map(function(ut){return ut.value}),Pe.codec=R.getCodec(Ye),Pe.mimeType=R.getMimeType(Ye),Pe.contentProtection=R.getContentProtectionData(Ye),Pe.bitrateList=R.getBitrateListForAdaptation(Ye),Pe.selectionPriority=R.getSelectionPriority(Ye),Pe.contentProtection){var ct=Pe.contentProtection.map(function(ut){return R.getKID(ut)}).filter(function(ut){return null!==ut});if(ct.length){var st=ct[0];Pe.contentProtection.forEach(function(ut){ut.keyId=st})}}return Pe.isText=R.getIsText(Ye),Pe.supplementalProperties=R.getSupplementalProperties(Ye),Pe.isFragmented=R.getIsFragmented(Ye),Pe.isEmbedded=!1,Pe}function en(De,Pe,Ye){De.id=Pe,De.index=100+parseInt(Pe.substring(2,3)),De.type=x.TEXT,De.codec="cea-608-in-SEI",De.isEmbedded=!0,De.isFragmented=!1,De.lang=y()(Ye),De.roles=["caption"]}function ln(De){De.type=x.IMAGE}function cn(De){var Pe=new E.default;return Pe.id=De.id,Pe.index=De.index,Pe.start=De.start,Pe.duration=De.duration,Pe.manifestInfo=function Wt(De){var Pe=new F.default;return Pe.dvrWindowSize=De.timeShiftBufferDepth,Pe.loadedTime=De.manifest.loadedTime,Pe.availableFrom=De.availabilityStartTime,Pe.minBufferTime=De.manifest.minBufferTime,Pe.maxFragmentDuration=De.maxSegmentDuration,Pe.duration=R.getDuration(De.manifest),Pe.isDynamic=R.getIsDynamic(De.manifest),Pe.serviceDescriptions=R.getServiceDescriptions(De.manifest),Pe.protocol=De.manifest.protocol,Pe}(De.mpd),Pe.isLast=1===De.mpd.manifest.Period_asArray.length||Math.abs(Pe.start+Pe.duration-Pe.manifestInfo.duration)<1,Pe}function Sn(){if(!x)throw new Error("setConfig function has to be called previously")}function nn(De){return k.length>0?k[0].mpd.manifest.Period_asArray[De]:null}function mt(De,Pe,Ye){var ct,st,ut,kt,$t;if(De)for(ct=De.AdaptationSet_asArray,kt=0;kt<ct.length;kt+=1)for(ut=ct[kt].Representation_asArray,$t=0;$t<ut.length;$t+=1)if(Pe===(st=ut[$t]).id)return Ye?$t:st;return null}return U={getBandwidthForRepresentation:function ve(De,Pe){var Ye;return(Ye=mt(nn(Pe),De))?Ye.bandwidth:null},getIndexForRepresentation:function de(De,Pe){return function Dt(De,Pe){var Ye=mt(De,Pe,!0);return null!==Ye?Ye:-1}(nn(Pe),De)},getMaxIndexForBufferType:function xe(De,Pe){return function Qe(De,Pe){var Ye,Ze,ct,st;if(!De||!Pe)return-1;for(Ze=De.AdaptationSet_asArray,st=0;st<Ze.length;st+=1)if(ct=(Ye=Ze[st]).Representation_asArray,R.getIsTypeOf(Ye,Pe))return ct.length;return-1}(nn(Pe),De)},convertRepresentationToRepresentationInfo:function Y(De){if(De){var Pe=new b.default,Ze=R.getRepresentationFor(De.index,De.adaptation.period.mpd.manifest.Period_asArray[De.adaptation.period.index].AdaptationSet_asArray[De.adaptation.index]);return Pe.id=De.id,Pe.quality=De.index,Pe.bandwidth=R.getBandwidth(Ze),Pe.fragmentDuration=De.segmentDuration||(De.segments&&De.segments.length>0?De.segments[0].duration:NaN),Pe.MSETimeOffset=De.MSETimeOffset,Pe.mediaInfo=Ht(De.adaptation),Pe}return null},getStreamsInfo:function oe(De,Pe){var Ye=[],Ze=k;if(De&&(Sn(),Ze=Te(De)),Ze.length>0){(!Pe||Pe>Ze.length)&&(Pe=Ze.length);for(var ct=0;ct<Pe;ct++)Ye.push(cn(Ze[ct]))}return Ye},getMediaInfoForType:function q(De,Pe){if(0===k.length||!De)return null;var Ye=wt(De,k);if(!Ye)return null;var Ze=R.getAdaptationsForPeriod(Ye),ct=Fe(De.index,Pe,De);return ct?Ht(Ze[R.getIndexForAdaptation(ct,k[0].mpd.manifest,De.index)]):null},getAllMediaInfoForType:K,getAdaptationForType:Fe,getRealAdaptation:function he(De,Pe){var Ye,Ze,ct=wt(De,k);return Ye=Pe?Pe.id:null,k.length>0&&ct&&(Ze=Ye?R.getAdaptationForId(Ye,k[0].mpd.manifest,ct.index):R.getAdaptationForIndex(Pe?Pe.index:null,k[0].mpd.manifest,ct.index)),Ze},getProducerReferenceTimes:function Ce(De,Pe){var Ye,Ze,ct=wt(De,k);return Ye=Pe?Pe.id:null,k.length>0&&ct&&(Ze=Ye?R.getAdaptationForId(Ye,k[0].mpd.manifest,ct.index):R.getAdaptationForIndex(Pe?Pe.index:null,k[0].mpd.manifest,ct.index)),Ze?R.getProducerReferenceTimesForAdaptation(Ze):[]},getRealPeriodByIndex:function fe(De){return R.getRealPeriodForIndex(De,k[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function Le(De){try{return R.getEssentialPropertiesForRepresentation(De)}catch{return[]}},getVoRepresentations:function Re(De){var Ye=Ut(De);return R.getRepresentationsForAdaptation(Ye)},getEventsFor:function pe(De,Pe,Ye){var Ze=[];if(k.length>0){var ct=k[0].mpd.manifest;if(De instanceof E.default){var st=wt(De,k);Ze=R.getEventsForPeriod(st)}else if(De instanceof w.default){var ut=wt(Ye,k);Ze=R.getEventStreamForAdaptationSet(ct,Ut(De),ut)}else if(De instanceof b.default){var kt=wt(Ye,k);Ze=R.getEventStreamForRepresentation(ct,Pe,kt)}}return Ze},getEvent:function Ae(De,Pe,Ye,Ze){try{if(!De||!Pe||isNaN(Ye)||!Ze)return null;var ct=De.scheme_id_uri,st=De.value;if(!Pe[ct+"/"+st])return null;var fn,ut=new L.default,kt=De.timescale||1,$t=Ze.adaptation.period.start,Lt=Pe[ct+"/"+st],Jt=isNaN(Ze.presentationTimeOffset)?isNaN(Lt.presentationTimeOffset)?0:Lt.presentationTimeOffset:Ze.presentationTimeOffset,an=De.presentation_time_delta/kt;fn=0===De.version?$t+Ye-Jt+an:$t-Jt+an;var Mn=De.event_duration/kt,Nn=De.id,Wn=De.message_data;return ut.eventStream=Lt,ut.eventStream.value=st,ut.eventStream.timescale=kt,ut.duration=Mn,ut.id=Nn,ut.calculatedPresentationTime=fn,ut.messageData=Wn,ut.presentationTimeDelta=an,ut}catch{return null}},getMpd:W,setConfig:function B(De){De&&(De.constants&&(x=De.constants),De.cea608parser&&(P=De.cea608parser),De.errHandler&&R.setConfig({errHandler:De.errHandler}),De.BASE64&&R.setConfig({BASE64:De.BASE64}))},updatePeriods:function ge(De){if(!De)return null;Sn(),k=Te(De)},getIsTextTrack:function ke(De){return R.getIsText(De)},getUTCTimingSources:function we(){var De=bt();return R.getUTCTimingSources(De)},getSuggestedPresentationDelay:function He(){return R.getSuggestedPresentationDelay(k.length>0?k[0].mpd:null)},getAvailabilityStartTime:function at(De){var Pe=W(De);return R.getAvailabilityStartTime(Pe)},getIsTypeOf:function Ve(De,Pe){return R.getIsTypeOf(De,Pe)},getIsDynamic:function Je(De){var Pe=bt(De);return R.getIsDynamic(Pe)},getDuration:function Ne(De){var Pe=bt(De);return R.getDuration(Pe)},getRegularPeriods:Te,getContentSteering:function se(De){return R.getContentSteering(De)},getLocation:function _e(De){return R.getLocation(De)},getPatchLocation:function Z(De){var Pe=R.getPatchLocation(De),Ye=R.getPublishTime(De);if(!Pe||!Ye)return null;if(Pe.hasOwnProperty("ttl")&&Ye){var Ze=1e3*parseFloat(Pe.ttl);if(Ye.getTime()+Ze<=(new Date).getTime())return null}return Pe.__text},getManifestUpdatePeriod:function J(De){return R.getManifestUpdatePeriod(De,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function Q(De){return R.getPublishTime(De)},getIsDVB:function ne(De){return R.hasProfile(De,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function ie(De){return V.getIsPatch(De)},getBaseURLsFromElement:function ee(De){return R.getBaseURLsFromElement(De)},getRepresentationSortFunction:function X(){return R.getRepresentationSortFunction()},getCodec:function ue(De,Pe,Ye){return R.getCodec(De,Pe,Ye)},getPeriodById:function Ke(De){if(!De||0===k.length)return null;var Pe=k.filter(function(Ye){return Ye.id===De});return Pe&&Pe.length>0?Pe[0]:null},setCurrentMediaInfo:function Ue(De,Pe,Ye){O[De]=O[De]||{},O[De][Pe]=O[De][Pe]||{},O[De][Pe]=Ye},isPatchValid:function dt(De,Pe){var Ye=R.getId(De),Ze=V.getMpdId(Pe),ct=R.getPublishTime(De),st=V.getPublishTime(Pe),ut=V.getOriginalPublishTime(Pe);return!!(Ye&&Ze&&Ye==Ze&&ct&&ut&&ct.getTime()==ut.getTime()&&st&&ct.getTime()<st.getTime())},applyPatchToManifest:function it(De,Pe){V.getPatchOperations(Pe).forEach(function(Ye){var Ze=Ye.getMpdTarget(De);if(null!==Ze){var ct=Ze.name,st=Ze.target,ut=Ze.leaf;if(Ye.xpath.findsAttribute()){switch(Ye.action){case"add":case"replace":st[ct]=Ye.value;break;case"remove":delete st[ct]}return}var kt=(st[ct+"_asArray"]||[]).indexOf(ut),$t="prepend"===Ye.position||"before"===Ye.position;if(("remove"===Ye.action||"replace"===Ye.action)&&(delete st[ct],-1!=kt)){var Lt=st[ct+"_asArray"];Lt.splice(kt,1),Lt.length>1?st[ct]=Lt:1==Lt.length?st[ct]=Lt[0]:delete st[ct+"_asArray"]}("add"===Ye.action||"replace"===Ye.action)&&Object.keys(Ye.value).forEach(function(Jt){var an=Ye.value[Jt],fn=st[Jt+"_asArray"]||[];0===fn.length&&st[Jt]&&fn.push(st[Jt]),0===fn.length?fn=an:fn.splice.apply(fn,[Jt==ct&&-1!=kt?kt+($t?0:1)+("replace"==Ye.action?-1:0):$t?0:fn.length,0].concat(an)),st[Jt+"_asArray"]=fn,st[Jt]=1==fn.length?fn[0]:fn})}})},areMediaInfosEqual:$,reset:lt},function C(){R=Object(p.default)(T).getInstance(),V=Object(f.default)(T).getInstance(),lt()}(),U}M.__dashjs_factory_name="DashAdapter",S.default=D.default.getSingletonFactory(M)},"./src/dash/DashHandler.js":
/*!*********************************!*\
                  !*** ./src/dash/DashHandler.js ***!
                  \*********************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),b=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),w=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ./utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),L=c(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js");function f(g){var P,T,N,C,B,y=(g=g||{}).eventBus,M=g.debug,U=g.urlUtils,R=g.type,V=g.streamInfo,k=g.segmentsController,O=g.timelineConverter,x=g.baseURLController;function Fe(){return R}function ae(){N=null}function ge(we,He,at){var Ne,Te,Je=x.resolve(at.path);return Je&&He!==Je.url&&U.isRelative(He)?(Ne=Je.url,Te=Je.serviceLocation,He&&(Ne=U.resolve(He,Ne))):Ne=He,!U.isRelative(Ne)&&(we.url=Ne,we.serviceLocation=Te,!0)}function Ce(we,He){if(null==He)return null;var at=new t.default,Je=He.representation,Ne=Je.adaptation.period.mpd.manifest.Period_asArray[Je.adaptation.period.index].AdaptationSet_asArray[Je.adaptation.index].Representation_asArray[Je.index].bandwidth,Te=He.media;return Te=Object(F.replaceTokenForTemplate)(Te,"Number",He.replacementNumber),Te=Object(F.replaceTokenForTemplate)(Te,"Time",He.replacementTime),Te=Object(F.replaceTokenForTemplate)(Te,"Bandwidth",Ne),Te=Object(F.replaceIDForTemplate)(Te,Je.id),Te=Object(F.unescapeDollarsInTemplate)(Te),at.mediaType=Fe(),at.type=b.HTTPRequest.MEDIA_SEGMENT_TYPE,at.range=He.mediaRange,at.startTime=He.presentationStartTime,at.mediaStartTime=He.mediaStartTime,at.duration=He.duration,at.timescale=Je.timescale,at.availabilityStartTime=He.availabilityStartTime,at.availabilityEndTime=He.availabilityEndTime,at.availabilityTimeComplete=Je.availabilityTimeComplete,at.wallStartTime=He.wallStartTime,at.quality=Je.index,at.index=He.index,at.mediaInfo=we,at.adaptationIndex=Je.adaptation.index,at.representationId=Je.id,ge(at,Te,Je)?at:void 0}function fe(we,He,at){var Je=null;if(!He||!He.segmentInfoType)return Je;var Ne=k.getSegmentByTime(He,at);return Ne&&(N=Ne,T.debug("Index for time "+at+" is "+Ne.index),Je=Ce(we,Ne)),Je}function ke(){T.debug("Dynamic stream complete"),B=!0}return P={initialize:function q(we){C=we,B=!1,k.initialize(we)},getStreamId:function le(){return V.id},getType:Fe,getStreamInfo:function $(){return V},getInitRequest:function oe(we,He){return He?function he(we,He,at){var Je=new t.default,Ne=He.adaptation.period,Te=Ne.start;if(Je.mediaType=at,Je.type=b.HTTPRequest.INIT_SEGMENT_TYPE,Je.range=He.range,Je.availabilityStartTime=O.calcAvailabilityStartTimeFromPresentationTime(Te,He,C),Je.availabilityEndTime=O.calcAvailabilityEndTimeFromPresentationTime(Te+Ne.duration,He,C),Je.quality=He.index,Je.mediaInfo=we,Je.representationId=He.id,ge(Je,He.initialization,He))return Je.url=Object(F.replaceTokenForTemplate)(Je.url,"Bandwidth",He.bandwidth),Je}(we,He,Fe()):null},getSegmentRequestForTime:fe,getCurrentIndex:function Ue(){return N?N.index:-1},getNextSegmentRequest:function Ae(we,He){var at=null;if(!He||!He.segmentInfoType)return null;var Je=N?N.index+1:0,Ne=k.getSegmentByIndex(He,Je,N?N.mediaStartTime:-1);if(Ne)at=Ce(we,Ne),N=Ne;else{if(C&&!B)return T.debug(Fe()+" No segment found at index: "+Je+". Wait for next loop"),null;B=!0}return at},isLastSegmentRequested:function Le(we,He){if(!we||!N)return!1;if(B)return!0;if(!isFinite(we.adaptation.period.duration)||N.presentationStartTime+N.duration>He)return!1;if(we.mediaFinishedInformation&&!isNaN(we.mediaFinishedInformation.numberOfSegments)&&!isNaN(N.index)&&N.index>=we.mediaFinishedInformation.numberOfSegments-1){if(!C||we.segmentInfoType===L.default.SEGMENT_TEMPLATE)return!0;if(C&&we.segmentInfoType===L.default.SEGMENT_LIST&&we.adaptation.period.nextPeriodId)return!0}return!!(C&&we.adaptation.period.nextPeriodId&&we.segmentInfoType===L.default.SEGMENT_TIMELINE&&we.mediaFinishedInformation&&!isNaN(we.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&N&&!isNaN(N.mediaStartTime)&&!isNaN(N.duration)&&N.mediaStartTime+N.duration>=we.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function K(){ae(),y.off(E.default.DYNAMIC_TO_STATIC,ke,P)},getNextSegmentRequestIdempotent:function Re(we,He){var Ne=k.getSegmentByIndex(He,N?N.index+1:0,N?N.mediaStartTime:-1);return Ne?Ce(we,Ne):null},getValidTimeAheadOfTargetTime:function pe(we,He,at,Je){try{if(isNaN(we)||!He||!at)return NaN;if(we<0&&(we=0),isNaN(Je)&&(Je=.5),fe(He,at,we))return we;if(at.adaptation.period.start+at.adaptation.period.duration<we)return NaN;for(var Ne=isFinite(at.adaptation.period.duration)?at.adaptation.period.start+at.adaptation.period.duration:we+30,Te=Math.min(we+Je,Ne),W=NaN,se=null;Te<=Ne;){var _e=null;if(Te<=Ne&&(_e=fe(He,at,Te)),_e){W=Te,se=_e;break}Te+=Je}if(se){var J=se.startTime+se.duration;return we>se.startTime&&J-we>Je?we:!isNaN(se.startTime)&&we<se.startTime&&W>se.startTime?se.startTime+.001:Math.min(J-Je,W)}return W}catch{return NaN}}},function Y(){T=M.getLogger(P),ae(),y.on(E.default.DYNAMIC_TO_STATIC,ke,P)}(),P}f.__dashjs_factory_name="DashHandler",S.default=w.default.getClassFactory(f)},"./src/dash/DashMetrics.js":
/*!*********************************!*\
                  !*** ./src/dash/DashMetrics.js ***!
                  \*********************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),w=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../streaming/constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),F=c(
/*! ./utils/Round10 */
"./src/dash/utils/Round10.js"),L=c(
/*! ../streaming/models/MetricsModel */
"./src/streaming/models/MetricsModel.js"),D=c(
/*! ../core/Utils */
"./src/core/Utils.js"),p=c(
/*! ../streaming/vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js");function f(g){var M,U,R,V,y=this.context,k=(g=g||{}).metricsModel;function le(_e){var J=k.getMetricsFor(_e,!0);if(!J)return null;var ne,Q=J.HttpList,Z=null;if(!Q||Q.length<=0)return null;for(ne=Q.length-1;ne>=0;){if(Q[ne].responsecode){Z=Q[ne];break}ne--}return Z}function Fe(_e){var J=k.getMetricsFor(_e,!0);return J&&J.HttpList?J.HttpList:[]}function ae(_e,J){if(!_e)return null;var Q=_e[J];return Q&&0!==Q.length?Q[Q.length-1]:null}return M={getCurrentRepresentationSwitch:function P(_e){return ae(k.getMetricsFor(_e,!0),E.default.TRACK_SWITCH)},getCurrentBufferState:function N(_e){return ae(k.getMetricsFor(_e,!0),E.default.BUFFER_STATE)},getCurrentBufferLevel:function C(_e){var Q=ae(k.getMetricsFor(_e,!0),E.default.BUFFER_LEVEL);return Q?F.default.round10(Q.level/1e3,-3):0},getCurrentHttpRequest:le,getHttpRequests:Fe,getCurrentDroppedFrames:function K(){return ae(k.getMetricsFor(t.default.VIDEO,!0),E.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function oe(_e){return ae(k.getMetricsFor(_e,!0),E.default.SCHEDULING_INFO)},getCurrentDVRInfo:function Ue(_e){return ae(_e?k.getMetricsFor(_e,!0):k.getMetricsFor(t.default.VIDEO,!0)||k.getMetricsFor(t.default.AUDIO,!0),E.default.DVR_INFO)},getCurrentManifestUpdate:function Ce(){return ae(k.getMetricsFor(t.default.STREAM),E.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function He(_e,J){if(!J)return null;var Q={},Z=le(_e);Z&&(Q=D.default.parseHttpHeaders(Z._responseHeaders));var ne=Q[J.toLowerCase()];return void 0===ne?null:ne},getLatestMPDRequestHeaderValueByID:function we(_e){if(!_e)return null;var Q,Z,ne,J={};for(ne=(Q=Fe(t.default.STREAM)).length-1;ne>=0;ne--)if((Z=Q[ne]).type===b.HTTPRequest.MPD_TYPE){J=D.default.parseHttpHeaders(Z._responseHeaders);break}var ie=J[_e.toLowerCase()];return void 0===ie?null:ie},addRepresentationSwitch:function T(_e,J,Q,Z,ne){k.addRepresentationSwitch(_e,J,Q,Z,ne)},addDVRInfo:function ke(_e,J,Q,Z){k.addDVRInfo(_e,J,Q,Z)},updateManifestUpdateInfo:function Le(_e){var J=this.getCurrentManifestUpdate();k.updateManifestUpdateInfo(J,_e)},addManifestUpdateStreamInfo:function fe(_e){if(_e){var J=this.getCurrentManifestUpdate();k.addManifestUpdateStreamInfo(J,_e.id,_e.index,_e.start,_e.duration)}},addManifestUpdateRepresentationInfo:function pe(_e,J){if(_e){var Q=this.getCurrentManifestUpdate();k.addManifestUpdateRepresentationInfo(Q,_e.id,_e.index,_e.streamIndex,J,_e.presentationTimeOffset,_e.startNumber,_e.fragmentInfoType)}},addManifestUpdate:function Re(_e){k.addManifestUpdate(t.default.STREAM,_e.type,_e.requestStartDate,_e.requestEndDate)},addHttpRequest:function Ae(_e,J,Q,Z,ne){k.addHttpRequest(_e.mediaType,null,_e.type,_e.url,_e.quality,J,_e.serviceLocation||null,_e.range||null,_e.requestStartDate,_e.firstByteDate,_e.requestEndDate,Q,_e.duration,Z,ne,_e.fileLoaderType)},addSchedulingInfo:function he(_e,J){k.addSchedulingInfo(_e.mediaType,new Date,_e.type,_e.startTime,_e.availabilityStartTime,_e.duration,_e.quality,_e.range,J)},addRequestsQueue:function $(_e,J,Q){k.addRequestsQueue(_e,J,Q)},addBufferLevel:function B(_e,J,Q){k.addBufferLevel(_e,J,Q)},addBufferState:function Y(_e,J,Q){k.addBufferState(_e,J,Q)},addDroppedFrames:function ge(_e){k.addDroppedFrames(t.default.VIDEO,_e)},addPlayList:function at(){V&&(k.addPlayList(V),V=null)},addDVBErrors:function se(_e){k.addDVBErrors(_e)},createPlaylistMetrics:function Je(_e,J){(V=new p.PlayList).start=new Date,V.mstart=_e,V.starttype=J},createPlaylistTraceMetrics:function Ne(_e,J,Q){!0===U&&(U=!1,(R=new p.PlayListTrace).representationid=_e,R.start=new Date,R.mstart=J,R.playbackspeed=null!==Q?Q.toString():null)},updatePlayListTraceMetrics:function Te(_e){if(R)for(var J in R)R[J]=_e[J]},pushPlayListTraceMetrics:function W(_e,J){if(!1===U&&V&&R&&R.start){var Q=R.start,Z=_e.getTime()-Q.getTime();R.duration=Z,R.stopreason=J,V.trace.push(R),U=!0}},clearAllCurrentMetrics:function q(){k.clearAllCurrentMetrics()}},function O(){k=k||Object(L.default)(y).getInstance({settings:g.settings}),function x(){U=!0,R=null,V=null}()}(),M}f.__dashjs_factory_name="DashMetrics",S.default=w.default.getSingletonFactory(f)},"./src/dash/SegmentBaseLoader.js":
/*!***************************************!*\
                  !*** ./src/dash/SegmentBaseLoader.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),b=c(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),w=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),F=c(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js");function L(){var p,f,g,y,M,U,R,V,k,O,x,P,T,D=this.context;function q(oe,he,Ce,Le){var fe=null,Re=oe?T.resolve(oe.path):null,Ae=Le||{init:!0,url:Re?Re.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:he};f.debug("Start searching for initialization.");var pe=ge(Ae);V.load({request:pe,success:function(He){if(Ae.bytesLoaded=Ae.range.end,!(fe=y.findInitRange(He)))return Ae.range.end=Ae.bytesLoaded+Ae.bytesToLoad,q(oe,he,Ce,Ae);oe.range=fe,Ce(oe)},error:function(){Ce(oe)}}),f.debug("Perform init search: "+Ae.url)}function Fe(oe,he,Ce,Le,fe,Re){if(Ce&&(void 0===Ce.start||void 0===Ce.end)){var Ae=Ce?Ce.toString().split("-"):null;Ce=Ae?{start:parseFloat(Ae[0]),end:parseFloat(Ae[1])}:null}fe=fe||$;var pe=null,Ue=null,ke=!!Ce,we=oe?T.resolve(oe.path):null,He={init:!1,url:we?we.url:void 0,range:ke?Ce:{start:0,end:1500},searching:!ke,bytesLoaded:Re?Re.bytesLoaded:0,bytesToLoad:1500,mediaType:he},at=ge(He);V.load({request:at,success:function(W){var se=He.bytesToLoad,_e=W.byteLength;if(He.bytesLoaded=He.range.end-He.range.start,pe=y.parse(W),(Ue=pe.getBox("sidx"))&&Ue.isComplete){var Z,ne,Q=Ue.references;if(null!=Q&&Q.length>0&&(Z=1===Q[0].reference_type),Z){f.debug("Initiate multiple SIDX load."),He.range.end=He.range.start+Ue.size;var ie,ee,X,ue,de=[],xe=0,Ke=(Ue.offset||He.range.start)+Ue.size,Ve=function(dt){dt?(de=de.concat(dt),++xe>=ee&&(de.sort(function(it,bt){return it.startTime-bt.startTime<0?-1:0}),fe(de,oe,Le))):fe(null,oe,Le)};for(ie=0,ee=Q.length;ie<ee;ie++)X=Ke,ue=Ke+Q[ie].referenced_size-1,Ke+=Q[ie].referenced_size,Fe(oe,he,{start:X,end:ue},Le,Ve,He)}else f.debug("Parsing segments from SIDX. representation "+he+" - id: "+oe.id+" for range : "+He.range.start+" - "+He.range.end),ne=function K(oe,he){for(var Ue,we,He,Ce=oe.references,Le=Ce.length,fe=oe.timescale,Re=oe.earliest_presentation_time,Ae=he.range.start+oe.offset+oe.first_offset+oe.size,pe=[],at=0;at<Le;at++)we=Ce[at].subsegment_duration,He=Ce[at].referenced_size,(Ue=new t.default).duration=we,Ue.startTime=Re,Ue.timescale=fe,Ue.mediaRange=Ae+"-"+(Ae+He-1),pe.push(Ue),Re+=we,Ae+=He;return pe}(Ue,He),fe(ne,oe,Le)}else{if(Ue)He.range.start=Ue.offset||He.range.start,He.range.end=He.range.start+(Ue.size||se);else{if(_e<He.bytesLoaded)return void fe(null,oe,Le);var J=pe.getLastBox();J&&J.size?(He.range.start=J.offset+J.size,He.range.end=He.range.start+se):He.range.end+=se}Fe(oe,he,He.range,Le,null,He)}},error:function(){fe(null,oe,Le)}}),f.debug("Perform SIDX load for type ".concat(he," : ").concat(He.url," with range ").concat(He.range.start," - ").concat(He.range.end))}function $(oe,he,Ce){Ce({segments:oe,representation:he,error:oe?void 0:new b.default(k.SEGMENT_BASE_LOADER_ERROR_CODE,k.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function ge(oe){if(oe.url){var he=new E.default;return he.setInfo(oe),he}}return p={setConfig:function B(oe){oe.baseURLController&&(T=oe.baseURLController),oe.dashMetrics&&(U=oe.dashMetrics),oe.mediaPlayerModel&&(R=oe.mediaPlayerModel),oe.errHandler&&(g=oe.errHandler),oe.boxParser&&(y=oe.boxParser),oe.debug&&(f=oe.debug.getLogger(p)),oe.requestModifier&&(M=oe.requestModifier),oe.errors&&(k=oe.errors),oe.urlUtils&&(P=oe.urlUtils),oe.constants&&(O=oe.constants),oe.dashConstants&&(x=oe.dashConstants)},initialize:function C(){V=Object(F.default)(D).create({errHandler:g,dashMetrics:U,mediaPlayerModel:R,requestModifier:M,boxParser:y,errors:k,urlUtils:P,constants:O,dashConstants:x})},loadInitialization:function Y(oe,he){return new Promise(function(Ce){q(oe,he,Ce)})},loadSegments:function le(oe,he,Ce){return new Promise(function(Le){Fe(oe,he,Ce,Le)})},reset:function ae(){V&&(V.abort(),V=null)}}}L.__dashjs_factory_name="SegmentBaseLoader",S.default=w.default.getSingletonFactory(L)},"./src/dash/WebmSegmentBaseLoader.js":
/*!*******************************************!*\
                  !*** ./src/dash/WebmSegmentBaseLoader.js ***!
                  \*******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../streaming/utils/EBMLParser */
"./src/streaming/utils/EBMLParser.js"),b=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),F=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),L=c(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),D=c(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js");function p(){var g,y,M,U,R,V,k,O,x,P,f=this.context;function Y(K,ge,oe,he){var Le,fe,Re,Ae,pe;for(fe=[],Ae=0,pe=(Le=function B(K){var he,Ce,ge=[],oe=Object(t.default)(f).create({data:K});for(oe.consumeTagAndSize(M.Segment.Cues);oe.moreData()&&oe.consumeTagAndSize(M.Segment.Cues.CuePoint,!0);){for((he={}).CueTime=oe.parseTag(M.Segment.Cues.CuePoint.CueTime),he.CueTracks=[];oe.moreData()&&oe.consumeTag(M.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Le=oe.getMatroskaCodedNum(),fe=oe.getPos();if((Ce={}).Track=oe.parseTag(M.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===Ce.Track)throw new Error("Cue track cannot be 0");Ce.ClusterPosition=oe.parseTag(M.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),he.CueTracks.push(Ce),oe.setPos(fe+Le)}if(0===he.CueTracks.length)throw new Error("Mandatory cuetrack not found");ge.push(he)}if(0===ge.length)throw new Error("mandatory cuepoint not found");return ge}(K)).length;Ae<pe;Ae+=1)(Re=new E.default).duration=Ae<Le.length-1?Le[Ae+1].CueTime-Le[Ae].CueTime:he-Le[Ae].CueTime,Re.startTime=Le[Ae].CueTime,Re.timescale=1e3,Re.mediaRange=Le[Ae].CueTracks[0].ClusterPosition+ge+"-"+(Ae<Le.length-1?Le[Ae+1].CueTracks[0].ClusterPosition+ge-1:oe-1),fe.push(Re);return y.debug("Parsed cues: "+fe.length+" cues."),fe}function $(K){var ge=new F.default;return ge.setInfo(K),ge}return g={setConfig:function C(K){if(!(K.baseURLController&&K.dashMetrics&&K.mediaPlayerModel&&K.errHandler))throw new Error(b.default.MISSING_CONFIG_ERROR);P=K.baseURLController,V=K.dashMetrics,k=K.mediaPlayerModel,U=K.errHandler,x=K.errors,y=K.debug.getLogger(g),R=K.requestModifier},initialize:function N(){O=Object(L.default)(f).create({errHandler:U,dashMetrics:V,mediaPlayerModel:k,requestModifier:R,errors:x})},loadInitialization:function le(K,ge){return new Promise(function(oe){var he=null,Ce=K?P.resolve(K.path):null,Le=K?K.range.split("-"):null,fe={range:{start:Le?parseFloat(Le[0]):null,end:Le?parseFloat(Le[1]):null},request:he,url:Ce?Ce.url:void 0,init:!0,mediaType:ge};y.info("Start loading initialization."),he=$(fe),O.load({request:he,success:function(){oe(K)},error:function(){oe(K)}}),y.debug("Perform init load: "+fe.url)})},loadSegments:function Fe(K,ge,oe){return new Promise(function(he){var Ce=null,Le=K?P.resolve(K.path):null,fe=Le?Le.url:void 0;Ce=$({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:Ce,url:fe,init:!1,mediaType:ge}),y.debug("Parsing ebml header"),O.load({request:Ce,success:function(we){!function q(K,ge,oe,he){if(K&&0!==K.byteLength){var Le,fe,Re,Ae,Ce=Object(t.default)(f).create({data:K}),pe=oe?oe.split("-"):null,Ue=null,ke={url:ge,range:{start:pe?parseFloat(pe[0]):null,end:pe?parseFloat(pe[1]):null},request:Ue};for(y.debug("Parse EBML header: "+ke.url),Ce.skipOverElement(M.EBML),Ce.consumeTag(M.Segment),Re=Ce.getMatroskaCodedNum(),Re+=Ce.getPos(),Ae=Ce.getPos();Ce.moreData()&&!Ce.consumeTagAndSize(M.Segment.Info,!0);)if(!(Ce.skipOverElement(M.Segment.SeekHead,!0)||Ce.skipOverElement(M.Segment.Tracks,!0)||Ce.skipOverElement(M.Segment.Cues,!0)||Ce.skipOverElement(M.Void,!0)))throw new Error("no valid top level element found");for(;void 0===Le;){var we=Ce.getMatroskaCodedNum(!0),He=Ce.getMatroskaCodedNum();we===M.Segment.Info.Duration.tag?Le=Ce[M.Segment.Info.Duration.parse](He):Ce.setPos(Ce.getPos()+He)}Ue=$(ke),O.load({request:Ue,success:function(Te){fe=Y(Te,Ae,Re,Le),he(fe)},error:function(){y.error("Download Error: Cues "+ke.url),he(null)}}),y.debug("Perform cues load: "+ke.url+" bytes="+ke.range.start+"-"+ke.range.end)}else he(null)}(we,fe,oe,function(He){he({segments:He,representation:K,error:He?void 0:new D.default(x.SEGMENT_BASE_LOADER_ERROR_CODE,x.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){he({representation:K,error:new D.default(x.SEGMENT_BASE_LOADER_ERROR_CODE,x.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function ae(){O&&(O.abort(),O=null)}},function T(){M={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),g}p.__dashjs_factory_name="WebmSegmentBaseLoader",S.default=w.default.getSingletonFactory(p)},"./src/dash/constants/DashConstants.js":
/*!*********************************************!*\
                  !*** ./src/dash/constants/DashConstants.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,F(M.key),M)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==t(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S);var p=new(function(){function f(){(function b(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function E(f,g,y){return g&&w(f.prototype,g),y&&w(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}]),f}());S.default=p},"./src/dash/controllers/ContentSteeringController.js":
/*!***********************************************************!*\
                  !*** ./src/dash/controllers/ContentSteeringController.js ***!
                  \***********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),E=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),F=c(
/*! ../vo/ContentSteeringRequest */
"./src/dash/vo/ContentSteeringRequest.js"),L=c(
/*! ../vo/ContentSteeringResponse */
"./src/dash/vo/ContentSteeringResponse.js"),D=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),p=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../core/Utils */
"./src/core/Utils.js"),M=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),U_THROUGHPUT="_DASH_throughput",U_PATHWAY="_DASH_pathway",U_URL="url";function R(){var O,x,P,T,N,C,B,Y,q,le,Fe,$,ae,K,ge,V=this.context,k=Object(M.default)(V).getInstance();function Le(W){W&&W.toStreamInfo&&(T=W.toStreamInfo)}function fe(W){W&&W.request&&W.request.serviceLocation&&(N=W.request.serviceLocation)}function Re(){var W=Fe.getValue();return ge.getContentSteering(W)}function pe(){return new Promise(function(W){try{var se=Re();if(!se||!se.serverUrl)return void W();var _e=function Ue(W){var se=W.proxyServerUrl?W.proxyServerUrl:W.serverUrl;P&&P.reloadUri&&(se=k.isRelative(P.reloadUri)?k.resolve(P.reloadUri,W.serverUrl):P.reloadUri);var _e=[];if(T){var J=ge.getIsDynamic(),Q=ge.getAllMediaInfoForType(T,g.default.VIDEO).length>0?g.default.VIDEO:g.default.AUDIO,Z=ae.getThroughputHistory(),ne=Z?Z.getAverageThroughput(Q,J):NaN;isNaN(ne)||_e.push({key:U_THROUGHPUT,value:1e3*ne})}return N&&_e.push({key:U_PATHWAY,value:N}),W.proxyServerUrl&&W.proxyServerUrl===se&&W.serverUrl&&_e.push({key:U_URL,value:encodeURI(W.serverUrl)}),y.default.addAditionalQueryParameterToUrl(se,_e)}(se),J=new F.default(_e);B.load({request:J,success:function(Z){(function ke(W){!W||!W[D.default.CONTENT_STEERING_RESPONSE.VERSION]||1!==parseInt(W[D.default.CONTENT_STEERING_RESPONSE.VERSION])||((P=new L.default).version=W[D.default.CONTENT_STEERING_RESPONSE.VERSION],W[D.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(W[D.default.CONTENT_STEERING_RESPONSE.TTL])&&(P.ttl=W[D.default.CONTENT_STEERING_RESPONSE.TTL]),W[D.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(P.reloadUri=W[D.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),W[D.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(P.serviceLocationPriority=W[D.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),we())})(Z),K.trigger(p.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:P,url:_e}),W()},error:function(Z){(function at(W){x.warn("Error fetching data from content steering server",W),we()})(Z),W(Z)}})}catch(Q){W(Q)}})}function we(){P&&P.ttl&&!isNaN(P.ttl)&&(C&&clearTimeout(C),C=setTimeout(function(){pe()},1e3*P.ttl))}function He(){C&&clearTimeout(C),C=null}function Te(){P=null,T=null,N=null,He()}return O={reset:function Ne(){Te(),K.off(p.default.PERIOD_SWITCH_COMPLETED,Le,O),K.off(f.default.FRAGMENT_LOADING_STARTED,fe,O)},setConfig:function he(W){W&&(W.adapter&&(ge=W.adapter),W.errHandler&&(Y=W.errHandler),W.dashMetrics&&(q=W.dashMetrics),W.mediaPlayerModel&&(le=W.mediaPlayerModel),W.requestModifier&&($=W.requestModifier),W.manifestModel&&(Fe=W.manifestModel),W.abrController&&(ae=W.abrController),W.eventBus&&(K=W.eventBus))},loadSteeringData:pe,getCurrentSteeringResponseData:function Je(){return P},shouldQueryBeforeStart:function Ae(){var W=Re();return W&&W.queryBeforeStart},getSteeringDataFromManifest:Re,stopSteeringRequestTimer:He,initialize:function Ce(){B=Object(w.default)(V).create({errHandler:Y,dashMetrics:q,mediaPlayerModel:le,requestModifier:$,errors:E.default}),K.on(p.default.PERIOD_SWITCH_COMPLETED,Le,O),K.on(f.default.FRAGMENT_LOADING_STARTED,fe,O)}},function oe(){x=Object(b.default)(V).getInstance().getLogger(O),Te()}(),O}R.__dashjs_factory_name="ContentSteeringController",S.default=t.default.getSingletonFactory(R)},"./src/dash/controllers/RepresentationController.js":
/*!**********************************************************!*\
                  !*** ./src/dash/controllers/RepresentationController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),E=c(
/*! ../utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function F(L){var x,P,T,N,C,D=(L=L||{}).eventBus,p=L.events,f=L.abrController,g=L.dashMetrics,y=L.playbackController,M=L.timelineConverter,U=L.type,R=L.streamInfo,V=L.dashConstants,k=L.segmentsController,O=L.isDynamic;function q(){return U}function le(){if(!(f&&g&&y&&M))throw new Error(t.default.MISSING_CONFIG_ERROR)}function $(){return T}function ae(){return C}function K(){P=null,T=!0,N=[]}function he(Ne){return new Promise(function(Te,W){var se=Ne.hasInitialization(),_e=Ne.hasSegments(),J=[];J.push(k.updateInitData(Ne,se)),J.push(k.updateSegmentData(Ne,_e)),Promise.all(J).then(function(Q){Q[0]&&!Q[0].error&&(Ne=function Le(Ne,Te){return Te&&!Te.error&&Te.representation?Te.representation:Ne}(Ne,Q[0])),Q[1]&&!Q[1].error&&(Ne=function fe(Ne,Te){if(Te&&!Te.error){var J,Q,Z,ne,W=Te.segments,se=[],_e=0;for(J=0,Q=W?W.length:0;J<Q;J++)Z=W[J],(ne=Object(E.getTimeBasedSegment)(M,O,Ne,Z.startTime,Z.duration,Z.timescale,Z.media,Z.mediaRange,_e))&&(se.push(ne),ne=null,_e++);return se.length>0&&(Ne.segments=se),Ne}}(Ne,Q[1])),function Ce(Ne){Ne.mediaFinishedInformation=k.getMediaFinishedInformation(Ne)}(Ne),function we(Ne){if($()){var se,Te=g.getCurrentManifestUpdate(),W=!1;if(Te){for(var J=0;J<Te.representationInfo.length;J++)if((se=Te.representationInfo[J]).index===Ne.index&&se.mediaType===q()){W=!0;break}W||g.addManifestUpdateRepresentationInfo(Ne,q())}if(function Ue(){for(var Ne=0,Te=N.length;Ne<Te;Ne++){var W=N[Ne].segmentInfoType;if(!N[Ne].hasInitialization()||(W===V.SEGMENT_BASE||W===V.BASE_URL)&&!N[Ne].segments)return!1}return!0}()){f.setPlaybackQuality(U,R,function pe(Ne){return N.indexOf(Ne)}(C));var Q=g.getCurrentDVRInfo(U);Q&&g.updateManifestUpdateInfo({latency:Q.range.end-y.getTime()}),g.getCurrentRepresentationSwitch(ae().adaptation.type)||Re(),ke()}}}(Ne),Te()}).catch(function(Q){W(Q)})})}function Re(){le();var Ne=new Date,Te=ae(),W=1e3*y.getTime();Te&&g.addRepresentationSwitch(Te.adaptation.type,Ne,W,Te.id),D.trigger(w.default.REPRESENTATION_SWITCH,{mediaType:U,streamId:R.id,currentRepresentation:Te,numberOfRepresentations:N.length},{streamId:R.id,mediaType:U})}function Ae(Ne){return null==Ne||Ne>=N.length?null:N[Ne]}function ke(Ne){T=!1,D.trigger(p.DATA_UPDATE_COMPLETED,{data:P,currentRepresentation:C,error:Ne},{streamId:R.id,mediaType:U})}function at(Ne){C=Ne}function Je(Ne){if(Ne.newDuration){var Te=ae();Te&&Te.adaptation.period&&(Te.adaptation.period.duration=Ne.newDuration)}}return x={getStreamId:function Y(){return R.id},getType:q,getData:function Fe(){return P},isUpdating:$,updateData:function oe(Ne,Te,W,se,_e){if(le(),T=!0,N=Te,at(Ae(_e)),P=Ne,W!==t.default.VIDEO&&W!==t.default.AUDIO&&(W!==t.default.TEXT||!se))return ke(),Promise.resolve();for(var Q=[],Z=0,ne=N.length;Z<ne;Z++)Q.push(he(N[Z]));return Promise.all(Q)},getCurrentRepresentation:ae,getRepresentationForQuality:Ae,prepareQualityChange:function He(Ne){at(Ae(Ne)),Re()},reset:function ge(){D.off(w.default.MANIFEST_VALIDITY_CHANGED,Je,x),K()}},function B(){K(),D.on(w.default.MANIFEST_VALIDITY_CHANGED,Je,x)}(),x}F.__dashjs_factory_name="RepresentationController",S.default=b.default.getClassFactory(F)},"./src/dash/controllers/SegmentBaseController.js":
/*!*******************************************************!*\
                  !*** ./src/dash/controllers/SegmentBaseController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../SegmentBaseLoader */
"./src/dash/SegmentBaseLoader.js"),w=c(
/*! ../WebmSegmentBaseLoader */
"./src/dash/WebmSegmentBaseLoader.js");function E(L){var x,P,T,D=this.context,p=(L=L||{}).eventBus,f=L.events,g=L.dashMetrics,y=L.mediaPlayerModel,M=L.errHandler,U=L.baseURLController,R=L.debug,V=L.boxParser,k=L.requestModifier,O=L.errors;function C(Fe){return"webm"===(Fe?Fe.split("/")[1]:"").toLowerCase()}return x={initialize:function B(){P.initialize(),T.initialize()},getSegmentBaseInitSegment:function Y(Fe){return C(Fe.representation.mimeType)?T.loadInitialization(Fe.representation,Fe.mediaType):P.loadInitialization(Fe.representation,Fe.mediaType)},getSegmentList:function q(Fe){return C(Fe.mimeType)?T.loadSegments(Fe.representation,Fe.mediaType,Fe.representation?Fe.representation.indexRange:null):P.loadSegments(Fe.representation,Fe.mediaType,Fe.representation?Fe.representation.indexRange:null)},reset:function le(){P.reset(),T.reset()}},function N(){P=Object(b.default)(D).getInstance(),T=Object(w.default)(D).getInstance(),P.setConfig({baseURLController:U,dashMetrics:g,mediaPlayerModel:y,errHandler:M,eventBus:p,events:f,errors:O,debug:R,boxParser:V,requestModifier:k}),T.setConfig({baseURLController:U,dashMetrics:g,mediaPlayerModel:y,errHandler:M,eventBus:p,events:f,errors:O,debug:R,requestModifier:k})}(),x}E.__dashjs_factory_name="SegmentBaseController";var F=t.default.getSingletonFactory(E);S.default=F},"./src/dash/controllers/SegmentsController.js":
/*!****************************************************!*\
                  !*** ./src/dash/controllers/SegmentsController.js ***!
                  \****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../utils/TimelineSegmentsGetter */
"./src/dash/utils/TimelineSegmentsGetter.js"),w=c(
/*! ../utils/TemplateSegmentsGetter */
"./src/dash/utils/TemplateSegmentsGetter.js"),E=c(
/*! ../utils/ListSegmentsGetter */
"./src/dash/utils/ListSegmentsGetter.js"),F=c(
/*! ../utils/SegmentBaseGetter */
"./src/dash/utils/SegmentBaseGetter.js");function L(p){var U,R,f=this.context,g=(p=p||{}).dashConstants,y=p.type,M=p.segmentBaseController;function P(B){return B?B.segments?R[g.SEGMENT_BASE]:R[B.segmentInfoType]:null}return U={initialize:function k(B){R[g.SEGMENT_TIMELINE]=Object(b.default)(f).create(p,B),R[g.SEGMENT_TEMPLATE]=Object(w.default)(f).create(p,B),R[g.SEGMENT_LIST]=Object(E.default)(f).create(p,B),R[g.SEGMENT_BASE]=Object(F.default)(f).create(p,B)},updateInitData:function O(B,Y){return Y?Promise.resolve():M.getSegmentBaseInitSegment({representation:B,mediaType:y})},updateSegmentData:function x(B,Y){return Y?Promise.resolve():M.getSegmentList({mimeType:B.mimeType,representation:B,mediaType:y})},getSegmentByIndex:function T(B,Y,q){var le=P(B);return le?le.getSegmentByIndex(B,Y,q):null},getSegmentByTime:function N(B,Y){var q=P(B);return q?q.getSegmentByTime(B,Y):null},getMediaFinishedInformation:function C(B){var Y=P(B);return Y?Y.getMediaFinishedInformation(B):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},function V(){R={}}(),U}L.__dashjs_factory_name="SegmentsController";var D=t.default.getClassFactory(L);S.default=D},"./src/dash/controllers/ServiceDescriptionController.js":
/*!**************************************************************!*\
                  !*** ./src/dash/controllers/ServiceDescriptionController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=[w.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],L_VIDEO="video",L_AUDIO="audio",L_ANY="any",L_ALL="all";function D(){var f,g,y,M,U,p=this.context;function O(){g={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},y=[]}function le(K,ge,oe){try{g[K][ge]=oe/1e3}catch(he){M.error(he)}}return f={getServiceDescriptionSettings:function x(){return g},getProducerReferenceTimeOffsets:function Fe(){return y},calculateProducerReferenceTimeOffsets:function $(K){try{var ge=[];if(K&&K.length>0){var oe=[w.default.VIDEO,w.default.AUDIO,w.default.TEXT],he=U.getAvailabilityStartTime()/1e3;K.forEach(function(Ce){var Le=oe.reduce(function(fe,Re){return fe.concat(U.getAllMediaInfoForType(Ce,Re))},[]).reduce(function(fe,Re){return U.getProducerReferenceTimes(Ce,Re).forEach(function(pe){var Ue=U.getVoRepresentations(Re);if(Ue&&Ue.length>0&&Ue[0].adaptation&&Ue[0].segmentInfoType===E.default.SEGMENT_TEMPLATE){var ke=Ue[0],He=new Date(pe[E.default.WALL_CLOCK_TIME]).getTime()/1e3;fe.push({id:pe[E.default.ID],to:he-(He-(pe[E.default.PRESENTATION_TIME]/ke[E.default.TIMESCALE]-ke[E.default.PRESENTATION_TIME_OFFSET]+Ce.start))})}}),fe},[]);ge=ge.concat(Le)})}y=ge}catch(Ce){M.error(Ce),y=[]}},applyServiceDescription:function P(K){if(K&&K.serviceDescriptions){var ge=K.serviceDescriptions.filter(function(Ce){return F.includes(Ce.schemeIdUri)}),oe=K.serviceDescriptions.filter(function(Ce){return null==Ce.schemeIdUri}),he=ge.length>0?ge[ge.length-1]:oe[oe.length-1];he&&(he.latency&&he.latency.target>0&&function T(K){var ge;if(ge=K.schemeIdUri===w.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function C(K){return{liveDelay:K.latency.target/1e3,maxDrift:!isNaN(K.latency.max)&&K.latency.max>K.latency.target?(K.latency.max-K.latency.target+500)/1e3:NaN,referenceId:K.latency.referenceId||NaN}}(K):function N(K){return{liveDelay:K.latency.target/1e3,maxDrift:!isNaN(K.latency.max)&&K.latency.max>K.latency.target?(K.latency.max-K.latency.target+500)/1e3:NaN,referenceId:K.latency.referenceId||NaN}}(K),y.length>0){var oe=function ae(K){var oe,ge=0,he=y.filter(function(Ce){return Ce.id===K.referenceId});return 0===he.length?(ge=y.length>0?y[0].to:0,oe=y[0].id||NaN):(ge=he[0].to||0,oe=he[0].id||NaN),{to:ge,id:oe}}(ge),he=oe.to,Ce=oe.id;g.liveDelay=ge.liveDelay-he,g.liveCatchup.maxDrift=ge.maxDrift,M.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(he," from ProducerReferenceTime element with id ").concat(Ce,".\n                Live Delay: ").concat(ge.liveDelay-he,", Live catchup max drift: ").concat(ge.maxDrift,"\n            "))}else g.liveDelay=ge.liveDelay,g.liveCatchup.maxDrift=ge.maxDrift,M.debug("Found latency properties coming from service description: Live Delay: ".concat(ge.liveDelay,", Live catchup max drift: ").concat(ge.maxDrift))}(he),he.playbackRate&&function B(K){var ge=K.playbackRate.min?Math.round(1e3*(K.playbackRate.min-1))/1e3:NaN,oe=K.playbackRate.max?Math.round(1e3*(K.playbackRate.max-1))/1e3:NaN;g.liveCatchup.playbackRate.min=ge,g.liveCatchup.playbackRate.max=oe,M.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(ge)),M.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(oe))}(he),he.operatingBandwidth&&function q(K){if(K&&K.operatingBandwidth&&K.operatingBandwidth.mediaType&&K.operatingBandwidth.mediaType!==L_ALL){var ge={};ge.minBandwidth=K.operatingBandwidth.min,ge.maxBandwidth=K.operatingBandwidth.max,ge.targetBandwidth=K.operatingBandwidth.target;var oe=[];K.operatingBandwidth.mediaType===L_VIDEO||K.operatingBandwidth.mediaType===L_AUDIO?oe.push(K.operatingBandwidth.mediaType):K.operatingBandwidth.mediaType===L_ANY&&(oe.push(L_AUDIO),oe.push(L_VIDEO)),oe.forEach(function(he){isNaN(ge.minBandwidth)||le("minBitrate",he,ge.minBandwidth),isNaN(ge.maxBandwidth)||le("maxBitrate",he,ge.maxBandwidth),isNaN(ge.targetBandwidth)||le("initialBitrate",he,ge.targetBandwidth)})}}(he))}},reset:function k(){O()},setConfig:function V(K){K&&K.adapter&&(U=K.adapter)}},function R(){M=Object(b.default)(p).getInstance().getLogger(f),O()}(),f}D.__dashjs_factory_name="ServiceDescriptionController",S.default=t.default.getSingletonFactory(D)},"./src/dash/models/DashManifestModel.js":
/*!**********************************************!*\
                  !*** ./src/dash/models/DashManifestModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),w=c(
/*! ../vo/Representation */
"./src/dash/vo/Representation.js"),E=c(
/*! ../vo/AdaptationSet */
"./src/dash/vo/AdaptationSet.js"),F=c(
/*! ../vo/Period */
"./src/dash/vo/Period.js"),L=c(
/*! ../vo/Mpd */
"./src/dash/vo/Mpd.js"),D=c(
/*! ../vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),p=c(
/*! ../vo/Event */
"./src/dash/vo/Event.js"),f=c(
/*! ../vo/BaseURL */
"./src/dash/vo/BaseURL.js"),g=c(
/*! ../vo/EventStream */
"./src/dash/vo/EventStream.js"),y=c(
/*! ../vo/ProducerReferenceTime */
"./src/dash/vo/ProducerReferenceTime.js"),M=c(
/*! ../vo/ContentSteering */
"./src/dash/vo/ContentSteering.js"),U=c(
/*! ../../streaming/utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),R=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),V=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),k=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),x=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),P=c(
/*! ../../streaming/thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js");function T($,ae){var K=typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(!K){if(Array.isArray($)||(K=B($))||ae&&$&&"number"==typeof $.length){K&&($=K);var ge=0,oe=function(){};return{s:oe,n:function(){return ge>=$.length?{done:!0}:{done:!1,value:$[ge++]}},e:function(Re){throw Re},f:oe}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Le,he=!0,Ce=!1;return{s:function(){K=K.call($)},n:function(){var Re=K.next();return he=Re.done,Re},e:function(Re){Ce=!0,Le=Re},f:function(){try{!he&&null!=K.return&&K.return()}finally{if(Ce)throw Le}}}}function N($){return function q($){if(Array.isArray($))return le($)}($)||function Y($){if(typeof Symbol<"u"&&null!=$[Symbol.iterator]||null!=$["@@iterator"])return Array.from($)}($)||B($)||function C(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B($,ae){if($){if("string"==typeof $)return le($,ae);var K=Object.prototype.toString.call($).slice(8,-1);if("Object"===K&&$.constructor&&(K=$.constructor.name),"Map"===K||"Set"===K)return Array.from($);if("Arguments"===K||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return le($,ae)}}function le($,ae){(null==ae||ae>$.length)&&(ae=$.length);for(var K=0,ge=new Array(ae);K<ae;K++)ge[K]=$[K];return ge}function Fe(){var $,ae,K,ge,oe=this.context,he=Object(R.default)(oe).getInstance(),Ce=Number.isInteger||function(St){return"number"==typeof St&&isFinite(St)&&Math.floor(St)===St};function fe(St,ft){if(!St)throw new Error("adaptation is not defined");if(!ft)throw new Error("type is not defined");if(St.Representation_asArray&&St.Representation_asArray.length){var tn=Wt(St.Representation_asArray[0]);if(tn&&tn.length>0&&P.THUMBNAILS_SCHEME_ID_URIS.indexOf(tn[0].schemeIdUri)>=0)return ft===t.default.IMAGE}if(St.ContentComponent_asArray&&St.ContentComponent_asArray.length>0){if(St.ContentComponent_asArray.length>1)return ft===t.default.MUXED;if(St.ContentComponent_asArray[0].contentType===ft)return!0}var ze=ft===t.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(ft);if(St.Representation_asArray&&St.Representation_asArray.length&&ze.test(St.Representation_asArray[0].codecs))return!0;if(St.hasOwnProperty(b.default.MIME_TYPE))return ze.test(St.mimeType);if(St.Representation_asArray)for(var Pt,Qt=0;Qt<St.Representation_asArray.length;Qt++)if((Pt=St.Representation_asArray[Qt]).hasOwnProperty(b.default.MIME_TYPE))return ze.test(Pt.mimeType);return!1}function Re(St){if(!St)throw new Error("adaptation is not defined");if(St.hasOwnProperty(b.default.SEGMENT_TEMPLATE)||St.hasOwnProperty(b.default.SEGMENT_TIMELINE)||St.hasOwnProperty(b.default.SEGMENT_LIST)||St.hasOwnProperty(b.default.SEGMENT_BASE))return!0;if(St.Representation_asArray&&St.Representation_asArray.length>0){var ft=St.Representation_asArray[0];if(ft.hasOwnProperty(b.default.SEGMENT_TEMPLATE)||ft.hasOwnProperty(b.default.SEGMENT_TIMELINE)||ft.hasOwnProperty(b.default.SEGMENT_LIST)||ft.hasOwnProperty(b.default.SEGMENT_BASE))return!0}return!1}function Ae(St){return fe(St,t.default.AUDIO)}function pe(St){return fe(St,t.default.VIDEO)}function Ue(St){return fe(St,t.default.TEXT)}function ke(St){return fe(St,t.default.MUXED)}function we(St){return fe(St,t.default.IMAGE)}function _e(){return function(St,ft){return St.bandwidth-ft.bandwidth}}function J(St){return St&&Array.isArray(St.Representation_asArray)&&St.Representation_asArray.sort(function(St,ft){return St.bandwidth-ft.bandwidth}),St}function Q(St,ft){return St&&St.Period_asArray&&Ce(ft)&&St.Period_asArray[ft]?St.Period_asArray[ft].AdaptationSet_asArray:[]}function Z(St){return St&&St.Period_asArray?St.Period_asArray:[]}function lt(St){var ft=!1;return St&&St.hasOwnProperty("type")&&(ft=St.type===b.default.DYNAMIC),ft}function Wt(St){return St&&St.EssentialProperty_asArray&&St.EssentialProperty_asArray.length?St.EssentialProperty_asArray.map(function(ft){return{schemeIdUri:ft.schemeIdUri,value:ft.value}}):null}function mt(St){if(!St||!St.S_asArray)return NaN;var ft=St.S_asArray[0],tn=St.S_asArray[1];return ft.hasOwnProperty("d")?ft.d:tn.t-ft.t}function Qe(St){return St.adaptation.period.start-St.presentationTimeOffset}function Ye(St,ft){if(!St)throw new Error("Period cannot be null or undefined");var tn=F.default.DEFAULT_ID+"_"+ft;return St.hasOwnProperty(b.default.ID)&&St.id.length>0&&"__proto__"!==St.id&&(tn=St.id),tn}function kt(St,ft,tn){var Xe,ze=[];if(!St)return ze;for(Xe=0;Xe<St.length;Xe++){var Pt=new g.default;if(Pt.timescale=1,Pt.representation=ft,!St[Xe].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");Pt.schemeIdUri=St[Xe].schemeIdUri,St[Xe].hasOwnProperty(b.default.TIMESCALE)&&(Pt.timescale=St[Xe].timescale),St[Xe].hasOwnProperty(b.default.VALUE)&&(Pt.value=St[Xe].value),ze.push(Pt),Pt.period=tn}return ze}function an(St){var ft=[],ze=!1;return(St.BaseURL_asArray||[St.baseUri]).some(function(Xe){if(Xe){var Pt=new f.default,Qt=Xe.__text||Xe;return he.isRelative(Qt)&&(ze=!0,St.baseUri&&(Qt=he.resolve(Qt,St.baseUri))),Pt.url=Qt,Pt.serviceLocation=Xe.hasOwnProperty(b.default.SERVICE_LOCATION)&&Xe.serviceLocation.length?Xe.serviceLocation:Qt,Xe.hasOwnProperty(b.default.DVB_PRIORITY)&&(Pt.dvb_priority=Xe[b.default.DVB_PRIORITY]),Xe.hasOwnProperty(b.default.DVB_WEIGHT)&&(Pt.dvb_weight=Xe[b.default.DVB_WEIGHT]),Xe.hasOwnProperty(b.default.AVAILABILITY_TIME_OFFSET)&&(Pt.availabilityTimeOffset=Xe[b.default.AVAILABILITY_TIME_OFFSET]),Xe.hasOwnProperty(b.default.AVAILABILITY_TIME_COMPLETE)&&(Pt.availabilityTimeComplete="false"!==Xe[b.default.AVAILABILITY_TIME_COMPLETE]),ft.push(Pt),ze}}),ft}return $={getIsTypeOf:fe,getIsText:Ue,getIsFragmented:Re,getProducerReferenceTimesForAdaptation:function He(St){var ft=St&&St.hasOwnProperty(b.default.PRODUCERREFERENCETIME_ASARRAY)?St[b.default.PRODUCERREFERENCETIME_ASARRAY]:[];(St&&St.hasOwnProperty(b.default.REPRESENTATION_ASARRAY)?St[b.default.REPRESENTATION_ASARRAY]:[]).forEach(function(Xe){Xe.hasOwnProperty(b.default.PRODUCERREFERENCETIME_ASARRAY)&&ft.push.apply(ft,N(Xe[b.default.PRODUCERREFERENCETIME_ASARRAY]))});var ze=[];return ft.forEach(function(Xe){var Pt=new y.default;Xe.hasOwnProperty(b.default.ID)&&(Pt[b.default.ID]=Xe[b.default.ID],Xe.hasOwnProperty(b.default.WALL_CLOCK_TIME)&&(Pt[b.default.WALL_CLOCK_TIME]=Xe[b.default.WALL_CLOCK_TIME],Xe.hasOwnProperty(b.default.PRESENTATION_TIME)&&(Pt[b.default.PRESENTATION_TIME]=Xe[b.default.PRESENTATION_TIME],ze.push(Pt))))}),ze},getLanguageForAdaptation:function at(St){var ft="";return St&&St.hasOwnProperty(b.default.LANG)&&(ft=St.lang),ft},getViewpointForAdaptation:function Je(St){return St&&St.hasOwnProperty(b.default.VIEWPOINT)?St.Viewpoint:null},getRolesForAdaptation:function Ne(St){return St&&St.hasOwnProperty(b.default.ROLE_ASARRAY)?St.Role_asArray:[]},getAccessibilityForAdaptation:function Te(St){return St&&St.hasOwnProperty(b.default.ACCESSIBILITY_ASARRAY)?St.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function W(St){return St&&St.hasOwnProperty(b.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?St.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function se(St){return St&&St.hasOwnProperty(b.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?St.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function ee(St,ft,tn){var ze=Q(ft,tn);return ze.length>0&&Ce(St)?ze[St]:null},getIndexForAdaptation:function X(St,ft,tn){if(!St)return-1;for(var ze=Q(ft,tn),Xe=0;Xe<ze.length;Xe++)if(Object(U.default)(oe).getInstance().areEqual(ze[Xe],St))return Xe;return-1},getAdaptationForId:function ie(St,ft,tn){var Xe,Pt,ze=Q(ft,tn);for(Xe=0,Pt=ze.length;Xe<Pt;Xe++)if(ze[Xe].hasOwnProperty(b.default.ID)&&ze[Xe].id===St)return ze[Xe];return null},getAdaptationsForType:function ue(St,ft,tn){var Xe,Pt,ze=Q(St,ft),Qt=[];for(Xe=0,Pt=ze.length;Xe<Pt;Xe++)fe(ze[Xe],tn)&&Qt.push(J(ze[Xe]));return Qt},getRealPeriods:Z,getRealPeriodForIndex:function ne(St,ft){var tn=Z(ft);return tn.length>0&&Ce(St)?tn[St]:null},getCodec:function ve(St,ft,tn){var ze=null;if(St&&St.Representation_asArray&&St.Representation_asArray.length>0){var Xe=Ce(ft)&&ft>=0&&ft<St.Representation_asArray.length?St.Representation_asArray[ft]:St.Representation_asArray[0];Xe&&(ze=Xe.mimeType+';codecs="'+Xe.codecs+'"',tn&&void 0!==Xe.width&&(ze+=';width="'+Xe.width+'";height="'+Xe.height+'"'))}return ze&&(ze=ze.replace(/\sprofiles=[^;]*/g,"")),ze},getSelectionPriority:function cn(St){try{var ft=St&&typeof St.selectionPriority<"u"?parseInt(St.selectionPriority):1;return isNaN(ft)?1:ft}catch{return 1}},getMimeType:function de(St){return St&&St.Representation_asArray&&St.Representation_asArray.length>0?St.Representation_asArray[0].mimeType:null},getKID:function xe(St){return St&&St.hasOwnProperty(b.default.CENC_DEFAULT_KID)?St[b.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function Ke(St){if(!St||!Array.isArray(St.Label_asArray))return[];for(var ft=[],tn=0;tn<St.Label_asArray.length;tn++)ft.push({lang:St.Label_asArray[tn].lang,text:St.Label_asArray[tn].__text||St.Label_asArray[tn]});return ft},getContentProtectionData:function Ve(St){return St&&St.hasOwnProperty(b.default.CONTENTPROTECTION_ASARRAY)&&0!==St.ContentProtection_asArray.length?St.ContentProtection_asArray:null},getIsDynamic:lt,getId:function dt(St){return St&&St[b.default.ID]||null},hasProfile:function it(St,ft){var tn=!1;return St&&St.profiles&&St.profiles.length>0&&(tn=-1!==St.profiles.indexOf(ft)),tn},getDuration:function bt(St){return St&&St.hasOwnProperty(b.default.MEDIA_PRESENTATION_DURATION)?St.mediaPresentationDuration:St&&"dynamic"==St.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function Ut(St){return St&&St.bandwidth?St.bandwidth:NaN},getManifestUpdatePeriod:function wt(St){var ft=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,tn=NaN;return St&&St.hasOwnProperty(b.default.MINIMUM_UPDATE_PERIOD)&&(tn=St.minimumUpdatePeriod),isNaN(tn)?tn:Math.max(tn-ft,1)},getPublishTime:function Ht(St){return St&&St.hasOwnProperty(b.default.PUBLISH_TIME)?new Date(St[b.default.PUBLISH_TIME]):null},getRepresentationCount:function en(St){return St&&Array.isArray(St.Representation_asArray)?St.Representation_asArray.length:0},getBitrateListForAdaptation:function ln(St){var ft=J(St);return(ft&&Array.isArray(ft.Representation_asArray)?ft.Representation_asArray:[]).map(function(ze){return{bandwidth:ze.bandwidth,width:ze.width||0,height:ze.height||0,scanType:ze.scanType||null,id:ze.id||null}})},getRepresentationFor:function Sn(St,ft){return ft&&ft.Representation_asArray&&ft.Representation_asArray.length>0&&Ce(St)?ft.Representation_asArray[St]:null},getRepresentationsForAdaptation:function Dt(St){var ze,Xe,ft=[],tn=function nn(St){if(St&&St.period&&Ce(St.period.index)){var ft=St.period.mpd.manifest.Period_asArray[St.period.index];if(ft&&ft.AdaptationSet_asArray&&Ce(St.index))return J(ft.AdaptationSet_asArray[St.index])}}(St);if(tn&&tn.Representation_asArray){if(St&&St.period&&Ce(St.period.index)){var Pt=an(St.period.mpd.manifest);Pt&&(Xe=Pt[0])}for(var Qt=0,wn=tn.Representation_asArray.length;Qt<wn;++Qt){var Fn=tn.Representation_asArray[Qt],Gt=new w.default;if(Gt.index=Qt,Gt.adaptation=St,Fn.hasOwnProperty(b.default.ID)&&(Gt.id=Fn.id),Fn.hasOwnProperty(b.default.CODECS)&&(Gt.codecs=Fn.codecs),Fn.hasOwnProperty(b.default.MIME_TYPE)&&(Gt.mimeType=Fn[b.default.MIME_TYPE]),Fn.hasOwnProperty(b.default.CODEC_PRIVATE_DATA)&&(Gt.codecPrivateData=Fn.codecPrivateData),Fn.hasOwnProperty(b.default.BANDWITH)&&(Gt.bandwidth=Fn.bandwidth),Fn.hasOwnProperty(b.default.WIDTH)&&(Gt.width=Fn.width),Fn.hasOwnProperty(b.default.HEIGHT)&&(Gt.height=Fn.height),Fn.hasOwnProperty(b.default.SCAN_TYPE)&&(Gt.scanType=Fn.scanType),Fn.hasOwnProperty(b.default.MAX_PLAYOUT_RATE)&&(Gt.maxPlayoutRate=Fn.maxPlayoutRate),Fn.hasOwnProperty(b.default.SEGMENT_BASE)?(ze=Fn.SegmentBase,Gt.segmentInfoType=b.default.SEGMENT_BASE):Fn.hasOwnProperty(b.default.SEGMENT_LIST)?Gt.segmentInfoType=(ze=Fn.SegmentList).hasOwnProperty(b.default.SEGMENT_TIMELINE)?b.default.SEGMENT_TIMELINE:b.default.SEGMENT_LIST:Fn.hasOwnProperty(b.default.SEGMENT_TEMPLATE)?(Gt.segmentInfoType=(ze=Fn.SegmentTemplate).hasOwnProperty(b.default.SEGMENT_TIMELINE)?b.default.SEGMENT_TIMELINE:b.default.SEGMENT_TEMPLATE,ze.hasOwnProperty(b.default.INITIALIZATION_MINUS)&&(Gt.initialization=ze.initialization.split("$Bandwidth$").join(Fn.bandwidth).split("$RepresentationID$").join(Fn.id))):Gt.segmentInfoType=b.default.BASE_URL,Gt.essentialProperties=Wt(Fn),ze){if(ze.hasOwnProperty(b.default.INITIALIZATION)){var Kt=ze.Initialization;Kt.hasOwnProperty(b.default.SOURCE_URL)&&(Gt.initialization=Kt.sourceURL),Kt.hasOwnProperty(b.default.RANGE)&&(Gt.range=Kt.range)}else Ue(tn)&&Re(tn)&&tn.mimeType&&-1===tn.mimeType.indexOf("application/mp4")&&(Gt.range=0);ze.hasOwnProperty(b.default.TIMESCALE)&&(Gt.timescale=ze.timescale),ze.hasOwnProperty(b.default.DURATION)?Gt.segmentDuration=ze.duration/Gt.timescale:Fn.hasOwnProperty(b.default.SEGMENT_TEMPLATE)&&(ze=Fn.SegmentTemplate).hasOwnProperty(b.default.SEGMENT_TIMELINE)&&(Gt.segmentDuration=mt(ze.SegmentTimeline)/Gt.timescale),ze.hasOwnProperty(b.default.MEDIA)&&(Gt.media=ze.media),ze.hasOwnProperty(b.default.START_NUMBER)&&(Gt.startNumber=ze.startNumber),ze.hasOwnProperty(b.default.INDEX_RANGE)&&(Gt.indexRange=ze.indexRange),ze.hasOwnProperty(b.default.PRESENTATION_TIME_OFFSET)&&(Gt.presentationTimeOffset=ze.presentationTimeOffset/Gt.timescale),ze.hasOwnProperty(b.default.AVAILABILITY_TIME_OFFSET)?Gt.availabilityTimeOffset=ze.availabilityTimeOffset:Xe&&void 0!==Xe.availabilityTimeOffset&&(Gt.availabilityTimeOffset=Xe.availabilityTimeOffset),ze.hasOwnProperty(b.default.AVAILABILITY_TIME_COMPLETE)?Gt.availabilityTimeComplete="false"!==ze.availabilityTimeComplete:Xe&&void 0!==Xe.availabilityTimeComplete&&(Gt.availabilityTimeComplete=Xe.availabilityTimeComplete)}Gt.MSETimeOffset=Qe(Gt),Gt.path=[St.period.index,St.index,Qt],ft.push(Gt)}}return ft},getAdaptationsForPeriod:function De(St){var ze,Xe,Pt,ft=St&&Ce(St.index)?St.mpd.manifest.Period_asArray[St.index]:null,tn=[];if(ft&&ft.AdaptationSet_asArray)for(Pt=0;Pt<ft.AdaptationSet_asArray.length;Pt++)Xe=ft.AdaptationSet_asArray[Pt],ze=new E.default,Xe.hasOwnProperty(b.default.ID)&&(ze.id=Xe.id),ze.index=Pt,ze.period=St,ke(Xe)?ze.type=t.default.MUXED:Ae(Xe)?ze.type=t.default.AUDIO:pe(Xe)?ze.type=t.default.VIDEO:Ue(Xe)?ze.type=t.default.TEXT:we(Xe)?ze.type=t.default.IMAGE:ae.warn("Unknown Adaptation stream type"),tn.push(ze);return tn},getRegularPeriods:function Pe(St){var wn,Fn,ft=!!St&&lt(St.manifest),tn=[],ze=null,Xe=null,Pt=null,Qt=null;for(Fn=0,wn=St&&St.manifest&&St.manifest.Period_asArray?St.manifest.Period_asArray.length:0;Fn<wn;Fn++)(Xe=St.manifest.Period_asArray[Fn]).hasOwnProperty(b.default.START)?(Qt=new F.default).start=Xe.start:null!==ze&&ze.hasOwnProperty(b.default.DURATION)&&null!==Pt?(Qt=new F.default).start=parseFloat((Pt.start+Pt.duration).toFixed(5)):0===Fn&&!ft&&((Qt=new F.default).start=0),null!==Pt&&isNaN(Pt.duration)&&(null!==Qt?Pt.duration=parseFloat((Qt.start-Pt.start).toFixed(5)):ae.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==Qt&&(Qt.id=Ye(Xe,Fn),Qt.index=Fn,Qt.mpd=St,Xe.hasOwnProperty(b.default.DURATION)&&(Qt.duration=Xe.duration),Pt&&(Pt.nextPeriodId=Qt.id),tn.push(Qt),ze=Xe,Pt=Qt),Xe=null,Qt=null;return 0===tn.length||null!==Pt&&isNaN(Pt.duration)&&(Pt.duration=parseFloat((function st(St){!function ct(){if(!K||!K.hasOwnProperty("error"))throw new Error(t.default.MISSING_CONFIG_ERROR)}();var tn,ft=lt(St.mpd.manifest);return St.mpd.manifest.mediaPresentationDuration?tn=St.mpd.manifest.mediaPresentationDuration:St.duration?tn=St.duration:ft?tn=Number.POSITIVE_INFINITY:K.error(new O.default(x.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",St)),tn}(Pt)-Pt.start).toFixed(5))),tn},getMpd:function Ze(St){var ft=new L.default;return St&&(ft.manifest=St,St.hasOwnProperty(b.default.AVAILABILITY_START_TIME)?ft.availabilityStartTime=new Date(St.availabilityStartTime.getTime()):St.loadedTime&&(ft.availabilityStartTime=new Date(St.loadedTime.getTime())),St.hasOwnProperty(b.default.AVAILABILITY_END_TIME)&&(ft.availabilityEndTime=new Date(St.availabilityEndTime.getTime())),St.hasOwnProperty(b.default.MINIMUM_UPDATE_PERIOD)&&(ft.minimumUpdatePeriod=St.minimumUpdatePeriod),St.hasOwnProperty(b.default.MEDIA_PRESENTATION_DURATION)&&(ft.mediaPresentationDuration=St.mediaPresentationDuration),St.hasOwnProperty(b.default.SUGGESTED_PRESENTATION_DELAY)&&(ft.suggestedPresentationDelay=St.suggestedPresentationDelay),St.hasOwnProperty(b.default.TIMESHIFT_BUFFER_DEPTH)&&(ft.timeShiftBufferDepth=St.timeShiftBufferDepth),St.hasOwnProperty(b.default.MAX_SEGMENT_DURATION)&&(ft.maxSegmentDuration=St.maxSegmentDuration),St.hasOwnProperty(b.default.PUBLISH_TIME)&&(ft.publishTime=new Date(St.publishTime))),ft},getEventsForPeriod:function ut(St){var Pt,Qt,ft=St&&St.mpd&&St.mpd.manifest?St.mpd.manifest:null,tn=ft?ft.Period_asArray:null,ze=tn&&St&&Ce(St.index)?tn[St.index].EventStream_asArray:null,Xe=[];if(ze)for(Pt=0;Pt<ze.length;Pt++){var wn=new g.default;if(wn.period=St,wn.timescale=1,!ze[Pt].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(wn.schemeIdUri=ze[Pt][t.default.SCHEME_ID_URI],ze[Pt].hasOwnProperty(b.default.TIMESCALE)&&(wn.timescale=ze[Pt][b.default.TIMESCALE]),ze[Pt].hasOwnProperty(b.default.VALUE)&&(wn.value=ze[Pt][b.default.VALUE]),ze[Pt].hasOwnProperty(b.default.PRESENTATION_TIME_OFFSET)&&(wn.presentationTimeOffset=ze[Pt][b.default.PRESENTATION_TIME_OFFSET]),Qt=0;ze[Pt].Event_asArray&&Qt<ze[Pt].Event_asArray.length;Qt++){var Fn=ze[Pt].Event_asArray[Qt],Gt=new p.default;Gt.presentationTime=0,Gt.eventStream=wn,Fn.hasOwnProperty(b.default.PRESENTATION_TIME)&&(Gt.presentationTime=Fn.presentationTime),Gt.calculatedPresentationTime=Gt.presentationTime/wn.timescale+St.start-(wn.presentationTimeOffset?wn.presentationTimeOffset/wn.timescale:0),Fn.hasOwnProperty(b.default.DURATION)&&(Gt.duration=Fn.duration/wn.timescale),Gt.id=Fn.hasOwnProperty(b.default.ID)?Fn.id:null,Gt.messageData=Fn.Signal&&Fn.Signal.Binary?ge.decodeArray(Fn.Signal.Binary.toString()):Fn.messageData||Fn.__cdata||Fn.__text,Xe.push(Gt)}}return Xe},getEssentialPropertiesForRepresentation:Wt,getEventStreamForAdaptationSet:function $t(St,ft,tn){var ze,Xe,Pt;return St&&St.Period_asArray&&ft&&ft.period&&Ce(ft.period.index)&&(Xe=St.Period_asArray[ft.period.index])&&Xe.AdaptationSet_asArray&&Ce(ft.index)&&(Pt=Xe.AdaptationSet_asArray[ft.index])&&(ze=Pt.InbandEventStream_asArray),kt(ze,null,tn)},getEventStreamForRepresentation:function Lt(St,ft,tn){var ze,Xe,Pt,Qt;return St&&St.Period_asArray&&ft&&ft.adaptation&&ft.adaptation.period&&Ce(ft.adaptation.period.index)&&(Xe=St.Period_asArray[ft.adaptation.period.index])&&Xe.AdaptationSet_asArray&&Ce(ft.adaptation.index)&&(Pt=Xe.AdaptationSet_asArray[ft.adaptation.index])&&Pt.Representation_asArray&&Ce(ft.index)&&(Qt=Pt.Representation_asArray[ft.index])&&(ze=Qt.InbandEventStream_asArray),kt(ze,ft,tn)},getUTCTimingSources:function Jt(St){var ft=lt(St),tn=!!St&&St.hasOwnProperty(b.default.AVAILABILITY_START_TIME),ze=St?St.UTCTiming_asArray:null,Xe=[];return(ft||tn)&&ze&&ze.forEach(function(Pt){var Qt=new D.default;Pt.hasOwnProperty(t.default.SCHEME_ID_URI)&&(Qt.schemeIdUri=Pt.schemeIdUri,Pt.hasOwnProperty(b.default.VALUE)&&(Qt.value=Pt.value.toString(),Xe.push(Qt)))}),Xe},getBaseURLsFromElement:an,getRepresentationSortFunction:_e,getContentSteering:function fn(St){if(St&&St.hasOwnProperty(b.default.CONTENT_STEERING_AS_ARRAY)){var ft=St[b.default.CONTENT_STEERING_AS_ARRAY][0],tn=new M.default;return tn.serverUrl=ft.__text,ft.hasOwnProperty(b.default.DEFAULT_SERVICE_LOCATION)&&(tn.defaultServiceLocation=ft[b.default.DEFAULT_SERVICE_LOCATION]),ft.hasOwnProperty(b.default.QUERY_BEFORE_START)&&(tn.queryBeforeStart="true"===ft[b.default.QUERY_BEFORE_START].toLowerCase()),ft.hasOwnProperty(b.default.PROXY_SERVER_URL)&&(tn.proxyServerUrl=ft[b.default.PROXY_SERVER_URL]),tn}},getLocation:function Mn(St){if(St&&St.hasOwnProperty(t.default.LOCATION))return St.Location=St.Location_asArray[0],St.Location},getPatchLocation:function Nn(St){if(St&&St.hasOwnProperty(b.default.PATCH_LOCATION))return St.PatchLocation=St.PatchLocation_asArray[0],St.PatchLocation},getSuggestedPresentationDelay:function Wn(St){return St&&St.hasOwnProperty(b.default.SUGGESTED_PRESENTATION_DELAY)?St.suggestedPresentationDelay:null},getAvailabilityStartTime:function Gn(St){return St&&St.hasOwnProperty(b.default.AVAILABILITY_START_TIME)&&null!==St.availabilityStartTime?St.availabilityStartTime.getTime():null},getServiceDescriptions:function fi(St){var ft=[];if(St&&St.hasOwnProperty(b.default.SERVICE_DESCRIPTION)){var ze,tn=T(St.ServiceDescription_asArray);try{for(tn.s();!(ze=tn.n()).done;){var Xe=ze.value,Pt=null,Qt=null,wn=null,Fn=null,Gt=null,Kt=null;for(var rn in Xe)Xe.hasOwnProperty(rn)&&(rn===b.default.ID?Pt=Xe[rn]:rn===b.default.SERVICE_DESCRIPTION_SCOPE?Qt=Xe[rn].schemeIdUri:rn===b.default.SERVICE_DESCRIPTION_LATENCY?wn={target:parseInt(Xe[rn].target),max:parseInt(Xe[rn].max),min:parseInt(Xe[rn].min),referenceId:parseInt(Xe[rn].referenceId)}:rn===b.default.SERVICE_DESCRIPTION_PLAYBACK_RATE?Fn={max:parseFloat(Xe[rn].max),min:parseFloat(Xe[rn].min)}:rn===b.default.SERVICE_DESCRIPTION_OPERATING_QUALITY?Gt={mediaType:Xe[rn].mediaType,max:parseInt(Xe[rn].max),min:parseInt(Xe[rn].min),target:parseInt(Xe[rn].target),type:Xe[rn].type,maxQualityDifference:parseInt(Xe[rn].maxQualityDifference)}:rn===b.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(Kt={mediaType:Xe[rn].mediaType,max:parseInt(Xe[rn].max),min:parseInt(Xe[rn].min),target:parseInt(Xe[rn].target)}));ft.push({id:Pt,schemeIdUri:Qt,latency:wn,playbackRate:Fn,operatingQuality:Gt,operatingBandwidth:Kt})}}catch(En){tn.e(En)}finally{tn.f()}}return ft},getSupplementalProperties:function _n(St){var ft={};if(St&&St.hasOwnProperty(b.default.SUPPLEMENTAL_PROPERTY)){var ze,tn=T(St.SupplementalProperty_asArray);try{for(tn.s();!(ze=tn.n()).done;){var Xe=ze.value;Xe.hasOwnProperty(t.default.SCHEME_ID_URI)&&Xe.hasOwnProperty(b.default.VALUE)&&(ft[Xe[t.default.SCHEME_ID_URI]]=Xe[b.default.VALUE])}}catch(Pt){tn.e(Pt)}finally{tn.f()}}return ft},setConfig:function pn(St){St&&(St.errHandler&&(K=St.errHandler),St.BASE64&&(ge=St.BASE64))}},function Le(){ae=Object(k.default)(oe).getInstance().getLogger($)}(),$}Fe.__dashjs_factory_name="DashManifestModel",S.default=V.default.getSingletonFactory(Fe)},"./src/dash/models/PatchManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/dash/models/PatchManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),E=c(
/*! ../vo/SimpleXPath */
"./src/dash/vo/SimpleXPath.js"),F=c(
/*! ../vo/PatchOperation */
"./src/dash/vo/PatchOperation.js");function L(){var D,p,f=this.context;return D={getIsPatch:function y(k){return k&&k.hasOwnProperty(t.default.ORIGINAL_MPD_ID)||!1},getPublishTime:function M(k){return k&&k.hasOwnProperty(t.default.PUBLISH_TIME)?new Date(k[t.default.PUBLISH_TIME]):null},getOriginalPublishTime:function U(k){return k&&k.hasOwnProperty(t.default.ORIGINAL_PUBLISH_TIME)?new Date(k[t.default.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function R(k){return k&&k[t.default.ORIGINAL_MPD_ID]||null},getPatchOperations:function V(k){return k?(k.__children||[]).map(function(O){var x=Object.keys(O)[0];if("add"!==x&&"remove"!==x&&"replace"!==x)return p.warn("Ignoring node of invalid action: ".concat(x)),null;var P=O[x],T=P.sel;if("add"===x&&P.type){if(!P.type.startsWith("@"))return p.warn("Ignoring add action for prefixed namespace declaration: ".concat(P.type,"=").concat(P.__text)),null;T="".concat(T,"/").concat(P.type)}var N=new E.default(T);if(!N.isValid())return p.warn("Ignoring action with invalid selector: ".concat(x," - ").concat(T)),null;var C=null;N.findsAttribute()?C=P.__text||"":"remove"!==x&&(C=P.__children.reduce(function(Y,q){var le=Object.keys(q)[0];return"#text"!==le&&(Y[le]=Y[le]||[],Y[le].push(q[le])),Y},{}));var B=new F.default(x,N,C);return"add"===x&&(B.position=P.pos),B}).filter(function(O){return!!O}):[]}},function g(){p=Object(w.default)(f).getInstance().getLogger(D)}(),D}L.__dashjs_factory_name="PatchManifestModel",S.default=b.default.getSingletonFactory(L)},"./src/dash/parser/DashParser.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/DashParser.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ./objectiron */
"./src/dash/parser/objectiron.js"),w=c(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),E=c(
/*! ./matchers/StringMatcher */
"./src/dash/parser/matchers/StringMatcher.js"),F=c(
/*! ./matchers/DurationMatcher */
"./src/dash/parser/matchers/DurationMatcher.js"),L=c(
/*! ./matchers/DateTimeMatcher */
"./src/dash/parser/matchers/DateTimeMatcher.js"),D=c(
/*! ./matchers/NumericMatcher */
"./src/dash/parser/matchers/NumericMatcher.js"),p=c(
/*! ./matchers/LangMatcher */
"./src/dash/parser/matchers/LangMatcher.js"),f=c(
/*! ./maps/RepresentationBaseValuesMap */
"./src/dash/parser/maps/RepresentationBaseValuesMap.js"),g=c(
/*! ./maps/SegmentValuesMap */
"./src/dash/parser/maps/SegmentValuesMap.js");function y(M){var V,k,O,x,P,U=this.context,R=(M=M||{}).debug;return V={parse:function B(Y){var q,le=window.performance.now();if(!(q=x.xml_str2json(Y)))throw new Error("parsing the manifest failed");var Fe=window.performance.now();q.Patch?((q=q.Patch).add_asArray&&q.add_asArray.forEach(function(ae){return P.run(ae)}),q.replace_asArray&&q.replace_asArray.forEach(function(ae){return P.run(ae)})):P.run(q=q.MPD);var $=window.performance.now();return k.info("Parsing complete: ( xml2json: "+(Fe-le).toPrecision(3)+"ms, objectiron: "+($-Fe).toPrecision(3)+"ms, total: "+(($-le)/1e3).toPrecision(3)+"s)"),q.protocol="DASH",q},getMatchers:function N(){return O},getIron:function C(){return P}},function T(){k=R.getLogger(V),O=[new F.default,new L.default,new D.default,new p.default,new E.default],x=new w.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:O}),P=Object(b.default)(U).create({adaptationset:new f.default,period:new g.default})}(),V}y.__dashjs_factory_name="DashParser",S.default=t.default.getClassFactory(y)},"./src/dash/parser/maps/CommonProperty.js":
/*!************************************************!*\
                  !*** ./src/dash/parser/maps/CommonProperty.js ***!
                  \************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,F(y.key),y)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(f){!function b(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p);var M;this._name=f,this._merge=(M=f)&&M.length&&M.charAt(0)===M.charAt(0).toUpperCase()}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),p}()},"./src/dash/parser/maps/MapNode.js":
/*!*****************************************!*\
                  !*** ./src/dash/parser/maps/MapNode.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./CommonProperty */
"./src/dash/parser/maps/CommonProperty.js");function b(f){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function E(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,L(M.key),M)}}function L(f){var g=function D(f,g){if("object"!==b(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==b(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===b(g)?g:String(g)}S.default=function(){function f(g,y,M){var U=this;(function w(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this._name=g||"",this._properties=[],this._children=M||[],Array.isArray(y)&&y.forEach(function(R){U._properties.push(new t.default(R))})}return function F(f,g,y){return g&&E(f.prototype,g),y&&E(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),f}()},"./src/dash/parser/maps/RepresentationBaseValuesMap.js":
/*!*************************************************************!*\
                  !*** ./src/dash/parser/maps/RepresentationBaseValuesMap.js ***!
                  \*************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),b=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function w(O){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function E(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,L(T.key),T)}}function L(O){var x=function D(O,x){if("object"!==w(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==w(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===w(x)?x:String(x)}function f(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&g(O,x)}function g(O,x){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function y(O){var x=function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=V(O);if(x){var C=V(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function M(O,x){if(x&&("object"===w(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function U(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function V(O){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}S.default=function(O){f(P,O);var x=y(P);function P(){!function p(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P);var T=[b.default.PROFILES,b.default.WIDTH,b.default.HEIGHT,b.default.SAR,b.default.FRAMERATE,b.default.AUDIO_SAMPLING_RATE,b.default.MIME_TYPE,b.default.SEGMENT_PROFILES,b.default.CODECS,b.default.MAXIMUM_SAP_PERIOD,b.default.START_WITH_SAP,b.default.MAX_PLAYOUT_RATE,b.default.CODING_DEPENDENCY,b.default.SCAN_TYPE,b.default.FRAME_PACKING,b.default.AUDIO_CHANNEL_CONFIGURATION,b.default.CONTENT_PROTECTION,b.default.ESSENTIAL_PROPERTY,b.default.SUPPLEMENTAL_PROPERTY,b.default.INBAND_EVENT_STREAM];return x.call(this,b.default.ADAPTATION_SET,T,[new t.default(b.default.REPRESENTATION,T,[new t.default(b.default.SUB_REPRESENTATION,T)])])}return function F(O,x,P){return x&&E(O.prototype,x),P&&E(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(t.default)},"./src/dash/parser/maps/SegmentValuesMap.js":
/*!**************************************************!*\
                  !*** ./src/dash/parser/maps/SegmentValuesMap.js ***!
                  \**************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),b=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function w(O){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function E(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,L(T.key),T)}}function L(O){var x=function D(O,x){if("object"!==w(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==w(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===w(x)?x:String(x)}function f(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&g(O,x)}function g(O,x){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function y(O){var x=function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=V(O);if(x){var C=V(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function M(O,x){if(x&&("object"===w(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function U(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function V(O){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}S.default=function(O){f(P,O);var x=y(P);function P(){!function p(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P);var T=[b.default.SEGMENT_BASE,b.default.SEGMENT_TEMPLATE,b.default.SEGMENT_LIST];return x.call(this,b.default.PERIOD,T,[new t.default(b.default.ADAPTATION_SET,T,[new t.default(b.default.REPRESENTATION,T)])])}return function F(O,x,P){return x&&E(O.prototype,x),P&&E(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(t.default)},"./src/dash/parser/matchers/BaseMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/BaseMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,F(y.key),y)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(f,g){(function b(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this._test=f,this._converter=g}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),p}()},"./src/dash/parser/matchers/DateTimeMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DateTimeMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function b(T){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(T)}function w(T,N){for(var C=0;C<N.length;C++){var B=N[C];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,F(B.key),B)}}function F(T){var N=function L(T,N){if("object"!==b(T)||null===T)return T;var C=T[Symbol.toPrimitive];if(void 0!==C){var B=C.call(T,N||"default");if("object"!==b(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(T)}(T,"string");return"symbol"===b(N)?N:String(N)}function p(T,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),N&&f(T,N)}function f(T,N){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,Y){return B.__proto__=Y,B})(T,N)}function g(T){var N=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,B=R(T);if(N){var q=R(this).constructor;Y=Reflect.construct(B,arguments,q)}else Y=B.apply(this,arguments);return function y(T,N){if(N&&("object"===b(N)||"function"==typeof N))return N;if(void 0!==N)throw new TypeError("Derived constructors may only return object or undefined");return function M(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T)}(this,Y)}}function R(T){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)})(T)}var x=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;S.default=function(T){p(C,T);var N=g(C);function C(){return function D(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}(this,C),N.call(this,function(B){return x.test(B.value)},function(B){var q,Y=x.exec(B);if(q=Date.UTC(parseInt(Y[1],10),parseInt(Y[2],10)-1,parseInt(Y[3],10),parseInt(Y[4],10),parseInt(Y[5],10),Y[6]&&parseInt(Y[6],10)||0,Y[7]&&1e3*parseFloat(Y[7])||0),Y[9]&&Y[10]){var le=60*parseInt(Y[9],10)+parseInt(Y[10],10);q+=("+"===Y[8]?-1:1)*le*60*1e3}return new Date(q)})}return function E(T,N,C){return N&&w(T.prototype,N),C&&w(T,C),Object.defineProperty(T,"prototype",{writable:!1}),T}(C)}(t.default)},"./src/dash/parser/matchers/DurationMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DurationMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),b=c(
/*! ../../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function E(Y){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"==typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q})(Y)}function F(Y,q){for(var le=0;le<q.length;le++){var Fe=q[le];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(Y,D(Fe.key),Fe)}}function D(Y){var q=function p(Y,q){if("object"!==E(Y)||null===Y)return Y;var le=Y[Symbol.toPrimitive];if(void 0!==le){var Fe=le.call(Y,q||"default");if("object"!==E(Fe))return Fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===q?String:Number)(Y)}(Y,"string");return"symbol"===E(q)?q:String(q)}function g(Y,q){if("function"!=typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(q&&q.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),Object.defineProperty(Y,"prototype",{writable:!1}),q&&y(Y,q)}function y(Y,q){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Fe,$){return Fe.__proto__=$,Fe})(Y,q)}function M(Y){var q=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var $,Fe=k(Y);if(q){var ae=k(this).constructor;$=Reflect.construct(Fe,arguments,ae)}else $=Fe.apply(this,arguments);return function U(Y,q){if(q&&("object"===E(q)||"function"==typeof q))return q;if(void 0!==q)throw new TypeError("Derived constructors may only return object or undefined");return function R(Y){if(void 0===Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}(Y)}(this,$)}}function k(Y){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(le){return le.__proto__||Object.getPrototypeOf(le)})(Y)}var O=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;S.default=function(Y){g(le,Y);var q=M(le);function le(){return function f(Y,q){if(!(Y instanceof q))throw new TypeError("Cannot call a class as a function")}(this,le),q.call(this,function(Fe){for(var $=[w.default.MIN_BUFFER_TIME,w.default.MEDIA_PRESENTATION_DURATION,w.default.MINIMUM_UPDATE_PERIOD,w.default.TIMESHIFT_BUFFER_DEPTH,w.default.MAX_SEGMENT_DURATION,w.default.MAX_SUBSEGMENT_DURATION,w.default.SUGGESTED_PRESENTATION_DELAY,w.default.START,b.default.START_TIME,w.default.DURATION],ae=$.length,K=0;K<ae;K++)if(Fe.nodeName===$[K])return O.test(Fe.value);return!1},function(Fe){var $=O.exec(Fe),ae=31536e3*parseFloat($[3]||0)+2592e3*parseFloat($[5]||0)+86400*parseFloat($[7]||0)+3600*parseFloat($[9]||0)+60*parseFloat($[11]||0)+parseFloat($[13]||0);return void 0!==$[1]&&(ae=-ae),ae})}return function L(Y,q,le){return q&&F(Y.prototype,q),le&&F(Y,le),Object.defineProperty(Y,"prototype",{writable:!1}),Y}(le)}(t.default)},"./src/dash/parser/matchers/LangMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/LangMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),b=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),w=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),E=c.n(w);function F(T){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(T)}function L(T,N,C){return(N=f(N))in T?Object.defineProperty(T,N,{value:C,enumerable:!0,configurable:!0,writable:!0}):T[N]=C,T}function D(T,N){for(var C=0;C<N.length;C++){var B=N[C];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,f(B.key),B)}}function f(T){var N=function g(T,N){if("object"!==F(T)||null===T)return T;var C=T[Symbol.toPrimitive];if(void 0!==C){var B=C.call(T,N||"default");if("object"!==F(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(T)}(T,"string");return"symbol"===F(N)?N:String(N)}function M(T,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),N&&U(T,N)}function U(T,N){return(U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,Y){return B.__proto__=Y,B})(T,N)}function R(T){var N=function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,B=x(T);if(N){var q=x(this).constructor;Y=Reflect.construct(B,arguments,q)}else Y=B.apply(this,arguments);return function V(T,N){if(N&&("object"===F(N)||"function"==typeof N))return N;if(void 0!==N)throw new TypeError("Derived constructors may only return object or undefined");return function k(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T)}(this,Y)}}function x(T){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)})(T)}S.default=function(T){M(C,T);var N=R(C);function C(){return function y(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}(this,C),N.call(this,function(B,Y){var q,le=(L(q={},b.default.ADAPTATION_SET,[b.default.LANG]),L(q,b.default.REPRESENTATION,[b.default.LANG]),L(q,b.default.CONTENT_COMPONENT,[b.default.LANG]),L(q,b.default.LABEL,[b.default.LANG]),L(q,b.default.GROUP_LABEL,[b.default.LANG]),q);if(le.hasOwnProperty(Y)){var Fe=le[Y];return void 0!==Fe&&Fe.indexOf(B.name)>=0}return!1},function(B){var Y=E()(B);return void 0!==Y?Y:String(B)})}return function p(T,N,C){return N&&D(T.prototype,N),C&&D(T,C),Object.defineProperty(T,"prototype",{writable:!1}),T}(C)}(t.default)},"./src/dash/parser/matchers/NumericMatcher.js":
/*!****************************************************!*\
                  !*** ./src/dash/parser/matchers/NumericMatcher.js ***!
                  \****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function w(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var x=function L(O,x){if("object"!==b(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===b(x)?x:String(x)}function p(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&f(O,x)}function f(O,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function g(O){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(x){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function y(O,x){if(x&&("object"===b(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function M(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}var V=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;S.default=function(O){p(P,O);var x=g(P);function P(){return function D(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P),x.call(this,function(T){return V.test(T.value)},function(T){return parseFloat(T)})}return function E(O,x,P){return x&&w(O.prototype,x),P&&w(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(t.default)},"./src/dash/parser/matchers/StringMatcher.js":
/*!***************************************************!*\
                  !*** ./src/dash/parser/matchers/StringMatcher.js ***!
                  \***************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),b=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function w(x){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(x)}function E(x,P,T){return(P=D(P))in x?Object.defineProperty(x,P,{value:T,enumerable:!0,configurable:!0,writable:!0}):x[P]=T,x}function F(x,P){for(var T=0;T<P.length;T++){var N=P[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,D(N.key),N)}}function D(x){var P=function p(x,P){if("object"!==w(x)||null===x)return x;var T=x[Symbol.toPrimitive];if(void 0!==T){var N=T.call(x,P||"default");if("object"!==w(N))return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===P?String:Number)(x)}(x,"string");return"symbol"===w(P)?P:String(P)}function g(x,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(P&&P.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),P&&y(x,P)}function y(x,P){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,C){return N.__proto__=C,N})(x,P)}function M(x){var P=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,N=k(x);if(P){var B=k(this).constructor;C=Reflect.construct(N,arguments,B)}else C=N.apply(this,arguments);return function U(x,P){if(P&&("object"===w(P)||"function"==typeof P))return P;if(void 0!==P)throw new TypeError("Derived constructors may only return object or undefined");return function R(x){if(void 0===x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}(x)}(this,C)}}function k(x){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)})(x)}S.default=function(x){g(T,x);var P=M(T);function T(){return function f(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")}(this,T),P.call(this,function(N,C){var B,Y=(E(B={},b.default.MPD,[b.default.ID,b.default.PROFILES]),E(B,b.default.PERIOD,[b.default.ID]),E(B,b.default.BASE_URL,[b.default.SERVICE_LOCATION,b.default.BYTE_RANGE]),E(B,b.default.SEGMENT_BASE,[b.default.INDEX_RANGE]),E(B,b.default.INITIALIZATION,[b.default.RANGE]),E(B,b.default.REPRESENTATION_INDEX,[b.default.RANGE]),E(B,b.default.SEGMENT_LIST,[b.default.INDEX_RANGE]),E(B,b.default.BITSTREAM_SWITCHING,[b.default.RANGE]),E(B,b.default.SEGMENT_URL,[b.default.MEDIA_RANGE,b.default.INDEX_RANGE]),E(B,b.default.SEGMENT_TEMPLATE,[b.default.INDEX_RANGE,b.default.MEDIA,b.default.INDEX,b.default.INITIALIZATION_MINUS,b.default.BITSTREAM_SWITCHING_MINUS]),E(B,b.default.ASSET_IDENTIFIER,[b.default.VALUE,b.default.ID]),E(B,b.default.EVENT_STREAM,[b.default.VALUE]),E(B,b.default.ADAPTATION_SET,[b.default.PROFILES,b.default.MIME_TYPE,b.default.SEGMENT_PROFILES,b.default.CODECS,b.default.CONTENT_TYPE]),E(B,b.default.FRAME_PACKING,[b.default.VALUE,b.default.ID]),E(B,b.default.AUDIO_CHANNEL_CONFIGURATION,[b.default.VALUE,b.default.ID]),E(B,b.default.CONTENT_PROTECTION,[b.default.VALUE,b.default.ID]),E(B,b.default.ESSENTIAL_PROPERTY,[b.default.VALUE,b.default.ID]),E(B,b.default.SUPPLEMENTAL_PROPERTY,[b.default.VALUE,b.default.ID]),E(B,b.default.INBAND_EVENT_STREAM,[b.default.VALUE,b.default.ID]),E(B,b.default.ACCESSIBILITY,[b.default.VALUE,b.default.ID]),E(B,b.default.ROLE,[b.default.VALUE,b.default.ID]),E(B,b.default.RATING,[b.default.VALUE,b.default.ID]),E(B,b.default.VIEWPOINT,[b.default.VALUE,b.default.ID]),E(B,b.default.CONTENT_COMPONENT,[b.default.CONTENT_TYPE]),E(B,b.default.REPRESENTATION,[b.default.ID,b.default.DEPENDENCY_ID,b.default.MEDIA_STREAM_STRUCTURE_ID]),E(B,b.default.SUBSET,[b.default.ID]),E(B,b.default.METRICS,[b.default.METRICS_MINUS]),E(B,b.default.REPORTING,[b.default.VALUE,b.default.ID]),B);if(Y.hasOwnProperty(C)){var q=Y[C];return void 0!==q&&q.indexOf(N.name)>=0}return!1},function(N){return String(N)})}return function L(x,P,T){return P&&F(x.prototype,P),T&&F(x,T),Object.defineProperty(x,"prototype",{writable:!1}),x}(T)}(t.default)},"./src/dash/parser/objectiron.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/objectiron.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(F){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(F)}function w(F){function L(g,y){for(var M in g)y.hasOwnProperty(M)||(y[M]=g[M])}function D(g,y,M){for(var U=0,R=g.length;U<R;++U){var V=g[U];if(y[V.name])if(M[V.name]){if(V.merge){var k=y[V.name],O=M[V.name];"object"===b(k)&&"object"===b(O)?L(k,O):M[V.name]=k+O}}else M[V.name]=y[V.name]}}function p(g,y){for(var M=0,U=g.children.length;M<U;++M){var R=g.children[M],V=y[R.name+"_asArray"];if(V)for(var k=0,O=V.length;k<O;++k){var x=V[k];D(g.properties,y,x),p(R,x)}}}return{run:function f(g){if(null===g||"object"!==b(g))return g;if(g.Period_asArray&&"period"in F)for(var y=F.period,M=g.Period_asArray,U=0,R=M.length;U<R;++U){var V=M[U];if(p(y,V),"adaptationset"in F){var k=V.AdaptationSet_asArray;if(k)for(var O=F.adaptationset,x=0,P=k.length;x<P;++x)p(O,k[x])}}return g}}}w.__dashjs_factory_name="ObjectIron";var E=t.default.getClassFactory(w);S.default=E},"./src/dash/utils/ListSegmentsGetter.js":
/*!**********************************************!*\
                  !*** ./src/dash/utils/ListSegmentsGetter.js ***!
                  \**********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function E(L,D){var p=(L=L||{}).timelineConverter;function g(){if(!p||!p.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(b.default.MISSING_CONFIG_ERROR)}function M(R,V){if(g(),!R)return null;var k=R.adaptation.period.mpd.manifest.Period_asArray[R.adaptation.period.index].AdaptationSet_asArray[R.adaptation.index].Representation_asArray[R.index].SegmentList,O=k.SegmentURL_asArray.length,x=R&&!isNaN(R.startNumber)?R.startNumber:1,P=Math.max(x-1,0),T=Math.max(V-P,0),N=null;if(T<O){var C=k.SegmentURL_asArray[T];(N=Object(w.getIndexBasedSegment)(p,D,R,V))&&(N.replacementTime=(x+V-1)*R.segmentDuration,N.media=C.media?C.media:"",N.mediaRange=C.mediaRange,N.indexRange=C.indexRange)}return N}return{getSegmentByIndex:M,getSegmentByTime:function U(R,V){if(g(),!R)return null;var k=R.segmentDuration;if(isNaN(k))return null;var O=p.calcPeriodRelativeTimeFromMpdRelativeTime(R,V);return M(R,Math.floor(O/k))},getMediaFinishedInformation:function y(R){var V={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!R)return V;var k=R.adaptation.period.mpd.manifest.Period_asArray[R.adaptation.period.index].AdaptationSet_asArray[R.adaptation.index].Representation_asArray[R.index].SegmentList,O=R&&!isNaN(R.startNumber)?R.startNumber:1,x=Math.max(O-1,0);return V.numberOfSegments=x+k.SegmentURL_asArray.length,V}}}E.__dashjs_factory_name="ListSegmentsGetter";var F=t.default.getClassFactory(E);S.default=F},"./src/dash/utils/Round10.js":
/*!***********************************!*\
                  !*** ./src/dash/utils/Round10.js ***!
                  \***********************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,F(M.key),M)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==t(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S),c.d(S,"default",function(){return D});var D=function(){function f(){!function b(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f)}return function E(f,g,y){return g&&w(f.prototype,g),y&&w(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,null,[{key:"round10",value:function(y,M){return function p(f,g,y){return typeof y>"u"||0==+y?Math[f](g):(y=+y,null===(g=+g)||isNaN(g)||"number"!=typeof y||y%1!=0?NaN:(g=g.toString().split("e"),+((g=(g=Math[f](+(g[0]+"e"+(g[1]?+g[1]-y:-y)))).toString().split("e"))[0]+"e"+(g[1]?+g[1]+y:y))))}("round",y,M)}}]),f}()},"./src/dash/utils/SegmentBaseGetter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/SegmentBaseGetter.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js");function w(F){var L=(F=F||{}).timelineConverter;function p(){if(!L||!L.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(b.default.MISSING_CONFIG_ERROR)}function g(U,R){if(p(),!U)return null;var k,V=U.segments?U.segments.length:-1;if(R<V&&(k=U.segments[R])&&k.index===R)return k;for(var O=0;O<V;O++)if((k=U.segments[O])&&k.index===R)return k;return null}return{getSegmentByIndex:g,getSegmentByTime:function y(U,R){return p(),g(U,function M(U,R){if(!U)return-1;var x,P,T,N,C,V=U.segments,k=V?V.length:null,O=-1;if(V&&k>0)for(C=0;C<k;C++)if(R+(x=(N=(P=V[C]).duration)/2)>=(T=P.presentationStartTime)&&R-x<T+N){O=P.index;break}return O}(U,R))},getMediaFinishedInformation:function f(U){var R={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return!U||!U.segments||(R.numberOfSegments=U.segments.length),R}}}w.__dashjs_factory_name="SegmentBaseGetter";var E=t.default.getClassFactory(w);S.default=E},"./src/dash/utils/SegmentsUtils.js":
/*!*****************************************!*\
                  !*** ./src/dash/utils/SegmentsUtils.js ***!
                  \*****************************************/
/*! exports provided: unescapeDollarsInTemplate, replaceIDForTemplate, replaceTokenForTemplate, getIndexBasedSegment, getTimeBasedSegment */function(tt,S,c){"use strict";c.r(S),c.d(S,"unescapeDollarsInTemplate",function(){return E}),c.d(S,"replaceIDForTemplate",function(){return F}),c.d(S,"replaceTokenForTemplate",function(){return L}),c.d(S,"getIndexBasedSegment",function(){return f}),c.d(S,"getTimeBasedSegment",function(){return g});var t=c(
/*! ./../vo/Segment */
"./src/dash/vo/Segment.js");function b(y,M){for(;y.length<M;)y="0"+y;return y}function E(y){return y&&y.split("$$").join("$")}function F(y,M){if(!M||!y||-1===y.indexOf("$RepresentationID$"))return y;var U=M.toString();return y.split("$RepresentationID$").join(U)}function L(y,M,U){var V,k,O,x,P,T,N=M.length;if(!y)return y;for(;;){if((V=y.indexOf("$"+M))<0||(k=y.indexOf("$",V+N))<0)return y;if((O=y.indexOf("%0",V+N))>V&&O<k)switch(x=y.charAt(k-1),P=parseInt(y.substring(O+2,k-1),10),x){case"d":case"i":case"u":T=b(U.toString(),P);break;case"x":T=b(U.toString(16),P);break;case"X":T=b(U.toString(16),P).toUpperCase();break;case"o":T=b(U.toString(8),P);break;default:return y}else T=U;y=y.substring(0,V)+T+y.substring(k+1)}}function D(y,M,U,R,V,k,O,x){var P=new t.default;return P.representation=y,P.duration=M,P.presentationStartTime=U,P.mediaStartTime=R,P.availabilityStartTime=V.calcAvailabilityStartTimeFromPresentationTime(k,y,O),P.availabilityEndTime=V.calcAvailabilityEndTimeFromPresentationTime(k+M,y,O),P.wallStartTime=V.calcWallTimeForSegment(P,O),P.replacementNumber=function w(y,M){return y.representation.startNumber+M}(P,x),P.index=x,P}function p(y,M,U,R){var V=M.adaptation.period;if(isFinite(V.duration)&&V.start+V.duration<=U.presentationStartTime)return!1;if(R){if("INF"===M.availabilityTimeOffset)return!0;var k=y.getClientReferenceTime();return U.availabilityStartTime.getTime()<=k&&(!isFinite(U.availabilityEndTime)||U.availabilityEndTime.getTime()>=k)}return!0}function f(y,M,U,R){var V,k,O;V=U.segmentDuration,isNaN(V)&&(V=U.adaptation.period.duration),k=parseFloat((U.adaptation.period.start+R*V).toFixed(5)),O=parseFloat((k+V).toFixed(5));var P=D(U,V,k,y.calcMediaTimeFromPresentationTime(k,U),y,O,M,R);return p(y,U,P,M)?P:null}function g(y,M,U,R,V,k,O,x,P,T){var B,q,N=R/k,C=V/k;return B=y.calcPresentationTimeFromMediaTime(N,U),p(y,U,q=D(U,C,B,N,y,B+C,M,P),M)?(q.replacementTime=T||R,O=L(O,"Number",q.replacementNumber),O=L(O,"Time",q.replacementTime),q.media=O,q.mediaRange=x,q):null}},"./src/dash/utils/TemplateSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TemplateSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function E(L,D){var p=(L=L||{}).timelineConverter;function g(){if(!p||!p.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(b.default.MISSING_CONFIG_ERROR)}function M(R,V){if(g(),!R)return null;var k=R.adaptation.period.mpd.manifest.Period_asArray[R.adaptation.period.index].AdaptationSet_asArray[R.adaptation.index].Representation_asArray[R.index].SegmentTemplate;V=Math.max(V,0);var O=Object(w.getIndexBasedSegment)(p,D,R,V);if(O){O.replacementTime=Math.round((V-1)*R.segmentDuration*R.timescale,10);var x=k.media;x=Object(w.replaceTokenForTemplate)(x,"Number",O.replacementNumber),x=Object(w.replaceTokenForTemplate)(x,"Time",O.replacementTime),O.media=x}return O}return{getSegmentByIndex:M,getSegmentByTime:function U(R,V){if(g(),!R)return null;var k=R.segmentDuration;if(isNaN(k))return null;var O=p.calcPeriodRelativeTimeFromMpdRelativeTime(R,V);return M(R,Math.floor(O/k))},getMediaFinishedInformation:function y(R){var V={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!R)return V;var k=R.segmentDuration;return V.numberOfSegments=isNaN(k)?1:Math.ceil(R.adaptation.period.duration/k),V}}}E.__dashjs_factory_name="TemplateSegmentsGetter";var F=t.default.getClassFactory(E);S.default=F},"./src/dash/utils/TimelineConverter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/TimelineConverter.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=c(
/*! ../models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),L=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),D=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),p=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=c(
/*! ../../streaming/constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function g(){var R,V,k,O,y=this.context,M=Object(t.default)(y).getInstance(),U=Object(L.default)(y).getInstance();function N(ke){O=ke}function B(ke,we,He,at){var Je,Ne=we.adaptation.period.mpd,Te=Ne.availabilityStartTime;if(at)Je=He&&Ne.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(Te.getTime()+1e3*(ke+Ne.timeShiftBufferDepth)):Ne.availabilityEndTime;else if(He){var W=we.availabilityTimeOffset;Je=new Date(Te.getTime()+1e3*(ke-W))}else Je=Te;return Je}function le(ke,we){return(ke.getTime()-we.mpd.availabilityStartTime.getTime()+1e3*O)/1e3}function Fe(ke,we){return ke+(we.adaptation.period.start-we.presentationTimeOffset)}function he(ke){var we={start:NaN,end:NaN},He=ke[0].getAdapter().getRegularPeriods()[0],at=le(new Date,He);if(!ke||0===ke.length)return{range:we,now:at};ke.forEach(function(Ne){var Te=Ne.getAdapter(),W=Te.getMediaInfoForType(Ne.getStreamInfo(),D.default.VIDEO)||Te.getMediaInfoForType(Ne.getStreamInfo(),D.default.AUDIO),_e=Te.getVoRepresentations(W)[0],J={start:NaN,end:NaN};if(_e)if(_e.segmentInfoType===E.default.SEGMENT_TIMELINE)J=function fe(ke){var se,_e,J,Q,He=V.getRepresentationFor(ke.index,ke.adaptation.period.mpd.manifest.Period_asArray[ke.adaptation.period.index].AdaptationSet_asArray[ke.adaptation.index]),Je=He.SegmentTemplate.timescale,Ne=He.SegmentTemplate.SegmentTimeline.S_asArray,Te={start:0,end:0},W=0;for(Te.start=Fe(Ne[0].t/Je,ke),J=0,Q=Ne.length;J<Q;J++)_e=0,(se=Ne[J]).hasOwnProperty("r")&&(_e=se.r),W+=se.d*(1+_e);return Te.end=Fe((Ne[0].t+W)/Je,ke),Te}(_e);else{var Q=_e.adaptation.period;J.start=Q.start,J.end=Math.max(at,Q.start+Q.duration)}!isNaN(J.start)&&(isNaN(we.start)||we.start>J.start)&&(we.start=J.start),!isNaN(J.end)&&(isNaN(we.end)||we.end<J.end)&&(we.end=J.end)}),we.end=Math.min(at,we.end);var Je=Le(ke,we.end,!0);return we.end=isNaN(Je)?we.end:Je,we.start=He&&He.mpd&&He.mpd.timeShiftBufferDepth&&!isNaN(He.mpd.timeShiftBufferDepth)&&!isNaN(we.end)?Math.max(we.end-He.mpd.timeShiftBufferDepth,we.start):we.start,we.start=Le(ke,we.start),{range:we,now:at}}function Ce(ke,we){k=ke-we.end}function Le(ke,we){var He=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var at=0,Je=!1,Ne=NaN;!Je&&at<ke.length;){var Te=ke[at].getStreamInfo();Te.start<=we&&(!isFinite(Te.duration)||Te.start+Te.duration>=we)?(Ne=we,Je=!0):!He&&Te.start>we&&(isNaN(Ne)||Te.start<Ne)?Ne=Te.start:He&&Te.start+Te.duration<we&&(isNaN(Ne)||Te.start+Te.duration>Ne)&&(Ne=Te.start+Te.duration),at+=1}return Ne}catch{return we}}function Ae(ke){void 0!==ke.offset&&!isNaN(ke.offset)&&N(ke.offset/1e3)}function pe(){O=0,k=0}function Ue(){M.off(b.default.UPDATE_TIME_SYNC_OFFSET,Ae,this),pe()}return R={initialize:function P(){pe(),M.on(b.default.UPDATE_TIME_SYNC_OFFSET,Ae,this)},getClientTimeOffset:function T(){return O},setClientTimeOffset:N,getClientReferenceTime:function C(){return Date.now()-1e3*k+1e3*O},calcAvailabilityStartTimeFromPresentationTime:function Y(ke,we,He){return B(ke,we,He)},calcAvailabilityEndTimeFromPresentationTime:function q(ke,we,He){return B(ke,we,He,!0)},calcPresentationTimeFromWallTime:le,calcPresentationTimeFromMediaTime:Fe,calcPeriodRelativeTimeFromMpdRelativeTime:function Re(ke,we){return we-ke.adaptation.period.start},calcMediaTimeFromPresentationTime:function $(ke,we){return ke-we.adaptation.period.start+we.presentationTimeOffset},calcWallTimeForSegment:function ae(ke,we){var at,Je;return we&&(at=ke.presentationStartTime+ke.representation.adaptation.period.mpd.suggestedPresentationDelay,Je=new Date(ke.availabilityStartTime.getTime()+1e3*at)),Je},calcTimeShiftBufferWindow:function K(ke,we){if(!we)return function ge(ke){var we={start:NaN,end:NaN},He=0,at=NaN;return ke.forEach(function(Je){var Ne=Je.getStreamInfo();He+=Ne.duration,(isNaN(at)||Ne.start<at)&&(at=Ne.start)}),we.start=at,we.end=at+He,we}(ke);if(U.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var He=he(ke);return Ce(He.now,He.range),He.range}return function oe(ke){var we={start:NaN,end:NaN};if(!ke||0===ke.length)return we;var He=ke[0].getAdapter().getRegularPeriods()[0],at=le(new Date,He),Je=He.mpd.timeShiftBufferDepth,Ne=isNaN(Je)?0:at-Je;if(we.start=Le(ke,Ne),we.end=!isNaN(we.start)&&at<we.start?at:Le(ke,at,!0),!isNaN(Je)&&we.end<at-Je&&(we.end=NaN),U.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var Te=he(ke);if(Te.range.end<we.start)return M.trigger(p.default.CONFORMANCE_VIOLATION,{level:f.default.LEVELS.WARNING,event:f.default.EVENTS.INVALID_DVR_WINDOW}),Ce(Te.now,Te.range),Te.range}return we}(ke)},reset:Ue},function x(){V=Object(F.default)(y).getInstance(),Ue()}(),R}g.__dashjs_factory_name="TimelineConverter",S.default=w.default.getSingletonFactory(g)},"./src/dash/utils/TimelineSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TimelineSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function E(L,D){var p=(L=L||{}).timelineConverter,f=L.dashMetrics;function y(){if(!p)throw new Error(b.default.MISSING_CONFIG_ERROR)}function U(x,P){var q,le,Fe,$,ae,K,ge,T=x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentTemplate||x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentList,C=T.SegmentURL_asArray,B=0,Y=-1;ge=x.timescale;var oe=!1;for(Fe=0,$=(q=T.SegmentTimeline.S_asArray).length;Fe<$&&!oe;Fe++)for(K=0,(le=q[Fe]).hasOwnProperty("r")&&(K=le.r),le.hasOwnProperty("t")&&(B=le.t),K<0&&(K=R(x,q[Fe+1],le,ge,B/ge)),ae=0;ae<=K&&!oe;ae++)(oe=P(B,T,C,le,ge,++Y,Fe))&&(x.segmentDuration=le.d/ge),B+=le.d}function R(x,P,T,N,C){var B;if(P&&P.hasOwnProperty("t"))B=P.t/N;else try{var Y=0;if(isNaN(x.adaptation.period.start)||isNaN(x.adaptation.period.duration)||!isFinite(x.adaptation.period.duration)){var q=f.getCurrentDVRInfo();Y=isNaN(q.end)?0:q.end}else Y=x.adaptation.period.start+x.adaptation.period.duration;B=p.calcMediaTimeFromPresentationTime(Y,x),x.segmentDuration=T.d/N}catch{B=0}return Math.max(Math.ceil((B-C)/(T.d/N))-1,0)}return{getSegmentByIndex:function V(x,P,T){if(y(),!x)return null;var N=null,C=!1;return U(x,function(B,Y,q,le,Fe,$,ae){if(C||T<0){var K=Y.media,ge=le.mediaRange;return q&&(K=q[ae].media||"",ge=q[ae].mediaRange),N=Object(w.getTimeBasedSegment)(p,D,x,B,le.d,Fe,K,ge,$,le.tManifest),!0}return B>=T*Fe-.5*le.d&&(C=!0),!1}),N},getSegmentByTime:function k(x,P){if(y(),!x)return null;void 0===P&&(P=null);var T=null,N=p.calcMediaTimeFromPresentationTime(P,x);return U(x,function(C,B,Y,q,le,Fe,$){var ae=function O(x){return parseFloat(x.toPrecision(15))}(N*le);if(ae<C+q.d&&ae>=C){var K=B.media,ge=q.mediaRange;return Y&&(K=Y[$].media||"",ge=Y[$].mediaRange),T=Object(w.getTimeBasedSegment)(p,D,x,C,q.d,le,K,ge,Fe,q.tManifest),!0}return!1}),T},getMediaFinishedInformation:function M(x){if(!x)return 0;var Y,q,le,Fe,$,ae,K,N=0,C=0,B=0;for(K=x.timescale,Fe=(Y=(x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentTemplate||x.adaptation.period.mpd.manifest.Period_asArray[x.adaptation.period.index].AdaptationSet_asArray[x.adaptation.index].Representation_asArray[x.index].SegmentList).SegmentTimeline.S_asArray).length,le=0;le<Fe;le++)for(ae=0,(q=Y[le]).hasOwnProperty("r")&&(ae=q.r),q.hasOwnProperty("t")&&(C=(N=q.t)/K),ae<0&&(ae=R(x,Y[le+1],q,K,C)),$=0;$<=ae;$++)B++,C=(N+=q.d)/K;return{numberOfSegments:B,mediaTimeOfLastSignaledSegment:C}}}}E.__dashjs_factory_name="TimelineSegmentsGetter";var F=t.default.getClassFactory(E);S.default=F},"./src/dash/vo/AdaptationSet.js":
/*!**************************************!*\
                  !*** ./src/dash/vo/AdaptationSet.js ***!
                  \**************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.period=null,this.index=-1,this.type=null})},"./src/dash/vo/BaseURL.js":
/*!********************************!*\
                  !*** ./src/dash/vo/BaseURL.js ***!
                  \********************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function b(g,y){for(var M=0;M<y.length;M++){var U=y[M];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(g,E(U.key),U)}}function w(g,y,M){return y&&b(g.prototype,y),M&&b(g,M),Object.defineProperty(g,"prototype",{writable:!1}),g}function E(g){var y=function F(g,y){if("object"!==t(g)||null===g)return g;var M=g[Symbol.toPrimitive];if(void 0!==M){var U=M.call(g,y||"default");if("object"!==t(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===y?String:Number)(g)}(g,"string");return"symbol"===t(y)?y:String(y)}c.r(S);var f=w(function g(y,M,U,R){(function L(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,g),this.url=y||"",this.serviceLocation=M||y||"",this.dvb_priority=U||1,this.dvb_weight=R||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0});f.DEFAULT_DVB_PRIORITY=1,f.DEFAULT_DVB_WEIGHT=1,S.default=f},"./src/dash/vo/ContentSteering.js":
/*!****************************************!*\
                  !*** ./src/dash/vo/ContentSteering.js ***!
                  \****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null})},"./src/dash/vo/ContentSteeringRequest.js":
/*!***********************************************!*\
                  !*** ./src/dash/vo/ContentSteeringRequest.js ***!
                  \***********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function b(f){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,F(M.key),M)}}function E(f,g,y){return g&&w(f.prototype,g),y&&w(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}function F(f){var g=function L(f,g){if("object"!==b(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==b(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===b(g)?g:String(g)}S.default=E(function f(g){(function D(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.url=g||null,this.type=t.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"})},"./src/dash/vo/ContentSteeringResponse.js":
/*!************************************************!*\
                  !*** ./src/dash/vo/ContentSteeringResponse.js ***!
                  \************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]})},"./src/dash/vo/Event.js":
/*!******************************!*\
                  !*** ./src/dash/vo/Event.js ***!
                  \******************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN})},"./src/dash/vo/EventStream.js":
/*!************************************!*\
                  !*** ./src/dash/vo/EventStream.js ***!
                  \************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0})},"./src/dash/vo/ManifestInfo.js":
/*!*************************************!*\
                  !*** ./src/dash/vo/ManifestInfo.js ***!
                  \*************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null})},"./src/dash/vo/MediaInfo.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/MediaInfo.js ***!
                  \**********************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}})},"./src/dash/vo/Mpd.js":
/*!****************************!*\
                  !*** ./src/dash/vo/Mpd.js ***!
                  \****************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN})},"./src/dash/vo/PatchOperation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/PatchOperation.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,F(y.key),y)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(f,g,y){(function b(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.action=f,this.xpath=g,this.value=y,this.position=null}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"getMpdTarget",value:function(g){return this.xpath.getMpdTarget(g,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}]),p}()},"./src/dash/vo/Period.js":
/*!*******************************!*\
                  !*** ./src/dash/vo/Period.js ***!
                  \*******************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S);var D=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null});D.DEFAULT_ID="defaultId",S.default=D},"./src/dash/vo/ProducerReferenceTime.js":
/*!**********************************************!*\
                  !*** ./src/dash/vo/ProducerReferenceTime.js ***!
                  \**********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null})},"./src/dash/vo/Representation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/Representation.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function b(f){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function E(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,L(M.key),M)}}function L(f){var g=function D(f,g){if("object"!==b(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==b(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===b(g)?g:String(g)}S.default=function(){function f(){(function w(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return function F(f,g,y){return g&&E(f.prototype,g),y&&E(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==t.default.BASE_URL&&this.segmentInfoType!==t.default.SEGMENT_BASE&&!this.indexRange}}]),f}()},"./src/dash/vo/RepresentationInfo.js":
/*!*******************************************!*\
                  !*** ./src/dash/vo/RepresentationInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null})},"./src/dash/vo/Segment.js":
/*!********************************!*\
                  !*** ./src/dash/vo/Segment.js ***!
                  \********************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null})},"./src/dash/vo/SimpleXPath.js":
/*!************************************!*\
                  !*** ./src/dash/vo/SimpleXPath.js ***!
                  \************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,F(y.key),y)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(f){var g=this;(function b(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.valid="/"==f[0],this.path=f.split("/").filter(function(y){return 0!==y.length}).map(function(y){var M={name:y},U=y.indexOf("[");if(-1!=U){M.name=y.substring(0,U);var R=y.substring(U+1,y.length-1);g.valid=g.valid&&-1==R.indexOf("[");var V=R.indexOf("=");-1!=V?(M.attribute={name:R.substring(1,V),value:R.substring(V+1)},-1!=["'",'"'].indexOf(M.attribute.value[0])&&(M.attribute.value=M.attribute.value.substring(1,M.attribute.value.length-1))):M.position=parseInt(R,10)-1}return M})}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(g,y){for(var M=null,U=g,R=1,V="MPD";R<this.path.length&&null!==U;){M=U;var k=this.path[R];if(V=k.name,R!==this.path.length-1||!V.startsWith("@")){var O=M[V+"_asArray"]||[];0===O.length&&M[V]&&O.push(M[V]),k.position?U=O[k.position]||null:k.attribute?function(){var x=k.attribute;U=O.filter(function(P){return P[x.name]==x.value})[0]||null}():U=O[0]||null}R++}return null===U?null:V.startsWith("@")?{name:V.substring(1),leaf:U,target:U}:{name:V,leaf:U,target:y?M:U}}}]),p}()},"./src/dash/vo/StreamInfo.js":
/*!***********************************!*\
                  !*** ./src/dash/vo/StreamInfo.js ***!
                  \***********************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0})},"./src/dash/vo/UTCTiming.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/UTCTiming.js ***!
                  \**********************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.schemeIdUri="",this.value=""})},"./src/streaming/FragmentLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/FragmentLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),w=c(
/*! ./vo/HeadRequest */
"./src/streaming/vo/HeadRequest.js"),E=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js");function L(D){var R,V,p=this.context,f=(D=D||{}).eventBus,g=D.events,y=D.urlUtils,M=D.errors,U=D.streamId;return R={checkForExistence:function O(N){var C=function(q){f.trigger(g.CHECK_FOR_EXISTENCE_COMPLETED,{request:N,exists:q})};if(N){var B=new w.default(N.url);V.load({request:B,success:function(){C(!0)},error:function(){C(!1)}})}else C(!1)},load:function x(N){var C=function(Y,q){f.trigger(g.LOADING_COMPLETED,{request:N,response:Y||null,error:q||null,sender:R})};N?V.load({request:N,progress:function(Y){f.trigger(g.LOADING_PROGRESS,{request:N,stream:Y.stream,streamId:U}),Y.data&&f.trigger(g.LOADING_DATA_PROGRESS,{request:N,response:Y.data||null,error:null,sender:R})},success:function(Y){C(Y)},error:function(Y,q,le){C(void 0,new E.default(M.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,le,q))},abort:function(Y){Y&&f.trigger(g.LOADING_ABANDONED,{mediaType:Y.mediaType,request:Y,sender:R})}}):C(void 0,new E.default(M.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,M.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function P(){V&&V.abort()},reset:function T(){V&&(V.abort(),V=null)}},function k(){V=Object(b.default)(p).create({errHandler:D.errHandler,errors:M,dashMetrics:D.dashMetrics,mediaPlayerModel:D.mediaPlayerModel,requestModifier:D.requestModifier,urlUtils:y,constants:t.default,boxParser:D.boxParser,dashConstants:D.dashConstants,requestTimeout:D.settings.get().streaming.fragmentRequestTimeout})}(),R}L.__dashjs_factory_name="FragmentLoader",S.default=F.default.getClassFactory(L)},"./src/streaming/ManifestLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/ManifestLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),w=c(
/*! ./controllers/XlinkController */
"./src/streaming/controllers/XlinkController.js"),E=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),F=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),L=c(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),D=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),p=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),f=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),g=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),y=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),M=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),U=c(
/*! ../dash/parser/DashParser */
"./src/dash/parser/DashParser.js");function R(k){var C,B,Y,q,le,O=this.context,x=(k=k||{}).debug,P=k.settings,T=Object(f.default)(O).getInstance(),N=Object(F.default)(O).getInstance(),Fe=k.mssHandler,$=k.errHandler;function K(Ce){T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:Ce.manifest})}return C={load:function oe(Ce){var Le=new L.default(Ce,p.HTTPRequest.MPD_TYPE);Y.load({request:Le,success:function(Re,Ae,pe){if(q){var Ue,ke,we;if(pe&&pe!==Ce?(ke=N.parseBaseUrl(pe),Ue=pe):(N.isRelative(Ce)&&(Ce=N.resolve(Ce,window.location.href)),ke=N.parseBaseUrl(Ce)),"No Content"==Ae)return void T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null});if(null===le&&(le=function ge(Ce){var Le=null;return Ce.indexOf("SmoothStreamingMedia")>-1?(Fe&&(Le=Fe.createMssParser(),Fe.registerEvents()),Le):Ce.indexOf("MPD")>-1||Ce.indexOf("Patch")>-1?Object(U.default)(O).create({debug:x}):Le}(Re)),null===le)return void T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(y.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,y.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Ce))});q.setMatchers(le.getMatchers()),q.setIron(le.getIron());try{we=le.parse(Re)}catch{return void T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(y.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,y.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Ce))})}if(we){if(we.url=Ue||Ce,we.originalUrl||(we.originalUrl=we.url),we.hasOwnProperty(t.default.LOCATION)&&(ke=N.parseBaseUrl(we.Location_asArray[0]),B.debug("BaseURI set by Location to: "+ke)),P&&P.get().streaming.enableManifestDurationMismatchFix&&we.mediaPresentationDuration&&we.Period_asArray.length>1){var He=we.Period_asArray.reduce(function(at,Je){return at+Je.duration},0);!isNaN(He)&&we.mediaPresentationDuration>He&&(B.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),we.mediaPresentationDuration=He)}we.baseUri=ke,we.loadedTime=new Date,q.resolveManifestOnLoad(we),T.trigger(g.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:Re})}else T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(y.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,y.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Ce))})}},error:function(Re,Ae,pe){T.trigger(g.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(y.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,y.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(Ce,", ").concat(pe))})}})},reset:function he(){T.off(g.default.XLINK_READY,K,C),Fe&&Fe.reset(),q&&(q.reset(),q=null),Y&&(Y.abort(),Y=null)}},function ae(){B=x.getLogger(C),T.on(g.default.XLINK_READY,K,C),Y=Object(E.default)(O).create({errHandler:k.errHandler,dashMetrics:k.dashMetrics,mediaPlayerModel:k.mediaPlayerModel,requestModifier:k.requestModifier,urlUtils:N,constants:t.default,dashConstants:b.default,errors:y.default,requestTimeout:k.settings.get().streaming.manifestRequestTimeout}),q=Object(w.default)(O).create({errHandler:$,dashMetrics:k.dashMetrics,mediaPlayerModel:k.mediaPlayerModel,requestModifier:k.requestModifier,settings:k.settings}),le=null}(),C}R.__dashjs_factory_name="ManifestLoader";var V=M.default.getClassFactory(R);S.default=V},"./src/streaming/ManifestUpdater.js":
/*!******************************************!*\
                  !*** ./src/streaming/ManifestUpdater.js ***!
                  \******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),E=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../core/Debug */
"./src/core/Debug.js"),L=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),D=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),p=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function f(){var U,R,V,k,O,x,P,T,N,C,B,Y,g=this.context,y=Object(t.default)(g).getInstance(),M=Object(p.default)(g).getInstance();function ae(){V=NaN,P=!1,O=!0,x=!1,ge()}function ge(){null!==k&&(clearTimeout(k),k=null)}function oe(ke){ge(),!x&&(isNaN(ke)&&!isNaN(V)&&(ke=1e3*V),isNaN(ke)||(R.debug("Refresh manifest in "+ke+" milliseconds."),k=setTimeout(Le,ke)))}function he(){var ke=arguments.length>0&&void 0!==arguments[0]&&arguments[0];P=!0;var we=N.getValue(),He=we.url,at=C.getPatchLocation(we),Je=C.getLocation(we);at&&!ke?He=at:Je&&(He=Je),M.isRelative(He)&&(He=M.resolve(He,we.url)),T.load(He)}function Ce(ke){if(ke){if(C.getIsPatch(ke)){var we=ke;ke=N.getValue();var He=C.isPatchValid(ke,we),at=He;if(He){var Je=C.getPublishTime(ke);at=C.applyPatchToManifest(ke,we);var Ne=C.getPublishTime(ke);at=Je.getTime()!=Ne.getTime()}if(!at)return R.debug("Patch provided is invalid, performing full manifest refresh"),void he(!0);ke.loadedTime=new Date}}else(ke=N.getValue()).loadedTime=new Date;if(N.getValue()&&N.getValue().type===D.default.DYNAMIC&&ke.type===D.default.STATIC)return y.trigger(b.default.DYNAMIC_TO_STATIC),P=!1,void(x=!0);N.setValue(ke);var Te=new Date,W=(Te.getTime()-ke.loadedTime.getTime())/1e3;1e3*(V=C.getManifestUpdatePeriod(ke,W))>2147483647&&(V=2147483.647),y.trigger(b.default.MANIFEST_UPDATED,{manifest:ke}),R.info("Manifest has been refreshed at "+Te+"["+Te.getTime()/1e3+"] "),O||oe()}function Le(){if(!O){if(P)return void oe(Y.get().streaming.manifestUpdateRetryInterval);he()}}function fe(ke){ke.error?ke.error.code===L.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&B.error(ke.error):Ce(ke.manifest)}function Re(){O=!1,oe()}function Ae(){(O=!Y.get().streaming.scheduling.scheduleWhilePaused)&&ge()}function pe(){P=!1}return U={initialize:function Fe(){ae(),y.on(b.default.STREAMS_COMPOSED,pe,this),y.on(w.default.PLAYBACK_STARTED,Re,this),y.on(w.default.PLAYBACK_PAUSED,Ae,this),y.on(b.default.INTERNAL_MANIFEST_LOADED,fe,this)},setManifest:function $(ke){Ce(ke)},refreshManifest:he,getIsUpdating:function Ue(){return P},setConfig:function le(ke){ke&&(ke.manifestModel&&(N=ke.manifestModel),ke.adapter&&(C=ke.adapter),ke.manifestLoader&&(T=ke.manifestLoader),ke.errHandler&&(B=ke.errHandler),ke.settings&&(Y=ke.settings))},reset:function K(){y.off(w.default.PLAYBACK_STARTED,Re,this),y.off(w.default.PLAYBACK_PAUSED,Ae,this),y.off(b.default.STREAMS_COMPOSED,pe,this),y.off(b.default.INTERNAL_MANIFEST_LOADED,fe,this),ae()}},function q(){R=Object(F.default)(g).getInstance().getLogger(U)}(),U}f.__dashjs_factory_name="ManifestUpdater",S.default=E.default.getClassFactory(f)},"./src/streaming/MediaPlayer.js":
/*!**************************************!*\
                  !*** ./src/streaming/MediaPlayer.js ***!
                  \**************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../externals/cea608-parser */
"./externals/cea608-parser.js"),b=c.n(t),w=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=c(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),L=c(
/*! ./controllers/PlaybackController */
"./src/streaming/controllers/PlaybackController.js"),D=c(
/*! ./controllers/StreamController */
"./src/streaming/controllers/StreamController.js"),p=c(
/*! ./controllers/GapController */
"./src/streaming/controllers/GapController.js"),f=c(
/*! ./controllers/CatchupController */
"./src/streaming/controllers/CatchupController.js"),g=c(
/*! ../dash/controllers/ServiceDescriptionController */
"./src/dash/controllers/ServiceDescriptionController.js"),y=c(
/*! ../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js"),M=c(
/*! ./controllers/MediaController */
"./src/streaming/controllers/MediaController.js"),U=c(
/*! ./controllers/BaseURLController */
"./src/streaming/controllers/BaseURLController.js"),R=c(
/*! ./ManifestLoader */
"./src/streaming/ManifestLoader.js"),V=c(
/*! ./utils/ErrorHandler */
"./src/streaming/utils/ErrorHandler.js"),k=c(
/*! ./utils/Capabilities */
"./src/streaming/utils/Capabilities.js"),O=c(
/*! ./utils/CapabilitiesFilter */
"./src/streaming/utils/CapabilitiesFilter.js"),x=c(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),P=c(
/*! ./models/URIFragmentModel */
"./src/streaming/models/URIFragmentModel.js"),T=c(
/*! ./models/ManifestModel */
"./src/streaming/models/ManifestModel.js"),N=c(
/*! ./models/MediaPlayerModel */
"./src/streaming/models/MediaPlayerModel.js"),C=c(
/*! ./controllers/AbrController */
"./src/streaming/controllers/AbrController.js"),B=c(
/*! ./net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js"),Y=c(
/*! ./models/VideoModel */
"./src/streaming/models/VideoModel.js"),q=c(
/*! ./models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),le=c(
/*! ./utils/DOMStorage */
"./src/streaming/utils/DOMStorage.js"),Fe=c(
/*! ./../core/Debug */
"./src/core/Debug.js"),$=c(
/*! ./../core/errors/Errors */
"./src/core/errors/Errors.js"),ae=c(
/*! ./../core/EventBus */
"./src/core/EventBus.js"),K=c(
/*! ./../core/events/Events */
"./src/core/events/Events.js"),ge=c(
/*! ./MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),oe=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),he=c(
/*! ../core/Settings */
"./src/core/Settings.js"),Ce=c(
/*! ../core/Version */
"./src/core/Version.js"),Le=c(
/*! ../dash/controllers/SegmentBaseController */
"./src/dash/controllers/SegmentBaseController.js"),fe=c(
/*! ../dash/DashAdapter */
"./src/dash/DashAdapter.js"),Re=c(
/*! ../dash/DashMetrics */
"./src/dash/DashMetrics.js"),Ae=c(
/*! ../dash/utils/TimelineConverter */
"./src/dash/utils/TimelineConverter.js"),pe=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),Ue=c(
/*! ../../externals/base64 */
"./externals/base64.js"),ke=c.n(Ue),we=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),He=c.n(we),at=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),Je=c(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),Ne=c(
/*! ./ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),Te=c(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),W=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),se=c(
/*! ./text/TextController */
"./src/streaming/text/TextController.js"),_e=c(
/*! ./models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function J(){var Ke,Ve,lt,dt,it,bt,Ut,wt,Ht,en,ln,cn,Wt,Sn,nn,Dt,mt,Qe,De,Pe,Ye,Ze,ct,st,ut,kt,$t,Lt,Jt,an,fn,Mn,Nn,Wn,Gn,fi,_n,Z="You must first call initialize() and set a source before calling this method",ne="You must first call initialize() and set a valid source and view before calling this method",ie="You must first call attachView() to set the video element before calling this method",X="MediaPlayer not initialized!",ue=this.context,ve=Object(ae.default)(ue).getInstance(),de=Object(he.default)(ue).getInstance(),xe=Object(Fe.default)(ue).getInstance({settings:de});function tn(){io(null),fr(null),dt=null,Wt&&(Wt.reset(),Wt=null),Sn&&(Sn.reset(),Sn=null),De&&De.reset(),de.reset(),Dt&&(Dt.reset(),Dt=null)}function Xe(){return!!lt&&!!Wn.getElement()}function wn(){return Object(Ce.getVersionString)()}function rn(){if(!Ut)throw ne;return $t.isPaused()}function vt(){if(!Ut)throw ne;return $t.getIsDynamic()}function Tr(mn){var nt=st&&st.hasVideoTrack()?w.default.VIDEO:w.default.AUDIO,ht=fn.getCurrentDVRInfo(nt);if(!ht)return 0;var qe=$t.getOriginalLiveDelay(),At=ht.range.start+mn;return At>ht.range.end-qe&&(At=ht.range.end-qe),At}function yo(mn){if(!Ut)throw ne;var nt=wi().currentTime;if(void 0!==mn)nt=st.getTimeRelativeToStreamId(nt,mn);else if($t.getIsDynamic()){var ht=st&&st.hasVideoTrack()?w.default.VIDEO:w.default.AUDIO,qe=fn.getCurrentDVRInfo(ht);nt=null===qe||0===nt?0:Math.max(0,nt-qe.range.start)}return nt}function Co(){if(!Ut)throw ne;var mn=wi().duration;if($t.getIsDynamic()){var nt=st&&st.hasVideoTrack()?w.default.VIDEO:w.default.AUDIO,ht=fn.getCurrentDVRInfo(nt);mn=ht?ht.range.end-ht.range.start:0}return mn}function _r(mn){Object(Je.checkParameterType)(mn,"boolean"),wt=mn}function Nr(){De.restoreDefaultUTCTimingSources()}function Pn(){return fn}function wi(){if(!Wn.getElement())throw ie;return Wn.getElement()}function fr(mn){if(!it)throw X;Wn.setElement(mn),mn&&($o(),function Ma(){if(!Sn){var mn=dashjs.MetricsReporting;if("function"==typeof mn){var nt=mn(ue).create();Sn=nt.createMetricsReporting({debug:xe,eventBus:ve,mediaElement:wi(),adapter:mt,dashMetrics:fn,mediaPlayerModel:Qe,events:K.default,constants:w.default,metricsConstants:F.default})}}}(),function qs(){if(!nn){var mn=dashjs.MssHandler;"function"==typeof mn&&($.default.extend(mn.errors),nn=mn(ue).create({eventBus:ve,mediaPlayerModel:Qe,dashMetrics:fn,manifestModel:Mn,playbackController:$t,streamController:st,protectionController:Wt,baseURLController:Ye,errHandler:Pe,events:K.default,constants:w.default,debug:xe,initSegmentType:pe.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:ke.a,ISOBoxer:He.a,settings:de}))}}(),st&&st.switchToVideoElement()),Ut&&Ir(),dr()}function xr(mn){if(!bt)throw Z;var nt=st.getActiveStreamInfo();return nt?cn.getTracksFor(mn,nt.id):[]}function io(mn){var nt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!it)throw X;"string"==typeof mn&&Gn.initialize(mn),(null==nt||isNaN(nt))&&(nt=NaN),nt=Math.max(0,nt),lt=mn,(bt||Ut)&&Ir(),Xe()&&dr(nt)}function No(){if(!bt)throw Z;var mn=st.getActiveStreamInfo();return mn?st.getStreamById(mn.id):null}function Ir(){Ut=!1,bt=!1,mt.reset(),st.reset(),kt.reset(),an.reset(),$t.reset(),Lt.reset(),Jt.reset(),Ht.reset(),cn.reset(),_n.reset(),Wt&&(de.get().streaming.protection.keepProtectionMediaKeys?Wt.stop():(Wt.reset(),Wt=null,$o())),ut.reset(),Nn.reset()}function $s(){return Object(R.default)(ue).create({debug:xe,errHandler:Pe,dashMetrics:fn,mediaPlayerModel:Qe,requestModifier:Object(x.default)(ue).getInstance(),mssHandler:nn,settings:de})}function $o(){if(Wt)return Wt;var mn=dashjs.Protection;if("function"==typeof mn){var nt=mn(ue).create();return K.default.extend(mn.events),ge.default.extend(mn.events,{publicOnly:!0}),$.default.extend(mn.errors),Ze||(Ze=Object(k.default)(ue).getInstance()),Wt=nt.createProtectionSystem({debug:xe,errHandler:Pe,videoModel:Wn,customParametersModel:De,capabilities:Ze,eventBus:ve,events:K.default,BASE64:ke.a,constants:w.default,cmcdModel:Nn,settings:de})}return null}function bs(){if(!it)throw X;if(Dt)return Dt;var mn=dashjs.OfflineController;if("function"==typeof mn){K.default.extend(mn.events),ge.default.extend(mn.events,{publicOnly:!0}),$.default.extend(mn.errors);var nt=$s(),ht=Object(Ne.default)(ue).create();return ht.setConfig({manifestModel:Mn,adapter:mt,manifestLoader:nt,errHandler:Pe}),Dt=mn(ue).create({debug:xe,manifestUpdater:ht,baseURLController:Ye,manifestLoader:nt,manifestModel:Mn,mediaPlayerModel:Qe,abrController:Ht,playbackController:$t,adapter:mt,errHandler:Pe,dashMetrics:fn,timelineConverter:ln,segmentBaseController:_n,schemeLoaderFactory:en,eventBus:ve,events:K.default,errors:$.default,constants:w.default,settings:de,dashConstants:E.default,urlUtils:Object(Te.default)(ue).getInstance()})}return null}function Ps(mn){var nt=st&&st.hasVideoTrack()?w.default.VIDEO:w.default.AUDIO,ht=fn.getCurrentDVRInfo(nt);return ht?mn+(ht.manifestInfo.availableFrom.getTime()/1e3+ht.range.start):0}function dr(){var mn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;Dt&&Dt.resetRecords(),!bt&&lt&&(bt=!0,Ve.info("Streaming Initialized"),function Jr(){var mn=$s();st||(st=Object(D.default)(ue).getInstance()),ut||(ut=Object(se.default)(ue).create({errHandler:Pe,manifestModel:Mn,adapter:mt,mediaController:cn,videoModel:Wn,settings:de})),ct.setConfig({capabilities:Ze,customParametersModel:De,adapter:mt,settings:de,manifestModel:Mn,errHandler:Pe}),st.setConfig({capabilities:Ze,capabilitiesFilter:ct,manifestLoader:mn,manifestModel:Mn,mediaPlayerModel:Qe,customParametersModel:De,protectionController:Wt,textController:ut,adapter:mt,dashMetrics:fn,errHandler:Pe,timelineConverter:ln,videoModel:Wn,playbackController:$t,serviceDescriptionController:Lt,contentSteeringController:Jt,abrController:Ht,mediaController:cn,settings:de,baseURLController:Ye,uriFragmentModel:Gn,segmentBaseController:_n}),kt.setConfig({settings:de,playbackController:$t,streamController:st,videoModel:Wn,timelineConverter:ln,adapter:mt}),$t.setConfig({streamController:st,serviceDescriptionController:Lt,dashMetrics:fn,adapter:mt,videoModel:Wn,timelineConverter:ln,settings:de}),an.setConfig({streamController:st,playbackController:$t,mediaPlayerModel:Qe,videoModel:Wn,settings:de}),Ht.setConfig({streamController:st,domStorage:fi,mediaPlayerModel:Qe,customParametersModel:De,dashMetrics:fn,adapter:mt,videoModel:Wn,settings:de}),Nn.setConfig({abrController:Ht,dashMetrics:fn,playbackController:$t}),Jt.setConfig({adapter:mt,errHandler:Pe,dashMetrics:fn,mediaPlayerModel:Qe,manifestModel:Mn,abrController:Ht,eventBus:ve,requestModifier:Object(x.default)(ue).getInstance()}),Ht.initialize(),st.initialize(wt,dt),ut.initialize(),kt.initialize(),an.initialize(),Nn.initialize(),Jt.initialize(),_n.initialize()}(),"string"==typeof lt?st.load(lt,mn):st.loadWithManifest(lt,mn)),!Ut&&Xe()&&(Ut=!0,Ve.info("Playback Initialized"))}return Ke={initialize:function ft(mn,nt,ht){var qe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;Ze||(Ze=Object(k.default)(ue).getInstance()).setConfig({settings:de}),Pe||(Pe=Object(V.default)(ue).getInstance()),Ze.supportsMediaSource()?(it||(it=!0,ln=Object(Ae.default)(ue).getInstance(),Ht||(Ht=Object(C.default)(ue).getInstance()).setConfig({settings:de}),en||(en=Object(B.default)(ue).getInstance()),$t||($t=Object(L.default)(ue).getInstance()),cn||(cn=Object(M.default)(ue).getInstance()),st||(st=Object(D.default)(ue).getInstance()),kt||(kt=Object(p.default)(ue).getInstance()),an||(an=Object(f.default)(ue).getInstance()),Lt||(Lt=Object(g.default)(ue).getInstance()),Jt||(Jt=Object(y.default)(ue).getInstance()),ct||(ct=Object(O.default)(ue).getInstance()),mt=Object(fe.default)(ue).getInstance(),Mn=Object(T.default)(ue).getInstance(),Nn=Object(q.default)(ue).getInstance(),fn=Object(Re.default)(ue).getInstance({settings:de}),fi=Object(le.default)(ue).getInstance({settings:de}),mt.setConfig({constants:w.default,cea608parser:b.a,errHandler:Pe,BASE64:ke.a}),Ye||(Ye=Object(U.default)(ue).create()),Ye.setConfig({adapter:mt}),Lt.setConfig({adapter:mt}),_n||(_n=Object(Le.default)(ue).getInstance({dashMetrics:fn,mediaPlayerModel:Qe,errHandler:Pe,baseURLController:Ye,events:K.default,eventBus:ve,debug:xe,boxParser:Object(W.default)(ue).getInstance(),requestModifier:Object(x.default)(ue).getInstance(),errors:$.default})),cn.setConfig({domStorage:fi,settings:de,customParametersModel:De}),Qe.setConfig({playbackController:$t,serviceDescriptionController:Lt}),Nr(),_r(void 0===ht||ht),bs()),mn&&fr(mn),nt&&io(nt,qe),Ve.info("[dash.js "+wn()+"] MediaPlayer has been initialized")):Pe.error(new at.default($.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,$.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function St(mn){mn&&(mn.capabilities&&(Ze=mn.capabilities),mn.capabilitiesFilter&&(ct=mn.capabilitiesFilter),mn.streamController&&(st=mn.streamController),mn.textController&&(ut=mn.textController),mn.gapController&&(kt=mn.gapController),mn.playbackController&&($t=mn.playbackController),mn.serviceDescriptionController&&(Lt=mn.serviceDescriptionController),mn.contentSteeringController&&(Jt=mn.contentSteeringController),mn.catchupController&&(an=mn.catchupController),mn.mediaPlayerModel&&(Qe=mn.mediaPlayerModel),mn.customParametersModel&&(De=mn.customParametersModel),mn.abrController&&(Ht=mn.abrController),mn.schemeLoaderFactory&&(en=mn.schemeLoaderFactory),mn.mediaController&&(cn=mn.mediaController),mn.settings&&(de=mn.settings))},on:function Pt(mn,nt,ht,qe){ve.on(mn,nt,ht,qe)},off:function Qt(mn,nt,ht){ve.off(mn,nt,ht)},extend:function Eo(mn,nt,ht){oe.default.extend(mn,nt,ht,ue)},attachView:fr,attachSource:io,isReady:Xe,play:function Gt(){if(!Ut)throw ne;(!wt||rn()&&Ut)&&$t.play(!0)},isPaused:rn,pause:function Kt(){if(!Ut)throw ne;$t.pause()},isSeeking:function Xn(){if(!Ut)throw ne;return $t.isSeeking()},isDynamic:vt,getLowLatencyModeEnabled:function un(){if(!Ut)throw ne;return $t.getLowLatencyModeEnabled()},seek:function En(mn){if(!Ut)throw ne;if(Object(Je.checkParameterType)(mn,"number"),isNaN(mn))throw w.default.BAD_ARGUMENT_ERROR;mn<0&&(mn=0);var nt=$t.getIsDynamic()?Tr(mn):mn,ht=wi();!$t.getIsDynamic()&&ht.duration&&(nt=Math.min(ht.duration,nt)),$t.seek(nt,!1,!1,!0)},seekToOriginalLive:function Ln(){!Ut||!vt()||$t.seekToOriginalLive()},setPlaybackRate:function be(mn){wi().playbackRate=mn},getPlaybackRate:function yt(){return wi().playbackRate},setMute:function gt(mn){Object(Je.checkParameterType)(mn,"boolean"),wi().muted=mn},isMuted:function rt(){return wi().muted},setVolume:function hn(mn){if("number"!=typeof mn||isNaN(mn)||mn<0||mn>1)throw w.default.BAD_ARGUMENT_ERROR;wi().volume=mn},getVolume:function ti(){return wi().volume},time:yo,duration:Co,timeAsUTC:function uo(){if(!Ut)throw ne;return yo()<0?NaN:Ps(yo())},durationAsUTC:function Wo(){if(!Ut)throw ne;return Ps(Co())},getActiveStream:No,getDVRWindowSize:function $i(){var mn=st&&st.hasVideoTrack()?w.default.VIDEO:w.default.AUDIO,nt=fn.getCurrentDVRInfo(mn);return nt?nt.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:Tr,getTargetLiveDelay:function hr(){if(!Ut)throw ne;return $t.getOriginalLiveDelay()},convertToTimeCode:function zs(mn){mn=Math.max(mn,0);var nt=Math.floor(mn/3600),ht=Math.floor(mn%3600/60),qe=Math.floor(mn%3600%60);return(0===nt?"":nt<10?"0"+nt.toString()+":":nt.toString()+":")+(ht<10?"0"+ht.toString():ht.toString())+":"+(qe<10?"0"+qe.toString():qe.toString())},formatUTC:function ys(mn,nt,ht){var qe=arguments.length>3&&void 0!==arguments[3]&&arguments[3],At=new Date(1e3*mn),on=At.toLocaleDateString(nt),ci=At.toLocaleTimeString(nt,{hour12:ht});return qe?ci+" "+on:ci},getVersion:wn,getDebug:function Fn(){return xe},getBufferLength:function ar(mn){var nt=[w.default.VIDEO,w.default.AUDIO,w.default.TEXT];if(mn)return-1!==nt.indexOf(mn)?Pn().getCurrentBufferLevel(mn)||NaN:(Ve.warn("getBufferLength requested for invalid type"),NaN);var ht=nt.map(function(At){return xr(At).length>0?Pn().getCurrentBufferLevel(At):Number.MAX_VALUE}).reduce(function(At,on){return Math.min(At,on)});return ht===Number.MAX_VALUE?NaN:ht},getTTMLRenderingDiv:function Di(){return Wn?Wn.getTTMLRenderingDiv():null},getVideoElement:wi,getSource:function jo(){if(!lt)throw"You must first call attachSource() with a valid source before calling this method";return lt},updateSource:function as(mn){st.load(lt=mn)},getCurrentLiveLatency:function Do(){if(!it)throw X;return Ut?$t.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function Ii(mn){if(!bt)throw Z;return Ht.getTopBitrateInfoFor(mn)},setAutoPlay:_r,getAutoPlay:function zo(){return wt},getDashMetrics:Pn,getQualityFor:function gr(mn){if(!bt)throw Z;if(mn===w.default.IMAGE){var nt=No();if(!nt)return-1;var ht=nt.getThumbnailController();return ht?ht.getCurrentTrackIndex():-1}return Ht.getQualityFor(mn)},setQualityFor:function tr(mn,nt){var ht=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!bt)throw Z;if(mn===w.default.IMAGE){var qe=No();if(!qe)return;var At=qe.getThumbnailController();At&&At.setTrackByIndex(nt)}Ht.setPlaybackQuality(mn,st.getActiveStreamInfo(),nt,{forceReplace:ht})},updatePortalSize:function to(){Ht.setElementSize(),Ht.setWindowResizeEventCalled(!0)},enableText:function Qn(mn){var nt=st.getActiveStreamInfo();return!(!nt||!ut)&&ut.enableText(nt.id,mn)},enableForcedTextStreaming:function Kn(mn){return!(!st.getActiveStreamInfo()||!ut)&&ut.enableForcedTextStreaming(mn)},isTextEnabled:function mi(){var mn=st.getActiveStreamInfo();return!(!mn||!ut)&&ut.isTextEnabled(mn)},setTextTrack:function gi(mn){if(!Ut)throw ne;var nt=st.getActiveStreamInfo();!nt||!ut||ut.setTextTrack(nt.id,mn)},getBitrateInfoListFor:function Po(mn){if(!bt)throw Z;var nt=No();return nt?nt.getBitrateListFor(mn):[]},getStreamsFromManifest:function kr(mn){if(!bt)throw Z;return mt.getStreamsInfo(mn)},getTracksFor:xr,getTracksForTypeFromManifest:function Mo(mn,nt,ht){if(!bt)throw Z;return(ht=ht||mt.getStreamsInfo(nt,1)[0])?mt.getAllMediaInfoForType(ht,mn,nt):[]},getCurrentTrackFor:function Lr(mn){if(!bt)throw Z;var nt=st.getActiveStreamInfo();return cn.getCurrentTrackFor(mn,nt.id)},setInitialMediaSettingsFor:function Gi(mn,nt){if(!it)throw X;cn.setInitialSettings(mn,nt)},getInitialMediaSettingsFor:function aa(mn){if(!it)throw X;return cn.getInitialSettings(mn)},setCurrentTrack:function Oo(mn){if(!bt)throw Z;cn.setTrack(mn)},addABRCustomRule:function jr(mn,nt,ht){De.addAbrCustomRule(mn,nt,ht)},removeABRCustomRule:function Kr(mn){De.removeAbrCustomRule(mn)},removeAllABRCustomRule:function Vr(){De.removeAllAbrCustomRule()},getABRCustomRules:function lr(){return De.getAbrCustomRules()},getAverageThroughput:function xo(mn){var nt=Ht.getThroughputHistory(),ht=$t.getIsDynamic();return nt?nt.getAverageThroughput(mn,ht):0},retrieveManifest:function cr(mn,nt){var ht=$s(),qe=this;ve.on(K.default.INTERNAL_MANIFEST_LOADED,function on(ci){ci.error?nt(null,ci.error):nt(ci.manifest),ve.off(K.default.INTERNAL_MANIFEST_LOADED,on,qe),ht.reset()},qe),Gn.initialize(mn),ht.load(mn)},addUTCTimingSource:function oi(mn,nt){De.addUTCTimingSource(mn,nt)},removeUTCTimingSource:function Pi(mn,nt){De.removeUTCTimingSource(mn,nt)},clearDefaultUTCTimingSources:function qi(){De.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:Nr,setXHRWithCredentialsForType:function Sr(mn,nt){De.setXHRWithCredentialsForType(mn,nt)},getXHRWithCredentialsForType:function Ji(mn){return De.getXHRWithCredentialsForType(mn)},getProtectionController:function mr(){return $o()},attachProtectionController:function Uo(mn){Wt=mn},setProtectionData:function Yr(mn){dt=mn,st&&st.setProtectionData(dt)},registerLicenseRequestFilter:function ss(mn){De.registerLicenseRequestFilter(mn)},registerLicenseResponseFilter:function Li(mn){De.registerLicenseResponseFilter(mn)},unregisterLicenseRequestFilter:function Mr(mn){De.unregisterLicenseRequestFilter(mn)},unregisterLicenseResponseFilter:function Cr(mn){De.unregisterLicenseResponseFilter(mn)},registerCustomCapabilitiesFilter:function vs(mn){De.registerCustomCapabilitiesFilter(mn)},unregisterCustomCapabilitiesFilter:function no(mn){De.unregisterCustomCapabilitiesFilter(mn)},setCustomInitialTrackSelectionFunction:function jn(mn){De.setCustomInitialTrackSelectionFunction(mn)},resetCustomInitialTrackSelectionFunction:function bo(){De.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function Gr(mn){if(!Wn.getElement())throw ie;Wn.setTTMLRenderingDiv(mn)},attachVttRenderingDiv:function ro(mn){if(!Wn.getElement())throw ie;Wn.setVttRenderingDiv(mn)},getCurrentTextTrackIndex:function Oi(){var nt=st.getActiveStreamInfo();if(nt&&ut)return ut.getCurrentTrackIdx(nt.id)},provideThumbnail:function Ro(mn,nt){if("function"==typeof nt){if(mn<0)return void nt(null);var ht=$t.getIsDynamic()?Tr(mn):mn,qe=st.getStreamForTime(ht);if(null===qe)return void nt(null);var At=qe.getThumbnailController();return At?At.provide(ht,nt):void nt(null)}},getDashAdapter:function Zo(){return mt},getOfflineController:function qt(){return bs()},triggerSteeringRequest:function Zs(){if(Jt)return Jt.loadSteeringData()},getCurrentSteeringResponseData:function la(){if(Jt)return Jt.getCurrentSteeringResponseData()},getSettings:function Ws(){return de.get()},updateSettings:function ws(mn){de.update(mn)},resetSettings:function ls(){de.reset()},reset:tn,destroy:function ze(){tn(),oe.default.deleteSingletonInstances(ue)}},function pn(){Ve=xe.getLogger(Ke),it=!1,Ut=!1,bt=!1,wt=!0,Wt=null,Dt=null,dt=null,mt=null,_n=null,K.default.extend(ge.default),Qe=Object(N.default)(ue).getInstance(),De=Object(_e.default)(ue).getInstance(),Wn=Object(Y.default)(ue).getInstance(),Gn=Object(P.default)(ue).getInstance()}(),Ke}J.__dashjs_factory_name="MediaPlayer";var Q=oe.default.getClassFactory(J);Q.events=ge.default,Q.errors=$.default,oe.default.updateClassFactory(J.__dashjs_factory_name,Q),S.default=Q},"./src/streaming/MediaPlayerEvents.js":
/*!********************************************!*\
                  !*** ./src/streaming/MediaPlayerEvents.js ***!
                  \********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function w(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var x=function L(O,x){if("object"!==b(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===b(x)?x:String(x)}function p(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&f(O,x)}function f(O,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function g(O){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(x){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function y(O,x){if(x&&("object"===b(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function M(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}c.r(S);var k=new(function(O){p(P,O);var x=g(P);function P(){var T;return function D(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P),(T=x.call(this)).AST_IN_FUTURE="astInFuture",T.BUFFER_EMPTY="bufferStalled",T.BUFFER_LOADED="bufferLoaded",T.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",T.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",T.DYNAMIC_TO_STATIC="dynamicToStatic",T.ERROR="error",T.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",T.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",T.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",T.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",T.LOG="log",T.MANIFEST_LOADED="manifestLoaded",T.METRICS_CHANGED="metricsChanged",T.METRIC_CHANGED="metricChanged",T.METRIC_ADDED="metricAdded",T.METRIC_UPDATED="metricUpdated",T.PERIOD_SWITCH_STARTED="periodSwitchStarted",T.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",T.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",T.QUALITY_CHANGE_RENDERED="qualityChangeRendered",T.TRACK_CHANGE_RENDERED="trackChangeRendered",T.STREAM_INITIALIZING="streamInitializing",T.STREAM_UPDATED="streamUpdated",T.STREAM_ACTIVATED="streamActivated",T.STREAM_DEACTIVATED="streamDeactivated",T.STREAM_INITIALIZED="streamInitialized",T.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",T.TEXT_TRACKS_ADDED="allTextTracksAdded",T.TEXT_TRACK_ADDED="textTrackAdded",T.TTML_PARSED="ttmlParsed",T.TTML_TO_PARSE="ttmlToParse",T.CAPTION_RENDERED="captionRendered",T.CAPTION_CONTAINER_RESIZE="captionContainerResize",T.CAN_PLAY="canPlay",T.CAN_PLAY_THROUGH="canPlayThrough",T.PLAYBACK_ENDED="playbackEnded",T.PLAYBACK_ERROR="playbackError",T.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",T.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",T.PLAYBACK_LOADED_DATA="playbackLoadedData",T.PLAYBACK_PAUSED="playbackPaused",T.PLAYBACK_PLAYING="playbackPlaying",T.PLAYBACK_PROGRESS="playbackProgress",T.PLAYBACK_RATE_CHANGED="playbackRateChanged",T.PLAYBACK_SEEKED="playbackSeeked",T.PLAYBACK_SEEKING="playbackSeeking",T.PLAYBACK_STALLED="playbackStalled",T.PLAYBACK_STARTED="playbackStarted",T.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",T.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",T.PLAYBACK_WAITING="playbackWaiting",T.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",T.EVENT_MODE_ON_START="eventModeOnStart",T.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",T.CONFORMANCE_VIOLATION="conformanceViolation",T.REPRESENTATION_SWITCH="representationSwitch",T.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",T.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",T}return function E(O,x,P){return x&&w(O.prototype,x),P&&w(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(c(
/*! ../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));S.default=k},"./src/streaming/MediaPlayerFactory.js":
/*!*********************************************!*\
                  !*** ./src/streaming/MediaPlayerFactory.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./MediaPlayer */
"./src/streaming/MediaPlayer.js");var E,w=function b(){var f,p="application/dash+xml";function g(U,R,V){if(!U||!/^VIDEO$/i.test(U.nodeName))return null;if(U._dashjs_player)return U._dashjs_player;var k,O=U.id||U.name||"video element";if(!(R=R||[].slice.call(U.querySelectorAll("source")).filter(function(x){return x.type==p})[0])&&U.src)(R=document.createElement("source")).src=U.src;else if(!R&&!U.src)return null;return V=V||{},(k=Object(t.default)(V).create()).initialize(U,R.src,U.autoplay),f||(f=k.getDebug().getLogger()),f.debug("Converted "+O+" to dash.js player and added content: "+R.src),U._dashjs_player=k,k}function M(U){return/^VIDEO$/i.test(U.nodeName)?U:M(U.parentNode)}return{create:g,createAll:function y(U,R){var V=[];U=U||"[data-dashjs-player]";for(var k=(R=R||document).querySelectorAll(U),O=0;O<k.length;O++){var x=g(k[O],null);V.push(x)}for(var P=R.querySelectorAll('source[type="'+p+'"]'),T=0;T<P.length;T++){var C=g(M(P[T]),null);V.push(C)}return V}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?w.createAll():E=window.setInterval(function L(){window.dashjs&&(window.clearInterval(E),w.createAll())},500):window.addEventListener("load",function F(){window.removeEventListener("load",F),w.createAll()})),S.default=w},"./src/streaming/SourceBufferSink.js":
/*!*******************************************!*\
                  !*** ./src/streaming/SourceBufferSink.js ***!
                  \*******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../core/Debug */
"./src/core/Debug.js"),b=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),w=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),F=c(
/*! ../core/Settings */
"./src/core/Settings.js"),L=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),D=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),p=c(
/*! ../core/events/Events */
"./src/core/events/Events.js");function M(R){var P,T,N,C,B,Y,V=this.context,k=Object(F.default)(V).getInstance(),O=R.textController,x=R.eventBus,q=[],le=[],Fe=!1,$=R.mediaSource,ae=null;function oe(ne){return new Promise(function(ie){Z(function(){C.changeType&&C.changeType(ne),ie()})})}function Le(ne){return C=O.getTextSourceBuffer(ne),Promise.resolve()}function fe(){if("function"==typeof C.addEventListener)try{C.addEventListener("updateend",_e,!1),C.addEventListener("error",J,!1),C.addEventListener("abort",J,!1)}catch{Y=setInterval(_e,50)}else Y=setInterval(_e,50)}function pe(ne){return new Promise(function(ie){C&&k.get().streaming.buffer.useAppendWindow?Z(function(){try{if(!C)return void ie();var ee=$.duration,X=0;ne&&!isNaN(ne.start)&&!isNaN(ne.duration)&&isFinite(ne.duration)&&(ee=ne.start+ne.duration),ne&&!isNaN(ne.start)&&(X=ne.start),(C.appendWindowEnd!==ee||C.appendWindowStart!==X)&&(C.appendWindowStart=0,C.appendWindowEnd=ee+.01,C.appendWindowStart=Math.max(X-.1,0),N.debug("Updated append window for ".concat(B.type,". Set start to ").concat(C.appendWindowStart," and end to ").concat(C.appendWindowEnd))),ie()}catch{N.warn("Failed to set append window"),ie()}}):ie()})}function Ue(ne){return new Promise(function(ie){C?Z(function(){try{C.timestampOffset!==ne&&!isNaN(ne)&&(C.timestampOffset=ne,N.debug("Set MSE timestamp offset to ".concat(ne))),ie()}catch{ie()}}):ie()})}function Te(){if(!Fe&&le.length>0){Fe=!0;var ne=le[0];le.splice(0,1);var ie=function(){Fe=!1,le.length>0&&Te.call(this),ne&&ne.data&&ne.data.segmentType&&ne.data.segmentType!==D.HTTPRequest.INIT_SEGMENT_TYPE&&delete ne.data.bytes,ne.promise.resolve({chunk:ne.data})};try{ae=ne.request,0===ne.data.bytes.byteLength?ie.call(this):(C.appendBuffer?C.appendBuffer(ne.data.bytes):C.append(ne.data.bytes,ne.data),Z(ie.bind(this)))}catch(ee){N.fatal('SourceBuffer append failed "'+ee+'"'),le.length>0?Te():Fe=!1,delete ne.data.bytes,ne.promise.reject({chunk:ne.data,error:new b.default(ee.code,ee.message)})}}}function se(){q.length>0&&!C.updating&&(q.shift()(),se())}function _e(){C.updating||se()}function J(ne){!function Q(ne,ie){x.trigger(ne,ie||{},{streamId:B.streamInfo.id,mediaType:T})}(p.default.SOURCE_BUFFER_ERROR,{error:ne.target||{},lastRequestAppended:ae})}function Z(ne){q.push(ne),C.updating||se()}return P={getType:function Re(){return T},getAllBufferRanges:function He(){try{return C.buffered}catch(ne){return N.error("getAllBufferRanges exception: "+ne.message),null}},getBuffer:function we(){return C},append:function at(ne){var ie=this,ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(X,ue){ne?(le.push({data:ne,promise:{resolve:X,reject:ue},request:ee}),Z(Te.bind(ie))):ue({chunk:ne,error:new b.default(E.default.APPEND_ERROR_CODE,E.default.APPEND_ERROR_MESSAGE)})})},remove:function Ne(ne){return new Promise(function(ie,ee){var X=ne.start,ue=ne.end;X>=0&&ue>X?Z(function(){try{C.remove(X,ue),Z(function(){ie({from:X,to:ue,unintended:!1}),ne.resolve&&ne.resolve()})}catch(ve){ee({from:X,to:ue,unintended:!1,error:new b.default(E.default.REMOVE_ERROR_CODE,E.default.REMOVE_ERROR_MESSAGE)}),ne.reject&&ne.reject(ve)}}):ie()})},abort:function W(){return new Promise(function(ne){try{le=[],"open"===$.readyState?Z(function(){try{C&&C.abort(),ne()}catch{ne()}}):(C&&C.setTextTrack&&"ended"===$.readyState&&C.abort(),ne())}catch{ne()}})},reset:function ke(){if(C){try{q=[],function Ae(){try{"function"==typeof C.removeEventListener&&(C.removeEventListener("updateend",_e,!1),C.removeEventListener("error",J,!1),C.removeEventListener("abort",J,!1)),clearInterval(Y)}catch(ne){N.error(ne)}}(),Fe=!1,le=[],(!C.getClassName||"TextSourceBuffer"!==C.getClassName())&&(N.debug("Removing sourcebuffer from media source"),$.removeSourceBuffer(C))}catch{}C=null}ae=null},updateTimestampOffset:Ue,initializeForStreamSwitch:function ge(ne,ie,ee){T=(B=ne).type;var X=B.codec;(function he(ne){C=ne.getBuffer()})(ee),fe();var ue=[];return ue.push(function Je(){return new Promise(function(ne){Z(function(){var ie=C.appendWindowStart,ee=C.appendWindowEnd;C&&(C.abort(),C.appendWindowStart=ie,C.appendWindowEnd=ee),ne()})})}()),ue.push(pe(B.streamInfo)),ue.push(oe(X)),ie&&void 0!==ie.MSETimeOffset&&ue.push(Ue(ie.MSETimeOffset)),Promise.all(ue)},initializeForFirstUse:function Ce(ne,ie,ee){T=(B=ie).type;var X=B.codec;try{if(X.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Le(ne);C=$.addSourceBuffer(X),fe();var ue=[];return ue.push(pe(B.streamInfo)),ee&&void 0!==ee.MSETimeOffset&&ue.push(Ue(ee.MSETimeOffset)),Promise.all(ue)}catch(ve){return B.type==L.default.TEXT&&!B.isFragmented||-1!==X.indexOf('codecs="stpp')||-1!==X.indexOf('codecs="vtt')?Le(ne):Promise.reject(ve)}},updateAppendWindow:pe,changeType:oe},function K(){N=Object(t.default)(V).getInstance().getLogger(P)}(),P}M.__dashjs_factory_name="SourceBufferSink";var U=w.default.getClassFactory(M);S.default=U},"./src/streaming/Stream.js":
/*!*********************************!*\
                  !*** ./src/streaming/Stream.js ***!
                  \*********************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),w=c(
/*! ./StreamProcessor */
"./src/streaming/StreamProcessor.js"),E=c(
/*! ./controllers/FragmentController */
"./src/streaming/controllers/FragmentController.js"),F=c(
/*! ./thumbnail/ThumbnailController */
"./src/streaming/thumbnail/ThumbnailController.js"),L=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),p=c(
/*! ../core/Debug */
"./src/core/Debug.js"),f=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),g=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),M=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),U=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),R=c(
/*! ./controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),V=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT,t.default.MUXED,t.default.IMAGE];function k(O){O=O||{};var Ae,pe,Ue,ke,we,He,at,Je,Ne,Te,W,se,_e,J,Q,Z,ne,ie,x=this.context,P=Object(L.default)(x).getInstance(),T=Object(U.default)(x).getInstance(),N=O.manifestModel,C=O.mediaPlayerModel,B=O.dashMetrics,Y=O.manifestUpdater,q=O.adapter,le=O.timelineConverter,Fe=O.capabilities,$=O.errHandler,ae=O.abrController,K=O.playbackController,ge=O.eventController,oe=O.mediaController,he=O.protectionController,Ce=O.textController,Le=O.videoModel,fe=O.streamInfo,Re=O.settings;function it(Kt,rn){return new Promise(function(En,Ln){st(),Te=!0,Jt();var Xn=Le.getElement();V.forEach(function(vt){(vt!==t.default.VIDEO||!Xn||Xn&&/^VIDEO$/i.test(Xn.nodeName))&&function bt(Kt,rn){var vt,En=q.getAllMediaInfoForType(fe,Kt),Ln=[],Xn=null;if(En&&0!==En.length){Kt===t.default.VIDEO&&(at=!0),Kt===t.default.AUDIO&&(Je=!0);for(var un=0,be=En.length;un<be;un++)Xn=En[un],Kt===t.default.TEXT&&Xn.isEmbedded&&(Ce.addEmbeddedTrack(fe,Xn),Ln.push(Xn)),Ut(Xn)&&oe.addTrack(Xn);if(Ln.length>0&&(oe.setInitialMediaSettingsForType(Kt,fe),Ce.addMediaInfosToBuffer(fe,Kt,Ln)),0!==(En=En.filter(function(gt){return!gt.isEmbedded})).length){if(Kt===t.default.IMAGE)return void(se=Object(F.default)(x).create({streamInfo:fe,adapter:q,baseURLController:O.baseURLController,timelineConverter:O.timelineConverter,debug:Z,eventBus:P,events:D.default,dashConstants:b.default,dashMetrics:O.dashMetrics,segmentBaseController:O.segmentBaseController})).initialize();P.trigger(D.default.STREAM_INITIALIZING,{streamInfo:fe,mediaInfo:Xn}),oe.setInitialMediaSettingsForType(Kt,fe);var yt=function wt(Kt,rn){var En=Kt&&Kt.length>0?Kt[0]:null,Ln=W.getModel(En?En.type:null),Xn=En?En.type:null,vt=En?En.mimeType:null,un=En?En.isFragmented:null,be=Object(w.default)(x).create({streamInfo:fe,type:Xn,mimeType:vt,timelineConverter:le,adapter:q,manifestModel:N,mediaPlayerModel:C,fragmentModel:Ln,dashMetrics:O.dashMetrics,baseURLController:O.baseURLController,segmentBaseController:O.segmentBaseController,abrController:ae,playbackController:K,mediaController:oe,textController:Ce,errHandler:$,settings:Re,boxParser:Q,segmentBlacklistController:_e});be.initialize(rn,at,un),Ue.push(be);for(var yt=0;yt<Kt.length;yt++)be.addMediaInfo(Kt[yt]);return Xn===t.default.TEXT&&Ce.addMediaInfosToBuffer(fe,Xn,Kt,Ln),be}(En,rn);(vt=oe.getCurrentTrackFor(Kt,fe.id))&&(ae.updateTopQualityIndex(vt),yt.selectMediaInfo(Kt===t.default.TEXT&&vt.isEmbedded?En[0]:vt))}}else pe.info("No "+Kt+" data.")}(vt,Kt)}),function Ht(Kt){return new Promise(function(rn){var En={},Ln=Ue.map(function(Xn){return Xn.createBufferSinks(Kt)});Promise.all(Ln).then(function(Xn){Xn.forEach(function(vt){vt&&(En[vt.getType()]=vt)}),rn(En)}).catch(function(){rn(En)})})}(rn).then(function(vt){if(Te=!1,0===Ue.length){var un="No streams to play.";$.error(new y.default(f.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,un,N.getValue())),pe.fatal(un)}else an();Ce.createTracks(fe),En(vt)}).catch(function(vt){Ln(vt)})})}function Ut(Kt){var rn=Kt?Kt.type:null;return rn===t.default.MUXED?(pe.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),$.error(new y.default(f.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",N.getValue())),!1):!(rn!==t.default.TEXT&&rn!==t.default.IMAGE&&Kt.contentProtection&&!Fe.supportsEncryptedMedia()&&($.error(new y.default(f.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,f.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function en(Kt){for(var rn=Ue?Ue.length:0,Ln=0;Ln<rn;Ln++){var Xn=Ue[Ln].getFragmentModel();Xn.abortRequests(),Xn.resetInitialSettings(),Ue[Ln].reset(false,Kt)}Ce&&Ce.deactivateStream(fe),Ue=[],we=!1,He=!1,Qt(!1),mt(!1),P.trigger(D.default.STREAM_DEACTIVATED,{streamInfo:fe})}function Wt(Kt){en(Kt),ke=!1,at=!1,Je=!1,Ne={},Te=!1,ne=!1,ie=[]}function mt(Kt){ne=Kt}function Qe(){return fe?fe.start:NaN}function De(){return fe?fe.id:null}function Pe(){return fe}function st(){if(!Le||!ae)throw new Error(t.default.MISSING_CONFIG_ERROR)}function kt(Kt){Kt.error&&($.error(Kt.error),pe.fatal(Kt.error.message))}function Jt(){if(ge){var Kt=q.getEventsFor(fe);Kt&&Kt.length>0&&ge.addInlineEvents(Kt,fe.id)}}function an(){for(var Kt=Ue.length,En=Ne.audio||Ne.video?new y.default(f.default.DATA_UPDATE_FAILED_ERROR_CODE,f.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,Ln=0;Ln<Kt;Ln++)if(Ue[Ln].isUpdating()||Te)return;if(he){he.clearMediaInfoArray();for(var Xn=0;Xn<Kt&&Ue[Xn];Xn++){var vt=Ue[Xn].getType(),un=Ue[Xn].getMediaInfo();if(vt===t.default.AUDIO||vt===t.default.VIDEO||vt===t.default.TEXT&&un.isFragmented){var be=Ue[Xn].getMediaInfo();be&&he.initializeForMedia(be)}}he.handleKeySystemFromManifest()}En?$.error(En):ke||(ke=!0,Le.waitForReadyState(t.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){P.trigger(D.default.STREAM_INITIALIZED,{streamInfo:fe})}))}function Mn(){var Kt=_n(),rn=Kt.length;if(0!==rn){for(var En=0;En<rn;En++)if(!Kt[En].isBufferingCompleted()&&(Kt[En].getType()===t.default.AUDIO||Kt[En].getType()===t.default.VIDEO))return void pe.debug("onBufferingCompleted - One streamProcessor has finished but",Kt[En].getType(),"one is not buffering completed");pe.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),He=!0,P.trigger(D.default.STREAM_BUFFERING_COMPLETED,{streamInfo:fe},{streamInfo:fe})}else pe.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Nn(Kt){Ne[Kt.mediaType]=Kt.error,an()}function Wn(Kt){ge&&ge.addInbandEvents(Kt.events,fe.id)}function Gn(Kt){return Kt&&Kt.type?fi(Kt.type):null}function fi(Kt){return Kt?_n().filter(function(En){return En.getType()===Kt})[0]:null}function _n(){for(var rn,En,Kt=[],Ln=0;Ln<Ue.length;Ln++)((rn=(En=Ue[Ln]).getType())===t.default.AUDIO||rn===t.default.VIDEO||rn===t.default.TEXT)&&Kt.push(En);return Kt}function ze(Kt,rn){var En=Pe(),Ln=rn.getStreamInfo();if(!Ln||!En)return!0;var Xn=q.getAdaptationForType(Ln.index,Kt,Ln),vt=q.getAdaptationForType(En.index,Kt,En);return Xn&&vt?!(!Xe(vt)&&Xe(Xn)):!Xn&&!vt}function Xe(Kt){return!!Kt&&!!(Kt.ContentProtection||Kt.Representation&&Kt.Representation.length>0&&Kt.Representation[0].ContentProtection)}function Pt(Kt,rn){var En=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Kt||!Kt.hasOwnProperty("getStreamInfo"))return!1;var Ln=Kt.getStreamInfo(),Xn=En?En.getStreamInfo():Pe();if(!Ln||!Xn)return!1;var vt=q.getAdaptationForType(Ln.index,rn,Ln),un=q.getAdaptationForType(Xn.index,rn,Xn);if(!vt||!un)return!vt&&!un;var be=vt&&un&&vt.mimeType===un.mimeType,yt=un.Representation_asArray.map(function(ti){return ti.codecs}),gt=vt.Representation_asArray.map(function(ti){return ti.codecs}),rt=gt.some(function(ti){return yt.indexOf(ti)>-1}),hn=gt.some(function(ti){return yt.some(function(ar){return Fe.codecRootCompatibleWithCodec(ar,ti)})});return rt||hn&&be}function Qt(Kt){J=Kt}function wn(){return J}return Ae={initialize:function X(){(function ue(){P.on(D.default.BUFFERING_COMPLETED,Mn,Ae),P.on(D.default.DATA_UPDATE_COMPLETED,Nn,Ae),P.on(D.default.INBAND_EVENTS,Wn,Ae)})(),function de(){he&&(P.on(D.default.KEY_ERROR,kt,Ae),P.on(D.default.SERVER_CERTIFICATE_UPDATED,kt,Ae),P.on(D.default.LICENSE_REQUEST_COMPLETE,kt,Ae),P.on(D.default.KEY_SYSTEM_SELECTED,kt,Ae),P.on(D.default.KEY_SESSION_CREATED,kt,Ae),P.on(D.default.KEY_STATUSES_CHANGED,kt,Ae))}(),Ce.initializeForStream(fe),P.trigger(D.default.STREAM_UPDATED,{streamInfo:fe})},getStreamId:function Ke(){return fe?fe.id:null},activate:function Ve(Kt,rn){return new Promise(function(En,Ln){if(!we)return wn()?(we=!0,P.trigger(D.default.STREAM_ACTIVATED,{streamInfo:fe}),void En(rn)):void function lt(Kt,rn){return it(Kt,rn)}(Kt,rn).then(function(Xn){we=!0,P.trigger(D.default.STREAM_ACTIVATED,{streamInfo:fe}),En(Xn)}).catch(function(Xn){Ln(Xn)});En(rn)})},deactivate:en,getIsActive:function ln(){return we},getDuration:function nn(){return fe?fe.duration:NaN},getStartTime:Qe,getId:De,getStreamInfo:Pe,getHasAudioTrack:function Ye(){return Je},getHasVideoTrack:function Ze(){return at},startPreloading:function dt(Kt,rn){return new Promise(function(En,Ln){wn()?Ln():(pe.info("[startPreloading] Preloading next stream with id ".concat(De())),Qt(!0),it(Kt,rn).then(function(){for(var Xn=0;Xn<Ue.length&&Ue[Xn];Xn++)Ue[Xn].setExplicitBufferingTime(Qe()),Ue[Xn].getScheduleController().startScheduleTimer();En()}).catch(function(){Qt(!1),Ln()}))})},getThumbnailController:function ct(){return se},getBitrateListFor:function ut(Kt){if(st(),Kt===t.default.IMAGE)return se?se.getBitrateList():[];var rn=function fn(Kt){for(var rn=null,En=0;En<Ue.length;En++)if((rn=Ue[En]).getType()===Kt)return rn.getMediaInfo();return null}(Kt);return ae.getBitrateList(rn)},updateData:function St(Kt){return new Promise(function(rn){Te=!0,fe=Kt,ge&&Jt();for(var En=[],Ln=0,Xn=Ue.length;Ln<Xn;Ln++){var vt=Ue[Ln],un=vt.getMediaInfo();En.push(vt.updateStreamInfo(fe));var be=q.getAllMediaInfoForType(fe,vt.getType());if(be){vt.clearMediaInfoArray();for(var yt=0;yt<be.length;yt++){var gt=be[yt];vt.addMediaInfo(be[yt]),q.areMediaInfosEqual(un,gt)&&(ae.updateTopQualityIndex(gt),En.push(vt.selectMediaInfo(gt)))}}}Promise.all(En).then(function(){for(En=[];ie.length>0;){var rt=ie.pop(),hn=rt.newMediaInfo,ti=Gn(rt.oldMediaInfo);if(!ti)return;En.push(ti.prepareTrackSwitch()),ti.selectMediaInfo(hn)}return Promise.all(En)}).then(function(){Te=!1,an(),P.trigger(D.default.STREAM_UPDATED,{streamInfo:fe}),rn()})})},reset:function Sn(Kt){W&&(W.reset(),W=null),ae&&fe&&ae.clearDataForStream(fe.id),_e&&(_e.reset(),_e=null),Wt(Kt),fe=null,function ve(){P.off(D.default.DATA_UPDATE_COMPLETED,Nn,Ae),P.off(D.default.BUFFERING_COMPLETED,Mn,Ae),P.off(D.default.INBAND_EVENTS,Wn,Ae)}(),function xe(){he&&(P.off(D.default.KEY_ERROR,kt,Ae),P.off(D.default.SERVER_CERTIFICATE_UPDATED,kt,Ae),P.off(D.default.LICENSE_REQUEST_COMPLETE,kt,Ae),P.off(D.default.KEY_SYSTEM_SELECTED,kt,Ae),P.off(D.default.KEY_SESSION_CREATED,kt,Ae),P.off(D.default.KEY_STATUSES_CHANGED,kt,Ae))}()},getProcessors:_n,setMediaSource:function cn(Kt){for(var rn=0;rn<Ue.length;)Ut(Ue[rn].getMediaInfo())?(Ue[rn].setMediaSource(Kt),rn++):(Ue[rn].reset(),Ue.splice(rn,1));if(0===Ue.length){var En="No streams to play.";$.error(new y.default(f.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,En+"nostreams",N.getValue())),pe.fatal(En)}},isMediaCodecCompatible:function ft(Kt){var rn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Pt(Kt,t.default.VIDEO,rn)&&Pt(Kt,t.default.AUDIO,rn)},isProtectionCompatible:function tn(Kt){return!Kt||ze(t.default.VIDEO,Kt)&&ze(t.default.AUDIO,Kt)},getPreloaded:wn,getIsEndedEventSignaled:function Dt(){return ne},setIsEndedEventSignaled:mt,getAdapter:function Gt(){return q},getHasFinishedBuffering:function Fn(){return He},setPreloaded:Qt,startScheduleControllers:function pn(){for(var Kt=Ue.length,rn=0;rn<Kt&&Ue[rn];rn++)Ue[rn].getScheduleController().startScheduleTimer()},prepareTrackChange:function $t(Kt){if(we&&fe){He=!1;var rn=Kt.newMediaInfo,En=N.getValue();q.setCurrentMediaInfo(fe.id,rn.type,rn);var Ln=Gn(rn);if(Ln){var Xn=K.getTime();pe.info("Stream -  Process track changed at current time "+Xn),En.refreshManifestOnSwitchTrack?(ie.push(Kt),Y.getIsUpdating()||(pe.debug("Stream -  Refreshing manifest for switch track"),Y.refreshManifest())):Ln.selectMediaInfo(rn).then(function(){(rn.type===t.default.VIDEO||rn.type===t.default.AUDIO)&&ae.updateTopQualityIndex(rn),Ln.prepareTrackSwitch()})}}},prepareQualityChange:function Lt(Kt){var rn=fi(Kt.mediaType);rn&&rn.prepareQualityChange(Kt)}},function ee(){try{Z=Object(p.default)(x).getInstance(),pe=Z.getLogger(Ae),Wt(),Q=Object(M.default)(x).getInstance(),_e=Object(R.default)(x).create({updateEventName:D.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:D.default.SEGMENT_LOCATION_BLACKLIST_ADD}),W=Object(E.default)(x).create({streamInfo:fe,mediaPlayerModel:C,dashMetrics:B,errHandler:$,settings:Re,boxParser:Q,dashConstants:b.default,urlUtils:T})}catch(Kt){throw Kt}}(),Ae}k.__dashjs_factory_name="Stream",S.default=g.default.getClassFactory(k)},"./src/streaming/StreamProcessor.js":
/*!******************************************!*\
                  !*** ./src/streaming/StreamProcessor.js ***!
                  \******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),w=c(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),E=c(
/*! ./models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),F=c(
/*! ./controllers/BufferController */
"./src/streaming/controllers/BufferController.js"),L=c(
/*! ./text/NotFragmentedTextBufferController */
"./src/streaming/text/NotFragmentedTextBufferController.js"),D=c(
/*! ./controllers/ScheduleController */
"./src/streaming/controllers/ScheduleController.js"),p=c(
/*! ../dash/controllers/RepresentationController */
"./src/dash/controllers/RepresentationController.js"),f=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=c(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),y=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),M=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),U=c(
/*! ../dash/DashHandler */
"./src/dash/DashHandler.js"),R=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),V=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../core/Debug */
"./src/core/Debug.js"),O=c(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),x=c(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),P=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),T=c(
/*! ./vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),N=c(
/*! ../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),C=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function B(Y){Y=Y||{};var at,Je,Ne,Te,W,se,_e,J,Q,Z,ne,ie,ee,q=this.context,le=Object(y.default)(q).getInstance(),Fe=Y.streamInfo,$=Y.type,ae=Y.errHandler,K=Y.mimeType,ge=Y.timelineConverter,oe=Y.adapter,he=Y.manifestModel,Ce=Y.mediaPlayerModel,Le=Y.fragmentModel,fe=Y.abrController,Re=Y.playbackController,Ae=Y.mediaController,pe=Y.textController,Ue=Y.dashMetrics,ke=Y.settings,we=Y.boxParser,He=Y.segmentBlacklistController;function ve(){return Fe.id}function de(){return $}function xe(){return oe.getIsTextTrack(J.getData())}function Ke(){W=[],Te=null,ee=0,Q=!1,Z=!1}function bt(vt){var un=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(vt.sender){if(Re.getIsManifestUpdateInProgress())return void cn();if((!xe()||pe.isTextEnabled())&&se&&vt.representationId&&!se.appendInitSegmentFromCache(vt.representationId)){var be=J.getCurrentRepresentation();if(0===be.range)return void Ut();var yt=ne?ne.getInitRequest(Te,be):null;yt?Le.executeRequest(yt):un&&(_e.setInitSegmentRequired(!0),cn())}}}function Ut(vt){var un=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Re.getIsManifestUpdateInProgress()||se.getIsPruningInProgress())cn();else{var be=function ln(){var un,vt=ft();if(isNaN(ee)||de()===t.default.TEXT&&!pe.isTextEnabled())return null;var be=Q;if(ne){var yt=J&&vt?J.getRepresentationForQuality(vt.quality):null;un=be?ne.getSegmentRequestForTime(Te,yt,ee):ne.getNextSegmentRequest(Te,yt)}return un}();be?(Q=!1,function wt(vt){isNaN(vt.startTime+vt.duration)||(ee=vt.startTime+vt.duration),vt.delayLoadingTime=(new Date).getTime()+_e.getTimeToLoadDelay(),_e.setTimeToLoadDelay(0),function en(vt){var un=vt.url;return vt.range&&(un=un.concat("_",vt.range)),He.contains(un)}(vt)?(Je.warn("Fragment request url ".concat(vt.url," for stream id ").concat(Fe.id," and media type ").concat($," is on the ignore list and will be skipped")),cn()):(Je.debug("Next fragment request url for stream id ".concat(Fe.id," and media type ").concat($," is ").concat(vt.url)),Le.executeRequest(vt))}(be)):function Ht(vt){var be,un=J.getCurrentRepresentation();if(!ke.get().streaming.gaps.enableSeekFix||!Q&&0!==Re.getTime()||(Ne?Ne&&un.segmentInfoType===b.default.SEGMENT_TIMELINE&&(be=ne.getValidTimeAheadOfTargetTime(ee,Te,un,ke.get().streaming.gaps.threshold)):be=ne.getValidTimeAheadOfTargetTime(ee,Te,un,ke.get().streaming.gaps.threshold),isNaN(be)||be===ee)){if(ne.isLastSegmentRequested(un,ee)){var gt=ne.getCurrentIndex();return Je.debug("Segment requesting for stream ".concat(Fe.id," has finished")),le.trigger(M.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:gt},{streamId:Fe.id,mediaType:$}),se.segmentRequestingCompleted(gt),void _e.clearScheduleTimer()}vt&&cn()}else Re.isSeeking()||0===Re.getTime()?(Je.warn("Adjusting playback time ".concat(be," because of gap in the manifest. Seeking by ").concat(be-ee)),Re.seek(be,!1,!1)):(Je.warn("Adjusting buffering time ".concat(be," because of gap in the manifest. Adjusting time by ").concat(be-ee)),Ln(be),vt&&cn())}(un)}}function cn(){_e.startScheduleTimer(Re.getLowLatencyModeEnabled()?ke.get().streaming.scheduling.lowLatencyTimeout:ke.get().streaming.scheduling.defaultTimeout)}function Wt(vt){vt.error||(_e.setCurrentRepresentation(oe.convertRepresentationToRepresentationInfo(vt.currentRepresentation)),se.getIsBufferingCompleted()||se.updateBufferTimestampOffset(vt.currentRepresentation))}function Sn(vt){Ue.addBufferState($,vt.state,_e.getBufferTarget()),vt.state===w.default.BUFFER_EMPTY&&!Re.isSeeking()&&(Je.info("Buffer is empty! Stalling!"),Ue.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REBUFFERING_REASON))}function nn(vt){Le.syncExecutedRequestsWithBufferedRange(se.getBuffer().getAllBufferRanges(),Fe.duration),vt.quotaExceeded&&vt.from>Re.getTime()&&Ln(vt.from),vt.hasEnoughSpaceToAppend&&vt.quotaExceeded&&_e.startScheduleTimer()}function Dt(vt){if(vt&&vt.lastRequestAppended&&vt.lastRequestAppended.url){var un=vt.lastRequestAppended.url;vt.lastRequestAppended.range&&(un=un.concat("_",vt.lastRequestAppended.range)),Je.warn("Blacklisting segment with url ".concat(un)),He.add(un)}}function Pe(){Kt(),Z=!1}function Ye(vt){Je.info("onFragmentLoadingAbandoned request: "+vt.request.url+" has been aborted"),!Re.isSeeking()&&!_e.getSwitchStrack()&&!Z&&(Je.info("onFragmentLoadingAbandoned request: "+vt.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),vt.request&&vt.request.isInitializationRequest()?_e.setInitSegmentRequired(!0):Ln(vt.request.startTime+vt.request.duration/2),_e.startScheduleTimer(0))}function Ze(vt){Je.info("OnFragmentLoadingCompleted for stream id "+Fe.id+" and media type "+$+" - Url:",vt.request?vt.request.url:"undefined",vt.request.range?", Range:"+vt.request.range:""),xe()&&_e.startScheduleTimer(0),vt.error&&vt.request.serviceLocation&&function ct(vt){Je.info("Fragment loading completed with an error"),vt&&vt.request&&vt.request.type&&(vt.request.type===C.HTTPRequest.INIT_SEGMENT_TYPE?bt({representationId:vt.request.representationId,sender:{}},!1):vt.request.type===C.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Ln(vt.request.startTime+vt.request.duration/2),Ut({},!1)))}(vt)}function st(){Ln(Re.getTime()),St().startScheduleTimer()}function ut(vt){var un=vt.currentTrackInfo;if(un){var be=W.find(function(yt){return yt.index===un.index&&yt.lang===un.lang});be&&Nn(be).then(function(){se.setIsBufferingCompleted(!1),Ln(Re.getTime()),_e.setInitSegmentRequired(!0),_e.startScheduleTimer()})}}function kt(vt){Ln(vt.quotaExceededTime),_e.clearScheduleTimer()}function Lt(){return se?se.getBuffer():null}function Nn(vt){vt!==Te&&(!vt||!Te||vt.type===Te.type)&&(Te=vt);var un=oe.getRealAdaptation(Fe,Te),be=oe.getVoRepresentations(Te);if(J){var hn,yt=J.getData(),gt=fe.getMaxAllowedIndexFor($,Fe.id),rt=fe.getMinAllowedIndexFor($,Fe.id),ar=null;return null!==yt&&yt.id===un.id||$===t.default.TEXT?hn=fe.getQualityFor($,Fe.id):(ar=fe.getThroughputHistory().getAverageThroughput($,Ne)||fe.getInitialBitrateFor($,Fe.id),hn=fe.getQualityForBitrate(Te,ar,Fe.id)),void 0!==rt&&hn<rt&&(hn=rt),hn>gt&&(hn=gt),J.updateData(un,be,$,Te.isFragmented,hn)}return Promise.resolve()}function St(){return _e}function ft(vt){var un;return void 0!==vt?(Object(g.checkInteger)(vt),un=J?J.getRepresentationForQuality(vt):null):un=J?J.getCurrentRepresentation():null,oe.convertRepresentationToRepresentationInfo(un)}function tn(){return!!se&&se.getIsBufferingCompleted()}function Pt(vt){var un=vt.chunk,be=un.bytes,yt=un.quality,gt=ft(yt),rt=J&&gt?J.getRepresentationForQuality(gt.quality):null;if(gt&&rt){var hn=oe.getEventsFor(gt.mediaInfo,null,Fe),ti=oe.getEventsFor(gt,rt,Fe);if(hn&&hn.length>0||ti&&ti.length>0){var $i=function Qt(vt,un,be,yt){try{for(var gt={},rt=[],hn=be.concat(yt),ti=0,ar=hn.length;ti<ar;ti++)gt[hn[ti].schemeIdUri+"/"+hn[ti].value]=hn[ti];var $i=Object(P.default)(q).getInstance().parse(vt),Tr=$i.getBoxes("emsg");if(!Tr||0===Tr.length)return rt;for(var hr=$i.getBox("sidx"),yo=!hr||isNaN(hr.earliest_presentation_time)||isNaN(hr.timescale)?un&&!isNaN(un.mediaStartTime)?un.mediaStartTime:0:hr.earliest_presentation_time/hr.timescale,Co=Math.max(yo,0),uo=J.getCurrentRepresentation(),Wo=0,Ii=Tr.length;Wo<Ii;Wo++){var gr=oe.getEvent(Tr[Wo],gt,Co,uo);gr&&rt.push(gr)}return rt}catch{return[]}}(be,Le.getRequests({state:E.default.FRAGMENT_MODEL_EXECUTED,quality:yt,index:un.index})[0],hn,ti);le.trigger(M.default.INBAND_EVENTS,{events:$i},{streamId:Fe.id})}}}function Gt(){var vt=Re.getTime();ke.get().streaming.buffer.flushBufferAtTrackSwitch&&Re.seek(vt+.001,!1,!0),Ln(vt),se.setSeekTarget(vt),_e.startScheduleTimer()}function Kt(){var vt=Re.getTime(),un=se.getContinuousBufferTimeForTargetTime(vt);Ln(isNaN(un)?vt:un),_e.startScheduleTimer()}function En(vt){vt&&!isNaN(vt.time)&&(Ln(vt.time),se.setSeekTarget(vt.time))}function Ln(vt){ee=vt,Q=!0}return at={initialize:function ue(vt,un,be){ie=Object(N.default)(q).create({events:M.default,eventBus:le,streamInfo:Fe,timelineConverter:ge,dashConstants:b.default,segmentBaseController:Y.segmentBaseController,type:$}),(ne=Object(U.default)(q).create({streamInfo:Fe,type:$,timelineConverter:ge,dashMetrics:Ue,mediaPlayerModel:Ce,baseURLController:Y.baseURLController,errHandler:ae,segmentsController:ie,settings:ke,boxParser:we,events:M.default,eventBus:le,errors:R.default,debug:Object(k.default)(q).getInstance(),requestModifier:Object(O.default)(q).getInstance(),dashConstants:b.default,constants:t.default,urlUtils:Object(x.default)(q).getInstance()})).initialize(Ne=Fe.manifestInfo.isDynamic),fe.registerStreamType($,at),J=Object(p.default)(q).create({streamInfo:Fe,type:$,abrController:fe,dashMetrics:Ue,playbackController:Re,timelineConverter:ge,dashConstants:b.default,events:M.default,eventBus:le,errors:R.default,isDynamic:Ne,segmentsController:ie}),(se=function rn(vt,un){return vt?vt!==t.default.TEXT||un?Object(F.default)(q).create({streamInfo:Fe,type:vt,mediaPlayerModel:Ce,manifestModel:he,fragmentModel:Le,errHandler:ae,mediaController:Ae,representationController:J,adapter:oe,textController:pe,abrController:fe,playbackController:Re,settings:ke}):Object(L.default)(q).create({streamInfo:Fe,type:vt,mimeType:K,fragmentModel:Le,textController:pe,errHandler:ae,settings:ke}):(ae.error(new V.default(R.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,R.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}($,be))&&se.initialize(vt),(_e=Object(D.default)(q).create({streamInfo:Fe,type:$,mimeType:K,adapter:oe,dashMetrics:Ue,mediaPlayerModel:Ce,fragmentModel:Le,abrController:fe,playbackController:Re,textController:pe,mediaController:Ae,bufferController:se,settings:ke})).initialize(un),ee=0,Q=!1},getStreamId:ve,getType:de,isUpdating:function lt(){return!!J&&J.isUpdating()},getBufferController:function Jt(){return se},getFragmentModel:function an(){return Le},getScheduleController:St,getRepresentationController:function $t(){return J},getRepresentationInfo:ft,getBufferLevel:function ze(){return se?se.getBufferLevel():0},isBufferingCompleted:tn,createBufferSinks:function wn(vt){var un=Lt();return un?Promise.resolve(un):se?se.createBufferSink(Te,vt):Promise.resolve(null)},updateStreamInfo:function fn(vt){return Fe=vt,tn()?Promise.resolve():se.updateAppendWindow()},getStreamInfo:function Mn(){return Fe},selectMediaInfo:Nn,clearMediaInfoArray:function Gn(){W=[]},addMediaInfo:function Wn(vt){-1===W.indexOf(vt)&&W.push(vt)},prepareTrackSwitch:function Fn(){return new Promise(function(vt){Je.debug("Preparing track switch for type ".concat($));var un=$===t.default.TEXT||ke.get().streaming.trackSwitchMode[$]===t.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&Re.getTimeToStreamEnd(Fe)>ke.get().streaming.buffer.stallThreshold;if(se.getIsBufferingCompleted()&&!un)return se.prepareForNonReplacementTrackSwitch(Te.codec).then(function(){le.trigger(M.default.BUFFERING_COMPLETED,{},{streamId:Fe.id,mediaType:$})}).catch(function(){le.trigger(M.default.BUFFERING_COMPLETED,{},{streamId:Fe.id,mediaType:$})}),void vt();_e.clearScheduleTimer(),_e.setSwitchTrack(!0),un?(le.trigger(M.default.BUFFER_REPLACEMENT_STARTED,{mediaType:$,streamId:Fe.id},{mediaType:$,streamId:Fe.id}),Le.abortRequests(),se.prepareForReplacementTrackSwitch(Te.codec).then(function(){var be=ft();return se.updateBufferTimestampOffset(be)}).then(function(){Gt(),vt()}).catch(function(){Gt(),vt()})):se.prepareForNonReplacementTrackSwitch(Te.codec).then(function(){Kt(),vt()}).catch(function(){Kt(),vt()})})},prepareQualityChange:function mt(vt){Je.debug("Preparing quality switch for type ".concat($));var un=vt.newQuality;Z=!0,_e.clearScheduleTimer();var be=ft(un);_e.setCurrentRepresentation(be),J.prepareQualityChange(un),Le.abortRequests(),se.updateBufferTimestampOffset(be).then(function(){vt.reason&&vt.reason.forceReplace?function Qe(){le.trigger(M.default.BUFFER_REPLACEMENT_STARTED,{mediaType:$,streamId:Fe.id},{mediaType:$,streamId:Fe.id}),se.prepareForReplacementQualitySwitch().then(function(){Gt(),Z=!1}).catch(function(){Gt(),Z=!1})}():ke.get().streaming.buffer.fastSwitchEnabled?function De(vt){var un=Re.getTime(),be=1.5*(isNaN(vt.fragmentDuration)?1:vt.fragmentDuration),yt=Le.getRequests({state:E.default.FRAGMENT_MODEL_EXECUTED,time:un+be,threshold:0})[0];if(yt&&!xe()){var gt=se.getBufferLevel(),rt=fe.getAbandonmentStateFor(Fe.id,$);yt.quality<vt.quality&&gt>=be&&rt!==w.default.ABANDON_LOAD?(Ln(un+be),_e.setCheckPlaybackQuality(!1),_e.startScheduleTimer()):Pe()}else _e.startScheduleTimer();Z=!1}(be):Pe(),Ue.pushPlayListTraceMetrics(new Date,T.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),Ue.createPlaylistTraceMetrics(be.id,1e3*Re.getTime(),Re.getPlaybackRate())})},getMediaInfo:function fi(){return Te},getMediaSource:function _n(){return se.getMediaSource()},setMediaSource:function pn(vt){se.setMediaSource(vt)},getBuffer:Lt,setExplicitBufferingTime:Ln,finalisePlayList:function Xn(vt,un){Ue.pushPlayListTraceMetrics(vt,un)},probeNextRequest:function Xe(){var vt=ft(),un=J&&vt?J.getRepresentationForQuality(vt.quality):null;return ne.getNextSegmentRequestIdempotent(Te,un)},prepareInnerPeriodPlaybackSeeking:function dt(vt){return new Promise(function(un){if(se.hasBufferAtTime(vt.seekTime))return se.pruneBuffer(),void un();_e.clearScheduleTimer(),Le.abortRequests(),se.prepareForPlaybackSeek().then(function(){var yt=se.getAllRangesWithSafetyFactor(vt.seekTime);return se.clearBuffers(yt)}).then(function(){var yt=se.getContinuousBufferTimeForTargetTime(vt.seekTime);if(!isNaN(yt)&&!isNaN(Fe.duration)&&isFinite(Fe.duration)&&yt>=Fe.start+Fe.duration)se.setIsBufferingCompleted(!0),un();else{var gt=isNaN(yt)?vt.seekTime:yt;Ln(gt),se.setSeekTarget(gt);var rt=[];rt.push(se.updateAppendWindow());var hn=ft();rt.push(se.updateBufferTimestampOffset(hn)),Promise.all(rt).then(function(){_e.setInitSegmentRequired(!0),_e.setCheckPlaybackQuality(!1),_e.startScheduleTimer(),un()})}}).catch(function(yt){Je.error(yt)})})},prepareOuterPeriodPlaybackSeeking:function it(){return new Promise(function(vt,un){try{_e.clearScheduleTimer(),Le.abortRequests(),se.prepareForPlaybackSeek().then(function(){return se.pruneAllSafely()}).then(function(){vt()})}catch(be){un(be)}})},reset:function Ve(vt,un){ne&&ne.reset(),se&&(se.reset(vt,un),se=null),_e&&(_e.reset(),_e=null),J&&(J.reset(),J=null),ie&&(ie=null),fe&&fe.unRegisterStreamType(ve(),$),le.off(M.default.DATA_UPDATE_COMPLETED,Wt,at),le.off(M.default.INIT_FRAGMENT_NEEDED,bt,at),le.off(M.default.MEDIA_FRAGMENT_NEEDED,Ut,at),le.off(M.default.MEDIA_FRAGMENT_LOADED,Pt,at),le.off(M.default.BUFFER_LEVEL_STATE_CHANGED,Sn,at),le.off(M.default.BUFFER_CLEARED,nn,at),le.off(M.default.SEEK_TARGET,En,at),le.off(M.default.FRAGMENT_LOADING_ABANDONED,Ye,at),le.off(M.default.FRAGMENT_LOADING_COMPLETED,Ze,at),le.off(M.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,st,at),le.off(M.default.SET_NON_FRAGMENTED_TEXT,ut,at),le.off(M.default.QUOTA_EXCEEDED,kt,at),le.off(M.default.SOURCE_BUFFER_ERROR,Dt,at),Ke(),$=null,Fe=null}},function X(){Je=Object(k.default)(q).getInstance().getLogger(at),Ke(),le.on(M.default.DATA_UPDATE_COMPLETED,Wt,at,{priority:y.default.EVENT_PRIORITY_HIGH}),le.on(M.default.INIT_FRAGMENT_NEEDED,bt,at),le.on(M.default.MEDIA_FRAGMENT_NEEDED,Ut,at),le.on(M.default.MEDIA_FRAGMENT_LOADED,Pt,at),le.on(M.default.BUFFER_LEVEL_STATE_CHANGED,Sn,at),le.on(M.default.BUFFER_CLEARED,nn,at),le.on(M.default.SEEK_TARGET,En,at),le.on(M.default.FRAGMENT_LOADING_ABANDONED,Ye,at),le.on(M.default.FRAGMENT_LOADING_COMPLETED,Ze,at),le.on(M.default.QUOTA_EXCEEDED,kt,at),le.on(M.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,st,at),le.on(M.default.SET_NON_FRAGMENTED_TEXT,ut,at),le.on(M.default.SOURCE_BUFFER_ERROR,Dt,at)}(),at}B.__dashjs_factory_name="StreamProcessor",S.default=f.default.getClassFactory(B)},"./src/streaming/XlinkLoader.js":
/*!**************************************!*\
                  !*** ./src/streaming/XlinkLoader.js ***!
                  \**************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),w=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),E=c(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),F=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js");function f(g){g=g||{};var M=this.context,U=Object(F.default)(M).getInstance(),R=Object(b.default)(M).create({errHandler:g.errHandler,dashMetrics:g.dashMetrics,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,errors:p.default});return{load:function k(x,P,T){var N=function(Y,q){P.resolved=!0,P.resolvedContent=Y||null,U.trigger(L.default.XLINK_ELEMENT_LOADED,{element:P,resolveObject:T,error:Y||q?null:new t.default(p.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,p.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+x)})};if("urn:mpeg:dash:resolve-to-zero:2013"===x)N(null,!0);else{var C=new E.default(x,w.HTTPRequest.XLINK_EXPANSION_TYPE);R.load({request:C,success:function(Y){N(Y)},error:function(){N(null)}})}},reset:function O(){R&&(R.abort(),R=null)}}}f.__dashjs_factory_name="XlinkLoader",S.default=D.default.getClassFactory(f)},"./src/streaming/constants/ConformanceViolationConstants.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/constants/ConformanceViolationConstants.js ***!
                  \******************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S),S.default={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}}},"./src/streaming/constants/Constants.js":
/*!**********************************************!*\
                  !*** ./src/streaming/constants/Constants.js ***!
                  \**********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,F(M.key),M)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==t(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S);var p=new(function(){function f(){(function b(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function E(f,g,y){return g&&w(f.prototype,g),y&&w(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),f}());S.default=p},"./src/streaming/constants/MetricsConstants.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/constants/MetricsConstants.js ***!
                  \*****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,F(M.key),M)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==t(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S);var p=new(function(){function f(){(function b(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function E(f,g,y){return g&&w(f.prototype,g),y&&w(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),f}());S.default=p},"./src/streaming/constants/ProtectionConstants.js":
/*!********************************************************!*\
                  !*** ./src/streaming/constants/ProtectionConstants.js ***!
                  \********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,F(M.key),M)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==t(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S);var p=new(function(){function f(){(function b(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function E(f,g,y){return g&&w(f.prototype,g),y&&w(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),f}());S.default=p},"./src/streaming/controllers/AbrController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/AbrController.js ***!
                  \****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),b=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),E=c(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),F=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),f=c(
/*! ../rules/RulesContext */
"./src/streaming/rules/RulesContext.js"),g=c(
/*! ../rules/SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),y=c(
/*! ../rules/SwitchRequestHistory */
"./src/streaming/rules/SwitchRequestHistory.js"),M=c(
/*! ../rules/DroppedFramesHistory */
"./src/streaming/rules/DroppedFramesHistory.js"),U=c(
/*! ../rules/ThroughputHistory */
"./src/streaming/rules/ThroughputHistory.js"),R=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),V=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),k=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),O=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function N(){var le,Fe,$,ae,K,ge,oe,he,Ce,Le,fe,Re,Ae,pe,Ue,ke,we,He,at,Je,Ne,Te,W,se,_e,J,B=this.context,Y=Object(R.default)(B).getInstance(),q=Object(L.default)(B).getInstance();function X(){K={},ge={},he={},oe={},at={},Te={},W={},se={},void 0===Le&&(Le=!1),Je&&Je.reset(),He=void 0,Je=void 0,Ne=void 0,clearTimeout(Ce),Ce=null}function xe(Lt){var Jt=Lt.request.mediaType,an=Lt.streamId;if(Jt&&an&&oe[an]&&J.get().streaming.abr.autoSwitchBitrate[Jt]){var fn=oe[an][Jt];if(fn){var Mn=Object(f.default)(B).create({abrController:le,streamProcessor:fn,currentRequest:Lt.request,useBufferOccupancyABR:Te[Jt],useL2AABR:W[Jt],useLoLPABR:se[Jt],videoModel:pe}),Nn=$.shouldAbandonFragment(Mn,an);Nn.quality>g.default.NO_CHANGE&&fn.getFragmentModel().getRequests({state:F.default.FRAGMENT_MODEL_LOADING,index:Lt.request.index})[0]&&(he[an][Jt].state=w.default.ABANDON_LOAD,at[an][Jt].reset(),at[an][Jt].push({oldValue:Wt(Jt,an),newValue:Nn.quality,confidence:1,reason:Nn.reason}),Sn(Jt,ae.getActiveStreamInfo(),Nn.quality,Nn.reason),clearTimeout(Ce),Ce=setTimeout(function(){he[an][Jt].state=w.default.ALLOW_LOAD,Ce=null},J.get().streaming.abandonLoadTimeout))}}}function Ke(Lt){Lt.mediaType===b.default.VIDEO&&(void 0!==He&&Je.push(Lt.streamId,He,pe.getPlaybackQuality()),He=Lt.newQuality)}function Ve(Lt){Lt.metric===w.default.HTTP_REQUEST&&Lt.value&&Lt.value.type===V.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Lt.mediaType===b.default.AUDIO||Lt.mediaType===b.default.VIDEO)&&Ne.push(Lt.mediaType,Lt.value,J.get().streaming.abr.useDeadTimeLatency),Lt.metric===w.default.BUFFER_LEVEL&&(Lt.mediaType===b.default.AUDIO||Lt.mediaType===b.default.VIDEO)&&function Pe(Lt,Jt){J.get().streaming.abr.ABRStrategy===b.default.ABR_STRATEGY_DYNAMIC&&function Ye(Lt,Jt){try{var an=Ue.getStableBufferTime(),Nn=Te[Lt],Wn=Jt>(Nn?.5*an:an);Te[Lt]=Wn,Wn!==Nn&&Fe.info(Wn?"["+Lt+"] switching from throughput to buffer occupancy ABR rule (buffer: "+Jt.toFixed(3)+").":"["+Lt+"] switching from buffer occupancy to throughput ABR rule (buffer: "+Jt.toFixed(3)+").")}catch(Gn){Fe.error(Gn)}}(Lt,Jt)}(Lt.mediaType,.001*Lt.value.level)}function lt(Lt,Jt){try{return K[Jt]=K[Jt]||{},K[Jt].hasOwnProperty(Lt)||(K[Jt][Lt]=0),function Ht(Lt,Jt,an){if(Jt!==b.default.VIDEO||!J.get().streaming.abr.limitBitrateByPortal||!oe[an]||!oe[an][Jt])return Lt;Le||kt();var fn=oe[an][Jt].getStreamInfo(),Mn=Ae.getAdaptationForType(fn.index,Jt,fn).Representation_asArray,Nn=Lt;if(fe>0&&Re>0){for(;Nn>0&&Mn[Nn]&&fe<Mn[Nn].width&&fe-Mn[Nn-1].width<Mn[Nn].width-fe;)Nn-=1;for(;Nn<Mn.length-1&&Mn[Nn].width===Mn[Nn+1].width;)Nn+=1}return Nn}(function wt(Lt,Jt,an){var fn=K[an][Jt],Mn=J.get().streaming.abr.maxRepresentationRatio[Jt];return isNaN(Mn)||Mn>=1||Mn<0?Lt:Math.min(Lt,Math.round(fn*Mn))}(function Ut(Lt,Jt){var an=K[Jt][Lt],fn=an;if(!oe[Jt]||!oe[Jt][Lt])return fn;var Mn=dt(Lt,Jt);void 0!==Mn&&(fn=Math.max(an,Mn));var Nn=function it(Lt,Jt){try{var an=Ue.getAbrBitrateParameter("maxBitrate",Lt);return an>-1?Qe(oe[Jt][Lt].getMediaInfo(),an,Jt):void 0}catch{return}}(Lt,Jt);return void 0!==Nn&&(fn=Math.min(fn,Nn)),fn}(Lt,Jt),Lt,Jt),Lt,Jt)}catch{return}}function dt(Lt,Jt){try{return function bt(Lt,Jt){try{var an=Ue.getAbrBitrateParameter("minBitrate",Lt);if(an>-1){var fn=oe[Jt][Lt].getMediaInfo(),Mn=De(fn),Nn=Qe(fn,an,Jt);return Mn[Nn]&&Nn<Mn.length-1&&Mn[Nn].bitrate<1e3*an&&Nn++,Nn}return}catch{return}}(Lt,Jt)}catch{return}}function Wt(Lt){var Jt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return Jt||(Jt=ae.getActiveStreamInfo().id),Lt&&oe[Jt]&&oe[Jt][Lt]&&Jt?(ge[Jt]=ge[Jt]||{},ge[Jt].hasOwnProperty(Lt)||(ge[Jt][Lt]=0),ge[Jt][Lt]):0}catch{return 0}}function Sn(Lt,Jt,an){var fn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(Jt&&Jt.id&&Lt){var Mn=Jt.id,Nn=Wt(Lt,Mn);Object(k.checkInteger)(an);var Wn=lt(Lt,Mn);an!==Nn&&an>=0&&an<=Wn&&Dt(Lt,Nn,an,Wn,fn,Mn)}}function Dt(Lt,Jt,an,fn,Mn,Nn){if(Lt&&oe[Nn]&&oe[Nn][Lt]){var Wn=oe[Nn][Lt].getStreamInfo(),Gn=Wn&&Wn.manifestInfo&&Wn.manifestInfo.isDynamic,fi=_e.getCurrentBufferLevel(Lt);Fe.info("Stream ID: "+Nn+" ["+Lt+"] switch from "+Jt+" to "+an+"/"+fn+" (buffer: "+fi+") "+(Mn?JSON.stringify(Mn):".")),ge[Nn]=ge[Nn]||{},ge[Nn][Lt]=an;var _n=function mt(Lt,Jt,an){if(Jt&&oe&&oe[Lt]&&oe[Lt][Jt]){var fn=De(oe[Lt][Jt].getMediaInfo());return fn[an]?fn[an]:null}return null}(Nn,Lt,an);q.trigger(D.default.QUALITY_CHANGE_REQUESTED,{oldQuality:Jt,newQuality:an,reason:Mn,streamInfo:Wn,bitrateInfo:_n,maxIdx:fn,mediaType:Lt},{streamId:Wn.id,mediaType:Lt});var pn=Ne.getAverageThroughput(Lt,Gn);isNaN(pn)||we.setSavedBitrateSettings(Lt,pn)}}function Qe(Lt,Jt,an){var fn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,Mn=Lt&&Lt.type?oe[an][Lt.type].getRepresentationInfo():null;if(J.get().streaming.abr.useDeadTimeLatency&&fn&&Mn&&Mn.fragmentDuration){var Nn=Mn.fragmentDuration;if((fn/=1e3)>Nn)return 0;Jt*=1-fn/Nn}for(var Gn=De(Lt),fi=Gn.length-1;fi>=0;fi--)if(1e3*Jt>=Gn[fi].bitrate)return fi;return 0}function De(Lt){var Jt=[];if(!Lt||!Lt.bitrateList)return Jt;for(var Mn,an=Lt.bitrateList,fn=Lt.type,Nn=0,Wn=an.length;Nn<Wn;Nn++)(Mn=new E.default).mediaType=fn,Mn.qualityIndex=Nn,Mn.bitrate=an[Nn].bandwidth,Mn.width=an[Nn].width,Mn.height=an[Nn].height,Mn.scanType=an[Nn].scanType,Jt.push(Mn);return Jt}function kt(){if(pe){var Jt=J.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;fe=pe.getClientWidth()*Jt,Re=pe.getClientHeight()*Jt}}return le={initialize:function Z(){Je=Object(M.default)(B).create(),Ne=Object(U.default)(B).create({settings:J}),($=Object(t.default)(B).create({dashMetrics:_e,customParametersModel:ke,mediaPlayerModel:Ue,settings:J})).initialize(),q.on(O.default.QUALITY_CHANGE_RENDERED,Ke,le),q.on(O.default.METRIC_ADDED,Ve,le),q.on(D.default.LOADING_PROGRESS,xe,le)},isPlayingAtTopQuality:function st(Lt){var Jt=Lt?Lt.id:null,an=Wt(b.default.AUDIO,Jt),fn=Wt(b.default.VIDEO,Jt);return an===lt(b.default.AUDIO,Jt)&&fn===lt(b.default.VIDEO,Jt)},updateTopQualityIndex:function ct(Lt){var Jt=Lt.type,an=Lt.streamInfo.id,fn=Lt.representationCount-1;return K[an]=K[an]||{},K[an][Jt]=fn,fn},clearDataForStream:function $t(Lt){Je&&Je.clearForStream(Lt),oe[Lt]&&delete oe[Lt],at[Lt]&&delete at[Lt],he[Lt]&&delete he[Lt]},getThroughputHistory:function Ze(){return Ne},getBitrateList:De,getQualityForBitrate:Qe,getTopBitrateInfoFor:function en(Lt){var Jt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Jt||(Jt=ae.getActiveStreamInfo().id),Lt&&oe&&oe[Jt]&&oe[Jt][Lt]){var an=lt(Lt,Jt),fn=De(oe[Jt][Lt].getMediaInfo());return fn[an]?fn[an]:null}return null},getMinAllowedIndexFor:dt,getMaxAllowedIndexFor:lt,getInitialBitrateFor:function ln(Lt,Jt){if(function de(){if(!we||!we.hasOwnProperty("getSavedBitrateSettings"))throw new Error(b.default.MISSING_CONFIG_ERROR)}(),Lt===b.default.TEXT)return NaN;var an=we.getSavedBitrateSettings(Lt),fn=Ue.getAbrBitrateParameter("initialBitrate",Lt),Mn=J.get().streaming.abr.initialRepresentationRatio[Lt];if(-1===fn)if(Mn>-1){var Nn=oe[Jt][Lt].getStreamInfo(),Wn=Ae.getAdaptationForType(Nn.index,Lt,Nn).Representation_asArray;fn=Array.isArray(Wn)?Wn[Math.max(Math.round(Wn.length*Mn)-1,0)].bandwidth/1e3:0}else fn=isNaN(an)?Lt===b.default.VIDEO?1e3:100:an;return fn},getQualityFor:Wt,getAbandonmentStateFor:function nn(Lt,Jt){return he[Lt]&&he[Lt][Jt]?he[Lt][Jt].state:null},setPlaybackQuality:Sn,checkPlaybackQuality:function cn(Lt,Jt){try{if(!(Lt&&oe&&oe[Jt]&&oe[Jt][Lt]))return!1;if(Je){var an=pe.getPlaybackQuality();an&&Je.push(Jt,He,an)}if(!J.get().streaming.abr.autoSwitchBitrate[Lt])return!1;var fn=Wt(Lt,Jt),Mn=Object(f.default)(B).create({abrController:le,switchHistory:at[Jt][Lt],droppedFramesHistory:Je,streamProcessor:oe[Jt][Lt],currentValue:fn,useBufferOccupancyABR:Te[Lt],useL2AABR:W[Lt],useLoLPABR:se[Lt],videoModel:pe}),Nn=dt(Lt,Jt),Wn=lt(Lt,Jt),Gn=$.getMaxQuality(Mn),fi=Gn.quality;return void 0!==Nn&&(fi>g.default.NO_CHANGE?fi:fn)<Nn&&(fi=Nn),fi>Wn&&(fi=Wn),at[Jt][Lt].push({oldValue:fn,newValue:fi}),fi>g.default.NO_CHANGE&&fi!==fn&&(he[Jt][Lt].state===w.default.ALLOW_LOAD||fi<fn)&&(Dt(Lt,fn,fi,Wn,Gn.reason,Jt),!0)}catch{return!1}},setElementSize:kt,setWindowResizeEventCalled:function ut(Lt){Le=Lt},registerStreamType:function ne(Lt,Jt){var an=Jt.getStreamInfo().id;oe[an]||(oe[an]={}),at[an]||(at[an]={}),he[an]||(he[an]={}),at[an][Lt]=Object(y.default)(B).create(),oe[an][Lt]=Jt,he[an][Lt]={},he[an][Lt].state=w.default.ALLOW_LOAD,function ie(Lt){var Jt=J.get().streaming.abr.ABRStrategy;Jt===b.default.ABR_STRATEGY_L2A?(Te[Lt]=!1,se[Lt]=!1,W[Lt]=!0):Jt===b.default.ABR_STRATEGY_LoLP?(Te[Lt]=!1,se[Lt]=!0,W[Lt]=!1):Jt===b.default.ABR_STRATEGY_BOLA?(Te[Lt]=!0,se[Lt]=!1,W[Lt]=!1):Jt===b.default.ABR_STRATEGY_THROUGHPUT?(Te[Lt]=!1,se[Lt]=!1,W[Lt]=!1):Jt===b.default.ABR_STRATEGY_DYNAMIC&&(Te[Lt]=!(!Te||!Te[Lt])&&Te[Lt],se[Lt]=!1,W[Lt]=!1)}(Lt),Lt===b.default.VIDEO&&kt()},unRegisterStreamType:function ee(Lt,Jt){try{oe[Lt]&&oe[Lt][Jt]&&delete oe[Lt][Jt],at[Lt]&&at[Lt][Jt]&&delete at[Lt][Jt],he[Lt]&&he[Lt][Jt]&&delete he[Lt][Jt]}catch{}},setConfig:function ve(Lt){Lt&&(Lt.streamController&&(ae=Lt.streamController),Lt.domStorage&&(we=Lt.domStorage),Lt.mediaPlayerModel&&(Ue=Lt.mediaPlayerModel),Lt.customParametersModel&&(ke=Lt.customParametersModel),Lt.dashMetrics&&(_e=Lt.dashMetrics),Lt.adapter&&(Ae=Lt.adapter),Lt.videoModel&&(pe=Lt.videoModel),Lt.settings&&(J=Lt.settings))},reset:function ue(){X(),q.off(D.default.LOADING_PROGRESS,xe,le),q.off(O.default.QUALITY_CHANGE_RENDERED,Ke,le),q.off(O.default.METRIC_ADDED,Ve,le),$&&$.reset()}},function Q(){Fe=Y.getLogger(le),X()}(),le}N.__dashjs_factory_name="AbrController";var C=p.default.getSingletonFactory(N);C.QUALITY_DEFAULT=0,p.default.updateSingletonFactory(N.__dashjs_factory_name,C),S.default=C},"./src/streaming/controllers/BaseURLController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/BaseURLController.js ***!
                  \********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../models/BaseURLTreeModel */
"./src/streaming/models/BaseURLTreeModel.js"),b=c(
/*! ../utils/BaseURLSelector */
"./src/streaming/utils/BaseURLSelector.js"),w=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),E=c(
/*! ../../dash/vo/BaseURL */
"./src/dash/vo/BaseURL.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function p(){var f,g,R,V,y=this.context,M=Object(L.default)(y).getInstance(),U=Object(w.default)(y).getInstance();function k(B){R.invalidateSelectedIndexes(B.entry)}return f={reset:function N(){R.reset(),V.reset()},initialize:function C(B){R.setConfig({adapter:g}),function P(B){R.update(B),V.chooseSelector(g.getIsDVB(B))}(B)},resolve:function T(B){var q=R.getForPath(B).reduce(function(le,Fe){var $=V.select(Fe);return $?(U.isRelative($.url)?le.url=U.resolve($.url,le.url):(le.url=$.url,le.serviceLocation=$.serviceLocation),le.availabilityTimeOffset=$.availabilityTimeOffset,le.availabilityTimeComplete=$.availabilityTimeComplete,le):new E.default},new E.default);if(!U.isRelative(q.url))return q},setConfig:function x(B){B.baseURLTreeModel&&(R=B.baseURLTreeModel),B.baseURLSelector&&(V=B.baseURLSelector),B.adapter&&(g=B.adapter)}},function O(){R=Object(t.default)(y).create(),V=Object(b.default)(y).create(),M.on(D.default.SERVICE_LOCATION_BLACKLIST_CHANGED,k,f)}(),f}p.__dashjs_factory_name="BaseURLController",S.default=F.default.getClassFactory(p)},"./src/streaming/controllers/BlacklistController.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/controllers/BlacklistController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js");function w(E){E=E||{};var F,L=[],D=Object(b.default)(this.context).getInstance(),p=E.updateEventName,f=E.addBlacklistEventName;function y(V){-1===L.indexOf(V)&&(L.push(V),D.trigger(p,{entry:V}))}function M(V){y(V.entry)}return F={add:y,contains:function g(V){return!!(L.length&&V&&V.length)&&-1!==L.indexOf(V)},reset:function R(){L=[]}},function U(){f&&D.on(f,M,F)}(),F}w.__dashjs_factory_name="BlackListController",S.default=t.default.getClassFactory(w)},"./src/streaming/controllers/BufferController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/BufferController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),w=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),E=c(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),F=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),f=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),g=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),y=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),M=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),U=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),V=.01,O="BufferController";function x(P){P=P||{};var oe,he,Ce,Le,fe,Re,Ae,pe,Ue,ke,we,He,at,Je,Ne,Te,W,se,T=this.context,N=Object(F.default)(T).getInstance(),C=P.errHandler,B=P.fragmentModel,Y=P.representationController,q=P.adapter,le=P.textController,Fe=P.abrController,$=P.playbackController,ae=P.streamInfo,K=P.type,ge=P.settings;function ie(Gt){Re=Gt}function ee(Gt){return q.convertRepresentationToRepresentationInfo(Y.getRepresentationForQuality(Gt))}function ve(Gt){ge.get().streaming.cacheInitSegments&&(he.info("Init fragment finished loading saving to",K+"'s init cache"),Ne.save(Gt.chunk)),he.debug("Append Init fragment",K," with representationId:",Gt.chunk.representationId," and quality:",Gt.chunk.quality,", data size:",Gt.chunk.bytes.byteLength),Ke(Gt.chunk)}function xe(Gt){Ke(Gt.chunk,Gt.request)}function Ke(Gt){Ue.append(Gt,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(rn){lt(rn)}).catch(function(rn){lt(rn)}),Gt.mediaInfo.type===t.default.VIDEO&&Qt(L.default.VIDEO_CHUNK_RECEIVED,{chunk:Gt})}function Ve(Gt){if(Gt&&Gt.length>0)for(var Kt=0,rn=Gt.length;Kt<rn;Kt++)he.debug("Buffered range: "+Gt.start(Kt)+" - "+Gt.end(Kt)+", currentTime = ",$.getTime())}function lt(Gt){if(Gt.error)return 22===Gt.error.code&&function it(){if(Je=!0,fe=.8*tn(),he.warn("Quota exceeded, Critical Buffer: "+fe),fe>0){var Gt=Math.max(.2*fe,1),Kt=fe-Gt,rn=Math.min(ge.get().streaming.buffer.bufferTimeAtTopQuality,.9*Kt),En=Math.min(ge.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*Kt),Ln={streaming:{buffer:{bufferToKeep:parseFloat(Gt.toFixed(5)),bufferTimeAtTopQuality:parseFloat(rn.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(En.toFixed(5))}}};ge.update(Ln)}}(),void((22===Gt.error.code||!Xe())&&(he.warn("Clearing playback buffer to overcome quota exceed situation"),Qt(L.default.QUOTA_EXCEEDED,{criticalBufferLevel:fe,quotaExceededTime:Gt.chunk.start}),kt(ut())));if(Ue&&(Pe(),Je=!1,(we=Gt.chunk)&&we.endFragment)){we&&!isNaN(we.index)&&(Ae=Math.max(we.index,Ae),Ye());var Kt=Ue.getAllBufferRanges();we.segmentType===M.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Ve(Kt),Sn(),function dt(){if(!isNaN(se)){if(K!==t.default.AUDIO&&K!==t.default.VIDEO)return void(se=NaN);var Gt=$.getTime(),Kt=Qe(Gt,0),rn=Qe(se,0);if(Kt&&rn&&Kt.start===rn.start)return void(se=NaN);var En=Y.getCurrentRepresentation().segmentDuration,Ln=Qe(se,En);Ln&&(ge.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(Gt-se)>En?se<=Ln.end&&$.seek(Math.max(se,Ln.start),!1,!0):Gt<Ln.start&&$.seek(Ln.start,!1,!0))}}()),we&&Qt(L.default.BYTES_APPENDED_END_FRAGMENT,{quality:we.quality,startTime:we.start,index:we.index,bufferedRanges:Kt,segmentType:we.segmentType,mediaType:K})}}function en(){return new Promise(function(Gt,Kt){var rn=ln();if(!rn||0===rn.length)return Sn(),void Gt();kt(rn).then(function(){Gt()}).catch(function(En){Kt(En)})})}function ln(Gt){var Kt=[],rn=Ue.getAllBufferRanges();if(!rn||0===rn.length)return Kt;if(!Gt&&0!==Gt||isNaN(Gt))Kt.push({start:rn.start(0),end:rn.end(rn.length-1)+.5});else{var En=function cn(Gt,Kt){var rn=ge.get().streaming.buffer.bufferToKeep,En=Kt.start(0);if(Gt-En>rn){var Xn=Math.max(0,Gt-rn),vt=B.getRequests({state:w.default.FRAGMENT_MODEL_EXECUTED,time:Gt,threshold:V})[0];if(vt&&(Xn=Math.min(vt.startTime,Xn)),Xn>0)return{start:En,end:Xn}}return null}(Gt,rn),Ln=function Wt(Gt,Kt){var rn=Kt.end(Kt.length-1)+.5,En=ze(Gt),Xn=ae.manifestInfo.duration>=ge.get().streaming.buffer.longFormContentDurationThreshold?ge.get().streaming.buffer.bufferTimeAtTopQualityLongForm:ge.get().streaming.buffer.bufferTimeAtTopQuality,vt=isNaN(En)?Gt:Math.min(En,Gt+Xn);if(vt>=Kt.end(Kt.length-1))return null;var un=B.getRequests({state:w.default.FRAGMENT_MODEL_EXECUTED,time:Gt,threshold:V})[0];if(un&&(vt=Math.max(un.startTime+un.duration,vt)),ge.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var yt=0;yt<Kt.length;yt++)if(Kt.start(yt)<=Gt&&Gt<=Kt.end(yt)&&Kt.start(yt)<=vt&&vt<=Kt.end(yt)){var gt=vt;vt=yt+1<Kt.length?Kt.start(yt+1):Kt.end(yt)+1,he.debug("Buffered range ["+Kt.start(yt)+", "+Kt.end(yt)+"] overlaps with targetTime "+Gt+" and range to be pruned ["+gt+", "+rn+"], using ["+vt+", "+rn+"] instead"+(vt<rn?"":" (no actual pruning)"));break}return vt<Kt.end(Kt.length-1)?{start:vt,end:rn}:null}(Gt,rn);En&&Kt.push(En),Ln&&Kt.push(Ln)}return Kt}function Sn(){(!W||K===t.default.TEXT&&le.isTextEnabled())&&Pe()}function nn(){Ze()}function Dt(){Ze(),se=NaN}function Qe(Gt,Kt){var be,yt,rn=Ue.getAllBufferRanges(),En=0,Ln=0,Xn=null,vt=null,un=0,gt=isNaN(Kt)?.15:Kt;if(null!=rn){for(yt=0,be=rn.length;yt<be;yt++)if(En=rn.start(yt),Ln=rn.end(yt),null===Xn)un=Math.abs(En-Gt),(Gt>=En&&Gt<Ln||un<=gt)&&(Xn=En,vt=Ln);else{if(!((un=En-vt)<=gt))break;vt=Ln}if(null!==Xn)return{start:Xn,end:vt}}return null}function Pe(){if($){var Gt=ge.get().streaming.gaps.jumpGaps&&!isNaN(ge.get().streaming.gaps.smallGapLimit)?ge.get().streaming.gaps.smallGapLimit:NaN;Le=Math.max(function De(Gt,Kt){var rn;return ge.get().streaming.gaps.jumpGaps&&(Kt=ge.get().streaming.gaps.smallGapLimit),null===(rn=Qe(Gt,Kt))?0:rn.end-Gt}($.getTime()||0,Gt),0),Qt(L.default.BUFFER_LEVEL_UPDATED,{mediaType:K,bufferLevel:Le}),Ze()}}function Ye(){var Gt=Ae>=pe-1,Kt=$.getTimeToStreamEnd(ae)-Le<1e-5;(Gt||Kt)&&!Ce&&(St(!0),he.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(ae.id," and type ").concat(K)))}function Ze(){K!==t.default.AUDIO&&K!==t.default.VIDEO||((!$.getLowLatencyModeEnabled()&&Le<ge.get().streaming.buffer.stallThreshold||0===Le)&&!Ce?ct(b.default.BUFFER_EMPTY):(Ce||Le>=ge.get().streaming.buffer.stallThreshold||$.getLowLatencyModeEnabled()&&Le>0)&&ct(b.default.BUFFER_LOADED))}function ct(Gt){ke===Gt||Gt===b.default.BUFFER_EMPTY&&0===$.getTime()||K===t.default.TEXT&&!le.isTextEnabled()||(ke=Gt,Qt(L.default.BUFFER_LEVEL_STATE_CHANGED,{state:Gt}),Qt(Gt===b.default.BUFFER_LOADED?L.default.BUFFER_LOADED:L.default.BUFFER_EMPTY),he.debug(Gt===b.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function st(){!Ue||K===t.default.TEXT||Ce||kt(ut())}function ut(){var Gt=[],Kt=Ue.getAllBufferRanges();if(!Kt||0===Kt.length)return Gt;var rn=$.getTime(),En=Math.max(0,rn-ge.get().streaming.buffer.bufferToKeep),Ln=B.getRequests({state:w.default.FRAGMENT_MODEL_EXECUTED,time:rn,threshold:V})[0];if(Ln)En=Math.min(Ln.startTime,En);else if(0===rn&&$.getIsDynamic())return[];if(Kt.start(0)<=En){for(var Xn={start:0,end:En},vt=0;vt<Kt.length&&Kt.end(vt)<=En;vt++)Xn.end=Kt.end(vt);Xn.start<Xn.end&&Gt.push(Xn)}return Gt}function kt(Gt){return new Promise(function(Kt,rn){if(Gt&&Ue&&0!==Gt.length){var En=[];Gt.forEach(function(Ln){En.push(function $t(Gt){return new Promise(function(Kt,rn){Gt.resolve=Kt,Gt.reject=rn,Te.push(Gt)})}(Ln))}),at||Lt(),Promise.all(En).then(function(){Kt()}).catch(function(Ln){rn(Ln)})}else Kt()})}function Lt(){try{if(0===Te.length||!Ue)return he.debug("Nothing to prune, halt pruning"),Te=[],void(at=!1);var Gt=Ue.getBuffer();if(!Gt||!Gt.buffered||0===Gt.buffered.length)return he.debug("SourceBuffer is empty (or does not exist), halt pruning"),Te=[],void(at=!1);var Kt=Te.shift();he.debug("".concat(K,": Removing buffer from: ").concat(Kt.start," to ").concat(Kt.end)),at=!0,$.getTime()<Kt.end&&St(!1),Ue.remove(Kt).then(function(En){Jt(En)}).catch(function(En){Jt(En)})}catch{at=!1}}function Jt(Gt){he.debug("onRemoved buffer from:",Gt.from,"to",Gt.to),Ve(Ue.getAllBufferRanges()),0===Te.length&&(at=!1,Pe()),Gt.unintended&&(he.warn("Detected unintended removal from:",Gt.from,"to",Gt.to,"setting streamprocessor time to",Gt.from),Qt(L.default.SEEK_TARGET,{time:Gt.from})),at?Lt():(W?W=!1:Pe(),Qt(L.default.BUFFER_CLEARED,{from:Gt.from,to:Gt.to,unintended:Gt.unintended,hasEnoughSpaceToAppend:Xe(),quotaExceeded:Je}))}function an(Gt){return new Promise(function(Kt){Gt&&void 0!==Gt.MSETimeOffset&&Ue&&Ue.updateTimestampOffset?Ue.updateTimestampOffset(Gt.MSETimeOffset).then(function(){Kt()}).catch(function(){Kt()}):Kt()})}function fn(){return Ue&&!Ce?Ue.updateAppendWindow(ae):Promise.resolve()}function Nn(){++He*(ge.get().streaming.wallclockTimeUpdateInterval/1e3)>=ge.get().streaming.buffer.bufferPruningInterval&&(He=0,st())}function Wn(){Ze()}function St(Gt){Ce!==Gt&&((Ce=Gt)?Qt(L.default.BUFFERING_COMPLETED):pe=Number.POSITIVE_INFINITY)}function tn(){try{var rn,En,Gt=Ue.getAllBufferRanges(),Kt=0;if(!Gt)return Kt;for(En=0,rn=Gt.length;En<rn;En++)Kt+=Gt.end(En)-Gt.start(En);return Kt}catch{return 0}}function ze(Gt){try{var Kt=Gt,rn=Ue.getAllBufferRanges();if(!rn||0===rn.length)return NaN;for(var En=0;Kt===Gt&&En<rn.length;){var Ln=rn.start(En),Xn=rn.end(En);Kt>=Ln&&Kt<=Xn&&(Kt=Xn),En+=1}return Kt===Gt?NaN:Kt}catch{}}function Xe(){var Gt=tn();return isNaN(Gt)||Gt<fe}function Qt(Gt,Kt){N.trigger(Gt,Kt||{},{streamId:ae.id,mediaType:K})}function wn(Gt,Kt){if(fe=Number.POSITIVE_INFINITY,ke=void 0,pe=Number.POSITIVE_INFINITY,Ae=0,we=null,Ce=!1,at=!1,Je=!1,Le=0,He=0,Te=[],se=NaN,Ue){var rn=Ue;Ue=null,!Gt&&!Kt&&rn.abort().then(function(){rn.reset(Kt),rn=null})}W=!1}return oe={initialize:function J(Gt){ie(Gt),N.on(L.default.INIT_FRAGMENT_LOADED,ve,oe),N.on(L.default.MEDIA_FRAGMENT_LOADED,xe,oe),N.on(L.default.WALLCLOCK_TIME_UPDATED,Nn,oe),N.on(U.default.PLAYBACK_PLAYING,Dt,oe),N.on(U.default.PLAYBACK_PROGRESS,Sn,oe),N.on(U.default.PLAYBACK_TIME_UPDATED,Sn,oe),N.on(U.default.PLAYBACK_RATE_CHANGED,Wn,oe),N.on(U.default.PLAYBACK_STALLED,nn,oe)},getStreamId:function Q(){return ae.id},getType:function Z(){return K},getBufferControllerType:function ne(){return O},createBufferSink:function X(Gt){var Kt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(rn,En){if(Ne&&Gt&&Re){var Ln=Fe.getQualityFor(K,ae.id);Ue=Object(E.default)(T).create({mediaSource:Re,textController:le,eventBus:N}),function ue(Gt,Kt,rn){var En=ee(rn);return Kt&&Kt[K]&&(K===t.default.VIDEO||K===t.default.AUDIO)?Ue.initializeForStreamSwitch(Gt,En,Kt[K]):Ue.initializeForFirstUse(ae,Gt,En)}(Gt,Kt,Ln).then(function(){return an(ee(Ln))}).then(function(){rn(Ue)}).catch(function(Xn){he.fatal("Caught error on create SourceBuffer: "+Xn),C.error(new g.default(y.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,y.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+K)),En(Xn)})}else rn(null)})},getBuffer:function Gn(){return Ue},getBufferLevel:function fi(){return Le},getRangeAt:Qe,hasBufferAtTime:function mt(Gt){try{var Kt=Ue.getAllBufferRanges();if(!Kt||0===Kt.length)return!1;for(var rn=0;rn<Kt.length;){var En=Kt.start(rn),Ln=Kt.end(rn);if(Gt>=En&&Gt<=Ln)return!0;rn+=1}return!1}catch(Xn){return he.error(Xn),!1}},pruneBuffer:st,setMediaSource:ie,getMediaSource:function _n(){return Re},appendInitSegmentFromCache:function de(Gt){var Kt=Ne.extract(ae.id,Gt);return!!Kt&&(he.info("Append Init fragment",K," with representationId:",Kt.representationId," and quality:",Kt.quality,", data size:",Kt.bytes.byteLength),Ke(Kt),!0)},getIsBufferingCompleted:function pn(){return Ce},setIsBufferingCompleted:St,getIsPruningInProgress:function ft(){return at},reset:function Fn(Gt,Kt){N.off(L.default.INIT_FRAGMENT_LOADED,ve,this),N.off(L.default.MEDIA_FRAGMENT_LOADED,xe,this),N.off(L.default.WALLCLOCK_TIME_UPDATED,Nn,this),N.off(U.default.PLAYBACK_PLAYING,Dt,this),N.off(U.default.PLAYBACK_PROGRESS,Sn,this),N.off(U.default.PLAYBACK_TIME_UPDATED,Sn,this),N.off(U.default.PLAYBACK_RATE_CHANGED,Wn,this),N.off(U.default.PLAYBACK_STALLED,nn,this),wn(Gt,Kt)},prepareForPlaybackSeek:function bt(){return Ce&&St(!1),Ue.abort()},prepareForReplacementTrackSwitch:function Ut(Gt){return new Promise(function(Kt,rn){Ue.abort().then(function(){return fn()}).then(function(){return ge.get().streaming.buffer.useChangeTypeForTrackSwitch?Ue.changeType(Gt):Promise.resolve()}).then(function(){return en()}).then(function(){St(!1),Kt()}).catch(function(En){rn(En)})})},prepareForNonReplacementTrackSwitch:function Ht(Gt){return new Promise(function(Kt,rn){fn().then(function(){return ge.get().streaming.buffer.useChangeTypeForTrackSwitch?Ue.changeType(Gt):Promise.resolve()}).then(function(){Kt()}).catch(function(En){rn(En)})})},prepareForReplacementQualitySwitch:function wt(){return new Promise(function(Gt,Kt){Ue.abort().then(function(){return fn()}).then(function(){return en()}).then(function(){St(!1),Gt()}).catch(function(rn){Kt(rn)})})},updateAppendWindow:fn,getAllRangesWithSafetyFactor:ln,getContinuousBufferTimeForTargetTime:ze,clearBuffers:kt,pruneAllSafely:en,updateBufferTimestampOffset:an,setSeekTarget:function Pt(Gt){se=Gt},segmentRequestingCompleted:function Mn(Gt){isNaN(Gt)||(pe=Gt,Ye())}},function _e(){he=Object(p.default)(T).getInstance().getLogger(oe),Ne=Object(f.default)(T).getInstance(),wn()}(),oe}x.__dashjs_factory_name=O,S.default=D.default.getClassFactory(x)},"./src/streaming/controllers/CatchupController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/CatchupController.js ***!
                  \********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),F=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),p=c(
/*! ../../core/Utils */
"./src/core/Utils.js");function f(){var M,U,R,V,k,O,x,P,T,N,g=this.context,y=Object(w.default)(g).getInstance();function $(){U=!1;var He=p.default.parseUserAgent();R=He&&He.browser&&He.browser.name&&"safari"===He.browser.name.toLowerCase()}function ae(){U=!1}function K(He){if(He.streamId===O.getActiveStreamInfo().id&&T){var at=x.getLiveDelay();x.getBufferLevel()>at/2&&(T=!1)}}function ge(He){He.streamId===O.getActiveStreamInfo().id&&(T=He.state===D.default.BUFFER_EMPTY)}function oe(){P.getCatchupModeEnabled()||V.setPlaybackRate(1)}function he(){x.getIsDynamic()&&P.getCatchupModeEnabled()&&(P.getCatchupPlaybackRates().max>0||P.getCatchupPlaybackRates().min<0)&&!x.isPaused()&&!x.isSeeking()&&function fe(){try{return!(!x.getTime()>0||U)&&(Re()===E.default.LIVE_CATCHUP_MODE_LOLP?function pe(He,at){try{return Math.abs(Le())>0||He<at}catch{return!1}}(x.getBufferLevel(),k.get().streaming.liveCatchup.playbackBufferMin):function Ae(){try{return Math.abs(Le())>0}catch{return!1}}())}catch{return!1}}()&&function Ce(){if(!U&&V){var He,at=V.getPlaybackRate(),Je=P.getCatchupPlaybackRates(),Ne=x.getBufferLevel(),Te=Le(),W=P.getCatchupMaxDrift();if(!isNaN(W)&&W>0&&Te>W)N.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),U=!0,x.seekToCurrentLive(!0,!1);else{var se=x.getCurrentLiveLatency(),_e=x.getLiveDelay();He=Re()===E.default.LIVE_CATCHUP_MODE_LOLP?function ke(He,at,Je,Ne,Te){var W;if(Te<Ne){var se=Math.abs(He.min),Q=2*se/(1+Math.pow(Math.E,-5*(Te-Ne)));N.debug("[LoL+ playback control_buffer-based] bufferLevel: "+Te+", newRate: "+(W=1-se+Q))}else{var Z=He.max,ne=.02;W=Math.abs(at-Je)<=ne*Je?1:1-Z+2*Z/(1+Math.pow(Math.E,-5*(at-Je))),N.debug("[LoL+ playback control_latency-based] latency: "+at+", newRate: "+W)}return W}(Je,se,_e,k.get().streaming.liveCatchup.playbackBufferMin,Ne):function Ue(He,at,Je,Ne){if(T)return 1;var Te=at-Je,W=Te<0?Math.abs(He.min):He.max,J=1-W+2*W/(1+Math.pow(Math.E,-5*Te));return x.getPlaybackStalled()&&Ne<=Je/2&&Te>0&&(J=1),J}(Je,se,_e,Ne);var Q=R?.25:.02/(.5/Je.max);He&&Math.abs(at-He)>=Q&&(N.debug("[CatchupController]: Setting playback rate to ".concat(He)),V.setPlaybackRate(He))}}}()}function Le(){return x.getCurrentLiveLatency()-x.getLiveDelay()}function Re(){var He=k.get().streaming.liveCatchup.playbackBufferMin;return k.get().streaming.liveCatchup.mode!==E.default.LIVE_CATCHUP_MODE_LOLP||null===He||isNaN(He)?E.default.LIVE_CATCHUP_MODE_DEFAULT:E.default.LIVE_CATCHUP_MODE_LOLP}function we(){P.getCatchupPlaybackRates(!0)}return M={reset:function Fe(){(function q(){y.off(F.default.BUFFER_LEVEL_UPDATED,K,M),y.off(F.default.BUFFER_LEVEL_STATE_CHANGED,ge,M),y.off(F.default.PLAYBACK_PROGRESS,he,M),y.off(F.default.PLAYBACK_TIME_UPDATED,he,M),y.off(F.default.PLAYBACK_SEEKED,he,M),y.off(L.default.SETTING_UPDATED_CATCHUP_ENABLED,oe,M),y.off(L.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,we,M),y.off(L.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,we,M),y.off(F.default.STREAM_INITIALIZED,we,M)})(),$(),V.setPlaybackRate(1,!0)},setConfig:function B(He){He&&(He.settings&&(k=He.settings),He.videoModel&&(V=He.videoModel),He.streamController&&(O=He.streamController),He.playbackController&&(x=He.playbackController),He.mediaPlayerModel&&(P=He.mediaPlayerModel))},initialize:function C(){(function Y(){y.on(F.default.BUFFER_LEVEL_UPDATED,K,M),y.on(F.default.BUFFER_LEVEL_STATE_CHANGED,ge,M),y.on(F.default.PLAYBACK_PROGRESS,he,M),y.on(F.default.PLAYBACK_TIME_UPDATED,he,M),y.on(F.default.PLAYBACK_SEEKED,ae,M),y.on(L.default.SETTING_UPDATED_CATCHUP_ENABLED,oe,M),y.on(L.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,we,M),y.on(L.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,we,M),y.on(F.default.STREAM_INITIALIZED,we,M)})(),we()}},function le(){N=Object(b.default)(g).getInstance().getLogger(M),$()}(),M}f.__dashjs_factory_name="CatchupController",S.default=t.default.getSingletonFactory(f)},"./src/streaming/controllers/EventController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/EventController.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ../net/XHRLoader */
"./src/streaming/net/XHRLoader.js");function L(){var V,k,O,x,P,T,N,C,B,Y,q,D="urn:mpeg:dash:event:2012",p=1,f="urn:mpeg:dash:event:callback:2015",g=1,y=300,M={DISCARDED:"discarded",UPDATED:"updated",ADDED:"added"},U=this.context,R=Object(w.default)(U).getInstance();function Fe(){if(!N||!C)throw new Error("setConfig function has to be called previously")}function $(){q=!1,O={},x={},P=null,Y=!1,T=Date.now()/1e3}function ae(){try{null!==P&&q&&(clearInterval(P),P=null,q=!1,function Ae(){try{pe(x),pe(O)}catch(J){k.error(J)}}())}catch(J){throw J}}function ge(){try{if(!Y){Y=!0;var J=C.getTime(),Q=J-T;Q=T>0?Math.max(0,Q):0,oe(x,Q,J),oe(O,Q,J),he(x),he(O),T=J,Y=!1}}catch(Z){Y=!1,k.error(Z)}}function oe(J,Q,Z){try{Ue(J,function(ee){if(void 0!==ee){var X=isNaN(ee.duration)?0:ee.duration;ee.calculatedPresentationTime<=Z&&ee.calculatedPresentationTime+Q+X>=Z?He(ee,E.default.EVENT_MODE_ON_START):(ke(Z,X+Q,ee.calculatedPresentationTime)||function we(J){try{return J.calculatedPresentationTime>J.eventStream.period.start+J.eventStream.period.duration}catch(Z){return k.error(Z),!1}}(ee))&&(k.debug("Removing event ".concat(ee.id," from period ").concat(ee.eventStream.period.id," as it is expired or invalid")),function at(J,Q){try{var Z=Q.eventStream.schemeIdUri,ne=Q.eventStream.period.id,ie=Q.eventStream.value,ee=Q.id;J[ne][Z]=J[ne][Z].filter(function(X){return ie&&X.eventStream.value&&X.eventStream.value!==ie||X.id!==ee}),0===J[ne][Z].length&&delete J[ne][Z]}catch(X){k.error(X)}}(J,ee))}})}catch(ie){k.error(ie)}}function he(J){try{for(var Q in J)J.hasOwnProperty(Q)&&0===Object.keys(J[Q]).length&&delete J[Q]}catch(Z){k.error(Z)}}function fe(J,Q){var Z=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ne=J.eventStream.schemeIdUri,ie=J.eventStream.value,ee=J.id,X=M.DISCARDED;Q[ne]||(Q[ne]=[]);var ue=Q[ne].findIndex(function(de){return(!ie||de.eventStream.value&&de.eventStream.value===ie)&&de.id===ee});if(-1===ue)Q[ne].push(J),J.triggeredReceivedEvent=!1,J.triggeredStartEvent=!1,X=M.ADDED;else if(Z){var ve=Q[ne][ue];J.triggeredReceivedEvent=ve.triggeredReceivedEvent,J.triggeredStartEvent=ve.triggeredStartEvent,Q[ne][ue]=J,X=M.UPDATED}return X}function Re(J){try{J.eventStream.value==p&&R.trigger(E.default.MANIFEST_VALIDITY_CHANGED,{id:J.id,validUntil:J.calculatedPresentationTime,newDuration:4294967295==J.calculatedPresentationTime?NaN:J.calculatedPresentationTime+J.duration,newManifestValidAfter:NaN},{mode:E.default.EVENT_MODE_ON_START})}catch(ne){k.error(ne)}}function pe(J){try{var Q=C.getTime();Ue(J,function(ie){var ee=ie.eventStream&&ie.eventStream.period&&!isNaN(ie.eventStream.period.duration)?ie.eventStream.period.duration:NaN,X=ie.eventStream&&ie.eventStream.period&&!isNaN(ie.eventStream.period.start)?ie.eventStream.period.start:NaN;isNaN(ee)||isNaN(X)||Math.abs(ie.calculatedPresentationTime-Q)<y&&He(ie,E.default.EVENT_MODE_ON_START)})}catch(ne){k.error(ne)}}function Ue(J,Q){try{if(J)for(var Z=Object.keys(J),ne=0;ne<Z.length;ne++)for(var ie=J[Z[ne]],ee=Object.keys(ie),X=0;X<ee.length;X++)ie[ee[X]].forEach(function(ve){void 0!==ve&&Q(ve)})}catch(ve){k.error(ve)}}function ke(J,Q,Z){try{return J-Q>Z}catch(ne){return k.error(ne),!1}}function He(J,Q){try{var Z=C.getTime(),ne=J.id;if(Q===E.default.EVENT_MODE_ON_RECEIVE&&!J.triggeredReceivedEvent)return k.debug("Received event ".concat(ne)),J.triggeredReceivedEvent=!0,void R.trigger(J.eventStream.schemeIdUri,{event:J},{mode:Q});J.triggeredStartEvent||(J.eventStream.schemeIdUri===D&&J.eventStream.value==p?(0!==J.duration||0!==J.presentationTimeDelta)&&(k.debug("Starting manifest refresh event ".concat(ne," at ").concat(Z)),function Je(){try{Fe(),N.refreshManifest()}catch(J){k.error(J)}}()):J.eventStream.schemeIdUri===f&&J.eventStream.value==g?(k.debug("Starting callback event ".concat(ne," at ").concat(Z)),function Ne(J){try{Object(F.default)(U).create({}).load({method:"get",url:J,request:{responseType:"arraybuffer"}})}catch(Z){k.error(Z)}}(J.messageData)):(k.debug("Starting event ".concat(ne," from period ").concat(J.eventStream.period.id," at ").concat(Z)),R.trigger(J.eventStream.schemeIdUri,{event:J},{mode:Q})),J.triggeredStartEvent=!0)}catch(ie){k.error(ie)}}return V={addInlineEvents:function Ce(J,Q){try{if(Fe(),O[Q]||(O[Q]={}),J)for(var Z=0;Z<J.length;Z++){var ne=J[Z];if(!ke(C.getTime(),isNaN(ne.duration)?0:ne.duration,ne.calculatedPresentationTime)){var X=fe(ne,O[Q],!0);X===M.ADDED?(k.debug("Added inline event with id ".concat(ne.id," from period ").concat(Q)),He(ne,E.default.EVENT_MODE_ON_RECEIVE)):X===M.UPDATED&&k.debug("Updated inline event with id ".concat(ne.id," from period ").concat(Q))}}}catch(ue){throw ue}},addInbandEvents:function Le(J,Q){try{Fe(),x[Q]||(x[Q]={});for(var Z=0;Z<J.length;Z++){var ne=J[Z];ke(C.getTime(),isNaN(ne.duration)?0:ne.duration,ne.calculatedPresentationTime)||(fe(ne,x[Q],!1)===M.ADDED?(ne.eventStream.schemeIdUri===D&&Re(ne),k.debug("Added inband event with id ".concat(ne.id," from period ").concat(Q)),He(ne,E.default.EVENT_MODE_ON_RECEIVE)):k.debug("Inband event with scheme_id_uri ".concat(ne.eventStream.schemeIdUri,", value ").concat(ne.eventStream.value,", period id ").concat(Q," and event id ").concat(ne.id," was ignored because it has been added before.")))}ge()}catch(ue){throw ue}},getInbandEvents:function se(){return x},getInlineEvents:function W(){return O},start:function K(){try{Fe(),k.debug("Start Event Controller");var J=B.get().streaming.eventControllerRefreshDelay;!q&&!isNaN(J)&&(q=!0,P=setInterval(ge,J))}catch(Q){throw Q}},setConfig:function Te(J){try{if(!J)return;J.manifestUpdater&&(N=J.manifestUpdater),J.playbackController&&(C=J.playbackController),J.settings&&(B=J.settings)}catch(Q){throw Q}},reset:function _e(){ae(),$()}},function le(){k=Object(b.default)(U).getInstance().getLogger(V),$()}(),V}L.__dashjs_factory_name="EventController",S.default=t.default.getSingletonFactory(L)},"./src/streaming/controllers/FragmentController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/FragmentController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../vo/DataChunk */
"./src/streaming/vo/DataChunk.js"),w=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),E=c(
/*! ../FragmentLoader */
"./src/streaming/FragmentLoader.js"),F=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),g=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function M(U){U=U||{};var N,C,B,R=this.context,V=Object(L.default)(R).getInstance(),k=U.errHandler,O=U.mediaPlayerModel,x=U.dashMetrics,P=Object(y.default)(R).getInstance(),T=U.streamInfo;function q(){return T.id}function Fe(){for(var ge in B)B[ge].reset();B={}}function K(ge){if(ge.sender){var oe=ge.request,he=ge.response,Ce=oe.isInitializationRequest(),Le=oe.mediaInfo.streamInfo;if(ge.error&&(oe.mediaType===t.default.AUDIO||oe.mediaType===t.default.VIDEO||oe.mediaType===t.default.TEXT&&oe.mediaInfo.isFragmented)&&V.trigger(D.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:ge.request.serviceLocation}),!he||!Le)return void C.warn("No "+oe.mediaType+" bytes to push or stream is inactive.");var fe=function ae(ge,oe,he,Ce){var Le=new b.default;return Le.streamId=he,Le.mediaInfo=oe.mediaInfo,Le.segmentType=oe.type,Le.start=oe.startTime,Le.duration=oe.duration,Le.end=Le.start+Le.duration,Le.bytes=ge,Le.index=oe.index,Le.quality=oe.quality,Le.representationId=oe.representationId,Le.endFragment=Ce,Le}(he,oe,T.id,ge.type!==D.default.FRAGMENT_LOADING_PROGRESS);V.trigger(Ce?D.default.INIT_FRAGMENT_LOADED:D.default.MEDIA_FRAGMENT_LOADED,{chunk:fe,request:oe},{streamId:Le.id,mediaType:oe.mediaType})}}return N={getStreamId:q,getModel:function le(ge){var oe=B[ge];return oe||(oe=Object(w.default)(R).create({streamInfo:T,type:ge,dashMetrics:x,fragmentLoader:Object(E.default)(R).create({dashMetrics:x,mediaPlayerModel:O,errHandler:k,requestModifier:Object(F.default)(R).getInstance(),settings:U.settings,boxParser:U.boxParser,eventBus:V,events:D.default,errors:f.default,dashConstants:U.dashConstants,urlUtils:U.urlUtils,streamId:q()}),debug:P,eventBus:V,events:D.default}),B[ge]=oe),oe},reset:function $(){V.off(p.default.FRAGMENT_LOADING_COMPLETED,K,this),V.off(p.default.FRAGMENT_LOADING_PROGRESS,K,this),Fe()}},function Y(){C=P.getLogger(N),Fe(),V.on(p.default.FRAGMENT_LOADING_COMPLETED,K,N),V.on(p.default.FRAGMENT_LOADING_PROGRESS,K,N)}(),N}M.__dashjs_factory_name="FragmentController",S.default=g.default.getClassFactory(M)},"./src/streaming/controllers/GapController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/GapController.js ***!
                  \****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),F=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function f(){var M,U,R,V,k,O,x,P,T,N,C,B,g=this.context,y=Object(E.default)(g).getInstance();function le(){(function ke(){B.debug("Stopping the gap controller"),k&&(clearInterval(k),k=null)})(),function K(){y.off(w.default.WALLCLOCK_TIME_UPDATED,Le,this),y.off(w.default.INITIAL_STREAM_SWITCH,Ce,this),y.off(w.default.PLAYBACK_SEEKING,ge,this),y.off(w.default.BUFFER_REPLACEMENT_STARTED,oe,M),y.off(w.default.TRACK_CHANGE_RENDERED,he,M)}(),function Fe(){k=null,O=NaN,V=0,N=null,C={}}()}function ge(){N&&(clearTimeout(N),N=null)}function oe(He){try{if(He.streamId!==P.getActiveStreamInfo().id||He.mediaType!==F.default.VIDEO&&He.mediaType!==F.default.AUDIO)return;He.streamId===P.getActiveStreamInfo().id&&(C[He.mediaType]=!0)}catch(at){B.error(at)}}function he(He){!He||!He.mediaType||(C[He.mediaType]=!1)}function Ce(){k||function Ue(){try{k||(B.debug("Starting the gap controller"),k=setInterval(function(){fe()&&we(x.getTime())},100))}catch{}}()}function Le(){if(fe(R.get().streaming.gaps.enableSeekFix)&&++V>=10){var He=x.getTime();U===He?we(He,!0):(U=He,O=NaN),V=0}}function fe(){var He=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!P.getActiveStream())return!1;var at=Object.keys(C).some(function(Ne){return C[Ne]}),Je=!!He&&function Re(){var He=P.getActiveStream(),at=parseFloat((He.getStartTime()+He.getDuration()).toFixed(5));return x.getTime()+R.get().streaming.gaps.threshold>=at}();return!at&&R.get().streaming.gaps.jumpGaps&&P.getActiveStreamProcessors().length>0&&(!x.isSeeking()||Je)&&!x.isPaused()&&!P.getIsStreamSwitchInProgress()&&!P.getHasMediaOrInitialisationError()}function we(He){var _e,at=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Je=R.get().streaming.gaps.enableStallFix,Ne=R.get().streaming.gaps.stallSeek,Te=R.get().streaming.gaps.smallGapLimit,W=R.get().streaming.gaps.jumpLargeGaps,se=T.getBufferRange(),J=NaN,Q=!1;if(_e=function Ae(He,at){try{if(!He||He.length<=1&&at>0)return NaN;for(var Je=NaN,Ne=0;isNaN(Je)&&Ne<He.length;){var Te=Ne>0?He.end(Ne-1):0;at<He.start(Ne)&&Te-at<R.get().streaming.gaps.threshold&&(Je=Ne),Ne+=1}return Je}catch{return null}}(se,He),!isNaN(_e)){var Z=se.start(_e),ne=Z-He;ne>0&&(ne<=Te||W)&&(J=Z)}var ie=x.getTimeToStreamEnd();if(isNaN(J)&&at&&isFinite(ie)&&!isNaN(ie)&&ie<Te&&(J=parseFloat(x.getStreamEndTime().toFixed(5)),Q=!0),Je&&isNaN(J)&&at&&isNaN(_e)&&function pe(He,at){for(var Je=0,Ne=He.length;Je<Ne;Je++)if(at>=He.start(Je)&&at<=He.end(Je))return!0;return!1}(se,He)&&(0===Ne?(B.warn("Toggle play pause to break stall"),T.pause(),T.play()):(B.warn("Jumping ".concat(Ne,"s to break stall")),J=He+Ne)),J>0&&O!==J&&J>He&&!N){var ee=J-He;if(Q){var X=P.getStreamForTime(J),ue=X&&!!X.getPreloaded();B.warn("Jumping to end of stream because of gap from ".concat(He," to ").concat(J,". Gap duration: ").concat(ee)),x.seek(J,!0,ue)}else{var ve=x.getIsDynamic(),de=_e>0?se.end(_e-1):He,xe=ve?1e3*Math.max(0,ee-.1):0;N=window.setTimeout(function(){x.seek(J,!0,!0),B.warn("Jumping gap occuring in period ".concat(P.getActiveStream().getStreamId()," starting at ").concat(de," and ending at ").concat(J,". Jumping by: ").concat(J-de)),N=null},xe)}O=J}}return M={reset:le,setConfig:function $(He){He&&(He.settings&&(R=He.settings),He.playbackController&&(x=He.playbackController),He.streamController&&(P=He.streamController),He.videoModel&&(T=He.videoModel))},initialize:function Y(){!function ae(){y.on(w.default.WALLCLOCK_TIME_UPDATED,Le,this),y.on(w.default.INITIAL_STREAM_SWITCH,Ce,this),y.on(w.default.PLAYBACK_SEEKING,ge,this),y.on(w.default.BUFFER_REPLACEMENT_STARTED,oe,M),y.on(w.default.TRACK_CHANGE_RENDERED,he,M)}()}},function q(){B=Object(b.default)(g).getInstance().getLogger(M),le()}(),M}f.__dashjs_factory_name="GapController",S.default=t.default.getSingletonFactory(f)},"./src/streaming/controllers/MediaController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/MediaController.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),L=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),D=c.n(L),p=c(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js");function g(){var R,V,k,O,x,P,T,N,M=this.context,U=Object(w.default)(M).getInstance();function q(X,ue){return X&&k[ue]&&k[ue][X]?k[ue][X].list:[]}function le(X,ue){return X&&k[ue]&&k[ue][X]?k[ue][X].current:null}function $(X){var ue=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(X&&X.streamInfo){var ve=X.type,xe=X.streamInfo.id,Ke=le(ve,xe);if(k[xe]&&k[xe][ve]&&(k[xe][ve].current=X,k[xe][ve].current&&(ve!==t.default.TEXT&&!he(X,Ke)||ve===t.default.TEXT&&X.isFragmented)&&U.trigger(b.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:Ke,newMediaInfo:X,switchMode:O.get().streaming.trackSwitchMode[ve]},{streamId:xe}),!ue)){var Ve=function fe(X){var ue={lang:X.lang,viewpoint:X.viewpoint,roles:X.roles,accessibility:X.accessibility,audioChannelConfiguration:X.audioChannelConfiguration};return ue.lang||ue.viewpoint||ue.role&&ue.role.length>0||ue.accessibility&&ue.accessibility.length>0||ue.audioChannelConfiguration&&ue.audioChannelConfiguration.length>0?ue:null}(X);if(!Ve||!k[xe][ve].storeLastSettings)return;Ve.roles&&(Ve.role=Ve.roles[0],delete Ve.roles),Ve.accessibility&&(Ve.accessibility=Ve.accessibility[0]),Ve.audioChannelConfiguration&&(Ve.audioChannelConfiguration=Ve.audioChannelConfiguration[0]),P[ve]=Ve,N.setSavedMediaSettings(ve,Ve)}}}function ae(X,ue){!X||!ue||(x[X]=ue)}function K(X){return X?x[X]:null}function he(X,ue){if(!X&&!ue)return!0;if(!X||!ue)return!1;var ve=X.id===ue.id,de=X.viewpoint===ue.viewpoint,xe=X.lang===ue.lang,Ke=X.codec===ue.codec,Ve=X.roles.toString()===ue.roles.toString(),lt=X.accessibility.toString()===ue.accessibility.toString(),dt=X.audioChannelConfiguration.toString()===ue.audioChannelConfiguration.toString();return ve&&Ke&&de&&xe&&Ve&&lt&&dt}function Le(){k={},P={},function Je(){x={audio:null,video:null,text:null}}()}function Re(X,ue,ve){var de=[];return X.forEach(function(xe){ue(ve,xe)&&de.push(xe)}),0!==de.length?de:X}function Ae(X,ue){return!X.lang||X.lang instanceof RegExp?ue.lang.match(X.lang):""!==ue.lang&&Object(p.extendedFilter)(ue.lang,D()(X.lang)).length>0}function pe(X,ue){return null==X.index||ue.index===X.index}function Ue(X,ue){return!X.viewpoint||X.viewpoint===ue.viewpoint}function ke(X,ue){var ve=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!X.role||!!ue.roles.filter(function(xe){return xe===X.role})[0]||ue.type===t.default.AUDIO&&ve}function we(X,ue){return X.accessibility?!!ue.accessibility.filter(function(de){return de===X.accessibility})[0]:!ue.accessibility.length}function He(X,ue){return!X.audioChannelConfiguration||!!ue.audioChannelConfiguration.filter(function(de){return de===X.audioChannelConfiguration})[0]}function Te(X){var de,ue=0,ve=[];return X.forEach(function(xe){(de=Math.max.apply(Math,xe.bitrateList.map(function(Ke){return Ke.bandwidth})))>ue?(ue=de,ve=[xe]):de===ue&&ve.push(xe)}),ve}function W(X){var de,ue=1/0,ve=[];return X.forEach(function(xe){var Ke=xe.bitrateList.reduce(function(Ve,lt){var dt=Math.max(1,lt.width*lt.height);return Ve+lt.bandwidth/dt},0);(de=Ke/xe.bitrateList.length)<ue?(ue=de,ve=[xe]):de===ue&&ve.push(xe)}),ve}function se(X){var de,ue=0,ve=[];return X.forEach(function(xe){(de=xe.representationCount)>ue?(ue=de,ve=[xe]):de===ue&&ve.push(xe)}),ve}function _e(X,ue){if(X===t.default.TEXT)return ue[0];var de,ve=O.get().streaming.selectionModeForInitialTrack,xe=T.getCustomInitialTrackSelectionFunction();if(xe&&"function"==typeof xe)de=xe(ue);else switch(ve){case t.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:de=function J(X){var ue=function Ne(X){var ue=0,ve=[];return X.forEach(function(de){isNaN(de.selectionPriority)||(de.selectionPriority>ue?(ue=de.selectionPriority,ve=[de]):de.selectionPriority===ue&&ve.push(de))}),ve}(X);return ue.length>1&&(ue=Te(ue)),ue.length>1&&(ue=se(ue)),ue}(ue);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:de=function Q(X){var ue=Te(X);return ue.length>1&&(ue=se(ue)),ue}(ue);break;case t.default.TRACK_SELECTION_MODE_FIRST_TRACK:de=Z(ue);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:de=function ne(X){var ue=W(X);return ue.length>1&&(ue=Te(ue)),ue}(ue);break;case t.default.TRACK_SELECTION_MODE_WIDEST_RANGE:de=function ie(X){var ue=se(X);return ue.length>1&&(ue=Te(X)),ue}(ue);break;default:V.warn("Track selection mode ".concat(ve," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),de=Z(ue)}return de.length>0?de[0]:ue[0]}function Z(X){return X[0]}return R={setInitialMediaSettingsForType:function B(X,ue){var ve=P[X]||K(X),de=q(X,ue.id),xe=[];ve||ae(X,ve=N.getSavedMediaSettings(X)),de&&0!==de.length&&(ve&&(xe=Re(xe=Array.from(de),Ae,ve),xe=Re(xe,pe,ve),xe=Re(xe,Ue,ve),X===t.default.AUDIO&&P[X]||(xe=Re(xe,ke,ve)),xe=Re(xe,we,ve),xe=Re(xe,He,ve)),0===xe.length?$(_e(X,de),!0):$(xe.length>1?_e(X,xe):xe[0]))},addTrack:function Y(X){if(X){var ue=X.type;if(function oe(X){return X===t.default.AUDIO||X===t.default.VIDEO||X===t.default.TEXT||X===t.default.IMAGE}(ue)){var ve=X.streamInfo.id;k[ve]||(k[ve]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var de=k[ve][ue].list,xe=0,Ke=de.length;xe<Ke;++xe)if(he(de[xe],X))return;de.push(X)}}},getTracksFor:q,getCurrentTrackFor:le,isCurrentTrack:function Fe(X){if(!X)return!1;var ue=X.type,ve=X.streamInfo.id;return k[ve]&&k[ve][ue]&&he(k[ve][ue].current,X)},setTrack:$,selectInitialTrack:_e,setInitialSettings:ae,getInitialSettings:K,getTracksWithHighestBitrate:Te,getTracksWithHighestEfficiency:W,getTracksWithWidestRange:se,isTracksEqual:he,matchSettings:function at(X,ue){var ve=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var de=!1;if(X.lang){if(X.lang instanceof RegExp)de=ue.lang.match(X.lang);else if(""!==ue.lang){var xe=D()(X.lang);xe&&(de=Object(p.extendedFilter)(ue.lang,xe).length>0)}}else de=!0;var Ke=null==X.index||ue.index===X.index,Ve=!X.viewpoint||X.viewpoint===ue.viewpoint,lt=!X.role||!!ue.roles.filter(function(bt){return bt===X.role})[0],dt=!X.accessibility||!!ue.accessibility.filter(function(bt){return bt===X.accessibility})[0],it=!X.audioChannelConfiguration||!!ue.audioChannelConfiguration.filter(function(bt){return bt===X.audioChannelConfiguration})[0];return de&&Ke&&Ve&&(lt||ue.type===t.default.AUDIO&&ve)&&dt&&it}catch(bt){return!1}},matchSettingsLang:Ae,matchSettingsIndex:pe,matchSettingsViewPoint:Ue,matchSettingsRole:ke,matchSettingsAccessibility:we,matchSettingsAudioChannelConfig:He,saveTextSettingsDisabled:function ge(){N.setSavedMediaSettings(t.default.TEXT,null)},setConfig:function Ce(X){X&&(X.domStorage&&(N=X.domStorage),X.settings&&(O=X.settings),X.customParametersModel&&(T=X.customParametersModel))},reset:Le},function C(){V=Object(F.default)(M).getInstance().getLogger(R),Le()}(),R}g.__dashjs_factory_name="MediaController";var y=E.default.getSingletonFactory(g);E.default.updateSingletonFactory(g.__dashjs_factory_name,y),S.default=y},"./src/streaming/controllers/MediaSourceController.js":
/*!************************************************************!*\
                  !*** ./src/streaming/controllers/MediaSourceController.js ***!
                  \************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function w(){var E,F,L,D=this.context;return E={createMediaSource:function f(){var k="WebKitMediaSource"in window;return"MediaSource"in window?F=new MediaSource:k&&(F=new WebKitMediaSource),F},attachMediaSource:function g(k){var O=window.URL.createObjectURL(F);return k.setSource(O),O},detachMediaSource:function y(k){k.setSource(null)},setDuration:function M(k){!F||"open"!==F.readyState||null===k&&isNaN(k)||F.duration!==k&&(function V(k){for(var O=k.sourceBuffers,x=0;x<O.length;x++)if(O[x].updating)return!0;return!1}(F)?setTimeout(M.bind(null,k),50):(L.info("Set MediaSource duration:"+k),F.duration=k))},setSeekable:function U(k,O){F&&"function"==typeof F.setLiveSeekableRange&&"function"==typeof F.clearLiveSeekableRange&&"open"===F.readyState&&k>=0&&k<O&&(F.clearLiveSeekableRange(),F.setLiveSeekableRange(k,O))},signalEndOfStream:function R(k){if(k&&"open"===k.readyState){for(var O=k.sourceBuffers,x=0;x<O.length;x++)if(O[x].updating||0===O[x].buffered.length)return;L.info("call to mediaSource endOfStream"),k.endOfStream()}}},function p(){L=Object(b.default)(D).getInstance().getLogger(E)}(),E}w.__dashjs_factory_name="MediaSourceController",S.default=t.default.getSingletonFactory(w)},"./src/streaming/controllers/PlaybackController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/PlaybackController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),L=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),D=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function f(){var M,U,R,V,k,O,x,P,T,N,C,B,Y,q,le,Fe,ae,K,ge,oe,he,Ce,Le,g=this.context,y=Object(b.default)(g).getInstance();function Re(){at(),q=!1,N=0,C=0,Fe=0,he=!1,ae=!1,Ce=!1,K=NaN,x&&(y.off(w.default.DATA_UPDATE_COMPLETED,Ht,M),y.off(w.default.LOADING_PROGRESS,Mn,M),y.off(w.default.MANIFEST_UPDATED,_n,M),y.off(w.default.STREAMS_COMPOSED,pn,M),y.off(L.default.PLAYBACK_ENDED,kt,M),y.off(L.default.STREAM_INITIALIZING,Wn,M),y.off(L.default.REPRESENTATION_SWITCH,Gn,M),y.off(L.default.BUFFER_LEVEL_STATE_CHANGED,cn,M),wt(),function tn(){x.removeEventListener("canplay",en),x.removeEventListener("canplaythrough",ln),x.removeEventListener("play",Wt),x.removeEventListener("waiting",Sn),x.removeEventListener("playing",nn),x.removeEventListener("pause",Dt),x.removeEventListener("error",$t),x.removeEventListener("seeking",mt),x.removeEventListener("seeked",Qe),x.removeEventListener("timeupdate",De),x.removeEventListener("progress",Pe),x.removeEventListener("ratechange",Ye),x.removeEventListener("loadedmetadata",Ze),x.removeEventListener("loadeddata",ct),x.removeEventListener("stalled",Nn),x.removeEventListener("ended",st),x.removeEventListener("volumechange",ut)}()),T=null,x=null,B=null,Y=null}function ke(){return parseFloat((we(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-_e()).toFixed(5))}function we(ze){var Xe=ze||B;return Xe.start+Xe.duration}function He(){var ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0];B&&x&&x.getElement()?(ze&&Y&&se(_e()),x.play()):q=!0}function at(){B&&x&&x.pause()}function Je(ze){var Xe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Pt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Qt=arguments.length>3&&void 0!==arguments[3]&&arguments[3];B&&x&&ze!==(isNaN(K)?x.getTime():K)&&((ge=!0===Pt)||(K=ze),U.info("Requesting seek to time: "+ze+(ge?" (internal)":"")),Y&&Qt&&se(ze),x.setCurrentTime(ze,Xe))}function W(){if(B&&x&&Y){var ze=R&&R.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO,Xe=k.getCurrentDVRInfo(ze);return Xe&&Xe.range?Xe.range.end:0}}function se(ze){var Xe=new Date(P.getClientReferenceTime()),Pt=O.getRegularPeriods()[0],Qt=P.calcPresentationTimeFromWallTime(Xe,Pt);N=Qt-ze}function _e(){return B&&x?x.getTime():null}function J(){return B&&x?x.isPaused():null}function Q(){return B&&x?x.isSeeking():null}function Z(){return B&&x?x.isStalled():null}function ne(){return B&&x?x.getPlaybackRate():null}function ee(){return B&&x?x.getEnded():null}function X(){return Y}function it(){var ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!J()&&Y&&0!==x.getReadyState()&&!Q()&&!he){ze||(ze=R.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO);var Xe=_e(),Pt=function bt(ze,Xe){var Pt=k.getCurrentDVRInfo(Xe),Qt=Pt?Pt.range:null;return Qt?ze>Qt.end?Math.max(Qt.end-N,Qt.start):ze>0&&ze+.25<Qt.start&&Math.abs(ze-Qt.start)<31536e4?ae?Math.max(Qt.end-N,Qt.start):Qt.start:ze:NaN}(Xe,ze);!isNaN(Pt)&&Pt!==Xe&&!Q()&&(Z()||oe||1===x.getReadyState())&&(U.debug("UpdateCurrentTime: Seek to actual time: ".concat(Pt," from currentTime: ").concat(Xe)),Je(Pt,!1,!1))}}function Ut(){null===T&&(T=setInterval(function(){!function Lt(){y.trigger(w.default.WALLCLOCK_TIME_UPDATED,{isDynamic:Y,time:new Date}),X()&&(R.addDVRMetric(),J()?function Jt(){var ze=Date.now();(!le||ze>le+500)&&(le=ze,De())}():it())}()},Le.get().streaming.wallclockTimeUpdateInterval))}function wt(){clearInterval(T),T=null}function Ht(ze){var Xe=O.convertRepresentationToRepresentationInfo(ze.currentRepresentation),Pt=Xe?Xe.mediaInfo.streamInfo:null;null===Pt||B.id!==Pt.id||(B=Pt)}function en(){y.trigger(w.default.CAN_PLAY)}function ln(){y.trigger(w.default.CAN_PLAY_THROUGH)}function cn(ze){ze.streamId===R.getActiveStreamInfo().id&&(oe=ze.state===D.default.BUFFER_EMPTY,Le.get().streaming.buffer.setStallState&&x.setStallState(ze.mediaType,ze.state===D.default.BUFFER_EMPTY))}function Wt(){U.info("Native video element event: play"),it(),Ut(),y.trigger(w.default.PLAYBACK_STARTED,{startTime:_e()})}function Sn(){U.info("Native video element event: waiting"),y.trigger(w.default.PLAYBACK_WAITING,{playingTime:_e()})}function nn(){U.info("Native video element event: playing"),ge=!1,y.trigger(w.default.PLAYBACK_PLAYING,{playingTime:_e()})}function Dt(){U.info("Native video element event: pause"),y.trigger(w.default.PLAYBACK_PAUSED,{ended:ee()})}function mt(){if(!ge){var ze=_e();!isNaN(K)&&K!==ze&&(ze=K),K=NaN,U.info("Seeking to: "+ze),Ut(),y.trigger(w.default.PLAYBACK_SEEKING,{seekTime:ze,streamId:B.id})}}function Qe(){U.info("Native video element event: seeked"),ge=!1,y.trigger(w.default.PLAYBACK_SEEKED)}function De(){B&&y.trigger(w.default.PLAYBACK_TIME_UPDATED,{timeToEnd:ke(),time:_e(),streamId:B.id})}function Pe(){y.trigger(w.default.PLAYBACK_PROGRESS,{streamId:B.id})}function Ye(){var ze=ne();U.info("Native video element event: ratechange: ",ze),y.trigger(w.default.PLAYBACK_RATE_CHANGED,{playbackRate:ze})}function Ze(){U.info("Native video element event: loadedmetadata"),y.trigger(w.default.PLAYBACK_METADATA_LOADED),Ut()}function ct(){U.info("Native video element event: loadeddata"),y.trigger(w.default.PLAYBACK_LOADED_DATA)}function st(){U.info("Native video element event: ended"),at(),wt();var ze=R?R.getActiveStreamInfo():null;ze&&y.trigger(w.default.PLAYBACK_ENDED,{isLast:ze.isLast})}function ut(){y.trigger(w.default.PLAYBACK_VOLUME_CHANGED)}function kt(ze){if(T&&ze.isLast){U.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var Xe=ze.seekTime?ze.seekTime:we();x.setCurrentTime(Xe),at(),wt()}}function $t(ze){y.trigger(w.default.PLAYBACK_ERROR,{error:(ze.target||ze.srcElement).error})}function Mn(ze){if(!1===ze.stream&&ae&&!isNaN(ze.request.duration)){var Xe=1.2*ze.request.duration;Xe>N&&(U.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",Xe.toFixed(2)),N=Xe,C=Xe)}}function Nn(ze){y.trigger(w.default.PLAYBACK_STALLED,{e:ze})}function Wn(ze){!function St(ze){ze&&ze.supplementalProperties&&"true"===ze.supplementalProperties[t.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(U.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),ae=!0)}(ze.mediaInfo)}function Gn(ze){var Xe=R.getActiveStreamInfo();!ze||!Xe||!ze.currentRepresentation||!ze.streamId||ze.streamId!==Xe.id||!ze.mediaType||ze.mediaType!==t.default.VIDEO&&ze.mediaType!==t.default.AUDIO||(ae=!ze.currentRepresentation.availabilityTimeComplete)&&!Ce&&(Ce=!0)}function _n(){he=!0}function pn(){he=!1}return M={initialize:function Ae(ze,Xe){B=ze,!0!==Xe&&function pe(){(function ft(){x.addEventListener("canplay",en),x.addEventListener("canplaythrough",ln),x.addEventListener("play",Wt),x.addEventListener("waiting",Sn),x.addEventListener("playing",nn),x.addEventListener("pause",Dt),x.addEventListener("error",$t),x.addEventListener("seeking",mt),x.addEventListener("seeked",Qe),x.addEventListener("timeupdate",De),x.addEventListener("progress",Pe),x.addEventListener("ratechange",Ye),x.addEventListener("loadedmetadata",Ze),x.addEventListener("loadeddata",ct),x.addEventListener("stalled",Nn),x.addEventListener("ended",st),x.addEventListener("volumechange",ut)})(),Y=B.manifestInfo.isDynamic,oe=!1,ge=!1,y.on(w.default.DATA_UPDATE_COMPLETED,Ht,M),y.on(w.default.LOADING_PROGRESS,Mn,M),y.on(w.default.MANIFEST_UPDATED,_n,M),y.on(w.default.STREAMS_COMPOSED,pn,M),y.on(L.default.PLAYBACK_ENDED,kt,M,{priority:b.default.EVENT_PRIORITY_HIGH}),y.on(L.default.STREAM_INITIALIZING,Wn,M),y.on(L.default.REPRESENTATION_SWITCH,Gn,M),y.on(L.default.BUFFER_LEVEL_STATE_CHANGED,cn,M),q&&(q=!1,He())}()},setConfig:function dt(ze){ze&&(ze.streamController&&(R=ze.streamController),ze.serviceDescriptionController&&(V=ze.serviceDescriptionController),ze.dashMetrics&&(k=ze.dashMetrics),ze.adapter&&(O=ze.adapter),ze.videoModel&&(x=ze.videoModel),ze.timelineConverter&&(P=ze.timelineConverter),ze.settings&&(Le=ze.settings))},getTimeToStreamEnd:ke,getBufferLevel:function an(){var ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Xe=null;return R.getActiveStreamProcessors().forEach(function(Pt){if(!ze||0===ze.length||-1===ze.indexOf(Pt.getType())){var Qt=Pt.getBufferLevel();Xe=null===Xe?Qt:Math.min(Xe,Qt)}}),Xe},getPlaybackStalled:function Ue(){return oe},getTime:_e,getLowLatencyModeEnabled:function fn(){return ae},getInitialCatchupModeActivated:function fi(){return Ce},getIsManifestUpdateInProgress:function ve(){return he},getPlaybackRate:ne,getPlayedRanges:function ie(){return B&&x?x.getPlayedRanges():null},getEnded:ee,getIsDynamic:X,getStreamController:function ue(){return R},computeAndSetLiveDelay:function lt(ze,Xe){var Pt,Qt,wn,Kt=!isNaN(ze)&&isFinite(ze)?ze:NaN,rn=O.getSuggestedPresentationDelay(),En=V.getServiceDescriptionSettings();return Pt=isNaN(Le.get().streaming.delay.liveDelay)?null===Le.get().streaming.delay.liveDelayFragmentCount||isNaN(Le.get().streaming.delay.liveDelayFragmentCount)||isNaN(Kt)?En&&!isNaN(En.liveDelay)&&En.liveDelay>0?En.liveDelay:!0===Le.get().streaming.delay.useSuggestedPresentationDelay&&null!==rn&&!isNaN(rn)&&rn>0?rn:isNaN(Kt)?Xe&&!isNaN(Xe.minBufferTime)?4*Xe.minBufferTime:4*B.manifestInfo.minBufferTime:4*Kt:Kt*Le.get().streaming.delay.liveDelayFragmentCount:Le.get().streaming.delay.liveDelay,null!==(wn=O.getAvailabilityStartTime())&&(Fe=wn),Qt=Xe&&Xe.dvrWindowSize>0?Math.min(Pt,Xe.dvrWindowSize):Pt,N=Qt,C=Qt,Qt},getLiveDelay:function xe(){return N},getOriginalLiveDelay:function Ke(){return C},getCurrentLiveLatency:function Ve(){if(!Y||isNaN(Fe))return NaN;var ze=_e();if(isNaN(ze)||0===ze)return 0;var Xe=(new Date).getTime()+1e3*P.getClientTimeOffset();return Math.max(((Xe-Fe-1e3*ze)/1e3).toFixed(3),0)},play:He,isPaused:J,isStalled:Z,pause:at,isSeeking:Q,getStreamEndTime:we,seek:Je,seekToOriginalLive:function Ne(){var ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Xe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Pt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Qt=W();0!==Qt&&Je(Qt-(N=C),ze,Xe,Pt)},seekToCurrentLive:function Te(){var ze=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Xe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Pt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Qt=W();0!==Qt&&Je(Qt-N,ze,Xe,Pt)},reset:Re,updateCurrentTime:it,getAvailabilityStartTime:function de(){return Fe}},function fe(){U=Object(F.default)(g).getInstance().getLogger(M),Re()}(),M}f.__dashjs_factory_name="PlaybackController",S.default=E.default.getSingletonFactory(f)},"./src/streaming/controllers/ScheduleController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/ScheduleController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),w=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),D=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),p=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function f(g){g=g||{};var C,B,Y,q,le,Fe,$,ae,K,ge,oe,he,Ce,y=this.context,M=Object(w.default)(y).getInstance(),U=g.dashMetrics,R=g.mediaPlayerModel,V=g.fragmentModel,k=g.abrController,O=g.playbackController,x=g.textController,P=g.type,T=g.bufferController,N=g.settings;function Ue(bt){if(!T.getIsBufferingCompleted()){ke();var Ut=isNaN(bt)?0:bt;Fe=setTimeout(He,Ut)}}function ke(){Fe&&(clearTimeout(Fe),Fe=null)}function He(){try{if(function Je(){try{return P===t.default.TEXT&&!x.isTextEnabled()||O.isPaused()&&(!O.getStreamController().getInitialPlayback()||!O.getStreamController().getAutoPlay())&&!N.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void ke();if(function Ne(){try{return q&&(isNaN(ge)||oe||function we(){var Ut=k.getMaxAllowedIndexFor(P,B.id);return!(!isNaN(K)&&K==Ut||(Y.info("Top quality "+P+" index has changed from "+K+" to "+Ut),K=Ut,0))}()||function Te(){return!P||!q||U.getCurrentBufferLevel(P)<W()}())}catch{return!1}}()){var bt=!1;Ce&&(bt=k.checkPlaybackQuality(P,B.id)),bt||function at(){he||q.quality!==ge||oe?(oe?(Y.debug("Switch track for "+P+", representation id = "+q.id),oe=!1):Y.debug("Quality has changed, get init request for representationid = "+q.id),M.trigger(E.default.INIT_FRAGMENT_NEEDED,{representationId:q.id,sender:C},{streamId:B.id,mediaType:P}),Ce=!1,he=!1):(Y.debug("Media segment needed for ".concat(P," and stream id ").concat(B.id)),M.trigger(E.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:B.id,mediaType:P}),Ce=!0)}()}else Ue(O.getLowLatencyModeEnabled()?N.get().streaming.scheduling.lowLatencyTimeout:N.get().streaming.scheduling.defaultTimeout)}catch{Ue(O.getLowLatencyModeEnabled()?N.get().streaming.scheduling.lowLatencyTimeout:N.get().streaming.scheduling.defaultTimeout)}}function W(){var bt=NaN;return!P||!q||(bt=P===t.default.TEXT?function se(){try{if(x.isTextEnabled()){if(isNaN(q.fragmentDuration)){var bt=U.getCurrentSchedulingInfo(D.default.SCHEDULING_INFO);return bt?bt.duration:0}return q.fragmentDuration}return 0}catch{return 0}}():P===t.default.AUDIO&&$?function _e(){try{var bt=U.getCurrentBufferLevel(t.default.VIDEO);return isNaN(q.fragmentDuration)?bt+1:Math.max(bt+1,q.fragmentDuration)}catch{return 0}}():function J(){try{var bt=q.mediaInfo.streamInfo;return k.isPlayingAtTopQuality(bt)?bt.manifestInfo.duration>=N.get().streaming.buffer.longFormContentDurationThreshold?N.get().streaming.buffer.bufferTimeAtTopQualityLongForm:N.get().streaming.buffer.bufferTimeAtTopQuality:R.getStableBufferTime()}catch{return R.getStableBufferTime()}}()),bt}function ne(){ie(!0)}function ie(bt){if(O&&V){var Ut=V.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,time:O.getTime(),threshold:0})[0];Ut&&O.getTime()>=Ut.startTime&&((!ae.mediaInfo||Ut.mediaInfo.type===ae.mediaInfo.type&&Ut.mediaInfo.id!==ae.mediaInfo.id)&&bt&&M.trigger(E.default.TRACK_CHANGE_RENDERED,{mediaType:P,oldMediaInfo:ae.mediaInfo,newMediaInfo:Ut.mediaInfo,streamId:B.id}),(Ut.quality!==ae.quality||Ut.adaptationIndex!==ae.adaptationIndex)&&bt&&(Y.debug("Quality change rendered for streamId ".concat(B.id," and type ").concat(P)),M.trigger(E.default.QUALITY_CHANGE_RENDERED,{mediaType:P,oldQuality:ae.quality,newQuality:Ut.quality,streamId:B.id})),ae={mediaInfo:Ut.mediaInfo,quality:Ut.quality,adaptationIndex:Ut.adaptationIndex})}}function ee(bt){Y.debug("Appended bytes for ".concat(bt.mediaType," and stream id ").concat(B.id)),(isNaN(bt.index)||isNaN(ge))&&(ge=bt.quality,Y.info("["+P+"] lastInitializedRepresentationInfo changed to "+bt.quality)),Ue(0)}function X(){V.abortRequests(),ke()}function ue(){N.get().streaming.scheduling.scheduleWhilePaused||Ue()}function ve(bt){U.updatePlayListTraceMetrics({playbackspeed:bt.playbackRate.toString()})}function lt(){Ce=!0,le=0,ge=NaN,ae={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},K=NaN,oe=!1,he=!1}return C={initialize:function fe(bt){$=bt,M.on(E.default.BYTES_APPENDED_END_FRAGMENT,ee,C),M.on(E.default.URL_RESOLUTION_FAILED,X,C),M.on(p.default.PLAYBACK_STARTED,ue,C),M.on(p.default.PLAYBACK_RATE_CHANGED,ve,C),M.on(p.default.PLAYBACK_TIME_UPDATED,ne,C)},getType:function Re(){return P},getStreamId:function Ae(){return B.id},setCurrentRepresentation:function pe(bt){q=bt},setTimeToLoadDelay:function de(bt){le=bt},getTimeToLoadDelay:function xe(){return le},setSwitchTrack:function Q(bt){oe=bt},getSwitchStrack:function Z(){return oe},startScheduleTimer:Ue,clearScheduleTimer:ke,reset:function dt(){M.off(E.default.BYTES_APPENDED_END_FRAGMENT,ee,C),M.off(E.default.URL_RESOLUTION_FAILED,X,C),M.off(p.default.PLAYBACK_STARTED,ue,C),M.off(p.default.PLAYBACK_RATE_CHANGED,ve,C),M.off(p.default.PLAYBACK_TIME_UPDATED,ne,C),ke(),ie(!1),lt(),B=null},getBufferTarget:W,getPlaybackController:function it(){return O},setCheckPlaybackQuality:function Ke(bt){Ce=bt},setInitSegmentRequired:function Ve(bt){he=bt}},function Le(){Y=Object(L.default)(y).getInstance().getLogger(C),lt(),B=g.streamInfo}(),C}f.__dashjs_factory_name="ScheduleController",S.default=F.default.getClassFactory(f)},"./src/streaming/controllers/StreamController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/StreamController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),w=c(
/*! ../Stream */
"./src/streaming/Stream.js"),E=c(
/*! ../ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),F=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ../vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),f=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),g=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),y=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),M=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),U=c(
/*! ./TimeSyncController */
"./src/streaming/controllers/TimeSyncController.js"),R=c(
/*! ./MediaSourceController */
"./src/streaming/controllers/MediaSourceController.js"),V=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),O=c(
/*! ./EventController */
"./src/streaming/controllers/EventController.js"),x=c(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function P($){return function B($){if(Array.isArray($))return Y($)}($)||function C($){if(typeof Symbol<"u"&&null!=$[Symbol.iterator]||null!=$["@@iterator"])return Array.from($)}($)||function N($,ae){if($){if("string"==typeof $)return Y($,ae);var K=Object.prototype.toString.call($).slice(8,-1);if("Object"===K&&$.constructor&&(K=$.constructor.name),"Map"===K||"Set"===K)return Array.from($);if("Arguments"===K||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return Y($,ae)}}($)||function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y($,ae){(null==ae||ae>$.length)&&(ae=$.length);for(var K=0,ge=new Array(ae);K<ae;K++)ge[K]=$[K];return ge}function Fe(){var K,ge,oe,he,Ce,Le,fe,Re,Ae,pe,Ue,ke,we,He,at,Je,Ne,Te,W,se,_e,J,Q,Z,ne,ie,ee,X,ue,ve,de,xe,Ke,Ve,lt,dt,it,bt,Ut,wt,Ht,en,ln,cn,Wt,Sn,nn,Dt,mt,$=this.context,ae=Object(F.default)($).getInstance();function Ze(){if(!(Le&&Le.hasOwnProperty("load")&&J&&J.hasOwnProperty("initialize")&&J.hasOwnProperty("reset")&&J.hasOwnProperty("getClientTimeOffset")&&fe&&_e&&Ae&&Ve))throw new Error(t.default.MISSING_CONFIG_ERROR)}function kt(){!function Lt(){try{var qt=Re.getStreamsInfo();if(!Z&&0===qt.length)throw new Error("There are no periods in the MPD");Z&&qt.length>0&&Ae.updateManifestUpdateInfo({currentTime:Ve.getTime(),buffered:Ke.getBufferRange(),presentationStartTime:qt[0].start,clientTimeOffset:J.getClientTimeOffset()}),Q.length>0&&function Co(qt){0!==qt.length?Q=Q.filter(function(Pn){var Kn=qt.filter(function(mi){return mi.id===Pn.getId()}).length>0||Pn.getId()===Z.getId();return Kn||(ge.debug("Removing stream ".concat(Pn.getId())),Pn.reset(!0)),Kn}):ge.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(qt);for(var Pn=[],Qn=0,Kn=qt.length;Qn<Kn;Qn++){var mi=qt[Qn];Pn.push(Jt(mi)),Ae.addManifestUpdateStreamInfo(mi)}Promise.all(Pn).then(function(){return Wt.get().streaming.applyContentSteering&&!Z&&ke.shouldQueryBeforeStart()?ke.loadSteeringData():Promise.resolve()}).then(function(){Z||an(qt),ae.trigger(L.default.STREAMS_COMPOSED),En()}).catch(function(gi){throw gi})}catch(gi){_e.error(new V.default(k.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,gi.message+" nostreamscomposed",fe.getValue())),de=!0,xo()}}()}function $t(){Sn=!0}function Jt(qt){var Pn=lr(qt.id);return Pn?Pn.updateData(qt):(Pn=Object(w.default)($).create({manifestModel:fe,mediaPlayerModel:dt,dashMetrics:Ae,manifestUpdater:Ce,adapter:Re,timelineConverter:J,capabilities:oe,capabilitiesFilter:he,errHandler:_e,baseURLController:we,segmentBaseController:He,textController:ie,abrController:Je,playbackController:Ve,eventController:Te,mediaController:Ne,protectionController:ne,videoModel:Ke,streamInfo:qt,settings:Wt}),Q.push(Pn),Pn.initialize(),Promise.resolve())}function an(qt){Xe();var Pn=Ae.getCurrentDVRInfo().range;if(Pn.end<Pn.start){nn&&clearTimeout(nn);var Qn=Math.min(1e3*(-1*(Pn.end-Pn.start)+2),2147483647);return ge.debug("Waiting for ".concat(Qn," ms before playback can start")),ae.trigger(L.default.AST_IN_FUTURE,{delay:Qn}),void(nn=setTimeout(function(){an(qt)},Qn))}Wt.get().streaming.applyProducerReferenceTime&&lt.calculateProducerReferenceTimeOffsets(qt);var Kn=qt[0].manifestInfo;if(Wt.get().streaming.applyServiceDescription&&lt.applyServiceDescription(Kn),Re.getIsDynamic()){var mi=uo(qt,Kn);Ve.computeAndSetLiveDelay(mi,Kn)}var gi=function $i(){var qt;if(Re.getIsDynamic()){var Qn=Ae.getCurrentDVRInfo();qt=(Qn&&Qn.range?Qn.range.end:0)-Ve.getOriginalLiveDelay();var mi=Qn?Qn.range:null;if(mi){if(isNaN(Dt)&&-1===Dt.toString().indexOf("posix:")){var Oi=Tr(!0);isNaN(Oi)||(ge.info("Start time from URI parameters: ".concat(Oi)),qt=Math.min(qt,Oi))}else{ge.info("Start time provided by the app: ".concat(Dt));var gi=hr(!0,Dt);isNaN(gi)||(qt=Math.min(qt,gi))}var wi=Wt.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;qt=Math.max(qt,mi.start+wi)}}else if(qt=Ji()[0].getStreamInfo().start,isNaN(Dt)){var ro=Tr(!1);isNaN(ro)||(ge.info("Start time from URI parameters: ".concat(ro)),qt=Math.max(qt,ro))}else{ge.info("Start time provided by the app: ".concat(Dt));var Gr=hr(!1,Dt);isNaN(Gr)||(qt=Math.max(qt,Gr))}return qt}(),Oi=ze(gi),wi=null!==Oi?Oi:Q[0];ae.trigger(L.default.INITIAL_STREAM_SWITCH,{startTime:gi}),fn(wi,null,gi),function Ln(){Ht||(Ht=setInterval(function(){!ue&&Ve.getTimeToStreamEnd()<=0&&!Ve.isSeeking()&&ae.trigger(L.default.PLAYBACK_ENDED,{isLast:jr().isLast})},200))}()}function fn(qt,Pn,Qn){try{if(ue||!qt||Pn===qt&&qt.getIsActive())return;ue=!0,ae.trigger(L.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:Pn?Pn.getStreamInfo():null,toStreamInfo:qt.getStreamInfo()});var Kn=!1;Z=qt,Pn&&(Kn=ft(qt,Pn),Pn.deactivate(Kn)),Qn=isNaN(Qn)?!Kn&&Pn?qt.getStreamInfo().start:NaN:Qn,ge.info("Switch to stream ".concat(qt.getId(),". Seektime is ").concat(Qn,", current playback time is ").concat(Ve.getTime(),". Seamless period switch is set to ").concat(Kn)),ln=ln.filter(function(mi){return mi.getId()!==Z.getId()}),Ve.initialize(jr(),!!Pn),Ke.getElement()&&Mn(Qn,Kn)}catch{ue=!1}}function Mn(qt,Pn){var Qn;function Kn(){if(xe&&"open"===xe.readyState){ge.debug("MediaSource is open!"),window.URL.revokeObjectURL(Qn),xe.removeEventListener("sourceopen",Kn),xe.removeEventListener("webkitsourceopen",Kn),rt();var gi=Ae.getCurrentDVRInfo();pe.setSeekable(gi.range.start,gi.range.end),Nn(qt,Pn)}}function mi(){xe.addEventListener("sourceopen",Kn,!1),xe.addEventListener("webkitsourceopen",Kn,!1),Qn=pe.attachMediaSource(Ke),ge.debug("MediaSource attached to element.  Waiting on open...")}xe?Pn?Nn(qt,Pn):(pe.detachMediaSource(Ke),mi()):(xe=pe.createMediaSource(),mi())}function Nn(qt,Pn){Z.activate(xe,Pn?en:void 0,qt).then(function(Qn){if(Qn){var Kn=Object.keys(Qn);Kn.length>0&&Qn[Kn[0]].getBuffer().changeType&&(cn=!0),en=Qn}isNaN(qt)||(ae.trigger(L.default.SEEK_TARGET,{time:qt},{streamId:Z.getId()}),Ve.seek(qt,!1,!0),Z.startScheduleControllers()),ue=!1,ae.trigger(L.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:jr()})})}function Wn(qt){var Qn=ze(qt.seekTime);Qn&&Qn!==Z?Qn&&Qn!==Z&&(Gn(),function pn(qt,Pn){var Qn=qt&&!isNaN(qt.seekTime)?qt.seekTime:NaN,mi=Z.getProcessors().map(function(gi){return gi.prepareOuterPeriodPlaybackSeeking(qt)});Promise.all(mi).then(function(){fn(Pn,Z,Qn)}).catch(function(gi){_e.error(gi)})}(qt,Qn)):(Gn(),function _n(qt){Z.getProcessors().forEach(function(Qn){return Qn.prepareInnerPeriodPlaybackSeeking(qt)}),to(p.PlayListTrace.USER_REQUEST_STOP_REASON)}(qt)),_r(p.PlayList.SEEK_START_REASON)}function Gn(){fi()}function fi(){ln&&ln.length>0&&(ln.forEach(function(qt){qt.deactivate(!0)}),ln=[])}function St(qt){qt.newMediaInfo.streamInfo.id===Z.getId()&&(fi(),Z.prepareTrackChange(qt))}function ft(qt,Pn){try{return Wt.get().streaming.buffer.reuseExistingSourceBuffers&&(Pn.isProtectionCompatible(qt)||Sn)&&(cn||Pn.isMediaCodecCompatible(qt,Pn))}catch{return!1}}function tn(qt){var Pn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;xe&&!qt.getPreloaded()&&ft(qt,Pn)&&qt.startPreloading(xe,en).then(function(){ln.push(qt)})}function ze(qt){if(isNaN(qt))return null;for(var Pn=Q.length,Qn=0;Qn<Pn;Qn++){var Kn=Q[Qn];if(qt<parseFloat((Kn.getStartTime()+Kn.getDuration()).toFixed(5)))return Kn}return null}function Xe(){try{var qt=Re.getIsDynamic(),Qn=Re.getStreamsInfo()[0].manifestInfo,Kn=Ve.getTime(),mi=J.calcTimeShiftBufferWindow(Q,qt),gi=un();if(typeof mi.start>"u"||typeof mi.end>"u")return;gi&&0!==gi.length?gi.forEach(function(Oi){Ae.addDVRInfo(Oi.getType(),Kn,Qn,mi)}):Ae.addDVRInfo(t.default.VIDEO,Kn,Qn,mi)}catch{}}function Pt(qt){if(Ut&&X){var Pn=dt.getInitialBufferLevel(),Qn=[t.default.TEXT];(isNaN(Pn)||Pn<=Ve.getBufferLevel(Qn)||Re.getIsDynamic()&&Pn>Ve.getLiveDelay())&&(Ut=!1,_r(p.PlayList.INITIAL_PLAYOUT_START_REASON),Ve.play())}qt&&qt.mediaType&&Ae.addBufferLevel(qt.mediaType,new Date,1e3*qt.bufferLevel)}function Qt(qt){qt.streamInfo.id===Z.getId()&&qt.reason&&qt.reason.forceReplace&&fi(),lr(qt.streamInfo.id).prepareQualityChange(qt)}function wn(){if(Re.getIsDynamic()&&0!==Ve.getOriginalLiveDelay()&&Z){var qt=Re.getStreamsInfo();if(qt.length>0){var Pn=qt[0].manifestInfo,Qn=uo(qt,Pn);Ve.computeAndSetLiveDelay(Qn,Pn)}}}function Fn(){if(Ii()){var qt=Ke.getPlaybackQuality();qt&&Ae.addDroppedFrames(qt)}}function Gt(){ge.debug("[onPlaybackStarted]"),!Ut&&bt&&_r(p.PlayList.RESUME_FROM_PAUSE_START_REASON),Ut&&(Ut=!1),wt&&(wt=!1,Wt.get().streaming.applyContentSteering&&!ke.shouldQueryBeforeStart()&&ke.loadSteeringData()),bt=!1}function Kt(qt){ge.debug("[onPlaybackPaused]"),qt.ended||(bt=!0,to(p.PlayListTrace.USER_REQUEST_STOP_REASON))}function rn(qt){ge.debug("Stream with id ".concat(qt.streamInfo.id," finished buffering")),xe&&qt.streamInfo.isLast?(ge.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),pe.signalEndOfStream(xe)):En()}function En(){if(Z&&Z.getHasFinishedBuffering())for(var qt=function gt(){var qt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var Pn=qt||Z||null;if(Pn){var Qn=Pn.getStreamInfo();return Q.filter(function(Kn){var mi=Kn.getStreamInfo();return mi.start>Qn.start&&Qn.id!==mi.id})}}catch{return[]}}(Z),Pn=0;Pn<qt.length;){var Qn=qt[Pn],Kn=0===Pn?Z:qt[Pn-1];!Qn.getPreloaded()&&Kn.getHasFinishedBuffering()&&xe&&tn(Qn,Kn),Pn+=1}}function Xn(){Ht&&(clearInterval(Ht),Ht=null)}function un(){return Z?Z.getProcessors():[]}function be(qt){if(Z&&!Z.getIsEndedEventSignaled()){Z.setIsEndedEventSignaled(!0);var Pn=function yt(){var Pn=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||Z||null;if(!Pn)return null;for(var Qn=Pn.getStreamInfo(),Kn=Qn.start,mi=0,gi=-1,Oi=NaN;mi<Q.length;){var fr=Q[mi].getStreamInfo(),Di=fr.start-Kn;Di>0&&(isNaN(Oi)||Di<Oi)&&Qn.id!==fr.id&&(Oi=Di,gi=mi),mi+=1}return gi>=0?Q[gi]:null}();Pn?(ge.debug("StreamController onEnded, found next stream with id ".concat(Pn.getStreamInfo().id,". Switching from ").concat(Z.getStreamInfo().id," to ").concat(Pn.getStreamInfo().id)),fn(Pn,Z,NaN)):(ge.debug("StreamController no next stream found"),Z.setIsEndedEventSignaled(!1)),to(Pn?p.PlayListTrace.END_OF_PERIOD_STOP_REASON:p.PlayListTrace.END_OF_CONTENT_STOP_REASON)}qt&&qt.isLast&&(Xn(),ke.stopSteeringRequestTimer())}function rt(qt){var Pn=qt||jr().manifestInfo.duration;pe.setDuration(Pn)}function Tr(qt){var Pn=at.getURIFragmentData();if(!Pn||!Pn.t)return NaN;var Kn=Ji()[0].getStreamInfo().start;return Pn.t=Pn.t.split(",")[0],yo(qt,Pn.t,Kn)}function hr(qt,Pn){var Qn=0;return qt||(Qn=Ji()[0].getStreamInfo().start),yo(qt,Pn,Qn)}function yo(qt,Pn,Qn){var Kn=Re.getRegularPeriods()[0],mi=Pn.toString(),gi=-1!==mi.indexOf("posix:")?"now"===mi.substring(6)?Date.now()/1e3:parseFloat(mi.substring(6)):NaN;return qt&&!isNaN(gi)?J.calcPresentationTimeFromWallTime(new Date(1e3*gi),Kn):parseFloat(mi)+Qn}function uo(qt,Pn){try{var Qn=NaN;if(Pn&&!isNaN(Pn.maxFragmentDuration)&&isFinite(Pn.maxFragmentDuration))return Pn.maxFragmentDuration;if(qt&&1===qt.length){var Kn=qt[0],gi=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT].reduce(function(Oi,wi){var fr=Re.getMediaInfoForType(Kn,wi);return fr&&!1!==fr.isFragmented&&Oi.push(fr),Oi},[]).reduce(function(Oi,wi){var fr=Re.getVoRepresentations(wi);return fr&&fr.length>0&&fr.forEach(function(Di){Di&&Oi.push(Di)}),Oi},[]).reduce(function(Oi,wi){var fr=Re.convertRepresentationToRepresentationInfo(wi);return fr&&fr.fragmentDuration&&!isNaN(fr.fragmentDuration)&&Oi.push(fr.fragmentDuration),Oi},[]);Qn=Math.max.apply(Math,P(gi))}return isFinite(Qn)?Qn:NaN}catch{return NaN}}function Wo(qt){if(qt.error)de=!0,xo();else{ge.info("Manifest updated... updating data system wide.");var Pn=qt.manifest;Re.updatePeriods(Pn);var Qn=Re.getUTCTimingSources();Re.getIsDynamic()&&(!Qn||0===Qn.length)&&ae.trigger(M.default.CONFORMANCE_VIOLATION,{level:x.default.LEVELS.WARNING,event:x.default.EVENTS.NO_UTC_TIMING_ELEMENT});var Kn=Re.getIsDynamic()?Qn.concat(it.getUTCTimingSources()):Qn,mi=se.isHTTPS(qt.manifest.url);Kn.forEach(function(gi){gi.value.replace(/.*?:\/\//g,"")===Wt.get().streaming.utcSynchronization.defaultTimingSource.value.replace(/.*?:\/\//g,"")&&(gi.value=gi.value.replace(mi?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),mi?"https://":"http://"),ge.debug("Matching default timing source protocol to manifest protocol: ",gi.value))}),he.filterUnsupportedFeatures(Pn).then(function(){we.initialize(Pn),Ue.attemptSync(Kn,Re.getIsDynamic())})}}function Ii(){return!!Z&&Z.getHasVideoTrack()}function gr(){return!!Z&&Z.getHasAudioTrack()}function to(qt,Pn){Pn=Pn||new Date,un().forEach(function(Qn){Qn.finalisePlayList(Pn,qt)}),Ae.addPlayList()}function _r(qt){Ae.createPlaylistMetrics(1e3*Ve.getTime(),qt)}function zo(qt){if(qt.error){var Pn="";switch(qt.error.code){case 1:Pn="MEDIA_ERR_ABORTED";break;case 2:Pn="MEDIA_ERR_NETWORK";break;case 3:Pn="MEDIA_ERR_DECODE",mt.counts.mediaErrorDecode+=1;break;case 4:Pn="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Pn="MEDIA_ERR_ENCRYPTED";break;default:Pn="UNKNOWN"}if("MEDIA_ERR_DECODE"===Pn&&Wt.get().errors.recoverAttempts.mediaErrorDecode>=mt.counts.mediaErrorDecode)return void function Do(){ge.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var qt=Ve.getTime();Z.deactivate(!1),ge.warn("MediaSource has been resetted. Resuming playback from time ".concat(qt)),Mn(qt,!1)}();ve=!0,qt.error.message&&(Pn+=" ("+qt.error.message+")"),qt.error.msExtendedCode&&(Pn+=" (0x"+(qt.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),ge.fatal("Video Element Error: "+Pn),qt.error&&ge.fatal(qt.error),_e.error(new V.default(qt.error.code,Pn)),xo()}}function jr(){return Z?Z.getStreamInfo():null}function lr(qt){for(var Pn=0,Qn=Q.length;Pn<Qn;Pn++)if(Q[Pn].getId()===qt)return Q[Pn];return null}function oi(qt){isNaN(qt.newDuration)||rt(qt.newDuration)}function Nr(){Q=[],Dt=NaN,ne=null,ue=!1,Z=null,ve=!1,de=!1,Ut=!0,wt=!0,bt=!1,X=!0,Ht=null,Sn=!1,cn=!1,ln=[],nn=null,mt={counts:{mediaErrorDecode:0}}}function xo(){Ze(),Ue.reset(),to(ve||de?p.PlayListTrace.FAILURE_STOP_REASON:p.PlayListTrace.USER_REQUEST_STOP_REASON);for(var qt=0,Pn=Q?Q.length:0;qt<Pn;qt++)Q[qt].reset(ve);(function Ye(){ae.off(M.default.PLAYBACK_TIME_UPDATED,Fn,K),ae.off(M.default.PLAYBACK_SEEKING,Wn,K),ae.off(M.default.PLAYBACK_ERROR,zo,K),ae.off(M.default.PLAYBACK_STARTED,Gt,K),ae.off(M.default.PLAYBACK_PAUSED,Kt,K),ae.off(M.default.PLAYBACK_ENDED,be,K),ae.off(M.default.METRIC_ADDED,Sr,K),ae.off(M.default.MANIFEST_VALIDITY_CHANGED,oi,K),ae.off(M.default.BUFFER_LEVEL_UPDATED,Pt,K),ae.off(M.default.QUALITY_CHANGE_REQUESTED,Qt,K),L.default.KEY_SESSION_UPDATED&&ae.off(L.default.KEY_SESSION_UPDATED,$t,K),ae.off(L.default.MANIFEST_UPDATED,Wo,K),ae.off(L.default.STREAM_BUFFERING_COMPLETED,rn,K),ae.off(L.default.TIME_SYNCHRONIZATION_COMPLETED,kt,K),ae.off(L.default.CURRENT_TRACK_CHANGED,St,K),ae.off(L.default.SETTING_UPDATED_LIVE_DELAY,wn,K),ae.off(L.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,wn,K)})(),we.reset(),Ce.reset(),Te.reset(),Ae.clearAllCurrentMetrics(),fe.setValue(null),Le.reset(),J.reset(),W.reset(),xe&&(pe.detachMediaSource(Ke),xe=null),Ke=null,ne&&(ne=null,ee=null,fe.getValue()&&ae.trigger(L.default.PROTECTION_DESTROYED,{data:fe.getValue().url})),Xn(),ae.trigger(L.default.STREAM_TEARDOWN_COMPLETE),Nr()}function Sr(qt){if(qt.metric===b.default.DVR_INFO){var Pn=gr()?t.default.AUDIO:t.default.VIDEO;qt.mediaType===Pn&&pe.setSeekable(qt.value.range.start,qt.value.range.end)}}function Ji(){return Q}return K={initialize:function De(qt,Pn){Ze(),X=qt,ee=Pn,J.initialize(),(Ce=Object(E.default)($).create()).setConfig({manifestModel:fe,adapter:Re,manifestLoader:Le,errHandler:_e,settings:Wt}),Ce.initialize(),(Te=Object(O.default)($).getInstance()).setConfig({manifestUpdater:Ce,playbackController:Ve,settings:Wt}),Te.start(),Ue.setConfig({dashMetrics:Ae,baseURLController:we,errHandler:_e,settings:Wt}),Ue.initialize(),ne&&(ae.trigger(L.default.PROTECTION_CREATED,{controller:ne}),ne.setMediaElement(Ke.getElement()),ee&&ne.setProtectionData(ee)),function Pe(){ae.on(M.default.PLAYBACK_TIME_UPDATED,Fn,K),ae.on(M.default.PLAYBACK_SEEKING,Wn,K),ae.on(M.default.PLAYBACK_ERROR,zo,K),ae.on(M.default.PLAYBACK_STARTED,Gt,K),ae.on(M.default.PLAYBACK_PAUSED,Kt,K),ae.on(M.default.PLAYBACK_ENDED,be,K),ae.on(M.default.METRIC_ADDED,Sr,K),ae.on(M.default.MANIFEST_VALIDITY_CHANGED,oi,K),ae.on(M.default.BUFFER_LEVEL_UPDATED,Pt,K),ae.on(M.default.QUALITY_CHANGE_REQUESTED,Qt,K),L.default.KEY_SESSION_UPDATED&&ae.on(L.default.KEY_SESSION_UPDATED,$t,K),ae.on(L.default.MANIFEST_UPDATED,Wo,K),ae.on(L.default.STREAM_BUFFERING_COMPLETED,rn,K),ae.on(L.default.TIME_SYNCHRONIZATION_COMPLETED,kt,K),ae.on(L.default.CURRENT_TRACK_CHANGED,St,K),ae.on(L.default.SETTING_UPDATED_LIVE_DELAY,wn,K),ae.on(L.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,wn,K)}()},getActiveStreamInfo:jr,addDVRMetric:Xe,hasVideoTrack:Ii,hasAudioTrack:gr,getStreamById:lr,getStreamForTime:ze,getTimeRelativeToStreamId:function vt(qt,Pn){for(var Qn=null,Kn=0,mi=0,gi=null,Oi=0;Oi<Q.length;Oi++){if(mi=(Qn=Q[Oi]).getStartTime(),gi=Qn.getDuration(),Number.isFinite(mi)&&(Kn=mi),Qn.getId()===Pn)return qt-Kn;Number.isFinite(gi)&&(Kn+=gi)}return null},load:function st(qt){var Pn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;Ze(),Dt=Pn,Le.load(qt)},loadWithManifest:function ut(qt){var Pn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function ct(){if(!Ce||!Ce.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),Dt=Pn,Ce.setManifest(qt)},getActiveStreamProcessors:un,setConfig:function Pi(qt){qt&&(qt.capabilities&&(oe=qt.capabilities),qt.capabilitiesFilter&&(he=qt.capabilitiesFilter),qt.manifestLoader&&(Le=qt.manifestLoader),qt.manifestModel&&(fe=qt.manifestModel),qt.mediaPlayerModel&&(dt=qt.mediaPlayerModel),qt.customParametersModel&&(it=qt.customParametersModel),qt.protectionController&&(ne=qt.protectionController),qt.adapter&&(Re=qt.adapter),qt.dashMetrics&&(Ae=qt.dashMetrics),qt.errHandler&&(_e=qt.errHandler),qt.timelineConverter&&(J=qt.timelineConverter),qt.videoModel&&(Ke=qt.videoModel),qt.playbackController&&(Ve=qt.playbackController),qt.serviceDescriptionController&&(lt=qt.serviceDescriptionController),qt.contentSteeringController&&(ke=qt.contentSteeringController),qt.textController&&(ie=qt.textController),qt.abrController&&(Je=qt.abrController),qt.mediaController&&(Ne=qt.mediaController),qt.settings&&(Wt=qt.settings),qt.baseURLController&&(we=qt.baseURLController),qt.uriFragmentModel&&(at=qt.uriFragmentModel),qt.segmentBaseController&&(He=qt.segmentBaseController))},setProtectionData:function qi(qt){ee=qt,ne&&ne.setProtectionData(ee)},getIsStreamSwitchInProgress:function Kr(){return ue},switchToVideoElement:function tr(qt){Z&&(Ve.initialize(jr()),Mn(qt,!1))},getHasMediaOrInitialisationError:function Vr(){return ve||de},getStreams:Ji,getActiveStream:function hn(){return Z},getInitialPlayback:function ti(){return Ut},getAutoPlay:function ar(){return X},reset:xo},function Qe(){ge=Object(f.default)($).getInstance().getLogger(K),Ue=Object(U.default)($).getInstance(),pe=Object(R.default)($).getInstance(),W=Object(g.default)($).getInstance(),se=Object(y.default)($).getInstance(),Nr()}(),K}Fe.__dashjs_factory_name="StreamController",S.default=D.default.getSingletonFactory(Fe)},"./src/streaming/controllers/TimeSyncController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/TimeSyncController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),w=c(
/*! ./../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ./../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! ./../../core/errors/Errors */
"./src/core/errors/Errors.js"),L=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),D=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),p=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function O(){var C,B,Y,q,le,Fe,$,ae,K,ge,oe,he,Ce,Le,fe,Re,P=this.context,T=Object(w.default)(P).getInstance(),N=Object(p.default)(P).getInstance();function Ue(){ae=[],K=[],ge=null,oe=null,Ce=null,he=NaN,Y=!1,q=!1,Le=le.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function He(){!le.get().streaming.utcSynchronization.enabled||Y||q||!Ce||!Ce.value||!Ce.schemeIdUri||isNaN(he)||isNaN(le.get().streaming.utcSynchronization.backgroundAttempts)||oe&&(Date.now()-oe)/1e3<30||(ae=[],q=!0,at(isNaN(le.get().streaming.utcSynchronization.backgroundAttempts)?2:le.get().streaming.utcSynchronization.backgroundAttempts))}function at(Ve){try{if(Ve<=0)return void de();var lt=Date.now();Fe[Ce.schemeIdUri](Ce.value,function(dt){var it=Date.now(),bt=Ne(lt,it,dt);ae.push(bt),at(Ve-1)},function(){de()})}catch{de()}}function Je(){var lt=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!K||0===K.length||lt>=K.length)W();else{var dt=K[lt];if(dt)if(Fe.hasOwnProperty(dt.schemeIdUri)){var it=(new Date).getTime();Fe[dt.schemeIdUri](dt.value,function(bt){var Ut=(new Date).getTime(),wt=Ne(it,Ut,bt);Ce=dt,W(wt)},function(){Je(lt+1)})}else Je(lt+1);else W()}}function Ne(Ve,lt,dt){return dt-(lt-(lt-Ve)/2)}function W(){var Ve=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,lt=isNaN(Ve);lt&&le.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function X(){var Ve=$.getLatestMPDRequestHeaderValueByID("Date"),lt=null!==Ve?new Date(Ve).getTime():Number.NaN;isNaN(lt)?ue(!0):ue(!1,lt-Date.now())}():ue(lt,Ve)}function _e(Ve){var lt=Date.parse(Ve);return isNaN(lt)&&(lt=function se(Ve){var Ut,wt,Ht=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Ve);return Ut=Date.UTC(parseInt(Ht[1],10),parseInt(Ht[2],10)-1,parseInt(Ht[3],10),parseInt(Ht[4],10),parseInt(Ht[5],10),Ht[6]&&(parseInt(Ht[6],10)||0),Ht[7]&&1e3*parseFloat(Ht[7])||0),Ht[9]&&Ht[10]&&(wt=60*parseInt(Ht[9],10)+parseInt(Ht[10],10),Ut+=("+"===Ht[8]?-1:1)*wt*60*1e3),new Date(Ut).getTime()}(Ve)),lt}function J(Ve){return Date.parse(Ve)}function Q(Ve){return Date.parse(Ve)}function Z(Ve,lt,dt){dt()}function ne(Ve,lt,dt){var it=_e(Ve);isNaN(it)?dt():lt(it)}function ie(Ve,lt,dt,it,bt){var Ut,wt,Ht=!1,en=new XMLHttpRequest,ln=bt?b.HTTPRequest.HEAD:b.HTTPRequest.GET,cn=lt.match(/\S+/g);if(lt=cn.shift(),Ut=function(){Ht||(Ht=!0,cn.length?ie(Ve,cn.join(" "),dt,it,bt):it())},wt=function(){var nn,Dt;200===en.status&&(nn=bt?en.getResponseHeader("Date"):en.response,Dt=Ve(nn),isNaN(Dt)||(dt(Dt),Ht=!0))},N.isRelative(lt)){var Wt=Re.resolve();Wt&&(lt=N.resolve(lt,Wt.url))}en.open(ln,lt),en.timeout=5e3,en.onload=wt,en.onloadend=Ut,en.send()}function ee(Ve,lt,dt){ie(Q,Ve,lt,dt,!0)}function ue(Ve,lt){if(!isNaN(he)&&!isNaN(lt)&&!Ve&&function ve(Ve){try{var wt,lt=xe(Ve),dt=isNaN(Le)?30:Le,it=isNaN(le.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:le.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,bt=isNaN(le.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:le.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,Ut=isNaN(le.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:le.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;lt?(wt=Math.min(dt*it,bt),B.debug("Increasing timeBetweenSyncAttempts to ".concat(wt))):(wt=Math.max(dt/it,Ut),B.debug("Decreasing timeBetweenSyncAttempts to ".concat(wt))),Le=wt}catch{}}(lt),!Ve&&!isNaN(lt)){ge=Date.now(),Y=!1;var dt=isNaN(he);he=lt,dt&&He(),B.debug("Completed UTC sync. Setting client - server offset to ".concat(lt))}Ve&&(Ce=null,Y=!1,fe.error(new t.default(F.default.TIME_SYNC_FAILED_ERROR_CODE,F.default.TIME_SYNC_FAILED_ERROR_MESSAGE))),T.trigger(E.default.UPDATE_TIME_SYNC_OFFSET,{offset:lt}),T.trigger(E.default.TIME_SYNCHRONIZATION_COMPLETED)}function de(){if(ae&&0!==ae.length){var Ve=ae.reduce(function(lt,dt){return lt+dt},0)/ae.length;xe(Ve)?B.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(B.debug("Completed background UTC sync. Setting client - server offset to ".concat(Ve)),T.trigger(E.default.UPDATE_TIME_SYNC_OFFSET,{offset:he=Ve})),q=!1,oe=Date.now()}}function xe(Ve){try{if(isNaN(he))return!0;var lt=le.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(le.get().streaming.utcSynchronization.maximumAllowedDrift)?le.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Ve>=he-lt&&Ve<=he+lt}catch{return!0}}return C={initialize:function ke(){Ue(),Fe={"urn:mpeg:dash:utc:http-head:2014":ee,"urn:mpeg:dash:utc:http-xsdate:2014":ie.bind(null,_e),"urn:mpeg:dash:utc:http-iso:2014":ie.bind(null,J),"urn:mpeg:dash:utc:direct:2014":ne,"urn:mpeg:dash:utc:http-head:2012":ee,"urn:mpeg:dash:utc:http-xsdate:2012":ie.bind(null,_e),"urn:mpeg:dash:utc:http-iso:2012":ie.bind(null,J),"urn:mpeg:dash:utc:direct:2012":ne,"urn:mpeg:dash:utc:http-ntp:2014":Z,"urn:mpeg:dash:utc:ntp:2014":Z,"urn:mpeg:dash:utc:sntp:2014":Z}},attemptSync:function we(Ve,lt){if(K=Ve,!Y){if(!function Te(Ve){try{if(!Ve||!le.get().streaming.utcSynchronization.enabled)return!1;var lt=isNaN(Le)?30:Le;return!(ge&&lt&&!isNaN(lt))||(Date.now()-ge)/1e3>=lt}catch{return!0}}(lt))return void T.trigger(E.default.TIME_SYNCHRONIZATION_COMPLETED);Y=!0,Je()}},setConfig:function pe(Ve){Ve&&(Ve.dashMetrics&&($=Ve.dashMetrics),Ve.baseURLController&&(Re=Ve.baseURLController),Ve.errHandler&&(fe=Ve.errHandler),Ve.settings&&(le=Ve.settings))},reset:function Ke(){Ue(),T.off(E.default.ATTEMPT_BACKGROUND_SYNC,He,C)}},function Ae(){B=Object(D.default)(P).getInstance().getLogger(C),T.on(E.default.ATTEMPT_BACKGROUND_SYNC,He,C)}(),C}O.__dashjs_factory_name="TimeSyncController";var x=L.default.getSingletonFactory(O);x.HTTP_TIMEOUT_MS=5e3,L.default.updateSingletonFactory(O.__dashjs_factory_name,x),S.default=x},"./src/streaming/controllers/XlinkController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/XlinkController.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../XlinkLoader */
"./src/streaming/XlinkLoader.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),L=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),D=c(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),p="onLoad";function y(M){M=M||{};var k,O,x,P,T,N,U=this.context,R=Object(b.default)(U).getInstance(),V=Object(L.default)(U).getInstance();function Fe(Le,fe,Re){var pe,Ue,Ae={};Ae.elements=Le,Ae.type=fe,Ae.resolveType=Re,0===Ae.elements.length&&ae(Ae);for(var ke=0;ke<Ae.elements.length;ke++)Ue=V.isHTTPURL((pe=Ae.elements[ke]).url)?pe.url:pe.originalContent.BaseURL+pe.url,N.load(Ue,pe,Ae)}function $(Le){var fe,Re,Ue="";if(Re=Le.resolveObject,(fe=Le.element).resolvedContent){var ke=0;0===fe.resolvedContent.indexOf("<?xml")&&(ke=fe.resolvedContent.indexOf("?>")+2),Ue=fe.resolvedContent.substr(0,ke)+"<response>"+fe.resolvedContent.substr(ke)+"</response>",fe.resolvedContent=T.xml_str2json(Ue)}(function he(Le){var fe;for(fe=0;fe<Le.elements.length;fe++)if(!1===Le.elements[fe].resolved)return!1;return!0})(Re)&&ae(Re)}function ae(Le){var Re,Ae,fe=[];if(function ge(Le){var Re,Ae,Ue,ke,we,fe=[];for(Ue=Le.elements.length-1;Ue>=0;Ue--){if(Ae=(Re=Le.elements[Ue]).type+"_asArray",Re.resolvedContent){if(Re.resolvedContent)for(ke=0;ke<Re.resolvedContent[Ae].length;ke++)fe.push(Re.resolvedContent[Ae][ke])}else delete Re.originalContent["xlink:actuate"],delete Re.originalContent["xlink:href"],fe.push(Re.originalContent);for(Re.parentElement[Ae].splice(Re.index,1),we=0;we<fe.length;we++)Re.parentElement[Ae].splice(Re.index+we,0,fe[we]);fe=[]}Le.elements.length>0&&x.run(P)}(Le),"onActuate"===Le.resolveType&&R.trigger(w.default.XLINK_READY,{manifest:P}),Le.resolveType===p)switch(Le.type){case D.default.PERIOD:for(Re=0;Re<P[D.default.PERIOD+"_asArray"].length;Re++)(Ae=P[D.default.PERIOD+"_asArray"][Re]).hasOwnProperty(D.default.ADAPTATION_SET+"_asArray")&&(fe=fe.concat(K(Ae[D.default.ADAPTATION_SET+"_asArray"],Ae,D.default.ADAPTATION_SET,p))),Ae.hasOwnProperty(D.default.EVENT_STREAM+"_asArray")&&(fe=fe.concat(K(Ae[D.default.EVENT_STREAM+"_asArray"],Ae,D.default.EVENT_STREAM,p)));Fe(fe,D.default.ADAPTATION_SET,p);break;case D.default.ADAPTATION_SET:R.trigger(w.default.XLINK_READY,{manifest:P})}}function K(Le,fe,Re,Ae){var Ue,ke,we,pe=[];for(ke=Le.length-1;ke>=0;ke--)(Ue=Le[ke]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===Ue["xlink:href"]&&Le.splice(ke,1);for(ke=0;ke<Le.length;ke++)(Ue=Le[ke]).hasOwnProperty("xlink:href")&&Ue.hasOwnProperty("xlink:actuate")&&Ue["xlink:actuate"]===Ae&&(we=oe(Ue["xlink:href"],fe,Re,ke,Ae,Ue),pe.push(we));return pe}function oe(Le,fe,Re,Ae,pe,Ue){return{url:Le,parentElement:fe,type:Re,index:Ae,resolveType:pe,originalContent:Ue,resolvedContent:null,resolved:!1}}return k={resolveManifestOnLoad:function q(Le){T=new F.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:O}),(P=Le).Period_asArray?Fe(K(P.Period_asArray,P,D.default.PERIOD,p),D.default.PERIOD,p):R.trigger(w.default.XLINK_READY,{manifest:P})},setMatchers:function B(Le){Le&&(O=Le)},setIron:function Y(Le){Le&&(x=Le)},reset:function le(){R.off(w.default.XLINK_ELEMENT_LOADED,$,k),N&&(N.reset(),N=null)}},function C(){R.on(w.default.XLINK_ELEMENT_LOADED,$,k),N=Object(t.default)(U).create({errHandler:M.errHandler,dashMetrics:M.dashMetrics,mediaPlayerModel:M.mediaPlayerModel,requestModifier:M.requestModifier,settings:M.settings})}(),k}y.__dashjs_factory_name="XlinkController",S.default=E.default.getClassFactory(y)},"./src/streaming/metrics/MetricsReporting.js":
/*!***************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReporting.js ***!
                  \***************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./utils/DVBErrorsTranslator */
"./src/streaming/metrics/utils/DVBErrorsTranslator.js"),b=c(
/*! ./MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),w=c(
/*! ./controllers/MetricsCollectionController */
"./src/streaming/metrics/controllers/MetricsCollectionController.js"),E=c(
/*! ./metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js"),F=c(
/*! ./reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function L(){var p=this.context;return{createMetricsReporting:function y(R){return Object(t.default)(p).getInstance({eventBus:R.eventBus,dashMetrics:R.dashMetrics,metricsConstants:R.metricsConstants,events:R.events}).initialise(),Object(w.default)(p).create(R)},getReportingFactory:function M(){return Object(F.default)(p).getInstance()},getMetricsHandlerFactory:function U(){return Object(E.default)(p).getInstance()}}}L.__dashjs_factory_name="MetricsReporting";var D=dashjs.FactoryMaker.getClassFactory(L);D.events=b.default,dashjs.FactoryMaker.updateClassFactory(L.__dashjs_factory_name,D),S.default=D},"./src/streaming/metrics/MetricsReportingEvents.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReportingEvents.js ***!
                  \*********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function w(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var x=function L(O,x){if("object"!==b(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===b(x)?x:String(x)}function p(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&f(O,x)}function f(O,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function g(O){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(x){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function y(O,x){if(x&&("object"===b(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function M(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}c.r(S);var k=new(function(O){p(P,O);var x=g(P);function P(){var T;return function D(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P),(T=x.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",T.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",T.CMCD_DATA_GENERATED="cmcdDataGenerated",T}return function E(O,x,P){return x&&w(O.prototype,x),P&&w(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(c(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));S.default=k},"./src/streaming/metrics/controllers/MetricsCollectionController.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsCollectionController.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./MetricsController */
"./src/streaming/metrics/controllers/MetricsController.js"),b=c(
/*! ../utils/ManifestParsing */
"./src/streaming/metrics/utils/ManifestParsing.js"),w=c(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function E(F){var L,D={},p=this.context,f=(F=F||{}).eventBus,g=F.events;function y(V){if(!V.error){var k=Object.keys(D);Object(b.default)(p).getInstance({adapter:F.adapter,constants:F.constants}).getMetrics(V.manifest).forEach(function(x){var P=JSON.stringify(x);if(D.hasOwnProperty(P))k.splice(P,1);else try{var T=Object(t.default)(p).create(F);T.initialize(x),D[P]=T}catch{}}),k.forEach(function(x){D[x].reset(),delete D[x]}),f.trigger(w.default.METRICS_INITIALISATION_COMPLETE)}}function M(){Object.keys(D).forEach(function(V){D[V].reset()}),D={}}return L={reset:function R(){f.off(g.MANIFEST_UPDATED,y,L),f.off(g.STREAM_TEARDOWN_COMPLETE,M,L)}},function U(){f.on(g.MANIFEST_UPDATED,y,L),f.on(g.STREAM_TEARDOWN_COMPLETE,M,L)}(),L}E.__dashjs_factory_name="MetricsCollectionController",S.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/controllers/MetricsController.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsController.js ***!
                  \****************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./RangeController */
"./src/streaming/metrics/controllers/RangeController.js"),b=c(
/*! ./ReportingController */
"./src/streaming/metrics/controllers/ReportingController.js"),w=c(
/*! ./MetricsHandlersController */
"./src/streaming/metrics/controllers/MetricsHandlersController.js");function E(F){F=F||{};var L,D,p,g=this.context;function M(){L&&L.reset(),D&&D.reset(),p&&p.reset()}return{initialize:function y(U){try{(p=Object(t.default)(g).create({mediaElement:F.mediaElement})).initialize(U.Range),(D=Object(b.default)(g).create({debug:F.debug,metricsConstants:F.metricsConstants,mediaPlayerModel:F.mediaPlayerModel})).initialize(U.Reporting,p),(L=Object(w.default)(g).create({debug:F.debug,eventBus:F.eventBus,metricsConstants:F.metricsConstants,events:F.events})).initialize(U.metrics,D)}catch(R){throw M(),R}},reset:M}}E.__dashjs_factory_name="MetricsController",S.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/controllers/MetricsHandlersController.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsHandlersController.js ***!
                  \************************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js");function b(w){var F,E=[],L=this.context,D=(w=w||{}).eventBus,p=w.events,f=Object(t.default)(L).getInstance({debug:w.debug,eventBus:w.eventBus,metricsConstants:w.metricsConstants});function g(U){E.forEach(function(R){R.handleNewMetric(U.metric,U.value,U.mediaType)})}return F={initialize:function y(U,R){U.split(",").forEach(function(V,k,O){var x;if(-1!==V.indexOf("(")&&-1===V.indexOf(")")){var P=O[k+1];P&&-1===P.indexOf("(")&&-1!==P.indexOf(")")&&(V+=","+P,delete O[k+1])}(x=f.create(V,R))&&E.push(x)}),D.on(p.METRIC_ADDED,g,F),D.on(p.METRIC_UPDATED,g,F)},reset:function M(){D.off(p.METRIC_ADDED,g,F),D.off(p.METRIC_UPDATED,g,F),E.forEach(function(U){return U.reset()}),E=[]}}}b.__dashjs_factory_name="MetricsHandlersController",S.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/controllers/RangeController.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/RangeController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js");function b(w){var L,D,E=!1,F=this.context,p=(w=w||{}).mediaElement;return L={initialize:function f(U){U&&U.length&&(U.forEach(function(R){var V=R.starttime;D.add(V,V+R.duration)}),E=!!U[0]._useWallClockTime)},reset:function g(){D.clear()},isEnabled:function M(){var R,U=D.length;if(!U)return!0;R=E?(new Date).getTime()/1e3:p.currentTime;for(var V=0;V<U;V+=1){var k=D.start(V),O=D.end(V);if(k<=R&&R<O)return!0}return!1}},function y(){D=Object(t.default)(F).create()}(),L}b.__dashjs_factory_name="RangeController",S.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/controllers/ReportingController.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/ReportingController.js ***!
                  \******************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function b(w){var E=[],L=Object(t.default)(this.context).getInstance(w);return{initialize:function D(g,y){g.some(function(M){var U=L.create(M,y);if(U)return E.push(U),!0})},reset:function p(){E.forEach(function(g){return g.reset()}),E=[]},report:function f(g,y){E.forEach(function(M){return M.report(g,y)})}}}b.__dashjs_factory_name="ReportingController",S.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/metrics/MetricsHandlerFactory.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/MetricsHandlerFactory.js ***!
                  \****************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./handlers/BufferLevelHandler */
"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js"),b=c(
/*! ./handlers/DVBErrorsHandler */
"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js"),w=c(
/*! ./handlers/HttpListHandler */
"./src/streaming/metrics/metrics/handlers/HttpListHandler.js"),E=c(
/*! ./handlers/GenericMetricHandler */
"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");function F(L){var D,p=(L=L||{}).debug?L.debug.getLogger(D):{},f=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,g=this.context,y={BufferLevel:t.default,DVBErrors:b.default,HttpList:w.default,PlayList:E.default,RepSwitchList:E.default,TcpList:E.default};return{create:function M(V,k){var x,O=V.match(f);if(O){try{(x=y[O[1]](g).create({eventBus:L.eventBus,metricsConstants:L.metricsConstants})).initialize(O[1],k,O[3],O[5])}catch(P){x=null,p.error("MetricsHandlerFactory: Could not create handler for type ".concat(O[1]," with args ").concat(O[3],", ").concat(O[5]," (").concat(P.message,")"))}return x}},register:function U(V,k){y[V]=k},unregister:function R(V){delete y[V]}}}F.__dashjs_factory_name="MetricsHandlerFactory",S.default=dashjs.FactoryMaker.getSingletonFactory(F)},"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function b(w){w=w||{};var F,L,D,p,f,g=this.context,y=Object(t.default)(g).getInstance(),M=[],U=w.metricsConstants;function V(){var P=function R(){try{return Object.keys(M).map(function(P){return M[P]}).reduce(function(P,T){return P.level<T.level?P:T})}catch{return}}();P&&f!==P.t&&(f=P.t,F.report(D,P))}return{initialize:function k(P,T,N){T&&(L=y.validateN(N),F=T,D=y.reconstructFullMetricName(P,N),p=setInterval(V,L))},reset:function O(){clearInterval(p),p=null,L=0,F=null,f=null},handleNewMetric:function x(P,T,N){P===U.BUFFER_LEVEL&&(M[N]=T)}}}b.__dashjs_factory_name="BufferLevelHandler",S.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js":
/*!********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js ***!
                  \********************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");S.default=dashjs.FactoryMaker.getClassFactory(function b(w){var F,L=(w=w||{}).eventBus,D=w.metricsConstants;function p(){L.off(t.default.METRICS_INITIALISATION_COMPLETE,p,this),L.trigger(t.default.BECAME_REPORTING_PLAYER)}return{initialize:function f(M,U){U&&(F=U,L.on(t.default.METRICS_INITIALISATION_COMPLETE,p,this))},reset:function g(){F=null},handleNewMetric:function y(M,U){M===D.DVB_ERRORS&&F&&F.report(M,U)}}})},"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js ***!
                  \************************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(){var w,E;return{initialize:function F(p,f){w=p,E=f},reset:function L(){E=null,w=void 0},handleNewMetric:function D(p,f){p===w&&E&&E.report(w,f)}}}c.r(S),t.__dashjs_factory_name="GenericMetricHandler",S.default=dashjs.FactoryMaker.getClassFactory(t)},"./src/streaming/metrics/metrics/handlers/HttpListHandler.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/HttpListHandler.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function b(w){w=w||{};var F,L,D,p,f,g=[],y=Object(t.default)(this.context).getInstance(),M=w.metricsConstants;function U(){g.length&&F&&F.report(p,g),g=[]}return{initialize:function R(O,x,P,T){x&&(L=y.validateN(P),F=x,T&&T.length&&(D=T),p=y.reconstructFullMetricName(O,P,T),f=setInterval(U,L))},reset:function V(){clearInterval(f),f=null,L=null,D=null,g=[],F=null},handleNewMetric:function k(O,x){O===M.HTTP_REQUEST&&(!D||D===x.type)&&g.push(x)}}}b.__dashjs_factory_name="HttpListHandler",S.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/reporting/ReportingFactory.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/ReportingFactory.js ***!
                  \*************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./reporters/DVBReporting */
"./src/streaming/metrics/reporting/reporters/DVBReporting.js");function b(w){var L,E={"urn:dvb:dash:reporting:2014":t.default},F=this.context,D=(w=w||{}).debug?w.debug.getLogger(L):{},p=w.metricsConstants,f=w.mediaPlayerModel||{};return{create:function g(U,R){var V;try{(V=E[U.schemeIdUri](F).create({metricsConstants:p,mediaPlayerModel:f})).initialize(U,R)}catch(k){V=null,D.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(U.schemeIdUri," (").concat(k.message,")"))}return V},register:function y(U,R){E[U]=R},unregister:function M(U){delete E[U]}}}b.__dashjs_factory_name="ReportingFactory",S.default=dashjs.FactoryMaker.getSingletonFactory(b)},"./src/streaming/metrics/reporting/reporters/DVBReporting.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/reporters/DVBReporting.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../utils/MetricSerialiser */
"./src/streaming/metrics/utils/MetricSerialiser.js"),b=c(
/*! ../../utils/RNG */
"./src/streaming/metrics/utils/RNG.js"),w=c(
/*! ../../../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function E(F){var L,p,f,g,y,M,U,R,D=this.context,O=[],x=(F=F||{}).metricsConstants;function B(){y=!1,M=!1,U=null,R=null}return L={report:function N(q,le){Array.isArray(le)||(le=[le]),M&&R.isEnabled()&&le.forEach(function(Fe){var $=p.serialise(Fe);q!==x.DVB_ERRORS&&($="metricname=".concat(q,"&").concat($)),function T(q,le,Fe){var $=new XMLHttpRequest;$.withCredentials=f.getXHRWithCredentialsForType(x.HTTP_REQUEST_DVB_REPORTING_TYPE);var ae=function(){var ge=O.indexOf($);-1!==ge&&(O.splice(ge,1),$.status>=200&&$.status<300?le&&le():Fe&&Fe())};O.push($);try{$.open("GET",q),$.onloadend=ae,$.onerror=ae,$.send()}catch{$.onerror()}}($="".concat(U,"?").concat($),null,function(){M=!1})})},initialize:function C(q,le){var Fe;if(R=le,!(U=q.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");y||((Fe=q.dvb_probability)&&(1e3===Fe||Fe/1e3>=g.random())&&(M=!0),y=!0)},reset:function Y(){B()}},function P(){p=Object(t.default)(D).getInstance(),g=Object(b.default)(D).getInstance(),f=Object(w.default)(D).getInstance(),B()}(),L}E.__dashjs_factory_name="DVBReporting",S.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/metrics/utils/DVBErrorsTranslator.js":
/*!************************************************************!*\
                  !*** ./src/streaming/metrics/utils/DVBErrorsTranslator.js ***!
                  \************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/DVBErrors */
"./src/streaming/metrics/vo/DVBErrors.js"),b=c(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function w(E){var F,L,D=(E=E||{}).eventBus,p=E.dashMetrics,f=E.metricsConstants,g=E.events;function y(T){var N=new t.default;if(L){for(var C in T)T.hasOwnProperty(C)&&(N[C]=T[C]);N.mpdurl||(N.mpdurl=L.originalUrl||L.url),N.terror||(N.terror=new Date),p.addDVBErrors(N)}}function M(T){T.error||(L=T.manifest)}function U(T){y({errorcode:t.default.BASE_URL_CHANGED,servicelocation:T.entry})}function R(){y({errorcode:t.default.BECAME_REPORTER})}function k(T){T.metric===f.HTTP_REQUEST&&function V(T){(0===T.responsecode||null==T.responsecode||T.responsecode>=400||T.responsecode<100||T.responsecode>=600)&&y({errorcode:T.responsecode||t.default.CONNECTION_ERROR,url:T.url,terror:T.tresponse,servicelocation:T._serviceLocation})}(T.value)}function O(T){var C;switch(T.error?T.error.code:0){case MediaError.MEDIA_ERR_NETWORK:C=t.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:C=t.default.CORRUPT_MEDIA_OTHER;break;default:return}y({errorcode:C})}return F={initialise:function x(){D.on(g.MANIFEST_UPDATED,M,F),D.on(g.SERVICE_LOCATION_BLACKLIST_CHANGED,U,F),D.on(g.METRIC_ADDED,k,F),D.on(g.METRIC_UPDATED,k,F),D.on(g.PLAYBACK_ERROR,O,F),D.on(b.default.BECAME_REPORTING_PLAYER,R,F)},reset:function P(){D.off(g.MANIFEST_UPDATED,M,F),D.off(g.SERVICE_LOCATION_BLACKLIST_CHANGED,U,F),D.off(g.METRIC_ADDED,k,F),D.off(g.METRIC_UPDATED,k,F),D.off(g.PLAYBACK_ERROR,O,F),D.off(b.default.BECAME_REPORTING_PLAYER,R,F)}}}w.__dashjs_factory_name="DVBErrorsTranslator",S.default=dashjs.FactoryMaker.getSingletonFactory(w)},"./src/streaming/metrics/utils/HandlerHelpers.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/metrics/utils/HandlerHelpers.js ***!
                  \*******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(){return{reconstructFullMetricName:function(w,E,F){var L=w;return E&&(L+="("+E,F&&F.length&&(L+=","+F),L+=")"),L},validateN:function(w){if(!w)throw new Error("missing n");if(isNaN(w))throw new Error("n is NaN");if(w<0)throw new Error("n must be positive");return w}}}c.r(S),t.__dashjs_factory_name="HandlerHelpers",S.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/ManifestParsing.js":
/*!********************************************************!*\
                  !*** ./src/streaming/metrics/utils/ManifestParsing.js ***!
                  \********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/Metrics */
"./src/streaming/metrics/vo/Metrics.js"),b=c(
/*! ../vo/Range */
"./src/streaming/metrics/vo/Range.js"),w=c(
/*! ../vo/Reporting */
"./src/streaming/metrics/vo/Reporting.js");function E(F){var D=(F=F||{}).adapter,p=F.constants;return{getMetrics:function g(y){var M=[];return y&&y.Metrics_asArray&&y.Metrics_asArray.forEach(function(U){var R=new t.default,V=D.getIsDynamic(y);U.hasOwnProperty("metrics")&&(R.metrics=U.metrics,U.Range_asArray&&U.Range_asArray.forEach(function(k){var O=new b.default;O.starttime=function f(y,M,U){var R,V,k=0;return M?k=D.getAvailabilityStartTime(y)/1e3:(R=D.getRegularPeriods(y)).length&&(k=R[0].start),V=k,U&&U.hasOwnProperty(p.START_TIME)&&(V+=U.starttime),V}(y,V,k),O.duration=k.hasOwnProperty("duration")?k.duration:D.getDuration(y),O._useWallClockTime=V,R.Range.push(O)}),U.Reporting_asArray&&(U.Reporting_asArray.forEach(function(k){var O=new w.default;k.hasOwnProperty(p.SCHEME_ID_URI)&&(O.schemeIdUri=k.schemeIdUri,k.hasOwnProperty("value")&&(O.value=k.value),k.hasOwnProperty(p.DVB_REPORTING_URL)&&(O.dvb_reportingUrl=k[p.DVB_REPORTING_URL]),k.hasOwnProperty(p.DVB_PROBABILITY)&&(O.dvb_probability=k[p.DVB_PROBABILITY]),R.Reporting.push(O))}),M.push(R)))}),M}}}E.__dashjs_factory_name="ManifestParsing",S.default=dashjs.FactoryMaker.getSingletonFactory(E)},"./src/streaming/metrics/utils/MetricSerialiser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/utils/MetricSerialiser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(){return{serialise:function b(w){var L,D,E=[],F=[];for(L in w)if(w.hasOwnProperty(L)&&0!==L.indexOf("_")){if(null==(D=w[L])&&(D=""),Array.isArray(D)){if(!D.length)continue;F=[],D.forEach(function(p){var f="Object"!==Object.prototype.toString.call(p).slice(8,-1);F.push(f?p:b(p))}),D=F.map(encodeURIComponent).join(",")}else"string"==typeof D?D=encodeURIComponent(D):D instanceof Date?D=D.toISOString():"number"==typeof D&&(D=Math.round(D));E.push(L+"="+D)}return E.join("&")}}}c.r(S),t.__dashjs_factory_name="MetricSerialiser",S.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/RNG.js":
/*!********************************************!*\
                  !*** ./src/streaming/metrics/utils/RNG.js ***!
                  \********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(){var L,D,p,b=window.crypto||window.msCrypto,w=Uint32Array,E=Math.pow(2,8*w.BYTES_PER_ELEMENT)-1,F=10;function f(){b&&(L||(L=new w(F)),b.getRandomValues(L),D=0)}return p={random:function g(y,M){var U;return y||(y=0),M||(M=1),b?(D===L.length&&f(),U=L[D]/E,D+=1):U=Math.random(),U*(M-y)+y}},f(),p}c.r(S),t.__dashjs_factory_name="RNG",S.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/vo/DVBErrors.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/DVBErrors.js ***!
                  \***********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S);var D=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null});D.SSL_CONNECTION_FAILED_PREFIX="SSL",D.DNS_RESOLUTION_FAILED="C00",D.HOST_UNREACHABLE="C01",D.CONNECTION_REFUSED="C02",D.CONNECTION_ERROR="C03",D.CORRUPT_MEDIA_ISOBMFF="M00",D.CORRUPT_MEDIA_OTHER="M01",D.BASE_URL_CHANGED="F00",D.BECAME_REPORTER="S00",S.default=D},"./src/streaming/metrics/vo/Metrics.js":
/*!*********************************************!*\
                  !*** ./src/streaming/metrics/vo/Metrics.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.metrics="",this.Range=[],this.Reporting=[]})},"./src/streaming/metrics/vo/Range.js":
/*!*******************************************!*\
                  !*** ./src/streaming/metrics/vo/Range.js ***!
                  \*******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1})},"./src/streaming/metrics/vo/Reporting.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/Reporting.js ***!
                  \***********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function b(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,E(M.key),M)}}function w(f,g,y){return g&&b(f.prototype,g),y&&b(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}function E(f){var g=function F(f,g){if("object"!==t(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==t(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S);S.default=w(function f(){(function L(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3})},"./src/streaming/models/BaseURLTreeModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/BaseURLTreeModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(M){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(M)}function E(M,U){for(var R=0;R<U.length;R++){var V=U[R];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(M,L(V.key),V)}}function F(M,U,R){return U&&E(M.prototype,U),R&&E(M,R),Object.defineProperty(M,"prototype",{writable:!1}),M}function L(M){var U=function D(M,U){if("object"!==w(M)||null===M)return M;var R=M[Symbol.toPrimitive];if(void 0!==R){var V=R.call(M,U||"default");if("object"!==w(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===U?String:Number)(M)}(M,"string");return"symbol"===w(U)?U:String(U)}var f=NaN,g=F(function M(U,R){(function p(M,U){if(!(M instanceof U))throw new TypeError("Cannot call a class as a function")})(this,M),this.data={baseUrls:U||null,selectedIdx:R||f},this.children=[]});function y(){var M,U,R,V=this.context,k=Object(t.default)(V).getInstance();function T(Fe,$,ae){var K=R.getBaseURLsFromElement(ae);Fe[$]?k.areEqual(K,Fe[$].data.baseUrls)||(Fe[$].data.baseUrls=K,Fe[$].data.selectedIdx=f):Fe[$]=new g(K)}function N(Fe){!function P(){if(!R||!R.hasOwnProperty("getBaseURLsFromElement")||!R.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var $=R.getBaseURLsFromElement(Fe);k.areEqual($,U.data.baseUrls)||(U.data.baseUrls=$,U.data.selectedIdx=f),Fe&&Fe.Period_asArray&&Fe.Period_asArray.forEach(function(ae,K){T(U.children,K,ae),ae.AdaptationSet_asArray&&ae.AdaptationSet_asArray.forEach(function(ge,oe){T(U.children[K].children,oe,ge),ge.Representation_asArray&&ge.Representation_asArray.sort(R.getRepresentationSortFunction()).forEach(function(he,Ce){T(U.children[K].children[oe].children,Ce,he)})})})}function C(Fe,$){var ae=$||U;Fe(ae.data),ae.children&&ae.children.forEach(function(K){return C(Fe,K)})}function q(){U=new g}return M={reset:q,update:function Y(Fe){N(Fe)},getForPath:function le(Fe){var $=U,ae=[$.data];return Fe&&Fe.forEach(function(K){($=$.children[K])&&ae.push($.data)}),ae.filter(function(K){return K.baseUrls.length})},invalidateSelectedIndexes:function B(Fe){C(function($){isNaN($.selectedIdx)||Fe===$.baseUrls[$.selectedIdx].serviceLocation&&($.selectedIdx=f)})},setConfig:function x(Fe){Fe.adapter&&(R=Fe.adapter)}},function O(){q()}(),M}y.__dashjs_factory_name="BaseURLTreeModel",S.default=b.default.getClassFactory(y)},"./src/streaming/models/CmcdModel.js":
/*!*******************************************!*\
                  !*** ./src/streaming/models/CmcdModel.js ***!
                  \*******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),w=c(
/*! ../metrics/MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),L=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),D=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),p=c(
/*! ../../dash/models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),f=c(
/*! ../../core/Utils */
"./src/core/Utils.js");function g(T,N){var C=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!C){if(Array.isArray(T)||(C=function y(T,N){if(T){if("string"==typeof T)return M(T,N);var C=Object.prototype.toString.call(T).slice(8,-1);if("Object"===C&&T.constructor&&(C=T.constructor.name),"Map"===C||"Set"===C)return Array.from(T);if("Arguments"===C||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return M(T,N)}}(T))||N&&T&&"number"==typeof T.length){C&&(T=C);var B=0,Y=function(){};return{s:Y,n:function(){return B>=T.length?{done:!0}:{done:!1,value:T[B++]}},e:function(ae){throw ae},f:Y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Fe,q=!0,le=!1;return{s:function(){C=C.call(T)},n:function(){var ae=C.next();return q=ae.done,ae},e:function(ae){le=!0,Fe=ae},f:function(){try{!q&&null!=C.return&&C.return()}finally{if(le)throw Fe}}}}function M(T,N){(null==N||N>T.length)&&(N=T.length);for(var C=0,B=new Array(N);C<N;C++)B[C]=T[C];return B}var V_MANIFEST="m",V_AUDIO="a",V_VIDEO="v",V_INIT="i",V_CAPTION="c",V_ISOBMFF_TEXT_TRACK="tt",V_ENCRYPTION_KEY="k",V_OTHER="o",k_DASH="d",k_MSS="s",O_VOD="v",O_LIVE="l";function P(){var T,N,C,B,Y,q,le,Fe,$,ae,K=this.context,ge=Object(t.default)(K).getInstance(),oe=Object(F.default)(K).getInstance();function fe(){C={pr:1,nor:null,st:null,sf:null,sid:"".concat(f.default.generateUuid()),cid:null},$={},Fe={},ae={},Ae()}function Re(){Ae()}function Ae(){if(q){var it=q.getStreamController();if(it&&"function"==typeof it.getActiveStream){var bt=it.getActiveStream();bt&&(le=bt.getProcessors())}}}function ke(it,bt){var Ht,Ut={},wt=g(bt);try{for(wt.s();!(Ht=wt.n()).done;){var en=Ht.value;it[en]&&(Ut[en]=it[en])}}catch(ln){wt.e(ln)}finally{wt.f()}return Ut}function He(it){var bt=oe.get().streaming.cmcd.enabledKeys;return it.filter(function(Ut){return bt.includes(Ut)})}function at(it){try{return it.type===D.HTTPRequest.MPD_TYPE?function Ne(){var it=J();return it.ot=V_MANIFEST,it}():it.type===D.HTTPRequest.MEDIA_SEGMENT_TYPE?(function W(it){ae.hasOwnProperty(it)||(ae[it]=!1),Fe.hasOwnProperty(it)||(Fe[it]=!1),$.hasOwnProperty(it)||($[it]=!1)}(it.mediaType),function Te(it){var nn,bt=J(),Ut=function Q(it){try{return parseInt(it.mediaInfo.bitrateList[it.quality].bandwidth/1e3)}catch{return null}}(it),wt=function ne(it){try{return isNaN(it.duration)?null:Math.round(1e3*it.duration)}catch{return null}}(it),Ht=function ie(it){try{return 100*parseInt(B.getThroughputHistory().getSafeAverageThroughput(it)/100)}catch{return null}}(it.mediaType),en=function ee(it){try{var bt=C.pr,Ut=Y.getCurrentBufferLevel(it);return isNaN(bt)||isNaN(Ut)?null:100*parseInt(Ut/bt*10)}catch{return null}}(it.mediaType),ln=X(it.mediaType),cn=function Z(it){try{var bt=B.getTopBitrateInfoFor(it);return Math.round(bt.bitrate/1e3)}catch{return null}}(it.mediaType),Wt=C.pr,Sn=function Ve(it){if(le&&0!==le.length){var Ut,bt=g(le);try{for(bt.s();!(Ut=bt.n()).done;){var wt=Ut.value;if(wt.getType()===it)return wt.probeNextRequest()}}catch(Ht){bt.e(Ht)}finally{bt.f()}}}(it.mediaType);it.mediaType===L.default.VIDEO&&(nn=V_VIDEO),it.mediaType===L.default.AUDIO&&(nn=V_AUDIO),it.mediaType===L.default.TEXT&&(nn="application/mp4"===it.mediaInfo.mimeType?V_ISOBMFF_TEXT_TRACK:V_CAPTION);var Dt=oe.get().streaming.cmcd.rtp;return Dt||(Dt=function lt(it){var bt=q.getPlaybackRate();bt||(bt=1);var Ut=it.quality,Ht=it.mediaInfo,en=it.duration,ln=X(it.mediaType);0===ln&&(ln=500);var nn=Ht.bitrateList[Ut].bandwidth*en/1e3/(ln/bt/1e3),Dt=oe.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(oe.get().streaming.cmcd.rtpSafetyFactor)?oe.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(nn*Dt/100)+1)}(it)),bt.rtp=Dt,Sn&&(it.url!==Sn.url?bt.nor=encodeURIComponent(f.default.getRelativeUrl(it.url,Sn.url)):Sn.range&&(bt.nrr=Sn.range)),Ut&&(bt.br=Ut),nn&&(bt.ot=nn),isNaN(wt)||(bt.d=wt),isNaN(Ht)||(bt.mtp=Ht),isNaN(en)||(bt.dl=en),isNaN(ln)||(bt.bl=ln),isNaN(cn)||(bt.tb=cn),!isNaN(Wt)&&1!==Wt&&(bt.pr=Wt),$[it.mediaType]&&(bt.bs=!0,$[it.mediaType]=!1),(Fe[it.mediaType]||!ae[it.mediaType])&&(bt.su=!0,Fe[it.mediaType]=!1,ae[it.mediaType]=!0),bt}(it)):it.type===D.HTTPRequest.INIT_SEGMENT_TYPE?function se(){var it=J();return it.ot=V_INIT,it.su=!0,it}():it.type===D.HTTPRequest.OTHER_TYPE||it.type===D.HTTPRequest.XLINK_EXPANSION_TYPE?function _e(){var it=J();return it.ot=V_OTHER,it}():it.type===D.HTTPRequest.LICENSE?function Je(it){var bt=J();return bt.ot=V_ENCRYPTION_KEY,bt}():null}catch{return null}}function J(){var it={},bt=oe.get().streaming.cmcd.cid?oe.get().streaming.cmcd.cid:C.cid;return it.v=1,it.sid=oe.get().streaming.cmcd.sid?oe.get().streaming.cmcd.sid:C.sid,it.sid="".concat(it.sid),bt&&(it.cid="".concat(bt)),!isNaN(C.pr)&&1!==C.pr&&null!==C.pr&&(it.pr=C.pr),C.st&&(it.st=C.st),C.sf&&(it.sf=C.sf),it}function X(it){try{var bt=Y.getCurrentBufferLevel(it);return isNaN(bt)?null:100*parseInt(10*bt)}catch{return null}}function ue(it){try{C.pr=it.playbackRate}catch{}}function ve(it){try{var bt=T.getIsDynamic(it.data),wt=it.protocol&&"MSS"===it.protocol?k_MSS:k_DASH;C.st="".concat(bt?O_LIVE:O_VOD),C.sf="".concat(wt)}catch{}}function de(it){try{it.state&&it.mediaType&&it.state===b.default.BUFFER_EMPTY&&($[it.mediaType]||($[it.mediaType]=!0),Fe[it.mediaType]||(Fe[it.mediaType]=!0))}catch{}}function xe(){for(var it in $)$.hasOwnProperty(it)&&($[it]=!0);for(var bt in Fe)Fe.hasOwnProperty(bt)&&(Fe[bt]=!0)}function Ke(it){try{if(!it)return null;var bt=Object.keys(it).sort(function(Ht,en){return Ht.localeCompare(en)}),Ut=bt.length,wt=bt.reduce(function(Ht,en,ln){return"v"===en&&1===it[en]||(Ht+="string"==typeof it[en]&&"ot"!==en&&"sf"!==en&&"st"!==en?"".concat(en,"=").concat(JSON.stringify(it[en])):"".concat(en,"=").concat(it[en]),ln<Ut-1&&(Ht+=",")),Ht},"");return(wt=wt.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return N={getQueryParameter:function pe(it){try{if(oe.get().streaming.cmcd&&oe.get().streaming.cmcd.enabled){var bt=at(it),wt=Ke(function Ue(it){try{var bt=oe.get().streaming.cmcd.enabledKeys;return Object.keys(it).filter(function(Ut){return bt.includes(Ut)}).reduce(function(Ut,wt){return Ut[wt]=it[wt],Ut},{})}catch{return it}}(bt));return ge.trigger(w.default.CMCD_DATA_GENERATED,{url:it.url,mediaType:it.mediaType,cmcdData:bt,cmcdString:wt}),{key:"CMCD",value:wt}}return null}catch{return null}},getHeaderParameters:function we(it){try{if(oe.get().streaming.cmcd&&oe.get().streaming.cmcd.enabled){var bt=at(it),Ut=ke(bt,He(["br","d","ot","tb"])),wt=ke(bt,He(["bl","dl","mtp","nor","nrr","su"])),Ht=ke(bt,He(["bs","rtp"])),en=ke(bt,He(["cid","pr","sf","sid","st","v"])),ln={"CMCD-Object":Ke(Ut),"CMCD-Request":Ke(wt),"CMCD-Status":Ke(Ht),"CMCD-Session":Ke(en)};return ge.trigger(w.default.CMCD_DATA_GENERATED,{url:it.url,mediaType:it.mediaType,cmcdData:bt,headers:ln}),ln}return null}catch{return null}},setConfig:function Le(it){it&&(it.abrController&&(B=it.abrController),it.dashMetrics&&(Y=it.dashMetrics),it.playbackController&&(q=it.playbackController))},reset:function dt(){ge.off(b.default.PLAYBACK_RATE_CHANGED,ue,this),ge.off(b.default.MANIFEST_LOADED,ve,this),ge.off(b.default.BUFFER_LEVEL_STATE_CHANGED,de,N),ge.off(b.default.PLAYBACK_SEEKED,xe,N),fe()},initialize:function Ce(){ge.on(b.default.PLAYBACK_RATE_CHANGED,ue,N),ge.on(b.default.MANIFEST_LOADED,ve,N),ge.on(b.default.BUFFER_LEVEL_STATE_CHANGED,de,N),ge.on(b.default.PLAYBACK_SEEKED,xe,N),ge.on(b.default.PERIOD_SWITCH_COMPLETED,Re,N)}},function he(){T=Object(p.default)(K).getInstance(),fe()}(),N}P.__dashjs_factory_name="CmcdModel",S.default=E.default.getSingletonFactory(P)},"./src/streaming/models/CustomParametersModel.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/models/CustomParametersModel.js ***!
                  \*******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../dash/vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),E=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),F=c(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),L=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function p(){var f,g,y,M,U,R,V,k,O=this.context,x=Object(w.default)(O).getInstance();function T(){M=[],U=[],R=[],k=[],V=null,g=[]}function Le(W,se){var _e=-1;W.some(function(J,Q){if(J===se)return _e=Q,!0}),!(_e<0)&&W.splice(_e,1)}function fe(W){var se;for(se=0;se<k.length;se++)if(k[se].rulename===W)return se;return-1}function ke(W,se){He(W,se);var _e=new t.default;_e.schemeIdUri=W,_e.value=se,g.push(_e)}function He(W,se){Object(E.checkParameterType)(W,"string"),Object(E.checkParameterType)(se,"string"),g.forEach(function(_e,J){_e.schemeIdUri===W&&_e.value===se&&g.splice(J,1)})}return f={getCustomInitialTrackSelectionFunction:function q(){return V},setCustomInitialTrackSelectionFunction:function B(W){V=W},resetCustomInitialTrackSelectionFunction:function Y(){V=null},getLicenseResponseFilters:function Fe(){return U},getLicenseRequestFilters:function le(){return M},getCustomCapabilitiesFilters:function oe(){return R},registerCustomCapabilitiesFilter:function he(W){R.push(W)},registerLicenseResponseFilter:function ae(W){U.push(W)},registerLicenseRequestFilter:function $(W){M.push(W)},unregisterCustomCapabilitiesFilter:function Ce(W){Le(R,W)},unregisterLicenseResponseFilter:function ge(W){Le(U,W)},unregisterLicenseRequestFilter:function K(W){Le(M,W)},addAbrCustomRule:function Re(W,se,_e){if("string"!=typeof W||W!==F.default.ABANDON_FRAGMENT_RULES&&W!==F.default.QUALITY_SWITCH_RULES||"string"!=typeof se)throw L.default.BAD_ARGUMENT_ERROR;var J=fe(se);-1===J?k.push({type:W,rulename:se,rule:_e}):(k[J].type=W,k[J].rule=_e)},removeAllAbrCustomRule:function pe(){k=[]},removeAbrCustomRule:function Ae(W){if(W){var se=fe(W);-1!==se&&k.splice(se,1)}else k=[]},getAbrCustomRules:function Ue(){return k},addUTCTimingSource:ke,removeUTCTimingSource:He,getUTCTimingSources:function we(){return g},clearDefaultUTCTimingSources:function at(){g=[]},restoreDefaultUTCTimingSources:function Je(){var W=x.get().streaming.utcSynchronization.defaultTimingSource;ke(W.scheme,W.value)},setXHRWithCredentialsForType:function Ne(W,se){W?y[W]=!!se:Object.keys(y).forEach(function(_e){Ne(_e,se)})},getXHRWithCredentialsForType:function Te(W){var se=y[W];return void 0===se?y.default:se},setConfig:function C(){},reset:function N(){T()}},function P(){y={default:false},T()}(),f}p.__dashjs_factory_name="CustomParametersModel",S.default=b.default.getSingletonFactory(p)},"./src/streaming/models/FragmentModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/FragmentModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),w="loading",E="executed",L="failed";function D(f){var O,x,P,T,g=(f=f||{}).eventBus,y=f.events,M=f.dashMetrics,U=f.fragmentLoader,R=f.debug,V=f.streamInfo,k=f.type;function Y(Je){var Q;return!!Je&&(Q=!1,P.some(function(Z){if(function(J,Q){return!isNaN(J.index)&&J.startTime===Q.startTime&&J.adaptationIndex===Q.adaptationIndex&&J.type===Q.type}(Je,Z)||function(J,Q){return isNaN(J.index)&&isNaN(Q.index)&&J.quality===Q.quality}(Je,Z)||function(J,Q){return J.action===b.default.ACTION_COMPLETE&&J.action===Q.action}(Je,Z))return Q=!0}),Q)}function Fe(Je){return isNaN(Je.duration)?.25:Math.min(Je.duration/8,.5)}function $(Je){P=P.filter(function(Ne){var Te=Fe(Ne);return isNaN(Ne.startTime)||void 0!==Je&&Ne.startTime>=Je-Te})}function K(Je,Ne){Ne<=Je+.5||(P=P.filter(function(Te){var W=Fe(Te);return isNaN(Te.startTime)||Te.startTime>=Ne-W||isNaN(Te.duration)||Te.startTime+Te.duration<=Je+W}))}function Le(Je,Ne,Te){for(var se=Je.length-1;se>=0;se--){var _e=Je[se],J=_e.startTime,Q=J+_e.duration;if(Te=isNaN(Te)?Fe(_e):Te,!isNaN(J)&&!isNaN(Q)&&Ne+Te>=J&&Ne-Te<Q||isNaN(J)&&isNaN(Ne))return _e}return null}function Ae(Je,Ne){M.addSchedulingInfo(Je,Ne),M.addRequestsQueue(Je.mediaType,T,P)}function pe(Je){Je.sender===U&&(T.splice(T.indexOf(Je.request),1),Je.response&&!Je.error&&P.push(Je.request),Ae(Je.request,Je.error?L:E),g.trigger(y.FRAGMENT_LOADING_COMPLETED,{request:Je.request,response:Je.response,error:Je.error,sender:this},{streamId:V.id,mediaType:k}))}function Ue(Je){Je.sender===U&&g.trigger(y.FRAGMENT_LOADING_PROGRESS,{request:Je.request,response:Je.response,error:Je.error,sender:this},{streamId:V.id,mediaType:k})}function ke(Je){Je.sender===U&&g.trigger(y.FRAGMENT_LOADING_ABANDONED,{request:Je.request},{streamId:V.id,mediaType:k})}function we(){P=[],T=[]}return O={getStreamId:function C(){return V.id},getType:function B(){return k},getRequests:function le(Je){var Te=[];return(Je?Je.state instanceof Array?Je.state:[Je.state]:[]).forEach(function(W){var se=function Re(Je){var Ne;switch(Je){case w:Ne=T;break;case E:Ne=P;break;default:Ne=[]}return Ne}(W);Te=Te.concat(function fe(Je,Ne){return Ne.hasOwnProperty("time")?[Le(Je,Ne.time,Ne.threshold)]:Je.filter(function(Te){for(var W in Ne)if("state"!==W&&Ne.hasOwnProperty(W)&&Te[W]!=Ne[W])return!1;return!0})}(se,Je))}),Te},isFragmentLoaded:Y,isFragmentLoadedOrPending:function q(Je){var W,Ne=!1,Te=0;if(!(Ne=Y(Je)))for(Te=0;Te<T.length;Te++)Je.url===(W=T[Te]).url&&Je.startTime===W.startTime&&(Ne=!0);return Ne},removeExecutedRequestsBeforeTime:$,removeExecutedRequestsAfterTime:function ae(Je){P=P.filter(function(Ne){return isNaN(Ne.startTime)||void 0!==Je&&Ne.startTime<Je})},syncExecutedRequestsWithBufferedRange:function ge(Je,Ne){if(Je&&0!==Je.length){for(var Te=0,W=0,se=Je.length;W<se;W++)K(Te,Je.start(W)),Te=Je.end(W);Ne>0&&K(Te,Ne)}else $()},abortRequests:function oe(){x.debug("abort requests"),U.abort(),T=[]},executeRequest:function he(Je){Je.action===b.default.ACTION_DOWNLOAD?(Ae(Je,w),T.push(Je),function Ce(Je){g.trigger(y.FRAGMENT_LOADING_STARTED,{request:Je},{streamId:V.id,mediaType:k}),U.load(Je)}(Je)):x.warn("Unknown request action.")},reset:function He(){g.off(y.LOADING_COMPLETED,pe,this),g.off(y.LOADING_DATA_PROGRESS,Ue,this),g.off(y.LOADING_ABANDONED,ke,this),U&&U.reset(),we()},resetInitialSettings:we,addExecutedRequest:function at(Je){P.push(Je)}},function N(){x=R.getLogger(O),we(),g.on(y.LOADING_COMPLETED,pe,O),g.on(y.LOADING_DATA_PROGRESS,Ue,O),g.on(y.LOADING_ABANDONED,ke,O)}(),O}D.__dashjs_factory_name="FragmentModel";var p=t.default.getClassFactory(D);p.FRAGMENT_MODEL_LOADING=w,p.FRAGMENT_MODEL_EXECUTED=E,p.FRAGMENT_MODEL_CANCELED="canceled",p.FRAGMENT_MODEL_FAILED=L,t.default.updateClassFactory(D.__dashjs_factory_name,p),S.default=p},"./src/streaming/models/LowLatencyThroughputModel.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/models/LowLatencyThroughputModel.js ***!
                  \***********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(){var g,y,f=this.context,M={};function U(){y=Object(t.default)(f).getInstance().getLogger(g)}function R(P){for(var T={},N=0,C=0,B=0,Y=0,q=P.length,le=0;le<q;++le)N+=P[le].chunkDownloadTimeRelativeMS,C+=P[le].bufferLevel,B+=P[le].chunkDownloadTimeRelativeMS*P[le].bufferLevel,Y+=P[le].chunkDownloadTimeRelativeMS*P[le].chunkDownloadTimeRelativeMS;return T.m=(B-N*C/q)/(Y-N*N/q),T.b=C/q-T.m*N/q,function(Fe){return T.m*Fe+T.b}}function V(P){var N,T=!0,C=P.reduce(function(B,Y){return B+Y.bufferLevelAtSegmentEnd},0)/P.length;return P.forEach(function(B){Math.abs(B.bufferLevelAtSegmentEnd/B.bufferLevelAtSegmentStart)<.95&&(T=!1),B.bufferLevelAtSegmentEnd/C<.8&&(T=!1),N?N>B.bitrate&&(T=!1):N=B.bitrate}),T}return g={setup:U,addMeasurement:function x(P,T,N,C,B){P&&P.mediaType&&!M[P.mediaType]&&(M[P.mediaType]=[]);var Y=P.mediaInfo.bitrateList.find(function(q){return q.id===P.representationId});M[P.mediaType].push({index:P.index,repId:P.representationId,mediaType:P.mediaType,requestTimeMS:C,adjustedAvailabilityStartTimeMS:P.availabilityStartTime.getTime(),segDurationMS:1e3*P.duration,chunksDurationMS:N.reduce(function(q,le){return q+le.chunkDownloadDurationMS},0),segmentBytes:N.reduce(function(q,le){return q+le.chunkBytes},0),bitrate:Y&&Y.bandwidth,bitrateList:P.mediaInfo.bitrateList,chunkMeasurements:N,fetchDownloadDurationMS:T,throughputCapacityDelayMS:B,getEstimatedBufferLevel:R(N.slice(1))}),M[P.mediaType].length>10&&M[P.mediaType].shift()},getThroughputCapacityDelayMS:function O(P,T){var N=M[P.mediaType]&&M[P.mediaType].slice(-3);return!N||N.length<3||!V(N)?0:T/4>250?250:T/4},getEstimatedDownloadDurationMS:function k(P){var T=M[P.mediaType].slice(-1).pop(),N=M[P.mediaType].slice(-3),C=T.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;T.bufferLevelAtSegmentStart=T.getEstimatedBufferLevel(C/2),T.bufferLevelAtSegmentEnd=T.getEstimatedBufferLevel(C);var B=V(N),Y=B?.6:.8;if(T.isBufferStable&&1.05*T.segDurationMS<T.fetchDownloadDurationMS)return T.fetchDownloadDurationMS;if(!B||T.segDurationMS<T.fetchDownloadDurationMS||T.adjustedAvailabilityStartTimeMS<=T.requestTimeMS+T.throughputCapacityDelayMS-T.segDurationMS)return.8*T.fetchDownloadDurationMS;for(var q=T.requestTimeMS+T.throughputCapacityDelayMS-T.adjustedAvailabilityStartTimeMS,le=0,Fe=0,$=0,ae=0;ae<T.chunkMeasurements.length;ae++){var K=T.chunkMeasurements[ae];if(q<Fe+K.chunkDownloadDurationMS)break;Fe+=K.chunkDownloadDurationMS,le+=K.chunkBytes,$++}if(q<0&&y.warn("request time was before adjusted availibitly start time"),le&&Fe&&$>.2*T.chunkMeasurements.length){var oe=T.segmentBytes/(le/Fe);return T.fetchDownloadDurationMS<oe?T.fetchDownloadDurationMS*Y:oe*Y}var he=T.bitrate;return T.bitrateList.some(function(Ce){if(Ce.bandwidth>T.bitrate)return he=Ce.bandwidth,!0}),he===T.bitrate?T.fetchDownloadDurationMS*Y:Y*T.segmentBytes*8*1e3/he}},U(),g}w.__dashjs_factory_name="LowLatencyThroughputModel",S.default=b.default.getSingletonFactory(w)},"./src/streaming/models/ManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/ManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var p,F=this.context,L=Object(t.default)(F).getInstance();return{getValue:function f(){return p},setValue:function g(y){p=y,y&&L.trigger(b.default.MANIFEST_LOADED,{data:y})}}}E.__dashjs_factory_name="ManifestModel",S.default=w.default.getSingletonFactory(E)},"./src/streaming/models/MediaPlayerModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/MediaPlayerModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),y=-.5;function U(){var R,V,k,O,x=this.context,P=Object(w.default)(x).getInstance();function C(he,Ce){return isNaN(he)?0:he>0?(Ce&&V.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):he<y?(Ce&&V.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(y,": ").concat(-50,"% playback speed.")),y):he}function B(he,Ce){return isNaN(he)?0:he<0?(Ce&&V.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):he>1?(Ce&&V.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):he}function ae(){var he=P.get().streaming.buffer.stableBufferTime>0?P.get().streaming.buffer.stableBufferTime:P.get().streaming.buffer.fastSwitchEnabled?20:12,Ce=k.getLiveDelay();return!isNaN(Ce)&&Ce>0?Math.min(he,Ce):he}return R={getCatchupMaxDrift:function Y(){if(!isNaN(P.get().streaming.liveCatchup.maxDrift)&&P.get().streaming.liveCatchup.maxDrift>0)return P.get().streaming.liveCatchup.maxDrift;var he=O.getServiceDescriptionSettings();return he&&he.liveCatchup&&!isNaN(he.liveCatchup.maxDrift)&&he.liveCatchup.maxDrift>0?he.liveCatchup.maxDrift:12},getCatchupModeEnabled:function le(){return null!==P.get().streaming.liveCatchup.enabled?P.get().streaming.liveCatchup.enabled:k.getInitialCatchupModeActivated()},getStableBufferTime:ae,getInitialBufferLevel:function $(){var he=P.get().streaming.buffer.initialBufferLevel;return isNaN(he)||he<0?0:Math.min(ae(),he)},getRetryAttemptsForType:function K(he){var Ce=isNaN(P.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:P.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return k.getLowLatencyModeEnabled()?P.get().streaming.retryAttempts[he]*Ce:P.get().streaming.retryAttempts[he]},getRetryIntervalsForType:function ge(he){var Ce=isNaN(P.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:P.get().streaming.retryIntervals.lowLatencyReductionFactor;return k.getLowLatencyModeEnabled()?P.get().streaming.retryIntervals[he]/Ce:P.get().streaming.retryIntervals[he]},getCatchupPlaybackRates:function q(he){var Ce=P.get().streaming.liveCatchup.playbackRate;if(!isNaN(Ce.min)||!isNaN(Ce.max))return{min:C(Ce.min,he),max:B(Ce.max,he)};var Le=O.getServiceDescriptionSettings();if(Le&&Le.liveCatchup&&(!isNaN(Le.liveCatchup.playbackRate.min)||!isNaN(Le.liveCatchup.playbackRate.max))){var fe=Le.liveCatchup.playbackRate;return{min:C(fe.min,he),max:B(fe.max,he)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function Fe(he,Ce){try{var Le=P.get().streaming.abr[he][Ce];if(!isNaN(Le)&&-1!==Le)return Le;var fe=O.getServiceDescriptionSettings();return fe&&fe[he]&&!isNaN(fe[he][Ce])?fe[he][Ce]:-1}catch{return-1}},setConfig:function N(he){he.playbackController&&(k=he.playbackController),he.serviceDescriptionController&&(O=he.serviceDescriptionController)},reset:function oe(){}},function T(){V=Object(t.default)(x).getInstance().getLogger(R)}(),R}U.__dashjs_factory_name="MediaPlayerModel",S.default=b.default.getSingletonFactory(U)},"./src/streaming/models/MetricsModel.js":
/*!**********************************************!*\
                  !*** ./src/streaming/models/MetricsModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),w=c(
/*! ../vo/MetricsList */
"./src/streaming/vo/MetricsList.js"),E=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../vo/metrics/RepresentationSwitch */
"./src/streaming/vo/metrics/RepresentationSwitch.js"),L=c(
/*! ../vo/metrics/BufferLevel */
"./src/streaming/vo/metrics/BufferLevel.js"),D=c(
/*! ../vo/metrics/BufferState */
"./src/streaming/vo/metrics/BufferState.js"),p=c(
/*! ../vo/metrics/DVRInfo */
"./src/streaming/vo/metrics/DVRInfo.js"),f=c(
/*! ../vo/metrics/DroppedFrames */
"./src/streaming/vo/metrics/DroppedFrames.js"),g=c(
/*! ../vo/metrics/ManifestUpdate */
"./src/streaming/vo/metrics/ManifestUpdate.js"),y=c(
/*! ../vo/metrics/SchedulingInfo */
"./src/streaming/vo/metrics/SchedulingInfo.js"),M=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),U=c(
/*! ../vo/metrics/RequestsQueue */
"./src/streaming/vo/metrics/RequestsQueue.js"),R=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),V=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function k(O){var N,C,x=(O=O||{}).settings,P=this.context,T=Object(M.default)(P).getInstance();function Y(){T.trigger(R.default.METRICS_CHANGED)}function q(W){T.trigger(R.default.METRIC_CHANGED,{mediaType:W}),Y()}function le(W,se,_e){T.trigger(R.default.METRIC_UPDATED,{mediaType:W,metric:se,value:_e}),q(W)}function Fe(W,se,_e){T.trigger(R.default.METRIC_ADDED,{mediaType:W,metric:se,value:_e}),q(W)}function K(W,se){var _e=null;return W&&(C.hasOwnProperty(W)?_e=C[W]:se||(_e=new w.default,C[W]=_e)),_e}function ge(W,se,_e){var J=K(W);null!==J&&(J[se].push(_e),J[se].length>x.get().streaming.metrics.maxListDepth&&J[se].shift())}function Le(W,se,_e){ge(W,se,_e),Fe(W,se,_e)}return N={clearCurrentMetricsForType:function $(W){delete C[W],q(W)},clearAllCurrentMetrics:function ae(){C={},Y()},getMetricsFor:K,addHttpRequest:function he(W,se,_e,J,Q,Z,ne,ie,ee,X,ue,ve,de,xe,Ke,Ve){var lt=new E.HTTPRequest;Z&&Z!==J&&(he(W,null,_e,J,Q,null,null,ie,ee,null,null,null,de,null,null,Ve),lt.actualurl=Z),lt.tcpid=se,lt.type=_e,lt.url=J,lt.range=ie,lt.trequest=ee,lt.tresponse=X,lt.responsecode=ve,lt._tfinish=ue,lt._stream=W,lt._mediaduration=de,lt._quality=Q,lt._responseHeaders=xe,lt._serviceLocation=ne,lt._fileLoaderType=Ve,Ke?Ke.forEach(function(dt){!function oe(W,se,_e,J){var Q=new E.HTTPRequestTrace;return Q.s=se,Q.d=_e,Q.b=J,W.trace.push(Q),W.interval||(W.interval=0),W.interval+=_e,Q}(lt,dt.s,dt.d,dt.b)}):(delete lt.interval,delete lt.trace),Le(W,b.default.HTTP_REQUEST,lt)},addRepresentationSwitch:function Ce(W,se,_e,J,Q){var Z=new F.default;Z.t=se,Z.mt=_e,Z.to=J,Q?Z.lto=Q:delete Z.lto,Le(W,b.default.TRACK_SWITCH,Z)},addBufferLevel:function fe(W,se,_e){var J=new L.default;J.t=se,J.level=_e,Le(W,b.default.BUFFER_LEVEL,J)},addBufferState:function Re(W,se,_e){var J=new D.default;J.target=_e,J.state=se,Le(W,b.default.BUFFER_STATE,J)},addDVRInfo:function Ae(W,se,_e,J){var Q=new p.default;Q.time=se,Q.range=J,Q.manifestInfo=_e,Le(W,b.default.DVR_INFO,Q)},addDroppedFrames:function pe(W,se){var _e=new f.default,J=K(W).DroppedFrames;se&&(_e.time=se.creationTime,_e.droppedFrames=se.droppedVideoFrames,!(J.length>0&&J[J.length-1]==_e)&&Le(W,b.default.DROPPED_FRAMES,_e))},addSchedulingInfo:function Ue(W,se,_e,J,Q,Z,ne,ie,ee){var X=new y.default;X.mediaType=W,X.t=se,X.type=_e,X.startTime=J,X.availabilityStartTime=Q,X.duration=Z,X.quality=ne,X.range=ie,X.state=ee,Le(W,b.default.SCHEDULING_INFO,X)},addRequestsQueue:function ke(W,se,_e){var J=new U.default;J.loadingRequests=se,J.executedRequests=_e,K(W).RequestsQueue=J,Fe(W,b.default.REQUESTS_QUEUE,J)},addManifestUpdate:function we(W,se,_e,J,Q,Z,ne,ie,ee,X){var ue=new g.ManifestUpdate;ue.mediaType=W,ue.type=se,ue.requestTime=_e,ue.fetchTime=J,ue.availabilityStartTime=Q,ue.presentationStartTime=Z,ue.clientTimeOffset=ne,ue.currentTime=ie,ue.buffered=ee,ue.latency=X,ge(t.default.STREAM,b.default.MANIFEST_UPDATE,ue),Fe(W,b.default.MANIFEST_UPDATE,ue)},updateManifestUpdateInfo:function He(W,se){if(W){for(var _e in se)W[_e]=se[_e];le(W.mediaType,b.default.MANIFEST_UPDATE,W)}},addManifestUpdateStreamInfo:function at(W,se,_e,J,Q){if(W){var Z=new g.ManifestUpdateStreamInfo;Z.id=se,Z.index=_e,Z.start=J,Z.duration=Q,W.streamInfo.push(Z),le(W.mediaType,b.default.MANIFEST_UPDATE_STREAM_INFO,W)}},addManifestUpdateRepresentationInfo:function Je(W,se,_e,J,Q,Z,ne,ie){if(W&&W.representationInfo){var ee=new g.ManifestUpdateRepresentationInfo;ee.id=se,ee.index=_e,ee.streamIndex=J,ee.mediaType=Q,ee.startNumber=ne,ee.fragmentInfoType=ie,ee.presentationTimeOffset=Z,W.representationInfo.push(ee),le(W.mediaType,b.default.MANIFEST_UPDATE_TRACK_INFO,W)}},addPlayList:function Ne(W){W.trace&&Array.isArray(W.trace)?W.trace.forEach(function(se){se.hasOwnProperty("subreplevel")&&!se.subreplevel&&delete se.subreplevel}):delete W.trace,Le(t.default.STREAM,b.default.PLAY_LIST,W)},addDVBErrors:function Te(W){Le(t.default.STREAM,b.default.DVB_ERRORS,W)}},function B(){C={}}(),N}k.__dashjs_factory_name="MetricsModel",S.default=V.default.getSingletonFactory(k)},"./src/streaming/models/URIFragmentModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/URIFragmentModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/URIFragmentData */
"./src/streaming/vo/URIFragmentData.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(){var F;return{initialize:function L(p){if(F=new t.default,!p)return null;var f=p.indexOf("#");if(-1!==f)for(var g=p.substr(f+1).split("&"),y=0,M=g.length;y<M;++y){var U=g[y],R=U.indexOf("=");if(-1!==R){var V=U.substring(0,R);F.hasOwnProperty(V)&&(F[V]=U.substr(R+1))}}},getURIFragmentData:function D(){return F}}}w.__dashjs_factory_name="URIFragmentModel",S.default=b.default.getSingletonFactory(w)},"./src/streaming/models/VideoModel.js":
/*!********************************************!*\
                  !*** ./src/streaming/models/VideoModel.js ***!
                  \********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),F=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),L=new Map([[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function D(){var p,f,g,y,M,U,R,k=this.context,O=Object(b.default)(k).getInstance(),x=[];function C(){g&&(g.playbackRate=R||1,g.removeEventListener("canplay",C))}function Le(){return x.length>0}function pe(){if(g&&Le()&&0===g.playbackRate){var it=document.createEvent("Event");it.initEvent("waiting",!0,!1),g.dispatchEvent(it)}}function se(it,bt){g&&g.addEventListener(it,bt)}function _e(it,bt){g&&g.removeEventListener(it,bt)}function J(){return g?g.readyState:NaN}function Q(){return g?g.buffered:null}function de(it,bt,Ut,wt,Ht){if(g)for(var en=0;en<g.textTracks.length;en++)if(g.textTracks[en].kind===it&&(!bt||g.textTracks[en].label==bt)&&g.textTracks[en].language===Ut&&g.textTracks[en].isTTML===wt&&g.textTracks[en].isEmbedded===Ht)return g.textTracks[en];return null}function lt(it,bt){it===F.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||J()>=it?bt():function dt(it,bt){se(it,function wt(){_e(it,wt),bt(it)})}(L.get(it),bt)}return p={initialize:function T(){O.on(w.default.PLAYBACK_PLAYING,pe,this)},setCurrentTime:function Y(it,bt){y=it,lt(F.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(g){if(g.currentTime===y)return void(y=NaN);try{y=bt?function q(it){var bt=Q(),Ut=it,wt=9999999999;if(bt)for(var Ht=0;Ht<bt.length;Ht++){var en=bt.start(Ht),ln=bt.end(Ht),cn=Math.abs(en-it),Wt=Math.abs(ln-it);if(it>=en&&it<=ln)return it;cn<wt&&(wt=cn,Ut=en),Wt<wt&&(wt=Wt,Ut=ln)}return Ut}(y):y,g.currentTime=y,y=NaN}catch(Ut){0===g.readyState&&Ut.code===Ut.INVALID_STATE_ERR&&setTimeout(function(){g.currentTime=y,y=NaN},400)}}})},play:function ke(){if(g){g.autoplay=!0;var it=g.play();it&&it.catch&&typeof Promise<"u"&&it.catch(function(bt){"NotAllowedError"===bt.name&&O.trigger(w.default.PLAYBACK_NOT_ALLOWED),f.warn("Caught pending play exception - continuing (".concat(bt,")"))})}},isPaused:function we(){return g?g.paused:null},pause:function He(){g&&(g.pause(),g.autoplay=!1)},isStalled:Le,isSeeking:function at(){return g?g.seeking||!isNaN(y):null},getTime:function Je(){return g?isNaN(y)?g.currentTime:y:null},getPlaybackRate:function Ne(){return g?g.playbackRate:null},setPlaybackRate:function B(it){g&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&g.readyState<=2&&it>0?g.addEventListener("canplay",C):g.playbackRate=it)},getPlayedRanges:function Te(){return g?g.played:null},getEnded:function W(){return g?g.ended:null},setStallState:function Ce(it,bt){!function Ae(it,bt){bt?function fe(it){null===it||!g||g.seeking||-1!==x.indexOf(it)||x.push(it)}(it):function Re(it){var bt=x.indexOf(it);null!==it&&-1!==bt&&x.splice(bt,1)}(it)}(it,bt)},getElement:function le(){return g},setElement:function Fe(it){if(!(null==it||it&&/^(VIDEO|AUDIO)$/i.test(it.nodeName)))throw"element is not video or audio DOM type!";(g=it)&&(g.preload="auto")},setSource:function $(it){g&&(it?g.src=it:(g.removeAttribute("src"),g.load()))},getSource:function ae(){return g?g.src:null},getTTMLRenderingDiv:function K(){return M},setTTMLRenderingDiv:function oe(it){(M=it).style.position="absolute",M.style.display="flex",M.style.overflow="hidden",M.style.pointerEvents="none",M.style.top=0,M.style.left=0},getVttRenderingDiv:function ge(){return U},setVttRenderingDiv:function he(it){U=it},getPlaybackQuality:function Ue(){if(!g)return null;var it="webkitDroppedFrameCount"in g&&"webkitDecodedFrameCount"in g,Ut=null;return"getVideoPlaybackQuality"in g?Ut=g.getVideoPlaybackQuality():it&&(Ut={droppedVideoFrames:g.webkitDroppedFrameCount,totalVideoFrames:g.webkitDroppedFrameCount+g.webkitDecodedFrameCount,creationTime:new Date}),Ut},addEventListener:se,removeEventListener:_e,getReadyState:J,getBufferRange:Q,getClientWidth:function Z(){return g?g.clientWidth:NaN},getClientHeight:function ne(){return g?g.clientHeight:NaN},getTextTracks:function ve(){return g?g.textTracks:[]},getTextTrack:de,addTextTrack:function xe(it,bt,Ut,wt,Ht){if(!g)return null;var en=de(it,bt,Ut,wt,Ht);return en||((en=g.addTextTrack(it,bt,Ut)).isEmbedded=Ht,en.isTTML=wt),en},appendChild:function Ke(it){g&&(g.appendChild(it),void 0!==it.isTTML&&(g.textTracks[g.textTracks.length-1].isTTML=it.isTTML,g.textTracks[g.textTracks.length-1].isEmbedded=it.isEmbedded))},removeChild:function Ve(it){g&&g.removeChild(it)},getVideoWidth:function ie(){return g?g.videoWidth:NaN},getVideoHeight:function ee(){return g?g.videoHeight:NaN},getVideoRelativeOffsetTop:function X(){var it=g.parentNode.host||g.parentNode;return it?g.getBoundingClientRect().top-it.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function ue(){var it=g.parentNode.host||g.parentNode;return it?g.getBoundingClientRect().left-it.getBoundingClientRect().left:NaN},waitForReadyState:lt,reset:function N(){O.off(w.default.PLAYBACK_PLAYING,pe,this)}},function P(){f=Object(E.default)(k).getInstance().getLogger(p),y=NaN}(),p}D.__dashjs_factory_name="VideoModel",S.default=t.default.getSingletonFactory(D)},"./src/streaming/net/FetchLoader.js":
/*!******************************************!*\
                  !*** ./src/streaming/net/FetchLoader.js ***!
                  \******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),w=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function F(R,V){return function p(R){if(Array.isArray(R))return R}(R)||function D(R,V){var k=null==R?null:typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(null!=k){var O,x,P,T,N=[],C=!0,B=!1;try{if(P=(k=k.call(R)).next,0===V){if(Object(k)!==k)return;C=!1}else for(;!(C=(O=P.call(k)).done)&&(N.push(O.value),N.length!==V);C=!0);}catch(Y){B=!0,x=Y}finally{try{if(!C&&null!=k.return&&(T=k.return(),Object(T)!==T))return}finally{if(B)throw x}}return N}}(R,V)||g(R,V)||function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(R,V){if(R){if("string"==typeof R)return y(R,V);var k=Object.prototype.toString.call(R).slice(8,-1);if("Object"===k&&R.constructor&&(k=R.constructor.name),"Map"===k||"Set"===k)return Array.from(R);if("Arguments"===k||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return y(R,V)}}function y(R,V){(null==V||V>R.length)&&(V=R.length);for(var k=0,O=new Array(V);k<V;k++)O[k]=R[k];return O}function M(R){var N,V=this.context,k=(R=R||{}).requestModifier,O=R.lowLatencyThroughputModel,x=R.boxParser,P=Object(b.default)(V).getInstance();function Y(K){var fe,ge=new Date,oe=K.request,he=new Headers;if(oe.range&&he.append("Range","bytes="+oe.range),K.headers)for(var Ce in K.headers){var Le=K.headers[Ce];Le&&he.append(Ce,Le)}oe.requestStartDate||(oe.requestStartDate=ge),k&&k.modifyRequestHeader&&k.modifyRequestHeader({setRequestHeader:function(we,He){he.append(we,He)}},{url:K.url}),"function"==typeof window.AbortController&&(fe=new AbortController,K.abortController=fe,fe.signal.onabort=K.onabort);var Re={method:K.method,headers:he,credentials:K.withCredentials?"include":void 0,signal:fe?fe.signal:void 0},Ae=P.get().streaming.abr.fetchThroughputCalculationMode,pe=Date.now(),Ue=0;new Promise(function(ke){if(Ae===w.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O&&(Ue=O.getThroughputCapacityDelayMS(oe,1e3*N.getCurrentBufferLevel(oe.mediaType))))return setTimeout(ke,Ue);ke()}).then(function(){var ke=Date.now();fetch(K.url,Re).then(function(we){K.response||(K.response={}),K.response.status=we.status,K.response.statusText=we.statusText,K.response.responseURL=we.url,we.ok||K.onerror();var Je,He="",at=function f(R,V){var k=typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(!k){if(Array.isArray(R)||(k=g(R))||V&&R&&"number"==typeof R.length){k&&(R=k);var O=0,x=function(){};return{s:x,n:function(){return O>=R.length?{done:!0}:{done:!1,value:R[O++]}},e:function(B){throw B},f:x}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var N,P=!0,T=!1;return{s:function(){k=k.call(R)},n:function(){var B=k.next();return P=B.done,B},e:function(B){T=!0,N=B},f:function(){try{!P&&null!=k.return&&k.return()}finally{if(T)throw N}}}}(we.headers.keys());try{for(at.s();!(Je=at.n()).done;){var Ne=Je.value;He+=Ne+": "+we.headers.get(Ne)+"\r\n"}}catch(lt){at.e(lt)}finally{at.f()}if(K.response.responseHeaders=He,!we.body)return we.arrayBuffer().then(function(lt){K.response.response=lt,K.progress({loaded:lt.byteLength,total:lt.byteLength,stream:!1}),K.onload(),K.onend()});var it,bt,Te=parseInt(we.headers.get("Content-Length"),10),W=0,se=!1,_e=new Uint8Array,J=0;if(Ae===w.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O){var Z=ke,ne=0,ee=F(we.body.tee(),2),ue=ee[1];it=ee[0].getReader(),bt=[],it.read().then(function Ut(wt){var Ht=wt.value,en=wt.done;if(ne=Date.now(),Ht&&Ht.length){var ln=ne-Z,cn=Ht.length;bt.push({chunkDownloadTimeRelativeMS:ne-ke,chunkDownloadDurationMS:ln,chunkBytes:cn,kbps:Math.round(8*cn/(ln/1e3)),bufferLevel:N.getCurrentBufferLevel(oe.mediaType)})}if(en){var Wt=ne-ke,Sn=bt.reduce(function(nn,Dt){return nn+Dt.chunkBytes},0);return O.addMeasurement(oe,Wt,bt,pe,Ue,He),void K.progress({loaded:Sn,total:Sn,lengthComputable:!0,time:O.getEstimatedDownloadDurationMS(oe),stream:!0})}return Z=Date.now(),it.read().then(Ut)}),K.reader=ue.getReader()}else K.reader=we.body.getReader();var ve=[],de=[],xe=[],Ke=!0;q(K,function lt(dt){var it=dt.value;if(dt.done){if(_e){if(Ae!==w.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var Ut=null,wt=null;Ae===w.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(Ut=function ae(K,ge){try{var oe,he;oe=K.filter(function(ke,we){return we<K.length-1}),he=ge.filter(function(ke,we){return we<ge.length-1});var Ce=[];if(oe.length>1){for(var Le=0,fe=0,Re=0;Re<oe.length;Re++)if(oe[Re]&&he[Re]){var Ae=he[Re].ts-oe[Re].ts;if(Ae>1)Ce.push(8*he[Re].bytes/Ae);else{0===fe&&(fe=oe[Re].ts);var pe=he[Re].ts-fe;pe>1?(Ce.push(8*Le/pe),Le=0,fe=0):Le+=he[Re].bytes}}if(Ce.length>0)return Ce.reduce(function(ke,we){return ke+we},0)/Ce.length}return null}catch{return null}}(de,xe))&&(wt=8*W/Ut):Ae===w.default.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(wt=$(ve,W)),K.progress({loaded:W,total:isNaN(Te)?W:Te,lengthComputable:!0,time:wt,stream:!0})}K.response.response=_e.buffer}return K.onload(),void K.onend()}if(it&&it.length>0){_e=function le(K,ge){if(0===K.length)return ge;var oe=new Uint8Array(K.length+ge.length);return oe.set(K),oe.set(ge,K.length),oe}(_e,it),W+=it.length,ve.push({ts:Date.now(),bytes:it.length}),Ae===w.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&Ke&&x.findLastTopIsoBoxCompleted(["moof"],_e,J).found&&(Ke=!1,de.push({ts:performance.now(),bytes:it.length}));var en=x.findLastTopIsoBoxCompleted(["moov","mdat"],_e,J);if(en.found){var cn,ln=en.lastCompletedOffset+en.size;Ae===w.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&!Ke&&(Ke=!0,xe.push({ts:performance.now(),bytes:_e.length})),ln===_e.length?(cn=_e,_e=new Uint8Array):(cn=new Uint8Array(_e.subarray(0,ln)),_e=_e.subarray(ln)),K.progress({data:cn.buffer,lengthComputable:!1,noTrace:!0}),J=0}else J=en.lastCompletedOffset,se||(K.progress({lengthComputable:!1,noTrace:!0}),se=!0)}q(K,lt)})}).catch(function(we){K.onerror&&K.onerror(we)})})}function q(K,ge){K.reader.read().then(ge).catch(function(oe){K.onerror&&200===K.response.status&&K.onerror(oe)})}function $(K,ge){try{if((K=K.filter(function(Ce){return Ce.bytes>ge/4/K.length})).length>1){var oe=0,he=(K[K.length-1].ts-K[0].ts)/K.length;return K.forEach(function(Ce,Le){var fe=K[Le+1];if(fe){var Re=fe.ts-Ce.ts;oe+=Re<he?Re:0}}),oe}return null}catch{return null}}return{load:function B(K){k&&k.modifyRequest?Object(E.modifyRequest)(K,k).then(function(){return Y(K)}):Y(K)},abort:function Fe(K){if(K.abortController)K.abortController.abort();else if(K.reader)try{K.reader.cancel(),K.onabort()}catch{}},calculateDownloadedTime:$,setup:function C(K){N=K.dashMetrics}}}M.__dashjs_factory_name="FetchLoader";var U=t.default.getClassFactory(M);S.default=U},"./src/streaming/net/HTTPLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/net/HTTPLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./XHRLoader */
"./src/streaming/net/XHRLoader.js"),b=c(
/*! ./FetchLoader */
"./src/streaming/net/FetchLoader.js"),w=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),E=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),L=c(
/*! ../models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),D=c(
/*! ../../core/Utils */
"./src/core/Utils.js"),p=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),f=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),g=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),y=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),M=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),U=c(
/*! ../models/LowLatencyThroughputModel */
"./src/streaming/models/LowLatencyThroughputModel.js"),R=c(
/*! ../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function V(N){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(N)}function k(N,C,B){return(C=function O(N){var C=function x(N,C){if("object"!==V(N)||null===N)return N;var B=N[Symbol.toPrimitive];if(void 0!==B){var Y=B.call(N,C||"default");if("object"!==V(Y))return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===C?String:Number)(N)}(N,"string");return"symbol"===V(C)?C:String(C)}(C))in N?Object.defineProperty(N,C,{value:B,enumerable:!0,configurable:!0,writable:!0}):N[C]=B,N}function P(N){var oe,he,Ce,Le,fe,Re,Ae,pe,Ue,C=this.context,B=(N=N||{}).errHandler,Y=N.dashMetrics,q=N.mediaPlayerModel,le=N.requestModifier,Fe=N.boxParser,$=N.errors,ae=N.requestTimeout||0,K=Object(f.default)(C).getInstance(),ge=Object(y.default)(C).getInstance();function we(Ne,Te){var ee,W=Ne.request,se=[],_e=!0,J=!0,Q=new Date,Z=Q,ne=0,ie=null;if(!le||!Y||!B)throw new Error("config object is not correct or missing");var Ve,X=function(cn){if(J=!1,W.requestStartDate=Q,W.requestEndDate=new Date,W.firstByteDate=W.firstByteDate||Q,W.fileLoaderType=ie,!W.checkExistenceOnly){var Wt=ee.response?ee.response.responseURL:null,Sn=ee.response?ee.response.status:null,nn=ee.response&&ee.response.getAllResponseHeaders?ee.response.getAllResponseHeaders():ee.response?ee.response.responseHeaders:[];Y.addHttpRequest(W,Wt,Sn,nn,cn?se:null),W.type===w.HTTPRequest.MPD_TYPE&&Y.addManifestUpdate(W)}},ue=function(){if(-1!==he.indexOf(ee)&&(he.splice(he.indexOf(ee),1),J))if(X(!1),Te>0){try{ge.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&W.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE&&q.getRetryAttemptsForType(w.HTTPRequest.MEDIA_SEGMENT_TYPE)===Te&&K.trigger(g.default.ATTEMPT_BACKGROUND_SYNC)}catch{}Te--;var Wt={config:Ne};Le.push(Wt),Wt.timeout=setTimeout(function(){-1!==Le.indexOf(Wt)&&(Le.splice(Le.indexOf(Wt),1),we(Ne,Te))},q.getRetryIntervalsForType(W.type))}else{if(W.type===w.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;B.error(new F.default(fe[W.type],W.url+" is not available",{request:W,response:ee.response})),Ne.error&&Ne.error(W,"error",ee.response.statusText),Ne.complete&&Ne.complete(W,ee.response.statusText)}};W.hasOwnProperty("availabilityTimeComplete")&&!1===W.availabilityTimeComplete&&window.fetch&&"arraybuffer"===W.responseType&&W.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE?((Ve=Object(b.default)(C).create({requestModifier:le,lowLatencyThroughputModel:pe,boxParser:Fe})).setup({dashMetrics:Y}),ie=M.default.FILE_LOADER_TYPES.FETCH):(Ve=Object(t.default)(C).create({requestModifier:le}),ie=M.default.FILE_LOADER_TYPES.XHR);var lt=null,dt=le.modifyRequestURL?le.modifyRequestURL(W.url):W.url;if(ge.get().streaming.cmcd&&ge.get().streaming.cmcd.enabled){var it=ge.get().streaming.cmcd.mode;if(it===M.default.CMCD_MODE_QUERY){var bt=function He(Ne){try{var Te=[],W=Re.getQueryParameter(Ne);return W&&Te.push(W),Te}catch{return[]}}(W);dt=D.default.addAditionalQueryParameterToUrl(dt,bt)}else it===M.default.CMCD_MODE_HEADER&&(lt=Re.getHeaderParameters(W))}W.url=dt;var Ut=W.checkExistenceOnly?w.HTTPRequest.HEAD:w.HTTPRequest.GET,wt=Ae.getXHRWithCredentialsForType(W.type);ee={url:dt,method:Ut,withCredentials:wt,request:W,onload:function(){ee.response.status>=200&&ee.response.status<=299&&(X(!0),Ne.success&&Ne.success(ee.response.response,ee.response.statusText,ee.response.responseURL),Ne.complete&&Ne.complete(W,ee.response.statusText))},onend:ue,onerror:ue,progress:function(cn){var Wt=new Date;_e&&(_e=!1,(!cn.lengthComputable||cn.lengthComputable&&cn.total!==cn.loaded)&&(W.firstByteDate=Wt)),cn.lengthComputable&&(W.bytesLoaded=cn.loaded,W.bytesTotal=cn.total),cn.noTrace||(se.push({s:Z,d:cn.time?cn.time:Wt.getTime()-Z.getTime(),b:[cn.loaded?cn.loaded-ne:0]}),Z=Wt,ne=cn.loaded),Ne.progress&&cn&&Ne.progress(cn)},onabort:function(){Ne.abort&&Ne.abort(W)},ontimeout:function(cn){var Wt;Wt=cn.lengthComputable?"Request timeout: loaded: "+cn.loaded+", out of: "+cn.total+" : "+(cn.loaded/cn.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",Ue.warn(Wt)},loader:Ve,timeout:ae,headers:lt};var Ht=(new Date).getTime();if(isNaN(W.delayLoadingTime)||Ht>=W.delayLoadingTime)he.push(ee),Ve.load(ee);else{var en={httpRequest:ee};Ce.push(en),en.delayTimeout=setTimeout(function(){if(-1!==Ce.indexOf(en)){Ce.splice(Ce.indexOf(en),1);try{Z=Q=new Date,he.push(en.httpRequest),Ve.load(en.httpRequest)}catch{en.httpRequest.onerror()}}},W.delayLoadingTime-Ht)}}return oe={load:function at(Ne){Ne.request?we(Ne,q.getRetryAttemptsForType(Ne.request.type)):Ne.error&&Ne.error(Ne.request,"error")},abort:function Je(){Le.forEach(function(Ne){clearTimeout(Ne.timeout),Ne.config.request&&Ne.config.abort&&Ne.config.abort(Ne.config.request)}),Le=[],Ce.forEach(function(Ne){return clearTimeout(Ne.delayTimeout)}),Ce=[],he.forEach(function(Ne){Ne.request.type!==w.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(Ne.onloadend=Ne.onerror=Ne.onprogress=void 0,Ne.loader.abort(Ne))}),he=[]}},function ke(){var Ne;Ue=Object(p.default)(C).getInstance().getLogger(oe),he=[],Ce=[],Le=[],Re=Object(L.default)(C).getInstance(),pe=Object(U.default)(C).getInstance(),Ae=Object(R.default)(C).getInstance(),k(Ne={},w.HTTPRequest.MPD_TYPE,$.DOWNLOAD_ERROR_ID_MANIFEST_CODE),k(Ne,w.HTTPRequest.XLINK_EXPANSION_TYPE,$.DOWNLOAD_ERROR_ID_XLINK_CODE),k(Ne,w.HTTPRequest.INIT_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),k(Ne,w.HTTPRequest.MEDIA_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ne,w.HTTPRequest.INDEX_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ne,w.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ne,w.HTTPRequest.OTHER_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),fe=Ne}(),oe}P.__dashjs_factory_name="HTTPLoader";var T=E.default.getClassFactory(P);S.default=T},"./src/streaming/net/SchemeLoaderFactory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/net/SchemeLoaderFactory.js ***!
                  \**************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../streaming/net/HTTPLoader */
"./src/streaming/net/HTTPLoader.js");function w(){var L;function f(){L={}}function y(){f()}return function M(){y()}(),{getLoader:function g(U){for(var R in L)if(L.hasOwnProperty(R)&&U.startsWith(R))return L[R];return b.default},registerLoader:function D(U,R){L[U]=R},unregisterLoader:function p(U){L[U]&&delete L[U]},unregisterAllLoader:f,reset:y}}w.__dashjs_factory_name="SchemeLoaderFactory";var E=t.default.getSingletonFactory(w);S.default=E},"./src/streaming/net/URLLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/URLLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../streaming/net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js");function w(F){F=F||{};var p,f,L=this.context;return p=Object(b.default)(L).getInstance(),{load:function g(M){if(!f){var U=p.getLoader(M&&M.request?M.request.url:null);f=U(L).create({errHandler:F.errHandler,mediaPlayerModel:F.mediaPlayerModel,requestModifier:F.requestModifier,dashMetrics:F.dashMetrics,boxParser:F.boxParser?F.boxParser:null,constants:F.constants?F.constants:null,dashConstants:F.dashConstants?F.dashConstants:null,urlUtils:F.urlUtils?F.urlUtils:null,requestTimeout:isNaN(F.requestTimeout)?0:F.requestTimeout,errors:F.errors})}f.load(M)},abort:function y(){f&&f.abort()}}}w.__dashjs_factory_name="URLLoader";var E=t.default.getClassFactory(w);S.default=E},"./src/streaming/net/XHRLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/XHRLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function w(F){var L=(F=F||{}).requestModifier;function f(y){var M=new Date,U=y.request,R=new XMLHttpRequest;if(R.open(y.method,y.url,!0),U.responseType&&(R.responseType=U.responseType),U.range&&R.setRequestHeader("Range","bytes="+U.range),U.requestStartDate||(U.requestStartDate=M),L&&L.modifyRequestHeader&&(R=L.modifyRequestHeader(R,{url:y.url})),y.headers)for(var V in y.headers){var k=y.headers[V];k&&R.setRequestHeader(V,k)}R.withCredentials=y.withCredentials,R.onload=y.onload,R.onloadend=y.onend,R.onerror=y.onerror,R.onprogress=y.progress,R.onabort=y.onabort,R.ontimeout=y.ontimeout,R.timeout=y.timeout,R.send(),y.response=R}return{load:function p(y){L&&L.modifyRequest?Object(b.modifyRequest)(y,L).then(function(){return f(y)}):f(y)},abort:function g(y){var M=y.response;M.onloadend=M.onerror=M.onprogress=void 0,M.abort()}}}w.__dashjs_factory_name="XHRLoader";var E=t.default.getClassFactory(w);S.default=E},"./src/streaming/protection/CommonEncryption.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/CommonEncryption.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,F(M.key),M)}}function F(f){var g=function L(f,g){if("object"!==t(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==t(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}c.r(S);var D={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};S.default=function(){function f(){!function b(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f)}return function E(f,g,y){return g&&w(f.prototype,g),y&&w(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,null,[{key:"findCencContentProtection",value:function(y){for(var M=null,U=0;U<y.length;++U){var R=y[U];"urn:mpeg:dash:mp4protection:2011"===R.schemeIdUri.toLowerCase()&&("cenc"===R.value.toLowerCase()||"cbcs"===R.value.toLowerCase())&&(M=R)}return M}},{key:"getPSSHData",value:function(y){var M=8,U=new DataView(y),R=U.getUint8(M);return M+=20,R>0&&(M+=4+16*U.getUint32(M)),y.slice(M+=4)}},{key:"getPSSHForKeySystem",value:function(y,M){var U=f.parsePSSHList(M);return y&&U.hasOwnProperty(y.uuid.toLowerCase())?U[y.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(y,M){return"pssh"in y?(y.pssh.__text=y.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),M.decodeArray(y.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(y){if(null==y)return[];for(var M=new DataView(y.buffer||y),R={},V=0;;){var O,x=void 0,P=void 0,T=V;if(V>=M.buffer.byteLength)break;if(O=V+M.getUint32(V),1886614376===M.getUint32(V+=4))if(0===(x=M.getUint8(V+=4))||1===x){V++,V+=3,P="";var N=void 0,C=void 0;for(N=0;N<4;N++)P+=1===(C=M.getUint8(V+N).toString(16)).length?"0"+C:C;for(V+=4,P+="-",N=0;N<2;N++)P+=1===(C=M.getUint8(V+N).toString(16)).length?"0"+C:C;for(V+=2,P+="-",N=0;N<2;N++)P+=1===(C=M.getUint8(V+N).toString(16)).length?"0"+C:C;for(V+=2,P+="-",N=0;N<2;N++)P+=1===(C=M.getUint8(V+N).toString(16)).length?"0"+C:C;for(V+=2,P+="-",N=0;N<6;N++)P+=1===(C=M.getUint8(V+N).toString(16)).length?"0"+C:C;V+=6,V+=4,R[P=P.toLowerCase()]=M.buffer.slice(T,O),V=O}else V=O;else V=O}return R}},{key:"getLicenseServerUrlFromMediaInfo",value:function(y,M){try{if(!y||0===y.length)return null;for(var U=0,R=null;U<y.length&&!R;){var V=y[U];if(V&&V.contentProtection&&V.contentProtection.length>0){var k=V.contentProtection.filter(function(B){return B.schemeIdUri&&B.schemeIdUri===M});if(k&&k.length>0)for(var O=0;O<k.length&&!R;){for(var x=k[O],P=0;P<D.attributes.length&&!R;){for(var T=0,N=D.attributes[P];T<D.prefixes.length&&!R;)x[N]&&x[N].__prefix&&x[N].__prefix===D.prefixes[T]&&x[N].__text&&(R=x[N].__text),T+=1;P+=1}O+=1}}U+=1}return R}catch{return null}}}]),f}()},"./src/streaming/protection/Protection.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/Protection.js ***!
                  \************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./controllers/ProtectionController */
"./src/streaming/protection/controllers/ProtectionController.js"),b=c(
/*! ./controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),w=c(
/*! ./ProtectionEvents */
"./src/streaming/protection/ProtectionEvents.js"),E=c(
/*! ./errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ./models/ProtectionModel_21Jan2015 */
"./src/streaming/protection/models/ProtectionModel_21Jan2015.js"),L=c(
/*! ./models/ProtectionModel_3Feb2014 */
"./src/streaming/protection/models/ProtectionModel_3Feb2014.js"),D=c(
/*! ./models/ProtectionModel_01b */
"./src/streaming/protection/models/ProtectionModel_01b.js"),p=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],f=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function g(){var M,U=this.context;function k(O,x){for(var P=0;P<x.length;P++){var T=x[P];if("function"==typeof O[T[Object.keys(T)[0]]])return T}return null}return M={createProtectionSystem:function R(O){var x=null,P=Object(b.default)(U).getInstance();P.setConfig({debug:O.debug,BASE64:O.BASE64,settings:O.settings}),P.initialize();var T=function V(O){var x=O.debug,P=x.getLogger(M),T=O.eventBus,N=O.errHandler,C=O.videoModel?O.videoModel.getElement():null;return C&&void 0===C.onencrypted||C&&void 0===C.mediaKeys?k(C,f)?(P.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Object(L.default)(U).create({debug:x,eventBus:T,events:O.events,api:k(C,f)})):k(C,p)?(P.info("EME detected on this user agent! (ProtectionModel_01b)"),Object(D.default)(U).create({debug:x,eventBus:T,errHandler:N,events:O.events,api:k(C,p)})):(P.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(P.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Object(F.default)(U).create({debug:x,eventBus:T,events:O.events}))}(O);return!x&&T&&(x=Object(t.default)(U).create({protectionModel:T,protectionKeyController:P,eventBus:O.eventBus,debug:O.debug,events:O.events,BASE64:O.BASE64,constants:O.constants,cmcdModel:O.cmcdModel,customParametersModel:O.customParametersModel,settings:O.settings}),O.capabilities.setEncryptedMediaSupported(!0)),x}}}g.__dashjs_factory_name="Protection";var y=dashjs.FactoryMaker.getClassFactory(g);y.events=w.default,y.errors=E.default,dashjs.FactoryMaker.updateClassFactory(g.__dashjs_factory_name,y),S.default=y},"./src/streaming/protection/ProtectionEvents.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/ProtectionEvents.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function w(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var x=function L(O,x){if("object"!==b(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===b(x)?x:String(x)}function p(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&f(O,x)}function f(O,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function g(O){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(x){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function y(O,x){if(x&&("object"===b(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function M(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}c.r(S);var k=new(function(O){p(P,O);var x=g(P);function P(){var T;return function D(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P),(T=x.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",T.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",T.KEY_ADDED="public_keyAdded",T.KEY_ERROR="public_keyError",T.KEY_MESSAGE="public_keyMessage",T.KEY_SESSION_CLOSED="public_keySessionClosed",T.KEY_SESSION_CREATED="public_keySessionCreated",T.KEY_SESSION_REMOVED="public_keySessionRemoved",T.KEY_STATUSES_CHANGED="public_keyStatusesChanged",T.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",T.KEY_SYSTEM_SELECTED="public_keySystemSelected",T.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",T.LICENSE_REQUEST_SENDING="public_licenseRequestSending",T.NEED_KEY="needkey",T.PROTECTION_CREATED="public_protectioncreated",T.PROTECTION_DESTROYED="public_protectiondestroyed",T.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",T.TEARDOWN_COMPLETE="protectionTeardownComplete",T.VIDEO_ELEMENT_SELECTED="videoElementSelected",T.KEY_SESSION_UPDATED="public_keySessionUpdated",T}return function E(O,x,P){return x&&w(O.prototype,x),P&&w(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(c(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));S.default=k},"./src/streaming/protection/controllers/ProtectionController.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionController.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=c(
/*! ../vo/MediaCapability */
"./src/streaming/protection/vo/MediaCapability.js"),w=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),E=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),L=c(
/*! ../vo/LicenseRequest */
"./src/streaming/protection/vo/LicenseRequest.js"),D=c(
/*! ../vo/LicenseResponse */
"./src/streaming/protection/vo/LicenseResponse.js"),p=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),f=c(
/*! ../../../core/Utils */
"./src/core/Utils.js"),g=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function M(P){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(P)}function x(P){var ge,oe,he,Ce,Le,fe,Re,Ae,pe,Ue,ke,T=(P=P||{}).protectionKeyController,N=P.protectionModel,C=P.eventBus,B=P.events,Y=P.debug,q=P.BASE64,le=P.constants,Fe=[],$=P.cmcdModel,ae=P.settings,K=P.customParametersModel;function He(){if(!(C&&C.hasOwnProperty("on")&&T&&T.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function Te(Pe,Ye){Ae||pe?Ae&&se():function W(Pe,Ye){if(!pe){pe=!0;var ut,Ze=[];Pe=Pe.sort(function(kt,$t){return(Le&&Le[kt.ks.systemString]&&Le[kt.ks.systemString].priority>=0?Le[kt.ks.systemString].priority:Pe.length)-(Le&&Le[$t.ks.systemString]&&Le[$t.ks.systemString].priority>=0?Le[$t.ks.systemString].priority:Pe.length)});for(var ct=0;ct<Pe.length;ct++){var st=bt(Pe[ct]);Ze.push({ks:Pe[ct].ks,configs:[st],protData:Pe[ct].protData})}N.requestKeySystemAccess(Ze).then(function(kt){return oe.info("DRM: KeySystem Access Granted for system string ("+((ut=kt.data).mksa&&ut.mksa.selectedSystemString?ut.mksa.selectedSystemString:ut.keySystem.systemString)+")!  Selecting key system..."),N.selectKeySystem(ut)}).then(function(kt){if(Ae=kt,pe=!1,N){C.trigger(B.KEY_SYSTEM_SELECTED,{data:ut});var $t=Z(Ae);$t&&$t.serverCertificate&&$t.serverCertificate.length>0&&N.setServerCertificate(q.decodeArray($t.serverCertificate).buffer),se()}}).catch(function(kt){Ae=null,pe=!1,Ye||C.trigger(B.KEY_SYSTEM_SELECTED,{data:null,error:new F.default(E.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,E.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+kt.error)})})}}(Pe,Ye)}function se(){for(var Pe,Ye=0;Ye<he.length;Ye++)for(Pe=0;Pe<he[Ye].length;Pe++)if(Ae===he[Ye][Pe].ks){_e(he[Ye][Pe]);break}he=[]}function _e(Pe){if(T.isClearKey(Ae)&&Pe.protData&&Pe.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(Pe.protData.clearkeys).length){var Ye={kids:Object.keys(Pe.protData.clearkeys)};Pe.initData=(new TextEncoder).encode(JSON.stringify(Ye))}Pe.sessionId?J(Pe):null!==Pe.initData&&Q(Pe)}function J(Pe){He(),N.loadKeySession(Pe)}function Q(Pe){var Ye=t.default.getPSSHForKeySystem(Ae,Pe?Pe.initData:null);if(Ye){if(function ee(Pe){if(!Pe)return!1;try{for(var Ye=N.getSessions(),Ze=0;Ze<Ye.length;Ze++)if(Ye[Ze].getKeyId()===Pe)return!0;return!1}catch{return!1}}(Pe.keyId)||X(Ye))return;try{Pe.initData=Ye,N.createKeySession(Pe)}catch(Ze){C.trigger(B.KEY_SESSION_CREATED,{data:null,error:new F.default(E.default.KEY_SESSION_CREATED_ERROR_CODE,E.default.KEY_SESSION_CREATED_ERROR_MESSAGE+Ze.message)})}}else Pe&&Pe.initData?N.createKeySession(Pe):C.trigger(B.KEY_SESSION_CREATED,{data:null,error:new F.default(E.default.KEY_SESSION_CREATED_ERROR_CODE,E.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(Ae?Ae.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function Z(Pe){if(Pe){var Ye=Pe.systemString;if(Le)return Ye in Le?Le[Ye]:null}return null}function X(Pe){if(!Pe)return!1;try{for(var Ye=N.getAllInitData(),Ze=0;Ze<Ye.length;Ze++)if(T.initDataEquals(Pe,Ye[Ze]))return oe.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function xe(Pe){He(),Pe?(N.setMediaElement(Pe),C.on(B.NEED_KEY,mt,ge)):null===Pe&&(N.setMediaElement(Pe),C.off(B.NEED_KEY,mt,ge))}function bt(Pe){var Ye=Pe.protData,Ze=[],ct=[],st=Ye&&Ye.audioRobustness&&Ye.audioRobustness.length>0?Ye.audioRobustness:Re,ut=Ye&&Ye.videoRobustness&&Ye.videoRobustness.length>0?Ye.videoRobustness:Re,kt=Pe.sessionType,$t=Ye&&Ye.distinctiveIdentifier?Ye.distinctiveIdentifier:"optional",Lt=Ye&&Ye.persistentState?Ye.persistentState:"temporary"===kt?"optional":"required";return Ce.forEach(function(Jt){Jt.type===le.AUDIO?Ze.push(new b.default(Jt.codec,st)):Jt.type===le.VIDEO&&ct.push(new b.default(Jt.codec,ut))}),new w.default(Ze,ct,$t,Lt,[kt])}function Ut(Pe){Pe.error?C.trigger(B.KEY_STATUSES_CHANGED,{data:null,error:Pe.error}):oe.debug("DRM: key status = "+Pe.status)}function wt(Pe){oe.debug("DRM: onKeyMessage");var Ye=Pe.data;C.trigger(B.KEY_MESSAGE,{data:Ye});var Ze=Ye.messageType?Ye.messageType:"license-request",ct=Ye.message,st=Ye.sessionToken,ut=Z(Ae),kt=T.getLicenseServerModelInstance(Ae,ut,Ze),$t={sessionToken:st,messageType:Ze};if(ct&&0!==ct.byteLength){if(!kt)return oe.debug("DRM: License server request not required for this message (type = "+Pe.data.messageType+").  Session ID = "+st.getSessionId()),void Ht($t);if(T.isClearKey(Ae)){var Lt=T.processClearKeyLicenseRequest(Ae,ut,ct);if(Lt&&Lt.keyPairs&&Lt.keyPairs.length>0)return oe.debug("DRM: ClearKey license request handled by application!"),Ht($t),void N.updateKeySession(st,Lt)}!function en(Pe,Ye,Ze){var ct=Pe.sessionToken,st=Pe.messageType?Pe.messageType:"license-request",ut={sessionToken:ct,messageType:st},kt=Ae?Ae.systemString:null,$t=function Wt(Pe,Ye,Ze,ct,st){var ut=null,kt=ct.message;if(Pe&&Pe.serverURL){var $t=Pe.serverURL;"string"==typeof $t&&""!==$t?ut=$t:"object"===M($t)&&$t.hasOwnProperty(Ye)&&(ut=$t[Ye])}else if(Pe&&Pe.laURL&&""!==Pe.laURL)ut=Pe.laURL;else if(!(ut=t.default.getLicenseServerUrlFromMediaInfo(Ce,Ae.schemeIdURI))&&!T.isClearKey(Ae)){var Lt=t.default.getPSSHData(Ze.initData);(ut=Ae.getLicenseServerURLFromInitData(Lt))||(ut=ct.laURL)}return st.getServerURLFromMessage(ut,kt,Ye)}(Ze,st,ct,Pe,Ye);if($t){var Lt={},Jt=!1;Ze&&Sn(Lt,Ze.httpRequestHeaders);var an=Pe.message;Sn(Lt,Ae.getRequestHeadersFromMessage(an)),Object.keys(Lt).forEach(function(Xe){"authorization"===Xe.toLowerCase()&&(Jt=!0)}),Ze&&"boolean"==typeof Ze.withCredentials&&(Jt=Ze.withCredentials);var Mn=function(Pt){if(N)if(Pt.status>=200&&Pt.status<=299){var Qt=f.default.parseHttpHeaders(Pt.getAllResponseHeaders?Pt.getAllResponseHeaders():null),wn=new D.default(Pt.responseURL,Qt,Pt.response);Dt(K.getLicenseResponseFilters(),wn).then(function(){var Gt=Ye.getLicenseMessage(wn.data,kt,st);null!==Gt?(Ht(ut),N.updateKeySession(ct,Gt)):nn(Pt,ut,kt,st,Ye)})}else nn(Pt,ut,kt,st,Ye)},Nn=function(Pt){Ht(ut,new F.default(E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+kt+' update, XHR aborted. status is "'+Pt.statusText+'" ('+Pt.status+"), readyState is "+Pt.readyState))},Wn=function(Pt){Ht(ut,new F.default(E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+kt+' update, XHR error. status is "'+Pt.statusText+'" ('+Pt.status+"), readyState is "+Pt.readyState))},Gn=Ae.getLicenseRequestFromMessage(an),fi=Ye.getHTTPMethod(st),_n=Ye.getResponseType(kt,st),pn=Ze&&!isNaN(Ze.httpTimeout)?Ze.httpTimeout:8e3,St=ct.getSessionId()||null,ft=new L.default($t,fi,_n,Lt,Jt,st,St,Gn),tn=isNaN(ae.get().streaming.retryAttempts[p.HTTPRequest.LICENSE])?3:ae.get().streaming.retryAttempts[p.HTTPRequest.LICENSE];Dt(K.getLicenseRequestFilters(),ft).then(function(){ln(ft,tn,pn,Mn,Nn,Wn)})}else Ht(ut,new F.default(E.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(Ye,kt,ut)}else Ht($t,new F.default(E.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function Ht(Pe,Ye){C.trigger(B.LICENSE_REQUEST_COMPLETE,{data:Pe,error:Ye})}function ln(Pe,Ye,Ze,ct,st,ut){var kt=new XMLHttpRequest;if(ae.get().streaming.cmcd&&ae.get().streaming.cmcd.enabled&&ae.get().streaming.cmcd.mode===g.default.CMCD_MODE_QUERY){var Lt=$.getQueryParameter({url:Pe.url,type:p.HTTPRequest.LICENSE});Lt&&(Pe.url=f.default.addAditionalQueryParameterToUrl(Pe.url,[Lt]))}for(var Jt in kt.open(Pe.method,Pe.url,!0),kt.responseType=Pe.responseType,kt.withCredentials=Pe.withCredentials,Ze>0&&(kt.timeout=Ze),Pe.headers)kt.setRequestHeader(Jt,Pe.headers[Jt]);if(ae.get().streaming.cmcd&&ae.get().streaming.cmcd.enabled&&ae.get().streaming.cmcd.mode===g.default.CMCD_MODE_HEADER){var fn=$.getHeaderParameters({url:Pe.url,type:p.HTTPRequest.LICENSE});if(fn)for(var Mn in fn){var Nn=fn[Mn];Nn&&kt.setRequestHeader(Mn,Nn)}}var Wn=function(){Ye--;var fi=isNaN(ae.get().streaming.retryIntervals[p.HTTPRequest.LICENSE])?1e3:ae.get().streaming.retryIntervals[p.HTTPRequest.LICENSE];ke=setTimeout(function(){ln(Pe,Ye,Ze,ct,st,ut)},fi)};kt.onload=function(){Ue=null,this.status>=200&&this.status<=299||Ye<=0?ct(this):(oe.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+Ye),Wn())},kt.ontimeout=kt.onerror=function(){Ue=null,Ye<=0?ut(this):(oe.warn("License request network request failed . Retrying it... Pending retries: "+Ye),Wn())},kt.onabort=function(){st(this)},C.trigger(B.LICENSE_REQUEST_SENDING,{url:Pe.url,headers:Pe.headers,payload:Pe.data,sessionId:Pe.sessionId}),Ue=kt,kt.send(Pe.data)}function cn(){Ue&&(Ue.onloadend=Ue.onerror=Ue.onprogress=void 0,Ue.abort(),Ue=null),ke&&(clearTimeout(ke),ke=null)}function Sn(Pe,Ye){if(Ye)for(var Ze in Ye)Pe[Ze]=Ye[Ze]}function nn(Pe,Ye,Ze,ct,st){var ut="NONE",kt=null;Pe.response&&(ut=st.getErrorResponse(Pe.response,Ze,ct),kt={serverResponse:Pe.response||null,responseCode:Pe.status||null,responseText:Pe.statusText||null}),Ht(Ye,new F.default(E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,E.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Ze+' update, XHR complete. status is "'+Pe.statusText+'" ('+Pe.status+"), readyState is "+Pe.readyState+".  Response is "+ut,kt))}function Dt(Pe,Ye){return Pe?Pe.reduce(function(Ze,ct){return Ze.then(function(){return ct(Ye)})},Promise.resolve()):Promise.resolve()}function mt(Pe,Ye){if(!ae.get().streaming.protection.ignoreEmeEncryptedEvent){if(oe.debug("DRM: onNeedKey"),"cenc"!==Pe.key.initDataType)return void oe.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Pe.key.initDataType);if(0===Ce.length&&(oe.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(Ye=typeof Ye>"u"?1:Ye+1)<5))return void Fe.push(setTimeout(function(){mt(Pe,Ye)},500));var Ze=Pe.key.initData;if(ArrayBuffer.isView(Ze)&&(Ze=Ze.buffer),Ae){var ct=t.default.getPSSHForKeySystem(Ae,Ze);if(ct&&X(ct))return}oe.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(Ze)));var st=T.getSupportedKeySystemsFromSegmentPssh(Ze,Le,fe);if(0===st.length)return void oe.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function Ne(Pe){he.push(Pe),Te(Pe,!1)}(st)}}return ge={initializeForMedia:function at(Pe){if(!Pe)throw new Error("mediaInfo can not be null or undefined");He(),Ce.push(Pe)},clearMediaInfoArray:function ne(){Ce=[]},handleKeySystemFromManifest:function Je(){if(Ce&&0!==Ce.length){var Pe=[];Ce.forEach(function(Ye){var Ze=T.getSupportedKeySystemsFromContentProtection(Ye.contentProtection,Le,fe);Ze.length>0&&(0===Pe.length&&(Pe=Ze),he.push(Ze))}),Pe&&Pe.length>0&&Te(Pe,!0)}},createKeySession:Q,loadKeySession:J,removeKeySession:function ue(Pe){He(),N.removeKeySession(Pe)},closeKeySession:function ve(Pe){He(),N.closeKeySession(Pe)},setServerCertificate:function de(Pe){He(),N.setServerCertificate(Pe)},setMediaElement:xe,setSessionType:function Ke(Pe){fe=Pe},setRobustnessLevel:function Ve(Pe){Re=Pe},setProtectionData:function lt(Pe){Le=Pe,T.setProtectionData(Pe)},getSupportedKeySystemsFromContentProtection:function ie(Pe){return He(),T.getSupportedKeySystemsFromContentProtection(Pe,Le,fe)},getKeySystems:function Qe(){return T?T.getKeySystems():[]},setKeySystems:function De(Pe){T&&T.setKeySystems(Pe)},stop:function dt(){cn(),N&&N.stop()},reset:function it(){C.off(B.INTERNAL_KEY_MESSAGE,wt,ge),C.off(B.INTERNAL_KEY_STATUS_CHANGED,Ut,ge),He(),cn(),xe(null),Ae=null,pe=!1,N&&(N.reset(),N=null),Fe.forEach(function(Pe){return clearTimeout(Pe)}),Fe=[],Ce=[],he=[]}},function we(){oe=Y.getLogger(ge),he=[],Ce=[],fe="temporary",Re="",Ue=null,ke=null,C.on(B.INTERNAL_KEY_MESSAGE,wt,ge),C.on(B.INTERNAL_KEY_STATUS_CHANGED,Ut,ge)}(),ge}x.__dashjs_factory_name="ProtectionController",S.default=y.default.getClassFactory(x)},"./src/streaming/protection/controllers/ProtectionKeyController.js":
/*!*************************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionKeyController.js ***!
                  \*************************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=c(
/*! ./../drm/KeySystemClearKey */
"./src/streaming/protection/drm/KeySystemClearKey.js"),w=c(
/*! ./../drm/KeySystemW3CClearKey */
"./src/streaming/protection/drm/KeySystemW3CClearKey.js"),E=c(
/*! ./../drm/KeySystemWidevine */
"./src/streaming/protection/drm/KeySystemWidevine.js"),F=c(
/*! ./../drm/KeySystemPlayReady */
"./src/streaming/protection/drm/KeySystemPlayReady.js"),L=c(
/*! ./../servers/DRMToday */
"./src/streaming/protection/servers/DRMToday.js"),D=c(
/*! ./../servers/PlayReady */
"./src/streaming/protection/servers/PlayReady.js"),p=c(
/*! ./../servers/Widevine */
"./src/streaming/protection/servers/Widevine.js"),f=c(
/*! ./../servers/ClearKey */
"./src/streaming/protection/servers/ClearKey.js"),g=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function y(){var U,R,V,k,O,x,P,T,M=this.context;function he(fe,Re){return Re&&fe in Re?Re[fe]:null}function Ce(fe,Re){return fe&&fe.sessionId?fe.sessionId:Re&&Re.sessionId?Re.sessionId:null}function Le(fe,Re){return fe&&fe.sessionType?fe.sessionType:Re}return U={initialize:function C(){var fe;k=[],fe=Object(F.default)(M).getInstance({BASE64:O,settings:x}),k.push(fe),fe=Object(E.default)(M).getInstance({BASE64:O}),k.push(fe),fe=Object(b.default)(M).getInstance({BASE64:O}),k.push(fe),P=fe,fe=Object(w.default)(M).getInstance({BASE64:O,debug:R}),k.push(fe),T=fe},setProtectionData:function oe(fe){for(var Ae=0;Ae<k.length;Ae++){var pe=k[Ae];pe.hasOwnProperty("init")&&pe.init((ke=pe.systemString,we=void 0,we=null,fe&&(we=ke in fe?fe[ke]:null),we))}var ke,we},isClearKey:function le(fe){return fe===P||fe===T},initDataEquals:function Fe(fe,Re){if(fe.byteLength===Re.byteLength){for(var Ae=new Uint8Array(fe),pe=new Uint8Array(Re),Ue=0;Ue<Ae.length;Ue++)if(Ae[Ue]!==pe[Ue])return!1;return!0}return!1},getKeySystems:function B(){return k},setKeySystems:function Y(fe){k=fe},getKeySystemBySystemString:function q(fe){for(var Re=0;Re<k.length;Re++)if(k[Re].systemString===fe)return k[Re];return null},getSupportedKeySystemsFromContentProtection:function $(fe,Re,Ae){var pe,Ue,ke,we,He=[];if(fe){var at=t.default.findCencContentProtection(fe);for(ke=0;ke<k.length;++ke){var Je=he((Ue=k[ke]).systemString,Re);for(we=0;we<fe.length;++we)if((pe=fe[we]).schemeIdUri.toLowerCase()===Ue.schemeIdURI){var Ne=Ue.getInitData(pe,at);He.push({ks:k[ke],keyId:pe.keyId,initData:Ne,protData:Je,cdmData:Ue.getCDMData(Je?Je.cdmData:null),sessionId:Ce(Je,pe),sessionType:Le(Je,Ae)})}}}return He},getSupportedKeySystemsFromSegmentPssh:function ae(fe,Re,Ae){for(var ke,pe=[],Ue=t.default.parsePSSHList(fe),He=0;He<k.length;++He){var at=he((ke=k[He]).systemString,Re);ke.uuid in Ue&&pe.push({ks:ke,initData:Ue[ke.uuid],protData:at,cdmData:ke.getCDMData(at?at.cdmData:null),sessionId:Ce(at),sessionType:Le(at,Ae)})}return pe},getLicenseServerModelInstance:function K(fe,Re,Ae){if("license-release"===Ae||"individualization-request"===Ae)return null;var pe=null;return Re&&Re.hasOwnProperty("drmtoday")?pe=Object(L.default)(M).getInstance({BASE64:O}):fe.systemString===g.default.WIDEVINE_KEYSTEM_STRING?pe=Object(p.default)(M).getInstance():fe.systemString===g.default.PLAYREADY_KEYSTEM_STRING?pe=Object(D.default)(M).getInstance():fe.systemString===g.default.CLEARKEY_KEYSTEM_STRING&&(pe=Object(f.default)(M).getInstance()),pe},processClearKeyLicenseRequest:function ge(fe,Re,Ae){try{return fe.getClearKeysFromProtectionData(Re,Ae)}catch{return V.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function N(fe){fe&&(fe.debug&&(V=(R=fe.debug).getLogger(U)),fe.BASE64&&(O=fe.BASE64),fe.settings&&(x=fe.settings))}}}y.__dashjs_factory_name="ProtectionKeyController",S.default=dashjs.FactoryMaker.getSingletonFactory(y)},"./src/streaming/protection/drm/KeySystemClearKey.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemClearKey.js ***!
                  \***********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),b=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),w=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),F="e2719d58-a985-b3c9-781a-b030af78d30e",L=E.default.CLEARKEY_KEYSTEM_STRING,D="urn:uuid:"+F;function p(f){var y=(f=f||{}).BASE64;function R(P){try{var T=P.replace(/-/g,"");return(T=btoa(T.match(/\w{2}/g).map(function(N){return String.fromCharCode(parseInt(N,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}return{uuid:F,schemeIdURI:D,systemString:L,getInitData:function U(P,T){try{var N=w.default.parseInitDataFromContentProtection(P,y);if(!N&&T){var B={kids:[R(T["cenc:default_KID"])]};N=(new TextEncoder).encode(JSON.stringify(B))}return N}catch{return null}},getRequestHeadersFromMessage:function V(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function k(P){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(P))))},getLicenseServerURLFromInitData:function O(){return null},getCDMData:function x(){return null},getClearKeysFromProtectionData:function M(P,T){var N=null;if(P){for(var C=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(T))),B=[],Y=0;Y<C.kids.length;Y++){var q=C.kids[Y],le=P.clearkeys&&P.clearkeys.hasOwnProperty(q)?P.clearkeys[q]:null;if(!le)throw new Error("DRM: ClearKey keyID ("+q+") is not known!");B.push(new t.default(q,le))}N=new b.default(B)}return N}}}p.__dashjs_factory_name="KeySystemClearKey",S.default=dashjs.FactoryMaker.getSingletonFactory(p)},"./src/streaming/protection/drm/KeySystemPlayReady.js":
/*!************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemPlayReady.js ***!
                  \************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),w="9a04f079-9840-4286-ab92-e65be0885f95",E=b.default.PLAYREADY_KEYSTEM_STRING,F="urn:uuid:"+w;function D(p){var g="utf-16",y=(p=p||{}).BASE64,M=p.settings;function U(){if(!y||!y.hasOwnProperty("decodeArray")||!y.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:w,schemeIdURI:F,systemString:E,getInitData:function O(T){var q,le,Fe,$,ae,N=new Uint8Array([112,115,115,104,0,0,0,0]),C=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),B=0,Y=null;if(U(),!T)return null;if("pssh"in T)return t.default.parseInitDataFromContentProtection(T,y);if("pro"in T)Y=y.decodeArray(T.pro.__text);else{if(!("prheader"in T))return null;Y=y.decodeArray(T.prheader.__text)}return le=4+N.length+C.length+4+(q=Y.length),Fe=new ArrayBuffer(le),$=new Uint8Array(Fe),(ae=new DataView(Fe)).setUint32(B,le),$.set(N,B+=4),$.set(C,B+=N.length),ae.setUint32(B+=C.length,q),$.set(Y,B+=4),B+=q,$.buffer},getRequestHeadersFromMessage:function R(T){var N,C,B={},Y=new DOMParser;if(M&&M.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===g&&T&&T.byteLength%2==1)return B["Content-Type"]="text/xml; charset=utf-8",B;var q="utf-16"===g?new Uint16Array(T):new Uint8Array(T);N=String.fromCharCode.apply(null,q);for(var le=(C=Y.parseFromString(N,"application/xml")).getElementsByTagName("name"),Fe=C.getElementsByTagName("value"),$=0;$<le.length;$++)B[le[$].childNodes[0].nodeValue]=Fe[$].childNodes[0].nodeValue;return B.hasOwnProperty("Content")&&(B["Content-Type"]=B.Content,delete B.Content),B.hasOwnProperty("Content-Type")||(B["Content-Type"]="text/xml; charset=utf-8"),B},getLicenseRequestFromMessage:function V(T){var N=null,C=new DOMParser;if(M&&M.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===g&&T&&T.byteLength%2==1)return T;var B="utf-16"===g?new Uint16Array(T):new Uint8Array(T);U();var Y=String.fromCharCode.apply(null,B),q=C.parseFromString(Y,"application/xml");if(!q.getElementsByTagName("PlayReadyKeyMessage")[0])return T;var le=q.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return le&&(N=y.decode(le)),N},getLicenseServerURLFromInitData:function k(T){if(T)for(var N=new DataView(T),C=N.getUint16(4,!0),B=6,Y=new DOMParser,q=0;q<C;q++){var le=N.getUint16(B,!0),Fe=N.getUint16(B+=2,!0);if(B+=2,1===le){var $=T.slice(B,B+Fe),ae=String.fromCharCode.apply(null,new Uint16Array($)),K=Y.parseFromString(ae,"application/xml");if(K.getElementsByTagName("LA_URL")[0]){var ge=K.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(ge)return ge}if(K.getElementsByTagName("LUI_URL")[0]){var oe=K.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(oe)return oe}}else B+=Fe}return null},getCDMData:function P(T){var N,C,B,Y;if(U(),!T)return null;for(N=[],Y=0;Y<T.length;++Y)N.push(T.charCodeAt(Y)),N.push(0);for(N=String.fromCharCode.apply(null,N),N=y.encode(N),C='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",N),B=[],Y=0;Y<C.length;++Y)B.push(C.charCodeAt(Y)),B.push(0);return new Uint8Array(B).buffer},setPlayReadyMessageFormat:function x(T){if("utf-8"!==T&&"utf-16"!==T)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');g=T}}}D.__dashjs_factory_name="KeySystemPlayReady",S.default=dashjs.FactoryMaker.getSingletonFactory(D)},"./src/streaming/protection/drm/KeySystemW3CClearKey.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemW3CClearKey.js ***!
                  \**************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),b=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),w=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),E=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),F="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",L=E.default.CLEARKEY_KEYSTEM_STRING,D="urn:uuid:"+F;function p(f){var g,y=f.BASE64,M=f.debug.getLogger(g);return{uuid:F,schemeIdURI:D,systemString:L,getInitData:function R(P){return w.default.parseInitDataFromContentProtection(P,y)},getRequestHeadersFromMessage:function V(){return null},getLicenseRequestFromMessage:function k(P){return new Uint8Array(P)},getLicenseServerURLFromInitData:function O(){return null},getCDMData:function x(){return null},getClearKeysFromProtectionData:function U(P,T){var N=null;if(P){for(var C=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(T))),B=[],Y=0;Y<C.kids.length;Y++){var q=C.kids[Y],le=P.clearkeys&&P.clearkeys.hasOwnProperty(q)?P.clearkeys[q]:null;if(!le)throw new Error("DRM: ClearKey keyID ("+q+") is not known!");B.push(new t.default(q,le))}N=new b.default(B),M.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return N}}}p.__dashjs_factory_name="KeySystemW3CClearKey",S.default=dashjs.FactoryMaker.getSingletonFactory(p)},"./src/streaming/protection/drm/KeySystemWidevine.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemWidevine.js ***!
                  \***********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),w="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",E=b.default.WIDEVINE_KEYSTEM_STRING,F="urn:uuid:"+w;function L(D){var f=(D=D||{}).BASE64;return{uuid:w,schemeIdURI:F,systemString:E,getInitData:function g(V){return t.default.parseInitDataFromContentProtection(V,f)},getRequestHeadersFromMessage:function y(){return null},getLicenseRequestFromMessage:function M(V){return new Uint8Array(V)},getLicenseServerURLFromInitData:function U(){return null},getCDMData:function R(){return null}}}L.__dashjs_factory_name="KeySystemWidevine",S.default=dashjs.FactoryMaker.getSingletonFactory(L)},"./src/streaming/protection/errors/ProtectionErrors.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/protection/errors/ProtectionErrors.js ***!
                  \*************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function b(O){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function w(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,F(T.key),T)}}function F(O){var x=function L(O,x){if("object"!==b(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==b(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===b(x)?x:String(x)}function p(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&f(O,x)}function f(O,x){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function g(O){var x=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=R(O);if(x){var C=R(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function y(O,x){if(x&&("object"===b(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function M(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function R(O){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}c.r(S);var k=new(function(O){p(P,O);var x=g(P);function P(){var T;return function D(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P),(T=x.call(this)).MEDIA_KEYERR_CODE=100,T.MEDIA_KEYERR_UNKNOWN_CODE=101,T.MEDIA_KEYERR_CLIENT_CODE=102,T.MEDIA_KEYERR_SERVICE_CODE=103,T.MEDIA_KEYERR_OUTPUT_CODE=104,T.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,T.MEDIA_KEYERR_DOMAIN_CODE=106,T.MEDIA_KEY_MESSAGE_ERROR_CODE=107,T.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,T.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,T.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,T.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,T.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,T.KEY_SESSION_CREATED_ERROR_CODE=113,T.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,T.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",T.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",T.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",T.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",T.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",T.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",T.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",T.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",T.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",T.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",T.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",T.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",T.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",T.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",T}return function E(O,x,P){return x&&w(O.prototype,x),P&&w(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(c(
/*! ../../../core/errors/ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));S.default=k},"./src/streaming/protection/models/ProtectionModel_01b.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_01b.js ***!
                  \****************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),b=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),w=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),E=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),F=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),L=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),D=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js");function p(f){var k,O,x,P,T,N,C,B,Y,g=this.context,y=(f=f||{}).eventBus,M=f.events,U=f.debug,R=f.api,V=f.errHandler;function le(){x&&Ue();for(var ke=0;ke<C.length;ke++)Ce(C[ke]);y.trigger(M.TEARDOWN_COMPLETE)}function Ce(ke){try{x[R.cancelKeyRequest](P.systemString,ke.sessionId)}catch(we){y.trigger(M.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+ke.sessionId+") "+we.message})}}function pe(ke,we){if(!we||!ke)return null;for(var He=ke.length,at=0;at<He;at++)if(ke[at].sessionId==we)return ke[at];return null}function Ue(){x.removeEventListener(R.keyerror,Y),x.removeEventListener(R.needkey,Y),x.removeEventListener(R.keymessage,Y),x.removeEventListener(R.keyadded,Y)}return k={getAllInitData:function Fe(){for(var ke=[],we=0;we<N.length;we++)ke.push(N[we].initData);for(var He=0;He<C.length;He++)ke.push(C[He].initData);return ke},getSessions:function $(){return C.concat(N)},requestKeySystemAccess:function ae(ke){return new Promise(function(we,He){var at=x;at||(at=document.createElement("video"));for(var Je=!1,Ne=0;Ne<ke.length;Ne++)for(var Te=ke[Ne].ks.systemString,W=ke[Ne].configs,_e=null,J=0;J<W.length;J++){var Q=W[J].videoCapabilities;if(Q&&0!==Q.length){_e=[];for(var Z=0;Z<Q.length;Z++)""!==at.canPlayType(Q[Z].contentType,Te)&&_e.push(Q[Z])}if(_e&&(!_e||0!==_e.length)){Je=!0;var ne=new F.default(null,_e),ie=T.getKeySystemBySystemString(Te),ee=new L.default(ie,ne);y.trigger(M.KEY_SYSTEM_ACCESS_COMPLETE,{data:ee}),we({data:ee});break}}if(!Je){var X="Key system access denied! -- No valid audio/video content configurations detected!";y.trigger(M.KEY_SYSTEM_ACCESS_COMPLETE,{error:X}),He({error:X})}})},selectKeySystem:function K(ke){return P=ke.keySystem,Promise.resolve(P)},setMediaElement:function ge(ke){if(x!==ke){if(x){Ue();for(var we=0;we<C.length;we++)Ce(C[we]);C=[]}(x=ke)&&(x.addEventListener(R.keyerror,Y),x.addEventListener(R.needkey,Y),x.addEventListener(R.keymessage,Y),x.addEventListener(R.keyadded,Y),y.trigger(M.VIDEO_ELEMENT_SELECTED))}},createKeySession:function oe(ke){if(!P)throw new Error("Can not create sessions until you have selected a key system");if(B||0===C.length){var we={sessionId:null,keyId:ke.keyId,initData:ke.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return N.push(we),x[R.generateKeyRequest](P.systemString,new Uint8Array(ke.initData)),we}throw new Error("Multiple sessions not allowed!")},updateKeySession:function he(ke,we){var He=ke.sessionId;if(T.isClearKey(P))for(var at=0;at<we.keyPairs.length;at++)x[R.addKey](P.systemString,we.keyPairs[at].key,we.keyPairs[at].keyID,He);else x[R.addKey](P.systemString,new Uint8Array(we),new Uint8Array(ke.initData),He);y.trigger(M.KEY_SESSION_UPDATED)},closeKeySession:Ce,setServerCertificate:function Le(){},loadKeySession:function fe(){},removeKeySession:function Re(){},stop:le,reset:le},function q(){O=U.getLogger(k),x=null,P=null,N=[],C=[],T=Object(t.default)(g).getInstance(),Y=function Ae(){return{handleEvent:function(we){var He=null;switch(we.type){case R.needkey:var at=ArrayBuffer.isView(we.initData)?we.initData.buffer:we.initData;y.trigger(M.NEED_KEY,{key:new b.default(at,"cenc")});break;case R.keyerror:if((He=pe(C,we.sessionId))||(He=pe(N,we.sessionId)),He){var Je=D.default.MEDIA_KEYERR_CODE,Ne="";switch(we.errorCode.code){case 1:Je=D.default.MEDIA_KEYERR_UNKNOWN_CODE,Ne+="MEDIA_KEYERR_UNKNOWN - "+D.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:Je=D.default.MEDIA_KEYERR_CLIENT_CODE,Ne+="MEDIA_KEYERR_CLIENT - "+D.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:Je=D.default.MEDIA_KEYERR_SERVICE_CODE,Ne+="MEDIA_KEYERR_SERVICE - "+D.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:Je=D.default.MEDIA_KEYERR_OUTPUT_CODE,Ne+="MEDIA_KEYERR_OUTPUT - "+D.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:Je=D.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,Ne+="MEDIA_KEYERR_HARDWARECHANGE - "+D.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:Je=D.default.MEDIA_KEYERR_DOMAIN_CODE,Ne+="MEDIA_KEYERR_DOMAIN - "+D.default.MEDIA_KEYERR_DOMAIN_MESSAGE}y.trigger(M.KEY_ERROR,{error:new w.default(Je,Ne+="  System Code = "+we.systemCode,He)})}else O.error("No session token found for key error");break;case R.keyadded:(He=pe(C,we.sessionId))||(He=pe(N,we.sessionId)),He?(O.debug("DRM: Key added."),y.trigger(M.KEY_ADDED,{data:He})):O.debug("No session token found for key added");break;case R.keymessage:if((B=null!=we.sessionId)?!(He=pe(C,we.sessionId))&&N.length>0&&(He=N.shift(),C.push(He),He.sessionId=we.sessionId,y.trigger(M.KEY_SESSION_CREATED,{data:He})):N.length>0&&(He=N.shift(),C.push(He),0!==N.length&&V.error(new w.default(D.default.MEDIA_KEY_MESSAGE_ERROR_CODE,D.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),He){var Te=ArrayBuffer.isView(we.message)?we.message.buffer:we.message;He.keyMessage=Te,y.trigger(M.INTERNAL_KEY_MESSAGE,{data:new E.default(He,Te,we.defaultURL)})}else O.warn("No session token found for key message")}}}}()}(),k}p.__dashjs_factory_name="ProtectionModel_01b",S.default=dashjs.FactoryMaker.getClassFactory(p)},"./src/streaming/protection/models/ProtectionModel_21Jan2015.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_21Jan2015.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),b=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),w=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),E=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),L=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),D=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),p={};function f(g){var V,k,O,x,P,T,N,C,y=this.context,M=(g=g||{}).eventBus,U=g.events,R=g.debug;function ae(Je,Ne,Te,W){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var se="Insecure origins are not allowed";return M.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{error:se}),void W({error:se})}var Q=Je[Ne].ks,Z=Q.systemString;(function K(Je,Ne){return new Promise(function(Te,W){ge(Je,Ne,0,Te,W)})})((Je[Ne].protData&&Je[Ne].protData.systemStringPriority?Je[Ne].protData.systemStringPriority:null)||(p[Z]?p[Z]:[Z]),Je[Ne].configs).then(function(ie){var ee="function"==typeof ie.getConfiguration?ie.getConfiguration():null,X=new L.default(Q,ee);X.mksa=ie,M.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{data:X}),Te({data:X})}).catch(function(ie){if(Ne+1<Je.length)ae(Je,Ne+1,Te,W);else{var ee="Key system access denied! ";M.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{error:ee+ie.message}),W({error:ee+ie.message})}})}function ge(Je,Ne,Te,W,se){var _e=Je[Te];k.debug("Requesting key system access for system string ".concat(_e)),navigator.requestMediaKeySystemAccess(_e,Ne).then(function(J){J.selectedSystemString=_e,W(J)}).catch(function(J){Te+1<Je.length?ge(Je,Ne,Te+1,W,se):se(J)})}function Ue(Je){var Ne=Je.session;return Ne.removeEventListener("keystatuseschange",Je),Ne.removeEventListener("message",Je),Ne.close()}function we(Je){for(var Ne=0;Ne<T.length;Ne++)if(T[Ne]===Je){T.splice(Ne,1);break}}function He(Je){var Ne,Te;return Je&&Je.length>0&&(Je[0]&&("string"==typeof Je[0]?Ne=Je[0]:Te=Je[0]),Je[1]&&("string"==typeof Je[1]?Ne=Je[1]:Te=Je[1])),{status:Ne,keyId:Te}}function at(Je,Ne){var Te={session:Je,keyId:Ne.keyId,initData:Ne.initData,sessionId:Ne.sessionId,sessionType:Ne.sessionType,handleEvent:function(se){switch(se.type){case"keystatuseschange":M.trigger(U.KEY_STATUSES_CHANGED,{data:this}),se.target.keyStatuses.forEach(function(){var J=He(arguments);M.trigger(U.INTERNAL_KEY_STATUS_CHANGED,"expired"===J.status?{error:new E.default(w.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,w.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:J)});break;case"message":var _e=ArrayBuffer.isView(se.message)?se.message.buffer:se.message;M.trigger(U.INTERNAL_KEY_MESSAGE,{data:new F.default(this,_e,void 0,se.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return Je.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return Je.expiration},getKeyStatuses:function(){return Je.keyStatuses},getUsable:function(){var se=!1;return Je.keyStatuses.forEach(function(){"usable"===He(arguments).status&&(se=!0)}),se}};return Je.addEventListener("keystatuseschange",Te),Je.addEventListener("message",Te),Je.closed.then(function(){we(Te),k.debug("DRM: Session closed.  SessionID = "+Te.getSessionId()),M.trigger(U.KEY_SESSION_CLOSED,{data:Te.getSessionId()})}),T.push(Te),Te}return V={getAllInitData:function le(){for(var Je=[],Ne=0;Ne<T.length;Ne++)T[Ne].initData&&Je.push(T[Ne].initData);return Je},getSessions:function Fe(){return T},requestKeySystemAccess:function $(Je){return new Promise(function(Ne,Te){ae(Je,0,Ne,Te)})},selectKeySystem:function oe(Je){return new Promise(function(Ne,Te){Je.mksa.createMediaKeys().then(function(W){return O=Je.keySystem,P=W,x?x.setMediaKeys(P):Promise.resolve()}).then(function(){Ne(O)}).catch(function(){Te({error:"Error selecting keys system ("+Je.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function he(Je){x!==Je&&(x&&(x.removeEventListener("encrypted",N),x.setMediaKeys&&x.setMediaKeys(null)),(x=Je)&&(x.addEventListener("encrypted",N),x.setMediaKeys&&P&&x.setMediaKeys(P)))},setServerCertificate:function Ce(Je){if(!O||!P)throw new Error("Can not set server certificate until you have selected a key system");P.setServerCertificate(Je).then(function(){k.info("DRM: License server certificate successfully updated."),M.trigger(U.SERVER_CERTIFICATE_UPDATED)}).catch(function(Ne){M.trigger(U.SERVER_CERTIFICATE_UPDATED,{error:new E.default(w.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,w.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+Ne.name)})})},createKeySession:function Le(Je){if(!O||!P)throw new Error("Can not create sessions until you have selected a key system");var Ne=P.createSession(Je.sessionType),Te=at(Ne,Je);Ne.generateRequest(O.systemString===D.default.CLEARKEY_KEYSTEM_STRING&&(Je.initData||Je.protData&&Je.protData.clearkeys)?D.default.INITIALIZATION_DATA_TYPE_KEYIDS:D.default.INITIALIZATION_DATA_TYPE_CENC,Je.initData).then(function(){k.debug("DRM: Session created.  SessionID = "+Te.getSessionId()),M.trigger(U.KEY_SESSION_CREATED,{data:Te})}).catch(function(se){we(Te),M.trigger(U.KEY_SESSION_CREATED,{data:null,error:new E.default(w.default.KEY_SESSION_CREATED_ERROR_CODE,w.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+se.name)})})},updateKeySession:function fe(Je,Ne){var Te=Je.session;C.isClearKey(O)&&(Ne=Ne.toJWK()),Te.update(Ne).then(function(){M.trigger(U.KEY_SESSION_UPDATED)}).catch(function(W){M.trigger(U.KEY_ERROR,{error:new E.default(w.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+W.name,Je)})})},loadKeySession:function Re(Je){if(!O||!P)throw new Error("Can not load sessions until you have selected a key system");for(var Ne=Je.sessionId,Te=0;Te<T.length;Te++)if(Ne===T[Te].sessionId)return void k.warn("DRM: Ignoring session ID because we have already seen it!");var W=P.createSession(Je.sessionType),se=at(W,Je);W.load(Ne).then(function(_e){_e?(k.debug("DRM: Session loaded.  SessionID = "+se.getSessionId()),M.trigger(U.KEY_SESSION_CREATED,{data:se})):(we(se),M.trigger(U.KEY_SESSION_CREATED,{data:null,error:new E.default(w.default.KEY_SESSION_CREATED_ERROR_CODE,w.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+Ne+")")}))}).catch(function(_e){we(se),M.trigger(U.KEY_SESSION_CREATED,{data:null,error:new E.default(w.default.KEY_SESSION_CREATED_ERROR_CODE,w.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+Ne+")! "+_e.name)})})},removeKeySession:function Ae(Je){Je.session.remove().then(function(){k.debug("DRM: Session removed.  SessionID = "+Je.getSessionId()),M.trigger(U.KEY_SESSION_REMOVED,{data:Je.getSessionId()})},function(Te){M.trigger(U.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+Je.getSessionId()+"). "+Te.name})})},closeKeySession:function pe(Je){Ue(Je).catch(function(Ne){we(Je),M.trigger(U.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Je.getSessionId()+") "+Ne.name})})},stop:function q(){for(var Je,Ne=0;Ne<T.length;Ne++)(Je=T[Ne]).getUsable()||Ue(Je).catch(function(){we(Je)})},reset:function Y(){var Ne,Je=T.length;0!==Je?function(){for(var Te=function(_e){we(_e),0===T.length&&(x?(x.removeEventListener("encrypted",N),x.setMediaKeys(null).then(function(){M.trigger(U.TEARDOWN_COMPLETE)})):M.trigger(U.TEARDOWN_COMPLETE))},W=0;W<Je;W++)!function(se){Ne.session.closed.then(function(){Te(se)}),Ue(Ne).catch(function(){Te(se)})}(Ne=T[W])}():M.trigger(U.TEARDOWN_COMPLETE)}},function B(){k=R.getLogger(V),O=null,x=null,P=null,T=[],C=Object(t.default)(y).getInstance(),N=function ke(){return{handleEvent:function(Ne){if("encrypted"===Ne.type&&Ne.initData){var Te=ArrayBuffer.isView(Ne.initData)?Ne.initData.buffer:Ne.initData;M.trigger(U.NEED_KEY,{key:new b.default(Te,Ne.initDataType)})}}}}()}(),V}p[D.default.PLAYREADY_KEYSTEM_STRING]=[D.default.PLAYREADY_KEYSTEM_STRING,D.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],p[D.default.WIDEVINE_KEYSTEM_STRING]=[D.default.WIDEVINE_KEYSTEM_STRING],p[D.default.CLEARKEY_KEYSTEM_STRING]=[D.default.CLEARKEY_KEYSTEM_STRING],f.__dashjs_factory_name="ProtectionModel_21Jan2015",S.default=dashjs.FactoryMaker.getClassFactory(f)},"./src/streaming/protection/models/ProtectionModel_3Feb2014.js":
/*!*********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_3Feb2014.js ***!
                  \*********************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),b=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),w=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),E=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),L=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),D=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js");function p(f){var V,k,O,x,P,T,N,C,B,g=this.context,y=(f=f||{}).eventBus,M=f.events,U=f.debug,R=f.api;function q(){try{for(var Ue=0;Ue<N.length;Ue++)he(N[Ue]);O&&O.removeEventListener(R.needkey,C),y.trigger(M.TEARDOWN_COMPLETE)}catch(ke){y.trigger(M.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+ke.message})}}function he(Ue){var ke=Ue.session;ke.removeEventListener(R.error,Ue),ke.removeEventListener(R.message,Ue),ke.removeEventListener(R.ready,Ue),ke.removeEventListener(R.close,Ue);for(var we=0;we<N.length;we++)if(N[we]===Ue){N.splice(we,1);break}ke[R.release]()}function Ae(){var Ue=null,ke=function(){O.removeEventListener("loadedmetadata",Ue),O[R.setMediaKeys](P),y.trigger(M.VIDEO_ELEMENT_SELECTED)};O.readyState>=1?ke():(Ue=ke.bind(this),O.addEventListener("loadedmetadata",Ue))}return V={getAllInitData:function le(){for(var Ue=[],ke=0;ke<N.length;ke++)Ue.push(N[ke].initData);return Ue},getSessions:function Fe(){return N},requestKeySystemAccess:function $(Ue){return new Promise(function(ke,we){for(var He=!1,at=0;at<Ue.length;at++)for(var Je=Ue[at].ks.systemString,Ne=Ue[at].configs,Te=null,W=null,se=0;se<Ne.length;se++){var _e=Ne[se].audioCapabilities,J=Ne[se].videoCapabilities;if(_e&&0!==_e.length){Te=[];for(var Q=0;Q<_e.length;Q++)window[R.MediaKeys].isTypeSupported(Je,_e[Q].contentType)&&Te.push(_e[Q])}if(J&&0!==J.length){W=[];for(var Z=0;Z<J.length;Z++)window[R.MediaKeys].isTypeSupported(Je,J[Z].contentType)&&W.push(J[Z])}if(!(!Te&&!W||Te&&0===Te.length||W&&0===W.length)){He=!0;var ne=new L.default(Te,W),ie=B.getKeySystemBySystemString(Je),ee=new D.default(ie,ne);y.trigger(M.KEY_SYSTEM_ACCESS_COMPLETE,{data:ee}),ke({data:ee});break}}if(!He){var X="Key system access denied! -- No valid audio/video content configurations detected!";y.trigger(M.KEY_SYSTEM_ACCESS_COMPLETE,{error:X}),we({error:X})}})},selectKeySystem:function ae(Ue){return new Promise(function(ke,we){try{P=Ue.mediaKeys=new window[R.MediaKeys](Ue.keySystem.systemString),x=Ue.keySystem,T=Ue,O&&Ae(),ke(x)}catch{we({error:"Error selecting keys system ("+x.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function K(Ue){O!==Ue&&(O&&O.removeEventListener(R.needkey,C),(O=Ue)&&(O.addEventListener(R.needkey,C),P&&Ae()))},createKeySession:function ge(Ue){if(!x||!P||!T)throw new Error("Can not create sessions until you have selected a key system");var ke=null;if(T.ksConfiguration.videoCapabilities&&T.ksConfiguration.videoCapabilities.length>0&&(ke=T.ksConfiguration.videoCapabilities[0]),null===ke&&T.ksConfiguration.audioCapabilities&&T.ksConfiguration.audioCapabilities.length>0&&(ke=T.ksConfiguration.audioCapabilities[0]),null===ke)throw new Error("Can not create sessions for unknown content types.");var He=P.createSession(ke.contentType,new Uint8Array(Ue.initData),Ue.cdmData?new Uint8Array(Ue.cdmData):null),at=function pe(Ue,ke){return{session:Ue,keyId:ke.keyId,initData:ke.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(He){switch(He.type){case R.error:y.trigger(M.KEY_ERROR,{error:new w.default(E.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case R.message:var Je=ArrayBuffer.isView(He.message)?He.message.buffer:He.message;y.trigger(M.INTERNAL_KEY_MESSAGE,{data:new F.default(this,Je,He.destinationURL)});break;case R.ready:k.debug("DRM: Key added."),y.trigger(M.KEY_ADDED);break;case R.close:k.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),y.trigger(M.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(He,Ue);He.addEventListener(R.error,at),He.addEventListener(R.message,at),He.addEventListener(R.ready,at),He.addEventListener(R.close,at),N.push(at),k.debug("DRM: Session created.  SessionID = "+at.getSessionId()),y.trigger(M.KEY_SESSION_CREATED,{data:at})},updateKeySession:function oe(Ue,ke){var we=Ue.session;B.isClearKey(x)?we.update(new Uint8Array(ke.toJWK())):we.update(new Uint8Array(ke)),y.trigger(M.KEY_SESSION_UPDATED)},closeKeySession:he,setServerCertificate:function Ce(){},loadKeySession:function Le(){},removeKeySession:function fe(){},stop:q,reset:q},function Y(){k=U.getLogger(V),O=null,x=null,P=null,T=null,N=[],B=Object(t.default)(g).getInstance(),C=function Re(){return{handleEvent:function(ke){if(ke.type===R.needkey&&ke.initData){var we=ArrayBuffer.isView(ke.initData)?ke.initData.buffer:ke.initData;y.trigger(M.NEED_KEY,{key:new b.default(we,"cenc")})}}}}()}(),V}p.__dashjs_factory_name="ProtectionModel_3Feb2014",S.default=dashjs.FactoryMaker.getClassFactory(p)},"./src/streaming/protection/servers/ClearKey.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/ClearKey.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),b=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js");function w(){return{getServerURLFromMessage:function F(g){return g},getHTTPMethod:function L(){return"POST"},getResponseType:function D(){return"json"},getLicenseMessage:function p(g){if(!g.hasOwnProperty("keys"))return null;for(var y=[],M=0;M<g.keys.length;M++){var U=g.keys[M],R=U.kid.replace(/=/g,""),V=U.k.replace(/=/g,"");y.push(new t.default(R,V))}return new b.default(y)},getErrorResponse:function f(g){return String.fromCharCode.apply(null,new Uint8Array(g))}}}w.__dashjs_factory_name="ClearKey",S.default=dashjs.FactoryMaker.getSingletonFactory(w)},"./src/streaming/protection/servers/DRMToday.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/DRMToday.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function b(w){var E=(w=w||{}).BASE64,F={};return F[t.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(R){return E.decodeArray(R.license)},getErrorResponse:function(R){return R}},F[t.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(R){return R},getErrorResponse:function(R){return String.fromCharCode.apply(null,new Uint8Array(R))}},{getServerURLFromMessage:function p(U){return U},getHTTPMethod:function f(){return"POST"},getResponseType:function g(U){return F[U].responseType},getLicenseMessage:function y(U,R){return function D(){if(!E||!E.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),F[R].getLicenseMessage(U)},getErrorResponse:function M(U,R){return F[R].getErrorResponse(U)}}}b.__dashjs_factory_name="DRMToday",S.default=dashjs.FactoryMaker.getSingletonFactory(b)},"./src/streaming/protection/servers/PlayReady.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/servers/PlayReady.js ***!
                  \*******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(){var w="http://schemas.xmlsoap.org/soap/envelope/";function E(M){var U=String.fromCharCode.apply(null,new Uint8Array(M));return decodeURIComponent(escape(U))}function F(M){if(window.DOMParser){var U=E(M),V=(new window.DOMParser).parseFromString(U,"text/xml"),k=V?V.getElementsByTagNameNS(w,"Envelope")[0]:null,O=k?k.getElementsByTagNameNS(w,"Body")[0]:null;if(O&&O.getElementsByTagNameNS(w,"Fault")[0])return null}return M}function L(M){var U="",R="",V="",k=-1,O=-1;if(window.DOMParser){var x=E(M),T=(new window.DOMParser).parseFromString(x,"text/xml"),N=T?T.getElementsByTagNameNS(w,"Envelope")[0]:null,C=N?N.getElementsByTagNameNS(w,"Body")[0]:null,B=C?C.getElementsByTagNameNS(w,"Fault")[0]:null,Y=B?B.getElementsByTagName("detail")[0]:null,q=Y?Y.getElementsByTagName("Exception")[0]:null,le=null;if(null===B)return x;U=(le=B.getElementsByTagName("faultstring")[0].firstChild)?le.nodeValue:null,null!==q&&(R=(le=q.getElementsByTagName("StatusCode")[0])?le.firstChild.nodeValue:null,k=(V=(le=q.getElementsByTagName("Message")[0])?le.firstChild.nodeValue:null)?V.lastIndexOf("[")+1:-1,O=V?V.indexOf("]"):-1,V=V?V.substring(k,O):"")}var Fe="code: ".concat(R,", name: ").concat(U);return V&&(Fe+=", message: ".concat(V)),Fe}return{getServerURLFromMessage:function D(M){return M},getHTTPMethod:function p(){return"POST"},getResponseType:function f(){return"arraybuffer"},getLicenseMessage:function g(M){return F.call(this,M)},getErrorResponse:function y(M){return L.call(this,M)}}}c.r(S),t.__dashjs_factory_name="PlayReady",S.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/servers/Widevine.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/Widevine.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(){return{getServerURLFromMessage:function w(p){return p},getHTTPMethod:function E(){return"POST"},getResponseType:function F(){return"arraybuffer"},getLicenseMessage:function L(p){return p},getErrorResponse:function D(p){return String.fromCharCode.apply(null,new Uint8Array(p))}}}c.r(S),t.__dashjs_factory_name="Widevine",S.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/vo/ClearKeyKeySet.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/ClearKeyKeySet.js ***!
                  \*******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,F(y.key),y)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(f,g){if(function b(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p),g&&"persistent"!==g&&"temporary"!==g)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=f,this.type=g}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"toJWK",value:function(){var g,y=this.keyPairs.length,M={keys:[]};for(g=0;g<y;g++)M.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[g].keyID,k:this.keyPairs[g].key});this.type&&(M.type=this.type);var R=JSON.stringify(M),V=R.length,k=new ArrayBuffer(V),O=new Uint8Array(k);for(g=0;g<V;g++)O[g]=R.charCodeAt(g);return k}}]),p}()},"./src/streaming/protection/vo/KeyMessage.js":
/*!***************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyMessage.js ***!
                  \***************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g,y,M){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.sessionToken=f,this.message=g,this.defaultURL=y,this.messageType=M||"license-request"})},"./src/streaming/protection/vo/KeyPair.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyPair.js ***!
                  \************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.keyID=f,this.key=g})},"./src/streaming/protection/vo/KeySystemAccess.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemAccess.js ***!
                  \********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.keySystem=f,this.ksConfiguration=g})},"./src/streaming/protection/vo/KeySystemConfiguration.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemConfiguration.js ***!
                  \***************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g,y,M,U){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.initDataTypes=["cenc"],f&&f.length&&(this.audioCapabilities=f),g&&g.length&&(this.videoCapabilities=g),this.distinctiveIdentifier=y,this.persistentState=M,this.sessionTypes=U})},"./src/streaming/protection/vo/LicenseRequest.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseRequest.js ***!
                  \*******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g,y,M,U,R,V,k){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=f,this.method=g,this.responseType=y,this.headers=M,this.withCredentials=U,this.messageType=R,this.sessionId=V,this.data=k})},"./src/streaming/protection/vo/LicenseResponse.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseResponse.js ***!
                  \********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g,y){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=f,this.headers=g,this.data=y})},"./src/streaming/protection/vo/MediaCapability.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/MediaCapability.js ***!
                  \********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.contentType=f,this.robustness=g})},"./src/streaming/protection/vo/NeedKey.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/NeedKey.js ***!
                  \************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.initData=f,this.initDataType=g})},"./src/streaming/rules/DroppedFramesHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/DroppedFramesHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var E={},F={},L={};return{push:function D(y,M,U){if(M){E[y]||(E[y]=[],F[y]=0,L[y]=0);var R=U&&U.droppedVideoFrames?U.droppedVideoFrames:0,V=U&&U.totalVideoFrames?U.totalVideoFrames:0,k=R-F[y];F[y]=R;var O=V-L[y];L[y]=V;var x=E[y];isNaN(M)||(x[M]?(x[M].droppedVideoFrames+=k,x[M].totalVideoFrames+=O):x[M]={droppedVideoFrames:k,totalVideoFrames:O})}},getFrameHistory:function p(y){return E[y]},clearForStream:function f(y){try{delete E[y],delete F[y],delete L[y]}catch{}},reset:function g(){E={},F={},L={}}}}b.__dashjs_factory_name="DroppedFramesHistory";var w=t.default.getClassFactory(b);S.default=w},"./src/streaming/rules/RulesContext.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/RulesContext.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(w){var F=(w=w||{}).abrController,L=w.switchHistory,D=w.droppedFramesHistory,p=w.currentRequest,f=w.useBufferOccupancyABR,g=w.useL2AABR,y=w.useLoLPABR,M=w.streamProcessor?w.streamProcessor.getScheduleController():null,U=w.streamProcessor?w.streamProcessor.getRepresentationInfo():null,R=w.videoModel?w.videoModel:null;function O(){return U?U.mediaInfo:null}return{getMediaType:function V(){var $=O();return $?$.type:null},getMediaInfo:O,getDroppedFramesHistory:function B(){return D},getCurrentRequest:function Y(){return p},getSwitchHistory:function N(){return L},getStreamInfo:function k(){var $=O();return $?$.streamInfo:null},getScheduleController:function P(){return M},getAbrController:function T(){return F},getRepresentationInfo:function x(){return U},useBufferOccupancyABR:function q(){return f},useL2AABR:function le(){return g},useLoLPABR:function Fe(){return y},getVideoModel:function C(){return R}}}b.__dashjs_factory_name="RulesContext",S.default=t.default.getClassFactory(b)},"./src/streaming/rules/SwitchRequest.js":
/*!**********************************************!*\
                  !*** ./src/streaming/rules/SwitchRequest.js ***!
                  \**********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w={DEFAULT:.5,STRONG:1,WEAK:0};function E(L,D,p){return{quality:void 0===L?-1:L,reason:void 0===D?null:D,priority:function U(R){var V=w.DEFAULT;return(R===w.DEFAULT||R===w.STRONG||R===w.WEAK)&&(V=R),V}(p)}}E.__dashjs_factory_name="SwitchRequest";var F=t.default.getClassFactory(E);F.NO_CHANGE=-1,F.PRIORITY=w,t.default.updateClassFactory(E.__dashjs_factory_name,F),S.default=F},"./src/streaming/rules/SwitchRequestHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/SwitchRequestHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ./SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function E(){var L=[],D=[];return{push:function p(y){y.newValue===b.default.NO_CHANGE&&(y.newValue=y.oldValue),L[y.oldValue]||(L[y.oldValue]={noDrops:0,drops:0,dropSize:0});var M=y.newValue-y.oldValue,U=M<0?1:0,R=U?-M:0,V=U?0:1;if(L[y.oldValue].drops+=U,L[y.oldValue].dropSize+=R,L[y.oldValue].noDrops+=V,D.push({idx:y.oldValue,noDrop:V,drop:U,dropSize:R}),D.length>8){var k=D.shift();L[k.idx].drops-=k.drop,L[k.idx].dropSize-=k.dropSize,L[k.idx].noDrops-=k.noDrop}},getSwitchRequests:function f(){return L},reset:function g(){L=[],D=[]}}}E.__dashjs_factory_name="SwitchRequestHistory";var F=t.default.getClassFactory(E);S.default=F},"./src/streaming/rules/ThroughputHistory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/ThroughputHistory.js ***!
                  \**************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(E){var k,O,x,P,T,L=3,D=4,p=4,f=1.3,g=1.3,V=(E=E||{}).settings;function Y(fe,Re,Ae,pe){var Ue=Math.pow(.5,Ae/pe.fast);fe.fastEstimate=(1-Ue)*Re+Ue*fe.fastEstimate;var ke=Math.pow(.5,Ae/pe.slow);fe.slowEstimate=(1-ke)*Re+ke*fe.slowEstimate,fe.totalWeight+=Ae}function le(fe,Re,Ae){return V.get().streaming.abr.movingAverageMethod!==t.default.MOVING_AVERAGE_SLIDING_WINDOW?function $(fe,Re){var Ae=fe?T.throughputHalfLife:T.latencyHalfLife,pe=fe?x[Re]:P[Re];if(!pe||pe.totalWeight<=0)return NaN;var Ue=pe.fastEstimate/(1-Math.pow(.5,pe.totalWeight/Ae.fast)),ke=pe.slowEstimate/(1-Math.pow(.5,pe.totalWeight/Ae.slow));return fe?Math.min(Ue,ke):Math.max(Ue,ke)}(fe,Re):function Fe(fe,Re,Ae){var pe=function q(fe,Re,Ae){var pe,Ue;if(fe?(pe=k[Re],Ue=Ae?L:D):(pe=O[Re],Ue=p),pe){if(Ue>=pe.length)Ue=pe.length;else if(fe)for(var ke=1;ke<Ue;++ke){var we=pe[pe.length-ke]/pe[pe.length-ke-1];if((we>=g||we<=1/f)&&(Ue+=1)===pe.length)break}}else Ue=0;return Ue}(fe,Re,Ae),ke=(fe?k:O)[Re];return 0!==pe&&ke&&0!==ke.length?(ke=ke.slice(-pe)).reduce(function(we,He){return we+He})/ke.length:NaN}(fe,Re,Ae)}function ae(fe,Re){return le(!0,fe,Re)}function oe(fe){k[fe]=k[fe]||[],O[fe]=O[fe]||[],x[fe]=x[fe]||{fastEstimate:0,slowEstimate:0,totalWeight:0},P[fe]=P[fe]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function Ce(){k={},O={},x={},P={}}var Le={push:function B(fe,Re,Ae){if(Re.trace&&Re.trace.length){var we,pe=Re.tresponse.getTime()-Re.trequest.getTime()||1,Ue=Re._tfinish.getTime()-Re.tresponse.getTime()||1,ke=Re.trace.reduce(function(at,Je){return at+Je.b[0]},0),He=0;if(0!==(we=Re._fileLoaderType&&Re._fileLoaderType===t.default.FILE_LOADER_TYPES.FETCH?Re.trace.reduce(function(at,Je){return at+Je.d},0):Ae?Ue:pe+Ue)&&(He=Math.round(8*ke/we)),oe(fe),function C(fe,Re,Ae){return fe===t.default.VIDEO?Ae<V.get().streaming.cacheLoadThresholds[t.default.VIDEO]:fe===t.default.AUDIO?Ae<V.get().streaming.cacheLoadThresholds[t.default.AUDIO]:void 0}(fe,0,Ue)){if(k[fe].length>0&&!k[fe].hasCachedEntries)return;k[fe].hasCachedEntries=!0}else k[fe]&&k[fe].hasCachedEntries&&function he(fe){delete k[fe],delete O[fe],delete x[fe],delete P[fe],oe(fe)}(fe);k[fe].push(He),k[fe].length>20&&k[fe].shift(),O[fe].push(pe),O[fe].length>20&&O[fe].shift(),Y(x[fe],He,.001*Ue,T.throughputHalfLife),Y(P[fe],pe,1,T.latencyHalfLife)}},getAverageThroughput:ae,getSafeAverageThroughput:function K(fe,Re){var Ae=ae(fe,Re);return isNaN(Ae)||(Ae*=V.get().streaming.abr.bandwidthSafetyFactor),Ae},getAverageLatency:function ge(fe){return le(!1,fe)},reset:Ce};return function N(){T={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},Ce()}(),Le}w.__dashjs_factory_name="ThroughputHistory",S.default=b.default.getClassFactory(w)},"./src/streaming/rules/abr/ABRRulesCollection.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/rules/abr/ABRRulesCollection.js ***!
                  \*******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./ThroughputRule */
"./src/streaming/rules/abr/ThroughputRule.js"),b=c(
/*! ./InsufficientBufferRule */
"./src/streaming/rules/abr/InsufficientBufferRule.js"),w=c(
/*! ./AbandonRequestsRule */
"./src/streaming/rules/abr/AbandonRequestsRule.js"),E=c(
/*! ./DroppedFramesRule */
"./src/streaming/rules/abr/DroppedFramesRule.js"),F=c(
/*! ./SwitchHistoryRule */
"./src/streaming/rules/abr/SwitchHistoryRule.js"),L=c(
/*! ./BolaRule */
"./src/streaming/rules/abr/BolaRule.js"),D=c(
/*! ./L2ARule.js */
"./src/streaming/rules/abr/L2ARule.js"),p=c(
/*! ./lolp/LoLpRule.js */
"./src/streaming/rules/abr/lolp/LoLpRule.js"),f=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),g=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),y=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),M="qualitySwitchRules",U="abandonFragmentRules";function R(k){var B,Y,O=this.context,x=(k=k||{}).mediaPlayerModel,P=k.customParametersModel,T=k.dashMetrics,N=k.settings;function le(oe){return oe.filter(function(he){return he.quality>g.default.NO_CHANGE})}function Fe(oe){var Le,fe,Re,Ae,pe,he={},Ce=null;if(0!==oe.length){for(he[g.default.PRIORITY.STRONG]={quality:g.default.NO_CHANGE,reason:null},he[g.default.PRIORITY.WEAK]={quality:g.default.NO_CHANGE,reason:null},he[g.default.PRIORITY.DEFAULT]={quality:g.default.NO_CHANGE,reason:null},Le=0,fe=oe.length;Le<fe;Le+=1)(Re=oe[Le]).quality!==g.default.NO_CHANGE&&(he[Re.priority].quality===g.default.NO_CHANGE||he[Re.priority].quality>Re.quality)&&(he[Re.priority].quality=Re.quality,he[Re.priority].reason=Re.reason||null);return he[g.default.PRIORITY.WEAK].quality!==g.default.NO_CHANGE&&(Ce=he[g.default.PRIORITY.WEAK]),he[g.default.PRIORITY.DEFAULT].quality!==g.default.NO_CHANGE&&(Ce=he[g.default.PRIORITY.DEFAULT]),he[g.default.PRIORITY.STRONG].quality!==g.default.NO_CHANGE&&(Ce=he[g.default.PRIORITY.STRONG]),Ce&&(Ae=Ce.quality,pe=Ce.reason),Object(g.default)(O).create(Ae,pe)}}return{initialize:function q(){B=[],Y=[],N.get().streaming.abr.useDefaultABRRules&&(N.get().streaming.abr.ABRStrategy===y.default.ABR_STRATEGY_L2A?B.push(Object(D.default)(O).create({dashMetrics:T,settings:N})):N.get().streaming.abr.ABRStrategy===y.default.ABR_STRATEGY_LoLP?B.push(Object(p.default)(O).create({dashMetrics:T})):(B.push(Object(L.default)(O).create({dashMetrics:T,mediaPlayerModel:x,settings:N})),B.push(Object(t.default)(O).create({dashMetrics:T})),N.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&B.push(Object(b.default)(O).create({dashMetrics:T,settings:N})),N.get().streaming.abr.additionalAbrRules.switchHistoryRule&&B.push(Object(F.default)(O).create()),N.get().streaming.abr.additionalAbrRules.droppedFramesRule&&B.push(Object(E.default)(O).create()),N.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&Y.push(Object(w.default)(O).create({dashMetrics:T,mediaPlayerModel:x,settings:N})))),P.getAbrCustomRules().forEach(function(he){he.type===M&&B.push(he.rule(O).create()),he.type===U&&Y.push(he.rule(O).create())})},reset:function K(){[B,Y].forEach(function(oe){oe&&oe.length&&oe.forEach(function(he){return he.reset&&he.reset()})}),B=[],Y=[]},getMaxQuality:function $(oe){return Fe(le(B.map(function(fe){return fe.getMaxIndex(oe)})))||Object(g.default)(O).create()},getMinSwitchRequest:Fe,shouldAbandonFragment:function ae(oe,he){return Fe(le(Y.map(function(Re){return Re.shouldAbandon(oe,he)})))||Object(g.default)(O).create()},getQualitySwitchRules:function ge(){return B}}}R.__dashjs_factory_name="ABRRulesCollection";var V=f.default.getClassFactory(R);V.QUALITY_SWITCH_RULES=M,V.ABANDON_FRAGMENT_RULES=U,f.default.updateSingletonFactory(R.__dashjs_factory_name,V),S.default=V},"./src/streaming/rules/abr/AbandonRequestsRule.js":
/*!********************************************************!*\
                  !*** ./src/streaming/rules/abr/AbandonRequestsRule.js ***!
                  \********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),b=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ../../../core/Debug */
"./src/core/Debug.js");function E(F){var U,R,V,k,O,f=this.context,g=(F=F||{}).mediaPlayerModel,y=F.dashMetrics,M=F.settings;function C(){V={},k={},O=[]}return U={shouldAbandon:function N(B){var Y=Object(t.default)(f).create(t.default.NO_CHANGE,{name:E.__dashjs_factory_name});if(!(B&&B.hasOwnProperty("getMediaInfo")&&B.hasOwnProperty("getMediaType")&&B.hasOwnProperty("getCurrentRequest")&&B.hasOwnProperty("getRepresentationInfo")&&B.hasOwnProperty("getAbrController")))return Y;var q=B.getMediaInfo(),le=B.getMediaType(),Fe=B.getStreamInfo(),$=Fe?Fe.id:null,ae=B.getCurrentRequest();if(!isNaN(ae.index)){!function P(B,Y){V[B]=V[B]||{},V[B][Y]=V[B][Y]||{}}(le,ae.index);var K=g.getStableBufferTime();if(y.getCurrentBufferLevel(le)>K)return Y;var oe=V[le][ae.index];if(null===oe||null===ae.firstByteDate||k.hasOwnProperty(oe.id))return Y;if(void 0===oe.firstByteTime&&(O[le]=[],oe.firstByteTime=ae.firstByteDate.getTime(),oe.segmentDuration=ae.duration,oe.bytesTotal=ae.bytesTotal,oe.id=ae.index),oe.bytesLoaded=ae.bytesLoaded,oe.elapsedTime=(new Date).getTime()-oe.firstByteTime,oe.bytesLoaded>0&&oe.elapsedTime>0&&function T(B,Y){O[B]=O[B]||[],O[B].push(Y)}(le,Math.round(8*oe.bytesLoaded/oe.elapsedTime)),O[le].length>=5&&oe.elapsedTime>500&&oe.bytesLoaded<oe.bytesTotal){var he=O[le].reduce(function(ke,we){return ke+we},0);if(oe.measuredBandwidthInKbps=Math.round(he/O[le].length),oe.estimatedTimeOfDownload=+(8*oe.bytesTotal/oe.measuredBandwidthInKbps/1e3).toFixed(2),oe.estimatedTimeOfDownload<1.8*oe.segmentDuration||0===B.getRepresentationInfo().quality)return Y;if(!k.hasOwnProperty(oe.id)){var Ce=B.getAbrController(),Le=oe.bytesTotal-oe.bytesLoaded,fe=Ce.getBitrateList(q),Re=Ce.getQualityForBitrate(q,oe.measuredBandwidthInKbps*M.get().streaming.abr.bandwidthSafetyFactor,$),Ae=Ce.getMinAllowedIndexFor(le,$),pe=void 0!==Ae?Math.max(Ae,Re):Re;Le>oe.bytesTotal*fe[pe].bitrate/fe[Ce.getQualityFor(le,$)].bitrate&&(Y.quality=pe,Y.reason.throughput=oe.measuredBandwidthInKbps,Y.reason.fragmentID=oe.id,k[oe.id]=oe,R.debug("["+le+"] frag id",oe.id," is asking to abandon and switch to quality to ",pe," measured bandwidth was",oe.measuredBandwidthInKbps),delete V[le][oe.id])}}else oe.bytesLoaded===oe.bytesTotal&&delete V[le][oe.id]}return Y},reset:C},function x(){R=Object(w.default)(f).getInstance().getLogger(U),C()}(),U}E.__dashjs_factory_name="AbandonRequestsRule",S.default=b.default.getClassFactory(E)},"./src/streaming/rules/abr/BolaRule.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/abr/BolaRule.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),w=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),p=c(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),U=10;function k(O){var C,B,Y,x=this.context,P=(O=O||{}).dashMetrics,T=O.mediaPlayerModel,N=Object(F.default)(x).getInstance();function Fe(Ne,Te,W){var se=W.reduce(function(Z,ne,ie){return ne>W[Z]?ie:Z},0);if(0===se)return null;var _e=Math.max(Ne,U+2*Te.length),J=(W[se]-1)/(_e/U-1);return{gp:J,Vp:U/J}}function $(Ne){var Te={},se=Ne.getMediaInfo().bitrateList.map(function(Z){return Z.bandwidth}),_e=function le(Ne){return Ne.map(function(Te){return Math.log(Te)})}(se);_e=_e.map(function(Z){return Z-_e[0]+1});var J=T.getStableBufferTime(),Q=Fe(J,se,_e);return Q?(Te.state=1,Te.bitrates=se,Te.utilities=_e,Te.stableBufferTime=J,Te.Vp=Q.Vp,Te.gp=Q.gp,Te.lastQuality=0,ae(Te)):Te.state=0,Te}function ae(Ne){Ne.placeholderBuffer=0,Ne.mostAdvancedSegmentStart=NaN,Ne.lastSegmentWasReplacement=!1,Ne.lastSegmentStart=NaN,Ne.lastSegmentDurationS=NaN,Ne.lastSegmentRequestTimeMs=NaN,Ne.lastSegmentFinishTimeMs=NaN}function K(Ne,Te){var W=T.getStableBufferTime();if(Ne.stableBufferTime!==W){var se=Fe(W,Ne.bitrates,Ne.utilities);if(se.Vp!==Ne.Vp||se.gp!==Ne.gp){var _e=P.getCurrentBufferLevel(Te),J=_e+Ne.placeholderBuffer;J-=U,J*=se.Vp/Ne.Vp,J+=U,Ne.stableBufferTime=W,Ne.Vp=se.Vp,Ne.gp=se.gp,Ne.placeholderBuffer=Math.max(0,J-_e)}}}function he(Ne,Te){return Ne.Vp*(Ne.utilities[Te]+Ne.gp)}function Ce(Ne,Te){for(var W=Ne.bitrates[Te],se=Ne.utilities[Te],_e=0,J=Te-1;J>=0;--J)if(Ne.utilities[J]<Ne.utilities[Te]){var Q=Ne.bitrates[J];_e=Math.max(_e,Ne.Vp*(Ne.gp+(W*Ne.utilities[J]-Q*se)/(W-Q)))}return _e}function fe(Ne){var W=Ne.mediaType===f.default.AUDIO?[f.default.AUDIO]:Y;for(var se in W)Y.hasOwnProperty(se)&&2===Y[se].state&&(Y[se].placeholderBuffer=0)}function Re(){for(var Ne in Y)if(Y.hasOwnProperty(Ne)){var Te=Y[Ne];0!==Te.state&&(Te.state=1,ae(Te))}}function Ae(Ne){if(Ne&&Ne.chunk&&Ne.chunk.mediaInfo){var Te=Y[Ne.chunk.mediaInfo.type];if(Te&&0!==Te.state){var W=Ne.chunk.start;isNaN(Te.mostAdvancedSegmentStart)||W>Te.mostAdvancedSegmentStart?(Te.mostAdvancedSegmentStart=W,Te.lastSegmentWasReplacement=!1):Te.lastSegmentWasReplacement=!0,Te.lastSegmentStart=W,Te.lastSegmentDurationS=Ne.chunk.duration,Te.lastQuality=Ne.chunk.quality,Ue(Te,Ne.chunk.mediaInfo.type)}}}function pe(Ne){if(Ne&&Ne.metric===t.default.HTTP_REQUEST&&Ne.value&&Ne.value.type===E.HTTPRequest.MEDIA_SEGMENT_TYPE&&Ne.value.trace&&Ne.value.trace.length){var Te=Y[Ne.mediaType];Te&&0!==Te.state&&(Te.lastSegmentRequestTimeMs=Ne.value.trequest.getTime(),Te.lastSegmentFinishTimeMs=Ne.value._tfinish.getTime(),Ue(Te,Ne.mediaType))}}function Ue(Ne,Te){if(!isNaN(Ne.lastSegmentStart)&&!isNaN(Ne.lastSegmentRequestTimeMs)&&!isNaN(Ne.placeholderBuffer)){if(Ne.placeholderBuffer*=.99,!isNaN(Ne.lastSegmentFinishTimeMs)){var se=P.getCurrentBufferLevel(Te)+.001*(Ne.lastSegmentFinishTimeMs-Ne.lastSegmentRequestTimeMs),_e=he(Ne,Ne.lastQuality),J=Math.max(0,_e-se);Ne.placeholderBuffer=Math.min(J,Ne.placeholderBuffer)}Ne.lastSegmentWasReplacement&&!isNaN(Ne.lastSegmentDurationS)&&(Ne.placeholderBuffer+=Ne.lastSegmentDurationS),Ne.lastSegmentStart=NaN,Ne.lastSegmentRequestTimeMs=NaN}}function ke(Ne){if(Ne){var Te=Y[Ne.mediaType];Te&&0!==Te.state&&(Te.abrQuality=Ne.newQuality)}}function we(Ne){if(Ne){var Te=Y[Ne.mediaType];if(Te&&0!==Te.state){var se,W=P.getCurrentBufferLevel(Ne.mediaType);se=Te.abrQuality>0?Ce(Te,Te.abrQuality):U;var _e=Math.max(0,se-W);Te.placeholderBuffer=Math.min(Te.placeholderBuffer,_e)}}}function at(){Y={}}return C={getMaxIndex:function He(Ne){var Te=Object(b.default)(x).create();if(!(Ne&&Ne.hasOwnProperty("getMediaInfo")&&Ne.hasOwnProperty("getMediaType")&&Ne.hasOwnProperty("getScheduleController")&&Ne.hasOwnProperty("getStreamInfo")&&Ne.hasOwnProperty("getAbrController")&&Ne.hasOwnProperty("useBufferOccupancyABR")))return Te;var W=Ne.getMediaInfo(),se=Ne.getMediaType(),_e=Ne.getScheduleController(),J=Ne.getStreamInfo(),Q=Ne.getAbrController(),Z=Q.getThroughputHistory(),ne=J?J.id:null,ie=J&&J.manifestInfo&&J.manifestInfo.isDynamic,ee=Ne.useBufferOccupancyABR();if(Te.reason=Te.reason||{},!ee)return Te;_e.setTimeToLoadDelay(0);var X=function ge(Ne){var Te=Ne.getMediaType(),W=Y[Te];return W?0!==W.state&&K(W,Te):(W=$(Ne),Y[Te]=W),W}(Ne);if(0===X.state)return Te;var Ke,ue=P.getCurrentBufferLevel(se),ve=Z.getAverageThroughput(se,ie),de=Z.getSafeAverageThroughput(se,ie),xe=Z.getAverageLatency(se);if(Te.reason.state=X.state,Te.reason.throughput=ve,Te.reason.latency=xe,isNaN(ve))return Te;switch(X.state){case 1:Ke=Q.getQualityForBitrate(W,de,ne,xe),Te.quality=Ke,Te.reason.throughput=de,X.placeholderBuffer=Math.max(0,Ce(X,Ke)-ue),X.lastQuality=Ke,!isNaN(X.lastSegmentDurationS)&&ue>=X.lastSegmentDurationS&&(X.state=2);break;case 2:(function Le(Ne,Te){var W=Date.now();isNaN(Ne.lastSegmentFinishTimeMs)?isNaN(Ne.lastCallTimeMs)||(Ne.placeholderBuffer+=Math.max(0,.001*(W-Ne.lastCallTimeMs))):Ne.placeholderBuffer+=Math.max(0,.001*(W-Ne.lastSegmentFinishTimeMs)),Ne.lastCallTimeMs=W,Ne.lastSegmentStart=NaN,Ne.lastSegmentRequestTimeMs=NaN,Ne.lastSegmentFinishTimeMs=NaN,K(Ne,Te)})(X,se),Ke=function oe(Ne,Te){for(var W=Ne.bitrates.length,se=NaN,_e=NaN,J=0;J<W;++J){var Q=(Ne.Vp*(Ne.utilities[J]+Ne.gp)-Te)/Ne.bitrates[J];(isNaN(_e)||Q>=_e)&&(_e=Q,se=J)}return se}(X,ue+X.placeholderBuffer);var Ve=Q.getQualityForBitrate(W,de,ne,xe);Ke>X.lastQuality&&Ke>Ve&&(Ke=Math.max(Ve,X.lastQuality));var lt=Math.max(0,ue+X.placeholderBuffer-he(X,Ke));lt<=X.placeholderBuffer?(X.placeholderBuffer-=lt,lt=0):(lt-=X.placeholderBuffer,X.placeholderBuffer=0,Ke<Q.getMaxAllowedIndexFor(se,ne)?_e.setTimeToLoadDelay(1e3*lt):lt=0),Te.quality=Ke,Te.reason.throughput=ve,Te.reason.latency=xe,Te.reason.bufferLevel=ue,Te.reason.placeholderBuffer=X.placeholderBuffer,Te.reason.delay=lt,X.lastQuality=Ke;break;default:B.debug("BOLA ABR rule invoked in bad state."),Te.quality=Q.getQualityForBitrate(W,de,ne,xe),Te.reason.state=X.state,Te.reason.throughput=de,Te.reason.latency=xe,X.state=1,ae(X)}return Te},reset:function Je(){at(),N.off(p.default.BUFFER_EMPTY,fe,C),N.off(p.default.PLAYBACK_SEEKING,Re,C),N.off(p.default.METRIC_ADDED,pe,C),N.off(p.default.QUALITY_CHANGE_REQUESTED,ke,C),N.off(p.default.FRAGMENT_LOADING_ABANDONED,we,C),N.off(L.default.MEDIA_FRAGMENT_LOADED,Ae,C)}},function q(){B=Object(D.default)(x).getInstance().getLogger(C),at(),N.on(p.default.BUFFER_EMPTY,fe,C),N.on(p.default.PLAYBACK_SEEKING,Re,C),N.on(p.default.METRIC_ADDED,pe,C),N.on(p.default.QUALITY_CHANGE_REQUESTED,ke,C),N.on(p.default.FRAGMENT_LOADING_ABANDONED,we,C),N.on(L.default.MEDIA_FRAGMENT_LOADED,Ae,C)}(),C}k.__dashjs_factory_name="BolaRule",S.default=w.default.getClassFactory(k)},"./src/streaming/rules/abr/DroppedFramesRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/DroppedFramesRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),w=c(
/*! ../../../core/Debug */
"./src/core/Debug.js");function E(){var L,D,F=this.context;return L={getMaxIndex:function y(M){var U=Object(b.default)(F).create();if(!M||!M.hasOwnProperty("getDroppedFramesHistory"))return U;var R=M.getDroppedFramesHistory(),V=M.getStreamInfo().id;if(R){var k=R.getFrameHistory(V);if(!k||0===k.length)return U;for(var O=0,x=0,P=b.default.NO_CHANGE,T=1;T<k.length;T++)if(k[T]&&(O=k[T].droppedVideoFrames,(x=k[T].totalVideoFrames)>375&&O/x>.15)){D.debug("index: "+(P=T-1)+" Dropped Frames: "+O+" Total Frames: "+x);break}return Object(b.default)(F).create(P,{droppedFrames:O})}return U}},function g(){D=Object(w.default)(F).getInstance().getLogger(L)}(),L}E.__dashjs_factory_name="DroppedFramesRule",S.default=t.default.getClassFactory(E)},"./src/streaming/rules/abr/InsufficientBufferRule.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/rules/abr/InsufficientBufferRule.js ***!
                  \***********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),F=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),L=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),D=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),p=c(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function f(g){g=g||{};var k,O,x,M=2,U=this.context,R=Object(t.default)(U).getInstance(),V=g.dashMetrics;function B(){(x={})[L.default.VIDEO]={ignoreCount:M},x[L.default.AUDIO]={ignoreCount:M}}function Y(){B()}function q(Fe){!isNaN(Fe.startTime)&&(Fe.mediaType===L.default.AUDIO||Fe.mediaType===L.default.VIDEO)&&x[Fe.mediaType].ignoreCount>0&&x[Fe.mediaType].ignoreCount--}return k={getMaxIndex:function N(Fe){var $=Object(F.default)(U).create();if(!Fe||!Fe.hasOwnProperty("getMediaType"))return $;!function T(){if(!V||!V.hasOwnProperty("getCurrentBufferLevel")||!V.hasOwnProperty("getCurrentBufferState"))throw new Error(L.default.MISSING_CONFIG_ERROR)}();var ae=Fe.getMediaType(),K=V.getCurrentBufferState(ae),oe=Fe.getRepresentationInfo().fragmentDuration,he=Fe.getStreamInfo(),Ce=he?he.id:null,Le=Fe.getScheduleController(),fe=he&&he.manifestInfo&&he.manifestInfo.isDynamic;if(function C(Fe,$){return!Fe&&x[$].ignoreCount>0}(Le.getPlaybackController().getLowLatencyModeEnabled(),ae)||!oe)return $;if(K&&K.state===D.default.BUFFER_EMPTY)O.debug("["+ae+"] Switch to index 0; buffer is empty."),$.quality=0,$.reason="InsufficientBufferRule: Buffer is empty";else{var pe=Fe.getMediaInfo(),Ue=Fe.getAbrController(),ke=Ue.getThroughputHistory(),we=V.getCurrentBufferLevel(ae),He=ke.getAverageThroughput(ae,fe),at=ke.getAverageLatency(ae);$.quality=Ue.getQualityForBitrate(pe,He*(we/oe)*.5,Ce,at),$.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return $},reset:function le(){B(),R.off(p.default.PLAYBACK_SEEKING,Y,k),R.off(b.default.BYTES_APPENDED_END_FRAGMENT,q,k)}},function P(){O=Object(E.default)(U).getInstance().getLogger(k),B(),R.on(p.default.PLAYBACK_SEEKING,Y,k),R.on(b.default.BYTES_APPENDED_END_FRAGMENT,q,k)}(),k}f.__dashjs_factory_name="InsufficientBufferRule",S.default=w.default.getClassFactory(f)},"./src/streaming/rules/abr/L2ARule.js":
/*!********************************************!*\
                  !*** ./src/streaming/rules/abr/L2ARule.js ***!
                  \********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),w=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),D=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),p=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js");function M(U){var O,x,P,T,R=this.context,V=(U=U||{}).dashMetrics,k=Object(F.default)(R).getInstance();function C(fe){var Re={},Ae=fe.getMediaInfo(),pe=Ae.bitrateList.map(function(Ue){return Ue.bandwidth/1e3});return Re.state=1,Re.bitrates=pe,Re.lastQuality=0,function B(fe){!fe||!fe.type||(P[fe.type]={},P[fe.type].w=[],P[fe.type].prev_w=[],P[fe.type].Q=0,P[fe.type].segment_request_start_s=0,P[fe.type].segment_download_finish_s=0,P[fe.type].B_target=1.5)}(Ae),Y(Re),Re}function Y(fe){fe.placeholderBuffer=0,fe.mostAdvancedSegmentStart=NaN,fe.lastSegmentWasReplacement=!1,fe.lastSegmentStart=NaN,fe.lastSegmentDurationS=NaN,fe.lastSegmentRequestTimeMs=NaN,fe.lastSegmentFinishTimeMs=NaN}function le(){for(var fe in x)if(x.hasOwnProperty(fe)){var Re=x[fe];0!==Re.state&&(Re.state=1,Y(Re))}}function Fe(fe){if(fe&&fe.chunk&&fe.chunk.mediaInfo){var Re=x[fe.chunk.mediaInfo.type],Ae=P[fe.chunk.mediaInfo.type];if(Re&&0!==Re.state){var pe=fe.chunk.start;isNaN(Re.mostAdvancedSegmentStart)||pe>Re.mostAdvancedSegmentStart?(Re.mostAdvancedSegmentStart=pe,Re.lastSegmentWasReplacement=!1):Re.lastSegmentWasReplacement=!0,Re.lastSegmentStart=pe,Re.lastSegmentDurationS=fe.chunk.duration,Re.lastQuality=fe.chunk.quality,ae(Re,Ae)}}}function $(fe){if(fe&&fe.metric===t.default.HTTP_REQUEST&&fe.value&&fe.value.type===E.HTTPRequest.MEDIA_SEGMENT_TYPE&&fe.value.trace&&fe.value.trace.length){var Re=x[fe.mediaType],Ae=P[fe.mediaType];Re&&0!==Re.state&&(Re.lastSegmentRequestTimeMs=fe.value.trequest.getTime(),Re.lastSegmentFinishTimeMs=fe.value._tfinish.getTime(),ae(Re,Ae))}}function ae(fe,Re){!isNaN(fe.lastSegmentStart)&&!isNaN(fe.lastSegmentRequestTimeMs)&&(Re.segment_request_start_s=.001*fe.lastSegmentRequestTimeMs,Re.segment_download_finish_s=.001*fe.lastSegmentFinishTimeMs,fe.lastSegmentStart=NaN,fe.lastSegmentRequestTimeMs=NaN)}function K(fe){if(fe&&fe.mediaType){var Re=x[fe.mediaType];Re&&0!==Re.state&&(Re.abrQuality=fe.newQuality)}}function ge(fe,Re){if(fe.length!==Re.length)return-1;for(var Ae=0,pe=0;pe<fe.length;pe++)Ae+=fe[pe]*Re[pe];return Ae}function Ce(){x={},P={}}return O={getMaxIndex:function he(fe){var X,Re=Object(b.default)(R).create(),pe=Math.pow(4,.99),Ue=Math.max(Math.pow(4,1),pe*Math.sqrt(4)),ke=fe.getMediaInfo(),we=fe.getMediaType(),He=ke.bitrateList.map(function(ln){return ln.bandwidth}),at=He.length,Je=fe.getScheduleController(),Ne=fe.getStreamInfo(),Te=fe.getAbrController(),W=Te.getThroughputHistory(),se=Ne&&Ne.manifestInfo&&Ne.manifestInfo.isDynamic,_e=fe.useL2AABR(),J=V.getCurrentBufferLevel(we,!0),Q=W.getSafeAverageThroughput(we,se),Z=W.getAverageThroughput(we,se),ie=W.getAverageLatency(we),ue=fe.getVideoModel().getPlaybackRate();if(!(fe&&fe.hasOwnProperty("getMediaInfo")&&fe.hasOwnProperty("getMediaType")&&fe.hasOwnProperty("getScheduleController")&&fe.hasOwnProperty("getStreamInfo")&&fe.hasOwnProperty("getAbrController")&&fe.hasOwnProperty("useL2AABR")&&(Re.reason=Re.reason||{},_e&&we!==p.default.AUDIO)))return Re;Je.setTimeToLoadDelay(0);var ve=function q(fe){var Re=fe.getMediaType(),Ae=x[Re];return Ae||(Ae=C(fe),x[Re]=Ae),Ae}(fe);if(0===ve.state)return Re;var de=P[we];if(!de||(Re.reason.state=ve.state,Re.reason.throughput=Z,Re.reason.latency=ie,isNaN(Z)))return Re;switch(ve.state){case 1:if(X=Te.getQualityForBitrate(ke,Q,Ne.id,ie),Re.quality=X,Re.reason.throughput=Q,ve.lastQuality=X,!isNaN(ve.lastSegmentDurationS)&&J>=de.B_target){ve.state=2,de.Q=pe;for(var xe=0;xe<at;++xe)de.prev_w[xe]=xe===ve.lastQuality?1:0}break;case 2:var Ke=[],Ve=V.getCurrentHttpRequest(we).trace.reduce(function(ln,cn){return ln+cn.d},0),lt=V.getCurrentHttpRequest(we).trace.reduce(function(ln,cn){return ln+cn.b[0]},0),dt=Math.round(8*lt/Ve);dt<1&&(dt=1);for(var it=ve.lastSegmentDurationS,bt=1,Ut=0;Ut<at;++Ut)He[Ut]=He[Ut]/1e3,ue*He[Ut]>dt&&(bt=-1),de.w[Ut]=de.prev_w[Ut]+bt*(it/(2*Ue))*((de.Q+pe)*(ue*He[Ut]/dt));de.w=function oe(fe){for(var Re=fe.length,Ae=!1,pe=[],Ue=0;Ue<Re;++Ue)pe[Ue]=fe[Ue];for(var ke=fe.sort(function(Te,W){return W-Te}),we=0,He=0,at=[],Je=0;Je<Re-1;++Je)if((He=((we+=ke[Je])-1)/(Je+1))>=ke[Je+1]){Ae=!0;break}Ae||(He=(we+ke[Re-1]-1)/Re);for(var Ne=0;Ne<Re;++Ne)at[Ne]=Math.max(pe[Ne]-He,0);return at}(de.w);for(var wt=0;wt<at;++wt)Ke[wt]=de.w[wt]-de.prev_w[wt],de.prev_w[wt]=de.w[wt];de.Q=Math.max(0,de.Q-it+it*ue*((ge(He,de.prev_w)+ge(He,Ke))/dt));for(var Ht=[],en=0;en<at;++en)Ht[en]=Math.abs(He[en]-ge(de.w,He));(X=Ht.indexOf(Math.min.apply(Math,Ht)))>ve.lastQuality&&He[ve.lastQuality+1]<=dt&&(X=ve.lastQuality+1),He[X]>=dt&&(de.Q=2*Math.max(pe,de.Q)),Re.quality=X,Re.reason.throughput=Z,Re.reason.latency=ie,Re.reason.bufferLevel=J,ve.lastQuality=Re.quality;break;default:T.debug("L2A ABR rule invoked in bad state."),Re.quality=Te.getQualityForBitrate(ke,Q,Ne.id,ie),Re.reason.state=ve.state,Re.reason.throughput=Q,Re.reason.latency=ie,ve.state=1,Y(ve)}return Re},reset:function Le(){Ce(),k.off(L.default.PLAYBACK_SEEKING,le,O),k.off(L.default.MEDIA_FRAGMENT_LOADED,Fe,O),k.off(L.default.METRIC_ADDED,$,O),k.off(L.default.QUALITY_CHANGE_REQUESTED,K,O)}},function N(){T=Object(D.default)(R).getInstance().getLogger(O),Ce(),k.on(L.default.PLAYBACK_SEEKING,le,O),k.on(L.default.MEDIA_FRAGMENT_LOADED,Fe,O),k.on(L.default.METRIC_ADDED,$,O),k.on(L.default.QUALITY_CHANGE_REQUESTED,K,O)}(),O}M.__dashjs_factory_name="L2ARule",S.default=w.default.getClassFactory(M)},"./src/streaming/rules/abr/SwitchHistoryRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/SwitchHistoryRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function E(){var L,D,F=this.context;return L={getMaxIndex:function y(M){for(var U=M?M.getSwitchHistory():null,R=U?U.getSwitchRequests():[],V=0,k=0,O=0,x=Object(w.default)(F).create(),P=0;P<R.length;P++)if(void 0!==R[P]&&(O+=R[P].dropSize,(V+=R[P].drops)+(k+=R[P].noDrops)>=6&&V/k>.075)){x.quality=P>0&&R[P].drops>0?P-1:P,x.reason={index:x.quality,drops:V,noDrops:k,dropSize:O},D.debug("Switch history rule index: "+x.quality+" samples: "+(V+k)+" drops: "+V);break}return x}},function g(){D=Object(b.default)(F).getInstance().getLogger(L)}(),L}E.__dashjs_factory_name="SwitchHistoryRule",S.default=t.default.getClassFactory(E)},"./src/streaming/rules/abr/ThroughputRule.js":
/*!***************************************************!*\
                  !*** ./src/streaming/rules/abr/ThroughputRule.js ***!
                  \***************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),w=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function F(L){var D=this.context,p=(L=L||{}).dashMetrics;return{getMaxIndex:function M(R){var V=Object(b.default)(D).create();if(!(R&&R.hasOwnProperty("getMediaInfo")&&R.hasOwnProperty("getMediaType")&&R.hasOwnProperty("useBufferOccupancyABR")&&R.hasOwnProperty("getAbrController")&&R.hasOwnProperty("getScheduleController")))return V;!function y(){if(!p||!p.hasOwnProperty("getCurrentBufferState"))throw new Error(w.default.MISSING_CONFIG_ERROR)}();var k=R.getMediaInfo(),O=R.getMediaType(),x=p.getCurrentBufferState(O),P=R.getScheduleController(),T=R.getAbrController(),N=R.getStreamInfo(),C=N?N.id:null,B=N&&N.manifestInfo?N.manifestInfo.isDynamic:null,Y=T.getThroughputHistory(),q=Y.getSafeAverageThroughput(O,B),le=Y.getAverageLatency(O),Fe=R.useBufferOccupancyABR();return isNaN(q)||!x||Fe||T.getAbandonmentStateFor(C,O)!==E.default.ABANDON_LOAD&&(x.state===E.default.BUFFER_LOADED||B)&&(V.quality=T.getQualityForBitrate(k,q,C,le),P.setTimeToLoadDelay(0),V.reason={throughput:q,latency:le}),V},reset:function U(){}}}F.__dashjs_factory_name="ThroughputRule",S.default=t.default.getClassFactory(F)},"./src/streaming/rules/abr/lolp/LearningAbrController.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LearningAbrController.js ***!
                  \***************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),w_MANUAL="manual_weight_selection",w_RANDOM="random_weight_selection",w_DYNAMIC="dynamic_weight_selection";function E(){var L,D,p,f,g,y,M,U,R,F=this.context;function O(){p=null,f=1,g=100,y=0,M=null,U=null,R=w_DYNAMIC}function x(){var he=0;if(p)for(var Ce=0;Ce<p.length;Ce++){var Le=p[Ce];Le.state.throughput>he&&(he=Le.state.throughput)}return he}function T(he,Ce,Le){var fe=he.map(function(Ae,pe){return Le[pe]*Math.pow(Ae-Ce[pe],2)}).reduce(function(Ae,pe){return Ae+pe});return(fe<0?-1:1)*Math.sqrt(Math.abs(fe))}function N(he,Ce){return T([he.state.throughput,he.state.latency,he.state.rebuffer,he.state.switch],[Ce.state.throughput,Ce.state.latency,Ce.state.rebuffer,Ce.state.switch],[1,1,1,1])}function C(he,Ce,Le){for(var fe=0;fe<Ce.length;fe++){var Re=Ce[fe],pe=N(Re,he);B(Re,Le,Math.exp(-1*Math.pow(pe,2)/(2*Math.pow(.1,2))))}}function B(he,Ce,Le){var fe=he.state,Re=[.01,.01,.01,.01];fe.throughput=fe.throughput+(Ce[0]-fe.throughput)*Re[0]*Le,fe.latency=fe.latency+(Ce[1]-fe.latency)*Re[1]*Le,fe.rebuffer=fe.rebuffer+(Ce[2]-fe.rebuffer)*Re[2]*Le,fe.switch=fe.switch+(Ce[3]-fe.switch)*Re[3]*Le}return L={getNextQuality:function q(he,Ce,Le,fe,Re,Ae,pe){var Ue=Le,ke=fe,we=Ce,He=function K(he){if(!p){p=[];var Ce=he.bitrateList,Le=[];y=Ce[0].bandwidth,Ce.forEach(function(Ae){Le.push(Ae.bandwidth),Ae.bandwidth<y&&(y=Ae.bandwidth)}),f=function P(he){var Ce=he.map(function(Le){return Math.pow(Le,2)}).reduce(function(Le,fe){return Le+fe});return Math.sqrt(Ce)}(Le);for(var fe=0;fe<Ce.length;fe++)p.push({qualityIndex:fe,bitrate:Ce[fe].bandwidth,state:{throughput:Ce[fe].bandwidth/f,latency:0,rebuffer:0,switch:0}});U=function oe(he){var Ce=[],Le=function ge(he){for(var Ce=[],Le=0;Le<he;Le++){var fe=[Math.random()*x(),Math.random(),Math.random(),Math.random()];Ce.push(fe)}return Ce}(Math.pow(he.length,2));Ce.push(Le[0]);for(var fe=[1,1,1,1],Re=1;Re<he.length;Re++){for(var Ae=null,pe=null,Ue=0;Ue<Le.length;Ue++){for(var ke=Le[Ue],we=null,He=0;He<Ce.length;He++){var at=T(ke,Ce[He],fe);(null===we||at<we)&&(we=at)}(null===pe||we>pe)&&(Ae=ke,pe=we)}Ce.push(Ae)}for(var Je=null,Ne=null,Te=0;Te<Ce.length;Te++){for(var W=0,se=0;se<Ce.length;se++)Te!==se&&(W+=T(Ce[Te],Ce[se],fe));(null===Je||W>Je)&&(Je=W,Ne=Te)}var _e=[];for(_e.push(Ce[Ne]),Ce.splice(Ne,1);Ce.length>0;){for(var J=null,Q=null,Z=0;Z<Ce.length;Z++){var ne=T(_e[0],Ce[Z],fe);(null===J||ne<J)&&(J=ne,Q=Z)}_e.push(Ce[Q]),Ce.splice(Q,1)}return _e}(p)}return p}(he),at=Ce/f;at>1&&(at=x()),Le/=g,D.debug("getNextQuality called throughput:".concat(at," latency:").concat(Le," bufferSize:").concat(fe," currentQualityIndex:").concat(Ae," playbackRate:").concat(Re));var se=He[Ae],_e=se.bitrate*pe.getSegmentDuration()/we,J=Math.max(0,_e-ke);if(ke-_e<pe.getMinBuffer())return D.debug("Buffer is low for bitrate= ".concat(se.bitrate," downloadTime=").concat(_e," currentBuffer=").concat(ke," rebuffer=").concat(J)),function Y(he,Ce){var Le=0,fe=he;if(p)for(var Re=0;Re<p.length;Re++){var Ae=p[Re];Ae.bitrate<he.bitrate&&Ae.bitrate>Le&&Ce>Ae.bitrate&&(Le=Ae.bitrate,fe=Ae)}return fe}(se,we).qualityIndex;switch(R){case w_MANUAL:!function le(){M=[.4,.4,.4,.4]}();break;case w_RANDOM:!function Fe(he){M=function ae(he,Ce){for(var Le=[],fe=Math.sqrt(2/he),Re=0;Re<Ce;Re++)Le.push(Math.random()*fe);return M=Le}(he.length,4)}(He);break;default:!function $(he,Ce,Le,fe,Re,Ae,pe){M||(M=U[U.length-1]);var Ue=he.findWeightVector(Ce,Le,fe,Re,Ae,pe);null!==Ue&&-1!==Ue&&(M=Ue)}(pe,He,Ue,ke,J,we,Re)}for(var Q=null,Z=null,ne=null,ie=0;ie<He.length;ie++){var ee=He[ie],X=ee.state,ue=[X.throughput,X.latency,X.rebuffer,X.switch],ve=M.slice(),de=pe.getNextBufferWithBitrate(ee.bitrate,ke,we),xe=de<pe.getMinBuffer();xe&&D.debug("Buffer is low for bitrate=".concat(ee.bitrate," downloadTime=").concat(_e," currentBuffer=").concat(ke," nextBuffer=").concat(de)),(ee.bitrate>Ce-1e4||xe)&&ee.bitrate!==y&&(ve[0]=100);var Ke=T(ue,[at,0,0,0],ve);(null===Q||Ke<Q)&&(Q=Ke,Z=ee.qualityIndex,ne=ee)}var Ve=Math.abs(se.bitrate-ne.bitrate)/f;return C(se,He,[at,Le,J,Ve]),C(ne,He,[at,0,0,Ve]),Z},reset:function k(){O()}},function V(){D=Object(b.default)(F).getInstance().getLogger(L),O()}(),L}E.__dashjs_factory_name="LearningAbrController",S.default=t.default.getClassFactory(E)},"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js ***!
                  \**********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ./QoeInfo */
"./src/streaming/rules/abr/lolp/QoeInfo.js");function w(){var E,F,L,D,p;function g(){F=null,L=null,D=null,p=null}function M(x,P,T,N){var C=new b.default;return C.type=x,C.weights.bitrateReward=P||1,C.weights.bitrateSwitchPenalty=1,C.weights.rebufferPenalty=T||1e3,C.weights.latencyPenalty=[],C.weights.latencyPenalty.push({threshold:1.1,penalty:.05*N}),C.weights.latencyPenalty.push({threshold:1e8,penalty:.1*T}),C.weights.playbackSpeedPenalty=N||200,C}function R(x,P,T,N,C){C.bitrateWSum+=C.weights.bitrateReward*x,C.lastBitrate&&(C.bitrateSwitchWSum+=C.weights.bitrateSwitchPenalty*Math.abs(x-C.lastBitrate)),C.lastBitrate=x,C.rebufferWSum+=C.weights.rebufferPenalty*P;for(var B=0;B<C.weights.latencyPenalty.length;B++){var Y=C.weights.latencyPenalty[B];if(T<=Y.threshold){C.latencyWSum+=Y.penalty*T;break}}C.playbackSpeedWSum+=C.weights.playbackSpeedPenalty*Math.abs(1-N),C.totalQoe=C.bitrateWSum-C.bitrateSwitchWSum-C.rebufferWSum-C.latencyWSum-C.playbackSpeedWSum}return E={setupPerSegmentQoe:function y(x,P,T){F=M("segment",x,P,T),L=x,D=P,p=T},logSegmentMetrics:function U(x,P,T,N){F&&R(x,P,T,N,F)},getPerSegmentQoe:function V(){return F},calculateSingleUseQoe:function k(x,P,T,N){var C=null;return L&&D&&p&&(C=M("segment",L,D,p)),C?(R(x,P,T,N,C),C.totalQoe):0},reset:function O(){g()}},function f(){g()}(),E}w.__dashjs_factory_name="LoLpQoeEvaluator",S.default=t.default.getClassFactory(w)},"./src/streaming/rules/abr/lolp/LoLpRule.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpRule.js ***!
                  \**************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),b=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ./LearningAbrController */
"./src/streaming/rules/abr/lolp/LearningAbrController.js"),E=c(
/*! ./LoLpQoEEvaluator */
"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js"),F=c(
/*! ../../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),L=c(
/*! ../../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),D=c(
/*! ./LoLpWeightSelector */
"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js"),p=c(
/*! ../../../constants/Constants */
"./src/streaming/constants/Constants.js");function y(M){var V,k,O,x,U=(M=M||{}).dashMetrics,R=this.context;return k={getMaxIndex:function T(B){try{var Y=Object(F.default)(R).create(),q=B.getMediaInfo().type,le=B.getAbrController(),Fe=B.getStreamInfo(),$=le.getQualityFor(q,Fe.id),ae=B.getMediaInfo(),K=U.getCurrentBufferState(q),ge=B.getScheduleController(),oe=U.getCurrentBufferLevel(q,!0),he=Fe&&Fe.manifestInfo?Fe.manifestInfo.isDynamic:null,Ce=ge.getPlaybackController(),Le=Ce.getCurrentLiveLatency();if(!B.useLoLPABR()||q===p.default.AUDIO)return Y;Le||(Le=0);var fe=Ce.getPlaybackRate(),Ae=le.getThroughputHistory().getSafeAverageThroughput(q,he);if(V.debug("Throughput ".concat(Math.round(Ae)," kbps")),isNaN(Ae)||!K||le.getAbandonmentStateFor(Fe.id,q)===L.default.ABANDON_LOAD)return Y;for(var pe=ae.bitrateList,Ue=B.getRepresentationInfo().fragmentDuration,ke=pe[0].bandwidth/1e3,we=pe[pe.length-1].bandwidth/1e3,He=0;He<pe.length;He++){var at=pe[He].bandwidth/1e3;at>we?we=at:at<ke&&(ke=at)}var Ne=pe[$].bandwidth/1e3,Te=U.getCurrentHttpRequest(q,!0),W=(Te.tresponse.getTime()-Te.trequest.getTime())/1e3,se=W>Ue?W-Ue:0;x.setupPerSegmentQoe(Ue,we,ke),x.logSegmentMetrics(Ne,se,Le,fe);var _e=Object(D.default)(R).create({targetLatency:1.5,bufferMin:.3,segmentDuration:Ue,qoeEvaluator:x});return Y.quality=O.getNextQuality(ae,1e3*Ae,Le,oe,fe,$,_e),Y.reason={throughput:Ae,latency:Le},Y.priority=F.default.PRIORITY.STRONG,ge.setTimeToLoadDelay(0),Y.quality!==$&&console.log("[TgcLearningRule]["+q+"] requesting switch to index: ",Y.quality,"Average throughput",Math.round(Ae),"kbps"),Y}catch(J){throw J}},reset:function C(){!function N(){O.reset(),x.reset()}()}},function P(){V=Object(t.default)(R).getInstance().getLogger(k),O=Object(w.default)(R).create(),x=Object(E.default)(R).create()}(),k}y.__dashjs_factory_name="LoLPRule",S.default=b.default.getClassFactory(y)},"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js":
/*!************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpWeightSelector.js ***!
                  \************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(w){var p,y,M,E=w.targetLatency,F=w.bufferMin,L=w.segmentDuration,D=w.qoeEvaluator;function P(){return L}function N(C,B){var Y=P();return B>Y?C-Y:C+Y-B}return p={getMinBuffer:function x(){return F},getSegmentDuration:P,getNextBufferWithBitrate:function T(C,B,Y){return N(B,C*L/Y)},getNextBuffer:N,findWeightVector:function V(C,B,Y,q,le,Fe){var $=null,ae=null,K=null,ge=Math.abs(B-M);return C.forEach(function(oe){y.forEach(function(he){var Ce_latency=he[1],Ce_buffer=he[2],Le=oe.bitrate*L/le,fe=N(Y,Le),Re=Math.max(1e-5,Le-fe),ke=D.calculateSingleUseQoe(oe.bitrate,(0===Ce_buffer?10:1/Ce_buffer)*Re,(0===Ce_latency?10:1/Ce_latency)*oe.state.latency,Fe);(null===$||ke>$)&&function k(C,B,Y){return!(C>E+Y)&&B>=F}(B,fe,ge)&&($=ke,ae=he,K=oe.bitrate)})}),null===ae&&null===K&&(ae=-1),M=B,ae}},function U(){!function R(){y=function O(C,B){return function le(Fe,$,ae){if(ae===$)return Fe;for(var K=Fe.length,ge=0;ge<K;ge++)for(var oe=Fe.shift(),he=0;he<C.length;he++)Fe.push(oe.concat(C[he]));return le(Fe,$,ae+1)}(C.map(function(le){return[le]}),B,1)}([.2,.4,.6,.8,1],4),M=0}()}(),p}b.__dashjs_factory_name="LoLpWeightSelector",S.default=t.default.getClassFactory(b)},"./src/streaming/rules/abr/lolp/QoeInfo.js":
/*!*************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/QoeInfo.js ***!
                  \*************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0})},"./src/streaming/text/EmbeddedTextHtmlRender.js":
/*!******************************************************!*\
                  !*** ./src/streaming/text/EmbeddedTextHtmlRender.js ***!
                  \******************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var w=0;function F(M){for(var U="",R=0;R<M.length;++R)U+=M[R].uchar;return U.length-U.replace(/^\s+/,"").length}function L(M){return"left: "+3.125*M.x+"%; top: "+6.66*M.y1+"%; width: "+(100-3.125*M.x)+"%; height: "+6.66*Math.max(M.y2-1-M.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function D(M){return"red"===M?"rgb(255, 0, 0)":"green"===M?"rgb(0, 255, 0)":"blue"===M?"rgb(0, 0, 255)":"cyan"===M?"rgb(0, 255, 255)":"magenta"===M?"rgb(255, 0, 255)":"yellow"===M?"rgb(255, 255, 0)":"white"===M?"rgb(255, 255, 255)":"black"===M?"rgb(0, 0, 0)":M}function p(M,U){var R=M.videoHeight/15;return U?"font-size: "+R+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(U.foreground?D(U.foreground):"rgb(255, 255, 255)")+"; font-style: "+(U.italics?"italic":"normal")+"; text-decoration: "+(U.underline?"underline":"none")+"; white-space: pre; background-color: "+(U.background?D(U.background):"transparent")+";":"font-size: "+R+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function f(M){return M.replace(/^\s+/g,"")}function g(M){return M.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function y(M,U,R,V){var q,le,k=null,x=!1,P=-1,T={start:U,end:R,spans:[]},N="style_cea608_white_black",C={},B={},Y=[];for(q=0;q<15;++q){var Fe=V.rows[q],$="",ae=null;if(!1===Fe.isEmpty()){var K=F(Fe.chars);null===k&&(k={x:K,y1:q,y2:q+1,p:[]}),K!==P&&x&&(k.p.push(T),T={start:U,end:R,spans:[]},k.y2=q,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===C.hasOwnProperty(k.name)?(Y.push(k),C[k.name]=k):C[k.name].p.contat(k.p),k={x:K,y1:q,y2:q+1,p:[]});for(var ge=0;ge<Fe.chars.length;++ge){var oe=Fe.chars[ge],he=oe.penState;if(null===ae||!he.equals(ae)){$.trim().length>0&&(T.spans.push({name:N,line:$,row:q}),$="");var Ce="style_cea608_"+he.foreground+"_"+he.background;he.underline&&(Ce+="_underline"),he.italics&&(Ce+="_italics"),B.hasOwnProperty(Ce)||(B[Ce]=JSON.parse(JSON.stringify(he))),ae=he,N=Ce}$+=oe.uchar}$.trim().length>0&&T.spans.push({name:N,line:$,row:q}),x=!0,P=K}else x=!1,P=-1,k&&(k.p.push(T),T={start:U,end:R,spans:[]},k.y2=q,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===C.hasOwnProperty(k.name)?(Y.push(k),C[k.name]=k):C[k.name].p.contat(k.p),k=null)}k&&(k.p.push(T),k.y2=q+1,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===C.hasOwnProperty(k.name)?(Y.push(k),C[k.name]=k):C[k.name].p.contat(k.p),k=null);var Le=[];for(q=0;q<Y.length;++q){var fe=Y[q],Re="sub_cea608_"+w++,Ae=document.createElement("div");Ae.id=Re;var pe=L(fe);Ae.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+pe;var Ue=document.createElement("div");Ue.className="paragraph bodyStyle",Ue.style.cssText=p(M);var ke=document.createElement("div");ke.className="cueUniWrapper",ke.style.cssText="unicode-bidi: normal; direction: ltr;";for(var we=0;we<fe.p.length;++we){var He=fe.p[we],at=0;for(le=0;le<He.spans.length;++le){var Je=He.spans[le];if(Je.line.length>0){if(0!==le&&at!=Je.row){var Ne=document.createElement("br");Ne.className="lineBreak",ke.appendChild(Ne)}var Te=!1;at===Je.row&&(Te=!0),at=Je.row;var W=B[Je.name],se=document.createElement("span");se.className="spanPadding "+Je.name+" customSpanColor",se.style.cssText=p(M,W),se.textContent=0!==le&&Te?le===He.spans.length-1?g(Je.line):Je.line:He.spans.length>1&&le<He.spans.length-1&&Je.row===He.spans[le+1].row?f(Je.line):Je.line.trim(),ke.appendChild(se)}}}Ue.appendChild(ke),Ae.appendChild(Ue);var _e={bodyStyle:["%",90]};for(var J in B)B.hasOwnProperty(J)&&(_e[J]=["%",90]);Le.push({type:"html",start:U,end:R,cueHTMLElement:Ae,cueID:Re,cellResolution:[32,15],isFromCEA608:!0,fontSize:_e,lineHeight:{},linePadding:{}})}return Le}}}b.__dashjs_factory_name="EmbeddedTextHtmlRender",S.default=t.default.getSingletonFactory(b)},"./src/streaming/text/NotFragmentedTextBufferController.js":
/*!*****************************************************************!*\
                  !*** ./src/streaming/text/NotFragmentedTextBufferController.js ***!
                  \*****************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),F=c(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),L=c(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),D=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),p="NotFragmentedTextBufferController";function f(g){g=g||{};var O,x,P,T,N,C,y=this.context,M=Object(t.default)(y).getInstance(),U=g.textController,R=g.errHandler,V=g.streamInfo,k=g.type;function K(Z){T=Z}function Le(Z){x!==Z&&(x=Z)&&function Q(Z,ne){M.trigger(Z,ne||{},{streamId:V.id,mediaType:k})}(b.default.BUFFERING_COMPLETED)}function Ae(Z){!Z.chunk.bytes||x||(C.save(Z.chunk),N.append(Z.chunk),Le(!0))}return O={initialize:function q(Z){K(Z)},getStreamId:function Fe(){return V.id},getType:function $(){return k},getBufferControllerType:function Y(){return p},createBufferSink:function le(Z){return new Promise(function(ne,ie){try{(N=Object(F.default)(y).create({mediaSource:T,textController:U,eventBus:M})).initializeForFirstUse(V,Z),P||(N.getBuffer()&&"function"==typeof N.getBuffer().initialize&&N.getBuffer().initialize(),P=!0),ne(N)}catch(ee){R.error(new L.default(D.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,D.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+k)),ie(ee)}})},getBuffer:function ae(){return N},getBufferLevel:function he(){return 0},getRangeAt:function pe(){return null},pruneBuffer:function at(){},hasBufferAtTime:function Ue(){return!0},getAllRangesWithSafetyFactor:function ke(){return[]},getContinuousBufferTimeForTargetTime:function we(){return Number.POSITIVE_INFINITY},setMediaSource:K,getMediaSource:function ge(){return T},appendInitSegmentFromCache:function Re(Z){return null!==C.extract(V.id,Z)},getIsBufferingCompleted:function Ce(){return x},setIsBufferingCompleted:Le,getIsPruningInProgress:function oe(){return!1},reset:function fe(Z){M.off(b.default.INIT_FRAGMENT_LOADED,Ae,O),!Z&&N&&(N.abort(),N.reset(),N=null)},clearBuffers:function He(){return Promise.resolve()},prepareForPlaybackSeek:function Ne(){return Promise.resolve()},prepareForReplacementTrackSwitch:function Te(){return x=!1,Promise.resolve()},setSeekTarget:function se(){},updateAppendWindow:function W(){return Promise.resolve()},pruneAllSafely:function J(){return Promise.resolve()},updateBufferTimestampOffset:function Je(){return Promise.resolve()},segmentRequestingCompleted:function _e(){}},function B(){P=!1,T=null,x=!1,C=Object(E.default)(y).getInstance(),M.on(b.default.INIT_FRAGMENT_LOADED,Ae,O)}(),O}f.__dashjs_factory_name=p,S.default=w.default.getClassFactory(f)},"./src/streaming/text/TextController.js":
/*!**********************************************!*\
                  !*** ./src/streaming/text/TextController.js ***!
                  \**********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=c(
/*! ./TextSourceBuffer */
"./src/streaming/text/TextSourceBuffer.js"),E=c(
/*! ./TextTracks */
"./src/streaming/text/TextTracks.js"),F=c(
/*! ../utils/VTTParser */
"./src/streaming/utils/VTTParser.js"),L=c(
/*! ../utils/VttCustomRenderingParser */
"./src/streaming/utils/VttCustomRenderingParser.js"),D=c(
/*! ../utils/TTMLParser */
"./src/streaming/utils/TTMLParser.js"),p=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),f=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),g=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),y=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function M(U){var N,C,B,Y,q,le,Fe,$,ae,K,ge,oe,R=this.context,V=U.adapter,k=U.errHandler,O=U.manifestModel,x=U.mediaController,P=U.videoModel,T=U.settings;function ke(ne){var ie=ne.tracks,ee=ne.index,X=ne.streamId;if(!1===T.get().streaming.text.defaultEnabled&&!Je()||oe)Te(X,-1);else{var ve=x.getCurrentTrackFor(t.default.TEXT,X);if(ve){var de={lang:ve.lang,role:ve.roles[0],index:ve.index,codec:ve.codec,accessibility:ve.accessibility[0]};ie.some(function(xe,Ke){if(x.matchSettings(de,xe))return Te(X,Ke),ee=Ke,!0})}ae=!1}C[X].lastEnabledIndex=ee,$.trigger(g.default.TEXT_TRACKS_ADDED,{enabled:Je(),index:ee,tracks:ie,streamId:X}),ge=!0}function we(ne){try{var ie=ne.streamId;if(!Y[ie]||isNaN(ne.time))return;Y[ie].manualCueProcessing(ne.time)}catch{}}function He(ne){try{var ie=ne.streamId;if(!Y[ie])return;Y[ie].disableManualTracks()}catch{}}function Je(){var ne=!0;return ae&&!K&&(ne=!1),ne}function Te(ne,ie){(ae=-1===ie)&&x&&x.saveTextSettingsDisabled();var ee=_e(ne);if(ee!==ie&&Y[ne]){Y[ne].disableManualTracks(),Y[ne].setModeForTrackIdx(ee,t.default.TEXT_HIDDEN),Y[ne].setCurrentTrackIdx(ie),Y[ne].setModeForTrackIdx(ie,t.default.TEXT_SHOWING);var X=Y[ne].getCurrentTrackInfo();X&&X.isFragmented&&!X.isEmbedded?function W(ne,ie,ee){if(B[ne])for(var ue=B[ne].getConfig().fragmentedTracks,ve=0;ve<ue.length;ve++){var de=ue[ve];if(ie.lang===de.lang&&(de.id?ie.id===de.id:ie.index===de.index)){var xe=x.getCurrentTrackFor(t.default.TEXT,ne);(de.id?xe.id!==de.id:xe.index!==de.index)?(Y[ne].deleteCuesFromTrackIdx(ee),B[ne].setCurrentFragmentedTrackIdx(ve)):-1===ee&&$.trigger(f.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:ne,mediaType:t.default.TEXT})}}}(ne,X,ee):X&&!X.isFragmented&&function se(ne,ie){$.trigger(f.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:ie},{streamId:ne,mediaType:t.default.TEXT})}(ne,X),x.setTrack(X)}}function _e(ne){return Y[ne].getCurrentTrackIdx()}function Q(){B={},Y={},C={},ae=!0,ge=!1,oe=!1}return N={deactivateStream:function J(ne){if(ne){var ie=ne.id;B[ie]&&B[ie].resetMediaInfos(),Y[ie]&&Y[ie].deleteAllTextTracks()}},initialize:function Ce(){$.on(f.default.TEXT_TRACKS_QUEUE_INITIALIZED,ke,N),T.get().streaming.text.webvtt.customRenderingEnabled&&($.on(f.default.PLAYBACK_TIME_UPDATED,we,N),$.on(f.default.PLAYBACK_SEEKING,He,N))},initializeForStream:function Le(ne){var ie=ne.id,ee=Object(E.default)(R).create({videoModel:P,settings:T,streamInfo:ne});ee.initialize(),Y[ie]=ee;var X=Object(w.default)(R).create({errHandler:k,adapter:V,manifestModel:O,mediaController:x,videoModel:P,textTracks:ee,vttParser:q,vttCustomRenderingParser:le,ttmlParser:Fe,streamInfo:ne,settings:T});X.initialize(),B[ie]=X,C[ie]={},C[ie].lastEnabledIndex=-1},createTracks:function fe(ne){var ie=ne.id;Y[ie]&&Y[ie].createTracks()},getTextSourceBuffer:function Ae(ne){var ie=ne.id;if(B&&B[ie])return B[ie]},getAllTracksAreDisabled:function pe(){return ae},addEmbeddedTrack:function Ue(ne,ie){var ee=ne.id;B[ee]&&B[ee].addEmbeddedTrack(ie)},enableText:function at(ne,ie){Object(y.checkParameterType)(ie,"boolean"),Je()!==ie&&(ie&&Te(ne,C[ne].lastEnabledIndex),ie||(C[ne].lastEnabledIndex=_e(ne),ge?Te(ne,-1):oe=!0))},isTextEnabled:Je,setTextTrack:Te,getCurrentTrackIdx:_e,enableForcedTextStreaming:function Ne(ne){Object(y.checkParameterType)(ne,"boolean"),K=ne},addMediaInfosToBuffer:function Re(ne,ie,ee){var ue=ne.id;B[ue]&&B[ue].addMediaInfos(ie,ee,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function Z(){Q(),$.off(f.default.TEXT_TRACKS_QUEUE_INITIALIZED,ke,N),T.get().streaming.text.webvtt.customRenderingEnabled&&($.off(f.default.PLAYBACK_TIME_UPDATED,we,N),$.off(f.default.PLAYBACK_SEEKING,He,N)),Object.keys(B).forEach(function(ne){B[ne].resetEmbedded(),B[ne].reset()})}},function he(){K=!1,ge=!1,oe=!1,q=Object(F.default)(R).getInstance(),le=Object(L.default)(R).getInstance(),Fe=Object(D.default)(R).getInstance(),$=Object(p.default)(R).getInstance(),Q()}(),N}M.__dashjs_factory_name="TextController",S.default=b.default.getClassFactory(M)},"./src/streaming/text/TextSourceBuffer.js":
/*!************************************************!*\
                  !*** ./src/streaming/text/TextSourceBuffer.js ***!
                  \************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),w=c(
/*! ../vo/TextTrackInfo */
"./src/streaming/vo/TextTrackInfo.js"),E=c(
/*! ../utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),F=c(
/*! ../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js"),L=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),D=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),p=c(
/*! ./EmbeddedTextHtmlRender */
"./src/streaming/text/EmbeddedTextHtmlRender.js"),f=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),g=c.n(f),y=c(
/*! ../../../externals/cea608-parser */
"./externals/cea608-parser.js"),M=c.n(y),U=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),R=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),V=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js");function O(x){var oe,he,Ce,Le,fe,Re,Ae,pe,Ue,ke,we,He,at,Je,Ne,Te,P=x.errHandler,T=x.manifestModel,N=x.mediaController,C=x.videoModel,B=x.textTracks,Y=x.vttParser,q=x.vttCustomRenderingParser,le=x.ttmlParser,Fe=x.streamInfo,$=x.settings,ae=this.context,K=Object(U.default)(ae).getInstance(),ge=!1;function J(){(function _e(){Re=null,pe=NaN,Ue=[],ke=null,Ae=!1})(),fe=[],Le=null}function ne(De){var Pe=new w.default;for(var Ze in De)Pe[Ze]=De[Ze];Pe.labels=De.labels,Pe.defaultTrack=function Sn(De){var Pe=!1;return He.length>1&&De.isEmbedded?Pe=De.id&&De.id===t.default.CC1:1===He.length?De.id&&"string"==typeof De.id&&"CC"===De.id.substring(0,2)&&(Pe=!0):0===He.length&&(Pe=De.index===fe[0].index),Pe}(De),Pe.isFragmented=De.isFragmented,Pe.isEmbedded=!!De.isEmbedded,Pe.isTTML=function Ve(De){return De.codec&&De.codec.search(t.default.STPP)>=0||De.mimeType&&De.mimeType.search(t.default.TTML)>=0}(De),Pe.kind=function lt(De,Pe){var Ye=De.roles&&De.roles.length>0?Pe[De.roles[0]]:Pe.caption;return Ye===Pe.caption||Ye===Pe.subtitle?Ye:Pe.caption}(De,{subtitle:"subtitles",caption:"captions"}),B.addTextTrack(Pe)}function X(De){var Pe=De.chunk;Pe.mediaInfo.embeddedCaptions&&dt(Pe.bytes,Pe)}function Ke(De){we=De}function dt(De,Pe){var Ye=Pe.mediaInfo,Ze=Ye.type,st=Ye.codec||Ye.mimeType;st?-1!==Ye.codec.indexOf("application/mp4")?function it(De,Pe,Ye){var Ze;if("InitializationSegment"===Pe.segmentType)Ae=!0,pe=Ce.getMediaTimescaleFromMoov(De);else{if(!Ae)return;(Ze=Ce.getSamplesInfo(De).sampleList).length>0&&(ke=Ze[0].cts-Pe.start*pe),Ye.search(t.default.STPP)>=0?function bt(De,Pe,Ye){var Ze,ct;for(Le=null!==Le?Le:nn(Ye),Ze=0;Ze<Pe.length;Ze++){var st=Pe[Ze],ut=st.cts,kt=Wt(),$t=kt+ut/pe;oe.buffered.add($t,$t+st.duration/pe);var Jt=new DataView(De,st.offset,st.subSizes[0]),an=g.a.Utils.dataViewToString(Jt,t.default.UTF8),fn=[],Mn=st.offset+st.subSizes[0];for(ct=1;ct<st.subSizes.length;ct++){var Nn=new Uint8Array(De,Mn,st.subSizes[ct]),Wn=String.fromCharCode.apply(null,Nn);fn.push(Wn),Mn+=st.subSizes[ct]}try{var Gn=T.getValue(),_n=Le.parse(an,Gn.ttmlTimeIsRelative?ut/pe:0,ut/pe,(ut+st.duration)/pe,fn);B.addCaptions(we,kt,_n)}catch(pn){Re.removeExecutedRequestsBeforeTime(),this.remove(),he.error("TTML parser error: "+pn.message)}}}(De,Ze,Ye):function Ut(De,Pe){var Ye,Ze,ct,st=[];for(Ye=0;Ye<Pe.length;Ye++){var ut=Pe[Ye];ut.cts-=ke;var $t=Wt()+ut.cts/pe;oe.buffered.add($t,$t+ut.duration/pe);var Jt=De.slice(ut.offset,ut.offset+ut.size),an=g.a.parseBuffer(Jt);for(Ze=0;Ze<an.boxes.length;Ze++){var fn=an.boxes[Ze];if(he.debug("VTT box1: "+fn.type),"vtte"!==fn.type&&"vttc"===fn.type)for(he.debug("VTT vttc boxes.length = "+fn.boxes.length),ct=0;ct<fn.boxes.length;ct++){var Mn=fn.boxes[ct];if(he.debug("VTT box2: "+Mn.type),"payl"===Mn.type){var Nn=Mn.cue_text;he.debug("VTT cue_text = "+Nn);var Wn=ut.cts/pe,Gn=(ut.cts+ut.duration)/pe;st.push({start:Wn,end:Gn,data:Nn,styles:{}}),he.debug("VTT "+Wn+"-"+Gn+" : "+Nn)}}}}st.length>0&&B.addCaptions(we,0,st)}(De,Ze)}}(De,Pe,st):Ze===t.default.VIDEO?function Ht(De,Pe){var Ye,Ze;if(Pe.segmentType===b.HTTPRequest.INIT_SEGMENT_TYPE)0===at&&(at=Ce.getMediaTimescaleFromMoov(De));else if(Pe.segmentType===b.HTTPRequest.MEDIA_SEGMENT_TYPE){if(0===at)return void he.warn("CEA-608: No timescale for embeddedTextTrack yet");var ct=(Ze=Ce.getSamplesInfo(De)).lastSequenceNumber;if(!Ne[0]&&!Ne[1]&&function en(){for(var De,Pe=0;Pe<He.length;Pe++){if(-1===(De=B.getTrackIdxForId(He[Pe].id)))return void he.warn("CEA-608: data before track is ready.");var Ye=ln(De);Ne[Pe]=new M.a.Cea608Parser(Pe+1,{newCue:Ye},null)}}(),at){if(null!==Je&&ct!==Je+Ze.numSequences)for(Ye=0;Ye<Ne.length;Ye++)Ne[Ye]&&Ne[Ye].reset();for(var st=function cn(De,Pe){if(0===Pe.length)return null;for(var Ye={splits:[],fields:[[],[]]},Ze=new DataView(De),ct=0;ct<Pe.length;ct++)for(var st=Pe[ct],ut=M.a.findCea608Nalus(Ze,st.offset,st.size),kt=null,$t=0,Lt=0;Lt<ut.length;Lt++)for(var Jt=M.a.extractCea608DataFromRange(Ze,ut[Lt]),an=0;an<2;an++)if(Jt[an].length>0){st.cts!==kt?$t=0:$t+=1;var fn=Wt();Ye.fields[an].push([st.cts+fn*at,Jt[an],$t]),kt=st.cts}return Ye.fields.forEach(function(Nn){Nn.sort(function(Wn,Gn){return Wn[0]===Gn[0]?Wn[2]-Gn[2]:Wn[0]-Gn[0]})}),Ye}(De,Ze.sampleList),ut=0;ut<Ne.length;ut++){var kt=st.fields[ut],$t=Ne[ut];if($t)for(Ye=0;Ye<kt.length;Ye++)$t.addData(kt[Ye][0]/at,kt[Ye][1])}Je=ct}}}(De,Pe):function wt(De,Pe,Ye){var Ze,ct,st=new DataView(De,0,De.byteLength);ct=g.a.Utils.dataViewToString(st,t.default.UTF8);try{Ze=nn(Ye).parse(ct,0),B.addCaptions(B.getCurrentTrackIdx(),0,Ze),oe.buffered&&oe.buffered.add(Pe.start,Pe.end)}catch(ut){P.error(new V.default(k.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,k.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+ut.message,ct))}}(De,Pe,st):he.error("No text type defined")}function ln(De){return function Pe(Ye,Ze,ct){var st;(st=C.getTTMLRenderingDiv()?Te.createHTMLCaptionsFromScreen(C.getElement(),Ye,Ze,ct):[{start:Ye,end:Ze,data:ct.getDisplayText(),styles:{}}])&&B.addCaptions(De,0,st)}}function Wt(){return isNaN(oe.timestampOffset)?0:oe.timestampOffset}function nn(De){var Pe;return De.search(t.default.VTT)>=0?Pe=$.get().streaming.text.webvtt.customRenderingEnabled&&q?q:Y:(De.search(t.default.TTML)>=0||De.search(t.default.STPP)>=0)&&(Pe=le),Pe}function mt(De){He.forEach(function(Pe){var Ye=B.getTrackIdxForId(Pe.id);Ye>=0&&B.deleteCuesFromTrackIdx(Ye,De.from,De.to)})}return oe={initialize:function Q(){ge||function ue(){He=[],we=null,at=0,Ne=[],Je=null,ge=!0,Te=Object(p.default)(ae).getInstance(),K.on(R.default.VIDEO_CHUNK_RECEIVED,X,oe),K.on(R.default.BUFFER_CLEARED,mt,oe)}()},addMediaInfos:function Z(De,Pe,Ye){if(fe=fe.concat(Pe),De===t.default.TEXT&&Pe[0].isFragmented&&!Pe[0].isEmbedded){Re=Ye,oe.buffered=Object(F.default)(ae).create(),Ue=N.getTracksFor(t.default.TEXT,Fe.id).filter(function(ut){return ut.isFragmented});for(var Ze=N.getCurrentTrackFor(t.default.TEXT,Fe.id),ct=0;ct<Ue.length;ct++)if(Ue[ct]===Ze){Ke(ct);break}}for(var st=0;st<Pe.length;st++)ne(Pe[st])},resetMediaInfos:function Qe(){fe=[]},getStreamId:function se(){return Fe.id},append:dt,abort:function ie(){},addEmbeddedTrack:function de(De){if(ge&&De)if(De.id===t.default.CC1||De.id===t.default.CC3){for(var Pe=0;Pe<He.length;Pe++)if(He[Pe].id===De.id)return;He.push(De)}else he.warn("Embedded track "+De.id+" not supported!")},resetEmbedded:function ve(){K.off(R.default.VIDEO_CHUNK_RECEIVED,X,oe),K.off(R.default.BUFFER_CLEARED,mt,oe),B&&B.deleteAllTextTracks(),ge=!1,He=[],Ne=[null,null],Je=null},getConfig:function xe(){return{fragmentModel:Re,fragmentedTracks:Ue,videoModel:C}},setCurrentFragmentedTrackIdx:Ke,remove:function Dt(De,Pe){void 0===De&&De===Pe&&(De=oe.buffered.start(0),Pe=oe.buffered.end(oe.buffered.length-1)),oe.buffered.remove(De,Pe),B.deleteCuesFromTrackIdx(we,De,Pe)},reset:function ee(){J(),fe=[],Ce=null}},function W(){he=Object(D.default)(ae).getInstance().getLogger(oe),Ce=Object(E.default)(ae).getInstance(),J()}(),oe}O.__dashjs_factory_name="TextSourceBuffer",S.default=L.default.getClassFactory(O)},"./src/streaming/text/TextTracks.js":
/*!******************************************!*\
                  !*** ./src/streaming/text/TextTracks.js ***!
                  \******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),D=c(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js");function f(U,R){var V=typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(!V){if(Array.isArray(U)||(V=function g(U,R){if(U){if("string"==typeof U)return y(U,R);var V=Object.prototype.toString.call(U).slice(8,-1);if("Object"===V&&U.constructor&&(V=U.constructor.name),"Map"===V||"Set"===V)return Array.from(U);if("Arguments"===V||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return y(U,R)}}(U))||R&&U&&"number"==typeof U.length){V&&(U=V);var k=0,O=function(){};return{s:O,n:function(){return k>=U.length?{done:!0}:{done:!1,value:U[k++]}},e:function(C){throw C},f:O}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var T,x=!0,P=!1;return{s:function(){V=V.call(U)},n:function(){var C=V.next();return x=C.done,C},e:function(C){P=!0,T=C},f:function(){try{!x&&null!=V.return&&V.return()}finally{if(P)throw T}}}}function y(U,R){(null==R||R>U.length)&&(R=U.length);for(var V=0,k=new Array(R);V<R;V++)k[V]=U[V];return k}function M(U){var P,T,N,C,B,Y,q,le,Fe,$,ae,K,ge,oe,he,Ce,Le,fe,R=this.context,V=Object(b.default)(R).getInstance(),k=U.videoModel,O=U.streamInfo,x=U.settings;function Ue(wt){return k.addTextTrack(wt.kind,void 0!==wt.id?wt.id:wt.lang,wt.lang,wt.isTTML,wt.isEmbedded)}function He(wt,Ht,en,ln,cn,Wt){var Dt=0,mt=0;wt/Ht>en/ln?Dt=(mt=Ht)/ln*en:mt=(Dt=wt)/en*ln;var Qe,De,Pe=0,Ye=0;return Dt/mt>cn?(Ye=mt,Pe=mt*cn):(Pe=Dt,Ye=Dt/cn),Qe=(wt-Pe)/2,De=(Ht-Ye)/2,Wt?{x:Qe+.1*Pe,y:De+.1*Ye,w:.8*Pe,h:.8*Ye}:{x:Qe,y:De,w:Pe,h:Ye}}function at(wt,Ht){var en=k.getClientWidth(),ln=k.getClientHeight(),cn=k.getVideoWidth(),Wt=k.getVideoHeight(),Sn=k.getVideoRelativeOffsetTop(),nn=k.getVideoRelativeOffsetLeft();if(0!==cn&&0!==Wt){var Dt=cn/Wt,mt=!1;wt.isFromCEA608&&(Dt=3.5/3,mt=!0);var Qe=He.call(this,en,ln,cn,Wt,Dt,mt),De=Qe.w,Pe=Qe.h,Ye=Qe.x,Ze=Qe.y;if(De!=Fe||Pe!=$||Ye!=q||Ze!=le||Ht){if(q=Ye+nn,le=Ze+Sn,Fe=De,$=Pe,ae){var ct=ae.style;ct&&(ct.left=q+"px",ct.top=le+"px",ct.width=Fe+"px",ct.height=$+"px",ct.zIndex=oe&&document[oe]||he?Le:null,V.trigger(E.default.CAPTION_CONTAINER_RESIZE))}var st=wt.activeCues;if(st)for(var ut=st.length,kt=0;kt<ut;++kt){var $t=st[kt];$t.scaleCue($t)}}}}function Je(wt){var ln,cn,Wt,Sn,nn;if(wt.cellResolution){var Dt=[Fe/wt.cellResolution[0],$/wt.cellResolution[1]];if(wt.linePadding)for(ln in wt.linePadding)if(wt.linePadding.hasOwnProperty(ln)){cn=(wt.linePadding[ln]*Dt[0]).toString();for(var Qe=document.getElementsByClassName("spanPadding"),De=0;De<Qe.length;De++)Qe[De].style.cssText=Qe[De].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+cn),Qe[De].style.cssText=Qe[De].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+cn)}if(wt.fontSize){for(ln in wt.fontSize)if(wt.fontSize.hasOwnProperty(ln)){"%"===wt.fontSize[ln][0]?Wt=wt.fontSize[ln][1]/100:"c"===wt.fontSize[ln][0]&&(Wt=wt.fontSize[ln][1]),cn=(Wt*Dt[1]).toString(),nn="defaultFontSize"!==ln?document.getElementsByClassName(ln):document.getElementsByClassName("paragraph");for(var Pe=0;Pe<nn.length;Pe++)nn[Pe].style.cssText=nn[Pe].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+cn)}if(wt.lineHeight)for(ln in wt.lineHeight)if(wt.lineHeight.hasOwnProperty(ln)){"%"===wt.lineHeight[ln][0]?Sn=wt.lineHeight[ln][1]/100:"c"===wt.fontSize[ln][0]&&(Sn=wt.lineHeight[ln][1]),cn=(Sn*Dt[1]).toString(),nn=document.getElementsByClassName(ln);for(var Ye=0;Ye<nn.length;Ye++)nn[Ye].style.cssText=nn[Ye].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+cn)}}}if(wt.isd){var Ze=document.getElementById(wt.cueID);Ze&&ae.removeChild(Ze),Ne(wt)}}function Ne(wt){if(ae){var Ht=document.createElement("div");ae.appendChild(Ht),Ce=Object(D.renderHTML)(wt.isd,Ht,function(en){var ln=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,cn=/^#(.*)$/;if(ln.test(en)){var Wt=ln.exec(en),Sn=parseInt(Wt[4],10)-1;return"data:image/png;base64,"+btoa(wt.images[Sn])}if(cn.test(en)){var mt=cn.exec(en);return"data:image/png;base64,"+wt.embeddedImages[mt[1]]}return null},ae.clientHeight,ae.clientWidth,!1,function(en){T.info("renderCaption :",en)},Ce,!0),Ht.id=wt.cueID,V.trigger(E.default.CAPTION_RENDERED,{captionDiv:Ht,currentTrackIdx:Y})}}function Te(wt,Ht,en){var ln=Z(wt);if(ln&&Array.isArray(en)&&0!==en.length)for(var cn=0;cn<en.length;cn++){var Wt=void 0,Sn=en[cn];ln.cellResolution=Sn.cellResolution,ln.isFromCEA608=Sn.isFromCEA608,!isNaN(Sn.start)&&!isNaN(Sn.end)&&(Wt="html"===Sn.type&&ae?W(Sn,Ht,ln):Sn.data?se(Sn,Ht,ln):null);try{Wt?ue(ln,Wt)||(x.get().streaming.text.webvtt.customRenderingEnabled?(ln.manualCueList||(ln.manualCueList=[]),ln.manualCueList.push(Wt)):ln.addCue(Wt)):T.error("impossible to display subtitles.")}catch(nn){throw de(ln),ln.addCue(Wt),nn}}}function W(wt,Ht,en){var ln=this,cn=new N(wt.start+Ht,wt.end+Ht,"");return cn.cueHTMLElement=wt.cueHTMLElement,cn.isd=wt.isd,cn.images=wt.images,cn.embeddedImages=wt.embeddedImages,cn.cueID=wt.cueID,cn.scaleCue=Je.bind(ln),cn.cellResolution=wt.cellResolution,cn.lineHeight=wt.lineHeight,cn.linePadding=wt.linePadding,cn.fontSize=wt.fontSize,ae.style.left=q+"px",ae.style.top=le+"px",ae.style.width=Fe+"px",ae.style.height=$+"px",cn.onenter=function(){en.mode===t.default.TEXT_SHOWING&&(this.isd?(Ne(this),T.debug("Cue enter id:"+this.cueID)):(ae.appendChild(this.cueHTMLElement),Je.call(ln,this),V.trigger(E.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:Y})))},cn.onexit=function(){if(ae)for(var Wt=ae.childNodes,Sn=0;Sn<Wt.length;++Sn)Wt[Sn].id===this.cueID&&(T.debug("Cue exit id:"+Wt[Sn].id),ae.removeChild(Wt[Sn]),--Sn)},cn}function se(wt,Ht,en){var ln=new N(wt.start-Ht,wt.end-Ht,wt.data);if(ln.cueID="".concat(ln.startTime,"_").concat(ln.endTime),ln.isActive=!1,wt.styles)try{void 0!==wt.styles.align&&"align"in ln&&(ln.align=wt.styles.align),void 0!==wt.styles.line&&"line"in ln&&(ln.line=wt.styles.line),void 0!==wt.styles.position&&"position"in ln&&(ln.position=wt.styles.position),void 0!==wt.styles.size&&"size"in ln&&(ln.size=wt.styles.size)}catch(cn){T.error(cn)}return ln.onenter=function(){en.mode===t.default.TEXT_SHOWING&&V.trigger(E.default.CAPTION_RENDERED,{currentTrackIdx:Y})},ln}function Q(){var ln,Ht=[],en=f(k.getTextTracks());try{for(en.s();!(ln=en.n()).done;){var cn=ln.value;cn.manualMode===t.default.TEXT_SHOWING&&Ht.push(cn)}}catch(Wt){en.e(Wt)}finally{en.f()}return Ht}function Z(wt){return wt>=0&&C[wt]?k.getTextTrack(C[wt].kind,C[wt].id,C[wt].lang,C[wt].isTTML,C[wt].isEmbedded):null}function ee(wt){var Ht=this;if(wt!==Y){var en=Z(Y=wt);X.call(this,en),ge&&(clearInterval(ge),ge=null),en&&"html"===en.renderingType&&(at.call(this,en,!0),window.ResizeObserver?(fe=new window.ResizeObserver(function(){at.call(Ht,en,!0)})).observe(k.getElement()):ge=setInterval(at.bind(this,en),500))}}function X(wt){it.call(this),wt&&"html"===wt.renderingType?lt.call(this):dt.call(this)}function ue(wt,Ht){if(!wt.cues)return!1;for(var en=0;en<wt.cues.length;en++)if(wt.cues[en].startTime===Ht.startTime&&wt.cues[en].endTime===Ht.endTime)return!0;return!1}function ve(wt,Ht,en){var ln=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(Ht)||(ln?wt.startTime:wt.endTime)>=Ht)&&(isNaN(en)||(ln?wt.endTime:wt.startTime)<=en)}function de(wt,Ht,en){var ln=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(wt.cues)for(var cn=wt.cues,Sn=cn.length-1;Sn>=0;Sn--)ve(cn[Sn],Ht,en,ln)&&(cn[Sn].onexit&&cn[Sn].onexit(),wt.removeCue(cn[Sn]))}function lt(){var wt=document.getElementById("native-cue-style");if(!wt){(wt=document.createElement("style")).id="native-cue-style",document.head.appendChild(wt);var Ht=wt.sheet,en=k.getElement();try{en&&Ht.insertRule(en.id?"#"+en.id+"::cue {background: transparent}":0!==en.classList.length?"."+en.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(ln){T.info(""+ln.message)}}}function dt(){var wt=document.getElementById("native-cue-style");wt&&document.head.removeChild(wt)}function it(){if(ae)for(;ae.firstChild;)ae.removeChild(ae.firstChild)}return P={initialize:function Ae(){typeof window>"u"||typeof navigator>"u"||(N=window.VTTCue||window.TextTrackCue,C=[],B=[],Y=-1,q=0,le=0,Fe=0,$=0,ae=null,K=null,ge=null,he=!1,Le=2147483647,Ce=null,void 0!==document.fullscreenElement?oe="fullscreenElement":void 0!==document.webkitIsFullScreen?oe="webkitIsFullScreen":document.msFullscreenElement?oe="msFullscreenElement":document.mozFullScreen&&(oe="mozFullScreen"))},getStreamId:function pe(){return O.id},addTextTrack:function ke(wt){C.push(wt)},addCaptions:Te,createTracks:function we(){C.sort(function(nn,Dt){return nn.index-Dt.index}),ae=k.getTTMLRenderingDiv(),K=k.getVttRenderingDiv();for(var wt=-1,Ht=0;Ht<C.length;Ht++){var en=Ue(C[Ht]);B.push(en),C[Ht].defaultTrack&&(en.default=!0,wt=Ht);var ln=Z(Ht);ln&&(ln.mode=t.default.TEXT_SHOWING,ln.renderingType=ae&&(C[Ht].isTTML||C[Ht].isEmbedded)?"html":"default"),Te(Ht,0,C[Ht].captionData),V.trigger(E.default.TEXT_TRACK_ADDED)}if(ee.call(this,wt),wt>=0){V.on(E.default.PLAYBACK_METADATA_LOADED,function nn(){var Dt=Z(wt);Dt&&"html"===Dt.renderingType&&at.call(this,Dt,!0),V.off(E.default.PLAYBACK_METADATA_LOADED,nn,this)},this);for(var Wt=0;Wt<C.length;Wt++){var Sn=Z(Wt);Sn&&(Sn.mode=Wt===wt?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN,Sn.manualMode=Wt===wt?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN)}}V.trigger(w.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:Y,tracks:C,streamId:O.id})},getCurrentTrackIdx:function ne(){return Y},setCurrentTrackIdx:ee,getTrackIdxForId:function ie(wt){for(var Ht=-1,en=0;en<C.length;en++)if(C[en].id===wt){Ht=en;break}return Ht},getCurrentTrackInfo:function Ut(){return C[Y]},setModeForTrackIdx:function bt(wt,Ht){var en=Z(wt);en&&en.mode!==Ht&&(en.mode=Ht),en&&en.manualMode!==Ht&&(en.manualMode=Ht)},deleteCuesFromTrackIdx:function xe(wt,Ht,en){var ln=Z(wt);ln&&de(ln,Ht,en)},deleteAllTextTracks:function Ke(){for(var wt=B?B.length:0,Ht=0;Ht<wt;Ht++){var en=Z(Ht);en&&de.call(this,en,O.start,O.start+O.duration,!1)}B=[],C=[],ge&&(clearInterval(ge),ge=null),fe&&k&&(fe.unobserve(k.getElement()),fe=null),Y=-1,it.call(this)},deleteTextTrack:function Ve(wt){k.removeChild(B[wt]),B.splice(wt,1)},manualCueProcessing:function _e(wt){var Ht=Q();if(Ht&&Ht.length>0){var ln=Ht[0].manualCueList;ln&&ln.length>0&&ln.forEach(function(cn){if(cn.startTime<=wt&&cn.endTime>=wt&&!cn.isActive)cn.isActive=!0,WebVTT.processCues(window,[cn],K,cn.cueID);else if(cn.isActive&&(cn.startTime>wt||cn.endTime<wt)&&(cn.isActive=!1,K))for(var Wt=K.childNodes,Sn=0;Sn<Wt.length;++Sn)Wt[Sn].id===cn.cueID&&(K.removeChild(Wt[Sn]),--Sn)})}},disableManualTracks:function J(){var wt=Q();if(wt&&wt.length>0){var en=wt[0].manualCueList;en&&en.length>0&&en.forEach(function(ln){if(ln.isActive&&(ln.isActive=!1,K))for(var cn=K.childNodes,Wt=0;Wt<cn.length;++Wt)cn[Wt].id===ln.cueID&&(K.removeChild(cn[Wt]),--Wt)})}}},function Re(){T=Object(L.default)(R).getInstance().getLogger(P)}(),P}M.__dashjs_factory_name="TextTracks",S.default=F.default.getClassFactory(M)},"./src/streaming/thumbnail/ThumbnailController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailController.js ***!
                  \********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),w=c(
/*! ../vo/Thumbnail */
"./src/streaming/vo/Thumbnail.js"),E=c(
/*! ./ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),F=c(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),L=c(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function D(p){var y,M,f=this.context,g=p.streamInfo;function x(C){M.setTrackByIndex(C)}function N(){M&&M.reset()}return y={getStreamId:function V(){return g.id},initialize:function R(){M.addTracks();var C=M.getTracks();C&&C.length>0&&x(0)},provide:function k(C,B){if("function"==typeof B){var le,Y=M.getCurrentTrack();if(!Y||Y.segmentDuration<=0||null==C)return void B(null);(le=M.getThumbnailRequestForTime(C))&&(Y.segmentDuration=le.duration);var Fe=Math.floor(C%Y.segmentDuration*Y.tilesHor*Y.tilesVert/Y.segmentDuration),$=new w.default;if($.width=Math.floor(Y.widthPerTile),$.height=Math.floor(Y.heightPerTile),$.x=Math.floor(Fe%Y.tilesHor)*Y.widthPerTile,$.y=Math.floor(Fe/Y.tilesHor)*Y.heightPerTile,"readThumbnail"in Y)return Y.readThumbnail(C,function(K){$.url=K,B($)});if(le)$.url=le.url,Y.segmentDuration=NaN;else{var ae=Math.floor(C/Y.segmentDuration);$.url=function O(C,B){var Y=B+C.startNumber,q=Object(L.replaceTokenForTemplate)(C.templateUrl,"Number",Y);return q=Object(L.replaceTokenForTemplate)(q,"Time",(Y-1)*C.segmentDuration*C.timescale),q=Object(L.replaceTokenForTemplate)(q,"Bandwidth",C.bandwidth),Object(L.unescapeDollarsInTemplate)(q)}(Y,ae)}B($)}},setTrackByIndex:x,getCurrentTrackIndex:function P(){return M.getCurrentTrackIndex()},getBitrateList:function T(){var C=M.getTracks(),B=0;return C.map(function(Y){var q=new F.default;return q.mediaType=b.default.IMAGE,q.qualityIndex=B++,q.bitrate=Y.bitrate,q.width=Y.width,q.height=Y.height,q})},reset:N},function U(){N(),M=Object(E.default)(f).create({streamInfo:g,adapter:p.adapter,baseURLController:p.baseURLController,timelineConverter:p.timelineConverter,debug:p.debug,eventBus:p.eventBus,events:p.events,dashConstants:p.dashConstants,dashMetrics:p.dashMetrics,segmentBaseController:p.segmentBaseController})}(),y}D.__dashjs_factory_name="ThumbnailController",S.default=t.default.getClassFactory(D)},"./src/streaming/thumbnail/ThumbnailTracks.js":
/*!****************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailTracks.js ***!
                  \****************************************************/
/*! exports provided: THUMBNAILS_SCHEME_ID_URIS, default */function(tt,S,c){"use strict";c.r(S),c.d(S,"THUMBNAILS_SCHEME_ID_URIS",function(){return y});var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),w=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! ../vo/ThumbnailTrackInfo */
"./src/streaming/vo/ThumbnailTrackInfo.js"),F=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),L=c(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),D=c(
/*! ../../streaming/utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),p=c(
/*! ../../streaming/net/XHRLoader */
"./src/streaming/net/XHRLoader.js"),f=c(
/*! ../../dash/DashHandler */
"./src/dash/DashHandler.js"),g=c(
/*! ../../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),y=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function M(U){var Y,q,le,Fe,$,ae,K,ge,R=this.context,V=U.adapter,k=U.baseURLController,O=U.streamInfo,x=U.timelineConverter,P=U.debug,T=U.eventBus,N=U.events,C=U.dashConstants,B=Object(F.default)(R).getInstance();function Ce(at,Je){var Ne=new E.default;Ne.id=at.id,Ne.bitrate=at.bandwidth,Ne.width=at.width,Ne.height=at.height,Ne.tilesHor=1,Ne.tilesVert=1,at.essentialProperties&&at.essentialProperties.forEach(function(Te){if(y.indexOf(Te.schemeIdUri)>=0&&Te.value){var W=Te.value.split("x");2===W.length&&!isNaN(W[0])&&!isNaN(W[1])&&(Ne.tilesHor=parseInt(W[0],10),Ne.tilesVert=parseInt(W[1],10))}}),Je?ae.updateSegmentData(at).then(function(Te){!function Le(at,Je,Ne){var Te=[],W=function fe(at,Je){var W,se,_e,J,Ne=[],Te=0;for(W=0,se=at.segments.length;W<se;W++)_e=at.segments[W],(J=Object(L.getTimeBasedSegment)(x,V.getIsDynamic(),Je,_e.startTime,_e.duration,_e.timescale,_e.media,_e.mediaRange,Te))&&(Ne.push(J),J=null,Te++);return Ne}(Ne,Je);Je.segments=W,at.segmentDuration=Je.segments[0].duration,at.readThumbnail=function(se,_e){var J=null;Te.some(function(Q){if(Q.start<=se&&Q.end>se)return J=Q.url,!0}),J?_e(J):Je.segments.some(function(Q){if(Q.mediaStartTime<=se&&Q.mediaStartTime+Q.duration>se){var Z=k.resolve(Je.path);return K.load({method:"get",url:Z.url,request:{range:Q.mediaRange,responseType:"arraybuffer"},onload:function(ie){var ee=ge.getSamplesInfo(ie.target.response),X=new Blob([ie.target.response.slice(ee.sampleList[0].offset,ee.sampleList[0].offset+ee.sampleList[0].size)],{type:"image/jpeg"}),ue=window.URL.createObjectURL(X);Te.push({start:Q.mediaStartTime,end:Q.mediaStartTime+Q.duration,url:ue}),_e&&_e(ue)}}),!0}})}}(Ne,at,Te)}):(Ne.startNumber=at.startNumber,Ne.segmentDuration=at.segmentDuration,Ne.timescale=at.timescale,Ne.templateUrl=function Re(at){var Je=B.isRelative(at.media)?B.resolve(at.media,k.resolve(at.path).url):at.media;return Je?Object(L.replaceIDForTemplate)(Je,at.id):""}(at)),Ne.tilesHor>0&&Ne.tilesVert>0&&(Ne.widthPerTile=Ne.width/Ne.tilesHor,Ne.heightPerTile=Ne.height/Ne.tilesVert,q.push(Ne))}function He(){q=[],Fe=-1,$=null}return Y={getTracks:function Ae(){return q},addTracks:function he(){if(O&&V&&($=V.getMediaInfoForType(O,t.default.IMAGE))){var at=V.getVoRepresentations($);at&&at.length>0&&at.forEach(function(Je){(Je.segmentInfoType===b.default.SEGMENT_TEMPLATE&&Je.segmentDuration>0&&Je.media||Je.segmentInfoType===b.default.SEGMENT_TIMELINE)&&Ce(Je),Je.segmentInfoType===b.default.SEGMENT_BASE&&Ce(Je,!0)}),q.length>0&&q.sort(function(Je,Ne){return Je.bitrate-Ne.bitrate})}},reset:He,setTrackByIndex:function ke(at){!q||0===q.length||(at>=q.length&&(at=q.length-1),Fe=at)},getCurrentTrack:function Ue(){return Fe<0?null:q[Fe]},getCurrentTrackIndex:function pe(){return Fe},getThumbnailRequestForTime:function we(at){for(var Je,Ne=V.getVoRepresentations($),Te=0;Te<Ne.length;Te++)if(q[Fe].id===Ne[Te].id){Je=Ne[Te];break}return le.getSegmentRequestForTime($,Je,at)}},function oe(){He(),K=Object(p.default)(R).create({}),ge=Object(D.default)(R).getInstance(),ae=Object(g.default)(R).create({events:N,eventBus:T,streamInfo:O,timelineConverter:x,dashConstants:C,dashMetrics:U.dashMetrics,segmentBaseController:U.segmentBaseController,type:t.default.IMAGE}),(le=Object(f.default)(R).create({streamInfo:O,type:t.default.IMAGE,timelineConverter:x,segmentsController:ae,baseURLController:k,debug:P,eventBus:T,events:N,dashConstants:C,urlUtils:B})).initialize(!!V&&V.getIsDynamic())}(),Y}M.__dashjs_factory_name="ThumbnailTracks",S.default=w.default.getClassFactory(M)},"./src/streaming/utils/BaseURLSelector.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/BaseURLSelector.js ***!
                  \************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),E=c(
/*! ../controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),F=c(
/*! ./baseUrlResolution/DVBSelector */
"./src/streaming/utils/baseUrlResolution/DVBSelector.js"),L=c(
/*! ./baseUrlResolution/BasicSelector */
"./src/streaming/utils/baseUrlResolution/BasicSelector.js"),D=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),f=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),g=c(
/*! ./baseUrlResolution/ContentSteeringSelector */
"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js"),y=c(
/*! ../../core/Settings */
"./src/core/Settings.js");function M(){var k,O,x,P,T,N,U=this.context,R=Object(b.default)(U).getInstance(),V=Object(y.default)(U).getInstance();function le(){O.reset()}return k={chooseSelector:function Y(Fe){Object(f.checkParameterType)(Fe,"boolean"),N=Fe?P:x},select:function q(Fe){if(Fe){if(V.get().streaming.applyContentSteering){var $=T.selectBaseUrlIndex(Fe);!isNaN($)&&-1!==$&&(Fe.selectedIdx=$)}if(!isNaN(Fe.selectedIdx))return Fe.baseUrls[Fe.selectedIdx];var ae=N.select(Fe.baseUrls);return ae?(Fe.selectedIdx=Fe.baseUrls.indexOf(ae),ae):(R.trigger(w.default.URL_RESOLUTION_FAILED,{error:new p.default(t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(N===x&&le()))}},reset:le,setConfig:function B(Fe){Fe.selector&&(N=Fe.selector),Fe.contentSteeringSelector&&(T=Fe.contentSteeringSelector)}},function C(){O=Object(E.default)(U).create({updateEventName:w.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:w.default.SERVICE_LOCATION_BLACKLIST_ADD}),x=Object(L.default)(U).create({blacklistController:O}),P=Object(F.default)(U).create({blacklistController:O}),(T=Object(g.default)(U).create()).setConfig({blacklistController:O}),N=x}(),k}M.__dashjs_factory_name="BaseURLSelector",S.default=D.default.getClassFactory(M)},"./src/streaming/utils/BoxParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/BoxParser.js ***!
                  \******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=c(
/*! ./IsoFile */
"./src/streaming/utils/IsoFile.js"),w=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),E=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),F=c.n(E),L=c(
/*! ../vo/IsoBoxSearchInfo */
"./src/streaming/vo/IsoBoxSearchInfo.js");function D(){var p,f,g=this.context;function M(T){if(!T)return null;void 0===T.fileStart&&(T.fileStart=0);var N=F.a.parseBuffer(T),C=Object(b.default)(g).create();return C.setData(N),C}function k(T,N){return T[N+3]>>>0|T[N+2]<<8>>>0|T[N+1]<<16>>>0|T[N]<<24>>>0}function O(T,N){return String.fromCharCode(T[N++])+String.fromCharCode(T[N++])+String.fromCharCode(T[N++])+String.fromCharCode(T[N])}return f={parse:M,findLastTopIsoBoxCompleted:function U(T,N,C){if(void 0===C&&(C=0),!N||C+8>=N.byteLength)return new L.default(0,!1);for(var Y,B=N instanceof ArrayBuffer?new Uint8Array(N):N,q=0;C<B.byteLength;){var le=k(B,C),Fe=O(B,C+4);if(0===le)break;C+le<=B.byteLength&&(T.indexOf(Fe)>=0?Y=new L.default(C,!0,le):q=C+le),C+=le}return Y||new L.default(q,!1)},getMediaTimescaleFromMoov:function V(T){var N=M(T),C=N?N.getBox("mdhd"):void 0;return C?C.timescale:NaN},getSamplesInfo:function R(T){if(!T||0===T.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var Y,le,Fe,$,ae,K,ge,oe,he,Ce,Le,fe,Re,Ae,pe,Ue,N=M(T),C=N.getBoxes("moof"),B=N.getBoxes("mfhd");pe=N.getBoxes("moof").length,Ae=B[B.length-1].sequence_number,le=0,ae=[];var ke=-1,we=-1;for(Ce=0;Ce<C.length;Ce++){var He=C[Ce],at=He.getChildBoxes("traf");for(oe=0;oe<at.length;oe++){var Je=at[oe],Ne=Je.getChildBox("tfhd"),Te=Je.getChildBox("tfdt");$=Te.baseMediaDecodeTime;var W=Je.getChildBoxes("trun"),se=Je.getChildBoxes("subs");for(he=0;he<W.length;he++){var _e=W[he];for(le=_e.sample_count,Re=(Ne.base_data_offset||0)+(_e.data_offset||0),ge=0;ge<le;ge++){var J={dts:$,cts:$+(void 0!==(K=_e.samples[ge]).sample_composition_time_offset?K.sample_composition_time_offset:0),duration:Y=void 0!==K.sample_duration?K.sample_duration:Ne.default_sample_duration,offset:He.offset+Re,size:Fe=void 0!==K.sample_size?K.sample_size:Ne.default_sample_size,subSizes:[Fe]};if(se)for(Le=0;Le<se.length;Le++){var Q=se[Le];if(ke<Q.entry_count-1&&ge>we&&(ke++,we+=Q.entries[ke].sample_delta),ge==we){J.subSizes=[];var Z=Q.entries[ke];for(fe=0;fe<Z.subsample_count;fe++)J.subSizes.push(Z.subsamples[fe].subsample_size)}}ae.push(J),Re+=Fe,$+=Y}}Ue=$-Te.baseMediaDecodeTime}}return{sampleList:ae,lastSequenceNumber:Ae,totalDuration:Ue,numSequences:pe}},findInitRange:function x(T){var N=null,Y=M(T);if(!Y)return N;var q=Y.getBox("ftyp"),le=Y.getBox("moov");return p.debug("Searching for initialization."),le&&le.isComplete&&p.debug("Found the initialization.  Range: "+(N=(q?q.offset:le.offset)+"-"+(le.offset+le.size-1))),N},parsePayload:function P(T,N,C){if(void 0===C&&(C=0),!N||C+8>=N.byteLength)return new L.default(0,!1);for(var Y,B=N instanceof ArrayBuffer?new Uint8Array(N):N,q=0;C<B.byteLength;){var le=k(B,C),Fe=O(B,C+4);if(0===le)break;C+le<=B.byteLength&&(T.indexOf(Fe)>=0?Y=new L.default(C,!0,le,Fe):q=C+le),C+=le}return Y||new L.default(q,!1)}},function y(){p=Object(t.default)(g).getInstance().getLogger(f)}(),f}D.__dashjs_factory_name="BoxParser",S.default=w.default.getSingletonFactory(D)},"./src/streaming/utils/Capabilities.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/Capabilities.js ***!
                  \*********************************************/
/*! exports provided: supportsMediaSource, default */function(tt,S,c){"use strict";c.r(S),c.d(S,"supportsMediaSource",function(){return F});var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),w=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function F(){var D="WebKitMediaSource"in window,p="MediaSource"in window;return D||p}function L(){var D,p,f;return D={setConfig:function y(T){T&&T.settings&&(p=T.settings)},supportsMediaSource:F,supportsEncryptedMedia:function M(){return f},supportsCodec:function R(T,N){return N!==w.default.AUDIO&&N!==w.default.VIDEO?Promise.resolve(!0):function V(T,N){return p.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(T.codec&&N===w.default.AUDIO||N===w.default.VIDEO&&T.codec&&T.width&&T.height&&T.bitrate&&T.framerate)}(T,N)?function O(T,N){return new Promise(function(C){if(T&&T.codec){var B={type:"media-source"};B[N]={},B[N].contentType=T.codec,B[N].width=T.width,B[N].height=T.height,B[N].bitrate=parseInt(T.bitrate),B[N].framerate=parseFloat(T.framerate),navigator.mediaCapabilities.decodingInfo(B).then(function(Y){C(Y.supported)}).catch(function(){C(!1)})}else C(!1)})}(T,N):function k(T){return new Promise(function(N){if(T&&T.codec){var C=T.codec;T.width&&T.height&&(C+=';width="'+T.width+'";height="'+T.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(C)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(C)?N(!0):N(!1)}else N(!1)})}(T)},setEncryptedMediaSupported:function U(T){f=T},supportsEssentialProperty:function x(T){try{return-1!==b.THUMBNAILS_SCHEME_ID_URIS.indexOf(T.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function P(T,N){for(var Y,C=T.split(".")[0],B=0===N.indexOf(C),q=0;q<E.length;q++)if(E[q].codec===C){Y=E[q];break}return Y?B||Y.compatibleCodecs.some(function(le){return 0===N.indexOf(le)}):B}},function g(){f=!1}(),D}L.__dashjs_factory_name="Capabilities",S.default=t.default.getSingletonFactory(L)},"./src/streaming/utils/CapabilitiesFilter.js":
/*!***************************************************!*\
                  !*** ./src/streaming/utils/CapabilitiesFilter.js ***!
                  \***************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),F=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function L(){var f,g,y,M,U,R,D=this.context,p=Object(E.default)(D).getInstance();function x(le,Fe){if(!Fe||!Fe.Period_asArray||0===Fe.Period_asArray.length)return Promise.resolve();var $=[];return Fe.Period_asArray.forEach(function(ae){$.push(function P(le,Fe){return new Promise(function($){if(le&&le.AdaptationSet_asArray&&0!==le.AdaptationSet_asArray.length){var ae=[];le.AdaptationSet_asArray.forEach(function(K){g.getIsTypeOf(K,Fe)&&ae.push(function T(le,Fe){return new Promise(function($){if(le.Representation_asArray&&0!==le.Representation_asArray.length){var ae=[],K=[];le.Representation_asArray.forEach(function(ge,oe){var he=g.getCodec(le,oe,!1),Ce=function N(le,Fe,$){switch(le){case w.default.VIDEO:return function C(le,Fe){return{codec:Fe,width:le.width||null,height:le.height||null,framerate:le.frameRate||null,bitrate:le.bandwidth||null}}(Fe,$);case w.default.AUDIO:return function B(le,Fe){return{codec:Fe,bitrate:le.bandwidth||null,samplerate:le.audioSamplingRate||null}}(Fe,$);default:return null}}(Fe,ge,he);K.push(Ce),ae.push(y.supportsCodec(Ce,Fe))}),Promise.all(ae).then(function(ge){le.Representation_asArray=le.Representation_asArray.filter(function(oe,he){return ge[he]||R.debug("[Stream] Codec ".concat(K[he].codec," not supported ")),ge[he]}),$()}).catch(function(){$()})}else $()})}(K,Fe))}),Promise.all(ae).then(function(){le.AdaptationSet_asArray=le.AdaptationSet_asArray.filter(function(K){var ge=K.Representation_asArray&&K.Representation_asArray.length>0;return ge||(p.trigger(F.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:K}),R.warn("AdaptationSet has been removed because of no supported Representation")),ge}),$()}).catch(function(){$()})}else $()})}(ae,le))}),Promise.all($)}return f={setConfig:function k(le){le&&(le.adapter&&(g=le.adapter),le.capabilities&&(y=le.capabilities),le.settings&&(M=le.settings),le.customParametersModel&&(U=le.customParametersModel))},filterUnsupportedFeatures:function O(le){return new Promise(function(Fe){var $=[];$.push(x(w.default.VIDEO,le)),$.push(x(w.default.AUDIO,le)),Promise.all($).then(function(){M.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function Y(le){!le||!le.Period_asArray||0===le.Period_asArray.length||le.Period_asArray.forEach(function(Fe){Fe.AdaptationSet_asArray=Fe.AdaptationSet_asArray.filter(function($){return!$.Representation_asArray||0===$.Representation_asArray.length||($.Representation_asArray=$.Representation_asArray.filter(function(ae){var K=g.getEssentialPropertiesForRepresentation(ae);if(K&&K.length>0)for(var ge=0;ge<K.length;){if(!y.supportsEssentialProperty(K[ge]))return R.debug("[Stream] EssentialProperty not supported: "+K[ge].schemeIdUri),!1;ge+=1}return!0}),$.Representation_asArray&&$.Representation_asArray.length>0)})})}(le),function q(le){var Fe=U.getCustomCapabilitiesFilters();!Fe||0===Fe.length||!le||!le.Period_asArray||0===le.Period_asArray.length||le.Period_asArray.forEach(function($){$.AdaptationSet_asArray=$.AdaptationSet_asArray.filter(function(ae){return!ae.Representation_asArray||0===ae.Representation_asArray.length||(ae.Representation_asArray=ae.Representation_asArray.filter(function(K){return!Fe.some(function(ge){return!ge(K)})}),ae.Representation_asArray&&ae.Representation_asArray.length>0)})})}(le),Fe()}).catch(function(){Fe()})})}},function V(){R=Object(b.default)(D).getInstance().getLogger(f)}(),f}L.__dashjs_factory_name="CapabilitiesFilter",S.default=t.default.getSingletonFactory(L)},"./src/streaming/utils/CustomTimeRanges.js":
/*!*************************************************!*\
                  !*** ./src/streaming/utils/CustomTimeRanges.js ***!
                  \*************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function w(){return{customTimeRangeArray:[],length:0,add:function L(M,U){var R=0;for(R=0;R<this.customTimeRangeArray.length&&M>this.customTimeRangeArray[R].start;R++);for(this.customTimeRangeArray.splice(R,0,{start:M,end:U}),R=0;R<this.customTimeRangeArray.length-1;R++)this.mergeRanges(R,R+1)&&R--;this.length=this.customTimeRangeArray.length},clear:function D(){this.customTimeRangeArray=[],this.length=0},remove:function p(M,U){for(var R=0;R<this.customTimeRangeArray.length;R++)if(M<=this.customTimeRangeArray[R].start&&U>=this.customTimeRangeArray[R].end)this.customTimeRangeArray.splice(R,1),R--;else{if(M>this.customTimeRangeArray[R].start&&U<this.customTimeRangeArray[R].end){this.customTimeRangeArray.splice(R+1,0,{start:U,end:this.customTimeRangeArray[R].end}),this.customTimeRangeArray[R].end=M;break}M>this.customTimeRangeArray[R].start&&M<this.customTimeRangeArray[R].end?this.customTimeRangeArray[R].end=M:U>this.customTimeRangeArray[R].start&&U<this.customTimeRangeArray[R].end&&(this.customTimeRangeArray[R].start=U)}this.length=this.customTimeRangeArray.length},mergeRanges:function f(M,U){var R=this.customTimeRangeArray[M],V=this.customTimeRangeArray[U];return R.start<=V.start&&V.start<=R.end&&R.end<=V.end?(R.end=V.end,this.customTimeRangeArray.splice(U,1),!0):V.start<=R.start&&R.start<=V.end&&V.end<=R.end?(R.start=V.start,this.customTimeRangeArray.splice(U,1),!0):V.start<=R.start&&R.start<=V.end&&R.end<=V.end?(this.customTimeRangeArray.splice(M,1),!0):R.start<=V.start&&V.start<=R.end&&V.end<=R.end&&(this.customTimeRangeArray.splice(U,1),!0)},start:function g(M){return Object(b.checkInteger)(M),M>=this.customTimeRangeArray.length||M<0?NaN:this.customTimeRangeArray[M].start},end:function y(M){return Object(b.checkInteger)(M),M>=this.customTimeRangeArray.length||M<0?NaN:this.customTimeRangeArray[M].end}}}w.__dashjs_factory_name="CustomTimeRanges",S.default=t.default.getClassFactory(w)},"./src/streaming/utils/DOMStorage.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/DOMStorage.js ***!
                  \*******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),E=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],F="dashjs_?_bitrate",L="dashjs_?_settings",D="localStorage",f="lastBitrate",g="lastMediaSettings";function y(U){var k,O,x,R=this.context,V=(U=U||{}).settings;function T(ae){if(void 0!==x)return x;x=!1;var oe;try{typeof window<"u"&&(oe=window[ae])}catch(he){return O.warn("DOMStorage access denied: "+he.message),x}if(!oe||ae!==D&&"sessionStorage"!==ae)return x;try{oe.setItem("1","1"),oe.removeItem("1"),x=!0}catch(he){O.warn("DOMStorage is supported, but cannot be used: "+he.message)}return x}function C(){return 6e5*Math.round((new Date).getTime()/6e5)}function B(ae,K){return T(ae)&&V.get().streaming[K+"CachingInfo"].enabled}function Y(){if(!V)throw new Error(w.default.MISSING_CONFIG_ERROR)}return k={getSavedBitrateSettings:function le(ae){if(Y(),!V.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var K=NaN;if(B(D,f)){var ge=F.replace(/\?/,ae);try{var oe=JSON.parse(localStorage.getItem(ge))||{},he=(new Date).getTime()-parseInt(oe.timestamp,10)>=V.get().streaming.lastBitrateCachingInfo.ttl||!1,Ce=parseFloat(oe.bitrate);isNaN(Ce)||he?he&&localStorage.removeItem(ge):(K=Ce,O.debug("Last saved bitrate for "+ae+" was "+Ce))}catch{return null}}return K},setSavedBitrateSettings:function $(ae,K){if(B(D,f)&&K){var ge=F.replace(/\?/,ae);try{localStorage.setItem(ge,JSON.stringify({bitrate:K.toFixed(3),timestamp:C()}))}catch(oe){O.error(oe.message)}}},getSavedMediaSettings:function q(ae){if(Y(),!V.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var K=null;if(B(D,g)){var ge=L.replace(/\?/,ae);try{var oe=JSON.parse(localStorage.getItem(ge))||{},he=(new Date).getTime()-parseInt(oe.timestamp,10)>=V.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;K=oe.settings,he&&(localStorage.removeItem(ge),K=null)}catch{return null}}return K},setSavedMediaSettings:function Fe(ae,K){if(B(D,g)){var ge=L.replace(/\?/,ae);try{localStorage.setItem(ge,JSON.stringify({settings:K,timestamp:C()}))}catch(oe){O.error(oe.message)}}}},function P(){O=Object(b.default)(R).getInstance().getLogger(k),function N(){T(D)&&E.forEach(function(ae){var K=localStorage.getItem(ae.oldKey);if(K){localStorage.removeItem(ae.oldKey);try{localStorage.setItem(ae.newKey,K)}catch(ge){O.error(ge.message)}}})}()}(),k}y.__dashjs_factory_name="DOMStorage";var M=t.default.getSingletonFactory(y);S.default=M},"./src/streaming/utils/DefaultURLUtils.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/DefaultURLUtils.js ***!
                  \************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var w,E=/^[a-z][a-z0-9+\-_.]*:/i,F=/^https?:\/\//i,L=/^https:\/\//i,D=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,p=function(B,Y){try{return new window.URL(B,Y).toString()}catch{return B}},f=function(B,Y){var q=y;if(!Y||!V(B))return B;k(B)&&(q=M),O(B)&&(q=R);var le=q(Y),Fe="/"!==le.charAt(le.length-1)&&"/"!==B.charAt(0)?"/":"";return[le,B].join(Fe)};function y(C){var B=C.indexOf("/"),Y=C.lastIndexOf("/");return-1!==B?Y===B+1?C:(-1!==C.indexOf("?")&&(C=C.substring(0,C.indexOf("?"))),C.substring(0,Y+1)):""}function M(C){var B=C.match(D);return B?B[1]:""}function R(C){var B=C.match(E);return B?B[0]:""}function V(C){return!E.test(C)}function k(C){return V(C)&&"/"===C.charAt(0)}function O(C){return 0===C.indexOf("//")}return function g(){try{new window.URL("x","http://y"),w=p}catch{}finally{w=w||f}}(),{parseBaseUrl:y,parseOrigin:M,parseScheme:R,isRelative:V,isPathAbsolute:k,isSchemeRelative:O,isHTTPURL:function x(C){return F.test(C)},isHTTPS:function P(C){return L.test(C)},removeHostname:function U(C){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(C)[2].substring(1)},resolve:function T(C,B){return w(C,B)}}}b.__dashjs_factory_name="DefaultURLUtils",S.default=t.default.getSingletonFactory(b)},"./src/streaming/utils/EBMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/EBMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(w){w=w||{};var E,F=new DataView(w.data),L=0;function f(O,x){var P=!0,T=0;if(void 0===x&&(x=!1),O.tag>16777215?(F.getUint32(L)!==O.tag&&(P=!1),T=4):O.tag>65535?(256*F.getUint16(L)+F.getUint8(L+2)!==O.tag&&(P=!1),T=3):O.tag>255?(F.getUint16(L)!==O.tag&&(P=!1),T=2):(F.getUint8(L)!==O.tag&&(P=!1),T=1),!P&&O.required&&!x)throw new Error("required tag not found");return P&&(L+=T),P}function U(O){var x=1,P=128,N=-1,C=0,B=F.getUint8(L),Y=0;for(Y=0;Y<8;Y+=1){if((B&P)===P){C=void 0===O?B&~P:B,N=Y;break}P>>=1}for(Y=0;Y<N;Y+=1,x+=1)C=C<<8|255&F.getUint8(L+x);return L+=x,C}return E={getPos:function D(){return L},setPos:function p(O){L=O},consumeTag:f,consumeTagAndSize:function g(O,x){var P=f(O,x);return P&&U(),P},parseTag:function y(O){var x;return f(O),x=U(),E[O.parse](x)},skipOverElement:function M(O,x){var T,P=f(O,x);return P&&(T=U(),L+=T),P},getMatroskaCodedNum:U,getMatroskaFloat:function R(O){var x;switch(O){case 4:x=F.getFloat32(L),L+=4;break;case 8:x=F.getFloat64(L),L+=8}return x},getMatroskaUint:function V(O){for(var x=0,P=0;P<O;P+=1)x<<=8,x|=255&F.getUint8(L+P);return L+=O,x},moreData:function k(){return L<F.byteLength}}}b.__dashjs_factory_name="EBMLParser",S.default=t.default.getClassFactory(b)},"./src/streaming/utils/ErrorHandler.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/ErrorHandler.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function E(){var L=this.context,D=Object(t.default)(L).getInstance();return{error:function p(f){D.trigger(b.default.ERROR,{error:f})}}}E.__dashjs_factory_name="ErrorHandler",S.default=w.default.getSingletonFactory(E)},"./src/streaming/utils/InitCache.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/InitCache.js ***!
                  \******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var w={};return{save:function E(p){var f=p.streamId,g=p.representationId;w[f]=w[f]||{},w[f][g]=p},extract:function F(p,f){return w&&w[p]&&w[p][f]?w[p][f]:null},reset:function L(){w={}}}}b.__dashjs_factory_name="InitCache",S.default=t.default.getSingletonFactory(b)},"./src/streaming/utils/IsoFile.js":
/*!****************************************!*\
                  !*** ./src/streaming/utils/IsoFile.js ***!
                  \****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/IsoBox */
"./src/streaming/vo/IsoBox.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(){var F;function D(y){var M=[];if(!y||!F||"function"!=typeof F.fetchAll)return M;for(var R,U=F.fetchAll(y),V=0,k=U.length;V<k;V++)(R=g(U[V]))&&M.push(R);return M}function g(y){if(!y)return null;var M=new t.default(y);return y.hasOwnProperty("_incomplete")&&(M.isComplete=!y._incomplete),M}return{getBox:function L(y){return y&&F&&F.boxes&&0!==F.boxes.length&&"function"==typeof F.fetch?g(F.fetch(y)):null},getBoxes:D,setData:function p(y){F=y},getLastBox:function f(){if(!F||!F.boxes||!F.boxes.length)return null;var M=D(F.boxes[F.boxes.length-1].type);return M.length>0?M[M.length-1]:null}}}w.__dashjs_factory_name="IsoFile",S.default=b.default.getClassFactory(w)},"./src/streaming/utils/ObjectUtils.js":
/*!********************************************!*\
                  !*** ./src/streaming/utils/ObjectUtils.js ***!
                  \********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! fast-deep-equal */
"./node_modules/fast-deep-equal/index.js"),w=c.n(b);function E(){return{areEqual:function L(D,p){return w()(D,p)}}}E.__dashjs_factory_name="ObjectUtils",S.default=t.default.getSingletonFactory(E)},"./src/streaming/utils/RequestModifier.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/RequestModifier.js ***!
                  \************************************************/
/*! exports provided: modifyRequest, default */function(tt,S,c){"use strict";c.r(S),c.d(S,"modifyRequest",function(){return b});var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(E,F){var L={url:E.url,method:E.method,headers:Object.assign({},E.headers),credentials:E.withCredentials?"include":void 0};return Promise.resolve(F.modifyRequest(L)).then(function(){return Object.assign(E,L,{withCredentials:"include"===L.credentials})})}function w(){return{modifyRequest:null,modifyRequestURL:function F(D){return D},modifyRequestHeader:function L(D,p){return D}}}w.__dashjs_factory_name="RequestModifier",S.default=t.default.getSingletonFactory(w)},"./src/streaming/utils/SupervisorTools.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/SupervisorTools.js ***!
                  \************************************************/
/*! exports provided: checkParameterType, checkInteger, checkRange, checkIsVideoOrAudioType */function(tt,S,c){"use strict";c.r(S),c.d(S,"checkParameterType",function(){return w}),c.d(S,"checkInteger",function(){return E}),c.d(S,"checkRange",function(){return F}),c.d(S,"checkIsVideoOrAudioType",function(){return L});var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function b(D){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(D)}function w(D,p){if(b(D)!==p)throw t.default.BAD_ARGUMENT_ERROR}function E(D){if(null===D||isNaN(D)||D%1!=0)throw t.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function F(D,p,f){if(D<p||D>f)throw t.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function L(D){if("string"!=typeof D||D!==t.default.AUDIO&&D!==t.default.VIDEO)throw t.default.BAD_ARGUMENT_ERROR}},"./src/streaming/utils/TTMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/TTMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),E=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js"),D=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),p=c(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function f(){var M,U,g=this.context,y=Object(w.default)(g).getInstance(),R=0;function k(){var x="cue_TTML_"+R;return R++,x}return M={parse:function O(x,P,T,N,C){var q,le,Fe,B="",Y=[],$={},ae={},K="",ge="",oe={onOpenTag:function(Re,Ae,pe){if(pe[" imagetype"]&&!pe[" imageType"]&&(y.trigger(D.default.CONFORMANCE_VIOLATION,{level:p.default.LEVELS.ERROR,event:p.default.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),pe[" imageType"]=pe[" imagetype"]),"image"===Ae&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===Re||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===Re)){if(!pe[" imageType"]||"PNG"!==pe[" imageType"].value)return void U.warn("smpte-tt imageType != PNG. Discarded");K=pe["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){K&&(ae[K]=ge.trim()),ge="",K=""},onText:function(Re){K&&(ge+=Re)}};if(!x)throw B="no ttml data to parse",new Error(B);$.data=x,y.trigger(E.default.TTML_TO_PARSE,$);var he=Object(F.fromXML)($.data,function(fe){B=fe},oe);y.trigger(E.default.TTML_PARSED,{ttmlString:$.data,ttmlDoc:he});var Ce=he.getMediaTimeEvents();for(Fe=0;Fe<Ce.length;Fe++){var Le=Object(F.generateISD)(he,Ce[Fe],function(fe){B=fe});Le.contents.some(function(fe){return fe.contents.length})&&(q=Ce[Fe]+P<T?T:Ce[Fe]+P)<(le=Ce[Fe+1]+P>N?N:Ce[Fe+1]+P)&&Y.push({start:q,end:le,type:"html",cueID:k(),isd:Le,images:C,embeddedImages:ae})}if(""!==B)throw U.error(B),new Error(B);return Y}},function V(){U=Object(b.default)(g).getInstance().getLogger(M)}(),M}f.__dashjs_factory_name="TTMLParser",S.default=t.default.getSingletonFactory(f)},"./src/streaming/utils/URLUtils.js":
/*!*****************************************!*\
                  !*** ./src/streaming/utils/URLUtils.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ./DefaultURLUtils */
"./src/streaming/utils/DefaultURLUtils.js");function w(){var L,D=[],p=this.context;function M(B,Y,q){var le=function f(B){var Y;for(Y=0;Y<D.length;Y++)if(D[Y].regex.test(B))return D[Y].utils;return L}(q||Y);return le&&"function"==typeof le[B]?le[B](Y,q):L[B](Y,q)}return function g(){L=Object(b.default)(p).getInstance()}(),{registerUrlRegex:function y(B,Y){D.push({regex:B,utils:Y})},parseBaseUrl:function U(B){return M("parseBaseUrl",B)},parseOrigin:function R(B){return M("parseOrigin",B)},parseScheme:function k(B){return M("parseScheme",B)},isRelative:function O(B){return M("isRelative",B)},isPathAbsolute:function x(B){return M("isPathAbsolute",B)},isSchemeRelative:function P(B){return M("isSchemeRelative",B)},isHTTPURL:function T(B){return M("isHTTPURL",B)},isHTTPS:function N(B){return M("isHTTPS",B)},removeHostname:function V(B){return M("removeHostname",B)},resolve:function C(B,Y){return M("resolve",B,Y)}}}w.__dashjs_factory_name="URLUtils";var E=t.default.getSingletonFactory(w);S.default=E},"./src/streaming/utils/VTTParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/VTTParser.js ***!
                  \******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function E(){var L,D,p,f,g,y,F=this.context;function R(x){var P=x.split(":"),T=P.length-1;return x=60*parseInt(P[T-1],10)+parseFloat(P[T]),2===T&&(x+=3600*parseInt(P[0],10)),x}function V(x){var P=x.split(f),T=P[1].split(y);return T.shift(),P[1]=T[0],T.shift(),{cuePoints:P,styles:k(T)}}function k(x){var P={};return x.forEach(function(T){if(T.split(/:/).length>1){var N=T.split(/:/)[1];N&&-1!=N.search(/%/)&&(N=parseInt(N.replace(/%/,""),10)),(T.match(/align/)||T.match(/A/))&&(P.align=N),(T.match(/line/)||T.match(/L/))&&(P.line=N),(T.match(/position/)||T.match(/P/))&&(P.position=N),(T.match(/size/)||T.match(/S/))&&(P.size=N)}}),P}function O(x,P){for(var B,T=P,N="",C="";""!==x[T]&&T<x.length;)T++;if((B=T-P)>1)for(var Y=0;Y<B;Y++){if((C=x[P+Y]).match(f)){N="";break}N+=C,Y!==B-1&&(N+="\n")}else(C=x[P]).match(f)||(N=C);return N}return L={parse:function U(x){var T,N,P=[];if(!x)return P;T=(x=x.split(p)).length,N=-1;for(var C=0;C<T;C++){var B=x[C];if(B.length>0&&"WEBVTT"!==B&&B.match(f)){var Y=V(B),q=Y.cuePoints,le=Y.styles,Fe=O(x,C+1),$=R(q[0].replace(g,"")),ae=R(q[1].replace(g,""));!isNaN($)&&!isNaN(ae)&&$>=N&&ae>$?""!==Fe?(N=$,P.push({start:$,end:ae,data:Fe,styles:le})):D.error("Skipping cue due to empty/malformed cue text"):D.error("Skipping cue due to incorrect cue timing")}}return P}},function M(){D=Object(b.default)(F).getInstance().getLogger(L),p=/(?:\r\n|\r|\n)/gm,f=/-->/,g=/(^[\s]+|[\s]+$)/g,y=/\s\b/g}(),L}E.__dashjs_factory_name="VTTParser",S.default=t.default.getSingletonFactory(E)},"./src/streaming/utils/VttCustomRenderingParser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/utils/VttCustomRenderingParser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var w,E;return w={parse:function L(D){var p=[];return E.oncue=function(f){f.start=f.startTime,f.end=f.endTime,f.data=f.text,f.styles={align:f.align,line:f.line,position:f.position,size:f.size},p.push(f)},E.parse(D),p}},function F(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(E=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),w}b.__dashjs_factory_name="VttCustomRenderingParser",S.default=t.default.getSingletonFactory(b)},"./src/streaming/utils/baseUrlResolution/BasicSelector.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/BasicSelector.js ***!
                  \****************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(w){var F=(w=w||{}).blacklistController;return{select:function L(D){var f,p=0;return D&&D.some(function(g,y){return p=y,!F.contains(g.serviceLocation)})&&(f=D[p]),f}}}b.__dashjs_factory_name="BasicSelector",S.default=t.default.getClassFactory(b)},"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js");function w(){var F,L,D,E=this.context;function y(){for(var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],R=0,V=NaN,k=function(){var P=M[R],T=U.findIndex(function(N){return N.serviceLocation&&N.serviceLocation===P});if(-1!==T&&!D.contains(U[T].serviceLocation))return V=T,"break";R+=1};R<M.length&&"break"!==k(););return V}return F={selectBaseUrlIndex:function g(M){var U=NaN;if(isNaN(M.selectedIdx)){var R=L.getSteeringDataFromManifest();R&&R.defaultServiceLocation&&(U=y([R.defaultServiceLocation],M.baseUrls))}var V=L.getCurrentSteeringResponseData();return M.baseUrls&&M.baseUrls.length&&V&&V.serviceLocationPriority&&V.serviceLocationPriority.length&&(U=y(V.serviceLocationPriority,M.baseUrls)),U},setConfig:function f(M){M.blacklistController&&(D=M.blacklistController),M.contentSteeringController&&(L=M.contentSteeringController)}},function p(){L=Object(b.default)(E).getInstance()}(),F}w.__dashjs_factory_name="ContentSteeringSelector",S.default=t.default.getClassFactory(w)},"./src/streaming/utils/baseUrlResolution/DVBSelector.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/DVBSelector.js ***!
                  \**************************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(w){var F=(w=w||{}).blacklistController;return{select:function p(f){return f&&function D(f){var V,k,M=0,U=[],R=0;if((k=f.sort(function(x,P){var T=x.dvb_priority-P.dvb_priority;return isNaN(T)?0:T}).filter(function(x,P,T){return!P||T[0].dvb_priority&&x.dvb_priority&&T[0].dvb_priority===x.dvb_priority})).length)return k.length>1&&(k.forEach(function(O){U.push(M+=O.dvb_weight)}),V=Math.floor(Math.random()*(M-1)),U.every(function(O,x){return R=x,!(V<O)})),k[R]}(function L(f){var g=[];return f.filter(function(R){return!F.contains(R.serviceLocation)||(R.dvb_priority&&g.push(R.dvb_priority),!1)}).filter(function(R){return!(g.length&&R.dvb_priority&&-1!==g.indexOf(R.dvb_priority))})}(f))}}}b.__dashjs_factory_name="DVBSelector",S.default=t.default.getClassFactory(b)},"./src/streaming/vo/BitrateInfo.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/BitrateInfo.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN})},"./src/streaming/vo/DashJSError.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/DashJSError.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g,y){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.code=f||null,this.message=g||null,this.data=y||null})},"./src/streaming/vo/DataChunk.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/DataChunk.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null})},"./src/streaming/vo/FragmentRequest.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/FragmentRequest.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function b(f){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function E(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,L(M.key),M)}}function L(f){var g=function D(f,g){if("object"!==b(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==b(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===b(g)?g:String(g)}var p=function(){function f(g){(function w(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.action=f.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=g||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return function F(f,g,y){return g&&E(f.prototype,g),y&&E(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}(f,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===t.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(y){this.type=y&&y.init?t.HTTPRequest.INIT_SEGMENT_TYPE:t.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=y&&y.url?y.url:null,this.range=y&&y.range?y.range.start+"-"+y.range.end:null,this.mediaType=y&&y.mediaType?y.mediaType:null}}]),f}();p.ACTION_DOWNLOAD="download",p.ACTION_COMPLETE="complete",S.default=p},"./src/streaming/vo/HeadRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/HeadRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function b(k){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(k)}function w(k,O){for(var x=0;x<O.length;x++){var P=O[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,F(P.key),P)}}function F(k){var O=function L(k,O){if("object"!==b(k)||null===k)return k;var x=k[Symbol.toPrimitive];if(void 0!==x){var P=x.call(k,O||"default");if("object"!==b(P))return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(k)}(k,"string");return"symbol"===b(O)?O:String(O)}function p(k,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),O&&f(k,O)}function f(k,O){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,T){return P.__proto__=T,P})(k,O)}function g(k){var O=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,P=R(k);if(O){var N=R(this).constructor;T=Reflect.construct(P,arguments,N)}else T=P.apply(this,arguments);return function y(k,O){if(O&&("object"===b(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function M(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function R(k){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)})(k)}S.default=function(k){p(x,k);var O=g(x);function x(P){var T;return function D(k,O){if(!(k instanceof O))throw new TypeError("Cannot call a class as a function")}(this,x),(T=O.call(this,P)).checkForExistenceOnly=!0,T}return function E(k,O,x){return O&&w(k.prototype,O),x&&w(k,x),Object.defineProperty(k,"prototype",{writable:!1}),k}(x)}(t.default)},"./src/streaming/vo/IsoBox.js":
/*!************************************!*\
                  !*** ./src/streaming/vo/IsoBox.js ***!
                  \************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function w(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,F(y.key),y)}}function F(p){var f=function L(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=function(){function p(f){if(function b(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,p),this.offset=f._offset,this.type=f.type,this.size=f.size,this.boxes=[],f.boxes)for(var g=0;g<f.boxes.length;g++)this.boxes.push(new p(f.boxes[g]));switch(this.isComplete=!0,f.type){case"sidx":if(this.timescale=f.timescale,this.earliest_presentation_time=f.earliest_presentation_time,this.first_offset=f.first_offset,this.references=f.references,f.references){this.references=[];for(var y=0;y<f.references.length;y++)this.references.push({reference_type:f.references[y].reference_type,referenced_size:f.references[y].referenced_size,subsegment_duration:f.references[y].subsegment_duration})}break;case"emsg":this.id=f.id,this.version=1===f.version?1:0,this.value=f.value,this.timescale=f.timescale,this.scheme_id_uri=f.scheme_id_uri,this.presentation_time_delta=1===f.version?f.presentation_time:f.presentation_time_delta,this.event_duration=f.event_duration,this.message_data=f.message_data;break;case"mdhd":this.timescale=f.timescale;break;case"mfhd":this.sequence_number=f.sequence_number;break;case"subs":this.entry_count=f.entry_count,this.entries=f.entries;break;case"tfhd":this.base_data_offset=f.base_data_offset,this.sample_description_index=f.sample_description_index,this.default_sample_duration=f.default_sample_duration,this.default_sample_size=f.default_sample_size,this.default_sample_flags=f.default_sample_flags,this.flags=f.flags;break;case"tfdt":this.version=f.version,this.baseMediaDecodeTime=f.baseMediaDecodeTime,this.flags=f.flags;break;case"trun":if(this.sample_count=f.sample_count,this.first_sample_flags=f.first_sample_flags,this.data_offset=f.data_offset,this.flags=f.flags,this.samples=f.samples,f.samples){this.samples=[];for(var U=0,R=f.samples.length;U<R;U++)this.samples.push({sample_size:f.samples[U].sample_size,sample_duration:f.samples[U].sample_duration,sample_composition_time_offset:f.samples[U].sample_composition_time_offset})}}}return function E(p,f,g){return f&&w(p.prototype,f),g&&w(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(p,[{key:"getChildBox",value:function(g){for(var y=0;y<this.boxes.length;y++)if(this.boxes[y].type===g)return this.boxes[y]}},{key:"getChildBoxes",value:function(g){for(var y=[],M=0;M<this.boxes.length;M++)this.boxes[M].type===g&&y.push(this.boxes[M]);return y}}]),p}()},"./src/streaming/vo/IsoBoxSearchInfo.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/IsoBoxSearchInfo.js ***!
                  \**********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(f,g,y){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.lastCompletedOffset=f,this.found=g,this.size=y})},"./src/streaming/vo/MetricsList.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/MetricsList.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]})},"./src/streaming/vo/TextRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/TextRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function w(O){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}function E(O,x){for(var P=0;P<x.length;P++){var T=x[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,L(T.key),T)}}function L(O){var x=function D(O,x){if("object"!==w(O)||null===O)return O;var P=O[Symbol.toPrimitive];if(void 0!==P){var T=P.call(O,x||"default");if("object"!==w(T))return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(O)}(O,"string");return"symbol"===w(x)?x:String(x)}function f(O,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),x&&g(O,x)}function g(O,x){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,N){return T.__proto__=N,T})(O,x)}function y(O){var x=function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,T=V(O);if(x){var C=V(this).constructor;N=Reflect.construct(T,arguments,C)}else N=T.apply(this,arguments);return function M(O,x){if(x&&("object"===w(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return function U(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(O)}(this,N)}}function V(O){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(O)}S.default=function(O){f(P,O);var x=y(P);function P(T,N){var C;return function p(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P),(C=x.call(this)).url=T||null,C.type=N||null,C.mediaType=t.default.STREAM,C.responseType="",C}return function F(O,x,P){return x&&E(O.prototype,x),P&&E(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}(P)}(b.default)},"./src/streaming/vo/TextTrackInfo.js":
/*!*******************************************!*\
                  !*** ./src/streaming/vo/TextTrackInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ./../../dash/vo/MediaInfo */
"./src/dash/vo/MediaInfo.js");function b(k){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(k)}function w(k,O){for(var x=0;x<O.length;x++){var P=O[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,F(P.key),P)}}function F(k){var O=function L(k,O){if("object"!==b(k)||null===k)return k;var x=k[Symbol.toPrimitive];if(void 0!==x){var P=x.call(k,O||"default");if("object"!==b(P))return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(k)}(k,"string");return"symbol"===b(O)?O:String(O)}function p(k,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),O&&f(k,O)}function f(k,O){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,T){return P.__proto__=T,P})(k,O)}function g(k){var O=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,P=R(k);if(O){var N=R(this).constructor;T=Reflect.construct(P,arguments,N)}else T=P.apply(this,arguments);return function y(k,O){if(O&&("object"===b(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function M(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,T)}}function R(k){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)})(k)}S.default=function(k){p(x,k);var O=g(x);function x(){var P;return function D(k,O){if(!(k instanceof O))throw new TypeError("Cannot call a class as a function")}(this,x),(P=O.call(this)).captionData=null,P.label=null,P.defaultTrack=!1,P.kind=null,P.isFragmented=!1,P.isEmbedded=!1,P.isTTML=null,P}return function E(k,O,x){return O&&w(k.prototype,O),x&&w(k,x),Object.defineProperty(k,"prototype",{writable:!1}),k}(x)}(t.default)},"./src/streaming/vo/Thumbnail.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/Thumbnail.js ***!
                  \***************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null})},"./src/streaming/vo/ThumbnailTrackInfo.js":
/*!************************************************!*\
                  !*** ./src/streaming/vo/ThumbnailTrackInfo.js ***!
                  \************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""})},"./src/streaming/vo/URIFragmentData.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/URIFragmentData.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null})},"./src/streaming/vo/metrics/BufferLevel.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferLevel.js ***!
                  \*************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.t=null,this.level=null})},"./src/streaming/vo/metrics/BufferState.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferState.js ***!
                  \*************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";c.r(S);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function b(f){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function w(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,F(M.key),M)}}function E(f,g,y){return g&&w(f.prototype,g),y&&w(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}function F(f){var g=function L(f,g){if("object"!==b(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==b(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===b(g)?g:String(g)}S.default=E(function f(){(function D(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.target=null,this.state=t.default.BUFFER_EMPTY})},"./src/streaming/vo/metrics/DVRInfo.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/metrics/DVRInfo.js ***!
                  \*********************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.time=null,this.range=null,this.manifestInfo=null})},"./src/streaming/vo/metrics/DroppedFrames.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/DroppedFrames.js ***!
                  \***************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.time=null,this.droppedFrames=null})},"./src/streaming/vo/metrics/HTTPRequest.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/HTTPRequest.js ***!
                  \*************************************************/
/*! exports provided: HTTPRequest, HTTPRequestTrace */function(tt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function b(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,E(M.key),M)}}function w(f,g,y){return g&&b(f.prototype,g),y&&b(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}function E(f){var g=function F(f,g){if("object"!==t(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==t(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}function L(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}c.r(S),c.d(S,"HTTPRequest",function(){return D}),c.d(S,"HTTPRequestTrace",function(){return p});var D=w(function f(){L(this,f),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null}),p=w(function f(){L(this,f),this.s=null,this.d=null,this.b=[]});D.GET="GET",D.HEAD="HEAD",D.MPD_TYPE="MPD",D.XLINK_EXPANSION_TYPE="XLinkExpansion",D.INIT_SEGMENT_TYPE="InitializationSegment",D.INDEX_SEGMENT_TYPE="IndexSegment",D.MEDIA_SEGMENT_TYPE="MediaSegment",D.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",D.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",D.DVB_REPORTING_TYPE="DVBReporting",D.LICENSE="license",D.CONTENT_STEERING_TYPE="ContentSteering",D.OTHER_TYPE="other"},"./src/streaming/vo/metrics/ManifestUpdate.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/ManifestUpdate.js ***!
                  \****************************************************/
/*! exports provided: ManifestUpdate, ManifestUpdateStreamInfo, ManifestUpdateRepresentationInfo */function(tt,S,c){"use strict";function t(g){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function b(g,y){for(var M=0;M<y.length;M++){var U=y[M];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(g,E(U.key),U)}}function w(g,y,M){return y&&b(g.prototype,y),M&&b(g,M),Object.defineProperty(g,"prototype",{writable:!1}),g}function E(g){var y=function F(g,y){if("object"!==t(g)||null===g)return g;var M=g[Symbol.toPrimitive];if(void 0!==M){var U=M.call(g,y||"default");if("object"!==t(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===y?String:Number)(g)}(g,"string");return"symbol"===t(y)?y:String(y)}function L(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}c.r(S),c.d(S,"ManifestUpdate",function(){return D}),c.d(S,"ManifestUpdateStreamInfo",function(){return p}),c.d(S,"ManifestUpdateRepresentationInfo",function(){return f});var D=w(function g(){L(this,g),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}),p=w(function g(){L(this,g),this.id=null,this.index=null,this.start=null,this.duration=null}),f=w(function g(){L(this,g),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null})},"./src/streaming/vo/metrics/PlayList.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/metrics/PlayList.js ***!
                  \**********************************************/
/*! exports provided: PlayList, PlayListTrace */function(tt,S,c){"use strict";function t(f){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function b(f,g){for(var y=0;y<g.length;y++){var M=g[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,E(M.key),M)}}function w(f,g,y){return g&&b(f.prototype,g),y&&b(f,y),Object.defineProperty(f,"prototype",{writable:!1}),f}function E(f){var g=function F(f,g){if("object"!==t(f)||null===f)return f;var y=f[Symbol.toPrimitive];if(void 0!==y){var M=y.call(f,g||"default");if("object"!==t(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(f)}(f,"string");return"symbol"===t(g)?g:String(g)}function L(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}c.r(S),c.d(S,"PlayList",function(){return D}),c.d(S,"PlayListTrace",function(){return p});var D=w(function f(){L(this,f),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]});D.INITIAL_PLAYOUT_START_REASON="initial_playout",D.SEEK_START_REASON="seek",D.RESUME_FROM_PAUSE_START_REASON="resume",D.METRICS_COLLECTION_START_REASON="metrics_collection_start";var p=w(function f(){L(this,f),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null});p.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",p.REBUFFERING_REASON="rebuffering",p.USER_REQUEST_STOP_REASON="user_request",p.END_OF_PERIOD_STOP_REASON="end_of_period",p.END_OF_CONTENT_STOP_REASON="end_of_content",p.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",p.FAILURE_STOP_REASON="failure"},"./src/streaming/vo/metrics/RepresentationSwitch.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/vo/metrics/RepresentationSwitch.js ***!
                  \**********************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.t=null,this.mt=null,this.to=null,this.lto=null})},"./src/streaming/vo/metrics/RequestsQueue.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/RequestsQueue.js ***!
                  \***************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.loadingRequests=[],this.executedRequests=[]})},"./src/streaming/vo/metrics/SchedulingInfo.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/SchedulingInfo.js ***!
                  \****************************************************/
/*! exports provided: default */function(tt,S,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(p)}function b(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,E(y.key),y)}}function w(p,f,g){return f&&b(p.prototype,f),g&&b(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}function E(p){var f=function F(p,f){if("object"!==t(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var y=g.call(p,f||"default");if("object"!==t(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(p)}(p,"string");return"symbol"===t(f)?f:String(f)}c.r(S),S.default=w(function p(){(function L(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,p),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null})},0:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(tt,S){},1:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(tt,S){}}).default},4440:(Bn,tt,S)=>{var c;!function(){"use strict";var t="object"==typeof window?window:{},b=!t.HI_BASE64_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;b&&(t=global);var M,U,w=!t.HI_BASE64_NO_COMMON_JS&&Bn.exports,E=S.amdO,F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),L={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63,"-":62,_:63},p=function(x){var P,T,N,C,B=[],Y=0,q=x.length;"="===x.charAt(q-2)?q-=2:"="===x.charAt(q-1)&&(q-=1);for(var le=0,Fe=q>>2<<2;le<Fe;)P=L[x.charAt(le++)],T=L[x.charAt(le++)],N=L[x.charAt(le++)],C=L[x.charAt(le++)],B[Y++]=255&(P<<2|T>>>4),B[Y++]=255&(T<<4|N>>>2),B[Y++]=255&(N<<6|C);var $=q-Fe;return 2===$?(P=L[x.charAt(le++)],T=L[x.charAt(le++)],B[Y++]=255&(P<<2|T>>>4)):3===$&&(P=L[x.charAt(le++)],T=L[x.charAt(le++)],N=L[x.charAt(le++)],B[Y++]=255&(P<<2|T>>>4),B[Y++]=255&(T<<4|N>>>2)),B},f=function(x){for(var P,T,N,C="",B=x.length,Y=0,q=3*parseInt(B/3);Y<q;)P=x[Y++],T=x[Y++],N=x[Y++],C+=F[P>>>2]+F[63&(P<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var le=B-q;return 1===le?C+=F[(P=x[Y])>>>2]+F[P<<4&63]+"==":2===le&&(P=x[Y++],C+=F[P>>>2]+F[63&(P<<4|(T=x[Y])>>>4)]+F[T<<2&63]+"="),C},g=t.btoa,y=t.atob;if(b){var R=S(9007).lW;g=function(x){return new R(x,"ascii").toString("base64")},f=M=function(x){return new R(x).toString("base64")},y=function(x){return new R(x,"base64").toString("ascii")},U=function(x){return new R(x,"base64").toString()}}else g?(M=function(x){for(var P="",T=0;T<x.length;T++){var N=x.charCodeAt(T);N<128?P+=String.fromCharCode(N):N<2048?P+=String.fromCharCode(192|N>>6)+String.fromCharCode(128|63&N):N<55296||N>=57344?P+=String.fromCharCode(224|N>>12)+String.fromCharCode(128|N>>6&63)+String.fromCharCode(128|63&N):(N=65536+((1023&N)<<10|1023&x.charCodeAt(++T)),P+=String.fromCharCode(240|N>>18)+String.fromCharCode(128|N>>12&63)+String.fromCharCode(128|N>>6&63)+String.fromCharCode(128|63&N))}return g(P)},U=function(x){var P=y(x.trim("=").replace(/-/g,"+").replace(/_/g,"/"));if(!/[^\x00-\x7F]/.test(P))return P;for(var Y,q,T="",N=0,C=P.length,B=0;N<C;)if((Y=P.charCodeAt(N++))<=127)T+=String.fromCharCode(Y);else{if(Y>191&&Y<=223)q=31&Y,B=1;else if(Y<=239)q=15&Y,B=2;else{if(!(Y<=247))throw"not a UTF-8 string";q=7&Y,B=3}for(var le=0;le<B;++le){if((Y=P.charCodeAt(N++))<128||Y>191)throw"not a UTF-8 string";q<<=6,q+=63&Y}if(q>=55296&&q<=57343||q>1114111)throw"not a UTF-8 string";q<=65535?T+=String.fromCharCode(q):(q-=65536,T+=String.fromCharCode(55296+(q>>10)),T+=String.fromCharCode(56320+(1023&q)))}return T}):(g=function(x){for(var P,T,N,C="",B=x.length,Y=0,q=3*parseInt(B/3);Y<q;)P=x.charCodeAt(Y++),T=x.charCodeAt(Y++),N=x.charCodeAt(Y++),C+=F[P>>>2]+F[63&(P<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var le=B-q;return 1===le?(P=x.charCodeAt(Y),C+=F[P>>>2]+F[P<<4&63]+"=="):2===le&&(P=x.charCodeAt(Y++),T=x.charCodeAt(Y),C+=F[P>>>2]+F[63&(P<<4|T>>>4)]+F[T<<2&63]+"="),C},M=function(x){for(var P,T,N,C="",B=function(x){for(var P=[],T=0;T<x.length;T++){var N=x.charCodeAt(T);N<128?P[P.length]=N:N<2048?(P[P.length]=192|N>>6,P[P.length]=128|63&N):N<55296||N>=57344?(P[P.length]=224|N>>12,P[P.length]=128|N>>6&63,P[P.length]=128|63&N):(N=65536+((1023&N)<<10|1023&x.charCodeAt(++T)),P[P.length]=240|N>>18,P[P.length]=128|N>>12&63,P[P.length]=128|N>>6&63,P[P.length]=128|63&N)}return P}(x),Y=B.length,q=0,le=3*parseInt(Y/3);q<le;)P=B[q++],T=B[q++],N=B[q++],C+=F[P>>>2]+F[63&(P<<4|T>>>4)]+F[63&(T<<2|N>>>6)]+F[63&N];var Fe=Y-le;return 1===Fe?C+=F[(P=B[q])>>>2]+F[P<<4&63]+"==":2===Fe&&(P=B[q++],C+=F[P>>>2]+F[63&(P<<4|(T=B[q])>>>4)]+F[T<<2&63]+"="),C},y=function(x){var P,T,N,C,B="",Y=x.length;"="===x.charAt(Y-2)?Y-=2:"="===x.charAt(Y-1)&&(Y-=1);for(var q=0,le=Y>>2<<2;q<le;)P=L[x.charAt(q++)],T=L[x.charAt(q++)],N=L[x.charAt(q++)],C=L[x.charAt(q++)],B+=String.fromCharCode(255&(P<<2|T>>>4))+String.fromCharCode(255&(T<<4|N>>>2))+String.fromCharCode(255&(N<<6|C));var Fe=Y-le;return 2===Fe?(P=L[x.charAt(q++)],T=L[x.charAt(q++)],B+=String.fromCharCode(255&(P<<2|T>>>4))):3===Fe&&(P=L[x.charAt(q++)],T=L[x.charAt(q++)],N=L[x.charAt(q++)],B+=String.fromCharCode(255&(P<<2|T>>>4))+String.fromCharCode(255&(T<<4|N>>>2))),B},U=function(x){for(var Y,q,P="",T=p(x),N=T.length,C=0,B=0;C<N;)if((Y=T[C++])<=127)P+=String.fromCharCode(Y);else{if(Y>191&&Y<=223)q=31&Y,B=1;else if(Y<=239)q=15&Y,B=2;else{if(!(Y<=247))throw"not a UTF-8 string";q=7&Y,B=3}for(var le=0;le<B;++le){if((Y=T[C++])<128||Y>191)throw"not a UTF-8 string";q<<=6,q+=63&Y}if(q>=55296&&q<=57343||q>1114111)throw"not a UTF-8 string";q<=65535?P+=String.fromCharCode(q):(q-=65536,P+=String.fromCharCode(55296+(q>>10)),P+=String.fromCharCode(56320+(1023&q)))}return P});var k=function(x,P){return P?y(x):U(x)},O={encode:function(x,P){var T="string"!=typeof x;return T&&x.constructor===t.ArrayBuffer&&(x=new Uint8Array(x)),T?f(x):!P&&/[^\x00-\x7F]/.test(x)?M(x):g(x)},decode:k,atob:y,btoa:g};k.bytes=p,k.string=k,w?Bn.exports=O:(t.base64=O,E&&void 0!==(c=function(){return O}.call(O,S,O,Bn))&&(Bn.exports=c))}()},2601:(Bn,tt)=>{tt.read=function(S,c,t,b,w){var E,F,L=8*w-b-1,D=(1<<L)-1,p=D>>1,f=-7,g=t?w-1:0,y=t?-1:1,M=S[c+g];for(g+=y,E=M&(1<<-f)-1,M>>=-f,f+=L;f>0;E=256*E+S[c+g],g+=y,f-=8);for(F=E&(1<<-f)-1,E>>=-f,f+=b;f>0;F=256*F+S[c+g],g+=y,f-=8);if(0===E)E=1-p;else{if(E===D)return F?NaN:1/0*(M?-1:1);F+=Math.pow(2,b),E-=p}return(M?-1:1)*F*Math.pow(2,E-b)},tt.write=function(S,c,t,b,w,E){var F,L,D,p=8*E-w-1,f=(1<<p)-1,g=f>>1,y=23===w?Math.pow(2,-24)-Math.pow(2,-77):0,M=b?0:E-1,U=b?1:-1,R=c<0||0===c&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(L=isNaN(c)?1:0,F=f):(F=Math.floor(Math.log(c)/Math.LN2),c*(D=Math.pow(2,-F))<1&&(F--,D*=2),(c+=F+g>=1?y/D:y*Math.pow(2,1-g))*D>=2&&(F++,D/=2),F+g>=f?(L=0,F=f):F+g>=1?(L=(c*D-1)*Math.pow(2,w),F+=g):(L=c*Math.pow(2,g-1)*Math.pow(2,w),F=0));w>=8;S[t+M]=255&L,M+=U,L/=256,w-=8);for(F=F<<w|L,p+=w;p>0;S[t+M]=255&F,M+=U,F/=256,p-=8);S[t+M-U]|=128*R}},5619:(Bn,tt,S)=>{"use strict";S.d(tt,{X:()=>t});var c=S(8645);class t extends c.x{constructor(w){super(),this._value=w}get value(){return this.getValue()}_subscribe(w){const E=super._subscribe(w);return!E.closed&&w.next(this._value),E}getValue(){const{hasError:w,thrownError:E,_value:F}=this;if(w)throw E;return this._throwIfClosed(),F}next(w){super.next(this._value=w)}}},5592:(Bn,tt,S)=>{"use strict";S.d(tt,{y:()=>D});var c=S(305),t=S(7394),b=S(4850),w=S(8407),E=S(2653),F=S(4674),L=S(1441);let D=(()=>{class y{constructor(U){U&&(this._subscribe=U)}lift(U){const R=new y;return R.source=this,R.operator=U,R}subscribe(U,R,V){const k=function g(y){return y&&y instanceof c.Lv||function f(y){return y&&(0,F.m)(y.next)&&(0,F.m)(y.error)&&(0,F.m)(y.complete)}(y)&&(0,t.Nn)(y)}(U)?U:new c.Hp(U,R,V);return(0,L.x)(()=>{const{operator:O,source:x}=this;k.add(O?O.call(k,x):x?this._subscribe(k):this._trySubscribe(k))}),k}_trySubscribe(U){try{return this._subscribe(U)}catch(R){U.error(R)}}forEach(U,R){return new(R=p(R))((V,k)=>{const O=new c.Hp({next:x=>{try{U(x)}catch(P){k(P),O.unsubscribe()}},error:k,complete:V});this.subscribe(O)})}_subscribe(U){var R;return null===(R=this.source)||void 0===R?void 0:R.subscribe(U)}[b.L](){return this}pipe(...U){return(0,w.U)(U)(this)}toPromise(U){return new(U=p(U))((R,V)=>{let k;this.subscribe(O=>k=O,O=>V(O),()=>R(k))})}}return y.create=M=>new y(M),y})();function p(y){var M;return null!==(M=y??E.config.Promise)&&void 0!==M?M:Promise}},8645:(Bn,tt,S)=>{"use strict";S.d(tt,{x:()=>L});var c=S(5592),t=S(7394);const w=(0,S(2306).d)(p=>function(){p(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var E=S(9039),F=S(1441);let L=(()=>{class p extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(g){const y=new D(this,this);return y.operator=g,y}_throwIfClosed(){if(this.closed)throw new w}next(g){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const y of this.currentObservers)y.next(g)}})}error(g){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=g;const{observers:y}=this;for(;y.length;)y.shift().error(g)}})}complete(){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:g}=this;for(;g.length;)g.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var g;return(null===(g=this.observers)||void 0===g?void 0:g.length)>0}_trySubscribe(g){return this._throwIfClosed(),super._trySubscribe(g)}_subscribe(g){return this._throwIfClosed(),this._checkFinalizedStatuses(g),this._innerSubscribe(g)}_innerSubscribe(g){const{hasError:y,isStopped:M,observers:U}=this;return y||M?t.Lc:(this.currentObservers=null,U.push(g),new t.w0(()=>{this.currentObservers=null,(0,E.P)(U,g)}))}_checkFinalizedStatuses(g){const{hasError:y,thrownError:M,isStopped:U}=this;y?g.error(M):U&&g.complete()}asObservable(){const g=new c.y;return g.source=this,g}}return p.create=(f,g)=>new D(f,g),p})();class D extends L{constructor(f,g){super(),this.destination=f,this.source=g}next(f){var g,y;null===(y=null===(g=this.destination)||void 0===g?void 0:g.next)||void 0===y||y.call(g,f)}error(f){var g,y;null===(y=null===(g=this.destination)||void 0===g?void 0:g.error)||void 0===y||y.call(g,f)}complete(){var f,g;null===(g=null===(f=this.destination)||void 0===f?void 0:f.complete)||void 0===g||g.call(f)}_subscribe(f){var g,y;return null!==(y=null===(g=this.source)||void 0===g?void 0:g.subscribe(f))&&void 0!==y?y:t.Lc}}},305:(Bn,tt,S)=>{"use strict";S.d(tt,{Hp:()=>V,Lv:()=>y});var c=S(4674),t=S(7394),b=S(2653),w=S(3894),E=S(2420);const F=p("C",void 0,void 0);function p(T,N,C){return{kind:T,value:N,error:C}}var f=S(7599),g=S(1441);class y extends t.w0{constructor(N){super(),this.isStopped=!1,N?(this.destination=N,(0,t.Nn)(N)&&N.add(this)):this.destination=P}static create(N,C,B){return new V(N,C,B)}next(N){this.isStopped?x(function D(T){return p("N",T,void 0)}(N),this):this._next(N)}error(N){this.isStopped?x(function L(T){return p("E",void 0,T)}(N),this):(this.isStopped=!0,this._error(N))}complete(){this.isStopped?x(F,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(N){this.destination.next(N)}_error(N){try{this.destination.error(N)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const M=Function.prototype.bind;function U(T,N){return M.call(T,N)}class R{constructor(N){this.partialObserver=N}next(N){const{partialObserver:C}=this;if(C.next)try{C.next(N)}catch(B){k(B)}}error(N){const{partialObserver:C}=this;if(C.error)try{C.error(N)}catch(B){k(B)}else k(N)}complete(){const{partialObserver:N}=this;if(N.complete)try{N.complete()}catch(C){k(C)}}}class V extends y{constructor(N,C,B){let Y;if(super(),(0,c.m)(N)||!N)Y={next:N??void 0,error:C??void 0,complete:B??void 0};else{let q;this&&b.config.useDeprecatedNextContext?(q=Object.create(N),q.unsubscribe=()=>this.unsubscribe(),Y={next:N.next&&U(N.next,q),error:N.error&&U(N.error,q),complete:N.complete&&U(N.complete,q)}):Y=N}this.destination=new R(Y)}}function k(T){b.config.useDeprecatedSynchronousErrorHandling?(0,g.O)(T):(0,w.h)(T)}function x(T,N){const{onStoppedNotification:C}=b.config;C&&f.z.setTimeout(()=>C(T,N))}const P={closed:!0,next:E.Z,error:function O(T){throw T},complete:E.Z}},7394:(Bn,tt,S)=>{"use strict";S.d(tt,{Lc:()=>F,w0:()=>E,Nn:()=>L});var c=S(4674);const b=(0,S(2306).d)(p=>function(g){p(this),this.message=g?`${g.length} errors occurred during unsubscription:\n${g.map((y,M)=>`${M+1}) ${y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=g});var w=S(9039);class E{constructor(f){this.initialTeardown=f,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let f;if(!this.closed){this.closed=!0;const{_parentage:g}=this;if(g)if(this._parentage=null,Array.isArray(g))for(const U of g)U.remove(this);else g.remove(this);const{initialTeardown:y}=this;if((0,c.m)(y))try{y()}catch(U){f=U instanceof b?U.errors:[U]}const{_finalizers:M}=this;if(M){this._finalizers=null;for(const U of M)try{D(U)}catch(R){f=f??[],R instanceof b?f=[...f,...R.errors]:f.push(R)}}if(f)throw new b(f)}}add(f){var g;if(f&&f!==this)if(this.closed)D(f);else{if(f instanceof E){if(f.closed||f._hasParent(this))return;f._addParent(this)}(this._finalizers=null!==(g=this._finalizers)&&void 0!==g?g:[]).push(f)}}_hasParent(f){const{_parentage:g}=this;return g===f||Array.isArray(g)&&g.includes(f)}_addParent(f){const{_parentage:g}=this;this._parentage=Array.isArray(g)?(g.push(f),g):g?[g,f]:f}_removeParent(f){const{_parentage:g}=this;g===f?this._parentage=null:Array.isArray(g)&&(0,w.P)(g,f)}remove(f){const{_finalizers:g}=this;g&&(0,w.P)(g,f),f instanceof E&&f._removeParent(this)}}E.EMPTY=(()=>{const p=new E;return p.closed=!0,p})();const F=E.EMPTY;function L(p){return p instanceof E||p&&"closed"in p&&(0,c.m)(p.remove)&&(0,c.m)(p.add)&&(0,c.m)(p.unsubscribe)}function D(p){(0,c.m)(p)?p():p.unsubscribe()}},2653:(Bn,tt,S)=>{"use strict";S.d(tt,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(Bn,tt,S)=>{"use strict";S.d(tt,{c:()=>F});var c=S(5592),t=S(7394),b=S(6196),w=S(8251),E=S(9360);class F extends c.y{constructor(D,p){super(),this.source=D,this.subjectFactory=p,this._subject=null,this._refCount=0,this._connection=null,(0,E.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new t.w0;const p=this.getSubject();D.add(this.source.subscribe((0,w.x)(p,void 0,()=>{this._teardown(),p.complete()},f=>{this._teardown(),p.error(f)},()=>this._teardown()))),D.closed&&(this._connection=null,D=t.w0.EMPTY)}return D}refCount(){return(0,b.x)()(this)}}},2572:(Bn,tt,S)=>{"use strict";S.d(tt,{a:()=>f});var c=S(5592),t=S(7453),b=S(2459),w=S(2737),E=S(7400),F=S(9940),L=S(2714),D=S(8251),p=S(7103);function f(...M){const U=(0,F.yG)(M),R=(0,F.jO)(M),{args:V,keys:k}=(0,t.D)(M);if(0===V.length)return(0,b.D)([],U);const O=new c.y(function g(M,U,R=w.y){return V=>{y(U,()=>{const{length:k}=M,O=new Array(k);let x=k,P=k;for(let T=0;T<k;T++)y(U,()=>{const N=(0,b.D)(M[T],U);let C=!1;N.subscribe((0,D.x)(V,B=>{O[T]=B,C||(C=!0,P--),P||V.next(R(O.slice()))},()=>{--x||V.complete()}))},V)},V)}}(V,U,k?x=>(0,L.n)(k,x):w.y));return R?O.pipe((0,E.Z)(R)):O}function y(M,U,R){M?(0,p.f)(R,M,U):U()}},5211:(Bn,tt,S)=>{"use strict";S.d(tt,{z:()=>E});var c=S(7537),b=S(9940),w=S(2459);function E(...F){return function t(){return(0,c.J)(1)}()((0,w.D)(F,(0,b.yG)(F)))}},4911:(Bn,tt,S)=>{"use strict";S.d(tt,{P:()=>b});var c=S(5592),t=S(4829);function b(w){return new c.y(E=>{(0,t.Xf)(w()).subscribe(E)})}},6232:(Bn,tt,S)=>{"use strict";S.d(tt,{E:()=>t});const t=new(S(5592).y)(E=>E.complete())},2459:(Bn,tt,S)=>{"use strict";S.d(tt,{D:()=>N});var c=S(4829),t=S(3093),b=S(5137),F=S(5592),D=S(4971),p=S(4674),f=S(7103);function y(C,B){if(!C)throw new Error("Iterable cannot be null");return new F.y(Y=>{(0,f.f)(Y,B,()=>{const q=C[Symbol.asyncIterator]();(0,f.f)(Y,B,()=>{q.next().then(le=>{le.done?Y.complete():Y.next(le.value)})},0,!0)})})}var M=S(8382),U=S(4026),R=S(4266),V=S(3664),k=S(5726),O=S(9853),x=S(541);function N(C,B){return B?function T(C,B){if(null!=C){if((0,M.c)(C))return function w(C,B){return(0,c.Xf)(C).pipe((0,b.R)(B),(0,t.Q)(B))}(C,B);if((0,R.z)(C))return function L(C,B){return new F.y(Y=>{let q=0;return B.schedule(function(){q===C.length?Y.complete():(Y.next(C[q++]),Y.closed||this.schedule())})})}(C,B);if((0,U.t)(C))return function E(C,B){return(0,c.Xf)(C).pipe((0,b.R)(B),(0,t.Q)(B))}(C,B);if((0,k.D)(C))return y(C,B);if((0,V.T)(C))return function g(C,B){return new F.y(Y=>{let q;return(0,f.f)(Y,B,()=>{q=C[D.h](),(0,f.f)(Y,B,()=>{let le,Fe;try{({value:le,done:Fe}=q.next())}catch($){return void Y.error($)}Fe?Y.complete():Y.next(le)},0,!0)}),()=>(0,p.m)(q?.return)&&q.return()})}(C,B);if((0,x.L)(C))return function P(C,B){return y((0,x.Q)(C),B)}(C,B)}throw(0,O.z)(C)}(C,B):(0,c.Xf)(C)}},2438:(Bn,tt,S)=>{"use strict";S.d(tt,{R:()=>f});var c=S(4829),t=S(5592),b=S(1631),w=S(4266),E=S(4674),F=S(7400);const L=["addListener","removeListener"],D=["addEventListener","removeEventListener"],p=["on","off"];function f(R,V,k,O){if((0,E.m)(k)&&(O=k,k=void 0),O)return f(R,V,k).pipe((0,F.Z)(O));const[x,P]=function U(R){return(0,E.m)(R.addEventListener)&&(0,E.m)(R.removeEventListener)}(R)?D.map(T=>N=>R[T](V,N,k)):function y(R){return(0,E.m)(R.addListener)&&(0,E.m)(R.removeListener)}(R)?L.map(g(R,V)):function M(R){return(0,E.m)(R.on)&&(0,E.m)(R.off)}(R)?p.map(g(R,V)):[];if(!x&&(0,w.z)(R))return(0,b.z)(T=>f(T,V,k))((0,c.Xf)(R));if(!x)throw new TypeError("Invalid event target");return new t.y(T=>{const N=(...C)=>T.next(1<C.length?C:C[0]);return x(N),()=>P(N)})}function g(R,V){return k=>O=>R[k](V,O)}},4829:(Bn,tt,S)=>{"use strict";S.d(tt,{Xf:()=>M});var c=S(7582),t=S(4266),b=S(4026),w=S(5592),E=S(8382),F=S(5726),L=S(9853),D=S(3664),p=S(541),f=S(4674),g=S(3894),y=S(4850);function M(T){if(T instanceof w.y)return T;if(null!=T){if((0,E.c)(T))return function U(T){return new w.y(N=>{const C=T[y.L]();if((0,f.m)(C.subscribe))return C.subscribe(N);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(T);if((0,t.z)(T))return function R(T){return new w.y(N=>{for(let C=0;C<T.length&&!N.closed;C++)N.next(T[C]);N.complete()})}(T);if((0,b.t)(T))return function V(T){return new w.y(N=>{T.then(C=>{N.closed||(N.next(C),N.complete())},C=>N.error(C)).then(null,g.h)})}(T);if((0,F.D)(T))return O(T);if((0,D.T)(T))return function k(T){return new w.y(N=>{for(const C of T)if(N.next(C),N.closed)return;N.complete()})}(T);if((0,p.L)(T))return function x(T){return O((0,p.Q)(T))}(T)}throw(0,L.z)(T)}function O(T){return new w.y(N=>{(function P(T,N){var C,B,Y,q;return(0,c.mG)(this,void 0,void 0,function*(){try{for(C=(0,c.KL)(T);!(B=yield C.next()).done;)if(N.next(B.value),N.closed)return}catch(le){Y={error:le}}finally{try{B&&!B.done&&(q=C.return)&&(yield q.call(C))}finally{if(Y)throw Y.error}}N.complete()})})(T,N).catch(C=>N.error(C))})}},3019:(Bn,tt,S)=>{"use strict";S.d(tt,{T:()=>F});var c=S(7537),t=S(4829),b=S(6232),w=S(9940),E=S(2459);function F(...L){const D=(0,w.yG)(L),p=(0,w._6)(L,1/0),f=L;return f.length?1===f.length?(0,t.Xf)(f[0]):(0,c.J)(p)((0,E.D)(f,D)):b.E}},2096:(Bn,tt,S)=>{"use strict";S.d(tt,{of:()=>b});var c=S(9940),t=S(2459);function b(...w){const E=(0,c.yG)(w);return(0,t.D)(w,E)}},4825:(Bn,tt,S)=>{"use strict";S.d(tt,{H:()=>E});var c=S(5592),t=S(6321),b=S(671);function E(F=0,L,D=t.P){let p=-1;return null!=L&&((0,b.K)(L)?D=L:p=L),new c.y(f=>{let g=function w(F){return F instanceof Date&&!isNaN(F)}(F)?+F-D.now():F;g<0&&(g=0);let y=0;return D.schedule(function(){f.closed||(f.next(y++),0<=p?this.schedule(void 0,p):f.complete())},g)})}},8251:(Bn,tt,S)=>{"use strict";S.d(tt,{x:()=>t});var c=S(305);function t(w,E,F,L,D){return new b(w,E,F,L,D)}class b extends c.Lv{constructor(E,F,L,D,p,f){super(E),this.onFinalize=p,this.shouldUnsubscribe=f,this._next=F?function(g){try{F(g)}catch(y){E.error(y)}}:super._next,this._error=D?function(g){try{D(g)}catch(y){E.error(y)}finally{this.unsubscribe()}}:super._error,this._complete=L?function(){try{L()}catch(g){E.error(g)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var E;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:F}=this;super.unsubscribe(),!F&&(null===(E=this.onFinalize)||void 0===E||E.call(this))}}}},6328:(Bn,tt,S)=>{"use strict";S.d(tt,{b:()=>b});var c=S(1631),t=S(4674);function b(w,E){return(0,t.m)(E)?(0,c.z)(w,E,1):(0,c.z)(w,1)}},3620:(Bn,tt,S)=>{"use strict";S.d(tt,{b:()=>w});var c=S(6321),t=S(9360),b=S(8251);function w(E,F=c.z){return(0,t.e)((L,D)=>{let p=null,f=null,g=null;const y=()=>{if(p){p.unsubscribe(),p=null;const U=f;f=null,D.next(U)}};function M(){const U=g+E,R=F.now();if(R<U)return p=this.schedule(void 0,U-R),void D.add(p);y()}L.subscribe((0,b.x)(D,U=>{f=U,g=F.now(),p||(p=F.schedule(M,E),D.add(p))},()=>{y(),D.complete()},void 0,()=>{f=p=null}))})}},3572:(Bn,tt,S)=>{"use strict";S.d(tt,{d:()=>b});var c=S(9360),t=S(8251);function b(w){return(0,c.e)((E,F)=>{let L=!1;E.subscribe((0,t.x)(F,D=>{L=!0,F.next(D)},()=>{L||F.next(w),F.complete()}))})}},3997:(Bn,tt,S)=>{"use strict";S.d(tt,{x:()=>w});var c=S(2737),t=S(9360),b=S(8251);function w(F,L=c.y){return F=F??E,(0,t.e)((D,p)=>{let f,g=!0;D.subscribe((0,b.x)(p,y=>{const M=L(y);(g||!F(f,M))&&(g=!1,f=M,p.next(y))}))})}function E(F,L){return F===L}},2181:(Bn,tt,S)=>{"use strict";S.d(tt,{h:()=>b});var c=S(9360),t=S(8251);function b(w,E){return(0,c.e)((F,L)=>{let D=0;F.subscribe((0,t.x)(L,p=>w.call(E,p,D++)&&L.next(p)))})}},4716:(Bn,tt,S)=>{"use strict";S.d(tt,{x:()=>t});var c=S(9360);function t(b){return(0,c.e)((w,E)=>{try{w.subscribe(E)}finally{E.add(b)}})}},1374:(Bn,tt,S)=>{"use strict";S.d(tt,{P:()=>L});var c=S(6973),t=S(2181),b=S(8180),w=S(3572),E=S(3026),F=S(2737);function L(D,p){const f=arguments.length>=2;return g=>g.pipe(D?(0,t.h)((y,M)=>D(y,M,g)):F.y,(0,b.q)(1),f?(0,w.d)(p):(0,E.T)(()=>new c.K))}},7398:(Bn,tt,S)=>{"use strict";S.d(tt,{U:()=>b});var c=S(9360),t=S(8251);function b(w,E){return(0,c.e)((F,L)=>{let D=0;F.subscribe((0,t.x)(L,p=>{L.next(w.call(E,p,D++))}))})}},975:(Bn,tt,S)=>{"use strict";S.d(tt,{h:()=>t});var c=S(7398);function t(b){return(0,c.U)(()=>b)}},7537:(Bn,tt,S)=>{"use strict";S.d(tt,{J:()=>b});var c=S(1631),t=S(2737);function b(w=1/0){return(0,c.z)(t.y,w)}},1631:(Bn,tt,S)=>{"use strict";S.d(tt,{z:()=>D});var c=S(7398),t=S(4829),b=S(9360),w=S(7103),E=S(8251),L=S(4674);function D(p,f,g=1/0){return(0,L.m)(f)?D((y,M)=>(0,c.U)((U,R)=>f(y,U,M,R))((0,t.Xf)(p(y,M))),g):("number"==typeof f&&(g=f),(0,b.e)((y,M)=>function F(p,f,g,y,M,U,R,V){const k=[];let O=0,x=0,P=!1;const T=()=>{P&&!k.length&&!O&&f.complete()},N=B=>O<y?C(B):k.push(B),C=B=>{U&&f.next(B),O++;let Y=!1;(0,t.Xf)(g(B,x++)).subscribe((0,E.x)(f,q=>{M?.(q),U?N(q):f.next(q)},()=>{Y=!0},void 0,()=>{if(Y)try{for(O--;k.length&&O<y;){const q=k.shift();R?(0,w.f)(f,R,()=>C(q)):C(q)}T()}catch(q){f.error(q)}}))};return p.subscribe((0,E.x)(f,N,()=>{P=!0,T()})),()=>{V?.()}}(y,M,p,g)))}},3093:(Bn,tt,S)=>{"use strict";S.d(tt,{Q:()=>w});var c=S(7103),t=S(9360),b=S(8251);function w(E,F=0){return(0,t.e)((L,D)=>{L.subscribe((0,b.x)(D,p=>(0,c.f)(D,E,()=>D.next(p),F),()=>(0,c.f)(D,E,()=>D.complete(),F),p=>(0,c.f)(D,E,()=>D.error(p),F)))})}},6196:(Bn,tt,S)=>{"use strict";S.d(tt,{x:()=>b});var c=S(9360),t=S(8251);function b(){return(0,c.e)((w,E)=>{let F=null;w._refCount++;const L=(0,t.x)(E,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(F=null);const D=w._connection,p=F;F=null,D&&(!p||D===p)&&D.unsubscribe(),E.unsubscribe()});w.subscribe(L),L.closed||(F=w.connect())})}},3020:(Bn,tt,S)=>{"use strict";S.d(tt,{B:()=>E});var c=S(4829),t=S(8645),b=S(305),w=S(9360);function E(L={}){const{connector:D=(()=>new t.x),resetOnError:p=!0,resetOnComplete:f=!0,resetOnRefCountZero:g=!0}=L;return y=>{let M,U,R,V=0,k=!1,O=!1;const x=()=>{U?.unsubscribe(),U=void 0},P=()=>{x(),M=R=void 0,k=O=!1},T=()=>{const N=M;P(),N?.unsubscribe()};return(0,w.e)((N,C)=>{V++,!O&&!k&&x();const B=R=R??D();C.add(()=>{V--,0===V&&!O&&!k&&(U=F(T,g))}),B.subscribe(C),!M&&V>0&&(M=new b.Hp({next:Y=>B.next(Y),error:Y=>{O=!0,x(),U=F(P,p,Y),B.error(Y)},complete:()=>{k=!0,x(),U=F(P,f),B.complete()}}),(0,c.Xf)(N).subscribe(M))})(y)}}function F(L,D,...p){if(!0===D)return void L();if(!1===D)return;const f=new b.Hp({next:()=>{f.unsubscribe(),L()}});return(0,c.Xf)(D(...p)).subscribe(f)}},940:(Bn,tt,S)=>{"use strict";S.d(tt,{d:()=>E});var c=S(8645),t=S(4552);class b extends c.x{constructor(L=1/0,D=1/0,p=t.l){super(),this._bufferSize=L,this._windowTime=D,this._timestampProvider=p,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=D===1/0,this._bufferSize=Math.max(1,L),this._windowTime=Math.max(1,D)}next(L){const{isStopped:D,_buffer:p,_infiniteTimeWindow:f,_timestampProvider:g,_windowTime:y}=this;D||(p.push(L),!f&&p.push(g.now()+y)),this._trimBuffer(),super.next(L)}_subscribe(L){this._throwIfClosed(),this._trimBuffer();const D=this._innerSubscribe(L),{_infiniteTimeWindow:p,_buffer:f}=this,g=f.slice();for(let y=0;y<g.length&&!L.closed;y+=p?1:2)L.next(g[y]);return this._checkFinalizedStatuses(L),D}_trimBuffer(){const{_bufferSize:L,_timestampProvider:D,_buffer:p,_infiniteTimeWindow:f}=this,g=(f?1:2)*L;if(L<1/0&&g<p.length&&p.splice(0,p.length-g),!f){const y=D.now();let M=0;for(let U=1;U<p.length&&p[U]<=y;U+=2)M=U;M&&p.splice(0,M+1)}}}var w=S(3020);function E(F,L,D){let p,f=!1;return F&&"object"==typeof F?({bufferSize:p=1/0,windowTime:L=1/0,refCount:f=!1,scheduler:D}=F):p=F??1/0,(0,w.B)({connector:()=>new b(p,L,D),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:f})}},836:(Bn,tt,S)=>{"use strict";S.d(tt,{T:()=>t});var c=S(2181);function t(b){return(0,c.h)((w,E)=>b<=E)}},7921:(Bn,tt,S)=>{"use strict";S.d(tt,{O:()=>w});var c=S(5211),t=S(9940),b=S(9360);function w(...E){const F=(0,t.yG)(E);return(0,b.e)((L,D)=>{(F?(0,c.z)(E,L,F):(0,c.z)(E,L)).subscribe(D)})}},5137:(Bn,tt,S)=>{"use strict";S.d(tt,{R:()=>t});var c=S(9360);function t(b,w=0){return(0,c.e)((E,F)=>{F.add(b.schedule(()=>E.subscribe(F),w))})}},4664:(Bn,tt,S)=>{"use strict";S.d(tt,{w:()=>w});var c=S(4829),t=S(9360),b=S(8251);function w(E,F){return(0,t.e)((L,D)=>{let p=null,f=0,g=!1;const y=()=>g&&!p&&D.complete();L.subscribe((0,b.x)(D,M=>{p?.unsubscribe();let U=0;const R=f++;(0,c.Xf)(E(M,R)).subscribe(p=(0,b.x)(D,V=>D.next(F?F(M,V,R,U++):V),()=>{p=null,y()}))},()=>{g=!0,y()}))})}},8180:(Bn,tt,S)=>{"use strict";S.d(tt,{q:()=>w});var c=S(6232),t=S(9360),b=S(8251);function w(E){return E<=0?()=>c.E:(0,t.e)((F,L)=>{let D=0;F.subscribe((0,b.x)(L,p=>{++D<=E&&(L.next(p),E<=D&&L.complete())}))})}},9773:(Bn,tt,S)=>{"use strict";S.d(tt,{R:()=>E});var c=S(9360),t=S(8251),b=S(4829),w=S(2420);function E(F){return(0,c.e)((L,D)=>{(0,b.Xf)(F).subscribe((0,t.x)(D,()=>D.complete(),w.Z)),!D.closed&&L.subscribe(D)})}},9397:(Bn,tt,S)=>{"use strict";S.d(tt,{b:()=>E});var c=S(4674),t=S(9360),b=S(8251),w=S(2737);function E(F,L,D){const p=(0,c.m)(F)||L||D?{next:F,error:L,complete:D}:F;return p?(0,t.e)((f,g)=>{var y;null===(y=p.subscribe)||void 0===y||y.call(p);let M=!0;f.subscribe((0,b.x)(g,U=>{var R;null===(R=p.next)||void 0===R||R.call(p,U),g.next(U)},()=>{var U;M=!1,null===(U=p.complete)||void 0===U||U.call(p),g.complete()},U=>{var R;M=!1,null===(R=p.error)||void 0===R||R.call(p,U),g.error(U)},()=>{var U,R;M&&(null===(U=p.unsubscribe)||void 0===U||U.call(p)),null===(R=p.finalize)||void 0===R||R.call(p)}))}):w.y}},3026:(Bn,tt,S)=>{"use strict";S.d(tt,{T:()=>w});var c=S(6973),t=S(9360),b=S(8251);function w(F=E){return(0,t.e)((L,D)=>{let p=!1;L.subscribe((0,b.x)(D,f=>{p=!0,D.next(f)},()=>p?D.complete():D.error(F())))})}function E(){return new c.K}},1954:(Bn,tt,S)=>{"use strict";S.d(tt,{o:()=>E});var c=S(7394);class t extends c.w0{constructor(L,D){super()}schedule(L,D=0){return this}}const b={setInterval(F,L,...D){const{delegate:p}=b;return p?.setInterval?p.setInterval(F,L,...D):setInterval(F,L,...D)},clearInterval(F){const{delegate:L}=b;return(L?.clearInterval||clearInterval)(F)},delegate:void 0};var w=S(9039);class E extends t{constructor(L,D){super(L,D),this.scheduler=L,this.work=D,this.pending=!1}schedule(L,D=0){var p;if(this.closed)return this;this.state=L;const f=this.id,g=this.scheduler;return null!=f&&(this.id=this.recycleAsyncId(g,f,D)),this.pending=!0,this.delay=D,this.id=null!==(p=this.id)&&void 0!==p?p:this.requestAsyncId(g,this.id,D),this}requestAsyncId(L,D,p=0){return b.setInterval(L.flush.bind(L,this),p)}recycleAsyncId(L,D,p=0){if(null!=p&&this.delay===p&&!1===this.pending)return D;null!=D&&b.clearInterval(D)}execute(L,D){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const p=this._execute(L,D);if(p)return p;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(L,D){let f,p=!1;try{this.work(L)}catch(g){p=!0,f=g||new Error("Scheduled action threw falsy error")}if(p)return this.unsubscribe(),f}unsubscribe(){if(!this.closed){const{id:L,scheduler:D}=this,{actions:p}=D;this.work=this.state=this.scheduler=null,this.pending=!1,(0,w.P)(p,this),null!=L&&(this.id=this.recycleAsyncId(D,L,null)),this.delay=null,super.unsubscribe()}}}},2631:(Bn,tt,S)=>{"use strict";S.d(tt,{v:()=>b});var c=S(4552);class t{constructor(E,F=t.now){this.schedulerActionCtor=E,this.now=F}schedule(E,F=0,L){return new this.schedulerActionCtor(this,E).schedule(L,F)}}t.now=c.l.now;class b extends t{constructor(E,F=t.now){super(E,F),this.actions=[],this._active=!1}flush(E){const{actions:F}=this;if(this._active)return void F.push(E);let L;this._active=!0;do{if(L=E.execute(E.state,E.delay))break}while(E=F.shift());if(this._active=!1,L){for(;E=F.shift();)E.unsubscribe();throw L}}}},6321:(Bn,tt,S)=>{"use strict";S.d(tt,{P:()=>w,z:()=>b});var c=S(1954);const b=new(S(2631).v)(c.o),w=b},4552:(Bn,tt,S)=>{"use strict";S.d(tt,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},7599:(Bn,tt,S)=>{"use strict";S.d(tt,{z:()=>c});const c={setTimeout(t,b,...w){const{delegate:E}=c;return E?.setTimeout?E.setTimeout(t,b,...w):setTimeout(t,b,...w)},clearTimeout(t){const{delegate:b}=c;return(b?.clearTimeout||clearTimeout)(t)},delegate:void 0}},4971:(Bn,tt,S)=>{"use strict";S.d(tt,{h:()=>t});const t=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Bn,tt,S)=>{"use strict";S.d(tt,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Bn,tt,S)=>{"use strict";S.d(tt,{K:()=>t});const t=(0,S(2306).d)(b=>function(){b(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Bn,tt,S)=>{"use strict";S.d(tt,{_6:()=>F,jO:()=>w,yG:()=>E});var c=S(4674),t=S(671);function b(L){return L[L.length-1]}function w(L){return(0,c.m)(b(L))?L.pop():void 0}function E(L){return(0,t.K)(b(L))?L.pop():void 0}function F(L,D){return"number"==typeof b(L)?L.pop():D}},7453:(Bn,tt,S)=>{"use strict";S.d(tt,{D:()=>E});const{isArray:c}=Array,{getPrototypeOf:t,prototype:b,keys:w}=Object;function E(L){if(1===L.length){const D=L[0];if(c(D))return{args:D,keys:null};if(function F(L){return L&&"object"==typeof L&&t(L)===b}(D)){const p=w(D);return{args:p.map(f=>D[f]),keys:p}}}return{args:L,keys:null}}},9039:(Bn,tt,S)=>{"use strict";function c(t,b){if(t){const w=t.indexOf(b);0<=w&&t.splice(w,1)}}S.d(tt,{P:()=>c})},2306:(Bn,tt,S)=>{"use strict";function c(t){const w=t(E=>{Error.call(E),E.stack=(new Error).stack});return w.prototype=Object.create(Error.prototype),w.prototype.constructor=w,w}S.d(tt,{d:()=>c})},2714:(Bn,tt,S)=>{"use strict";function c(t,b){return t.reduce((w,E,F)=>(w[E]=b[F],w),{})}S.d(tt,{n:()=>c})},1441:(Bn,tt,S)=>{"use strict";S.d(tt,{O:()=>w,x:()=>b});var c=S(2653);let t=null;function b(E){if(c.config.useDeprecatedSynchronousErrorHandling){const F=!t;if(F&&(t={errorThrown:!1,error:null}),E(),F){const{errorThrown:L,error:D}=t;if(t=null,L)throw D}}else E()}function w(E){c.config.useDeprecatedSynchronousErrorHandling&&t&&(t.errorThrown=!0,t.error=E)}},7103:(Bn,tt,S)=>{"use strict";function c(t,b,w,E=0,F=!1){const L=b.schedule(function(){w(),F?t.add(this.schedule(null,E)):this.unsubscribe()},E);if(t.add(L),!F)return L}S.d(tt,{f:()=>c})},2737:(Bn,tt,S)=>{"use strict";function c(t){return t}S.d(tt,{y:()=>c})},4266:(Bn,tt,S)=>{"use strict";S.d(tt,{z:()=>c});const c=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5726:(Bn,tt,S)=>{"use strict";S.d(tt,{D:()=>t});var c=S(4674);function t(b){return Symbol.asyncIterator&&(0,c.m)(b?.[Symbol.asyncIterator])}},4674:(Bn,tt,S)=>{"use strict";function c(t){return"function"==typeof t}S.d(tt,{m:()=>c})},8382:(Bn,tt,S)=>{"use strict";S.d(tt,{c:()=>b});var c=S(4850),t=S(4674);function b(w){return(0,t.m)(w[c.L])}},3664:(Bn,tt,S)=>{"use strict";S.d(tt,{T:()=>b});var c=S(4971),t=S(4674);function b(w){return(0,t.m)(w?.[c.h])}},2664:(Bn,tt,S)=>{"use strict";S.d(tt,{b:()=>b});var c=S(5592),t=S(4674);function b(w){return!!w&&(w instanceof c.y||(0,t.m)(w.lift)&&(0,t.m)(w.subscribe))}},4026:(Bn,tt,S)=>{"use strict";S.d(tt,{t:()=>t});var c=S(4674);function t(b){return(0,c.m)(b?.then)}},541:(Bn,tt,S)=>{"use strict";S.d(tt,{L:()=>w,Q:()=>b});var c=S(7582),t=S(4674);function b(E){return(0,c.FC)(this,arguments,function*(){const L=E.getReader();try{for(;;){const{value:D,done:p}=yield(0,c.qq)(L.read());if(p)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(D)}}finally{L.releaseLock()}})}function w(E){return(0,t.m)(E?.getReader)}},671:(Bn,tt,S)=>{"use strict";S.d(tt,{K:()=>t});var c=S(4674);function t(b){return b&&(0,c.m)(b.schedule)}},9360:(Bn,tt,S)=>{"use strict";S.d(tt,{A:()=>t,e:()=>b});var c=S(4674);function t(w){return(0,c.m)(w?.lift)}function b(w){return E=>{if(t(E))return E.lift(function(F){try{return w(F,this)}catch(L){this.error(L)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Bn,tt,S)=>{"use strict";S.d(tt,{Z:()=>w});var c=S(7398);const{isArray:t}=Array;function w(E){return(0,c.U)(F=>function b(E,F){return t(F)?E(...F):E(F)}(E,F))}},2420:(Bn,tt,S)=>{"use strict";function c(){}S.d(tt,{Z:()=>c})},8407:(Bn,tt,S)=>{"use strict";S.d(tt,{U:()=>b,z:()=>t});var c=S(2737);function t(...w){return b(w)}function b(w){return 0===w.length?c.y:1===w.length?w[0]:function(F){return w.reduce((L,D)=>D(L),F)}}},3894:(Bn,tt,S)=>{"use strict";S.d(tt,{h:()=>b});var c=S(2653),t=S(7599);function b(w){t.z.setTimeout(()=>{const{onUnhandledError:E}=c.config;if(!E)throw w;E(w)})}},9853:(Bn,tt,S)=>{"use strict";function c(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}S.d(tt,{z:()=>c})},6825:(Bn,tt,S)=>{"use strict";S.d(tt,{F4:()=>f,IO:()=>R,LC:()=>t,SB:()=>p,X$:()=>w,ZE:()=>O,ZN:()=>k,_j:()=>c,eR:()=>g,jt:()=>E,k1:()=>x,l3:()=>b,oB:()=>D,pV:()=>M,ru:()=>F,vP:()=>L});class c{}class t{}const b="*";function w(P,T){return{type:7,name:P,definitions:T,options:{}}}function E(P,T=null){return{type:4,styles:T,timings:P}}function F(P,T=null){return{type:3,steps:P,options:T}}function L(P,T=null){return{type:2,steps:P,options:T}}function D(P){return{type:6,styles:P,offset:null}}function p(P,T,N){return{type:0,name:P,styles:T,options:N}}function f(P){return{type:5,steps:P}}function g(P,T,N=null){return{type:1,expr:P,animation:T,options:N}}function M(P=null){return{type:9,options:P}}function R(P,T,N=null){return{type:11,selector:P,animation:T,options:N}}class k{constructor(T=0,N=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=T+N}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(T=>T()),this._onDoneFns=[])}onStart(T){this._originalOnStartFns.push(T),this._onStartFns.push(T)}onDone(T){this._originalOnDoneFns.push(T),this._onDoneFns.push(T)}onDestroy(T){this._onDestroyFns.push(T)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(T=>T()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(T=>T()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(T){this._position=this.totalTime?T*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(T){const N="start"==T?this._onStartFns:this._onDoneFns;N.forEach(C=>C()),N.length=0}}class O{constructor(T){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=T;let N=0,C=0,B=0;const Y=this.players.length;0==Y?queueMicrotask(()=>this._onFinish()):this.players.forEach(q=>{q.onDone(()=>{++N==Y&&this._onFinish()}),q.onDestroy(()=>{++C==Y&&this._onDestroy()}),q.onStart(()=>{++B==Y&&this._onStart()})}),this.totalTime=this.players.reduce((q,le)=>Math.max(q,le.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(T=>T()),this._onDoneFns=[])}init(){this.players.forEach(T=>T.init())}onStart(T){this._onStartFns.push(T)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(T=>T()),this._onStartFns=[])}onDone(T){this._onDoneFns.push(T)}onDestroy(T){this._onDestroyFns.push(T)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(T=>T.play())}pause(){this.players.forEach(T=>T.pause())}restart(){this.players.forEach(T=>T.restart())}finish(){this._onFinish(),this.players.forEach(T=>T.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(T=>T.destroy()),this._onDestroyFns.forEach(T=>T()),this._onDestroyFns=[])}reset(){this.players.forEach(T=>T.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(T){const N=T*this.totalTime;this.players.forEach(C=>{const B=C.totalTime?Math.min(1,N/C.totalTime):1;C.setPosition(B)})}getPosition(){const T=this.players.reduce((N,C)=>null===N||C.totalTime>N.totalTime?C:N,null);return null!=T?T.getPosition():0}beforeDestroy(){this.players.forEach(T=>{T.beforeDestroy&&T.beforeDestroy()})}triggerCallback(T){const N="start"==T?this._onStartFns:this._onDoneFns;N.forEach(C=>C()),N.length=0}}const x="!"},4300:(Bn,tt,S)=>{"use strict";S.d(tt,{$s:()=>Fe,Kd:()=>it,X6:()=>ie,Zf:()=>T,iD:()=>N,ic:()=>Ce,kH:()=>en,mK:()=>se,qV:()=>W,qm:()=>Sn,rt:()=>nn,s1:()=>ge,tE:()=>Ht,yG:()=>ee});var c=S(6814),t=S(5879),b=S(2831),w=S(8645),E=S(7394),F=S(5619),L=S(2096),D=S(6028),p=S(9397),f=S(3620),g=S(2181),y=S(7398),M=S(8180),U=S(836),R=S(3997),V=S(9773),k=S(2495),O=S(7131),x=S(1088);const P=" ";function T(Dt,mt,Qe){const De=C(Dt,mt);De.some(Pe=>Pe.trim()==Qe.trim())||(De.push(Qe.trim()),Dt.setAttribute(mt,De.join(P)))}function N(Dt,mt,Qe){const Pe=C(Dt,mt).filter(Ye=>Ye!=Qe.trim());Pe.length?Dt.setAttribute(mt,Pe.join(P)):Dt.removeAttribute(mt)}function C(Dt,mt){return(Dt.getAttribute(mt)||"").match(/\S+/g)||[]}const Y="cdk-describedby-message",q="cdk-describedby-host";let le=0,Fe=(()=>{class Dt{constructor(Qe,De){this._platform=De,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+le++,this._document=Qe,this._id=(0,t.f3M)(t.AFp)+"-"+le++}describe(Qe,De,Pe){if(!this._canBeDescribed(Qe,De))return;const Ye=$(De,Pe);"string"!=typeof De?(ae(De,this._id),this._messageRegistry.set(Ye,{messageElement:De,referenceCount:0})):this._messageRegistry.has(Ye)||this._createMessageElement(De,Pe),this._isElementDescribedByMessage(Qe,Ye)||this._addMessageReference(Qe,Ye)}removeDescription(Qe,De,Pe){if(!De||!this._isElementNode(Qe))return;const Ye=$(De,Pe);if(this._isElementDescribedByMessage(Qe,Ye)&&this._removeMessageReference(Qe,Ye),"string"==typeof De){const Ze=this._messageRegistry.get(Ye);Ze&&0===Ze.referenceCount&&this._deleteMessageElement(Ye)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const Qe=this._document.querySelectorAll(`[${q}="${this._id}"]`);for(let De=0;De<Qe.length;De++)this._removeCdkDescribedByReferenceIds(Qe[De]),Qe[De].removeAttribute(q);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(Qe,De){const Pe=this._document.createElement("div");ae(Pe,this._id),Pe.textContent=Qe,De&&Pe.setAttribute("role",De),this._createMessagesContainer(),this._messagesContainer.appendChild(Pe),this._messageRegistry.set($(Qe,De),{messageElement:Pe,referenceCount:0})}_deleteMessageElement(Qe){this._messageRegistry.get(Qe)?.messageElement?.remove(),this._messageRegistry.delete(Qe)}_createMessagesContainer(){if(this._messagesContainer)return;const Qe="cdk-describedby-message-container",De=this._document.querySelectorAll(`.${Qe}[platform="server"]`);for(let Ye=0;Ye<De.length;Ye++)De[Ye].remove();const Pe=this._document.createElement("div");Pe.style.visibility="hidden",Pe.classList.add(Qe),Pe.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Pe.setAttribute("platform","server"),this._document.body.appendChild(Pe),this._messagesContainer=Pe}_removeCdkDescribedByReferenceIds(Qe){const De=C(Qe,"aria-describedby").filter(Pe=>0!=Pe.indexOf(Y));Qe.setAttribute("aria-describedby",De.join(" "))}_addMessageReference(Qe,De){const Pe=this._messageRegistry.get(De);T(Qe,"aria-describedby",Pe.messageElement.id),Qe.setAttribute(q,this._id),Pe.referenceCount++}_removeMessageReference(Qe,De){const Pe=this._messageRegistry.get(De);Pe.referenceCount--,N(Qe,"aria-describedby",Pe.messageElement.id),Qe.removeAttribute(q)}_isElementDescribedByMessage(Qe,De){const Pe=C(Qe,"aria-describedby"),Ye=this._messageRegistry.get(De),Ze=Ye&&Ye.messageElement.id;return!!Ze&&-1!=Pe.indexOf(Ze)}_canBeDescribed(Qe,De){if(!this._isElementNode(Qe))return!1;if(De&&"object"==typeof De)return!0;const Pe=null==De?"":`${De}`.trim(),Ye=Qe.getAttribute("aria-label");return!(!Pe||Ye&&Ye.trim()===Pe)}_isElementNode(Qe){return Qe.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.LFG(c.K0),t.LFG(b.t4))};static#t=this.\u0275prov=t.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();function $(Dt,mt){return"string"==typeof Dt?`${mt||""}/${Dt}`:Dt}function ae(Dt,mt){Dt.id||(Dt.id=`${Y}-${mt}-${le++}`)}class K{constructor(mt){this._items=mt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new w.x,this._typeaheadSubscription=E.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Qe=>Qe.disabled,this._pressedLetters=[],this.tabOut=new w.x,this.change=new w.x,mt instanceof t.n_E&&(this._itemChangesSubscription=mt.changes.subscribe(Qe=>{if(this._activeItem){const Pe=Qe.toArray().indexOf(this._activeItem);Pe>-1&&Pe!==this._activeItemIndex&&(this._activeItemIndex=Pe)}}))}skipPredicate(mt){return this._skipPredicateFn=mt,this}withWrap(mt=!0){return this._wrap=mt,this}withVerticalOrientation(mt=!0){return this._vertical=mt,this}withHorizontalOrientation(mt){return this._horizontal=mt,this}withAllowedModifierKeys(mt){return this._allowedModifierKeys=mt,this}withTypeAhead(mt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,p.b)(Qe=>this._pressedLetters.push(Qe)),(0,f.b)(mt),(0,g.h)(()=>this._pressedLetters.length>0),(0,y.U)(()=>this._pressedLetters.join(""))).subscribe(Qe=>{const De=this._getItemsArray();for(let Pe=1;Pe<De.length+1;Pe++){const Ye=(this._activeItemIndex+Pe)%De.length,Ze=De[Ye];if(!this._skipPredicateFn(Ze)&&0===Ze.getLabel().toUpperCase().trim().indexOf(Qe)){this.setActiveItem(Ye);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(mt=!0){return this._homeAndEnd=mt,this}withPageUpDown(mt=!0,Qe=10){return this._pageUpAndDown={enabled:mt,delta:Qe},this}setActiveItem(mt){const Qe=this._activeItem;this.updateActiveItem(mt),this._activeItem!==Qe&&this.change.next(this._activeItemIndex)}onKeydown(mt){const Qe=mt.keyCode,Pe=["altKey","ctrlKey","metaKey","shiftKey"].every(Ye=>!mt[Ye]||this._allowedModifierKeys.indexOf(Ye)>-1);switch(Qe){case D.Mf:return void this.tabOut.next();case D.JH:if(this._vertical&&Pe){this.setNextItemActive();break}return;case D.LH:if(this._vertical&&Pe){this.setPreviousItemActive();break}return;case D.SV:if(this._horizontal&&Pe){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case D.oh:if(this._horizontal&&Pe){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case D.Sd:if(this._homeAndEnd&&Pe){this.setFirstItemActive();break}return;case D.uR:if(this._homeAndEnd&&Pe){this.setLastItemActive();break}return;case D.Ku:if(this._pageUpAndDown.enabled&&Pe){const Ye=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Ye>0?Ye:0,1);break}return;case D.VM:if(this._pageUpAndDown.enabled&&Pe){const Ye=this._activeItemIndex+this._pageUpAndDown.delta,Ze=this._getItemsArray().length;this._setActiveItemByIndex(Ye<Ze?Ye:Ze-1,-1);break}return;default:return void((Pe||(0,D.Vb)(mt,"shiftKey"))&&(mt.key&&1===mt.key.length?this._letterKeyStream.next(mt.key.toLocaleUpperCase()):(Qe>=D.A&&Qe<=D.Z||Qe>=D.xE&&Qe<=D.aO)&&this._letterKeyStream.next(String.fromCharCode(Qe))))}this._pressedLetters=[],mt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(mt){const Qe=this._getItemsArray(),De="number"==typeof mt?mt:Qe.indexOf(mt);this._activeItem=Qe[De]??null,this._activeItemIndex=De}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(mt){this._wrap?this._setActiveInWrapMode(mt):this._setActiveInDefaultMode(mt)}_setActiveInWrapMode(mt){const Qe=this._getItemsArray();for(let De=1;De<=Qe.length;De++){const Pe=(this._activeItemIndex+mt*De+Qe.length)%Qe.length;if(!this._skipPredicateFn(Qe[Pe]))return void this.setActiveItem(Pe)}}_setActiveInDefaultMode(mt){this._setActiveItemByIndex(this._activeItemIndex+mt,mt)}_setActiveItemByIndex(mt,Qe){const De=this._getItemsArray();if(De[mt]){for(;this._skipPredicateFn(De[mt]);)if(!De[mt+=Qe])return;this.setActiveItem(mt)}}_getItemsArray(){return this._items instanceof t.n_E?this._items.toArray():this._items}}class ge extends K{setActiveItem(mt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(mt),this.activeItem&&this.activeItem.setActiveStyles()}}let Ce=(()=>{class Dt{constructor(Qe){this._platform=Qe}isDisabled(Qe){return Qe.hasAttribute("disabled")}isVisible(Qe){return function fe(Dt){return!!(Dt.offsetWidth||Dt.offsetHeight||"function"==typeof Dt.getClientRects&&Dt.getClientRects().length)}(Qe)&&"visible"===getComputedStyle(Qe).visibility}isTabbable(Qe){if(!this._platform.isBrowser)return!1;const De=function Le(Dt){try{return Dt.frameElement}catch{return null}}(function Ne(Dt){return Dt.ownerDocument&&Dt.ownerDocument.defaultView||window}(Qe));if(De&&(-1===He(De)||!this.isVisible(De)))return!1;let Pe=Qe.nodeName.toLowerCase(),Ye=He(Qe);return Qe.hasAttribute("contenteditable")?-1!==Ye:!("iframe"===Pe||"object"===Pe||this._platform.WEBKIT&&this._platform.IOS&&!function at(Dt){let mt=Dt.nodeName.toLowerCase(),Qe="input"===mt&&Dt.type;return"text"===Qe||"password"===Qe||"select"===mt||"textarea"===mt}(Qe))&&("audio"===Pe?!!Qe.hasAttribute("controls")&&-1!==Ye:"video"===Pe?-1!==Ye&&(null!==Ye||this._platform.FIREFOX||Qe.hasAttribute("controls")):Qe.tabIndex>=0)}isFocusable(Qe,De){return function Je(Dt){return!function Ae(Dt){return function Ue(Dt){return"input"==Dt.nodeName.toLowerCase()}(Dt)&&"hidden"==Dt.type}(Dt)&&(function Re(Dt){let mt=Dt.nodeName.toLowerCase();return"input"===mt||"select"===mt||"button"===mt||"textarea"===mt}(Dt)||function pe(Dt){return function ke(Dt){return"a"==Dt.nodeName.toLowerCase()}(Dt)&&Dt.hasAttribute("href")}(Dt)||Dt.hasAttribute("contenteditable")||we(Dt))}(Qe)&&!this.isDisabled(Qe)&&(De?.ignoreVisibility||this.isVisible(Qe))}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.LFG(b.t4))};static#t=this.\u0275prov=t.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();function we(Dt){if(!Dt.hasAttribute("tabindex")||void 0===Dt.tabIndex)return!1;let mt=Dt.getAttribute("tabindex");return!(!mt||isNaN(parseInt(mt,10)))}function He(Dt){if(!we(Dt))return null;const mt=parseInt(Dt.getAttribute("tabindex")||"",10);return isNaN(mt)?-1:mt}class Te{get enabled(){return this._enabled}set enabled(mt){this._enabled=mt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(mt,this._startAnchor),this._toggleAnchorTabIndex(mt,this._endAnchor))}constructor(mt,Qe,De,Pe,Ye=!1){this._element=mt,this._checker=Qe,this._ngZone=De,this._document=Pe,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Ye||this.attachAnchors()}destroy(){const mt=this._startAnchor,Qe=this._endAnchor;mt&&(mt.removeEventListener("focus",this.startAnchorListener),mt.remove()),Qe&&(Qe.removeEventListener("focus",this.endAnchorListener),Qe.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(mt){return new Promise(Qe=>{this._executeOnStable(()=>Qe(this.focusInitialElement(mt)))})}focusFirstTabbableElementWhenReady(mt){return new Promise(Qe=>{this._executeOnStable(()=>Qe(this.focusFirstTabbableElement(mt)))})}focusLastTabbableElementWhenReady(mt){return new Promise(Qe=>{this._executeOnStable(()=>Qe(this.focusLastTabbableElement(mt)))})}_getRegionBoundary(mt){const Qe=this._element.querySelectorAll(`[cdk-focus-region-${mt}], [cdkFocusRegion${mt}], [cdk-focus-${mt}]`);return"start"==mt?Qe.length?Qe[0]:this._getFirstTabbableElement(this._element):Qe.length?Qe[Qe.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(mt){const Qe=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Qe){if(!this._checker.isFocusable(Qe)){const De=this._getFirstTabbableElement(Qe);return De?.focus(mt),!!De}return Qe.focus(mt),!0}return this.focusFirstTabbableElement(mt)}focusFirstTabbableElement(mt){const Qe=this._getRegionBoundary("start");return Qe&&Qe.focus(mt),!!Qe}focusLastTabbableElement(mt){const Qe=this._getRegionBoundary("end");return Qe&&Qe.focus(mt),!!Qe}hasAttached(){return this._hasAttached}_getFirstTabbableElement(mt){if(this._checker.isFocusable(mt)&&this._checker.isTabbable(mt))return mt;const Qe=mt.children;for(let De=0;De<Qe.length;De++){const Pe=Qe[De].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Qe[De]):null;if(Pe)return Pe}return null}_getLastTabbableElement(mt){if(this._checker.isFocusable(mt)&&this._checker.isTabbable(mt))return mt;const Qe=mt.children;for(let De=Qe.length-1;De>=0;De--){const Pe=Qe[De].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Qe[De]):null;if(Pe)return Pe}return null}_createAnchor(){const mt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,mt),mt.classList.add("cdk-visually-hidden"),mt.classList.add("cdk-focus-trap-anchor"),mt.setAttribute("aria-hidden","true"),mt}_toggleAnchorTabIndex(mt,Qe){mt?Qe.setAttribute("tabindex","0"):Qe.removeAttribute("tabindex")}toggleAnchors(mt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(mt,this._startAnchor),this._toggleAnchorTabIndex(mt,this._endAnchor))}_executeOnStable(mt){this._ngZone.isStable?mt():this._ngZone.onStable.pipe((0,M.q)(1)).subscribe(mt)}}let W=(()=>{class Dt{constructor(Qe,De,Pe){this._checker=Qe,this._ngZone=De,this._document=Pe}create(Qe,De=!1){return new Te(Qe,this._checker,this._ngZone,this._document,De)}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.LFG(Ce),t.LFG(t.R0b),t.LFG(c.K0))};static#t=this.\u0275prov=t.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})(),se=(()=>{class Dt{get enabled(){return this.focusTrap.enabled}set enabled(Qe){this.focusTrap.enabled=(0,k.Ig)(Qe)}get autoCapture(){return this._autoCapture}set autoCapture(Qe){this._autoCapture=(0,k.Ig)(Qe)}constructor(Qe,De,Pe){this._elementRef=Qe,this._focusTrapFactory=De,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(Qe){const De=Qe.autoCapture;De&&!De.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,b.ht)(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.Y36(t.SBq),t.Y36(W),t.Y36(c.K0))};static#t=this.\u0275dir=t.lG2({type:Dt,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[t.TTD]})}return Dt})();function ie(Dt){return 0===Dt.buttons||0===Dt.offsetX&&0===Dt.offsetY}function ee(Dt){const mt=Dt.touches&&Dt.touches[0]||Dt.changedTouches&&Dt.changedTouches[0];return!(!mt||-1!==mt.identifier||null!=mt.radiusX&&1!==mt.radiusX||null!=mt.radiusY&&1!==mt.radiusY)}const X=new t.OlP("cdk-input-modality-detector-options"),ue={ignoreKeys:[D.zL,D.jx,D.b2,D.MW,D.JU]},de=(0,b.i$)({passive:!0,capture:!0});let xe=(()=>{class Dt{get mostRecentModality(){return this._modality.value}constructor(Qe,De,Pe,Ye){this._platform=Qe,this._mostRecentTarget=null,this._modality=new F.X(null),this._lastTouchMs=0,this._onKeydown=Ze=>{this._options?.ignoreKeys?.some(ct=>ct===Ze.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,b.sA)(Ze))},this._onMousedown=Ze=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ie(Ze)?"keyboard":"mouse"),this._mostRecentTarget=(0,b.sA)(Ze))},this._onTouchstart=Ze=>{ee(Ze)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,b.sA)(Ze))},this._options={...ue,...Ye},this.modalityDetected=this._modality.pipe((0,U.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,R.x)()),Qe.isBrowser&&De.runOutsideAngular(()=>{Pe.addEventListener("keydown",this._onKeydown,de),Pe.addEventListener("mousedown",this._onMousedown,de),Pe.addEventListener("touchstart",this._onTouchstart,de)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,de),document.removeEventListener("mousedown",this._onMousedown,de),document.removeEventListener("touchstart",this._onTouchstart,de))}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.LFG(b.t4),t.LFG(t.R0b),t.LFG(c.K0),t.LFG(X,8))};static#t=this.\u0275prov=t.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();const Ke=new t.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Ve(){return null}}),lt=new t.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let dt=0,it=(()=>{class Dt{constructor(Qe,De,Pe,Ye){this._ngZone=De,this._defaultOptions=Ye,this._document=Pe,this._liveElement=Qe||this._createLiveElement()}announce(Qe,...De){const Pe=this._defaultOptions;let Ye,Ze;return 1===De.length&&"number"==typeof De[0]?Ze=De[0]:[Ye,Ze]=De,this.clear(),clearTimeout(this._previousTimeout),Ye||(Ye=Pe&&Pe.politeness?Pe.politeness:"polite"),null==Ze&&Pe&&(Ze=Pe.duration),this._liveElement.setAttribute("aria-live",Ye),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(ct=>this._currentResolve=ct)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Qe,"number"==typeof Ze&&(this._previousTimeout=setTimeout(()=>this.clear(),Ze)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Qe="cdk-live-announcer-element",De=this._document.getElementsByClassName(Qe),Pe=this._document.createElement("div");for(let Ye=0;Ye<De.length;Ye++)De[Ye].remove();return Pe.classList.add(Qe),Pe.classList.add("cdk-visually-hidden"),Pe.setAttribute("aria-atomic","true"),Pe.setAttribute("aria-live","polite"),Pe.id="cdk-live-announcer-"+dt++,this._document.body.appendChild(Pe),Pe}_exposeAnnouncerToModals(Qe){const De=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Pe=0;Pe<De.length;Pe++){const Ye=De[Pe],Ze=Ye.getAttribute("aria-owns");Ze?-1===Ze.indexOf(Qe)&&Ye.setAttribute("aria-owns",Ze+" "+Qe):Ye.setAttribute("aria-owns",Qe)}}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.LFG(Ke,8),t.LFG(t.R0b),t.LFG(c.K0),t.LFG(lt,8))};static#t=this.\u0275prov=t.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();const Ut=new t.OlP("cdk-focus-monitor-default-options"),wt=(0,b.i$)({passive:!0,capture:!0});let Ht=(()=>{class Dt{constructor(Qe,De,Pe,Ye,Ze){this._ngZone=Qe,this._platform=De,this._inputModalityDetector=Pe,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new w.x,this._rootNodeFocusAndBlurListener=ct=>{for(let ut=(0,b.sA)(ct);ut;ut=ut.parentElement)"focus"===ct.type?this._onFocus(ct,ut):this._onBlur(ct,ut)},this._document=Ye,this._detectionMode=Ze?.detectionMode||0}monitor(Qe,De=!1){const Pe=(0,k.fI)(Qe);if(!this._platform.isBrowser||1!==Pe.nodeType)return(0,L.of)();const Ye=(0,b.kV)(Pe)||this._getDocument(),Ze=this._elementInfo.get(Pe);if(Ze)return De&&(Ze.checkChildren=!0),Ze.subject;const ct={checkChildren:De,subject:new w.x,rootNode:Ye};return this._elementInfo.set(Pe,ct),this._registerGlobalListeners(ct),ct.subject}stopMonitoring(Qe){const De=(0,k.fI)(Qe),Pe=this._elementInfo.get(De);Pe&&(Pe.subject.complete(),this._setClasses(De),this._elementInfo.delete(De),this._removeGlobalListeners(Pe))}focusVia(Qe,De,Pe){const Ye=(0,k.fI)(Qe);Ye===this._getDocument().activeElement?this._getClosestElementsInfo(Ye).forEach(([ct,st])=>this._originChanged(ct,De,st)):(this._setOrigin(De),"function"==typeof Ye.focus&&Ye.focus(Pe))}ngOnDestroy(){this._elementInfo.forEach((Qe,De)=>this.stopMonitoring(De))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Qe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Qe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Qe&&this._isLastInteractionFromInputLabel(Qe)?"mouse":"program"}_shouldBeAttributedToTouch(Qe){return 1===this._detectionMode||!!Qe?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Qe,De){Qe.classList.toggle("cdk-focused",!!De),Qe.classList.toggle("cdk-touch-focused","touch"===De),Qe.classList.toggle("cdk-keyboard-focused","keyboard"===De),Qe.classList.toggle("cdk-mouse-focused","mouse"===De),Qe.classList.toggle("cdk-program-focused","program"===De)}_setOrigin(Qe,De=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Qe,this._originFromTouchInteraction="touch"===Qe&&De,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Qe,De){const Pe=this._elementInfo.get(De),Ye=(0,b.sA)(Qe);!Pe||!Pe.checkChildren&&De!==Ye||this._originChanged(De,this._getFocusOrigin(Ye),Pe)}_onBlur(Qe,De){const Pe=this._elementInfo.get(De);!Pe||Pe.checkChildren&&Qe.relatedTarget instanceof Node&&De.contains(Qe.relatedTarget)||(this._setClasses(De),this._emitOrigin(Pe,null))}_emitOrigin(Qe,De){Qe.subject.observers.length&&this._ngZone.run(()=>Qe.subject.next(De))}_registerGlobalListeners(Qe){if(!this._platform.isBrowser)return;const De=Qe.rootNode,Pe=this._rootNodeFocusListenerCount.get(De)||0;Pe||this._ngZone.runOutsideAngular(()=>{De.addEventListener("focus",this._rootNodeFocusAndBlurListener,wt),De.addEventListener("blur",this._rootNodeFocusAndBlurListener,wt)}),this._rootNodeFocusListenerCount.set(De,Pe+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,V.R)(this._stopInputModalityDetector)).subscribe(Ye=>{this._setOrigin(Ye,!0)}))}_removeGlobalListeners(Qe){const De=Qe.rootNode;if(this._rootNodeFocusListenerCount.has(De)){const Pe=this._rootNodeFocusListenerCount.get(De);Pe>1?this._rootNodeFocusListenerCount.set(De,Pe-1):(De.removeEventListener("focus",this._rootNodeFocusAndBlurListener,wt),De.removeEventListener("blur",this._rootNodeFocusAndBlurListener,wt),this._rootNodeFocusListenerCount.delete(De))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Qe,De,Pe){this._setClasses(Qe,De),this._emitOrigin(Pe,De),this._lastFocusOrigin=De}_getClosestElementsInfo(Qe){const De=[];return this._elementInfo.forEach((Pe,Ye)=>{(Ye===Qe||Pe.checkChildren&&Ye.contains(Qe))&&De.push([Ye,Pe])}),De}_isLastInteractionFromInputLabel(Qe){const{_mostRecentTarget:De,mostRecentModality:Pe}=this._inputModalityDetector;if("mouse"!==Pe||!De||De===Qe||"INPUT"!==Qe.nodeName&&"TEXTAREA"!==Qe.nodeName||Qe.disabled)return!1;const Ye=Qe.labels;if(Ye)for(let Ze=0;Ze<Ye.length;Ze++)if(Ye[Ze].contains(De))return!0;return!1}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.LFG(t.R0b),t.LFG(b.t4),t.LFG(xe),t.LFG(c.K0,8),t.LFG(Ut,8))};static#t=this.\u0275prov=t.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})(),en=(()=>{class Dt{constructor(Qe,De){this._elementRef=Qe,this._focusMonitor=De,this._focusOrigin=null,this.cdkFocusChange=new t.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const Qe=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Qe,1===Qe.nodeType&&Qe.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(De=>{this._focusOrigin=De,this.cdkFocusChange.emit(De)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.Y36(t.SBq),t.Y36(Ht))};static#t=this.\u0275dir=t.lG2({type:Dt,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return Dt})();const ln="cdk-high-contrast-black-on-white",cn="cdk-high-contrast-white-on-black",Wt="cdk-high-contrast-active";let Sn=(()=>{class Dt{constructor(Qe,De){this._platform=Qe,this._document=De,this._breakpointSubscription=(0,t.f3M)(x.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Qe=this._document.createElement("div");Qe.style.backgroundColor="rgb(1,2,3)",Qe.style.position="absolute",this._document.body.appendChild(Qe);const De=this._document.defaultView||window,Pe=De&&De.getComputedStyle?De.getComputedStyle(Qe):null,Ye=(Pe&&Pe.backgroundColor||"").replace(/ /g,"");switch(Qe.remove(),Ye){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Qe=this._document.body.classList;Qe.remove(Wt,ln,cn),this._hasCheckedHighContrastMode=!0;const De=this.getHighContrastMode();1===De?Qe.add(Wt,ln):2===De&&Qe.add(Wt,cn)}}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.LFG(b.t4),t.LFG(c.K0))};static#t=this.\u0275prov=t.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})(),nn=(()=>{class Dt{constructor(Qe){Qe._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(De){return new(De||Dt)(t.LFG(Sn))};static#t=this.\u0275mod=t.oAB({type:Dt});static#n=this.\u0275inj=t.cJS({imports:[O.Q8]})}return Dt})()},9388:(Bn,tt,S)=>{"use strict";S.d(tt,{Is:()=>L,vT:()=>p});var c=S(5879),t=S(6814);const b=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function w(){return(0,c.f3M)(t.K0)}}),E=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let L=(()=>{class f{constructor(y){this.value="ltr",this.change=new c.vpe,y&&(this.value=function F(f){const g=f?.toLowerCase()||"";return"auto"===g&&typeof navigator<"u"&&navigator?.language?E.test(navigator.language)?"rtl":"ltr":"rtl"===g?"rtl":"ltr"}((y.body?y.body.dir:null)||(y.documentElement?y.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(M){return new(M||f)(c.LFG(b,8))};static#t=this.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})(),p=(()=>{class f{static#e=this.\u0275fac=function(M){return new(M||f)};static#t=this.\u0275mod=c.oAB({type:f});static#n=this.\u0275inj=c.cJS({})}return f})()},2495:(Bn,tt,S)=>{"use strict";S.d(tt,{Eq:()=>E,HM:()=>F,Ig:()=>t,du:()=>D,fI:()=>L,su:()=>b,t6:()=>w});var c=S(5879);function t(p){return null!=p&&"false"!=`${p}`}function b(p,f=0){return w(p)?Number(p):f}function w(p){return!isNaN(parseFloat(p))&&!isNaN(Number(p))}function E(p){return Array.isArray(p)?p:[p]}function F(p){return null==p?"":"string"==typeof p?p:`${p}px`}function L(p){return p instanceof c.SBq?p.nativeElement:p}function D(p,f=/\s+/){const g=[];if(null!=p){const y=Array.isArray(p)?p:`${p}`.split(f);for(const M of y){const U=`${M}`.trim();U&&g.push(U)}}return g}},8337:(Bn,tt,S)=>{"use strict";S.d(tt,{Ov:()=>p,Z9:()=>E,eX:()=>D,k:()=>y,o2:()=>w,yy:()=>L});var c=S(3168),t=S(8645),b=S(5879);class w{}function E(M){return M&&"function"==typeof M.connect&&!(M instanceof c.c)}class L{applyChanges(U,R,V,k,O){U.forEachOperation((x,P,T)=>{let N,C;if(null==x.previousIndex){const B=V(x,P,T);N=R.createEmbeddedView(B.templateRef,B.context,B.index),C=1}else null==T?(R.remove(P),C=3):(N=R.get(P),R.move(N,T),C=2);O&&O({context:N?.context,operation:C,record:x})})}detach(){}}class D{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(U,R,V,k,O){U.forEachOperation((x,P,T)=>{let N,C;null==x.previousIndex?(N=this._insertView(()=>V(x,P,T),T,R,k(x)),C=N?1:0):null==T?(this._detachAndCacheView(P,R),C=3):(N=this._moveView(P,T,R,k(x)),C=2),O&&O({context:N?.context,operation:C,record:x})})}detach(){for(const U of this._viewCache)U.destroy();this._viewCache=[]}_insertView(U,R,V,k){const O=this._insertViewFromCache(R,V);if(O)return void(O.context.$implicit=k);const x=U();return V.createEmbeddedView(x.templateRef,x.context,x.index)}_detachAndCacheView(U,R){const V=R.detach(U);this._maybeCacheView(V,R)}_moveView(U,R,V,k){const O=V.get(U);return V.move(O,R),O.context.$implicit=k,O}_maybeCacheView(U,R){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(U);else{const V=R.indexOf(U);-1===V?U.destroy():R.remove(V)}}_insertViewFromCache(U,R){const V=this._viewCache.pop();return V&&R.insert(V,U),V||null}}class p{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(U=!1,R,V=!0,k){this._multiple=U,this._emitChanges=V,this.compareWith=k,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new t.x,R&&R.length&&(U?R.forEach(O=>this._markSelected(O)):this._markSelected(R[0]),this._selectedToEmit.length=0)}select(...U){this._verifyValueAssignment(U),U.forEach(V=>this._markSelected(V));const R=this._hasQueuedChanges();return this._emitChangeEvent(),R}deselect(...U){this._verifyValueAssignment(U),U.forEach(V=>this._unmarkSelected(V));const R=this._hasQueuedChanges();return this._emitChangeEvent(),R}setSelection(...U){this._verifyValueAssignment(U);const R=this.selected,V=new Set(U);U.forEach(O=>this._markSelected(O)),R.filter(O=>!V.has(O)).forEach(O=>this._unmarkSelected(O));const k=this._hasQueuedChanges();return this._emitChangeEvent(),k}toggle(U){return this.isSelected(U)?this.deselect(U):this.select(U)}clear(U=!0){this._unmarkAll();const R=this._hasQueuedChanges();return U&&this._emitChangeEvent(),R}isSelected(U){return this._selection.has(this._getConcreteValue(U))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(U){this._multiple&&this.selected&&this._selected.sort(U)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(U){U=this._getConcreteValue(U),this.isSelected(U)||(this._multiple||this._unmarkAll(),this.isSelected(U)||this._selection.add(U),this._emitChanges&&this._selectedToEmit.push(U))}_unmarkSelected(U){U=this._getConcreteValue(U),this.isSelected(U)&&(this._selection.delete(U),this._emitChanges&&this._deselectedToEmit.push(U))}_unmarkAll(){this.isEmpty()||this._selection.forEach(U=>this._unmarkSelected(U))}_verifyValueAssignment(U){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(U){if(this.compareWith){for(let R of this._selection)if(this.compareWith(U,R))return R;return U}return U}}const y=new b.OlP("_ViewRepeater")},6028:(Bn,tt,S)=>{"use strict";S.d(tt,{A:()=>Ae,JH:()=>P,JU:()=>F,K5:()=>E,Ku:()=>M,LH:()=>O,L_:()=>y,MW:()=>lt,Mf:()=>b,SV:()=>x,Sd:()=>V,VM:()=>U,Vb:()=>gt,Z:()=>Ve,aO:()=>he,b2:()=>yt,hY:()=>g,jx:()=>L,oh:()=>k,uR:()=>R,xE:()=>Y,zL:()=>D});const b=9,E=13,F=16,L=17,D=18,g=27,y=32,M=33,U=34,R=35,V=36,k=37,O=38,x=39,P=40,Y=48,he=57,Ae=65,Ve=90,lt=91,yt=224;function gt(rt,...hn){return hn.length?hn.some(ti=>rt[ti]):rt.altKey||rt.shiftKey||rt.ctrlKey||rt.metaKey}},1088:(Bn,tt,S)=>{"use strict";S.d(tt,{Yg:()=>P,u3:()=>N});var c=S(5879),t=S(2495),b=S(8645),w=S(2572),E=S(5211),F=S(5592),L=S(8180),D=S(836),p=S(3620),f=S(7398),g=S(7921),y=S(9773),M=S(2831);const R=new Set;let V,k=(()=>{class C{constructor(Y,q){this._platform=Y,this._nonce=q,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):x}matchMedia(Y){return(this._platform.WEBKIT||this._platform.BLINK)&&function O(C,B){if(!R.has(C))try{V||(V=document.createElement("style"),B&&(V.nonce=B),V.setAttribute("type","text/css"),document.head.appendChild(V)),V.sheet&&(V.sheet.insertRule(`@media ${C} {body{ }}`,0),R.add(C))}catch(Y){console.error(Y)}}(Y,this._nonce),this._matchMedia(Y)}static#e=this.\u0275fac=function(q){return new(q||C)(c.LFG(M.t4),c.LFG(c.Ojb,8))};static#t=this.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function x(C){return{matches:"all"===C||""===C,media:C,addListener:()=>{},removeListener:()=>{}}}let P=(()=>{class C{constructor(Y,q){this._mediaMatcher=Y,this._zone=q,this._queries=new Map,this._destroySubject=new b.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Y){return T((0,t.Eq)(Y)).some(le=>this._registerQuery(le).mql.matches)}observe(Y){const le=T((0,t.Eq)(Y)).map($=>this._registerQuery($).observable);let Fe=(0,w.a)(le);return Fe=(0,E.z)(Fe.pipe((0,L.q)(1)),Fe.pipe((0,D.T)(1),(0,p.b)(0))),Fe.pipe((0,f.U)($=>{const ae={matches:!1,breakpoints:{}};return $.forEach(({matches:K,query:ge})=>{ae.matches=ae.matches||K,ae.breakpoints[ge]=K}),ae}))}_registerQuery(Y){if(this._queries.has(Y))return this._queries.get(Y);const q=this._mediaMatcher.matchMedia(Y),Fe={observable:new F.y($=>{const ae=K=>this._zone.run(()=>$.next(K));return q.addListener(ae),()=>{q.removeListener(ae)}}).pipe((0,g.O)(q),(0,f.U)(({matches:$})=>({query:Y,matches:$})),(0,y.R)(this._destroySubject)),mql:q};return this._queries.set(Y,Fe),Fe}static#e=this.\u0275fac=function(q){return new(q||C)(c.LFG(k),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function T(C){return C.map(B=>B.split(",")).reduce((B,Y)=>B.concat(Y)).map(B=>B.trim())}const N={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7131:(Bn,tt,S)=>{"use strict";S.d(tt,{Q8:()=>E});var c=S(5879);let t=(()=>{class F{create(D){return typeof MutationObserver>"u"?null:new MutationObserver(D)}static#e=this.\u0275fac=function(p){return new(p||F)};static#t=this.\u0275prov=c.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),E=(()=>{class F{static#e=this.\u0275fac=function(p){return new(p||F)};static#t=this.\u0275mod=c.oAB({type:F});static#n=this.\u0275inj=c.cJS({providers:[t]})}return F})()},3651:(Bn,tt,S)=>{"use strict";S.d(tt,{pI:()=>Z,xu:()=>Q,_G:()=>pe,aV:()=>se,X_:()=>le,Xj:()=>Le,U8:()=>ee,Iu:()=>fe});var c=S(799),t=S(6814),b=S(5879),w=S(2495),E=S(2831),F=S(2181),L=S(8180),D=S(9773),p=S(9360),f=S(8251),y=S(9388),M=S(8484),U=S(8645),R=S(7394),V=S(3019),k=S(6028);const O=(0,E.Mq)();class x{constructor(ve,de){this._viewportRuler=ve,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=de}attach(){}enable(){if(this._canBeEnabled()){const ve=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ve.style.left||"",this._previousHTMLStyles.top=ve.style.top||"",ve.style.left=(0,w.HM)(-this._previousScrollPosition.left),ve.style.top=(0,w.HM)(-this._previousScrollPosition.top),ve.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ve=this._document.documentElement,xe=ve.style,Ke=this._document.body.style,Ve=xe.scrollBehavior||"",lt=Ke.scrollBehavior||"";this._isEnabled=!1,xe.left=this._previousHTMLStyles.left,xe.top=this._previousHTMLStyles.top,ve.classList.remove("cdk-global-scrollblock"),O&&(xe.scrollBehavior=Ke.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),O&&(xe.scrollBehavior=Ve,Ke.scrollBehavior=lt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const de=this._document.body,xe=this._viewportRuler.getViewportSize();return de.scrollHeight>xe.height||de.scrollWidth>xe.width}}class T{constructor(ve,de,xe,Ke){this._scrollDispatcher=ve,this._ngZone=de,this._viewportRuler=xe,this._config=Ke,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ve){this._overlayRef=ve}enable(){if(this._scrollSubscription)return;const ve=this._scrollDispatcher.scrolled(0).pipe((0,F.h)(de=>!de||!this._overlayRef.overlayElement.contains(de.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ve.subscribe(()=>{const de=this._viewportRuler.getViewportScrollPosition().top;Math.abs(de-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ve.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class N{enable(){}disable(){}attach(){}}function C(ue,ve){return ve.some(de=>ue.bottom<de.top||ue.top>de.bottom||ue.right<de.left||ue.left>de.right)}function B(ue,ve){return ve.some(de=>ue.top<de.top||ue.bottom>de.bottom||ue.left<de.left||ue.right>de.right)}class Y{constructor(ve,de,xe,Ke){this._scrollDispatcher=ve,this._viewportRuler=de,this._ngZone=xe,this._config=Ke,this._scrollSubscription=null}attach(ve){this._overlayRef=ve}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const de=this._overlayRef.overlayElement.getBoundingClientRect(),{width:xe,height:Ke}=this._viewportRuler.getViewportSize();C(de,[{width:xe,height:Ke,bottom:Ke,right:xe,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let q=(()=>{class ue{constructor(de,xe,Ke,Ve){this._scrollDispatcher=de,this._viewportRuler=xe,this._ngZone=Ke,this.noop=()=>new N,this.close=lt=>new T(this._scrollDispatcher,this._ngZone,this._viewportRuler,lt),this.block=()=>new x(this._viewportRuler,this._document),this.reposition=lt=>new Y(this._scrollDispatcher,this._viewportRuler,this._ngZone,lt),this._document=Ve}static#e=this.\u0275fac=function(xe){return new(xe||ue)(b.LFG(c.mF),b.LFG(c.rL),b.LFG(b.R0b),b.LFG(t.K0))};static#t=this.\u0275prov=b.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})();class le{constructor(ve){if(this.scrollStrategy=new N,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ve){const de=Object.keys(ve);for(const xe of de)void 0!==ve[xe]&&(this[xe]=ve[xe])}}}class ae{constructor(ve,de){this.connectionPair=ve,this.scrollableViewProperties=de}}let oe=(()=>{class ue{constructor(de){this._attachedOverlays=[],this._document=de}ngOnDestroy(){this.detach()}add(de){this.remove(de),this._attachedOverlays.push(de)}remove(de){const xe=this._attachedOverlays.indexOf(de);xe>-1&&this._attachedOverlays.splice(xe,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(xe){return new(xe||ue)(b.LFG(t.K0))};static#t=this.\u0275prov=b.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})(),he=(()=>{class ue extends oe{constructor(de,xe){super(de),this._ngZone=xe,this._keydownListener=Ke=>{const Ve=this._attachedOverlays;for(let lt=Ve.length-1;lt>-1;lt--)if(Ve[lt]._keydownEvents.observers.length>0){const dt=Ve[lt]._keydownEvents;this._ngZone?this._ngZone.run(()=>dt.next(Ke)):dt.next(Ke);break}}}add(de){super.add(de),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(xe){return new(xe||ue)(b.LFG(t.K0),b.LFG(b.R0b,8))};static#t=this.\u0275prov=b.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})(),Ce=(()=>{class ue extends oe{constructor(de,xe,Ke){super(de),this._platform=xe,this._ngZone=Ke,this._cursorStyleIsSet=!1,this._pointerDownListener=Ve=>{this._pointerDownEventTarget=(0,E.sA)(Ve)},this._clickListener=Ve=>{const lt=(0,E.sA)(Ve),dt="click"===Ve.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:lt;this._pointerDownEventTarget=null;const it=this._attachedOverlays.slice();for(let bt=it.length-1;bt>-1;bt--){const Ut=it[bt];if(Ut._outsidePointerEvents.observers.length<1||!Ut.hasAttached())continue;if(Ut.overlayElement.contains(lt)||Ut.overlayElement.contains(dt))break;const wt=Ut._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>wt.next(Ve)):wt.next(Ve)}}}add(de){if(super.add(de),!this._isAttached){const xe=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(xe)):this._addEventListeners(xe),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=xe.style.cursor,xe.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const de=this._document.body;de.removeEventListener("pointerdown",this._pointerDownListener,!0),de.removeEventListener("click",this._clickListener,!0),de.removeEventListener("auxclick",this._clickListener,!0),de.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(de.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(de){de.addEventListener("pointerdown",this._pointerDownListener,!0),de.addEventListener("click",this._clickListener,!0),de.addEventListener("auxclick",this._clickListener,!0),de.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(xe){return new(xe||ue)(b.LFG(t.K0),b.LFG(E.t4),b.LFG(b.R0b,8))};static#t=this.\u0275prov=b.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})(),Le=(()=>{class ue{constructor(de,xe){this._platform=xe,this._document=de}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const de="cdk-overlay-container";if(this._platform.isBrowser||(0,E.Oy)()){const Ke=this._document.querySelectorAll(`.${de}[platform="server"], .${de}[platform="test"]`);for(let Ve=0;Ve<Ke.length;Ve++)Ke[Ve].remove()}const xe=this._document.createElement("div");xe.classList.add(de),(0,E.Oy)()?xe.setAttribute("platform","test"):this._platform.isBrowser||xe.setAttribute("platform","server"),this._document.body.appendChild(xe),this._containerElement=xe}static#e=this.\u0275fac=function(xe){return new(xe||ue)(b.LFG(t.K0),b.LFG(E.t4))};static#t=this.\u0275prov=b.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})();class fe{constructor(ve,de,xe,Ke,Ve,lt,dt,it,bt,Ut=!1){this._portalOutlet=ve,this._host=de,this._pane=xe,this._config=Ke,this._ngZone=Ve,this._keyboardDispatcher=lt,this._document=dt,this._location=it,this._outsideClickDispatcher=bt,this._animationsDisabled=Ut,this._backdropElement=null,this._backdropClick=new U.x,this._attachments=new U.x,this._detachments=new U.x,this._locationChanges=R.w0.EMPTY,this._backdropClickHandler=wt=>this._backdropClick.next(wt),this._backdropTransitionendHandler=wt=>{this._disposeBackdrop(wt.target)},this._keydownEvents=new U.x,this._outsidePointerEvents=new U.x,Ke.scrollStrategy&&(this._scrollStrategy=Ke.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Ke.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ve){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const de=this._portalOutlet.attach(ve);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,L.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof de?.onDestroy&&de.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),de}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ve=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ve}dispose(){const ve=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ve&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ve){ve!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ve,this.hasAttached()&&(ve.attach(this),this.updatePosition()))}updateSize(ve){this._config={...this._config,...ve},this._updateElementSize()}setDirection(ve){this._config={...this._config,direction:ve},this._updateElementDirection()}addPanelClass(ve){this._pane&&this._toggleClasses(this._pane,ve,!0)}removePanelClass(ve){this._pane&&this._toggleClasses(this._pane,ve,!1)}getDirection(){const ve=this._config.direction;return ve?"string"==typeof ve?ve:ve.value:"ltr"}updateScrollStrategy(ve){ve!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ve,this.hasAttached()&&(ve.attach(this),ve.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ve=this._pane.style;ve.width=(0,w.HM)(this._config.width),ve.height=(0,w.HM)(this._config.height),ve.minWidth=(0,w.HM)(this._config.minWidth),ve.minHeight=(0,w.HM)(this._config.minHeight),ve.maxWidth=(0,w.HM)(this._config.maxWidth),ve.maxHeight=(0,w.HM)(this._config.maxHeight)}_togglePointerEvents(ve){this._pane.style.pointerEvents=ve?"":"none"}_attachBackdrop(){const ve="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ve)})}):this._backdropElement.classList.add(ve)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ve=this._backdropElement;if(ve){if(this._animationsDisabled)return void this._disposeBackdrop(ve);ve.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ve.addEventListener("transitionend",this._backdropTransitionendHandler)}),ve.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ve)},500))}}_toggleClasses(ve,de,xe){const Ke=(0,w.Eq)(de||[]).filter(Ve=>!!Ve);Ke.length&&(xe?ve.classList.add(...Ke):ve.classList.remove(...Ke))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ve=this._ngZone.onStable.pipe((0,D.R)((0,V.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ve.unsubscribe())})})}_disposeScrollStrategy(){const ve=this._scrollStrategy;ve&&(ve.disable(),ve.detach&&ve.detach())}_disposeBackdrop(ve){ve&&(ve.removeEventListener("click",this._backdropClickHandler),ve.removeEventListener("transitionend",this._backdropTransitionendHandler),ve.remove(),this._backdropElement===ve&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Re="cdk-overlay-connected-position-bounding-box",Ae=/([A-Za-z%]+)$/;class pe{get positions(){return this._preferredPositions}constructor(ve,de,xe,Ke,Ve){this._viewportRuler=de,this._document=xe,this._platform=Ke,this._overlayContainer=Ve,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new U.x,this._resizeSubscription=R.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ve)}attach(ve){this._validatePositions(),ve.hostElement.classList.add(Re),this._overlayRef=ve,this._boundingBox=ve.hostElement,this._pane=ve.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ve=this._originRect,de=this._overlayRect,xe=this._viewportRect,Ke=this._containerRect,Ve=[];let lt;for(let dt of this._preferredPositions){let it=this._getOriginPoint(ve,Ke,dt),bt=this._getOverlayPoint(it,de,dt),Ut=this._getOverlayFit(bt,de,xe,dt);if(Ut.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(dt,it);this._canFitWithFlexibleDimensions(Ut,bt,xe)?Ve.push({position:dt,origin:it,overlayRect:de,boundingBoxRect:this._calculateBoundingBoxRect(it,dt)}):(!lt||lt.overlayFit.visibleArea<Ut.visibleArea)&&(lt={overlayFit:Ut,overlayPoint:bt,originPoint:it,position:dt,overlayRect:de})}if(Ve.length){let dt=null,it=-1;for(const bt of Ve){const Ut=bt.boundingBoxRect.width*bt.boundingBoxRect.height*(bt.position.weight||1);Ut>it&&(it=Ut,dt=bt)}return this._isPushed=!1,void this._applyPosition(dt.position,dt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(lt.position,lt.originPoint);this._applyPosition(lt.position,lt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ue(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Re),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ve=this._lastPosition;if(ve){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const de=this._getOriginPoint(this._originRect,this._containerRect,ve);this._applyPosition(ve,de)}else this.apply()}withScrollableContainers(ve){return this._scrollables=ve,this}withPositions(ve){return this._preferredPositions=ve,-1===ve.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ve){return this._viewportMargin=ve,this}withFlexibleDimensions(ve=!0){return this._hasFlexibleDimensions=ve,this}withGrowAfterOpen(ve=!0){return this._growAfterOpen=ve,this}withPush(ve=!0){return this._canPush=ve,this}withLockedPosition(ve=!0){return this._positionLocked=ve,this}setOrigin(ve){return this._origin=ve,this}withDefaultOffsetX(ve){return this._offsetX=ve,this}withDefaultOffsetY(ve){return this._offsetY=ve,this}withTransformOriginOn(ve){return this._transformOriginSelector=ve,this}_getOriginPoint(ve,de,xe){let Ke,Ve;if("center"==xe.originX)Ke=ve.left+ve.width/2;else{const lt=this._isRtl()?ve.right:ve.left,dt=this._isRtl()?ve.left:ve.right;Ke="start"==xe.originX?lt:dt}return de.left<0&&(Ke-=de.left),Ve="center"==xe.originY?ve.top+ve.height/2:"top"==xe.originY?ve.top:ve.bottom,de.top<0&&(Ve-=de.top),{x:Ke,y:Ve}}_getOverlayPoint(ve,de,xe){let Ke,Ve;return Ke="center"==xe.overlayX?-de.width/2:"start"===xe.overlayX?this._isRtl()?-de.width:0:this._isRtl()?0:-de.width,Ve="center"==xe.overlayY?-de.height/2:"top"==xe.overlayY?0:-de.height,{x:ve.x+Ke,y:ve.y+Ve}}_getOverlayFit(ve,de,xe,Ke){const Ve=we(de);let{x:lt,y:dt}=ve,it=this._getOffset(Ke,"x"),bt=this._getOffset(Ke,"y");it&&(lt+=it),bt&&(dt+=bt);let Ht=0-dt,en=dt+Ve.height-xe.height,ln=this._subtractOverflows(Ve.width,0-lt,lt+Ve.width-xe.width),cn=this._subtractOverflows(Ve.height,Ht,en),Wt=ln*cn;return{visibleArea:Wt,isCompletelyWithinViewport:Ve.width*Ve.height===Wt,fitsInViewportVertically:cn===Ve.height,fitsInViewportHorizontally:ln==Ve.width}}_canFitWithFlexibleDimensions(ve,de,xe){if(this._hasFlexibleDimensions){const Ke=xe.bottom-de.y,Ve=xe.right-de.x,lt=ke(this._overlayRef.getConfig().minHeight),dt=ke(this._overlayRef.getConfig().minWidth);return(ve.fitsInViewportVertically||null!=lt&&lt<=Ke)&&(ve.fitsInViewportHorizontally||null!=dt&&dt<=Ve)}return!1}_pushOverlayOnScreen(ve,de,xe){if(this._previousPushAmount&&this._positionLocked)return{x:ve.x+this._previousPushAmount.x,y:ve.y+this._previousPushAmount.y};const Ke=we(de),Ve=this._viewportRect,lt=Math.max(ve.x+Ke.width-Ve.width,0),dt=Math.max(ve.y+Ke.height-Ve.height,0),it=Math.max(Ve.top-xe.top-ve.y,0),bt=Math.max(Ve.left-xe.left-ve.x,0);let Ut=0,wt=0;return Ut=Ke.width<=Ve.width?bt||-lt:ve.x<this._viewportMargin?Ve.left-xe.left-ve.x:0,wt=Ke.height<=Ve.height?it||-dt:ve.y<this._viewportMargin?Ve.top-xe.top-ve.y:0,this._previousPushAmount={x:Ut,y:wt},{x:ve.x+Ut,y:ve.y+wt}}_applyPosition(ve,de){if(this._setTransformOrigin(ve),this._setOverlayElementStyles(de,ve),this._setBoundingBoxStyles(de,ve),ve.panelClass&&this._addPanelClasses(ve.panelClass),this._lastPosition=ve,this._positionChanges.observers.length){const xe=this._getScrollVisibility(),Ke=new ae(ve,xe);this._positionChanges.next(Ke)}this._isInitialRender=!1}_setTransformOrigin(ve){if(!this._transformOriginSelector)return;const de=this._boundingBox.querySelectorAll(this._transformOriginSelector);let xe,Ke=ve.overlayY;xe="center"===ve.overlayX?"center":this._isRtl()?"start"===ve.overlayX?"right":"left":"start"===ve.overlayX?"left":"right";for(let Ve=0;Ve<de.length;Ve++)de[Ve].style.transformOrigin=`${xe} ${Ke}`}_calculateBoundingBoxRect(ve,de){const xe=this._viewportRect,Ke=this._isRtl();let Ve,lt,dt,Ut,wt,Ht;if("top"===de.overlayY)lt=ve.y,Ve=xe.height-lt+this._viewportMargin;else if("bottom"===de.overlayY)dt=xe.height-ve.y+2*this._viewportMargin,Ve=xe.height-dt+this._viewportMargin;else{const en=Math.min(xe.bottom-ve.y+xe.top,ve.y),ln=this._lastBoundingBoxSize.height;Ve=2*en,lt=ve.y-en,Ve>ln&&!this._isInitialRender&&!this._growAfterOpen&&(lt=ve.y-ln/2)}if("end"===de.overlayX&&!Ke||"start"===de.overlayX&&Ke)Ht=xe.width-ve.x+this._viewportMargin,Ut=ve.x-this._viewportMargin;else if("start"===de.overlayX&&!Ke||"end"===de.overlayX&&Ke)wt=ve.x,Ut=xe.right-ve.x;else{const en=Math.min(xe.right-ve.x+xe.left,ve.x),ln=this._lastBoundingBoxSize.width;Ut=2*en,wt=ve.x-en,Ut>ln&&!this._isInitialRender&&!this._growAfterOpen&&(wt=ve.x-ln/2)}return{top:lt,left:wt,bottom:dt,right:Ht,width:Ut,height:Ve}}_setBoundingBoxStyles(ve,de){const xe=this._calculateBoundingBoxRect(ve,de);!this._isInitialRender&&!this._growAfterOpen&&(xe.height=Math.min(xe.height,this._lastBoundingBoxSize.height),xe.width=Math.min(xe.width,this._lastBoundingBoxSize.width));const Ke={};if(this._hasExactPosition())Ke.top=Ke.left="0",Ke.bottom=Ke.right=Ke.maxHeight=Ke.maxWidth="",Ke.width=Ke.height="100%";else{const Ve=this._overlayRef.getConfig().maxHeight,lt=this._overlayRef.getConfig().maxWidth;Ke.height=(0,w.HM)(xe.height),Ke.top=(0,w.HM)(xe.top),Ke.bottom=(0,w.HM)(xe.bottom),Ke.width=(0,w.HM)(xe.width),Ke.left=(0,w.HM)(xe.left),Ke.right=(0,w.HM)(xe.right),Ke.alignItems="center"===de.overlayX?"center":"end"===de.overlayX?"flex-end":"flex-start",Ke.justifyContent="center"===de.overlayY?"center":"bottom"===de.overlayY?"flex-end":"flex-start",Ve&&(Ke.maxHeight=(0,w.HM)(Ve)),lt&&(Ke.maxWidth=(0,w.HM)(lt))}this._lastBoundingBoxSize=xe,Ue(this._boundingBox.style,Ke)}_resetBoundingBoxStyles(){Ue(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ue(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ve,de){const xe={},Ke=this._hasExactPosition(),Ve=this._hasFlexibleDimensions,lt=this._overlayRef.getConfig();if(Ke){const Ut=this._viewportRuler.getViewportScrollPosition();Ue(xe,this._getExactOverlayY(de,ve,Ut)),Ue(xe,this._getExactOverlayX(de,ve,Ut))}else xe.position="static";let dt="",it=this._getOffset(de,"x"),bt=this._getOffset(de,"y");it&&(dt+=`translateX(${it}px) `),bt&&(dt+=`translateY(${bt}px)`),xe.transform=dt.trim(),lt.maxHeight&&(Ke?xe.maxHeight=(0,w.HM)(lt.maxHeight):Ve&&(xe.maxHeight="")),lt.maxWidth&&(Ke?xe.maxWidth=(0,w.HM)(lt.maxWidth):Ve&&(xe.maxWidth="")),Ue(this._pane.style,xe)}_getExactOverlayY(ve,de,xe){let Ke={top:"",bottom:""},Ve=this._getOverlayPoint(de,this._overlayRect,ve);return this._isPushed&&(Ve=this._pushOverlayOnScreen(Ve,this._overlayRect,xe)),"bottom"===ve.overlayY?Ke.bottom=this._document.documentElement.clientHeight-(Ve.y+this._overlayRect.height)+"px":Ke.top=(0,w.HM)(Ve.y),Ke}_getExactOverlayX(ve,de,xe){let lt,Ke={left:"",right:""},Ve=this._getOverlayPoint(de,this._overlayRect,ve);return this._isPushed&&(Ve=this._pushOverlayOnScreen(Ve,this._overlayRect,xe)),lt=this._isRtl()?"end"===ve.overlayX?"left":"right":"end"===ve.overlayX?"right":"left","right"===lt?Ke.right=this._document.documentElement.clientWidth-(Ve.x+this._overlayRect.width)+"px":Ke.left=(0,w.HM)(Ve.x),Ke}_getScrollVisibility(){const ve=this._getOriginRect(),de=this._pane.getBoundingClientRect(),xe=this._scrollables.map(Ke=>Ke.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:B(ve,xe),isOriginOutsideView:C(ve,xe),isOverlayClipped:B(de,xe),isOverlayOutsideView:C(de,xe)}}_subtractOverflows(ve,...de){return de.reduce((xe,Ke)=>xe-Math.max(Ke,0),ve)}_getNarrowedViewportRect(){const ve=this._document.documentElement.clientWidth,de=this._document.documentElement.clientHeight,xe=this._viewportRuler.getViewportScrollPosition();return{top:xe.top+this._viewportMargin,left:xe.left+this._viewportMargin,right:xe.left+ve-this._viewportMargin,bottom:xe.top+de-this._viewportMargin,width:ve-2*this._viewportMargin,height:de-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ve,de){return"x"===de?null==ve.offsetX?this._offsetX:ve.offsetX:null==ve.offsetY?this._offsetY:ve.offsetY}_validatePositions(){}_addPanelClasses(ve){this._pane&&(0,w.Eq)(ve).forEach(de=>{""!==de&&-1===this._appliedPanelClasses.indexOf(de)&&(this._appliedPanelClasses.push(de),this._pane.classList.add(de))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ve=>{this._pane.classList.remove(ve)}),this._appliedPanelClasses=[])}_getOriginRect(){const ve=this._origin;if(ve instanceof b.SBq)return ve.nativeElement.getBoundingClientRect();if(ve instanceof Element)return ve.getBoundingClientRect();const de=ve.width||0,xe=ve.height||0;return{top:ve.y,bottom:ve.y+xe,left:ve.x,right:ve.x+de,height:xe,width:de}}}function Ue(ue,ve){for(let de in ve)ve.hasOwnProperty(de)&&(ue[de]=ve[de]);return ue}function ke(ue){if("number"!=typeof ue&&null!=ue){const[ve,de]=ue.split(Ae);return de&&"px"!==de?null:parseFloat(ve)}return ue||null}function we(ue){return{top:Math.floor(ue.top),right:Math.floor(ue.right),bottom:Math.floor(ue.bottom),left:Math.floor(ue.left),width:Math.floor(ue.width),height:Math.floor(ue.height)}}const Je="cdk-global-overlay-wrapper";class Ne{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ve){const de=ve.getConfig();this._overlayRef=ve,this._width&&!de.width&&ve.updateSize({width:this._width}),this._height&&!de.height&&ve.updateSize({height:this._height}),ve.hostElement.classList.add(Je),this._isDisposed=!1}top(ve=""){return this._bottomOffset="",this._topOffset=ve,this._alignItems="flex-start",this}left(ve=""){return this._xOffset=ve,this._xPosition="left",this}bottom(ve=""){return this._topOffset="",this._bottomOffset=ve,this._alignItems="flex-end",this}right(ve=""){return this._xOffset=ve,this._xPosition="right",this}start(ve=""){return this._xOffset=ve,this._xPosition="start",this}end(ve=""){return this._xOffset=ve,this._xPosition="end",this}width(ve=""){return this._overlayRef?this._overlayRef.updateSize({width:ve}):this._width=ve,this}height(ve=""){return this._overlayRef?this._overlayRef.updateSize({height:ve}):this._height=ve,this}centerHorizontally(ve=""){return this.left(ve),this._xPosition="center",this}centerVertically(ve=""){return this.top(ve),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ve=this._overlayRef.overlayElement.style,de=this._overlayRef.hostElement.style,xe=this._overlayRef.getConfig(),{width:Ke,height:Ve,maxWidth:lt,maxHeight:dt}=xe,it=!("100%"!==Ke&&"100vw"!==Ke||lt&&"100%"!==lt&&"100vw"!==lt),bt=!("100%"!==Ve&&"100vh"!==Ve||dt&&"100%"!==dt&&"100vh"!==dt),Ut=this._xPosition,wt=this._xOffset,Ht="rtl"===this._overlayRef.getConfig().direction;let en="",ln="",cn="";it?cn="flex-start":"center"===Ut?(cn="center",Ht?ln=wt:en=wt):Ht?"left"===Ut||"end"===Ut?(cn="flex-end",en=wt):("right"===Ut||"start"===Ut)&&(cn="flex-start",ln=wt):"left"===Ut||"start"===Ut?(cn="flex-start",en=wt):("right"===Ut||"end"===Ut)&&(cn="flex-end",ln=wt),ve.position=this._cssPosition,ve.marginLeft=it?"0":en,ve.marginTop=bt?"0":this._topOffset,ve.marginBottom=this._bottomOffset,ve.marginRight=it?"0":ln,de.justifyContent=cn,de.alignItems=bt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ve=this._overlayRef.overlayElement.style,de=this._overlayRef.hostElement,xe=de.style;de.classList.remove(Je),xe.justifyContent=xe.alignItems=ve.marginTop=ve.marginBottom=ve.marginLeft=ve.marginRight=ve.position="",this._overlayRef=null,this._isDisposed=!0}}let Te=(()=>{class ue{constructor(de,xe,Ke,Ve){this._viewportRuler=de,this._document=xe,this._platform=Ke,this._overlayContainer=Ve}global(){return new Ne}flexibleConnectedTo(de){return new pe(de,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(xe){return new(xe||ue)(b.LFG(c.rL),b.LFG(t.K0),b.LFG(E.t4),b.LFG(Le))};static#t=this.\u0275prov=b.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})(),W=0,se=(()=>{class ue{constructor(de,xe,Ke,Ve,lt,dt,it,bt,Ut,wt,Ht,en){this.scrollStrategies=de,this._overlayContainer=xe,this._componentFactoryResolver=Ke,this._positionBuilder=Ve,this._keyboardDispatcher=lt,this._injector=dt,this._ngZone=it,this._document=bt,this._directionality=Ut,this._location=wt,this._outsideClickDispatcher=Ht,this._animationsModuleType=en}create(de){const xe=this._createHostElement(),Ke=this._createPaneElement(xe),Ve=this._createPortalOutlet(Ke),lt=new le(de);return lt.direction=lt.direction||this._directionality.value,new fe(Ve,xe,Ke,lt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(de){const xe=this._document.createElement("div");return xe.id="cdk-overlay-"+W++,xe.classList.add("cdk-overlay-pane"),de.appendChild(xe),xe}_createHostElement(){const de=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(de),de}_createPortalOutlet(de){return this._appRef||(this._appRef=this._injector.get(b.z2F)),new M.u0(de,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(xe){return new(xe||ue)(b.LFG(q),b.LFG(Le),b.LFG(b._Vd),b.LFG(Te),b.LFG(he),b.LFG(b.zs3),b.LFG(b.R0b),b.LFG(t.K0),b.LFG(y.Is),b.LFG(t.Ye),b.LFG(Ce),b.LFG(b.QbO,8))};static#t=this.\u0275prov=b.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})();const _e=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],J=new b.OlP("cdk-connected-overlay-scroll-strategy");let Q=(()=>{class ue{constructor(de){this.elementRef=de}static#e=this.\u0275fac=function(xe){return new(xe||ue)(b.Y36(b.SBq))};static#t=this.\u0275dir=b.lG2({type:ue,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return ue})(),Z=(()=>{class ue{get offsetX(){return this._offsetX}set offsetX(de){this._offsetX=de,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(de){this._offsetY=de,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(de){this._hasBackdrop=(0,w.Ig)(de)}get lockPosition(){return this._lockPosition}set lockPosition(de){this._lockPosition=(0,w.Ig)(de)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(de){this._flexibleDimensions=(0,w.Ig)(de)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(de){this._growAfterOpen=(0,w.Ig)(de)}get push(){return this._push}set push(de){this._push=(0,w.Ig)(de)}constructor(de,xe,Ke,Ve,lt){this._overlay=de,this._dir=lt,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=R.w0.EMPTY,this._attachSubscription=R.w0.EMPTY,this._detachSubscription=R.w0.EMPTY,this._positionSubscription=R.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new b.vpe,this.positionChange=new b.vpe,this.attach=new b.vpe,this.detach=new b.vpe,this.overlayKeydown=new b.vpe,this.overlayOutsideClick=new b.vpe,this._templatePortal=new M.UE(xe,Ke),this._scrollStrategyFactory=Ve,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(de){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),de.origin&&this.open&&this._position.apply()),de.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=_e);const de=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=de.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=de.detachments().subscribe(()=>this.detach.emit()),de.keydownEvents().subscribe(xe=>{this.overlayKeydown.next(xe),xe.keyCode===k.hY&&!this.disableClose&&!(0,k.Vb)(xe)&&(xe.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(xe=>{this.overlayOutsideClick.next(xe)})}_buildConfig(){const de=this._position=this.positionStrategy||this._createPositionStrategy(),xe=new le({direction:this._dir,positionStrategy:de,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(xe.width=this.width),(this.height||0===this.height)&&(xe.height=this.height),(this.minWidth||0===this.minWidth)&&(xe.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(xe.minHeight=this.minHeight),this.backdropClass&&(xe.backdropClass=this.backdropClass),this.panelClass&&(xe.panelClass=this.panelClass),xe}_updatePositionStrategy(de){const xe=this.positions.map(Ke=>({originX:Ke.originX,originY:Ke.originY,overlayX:Ke.overlayX,overlayY:Ke.overlayY,offsetX:Ke.offsetX||this.offsetX,offsetY:Ke.offsetY||this.offsetY,panelClass:Ke.panelClass||void 0}));return de.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(xe).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const de=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(de),de}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Q?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(de=>{this.backdropClick.emit(de)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function g(ue,ve=!1){return(0,p.e)((de,xe)=>{let Ke=0;de.subscribe((0,f.x)(xe,Ve=>{const lt=ue(Ve,Ke++);(lt||ve)&&xe.next(Ve),!lt&&xe.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(de=>{this.positionChange.emit(de),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(xe){return new(xe||ue)(b.Y36(se),b.Y36(b.Rgc),b.Y36(b.s_b),b.Y36(J),b.Y36(y.Is,8))};static#t=this.\u0275dir=b.lG2({type:ue,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[b.TTD]})}return ue})();const ie={provide:J,deps:[se],useFactory:function ne(ue){return()=>ue.scrollStrategies.reposition()}};let ee=(()=>{class ue{static#e=this.\u0275fac=function(xe){return new(xe||ue)};static#t=this.\u0275mod=b.oAB({type:ue});static#n=this.\u0275inj=b.cJS({providers:[se,ie],imports:[y.vT,M.eL,c.Cl,c.Cl]})}return ue})()},2831:(Bn,tt,S)=>{"use strict";S.d(tt,{Mq:()=>U,Oy:()=>T,ht:()=>x,i$:()=>g,kV:()=>O,qK:()=>D,sA:()=>P,t4:()=>w});var c=S(5879),t=S(6814);let b;try{b=typeof Intl<"u"&&Intl.v8BreakIterator}catch{b=!1}let F,w=(()=>{class N{constructor(B){this._platformId=B,this.isBrowser=this._platformId?(0,t.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!b)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Y){return new(Y||N)(c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();const L=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function D(){if(F)return F;if("object"!=typeof document||!document)return F=new Set(L),F;let N=document.createElement("input");return F=new Set(L.filter(C=>(N.setAttribute("type",C),N.type===C))),F}let p,M,V;function g(N){return function f(){if(null==p&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>p=!0}))}finally{p=p||!1}return p}()?N:!!N.capture}function U(){if(null==M){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return M=!1,M;if("scrollBehavior"in document.documentElement.style)M=!0;else{const N=Element.prototype.scrollTo;M=!!N&&!/\{\s*\[native code\]\s*\}/.test(N.toString())}}return M}function O(N){if(function k(){if(null==V){const N=typeof document<"u"?document.head:null;V=!(!N||!N.createShadowRoot&&!N.attachShadow)}return V}()){const C=N.getRootNode?N.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&C instanceof ShadowRoot)return C}return null}function x(){let N=typeof document<"u"&&document?document.activeElement:null;for(;N&&N.shadowRoot;){const C=N.shadowRoot.activeElement;if(C===N)break;N=C}return N}function P(N){return N.composedPath?N.composedPath()[0]:N.target}function T(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(Bn,tt,S)=>{"use strict";S.d(tt,{C5:()=>f,Pl:()=>x,UE:()=>g,eL:()=>T,en:()=>M,u0:()=>R});var c=S(5879),t=S(6814);class p{attach(B){return this._attachedHost=B,B.attach(this)}detach(){let B=this._attachedHost;null!=B&&(this._attachedHost=null,B.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(B){this._attachedHost=B}}class f extends p{constructor(B,Y,q,le,Fe){super(),this.component=B,this.viewContainerRef=Y,this.injector=q,this.componentFactoryResolver=le,this.projectableNodes=Fe}}class g extends p{constructor(B,Y,q,le){super(),this.templateRef=B,this.viewContainerRef=Y,this.context=q,this.injector=le}get origin(){return this.templateRef.elementRef}attach(B,Y=this.context){return this.context=Y,super.attach(B)}detach(){return this.context=void 0,super.detach()}}class y extends p{constructor(B){super(),this.element=B instanceof c.SBq?B.nativeElement:B}}class M{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(B){return B instanceof f?(this._attachedPortal=B,this.attachComponentPortal(B)):B instanceof g?(this._attachedPortal=B,this.attachTemplatePortal(B)):this.attachDomPortal&&B instanceof y?(this._attachedPortal=B,this.attachDomPortal(B)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(B){this._disposeFn=B}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class R extends M{constructor(B,Y,q,le,Fe){super(),this.outletElement=B,this._componentFactoryResolver=Y,this._appRef=q,this._defaultInjector=le,this.attachDomPortal=$=>{const ae=$.element,K=this._document.createComment("dom-portal");ae.parentNode.insertBefore(K,ae),this.outletElement.appendChild(ae),this._attachedPortal=$,super.setDisposeFn(()=>{K.parentNode&&K.parentNode.replaceChild(ae,K)})},this._document=Fe}attachComponentPortal(B){const q=(B.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(B.component);let le;return B.viewContainerRef?(le=B.viewContainerRef.createComponent(q,B.viewContainerRef.length,B.injector||B.viewContainerRef.injector,B.projectableNodes||void 0),this.setDisposeFn(()=>le.destroy())):(le=q.create(B.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(le.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(le.hostView),le.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(le)),this._attachedPortal=B,le}attachTemplatePortal(B){let Y=B.viewContainerRef,q=Y.createEmbeddedView(B.templateRef,B.context,{injector:B.injector});return q.rootNodes.forEach(le=>this.outletElement.appendChild(le)),q.detectChanges(),this.setDisposeFn(()=>{let le=Y.indexOf(q);-1!==le&&Y.remove(le)}),this._attachedPortal=B,q}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(B){return B.hostView.rootNodes[0]}}let x=(()=>{class C extends M{constructor(Y,q,le){super(),this._componentFactoryResolver=Y,this._viewContainerRef=q,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=Fe=>{const $=Fe.element,ae=this._document.createComment("dom-portal");Fe.setAttachedHost(this),$.parentNode.insertBefore(ae,$),this._getRootNode().appendChild($),this._attachedPortal=Fe,super.setDisposeFn(()=>{ae.parentNode&&ae.parentNode.replaceChild($,ae)})},this._document=le}get portal(){return this._attachedPortal}set portal(Y){this.hasAttached()&&!Y&&!this._isInitialized||(this.hasAttached()&&super.detach(),Y&&super.attach(Y),this._attachedPortal=Y||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Y){Y.setAttachedHost(this);const q=null!=Y.viewContainerRef?Y.viewContainerRef:this._viewContainerRef,Fe=(Y.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Y.component),$=q.createComponent(Fe,q.length,Y.injector||q.injector,Y.projectableNodes||void 0);return q!==this._viewContainerRef&&this._getRootNode().appendChild($.hostView.rootNodes[0]),super.setDisposeFn(()=>$.destroy()),this._attachedPortal=Y,this._attachedRef=$,this.attached.emit($),$}attachTemplatePortal(Y){Y.setAttachedHost(this);const q=this._viewContainerRef.createEmbeddedView(Y.templateRef,Y.context,{injector:Y.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Y,this._attachedRef=q,this.attached.emit(q),q}_getRootNode(){const Y=this._viewContainerRef.element.nativeElement;return Y.nodeType===Y.ELEMENT_NODE?Y:Y.parentNode}static#e=this.\u0275fac=function(q){return new(q||C)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(t.K0))};static#t=this.\u0275dir=c.lG2({type:C,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]})}return C})(),T=(()=>{class C{static#e=this.\u0275fac=function(q){return new(q||C)};static#t=this.\u0275mod=c.oAB({type:C});static#n=this.\u0275inj=c.cJS({})}return C})()},799:(Bn,tt,S)=>{"use strict";S.d(tt,{ZD:()=>ue,mF:()=>Je,Cl:()=>ve,rL:()=>W});var c=S(2495),t=S(5879),b=S(8645),w=S(2096),E=S(5592),F=S(2438),L=S(1954),D=S(7394);const p={schedule(de){let xe=requestAnimationFrame,Ke=cancelAnimationFrame;const{delegate:Ve}=p;Ve&&(xe=Ve.requestAnimationFrame,Ke=Ve.cancelAnimationFrame);const lt=xe(dt=>{Ke=void 0,de(dt)});return new D.w0(()=>Ke?.(lt))},requestAnimationFrame(...de){const{delegate:xe}=p;return(xe?.requestAnimationFrame||requestAnimationFrame)(...de)},cancelAnimationFrame(...de){const{delegate:xe}=p;return(xe?.cancelAnimationFrame||cancelAnimationFrame)(...de)},delegate:void 0};var g=S(2631);new class y extends g.v{flush(xe){this._active=!0;const Ke=this._scheduled;this._scheduled=void 0;const{actions:Ve}=this;let lt;xe=xe||Ve.shift();do{if(lt=xe.execute(xe.state,xe.delay))break}while((xe=Ve[0])&&xe.id===Ke&&Ve.shift());if(this._active=!1,lt){for(;(xe=Ve[0])&&xe.id===Ke&&Ve.shift();)xe.unsubscribe();throw lt}}}(class f extends L.o{constructor(xe,Ke){super(xe,Ke),this.scheduler=xe,this.work=Ke}requestAsyncId(xe,Ke,Ve=0){return null!==Ve&&Ve>0?super.requestAsyncId(xe,Ke,Ve):(xe.actions.push(this),xe._scheduled||(xe._scheduled=p.requestAnimationFrame(()=>xe.flush(void 0))))}recycleAsyncId(xe,Ke,Ve=0){var lt;if(null!=Ve?Ve>0:this.delay>0)return super.recycleAsyncId(xe,Ke,Ve);const{actions:dt}=xe;null!=Ke&&(null===(lt=dt[dt.length-1])||void 0===lt?void 0:lt.id)!==Ke&&(p.cancelAnimationFrame(Ke),xe._scheduled=void 0)}});let V,R=1;const k={};function O(de){return de in k&&(delete k[de],!0)}const x={setImmediate(de){const xe=R++;return k[xe]=!0,V||(V=Promise.resolve()),V.then(()=>O(xe)&&de()),xe},clearImmediate(de){O(de)}},{setImmediate:T,clearImmediate:N}=x,C={setImmediate(...de){const{delegate:xe}=C;return(xe?.setImmediate||T)(...de)},clearImmediate(de){const{delegate:xe}=C;return(xe?.clearImmediate||N)(de)},delegate:void 0};new class Y extends g.v{flush(xe){this._active=!0;const Ke=this._scheduled;this._scheduled=void 0;const{actions:Ve}=this;let lt;xe=xe||Ve.shift();do{if(lt=xe.execute(xe.state,xe.delay))break}while((xe=Ve[0])&&xe.id===Ke&&Ve.shift());if(this._active=!1,lt){for(;(xe=Ve[0])&&xe.id===Ke&&Ve.shift();)xe.unsubscribe();throw lt}}}(class B extends L.o{constructor(xe,Ke){super(xe,Ke),this.scheduler=xe,this.work=Ke}requestAsyncId(xe,Ke,Ve=0){return null!==Ve&&Ve>0?super.requestAsyncId(xe,Ke,Ve):(xe.actions.push(this),xe._scheduled||(xe._scheduled=C.setImmediate(xe.flush.bind(xe,void 0))))}recycleAsyncId(xe,Ke,Ve=0){var lt;if(null!=Ve?Ve>0:this.delay>0)return super.recycleAsyncId(xe,Ke,Ve);const{actions:dt}=xe;null!=Ke&&(null===(lt=dt[dt.length-1])||void 0===lt?void 0:lt.id)!==Ke&&(C.clearImmediate(Ke),xe._scheduled===Ke&&(xe._scheduled=void 0))}});var Fe=S(6321),$=S(9360),ae=S(4829),K=S(8251),oe=S(4825);function he(de,xe=Fe.z){return function ge(de){return(0,$.e)((xe,Ke)=>{let Ve=!1,lt=null,dt=null,it=!1;const bt=()=>{if(dt?.unsubscribe(),dt=null,Ve){Ve=!1;const wt=lt;lt=null,Ke.next(wt)}it&&Ke.complete()},Ut=()=>{dt=null,it&&Ke.complete()};xe.subscribe((0,K.x)(Ke,wt=>{Ve=!0,lt=wt,dt||(0,ae.Xf)(de(wt)).subscribe(dt=(0,K.x)(Ke,bt,Ut))},()=>{it=!0,(!Ve||!dt||dt.closed)&&Ke.complete()}))})}(()=>(0,oe.H)(de,xe))}var Ce=S(2181),Le=S(2831),fe=S(6814),Re=S(9388);let Je=(()=>{class de{constructor(Ke,Ve,lt){this._ngZone=Ke,this._platform=Ve,this._scrolled=new b.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=lt}register(Ke){this.scrollContainers.has(Ke)||this.scrollContainers.set(Ke,Ke.elementScrolled().subscribe(()=>this._scrolled.next(Ke)))}deregister(Ke){const Ve=this.scrollContainers.get(Ke);Ve&&(Ve.unsubscribe(),this.scrollContainers.delete(Ke))}scrolled(Ke=20){return this._platform.isBrowser?new E.y(Ve=>{this._globalSubscription||this._addGlobalListener();const lt=Ke>0?this._scrolled.pipe(he(Ke)).subscribe(Ve):this._scrolled.subscribe(Ve);return this._scrolledCount++,()=>{lt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,w.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ke,Ve)=>this.deregister(Ve)),this._scrolled.complete()}ancestorScrolled(Ke,Ve){const lt=this.getAncestorScrollContainers(Ke);return this.scrolled(Ve).pipe((0,Ce.h)(dt=>!dt||lt.indexOf(dt)>-1))}getAncestorScrollContainers(Ke){const Ve=[];return this.scrollContainers.forEach((lt,dt)=>{this._scrollableContainsElement(dt,Ke)&&Ve.push(dt)}),Ve}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ke,Ve){let lt=(0,c.fI)(Ve),dt=Ke.getElementRef().nativeElement;do{if(lt==dt)return!0}while(lt=lt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ke=this._getWindow();return(0,F.R)(Ke.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(Ve){return new(Ve||de)(t.LFG(t.R0b),t.LFG(Le.t4),t.LFG(fe.K0,8))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),W=(()=>{class de{constructor(Ke,Ve,lt){this._platform=Ke,this._change=new b.x,this._changeListener=dt=>{this._change.next(dt)},this._document=lt,Ve.runOutsideAngular(()=>{if(Ke.isBrowser){const dt=this._getWindow();dt.addEventListener("resize",this._changeListener),dt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ke=this._getWindow();Ke.removeEventListener("resize",this._changeListener),Ke.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ke={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ke}getViewportRect(){const Ke=this.getViewportScrollPosition(),{width:Ve,height:lt}=this.getViewportSize();return{top:Ke.top,left:Ke.left,bottom:Ke.top+lt,right:Ke.left+Ve,height:lt,width:Ve}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ke=this._document,Ve=this._getWindow(),lt=Ke.documentElement,dt=lt.getBoundingClientRect();return{top:-dt.top||Ke.body.scrollTop||Ve.scrollY||lt.scrollTop||0,left:-dt.left||Ke.body.scrollLeft||Ve.scrollX||lt.scrollLeft||0}}change(Ke=20){return Ke>0?this._change.pipe(he(Ke)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ke=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ke.innerWidth,height:Ke.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(Ve){return new(Ve||de)(t.LFG(Le.t4),t.LFG(t.R0b),t.LFG(fe.K0,8))};static#t=this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),ue=(()=>{class de{static#e=this.\u0275fac=function(Ve){return new(Ve||de)};static#t=this.\u0275mod=t.oAB({type:de});static#n=this.\u0275inj=t.cJS({})}return de})(),ve=(()=>{class de{static#e=this.\u0275fac=function(Ve){return new(Ve||de)};static#t=this.\u0275mod=t.oAB({type:de});static#n=this.\u0275inj=t.cJS({imports:[Re.vT,ue,Re.vT,ue]})}return de})()},6814:(Bn,tt,S)=>{"use strict";S.d(tt,{Do:()=>V,ED:()=>$i,EM:()=>vs,HT:()=>w,JF:()=>Li,K0:()=>F,Mn:()=>ge,Mx:()=>Fn,NF:()=>Mo,O5:()=>yt,Ov:()=>zo,PM:()=>Lr,RF:()=>ti,S$:()=>M,Tn:()=>q,UT:()=>oe,V_:()=>D,Ye:()=>k,ax:()=>vt,b0:()=>R,bD:()=>ro,ez:()=>Gr,mk:()=>rn,mr:()=>U,n9:()=>ar,p6:()=>xe,q:()=>b,sg:()=>vt,tP:()=>uo,uU:()=>qi,w_:()=>E,x:()=>Y});var c=S(5879);let t=null;function b(){return t}function w(Ie){t||(t=Ie)}class E{}const F=new c.OlP("DocumentToken");let L=(()=>{class Ie{historyGo(ot){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)};static#t=this.\u0275prov=c.Yz7({token:Ie,factory:function(){return(0,c.f3M)(p)},providedIn:"platform"})}return Ie})();const D=new c.OlP("Location Initialized");let p=(()=>{class Ie extends L{constructor(){super(),this._doc=(0,c.f3M)(F),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return b().getBaseHref(this._doc)}onPopState(ot){const Mt=b().getGlobalEventTarget(this._doc,"window");return Mt.addEventListener("popstate",ot,!1),()=>Mt.removeEventListener("popstate",ot)}onHashChange(ot){const Mt=b().getGlobalEventTarget(this._doc,"window");return Mt.addEventListener("hashchange",ot,!1),()=>Mt.removeEventListener("hashchange",ot)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(ot){this._location.pathname=ot}pushState(ot,Mt,Xt){this._history.pushState(ot,Mt,Xt)}replaceState(ot,Mt,Xt){this._history.replaceState(ot,Mt,Xt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(ot=0){this._history.go(ot)}getState(){return this._history.state}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)};static#t=this.\u0275prov=c.Yz7({token:Ie,factory:function(){return new Ie},providedIn:"platform"})}return Ie})();function f(Ie,It){if(0==Ie.length)return It;if(0==It.length)return Ie;let ot=0;return Ie.endsWith("/")&&ot++,It.startsWith("/")&&ot++,2==ot?Ie+It.substring(1):1==ot?Ie+It:Ie+"/"+It}function g(Ie){const It=Ie.match(/#|\?|$/),ot=It&&It.index||Ie.length;return Ie.slice(0,ot-("/"===Ie[ot-1]?1:0))+Ie.slice(ot)}function y(Ie){return Ie&&"?"!==Ie[0]?"?"+Ie:Ie}let M=(()=>{class Ie{historyGo(ot){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)};static#t=this.\u0275prov=c.Yz7({token:Ie,factory:function(){return(0,c.f3M)(R)},providedIn:"root"})}return Ie})();const U=new c.OlP("appBaseHref");let R=(()=>{class Ie extends M{constructor(ot,Mt){super(),this._platformLocation=ot,this._removeListenerFns=[],this._baseHref=Mt??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(F).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ot){this._removeListenerFns.push(this._platformLocation.onPopState(ot),this._platformLocation.onHashChange(ot))}getBaseHref(){return this._baseHref}prepareExternalUrl(ot){return f(this._baseHref,ot)}path(ot=!1){const Mt=this._platformLocation.pathname+y(this._platformLocation.search),Xt=this._platformLocation.hash;return Xt&&ot?`${Mt}${Xt}`:Mt}pushState(ot,Mt,Xt,An){const Hn=this.prepareExternalUrl(Xt+y(An));this._platformLocation.pushState(ot,Mt,Hn)}replaceState(ot,Mt,Xt,An){const Hn=this.prepareExternalUrl(Xt+y(An));this._platformLocation.replaceState(ot,Mt,Hn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ot=0){this._platformLocation.historyGo?.(ot)}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.LFG(L),c.LFG(U,8))};static#t=this.\u0275prov=c.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})(),V=(()=>{class Ie extends M{constructor(ot,Mt){super(),this._platformLocation=ot,this._baseHref="",this._removeListenerFns=[],null!=Mt&&(this._baseHref=Mt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ot){this._removeListenerFns.push(this._platformLocation.onPopState(ot),this._platformLocation.onHashChange(ot))}getBaseHref(){return this._baseHref}path(ot=!1){let Mt=this._platformLocation.hash;return null==Mt&&(Mt="#"),Mt.length>0?Mt.substring(1):Mt}prepareExternalUrl(ot){const Mt=f(this._baseHref,ot);return Mt.length>0?"#"+Mt:Mt}pushState(ot,Mt,Xt,An){let Hn=this.prepareExternalUrl(Xt+y(An));0==Hn.length&&(Hn=this._platformLocation.pathname),this._platformLocation.pushState(ot,Mt,Hn)}replaceState(ot,Mt,Xt,An){let Hn=this.prepareExternalUrl(Xt+y(An));0==Hn.length&&(Hn=this._platformLocation.pathname),this._platformLocation.replaceState(ot,Mt,Hn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ot=0){this._platformLocation.historyGo?.(ot)}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.LFG(L),c.LFG(U,8))};static#t=this.\u0275prov=c.Yz7({token:Ie,factory:Ie.\u0275fac})}return Ie})(),k=(()=>{class Ie{constructor(ot){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=ot;const Mt=this._locationStrategy.getBaseHref();this._basePath=function T(Ie){if(new RegExp("^(https?:)?//").test(Ie)){const[,ot]=Ie.split(/\/\/[^\/]+/);return ot}return Ie}(g(P(Mt))),this._locationStrategy.onPopState(Xt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Xt.state,type:Xt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(ot=!1){return this.normalize(this._locationStrategy.path(ot))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(ot,Mt=""){return this.path()==this.normalize(ot+y(Mt))}normalize(ot){return Ie.stripTrailingSlash(function x(Ie,It){if(!Ie||!It.startsWith(Ie))return It;const ot=It.substring(Ie.length);return""===ot||["/",";","?","#"].includes(ot[0])?ot:It}(this._basePath,P(ot)))}prepareExternalUrl(ot){return ot&&"/"!==ot[0]&&(ot="/"+ot),this._locationStrategy.prepareExternalUrl(ot)}go(ot,Mt="",Xt=null){this._locationStrategy.pushState(Xt,"",ot,Mt),this._notifyUrlChangeListeners(this.prepareExternalUrl(ot+y(Mt)),Xt)}replaceState(ot,Mt="",Xt=null){this._locationStrategy.replaceState(Xt,"",ot,Mt),this._notifyUrlChangeListeners(this.prepareExternalUrl(ot+y(Mt)),Xt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(ot=0){this._locationStrategy.historyGo?.(ot)}onUrlChange(ot){return this._urlChangeListeners.push(ot),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Mt=>{this._notifyUrlChangeListeners(Mt.url,Mt.state)})),()=>{const Mt=this._urlChangeListeners.indexOf(ot);this._urlChangeListeners.splice(Mt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(ot="",Mt){this._urlChangeListeners.forEach(Xt=>Xt(ot,Mt))}subscribe(ot,Mt,Xt){return this._subject.subscribe({next:ot,error:Mt,complete:Xt})}static#e=this.normalizeQueryParams=y;static#t=this.joinWithSlash=f;static#n=this.stripTrailingSlash=g;static#i=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.LFG(M))};static#r=this.\u0275prov=c.Yz7({token:Ie,factory:function(){return function O(){return new k((0,c.LFG)(M))}()},providedIn:"root"})}return Ie})();function P(Ie){return Ie.replace(/\/index.html$/,"")}var Y=function(Ie){return Ie[Ie.Format=0]="Format",Ie[Ie.Standalone=1]="Standalone",Ie}(Y||{}),q=function(Ie){return Ie[Ie.Narrow=0]="Narrow",Ie[Ie.Abbreviated=1]="Abbreviated",Ie[Ie.Wide=2]="Wide",Ie[Ie.Short=3]="Short",Ie}(q||{}),le=function(Ie){return Ie[Ie.Short=0]="Short",Ie[Ie.Medium=1]="Medium",Ie[Ie.Long=2]="Long",Ie[Ie.Full=3]="Full",Ie}(le||{}),Fe=function(Ie){return Ie[Ie.Decimal=0]="Decimal",Ie[Ie.Group=1]="Group",Ie[Ie.List=2]="List",Ie[Ie.PercentSign=3]="PercentSign",Ie[Ie.PlusSign=4]="PlusSign",Ie[Ie.MinusSign=5]="MinusSign",Ie[Ie.Exponential=6]="Exponential",Ie[Ie.SuperscriptingExponent=7]="SuperscriptingExponent",Ie[Ie.PerMille=8]="PerMille",Ie[Ie.Infinity=9]="Infinity",Ie[Ie.NaN=10]="NaN",Ie[Ie.TimeSeparator=11]="TimeSeparator",Ie[Ie.CurrencyDecimal=12]="CurrencyDecimal",Ie[Ie.CurrencyGroup=13]="CurrencyGroup",Ie}(Fe||{});function ge(Ie,It,ot){const Mt=(0,c.cg1)(Ie),An=_e([Mt[c.wAp.DaysFormat],Mt[c.wAp.DaysStandalone]],It);return _e(An,ot)}function oe(Ie,It,ot){const Mt=(0,c.cg1)(Ie),An=_e([Mt[c.wAp.MonthsFormat],Mt[c.wAp.MonthsStandalone]],It);return _e(An,ot)}function fe(Ie,It){return _e((0,c.cg1)(Ie)[c.wAp.DateFormat],It)}function Re(Ie,It){return _e((0,c.cg1)(Ie)[c.wAp.TimeFormat],It)}function Ae(Ie,It){return _e((0,c.cg1)(Ie)[c.wAp.DateTimeFormat],It)}function pe(Ie,It){const ot=(0,c.cg1)(Ie),Mt=ot[c.wAp.NumberSymbols][It];if(typeof Mt>"u"){if(It===Fe.CurrencyDecimal)return ot[c.wAp.NumberSymbols][Fe.Decimal];if(It===Fe.CurrencyGroup)return ot[c.wAp.NumberSymbols][Fe.Group]}return Mt}function Ne(Ie){if(!Ie[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${Ie[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _e(Ie,It){for(let ot=It;ot>-1;ot--)if(typeof Ie[ot]<"u")return Ie[ot];throw new Error("Locale data API: locale data undefined")}function J(Ie){const[It,ot]=Ie.split(":");return{hours:+It,minutes:+ot}}const ie=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ee={},X=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ue=function(Ie){return Ie[Ie.Short=0]="Short",Ie[Ie.ShortGMT=1]="ShortGMT",Ie[Ie.Long=2]="Long",Ie[Ie.Extended=3]="Extended",Ie}(ue||{}),ve=function(Ie){return Ie[Ie.FullYear=0]="FullYear",Ie[Ie.Month=1]="Month",Ie[Ie.Date=2]="Date",Ie[Ie.Hours=3]="Hours",Ie[Ie.Minutes=4]="Minutes",Ie[Ie.Seconds=5]="Seconds",Ie[Ie.FractionalSeconds=6]="FractionalSeconds",Ie[Ie.Day=7]="Day",Ie}(ve||{}),de=function(Ie){return Ie[Ie.DayPeriods=0]="DayPeriods",Ie[Ie.Days=1]="Days",Ie[Ie.Months=2]="Months",Ie[Ie.Eras=3]="Eras",Ie}(de||{});function xe(Ie,It,ot,Mt){let Xt=function Ze(Ie){if(st(Ie))return Ie;if("number"==typeof Ie&&!isNaN(Ie))return new Date(Ie);if("string"==typeof Ie){if(Ie=Ie.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Ie)){const[Xt,An=1,Hn=1]=Ie.split("-").map(si=>+si);return Ke(Xt,An-1,Hn)}const ot=parseFloat(Ie);if(!isNaN(Ie-ot))return new Date(ot);let Mt;if(Mt=Ie.match(ie))return function ct(Ie){const It=new Date(0);let ot=0,Mt=0;const Xt=Ie[8]?It.setUTCFullYear:It.setFullYear,An=Ie[8]?It.setUTCHours:It.setHours;Ie[9]&&(ot=Number(Ie[9]+Ie[10]),Mt=Number(Ie[9]+Ie[11])),Xt.call(It,Number(Ie[1]),Number(Ie[2])-1,Number(Ie[3]));const Hn=Number(Ie[4]||0)-ot,si=Number(Ie[5]||0)-Mt,Ar=Number(Ie[6]||0),Wi=Math.floor(1e3*parseFloat("0."+(Ie[7]||0)));return An.call(It,Hn,si,Ar,Wi),It}(Mt)}const It=new Date(Ie);if(!st(It))throw new Error(`Unable to convert "${Ie}" into a date`);return It}(Ie);It=Ve(ot,It)||It;let si,Hn=[];for(;It;){if(si=X.exec(It),!si){Hn.push(It);break}{Hn=Hn.concat(si.slice(1));const er=Hn.pop();if(!er)break;It=er}}let Ar=Xt.getTimezoneOffset();Mt&&(Ar=De(Mt,Ar),Xt=function Ye(Ie,It,ot){const Mt=ot?-1:1,Xt=Ie.getTimezoneOffset();return function Pe(Ie,It){return(Ie=new Date(Ie.getTime())).setMinutes(Ie.getMinutes()+It),Ie}(Ie,Mt*(De(It,Xt)-Xt))}(Xt,Mt,!0));let Wi="";return Hn.forEach(er=>{const zi=function Qe(Ie){if(mt[Ie])return mt[Ie];let It;switch(Ie){case"G":case"GG":case"GGG":It=wt(de.Eras,q.Abbreviated);break;case"GGGG":It=wt(de.Eras,q.Wide);break;case"GGGGG":It=wt(de.Eras,q.Narrow);break;case"y":It=bt(ve.FullYear,1,0,!1,!0);break;case"yy":It=bt(ve.FullYear,2,0,!0,!0);break;case"yyy":It=bt(ve.FullYear,3,0,!1,!0);break;case"yyyy":It=bt(ve.FullYear,4,0,!1,!0);break;case"Y":It=Dt(1);break;case"YY":It=Dt(2,!0);break;case"YYY":It=Dt(3);break;case"YYYY":It=Dt(4);break;case"M":case"L":It=bt(ve.Month,1,1);break;case"MM":case"LL":It=bt(ve.Month,2,1);break;case"MMM":It=wt(de.Months,q.Abbreviated);break;case"MMMM":It=wt(de.Months,q.Wide);break;case"MMMMM":It=wt(de.Months,q.Narrow);break;case"LLL":It=wt(de.Months,q.Abbreviated,Y.Standalone);break;case"LLLL":It=wt(de.Months,q.Wide,Y.Standalone);break;case"LLLLL":It=wt(de.Months,q.Narrow,Y.Standalone);break;case"w":It=nn(1);break;case"ww":It=nn(2);break;case"W":It=nn(1,!0);break;case"d":It=bt(ve.Date,1);break;case"dd":It=bt(ve.Date,2);break;case"c":case"cc":It=bt(ve.Day,1);break;case"ccc":It=wt(de.Days,q.Abbreviated,Y.Standalone);break;case"cccc":It=wt(de.Days,q.Wide,Y.Standalone);break;case"ccccc":It=wt(de.Days,q.Narrow,Y.Standalone);break;case"cccccc":It=wt(de.Days,q.Short,Y.Standalone);break;case"E":case"EE":case"EEE":It=wt(de.Days,q.Abbreviated);break;case"EEEE":It=wt(de.Days,q.Wide);break;case"EEEEE":It=wt(de.Days,q.Narrow);break;case"EEEEEE":It=wt(de.Days,q.Short);break;case"a":case"aa":case"aaa":It=wt(de.DayPeriods,q.Abbreviated);break;case"aaaa":It=wt(de.DayPeriods,q.Wide);break;case"aaaaa":It=wt(de.DayPeriods,q.Narrow);break;case"b":case"bb":case"bbb":It=wt(de.DayPeriods,q.Abbreviated,Y.Standalone,!0);break;case"bbbb":It=wt(de.DayPeriods,q.Wide,Y.Standalone,!0);break;case"bbbbb":It=wt(de.DayPeriods,q.Narrow,Y.Standalone,!0);break;case"B":case"BB":case"BBB":It=wt(de.DayPeriods,q.Abbreviated,Y.Format,!0);break;case"BBBB":It=wt(de.DayPeriods,q.Wide,Y.Format,!0);break;case"BBBBB":It=wt(de.DayPeriods,q.Narrow,Y.Format,!0);break;case"h":It=bt(ve.Hours,1,-12);break;case"hh":It=bt(ve.Hours,2,-12);break;case"H":It=bt(ve.Hours,1);break;case"HH":It=bt(ve.Hours,2);break;case"m":It=bt(ve.Minutes,1);break;case"mm":It=bt(ve.Minutes,2);break;case"s":It=bt(ve.Seconds,1);break;case"ss":It=bt(ve.Seconds,2);break;case"S":It=bt(ve.FractionalSeconds,1);break;case"SS":It=bt(ve.FractionalSeconds,2);break;case"SSS":It=bt(ve.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":It=en(ue.Short);break;case"ZZZZZ":It=en(ue.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":It=en(ue.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":It=en(ue.Long);break;default:return null}return mt[Ie]=It,It}(er);Wi+=zi?zi(Xt,ot,Ar):"''"===er?"'":er.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Wi}function Ke(Ie,It,ot){const Mt=new Date(0);return Mt.setFullYear(Ie,It,ot),Mt.setHours(0,0,0),Mt}function Ve(Ie,It){const ot=function ae(Ie){return(0,c.cg1)(Ie)[c.wAp.LocaleId]}(Ie);if(ee[ot]=ee[ot]||{},ee[ot][It])return ee[ot][It];let Mt="";switch(It){case"shortDate":Mt=fe(Ie,le.Short);break;case"mediumDate":Mt=fe(Ie,le.Medium);break;case"longDate":Mt=fe(Ie,le.Long);break;case"fullDate":Mt=fe(Ie,le.Full);break;case"shortTime":Mt=Re(Ie,le.Short);break;case"mediumTime":Mt=Re(Ie,le.Medium);break;case"longTime":Mt=Re(Ie,le.Long);break;case"fullTime":Mt=Re(Ie,le.Full);break;case"short":const Xt=Ve(Ie,"shortTime"),An=Ve(Ie,"shortDate");Mt=lt(Ae(Ie,le.Short),[Xt,An]);break;case"medium":const Hn=Ve(Ie,"mediumTime"),si=Ve(Ie,"mediumDate");Mt=lt(Ae(Ie,le.Medium),[Hn,si]);break;case"long":const Ar=Ve(Ie,"longTime"),Wi=Ve(Ie,"longDate");Mt=lt(Ae(Ie,le.Long),[Ar,Wi]);break;case"full":const er=Ve(Ie,"fullTime"),zi=Ve(Ie,"fullDate");Mt=lt(Ae(Ie,le.Full),[er,zi])}return Mt&&(ee[ot][It]=Mt),Mt}function lt(Ie,It){return It&&(Ie=Ie.replace(/\{([^}]+)}/g,function(ot,Mt){return null!=It&&Mt in It?It[Mt]:ot})),Ie}function dt(Ie,It,ot="-",Mt,Xt){let An="";(Ie<0||Xt&&Ie<=0)&&(Xt?Ie=1-Ie:(Ie=-Ie,An=ot));let Hn=String(Ie);for(;Hn.length<It;)Hn="0"+Hn;return Mt&&(Hn=Hn.slice(Hn.length-It)),An+Hn}function bt(Ie,It,ot=0,Mt=!1,Xt=!1){return function(An,Hn){let si=function Ut(Ie,It){switch(Ie){case ve.FullYear:return It.getFullYear();case ve.Month:return It.getMonth();case ve.Date:return It.getDate();case ve.Hours:return It.getHours();case ve.Minutes:return It.getMinutes();case ve.Seconds:return It.getSeconds();case ve.FractionalSeconds:return It.getMilliseconds();case ve.Day:return It.getDay();default:throw new Error(`Unknown DateType value "${Ie}".`)}}(Ie,An);if((ot>0||si>-ot)&&(si+=ot),Ie===ve.Hours)0===si&&-12===ot&&(si=12);else if(Ie===ve.FractionalSeconds)return function it(Ie,It){return dt(Ie,3).substring(0,It)}(si,It);const Ar=pe(Hn,Fe.MinusSign);return dt(si,It,Ar,Mt,Xt)}}function wt(Ie,It,ot=Y.Format,Mt=!1){return function(Xt,An){return function Ht(Ie,It,ot,Mt,Xt,An){switch(ot){case de.Months:return oe(It,Xt,Mt)[Ie.getMonth()];case de.Days:return ge(It,Xt,Mt)[Ie.getDay()];case de.DayPeriods:const Hn=Ie.getHours(),si=Ie.getMinutes();if(An){const Wi=function Te(Ie){const It=(0,c.cg1)(Ie);return Ne(It),(It[c.wAp.ExtraData][2]||[]).map(Mt=>"string"==typeof Mt?J(Mt):[J(Mt[0]),J(Mt[1])])}(It),er=function W(Ie,It,ot){const Mt=(0,c.cg1)(Ie);Ne(Mt);const An=_e([Mt[c.wAp.ExtraData][0],Mt[c.wAp.ExtraData][1]],It)||[];return _e(An,ot)||[]}(It,Xt,Mt),zi=Wi.findIndex(Fr=>{if(Array.isArray(Fr)){const[ir,yr]=Fr,us=Hn>=ir.hours&&si>=ir.minutes,Si=Hn<yr.hours||Hn===yr.hours&&si<yr.minutes;if(ir.hours<yr.hours){if(us&&Si)return!0}else if(us||Si)return!0}else if(Fr.hours===Hn&&Fr.minutes===si)return!0;return!1});if(-1!==zi)return er[zi]}return function K(Ie,It,ot){const Mt=(0,c.cg1)(Ie),An=_e([Mt[c.wAp.DayPeriodsFormat],Mt[c.wAp.DayPeriodsStandalone]],It);return _e(An,ot)}(It,Xt,Mt)[Hn<12?0:1];case de.Eras:return function he(Ie,It){return _e((0,c.cg1)(Ie)[c.wAp.Eras],It)}(It,Mt)[Ie.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${ot}`)}}(Xt,An,Ie,It,ot,Mt)}}function en(Ie){return function(It,ot,Mt){const Xt=-1*Mt,An=pe(ot,Fe.MinusSign),Hn=Xt>0?Math.floor(Xt/60):Math.ceil(Xt/60);switch(Ie){case ue.Short:return(Xt>=0?"+":"")+dt(Hn,2,An)+dt(Math.abs(Xt%60),2,An);case ue.ShortGMT:return"GMT"+(Xt>=0?"+":"")+dt(Hn,1,An);case ue.Long:return"GMT"+(Xt>=0?"+":"")+dt(Hn,2,An)+":"+dt(Math.abs(Xt%60),2,An);case ue.Extended:return 0===Mt?"Z":(Xt>=0?"+":"")+dt(Hn,2,An)+":"+dt(Math.abs(Xt%60),2,An);default:throw new Error(`Unknown zone width "${Ie}"`)}}}const ln=0,cn=4;function Sn(Ie){return Ke(Ie.getFullYear(),Ie.getMonth(),Ie.getDate()+(cn-Ie.getDay()))}function nn(Ie,It=!1){return function(ot,Mt){let Xt;if(It){const An=new Date(ot.getFullYear(),ot.getMonth(),1).getDay()-1,Hn=ot.getDate();Xt=1+Math.floor((Hn+An)/7)}else{const An=Sn(ot),Hn=function Wt(Ie){const It=Ke(Ie,ln,1).getDay();return Ke(Ie,0,1+(It<=cn?cn:cn+7)-It)}(An.getFullYear()),si=An.getTime()-Hn.getTime();Xt=1+Math.round(si/6048e5)}return dt(Xt,Ie,pe(Mt,Fe.MinusSign))}}function Dt(Ie,It=!1){return function(ot,Mt){return dt(Sn(ot).getFullYear(),Ie,pe(Mt,Fe.MinusSign),It)}}const mt={};function De(Ie,It){Ie=Ie.replace(/:/g,"");const ot=Date.parse("Jan 01, 1970 00:00:00 "+Ie)/6e4;return isNaN(ot)?It:ot}function st(Ie){return Ie instanceof Date&&!isNaN(Ie.valueOf())}function Fn(Ie,It){It=encodeURIComponent(It);for(const ot of Ie.split(";")){const Mt=ot.indexOf("="),[Xt,An]=-1==Mt?[ot,""]:[ot.slice(0,Mt),ot.slice(Mt+1)];if(Xt.trim()===It)return decodeURIComponent(An)}return null}const Gt=/\s+/,Kt=[];let rn=(()=>{class Ie{constructor(ot,Mt,Xt,An){this._iterableDiffers=ot,this._keyValueDiffers=Mt,this._ngEl=Xt,this._renderer=An,this.initialClasses=Kt,this.stateMap=new Map}set klass(ot){this.initialClasses=null!=ot?ot.trim().split(Gt):Kt}set ngClass(ot){this.rawClass="string"==typeof ot?ot.trim().split(Gt):ot}ngDoCheck(){for(const Mt of this.initialClasses)this._updateState(Mt,!0);const ot=this.rawClass;if(Array.isArray(ot)||ot instanceof Set)for(const Mt of ot)this._updateState(Mt,!0);else if(null!=ot)for(const Mt of Object.keys(ot))this._updateState(Mt,!!ot[Mt]);this._applyStateDiff()}_updateState(ot,Mt){const Xt=this.stateMap.get(ot);void 0!==Xt?(Xt.enabled!==Mt&&(Xt.changed=!0,Xt.enabled=Mt),Xt.touched=!0):this.stateMap.set(ot,{enabled:Mt,changed:!0,touched:!0})}_applyStateDiff(){for(const ot of this.stateMap){const Mt=ot[0],Xt=ot[1];Xt.changed?(this._toggleClass(Mt,Xt.enabled),Xt.changed=!1):Xt.touched||(Xt.enabled&&this._toggleClass(Mt,!1),this.stateMap.delete(Mt)),Xt.touched=!1}}_toggleClass(ot,Mt){(ot=ot.trim()).length>0&&ot.split(Gt).forEach(Xt=>{Mt?this._renderer.addClass(this._ngEl.nativeElement,Xt):this._renderer.removeClass(this._ngEl.nativeElement,Xt)})}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))};static#t=this.\u0275dir=c.lG2({type:Ie,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return Ie})();class Xn{constructor(It,ot,Mt,Xt){this.$implicit=It,this.ngForOf=ot,this.index=Mt,this.count=Xt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vt=(()=>{class Ie{set ngForOf(ot){this._ngForOf=ot,this._ngForOfDirty=!0}set ngForTrackBy(ot){this._trackByFn=ot}get ngForTrackBy(){return this._trackByFn}constructor(ot,Mt,Xt){this._viewContainer=ot,this._template=Mt,this._differs=Xt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(ot){ot&&(this._template=ot)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ot=this._ngForOf;!this._differ&&ot&&(this._differ=this._differs.find(ot).create(this.ngForTrackBy))}if(this._differ){const ot=this._differ.diff(this._ngForOf);ot&&this._applyChanges(ot)}}_applyChanges(ot){const Mt=this._viewContainer;ot.forEachOperation((Xt,An,Hn)=>{if(null==Xt.previousIndex)Mt.createEmbeddedView(this._template,new Xn(Xt.item,this._ngForOf,-1,-1),null===Hn?void 0:Hn);else if(null==Hn)Mt.remove(null===An?void 0:An);else if(null!==An){const si=Mt.get(An);Mt.move(si,Hn),un(si,Xt)}});for(let Xt=0,An=Mt.length;Xt<An;Xt++){const si=Mt.get(Xt).context;si.index=Xt,si.count=An,si.ngForOf=this._ngForOf}ot.forEachIdentityChange(Xt=>{un(Mt.get(Xt.currentIndex),Xt)})}static ngTemplateContextGuard(ot,Mt){return!0}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:Ie,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return Ie})();function un(Ie,It){Ie.context.$implicit=It.item}let yt=(()=>{class Ie{constructor(ot,Mt){this._viewContainer=ot,this._context=new gt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Mt}set ngIf(ot){this._context.$implicit=this._context.ngIf=ot,this._updateView()}set ngIfThen(ot){rt("ngIfThen",ot),this._thenTemplateRef=ot,this._thenViewRef=null,this._updateView()}set ngIfElse(ot){rt("ngIfElse",ot),this._elseTemplateRef=ot,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(ot,Mt){return!0}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.Y36(c.s_b),c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:Ie,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return Ie})();class gt{constructor(){this.$implicit=null,this.ngIf=null}}function rt(Ie,It){if(It&&!It.createEmbeddedView)throw new Error(`${Ie} must be a TemplateRef, but received '${(0,c.AaK)(It)}'.`)}class hn{constructor(It,ot){this._viewContainerRef=It,this._templateRef=ot,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(It){It&&!this._created?this.create():!It&&this._created&&this.destroy()}}let ti=(()=>{class Ie{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(ot){this._ngSwitch=ot,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(ot){this._defaultViews.push(ot)}_matchCase(ot){const Mt=ot==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Mt,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Mt}_updateDefaultCases(ot){if(this._defaultViews.length>0&&ot!==this._defaultUsed){this._defaultUsed=ot;for(const Mt of this._defaultViews)Mt.enforceState(ot)}}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)};static#t=this.\u0275dir=c.lG2({type:Ie,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return Ie})(),ar=(()=>{class Ie{constructor(ot,Mt,Xt){this.ngSwitch=Xt,Xt._addCase(),this._view=new hn(ot,Mt)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(ti,9))};static#t=this.\u0275dir=c.lG2({type:Ie,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return Ie})(),$i=(()=>{class Ie{constructor(ot,Mt,Xt){Xt._addDefault(new hn(ot,Mt))}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(ti,9))};static#t=this.\u0275dir=c.lG2({type:Ie,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return Ie})(),uo=(()=>{class Ie{constructor(ot){this._viewContainerRef=ot,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(ot){if(ot.ngTemplateOutlet||ot.ngTemplateOutletInjector){const Mt=this._viewContainerRef;if(this._viewRef&&Mt.remove(Mt.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Xt,ngTemplateOutletContext:An,ngTemplateOutletInjector:Hn}=this;this._viewRef=Mt.createEmbeddedView(Xt,An,Hn?{injector:Hn}:void 0)}else this._viewRef=null}else this._viewRef&&ot.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.Y36(c.s_b))};static#t=this.\u0275dir=c.lG2({type:Ie,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]})}return Ie})();function Ii(Ie,It){return new c.vHH(2100,!1)}class gr{createSubscription(It,ot){return(0,c.rg0)(()=>It.subscribe({next:ot,error:Mt=>{throw Mt}}))}dispose(It){(0,c.rg0)(()=>It.unsubscribe())}}class tr{createSubscription(It,ot){return It.then(ot,Mt=>{throw Mt})}dispose(It){}}const to=new tr,_r=new gr;let zo=(()=>{class Ie{constructor(ot){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=ot}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(ot){return this._obj?ot!==this._obj?(this._dispose(),this.transform(ot)):this._latestValue:(ot&&this._subscribe(ot),this._latestValue)}_subscribe(ot){this._obj=ot,this._strategy=this._selectStrategy(ot),this._subscription=this._strategy.createSubscription(ot,Mt=>this._updateLatestValue(ot,Mt))}_selectStrategy(ot){if((0,c.QGY)(ot))return to;if((0,c.F4k)(ot))return _r;throw Ii()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(ot,Mt){ot===this._obj&&(this._latestValue=Mt,this._ref.markForCheck())}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.Y36(c.sBO,16))};static#t=this.\u0275pipe=c.Yjl({name:"async",type:Ie,pure:!1,standalone:!0})}return Ie})();const oi=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Pi=new c.OlP("DATE_PIPE_DEFAULT_OPTIONS");let qi=(()=>{class Ie{constructor(ot,Mt,Xt){this.locale=ot,this.defaultTimezone=Mt,this.defaultOptions=Xt}transform(ot,Mt,Xt,An){if(null==ot||""===ot||ot!=ot)return null;try{return xe(ot,Mt??this.defaultOptions?.dateFormat??"mediumDate",An||this.locale,Xt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Hn){throw Ii()}}static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)(c.Y36(c.soG,16),c.Y36(oi,24),c.Y36(Pi,24))};static#t=this.\u0275pipe=c.Yjl({name:"date",type:Ie,pure:!0,standalone:!0})}return Ie})(),Gr=(()=>{class Ie{static#e=this.\u0275fac=function(Mt){return new(Mt||Ie)};static#t=this.\u0275mod=c.oAB({type:Ie});static#n=this.\u0275inj=c.cJS({})}return Ie})();const ro="browser",Po="server";function Mo(Ie){return Ie===ro}function Lr(Ie){return Ie===Po}let vs=(()=>{class Ie{static#e=this.\u0275prov=(0,c.Yz7)({token:Ie,providedIn:"root",factory:()=>new no((0,c.LFG)(F),window)})}return Ie})();class no{constructor(It,ot){this.document=It,this.window=ot,this.offset=()=>[0,0]}setOffset(It){this.offset=Array.isArray(It)?()=>It:It}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(It){this.supportsScrolling()&&this.window.scrollTo(It[0],It[1])}scrollToAnchor(It){if(!this.supportsScrolling())return;const ot=function bo(Ie,It){const ot=Ie.getElementById(It)||Ie.getElementsByName(It)[0];if(ot)return ot;if("function"==typeof Ie.createTreeWalker&&Ie.body&&"function"==typeof Ie.body.attachShadow){const Mt=Ie.createTreeWalker(Ie.body,NodeFilter.SHOW_ELEMENT);let Xt=Mt.currentNode;for(;Xt;){const An=Xt.shadowRoot;if(An){const Hn=An.getElementById(It)||An.querySelector(`[name="${It}"]`);if(Hn)return Hn}Xt=Mt.nextNode()}}return null}(this.document,It);ot&&(this.scrollToElement(ot),ot.focus())}setHistoryScrollRestoration(It){if(this.supportScrollRestoration()){const ot=this.window.history;ot&&ot.scrollRestoration&&(ot.scrollRestoration=It)}}scrollToElement(It){const ot=It.getBoundingClientRect(),Mt=ot.left+this.window.pageXOffset,Xt=ot.top+this.window.pageYOffset,An=this.offset();this.window.scrollTo(Mt-An[0],Xt-An[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const It=jn(this.window.history)||jn(Object.getPrototypeOf(this.window.history));return!(!It||!It.writable&&!It.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function jn(Ie){return Object.getOwnPropertyDescriptor(Ie,"scrollRestoration")}class Li{}},5879:(Bn,tt,S)=>{"use strict";S.d(tt,{$8M:()=>ao,$WT:()=>to,$Z:()=>Fp,AFp:()=>Av,ALo:()=>jg,AaK:()=>y,AsE:()=>pg,BQk:()=>ig,CHM:()=>da,CRH:()=>yb,DdM:()=>Uf,EJc:()=>kb,EiD:()=>pv,EpF:()=>FS,F$t:()=>og,F4k:()=>BS,FYo:()=>Bv,FiY:()=>Ua,G48:()=>Nm,Gf:()=>_b,GfV:()=>Uv,GkF:()=>Oy,Gpc:()=>R,Gre:()=>c0,HDt:()=>Ub,Hsn:()=>Ml,Ikx:()=>_g,JOm:()=>uh,JVY:()=>lT,JZr:()=>P,Jf7:()=>kd,KtG:()=>fs,L6k:()=>cT,LAX:()=>uT,LFG:()=>Qe,LMc:()=>ix,LSH:()=>_p,Lbi:()=>Iv,Lck:()=>$C,MAs:()=>Ay,MGl:()=>Xh,MMx:()=>q0,MR2:()=>vp,NdJ:()=>Ry,O4$:()=>Ge,Ojb:()=>nM,OlP:()=>Br,Oqu:()=>mg,P3R:()=>vv,PXZ:()=>Ol,Q6J:()=>Iy,QGY:()=>rg,QbO:()=>NT,Qsj:()=>aM,R0b:()=>sa,RDi:()=>rT,Rgc:()=>eu,SBq:()=>Ld,SDv:()=>W0,Sil:()=>Im,Suo:()=>vb,TTD:()=>wa,TgZ:()=>tg,Tol:()=>Zy,Udp:()=>ug,VKq:()=>pm,VuI:()=>nx,W1O:()=>Eb,WFA:()=>Ny,WLB:()=>tb,X6Q:()=>x_,XFs:()=>ue,Xpm:()=>ti,Xq5:()=>ia,Xts:()=>Rd,Y36:()=>Pc,YKP:()=>wg,YNc:()=>My,Yjl:()=>Wo,Yz7:()=>Ne,Z0I:()=>_e,ZZ4:()=>O_,_Bn:()=>fm,_UZ:()=>Py,_Vd:()=>Tf,_c5:()=>mE,_uU:()=>t0,aQg:()=>Um,c2e:()=>Lb,cJS:()=>W,cg1:()=>im,d8E:()=>vg,dDg:()=>ND,dqk:()=>lt,eBb:()=>dT,eFA:()=>qb,eJc:()=>n_,ekj:()=>fg,eoX:()=>__,f3M:()=>Pe,g9A:()=>RT,h0i:()=>Qd,hGG:()=>zD,hYB:()=>ag,hij:()=>nm,iGM:()=>gb,ifc:()=>Jt,ip1:()=>c_,jDz:()=>Q0,kEZ:()=>nb,kL8:()=>yg,kcU:()=>Be,lG2:()=>uo,lcZ:()=>Gg,lqb:()=>Au,lri:()=>Wb,mCW:()=>Eh,n5z:()=>Yc,n_E:()=>rd,oAB:()=>hr,oJD:()=>gv,oxw:()=>GS,pB0:()=>fT,q3G:()=>Od,q4F:()=>Pp,qFp:()=>rx,qLn:()=>Cf,qOj:()=>ku,qZA:()=>Qh,qzn:()=>xu,rWj:()=>g_,rg0:()=>ac,s9C:()=>sg,sBO:()=>VD,s_b:()=>tu,soG:()=>Am,tb:()=>Om,tp0:()=>Ko,uIk:()=>Wp,vHH:()=>T,vpe:()=>wl,wAp:()=>po,xi3:()=>Hg,xp6:()=>Qc,ynx:()=>ng,z2F:()=>Rl,z3N:()=>Jc,zSh:()=>Cv,zW0:()=>my,zs3:()=>Xl});var c=S(8645),t=S(7394),b=S(5619),w=S(5592),E=S(3019),F=S(2096),L=S(3020),D=S(4664),p=S(3997);function f(l){for(let u in l)if(l[u]===f)return u;throw Error("Could not find renamed property on target object.")}function g(l,u){for(const h in u)u.hasOwnProperty(h)&&!l.hasOwnProperty(h)&&(l[h]=u[h])}function y(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(y).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const u=l.toString();if(null==u)return""+u;const h=u.indexOf("\n");return-1===h?u:u.substring(0,h)}function M(l,u){return null==l||""===l?null===u?"":u:null==u||""===u?l:l+" "+u}const U=f({__forward_ref__:f});function R(l){return l.__forward_ref__=R,l.toString=function(){return y(this())},l}function V(l){return k(l)?l():l}function k(l){return"function"==typeof l&&l.hasOwnProperty(U)&&l.__forward_ref__===R}function O(l){return l&&!!l.\u0275providers}const P="https://g.co/ng/security#xss";class T extends Error{constructor(u,h){super(function N(l,u){return`NG0${Math.abs(l)}${u?": "+u:""}`}(u,h)),this.code=u}}function C(l){return"string"==typeof l?l:null==l?"":String(l)}function Fe(l,u){throw new T(-201,!1)}function we(l,u,h,_){throw new Error(`ASSERTION ERROR: ${l}`+(null==_?"":` [Expected=> ${h} ${_} ${u} <=Actual]`))}function Ne(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function W(l){return{providers:l.providers||[],imports:l.imports||[]}}function se(l){return J(l,ne)||J(l,ee)}function _e(l){return null!==se(l)}function J(l,u){return l.hasOwnProperty(u)?l[u]:null}function Z(l){return l&&(l.hasOwnProperty(ie)||l.hasOwnProperty(X))?l[ie]:null}const ne=f({\u0275prov:f}),ie=f({\u0275inj:f}),ee=f({ngInjectableDef:f}),X=f({ngInjectorDef:f});var ue=function(l){return l[l.Default=0]="Default",l[l.Host=1]="Host",l[l.Self=2]="Self",l[l.SkipSelf=4]="SkipSelf",l[l.Optional=8]="Optional",l}(ue||{});let ve;function xe(l){const u=ve;return ve=l,u}function Ke(l,u,h){const _=se(l);return _&&"root"==_.providedIn?void 0===_.value?_.value=_.factory():_.value:h&ue.Optional?null:void 0!==u?u:void Fe(y(l))}const lt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ut={},wt="__NG_DI_FLAG__",Ht="ngTempTokenPath",ln=/\n/gm,Wt="__source";let Sn;function Dt(l){const u=Sn;return Sn=l,u}function mt(l,u=ue.Default){if(void 0===Sn)throw new T(-203,!1);return null===Sn?Ke(l,void 0,u):Sn.get(l,u&ue.Optional?null:void 0,u)}function Qe(l,u=ue.Default){return(function de(){return ve}()||mt)(V(l),u)}function Pe(l,u=ue.Default){return Qe(l,Ye(u))}function Ye(l){return typeof l>"u"||"number"==typeof l?l:0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)}function Ze(l){const u=[];for(let h=0;h<l.length;h++){const _=V(l[h]);if(Array.isArray(_)){if(0===_.length)throw new T(900,!1);let A,G=ue.Default;for(let re=0;re<_.length;re++){const Se=_[re],je=st(Se);"number"==typeof je?-1===je?A=Se.token:G|=je:A=Se}u.push(Qe(A,G))}else u.push(Qe(_))}return u}function ct(l,u){return l[wt]=u,l.prototype[wt]=u,l}function st(l){return l[wt]}function $t(l){return{toString:l}.toString()}var Lt=function(l){return l[l.OnPush=0]="OnPush",l[l.Default=1]="Default",l}(Lt||{}),Jt=function(l){return l[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",l}(Jt||{});const an={},fn=[],Mn=f({\u0275cmp:f}),Nn=f({\u0275dir:f}),Wn=f({\u0275pipe:f}),Gn=f({\u0275mod:f}),fi=f({\u0275fac:f}),_n=f({__NG_ELEMENT_ID__:f}),pn=f({__NG_ENV_ID__:f});function St(l,u,h){let _=l.length;for(;;){const A=l.indexOf(u,h);if(-1===A)return A;if(0===A||l.charCodeAt(A-1)<=32){const G=u.length;if(A+G===_||l.charCodeAt(A+G)<=32)return A}h=A+1}}function ft(l,u,h){let _=0;for(;_<h.length;){const A=h[_];if("number"==typeof A){if(0!==A)break;_++;const G=h[_++],re=h[_++],Se=h[_++];l.setAttribute(u,re,Se,G)}else{const G=A,re=h[++_];ze(G)?l.setProperty(u,G,re):l.setAttribute(u,G,re),_++}}return _}function tn(l){return 3===l||4===l||6===l}function ze(l){return 64===l.charCodeAt(0)}function Xe(l,u){if(null!==u&&0!==u.length)if(null===l||0===l.length)l=u.slice();else{let h=-1;for(let _=0;_<u.length;_++){const A=u[_];"number"==typeof A?h=A:0===h||Pt(l,h,A,null,-1===h||2===h?u[++_]:null)}}return l}function Pt(l,u,h,_,A){let G=0,re=l.length;if(-1===u)re=-1;else for(;G<l.length;){const Se=l[G++];if("number"==typeof Se){if(Se===u){re=-1;break}if(Se>u){re=G-1;break}}}for(;G<l.length;){const Se=l[G];if("number"==typeof Se)break;if(Se===h){if(null===_)return void(null!==A&&(l[G+1]=A));if(_===l[G+1])return void(l[G+2]=A)}G++,null!==_&&G++,null!==A&&G++}-1!==re&&(l.splice(re,0,u),G=re+1),l.splice(G++,0,h),null!==_&&l.splice(G++,0,_),null!==A&&l.splice(G++,0,A)}const Qt="ng-template";function wn(l,u,h){let _=0,A=!0;for(;_<l.length;){let G=l[_++];if("string"==typeof G&&A){const re=l[_++];if(h&&"class"===G&&-1!==St(re.toLowerCase(),u,0))return!0}else{if(1===G){for(;_<l.length&&"string"==typeof(G=l[_++]);)if(G.toLowerCase()===u)return!0;return!1}"number"==typeof G&&(A=!1)}}return!1}function Fn(l){return 4===l.type&&l.value!==Qt}function Gt(l,u,h){return u===(4!==l.type||h?l.value:Qt)}function Kt(l,u,h){let _=4;const A=l.attrs||[],G=function vt(l){for(let u=0;u<l.length;u++)if(tn(l[u]))return u;return l.length}(A);let re=!1;for(let Se=0;Se<u.length;Se++){const je=u[Se];if("number"!=typeof je){if(!re)if(4&_){if(_=2|1&_,""!==je&&!Gt(l,je,h)||""===je&&1===u.length){if(rn(_))return!1;re=!0}}else{const _t=8&_?je:u[++Se];if(8&_&&null!==l.attrs){if(!wn(l.attrs,_t,h)){if(rn(_))return!1;re=!0}continue}const zt=En(8&_?"class":je,A,Fn(l),h);if(-1===zt){if(rn(_))return!1;re=!0;continue}if(""!==_t){let gn;gn=zt>G?"":A[zt+1].toLowerCase();const xn=8&_?gn:null;if(xn&&-1!==St(xn,_t,0)||2&_&&_t!==gn){if(rn(_))return!1;re=!0}}}}else{if(!re&&!rn(_)&&!rn(je))return!1;if(re&&rn(je))continue;re=!1,_=je|1&_}}return rn(_)||re}function rn(l){return 0==(1&l)}function En(l,u,h,_){if(null===u)return-1;let A=0;if(_||!h){let G=!1;for(;A<u.length;){const re=u[A];if(re===l)return A;if(3===re||6===re)G=!0;else{if(1===re||2===re){let Se=u[++A];for(;"string"==typeof Se;)Se=u[++A];continue}if(4===re)break;if(0===re){A+=4;continue}}A+=G?1:2}return-1}return function un(l,u){let h=l.indexOf(4);if(h>-1)for(h++;h<l.length;){const _=l[h];if("number"==typeof _)return-1;if(_===u)return h;h++}return-1}(u,l)}function Ln(l,u,h=!1){for(let _=0;_<u.length;_++)if(Kt(l,u[_],h))return!0;return!1}function be(l,u){e:for(let h=0;h<u.length;h++){const _=u[h];if(l.length===_.length){for(let A=0;A<l.length;A++)if(l[A]!==_[A])continue e;return!0}}return!1}function yt(l,u){return l?":not("+u.trim()+")":u}function gt(l){let u=l[0],h=1,_=2,A="",G=!1;for(;h<l.length;){let re=l[h];if("string"==typeof re)if(2&_){const Se=l[++h];A+="["+re+(Se.length>0?'="'+Se+'"':"")+"]"}else 8&_?A+="."+re:4&_&&(A+=" "+re);else""!==A&&!rn(re)&&(u+=yt(G,A),A=""),_=re,G=G||!rn(_);h++}return""!==A&&(u+=yt(G,A)),u}function ti(l){return $t(()=>{const u=zo(l),h={...u,decls:l.decls,vars:l.vars,template:l.template,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,onPush:l.changeDetection===Lt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:u.standalone&&l.dependencies||null,getStandaloneInjector:null,signals:l.signals??!1,data:l.data||{},encapsulation:l.encapsulation||Jt.Emulated,styles:l.styles||fn,_:null,schemas:l.schemas||null,tView:null,id:""};Do(h);const _=l.dependencies;return h.directiveDefs=jr(_,!1),h.pipeDefs=jr(_,!0),h.id=function Vr(l){let u=0;const h=[l.selectors,l.ngContentSelectors,l.hostVars,l.hostAttrs,l.consts,l.vars,l.decls,l.encapsulation,l.standalone,l.signals,l.exportAs,JSON.stringify(l.inputs),JSON.stringify(l.outputs),Object.getOwnPropertyNames(l.type.prototype),!!l.contentQueries,!!l.viewQuery].join("|");for(const A of h)u=Math.imul(31,u)+A.charCodeAt(0)<<0;return u+=2147483648,"c"+u}(h),h})}function $i(l){return Ii(l)||gr(l)}function Tr(l){return null!==l}function hr(l){return $t(()=>({type:l.type,bootstrap:l.bootstrap||fn,declarations:l.declarations||fn,imports:l.imports||fn,exports:l.exports||fn,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function Co(l,u){if(null==l)return an;const h={};for(const _ in l)if(l.hasOwnProperty(_)){let A=l[_],G=A;Array.isArray(A)&&(G=A[1],A=A[0]),h[A]=_,u&&(u[A]=G)}return h}function uo(l){return $t(()=>{const u=zo(l);return Do(u),u})}function Wo(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function Ii(l){return l[Mn]||null}function gr(l){return l[Nn]||null}function tr(l){return l[Wn]||null}function to(l){const u=Ii(l)||gr(l)||tr(l);return null!==u&&u.standalone}function _r(l,u){const h=l[Gn]||null;if(!h&&!0===u)throw new Error(`Type ${y(l)} does not have '\u0275mod' property.`);return h}function zo(l){const u={};return{type:l.type,providersResolver:null,factory:null,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:u,inputTransforms:null,inputConfig:l.inputs||an,exportAs:l.exportAs||null,standalone:!0===l.standalone,signals:!0===l.signals,selectors:l.selectors||fn,viewQuery:l.viewQuery||null,features:l.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Co(l.inputs,u),outputs:Co(l.outputs)}}function Do(l){l.features?.forEach(u=>u(l))}function jr(l,u){if(!l)return null;const h=u?tr:$i;return()=>("function"==typeof l?l():l).map(_=>h(_)).filter(Tr)}const lr=0,oi=1,Pi=2,qi=3,Nr=4,xo=5,Sr=6,Ji=7,qt=8,Pn=9,Qn=10,Kn=11,mi=12,gi=13,Oi=14,wi=15,fr=16,Di=17,Gr=18,ro=19,Po=20,kr=21,xr=22,Mo=23,Lr=24,Gi=25,Oo=1,vs=2,no=7,bo=9,Li=11;function Cr(l){return Array.isArray(l)&&"object"==typeof l[Oo]}function mr(l){return Array.isArray(l)&&!0===l[Oo]}function Uo(l){return 0!=(4&l.flags)}function Yr(l){return l.componentOffset>-1}function Ro(l){return 1==(1&l.flags)}function cr(l){return!!l.template}function jo(l){return 0!=(512&l[Pi])}function nt(l,u){return l.hasOwnProperty(fi)?l[fi]:null}let Ri=lt.WeakRef??class ci{constructor(u){this.ref=u}deref(){return this.ref}},qo=0,Wr=null,Es=!1;function vr(l){const u=Wr;return Wr=l,u}class Ao{constructor(){this.id=qo++,this.ref=function Qi(l){return new Ri(l)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[u,h]of this.producers){const _=h.producerNode.deref();if(null!=_&&h.atTrackingVersion===this.trackingVersion){if(_.producerPollStatus(h.seenValueVersion))return!0}else this.producers.delete(u),_?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const u=Es;Es=!0;try{for(const[h,_]of this.consumers){const A=_.consumerNode.deref();null!=A&&A.trackingVersion===_.atTrackingVersion?A.onConsumerDependencyMayHaveChanged():(this.consumers.delete(h),A?.producers.delete(this.id))}}finally{Es=u}}producerAccessed(){if(Es)throw new Error("");if(null===Wr)return;let u=Wr.producers.get(this.id);void 0===u?(u={consumerNode:Wr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Wr.trackingVersion},Wr.producers.set(this.id,u),this.consumers.set(Wr.id,u)):(u.seenValueVersion=this.valueVersion,u.atTrackingVersion=Wr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Wr?.consumerAllowSignalWrites}producerPollStatus(u){return this.valueVersion!==u||(this.onProducerUpdateValueVersion(),this.valueVersion!==u)}}let ml=null;function ac(l){const u=vr(null);try{return l()}finally{vr(u)}}const Js=()=>{};class Ia extends Ao{constructor(u,h,_){super(),this.watch=u,this.schedule=h,this.dirty=!1,this.cleanupFn=Js,this.registerOnCleanup=A=>{this.cleanupFn=A},this.consumerAllowSignalWrites=_}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const u=vr(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Js,this.watch(this.registerOnCleanup)}finally{vr(u)}}cleanup(){this.cleanupFn()}}class Qo{constructor(u,h,_){this.previousValue=u,this.currentValue=h,this.firstChange=_}isFirstChange(){return this.firstChange}}function wa(){return ds}function ds(l){return l.type.prototype.ngOnChanges&&(l.setInput=_l),Fl}function Fl(){const l=Pa(this),u=l?.current;if(u){const h=l.previous;if(h===an)l.previous=u;else for(let _ in u)h[_]=u[_];l.current=null,this.ngOnChanges(u)}}function _l(l,u,h,_){const A=this.declaredInputs[h],G=Pa(l)||function lc(l,u){return l[Bl]=u}(l,{previous:an,current:null}),re=G.current||(G.current={}),Se=G.previous,je=Se[A];re[A]=new Qo(je&&je.currentValue,u,Se===an),l[_]=u}wa.ngInherit=!0;const Bl="__ngSimpleChanges__";function Pa(l){return l[Bl]||null}const Xo=function(l,u,h){},jl="svg";function Er(l){for(;Array.isArray(l);)l=l[lr];return l}function Ie(l,u){return Er(u[l])}function It(l,u){return Er(u[l.index])}function Mt(l,u){return l.data[u]}function Xt(l,u){return l[u]}function An(l,u){const h=u[l];return Cr(h)?h:h[lr]}function Wi(l,u){return null==u?null:l[u]}function er(l){l[Di]=0}function zi(l){1024&l[Pi]||(l[Pi]|=1024,ir(l,1))}function Fr(l){1024&l[Pi]&&(l[Pi]&=-1025,ir(l,-1))}function ir(l,u){let h=l[qi];if(null===h)return;h[xo]+=u;let _=h;for(h=h[qi];null!==h&&(1===u&&1===_[xo]||-1===u&&0===_[xo]);)h[xo]+=u,_=h,h=h[qi]}const Si={lFrame:bl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Wa(){return Si.bindingsEnabled}function ts(){return null!==Si.skipHydrationRootTNode}function $n(){return Si.lFrame.lView}function ur(){return Si.lFrame.tView}function da(l){return Si.lFrame.contextLView=l,l[qt]}function fs(l){return Si.lFrame.contextLView=null,l}function zr(){let l=dd();for(;null!==l&&64===l.type;)l=l.parent;return l}function dd(){return Si.lFrame.currentTNode}function cc(){const l=Si.lFrame,u=l.currentTNode;return l.isParent?u:u.parent}function Lo(l,u){const h=Si.lFrame;h.currentTNode=l,h.isParent=u}function dc(){return Si.lFrame.isParent}function Zr(){Si.lFrame.isParent=!1}function fo(){const l=Si.lFrame;let u=l.bindingRootIndex;return-1===u&&(u=l.bindingRootIndex=l.tView.bindingStartIndex),u}function Hr(){return Si.lFrame.bindingIndex++}function Ls(l){const u=Si.lFrame,h=u.bindingIndex;return u.bindingIndex=u.bindingIndex+l,h}function fc(l){Si.lFrame.inI18n=l}function Ra(l,u){const h=Si.lFrame;h.bindingIndex=h.bindingRootIndex=l,yl(u)}function yl(l){Si.lFrame.currentDirectiveIndex=l}function La(l){const u=Si.lFrame.currentDirectiveIndex;return-1===u?null:l[u]}function hc(){return Si.lFrame.currentQueryIndex}function ka(l){Si.lFrame.currentQueryIndex=l}function ud(l){const u=l[oi];return 2===u.type?u.declTNode:1===u.type?l[Sr]:null}function Xs(l,u,h){if(h&ue.SkipSelf){let A=u,G=l;for(;!(A=A.parent,null!==A||h&ue.Host||(A=ud(G),null===A||(G=G[Oi],10&A.type))););if(null===A)return!1;u=A,l=G}const _=Si.lFrame=mc();return _.currentTNode=u,_.lView=l,!0}function $a(l){const u=mc(),h=l[oi];Si.lFrame=u,u.currentTNode=h.firstChild,u.lView=l,u.tView=h,u.contextLView=l,u.bindingIndex=h.bindingStartIndex,u.inI18n=!1}function mc(){const l=Si.lFrame,u=null===l?null:l.child;return null===u?bl(l):u}function bl(l){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=u),u}function pc(){const l=Si.lFrame;return Si.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const Hl=pc;function gc(){const l=pc();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function so(){return Si.lFrame.selectedIndex}function ea(l){Si.lFrame.selectedIndex=l}function Ee(){const l=Si.lFrame;return Mt(l.tView,l.selectedIndex)}function Ge(){Si.lFrame.currentNamespace=jl}function Be(){!function Tt(){Si.lFrame.currentNamespace=null}()}let Bt=!0;function Tn(){return Bt}function zn(l){Bt=l}function Ti(l,u){for(let h=u.directiveStart,_=u.directiveEnd;h<_;h++){const G=l.data[h].type.prototype,{ngAfterContentInit:re,ngAfterContentChecked:Se,ngAfterViewInit:je,ngAfterViewChecked:_t,ngOnDestroy:Nt}=G;re&&(l.contentHooks??=[]).push(-h,re),Se&&((l.contentHooks??=[]).push(h,Se),(l.contentCheckHooks??=[]).push(h,Se)),je&&(l.viewHooks??=[]).push(-h,je),_t&&((l.viewHooks??=[]).push(h,_t),(l.viewCheckHooks??=[]).push(h,_t)),null!=Nt&&(l.destroyHooks??=[]).push(h,Nt)}}function rr(l,u,h){fa(l,u,3,h)}function ho(l,u,h,_){(3&l[Pi])===h&&fa(l,u,h,_)}function Fa(l,u){let h=l[Pi];(3&h)===u&&(h&=8191,h+=1,l[Pi]=h)}function fa(l,u,h,_){const G=_??-1,re=u.length-1;let Se=0;for(let je=void 0!==_?65535&l[Di]:0;je<re;je++)if("number"==typeof u[je+1]){if(Se=u[je],null!=_&&Se>=_)break}else u[je]<0&&(l[Di]+=65536),(Se<G||-1==G)&&(qa(l,h,u,je),l[Di]=(4294901760&l[Di])+je+2),je++}function ha(l,u){Xo(4,l,u);const h=vr(null);try{u.call(l)}finally{vr(h),Xo(5,l,u)}}function qa(l,u,h,_){const A=h[_]<0,G=h[_+1],Se=l[A?-h[_]:h[_]];A?l[Pi]>>13<l[Di]>>16&&(3&l[Pi])===u&&(l[Pi]+=8192,ha(Se,G)):ha(Se,G)}const hs=-1;class Ja{constructor(u,h,_){this.factory=u,this.resolving=!1,this.canSeeViewProviders=h,this.injectImpl=_}}function pd(l){return l!==hs}function Cs(l){return 32767&l}function vc(l,u){let h=function gd(l){return l>>16}(l),_=u;for(;h>0;)_=_[Oi],h--;return _}let Ba=!0;function Qa(l){const u=Ba;return Ba=l,u}const ma=255,Xa=5;let Wm=0;const ks={};function yc(l,u){const h=rf(l,u);if(-1!==h)return h;const _=u[oi];_.firstCreatePass&&(l.injectorIndex=u.length,bc(_.data,l),bc(u,null),bc(_.blueprint,null));const A=el(l,u),G=l.injectorIndex;if(pd(A)){const re=Cs(A),Se=vc(A,u),je=Se[oi].data;for(let _t=0;_t<8;_t++)u[G+_t]=Se[re+_t]|je[re+_t]}return u[G+8]=A,G}function bc(l,u){l.push(0,0,0,0,0,0,0,0,u)}function rf(l,u){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===u[l.injectorIndex+8]?-1:l.injectorIndex}function el(l,u){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let h=0,_=null,A=u;for(;null!==A;){if(_=vd(A),null===_)return hs;if(h++,A=A[Oi],-1!==_.injectorIndex)return _.injectorIndex|h<<16}return hs}function au(l,u,h){!function rh(l,u,h){let _;"string"==typeof h?_=h.charCodeAt(0)||0:h.hasOwnProperty(_n)&&(_=h[_n]),null==_&&(_=h[_n]=Wm++);const A=_&ma;u.data[l+(A>>Xa)]|=1<<A}(l,u,h)}function Ec(l,u,h){if(h&ue.Optional||void 0!==l)return l;Fe()}function lu(l,u,h,_){if(h&ue.Optional&&void 0===_&&(_=null),!(h&(ue.Self|ue.Host))){const A=l[Pn],G=xe(void 0);try{return A?A.get(u,_,h&ue.Optional):Ke(u,_,h&ue.Optional)}finally{xe(G)}}return Ec(_,0,h)}function cu(l,u,h,_=ue.Default,A){if(null!==l){if(2048&u[Pi]&&!(_&ue.Self)){const re=function lf(l,u,h,_,A){let G=l,re=u;for(;null!==G&&null!==re&&2048&re[Pi]&&!(512&re[Pi]);){const Se=oh(G,re,h,_|ue.Self,ks);if(Se!==ks)return Se;let je=G.parent;if(!je){const _t=re[Po];if(_t){const Nt=_t.get(h,ks,_);if(Nt!==ks)return Nt}je=vd(re),re=re[Oi]}G=je}return A}(l,u,h,_,ks);if(re!==ks)return re}const G=oh(l,u,h,_,ks);if(G!==ks)return G}return lu(u,h,_,A)}function oh(l,u,h,_,A){const G=function du(l){if("string"==typeof l)return l.charCodeAt(0)||0;const u=l.hasOwnProperty(_n)?l[_n]:void 0;return"number"==typeof u?u>=0?u&ma:af:u}(h);if("function"==typeof G){if(!Xs(u,l,_))return _&ue.Host?Ec(A,0,_):lu(u,h,_,A);try{const re=G(_);if(null!=re||_&ue.Optional)return re;Fe()}finally{Hl()}}else if("number"==typeof G){let re=null,Se=rf(l,u),je=hs,_t=_&ue.Host?u[wi][Sr]:null;for((-1===Se||_&ue.SkipSelf)&&(je=-1===Se?el(l,u):u[Se+8],je!==hs&&Kc(_,!1)?(re=u[oi],Se=Cs(je),u=vc(je,u)):Se=-1);-1!==Se;){const Nt=u[oi];if(_d(G,Se,Nt.data)){const zt=sf(Se,u,h,re,_,_t);if(zt!==ks)return zt}je=u[Se+8],je!==hs&&Kc(_,u[oi].data[Se+8]===_t)&&_d(G,Se,u)?(re=Nt,Se=Cs(je),u=vc(je,u)):Se=-1}}return A}function sf(l,u,h,_,A,G){const re=u[oi],Se=re.data[l+8],Nt=Tc(Se,re,h,null==_?Yr(Se)&&Ba:_!=re&&0!=(3&Se.type),A&ue.Host&&G===Se);return null!==Nt?Tl(u,re,Nt,Se):ks}function Tc(l,u,h,_,A){const G=l.providerIndexes,re=u.data,Se=1048575&G,je=l.directiveStart,Nt=G>>20,gn=A?Se+Nt:l.directiveEnd;for(let xn=_?Se:Se+Nt;xn<gn;xn++){const Yn=re[xn];if(xn<je&&h===Yn||xn>=je&&Yn.type===h)return xn}if(A){const xn=re[je];if(xn&&cr(xn)&&xn.type===h)return je}return null}function Tl(l,u,h,_){let A=l[h];const G=u.data;if(function Gc(l){return l instanceof Ja}(A)){const re=A;re.resolving&&function Y(l,u){const h=u?`. Dependency path: ${u.join(" > ")} > ${l}`:"";throw new T(-200,`Circular dependency in DI detected for ${l}${h}`)}(function B(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():C(l)}(G[h]));const Se=Qa(re.canSeeViewProviders);re.resolving=!0;const je=re.injectImpl?xe(re.injectImpl):null;Xs(l,_,ue.Default);try{A=l[h]=re.factory(void 0,G,l,_),u.firstCreatePass&&h>=_.directiveStart&&function bi(l,u,h){const{ngOnChanges:_,ngOnInit:A,ngDoCheck:G}=u.type.prototype;if(_){const re=ds(u);(h.preOrderHooks??=[]).push(l,re),(h.preOrderCheckHooks??=[]).push(l,re)}A&&(h.preOrderHooks??=[]).push(0-l,A),G&&((h.preOrderHooks??=[]).push(l,G),(h.preOrderCheckHooks??=[]).push(l,G))}(h,G[h],u)}finally{null!==je&&xe(je),Qa(Se),re.resolving=!1,Hl()}}return A}function _d(l,u,h){return!!(h[u+(l>>Xa)]&1<<l)}function Kc(l,u){return!(l&ue.Self||l&ue.Host&&u)}class Yl{constructor(u,h){this._tNode=u,this._lView=h}get(u,h,_){return cu(this._tNode,this._lView,u,Ye(_),h)}}function af(){return new Yl(zr(),$n())}function Yc(l){return $t(()=>{const u=l.prototype.constructor,h=u[fi]||Sc(u),_=Object.prototype;let A=Object.getPrototypeOf(l.prototype).constructor;for(;A&&A!==_;){const G=A[fi]||Sc(A);if(G&&G!==h)return G;A=Object.getPrototypeOf(A)}return G=>new G})}function Sc(l){return k(l)?()=>{const u=Sc(V(l));return u&&u()}:nt(l)}function vd(l){const u=l[oi],h=u.type;return 2===h?u.declTNode:1===h?l[Sr]:null}function ao(l){return function zm(l,u){if("class"===u)return l.classes;if("style"===u)return l.styles;const h=l.attrs;if(h){const _=h.length;let A=0;for(;A<_;){const G=h[A];if(tn(G))break;if(0===G)A+=2;else if("number"==typeof G)for(A++;A<_&&"string"==typeof h[A];)A++;else{if(G===u)return h[A+1];A+=2}}}return null}(zr(),l)}const tl="__parameters__";function il(l,u,h){return $t(()=>{const _=function Sl(l){return function(...h){if(l){const _=l(...h);for(const A in _)this[A]=_[A]}}}(u);function A(...G){if(this instanceof A)return _.apply(this,G),this;const re=new A(...G);return Se.annotation=re,Se;function Se(je,_t,Nt){const zt=je.hasOwnProperty(tl)?je[tl]:Object.defineProperty(je,tl,{value:[]})[tl];for(;zt.length<=Nt;)zt.push(null);return(zt[Nt]=zt[Nt]||[]).push(re),je}}return h&&(A.prototype=Object.create(h.prototype)),A.prototype.ngMetadataName=l,A.annotationCls=A,A})}function ta(l,u){l.forEach(h=>Array.isArray(h)?ta(h,u):u(h))}function mu(l,u,h){u>=l.length?l.push(h):l.splice(u,0,h)}function Sd(l,u){return u>=l.length-1?l.pop():l.splice(u,1)[0]}function Cl(l,u){const h=[];for(let _=0;_<l;_++)h.push(u);return h}function $e(l,u,h){let _=Yt(l,u);return _>=0?l[1|_]=h:(_=~_,function or(l,u,h,_){let A=l.length;if(A==u)l.push(h,_);else if(1===A)l.push(_,l[0]),l[0]=h;else{for(A--,l.push(l[A-1],l[A]);A>u;)l[A]=l[A-2],A--;l[u]=h,l[u+1]=_}}(l,_,u,h)),_}function Et(l,u){const h=Yt(l,u);if(h>=0)return l[1|h]}function Yt(l,u){return function bn(l,u,h){let _=0,A=l.length>>h;for(;A!==_;){const G=_+(A-_>>1),re=l[G<<h];if(u===re)return G<<h;re>u?A=G:_=G+1}return~(A<<h)}(l,u,1)}const Ua=ct(il("Optional"),8),Ko=ct(il("SkipSelf"),4);function uf(l){return 128==(128&l.flags)}var uh=function(l){return l[l.Important=1]="Important",l[l.DashCase=2]="DashCase",l}(uh||{});const BE=/^>|^->|<!--|-->|--!>|<!-$/g,UE=/(<|>)/,jE="\u200b$1\u200b";const Qm=new Map;let VE=0;const Eu="__ngContext__";function Fo(l,u){Cr(u)?(l[Eu]=u[ro],function HE(l){Qm.set(l[ro],l)}(u)):l[Eu]=u}let mh;function Id(l,u){return mh(l,u)}function Tu(l){const u=l[qi];return mr(u)?u[qi]:u}function np(l){return j_(l[mi])}function ph(l){return j_(l[Nr])}function j_(l){for(;null!==l&&!mr(l);)l=l[Nr];return l}function wd(l,u,h,_,A){if(null!=_){let G,re=!1;mr(_)?G=_:Cr(_)&&(re=!0,_=_[lr]);const Se=Er(_);0===l&&null!==h?null==A?$_(u,h,Se):Pd(u,h,Se,A||null,!0):1===l&&null!==h?Pd(u,h,Se,A||null,!0):2===l?function cp(l,u,h){const _=_h(l,u);_&&function qE(l,u,h,_){l.removeChild(u,h,_)}(l,_,u,h)}(u,Se,re):3===l&&u.destroyNode(Se),null!=G&&function XE(l,u,h,_,A){const G=h[no];G!==Er(h)&&wd(u,l,_,G,A);for(let Se=Li;Se<h.length;Se++){const je=h[Se];gf(je[oi],je,l,u,_,G)}}(u,l,G,h,A)}}function gh(l,u){return l.createText(u)}function qc(l,u){return l.createComment(function U_(l){return l.replace(BE,u=>u.replace(UE,jE))}(u))}function Su(l,u,h){return l.createElement(u,h)}function W_(l,u){const h=l[bo],_=h.indexOf(u);Fr(u),h.splice(_,1)}function rp(l,u){if(l.length<=Li)return;const h=Li+u,_=l[h];if(_){const A=_[fr];null!==A&&A!==l&&W_(A,_),u>0&&(l[h-1][Nr]=_[Nr]);const G=Sd(l,Li+u);!function G_(l,u){gf(l,u,u[Kn],2,null,null),u[lr]=null,u[Sr]=null}(_[oi],_);const re=G[Gr];null!==re&&re.detachView(G[oi]),_[qi]=null,_[Nr]=null,_[Pi]&=-129}return _}function z_(l,u){if(!(256&u[Pi])){const h=u[Kn];u[Mo]?.destroy(),u[Lr]?.destroy(),h.destroyNode&&gf(l,u,h,3,null,null),function Y_(l){let u=l[mi];if(!u)return op(l[oi],l);for(;u;){let h=null;if(Cr(u))h=u[mi];else{const _=u[Li];_&&(h=_)}if(!h){for(;u&&!u[Nr]&&u!==l;)Cr(u)&&op(u[oi],u),u=u[qi];null===u&&(u=l),Cr(u)&&op(u[oi],u),h=u&&u[Nr]}u=h}}(u)}}function op(l,u){if(!(256&u[Pi])){u[Pi]&=-129,u[Pi]|=256,function $E(l,u){let h;if(null!=l&&null!=(h=l.destroyHooks))for(let _=0;_<h.length;_+=2){const A=u[h[_]];if(!(A instanceof Ja)){const G=h[_+1];if(Array.isArray(G))for(let re=0;re<G.length;re+=2){const Se=A[G[re]],je=G[re+1];Xo(4,Se,je);try{je.call(Se)}finally{Xo(5,Se,je)}}else{Xo(4,A,G);try{G.call(A)}finally{Xo(5,A,G)}}}}}(l,u),function hf(l,u){const h=l.cleanup,_=u[Ji];if(null!==h)for(let G=0;G<h.length-1;G+=2)if("string"==typeof h[G]){const re=h[G+3];re>=0?_[re]():_[-re].unsubscribe(),G+=2}else h[G].call(_[h[G+1]]);null!==_&&(u[Ji]=null);const A=u[kr];if(null!==A){u[kr]=null;for(let G=0;G<A.length;G++)(0,A[G])()}}(l,u),1===u[oi].type&&u[Kn].destroy();const h=u[fr];if(null!==h&&mr(u[qi])){h!==u[qi]&&W_(h,u);const _=u[Gr];null!==_&&_.detachView(l)}!function xd(l){Qm.delete(l[ro])}(u)}}function mf(l,u,h){return Z_(l,u.parent,h)}function Z_(l,u,h){let _=u;for(;null!==_&&40&_.type;)_=(u=_).parent;if(null===_)return h[lr];{const{componentOffset:A}=_;if(A>-1){const{encapsulation:G}=l.data[_.directiveStart+A];if(G===Jt.None||G===Jt.Emulated)return null}return It(_,h)}}function Pd(l,u,h,_,A){l.insertBefore(u,h,_,A)}function $_(l,u,h){l.appendChild(u,h)}function q_(l,u,h,_,A){null!==_?Pd(l,u,h,_,A):$_(l,u,h)}function _h(l,u){return l.parentNode(u)}function J_(l,u,h){return X_(l,u,h)}function Q_(l,u,h){return 40&l.type?It(l,h):null}let sp,yh,fp,bh,X_=Q_;function ev(l,u){X_=l,sp=u}function vh(l,u,h,_){const A=mf(l,_,u),G=u[Kn],Se=J_(_.parent||u[Sr],_,u);if(null!=A)if(Array.isArray(h))for(let je=0;je<h.length;je++)q_(G,A,h[je],Se,!1);else q_(G,A,h,Se,!1);void 0!==sp&&sp(G,_,u,h,A)}function Cu(l,u){if(null!==u){const h=u.type;if(3&h)return It(u,l);if(4&h)return lp(-1,l[u.index]);if(8&h){const _=u.child;if(null!==_)return Cu(l,_);{const A=l[u.index];return mr(A)?lp(-1,A):Er(A)}}if(32&h)return Id(u,l)()||Er(l[u.index]);{const _=ap(l,u);return null!==_?Array.isArray(_)?_[0]:Cu(Tu(l[wi]),_):Cu(l,u.next)}}return null}function ap(l,u){return null!==u?l[wi][Sr].projection[u.projection]:null}function lp(l,u){const h=Li+l+1;if(h<u.length){const _=u[h],A=_[oi].firstChild;if(null!==A)return Cu(_,A)}return u[no]}function dp(l,u,h,_,A,G,re){for(;null!=h;){const Se=_[h.index],je=h.type;if(re&&0===u&&(Se&&Fo(Er(Se),_),h.flags|=2),32!=(32&h.flags))if(8&je)dp(l,u,h.child,_,A,G,!1),wd(u,l,A,Se,G);else if(32&je){const _t=Id(h,_);let Nt;for(;Nt=_t();)wd(u,l,A,Nt,G);wd(u,l,A,Se,G)}else 16&je?tv(l,u,_,h,A,G):wd(u,l,A,Se,G);h=re?h.projectionNext:h.next}}function gf(l,u,h,_,A,G){dp(h,_,l.firstChild,u,A,G,!1)}function tv(l,u,h,_,A,G){const re=h[wi],je=re[Sr].projection[_.projection];if(Array.isArray(je))for(let _t=0;_t<je.length;_t++)wd(u,l,A,je[_t],G);else{let _t=je;const Nt=re[qi];uf(_)&&(_t.flags|=128),dp(l,u,_t,Nt,A,G,!0)}}function iv(l,u,h){""===h?l.removeAttribute(u,"class"):l.setAttribute(u,"class",h)}function rv(l,u,h){const{mergedAttrs:_,classes:A,styles:G}=h;null!==_&&ft(l,u,_),null!==A&&iv(l,u,A),null!==G&&function nv(l,u,h){l.setAttribute(u,"style",h)}(l,u,G)}function _f(l){return function up(){if(void 0===yh&&(yh=null,lt.trustedTypes))try{yh=lt.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return yh}()?.createHTML(l)||l}function rT(l){fp=l}function vf(){if(void 0!==fp)return fp;if(typeof document<"u")return document;throw new T(210,!1)}function hp(){if(void 0===bh&&(bh=null,lt.trustedTypes))try{bh=lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return bh}function ov(l){return hp()?.createHTML(l)||l}function av(l){return hp()?.createScriptURL(l)||l}class Du{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${P})`}}class oT extends Du{getTypeName(){return"HTML"}}class Ux extends Du{getTypeName(){return"Style"}}class sT extends Du{getTypeName(){return"Script"}}class jx extends Du{getTypeName(){return"URL"}}class Vx extends Du{getTypeName(){return"ResourceURL"}}function Jc(l){return l instanceof Du?l.changingThisBreaksApplicationSecurity:l}function xu(l,u){const h=function aT(l){return l instanceof Du&&l.getTypeName()||null}(l);if(null!=h&&h!==u){if("ResourceURL"===h&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${h} (see ${P})`)}return h===u}function lT(l){return new oT(l)}function cT(l){return new Ux(l)}function dT(l){return new sT(l)}function uT(l){return new jx(l)}function fT(l){return new Vx(l)}function lv(l){const u=new mT(l);return function pT(){try{return!!(new window.DOMParser).parseFromString(_f(""),"text/html")}catch{return!1}}()?new hT(u):u}class hT{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const h=(new window.DOMParser).parseFromString(_f(u),"text/html").body;return null===h?this.inertDocumentHelper.getInertBodyElement(u):(h.removeChild(h.firstChild),h)}catch{return null}}}class mT{constructor(u){this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(u){const h=this.inertDocument.createElement("template");return h.innerHTML=_f(u),h}}const gT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Eh(l){return(l=String(l)).match(gT)?l:"unsafe:"+l}function Ac(l){const u={};for(const h of l.split(","))u[h]=!0;return u}function yf(...l){const u={};for(const h of l)for(const _ in h)h.hasOwnProperty(_)&&(u[_]=!0);return u}const cv=Ac("area,br,col,hr,img,wbr"),dv=Ac("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),uv=Ac("rp,rt"),mp=yf(cv,yf(dv,Ac("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yf(uv,Ac("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yf(uv,dv)),pp=Ac("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fv=yf(pp,Ac("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ac("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_T=Ac("script,style,template");class vT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let h=u.firstChild,_=!0;for(;h;)if(h.nodeType===Node.ELEMENT_NODE?_=this.startElement(h):h.nodeType===Node.TEXT_NODE?this.chars(h.nodeValue):this.sanitizedSomething=!0,_&&h.firstChild)h=h.firstChild;else for(;h;){h.nodeType===Node.ELEMENT_NODE&&this.endElement(h);let A=this.checkClobberedElement(h,h.nextSibling);if(A){h=A;break}h=this.checkClobberedElement(h,h.parentNode)}return this.buf.join("")}startElement(u){const h=u.nodeName.toLowerCase();if(!mp.hasOwnProperty(h))return this.sanitizedSomething=!0,!_T.hasOwnProperty(h);this.buf.push("<"),this.buf.push(h);const _=u.attributes;for(let A=0;A<_.length;A++){const G=_.item(A),re=G.name,Se=re.toLowerCase();if(!fv.hasOwnProperty(Se)){this.sanitizedSomething=!0;continue}let je=G.value;pp[Se]&&(je=Eh(je)),this.buf.push(" ",re,'="',mv(je),'"')}return this.buf.push(">"),!0}endElement(u){const h=u.nodeName.toLowerCase();mp.hasOwnProperty(h)&&!cv.hasOwnProperty(h)&&(this.buf.push("</"),this.buf.push(h),this.buf.push(">"))}chars(u){this.buf.push(mv(u))}checkClobberedElement(u,h){if(h&&(u.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return h}}const hv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yT=/([^\#-~ |!])/g;function mv(l){return l.replace(/&/g,"&amp;").replace(hv,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(yT,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Th;function pv(l,u){let h=null;try{Th=Th||lv(l);let _=u?String(u):"";h=Th.getInertBodyElement(_);let A=5,G=_;do{if(0===A)throw new Error("Failed to sanitize html because the input is unstable");A--,_=G,G=h.innerHTML,h=Th.getInertBodyElement(_)}while(_!==G);return _f((new vT).sanitizeChildren(gp(h)||h))}finally{if(h){const _=gp(h)||h;for(;_.firstChild;)_.removeChild(_.firstChild)}}}function gp(l){return"content"in l&&function bT(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var Od=function(l){return l[l.NONE=0]="NONE",l[l.HTML=1]="HTML",l[l.STYLE=2]="STYLE",l[l.SCRIPT=3]="SCRIPT",l[l.URL=4]="URL",l[l.RESOURCE_URL=5]="RESOURCE_URL",l}(Od||{});function gv(l){const u=bf();return u?ov(u.sanitize(Od.HTML,l)||""):xu(l,"HTML")?ov(Jc(l)):pv(vf(),C(l))}function _p(l){const u=bf();return u?u.sanitize(Od.URL,l)||"":xu(l,"URL")?Jc(l):Eh(C(l))}function _v(l){const u=bf();if(u)return av(u.sanitize(Od.RESOURCE_URL,l)||"");if(xu(l,"ResourceURL"))return av(Jc(l));throw new T(904,!1)}function vv(l,u,h){return function DT(l,u){return"src"===u&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===u&&("base"===l||"link"===l)?_v:_p}(u,h)(l)}function bf(){const l=$n();return l&&l[Qn].sanitizer}class Br{constructor(u,h){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof h?this.__NG_ELEMENT_ID__=h:void 0!==h&&(this.\u0275prov=Ne({token:this,providedIn:h.providedIn||"root",factory:h.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Rd=new Br("ENVIRONMENT_INITIALIZER"),yv=new Br("INJECTOR",-1),bv=new Br("INJECTOR_DEF_TYPES");class Ev{get(u,h=Ut){if(h===Ut){const _=new Error(`NullInjectorError: No provider for ${y(u)}!`);throw _.name="NullInjectorError",_}return h}}function vp(l){return{\u0275providers:l}}function xT(...l){return{\u0275providers:Tv(0,l),\u0275fromNgModule:!0}}function Tv(l,...u){const h=[],_=new Set;let A;return ta(u,G=>{const re=G;yp(re,h,[],_)&&(A||=[],A.push(re))}),void 0!==A&&Sv(A,h),h}function Sv(l,u){for(let h=0;h<l.length;h++){const{providers:A}=l[h];bp(A,G=>{u.push(G)})}}function yp(l,u,h,_){if(!(l=V(l)))return!1;let A=null,G=Z(l);const re=!G&&Ii(l);if(G||re){if(re&&!re.standalone)return!1;A=l}else{const je=l.ngModule;if(G=Z(je),!G)return!1;A=je}const Se=_.has(A);if(re){if(Se)return!1;if(_.add(A),re.dependencies){const je="function"==typeof re.dependencies?re.dependencies():re.dependencies;for(const _t of je)yp(_t,u,h,_)}}else{if(!G)return!1;{if(null!=G.imports&&!Se){let _t;_.add(A);try{ta(G.imports,Nt=>{yp(Nt,u,h,_)&&(_t||=[],_t.push(Nt))})}finally{}void 0!==_t&&Sv(_t,u)}if(!Se){const _t=nt(A)||(()=>new A);u.push({provide:A,useFactory:_t,deps:fn},{provide:bv,useValue:A,multi:!0},{provide:Rd,useValue:()=>Qe(A),multi:!0})}const je=G.providers;null==je||Se||bp(je,Nt=>{u.push(Nt)})}}return A!==l&&void 0!==l.providers}function bp(l,u){for(let h of l)O(h)&&(h=h.\u0275providers),Array.isArray(h)?bp(h,u):u(h)}const MT=f({provide:String,useValue:f});function Ep(l){return null!==l&&"object"==typeof l&&MT in l}function Mu(l){return"function"==typeof l}const Cv=new Br("Set Injector scope."),Tp={},qx={};let Dv;function Sp(){return void 0===Dv&&(Dv=new Ev),Dv}class Au{}class Cp extends Au{get destroyed(){return this._destroyed}constructor(u,h,_,A){super(),this.parent=h,this.source=_,this.scopes=A,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mv(u,re=>this.processProvider(re)),this.records.set(yv,Iu(void 0,this)),A.has("environment")&&this.records.set(Au,Iu(void 0,this));const G=this.records.get(Cv);null!=G&&"string"==typeof G.value&&this.scopes.add(G.value),this.injectorDefTypes=new Set(this.get(bv.multi,fn,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const h of this._ngOnDestroyHooks)h.ngOnDestroy();const u=this._onDestroyHooks;this._onDestroyHooks=[];for(const h of u)h()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(u){return this.assertNotDestroyed(),this._onDestroyHooks.push(u),()=>this.removeOnDestroy(u)}runInContext(u){this.assertNotDestroyed();const h=Dt(this),_=xe(void 0);try{return u()}finally{Dt(h),xe(_)}}get(u,h=Ut,_=ue.Default){if(this.assertNotDestroyed(),u.hasOwnProperty(pn))return u[pn](this);_=Ye(_);const A=Dt(this),G=xe(void 0);try{if(!(_&ue.SkipSelf)){let Se=this.records.get(u);if(void 0===Se){const je=function PT(l){return"function"==typeof l||"object"==typeof l&&l instanceof Br}(u)&&se(u);Se=je&&this.injectableDefInScope(je)?Iu(Dp(u),Tp):null,this.records.set(u,Se)}if(null!=Se)return this.hydrate(u,Se)}return(_&ue.Self?Sp():this.parent).get(u,h=_&ue.Optional&&h===Ut?null:h)}catch(re){if("NullInjectorError"===re.name){if((re[Ht]=re[Ht]||[]).unshift(y(u)),A)throw re;return function ut(l,u,h,_){const A=l[Ht];throw u[Wt]&&A.unshift(u[Wt]),l.message=function kt(l,u,h,_=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let A=y(u);if(Array.isArray(u))A=u.map(y).join(" -> ");else if("object"==typeof u){let G=[];for(let re in u)if(u.hasOwnProperty(re)){let Se=u[re];G.push(re+":"+("string"==typeof Se?JSON.stringify(Se):y(Se)))}A=`{${G.join(", ")}}`}return`${h}${_?"("+_+")":""}[${A}]: ${l.replace(ln,"\n  ")}`}("\n"+l.message,A,h,_),l.ngTokenPath=A,l[Ht]=null,l}(re,u,"R3InjectorError",this.source)}throw re}finally{xe(G),Dt(A)}}resolveInjectorInitializers(){const u=Dt(this),h=xe(void 0);try{const _=this.get(Rd.multi,fn,ue.Self);for(const A of _)A()}finally{Dt(u),xe(h)}}toString(){const u=[],h=this.records;for(const _ of h.keys())u.push(y(_));return`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(u){let h=Mu(u=V(u))?u:V(u&&u.provide);const _=function Qx(l){return Ep(l)?Iu(void 0,l.useValue):Iu(xv(l),Tp)}(u);if(Mu(u)||!0!==u.multi)this.records.get(h);else{let A=this.records.get(h);A||(A=Iu(void 0,Tp,!0),A.factory=()=>Ze(A.multi),this.records.set(h,A)),h=u,A.multi.push(u)}this.records.set(h,_)}hydrate(u,h){return h.value===Tp&&(h.value=qx,h.value=h.factory()),"object"==typeof h.value&&h.value&&function eM(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(h.value)&&this._ngOnDestroyHooks.add(h.value),h.value}injectableDefInScope(u){if(!u.providedIn)return!1;const h=V(u.providedIn);return"string"==typeof h?"any"===h||this.scopes.has(h):this.injectorDefTypes.has(h)}removeOnDestroy(u){const h=this._onDestroyHooks.indexOf(u);-1!==h&&this._onDestroyHooks.splice(h,1)}}function Dp(l){const u=se(l),h=null!==u?u.factory:nt(l);if(null!==h)return h;if(l instanceof Br)throw new T(204,!1);if(l instanceof Function)return function Jx(l){const u=l.length;if(u>0)throw Cl(u,"?"),new T(204,!1);const h=function Q(l){return l&&(l[ne]||l[ee])||null}(l);return null!==h?()=>h.factory(l):()=>new l}(l);throw new T(204,!1)}function xv(l,u,h){let _;if(Mu(l)){const A=V(l);return nt(A)||Dp(A)}if(Ep(l))_=()=>V(l.useValue);else if(function IT(l){return!(!l||!l.useFactory)}(l))_=()=>l.useFactory(...Ze(l.deps||[]));else if(function AT(l){return!(!l||!l.useExisting)}(l))_=()=>Qe(V(l.useExisting));else{const A=V(l&&(l.useClass||l.provide));if(!function Xx(l){return!!l.deps}(l))return nt(A)||Dp(A);_=()=>new A(...Ze(l.deps))}return _}function Iu(l,u,h=!1){return{factory:l,value:u,multi:h?[]:void 0}}function Mv(l,u){for(const h of l)Array.isArray(h)?Mv(h,u):h&&O(h)?Mv(h.\u0275providers,u):u(h)}const Av=new Br("AppId",{providedIn:"root",factory:()=>OT}),OT="ng",RT=new Br("Platform Initializer"),Iv=new Br("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),NT=new Br("AnimationModuleType"),nM=new Br("CSP nonce",{providedIn:"root",factory:()=>vf().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Pu=(l,u)=>null;function Rv(l,u){return Pu(l,u)}class kT{}class wp{}class Fv{resolveComponentFactory(u){throw function FT(l){const u=Error(`No component factory found for ${y(l)}.`);return u.ngComponent=l,u}(u)}}let Tf=(()=>{class l{static#e=this.NULL=new Fv}return l})();function UT(){return ll(zr(),$n())}function ll(l,u){return new Ld(It(l,u))}let Ld=(()=>{class l{constructor(h){this.nativeElement=h}static#e=this.__NG_ELEMENT_ID__=UT}return l})();function sM(l){return l instanceof Ld?l.nativeElement:l}class Bv{}let aM=(()=>{class l{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function lM(){const l=$n(),h=An(zr().index,l);return(Cr(h)?h:l)[Kn]}()}return l})(),cM=(()=>{class l{static#e=this.\u0275prov=Ne({token:l,providedIn:"root",factory:()=>null})}return l})();class Uv{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const Pp=new Uv("16.1.7"),Ph={};function wc(l){for(;l;){l[Pi]|=64;const u=Tu(l);if(jo(l)&&!u)return l;l=u}return null}function jv(l){return l.ngOriginalError}class Cf{constructor(){this._console=console}handleError(u){const h=this._findOriginalError(u);this._console.error("ERROR",u),h&&this._console.error("ORIGINAL ERROR",h)}_findOriginalError(u){let h=u&&jv(u);for(;h&&jv(h);)h=jv(h);return h||null}}const VT=new Br("",{providedIn:"root",factory:()=>!1});function kd(l){return l.ownerDocument.defaultView}function cl(l){return l instanceof Function?l():l}class Rp extends Ao{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(u){this._lView=u}onConsumerDependencyMayHaveChanged(){wc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(u,h,_){const A=vr(this);this.trackingVersion++;try{u(h,_)}finally{vr(A)}}destroy(){this.trackingVersion++}}let Fd=null;function Yv(){return Fd??=new Rp,Fd}function Df(l,u){return l[u]??Yv()}function Wv(l,u){const h=Yv();h.hasReadASignal&&(l[u]=Fd,h.lView=l,Fd=new Rp)}const Xi={};function Qc(l){zv(ur(),$n(),so()+l,!1)}function zv(l,u,h,_){if(!_)if(3==(3&u[Pi])){const G=l.preOrderCheckHooks;null!==G&&rr(u,G,h)}else{const G=l.preOrderHooks;null!==G&&ho(u,G,0,h)}ea(h)}function Lp(l,u=null,h=null,_){const A=kp(l,u,h,_);return A.resolveInjectorInitializers(),A}function kp(l,u=null,h=null,_,A=new Set){const G=[h||fn,xT(l)];return _=_||("object"==typeof l?void 0:y(l)),new Cp(G,u||Sp(),_||null,A)}let Xl=(()=>{class l{static#e=this.THROW_IF_NOT_FOUND=Ut;static#t=this.NULL=new Ev;static create(h,_){if(Array.isArray(h))return Lp({name:""},_,h,"");{const A=h.name??"";return Lp({name:A},h.parent,h.providers,A)}}static#n=this.\u0275prov=Ne({token:l,providedIn:"any",factory:()=>Qe(yv)});static#i=this.__NG_ELEMENT_ID__=-1}return l})();function Pc(l,u=ue.Default){const h=$n();return null===h?Qe(l,u):cu(zr(),h,V(l),u)}function Fp(){throw new Error("invalid")}function Lh(l,u,h,_,A,G,re,Se,je,_t,Nt){const zt=u.blueprint.slice();return zt[lr]=A,zt[Pi]=140|_,(null!==_t||l&&2048&l[Pi])&&(zt[Pi]|=2048),er(zt),zt[qi]=zt[Oi]=l,zt[qt]=h,zt[Qn]=re||l&&l[Qn],zt[Kn]=Se||l&&l[Kn],zt[Pn]=je||l&&l[Pn]||null,zt[Sr]=G,zt[ro]=function GE(){return VE++}(),zt[xr]=Nt,zt[Po]=_t,zt[wi]=2==u.type?l[wi]:zt,zt}function Bd(l,u,h,_,A){let G=l.data[u];if(null===G)G=kh(l,u,h,_,A),function oo(){return Si.lFrame.inI18n}()&&(G.flags|=32);else if(64&G.type){G.type=h,G.value=_,G.attrs=A;const re=cc();G.injectorIndex=null===re?-1:re.injectorIndex}return Lo(G,!0),G}function kh(l,u,h,_,A){const G=dd(),re=dc(),je=l.data[u]=function ey(l,u,h,_,A,G){let re=u?u.injectorIndex:-1,Se=0;return ts()&&(Se|=128),{type:h,index:_,insertBeforeIndex:null,injectorIndex:re,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Se,providerIndexes:0,value:A,attrs:G,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,re?G:G&&G.parent,h,u,_,A);return null===l.firstChild&&(l.firstChild=je),null!==G&&(re?null==G.child&&null!==je.parent&&(G.child=je):null===G.next&&(G.next=je,je.prev=G)),je}function Ru(l,u,h,_){if(0===h)return-1;const A=u.length;for(let G=0;G<h;G++)u.push(_),l.blueprint.push(_),l.data.push(null);return A}function Bp(l,u,h,_,A){const G=Df(u,Mo),re=so(),Se=2&_;try{if(ea(-1),Se&&u.length>Gi&&zv(l,u,Gi,!1),Xo(Se?2:0,A),Se)G.runInContext(h,_,A);else{const _t=vr(null);try{h(_,A)}finally{vr(_t)}}}finally{Se&&null===u[Mo]&&Wv(u,Mo),ea(re),Xo(Se?3:1,A)}}function Up(l,u,h){if(Uo(u)){const _=vr(null);try{const G=u.directiveEnd;for(let re=u.directiveStart;re<G;re++){const Se=l.data[re];Se.contentQueries&&Se.contentQueries(1,h[re],re)}}finally{vr(_)}}}function jp(l,u,h){Wa()&&(function vM(l,u,h,_){const A=h.directiveStart,G=h.directiveEnd;Yr(h)&&function CM(l,u,h){const _=It(u,l),A=qv(h);let re=16;h.signals?re=4096:h.onPush&&(re=64);const Se=Xr(l,Lh(l,A,null,re,_,u,null,l[Qn].rendererFactory.createRenderer(_,h),null,null,null));l[u.index]=Se}(u,h,l.data[A+h.componentOffset]),l.firstCreatePass||yc(h,u),Fo(_,u);const re=h.initialInputs;for(let Se=A;Se<G;Se++){const je=l.data[Se],_t=Tl(u,l,Se,h);Fo(_t,u),null!==re&&DM(0,Se-A,_t,je,0,re),cr(je)&&(An(h.index,u)[qt]=Tl(u,l,Se,h))}}(l,u,h,It(h,u)),64==(64&h.flags)&&rS(l,u,h))}function Vp(l,u,h=It){const _=u.localNames;if(null!==_){let A=u.index+1;for(let G=0;G<_.length;G+=2){const re=_[G+1],Se=-1===re?h(u,l):l[re];l[A++]=Se}}}function qv(l){const u=l.tView;return null===u||u.incompleteFirstPass?l.tView=Gp(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts,l.id):u}function Gp(l,u,h,_,A,G,re,Se,je,_t,Nt){const zt=Gi+_,gn=zt+A,xn=function JT(l,u){const h=[];for(let _=0;_<u;_++)h.push(_<l?null:Xi);return h}(zt,gn),Yn="function"==typeof _t?_t():_t;return xn[oi]={type:l,blueprint:xn,template:h,queries:null,viewQuery:Se,declTNode:u,data:xn.slice().fill(null,zt),bindingStartIndex:zt,expandoStartIndex:gn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof G?G():G,pipeRegistry:"function"==typeof re?re():re,firstChild:null,schemas:je,consts:Yn,incompleteFirstPass:!1,ssrId:Nt}}let Jv=l=>null;function Hp(l,u,h,_){for(let A in l)if(l.hasOwnProperty(A)){h=null===h?{}:h;const G=l[A];null===_?Kp(h,u,A,G):_.hasOwnProperty(A)&&Kp(h,u,_[A],G)}return h}function Kp(l,u,h,_){l.hasOwnProperty(h)?l[h].push(u,_):l[h]=[u,_]}function Va(l,u,h,_,A,G,re,Se){const je=It(u,h);let Nt,_t=u.inputs;!Se&&null!=_t&&(Nt=_t[_])?(ly(l,h,Nt,_,A),Yr(u)&&function nS(l,u){const h=An(u,l);16&h[Pi]||(h[Pi]|=64)}(h,u.index)):3&u.type&&(_=function ty(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(_),A=null!=re?re(A,u.value||"",_):A,G.setProperty(je,_,A))}function ny(l,u,h,_){if(Wa()){const A=null===_?null:{"":-1},G=function bM(l,u){const h=l.directiveRegistry;let _=null,A=null;if(h)for(let G=0;G<h.length;G++){const re=h[G];if(Ln(u,re.selectors,!1))if(_||(_=[]),cr(re))if(null!==re.findHostDirectiveDefs){const Se=[];A=A||new Map,re.findHostDirectiveDefs(re,Se,A),_.unshift(...Se,re),iy(l,u,Se.length)}else _.unshift(re),iy(l,u,0);else A=A||new Map,re.findHostDirectiveDefs?.(re,_,A),_.push(re)}return null===_?null:[_,A]}(l,h);let re,Se;null===G?re=Se=null:[re,Se]=G,null!==re&&iS(l,u,h,re,A,Se),A&&function EM(l,u,h){if(u){const _=l.localNames=[];for(let A=0;A<u.length;A+=2){const G=h[u[A+1]];if(null==G)throw new T(-301,!1);_.push(u[A],G)}}}(h,_,A)}h.mergedAttrs=Xe(h.mergedAttrs,h.attrs)}function iS(l,u,h,_,A,G){for(let _t=0;_t<_.length;_t++)au(yc(h,u),l,_[_t].type);!function oS(l,u,h){l.flags|=1,l.directiveStart=u,l.directiveEnd=u+h,l.providerIndexes=u}(h,l.data.length,_.length);for(let _t=0;_t<_.length;_t++){const Nt=_[_t];Nt.providersResolver&&Nt.providersResolver(Nt)}let re=!1,Se=!1,je=Ru(l,u,_.length,null);for(let _t=0;_t<_.length;_t++){const Nt=_[_t];h.mergedAttrs=Xe(h.mergedAttrs,Nt.hostAttrs),SM(l,h,u,je,Nt),TM(je,Nt,A),null!==Nt.contentQueries&&(h.flags|=4),(null!==Nt.hostBindings||null!==Nt.hostAttrs||0!==Nt.hostVars)&&(h.flags|=64);const zt=Nt.type.prototype;!re&&(zt.ngOnChanges||zt.ngOnInit||zt.ngDoCheck)&&((l.preOrderHooks??=[]).push(h.index),re=!0),!Se&&(zt.ngOnChanges||zt.ngDoCheck)&&((l.preOrderCheckHooks??=[]).push(h.index),Se=!0),je++}!function tS(l,u,h){const A=u.directiveEnd,G=l.data,re=u.attrs,Se=[];let je=null,_t=null;for(let Nt=u.directiveStart;Nt<A;Nt++){const zt=G[Nt],gn=h?h.get(zt):null,Yn=gn?gn.outputs:null;je=Hp(zt.inputs,Nt,je,gn?gn.inputs:null),_t=Hp(zt.outputs,Nt,_t,Yn);const ii=null===je||null===re||Fn(u)?null:oy(je,Nt,re);Se.push(ii)}null!==je&&(je.hasOwnProperty("class")&&(u.flags|=8),je.hasOwnProperty("style")&&(u.flags|=16)),u.initialInputs=Se,u.inputs=je,u.outputs=_t}(l,h,G)}function rS(l,u,h){const _=h.directiveStart,A=h.directiveEnd,G=h.index,re=function Na(){return Si.lFrame.currentDirectiveIndex}();try{ea(G);for(let Se=_;Se<A;Se++){const je=l.data[Se],_t=u[Se];yl(Se),(null!==je.hostBindings||0!==je.hostVars||null!==je.hostAttrs)&&yM(je,_t)}}finally{ea(-1),yl(re)}}function yM(l,u){null!==l.hostBindings&&l.hostBindings(1,u)}function iy(l,u,h){u.componentOffset=h,(l.components??=[]).push(u.index)}function TM(l,u,h){if(h){if(u.exportAs)for(let _=0;_<u.exportAs.length;_++)h[u.exportAs[_]]=l;cr(u)&&(h[""]=l)}}function SM(l,u,h,_,A){l.data[_]=A;const G=A.factory||(A.factory=nt(A.type)),re=new Ja(G,cr(A),Pc);l.blueprint[_]=re,h[_]=re,function gM(l,u,h,_,A){const G=A.hostBindings;if(G){let re=l.hostBindingOpCodes;null===re&&(re=l.hostBindingOpCodes=[]);const Se=~u.index;(function _M(l){let u=l.length;for(;u>0;){const h=l[--u];if("number"==typeof h&&h<0)return h}return 0})(re)!=Se&&re.push(Se),re.push(h,_,G)}}(l,u,_,Ru(l,h,A.hostVars,Xi),A)}function Oc(l,u,h,_,A,G){const re=It(l,u);!function ry(l,u,h,_,A,G,re){if(null==G)l.removeAttribute(u,A,h);else{const Se=null==re?C(G):re(G,_||"",A);l.setAttribute(u,A,Se,h)}}(u[Kn],re,G,l.value,h,_,A)}function DM(l,u,h,_,A,G){const re=G[u];if(null!==re)for(let Se=0;Se<re.length;)sS(_,h,re[Se++],re[Se++],re[Se++])}function sS(l,u,h,_,A){const G=vr(null);try{const re=l.inputTransforms;null!==re&&re.hasOwnProperty(_)&&(A=re[_].call(u,A)),null!==l.setInput?l.setInput(u,A,h,_):u[_]=A}finally{vr(G)}}function oy(l,u,h){let _=null,A=0;for(;A<h.length;){const G=h[A];if(0!==G)if(5!==G){if("number"==typeof G)break;if(l.hasOwnProperty(G)){null===_&&(_=[]);const re=l[G];for(let Se=0;Se<re.length;Se+=2)if(re[Se]===u){_.push(G,re[Se+1],h[A+1]);break}}A+=2}else A+=2;else A+=4}return _}function aS(l,u,h,_){return[l,!0,!1,u,null,0,_,h,null,null,null]}function dl(l,u){const h=l.contentQueries;if(null!==h)for(let _=0;_<h.length;_+=2){const G=h[_+1];if(-1!==G){const re=l.data[G];ka(h[_]),re.contentQueries(2,u[G],G)}}}function Xr(l,u){return l[mi]?l[gi][Nr]=u:l[mi]=u,l[gi]=u,u}function xf(l,u,h){ka(0);const _=vr(null);try{u(l,h)}finally{vr(_)}}function Fh(l){return l[Ji]||(l[Ji]=[])}function sy(l){return l.cleanup||(l.cleanup=[])}function ay(l,u,h){return(null===l||cr(l))&&(h=function Rs(l){for(;Array.isArray(l);){if("object"==typeof l[Oo])return l;l=l[lr]}return null}(h[u.index])),h[Kn]}function Bh(l,u){const h=l[Pn],_=h?h.get(Cf,null):null;_&&_.handleError(u)}function ly(l,u,h,_,A){for(let G=0;G<h.length;){const re=h[G++],Se=h[G++];sS(l.data[re],u[re],_,Se,A)}}function Ga(l,u,h){const _=Ie(u,l);!function V_(l,u,h){l.setValue(u,h)}(l[Kn],_,h)}function Uh(l,u){const h=An(u,l),_=h[oi];!function cy(l,u){for(let h=u.length;h<l.blueprint.length;h++)u.push(l.blueprint[h])}(_,h);const A=h[lr];null!==A&&null===h[xr]&&(h[xr]=Rv(A,h[Pn])),Yp(_,h,h[qt])}function Yp(l,u,h){$a(u);try{const _=l.viewQuery;null!==_&&xf(1,_,h);const A=l.template;null!==A&&Bp(l,u,A,1,h),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&dl(l,u),l.staticViewQueries&&xf(2,l.viewQuery,h);const G=l.components;null!==G&&function cS(l,u){for(let h=0;h<u.length;h++)Uh(l,u[h])}(u,G)}catch(_){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),_}finally{u[Pi]&=-5,gc()}}let Xc=(()=>{class l{constructor(){this.all=new Set,this.queue=new Map}create(h,_,A){const G=typeof Zone>"u"?null:Zone.current,re=new Ia(h,_t=>{this.all.has(_t)&&this.queue.set(_t,G)},A);let Se;this.all.add(re),re.notify();const je=()=>{re.cleanup(),Se?.(),this.all.delete(re),this.queue.delete(re)};return Se=_?.onDestroy(je),{destroy:je}}flush(){if(0!==this.queue.size)for(const[h,_]of this.queue)this.queue.delete(h),_?_.run(()=>h.run()):h.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ne({token:l,providedIn:"root",factory:()=>new l})}return l})();function Ud(l,u,h){let _=h?l.styles:null,A=h?l.classes:null,G=0;if(null!==u)for(let re=0;re<u.length;re++){const Se=u[re];"number"==typeof Se?G=Se:1==G?A=M(A,Se):2==G&&(_=M(_,Se+": "+u[++re]+";"))}h?l.styles=_:l.stylesWithoutHost=_,h?l.classes=A:l.classesWithoutHost=A}function Nu(l,u,h,_,A=!1){for(;null!==h;){const G=u[h.index];if(null!==G&&_.push(Er(G)),mr(G)){for(let Se=Li;Se<G.length;Se++){const je=G[Se],_t=je[oi].firstChild;null!==_t&&Nu(je[oi],je,_t,_)}G[no]!==G[lr]&&_.push(G[no])}const re=h.type;if(8&re)Nu(l,u,h.child,_);else if(32&re){const Se=Id(h,u);let je;for(;je=Se();)_.push(je)}else if(16&re){const Se=ap(u,h);if(Array.isArray(Se))_.push(...Se);else{const je=Tu(u[wi]);Nu(je[oi],je,Se,_,!0)}}h=A?h.projectionNext:h.next}return _}function jd(l,u,h,_=!0){const A=u[Qn].rendererFactory;A.begin&&A.begin();try{fS(l,u,l.template,h)}catch(re){throw _&&Bh(u,re),re}finally{A.end&&A.end(),u[Qn].effectManager?.flush()}}function fS(l,u,h,_){const A=u[Pi];if(256!=(256&A)){u[Qn].effectManager?.flush(),$a(u);try{er(u),function ua(l){return Si.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==h&&Bp(l,u,h,2,_);const re=3==(3&A);if(re){const _t=l.preOrderCheckHooks;null!==_t&&rr(u,_t,null)}else{const _t=l.preOrderHooks;null!==_t&&ho(u,_t,0,null),Fa(u,0)}if(function xM(l){for(let u=np(l);null!==u;u=ph(u)){if(!u[vs])continue;const h=u[bo];for(let _=0;_<h.length;_++){zi(h[_])}}}(u),hS(u,2),null!==l.contentQueries&&dl(l,u),re){const _t=l.contentCheckHooks;null!==_t&&rr(u,_t)}else{const _t=l.contentHooks;null!==_t&&ho(u,_t,1),Fa(u,1)}!function qT(l,u){const h=l.hostBindingOpCodes;if(null===h)return;const _=Df(u,Lr);try{for(let A=0;A<h.length;A++){const G=h[A];if(G<0)ea(~G);else{const re=G,Se=h[++A],je=h[++A];Ra(Se,re),_.runInContext(je,2,u[re])}}}finally{null===u[Lr]&&Wv(u,Lr),ea(-1)}}(l,u);const Se=l.components;null!==Se&&pS(u,Se,0);const je=l.viewQuery;if(null!==je&&xf(2,je,_),re){const _t=l.viewCheckHooks;null!==_t&&rr(u,_t)}else{const _t=l.viewHooks;null!==_t&&ho(u,_t,2),Fa(u,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),u[Pi]&=-73,Fr(u)}finally{gc()}}}function hS(l,u){for(let h=np(l);null!==h;h=ph(h))for(let _=Li;_<h.length;_++)mS(h[_],u)}function MM(l,u,h){mS(An(u,l),h)}function mS(l,u){if(!function si(l){return 128==(128&l[Pi])}(l))return;const h=l[oi];if(80&l[Pi]&&0===u||1024&l[Pi]||2===u)fS(h,l,h.template,l[qt]);else if(l[xo]>0){hS(l,1);const A=l[oi].components;null!==A&&pS(l,A,1)}}function pS(l,u,h){for(let _=0;_<u.length;_++)MM(l,u[_],h)}class jh{get rootNodes(){const u=this._lView,h=u[oi];return Nu(h,u,h.firstChild,[])}constructor(u,h){this._lView=u,this._cdRefInjectingView=h,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qt]}set context(u){this._lView[qt]=u}get destroyed(){return 256==(256&this._lView[Pi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[qi];if(mr(u)){const h=u[8],_=h?h.indexOf(this):-1;_>-1&&(rp(u,_),Sd(h,_))}this._attachedToViewContainer=!1}z_(this._lView[oi],this._lView)}onDestroy(u){!function yr(l,u){if(256==(256&l[Pi]))throw new T(911,!1);null===l[kr]&&(l[kr]=[]),l[kr].push(u)}(this._lView,u)}markForCheck(){wc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pi]&=-129}reattach(){this._lView[Pi]|=128}detectChanges(){jd(this._lView[oi],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function K_(l,u){gf(l,u,u[Kn],2,null,null)}(this._lView[oi],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=u}}class AM extends jh{constructor(u){super(u),this._view=u}detectChanges(){const u=this._view;jd(u[oi],u,u[qt],!1)}checkNoChanges(){}get context(){return null}}class gS extends Tf{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const h=Ii(u);return new Vh(h,this.ngModule)}}function _S(l){const u=[];for(let h in l)l.hasOwnProperty(h)&&u.push({propName:l[h],templateName:h});return u}class wM{constructor(u,h){this.injector=u,this.parentInjector=h}get(u,h,_){_=Ye(_);const A=this.injector.get(u,Ph,_);return A!==Ph||h===Ph?A:this.parentInjector.get(u,h,_)}}class Vh extends wp{get inputs(){const u=this.componentDef,h=u.inputTransforms,_=_S(u.inputs);if(null!==h)for(const A of _)h.hasOwnProperty(A.propName)&&(A.transform=h[A.propName]);return _}get outputs(){return _S(this.componentDef.outputs)}constructor(u,h){super(),this.componentDef=u,this.ngModule=h,this.componentType=u.type,this.selector=function rt(l){return l.map(gt).join(",")}(u.selectors),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!h}create(u,h,_,A){let G=(A=A||this.ngModule)instanceof Au?A:A?.injector;G&&null!==this.componentDef.getStandaloneInjector&&(G=this.componentDef.getStandaloneInjector(G)||G);const re=G?new wM(u,G):u,Se=re.get(Bv,null);if(null===Se)throw new T(407,!1);const Nt={rendererFactory:Se,sanitizer:re.get(cM,null),effectManager:re.get(Xc,null)},zt=Se.createRenderer(null,this.componentDef),gn=this.componentDef.selectors[0][0]||"div",xn=_?function QT(l,u,h,_){const G=_.get(VT,!1)||h===Jt.ShadowDom,re=l.selectRootElement(u,G);return function XT(l){Jv(l)}(re),re}(zt,_,this.componentDef.encapsulation,re):Su(zt,gn,function IM(l){const u=l.toLowerCase();return"svg"===u?jl:"math"===u?"math":null}(gn)),vi=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Ai=Gp(0,null,null,1,0,null,null,null,null,null,null),qn=Lh(null,Ai,null,vi,null,null,Nt,zt,re,null,null);let Zi,br;$a(qn);try{const Dr=this.componentDef;let Ys,Vm=null;Dr.findHostDirectiveDefs?(Ys=[],Vm=new Map,Dr.findHostDirectiveDefs(Dr,Ys,Vm),Ys.push(Dr)):Ys=[Dr];const ox=function OM(l,u){const h=l[oi],_=Gi;return l[_]=u,Bd(h,_,2,"#host",null)}(qn,xn),sx=function vS(l,u,h,_,A,G,re){const Se=A[oi];!function yS(l,u,h,_){for(const A of l)u.mergedAttrs=Xe(u.mergedAttrs,A.hostAttrs);null!==u.mergedAttrs&&(Ud(u,u.mergedAttrs,!0),null!==h&&rv(_,h,u))}(_,l,u,re);let je=null;null!==u&&(je=Rv(u,A[Pn]));const _t=G.rendererFactory.createRenderer(u,h);let Nt=16;h.signals?Nt=4096:h.onPush&&(Nt=64);const zt=Lh(A,qv(h),null,Nt,A[l.index],l,G,_t,null,null,je);return Se.firstCreatePass&&iy(Se,l,_.length-1),Xr(A,zt),A[l.index]=zt}(ox,xn,Dr,Ys,qn,Nt,zt);br=Mt(Ai,Gi),xn&&function uy(l,u,h,_){if(_)ft(l,h,["ng-version",Pp.full]);else{const{attrs:A,classes:G}=function hn(l){const u=[],h=[];let _=1,A=2;for(;_<l.length;){let G=l[_];if("string"==typeof G)2===A?""!==G&&u.push(G,l[++_]):8===A&&h.push(G);else{if(!rn(A))break;A=G}_++}return{attrs:u,classes:h}}(u.selectors[0]);A&&ft(l,h,A),G&&G.length>0&&iv(l,h,G.join(" "))}}(zt,Dr,xn,_),void 0!==h&&function fy(l,u,h){const _=l.projection=[];for(let A=0;A<u.length;A++){const G=h[A];_.push(null!=G?Array.from(G):null)}}(br,this.ngContentSelectors,h),Zi=function RM(l,u,h,_,A,G){const re=zr(),Se=A[oi],je=It(re,A);iS(Se,A,re,h,null,_);for(let Nt=0;Nt<h.length;Nt++)Fo(Tl(A,Se,re.directiveStart+Nt,re),A);rS(Se,A,re),je&&Fo(je,A);const _t=Tl(A,Se,re.directiveStart+re.componentOffset,re);if(l[qt]=A[qt]=_t,null!==G)for(const Nt of G)Nt(_t,u);return Up(Se,re,l),_t}(sx,Dr,Ys,Vm,qn,[Gh]),Yp(Ai,qn,null)}finally{gc()}return new PM(this.componentType,Zi,ll(br,qn),qn,br)}}class PM extends kT{constructor(u,h,_,A,G){super(),this.location=_,this._rootLView=A,this._tNode=G,this.previousInputValues=null,this.instance=h,this.hostView=this.changeDetectorRef=new AM(A),this.componentType=u}setInput(u,h){const _=this._tNode.inputs;let A;if(null!==_&&(A=_[u])){if(this.previousInputValues??=new Map,this.previousInputValues.has(u)&&Object.is(this.previousInputValues.get(u),h))return;const G=this._rootLView;ly(G[oi],G,A,u,h),this.previousInputValues.set(u,h),wc(An(this._tNode.index,G))}}get injector(){return new Yl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}function Gh(){const l=zr();Ti($n()[oi],l)}function ku(l){let u=function hy(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),h=!0;const _=[l];for(;u;){let A;if(cr(l))A=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new T(903,!1);A=u.\u0275dir}if(A){if(h){_.push(A);const re=l;re.inputs=Hh(l.inputs),re.inputTransforms=Hh(l.inputTransforms),re.declaredInputs=Hh(l.declaredInputs),re.outputs=Hh(l.outputs);const Se=A.hostBindings;Se&&bS(l,Se);const je=A.viewQuery,_t=A.contentQueries;if(je&&Vd(l,je),_t&&LM(l,_t),g(l.inputs,A.inputs),g(l.declaredInputs,A.declaredInputs),g(l.outputs,A.outputs),null!==A.inputTransforms&&(null===re.inputTransforms&&(re.inputTransforms={}),g(re.inputTransforms,A.inputTransforms)),cr(A)&&A.data.animation){const Nt=l.data;Nt.animation=(Nt.animation||[]).concat(A.data.animation)}}const G=A.features;if(G)for(let re=0;re<G.length;re++){const Se=G[re];Se&&Se.ngInherit&&Se(l),Se===ku&&(h=!1)}}u=Object.getPrototypeOf(u)}!function NM(l){let u=0,h=null;for(let _=l.length-1;_>=0;_--){const A=l[_];A.hostVars=u+=A.hostVars,A.hostAttrs=Xe(A.hostAttrs,h=Xe(h,A.hostAttrs))}}(_)}function Hh(l){return l===an?{}:l===fn?[]:l}function Vd(l,u){const h=l.viewQuery;l.viewQuery=h?(_,A)=>{u(_,A),h(_,A)}:u}function LM(l,u){const h=l.contentQueries;l.contentQueries=h?(_,A,G)=>{u(_,A,G),h(_,A,G)}:u}function bS(l,u){const h=l.hostBindings;l.hostBindings=h?(_,A)=>{u(_,A),h(_,A)}:u}function my(l){return u=>{u.findHostDirectiveDefs=Kh,u.hostDirectives=(Array.isArray(l)?l:l()).map(h=>"function"==typeof h?{directive:V(h),inputs:an,outputs:an}:{directive:V(h.directive),inputs:py(h.inputs),outputs:py(h.outputs)})}}function Kh(l,u,h){if(null!==l.hostDirectives)for(const _ of l.hostDirectives){const A=gr(_.directive);SS(A.declaredInputs,_.inputs),Kh(A,u,h),h.set(A,_),u.push(A)}}function py(l){if(void 0===l||0===l.length)return an;const u={};for(let h=0;h<l.length;h+=2)u[l[h]]=l[h+1];return u}function SS(l,u){for(const h in u)u.hasOwnProperty(h)&&(l[u[h]]=l[h])}function ia(l){const u=l.inputConfig,h={};for(const _ in u)if(u.hasOwnProperty(_)){const A=u[_];Array.isArray(A)&&A[2]&&(h[_]=A[2])}l.inputTransforms=h}function Yh(l){return!!Wh(l)&&(Array.isArray(l)||!(l instanceof Map)&&Symbol.iterator in l)}function Wh(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function Ta(l,u,h){return l[u]=h}function is(l,u,h){return!Object.is(l[u],h)&&(l[u]=h,!0)}function Gd(l,u,h,_){const A=is(l,u,h);return is(l,u+1,_)||A}function Wp(l,u,h,_){const A=$n();return is(A,Hr(),u)&&(ur(),Oc(Ee(),A,l,u,h,_)),Wp}function If(l,u,h,_){return is(l,Hr(),h)?u+C(h)+_:Xi}function wf(l,u,h,_,A,G){const Se=Gd(l,function Ss(){return Si.lFrame.bindingIndex}(),h,A);return Ls(2),Se?u+C(h)+_+C(A)+G:Xi}function My(l,u,h,_,A,G,re,Se){const je=$n(),_t=ur(),Nt=l+Gi,zt=_t.firstCreatePass?function XM(l,u,h,_,A,G,re,Se,je){const _t=u.consts,Nt=Bd(u,l,4,re||null,Wi(_t,Se));ny(u,h,Nt,Wi(_t,je)),Ti(u,Nt);const zt=Nt.tView=Gp(2,Nt,_,A,G,u.directiveRegistry,u.pipeRegistry,null,u.schemas,_t,null);return null!==u.queries&&(u.queries.template(u,Nt),zt.queries=u.queries.embeddedTView(Nt)),Nt}(Nt,_t,je,u,h,_,A,G,re):_t.data[Nt];Lo(zt,!1);const gn=PS(_t,je,zt,l);Tn()&&vh(_t,je,gn,zt),Fo(gn,je),Xr(je,je[Nt]=aS(gn,je,gn,zt)),Ro(zt)&&jp(_t,je,zt),null!=re&&Vp(je,zt,Se)}let PS=function OS(l,u,h,_){return zn(!0),u[Kn].createComment("")};function Ay(l){return Xt(function Oa(){return Si.lFrame.contextLView}(),Gi+l)}function Iy(l,u,h){const _=$n();return is(_,Hr(),u)&&Va(ur(),Ee(),_,l,u,_[Kn],h,!1),Iy}function wy(l,u,h,_,A){const re=A?"class":"style";ly(l,h,u.inputs[re],re,_)}function tg(l,u,h,_){const A=$n(),G=ur(),re=Gi+l,Se=A[Kn],je=G.firstCreatePass?function iA(l,u,h,_,A,G){const re=u.consts,je=Bd(u,l,2,_,Wi(re,A));return ny(u,h,je,Wi(re,G)),null!==je.attrs&&Ud(je,je.attrs,!1),null!==je.mergedAttrs&&Ud(je,je.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,je),je}(re,G,A,u,h,_):G.data[re],_t=RS(G,A,je,Se,u,l);A[re]=_t;const Nt=Ro(je);return Lo(je,!0),rv(Se,_t,je),32!=(32&je.flags)&&Tn()&&vh(G,A,_t,je),0===function nr(){return Si.lFrame.elementDepthCount}()&&Fo(_t,A),function Ho(){Si.lFrame.elementDepthCount++}(),Nt&&(jp(G,A,je),Up(G,je,A)),null!==_&&Vp(A,je),tg}function Qh(){let l=zr();dc()?Zr():(l=l.parent,Lo(l,!1));const u=l;(function za(l){return Si.skipHydrationRootTNode===l})(u)&&function Vl(){Si.skipHydrationRootTNode=null}(),function es(){Si.lFrame.elementDepthCount--}();const h=ur();return h.firstCreatePass&&(Ti(h,l),Uo(l)&&h.queries.elementEnd(l)),null!=u.classesWithoutHost&&function ih(l){return 0!=(8&l.flags)}(u)&&wy(h,u,$n(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function Hc(l){return 0!=(16&l.flags)}(u)&&wy(h,u,$n(),u.stylesWithoutHost,!1),Qh}function Py(l,u,h,_){return tg(l,u,h,_),Qh(),Py}let RS=(l,u,h,_,A,G)=>(zn(!0),Su(_,A,function jt(){return Si.lFrame.currentNamespace}()));function ng(l,u,h){const _=$n(),A=ur(),G=l+Gi,re=A.firstCreatePass?function NS(l,u,h,_,A){const G=u.consts,re=Wi(G,_),Se=Bd(u,l,8,"ng-container",re);return null!==re&&Ud(Se,re,!0),ny(u,h,Se,Wi(G,A)),null!==u.queries&&u.queries.elementStart(u,Se),Se}(G,A,_,u,h):A.data[G];Lo(re,!0);const Se=LS(A,_,re,l);return _[G]=Se,Tn()&&vh(A,_,Se,re),Fo(Se,_),Ro(re)&&(jp(A,_,re),Up(A,re,_)),null!=h&&Vp(_,re),ng}function ig(){let l=zr();const u=ur();return dc()?Zr():(l=l.parent,Lo(l,!1)),u.firstCreatePass&&(Ti(u,l),Uo(l)&&u.queries.elementEnd(l)),ig}function Oy(l,u,h){return ng(l,u,h),ig(),Oy}let LS=(l,u,h,_)=>(zn(!0),qc(u[Kn],""));function FS(){return $n()}function rg(l){return!!l&&"function"==typeof l.then}function BS(l){return!!l&&"function"==typeof l.subscribe}function Ry(l,u,h,_){const A=$n(),G=ur(),re=zr();return US(G,A,A[Kn],re,l,u,_),Ry}function Ny(l,u){const h=zr(),_=$n(),A=ur();return US(A,_,ay(La(A.data),h,_),h,l,u),Ny}function US(l,u,h,_,A,G,re){const Se=Ro(_),_t=l.firstCreatePass&&sy(l),Nt=u[qt],zt=Fh(u);let gn=!0;if(3&_.type||re){const ii=It(_,u),vi=re?re(ii):ii,Ai=zt.length,qn=re?br=>re(Er(br[_.index])):_.index;let Zi=null;if(!re&&Se&&(Zi=function aA(l,u,h,_){const A=l.cleanup;if(null!=A)for(let G=0;G<A.length-1;G+=2){const re=A[G];if(re===h&&A[G+1]===_){const Se=u[Ji],je=A[G+2];return Se.length>je?Se[je]:null}"string"==typeof re&&(G+=2)}return null}(l,u,A,_.index)),null!==Zi)(Zi.__ngLastListenerFn__||Zi).__ngNextListenerFn__=G,Zi.__ngLastListenerFn__=G,gn=!1;else{G=VS(_,u,Nt,G,!1);const br=h.listen(vi,A,G);zt.push(G,br),_t&&_t.push(A,qn,Ai,Ai+1)}}else G=VS(_,u,Nt,G,!1);const xn=_.outputs;let Yn;if(gn&&null!==xn&&(Yn=xn[A])){const ii=Yn.length;if(ii)for(let vi=0;vi<ii;vi+=2){const Dr=u[Yn[vi]][Yn[vi+1]].subscribe(G),Ys=zt.length;zt.push(G,Dr),_t&&_t.push(A,_.index,Ys,-(Ys+1))}}}function jS(l,u,h,_){try{return Xo(6,u,h),!1!==h(_)}catch(A){return Bh(l,A),!1}finally{Xo(7,u,h)}}function VS(l,u,h,_,A){return function G(re){if(re===Function)return _;wc(l.componentOffset>-1?An(l.index,u):u);let je=jS(u,h,_,re),_t=G.__ngNextListenerFn__;for(;_t;)je=jS(u,h,_t,re)&&je,_t=_t.__ngNextListenerFn__;return A&&!1===je&&re.preventDefault(),je}}function GS(l=1){return function fd(l){return(Si.lFrame.contextLView=function hd(l,u){for(;l>0;)u=u[Oi],l--;return u}(l,Si.lFrame.contextLView))[qt]}(l)}function rs(l,u){let h=null;const _=function Xn(l){const u=l.attrs;if(null!=u){const h=u.indexOf(5);if(!(1&h))return u[h+1]}return null}(l);for(let A=0;A<u.length;A++){const G=u[A];if("*"!==G){if(null===_?Ln(l,G,!0):be(_,G))return A}else h=A}return h}function og(l){const u=$n()[wi][Sr];if(!u.projection){const _=u.projection=Cl(l?l.length:1,null),A=_.slice();let G=u.child;for(;null!==G;){const re=l?rs(G,l):0;null!==re&&(A[re]?A[re].projectionNext=G:_[re]=G,A[re]=G),G=G.next}}}function Ml(l,u=0,h){const _=$n(),A=ur(),G=Bd(A,Gi+l,16,null,h||null);null===G.projection&&(G.projection=u),Zr(),(!_[xr]||ts())&&32!=(32&G.flags)&&function QE(l,u,h){tv(u[Kn],0,u,h,mf(l,h,u),J_(h.parent||u[Sr],h,u))}(A,_,G)}function sg(l,u,h){return Xh(l,"",u,"",h),sg}function Xh(l,u,h,_,A){const G=$n(),re=If(G,u,h,_);return re!==Xi&&Va(ur(),Ee(),G,l,re,G[Kn],A,!1),Xh}function ag(l,u,h,_,A,G,re){const Se=$n(),je=wf(Se,u,h,_,A,G);return je!==Xi&&Va(ur(),Ee(),Se,l,je,Se[Kn],re,!1),ag}function em(l,u){return l<<17|u<<2}function td(l){return l>>17&32767}function lg(l){return 2|l}function zd(l){return(131068&l)>>2}function cg(l,u){return-131069&l|u<<2}function dg(l){return 1|l}function jy(l,u,h,_,A){const G=l[h+1],re=null===u;let Se=_?td(G):zd(G),je=!1;for(;0!==Se&&(!1===je||re);){const Nt=l[Se+1];Vy(l[Se],u)&&(je=!0,l[Se+1]=_?dg(Nt):lg(Nt)),Se=_?td(Nt):zd(Nt)}je&&(l[h+1]=_?lg(G):dg(G))}function Vy(l,u){return null===l||null==u||(Array.isArray(l)?l[1]:l)===u||!(!Array.isArray(l)||"string"!=typeof u)&&Yt(l,u)>=0}const Yo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Nc(l){return l.substring(Yo.key,Yo.keyEnd)}function Hy(l,u){const h=Yo.textEnd;return h===u?-1:(u=Yo.keyEnd=function $S(l,u,h){for(;u<h&&l.charCodeAt(u)>32;)u++;return u}(l,Yo.key=u,h),ju(l,u,h))}function ju(l,u,h){for(;u<h&&l.charCodeAt(u)<=32;)u++;return u}function ug(l,u,h){return Al(l,u,h,!1),ug}function fg(l,u){return Al(l,u,null,!0),fg}function Zy(l){Gs(iC,nc,l,!0)}function nc(l,u){for(let h=function zS(l){return function Yy(l){Yo.key=0,Yo.keyEnd=0,Yo.value=0,Yo.valueEnd=0,Yo.textEnd=l.length}(l),Hy(l,ju(l,0,Yo.textEnd))}(u);h>=0;h=Hy(u,h))$e(l,Nc(u),!0)}function Al(l,u,h,_){const A=$n(),G=ur(),re=Ls(2);G.firstUpdatePass&&qy(G,l,re,_),u!==Xi&&is(A,re,u)&&Qy(G,G.data[so()],A,A[Kn],l,A[re+1]=function oC(l,u){return null==l||""===l||("string"==typeof u?l+=u:"object"==typeof l&&(l=y(Jc(l)))),l}(u,h),_,re)}function Gs(l,u,h,_){const A=ur(),G=Ls(2);A.firstUpdatePass&&qy(A,null,G,_);const re=$n();if(h!==Xi&&is(re,G,h)){const Se=A.data[so()];if(e0(Se,_)&&!$y(A,G)){let je=_?Se.classesWithoutHost:Se.stylesWithoutHost;null!==je&&(h=M(je,h||"")),wy(A,Se,re,h,_)}else!function rC(l,u,h,_,A,G,re,Se){A===Xi&&(A=fn);let je=0,_t=0,Nt=0<A.length?A[0]:null,zt=0<G.length?G[0]:null;for(;null!==Nt||null!==zt;){const gn=je<A.length?A[je+1]:void 0,xn=_t<G.length?G[_t+1]:void 0;let ii,Yn=null;Nt===zt?(je+=2,_t+=2,gn!==xn&&(Yn=zt,ii=xn)):null===zt||null!==Nt&&Nt<zt?(je+=2,Yn=Nt):(_t+=2,Yn=zt,ii=xn),null!==Yn&&Qy(l,u,h,_,Yn,ii,re,Se),Nt=je<A.length?A[je]:null,zt=_t<G.length?G[_t]:null}}(A,Se,re,re[Kn],re[G+1],re[G+1]=function nC(l,u,h){if(null==h||""===h)return fn;const _=[],A=Jc(h);if(Array.isArray(A))for(let G=0;G<A.length;G++)l(_,A[G],!0);else if("object"==typeof A)for(const G in A)A.hasOwnProperty(G)&&l(_,G,A[G]);else"string"==typeof A&&u(_,A);return _}(l,u,h),_,G)}}function $y(l,u){return u>=l.expandoStartIndex}function qy(l,u,h,_){const A=l.data;if(null===A[h+1]){const G=A[so()],re=$y(l,h);e0(G,_)&&null===u&&!re&&(u=!1),u=function XS(l,u,h,_){const A=La(l);let G=_?u.residualClasses:u.residualStyles;if(null===A)0===(_?u.classBindings:u.styleBindings)&&(h=Pf(h=hg(null,l,u,h,_),u.attrs,_),G=null);else{const re=u.directiveStylingLast;if(-1===re||l[re]!==A)if(h=hg(A,l,u,h,_),null===G){let je=function dA(l,u,h){const _=h?u.classBindings:u.styleBindings;if(0!==zd(_))return l[td(_)]}(l,u,_);void 0!==je&&Array.isArray(je)&&(je=hg(null,l,u,je[1],_),je=Pf(je,u.attrs,_),function eC(l,u,h,_){l[td(h?u.classBindings:u.styleBindings)]=_}(l,u,_,je))}else G=function tC(l,u,h){let _;const A=u.directiveEnd;for(let G=1+u.directiveStylingLast;G<A;G++)_=Pf(_,l[G].hostAttrs,h);return Pf(_,u.attrs,h)}(l,u,_)}return void 0!==G&&(_?u.residualClasses=G:u.residualStyles=G),h}(A,G,u,_),function wo(l,u,h,_,A,G){let re=G?u.classBindings:u.styleBindings,Se=td(re),je=zd(re);l[_]=h;let Nt,_t=!1;if(Array.isArray(h)?(Nt=h[1],(null===Nt||Yt(h,Nt)>0)&&(_t=!0)):Nt=h,A)if(0!==je){const gn=td(l[Se+1]);l[_+1]=em(gn,Se),0!==gn&&(l[gn+1]=cg(l[gn+1],_)),l[Se+1]=function KS(l,u){return 131071&l|u<<17}(l[Se+1],_)}else l[_+1]=em(Se,0),0!==Se&&(l[Se+1]=cg(l[Se+1],_)),Se=_;else l[_+1]=em(je,0),0===Se?Se=_:l[je+1]=cg(l[je+1],_),je=_;_t&&(l[_+1]=lg(l[_+1])),jy(l,Nt,_,!0),jy(l,Nt,_,!1),function Uu(l,u,h,_,A){const G=A?l.residualClasses:l.residualStyles;null!=G&&"string"==typeof u&&Yt(G,u)>=0&&(h[_+1]=dg(h[_+1]))}(u,Nt,l,_,G),re=em(Se,je),G?u.classBindings=re:u.styleBindings=re}(A,G,u,h,re,_)}}function hg(l,u,h,_,A){let G=null;const re=h.directiveEnd;let Se=h.directiveStylingLast;for(-1===Se?Se=h.directiveStart:Se++;Se<re&&(G=u[Se],_=Pf(_,G.hostAttrs,A),G!==l);)Se++;return null!==l&&(h.directiveStylingLast=Se),_}function Pf(l,u,h){const _=h?1:2;let A=-1;if(null!==u)for(let G=0;G<u.length;G++){const re=u[G];"number"==typeof re?A=re:A===_&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),$e(l,re,!!h||u[++G]))}return void 0===l?null:l}function iC(l,u,h){const _=String(u);""!==_&&!_.includes(" ")&&$e(l,_,h)}function Qy(l,u,h,_,A,G,re,Se){if(!(3&u.type))return;const je=l.data,_t=je[Se+1],Nt=function YS(l){return 1==(1&l)}(_t)?Xy(je,u,h,A,zd(_t),re):void 0;tm(Nt)||(tm(G)||function HS(l){return 2==(2&l)}(_t)&&(G=Xy(je,null,h,A,Se,re)),function eT(l,u,h,_,A){if(u)A?l.addClass(h,_):l.removeClass(h,_);else{let G=-1===_.indexOf("-")?void 0:uh.DashCase;null==A?l.removeStyle(h,_,G):("string"==typeof A&&A.endsWith("!important")&&(A=A.slice(0,-10),G|=uh.Important),l.setStyle(h,_,A,G))}}(_,re,Ie(so(),h),A,G))}function Xy(l,u,h,_,A,G){const re=null===u;let Se;for(;A>0;){const je=l[A],_t=Array.isArray(je),Nt=_t?je[1]:je,zt=null===Nt;let gn=h[A+1];gn===Xi&&(gn=zt?fn:void 0);let xn=zt?Et(gn,_):Nt===_?gn:void 0;if(_t&&!tm(xn)&&(xn=Et(je,_)),tm(xn)&&(Se=xn,re))return Se;const Yn=l[A+1];A=re?td(Yn):zd(Yn)}if(null!==u){let je=G?u.residualClasses:u.residualStyles;null!=je&&(Se=Et(je,_))}return Se}function tm(l){return void 0!==l}function e0(l,u){return 0!=(l.flags&(u?8:16))}function t0(l,u=""){const h=$n(),_=ur(),A=l+Gi,G=_.firstCreatePass?Bd(_,A,1,u,null):_.data[A],re=n0(_,h,G,u,l);h[A]=re,Tn()&&vh(_,h,re,G),Lo(G,!1)}let n0=(l,u,h,_,A)=>(zn(!0),gh(u[Kn],_));function mg(l){return nm("",l,""),mg}function nm(l,u,h){const _=$n(),A=If(_,l,u,h);return A!==Xi&&Ga(_,so(),A),nm}function pg(l,u,h,_,A){const G=$n(),re=wf(G,l,u,h,_,A);return re!==Xi&&Ga(G,so(),re),pg}function c0(l,u,h){Gs($e,nc,If($n(),l,u,h),!0)}function _g(l,u,h){const _=$n();return is(_,Hr(),u)&&Va(ur(),Ee(),_,l,u,_[Kn],h,!0),_g}function vg(l,u,h){const _=$n();if(is(_,Hr(),u)){const G=ur(),re=Ee();Va(G,re,_,l,u,ay(La(G.data),re,_),h,!0)}return vg}const $d=void 0;var Gu=["en",[["a","p"],["AM","PM"],$d],[["AM","PM"],$d,$d],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$d,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$d,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$d,"{1} 'at' {0}",$d],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function y0(l){const h=Math.floor(Math.abs(l)),_=l.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===_?1:5}];let nd={};function im(l){const u=function CC(l){return l.toLowerCase().replace(/_/g,"-")}(l);let h=ra(u);if(h)return h;const _=u.split("-")[0];if(h=ra(_),h)return h;if("en"===_)return Gu;throw new T(701,!1)}function yg(l){return im(l)[po.PluralCase]}function ra(l){return l in nd||(nd[l]=lt.ng&&lt.ng.common&&lt.ng.common.locales&&lt.ng.common.locales[l]),nd[l]}var po=function(l){return l[l.LocaleId=0]="LocaleId",l[l.DayPeriodsFormat=1]="DayPeriodsFormat",l[l.DayPeriodsStandalone=2]="DayPeriodsStandalone",l[l.DaysFormat=3]="DaysFormat",l[l.DaysStandalone=4]="DaysStandalone",l[l.MonthsFormat=5]="MonthsFormat",l[l.MonthsStandalone=6]="MonthsStandalone",l[l.Eras=7]="Eras",l[l.FirstDayOfWeek=8]="FirstDayOfWeek",l[l.WeekendRange=9]="WeekendRange",l[l.DateFormat=10]="DateFormat",l[l.TimeFormat=11]="TimeFormat",l[l.DateTimeFormat=12]="DateTimeFormat",l[l.NumberSymbols=13]="NumberSymbols",l[l.NumberFormats=14]="NumberFormats",l[l.CurrencyCode=15]="CurrencyCode",l[l.CurrencySymbol=16]="CurrencySymbol",l[l.CurrencyName=17]="CurrencyName",l[l.Currencies=18]="Currencies",l[l.Directionality=19]="Directionality",l[l.PluralCase=20]="PluralCase",l[l.ExtraData=21]="ExtraData",l}(po||{});const Rt="en-US",Vn={marker:"element"},ic={marker:"ICU"};var Hs=function(l){return l[l.SHIFT=2]="SHIFT",l[l.APPEND_EAGERLY=1]="APPEND_EAGERLY",l[l.COMMENT=2]="COMMENT",l}(Hs||{});let E0=Rt;function T0(l){(function ke(l,u){null==l&&we(u,l,null,"!=")})(l,"Expected localeId to be defined"),"string"==typeof l&&(E0=l.toLowerCase().replace(/_/g,"-"))}function Dn(l,u,h){const _=u.insertBeforeIndex,A=Array.isArray(_)?_[0]:_;return null===A?Q_(l,0,h):Er(h[A])}function S0(l,u,h,_,A){const G=u.insertBeforeIndex;if(Array.isArray(G)){let re=_,Se=null;if(3&u.type||(Se=re,re=A),null!==re&&-1===u.componentOffset)for(let je=1;je<G.length;je++)Pd(l,re,h[G[je]],Se,!1)}}function bg(l,u){if(l.push(u),l.length>1)for(let h=l.length-2;h>=0;h--){const _=l[h];go(_)||MC(_,u)&&null===AC(_)&&C0(_,u.index)}}function go(l){return!(64&l.type)}function MC(l,u){return go(u)||l.index>u.index}function AC(l){const u=l.insertBeforeIndex;return Array.isArray(u)?u[0]:u}function C0(l,u){const h=l.insertBeforeIndex;Array.isArray(h)?h[0]=u:(ev(Dn,S0),l.insertBeforeIndex=u)}function Eg(l,u,h){const _=kh(l,h,64,null,null);return bg(u,_),_}function wC(){const l=[];let h,_,u=-1;function G(Se,je){u=0;const _t=function om(l,u){const h=u[l.currentCaseLViewIndex];return null===h?h:h<0?~h:h}(Se,je);_=null!==_t?Se.remove[_t]:fn}function re(){if(u<_.length){const Se=_[u++];return Se>0?h[Se]:(l.push(u,_),G(h[oi].data[~Se],h),re())}return 0===l.length?null:(_=l.pop(),u=l.pop(),re())}return function A(Se,je){for(h=je;l.length;)l.pop();return G(Se.value,je),re}}const qd=/\ufffd(\d+):?\d*\ufffd/gi,RC=/\ufffd(\d+)\ufffd/,Cg=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Lf="\ufffd",R0=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,NC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,LC=/\uE500/g;function Il(l,u,h,_,A,G,re){const Se=Ru(l,_,1,null);let je=Se<<Hs.SHIFT,_t=cc();u===_t&&(_t=null),null===_t&&(je|=Hs.APPEND_EAGERLY),re&&(je|=Hs.COMMENT,function WE(l){void 0===mh&&(mh=l())}(wC)),A.push(je,null===G?"":G);const Nt=kh(l,Se,re?32:1,null===G?"":G,null);bg(h,Nt);const zt=Nt.index;return Lo(Nt,!1),null!==_t&&u!==_t&&function D0(l,u){let h=l.insertBeforeIndex;null===h?(ev(Dn,S0),h=l.insertBeforeIndex=[null,u]):(function oe(l,u,h){l!=u&&we(h,l,u,"==")}(Array.isArray(h),!0,"Expecting array here"),h.push(u))}(_t,zt),Nt}function Dg(l,u,h,_,A,G,re){const Se=re.match(qd),je=Il(l,u,h,G,_,Se?null:re,!1);Se&&Ca(A,re,je.index,null,0,null)}function Ca(l,u,h,_,A,G){const re=l.length,Se=re+1;l.push(null,null);const je=re+2,_t=u.split(qd);let Nt=0;for(let zt=0;zt<_t.length;zt++){const gn=_t[zt];if(1&zt){const xn=A+parseInt(gn,10);l.push(-1-xn),Nt|=N0(xn)}else""!==gn&&l.push(gn)}return l.push(h<<2|(_?1:0)),_&&l.push(_,G),l[re]=Nt,l[Se]=l.length-je,Nt}function N0(l){return 1<<Math.min(l,31)}function ps(l){let u,G,h="",_=0,A=!1;for(;null!==(u=R0.exec(l));)A?u[0]===`${Lf}/*${G}${Lf}`&&(_=u.index,A=!1):(h+=l.substring(_,u.index+u[0].length),G=u[1],A=!0);return h+=l.slice(_),h}function Ki(l,u,h,_,A,G){let re=0;const Se={type:A.type,currentCaseLViewIndex:Ru(l,u,1,null),anchorIdx:G,cases:[],create:[],remove:[],update:[]};(function U0(l,u,h){l.push(N0(u.mainBinding),2,-1-u.mainBinding,h<<2|2)})(h,A,G),function qr(l,u,h){const _=l.data[u];null===_?l.data[u]=h:_.value=h}(l,G,Se);const je=A.values;for(let _t=0;_t<je.length;_t++){const Nt=je[_t],zt=[];for(let gn=0;gn<Nt.length;gn++){const xn=Nt[gn];if("string"!=typeof xn){const Yn=zt.push(xn)-1;Nt[gn]=`\x3c!--\ufffd${Yn}\ufffd--\x3e`}}re=Pr(l,Se,u,h,_,A.cases[_t],Nt.join(""),zt)|re}re&&function jC(l,u,h){l.push(u,1,h<<2|3)}(h,re,G)}function F0(l){const u=[],h=[];let _=1,A=0;const G=kf(l=l.replace(Cg,function(re,Se,je){return _="select"===je?0:1,A=parseInt(Se.slice(1),10),""}));for(let re=0;re<G.length;){let Se=G[re++].trim();1===_&&(Se=Se.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Se.length&&u.push(Se);const je=kf(G[re++]);u.length>h.length&&h.push(je)}return{type:_,mainBinding:A,cases:u,values:h}}function kf(l){if(!l)return[];let u=0;const h=[],_=[],A=/[{}]/g;let G;for(A.lastIndex=0;G=A.exec(l);){const Se=G.index;if("}"==G[0]){if(h.pop(),0==h.length){const je=l.substring(u,Se);Cg.test(je)?_.push(F0(je)):_.push(je),u=Se+1}}else{if(0==h.length){const je=l.substring(u,Se);_.push(je),u=Se+1}h.push("{")}}const re=l.substring(u);return _.push(re),_}function Pr(l,u,h,_,A,G,re,Se){const je=[],_t=[],Nt=[];u.cases.push(G),u.create.push(je),u.remove.push(_t),u.update.push(Nt);const gn=lv(vf()).getInertBodyElement(re),xn=gp(gn)||gn;return xn?B0(l,u,h,_,je,_t,Nt,xn,A,Se,0):0}function B0(l,u,h,_,A,G,re,Se,je,_t,Nt){let zt=0,gn=Se.firstChild;for(;gn;){const xn=Ru(l,h,1,null);switch(gn.nodeType){case Node.ELEMENT_NODE:const Yn=gn,ii=Yn.tagName.toLowerCase();if(mp.hasOwnProperty(ii)){Mg(A,Vn,ii,je,xn),l.data[xn]=ii;const Zi=Yn.attributes;for(let br=0;br<Zi.length;br++){const Dr=Zi.item(br),Ys=Dr.name.toLowerCase();Dr.value.match(qd)?fv.hasOwnProperty(Ys)&&Ca(re,Dr.value,xn,Dr.name,0,pp[Ys]?Eh:null):VC(A,xn,Dr)}zt=B0(l,u,h,_,A,G,re,gn,xn,_t,Nt+1)|zt,xg(G,xn,Nt)}break;case Node.TEXT_NODE:const vi=gn.textContent||"",Ai=vi.match(qd);Mg(A,null,Ai?"":vi,je,xn),xg(G,xn,Nt),Ai&&(zt=Ca(re,vi,xn,null,0,null)|zt);break;case Node.COMMENT_NODE:const qn=RC.exec(gn.textContent||"");if(qn){const br=_t[parseInt(qn[1],10)];Mg(A,ic,"",je,xn),Ki(l,h,_,je,br,xn),UC(G,xn,Nt)}}gn=gn.nextSibling}return zt}function xg(l,u,h){0===h&&l.push(u)}function UC(l,u,h){0===h&&(l.push(~u),l.push(u))}function Mg(l,u,h,_,A){null!==u&&l.push(u),l.push(h,A,function IC(l,u,h){return l|u<<17|h<<1}(0,_,A))}function VC(l,u,h){l.push(u<<1|1,h.name,h.value)}function K0(l,u,h=-1){const _=ur(),A=$n(),G=Gi+l,re=Wi(_.consts,u),Se=cc();_.firstCreatePass&&function FC(l,u,h,_,A,G){const re=cc(),Se=[],je=[],_t=[[]];A=function k0(l,u){if(function L0(l){return-1===l}(u))return ps(l);{const h=l.indexOf(`:${u}${Lf}`)+2+u.toString().length,_=l.search(new RegExp(`${Lf}\\/\\*\\d+:${u}${Lf}`));return ps(l.substring(h,_))}}(A,G);const Nt=function kC(l){return l.replace(LC," ")}(A).split(NC);for(let zt=0;zt<Nt.length;zt++){let gn=Nt[zt];if(1&zt){const xn=47===gn.charCodeAt(0),ii=(gn.charCodeAt(xn?1:0),Gi+Number.parseInt(gn.substring(xn?2:1)));if(xn)_t.shift(),Lo(cc(),!1);else{const vi=Eg(l,_t[0],ii);_t.unshift([]),Lo(vi,!0)}}else{const xn=kf(gn);for(let Yn=0;Yn<xn.length;Yn++){let ii=xn[Yn];if(1&Yn){const vi=ii;if("object"!=typeof vi)throw new Error(`Unable to parse ICU expression in "${A}" message.`);Ki(l,h,je,u,vi,Il(l,re,_t[0],h,Se,"",!0).index)}else""!==ii&&Dg(l,re,_t[0],Se,je,h,ii)}}}l.data[_]={create:Se,update:je}}(_,null===Se?0:Se.index,A,G,re,h),2===_.type?A[wi][Pi]|=32:A[Pi]|=32;const je=_.data[G],Nt=Z_(_,Se===A[Sr]?null:Se,A);(function Sa(l,u,h,_){const A=l[Kn];for(let G=0;G<u.length;G++){const re=u[G++],Se=u[G],_t=(re&Hs.APPEND_EAGERLY)===Hs.APPEND_EAGERLY,Nt=re>>>Hs.SHIFT;let zt=l[Nt];null===zt&&(zt=l[Nt]=(re&Hs.COMMENT)===Hs.COMMENT?A.createComment(Se):gh(A,Se)),_t&&null!==h&&Pd(A,h,zt,_,!1)}})(A,je.create,Nt,Se&&8&Se.type?A[Se.index]:null),fc(!0)}function W0(l,u,h){K0(l,u,h),function Y0(){fc(!1)}()}function Ks(l,u,h,_,A){if(l=V(l),Array.isArray(l))for(let G=0;G<l.length;G++)Ks(l[G],u,h,_,A);else{const G=ur(),re=$n();let Se=Mu(l)?l:V(l.provide),je=xv(l);const _t=zr(),Nt=1048575&_t.providerIndexes,zt=_t.directiveStart,gn=_t.providerIndexes>>20;if(Mu(l)||!l.multi){const xn=new Ja(je,A,Pc),Yn=Ig(Se,u,A?Nt:Nt+gn,zt);-1===Yn?(au(yc(_t,re),G,Se),Ff(G,l,u.length),u.push(Se),_t.directiveStart++,_t.directiveEnd++,A&&(_t.providerIndexes+=1048576),h.push(xn),re.push(xn)):(h[Yn]=xn,re[Yn]=xn)}else{const xn=Ig(Se,u,Nt+gn,zt),Yn=Ig(Se,u,Nt,Nt+gn),vi=Yn>=0&&h[Yn];if(A&&!vi||!A&&!(xn>=0&&h[xn])){au(yc(_t,re),G,Se);const Ai=function ZC(l,u,h,_,A){const G=new Ja(l,h,Pc);return G.multi=[],G.index=u,G.componentProviders=0,Ag(G,A,_&&!h),G}(A?zC:dm,h.length,A,_,je);!A&&vi&&(h[Yn].providerFactory=Ai),Ff(G,l,u.length,0),u.push(Se),_t.directiveStart++,_t.directiveEnd++,A&&(_t.providerIndexes+=1048576),h.push(Ai),re.push(Ai)}else Ff(G,l,xn>-1?xn:Yn,Ag(h[A?Yn:xn],je,!A&&_));!A&&_&&vi&&h[Yn].componentProviders++}}}function Ff(l,u,h,_){const A=Mu(u),G=function wT(l){return!!l.useClass}(u);if(A||G){const je=(G?V(u.useClass):u).prototype.ngOnDestroy;if(je){const _t=l.destroyHooks||(l.destroyHooks=[]);if(!A&&u.multi){const Nt=_t.indexOf(h);-1===Nt?_t.push(h,[_,je]):_t[Nt+1].push(_,je)}else _t.push(h,je)}}}function Ag(l,u,h){return h&&l.componentProviders++,l.multi.push(u)-1}function Ig(l,u,h,_){for(let A=h;A<_;A++)if(u[A]===l)return A;return-1}function dm(l,u,h,_){return um(this.multi,[])}function zC(l,u,h,_){const A=this.multi;let G;if(this.providerFactory){const re=this.providerFactory.componentProviders,Se=Tl(h,h[oi],this.providerFactory.index,_);G=Se.slice(0,re),um(A,G);for(let je=re;je<Se.length;je++)G.push(Se[je])}else G=[],um(A,G);return G}function um(l,u){for(let h=0;h<l.length;h++)u.push((0,l[h])());return u}function fm(l,u=[]){return h=>{h.providersResolver=(_,A)=>function Z0(l,u,h){const _=ur();if(_.firstCreatePass){const A=cr(l);Ks(h,_.data,_.blueprint,A,!0),Ks(u,_.data,_.blueprint,A,!1)}}(_,A?A(l):l,u)}}class Qd{}class wg{}function $C(l,u){return new Pg(l,u??null,[])}class Pg extends Qd{constructor(u,h,_){super(),this._parent=h,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gS(this);const A=_r(u);this._bootstrapComponents=cl(A.bootstrap),this._r3Injector=kp(u,h,[{provide:Qd,useValue:this},{provide:Tf,useValue:this.componentFactoryResolver},..._],y(u),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(u)}get injector(){return this._r3Injector}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class Ha extends wg{constructor(u){super(),this.moduleType=u}create(u){return new Pg(this.moduleType,u,[])}}class Og extends Qd{constructor(u){super(),this.componentFactoryResolver=new gS(this),this.instance=null;const h=new Cp([...u.providers,{provide:Qd,useValue:this},{provide:Tf,useValue:this.componentFactoryResolver}],u.parent||Sp(),u.debugName,new Set(["environment"]));this.injector=h,u.runEnvironmentInitializers&&h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(u){this.injector.onDestroy(u)}}function q0(l,u,h=null){return new Og({providers:l,parent:u,debugName:h,runEnvironmentInitializers:!0}).injector}let J0=(()=>{class l{constructor(h){this._injector=h,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(h){if(!h.standalone)return null;if(!this.cachedInjectors.has(h)){const _=Tv(0,h.type),A=_.length>0?q0([_],this._injector,`Standalone[${h.type.name}]`):null;this.cachedInjectors.set(h,A)}return this.cachedInjectors.get(h)}ngOnDestroy(){try{for(const h of this.cachedInjectors.values())null!==h&&h.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ne({token:l,providedIn:"environment",factory:()=>new l(Qe(Au))})}return l})();function Q0(l){l.getStandaloneInjector=u=>u.get(J0).getOrCreateStandaloneInjector(l)}function Uf(l,u,h){const _=fo()+l,A=$n();return A[_]===Xi?Ta(A,_,h?u.call(h):u()):function ec(l,u){return l[u]}(A,_)}function pm(l,u,h,_){return Ug($n(),fo(),l,u,h,_)}function tb(l,u,h,_,A){return rb($n(),fo(),l,u,h,_,A)}function nb(l,u,h,_,A,G){return function ob(l,u,h,_,A,G,re,Se){const je=u+h;return function zh(l,u,h,_,A){const G=Gd(l,u,h,_);return is(l,u+2,A)||G}(l,je,A,G,re)?Ta(l,je+3,Se?_.call(Se,A,G,re):_(A,G,re)):Xd(l,je+3)}($n(),fo(),l,u,h,_,A,G)}function Xd(l,u){const h=l[u];return h===Xi?void 0:h}function Ug(l,u,h,_,A,G){const re=u+h;return is(l,re,A)?Ta(l,re+1,G?_.call(G,A):_(A)):Xd(l,re+1)}function rb(l,u,h,_,A,G,re){const Se=u+h;return Gd(l,Se,A,G)?Ta(l,Se+2,re?_.call(re,A,G):_(A,G)):Xd(l,Se+2)}function jg(l,u){const h=ur();let _;const A=l+Gi;h.firstCreatePass?(_=function Vg(l,u){if(u)for(let h=u.length-1;h>=0;h--){const _=u[h];if(l===_.name)return _}}(u,h.pipeRegistry),h.data[A]=_,_.onDestroy&&(h.destroyHooks??=[]).push(A,_.onDestroy)):_=h.data[A];const G=_.factory||(_.factory=nt(_.type)),re=xe(Pc);try{const Se=Qa(!1),je=G();return Qa(Se),function nA(l,u,h,_){h>=l.data.length&&(l.data[h]=null,l.blueprint[h]=null),u[h]=_}(h,$n(),A,je),je}finally{xe(re)}}function Gg(l,u,h){const _=l+Gi,A=$n(),G=Xt(A,_);return Yu(A,_)?Ug(A,fo(),u,G.transform,h,G):G.transform(h)}function Hg(l,u,h,_){const A=l+Gi,G=$n(),re=Xt(G,A);return Yu(G,A)?rb(G,fo(),u,re.transform,h,_,re):re.transform(h,_)}function Yu(l,u){return l[oi].data[u].pure}function Yg(l){return u=>{setTimeout(l,void 0,u)}}const wl=class _m extends c.x{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,h,_){let A=u,G=h||(()=>null),re=_;if(u&&"object"==typeof u){const je=u;A=je.next?.bind(je),G=je.error?.bind(je),re=je.complete?.bind(je)}this.__isAsync&&(G=Yg(G),A&&(A=Yg(A)),re&&(re=Yg(re)));const Se=super.subscribe({next:A,error:G,complete:re});return u instanceof t.w0&&u.add(Se),Se}};function iD(){return this._results[Symbol.iterator]()}class rd{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new wl)}constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const h=rd.prototype;h[Symbol.iterator]||(h[Symbol.iterator]=iD)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,h){return this._results.reduce(u,h)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,h){const _=this;_.dirty=!1;const A=function Fs(l){return l.flat(Number.POSITIVE_INFINITY)}(u);(this._changesDetected=!function ga(l,u,h){if(l.length!==u.length)return!1;for(let _=0;_<l.length;_++){let A=l[_],G=u[_];if(h&&(A=h(A),G=h(G)),G!==A)return!1}return!0}(_._results,A,h))&&(_._results=A,_.length=A.length,_.last=A[this.length-1],_.first=A[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let eu=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=sD}return l})();const rD=eu,oD=class extends rD{constructor(u,h,_){super(),this._declarationLView=u,this._declarationTContainer=h,this.elementRef=_}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(u,h){return this.createEmbeddedViewImpl(u,h,null)}createEmbeddedViewImpl(u,h,_){const re=this._declarationTContainer.tView,Se=Lh(this._declarationLView,re,u,4096&this._declarationLView[Pi]?4096:16,null,re.declTNode,null,null,null,h||null,_||null);Se[fr]=this._declarationLView[this._declarationTContainer.index];const _t=this._declarationLView[Gr];return null!==_t&&(Se[Gr]=_t.createEmbeddedView(re)),Yp(re,Se,u),new jh(Se)}};function sD(){return os(zr(),$n())}function os(l,u){return 4&l.type?new oD(u,l,ll(l,u)):null}let tu=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=Wu}return l})();function Wu(){return oc(zr(),$n())}const ub=tu,fb=class extends ub{constructor(u,h,_){super(),this._lContainer=u,this._hostTNode=h,this._hostLView=_}get element(){return ll(this._hostTNode,this._hostLView)}get injector(){return new Yl(this._hostTNode,this._hostLView)}get parentInjector(){const u=el(this._hostTNode,this._hostLView);if(pd(u)){const h=vc(u,this._hostLView),_=Cs(u);return new Yl(h[oi].data[_+8],h)}return new Yl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const h=zg(this._lContainer);return null!==h&&h[u]||null}get length(){return this._lContainer.length-Li}createEmbeddedView(u,h,_){let A,G;"number"==typeof _?A=_:null!=_&&(A=_.index,G=_.injector);const Se=u.createEmbeddedViewImpl(h||{},G,null);return this.insertImpl(Se,A,false),Se}createComponent(u,h,_,A,G){const re=u&&!function pa(l){return"function"==typeof l}(u);let Se;if(re)Se=h;else{const ii=h||{};Se=ii.index,_=ii.injector,A=ii.projectableNodes,G=ii.environmentInjector||ii.ngModuleRef}const je=re?u:new Vh(Ii(u)),_t=_||this.parentInjector;if(!G&&null==je.ngModule){const vi=(re?_t:this.parentInjector).get(Au,null);vi&&(G=vi)}Ii(je.componentType??{});const xn=je.create(_t,A,null,G);return this.insertImpl(xn.hostView,Se,false),xn}insert(u,h){return this.insertImpl(u,h,!1)}insertImpl(u,h,_){const A=u._lView,G=A[oi];if(function Ar(l){return mr(l[qi])}(A)){const je=this.indexOf(u);if(-1!==je)this.detach(je);else{const _t=A[qi],Nt=new fb(_t,_t[Sr],_t[qi]);Nt.detach(Nt.indexOf(u))}}const re=this._adjustIndex(h),Se=this._lContainer;if(function ip(l,u,h,_){const A=Li+_,G=h.length;_>0&&(h[A-1][Nr]=u),_<G-Li?(u[Nr]=h[A],mu(h,Li+_,u)):(h.push(u),u[Nr]=null),u[qi]=h;const re=u[fr];null!==re&&h!==re&&function ZE(l,u){const h=l[bo];u[wi]!==u[qi][qi][wi]&&(l[vs]=!0),null===h?l[bo]=[u]:h.push(u)}(re,u);const Se=u[Gr];null!==Se&&Se.insertView(l),u[Pi]|=128}(G,A,Se,re),!_){const je=lp(re,Se),_t=A[Kn],Nt=_h(_t,Se[no]);null!==Nt&&function H_(l,u,h,_,A,G){_[lr]=A,_[Sr]=u,gf(l,_,h,1,A,G)}(G,Se[Sr],_t,A,Nt,je)}return u.attachToViewContainerRef(),mu(vm(Se),re,u),u}move(u,h){return this.insert(u,h)}indexOf(u){const h=zg(this._lContainer);return null!==h?h.indexOf(u):-1}remove(u){const h=this._adjustIndex(u,-1),_=rp(this._lContainer,h);_&&(Sd(vm(this._lContainer),h),z_(_[oi],_))}detach(u){const h=this._adjustIndex(u,-1),_=rp(this._lContainer,h);return _&&null!=Sd(vm(this._lContainer),h)?new jh(_):null}_adjustIndex(u,h=0){return u??this.length+h}};function zg(l){return l[8]}function vm(l){return l[8]||(l[8]=[])}function oc(l,u){let h;const _=u[l.index];return mr(_)?h=_:(h=aS(_,u,null,l),u[l.index]=h,Xr(u,h)),hb(h,u,l,_),new fb(h,l,u)}let hb=function mb(l,u,h,_){if(l[no])return;let A;A=8&h.type?Er(_):function dD(l,u){const h=l[Kn],_=h.createComment(""),A=It(u,l);return Pd(h,_h(h,A),_,function JE(l,u){return l.nextSibling(u)}(h,A),!1),_}(u,h),l[no]=A};class zu{constructor(u){this.queryList=u,this.matches=null}clone(){return new zu(this.queryList)}setDirty(){this.queryList.setDirty()}}class ym{constructor(u=[]){this.queries=u}createEmbeddedView(u){const h=u.queries;if(null!==h){const _=null!==u.contentQueries?u.contentQueries[0]:h.length,A=[];for(let G=0;G<_;G++){const re=h.getByIndex(G);A.push(this.queries[re.indexInDeclarationView].clone())}return new ym(A)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let h=0;h<this.queries.length;h++)null!==t_(u,h).matches&&this.queries[h].setDirty()}}class pb{constructor(u,h,_=null){this.predicate=u,this.flags=h,this.read=_}}class $g{constructor(u=[]){this.queries=u}elementStart(u,h){for(let _=0;_<this.queries.length;_++)this.queries[_].elementStart(u,h)}elementEnd(u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(u)}embeddedTView(u){let h=null;for(let _=0;_<this.length;_++){const A=null!==h?h.length:0,G=this.getByIndex(_).embeddedTView(u,A);G&&(G.indexInDeclarationView=_,null!==h?h.push(G):h=[G])}return null!==h?new $g(h):null}template(u,h){for(let _=0;_<this.queries.length;_++)this.queries[_].template(u,h)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class bm{constructor(u,h=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=h}elementStart(u,h){this.isApplyingToNode(h)&&this.matchTNode(u,h)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,h){this.elementStart(u,h)}embeddedTView(u,h){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,h),new bm(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const h=this._declarationNodeIndex;let _=u.parent;for(;null!==_&&8&_.type&&_.index!==h;)_=_.parent;return h===(null!==_?_.index:-1)}return this._appliesToNextNode}matchTNode(u,h){const _=this.metadata.predicate;if(Array.isArray(_))for(let A=0;A<_.length;A++){const G=_[A];this.matchTNodeWithReadOption(u,h,qg(h,G)),this.matchTNodeWithReadOption(u,h,Tc(h,u,G,!1,!1))}else _===eu?4&h.type&&this.matchTNodeWithReadOption(u,h,-1):this.matchTNodeWithReadOption(u,h,Tc(h,u,_,!1,!1))}matchTNodeWithReadOption(u,h,_){if(null!==_){const A=this.metadata.read;if(null!==A)if(A===Ld||A===tu||A===eu&&4&h.type)this.addMatch(h.index,-2);else{const G=Tc(h,u,A,!1,!1);null!==G&&this.addMatch(h.index,G)}else this.addMatch(h.index,_)}}addMatch(u,h){null===this.matches?this.matches=[u,h]:this.matches.push(u,h)}}function qg(l,u){const h=l.localNames;if(null!==h)for(let _=0;_<h.length;_+=2)if(h[_]===u)return h[_+1];return null}function fD(l,u,h,_){return-1===h?function uD(l,u){return 11&l.type?ll(l,u):4&l.type?os(l,u):null}(u,l):-2===h?function hD(l,u,h){return h===Ld?ll(u,l):h===eu?os(u,l):h===tu?oc(u,l):void 0}(l,u,_):Tl(l,l[oi],h,u)}function Jg(l,u,h,_){const A=u[Gr].queries[_];if(null===A.matches){const G=l.data,re=h.matches,Se=[];for(let je=0;je<re.length;je+=2){const _t=re[je];Se.push(_t<0?null:fD(u,G[_t],re[je+1],h.metadata.read))}A.matches=Se}return A.matches}function Qg(l,u,h,_){const A=l.queries.getByIndex(h),G=A.matches;if(null!==G){const re=Jg(l,u,A,h);for(let Se=0;Se<G.length;Se+=2){const je=G[Se];if(je>0)_.push(re[Se/2]);else{const _t=G[Se+1],Nt=u[-je];for(let zt=Li;zt<Nt.length;zt++){const gn=Nt[zt];gn[fr]===gn[qi]&&Qg(gn[oi],gn,_t,_)}if(null!==Nt[bo]){const zt=Nt[bo];for(let gn=0;gn<zt.length;gn++){const xn=zt[gn];Qg(xn[oi],xn,_t,_)}}}}}return _}function gb(l){const u=$n(),h=ur(),_=hc();ka(_+1);const A=t_(h,_);if(l.dirty&&function Hn(l){return 4==(4&l[Pi])}(u)===(2==(2&A.metadata.flags))){if(null===A.matches)l.reset([]);else{const G=A.crossesNgTemplate?Qg(h,u,_,[]):Jg(h,u,A,_);l.reset(G,sM),l.notifyOnChanges()}return!0}return!1}function _b(l,u,h){const _=ur();_.firstCreatePass&&(ei(_,new pb(l,u,h),-1),2==(2&u)&&(_.staticViewQueries=!0)),bb(_,$n(),u)}function vb(l,u,h,_){const A=ur();if(A.firstCreatePass){const G=zr();ei(A,new pb(u,h,_),G.index),function e_(l,u){const h=l.contentQueries||(l.contentQueries=[]);u!==(h.length?h[h.length-1]:-1)&&h.push(l.queries.length-1,u)}(A,l),2==(2&h)&&(A.staticContentQueries=!0)}bb(A,$n(),h)}function yb(){return function Xg(l,u){return l[Gr].queries[u].queryList}($n(),hc())}function bb(l,u,h){const _=new rd(4==(4&h));(function Xv(l,u,h,_){const A=Fh(u);A.push(h),l.firstCreatePass&&sy(l).push(_,A.length-1)})(l,u,_,_.destroy),null===u[Gr]&&(u[Gr]=new ym),u[Gr].queries.push(new zu(_))}function ei(l,u,h){null===l.queries&&(l.queries=new $g),l.queries.track(new bm(u,h))}function t_(l,u){return l.queries.getByIndex(u)}function Eb(l,u){return os(l,u)}function n_(l){return!!_r(l)}const c_=new Br("Application Initializer");let Mm=(()=>{class l{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,_)=>{this.resolve=h,this.reject=_}),this.appInits=Pe(c_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const h=[];for(const A of this.appInits){const G=A();if(rg(G))h.push(G);else if(BS(G)){const re=new Promise((Se,je)=>{G.subscribe({complete:Se,error:je})});h.push(re)}}const _=()=>{this.done=!0,this.resolve()};Promise.all(h).then(()=>{_()}).catch(A=>{this.reject(A)}),0===h.length&&_(),this.initialized=!0}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Lb=(()=>{class l{log(h){console.log(h)}warn(h){console.warn(h)}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})();const Am=new Br("LocaleId",{providedIn:"root",factory:()=>Pe(Am,ue.Optional|ue.SkipSelf)||function ID(){return typeof $localize<"u"&&$localize.locale||Rt}()}),kb=new Br("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Ub=(()=>{class l{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new b.X(!1)}add(){this.hasPendingTasks.next(!0);const h=this.taskId++;return this.pendingTasks.add(h),h}remove(h){this.pendingTasks.delete(h),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();class d_{constructor(u,h){this.ngModuleFactory=u,this.componentFactories=h}}let Im=(()=>{class l{compileModuleSync(h){return new Ha(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const _=this.compileModuleSync(h),G=cl(_r(h).declarations).reduce((re,Se)=>{const je=Ii(Se);return je&&re.push(new Vh(je)),re},[]);return new d_(_,G)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function Hb(...l){}class sa{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:h=!1,shouldCoalesceRunChangeDetection:_=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wl(!1),this.onMicrotaskEmpty=new wl(!1),this.onStable=new wl(!1),this.onError=new wl(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const A=this;A._nesting=0,A._outer=A._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(A._inner=A._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(A._inner=A._inner.fork(Zone.longStackTraceZoneSpec)),A.shouldCoalesceEventChangeDetection=!_&&h,A.shouldCoalesceRunChangeDetection=_,A.lastRequestAnimationFrameId=-1,A.nativeRequestAnimationFrame=function u_(){const l="function"==typeof lt.requestAnimationFrame;let u=lt[l?"requestAnimationFrame":"setTimeout"],h=lt[l?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&u&&h){const _=u[Zone.__symbol__("OriginalDelegate")];_&&(u=_);const A=h[Zone.__symbol__("OriginalDelegate")];A&&(h=A)}return{nativeRequestAnimationFrame:u,nativeCancelAnimationFrame:h}}().nativeRequestAnimationFrame,function Xu(l){const u=()=>{!function OD(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(lt,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,h_(l),l.isCheckStableRunning=!0,f_(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),h_(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(h,_,A,G,re,Se)=>{try{return Kb(l),h.invokeTask(A,G,re,Se)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===G.type||l.shouldCoalesceRunChangeDetection)&&u(),m_(l)}},onInvoke:(h,_,A,G,re,Se,je)=>{try{return Kb(l),h.invoke(A,G,re,Se,je)}finally{l.shouldCoalesceRunChangeDetection&&u(),m_(l)}},onHasTask:(h,_,A,G)=>{h.hasTask(A,G),_===A&&("microTask"==G.change?(l._hasPendingMicrotasks=G.microTask,h_(l),f_(l)):"macroTask"==G.change&&(l.hasPendingMacrotasks=G.macroTask))},onHandleError:(h,_,A,G)=>(h.handleError(A,G),l.runOutsideAngular(()=>l.onError.emit(G)),!1)})}(A)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sa.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(sa.isInAngularZone())throw new T(909,!1)}run(u,h,_){return this._inner.run(u,h,_)}runTask(u,h,_,A){const G=this._inner,re=G.scheduleEventTask("NgZoneEvent: "+A,u,PD,Hb,Hb);try{return G.runTask(re,h,_)}finally{G.cancelTask(re)}}runGuarded(u,h,_){return this._inner.runGuarded(u,h,_)}runOutsideAngular(u){return this._outer.run(u)}}const PD={};function f_(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function h_(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function Kb(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function m_(l){l._nesting--,f_(l)}class RD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wl,this.onMicrotaskEmpty=new wl,this.onStable=new wl,this.onError=new wl}run(u,h,_){return u.apply(h,_)}runGuarded(u,h,_){return u.apply(h,_)}runOutsideAngular(u){return u()}runTask(u,h,_,A){return u.apply(h,_)}}const p_=new Br("",{providedIn:"root",factory:Yb});function Yb(){const l=Pe(sa);let u=!0;const h=new w.y(A=>{u=l.isStable&&!l.hasPendingMacrotasks&&!l.hasPendingMicrotasks,l.runOutsideAngular(()=>{A.next(u),A.complete()})}),_=new w.y(A=>{let G;l.runOutsideAngular(()=>{G=l.onStable.subscribe(()=>{sa.assertNotInAngularZone(),queueMicrotask(()=>{!u&&!l.hasPendingMacrotasks&&!l.hasPendingMicrotasks&&(u=!0,A.next(!0))})})});const re=l.onUnstable.subscribe(()=>{sa.assertInAngularZone(),u&&(u=!1,l.runOutsideAngular(()=>{A.next(!1)}))});return()=>{G.unsubscribe(),re.unsubscribe()}});return(0,E.T)(h,_.pipe((0,L.B)()))}const Wb=new Br(""),g_=new Br("");let v_,ND=(()=>{class l{constructor(h,_,A){this._ngZone=h,this.registry=_,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,v_||(function LD(l){v_=l}(A),A.addToWindow(_)),this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sa.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(_=>!_.updateCb||!_.updateCb(h)||(clearTimeout(_.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,_,A){let G=-1;_&&_>0&&(G=setTimeout(()=>{this._callbacks=this._callbacks.filter(re=>re.timeoutId!==G),h(this._didWork,this.getPendingTasks())},_)),this._callbacks.push({doneCb:h,timeoutId:G,updateCb:A})}whenStable(h,_,A){if(A&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,_,A),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(h){this.registry.registerApplication(h,this)}unregisterApplication(h){this.registry.unregisterApplication(h)}findProviders(h,_,A){return[]}static#e=this.\u0275fac=function(_){return new(_||l)(Qe(sa),Qe(__),Qe(g_))};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac})}return l})(),__=(()=>{class l{constructor(){this._applications=new Map}registerApplication(h,_){this._applications.set(h,_)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,_=!0){return v_?.findTestabilityInTree(this,h,_)??null}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})(),sd=null;const Pm=new Br("AllowMultipleToken"),y_=new Br("PlatformDestroyListeners"),Om=new Br("appBootstrapListener");class Ol{constructor(u,h){this.name=u,this.token=h}}function qb(l,u,h=[]){const _=`Platform: ${u}`,A=new Br(_);return(G=[])=>{let re=Rm();if(!re||re.injector.get(Pm,!1)){const Se=[...h,...G,{provide:A,useValue:!0}];l?l(Se):function Bc(l){if(sd&&!sd.get(Pm,!1))throw new T(400,!1);(function b_(){!function pl(l){ml=l}(()=>{throw new T(600,!1)})})(),sd=l;const u=l.get(Qb);(function $b(l){l.get(RT,null)?.forEach(h=>h())})(l)}(function Jb(l=[],u){return Xl.create({name:u,providers:[{provide:Cv,useValue:"platform"},{provide:y_,useValue:new Set([()=>sd=null])},...l]})}(Se,_))}return function FD(l){const u=Rm();if(!u)throw new T(401,!1);return u}()}}function Rm(){return sd?.get(Qb)??null}let Qb=(()=>{class l{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,_){const A=function E_(l="zone.js",u){return"noop"===l?new RD:"zone.js"===l?new sa(u):l}(_?.ngZone,function Xb(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:l?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:l?.runCoalescing??!1}}({eventCoalescing:_?.ngZoneEventCoalescing,runCoalescing:_?.ngZoneRunCoalescing}));return A.run(()=>{const G=function $0(l,u,h){return new Pg(l,u,h)}(h.moduleType,this.injector,function eE(l){return[{provide:sa,useFactory:l},{provide:Rd,multi:!0,useFactory:()=>{const u=Pe(BD,{optional:!0});return()=>u.initialize()}},{provide:Zf,useFactory:D_},{provide:p_,useFactory:Yb}]}(()=>A)),re=G.injector.get(Cf,null);return A.runOutsideAngular(()=>{const Se=A.onError.subscribe({next:je=>{re.handleError(je)}});G.onDestroy(()=>{zf(this._modules,G),Se.unsubscribe()})}),function T_(l,u,h){try{const _=h();return rg(_)?_.catch(A=>{throw u.runOutsideAngular(()=>l.handleError(A)),A}):_}catch(_){throw u.runOutsideAngular(()=>l.handleError(_)),_}}(re,A,()=>{const Se=G.injector.get(Mm);return Se.runInitializers(),Se.donePromise.then(()=>(T0(G.injector.get(Am,Rt)||Rt),this._moduleDoBootstrap(G),G))})})}bootstrapModule(h,_=[]){const A=S_({},_);return function zb(l,u,h){const _=new Ha(h);return Promise.resolve(_)}(0,0,h).then(G=>this.bootstrapModuleFactory(G,A))}_moduleDoBootstrap(h){const _=h.injector.get(Rl);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(A=>_.bootstrap(A));else{if(!h.instance.ngDoBootstrap)throw new T(-403,!1);h.instance.ngDoBootstrap(_)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(_=>_.destroy()),this._destroyListeners.forEach(_=>_());const h=this._injector.get(y_,null);h&&(h.forEach(_=>_()),h.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(_){return new(_||l)(Qe(Xl))};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})();function S_(l,u){return Array.isArray(u)?u.reduce(S_,l):{...l,...u}}let Rl=(()=>{class l{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Pe(Zf),this.zoneIsStable=Pe(p_),this.componentTypes=[],this.components=[],this.isStable=Pe(Ub).hasPendingTasks.pipe((0,D.w)(h=>h?(0,F.of)(!1):this.zoneIsStable),(0,p.x)(),(0,L.B)()),this._injector=Pe(Au)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(h,_){const A=h instanceof wp;if(!this._injector.get(Mm).done)throw!A&&to(h),new T(405,!1);let re;re=A?h:this._injector.get(Tf).resolveComponentFactory(h),this.componentTypes.push(re.componentType);const Se=function Zb(l){return l.isBoundToModule}(re)?void 0:this._injector.get(Qd),_t=re.create(Xl.NULL,[],_||re.selector,Se),Nt=_t.location.nativeElement,zt=_t.injector.get(Wb,null);return zt?.registerApplication(Nt),_t.onDestroy(()=>{this.detachView(_t.hostView),zf(this.components,_t),zt?.unregisterApplication(Nt)}),this._loadComponent(_t),_t}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this.internalErrorHandler(h)}finally{this._runningTick=!1}}attachView(h){const _=h;this._views.push(_),_.attachToAppRef(this)}detachView(h){const _=h;zf(this._views,_),_.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h);const _=this._injector.get(Om,[]);_.push(...this._bootstrapListeners),_.forEach(A=>A(h))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(h=>h()),this._views.slice().forEach(h=>h.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(h){return this._destroyListeners.push(h),()=>zf(this._destroyListeners,h)}destroy(){if(this._destroyed)throw new T(406,!1);const h=this._injector;h.destroy&&!h.destroyed&&h.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function zf(l,u){const h=l.indexOf(u);h>-1&&l.splice(h,1)}const Zf=new Br("",{providedIn:"root",factory:()=>Pe(Cf).handleError.bind(void 0)});function D_(){const l=Pe(sa),u=Pe(Cf);return h=>l.runOutsideAngular(()=>u.handleError(h))}let BD=(()=>{class l{constructor(){this.zone=Pe(sa),this.applicationRef=Pe(Rl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ne({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function x_(){return!1}function Nm(){}let VD=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=M_}return l})();function M_(l){return function GD(l,u,h){if(Yr(l)&&!h){const _=An(l.index,u);return new jh(_,_)}return 47&l.type?new jh(u[wi],u):null}(zr(),$n(),16==(16&l))}class cE{constructor(){}supports(u){return Yh(u)}create(u){return new P_(u)}}const dE=(l,u)=>u;class P_{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||dE}forEachItem(u){let h;for(h=this._itHead;null!==h;h=h._next)u(h)}forEachOperation(u){let h=this._itHead,_=this._removalsHead,A=0,G=null;for(;h||_;){const re=!_||h&&h.currentIndex<Ya(_,A,G)?h:_,Se=Ya(re,A,G),je=re.currentIndex;if(re===_)A--,_=_._nextRemoved;else if(h=h._next,null==re.previousIndex)A++;else{G||(G=[]);const _t=Se-A,Nt=je-A;if(_t!=Nt){for(let gn=0;gn<_t;gn++){const xn=gn<G.length?G[gn]:G[gn]=0,Yn=xn+gn;Nt<=Yn&&Yn<_t&&(G[gn]=xn+1)}G[re.previousIndex]=Nt-_t}}Se!==je&&u(re,Se,je)}}forEachPreviousItem(u){let h;for(h=this._previousItHead;null!==h;h=h._nextPrevious)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachMovedItem(u){let h;for(h=this._movesHead;null!==h;h=h._nextMoved)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}forEachIdentityChange(u){let h;for(h=this._identityChangesHead;null!==h;h=h._nextIdentityChange)u(h)}diff(u){if(null==u&&(u=[]),!Yh(u))throw new T(900,!1);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let A,G,re,h=this._itHead,_=!1;if(Array.isArray(u)){this.length=u.length;for(let Se=0;Se<this.length;Se++)G=u[Se],re=this._trackByFn(Se,G),null!==h&&Object.is(h.trackById,re)?(_&&(h=this._verifyReinsertion(h,G,re,Se)),Object.is(h.item,G)||this._addIdentityChange(h,G)):(h=this._mismatch(h,G,re,Se),_=!0),h=h._next}else A=0,function CS(l,u){if(Array.isArray(l))for(let h=0;h<l.length;h++)u(l[h]);else{const h=l[Symbol.iterator]();let _;for(;!(_=h.next()).done;)u(_.value)}}(u,Se=>{re=this._trackByFn(A,Se),null!==h&&Object.is(h.trackById,re)?(_&&(h=this._verifyReinsertion(h,Se,re,A)),Object.is(h.item,Se)||this._addIdentityChange(h,Se)):(h=this._mismatch(h,Se,re,A),_=!0),h=h._next,A++}),this.length=A;return this._truncate(h),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,h,_,A){let G;return null===u?G=this._itTail:(G=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._reinsertAfter(u,G,A)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(_,A))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._moveAfter(u,G,A)):u=this._addAfter(new KD(h,_),G,A),u}_verifyReinsertion(u,h,_,A){let G=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null);return null!==G?u=this._reinsertAfter(G,u._prev,A):u.currentIndex!=A&&(u.currentIndex=A,this._addToMoves(u,A)),u}_truncate(u){for(;null!==u;){const h=u._next;this._addToRemovals(this._unlink(u)),u=h}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,h,_){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const A=u._prevRemoved,G=u._nextRemoved;return null===A?this._removalsHead=G:A._nextRemoved=G,null===G?this._removalsTail=A:G._prevRemoved=A,this._insertAfter(u,h,_),this._addToMoves(u,_),u}_moveAfter(u,h,_){return this._unlink(u),this._insertAfter(u,h,_),this._addToMoves(u,_),u}_addAfter(u,h,_){return this._insertAfter(u,h,_),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,h,_){const A=null===h?this._itHead:h._next;return u._next=A,u._prev=h,null===A?this._itTail=u:A._prev=u,null===h?this._itHead=u:h._next=u,null===this._linkedRecords&&(this._linkedRecords=new uE),this._linkedRecords.put(u),u.currentIndex=_,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const h=u._prev,_=u._next;return null===h?this._itHead=_:h._next=_,null===_?this._itTail=h:_._prev=h,u}_addToMoves(u,h){return u.previousIndex===h||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uE),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,h){return u.item=h,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class KD{constructor(u,h){this.item=u,this.trackById=h,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Bm{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,h){let _;for(_=this._head;null!==_;_=_._nextDup)if((null===h||h<=_.currentIndex)&&Object.is(_.trackById,u))return _;return null}remove(u){const h=u._prevDup,_=u._nextDup;return null===h?this._head=_:h._nextDup=_,null===_?this._tail=h:_._prevDup=h,null===this._head}}class uE{constructor(){this.map=new Map}put(u){const h=u.trackById;let _=this.map.get(h);_||(_=new Bm,this.map.set(h,_)),_.add(u)}get(u,h){const A=this.map.get(u);return A?A.get(u,h):null}remove(u){const h=u.trackById;return this.map.get(h).remove(u)&&this.map.delete(h),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ya(l,u,h){const _=l.previousIndex;if(null===_)return _;let A=0;return h&&_<h.length&&(A=h[_]),_+u+A}class fE{constructor(){}supports(u){return u instanceof Map||Wh(u)}create(){return new Da}}class Da{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let h;for(h=this._mapHead;null!==h;h=h._next)u(h)}forEachPreviousItem(u){let h;for(h=this._previousMapHead;null!==h;h=h._nextPrevious)u(h)}forEachChangedItem(u){let h;for(h=this._changesHead;null!==h;h=h._nextChanged)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}diff(u){if(u){if(!(u instanceof Map||Wh(u)))throw new T(900,!1)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let h=this._mapHead;if(this._appendAfter=null,this._forEach(u,(_,A)=>{if(h&&h.key===A)this._maybeAddToChanges(h,_),this._appendAfter=h,h=h._next;else{const G=this._getOrCreateRecordForKey(A,_);h=this._insertBeforeOrAppend(h,G)}}),h){h._prev&&(h._prev._next=null),this._removalsHead=h;for(let _=h;null!==_;_=_._nextRemoved)_===this._mapHead&&(this._mapHead=null),this._records.delete(_.key),_._nextRemoved=_._next,_.previousValue=_.currentValue,_.currentValue=null,_._prev=null,_._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,h){if(u){const _=u._prev;return h._next=u,h._prev=_,u._prev=h,_&&(_._next=h),u===this._mapHead&&(this._mapHead=h),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=h,h._prev=this._appendAfter):this._mapHead=h,this._appendAfter=h,null}_getOrCreateRecordForKey(u,h){if(this._records.has(u)){const A=this._records.get(u);this._maybeAddToChanges(A,h);const G=A._prev,re=A._next;return G&&(G._next=re),re&&(re._prev=G),A._next=null,A._prev=null,A}const _=new YD(u);return this._records.set(u,_),_.currentValue=h,this._addToAdditions(_),_}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,h){Object.is(h,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=h,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,h){u instanceof Map?u.forEach(h):Object.keys(u).forEach(_=>h(u[_],_))}}class YD{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function jc(){return new O_([new cE])}let O_=(()=>{class l{static#e=this.\u0275prov=Ne({token:l,providedIn:"root",factory:jc});constructor(h){this.factories=h}static create(h,_){if(null!=_){const A=_.factories.slice();h=h.concat(A)}return new l(h)}static extend(h){return{provide:l,useFactory:_=>l.create(h,_||jc()),deps:[[l,new Ko,new Ua]]}}find(h){const _=this.factories.find(A=>A.supports(h));if(null!=_)return _;throw new T(901,!1)}}return l})();function R_(){return new Um([new fE])}let Um=(()=>{class l{static#e=this.\u0275prov=Ne({token:l,providedIn:"root",factory:R_});constructor(h){this.factories=h}static create(h,_){if(_){const A=_.factories.slice();h=h.concat(A)}return new l(h)}static extend(h){return{provide:l,useFactory:_=>l.create(h,_||R_()),deps:[[l,new Ko,new Ua]]}}find(h){const _=this.factories.find(A=>A.supports(h));if(_)return _;throw new T(901,!1)}}return l})();const mE=qb(null,"core",[]);let zD=(()=>{class l{constructor(h){}static#e=this.\u0275fac=function(_){return new(_||l)(Qe(Rl))};static#t=this.\u0275mod=hr({type:l});static#n=this.\u0275inj=W({})}return l})();function nx(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}function ix(l,u){const h=Ii(l),_=u.elementInjector||Sp();return new Vh(h).create(_,u.projectableNodes,u.hostElement,u.environmentInjector)}function rx(l){const u=Ii(l);if(!u)return null;const h=new Vh(u);return{get selector(){return h.selector},get type(){return h.componentType},get inputs(){return h.inputs},get outputs(){return h.outputs},get ngContentSelectors(){return h.ngContentSelectors},get isStandalone(){return u.standalone},get isSignal(){return u.signals}}}},95:(Bn,tt,S)=>{"use strict";S.d(tt,{Zs:()=>jo,Fj:()=>T,qu:()=>Ma,NI:()=>hr,u:()=>ro,sg:()=>mi,u5:()=>dr,Cf:()=>B,JU:()=>R,a5:()=>ie,JJ:()=>ve,JL:()=>de,F:()=>ar,On:()=>jr,YN:()=>Lr,wV:()=>lr,UX:()=>mn,EJ:()=>Mo,kI:()=>le,_Y:()=>Kr,Kr:()=>jn});var c=S(5879),t=S(6814),b=S(2459),w=S(5592),E=S(7453),F=S(4829),L=S(9940),D=S(8251),p=S(7400),f=S(2714),y=S(7398);let M=(()=>{class nt{constructor(qe,At){this._renderer=qe,this._elementRef=At,this.onChange=on=>{},this.onTouched=()=>{}}setProperty(qe,At){this._renderer.setProperty(this._elementRef.nativeElement,qe,At)}registerOnTouched(qe){this.onTouched=qe}registerOnChange(qe){this.onChange=qe}setDisabledState(qe){this.setProperty("disabled",qe)}static#e=this.\u0275fac=function(At){return new(At||nt)(c.Y36(c.Qsj),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:nt})}return nt})(),U=(()=>{class nt extends M{static#e=this.\u0275fac=function(){let qe;return function(on){return(qe||(qe=c.n5z(nt)))(on||nt)}}();static#t=this.\u0275dir=c.lG2({type:nt,features:[c.qOj]})}return nt})();const R=new c.OlP("NgValueAccessor"),O={provide:R,useExisting:(0,c.Gpc)(()=>T),multi:!0},P=new c.OlP("CompositionEventMode");let T=(()=>{class nt extends M{constructor(qe,At,on){super(qe,At),this._compositionMode=on,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function x(){const nt=(0,t.q)()?(0,t.q)().getUserAgent():"";return/android (\d+)/.test(nt.toLowerCase())}())}writeValue(qe){this.setProperty("value",qe??"")}_handleInput(qe){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(qe)}_compositionStart(){this._composing=!0}_compositionEnd(qe){this._composing=!1,this._compositionMode&&this.onChange(qe)}static#e=this.\u0275fac=function(At){return new(At||nt)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(P,8))};static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(At,on){1&At&&c.NdJ("input",function(Ri){return on._handleInput(Ri.target.value)})("blur",function(){return on.onTouched()})("compositionstart",function(){return on._compositionStart()})("compositionend",function(Ri){return on._compositionEnd(Ri.target.value)})},features:[c._Bn([O]),c.qOj]})}return nt})();function N(nt){return null==nt||("string"==typeof nt||Array.isArray(nt))&&0===nt.length}function C(nt){return null!=nt&&"number"==typeof nt.length}const B=new c.OlP("NgValidators"),Y=new c.OlP("NgAsyncValidators"),q=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class le{static min(ht){return function Fe(nt){return ht=>{if(N(ht.value)||N(nt))return null;const qe=parseFloat(ht.value);return!isNaN(qe)&&qe<nt?{min:{min:nt,actual:ht.value}}:null}}(ht)}static max(ht){return function $(nt){return ht=>{if(N(ht.value)||N(nt))return null;const qe=parseFloat(ht.value);return!isNaN(qe)&&qe>nt?{max:{max:nt,actual:ht.value}}:null}}(ht)}static required(ht){return ae(ht)}static requiredTrue(ht){return K(ht)}static email(ht){return function ge(nt){return N(nt.value)||q.test(nt.value)?null:{email:!0}}(ht)}static minLength(ht){return function oe(nt){return ht=>N(ht.value)||!C(ht.value)?null:ht.value.length<nt?{minlength:{requiredLength:nt,actualLength:ht.value.length}}:null}(ht)}static maxLength(ht){return function he(nt){return ht=>C(ht.value)&&ht.value.length>nt?{maxlength:{requiredLength:nt,actualLength:ht.value.length}}:null}(ht)}static pattern(ht){return function Ce(nt){if(!nt)return Le;let ht,qe;return"string"==typeof nt?(qe="","^"!==nt.charAt(0)&&(qe+="^"),qe+=nt,"$"!==nt.charAt(nt.length-1)&&(qe+="$"),ht=new RegExp(qe)):(qe=nt.toString(),ht=nt),At=>{if(N(At.value))return null;const on=At.value;return ht.test(on)?null:{pattern:{requiredPattern:qe,actualValue:on}}}}(ht)}static nullValidator(ht){return null}static compose(ht){return we(ht)}static composeAsync(ht){return at(ht)}}function ae(nt){return N(nt.value)?{required:!0}:null}function K(nt){return!0===nt.value?null:{required:!0}}function Le(nt){return null}function fe(nt){return null!=nt}function Re(nt){return(0,c.QGY)(nt)?(0,b.D)(nt):nt}function Ae(nt){let ht={};return nt.forEach(qe=>{ht=null!=qe?{...ht,...qe}:ht}),0===Object.keys(ht).length?null:ht}function pe(nt,ht){return ht.map(qe=>qe(nt))}function ke(nt){return nt.map(ht=>function Ue(nt){return!nt.validate}(ht)?ht:qe=>ht.validate(qe))}function we(nt){if(!nt)return null;const ht=nt.filter(fe);return 0==ht.length?null:function(qe){return Ae(pe(qe,ht))}}function He(nt){return null!=nt?we(ke(nt)):null}function at(nt){if(!nt)return null;const ht=nt.filter(fe);return 0==ht.length?null:function(qe){return function g(...nt){const ht=(0,L.jO)(nt),{args:qe,keys:At}=(0,E.D)(nt),on=new w.y(ci=>{const{length:Ri}=qe;if(!Ri)return void ci.complete();const Qi=new Array(Ri);let Vo=Ri,qo=Ri;for(let Wr=0;Wr<Ri;Wr++){let Es=!1;(0,F.Xf)(qe[Wr]).subscribe((0,D.x)(ci,vr=>{Es||(Es=!0,qo--),Qi[Wr]=vr},()=>Vo--,void 0,()=>{(!Vo||!Es)&&(qo||ci.next(At?(0,f.n)(At,Qi):Qi),ci.complete())}))}});return ht?on.pipe((0,p.Z)(ht)):on}(pe(qe,ht).map(Re)).pipe((0,y.U)(Ae))}}function Je(nt){return null!=nt?at(ke(nt)):null}function Ne(nt,ht){return null===nt?[ht]:Array.isArray(nt)?[...nt,ht]:[nt,ht]}function Te(nt){return nt._rawValidators}function W(nt){return nt._rawAsyncValidators}function se(nt){return nt?Array.isArray(nt)?nt:[nt]:[]}function _e(nt,ht){return Array.isArray(nt)?nt.includes(ht):nt===ht}function J(nt,ht){const qe=se(ht);return se(nt).forEach(on=>{_e(qe,on)||qe.push(on)}),qe}function Q(nt,ht){return se(ht).filter(qe=>!_e(nt,qe))}class Z{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ht){this._rawValidators=ht||[],this._composedValidatorFn=He(this._rawValidators)}_setAsyncValidators(ht){this._rawAsyncValidators=ht||[],this._composedAsyncValidatorFn=Je(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ht){this._onDestroyCallbacks.push(ht)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ht=>ht()),this._onDestroyCallbacks=[]}reset(ht=void 0){this.control&&this.control.reset(ht)}hasError(ht,qe){return!!this.control&&this.control.hasError(ht,qe)}getError(ht,qe){return this.control?this.control.getError(ht,qe):null}}class ne extends Z{get formDirective(){return null}get path(){return null}}class ie extends Z{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ee{constructor(ht){this._cd=ht}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ve=(()=>{class nt extends ee{constructor(qe){super(qe)}static#e=this.\u0275fac=function(At){return new(At||nt)(c.Y36(ie,2))};static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(At,on){2&At&&c.ekj("ng-untouched",on.isUntouched)("ng-touched",on.isTouched)("ng-pristine",on.isPristine)("ng-dirty",on.isDirty)("ng-valid",on.isValid)("ng-invalid",on.isInvalid)("ng-pending",on.isPending)},features:[c.qOj]})}return nt})(),de=(()=>{class nt extends ee{constructor(qe){super(qe)}static#e=this.\u0275fac=function(At){return new(At||nt)(c.Y36(ne,10))};static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(At,on){2&At&&c.ekj("ng-untouched",on.isUntouched)("ng-touched",on.isTouched)("ng-pristine",on.isPristine)("ng-dirty",on.isDirty)("ng-valid",on.isValid)("ng-invalid",on.isInvalid)("ng-pending",on.isPending)("ng-submitted",on.isSubmitted)},features:[c.qOj]})}return nt})();const mt="VALID",Qe="INVALID",De="PENDING",Pe="DISABLED";function Ye(nt){return(ut(nt)?nt.validators:nt)||null}function ct(nt,ht){return(ut(ht)?ht.asyncValidators:nt)||null}function ut(nt){return null!=nt&&!Array.isArray(nt)&&"object"==typeof nt}function kt(nt,ht,qe){const At=nt.controls;if(!(ht?Object.keys(At):At).length)throw new c.vHH(1e3,"");if(!At[qe])throw new c.vHH(1001,"")}function $t(nt,ht,qe){nt._forEachChild((At,on)=>{if(void 0===qe[on])throw new c.vHH(1002,"")})}class Lt{constructor(ht,qe){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ht),this._assignAsyncValidators(qe)}get validator(){return this._composedValidatorFn}set validator(ht){this._rawValidators=this._composedValidatorFn=ht}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ht){this._rawAsyncValidators=this._composedAsyncValidatorFn=ht}get parent(){return this._parent}get valid(){return this.status===mt}get invalid(){return this.status===Qe}get pending(){return this.status==De}get disabled(){return this.status===Pe}get enabled(){return this.status!==Pe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ht){this._assignValidators(ht)}setAsyncValidators(ht){this._assignAsyncValidators(ht)}addValidators(ht){this.setValidators(J(ht,this._rawValidators))}addAsyncValidators(ht){this.setAsyncValidators(J(ht,this._rawAsyncValidators))}removeValidators(ht){this.setValidators(Q(ht,this._rawValidators))}removeAsyncValidators(ht){this.setAsyncValidators(Q(ht,this._rawAsyncValidators))}hasValidator(ht){return _e(this._rawValidators,ht)}hasAsyncValidator(ht){return _e(this._rawAsyncValidators,ht)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ht={}){this.touched=!0,this._parent&&!ht.onlySelf&&this._parent.markAsTouched(ht)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ht=>ht.markAllAsTouched())}markAsUntouched(ht={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(qe=>{qe.markAsUntouched({onlySelf:!0})}),this._parent&&!ht.onlySelf&&this._parent._updateTouched(ht)}markAsDirty(ht={}){this.pristine=!1,this._parent&&!ht.onlySelf&&this._parent.markAsDirty(ht)}markAsPristine(ht={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(qe=>{qe.markAsPristine({onlySelf:!0})}),this._parent&&!ht.onlySelf&&this._parent._updatePristine(ht)}markAsPending(ht={}){this.status=De,!1!==ht.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ht.onlySelf&&this._parent.markAsPending(ht)}disable(ht={}){const qe=this._parentMarkedDirty(ht.onlySelf);this.status=Pe,this.errors=null,this._forEachChild(At=>{At.disable({...ht,onlySelf:!0})}),this._updateValue(),!1!==ht.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ht,skipPristineCheck:qe}),this._onDisabledChange.forEach(At=>At(!0))}enable(ht={}){const qe=this._parentMarkedDirty(ht.onlySelf);this.status=mt,this._forEachChild(At=>{At.enable({...ht,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ht.emitEvent}),this._updateAncestors({...ht,skipPristineCheck:qe}),this._onDisabledChange.forEach(At=>At(!1))}_updateAncestors(ht){this._parent&&!ht.onlySelf&&(this._parent.updateValueAndValidity(ht),ht.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ht){this._parent=ht}getRawValue(){return this.value}updateValueAndValidity(ht={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mt||this.status===De)&&this._runAsyncValidator(ht.emitEvent)),!1!==ht.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ht.onlySelf&&this._parent.updateValueAndValidity(ht)}_updateTreeValidity(ht={emitEvent:!0}){this._forEachChild(qe=>qe._updateTreeValidity(ht)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ht.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pe:mt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ht){if(this.asyncValidator){this.status=De,this._hasOwnPendingAsyncValidator=!0;const qe=Re(this.asyncValidator(this));this._asyncValidationSubscription=qe.subscribe(At=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(At,{emitEvent:ht})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ht,qe={}){this.errors=ht,this._updateControlsErrors(!1!==qe.emitEvent)}get(ht){let qe=ht;return null==qe||(Array.isArray(qe)||(qe=qe.split(".")),0===qe.length)?null:qe.reduce((At,on)=>At&&At._find(on),this)}getError(ht,qe){const At=qe?this.get(qe):this;return At&&At.errors?At.errors[ht]:null}hasError(ht,qe){return!!this.getError(ht,qe)}get root(){let ht=this;for(;ht._parent;)ht=ht._parent;return ht}_updateControlsErrors(ht){this.status=this._calculateStatus(),ht&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ht)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Pe:this.errors?Qe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(De)?De:this._anyControlsHaveStatus(Qe)?Qe:mt}_anyControlsHaveStatus(ht){return this._anyControls(qe=>qe.status===ht)}_anyControlsDirty(){return this._anyControls(ht=>ht.dirty)}_anyControlsTouched(){return this._anyControls(ht=>ht.touched)}_updatePristine(ht={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ht.onlySelf&&this._parent._updatePristine(ht)}_updateTouched(ht={}){this.touched=this._anyControlsTouched(),this._parent&&!ht.onlySelf&&this._parent._updateTouched(ht)}_registerOnCollectionChange(ht){this._onCollectionChange=ht}_setUpdateStrategy(ht){ut(ht)&&null!=ht.updateOn&&(this._updateOn=ht.updateOn)}_parentMarkedDirty(ht){return!ht&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ht){return null}_assignValidators(ht){this._rawValidators=Array.isArray(ht)?ht.slice():ht,this._composedValidatorFn=function Ze(nt){return Array.isArray(nt)?He(nt):nt||null}(this._rawValidators)}_assignAsyncValidators(ht){this._rawAsyncValidators=Array.isArray(ht)?ht.slice():ht,this._composedAsyncValidatorFn=function st(nt){return Array.isArray(nt)?Je(nt):nt||null}(this._rawAsyncValidators)}}class Jt extends Lt{constructor(ht,qe,At){super(Ye(qe),ct(At,qe)),this.controls=ht,this._initObservables(),this._setUpdateStrategy(qe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ht,qe){return this.controls[ht]?this.controls[ht]:(this.controls[ht]=qe,qe.setParent(this),qe._registerOnCollectionChange(this._onCollectionChange),qe)}addControl(ht,qe,At={}){this.registerControl(ht,qe),this.updateValueAndValidity({emitEvent:At.emitEvent}),this._onCollectionChange()}removeControl(ht,qe={}){this.controls[ht]&&this.controls[ht]._registerOnCollectionChange(()=>{}),delete this.controls[ht],this.updateValueAndValidity({emitEvent:qe.emitEvent}),this._onCollectionChange()}setControl(ht,qe,At={}){this.controls[ht]&&this.controls[ht]._registerOnCollectionChange(()=>{}),delete this.controls[ht],qe&&this.registerControl(ht,qe),this.updateValueAndValidity({emitEvent:At.emitEvent}),this._onCollectionChange()}contains(ht){return this.controls.hasOwnProperty(ht)&&this.controls[ht].enabled}setValue(ht,qe={}){$t(this,0,ht),Object.keys(ht).forEach(At=>{kt(this,!0,At),this.controls[At].setValue(ht[At],{onlySelf:!0,emitEvent:qe.emitEvent})}),this.updateValueAndValidity(qe)}patchValue(ht,qe={}){null!=ht&&(Object.keys(ht).forEach(At=>{const on=this.controls[At];on&&on.patchValue(ht[At],{onlySelf:!0,emitEvent:qe.emitEvent})}),this.updateValueAndValidity(qe))}reset(ht={},qe={}){this._forEachChild((At,on)=>{At.reset(ht[on],{onlySelf:!0,emitEvent:qe.emitEvent})}),this._updatePristine(qe),this._updateTouched(qe),this.updateValueAndValidity(qe)}getRawValue(){return this._reduceChildren({},(ht,qe,At)=>(ht[At]=qe.getRawValue(),ht))}_syncPendingControls(){let ht=this._reduceChildren(!1,(qe,At)=>!!At._syncPendingControls()||qe);return ht&&this.updateValueAndValidity({onlySelf:!0}),ht}_forEachChild(ht){Object.keys(this.controls).forEach(qe=>{const At=this.controls[qe];At&&ht(At,qe)})}_setUpControls(){this._forEachChild(ht=>{ht.setParent(this),ht._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ht){for(const[qe,At]of Object.entries(this.controls))if(this.contains(qe)&&ht(At))return!0;return!1}_reduceValue(){return this._reduceChildren({},(qe,At,on)=>((At.enabled||this.disabled)&&(qe[on]=At.value),qe))}_reduceChildren(ht,qe){let At=ht;return this._forEachChild((on,ci)=>{At=qe(At,on,ci)}),At}_allControlsDisabled(){for(const ht of Object.keys(this.controls))if(this.controls[ht].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ht){return this.controls.hasOwnProperty(ht)?this.controls[ht]:null}}class Mn extends Jt{}const Wn=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Gn}),Gn="always";function fi(nt,ht){return[...ht.path,nt]}function _n(nt,ht,qe=Gn){tn(nt,ht),ht.valueAccessor.writeValue(nt.value),(nt.disabled||"always"===qe)&&ht.valueAccessor.setDisabledState?.(nt.disabled),function Xe(nt,ht){ht.valueAccessor.registerOnChange(qe=>{nt._pendingValue=qe,nt._pendingChange=!0,nt._pendingDirty=!0,"change"===nt.updateOn&&Qt(nt,ht)})}(nt,ht),function wn(nt,ht){const qe=(At,on)=>{ht.valueAccessor.writeValue(At),on&&ht.viewToModelUpdate(At)};nt.registerOnChange(qe),ht._registerOnDestroy(()=>{nt._unregisterOnChange(qe)})}(nt,ht),function Pt(nt,ht){ht.valueAccessor.registerOnTouched(()=>{nt._pendingTouched=!0,"blur"===nt.updateOn&&nt._pendingChange&&Qt(nt,ht),"submit"!==nt.updateOn&&nt.markAsTouched()})}(nt,ht),function ft(nt,ht){if(ht.valueAccessor.setDisabledState){const qe=At=>{ht.valueAccessor.setDisabledState(At)};nt.registerOnDisabledChange(qe),ht._registerOnDestroy(()=>{nt._unregisterOnDisabledChange(qe)})}}(nt,ht)}function pn(nt,ht,qe=!0){const At=()=>{};ht.valueAccessor&&(ht.valueAccessor.registerOnChange(At),ht.valueAccessor.registerOnTouched(At)),ze(nt,ht),nt&&(ht._invokeOnDestroyCallbacks(),nt._registerOnCollectionChange(()=>{}))}function St(nt,ht){nt.forEach(qe=>{qe.registerOnValidatorChange&&qe.registerOnValidatorChange(ht)})}function tn(nt,ht){const qe=Te(nt);null!==ht.validator?nt.setValidators(Ne(qe,ht.validator)):"function"==typeof qe&&nt.setValidators([qe]);const At=W(nt);null!==ht.asyncValidator?nt.setAsyncValidators(Ne(At,ht.asyncValidator)):"function"==typeof At&&nt.setAsyncValidators([At]);const on=()=>nt.updateValueAndValidity();St(ht._rawValidators,on),St(ht._rawAsyncValidators,on)}function ze(nt,ht){let qe=!1;if(null!==nt){if(null!==ht.validator){const on=Te(nt);if(Array.isArray(on)&&on.length>0){const ci=on.filter(Ri=>Ri!==ht.validator);ci.length!==on.length&&(qe=!0,nt.setValidators(ci))}}if(null!==ht.asyncValidator){const on=W(nt);if(Array.isArray(on)&&on.length>0){const ci=on.filter(Ri=>Ri!==ht.asyncValidator);ci.length!==on.length&&(qe=!0,nt.setAsyncValidators(ci))}}}const At=()=>{};return St(ht._rawValidators,At),St(ht._rawAsyncValidators,At),qe}function Qt(nt,ht){nt._pendingDirty&&nt.markAsDirty(),nt.setValue(nt._pendingValue,{emitModelToViewChange:!1}),ht.viewToModelUpdate(nt._pendingValue),nt._pendingChange=!1}function Fn(nt,ht){tn(nt,ht)}function vt(nt,ht){if(!nt.hasOwnProperty("model"))return!1;const qe=nt.model;return!!qe.isFirstChange()||!Object.is(ht,qe.currentValue)}function be(nt,ht){nt._syncPendingControls(),ht.forEach(qe=>{const At=qe.control;"submit"===At.updateOn&&At._pendingChange&&(qe.viewToModelUpdate(At._pendingValue),At._pendingChange=!1)})}function yt(nt,ht){if(!ht)return null;let qe,At,on;return Array.isArray(ht),ht.forEach(ci=>{ci.constructor===T?qe=ci:function un(nt){return Object.getPrototypeOf(nt.constructor)===U}(ci)?At=ci:on=ci}),on||At||qe||null}const hn={provide:ne,useExisting:(0,c.Gpc)(()=>ar)},ti=(()=>Promise.resolve())();let ar=(()=>{class nt extends ne{constructor(qe,At,on){super(),this.callSetDisabledState=on,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new Jt({},He(qe),Je(At))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(qe){ti.then(()=>{const At=this._findContainer(qe.path);qe.control=At.registerControl(qe.name,qe.control),_n(qe.control,qe,this.callSetDisabledState),qe.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(qe)})}getControl(qe){return this.form.get(qe.path)}removeControl(qe){ti.then(()=>{const At=this._findContainer(qe.path);At&&At.removeControl(qe.name),this._directives.delete(qe)})}addFormGroup(qe){ti.then(()=>{const At=this._findContainer(qe.path),on=new Jt({});Fn(on,qe),At.registerControl(qe.name,on),on.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(qe){ti.then(()=>{const At=this._findContainer(qe.path);At&&At.removeControl(qe.name)})}getFormGroup(qe){return this.form.get(qe.path)}updateModel(qe,At){ti.then(()=>{this.form.get(qe.path).setValue(At)})}setValue(qe){this.control.setValue(qe)}onSubmit(qe){return this.submitted=!0,be(this.form,this._directives),this.ngSubmit.emit(qe),"dialog"===qe?.target?.method}onReset(){this.resetForm()}resetForm(qe=void 0){this.form.reset(qe),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(qe){return qe.pop(),qe.length?this.form.get(qe):this.form}static#e=this.\u0275fac=function(At){return new(At||nt)(c.Y36(B,10),c.Y36(Y,10),c.Y36(Wn,8))};static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(At,on){1&At&&c.NdJ("submit",function(Ri){return on.onSubmit(Ri)})("reset",function(){return on.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([hn]),c.qOj]})}return nt})();function $i(nt,ht){const qe=nt.indexOf(ht);qe>-1&&nt.splice(qe,1)}function Tr(nt){return"object"==typeof nt&&null!==nt&&2===Object.keys(nt).length&&"value"in nt&&"disabled"in nt}const hr=class extends Lt{constructor(ht=null,qe,At){super(Ye(qe),ct(At,qe)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ht),this._setUpdateStrategy(qe),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ut(qe)&&(qe.nonNullable||qe.initialValueIsDefault)&&(this.defaultValue=Tr(ht)?ht.value:ht)}setValue(ht,qe={}){this.value=this._pendingValue=ht,this._onChange.length&&!1!==qe.emitModelToViewChange&&this._onChange.forEach(At=>At(this.value,!1!==qe.emitViewToModelChange)),this.updateValueAndValidity(qe)}patchValue(ht,qe={}){this.setValue(ht,qe)}reset(ht=this.defaultValue,qe={}){this._applyFormState(ht),this.markAsPristine(qe),this.markAsUntouched(qe),this.setValue(this.value,qe),this._pendingChange=!1}_updateValue(){}_anyControls(ht){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ht){this._onChange.push(ht)}_unregisterOnChange(ht){$i(this._onChange,ht)}registerOnDisabledChange(ht){this._onDisabledChange.push(ht)}_unregisterOnDisabledChange(ht){$i(this._onDisabledChange,ht)}_forEachChild(ht){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ht){Tr(ht)?(this.value=this._pendingValue=ht.value,ht.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ht}},zo={provide:ie,useExisting:(0,c.Gpc)(()=>jr)},Do=(()=>Promise.resolve())();let jr=(()=>{class nt extends ie{constructor(qe,At,on,ci,Ri,Qi){super(),this._changeDetectorRef=Ri,this.callSetDisabledState=Qi,this.control=new hr,this._registered=!1,this.name="",this.update=new c.vpe,this._parent=qe,this._setValidators(At),this._setAsyncValidators(on),this.valueAccessor=yt(0,ci)}ngOnChanges(qe){if(this._checkForErrors(),!this._registered||"name"in qe){if(this._registered&&(this._checkName(),this.formDirective)){const At=qe.name.previousValue;this.formDirective.removeControl({name:At,path:this._getPath(At)})}this._setUpControl()}"isDisabled"in qe&&this._updateDisabled(qe),vt(qe,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(qe){this.viewModel=qe,this.update.emit(qe)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_n(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(qe){Do.then(()=>{this.control.setValue(qe,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(qe){const At=qe.isDisabled.currentValue,on=0!==At&&(0,c.VuI)(At);Do.then(()=>{on&&!this.control.disabled?this.control.disable():!on&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(qe){return this._parent?fi(qe,this._parent):[qe]}static#e=this.\u0275fac=function(At){return new(At||nt)(c.Y36(ne,9),c.Y36(B,10),c.Y36(Y,10),c.Y36(R,10),c.Y36(c.sBO,8),c.Y36(Wn,8))};static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([zo]),c.qOj,c.TTD]})}return nt})(),Kr=(()=>{class nt{static#e=this.\u0275fac=function(At){return new(At||nt)};static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return nt})();const Vr={provide:R,useExisting:(0,c.Gpc)(()=>lr),multi:!0};let lr=(()=>{class nt extends U{writeValue(qe){this.setProperty("value",qe??"")}registerOnChange(qe){this.onChange=At=>{qe(""==At?null:parseFloat(At))}}static#e=this.\u0275fac=function(){let qe;return function(on){return(qe||(qe=c.n5z(nt)))(on||nt)}}();static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(At,on){1&At&&c.NdJ("input",function(Ri){return on.onChange(Ri.target.value)})("blur",function(){return on.onTouched()})},features:[c._Bn([Vr]),c.qOj]})}return nt})(),qi=(()=>{class nt{static#e=this.\u0275fac=function(At){return new(At||nt)};static#t=this.\u0275mod=c.oAB({type:nt});static#n=this.\u0275inj=c.cJS({})}return nt})();const qt=new c.OlP("NgModelWithFormControlWarning"),Kn={provide:ne,useExisting:(0,c.Gpc)(()=>mi)};let mi=(()=>{class nt extends ne{constructor(qe,At,on){super(),this.callSetDisabledState=on,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(qe),this._setAsyncValidators(At)}ngOnChanges(qe){this._checkFormPresent(),qe.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ze(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(qe){const At=this.form.get(qe.path);return _n(At,qe,this.callSetDisabledState),At.updateValueAndValidity({emitEvent:!1}),this.directives.push(qe),At}getControl(qe){return this.form.get(qe.path)}removeControl(qe){pn(qe.control||null,qe,!1),function gt(nt,ht){const qe=nt.indexOf(ht);qe>-1&&nt.splice(qe,1)}(this.directives,qe)}addFormGroup(qe){this._setUpFormContainer(qe)}removeFormGroup(qe){this._cleanUpFormContainer(qe)}getFormGroup(qe){return this.form.get(qe.path)}addFormArray(qe){this._setUpFormContainer(qe)}removeFormArray(qe){this._cleanUpFormContainer(qe)}getFormArray(qe){return this.form.get(qe.path)}updateModel(qe,At){this.form.get(qe.path).setValue(At)}onSubmit(qe){return this.submitted=!0,be(this.form,this.directives),this.ngSubmit.emit(qe),"dialog"===qe?.target?.method}onReset(){this.resetForm()}resetForm(qe=void 0){this.form.reset(qe),this.submitted=!1}_updateDomValue(){this.directives.forEach(qe=>{const At=qe.control,on=this.form.get(qe.path);At!==on&&(pn(At||null,qe),(nt=>nt instanceof hr)(on)&&(_n(on,qe,this.callSetDisabledState),qe.control=on))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(qe){const At=this.form.get(qe.path);Fn(At,qe),At.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(qe){if(this.form){const At=this.form.get(qe.path);At&&function Gt(nt,ht){return ze(nt,ht)}(At,qe)&&At.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tn(this.form,this),this._oldForm&&ze(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(At){return new(At||nt)(c.Y36(B,10),c.Y36(Y,10),c.Y36(Wn,8))};static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["","formGroup",""]],hostBindings:function(At,on){1&At&&c.NdJ("submit",function(Ri){return on.onSubmit(Ri)})("reset",function(){return on.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Kn]),c.qOj,c.TTD]})}return nt})();const Gr={provide:ie,useExisting:(0,c.Gpc)(()=>ro)};let ro=(()=>{class nt extends ie{set isDisabled(qe){}static#e=this._ngModelWarningSentOnce=!1;constructor(qe,At,on,ci,Ri){super(),this._ngModelWarningConfig=Ri,this._added=!1,this.name=null,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=qe,this._setValidators(At),this._setAsyncValidators(on),this.valueAccessor=yt(0,ci)}ngOnChanges(qe){this._added||this._setUpControl(),vt(qe,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(qe){this.viewModel=qe,this.update.emit(qe)}get path(){return fi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(At){return new(At||nt)(c.Y36(ne,13),c.Y36(B,10),c.Y36(Y,10),c.Y36(R,10),c.Y36(qt,8))};static#n=this.\u0275dir=c.lG2({type:nt,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Gr]),c.qOj,c.TTD]})}return nt})();const Po={provide:R,useExisting:(0,c.Gpc)(()=>Mo),multi:!0};function kr(nt,ht){return null==nt?`${ht}`:(ht&&"object"==typeof ht&&(ht="Object"),`${nt}: ${ht}`.slice(0,50))}let Mo=(()=>{class nt extends U{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(qe){this._compareWith=qe}writeValue(qe){this.value=qe;const on=kr(this._getOptionId(qe),qe);this.setProperty("value",on)}registerOnChange(qe){this.onChange=At=>{this.value=this._getOptionValue(At),qe(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(qe){for(const At of this._optionMap.keys())if(this._compareWith(this._optionMap.get(At),qe))return At;return null}_getOptionValue(qe){const At=function xr(nt){return nt.split(":")[0]}(qe);return this._optionMap.has(At)?this._optionMap.get(At):qe}static#e=this.\u0275fac=function(){let qe;return function(on){return(qe||(qe=c.n5z(nt)))(on||nt)}}();static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(At,on){1&At&&c.NdJ("change",function(Ri){return on.onChange(Ri.target.value)})("blur",function(){return on.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Po]),c.qOj]})}return nt})(),Lr=(()=>{class nt{constructor(qe,At,on){this._element=qe,this._renderer=At,this._select=on,this._select&&(this.id=this._select._registerOption())}set ngValue(qe){null!=this._select&&(this._select._optionMap.set(this.id,qe),this._setElementValue(kr(this.id,qe)),this._select.writeValue(this._select.value))}set value(qe){this._setElementValue(qe),this._select&&this._select.writeValue(this._select.value)}_setElementValue(qe){this._renderer.setProperty(this._element.nativeElement,"value",qe)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(At){return new(At||nt)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Mo,9))};static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return nt})();const Gi={provide:R,useExisting:(0,c.Gpc)(()=>no),multi:!0};function aa(nt,ht){return null==nt?`${ht}`:("string"==typeof ht&&(ht=`'${ht}'`),ht&&"object"==typeof ht&&(ht="Object"),`${nt}: ${ht}`.slice(0,50))}let no=(()=>{class nt extends U{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(qe){this._compareWith=qe}writeValue(qe){let At;if(this.value=qe,Array.isArray(qe)){const on=qe.map(ci=>this._getOptionId(ci));At=(ci,Ri)=>{ci._setSelected(on.indexOf(Ri.toString())>-1)}}else At=(on,ci)=>{on._setSelected(!1)};this._optionMap.forEach(At)}registerOnChange(qe){this.onChange=At=>{const on=[],ci=At.selectedOptions;if(void 0!==ci){const Ri=ci;for(let Qi=0;Qi<Ri.length;Qi++){const qo=this._getOptionValue(Ri[Qi].value);on.push(qo)}}else{const Ri=At.options;for(let Qi=0;Qi<Ri.length;Qi++){const Vo=Ri[Qi];if(Vo.selected){const qo=this._getOptionValue(Vo.value);on.push(qo)}}}this.value=on,qe(on)}}_registerOption(qe){const At=(this._idCounter++).toString();return this._optionMap.set(At,qe),At}_getOptionId(qe){for(const At of this._optionMap.keys())if(this._compareWith(this._optionMap.get(At)._value,qe))return At;return null}_getOptionValue(qe){const At=function Oo(nt){return nt.split(":")[0]}(qe);return this._optionMap.has(At)?this._optionMap.get(At)._value:qe}static#e=this.\u0275fac=function(){let qe;return function(on){return(qe||(qe=c.n5z(nt)))(on||nt)}}();static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(At,on){1&At&&c.NdJ("change",function(Ri){return on.onChange(Ri.target)})("blur",function(){return on.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Gi]),c.qOj]})}return nt})(),jn=(()=>{class nt{constructor(qe,At,on){this._element=qe,this._renderer=At,this._select=on,this._select&&(this.id=this._select._registerOption(this))}set ngValue(qe){null!=this._select&&(this._value=qe,this._setElementValue(aa(this.id,qe)),this._select.writeValue(this._select.value))}set value(qe){this._select?(this._value=qe,this._setElementValue(aa(this.id,qe)),this._select.writeValue(this._select.value)):this._setElementValue(qe)}_setElementValue(qe){this._renderer.setProperty(this._element.nativeElement,"value",qe)}_setSelected(qe){this._renderer.setProperty(this._element.nativeElement,"selected",qe)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(At){return new(At||nt)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(no,9))};static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return nt})(),Li=(()=>{class nt{constructor(){this._validator=Le}ngOnChanges(qe){if(this.inputName in qe){const At=this.normalizeInput(qe[this.inputName].currentValue);this._enabled=this.enabled(At),this._validator=this._enabled?this.createValidator(At):Le,this._onChange&&this._onChange()}}validate(qe){return this._validator(qe)}registerOnValidatorChange(qe){this._onChange=qe}enabled(qe){return null!=qe}static#e=this.\u0275fac=function(At){return new(At||nt)};static#t=this.\u0275dir=c.lG2({type:nt,features:[c.TTD]})}return nt})();const Yr={provide:B,useExisting:(0,c.Gpc)(()=>cr),multi:!0},Ro={provide:B,useExisting:(0,c.Gpc)(()=>jo),multi:!0};let cr=(()=>{class nt extends Li{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.VuI,this.createValidator=qe=>ae}enabled(qe){return qe}static#e=this.\u0275fac=function(){let qe;return function(on){return(qe||(qe=c.n5z(nt)))(on||nt)}}();static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(At,on){2&At&&c.uIk("required",on._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([Yr]),c.qOj]})}return nt})(),jo=(()=>{class nt extends cr{constructor(){super(...arguments),this.createValidator=qe=>K}static#e=this.\u0275fac=function(){let qe;return function(on){return(qe||(qe=c.n5z(nt)))(on||nt)}}();static#t=this.\u0275dir=c.lG2({type:nt,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(At,on){2&At&&c.uIk("required",on._enabled?"":null)},features:[c._Bn([Ro]),c.qOj]})}return nt})(),la=(()=>{class nt{static#e=this.\u0275fac=function(At){return new(At||nt)};static#t=this.\u0275mod=c.oAB({type:nt});static#n=this.\u0275inj=c.cJS({imports:[qi]})}return nt})();class Ir extends Lt{constructor(ht,qe,At){super(Ye(qe),ct(At,qe)),this.controls=ht,this._initObservables(),this._setUpdateStrategy(qe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ht){return this.controls[this._adjustIndex(ht)]}push(ht,qe={}){this.controls.push(ht),this._registerControl(ht),this.updateValueAndValidity({emitEvent:qe.emitEvent}),this._onCollectionChange()}insert(ht,qe,At={}){this.controls.splice(ht,0,qe),this._registerControl(qe),this.updateValueAndValidity({emitEvent:At.emitEvent})}removeAt(ht,qe={}){let At=this._adjustIndex(ht);At<0&&(At=0),this.controls[At]&&this.controls[At]._registerOnCollectionChange(()=>{}),this.controls.splice(At,1),this.updateValueAndValidity({emitEvent:qe.emitEvent})}setControl(ht,qe,At={}){let on=this._adjustIndex(ht);on<0&&(on=0),this.controls[on]&&this.controls[on]._registerOnCollectionChange(()=>{}),this.controls.splice(on,1),qe&&(this.controls.splice(on,0,qe),this._registerControl(qe)),this.updateValueAndValidity({emitEvent:At.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ht,qe={}){$t(this,0,ht),ht.forEach((At,on)=>{kt(this,!1,on),this.at(on).setValue(At,{onlySelf:!0,emitEvent:qe.emitEvent})}),this.updateValueAndValidity(qe)}patchValue(ht,qe={}){null!=ht&&(ht.forEach((At,on)=>{this.at(on)&&this.at(on).patchValue(At,{onlySelf:!0,emitEvent:qe.emitEvent})}),this.updateValueAndValidity(qe))}reset(ht=[],qe={}){this._forEachChild((At,on)=>{At.reset(ht[on],{onlySelf:!0,emitEvent:qe.emitEvent})}),this._updatePristine(qe),this._updateTouched(qe),this.updateValueAndValidity(qe)}getRawValue(){return this.controls.map(ht=>ht.getRawValue())}clear(ht={}){this.controls.length<1||(this._forEachChild(qe=>qe._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ht.emitEvent}))}_adjustIndex(ht){return ht<0?ht+this.length:ht}_syncPendingControls(){let ht=this.controls.reduce((qe,At)=>!!At._syncPendingControls()||qe,!1);return ht&&this.updateValueAndValidity({onlySelf:!0}),ht}_forEachChild(ht){this.controls.forEach((qe,At)=>{ht(qe,At)})}_updateValue(){this.value=this.controls.filter(ht=>ht.enabled||this.disabled).map(ht=>ht.value)}_anyControls(ht){return this.controls.some(qe=>qe.enabled&&ht(qe))}_setUpControls(){this._forEachChild(ht=>this._registerControl(ht))}_allControlsDisabled(){for(const ht of this.controls)if(ht.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ht){ht.setParent(this),ht._registerOnCollectionChange(this._onCollectionChange)}_find(ht){return this.at(ht)??null}}function $o(nt){return!!nt&&(void 0!==nt.asyncValidators||void 0!==nt.validators||void 0!==nt.updateOn)}let Ma=(()=>{class nt{constructor(){this.useNonNullable=!1}get nonNullable(){const qe=new nt;return qe.useNonNullable=!0,qe}group(qe,At=null){const on=this._reduceControls(qe);let ci={};return $o(At)?ci=At:null!==At&&(ci.validators=At.validator,ci.asyncValidators=At.asyncValidator),new Jt(on,ci)}record(qe,At=null){const on=this._reduceControls(qe);return new Mn(on,At)}control(qe,At,on){let ci={};return this.useNonNullable?($o(At)?ci=At:(ci.validators=At,ci.asyncValidators=on),new hr(qe,{...ci,nonNullable:!0})):new hr(qe,At,on)}array(qe,At,on){const ci=qe.map(Ri=>this._createControl(Ri));return new Ir(ci,At,on)}_reduceControls(qe){const At={};return Object.keys(qe).forEach(on=>{At[on]=this._createControl(qe[on])}),At}_createControl(qe){return qe instanceof hr||qe instanceof Lt?qe:Array.isArray(qe)?this.control(qe[0],qe.length>1?qe[1]:null,qe.length>2?qe[2]:null):this.control(qe)}static#e=this.\u0275fac=function(At){return new(At||nt)};static#t=this.\u0275prov=c.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})(),dr=(()=>{class nt{static withConfig(qe){return{ngModule:nt,providers:[{provide:Wn,useValue:qe.callSetDisabledState??Gn}]}}static#e=this.\u0275fac=function(At){return new(At||nt)};static#t=this.\u0275mod=c.oAB({type:nt});static#n=this.\u0275inj=c.cJS({imports:[la]})}return nt})(),mn=(()=>{class nt{static withConfig(qe){return{ngModule:nt,providers:[{provide:qt,useValue:qe.warnOnNgModelWithFormControl??"always"},{provide:Wn,useValue:qe.callSetDisabledState??Gn}]}}static#e=this.\u0275fac=function(At){return new(At||nt)};static#t=this.\u0275mod=c.oAB({type:nt});static#n=this.\u0275inj=c.cJS({imports:[la]})}return nt})()},2296:(Bn,tt,S)=>{"use strict";S.d(tt,{RK:()=>pe,lW:()=>ae,ot:()=>ke});var c=S(2831),t=S(5879),b=S(4300),w=S(3680),E=S(6814);const F=["mat-button",""],L=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],D=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],U=["mat-icon-button",""],R=["*"],k={capture:!0},O=["focus","click","mouseenter","touchstart"],x="mat-button-ripple-uninitialized";let P=(()=>{class we{constructor(){this._document=(0,t.f3M)(E.K0,{optional:!0}),this._animationMode=(0,t.f3M)(t.QbO,{optional:!0}),this._globalRippleOptions=(0,t.f3M)(w.Y2,{optional:!0}),this._platform=(0,t.f3M)(c.t4),this._ngZone=(0,t.f3M)(t.R0b),this._onInteraction=at=>{if(at.target===this._document)return;const Ne=at.target.closest(`[${x}]`);Ne&&(Ne.removeAttribute(x),this._appendRipple(Ne))},this._ngZone.runOutsideAngular(()=>{for(const at of O)this._document?.addEventListener(at,this._onInteraction,k)})}ngOnDestroy(){for(const at of O)this._document?.removeEventListener(at,this._onInteraction,k)}_appendRipple(at){if(!this._document)return;const Je=this._document.createElement("span");Je.classList.add("mat-mdc-button-ripple");const Ne=new T(at,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);Ne.rippleConfig.centered=at.hasAttribute("mat-icon-button"),new w.IR(Ne,this._ngZone,Je,this._platform).setupTriggerEvents(at),at.append(Je)}_createMatRipple(at){if(!this._document)return;at.querySelector(".mat-mdc-button-ripple")?.remove(),at.removeAttribute(x);const Je=this._document.createElement("span");Je.classList.add("mat-mdc-button-ripple");const Ne=new w.wG(new t.SBq(Je),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Ne._isInitialized=!0,Ne.trigger=at,at.append(Je),Ne}static#e=this.\u0275fac=function(Je){return new(Je||we)};static#t=this.\u0275prov=t.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})();class T{constructor(He,at,Je){this._button=He,this._globalRippleOptions=at,this._setRippleConfig(at,Je)}_setRippleConfig(He,at){this.rippleConfig=He||{},"NoopAnimations"===at&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const B=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Y=(0,w.pj)((0,w.Id)((0,w.Kr)(class{constructor(we){this._elementRef=we}})));let q=(()=>{class we extends Y{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(at){this._ripple=at}constructor(at,Je,Ne,Te){super(at),this._platform=Je,this._ngZone=Ne,this._animationMode=Te,this._focusMonitor=(0,t.f3M)(b.tE),this._rippleLoader=(0,t.f3M)(P),this._isFab=!1;const W=at.nativeElement.classList;for(const se of B)this._hasHostAttributes(se.selector)&&se.mdcClasses.forEach(_e=>{W.add(_e)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(at="program",Je){at?this._focusMonitor.focusVia(this._elementRef.nativeElement,at,Je):this._elementRef.nativeElement.focus(Je)}_hasHostAttributes(...at){return at.some(Je=>this._elementRef.nativeElement.hasAttribute(Je))}static#e=this.\u0275fac=function(Je){t.$Z()};static#t=this.\u0275dir=t.lG2({type:we,features:[t.qOj,t.TTD]})}return we})(),ae=(()=>{class we extends q{constructor(at,Je,Ne,Te){super(at,Je,Ne,Te)}static#e=this.\u0275fac=function(Je){return new(Je||we)(t.Y36(t.SBq),t.Y36(c.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:we,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Je,Ne){2&Je&&(t.uIk("disabled",Ne.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===Ne._animationMode)("mat-unthemed",!Ne.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:F,ngContentSelectors:D,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Je,Ne){1&Je&&(t.F$t(L),t._UZ(0,"span",0),t.Hsn(1),t.TgZ(2,"span",1),t.Hsn(3,1),t.qZA(),t.Hsn(4,2),t._UZ(5,"span",2)(6,"span",3)),2&Je&&t.ekj("mdc-button__ripple",!Ne._isFab)("mdc-fab__ripple",Ne._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return we})(),pe=(()=>{class we extends q{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(at,Je,Ne,Te){super(at,Je,Ne,Te)}static#e=this.\u0275fac=function(Je){return new(Je||we)(t.Y36(t.SBq),t.Y36(c.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:we,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Je,Ne){2&Je&&(t.uIk("disabled",Ne.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===Ne._animationMode)("mat-unthemed",!Ne.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:U,ngContentSelectors:R,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Je,Ne){1&Je&&(t.F$t(),t._UZ(0,"span",0),t.Hsn(1),t._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return we})(),ke=(()=>{class we{static#e=this.\u0275fac=function(Je){return new(Je||we)};static#t=this.\u0275mod=t.oAB({type:we});static#n=this.\u0275inj=t.cJS({imports:[w.BQ,w.si,w.BQ]})}return we})()},5986:(Bn,tt,S)=>{"use strict";S.d(tt,{oG:()=>V,p9:()=>P});var c=S(5879),t=S(95),b=S(3680),w=S(2495);const E=["input"],F=["label"],L=["*"],D=new c.OlP("mat-checkbox-default-options",{providedIn:"root",factory:p});function p(){return{color:"accent",clickAction:"check-indeterminate"}}const f={provide:t.JU,useExisting:(0,c.Gpc)(()=>V),multi:!0};class g{}let y=0;const M=p(),U=(0,b.sb)((0,b.pj)((0,b.Kr)((0,b.Id)(class{constructor(T){this._elementRef=T}}))));let R=(()=>{class T extends U{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(C){this._required=(0,w.Ig)(C)}constructor(C,B,Y,q,le,Fe,$){super(B),this._changeDetectorRef=Y,this._ngZone=q,this._animationMode=Fe,this._options=$,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new c.vpe,this.indeterminateChange=new c.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||M,this.color=this.defaultColor=this._options.color||M.color,this.tabIndex=parseInt(le)||0,this.id=this._uniqueId=`${C}${++y}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(C){const B=(0,w.Ig)(C);B!=this.checked&&(this._checked=B,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(C){const B=(0,w.Ig)(C);B!==this.disabled&&(this._disabled=B,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(C){const B=C!=this._indeterminate;this._indeterminate=(0,w.Ig)(C),B&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(C){this.checked=!!C}registerOnChange(C){this._controlValueAccessorChangeFn=C}registerOnTouched(C){this._onTouched=C}setDisabledState(C){this.disabled=C}_transitionCheckState(C){let B=this._currentCheckState,Y=this._getAnimationTargetElement();if(B!==C&&Y&&(this._currentAnimationClass&&Y.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(B,C),this._currentCheckState=C,this._currentAnimationClass.length>0)){Y.classList.add(this._currentAnimationClass);const q=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{Y.classList.remove(q)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const C=this._options?.clickAction;this.disabled||"noop"===C?!this.disabled&&"noop"===C&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==C&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(C){C.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(C,B){if("NoopAnimations"===this._animationMode)return"";switch(C){case 0:if(1===B)return this._animationClasses.uncheckedToChecked;if(3==B)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===B?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===B?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===B?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(C){const B=this._inputElement;B&&(B.nativeElement.indeterminate=C)}static#e=this.\u0275fac=function(B){c.$Z()};static#t=this.\u0275dir=c.lG2({type:T,viewQuery:function(B,Y){if(1&B&&(c.Gf(E,5),c.Gf(F,5),c.Gf(b.wG,5)),2&B){let q;c.iGM(q=c.CRH())&&(Y._inputElement=q.first),c.iGM(q=c.CRH())&&(Y._labelElement=q.first),c.iGM(q=c.CRH())&&(Y.ripple=q.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[c.qOj]})}return T})(),V=(()=>{class T extends R{constructor(C,B,Y,q,le,Fe){super("mat-mdc-checkbox-",C,B,Y,q,le,Fe),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(C){const B=new g;return B.source=this,B.checked=C,B}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(C){C.target&&this._labelElement.nativeElement.contains(C.target)&&C.stopPropagation()}static#e=this.\u0275fac=function(B){return new(B||T)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.$8M("tabindex"),c.Y36(c.QbO,8),c.Y36(D,8))};static#t=this.\u0275cmp=c.Xpm({type:T,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(B,Y){2&B&&(c.Ikx("id",Y.id),c.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),c.ekj("_mat-animation-noopable","NoopAnimations"===Y._animationMode)("mdc-checkbox--disabled",Y.disabled)("mat-mdc-checkbox-disabled",Y.disabled)("mat-mdc-checkbox-checked",Y.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[c._Bn([f]),c.qOj],ngContentSelectors:L,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(B,Y){if(1&B&&(c.F$t(),c.TgZ(0,"div",0),c.NdJ("click",function(le){return Y._preventBubblingFromLabel(le)}),c.TgZ(1,"div",1,2)(3,"div",3),c.NdJ("click",function(){return Y._onTouchTargetClick()}),c.qZA(),c.TgZ(4,"input",4,5),c.NdJ("blur",function(){return Y._onBlur()})("click",function(){return Y._onInputClick()})("change",function(le){return Y._onInteractionEvent(le)}),c.qZA(),c._UZ(6,"div",6),c.TgZ(7,"div",7),c.O4$(),c.TgZ(8,"svg",8),c._UZ(9,"path",9),c.qZA(),c.kcU(),c._UZ(10,"div",10),c.qZA(),c._UZ(11,"div",11),c.qZA(),c.TgZ(12,"label",12,13),c.Hsn(14),c.qZA()()),2&B){const q=c.MAs(2);c.ekj("mdc-form-field--align-end","before"==Y.labelPosition),c.xp6(4),c.ekj("mdc-checkbox--selected",Y.checked),c.Q6J("checked",Y.checked)("indeterminate",Y.indeterminate)("disabled",Y.disabled)("id",Y.inputId)("required",Y.required)("tabIndex",Y.tabIndex),c.uIk("aria-label",Y.ariaLabel||null)("aria-labelledby",Y.ariaLabelledby)("aria-describedby",Y.ariaDescribedby)("name",Y.name)("value",Y.value),c.xp6(7),c.Q6J("matRippleTrigger",q)("matRippleDisabled",Y.disableRipple||Y.disabled)("matRippleCentered",!0),c.xp6(1),c.Q6J("for",Y.inputId)}},dependencies:[b.wG],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return T})(),x=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=c.oAB({type:T});static#n=this.\u0275inj=c.cJS({})}return T})(),P=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=c.oAB({type:T});static#n=this.\u0275inj=c.cJS({imports:[b.BQ,b.si,x,b.BQ,x]})}return T})()},3680:(Bn,tt,S)=>{"use strict";S.d(tt,{yN:()=>P,mZ:()=>T,_A:()=>Le,rD:()=>at,sG:()=>fe,K7:()=>Ut,HF:()=>lt,Y2:()=>ve,BQ:()=>B,XK:()=>we,ey:()=>cn,Ng:()=>nn,wG:()=>de,si:()=>xe,IR:()=>X,CB:()=>Wt,jH:()=>Sn,pj:()=>$,Kr:()=>ae,Id:()=>Fe,FD:()=>ge,dB:()=>oe,sb:()=>K});var c=S(5879),t=S(4300),b=S(9388),E=S(6814),F=S(2831),L=S(2495),D=S(5592),p=S(8645),f=S(6028);const M=["text"];function U(Dt,mt){if(1&Dt&&c._UZ(0,"mat-pseudo-checkbox",6),2&Dt){const Qe=c.oxw();c.Q6J("disabled",Qe.disabled)("state",Qe.selected?"checked":"unchecked")}}function R(Dt,mt){if(1&Dt&&c._UZ(0,"mat-pseudo-checkbox",7),2&Dt){const Qe=c.oxw();c.Q6J("disabled",Qe.disabled)}}function V(Dt,mt){if(1&Dt&&(c.TgZ(0,"span",8),c._uU(1),c.qZA()),2&Dt){const Qe=c.oxw();c.xp6(1),c.hij("(",Qe.group.label,")")}}const k=[[["mat-icon"]],"*"],O=["mat-icon","*"];let P=(()=>{class Dt{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return Dt})(),T=(()=>{class Dt{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return Dt})();const C=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function N(){return!0}});let B=(()=>{class Dt{constructor(Qe,De,Pe){this._sanityChecks=De,this._document=Pe,this._hasDoneGlobalChecks=!1,Qe._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Qe){return!(0,F.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Qe])}static#e=this.\u0275fac=function(De){return new(De||Dt)(c.LFG(t.qm),c.LFG(C,8),c.LFG(E.K0))};static#t=this.\u0275mod=c.oAB({type:Dt});static#n=this.\u0275inj=c.cJS({imports:[b.vT,b.vT]})}return Dt})();function Fe(Dt){return class extends Dt{get disabled(){return this._disabled}set disabled(mt){this._disabled=(0,L.Ig)(mt)}constructor(...mt){super(...mt),this._disabled=!1}}}function $(Dt,mt){return class extends Dt{get color(){return this._color}set color(Qe){const De=Qe||this.defaultColor;De!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),De&&this._elementRef.nativeElement.classList.add(`mat-${De}`),this._color=De)}constructor(...Qe){super(...Qe),this.defaultColor=mt,this.color=mt}}}function ae(Dt){return class extends Dt{get disableRipple(){return this._disableRipple}set disableRipple(mt){this._disableRipple=(0,L.Ig)(mt)}constructor(...mt){super(...mt),this._disableRipple=!1}}}function K(Dt,mt=0){return class extends Dt{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Qe){this._tabIndex=null!=Qe?(0,L.su)(Qe):this.defaultTabIndex}constructor(...Qe){super(...Qe),this._tabIndex=mt,this.defaultTabIndex=mt}}}function ge(Dt){return class extends Dt{updateErrorState(){const mt=this.errorState,Ye=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Ye!==mt&&(this.errorState=Ye,this.stateChanges.next())}constructor(...mt){super(...mt),this.errorState=!1}}}function oe(Dt){return class extends Dt{constructor(...mt){super(...mt),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new D.y(Qe=>{this._isInitialized?this._notifySubscriber(Qe):this._pendingSubscribers.push(Qe)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(mt){mt.next(),mt.complete()}}}const he=new c.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Ce(){return(0,c.f3M)(c.soG)}});class Le{constructor(){this._localeChanges=new p.x,this.localeChanges=this._localeChanges}getValidDateOrNull(mt){return this.isDateInstance(mt)&&this.isValid(mt)?mt:null}deserialize(mt){return null==mt||this.isDateInstance(mt)&&this.isValid(mt)?mt:this.invalid()}setLocale(mt){this.locale=mt,this._localeChanges.next()}compareDate(mt,Qe){return this.getYear(mt)-this.getYear(Qe)||this.getMonth(mt)-this.getMonth(Qe)||this.getDate(mt)-this.getDate(Qe)}sameDate(mt,Qe){if(mt&&Qe){let De=this.isValid(mt),Pe=this.isValid(Qe);return De&&Pe?!this.compareDate(mt,Qe):De==Pe}return mt==Qe}clampDate(mt,Qe,De){return Qe&&this.compareDate(mt,Qe)<0?Qe:De&&this.compareDate(mt,De)>0?De:mt}}const fe=new c.OlP("mat-date-formats"),Re=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Ae(Dt,mt){const Qe=Array(Dt);for(let De=0;De<Dt;De++)Qe[De]=mt(De);return Qe}let pe=(()=>{class Dt extends Le{constructor(Qe,De){super(),this.useUtcForDisplay=!1,super.setLocale(Qe)}getYear(Qe){return Qe.getFullYear()}getMonth(Qe){return Qe.getMonth()}getDate(Qe){return Qe.getDate()}getDayOfWeek(Qe){return Qe.getDay()}getMonthNames(Qe){const De=new Intl.DateTimeFormat(this.locale,{month:Qe,timeZone:"utc"});return Ae(12,Pe=>this._format(De,new Date(2017,Pe,1)))}getDateNames(){const Qe=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Ae(31,De=>this._format(Qe,new Date(2017,0,De+1)))}getDayOfWeekNames(Qe){const De=new Intl.DateTimeFormat(this.locale,{weekday:Qe,timeZone:"utc"});return Ae(7,Pe=>this._format(De,new Date(2017,0,Pe+1)))}getYearName(Qe){const De=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(De,Qe)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(Qe){return this.getDate(this._createDateWithOverflow(this.getYear(Qe),this.getMonth(Qe)+1,0))}clone(Qe){return new Date(Qe.getTime())}createDate(Qe,De,Pe){let Ye=this._createDateWithOverflow(Qe,De,Pe);return Ye.getMonth(),Ye}today(){return new Date}parse(Qe,De){return"number"==typeof Qe?new Date(Qe):Qe?new Date(Date.parse(Qe)):null}format(Qe,De){if(!this.isValid(Qe))throw Error("NativeDateAdapter: Cannot format invalid date.");const Pe=new Intl.DateTimeFormat(this.locale,{...De,timeZone:"utc"});return this._format(Pe,Qe)}addCalendarYears(Qe,De){return this.addCalendarMonths(Qe,12*De)}addCalendarMonths(Qe,De){let Pe=this._createDateWithOverflow(this.getYear(Qe),this.getMonth(Qe)+De,this.getDate(Qe));return this.getMonth(Pe)!=((this.getMonth(Qe)+De)%12+12)%12&&(Pe=this._createDateWithOverflow(this.getYear(Pe),this.getMonth(Pe),0)),Pe}addCalendarDays(Qe,De){return this._createDateWithOverflow(this.getYear(Qe),this.getMonth(Qe),this.getDate(Qe)+De)}toIso8601(Qe){return[Qe.getUTCFullYear(),this._2digit(Qe.getUTCMonth()+1),this._2digit(Qe.getUTCDate())].join("-")}deserialize(Qe){if("string"==typeof Qe){if(!Qe)return null;if(Re.test(Qe)){let De=new Date(Qe);if(this.isValid(De))return De}}return super.deserialize(Qe)}isDateInstance(Qe){return Qe instanceof Date}isValid(Qe){return!isNaN(Qe.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(Qe,De,Pe){const Ye=new Date;return Ye.setFullYear(Qe,De,Pe),Ye.setHours(0,0,0,0),Ye}_2digit(Qe){return("00"+Qe).slice(-2)}_format(Qe,De){const Pe=new Date;return Pe.setUTCFullYear(De.getFullYear(),De.getMonth(),De.getDate()),Pe.setUTCHours(De.getHours(),De.getMinutes(),De.getSeconds(),De.getMilliseconds()),Qe.format(Pe)}static#e=this.\u0275fac=function(De){return new(De||Dt)(c.LFG(he,8),c.LFG(F.t4))};static#t=this.\u0275prov=c.Yz7({token:Dt,factory:Dt.\u0275fac})}return Dt})();const Ue={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let ke=(()=>{class Dt{static#e=this.\u0275fac=function(De){return new(De||Dt)};static#t=this.\u0275mod=c.oAB({type:Dt});static#n=this.\u0275inj=c.cJS({providers:[{provide:Le,useClass:pe}]})}return Dt})(),we=(()=>{class Dt{static#e=this.\u0275fac=function(De){return new(De||Dt)};static#t=this.\u0275mod=c.oAB({type:Dt});static#n=this.\u0275inj=c.cJS({providers:[{provide:fe,useValue:Ue}],imports:[ke]})}return Dt})(),at=(()=>{class Dt{isErrorState(Qe,De){return!!(Qe&&Qe.invalid&&(Qe.touched||De&&De.submitted))}static#e=this.\u0275fac=function(De){return new(De||Dt)};static#t=this.\u0275prov=c.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();class se{constructor(mt,Qe,De,Pe=!1){this._renderer=mt,this.element=Qe,this.config=De,this._animationForciblyDisabledThroughCss=Pe,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const _e=(0,F.i$)({passive:!0,capture:!0});class J{constructor(){this._events=new Map,this._delegateEventHandler=mt=>{const Qe=(0,F.sA)(mt);Qe&&this._events.get(mt.type)?.forEach((De,Pe)=>{(Pe===Qe||Pe.contains(Qe))&&De.forEach(Ye=>Ye.handleEvent(mt))})}}addHandler(mt,Qe,De,Pe){const Ye=this._events.get(Qe);if(Ye){const Ze=Ye.get(De);Ze?Ze.add(Pe):Ye.set(De,new Set([Pe]))}else this._events.set(Qe,new Map([[De,new Set([Pe])]])),mt.runOutsideAngular(()=>{document.addEventListener(Qe,this._delegateEventHandler,_e)})}removeHandler(mt,Qe,De){const Pe=this._events.get(mt);if(!Pe)return;const Ye=Pe.get(Qe);Ye&&(Ye.delete(De),0===Ye.size&&Pe.delete(Qe),0===Pe.size&&(this._events.delete(mt),document.removeEventListener(mt,this._delegateEventHandler,_e)))}}const Q={enterDuration:225,exitDuration:150},ne=(0,F.i$)({passive:!0,capture:!0}),ie=["mousedown","touchstart"],ee=["mouseup","mouseleave","touchend","touchcancel"];class X{static#e=this._eventManager=new J;constructor(mt,Qe,De,Pe){this._target=mt,this._ngZone=Qe,this._platform=Pe,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Pe.isBrowser&&(this._containerElement=(0,L.fI)(De))}fadeInRipple(mt,Qe,De={}){const Pe=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Ye={...Q,...De.animation};De.centered&&(mt=Pe.left+Pe.width/2,Qe=Pe.top+Pe.height/2);const Ze=De.radius||function ue(Dt,mt,Qe){const De=Math.max(Math.abs(Dt-Qe.left),Math.abs(Dt-Qe.right)),Pe=Math.max(Math.abs(mt-Qe.top),Math.abs(mt-Qe.bottom));return Math.sqrt(De*De+Pe*Pe)}(mt,Qe,Pe),ct=mt-Pe.left,st=Qe-Pe.top,ut=Ye.enterDuration,kt=document.createElement("div");kt.classList.add("mat-ripple-element"),kt.style.left=ct-Ze+"px",kt.style.top=st-Ze+"px",kt.style.height=2*Ze+"px",kt.style.width=2*Ze+"px",null!=De.color&&(kt.style.backgroundColor=De.color),kt.style.transitionDuration=`${ut}ms`,this._containerElement.appendChild(kt);const $t=window.getComputedStyle(kt),Jt=$t.transitionDuration,an="none"===$t.transitionProperty||"0s"===Jt||"0s, 0s"===Jt||0===Pe.width&&0===Pe.height,fn=new se(this,kt,De,an);kt.style.transform="scale3d(1, 1, 1)",fn.state=0,De.persistent||(this._mostRecentTransientRipple=fn);let Mn=null;return!an&&(ut||Ye.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Nn=()=>this._finishRippleTransition(fn),Wn=()=>this._destroyRipple(fn);kt.addEventListener("transitionend",Nn),kt.addEventListener("transitioncancel",Wn),Mn={onTransitionEnd:Nn,onTransitionCancel:Wn}}),this._activeRipples.set(fn,Mn),(an||!ut)&&this._finishRippleTransition(fn),fn}fadeOutRipple(mt){if(2===mt.state||3===mt.state)return;const Qe=mt.element,De={...Q,...mt.config.animation};Qe.style.transitionDuration=`${De.exitDuration}ms`,Qe.style.opacity="0",mt.state=2,(mt._animationForciblyDisabledThroughCss||!De.exitDuration)&&this._finishRippleTransition(mt)}fadeOutAll(){this._getActiveRipples().forEach(mt=>mt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(mt=>{mt.config.persistent||mt.fadeOut()})}setupTriggerEvents(mt){const Qe=(0,L.fI)(mt);!this._platform.isBrowser||!Qe||Qe===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Qe,ie.forEach(De=>{X._eventManager.addHandler(this._ngZone,De,Qe,this)}))}handleEvent(mt){"mousedown"===mt.type?this._onMousedown(mt):"touchstart"===mt.type?this._onTouchStart(mt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ee.forEach(Qe=>{this._triggerElement.addEventListener(Qe,this,ne)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(mt){0===mt.state?this._startFadeOutTransition(mt):2===mt.state&&this._destroyRipple(mt)}_startFadeOutTransition(mt){const Qe=mt===this._mostRecentTransientRipple,{persistent:De}=mt.config;mt.state=1,!De&&(!Qe||!this._isPointerDown)&&mt.fadeOut()}_destroyRipple(mt){const Qe=this._activeRipples.get(mt)??null;this._activeRipples.delete(mt),this._activeRipples.size||(this._containerRect=null),mt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),mt.state=3,null!==Qe&&(mt.element.removeEventListener("transitionend",Qe.onTransitionEnd),mt.element.removeEventListener("transitioncancel",Qe.onTransitionCancel)),mt.element.remove()}_onMousedown(mt){const Qe=(0,t.X6)(mt),De=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Qe&&!De&&(this._isPointerDown=!0,this.fadeInRipple(mt.clientX,mt.clientY,this._target.rippleConfig))}_onTouchStart(mt){if(!this._target.rippleDisabled&&!(0,t.yG)(mt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Qe=mt.changedTouches;if(Qe)for(let De=0;De<Qe.length;De++)this.fadeInRipple(Qe[De].clientX,Qe[De].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(mt=>{!mt.config.persistent&&(1===mt.state||mt.config.terminateOnPointerUp&&0===mt.state)&&mt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const mt=this._triggerElement;mt&&(ie.forEach(Qe=>X._eventManager.removeHandler(Qe,mt,this)),this._pointerUpEventsRegistered&&ee.forEach(Qe=>mt.removeEventListener(Qe,this,ne)))}}const ve=new c.OlP("mat-ripple-global-options");let de=(()=>{class Dt{get disabled(){return this._disabled}set disabled(Qe){Qe&&this.fadeOutAllNonPersistent(),this._disabled=Qe,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Qe){this._trigger=Qe,this._setupTriggerEventsIfEnabled()}constructor(Qe,De,Pe,Ye,Ze){this._elementRef=Qe,this._animationMode=Ze,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Ye||{},this._rippleRenderer=new X(this,De,Qe,Pe)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Qe,De=0,Pe){return"number"==typeof Qe?this._rippleRenderer.fadeInRipple(Qe,De,{...this.rippleConfig,...Pe}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Qe})}static#e=this.\u0275fac=function(De){return new(De||Dt)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(F.t4),c.Y36(ve,8),c.Y36(c.QbO,8))};static#t=this.\u0275dir=c.lG2({type:Dt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(De,Pe){2&De&&c.ekj("mat-ripple-unbounded",Pe.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return Dt})(),xe=(()=>{class Dt{static#e=this.\u0275fac=function(De){return new(De||Dt)};static#t=this.\u0275mod=c.oAB({type:Dt});static#n=this.\u0275inj=c.cJS({imports:[B,B]})}return Dt})(),Ke=(()=>{class Dt{constructor(Qe){this._animationMode=Qe,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(De){return new(De||Dt)(c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:Dt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(De,Pe){2&De&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Pe.state)("mat-pseudo-checkbox-checked","checked"===Pe.state)("mat-pseudo-checkbox-disabled",Pe.disabled)("mat-pseudo-checkbox-minimal","minimal"===Pe.appearance)("mat-pseudo-checkbox-full","full"===Pe.appearance)("_mat-animation-noopable","NoopAnimations"===Pe._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(De,Pe){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return Dt})(),Ve=(()=>{class Dt{static#e=this.\u0275fac=function(De){return new(De||Dt)};static#t=this.\u0275mod=c.oAB({type:Dt});static#n=this.\u0275inj=c.cJS({imports:[B]})}return Dt})();const lt=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),Ut=new c.OlP("MatOptgroup");let Ht=0;class en{constructor(mt,Qe=!1){this.source=mt,this.isUserInput=Qe}}let ln=(()=>{class Dt{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Qe){this._disabled=(0,L.Ig)(Qe)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(Qe,De,Pe,Ye){this._element=Qe,this._changeDetectorRef=De,this._parent=Pe,this.group=Ye,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Ht++,this.onSelectionChange=new c.vpe,this._stateChanges=new p.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(Qe=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),Qe&&this._emitSelectionChangeEvent())}deselect(Qe=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),Qe&&this._emitSelectionChangeEvent())}focus(Qe,De){const Pe=this._getHostElement();"function"==typeof Pe.focus&&Pe.focus(De)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Qe){(Qe.keyCode===f.K5||Qe.keyCode===f.L_)&&!(0,f.Vb)(Qe)&&(this._selectViaInteraction(),Qe.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Qe=this.viewValue;Qe!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=Qe)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Qe=!1){this.onSelectionChange.emit(new en(this,Qe))}static#e=this.\u0275fac=function(De){c.$Z()};static#t=this.\u0275dir=c.lG2({type:Dt,viewQuery:function(De,Pe){if(1&De&&c.Gf(M,7),2&De){let Ye;c.iGM(Ye=c.CRH())&&(Pe._text=Ye.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return Dt})(),cn=(()=>{class Dt extends ln{constructor(Qe,De,Pe,Ye){super(Qe,De,Pe,Ye)}static#e=this.\u0275fac=function(De){return new(De||Dt)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(lt,8),c.Y36(Ut,8))};static#t=this.\u0275cmp=c.Xpm({type:Dt,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(De,Pe){1&De&&c.NdJ("click",function(){return Pe._selectViaInteraction()})("keydown",function(Ze){return Pe._handleKeydown(Ze)}),2&De&&(c.Ikx("id",Pe.id),c.uIk("aria-selected",Pe.selected)("aria-disabled",Pe.disabled.toString()),c.ekj("mdc-list-item--selected",Pe.selected)("mat-mdc-option-multiple",Pe.multiple)("mat-mdc-option-active",Pe.active)("mdc-list-item--disabled",Pe.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:O,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(De,Pe){1&De&&(c.F$t(k),c.YNc(0,U,1,2,"mat-pseudo-checkbox",0),c.Hsn(1),c.TgZ(2,"span",1,2),c.Hsn(4,1),c.qZA(),c.YNc(5,R,1,1,"mat-pseudo-checkbox",3),c.YNc(6,V,2,1,"span",4),c._UZ(7,"div",5)),2&De&&(c.Q6J("ngIf",Pe.multiple),c.xp6(5),c.Q6J("ngIf",!Pe.multiple&&Pe.selected&&!Pe.hideSingleSelectionIndicator),c.xp6(1),c.Q6J("ngIf",Pe.group&&Pe.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",Pe._getHostElement())("matRippleDisabled",Pe.disabled||Pe.disableRipple))},dependencies:[de,E.O5,Ke],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Dt})();function Wt(Dt,mt,Qe){if(Qe.length){let De=mt.toArray(),Pe=Qe.toArray(),Ye=0;for(let Ze=0;Ze<Dt+1;Ze++)De[Ze].group&&De[Ze].group===Pe[Ye]&&Ye++;return Ye}return 0}function Sn(Dt,mt,Qe,De){return Dt<Qe?Dt:Dt+mt>Qe+De?Math.max(0,Dt-De+mt):Qe}let nn=(()=>{class Dt{static#e=this.\u0275fac=function(De){return new(De||Dt)};static#t=this.\u0275mod=c.oAB({type:Dt});static#n=this.\u0275inj=c.cJS({imports:[xe,E.ez,B,Ve]})}return Dt})()},8034:(Bn,tt,S)=>{"use strict";S.d(tt,{FA:()=>Xn,Mq:()=>Lt,hl:()=>Wn,nW:()=>fi});var c=S(4300),t=S(3651),b=S(8484),w=S(6814),E=S(5879),F=S(2296),L=S(799),D=S(3680),p=S(8645),f=S(7394),g=S(3019),y=S(2096),M=S(6028),U=S(9388),R=S(2831),V=S(8180),k=S(7921),O=S(2181),x=S(2495),P=S(6825),T=S(95),N=S(4170),C=S(2032);const B=["mat-calendar-body",""];function Y(vt,un){if(1&vt&&(E.TgZ(0,"tr",3)(1,"td",4),E._uU(2),E.qZA()()),2&vt){const be=E.oxw();E.xp6(1),E.Udp("padding-top",be._cellPadding)("padding-bottom",be._cellPadding),E.uIk("colspan",be.numCols),E.xp6(1),E.hij(" ",be.label," ")}}function q(vt,un){if(1&vt&&(E.TgZ(0,"td",4),E._uU(1),E.qZA()),2&vt){const be=E.oxw(2);E.Udp("padding-top",be._cellPadding)("padding-bottom",be._cellPadding),E.uIk("colspan",be._firstRowOffset),E.xp6(1),E.hij(" ",be._firstRowOffset>=be.labelMinRequiredCells?be.label:""," ")}}function le(vt,un){if(1&vt){const be=E.EpF();E.TgZ(0,"td",8)(1,"button",9),E.NdJ("click",function(gt){const hn=E.CHM(be).$implicit,ti=E.oxw(2);return E.KtG(ti._cellClicked(hn,gt))})("focus",function(gt){const hn=E.CHM(be).$implicit,ti=E.oxw(2);return E.KtG(ti._emitActiveDateChange(hn,gt))}),E.TgZ(2,"span",10),E._uU(3),E.qZA(),E._UZ(4,"span",11),E.qZA()()}if(2&vt){const be=un.$implicit,yt=un.index,gt=E.oxw().index,rt=E.oxw();E.Udp("width",rt._cellWidth)("padding-top",rt._cellPadding)("padding-bottom",rt._cellPadding),E.uIk("data-mat-row",gt)("data-mat-col",yt),E.xp6(1),E.ekj("mat-calendar-body-disabled",!be.enabled)("mat-calendar-body-active",rt._isActiveCell(gt,yt))("mat-calendar-body-range-start",rt._isRangeStart(be.compareValue))("mat-calendar-body-range-end",rt._isRangeEnd(be.compareValue))("mat-calendar-body-in-range",rt._isInRange(be.compareValue))("mat-calendar-body-comparison-bridge-start",rt._isComparisonBridgeStart(be.compareValue,gt,yt))("mat-calendar-body-comparison-bridge-end",rt._isComparisonBridgeEnd(be.compareValue,gt,yt))("mat-calendar-body-comparison-start",rt._isComparisonStart(be.compareValue))("mat-calendar-body-comparison-end",rt._isComparisonEnd(be.compareValue))("mat-calendar-body-in-comparison-range",rt._isInComparisonRange(be.compareValue))("mat-calendar-body-preview-start",rt._isPreviewStart(be.compareValue))("mat-calendar-body-preview-end",rt._isPreviewEnd(be.compareValue))("mat-calendar-body-in-preview",rt._isInPreview(be.compareValue)),E.Q6J("ngClass",be.cssClasses)("tabindex",rt._isActiveCell(gt,yt)?0:-1),E.uIk("aria-label",be.ariaLabel)("aria-disabled",!be.enabled||null)("aria-pressed",rt._isSelected(be.compareValue))("aria-current",rt.todayValue===be.compareValue?"date":null)("aria-describedby",rt._getDescribedby(be.compareValue)),E.xp6(1),E.ekj("mat-calendar-body-selected",rt._isSelected(be.compareValue))("mat-calendar-body-comparison-identical",rt._isComparisonIdentical(be.compareValue))("mat-calendar-body-today",rt.todayValue===be.compareValue),E.xp6(1),E.hij(" ",be.displayValue," ")}}function Fe(vt,un){if(1&vt&&(E.TgZ(0,"tr",5),E.YNc(1,q,2,6,"td",6),E.YNc(2,le,5,48,"td",7),E.qZA()),2&vt){const be=un.$implicit,yt=un.index,gt=E.oxw();E.xp6(1),E.Q6J("ngIf",0===yt&&gt._firstRowOffset),E.xp6(1),E.Q6J("ngForOf",be)}}function $(vt,un){if(1&vt&&(E.TgZ(0,"th",5)(1,"span",6),E._uU(2),E.qZA(),E.TgZ(3,"span",7),E._uU(4),E.qZA()()),2&vt){const be=un.$implicit;E.xp6(2),E.Oqu(be.long),E.xp6(2),E.Oqu(be.narrow)}}const ae=["*"];function K(vt,un){}function ge(vt,un){if(1&vt){const be=E.EpF();E.TgZ(0,"mat-month-view",5),E.NdJ("activeDateChange",function(gt){E.CHM(be);const rt=E.oxw();return E.KtG(rt.activeDate=gt)})("_userSelection",function(gt){E.CHM(be);const rt=E.oxw();return E.KtG(rt._dateSelected(gt))})("dragStarted",function(gt){E.CHM(be);const rt=E.oxw();return E.KtG(rt._dragStarted(gt))})("dragEnded",function(gt){E.CHM(be);const rt=E.oxw();return E.KtG(rt._dragEnded(gt))}),E.qZA()}if(2&vt){const be=E.oxw();E.Q6J("activeDate",be.activeDate)("selected",be.selected)("dateFilter",be.dateFilter)("maxDate",be.maxDate)("minDate",be.minDate)("dateClass",be.dateClass)("comparisonStart",be.comparisonStart)("comparisonEnd",be.comparisonEnd)("startDateAccessibleName",be.startDateAccessibleName)("endDateAccessibleName",be.endDateAccessibleName)("activeDrag",be._activeDrag)}}function oe(vt,un){if(1&vt){const be=E.EpF();E.TgZ(0,"mat-year-view",6),E.NdJ("activeDateChange",function(gt){E.CHM(be);const rt=E.oxw();return E.KtG(rt.activeDate=gt)})("monthSelected",function(gt){E.CHM(be);const rt=E.oxw();return E.KtG(rt._monthSelectedInYearView(gt))})("selectedChange",function(gt){E.CHM(be);const rt=E.oxw();return E.KtG(rt._goToDateInView(gt,"month"))}),E.qZA()}if(2&vt){const be=E.oxw();E.Q6J("activeDate",be.activeDate)("selected",be.selected)("dateFilter",be.dateFilter)("maxDate",be.maxDate)("minDate",be.minDate)("dateClass",be.dateClass)}}function he(vt,un){if(1&vt){const be=E.EpF();E.TgZ(0,"mat-multi-year-view",7),E.NdJ("activeDateChange",function(gt){E.CHM(be);const rt=E.oxw();return E.KtG(rt.activeDate=gt)})("yearSelected",function(gt){E.CHM(be);const rt=E.oxw();return E.KtG(rt._yearSelectedInMultiYearView(gt))})("selectedChange",function(gt){E.CHM(be);const rt=E.oxw();return E.KtG(rt._goToDateInView(gt,"year"))}),E.qZA()}if(2&vt){const be=E.oxw();E.Q6J("activeDate",be.activeDate)("selected",be.selected)("dateFilter",be.dateFilter)("maxDate",be.maxDate)("minDate",be.minDate)("dateClass",be.dateClass)}}function Ce(vt,un){}const Le=["button"];function fe(vt,un){1&vt&&(E.O4$(),E.TgZ(0,"svg",3),E._UZ(1,"path",4),E.qZA())}const Re=[[["","matDatepickerToggleIcon",""]]],Ae=["[matDatepickerToggleIcon]"];let He=(()=>{class vt{constructor(){this.changes=new p.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(be,yt){return`${be} \u2013 ${yt}`}formatYearRangeLabel(be,yt){return`${be} to ${yt}`}static#e=this.\u0275fac=function(yt){return new(yt||vt)};static#t=this.\u0275prov=E.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"})}return vt})();class at{constructor(un,be,yt,gt,rt={},hn=un,ti){this.value=un,this.displayValue=be,this.ariaLabel=yt,this.enabled=gt,this.cssClasses=rt,this.compareValue=hn,this.rawValue=ti}}let Je=1;const Ne=(0,R.i$)({passive:!1,capture:!0}),Te=(0,R.i$)({passive:!0,capture:!0}),W=(0,R.i$)({passive:!0});let se=(()=>{class vt{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(be,yt){this._elementRef=be,this._ngZone=yt,this._platform=(0,E.f3M)(R.t4),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new E.vpe,this.previewChange=new E.vpe,this.activeDateChange=new E.vpe,this.dragStarted=new E.vpe,this.dragEnded=new E.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=gt=>{if(this._skipNextFocus&&"focus"===gt.type)this._skipNextFocus=!1;else if(gt.target&&this.isRange){const rt=this._getCellFromElement(gt.target);rt&&this._ngZone.run(()=>this.previewChange.emit({value:rt.enabled?rt:null,event:gt}))}},this._touchmoveHandler=gt=>{if(!this.isRange)return;const rt=ie(gt),hn=rt?this._getCellFromElement(rt):null;rt!==gt.target&&(this._didDragSinceMouseDown=!0),J(gt.target)&&gt.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:hn?.enabled?hn:null,event:gt}))},this._leaveHandler=gt=>{null!==this.previewEnd&&this.isRange&&("blur"!==gt.type&&(this._didDragSinceMouseDown=!0),gt.target&&this._getCellFromElement(gt.target)&&(!gt.relatedTarget||!this._getCellFromElement(gt.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:gt})))},this._mousedownHandler=gt=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const rt=gt.target&&this._getCellFromElement(gt.target);!rt||!this._isInRange(rt.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:rt.rawValue,event:gt})})},this._mouseupHandler=gt=>{if(!this.isRange)return;const rt=J(gt.target);rt?rt.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const hn=this._getCellFromElement(rt);this.dragEnded.emit({value:hn?.rawValue??null,event:gt})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:gt})})},this._touchendHandler=gt=>{const rt=ie(gt);rt&&this._mouseupHandler({target:rt})},this._id="mat-calendar-body-"+Je++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,yt.runOutsideAngular(()=>{const gt=be.nativeElement;gt.addEventListener("touchmove",this._touchmoveHandler,Ne),gt.addEventListener("mouseenter",this._enterHandler,Te),gt.addEventListener("focus",this._enterHandler,Te),gt.addEventListener("mouseleave",this._leaveHandler,Te),gt.addEventListener("blur",this._leaveHandler,Te),gt.addEventListener("mousedown",this._mousedownHandler,W),gt.addEventListener("touchstart",this._mousedownHandler,W),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(be,yt){this._didDragSinceMouseDown||be.enabled&&this.selectedValueChange.emit({value:be.value,event:yt})}_emitActiveDateChange(be,yt){be.enabled&&this.activeDateChange.emit({value:be.value,event:yt})}_isSelected(be){return this.startValue===be||this.endValue===be}ngOnChanges(be){const yt=be.numCols,{rows:gt,numCols:rt}=this;(be.rows||yt)&&(this._firstRowOffset=gt&&gt.length&&gt[0].length?rt-gt[0].length:0),(be.cellAspectRatio||yt||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/rt+"%"),(yt||!this._cellWidth)&&(this._cellWidth=100/rt+"%")}ngOnDestroy(){const be=this._elementRef.nativeElement;be.removeEventListener("touchmove",this._touchmoveHandler,Ne),be.removeEventListener("mouseenter",this._enterHandler,Te),be.removeEventListener("focus",this._enterHandler,Te),be.removeEventListener("mouseleave",this._leaveHandler,Te),be.removeEventListener("blur",this._leaveHandler,Te),be.removeEventListener("mousedown",this._mousedownHandler,W),be.removeEventListener("touchstart",this._mousedownHandler,W),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(be,yt){let gt=be*this.numCols+yt;return be&&(gt-=this._firstRowOffset),gt==this.activeCell}_focusActiveCell(be=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,V.q)(1)).subscribe(()=>{setTimeout(()=>{const yt=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");yt&&(be||(this._skipNextFocus=!0),yt.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(be){return Q(be,this.startValue,this.endValue)}_isRangeEnd(be){return Z(be,this.startValue,this.endValue)}_isInRange(be){return ne(be,this.startValue,this.endValue,this.isRange)}_isComparisonStart(be){return Q(be,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(be,yt,gt){if(!this._isComparisonStart(be)||this._isRangeStart(be)||!this._isInRange(be))return!1;let rt=this.rows[yt][gt-1];if(!rt){const hn=this.rows[yt-1];rt=hn&&hn[hn.length-1]}return rt&&!this._isRangeEnd(rt.compareValue)}_isComparisonBridgeEnd(be,yt,gt){if(!this._isComparisonEnd(be)||this._isRangeEnd(be)||!this._isInRange(be))return!1;let rt=this.rows[yt][gt+1];if(!rt){const hn=this.rows[yt+1];rt=hn&&hn[0]}return rt&&!this._isRangeStart(rt.compareValue)}_isComparisonEnd(be){return Z(be,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(be){return ne(be,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(be){return this.comparisonStart===this.comparisonEnd&&be===this.comparisonStart}_isPreviewStart(be){return Q(be,this.previewStart,this.previewEnd)}_isPreviewEnd(be){return Z(be,this.previewStart,this.previewEnd)}_isInPreview(be){return ne(be,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(be){return this.isRange?this.startValue===be&&this.endValue===be?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===be?this._startDateLabelId:this.endValue===be?this._endDateLabelId:null:null}_getCellFromElement(be){const yt=J(be);if(yt){const gt=yt.getAttribute("data-mat-row"),rt=yt.getAttribute("data-mat-col");if(gt&&rt)return this.rows[parseInt(gt)][parseInt(rt)]}return null}static#e=this.\u0275fac=function(yt){return new(yt||vt)(E.Y36(E.SBq),E.Y36(E.R0b))};static#t=this.\u0275cmp=E.Xpm({type:vt,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[E.TTD],attrs:B,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(yt,gt){1&yt&&(E.YNc(0,Y,3,6,"tr",0),E.YNc(1,Fe,3,2,"tr",1),E.TgZ(2,"label",2),E._uU(3),E.qZA(),E.TgZ(4,"label",2),E._uU(5),E.qZA()),2&yt&&(E.Q6J("ngIf",gt._firstRowOffset<gt.labelMinRequiredCells),E.xp6(1),E.Q6J("ngForOf",gt.rows),E.xp6(1),E.Q6J("id",gt._startDateLabelId),E.xp6(1),E.hij(" ",gt.startDateAccessibleName,"\n"),E.xp6(1),E.Q6J("id",gt._endDateLabelId),E.xp6(1),E.hij(" ",gt.endDateAccessibleName,"\n"))},dependencies:[w.mk,w.sg,w.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return vt})();function _e(vt){return"TD"===vt?.nodeName}function J(vt){let un;return _e(vt)?un=vt:_e(vt.parentNode)?un=vt.parentNode:_e(vt.parentNode?.parentNode)&&(un=vt.parentNode.parentNode),null!=un?.getAttribute("data-mat-row")?un:null}function Q(vt,un,be){return null!==be&&un!==be&&vt<be&&vt===un}function Z(vt,un,be){return null!==un&&un!==be&&vt>=un&&vt===be}function ne(vt,un,be,yt){return yt&&null!==un&&null!==be&&un!==be&&vt>=un&&vt<=be}function ie(vt){const un=vt.changedTouches[0];return document.elementFromPoint(un.clientX,un.clientY)}class ee{constructor(un,be){this.start=un,this.end=be}}let X=(()=>{class vt{constructor(be,yt){this.selection=be,this._adapter=yt,this._selectionChanged=new p.x,this.selectionChanged=this._selectionChanged,this.selection=be}updateSelection(be,yt){const gt=this.selection;this.selection=be,this._selectionChanged.next({selection:be,source:yt,oldValue:gt})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(be){return this._adapter.isDateInstance(be)&&this._adapter.isValid(be)}static#e=this.\u0275fac=function(yt){E.$Z()};static#t=this.\u0275prov=E.Yz7({token:vt,factory:vt.\u0275fac})}return vt})(),ue=(()=>{class vt extends X{constructor(be){super(null,be)}add(be){super.updateSelection(be,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const be=new vt(this._adapter);return be.updateSelection(this.selection,this),be}static#e=this.\u0275fac=function(yt){return new(yt||vt)(E.LFG(D._A))};static#t=this.\u0275prov=E.Yz7({token:vt,factory:vt.\u0275fac})}return vt})();const xe={provide:X,deps:[[new E.FiY,new E.tp0,X],D._A],useFactory:function de(vt,un){return vt||new ue(un)}},lt=new E.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let wt=(()=>{class vt{get activeDate(){return this._activeDate}set activeDate(be){const yt=this._activeDate,gt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(gt,this.minDate,this.maxDate),this._hasSameMonthAndYear(yt,this._activeDate)||this._init()}get selected(){return this._selected}set selected(be){this._selected=be instanceof ee?be:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(be){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get maxDate(){return this._maxDate}set maxDate(be){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}constructor(be,yt,gt,rt,hn){this._changeDetectorRef=be,this._dateFormats=yt,this._dateAdapter=gt,this._dir=rt,this._rangeStrategy=hn,this._rerenderSubscription=f.w0.EMPTY,this.activeDrag=null,this.selectedChange=new E.vpe,this._userSelection=new E.vpe,this.dragStarted=new E.vpe,this.dragEnded=new E.vpe,this.activeDateChange=new E.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnChanges(be){const yt=be.comparisonStart||be.comparisonEnd;yt&&!yt.firstChange&&this._setRanges(this.selected),be.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(be){const yt=be.value,gt=this._getDateFromDayOfMonth(yt);let rt,hn;this._selected instanceof ee?(rt=this._getDateInCurrentMonth(this._selected.start),hn=this._getDateInCurrentMonth(this._selected.end)):rt=hn=this._getDateInCurrentMonth(this._selected),(rt!==yt||hn!==yt)&&this.selectedChange.emit(gt),this._userSelection.emit({value:gt,event:be.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(be){const gt=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(be.value),this._dateAdapter.compareDate(gt,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(be){const yt=this._activeDate,gt=this._isRtl();switch(be.keyCode){case M.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,gt?1:-1);break;case M.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,gt?-1:1);break;case M.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case M.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case M.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case M.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case M.Ku:this.activeDate=be.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case M.VM:this.activeDate=be.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case M.K5:case M.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&be.preventDefault());case M.hY:return void(null!=this._previewEnd&&!(0,M.Vb)(be)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:be}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:be})),be.preventDefault(),be.stopPropagation()));default:return}this._dateAdapter.compareDate(yt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),be.preventDefault()}_handleCalendarBodyKeyup(be){(be.keyCode===M.L_||be.keyCode===M.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:be}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let be=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(be)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(be){this._matCalendarBody._focusActiveCell(be)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:be,value:yt}){if(this._rangeStrategy){const gt=yt?yt.rawValue:null,rt=this._rangeStrategy.createPreview(gt,this.selected,be);if(this._previewStart=this._getCellCompareValue(rt.start),this._previewEnd=this._getCellCompareValue(rt.end),this.activeDrag&&gt){const hn=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,gt,be);hn&&(this._previewStart=this._getCellCompareValue(hn.start),this._previewEnd=this._getCellCompareValue(hn.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(be){if(this.activeDrag)if(be.value){const yt=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,be.value,be.event);this.dragEnded.emit({value:yt??null,event:be.event})}else this.dragEnded.emit({value:null,event:be.event})}_getDateFromDayOfMonth(be){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),be)}_initWeekdays(){const be=this._dateAdapter.getFirstDayOfWeek(),yt=this._dateAdapter.getDayOfWeekNames("narrow");let rt=this._dateAdapter.getDayOfWeekNames("long").map((hn,ti)=>({long:hn,narrow:yt[ti]}));this._weekdays=rt.slice(be).concat(rt.slice(0,be))}_createWeekCells(){const be=this._dateAdapter.getNumDaysInMonth(this.activeDate),yt=this._dateAdapter.getDateNames();this._weeks=[[]];for(let gt=0,rt=this._firstWeekOffset;gt<be;gt++,rt++){7==rt&&(this._weeks.push([]),rt=0);const hn=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),gt+1),ti=this._shouldEnableDate(hn),ar=this._dateAdapter.format(hn,this._dateFormats.display.dateA11yLabel),$i=this.dateClass?this.dateClass(hn,"month"):void 0;this._weeks[this._weeks.length-1].push(new at(gt+1,yt[gt],ar,ti,$i,this._getCellCompareValue(hn),hn))}}_shouldEnableDate(be){return!!be&&(!this.minDate||this._dateAdapter.compareDate(be,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(be,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(be))}_getDateInCurrentMonth(be){return be&&this._hasSameMonthAndYear(be,this.activeDate)?this._dateAdapter.getDate(be):null}_hasSameMonthAndYear(be,yt){return!(!be||!yt||this._dateAdapter.getMonth(be)!=this._dateAdapter.getMonth(yt)||this._dateAdapter.getYear(be)!=this._dateAdapter.getYear(yt))}_getCellCompareValue(be){if(be){const yt=this._dateAdapter.getYear(be),gt=this._dateAdapter.getMonth(be),rt=this._dateAdapter.getDate(be);return new Date(yt,gt,rt).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(be){be instanceof ee?(this._rangeStart=this._getCellCompareValue(be.start),this._rangeEnd=this._getCellCompareValue(be.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(be),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(be){return!this.dateFilter||this.dateFilter(be)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(yt){return new(yt||vt)(E.Y36(E.sBO),E.Y36(D.sG,8),E.Y36(D._A,8),E.Y36(U.Is,8),E.Y36(lt,8))};static#t=this.\u0275cmp=E.Xpm({type:vt,selectors:[["mat-month-view"]],viewQuery:function(yt,gt){if(1&yt&&E.Gf(se,5),2&yt){let rt;E.iGM(rt=E.CRH())&&(gt._matCalendarBody=rt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[E.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(yt,gt){1&yt&&(E.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),E.YNc(3,$,5,2,"th",2),E.qZA(),E.TgZ(4,"tr"),E._UZ(5,"th",3),E.qZA()(),E.TgZ(6,"tbody",4),E.NdJ("selectedValueChange",function(hn){return gt._dateSelected(hn)})("activeDateChange",function(hn){return gt._updateActiveDate(hn)})("previewChange",function(hn){return gt._previewChanged(hn)})("dragStarted",function(hn){return gt.dragStarted.emit(hn)})("dragEnded",function(hn){return gt._dragEnded(hn)})("keyup",function(hn){return gt._handleCalendarBodyKeyup(hn)})("keydown",function(hn){return gt._handleCalendarBodyKeydown(hn)}),E.qZA()()),2&yt&&(E.xp6(3),E.Q6J("ngForOf",gt._weekdays),E.xp6(3),E.Q6J("label",gt._monthLabel)("rows",gt._weeks)("todayValue",gt._todayDate)("startValue",gt._rangeStart)("endValue",gt._rangeEnd)("comparisonStart",gt._comparisonRangeStart)("comparisonEnd",gt._comparisonRangeEnd)("previewStart",gt._previewStart)("previewEnd",gt._previewEnd)("isRange",gt._isRange)("labelMinRequiredCells",3)("activeCell",gt._dateAdapter.getDate(gt.activeDate)-1)("startDateAccessibleName",gt.startDateAccessibleName)("endDateAccessibleName",gt.endDateAccessibleName))},dependencies:[w.sg,se],encapsulation:2,changeDetection:0})}return vt})();const Ht=24;let ln=(()=>{class vt{get activeDate(){return this._activeDate}set activeDate(be){let yt=this._activeDate;const gt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(gt,this.minDate,this.maxDate),cn(this._dateAdapter,yt,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(be){this._selected=be instanceof ee?be:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be)),this._setSelectedYear(be)}get minDate(){return this._minDate}set minDate(be){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get maxDate(){return this._maxDate}set maxDate(be){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}constructor(be,yt,gt){this._changeDetectorRef=be,this._dateAdapter=yt,this._dir=gt,this._rerenderSubscription=f.w0.EMPTY,this.selectedChange=new E.vpe,this.yearSelected=new E.vpe,this.activeDateChange=new E.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const yt=this._dateAdapter.getYear(this._activeDate)-Wt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let gt=0,rt=[];gt<Ht;gt++)rt.push(yt+gt),4==rt.length&&(this._years.push(rt.map(hn=>this._createCellForYear(hn))),rt=[]);this._changeDetectorRef.markForCheck()}_yearSelected(be){const yt=be.value,gt=this._dateAdapter.createDate(yt,0,1),rt=this._getDateFromYear(yt);this.yearSelected.emit(gt),this.selectedChange.emit(rt)}_updateActiveDate(be){const gt=this._activeDate;this.activeDate=this._getDateFromYear(be.value),this._dateAdapter.compareDate(gt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(be){const yt=this._activeDate,gt=this._isRtl();switch(be.keyCode){case M.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,gt?1:-1);break;case M.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,gt?-1:1);break;case M.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case M.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case M.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Wt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case M.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ht-Wt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case M.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,be.altKey?10*-Ht:-Ht);break;case M.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,be.altKey?10*Ht:Ht);break;case M.K5:case M.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(yt,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),be.preventDefault()}_handleCalendarBodyKeyup(be){(be.keyCode===M.L_||be.keyCode===M.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:be}),this._selectionKeyPressed=!1)}_getActiveCell(){return Wt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(be){const yt=this._dateAdapter.getMonth(this.activeDate),gt=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(be,yt,1));return this._dateAdapter.createDate(be,yt,Math.min(this._dateAdapter.getDate(this.activeDate),gt))}_createCellForYear(be){const yt=this._dateAdapter.createDate(be,0,1),gt=this._dateAdapter.getYearName(yt),rt=this.dateClass?this.dateClass(yt,"multi-year"):void 0;return new at(be,gt,gt,this._shouldEnableYear(be),rt)}_shouldEnableYear(be){if(null==be||this.maxDate&&be>this._dateAdapter.getYear(this.maxDate)||this.minDate&&be<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let gt=this._dateAdapter.createDate(be,0,1);this._dateAdapter.getYear(gt)==be;gt=this._dateAdapter.addCalendarDays(gt,1))if(this.dateFilter(gt))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(be){if(this._selectedYear=null,be instanceof ee){const yt=be.start||be.end;yt&&(this._selectedYear=this._dateAdapter.getYear(yt))}else be&&(this._selectedYear=this._dateAdapter.getYear(be))}static#e=this.\u0275fac=function(yt){return new(yt||vt)(E.Y36(E.sBO),E.Y36(D._A,8),E.Y36(U.Is,8))};static#t=this.\u0275cmp=E.Xpm({type:vt,selectors:[["mat-multi-year-view"]],viewQuery:function(yt,gt){if(1&yt&&E.Gf(se,5),2&yt){let rt;E.iGM(rt=E.CRH())&&(gt._matCalendarBody=rt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(yt,gt){1&yt&&(E.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),E._UZ(3,"th",2),E.qZA()(),E.TgZ(4,"tbody",3),E.NdJ("selectedValueChange",function(hn){return gt._yearSelected(hn)})("activeDateChange",function(hn){return gt._updateActiveDate(hn)})("keyup",function(hn){return gt._handleCalendarBodyKeyup(hn)})("keydown",function(hn){return gt._handleCalendarBodyKeydown(hn)}),E.qZA()()),2&yt&&(E.xp6(4),E.Q6J("rows",gt._years)("todayValue",gt._todayYear)("startValue",gt._selectedYear)("endValue",gt._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",gt._getActiveCell()))},dependencies:[se],encapsulation:2,changeDetection:0})}return vt})();function cn(vt,un,be,yt,gt){const rt=vt.getYear(un),hn=vt.getYear(be),ti=Sn(vt,yt,gt);return Math.floor((rt-ti)/Ht)===Math.floor((hn-ti)/Ht)}function Wt(vt,un,be,yt){return function nn(vt,un){return(vt%un+un)%un}(vt.getYear(un)-Sn(vt,be,yt),Ht)}function Sn(vt,un,be){let yt=0;return be?yt=vt.getYear(be)-Ht+1:un&&(yt=vt.getYear(un)),yt}let Dt=(()=>{class vt{get activeDate(){return this._activeDate}set activeDate(be){let yt=this._activeDate;const gt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(gt,this.minDate,this.maxDate),this._dateAdapter.getYear(yt)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(be){this._selected=be instanceof ee?be:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be)),this._setSelectedMonth(be)}get minDate(){return this._minDate}set minDate(be){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get maxDate(){return this._maxDate}set maxDate(be){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}constructor(be,yt,gt,rt){this._changeDetectorRef=be,this._dateFormats=yt,this._dateAdapter=gt,this._dir=rt,this._rerenderSubscription=f.w0.EMPTY,this.selectedChange=new E.vpe,this.monthSelected=new E.vpe,this.activeDateChange=new E.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(be){const yt=be.value,gt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),yt,1);this.monthSelected.emit(gt);const rt=this._getDateFromMonth(yt);this.selectedChange.emit(rt)}_updateActiveDate(be){const gt=this._activeDate;this.activeDate=this._getDateFromMonth(be.value),this._dateAdapter.compareDate(gt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(be){const yt=this._activeDate,gt=this._isRtl();switch(be.keyCode){case M.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,gt?1:-1);break;case M.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,gt?-1:1);break;case M.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case M.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case M.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case M.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case M.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,be.altKey?-10:-1);break;case M.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,be.altKey?10:1);break;case M.K5:case M.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(yt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),be.preventDefault()}_handleCalendarBodyKeyup(be){(be.keyCode===M.L_||be.keyCode===M.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:be}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let be=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(yt=>yt.map(gt=>this._createCellForMonth(gt,be[gt]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(be){return be&&this._dateAdapter.getYear(be)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(be):null}_getDateFromMonth(be){const yt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),be,1),gt=this._dateAdapter.getNumDaysInMonth(yt);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),be,Math.min(this._dateAdapter.getDate(this.activeDate),gt))}_createCellForMonth(be,yt){const gt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),be,1),rt=this._dateAdapter.format(gt,this._dateFormats.display.monthYearA11yLabel),hn=this.dateClass?this.dateClass(gt,"year"):void 0;return new at(be,yt.toLocaleUpperCase(),rt,this._shouldEnableMonth(be),hn)}_shouldEnableMonth(be){const yt=this._dateAdapter.getYear(this.activeDate);if(null==be||this._isYearAndMonthAfterMaxDate(yt,be)||this._isYearAndMonthBeforeMinDate(yt,be))return!1;if(!this.dateFilter)return!0;for(let rt=this._dateAdapter.createDate(yt,be,1);this._dateAdapter.getMonth(rt)==be;rt=this._dateAdapter.addCalendarDays(rt,1))if(this.dateFilter(rt))return!0;return!1}_isYearAndMonthAfterMaxDate(be,yt){if(this.maxDate){const gt=this._dateAdapter.getYear(this.maxDate),rt=this._dateAdapter.getMonth(this.maxDate);return be>gt||be===gt&&yt>rt}return!1}_isYearAndMonthBeforeMinDate(be,yt){if(this.minDate){const gt=this._dateAdapter.getYear(this.minDate),rt=this._dateAdapter.getMonth(this.minDate);return be<gt||be===gt&&yt<rt}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(be){this._selectedMonth=be instanceof ee?this._getMonthInCurrentYear(be.start)||this._getMonthInCurrentYear(be.end):this._getMonthInCurrentYear(be)}static#e=this.\u0275fac=function(yt){return new(yt||vt)(E.Y36(E.sBO),E.Y36(D.sG,8),E.Y36(D._A,8),E.Y36(U.Is,8))};static#t=this.\u0275cmp=E.Xpm({type:vt,selectors:[["mat-year-view"]],viewQuery:function(yt,gt){if(1&yt&&E.Gf(se,5),2&yt){let rt;E.iGM(rt=E.CRH())&&(gt._matCalendarBody=rt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(yt,gt){1&yt&&(E.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),E._UZ(3,"th",2),E.qZA()(),E.TgZ(4,"tbody",3),E.NdJ("selectedValueChange",function(hn){return gt._monthSelected(hn)})("activeDateChange",function(hn){return gt._updateActiveDate(hn)})("keyup",function(hn){return gt._handleCalendarBodyKeyup(hn)})("keydown",function(hn){return gt._handleCalendarBodyKeydown(hn)}),E.qZA()()),2&yt&&(E.xp6(4),E.Q6J("label",gt._yearLabel)("rows",gt._months)("todayValue",gt._todayMonth)("startValue",gt._selectedMonth)("endValue",gt._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",gt._dateAdapter.getMonth(gt.activeDate)))},dependencies:[se],encapsulation:2,changeDetection:0})}return vt})(),mt=1,Qe=(()=>{class vt{constructor(be,yt,gt,rt,hn){this._intl=be,this.calendar=yt,this._dateAdapter=gt,this._dateFormats=rt,this._id="mat-calendar-header-"+mt++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>hn.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Ht)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Ht)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(be,yt){return"month"==this.calendar.currentView?this._dateAdapter.getYear(be)==this._dateAdapter.getYear(yt)&&this._dateAdapter.getMonth(be)==this._dateAdapter.getMonth(yt):"year"==this.calendar.currentView?this._dateAdapter.getYear(be)==this._dateAdapter.getYear(yt):cn(this._dateAdapter,be,yt,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const yt=this._dateAdapter.getYear(this.calendar.activeDate)-Wt(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),gt=yt+Ht-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(yt,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(gt,0,1))]}static#e=this.\u0275fac=function(yt){return new(yt||vt)(E.Y36(He),E.Y36((0,E.Gpc)(()=>De)),E.Y36(D._A,8),E.Y36(D.sG,8),E.Y36(E.sBO))};static#t=this.\u0275cmp=E.Xpm({type:vt,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:ae,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(yt,gt){1&yt&&(E.F$t(),E.TgZ(0,"div",0)(1,"div",1)(2,"button",2),E.NdJ("click",function(){return gt.currentPeriodClicked()}),E.TgZ(3,"span",3),E._uU(4),E.qZA(),E.O4$(),E.TgZ(5,"svg",4),E._UZ(6,"polygon",5),E.qZA()(),E.kcU(),E._UZ(7,"div",6),E.Hsn(8),E.TgZ(9,"button",7),E.NdJ("click",function(){return gt.previousClicked()}),E.qZA(),E.TgZ(10,"button",8),E.NdJ("click",function(){return gt.nextClicked()}),E.qZA()()(),E.TgZ(11,"label",9),E._uU(12),E.qZA()),2&yt&&(E.xp6(2),E.uIk("aria-label",gt.periodButtonLabel)("aria-describedby",gt._periodButtonLabelId),E.xp6(2),E.Oqu(gt.periodButtonText),E.xp6(1),E.ekj("mat-calendar-invert","month"!==gt.calendar.currentView),E.xp6(4),E.Q6J("disabled",!gt.previousEnabled()),E.uIk("aria-label",gt.prevButtonLabel),E.xp6(1),E.Q6J("disabled",!gt.nextEnabled()),E.uIk("aria-label",gt.nextButtonLabel),E.xp6(1),E.Q6J("id",gt._periodButtonLabelId),E.xp6(1),E.Oqu(gt.periodButtonDescription))},dependencies:[F.lW,F.RK],encapsulation:2,changeDetection:0})}return vt})(),De=(()=>{class vt{get startAt(){return this._startAt}set startAt(be){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get selected(){return this._selected}set selected(be){this._selected=be instanceof ee?be:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get minDate(){return this._minDate}set minDate(be){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get maxDate(){return this._maxDate}set maxDate(be){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get activeDate(){return this._clampedActiveDate}set activeDate(be){this._clampedActiveDate=this._dateAdapter.clampDate(be,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(be){const yt=this._currentView!==be?be:null;this._currentView=be,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),yt&&this.viewChanged.emit(yt)}constructor(be,yt,gt,rt){this._dateAdapter=yt,this._dateFormats=gt,this._changeDetectorRef=rt,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new E.vpe,this.yearSelected=new E.vpe,this.monthSelected=new E.vpe,this.viewChanged=new E.vpe(!0),this._userSelection=new E.vpe,this._userDragDrop=new E.vpe,this._activeDrag=null,this.stateChanges=new p.x,this._intlChanges=be.changes.subscribe(()=>{rt.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new b.C5(this.headerComponent||Qe),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(be){const yt=be.minDate&&!this._dateAdapter.sameDate(be.minDate.previousValue,be.minDate.currentValue)?be.minDate:void 0,gt=be.maxDate&&!this._dateAdapter.sameDate(be.maxDate.previousValue,be.maxDate.currentValue)?be.maxDate:void 0,rt=yt||gt||be.dateFilter;if(rt&&!rt.firstChange){const hn=this._getCurrentViewComponent();hn&&(this._changeDetectorRef.detectChanges(),hn._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(be){const yt=be.value;(this.selected instanceof ee||yt&&!this._dateAdapter.sameDate(yt,this.selected))&&this.selectedChange.emit(yt),this._userSelection.emit(be)}_yearSelectedInMultiYearView(be){this.yearSelected.emit(be)}_monthSelectedInYearView(be){this.monthSelected.emit(be)}_goToDateInView(be,yt){this.activeDate=be,this.currentView=yt}_dragStarted(be){this._activeDrag=be}_dragEnded(be){this._activeDrag&&(be.value&&this._userDragDrop.emit(be),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(yt){return new(yt||vt)(E.Y36(He),E.Y36(D._A,8),E.Y36(D.sG,8),E.Y36(E.sBO))};static#t=this.\u0275cmp=E.Xpm({type:vt,selectors:[["mat-calendar"]],viewQuery:function(yt,gt){if(1&yt&&(E.Gf(wt,5),E.Gf(Dt,5),E.Gf(ln,5)),2&yt){let rt;E.iGM(rt=E.CRH())&&(gt.monthView=rt.first),E.iGM(rt=E.CRH())&&(gt.yearView=rt.first),E.iGM(rt=E.CRH())&&(gt.multiYearView=rt.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[E._Bn([xe]),E.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(yt,gt){1&yt&&(E.YNc(0,K,0,0,"ng-template",0),E.TgZ(1,"div",1),E.YNc(2,ge,1,11,"mat-month-view",2),E.YNc(3,oe,1,6,"mat-year-view",3),E.YNc(4,he,1,6,"mat-multi-year-view",4),E.qZA()),2&yt&&(E.Q6J("cdkPortalOutlet",gt._calendarHeaderPortal),E.xp6(1),E.Q6J("ngSwitch",gt.currentView),E.xp6(1),E.Q6J("ngSwitchCase","month"),E.xp6(1),E.Q6J("ngSwitchCase","year"),E.xp6(1),E.Q6J("ngSwitchCase","multi-year"))},dependencies:[w.RF,w.n9,c.kH,b.Pl,wt,Dt,ln],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return vt})();const Pe={transformPanel:(0,P.X$)("transformPanel",[(0,P.eR)("void => enter-dropdown",(0,P.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,P.F4)([(0,P.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,P.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,P.eR)("void => enter-dialog",(0,P.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,P.F4)([(0,P.oB)({opacity:0,transform:"scale(0.7)"}),(0,P.oB)({transform:"none",opacity:1})]))),(0,P.eR)("* => void",(0,P.jt)("100ms linear",(0,P.oB)({opacity:0})))]),fadeInCalendar:(0,P.X$)("fadeInCalendar",[(0,P.SB)("void",(0,P.oB)({opacity:0})),(0,P.SB)("enter",(0,P.oB)({opacity:1})),(0,P.eR)("void => *",(0,P.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Ye=0;const Ze=new E.OlP("mat-datepicker-scroll-strategy"),st={provide:Ze,deps:[t.aV],useFactory:function ct(vt){return()=>vt.scrollStrategies.reposition()}},ut=(0,D.pj)(class{constructor(vt){this._elementRef=vt}});let kt=(()=>{class vt extends ut{constructor(be,yt,gt,rt,hn,ti){super(be),this._changeDetectorRef=yt,this._globalModel=gt,this._dateAdapter=rt,this._rangeSelectionStrategy=hn,this._subscriptions=new f.w0,this._animationDone=new p.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=ti.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(be){const yt=this._model.selection,gt=be.value,rt=yt instanceof ee;if(rt&&this._rangeSelectionStrategy){const hn=this._rangeSelectionStrategy.selectionFinished(gt,yt,be.event);this._model.updateSelection(hn,this)}else gt&&(rt||!this._dateAdapter.sameDate(gt,yt))&&this._model.add(gt);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(be){this._model.updateSelection(be.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(be){this._isAnimating="start"===be.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(be,yt){this._model=be?this._globalModel.clone():this._globalModel,this._actionsPortal=be,yt&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(yt){return new(yt||vt)(E.Y36(E.SBq),E.Y36(E.sBO),E.Y36(X),E.Y36(D._A),E.Y36(lt,8),E.Y36(He))};static#t=this.\u0275cmp=E.Xpm({type:vt,selectors:[["mat-datepicker-content"]],viewQuery:function(yt,gt){if(1&yt&&E.Gf(De,5),2&yt){let rt;E.iGM(rt=E.CRH())&&(gt._calendar=rt.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(yt,gt){1&yt&&E.WFA("@transformPanel.start",function(hn){return gt._handleAnimationEvent(hn)})("@transformPanel.done",function(hn){return gt._handleAnimationEvent(hn)}),2&yt&&(E.d8E("@transformPanel",gt._animationState),E.ekj("mat-datepicker-content-touch",gt.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[E.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(yt,gt){if(1&yt&&(E.TgZ(0,"div",0)(1,"mat-calendar",1),E.NdJ("yearSelected",function(hn){return gt.datepicker._selectYear(hn)})("monthSelected",function(hn){return gt.datepicker._selectMonth(hn)})("viewChanged",function(hn){return gt.datepicker._viewChanged(hn)})("_userSelection",function(hn){return gt._handleUserSelection(hn)})("_userDragDrop",function(hn){return gt._handleUserDragDrop(hn)}),E.qZA(),E.YNc(2,Ce,0,0,"ng-template",2),E.TgZ(3,"button",3),E.NdJ("focus",function(){return gt._closeButtonFocused=!0})("blur",function(){return gt._closeButtonFocused=!1})("click",function(){return gt.datepicker.close()}),E._uU(4),E.qZA()()),2&yt){let rt;E.ekj("mat-datepicker-content-container-with-custom-header",gt.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",gt._actionsPortal),E.uIk("aria-modal",!0)("aria-labelledby",null!==(rt=gt._dialogLabelId)&&void 0!==rt?rt:void 0),E.xp6(1),E.Q6J("id",gt.datepicker.id)("ngClass",gt.datepicker.panelClass)("startAt",gt.datepicker.startAt)("startView",gt.datepicker.startView)("minDate",gt.datepicker._getMinDate())("maxDate",gt.datepicker._getMaxDate())("dateFilter",gt.datepicker._getDateFilter())("headerComponent",gt.datepicker.calendarHeaderComponent)("selected",gt._getSelected())("dateClass",gt.datepicker.dateClass)("comparisonStart",gt.comparisonStart)("comparisonEnd",gt.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",gt.startDateAccessibleName)("endDateAccessibleName",gt.endDateAccessibleName),E.xp6(1),E.Q6J("cdkPortalOutlet",gt._actionsPortal),E.xp6(1),E.ekj("cdk-visually-hidden",!gt._closeButtonFocused),E.Q6J("color",gt.color||"primary"),E.xp6(1),E.Oqu(gt._closeButtonText)}},dependencies:[w.mk,F.lW,c.mK,b.Pl,De],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Pe.transformPanel,Pe.fadeInCalendar]},changeDetection:0})}return vt})(),$t=(()=>{class vt{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(be){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(be){this._color=be}get touchUi(){return this._touchUi}set touchUi(be){this._touchUi=(0,x.Ig)(be)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(be){const yt=(0,x.Ig)(be);yt!==this._disabled&&(this._disabled=yt,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(be){this._restoreFocus=(0,x.Ig)(be)}get panelClass(){return this._panelClass}set panelClass(be){this._panelClass=(0,x.du)(be)}get opened(){return this._opened}set opened(be){(0,x.Ig)(be)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(be,yt,gt,rt,hn,ti,ar){this._overlay=be,this._ngZone=yt,this._viewContainerRef=gt,this._dateAdapter=hn,this._dir=ti,this._model=ar,this._inputStateChanges=f.w0.EMPTY,this._document=(0,E.f3M)(w.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new E.vpe,this.monthSelected=new E.vpe,this.viewChanged=new E.vpe(!0),this.openedStream=new E.vpe,this.closedStream=new E.vpe,this._opened=!1,this.id="mat-datepicker-"+Ye++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new p.x,this._scrollStrategy=rt}ngOnChanges(be){const yt=be.xPosition||be.yPosition;if(yt&&!yt.firstChange&&this._overlayRef){const gt=this._overlayRef.getConfig().positionStrategy;gt instanceof t._G&&(this._setConnectedPositions(gt),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(be){this._model.add(be)}_selectYear(be){this.yearSelected.emit(be)}_selectMonth(be){this.monthSelected.emit(be)}_viewChanged(be){this.viewChanged.emit(be)}registerInput(be){return this._inputStateChanges.unsubscribe(),this.datepickerInput=be,this._inputStateChanges=be.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(be){this._actionsPortal=be,this._componentRef?.instance._assignActions(be,!0)}removeActions(be){be===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,R.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const be=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,yt=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:gt,location:rt}=this._componentRef;gt._startExitAnimation(),gt._animationDone.pipe((0,V.q)(1)).subscribe(()=>{const hn=this._document.activeElement;be&&(!hn||hn===this._document.activeElement||rt.nativeElement.contains(hn))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}be?setTimeout(yt):yt()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(be){be.datepicker=this,be.color=this.color,be._dialogLabelId=this.datepickerInput.getOverlayLabelId(),be._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const be=this.touchUi,yt=new b.C5(kt,this._viewContainerRef),gt=this._overlayRef=this._overlay.create(new t.X_({positionStrategy:be?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[be?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:be?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(be?"dialog":"popup")}));this._getCloseStream(gt).subscribe(rt=>{rt&&rt.preventDefault(),this.close()}),gt.keydownEvents().subscribe(rt=>{const hn=rt.keyCode;(hn===M.LH||hn===M.JH||hn===M.oh||hn===M.SV||hn===M.Ku||hn===M.VM)&&rt.preventDefault()}),this._componentRef=gt.attach(yt),this._forwardContentValues(this._componentRef.instance),be||this._ngZone.onStable.pipe((0,V.q)(1)).subscribe(()=>gt.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const be=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(be)}_setConnectedPositions(be){const yt="end"===this.xPosition?"end":"start",gt="start"===yt?"end":"start",rt="above"===this.yPosition?"bottom":"top",hn="top"===rt?"bottom":"top";return be.withPositions([{originX:yt,originY:hn,overlayX:yt,overlayY:rt},{originX:yt,originY:rt,overlayX:yt,overlayY:hn},{originX:gt,originY:hn,overlayX:gt,overlayY:rt},{originX:gt,originY:rt,overlayX:gt,overlayY:hn}])}_getCloseStream(be){const yt=["ctrlKey","shiftKey","metaKey"];return(0,g.T)(be.backdropClick(),be.detachments(),be.keydownEvents().pipe((0,O.h)(gt=>gt.keyCode===M.hY&&!(0,M.Vb)(gt)||this.datepickerInput&&(0,M.Vb)(gt,"altKey")&&gt.keyCode===M.LH&&yt.every(rt=>!(0,M.Vb)(gt,rt)))))}static#e=this.\u0275fac=function(yt){return new(yt||vt)(E.Y36(t.aV),E.Y36(E.R0b),E.Y36(E.s_b),E.Y36(Ze),E.Y36(D._A,8),E.Y36(U.Is,8),E.Y36(X))};static#t=this.\u0275dir=E.lG2({type:vt,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[E.TTD]})}return vt})(),Lt=(()=>{class vt extends $t{static#e=this.\u0275fac=function(){let be;return function(gt){return(be||(be=E.n5z(vt)))(gt||vt)}}();static#t=this.\u0275cmp=E.Xpm({type:vt,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[E._Bn([xe,{provide:$t,useExisting:vt}]),E.qOj],decls:0,vars:0,template:function(yt,gt){},encapsulation:2,changeDetection:0})}return vt})();class Jt{constructor(un,be){this.target=un,this.targetElement=be,this.value=this.target.value}}let an=(()=>{class vt{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(be){this._assignValueProgrammatically(be)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(be){const yt=(0,x.Ig)(be),gt=this._elementRef.nativeElement;this._disabled!==yt&&(this._disabled=yt,this.stateChanges.next(void 0)),yt&&this._isInitialized&&gt.blur&&gt.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(be){this._model=be,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(yt=>{if(this._shouldHandleChangeEvent(yt)){const gt=this._getValueFromModel(yt.selection);this._lastValueValid=this._isValidValue(gt),this._cvaOnChange(gt),this._onTouched(),this._formatValue(gt),this.dateInput.emit(new Jt(this,this._elementRef.nativeElement)),this.dateChange.emit(new Jt(this,this._elementRef.nativeElement))}})}constructor(be,yt,gt){this._elementRef=be,this._dateAdapter=yt,this._dateFormats=gt,this.dateChange=new E.vpe,this.dateInput=new E.vpe,this.stateChanges=new p.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=f.w0.EMPTY,this._localeSubscription=f.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=rt=>{const hn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(rt.value));return!hn||this._matchesFilter(hn)?null:{matDatepickerFilter:!0}},this._minValidator=rt=>{const hn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(rt.value)),ti=this._getMinDate();return!ti||!hn||this._dateAdapter.compareDate(ti,hn)<=0?null:{matDatepickerMin:{min:ti,actual:hn}}},this._maxValidator=rt=>{const hn=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(rt.value)),ti=this._getMaxDate();return!ti||!hn||this._dateAdapter.compareDate(ti,hn)>=0?null:{matDatepickerMax:{max:ti,actual:hn}}},this._lastValueValid=!1,this._localeSubscription=yt.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(be){(function fn(vt,un){const be=Object.keys(vt);for(let yt of be){const{previousValue:gt,currentValue:rt}=vt[yt];if(!un.isDateInstance(gt)||!un.isDateInstance(rt))return!0;if(!un.sameDate(gt,rt))return!0}return!1})(be,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(be){this._validatorOnChange=be}validate(be){return this._validator?this._validator(be):null}writeValue(be){this._assignValueProgrammatically(be)}registerOnChange(be){this._cvaOnChange=be}registerOnTouched(be){this._onTouched=be}setDisabledState(be){this.disabled=be}_onKeydown(be){(0,M.Vb)(be,"altKey")&&be.keyCode===M.JH&&["ctrlKey","shiftKey","metaKey"].every(rt=>!(0,M.Vb)(be,rt))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),be.preventDefault())}_onInput(be){const yt=this._lastValueValid;let gt=this._dateAdapter.parse(be,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(gt),gt=this._dateAdapter.getValidDateOrNull(gt);const rt=!this._dateAdapter.sameDate(gt,this.value);!gt||rt?this._cvaOnChange(gt):(be&&!this.value&&this._cvaOnChange(gt),yt!==this._lastValueValid&&this._validatorOnChange()),rt&&(this._assignValue(gt),this.dateInput.emit(new Jt(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Jt(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(be){this._elementRef.nativeElement.value=null!=be?this._dateAdapter.format(be,this._dateFormats.display.dateInput):""}_assignValue(be){this._model?(this._assignValueToModel(be),this._pendingValue=null):this._pendingValue=be}_isValidValue(be){return!be||this._dateAdapter.isValid(be)}_parentDisabled(){return!1}_assignValueProgrammatically(be){be=this._dateAdapter.deserialize(be),this._lastValueValid=this._isValidValue(be),be=this._dateAdapter.getValidDateOrNull(be),this._assignValue(be),this._formatValue(be)}_matchesFilter(be){const yt=this._getDateFilter();return!yt||yt(be)}static#e=this.\u0275fac=function(yt){return new(yt||vt)(E.Y36(E.SBq),E.Y36(D._A,8),E.Y36(D.sG,8))};static#t=this.\u0275dir=E.lG2({type:vt,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[E.TTD]})}return vt})();const Mn={provide:T.JU,useExisting:(0,E.Gpc)(()=>Wn),multi:!0},Nn={provide:T.Cf,useExisting:(0,E.Gpc)(()=>Wn),multi:!0};let Wn=(()=>{class vt extends an{set matDatepicker(be){be&&(this._datepicker=be,this._closedSubscription=be.closedStream.subscribe(()=>this._onTouched()),this._registerModel(be.registerInput(this)))}get min(){return this._min}set min(be){const yt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be));this._dateAdapter.sameDate(yt,this._min)||(this._min=yt,this._validatorOnChange())}get max(){return this._max}set max(be){const yt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(be));this._dateAdapter.sameDate(yt,this._max)||(this._max=yt,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(be){const yt=this._matchesFilter(this.value);this._dateFilter=be,this._matchesFilter(this.value)!==yt&&this._validatorOnChange()}constructor(be,yt,gt,rt){super(be,yt,gt),this._formField=rt,this._closedSubscription=f.w0.EMPTY,this._validator=T.kI.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(be){return be}_assignValueToModel(be){this._model&&this._model.updateSelection(be,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(be){return be.source!==this}static#e=this.\u0275fac=function(yt){return new(yt||vt)(E.Y36(E.SBq),E.Y36(D._A,8),E.Y36(D.sG,8),E.Y36(N.G_,8))};static#t=this.\u0275dir=E.lG2({type:vt,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(yt,gt){1&yt&&E.NdJ("input",function(hn){return gt._onInput(hn.target.value)})("change",function(){return gt._onChange()})("blur",function(){return gt._onBlur()})("keydown",function(hn){return gt._onKeydown(hn)}),2&yt&&(E.Ikx("disabled",gt.disabled),E.uIk("aria-haspopup",gt._datepicker?"dialog":null)("aria-owns",(null==gt._datepicker?null:gt._datepicker.opened)&&gt._datepicker.id||null)("min",gt.min?gt._dateAdapter.toIso8601(gt.min):null)("max",gt.max?gt._dateAdapter.toIso8601(gt.max):null)("data-mat-calendar",gt._datepicker?gt._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[E._Bn([Mn,Nn,{provide:C.Jk,useExisting:vt}]),E.qOj]})}return vt})(),Gn=(()=>{class vt{static#e=this.\u0275fac=function(yt){return new(yt||vt)};static#t=this.\u0275dir=E.lG2({type:vt,selectors:[["","matDatepickerToggleIcon",""]]})}return vt})(),fi=(()=>{class vt{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(be){this._disabled=(0,x.Ig)(be)}constructor(be,yt,gt){this._intl=be,this._changeDetectorRef=yt,this._stateChanges=f.w0.EMPTY;const rt=Number(gt);this.tabIndex=rt||0===rt?rt:null}ngOnChanges(be){be.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(be){this.datepicker&&!this.disabled&&(this.datepicker.open(),be.stopPropagation())}_watchStateChanges(){const be=this.datepicker?this.datepicker.stateChanges:(0,y.of)(),yt=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,y.of)(),gt=this.datepicker?(0,g.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,y.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,g.T)(this._intl.changes,be,yt,gt).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(yt){return new(yt||vt)(E.Y36(He),E.Y36(E.sBO),E.$8M("tabindex"))};static#t=this.\u0275cmp=E.Xpm({type:vt,selectors:[["mat-datepicker-toggle"]],contentQueries:function(yt,gt,rt){if(1&yt&&E.Suo(rt,Gn,5),2&yt){let hn;E.iGM(hn=E.CRH())&&(gt._customIcon=hn.first)}},viewQuery:function(yt,gt){if(1&yt&&E.Gf(Le,5),2&yt){let rt;E.iGM(rt=E.CRH())&&(gt._button=rt.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(yt,gt){1&yt&&E.NdJ("click",function(hn){return gt._open(hn)}),2&yt&&(E.uIk("tabindex",null)("data-mat-calendar",gt.datepicker?gt.datepicker.id:null),E.ekj("mat-datepicker-toggle-active",gt.datepicker&&gt.datepicker.opened)("mat-accent",gt.datepicker&&"accent"===gt.datepicker.color)("mat-warn",gt.datepicker&&"warn"===gt.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[E.TTD],ngContentSelectors:Ae,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(yt,gt){1&yt&&(E.F$t(Re),E.TgZ(0,"button",0,1),E.YNc(2,fe,2,0,"svg",2),E.Hsn(3),E.qZA()),2&yt&&(E.Q6J("disabled",gt.disabled)("disableRipple",gt.disableRipple),E.uIk("aria-haspopup",gt.datepicker?"dialog":null)("aria-label",gt.ariaLabel||gt._intl.openCalendarLabel)("tabindex",gt.disabled?-1:gt.tabIndex),E.xp6(2),E.Q6J("ngIf",!gt._customIcon))},dependencies:[w.O5,F.RK],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return vt})(),Xn=(()=>{class vt{static#e=this.\u0275fac=function(yt){return new(yt||vt)};static#t=this.\u0275mod=E.oAB({type:vt});static#n=this.\u0275inj=E.cJS({providers:[He,st],imports:[w.ez,F.ot,t.U8,c.rt,b.eL,D.BQ,L.ZD]})}return vt})()},7700:(Bn,tt,S)=>{"use strict";S.d(tt,{WI:()=>Je,uw:()=>Z,H8:()=>ue,vA:()=>he,xY:()=>X,Is:()=>de,so:()=>He,uh:()=>ee});var c=S(3651),t=S(6814),b=S(5879),w=S(4300),E=S(2831),F=S(8484),L=S(6028),D=S(8645),p=S(4911),f=S(2096),g=S(9388),y=S(7921);function M(Ve,lt){}class U{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let V=(()=>{class Ve extends F.en{constructor(dt,it,bt,Ut,wt,Ht,en,ln){super(),this._elementRef=dt,this._focusTrapFactory=it,this._config=Ut,this._interactivityChecker=wt,this._ngZone=Ht,this._overlayRef=en,this._focusMonitor=ln,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=cn=>{this._portalOutlet.hasAttached();const Wt=this._portalOutlet.attachDomPortal(cn);return this._contentAttached(),Wt},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=bt}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(dt){this._portalOutlet.hasAttached();const it=this._portalOutlet.attachComponentPortal(dt);return this._contentAttached(),it}attachTemplatePortal(dt){this._portalOutlet.hasAttached();const it=this._portalOutlet.attachTemplatePortal(dt);return this._contentAttached(),it}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(dt,it){this._interactivityChecker.isFocusable(dt)||(dt.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const bt=()=>{dt.removeEventListener("blur",bt),dt.removeEventListener("mousedown",bt),dt.removeAttribute("tabindex")};dt.addEventListener("blur",bt),dt.addEventListener("mousedown",bt)})),dt.focus(it)}_focusByCssSelector(dt,it){let bt=this._elementRef.nativeElement.querySelector(dt);bt&&this._forceFocus(bt,it)}_trapFocus(){const dt=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||dt.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(it=>{it||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const dt=this._config.restoreFocus;let it=null;if("string"==typeof dt?it=this._document.querySelector(dt):"boolean"==typeof dt?it=dt?this._elementFocusedBeforeDialogWasOpened:null:dt&&(it=dt),this._config.restoreFocus&&it&&"function"==typeof it.focus){const bt=(0,E.ht)(),Ut=this._elementRef.nativeElement;(!bt||bt===this._document.body||bt===Ut||Ut.contains(bt))&&(this._focusMonitor?(this._focusMonitor.focusVia(it,this._closeInteractionType),this._closeInteractionType=null):it.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const dt=this._elementRef.nativeElement,it=(0,E.ht)();return dt===it||dt.contains(it)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,E.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(it){return new(it||Ve)(b.Y36(b.SBq),b.Y36(w.qV),b.Y36(t.K0,8),b.Y36(U),b.Y36(w.ic),b.Y36(b.R0b),b.Y36(c.Iu),b.Y36(w.tE))};static#t=this.\u0275cmp=b.Xpm({type:Ve,selectors:[["cdk-dialog-container"]],viewQuery:function(it,bt){if(1&it&&b.Gf(F.Pl,7),2&it){let Ut;b.iGM(Ut=b.CRH())&&(bt._portalOutlet=Ut.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(it,bt){2&it&&b.uIk("id",bt._config.id||null)("role",bt._config.role)("aria-modal",bt._config.ariaModal)("aria-labelledby",bt._config.ariaLabel?null:bt._ariaLabelledBy)("aria-label",bt._config.ariaLabel)("aria-describedby",bt._config.ariaDescribedBy||null)},features:[b.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(it,bt){1&it&&b.YNc(0,M,0,0,"ng-template",0)},dependencies:[F.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return Ve})();class k{constructor(lt,dt){this.overlayRef=lt,this.config=dt,this.closed=new D.x,this.disableClose=dt.disableClose,this.backdropClick=lt.backdropClick(),this.keydownEvents=lt.keydownEvents(),this.outsidePointerEvents=lt.outsidePointerEvents(),this.id=dt.id,this.keydownEvents.subscribe(it=>{it.keyCode===L.hY&&!this.disableClose&&!(0,L.Vb)(it)&&(it.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=lt.detachments().subscribe(()=>{!1!==dt.closeOnOverlayDetachments&&this.close()})}close(lt,dt){if(this.containerInstance){const it=this.closed;this.containerInstance._closeInteractionType=dt?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),it.next(lt),it.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(lt="",dt=""){return this.overlayRef.updateSize({width:lt,height:dt}),this}addPanelClass(lt){return this.overlayRef.addPanelClass(lt),this}removePanelClass(lt){return this.overlayRef.removePanelClass(lt),this}}const O=new b.OlP("DialogScrollStrategy"),x=new b.OlP("DialogData"),P=new b.OlP("DefaultDialogConfig"),N={provide:O,deps:[c.aV],useFactory:function T(Ve){return()=>Ve.scrollStrategies.block()}};let C=0,B=(()=>{class Ve{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(dt,it,bt,Ut,wt,Ht){this._overlay=dt,this._injector=it,this._defaultOptions=bt,this._parentDialog=Ut,this._overlayContainer=wt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new D.x,this._afterOpenedAtThisLevel=new D.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,p.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,y.O)(void 0))),this._scrollStrategy=Ht}open(dt,it){(it={...this._defaultOptions||new U,...it}).id=it.id||"cdk-dialog-"+C++,it.id&&this.getDialogById(it.id);const Ut=this._getOverlayConfig(it),wt=this._overlay.create(Ut),Ht=new k(wt,it),en=this._attachContainer(wt,Ht,it);return Ht.containerInstance=en,this._attachDialogContent(dt,Ht,en,it),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(Ht),Ht.closed.subscribe(()=>this._removeOpenDialog(Ht,!0)),this.afterOpened.next(Ht),Ht}closeAll(){Y(this.openDialogs,dt=>dt.close())}getDialogById(dt){return this.openDialogs.find(it=>it.id===dt)}ngOnDestroy(){Y(this._openDialogsAtThisLevel,dt=>{!1===dt.config.closeOnDestroy&&this._removeOpenDialog(dt,!1)}),Y(this._openDialogsAtThisLevel,dt=>dt.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(dt){const it=new c.X_({positionStrategy:dt.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:dt.scrollStrategy||this._scrollStrategy(),panelClass:dt.panelClass,hasBackdrop:dt.hasBackdrop,direction:dt.direction,minWidth:dt.minWidth,minHeight:dt.minHeight,maxWidth:dt.maxWidth,maxHeight:dt.maxHeight,width:dt.width,height:dt.height,disposeOnNavigation:dt.closeOnNavigation});return dt.backdropClass&&(it.backdropClass=dt.backdropClass),it}_attachContainer(dt,it,bt){const Ut=bt.injector||bt.viewContainerRef?.injector,wt=[{provide:U,useValue:bt},{provide:k,useValue:it},{provide:c.Iu,useValue:dt}];let Ht;bt.container?"function"==typeof bt.container?Ht=bt.container:(Ht=bt.container.type,wt.push(...bt.container.providers(bt))):Ht=V;const en=new F.C5(Ht,bt.viewContainerRef,b.zs3.create({parent:Ut||this._injector,providers:wt}),bt.componentFactoryResolver);return dt.attach(en).instance}_attachDialogContent(dt,it,bt,Ut){if(dt instanceof b.Rgc){const wt=this._createInjector(Ut,it,bt,void 0);let Ht={$implicit:Ut.data,dialogRef:it};Ut.templateContext&&(Ht={...Ht,..."function"==typeof Ut.templateContext?Ut.templateContext():Ut.templateContext}),bt.attachTemplatePortal(new F.UE(dt,null,Ht,wt))}else{const wt=this._createInjector(Ut,it,bt,this._injector),Ht=bt.attachComponentPortal(new F.C5(dt,Ut.viewContainerRef,wt,Ut.componentFactoryResolver));it.componentInstance=Ht.instance}}_createInjector(dt,it,bt,Ut){const wt=dt.injector||dt.viewContainerRef?.injector,Ht=[{provide:x,useValue:dt.data},{provide:k,useValue:it}];return dt.providers&&("function"==typeof dt.providers?Ht.push(...dt.providers(it,dt,bt)):Ht.push(...dt.providers)),dt.direction&&(!wt||!wt.get(g.Is,null,{optional:!0}))&&Ht.push({provide:g.Is,useValue:{value:dt.direction,change:(0,f.of)()}}),b.zs3.create({parent:wt||Ut,providers:Ht})}_removeOpenDialog(dt,it){const bt=this.openDialogs.indexOf(dt);bt>-1&&(this.openDialogs.splice(bt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Ut,wt)=>{Ut?wt.setAttribute("aria-hidden",Ut):wt.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),it&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const dt=this._overlayContainer.getContainerElement();if(dt.parentElement){const it=dt.parentElement.children;for(let bt=it.length-1;bt>-1;bt--){const Ut=it[bt];Ut!==dt&&"SCRIPT"!==Ut.nodeName&&"STYLE"!==Ut.nodeName&&!Ut.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Ut,Ut.getAttribute("aria-hidden")),Ut.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const dt=this._parentDialog;return dt?dt._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(it){return new(it||Ve)(b.LFG(c.aV),b.LFG(b.zs3),b.LFG(P,8),b.LFG(Ve,12),b.LFG(c.Xj),b.LFG(O))};static#t=this.\u0275prov=b.Yz7({token:Ve,factory:Ve.\u0275fac})}return Ve})();function Y(Ve,lt){let dt=Ve.length;for(;dt--;)lt(Ve[dt])}let q=(()=>{class Ve{static#e=this.\u0275fac=function(it){return new(it||Ve)};static#t=this.\u0275mod=b.oAB({type:Ve});static#n=this.\u0275inj=b.cJS({providers:[B,N],imports:[c.U8,F.eL,w.rt,F.eL]})}return Ve})();var le=S(2495),Fe=S(3019),$=S(2181),ae=S(8180),K=S(3680);function oe(Ve,lt){}S(6825);class he{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Ce="mdc-dialog--open",Le="mdc-dialog--opening",fe="mdc-dialog--closing";let pe=(()=>{class Ve extends V{constructor(dt,it,bt,Ut,wt,Ht,en,ln){super(dt,it,bt,Ut,wt,Ht,en,ln),this._animationStateChanged=new b.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(dt){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:dt})}static#e=this.\u0275fac=function(it){return new(it||Ve)(b.Y36(b.SBq),b.Y36(w.qV),b.Y36(t.K0,8),b.Y36(he),b.Y36(w.ic),b.Y36(b.R0b),b.Y36(c.Iu),b.Y36(w.tE))};static#t=this.\u0275cmp=b.Xpm({type:Ve,selectors:[["ng-component"]],features:[b.qOj],decls:0,vars:0,template:function(it,bt){},encapsulation:2})}return Ve})();const Ue="--mat-dialog-transition-duration";function ke(Ve){return null==Ve?null:"number"==typeof Ve?Ve:Ve.endsWith("ms")?(0,le.su)(Ve.substring(0,Ve.length-2)):Ve.endsWith("s")?1e3*(0,le.su)(Ve.substring(0,Ve.length-1)):"0"===Ve?0:null}let we=(()=>{class Ve extends pe{constructor(dt,it,bt,Ut,wt,Ht,en,ln,cn){super(dt,it,bt,Ut,wt,Ht,en,cn),this._animationMode=ln,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?ke(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?ke(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Ue,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Le,Ce)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Ce),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Ce),this._animationsEnabled?(this._hostElement.style.setProperty(Ue,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(fe)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Le,fe)}_waitForAnimationToComplete(dt,it){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(it,dt)}_requestAnimationFrame(dt){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(dt):dt()})}static#e=this.\u0275fac=function(it){return new(it||Ve)(b.Y36(b.SBq),b.Y36(w.qV),b.Y36(t.K0,8),b.Y36(he),b.Y36(w.ic),b.Y36(b.R0b),b.Y36(c.Iu),b.Y36(b.QbO,8),b.Y36(w.tE))};static#t=this.\u0275cmp=b.Xpm({type:Ve,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(it,bt){2&it&&(b.Ikx("id",bt._config.id),b.uIk("aria-modal",bt._config.ariaModal)("role",bt._config.role)("aria-labelledby",bt._config.ariaLabel?null:bt._ariaLabelledBy)("aria-label",bt._config.ariaLabel)("aria-describedby",bt._config.ariaDescribedBy||null),b.ekj("_mat-animation-noopable",!bt._animationsEnabled))},features:[b.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(it,bt){1&it&&(b.TgZ(0,"div",0)(1,"div",1),b.YNc(2,oe,0,0,"ng-template",2),b.qZA()())},dependencies:[F.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return Ve})();class He{constructor(lt,dt,it){this._ref=lt,this._containerInstance=it,this._afterOpened=new D.x,this._beforeClosed=new D.x,this._state=0,this.disableClose=dt.disableClose,this.id=lt.id,it._animationStateChanged.pipe((0,$.h)(bt=>"opened"===bt.state),(0,ae.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),it._animationStateChanged.pipe((0,$.h)(bt=>"closed"===bt.state),(0,ae.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),lt.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Fe.T)(this.backdropClick(),this.keydownEvents().pipe((0,$.h)(bt=>bt.keyCode===L.hY&&!this.disableClose&&!(0,L.Vb)(bt)))).subscribe(bt=>{this.disableClose||(bt.preventDefault(),function at(Ve,lt,dt){Ve._closeInteractionType=lt,Ve.close(dt)}(this,"keydown"===bt.type?"keyboard":"mouse"))})}close(lt){this._result=lt,this._containerInstance._animationStateChanged.pipe((0,$.h)(dt=>"closing"===dt.state),(0,ae.q)(1)).subscribe(dt=>{this._beforeClosed.next(lt),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),dt.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(lt){let dt=this._ref.config.positionStrategy;return lt&&(lt.left||lt.right)?lt.left?dt.left(lt.left):dt.right(lt.right):dt.centerHorizontally(),lt&&(lt.top||lt.bottom)?lt.top?dt.top(lt.top):dt.bottom(lt.bottom):dt.centerVertically(),this._ref.updatePosition(),this}updateSize(lt="",dt=""){return this._ref.updateSize(lt,dt),this}addPanelClass(lt){return this._ref.addPanelClass(lt),this}removePanelClass(lt){return this._ref.removePanelClass(lt),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Je=new b.OlP("MatMdcDialogData"),Ne=new b.OlP("mat-mdc-dialog-default-options"),Te=new b.OlP("mat-mdc-dialog-scroll-strategy"),se={provide:Te,deps:[c.aV],useFactory:function W(Ve){return()=>Ve.scrollStrategies.block()}};let J=0,Q=(()=>{class Ve{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const dt=this._parentDialog;return dt?dt._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(dt,it,bt,Ut,wt,Ht,en,ln,cn,Wt){this._overlay=dt,this._defaultOptions=bt,this._parentDialog=Ut,this._dialogRefConstructor=en,this._dialogContainerType=ln,this._dialogDataToken=cn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new D.x,this._afterOpenedAtThisLevel=new D.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=he,this.afterAllClosed=(0,p.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,y.O)(void 0))),this._scrollStrategy=Ht,this._dialog=it.get(B)}open(dt,it){let bt;(it={...this._defaultOptions||new he,...it}).id=it.id||`${this._idPrefix}${J++}`,it.scrollStrategy=it.scrollStrategy||this._scrollStrategy();const Ut=this._dialog.open(dt,{...it,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:it},{provide:U,useValue:it}]},templateContext:()=>({dialogRef:bt}),providers:(wt,Ht,en)=>(bt=new this._dialogRefConstructor(wt,it,en),bt.updatePosition(it?.position),[{provide:this._dialogContainerType,useValue:en},{provide:this._dialogDataToken,useValue:Ht.data},{provide:this._dialogRefConstructor,useValue:bt}])});return bt.componentInstance=Ut.componentInstance,this.openDialogs.push(bt),this.afterOpened.next(bt),bt.afterClosed().subscribe(()=>{const wt=this.openDialogs.indexOf(bt);wt>-1&&(this.openDialogs.splice(wt,1),this.openDialogs.length||this._getAfterAllClosed().next())}),bt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(dt){return this.openDialogs.find(it=>it.id===dt)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(dt){let it=dt.length;for(;it--;)dt[it].close()}static#e=this.\u0275fac=function(it){b.$Z()};static#t=this.\u0275prov=b.Yz7({token:Ve,factory:Ve.\u0275fac})}return Ve})(),Z=(()=>{class Ve extends Q{constructor(dt,it,bt,Ut,wt,Ht,en,ln){super(dt,it,Ut,Ht,en,wt,He,we,Je,ln),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(it){return new(it||Ve)(b.LFG(c.aV),b.LFG(b.zs3),b.LFG(t.Ye,8),b.LFG(Ne,8),b.LFG(Te),b.LFG(Ve,12),b.LFG(c.Xj),b.LFG(b.QbO,8))};static#t=this.\u0275prov=b.Yz7({token:Ve,factory:Ve.\u0275fac})}return Ve})(),ne=0,ee=(()=>{class Ve{constructor(dt,it,bt){this._dialogRef=dt,this._elementRef=it,this._dialog=bt,this.id="mat-mdc-dialog-title-"+ne++}ngOnInit(){this._dialogRef||(this._dialogRef=function ve(Ve,lt){let dt=Ve.nativeElement.parentElement;for(;dt&&!dt.classList.contains("mat-mdc-dialog-container");)dt=dt.parentElement;return dt?lt.find(it=>it.id===dt.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const dt=this._dialogRef._containerInstance;dt&&!dt._ariaLabelledBy&&(dt._ariaLabelledBy=this.id)})}static#e=this.\u0275fac=function(it){return new(it||Ve)(b.Y36(He,8),b.Y36(b.SBq),b.Y36(Z))};static#t=this.\u0275dir=b.lG2({type:Ve,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(it,bt){2&it&&b.Ikx("id",bt.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return Ve})(),X=(()=>{class Ve{static#e=this.\u0275fac=function(it){return new(it||Ve)};static#t=this.\u0275dir=b.lG2({type:Ve,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return Ve})(),ue=(()=>{class Ve{constructor(){this.align="start"}static#e=this.\u0275fac=function(it){return new(it||Ve)};static#t=this.\u0275dir=b.lG2({type:Ve,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(it,bt){2&it&&b.ekj("mat-mdc-dialog-actions-align-center","center"===bt.align)("mat-mdc-dialog-actions-align-end","end"===bt.align)},inputs:{align:"align"}})}return Ve})(),de=(()=>{class Ve{static#e=this.\u0275fac=function(it){return new(it||Ve)};static#t=this.\u0275mod=b.oAB({type:Ve});static#n=this.\u0275inj=b.cJS({providers:[Z,se],imports:[q,c.U8,F.eL,K.BQ,K.BQ]})}return Ve})()},4170:(Bn,tt,S)=>{"use strict";S.d(tt,{G_:()=>dt,TO:()=>Ne,KE:()=>ln,Eo:()=>xe,lN:()=>cn,bx:()=>W,hX:()=>He,R9:()=>Q});var c=S(5879),t=S(9388),b=S(2831),w=S(7394),E=S(8645),F=S(3019),L=S(9773),D=S(5592),p=S(2181),f=S(940);class y{constructor(Sn){this._box=Sn,this._destroyed=new E.x,this._resizeSubject=new E.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(nn=>this._resizeSubject.next(nn)))}observe(Sn){return this._elementObservables.has(Sn)||this._elementObservables.set(Sn,new D.y(nn=>{const Dt=this._resizeSubject.subscribe(nn);return this._resizeObserver?.observe(Sn,{box:this._box}),()=>{this._resizeObserver?.unobserve(Sn),Dt.unsubscribe(),this._elementObservables.delete(Sn)}}).pipe((0,p.h)(nn=>nn.some(Dt=>Dt.target===Sn)),(0,f.d)({bufferSize:1,refCount:!0}),(0,L.R)(this._destroyed))),this._elementObservables.get(Sn)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let M=(()=>{class Wt{constructor(){this._observers=new Map,this._ngZone=(0,c.f3M)(c.R0b)}ngOnDestroy(){for(const[,nn]of this._observers)nn.destroy();this._observers.clear()}observe(nn,Dt){const mt=Dt?.box||"content-box";return this._observers.has(mt)||this._observers.set(mt,new y(mt)),this._observers.get(mt).observe(nn)}static#e=this.\u0275fac=function(Dt){return new(Dt||Wt)};static#t=this.\u0275prov=c.Yz7({token:Wt,factory:Wt.\u0275fac,providedIn:"root"})}return Wt})();var U=S(2495),R=S(6825),V=S(6814),k=S(7131),O=S(3680);const x=["notch"],P=["matFormFieldNotchedOutline",""],T=["*"],N=["textField"],C=["iconPrefixContainer"],B=["textPrefixContainer"];function Y(Wt,Sn){1&Wt&&c._UZ(0,"span",19)}function q(Wt,Sn){if(1&Wt&&(c.TgZ(0,"label",17),c.Hsn(1,1),c.YNc(2,Y,1,0,"span",18),c.qZA()),2&Wt){const nn=c.oxw(2);c.Q6J("floating",nn._shouldLabelFloat())("monitorResize",nn._hasOutline())("id",nn._labelId),c.uIk("for",nn._control.id),c.xp6(2),c.Q6J("ngIf",!nn.hideRequiredMarker&&nn._control.required)}}function le(Wt,Sn){if(1&Wt&&c.YNc(0,q,3,5,"label",16),2&Wt){const nn=c.oxw();c.Q6J("ngIf",nn._hasFloatingLabel())}}function Fe(Wt,Sn){1&Wt&&c._UZ(0,"div",20)}function $(Wt,Sn){}function ae(Wt,Sn){if(1&Wt&&c.YNc(0,$,0,0,"ng-template",22),2&Wt){c.oxw(2);const nn=c.MAs(1);c.Q6J("ngTemplateOutlet",nn)}}function K(Wt,Sn){if(1&Wt&&(c.TgZ(0,"div",21),c.YNc(1,ae,1,1,"ng-template",9),c.qZA()),2&Wt){const nn=c.oxw();c.Q6J("matFormFieldNotchedOutlineOpen",nn._shouldLabelFloat()),c.xp6(1),c.Q6J("ngIf",!nn._forceDisplayInfixLabel())}}function ge(Wt,Sn){1&Wt&&(c.TgZ(0,"div",23,24),c.Hsn(2,2),c.qZA())}function oe(Wt,Sn){1&Wt&&(c.TgZ(0,"div",25,26),c.Hsn(2,3),c.qZA())}function he(Wt,Sn){}function Ce(Wt,Sn){if(1&Wt&&c.YNc(0,he,0,0,"ng-template",22),2&Wt){c.oxw();const nn=c.MAs(1);c.Q6J("ngTemplateOutlet",nn)}}function Le(Wt,Sn){1&Wt&&(c.TgZ(0,"div",27),c.Hsn(1,4),c.qZA())}function fe(Wt,Sn){1&Wt&&(c.TgZ(0,"div",28),c.Hsn(1,5),c.qZA())}function Re(Wt,Sn){1&Wt&&c._UZ(0,"div",29)}function Ae(Wt,Sn){if(1&Wt&&(c.TgZ(0,"div",30),c.Hsn(1,6),c.qZA()),2&Wt){const nn=c.oxw();c.Q6J("@transitionMessages",nn._subscriptAnimationState)}}function pe(Wt,Sn){if(1&Wt&&(c.TgZ(0,"mat-hint",34),c._uU(1),c.qZA()),2&Wt){const nn=c.oxw(2);c.Q6J("id",nn._hintLabelId),c.xp6(1),c.Oqu(nn.hintLabel)}}function Ue(Wt,Sn){if(1&Wt&&(c.TgZ(0,"div",31),c.YNc(1,pe,2,2,"mat-hint",32),c.Hsn(2,7),c._UZ(3,"div",33),c.Hsn(4,8),c.qZA()),2&Wt){const nn=c.oxw();c.Q6J("@transitionMessages",nn._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",nn.hintLabel)}}const ke=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],we=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let He=(()=>{class Wt{static#e=this.\u0275fac=function(Dt){return new(Dt||Wt)};static#t=this.\u0275dir=c.lG2({type:Wt,selectors:[["mat-label"]]})}return Wt})(),at=0;const Je=new c.OlP("MatError");let Ne=(()=>{class Wt{constructor(nn,Dt){this.id="mat-mdc-error-"+at++,nn||Dt.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(Dt){return new(Dt||Wt)(c.$8M("aria-live"),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:Wt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Dt,mt){2&Dt&&c.Ikx("id",mt.id)},inputs:{id:"id"},features:[c._Bn([{provide:Je,useExisting:Wt}])]})}return Wt})(),Te=0,W=(()=>{class Wt{constructor(){this.align="start",this.id="mat-mdc-hint-"+Te++}static#e=this.\u0275fac=function(Dt){return new(Dt||Wt)};static#t=this.\u0275dir=c.lG2({type:Wt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(Dt,mt){2&Dt&&(c.Ikx("id",mt.id),c.uIk("align",null),c.ekj("mat-mdc-form-field-hint-end","end"===mt.align))},inputs:{align:"align",id:"id"}})}return Wt})();const se=new c.OlP("MatPrefix"),J=new c.OlP("MatSuffix");let Q=(()=>{class Wt{constructor(){this._isText=!1}set _isTextSelector(nn){this._isText=!0}static#e=this.\u0275fac=function(Dt){return new(Dt||Wt)};static#t=this.\u0275dir=c.lG2({type:Wt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[c._Bn([{provide:J,useExisting:Wt}])]})}return Wt})();const Z=new c.OlP("FloatingLabelParent");let ne=(()=>{class Wt{get floating(){return this._floating}set floating(nn){this._floating=nn,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(nn){this._monitorResize=nn,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(nn){this._elementRef=nn,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,c.f3M)(M),this._ngZone=(0,c.f3M)(c.R0b),this._parent=(0,c.f3M)(Z),this._resizeSubscription=new w.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function ie(Wt){if(null!==Wt.offsetParent)return Wt.scrollWidth;const nn=Wt.cloneNode(!0);nn.style.setProperty("position","absolute"),nn.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(nn);const Dt=nn.scrollWidth;return nn.remove(),Dt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(Dt){return new(Dt||Wt)(c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:Wt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(Dt,mt){2&Dt&&c.ekj("mdc-floating-label--float-above",mt.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return Wt})();const ee="mdc-line-ripple--active",X="mdc-line-ripple--deactivating";let ue=(()=>{class Wt{constructor(nn,Dt){this._elementRef=nn,this._handleTransitionEnd=mt=>{const Qe=this._elementRef.nativeElement.classList,De=Qe.contains(X);"opacity"===mt.propertyName&&De&&Qe.remove(ee,X)},Dt.runOutsideAngular(()=>{nn.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const nn=this._elementRef.nativeElement.classList;nn.remove(X),nn.add(ee)}deactivate(){this._elementRef.nativeElement.classList.add(X)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(Dt){return new(Dt||Wt)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275dir=c.lG2({type:Wt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return Wt})(),ve=(()=>{class Wt{constructor(nn,Dt){this._elementRef=nn,this._ngZone=Dt,this.open=!1}ngAfterViewInit(){const nn=this._elementRef.nativeElement.querySelector(".mdc-floating-label");nn?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(nn.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>nn.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(nn){this._notch.nativeElement.style.width=this.open&&nn?`calc(${nn}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(Dt){return new(Dt||Wt)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275cmp=c.Xpm({type:Wt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(Dt,mt){if(1&Dt&&c.Gf(x,5),2&Dt){let Qe;c.iGM(Qe=c.CRH())&&(mt._notch=Qe.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(Dt,mt){2&Dt&&c.ekj("mdc-notched-outline--notched",mt.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:P,ngContentSelectors:T,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(Dt,mt){1&Dt&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1,2),c.Hsn(3),c.qZA(),c._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return Wt})();const de={transitionMessages:(0,R.X$)("transitionMessages",[(0,R.SB)("enter",(0,R.oB)({opacity:1,transform:"translateY(0%)"})),(0,R.eR)("void => enter",[(0,R.oB)({opacity:0,transform:"translateY(-5px)"}),(0,R.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let xe=(()=>{class Wt{static#e=this.\u0275fac=function(Dt){return new(Dt||Wt)};static#t=this.\u0275dir=c.lG2({type:Wt})}return Wt})();const dt=new c.OlP("MatFormField"),it=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let bt=0,ln=(()=>{class Wt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(nn){this._hideRequiredMarker=(0,U.Ig)(nn)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(nn){nn!==this._floatLabel&&(this._floatLabel=nn,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(nn){const Dt=this._appearance;this._appearance=nn||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==Dt&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(nn){this._subscriptSizing=nn||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(nn){this._hintLabel=nn,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(nn){this._explicitFormFieldControl=nn}constructor(nn,Dt,mt,Qe,De,Pe,Ye,Ze){this._elementRef=nn,this._changeDetectorRef=Dt,this._ngZone=mt,this._dir=Qe,this._platform=De,this._defaults=Pe,this._animationMode=Ye,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+bt++,this._hintLabelId="mat-mdc-hint-"+bt++,this._subscriptAnimationState="",this._destroyed=new E.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,Pe&&(Pe.appearance&&(this.appearance=Pe.appearance),this._hideRequiredMarker=!!Pe?.hideRequiredMarker,Pe.color&&(this.color=Pe.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const nn=this._control;nn.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${nn.controlType}`),nn.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),nn.ngControl&&nn.ngControl.valueChanges&&nn.ngControl.valueChanges.pipe((0,L.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(nn=>!nn._isText),this._hasTextPrefix=!!this._prefixChildren.find(nn=>nn._isText),this._hasIconSuffix=!!this._suffixChildren.find(nn=>!nn._isText),this._hasTextSuffix=!!this._suffixChildren.find(nn=>nn._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,F.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,L.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,L.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(nn){const Dt=this._control?this._control.ngControl:null;return Dt&&Dt[nn]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let nn=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&nn.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Dt=this._hintChildren?this._hintChildren.find(Qe=>"start"===Qe.align):null,mt=this._hintChildren?this._hintChildren.find(Qe=>"end"===Qe.align):null;Dt?nn.push(Dt.id):this._hintLabel&&nn.push(this._hintLabelId),mt&&nn.push(mt.id)}else this._errorChildren&&nn.push(...this._errorChildren.map(Dt=>Dt.id));this._control.setDescribedByIds(nn)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const nn=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(nn.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const Dt=this._iconPrefixContainer?.nativeElement,mt=this._textPrefixContainer?.nativeElement,Qe=Dt?.getBoundingClientRect().width??0,De=mt?.getBoundingClientRect().width??0;nn.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${Qe+De}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const nn=this._elementRef.nativeElement;if(nn.getRootNode){const Dt=nn.getRootNode();return Dt&&Dt!==nn}return document.documentElement.contains(nn)}static#e=this.\u0275fac=function(Dt){return new(Dt||Wt)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(t.Is),c.Y36(b.t4),c.Y36(it,8),c.Y36(c.QbO,8),c.Y36(V.K0))};static#t=this.\u0275cmp=c.Xpm({type:Wt,selectors:[["mat-form-field"]],contentQueries:function(Dt,mt,Qe){if(1&Dt&&(c.Suo(Qe,He,5),c.Suo(Qe,He,7),c.Suo(Qe,xe,5),c.Suo(Qe,se,5),c.Suo(Qe,J,5),c.Suo(Qe,Je,5),c.Suo(Qe,W,5)),2&Dt){let De;c.iGM(De=c.CRH())&&(mt._labelChildNonStatic=De.first),c.iGM(De=c.CRH())&&(mt._labelChildStatic=De.first),c.iGM(De=c.CRH())&&(mt._formFieldControl=De.first),c.iGM(De=c.CRH())&&(mt._prefixChildren=De),c.iGM(De=c.CRH())&&(mt._suffixChildren=De),c.iGM(De=c.CRH())&&(mt._errorChildren=De),c.iGM(De=c.CRH())&&(mt._hintChildren=De)}},viewQuery:function(Dt,mt){if(1&Dt&&(c.Gf(N,5),c.Gf(C,5),c.Gf(B,5),c.Gf(ne,5),c.Gf(ve,5),c.Gf(ue,5)),2&Dt){let Qe;c.iGM(Qe=c.CRH())&&(mt._textField=Qe.first),c.iGM(Qe=c.CRH())&&(mt._iconPrefixContainer=Qe.first),c.iGM(Qe=c.CRH())&&(mt._textPrefixContainer=Qe.first),c.iGM(Qe=c.CRH())&&(mt._floatingLabel=Qe.first),c.iGM(Qe=c.CRH())&&(mt._notchedOutline=Qe.first),c.iGM(Qe=c.CRH())&&(mt._lineRipple=Qe.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(Dt,mt){2&Dt&&c.ekj("mat-mdc-form-field-label-always-float",mt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",mt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",mt._hasIconSuffix)("mat-form-field-invalid",mt._control.errorState)("mat-form-field-disabled",mt._control.disabled)("mat-form-field-autofilled",mt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===mt._animationMode)("mat-form-field-appearance-fill","fill"==mt.appearance)("mat-form-field-appearance-outline","outline"==mt.appearance)("mat-form-field-hide-placeholder",mt._hasFloatingLabel()&&!mt._shouldLabelFloat())("mat-focused",mt._control.focused)("mat-primary","accent"!==mt.color&&"warn"!==mt.color)("mat-accent","accent"===mt.color)("mat-warn","warn"===mt.color)("ng-untouched",mt._shouldForward("untouched"))("ng-touched",mt._shouldForward("touched"))("ng-pristine",mt._shouldForward("pristine"))("ng-dirty",mt._shouldForward("dirty"))("ng-valid",mt._shouldForward("valid"))("ng-invalid",mt._shouldForward("invalid"))("ng-pending",mt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:dt,useExisting:Wt},{provide:Z,useExisting:Wt}])],ngContentSelectors:we,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(Dt,mt){1&Dt&&(c.F$t(ke),c.YNc(0,le,1,1,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.NdJ("click",function(De){return mt._control.onContainerClick(De)}),c.YNc(4,Fe,1,0,"div",3),c.TgZ(5,"div",4),c.YNc(6,K,2,2,"div",5),c.YNc(7,ge,3,0,"div",6),c.YNc(8,oe,3,0,"div",7),c.TgZ(9,"div",8),c.YNc(10,Ce,1,1,"ng-template",9),c.Hsn(11),c.qZA(),c.YNc(12,Le,2,0,"div",10),c.YNc(13,fe,2,0,"div",11),c.qZA(),c.YNc(14,Re,1,0,"div",12),c.qZA(),c.TgZ(15,"div",13),c.YNc(16,Ae,2,1,"div",14),c.YNc(17,Ue,5,2,"div",15),c.qZA()),2&Dt&&(c.xp6(2),c.ekj("mdc-text-field--filled",!mt._hasOutline())("mdc-text-field--outlined",mt._hasOutline())("mdc-text-field--no-label",!mt._hasFloatingLabel())("mdc-text-field--disabled",mt._control.disabled)("mdc-text-field--invalid",mt._control.errorState),c.xp6(2),c.Q6J("ngIf",!mt._hasOutline()&&!mt._control.disabled),c.xp6(2),c.Q6J("ngIf",mt._hasOutline()),c.xp6(1),c.Q6J("ngIf",mt._hasIconPrefix),c.xp6(1),c.Q6J("ngIf",mt._hasTextPrefix),c.xp6(2),c.Q6J("ngIf",!mt._hasOutline()||mt._forceDisplayInfixLabel()),c.xp6(2),c.Q6J("ngIf",mt._hasTextSuffix),c.xp6(1),c.Q6J("ngIf",mt._hasIconSuffix),c.xp6(1),c.Q6J("ngIf",!mt._hasOutline()),c.xp6(1),c.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===mt.subscriptSizing),c.Q6J("ngSwitch",mt._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[V.O5,V.tP,V.RF,V.n9,W,ne,ve,ue],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[de.transitionMessages]},changeDetection:0})}return Wt})(),cn=(()=>{class Wt{static#e=this.\u0275fac=function(Dt){return new(Dt||Wt)};static#t=this.\u0275mod=c.oAB({type:Wt});static#n=this.\u0275inj=c.cJS({imports:[O.BQ,V.ez,k.Q8,O.BQ]})}return Wt})()},2032:(Bn,tt,S)=>{"use strict";S.d(tt,{Jk:()=>R,Nt:()=>x,c:()=>P});var c=S(2495),t=S(2831),b=S(5879),w=S(6232),E=S(8645);const F=(0,t.i$)({passive:!0});let L=(()=>{class T{constructor(C,B){this._platform=C,this._ngZone=B,this._monitoredElements=new Map}monitor(C){if(!this._platform.isBrowser)return w.E;const B=(0,c.fI)(C),Y=this._monitoredElements.get(B);if(Y)return Y.subject;const q=new E.x,le="cdk-text-field-autofilled",Fe=$=>{"cdk-text-field-autofill-start"!==$.animationName||B.classList.contains(le)?"cdk-text-field-autofill-end"===$.animationName&&B.classList.contains(le)&&(B.classList.remove(le),this._ngZone.run(()=>q.next({target:$.target,isAutofilled:!1}))):(B.classList.add(le),this._ngZone.run(()=>q.next({target:$.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{B.addEventListener("animationstart",Fe,F),B.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(B,{subject:q,unlisten:()=>{B.removeEventListener("animationstart",Fe,F)}}),q}stopMonitoring(C){const B=(0,c.fI)(C),Y=this._monitoredElements.get(B);Y&&(Y.unlisten(),Y.subject.complete(),B.classList.remove("cdk-text-field-autofill-monitored"),B.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(B))}ngOnDestroy(){this._monitoredElements.forEach((C,B)=>this.stopMonitoring(B))}static#e=this.\u0275fac=function(B){return new(B||T)(b.LFG(t.t4),b.LFG(b.R0b))};static#t=this.\u0275prov=b.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),f=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=b.oAB({type:T});static#n=this.\u0275inj=b.cJS({})}return T})();var g=S(95),y=S(3680),M=S(4170);const R=new b.OlP("MAT_INPUT_VALUE_ACCESSOR"),V=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let k=0;const O=(0,y.FD)(class{constructor(T,N,C,B){this._defaultErrorStateMatcher=T,this._parentForm=N,this._parentFormGroup=C,this.ngControl=B,this.stateChanges=new E.x}});let x=(()=>{class T extends O{get disabled(){return this._disabled}set disabled(C){this._disabled=(0,c.Ig)(C),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(C){this._id=C||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(g.kI.required)??!1}set required(C){this._required=(0,c.Ig)(C)}get type(){return this._type}set type(C){this._type=C||"text",this._validateType(),!this._isTextarea&&(0,t.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(C){C!==this.value&&(this._inputValueAccessor.value=C,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(C){this._readonly=(0,c.Ig)(C)}constructor(C,B,Y,q,le,Fe,$,ae,K,ge){super(Fe,q,le,Y),this._elementRef=C,this._platform=B,this._autofillMonitor=ae,this._formField=ge,this._uid="mat-input-"+k++,this.focused=!1,this.stateChanges=new E.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Ce=>(0,t.qK)().has(Ce)),this._iOSKeyupListener=Ce=>{const Le=Ce.target;!Le.value&&0===Le.selectionStart&&0===Le.selectionEnd&&(Le.setSelectionRange(1,1),Le.setSelectionRange(0,0))};const oe=this._elementRef.nativeElement,he=oe.nodeName.toLowerCase();this._inputValueAccessor=$||oe,this._previousNativeValue=this.value,this.id=this.id,B.IOS&&K.runOutsideAngular(()=>{C.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===he,this._isTextarea="textarea"===he,this._isInFormField=!!ge,this._isNativeSelect&&(this.controlType=oe.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(C=>{this.autofilled=C.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(C){this._elementRef.nativeElement.focus(C)}_focusChanged(C){C!==this.focused&&(this.focused=C,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const C=this._elementRef.nativeElement.value;this._previousNativeValue!==C&&(this._previousNativeValue=C,this.stateChanges.next())}_dirtyCheckPlaceholder(){const C=this._getPlaceholder();if(C!==this._previousPlaceholder){const B=this._elementRef.nativeElement;this._previousPlaceholder=C,C?B.setAttribute("placeholder",C):B.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){V.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let C=this._elementRef.nativeElement.validity;return C&&C.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const C=this._elementRef.nativeElement,B=C.options[0];return this.focused||C.multiple||!this.empty||!!(C.selectedIndex>-1&&B&&B.label)}return this.focused||!this.empty}setDescribedByIds(C){C.length?this._elementRef.nativeElement.setAttribute("aria-describedby",C.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const C=this._elementRef.nativeElement;return this._isNativeSelect&&(C.multiple||C.size>1)}static#e=this.\u0275fac=function(B){return new(B||T)(b.Y36(b.SBq),b.Y36(t.t4),b.Y36(g.a5,10),b.Y36(g.F,8),b.Y36(g.sg,8),b.Y36(y.rD),b.Y36(R,10),b.Y36(L),b.Y36(b.R0b),b.Y36(M.G_,8))};static#t=this.\u0275dir=b.lG2({type:T,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(B,Y){1&B&&b.NdJ("focus",function(){return Y._focusChanged(!0)})("blur",function(){return Y._focusChanged(!1)})("input",function(){return Y._onInput()}),2&B&&(b.Ikx("id",Y.id)("disabled",Y.disabled)("required",Y.required),b.uIk("name",Y.name||null)("readonly",Y.readonly&&!Y._isNativeSelect||null)("aria-invalid",Y.empty&&Y.required?null:Y.errorState)("aria-required",Y.required)("id",Y.id),b.ekj("mat-input-server",Y._isServer)("mat-mdc-form-field-textarea-control",Y._isInFormField&&Y._isTextarea)("mat-mdc-form-field-input-control",Y._isInFormField)("mdc-text-field__input",Y._isInFormField)("mat-mdc-native-select-inline",Y._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[b._Bn([{provide:M.Eo,useExisting:T}]),b.qOj,b.TTD]})}return T})(),P=(()=>{class T{static#e=this.\u0275fac=function(B){return new(B||T)};static#t=this.\u0275mod=b.oAB({type:T});static#n=this.\u0275inj=b.cJS({imports:[y.BQ,M.lN,M.lN,f,y.BQ]})}return T})()},1476:(Bn,tt,S)=>{"use strict";S.d(tt,{NW:()=>Y,TU:()=>q,ye:()=>V});var c=S(6814),t=S(5879),b=S(8645),w=S(2296),E=S(8525),F=S(2596),L=S(3680),D=S(2495),p=S(4170);function f(le,Fe){if(1&le&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&le){const $=Fe.$implicit;t.Q6J("value",$),t.xp6(1),t.hij(" ",$," ")}}function g(le,Fe){if(1&le){const $=t.EpF();t.TgZ(0,"mat-form-field",16)(1,"mat-select",17),t.NdJ("selectionChange",function(K){t.CHM($);const ge=t.oxw(2);return t.KtG(ge._changePageSize(K.value))}),t.YNc(2,f,2,2,"mat-option",18),t.qZA()()}if(2&le){const $=t.oxw(2);t.Q6J("appearance",$._formFieldAppearance)("color",$.color),t.xp6(1),t.Q6J("value",$.pageSize)("disabled",$.disabled)("aria-labelledby",$._pageSizeLabelId)("panelClass",$.selectConfig.panelClass||"")("disableOptionCentering",$.selectConfig.disableOptionCentering),t.xp6(1),t.Q6J("ngForOf",$._displayedPageSizeOptions)}}function y(le,Fe){if(1&le&&(t.TgZ(0,"div",20),t._uU(1),t.qZA()),2&le){const $=t.oxw(2);t.xp6(1),t.Oqu($.pageSize)}}function M(le,Fe){if(1&le&&(t.TgZ(0,"div",12)(1,"div",13),t._uU(2),t.qZA(),t.YNc(3,g,3,8,"mat-form-field",14),t.YNc(4,y,2,1,"div",15),t.qZA()),2&le){const $=t.oxw();t.xp6(1),t.s9C("id",$._pageSizeLabelId),t.xp6(1),t.hij(" ",$._intl.itemsPerPageLabel," "),t.xp6(1),t.Q6J("ngIf",$._displayedPageSizeOptions.length>1),t.xp6(1),t.Q6J("ngIf",$._displayedPageSizeOptions.length<=1)}}function U(le,Fe){if(1&le){const $=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM($);const K=t.oxw();return t.KtG(K.firstPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",22),t.qZA()()}if(2&le){const $=t.oxw();t.Q6J("matTooltip",$._intl.firstPageLabel)("matTooltipDisabled",$._previousButtonsDisabled())("matTooltipPosition","above")("disabled",$._previousButtonsDisabled()),t.uIk("aria-label",$._intl.firstPageLabel)}}function R(le,Fe){if(1&le){const $=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM($);const K=t.oxw();return t.KtG(K.lastPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",24),t.qZA()()}if(2&le){const $=t.oxw();t.Q6J("matTooltip",$._intl.lastPageLabel)("matTooltipDisabled",$._nextButtonsDisabled())("matTooltipPosition","above")("disabled",$._nextButtonsDisabled()),t.uIk("aria-label",$._intl.lastPageLabel)}}let V=(()=>{class le{constructor(){this.changes=new b.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=($,ae,K)=>{if(0==K||0==ae)return`0 of ${K}`;const ge=$*ae;return`${ge+1} \u2013 ${ge<(K=Math.max(K,0))?Math.min(ge+ae,K):ge+ae} of ${K}`}}static#e=this.\u0275fac=function(ae){return new(ae||le)};static#t=this.\u0275prov=t.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const O={provide:V,deps:[[new t.FiY,new t.tp0,V]],useFactory:function k(le){return le||new V}},T=new t.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),N=(0,L.Id)((0,L.dB)(class{}));let C=(()=>{class le extends N{get pageIndex(){return this._pageIndex}set pageIndex($){this._pageIndex=Math.max((0,D.su)($),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length($){this._length=(0,D.su)($),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize($){this._pageSize=Math.max((0,D.su)($),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions($){this._pageSizeOptions=($||[]).map(ae=>(0,D.su)(ae)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize($){this._hidePageSize=(0,D.Ig)($)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons($){this._showFirstLastButtons=(0,D.Ig)($)}constructor($,ae,K){if(super(),this._intl=$,this._changeDetectorRef=ae,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new t.vpe,this._intlChanges=$.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),K){const{pageSize:ge,pageSizeOptions:oe,hidePageSize:he,showFirstLastButtons:Ce}=K;null!=ge&&(this._pageSize=ge),null!=oe&&(this._pageSizeOptions=oe),null!=he&&(this._hidePageSize=he),null!=Ce&&(this._showFirstLastButtons=Ce)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const $=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent($)}previousPage(){if(!this.hasPreviousPage())return;const $=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent($)}firstPage(){if(!this.hasPreviousPage())return;const $=this.pageIndex;this.pageIndex=0,this._emitPageEvent($)}lastPage(){if(!this.hasNextPage())return;const $=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent($)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const $=this.getNumberOfPages()-1;return this.pageIndex<$&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize($){const K=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/$)||0,this.pageSize=$,this._emitPageEvent(K)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort(($,ae)=>$-ae),this._changeDetectorRef.markForCheck())}_emitPageEvent($){this.page.emit({previousPageIndex:$,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(ae){t.$Z()};static#t=this.\u0275dir=t.lG2({type:le,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[t.qOj]})}return le})(),B=0,Y=(()=>{class le extends C{constructor($,ae,K){super($,ae,K),this._pageSizeLabelId="mat-paginator-page-size-label-"+B++,this._formFieldAppearance=K?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(ae){return new(ae||le)(t.Y36(V),t.Y36(t.sBO),t.Y36(T,8))};static#t=this.\u0275cmp=t.Xpm({type:le,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[t.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(ae,K){1&ae&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,M,5,4,"div",2),t.TgZ(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.YNc(6,U,3,5,"button",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return K.previousPage()}),t.O4$(),t.TgZ(8,"svg",7),t._UZ(9,"path",8),t.qZA()(),t.kcU(),t.TgZ(10,"button",9),t.NdJ("click",function(){return K.nextPage()}),t.O4$(),t.TgZ(11,"svg",7),t._UZ(12,"path",10),t.qZA()(),t.YNc(13,R,3,5,"button",11),t.qZA()()()),2&ae&&(t.xp6(2),t.Q6J("ngIf",!K.hidePageSize),t.xp6(3),t.hij(" ",K._intl.getRangeLabel(K.pageIndex,K.pageSize,K.length)," "),t.xp6(1),t.Q6J("ngIf",K.showFirstLastButtons),t.xp6(1),t.Q6J("matTooltip",K._intl.previousPageLabel)("matTooltipDisabled",K._previousButtonsDisabled())("matTooltipPosition","above")("disabled",K._previousButtonsDisabled()),t.uIk("aria-label",K._intl.previousPageLabel),t.xp6(3),t.Q6J("matTooltip",K._intl.nextPageLabel)("matTooltipDisabled",K._nextButtonsDisabled())("matTooltipPosition","above")("disabled",K._nextButtonsDisabled()),t.uIk("aria-label",K._intl.nextPageLabel),t.xp6(3),t.Q6J("ngIf",K.showFirstLastButtons))},dependencies:[c.sg,c.O5,w.RK,p.KE,E.gD,L.ey,F.gM],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return le})(),q=(()=>{class le{static#e=this.\u0275fac=function(ae){return new(ae||le)};static#t=this.\u0275mod=t.oAB({type:le});static#n=this.\u0275inj=t.cJS({providers:[O],imports:[c.ez,w.ot,E.LD,F.AV]})}return le})()},5940:(Bn,tt,S)=>{"use strict";S.d(tt,{Cq:()=>U,Ou:()=>y});var c=S(5879),t=S(3680),b=S(2495),w=S(6814);const E=["determinateSpinner"];function F(R,V){if(1&R&&(c.O4$(),c.TgZ(0,"svg",11),c._UZ(1,"circle",12),c.qZA()),2&R){const k=c.oxw();c.uIk("viewBox",k._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",k._strokeCircumference(),"px")("stroke-dashoffset",k._strokeCircumference()/2,"px")("stroke-width",k._circleStrokeWidth(),"%"),c.uIk("r",k._circleRadius())}}const L=(0,t.pj)(class{constructor(R){this._elementRef=R}},"primary"),D=new c.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function p(){return{diameter:f}}}),f=100;let y=(()=>{class R extends L{constructor(k,O,x){super(k),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=f,this._noopAnimations="NoopAnimations"===O&&!!x&&!x._forceAnimations,x&&(x.color&&(this.color=this.defaultColor=x.color),x.diameter&&(this.diameter=x.diameter),x.strokeWidth&&(this.strokeWidth=x.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(k){this._value=Math.max(0,Math.min(100,(0,b.su)(k)))}get diameter(){return this._diameter}set diameter(k){this._diameter=(0,b.su)(k)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(k){this._strokeWidth=(0,b.su)(k)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const k=2*this._circleRadius()+this.strokeWidth;return`0 0 ${k} ${k}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(O){return new(O||R)(c.Y36(c.SBq),c.Y36(c.QbO,8),c.Y36(D))};static#t=this.\u0275cmp=c.Xpm({type:R,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(O,x){if(1&O&&c.Gf(E,5),2&O){let P;c.iGM(P=c.CRH())&&(x._determinateCircle=P.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(O,x){2&O&&(c.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===x.mode?x.value:null)("mode",x.mode),c.Udp("width",x.diameter,"px")("height",x.diameter,"px")("--mdc-circular-progress-size",x.diameter+"px")("--mdc-circular-progress-active-indicator-width",x.diameter+"px"),c.ekj("_mat-animation-noopable",x._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===x.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[c.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(O,x){if(1&O&&(c.YNc(0,F,2,8,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.O4$(),c.TgZ(4,"svg",3),c._UZ(5,"circle",4),c.qZA()(),c.kcU(),c.TgZ(6,"div",5)(7,"div",6)(8,"div",7),c.GkF(9,8),c.qZA(),c.TgZ(10,"div",9),c.GkF(11,8),c.qZA(),c.TgZ(12,"div",10),c.GkF(13,8),c.qZA()()()),2&O){const P=c.MAs(1);c.xp6(4),c.uIk("viewBox",x._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",x._strokeCircumference(),"px")("stroke-dashoffset",x._strokeDashOffset(),"px")("stroke-width",x._circleStrokeWidth(),"%"),c.uIk("r",x._circleRadius()),c.xp6(4),c.Q6J("ngTemplateOutlet",P),c.xp6(2),c.Q6J("ngTemplateOutlet",P),c.xp6(2),c.Q6J("ngTemplateOutlet",P)}},dependencies:[w.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return R})(),U=(()=>{class R{static#e=this.\u0275fac=function(O){return new(O||R)};static#t=this.\u0275mod=c.oAB({type:R});static#n=this.\u0275inj=c.cJS({imports:[w.ez,t.BQ]})}return R})()},8525:(Bn,tt,S)=>{"use strict";S.d(tt,{LD:()=>Te,gD:()=>Ne});var c=S(3651),t=S(6814),b=S(5879),w=S(3680),E=S(4170),F=S(799),L=S(4300),D=S(9388),p=S(2495),f=S(8337),g=S(6028),y=S(95),M=S(8645),U=S(4911),R=S(3019),V=S(7921),k=S(4664),O=S(8180),x=S(2181),P=S(7398),T=S(3997),N=S(9773),C=S(6825);const B=["trigger"],Y=["panel"];function q(W,se){if(1&W&&(b.TgZ(0,"span",10),b._uU(1),b.qZA()),2&W){const _e=b.oxw();b.xp6(1),b.Oqu(_e.placeholder)}}function le(W,se){if(1&W&&(b.TgZ(0,"span",14),b._uU(1),b.qZA()),2&W){const _e=b.oxw(2);b.xp6(1),b.Oqu(_e.triggerValue)}}function Fe(W,se){1&W&&b.Hsn(0,0,["*ngSwitchCase","true"])}function $(W,se){if(1&W&&(b.TgZ(0,"span",11),b.YNc(1,le,2,1,"span",12),b.YNc(2,Fe,1,0,"ng-content",13),b.qZA()),2&W){const _e=b.oxw();b.Q6J("ngSwitch",!!_e.customTrigger),b.xp6(2),b.Q6J("ngSwitchCase",!0)}}function ae(W,se){if(1&W){const _e=b.EpF();b.O4$(),b.kcU(),b.TgZ(0,"div",15,16),b.NdJ("@transformPanel.done",function(Q){b.CHM(_e);const Z=b.oxw();return b.KtG(Z._panelDoneAnimatingStream.next(Q.toState))})("keydown",function(Q){b.CHM(_e);const Z=b.oxw();return b.KtG(Z._handleKeydown(Q))}),b.Hsn(2,1),b.qZA()}if(2&W){const _e=b.oxw();b.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",_e._getPanelTheme(),""),b.Q6J("ngClass",_e.panelClass)("@transformPanel","showing"),b.uIk("id",_e.id+"-panel")("aria-multiselectable",_e.multiple)("aria-label",_e.ariaLabel||null)("aria-labelledby",_e._getPanelAriaLabelledby())}}const K=[[["mat-select-trigger"]],"*"],ge=["mat-select-trigger","*"],oe={transformPanelWrap:(0,C.X$)("transformPanelWrap",[(0,C.eR)("* => void",(0,C.IO)("@transformPanel",[(0,C.pV)()],{optional:!0}))]),transformPanel:(0,C.X$)("transformPanel",[(0,C.SB)("void",(0,C.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,C.eR)("void => showing",(0,C.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,C.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,C.eR)("* => void",(0,C.jt)("100ms linear",(0,C.oB)({opacity:0})))])};let fe=0;const Re=new b.OlP("mat-select-scroll-strategy"),pe=new b.OlP("MAT_SELECT_CONFIG"),Ue={provide:Re,deps:[c.aV],useFactory:function Ae(W){return()=>W.scrollStrategies.reposition()}},ke=new b.OlP("MatSelectTrigger");class we{constructor(se,_e){this.source=se,this.value=_e}}const He=(0,w.Kr)((0,w.sb)((0,w.Id)((0,w.FD)(class{constructor(W,se,_e,J,Q){this._elementRef=W,this._defaultErrorStateMatcher=se,this._parentForm=_e,this._parentFormGroup=J,this.ngControl=Q,this.stateChanges=new M.x}}))));let at=(()=>{class W extends He{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(_e){this._placeholder=_e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(y.kI.required)??!1}set required(_e){this._required=(0,p.Ig)(_e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(_e){this._multiple=(0,p.Ig)(_e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(_e){this._disableOptionCentering=(0,p.Ig)(_e)}get compareWith(){return this._compareWith}set compareWith(_e){this._compareWith=_e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(_e){this._assignValue(_e)&&this._onChange(_e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(_e){this._typeaheadDebounceInterval=(0,p.su)(_e)}get id(){return this._id}set id(_e){this._id=_e||this._uid,this.stateChanges.next()}constructor(_e,J,Q,Z,ne,ie,ee,X,ue,ve,de,xe,Ke,Ve){super(ne,Z,ee,X,ve),this._viewportRuler=_e,this._changeDetectorRef=J,this._ngZone=Q,this._dir=ie,this._parentFormField=ue,this._liveAnnouncer=Ke,this._defaultOptions=Ve,this._panelOpen=!1,this._compareWith=(lt,dt)=>lt===dt,this._uid="mat-select-"+fe++,this._triggerAriaLabelledBy=null,this._destroy=new M.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+fe++,this._panelDoneAnimatingStream=new M.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,U.P)(()=>{const lt=this.options;return lt?lt.changes.pipe((0,V.O)(lt),(0,k.w)(()=>(0,R.T)(...lt.map(dt=>dt.onSelectionChange)))):this._ngZone.onStable.pipe((0,O.q)(1),(0,k.w)(()=>this.optionSelectionChanges))}),this.openedChange=new b.vpe,this._openedStream=this.openedChange.pipe((0,x.h)(lt=>lt),(0,P.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,x.h)(lt=>!lt),(0,P.U)(()=>{})),this.selectionChange=new b.vpe,this.valueChange=new b.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Ve?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=Ve.typeaheadDebounceInterval),this._scrollStrategyFactory=xe,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(de)||0,this.id=this.id}ngOnInit(){this._selectionModel=new f.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,T.x)(),(0,N.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,N.R)(this._destroy)).subscribe(_e=>{_e.added.forEach(J=>J.select()),_e.removed.forEach(J=>J.deselect())}),this.options.changes.pipe((0,V.O)(null),(0,N.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const _e=this._getTriggerAriaLabelledby(),J=this.ngControl;if(_e!==this._triggerAriaLabelledBy){const Q=this._elementRef.nativeElement;this._triggerAriaLabelledBy=_e,_e?Q.setAttribute("aria-labelledby",_e):Q.removeAttribute("aria-labelledby")}J&&(this._previousControl!==J.control&&(void 0!==this._previousControl&&null!==J.disabled&&J.disabled!==this.disabled&&(this.disabled=J.disabled),this._previousControl=J.control),this.updateErrorState())}ngOnChanges(_e){(_e.disabled||_e.userAriaDescribedBy)&&this.stateChanges.next(),_e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const _e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!_e)return;const J=`${this.id}-panel`;this._trackedModal&&(0,L.iD)(this._trackedModal,"aria-owns",J),(0,L.Zf)(_e,"aria-owns",J),this._trackedModal=_e}_clearFromModal(){this._trackedModal&&((0,L.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(_e){this._assignValue(_e)}registerOnChange(_e){this._onChange=_e}registerOnTouched(_e){this._onTouched=_e}setDisabledState(_e){this.disabled=_e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const _e=this._selectionModel.selected.map(J=>J.viewValue);return this._isRtl()&&_e.reverse(),_e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(_e){this.disabled||(this.panelOpen?this._handleOpenKeydown(_e):this._handleClosedKeydown(_e))}_handleClosedKeydown(_e){const J=_e.keyCode,Q=J===g.JH||J===g.LH||J===g.oh||J===g.SV,Z=J===g.K5||J===g.L_,ne=this._keyManager;if(!ne.isTyping()&&Z&&!(0,g.Vb)(_e)||(this.multiple||_e.altKey)&&Q)_e.preventDefault(),this.open();else if(!this.multiple){const ie=this.selected;ne.onKeydown(_e);const ee=this.selected;ee&&ie!==ee&&this._liveAnnouncer.announce(ee.viewValue,1e4)}}_handleOpenKeydown(_e){const J=this._keyManager,Q=_e.keyCode,Z=Q===g.JH||Q===g.LH,ne=J.isTyping();if(Z&&_e.altKey)_e.preventDefault(),this.close();else if(ne||Q!==g.K5&&Q!==g.L_||!J.activeItem||(0,g.Vb)(_e))if(!ne&&this._multiple&&Q===g.A&&_e.ctrlKey){_e.preventDefault();const ie=this.options.some(ee=>!ee.disabled&&!ee.selected);this.options.forEach(ee=>{ee.disabled||(ie?ee.select():ee.deselect())})}else{const ie=J.activeItemIndex;J.onKeydown(_e),this._multiple&&Z&&_e.shiftKey&&J.activeItem&&J.activeItemIndex!==ie&&J.activeItem._selectViaInteraction()}else _e.preventDefault(),J.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,O.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(_e){if(this.options.forEach(J=>J.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&_e)Array.isArray(_e),_e.forEach(J=>this._selectOptionByValue(J)),this._sortValues();else{const J=this._selectOptionByValue(_e);J?this._keyManager.updateActiveItem(J):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(_e){const J=this.options.find(Q=>{if(this._selectionModel.isSelected(Q))return!1;try{return null!=Q.value&&this._compareWith(Q.value,_e)}catch{return!1}});return J&&this._selectionModel.select(J),J}_assignValue(_e){return!!(_e!==this._value||this._multiple&&Array.isArray(_e))&&(this.options&&this._setSelectionByValue(_e),this._value=_e,!0)}_skipPredicate(_e){return _e.disabled}_initKeyManager(){this._keyManager=new L.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const _e=(0,R.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,N.R)(_e)).subscribe(J=>{this._onSelect(J.source,J.isUserInput),J.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,R.T)(...this.options.map(J=>J._stateChanges)).pipe((0,N.R)(_e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(_e,J){const Q=this._selectionModel.isSelected(_e);null!=_e.value||this._multiple?(Q!==_e.selected&&(_e.selected?this._selectionModel.select(_e):this._selectionModel.deselect(_e)),J&&this._keyManager.setActiveItem(_e),this.multiple&&(this._sortValues(),J&&this.focus())):(_e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(_e.value)),Q!==this._selectionModel.isSelected(_e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const _e=this.options.toArray();this._selectionModel.sort((J,Q)=>this.sortComparator?this.sortComparator(J,Q,_e):_e.indexOf(J)-_e.indexOf(Q)),this.stateChanges.next()}}_propagateChanges(_e){let J=null;J=this.multiple?this.selected.map(Q=>Q.value):this.selected?this.selected.value:_e,this._value=J,this.valueChange.emit(J),this._onChange(J),this.selectionChange.emit(this._getChangeEvent(J)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let _e=-1;for(let J=0;J<this.options.length;J++)if(!this.options.get(J).disabled){_e=J;break}this._keyManager.setActiveItem(_e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(_e){this._elementRef.nativeElement.focus(_e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const _e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(_e?_e+" ":"")+this.ariaLabelledby:_e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const _e=this._parentFormField?.getLabelId();let J=(_e?_e+" ":"")+this._valueId;return this.ariaLabelledby&&(J+=" "+this.ariaLabelledby),J}_panelDoneAnimating(_e){this.openedChange.emit(_e)}setDescribedByIds(_e){_e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",_e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(J){return new(J||W)(b.Y36(F.rL),b.Y36(b.sBO),b.Y36(b.R0b),b.Y36(w.rD),b.Y36(b.SBq),b.Y36(D.Is,8),b.Y36(y.F,8),b.Y36(y.sg,8),b.Y36(E.G_,8),b.Y36(y.a5,10),b.$8M("tabindex"),b.Y36(Re),b.Y36(L.Kd),b.Y36(pe,8))};static#t=this.\u0275dir=b.lG2({type:W,viewQuery:function(J,Q){if(1&J&&(b.Gf(B,5),b.Gf(Y,5),b.Gf(c.pI,5)),2&J){let Z;b.iGM(Z=b.CRH())&&(Q.trigger=Z.first),b.iGM(Z=b.CRH())&&(Q.panel=Z.first),b.iGM(Z=b.CRH())&&(Q._overlayDir=Z.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[b.qOj,b.TTD]})}return W})(),Ne=(()=>{class W extends at{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=_e=>!this.panelOpen&&_e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,N.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(_e){const J=this.options.toArray()[_e];if(J){const Q=this.panel.nativeElement,Z=(0,w.CB)(_e,this.options,this.optionGroups),ne=J._getHostElement();Q.scrollTop=0===_e&&1===Z?0:(0,w.jH)(ne.offsetTop,ne.offsetHeight,Q.scrollTop,Q.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(_e){return new we(this,_e)}_getOverlayWidth(_e){return"auto"===this.panelWidth?(_e instanceof c.xu?_e.elementRef:_e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(_e){this._hideSingleSelectionIndicator=(0,p.Ig)(_e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const _e of this.options)_e._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let _e;return function(Q){return(_e||(_e=b.n5z(W)))(Q||W)}}();static#t=this.\u0275cmp=b.Xpm({type:W,selectors:[["mat-select"]],contentQueries:function(J,Q,Z){if(1&J&&(b.Suo(Z,ke,5),b.Suo(Z,w.ey,5),b.Suo(Z,w.K7,5)),2&J){let ne;b.iGM(ne=b.CRH())&&(Q.customTrigger=ne.first),b.iGM(ne=b.CRH())&&(Q.options=ne),b.iGM(ne=b.CRH())&&(Q.optionGroups=ne)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(J,Q){1&J&&b.NdJ("keydown",function(ne){return Q._handleKeydown(ne)})("focus",function(){return Q._onFocus()})("blur",function(){return Q._onBlur()}),2&J&&(b.uIk("id",Q.id)("tabindex",Q.tabIndex)("aria-controls",Q.panelOpen?Q.id+"-panel":null)("aria-expanded",Q.panelOpen)("aria-label",Q.ariaLabel||null)("aria-required",Q.required.toString())("aria-disabled",Q.disabled.toString())("aria-invalid",Q.errorState)("aria-activedescendant",Q._getAriaActiveDescendant()),b.ekj("mat-mdc-select-disabled",Q.disabled)("mat-mdc-select-invalid",Q.errorState)("mat-mdc-select-required",Q.required)("mat-mdc-select-empty",Q.empty)("mat-mdc-select-multiple",Q.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[b._Bn([{provide:E.Eo,useExisting:W},{provide:w.HF,useExisting:W}]),b.qOj],ngContentSelectors:ge,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(J,Q){if(1&J&&(b.F$t(K),b.TgZ(0,"div",0,1),b.NdJ("click",function(){return Q.toggle()}),b.TgZ(3,"div",2),b.YNc(4,q,2,1,"span",3),b.YNc(5,$,3,2,"span",4),b.qZA(),b.TgZ(6,"div",5)(7,"div",6),b.O4$(),b.TgZ(8,"svg",7),b._UZ(9,"path",8),b.qZA()()()(),b.YNc(10,ae,3,9,"ng-template",9),b.NdJ("backdropClick",function(){return Q.close()})("attach",function(){return Q._onAttached()})("detach",function(){return Q.close()})),2&J){const Z=b.MAs(1);b.xp6(3),b.Q6J("ngSwitch",Q.empty),b.uIk("id",Q._valueId),b.xp6(1),b.Q6J("ngSwitchCase",!0),b.xp6(1),b.Q6J("ngSwitchCase",!1),b.xp6(5),b.Q6J("cdkConnectedOverlayPanelClass",Q._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Q._scrollStrategy)("cdkConnectedOverlayOrigin",Q._preferredOverlayOrigin||Z)("cdkConnectedOverlayOpen",Q.panelOpen)("cdkConnectedOverlayPositions",Q._positions)("cdkConnectedOverlayWidth",Q._overlayWidth)}},dependencies:[t.mk,t.RF,t.n9,t.ED,c.pI,c.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[oe.transformPanel]},changeDetection:0})}return W})(),Te=(()=>{class W{static#e=this.\u0275fac=function(J){return new(J||W)};static#t=this.\u0275mod=b.oAB({type:W});static#n=this.\u0275inj=b.cJS({providers:[Ue],imports:[t.ez,c.U8,w.Ng,w.BQ,F.ZD,E.lN,w.Ng,w.BQ]})}return W})()},2939:(Bn,tt,S)=>{"use strict";S.d(tt,{OX:()=>O,ZX:()=>$,qD:()=>x,u_:()=>P,ux:()=>oe});var c=S(5879),t=S(8645),b=S(6814),w=S(2296),E=S(6825),F=S(8484),L=S(2831),D=S(8180),p=S(9773),f=S(4300),g=S(1088),y=S(3651),M=S(3680);function U(he,Ce){if(1&he){const Le=c.EpF();c.TgZ(0,"div",2)(1,"button",3),c.NdJ("click",function(){c.CHM(Le);const Re=c.oxw();return c.KtG(Re.action())}),c._uU(2),c.qZA()()}if(2&he){const Le=c.oxw();c.xp6(2),c.hij(" ",Le.data.action," ")}}const R=["label"];function V(he,Ce){}const k=Math.pow(2,31)-1;class O{constructor(Ce,Le){this._overlayRef=Le,this._afterDismissed=new t.x,this._afterOpened=new t.x,this._onAction=new t.x,this._dismissedByAction=!1,this.containerInstance=Ce,Ce._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Ce){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Ce,k))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const x=new c.OlP("MatSnackBarData");class P{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let T=(()=>{class he{static#e=this.\u0275fac=function(fe){return new(fe||he)};static#t=this.\u0275dir=c.lG2({type:he,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return he})(),N=(()=>{class he{static#e=this.\u0275fac=function(fe){return new(fe||he)};static#t=this.\u0275dir=c.lG2({type:he,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return he})(),C=(()=>{class he{static#e=this.\u0275fac=function(fe){return new(fe||he)};static#t=this.\u0275dir=c.lG2({type:he,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return he})(),B=(()=>{class he{constructor(Le,fe){this.snackBarRef=Le,this.data=fe}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(fe){return new(fe||he)(c.Y36(O),c.Y36(x))};static#t=this.\u0275cmp=c.Xpm({type:he,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(fe,Re){1&fe&&(c.TgZ(0,"div",0),c._uU(1),c.qZA(),c.YNc(2,U,3,1,"div",1)),2&fe&&(c.xp6(1),c.hij(" ",Re.data.message,"\n"),c.xp6(1),c.Q6J("ngIf",Re.hasAction))},dependencies:[b.O5,w.lW,T,N,C],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return he})();const Y={snackBarState:(0,E.X$)("state",[(0,E.SB)("void, hidden",(0,E.oB)({transform:"scale(0.8)",opacity:0})),(0,E.SB)("visible",(0,E.oB)({transform:"scale(1)",opacity:1})),(0,E.eR)("* => visible",(0,E.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,E.eR)("* => void, * => hidden",(0,E.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,E.oB)({opacity:0})))])};let q=0,le=(()=>{class he extends F.en{constructor(Le,fe,Re,Ae,pe){super(),this._ngZone=Le,this._elementRef=fe,this._changeDetectorRef=Re,this._platform=Ae,this.snackBarConfig=pe,this._document=(0,c.f3M)(b.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new t.x,this._onExit=new t.x,this._onEnter=new t.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+q++,this.attachDomPortal=Ue=>{this._assertNotAttached();const ke=this._portalOutlet.attachDomPortal(Ue);return this._afterPortalAttached(),ke},this._live="assertive"!==pe.politeness||pe.announcementMessage?"off"===pe.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Le){this._assertNotAttached();const fe=this._portalOutlet.attachComponentPortal(Le);return this._afterPortalAttached(),fe}attachTemplatePortal(Le){this._assertNotAttached();const fe=this._portalOutlet.attachTemplatePortal(Le);return this._afterPortalAttached(),fe}onAnimationEnd(Le){const{fromState:fe,toState:Re}=Le;if(("void"===Re&&"void"!==fe||"hidden"===Re)&&this._completeExit(),"visible"===Re){const Ae=this._onEnter;this._ngZone.run(()=>{Ae.next(),Ae.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,D.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const Le=this._elementRef.nativeElement,fe=this.snackBarConfig.panelClass;fe&&(Array.isArray(fe)?fe.forEach(Re=>Le.classList.add(Re)):Le.classList.add(fe)),this._exposeToModals()}_exposeToModals(){const Le=this._liveElementId,fe=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Re=0;Re<fe.length;Re++){const Ae=fe[Re],pe=Ae.getAttribute("aria-owns");this._trackedModals.add(Ae),pe?-1===pe.indexOf(Le)&&Ae.setAttribute("aria-owns",pe+" "+Le):Ae.setAttribute("aria-owns",Le)}}_clearFromModals(){this._trackedModals.forEach(Le=>{const fe=Le.getAttribute("aria-owns");if(fe){const Re=fe.replace(this._liveElementId,"").trim();Re.length>0?Le.setAttribute("aria-owns",Re):Le.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Le=this._elementRef.nativeElement.querySelector("[aria-hidden]"),fe=this._elementRef.nativeElement.querySelector("[aria-live]");if(Le&&fe){let Re=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Le.contains(document.activeElement)&&(Re=document.activeElement),Le.removeAttribute("aria-hidden"),fe.appendChild(Le),Re?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(fe){return new(fe||he)(c.Y36(c.R0b),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(L.t4),c.Y36(P))};static#t=this.\u0275dir=c.lG2({type:he,viewQuery:function(fe,Re){if(1&fe&&c.Gf(F.Pl,7),2&fe){let Ae;c.iGM(Ae=c.CRH())&&(Re._portalOutlet=Ae.first)}},features:[c.qOj]})}return he})(),Fe=(()=>{class he extends le{_afterPortalAttached(){super._afterPortalAttached();const Le=this._label.nativeElement,fe="mdc-snackbar__label";Le.classList.toggle(fe,!Le.querySelector(`.${fe}`))}static#e=this.\u0275fac=function(){let Le;return function(Re){return(Le||(Le=c.n5z(he)))(Re||he)}}();static#t=this.\u0275cmp=c.Xpm({type:he,selectors:[["mat-snack-bar-container"]],viewQuery:function(fe,Re){if(1&fe&&c.Gf(R,7),2&fe){let Ae;c.iGM(Ae=c.CRH())&&(Re._label=Ae.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(fe,Re){1&fe&&c.WFA("@state.done",function(pe){return Re.onAnimationEnd(pe)}),2&fe&&c.d8E("@state",Re._animationState)},features:[c.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(fe,Re){1&fe&&(c.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),c.YNc(4,V,0,0,"ng-template",4),c.qZA(),c._UZ(5,"div"),c.qZA()()),2&fe&&(c.xp6(5),c.uIk("aria-live",Re._live)("role",Re._role)("id",Re._liveElementId))},dependencies:[F.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Y.snackBarState]}})}return he})(),$=(()=>{class he{static#e=this.\u0275fac=function(fe){return new(fe||he)};static#t=this.\u0275mod=c.oAB({type:he});static#n=this.\u0275inj=c.cJS({imports:[y.U8,F.eL,b.ez,w.ot,M.BQ,M.BQ]})}return he})();const K=new c.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function ae(){return new P}});let ge=(()=>{class he{get _openedSnackBarRef(){const Le=this._parentSnackBar;return Le?Le._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Le){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Le:this._snackBarRefAtThisLevel=Le}constructor(Le,fe,Re,Ae,pe,Ue){this._overlay=Le,this._live=fe,this._injector=Re,this._breakpointObserver=Ae,this._parentSnackBar=pe,this._defaultConfig=Ue,this._snackBarRefAtThisLevel=null}openFromComponent(Le,fe){return this._attach(Le,fe)}openFromTemplate(Le,fe){return this._attach(Le,fe)}open(Le,fe="",Re){const Ae={...this._defaultConfig,...Re};return Ae.data={message:Le,action:fe},Ae.announcementMessage===Le&&(Ae.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,Ae)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Le,fe){const Ae=c.zs3.create({parent:fe&&fe.viewContainerRef&&fe.viewContainerRef.injector||this._injector,providers:[{provide:P,useValue:fe}]}),pe=new F.C5(this.snackBarContainerComponent,fe.viewContainerRef,Ae),Ue=Le.attach(pe);return Ue.instance.snackBarConfig=fe,Ue.instance}_attach(Le,fe){const Re={...new P,...this._defaultConfig,...fe},Ae=this._createOverlay(Re),pe=this._attachSnackBarContainer(Ae,Re),Ue=new O(pe,Ae);if(Le instanceof c.Rgc){const ke=new F.UE(Le,null,{$implicit:Re.data,snackBarRef:Ue});Ue.instance=pe.attachTemplatePortal(ke)}else{const ke=this._createInjector(Re,Ue),we=new F.C5(Le,void 0,ke),He=pe.attachComponentPortal(we);Ue.instance=He.instance}return this._breakpointObserver.observe(g.u3.HandsetPortrait).pipe((0,p.R)(Ae.detachments())).subscribe(ke=>{Ae.overlayElement.classList.toggle(this.handsetCssClass,ke.matches)}),Re.announcementMessage&&pe._onAnnounce.subscribe(()=>{this._live.announce(Re.announcementMessage,Re.politeness)}),this._animateSnackBar(Ue,Re),this._openedSnackBarRef=Ue,this._openedSnackBarRef}_animateSnackBar(Le,fe){Le.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Le&&(this._openedSnackBarRef=null),fe.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Le.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Le.containerInstance.enter(),fe.duration&&fe.duration>0&&Le.afterOpened().subscribe(()=>Le._dismissAfter(fe.duration))}_createOverlay(Le){const fe=new y.X_;fe.direction=Le.direction;let Re=this._overlay.position().global();const Ae="rtl"===Le.direction,pe="left"===Le.horizontalPosition||"start"===Le.horizontalPosition&&!Ae||"end"===Le.horizontalPosition&&Ae,Ue=!pe&&"center"!==Le.horizontalPosition;return pe?Re.left("0"):Ue?Re.right("0"):Re.centerHorizontally(),"top"===Le.verticalPosition?Re.top("0"):Re.bottom("0"),fe.positionStrategy=Re,this._overlay.create(fe)}_createInjector(Le,fe){return c.zs3.create({parent:Le&&Le.viewContainerRef&&Le.viewContainerRef.injector||this._injector,providers:[{provide:O,useValue:fe},{provide:x,useValue:Le.data}]})}static#e=this.\u0275fac=function(fe){return new(fe||he)(c.LFG(y.aV),c.LFG(f.Kd),c.LFG(c.zs3),c.LFG(g.Yg),c.LFG(he,12),c.LFG(K))};static#t=this.\u0275prov=c.Yz7({token:he,factory:he.\u0275fac})}return he})(),oe=(()=>{class he extends ge{constructor(Le,fe,Re,Ae,pe,Ue){super(Le,fe,Re,Ae,pe,Ue),this.simpleSnackBarComponent=B,this.snackBarContainerComponent=Fe,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(fe){return new(fe||he)(c.LFG(y.aV),c.LFG(f.Kd),c.LFG(c.zs3),c.LFG(g.Yg),c.LFG(he,12),c.LFG(K))};static#t=this.\u0275prov=c.Yz7({token:he,factory:he.\u0275fac,providedIn:$})}return he})()},3566:(Bn,tt,S)=>{"use strict";S.d(tt,{JX:()=>Fe,YE:()=>x,nU:()=>le});var c=S(5879),t=S(4300),b=S(2495),w=S(6028),E=S(3680),F=S(8645),L=S(3019),D=S(6825),p=S(6814);const f=["mat-sort-header",""];function g($,ae){if(1&$){const K=c.EpF();c.TgZ(0,"div",3),c.NdJ("@arrowPosition.start",function(){c.CHM(K);const oe=c.oxw();return c.KtG(oe._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){c.CHM(K);const oe=c.oxw();return c.KtG(oe._disableViewStateAnimation=!1)}),c._UZ(1,"div",4),c.TgZ(2,"div",5),c._UZ(3,"div",6)(4,"div",7)(5,"div",8),c.qZA()()}if(2&$){const K=c.oxw();c.Q6J("@arrowOpacity",K._getArrowViewState())("@arrowPosition",K._getArrowViewState())("@allowChildren",K._getArrowDirectionState()),c.xp6(2),c.Q6J("@indicator",K._getArrowDirectionState()),c.xp6(1),c.Q6J("@leftPointer",K._getArrowDirectionState()),c.xp6(1),c.Q6J("@rightPointer",K._getArrowDirectionState())}}const y=["*"],k=new c.OlP("MAT_SORT_DEFAULT_OPTIONS"),O=(0,E.dB)((0,E.Id)(class{}));let x=(()=>{class $ extends O{get direction(){return this._direction}set direction(K){this._direction=K}get disableClear(){return this._disableClear}set disableClear(K){this._disableClear=(0,b.Ig)(K)}constructor(K){super(),this._defaultOptions=K,this.sortables=new Map,this._stateChanges=new F.x,this.start="asc",this._direction="",this.sortChange=new c.vpe}register(K){this.sortables.set(K.id,K)}deregister(K){this.sortables.delete(K.id)}sort(K){this.active!=K.id?(this.active=K.id,this.direction=K.start?K.start:this.start):this.direction=this.getNextSortDirection(K),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(K){if(!K)return"";let oe=function P($,ae){let K=["asc","desc"];return"desc"==$&&K.reverse(),ae||K.push(""),K}(K.start||this.start,K?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),he=oe.indexOf(this.direction)+1;return he>=oe.length&&(he=0),oe[he]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(ge){return new(ge||$)(c.Y36(k,8))};static#t=this.\u0275dir=c.lG2({type:$,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[c.qOj,c.TTD]})}return $})();const T=E.mZ.ENTERING+" "+E.yN.STANDARD_CURVE,N={indicator:(0,D.X$)("indicator",[(0,D.SB)("active-asc, asc",(0,D.oB)({transform:"translateY(0px)"})),(0,D.SB)("active-desc, desc",(0,D.oB)({transform:"translateY(10px)"})),(0,D.eR)("active-asc <=> active-desc",(0,D.jt)(T))]),leftPointer:(0,D.X$)("leftPointer",[(0,D.SB)("active-asc, asc",(0,D.oB)({transform:"rotate(-45deg)"})),(0,D.SB)("active-desc, desc",(0,D.oB)({transform:"rotate(45deg)"})),(0,D.eR)("active-asc <=> active-desc",(0,D.jt)(T))]),rightPointer:(0,D.X$)("rightPointer",[(0,D.SB)("active-asc, asc",(0,D.oB)({transform:"rotate(45deg)"})),(0,D.SB)("active-desc, desc",(0,D.oB)({transform:"rotate(-45deg)"})),(0,D.eR)("active-asc <=> active-desc",(0,D.jt)(T))]),arrowOpacity:(0,D.X$)("arrowOpacity",[(0,D.SB)("desc-to-active, asc-to-active, active",(0,D.oB)({opacity:1})),(0,D.SB)("desc-to-hint, asc-to-hint, hint",(0,D.oB)({opacity:.54})),(0,D.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,D.oB)({opacity:0})),(0,D.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,D.jt)("0ms")),(0,D.eR)("* <=> *",(0,D.jt)(T))]),arrowPosition:(0,D.X$)("arrowPosition",[(0,D.eR)("* => desc-to-hint, * => desc-to-active",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(-25%)"}),(0,D.oB)({transform:"translateY(0)"})]))),(0,D.eR)("* => hint-to-desc, * => active-to-desc",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(0)"}),(0,D.oB)({transform:"translateY(25%)"})]))),(0,D.eR)("* => asc-to-hint, * => asc-to-active",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(25%)"}),(0,D.oB)({transform:"translateY(0)"})]))),(0,D.eR)("* => hint-to-asc, * => active-to-asc",(0,D.jt)(T,(0,D.F4)([(0,D.oB)({transform:"translateY(0)"}),(0,D.oB)({transform:"translateY(-25%)"})]))),(0,D.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,D.oB)({transform:"translateY(0)"})),(0,D.SB)("hint-to-desc, active-to-desc, desc",(0,D.oB)({transform:"translateY(-25%)"})),(0,D.SB)("hint-to-asc, active-to-asc, asc",(0,D.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,D.X$)("allowChildren",[(0,D.eR)("* <=> *",[(0,D.IO)("@*",(0,D.pV)(),{optional:!0})])])};let C=(()=>{class ${constructor(){this.changes=new F.x}static#e=this.\u0275fac=function(ge){return new(ge||$)};static#t=this.\u0275prov=c.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})();const Y={provide:C,deps:[[new c.FiY,new c.tp0,C]],useFactory:function B($){return $||new C}},q=(0,E.Id)(class{});let le=(()=>{class $ extends q{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(K){this._updateSortActionDescription(K)}get disableClear(){return this._disableClear}set disableClear(K){this._disableClear=(0,b.Ig)(K)}constructor(K,ge,oe,he,Ce,Le,fe,Re){super(),this._intl=K,this._changeDetectorRef=ge,this._sort=oe,this._columnDef=he,this._focusMonitor=Ce,this._elementRef=Le,this._ariaDescriber=fe,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",Re?.arrowPosition&&(this.arrowPosition=Re?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(K=>{const ge=!!K;ge!==this._showIndicatorHint&&(this._setIndicatorHintVisible(ge),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(K){this._isDisabled()&&K||(this._showIndicatorHint=K,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(K){this._viewState=K||{},this._disableViewStateAnimation&&(this._viewState={toState:K.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(K){!this._isDisabled()&&(K.keyCode===w.L_||K.keyCode===w.K5)&&(K.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const K=this._viewState.fromState;return(K?`${K}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(K){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,K)),this._sortActionDescription=K}_handleStateChanges(){this._rerenderSubscription=(0,L.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(ge){return new(ge||$)(c.Y36(C),c.Y36(c.sBO),c.Y36(x,8),c.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),c.Y36(t.tE),c.Y36(c.SBq),c.Y36(t.$s,8),c.Y36(k,8))};static#t=this.\u0275cmp=c.Xpm({type:$,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(ge,oe){1&ge&&c.NdJ("click",function(){return oe._handleClick()})("keydown",function(Ce){return oe._handleKeydown(Ce)})("mouseenter",function(){return oe._setIndicatorHintVisible(!0)})("mouseleave",function(){return oe._setIndicatorHintVisible(!1)}),2&ge&&(c.uIk("aria-sort",oe._getAriaSortAttribute()),c.ekj("mat-sort-header-disabled",oe._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[c.qOj],attrs:f,ngContentSelectors:y,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(ge,oe){1&ge&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1),c.Hsn(2),c.qZA(),c.YNc(3,g,6,6,"div",2),c.qZA()),2&ge&&(c.ekj("mat-sort-header-sorted",oe._isSorted())("mat-sort-header-position-before","before"===oe.arrowPosition),c.uIk("tabindex",oe._isDisabled()?null:0)("role",oe._isDisabled()?null:"button"),c.xp6(3),c.Q6J("ngIf",oe._renderArrow()))},dependencies:[p.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[N.indicator,N.leftPointer,N.rightPointer,N.arrowOpacity,N.arrowPosition,N.allowChildren]},changeDetection:0})}return $})(),Fe=(()=>{class ${static#e=this.\u0275fac=function(ge){return new(ge||$)};static#t=this.\u0275mod=c.oAB({type:$});static#n=this.\u0275inj=c.cJS({providers:[Y],imports:[p.ez,E.BQ]})}return $})()},5313:(Bn,tt,S)=>{"use strict";S.d(tt,{ev:()=>kt,Dz:()=>Pe,w1:()=>ct,ge:()=>st,fO:()=>Ye,XQ:()=>an,as:()=>$t,Ee:()=>Nn,Gk:()=>Mn,nj:()=>Jt,BZ:()=>De,by:()=>St,p0:()=>fi});var c=S(5879),t=S(9388),b=S(2495),w=S(8337),E=S(2831),F=S(799),L=S(6814),D=S(8645),p=S(2459),f=S(5619),g=S(2664),y=S(2096),M=S(9773),U=S(8180);const R=[[["caption"]],[["colgroup"],["col"]]],V=["caption","colgroup, col"];function x(ft){return class extends ft{get sticky(){return this._sticky}set sticky(tn){const ze=this._sticky;this._sticky=(0,b.Ig)(tn),this._hasStickyChanged=ze!==this._sticky}hasStickyChanged(){const tn=this._hasStickyChanged;return this._hasStickyChanged=!1,tn}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...tn){super(...tn),this._sticky=!1,this._hasStickyChanged=!1}}}const P=new c.OlP("CDK_TABLE");let N=(()=>{class ft{constructor(ze){this.template=ze}static#e=this.\u0275fac=function(Xe){return new(Xe||ft)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["","cdkCellDef",""]]})}return ft})(),C=(()=>{class ft{constructor(ze){this.template=ze}static#e=this.\u0275fac=function(Xe){return new(Xe||ft)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["","cdkHeaderCellDef",""]]})}return ft})(),B=(()=>{class ft{constructor(ze){this.template=ze}static#e=this.\u0275fac=function(Xe){return new(Xe||ft)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["","cdkFooterCellDef",""]]})}return ft})();class Y{}const q=x(Y);let le=(()=>{class ft extends q{get name(){return this._name}set name(ze){this._setNameInput(ze)}get stickyEnd(){return this._stickyEnd}set stickyEnd(ze){const Xe=this._stickyEnd;this._stickyEnd=(0,b.Ig)(ze),this._hasStickyChanged=Xe!==this._stickyEnd}constructor(ze){super(),this._table=ze,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(ze){ze&&(this._name=ze,this.cssClassFriendlyName=ze.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(Xe){return new(Xe||ft)(c.Y36(P,8))};static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["","cdkColumnDef",""]],contentQueries:function(Xe,Pt,Qt){if(1&Xe&&(c.Suo(Qt,N,5),c.Suo(Qt,C,5),c.Suo(Qt,B,5)),2&Xe){let wn;c.iGM(wn=c.CRH())&&(Pt.cell=wn.first),c.iGM(wn=c.CRH())&&(Pt.headerCell=wn.first),c.iGM(wn=c.CRH())&&(Pt.footerCell=wn.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[c._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ft}]),c.qOj]})}return ft})();class Fe{constructor(tn,ze){ze.nativeElement.classList.add(...tn._columnCssClassName)}}let $=(()=>{class ft extends Fe{constructor(ze,Xe){super(ze,Xe)}static#e=this.\u0275fac=function(Xe){return new(Xe||ft)(c.Y36(le),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[c.qOj]})}return ft})(),K=(()=>{class ft extends Fe{constructor(ze,Xe){if(super(ze,Xe),1===ze._table?._elementRef.nativeElement.nodeType){const Pt=ze._table._elementRef.nativeElement.getAttribute("role");Xe.nativeElement.setAttribute("role","grid"===Pt||"treegrid"===Pt?"gridcell":"cell")}}static#e=this.\u0275fac=function(Xe){return new(Xe||ft)(c.Y36(le),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[c.qOj]})}return ft})();class ge{constructor(){this.tasks=[],this.endTasks=[]}}const oe=new c.OlP("_COALESCED_STYLE_SCHEDULER");let he=(()=>{class ft{constructor(ze){this._ngZone=ze,this._currentSchedule=null,this._destroyed=new D.x}schedule(ze){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(ze)}scheduleEnd(ze){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(ze)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new ge,this._getScheduleObservable().pipe((0,M.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const ze=this._currentSchedule;this._currentSchedule=new ge;for(const Xe of ze.tasks)Xe();for(const Xe of ze.endTasks)Xe()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,p.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,U.q)(1))}static#e=this.\u0275fac=function(Xe){return new(Xe||ft)(c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:ft,factory:ft.\u0275fac})}return ft})(),Le=(()=>{class ft{constructor(ze,Xe){this.template=ze,this._differs=Xe}ngOnChanges(ze){if(!this._columnsDiffer){const Xe=ze.columns&&ze.columns.currentValue||[];this._columnsDiffer=this._differs.find(Xe).create(),this._columnsDiffer.diff(Xe)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(ze){return this instanceof Ae?ze.headerCell.template:this instanceof ke?ze.footerCell.template:ze.cell.template}static#e=this.\u0275fac=function(Xe){return new(Xe||ft)(c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:ft,features:[c.TTD]})}return ft})();class fe extends Le{}const Re=x(fe);let Ae=(()=>{class ft extends Re{constructor(ze,Xe,Pt){super(ze,Xe),this._table=Pt}ngOnChanges(ze){super.ngOnChanges(ze)}static#e=this.\u0275fac=function(Xe){return new(Xe||ft)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(P,8))};static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[c.qOj,c.TTD]})}return ft})();class pe extends Le{}const Ue=x(pe);let ke=(()=>{class ft extends Ue{constructor(ze,Xe,Pt){super(ze,Xe),this._table=Pt}ngOnChanges(ze){super.ngOnChanges(ze)}static#e=this.\u0275fac=function(Xe){return new(Xe||ft)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(P,8))};static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[c.qOj,c.TTD]})}return ft})(),we=(()=>{class ft extends Le{constructor(ze,Xe,Pt){super(ze,Xe),this._table=Pt}static#e=this.\u0275fac=function(Xe){return new(Xe||ft)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(P,8))};static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[c.qOj]})}return ft})(),He=(()=>{class ft{static#e=this.mostRecentCellOutlet=null;constructor(ze){this._viewContainer=ze,ft.mostRecentCellOutlet=this}ngOnDestroy(){ft.mostRecentCellOutlet===this&&(ft.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(Xe){return new(Xe||ft)(c.Y36(c.s_b))};static#n=this.\u0275dir=c.lG2({type:ft,selectors:[["","cdkCellOutlet",""]]})}return ft})(),at=(()=>{class ft{static#e=this.\u0275fac=function(Xe){return new(Xe||ft)};static#t=this.\u0275cmp=c.Xpm({type:ft,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Xe,Pt){1&Xe&&c.GkF(0,0)},dependencies:[He],encapsulation:2})}return ft})(),Ne=(()=>{class ft{static#e=this.\u0275fac=function(Xe){return new(Xe||ft)};static#t=this.\u0275cmp=c.Xpm({type:ft,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Xe,Pt){1&Xe&&c.GkF(0,0)},dependencies:[He],encapsulation:2})}return ft})(),Te=(()=>{class ft{constructor(ze){this.templateRef=ze,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(Xe){return new(Xe||ft)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["ng-template","cdkNoDataRow",""]]})}return ft})();const W=["top","bottom","left","right"];class se{constructor(tn,ze,Xe,Pt,Qt=!0,wn=!0,Fn){this._isNativeHtmlTable=tn,this._stickCellCss=ze,this.direction=Xe,this._coalescedStyleScheduler=Pt,this._isBrowser=Qt,this._needsPositionStickyOnElement=wn,this._positionListener=Fn,this._cachedCellWidths=[],this._borderCellCss={top:`${ze}-border-elem-top`,bottom:`${ze}-border-elem-bottom`,left:`${ze}-border-elem-left`,right:`${ze}-border-elem-right`}}clearStickyPositioning(tn,ze){const Xe=[];for(const Pt of tn)if(Pt.nodeType===Pt.ELEMENT_NODE){Xe.push(Pt);for(let Qt=0;Qt<Pt.children.length;Qt++)Xe.push(Pt.children[Qt])}this._coalescedStyleScheduler.schedule(()=>{for(const Pt of Xe)this._removeStickyStyle(Pt,ze)})}updateStickyColumns(tn,ze,Xe,Pt=!0){if(!tn.length||!this._isBrowser||!ze.some(Ln=>Ln)&&!Xe.some(Ln=>Ln))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const Qt=tn[0],wn=Qt.children.length,Fn=this._getCellWidths(Qt,Pt),Gt=this._getStickyStartColumnPositions(Fn,ze),Kt=this._getStickyEndColumnPositions(Fn,Xe),rn=ze.lastIndexOf(!0),En=Xe.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const Ln="rtl"===this.direction,Xn=Ln?"right":"left",vt=Ln?"left":"right";for(const un of tn)for(let be=0;be<wn;be++){const yt=un.children[be];ze[be]&&this._addStickyStyle(yt,Xn,Gt[be],be===rn),Xe[be]&&this._addStickyStyle(yt,vt,Kt[be],be===En)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===rn?[]:Fn.slice(0,rn+1).map((un,be)=>ze[be]?un:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===En?[]:Fn.slice(En).map((un,be)=>Xe[be+En]?un:null).reverse()}))})}stickRows(tn,ze,Xe){if(!this._isBrowser)return;const Pt="bottom"===Xe?tn.slice().reverse():tn,Qt="bottom"===Xe?ze.slice().reverse():ze,wn=[],Fn=[],Gt=[];for(let rn=0,En=0;rn<Pt.length;rn++){if(!Qt[rn])continue;wn[rn]=En;const Ln=Pt[rn];Gt[rn]=this._isNativeHtmlTable?Array.from(Ln.children):[Ln];const Xn=Ln.getBoundingClientRect().height;En+=Xn,Fn[rn]=Xn}const Kt=Qt.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let rn=0;rn<Pt.length;rn++){if(!Qt[rn])continue;const En=wn[rn],Ln=rn===Kt;for(const Xn of Gt[rn])this._addStickyStyle(Xn,Xe,En,Ln)}"top"===Xe?this._positionListener?.stickyHeaderRowsUpdated({sizes:Fn,offsets:wn,elements:Gt}):this._positionListener?.stickyFooterRowsUpdated({sizes:Fn,offsets:wn,elements:Gt})})}updateStickyFooterContainer(tn,ze){if(!this._isNativeHtmlTable)return;const Xe=tn.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{ze.some(Pt=>!Pt)?this._removeStickyStyle(Xe,["bottom"]):this._addStickyStyle(Xe,"bottom",0,!1)})}_removeStickyStyle(tn,ze){for(const Pt of ze)tn.style[Pt]="",tn.classList.remove(this._borderCellCss[Pt]);W.some(Pt=>-1===ze.indexOf(Pt)&&tn.style[Pt])?tn.style.zIndex=this._getCalculatedZIndex(tn):(tn.style.zIndex="",this._needsPositionStickyOnElement&&(tn.style.position=""),tn.classList.remove(this._stickCellCss))}_addStickyStyle(tn,ze,Xe,Pt){tn.classList.add(this._stickCellCss),Pt&&tn.classList.add(this._borderCellCss[ze]),tn.style[ze]=`${Xe}px`,tn.style.zIndex=this._getCalculatedZIndex(tn),this._needsPositionStickyOnElement&&(tn.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(tn){const ze={top:100,bottom:10,left:1,right:1};let Xe=0;for(const Pt of W)tn.style[Pt]&&(Xe+=ze[Pt]);return Xe?`${Xe}`:""}_getCellWidths(tn,ze=!0){if(!ze&&this._cachedCellWidths.length)return this._cachedCellWidths;const Xe=[],Pt=tn.children;for(let Qt=0;Qt<Pt.length;Qt++)Xe.push(Pt[Qt].getBoundingClientRect().width);return this._cachedCellWidths=Xe,Xe}_getStickyStartColumnPositions(tn,ze){const Xe=[];let Pt=0;for(let Qt=0;Qt<tn.length;Qt++)ze[Qt]&&(Xe[Qt]=Pt,Pt+=tn[Qt]);return Xe}_getStickyEndColumnPositions(tn,ze){const Xe=[];let Pt=0;for(let Qt=tn.length;Qt>0;Qt--)ze[Qt]&&(Xe[Qt]=Pt,Pt+=tn[Qt]);return Xe}}const ue=new c.OlP("CDK_SPL");let de=(()=>{class ft{constructor(ze,Xe){this.viewContainer=ze,this.elementRef=Xe}static#e=this.\u0275fac=function(Xe){return new(Xe||ft)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["","rowOutlet",""]]})}return ft})(),xe=(()=>{class ft{constructor(ze,Xe){this.viewContainer=ze,this.elementRef=Xe}static#e=this.\u0275fac=function(Xe){return new(Xe||ft)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["","headerRowOutlet",""]]})}return ft})(),Ke=(()=>{class ft{constructor(ze,Xe){this.viewContainer=ze,this.elementRef=Xe}static#e=this.\u0275fac=function(Xe){return new(Xe||ft)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["","footerRowOutlet",""]]})}return ft})(),Ve=(()=>{class ft{constructor(ze,Xe){this.viewContainer=ze,this.elementRef=Xe}static#e=this.\u0275fac=function(Xe){return new(Xe||ft)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["","noDataRowOutlet",""]]})}return ft})(),it=(()=>{class ft{get trackBy(){return this._trackByFn}set trackBy(ze){this._trackByFn=ze}get dataSource(){return this._dataSource}set dataSource(ze){this._dataSource!==ze&&this._switchDataSource(ze)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(ze){this._multiTemplateDataRows=(0,b.Ig)(ze),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(ze){this._fixedLayout=(0,b.Ig)(ze),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(ze,Xe,Pt,Qt,wn,Fn,Gt,Kt,rn,En,Ln,Xn){this._differs=ze,this._changeDetectorRef=Xe,this._elementRef=Pt,this._dir=wn,this._platform=Gt,this._viewRepeater=Kt,this._coalescedStyleScheduler=rn,this._viewportRuler=En,this._stickyPositioningListener=Ln,this._ngZone=Xn,this._onDestroy=new D.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new c.vpe,this.viewChange=new f.X({start:0,end:Number.MAX_VALUE}),Qt||this._elementRef.nativeElement.setAttribute("role","table"),this._document=Fn,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((ze,Xe)=>this.trackBy?this.trackBy(Xe.dataIndex,Xe.data):Xe),this._viewportRuler.change().pipe((0,M.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const Xe=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||Xe,this._forceRecalculateCellWidths=Xe,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(ze=>{ze.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,w.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const ze=this._dataDiffer.diff(this._renderRows);if(!ze)return this._updateNoDataRow(),void this.contentChanged.next();const Xe=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(ze,Xe,(Pt,Qt,wn)=>this._getEmbeddedViewArgs(Pt.item,wn),Pt=>Pt.item.data,Pt=>{1===Pt.operation&&Pt.context&&this._renderCellTemplateForItem(Pt.record.item.rowDef,Pt.context)}),this._updateRowIndexContext(),ze.forEachIdentityChange(Pt=>{Xe.get(Pt.currentIndex).context.$implicit=Pt.item.data}),this._updateNoDataRow(),this._ngZone&&c.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,U.q)(1),(0,M.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(ze){this._customColumnDefs.add(ze)}removeColumnDef(ze){this._customColumnDefs.delete(ze)}addRowDef(ze){this._customRowDefs.add(ze)}removeRowDef(ze){this._customRowDefs.delete(ze)}addHeaderRowDef(ze){this._customHeaderRowDefs.add(ze),this._headerRowDefChanged=!0}removeHeaderRowDef(ze){this._customHeaderRowDefs.delete(ze),this._headerRowDefChanged=!0}addFooterRowDef(ze){this._customFooterRowDefs.add(ze),this._footerRowDefChanged=!0}removeFooterRowDef(ze){this._customFooterRowDefs.delete(ze),this._footerRowDefChanged=!0}setNoDataRow(ze){this._customNoDataRow=ze}updateStickyHeaderRowStyles(){const ze=this._getRenderedRows(this._headerRowOutlet),Pt=this._elementRef.nativeElement.querySelector("thead");Pt&&(Pt.style.display=ze.length?"":"none");const Qt=this._headerRowDefs.map(wn=>wn.sticky);this._stickyStyler.clearStickyPositioning(ze,["top"]),this._stickyStyler.stickRows(ze,Qt,"top"),this._headerRowDefs.forEach(wn=>wn.resetStickyChanged())}updateStickyFooterRowStyles(){const ze=this._getRenderedRows(this._footerRowOutlet),Pt=this._elementRef.nativeElement.querySelector("tfoot");Pt&&(Pt.style.display=ze.length?"":"none");const Qt=this._footerRowDefs.map(wn=>wn.sticky);this._stickyStyler.clearStickyPositioning(ze,["bottom"]),this._stickyStyler.stickRows(ze,Qt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,Qt),this._footerRowDefs.forEach(wn=>wn.resetStickyChanged())}updateStickyColumnStyles(){const ze=this._getRenderedRows(this._headerRowOutlet),Xe=this._getRenderedRows(this._rowOutlet),Pt=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...ze,...Xe,...Pt],["left","right"]),this._stickyColumnStylesNeedReset=!1),ze.forEach((Qt,wn)=>{this._addStickyColumnStyles([Qt],this._headerRowDefs[wn])}),this._rowDefs.forEach(Qt=>{const wn=[];for(let Fn=0;Fn<Xe.length;Fn++)this._renderRows[Fn].rowDef===Qt&&wn.push(Xe[Fn]);this._addStickyColumnStyles(wn,Qt)}),Pt.forEach((Qt,wn)=>{this._addStickyColumnStyles([Qt],this._footerRowDefs[wn])}),Array.from(this._columnDefsByName.values()).forEach(Qt=>Qt.resetStickyChanged())}_getAllRenderRows(){const ze=[],Xe=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Pt=0;Pt<this._data.length;Pt++){let Qt=this._data[Pt];const wn=this._getRenderRowsForData(Qt,Pt,Xe.get(Qt));this._cachedRenderRowsMap.has(Qt)||this._cachedRenderRowsMap.set(Qt,new WeakMap);for(let Fn=0;Fn<wn.length;Fn++){let Gt=wn[Fn];const Kt=this._cachedRenderRowsMap.get(Gt.data);Kt.has(Gt.rowDef)?Kt.get(Gt.rowDef).push(Gt):Kt.set(Gt.rowDef,[Gt]),ze.push(Gt)}}return ze}_getRenderRowsForData(ze,Xe,Pt){return this._getRowDefs(ze,Xe).map(wn=>{const Fn=Pt&&Pt.has(wn)?Pt.get(wn):[];if(Fn.length){const Gt=Fn.shift();return Gt.dataIndex=Xe,Gt}return{data:ze,rowDef:wn,dataIndex:Xe}})}_cacheColumnDefs(){this._columnDefsByName.clear(),bt(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(Xe=>{this._columnDefsByName.has(Xe.name),this._columnDefsByName.set(Xe.name,Xe)})}_cacheRowDefs(){this._headerRowDefs=bt(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=bt(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=bt(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const ze=this._rowDefs.filter(Xe=>!Xe.when);this._defaultRowDef=ze[0]}_renderUpdatedColumns(){const ze=(wn,Fn)=>wn||!!Fn.getColumnsDiff(),Xe=this._rowDefs.reduce(ze,!1);Xe&&this._forceRenderDataRows();const Pt=this._headerRowDefs.reduce(ze,!1);Pt&&this._forceRenderHeaderRows();const Qt=this._footerRowDefs.reduce(ze,!1);return Qt&&this._forceRenderFooterRows(),Xe||Pt||Qt}_switchDataSource(ze){this._data=[],(0,w.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),ze||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=ze}_observeRenderChanges(){if(!this.dataSource)return;let ze;(0,w.Z9)(this.dataSource)?ze=this.dataSource.connect(this):(0,g.b)(this.dataSource)?ze=this.dataSource:Array.isArray(this.dataSource)&&(ze=(0,y.of)(this.dataSource)),this._renderChangeSubscription=ze.pipe((0,M.R)(this._onDestroy)).subscribe(Xe=>{this._data=Xe||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((ze,Xe)=>this._renderRow(this._headerRowOutlet,ze,Xe)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((ze,Xe)=>this._renderRow(this._footerRowOutlet,ze,Xe)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(ze,Xe){const Pt=Array.from(Xe.columns||[]).map(Fn=>this._columnDefsByName.get(Fn)),Qt=Pt.map(Fn=>Fn.sticky),wn=Pt.map(Fn=>Fn.stickyEnd);this._stickyStyler.updateStickyColumns(ze,Qt,wn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(ze){const Xe=[];for(let Pt=0;Pt<ze.viewContainer.length;Pt++){const Qt=ze.viewContainer.get(Pt);Xe.push(Qt.rootNodes[0])}return Xe}_getRowDefs(ze,Xe){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Pt=[];if(this.multiTemplateDataRows)Pt=this._rowDefs.filter(Qt=>!Qt.when||Qt.when(Xe,ze));else{let Qt=this._rowDefs.find(wn=>wn.when&&wn.when(Xe,ze))||this._defaultRowDef;Qt&&Pt.push(Qt)}return Pt}_getEmbeddedViewArgs(ze,Xe){return{templateRef:ze.rowDef.template,context:{$implicit:ze.data},index:Xe}}_renderRow(ze,Xe,Pt,Qt={}){const wn=ze.viewContainer.createEmbeddedView(Xe.template,Qt,Pt);return this._renderCellTemplateForItem(Xe,Qt),wn}_renderCellTemplateForItem(ze,Xe){for(let Pt of this._getCellTemplates(ze))He.mostRecentCellOutlet&&He.mostRecentCellOutlet._viewContainer.createEmbeddedView(Pt,Xe);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const ze=this._rowOutlet.viewContainer;for(let Xe=0,Pt=ze.length;Xe<Pt;Xe++){const wn=ze.get(Xe).context;wn.count=Pt,wn.first=0===Xe,wn.last=Xe===Pt-1,wn.even=Xe%2==0,wn.odd=!wn.even,this.multiTemplateDataRows?(wn.dataIndex=this._renderRows[Xe].dataIndex,wn.renderIndex=Xe):wn.index=this._renderRows[Xe].dataIndex}}_getCellTemplates(ze){return ze&&ze.columns?Array.from(ze.columns,Xe=>{const Pt=this._columnDefsByName.get(Xe);return ze.extractCellTemplate(Pt)}):[]}_applyNativeTableSections(){const ze=this._document.createDocumentFragment(),Xe=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const Pt of Xe){const Qt=this._document.createElement(Pt.tag);Qt.setAttribute("role","rowgroup");for(const wn of Pt.outlets)Qt.appendChild(wn.elementRef.nativeElement);ze.appendChild(Qt)}this._elementRef.nativeElement.appendChild(ze)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const ze=(Xe,Pt)=>Xe||Pt.hasStickyChanged();this._headerRowDefs.reduce(ze,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(ze,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(ze,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new se(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,y.of)()).pipe((0,M.R)(this._onDestroy)).subscribe(Xe=>{this._stickyStyler.direction=Xe,this.updateStickyColumnStyles()})}_getOwnDefs(ze){return ze.filter(Xe=>!Xe._table||Xe._table===this)}_updateNoDataRow(){const ze=this._customNoDataRow||this._noDataRow;if(!ze)return;const Xe=0===this._rowOutlet.viewContainer.length;if(Xe===this._isShowingNoDataRow)return;const Pt=this._noDataRowOutlet.viewContainer;if(Xe){const Qt=Pt.createEmbeddedView(ze.templateRef),wn=Qt.rootNodes[0];1===Qt.rootNodes.length&&wn?.nodeType===this._document.ELEMENT_NODE&&(wn.setAttribute("role","row"),wn.classList.add(ze._contentClassName))}else Pt.clear();this._isShowingNoDataRow=Xe}static#e=this.\u0275fac=function(Xe){return new(Xe||ft)(c.Y36(c.ZZ4),c.Y36(c.sBO),c.Y36(c.SBq),c.$8M("role"),c.Y36(t.Is,8),c.Y36(L.K0),c.Y36(E.t4),c.Y36(w.k),c.Y36(oe),c.Y36(F.rL),c.Y36(ue,12),c.Y36(c.R0b,8))};static#t=this.\u0275cmp=c.Xpm({type:ft,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(Xe,Pt,Qt){if(1&Xe&&(c.Suo(Qt,Te,5),c.Suo(Qt,le,5),c.Suo(Qt,we,5),c.Suo(Qt,Ae,5),c.Suo(Qt,ke,5)),2&Xe){let wn;c.iGM(wn=c.CRH())&&(Pt._noDataRow=wn.first),c.iGM(wn=c.CRH())&&(Pt._contentColumnDefs=wn),c.iGM(wn=c.CRH())&&(Pt._contentRowDefs=wn),c.iGM(wn=c.CRH())&&(Pt._contentHeaderRowDefs=wn),c.iGM(wn=c.CRH())&&(Pt._contentFooterRowDefs=wn)}},viewQuery:function(Xe,Pt){if(1&Xe&&(c.Gf(de,7),c.Gf(xe,7),c.Gf(Ke,7),c.Gf(Ve,7)),2&Xe){let Qt;c.iGM(Qt=c.CRH())&&(Pt._rowOutlet=Qt.first),c.iGM(Qt=c.CRH())&&(Pt._headerRowOutlet=Qt.first),c.iGM(Qt=c.CRH())&&(Pt._footerRowOutlet=Qt.first),c.iGM(Qt=c.CRH())&&(Pt._noDataRowOutlet=Qt.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(Xe,Pt){2&Xe&&c.ekj("cdk-table-fixed-layout",Pt.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[c._Bn([{provide:P,useExisting:ft},{provide:w.k,useClass:w.yy},{provide:oe,useClass:he},{provide:ue,useValue:null}])],ngContentSelectors:V,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Xe,Pt){1&Xe&&(c.F$t(R),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[de,xe,Ke,Ve],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return ft})();function bt(ft,tn){return ft.concat(Array.from(tn))}let Ht=(()=>{class ft{static#e=this.\u0275fac=function(Xe){return new(Xe||ft)};static#t=this.\u0275mod=c.oAB({type:ft});static#n=this.\u0275inj=c.cJS({imports:[F.Cl]})}return ft})();var en=S(3680),ln=S(3019),cn=S(2572),Wt=S(7398);const Sn=[[["caption"]],[["colgroup"],["col"]]],nn=["caption","colgroup, col"];let De=(()=>{class ft extends it{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let ze;return function(Pt){return(ze||(ze=c.n5z(ft)))(Pt||ft)}}();static#t=this.\u0275cmp=c.Xpm({type:ft,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(Xe,Pt){2&Xe&&c.ekj("mdc-table-fixed-layout",Pt.fixedLayout)},exportAs:["matTable"],features:[c._Bn([{provide:it,useExisting:ft},{provide:P,useExisting:ft},{provide:oe,useClass:he},{provide:w.k,useClass:w.yy},{provide:ue,useValue:null}]),c.qOj],ngContentSelectors:nn,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Xe,Pt){1&Xe&&(c.F$t(Sn),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[de,xe,Ke,Ve],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child>.mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return ft})(),Pe=(()=>{class ft extends N{static#e=this.\u0275fac=function(){let ze;return function(Pt){return(ze||(ze=c.n5z(ft)))(Pt||ft)}}();static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["","matCellDef",""]],features:[c._Bn([{provide:N,useExisting:ft}]),c.qOj]})}return ft})(),Ye=(()=>{class ft extends C{static#e=this.\u0275fac=function(){let ze;return function(Pt){return(ze||(ze=c.n5z(ft)))(Pt||ft)}}();static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["","matHeaderCellDef",""]],features:[c._Bn([{provide:C,useExisting:ft}]),c.qOj]})}return ft})(),ct=(()=>{class ft extends le{get name(){return this._name}set name(ze){this._setNameInput(ze)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let ze;return function(Pt){return(ze||(ze=c.n5z(ft)))(Pt||ft)}}();static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[c._Bn([{provide:le,useExisting:ft},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ft}]),c.qOj]})}return ft})(),st=(()=>{class ft extends ${static#e=this.\u0275fac=function(){let ze;return function(Pt){return(ze||(ze=c.n5z(ft)))(Pt||ft)}}();static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[c.qOj]})}return ft})(),kt=(()=>{class ft extends K{static#e=this.\u0275fac=function(){let ze;return function(Pt){return(ze||(ze=c.n5z(ft)))(Pt||ft)}}();static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[c.qOj]})}return ft})(),$t=(()=>{class ft extends Ae{static#e=this.\u0275fac=function(){let ze;return function(Pt){return(ze||(ze=c.n5z(ft)))(Pt||ft)}}();static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[c._Bn([{provide:Ae,useExisting:ft}]),c.qOj]})}return ft})(),Jt=(()=>{class ft extends we{static#e=this.\u0275fac=function(){let ze;return function(Pt){return(ze||(ze=c.n5z(ft)))(Pt||ft)}}();static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[c._Bn([{provide:we,useExisting:ft}]),c.qOj]})}return ft})(),an=(()=>{class ft extends at{static#e=this.\u0275fac=function(){let ze;return function(Pt){return(ze||(ze=c.n5z(ft)))(Pt||ft)}}();static#t=this.\u0275cmp=c.Xpm({type:ft,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[c._Bn([{provide:at,useExisting:ft}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Xe,Pt){1&Xe&&c.GkF(0,0)},dependencies:[He],encapsulation:2})}return ft})(),Mn=(()=>{class ft extends Ne{static#e=this.\u0275fac=function(){let ze;return function(Pt){return(ze||(ze=c.n5z(ft)))(Pt||ft)}}();static#t=this.\u0275cmp=c.Xpm({type:ft,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[c._Bn([{provide:Ne,useExisting:ft}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Xe,Pt){1&Xe&&c.GkF(0,0)},dependencies:[He],encapsulation:2})}return ft})(),Nn=(()=>{class ft extends Te{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}static#e=this.\u0275fac=function(){let ze;return function(Pt){return(ze||(ze=c.n5z(ft)))(Pt||ft)}}();static#t=this.\u0275dir=c.lG2({type:ft,selectors:[["ng-template","matNoDataRow",""]],features:[c._Bn([{provide:Te,useExisting:ft}]),c.qOj]})}return ft})(),fi=(()=>{class ft{static#e=this.\u0275fac=function(Xe){return new(Xe||ft)};static#t=this.\u0275mod=c.oAB({type:ft});static#n=this.\u0275inj=c.cJS({imports:[en.BQ,Ht,en.BQ]})}return ft})();class pn extends w.o2{get data(){return this._data.value}set data(tn){tn=Array.isArray(tn)?tn:[],this._data.next(tn),this._renderChangesSubscription||this._filterData(tn)}get filter(){return this._filter.value}set filter(tn){this._filter.next(tn),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(tn){this._sort=tn,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(tn){this._paginator=tn,this._updateChangeSubscription()}constructor(tn=[]){super(),this._renderData=new f.X([]),this._filter=new f.X(""),this._internalPageChanges=new D.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(ze,Xe)=>{const Pt=ze[Xe];if((0,b.t6)(Pt)){const Qt=Number(Pt);return Qt<9007199254740991?Qt:Pt}return Pt},this.sortData=(ze,Xe)=>{const Pt=Xe.active,Qt=Xe.direction;return Pt&&""!=Qt?ze.sort((wn,Fn)=>{let Gt=this.sortingDataAccessor(wn,Pt),Kt=this.sortingDataAccessor(Fn,Pt);const rn=typeof Gt,En=typeof Kt;rn!==En&&("number"===rn&&(Gt+=""),"number"===En&&(Kt+=""));let Ln=0;return null!=Gt&&null!=Kt?Gt>Kt?Ln=1:Gt<Kt&&(Ln=-1):null!=Gt?Ln=1:null!=Kt&&(Ln=-1),Ln*("asc"==Qt?1:-1)}):ze},this.filterPredicate=(ze,Xe)=>{const Pt=Object.keys(ze).reduce((wn,Fn)=>wn+ze[Fn]+"\u25ec","").toLowerCase(),Qt=Xe.trim().toLowerCase();return-1!=Pt.indexOf(Qt)},this._data=new f.X(tn),this._updateChangeSubscription()}_updateChangeSubscription(){const tn=this._sort?(0,ln.T)(this._sort.sortChange,this._sort.initialized):(0,y.of)(null),ze=this._paginator?(0,ln.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,y.of)(null),Pt=(0,cn.a)([this._data,this._filter]).pipe((0,Wt.U)(([Fn])=>this._filterData(Fn))),Qt=(0,cn.a)([Pt,tn]).pipe((0,Wt.U)(([Fn])=>this._orderData(Fn))),wn=(0,cn.a)([Qt,ze]).pipe((0,Wt.U)(([Fn])=>this._pageData(Fn)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=wn.subscribe(Fn=>this._renderData.next(Fn))}_filterData(tn){return this.filteredData=null==this.filter||""===this.filter?tn:tn.filter(ze=>this.filterPredicate(ze,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(tn){return this.sort?this.sortData(tn.slice(),this.sort):tn}_pageData(tn){if(!this.paginator)return tn;const ze=this.paginator.pageIndex*this.paginator.pageSize;return tn.slice(ze,ze+this.paginator.pageSize)}_updatePaginator(tn){Promise.resolve().then(()=>{const ze=this.paginator;if(ze&&(ze.length=tn,ze.pageIndex>0)){const Xe=Math.ceil(ze.length/ze.pageSize)-1||0,Pt=Math.min(ze.pageIndex,Xe);Pt!==ze.pageIndex&&(ze.pageIndex=Pt,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class St extends pn{}},2596:(Bn,tt,S)=>{"use strict";S.d(tt,{AV:()=>fe,gM:()=>oe});var c=S(9773),t=S(8180),b=S(2495),w=S(6028),E=S(5879),F=S(6814),L=S(2831),D=S(4300),p=S(9388),f=S(3651),g=S(799),y=S(8484),M=S(8645),R=(S(6825),S(3680));const V=["tooltip"],x=new E.OlP("mat-tooltip-scroll-strategy"),T={provide:x,deps:[f.aV],useFactory:function P(Re){return()=>Re.scrollStrategies.reposition({scrollThrottle:20})}},C=new E.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function N(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),Y="tooltip-panel",q=(0,L.i$)({passive:!0});let ge=(()=>{class Re{get position(){return this._position}set position(pe){pe!==this._position&&(this._position=pe,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(pe){this._positionAtOrigin=(0,b.Ig)(pe),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(pe){this._disabled=(0,b.Ig)(pe),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(pe){this._showDelay=(0,b.su)(pe)}get hideDelay(){return this._hideDelay}set hideDelay(pe){this._hideDelay=(0,b.su)(pe),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(pe){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=pe?String(pe).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(pe){this._tooltipClass=pe,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(pe,Ue,ke,we,He,at,Je,Ne,Te,W,se,_e){this._overlay=pe,this._elementRef=Ue,this._scrollDispatcher=ke,this._viewContainerRef=we,this._ngZone=He,this._platform=at,this._ariaDescriber=Je,this._focusMonitor=Ne,this._dir=W,this._defaultOptions=se,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new M.x,this._scrollStrategy=Te,this._document=_e,se&&(this._showDelay=se.showDelay,this._hideDelay=se.hideDelay,se.position&&(this.position=se.position),se.positionAtOrigin&&(this.positionAtOrigin=se.positionAtOrigin),se.touchGestures&&(this.touchGestures=se.touchGestures)),W.change.pipe((0,c.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,c.R)(this._destroyed)).subscribe(pe=>{pe?"keyboard"===pe&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const pe=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([Ue,ke])=>{pe.removeEventListener(Ue,ke,q)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(pe,this.message,"tooltip"),this._focusMonitor.stopMonitoring(pe)}show(pe=this.showDelay,Ue){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const ke=this._createOverlay(Ue);this._detach(),this._portal=this._portal||new y.C5(this._tooltipComponent,this._viewContainerRef);const we=this._tooltipInstance=ke.attach(this._portal).instance;we._triggerElement=this._elementRef.nativeElement,we._mouseLeaveHideDelay=this._hideDelay,we.afterHidden().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),we.show(pe)}hide(pe=this.hideDelay){const Ue=this._tooltipInstance;Ue&&(Ue.isVisible()?Ue.hide(pe):(Ue._cancelPendingAnimations(),this._detach()))}toggle(pe){this._isTooltipVisible()?this.hide():this.show(void 0,pe)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(pe){if(this._overlayRef){const we=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!pe)&&we._origin instanceof E.SBq)return this._overlayRef;this._detach()}const Ue=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),ke=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&pe||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(Ue);return ke.positionChanges.pipe((0,c.R)(this._destroyed)).subscribe(we=>{this._updateCurrentPositionClass(we.connectionPair),this._tooltipInstance&&we.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:ke,panelClass:`${this._cssClassPrefix}-${Y}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,c.R)(this._destroyed)).subscribe(we=>{this._isTooltipVisible()&&we.keyCode===w.hY&&!(0,w.Vb)(we)&&(we.preventDefault(),we.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(pe){const Ue=pe.getConfig().positionStrategy,ke=this._getOrigin(),we=this._getOverlayPosition();Ue.withPositions([this._addOffset({...ke.main,...we.main}),this._addOffset({...ke.fallback,...we.fallback})])}_addOffset(pe){return pe}_getOrigin(){const pe=!this._dir||"ltr"==this._dir.value,Ue=this.position;let ke;"above"==Ue||"below"==Ue?ke={originX:"center",originY:"above"==Ue?"top":"bottom"}:"before"==Ue||"left"==Ue&&pe||"right"==Ue&&!pe?ke={originX:"start",originY:"center"}:("after"==Ue||"right"==Ue&&pe||"left"==Ue&&!pe)&&(ke={originX:"end",originY:"center"});const{x:we,y:He}=this._invertPosition(ke.originX,ke.originY);return{main:ke,fallback:{originX:we,originY:He}}}_getOverlayPosition(){const pe=!this._dir||"ltr"==this._dir.value,Ue=this.position;let ke;"above"==Ue?ke={overlayX:"center",overlayY:"bottom"}:"below"==Ue?ke={overlayX:"center",overlayY:"top"}:"before"==Ue||"left"==Ue&&pe||"right"==Ue&&!pe?ke={overlayX:"end",overlayY:"center"}:("after"==Ue||"right"==Ue&&pe||"left"==Ue&&!pe)&&(ke={overlayX:"start",overlayY:"center"});const{x:we,y:He}=this._invertPosition(ke.overlayX,ke.overlayY);return{main:ke,fallback:{overlayX:we,overlayY:He}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,t.q)(1),(0,c.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(pe){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=pe,this._tooltipInstance._markForCheck())}_invertPosition(pe,Ue){return"above"===this.position||"below"===this.position?"top"===Ue?Ue="bottom":"bottom"===Ue&&(Ue="top"):"end"===pe?pe="start":"start"===pe&&(pe="end"),{x:pe,y:Ue}}_updateCurrentPositionClass(pe){const{overlayY:Ue,originX:ke,originY:we}=pe;let He;if(He="center"===Ue?this._dir&&"rtl"===this._dir.value?"end"===ke?"left":"right":"start"===ke?"left":"right":"bottom"===Ue&&"top"===we?"above":"below",He!==this._currentPosition){const at=this._overlayRef;if(at){const Je=`${this._cssClassPrefix}-${Y}-`;at.removePanelClass(Je+this._currentPosition),at.addPanelClass(Je+He)}this._currentPosition=He}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",pe=>{let Ue;this._setupPointerExitEventsIfNeeded(),void 0!==pe.x&&void 0!==pe.y&&(Ue=pe),this.show(void 0,Ue)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",pe=>{const Ue=pe.targetTouches?.[0],ke=Ue?{x:Ue.clientX,y:Ue.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,ke),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const pe=[];if(this._platformSupportsMouseEvents())pe.push(["mouseleave",Ue=>{const ke=Ue.relatedTarget;(!ke||!this._overlayRef?.overlayElement.contains(ke))&&this.hide()}],["wheel",Ue=>this._wheelListener(Ue)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const Ue=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};pe.push(["touchend",Ue],["touchcancel",Ue])}this._addListeners(pe),this._passiveListeners.push(...pe)}_addListeners(pe){pe.forEach(([Ue,ke])=>{this._elementRef.nativeElement.addEventListener(Ue,ke,q)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(pe){if(this._isTooltipVisible()){const Ue=this._document.elementFromPoint(pe.clientX,pe.clientY),ke=this._elementRef.nativeElement;Ue!==ke&&!ke.contains(Ue)&&this.hide()}}_disableNativeGesturesIfNecessary(){const pe=this.touchGestures;if("off"!==pe){const Ue=this._elementRef.nativeElement,ke=Ue.style;("on"===pe||"INPUT"!==Ue.nodeName&&"TEXTAREA"!==Ue.nodeName)&&(ke.userSelect=ke.msUserSelect=ke.webkitUserSelect=ke.MozUserSelect="none"),("on"===pe||!Ue.draggable)&&(ke.webkitUserDrag="none"),ke.touchAction="none",ke.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(Ue){E.$Z()};static#t=this.\u0275dir=E.lG2({type:Re,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return Re})(),oe=(()=>{class Re extends ge{constructor(pe,Ue,ke,we,He,at,Je,Ne,Te,W,se,_e){super(pe,Ue,ke,we,He,at,Je,Ne,Te,W,se,_e),this._tooltipComponent=Ce,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(pe){const ke=!this._dir||"ltr"==this._dir.value;return"top"===pe.originY?pe.offsetY=-8:"bottom"===pe.originY?pe.offsetY=8:"start"===pe.originX?pe.offsetX=ke?-8:8:"end"===pe.originX&&(pe.offsetX=ke?8:-8),pe}static#e=this.\u0275fac=function(Ue){return new(Ue||Re)(E.Y36(f.aV),E.Y36(E.SBq),E.Y36(g.mF),E.Y36(E.s_b),E.Y36(E.R0b),E.Y36(L.t4),E.Y36(D.$s),E.Y36(D.tE),E.Y36(x),E.Y36(p.Is,8),E.Y36(C,8),E.Y36(F.K0))};static#t=this.\u0275dir=E.lG2({type:Re,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(Ue,ke){2&Ue&&E.ekj("mat-mdc-tooltip-disabled",ke.disabled)},exportAs:["matTooltip"],features:[E.qOj]})}return Re})(),he=(()=>{class Re{constructor(pe,Ue){this._changeDetectorRef=pe,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new M.x,this._animationsDisabled="NoopAnimations"===Ue}show(pe){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},pe)}hide(pe){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},pe)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:pe}){(!pe||!this._triggerElement.contains(pe))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:pe}){(pe===this._showAnimation||pe===this._hideAnimation)&&this._finalizeAnimation(pe===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(pe){pe?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(pe){const Ue=this._tooltip.nativeElement,ke=this._showAnimation,we=this._hideAnimation;if(Ue.classList.remove(pe?we:ke),Ue.classList.add(pe?ke:we),this._isVisible=pe,pe&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const He=getComputedStyle(Ue);("0s"===He.getPropertyValue("animation-duration")||"none"===He.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}pe&&this._onShow(),this._animationsDisabled&&(Ue.classList.add("_mat-animation-noopable"),this._finalizeAnimation(pe))}static#e=this.\u0275fac=function(Ue){return new(Ue||Re)(E.Y36(E.sBO),E.Y36(E.QbO,8))};static#t=this.\u0275dir=E.lG2({type:Re})}return Re})(),Ce=(()=>{class Re extends he{constructor(pe,Ue,ke){super(pe,ke),this._elementRef=Ue,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const pe=this._elementRef.nativeElement.getBoundingClientRect();return pe.height>24&&pe.width>=200}static#e=this.\u0275fac=function(Ue){return new(Ue||Re)(E.Y36(E.sBO),E.Y36(E.SBq),E.Y36(E.QbO,8))};static#t=this.\u0275cmp=E.Xpm({type:Re,selectors:[["mat-tooltip-component"]],viewQuery:function(Ue,ke){if(1&Ue&&E.Gf(V,7),2&Ue){let we;E.iGM(we=E.CRH())&&(ke._tooltip=we.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Ue,ke){1&Ue&&E.NdJ("mouseleave",function(He){return ke._handleMouseLeave(He)}),2&Ue&&E.Udp("zoom",ke.isVisible()?1:null)},features:[E.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(Ue,ke){1&Ue&&(E.TgZ(0,"div",0,1),E.NdJ("animationend",function(He){return ke._handleAnimationEnd(He)}),E.TgZ(2,"div",2),E._uU(3),E.qZA()()),2&Ue&&(E.ekj("mdc-tooltip--multiline",ke._isMultiline),E.Q6J("ngClass",ke.tooltipClass),E.xp6(3),E.Oqu(ke.message))},dependencies:[F.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return Re})(),fe=(()=>{class Re{static#e=this.\u0275fac=function(Ue){return new(Ue||Re)};static#t=this.\u0275mod=E.oAB({type:Re});static#n=this.\u0275inj=E.cJS({providers:[T],imports:[D.rt,F.ez,f.U8,R.BQ,R.BQ,g.ZD]})}return Re})()},6593:(Bn,tt,S)=>{"use strict";S.d(tt,{Dx:()=>ie,H7:()=>ln,b2:()=>_e,q6:()=>Ne,se:()=>q});var c=S(5879),t=S(6814);class b extends t.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class w extends b{static makeCurrent(){(0,t.HT)(new w)}onAndCancel(ct,st,ut){return ct.addEventListener(st,ut),()=>{ct.removeEventListener(st,ut)}}dispatchEvent(ct,st){ct.dispatchEvent(st)}remove(ct){ct.parentNode&&ct.parentNode.removeChild(ct)}createElement(ct,st){return(st=st||this.getDefaultDocument()).createElement(ct)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ct){return ct.nodeType===Node.ELEMENT_NODE}isShadowRoot(ct){return ct instanceof DocumentFragment}getGlobalEventTarget(ct,st){return"window"===st?window:"document"===st?ct:"body"===st?ct.body:null}getBaseHref(ct){const st=function F(){return E=E||document.querySelector("base"),E?E.getAttribute("href"):null}();return null==st?null:function D(Ze){L=L||document.createElement("a"),L.setAttribute("href",Ze);const ct=L.pathname;return"/"===ct.charAt(0)?ct:`/${ct}`}(st)}resetBaseElement(){E=null}getUserAgent(){return window.navigator.userAgent}getCookie(ct){return(0,t.Mx)(document.cookie,ct)}}let L,E=null,f=(()=>{class Ze{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(ut){return new(ut||Ze)};static#t=this.\u0275prov=c.Yz7({token:Ze,factory:Ze.\u0275fac})}return Ze})();const g=new c.OlP("EventManagerPlugins");let y=(()=>{class Ze{constructor(st,ut){this._zone=ut,this._eventNameToPlugin=new Map,st.forEach(kt=>{kt.manager=this}),this._plugins=st.slice().reverse()}addEventListener(st,ut,kt){return this._findPluginFor(ut).addEventListener(st,ut,kt)}getZone(){return this._zone}_findPluginFor(st){let ut=this._eventNameToPlugin.get(st);if(ut)return ut;if(ut=this._plugins.find($t=>$t.supports(st)),!ut)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(st,ut),ut}static#e=this.\u0275fac=function(ut){return new(ut||Ze)(c.LFG(g),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:Ze,factory:Ze.\u0275fac})}return Ze})();class M{constructor(ct){this._doc=ct}}const U="ng-app-id";let R=(()=>{class Ze{constructor(st,ut,kt,$t={}){this.doc=st,this.appId=ut,this.nonce=kt,this.platformId=$t,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,t.PM)($t),this.resetHostNodes()}addStyles(st){for(const ut of st)1===this.changeUsageCount(ut,1)&&this.onStyleAdded(ut)}removeStyles(st){for(const ut of st)this.changeUsageCount(ut,-1)<=0&&this.onStyleRemoved(ut)}ngOnDestroy(){const st=this.styleNodesInDOM;st&&(st.forEach(ut=>ut.remove()),st.clear());for(const ut of this.getAllStyles())this.onStyleRemoved(ut);this.resetHostNodes()}addHost(st){this.hostNodes.add(st);for(const ut of this.getAllStyles())this.addStyleToHost(st,ut)}removeHost(st){this.hostNodes.delete(st)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(st){for(const ut of this.hostNodes)this.addStyleToHost(ut,st)}onStyleRemoved(st){const ut=this.styleRef;ut.get(st)?.elements?.forEach(kt=>kt.remove()),ut.delete(st)}collectServerRenderedStyles(){const st=this.doc.head?.querySelectorAll(`style[${U}="${this.appId}"]`);if(st?.length){const ut=new Map;return st.forEach(kt=>{null!=kt.textContent&&ut.set(kt.textContent,kt)}),ut}return null}changeUsageCount(st,ut){const kt=this.styleRef;if(kt.has(st)){const $t=kt.get(st);return $t.usage+=ut,$t.usage}return kt.set(st,{usage:ut,elements:[]}),ut}getStyleElement(st,ut){const kt=this.styleNodesInDOM,$t=kt?.get(ut);if($t?.parentNode===st)return kt.delete(ut),$t.removeAttribute(U),$t;{const Lt=this.doc.createElement("style");return this.nonce&&Lt.setAttribute("nonce",this.nonce),Lt.textContent=ut,this.platformIsServer&&Lt.setAttribute(U,this.appId),Lt}}addStyleToHost(st,ut){const kt=this.getStyleElement(st,ut);st.appendChild(kt);const $t=this.styleRef,Lt=$t.get(ut)?.elements;Lt?Lt.push(kt):$t.set(ut,{elements:[kt],usage:1})}resetHostNodes(){const st=this.hostNodes;st.clear(),st.add(this.doc.head)}static#e=this.\u0275fac=function(ut){return new(ut||Ze)(c.LFG(t.K0),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:Ze,factory:Ze.\u0275fac})}return Ze})();const V={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},k=/%COMP%/g,O="%COMP%",x=`_nghost-${O}`,P=`_ngcontent-${O}`,N=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Y(Ze,ct){return ct.map(st=>st.replace(k,Ze))}let q=(()=>{class Ze{constructor(st,ut,kt,$t,Lt,Jt,an,fn=null){this.eventManager=st,this.sharedStylesHost=ut,this.appId=kt,this.removeStylesOnCompDestroy=$t,this.doc=Lt,this.platformId=Jt,this.ngZone=an,this.nonce=fn,this.rendererByCompId=new Map,this.platformIsServer=(0,t.PM)(Jt),this.defaultRenderer=new le(st,Lt,an,this.platformIsServer)}createRenderer(st,ut){if(!st||!ut)return this.defaultRenderer;this.platformIsServer&&ut.encapsulation===c.ifc.ShadowDom&&(ut={...ut,encapsulation:c.ifc.Emulated});const kt=this.getOrCreateRenderer(st,ut);return kt instanceof oe?kt.applyToHost(st):kt instanceof ge&&kt.applyStyles(),kt}getOrCreateRenderer(st,ut){const kt=this.rendererByCompId;let $t=kt.get(ut.id);if(!$t){const Lt=this.doc,Jt=this.ngZone,an=this.eventManager,fn=this.sharedStylesHost,Mn=this.removeStylesOnCompDestroy,Nn=this.platformIsServer;switch(ut.encapsulation){case c.ifc.Emulated:$t=new oe(an,fn,ut,this.appId,Mn,Lt,Jt,Nn);break;case c.ifc.ShadowDom:return new K(an,fn,st,ut,Lt,Jt,this.nonce,Nn);default:$t=new ge(an,fn,ut,Mn,Lt,Jt,Nn)}kt.set(ut.id,$t)}return $t}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(ut){return new(ut||Ze)(c.LFG(y),c.LFG(R),c.LFG(c.AFp),c.LFG(N),c.LFG(t.K0),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))};static#t=this.\u0275prov=c.Yz7({token:Ze,factory:Ze.\u0275fac})}return Ze})();class le{constructor(ct,st,ut,kt){this.eventManager=ct,this.doc=st,this.ngZone=ut,this.platformIsServer=kt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ct,st){return st?this.doc.createElementNS(V[st]||st,ct):this.doc.createElement(ct)}createComment(ct){return this.doc.createComment(ct)}createText(ct){return this.doc.createTextNode(ct)}appendChild(ct,st){(ae(ct)?ct.content:ct).appendChild(st)}insertBefore(ct,st,ut){ct&&(ae(ct)?ct.content:ct).insertBefore(st,ut)}removeChild(ct,st){ct&&ct.removeChild(st)}selectRootElement(ct,st){let ut="string"==typeof ct?this.doc.querySelector(ct):ct;if(!ut)throw new c.vHH(-5104,!1);return st||(ut.textContent=""),ut}parentNode(ct){return ct.parentNode}nextSibling(ct){return ct.nextSibling}setAttribute(ct,st,ut,kt){if(kt){st=kt+":"+st;const $t=V[kt];$t?ct.setAttributeNS($t,st,ut):ct.setAttribute(st,ut)}else ct.setAttribute(st,ut)}removeAttribute(ct,st,ut){if(ut){const kt=V[ut];kt?ct.removeAttributeNS(kt,st):ct.removeAttribute(`${ut}:${st}`)}else ct.removeAttribute(st)}addClass(ct,st){ct.classList.add(st)}removeClass(ct,st){ct.classList.remove(st)}setStyle(ct,st,ut,kt){kt&(c.JOm.DashCase|c.JOm.Important)?ct.style.setProperty(st,ut,kt&c.JOm.Important?"important":""):ct.style[st]=ut}removeStyle(ct,st,ut){ut&c.JOm.DashCase?ct.style.removeProperty(st):ct.style[st]=""}setProperty(ct,st,ut){ct[st]=ut}setValue(ct,st){ct.nodeValue=st}listen(ct,st,ut){if("string"==typeof ct&&!(ct=(0,t.q)().getGlobalEventTarget(this.doc,ct)))throw new Error(`Unsupported event target ${ct} for event ${st}`);return this.eventManager.addEventListener(ct,st,this.decoratePreventDefault(ut))}decoratePreventDefault(ct){return st=>{if("__ngUnwrap__"===st)return ct;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ct(st)):ct(st))&&st.preventDefault()}}}function ae(Ze){return"TEMPLATE"===Ze.tagName&&void 0!==Ze.content}class K extends le{constructor(ct,st,ut,kt,$t,Lt,Jt,an){super(ct,$t,Lt,an),this.sharedStylesHost=st,this.hostEl=ut,this.shadowRoot=ut.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const fn=Y(kt.id,kt.styles);for(const Mn of fn){const Nn=document.createElement("style");Jt&&Nn.setAttribute("nonce",Jt),Nn.textContent=Mn,this.shadowRoot.appendChild(Nn)}}nodeOrShadowRoot(ct){return ct===this.hostEl?this.shadowRoot:ct}appendChild(ct,st){return super.appendChild(this.nodeOrShadowRoot(ct),st)}insertBefore(ct,st,ut){return super.insertBefore(this.nodeOrShadowRoot(ct),st,ut)}removeChild(ct,st){return super.removeChild(this.nodeOrShadowRoot(ct),st)}parentNode(ct){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ct)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ge extends le{constructor(ct,st,ut,kt,$t,Lt,Jt,an){super(ct,$t,Lt,Jt),this.sharedStylesHost=st,this.removeStylesOnCompDestroy=kt,this.styles=an?Y(an,ut.styles):ut.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class oe extends ge{constructor(ct,st,ut,kt,$t,Lt,Jt,an){const fn=kt+"-"+ut.id;super(ct,st,ut,$t,Lt,Jt,an,fn),this.contentAttr=function C(Ze){return P.replace(k,Ze)}(fn),this.hostAttr=function B(Ze){return x.replace(k,Ze)}(fn)}applyToHost(ct){this.applyStyles(),this.setAttribute(ct,this.hostAttr,"")}createElement(ct,st){const ut=super.createElement(ct,st);return super.setAttribute(ut,this.contentAttr,""),ut}}let he=(()=>{class Ze extends M{constructor(st){super(st)}supports(st){return!0}addEventListener(st,ut,kt){return st.addEventListener(ut,kt,!1),()=>this.removeEventListener(st,ut,kt)}removeEventListener(st,ut,kt){return st.removeEventListener(ut,kt)}static#e=this.\u0275fac=function(ut){return new(ut||Ze)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:Ze,factory:Ze.\u0275fac})}return Ze})();const Ce=["alt","control","meta","shift"],Le={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fe={alt:Ze=>Ze.altKey,control:Ze=>Ze.ctrlKey,meta:Ze=>Ze.metaKey,shift:Ze=>Ze.shiftKey};let Re=(()=>{class Ze extends M{constructor(st){super(st)}supports(st){return null!=Ze.parseEventName(st)}addEventListener(st,ut,kt){const $t=Ze.parseEventName(ut),Lt=Ze.eventCallback($t.fullKey,kt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.q)().onAndCancel(st,$t.domEventName,Lt))}static parseEventName(st){const ut=st.toLowerCase().split("."),kt=ut.shift();if(0===ut.length||"keydown"!==kt&&"keyup"!==kt)return null;const $t=Ze._normalizeKey(ut.pop());let Lt="",Jt=ut.indexOf("code");if(Jt>-1&&(ut.splice(Jt,1),Lt="code."),Ce.forEach(fn=>{const Mn=ut.indexOf(fn);Mn>-1&&(ut.splice(Mn,1),Lt+=fn+".")}),Lt+=$t,0!=ut.length||0===$t.length)return null;const an={};return an.domEventName=kt,an.fullKey=Lt,an}static matchEventFullKeyCode(st,ut){let kt=Le[st.key]||st.key,$t="";return ut.indexOf("code.")>-1&&(kt=st.code,$t="code."),!(null==kt||!kt)&&(kt=kt.toLowerCase()," "===kt?kt="space":"."===kt&&(kt="dot"),Ce.forEach(Lt=>{Lt!==kt&&(0,fe[Lt])(st)&&($t+=Lt+".")}),$t+=kt,$t===ut)}static eventCallback(st,ut,kt){return $t=>{Ze.matchEventFullKeyCode($t,st)&&kt.runGuarded(()=>ut($t))}}static _normalizeKey(st){return"esc"===st?"escape":st}static#e=this.\u0275fac=function(ut){return new(ut||Ze)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:Ze,factory:Ze.\u0275fac})}return Ze})();const Ne=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:t.bD},{provide:c.g9A,useValue:function we(){w.makeCurrent()},multi:!0},{provide:t.K0,useFactory:function at(){return(0,c.RDi)(document),document},deps:[]}]),Te=new c.OlP(""),W=[{provide:c.rWj,useClass:class p{addToWindow(ct){c.dqk.getAngularTestability=(ut,kt=!0)=>{const $t=ct.findTestabilityInTree(ut,kt);if(null==$t)throw new c.vHH(5103,!1);return $t},c.dqk.getAllAngularTestabilities=()=>ct.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>ct.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(ut=>{const kt=c.dqk.getAllAngularTestabilities();let $t=kt.length,Lt=!1;const Jt=function(an){Lt=Lt||an,$t--,0==$t&&ut(Lt)};kt.forEach(an=>{an.whenStable(Jt)})})}findTestabilityInTree(ct,st,ut){return null==st?null:ct.getTestability(st)??(ut?(0,t.q)().isShadowRoot(st)?this.findTestabilityInTree(ct,st.host,!0):this.findTestabilityInTree(ct,st.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],se=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function He(){return new c.qLn},deps:[]},{provide:g,useClass:he,multi:!0,deps:[t.K0,c.R0b,c.Lbi]},{provide:g,useClass:Re,multi:!0,deps:[t.K0]},q,R,y,{provide:c.FYo,useExisting:q},{provide:t.JF,useClass:f,deps:[]},[]];let _e=(()=>{class Ze{constructor(st){}static withServerTransition(st){return{ngModule:Ze,providers:[{provide:c.AFp,useValue:st.appId}]}}static#e=this.\u0275fac=function(ut){return new(ut||Ze)(c.LFG(Te,12))};static#t=this.\u0275mod=c.oAB({type:Ze});static#n=this.\u0275inj=c.cJS({providers:[...se,...W],imports:[t.ez,c.hGG]})}return Ze})(),ie=(()=>{class Ze{constructor(st){this._doc=st}getTitle(){return this._doc.title}setTitle(st){this._doc.title=st||""}static#e=this.\u0275fac=function(ut){return new(ut||Ze)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:Ze,factory:function(ut){let kt=null;return kt=ut?new ut:function ne(){return new ie((0,c.LFG)(t.K0))}(),kt},providedIn:"root"})}return Ze})();typeof window<"u"&&window;let ln=(()=>{class Ze{static#e=this.\u0275fac=function(ut){return new(ut||Ze)};static#t=this.\u0275prov=c.Yz7({token:Ze,factory:function(ut){let kt=null;return kt=ut?new(ut||Ze):c.LFG(Wt),kt},providedIn:"root"})}return Ze})(),Wt=(()=>{class Ze extends ln{constructor(st){super(),this._doc=st}sanitize(st,ut){if(null==ut)return null;switch(st){case c.q3G.NONE:return ut;case c.q3G.HTML:return(0,c.qzn)(ut,"HTML")?(0,c.z3N)(ut):(0,c.EiD)(this._doc,String(ut)).toString();case c.q3G.STYLE:return(0,c.qzn)(ut,"Style")?(0,c.z3N)(ut):ut;case c.q3G.SCRIPT:if((0,c.qzn)(ut,"Script"))return(0,c.z3N)(ut);throw new c.vHH(5200,!1);case c.q3G.URL:return(0,c.qzn)(ut,"URL")?(0,c.z3N)(ut):(0,c.mCW)(String(ut));case c.q3G.RESOURCE_URL:if((0,c.qzn)(ut,"ResourceURL"))return(0,c.z3N)(ut);throw new c.vHH(5201,!1);default:throw new c.vHH(5202,!1)}}bypassSecurityTrustHtml(st){return(0,c.JVY)(st)}bypassSecurityTrustStyle(st){return(0,c.L6k)(st)}bypassSecurityTrustScript(st){return(0,c.eBb)(st)}bypassSecurityTrustUrl(st){return(0,c.LAX)(st)}bypassSecurityTrustResourceUrl(st){return(0,c.pB0)(st)}static#e=this.\u0275fac=function(ut){return new(ut||Ze)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:Ze,factory:function(ut){let kt=null;return kt=ut?new ut:function cn(Ze){return new Wt(Ze.get(t.K0))}(c.LFG(c.zs3)),kt},providedIn:"root"})}return Ze})()},5612:(Bn,tt,S)=>{"use strict";S.d(tt,{gz:()=>qi,F0:()=>nr,rH:()=>es,Bz:()=>hc,lC:()=>mi});var c=S(5879),t=S(2664),b=S(2459),w=S(2096),E=S(5619),F=S(2572),L=S(6973),D=S(5211),p=S(4911),f=S(8407),g=S(5592),y=S(4674);function M(Ee,Ge){const ce=(0,y.m)(Ee)?Ee:()=>Ee,Be=Tt=>Tt.error(ce());return new g.y(Ge?Tt=>Ge.schedule(Be,0,Tt):Be)}var U=S(6232),R=S(3168),V=S(8645),k=S(6814),O=S(7398),x=S(4664),P=S(8180),T=S(7921),N=S(2181),C=S(1631),B=S(1374),Y=S(6328),q=S(9397),le=S(4829),Fe=S(8251),$=S(9360);function ae(Ee){return(0,$.e)((Ge,ce)=>{let jt,Be=null,Tt=!1;Be=Ge.subscribe((0,Fe.x)(ce,void 0,void 0,Bt=>{jt=(0,le.Xf)(Ee(Bt,ae(Ee)(Ge))),Be?(Be.unsubscribe(),Be=null,jt.subscribe(ce)):Tt=!0})),Tt&&(Be.unsubscribe(),Be=null,jt.subscribe(ce))})}var oe=S(3572);function he(Ee){return Ee<=0?()=>U.E:(0,$.e)((Ge,ce)=>{let Be=[];Ge.subscribe((0,Fe.x)(ce,Tt=>{Be.push(Tt),Ee<Be.length&&Be.shift()},()=>{for(const Tt of Be)ce.next(Tt);ce.complete()},void 0,()=>{Be=null}))})}var Ce=S(3026),Le=S(2737),Re=S(975),Ae=S(4716),pe=S(6196),Ue=S(7537),ke=S(6593);const we="primary",He=Symbol("RouteTitle");class at{constructor(Ge){this.params=Ge||{}}has(Ge){return Object.prototype.hasOwnProperty.call(this.params,Ge)}get(Ge){if(this.has(Ge)){const ce=this.params[Ge];return Array.isArray(ce)?ce[0]:ce}return null}getAll(Ge){if(this.has(Ge)){const ce=this.params[Ge];return Array.isArray(ce)?ce:[ce]}return[]}get keys(){return Object.keys(this.params)}}function Je(Ee){return new at(Ee)}function Ne(Ee,Ge,ce){const Be=ce.path.split("/");if(Be.length>Ee.length||"full"===ce.pathMatch&&(Ge.hasChildren()||Be.length<Ee.length))return null;const Tt={};for(let jt=0;jt<Be.length;jt++){const Bt=Be[jt],Tn=Ee[jt];if(Bt.startsWith(":"))Tt[Bt.substring(1)]=Tn;else if(Bt!==Tn.path)return null}return{consumed:Ee.slice(0,Be.length),posParams:Tt}}function W(Ee,Ge){const ce=Ee?Object.keys(Ee):void 0,Be=Ge?Object.keys(Ge):void 0;if(!ce||!Be||ce.length!=Be.length)return!1;let Tt;for(let jt=0;jt<ce.length;jt++)if(Tt=ce[jt],!se(Ee[Tt],Ge[Tt]))return!1;return!0}function se(Ee,Ge){if(Array.isArray(Ee)&&Array.isArray(Ge)){if(Ee.length!==Ge.length)return!1;const ce=[...Ee].sort(),Be=[...Ge].sort();return ce.every((Tt,jt)=>Be[jt]===Tt)}return Ee===Ge}function _e(Ee){return Ee.length>0?Ee[Ee.length-1]:null}function J(Ee){return(0,t.b)(Ee)?Ee:(0,c.QGY)(Ee)?(0,b.D)(Promise.resolve(Ee)):(0,w.of)(Ee)}const Q={exact:function ee(Ee,Ge,ce){if(!dt(Ee.segments,Ge.segments)||!de(Ee.segments,Ge.segments,ce)||Ee.numberOfChildren!==Ge.numberOfChildren)return!1;for(const Be in Ge.children)if(!Ee.children[Be]||!ee(Ee.children[Be],Ge.children[Be],ce))return!1;return!0},subset:ue},Z={exact:function ie(Ee,Ge){return W(Ee,Ge)},subset:function X(Ee,Ge){return Object.keys(Ge).length<=Object.keys(Ee).length&&Object.keys(Ge).every(ce=>se(Ee[ce],Ge[ce]))},ignored:()=>!0};function ne(Ee,Ge,ce){return Q[ce.paths](Ee.root,Ge.root,ce.matrixParams)&&Z[ce.queryParams](Ee.queryParams,Ge.queryParams)&&!("exact"===ce.fragment&&Ee.fragment!==Ge.fragment)}function ue(Ee,Ge,ce){return ve(Ee,Ge,Ge.segments,ce)}function ve(Ee,Ge,ce,Be){if(Ee.segments.length>ce.length){const Tt=Ee.segments.slice(0,ce.length);return!(!dt(Tt,ce)||Ge.hasChildren()||!de(Tt,ce,Be))}if(Ee.segments.length===ce.length){if(!dt(Ee.segments,ce)||!de(Ee.segments,ce,Be))return!1;for(const Tt in Ge.children)if(!Ee.children[Tt]||!ue(Ee.children[Tt],Ge.children[Tt],Be))return!1;return!0}{const Tt=ce.slice(0,Ee.segments.length),jt=ce.slice(Ee.segments.length);return!!(dt(Ee.segments,Tt)&&de(Ee.segments,Tt,Be)&&Ee.children[we])&&ve(Ee.children[we],Ge,jt,Be)}}function de(Ee,Ge,ce){return Ge.every((Be,Tt)=>Z[ce](Ee[Tt].parameters,Be.parameters))}class xe{constructor(Ge=new Ke([],{}),ce={},Be=null){this.root=Ge,this.queryParams=ce,this.fragment=Be}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Je(this.queryParams)),this._queryParamMap}toString(){return wt.serialize(this)}}class Ke{constructor(Ge,ce){this.segments=Ge,this.children=ce,this.parent=null,Object.values(ce).forEach(Be=>Be.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ht(this)}}class Ve{constructor(Ge,ce){this.path=Ge,this.parameters=ce}get parameterMap(){return this._parameterMap||(this._parameterMap=Je(this.parameters)),this._parameterMap}toString(){return mt(this)}}function dt(Ee,Ge){return Ee.length===Ge.length&&Ee.every((ce,Be)=>ce.path===Ge[Be].path)}let bt=(()=>{class Ee{static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return new Ut},providedIn:"root"})}return Ee})();class Ut{parse(Ge){const ce=new Lt(Ge);return new xe(ce.parseRootSegment(),ce.parseQueryParams(),ce.parseFragment())}serialize(Ge){const ce=`/${en(Ge.root,!0)}`,Be=function De(Ee){const Ge=Object.keys(Ee).map(ce=>{const Be=Ee[ce];return Array.isArray(Be)?Be.map(Tt=>`${cn(ce)}=${cn(Tt)}`).join("&"):`${cn(ce)}=${cn(Be)}`}).filter(ce=>!!ce);return Ge.length?`?${Ge.join("&")}`:""}(Ge.queryParams);return`${ce}${Be}${"string"==typeof Ge.fragment?`#${function Wt(Ee){return encodeURI(Ee)}(Ge.fragment)}`:""}`}}const wt=new Ut;function Ht(Ee){return Ee.segments.map(Ge=>mt(Ge)).join("/")}function en(Ee,Ge){if(!Ee.hasChildren())return Ht(Ee);if(Ge){const ce=Ee.children[we]?en(Ee.children[we],!1):"",Be=[];return Object.entries(Ee.children).forEach(([Tt,jt])=>{Tt!==we&&Be.push(`${Tt}:${en(jt,!1)}`)}),Be.length>0?`${ce}(${Be.join("//")})`:ce}{const ce=function it(Ee,Ge){let ce=[];return Object.entries(Ee.children).forEach(([Be,Tt])=>{Be===we&&(ce=ce.concat(Ge(Tt,Be)))}),Object.entries(Ee.children).forEach(([Be,Tt])=>{Be!==we&&(ce=ce.concat(Ge(Tt,Be)))}),ce}(Ee,(Be,Tt)=>Tt===we?[en(Ee.children[we],!1)]:[`${Tt}:${en(Be,!1)}`]);return 1===Object.keys(Ee.children).length&&null!=Ee.children[we]?`${Ht(Ee)}/${ce[0]}`:`${Ht(Ee)}/(${ce.join("//")})`}}function ln(Ee){return encodeURIComponent(Ee).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cn(Ee){return ln(Ee).replace(/%3B/gi,";")}function Sn(Ee){return ln(Ee).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nn(Ee){return decodeURIComponent(Ee)}function Dt(Ee){return nn(Ee.replace(/\+/g,"%20"))}function mt(Ee){return`${Sn(Ee.path)}${function Qe(Ee){return Object.keys(Ee).map(Ge=>`;${Sn(Ge)}=${Sn(Ee[Ge])}`).join("")}(Ee.parameters)}`}const Pe=/^[^\/()?;#]+/;function Ye(Ee){const Ge=Ee.match(Pe);return Ge?Ge[0]:""}const Ze=/^[^\/()?;=#]+/,st=/^[^=?&#]+/,kt=/^[^&#]+/;class Lt{constructor(Ge){this.url=Ge,this.remaining=Ge}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ke([],{}):new Ke([],this.parseChildren())}parseQueryParams(){const Ge={};if(this.consumeOptional("?"))do{this.parseQueryParam(Ge)}while(this.consumeOptional("&"));return Ge}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Ge=[];for(this.peekStartsWith("(")||Ge.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Ge.push(this.parseSegment());let ce={};this.peekStartsWith("/(")&&(this.capture("/"),ce=this.parseParens(!0));let Be={};return this.peekStartsWith("(")&&(Be=this.parseParens(!1)),(Ge.length>0||Object.keys(ce).length>0)&&(Be[we]=new Ke(Ge,ce)),Be}parseSegment(){const Ge=Ye(this.remaining);if(""===Ge&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(Ge),new Ve(nn(Ge),this.parseMatrixParams())}parseMatrixParams(){const Ge={};for(;this.consumeOptional(";");)this.parseParam(Ge);return Ge}parseParam(Ge){const ce=function ct(Ee){const Ge=Ee.match(Ze);return Ge?Ge[0]:""}(this.remaining);if(!ce)return;this.capture(ce);let Be="";if(this.consumeOptional("=")){const Tt=Ye(this.remaining);Tt&&(Be=Tt,this.capture(Be))}Ge[nn(ce)]=nn(Be)}parseQueryParam(Ge){const ce=function ut(Ee){const Ge=Ee.match(st);return Ge?Ge[0]:""}(this.remaining);if(!ce)return;this.capture(ce);let Be="";if(this.consumeOptional("=")){const Bt=function $t(Ee){const Ge=Ee.match(kt);return Ge?Ge[0]:""}(this.remaining);Bt&&(Be=Bt,this.capture(Be))}const Tt=Dt(ce),jt=Dt(Be);if(Ge.hasOwnProperty(Tt)){let Bt=Ge[Tt];Array.isArray(Bt)||(Bt=[Bt],Ge[Tt]=Bt),Bt.push(jt)}else Ge[Tt]=jt}parseParens(Ge){const ce={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Be=Ye(this.remaining),Tt=this.remaining[Be.length];if("/"!==Tt&&")"!==Tt&&";"!==Tt)throw new c.vHH(4010,!1);let jt;Be.indexOf(":")>-1?(jt=Be.slice(0,Be.indexOf(":")),this.capture(jt),this.capture(":")):Ge&&(jt=we);const Bt=this.parseChildren();ce[jt]=1===Object.keys(Bt).length?Bt[we]:new Ke([],Bt),this.consumeOptional("//")}return ce}peekStartsWith(Ge){return this.remaining.startsWith(Ge)}consumeOptional(Ge){return!!this.peekStartsWith(Ge)&&(this.remaining=this.remaining.substring(Ge.length),!0)}capture(Ge){if(!this.consumeOptional(Ge))throw new c.vHH(4011,!1)}}function Jt(Ee){return Ee.segments.length>0?new Ke([],{[we]:Ee}):Ee}function an(Ee){const Ge={};for(const Be of Object.keys(Ee.children)){const jt=an(Ee.children[Be]);if(Be===we&&0===jt.segments.length&&jt.hasChildren())for(const[Bt,Tn]of Object.entries(jt.children))Ge[Bt]=Tn;else(jt.segments.length>0||jt.hasChildren())&&(Ge[Be]=jt)}return function fn(Ee){if(1===Ee.numberOfChildren&&Ee.children[we]){const Ge=Ee.children[we];return new Ke(Ee.segments.concat(Ge.segments),Ge.children)}return Ee}(new Ke(Ee.segments,Ge))}function Mn(Ee){return Ee instanceof xe}function Wn(Ee){let Ge;const Tt=Jt(function ce(jt){const Bt={};for(const zn of jt.children){const bi=ce(zn);Bt[zn.outlet]=bi}const Tn=new Ke(jt.url,Bt);return jt===Ee&&(Ge=Tn),Tn}(Ee.root));return Ge??Tt}function Gn(Ee,Ge,ce,Be){let Tt=Ee;for(;Tt.parent;)Tt=Tt.parent;if(0===Ge.length)return pn(Tt,Tt,Tt,ce,Be);const jt=function tn(Ee){if("string"==typeof Ee[0]&&1===Ee.length&&"/"===Ee[0])return new ft(!0,0,Ee);let Ge=0,ce=!1;const Be=Ee.reduce((Tt,jt,Bt)=>{if("object"==typeof jt&&null!=jt){if(jt.outlets){const Tn={};return Object.entries(jt.outlets).forEach(([zn,bi])=>{Tn[zn]="string"==typeof bi?bi.split("/"):bi}),[...Tt,{outlets:Tn}]}if(jt.segmentPath)return[...Tt,jt.segmentPath]}return"string"!=typeof jt?[...Tt,jt]:0===Bt?(jt.split("/").forEach((Tn,zn)=>{0==zn&&"."===Tn||(0==zn&&""===Tn?ce=!0:".."===Tn?Ge++:""!=Tn&&Tt.push(Tn))}),Tt):[...Tt,jt]},[]);return new ft(ce,Ge,Be)}(Ge);if(jt.toRoot())return pn(Tt,Tt,new Ke([],{}),ce,Be);const Bt=function Xe(Ee,Ge,ce){if(Ee.isAbsolute)return new ze(Ge,!0,0);if(!ce)return new ze(Ge,!1,NaN);if(null===ce.parent)return new ze(ce,!0,0);const Be=fi(Ee.commands[0])?0:1;return function Pt(Ee,Ge,ce){let Be=Ee,Tt=Ge,jt=ce;for(;jt>Tt;){if(jt-=Tt,Be=Be.parent,!Be)throw new c.vHH(4005,!1);Tt=Be.segments.length}return new ze(Be,!1,Tt-jt)}(ce,ce.segments.length-1+Be,Ee.numberOfDoubleDots)}(jt,Tt,Ee),Tn=Bt.processChildren?Fn(Bt.segmentGroup,Bt.index,jt.commands):wn(Bt.segmentGroup,Bt.index,jt.commands);return pn(Tt,Bt.segmentGroup,Tn,ce,Be)}function fi(Ee){return"object"==typeof Ee&&null!=Ee&&!Ee.outlets&&!Ee.segmentPath}function _n(Ee){return"object"==typeof Ee&&null!=Ee&&Ee.outlets}function pn(Ee,Ge,ce,Be,Tt){let Bt,jt={};Be&&Object.entries(Be).forEach(([zn,bi])=>{jt[zn]=Array.isArray(bi)?bi.map(Ti=>`${Ti}`):`${bi}`}),Bt=Ee===Ge?ce:St(Ee,Ge,ce);const Tn=Jt(an(Bt));return new xe(Tn,jt,Tt)}function St(Ee,Ge,ce){const Be={};return Object.entries(Ee.children).forEach(([Tt,jt])=>{Be[Tt]=jt===Ge?ce:St(jt,Ge,ce)}),new Ke(Ee.segments,Be)}class ft{constructor(Ge,ce,Be){if(this.isAbsolute=Ge,this.numberOfDoubleDots=ce,this.commands=Be,Ge&&Be.length>0&&fi(Be[0]))throw new c.vHH(4003,!1);const Tt=Be.find(_n);if(Tt&&Tt!==_e(Be))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ze{constructor(Ge,ce,Be){this.segmentGroup=Ge,this.processChildren=ce,this.index=Be}}function wn(Ee,Ge,ce){if(Ee||(Ee=new Ke([],{})),0===Ee.segments.length&&Ee.hasChildren())return Fn(Ee,Ge,ce);const Be=function Gt(Ee,Ge,ce){let Be=0,Tt=Ge;const jt={match:!1,pathIndex:0,commandIndex:0};for(;Tt<Ee.segments.length;){if(Be>=ce.length)return jt;const Bt=Ee.segments[Tt],Tn=ce[Be];if(_n(Tn))break;const zn=`${Tn}`,bi=Be<ce.length-1?ce[Be+1]:null;if(Tt>0&&void 0===zn)break;if(zn&&bi&&"object"==typeof bi&&void 0===bi.outlets){if(!Ln(zn,bi,Bt))return jt;Be+=2}else{if(!Ln(zn,{},Bt))return jt;Be++}Tt++}return{match:!0,pathIndex:Tt,commandIndex:Be}}(Ee,Ge,ce),Tt=ce.slice(Be.commandIndex);if(Be.match&&Be.pathIndex<Ee.segments.length){const jt=new Ke(Ee.segments.slice(0,Be.pathIndex),{});return jt.children[we]=new Ke(Ee.segments.slice(Be.pathIndex),Ee.children),Fn(jt,0,Tt)}return Be.match&&0===Tt.length?new Ke(Ee.segments,{}):Be.match&&!Ee.hasChildren()?Kt(Ee,Ge,ce):Be.match?Fn(Ee,0,Tt):Kt(Ee,Ge,ce)}function Fn(Ee,Ge,ce){if(0===ce.length)return new Ke(Ee.segments,{});{const Be=function Qt(Ee){return _n(Ee[0])?Ee[0].outlets:{[we]:Ee}}(ce),Tt={};if(!Be[we]&&Ee.children[we]&&1===Ee.numberOfChildren&&0===Ee.children[we].segments.length){const jt=Fn(Ee.children[we],Ge,ce);return new Ke(Ee.segments,jt.children)}return Object.entries(Be).forEach(([jt,Bt])=>{"string"==typeof Bt&&(Bt=[Bt]),null!==Bt&&(Tt[jt]=wn(Ee.children[jt],Ge,Bt))}),Object.entries(Ee.children).forEach(([jt,Bt])=>{void 0===Be[jt]&&(Tt[jt]=Bt)}),new Ke(Ee.segments,Tt)}}function Kt(Ee,Ge,ce){const Be=Ee.segments.slice(0,Ge);let Tt=0;for(;Tt<ce.length;){const jt=ce[Tt];if(_n(jt)){const zn=rn(jt.outlets);return new Ke(Be,zn)}if(0===Tt&&fi(ce[0])){Be.push(new Ve(Ee.segments[Ge].path,En(ce[0]))),Tt++;continue}const Bt=_n(jt)?jt.outlets[we]:`${jt}`,Tn=Tt<ce.length-1?ce[Tt+1]:null;Bt&&Tn&&fi(Tn)?(Be.push(new Ve(Bt,En(Tn))),Tt+=2):(Be.push(new Ve(Bt,{})),Tt++)}return new Ke(Be,{})}function rn(Ee){const Ge={};return Object.entries(Ee).forEach(([ce,Be])=>{"string"==typeof Be&&(Be=[Be]),null!==Be&&(Ge[ce]=Kt(new Ke([],{}),0,Be))}),Ge}function En(Ee){const Ge={};return Object.entries(Ee).forEach(([ce,Be])=>Ge[ce]=`${Be}`),Ge}function Ln(Ee,Ge,ce){return Ee==ce.path&&W(Ge,ce.parameters)}const Xn="imperative";class vt{constructor(Ge,ce){this.id=Ge,this.url=ce}}class un extends vt{constructor(Ge,ce,Be="imperative",Tt=null){super(Ge,ce),this.type=0,this.navigationTrigger=Be,this.restoredState=Tt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class be extends vt{constructor(Ge,ce,Be){super(Ge,ce),this.urlAfterRedirects=Be,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yt extends vt{constructor(Ge,ce,Be,Tt){super(Ge,ce),this.reason=Be,this.code=Tt,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gt extends vt{constructor(Ge,ce,Be,Tt){super(Ge,ce),this.reason=Be,this.code=Tt,this.type=16}}class rt extends vt{constructor(Ge,ce,Be,Tt){super(Ge,ce),this.error=Be,this.target=Tt,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hn extends vt{constructor(Ge,ce,Be,Tt){super(Ge,ce),this.urlAfterRedirects=Be,this.state=Tt,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ti extends vt{constructor(Ge,ce,Be,Tt){super(Ge,ce),this.urlAfterRedirects=Be,this.state=Tt,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ar extends vt{constructor(Ge,ce,Be,Tt,jt){super(Ge,ce),this.urlAfterRedirects=Be,this.state=Tt,this.shouldActivate=jt,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $i extends vt{constructor(Ge,ce,Be,Tt){super(Ge,ce),this.urlAfterRedirects=Be,this.state=Tt,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tr extends vt{constructor(Ge,ce,Be,Tt){super(Ge,ce),this.urlAfterRedirects=Be,this.state=Tt,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hr{constructor(Ge){this.route=Ge,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yo{constructor(Ge){this.route=Ge,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Co{constructor(Ge){this.snapshot=Ge,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uo{constructor(Ge){this.snapshot=Ge,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wo{constructor(Ge){this.snapshot=Ge,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ii{constructor(Ge){this.snapshot=Ge,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gr{constructor(Ge,ce,Be){this.routerEvent=Ge,this.position=ce,this.anchor=Be,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class to{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _r,this.attachRef=null}}let _r=(()=>{class Ee{constructor(){this.contexts=new Map}onChildOutletCreated(ce,Be){const Tt=this.getOrCreateContext(ce);Tt.outlet=Be,this.contexts.set(ce,Tt)}onChildOutletDestroyed(ce){const Be=this.getContext(ce);Be&&(Be.outlet=null,Be.attachRef=null)}onOutletDeactivated(){const ce=this.contexts;return this.contexts=new Map,ce}onOutletReAttached(ce){this.contexts=ce}getOrCreateContext(ce){let Be=this.getContext(ce);return Be||(Be=new to,this.contexts.set(ce,Be)),Be}getContext(ce){return this.contexts.get(ce)||null}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();class zo{constructor(Ge){this._root=Ge}get root(){return this._root.value}parent(Ge){const ce=this.pathFromRoot(Ge);return ce.length>1?ce[ce.length-2]:null}children(Ge){const ce=Do(Ge,this._root);return ce?ce.children.map(Be=>Be.value):[]}firstChild(Ge){const ce=Do(Ge,this._root);return ce&&ce.children.length>0?ce.children[0].value:null}siblings(Ge){const ce=jr(Ge,this._root);return ce.length<2?[]:ce[ce.length-2].children.map(Tt=>Tt.value).filter(Tt=>Tt!==Ge)}pathFromRoot(Ge){return jr(Ge,this._root).map(ce=>ce.value)}}function Do(Ee,Ge){if(Ee===Ge.value)return Ge;for(const ce of Ge.children){const Be=Do(Ee,ce);if(Be)return Be}return null}function jr(Ee,Ge){if(Ee===Ge.value)return[Ge];for(const ce of Ge.children){const Be=jr(Ee,ce);if(Be.length)return Be.unshift(Ge),Be}return[]}class Kr{constructor(Ge,ce){this.value=Ge,this.children=ce}toString(){return`TreeNode(${this.value})`}}function Vr(Ee){const Ge={};return Ee&&Ee.children.forEach(ce=>Ge[ce.value.outlet]=ce),Ge}class lr extends zo{constructor(Ge,ce){super(Ge),this.snapshot=ce,qt(this,Ge)}toString(){return this.snapshot.toString()}}function oi(Ee,Ge){const ce=function Pi(Ee,Ge){const Bt=new Sr([],{},{},"",{},we,Ge,null,{});return new Ji("",new Kr(Bt,[]))}(0,Ge),Be=new E.X([new Ve("",{})]),Tt=new E.X({}),jt=new E.X({}),Bt=new E.X({}),Tn=new E.X(""),zn=new qi(Be,Tt,Bt,Tn,jt,we,Ge,ce.root);return zn.snapshot=ce.root,new lr(new Kr(zn,[]),ce)}class qi{constructor(Ge,ce,Be,Tt,jt,Bt,Tn,zn){this.urlSubject=Ge,this.paramsSubject=ce,this.queryParamsSubject=Be,this.fragmentSubject=Tt,this.dataSubject=jt,this.outlet=Bt,this.component=Tn,this._futureSnapshot=zn,this.title=this.dataSubject?.pipe((0,O.U)(bi=>bi[He]))??(0,w.of)(void 0),this.url=Ge,this.params=ce,this.queryParams=Be,this.fragment=Tt,this.data=jt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,O.U)(Ge=>Je(Ge)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,O.U)(Ge=>Je(Ge)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Nr(Ee,Ge="emptyOnly"){const ce=Ee.pathFromRoot;let Be=0;if("always"!==Ge)for(Be=ce.length-1;Be>=1;){const Tt=ce[Be],jt=ce[Be-1];if(Tt.routeConfig&&""===Tt.routeConfig.path)Be--;else{if(jt.component)break;Be--}}return function xo(Ee){return Ee.reduce((Ge,ce)=>({params:{...Ge.params,...ce.params},data:{...Ge.data,...ce.data},resolve:{...ce.data,...Ge.resolve,...ce.routeConfig?.data,...ce._resolvedData}}),{params:{},data:{},resolve:{}})}(ce.slice(Be))}class Sr{get title(){return this.data?.[He]}constructor(Ge,ce,Be,Tt,jt,Bt,Tn,zn,bi){this.url=Ge,this.params=ce,this.queryParams=Be,this.fragment=Tt,this.data=jt,this.outlet=Bt,this.component=Tn,this.routeConfig=zn,this._resolve=bi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Je(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Je(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Be=>Be.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ji extends zo{constructor(Ge,ce){super(ce),this.url=Ge,qt(this,ce)}toString(){return Pn(this._root)}}function qt(Ee,Ge){Ge.value._routerState=Ee,Ge.children.forEach(ce=>qt(Ee,ce))}function Pn(Ee){const Ge=Ee.children.length>0?` { ${Ee.children.map(Pn).join(", ")} } `:"";return`${Ee.value}${Ge}`}function Qn(Ee){if(Ee.snapshot){const Ge=Ee.snapshot,ce=Ee._futureSnapshot;Ee.snapshot=ce,W(Ge.queryParams,ce.queryParams)||Ee.queryParamsSubject.next(ce.queryParams),Ge.fragment!==ce.fragment&&Ee.fragmentSubject.next(ce.fragment),W(Ge.params,ce.params)||Ee.paramsSubject.next(ce.params),function Te(Ee,Ge){if(Ee.length!==Ge.length)return!1;for(let ce=0;ce<Ee.length;++ce)if(!W(Ee[ce],Ge[ce]))return!1;return!0}(Ge.url,ce.url)||Ee.urlSubject.next(ce.url),W(Ge.data,ce.data)||Ee.dataSubject.next(ce.data)}else Ee.snapshot=Ee._futureSnapshot,Ee.dataSubject.next(Ee._futureSnapshot.data)}function Kn(Ee,Ge){const ce=W(Ee.params,Ge.params)&&function lt(Ee,Ge){return dt(Ee,Ge)&&Ee.every((ce,Be)=>W(ce.parameters,Ge[Be].parameters))}(Ee.url,Ge.url);return ce&&!(!Ee.parent!=!Ge.parent)&&(!Ee.parent||Kn(Ee.parent,Ge.parent))}let mi=(()=>{class Ee{constructor(){this.activated=null,this._activatedRoute=null,this.name=we,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(_r),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(Oi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(ce){if(ce.name){const{firstChange:Be,previousValue:Tt}=ce.name;if(Be)return;this.isTrackedInParentContexts(Tt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Tt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(ce){return this.parentContexts.getContext(ce)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const ce=this.parentContexts.getContext(this.name);ce?.route&&(ce.attachRef?this.attach(ce.attachRef,ce.route):this.activateWith(ce.route,ce.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const ce=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(ce.instance),ce}attach(ce,Be){this.activated=ce,this._activatedRoute=Be,this.location.insert(ce.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(ce.instance)}deactivate(){if(this.activated){const ce=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ce)}}activateWith(ce,Be){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=ce;const Tt=this.location,Bt=ce.snapshot.component,Tn=this.parentContexts.getOrCreateContext(this.name).children,zn=new gi(ce,Tn,Tt.injector);this.activated=Tt.createComponent(Bt,{index:Tt.length,injector:zn,environmentInjector:Be??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275dir=c.lG2({type:Ee,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]})}return Ee})();class gi{constructor(Ge,ce,Be){this.route=Ge,this.childContexts=ce,this.parent=Be}get(Ge,ce){return Ge===qi?this.route:Ge===_r?this.childContexts:this.parent.get(Ge,ce)}}const Oi=new c.OlP("");let wi=(()=>{class Ee{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(ce){this.unsubscribeFromRouteData(ce),this.subscribeToRouteData(ce)}unsubscribeFromRouteData(ce){this.outletDataSubscriptions.get(ce)?.unsubscribe(),this.outletDataSubscriptions.delete(ce)}subscribeToRouteData(ce){const{activatedRoute:Be}=ce,Tt=(0,F.a)([Be.queryParams,Be.params,Be.data]).pipe((0,x.w)(([jt,Bt,Tn],zn)=>(Tn={...jt,...Bt,...Tn},0===zn?(0,w.of)(Tn):Promise.resolve(Tn)))).subscribe(jt=>{if(!ce.isActivated||!ce.activatedComponentRef||ce.activatedRoute!==Be||null===Be.component)return void this.unsubscribeFromRouteData(ce);const Bt=(0,c.qFp)(Be.component);if(Bt)for(const{templateName:Tn}of Bt.inputs)ce.activatedComponentRef.setInput(Tn,jt[Tn]);else this.unsubscribeFromRouteData(ce)});this.outletDataSubscriptions.set(ce,Tt)}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();function Di(Ee,Ge,ce){if(ce&&Ee.shouldReuseRoute(Ge.value,ce.value.snapshot)){const Be=ce.value;Be._futureSnapshot=Ge.value;const Tt=function Gr(Ee,Ge,ce){return Ge.children.map(Be=>{for(const Tt of ce.children)if(Ee.shouldReuseRoute(Be.value,Tt.value.snapshot))return Di(Ee,Be,Tt);return Di(Ee,Be)})}(Ee,Ge,ce);return new Kr(Be,Tt)}{if(Ee.shouldAttach(Ge.value)){const jt=Ee.retrieve(Ge.value);if(null!==jt){const Bt=jt.route;return Bt.value._futureSnapshot=Ge.value,Bt.children=Ge.children.map(Tn=>Di(Ee,Tn)),Bt}}const Be=function ro(Ee){return new qi(new E.X(Ee.url),new E.X(Ee.params),new E.X(Ee.queryParams),new E.X(Ee.fragment),new E.X(Ee.data),Ee.outlet,Ee.component,Ee)}(Ge.value),Tt=Ge.children.map(jt=>Di(Ee,jt));return new Kr(Be,Tt)}}const Po="ngNavigationCancelingError";function kr(Ee,Ge){const{redirectTo:ce,navigationBehaviorOptions:Be}=Mn(Ge)?{redirectTo:Ge,navigationBehaviorOptions:void 0}:Ge,Tt=xr(!1,0,Ge);return Tt.url=ce,Tt.navigationBehaviorOptions=Be,Tt}function xr(Ee,Ge,ce){const Be=new Error("NavigationCancelingError: "+(Ee||""));return Be[Po]=!0,Be.cancellationCode=Ge,ce&&(Be.url=ce),Be}function Mo(Ee){return Lr(Ee)&&Mn(Ee.url)}function Lr(Ee){return Ee&&Ee[Po]}let Gi=(()=>{class Ee{static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275cmp=c.Xpm({type:Ee,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(Be,Tt){1&Be&&c._UZ(0,"router-outlet")},dependencies:[mi],encapsulation:2})}return Ee})();function Cr(Ee){const Ge=Ee.children&&Ee.children.map(Cr),ce=Ge?{...Ee,children:Ge}:{...Ee};return!ce.component&&!ce.loadComponent&&(Ge||ce.loadChildren)&&ce.outlet&&ce.outlet!==we&&(ce.component=Gi),ce}function mr(Ee){return Ee.outlet||we}function Yr(Ee){if(!Ee)return null;if(Ee.routeConfig?._injector)return Ee.routeConfig._injector;for(let Ge=Ee.parent;Ge;Ge=Ge.parent){const ce=Ge.routeConfig;if(ce?._loadedInjector)return ce._loadedInjector;if(ce?._injector)return ce._injector}return null}class jo{constructor(Ge,ce,Be,Tt,jt){this.routeReuseStrategy=Ge,this.futureState=ce,this.currState=Be,this.forwardEvent=Tt,this.inputBindingEnabled=jt}activate(Ge){const ce=this.futureState._root,Be=this.currState?this.currState._root:null;this.deactivateChildRoutes(ce,Be,Ge),Qn(this.futureState.root),this.activateChildRoutes(ce,Be,Ge)}deactivateChildRoutes(Ge,ce,Be){const Tt=Vr(ce);Ge.children.forEach(jt=>{const Bt=jt.value.outlet;this.deactivateRoutes(jt,Tt[Bt],Be),delete Tt[Bt]}),Object.values(Tt).forEach(jt=>{this.deactivateRouteAndItsChildren(jt,Be)})}deactivateRoutes(Ge,ce,Be){const Tt=Ge.value,jt=ce?ce.value:null;if(Tt===jt)if(Tt.component){const Bt=Be.getContext(Tt.outlet);Bt&&this.deactivateChildRoutes(Ge,ce,Bt.children)}else this.deactivateChildRoutes(Ge,ce,Be);else jt&&this.deactivateRouteAndItsChildren(ce,Be)}deactivateRouteAndItsChildren(Ge,ce){Ge.value.component&&this.routeReuseStrategy.shouldDetach(Ge.value.snapshot)?this.detachAndStoreRouteSubtree(Ge,ce):this.deactivateRouteAndOutlet(Ge,ce)}detachAndStoreRouteSubtree(Ge,ce){const Be=ce.getContext(Ge.value.outlet),Tt=Be&&Ge.value.component?Be.children:ce,jt=Vr(Ge);for(const Bt of Object.keys(jt))this.deactivateRouteAndItsChildren(jt[Bt],Tt);if(Be&&Be.outlet){const Bt=Be.outlet.detach(),Tn=Be.children.onOutletDeactivated();this.routeReuseStrategy.store(Ge.value.snapshot,{componentRef:Bt,route:Ge,contexts:Tn})}}deactivateRouteAndOutlet(Ge,ce){const Be=ce.getContext(Ge.value.outlet),Tt=Be&&Ge.value.component?Be.children:ce,jt=Vr(Ge);for(const Bt of Object.keys(jt))this.deactivateRouteAndItsChildren(jt[Bt],Tt);Be&&(Be.outlet&&(Be.outlet.deactivate(),Be.children.onOutletDeactivated()),Be.attachRef=null,Be.route=null)}activateChildRoutes(Ge,ce,Be){const Tt=Vr(ce);Ge.children.forEach(jt=>{this.activateRoutes(jt,Tt[jt.value.outlet],Be),this.forwardEvent(new Ii(jt.value.snapshot))}),Ge.children.length&&this.forwardEvent(new uo(Ge.value.snapshot))}activateRoutes(Ge,ce,Be){const Tt=Ge.value,jt=ce?ce.value:null;if(Qn(Tt),Tt===jt)if(Tt.component){const Bt=Be.getOrCreateContext(Tt.outlet);this.activateChildRoutes(Ge,ce,Bt.children)}else this.activateChildRoutes(Ge,ce,Be);else if(Tt.component){const Bt=Be.getOrCreateContext(Tt.outlet);if(this.routeReuseStrategy.shouldAttach(Tt.snapshot)){const Tn=this.routeReuseStrategy.retrieve(Tt.snapshot);this.routeReuseStrategy.store(Tt.snapshot,null),Bt.children.onOutletReAttached(Tn.contexts),Bt.attachRef=Tn.componentRef,Bt.route=Tn.route.value,Bt.outlet&&Bt.outlet.attach(Tn.componentRef,Tn.route.value),Qn(Tn.route.value),this.activateChildRoutes(Ge,null,Bt.children)}else{const Tn=Yr(Tt.snapshot);Bt.attachRef=null,Bt.route=Tt,Bt.injector=Tn,Bt.outlet&&Bt.outlet.activateWith(Tt,Bt.injector),this.activateChildRoutes(Ge,null,Bt.children)}}else this.activateChildRoutes(Ge,null,Be)}}class as{constructor(Ge){this.path=Ge,this.route=this.path[this.path.length-1]}}class io{constructor(Ge,ce){this.component=Ge,this.route=ce}}function Ws(Ee,Ge,ce){const Be=Ee._root;return ys(Be,Ge?Ge._root:null,ce,[Be.value])}function ls(Ee,Ge){const ce=Symbol(),Be=Ge.get(Ee,ce);return Be===ce?"function"!=typeof Ee||(0,c.Z0I)(Ee)?Ge.get(Ee):Ee:Be}function ys(Ee,Ge,ce,Be,Tt={canDeactivateChecks:[],canActivateChecks:[]}){const jt=Vr(Ge);return Ee.children.forEach(Bt=>{(function zs(Ee,Ge,ce,Be,Tt={canDeactivateChecks:[],canActivateChecks:[]}){const jt=Ee.value,Bt=Ge?Ge.value:null,Tn=ce?ce.getContext(Ee.value.outlet):null;if(Bt&&jt.routeConfig===Bt.routeConfig){const zn=function Eo(Ee,Ge,ce){if("function"==typeof ce)return ce(Ee,Ge);switch(ce){case"pathParamsChange":return!dt(Ee.url,Ge.url);case"pathParamsOrQueryParamsChange":return!dt(Ee.url,Ge.url)||!W(Ee.queryParams,Ge.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kn(Ee,Ge)||!W(Ee.queryParams,Ge.queryParams);default:return!Kn(Ee,Ge)}}(Bt,jt,jt.routeConfig.runGuardsAndResolvers);zn?Tt.canActivateChecks.push(new as(Be)):(jt.data=Bt.data,jt._resolvedData=Bt._resolvedData),ys(Ee,Ge,jt.component?Tn?Tn.children:null:ce,Be,Tt),zn&&Tn&&Tn.outlet&&Tn.outlet.isActivated&&Tt.canDeactivateChecks.push(new io(Tn.outlet.component,Bt))}else Bt&&No(Ge,Tn,Tt),Tt.canActivateChecks.push(new as(Be)),ys(Ee,null,jt.component?Tn?Tn.children:null:ce,Be,Tt)})(Bt,jt[Bt.value.outlet],ce,Be.concat([Bt.value]),Tt),delete jt[Bt.value.outlet]}),Object.entries(jt).forEach(([Bt,Tn])=>No(Tn,ce.getContext(Bt),Tt)),Tt}function No(Ee,Ge,ce){const Be=Vr(Ee),Tt=Ee.value;Object.entries(Be).forEach(([jt,Bt])=>{No(Bt,Tt.component?Ge?Ge.children.getContext(jt):null:Ge,ce)}),ce.canDeactivateChecks.push(new io(Tt.component&&Ge&&Ge.outlet&&Ge.outlet.isActivated?Ge.outlet.component:null,Tt))}function Zo(Ee){return"function"==typeof Ee}function bs(Ee){return Ee instanceof L.K||"EmptyError"===Ee?.name}const Ps=Symbol("INITIAL_VALUE");function dr(){return(0,x.w)(Ee=>(0,F.a)(Ee.map(Ge=>Ge.pipe((0,P.q)(1),(0,T.O)(Ps)))).pipe((0,O.U)(Ge=>{for(const ce of Ge)if(!0!==ce){if(ce===Ps)return Ps;if(!1===ce||ce instanceof xe)return ce}return!0}),(0,N.h)(Ge=>Ge!==Ps),(0,P.q)(1)))}function Vo(Ee){return(0,f.z)((0,q.b)(Ge=>{if(Mn(Ge))throw kr(0,Ge)}),(0,O.U)(Ge=>!0===Ge))}class Wr{constructor(Ge){this.segmentGroup=Ge||null}}class Es{constructor(Ge){this.urlTree=Ge}}function vr(Ee){return M(new Wr(Ee))}function Ao(Ee){return M(new Es(Ee))}class Jo{constructor(Ge,ce){this.urlSerializer=Ge,this.urlTree=ce}noMatchError(Ge){return new c.vHH(4002,!1)}lineralizeSegments(Ge,ce){let Be=[],Tt=ce.root;for(;;){if(Be=Be.concat(Tt.segments),0===Tt.numberOfChildren)return(0,w.of)(Be);if(Tt.numberOfChildren>1||!Tt.children[we])return M(new c.vHH(4e3,!1));Tt=Tt.children[we]}}applyRedirectCommands(Ge,ce,Be){return this.applyRedirectCreateUrlTree(ce,this.urlSerializer.parse(ce),Ge,Be)}applyRedirectCreateUrlTree(Ge,ce,Be,Tt){const jt=this.createSegmentGroup(Ge,ce.root,Be,Tt);return new xe(jt,this.createQueryParams(ce.queryParams,this.urlTree.queryParams),ce.fragment)}createQueryParams(Ge,ce){const Be={};return Object.entries(Ge).forEach(([Tt,jt])=>{if("string"==typeof jt&&jt.startsWith(":")){const Tn=jt.substring(1);Be[Tt]=ce[Tn]}else Be[Tt]=jt}),Be}createSegmentGroup(Ge,ce,Be,Tt){const jt=this.createSegments(Ge,ce.segments,Be,Tt);let Bt={};return Object.entries(ce.children).forEach(([Tn,zn])=>{Bt[Tn]=this.createSegmentGroup(Ge,zn,Be,Tt)}),new Ke(jt,Bt)}createSegments(Ge,ce,Be,Tt){return ce.map(jt=>jt.path.startsWith(":")?this.findPosParam(Ge,jt,Tt):this.findOrReturn(jt,Be))}findPosParam(Ge,ce,Be){const Tt=Be[ce.path.substring(1)];if(!Tt)throw new c.vHH(4001,!1);return Tt}findOrReturn(Ge,ce){let Be=0;for(const Tt of ce){if(Tt.path===Ge.path)return ce.splice(Be),Tt;Be++}return Ge}}const cs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Os(Ee,Ge,ce,Be,Tt){const jt=Aa(Ee,Ge,ce);return jt.matched?(Be=function aa(Ee,Ge){return Ee.providers&&!Ee._injector&&(Ee._injector=(0,c.MMx)(Ee.providers,Ge,`Route: ${Ee.path}`)),Ee._injector??Ge}(Ge,Be),function qo(Ee,Ge,ce,Be){const Tt=Ge.canMatch;if(!Tt||0===Tt.length)return(0,w.of)(!0);const jt=Tt.map(Bt=>{const Tn=ls(Bt,Ee);return J(function $o(Ee){return Ee&&Zo(Ee.canMatch)}(Tn)?Tn.canMatch(Ge,ce):Ee.runInContext(()=>Tn(Ge,ce)))});return(0,w.of)(jt).pipe(dr(),Vo())}(Be,Ge,ce).pipe((0,O.U)(Bt=>!0===Bt?jt:{...cs}))):(0,w.of)(jt)}function Aa(Ee,Ge,ce){if(""===Ge.path)return"full"===Ge.pathMatch&&(Ee.hasChildren()||ce.length>0)?{...cs}:{matched:!0,consumedSegments:[],remainingSegments:ce,parameters:{},positionalParamSegments:{}};const Tt=(Ge.matcher||Ne)(ce,Ee,Ge);if(!Tt)return{...cs};const jt={};Object.entries(Tt.posParams??{}).forEach(([Tn,zn])=>{jt[Tn]=zn.path});const Bt=Tt.consumed.length>0?{...jt,...Tt.consumed[Tt.consumed.length-1].parameters}:jt;return{matched:!0,consumedSegments:Tt.consumed,remainingSegments:ce.slice(Tt.consumed.length),parameters:Bt,positionalParamSegments:Tt.posParams??{}}}function ml(Ee,Ge,ce,Be){return ce.length>0&&function ca(Ee,Ge,ce){return ce.some(Be=>kl(Ee,Ge,Be)&&mr(Be)!==we)}(Ee,ce,Be)?{segmentGroup:new Ke(Ge,pl(Be,new Ke(ce,Ee.children))),slicedSegments:[]}:0===ce.length&&function Qr(Ee,Ge,ce){return ce.some(Be=>kl(Ee,Ge,Be))}(Ee,ce,Be)?{segmentGroup:new Ke(Ee.segments,Ts(Ee,0,ce,Be,Ee.children)),slicedSegments:ce}:{segmentGroup:new Ke(Ee.segments,Ee.children),slicedSegments:ce}}function Ts(Ee,Ge,ce,Be,Tt){const jt={};for(const Bt of Be)if(kl(Ee,ce,Bt)&&!Tt[mr(Bt)]){const Tn=new Ke([],{});jt[mr(Bt)]=Tn}return{...Tt,...jt}}function pl(Ee,Ge){const ce={};ce[we]=Ge;for(const Be of Ee)if(""===Be.path&&mr(Be)!==we){const Tt=new Ke([],{});ce[mr(Be)]=Tt}return ce}function kl(Ee,Ge,ce){return(!(Ee.hasChildren()||Ge.length>0)||"full"!==ce.pathMatch)&&""===ce.path}class Ia{constructor(Ge,ce,Be,Tt,jt,Bt,Tn){this.injector=Ge,this.configLoader=ce,this.rootComponentType=Be,this.config=Tt,this.urlTree=jt,this.paramsInheritanceStrategy=Bt,this.urlSerializer=Tn,this.allowRedirects=!0,this.applyRedirects=new Jo(this.urlSerializer,this.urlTree)}noMatchError(Ge){return new c.vHH(4002,!1)}recognize(){const Ge=ml(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,Ge,we).pipe(ae(ce=>{if(ce instanceof Es)return this.allowRedirects=!1,this.urlTree=ce.urlTree,this.match(ce.urlTree);throw ce instanceof Wr?this.noMatchError(ce):ce}),(0,O.U)(ce=>{const Be=new Sr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},we,this.rootComponentType,null,{}),Tt=new Kr(Be,ce),jt=new Ji("",Tt),Bt=function Nn(Ee,Ge,ce=null,Be=null){return Gn(Wn(Ee),Ge,ce,Be)}(Be,[],this.urlTree.queryParams,this.urlTree.fragment);return Bt.queryParams=this.urlTree.queryParams,jt.url=this.urlSerializer.serialize(Bt),this.inheritParamsAndData(jt._root),{state:jt,tree:Bt}}))}match(Ge){return this.processSegmentGroup(this.injector,this.config,Ge.root,we).pipe(ae(Be=>{throw Be instanceof Wr?this.noMatchError(Be):Be}))}inheritParamsAndData(Ge){const ce=Ge.value,Be=Nr(ce,this.paramsInheritanceStrategy);ce.params=Object.freeze(Be.params),ce.data=Object.freeze(Be.data),Ge.children.forEach(Tt=>this.inheritParamsAndData(Tt))}processSegmentGroup(Ge,ce,Be,Tt){return 0===Be.segments.length&&Be.hasChildren()?this.processChildren(Ge,ce,Be):this.processSegment(Ge,ce,Be,Be.segments,Tt,!0)}processChildren(Ge,ce,Be){const Tt=[];for(const jt of Object.keys(Be.children))"primary"===jt?Tt.unshift(jt):Tt.push(jt);return(0,b.D)(Tt).pipe((0,Y.b)(jt=>{const Bt=Be.children[jt],Tn=function Uo(Ee,Ge){const ce=Ee.filter(Be=>mr(Be)===Ge);return ce.push(...Ee.filter(Be=>mr(Be)!==Ge)),ce}(ce,jt);return this.processSegmentGroup(Ge,Tn,Bt,jt)}),function ge(Ee,Ge){return(0,$.e)(function K(Ee,Ge,ce,Be,Tt){return(jt,Bt)=>{let Tn=ce,zn=Ge,bi=0;jt.subscribe((0,Fe.x)(Bt,Ti=>{const rr=bi++;zn=Tn?Ee(zn,Ti,rr):(Tn=!0,Ti),Be&&Bt.next(zn)},Tt&&(()=>{Tn&&Bt.next(zn),Bt.complete()})))}}(Ee,Ge,arguments.length>=2,!0))}((jt,Bt)=>(jt.push(...Bt),jt)),(0,oe.d)(null),function fe(Ee,Ge){const ce=arguments.length>=2;return Be=>Be.pipe(Ee?(0,N.h)((Tt,jt)=>Ee(Tt,jt,Be)):Le.y,he(1),ce?(0,oe.d)(Ge):(0,Ce.T)(()=>new L.K))}(),(0,C.z)(jt=>{if(null===jt)return vr(Be);const Bt=ds(jt);return function Qo(Ee){Ee.sort((Ge,ce)=>Ge.value.outlet===we?-1:ce.value.outlet===we?1:Ge.value.outlet.localeCompare(ce.value.outlet))}(Bt),(0,w.of)(Bt)}))}processSegment(Ge,ce,Be,Tt,jt,Bt){return(0,b.D)(ce).pipe((0,Y.b)(Tn=>this.processSegmentAgainstRoute(Tn._injector??Ge,ce,Tn,Be,Tt,jt,Bt).pipe(ae(zn=>{if(zn instanceof Wr)return(0,w.of)(null);throw zn}))),(0,B.P)(Tn=>!!Tn),ae(Tn=>{if(bs(Tn))return function ac(Ee,Ge,ce){return 0===Ge.length&&!Ee.children[ce]}(Be,Tt,jt)?(0,w.of)([]):vr(Be);throw Tn}))}processSegmentAgainstRoute(Ge,ce,Be,Tt,jt,Bt,Tn){return function gl(Ee,Ge,ce,Be){return!!(mr(Ee)===Be||Be!==we&&kl(Ge,ce,Ee))&&("**"===Ee.path||Aa(Ge,Ee,ce).matched)}(Be,Tt,jt,Bt)?void 0===Be.redirectTo?this.matchSegmentAgainstRoute(Ge,Tt,Be,jt,Bt,Tn):Tn&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(Ge,Tt,ce,Be,jt,Bt):vr(Tt):vr(Tt)}expandSegmentAgainstRouteUsingRedirect(Ge,ce,Be,Tt,jt,Bt){return"**"===Tt.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(Ge,Be,Tt,Bt):this.expandRegularSegmentAgainstRouteUsingRedirect(Ge,ce,Be,Tt,jt,Bt)}expandWildCardWithParamsAgainstRouteUsingRedirect(Ge,ce,Be,Tt){const jt=this.applyRedirects.applyRedirectCommands([],Be.redirectTo,{});return Be.redirectTo.startsWith("/")?Ao(jt):this.applyRedirects.lineralizeSegments(Be,jt).pipe((0,C.z)(Bt=>{const Tn=new Ke(Bt,{});return this.processSegment(Ge,ce,Tn,Bt,Tt,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(Ge,ce,Be,Tt,jt,Bt){const{matched:Tn,consumedSegments:zn,remainingSegments:bi,positionalParamSegments:Ti}=Aa(ce,Tt,jt);if(!Tn)return vr(ce);const rr=this.applyRedirects.applyRedirectCommands(zn,Tt.redirectTo,Ti);return Tt.redirectTo.startsWith("/")?Ao(rr):this.applyRedirects.lineralizeSegments(Tt,rr).pipe((0,C.z)(ho=>this.processSegment(Ge,Be,ce,ho.concat(bi),Bt,!1)))}matchSegmentAgainstRoute(Ge,ce,Be,Tt,jt,Bt){let Tn;if("**"===Be.path){const zn=Tt.length>0?_e(Tt).parameters:{},bi=new Sr(Tt,zn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_l(Be),mr(Be),Be.component??Be._loadedComponent??null,Be,Bl(Be));Tn=(0,w.of)({snapshot:bi,consumedSegments:[],remainingSegments:[]}),ce.children={}}else Tn=Os(ce,Be,Tt,Ge).pipe((0,O.U)(({matched:zn,consumedSegments:bi,remainingSegments:Ti,parameters:rr})=>zn?{snapshot:new Sr(bi,rr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_l(Be),mr(Be),Be.component??Be._loadedComponent??null,Be,Bl(Be)),consumedSegments:bi,remainingSegments:Ti}:null));return Tn.pipe((0,x.w)(zn=>null===zn?vr(ce):this.getChildConfig(Ge=Be._injector??Ge,Be,Tt).pipe((0,x.w)(({routes:bi})=>{const Ti=Be._loadedInjector??Ge,{snapshot:rr,consumedSegments:ho,remainingSegments:Fa}=zn,{segmentGroup:fa,slicedSegments:ha}=ml(ce,ho,Fa,bi);if(0===ha.length&&fa.hasChildren())return this.processChildren(Ti,bi,fa).pipe((0,O.U)(hs=>null===hs?null:[new Kr(rr,hs)]));if(0===bi.length&&0===ha.length)return(0,w.of)([new Kr(rr,[])]);const qa=mr(Be)===jt;return this.processSegment(Ti,bi,fa,ha,qa?we:jt,!0).pipe((0,O.U)(hs=>[new Kr(rr,hs)]))}))))}getChildConfig(Ge,ce,Be){return ce.children?(0,w.of)({routes:ce.children,injector:Ge}):ce.loadChildren?void 0!==ce._loadedRoutes?(0,w.of)({routes:ce._loadedRoutes,injector:ce._loadedInjector}):function Qi(Ee,Ge,ce,Be){const Tt=Ge.canLoad;if(void 0===Tt||0===Tt.length)return(0,w.of)(!0);const jt=Tt.map(Bt=>{const Tn=ls(Bt,Ee);return J(function la(Ee){return Ee&&Zo(Ee.canLoad)}(Tn)?Tn.canLoad(Ge,ce):Ee.runInContext(()=>Tn(Ge,ce)))});return(0,w.of)(jt).pipe(dr(),Vo())}(Ge,ce,Be).pipe((0,C.z)(Tt=>Tt?this.configLoader.loadChildren(Ge,ce).pipe((0,q.b)(jt=>{ce._loadedRoutes=jt.routes,ce._loadedInjector=jt.injector})):function Io(Ee){return M(xr(!1,3))}())):(0,w.of)({routes:[],injector:Ge})}}function wa(Ee){const Ge=Ee.value.routeConfig;return Ge&&""===Ge.path}function ds(Ee){const Ge=[],ce=new Set;for(const Be of Ee){if(!wa(Be)){Ge.push(Be);continue}const Tt=Ge.find(jt=>Be.value.routeConfig===jt.value.routeConfig);void 0!==Tt?(Tt.children.push(...Be.children),ce.add(Tt)):Ge.push(Be)}for(const Be of ce){const Tt=ds(Be.children);Ge.push(new Kr(Be.value,Tt))}return Ge.filter(Be=>!ce.has(Be))}function _l(Ee){return Ee.data||{}}function Bl(Ee){return Ee.resolve||{}}function Qs(Ee){return"string"==typeof Ee.title||null===Ee.title}function Er(Ee){return(0,x.w)(Ge=>{const ce=Ee(Ge);return ce?(0,b.D)(ce).pipe((0,O.U)(()=>Ge)):(0,w.of)(Ge)})}const Rs=new c.OlP("ROUTES");let Ie=(()=>{class Ee{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(ce){if(this.componentLoaders.get(ce))return this.componentLoaders.get(ce);if(ce._loadedComponent)return(0,w.of)(ce._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(ce);const Be=J(ce.loadComponent()).pipe((0,O.U)(ot),(0,q.b)(jt=>{this.onLoadEndListener&&this.onLoadEndListener(ce),ce._loadedComponent=jt}),(0,Ae.x)(()=>{this.componentLoaders.delete(ce)})),Tt=new R.c(Be,()=>new V.x).pipe((0,pe.x)());return this.componentLoaders.set(ce,Tt),Tt}loadChildren(ce,Be){if(this.childrenLoaders.get(Be))return this.childrenLoaders.get(Be);if(Be._loadedRoutes)return(0,w.of)({routes:Be._loadedRoutes,injector:Be._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Be);const jt=this.loadModuleFactoryOrRoutes(Be.loadChildren).pipe((0,O.U)(Tn=>{this.onLoadEndListener&&this.onLoadEndListener(Be);let zn,bi;return Array.isArray(Tn)?bi=Tn:(zn=Tn.create(ce).injector,bi=zn.get(Rs,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:bi.map(Cr),injector:zn}}),(0,Ae.x)(()=>{this.childrenLoaders.delete(Be)})),Bt=new R.c(jt,()=>new V.x).pipe((0,pe.x)());return this.childrenLoaders.set(Be,Bt),Bt}loadModuleFactoryOrRoutes(ce){return J(ce()).pipe((0,O.U)(ot),(0,C.z)(Be=>Be instanceof c.YKP||Array.isArray(Be)?(0,w.of)(Be):(0,b.D)(this.compiler.compileModuleAsync(Be))))}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();function ot(Ee){return function It(Ee){return Ee&&"object"==typeof Ee&&"default"in Ee}(Ee)?Ee.default:Ee}let Mt=(()=>{class Ee{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new V.x,this.configLoader=(0,c.f3M)(Ie),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(bt),this.rootContexts=(0,c.f3M)(_r),this.inputBindingEnabled=null!==(0,c.f3M)(Oi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,w.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Tt=>this.events.next(new yo(Tt)),this.configLoader.onLoadStartListener=Tt=>this.events.next(new hr(Tt))}complete(){this.transitions?.complete()}handleNavigationRequest(ce){const Be=++this.navigationId;this.transitions?.next({...this.transitions.value,...ce,id:Be})}setupNavigations(ce){return this.transitions=new E.X({id:0,currentUrlTree:ce.currentUrlTree,currentRawUrl:ce.currentUrlTree,extractedUrl:ce.urlHandlingStrategy.extract(ce.currentUrlTree),urlAfterRedirects:ce.urlHandlingStrategy.extract(ce.currentUrlTree),rawUrl:ce.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xn,restoredState:null,currentSnapshot:ce.routerState.snapshot,targetSnapshot:null,currentRouterState:ce.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,N.h)(Be=>0!==Be.id),(0,O.U)(Be=>({...Be,extractedUrl:ce.urlHandlingStrategy.extract(Be.rawUrl)})),(0,x.w)(Be=>{let Tt=!1,jt=!1;return(0,w.of)(Be).pipe((0,q.b)(Bt=>{this.currentNavigation={id:Bt.id,initialUrl:Bt.rawUrl,extractedUrl:Bt.extractedUrl,trigger:Bt.source,extras:Bt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,x.w)(Bt=>{const Tn=ce.browserUrlTree.toString(),zn=!ce.navigated||Bt.extractedUrl.toString()!==Tn||Tn!==ce.currentUrlTree.toString();if(!zn&&"reload"!==(Bt.extras.onSameUrlNavigation??ce.onSameUrlNavigation)){const Ti="";return this.events.next(new gt(Bt.id,ce.serializeUrl(Be.rawUrl),Ti,0)),ce.rawUrlTree=Bt.rawUrl,Bt.resolve(null),U.E}if(ce.urlHandlingStrategy.shouldProcessUrl(Bt.rawUrl))return Xt(Bt.source)&&(ce.browserUrlTree=Bt.extractedUrl),(0,w.of)(Bt).pipe((0,x.w)(Ti=>{const rr=this.transitions?.getValue();return this.events.next(new un(Ti.id,this.urlSerializer.serialize(Ti.extractedUrl),Ti.source,Ti.restoredState)),rr!==this.transitions?.getValue()?U.E:Promise.resolve(Ti)}),function Pa(Ee,Ge,ce,Be,Tt,jt){return(0,C.z)(Bt=>function Js(Ee,Ge,ce,Be,Tt,jt,Bt="emptyOnly"){return new Ia(Ee,Ge,ce,Be,Tt,Bt,jt).recognize()}(Ee,Ge,ce,Be,Bt.extractedUrl,Tt,jt).pipe((0,O.U)(({state:Tn,tree:zn})=>({...Bt,targetSnapshot:Tn,urlAfterRedirects:zn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,ce.config,this.urlSerializer,ce.paramsInheritanceStrategy),(0,q.b)(Ti=>{if(Be.targetSnapshot=Ti.targetSnapshot,Be.urlAfterRedirects=Ti.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ti.urlAfterRedirects},"eager"===ce.urlUpdateStrategy){if(!Ti.extras.skipLocationChange){const ho=ce.urlHandlingStrategy.merge(Ti.urlAfterRedirects,Ti.rawUrl);ce.setBrowserUrl(ho,Ti)}ce.browserUrlTree=Ti.urlAfterRedirects}const rr=new hn(Ti.id,this.urlSerializer.serialize(Ti.extractedUrl),this.urlSerializer.serialize(Ti.urlAfterRedirects),Ti.targetSnapshot);this.events.next(rr)}));if(zn&&ce.urlHandlingStrategy.shouldProcessUrl(ce.rawUrlTree)){const{id:Ti,extractedUrl:rr,source:ho,restoredState:Fa,extras:fa}=Bt,ha=new un(Ti,this.urlSerializer.serialize(rr),ho,Fa);this.events.next(ha);const qa=oi(0,this.rootComponentType).snapshot;return Be={...Bt,targetSnapshot:qa,urlAfterRedirects:rr,extras:{...fa,skipLocationChange:!1,replaceUrl:!1}},(0,w.of)(Be)}{const Ti="";return this.events.next(new gt(Bt.id,ce.serializeUrl(Be.extractedUrl),Ti,1)),ce.rawUrlTree=Bt.rawUrl,Bt.resolve(null),U.E}}),(0,q.b)(Bt=>{const Tn=new ti(Bt.id,this.urlSerializer.serialize(Bt.extractedUrl),this.urlSerializer.serialize(Bt.urlAfterRedirects),Bt.targetSnapshot);this.events.next(Tn)}),(0,O.U)(Bt=>Be={...Bt,guards:Ws(Bt.targetSnapshot,Bt.currentSnapshot,this.rootContexts)}),function mn(Ee,Ge){return(0,C.z)(ce=>{const{targetSnapshot:Be,currentSnapshot:Tt,guards:{canActivateChecks:jt,canDeactivateChecks:Bt}}=ce;return 0===Bt.length&&0===jt.length?(0,w.of)({...ce,guardsResult:!0}):function nt(Ee,Ge,ce,Be){return(0,b.D)(Ee).pipe((0,C.z)(Tt=>function Ri(Ee,Ge,ce,Be,Tt){const jt=Ge&&Ge.routeConfig?Ge.routeConfig.canDeactivate:null;if(!jt||0===jt.length)return(0,w.of)(!0);const Bt=jt.map(Tn=>{const zn=Yr(Ge)??Tt,bi=ls(Tn,zn);return J(function $s(Ee){return Ee&&Zo(Ee.canDeactivate)}(bi)?bi.canDeactivate(Ee,Ge,ce,Be):zn.runInContext(()=>bi(Ee,Ge,ce,Be))).pipe((0,B.P)())});return(0,w.of)(Bt).pipe(dr())}(Tt.component,Tt.route,ce,Ge,Be)),(0,B.P)(Tt=>!0!==Tt,!0))}(Bt,Be,Tt,Ee).pipe((0,C.z)(Tn=>Tn&&function Zs(Ee){return"boolean"==typeof Ee}(Tn)?function ht(Ee,Ge,ce,Be){return(0,b.D)(Ge).pipe((0,Y.b)(Tt=>(0,D.z)(function At(Ee,Ge){return null!==Ee&&Ge&&Ge(new Co(Ee)),(0,w.of)(!0)}(Tt.route.parent,Be),function qe(Ee,Ge){return null!==Ee&&Ge&&Ge(new Wo(Ee)),(0,w.of)(!0)}(Tt.route,Be),function ci(Ee,Ge,ce){const Be=Ge[Ge.length-1],jt=Ge.slice(0,Ge.length-1).reverse().map(Bt=>function ws(Ee){const Ge=Ee.routeConfig?Ee.routeConfig.canActivateChild:null;return Ge&&0!==Ge.length?{node:Ee,guards:Ge}:null}(Bt)).filter(Bt=>null!==Bt).map(Bt=>(0,p.P)(()=>{const Tn=Bt.guards.map(zn=>{const bi=Yr(Bt.node)??ce,Ti=ls(zn,bi);return J(function Jr(Ee){return Ee&&Zo(Ee.canActivateChild)}(Ti)?Ti.canActivateChild(Be,Ee):bi.runInContext(()=>Ti(Be,Ee))).pipe((0,B.P)())});return(0,w.of)(Tn).pipe(dr())}));return(0,w.of)(jt).pipe(dr())}(Ee,Tt.path,ce),function on(Ee,Ge,ce){const Be=Ge.routeConfig?Ge.routeConfig.canActivate:null;if(!Be||0===Be.length)return(0,w.of)(!0);const Tt=Be.map(jt=>(0,p.P)(()=>{const Bt=Yr(Ge)??ce,Tn=ls(jt,Bt);return J(function Ir(Ee){return Ee&&Zo(Ee.canActivate)}(Tn)?Tn.canActivate(Ge,Ee):Bt.runInContext(()=>Tn(Ge,Ee))).pipe((0,B.P)())}));return(0,w.of)(Tt).pipe(dr())}(Ee,Tt.route,ce))),(0,B.P)(Tt=>!0!==Tt,!0))}(Be,jt,Ee,Ge):(0,w.of)(Tn)),(0,O.U)(Tn=>({...ce,guardsResult:Tn})))})}(this.environmentInjector,Bt=>this.events.next(Bt)),(0,q.b)(Bt=>{if(Be.guardsResult=Bt.guardsResult,Mn(Bt.guardsResult))throw kr(0,Bt.guardsResult);const Tn=new ar(Bt.id,this.urlSerializer.serialize(Bt.extractedUrl),this.urlSerializer.serialize(Bt.urlAfterRedirects),Bt.targetSnapshot,!!Bt.guardsResult);this.events.next(Tn)}),(0,N.h)(Bt=>!!Bt.guardsResult||(ce.restoreHistory(Bt),this.cancelNavigationTransition(Bt,"",3),!1)),Er(Bt=>{if(Bt.guards.canActivateChecks.length)return(0,w.of)(Bt).pipe((0,q.b)(Tn=>{const zn=new $i(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot);this.events.next(zn)}),(0,x.w)(Tn=>{let zn=!1;return(0,w.of)(Tn).pipe(function lc(Ee,Ge){return(0,C.z)(ce=>{const{targetSnapshot:Be,guards:{canActivateChecks:Tt}}=ce;if(!Tt.length)return(0,w.of)(ce);let jt=0;return(0,b.D)(Tt).pipe((0,Y.b)(Bt=>function Ul(Ee,Ge,ce,Be){const Tt=Ee.routeConfig,jt=Ee._resolve;return void 0!==Tt?.title&&!Qs(Tt)&&(jt[He]=Tt.title),function vl(Ee,Ge,ce,Be){const Tt=function Xo(Ee){return[...Object.keys(Ee),...Object.getOwnPropertySymbols(Ee)]}(Ee);if(0===Tt.length)return(0,w.of)({});const jt={};return(0,b.D)(Tt).pipe((0,C.z)(Bt=>function jl(Ee,Ge,ce,Be){const Tt=Yr(Ge)??Be,jt=ls(Ee,Tt);return J(jt.resolve?jt.resolve(Ge,ce):Tt.runInContext(()=>jt(Ge,ce)))}(Ee[Bt],Ge,ce,Be).pipe((0,B.P)(),(0,q.b)(Tn=>{jt[Bt]=Tn}))),he(1),(0,Re.h)(jt),ae(Bt=>bs(Bt)?U.E:M(Bt)))}(jt,Ee,Ge,Be).pipe((0,O.U)(Bt=>(Ee._resolvedData=Bt,Ee.data=Nr(Ee,ce).resolve,Tt&&Qs(Tt)&&(Ee.data[He]=Tt.title),null)))}(Bt.route,Be,Ee,Ge)),(0,q.b)(()=>jt++),he(1),(0,C.z)(Bt=>jt===Tt.length?(0,w.of)(ce):U.E))})}(ce.paramsInheritanceStrategy,this.environmentInjector),(0,q.b)({next:()=>zn=!0,complete:()=>{zn||(ce.restoreHistory(Tn),this.cancelNavigationTransition(Tn,"",2))}}))}),(0,q.b)(Tn=>{const zn=new Tr(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot);this.events.next(zn)}))}),Er(Bt=>{const Tn=zn=>{const bi=[];zn.routeConfig?.loadComponent&&!zn.routeConfig._loadedComponent&&bi.push(this.configLoader.loadComponent(zn.routeConfig).pipe((0,q.b)(Ti=>{zn.component=Ti}),(0,O.U)(()=>{})));for(const Ti of zn.children)bi.push(...Tn(Ti));return bi};return(0,F.a)(Tn(Bt.targetSnapshot.root)).pipe((0,oe.d)(),(0,P.q)(1))}),Er(()=>this.afterPreactivation()),(0,O.U)(Bt=>{const Tn=function fr(Ee,Ge,ce){const Be=Di(Ee,Ge._root,ce?ce._root:void 0);return new lr(Be,Ge)}(ce.routeReuseStrategy,Bt.targetSnapshot,Bt.currentRouterState);return Be={...Bt,targetRouterState:Tn}}),(0,q.b)(Bt=>{ce.currentUrlTree=Bt.urlAfterRedirects,ce.rawUrlTree=ce.urlHandlingStrategy.merge(Bt.urlAfterRedirects,Bt.rawUrl),ce.routerState=Bt.targetRouterState,"deferred"===ce.urlUpdateStrategy&&(Bt.extras.skipLocationChange||ce.setBrowserUrl(ce.rawUrlTree,Bt),ce.browserUrlTree=Bt.urlAfterRedirects)}),((Ee,Ge,ce,Be)=>(0,O.U)(Tt=>(new jo(Ge,Tt.targetRouterState,Tt.currentRouterState,ce,Be).activate(Ee),Tt)))(this.rootContexts,ce.routeReuseStrategy,Bt=>this.events.next(Bt),this.inputBindingEnabled),(0,P.q)(1),(0,q.b)({next:Bt=>{Tt=!0,this.lastSuccessfulNavigation=this.currentNavigation,ce.navigated=!0,this.events.next(new be(Bt.id,this.urlSerializer.serialize(Bt.extractedUrl),this.urlSerializer.serialize(ce.currentUrlTree))),ce.titleStrategy?.updateTitle(Bt.targetRouterState.snapshot),Bt.resolve(!0)},complete:()=>{Tt=!0}}),(0,Ae.x)(()=>{Tt||jt||this.cancelNavigationTransition(Be,"",1),this.currentNavigation?.id===Be.id&&(this.currentNavigation=null)}),ae(Bt=>{if(jt=!0,Lr(Bt)){Mo(Bt)||(ce.navigated=!0,ce.restoreHistory(Be,!0));const Tn=new yt(Be.id,this.urlSerializer.serialize(Be.extractedUrl),Bt.message,Bt.cancellationCode);if(this.events.next(Tn),Mo(Bt)){const zn=ce.urlHandlingStrategy.merge(Bt.url,ce.rawUrlTree),bi={skipLocationChange:Be.extras.skipLocationChange,replaceUrl:"eager"===ce.urlUpdateStrategy||Xt(Be.source)};ce.scheduleNavigation(zn,Xn,null,bi,{resolve:Be.resolve,reject:Be.reject,promise:Be.promise})}else Be.resolve(!1)}else{ce.restoreHistory(Be,!0);const Tn=new rt(Be.id,this.urlSerializer.serialize(Be.extractedUrl),Bt,Be.targetSnapshot??void 0);this.events.next(Tn);try{Be.resolve(ce.errorHandler(Bt))}catch(zn){Be.reject(zn)}}return U.E}))}))}cancelNavigationTransition(ce,Be,Tt){const jt=new yt(ce.id,this.urlSerializer.serialize(ce.extractedUrl),Be,Tt);this.events.next(jt),ce.resolve(!1)}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();function Xt(Ee){return Ee!==Xn}let An=(()=>{class Ee{buildTitle(ce){let Be,Tt=ce.root;for(;void 0!==Tt;)Be=this.getResolvedTitleForRoute(Tt)??Be,Tt=Tt.children.find(jt=>jt.outlet===we);return Be}getResolvedTitleForRoute(ce){return ce.data[He]}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return(0,c.f3M)(Hn)},providedIn:"root"})}return Ee})(),Hn=(()=>{class Ee extends An{constructor(ce){super(),this.title=ce}updateTitle(ce){const Be=this.buildTitle(ce);void 0!==Be&&this.title.setTitle(Be)}static#e=this.\u0275fac=function(Be){return new(Be||Ee)(c.LFG(ke.Dx))};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})(),si=(()=>{class Ee{static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return(0,c.f3M)(Wi)},providedIn:"root"})}return Ee})();class Ar{shouldDetach(Ge){return!1}store(Ge,ce){}shouldAttach(Ge){return!1}retrieve(Ge){return null}shouldReuseRoute(Ge,ce){return Ge.routeConfig===ce.routeConfig}}let Wi=(()=>{class Ee extends Ar{static#e=this.\u0275fac=function(){let ce;return function(Tt){return(ce||(ce=c.n5z(Ee)))(Tt||Ee)}}();static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();const er=new c.OlP("",{providedIn:"root",factory:()=>({})});let zi=(()=>{class Ee{static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:function(){return(0,c.f3M)(Fr)},providedIn:"root"})}return Ee})(),Fr=(()=>{class Ee{shouldProcessUrl(ce){return!0}extract(ce){return ce}merge(ce,Be){return ce}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();var ir=function(Ee){return Ee[Ee.COMPLETE=0]="COMPLETE",Ee[Ee.FAILED=1]="FAILED",Ee[Ee.REDIRECTING=2]="REDIRECTING",Ee}(ir||{});function yr(Ee,Ge){Ee.events.pipe((0,N.h)(ce=>ce instanceof be||ce instanceof yt||ce instanceof rt||ce instanceof gt),(0,O.U)(ce=>ce instanceof be||ce instanceof gt?ir.COMPLETE:ce instanceof yt&&(0===ce.code||1===ce.code)?ir.REDIRECTING:ir.FAILED),(0,N.h)(ce=>ce!==ir.REDIRECTING),(0,P.q)(1)).subscribe(()=>{Ge()})}function us(Ee){throw Ee}function Si(Ee,Ge,ce){return Ge.parse("/")}const Ns={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Go={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let nr=(()=>{class Ee{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(er,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||us,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Si,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(zi),this.routeReuseStrategy=(0,c.f3M)(si),this.titleStrategy=(0,c.f3M)(An),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(Rs,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(Mt),this.urlSerializer=(0,c.f3M)(bt),this.location=(0,c.f3M)(k.Ye),this.componentInputBindingEnabled=!!(0,c.f3M)(Oi,{optional:!0}),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xe,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=oi(0,null),this.navigationTransitions.setupNavigations(this).subscribe(ce=>{this.lastSuccessfulId=ce.id,this.currentPageId=this.browserPageId??0},ce=>{this.console.warn(`Unhandled Navigation Error: ${ce}`)})}resetRootComponentType(ce){this.routerState.root.component=ce,this.navigationTransitions.rootComponentType=ce}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const ce=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Xn,ce)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(ce=>{const Be="popstate"===ce.type?"popstate":"hashchange";"popstate"===Be&&setTimeout(()=>{this.navigateToSyncWithBrowser(ce.url,Be,ce.state)},0)}))}navigateToSyncWithBrowser(ce,Be,Tt){const jt={replaceUrl:!0},Bt=Tt?.navigationId?Tt:null;if(Tt){const zn={...Tt};delete zn.navigationId,delete zn.\u0275routerPageId,0!==Object.keys(zn).length&&(jt.state=zn)}const Tn=this.parseUrl(ce);this.scheduleNavigation(Tn,Be,Bt,jt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(ce){this.config=ce.map(Cr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(ce,Be={}){const{relativeTo:Tt,queryParams:jt,fragment:Bt,queryParamsHandling:Tn,preserveFragment:zn}=Be,bi=zn?this.currentUrlTree.fragment:Bt;let rr,Ti=null;switch(Tn){case"merge":Ti={...this.currentUrlTree.queryParams,...jt};break;case"preserve":Ti=this.currentUrlTree.queryParams;break;default:Ti=jt||null}null!==Ti&&(Ti=this.removeEmptyProps(Ti));try{rr=Wn(Tt?Tt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof ce[0]||!ce[0].startsWith("/"))&&(ce=[]),rr=this.currentUrlTree.root}return Gn(rr,ce,Ti,bi??null)}navigateByUrl(ce,Be={skipLocationChange:!1}){const Tt=Mn(ce)?ce:this.parseUrl(ce),jt=this.urlHandlingStrategy.merge(Tt,this.rawUrlTree);return this.scheduleNavigation(jt,Xn,null,Be)}navigate(ce,Be={skipLocationChange:!1}){return function Ho(Ee){for(let Ge=0;Ge<Ee.length;Ge++)if(null==Ee[Ge])throw new c.vHH(4008,!1)}(ce),this.navigateByUrl(this.createUrlTree(ce,Be),Be)}serializeUrl(ce){return this.urlSerializer.serialize(ce)}parseUrl(ce){let Be;try{Be=this.urlSerializer.parse(ce)}catch(Tt){Be=this.malformedUriErrorHandler(Tt,this.urlSerializer,ce)}return Be}isActive(ce,Be){let Tt;if(Tt=!0===Be?{...Ns}:!1===Be?{...Go}:Be,Mn(ce))return ne(this.currentUrlTree,ce,Tt);const jt=this.parseUrl(ce);return ne(this.currentUrlTree,jt,Tt)}removeEmptyProps(ce){return Object.keys(ce).reduce((Be,Tt)=>{const jt=ce[Tt];return null!=jt&&(Be[Tt]=jt),Be},{})}scheduleNavigation(ce,Be,Tt,jt,Bt){if(this.disposed)return Promise.resolve(!1);let Tn,zn,bi;Bt?(Tn=Bt.resolve,zn=Bt.reject,bi=Bt.promise):bi=new Promise((rr,ho)=>{Tn=rr,zn=ho});const Ti=this.pendingTasks.add();return yr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ti))}),this.navigationTransitions.handleNavigationRequest({source:Be,restoredState:Tt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:ce,extras:jt,resolve:Tn,reject:zn,promise:bi,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),bi.catch(rr=>Promise.reject(rr))}setBrowserUrl(ce,Be){const Tt=this.urlSerializer.serialize(ce);if(this.location.isCurrentPathEqualTo(Tt)||Be.extras.replaceUrl){const Bt={...Be.extras.state,...this.generateNgRouterState(Be.id,this.browserPageId)};this.location.replaceState(Tt,"",Bt)}else{const jt={...Be.extras.state,...this.generateNgRouterState(Be.id,(this.browserPageId??0)+1)};this.location.go(Tt,"",jt)}}restoreHistory(ce,Be=!1){if("computed"===this.canceledNavigationResolution){const jt=this.currentPageId-(this.browserPageId??this.currentPageId);0!==jt?this.location.historyGo(jt):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===jt&&(this.resetState(ce),this.browserUrlTree=ce.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Be&&this.resetState(ce),this.resetUrlToCurrentUrlTree())}resetState(ce){this.routerState=ce.currentRouterState,this.currentUrlTree=ce.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,ce.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(ce,Be){return"computed"===this.canceledNavigationResolution?{navigationId:ce,\u0275routerPageId:Be}:{navigationId:ce}}static#e=this.\u0275fac=function(Be){return new(Be||Ee)};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})(),es=(()=>{class Ee{constructor(ce,Be,Tt,jt,Bt,Tn){this.router=ce,this.route=Be,this.tabIndexAttribute=Tt,this.renderer=jt,this.el=Bt,this.locationStrategy=Tn,this.href=null,this.commands=null,this.onChanges=new V.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const zn=Bt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===zn||"area"===zn,this.isAnchorElement?this.subscription=ce.events.subscribe(bi=>{bi instanceof be&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(ce){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",ce)}ngOnChanges(ce){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(ce){null!=ce?(this.commands=Array.isArray(ce)?ce:[ce],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(ce,Be,Tt,jt,Bt){return!!(null===this.urlTree||this.isAnchorElement&&(0!==ce||Be||Tt||jt||Bt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const ce=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",ce)}applyAttributeValue(ce,Be){const Tt=this.renderer,jt=this.el.nativeElement;null!==Be?Tt.setAttribute(jt,ce,Be):Tt.removeAttribute(jt,ce)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(Be){return new(Be||Ee)(c.Y36(nr),c.Y36(qi),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(k.S$))};static#t=this.\u0275dir=c.lG2({type:Ee,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Be,Tt){1&Be&&c.NdJ("click",function(Bt){return Tt.onClick(Bt.button,Bt.ctrlKey,Bt.shiftKey,Bt.altKey,Bt.metaKey)}),2&Be&&c.uIk("target",Tt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",c.VuI],replaceUrl:["replaceUrl","replaceUrl",c.VuI],routerLink:"routerLink"},standalone:!0,features:[c.Xq5,c.TTD]})}return Ee})();class za{}let cd=(()=>{class Ee{constructor(ce,Be,Tt,jt,Bt){this.router=ce,this.injector=Tt,this.preloadingStrategy=jt,this.loader=Bt}setUpPreloading(){this.subscription=this.router.events.pipe((0,N.h)(ce=>ce instanceof be),(0,Y.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(ce,Be){const Tt=[];for(const jt of Be){jt.providers&&!jt._injector&&(jt._injector=(0,c.MMx)(jt.providers,ce,`Route: ${jt.path}`));const Bt=jt._injector??ce,Tn=jt._loadedInjector??Bt;(jt.loadChildren&&!jt._loadedRoutes&&void 0===jt.canLoad||jt.loadComponent&&!jt._loadedComponent)&&Tt.push(this.preloadConfig(Bt,jt)),(jt.children||jt._loadedRoutes)&&Tt.push(this.processRoutes(Tn,jt.children??jt._loadedRoutes))}return(0,b.D)(Tt).pipe((0,Ue.J)())}preloadConfig(ce,Be){return this.preloadingStrategy.preload(Be,()=>{let Tt;Tt=Be.loadChildren&&void 0===Be.canLoad?this.loader.loadChildren(ce,Be):(0,w.of)(null);const jt=Tt.pipe((0,C.z)(Bt=>null===Bt?(0,w.of)(void 0):(Be._loadedRoutes=Bt.routes,Be._loadedInjector=Bt.injector,this.processRoutes(Bt.injector??ce,Bt.routes))));if(Be.loadComponent&&!Be._loadedComponent){const Bt=this.loader.loadComponent(Be);return(0,b.D)([jt,Bt]).pipe((0,Ue.J)())}return jt})}static#e=this.\u0275fac=function(Be){return new(Be||Ee)(c.LFG(nr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(za),c.LFG(Ie))};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})();const Vl=new c.OlP("");let $n=(()=>{class Ee{constructor(ce,Be,Tt,jt,Bt={}){this.urlSerializer=ce,this.transitions=Be,this.viewportScroller=Tt,this.zone=jt,this.options=Bt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Bt.scrollPositionRestoration=Bt.scrollPositionRestoration||"disabled",Bt.anchorScrolling=Bt.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(ce=>{ce instanceof un?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=ce.navigationTrigger,this.restoredId=ce.restoredState?ce.restoredState.navigationId:0):ce instanceof be?(this.lastId=ce.id,this.scheduleScrollEvent(ce,this.urlSerializer.parse(ce.urlAfterRedirects).fragment)):ce instanceof gt&&0===ce.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(ce,this.urlSerializer.parse(ce.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(ce=>{ce instanceof gr&&(ce.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(ce.position):ce.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(ce.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(ce,Be){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new gr(ce,"popstate"===this.lastSource?this.store[this.restoredId]:null,Be))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Be){c.$Z()};static#t=this.\u0275prov=c.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();function fs(Ee,Ge){return{\u0275kind:Ee,\u0275providers:Ge}}function dc(){const Ee=(0,c.f3M)(c.zs3);return Ge=>{const ce=Ee.get(c.z2F);if(Ge!==ce.components[0])return;const Be=Ee.get(nr),Tt=Ee.get(Zr);1===Ee.get(Oa)&&Be.initialNavigation(),Ee.get(Ss,null,c.XFs.Optional)?.setUpPreloading(),Ee.get(Vl,null,c.XFs.Optional)?.init(),Be.resetRootComponentType(ce.componentTypes[0]),Tt.closed||(Tt.next(),Tt.complete(),Tt.unsubscribe())}}const Zr=new c.OlP("",{factory:()=>new V.x}),Oa=new c.OlP("",{providedIn:"root",factory:()=>1}),Ss=new c.OlP("");function ua(Ee){return fs(0,[{provide:Ss,useExisting:cd},{provide:za,useExisting:Ee}])}const Na=new c.OlP("ROUTER_FORROOT_GUARD"),yl=[k.Ye,{provide:bt,useClass:Ut},nr,_r,{provide:qi,useFactory:function da(Ee){return Ee.routerState.root},deps:[nr]},Ie,[]];function La(){return new c.PXZ("Router",nr)}let hc=(()=>{class Ee{constructor(ce){}static forRoot(ce,Be){return{ngModule:Ee,providers:[yl,[],{provide:Rs,multi:!0,useValue:ce},{provide:Na,useFactory:$a,deps:[[nr,new c.FiY,new c.tp0]]},{provide:er,useValue:Be||{}},Be?.useHash?{provide:k.S$,useClass:k.Do}:{provide:k.S$,useClass:k.b0},{provide:Vl,useFactory:()=>{const Ee=(0,c.f3M)(k.EM),Ge=(0,c.f3M)(c.R0b),ce=(0,c.f3M)(er),Be=(0,c.f3M)(Mt),Tt=(0,c.f3M)(bt);return ce.scrollOffset&&Ee.setOffset(ce.scrollOffset),new $n(Tt,Be,Ee,Ge,ce)}},Be?.preloadingStrategy?ua(Be.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:La},Be?.initialNavigation?mc(Be):[],Be?.bindToComponentInputs?fs(8,[wi,{provide:Oi,useExisting:wi}]).\u0275providers:[],[{provide:bl,useFactory:dc},{provide:c.tb,multi:!0,useExisting:bl}]]}}static forChild(ce){return{ngModule:Ee,providers:[{provide:Rs,multi:!0,useValue:ce}]}}static#e=this.\u0275fac=function(Be){return new(Be||Ee)(c.LFG(Na,8))};static#t=this.\u0275mod=c.oAB({type:Ee});static#n=this.\u0275inj=c.cJS({})}return Ee})();function $a(Ee){return"guarded"}function mc(Ee){return["disabled"===Ee.initialNavigation?fs(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const Ge=(0,c.f3M)(nr);return()=>{Ge.setUpLocationChangeListener()}}},{provide:Oa,useValue:2}]).\u0275providers:[],"enabledBlocking"===Ee.initialNavigation?fs(2,[{provide:Oa,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:Ge=>{const ce=Ge.get(k.V_,Promise.resolve());return()=>ce.then(()=>new Promise(Be=>{const Tt=Ge.get(nr),jt=Ge.get(Zr);yr(Tt,()=>{Be(!0)}),Ge.get(Mt).afterPreactivation=()=>(Be(!0),jt.closed?(0,w.of)(void 0):jt),Tt.initialNavigation()}))}}]).\u0275providers:[]]}const bl=new c.OlP("")},3106:(Bn,tt,S)=>{"use strict";S.d(tt,{Z:()=>R});var c=S(9058),t=S(4537),b=S(534),w=S(7879);class E{constructor(k,O){this._delegate=k,this.firebase=O,(0,b._addComponent)(k,new t.wA("app-compat",()=>this,"PUBLIC")),this.container=k.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(k){this._delegate.automaticDataCollectionEnabled=k}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(k=>{this._delegate.checkDestroyed(),k()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,b.deleteApp)(this._delegate)))}_getService(k,O=b._DEFAULT_ENTRY_NAME){var x;this._delegate.checkDestroyed();const P=this._delegate.container.getProvider(k);return!P.isInitialized()&&"EXPLICIT"===(null===(x=P.getComponent())||void 0===x?void 0:x.instantiationMode)&&P.initialize(),P.getImmediate({identifier:O})}_removeServiceInstance(k,O=b._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(k).clearInstance(O)}_addComponent(k){(0,b._addComponent)(this._delegate,k)}_addOrOverwriteComponent(k){(0,b._addOrOverwriteComponent)(this._delegate,k)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const L=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),f=function p(){const V=function D(V){const k={},O={__esModule:!0,initializeApp:function T(Y,q={}){const le=b.initializeApp(Y,q);if((0,c.r3)(k,le.name))return k[le.name];const Fe=new V(le,O);return k[le.name]=Fe,Fe},app:P,registerVersion:b.registerVersion,setLogLevel:b.setLogLevel,onLog:b.onLog,apps:null,SDK_VERSION:b.SDK_VERSION,INTERNAL:{registerComponent:function C(Y){const q=Y.name,le=q.replace("-compat","");if(b._registerComponent(Y)&&"PUBLIC"===Y.type){const Fe=($=P())=>{if("function"!=typeof $[le])throw L.create("invalid-app-argument",{appName:q});return $[le]()};void 0!==Y.serviceProps&&(0,c.ZB)(Fe,Y.serviceProps),O[le]=Fe,V.prototype[le]=function(...$){return this._getService.bind(this,q).apply(this,Y.multipleInstances?$:[])}}return"PUBLIC"===Y.type?O[le]:null},removeApp:function x(Y){delete k[Y]},useAsService:function B(Y,q){return"serverAuth"===q?null:q},modularAPIs:b}};function P(Y){if(!(0,c.r3)(k,Y=Y||b._DEFAULT_ENTRY_NAME))throw L.create("no-app",{appName:Y});return k[Y]}return O.default=O,Object.defineProperty(O,"apps",{get:function N(){return Object.keys(k).map(Y=>k[Y])}}),P.App=V,O}(E);return V.INTERNAL=Object.assign(Object.assign({},V.INTERNAL),{createFirebaseNamespace:p,extendNamespace:function k(O){(0,c.ZB)(V,O)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),V}(),g=new w.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){g.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const V=self.firebase.SDK_VERSION;V&&V.indexOf("LITE")>=0&&g.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const R=f;!function U(V){(0,b.registerVersion)("@firebase/app-compat","0.2.13",V)}()},534:(Bn,tt,S)=>{"use strict";S.r(tt),S.d(tt,{FirebaseError:()=>w.ZR,SDK_VERSION:()=>en,_DEFAULT_ENTRY_NAME:()=>ue,_addComponent:()=>Ke,_addOrOverwriteComponent:()=>Ve,_apps:()=>de,_clearComponents:()=>bt,_components:()=>xe,_getProvider:()=>dt,_registerComponent:()=>lt,_removeServiceInstance:()=>it,deleteApp:()=>Sn,getApp:()=>cn,getApps:()=>Wt,initializeApp:()=>ln,onLog:()=>mt,registerVersion:()=>Dt,setLogLevel:()=>Qe});var c=S(5861),t=S(4537),b=S(7879),w=S(9058);const E=(_n,pn)=>pn.some(St=>_n instanceof St);let F,L;const f=new WeakMap,g=new WeakMap,y=new WeakMap,M=new WeakMap,U=new WeakMap;let k={get(_n,pn,St){if(_n instanceof IDBTransaction){if("done"===pn)return g.get(_n);if("objectStoreNames"===pn)return _n.objectStoreNames||y.get(_n);if("store"===pn)return St.objectStoreNames[1]?void 0:St.objectStore(St.objectStoreNames[0])}return T(_n[pn])},set:(_n,pn,St)=>(_n[pn]=St,!0),has:(_n,pn)=>_n instanceof IDBTransaction&&("done"===pn||"store"===pn)||pn in _n};function P(_n){return"function"==typeof _n?function x(_n){return _n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function p(){return L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_n)?function(...pn){return _n.apply(N(this),pn),T(f.get(this))}:function(...pn){return T(_n.apply(N(this),pn))}:function(pn,...St){const ft=_n.call(N(this),pn,...St);return y.set(ft,pn.sort?pn.sort():[pn]),T(ft)}}(_n):(_n instanceof IDBTransaction&&function V(_n){if(g.has(_n))return;const pn=new Promise((St,ft)=>{const tn=()=>{_n.removeEventListener("complete",ze),_n.removeEventListener("error",Xe),_n.removeEventListener("abort",Xe)},ze=()=>{St(),tn()},Xe=()=>{ft(_n.error||new DOMException("AbortError","AbortError")),tn()};_n.addEventListener("complete",ze),_n.addEventListener("error",Xe),_n.addEventListener("abort",Xe)});g.set(_n,pn)}(_n),E(_n,function D(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_n,k):_n)}function T(_n){if(_n instanceof IDBRequest)return function R(_n){const pn=new Promise((St,ft)=>{const tn=()=>{_n.removeEventListener("success",ze),_n.removeEventListener("error",Xe)},ze=()=>{St(T(_n.result)),tn()},Xe=()=>{ft(_n.error),tn()};_n.addEventListener("success",ze),_n.addEventListener("error",Xe)});return pn.then(St=>{St instanceof IDBCursor&&f.set(St,_n)}).catch(()=>{}),U.set(pn,_n),pn}(_n);if(M.has(_n))return M.get(_n);const pn=P(_n);return pn!==_n&&(M.set(_n,pn),U.set(pn,_n)),pn}const N=_n=>U.get(_n),Y=["get","getKey","getAll","getAllKeys","count"],q=["put","add","delete","clear"],le=new Map;function Fe(_n,pn){if(!(_n instanceof IDBDatabase)||pn in _n||"string"!=typeof pn)return;if(le.get(pn))return le.get(pn);const St=pn.replace(/FromIndex$/,""),ft=pn!==St,tn=q.includes(St);if(!(St in(ft?IDBIndex:IDBObjectStore).prototype)||!tn&&!Y.includes(St))return;const ze=function(){var Xe=(0,c.Z)(function*(Pt,...Qt){const wn=this.transaction(Pt,tn?"readwrite":"readonly");let Fn=wn.store;return ft&&(Fn=Fn.index(Qt.shift())),(yield Promise.all([Fn[St](...Qt),tn&&wn.done]))[0]});return function(Qt){return Xe.apply(this,arguments)}}();return le.set(pn,ze),ze}!function O(_n){k=_n(k)}(_n=>({..._n,get:(pn,St,ft)=>Fe(pn,St)||_n.get(pn,St,ft),has:(pn,St)=>!!Fe(pn,St)||_n.has(pn,St)}));class ${constructor(pn){this.container=pn}getPlatformInfoString(){return this.container.getProviders().map(St=>{if(function ae(_n){const pn=_n.getComponent();return"VERSION"===pn?.type}(St)){const ft=St.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(St=>St).join(" ")}}const K="@firebase/app",oe=new b.Yd("@firebase/app"),ue="[DEFAULT]",ve={[K]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},de=new Map,xe=new Map;function Ke(_n,pn){try{_n.container.addComponent(pn)}catch(St){oe.debug(`Component ${pn.name} failed to register with FirebaseApp ${_n.name}`,St)}}function Ve(_n,pn){_n.container.addOrOverwriteComponent(pn)}function lt(_n){const pn=_n.name;if(xe.has(pn))return oe.debug(`There were multiple attempts to register component ${pn}.`),!1;xe.set(pn,_n);for(const St of de.values())Ke(St,_n);return!0}function dt(_n,pn){const St=_n.container.getProvider("heartbeat").getImmediate({optional:!0});return St&&St.triggerHeartbeat(),_n.container.getProvider(pn)}function it(_n,pn,St=ue){dt(_n,pn).clearInstance(St)}function bt(){xe.clear()}const wt=new w.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ht{constructor(pn,St,ft){this._isDeleted=!1,this._options=Object.assign({},pn),this._config=Object.assign({},St),this._name=St.name,this._automaticDataCollectionEnabled=St.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new t.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pn){this.checkDestroyed(),this._automaticDataCollectionEnabled=pn}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pn){this._isDeleted=pn}checkDestroyed(){if(this.isDeleted)throw wt.create("app-deleted",{appName:this._name})}}const en="9.23.0";function ln(_n,pn={}){let St=_n;"object"!=typeof pn&&(pn={name:pn});const ft=Object.assign({name:ue,automaticDataCollectionEnabled:!1},pn),tn=ft.name;if("string"!=typeof tn||!tn)throw wt.create("bad-app-name",{appName:String(tn)});if(St||(St=(0,w.aH)()),!St)throw wt.create("no-options");const ze=de.get(tn);if(ze){if((0,w.vZ)(St,ze.options)&&(0,w.vZ)(ft,ze.config))return ze;throw wt.create("duplicate-app",{appName:tn})}const Xe=new t.H0(tn);for(const Qt of xe.values())Xe.addComponent(Qt);const Pt=new Ht(St,ft,Xe);return de.set(tn,Pt),Pt}function cn(_n=ue){const pn=de.get(_n);if(!pn&&_n===ue&&(0,w.aH)())return ln();if(!pn)throw wt.create("no-app",{appName:_n});return pn}function Wt(){return Array.from(de.values())}function Sn(_n){return nn.apply(this,arguments)}function nn(){return(nn=(0,c.Z)(function*(_n){const pn=_n.name;de.has(pn)&&(de.delete(pn),yield Promise.all(_n.container.getProviders().map(St=>St.delete())),_n.isDeleted=!0)})).apply(this,arguments)}function Dt(_n,pn,St){var ft;let tn=null!==(ft=ve[_n])&&void 0!==ft?ft:_n;St&&(tn+=`-${St}`);const ze=tn.match(/\s|\//),Xe=pn.match(/\s|\//);if(ze||Xe){const Pt=[`Unable to register library "${tn}" with version "${pn}":`];return ze&&Pt.push(`library name "${tn}" contains illegal characters (whitespace or "/")`),ze&&Xe&&Pt.push("and"),Xe&&Pt.push(`version name "${pn}" contains illegal characters (whitespace or "/")`),void oe.warn(Pt.join(" "))}lt(new t.wA(`${tn}-version`,()=>({library:tn,version:pn}),"VERSION"))}function mt(_n,pn){if(null!==_n&&"function"!=typeof _n)throw wt.create("invalid-log-argument");(0,b.Am)(_n,pn)}function Qe(_n){(0,b.Ub)(_n)}const De="firebase-heartbeat-database",Pe=1,Ye="firebase-heartbeat-store";let Ze=null;function ct(){return Ze||(Ze=function C(_n,pn,{blocked:St,upgrade:ft,blocking:tn,terminated:ze}={}){const Xe=indexedDB.open(_n,pn),Pt=T(Xe);return ft&&Xe.addEventListener("upgradeneeded",Qt=>{ft(T(Xe.result),Qt.oldVersion,Qt.newVersion,T(Xe.transaction),Qt)}),St&&Xe.addEventListener("blocked",Qt=>St(Qt.oldVersion,Qt.newVersion,Qt)),Pt.then(Qt=>{ze&&Qt.addEventListener("close",()=>ze()),tn&&Qt.addEventListener("versionchange",wn=>tn(wn.oldVersion,wn.newVersion,wn))}).catch(()=>{}),Pt}(De,Pe,{upgrade:(_n,pn)=>{0===pn&&_n.createObjectStore(Ye)}}).catch(_n=>{throw wt.create("idb-open",{originalErrorMessage:_n.message})})),Ze}function ut(){return(ut=(0,c.Z)(function*(_n){try{return yield(yield ct()).transaction(Ye).objectStore(Ye).get(Lt(_n))}catch(pn){if(pn instanceof w.ZR)oe.warn(pn.message);else{const St=wt.create("idb-get",{originalErrorMessage:pn?.message});oe.warn(St.message)}}})).apply(this,arguments)}function kt(_n,pn){return $t.apply(this,arguments)}function $t(){return($t=(0,c.Z)(function*(_n,pn){try{const ft=(yield ct()).transaction(Ye,"readwrite");yield ft.objectStore(Ye).put(pn,Lt(_n)),yield ft.done}catch(St){if(St instanceof w.ZR)oe.warn(St.message);else{const ft=wt.create("idb-set",{originalErrorMessage:St?.message});oe.warn(ft.message)}}})).apply(this,arguments)}function Lt(_n){return`${_n.name}!${_n.options.appId}`}class fn{constructor(pn){this.container=pn,this._heartbeatsCache=null;const St=this.container.getProvider("app").getImmediate();this._storage=new Wn(St),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var pn=this;return(0,c.Z)(function*(){const ft=pn.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),tn=Mn();if(null===pn._heartbeatsCache&&(pn._heartbeatsCache=yield pn._heartbeatsCachePromise),pn._heartbeatsCache.lastSentHeartbeatDate!==tn&&!pn._heartbeatsCache.heartbeats.some(ze=>ze.date===tn))return pn._heartbeatsCache.heartbeats.push({date:tn,agent:ft}),pn._heartbeatsCache.heartbeats=pn._heartbeatsCache.heartbeats.filter(ze=>{const Xe=new Date(ze.date).valueOf();return Date.now()-Xe<=2592e6}),pn._storage.overwrite(pn._heartbeatsCache)})()}getHeartbeatsHeader(){var pn=this;return(0,c.Z)(function*(){if(null===pn._heartbeatsCache&&(yield pn._heartbeatsCachePromise),null===pn._heartbeatsCache||0===pn._heartbeatsCache.heartbeats.length)return"";const St=Mn(),{heartbeatsToSend:ft,unsentEntries:tn}=function Nn(_n,pn=1024){const St=[];let ft=_n.slice();for(const tn of _n){const ze=St.find(Xe=>Xe.agent===tn.agent);if(ze){if(ze.dates.push(tn.date),Gn(St)>pn){ze.dates.pop();break}}else if(St.push({agent:tn.agent,dates:[tn.date]}),Gn(St)>pn){St.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:St,unsentEntries:ft}}(pn._heartbeatsCache.heartbeats),ze=(0,w.L)(JSON.stringify({version:2,heartbeats:ft}));return pn._heartbeatsCache.lastSentHeartbeatDate=St,tn.length>0?(pn._heartbeatsCache.heartbeats=tn,yield pn._storage.overwrite(pn._heartbeatsCache)):(pn._heartbeatsCache.heartbeats=[],pn._storage.overwrite(pn._heartbeatsCache)),ze})()}}function Mn(){return(new Date).toISOString().substring(0,10)}class Wn{constructor(pn){this.app=pn,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,w.hl)()&&(0,w.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pn=this;return(0,c.Z)(function*(){return(yield pn._canUseIndexedDBPromise)&&(yield function st(_n){return ut.apply(this,arguments)}(pn.app))||{heartbeats:[]}})()}overwrite(pn){var St=this;return(0,c.Z)(function*(){var ft;if(yield St._canUseIndexedDBPromise){const ze=yield St.read();return kt(St.app,{lastSentHeartbeatDate:null!==(ft=pn.lastSentHeartbeatDate)&&void 0!==ft?ft:ze.lastSentHeartbeatDate,heartbeats:pn.heartbeats})}})()}add(pn){var St=this;return(0,c.Z)(function*(){var ft;if(yield St._canUseIndexedDBPromise){const ze=yield St.read();return kt(St.app,{lastSentHeartbeatDate:null!==(ft=pn.lastSentHeartbeatDate)&&void 0!==ft?ft:ze.lastSentHeartbeatDate,heartbeats:[...ze.heartbeats,...pn.heartbeats]})}})()}}function Gn(_n){return(0,w.L)(JSON.stringify({version:2,heartbeats:_n})).length}!function fi(_n){lt(new t.wA("platform-logger",pn=>new $(pn),"PRIVATE")),lt(new t.wA("heartbeat",pn=>new fn(pn),"PRIVATE")),Dt(K,"0.9.13",_n),Dt(K,"0.9.13","esm2017"),Dt("fire-js","")}("")},4537:(Bn,tt,S)=>{"use strict";S.d(tt,{H0:()=>D,wA:()=>b});var c=S(5861),t=S(9058);class b{constructor(f,g,y){this.name=f,this.instanceFactory=g,this.type=y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(f){return this.instantiationMode=f,this}setMultipleInstances(f){return this.multipleInstances=f,this}setServiceProps(f){return this.serviceProps=f,this}setInstanceCreatedCallback(f){return this.onInstanceCreated=f,this}}const w="[DEFAULT]";class E{constructor(f,g){this.name=f,this.container=g,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(f){const g=this.normalizeInstanceIdentifier(f);if(!this.instancesDeferred.has(g)){const y=new t.BH;if(this.instancesDeferred.set(g,y),this.isInitialized(g)||this.shouldAutoInitialize())try{const M=this.getOrInitializeService({instanceIdentifier:g});M&&y.resolve(M)}catch{}}return this.instancesDeferred.get(g).promise}getImmediate(f){var g;const y=this.normalizeInstanceIdentifier(f?.identifier),M=null!==(g=f?.optional)&&void 0!==g&&g;if(!this.isInitialized(y)&&!this.shouldAutoInitialize()){if(M)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:y})}catch(U){if(M)return null;throw U}}getComponent(){return this.component}setComponent(f){if(f.name!==this.name)throw Error(`Mismatching Component ${f.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=f,this.shouldAutoInitialize()){if(function L(p){return"EAGER"===p.instantiationMode}(f))try{this.getOrInitializeService({instanceIdentifier:w})}catch{}for(const[g,y]of this.instancesDeferred.entries()){const M=this.normalizeInstanceIdentifier(g);try{const U=this.getOrInitializeService({instanceIdentifier:M});y.resolve(U)}catch{}}}}clearInstance(f=w){this.instancesDeferred.delete(f),this.instancesOptions.delete(f),this.instances.delete(f)}delete(){var f=this;return(0,c.Z)(function*(){const g=Array.from(f.instances.values());yield Promise.all([...g.filter(y=>"INTERNAL"in y).map(y=>y.INTERNAL.delete()),...g.filter(y=>"_delete"in y).map(y=>y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(f=w){return this.instances.has(f)}getOptions(f=w){return this.instancesOptions.get(f)||{}}initialize(f={}){const{options:g={}}=f,y=this.normalizeInstanceIdentifier(f.instanceIdentifier);if(this.isInitialized(y))throw Error(`${this.name}(${y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const M=this.getOrInitializeService({instanceIdentifier:y,options:g});for(const[U,R]of this.instancesDeferred.entries())y===this.normalizeInstanceIdentifier(U)&&R.resolve(M);return M}onInit(f,g){var y;const M=this.normalizeInstanceIdentifier(g),U=null!==(y=this.onInitCallbacks.get(M))&&void 0!==y?y:new Set;U.add(f),this.onInitCallbacks.set(M,U);const R=this.instances.get(M);return R&&f(R,M),()=>{U.delete(f)}}invokeOnInitCallbacks(f,g){const y=this.onInitCallbacks.get(g);if(y)for(const M of y)try{M(f,g)}catch{}}getOrInitializeService({instanceIdentifier:f,options:g={}}){let y=this.instances.get(f);if(!y&&this.component&&(y=this.component.instanceFactory(this.container,{instanceIdentifier:(p=f,p===w?void 0:p),options:g}),this.instances.set(f,y),this.instancesOptions.set(f,g),this.invokeOnInitCallbacks(y,f),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,f,y)}catch{}var p;return y||null}normalizeInstanceIdentifier(f=w){return this.component?this.component.multipleInstances?f:w:f}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class D{constructor(f){this.name=f,this.providers=new Map}addComponent(f){const g=this.getProvider(f.name);if(g.isComponentSet())throw new Error(`Component ${f.name} has already been registered with ${this.name}`);g.setComponent(f)}addOrOverwriteComponent(f){this.getProvider(f.name).isComponentSet()&&this.providers.delete(f.name),this.addComponent(f)}getProvider(f){if(this.providers.has(f))return this.providers.get(f);const g=new E(f,this);return this.providers.set(f,g),g}getProviders(){return Array.from(this.providers.values())}}},7879:(Bn,tt,S)=>{"use strict";S.d(tt,{Am:()=>p,Ub:()=>D,Yd:()=>L,in:()=>t});const c=[];var t=function(f){return f[f.DEBUG=0]="DEBUG",f[f.VERBOSE=1]="VERBOSE",f[f.INFO=2]="INFO",f[f.WARN=3]="WARN",f[f.ERROR=4]="ERROR",f[f.SILENT=5]="SILENT",f}(t||{});const b={debug:t.DEBUG,verbose:t.VERBOSE,info:t.INFO,warn:t.WARN,error:t.ERROR,silent:t.SILENT},w=t.INFO,E={[t.DEBUG]:"log",[t.VERBOSE]:"log",[t.INFO]:"info",[t.WARN]:"warn",[t.ERROR]:"error"},F=(f,g,...y)=>{if(g<f.logLevel)return;const M=(new Date).toISOString(),U=E[g];if(!U)throw new Error(`Attempted to log a message with an invalid logType (value: ${g})`);console[U](`[${M}]  ${f.name}:`,...y)};class L{constructor(g){this.name=g,this._logLevel=w,this._logHandler=F,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(g){if(!(g in t))throw new TypeError(`Invalid value "${g}" assigned to \`logLevel\``);this._logLevel=g}setLogLevel(g){this._logLevel="string"==typeof g?b[g]:g}get logHandler(){return this._logHandler}set logHandler(g){if("function"!=typeof g)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=g}get userLogHandler(){return this._userLogHandler}set userLogHandler(g){this._userLogHandler=g}debug(...g){this._userLogHandler&&this._userLogHandler(this,t.DEBUG,...g),this._logHandler(this,t.DEBUG,...g)}log(...g){this._userLogHandler&&this._userLogHandler(this,t.VERBOSE,...g),this._logHandler(this,t.VERBOSE,...g)}info(...g){this._userLogHandler&&this._userLogHandler(this,t.INFO,...g),this._logHandler(this,t.INFO,...g)}warn(...g){this._userLogHandler&&this._userLogHandler(this,t.WARN,...g),this._logHandler(this,t.WARN,...g)}error(...g){this._userLogHandler&&this._userLogHandler(this,t.ERROR,...g),this._logHandler(this,t.ERROR,...g)}}function D(f){c.forEach(g=>{g.setLogLevel(f)})}function p(f,g){for(const y of c){let M=null;g&&g.level&&(M=b[g.level]),y.userLogHandler=null===f?null:(U,R,...V)=>{const k=V.map(O=>{if(null==O)return null;if("string"==typeof O)return O;if("number"==typeof O||"boolean"==typeof O)return O.toString();if(O instanceof Error)return O.message;try{return JSON.stringify(O)}catch{return null}}).filter(O=>O).join(" ");R>=(M??U.logLevel)&&f({level:t[R].toLowerCase(),message:k,args:V,type:U.name})}}}},3182:(Bn,tt,S)=>{"use strict";S.d(tt,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=S(534);(0,c.registerVersion)("firebase","9.23.0","app")},7142:(Bn,tt,S)=>{"use strict";S.d(tt,{Z:()=>c.Z});var c=S(3106);c.Z.registerVersion("firebase","9.23.0","app-compat")},5861:(Bn,tt,S)=>{"use strict";function c(b,w,E,F,L,D,p){try{var f=b[D](p),g=f.value}catch(y){return void E(y)}f.done?w(g):Promise.resolve(g).then(F,L)}function t(b){return function(){var w=this,E=arguments;return new Promise(function(F,L){var D=b.apply(w,E);function p(g){c(D,F,L,p,f,"next",g)}function f(g){c(D,F,L,p,f,"throw",g)}p(void 0)})}}S.d(tt,{Z:()=>t})},7582:(Bn,tt,S)=>{"use strict";function w(oe,he){var Ce={};for(var Le in oe)Object.prototype.hasOwnProperty.call(oe,Le)&&he.indexOf(Le)<0&&(Ce[Le]=oe[Le]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var fe=0;for(Le=Object.getOwnPropertySymbols(oe);fe<Le.length;fe++)he.indexOf(Le[fe])<0&&Object.prototype.propertyIsEnumerable.call(oe,Le[fe])&&(Ce[Le[fe]]=oe[Le[fe]])}return Ce}function y(oe,he,Ce,Le){return new(Ce||(Ce=Promise))(function(Re,Ae){function pe(we){try{ke(Le.next(we))}catch(He){Ae(He)}}function Ue(we){try{ke(Le.throw(we))}catch(He){Ae(He)}}function ke(we){we.done?Re(we.value):function fe(Re){return Re instanceof Ce?Re:new Ce(function(Ae){Ae(Re)})}(we.value).then(pe,Ue)}ke((Le=Le.apply(oe,he||[])).next())})}function T(oe){return this instanceof T?(this.v=oe,this):new T(oe)}function N(oe,he,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,Le=Ce.apply(oe,he||[]),Re=[];return fe={},Ae("next"),Ae("throw"),Ae("return"),fe[Symbol.asyncIterator]=function(){return this},fe;function Ae(at){Le[at]&&(fe[at]=function(Je){return new Promise(function(Ne,Te){Re.push([at,Je,Ne,Te])>1||pe(at,Je)})})}function pe(at,Je){try{!function Ue(at){at.value instanceof T?Promise.resolve(at.value.v).then(ke,we):He(Re[0][2],at)}(Le[at](Je))}catch(Ne){He(Re[0][3],Ne)}}function ke(at){pe("next",at)}function we(at){pe("throw",at)}function He(at,Je){at(Je),Re.shift(),Re.length&&pe(Re[0][0],Re[0][1])}}function B(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,he=oe[Symbol.asyncIterator];return he?he.call(oe):(oe=function V(oe){var he="function"==typeof Symbol&&Symbol.iterator,Ce=he&&oe[he],Le=0;if(Ce)return Ce.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&Le>=oe.length&&(oe=void 0),{value:oe&&oe[Le++],done:!oe}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),Ce={},Le("next"),Le("throw"),Le("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function Le(Re){Ce[Re]=oe[Re]&&function(Ae){return new Promise(function(pe,Ue){!function fe(Re,Ae,pe,Ue){Promise.resolve(Ue).then(function(ke){Re({value:ke,done:pe})},Ae)}(pe,Ue,(Ae=oe[Re](Ae)).done,Ae.value)})}}}S.d(tt,{FC:()=>N,KL:()=>B,_T:()=>w,mG:()=>y,qq:()=>T})}},Bn=>{Bn(Bn.s=1039)}]);